!function(){var s=function(n,t){var r,e,o=function n(t,r){try{var e=t.frames}catch(n){}if(e){(r=r||[]).push(t);for(var o=0;e&&o<e.length;o++)n(t.frames[o],r)}return r}(window.top);for(r=o.length;r--;)try{if((e=o[r])&&(e=e[n])&&(e=e.shared))return e}catch(n){}return window[n].shared=t};function t(n,t,r){n.addEventListener?n.addEventListener(t,r,!1):n.attachEvent&&n.attachEvent("on"+t,r)}function e(n,t,r){n.removeEventListener?n.removeEventListener(t,r,!1):n.detachEvent&&n.detachEvent("on"+t,r)}var o=function(n){try{return n()}catch(n){}};var r=function(n){for(var t,r,e=window;e;){if(o(function(){return e.frames[n]})){t=e;break}if(e===i)break;e=e.parent}return t&&(r=!o(function(){return!!t.document.getElementById})),{frameRef:t,isCrossDomain:r}},i=window.top;var a=function(){return s("Adform",{}).us_privacy};window.Adform=window.Adform||{};var n=window.__uspapi,d=r("__uspapiLocator"),u=d.frameRef,d=d.isCrossDomain;function c(n){n=void 0===n?{}:n,s("Adform",{}).us_privacy=n.uspString}d&&u&&u.postMessage?(t(window,"message",function n(t){var r=t.data;"string"==typeof r&&(r=o(function(){return window.JSON.parse(r)}));r=r&&(r.__uspapiReturn||{});r&&r.success&&(e(window,"message",n),c(r.returnValue))}),u.postMessage({__uspapiCall:{command:"getUSPData",version:1,callId:1}},"*")):u&&!d&&u.__uspapi&&(n=u.__uspapi),n&&o(function(){return n("getUSPData",1,c)});var p,f,v=window.setTimeout,g=1,w=[],m=[],u=window.Adform=window.Adform||{};function _(i,n,t){n=void 0===n?1e4:n,t=void 0!==t&&t,l(),p||window.__tcfapi?((t?m:w).push(i),h(),v(function(){var n=[E(w,i),E(m,i)],t=(o=s("Adform",{})).gdpr,r=o.gdpr_consent,e=o.adform_consent,o=o.us_privacy;-1<n[0]&&w.splice(n[0],1)[0]({gdpr:t,gdpr_consent:r,adform_consent:e,us_privacy:o}),-1<n[1]&&m.splice(n[1],1)[0]({gdpr:t,gdpr_consent:r,adform_consent:e,us_privacy:o})},n)):i(null,"CMP not found.")}function l(){var n;return p||(n=r("__tcfapiLocator")).frameRef&&(p=n.frameRef,f=n.isCrossDomain),1}function h(){var n;f&&p&&p.postMessage?(n=window.__tcfapi,e(window,"message",A),t(window,"message",A),p.postMessage({__tcfapiCall:{command:"addEventListener",callId:g++}},"*")):n=(p&&!f?p:window).__tcfapi,n&&o(function(){return n("addEventListener",null,y)})}function A(n){var t=n.data;(t=(t="string"==typeof t?o(function(){return window.JSON.parse(t)}):t)&&(t.__tcfapiReturn||{}).returnValue)&&null!=t.gdprApplies&&y({gdprApplies:(n=t).gdprApplies,tcString:n.tcString,purpose:n.purpose,vendor:n.vendor,restrictions:n.restrictions,eventStatus:n.eventStatus})}function y(n){if("cmpuishown"!==(n=void 0===n?{}:n).eventStatus){var t,r,e,o=S(n.gdprApplies),i=s("Adform",{});if(i.gdpr=o,i.gdpr_consent=n.tcString,(o=!(!n.purpose||!n.vendor)||0===o)&&(n=(e=n).gdprApplies,t=C(e,"purpose.consents.1",!1),r=C(e,"vendor.consents.50",!1),e=C(e,"restrictions.1.50",1),n=0===S(n)||t&&r&&0!==e,i.adform_consent=n),n=i.gdpr,t=i.gdpr_consent,void 0!==(i=i.adform_consent)&&o)for(;m.length;)m.shift()({gdpr:n,gdpr_consent:t,adform_consent:i});for(;w.length;)w.shift()({gdpr:n,gdpr_consent:t,adform_consent:i})}}function S(n){return"1"==n?1:"0"==n?0:void 0}function E(n,t){var r=n.length;if(n.indexOf)return n.indexOf(t);for(;r--&&n[r]!==t;);return r}function C(n,t,r){t=t.split(".");for(var e=0;e<t.length;e++)if(void 0===(n=n[t[e]])){n=r;break}return n}u.getConsent=function(){h();var n=s("Adform",{});return{gdpr:n.gdpr,gdpr_consent:n.gdpr_consent,us_privacy:n.us_privacy}},u.waitForConsent=_,u.hasConsent=function(t){_(function(n){t(null===n||n.adform_consent)},1e4,!0)},u.getUSPString=a,l(),s("Adform",{}),h();for(var L=Array.prototype.slice,R={},k={init:function(n,t){R.token=n,R.baseUrl=t||"https://dmp.adform.net/audiencetag"},cookieSegments:function(e){var o=R.baseUrl+"/cookiesegments?token="+R.token;_(function(n){var t,r;n&&(o+="&gdpr="+D(n.gdpr)+"&gdpr_consent="+D(n.gdpr_consent)),(n=a())&&(o+="&us_privacy="+n),n=o,t=e,(r=new window.XMLHttpRequest).open("GET",n,!0),r.setRequestHeader("Accept","application/json"),r.withCredentials=!0,r.onreadystatechange=function(){r.readyState===window.XMLHttpRequest.DONE&&t(r.status,r.response||r.responseText,r)},r.onerror=function(){return t(null,"Error",r)},r.ontimeout=function(){return t(null,"Timeout",r)},r.send()})}},M=window.AdformAT&&window.AdformAT.q||[];0 in M;)b(M.shift());function T(n){return k[n]&&k[n].apply(null,L.call(arguments,1)),T}function D(n){return void 0===n?"":""+n}function b(n){return T.apply(null,n)}M.push=b,window.AdformAT=T}();

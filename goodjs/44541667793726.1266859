(this.$WP=this.$WP||[]).push(["tV1cF7",(e,t)=>{"use strict";var d,w,z,r,A,N,k,R,i,C,D,a,I,M,W,U,n,u,c,v,s,m,l,j,o,f,g,p;function K(e,t){if(null==e)return{};for(var r,i={},a=Object.keys(e),n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}var b=(e,t)=>{var r=z([]);return n(r.current,t)||(r.current=t),w(e,[r.current])},E=({children:e,value:t})=>{var r=b(()=>t,[t]);return d.createElement(j.Provider,{value:r},e)},V={isRendered:!1,isVisible:!1,isLoaded:!1,isEmpty:!0};function h(r,i,e="",a=!1,n,t=!0){var s,l,o,d,u,c,v,[m,f]=N(null),g=z(null),p=k(e=>{f(e)},[]),b=`slot:${r.replace(/\|/g,"-")}:${i}`,E=A(W)["domainName"],h=A(D),_=(L=r,s=i,o=C(),d=A(j),u=function(e,t){var{userAgentCategory:r,isWebview:i}=A(M);if("MOBILE"===r){if(e.includes("8x8"))return i?"app_external":"web_external";if("adhesion"===t)return"adhesion"}return null}(L,s),l=s,c=(L=L).includes("5x1")||"horizon"===l?"horizon":L.includes("728x90")?"banner":"300x250"===L&&l.startsWith("rail")?"shortRail":l.startsWith("rail")?"rail":null,v=U(s),w(()=>{if(!o)return null;var{adBase:e,ppid:t}=o,r=K(o,["adBase","ppid"]);return Object.assign({},r,{},c&&{fluidType:c},{},u&&{mob_adslot:u},{pos:s},d,{PlusEligible:String(v),adBase:e,ppid:t})},[o,c,u,s,d,v])),[x,y]=N(V),{isLoaded:T,isRendered:P,isVisible:L}=x,l=k(e=>{g.current&&g.current.contentWindow.postMessage(e,E)},[E]),O=null!==_,B=z(!1);B.current=O&&T&&L;var S=w(()=>I(()=>{h&&h.refreshSlot(b)},t?3e4:0),[h,b,t]);return R(()=>{if(P&&m&&(g.current=m.querySelector("iframe"),g.current&&n)){var e=e=>{var t;e.data&&"object"==typeof e.data&&(e.source===(null==(t=g.current)?void 0:t.contentWindow)||"loadNativeAd"===e.data.cpmMessageType&&e.data.adPos===i)&&n(e.data)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}},[P,m,n,i]),R(()=>{B.current&&S()},[S,e,B]),R(()=>{if(m&&O&&h&&_){var e=h.createSlot({id:b,elem:m,size:r,position:i,targeting:_,aboveTheFold:a})["addEventListener"],t=e(t=>{y(e=>Object.assign({},e,{},t))});return()=>{h.destroySlot(b),y(V),t()}}},[b,h,m,r,i,_,a,O]),Object.assign({ref:p,id:b,postMessage:l},x)}function _(t,e=""){var[r,i]=N(0);return R(()=>{var e=setInterval(()=>{i(e=>e+1)},t);return()=>clearInterval(e)},[e,i,t]),e+r.toString()}function x(e=""){var[t,r]=N(0);return R(()=>{var e=()=>{"visible"===document.visibilityState&&r(e=>e+1)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),e+t.toString()}function y(){return x()}function T(e){var t=A(a)["setTargeting"],r=b(()=>e,[e]);R(()=>(t(r),()=>t({})),[r,t])}var P=({children:e=null})=>{var t=v()["localize"],r=A(M)["viewportCategory"],{ref:i,id:a,isEmpty:n}=h("320x50","adhesion","",!0),[s,l]=N(!1);R(()=>{var e=!c.get("WP.adhesionDismissed");l(e)},[]);var o=k(()=>{c.set("WP.adhesionDismissed",!0),l(!1)},[]);return"MOBILE"!==r?null:d.createElement(d.Fragment,null,s&&d.createElement("div",{className:"_3snflG74"},!n&&d.createElement("div",{className:"_3gH48itZ"},d.createElement(m,{size:"small",onClick:o,iconName:"times","aria-label":t.string("common_Close")})),d.createElement("div",{id:a,ref:i,className:u("_1m3etSgR",{_2dsjWObm:n})})),(!s||n)&&e)},L=({size:e="300x250|300x600|160x600",position:t="rail1"})=>{var r=A(M)["viewportCategory"],{ref:i,id:e,isEmpty:t}=h(e,t,x(),!1);return"MOBILE"!==r?d.createElement("div",{id:e,className:u("_1upLTbBU","_2U7hOKan",{_1RPpfP6Q:t}),ref:i}):null};function O(e,t){var r=e["size"],i=K(e,["size"]),e=t["size"],t=K(t,["size"]);return l(i,t)&&l(r,e)}var B={mobile:"300x250|8x8",tablet:"728x90",desktop:"728x90"},S=({size:{mobile:e=B.mobile,tablet:t=B.tablet,desktop:r=B.desktop}=B,position:i="inline1",topDivider:a=null,bottomDivider:n=null})=>{var s=A(M)["viewportCategory"],l=x(),r={MOBILE:e,TABLET:t,DESKTOP:r}[s],{ref:s,id:i,isEmpty:l}=h(r||"",i,l,!1);return r?d.createElement(d.Fragment,null,!l&&a,d.createElement("div",{id:i,ref:s,className:u("_1upLTbBU",{_1RPpfP6Q:l})}),!l&&n):null},F={mobile:"300x250|8x8",tablet:"728x90",desktop:"970x250|728x90"},G=({size:{mobile:e=F.mobile,tablet:t=F.tablet,desktop:r=F.desktop}=F})=>{var i=A(M)["viewportCategory"],a=x(),t={MOBILE:e,TABLET:t,DESKTOP:r}[i],{ref:r,id:i,isEmpty:a}=h(t||"","footer",a,!1);return t?d.createElement("div",{id:i,ref:r,className:u("_1upLTbBU",{_1RPpfP6Q:a})}):null},B={mobile:null,tablet:"728x90",desktop:"728x90|970x66"},F=()=>{var e=A(W)["cdnPrefix"],e=e+"/img2/brand_refresh/Tripadvisor_lockup_horizontal.svg";return d.createElement("div",{className:u("_1upLTbBU","_1urGYU6q")},d.createElement("div",{className:"_3pfITqMT"},d.createElement("img",{src:e,alt:"Tripadvisor"})),d.createElement("div",{className:"TmGnT_Qn"},d.createElement(s,{id:"brand_save_money_we_search_200"})))},Q=({children:e=d.createElement(F,null),reserveHeight:t=!0,size:{mobile:r=B.mobile,tablet:i=B.tablet,desktop:a=B.desktop}=B})=>{var n=A(M)["viewportCategory"],s=x(),r={MOBILE:r,TABLET:i,DESKTOP:a}[n],{ref:i,id:a,isRendered:n,isEmpty:s}=h(r||"","header",s,!0);return r?d.createElement("div",{className:u({"_-40dAr8a":t})},t&&n&&s&&e,d.createElement("div",{id:a,ref:i,className:u("_1upLTbBU",{_1RPpfP6Q:n&&s})})):null};return e({useAd:h,useInterval:_,usePageTargeting:T,usePageVisibility:x,useRefreshKey:y}),[()=>{j=r({}),o=i(L),f=i(S,O),g=i(G,O),p=i(Q,O),e({AdTargetingProvider:E,Adhesion:P,FooterAd:g,HeaderAd:p,InlineAd:f,RailAd:o,useAd:h,useInterval:_,usePageTargeting:T,usePageVisibility:x,useRefreshKey:y})},[e=>(d=e.default,w=e.useMemo,z=e.useRef,r=e.createContext,A=e.useContext,N=e.useState,k=e.useCallback,R=e.useEffect,i=e.memo),e=>(C=e.usePageTargeting,D=e.AdServer,a=e.PageTargeting),e=>I=e.default,e=>(M=e.Device,W=e.Environment),e=>U=e.useOptimusAdSlotEligibility,e=>n=e.default,e=>u=e.default,e=>c=e.default,e=>(v=e.useLocalize,s=e.UnsafeLocalize),e=>m=e.CircularButton,e=>l=e.shallowEquals]]},["cDcdfi","5-GvUO","gsKhh7","2R4xv2","kLoEDZ","YwNsO_","jSLlaY","jaCyxS","0DsHEV","7yGKf-","XtxvfD"]]);

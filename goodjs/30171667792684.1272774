BUILD_VERSION="121822";var sCDNLiveUrl=" static.mediafire.com ",pq="";function by(e){return"MC"==e||"Visa"==e||"Disc"==e?(DoShow("cardcode_general"),DoHide("cardcode_amex")):"AmEx"==e?(DoHide("cardcode_general"),DoShow("cardcode_amex")):(DoHide("cardcode_general"),DoHide("cardcode_amex")),!1}function Qe(){var e=document.getElementById("expected_file_size"),t=document.getElementById("expected_downloads"),a=document.getElementById("suggested_plan_text");if(e&&t&&a){if(0==e.value||0==t.value)return!1;DoShow("suggested_plan");t=e.value*t.value;a.innerHTML=t<526133493760?"500 GB / $9 per month":t<1299227607040?"1250 GB / $19 per month":t<5261334937600?"5000 GB / $69 per month":"5000 GB / $69 per month + Additional Bandwidth"}return!1}function pA(e){if(""!=e.value){var t=new String(e.value);if(null==(t=t.substring(0,14)).match(".[0-9]{3}.[0-9]{3}-[0-9]{4}")){if(null==t.match(".[0-9]{2}.[0-9]{3}-[0-9]{4}|.[0-9].[0-9]{3}-[0-9]{4}|.[0-9]{3}.[0-9]{2}-[0-9]{4}|.[0-9]{3}.[0-9]-[0-9]{4}")){for(var a=phoneChar="",o=0;o<t.length;o++)phoneChar=t.substr(o,1),isNaN(phoneChar)||" "==phoneChar||(a+=phoneChar);for(t="",o=0;o<a.length;o++)0==o&&(t+=""),3==o&&(t+="-"),6==o&&(t+="-"),t+=a.substr(o,1)}}else t="("+t.substring(1,4)+") "+t.substring(5,8)+"-"+t.substring(9,13);t!=e.value&&(e.value=t)}}function pG(e){""!=e.value&&null==e.value.match(".[0-9]{3}.[0-9]{3}-[0-9]{4}")&&null!=e.value.match("[0-9]{10}")&&pA(e)}var hi=[["A1","Anonymous Proxy"],["A2","Satellite Provider"],["GB","United Kingdom"],["AD","Andorra"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AN","Netherlands Antilles"],["AO","Angola"],["AP","Asia/Pacific Region"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","Aland Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI","Burundi"],["BJ","Benin"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, The Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cote d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["EU","Europe"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas]"],["FM","Micronesia, Federated States of"],["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran, Islamic Republic of"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","Korea, Democratic People's Republic of"],["KR","Korea, Republic of"],["KW","Kuwait"],["KY","Cayman Islands"],["KZ","Kazakhstan"],["LA","Lao People's Democratic Republic"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libyan Arab Jamahiriya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova, Republic of"],["ME","Montenegro"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Reunion"],["RO","Romania"],["RS","Serbia"],["RU","Russian Federation"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SY","Syrian Arab Republic"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],["TZ","Tanzania, United Republic of"],["UA","Ukraine"],["UG","Uganda"],["AE","United Arab Emirates"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State]"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Vietnam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]],bao=[["US","AA","Armed Forces Americas"],["US","AE","Armed Forces Foreign"],["US","AK","Alaska"],["US","AL","Alabama"],["US","AP","Armed Forces Pacific"],["US","AR","Arkansas"],["US","AS","American Samoa"],["US","AZ","Arizona"],["US","CA","California"],["US","CO","Colorado"],["US","CT","Connecticut"],["US","DC","District of Columbia"],["US","DE","Delaware"],["US","FL","Florida"],["US","FM","Federated States of Micronesia"],["US","GA","Georgia"],["US","GU","Guam"],["US","HI","Hawaii"],["US","IA","Iowa"],["US","ID","Idaho"],["US","IL","Illinois"],["US","IN","Indiana"],["US","KS","Kansas"],["US","KY","Kentucky"],["US","LA","Louisiana"],["US","MA","Massachusetts"],["US","MD","Maryland"],["US","ME","Maine"],["US","MH","Marshall Islands"],["US","MI","Michigan"],["US","MN","Minnesota"],["US","MO","Missouri"],["US","MP","Northern Mariana Islands"],["US","MS","Mississippi"],["US","MT","Montana"],["US","NC","North Carolina"],["US","ND","North Dakota"],["US","NE","Nebraska"],["US","NH","New Hampshire"],["US","NJ","New Jersey"],["US","NM","New Mexico"],["US","NV","Nevada"],["US","NY","New York"],["US","OH","Ohio"],["US","OK","Oklahoma"],["US","OR","Oregon"],["US","PA","Pennsylvania"],["US","PR","Puerto Rico"],["US","PW","Palau"],["US","RI","Rhode Island"],["US","SC","South Carolina"],["US","SD","South Dakota"],["US","TN","Tennessee"],["US","TX","Texas"],["US","UT","Utah"],["US","VA","Virginia"],["US","VI","Virgin Islands"],["US","VT","Vermont"],["US","WA","Washington"],["US","WV","West Virginia"],["US","WI","Wisconsin"],["US","WY","Wyoming"],["CA","AB","Alberta"],["CA","BC","British Columbia"],["CA","MB","Manitoba"],["CA","NB","New Brunswick"],["CA","NL","Newfoundland"],["CA","NS","Nova Scotia"],["CA","NU","Nunavut"],["CA","ON","Ontario"],["CA","PE","Prince Edward Island"],["CA","QC","Quebec"],["CA","SK","Saskatchewan"],["CA","NT","Northwest Territories"],["CA","YT","Yukon Territory"]],pk=0;function dh(e){try{var t=document.getElementById("loadingicon");t&&(t.style.display="none");var a=document.getElementById("pprotected"),o=document.getElementById("passwordmsg");if(!a)return!1;a&&(a.innerHTML="Please enter password to unlock this file."),e&&o&&(o.innerHTML="The password you entered was invalid, please try again!",$("#downloadp").addClass("error")),a.style.display="block"}catch(e){parent.Zi(0,"There was a software exception (#2) while trying to initialize your download.  Please refresh your page and try again.")}}function GetCaptcha(){try{var e=document.getElementById("loadingicon");e&&(e.style.display="none");var t=document.getElementById("captchaprotected");if(!t)return!1;t.style.display="block"}catch(e){parent.Zi(0,"There was a software exception (#3) while trying to initialize your download.  Please refresh your page and try again.")}}function Dy(){fu||hq||Ck(),Ds(ES,"Shared Files")}function pKn(e){return!!pKr&&(pKr=e,!0)}function pKl(){return pKr||!1}void 0===(infosoftglobal=void 0===infosoftglobal?new Object:infosoftglobal).FusionChartsUtil&&(infosoftglobal.FusionChartsUtil=new Object),infosoftglobal.FusionCharts=function(e,t,a,o,n,r,i,s,l,d,c){document.getElementById&&(this.initialDataSet=!1,this.params=new Object,this.variables=new Object,this.attributes=new Array,e&&this.setAttribute("swf",e),t&&this.setAttribute("id",t),a&&this.setAttribute("width",a),o&&this.setAttribute("height",o),i&&this.addParam("bgcolor",i),this.addParam("quality","high"),this.addParam("allowScriptAccess","always"),this.addVariable("chartWidth",a),this.addVariable("chartHeight",o),this.addVariable("debugMode",n=n||0),this.addVariable("DOMId",t),this.addVariable("registerWithJS",r=r||0),this.addVariable("scaleMode",s=s||"noScale"),this.addVariable("lang",l=l||"EN"),this.detectFlashVersion=d||1,this.autoInstallRedirect=c||1,this.installedVer=infosoftglobal.FusionChartsUtil.getPlayerVersion(),!window.opera&&document.all&&7<this.installedVer.major&&(infosoftglobal.FusionCharts.doPrepUnload=!0))},infosoftglobal.FusionCharts.prototype={setAttribute:function(e,t){this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addParam:function(e,t){this.params[e]=t},getParams:function(){return this.params},addVariable:function(e,t){this.variables[e]=t},getVariable:function(e){return this.variables[e]},getVariables:function(){return this.variables},getVariablePairs:function(){var e,t=new Array,a=this.getVariables();for(e in a)t.push(e+"="+a[e]);return t},getSWFHTML:function(){var e="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){var t,a,o,e='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ';for(a in e+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ',t=this.getParams())e+=[a]+'="'+t[a]+'" ';0<(o=this.getVariablePairs().join("&")).length&&(e+='flashvars="'+o+'"'),e+="/>"}else{for(a in e='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',e+='<param name="movie" value="'+this.getAttribute("swf")+'" />',t=this.getParams())e+='<param name="'+a+'" value="'+t[a]+'" />';0<(o=this.getVariablePairs().join("&")).length&&(e+='<param name="flashvars" value="'+o+'" />'),e+="</object>"}return e+='<div style="position:relative; z-index:44; width:'+this.getAttribute("width")+"px; height:"+(this.getAttribute("height")+6)+"px; margin-top: -"+(this.getAttribute("height")+6)+'px;"></div>'},setDataURL:function(e){0==this.initialDataSet?(this.addVariable("dataURL",e),this.initialDataSet=!0):infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id")).setDataURL(e)},setDataXML:function(e){0==this.initialDataSet?(this.addVariable("dataXML",e),this.initialDataSet=!0):infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id")).setDataXML(e)},setTransparent:function(e){(e=void 0===e?!0:e)?this.addParam("WMode","transparent"):this.addParam("WMode","Opaque")},render:function(e){return 1==this.detectFlashVersion&&this.installedVer.major<8?1==this.autoInstallRedirect&&(!!window.confirm("You need Adobe Flash Player 8 (or above) to view the charts. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.")&&void(window.location="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash")):(("string"==typeof e?document.getElementById(e):e).innerHTML=this.getSWFHTML(),document.embeds[this.getAttribute("id")]||window[this.getAttribute("id")]||(window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id"))),!0)}},infosoftglobal.FusionChartsUtil.getPlayerVersion=function(){var t=new infosoftglobal.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var e=navigator.plugins["Shockwave Flash"];e&&e.description&&(t=new infosoftglobal.PlayerVersion(e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&0<=navigator.userAgent.indexOf("Windows CE"))for(var a=1,o=3;a;)try{o++,a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o),t=new infosoftglobal.PlayerVersion([o,0,0])}catch(e){a=null}else{try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=new infosoftglobal.PlayerVersion([6,0,21]);a.AllowScriptAccess="always"}catch(e){if(6==t.major)return t}try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}null!=a&&(t=new infosoftglobal.PlayerVersion(a.GetVariable("$version").split(" ")[1].split(",")))}return t},infosoftglobal.PlayerVersion=function(e){this.major=null!=e[0]?parseInt(e[0]):0,this.minor=null!=e[1]?parseInt(e[1]):0,this.rev=null!=e[2]?parseInt(e[2]):0},infosoftglobal.FusionChartsUtil.cleanupSWFs=function(){for(var e=document.getElementsByTagName("OBJECT"),t=e.length-1;0<=t;t--)for(var a in e[t].style.display="none",e[t])"function"==typeof e[t][a]&&(e[t][a]=function(){})},infosoftglobal.FusionCharts.doPrepUnload&&(infosoftglobal.unloadSet||(infosoftglobal.FusionChartsUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",infosoftglobal.FusionChartsUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",infosoftglobal.FusionChartsUtil.prepUnload),infosoftglobal.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]}),null==Array.prototype.push&&(Array.prototype.push=function(e){return this[this.length]=e,this.length}),infosoftglobal.FusionChartsUtil.getChartObject=function(e){return(-1==navigator.appName.indexOf("Microsoft Internet")?document.embeds&&document.embeds[e]?document.embeds:window.document:window)[e]||document.getElementById(e)};var infosoftglobal,getChartFromId=infosoftglobal.FusionChartsUtil.getChartObject,FusionCharts=infosoftglobal.FusionCharts;void 0===(infosoftglobal=void 0===infosoftglobal?new Object:infosoftglobal).FusionMapsUtil&&(infosoftglobal.FusionMapsUtil=new Object),infosoftglobal.FusionMaps=function(e,t,a,o,n,r,i,s,l,d,c){document.getElementById&&(this.initialDataSet=!1,this.params=new Object,this.variables=new Object,this.attributes=new Array,e&&this.setAttribute("swf",e),t&&this.setAttribute("id",t),(a=a.toString().replace(/\%/,"%25"))&&this.setAttribute("width",a),(o=o.toString().replace(/\%/,"%25"))&&this.setAttribute("height",o),i&&this.addParam("bgcolor",i),this.addParam("quality","high"),this.addParam("allowScriptAccess","always"),this.addVariable("mapWidth",a),this.addVariable("mapHeight",o),this.addVariable("debugMode",n=n||0),this.addVariable("DOMId",t),this.addVariable("registerWithJS",r=r||0),this.addVariable("scaleMode",s=s||"noScale"),this.addVariable("lang",l=l||"EN"),this.detectFlashVersion=d||1,this.autoInstallRedirect=c||1,this.installedVer=infosoftglobal.FusionMapsUtil.getPlayerVersion(),!window.opera&&document.all&&7<this.installedVer.major&&(infosoftglobal.FusionMaps.doPrepUnload=!0))},infosoftglobal.FusionMaps.prototype={setAttribute:function(e,t){this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addParam:function(e,t){this.params[e]=t},getParams:function(){return this.params},addVariable:function(e,t){this.variables[e]=t},getVariable:function(e){return this.variables[e]},getVariables:function(){return this.variables},getVariablePairs:function(){var e,t=new Array,a=this.getVariables();for(e in a)t.push(e+"="+a[e]);return t},getSWFHTML:function(){var e="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){var t,a,o,e='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ';for(a in e+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ',t=this.getParams())e+=[a]+'="'+t[a]+'" ';0<(o=this.getVariablePairs().join("&")).length&&(e+='flashvars="'+o+'"'),e+="/>"}else{for(a in e='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',e+='<param name="movie" value="'+this.getAttribute("swf")+'" />',t=this.getParams())e+='<param name="'+a+'" value="'+t[a]+'" />';0<(o=this.getVariablePairs().join("&")).length&&(e+='<param name="flashvars" value="'+o+'" />'),e+="</object>"}return e},setDataURL:function(e){0==this.initialDataSet?(this.addVariable("dataURL",e),this.initialDataSet=!0):infosoftglobal.FusionMapsUtil.getMapObject(this.getAttribute("id")).setDataURL(e)},setDataXML:function(e){0==this.initialDataSet?(this.addVariable("dataXML",e),this.initialDataSet=!0):infosoftglobal.FusionMapsUtil.getMapObject(this.getAttribute("id")).setDataXML(e)},setTransparent:function(e){(e=void 0===e?!0:e)?this.addParam("WMode","transparent"):this.addParam("WMode","Opaque")},render:function(e){return 1==this.detectFlashVersion&&this.installedVer.major<8?1==this.autoInstallRedirect&&(!!window.confirm("You need Adobe Flash Player 8 (or above) to view the maps. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.")&&void(window.location="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash")):(("string"==typeof e?document.getElementById(e):e).innerHTML=this.getSWFHTML(),document.embeds[this.getAttribute("id")]||window[this.getAttribute("id")]||(window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id"))),!0)}},infosoftglobal.FusionMapsUtil.getPlayerVersion=function(){var t=new infosoftglobal.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var e=navigator.plugins["Shockwave Flash"];e&&e.description&&(t=new infosoftglobal.PlayerVersion(e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&0<=navigator.userAgent.indexOf("Windows CE"))for(var a=1,o=3;a;)try{o++,a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o),t=new infosoftglobal.PlayerVersion([o,0,0])}catch(e){a=null}else{try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=new infosoftglobal.PlayerVersion([6,0,21]);a.AllowScriptAccess="always"}catch(e){if(6==t.major)return t}try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}null!=a&&(t=new infosoftglobal.PlayerVersion(a.GetVariable("$version").split(" ")[1].split(",")))}return t},infosoftglobal.PlayerVersion=function(e){this.major=null!=e[0]?parseInt(e[0]):0,this.minor=null!=e[1]?parseInt(e[1]):0,this.rev=null!=e[2]?parseInt(e[2]):0},infosoftglobal.FusionMapsUtil.cleanupSWFs=function(){for(var e=document.getElementsByTagName("OBJECT"),t=e.length-1;0<=t;t--)for(var a in e[t].style.display="none",e[t])"function"==typeof e[t][a]&&(e[t][a]=function(){})},infosoftglobal.FusionMaps.doPrepUnload&&(infosoftglobal.unloadSet||(infosoftglobal.FusionMapsUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",infosoftglobal.FusionMapsUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",infosoftglobal.FusionMapsUtil.prepUnload),infosoftglobal.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]}),null==Array.prototype.push&&(Array.prototype.push=function(e){return this[this.length]=e,this.length}),infosoftglobal.FusionMapsUtil.getMapObject=function(e){return(-1==navigator.appName.indexOf("Microsoft Internet")?document.embeds&&document.embeds[e]?document.embeds:window.document:window)[e]||document.getElementById(e)};var getMapFromId=infosoftglobal.FusionMapsUtil.getMapObject,FusionMaps=infosoftglobal.FusionMaps,jb=0,nZ=0,ho=0,hp=0,eT=Array(151),gM=0,oA=1,iStretchTimeout=1,eG=75,ff=0,eD=Array(8),ScrollMutex=0,gS=0,hJ=!1,oy=1,gsKey="",ke="",jZ="",oK=0,oL=0;function baQ(){var e=document.getElementById("loadingicon"),t=document.getElementById("loadingicon2");return e&&(e.style.display="block"),t&&(t.style.display="block"),!1}function cJ(){var e=document.getElementById("loadingicon"),t=document.getElementById("loadingicon2");return e&&(e.style.display="none"),t&&(t.style.display="none"),!1}function bas(e,t,a,o){for(eh=0;eh<151;eh++)eT[eh]=0;var n=document.getElementById("imageslidework");if(n)if(baQ(),n.location)n.location="/js/imageloaddata.php?key="+a+"&time="+t+"&quickkey="+e+"&shiftslide="+o+"&r="+aC(5);else{if(!n.src)return!1;n.src="/js/imageloaddata.php?key="+a+"&time="+t+"&quickkey="+e+"&shiftslide="+o+"&r="+aC(5)}return!1}function cK(e,t,a,o,n,r){return 0==o?(cJ(),!1):1!=ScrollMutex&&(gsKey=o,0==jb?(bas(r,n,o,ScrollMutex=1),!1):void((0<hp||0<ho)&&a&&(a.style.display="block",i=document.getElementById("imageprevbutton"),r=document.getElementById("imagenextbutton"),n=document.getElementById("control_overlay_prev"),o=document.getElementById("control_overlay_next"),a=document.getElementById("imageprevdiv"),i&&0<hp&&(i.style.display="block"),r&&0<ho&&(r.style.display="block"),a.innerHTML='<span class="ico16 gotoprev"></span>Prev',n&&0<hp&&(n.className="control_overlay_prev"),o&&0<ho&&(o.className="control_overlay_next"),e&&t&&(e.style.display="block",t.style.display="block",ScrollMutex=1,gM=0,az(document.getElementById("toslide"),1,2,eG-3),az(document.getElementById("toslide"),2,2,eG-2),az(document.getElementById("toslide"),3,2,eG-1),az(document.getElementById("toslide"),4,2,eG),az(document.getElementById("toslide"),5,2,eG+1),az(document.getElementById("toslide"),6,2,eG+2),az(document.getElementById("toslide"),7,2,eG+3),eD[0]=Array(1,45,0,0,1),eD[1]=Array(2,115,0,0,1),eD[2]=Array(3,115,0,0,1),eD[3]=Array(4,115,0,0,1),eD[4]=Array(5,115,0,0,1),eD[5]=Array(6,115,0,0,1),eD[6]=Array(7,45,0,0,1),hJ=!1,aQ()))));var i}function Hh(){var e=document.getElementById("control_overlay_smaller"),t=document.getElementById("control_overlay_larger"),a=document.getElementById("S_thumb"),o=document.getElementById("preview_img");0<o.width&&o.width>("Internet Explorer"==BrowserName()?30:0)?(a=a?parseInt(a.innerHTML):4,e&&4<a&&(e.className="control_overlay_smaller"),t&&a<6&&(t.className="control_overlay_larger")):setTimeout(function(){Hh()},500)}function bbE(){if(1==ScrollMutex)return!1;if((ScrollMutex=1)==gS){if(eG+ff-3<=eG-(hp-2)){if(eT[eG+ff-4]&&eT[eG+ff-5]&&jZ!=eT[eG][0])return jZ=eT[eG][0],ke="",bas(eT[eG+ff][0],eT[eG+ff][1],gsKey,2),!1;if(!eT[eG+ff-2])return ScrollMutex=0,!1}az(document.getElementById("toslide"),0,1,eG+ff-4),ff--;var e=0;eD[e++]=Array(1,115,45,0,1),eD[e++]=Array(7,0,45,0,2),eD[e++]=0,hJ=!0,aQ()}if(2==gS){if(eG+(ho-2)<=eG+ff+3){if(eT[eG+ff+4]&&eT[eG+ff+5]&&ke!=eT[eG][0])return ke=eT[eG][0],jZ="",bas(eT[eG+ff][0],eT[eG+ff][1],gsKey,2),!1;if(!eT[eG+ff+2])return ScrollMutex=0,!1}az(document.getElementById("toslide"),8,2,eG+ff+4),ff++;e=0;eD[e++]=Array(7,115,45,0,1),eD[e++]=Array(1,0,45,0,2),eD[e++]=0,hJ=!0,aQ()}}function dq(){if(1==ScrollMutex)return!1;if(hJ=!(ScrollMutex=1),1==gS){for(document.getElementById("ImageSlideThumb7")&&document.getElementById("toslide").removeChild(document.getElementById("ImageSlideThumb7")),eh=7;(jB=document.getElementById("ImageSlideThumb"+(eh-1)))&&(jB.setAttribute("id","ImageSlideThumb"+eh),!(eh<0));eh--);var e=0;eD[e++]=Array(1,45,0,0,1),eD[e++]=Array(7,45,115,0,2),eD[e++]=0,aQ()}if(2==gS){for(document.getElementById("ImageSlideThumb1")&&document.getElementById("toslide").removeChild(document.getElementById("ImageSlideThumb1")),eh=1;(jB=document.getElementById("ImageSlideThumb"+(eh+1)))&&(jB.setAttribute("id","ImageSlideThumb"+eh),!(6<eh));eh++);e=0;eD[e++]=Array(7,45,0,0,1),eD[e++]=Array(1,45,115,0,2),eD[e++]=0,aQ()}}function aQ(){var e=0;for(eh=0;eD[eh];eh++)1!=eD[eh][3]&&(fB=document.getElementById("ImageSlideThumb"+eD[eh][0]),fB&&(1==eD[eh][4]?eD[eh][2]+30>eD[eh][1]?(fB.style.width=eD[eh][1]+"px",eD[eh][2]=eD[eh][1],eD[eh][3]=1):(fB.style.width=eD[eh][2]+30+"px",eD[eh][2]=eD[eh][2]+30,e=1):2==eD[eh][4]&&(eD[eh][2]-30<eD[eh][1]?(fB.style.width=eD[eh][1]+"px",eD[eh][2]=eD[eh][1],eD[eh][3]=1):(fB.style.width=eD[eh][2]-30+"px",eD[eh][2]=eD[eh][2]-30,e=1))));e?window.setTimeout(aQ,1):(ScrollMutex=0,1==hJ&&dq())}function az(e,t,a,o,n){if(!e)return!1;var r=eT[o],o=document.createElement("div");if(o.setAttribute("id","ImageSlideThumb"+t),o.style.width="0px",o.style.overflow="hidden",o.style.margin="0 2px",o.style.zIndex=0,r?(t=getImageThumbURL(r[0],1,r[2],!1),kY='<a  href="/imageview.php?quickkey='+r[0]+"&thumb="+document.getElementById("S_thumb").innerHTML+'"  class="small_thumbnail" style="z-index: 0;"><img src="',kY+=t+'" border="0"/></a>'):kY='<img src="'+sCDNUrl+'/images/imgerrs/blank.jpg" width="107" height="80" border="0"/>',o.innerHTML=kY,1==a){for(var i=1;!(kW=document.getElementById("ImageSlideThumb"+i))&&i<=8;i++);if(!kW)return!1;e.insertBefore(o,kW)}else e.appendChild(o)}function baN(e,t){if(0==jb&&("next"==e||"prev"==e))return!1;var a,o=document.getElementById("S_quickkey");o&&(a=o.innerHTML);var n,o=document.getElementById("S_thumb");switch(n=o?parseInt(o.innerHTML):4,e){case"next":if(!eT[eG+t])return!1;a=eT[eG+t][0];break;case"prev":if(!eT[eG-t])return!1;a=eT[eG-t][0];break;case"zoomin":n+=t;break;case"zoomout":n-=t;break;default:return!1}document.getElementById("control_overlay");return a&&(e="imageview.php?quickkey="+a+"&thumb="+n,document.location?document.location=e:document.src=e),!1}function Ei(){if(fu||hq){for(var e,t=new Array(["2",gsKey]),a=!1,o=eT.length,n=0;n<o;++n)(e=eT[n])&&(t[t.length]=[1,e[0],2],a=!0);return a?Co(t,akw):void 0}Ck()}function Ho(e){e=e||window.event,(GT=document.getElementById("preview_img"))&&("Internet Explorer"==BrowserName()?(GQ=e.clientY+document.body.scrollTop-90,GR=e.clientX+document.body.scrollLeft+10):(GR=e.pageX+10,GQ=e.pageY-90),Hn(GR,GQ))}function Hn(e,t){(GW=document.getElementById("control_overlay"))&&(e+318>document.width&&(e=document.width-318),t+80>document.height&&(t=document.height-80),GW.style.left=e+"px",GW.style.top=t+"px",GW.style.display="block")}function GS(e){switch(e){case"prev":if("control_overlay_prev"!=document.getElementById("control_overlay_prev").className)return;break;case"next":if("control_overlay_next"!=document.getElementById("control_overlay_next").className)return;break;case"zoomin":if("control_overlay_larger"!=document.getElementById("control_overlay_larger").className)return;break;case"zoomout":if("control_overlay_smaller"!=document.getElementById("control_overlay_smaller").className)return;break;default:return}baN(e,1)}var xT,sCDNUrl,bkA="",identifier="",oz=4e3,eP=null,iG=null,Uploading=!1,UploadFiles=1,jc=0,nj=0,ad1cnt=0,ad2cnt=0,ad3cnt=0,ad4cnt=0,ad5cnt=0,GLB_bMouseMoved=!1,aEi=null,UserLogin=0,UserEmail="n/a",fu=0,hq=0,lB=0,mv=0,jd=0,aOI=15,aSG=100,aPk=500,aTe=5e3,aPs=5,aAR=!1,pZ=null,NB=!1,Oc=null,NH=!1,aja=1,ahP=37,aYk=Array(),iCurrentStatusMessageIndex=-1,wu="all",BE=0,fJ=Array(),qz=0,qr=0,qw="",qt=100,Su=6e3,qB=10,qp=10,qq=0,akN=0,Ug=!1,Ih=0,avf=[],aPopupQueue=[];function aBV(){if("undefined"!=typeof aCH)return aCH;var e=String(window.document.location.hostname).toLowerCase();return"local."==e.substr(0,6)?"local":"dev."==e.substr(0,4)?"dev":"live"}function GetDefaultSubDomain(){if("undefined"!=typeof GLB_sDefaultSubdomain)return GLB_sDefaultSubdomain;var e=aBV();return"live"==e?"www":e}function isLOCALDEV(){return"local"==aBV()}function aBO(){return"dev"==aBV()}function aBA(){return"devtest"==aBV()}function aBY(){return"live"==aBV()}function isSANDBOX(){return"sandbox"==aBV()}function isDESKTOP(){return"desktop"==aBV()}function Py(e,t,a){var o="over"==t;e.addEventListener("OverflowEvent"in window?"overflowchanged":t+"flow",function(e){if(e.type==t+"flow"||0==e.orient&&e.horizontalOverflow==o||1==e.orient&&e.verticalOverflow==o||2==e.orient&&e.horizontalOverflow==o&&e.verticalOverflow==o)return e.flow=t,a.call(this,e)},!1)}function Oz(e,t,a,o){var n,o=o||{},r=document.createEvent("Event");for(n in r.initEvent(t,!("bubbles"in o)||o.bubbles,!("cancelable"in o)||o.cancelable),a)r[n]=a[n];e.dispatchEvent(r)}function PJ(o,e){var t,n,r,i,s,a,l="onresize"in o;l||o.PF||((t=o.PF=document.createElement("div")).className="resize-sensor",t.innerHTML='<div class="resize-overflow"><div></div></div><div class="resize-underflow"><div></div></div>',r=n=0,i=t.firstElementChild.firstChild,s=t.lastElementChild.firstChild,a=function(e){var t=!1,a=o.offsetWidth;n!=a&&(i.style.width=a-1+"px",s.style.width=a+1+"px",t=!0,n=a);a=o.offsetHeight;r!=a&&(i.style.height=a-1+"px",s.style.height=a+1+"px",t=!0,r=a),t&&e.currentTarget!=o&&Oz(o,"resize")},"static"==getComputedStyle(o).position&&(o.style.position="relative",o.PF.OM=!0),Py(t,"over",a),Py(t,"under",a),Py(t.firstElementChild,"over",a),Py(t.lastElementChild,"under",a),o.appendChild(t),a({}));var d=o.OY||(o.OY=[]);-1==d.indexOf(e)&&d.push(e),l||o.addEventListener("resize",e,!1),o.onresize=function(t){d.forEach(function(e){e.call(o,t)})}}function removeResizeListener(e,t){var a=e.OY.indexOf(t);-1<a&&e.OY.splice(a,1),e.OY.length||((a=e.PF)&&(e.removeChild(a),a.OM&&(e.style.position="static"),delete e.PF),"onresize"in e&&(e.onresize=null),delete e.OY),e.removeEventListener("resize",t)}function qA(e,t){return 0<t&&(""!=e&&(!!document.getElementById(e+"1")&&(qz=t,qr=1,qw=e,void setTimeout("qu()",qt+Su))))}function qu(){var e=qr+1;qz<e&&(e=1);var t=document.getElementById(qw+qr),a=document.getElementById(qw+e);return!(!t||!a)&&(t.style.opacity=(qp-1)/10,t.style.filter="alpha(opacity="+10*(qp-1)+")",a.style.opacity=(qq+1)/10,a.style.filter="alpha(opacity="+10*(qq+1)+")",qq+=1,(qp-=1)<=0?(qr=e,qp=10,qq=0,void setTimeout("qu()",qt+Su)):void setTimeout("qu()",qt))}function vB(e){return TRUE}function bdi(){var e=document.getElementById("form_reg");e?e.submit():Zi(0,"Unable to submit registration, please reload page and try again.")}function dW(e){if(!e)return!1;var t=e.split("/");for(eh=0;null!=t[eh]&&eh<10;eh++);if(1<eh--){var a=t[eh].split("?");for(fA=0;null!=a[fA]&&fA<10;fA++);0<fA&&fA--;var o=a[fA].split("&");for(gZ=0;null!=o[gZ]&&gZ<10;gZ++);0<gZ&&gZ--;var n=a[gZ].split("=");for(gy=0;null!=n[gy]&&gy<10;gy++);return 0<gy&&gy--,3<n[gy].length&&n[gy]}return!1}function dO(){dZ(),Zi(3,"Logging off "+(!UserEmail||UserEmail.length<=3?"Trial User":"user '"+UserEmail+"'")+".. Please wait.."),setTimeout("dS();",2e3)}function dG(e){window.location?window.location=e:window.src=e}function pN(e,t){t=document.getElementById(t);if(!t)return!1;t.location?t.location=e:t.src=e}function dS(){var e;iD=document.getElementById("userwork"),aU("mfloggedoff","true",30),iD&&(av(),e="/dynamic/logout.php?rand="+aC(5),document.domain&&"mediafire.com"==document.domain&&(e+="&use_doc_domain=true"),iD.location?iD.location=e:iD.src=e)}function ayb(){var e;iD=document.getElementById("userwork"),aU("mfloggedoff","true",30),iD&&(av(),e="/dynamic/logout.php?type=suspend&rand="+aC(5),iD.location?iD.location=e:iD.src=e)}function baE(e){var t=document.getElementById("sharingmodebrowse"),a=document.getElementById("sharingmodesingle");t&&a&&(1==gY?(a.className="singlefile inset-box",t.className="browsable_selected inset-box"):(a.className="singlefile_selected inset-box",t.className="browsable inset-box"));t=document.getElementById("pagename");t&&"myfiles"==t.value&&1!=e&&RenderMyFiles(er,eN)}function bbs(e,t){return pZ&&clearTimeout(pZ),pZ=setTimeout(av,e),"function"==typeof t&&setTimeout(sk(this,t),e),!1}function av(e){return pZ&&clearTimeout(pZ),gm=document.getElementById("statusmessage"),EW=document.getElementById("statusmessage_text"),0==aAR?(gm&&$(gm).fadeOut(100),EW&&(EW.innerHTML="")):(aAR=!1,gm&&$(gm).fadeOut(100),"function"==typeof e&&e()),!1}function Zi(e,t,a,o,n){if(window!==parent)try{if(parent.Zi)return parent.Zi(e,t,a,o,n)}catch(e){return void QS("Message",t,[["OK"]])}if(am=document.getElementById("statusmessagebox"),bad=document.getElementById("statusmessageboxtext"),gm=document.getElementById("statusmessage"),EW=document.getElementById("statusmessage_text"),a=a||"",o=o||!1,n=n||function(){return av(),!1},window.focus(),am&&bad)$(am).fadeIn(100),am.className=a,bad.innerHTML=t;else{if(!gm||!EW)return!1;switch($(gm).fadeIn(100),gm.className=a,EW.innerHTML=t,aAR=!0,e){case 0:bbs(5e3,n);break;case 1:bbs(1e4,n);break;case 2:bbs(15e3,n);break;case 3:break;default:av(n)}var r=!0;if(!0===o)for(var i=gm.getElementsByTagName("DIV"),s=0,l=i.length;s<l;s++)"dismiss_message_div"==i[s].id&&(r=!1);!0===r?(DoShow("dismiss_message_div"),gm.onclick=n,gm.style.cursor="pointer"):(gm.onclick=null,gm.style.cursor="default",DoHide("dismiss_message_div"))}return!1}function OD(e){if(window.localStorage&&window.JSON){if(e=e||0,document.getElementById("status-message-bucket")&&document.getElementById("status-message-bucket").value)wu=document.getElementById("status-message-bucket").value;else{if(e++<3)return setTimeout(function(){OD(e)},500),!1;wu=document.location.pathname||"all"}var t=JSON.parse(localStorage.getItem("StatusMessagesQueue-"+UserEmail+"-"+wu));"object"==typeof t&&t instanceof Array&&(aYk=t,OG(),0<aYk.length&&(iCurrentStatusMessageIndex=aYk.length-1,fJ=aYk[iCurrentStatusMessageIndex],nX()))}}function Qn(){window.localStorage&&window.JSON&&localStorage.setItem("StatusMessagesQueue-"+UserEmail+"-"+wu,JSON.stringify(aYk))}function Re(){aYk=[],vl(),window.localStorage&&window.JSON&&localStorage.clear()}function OJ(){akE=document.width<600?1:document.width<900?2:document.width<1300?3:document.width<1800?4:document.width<2400?5:6,aja!=akE&&(aja=akE,nX())}function ND(e){return Oc&&clearTimeout(Oc),Oc=setTimeout(function(){NH?ND(100):vl()},e),!1}function Qi(e){var t=Math.floor(((new Date).getTime()-e)/1e3);if(t<7)return"Just now";if(t<60)return t+" second"+(1<t?"s":"")+" ago";if(t<3600)return(a=Math.round(t/60))+" minute"+(1<a?"s":"")+" ago";if(t<86400){var a,e=Math.floor(t/3600);return e+" h and "+(a=Math.round((t-3600*e)/60))+" m ago"}t=Math.floor(t/86400);return t+(1<t?" days":" day")+" ago"}function vl(){return gm=document.getElementById("notify_main"),gm&&Pn(),!1}function PB(){Pa(),(-1<iCurrentStatusMessageIndex?nX:vl)()}function OP(e,t,a){return aYk[aYk.length]=Array(e,t,a,(new Date).getTime()),OG(),iCurrentStatusMessageIndex=aYk.length-1,fJ=aYk[iCurrentStatusMessageIndex],!0}function OG(){for(var e=0;e<aYk.length;e++)aYk[e][3]<(new Date).getTime()-864e5&&aYk.splice(e--,1);for(;20<aYk.length;)aYk.splice(0,1);Qn()}function Pa(){aYk.splice(iCurrentStatusMessageIndex,1),Qn(),(0<iCurrentStatusMessageIndex||0==aYk.length)&&iCurrentStatusMessageIndex--,-1<iCurrentStatusMessageIndex&&(fJ=aYk[iCurrentStatusMessageIndex])}function Pf(){iCurrentStatusMessageIndex<aYk.length-1&&(fJ=aYk[++iCurrentStatusMessageIndex],nX())}function Pe(){0<iCurrentStatusMessageIndex&&(fJ=aYk[--iCurrentStatusMessageIndex],nX())}function nX(){if(gm=document.getElementById("notify_main"),gm)if(fJ&&fJ[0]){$oStatusTitle=$("#notify_msgtitle"),$oStatusTitleMin=$("#notify_msgtitle_min"),$oStatusBody=$("#notify_msgbody"),$oStatusMessagesCount=$("#notify_msgnumber");var e=document.getElementById("notify_msgscroll");-1==fJ[3]?$oStatusTitle.html(fJ[0]):($oStatusTitle.html(fJ[0]),$oStatusTitle.append('<span class="notify_timestamp"> ('+Qi(fJ[3])+")</span>")),$oStatusBody.html(fJ[1]),gm.className="msg_"+fJ[2]+" msg_size"+aja+(NB?"":" notify_hidden"),gm.style.display="block",$oStatusMessagesCount.html(iCurrentStatusMessageIndex+1),$oStatusTitleMin.html(aYk.length+" recent message"+(1<aYk.length?"s":"")),e.style.display=NB&&-1==fJ[3]?"none":"",NI=!1;e=$oStatusBody.html().split("<br>").length;if(1<e)$oStatusBody.html(jH.innerHTML.split("<br>",2).join("<br>")),2<e&&(NI=!0);else{for($oStatusBody.html($oStatusBody.html().substr(0,800));52<rW($oStatusBody)[1];)$oStatusBody.html($oStatusBody.html().substr(0,$oStatusBody.html().length-40)),NI=!0;NI&&$oStatusBody.html($oStatusBody.html().substr(0,$oStatusBody.html().length-10).replace(/\s[^\s]*$/,""))}NI&&$oStatusBody.append('... <a href="#" onclick="Pv(); return false;">more</a>')}else gm.style.display="none"}function Qv(e){var t;if(e&&e.target)t=e.target;else{if(!window.event||!window.event.srcElement)return;t=window.event.srcElement}"A"!=t.tagName.toUpperCase()&&Pv()}function Pv(){0<aYk.length&&aYk[iCurrentStatusMessageIndex]&&LoadIframeLightbox("/templates/mf_notifications.html",430,185)}function Pn(){azO=document.getElementById("notify_main"),clearInterval(BE);var a=Im(azO);BE=setInterval(function(){var e,t=parseInt(azO.style.bottom||0);try{VT=MFUL.BS.NL()}catch(e){VT=0}t<=VT+((-1==fJ[3]?0:ahP)-a)?(clearInterval(BE),NB=!1,e=-1==fJ[3],ahP=0<aYk.length&&-1<iCurrentStatusMessageIndex?(fJ=aYk[iCurrentStatusMessageIndex],nX(),e?BE=setInterval(function(){var e=parseInt(azO.style.bottom||0);e>=VT?(clearInterval(BE),azO.style.bottom=VT+"px"):azO.style.bottom=e+2+"px"},1):azO.style.bottom=VT+"px",Im(azO)):0):azO.style.bottom=t-2+"px"},1)}function OI(e){window.focus(),azO=document.getElementById("notify_main"),NB=!0,nX();var t=Im(azO);try{VT=MFUL.BS.NL()}catch(e){VT=0}switch(azO.style.bottom=VT+(ahP-t)+"px",clearInterval(BE),BE=setInterval(function(){var e=parseInt(azO.style.bottom||0);try{VT=MFUL.BS.NL()}catch(e){VT=0}e>=VT?(clearInterval(BE),azO.style.bottom=VT+"px"):azO.style.bottom=e+2+"px"},1),e){case 0:ND(5e3);break;case 1:ND(1e4);break;case 2:ND(15e3);break;case 3:break;case 4:ND(100);break;default:vl()}}function aH(e,t,a,o,n){return a=a||"",a=$("<div>"+a+"</div>").html()||"",!!t&&(t=$("<div>"+t+"</div>").html(),"warning"!=n&&"error"!=n&&(n="default"),o?OP(t,a,n):fJ=Array(t,a,n,-1),OI(e),!0)}function opacity(e,t,a,o){e=document.getElementById(e).style;e.opacity=a/100,e.MozOpacity=a/100,e.KhtmlOpacity=a/100,e.filter="alpha(opacity="+a+")"}function opacity_real(e,t,a,o){document.getElementById(e).style;var n=Math.round(o/100),r=0;if(a<t)for(i=t;i>=a;i--)setTimeout("baS("+i+",'"+e+"')",r*n),r++;else if(t<a)for(i=t;i<=a;i++)setTimeout("baS("+i+",'"+e+"')",r*n),r++}function baS(e,t){if(!document.getElementById(t))return!1;t=document.getElementById(t).style;t.opacity=e/100,t.MozOpacity=e/100,t.KhtmlOpacity=e/100,t.filter="alpha(opacity="+e+")"}function aq(e,t,a,o){e.value.length>a?(e.value=e.value.substring(0,a),t.innerHTML=0):t.innerHTML=a-(e.value.length+o),t.style.visibility="visible"}function xp(e,t,a,o,n,r){var i=140,s=!1,l=!1,d=0;return(e="string"==typeof e?document.getElementById(e):e)&&((n=document.getElementById(n))&&n.checked&&(n=document.getElementById(t))&&(i-=String(n.value).length+18,s=!0),d=(l=(n=document.getElementById(a))&&n.checked?!0:l)&&s?Math.min(420,i):s?i:420,e.value.length>d&&(e.value=e.value.substring(0,d)),l&&(n=document.getElementById(o))&&(n.style.visibility="visible",n.innerHTML=420-e.value.length),s&&(n=document.getElementById(r))&&(n.style.visibility="visible",n.innerHTML=i-e.value.length)),!0}function cE(e,t,a){if(!e)return!1;a||0==a||(a=1);var o="";o+=1==lB?"https://www"+aX(t)+".mediafire.com/conv/"+t+a+"g.jpg":"http://www"+aX(t)+".mediafire.com/conv/"+t+a+"g.jpg",e.src=o}function aX(e){return Math.ceil(h2d(e.substring(0,1))/4)}function en(){return"You haven't finished yet!  Please press 'Cancel' to continue."}function aoy(e){$.each(e.split(","),function(e,t){t=t.trim(),$("#header ul.nav li.toptab_"+t).show()})}function aok(e){$.each(e.split(","),function(e,t){t=t.trim(),$("#header ul.nav li.toptab_"+t).hide()})}function aoY(e){$("#header ul.nav li").hide(),aoy(e)}function ap(e){if(0==mv)if(isNaN(e))for(var t=0;t<=12;++t)(a=document.getElementById("toptab_"+t))&&a.className=="toptab_"+e&&($(a).addClass("current"),mv=1);else for(var a,t=0;t<=12;++t)(a=document.getElementById("toptab_"+t))&&e==t&&($(a).addClass("current"),mv=1)}function d2h(e){return e.toString(16)}function h2d(e){return parseInt(e,16)}function aqr(){var e,t,a,o,n,r,i=0,s=new Array,l=aqr.arguments;if(document.getElementsByTagName){for(e=4,o=l.length;e<o;e++)for(t=0,n=(a=document.getElementsByTagName(l[e])).length;t<n;t++)s[i]=a[t],i++;for(e=0,r=s.length;e<r;e++)s[e].className&&(s[e].id==l[1]?1==l[0]?s[e].className=s[e].className==l[3]?l[2]:l[3]:s[e].className=l[2]:1==l[0]&&"none"==l[1]?s[e].className!=l[2]&&s[e].className!=l[3]||(s[e].className=s[e].className==l[3]?l[2]:l[3]):s[e].className==l[2]&&(s[e].className=l[3]))}}function atc(e,t){e&&t&&avf.push(e)}function Tv(e){e=e||0,atO=[],1!=nj&&(nj=1,0==jd&&1!=jc&&(document.getElementById("iframe_linkto1")&&(pN("/templates/linkto/default-337x281-default.php?r="+aC(5)+"&o="+e,"iframe_linkto1"),DoShow("iframe_linkto1"),DoShow("recopy_ads_button1")),document.getElementById("iframe_linkto4")&&(pN("/templates/linkto/default-337x281-default2.php?r="+aC(5)+"&o="+e,"iframe_linkto4"),DoShow("iframe_linkto4"),DoShow("remove_ads_button4")),document.getElementById("iframe_linkto3")&&(pN("/templates/linkto/default-161x601-default.php?r="+aC(5)+"&o="+e,"iframe_linkto3"),DoShow("iframe_linkto3"),DoShow("remove_ads_button3")),document.getElementById("iframe_linkto2")&&(pN("/templates/linkto/default-729x91-default.php?r="+aC(5)+"&o="+e,"iframe_linkto2"),DoShow("iframe_linkto2"),DoShow("remove_ads_button2")),document.getElementById("iframe_linkto7")&&(pN("/templates/linkto/default-300x600-usonly.html?r="+aC(5)+"&o="+e,"iframe_linkto7"),DoShow("iframe_linkto7"),DoShow("remove_ads_button7")),document.getElementById("iframe_linkto8")&&(pN("/templates/linkto/default-337x281-default-audio.php?r="+aC(5)+"&o="+e,"iframe_linkto8"),DoShow("iframe_linkto8"),DoShow("remove_ads_button8")),jd=1))}function ate(e){e=e||0,1!=nj&&(nj=1,0==jd&&1!=jc&&(document.getElementById("iframe_linkto5")&&(pN("/templates/linkto/default-320x50-mobile.php?r="+aC(5)+"&o="+e,"iframe_linkto5"),DoShow("iframe_linkto5"),DoShow("remove_ads_button5")),document.getElementById("iframe_linkto6")&&(pN("/templates/linkto/default-320x50-mobile2.php?r="+aC(5)+"&o="+e,"iframe_linkto6"),DoShow("iframe_linkto6"),DoShow("remove_ads_button6")),jd=1))}function dC(){1==jd&&(document.getElementById("iframe_linkto1")&&(pN("/blank.html","iframe_linkto1"),DoHide("iframe_linkto1"),DoHide("remove_ads_button1")),document.getElementById("iframe_linkto4")&&(pN("/blank.html","iframe_linkto4"),DoHide("iframe_linkto4"),DoHide("remove_ads_button4")),document.getElementById("iframe_linkto2")&&(pN("/blank.html","iframe_linkto2"),DoHide("iframe_linkto2"),DoHide("remove_ads_button2")),document.getElementById("iframe_linkto3")&&(pN("/blank.html","iframe_linkto3"),DoHide("iframe_linkto3"),DoHide("remove_ads_button3")),jd=0)}function change_top_window(e){window.location.href=e}function baV(e){"logout"==e&&aqr(1,"none","prelogin","postlogin","div")}function bah(){var e=document.getElementById("pagename"),t="";if(e){switch(e.value){case"imageview":var a,t=(a=window.location.search.substring(1).split("&"))[0]+"&"+a[1]+"&r="+aC(5);break;case"download":t=(a=window.location.search.substring(1).split("&"))[0];break;case"myfiles":case"about1":case"about2":case"billinghistory":case"myaccount":t="?r="+aC(5)}switch(e.value){case"imageview":dG("/view/"+t);break;case"download":dG("/download.php?"+t);break;case"myfiles":"sharekey="!=(a=window.location.search.substring(1).split("&"))[0].substr(0,9)&&13!=a[0].length&&dG("/myfiles.php"+t);break;case"about1":case"register":dG("/register.php");break;case"registration":dG("/upgrade/?plan=pro");break;case"login":dG("/");break;case"about2":case"myaccount":dG("/myaccount.php"+t);break;case"billinghistory":dG("/myaccount/billinghistory.php"+t);break;case"upload":dG("/"+t);break;case"manageusers":dG("/myaccount/manageusers.php");break;default:dG(window.location.href.replace(/#.*/i,""))}}else dG(window.location.href.replace(/#.*/i,""))}function XP(e,t){var a,o,n="@"==UserEmail||"n/a"==UserEmail?"":UserEmail;e!=n?(a="",a+=""==e?"You are logged out.<br /><br />":"You are logged in as ("+e+").<br /><br />",o=""==n?(a+="Please logout to access your anonymous files.",function(){dZ(),Zi(3,"Logging off user '"+e+"'.. Please wait.."),setTimeout("dS();",2e3)}):(a+="Please login to ("+n+") to continue accessing the current files.",function(){window.location="/login.php?e="+n}),QS("Authentification Error","<b>"+a+"</b>",[["OK"]],o)):parent.aH(0,"Access denied","You do not have permissions to perform the requested operation. ("+t+")",!1,"error")}function cR(){var e=document.getElementById("header_icon_pro_logo");0!=UserLogin?(UserEmail.length<51||UserEmail.slice(0,48),e&&(e.style.display=1<=fu?"":"none"),document.getElementById("upload_create")&&(document.getElementById("upload_create").style.visibility="hidden",document.getElementById("upload_login").style.visibility="hidden",document.getElementById("upload_create").style.display="none",document.getElementById("upload_login").style.display="none")):(e&&(e.style.display="none"),document.getElementById("upload_create")&&(document.getElementById("upload_create").style.visibility="visible",document.getElementById("upload_login").style.visibility="visible"),document.getElementById("reg_emailUL")&&(document.getElementById("reg_emailUL").value="",document.getElementById("reg_passUL").value=""),document.getElementById("reg_email")&&(document.getElementById("reg_pass").value="")),document.getElementById("login_area")&&(document.getElementById("login_area").style.visibility="visible"),DoShow("networks_login_status"),document.getElementById("logged_in_info")&&(document.getElementById("logged_in_info").className="")}function ClipBoardDone(){}function cH(e){var t,a=1;for(t="blank"==e?"_blank":"";a<25;)document.getElementById("alink_"+a)&&(document.getElementById("alink_"+a).target=t),a++}function Wf(e){try{if(null==document.getElementById("mfRandField")){var t=document.createElement("div"),a="_"+aC(5);t.id="mfRandField",t.innerHTML='<input type="hidden" name="'+a+'" id="'+a+'" value="'+db(1e3,5e3)+'"/>',t.style.display="none",document.getElementById(e).appendChild(t)}else for(var o=document.getElementById("mfRandField").childNodes,n=0;n<o.length;n++)"hidden"==o[n].type&&"_"==o[n].id.substr(0,1)&&(document.getElementById(o[n].value).value=db(1e3,5e3))}catch(e){}}function db(e,t){if(e=parseInt(e),(t=parseInt(t))<=e)return 0;t=Math.random()*(t-e);return Math.round(e+t)}function aC(e){for(var t="";0<e;){var a=Math.random();a=(a=parseInt(1e3*a))%26+65,t+=String.fromCharCode(a),e--}return t.toLowerCase()}function handle_upload(e){null==e&&(e=0),""==document.getElementById("file_name0").value?Zi(0,"Please click the 'Browse' or 'Choose' button and select at least one file before clicking the 'Upload File(s) to MediaFire' button"):(identifier=bkA,document.form_upload.action="http://upload.mediafire.com/"+identifier+"p"+e,aqr(1,"none","preupload","progressupload","div"),Uploading=!0,cH("blank"),document.getElementById("form_upload").submit())}function rs(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}),new XMLHttpRequest}function Kl(e,t,a){try{var o=rs();o.open("POST",e,!0),"function"==typeof a&&(o.onreadystatechange=(s=o,l=a,function(){4==s.readyState&&l&&l(200==s.status,s.responseText)}));var n,r=[];for(n in t)r.push(n+"="+encodeURIComponent(t[n]));var i=r.join("&");o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(i)}catch(e){a&&a(!1,null)}var s,l}function mSendDataByPostJSON(e,t,o){Kl(e,t,function(e,t){if(null!==t){try{var a=JSON.parse(t)}catch(e){o&&o(!1,null)}o&&o(e,a)}else o&&o(!1,null)})}function Ko(e,t,a){try{var o=rs();return o.open("GET",e,!0),"function"!=typeof t&&"function"!=typeof a||(o.onreadystatechange=(n=o,r=t,i=a,function(){4==n.readyState&&(200==n.status?"function"==typeof r&&r(n.responseText):"function"==typeof i&&i(n.status,n.responseText))})),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(null),!0}catch(e){}var n,r,i;return!1}function aP(){if("undefined"!=typeof XMLHttpRequest)return eP=new XMLHttpRequest,1;if(window.ActiveXObject)for(var e=["MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp","Microsoft.XMLHttp"],t=0;t<e.length;t++)try{return eP=new ActiveXObject(e[t]),1}catch(e){}return 0}function set_file_name(e,t){var a;if(!t)return!1;if(e&&e.length<11)return!1;if(0!=(a=dW(e)))t.value=a;else{if(!t)return!1;t.value="Uknown_"+aC(5)+".upload"}}function aZd(e,t,a){if(document.getElementById("upload_content")&&document.getElementById("links")&&(e!=UploadFiles||1==t)){document.getElementById("links").selectedIndex=parseInt(e)-1;for(var o=0,n=new Array;o<parseInt(e);)n[o]='<div class="web_uploader_url_table"><span class="webuploadtitle">Enter the URL of the file or image you wish to upload.</span>',1<parseInt(e)?n[o]+='<div class="ul_number" style="display:none">'+(o+1)+"</div>":n[o]+='<div id="filenum_1" name="filenum_1" class="ul_number" style="display:none"></div>',a?(n[o]+='<label>Enter URL of file or image</label><input class="" name="file_name'+o+'" id="file_name'+o+"\" type=\"text\"  size=\"30\" value=\"http://\" OnBlur=\"if (this.value == '') { this.value = 'http://'; this.className = ''; }\" OnFocus=\"if (this.value == 'http://') { this.value = '';  this.className = 'browse'; }\" OnChange=\"set_file_name(this.value,document.getElementById('file_title"+o+"'));\" />",n[o]+='<label>Save As</label><input class="" name="file_title'+o+'" id="file_title'+o+'" type="text"  size="20" value="image.jpg" OnFocus="if (this.value == \'image.jpg\') this.value = \'\'; this.className = \'browse\';"/></div>'):n[o]+='<input class="browse" name="file_name'+o+'" id="file_name'+o+'" type="file"  size="58" /></div>',o++;if(parseInt(e)<=UploadFiles){for(o=parseInt(e);o<10;)document.getElementById("links_html_"+o).innerHTML=" ",o++;if(o=0,t)for(;o<e;)document.getElementById("links_html_"+o).innerHTML=n[o],o++}else for(o=UploadFiles;o<e;)document.getElementById("links_html_"+o).innerHTML=n[o],o++;1==parseInt(e)?(document.getElementById("filenum_1").innerHTML="",document.getElementById("submit_file").src=sCDNUrl+"/images/v4images/buttons/webuploader/upload_file.gif"):(document.getElementById("filenum_1").innerHTML="1",document.getElementById("submit_file").src=sCDNUrl+"/images/v4images/buttons/webuploader/upload_files.gif"),UploadFiles=parseInt(e)}}function aY(e,t,a){var o=new Date;o.setDate(o.getDate()+a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+o.toGMTString())+";path=/"}function aU(e,t,a){var o=new Date;o.setTime(o.getTime()+1e3*a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+o.toGMTString())+";path=/"}function Tf(e,t){document.cookie=e+"="+escape(t)+";path=/"}function aL(e){return 0<document.cookie.length&&(hG=document.cookie.indexOf(e+"="),-1!=hG)?(hG=hG+e.length+1,jN=document.cookie.indexOf(";",hG),-1==jN&&(jN=document.cookie.length),unescape(document.cookie.substring(hG,jN))):""}function baO(e){aY(e,"",-1)}function cI(){var e=0,t=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),[e,t]}function bkD(e,t){return!!window.localStorage&&(t&&Object.keys?-1!==Object.keys(localStorage).indexOf(e):null!==localStorage.getItem(e))}function bgI(e,t){$.getScript(sCDNUrl+"/js/lzstring_"+BUILD_VERSION+".js").done(e).fail(t)}function bgP(e,t){if(window.localStorage)return window.LZString?void(localStorage[e]=window.LZString.compressToUTF16(t)):bgI(function(){bgP(e,t)})}function bhb(e,t){if(!window.localStorage)return!!t&&t(!1);var a=localStorage[e];if(!a)return!!t&&t(!1);if(!window.LZString)return!!t&&bgI(function(){bhb(e,t)},function(){t(!1)});a=LZString.decompressFromUTF16(a);return t?t(a):a}function bml(){var e=document.createElement("p");e.style.width="100%",e.style.height="100%";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="100px",t.style.height="100px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var a=e.offsetWidth,o=e.offsetHeight;t.style.overflow="scroll";var n=e.offsetWidth,e=e.offsetHeight;return a==n&&(n=t.clientWidth),o==e&&(e=t.clientHeight),document.body.removeChild(t),[a-n,o-e]}function acz(){return window.location.protocol+"//"+GLB_fWindowDomain()}function GLB_fShareOrigin(){return("string"==typeof sDefaultShareLinkProtocol?sDefaultShareLinkProtocol+":":window.location.protocol)+"//"+GLB_fWindowDomain()}function GLB_fWindowDomain(){var e=aBV();return(e="live"==e?"www":e)+".mediafire.com"}function aiH(e,t,a){var o={};return t=isNaN(t)?0:t,a=isNaN(a)?0:a,$.browser.msie?(o.top=e.clientY+document.documentElement.scrollTop+a,o.left=e.clientX+document.documentElement.scrollLeft+t):(o.top=e.pageY+a,o.left=e.pageX+t),o}function ajm(e){if(e&&"object"==typeof e){var a=[];return $.each(e,function(e,t){a.push(e)}),a}return[]}function amJ(e,t){var a={},o=t||"";if(e&&"object"==typeof e){var n=ajm(e);for(x=0;x<n.length;x++)a[n[x]]=o||n[x]}return a}function bdF(e,t,a){var o=[],n=0;for(Yt in a=a||0,e)n+=e[Yt].length+a;if(n<=t)return e;var r=t/e.length;for(Yt in e)e[Yt].length<=r?o[Yt]=e[Yt]:o[Yt]=e[Yt].substring(0,Math.max(r-3,0))+"...";return o}function bcv(e,t){return e.length<=t?e:e.substring(0,Math.max(t-3,0))+"..."}function aoF(e){return/^(.)+\@[a-zA-Z0-9]+[a-zA-Z0-9._-]*[\.]{1}[a-zA-Z]+$/.test(e)}function atl(e,t){var a=e.indexOf("@"),o=e.substring(0,a),n=e.substring(a+1),r=n.indexOf("."),i=n.substring(0,r),s=n.substring(r+1),n=i.toLowerCase();return!(!t&&-1!=n.indexOf("mediafire"))&&(-1!=a&&-1!=r&&(!(e.length<4)&&(!(o.length<1)&&(!(i.length<1)&&!(s.length<1)))))}function ayr(e,t,a,o){a=a||function(){},$.ajax({type:"GET",url:"/dynamic/log_promo_click.php?r="+aC(4),dataType:"json",data:{promo:e,ad:t,view_count:o||0,response_format:"json",nocache:Math.round(1e3*Math.random())},success:a.success||a,error:a.error||function(){}})}function GetViewportSize(){var e,t=void 0!==window.innerWidth?(e=window.innerWidth,window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,document.getElementsByTagName("body")[0].clientHeight);return[e,t]}function aj(e,t,a){DoAPopup(e,t,a)}function LoadIframeLightbox(e,t,a,o,n,r,i,s,l,d){var c={};o&&(c.absolute=o),n&&(c.top=n),r&&(c.hideCloseButton=r),i&&(c.queue=i),s&&(c.forceUserAction=s),l&&(c.onLoadCallback=l),d&&(c.transparent=d),blu(e,t,a,c)}function announceLightBox(){try{$("#modal_msg_iframe").on("load",function(){$iframeBody=$("#modal_msg_iframe").contents().find("body"),$iframeBody.attr("aria-live","rude"),document.getElementById("modal_msg_iframe").contentWindow.focus(),$iframeBody.hide().show()})}catch(e){}}function blu(e,t,a,o){function n(){var e=$("#"+i.id),t=$("a.popup-close",e);t.toggle(!i.hideCloseButton),e.show(),announceLightBox(),!i.hideCloseButton&&i.onCloseCallback&&t.one("click",function(){i.onCloseCallback()})}var r,i=$.extend({},{absolute:!1,top:null,hideCloseButton:!1,queue:!1,forceUserAction:!1,onLoadCallback:null,onCloseCallback:null,transparent:!1,delayRender:!1,id:"modal_window_popup",iframe:"modal_msg_iframe"},o),s="uploader_window_popup"===i.id,l=document.getElementById(i.id);!i.onLoadCallback&&!i.delayRender||(r=$("#"+i.iframe))&&(r.off("load"),r.one("load",function(){i.onLoadCallback&&i.onLoadCallback(),i.delayRender&&n()})),"block"==l.style.display&&i.queue?$("#"+i.iframe).attr("src").split("?")[0]!=e&&(r=Array.prototype.join.call(arguments,","),-1===aPopupQueue.indexOf(r)&&aPopupQueue.push(r)):0!=pN(e+(-1<e.indexOf("?")?"&":"?")+"_"+aC(5)+"="+db(1e3,5e3),i.iframe)&&(i.forceUserAction?($("#page_screen").off("click"),document.onkeyup=function(e){return aeV(e),!1}):$("#page_screen").off("click").on("click",function(){i.onCloseCallback&&i.onCloseCallback(),QU()}),$("#"+i.id).hide(),s||(dZ(),$("body").addClass("lightboxActive")),i.transparent&&$("#"+i.id).addClass("transparentBG"),-1!==l.className.indexOf("widget-lightbox")?0<(l=$(".web-widget")).length&&(t=Math.min(t,l.outerWidth()-20),a=Math.min(a,l.outerHeight()-20),mw(i.iframe,t,a)):mw(i.iframe,+t,+a),-1!==e.indexOf("/templates/tos.php")&&$("body").hasClass("mobile-device")&&$("body").addClass("modalMobile"),baq(i.id,t,a,i.absolute,i.top,null,!0),i.delayRender||n())}function DoAPopup(e,t,a,o){dZ(),baq(e,t,a,void 0,void 0,o)}function bfM(e){baj(e)}function ban(e,t,a){baq(e,t,a)}function bag(e){baj(e,!0)}function aem(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{h:t,w:e}}function afp(e,t,a,o,n){var r=aem();bJ=Math.round((r.w-t)/2),bJ<0&&(bJ=0),e.style.left=bJ+"px",o||(n=(o=$(window).scrollTop())+Math.round((r.h-a)/2))<o&&(n=o),e.style.top=n+"px"}function baq(e,t,a,o,n,r,i){var s,l=document.getElementById(e);if(!l)return!1;-1!==l.className.indexOf("widget-lightbox")?(s=$(".web-widget"),$(l),0<s.length&&(l.style.top=Math.max(0,(s.outerHeight()-a)/2)+"px",l.style.left=Math.max(0,(s.outerWidth()-t)/2)+"px",l.style.maxWidth=s.outerWidth(!0)+"px",l.style.width="auto")):$("body").hasClass("modalMobile")?(l.style.width="100%",l.style.height="100%",l.style.top="0",l.style.bottom="0",l.style.left="0",l.style.right="0"):(afp(l,t,a,o,n),l.style.width=t+"px",l.style.height=r?"auto":a+"px",$(window).on("scroll resize",function(){afp(l,t,a,o,n)})),l.style.zIndex="uploader_window_popup"===e?1e3:1007,i||(l.style.display="block",announceLightBox())}function mw(e,t,a){e=document.getElementById(e);if(!e)return!1;w=t,h=a,$("body").hasClass("mobile-device")?(e.style.width="100%",e.style.height="100%"):(e.style.width=w+"px",e.style.height=h+"px")}function baj(e,t){var a;"uploader_window_popup"===e||(e=document.getElementById(e))&&(aZv=$("#page_screen"),aZv.off("click").on("click",QU),document.onkeyup=function(e){27==(window.event&&window.event.keyCode?window.event.keyCode:e.keyCode||e.charCode)&&QU()},e.style.display="none",$("#modal_window_popup").removeClass("transparentBG"),bfZ()||1==t||cU(),"/blank.html"!=$("#modal_msg_iframe").attr("src")&&pN("/blank.html","modal_msg_iframe"),0<aPopupQueue.length&&(a=aPopupQueue.shift().split(",",6),setTimeout(function(){LoadIframeLightbox.apply(this,a)},500)),$("body").removeClass("modalMobile"),$("body").removeClass("lightboxActive"))}function bjM(e,t,a,o){var n=[];t=void 0===t?"/":t,a=void 0===a?document.domain:a,o=void 0===o||o;for(var r=document.cookie.split(";").length,i=document.cookie.split(/; ?/),s=0;s<i.length;s++)for(var l=i[s].split("="),d=0;d<e.length;d++){var c=e[d];if((!o||c.toLowerCase()==l[0].toLowerCase())&&(o||c==l[0])){var f=l[0]+"=;";f+="expires=Thu, 01 Jan 1970 00:00:01 GMT;",f+="domain={d};",f+="path="+t+";",document.cookie=f.replace("{d}",a);f=document.cookie.split(";").length;f<r&&(n.push(c),e.shift(d,1),r=f);break}}return n}function dZ(){var e=document.getElementById("page_screen");e&&!$("#MediaFireStepBlanket:visible").length&&(e.style.display="block",opacity("page_screen",0,65,200))}function cU(){document.getElementById("page_screen")&&(opacity("page_screen",65,0,100),cO())}function cO(){var e=document.getElementById("page_screen");if(!e)return!1;e.style.display="none"}function au(e){return null!=e&&null!=e.options}function at(e){if(au(e)){for(var t=e.options.length-1;0<=t;t--)e.options[t]=null;e.selectedIndex=-1}}function kP(e,t,a,o){var n;null!=e&&null!=e.options&&((n=document.createElement("OPTION")).text=t,n.value=a,n.selected=o,e.options[e.options.length]=n)}function DoHide(e){e=document.getElementById(e);e&&"hide"!=e.className&&(e.className="hide")}function DoShow(e){e=document.getElementById(e);e&&"show"!=e.className&&(e.className="show")}function nd(e){e=document.getElementById(e);e&&e.innerHTML&&(e.innerHTML="")}function al(e){var t,a;(e="string"==typeof e?document.getElementById(e):e)&&e.value&&void 0===e.rH&&(t=function(){a.value="",a.onclick="",a.onblur=""},(a=e).onclick=t,e.onblur=t,e.rH=1)}function aA(e,t){if(e="string"==typeof e?document.getElementById(e):e){var a=e.value.match(/\n/g),e=1;if(a&&(e+=a.length+1),t<e)return!1}return!0}function baD(e){e=document.getElementById(e);return!!e&&"block"==e.style.display}function GetThis(e,t,a,o){o="http://www.myspace.com/Modules/PostTo/Pages/?t="+encodeURIComponent(e)+"&c="+encodeURIComponent(t)+"&u="+encodeURIComponent(a)+"&l="+o;window.open(o)}function LoadJS(e,t,a,o,n){var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r);try{"function"==typeof t&&"function"==typeof a&&0<o&&setTimeout(sk(this,CS,e,t,a,o,void 0,n),200)}catch(e){}}function CS(e,t,a,o,n,r){void 0===n&&(n=0),t()?a():5*o<n?(Ku(3,e),"function"==typeof r&&r()):setTimeout(sk(this,CS,e,t,a,o,n+1,r),200)}function CU(e,t,a){"function"!=typeof e&&(e=function(){}),"function"!=typeof t&&!a&&sCDNUrl&&(t=sk(this,CU,e,!1,!0));var o=sCDNUrl;LoadJS((o=!0===a?"":sCDNUrl)+"/js/templates_"+BUILD_VERSION+".js",function(){return!("undefined"==typeof eH)},e,o?4:10,t)}function aeV(e){e&&e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0)}function JZ(){var e=!1;try{e="function"==typeof window.FileReader}catch(e){}return e}function Ty(){var e=!1;try{e="draggable"in document.createElement("span")}catch(e){}return e}function LU(){return!(!JZ()||!Ty()||apB())||"Mac"==lc()&&"Safari"==BrowserName()&&!apB()}document.onkeyup=function(e){27==(window.event&&window.event.keyCode?window.event.keyCode:e.keyCode||e.charCode)&&QU()},function(e){var t=navigator.userAgent.toLowerCase();e.browser=e.browser||{version:(t.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(t),opera:/opera/.test(t),msie:/msie/.test(t)&&!/opera/.test(t),mozilla:/mozilla/.test(t)&&!/(compatible|webkit)/.test(t)},e.fn.attr=e.fn.attr||e.fn.prop}(jQuery),void 0===sCDNUrl&&(sCDNUrl=""),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.multiSort=function(e){for(var t=0,a=this.length;t<a;t++){var o=this[t].splice(e,1);this[t].unshift(o)}return"function"==typeof this.sort?this.sort():[]},function(){try{jQuery(window).resize(OJ)}catch(e){}OJ(),OD()}(),window.HideAPopupPar=function(e){bfM(e)},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},String.prototype.stripTags=function(){return this.replace(/<\/?[^>]+>/gi,"")},window._syncUploads=function(o,a,e){var n,r,i,s,l,d=e?e.split("/").length-1:-1;$.each(window.tH.aca,function(e,t){t.quickkey&&t.quickkey===a&&(n=e)}),d<1&&((r=window.tH.folders.yx(o))&&a&&(i=new window.tH.Cp(a,r),s=!1,window.tH.sh=!0,l=function(e,t,a){window.tH.files.Yx(e.quickkey,e),a||t.file_count++,window.tH.folders.Yx(t.folderkey,t),aHa&&aHa.aIX&&(aHa.aIX(t.folderkey),o!=t.folderkey&&aHa.aIX(o)),-1==d&&(aqG(),$.publish("file/upload",[e,n?"update":"new"])),window.tH.sh=!1},i.Yw(function(e){var t=e.response&&e.response.file_info.parent_folderkey;i.parent=r,0==d&&t&&((e=window.tH.folders.yx(t))?(r=e,i.parent=r):(r=new window.tH.yJ(t,r),i.parent=r,s=!0,r.Yw(function(){aoQ(r),r.file_count=1,l(i,r,!0)}))),s||l(i,r)})));try{gtag("event","upload")}catch(e){}try{window.sendinblue.track("UPLOAD")}catch(e){}};var uploaderOptionsCache=null;function GLB_getUploaderOptions(e,t){if(uploaderOptionsCache)return t(!0,uploaderOptionsCache);var a=0,o=0,n=e&&e.length?e.length:0;if(0<n)for(var r=0;r<n;r++){var i=e[r];o+=i.size,i.size>a&&(a=i.size)}var s=new XMLHttpRequest;s.addEventListener("load",function(){try{e=JSON.parse(this.responseText)}catch(e){}if(!e||!e.response)return t(!1);var e=e.response;return(uploaderOptionsCache=e).new_uploader&&(!n||n>=e.threshold_file_count||a>=e.threshold_file_size||o>=e.threshold_total_size)?t(!0,e):t(!1)}),s.open("GET","/application/upload_options.php"),s.send()}function aWj(e,t,a){try{if(!(e.dataTransfer||e.originalEvent.dataTransfer).types.contains("Files"))return}catch(e){}e.stopPropagation(),e.preventDefault();var o={},n="";if(a||void 0===window.tH||void 0===window.tH.folders)if(a){try{o=window.tH.folders.memory[a];if(!avH(o.flag,"1"))if(2!=NZ(o))return void Zi(0,"You do not have permission to upload to this folder.")}catch(e){}n=a}else n="myfiles";else{n=$(e.originalEvent.target).closest(".folder").data("key");if(n?o=window.tH.folders.memory[n]:n=(o=window.tH.currentFolder).folderkey,!avH(o.flag,"1"))if(2!=NZ(o))return void Zi(0,"You do not have permission to upload to this folder.")}n&&($("#folder-"+n).removeClass("folder_highlight"),GLB_fSendToUploader(n,t)),"function"==typeof xf&&xf(o,e)}function GLB_fLoadNewUploader(e,t,a){var o="__UPLOADS__"in window?++window.__UPLOADS__:window.__UPLOADS__=1,n="__UPLOADER:"+o+"__";window[n]={},window[n].config=t,window[n].folder=e,window[n].sizeLimit=t.file_size_limit,a&&0<a.length&&(window[n].files=a),blu("/uploader/?id="+o,780,500,{id:"uploader_window_popup",iframe:"uploader_msg_iframe",forceUserAction:!0,hideCloseButton:!0,delayRender:!0})}var eUploadIframe=$("#uploader_msg_iframe")[0],aUploaderQueue=[],bUploaderActive=!1;function GLB_fIsUploaderLoaded(){return"none"===document.getElementById("uploader_window_popup").style.display?(pN("/blank.html","uploader_msg_iframe"),bUploaderActive=!1):bUploaderActive}function GLB_fInitUploader(e,t,a){bUploaderActive=!1,window.addEventListener("message",function(e){e&&"mf-uploader-init"===e.data?(bUploaderActive=!0,GLB_fPushUploads()):!fu&&e&&"mf-filesize-limit"===e.data&&(window.FileLimitUpsellLightbox&&window.FileLimitUpsellLightbox.showUpsell(),document.getElementById("uploader_window_popup").style.display="none")},!1),GLB_fLoadNewUploader(e,t,a)}function GLB_fPushUploads(){for(var e=0;e<aUploaderQueue.length;e++){var t=aUploaderQueue[e];t&&eUploadIframe.contentWindow.postMessage({event:"add",folder:t[0],files:t[1]},"*")}aUploaderQueue=[]}function GLB_fSendToUploader(a,o){GLB_getUploaderOptions(o,function(e,t){return t.new_uploader_messaging?GLB_fIsUploaderLoaded()?(o&&o.length&&aUploaderQueue.push([a,o]),!aUploaderQueue.length&&bUploaderActive?eUploadIframe.contentWindow.postMessage({event:"prompt"},"*"):bUploaderActive?GLB_fPushUploads():void 0):GLB_fInitUploader(a,t,o):GLB_fLoadNewUploader(a,t,o)})}function biM(e,t,o){var n=[],r=0;function i(e){console.error("error code: "+e.code)}function s(e,t){function a(){r++,e.readEntries(function(e){e.length?(o=o.concat(Array.prototype.slice.call(e||[],0)),r--,a()):(o.sort(),r--,t(o))},i)}var o=[];a()}var a=[],l=!1;if(e)for(var d=0;d<e.length&&e[d].webkitGetAsEntry;d++)a[d]=e[d].webkitGetAsEntry(),a[d]&&a[d].isDirectory&&(l=!0);l?function e(t){for(t<=0&&o(n),d=0;d<t.length;d++){var a;t[d]&&(t[d].isDirectory?s(t[d].createReader(),e):((a=t[d].fullPath.slice(1).split("/")).pop(),a=a.join("/"),r++,t[d].file(function(e){r--,e.MFRelativePath=a+"/"+e.name,n.push(e),r<=0&&o(n)},i)))}}(a):o(t)}var wK,vc=[];function LT(e,t,a,o,n,r,i){var s,l,d,c,f;function u(t,a){return function(e){try{if(!(e.dataTransfer||e.originalEvent.dataTransfer).types.contains("Files"))return;if($("#container").hasClass("trashMode"))return}catch(e){}e.stopPropagation(),e.preventDefault(),"function"==typeof a&&a(t,e)}}LU()&&!apB()&&($("body").addClass("html5"),(f="string"==typeof(f=e)?document.getElementById(e):f)&&(Me(f),d=a,s=function(e){try{if(!(e.dataTransfer||e.originalEvent.dataTransfer).types.contains("Files"))return;if($("#container").hasClass("trashMode"))return}catch(e){}e.stopPropagation(),e.preventDefault(),"function"==typeof d&&(-1!=navigator.userAgent.indexOf("Chrome")?setTimeout(function(){d(l,e)},1):d(l,e))},e=u(l=t,o),o=u(t,n),c=t,t=function(a){a.stopPropagation(),a.preventDefault();var e=a.originalEvent.dataTransfer.files,t=a.originalEvent.dataTransfer.items||null;!$("#container").hasClass("trashMode")&&0<e.length&&biM(t,e,function(t){aXY(function(e){aWj(a,t,c)},t)})},i?jQuery(f).bind({draghoverover:a,dragover:e,draghoverout:n,drop:t}):jQuery(f).bind({dragenter:s,dragover:e,dragleave:o,drop:t}),(f=vc[f.id]=[]).dragenter=s,f.dragover=e,f.drop=t))}function Me(e){var t=e;if(t="string"==typeof e?document.getElementById(e):t){if(vc[t.id]){e=vc[t.id];return jQuery(t).unbind({dragenter:e.dragenter,dragover:e.dragover,drop:e.drop}),vc[t.id]=[],!0}return!1}}function Md(e,t){var o;"undefined"==typeof MFUL?(LoadUploader(),setTimeout(sk(this,Md,e,t),200)):(void(o=0)!==t&&(o=MFUL.LZ(t,!0)),(t=MFUL.aUploaders[o]).mAddFilesFromHtml5(e,sk(this,function(e,t){var a=document.getElementById("pagename");!a||"upload"!==a.value&&"myfiles"!==a.value||MFUL.Bq(o),t&&e.IK()},t)))}function lc(){if(navigator&&navigator.platform){if(-1!=navigator.platform.indexOf("Win"))return"Windows";if(-1!=navigator.platform.indexOf("Mac"))return"Mac";if(-1!=navigator.platform.indexOf("X11"))return"UNIX";if(-1!=navigator.platform.indexOf("Linux"))return"Linux"}return"Unknown OS"}function akQ(e){blX("Login")}function akT(){$("#headerlogin_tab").find("span").fadeOut(150),$("#main_login").fadeOut(150)}function vQ(e,t){void 0===t&&(t=!1);try{switch(mf=document.getElementById("login_mediafire"),fb=document.getElementById("login_facebook"),tw=document.getElementById("login_twitter"),mft=document.getElementById("login_tab_mediafire"),fbt=document.getElementById("login_tab_facebook"),twt=document.getElementById("login_tab_twitter"),e){case 2:fbt.className="current",fb.className="current",mft.className=1==UserLogin?"login_tab_inactive":"",twt.className=wL?"login_tab_inactive":"",mf.className=tw.className="login_hide",bis(function(e){wP(1)});break;case 3:twt.className="current",tw.className="current",mft.className=1==UserLogin?"login_tab_inactive":"",fbt.className=wM?"login_tab_inactive":"",mf.className=fb.className="login_hide",yA(t);break;default:mft.className="current",mf.className="current",fbt.className=wM?"login_tab_inactive":"",twt.className=wL?"login_tab_inactive":"",fb.className=tw.className="login_hide",$("#login_email").focus()}}catch(e){}}function wG(e){(wL=1)==e&&wD(wK),2==e&&(window.location="/register.php?connect=twitter")}function wg(e,t,a,o){(sharediv=document.getElementById("sharediv"+e))&&"hide"==sharediv.className&&(sharediv.innerHTML=Bf(eH[o],a,e,""),sharediv.className="actions"),ae("sharetabsfile"+e+"-",5),Xc(4,document.getElementById("sharetemplatefile"+e),e,"sharedtabsfileinfo"+e+"-"),document.getElementById((1==t?"fb":"tw")+"_share_checkbox"+e).checked=!0,document.getElementById((2==t?"fb":"tw")+"_share_checkbox"+e).checked=!1}function vS(e){document.getElementById("fb_share_checkbox"+e).checked=wM,document.getElementById("tw_share_checkbox"+e).checked=wL}function wP(e,t){for(var a,o=0;a=document.getElementById("facebook_login_"+o);o++)a.style.display=e==o?"inline":"none",(a=document.getElementById("fb_error_step"+o))&&("string"==typeof t&&e==o?(a.innerHTML=t,a.style.display="block"):a.style.display="none")}function wX(e,t){for(var a,o=0;a=document.getElementById("twitter_login_"+o);o++)a.style.display=e==o?"inline":"none",(a=document.getElementById("tw_error_step"+o))&&("string"==typeof t&&e==o?(a.innerHTML=t,a.style.display="block"):a.style.display="none")}var aBG=!1;function bis(e){e=e||jQuery.noop,window.FB?(FB.init({version:FBAPIVersion.slice(0,-1),appId:FBAppId,xfbml:!0,status:!1,cookie:!0,oauth:!0}),e(FB)):$.getScript("//connect.facebook.net/en_US/sdk.js",function(){bis(e)})}function vZ(t){function a(){var e,t;(t=document.getElementById("facebook_app_id"))?(xS=t.value,-1!=String(document.cookie).indexOf("fbsr_"+xS)?(e=document.getElementById("fb_login_action"),t=document.getElementById("facebook_login_form"),e&&t?(e.value="do_login",t.submit()):Zi(2,"Missing form element on page. Please contact support.")):Zi(2,"Facebook cookie not set. Please contact support.")):Zi(2,"Facebook application not set. Please contact support.")}var o;wP(2),t?bis(function(e){e.login(function(e){"connected"==e.status&&a()},{scope:t})}):((o=new Array).push("email"),bis(function(e){e.login(function(e){"connected"==e.status&&a()},{scope:o.join(",")})}))}var beE=!1;function yA(){beE||($("#login_twitter .headerSocialButton").html('<iframe scrolling="no" frameborder="0" style="width: 160px; height: 20px; padding: 6px; float: left;margin-left:28px;" src="//platform.twitter.com/widgets/follow_button.html?screen_name=MediaFire&amp;show_count=true&amp;show_screen_name=false" allowtransparency="true"></iframe>'),beE=!0),wX(1)}function yz(){var e=document.getElementById("tw_login_action"),t=document.getElementById("twitter_login_form");e&&t?(e.value="post_twitter_authorize",t.submit()):Zi(2,"Missing form element on page. Please contact support.")}function wI(e){window.open("/dynamic/client_login/twitter.php?popup_twitter_login=1"+(e?"&callback="+e:""),"twitter_login","scrollbars=0,status=0,width=780,height=410")}function yF(e,t){var a=0;return""!==e&&(a="facebook"===(e=e.toLowerCase()||"")?yO:"twitter"===e?yP:3e4,yQ=function(){"function"==typeof t&&t(),Zi(3,"Authenticating with "+(e.substr(0,1).toUpperCase()+e.substr(1))+" timed out. Please make sure that your browser is not blocking pop-ups.")},setTimeout(sk(this,yQ),a))}var aqY={apA:function(){this.ark=this.aqj(this.aqe)||"An unknown browser",this.aqI=this.arp(navigator.userAgent)||this.arp(navigator.appVersion)||"an unknown version",this.apT=this.aqj(this.aqw)||"an unknown OS"},aqj:function(e){for(var t=0;t<e.length;t++){var a=e[t].abF,o=e[t].prop;if(this.aqq=e[t].apY||e[t].abG,a){if(-1!=a.indexOf(e[t].afF))return e[t].abG}else if(o)return e[t].abG}},arp:function(e){var t=e.indexOf(this.aqq);if(-1!=t)return parseFloat(e.substring(t+this.aqq.length+1))},aqe:[{abF:navigator.userAgent,afF:"Chrome",abG:"Chrome"},{abF:navigator.userAgent,afF:"OmniWeb",apY:"OmniWeb/",abG:"OmniWeb"},{abF:navigator.vendor,afF:"Apple",abG:"Safari",apY:"Version"},{prop:window.opera,abG:"Opera",apY:"Version"},{abF:navigator.vendor,afF:"iCab",abG:"iCab"},{abF:navigator.vendor,afF:"KDE",abG:"Konqueror"},{abF:navigator.userAgent,afF:"Firefox",abG:"Firefox"},{abF:navigator.vendor,afF:"Camino",abG:"Camino"},{abF:navigator.userAgent,afF:"Netscape",abG:"Netscape"},{abF:navigator.userAgent,afF:"MSIE",abG:"Explorer",apY:"MSIE"},{abF:navigator.userAgent,afF:"Gecko",abG:"Mozilla",apY:"rv"},{abF:navigator.userAgent,afF:"Mozilla",abG:"Netscape",apY:"Mozilla"}],aqw:[{abF:navigator.platform,afF:"Win",abG:"Windows"},{abF:navigator.platform,afF:"Mac",abG:"Mac"},{abF:navigator.userAgent,afF:"iPhone",abG:"iPhone/iPod"},{abF:navigator.platform,afF:"Linux",abG:"Linux"}]};function apB(){switch(aqY.ark){case"Explorer":if(aqY.aqI<8)return!0;break;case"Firefox":if(aqY.aqI<4)return!0;break;case"Safari":if(aqY.aqI<5)return!0;break;case"Opera":if(aqY.aqI<11)return!0}return!1}function BrowserName(){return"Microsoft Internet Explorer"==navigator.appName?"Internet Explorer":"Opera"==navigator.appName?"Opera":"Netscape"==navigator.appName?-1<navigator.userAgent.indexOf("Firefox")?"Firefox":-1<navigator.userAgent.indexOf("OPR")?"Opera":-1<navigator.userAgent.indexOf("Chrome")?"Chrome":-1<navigator.userAgent.indexOf("Safari")?"Safari":-1<navigator.userAgent.indexOf("Trident")?"Internet Explorer":"Netscape":navigator.appName}function getInternetExplorerVersion(){var e,t=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))),Math.min(10,t)}function Bm(){var e;switch(BrowserName()){case"Internet Explorer":return getInternetExplorerVersion().toFixed(1);case"Firefox":e="Firefox/";break;case"Safari":case"Opera":e="Version ",navigator.userAgent.indexOf("OPR")&&(e="OPR/");break;case"Chrome":e="Chrome/"}if(e&&null!=new RegExp(e+"([0-9]+(.[0-9]+)*)").exec(navigator.userAgent))return navigator.userAgent.indexOf("Trident")&&"6.0"==RegExp.$1?"10.0":navigator.userAgent.indexOf("Trident")&&"5.0"==RegExp.$1?"9.0":navigator.userAgent.indexOf("Trident")&&"4.0"==RegExp.$1?"8.0":RegExp.$1;return-1}function uy(){return BrowserName()+" "+Bm()}function zl(e,t){(elm=document.getElementById(e))&&(e=elm.width-elm.height,90==t||270==t?"Internet Explorer 8.0"==uy()?elm.style.margin="0px 0px "+e+"px "+e+"px":"Internet Explorer 7.0"==uy()?elm.style.margin="0px":"Opera 10.60"==uy()?elm.style.margin=-e/2+"px 0px "+-e/2+"px 0px":elm.style.margin=e/2+"px 0px "+e/2+"px 0px":elm.style.margin="0px","Internet Explorer 7.0"==uy()&&(elm.width++,elm.width--))}function FP(e,t){if(elm=document.getElementById(e)){var a=isNaN(a=parseInt(elm.className.substr(3)))?0:a,t=(a+("right"==t?90:270))%360;return elm.className="rot"+t,zl(e,t),t}return-1}function yZ(e,t,a){t=FP(e,t);if(-1!=t){(elmframe=document.getElementById("userwork"))&&(a="/dynamic/imagerotation.php?imgkey="+a+"&newrotation="+t+"&nocache="+Math.random(),elmframe.location?elmframe.location=a:elmframe.src=a);try{es[aCurrentOrder[fg-1][0][1]][17]=t}catch(e){}}}function rW(e){var t=e.offsetWidth||0,a=e.offsetHeight||0;if(void 0!==e.childNodes)for(var o=0;o<e.childNodes.length;o++)var n=rW(e.childNodes[o]),t=Math.max(t,n[0]),a=Math.max(a,n[1]);return[t,a]}function Im(e){return e.height||(e.style.height?parseInt(e.style.height):rW(e)[1])}function Io(){var e=window.pageYOffset||(document.documentElement&&document.documentElement.scrollTop?document.documentElement:document.body).scrollTop;if(e!=Ih){var t,a,o,n,r=window.innerHeight||(document.documentElement&&document.documentElement.clientHeight?document.documentElement:document.body).clientHeight;try{if(MFUL)for(var i=0;i<MFUL.aUploaders.length;i++)for(var s=1;s<=7;s++)Iq=MFUL.aUploaders[i].aAb.azc[s].groupDivId,(Ie=document.getElementById(Iq))&&(o=(a=r<(t=Im(Ie))?Math.min(0,Math.max(r-t,parseInt(Ie.style.top)-(e-Ih))):Math.max(0,Math.min(r-t,parseInt(Ie.style.top))))-parseInt(Ie.style.top),Ie.style.top=a+"px",MFUL.aUploaders[i].aAb&&MFUL.aUploaders[i].aAb.qP&&(MFUL.aUploaders[i].aAb.qP.style.top=parseInt(MFUL.aUploaders[i].aAb.qP.style.top)+o+"px"),MFUL.aUploaders[i].qW&&(MFUL.aUploaders[i].qW.style.top=parseInt(MFUL.aUploaders[i].qW.style.top)+o+"px"),MFUL.aUploaders[i].BN&&MFUL.aUploaders[i].BN.wrapperDiv&&(MFUL.aUploaders[i].BN.wrapperDiv.style.top=parseInt(MFUL.aUploaders[i].BN.wrapperDiv.style.top)+o+"px"))}catch(e){}try{(Id=document.getElementById("MediaFireSharePopup"))&&(n=Im(Id)+32,Id.style.top=r<n?Math.min(0,Math.max(r-n,parseInt(Id.style.top)-32-(e-Ih)))+32+"px":Math.max(0,Math.min(r-n,parseInt(Id.style.top)-32))+32+"px")}catch(e){}Ih=e}}function It(){"Internet Explorer"==BrowserName()&&-1<window.location.href.indexOf("#")&&(document.title=Iu,setTimeout(sk(this,function(){document.title=Iu}),200))}function Ku(e,t){}function uS(e,t){for(var a=[],o=t||0,n=e.length;o<n;o++)a.push(e[o]);return a}function sk(t,a){var o=uS(arguments,2);return function(){var e=uS(arguments,0);return a.apply(t,o.concat(e))}}function NQ(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1}function indexOf(e,t){if([].indexOf)return Array.prototype.indexOf.call(e,t);for(var a=0;a<e.length;a++)if(e[a]==t)return a;return-1}function Uf(e,t){e.push(t)}function QO(e){try{return jQuery.browser.msie&&Number(jQuery.browser.version)<8?400:Math.max(450,e.offsetWidth)}catch(e){return 400}}function Qg(e,t,a,o,n,r,i){var s=document.getElementById("input_dialog_div");s||((s=document.createElement("DIV")).id="input_dialog_div",s.className="popup",document.body.appendChild(s));for(var l="",d=" var aResults = Array();",c=null,f=0;t[f];f++)if(t[f][0]){t[f][0]=t[f][0].replace('"',"&quot;").replace("'","\\'"),t[f][3]&&"string"==typeof t[f][3]&&(t[f][3]=t[f][3].replace('"',"&quot;")),t[f][5]&&(t[f][5]=t[f][5].replace('"',"&quot;").replace("'","\\'"));var u=t[f][6]?t[f][6].replace('"',"&quot;"):"",p=t[f][5]||"input_dialog_"+t[f][0];switch("function"==typeof a&&(d+=" aResults['"+t[f][0]+"'] = document.getElementById('"+p+"')."+("checkbox"==t[f][2]?"checked":"value")+";"),"checkbox"!=t[f][2]&&"hidden"!=t[f][2]&&(l+="<label>"+(t[f][1]||t[f][0])+"</label>"),t[f][2]){case"textarea":l+='<textarea id="'+p+'" placeholder="'+u+'" name="'+t[f][0]+'" style="margin-bottom: 10px" '+(t[f][4]?'rows="'+t[f][4]+'" ':"")+">"+(t[f][3]||"")+"</textarea>",c=c||p;break;case"checkbox":l+='<input id="'+p+'" type="checkbox" name="'+t[f][0]+'" '+(t[f][3]?'checked="checked" ':"")+' /><span style="color: #777">'+(t[f][1]||t[f][0])+"</span>";break;case"hidden":l+='<input id="'+p+'" type="hidden" name="'+t[f][0]+'" value="'+t[f][3]+'" />';break;case"html":l+=t[f][4];break;default:l+='<input id="'+p+'" type="'+("password"==t[f][2]?"password":"text")+'" placeholder="'+u+'" name="'+t[f][0]+'" style="margin-bottom: 10px; width: 365px;" '+(t[f][4]?'maxlength="'+t[f][4]+'" ':"")+'value="'+(t[f][3]||"")+'" />',c=c||p}}var h='<a href="#" onclick="HideAPopup(\'input_dialog_div\'); return false" class="popup-close"><span style="display: none;">Close Popup</span></a>';h+='<h3 class="popup-title">'+e+"</h3>","object"==typeof o&&o instanceof Array&&(h+='<form action="'+o[0]+'" method="'+(o[1]||"POST")+'" '+(o[2]?'target = "'+o[2]+'"':"")+" onsubmit=\"bfM('input_dialog_div');","function"==typeof a&&(PW=a,h+=d+" return PW(aResults);"),h+='">'),h+='<div class="popup-content">'+l+"</div>",h+='<div class="popup-btns">',"object"==typeof o&&o instanceof Array?h+='<input class="gbtnTertiary" type="submit" value="'+(n||"Submit")+'"><a href="#" onclick="bfM(\'input_dialog_div\'); return false;" class="gbtnPrimary">Cancel</a></div></form>':(h+='<a href="#" onclick="bfM(\'input_dialog_div\');',"function"==typeof a&&(PW=a,h+=d+" PW(aResults);"),h+=' return false;" class="gbtnTertiary">'+(n||"OK")+'</a><a href="#" onclick="bfM(\'input_dialog_div\'); return false;" class="gbtnPrimary">Cancel</a></div>'),s.innerHTML=h,s.style.width="",s.style.height="",s.style.display="block",DoAPopup("input_dialog_div",r||QO(s),i||s.offsetHeight),c&&document.getElementById(c).focus()}function QS(e,t,a,o,n,r){var i=document.getElementById("message_dialog_div");i||((i=document.createElement("DIV")).id="message_dialog_div",document.body.appendChild(i)),i.className="popup "+(r||"");var s='<a href="#" onclick="HideAPopup(\'message_dialog_div\'); return false" class="popup-close"><span style="display: none;">Close Popup</span></a>';s+='<h3 class="popup-title">'+e+"</h3>",s+='<div class="popup-content"><p>'+t+"</p></div>";var l=!1;"function"==typeof o&&(QQ=o,l=!0),s+='<div class="popup-btns">';for(var d=0;a[d];d++){var c=!1;a[d][0]&&(c=a[d][3]?a[d][3]+"();":l?" QQ('"+a[d][0]+"');":"",s+='<a href="javascript:void(0)" class="'+("gbtnPrimary"==a[d][2]?"gbtnPrimary":"gbtnTertiary")+"\" onclick=\"bfM('message_dialog_div');"+c+'">'+(a[d][1]||a[d][0])+"</a>")}i.innerHTML=s+="</div>",i.style.width="",i.style.height="",i.style.display="block",DoAPopup("message_dialog_div",n&&n[0]?n[0]:QO(i),n&&n[1]?n[1]:i.offsetHeight,!0)}function bfZ(){return 0<$("#modal_window_popup.popup").filter(":visible").length}function QU(){try{var e=$(".popup");e.length&&(e.map(aqv),e.find(".close").click(),e.find(".popup-close").click()),$("#modal_window_popup").map(aqv),$("#myfiles_sharing_popup").map(aqv),$("#modal_window_popup").removeClass("transparentBG"),"/blank.html"!==$("#modal_msg_iframe").attr("src")&&pN("/blank.html","modal_msg_iframe")}catch(e){}}function aqv(){this.id&&bfM(this.id)}function SC(e){("connected"===e.status?SF:SD)()}function SF(){var t=0x71aa3a8fee4b;FB.api(FBAPIVersion+"me/likes/"+t,function(e){(void 0===e.data[0]||e.data[0].id!=t?SD:SB)()})}function SB(){jQuery("#mf_like_heading").addClass("hide"),jQuery("#mf_like_box").addClass("hide"),jQuery(".social-follow:not(.myfiles-page)").removeClass("fb")}function SD(){jQuery("#mf_like_heading").removeClass("hide"),jQuery("#mf_like_box").removeClass("hide"),jQuery(".social-follow:not(.myfiles-page)").addClass("fb")}function formatBytes(e){if(0==e)return"0 b";e=Math.log(e)/Math.log(1024);return Math.round(Math.pow(1024,e-Math.floor(e)),0)+" "+["b","KB","MB","GB","TB"][Math.floor(e)]}function debounce(a,o,n){var r;return function(){var e=this,t=arguments;r?clearTimeout(r):n&&a.apply(e,t),r=setTimeout(function(){n||a.apply(e,t),r=null},o||100)}}aqY.apA(),function(o){function e(e){var t,a=this;e.relatedTarget?-1===o(e.relatedTarget).parents().andSelf().index(a)&&o(a).trigger("draghoverover"):setTimeout(function(){(t=o(a).data()).Tl?clearTimeout(t.Tl):o(a).trigger("draghoverover"),t.Tl=null},0)}function t(e){var t,a=this;e.relatedTarget?-1===o(e.relatedTarget).parents().index(this)&&o(this).trigger("draghoverout"):(t=o(this).data()).Tl||(t.Tl=setTimeout(function(){t.Tl=null,o(a).trigger("draghoverout")},o.browser.msie&&o.browser.version<9?50:25))}o.event.special.draghover={setup:function(){o(this).bind({"dragenter.mfdnd":e,"dragleave.mfdnd":t})},teardown:function(){o(this).unbind(".mfdnd")},add:function(t){var e=t.namespace,e=e?"draghoverover."+e+" draghoverout."+e:"draghoverover draghoverout";o(this).bind(e,function(e){e.stopPropagation(),e.over=e.enter=!!e.type.match(/over$/i),e.out=e.leave=!e.over,t.handler.call(this,e)})},remove:function(e){e=e.namespace,e=e?"draghoverover."+e+" draghoverout."+e:"draghoverover draghoverout";o(this).unbind(e)}};var a=o([]);function n(t){a.each(function(){var e=o(this);this===t.target||e.has(t.target).length||e.triggerHandler("clickoutside",[t.target])})}o.event.special.clickoutside={setup:function(){1===(a=a.add(this)).length&&o(document).bind("click",n)},teardown:function(){0===(a=a.not(this)).length&&o(document).unbind("click",n)},add:function(e){var a=e.handler;e.handler=function(e,t){e.target=t,a.apply(this,arguments)}}}}(jQuery),function(t){var a;t.fn.outerHTML=function(){var e=this[0];return e?"string"==typeof(e=e.outerHTML)?e:(a=a||t("<div/>")).html(this.eq(0).clone()).html():null}}(jQuery),function(){var o={};this.tmpl=function e(t,a){t=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj || {}){p.push('"+t.replace(/[\r\t\n]/g," ").replace(/'(?=[^\|]*\|\])/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/\[\|=(.+?)\|\]/g,"',$1,'").split("[|").join("');").split("|]").join("p.push('")+"');}return p.join('');"):o[t]=o[t]||e(document.getElementById(t).innerHTML);return a?t(a):t}}();var sizeOf="function"==typeof Object.keys?function(e){return e?e.constructor==Array?e.length:"object"===(typeof e).toLowerCase()?Object.keys(e).length:0:0}:function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a};function adv(){var e=Array.prototype.slice.call(arguments),t=!1;e.length&&"boolean"==typeof e[0]&&(t=e.shift());var a=e[0],o=GLB_fShareOrigin();return"convkey"==a&&(o=acz()),e.unshift(o||""),t&&(aBO()?e[0]=e[0].replace(/(:\/\/)([^.]+)(\.mediafire)/,"$1dev$3"):e[0]=e[0].replace(/(:\/\/)([^.]+)(\.mediafire)/,"$1www$3")),e.join("/")}function aNy(e){var t="";for(i=0;i<e.length;i++)e.charCodeAt(i)<128?t+=encodeURIComponent(e.charAt(i)):t+=e.charAt(i);return t}function bql(e){return aNy(e.replace(/\s/g,"_").replace(/-+/g,"-").replace(/_+/g,"_"))}function anK(e){var t=-1;try{t=new ActiveXObject(e)}catch(e){t={mj:!0}}return t}function acV(){var e=[{qv:"ShockwaveFlash.ShockwaveFlash.7"},{qv:"ShockwaveFlash.ShockwaveFlash.6"},{qv:"ShockwaveFlash.ShockwaveFlash"}],t=!1;if(navigator.plugins&&0<navigator.plugins.length){var a="application/x-shockwave-flash",o=navigator.mimeTypes;o&&o[a]&&o[a].enabledPlugin&&o[a].enabledPlugin.description&&(t=!0)}else if(-1==navigator.appVersion.indexOf("Mac")&&window.execScript)for(var n=0,r=e.length;n<r;n++)anK(e[n].qv).mj||(t=!0);return t}function aiG(){$(window).height()<=1080?$("body").addClass("wHeightCondensed"):$("body").removeClass("wHeightCondensed"),$(window).width()<=960?$("body").addClass("siteMinWidth"):$("body").removeClass("siteMinWidth")}function aij(e,t,a,o,n){var r=$(e),i=$(t);r.bind("change keyup",function(){"function"==typeof n&&!n.call()||(0<a&&r.val().length>a&&(r.val(r.val().substring(0,a)),r.change()),i.text(a&&o?a-r.val().length:r.val().length))}),r.change()}function avH(e,t){return(parseInt(e)>>parseInt(t))%2}function aMm(e,t){return e|1<<t}function aLG(e,t){return(e>>t)%2!=0}function aMd(e,t){return e&~(1<<t)}function aLf(e,t){return(aLG(e,t)?aMd:aMm)(e,t)}function LoadTemplatesFromSource(){var e={};return $("script.template").each(function(){e[this.id]=window.tmpl(this.id)}).remove(),e}function awS(e,t){e=e&&e.hash?e.hash:e.quickkey;$.ajax({type:"GET",url:"/dynamic/dmca_ticket_quickkey.php?r="+aC(4),dataType:"json",timeout:1e3,data:{quick_key:e,response_format:"json",nocache:Math.round(1e3*Math.random())},success:t.success||t,error:t.error||function(){}})}function ayj(e){e=e.substring(0,1);return parseInt(e,16)+1}function bcY(e){for(var t=e+"";t.length<2;)t="0"+t;return t}function blZ(e){var t="undefined"!=typeof aVl&&aVl||0;t/=3600;"undefined"!=typeof bdk&&bdk||aOr();t=new Date;if(e){e=t.toLocaleString();return"Invalid Date"!=e?e:"Not available"}t={bnT:t.getFullYear()||0,month:bcY(parseInt(t.getMonth())+1)||0,date:bcY(t.getDate())||0,hours:bcY(t.getHours())||0,minutes:bcY(t.getMinutes())||0,seconds:bcY(t.getSeconds())||0};return t.bnT+"-"+t.month+"-"+t.date+" "+t.hours+":"+t.minutes+":"+t.seconds}function bdj(e,t){var a="undefined"!=typeof aVl&&aVl||0;a/=3600;var o="undefined"!=typeof bdk&&bdk||aOr(),a=new Date(new Date(aRR(e)).getTime()+36e5*(o-a));if(t){t=a.toLocaleString();return"Invalid Date"!=t?t:"Not available"}a={bnT:a.getFullYear()||0,month:bcY(parseInt(a.getMonth())+1)||0,date:bcY(a.getDate())||0,hours:bcY(a.getHours())||0,minutes:bcY(a.getMinutes())||0,seconds:bcY(a.getSeconds())||0};return a.bnT+"-"+a.month+"-"+a.date+" "+a.hours+":"+a.minutes+":"+a.seconds}function aRR(e){var t=e.split(" "),e=t[0].split("-"),a="January";switch(e[1]){case"02":a="February";break;case"03":a="March";break;case"04":a="April";break;case"05":a="May";break;case"06":a="June";break;case"07":a="July";break;case"08":a="August";break;case"09":a="September";break;case"10":a="October";break;case"11":a="November";break;case"12":a="December"}return a+" "+e[2]+", "+e[0]+" "+t[1]}function aye(e){acS={},e.parent_chunk||(e.parent_chunk=1),acS.file_count_total=0,acS.folder_count_total=0,e.selected||(acS.selected=!1),acS.bIsCameraUploadFolder=!1,(e.parent&&"myfiles"===e.parent.folderkey||e.parent_folderkey&&"myfiles"===e.parent_folderkey)&&"Camera"===e.name&&(acS.bIsCameraUploadFolder=!0),window.tH.currentFolder.folders[e.folderkey]&&window.tH.currentFolder.folders[e.folderkey].selected&&!0===window.tH.currentFolder.folders[e.folderkey].selected&&(acS.selected=!0),acS.file_count=window.tH.currentFolder.folders[e.folderkey]?window.tH.currentFolder.folders[e.folderkey].file_count:e.file_count||0,acS.file_count_text=acS.file_count_total>e.file_count?"("+(acS.file_count_total-e.file_count)+" in subfolders)":"",acS.folder_count_text=acS.folder_count_total>sizeOf(e.folders)?"("+(acS.folder_count_total-sizeOf(e.folders))+" in subfolders)":"",void 0===e.custom_url&&(acS.custom_url=!1),void 0===e.shared&&(acS.shared=!1),void 0===e.dropbox_enabled&&(acS.dropbox_enabled=!1),void 0===e.owner_name&&(acS.owner_name=""),void 0===e.folder_count&&(acS.folder_count=0),void 0===e.itemrownum&&(acS.itemrownum=""),void 0===e.avatar&&(acS.avatar=""),acS.newclass=!!e.newclass,!e.created&&window.tH.currentFolder.folders[e.folderkey]&&(e.created=window.tH.currentFolder.folders[e.folderkey].created),e.timezone_adjusted||(e.delete_date&&(acS.delete_date=bdj(e.delete_date)),e.created?acS.created=bdj(e.created):acS.created="0000-00-00 00:00:00",acS.timezone_adjusted=!0),acS.delete_date||(acS.delete_date="");e=$.extend(e,acS);return e.folder_class="row_container mf_filecontainer folder cf",e.folder_class+=e.newclass?" new":"",e.folder_class+=" "+e.privacy,e.folder_class+=e.custom_url?" customurl-active":"",e.folder_class+="yes"==e.shared?" collaborate-active":"",e.folder_class+="yes"==e.dropbox_enabled?" dropbox":"",e.folder_class+=e.selected?" file_selected":"",e.folder_class+=void 0!==e.shared_by_user&&1==e.shared_by_user?" sharedByUser":"",e.folder_class+=e.bIsCameraUploadFolder?" cameraUploads":"",e}function ayw(e){return!(!e.status||1!=avH(e.status,15))}function axi(){var e=window.location.hostname;return 0<=e.toLowerCase().indexOf("dev.",0)||0<=e.toLowerCase().indexOf("local.",0)?"dev#":"www#"}function getImageThumbURL(e,t,a,o,n,r){var i;return o=o||!1,i=window.location.protocol+"//",i+=(aBO()||isLOCALDEV()?"dev":"www")+(parseInt(a.charAt(0),16)+1)+".mediafire.com/",aBO()||o?(i+="conversion_server.php?"+a.substr(0,4)+"&doc_type=i&quickkey="+e+"&size_id="+t+(o?"&request_conversion_only=1":""),n&&aEQ.adG&&(i+="&session_token="+aEQ.adG.session_token),r&&(i+="&timestamp="+r)):i+="convkey/"+a.substr(0,4)+"/"+e+t+"g.jpg",i}function aBM(e,t,a,o){var n;return a=a||!1,n=window.location.protocol+"//",n+=(aBO()?"dev":"www")+(parseInt(t.charAt(0),16)+1)+".mediafire.com/",n+="conversion_server.php?"+t.substr(0,4)+"&doc_type=d&quickkey="+e+"&page=1&output=img&size_id="+o,a&&(n+="&request_conversion_only=1&metadata=1"),n}function akl(e,t){var a={};e.parent_chunk||(e.parent_chunk=1);var o=aCf(e);return a.imageSupported="image"===e.filetype&&o,a.previewSupported=1===avH(e.flag,2)&&o,a.editSupported=1===avH(e.flag,4)&&aGe(e),a.fileExtension=-1!==e.filename.indexOf(".")?$.trim(e.filename.substr(e.filename.lastIndexOf(".")+1,4)).toLowerCase():"",a.mimeType=e.mimetype?e.mimetype.replace("/","_"):"",!e.mimetype||"application/pdf"!=e.mimetype&&"application/x-pdf"!=e.mimetype||(a.fileExtension="pdf"),a.dmca=1==avH(e.flag,3)||1==avH(e.flag,0),a.copyright=1==avH(e.flag,5),a.servernum=e.hash?axi().replace("#",ayj(e.hash)):0,a.restricted=1==avH(e.flag,6),a.wordfilterblock=1==avH(e.flag,7),a.fileInfected=1==avH(e.flag,8),a.thumb6ready=!(1!=avH(e.status,6)&&!ayw(e)&&!e.thumb6ready),a.thumb3ready=!!(1==avH(e.status,3)||window.tH.aRK&&window.tH.aRK[e.quickkey]||ayw(e)||e.thumb3ready),a.thumb2ready=!!(1==avH(e.status,2)||window.tH.aRE&&window.tH.aRE[e.quickkey]||ayw(e)||e.thumb2ready),a.thumb1ready=!!(1==avH(e.status,1)||window.tH.aRp&&window.tH.aRp[e.quickkey]||ayw(e)||e.thumb1ready),void 0===e.itemrownum&&(a.itemrownum=""),void 0===e.flag?a.shared=!1:a.shared=0==avH(e.flag,1),a.newclass=!!e.newclass,a.imgpath_0g="",a.imgpath_1g="",a.imgpath_2g="",a.imgpath_3g="",e.hash&&(a.previewSupported&&"image"!=e.filetype?(a.imgpath_1g="conversion_server.php?"+e.hash.substr(0,4)+"&doc_type=d&quickkey="+e.quickkey+"&page=1&output=img&size_id=2",a.imgpath_2g="conversion_server.php?"+e.hash.substr(0,4)+"&doc_type=d&quickkey="+e.quickkey+"&page=1&output=img&size_id=1",a.imgpath_3g="conversion_server.php?"+e.hash.substr(0,4)+"&doc_type=d&quickkey="+e.quickkey+"&page=1&output=img&size_id=0"):(a.imgpath_0g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"0g.jpg",a.imgpath_1g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"1g.jpg",a.imgpath_2g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"2g.jpg",a.imgpath_3g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"3g.jpg")),e.delete_date?(a.parent_name="Trash",a.parent_folderkey="trash",a.clickLink="#trash",a.onClickLink="void(0); return false;"):a.previewSupported&&"image"==e.filetype?(e.parent.folderkey&&""!=e.parent.folderkey&&"myfiles"!=e.parent.folderkey?a.clickLink=adv("view",e.quickkey,Encoder.XSSEncode(aNy(e.filename))):afQ?afI?a.clickLink=adv("view",afI,"gallery#"+e.quickkey):a.clickLink=adv("view",e.quickkey,Encoder.XSSEncode(aNy(e.filename))):((o=tH.folders.yx(e.parent_folderkey))&&e.parent_folderkey&&o.name,a.clickLink=adv("view",e.quickkey,Encoder.XSSEncode(aNy(e.filename)))),a.onClickLink=""):(a.previewSupported?a.onClickLink="fFileChoicePopup.open('"+e.quickkey+"');":a.onClickLink="window.MYF_DirectDownload({files: ['"+e.quickkey+"']});",a.onClickLink+=" return false;",a.clickLink=agW(e),"https:"===window.location.protocol&&(a.clickLink=a.clickLink.replace(/^http\:/i,"https:"))),e.selected||(a.selected=!1),window.tH.currentFolder.files[e.quickkey]&&window.tH.currentFolder.files[e.quickkey].selected&&!0===window.tH.currentFolder.files[e.quickkey].selected&&(a.selected=!0),t&&t.axn&&e.size&&!isNaN(parseInt(t.axn))&&parseInt(e.size)>parseInt(t.axn)&&(a.imgpath_0g="images/imgerrs/31-0.jpg",a.imgpath_1g="images/imgerrs/31-1.jpg",a.imgpath_2g="images/imgerrs/31-2.jpg",a.imgpath_3g="images/imgerrs/31-3.jpg"),a.showicon=!0,a.showthumb=!1,a.previewSupported&&(t=0,!$("#myfiles_wrap").hasClass("sizeS")&&"S"!=aL("mfsize")||(t=1),!$("#myfiles_wrap").hasClass("sizeM")&&"M"!=aL("mfsize")||(t=2),!$("#myfiles_wrap").hasClass("sizeL")&&"L"!=aL("mfsize")||(t=3),1!=a["thumb"+(t=$("#myfiles_wrap").hasClass("listView")?0:t)+"ready"]&&"image"!=e.filetype||(a.showthumb=a["imgpath_"+t+"g"],a.showicon=!1)),a.showThumbnail=!!aCf(e),a.isDocument=!!aCz(e),a.docThumbnail=1==a.isDocument&&1==a.showThumbnail?aBM(e.quickkey,e.hash):"",e.timezone_adjusted||(e.delete_date&&(a.delete_date=bdj(e.delete_date)),a.created=bdj(e.created),a.timezone_adjusted=!0),a.delete_date||(a.delete_date=""),e.downloads||(a.downloads=0),$.extend(e,a)}function aoZ(e){var t={};return t.previewSupported="image"!==e.filetype&&aCf(e),t.shareUrl=agW(e),e.previewurl&&(t.shareUrl=e.previewurl),e.hash||(e.hash=""),t.imageViewUrl=t.shareUrl,t.imageUrl=adv(!0,"convkey",e.hash.substr(0,4),e.quickkey+"4g.jpg"),t.imageUrl=t.imageUrl.replace(/^http:/i,"https:"),t.encodedImage=Encoder.htmlEncode('<a href="'+t.imageViewUrl+'" target="_blank"><img src="'+t.imageUrl+'" border="0" alt="Simple, Free Image and File Hosting at MediaFire" /></a>'),t.encoded=Encoder.htmlEncode('<a href="'+t.shareUrl+'" target="_blank">'+t.shareUrl+"</a>"),t.urlFile=agW(e,"download"),t.urlImg=adv(!0,"convkey",e.hash.substr(0,4),e.quickkey+"6g.jpg"),t.urlImg=t.urlImg.replace(/^http:/i,"https:"),t.urlI=agW(e),$.extend(e,t)}function aNR(a,o){$("#sharebox").hasClass("premiumUser")||$("#freeOneTimeRemaining").prepend("Free ");function t(){tH.user_info||(tH.user_info={});var e=parseInt(tH.user_info.one_time_key_request_max_count,10),t=0;e&&(t=Math.max(0,e-a),$("#sharebox-onetimedownload #OneTimeRemaining span").html(t)),0==fu&&$("#OneTimeRemaining").show(),(o.one_time_download_error_message||o.links&&o.links[0].one_time_download_error_message)&&($("#sharebox-onetimedownload form").hide(),$("#onetimedownload-error").html(o.one_time_download_error_message).show()),e&&!t&&($("#sharebox-onetimedownload form").hide(),$("#sharebox").hasClass("premiumUser")?($("#sharebox-onetimedownload #proOneTimeExpire span").html(e),$("#sharebox-onetimedownload #proOneTimeExpire").show()):$("#sharebox-onetimedownload #freeOneTimeExpire").show())}tH.user_info&&tH.user_info.one_time_key_request_max_count?t():(new window.tH.Dv).Yw(function(e){e=e.response;e.user_info&&e.user_info.one_time_key_request_max_count&&(tH.user_info?tH.user_info.one_time_key_request_max_count=e.user_info.one_time_key_request_max_count:tH.user_info=e.user_info),t()})}function MYF_fGetOneTimeKey(e){return e.split("?")[1]}function MYF_fGetDefaultOneTimeLink(e,t){return t&&null!==t&&e[t]?e[t]:e.view||(e.watch&&"function"!=typeof e.watch?e.watch:e.download)}function MYF_ConfigHandlerOneTimeDownloadLink(e){var t=24*parseInt($("#sharebox-onetimedownload select").val(),10)*60,a=$('#sharebox-onetimedownload input[name="one_time_email"]').is(":checked");function o(){tH.Cp.MFAPI_ConfigureOneTimeKey(e,{data:{email_notification:a?"yes":"no",duration:t}},{success:function(){try{Zi(0,"Successfully updated 1-Time Download Link!")}catch(e){}}})}$("#sharebox-onetimedownload select").off("change").on("change",function(){t=24*parseInt(this.value,10)*60,o()}),$('#sharebox-onetimedownload input[name="one_time_email"]').off("change").on("change",function(){a=$(this).is(":checked"),o()})}function aLN(e,t,n){var e=new window.tH.Cp(e),r="no",i=24*$("#sharebox-onetimedownload select").val()*60;$('#sharebox-onetimedownload input[name="one_time_email"]').is(":checked")&&(r="yes");e.MFAPI_GetLinks({link_type:"one_time"},{success:function(e){var t,a,o;e.links[0].one_time_key_error_message?(window.av(),window.Zi(0,e.links[0].one_time_key_error_message)):(t="#sharebox-onetimedownload .copy-link",a=MYF_fGetOneTimeKey(e.links[0].one_time.download),o=MYF_fGetDefaultOneTimeLink(e.links[0].one_time,n),$("#one_time_download_link")[0].value=o,aNR(e.one_time_key_request_count,e),window.QC?$("#sharebox-onetimedownload .copy-link").off("click").on("click",function(e){window.QC(o),aeV(e)}):Clipboard.isSupported()?new Clipboard(t[0],{text:function(e){return o}}).on("success",function(e){try{parent.gtag("event","copy_link")}catch(e){}Zi(0,"Copied to Clipboard")}):t.hide(),"yes"!==r&&43200==i||tH.Cp.MFAPI_ConfigureOneTimeKey(a,{data:{email_notification:r,duration:i}},{success:function(){}}),MYF_ConfigHandlerOneTimeDownloadLink(a))},error:function(){t||(window.av(),window.Zi(0,"An unknown error has occurred."))}})}function aNN(e){new window.tH.Cp(e).aNW({data:{get_counts_only:"yes"}},{success:function(e){aNR(e.one_time_key_request_count,e)},error:function(){}})}function apO(e){var t={};return t.shareUrl=agW(e),t.rssUrl=adv("rss.php?key="+e.folderkey),t.encoded=Encoder.htmlEncode('<a href="'+t.shareUrl+'" target="_blank">'+t.shareUrl+"</a>"),$.extend(e,t)}function apX(){return!!(window.tH&&window.tH.Cp&&window.tH.yJ)&&(window.tH.Cp.WF=function(e){e=$.extend({},e);return e.parent=e.parent&&e.parent.folderkey,JSON.stringify(e)},window.tH.Cp.Wm=function(e){e=JSON.parse(e);return new window.tH.Cp(e)},window.tH.yJ.WF=function(e){e=$.extend({},e);return e.parent=e.parent&&e.parent.folderkey,e.folders=$.map($.values(e.folders),function(e){return e.folderkey}),e.files=$.map($.values(e.files),function(e){return e.quickkey}),JSON.stringify(e)},window.tH.yJ.Wm=function(e){e=JSON.parse(e);return new window.tH.yJ(e)},window.tH.folders=new XV("folder",window.tH.yJ.WF,window.tH.yJ.Wm),window.tH.files=new XV("file",window.tH.Cp.WF,window.tH.Cp.Wm),!0)}function R(e,t){var a="";e.files&&0<e.files.length&&(a+="&files="+e.files.join(",")),e.folders&&0<e.folders.length&&(a+="&folders="+e.folders.join(","));e="/widgets/share.php?web=1";t&&(e+="&preemptive=1"),blu(e+a,550,368,{transparent:!0,delayRender:!0})}$(function(){jQuery.fx.interval=22,aiG(),$(window).resize(function(){aiG()})});var CloseSharePopup,aJ={};function ValidateFolderCopyLinkSafe(e){function o(){QU(),QS("Warning","There are private files in this folder. Private files will not be visible if this folder is shared.",[["continue","Continue"],["cancel","Cancel","grey"]],function(e){})}new tH.yJ(e).aEn({data:{content_type:"files",filter:"private",version:APIVERSION}},{success:function(e,t,a){0<t.length?o():e.aEn({data:{content_type:"folder",filter:"private",version:APIVERSION}},{success:function(e,t,a){0<t.length&&o()}.bind(this),error:function(){}},1)}.bind(this),error:function(){}},1)}function CreateSharePopup(s,B){return function(){var _=$("#"+s).popup(),k=_.data("popup"),x=[],H=[],C=[],S={},u={};function e(e){e?_.closest(".popup").addClass("popup-uploader-mode"):_.closest(".popup").removeClass("popup-uploader-mode")}var t,a,o,E=function(e){0!=e.length&&parent.ValidateFolderCopyLinkSafe(e[0].folderkey)}.bind(this);function p(e,t,a,o,n,r,i,s){function l(e,t){acK||t?($("#sharebox").addClass("nonOwner"),$(".share-status-toggle").hide()):($("#sharebox").removeClass("nonOwner"),$(".share-status-toggle").show().text(e?"Enable Link":"Disable Link")),$("#sharebox").removeClass("collabshare collabshare-manage"),e?$("#sharebox").addClass("publicDisabled"):$("#sharebox").removeClass("publicDisabled disabledAlert"),0}var d,c,f,u,p,h,m,g;if(H.length){var y=!1;if($.each(H,function(){if("myfiles"==this.folderkey)return!(y=!0)}),y)return Zi(0,"You cannot share your My Files root folder"),!1}aAy="file_preview"==e?!0:!1,bhz="media_preview"==e?!0:!1,bgy="file_download"==e?!0:!1,CloseSharePopup=I,1<x.length+H.length?(c=d=!1,m={name:"Multiple Items"},f=[],u=[],$.each(x,function(e,t){f.push(t.filename),u.push(t.quickkey),t.privacy&&(d=!0),t.shared&&(c=!0)}),$.each(H,function(e,t){f.push(t.name),u.push(t.folderkey),t.privacy&&(d=!0),t.shared&&(c=!0)}),m.emailnames=f.join(";;"),m.multikey=u.join(","),m.emailkeys=u.join(";;"),c&&$("#sharebox").addClass("collabshare"),aAy?(h="#"+aNy(window.location.hash.replace("#","")),m.shareUrl=adv("view",m.multikey,"gallery"+(1<h.length?h:""))):m.shareUrl=adv("folder",m.multikey,"shared"),m.encoded=Encoder.htmlEncode('<a href="'+m.shareUrl+'" target="_blank">'+m.shareUrl+"</a>"),_.html(B.multi_share(m)),p=function(r){var i=0;!function e(t,a){var o="file"==a&&x[t]?x[t].quickkey:null,n="folder"==a&&H[t]?H[t].folderkey:null;if("file"==a&&!o)return i=t,void e(0,"folder");"folder"!=a||n?LF.aah(d?"public":"private",o,n,!1,function(){e(t+1,a)}):r(i,t)}(0,"file")},l(d,c),acK?$(".share-status-toggle").hide():$(".share-status-toggle, .share-link-enable").on("click",function(e){p(function(e,t){e>=x.length&&t>=H.length&&l(d=!d,c)})})):x.length?(x[0].shared&&(NZ(x[0]),$("#sharebox").addClass(function(){return"3"==NZ(x[0])?"collabshare-manage":"collabshare"})),x[0].previewurl=agW(x[0],"view"),aAy&&(h="#"+aNy(window.location.hash.replace("#","")),e=x[0].filetype,m=x[0].filename,x[0].previewurl=adv("view",x[0].quickkey,aNy(m="selected"==e?"gallery":m)+(("gallery"==e||"selected"==e)&&1<h.length?h:""))),bhz&&(x[0].filetype=$("body").hasClass("video")?"video":"audio",x[0].previewurl=agW(x[0],"view")),_.html(B.file_share(aoZ(x[0]))),acK||s?$(".ShareDialog-createOneTimeLink").hide():fu?(s=$("#sharebox-onetimedownload"),aNN(x[0].quickkey),$("#one_time_download_button").click(function(){aLN(x[0].quickkey,!0)}),$("#sharebox").hasClass("premiumUser")||s.find("#freeOneTimeRemaining").show()):$("#one_time_download_button").prop("onclick",null).off("click").on("click",function(e){try{if(!parent.PremiumUpsellLightbox)throw new Error;parent.bfM("modal_window_popup"),parent.PremiumUpsellLightbox.showUpsell("pro","one_time_links")}catch(e){window!=parent&&(window.location="/widgets/premium_upsell.php?plan=pro&event=one_time_links")}aeV(e)}),l(x[0].privacy,x[0].shared),acK?$(".share-status-toggle").hide():(window.LF||(g=new tH.Dv,aaK=(new Date).getTime(),window.LF=new asR(g,!1,aaK,54e5,!0),aqg=setInterval(function(){LF.ahE(g)},36e4)),$(".share-status-toggle, .share-link-enable").on("click",function(e){LF.aah(x[0].privacy?"public":"private",x[0].quickkey,null,!1,function(){x[0].privacy=!x[0].privacy,l(x[0].privacy,x[0].shared)})}))):H.length&&(H[0].shared&&("3"!=NZ(H[0])&&$("#sharebox").addClass("publicDisabled"),$("#sharebox").addClass(function(){return"3"==NZ(H[0])?"collabshare-manage":"collabshare"})),_.html(B.folder_share(apO(H[0]))),l(H[0].privacy,H[0].shared),acK?$(".share-status-toggle").hide():$(".share-status-toggle, .share-link-enable").on("click",function(e){LF.aah(H[0].privacy?"public":"private",null,H[0].folderkey,!0,function(){H[0].privacy=!H[0].privacy,l(H[0].privacy,H[0].shared)})})),r&&(i&&_.addClass("web-widget"),_.parent().parent().find("a.popup-close").remove()),a&&$("#sharebox-email").addClass(a),_.find(".tabs").children("div").hide(),r?k.open(!1,0,0):k.open();function w(){t&&!n?"undefined"!=typeof bjI?v():LoadJS(sCDNUrl+"/js/contacts_"+BUILD_VERSION+".js",function(){return"undefined"!=typeof bjI},v,4,b):b()}var v=function(){F(),T()},b=function(){_.find("#sharebox-contacts").remove(),o?_.find("#current-contactsWrap").remove():n&&T()};(new window.tH.aBS).boU({success:function(e){(S=e.response?e.response.sources:{})[0]="User",w()},error:function(){w()}}),o&&!n&&(_.find("#addContactPermissions").remove(),_.find(".addContactSettings span").remove()),x[0]&&aCf(x[0])||aAy||bhz||_.find("#sharebox-copylink").remove();r=_.find(".copy-link");try{r.on("click",function(){try{var t=$(this).prev("input").val();top.postMessage("mf-share-"+t,"*")}catch(e){try{t=$(this).prev("input").val();postMessage("mf-share-"+t,"*")}catch(e){}}})}catch(e){}try{Clipboard.isSupported()&&(C.forEach(function(e){e&&e.destroy()}),C=[],_.find(".copy-link").each(function(e,t){t=new Clipboard(t,{text:function(e){return $(e).prev("input").val()||""}});t.on("success",function(e){try{parent.gtag("event","copy_link")}catch(e){}try{Zi(0,"Copied to Clipboard")}catch(e){}try{E(H)}catch(e){}}),C.push(t)}))}catch(e){}try{top.onLegacyCopyLink?r.on("click",function(){top.onLegacyCopyLink($(this).prev("input").val()),E(H)}):window.QC&&r.on("click",function(){window.QC($(this).prev("input").val()),E(H)})}catch(e){}_.find("#email_files_to").val(""),_.find("#email_files_message").val(""),$("#sharebox").hasClass("publicDisabled")||_.find("input.ShareDialog-linkInput:visible").focus(),_.bind("click",function(e){aeV(e)})}function I(){CloseSharePopup=0,k.close(),$(".popup").removeClass("popup-uploader-mode")}function n(){var e=$(this),t=e.val().length,a=e.data("input-length"),o=!0;return a<t?o=!1:e.parent().find("em.remaining").html(a-t),o}$("#page_screen, #popup-section:not(.dlr), #popup-dialogs").click(function(e){_.is(":visible")&&(k.close(),window.parent.$("#modal_window_closer").click(),aeV(e))}),$("#popup-section .popup").on("click",function(e){aeV(e)}),_.delegate("#email_files_message","focusin",function(e){$("#shareEnterText-msg").addClass("hide")}),_.delegate("#email_files_to","focusin",function(e){$("#shareEnterText-email").addClass("hide")}),_.delegate("#email_files_message","focusout",function(e){0==$(this).val().length&&$("#shareEnterText-msg").removeClass("hide")}),_.delegate("#email_files_to","focusout",function(e){0==$(this).val().length&&$("#shareEnterText-email").removeClass("hide")}),_.delegate("input.gbtnPrimary","click",function(e){$("#shareEnterText-email").removeClass("hide"),$("#shareEnterText-msg").removeClass("hide")}),_.delegate("input.ShareDialog-linkInput, a.ShareDialog-copyBtn","click",function(e){$("#sharebox").hasClass("publicDisabled")&&$("#sharebox").addClass("disabledAlert")}),_.delegate(".tabs li[data-tab]","click",function(e){var t=$(this).addClass("current").siblings().removeClass("current").end().data("tab"),a=$("#sharebox");a.hasClass("publicDisabled")&&("sharebox-email"==t||"sharebox-moreoptions"==t?a.addClass("disabledAlert"):"sharebox-contacts"!=t&&"sharebox-onetimedownload"!=t||a.removeClass("disabledAlert"));var o=_.find(".tabs"),n=o.children("div"),r=_.find("#"+t);n.filter(":visible").length;o.removeClass("tabs-collapsed"),a.removeClass("sharebox-moreoptions sharebox-email sharebox-onetimedownload").addClass(t),window.QC||Clipboard.isSupported()||r.find(".copy-link").hide(),aij("#share_socialnetworks_message","#sharebox-social .share-facebook .remaining",$("#fb_share_checkbox").data("input-length"),!0,function(){return $("#fb_share_checkbox").is(":checked")}),aij("#share_socialnetworks_message","#sharebox-social .share-twitter .remaining",$("#tw_share_checkbox").data("input-length"),!0,function(){return $("#tw_share_checkbox").is(":checked")}),aij("#email_files_message","#sharebox-email .remaining",128,!0),aeV(e)}),_.delegate("#sharebox-social :checkbox","change",function(e){var t=$(this);t.is(":checked")?(t.parent().find("em.remaining").parent().show(),$("#share_socialnetworks_message").change()):t.parent().find("em.remaining").parent().hide(),aeV(e)}),_.delegate("#sharebox-social input:reset","click",function(e){$(this).closest("ul").find(":checkbox").each(function(){var e=$(this);e.parent().find("em.remaining").html(e.data("input-length")),e.parent().find("em.remaining").parent().show()}),aeV(e)}),_.delegate("textarea.email-share-message","keydown",n).delegate("textarea.email-share-message","keyup",n),_.delegate("#sharebox-email input:reset","click",function(){var e=$(this).closest("ul"),t=e.find("textarea.email-share-message");e.find("em.remaining").html(t.data("input-length"))}),_.delegate("#sharebox-email form","submit",function(a){var e=_.find("#email_files_to").val();if(""==e)return Zi(0,"You need to type at least one email address into the 'Recipients Email' field."),a.preventDefault(),!1;var o=!0;return $.each(e.split(","),function(e,t){""!=t&&0==/^.+@.+\..+$/i.test(t.trim())&&(Zi(0,"One or more Email Addresses in the 'Recipients Email' field are invalid."),a.preventDefault(),o=!1)}),o}),_.delegate("#add_contacts_message","keyup keydown change",function(){var e=$(this),t=this.value.length,a=e.data("input-length");e.next().find("em.remaining").text(Math.max(0,a-t))}),_.delegate("#sharebox-contacts input:reset","click",function(){var e=$(this).closest("ul"),t=e.find("#add_contacts_message");e.find("em.remaining").html(t.data("input-length"))}),_.delegate("#sharebox-contacts form","submit",function(e){return""!=_.find("#give_permissions_to").val()||(Zi(0,"You must specify at least one contact."),e.preventDefault(),!1)}),_.delegate(".shareImportContacts","click",function(e){var t=$(".shareImportContacts ul.importOptions");t.empty();var a,o,n;for(a in aJ)"facebook"==a&&!window.FB||(o=$("<li class='import"+aJ[a].title+"'>"+aJ[a].title+"</li>"),(n=u[a])&&o.addClass("importCompleted").append("<span>(Imported "+bdj(n)+")</span>"),t.append(o),0);t.toggleClass("show")}),window.FB||(window.fbAsyncInit=function(){FB.init({version:FBAPIVersion.slice(0,-1),appId:FBAppId,status:!0,cookie:!0,oauth:!0,xfbml:!0})},t=document,a="facebook-jssdk",o=t.getElementsByTagName("script")[0],t.getElementById(a)||((t=t.createElement("script")).id=a,t.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(t,o)));var r,l=$('<div class="contactBlocks"></div>'),d=$('<button type="button" aria-label="Remove contact">&#215;</button>'),c=$('<div class="autoSocialIcon"></div>'),v=$('<div class="shareContactRow"><span class="shareContactAvatar"></span><span class="shareContactName"></span><div class="currentContactPermissions"><a class="tooltip alt point-right">To add contacts from Facebook or Twitter, please log in to MediaFire.com</a><span class="canRead"><a href="javascript:void(0);">Can View</a></span><span class="canEdit"><a href="javascript:void(0);">Can Edit</a></span><span class="canManage"><a href="javascript:void(0);">Can Manage</a></span><span class="variedMsg"><a href="javascript:void(0);">Varies</a></span></div><button type="button" class="shareContactRemove" aria-label="Remove contact">&#215;</button><div class="shareContactRemoval">Remove <span class="contactRemovalName"></span>?<div><a href="#" class="cancelRemove">Cancel</a><a href="#" class="confirmRemove">Remove</a></div></div></div>');function y(e){var t=_.find("#add-contacts-field .contactBlocks").length,a=_.find(".shareContactRow[data-new-access]").length,e=!e&&atl($("#give_permissions_to").val()),e=0<t||0<a||e;_.find("#sharebox-contacts").toggleClass("saveContact",e),e&&($("div.ftContactAlert").removeClass("show"),_.find("#sharebox-contacts").removeClass("confirmContact"))}function h(){r=null,$("#currentPermissionsMenu").removeClass("show"),_.find(".shareContactRow.selected").removeClass("selected")}function F(){function t(){e.aDt({data:{method:"autocomplete",raw:"yes"}},function(e){if(s(e),e&&localStorage){localStorage.removeItem("contact-trie");try{bgP(n,JSON.stringify(e))}catch(e){}}})}function a(e){try{J=JSON.parse(e)}catch(e){}return!(J&&J.response&&o.response)||J.response.revision!=o.response.revision||J.response.epoch!=o.response.epoch?t():void s(J)}var o,n="contact-trie-raw",r=bkD(n,!0),e=new window.tH.aBS,i=new bjI("give_permissions_to");e.aDt({data:{method:"revision_only"}},function(e){r?(o=e,bhb(n,a)):t()});var s=function(e){var t,s;e&&e.response&&e.response.data&&($("#current-contactsWrap").show(),$("#sharebox-contacts").show(),t="undefined"!=typeof DesktopWebDomObject,i.bkI(e.response,S,t),s=",;: ".split(""),i.bkw(function(e,t,a,o){var n=$("#give_permissions_to").val();0<n.length&&atl(n,!0)&&(32!=e.keyCode&&186!=e.keyCode&&188!=e.keyCode&&(0!==o.length||9!=e.keyCode&&13!=e.keyCode)||(n=n.replace(/[\s,;]+$/,""),(n=l.clone().text(n).attr("data-contact-email",n).attr("data-contact-new",1)).prepend(c.clone()),n.append(d.clone()),n.insertBefore("#add-contacts-input"),$(t).val(""),y())),y(0<o.length)},function(e,t,a){var o=l.clone().text(a.name).attr("data-contact-type",a.type).attr("data-contact-id",a.id);o.prepend(c.clone()),o.append(d.clone());a=S[parseInt(a.type,10)];a&&o.addClass("import"+a),o.insertBefore("#add-contacts-input"),$(e).val(""),y();e=$("#add-contacts-field")[0].scrollHeight;return $("#add-contacts-field").scrollTop(e),!1},function(e,t){$("#add-contacts-field .contactBlocks:last").remove(),y()},function(e,t,a){for(var o=0,n=!1,r=0;r<a.length;r++){var i=a[r];r!==a.length-1&&-1===s.indexOf(i)||atl(i=a.slice(o,r+1).replace(/(^\s+|[\s,;:]+$)/g,""),!0)&&(o=r+1,(i=l.clone().text(i).attr("data-contact-email",i).attr("data-contact-new",1)).prepend(c.clone()),i.append(d.clone()),i.insertBefore("#add-contacts-input"),n=!0)}if(n)return y(),e.preventDefault(),!1}),$("#sharebox-contacts").removeClass("loadingContactsWrap"))}}function i(e){var t=e.length,a=0;if($(".shareContactRow").not(".shareStatusBlock").remove(),$("#sharebox-contacts").removeClass("loadingContactsWrap"),0===t)return $("#current-contactsWrap").addClass("noFollowers").removeClass("removeAllShow removeAllConfirm"),void $("#sharebox-contacts").removeClass("existingContacts");$("#current-contactsWrap").removeClass("noFollowers removeAllConfirm").toggleClass("removeAllShow",5<=t),$("#sharebox-contacts").addClass("existingContacts");var o=[],n=[],r=$("#current-contacts");if(1<x.length+H.length){for(var i=0;i<x.length;i++)o.push(x[i].quickkey);for(i=0;i<H.length;i++)o.push(H[i].folderkey)}for(i=-1;i<t&&e[++i];){var s=e[i].contact_key,l=e[i].resource_key,d=NZ(e[i]);if(1!=e[i].contact_indirect){if(0<o.length){var c=n[s];if(c&&2<c.length){if(c.push({key:l,access:d}),!c[0])for(var f=2;f<c.length;f++)if(c[1]+=","+l,c[f].access!=d){c[0]=!0;break}continue}n[s]=[!1,l,{key:l,access:d}]}var u=v.clone();u.find("span.shareContactName").text(e[i].display_name),e[i].avatar&&""!==e[i].avatar&&8<e[i].avatar.length&&(u.find("span.shareContactAvatar").css("background-image","url("+Encoder.XSSEncode(e[i].avatar)+")"),(h=new Image).onerror=function(){u.find("span.shareContactAvatar")[0].style.backgroundImage=""},h.src=Encoder.XSSEncode(e[i].avatar));var p="user",h=parseInt(e[i].contact_type,10),h=S[h];u.attr("data-share-access",d),u.attr("data-share-key",l),u.attr("data-share-contact",s),h&&(p=h.toLowerCase()),u.attr("data-share-type",p),"facebook"!=p&&"twitter"!=p||u.addClass("socialNetwork");p="";1===NZ(e[i])&&(p+="showCanRead "),2===NZ(e[i])&&(p+="showCanEdit "),p=p||"showCanRead",u.find(".currentContactPermissions").addClass(p),$("#current-contacts").append(u)}else a++}if(0<o.length){var m=o.join();for(s in n){var g=n[s];if(g){for(var y=g[0],w=g[1],f=0;f<o.length;f++)if(!w||-1===w.indexOf(o[f])){y=!0;break}!function(e,t,a){e=r.find('.shareContactRow[data-share-contact="'+e+'"]');0<e.length&&(e.attr("data-share-key",a),t&&e.addClass("variedPermission").data("share-access",0).find(".currentContactPermissions").removeClass("showCanEdit showCanRead showCanManage"))}(s,y,y?w:m)}}}$("#current-contacts").append('<div class="shareContactRow indirectContacts"><span class="indirectContactCount">'+a+"</span></div>")}function T(){if(acK)i([]);else{var e=x.length+H.length,t=new window.tH.aCa;if(1===e){e=x[0]?x[0].quickkey:H[0].folderkey;t.jj({data:{resource:e}},function(e){e.response.shares&&i(e.response.shares)})}else{for(var n=[],a=0;a<x.length;a++)n.push(x[a].quickkey);for(a=0;a<H.length;a++)n.push(H[a].folderkey);t.hS(function(e){var t=e.response,a=[];if(t.shares)for(var o=0;o<t.shares.length;o++)-1!==n.indexOf(t.shares[o].resource_key)&&a.push(t.shares[o]);i(a)})}}}function m(s,n,l,d,r){var c=!1,f=new window.tH.aCa,u=[];(H[0]||x[0]).shared&&(c=!0);for(var e=0;e<x.length;e++)u.push(x[e].quickkey);for(e=0;e<H.length;e++)u.push(H[e].folderkey);var p=function(e){$("#sharebox-contacts").removeClass("loadingContactsWrap"),Zi(0,e),y()},h=function(){var e,t,a,o={data:{}};l&&(e=(t=(a=new Date).getMonth())<10?"0"+t:""+t,t=(t=a.getDate())<10?"0"+t:""+t,a=""+a.getFullYear(),o.data.message=JSON.stringify({template:"standard",title:"Share Notification",subtitle:l,date:e+"-"+t+"-"+a,attachments:[]}),o.data.broadcast_class="share"),c?(o.data.contact_keys=s,o.data.keys=u.join(),d.fb_access_token&&(o.data.fb_access_token=d.fb_access_token),d.tw_oauth_token&&(o.data.tw_oauth_token=d.tw_oauth_token),d.tw_oauth_token_secret&&(o.data.tw_oauth_token_secret=d.tw_oauth_token_secret),f.hV(o,function(){T()})):(o.data.contacts=s,o.data.resources=u.join(),o.data.permissions=n,d.fb_access_token&&(o.data.fb_access_token=d.fb_access_token),d.tw_oauth_token&&(o.data.tw_oauth_token=d.tw_oauth_token),d.tw_oauth_token_secret&&(o.data.tw_oauth_token_secret=d.tw_oauth_token_secret),f.hH(o,{success:function(e){Rn(o),T()},error:function(e,t,a){var o={232:["You must verify your email address."]},e=o[JSON.parse(e.responseText).response.error.toString()]||["An error occurred while sharing this resource."];p(e[0])}}))},m=_.find(".shareContactRow[data-new-access]"),g=function(t){var e,a=m.eq(t),o=a.data("new-access"),n=a.data("share-contact"),r={data:{}};l&&(a=(e=(i=new Date).getMonth())<10?"0"+e:""+e,e=(e=i.getDate())<10?"0"+e:""+e,i=""+i.getFullYear(),arl.data.message=JSON.stringify({template:"standard",title:"Share Notification",subtitle:l,date:a+"-"+e+"-"+i,attachments:[]}),arl.data.broadcast_class="share");var i={success:function(e){m[t+1]?g(t+1):(s?h:T)()},error:function(e,t,a){var o={232:["You must verify your email address."]},e=o[JSON.parse(e.responseText).response.error.toString()]||["An error occurred while sharing this resource."];p(e[0])}};c?(r.data.contact_keys=n,r.data.keys=u.join(),d.fb_access_token&&(r.data.fb_access_token=d.fb_access_token),d.tw_oauth_token&&(r.data.tw_oauth_token=d.tw_oauth_token),d.tw_oauth_token_secret&&(r.data.tw_oauth_token_secret=d.tw_oauth_token_secret),f.hV(r,i)):(r.data.contacts=n,r.data.resources=u.join(),r.data.permissions=o,d.fb_access_token&&(r.data.fb_access_token=d.fb_access_token),d.tw_oauth_token&&(r.data.tw_oauth_token=d.tw_oauth_token),d.tw_oauth_token_secret&&(r.data.tw_oauth_token_secret=d.tw_oauth_token_secret),f.hH(r,i))};r?function(){for(var e=new window.tH.aBS,t=[],a=r.split(","),o=0;o<a.length;o++)t.push({email:$.trim(a[o])});var n={contact_type:"user",contacts:JSON.stringify(t)};e.ZD({data:n},{success:function(e){e.response&&e.response.contact_keys&&(s=0<s.length?s+","+e.response.contact_keys:e.response.contact_keys),0<m.length?g(0):(s?h:T)()},error:function(e,t,a){var o={108:["Invalid user specified. Unable to create contact."]},e=o[JSON.parse(e.responseText).response.error.toString()]||["An error occurred while adding new contacts."];p(e[0])}})}():0<m.length?g(0):(s?h:T)()}_.delegate("#add-contacts-field","click",function(e){document.getElementById("give_permissions_to").focus()}),_.delegate("#give_permissions_to","focus click",function(e){$("#sharebox-contacts").hasClass("saveContact")||$("div.ftContactAlert").addClass("show"),$("#shareEnterText-contacts").addClass("hide")}),_.delegate("#give_permissions_to","blur",function(e){$("div.ftContactAlert").removeClass("show"),""===this.value&&0===_.find(".contactBlocks").length&&$("#shareEnterText-contacts").removeClass("hide")}),_.delegate("ul.importOptions li","click",function(e){var t=$(this).text().toLowerCase().split("(")[0].trim();var a=aJ[t];a?($("#sharebox-contacts").addClass("importingContactsWrap").removeClass("importingContactsProgress"),a.BeginAuth(function(){},function(e){Zi(0,"Import error: '"+e+"'"),$("#sharebox-contacts").removeClass("importingContactsWrap importingContactsProgress")},function(e){Zi(0,void 0!==e?"Import failed: '"+e+"'":"Import failed"),$("#sharebox-contacts").removeClass("importingContactsWrap importingContactsProgress")},function(e){u[t]=blZ(),Zi(0,"Successfully imported/updated "+e+" contact"+(1!=e?"s":"")),$("#sharebox-contacts").removeClass("importingContactsWrap importingContactsProgress"),F()})):Zi(0,"Cannot import from "+$(this).html()+", please choose another import method if available.")}),_.delegate(".shareContactRow .currentContactPermissions","click",function(e){var t=$(this).parent();if(r&&t.is(r))h();else{if(t.hasClass("socialNetwork")&&$("#sharebox").hasClass("web-widget"))return h(),!1;_.find(".shareContactRow.selected").removeClass("selected");var a=70;r=t,4<$("#current-contacts div.shareContactRow").length&&(a+=bml()[0]);t=r.find(".currentContactPermissions")[0].className.replace("currentContactPermissions","");r.addClass("selected"),$("#currentPermissionsMenu").css({top:r.offset().top-$(".FollowersDialog").offset().top+45,right:a})[0].className="currentPermissions show "+t}}),_.delegate("#currentPermissionsMenu li","click",function(e){var t,a;r&&(t=0,a="","canRead"==this.className&&(t|=1,a+="showCanRead "),"canEdit"==this.className&&(t|=2,a+="showCanEdit "),"canManage"==this.className&&(t|=4,a+="showCanManage "),r.data("share-access")!=t?r.attr("data-new-access",t):r.removeAttr("data-new-access"),r.find(".currentContactPermissions").removeClass("showCanManage showCanEdit showCanRead").addClass(a),h(),y())}),_.delegate("#addContactPermissions, .shareImportContacts, .currentContactPermissions","click",function(e){var a=this,o=function(e){var t=-1===a.className.indexOf("currentContactPermissions")||"addContactPermissions"==a.id?a:$("#currentPermissionsMenu")[0];void 0===t?$(this).off("mousedown",o):$.contains(t,e.target)||(h(),$("#addContactPermissions ul, .shareImportContacts ul").removeClass("show"),$(this).off("mousedown",o))};$(document).on("mousedown",o)}),_.delegate("#add-contacts-field .contactBlocks button","click",function(e){$(this).parent().remove(),y()}),_.delegate(".shareContactSave a","click",function(e){h();var t=0,a=$("#addContactPermissions");a.hasClass("showCanRead")&&(t|=1),a.hasClass("showCanEdit")&&(t|=2),a.hasClass("showCanManage")&&(t|=4);var o=[],n=[],r=$(".shareContactRow[data-new-access]"),i=0<r.filter('[data-share-type="facebook"]').length,s=0<r.filter('[data-share-type="twitter"]').length,a=$("#give_permissions_to"),r=a.val().replace(/[\s,;]+$/,"");0<r.length&&atl(r,!0)&&(n.push(r),a.val(""),y()),$GLB_aContactBlocks=_.find(".contactBlocks");for(var l=0;l<$GLB_aContactBlocks.length;l++){$GLB_aContactBlock=$GLB_aContactBlocks.eq(l);var d=S[$GLB_aContactBlock.data("contact-type")];d&&(i||"Facebook"!=d||(i=!0),s||"Twitter"!=d||(s=!0)),1==$GLB_aContactBlock.data("contact-new")?atl(d=$GLB_aContactBlock.data("contact-email"),!0)&&n.push(d):o.push($GLB_aContactBlock.data("contact-id"))}a.val("");var c=[];function f(){m(o.join(),t,$("#add_contacts_message").val(),c,n.join()),$("#add_contacts_message").val("").trigger("change"),$GLB_aContactBlocks.remove(),_.find("#sharebox-contacts").removeClass("saveContact").addClass("confirmContact"),_.find(".auto-complete").addClass("empty")}function u(){if(i)return window.FB?void FB.getLoginStatus(function(e){"connected"==e.status?(e=(e=FB.getAuthResponse())?e.accessToken:"",c.fb_access_token=e,f()):FB.login(function(e){"connected"==e.status?FB.api(FBAPIVersion+"me/permissions",function(e){var t=FB.getAuthResponse(),t=t?t.accessToken:"";c.fb_access_token=t,f()}):(Zi(0,"Facebook login failed"),_.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact"))},{scope:"xmpp_login"})}):(Zi(0,"Facebook load failed"),void _.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact"));f()}return function(){if(s)return""!=aL("oauth_token")&&""!=aL("oauth_token")?(c.tw_oauth_token=aL("oauth_token"),c.tw_oauth_token_secret=aL("oauth_token_secret"),u()):aJ.twitter.BeginAuth($.noop,function(e){Zi(0,"Twitter login error: '"+e+"'"),_.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact")},function(e){Zi(0,void 0!==e?"Twitter login failed: '"+e+"'":"Twitter login failed"),_.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact")},function(e){c.tw_oauth_token=aL("oauth_token"),c.tw_oauth_token_secret=aL("oauth_token_secret"),u()},!0);u()}(),$("#sharebox-contacts").addClass("loadingContactsWrap"),!1}),_.delegate(".shareContactConfirm a","click",function(e){_.find("#sharebox-contacts").removeClass("confirmContact")}),_.delegate("#removeAllFollowers a","click",function(e){var t=$(this);switch(t.data("command")){case"prompt":t.closest("#current-contactsWrap").addClass("removeAllConfirm");break;case"confirm":for(var a=new window.tH.aCa,o=[],n=0;n<x.length;n++)o.push(x[n].quickkey);for(n=0;n<H.length;n++)o.push(H[n].folderkey);h(),i([]);var r={data:{}};r.data.resources=o.join(),a.im(r,function(){Rn(r)});default:t.closest("#current-contactsWrap").removeClass("removeAllConfirm")}return!1}),_.delegate(".shareContactRemove","click",function(e){if(h(),0<_.find(".inset-box.warning").children().filter(":visible").length)return!1;var t=$(this).parent();return t.addClass("selected"),t.find(".contactRemovalName").text(t.find(".shareContactName").text()),$("#sharebox").addClass("removeContact"),!1}),_.delegate(".shareContactRemoval a.confirmRemove","click",function(e){for(var t=new window.tH.aCa,a=[],o=0;o<x.length;o++)a.push(x[o].quickkey);for(o=0;o<H.length;o++)a.push(H[o].folderkey);var n=_.find(".shareContactRow.selected"),r=n.data("share-contact");h(),n.remove(),$("#sharebox").removeClass("removeContact");var i,n=$(".shareContactRow").not(".shareStatusBlock").length;return 0===n?($("#current-contactsWrap").addClass("noFollowers").removeClass("removeAllShow removeAllConfirm"),$("#sharebox-contacts").removeClass("existingContacts")):($("#current-contactsWrap").removeClass("noFollowers removeAllConfirm").toggleClass("removeAllShow",5<=n),$("#sharebox-contacts").addClass("existingContacts")),r&&((i={data:{}}).data.contact=r,i.data.resources=a.join(),t.im(i,function(){Rn(i)})),y(),!1}),_.delegate(".shareContactRemoval a.cancelRemove","click",function(e){return h(),$("#sharebox").removeClass("removeContact"),!1});var f={blogger:"http://www.blogger.com/blog_this.pyra?t&u=[url]&n=[text]",facebook:"https://www.facebook.com/sharer/sharer.php?u=[url]",plus:"https://plus.google.com/share?url=[url]",twitter:"https://twitter.com/intent/tweet?url=[url]&text=[text]&related=mediafire",email:"mailto:?body=[text]%0A[url]",reddit:"https://reddit.com/submit?url=[url]&title=[text]",linkedin:"https://www.linkedin.com/shareArticle?mini=true&url=[url]"};return _.delegate(".ShareDialog-socialLinks a","click",function(e){var t=aBO()?"dev.mediafire.com":"www.mediafire.com",a=$(".ShareDialog-linkInput",_).val().split("/");a.splice(0,3);var o=encodeURIComponent(location.protocol+"//"+t+"/"+a.join("/")),n=(n=$("#add_contacts_message",_).val())&&encodeURIComponent(n),r=location.protocol+"//"+t+"/images/filetype/download/folder.jpg",i=$(this).attr("class").toLowerCase().replace("sharedialog-",""),a=f[i];if(!a)return!1;t=["app","css","doc","music","pdf","php","ppt","video","web","xls","zip"];1==x.length&&0==H.length&&("image"==(s=x[0]).filetype?r=s.imageUrl:(r=location.protocol+"//"+location.host+"/images/filetype/download/",i=(i=s.filename.split("."))[i.length-1],-1!=$.inArray(i,t)?r+=i:-1!=$.inArray(s.filetype,t)?r+=s.filetype:"audio"==s.filetype?r+="music":r+="default",r+=".jpg")),r=encodeURIComponent(r);var s=$(".popup-title",_).text().replace("Share: ","").trim();return n=(n=n||encodeURIComponent(s))||(1==x.length&&0==H.length?encodeURIComponent(x[0].filename):0==x.length&&1==H.length?encodeURIComponent(H[0].name):encodeURIComponent("Sharing multiple files")),a=(a=(a=a.replace("[url]",o)).replace("[text]",n)).replace("[media]",r),window.open(a,"_blank"),!1}),_.keydown(function(e){return 27!=(e=e||window.event).keyCode||(_.find("input").blur(),$("a.popup-close:visible").focus(),$("a.popup-close:visible").trigger("click"),aeV(e),!1)}),{popup:k,ali:e,Show:function(e,t,a,o,n,r){var i=!1,s=!1;if(!(0<H.length&&0<x.length)){function l(e){e.shared&&(s=!0,0==NZ(e)&&(i=!0))}var d=H.length,c=x.length;if(0<d)for(var f=0;f<d&&(!s||!i);f++)l(H[f]);if(0<c)for(f=0;f<c&&(!s||!i);f++)l(x[f]);o&&(u=o),p(e,!0,t,i,s,a,n,r)}},ShowBasic:p,ShowTab:function(e,t){_.find(".tabs li[data-tab=sharebox-"+e+"]").click(),"fb"==t&&_.find("#tw_share_checkbox").click(),"tw"==t&&_.find("#fb_share_checkbox").click()},Hide:I,Clear:function(){x=[],e(!(H=[]))},akb:function(e,t,a,o,n){H.push({name:e,folderkey:t,privacy:a,shared:o,permissions:n=n||0})},ald:function(e,t,a,o,n,r,i,s,l){x.push({filename:t,filetype:o,hash:n,quickkey:e,size:a,viewable:r,privacy:i,shared:s,permissions:l=l||0})}}}()}function ajj(){var t=$("#create_new_account_popup").popup(),a=t.data("popup");return t.html(templates.create_account()),t.delegate("#create_new_account_form","submit keyup focus blur",function(e){var t=0,t="submit"===e.type?-1:0;return akc=!0,$("#create_new_account_form :input:eq(0)").val().length>t&&($("#create_new_account_form :input:eq(0)").val().length<=3||!aoF($("#create_new_account_form :input:eq(0)").val()))?($(".anon-form-section:eq(0) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(0) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(0) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(0) div.Form-inputStatusIcon").addClass("is-valid")):$(".anon-form-section:eq(0) div.Form-inputStatusIcon").removeClass("is-valid").removeClass("is-notValid"),$(),$("#create_new_account_form :input:eq(0)").val().length>t&&($("#create_new_account_form :input:eq(1)").val().length<=3||!aoF($("#create_new_account_form :input:eq(1)").val()))?($(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(1) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(1) div.Form-inputStatusIcon").addClass("is-valid")):$(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-notValid").removeClass("is-valid"),($("#create_new_account_form :input:eq(2)").val().length<6||15<$("#create_new_account_form :input:eq(2)").val().length)&&$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(2) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(2) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(2) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(2) div.Form-inputStatusIcon").addClass("is-valid")):$(".anon-form-section:eq(2) div.Form-inputStatusIcon").removeClass("is-notValid").removeClass("is-valid"),($("#create_new_account_form :input:eq(3)").val().length<6||15<$("#create_new_account_form :input:eq(3)").val().length)&&$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(3) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(3) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t&&($(".anon-form-section:eq(3) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(3) div.Form-inputStatusIcon").addClass("is-valid")),$("#create_new_account_form :input:eq(0)").val()!=$("#create_new_account_form :input:eq(1)").val()&&($(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(1) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1),$("#create_new_account_form :input:eq(2)").val()!=$("#create_new_account_form :input:eq(3)").val()&&($(".anon-form-section:eq(3) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(3) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1),akc}),t.delegate(".close","click",function(e){$('div[id^="MediaFireUploaderSWFDiv"]').show(),a.close(),aeV(e)}),t.delegate(".login_link","click",function(e){blX("Login"),a.close(),aeV(e)}),t.find(":input[name=reg_emailUL]").bind("keyup",function(){$(".anon-signup-confirm:eq(0)").show(500)}),t.find(":input[name=reg_passUL]").bind("keyup",function(){$(".anon-signup-confirm:eq(1)").show(500)}),t.keydown(function(e){return 13==(e=e||window.event).keyCode?(t.find(".confirm").trigger("click"),!1):27!=e.keyCode||(t.find("input").blur(),$("a.popup-close:visible").trigger("click"),aeV(e),!1)}),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),t.find(":input[name=reg_passUL]").val("").end().find(":input[name=reg_passUL2]").val("").end(),a.open(),t.find(":input[name=reg_emailUL]").focus()},popup:a,close:a.close}}function awJ(t,a,o){t.keydown(function(e){return 13==(e=e||window.event).keyCode&&a?(t.find(".confirm").trigger("click"),!1):27!=e.keyCode||!o||(t.find("input").blur(),$("a.popup-close:visible").trigger("click"),aeV(e),!1)})}function asx(e,t){return a=$(e).popup(),o=a.data("popup"),n=[],awJ(a,!0,!0),{open:function(e){a.html(t.folder_share_rss(apO(e))),o.open(),Clipboard.isSupported()?(n.forEach(function(e){e&&e.destroy()}),n=[],a.find(".copy-link").each(function(e,t){t=new Clipboard(t,{text:function(e){return $(e).prev().val()}});t.on("success",function(e){Zi(0,"Copied to Clipboard")}),n.push(t)}),a.find("input").focus()):a.find(".copy-link").hide()},popup:o,close:o.close};var a,o,n}function aVH(e,d){return function(){var r=$(e).popup(),i=r.data("popup");$(r[0].parentNode.parentNode).find("a.popup-close").remove();var s=void 0,l="keep";return r.delegate("button","click",function(e){var t=this.id.substr(8)||l;aVP=document.getElementById("applyAll").checked,s&&(s(t,aVP),s=void 0),i.close(),aeV(e),$(document).focus()}),r.keydown(function(e){return 13!=(e=e||window.event).keyCode&&27!=e.keyCode||(r.find(".primary").trigger("click"),!1)}),{open:function(t,e,a,o,n){s=n,l=a,new window.tH.Cp(e).Yw(function(e){(t=$.extend({},e.response.file_info,t)).size=formatBytes(t.size),t.created=bdj(t.created,!0),r.html(d.pop_upload_conflict(t)),i.open(),r.find("#applyAll").parent().toggle(o),r.find("#confirm-"+l).removeClass("secondary").addClass("primary").focus()})},popup:i,close:i.close}}()}function ri(e,a){return o=$(e).popup(),n=o.data("popup"),o.delegate(".confirm","click",function(e){var t=$.trim(o.find("#create-folder-name").val());0<t.length?(LF.Wt(o.find("input.folder").val(),t,{filedrop:$("#folder-filedrop-checkbox").is(":checked")}),o.find("#create-folder-name").val("").blur(),n.close(),aeV(e),$(document).focus()):(Zi(0,"Folder name cannot be left blank."),o.find("#create-folder-name").val(t).focus())}),awJ(o,!0,!0),{open:function(e,t){o.html(a.pop_subfolder()),o.find("input.folder").val(e),!0===t&&o.find("li.enableFileDrop").hide(),n.open(),o.find("#create-folder-name").val("").focus()},popup:n,close:n.close};var o,n}function avA(e,n){return i=$(e).popup(),s=i.data("popup"),i.delegate(".confirm","click",function(e){try{window.akF(r.quickkeys)}catch(e){}LF.Zs(r.quickkeys.join(","),r.Bz.join(",")),s.close(),aeV(e)}),awJ(i,!0,!1),{open:function(e,t,a){$.isArray(e)||(e=e?e.split(","):new Array),$.isArray(t)||(t=t?t.split(","):new Array),i.html(n.pop_delete());var o=$("<div>Are you sure you want to move "+function(e){uu=e.split(" ");var t=uu[0];uu.shift();e=uu.join(" ");return yg=t+' <span class="shortenFileName" style="font-weight: 600; color: #000">'+htmlspecialchars(e)+"</span>",yg}(adA(e,t))+" to Trash?</div>").html();i.find("#delete-message").html(o),(r=this).Bz=t,r.quickkeys=e,(a=void 0===a?!0:a)?(s.open(),i.find(".confirm").focus()):i.find(".confirm").click()},popup:s,close:s.close};var r,i,s}function azS(e,a){return n=$(e).popup(),r=n.data("popup"),n.delegate(".confirm","click",function(e){void 0!==o&&o(!0),r.close(),aeV(e)}),n.delegate(".close","click",function(e){void 0!==o&&o(!1),r.close(),aeV(e)}),awJ(n,!0,!1),{open:function(e,t){void 0!==t&&(o=t),n.html(a.pop_confirm()),e="<div>"+e+"</div>",n.find("#confirm-message").html(e),r.open(),n.find(".confirm").focus()},popup:r,close:r.close};var o,n,r}function bdt(e,t,a){return r=$(e).popup(),i=r.data("popup"),o="",r.delegate(".confirm","click",function(e){var t=r.find("#create-file-name").val(),a=Encoder.XSSEncode(t,!0),o=a.split("."),n=o[o.length-1];1<o.length&&0<o[0].length&&n?(LF.SubFile(tH.currentFolder.folderkey,t,null,{onSuccess:function(e){$.publish("file/create",[e,tH.currentFolder])},onError:function(){i.close()}}),i.close(),aeV(e)):(Zi(0,"Please enter a valid filename."),r.find("#create-file-name").val(a).focus())}),awJ(r,!0,!0),{open:function(e){var t={filename:o="Untitled."+e};r.html(a.pop_create_file(t)),i.open(),$(".show_dropdown").removeClass("show_dropdown"),r.find("input").focus(),e=o.split(".")[0].length,(t=document.getElementById("create-file-name")).setSelectionRange&&(t.setSelectionRange(0,e),t.focus())},popup:i,close:i.close};var r,i,o}function awZ(e,t,o){return r="folder"!=t?"file":"folder",i=$(e).popup(),s=i.data("popup"),i.delegate(".confirm","click",function(e){var t=i.find("input."+r).val(),a={},o=i.find("#details-"+r+"-name").val(),n=i.find("#details-"+r+"-description").val();0<o.split(".")[0].length?(a.description=n,"file"==r?(a.filename=o,LF.aal(a,t)):(a.foldername=o,LF.aal(a,"",t)),s.close(),aeV(e)):(Zi(0,"Name cannot be left blank."),i.find("#details-"+r+"-name").val(o).focus())}),awJ(i,!0,!0),{open:function(e,t){var a;"file"==r?((a=window.tH.files.yx(e)).filename=Encoder.XSSEncode(a.filename,!0),i.html(o.pop_file_details(a))):((a=window.tH.folders.yx(e)).name=Encoder.XSSEncode(a.name,!0),i.html(o.pop_folder_details(a))),$("body").hasClass("myfiles")&&"name"!=t&&i.find(".details-row-name").hide(),$("body").hasClass("myfiles")&&"name"==t&&(i.find(".details-row-desc").hide(),i.find(".Popup-characterCounter").hide(),i.find("legend span").html("Name")),s.open(),t&&i.find(":input[name="+t+"]").focus()},popup:s,close:s.close};var r,i,s}function avk(e,o){return n=$(e).popup(),r=n.data("popup"),n.delegate("button","click",function(e){var t=n.find("input.file").val(),a=n.find(":input[name=password]").val();25<a.length?window.Zi(0,"Password cannot be longer than 25 characters."):(LF.agD(t,a),r.close(),aeV(e))}),n.delegate("a[name=remove_password]","click",function(e){var t=n.find("input.file").val();LF.agD(t,""),r.close()}),n.delegate(":input[name=password]","keypress",function(e){return 8==e.keyCode||void(25<=$(this).val().length&&window.Zi(0,"Password cannot be longer than 25 characters."))}),awJ(n,!0,!0),{open:function(e,t,a){t||a?(bcx=!t&&a,n.html(o.pop_password_protect()),n.find("input.file").val(e).end().find(":input[name=password]").val("").end(),bcx&&(n.find(".popup-content").empty(),n.find("button.confirm").hide(),n.find('a[name="remove_password"]').removeClass("gbtnPrimary").addClass("gbtnTertiary")),r.open(),n.find(":input[name=password]").focus()):window.PremiumUpsellLightbox&&window.PremiumUpsellLightbox.showUpsell("pro","password")},popup:r,close:r.close};var n,r}function aOx(e,t){return s=$(e).popup(),a=s.data("popup"),s.delegate("#single-generate","click",function(e){return r("single",i($("input#single-privacy")),i($("input#single-notify"))),!1}),s.delegate("#multiple-submit","click",function(e){var t=i($("input#multiple-privacy")),a=i($("input#multiple-notify")),o=$("input#multiple-emails").val().replace(/\s/g,""),n=$("textarea#multiple-message").val();return""===o?Zi(0,"You need to type at least one email address into the 'Recipients Email' field."):r("multiple",t,a,o,n),!1}),s.delegate("#collaborate-file .tabs li[data-tab]","click",function(e){var t=$(this).addClass("current").siblings().removeClass("current").end().data("tab"),a=$("#"+t);a.hasClass("tab-expanded")||($("#collaborate-file .tabs > div").hide().removeClass("tab-expanded"),a.slideDown("fast",function(){a.addClass("tab-expanded")}))}),{open:function(e){s.html(t.pop_collaborate_file()),s.find("input.file").val(e).end(),a.open(),s.find(":input[name=password]").focus(),Clipboard.isSupported()||s.find(".copy-link").hide()},popup:a,close:a.close};function r(e,t,a,o,n){new window.tH.Cp(s.find("input.file").val());a={data:{public:t,email_notification:a}};"multiple"==e&&(a.data.emails=o,a.data.message=n)}function i(e){return e.is(":checked")?"yes":"no"}var s,a}function avx(e,t,o){return n="file"!=t?"folder":"file",r=(0<$("#privacy-"+n).length?$("#privacy-"+n):$(e)).popup(),i=r.data("popup"),"file"==n?r.delegate(".confirm","click",function(e){var t=r.find("input.status").val(),a=r.find("input.file").val();LF.aah(t,a),i.close(),aeV(e)}):r.delegate("#privacy-folder-single","click",function(e){var t=r.find("input.status").val(),a=r.find("input.folder").val();LF.aah(t,null,a,!1),i.close(),aeV(e)}).delegate("#privacy-folder-batch","click",function(e){var t=r.find("input.status").val(),a=r.find("input.folder").val();LF.aah(t,null,a,!0),i.close(),aeV(e)}),awJ(r,!0,!0),{open:function(e,t){var a;"file"==n?(a=window.tH.files.yx(t),r.html(o.pop_file_privacy())):(a=window.tH.folders.yx(t),r.html(o.pop_folder_privacy())),r.find("input."+n).val(t).end().find("input.status").val(e).end().find(".name").text(a.avz()).end().find("b.status").html(e),i.open(),r.find(".confirm").focus()},popup:i,close:i.close};var n,r,i}function aRC(e,a){return o=$(e).popup(),n=o.data("popup"),r=null,o.delegate(".download","click",function(e){MYF_DirectDownload({files:[o.find("input.quickkey").val()]}),n.close(),aeV(e)}).delegate(".share","click",function(e){var t=o.find("input.quickkey").val();n.close(),R({files:[t]}),aeV(e)}).delegate(".edit","click",function(e){(!r.edit||3!==parseInt(r.edit))&&10485760<r.size?Zi(0,"Only files smaller than 10 MB can be edited. This file is too large."):window.open(agW(r,"edit")),n.close(),aeV(e)}).delegate(".view, .watch, .listen","click",function(e){window.open(agW(r)),n.close(),aeV(e)}),awJ(o,!0,!0),{open:function(e){switch(r=window.tH.files.yx(e),o.html(a.pop_file_choices()),o.find("input.quickkey").val(e).end(),!r||avH(r.flag,"1")&&avH(r.parent.flag,"1")||(r.privacy&&"public"!=r.privacy||r.share_link_enabled&&"yes"!=r.share_link_enabled)&&o.find("div.popup-btns button.gbtnPrimary.share").hide(),r.filetype){case"video":case"audio":o.find("div.popup-btns button.gbtnTertiary").hide();break;default:var t;o.find("div.popup-btns button.gbtnTertiary:not(.view,.edit)").hide(),aCf(r)||o.find("div.popup-btns button.gbtnTertiary.view").hide(),aGe(r)&&1!=SHARED||"2"!=(t=NZ(r))&&"3"!=t&&o.find("div.popup-btns button.gbtnTertiary.edit").hide()}n.open(),o.find(".confirm").focus()},popup:n,close:n.close};var o,n,r}function awo(e,i){return s=$(e).popup(),l=s.data("popup"),s.delegate("#update-swap","click",function(e){var t=s.find(".updatefile_file"),a=t.eq(0),t=t.eq(1);a.insertBefore("#update-availableat"),t.insertBefore("#update-swap"),s.find("#update-url").html(acz()+"/?"+t.data("quickkey")),aeV(e)}).delegate("#update-confirm","click",function(e){var t=s.find(".updatefile_file"),a=t.eq(0),t=t.eq(1).attr("data-quickkey"),a=a.attr("data-quickkey");LF.agk(t,a),l.close(),aeV(e)}).delegate("#update-cancel","click",function(e){l.close(),aeV(e)}),awJ(s,!1,!0),{open:function(e){e=e.split(",");var t=tH.files.yx(e[0]),a=tH.files.yx(e[1]),o=(r=t.created.split(" "))[0],n=r[1],e=o.split("-"),r=n.split(":"),n=(o=a.created.split(" "))[0],o=o[1],n=n.split("-"),o=o.split(":"),r=new Date(e[0],e[1],e[2],r[0],r[1],r[2],0).valueOf();new Date(n[0],n[1],n[2],o[0],o[1],o[2],0).valueOf()<r&&(r=t,t=a,a=r),a={file1:t,file2:a,Xh:10},s.html(i.update_file(a)),s.find("#update-url").html(acz()+"/?"+a.file1.quickkey),l.open()},popup:l,close:l.close};var s,l}function awP(e,t,a){return function(){var n=$(e).popup(),r=n.data("popup");n.html(t.pop_move());var o=new auj({container_selector:"#move-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)}}),i=!1;return n.delegate(".close","click",function(e){r.close(),aeV(e)}).delegate("#move-confirm","click",function(e){var t=n.find("input.files").val(),a=n.find("input.folders").val(),o=n.find(".current_folder_location").closest("li"),o=0<o.length?o.data("info").folderkey:"myfiles";LF.YO(t,a,o),r.close(),$("#folderlist_content").css("overflow-y",""),aeV(e)}).delegate("#move-create","click",function(e){$("#move-create").hide(),$("#move-create-subfolder-content").show(),$("#move-create-subfolder-name").focus(),$("#move-create-subfolder-confirm").click(function(){var e=n.find(".current_folder_location").data("folderkey");$("#move-create-subfolder-content").hide(),$("#move-create").show(),$("#move-create-subfolder-name").val()&&LF.Wt(e,$("#move-create-subfolder-name").val()),$("#move-create-subfolder-name").val("")}),$("#folderlist_content").css("overflow-y",""),aeV(e)}),awJ(n,!1,!0),{open:function(e,t){var a;o.bfx(tH.adq()),i||(a=-1!==document.getElementById("container").className.indexOf("collabmode"),tH.currentFolder&&"myfiles"!=tH.currentFolder.folderkey&&!a?o.acI("myfiles",tH.currentFolder.folderkey,function(){i=!0}):o.acI("myfiles",null,function(){i=!0})),n.find("input.files").val(e).end().find("input.folders").val(t).end(),$("#move-create").show(),$("#move-create-subfolder-content").hide(),$("#move-create-subfolder-name").val(""),r.open(),n.bind("click",function(e){aeV(e)})},popup:r,close:r.close}}()}function alT(e,t,a){return function(){var a=$(e).popup(),i=a.data("popup");a.html(t.pop_save());var o=new auj({container_selector:"#save-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)}}),n=!1;return a.delegate(".close","click",function(e){i.close(),aeV(e)}).delegate("#save-confirm","click",function(e){var o=a.find("input.files").val(),n=(a.find("input.folders").val(),a.find(".current_folder_location").closest("li").data("info").folderkey),r=a.find(".current_folder_location").closest("li").data("info").name||"";"myaccount"==n&&(n="myfiles",r="My Files"),r=r&&"'"+r+"'",o&&window.tH.Cp.auY(o,n,{success:function(e){var t=o.split(","),a=1<t.length?" files have":" file has";"Success"==e.response.result&&(Zi(0,t.length+a+" been saved to your "+r+" folder successfully."),"undefined"!=typeof aHa&&aHa&&aHa.aIX(n))},error:function(e){"162"==JSON.parse(e.responseText).response.error.toString()?aWg(!1,!1,!0):Zi(0,"There was an error trying to save to your account. Please try again later.")}}),i.close(),aeV(e)}),awJ(a,!1,!0),{open:function(e,t){(t?a.find("input.folders"):a.find("input.files")).val(e).end(),$("#save-create").show(),$("#save-create-subfolder-content").hide(),$("#save-create-subfolder-name").val(""),o.bfx(tH.adq()),n||(e=-1!==document.getElementById("container").className.indexOf("collabmode"),tH.currentFolder&&"myfiles"!=tH.currentFolder.folderkey&&!e?o.acI("myfiles",tH.currentFolder.folderkey,function(){n=!0}):o.acI("myfiles",null,function(){n=!0})),i.open(),a.bind("click",function(e){aeV(e)})},popup:i,close:i.close}}()}function aIt(e,t){return function(){var a=$(e).popup(),o=a.data("popup");a.html(t.pop_save_to_folder());var n=new auj({container_selector:"#destination-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)}}),r=!1;return a.delegate(".gbtnPrimary","click",function(e){o.close(),acb&&acb.cancel&&acb.cancel(),aeV(e)}).delegate("#destination-confirm","click",function(e){o.close();var t=a.find(".current_folder_location").data("info").folderkey;acb&&acb.success&&acb.success(t),aeV(e)}),awJ(a,!1,!0),{open:function(e,t){e&&(acb=e),n.bfx(tH.adq()),r||n.acI("myfiles",t||"myfiles",function(){r=!0}),o.open(),a.bind("click",function(e){aeV(e)})},popup:o,close:o.close,Xb:n}}()}function aFj(e,t,a){return function(){var n=$(e).popup(),r=n.data("popup");n.html(t.pop_copy());var a=new auj({container_selector:"#copy-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)},onFolderBrowserLoad:function(){var e=a.bbU;e&&!tH.folders.yx(e.folderkey)&&tH.folders.Yx(e.folderkey,e)}}),o=!1;return n.delegate(".close","click",function(e){r.close(),aeV(e)}).delegate("#copy-confirm","click",function(e){var t=n.find("input.files").val(),a=n.find("input.folders").val(),o=n.find(".current_folder_location").closest("li"),o=0<o.length?o.data("info").folderkey:"myfiles";LF.aFI(t,a,o),r.close(),$("#folderlist_content").css("overflow-y",""),aeV(e)}).delegate("#copy-create","click",function(e){$("#copy-create").hide(),$("#copy-create-subfolder-content").show(),$("#copy-create-subfolder-name").focus(),$("#copy-create-subfolder-confirm").click(function(){var e=n.find(".current_folder_location").data("folderkey");$("#copy-create-subfolder-content").hide(),$("#copy-create").show(),$("#copy-create-subfolder-name").val()&&LF.Wt(e,$("#copy-create-subfolder-name").val()),$("#copy-create-subfolder-name").val("")}),$("#folderlist_content").css("overflow-y",""),aeV(e)}),awJ(n,!1,!0),{open:function(e){var t;a.bfx(tH.adq()),o||(t=-1!==document.getElementById("container").className.indexOf("collabmode"),tH.currentFolder&&"myfiles"!=tH.currentFolder.folderkey&&!t?a.acI("myfiles",tH.currentFolder.folderkey,function(){o=!0}):a.acI("myfiles",null,function(){o=!0})),n.find("input.files").val(e.files?e.files.join():"").end().find("input.folders").val(e.folders?e.folders.join():"").end(),$("#copy-create").show(),$("#copy-create-subfolder-content").hide(),$("#copy-create-subfolder-name").val(""),r.open(),n.bind("click",function(e){aeV(e)})},popup:r,close:r.close,Xb:a}}()}function ayB(e,l){return function(){var t=$(e).popup(),a=t.data("popup");t.html(l.create_account());var o=[],n=[];function r(e){return e?"valid":"invalid"}function i(e,t){$(e).removeClass(r(!t)),$(e).addClass(r(t))}function s(e){$(e).removeClass(r(!1)),$(e).removeClass(r(!0))}return t.delegate("form","submit keyup focus blur",function(e){if(o&&o.length){var t=0,t="submit"===e.type?-1:0;return akc=!0,o[0].val().length>t&&(o[0].val().length<=3||!aoF(o[0].val()))?(i(n[0],!1),akc=!1):o[0].val().length>t?i(n[0],!0):s(n[0]),o[0].val().length>t&&(o[1].val().length<=3||!aoF(o[1].val()))?(i(n[1],!1),akc=!1):o[0].val().length>t?i(n[1],!0):s(n[1]),(o[2].val().length<6||15<o[2].val().length)&&o[0].val().length>t?(i(n[2],!1),akc=!1):o[0].val().length>t?i(n[2],!0):s(n[2]),(o[3].val().length<6||15<o[3].val().length)&&o[0].val().length>t?(i(n[3],!1),akc=!1):o[0].val().length>t&&i(n[3],!0),o[0].val()!=o[1].val()&&(i(n[1],!1),akc=!1),o[2].val()!=o[3].val()&&(i(n[3],!1),akc=!1),akc}}),t.delegate(".close","click",function(e){$('div[id^="MediaFireUploaderSWFDiv"]').show(),a.close(),aeV(e)}),t.delegate(".login_link","click",function(e){blX("Login"),a.close(),aeV(e)}),t.find(":input[name=reg_emailUL]").bind("keyup",function(){$(".anon-signup-confirm:eq(0)").show(500)}),t.find(":input[name=reg_passUL]").bind("keyup",function(){$(".anon-signup-confirm:eq(1)").show(500)}),awJ(t,!0,!0),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),t.find(":input[name=reg_passUL]").val("").end().find(":input[name=reg_passUL2]").val("").end(),a.open();for(var e=0;e<4;e++)o.push(t.find(":input:eq("+e+")")),n.push(".anon-form-section:eq("+e+") div.Form-inputStatusIcon");t.find(":input[name=reg_emailUL]").focus()},popup:a,close:a.close}}()}function axQ(n){return function(e,t){var a=e[n].split(" "),o=a[0],e=a[1],a=o.split("-"),o=e.split(":"),e=t[n].split(" "),t=e[0],e=e[1],t=t.split("-"),e=e.split(":");return new Date(a[0],a[1],a[2],o[0],o[1],o[2],0).valueOf()-new Date(t[0],t[1],t[2],e[0],e[1],e[2],0).valueOf()}}function axw(o){return function(t,a){try{return t[o].toLowerCase().replace(/[^a-zA-Z 0-9]+/g,"")<a[o].toLowerCase().replace(/[^a-zA-Z 0-9]+/g,"")?-1:1}catch(e){return void 0===t&&void 0===a?0:void 0===t?-1:void 0===a?1:void 0===t[o]&&void 0===a[o]?0:void 0===t[o]?-1:void 0===a[o]?1:0}}}function adA(e,t){var a=0;if(e.length&&t.length)return(a=e.length+t.length)+" items";if(e.length){if(1<(a=e.length))return a+" files";e=window.tH.files.yx(e);return e&&e.filename?"file "+e.filename:"file"}if(1<(a=t.length))return a+" folders";t=window.tH.folders.yx(t);return t&&t.name?"folder "+t.name:"folder"}function htmlspecialchars(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function bbx(e){var t;switch(e=!e?"Windows"==(t=lc())?"win-detected":"Mac"==t?"mac-detected":"linux-detected":e){case"win-detected":case"mac-detected":window.location="/software/desktop/?agree=yes";break;case"linux-detected":window.location="/software/";break;default:window.location="/software/desktop/?agree=yes&key="+e}return!1}function aDk(t){t=t||1e4;try{document.body.addEventListener("mousemove",function(e){0==GLB_bMouseMoved&&(GLB_bMouseMoved=!0),clearTimeout(aEi),aEi=setTimeout(function(){GLB_bMouseMoved=!1},t)},!1)}catch(e){}}function avh(){QU()}function aDQ(){QU(),blX("Login")}function bqE(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1),t=Math.max(a.getTimezoneOffset(),t.getTimezoneOffset());return e.getTimezoneOffset()<t}function aOr(){var e=-(new Date).getTimezoneOffset()/60;return bqE()&&e--,e}function bhT(){var e=aOr(),t=Math.floor(Math.abs(e)),a=e%1*60;return"GMT"+(0<e?"+":"-")+(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)}function aNk(){var e=new Date,t=new Date(e.getFullYear(),0,1),e=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=e.getTimezoneOffset()}function aNb(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1),a=Math.max(t.getTimezoneOffset(),a.getTimezoneOffset());return e.getTimezoneOffset()<a}function aXa(){var e,t=$("#avatarStorageNotice");0<t.length&&(aXm||aWx)?(e=aXm?"Exceeded":"Approaching",t.show().find("#storageStatus").text(e),t.find("a").unbind("click").click(function(){return aWg(),!1})):0<t.length&&t.hide(),1==aL("justloggedin")&&0<t.length&&(aXm||aWx)&&aWg(),baO("justloggedin")}function Ni(e,t,a,o,n){if(void 0!==t&&void 0!==a&&void 0!==e){n="yes"==n,a=parseInt(a,10),t=parseInt(t,10),e=t-a-e;if(e<0||n)return o&&Nu(t,a,Math.abs(e),n),!0}return!1}function Nu(t,a,o,n){LoadIframeLightbox("/templates/upgrade/storage_upsell.php",720,600,!1,!1,!0,!0),$("#modal_msg_iframe").load(function(){var e=$("#modal_msg_iframe").contents();n?e.find(".storageUpsell").removeClass("accountStorageGood unknownExceededLimitActive accountStorageExceeded").addClass("accountStorageExceeded"):e.find(".storageUpsell").removeClass("accountStorageGood unknownExceededLimitActive uploadExceeded").addClass("uploadExceeded"),e.find(".storageOverage").text(fileSizeToString(o)),e.find(".storageUsed").text(fileSizeToString(a)),e.find(".storageLimit, .fullStorage").text(fileSizeToString(t)),e.find(".halfStorage").text(fileSizeToString(t/2)),e.find(".upgradeAmount").text("$"+aXd+" more")})}function GLB_fUpdateStorageWidget(){(new tH.Dv).aXn({success:function(e){MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e.response.settings.used_storage_size),MYF_WIDGET_STORAGE_updateStorageDisplay()}})}function aXY(o,n){tH&&"undefined"!=typeof MYF_WIDGET_STORAGE_totalStorage?(new tH.Dv).aXn({success:function(e){e=e.response.settings;if(MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e.used_storage_size),MYF_WIDGET_STORAGE_updateStorageDisplay(),"no"==e.storage_limit_exceeded||!1===aXq){var t=0;if(n)for(var a=0;a<n.length;a++)t+=n[a].size;Ni(t,e.storage_limit,e.used_storage_size,!0,e.storage_limit_exceeded)||o(!1)}else aWg(!0),o(!0)},error:function(){o(!1)}}):o(!1)}function aYX(){var o=$(".dropdownOnClick");o.length&&o.each(function(e,t){$(t).find("a:first").click(function(e){var t=$(this).closest(".dropdownOnClick"),a=t.hasClass("show_dropdown");return o.removeClass("show_dropdown").unbind("clickoutside"),a||t.addClass("show_dropdown").bind("clickoutside",function(){$(this).removeClass("show_dropdown").unbind("clickoutside")}),!1})})}function blX(e){top.location="/login"+("RequireLogin"===e?"?l=1":"")}function GLB_fHeaderLoginHandler(){var t="true"===$("#login_signup").attr("data-redirect");return function(e){blX("Login",t?"myfiles":void 0),e.preventDefault()}}function bhh(e){return e=e.replace(/(\w+@[a-z0-9\-\.]{1,100}\.[a-z]{2,6})/gi,'<a href="mailto:$1">$1</a>').replace(/((https?|ftp)\:\/\/[a-z0-9\-\.]{1,100}\.[a-z]{2,6}([a-z0-9\/\-_~|\.?&=#+@%;,()!]*[a-z0-9\/\-_~|])?)/gi,'<a target="_blank" rel="noreferrer" href="$1">$1</a>')}function Cy(e){if(!0===e){if(top===self)return;top.location.href=self.location.href}else{var t;try{t=/\.mediafire\.com$/.test(top.location.host)}catch(e){t=!1}if(top===self||t)return;top.location.href=self.location.href}setTimeout(function(){Cy(e)},500)}function NZ(e){return e.permissions?"object"==typeof e.permissions?e.permissions.value?parseInt(e.permissions.value):0:parseInt(e.permissions):0}function agW(e,t){return e.folderkey?Encoder.XSSEncode(adv("folder",e.folderkey,bql(e.name))):(bpz="download"===t,bpH="edit"===t,e.links||!window.tH||!window.tH.files||(t=window.tH.files.yx(e.quickkey))&&t.links&&(e.links=t.links),e.links||(bqp=bql(e.filename),e.links={normal_download:adv("file",e.quickkey,bqp)},e.viewable&&(e.links.view=adv("view",e.quickkey,bqp))),!bpz&&!bpH&&e.viewable&&e.links.view?Encoder.XSSEncode(e.links.view):bpH&&e.links.edit?Encoder.XSSEncode(e.links.edit):e.links.normal_download?Encoder.XSSEncode(e.links.normal_download):"")}function functionCombiner(){this.fArray=[],this.add=function(e){"function"==typeof e&&this.fArray.push(e)},this.execute=function(){var t=arguments;this.fArray.forEach(function(e){e.apply(null,t)})}.bind(this)}function isSegmentEnabled(){return!!(window.analytics&&window.segmentIdentify&&window.segmentTrack)}function segmentIdentifyFull(){isSegmentEnabled()&&window.segmentIdentify&&segmentIdentify({disk_usage:window.tH.user_info.used_storage_size})}function SegmentIdentifyWithDiskSpace(){isSegmentEnabled()&&(new window.tH.Dv).Yw(function(e){e.response&&e.response.user_info&&(tH.user_info=e.response.user_info,segmentIdentifyFull())})}function randomString36(e){for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}function updateGOExperimentsCookie(n,r){try{var i=JSON.parse(aL("go_exp_list"))}catch(e){i=[]}i.forEach(function(e,t){var a=e.split(":"),o=a[0],e=a[1];a[2]<Math.floor(Date.now()/1e3)&&i.splice(t,1),r==o&&n==e&&i.splice(t,1)});var e=new Date;e.setDate(e.getDate()+30);e=r+":"+n+":"+Math.floor(e.getTime()/1e3);i.push(e);e=new Date;e.setFullYear(e.getFullYear()+1),document.cookie="go_exp_list="+JSON.stringify(i)+";expires="+e.toUTCString()+";domain=mediafire.com;path=/"}function bcP(e){try{if(!$("#userwork").length)throw 1;var t=window.location.protocol+"//"+window.location.hostname+"/dynamic/deleteaccount.php",a=$("<form>",{action:t,method:"post",target:"userwork",id:"UserWorkForm"}),o=$("<input>",{type:"hidden",name:"u",value:e}),n=$("<input>",{type:"hidden",name:"security",value:BIL_sSecurityToken});a.append(o).append(n),$(document.body).append(a),a.submit().remove()}catch(e){alert("Deletion Error\n\nThere was an unknown error while trying to delete your account.\n\nPlease contact support for further assistance.")}}aJ.gmail=function(){var e=location.protocol+"//"+location.host+"/auth/gmail/",r=void 0,i=e+"begin.php",t=e+"contacts.php",s=!(window.GmailOauthComplete=function(e){clearInterval(f),void 0!==r&&r.close(),e.error?l(e.error):e.fail?d():e.success?u?c(e.success):(e=e.success,s=!0,$.getJSON(t+"?rk="+e,function(e){s=!1,e.error?l(e.error):e.fail?d():void 0!==e.success?c(e.success):l("Improper success response found.")}).fail(function(e){s=!1,l(e.statusText)})):l("Improper complete response found.")}),l=void 0,d=void 0,c=void 0,f=void 0,u=!1;function p(){void 0!==r&&null!=r.window&&!r.closed||window.GmailOauthComplete({error:"The window was closed early."})}return{title:"Gmail",BeginAuth:function(e,t,a,o,n){s||(l="function"==typeof t?t:$.noop,d="function"==typeof a?a:$.noop,c="function"==typeof o?o:$.noop,u=1==n,t=void 0!==window.screenX?window.screenX:window.screenLeft,a=void 0!==window.screenY?window.screenY:window.screenTop,o=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,n=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,t=t<0?window.screen.width+t:t,o=parseInt(t+(o-450)/2,10),a=parseInt(a+(n-450)/2.5,10),(n=[]).push("width=450"),n.push("height=450"),n.push("left="+o),n.push("top="+a),n.push("scrollbars=1"),n.push("location=1,toolbar=0"),n=n.join(","),r=window.open(i,"MFGoogleOauth",n),f=setInterval(p,100),e())},CancelAuth:function(){void 0!==r&&null!=r.window&&r.close()}}}(),aJ.twitter=function(){var e=location.protocol+"//"+location.host+"/auth/twitter/",r=void 0,i=e+"begin.php",t=e+"contacts.php",s=!1,l=void 0,d=void 0,c=void 0,f=void 0;function u(){void 0!==r&&null!=r.window&&!r.closed||window.TwitterOauthComplete({error:"The window was closed early."})}return window.TwitterOauthComplete=function(e){clearInterval(f),void 0!==r&&r.close(),e.error?l(e.error):e.fail?d():e.success?s?c(e.success):(e.success,$.getJSON(t,function(e){e.error?l(e.error):e.fail?d():void 0!==e.success?c(e.success):l("Invalid success response found.")}).fail(function(e){l(e.statusText)})):l("Improper complete response found.")},{title:"Twitter",BeginAuth:function(e,t,a,o,n){l="function"==typeof t?t:$.noop,d="function"==typeof a?a:$.noop,c="function"==typeof o?o:$.noop,s=1==n,t=void 0!==window.screenX?window.screenX:window.screenLeft,a=void 0!==window.screenY?window.screenY:window.screenTop,o=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,n=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,t=t<0?window.screen.width+t:t,o=parseInt(t+(o-680)/2,10),a=parseInt(a+(n-530)/2.5,10),(n=[]).push("width=680"),n.push("height=530"),n.push("left="+o),n.push("top="+a),n.push("scrollbars=1"),n.push("location=1,toolbar=0"),n=n.join(","),r=window.open(i,"MFTwitterOauth",n),f=setInterval(u,100),"function"==typeof e&&e()},CancelAuth:function(){void 0===r||r.closed||r.close()}}}(),$.values=function(e){var a=[];return $.each(e,function(e,t){a.push(t)}),a},$.fn.reverse=[].reverse,$(aYX),function e(){isSegmentEnabled()&&(window.tH&&tH.user_info&&tH.user_info.used_storage_size?segmentIdentifyFull():setTimeout(e,2e3))}();var JG,ajo,er=1,GM=0,mu=1,eN=1,jS=-1,oM=0,eF=0,eA=-1,gj=0,gv=0,kc=0,gD=0,oD=0,gn=0,bab=0,iZ="",MP=!1,fw=new String(""),Sj=new String(""),gX=0,hZ=0,fq=0,hC=0,eV=1,nk=5,jO=0,jE="",gf=0,kK=null,lk=null,lW="",iR=!1,uE=!1,iJ=-1,jT=0,iP=0,iPreviewScroll=1,RB=0,RA="",SJ=-1,Ua=new Array,agb=0;function dM(e){if(0==iR)return!1;if(null==aProfileFiles)return!1;for(var t=0;aProfileFiles[t];t++)if(aProfileFiles[t]==e)return!0;return!1}function bdh(){document.getElementById("image_thumb_small")&&(document.getElementById("image_thumb_small").className="thumbnail_ns"),document.getElementById("image_thumb_small2")&&(document.getElementById("image_thumb_small2").className="thumbnail_ns"),document.getElementById("image_thumb_big")&&(document.getElementById("image_thumb_big").className="thumbnail_ns"),document.getElementById("image_thumb_big2")&&(document.getElementById("image_thumb_big2").className="thumbnail_ns")}function ej(){if(eL==eU)return parent.aH(0,"You are current NOT in a folder, please enter a folder or create a folder before attempting to share."),!1}function qJ(){var e,t,a="",o="",n=0,r=document.getElementById("email_files_qks"),i=document.getElementById("email_files_filenames"),s=document.getElementById("email_files_form"),l=document.getElementById("email_files_to");if(l&&""==l.value)aH(0,"You must enter your valid email address in the 'Recipient Email' box..");else if(0<HX){for(var d=0;d<eB&&d<=eA&&d<=eA-eE[er]*eB&&aCurrentOrder[d][0];)e=document.getElementById("filecheck"+(d+1)),t=es[aCurrentOrder[d][0][1]],e&&1==e.checked&&t&&(1==t[1]&&1!=t[11]&&(0<n&&(a+=";;",o+=";;"),a+=t[3],o+=t[5],n++),2==t[1]&&1!=t[11]&&(0<n&&(a+=";;",o+=";;"),a+=t[15],o+=t[5],n++)),d++;if(n<=0)return aH(0,"No public files or folders are currently selected","please select one or more non-private items before attempting to send them via email."),!1;r.value=a,i.value=o,aH(2,"Sending "+n+" item(s) via email.."),s?s.submit():aH(0,"HTML components missing","Unable to perform the operation. Please contact support.")}else aH(0,"Select at least one public file or folder to email..")}function bbX(e,t,a){var o=document.getElementById("thumbpop"+t);es[a]&&1==es[a][2]&&o&&(1===e?(cE(document.getElementById("previmg"+t),es[a][15]),o.className="thumbpop"+t):o.className="hide")}function MyFilesSwapOptions(){for(var e=0;eS[e]||fN[e];e++)document.getElementById(eS[e])&&(document.getElementById(eS[e]).className="hide"),document.getElementById(fN[e])&&(document.getElementById(fN[e]).className="show");try{if(1==Number(qm))for(e=0;qj[e]||qi[e];e++)document.getElementById(qj[e])&&(document.getElementById(qj[e]).className="hide"),document.getElementById(qi[e])&&(document.getElementById(qi[e]).className="show")}catch(e){}}function dV(e){var t=document.getElementById("curr_previmage_name"),a=document.getElementById("curr_previmage_id");if(!t||!a)return aH(0,"Missing site components."),!1;e="/imageview.php?quickkey="+es[a.value][3]+"&thumb="+e;window.open(e)}function cP(){var e=aL("thumbsize");0!=parseInt(e)&&1!=parseInt(e)||(eV=parseInt(e));e=aL("mflt");if(0<parseInt(e)&&(mu=parseInt(e)),!document.getElementById("is_shared")||1!=document.getElementById("is_shared").value){var t=aL("mflf");if(t){var a=!1;if(void 0!==t){for(var o=0;o<es.length;o++)try{if(t==es[o][3]){a=!0;break}}catch(e){}a&&(jE=t)}}var n=aL("mfpf");n&&(jS=n)}n=aL("mfipp");n&&(bbD=+n),document.getElementById("is_shared")&&1==document.getElementById("is_shared").value||((n=aL("mfsf"))&&(kc=+n),(n=aL("mfsd"))&&(gD=+n))}function dX(){var e=document.getElementById("form_todolist1"),t=document.getElementById("form_todolist2"),a=document.getElementById("form_todotype"),o=document.getElementById("form_todoform"),n=document.getElementById("curr_previmage_name"),r=document.getElementById("curr_previmage_id");if(o&&a&&t&&e&&n&&r){if(confirm("Are you sure you want to delete the image named '"+n.value+"'?")){a.value=1,e.value="";a=null,t.value="";return(a=es[r.value])&&(e.value+=a[1]+":"+a[3]+";",baY(r.value)),e.value&&(aH(2,"Deleting 1 Image.."),o.submit(),aG(fg=-1),bdm()),!1}return!1}aH(0,"Missing site components.")}function CyclePreview(e){if(aCurrentOrder[e+(fg-1)]&&1==aCurrentOrder[e+(fg-1)][1]&&document.getElementById("imagethumb"+(e+fg)))fg=e+fg;else if(e<0){for(var t=eB;1<=t;t--)if(aCurrentOrder[t-1]&&1==aCurrentOrder[t-1][1]){fg=t;break}}else for(t=1;t<=eB&&t<=eA&&t<=eA-eE[er]*eB;t++)if(1==aCurrentOrder[t-1][1]){fg=t;break}aG(fg)}function bdm(){gG=document.getElementById("preview_box"),Qh=document.getElementById("myimages"),hy=document.getElementById("preview_window_show"),hz=document.getElementById("preview_window_hide"),gG&&(gG.innerHTML=""),hy&&(hy.className="preview_image"),hz&&(hz.className="hide"),Qh&&(Qh.style.minHeight=""),"function"==typeof window.onscroll&&window.onscroll(),bbC()}function bbC(){for(var e=1;e<=eB&&e<=eA&&e<=eA-eE[er]*eB;e++)qC=document.getElementById("imagethumb"+e),qC&&1==aCurrentOrder[e-1][1]&&("small_private"==qC.className||"medium_private"==qC.className?qC.className=eV?"small_private":"medium_private":"small_password"==qC.className||"medium_password"==qC.className?qC.className=eV?"small_password":"medium_password":"small_private_selected"==qC.className||"medium_private_selected"==qC.className?qC.className=eV?"small_private":"medium_private":"small_password_selected"==qC.className||"medium_password_selected"==qC.className?qC.className=eV?"small_password":"medium_password":qC.className=eV?"small_thumbnail":"medium_thumbnail")}function aG(e){if(-1!=fg||-1!=e||0<gX){if(fg=-1,0<=e)fg=e;else for(var t=1;t<=eB&&t<=eA&&t<=eA-eE[er]*eB;t++)if(1==aCurrentOrder[t-1][1]){fg=t;break}var a;bbC(),document.getElementById("imagethumb"+fg)?(a="","small_private"==(e=document.getElementById("imagethumb"+fg)).className||"medium_private"==e.className?(e.className=eV?"small_private_selected":"medium_private_selected",a=" image_private"):"small_password"==e.className||"medium_password"==e.className?e.className=eV?"small_password_selected":"medium_password_selected":e.className=eV?"small_select":"medium_select",Qh=document.getElementById("myimages"),hy=document.getElementById("preview_window_show"),hz=document.getElementById("preview_window_hide"),gG=document.getElementById("preview_box"),gG.innerHTML="",gG&&(gG.className="preview_image"+a,mV=Bf(eH[7].replace(/#FILENUM#/g,"PREVIEW"),aCurrentOrder[fg-1][0][1],0,0),gG.innerHTML=mV),Qh&&(Qh.style.minHeight="1025px"),hz&&(hz.className="preview_image"),hy&&(hy.className="hide")):aH(0,"NOTICE: No image available to preview."),ae("sharetabsfilePREVIEW-",1),"function"==typeof window.onscroll&&window.onscroll(),Xc(0,document.getElementById("sharetemplatefilePREVIEW"),"PREVIEW","sharedtabsfileinfoPREVIEW-")}else bdm()}function uH(e,t,a){for(var o in aCurrentOrder)if(aCurrentOrder[o][5]==e){aCurrentOrder[o][4]=t;break}if(a=a||!1)for(var n in es)if(es[n][3]==e){es[n][16]=t;break}}function Qw(t){Qg("Password protect this file",[["password","Password: (Enter a password to protect this file)","password",document.getElementById("password_list"+t).value]],function(e){Zi(3,"Updating password for '"+document.getElementById("textfilename"+t).value+"'..please wait.."),aqr(1,"add_password"+t,"add_password"+t,"hide","div"),document.getElementById("password_list"+t).value=e.password,document.getElementById("form_todoform"+t).submit()},null,"Save")}function PQ(e,t){eL!=eU&&1!=jQuery("#is_shared").val()&&(MP||baI(null,eL,e,t)&&($infobox=jQuery("#folder_infobox"),$infobox.toggleClass("thisfolder_private")))}function baI(t,a,o,e){var n,r=document.getElementById("myfileswork");if(r){for(var i,s,l,d=0;i=es[d];d++)if(i[3]==a){if("2"==i[1])for(var c=0;s=es[c];c++)if("2"==s[1]&&s[4]==a){if(void 0===e)return QS("Change privacy settings to "+(1==o?"private":"public"),"Would you like to apply the privacy change to the sub-folders of <b>"+i[5]+"</b> ?",[["all","All Subfolders"],["this","This Folder"],["cancel","Cancel","grey"]],function(e){"all"==e?baI(t,a,o,!0):"this"==e&&baI(t,a,o,!1)}),!1;e&&DoRecursiveFolderAclChange(a,o);break}i[11]=o,es[d]=i,n=e?"/dynamic/doaclchange.php?quickkey="+a+"&acl="+o+"&type="+i[1]+"&filenum="+t+"&recursive=1":"/dynamic/doaclchange.php?quickkey="+a+"&acl="+o+"&type="+i[1]+"&filenum="+t,r.location?r.location=n:r.src=n;break}for(l in aCurrentOrder)if(aCurrentOrder[l][5]==a){aCurrentOrder[l][3]=o;break}return!0}}function DoRecursiveFolderAclChange(e,t){for(var a,o=0;a=es[o];o++)"2"==a[1]&&a[4]==e&&(a[11]=t,DoRecursiveFolderAclChange(a[3],t))}function dI(e,t){uH(t,0),document.getElementById("password_list"+e).value="";for(var a=0;es[a];a++)if(es[a][3]==t)return es[a][14]="",es[a][16]=0,document.getElementById("form_todoform"+e).submit(),!0;return!1}function dQ(e){return confirm("Do you want to remove the password for '"+e+"'?")}function Zz(){var e=document.getElementById("detailedviewA");e&&1==gf?e.innerHTML="Hide Extra Details":e&&0==gf&&(e.innerHTML="Show Extra Details")}function cZ(){gf=1==gf?(aY("advancedview",0,90),0):(aY("advancedview",1,90),1),Zz(),jQuery("#file_details_toggle").toggleClass("details_hidden",!!gf),RenderMyFiles(er,eN)}function Ro(){MP=!1,jQuery("#folder_infobox").removeClass("searchmode"),jQuery("#main_files_container, #new_folder_trigger").removeClass("searchmode"),jQuery("#clear_search").hide()}function aN(){var e=document.getElementById("search_input"+er);e&&""!=e.value&&(e.value="");e=document.getElementById("search_delete_button"+er);e&&(e.style.visibility="hidden"),fw="",Ro(),eA=-1,eE[er]=0,DoHide("search_processing_icon"+er),4==kc&&(kc=0,Um())}function bbA(e,t){t=document.getElementById("search_delete_button"+t);t&&(t.style.visibility=e)}function bbP(e){jQuery("#clear_search").show();if(e==fw)return DoHide("search_processing_icon"+er),!1;var t=document.getElementById("search_input"+er);if(t&&e!=t.value&&"Viewing All"!=t.value)return DoHide("search_processing_icon"+er),!1;DoShow("search_processing_icon"+er),Sj=Sq(fw=e),!MP&&fw&&(kc=4,gD=0,Um()),MP=!!fw,eA=-1,eE[er]=0,RenderMyFiles(er,eN),0==fw.length&&(bbA("hidden",er),aN()),MP&&(bbA("visible",er),jQuery("#folder_infobox, #new_folder_trigger").addClass("searchmode"),jQuery("#main_files_container").addClass("searchmode")),DoHide("search_processing_icon"+er)}function Sq(e){for(So=new RegExp('^([^"]*)["]([^"]*)["](.*)$'),Si=Array(),Si.push(e),Sl=Array();Si.length;)if(Sk=Si.shift(),acF=So.exec(Sk))acF[1]&&Si.push(acF[1]),acF[2]&&Sl.push(acF[2]),acF[3]&&Si.push(acF[3]);else{Sk=Sk.replace('"',""),Sn=Sk.split(" ");for(var t=0;t<Sn.length;t++)Sm=Sn[t].trim(),Sm.length&&Sl.push(Sm)}return Sl.join("|")}function baY(e){e=es[e];if(!e)return!1;e[0]=0}function cG(e,t,a){for(var o,n,r="",i=!1,s=-1;n=es[++s];)1==n[0]&&n[4]==e&&(i=(2==n[1]&&0!=(o=cG(n[3],t+1))?r+=n[1]+":"+n[3]+";"+o:r+=n[1]+":"+n[3]+";",a||baY(s),!0));return!!i&&r}function Gm(e){return-1==e.lastIndexOf(".")?"":e.substr(e.lastIndexOf(".")+1).toLowerCase()}function Gp(){for(var e=Array(),t=0,a=1;a<=eB&&a<=eA&&a<=eA-eE[er]*eB;a++)eR=document.getElementById("filecheck"+a),Ub=es[aCurrentOrder[a-1][0][1]],eR&&1==eR.checked&&Ub&&(e[t++]=Array(aCurrentOrder[a-1][0][1],Ub));return e}function bqy(e){if(fu||hq){var t=[["2",e,0]];if(eL!=eU)for(var a=0;a<axL.length;a++)axL[a][1]==eL&&axL[a][0];(e=Dk(e,1))?(t=t.concat(e),Co(t,"")):aH(0,"Folder must contain at least one item to zip.")}else Ck()}function dU(e,t,a,o){if(!(o&&e&&t&&a))return!1;var n=t.value,t=t[t.selectedIndex].text.trim();if(0<HX)if(MP||eL!=n){o.value="";for(var r,i,s,l=!1,d=(eU,eU),c=1;c<=aCurrentOrder.length;c++)if((r=document.getElementById("filecheck"+c))&&(i=es[aCurrentOrder[c-1][0][1]],d=n,r&&1==r.checked&&i)){if(i[4]==n){aH(0,"One of the source folders ("+i[5]+") is already in the destination folder, nothing will be moved. "),l=!0;break}if(2==i[1]){if(i[3]==n){aH(0,"One of the source folders ("+i[5]+") is the destination folder, nothing will be moved. "),l=!0;break}for(var f=0;(s=aE(d))!=eU&&f<1e3;){if(s==i[3]){l=!0,aH(0,"The source folder ("+i[5]+") is in the destination tree, you cannot move folders in this fashion.");break}d=s,f++}}l||(o.value+=i[1]+":"+i[3]+";")}if(l)return o.value="",!1;0!=HX&&(NV=1==HX?"":"s",aH(2,"Moving "+HX+" selected item"+NV+" to folder '"+t.trim()+"'..")),a.submit()}else aH(0,"The destination folder ('"+t+"') and the current folder selected are the same.");else aH(0,"You must select at least one item to move.")}function aE(e){for(var t=0;t<fz+1;t++)if(axL[t][1]==e)return axL[t][3];return 0}function OF(){var e=axL[GM]&&eL!=eU?axL[GM][0]:"My Files";"My Files"==e&&1==jQuery("#is_shared").val()&&(e="Shared Files"),jQuery(".location_title").text(e)}function ak(e,t){if(e=e||eU,null==axL)return setTimeout(function(){ak(e)},1e3),!1;if(!MP&&e==eL)return!1;if(!e)return!1;t||aN(),eL=e,eA=-1,eE[er]=0;var a,o=document.getElementById("current_folder_name"+er),n=document.getElementById("parent_folder_names"+er);if(o&&n){var r=eU;n.innerHTML="",o.innerHTML="";for(var i=0;i<fz+1;i++)if(axL[i]&&axL[i][1]==eL){GM!=i&&(GM=i,Oq()),axL[i][1]!=eU&&(o.innerHTML="&nbsp;/&nbsp; <span>"+axL[i][0]+"</span>"),r=axL[i][3];break}for(var s=Array(),l=0;r!=eU;)for(i=0;i<fz+1;i++)if(axL[i][1]==r){s[l]='&nbsp;/&nbsp; <a href="#" class="breadcrumb" data-quickkey="'+axL[i][1]+'" OnClick=" ak(\''+axL[i][1]+"'); return false;\">"+axL[i][0]+"</a> ",r=axL[i][3],l++;break}for(;0<l;)n.innerHTML+=s[--l];document.getElementById("is_shared")&&1==document.getElementById("is_shared").value&&1!=Number(qm)||(aU("mflf",eL,100),aU("mfpf",r,100))}RenderMyFiles(er,eN),OF(),axL[GM]&&(a=kr(axL[GM][1])),jQuery("#folder_infobox").toggleClass("thisfolder_private",!a||1==a[11]),eL==eU?(jQuery("#folder_infobox, #main_files_container, #view_options").addClass("thisfolder_root"),jQuery("#infobox_lg").css("display","none"),jQuery(".flyout_pointer_left").css("display","none"),jQuery("#view_details").addClass("notset"),setTimeout(function(){jQuery("#folderinfo_details").slideUp(600)},200),jQuery("#folder_share").toggleClass("control_disabled",!US()),NF()):(jQuery("#folder_infobox, #main_files_container, #view_options").removeClass("thisfolder_root"),OH(),jQuery("#infobox_lg").css("display",""),jQuery(".flyout_pointer_left").css("display",""),jQuery("#view_details").removeClass("notset"),jQuery("#folder_share").toggleClass("control_disabled",a&&1==a[11]),Pu(a&&a[13]))}var ajn=!1,NX=!1;function NF(){jQuery("#folder_infobox").removeClass("show_folderpreview")}function Pu(e){""!==e?NX||(!1!==ajn&&clearTimeout(ajn),jQuery("#infobox_desc_text").text(e),jQuery("#folder_infobox").addClass("show_folderpreview"),ajn=setTimeout(function(){NF()},5e3)):NF()}function OH(){if((Wk=axL[GM])&&(kf=kr(Wk[1]))){jQuery("#infobox_name").text(kf[5]);var e=cF(eL);jQuery("#infobox_details").text("Created: "+kf[10]+", "+e[1]+" folders, "+e[0]+" files");for(var t="",a=kf[12].split(" "),o=0;(a[o]||a[o+1])&&o<30;o++)t+="<a href='#' OnClick='document.getElementById(\"search_input"+er+"\").value=this.innerHTML; bbP(this.innerHTML); return false;'>"+a[o]+"</a> ";var n=kf[13],r=!t&&!n,t=t||'<a href="#" class="edit_fileinfo_trigger">Add tags...</a>',n=n||'<a href="#" class="edit_fileinfo_trigger">Add description...</a>';jQuery("#infobox_tags").html(t),jQuery("#infobox_desc").html(n),jQuery("#folderinfo_filecount").html("Folders: "+e[1]+"<br>Files: "+e[0]),jQuery("#folderinfo_tags").html(t),jQuery("#folderinfo_desc").html(n),r&&jQuery("#folderinfo_details").slideUp(600)}}function cX(){aS(0,kK)}function cT(e,t){var a;t=t||"move_dest_"+e,a=1==iR?'<select id="'+t+'" name="move_dest_'+e+'" style=" width: 120px;">':'<select id="'+t+'" name="move_dest_'+e+'" style=" width: 150px;">';for(var o=0,n=0;n<fz+1;n++)if(axL[n]){for(var o="",r=0;4*axL[n][2]>r;r++)o+="&nbsp;";a+='<option value="'+axL[n][1]+'">'+o+axL[n][0]+"</option>"}return a+="</select>"}function apN(e,t,a){if(!(0<fz))return axL=Array(),!1;if(20<=a)return aH(0,"Maximum Folder Depth Reached!"),!1;0==t&&(axL=Array(fz),axL[0]=Array("My Files",eU,0,eU),t++);for(var o,n=0;n<fz&&fd[n];n++)(o=es[fd[n][1]])[4]==e&&1==o[0]&&2==o[1]&&"deleted"!==o[18]&&(axL[t]=Array(o[5],o[3],a,o[4]),t=apN(o[3],++t,a+1));return t}function aS(e,t){0==(t=null==t?"#FFFFFF":t)&&(t="");var a=document.getElementById("new_folder"),o=document.getElementById("tag_selected"),n=document.getElementById("move_selected"),r=document.getElementById("email_selected"),i=document.getElementById("viewaccount_selected"),s=document.getElementById("new_folderA"),l=document.getElementById("tag_selectedA"),d=document.getElementById("move_selectedA"),c=document.getElementById("email_selectedA"),f=document.getElementById("viewaccount_selectedA");if(o.className="hide",a.className="hide",n.className="hide",r.className="hide",i.className="hide",l.style.backgroundColor=t,s.style.backgroundColor=t,d.style.backgroundColor=t,c.style.backgroundColor=t,f.style.backgroundColor=t,e!=gn){switch(e){case 1:document.getElementById("new_folder_name").value="",a.className="show",s.style.backgroundColor="#E1EDFF",document.getElementById("new_folder_name").focus();break;case 2:document.getElementById("tag_desc_list").value="",o.className="show",l.style.backgroundColor="#E1EDFF",document.getElementById("tag_desc_list").focus();break;case 3:document.getElementById("move_dropdown").innerHTML=cT("navbar_filelist"),n.className="show",d.style.backgroundColor="#E1EDFF",document.getElementById("move_dest_navbar_filelist").focus();break;case 4:document.getElementById("email_files_to").value="",r.className="show",c.style.backgroundColor="#E1EDFF",document.getElementById("email_files_to").focus();break;case 5:i.className="show",f.style.backgroundColor="#E1EDFF",document.getElementById("stat_num_files").focus()}gn=e}else gn=0}function dE(e){e.value!=hC&&(e.disabled=!0,bbj(e.value),e.disabled=!1)}function bbj(e){hC=e,eA=-1,eE[er]=0,RenderMyFiles(er,eN)}function dN(e,t,a,o){switch(aH(2,"Creating Folder.."),bde(t.value)){case-3:aH(0,"The folder name you entered contains invalid characters."),e.disabled=!1;break;case-2:aH(0,"The folder name you entered is too long, please correct and try again."),e.disabled=!1;break;case-1:aH(0,"The folder name you entered is too short, please correct and try again."),e.disabled=!1;break;case 0:document.getElementById("new_folder_parent").value=eL,o.submit();break;default:aH(0,"The folder name you selected to create was invalid for an unknown reason, please check it and try again."),e.disabled=!1}}function eo(e){for(var t=e,a=0;a<t.length;a++){var o=t.charAt(a).charCodeAt(0);if(!(31<o&&o<59||57<o&&o<94||93<o&&o<123))return!1}return!1}function ep(e){for(var t=e,a=0;a<t.length;a++){var o=t.charAt(a).charCodeAt(0);if(!(47<o&&o<59||64<o&&o<90||96<o&&o<123))return!1}return!1}function bde(e){var t=0;return e.length<1&&(t=-1),t=40<e.length?-2:t}function xO(e){var t,a;switch(e){case 2:t="dropbox_color_options";break;case 3:t="dropbox_advanced_options";break;default:t="dropbox_basic_settings"}DoHide("dropbox_basic_settings"),DoHide("dropbox_color_options"),DoHide("dropbox_advanced_options"),DoShow(t);for(var o=1;o<=3;o++)(a=document.getElementById("dropbox_tab_"+o))&&a.className&&(a.className="");(a=document.getElementById("dropbox_tab_"+e))&&(a.className="current")}function na(e,t){var a;if(a=document.getElementById("hextext_"+e))return xI(e,!0,a,["#000000","#ffffff","#cccccc","#666666","#000000","#9900ff","#003399","#00ccff","#00ff99","#66ff00","#ffff00","#ff6600","#ff0000"][t])}function xI(e,t,a,o){if(!a&&!(a=document.getElementById("hextext_"+e)))return!1;o&&(a.value=o);for(var n=a.value.replace(/[^0123456789ABCDEFabcdef]/g,"");n.length<6;)n+="0";return n="#"+n,(7<a.value.length||t)&&(n=n.substr(0,7),a.value=n.toLowerCase()),(t=document.getElementById("color_preview_"+e))&&(t.style.background=n),String(a.value).replace(/[^0123456789ABCDEFabcdef#]/g,"")!=a.value?(zy(e,a.value=n),!1):(zy(e,n),!0)}function Al(e){var t;(t=document.getElementById("dropbox_step1"))&&(t.style.background=e)}function Ak(e){var t;(t=document.getElementById("dropbox_header_div"))&&(t.style.background=e)}function Ah(e){var t;(t=document.getElementById("dropbox_header_div"))&&(t.style.color=e)}function Ad(e){var t;(t=document.getElementById("dropbox_message_div"))&&(t.style.color=e)}function Ae(e){var t;(t=document.getElementById("dropbox_link"))&&(t.style.color=e)}function zx(e){var t;(t=document.getElementById("dropbox_header_div"))&&($("span.fileDropPreviewCount").text(parseInt($("#dbx_input_header").attr("maxlength"),10)-$("#dbx_input_header").val().length),$(t).text(e))}function zs(e){var t;(t=document.getElementById("dropbox_greeting"))&&(t.innerHTML=e)}function zy(e,t){(e=[null,Al,Ak,Ah,Ad,Ae][e])&&e(t)}var DropboxObj={yi:480,Fb:0};function Bu(){function e(e){if(e=document.getElementById(e))return e.value;aH(0,"Missing site components. Unable to set FileDrop.")}function t(e){var t;if((e=document.getElementById(e))&&(t=e.options[e.selectedIndex]))return t.value;aH(0,"Missing site components. Unable to set FileDrop.")}DropboxObj.yj=e("dbx_input_header"),DropboxObj.yh=e("dbx_input_greeting"),DropboxObj.yn=e("dbx_input_completion"),DropboxObj.yi=t("dbx_input_width"),DropboxObj.AF=e("hextext_1"),DropboxObj.AH=e("hextext_2"),DropboxObj.AC=e("hextext_3"),DropboxObj.AA=e("hextext_4"),DropboxObj.AB=e("hextext_5"),DropboxObj.zO=t("dbx_input_allow_description"),DropboxObj.uL=t("dbx_input_notification_email"),DropboxObj.Bh=t("dbx_input_allow_multiple")}function Ab(){var e,t=document.getElementById("form_dbx");if(Bu(),t){for(var a=[DropboxObj.yj,DropboxObj.yh,DropboxObj.yn],o=0,n=a.length;o<n;o++)if(""===a[o])return xO(1),void aH(0,"Please fill in all text fields.");for(var r=["dbx_folder","dbx_text1","dbx_text2","dbx_text3","dbx_color1","dbx_color2","dbx_color3","dbx_color4","dbx_color5","dbx_sharing","dbx_descrip","dbx_multi","dbx_width","dbx_email"],i=[DropboxObj.currentFolder,DropboxObj.yj,DropboxObj.yh,DropboxObj.yn,DropboxObj.AF,DropboxObj.AH,DropboxObj.AC,DropboxObj.AA,DropboxObj.AB,DropboxObj.Bg,DropboxObj.zO,DropboxObj.Bh,DropboxObj.yi,DropboxObj.uL],o=0,n=r.length;o<n;o++){if(!(e=document.getElementById(r[o])))return void aH(0,"Missing site components. Unable to set FileDrop.");e.value=i[o]}aH(2,"Saving FileDrop settings.");var s=tH.folders.yx(DropboxObj.currentFolder);aHa&&s&&s.parent&&aHa.aIX(s.parent.folderkey),t.submit()}else aH(0,"Missing site components. Unable to set FileDrop.")}function zZ(e){aH(2,"Disabling FileDrop."),zp(!1,e)}function zp(e,t,a){var o=document.getElementById("form_dbx_status"),n=document.getElementById("dbx_status_enable"),r=document.getElementById("dbx_silent_return"),i=document.getElementById("dbx_status_id");o&&n&&i&&r?(e?(n.value="1",zr()):(n.value="0",zq()),r.value=a?"1":"0",i.value=void 0!==t?t:DropboxObj.currentFolder,i=tH.folders.yx(i.value),aHa&&i&&i.parent&&aHa.aIX(i.parent.folderkey),o.submit()):aH(0,"Missing site components. Unable to set FileDrop.")}function zr(){var e=DropboxObj.currentFolder;$("#folder-"+e).addClass("dropbox"),window.tH.folders.memory[e].dropbox_enabled="yes"}function zq(){var e=DropboxObj.currentFolder;$("#folder-"+e).removeClass("dropbox"),window.tH.folders.memory[e].dropbox_enabled="no"}function zW(e,t){aH(0,"Loading folder FileDrop data.","");var a=document.getElementById("form_dbx_folder"),o=document.getElementById("dbx_text_embeded"),n=document.getElementById("dbx_folderid");DropboxObj.currentFolder=e,DropboxObj.currentMyFilesPosition=t,DropboxObj.zF="";var r=document.getElementById("dbx_input_header"),i=document.getElementById("dbx_input_greeting"),s=document.getElementById("dbx_input_completion"),t=document.getElementById("dbx_input_width");r&&i&&s&&t?(r.value&&r.value!=DropboxObj.yj&&(DropboxObj.yj=r.value),i.value&&i.value!=DropboxObj.yh&&(DropboxObj.yh=i.value),s.value&&s.value!=DropboxObj.yn&&(DropboxObj.yn=s.value),a&&o&&n?(o.innerHTML="Retrieving folder data...",n.value=e,a.submit()):aH(0,"Missing site components.")):aH(0,"Missing site components.")}function Bl(e){function t(e,t){var a,o,n;if(a=document.getElementById(e))if("select"==a.type)for(o=0,n=a.length;o<n;o++)(a[o].value=t)&&(a[o].selected=!0);else a.value=t}if(DropboxObj.currentFolder){if(av(),arguments.length<2||"1"!=arguments[1]){if(!fu)return void(window.PremiumUpsellLightbox&&window.PremiumUpsellLightbox.showUpsell("pro","filedrop"));if(!confirm("This folder is not enabled as a FileDrop. Would you like to enable the folder as a FileDrop? (This can be undone at any time.)"))return void zq();zp(!0,DropboxObj.currentFolder)}zr(),1<arguments.length&&(t("dbx_input_header",arguments[2]),t("dbx_input_greeting",arguments[3]),t("dbx_input_completion",arguments[4]),zx(arguments[2]),zs(arguments[3]),t("hextext_1",arguments[5]),t("hextext_2",arguments[6]),t("hextext_3",arguments[7]),t("hextext_4",arguments[8]),t("hextext_5",arguments[9]),na(1,arguments[5]),na(2,arguments[6]),na(3,arguments[7]),na(4,arguments[8]),na(5,arguments[9]),t("dbx_input_allow_description",arguments[10]),t("dbx_input_allow_multiple",arguments[12]),t("dbx_input_notification_email",arguments[13])),e&&(DropboxObj.zF=e),Fd(!0),zn(),xO(1),window.afU()}}function zM(e){var t;e&&(t=e.options[e.selectedIndex])&&(DropboxObj.yi=t.value),zn()}function zn(){var e=GetDefaultSubDomain();(elm=document.getElementById("dbx_text_embeded"))?(vU='<script type="text/javascript">',vU+="var mf_dropbox_width="+DropboxObj.yi+";",0<DropboxObj.Fb&&(vU+="var mf_dropbox_extralines="+DropboxObj.Fb+";"),vU+='var mf_dropbox_id="'+DropboxObj.zF+'";',vU+='<\/script><script type="text/javascript" src="//'+e+'.mediafire.com/dropbox/dropbox.js"><\/script>',elm.value=vU,document.getElementById("hostedfiledrop_text_share").value="http://"+e+".mediafire.com/filedrop/filedrop_hosted.php?drop="+DropboxObj.zF):aH(0,"Missing site components."),(elm=document.getElementById("dropbox_step1"))&&(-1==DropboxObj.yi?elm.style.width="100%":elm.style.width=DropboxObj.yi+"px")}function Ck(){LoadIframeLightbox("/templates/upgrade/bulkdownload.php",800,460)}var Xe,Zw={},aVt="",aME={};function Eh(e,t){av(),aVt=e,aME.use_own_bandwidth=!1,t?LoadIframeLightbox("/templates/confirm/approvebandwidthlimitedbulkdownload.html",530,327):LoadIframeLightbox("/templates/confirm/approvebulkdownload.html",530,337)}function DisplayZipInsufficientBandwidthApproval(){av(),LoadIframeLightbox("/templates/confirm/approve_bw_insufficient_bulk_download.html",530,272)}function aUG(e){av(),aVt=e,aME.allow_large_download=!1,LoadIframeLightbox("/dynamic/template_popup.php?page=approvelargedownload",530,267)}function bpS(){aME.allow_large_download=!0,LF.aUA(aVt,aME)}function aMD(){aME.use_own_bandwidth=!0,LF.aUA(aVt,aME)}function akg(e){var a="";return $.each(e.files,function(e,t){a+="1:"+t.quickKey+";"}),$.each(e.folders,function(e,t){a+="2:"+t.folderKey+";"}),a}function Hm(e){var t=document.getElementById("form_toolbardata"),a=document.getElementById("form_toolbarform");a&&t?(t.value=e,a.submit(),aH(0,"Sending files to toolbar.")):aH(0,"Missing site components.")}function Fe(e){var t=[];t[4]=[106],t[5]=[73,92,105,108,44,45,46,47,58,59,32],t[6]=[74,91,93,102,40,41],t[7]=[116],t[8]=[95,114,122,42],t[9]=[63,99,115,118,120,121],t[10]=[83,97,101,107,111,48,49,50,51,52,53,54,55,56,57,36],t[11]=[70,75,76,80,84,88,89,90,98,100,103,104,110,112,113,117],t[12]=[65,195,135,66,67,69,82,86],t[13]=[78,79,81,85,94,43,60,61,68,71,72],t[14]=[119],t[15]=[109],t[16]=[64,77,87];for(var a,o=1,n=e.length,r=0;r<n;r++){for(var i=!1,s=e.charCodeAt(r),l=4;!i&&l<=16;l++)for(var d=0;!i&&d<t[l].length;d++)t[l][d]==s&&(a=l,i=!0);o+=a=!i?10.5:a}return o}function Fd(e){var t,a,o,n,r,i;0<DropboxObj.yi?(i=document.getElementById("dbx_input_header"),t=document.getElementById("dbx_input_greeting"),a=document.getElementById("dbx_input_completion"),r=document.getElementById("dbx_input_width"),i&&t&&a&&r?(n=o=0,r=DropboxObj.yi-20,i=Fe(i.value),i*=1.04,o+=Math.floor(i/r),i=Fe(t.value),i*=.7,o+=Math.floor(i/r),i=Fe(a.value),i*=.7,n+=Math.floor(i/r),DropboxObj.Fb!=(o=o<n?n:o)&&(DropboxObj.Fb=o,e||zn())):aH(0,"Missing site components.")):0!=DropboxObj.Fb&&(DropboxObj.Fb=0,e||zn())}function aXg(e){var t=["webkit","moz","ms","o"],a="hidden"in document?"hidden":null;if(!a)for(var o=0;o<t.length;o++){var n=t[o]+"Hidden";if(n in document){a=e?t[o]:n;break}}return a}function aXX(){var e=aXg(),t=document[e];return"string"==typeof t&&(t="hidden"==t),!!e&&t}function aod(){var e=aXg(!0);e&&window.addEventListener&&document.addEventListener(("hidden"!=e?e:"")+"visibilitychange",function(){aXX()||aek||!aZe||FI()})}function bhv(e){for(var t=new Array,a=0,o=tH.aca.length;a<o;a++)"folders"==e&&tH.aca[a].folderkey&&t.push(tH.aca[a]),"files"==e&&tH.aca[a].quickkey&&t.push(tH.aca[a]);return t}function bfV(e){var t,a;e.quickkey?(a=new tH.Cp(e,tH.currentFolder),(t=bhv("files")).push(a),t.sort(YT.file[sortBy]),sortAscending&&t.reverse(),t[0].quickkey!=a.quickkey&&(tH.files.Yx(a.quickkey,a),aoQ(a))):e.folderkey&&(a=new tH.yJ(e,tH.currentFolder),(e=bhv("folders")).push(a),e.sort(YT.folder["created"==sortBy?"created":"name"]),sortAscending&&e.reverse(),e[0].folderkey!=a.folderkey&&(tH.folders.Yx(a.folderkey,a),aoQ(a)))}function bgk(e){for(var t=!1,a=0,o=tH.aca.length;a<o;a++){var n=tH.aca[a];e&&n&&e.quickkey&&n.quickkey&&e.quickkey==n.quickkey&&(t=!0),e&&n&&e.folderkey&&n.folderkey&&e.folderkey==n.folderkey&&(t=!0)}return t}var bhF={};function bhD(t,c,a,e,o){var f,u,p,h,m,g,y,w;function v(e){var t=!1;return e.quickkey&&(t=!0,bgk(e)?(tH.files.Yx(e.quickkey,new tH.Cp(e)),asE(new tH.Cp(e,tH.currentFolder))):aQx("files",tH.currentFolder)?(tH.files.Yx(e.quickkey,new tH.Cp(e)),aoQ(new tH.Cp(e,tH.currentFolder))):bfV(e)),t}function b(e,t){if(e.folderkey&&"myfiles"===e.folderkey)return!1;var a=!1;return e.folderkey&&(a=!0,bgk(e)?(tH.folders.Yx(e.folderkey,new tH.yJ(e)),asN(new tH.yJ(e,tH.currentFolder),t)):aQx("folders",tH.currentFolder)?(tH.folders.Yx(e.folderkey,new tH.yJ(e)),aoQ(new tH.yJ(e,tH.currentFolder))):bfV(e),window.bfF(e)),a}o(FF()||window.tH.sh)&&(o=window.tH.currentFolder,(w=window.tH.currentFolder.revision_number&&0<window.tH.currentFolder.revision_number?o.revision_number:localStorage&&localStorage["REVISION_NUM-"+window.tH.currentFolder.folderkey]?parseInt(localStorage["REVISION_NUM-"+window.tH.currentFolder.folderkey]):0)<=0&&(w=window.tH.bhn||(localStorage&&localStorage.DEVICE_REVISION?localStorage.DEVICE_REVISION:0)),m=!1,e||void 0===bhF[window.tH.currentFolder.folderkey]||bhF[window.tH.currentFolder.folderkey]!=w?(bhF[window.tH.currentFolder.folderkey]=w,g=window.tH.currentFolder.folderkey,y=window.tH.currentFolder.folderkey,"myfiles"===g&&(g=""),(new tH.aCa).bgS({revision:w},{success:function(e,t,a){if(e.response){var o,n=parseInt(e.response.device_revision,10)||0,r=window.tH.bhn||0;if((r=0===r&&localStorage&&localStorage["REVISION_NUM-"+y]?localStorage["REVISION_NUM-"+y]:r)&&r<n&&(beg(),(new tH.Dv).aXn({success:function(e){MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e.response.settings.used_storage_size),MYF_WIDGET_STORAGE_updateStorageDisplay()}})),window.tH.bhn=n,localStorage&&(localStorage.DEVICE_REVISION=n),window.tH.currentFolder.folderkey===y&&"trash"!==g){if(0===w&&e.response.device_revision)return tH.currentFolder.revision_number=n,tH.folders.Yx(tH.currentFolder.folderkey,tH.currentFolder),void(localStorage&&(localStorage["REVISION_NUM-"+window.tH.currentFolder.folderkey]=e.response.device_revision));if(e.response&&e.response.changes_list_block&&(o=parseInt(e.response.changes_list_block,10),o=0===w?o:Math.floor(w/o)*o+o),"success"===e.response.result.toLowerCase()){if(e.response.deleted){var i=e.response.deleted;if(i.folders&&0<i.folders.length)for(f=0,u=i.folders.length;f<u;f++)p=i.folders[f],parseInt(p.revision,10)>w&&tH.currentFolder.folders[p.folderkey]&&(aQO(tH.currentFolder.folders[p.folderkey]),m=!0);if(i.files&&0<i.files.length)for(f=0,u=i.files.length;f<u;f++)h=i.files[f],parseInt(h.revision,10)>w&&tH.currentFolder.files[h.quickkey]&&(aQO(tH.currentFolder.files[h.quickkey]),m=!0)}if(e.response.updated){var s=e.response.updated,l="",d="";if(s.folders&&0<s.folders.length){for(f=0,u=s.folders.length;f<u;f++)p=s.folders[f],parseInt(p.revision,10)>w&&p.parent_folderkey==g&&(l+=","+p.folderkey),tH.currentFolder.folders[p.folderkey]&&p.parent_folderkey!=g&&(aQO(tH.currentFolder.folders[p.folderkey]),m=!0);l&&tH.yJ.asi(l.substring(1),function(e,t,a){e.response.folder_infos&&$.each(e.response.folder_infos,function(e,t){m=b(t,!0)}),e.response.folder_info&&(m=b(e.response.folder_info,!0))},!0)}if(s.files&&0<s.files.length){for(f=0,u=s.files.length;f<u;f++)h=s.files[f],parseInt(h.revision,10)>w&&h.parent_folderkey==g&&(d+=","+h.quickkey),tH.currentFolder.files[h.quickkey]&&h.parent_folderkey!=g&&(aQO(tH.currentFolder.files[h.quickkey]),m=!0);d&&tH.Cp.asi(d.substring(1),function(e,t,a){e.response.file_infos&&$.each(e.response.file_infos,function(e,t){m=v(t)}),e.response.file_info&&(m=v(e.response.file_info))})}}o>=e.response.device_revision?(tH.currentFolder.revision_number=parseInt(e.response.device_revision,10),tH.folders.Yx(y,tH.currentFolder),localStorage&&(localStorage["REVISION_NUM-"+y]=e.response.device_revision)):(tH.currentFolder.revision_number=o,tH.folders.Yx(y,tH.currentFolder),localStorage&&(localStorage["REVISION_NUM-"+y]=""+o),bhD(y,c)),m&&window.aLo().aIX(y)}}}},error:function(e){0===e.readyState||""===e.responseText?RA||(RB<(c||3)?(RB++,tH.aVJ=setTimeout(function(){FI(t,c,a)},5e3)):(RB=0,aU("user-network-ping-failed",RA="set",3600),QS("Network Unavailable","<p>Your network connection is unavailable.</p><br><p>MediaFire requires a network connection to function properly.</p>",[["close","Close","grey"],["retry","Retry","btn secondary","FI"]]))):(RB=0,RA&&(aY("user-network-ping-failed",RA=""),baD("message_dialog_div")&&QU()),(e=jQuery.parseJSON(e.responseText))&&105===e.response.error&&(LF.ahE(),clearInterval(agb),agb=0))}}),ajo=!1):setTimeout(function(){delete bhF[window.tH.currentFolder.folderkey]},1e4))}function FI(e,t,a,o,n){if(n){if("true"==aL("mfloggedoff")&&void 0!==UserLogin&&1==UserLogin)return window.localStorage&&localStorage.clear(),void(top.location="/logout.php");tH.aVJ&&(clearInterval(tH.aVJ),tH.aVJ=null),aXX()||"undefined"!=typeof aEQ||afv()||(e=!e&&0!=e&&window.tH.currentFolder?window.tH.currentFolder.folderkey:e)&&bhD(e,t,a,o,n)}}function FF(){if("undefined"!=typeof MFUL&&void 0!==MFUL.aUploaders)for(var e=0,t=MFUL.aUploaders.length;e<t;e++)if(!0===MFUL.aUploaders[e].fF())return!0;return!1}function aTd(e,t){var a,o="file"==t?"filename":"name",n=$.trim($("#"+t+"-"+e).find(".updatename").val()),r=window.tH.currentFolder;afv()&&(r={folders:{},files:{}},$.each(window.tH.XE,function(e,t){void 0!==t&&t&&(t.filename?r.files[t.quickkey]=t:r.folders[t.folderkey]=t)})),n!==r[t+"s"][e][o]&&0<n.split(".")[0].length&&((a={})["filename"==o?o:"foldername"]=n,"file"==t?LF.aal(a,e):LF.aal(a,"",e)),aTP()}function aTP(e){return tH.Pz&&(e=tH.Pz),tH.Pz=!1,$(e).find(".filename_outer a.foldername").show(),$(e).find(".filename_outer input").hide(),$(e).find(".updatename").unbind("keydown").unbind("clickoutside"),$(e).attr("draggable",!0),!1}function aTn(t,a){var e,o,n,r;UO()?("folder"==a?GH.abC:GH.aby).open(t,"name"):(e="#"+a+"-"+t,tH.Pz=e,$(e).find(".filename_outer input").val($(e).find(".item-name").text()),$(e).find(".filename_outer a.foldername").hide(),$(e).find(".filename_outer input").show(),o=$(e).find("a.foldername").text(),n=document.getElementById("rename-"+t),r=0<(r=Gm(o=o.trim())).length?r.length+1:0,r=o.length-r,n.setSelectionRange&&(n.setSelectionRange(0,r),n.focus()),$(e).attr("draggable",!1),$(e).find(".updatename").bind("keydown","esc",function(){aTP(e)}).bind("clickoutside",function(e){aTd(t,a)}).bind("keydown","return",function(){aTd(t,a)}))}function ahr(e,t,a,o){var n=o.selectedIndex,r=adv("view/"+t),o=adv(!0,"convkey",e.substr(0,4),t+n+"g.jpg"),e=adv("image"==a?"i/?"+t:"?"+t),n="",t="",n="image"==a?(t='<a href="'+r+'" target="_blank"><img src="'+o+'" border="0" alt="Simple, Free Image and File Hosting at MediaFire" /></a>',"[URL="+r+"][IMG]"+o+"[/IMG][/URL]"):(t='<a href="'+e+'" target="_blank">'+e+"</a>","[URL="+e+"]"+e+"[/URL]");$("#htmlembedcode").val(t),$("#forumembedcode").val(n)}function anD(e){return aCf(e)}function aqG(){$("li.file").each(function(){1<$("li#file-"+$(this).data("key")).length&&$("li#file-"+$(this).data("key")).last().remove()})}function aqV(){$("li.folder").each(function(){1<$("li#folder-"+$(this).data("key")).length&&$("li#folder-"+$(this).data("key")).last().remove()})}window.MYF_CheckChanges=FI,"undefined"==typeof arw&&(arw=3e3);var iW=iW||10;function aCD(a,e,o){var t;2===e&&($.each(aBF,function(e,t){t==a.quickkey+"-"+o&&aBF.splice(e,1)}),2==o?(window.tH.files.memory[a.quickkey].thumb1ready=!0,void 0===window.tH.aRp&&(window.tH.aRp={}),window.tH.aRp[a.quickkey]=!0):1==o?(window.tH.files.memory[a.quickkey].thumb2ready=!0,void 0===window.tH.aRE&&(window.tH.aRE={}),window.tH.aRE[a.quickkey]=!0):0==o&&(window.tH.files.memory[a.quickkey].thumb3ready=!0,void 0===window.tH.aRK&&(window.tH.aRK={}),window.tH.aRK[a.quickkey]=!0),(e=window.tH.files.memory[a.quickkey].itemrownum)&&(t=window.tH.aca[e])&&t.quickkey==a.quickkey&&(window.tH.aca[e]=window.tH.files.memory[a.quickkey]),$.publish("document/update",[window.tH.files.memory[a.quickkey]]))}function aRF(){var e,t,a;window.Worker&&("undefined"==typeof aEY&&(aEY={}),e=window.tH.currentFolder.folderkey,t=Uo(),aEY[e+"-"+t]||(a="/js/doc_thumb_status.js","undefined"!=typeof JS_LoadTime&&(a="/js/doc_thumb_status_"+JS_LoadTime+".js"),aEY[e+"-"+t]=new Worker(a),aEY[e+"-"+t].onmessage=function(e){switch(e.data.cmd){case"script-error":break;case"update-file":aCD(window.tH.files.yx(e.data.quickkey),e.data.status,e.data.thumbsize)}}))}function Uo(){var e=0;return!$("#myfiles_wrap").hasClass("sizeM")&&"M"!=aL("mfsize")||(e=1),e=$("#myfiles_wrap").hasClass("sizeS")||"S"==aL("mfsize")?2:e}var aBF=[];function aCs(e,t){function r(e){void 0===e.docCheckCount?e.docCheckCount=0:e.docCheckCount++,e.docCheckCount<iW?setTimeout(function(){$("#myfiles_wrap").hasClass("thumbnailView")&&(e.doc_status_check=!1,aCs(e,!0))},arw):aCD(e,32768)}var a,o,n,i;aQu=aQu||52428800,e.size>aQu||aCz(e)&&e.quickkey&&(a=e,o=!1,n=Uo(),$.each(aBF,function(e,t){t==a.quickkey+"-"+n&&(o=!0)}),o||aBF.push(a.quickkey+"-"+n),o&&!t||(e.hash&&""!=e.hash?function(t){"undefined"==typeof aEY&&(aEY={}),aRF();var e,a,o,n=Uo();aEY[t.parent.folderkey+"-"+n]&&!t.doc_status_check?(e={quickkey:t.quickkey,hash:t.hash,thumbsize:Uo(),url:aBM(t.quickkey,t.hash,!0,Uo()),maxchecks:iW},t.doc_status_check=!0,window.tH.files.Yx(t.quickkey,t),aEY[t.parent.folderkey+"-"+n].postMessage({cmd:"check-status",file:e})):$.browser.msie&&window.XDomainRequest&&!t.doc_status_check?(a=Uo(),(o=new XDomainRequest).open("get",aBM(t.quickkey,t.hash,!0,a)),o.onload=function(){a=Uo();var e=$.parseJSON(o.responseText);"COMPLETE"==e.page_status?aCD(t,2,a):"ERROR"==e.document_status||"ERROR"==e.page_status?aCD(t,32768,a):r(t)},o.onerror=function(){r(t)},t.doc_status_check=!0,window.tH.files.Yx(t.quickkey,t),setTimeout(function(){o.send()},0)):(a=0,$("#myfiles_wrap").hasClass("sizeM")&&(a=1),$("#myfiles_wrap").hasClass("sizeS")&&(a=2),aCD(t,2,a))}(e):(i=new window.tH.Cp(e.quickkey)).Yw(function(){aCs(i)})))}function aRX(e){return!!window.tH.Cp.Zo(e)&&(e.parent.folderkey==window.tH.currentFolder.folderkey&&(!(!UO()&&"on"!=aL("thumbview"))&&(!("image"==e.filetype||!aCf(e))&&((!$("#myfiles_wrap").hasClass("sizeS")||!(e.thumb1ready||window.tH.aRp&&window.tH.aRp[e.quickkey]))&&((!$("#myfiles_wrap").hasClass("sizeM")||!(e.thumb2ready||window.tH.aRE&&window.tH.aRE[e.quickkey]))&&(!$("#myfiles_wrap").hasClass("sizeL")||!(e.thumb3ready||window.tH.aRK&&window.tH.aRK[e.quickkey])))))))}function aCz(e){return"document"==e.filetype||"spreadsheet"==e.filetype||"presentation"==e.filetype}function aFi(){if(window.tH.aFA)return!0}function aCf(e){return!(!e.flag||1!=avH(e.flag,2))&&(e.filetype&&"image"===e.filetype)}function aGe(e){return!(!e.flag||1!=avH(e.flag,4))&&(e.mimetype&&"text/rtf"!==e.mimetype&&0===e.mimetype.indexOf("text/"))}function aTB(e){return e.flag&&1==avH(e.flag,1)}function aEh(){$("#contactViewToggle").show().click(function(){return aCV(),!1}),aDf()}function aCV(){return"undefined"==typeof aBa&&(aBa=!1),!0===aBa||(aBa=!0,0==parseInt($("#contactSidebar").css("right"))?($("#contactViewToggle").removeClass("cvtActive"),$("#contactSidebar").animate({right:-160},{complete:function(){aBa=!1}})):($("#contactViewToggle").addClass("cvtActive"),$("#contactSidebar").animate({right:0},{complete:function(){aBa=!1}}))),!1}function aDo(){var a=[{text:"Delete Contact",command:"delete-contact",type:"contact"},{text:"Edit Contact",command:"edit-contact",type:"contact"},{text:"Add to Group",command:"add-to-group",type:"contact"},{text:"View Share Log",command:"share-log",type:"contact"},{text:"Clear Notifications",command:"clear-notices",type:"contact"},{text:"Remove Group",command:"remove-group",type:"group"},{text:"Edit Group",command:"edit-group",type:"group"}],o='<div id="contact_contextmenu" class="dropdown" style="position:absolute">';$.each(a,function(e,t){0!=e&&a[e-1].type==t.type||(o+='<ul id="contextmenu-contactlist-'+t.type+'">'),o+='<li data-command="'+t.command+'">'+t.text+"</li>",e!=a.length-1&&a[e+1].type==t.type||(o+="</ul>")}),o+="</div>",$("body").append($(o))}function aDE(){$("#contactSidebar ul#contactList li").bind({draghover:function(e){$(this).toggleClass("contactHighlight",e.enter),aeV(e)},drop:function(e){var t;if((!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)&&(t=JSON.parse(e.originalEvent.dataTransfer.getData("Text")))){if(t.files||t.folders){var a=$(this).data("contactid"),o=[];if(t.folders&&$.each(t.folders.split(),function(e,t){t&&""!=t&&"NOKEY"!=t&&o.push(t)}),t.files&&$.each(t.files.split(),function(e,t){t&&""!=t&&"NOKEY"!=t&&o.push(t)}),0==o.length)return Zi(0,"Unable to share this item due to an invalid folder/file."),$(this).removeClass("contactHighlight"),aeV(e),!1;aDI(o.join(),a)}return $(this).removeClass("contactHighlight"),aeV(e),!1}},click:function(){var e=$(this).data("contactid");Zi(0,"You clicked on "+window.tH.userinfo.contacts["contact-"+e].contact_name+". Unfortunately, this feature is not currently available.")},contextmenu:function(e){var t=$(this).attr("data-contactid");return window.aEN||(window.aEN=new aEk),aEN.open("contactlist","contact",aiH(e,-2,-2),t),aeV(e),!1}}),$("#contactSidebar ul#groupList li").bind({draghover:function(e){$(this).toggleClass("contactHighlight",e.enter),aeV(e)},drop:function(e){var t;if((!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)&&(t=JSON.parse(e.originalEvent.dataTransfer.getData("Text"))))return(t.files||t.folders)&&Zi(0,"Sharing to contact groups is not available, yet."),$(this).removeClass("contactHighlight"),aeV(e),!1},click:function(){var e=$(this).data("contactid");Zi(0,"You clicked on "+window.tH.userinfo.contacts["contact-"+e].contact_name+". Unfortunately, this feature is not currently available.")},contextmenu:function(e){var t=$(this).attr("data-id");return window.aEN||(window.aEN=new aEk),aEN.open("contactlist","group",aiH(e,-2,-2),t),aeV(e),!1}})}function aEk(){var n=$("#contact_contextmenu");function e(e,t,a,o){r(),"contact"==t&&aCT(o);$(["#contextmenu",e,t].join("-")).show().closest(".dropdown").data("context",o);$(["#contextmenu",e,t].join("-")).trigger("CTC_BeforeOpen"),n.show().css(a),$(["#contextmenu",e,t].join("-")).trigger("CTC_AfterOpen")}function r(){n.hide().children("ul").hide().removeData("context"),$(".row_context").removeClass("row_context"),n.removeClass("fixed")}function a(e){var t=parseInt(e.parent().css("top")),a=parseInt(e.parent().css("left"));e.height()+t-$(window).scrollTop()>$(window).height()&&0<=t-e.height()&&e.parent().css("top",t-e.height()+4),e.width()+a>$(window).width()&&0<=a-e.width()&&e.parent().css("left",a-e.width()+4),e.parent().hasClass("fixed")&&e.parent().css("top",parseInt(e.parent().css("top"))-parseInt($(window).scrollTop()))}function t(e){var t=parseInt(e.parent().parent().parent().css("top"))+100,a=parseInt(e.parent().parent().parent().css("left"))+100;80+t-$(window).scrollTop()>$(window).height()&&0<=t-e.height()?e.css("top",-45):e.css("top",0),205+a>$(window).width()&&0<=a-205?e.css("left","55%"):e.css("left","100%")}return n.bind("clickoutside",r),$("#contextmenu-contactlist-contact").bind("CTC_BeforeOpen",function(){var e=$(this).closest(".dropdown").data("context");aCT(e);$("#contact-"+e).addClass("row_context")}).bind("CTC_AfterOpen",function(){var e=$(this),t=aCT(e.closest(".dropdown").data("context"));if(a(e),!t)return!1}).delegate("li[data-command]","click",function(e){var t=$(this);t.data("command"),t.closest(".dropdown").data("context");Zi(0,"The '"+t.text()+"' command has not yet been enabled. Please check back again later."),r(),aeV(e)}).delegate(".dropdown li.submenu","mouseenter",function(e){t(em),aeV(e)}).delegate(".dropdown li.submenu","mouseleave",function(e){aeV(e)}),$("#contextmenu-contactlist-group").bind("CTC_BeforeOpen",function(){var e=$(this).closest(".dropdown").data("context");aCT(e);$("#contact-"+e).addClass("row_context")}).bind("CTC_AfterOpen",function(){var e=$(this),t=aCT(e.closest(".dropdown").data("context"));if(a(e),!t)return!1}).delegate("li[data-command]","click",function(e){var t=$(this);t.data("command"),t.closest(".dropdown").data("context");Zi(0,"The '"+t.text()+"' command has not yet been enabled. Please check back again later."),r(),aeV(e)}).delegate(".dropdown li.submenu","mouseenter",function(e){t(em),aeV(e)}).delegate(".dropdown li.submenu","mouseleave",function(e){aeV(e)}),{open:e,CD:function(){n.is(":visible")?aoh():e.apply(null,arguments)},aDa:r}}function aCT(e){return window.tH.userinfo.contacts["contact-"+e]||!1}function aDI(e,t){var a=window.tH.userinfo.contacts["contact-"+t],o=e.split().length,n={success:function(e){Zi(0,1==o?"You've successfully shared "+o+" file/folder with "+a.contact_name:"You've successfully shared "+o+" files/folders with "+a.contact_name),$.publish("selection/deselectall")},error:function(e){Zi(0,1==o?"Sorry. An error ocurred. We can't share this item at this time":"Sorry. An error ocurred. We can't share these items at this time"),$.publish("selection/deselectall")}};new window.tH.aCa(window.aCQ||0).hH({data:{resources:e,contacts:t}},n)}function aCy(){var e=$(window).height()-89-28,t=$(document).height()-$(window).scrollTop()-$("#footer").height();t<$(window).height()&&(e=t-89-28),$("#contactSidebar").height(e)}function aDC(){$(window).bind("resize scroll",function(){aCy()}),$.subscribe("folder/render",function(){aCy()})}function aBy(){return!(!window.tH.userinfo||!window.tH.userinfo.contacts)}function aDf(){var a="";$.each([{text:"Add Contacts",command:"add-contact"},{text:"Import Contacts",command:"import-contacts"}],function(e,t){a+="<li data-command='"+t.command+"'>"+t.text+"</li>"}),$("#contactSettings ul").html(a),$("#contactSidebar").find(".dropdown").dropdown({command:function(e,t){switch(e){case"add-contact":aDS();break;case"import-contacts":aDY()}}})}function aDY(){var e;0==$("#import-contacts").length&&(e=window.tmpl("pop_import_contacts")(),$("#popup-section").append($(e))),window.aDy||(window.aDy=new aEI),window.aDy.open()}function aEI(){var e=$("#import-contacts").popup(),t=e.data("popup");return e.delegate(".close","click",function(e){t.close()}),e.delegate("#add_contact_mediafire .confirm","click",function(e){return!1}),e.delegate(".tabs li[data-tab]","click",function(e){aij("#share_socialnetworks_message","#sharebox-social .share-facebook .remaining",$("#fb_share_checkbox").data("input-length"),!0,function(){return $("#fb_share_checkbox").is(":checked")}),aij("#share_socialnetworks_message","#sharebox-social .share-twitter .remaining",$("#tw_share_checkbox").data("input-length"),!0,function(){return $("#tw_share_checkbox").is(":checked")}),aij("#email_files_message","#sharebox-email .remaining",128,!0),aeV(e)}),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),t.open()},popup:t,close:t.close}}function aDS(){var e;0==$("#add-contact").length&&(e=window.tmpl("pop_new_contact")(),$("#popup-section").append($(e))),window.aDp||(window.aDp=new aDe),window.aDp.open()}function aDe(){var e=$("#add-contact").popup(),t=e.data("popup");return e.delegate(".close","click",function(e){t.close()}),e.delegate("#add_contact_mediafire .confirm","click",function(e){var t=new window.tH.aBS,a=$("#details-contact-email").val();t.ZD({data:{contact_type:"mediafire",mediafire_email:a}},{success:function(e){},error:function(e){}})}),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),t.open()},popup:t,close:t.close}}function aDP(){var a;aBy()&&(a=0,$.each(window.tH.userinfo.contacts,function(e,t){t.mediafire&&a++}),1<a?$('#groupList li[data-id="mf"]').find(".groupNumbers").text(a+" Contacts"):1==a&&$('#groupList li[data-id="mf"]').find(".groupNumbers").text(a+" Contact"))}function aEe(){aDR()&&($.each(window.tH.userinfo.notifications,function(e,a){aBy()&&a.sender&&a.sender.email&&$.each(window.tH.userinfo.contacts,function(e,t){t.mediafire&&t.mediafire.email&&t.mediafire.email==a.sender.email&&aCY(a,t)})}),aEE())}function aDR(){return!(!window.tH.userinfo||!window.tH.userinfo.notifications)}function aCY(a,e){var o;a&&e&&(e.notices||(e.notices=[]),o=!1,$.each(e.notices,function(e,t){t.id==a.id&&(o=!0)}),0==o&&e.notices.push(a))}function aEE(){aBy()&&$("#contactList li").each(function(){var e=$(this).data("contactid"),e=window.tH.userinfo.contacts["contact-"+e];e.notices&&0<e.notices.length?($(this).find(".contactNotices").text(e.notices.length),$(this).addClass("hasNotices")):$(this).removeClass("hasNotices")})}function aBU(e){var a;e&&(void 0===e.index&&e.folders&&0<e.folders.length?$.each(e.folders,function(e,t){aBU(t)}):(a="",e.folders&&$.each(e.folders,function(e,t){a+=aEF(t)}),e.files&&$.each(e.files,function(e,t){a+=aEl(t)}),$("ol#main_list").html(a),window.aDO||(window.aDO={}),aEm(window.aDO=e),aEC()))}function aEC(){$("ol#main_list.device li.folder .filename_outer a, ol#main_list.device li.folder .filetype_column a").unbind("click"),$("ol#main_list.device li.folder .filename_outer a, ol#main_list.device li.folder .filetype_column a").bind("click",function(e){return aDq($(this).closest("li").data("index")),aeV(e),!1})}function aCZ(){return'<li id="file-#QUICKKEY#" draggable="true" data-key="#QUICKKEY#" data-index="#FILE_INDEX#" class="row_container mf_filecontainer file #FILETYPE#  public row_context"><div class="grip_column"><div class="checkbox-custom" title="Select/Deselect Item"></div><img class="dragfile_icon" width="30" height="45" src="/images/icons/1x1_transparent.gif" border="0"></div><div class="filetype_column"><a href="/download.php?#QUICKKEY#" onclick="window.MYF_DirectDownload({files: \'#QUICKKEY#\'}); return false;"><span class="filetype-#FILETYPE#"></span></a></div><div class="btns_column"><div></div><div><a href="javascript:void(0);" class="fileoptions btn secondary" title="Open actions menu"><span class="ico16 gear"></span></a></div><div><a href="#FILEURL#" target="_blank" class="previewBtn showonhover btn secondary" title="Preview"><span class="ico16 previewBtn"></span></a></div><div>    <a href="javascript:void(0);" class="download btn secondary" title="Download"><span class="ico16 download"></span></a></div><div class="sharebtn-wrap"><a href="javascript:void(0);" class="share btn secondary" title="Share"><span class="ico16 users"></span></a></div><div class="imgpreviewonly"><a href="javascript:void(0);" class="imgopenpreview btn secondary" title="Open image preview"><span class="ico16 zoom-in"></span></a></div></div><div class="info"><div class="filename_outer"><a class="foldername" href="#FILEURL#" onclick="">#FILENAME#</a><div class="private-label">Private</div><div class="password-protected-label">Password</div></div><div class="file_maindetails_outer cf"><span class="file_maindetails"><span>#CREATED_TIME#,</span> #FILESIZE#</span><span class="statusicons"><span class="private"><a href="javascript:void(0);" title="File is private. Click here to add this file to your public gallery pages."><span class="ico16 lock"></span></a></span><span class="public"><a href="javascript:void(0);" title="File is public. Click here to hide this file from your public gallery pages."><span class="ico16 unlock"></span></a></span><span class="password"><a href="javascript:void(0);" title="This file is currently password protected. Click to remove."><span class="ico16 security"></span></a></span></span></div></div><div class="infobox_lg tooltip point-left"><span class="infobox-fileicon filetype-#FILETYPE#"></span><h4>#FILENAME#<span class="infobox-stats">Added: #CREATED_TIME#, #FILESIZE#</span></h4></div><div style="clear: both;"></div></li>'}function aDT(){return'<li id="folder-#FOLDER_KEY#" draggable="true" data-key="#FOLDER_KEY#" data-index="#FOLDER_INDEX#" class="row_container mf_filecontainer folder public cf" linked=""><div class="grip_column"><div class="checkbox-custom" title="Select/Deselect Item"></div><img class="dragfile_icon" width="30" height="45" src="/images/icons/1x1_transparent.gif" border="0"></div><div class="filetype_column"><a href="##FOLDER_KEY#"><span class="filetype-folder"></span></a></div><div class="btns_column"><div><a href="javascript:void(0);" class="fileoptions btn secondary" title="Open actions menu"><span class="ico16 gear"></span></a></div><div><a href="javascript:void(0);" class="download btn secondary" title="Download"><span class="ico16 download"></span></a></div><div class="sharebtn-wrap"><a href="javascript:void(0);" class="share btn secondary" title="Share"><span class="ico16 users"></span></a></div></div><div class="info cf"><div class="filename_outer"><a class="foldername" href="##FOLDER_KEY#">#FOLDER_NAME#</a><div class="private-label">Private</div></div><div class="file_maindetails_outer cf"><span class="file_maindetails">#CREATED_TIME##FOLDERS_NUM# Folders, #FILES_NUM# Files</span><span class="statusicons"><span class="dropbox" id="dropbox-icon-wzm927w9jax63"><a href="javascript:void(0);" title="This folder is a FileDrop. Click to edit FileDrop settings" onclick="zW(\'#FOLDER_KEY#\'); return false;"><span class="ico16 dropbox"></span></a></span><span class="private"><a href="javascript:void(0);" title="File is private. Click here to add this file to your public gallery pages."><span class="ico16 lock"></span></a></span><span class="public"><a href="javascript:void(0);" title="File is public. Click here to hide this file from your public gallery pages."><span class="ico16 unlock"></span></a></span></span></div></div><div class="infobox_lg tooltip point-left"><span class="infobox-fileicon filetype-folder"></span><h4>#FOLDER_NAME#<span class="infobox-stats">#CREATED_TIME#, #FOLDERS_NUM# Folders, #FILES_NUM# Files</span></h4></div><div style="clear: both;"></div></li>'}function aEl(e){var t=aCZ(),a="/download.php?"+e.quickkey;return(aCf(e.name)&&"image"==e.filetype||aCf(e.name))&&(a="/view/"+e.quickkey),t=(t=(t=(t=(t=(t=(t=t.replace(RegExp("#FILEURL#","gi"),a)).replace(RegExp("#FILE_INDEX#","gi"),e.index)).replace(RegExp("#QUICKKEY#","gi"),e.quickkey)).replace(RegExp("#FILENAME#","gi"),e.name)).replace(RegExp("#CREATED_TIME#","gi"),e.added)).replace(RegExp("#FILESIZE#","gi"),formatBytes(e.size))).replace(RegExp("#FILETYPE#","gi"),e.filetype)}function aEF(e){var t=aDT();return t=(t=(t=(t=(t=(t=t.replace(RegExp("#FOLDER_INDEX#","gi"),e.index)).replace(RegExp("#FOLDER_KEY#","gi"),e.folderkey||"NOKEY")).replace(RegExp("#FOLDER_NAME#","gi"),e.name)).replace(RegExp("#CREATED_TIME#","gi"),e.added?e.added+", ":"")).replace(RegExp("#FOLDERS_NUM#","gi"),e.folders&&e.folders.length||0)).replace(RegExp("#FILES_NUM#","gi"),e.files&&e.files.length||0)}function aDq(e){return aBU(aEA(e)),!1}function aEA(e){return window.tH.userinfo.devices["device-"+window.aCQ].allfolders[e]}function aDJ(){return!!(window.tH.userinfo&&window.tH.userinfo.devices&&window.tH.userinfo.devices["device-"+window.aCQ]&&window.tH.userinfo.devices["device-"+window.aCQ].content)}function aEu(){var a;aDJ()&&(a="",$.each(window.tH.userinfo.devices["device-"+window.aCQ].content.folders,function(e,t){a+=aBg(t)}),$(".folderlist_content ul.device").html(a),setTimeout(function(){$(window).resize()},100),aDw())}function aBg(e){var a="";return void 0===e.index&&e.folders&&0<e.folders.length?($.each(e.folders,function(e,t){a+=aBg(t)}),a):(a+="<li id='nav-"+e.index+"' class='collapsed' data-folderkey='"+e.folderkey+"' data-index='"+e.index+"'>",e.folders&&0<e.folders.length&&(a+="<a class='folder_arrow' href='#'></a>"),a+="<a href='javascript:void(0)' class='folder_name'>"+e.name+"</a>",e.folders&&0<e.folders.length&&(a+="<ul>",$.each(e.folders,function(e,t){a+=aBg(t,!1)}),a+="</ul>"),a+="</li>")}function aDw(){$(".folderlist_content ul.device li, .folderlist_content ul.device li a.folder_arrow").unbind("click"),$(".folderlist_content ul.device li").bind("click",function(){return aDq($(this).data("index")),!1}),$(".folderlist_content ul.device li a.folder_arrow").bind("click",function(){return $(this).parent().hasClass("collapsed")?$(this).parent().removeClass("collapsed").addClass("expanded"):$(this).parent().removeClass("expanded").addClass("collapsed"),!1})}function aEm(e,t){$(".folderlist_content ul.device li").removeClass("expanded current_folder_location").addClass("collapsed"),$(".folderlist_content ul.device li#nav-"+e.index).removeClass("collapsed").addClass("expanded current_folder_location").parents("li").addClass("expanded")}function aUi(e){if(!e.folderkey||!tH.aHp||tH.aHp[e.folderkey])return!1;tH.aHp[e.folderkey]=e,Xb.amr(e)}function aHJ(e,t){var a=function(){};0!=(e=(e=100<e?100:e)<0?0:e)&&t||(t=0),100==e&&(clearTimeout(window.aHS),window.aHS=null,a=function(){$("#container").removeClass("mfloading")},t=250),$("#mfload_progress_bar").stop().animate({width:Math.ceil(e)+"%"},t,a)}function fileSizeToString(e,t,a){var o=["B","KB","MB","GB","TB","PB"],t=(e/Math.pow(1024,Math.floor(Math.log(e)/Math.log(1024)))).toFixed(t),a=a?" ":"";return isNaN(t)||0==t?"0"+a+o[0]:t+a+o[Math.floor(Math.log(e)/Math.log(1024))]}function MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e){MYF_WIDGET_STORAGE_usedStorage=Math.max(parseInt(e,10),0),aXm=!1,aWx=!1,aXJ=!1,!MYF_STORAGE_bAdFreeDownloadPremiumUser&&MYF_WIDGET_STORAGE_usedStorage>=MYF_WIDGET_STORAGE_totalStorage?aXm=!0:!MYF_STORAGE_bAdFreeDownloadPremiumUser&&MYF_WIDGET_STORAGE_totalStorage-MYF_WIDGET_STORAGE_usedStorage<=aXE&&(aWx=!0),aWh=aXm?fileSizeToString(MYF_WIDGET_STORAGE_usedStorage-MYF_WIDGET_STORAGE_totalStorage):"",iUnroundedPercent=100*Math.min(parseFloat(MYF_WIDGET_STORAGE_usedStorage/MYF_WIDGET_STORAGE_totalStorage),1),MYF_WIDGET_STORAGE_usedStoragePercent=0<iUnroundedPercent&&iUnroundedPercent<1?1:Math.round(iUnroundedPercent)}function MYF_WIDGET_STORAGE_updateStorageDisplay(){MYF_WIDGET_STORAGE_totalStorage?($("span#storage_used",top.document).text(fileSizeToString(MYF_WIDGET_STORAGE_usedStorage,1,!0)),$("span#storage_total",top.document).text(fileSizeToString(MYF_WIDGET_STORAGE_totalStorage,0,!0)),$("span#storage_not-applicable",top.document).hide(),$("span#storage_applicable",top.document).show()):($("span#storage_applicable",top.document).hide(),$("span#storage_not-applicable",top.document).show()),$(".smBarColor",top.document).animate({width:MYF_WIDGET_STORAGE_usedStoragePercent+"%"},"slow",function(){var e;aXq&&(aXm||aWx)?($(".smSpaceIndicator",top.document).addClass("smUpgradePromo").find(".smUpgradeSpace").unbind("click").click(function(){return!(window.location="/upgrade")}),aWx&&1!=e?(e=aL("storageupsellshown"),aWg(null,!0),aY("storageupsellshown",1,1)):aXm&&("undefined"==typeof aXB||!aXB||aXB&&aXB!=aWh)&&(window.aXB=aWh,aWg(null,!1))):("undefined"!=typeof aWo&&(aWo=null),$(".smSpaceIndicator",top.document).removeClass("smUpgradePromo"))}),aXa()}function MYF_WIDGET_STORAGE_fSetClickEvent(){aXq&&$(".smSpaceIndicator",top.document).unbind("click").click(function(){return window.open("/upgrade/"),!1})}function aWg(e,t,a){if(t&&aWx&&1==aL("storageupsellshown"))return!1;return LoadIframeLightbox("/templates/upgrade/storage_upsell.php",720,600,!1,!1,!0,!0),$("#modal_msg_iframe").load(function(){aXF(e,a)}),!1}function aXF(e,t){try{var a=$("#modal_msg_iframe").contents();a.find(".storageUpsell").removeClass("accountStorageGood accountStorageExceeded unknownExceededLimitActive uploadExceeded"),t?a.find(".storageUpsell").addClass("unknownExceededLimitActive"):!0===e||!0===aXm?(a.find(".storageUpsell").addClass("accountStorageExceeded"),a.find(".storageOverage").text(aWh)):aWx||a.find(".storageUpsell").addClass("accountStorageGood"),a.find(".storageUsed").text(fileSizeToString(MYF_WIDGET_STORAGE_usedStorage,2)),a.find(".storageLimit, .fullStorage").text(fileSizeToString(MYF_WIDGET_STORAGE_totalStorage)),a.find(".halfStorage").text(fileSizeToString(MYF_WIDGET_STORAGE_totalStorage/2)),a.find(".upgradeAmount").text("$"+aXd+" more")}catch(e){}}function Wj(e,t){var a="Transfer complete"==e.status;Us=e.uploadkey,$("#container").addClass("webUploadHeight"),$("#webUploadIndicator").show(),$("#webUploadStatus").text(e.status),$(".webUploadIndicator .smBarColorWebUpload").css("width",e.percentage+"%");var o,n,r,i=$("#modal_msg_iframe");if(0<i.length)try{$oWebUploadIframeContents=i.contents(),$oWebUploadIframeContents.find("#white_info_box").hide(),$oWebUploadIframeContents.find(".webu-error").text(""),$oWebUploadIframeContents.find("#processing_message").hide(),$oWebUploadIframeContents.find("#loadingmessage").hide(),$oWebUploadIframeContents.find("#typeupload").hide(),$oWebUploadIframeContents.find("#uploading_div_hideshow").show(),$oWebUploadIframeContents.find(".webu-filename").text(e.filename),$oWebUploadIframeContents.find(".webu-filesize").text(formatBytes(parseInt(e.size,10))),$oWebUploadIframeContents.find(".webu-eta").text("Transfer completed"==e.eta?"Completed":e.eta),$oWebUploadIframeContents.find(".webu-url").val(e.url),$oWebUploadIframeContents.find(".webu-cancelcurrent").attr("href","/dynamic/deletewebupload.php?key="+Us),$oWebUploadIframeContents.find(".webu-percent").text(e.percentage),$oWebUploadIframeContents.find(".webuploadprogressbar").css("width",e.percentage+"%"),"39"==e.error_status?("Storage Limit Exceeded"!=(o=$oWebUploadIframeContents.find(".webu-filestatus")).text()&&Zi(1,"Error: the file at this url would exceed your storage limit."),o.text("Storage Limit Exceeded"),$oWebUploadIframeContents.find("#white_info_box").hide()):(n="There was an unknown error with the download.",r={0:"",10:"The file you tried to download to your account was too large.",11:"The file you tried to download to your account was too small.",15:"The remote server returned an HTTP error.",16:"The file could not be added to your account.",17:"The image you specified was too large to be stored on our service.",19:"There was a virus detected in the file we downloaded.",20:"The archive you requested is invalid and cannot be added to the site.",21:"The archive you requested is either password protected or has a CRC error.",22:"There was an unknown error downloading the archive.",27:"The requested filename is already in your account.",35:"Access was denied to the resource specified in the URL.",36:"The server specified is returning data too slowly.",37:"The file is taking too long to download.",38:"The download was interrupted."},""===e.error_status&&(e.error_status="0"),void 0!==r[e.error_status]&&(n=r[e.error_status]),$oWebUploadIframeContents.find("#white_info_box").toggle(""!=n),$oWebUploadIframeContents.find(".webu-filestatus").text(""!=n?"Failed":e.status),$oWebUploadIframeContents.find(".webu-error").text(n)),$(".webu-filesize").parent().show(),$oWebUploadIframeContents.find("#webupload_progress").toggle(!a),$oWebUploadIframeContents.find(".webu-clearcompleted").toggleClass("disabled",10<=t),$oWebUploadIframeContents.find(".webu-cancelcurrent").toggle(!a)}catch(e){}a&&Gv(!1)}function Ur(e){function n(e,t){return e=parseInt(e.status_code,10),t=parseInt(t.status_code,10),e<t?-1:t<e?1:0}(new window.tH.Dv).Vu({all_web_uploads:"yes"},{success:function(e){if(e.response.web_uploads&&0<e.response.web_uploads.length){e.response.web_uploads.sort(n);var t=e.response.web_uploads[0];if(t){for(var a=0,o=0;o<e.response.web_uploads.length;o++)"yes"==e.response.web_uploads[o].active&&a++;Wj(t,a)}}else Gv(!0)},error:function(){Gv(!0)}})}var xC=null,Us="";function WC(e){xC&&clearInterval(xC),$("#webUploadStatus").text("Waiting to start"),Ur(),xC=setInterval(Ur,1e4);var t=$("#modal_msg_iframe");if(0<t.length)try{$oWebUploadIframeContents=t.contents(),(e?$oWebUploadIframeContents.find("#processing_message"):$oWebUploadIframeContents.find("#webupload_container")).show()}catch(e){}}function Gv(e){e||FI(null,null,null,!0),Us="",$("#webUploadIndicator").hide(),$("#container").removeClass("webUploadHeight"),xC&&clearInterval(xC),xC=null;var t=$("#modal_msg_iframe");if(0<t.length)try{$oWebUploadIframeContents=t.contents(),$oWebUploadIframeContents.find("#processing_message").hide(),$oWebUploadIframeContents.find("#loadingmessage").hide(),$oWebUploadIframeContents.find("#typeupload").toggle(e),$oWebUploadIframeContents.find("#uploading_div_hideshow").toggle(!e)}catch(e){}}function ahl(e){"yes"!=e.shared&&"child"!=e.shared||($.each(e.folders||{},function(e,t){t.shared="child",ahl(t)}),$.each(e.files||{},function(e,t){t.shared="child"}))}function ahd(){$.each(tH.folders.memory||{},function(e,t){ahl(t)})}function YV(o,e){var n=ajC.aiu(),t=n+parseInt(o.file_count||0),r=1;$.each(o.files||{},function(e,t){var a=new tH.Cp(t,o);tH.files.Yx(t.quickkey,a),n++,200==++r&&(ajC.aje(n),r=1),t.parent=o,$("#mfload_progress_bar").width(100*n/parseInt(o.file_count)+"%")}),e?ajC.aje(n+1):ajC.aje(t+1),tH.folders.Yx(o.folderkey,o)}function atP(){window.localStorage&&(localStorage.clear(),tH.files.atY(),tH.files.atG(),tH.folders.atY(),tH.folders.atG(),$.each(tH.folders.memory,function(e,t){localStorage["folder-"+e]=tH.yJ.WF(t)}),localStorage.user=MYF_sUserEnc,new auV(ajm(tH.files.memory),function(e){for(var t=0;t<1200;t++)e.length&&(b=e.shift(),localStorage["file-"+b]=tH.Cp.WF(tH.files.memory[b]))},400,100,!0).atR())}var Pg={},Ph="";function avn(e){var t;e&&0!=e.length&&(e[0]&&e[0].parent&&e[0].parent.folderkey&&e[0].parent.folderkey!=Ph&&(Ph=e[0].parent.folderkey,Pg={}),tH.aca&&0!=tH.aca.length||(Pg={}),t=e[0].quickkey?"files_"+e[0].parent_chunk:"folders_"+e[0].parent_chunk,tH.aca&&0!=tH.aca.length&&void 0!==Pg[t]||(Pg[t]=!0,void 0===tH.aca&&(tH.aca=[]),$.each(e,function(e,t){t.itemrownum=tH.aca.length,tH.aca.push(t),t.quickkey?tH.files.Yx(t.quickkey,t):tH.folders.Yx(t.folderkey,t);var a=t.quickkey||t.folderkey;1==tH.aSk&&"yes"!=t.shared&&"child"!=t.shared&&mainList.ZF(a),tH.aQX&&"yes"!=t.shared&&"child"!=t.shared&&("folder"==(a=tH.aQX)&&t.folderkey&&mainList.ZF(t.folderkey),"file"==a&&t.quickkey&&mainList.ZF(t.quickkey),a==t.filetype&&mainList.ZF(t.quickkey))}),1!=tH.aSk&&!tH.aQX||$.publish("list/selection")))}var bha=!1,gk=null,ir=null,cN=null;function aHM(i,a,o,n,r,s){if(!s){if(bha)return i.folderkey!=ir&&(cN={folder:i,type:a,sortby:o,order:n,chunk:r}),void(gk=gk||setTimeout(function(){var e;bha=!1,null!=cN&&(e=cN,cN=null,aHM(e.folder,e.type,e.sortby,e.order,e.chunk)),gk=null},3e3));bha=!0,ir=i.folderkey,tH.aca=[],delete tH.currentFolder.status,MYF_fShowSpinner("content")}var e={data:{content_type:a,filter:filterBy,order_by:o,order_direction:n,chunk:r,version:APIVERSION}},t=aLo();i.folderkey;t.aGU(i,e,{success:function(e,t){tH.folders.Yx(e.folderkey,e),avn(t),t.length<aIl&&!s&&("all"==filterBy||"public"==filterBy||"private"==filterBy)&&null==cN?aHM(i,"folders"==a?"files":"folders",o,n,r,!0):(MYF_fHideSpinner("content"),$.publish("folder/completed",i),bha=!1,null==cN?aHb(e):(e=cN,cN=null,aHM(e.folder,e.type,e.sortby,e.order,e.chunk)))},error:function(e,t,a){var o,n,r;bha=!1,e&&(MYF_fHideSpinner("content"),$.publish("folder/completed",i),r=n=o="","abort"!=t&&e.responseText&&(n=(o=JSON.parse(e.responseText)).response.error.toString(),r=o.response.message.toString()),"114"==n?"no"!=i.shared&&""!=i.shared?Zi(0,"Permission denied.  This folder is no longer shared by its owner."):Zi(0,"You do not have permissions to this folder."):"112"===n?(aek||"myfiles"===i.folderkey||(window.location.hash="#myfiles",$(window).hashchange()),13===window.location.hash.length&&Zi(0,r)):"293"==n?window.top.location="/error.php?errno=378":Zi(0,"There was a problem while attempting to browse the folder. "+r),window.location.hash=tH.currentFolder.folderkey)}},atC)}function aaO(e,t,a){var o,n,r,i=!1;"trash"==e.folderkey?(sortBy="name",i=!0,bfi(),Xb.bfg()):bff(),i?avn($.values(e.folders).concat($.values(e.files))):"multiple_keys"===e.share_type&&(o=$.values(e.folders).sort(YT.folder["created"==sortBy?"created":"name"]),n=$.values(e.files).sort(YT.file[sortBy]),$.each(o,function(e,t){o[e]=tH.folders.yx(t.folderkey)}),tH.aca=o.concat(n)),aoP(tH.aca,t),currentFolder=e,tH.currentFolder=currentFolder,abM=currentFolder.folderkey,aek||i||aU("mfcurrentFolder",currentFolder.folderkey,1800),!i&&currentFolder.folderkey&&(tH.currentFolder.parent=tH.folders.memory[currentFolder.folderkey].parent),aek&&$("#fileDetails #folder_name").text(tH.currentFolder.name||"My Files").attr("title",tH.currentFolder.name||"My Files"),aek||i||(r=currentFolder.folderkey,tH.aVJ=setTimeout(function(){r==currentFolder.folderkey&&FI(currentFolder.folderkey)},1500)),"myfiles"==currentFolder.folderkey||aek&&currentFolder.folderkey==afI?($("#main_files_container").hasClass("thisfolder_root")||$("#main_files_container").addClass("thisfolder_root"),$("#container").hasClass("thisfolder_root")||$("#container").addClass("thisfolder_root")):($("#main_files_container").removeClass("thisfolder_root"),$("#container").removeClass("thisfolder_root")),"on"==aL("thumbview")&&$("#viewtab2").click(),$.publish("folder/render",[e])}function aHb(e){YV(tH.currentFolder=e),aaO(e,null,!0),$("title",document.head).text(e.name),$.publish("folder/render",e),bha=!1}function abH(e,t){tH.currentFolder=e;var a,o,n,r;aGQ=1!=sortAscending||"all"!=filterBy&&"public"!=filterBy&&"private"!=filterBy&&"folders"!=filterBy?(aHy=sortAscending?"asc":"desc","folders"==filterBy?"folders":"files"):(aHy="asc","folders"),"trash"==e.folderkey?(a=new window.tH.aCa(window.aCQ||0),r=n=o=-1,a.beN({data_only:"yes",content_type:"folders"},function(e){e.response&&(o=parseInt(e.response.folder_count,10)||0,-1!=n&&(r=o+n,$("#trash_restoreAll, #trash_deleteAll").toggle(0<r),$(".trashCan").text("Trash ("+r+" items)"),(e=tH.folders.memory.trash)?(e.folderkey="trash",e.name="Trash",e.file_count=n,e.folder_count=o,e.total_files=n,e.total_folders=o):e=new tH.yJ({folderkey:"trash",name:"Trash",file_count:n,folder_count:o,total_files:n,total_folders:o}),aHM(tH.folders.memory.trash=e,aGQ,sortBy,aHy)))}),a.beN({data_only:"yes",content_type:"files"},function(e){e.response&&(n=parseInt(e.response.file_count,10),-1!=o&&(r=o+n,$("#trash_restoreAll, #trash_deleteAll").toggle(0<r),$(".trashCan").text("Trash ("+r+" items)"),(e=tH.folders.memory.trash)?(e.folderkey="trash",e.name="Trash",e.file_count=n,e.folder_count=o,e.total_files=n,e.total_folders=o):e=new tH.yJ({folderkey:"trash",name:"Trash",file_count:n,folder_count:o,total_files:n,total_folders:o}),aHM(tH.folders.memory.trash=e,aGQ,sortBy,aHy)))})):"multiple_keys"===e.share_type?aaO(e,t):aHM(e,aGQ,sortBy,aHy)}function XO(){var e=window.location.hash.slice(1);if(e)return(t=-1!=e.indexOf("search-")?e.replace("search-",""):e)||"myfiles";if(aek)return!1;var e=aL("mfcurrentFolder")||"",t=e||"myfiles";return window.location.hash=t,!1}function aFV(){var e,t=!1,a=XO();tH.folders.yx(a)?(e=a)&&tH.folders.memory[e]&&(tH.folders.memory[e].folders={},tH.folders.memory[e].files={},tH.currentFolder=tH.folders.yx(e),t=!0):(tH.currentFolder=new tH.yJ(a),t=!0),t&&(abH(tH.currentFolder),$(window).resize())}function alb(){window==window.top||aek||(top.location.hash=window.location.hash),afv()&&aft(!1,!0),aFV(),tH.MYF_oSelected&&mainList.aTN(),aHS=setTimeout(function(){$("#container").addClass("mfloading")},250),aHJ(0),aHJ(99,1e4),$(window).scrollTop(0),LF.ZR()}function aIS(a,e,t,o,n,r){if(!bha){MYF_fShowSpinner("content");try{var i={data:{content_type:e,filter:filterBy,order_by:t,order_direction:o,chunk:n,version:APIVERSION}};aHa.aGU(a,i,{success:function(e,t){avn(t),tH.folders.Yx(e.folderkey,e),r(t),setTimeout(function(){$.publish("folder/lazy_load_add",e)},250),MYF_fHideSpinner("content"),$.publish("folder/completed",a)},error:function(){MYF_fHideSpinner("content"),$.publish("folder/completed",a)}},!0)}catch(e){asO(e,"MYF:aIS()")}}}function aQx(e,t){var a=filterBy,o=sortBy,n=sortAscending?"asc":"desc";if(t||(t=e,e=null),"folders"==e&&"all"!=a&&"public"!=a&&"private"!=a)return!0;if("files"==e&&"folders"==a)return!0;if(!(t&&t.status&&t.status[a]&&t.status[a][o]&&t.status[a][o][n]))return!1;n=t.status[a][o][n];return 0===tH.currentFolder.file_count&&(n.files={loaded:!0}),e?n[e]&&n[e].loaded:aQx("folders",t)&&aQx("files",t)}function aRB(){return sortAscending?aQx("folders",tH.currentFolder)&&"folders"!=filterBy?"files":"folders":aQx("files",tH.currentFolder)?"folders":"files"}function aJh(){var e=tH.currentFolder,t=aRB(),a=filterBy,o=sortBy,n=sortAscending?"asc":"desc";if(!(e&&e.status&&e.status[a]&&e.status[a][o]&&e.status[a][o][n]))return 1;n=e.status[a][o][n];return n[t]&&n[t].chunk?n[t].chunk+1:1}function aoP(e,t){var a,r,i,s;mainList.aTN(),aFi(),e&&e.length?($empty.hide(),$mainList.empty(),a=window.afv(),bfw(),a&&(window.tH.aca=[],avn(e)),window.tH.ayo(!0),aQx("folders",tH.currentFolder)&&aQx("files",tH.currentFolder)||a||"multiple_keys"==tH.currentFolder.share_type||(r=0,i=!1,s=null,aaa=function(t){var a,o;function n(){i=!1,$.publish("folder/lazy_load",[a]);var e=aQx(window.tH.currentFolder);!e&&0<r?(r--,"function"==typeof aaa&&aaa(t)):e&&(aaa=null),!0===t&&0==r&&tH.ayo()}i?r++:(i=!0,a=[],o=s?s+=1:s=aJh(),aIS(tH.currentFolder,aRB(),sortBy,sortAscending?"asc":"desc",o,function(e){$.merge(a,e),e.length<aIl&&!aQx(tH.currentFolder)?(o=s=aJh(),aIS(tH.currentFolder,aRB(),sortBy,sortAscending?"asc":"desc",o,function(e){$.merge(a,e),n()})):n()}))}),axm($mainList)):(aaa=null,$mainList.empty(),$empty.show()),aos(tH.currentFolder),aHJ(105)}function axm(e){e.children("li.folder").unbind("draghover").bind("draghover",function(e){$(this).toggleClass("folder_highlight",e.enter)}).bind("mouseleave mouseout",function(e){$(this).removeClass("folder_highlight")})}function aGv(e){!e||aek&&tH.currentFolder.folderkey==afI?tH.currentFolder.folderkey!=tH.root.folderkey?$folderUp.show().find("a").attr("href","#"+tH.root.folderkey).data("key",tH.root.folderkey):$folderUp.hide().data("key","myfiles"):$folderUp.show().find("a").attr("href","#"+e).data("key",e)}function aos(s,e){if($("#myfilesCurrentFolderName").text(s.name),$("#myfilesCurrentFolderName").toggleClass("cameraUploads","Camera"===s.name),aek&&(t=(t=(""+window.tH.root.owner_name).replace(" ",""))||"Anonymous",$("#owner_breadcrumb1").text('"'+t+'" Shared Files')),aKP=function(){function e(e){var a;aFi()||(Xb.acI("myfiles",tH.currentFolder.folderkey),e=new window.tH.yJ(e),tH.root=e,tH.folders.Yx("myfiles",e),awH(),a={},$.each(window.tH.folders.memory.myfiles.folders,function(e,t){a[t.folderkey]=t}),tH.folders.memory.myfiles.folders=a,tH.root=e,$.publish("folderbrowser/load",tH.currentFolder),tH.aFA=!0)}var t;aFi()||aek||(tH.folders.memory.myfiles&&tH.folders.memory.myfiles.folders&&!$.isEmptyObject(tH.folders.memory.myfiles.folders)?e(tH.folders.memory.myfiles):(t=(t=tH.folders.yx("myfiles"))||new tH.yJ("myfiles"),aHa.aGU(t,{data:{content_type:"folders",order_by:"name",order_direction:"asc",version:APIVERSION}},e,!0)))},SHARED||"myfiles"==s.folderkey||"trash"==s.folderkey||"yes"==s.shared||"child"==s.shared){tH.root||(tH.root={folderkey:"myfiles"});var t=null;if("myfiles"!=s.folderkey){for(var t=tH.currentFolder.parent||tH.currentFolder.parent_folderkey?tH.currentFolder.parent?tH.currentFolder.parent.folderkey:tH.currentFolder.parent_folderkey:"myfiles",a=!1,o=[],n=tH.currentFolder;!a;){if((n=n&&!n.parent&&!n.parent_folderkey?tH.folders.yx(n.folderkey)||n:n)&&!n.parent&&n.parent_folderkey&&(n.parent=tH.folders.yx(n.parent_folderkey)),n&&n.folders)for(var r=0;r<n.folders.length;r++)n.folders[r].folderkey&&tH.folders.Yx(n.folders[r].folderkey,new tH.yJ(n.folders[r]));!(n.parent&&n.parent.name&&n.parent.folderkey&&n.parent.folderkey!=n.folderkey)||"myfiles"==n.parent.folderkey?a=!0:(o.push({folderkey:n.parent.folderkey,name:n.parent.name}),n=n.parent)}$breadcrumbs.find("a.breadcrumb[id!='owner_breadcrumb1']").remove(),0<o.length&&(o.reverse(),$breadcrumbs.append($($.map(o,function(e){var t=tH.folders.yx(e.folderkey);t?e=t:tH.folders.Yx(e.folderkey,new tH.yJ(e));t=htmlspecialchars(bcv(e.name,MYF_iBreadCrumbsMaxLength/o.length));return'<a href="#'+e.folderkey+'" class="breadcrumb" data-key="'+e.folderkey+'">'+t+"</a>"}).join(""))).find("a").bind("draghover",function(e){$(this).toggleClass("folder_highlight",e.enter)}))}aGv(t),aKP()}else e&&aHa.aIX(s.folderkey),aHa.aLA(s,{success:function(e){var a=e.response.folder_depth.chain_folders;if(a.shift(),a.reverse(),$breadcrumbs.find("a.breadcrumb[id!='owner_breadcrumb1']").remove(),a.length){for(var t,o=0,n=a.length;o<n;o++){t=t||((t=tH.folders.yx("myfiles"))||new tH.yJ("myfiles"));var r=tH.folders.yx(a[o].folderkey);(r=new tH.yJ(a[o],t)).parent=t,t=r}tH.folders.memory[s.folderkey].parent=t,tH.currentFolder=tH.folders.yx(s.folderkey);var i="breadcrumb";$breadcrumbs.append($($.map(a,function(e){(e=tH.folders.yx(e.folderkey)||e)||tH.folders.Yx(new window.tH.yJ(e)),"trash"==e.folderkey&&(i="breadcrumb trashBreadcrumb"),"Camera"===e.name&&(i+=" cameraUploads");var t=htmlspecialchars(bcv(e.name,MYF_iBreadCrumbsMaxLength/a.length));return'<a href="#'+e.folderkey+'" class="'+i+'" data-key="'+e.folderkey+'">'+t+"</a>"}).join(""))).find("a").bind("draghover",function(e){$(this).toggleClass("folder_highlight",e.enter)}),$("#container").toggleClass("trashMode",0<$(".trashBreadcrumb").length)}aKP(),aGv(window.tH.currentFolder.parent?window.tH.currentFolder.parent.folderkey:window.tH.currentFolder.parent_folderkey)},error:function(e){}})}function aBe(){$("#files-search-wrap").hide()}function aAC(){$("#files-search-wrap").show(),$("#search").focus()}function awQ(e,t){if(e.response&&e.response.result&&"Success"==e.response.result){var a={},o={};$.each(e.response.tickets,function(e,t){null!=t&&(a[t.quickkey]=!0,o[t.company_name]=t)});for(var n=!1,r=0;r<t.length;r++)if(a[t[r]]){n=!0;break}var i={};1<sizeOf(o)&&1<t.length?i.company_name="Multiple Agencies":$.each(o,function(e,t){i=t});try{(n?$("#modal_msg_iframe").contents().find("#dmca-match-message"):$("#modal_msg_iframe").contents().find("#dmca-similar-message")).show(),i.company_name?$("#modal_msg_iframe").contents().find("#dmca-company").html(i.company_name||""):$("#modal_msg_iframe").contents().find("#dmca-company-area").hide(),i.contact_email?$("#modal_msg_iframe").contents().find("#dmca-company-email").html(i.contact_email||""):$("#modal_msg_iframe").contents().find("#dmca-company-email-area").hide(),i.company_address?$("#modal_msg_iframe").contents().find("#dmca-company-addr").html(i.company_address||""):$("#modal_msg_iframe").contents().find("#dmca-company-addr-area").hide()}catch(e){}}else aH(0,"No DMCA info found.")}function Xz(a){return function(e,t){return parseInt(e[a])-parseInt(t[a])}}function akJ(){try{var a={};return $.each(tH.files.memory,function(e,t){a[t.owner_name]=1}),$.each(tH.folders.memory,function(e,t){t!=tH.root&&(a[t.owner_name]=1)}),sizeOf(a)}catch(e){asO(e,"MYF:akJ()")}}function alu(){try{for(key in tH.root.folders)if(tH.root.folders[key].owner_name)return tH.root.folders[key].owner_name;for(key in tH.root.files)return tH.root.files[key].owner_name;return""}catch(e){asO(e,"MYF:alu()")}}function Fr(e,t){try{var a,o;atC||!window.localStorage||aek||(a=$.extend(!0,{},e),o=[],a.parent=a.parent?a.parent.folderkey:"",$.each(a.folders,function(e,t){a.folders[e]=$.extend({},t),a.folders[e].parent="",a.folders[e].folders={},a.folders[e].files={}}),$.each(a.files,function(e,t){a.files[e]=$.extend(!0,{},t),a.files[e].parent=""}),o[t]=JSON.stringify(a),aHa.aGF&&aHa.aGF.postMessage({cmd:"parse-responses",params:o}))}catch(e){asO(e,"MYF:Fr()")}}function Xo(e){try{if(!atC&&window.localStorage)try{var t=JSON.parse(localStorage[e]);return folderext=new window.tH.yJ(t),$.each(folderext.folders,function(e,t){folderext.folders[e]=new window.tH.yJ(t)}),folderext}catch(e){return!1}}catch(e){asO(e,"MYF:Xo()")}}function aBE(a,e){var o,n,t=!1;$("#myfiles_wrap").hasClass("sizeS")&&(o="s",t=(t=!!a.thumb1ready)||!(!window.tH.aRp||!window.tH.aRp[a.quickkey]),n="/images/imgerrs/50-1.jpg"),$("#myfiles_wrap").hasClass("sizeM")&&(o="m",t=(t=!!a.thumb2ready)||!(!window.tH.aRE||!window.tH.aRE[a.quickkey]),n="/images/imgerrs/50-2.jpg"),$("#myfiles_wrap").hasClass("sizeL")&&(o="l",t=(t=!!a.thumb3ready)||!(!window.tH.aRK||!window.tH.aRK[a.quickkey]),n="/images/imgerrs/50-3.jpg"),!1!==t&&!0!==e||a.parent.folderkey!=window.tH.currentFolder.folderkey?a.parent.folderkey==window.tH.currentFolder.folderkey&&setTimeout(function(){var e,t;e=a,t=$("li#file-"+e.quickkey),e=t.find(".itemThumbnail img").data("dsrc"+o)||n,t.find(".itemThumbnail").css("background-image","url("+e+")"),t.find(".itemThumbnail").removeClass("processing")},150):setTimeout(function(){aCs(a)},150)}function aaZ(){$mainList.find("li.file .itemThumbnail").css("background-image","none").addClass("processing")}function Vf(e,t){$.publish("folder/render",[e]),$(window).resize()}function aps(){window.tH.aca=[],abH(window.tH.currentFolder)}function aQt(e){return!(!$("#myfiles_wrap").hasClass("sizeS")||1!=e.thumb1ready)||(!(!$("#myfiles_wrap").hasClass("sizeM")||1!=e.thumb2ready)||(!(!$("#myfiles_wrap").hasClass("sizeL")||1!=e.thumb3ready)||!(!$("myfiles_wrap").hasClass("listView")||1!=e.thumb0ready)))}function aQP(e){avg+=e}function bkV(e){var t=(new Date).getTime();bke=(t-(window.tH.bkc||0))/1e3;for(var a=!0,o=0;o<e.length;o++)if(document.getElementById("folder-"+e[o])){a=!1;break}a||(bke>=bkg?window.tH.yJ.asi(e,function(e){var t;e.response&&(!e.response.folder_info||(t=tH.folders.yx(e.response.folder_info.folderkey))&&(t.total_files=e.response.folder_info.total_files,t.total_folders=e.response.folder_info.total_folders,e.response.folder_info.overflow&&(t.overflow=e.response.folder_info.overflow),asN(t,!0)),e.response.folder_infos&&$.each(e.response.folder_infos,function(e,t){var a=tH.folders.yx(t.folderkey);a.total_files=t.total_files,a.total_folders=t.total_folders,t.overflow&&(a.overflow=t.overflow),asN(a,!0)}),$("#dragIcon").hide())},!0):(window.tH.bov&&clearTimeout(window.tH.bov),window.tH.bov=setTimeout(function(){bkV(e)},1e3*(bkg+.1-bke))))}function aua(e){e&&(aQr=null,avg=0,aog=0,$("#main_list").css({margin:0}),$(window).resize());var a,t,o,n,r,i,d,s,l,c,f,u,p,h,m="";function g(e){e=Math.floor(e/i)*d;$(window).scrollTop(0),$("body").stop().animate({scrollTop:e},500,function(){$(window).resize()})}function y(a,e){e||a.reverse();var o="";$.each(a,function(e,t){(Lu=window.tH.aca[t])&&(o+=Lu.quickkey?"#file-"+Lu.quickkey:"#folder-"+Lu.folderkey,$(Lu.quickkey?"#file-"+Lu.quickkey:"#folder-"+Lu.folderkey).hasClass("row_context")&&contextMenu.isVisible()&&contextMenu.aoh(),a[e+1]&&(o+=", "))});var t,n=$(o);0<n.length&&(e?(t=Math.floor(u/i)*d,$("#main_list").css({marginTop:t})):(t=Math.ceil((aog-p)/i)*d,$("#main_list").css({marginBottom:t})),n.remove())}function w(e,s){var t,l=[];s?(t=Math.floor(u/i)*d,$("#main_list").css({marginTop:t})):(t=Math.ceil((aog-p)/i)*d,$("#main_list").css({marginBottom:t})),s&&e.reverse(),$.each(e,function(e,t){if(Lu=tH.aca[t]){var a=Lu;if("undefined"==typeof Lu||Lu.relevancy){Lu.quickkey;var o="files",n=(a=new window.tH.Cp(Lu)).quickkey,r=!1;if(tH.MYF_oSelected[o]&&n)for(var i=0;i<tH.MYF_oSelected[o].length;i++)if(n==tH.MYF_oSelected[o][i]){r=!0;break}a.selected=r}else{t=Lu.quickkey?tH.files.yx(Lu.quickkey):tH.folders.yx(Lu.folderkey);t&&(t.itemrownum=Lu.itemrownum,Lu.quickkey?tH.files.Yx(t.quickkey,t):(l.push(Lu.folderkey),tH.folders.Yx(t.folderkey,t)),a=t)}a=XB([a]);s?$("#main_list").prepend($(a)):$("#main_list").append($(a))}}),0<l.length&&bkV(l)}window.tH.currentFolder&&(m=window.tH.currentFolder.folderkey),$.each($("#main_list li"),function(e,t){var a=$(t),o=a.hasClass("file"),t=a.data("key"),o=window.tH[o?"files":"folders"].memory[t],t="";void 0!==(t=o&&o.parent?o.parent.folderkey:t)&&(m===t||$("#container").hasClass("searchresults")||a.remove())}),window.tH.aca&&(0<window.tH.aca.length||e)&&(a=$("#main_list li:first"),d=0==a.length?49:a.outerHeight(),t=$(window).scrollTop(),o=$(window).height(),r=$("#header").outerHeight()+$("#myfiles_controlbar_wrap").outerHeight(),s=Math.ceil((o-r)/d),c=Math.ceil(s/2),l=12,f=2*c+s,i=1,tH.aca.length>aog&&(aog=tH.aca.length),UO()&&(n=$(window).width()-268-20,r=$("#myfiles_wrap").hasClass("sizeS")?122:$("#myfiles_wrap").hasClass("sizeM")?183:244,i=Math.floor(n/r),d=0==a.length?$("#myfiles_wrap").hasClass("sizeS")?142:$("#myfiles_wrap").hasClass("sizeM")?203:264:a.outerHeight(),s=Math.ceil(o/d),l=3*i,f=(c=Math.ceil(s))*i*2+s*i),$(window).resize(function(){var e,t;UO()&&(e=$(window).width()-268-20,t=$("#myfiles_wrap").hasClass("sizeS")?122:$("#myfiles_wrap").hasClass("sizeM")?183:244,i=Math.floor(e/t),d=0==a.length?142:a.outerHeight(),s=Math.ceil(o/d),l=3*i,c=Math.ceil(s),f=c*i*2+s*i)}),u=(h=0)==t?0:(h=(h=Math.floor(t/d)*i-c/2)<0?0:h,h=Math.floor(h/l)*l),(p=(p=u+f-1)>tH.aca.length?tH.aca.length:p)>aog&&(aog=p),aHK=Math.floor(t/d)*i,aaa&&(f>tH.aca.length||p>tH.aca.length-f)&&!afv()&&"multiple_keys"!=tH.currentFolder.shared_type&&aaa(!0),(u!=avg||p!=aQN||aiz||e||aBX)&&(aiz=!1,function(){for(var e,t,a=[],o=u;o<p+1;o++)(e=window.tH.aca[o])&&aRS(e)&&(t=e.quickkey?"#file-"+e.quickkey:"#folder-"+e.folderkey,0==$(t).length&&(a.push(o),aRX(e)&&aBE(e)));var n=[];$.each($("#main_list li"),function(e,t){t=parseInt($(t).data("rownum"));(t<u||p<t)&&n.push(t)}),u<avg?(0<a.length&&w(a,!0),0<n.length&&y(n)):(0<a.length&&w(a),0<n.length&&y(n,!0)),avg=u,aQN=p}()),aBX&&(g(aSb),aBX=!1),aCo&&(g(0),aCo=!1)),aiz=aiz&&!1}function GetParentName(e){return window.tH.folders.memory[e].name}function XB(e){var o=bfw();return $.map(e,function(e,t){if(e.relevancy||o){if("folder"===e.type&&e.folderkey||o&&e.folderkey){var a=window.tH.folders.yx(e.folderkey);return(a=a||new window.tH.yJ(e)).parent_name||e.parent_name||(a.parent_name=window.tH.currentFolder.name),o&&!a.parent&&(a.parent=window.tH.folders.yx("trash")),a.parent_chunk=1,templates.folder_row(aye($.extend({},a,e)))}if("file"===e.type&&e.quickkey||o&&e.quickkey){a=window.tH.files.yx(e.quickkey);return(a=a||new window.tH.Cp(e)).parent_name||e.parent_name||(a.parent_name=window.tH.currentFolder.name),o&&!a.parent&&(a.parent=window.tH.folders.yx("trash")),templates.file_row(akl($.extend({},a,e)))}return""}return tH.yJ.aaW(e)&&e.folderkey?(aek&&0===avH(e.flag,1)&&(e.shared=""),templates.folder_row(aye(e))):tH.Cp.Zo(e)&&e.quickkey?templates.file_row(akl(e,{axn:parseInt(axn)})):""}).join("")}function UO(){return $("#myfiles_wrap").hasClass("thumbnailView")}function aCN(){return $("#myfiles_wrap").hasClass("doc-view")}function aKd(){return{order_by:sortBy,order_direction:sortAscending?"asc":"desc"}}function aLo(){return aHa}function bz(){return Math.ceil($window.height()/23)}var aXb=0,aWV=!1;function aRG(){if(aWV)aXb++;else{aWV=!0;for(var e=0;e<tH.aca.length;e++){var t=tH.aca[e];t.itemrownum=e,void 0!==(window.tH.aca[e]=t)&&t.quickkey?(window.tH.files.Yx(t.quickkey,t),$mainList.find("li#file-"+t.quickkey).attr("data-rownum",e)):(window.tH.folders.Yx(t.folderkey,t),$mainList.find("li#folder-"+t.quickkey).attr("data-rownum",e))}0<aXb?(aXb--,aRG()):aWV=!1}}function aoQ(e,t){if(!aHS){if(window.tH.aca){for(var a=e.quickkey?"quickkey":"folderkey",o=0;o<window.tH.aca.length;o++)if(window.tH.aca[o][a]==e[a])return}else window.tH.aca=[];var n,r;e.newclass=!0,e.itemrownum=0,window.aQP(1),window.tH.aca.unshift(e),$("#emptyfolder_upload").hide(),bfw()&&$("#trash_restoreAll, #trash_deleteAll").show(),tH.currentFolder.folderkey==e.parent.folderkey&&(e.quickkey?tH.currentFolder.files[e.quickkey]=e:tH.currentFolder.folders[e.folderkey]=e),0!=$mainList.find("li:first").length&&0!=parseInt($mainList.find("li:first").data("rownum"))||!window.aRS(e)||(n=XB([e]),0<(r=$(e.quickkey?"#file-"+e.quickkey:"#folder-"+e.folderkey)).length&&r.remove(),$mainList.prepend(n),e.folderkey&&tH.currentFolder.folderkey&&Xb&&Xb.aVp(e,tH.currentFolder.folderkey),t||(e.quickkey?($("#file-"+e.quickkey).hide(0),$("#file-"+e.quickkey).slideDown(1e3,"easeOutExpo")):($("#folder-"+e.folderkey).hide(0),$("#folder-"+e.folderkey).slideDown(1e3,"easeOutExpo")))),aRG(),axm($mainList)}}function aQO(a,e,t){t=t||0,a&&window.tH.aca[a.itemrownum-t]&&a.quickkey&&a.quickkey==window.tH.aca[a.itemrownum-t].quickkey||a&&window.tH.aca[a.itemrownum-t]&&a.folderkey&&a.folderkey==window.tH.aca[a.itemrownum-t].folderkey?window.tH.aca.splice(a.itemrownum-t,1):$.each(window.tH.aca,function(e,t){a&&t&&(a.quickkey&&t.quickkey==a.quickkey||a.folderkey&&t.folderkey==a.folderkey)&&window.tH.aca.splice(e,1)}),t=a.quickkey?"#file-"+a.quickkey:"#folder-"+a.folderkey,a.folderkey&&Xb&&Xb.aVb(a.folderkey);t=$(t);return 0<t.length&&(e?t.hide():t.slideUp(1e3,"easeOutExpo")),t.remove(),0==$("#main_list li").length&&0==tH.aca.length?aQx(null,tH.currentFolder)?($("#emptyfolder_upload").show(),window.tH.aca=[],bfw()&&$("#trash_restoreAll, #trash_deleteAll").hide()):$(window).hashchange():aRG(),!1}function asE(e){var t=$mainList.find("li#file-"+e.quickkey);t.hasClass("new");if(0<t.length){var a=parseInt(t.data("rownum"));e.itemrownum=a,window.tH.aca[a]=e;var o=!1,a=!1;return t.hasClass("new")&&(a=!0),t.hasClass("imgpreview-active")&&(o=!0),$mainList.find("li#file-"+e.quickkey).replaceWith(XB([e])),o&&$mainList.find("li#file-"+e.quickkey).addClass("imgpreview-active"),a&&$mainList.find("li#file-"+e.quickkey).addClass("new"),$.publish("image/update",[e]),!0}return!1}function asN(e,t){var a,o=$mainList.find("#folder-"+e.folderkey),n=o.hasClass("new");0<o.length&&(a=parseInt(o.data("rownum")),e.itemrownum=a,window.tH.aca[a]=e,o.replaceWith(XB([e])),o=$mainList.find("#folder-"+e.folderkey),n&&o.addClass("new"),void 0!==e.overflow&&"yes"===e.overflow?(o.attr("title",Encoder.XSSEncode(e.name)+", Many files or folders"),o.find(".extraInfo").removeClass("hide")):(t||void 0!==e.total_folders&&void 0!==e.total_files)&&(o.attr("title",Encoder.XSSEncode(e.name)+", Folders: "+(e.total_folders||0)+", Files: "+(e.total_files||0)),o.find(".extraInfo").removeClass("hide")))}function aNq(e,t){return $(t).data("key")}function aiJ(e){return $(e.target).closest("li").attr("id").split("-").shift()}function agu(e){return aNq("",$(e.target).closest("li"))}function ahz(e){var t=OK();return-1!=t.files.search(e)||-1!=t.folders.search(e)}function adb(e,t){return"folder"==t?{folders:[e]}:{files:[e]}}function adn(e){return 0<afZ()&&ahz(agu(e))?agL():adb(agu(e),aiJ(e))}function OK(){return{files:tH.MYF_oSelected.files.join(","),folders:tH.MYF_oSelected.folders.join(",")}}function agL(){var e=OK();return{files:0<e.files.length?e.files.split(","):[],folders:0<e.folders.length?e.folders.split(","):[]}}function aiO(){var e=aoj();return e.files.concat(e.folders).join(",")}function afZ(){var e=agL();return e.files.length+e.folders.length}function aRM(e){try{gtag("event","view_image_gallery")}catch(e){}var t,a,o=window.tH.MYF_oSelected.files;o.length?(t=tH.files.yx(o[0]),a="/view/"+o.join(",")+"/gallery","image"!=t.filetype&&(a=t.clickLink&&1==o.length?t.clickLink:"/view/"+o.join(",")),e?e.attr("href",a):window.open(a)):aH(0,"You must select at least one file to view.")}function akO(e,t){e.files||(e.files=[]),e.folders||(e.folders=[]);try{var a;1==e.files.length&&e.folders.length<1?(a=agW(tH.files.yx(e.files[0])||{filename:"",filetype:"unknown",quickkey:e.files[0]},"download"),"Internet Explorer"==BrowserName()&&"9.0"==Bm()?"http:"==window.top.location.protocol?window.location=a:window.top.location=a:("https:"==window.top.location.protocol&&(a=a.replace(/^http\:/i,"https:")),window.open(a))):adP(e);try{gtag("event","download",{event_label:t||"unknown"})}catch(e){}try{window.sendinblue.track("DOWNLOAD")}catch(e){}}catch(e){asO(e,"MYF:akO()")}}function MYF_DirectDownload(e){akO(e,"list_item")}function aki(){if(!fu&&!hq)return Ck(),!1;var e=[],e=afv()?tH.XE:tH.currentFolder.files,a=[];return $.each(e,function(e,t){"image"==t.filetype&&a.push(t.quickkey)}),akO({files:a,folders:[]},"context_menu"),!1}function aeP(e,t,a){t+=e,a&&t>=a.length&&(tH.currentFolder=tH.root,1<akJ()?tH.root.owner_name="Custom View":tH.root.owner_name=alu(),0<window.location.hash.slice(1).length&&window.location.hash.slice(1)!=tH.currentFolder.folderkey&&((t=tH.folders.yx(window.location.hash.slice(1)))&&(tH.currentFolder=t)),tH.currentFolder.share_type="multiple_keys",bcB&&($("#folder_author").attr("title",'shared by "'+bcB+'"').text('shared by "'+bcB+'"'),$("#collabmodeContact .collabContactName").text(bcB).attr("title",bcB)),$.publish("folder/load",[tH.currentFolder]),MYF_fHideSpinner("folders")),a||Zi(1,"Error: One or more of the files/folders that were shared<br/>are invalid or no longer exist.")}function akz(){aeP(1)}function aeI(e,t,a){var o=tH.root,n=new tH.Cp(e);n.Yw({success:function(){(n.parent=o).files[e]=n,tH.files.Yx(e,n),n.owner_name&&"undefined"==typeof bcB&&(window.bcB=n.owner_name),n.owner_name&&n.owner_name!=bcB&&(bcB="Various Owners"),aeP(1,t,a)},error:akz})}function ahF(e,t,a){var o=tH.root,n=new tH.yJ(e);n.Yw({data:{recursive:"yes"}},{success:function(){(n.parent=o).folders[e]=n,tH.folders.Yx(e,o.folders[e]),"undefined"==typeof bcB&&(window.bcB=n.owner_name),n.owner_name&&n.owner_name!=bcB&&(bcB="Various Owners"),aeP(1,t,a)},error:akz})}function agM(e){tH.aFA=!1,tH.folders.Yx(e.folderkey,e),tH.folders.memory.myfiles=e,tH.currentFolder=e,0<window.location.hash.slice(1).length&&window.location.hash.slice(1)!=tH.currentFolder.folderkey&&((e=tH.folders.yx(window.location.hash.slice(1)))&&(tH.currentFolder=e)),$.publish("folder/load",[tH.currentFolder]),tH.lo=!0,$.publish("folderbrowser/load",tH.currentFolder),MYF_fHideSpinner("folders")}function auF(e){$.each(e,function(e,t){"no"!=t.shared&&""!=t.shared||auF((tH.myaccountfolders[t.folderkey]=t).folders)})}function awH(){$.each(tH.folders.memory,function(e,t){t&&t.folderkey?"myfiles"!=e&&"myfiles"!=t.folderkey&&(t.parent||(t.parent_folderkey?t.parent=tH.folders.yx(t.parent_folderkey):t.parent=tH.folders.yx("myfiles")),t.parent&&(t.parent.folders||(t.parent.folders={}),t.parent.folders[e]=t)):delete tH.folders.memory[e]})}function LB(){var e=aL("mfcurrentFolder")||"";if(""==window.location.hash.slice(1)){if(e&&!atC&&localStorage[MYF_sUserEnc+"-folder-"+window.location.hash.slice(1)+"-"+(sortAscending?"folders-":"files-")+sortBy+"-"+(sortAscending?"asc":"desc")+"-1"])return e}else if(!atC&&localStorage[MYF_sUserEnc+"-folder-"+window.location.hash.slice(1)+"-"+(sortAscending?"folders-":"files-")+sortBy+"-"+(sortAscending?"asc":"desc")+"-1"])return window.location.hash.slice(1);return!atC&&""==window.location.hash.slice(1)&&localStorage[MYF_sUserEnc+"-folder-myfiles-"+(sortAscending?"folders-":"files-")+sortBy+"-"+(sortAscending?"asc":"desc")+"-1"]?"myfiles":""}function apC(){return aek}function aRS(e){return"all"==filterBy||filters[filterBy](e)}function adI(){akO(tH.MYF_oSelected,"selection_bar")}function adP(e){acL(e)}function acL(e){aol(e)}function aol(e){aky(ajU(e))}function ajU(e){var t,a=e.files.length+e.folders.length,o={keys:"",count:a=1==e.folders.length&&e.folders[0]==tH.currentFolder.folderkey?(parseInt(tH.currentFolder.file_count,10)||0)+(parseInt(tH.currentFolder.folder_count,10)||0):a},a=[];return e.files&&(t=e.files.join())&&a.push(t),e.folders&&(t=e.folders.join())&&a.push(t),o.keys=a.join(),o}function aky(e){fu||hq?e.count<=0?aH(0,"You must select at least two items or one folder to zip."):GH.apJ.open(e):Ck()}function aka(e){var a={files:[],folders:[]},e=tH.folders.yx(e);return $.each(e.files,function(e,t){a.files.push({quickKey:e,size:t.size})}),$.each(e.folders,function(e){var t=aka(e);a.folders.push({folderKey:e,files:t.files,folders:t.folders})}),a}function aiM(e){0==fu||4==fu?LoadIframeLightbox("/templates/upgrade/statistics.html",750,390):(iZ=e,DoAPopup("select_stats_popup",530,380))}function ayz(e){var a=0;$.each(e.folders,function(e,t){ayz(t),a+=t.file_count}),e.file_count=a+sizeOf(e.files)}function ama(e){tH.configuration||(tH.configuration={}),tH.configuration.viewable||(tH.configuration.viewable={}),tH.configuration.viewable.extensions=e}function bbH(e){tH.azm=e}function aLc(){0<$("#dragIcon").length&&$("#dragIcon").is(":visible")&&$("#dragIcon").css("top",e.pageY-10).css("left",e.pageX+10).css("z-index",9999)}function aSs(){$(".logo a").click(function(e){return window.location.hash="myfiles",aeV(e),!1})}function aSq(){1<aL("mfsf-"+UserEmail).length&&(sortBy=aL("mfsf-"+UserEmail)||"name",sortAscending=!0,"relevancy"==sortBy||"expire"==sortBy?sortBy="name":aek&&"downloads"==sortBy&&(sortBy="created")),!atC&&window.localStorage&&(localStorage.user==MYF_sUserEnc&&localStorage.current_api_version||(localStorage.clear(),localStorage.user=MYF_sUserEnc))}function aMS(){return{files:function(e){return tH.Cp.Zo(e)},folders:function(e){return tH.yJ.aaW(e)},image:function(e){return tH.Cp.Zo(e)&&"image"===e.filetype},video:function(e){return tH.Cp.Zo(e)&&"video"===e.filetype},audio:function(e){return tH.Cp.Zo(e)&&"audio"===e.filetype},document:function(e){return tH.Cp.Zo(e)&&"document"===e.filetype},spreadsheet:function(e){return tH.Cp.Zo(e)&&"spreadsheet"===e.filetype},presentation:function(e){return tH.Cp.Zo(e)&&"presentation"===e.filetype},public:function(e){return"public"==e.privacy},private:function(e){return"private"==e.privacy}}}function aSM(){$("#myfiles_filtercontrol").find(".dropdown").dropdown({useLabel:!1,command:function(e,t){tH.aca=[],filterBy=e,$.publish("list/filter"),$("#currentFilterlink").html($(t).html());e=$("#myfiles_filtercontrol").attr("class").match(/filter.*/)[0];$("#myfiles_filtercontrol").removeClass(e).addClass("filter"+$(t).data("command").capitalize())}}),$.subscribe("list/filter",function(){afv()&&$("#search-text").val()&&$("#search-text").val().length?afB(window.tH.currentFolder,$("#search-text").val(),tH.aVy):(tH.currentFolder.folders={},tH.currentFolder.files={},abH(tH.currentFolder)),$("#container").toggleClass("searchmode_filter","all"!=filterBy),window.scrollTo(0,0)})}function aTX(){return{relevancy:Xz("relevancy"),folder:{name:axw("name"),created:axQ("created"),expire:axQ("delete_date")},file:{name:axw("filename"),created:axQ("created"),expire:axQ("delete_date"),size:Xz("size"),downloads:Xz("downloads")}}}function aed(){function e(){"name"!=sortBy?$("#container").removeClass(function(e,t){for(var a=[],o=t.split(" "),n=0;n<o.length;n++)-1!==o[n].indexOf("sort-")&&a.push(o[n]);return a.join(" ")}):$("#myfiles_sortcontrol li span").removeClass("arrow_down arrow_up"),bfw()&&(sortAscending=!0,$("#container").addClass("sort-name")),$("#container").addClass("sort-"+sortBy).removeClass("sort-ascending sort-descending").addClass(sortAscending?"sort-ascending":"sort-descending")}$("#myfiles_sortcontrol").find(".dropdown").dropdown({useLabel:!0,command:function(e,t){bfw()||(tH.aca=[]),sortBy===e?sortAscending=!sortAscending:(sortBy=e,"relevancy"!=sortBy&&"expire"!=sortBy&&"date"!=sortBy&&aU("mfsf-"+UserEmail,sortBy,2592e3)),$("#myfiles_sortcontrol li").each(function(){$(this).find("span").removeClass("arrow_down arrow_up"),$(this).data("command")==sortBy&&$(this).find("span").addClass("arrow_down")}),$.publish("list/sort")}}),$("#sort_current").delegate("span","click",function(e){var t;"name"!=sortBy?sortAscending=!sortAscending:(t=(t=(t=$("#sort_current").text()).substring(0,t.search(/\s/))).toLowerCase(),sortBy=t="available"==(t="modified"==t?"created":t)?"expire":t),"relevancy"!=sortBy&&"expire"!=sortBy&&"date"!=sortBy&&aU("mfsf-"+UserEmail,sortBy,2592e3),$.publish("list/sort"),aeV(e)}),$("#myfiles_sortbyname").on("click",function(e){"name"==sortBy&&(sortAscending=!sortAscending),sortBy="name",aU("mfsf-"+UserEmail,sortBy,2592e3),$.publish("list/sort"),aeV(e)}),$.subscribe("list/sort",function(){adz()||afv()&&window.tH.XE&&0<window.tH.XE.length?MYF_SearchMode_fSortList():bfw()||tH.currentFolder&&"trash"==tH.currentFolder.folderkey||tH.currentFolder&&(tH.currentFolder.folders={},tH.currentFolder.files={},abH(tH.currentFolder),aos(tH.currentFolder)),e(),window.scrollTo(0,0)});var t,a=XO();"trash"!=a&&"name"==sortBy?($("#container").addClass("sort-created"),e()):("trash"==a?($("#container").addClass("sort-expire"),sortBy="name"):"expire"==sortBy&&(sortBy="name"),t=sortBy&&"relevancy"!=sortBy?sortBy:"created",t=(a=$('#myfiles_sortcontrol li[data-command="'+t+'"]')).text(),0<a.length?($("#sort_current").html(t+' <span class="arrow_down"></span>'),a.find("span").addClass("arrow_down"),e()):(sortBy="name",$.publish("list/sort")))}function aSu(){}function aTC(){$("#owner_breadcrumb1").bind("draghover",function(e){$(this).toggleClass("folder_highlight",e.enter),aeV(e)}),$("#followingHome a").click(function(){return top.Rz("shared-items"),!1}),$breadcrumbs.delegate("a.breadcrumb","dragenter dragover",function(e){return e.preventDefault(),!1}),$breadcrumbs.delegate("a.breadcrumb","drop",function(a){var e,o,t;return $(this).toggleClass("folder_highlight",!1),a.originalEvent.dataTransfer.files&&0!=a.originalEvent.dataTransfer.files.length?(o=$(this).data("key"),aeV(a),a.preventDefault(),t=ev.originalEvent.dataTransfer.files,biM(ev.originalEvent.dataTransfer.items||null,t,function(t){aXY(function(e){aWj(a,t,o,!0)},t)})):((e=JSON.parse(a.originalEvent.dataTransfer.getData("Text")))&&(t=(e.files?tH.files.yx(e.files.split(",")[0]):tH.folders.yx(e.folders.split(",")[0])).parent.folderkey,t=tH.folders.yx(t),aek||!avH(t.flag,"1")?LF.aFI(e.files,e.folders,$(this).data("key")):LF.YO(e.files,e.folders,$(this).data("key"))),aeV(a)),!1}),$("#myfilesCurrentFolderNameWrap").delegate(".breadCrumbsOptions","click",function(e){R({folders:[tH.currentFolder.folderkey]}),aeV(e)}),$folderUp.bind("draghover",function(e){$(e.target).toggleClass("folder_highlight",e.enter)}).bind("dragover",NQ).bind("drop",function(e){return afA=$folderUp.find("a").attr("href").substring(1),abh(e,afA),aeV(e),!1})}function aeB(){$("#thumbnailSize").delegate("a","click",function(){var e=$(this).attr("class"),e=e.substr(e.length-1);$("#myfiles_wrap").hasClass("size"+e)||($("#myfiles_wrap").removeClass("sizeS sizeM sizeL").addClass("size"+e),aaZ(),aU("mfsize",e,1800),$.publish("thumbmode/sizechange",[e]))}),$.subscribe("thumbmode/sizechange",function(){$("#main_list").empty(),aBX=!0,aSb=aHK,aua()}),$.subscribe("view/changemode",function(){contextMenu.aoh(),aCo=!0})}function aST(){$.subscribe("folder/render",function(e){$("#folder_infobox").toggleClass("thisfolder_root","myfiles"==e.folderkey),acv(),$(window).resize()}),$.subscribe("folder/load",function(e){e.folderkey===tH.currentFolder.folderkey&&aps()});var t="init";$.subscribe("folder/completed",function(e){aek&&0<window.location.hash.slice(1).length&&("init"===t?(alb(),t="root"):"root"===t&&(t="loaded",setTimeout(aFV,500)))}),$.subscribe("folder/create",function(e,t){aH(0,e.name+" created.","A new folder "+e.name+" has been created inside the folder "+t.name+".",!0),t.folderkey===tH.currentFolder.folderkey&&(aoQ(e),window.scrollTo(0,0)),"myfiles"!=t.folderkey&&t.parent&&t.parent.folderkey===tH.currentFolder.folderkey&&asN(t),aHa.aIX(t.folderkey)}),$.subscribe("file/create",function(e,t){aH(0,'<span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> created.",'A new file <span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> has been created inside the folder "+t.name+".",!0),t.file_count=parseInt(t.file_count)+1,t.folderkey===tH.currentFolder.folderkey&&($("#emptyfolder_upload").hide(),aoQ(e),window.scrollTo(0,0)),aHa.aIX(t.folderkey),"myfiles"!=t.folderkey&&t.parent&&aHa.aIX(t.parent.folderkey),FI()}),$.subscribe("folder/delete",function(e,t){var o,a,n=t?"deleted.":"moved to Trash.",r=!1;e instanceof Array?(a=e.length,o=!1,5<a?aH(0,a+" folders were "+n,a+" folders were "+n,!0):o=!0,$.each(e,function(e,t){var a=tH.folders.yx(t.parent.folderkey);o&&aH(0,t.name+" "+n,"The folder "+t.name+" was "+n,!0),t.folderkey==tH.currentFolder.folderkey&&(r=!0),a&&a.folderkey==tH.currentFolder.folderkey&&aQO(t),a&&"myfiles"!=a.folderkey&&a.parent&&a.parent.folderkey==tH.currentFolder.folderkey&&asN(a)}),aHa.aIX(e[0].parent.folderkey)):(aH(0,e.name+" "+n,"The folder "+e.name+" was "+n,!0),a=tH.folders.yx(e.parent.folderkey),aHa.aIX(e.parent.folderkey),e.folderkey==tH.currentFolder.folderkey&&(r=!0),a&&a.folderkey==tH.currentFolder.folderkey&&aQO(e),a&&"myfiles"!=a.folderkey&&a.parent&&a.parent.folderkey==tH.currentFolder.folderkey&&asN(a)),r&&(window.location.hash="#myfiles"),mainList.aTN(),FI()}),$.subscribe("file/delete",function(e,t){var a=t?"deleted":"moved to Trash";1<e.length?aH(0,e.length+" files "+a,e.length+" files were "+a,!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].filename)+"</span> "+a,'The file <span class="shortenFileName">'+htmlspecialchars(e[0].filename)+"</span> was "+a,!0),$.each(e,function(e,t){var a;t.relevancy?aQO(t,!1,e):(a=tH.folders.yx(t.parent.folderkey),aQO(t,!1,e),"myfiles"!=a.folderkey&&a.parent&&a.parent.folderkey==tH.currentFolder.folderkey&&asN(a))}),aRG(),aHa.aIX(e[0].parent.folderkey),mainList.aTN(),FI(),t&&SegmentIdentifyWithDiskSpace()}),$.subscribe("folder/move",function(e,t,a){1<e.length?aH(0,e.length+" folders moved.",e.length+" folders have been moved from "+t.name+" to "+a.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"<span> moved.",'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> has been moved from "+t.name+" to "+a.name+".",!0),aHa.aIX(a.folderkey),aHa.aIX(t.folderkey),"myfiles"!=t.folderkey&&t.parent&&aHa.aIX(t.parent.folderkey),"myfiles"!=a.folderkey&&a.parent&&aHa.aIX(a.parent.folderkey),t.parent&&aHa.aIX(t.parent.folderkey),afv()||(a.folderkey===tH.currentFolder.folderkey&&$.each(e,function(e,t){aoQ(t)}),t.folderkey===tH.currentFolder.folderkey&&$.each(e,function(e,t){aQO(t)})),a.parent&&a.parent.folderkey===tH.currentFolder.folderkey&&asN(a),t.parent&&t.parent.folderkey===tH.currentFolder.folderkey&&asN(t),afv()&&$("#search").keydown(),aos(tH.currentFolder,!0),"trash"!=t.folderkey&&"trash"!=a.folderkey||beg()}),$.subscribe("file/move",function(e,t,a){1<e.length?aH(0,e.length+" files moved.",e.length+" files have been moved from "+t.name+" to "+a.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> moved.",'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> has been moved from "+t.name+" to "+a.name+".",!0),aHa.aIX(a.folderkey),aHa.aIX(t.folderkey),"myfiles"!=t.folderkey&&aHa.aIX(t.parent.folderkey),"myfiles"!=a.folderkey&&aHa.aIX(a.parent.folderkey),(t.parent||t.parent_folderkey)&&aHa.aIX(t.parent.folderkey||t.parent_folderkey),afv()||t.folderkey===tH.currentFolder.folderkey&&$.each(e,function(e,t){aQO(t)}),"myfiles"!=a.folderkey&&a.parent.folderkey===tH.currentFolder.folderkey&&asN(a),"myfiles"!=t.folderkey&&t.parent.folderkey===tH.currentFolder.folderkey&&asN(t),afv()&&$("#search").keydown(),"trash"!=t.folderkey&&"trash"!=a.folderkey||beg(),FI()}),$.subscribe("folder/copy",function(e,t,a,o){1<e.length?o&&o.name?aH(0,e.length+" folders copied.",e.length+" folders have been copied from "+a.name+" to "+o.name+".",!0):aH(0,e.length+" folders copied.",e.length+" folders have been copied from "+a.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> copied.",'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> has been copied from "+a.name+" to "+o.name+".",!0),aHa.aIX(o.folderkey),aHa.aIX(a.folderkey),o.folderkey==tH.currentFolder.folderkey&&$.each(t,function(e,t){aoQ(t)}),afv()&&$("#search").keydown(),FI()}),$.subscribe("file/copy",function(e,t,a,o){1<e.length?aH(0,t.length+" files copied.",t.length+" files have been copied from "+a.name+" to "+o.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(t[0].name||t[0].filename)+"</span> copied.",'<span class="shortenFileName">'+htmlspecialchars(t[0].name||t[0].filename)+"</span> has been copied from "+a.name+" to "+o.name+".",!0),aHa.aIX(o.folderkey),aHa.aIX(a.folderkey),o.folderkey==tH.currentFolder.folderkey&&$.each(t,function(e,t){aoQ(t)}),afv()&&$("#search").keydown(),FI(),SegmentIdentifyWithDiskSpace()}),$.subscribe("filesandfolders/copy",function(e,t,a,o){aH(0,e.length+" files and "+t.length+" folders copied.",e.length+" files and "+t.length+" folders have been copied from "+a.name+" to "+o.name+".",!0),aHa.aIX(o.folderkey),aHa.aIX(a.folderkey),o.folderkey==tH.currentFolder.folderkey&&($.each(e,function(e,t){aoQ(t)}),$.each(t,function(e,t){aoQ(t)})),afv()&&$("#search").keydown(),FI(),SegmentIdentifyWithDiskSpace()}),$.subscribe("folder/update",function(e,t,a){void 0===a&&(a=!0);var o=$("#folder-"+e.folderkey);!0===a&&aH(0,e.name+" updated.","The folder "+e.name+" has been modified.",!0),o.length&&asN(e),aHa.aIX(e.parent.folderkey),aos(tH.currentFolder)}),$.subscribe("file/save",function(e){aHa.aIX("myfiles"),aH(0,'<span class="shortenFileName">'+htmlspecialchars(e)+"</span> saved to My Files.",'The file <span class="shortenFileName">'+htmlspecialchars(e)+"</span> has been saved to your account.",!0)}),$.subscribe("folder/follow",function(e){aHa.aIX("myfiles"),aH(0,e.name+" added to My Files.","The folder "+e.name+" has been added to your account.",!0)}),$.subscribe("folder/unfollow",function(e){var t=e;t&&(t.parent.folderkey==tH.currentFolder.folderkey&&aQO(t),e=!1,t.folderkey==tH.currentFolder.folderkey&&(e=!0),aHa.aIX(t.parent.folderkey),aHa.aIX(t.folderkey),e&&(window.location.hash="#myfiles"),aH(0,t.name+" removed from My Files.","The folder "+t.name+" has been removed from your account.",!0))}),$.subscribe("folders/follow",function(e){aHa.aIX("myfiles");var t=" folders",a=" have";1==e&&(t=" folder",a=" has"),aH(0,e+t+" added to My Files.",e+t+a+" been added to your account.",!0)}),$.subscribe("document/update",function(e){UO()&&setTimeout(function(){aBE(e)},250)}),$.subscribe("folder/lazy_load",function(e){UO()&&$.each(e,function(e,t){"image"!=t.filetype&&anD(t)&&aBE(t)}),tH.ayo()}),$.subscribe("file/update",function(e,t,a){!0===(a=void 0===a?!0:a)&&aH(0,'<span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> updated.",'The file <span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> has been modified.",!0),asE(e),e.parent.folderkey==tH.currentFolder.folderkey&&(FI(),"replace"==t&&UO()&&aCz(e)&&anD(e)&&aBE(e)),afv()&&(MYF_bNextSearchAll=void 0===window.tH.currentFolder.files[e.quickkey],afB(window.tH.currentFolder,$("#search-text").val(),MYF_bNextSearchAll)),""==e.filetype&&(e.filetype="other"),aHa.aIX(e.parent.folderkey)}),$.subscribe("file/upload",function(e,t){var a=tH.folders.yx(e.parent.folderkey);a&&(aHa.aIX(a.folderkey),tH.currentFolder.folderkey==a.folderkey&&(asE(e)||"new"!=t||aoQ(e),UO()&&anD(e)&&aCz(e)&&aBE(e)),"myfiles"!=a.folderkey&&(aHa.aIX(a.parent.folderkey),tH.currentFolder.folderkey==a.parent.folderkey&&asN(a))),FI()})}function apy(e,t){return MYF_fShowSpinner("folders"),new auj({container_selector:"#folderTree .folderlist_content",linked_folder_class:"nav-linked-folder"},e,t)}function aUh(){$.subscribe("folder/render",function(e){"trash"==e.folderkey||acK||(Xb.bau(e.folderkey),Xb.aZC(e.folderkey))}),$.subscribe("folder/unfollow",function(e){beK(e.folderkey)}),$.subscribe("folder/delete folder/remove",function(e){$.each(e,function(e,t){beK(t.folderkey)})}),$.subscribe("folder/create folder/add",function(e,t){bfr(e,t.folderkey)}),$.subscribe("folder/move",function(e,t,a){$.each(e,function(e,t){beK(t.folderkey),bfr(t,a.folderkey)})}),$.subscribe("folder/update",function(e){bfF(e)})}function aTg(){Xb.aab.onFolderContextMenu=function(e,t){var a="folder",o=t.folderkey;return"yes"==t.shared&&(a=t.parent&&"no"!=t.parent.shared?"sublinked-folder":"linked-folder"),contextMenu.open("folderbrowser",a,aiH(e,-2,-2),o),aeV(e),!1},Xb.aab.onFolderDrop=function(a,e,t){if($("#container").removeClass("drag_active"),a.originalEvent.dataTransfer.files&&0!=a.originalEvent.dataTransfer.files.length){aeV(a),a.preventDefault();var o=e.folderkey,n=ev.originalEvent.dataTransfer.files;biM(ev.originalEvent.dataTransfer.items||null,n,function(t){aXY(function(e){aWj(a,t,o,!0)},t)})}else if("{"==a.originalEvent.dataTransfer.getData("Text").substr(0,1))try{var r,i=JSON.parse(a.originalEvent.dataTransfer.getData("Text")),s={};(s=i.files?tH.files.yx(i.files.split(",")[0]):tH.folders.yx(i.folders.split(",")[0]))||(r=new tH.yJ(Xb.aQm[i.folders].parent),s=new tH.yJ(Xb.aQm[i.folders],r));var l=s.parent?s.parent.folderkey:s.parent_folderkey,d=tH.folders.yx(l);aek||"yes"==d.shared||"child"==d.shared?LF.aFI(i.files,i.folders,e.folderkey):LF.YO(i.files,i.folders,e.folderkey),aeV(a)}finally{mainList.aTN()}return!1},Xb.aab.onFolderDragOver=NQ,Xb.aab.onFolderClick=function(e,t,a){aft(!1,!0);t=t.folderkey;return t!=window.location.hash.slice(1)&&(window.location.hash=t),contextMenu.aoh(),aeV(e),!1},"WebkitUserDrag"in document.body.style&&(Xb.aab.onFolderMouseDown=function(e,t,a){"element"!=a.style.webkitUserDrag&&(a.style.webkitUserDrag="element")}),Tw=!1,Xb.aab.onFolderMouseDown=function(e,t,a){return!Tw},Xb.aab.onFolderDragStart=function(e,t,a){if(Tw)return!1;if(Tw=!0,setTimeout(function(){Tw=!1},500),aek)return aeV(e),!1;var o=t.folderkey,n=t;return aTB(n)||aTB(n.parent)||2==NZ(n)?("element"==a.style.webkitUserDrag&&e.originalEvent.dataTransfer.setDragImage(document.getElementById("preventDefaultDragImg"),0,0),mainList.aTN(),$("#container").addClass("drag_active"),tH.MYF_oSelected.folders.push(t.folderkey),$.publish("list/selection"),e.originalEvent.dataTransfer.setData("Text",JSON.stringify({files:"",folders:o})),!0):(aeV(e),!1)},Xb.aab.onFolderDragEnd=function(e,t,a){mainList.aTN(),$("#container").removeClass("drag_active"),$(".folder_highlight").removeClass("folder_highlight")},Xb.aab.onFolderDragEnter=function(e,t,a){return $(a).addClass("folder_highlight"),!1},Xb.aab.onFolderDragLeave=function(e,t,a){return $(a).removeClass("folder_highlight"),!1},Xb.aab.onFolderBrowserLoad=function(){for(aZG in Xb.aQm)tH.folders.yx(aZG.folderkey)||tH.folders.Yx(aZG.folderkey,bku(aZG))},Xb.aab.onFolderAdd=function(e){tH.folders.yx(e.folderkey)||tH.folders.Yx(e.folderkey,bku(e))},$("#new_folder_trigger").click(function(){GH.abV.open(tH.currentFolder.folderkey||"")}),$("#btn_expandlistview").click(function(){return Xb.CD(),!1}),$("#folderTree").find("a.popup-close").click(function(){return Xb.CD(),!1}),$("#imageview_showfolders").click(function(){return Xb.CD(),!1}),$(".trashCan").on("drop",function(e){if($("#container").removeClass("drag_active"),(!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)&&"{"==e.originalEvent.dataTransfer.getData("Text").substr(0,1))try{var t,a=JSON.parse(e.originalEvent.dataTransfer.getData("Text")),o={};(o=a.files?tH.files.yx(a.files.split(",")[0]):tH.folders.yx(a.folders.split(",")[0]))||(t=new tH.yJ(Xb.aQm[a.folders].parent),o=new tH.yJ(Xb.aQm[a.folders],t));var n=o.parent?o.parent.folderkey:o.parent_folderkey,r=tH.folders.yx(n);aek||"yes"==r.shared||"child"==r.shared||o.delete_date||LF.Zs(a.files,a.folders),aeV(e)}finally{mainList.aTN()}return!1}).on("dragenter dragover",function(e){return $(this).addClass("folder_highlight"),e.preventDefault(),!1}).on("dragleave",function(e){return $(this).removeClass("folder_highlight"),e.preventDefault(),!1})}function bku(e){var t=new tH.yJ(e);t.folders={};for(var a=0,o=e.folders.length;a<o;a++)t.folders[e.folders[a].folderkey]=bku(e.folders[a]);return e.parent&&(t.parent_folderkey=e.parent.folderkey),t}function aTY(){var n=new agX(".myaccountlist_content",{});return n.$container=$("#form-save"),n.asf="myaccount",n.amA=function(){return tH.myaccount.folderkey},n.anf=function(){try{WU=this;var a={};a.myaccount=new alU({agV:"myaccount",amB:"My Files",agd:amJ(tH.myaccount.folders)||{},ams:"",NTN_sDisplayClass:"",UU:0<parseInt(tH.myaccount.folder_count,10)?"yes":"no"}),$.each(tH.myaccountfolders,function(e,t){a[e]=new alU({agV:e,amB:t.name,agd:amJ(t.folders)||{},ams:t.parent.folderkey,NTN_sDisplayClass:SHARED||"no"==t.shared||""==t.shared?"":"nav-linked-folder",UU:0<parseInt(t.folder_count,10)?"yes":"no"})}),WU.agY.Wr=a}catch(e){asO(e,"MYF:auA.anf()")}},n.aHc=function(a,e){var o=n.agY.Wr;e?$.each(a.folders,function(e,t){o[t.folderkey]||n.ans(t)}):(n.ans(a),$.each(a.folders,function(e,t){(!o[t.folderkey]||o[t.folderkey].agd.length<a.folders.length)&&n.ans(t,tH.folders.memory[folderkey].Zp().length<tH.azm?"false":"true")}))},n}function aTU(){$.subscribe("myaccount/loaded",function(e){auA.amK=e,auA.ane(),auA.amW()}),$.subscribe("folder/nav_expand",function(t){var a=tH.myaccountfolders[t];SHARED&&a&&(!a.folders||$.isEmptyObject(a.folders))&&aHa.aGU(a,null,function(e){$.each(e.folders,function(e,t){t.parent=a,tH.myaccountfolders[t.folderkey]=t}),auA.aHc(e),auA.aPN(t)},!0)})}function aev(){$selectionactions.delegate("div[data-command]","dragover",NQ).delegate("div[data-command]","dragend",function(e){$(this).unbind("dragover drop"),mainList.XF(e)}).delegate("div[data-command]","drop",function(e){var t=$(this),a=t.data("command"),o=OK(),n=(tH.MYF_oSelected&&tH.MYF_oSelected.files.length?tH.files.yx(o.files.split(",")[0]):tH.folders.yx(o.folders.split(",")[0])).parent.folderkey,n=tH.folders.yx(n),r=aek||!aTB(n);switch(a){case"view-items":aRM();break;case"move":(r?GH.aFW:GH.aai).open(o.files,o.folders);break;case"copy-items":case"copy-item":GH.aFW.open(tH.MYF_oSelected);break;case"delete":GH.yw.open(o.files,o.folders);break;case"download":adI();break;case"share":R(tH.MYF_oSelected);break;case"save-to-account":aZe?GH.avb.open(o.files):blX("RequireLogin");break;default:try{console.warn("unrecognized command")}catch(e){}}return $("#container").removeClass("drag_active"),$("#dragIcon").hide(),t.removeClass("folder_highlight"),aeV(e),!1}).delegate("span[data-command]","mousedown",function(e){var t=$(this);"view-items"===t.data("command")&&aRM($("a",t))}).delegate("span[data-command]","click",function(e){var t=$(this).data("command"),a=mainList.WP(),o={};tH.MYF_oSelected&&tH.MYF_oSelected.files.length?o=tH.files.yx(tH.MYF_oSelected.files[0]):tH.MYF_oSelected.folders.length&&(o=tH.folders.yx(tH.MYF_oSelected.folders[0]));var o=o.parent.folderkey,o=tH.folders.yx(o),n=aek||!aTB(o),r=0;switch(aTB(o)||(r=NZ(o)),t){case"view-items":return!0;case"move":(n&&!window.afv()&&2!=r&&3!=r?GH.aFW:GH.aai).open(tH.MYF_oSelected.files,tH.MYF_oSelected.folders);break;case"copy-items":case"copy-item":GH.aFW.open(tH.MYF_oSelected);break;case"delete":case"purge":bfw()?LF.bet(tH.MYF_oSelected.files.join(),tH.MYF_oSelected.folders.join(),!0):GH.yw.open(tH.MYF_oSelected.files,tH.MYF_oSelected.folders);break;case"restore":GH.aXh.open({success:function(e){LF.YO(tH.MYF_oSelected.files.join(),tH.MYF_oSelected.folders.join(),e)}});break;case"download":adI();break;case"share":R(tH.MYF_oSelected);break;case"save-to-account":aZe?GH.avb.open(a.files):blX("RequireLogin");break;default:try{console.warn("unrecognized command")}catch(e){}}return aeV(e),!1}).find("div[data-command]").unbind("draghover").bind("draghover",function(e){$(this).toggleClass("folder_highlight",e.enter)})}function aUd(){function t(){var e={folders:[tH.currentFolder.folderkey]};akO(e=aek&&afQ&&tH.currentFolder.folderkey==tH.root.folderkey?{folders:ajm(tH.currentFolder.folders),files:ajm(tH.currentFolder.files)}:e,"context_menu")}function a(){var e,t={folders:[tH.currentFolder.folderkey]};aek&&afQ&&tH.currentFolder.folderkey==tH.root.folderkey&&(t={folders:ajm(tH.currentFolder.folders),files:ajm(tH.currentFolder.files)}),afQ||(aTB(e=tH.currentFolder)||NZ(e)),R(t)}$MYF_oFolderActions.delegate("#current_folder_download","click",function(e){t(),aeV(e)}),$MYF_oFolderActions.delegate("#new_folder_trigger","click",function(e){GH.abV.open(tH.currentFolder.folderkey),aeV(e)}),$MYF_oFolderActions.delegate("#current_folder_share","click",function(e){a(),aeV(e)}),$("#headerControlsMyFiles").delegate("#inactive_uploadMenu","click",function(e){Zi(0,"Sorry, you do not have permission to upload to this folder."),aeV(e)}).delegate("#inactive_createMenu","click",function(e){Zi(0,"Sorry, you do not have permission to create a folder in this folder."),aeV(e)}).delegate("#inactive_createFile","click",function(e){Zi(0,"Sorry, you do not have permission to create a file in this folder."),aeV(e)}).delegate("#trash_restoreAll","click",function(e){GH.aXh.open({success:function(t){new window.tH.aCa(window.aCQ||0);bed(function(e){LF.YO(e.files,e.folders,t)})}}),aeV(e)}).delegate("#trash_deleteAll","click",function(e){LF.MYF_mEmptyTrash(window.aCQ||0,!0),aeV(e)}).delegate("#createMenu","click",function(e){GH.aRo.open("txt")}),$("#shareMenu a").click(function(){switch($(this).data("command")){case"download-folder":t();break;case"share-folder":a();break;case"unfollow-folder":aMk(tH.currentFolder.folderkey)}return!1})}function aet(){$("#upload_to_current_folder .show_uploader").click(function(){LF.ZR(),GLB_fSendToUploader(tH.currentFolder.folderkey||"myfiles")}),$("#emptyfolder_manual_upload").click(function(){LF.ZR(),GLB_fSendToUploader(tH.currentFolder.folderkey||"myfiles")}),$("#upload_to_current_folder").find(".dropdown").dropdown(),$("#upload_from_web, #webUploadIndicator").click(function(){aZS?LoadIframeLightbox("/dynamic/webupload.php?folderkey="+tH.currentFolder.folderkey,700,420,!1,!1,!0):blu("/templates/web_upload/web_upload_upsell.php",600,450)})}function aEo(){$("#container");var e={Start:function(e){e.originalEvent.dataTransfer.setData("Text",JSON.stringify(OK()))},XF:function(e){$(".folder_highlight").removeClass("folder_highlight")},ajP:function(){return window.afv()?"aRL":"currentFolder"},WI:function(e){return e?tH.MYF_oSelected[e]:tH.MYF_oSelected},WP:function(e){return e?mainList.WI(e).join(","):{files:mainList.WI("files").join(","),folders:mainList.WI("folders").join(",")}},VB:function(e){return e?tH.MYF_oSelected[e].length:tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length},ZF:function(e){if(!e)return!1;var t=tH.files.yx(e)?"files":"folders",a=tH[t].yx(e);a&&$.inArray(e,tH.MYF_oSelected[t])&&(tH.MYF_oSelected[t].push(e),a.selected=!0)},alB:function(e){if(!e)return!1;var t=tH.files.yx(e)?"files":"folders",a=tH[t].yx(e)||tH[mainList.ajP()][t][e];!a||-1!=(e=$.inArray(e,tH.MYF_oSelected[t]))&&(tH.MYF_oSelected[t].splice(e,1),a.selected=!1),$.publish("list/selection")},adh:function(e,t){if(!e)return!1;var a=tH.files.yx(e)?"files":"folders",a=tH[a].yx(e)||tH[mainList.ajP()][a][e];return(!a||!a.selected)&&(void 0!==a&&(mainList.VB("folders")>=tH.aaI||mainList.VB("files")>=tH.aaI?(t||Zi(0,"Max "+(t=mainList.VB("folders")>=tH.aaI?"folder":"file")+" selection reached.<br />Only "+tH.aaI+" "+t+"s can be selected at a time."),!1):(mainList.ZF(e),$('#main_list li[data-key="'+e+'"]').addClass("file_selected"),$.publish("list/selection"),!0)))},aNK:function(e){return!!e&&(mainList.alB(e),$("#main_list li[data-key = '"+e+"']")&&$("#main_list li[data-key = '"+e+"']").removeClass("file_selected"),$.publish("list/selection"),!0)},aSn:function(e){if(!e)return!1;var t=tH.files.yx(e)?"files":"folders",t=tH[t].yx(e)||tH[mainList.ajP()][t][e];return t&&t.selected?mainList.aNK(e):mainList.adh(e)},akV:function(){tH.aSk=!0,mainList.aVB(tH.aca),$.publish("list/selection")},aTN:function(e){tH.aSk=!1,tH.aQX=!1,tH.aWb=!1,tH.MYF_oSelected={files:[],folders:[]},tH[mainList.ajP()]&&($.each(tH[mainList.ajP()].folders,function(){this.selected=!1}),$.each(tH[mainList.ajP()].files,function(){this.selected=!1}),$.each(tH.folders.memory,function(){this.selected=!1}),$.each(tH.files.memory,function(){this.selected=!1})),$mainList.children(".file_selected").removeClass("file_selected"),e||$.publish("list/selection")},aVS:function(t){mainList.aTN(!0);var e=tH.aca;tH.aQX=t,aRs="folder"==t||"file"==t?$.grep(e,function(e){return"file"==t?e.quickkey:e.folderkey}):$.grep(e,function(e){return e.filetype==t});var a="";aRs.length&&(tH.aWb=!0,$.each(aRs,function(){var e=this.quickkey?"file":"folder";mainList.VB(e+"s")+1<=tH.aaI?mainList.adh(this.quickkey||this.folderkey,!0):a=e})),a&&(tH.aWb=!1,Zi(0,"Max "+a+" selection reached.<br>Only "+tH.aaI+" "+a+"s can be selected at a time.")),$.publish("list/selection")},aVB:function(e){tH.MYF_oSelected={files:[],folders:[]};var a="";$.each(e,function(){var e,t;("yes"!=this.shared&&"child"!=this.shared&&1!=this.shared||"yes"==this.parent.shared||"child"==this.parent.shared)&&(e=this.quickkey?"file":"folder",t=this.quickkey||this.folderkey,mainList.VB(e+"s")+1<=tH.aaI?(tH.MYF_oSelected[e+"s"].push(t),tH[e+"s"].yx(t).selected=!0,$("#main_list li[data-key = '"+t+"']").addClass("file_selected")):(tH.aWb=!1,a=e))}),a&&(tH.aSk=!1,Zi(0,"Max "+a+" selection reached.<br>Only "+tH.aaI+" "+a+"s can be selected at a time."))},apz:function(e){e.length},available:0};return e}function afo(){$.subscribe("file/move folder/move file/delete folder/delete",function(){mainList.aTN(),aua(!0)}),$.subscribe("selection/deselectall",function(){mainList.aTN()}),$.subscribe("list/selection",function(e){var t=tH.MYF_oSelected,a=mainList.VB();0<a&&"on"===aL("thumbview")?$(".thumbnailSelect").show():$(".thumbnailSelect").hide(),$(".selected_count").html(a),$("#myfiles_selection").toggleClass("all_files_selected",mainList.available&&a+$("li.collaborate-active").length===mainList.available),"none"===$("#selection-actions").css("display")&&(ahb=$("#folder_infobox").outerHeight());ahb;var o=!0;("yes"!==tH.currentFolder.shared||"child"!==tH.currentFolder.shared)&&0<t.folders.length&&$.each(t.folders,function(e){if("yes"===window.tH.folders.yx(t.folders[e]).shared)return o=!1}),(0<a||0<$("#main_list li.file_selected").length)&&o?($("#folder_infobox").toggleClass("files_selected",0<a),$("#selection-actions").slideDown(0,function(){$(window).trigger("resize")})):$("#selection-actions").slideUp(0,function(){$("#folder_infobox").toggleClass("files_selected",0<a),$(window).trigger("resize")}),0<a&&$mainList.bind("clickoutside",function(e){$(e.target).parents("#folderTree, #myfiles_controlbar, #myfiles_selection, #contextmenu").length||mainList.aTN(),0==mainList.VB()&&$mainList.unbind("clickoutside"),aeV(e)});var n,r,i,s=tH.MYF_oSelected;if(s.folders.length?($("#folder_infobox").addClass("selection-hasfolders"),$(".file-only-op").hide()):($("#folder_infobox").removeClass("selection-hasfolders"),$(".file-only-op").show(),$(".file-only-op[data-command='save-to-account']").toggle(aek&&!Yb)),s.files.length?$("#container").removeClass("only-folders-selected"):$("#container").addClass("only-folders-selected"),$("#selection-actions span[data-command='share']").toggle(!(0<s.files.length&&0<s.folders.length)),1==s.files.length&&0==s.folders.length){if(afv())for(var l=0;l<tH.XE.length;l++){var d=tH.XE[l];if(d&&d.quickkey&&d.quickkey==s.files[0]){n=d;break}}else n=tH.currentFolder.files[s.files[0]];$(".file-only-op[data-command='view-items']").toggle(n&&n.previewSupported),bfw()?$("#selection-actions span[data-command='share']").hide():$("#selection-actions span[data-command='share']").show()}1<s.files.length&&$.each(s.files,function(e){var t;if(afv())for(var a=0;a<tH.XE.length;a++){var o=tH.XE[a];if(o&&o.quickkey&&o.quickkey==s.files[0]){t=o;break}}else t=tH.currentFolder.files[s.files[e]];t&&"image"!=t.filetype&&$("*[data-command='view-items']").hide()}),aTB(tH.currentFolder)?$("#selection-actions").removeClass("showFollow showFollowing collab-selection-view collab-selection-edit collab-selection-manage shareLinkDisabled"):(r=3,i=!0,0<s.files.length&&$.each(s.files,function(e){var t=tH.files.yx(s.files[e]),e=NZ(t);if(r=e<r?e:r,i=i&&!(!t.privacy||"private"==t.privacy),0==r)return!1}),0<s.folders.length&&0!=r&&$.each(s.folders,function(e){var t=tH.folders.yx(s.folders[e]),e=NZ(t);if(r=e<r?e:r,i=i&&!(!t.privacy||"private"==t.privacy),0==r)return!1}),$("#selection-actions").toggleClass("showFollowing",0!=r).toggleClass("showFollow",0==r).toggleClass("collab-selection-view",1==r).toggleClass("collab-selection-edit",2==r).toggleClass("collab-selection-manage",3==r).toggleClass("shareLinkDisabled",!i),(0<s.files.length&&0<s.folders.length||1<s.files.length||1<s.folders.length)&&$("#selection-actions").removeClass("showFollow showFollowing")),e&&($.each(tH.MYF_oSelected.folders,function(){$("#folder-"+this)&&$("#folder-"+this).addClass("file_selected")}),$.each(tH.MYF_oSelected.files,function(){$("#file-"+this)&&$("#file-"+this).addClass("file_selected")}))}),$.subscribe("folder/render",function(){mainList.available=$mainList.children("li").length})}function ahv(){$("#select_deselect_all").click(function(){tH.MYF_oSelected&&(tH.MYF_oSelected.files.length||tH.MYF_oSelected.folders.length)?mainList.aTN():mainList.akV()}),$("#myfiles_selection").find(".dropdown").dropdown(function(e){switch(e){case"all":mainList.akV();break;case"deselect":mainList.aTN();break;default:mainList.aVS(e)}})}function afb(e){return $mainList.children("li").not(".collaborate-active").not("collaborate-disabled").length-e.length==mainList.NA().length}function aof(e,t){"folder"==t?$.each(tH.aca,function(e){this.folderkey&&"yes"!=this.shared&&"child"!=this.shared&&mainList.adh(this.folderkey)}):$.each(tH.aca,function(e){this.filetype!=t&&"file"!=t||this.quickkey&&"yes"!=this.shared&&"child"!=this.shared&&mainList.adh(this.quickkey)}),$.publish("list/selection",[tH.MYF_oSelected,tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length])}function aiS(){var s=new Image,i=[];s.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$mainList.bind("clickoutside",function(e){aeV(e)}).delegate("li.folder, li.file","mouseenter",function(e){$(this).addClass("row_focus"),aeV(e)}).delegate("li.folder, li.file","mouseleave",function(e){$(this).removeClass("row_focus"),$(this).removeClass("folder_highlight"),aeV(e)}).delegate("li.folder, li.file","contextmenu",function(e){tH.Pz&&aTP("#"+$mainList.find(".updatename").not(":hidden").closest("li").attr("id")),tH.MYF_oSelected&&0<tH.MYF_oSelected.files.length&&tH.MYF_oSelected.files&&-1==tH.MYF_oSelected.files.indexOf($(this).data("key"))&&-1==tH.MYF_oSelected.folders.indexOf($(this).data("key"))&&mainList.ZF($(this).data("key")),aeV(e);var t,a=$(this);return $.each($(".row_context"),function(){$(this).hasClass("file_selected")||mainList.alB($(this).data("key"))}),a=1<tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length?(t="multiple",mainList.WP()):(t=a.is(".file")?"file":"folder",a.data("key")),contextMenu.open("mainlist",t,aiH(e,-2,-2),a),!1}).delegate("li.folder, li.file","click",function(e){mainList.WI();var t,a,o=$(this),n=$(e.target),r=tH[o.hasClass("file")?"files":"folders"].yx(o.data("key"));if(!n.hasClass("item-name")||r&&r.delete_date)return n.hasClass("collaborate-active")||n.hasClass("collaborate-disabled")||n.closest("li").hasClass("collaborate-active")||n.closest("li").hasClass("collaborate-disabled")?(mainList.aTN(),void aeV(e)):(contextMenu.isVisible()&&contextMenu.aoh(),n.is("a.sharedByUser")&&(r.quickkey?R({files:[r.quickkey]}):R({folders:[r.folderkey]})),n.is(".updatename")||n.is(".btns_column")||n.parents(".btns_column").length||n.is(".foldername")||n.is("a")||n.is("span.dropbox")?void aeV(e):(tH.Pz&&(a="#"+$mainList.find(".updatename").not(":hidden").closest("li").attr("id"),aTd($(a).data("key"),$(a).hasClass("file")?"file":"folder")),mainList.VB()<=0&&mainList.aTN(),e.shiftKey&&mainList.VB()?("Internet Explorer"==BrowserName()&&"9.0"==Bm()&&(document.onselectstart=function(){return!1}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),t=function(e){if(1!=mainList.VB())return(i(e)<$(".file_selected").first().data("rownum")?$(".file_selected").last():$(".file_selected").first()).data("rownum");var t=0<mainList.VB("files")?"files":"folders",e=("files"==t?mainList.WI("files"):mainList.WI("folders"))[0];return tH[t].yx(e).itemrownum}(o),(n=i(o))!=t&&(a=[],a=t<n?tH.aca.slice(t,n+1):tH.aca.slice(n,t+1),$.each(a,function(e,t){for(var a=this.quickkey?"quickkey":"folderkey",o=!1,n=tH.MYF_oSelected["quickkey"==a?"files":"folders"],r=0;r<n.length;r++)if(n[r]==this[a]){o=!0;break}o||mainList.ZF(this[a])}),$.publish("list/selection",!0)),"Internet Explorer"==BrowserName()&&"9.0"==Bm()&&window.setTimeout(function(){document.onselectstart=null},1e3)):mainList.aSn(o.data("key")),aeV(e),(!r||!r.delete_date)&&void 0));function i(e){var t=e.hasClass("file")?"files":"folders";return tH[t].yx(e.data("key")).itemrownum}}).delegate("li.folder a.download, li.file a.download","click",function(e){akO(adn(e),"list_item"),aeV(e)}).delegate("li.folder a.share, li.file a.share","click",function(e){R(adn(e)),aeV(e)}).delegate("li.folder a.foldername","click",function(e){var t=$(this).closest("li.folder").data("key"),a=tH.folders.yx(t);return a&&a.delete_date?(mainList.aSn(t),aeV(e),!1):t==window.location.hash.slice(1)?(aeV(e),!1):void 0}).delegate("li a.filetype_column","click",function(e){aeV(e)}).delegate("li.file a.nonshareableMark","click",function(e){var t,a,o;aZS||(t=$(this).closest("li").data("key"),a=tH.files.yx(t),LoadIframeLightbox("/templates/archive_sharing_info.html",720,280,!1,!1,!0),o=function(){try{$("#modal_msg_iframe").contents().find(".mp_plan").length<=0?setTimeout(o,50):($("#modal_msg_iframe").contents().find(".filename").text(a.filename),$.each($("#modal_msg_iframe").contents().find(".mp_plan"),function(){var e=$(this).data("plan-string"),e=(0<oPricingData[e].length?oPricingData[e]:null).split(".");$(this).find(".monthly_text").text(e[0]),$(this).find(".cents").text(e[1])}))}catch(e){}},setTimeout(o,50)),aeV(e)}).delegate("li.file a.dmcaReviewMark, li.file a.statusDMCAReview","click",function(e){var t=$(this).closest("li").data("key"),a=window.tH.files.yx(t);LoadIframeLightbox("/templates/dmca_lightbox.html",500,475),a.dmca_company||awS(a,function(e){setTimeout(function(){awQ(e,[t])},500)}),aeV(e)}).delegate("div.search_details span.file_location a","click",function(e){$(this).attr("href")==window.location.hash&&$(window).hashchange()}).delegate("a.fileoptions","click",function(e){var t,a=$(window),o=$(this),n=o.closest("li"),r=o.offset(),i=!1,s=!1,n=1<tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length&&ahz(n.data("key"))?(t="multiple",OK()):(t=n.is(".file")?"file":"folder",n.data("key"));r&&(r.left>a.width()/2&&(r.left+=o.outerWidth(),i=!0),r.top-a.scrollTop()>a.height()/2?s=!0:r.top+=o.outerHeight()+1),contextMenu.CD("mainlist",t,r,n,i,s),aeV(e)}).delegate("li.folder, li.file","dragstart",function(r){if($(this).find(".updatename").is(":visible"))return!1;mainList.adh($(this).data("key"));var e=$(this).data("key"),t=$(this).hasClass("folder")?"folder":"file",a=("folder"==t?tH.folders:tH.files).yx(e),o=tH.currentFolder,i=aek||!aTB(o),e=0;$("#container").addClass("drag_active"),i&&(e=NZ(o)),"file"==t&&a&&a.parent&&a.parent.files&&1==parseInt($(".selected_count").html())&&(!i||2==e||3==e)&&$.each(a.parent.files,function(e,t){t.quickkey!=a.quickkey&&"image"!=t.filetype&&"image"!=a.filetype&&0==avH(t.flag,3)&&$("#file-"+t.quickkey).addClass("file_droppable").bind("draghover",function(e){$(this).toggleClass("folder_highlight",e.enter),$("#container").unbind("drop.fileupdate")}).bind("drop.fileupdate",function(e){return GH.GA.open($(this).data("key")+","+a.quickkey),!1})}),function(e){var t=[],a=0;i&&(a=NZ(e));var o="moving";"trash"==e.parent.folderkey?o="restoring":i&&2!=a&&(o="copying"),a=0<$("li.file_droppable").length&&!i?o+"/updating":o,$("li.file_selected").each(function(e){$(this).hasClass("folder")?t[e]=1==parseInt($(".selected_count").html())?"folder":"folders":t[e]=1==parseInt($(".selected_count").html())?"file":"files"});var n,o=t.filter(function(e,t,a){return t==a.indexOf(e)});aFT=1<o.length?"folders &amp; files":o[0],$("body").is(".windows.safari")||($("#dragIcon span").html($(".selected_count").is(":visible")?$(".selected_count").html():"1"),$("#dragIcon strong").html(a+" "+aFT+" "),n=$("#myfiles_wrap").width()-$("#dragIcon").width()-42,"setDragImage"in r.originalEvent.dataTransfer&&($("#dragIcon").show(),r.originalEvent.dataTransfer.setDragImage(s,0,0)),$("body *").bind("dragover",function(e){$("#dragIcon").css("top",e.originalEvent.pageY+10).css("left",e.originalEvent.pageX<n?e.originalEvent.pageX+10:null).css("z-index",9999)}))}(a),mainList.Start(r)}).delegate("li.folder, li.file","dragend",function(e){$(this).removeClass("folder_highlight"),$("li.file_droppable").unbind("dragover drop").removeClass("file_droppable"),$("#container").removeClass("drag_active"),$("#dragIcon").hide(),mainList.XF(e);var t=tH.MYF_oSelected;("yes"!=tH.currentFolder.shared||"child"!=tH.currentFolder.shared)&&0<t.folders.length&&$.each(t.folders,function(e){"yes"==tH.folders.yx(t.folders[e]).shared&&mainList.aTN()})}).delegate("li.folder, li.file","dragover",function(e){var t,a=!1;"folder"==this.id.split("-")[0]?(a=!0,1<(t=$("#main_list .folder_highlight")).length&&t.removeClass("folder_highlight"),a&&!$(this).hasClass("folder_highlight")&&$(this).addClass("folder_highlight"),NQ(e)):$("#main_list .folder_highlight").removeClass("folder_highlight")}).delegate("li.folder","drop",abh).delegate("li.file","drop",function(e){$("#dragIcon").hide();try{(e.dataTransfer||e.originalEvent.dataTransfer).types.contains("Files")||NQ(e),abh(e)}catch(e){}}).delegate("li.file a.private","click",function(e){var t=$(this).closest("li");GH.abB.open("public",t.data("key")),aeV(e)}).delegate("li.file a.public","click",function(e){var t=$(this).closest("li");GH.abB.open("private",t.data("key")),aeV(e)}).delegate("li.folder a.private","click",function(e){var t=$(this).closest("li");GH.abz.open("public",t.data("key")),aeV(e)}).delegate("li.folder a.public","click",function(e){var t=$(this).closest("li");GH.abz.open("private",t.data("key")),aeV(e)}).delegate("li.file a.password","click",function(e){var t=$(this).closest("li");GH.aim.open(t.data("key"),fu,!0),aeV(e)}).delegate("a.rowTrashBtn.gbtnTertiary","click",function(e){var t=$(this).closest("li"),a=t.data("key"),t=t.hasClass("file");LF.bet(t?a:"",t?"":a,!0),aeV(e)}).delegate("a.rowTrashBtn.gbtnPrimary","click",function(e){var t=$(this).closest("li"),a=t.data("key"),o=t.hasClass("file");GH.aXh.open({success:function(e){LF.YO(o?a:"",o?"":a,e)}}),aeV(e)}).delegate("li.mf_filecontainer.public","mouseenter",function(){var t,e=$(this),a=e.hasClass("folder")?"folder":"file",o=e.find("a.shareLinkEnabled"),n=o.find(".tooltip"),r=tH[a+"s"].yx(e.data("key")),a="Share link is enabled for this "+a+".";void 0===r?a="Unable to find resource.":Clipboard.isSupported()&&(a+="<br />Click to copy link.",i.forEach(function(e){e&&e.destroy()}),i=[],t=(t=r.clickLink)||agW(r),new Clipboard(o[0],{text:function(e){return t}}).on("success",function(e){try{gtag("event","copy_link")}catch(e){}Zi(0,"Copied to Clipboard"),r.folderkey&&ValidateFolderCopyLinkSafe(r.folderkey)})),n.html(a)})}function alm(){$("#viewtab1").click(function(){return $(this).hasClass("changeview_active")||($("#main_list").empty(),$(this).addClass("changeview_active").siblings("a").removeClass("changeview_active"),$("#myfiles_wrap").removeClass("thumbnailView sizeS sizeM sizeL").addClass("listView"),aU("thumbview","off",1),aPC(),$.publish("view/changemode"),$(window).resize()),!1}),$("#viewtab2").click(function(){return $(this).hasClass("changeview_active")||($("#container").hasClass("searchmode")||$("#main_list").empty(),$(this).addClass("changeview_active").siblings("a").removeClass("changeview_active"),$("#myfiles_wrap").removeClass("listView sizeS sizeM sizeL").addClass("thumbnailView "+(aL("mfsize")?"size"+aL("mfsize"):"sizeS")),aU("thumbview","on",1800),aOV(),$.publish("view/changemode")),!1})}function aOV(){afv()||tH.XY()}function aPC(){afv()||tH.XY()}function bgC(e,t){$("#container").removeClass(t).addClass(e);t=$('#myfiles_sortcontrol li[data-command="'+e.split("-")[1]+'"]'),e=t.text();0<t.length&&($("#sort_current").html(e+' <span class="arrow_down"></span>'),t.find("span").addClass("arrow_down")),sortBy="name",$.publish("list/sort")}function bfi(){bgC("sort-expire","sort-created sort-size sort-downloads sort-relevancy"),$("#container").addClass("trashMode")}function bff(){$("#container").hasClass("sort-expire")&&bgC("sort-created","sort-expire"),$("#container").hasClass("sort-date")&&bgC("sort-created","sort-date"),$("#container").removeClass("trashMode")}function bfw(){return $("#container").hasClass("trashMode")}function aeT(){tH.aVy=!0,$("#viewtab1, #viewtab2").hide(),$("#container").addClass("searchmode")}function afv(){return $("#container").hasClass("searchmode")}function adz(){return $("#container").hasClass("searchresults")}function aGn(e,t){for(var a=e.length,o=0;o<a;o++){var n="file"===e[o].type?"Cp":"yJ";e[o]=new tH[n](e[o])}aeT(),$("#main_list").css({margin:0}),$("#search_all_folders").toggle(!e.length),t||"myfiles"===aGy.folderkey?!0===t||"myfiles"===aGy.folderkey?($("#search_all_btn").hide(),$("#no_results_folder").text("all folders")):$("#search_all_folders").hide():($("#search_all_btn").show().on("click",function(e){return afB(tH.folders.yx("myfiles"),$("#search").val(),!0),tH.aVy=!0,aeV(e),!1}),$("#no_results_folder").text("this folder")),$("#container").addClass("searchresults"),$(window).trigger("resize"),tH.XE=e,setTimeout(function(){sortBy="relevancy",sortAscending=!0,$("#sort_current span").trigger("click"),$("#sort_current").html('Match <span class="arrow_down"></span>'),MYF_fHideSpinner("search")},0)}function afB(e,t,a,o){"let it snow"===t.toLowerCase()&&bnA(),bfw()&&bff(),tH.aRL={files:{},folders:{}},MYF_fShowSpinner("search"),tH.aYp=!!tH.aYp||UO(),tH.aYp&&$("#viewtab1").click(),3<=(t=t||"").length&&(aGy=e,aHa.aIX(e.folderkey),aHa.aGY(e,t,!0,filterBy,{success:function(e){try{gtag("event","search",{results:e.response.results})}catch(e){}var a=e.response.results,o=[];aGT=[],$.each(a,function(e,t){"file"===t.type?tH.currentFolder.files[t.quickkey]?tH.aRL.files[t.quickkey]=tH.currentFolder.files[t.quickkey]:o.push(t.quickkey):tH.currentFolder.folders[t.folderkey]?tH.aRL.folders[t.folderkey]=tH.currentFolder.folders[t.folderkey]:aGT.push(t.folderkey)}),o.length||aGT.length?o.length?window.tH.Cp.asi(o,{success:function(e){var t;1===o.length?(t=new tH.Cp(e.response.file_info),tH.aRL.files[t.quickkey]=t):$.each(e.response.file_infos,function(e,t){t=new tH.Cp(t);tH.aRL.files[t.quickkey]=t}),aGT.length?window.tH.yJ.asi(aGT,{success:function(e){var t;1===aGT.length?(t=new tH.yJ(e.response.folder_info),tH.aRL.folders[t.folderkey]=t):$.each(e.response.folder_infos,function(e,t){t=new tH.yJ(t);tH.aRL.folders[t.folderkey]=t}),aGn(a)}}):aGn(a,!0)}}):aGT.length&&window.tH.yJ.asi(aGT,{success:function(e){var t;1===aGT.length?(t=new tH.yJ(e.response.folder_info),tH.aRL.folders[t.folderkey]=t):$.each(e.response.folder_infos,function(e,t){t=new tH.yJ(t);tH.aRL.folders[t.folderkey]=t}),aGn(a)}}):aGn(a,!0)},error:function(e){aGn([]);try{Zi(0,JSON.parse(e.responseText).response.message),console.warn("error searching files and folders.")}catch(e){}}}))}function aec(e,t){var a={data:{search_text:t,version:2.5}};"myfiles"!=e.folderkey&&""!=e.folderkey&&(a.data.folder_key=e.folderkey)}function MYF_SearchMode_fSortList(){var a={},o={};$.each(window.tH.XE,function(e,t){t&&(t.filename?o[t.quickkey]=t:a[t.folderkey]=t)});var e=[],t=[],n=[],n="relevancy"==sortBy?(e=$.values(a),t=$.values(o),e.concat(t).sort(YT.relevancy)):(e=$.values(a).sort(YT.folder["created"==sortBy?"created":"name"]),t=$.values(o).sort(YT.file[sortBy]),e.concat(t));sortAscending||n.reverse(),aoP(n,!0)}function aft(e,t){"trash"==tH.currentFolder.folderkey&&bfi(),tH.aVy=!0,tH.aRL={files:{},folders:{}},tH.XE=[];var a,o=!(!$("#search-text").val()||!$("#search-text").val().length);$("#search-text").val("").attr("placeholder","Search").blur(),e||aBe(),afv()&&(o||t)?(aBe(),$("#container").removeClass("searchmode searchresults searchmode_filter sort-relevancy"),$("#search_all_folders").hide(),$("#viewtab1, #viewtab2").show(),tH.aYp&&$("#viewtab2").click(),tH.aYp=null,void 0!==tH.XE&&$.each(tH.XE,function(e){delete e.relevancy}),window.tH.XE&&delete window.tH.XE,window.tH.aca=[],a=bfw(),"relevancy"!=sortBy&&!a||(t=(o=aL("mfsf-"+UserEmail))&&"relevancy"!=o?o:"name",0<(o=$('#myfiles_sortcontrol li[data-command="'+t+'"]')).length&&"name"!=t&&!a?o.click():(t=a?"expire":"created",sortAscending=!0,a?(abH(tH.currentFolder,!0),$("#container").addClass("sort-"+t),sortBy="name",$.publish("list/sort")):($("#myfiles_sortbyname").click(),$("#container").addClass("sort-"+t)),t=(o=$('#myfiles_sortcontrol li[data-command="'+t+'"]')).text(),0<o.length&&($("#sort_current").html(t+' <span class="arrow_down"></span>'),o.find("span").addClass("arrow_down"))))):!$("#container").hasClass("searchmode_filter")||e||afv()||($("#myfiles_filtercontrol li[data-command='all']").click(),$("#search-text").val("").attr("placeholder","Search").blur(),$("#container").removeClass("searchmode_filter"))}function afJ(){$("#search_delete_button1, #search_exit_msg").click(function(e){aft(!1,!0)}),"all"!=filterBy?$.subscribe("folder/render"):$.subscribe("folder/render",aft),$("#viewAllImagesToolTip").click(function(e){aft()}),$("#search-text").focus(function(){aeT()}),$("#search-text").bind("keydown","esc",function(){aft(!1,!0)}),$("#search-text").bind("keydown",debounce(function(e){aoK(e)},400)),$(".searchWrap").bind("clickoutside",function(e){afv()&&!$("#search-text").val()&&aft(!1,!0)})}var MYF_oSpinnerCauses={};function MYF_fShowSpinner(e){var t=!$.isEmptyObject(MYF_oSpinnerCauses);MYF_oSpinnerCauses[e]=!0,t||($("body").addClass("pageSpinner"),$("#main_files_container").css("opacity",.5))}function MYF_fHideSpinner(e){$.isEmptyObject(MYF_oSpinnerCauses)||(delete MYF_oSpinnerCauses[e],$.isEmptyObject(MYF_oSpinnerCauses)&&($("body").removeClass("pageSpinner"),$("#main_files_container, #folderTree").css("opacity","")))}function aqU(e){var t=new RegExp("(\\"+["*","?","\\","/"].join("|\\")+")","g");return(""+e).replace(t," ")}function aoK(e){if(27==(e=e||window.event).keyCode)return aft();e.target.value&&0!=(e.target.value+"").replace(" ","").length||MYF_fHideSpinner("search");var t=aqU(e.target.value);13==e.keyCode&&(aeT(),t.length<3?Zi(0,"The search term must be at least 3 characters in length."):t.length&&afB(window.tH.currentFolder,t,"global"==$("input[name='searchscope']:checked").val())),$(window).scrollTop(0)}function abh(e,t){var a;if(!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)return(a=JSON.parse(e.originalEvent.dataTransfer.getData("Text")))&&(t=t||$(this).data("key"),LF.YO(a.files,a.folders,t)),e&&aeV(e),mainList.aTN(),!1}function aIh(e,t){var a;if(!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)return(a=JSON.parse(e.originalEvent.dataTransfer.getData("Text")))&&(t=t||$(this).data("key"),LF.aFI(a.files,a.folders,t)),e&&aeV(e),mainList.aTN(),!1}function aTw(I){return function(){var c=function(){$("input").blur(),$(".popup:visible").find(".popup-close").click()};$(".popup_content").delegate("keydown","esc",c),$("#page_screen").click(function(e){$(".popup:visible").find(".popup-close").click(),aeV(e)});var t,o,n=[],e=0<=I?{open:function(e){var t,a;"popup"==e?o.open():zW(e,0),Clipboard.isSupported()?(n.forEach(function(e){e&&e.destroy()}),n=[],t=new Clipboard($("#dropbox-copy-link")[0],{text:function(){return $("#dbx_text_embeded").val()}}),a=new Clipboard($("#hostedfiledrop-copy-link")[0],{text:function(){return $("#hostedfiledrop_text_share").val()}}),t.on("success",e=function(e){Zi(0,"Copied to Clipboard")}),a.on("success",e),n.push(t),n.push(a)):($("#dropbox-copy-link").hide(),$("#hostedfiledrop-copy-link").hide())},popup:o=$("#create_dropbox_popup").popup().data("popup"),close:o.close}:{open:function(e){t.open()},popup:t=$("#create_dropbox_popup").popup().data("popup"),close:t.close};aij("#dbx_input_header","span.fileDropPreviewCount",parseInt($("#dbx_input_header").attr("maxlength"),10),!0,!1,!0);var a,r,i,f,s=alT("#form-save",templates),l=(r=$("#bulk-download-confirm").popup(),i=r.data("popup"),r.delegate(".confirm","click",function(e){aME=aME&&{},LF.aUA(a.keys),Zi(0,"Your bulk download is being prepared."),i.close(),aeV(e)}),awJ(r,!0,!0),{open:function(e){a=e,r.find("#bulk-download-confirm-items").html(e.count),i.open(),r.find(".confirm").focus()},popup:i,close:i.close}),d=awP("#form-move",templates),u=aFj("#form-copy",templates),p=aIt("#form-dest",templates),h=aVH("#upload-existing-file-conflict",templates),m=ri("#create-folder",templates),g=avA("#delete-folders-files",templates),y=avx("#privacy-file","file",templates),w=aRC("#action-choice-file",templates),v=aOx("#collaborate-file",templates),b=avx("#privacy-folder","folder",templates),_=awZ("#details-file","file",templates),k=awZ("#details-folder","folder",templates),x=bdt("#create-file","file",templates),H=awo("#update-file",templates),C=avk("#password-file",templates),S=asx("#rss-share-popup",templates);function E(e){var t=$("#sharebox").find(".share-popup");t&&e&&t.addClass(e)}return{aai:d,aFW:u,avb:s,aXh:p,yw:g,abB:y,abz:b,aby:_,abC:k,aRo:x,aim:C,ajj:ayB("#create_new_account_popup",templates),GA:H,Xv:{open:function(e){var d=("string"==typeof e.files&&0<e.files.length?e.files.split(","):e.files)||[],e=("string"==typeof e.folders&&0<e.folders.length?e.folders.split(","):e.folders)||[];f.Clear(),$.each(d,function(e,t){var a=(a=tH.files.yx(t))||window.tH.currentFolder.files[t],o=aek||a.shared;a.permissions&&3===NZ(a)&&(o=!1);t="private"==a.privacy;void 0!==a.share_link_enabled&&"yes"!=a.share_link_enabled&&(t=!0),f.ald(a.quickkey,a.filename,a.size,a.filetype,a.hash,aCf(a),t,o,NZ(a))}),$.each(e,function(e,t){var a=(a=tH.folders.yx(t))||window.tH.currentFolder.folders[t],o=aek||!0===a.shared||"yes"==a.shared;a.permissions&&3===NZ(a)&&(o=!1);t="private"==a.privacy;void 0!==a.share_link_enabled&&"yes"!=a.share_link_enabled&&(t=!0),f.akb(a.name,a.folderkey,t,o,NZ(a))}),e=new window.tH.Dv,acK?f.Show(null,"loginShare"):e.Yw(function(e){var t,a,o,n,r=!1,i={facebook:null,gmail:null,twitter:null},s=e.response;if("Success"==s.result)for(var l in 1==avH(s.user_info.options,4)&&(r=!0),i)!s.user_info[l]||(t=s.user_info[l].synced)&&"0000-00-00 00:00:00"!=t&&(i[l]=t);f.Show(null,aZn||aZS?"":"unverifiedShare",!1,i),a=r,o=[],n=[],$.each(d,function(e,t){t=window.tH.currentFolder.files[t]||tH.files.yx(t);t&&(aZS||!t.dmca||a||(E("dmcaReviewPop"),o.push(t.quickkey),n.push(t.hash)),aZS||!t.copyright||a||E("copyrightPop"),t.fileInfected&&E("virusPop"))}),o.length&&$("#sharebox").undelegate("#share-box-dmca-button","click").delegate("#share-box-dmca-button","click",function(e){var t=n.join(",");c(),LoadIframeLightbox("/templates/dmca_lightbox.html",500,475),t.dmca_company||awS(t,function(e){setTimeout(function(){awQ(e,o)},500)}),aeV(e)})}),tH.currentFolder.shared&&"no"!=tH.currentFolder.shared?$("#sharebox").addClass("conservative"):acK||aek||$("#sharebox").removeClass("conservative")},popup:(f=CreateSharePopup("sharebox",templates)).popup,close:function(){f.Hide()},ali:f.ali,ShowTab:f.ShowTab},Dq:function(){auA&&auA.$list.filter(".selectable").delegate("a.folder_name","click",function(e){var t=$(this),a=t.closest(".myaccountlist_content");return $("#save-create-subfolder-content").hide(),$("#save-create").show(),$("#save-create-subfolder-name").val(""),a.find(".current_folder_location").removeClass("current_folder_location"),t.closest("li").addClass("current_folder_location expanded").removeClass("collapsed"),!1})},abU:c,aUD:h,abV:m,afh:e,apJ:l,arW:S,aNJ:v,MYF_oFileChoice:w}}()}var awr=!1;function aIP(){var f=$("#contextmenu"),u=!1,p={open:function(e,t,a,o,n,r){if(p.aoh(),f.removeClass("image video canEdit hasPreview collab-folder-menu collab-folder-menu-view collab-folder-menu-edit collab-folder-menu-managecollab-file-menu collab-file-menu-view collab-file-menu-edit collab-file-menu-managecollab-mix-menu-view collab-mix-menu-edit collab-mix-menu-manage hasPassword showFollowing showFollow shareLinkDisabled"),bho=!1,"file"==t)(d=tH.files.yx(o))&&d.delete_date&&(bho=!0);else if("folder"==t||"linked-folder"==t||"sublinked-folder"==t)(i=tH.folders.yx(o))&&i.delete_date&&(bho=!0);else if("multiple"==t){if(o.folders)for(var i,s=o.folders.split(","),l=0;l<s.length;l++)if((i=tH.folders.yx(s[l]))&&i.delete_date){bho=!0;break}if(!bho&&o.files)for(var d,c=o.files.split(","),l=0;l<c.length;l++)if((d=tH.files.yx(c[l]))&&d.delete_date){bho=!0;break}}"linked-folder"!=t&&"sublinked-folder"!=t||(o=("linked-folder"==t?"shared-":"sub-")+o,t="folder"),"file"==(t=bho?"trashMode":t)&&((d=tH.files.yx(o))&&d.filetype&&"image"===d.filetype&&f.addClass("image"),d&&d.axV()&&f.addClass("hasPreview"),d&&d.aFP()&&aTB(window.tH.currentFolder)&&f.addClass("canEdit")),$(["#contextmenu",e,t].join("-")).show().closest(".dropdown").data("context",o),$(["#contextmenu",e,t].join("-")).trigger("acN"),f.removeClass("hide").addClass("show").css(a),u=!0,$(["#contextmenu",e,t].join("-")).trigger("adm",[n,r]),awr=!1,f.on("clickoutside",function(e){awr?awr=!1:p.aoh()}),$("#main_files_container").on("mouseup.ContextMenu",function(e){awr=3==e.which})},aoh:function(){$.each($(".row_context"),function(e,t){$(this).hasClass("file_selected")||mainList.aNK($(this).data("key"))}),f.hide().children("ul").hide().removeData("context"),f.removeClass("image video canEdit hasPreview collab-folder-menu collab-folder-menu-view collab-folder-menu-edit collab-folder-menu-managecollab-file-menu collab-file-menu-view collab-file-menu-edit collab-file-menu-managecollab-mix-menu-view collab-mix-menu-edit collab-mix-menu-manage hasPassword showFollowing showFollow shareLinkDisabled"),$(".row_context").removeClass("row_context"),f.removeClass("fixed show").addClass("hide"),u=!1,f.off("clickoutside"),$("#main_files_container").off("mouseup.ContextMenu")},isVisible:function(){return u},CD:function(){u?this.aoh():this.open.apply(null,arguments)},Wn:function(e,t,a){var o=$(window),n=e.parent(),r=parseInt(n.css("left")),i=parseInt(n.css("top")),s=20;function l(){(t||e.width()+r>o.width()&&0<=r-e.width())&&n.css("left",r-e.outerWidth()+"px"),0<=i-(e.height()+s)&&(a||e.height()+i-o.scrollTop()>o.height())&&n.css("top",i-e.outerHeight()+3+"px"),n.hasClass("fixed")&&n.css("top",i-parseInt(o.scrollTop())+"px")}l(),setTimeout(l,0)},anX:function(e){var t=parseInt(e.parent().parent().parent().css("top"))+100,a=parseInt(e.parent().parent().parent().css("left"))+100;80+t-$(window).scrollTop()>$(window).height()&&0<=t-e.height()?e.css("top",-45):e.css("top",0),205+a>$(window).width()&&0<=a-205?e.css("left","55%"):e.css("left","100%")},aan:function(e){var t="Copied to Clipboard",a=$(this).closest("ul");e&&("contextmenu-mainlist-multiple"===a.attr("id")?t+="<br />Warning: One or more items were private, but have now been made public.":t+="<br />Warning: This item was private, but has now been made public."),Zi(0,t),mainList.aTN()}};return aSC(p),p}var MYF_aClipboards=[];function aSC(y){$("#contextmenu-mainlist-file").on("acN",function(){var e,t=$(this).closest(".dropdown").data("context"),a=tH.files.yx(t);void 0===a&&(e=$("#file-"+t+" .file_location a").attr("href").substr("#search-".length),a={parent:new tH.yJ(e)}),$("#contextmenu").toggleClass("hasPassword","yes"==a.password_protected),$("#contextmenu").toggleClass("canEdit",aGe(a)),aTB(a)||(e=NZ(a),$("#contextmenu").toggleClass("showFollow",0==e).toggleClass("showFollowing",0!=e).toggleClass("collab-file-menu-view",1==e).toggleClass("collab-file-menu-edit",2==e).toggleClass("collab-file-menu-manage",3==e).toggleClass("shareLinkDisabled",!a.privacy||"private"==a.privacy)),$("#file-"+t).addClass("row_context"),$("#file-"+t).hasClass("development")?$("#contextmenu").addClass("development-item"):$("#contextmenu").removeClass("development-item")}).on("adm",function(e,t,a){var o=$(this),n=o.closest(".dropdown").data("context"),n=tH.files.memory[n];$("#contextmenu").toggleClass("private-item-menu",n.abL()),y.Wn(o,t,a),$("#contextmenu").toggleClass("video","video"==n.filetype).toggleClass("audio","audio"==n.filetype),aTB(n)||NZ(n);var r,i,s,t=o.find('li[data-command="copy-link"]');if(Clipboard.isSupported()?(MYF_aClipboards.forEach(function(e){e&&e.destroy()}),MYF_aClipboards=[],t[0]&&(r=o.closest(".dropdown").data("context"),i=tH.files.yx(r),s=!1,(a=new Clipboard(t[0],{text:function(){var e=$("#contextmenu-mainlist-file").closest("ul");return e.removeClass("private-item-menu"),s=!1,"private"===i.privacy&&((i=new tH.Cp(i)).privacy="public",i.aax(function(){tH.files.memory[r].privacy="public"}),e.addClass("private-item-menu"),s=!0,(e=$("#file-"+r)).length&&e.removeClass("private").addClass("public").find(".shareLinkEnabled").show()),agW(i)}})).on("success",function(){try{gtag("event","copy_link")}catch(e){}y.aan(s)}),MYF_aClipboards.push(a))):t.hide(),!n)return!1;t="yes"==n.password_protected;try{o.find("li[data-command='share']").show(),o.find("li[data-command='public']").toggle(n.abL()),o.find("li[data-command='private']").toggle(n.Zt()),o.find("li[data-command='save-file']").toggle(!Yb&&0!==aek&&!t),o.find("li[data-command='password']").text("Password Protect"),o.find("li[data-command='set-avatar']").toggle("image"==n.filetype);o.find("li[data-command='file-preview']").text("View")}catch(e){try{console.warn(e)}catch(e){}}}).on("click","li[data-command]",function(e){var t=$(this),a=t.data("command"),o=t.closest(".dropdown").data("context"),n=tH.files.memory[o];switch(aTB(n)||NZ(n),a){case"copy-link":break;case"save-file":aZe?GH.avb.open(o):blX("RequiresLogin");break;case"download":akO({files:[o]},"context_menu");break;case"share":R({files:[o]});break;case"file-preview":try{gtag("event","view_image")}catch(e){}var r="view";"video"==n.filetype?r="watch":"audio"==n.filetype&&(r="listen"),window.open("/"+r+"/"+o+"/"+aNy(n.filename));break;case"collab-file":GH.aNJ.open(o);break;case"move":GH.aai.open(o);break;case"copy-items":GH.aFW.open({files:[o]});break;case"delete":GH.yw.open(o);break;case"rename":aTn(o,"file");break;case"desc":GH.aby.open(o,"description");break;case"stats":aiM(o);break;case"password":GH.aim.open(o,fu);break;case"public":GH.abB.open("public",o);break;case"private":GH.abB.open("private",o);break;case"set-avatar":QZ(o)}y.aoh(),aeV(e)}).on("mouseenter",".dropdown li.submenu",function(e){var t=$(this).find(".submenu-sendto");t.show(),y.anX(t),aeV(e)}).on("mouseleave",".dropdown li.submenu",function(e){$(this).find(".submenu-sendto").hide(),aeV(e)}),$("#contextmenu-mainlist-folder").off("acN adm").off("click","li[data-command]").off("mouseenter mouseleave",".dropdown li.submenu").on("acN",function(){var e,t=$(this).closest(".dropdown").data("context"),a=tH.folders.yx(t);aTB(a)||(e=NZ(a),$("#contextmenu").toggleClass("showFollow",0==e).toggleClass("showFollowing",0!=e).toggleClass("collab-folder-menu-view",1==e).toggleClass("collab-folder-menu-edit",2==e).toggleClass("collab-folder-menu-manage",3==e).toggleClass("shareLinkDisabled",!a.privacy||"private"==a.privacy)),SHARED?$("li[data-command='rename']").removeClass("multimode-item").addClass("normal-item"):$("li[data-command='rename']").addClass("multimode-item").removeClass("normal-item"),$("#folder-"+t).addClass("row_context")}).on("adm",function(e,t,a){var o=$(this),n=o.closest(".dropdown").data("context"),r=tH.folders.yx(n),i=!1;aTB(r)||(i=!0,NZ(r));var s,l,d,c=o.find('li[data-command="copy-link"]');Clipboard.isSupported()?(MYF_aClipboards.forEach(function(e){e&&e.destroy()}),MYF_aClipboards=[],c[0]&&(s=o.closest(".dropdown").data("context"),l=tH.folders.yx(s),d=!1,(n=new Clipboard(c[0],{text:function(){var e=$("#contextmenu-mainlist-folder").closest("ul");return e.removeClass("private-item-menu"),d=!1,"private"===l.privacy&&((l=new tH.yJ(l)).aax(function(){tH.folders.memory[s].privacy="public"}),e.addClass("private-item-menu"),d=!0,(e=$("#folder-"+s)).length&&e.removeClass("private").addClass("public").find(".shareLinkEnabled").show()),agW(l)}})).on("success",function(){try{gtag("event","copy_link")}catch(e){}y.aan(d),ValidateFolderCopyLinkSafe(s)}),MYF_aClipboards.push(n))):c.hide(),$("#contextmenu").toggleClass("private-item-menu",r.abL()),y.Wn(o,t,a);try{o.find("li[data-command='public']").toggle(r.abL()&&!i),o.find("li[data-command='private']").toggle(r.Zt()&&!i)}catch(e){try{console.warn(e)}catch(e){}}}).on("click","li[data-command]",function(e){var t=$(this),a=t.data("command"),o=t.closest(".dropdown").data("context"),n=tH.folders.yx(o);switch(aTB(n)||NZ(n),a){case"copy-link":break;case"unfollow-folder":aMk(o);break;case"download":akO({folders:[o]},"context_menu");break;case"subfolder":GH.abV.open(o);break;case"share":R({folders:[o]});break;case"move":GH.aai.open(null,o);break;case"copy-items":GH.aFW.open({files:[],folders:[o]});break;case"delete":GH.yw.open(null,o);break;case"rename":aTn(o,"folder");break;case"desc":GH.abC.open(o,"description");break;case"dropbox":GH.afh.open(o);break;case"public":GH.abz.open("public",o);break;case"private":GH.abz.open("private",o);break;case"rss":GH.arW.open(n);break;default:try{console.warn("unrecognized command")}catch(e){}}y.aoh(),aeV(e)}).on("mouseenter",".dropdown li.submenu",function(e){var t=$(this).find(".submenu-sendto");t.show(),y.anX(t),aeV(e)}).on("mouseleave",".dropdown li.submenu",function(e){$(this).find(".submenu-sendto").hide(),aeV(e)}),$("#contextmenu-mainlist-multiple").off("acN adm").off("mousedown click","li[data-command]").on("acN",function(){$.publish("list/selection");var e=$(this),t=tH.MYF_oSelected,a=!!t.files.length&&t.files,t=!!t.folders.length&&t.folders;aek&&(e.find("li[data-command='save-file']").hide(),Yb||(1<a.length&&!t.length?e.find("li[data-command='save-file']").show():e.find("li[data-command='save-file']").hide()))}).on("adm",function(e,t,a){var o=$(this),n=tH.MYF_oSelected,r=!!n.files.length&&n.files,i=!!n.folders.length&&n.folders,s=r||[],l=i||[],d=!0;$.each(r,function(e,t){$("#file-"+t).addClass("row_context")}),$.each(i,function(e,t){$("#folder-"+t).addClass("row_context")});for(var c=!1,f=0;f<r.length;f++){var u=tH.files.memory[r[f]];"yes"!=u.password_protected&&d&&(d=!1),"image"==u.filetype&&(c=!0),u.fileInfected}var p,h=o.find('li[data-command="copy-link"]');Clipboard.isSupported()?(MYF_aClipboards.forEach(function(e){e&&e.destroy()}),MYF_aClipboards=[],h[0]&&(s=tH.MYF_oSelected.files||[],l=tH.MYF_oSelected.folders||[],p=!1,(n=new Clipboard(h[0],{text:function(){var o=$("#contextmenu-mainlist-multiple").closest("ul");return o.removeClass("private-item-menu"),p=!1,$.each(s,function(e,t){var a=tH.files.memory[t];"private"===a.privacy&&((a=new tH.Cp(a)).aax(function(){tH.files.memory[t].privacy="public"}),o.addClass("private-item-menu"),p=!0,(a=$("#file-"+t)).length&&a.removeClass("private").addClass("public").find(".shareLinkEnabled").show())}),$.each(l,function(e,t){var a=tH.folders.memory[t];"private"===a.privacy&&((a=new tH.yJ(a)).aax(function(){tH.folders.memory[t].privacy="public"}),o.addClass("private-item-menu"),p=!0,(a=$("#folder-"+t)).length&&a.removeClass("private").addClass("public").find(".shareLinkEnabled").show())}),adv("folder",s.concat(l).join(","),"shared")}})).on("success",function(){try{gtag("event","copy_link")}catch(e){}y.aan(p),ValidateFolderCopyLinkSafe(adQ)}),MYF_aClipboards.push(n))):h.hide(),o.find("li[data-command='share']").toggle(!(0<s.length&&0<l.length)),o.find("li[data-command='update']").toggle(!c&&r&&2===r.length&&!i&&(!aek||Yb)),o.find("li[data-command='save-file']").toggle(!Yb&&!d&&aek&&(!tH.MYF_oSelected.files.length||!tH.MYF_oSelected.folders.length));var m,g,h="";r&&i?h="mix":r?h="file":i&&(h="folder"),aTB(tH.currentFolder)||""==h||(m=3,g=!0,r&&$.each(r,function(e){var t=tH.files.yx(r[e]),e=NZ(t);if(m=e<m?e:m,g=g&&!(!t.privacy||"private"==t.privacy),0==m)return!1}),i&&0!=m&&$.each(i,function(e){var t=tH.folders.yx(i[e]),e=NZ(t);if(m=e<m?e:m,g=g&&!(!t.privacy||"private"==t.privacy),0==m)return!1}),$("#contextmenu").toggleClass("collab-"+h+"-view",1==m).toggleClass("collab-"+h+"-edit",2==m).toggleClass("collab-"+h+"-manage",3==m).toggleClass("shareLinkDisabled",!g)),y.Wn(o,t,a)}).on("mousedown","li[data-command]",function(e){var t=$(this);"view-items"===t.data("command")&&aRM($("a",t))}).on("click","li[data-command]",function(e){var t=$(this),a=t.data("command"),o=t.closest(".dropdown").data("context");switch(a){case"copy-link":break;case"view-items":return!0;case"move":GH.aai.open(o.files,o.folders);break;case"copy-items":GH.aFW.open(window.tH.MYF_oSelected);break;case"delete":GH.yw.open(o.files,o.folders);break;case"email":R(tH.MYF_oSelected),GH.Xv.ShowTab("email");break;case"download":adI();break;case"share":R(window.tH.MYF_oSelected);break;case"update":GH.GA.open(o.files);break;case"dropbox":GH.afh.open(t.data("key"));break;case"save-file":aZe?GH.avb.open(o.files):blX("RequireLogin");break;default:try{console.warn("unrecognized command")}catch(e){}}y.aoh(),aeV(e)}),$("#contextmenu-mainlist-trashMode").off("acN adm").off("mousedown click","li[data-command]").on("acN",function(){$.publish("list/selection")}).on("adm",function(e,t,a){var o=$(this),n=tH.MYF_oSelected,r=!!n.files.length&&n.files,i=!!n.folders.length&&n.folders;o.find(".number_of_selectedobjects").toggle(1<n.files.length+n.folders.length),r||i?($.each(r,function(e,t){$("#file-"+t).addClass("row_context")}),$.each(i,function(e,t){$("#folder-"+t).addClass("row_context")})):(n=o.closest(".dropdown").data("context"),tH.files.memory[n]?$("#file-"+n).addClass("row_context"):tH.folders.memory[n]&&$("#folder-"+n).addClass("row_context")),y.Wn(o,t,a)}).on("click","li[data-command]",function(e){var t=$(this),a=t.data("command"),t=t.closest(".dropdown").data("context"),o=t.folders||"",n=t.files||"";switch(0==o.length&&0==n.length&&(tH.files.memory[t]?n=t:tH.folders.memory[t]&&(o=t)),a){case"delete":LF.bet(n,o,!0);break;case"restore":GH.aXh.open({success:function(e){LF.YO(n,o,e)}});break;default:try{console.warn("unrecognized command")}catch(e){}}y.aoh(),aeV(e)}),$("#contextmenu-folderbrowser-folder").off("acN adm click").off("click","li[data-command]").on("acN",function(){var e=$(this),t=e.closest(".dropdown").data("context").split("-"),a=t[0];1<t.length&&(t[0],a=t[1]),$("[data-folderkey='"+a+"']").addClass("row_context"),e.parent().addClass("fixed")}).on("adm",function(){var e=$(this),t=!1,a=e.closest(".dropdown").data("context").split("-"),o=a[0],n=!1,r=0;1<a.length&&(a[0],t=!0,o=a[1]);var i=tH.folders.yx(o);aTB(i)||(n=!0,r=NZ(i));var s,l,d,c=e.find('li[data-command="copy-link"]');Clipboard.isSupported()?(s=!1,aek&&1<=afI.split(",").length?d=function(){var o=$("#contextmenu-folderbrowser-folder").closest("ul");return o.removeClass("private-item-menu"),s=!1,$.each(afI.split(","),function(e,t){var a=tH.folders.memory[t];"private"===a.privacy&&((a=new tH.yJ(a)).aax(function(){tH.folders.memory[t].privacy="public"}),o.addClass("private-item-menu"),s=!0)}),adv("folder",afI,"shared")}:"myfiles"===o||(a=tH.folders.yx(o))&&(l=Encoder.XSSEncode(aNy(a.name))||"",d=function(){return adv("folder",o,l)}),d&&((d=new Clipboard(c[0],{text:d})).on("success",function(){try{gtag("event","copy_link")}catch(e){}y.aan(s),ValidateFolderCopyLinkSafe(o)}),MYF_aClipboards.push(d))):c.hide(),$("#folderbrowser-unfollow").toggle(n&&aTB(i.parent)&&0!=r),aek?($("#folderbrowser-copylink").show(),$("#folderbrowser-rename").hide(),$("#folderbrowser-delete").hide(),$("#folderbrowser-subfolder").hide(),$("#folderbrowser-add").toggle(!("myfiles"==o)),$("#folderbrowser-share").show()):"myfiles"==o?($("#folderbrowser-copylink").hide(),$("#folderbrowser-rename").hide(),$("#folderbrowser-delete").hide(),$("#folderbrowser-subfolder").show(),$("#folderbrowser-share").hide()):($("#folderbrowser-copylink").show(),n?($("#folderbrowser-rename").toggle(2==r),$("#folderbrowser-subfolder").toggle(2==r),$("#folderbrowser-delete").toggle(2==r),$("#folderbrowser-share").hide()):($("#folderbrowser-rename").show(),$("#folderbrowser-subfolder").show(),$("#folderbrowser-delete").toggle(!t),$("#folderbrowser-share").show())),y.Wn(e),$("[data-folderkey='"+o+"']").addClass("row_context")}).on("click","li[data-command]",function(e){var t=$(this),a=t.data("command"),o=t.closest(".dropdown").data("context").split("-"),t=o[0];switch(1<o.length&&(t=o[1]),folderkey=t,a){case"rename":GH.abC.open(folderkey,"name");break;case"subfolder":GH.abV.open(folderkey);break;case"copy-link":break;case"delete":GH.yw.open(null,folderkey);break;case"share":R({folders:[folderkey]});break;default:try{console.warn("unrecognized command")}catch(e){}}y.aoh(),aeV(e)})}function aMk(e){var t=tH.folders.yx(e);(new tH.aCa).aAe(e,{success:function(e){e&&e.response&&e.response.result&&"success"===e.response.result.toLowerCase()?(Zi(0,"You are no longer following the folder '"+t.name+"'. You may view all the items you follow within the Following App."),setTimeout(function(){"private"==t.privacy?top.Rz("shared-items"):location.reload(!0)},1e3)):Zi(0,"Unable to stop following the folder '"+t.name+"' at this time. Please try again later")},error:function(){Zi(0,"Unable to stop following the folder '"+t.name+"' at this time. Please try again later")}})}function aTE(){LF.Zs.onBefore=function(e,t){var a=null;if(t)for(var o=tH.currentFolder;o&&"myfiles"!=o.folderkey;){if(-1!==t.indexOf(o.folderkey)){a=o;break}if("myfiles"==o.parent_folderkey)break;o=o.parent||tH.folders.yx(o)}a&&(window.location.hash="#"+(a.parent_folderkey||a.parent.folderkey||"myfiles")),e.length&&$.each(e,function(e,t){$("#file-"+t).hide()}),t.length&&$.each(t,function(e,t){$("#folder-"+t).hide()})},LF.Zs.onSuccess=function(e,t){e&&$.publish("file/delete",[e,!1]),t&&$.publish("folder/delete",[t,!1]),beg()},LF.bet.onSuccess=function(e,t){e&&$.publish("file/delete",[e,!0]),t&&$.publish("folder/delete",[t,!0]),aoP(tH.aca),beg()},LF.MYF_mEmptyTrash.onSuccess=function(){var e=tH.folders.yx("trash");window.tH.aca=[],aoP(window.tH.aca),e&&(0<e.total_files&&aH(0,e.total_files+" files deleted.",e.total_files+" files were deleted.",!0),0<e.total_folders&&aH(0,e.total_folders+" folders deleted.",e.total_folders+" folders were deleted.",!0),e.folders={},e.files={},e.total_files=0,e.total_folders=0),beg()},LF.YO.onBefore=function(e,t,a){var o,n=!0;if(o=function e(t,a){return t instanceof tH.yJ&&void 0!==t.parent.folderkey&&t.parent.folderkey!==t.folderkey?(a.push(t.folderkey),e(t.parent,a)):a}(a,[]),$.each(e.split(","),function(e,t){$("#file-"+t).hide()}),$.each(t.split(","),function(e,t){-1!=$.inArray(t,o)&&(n=!1)}),!0!==n)return!1;$.each(t.split(","),function(e,t){$("#folder-"+t).hide()})},LF.YO.onSuccess=function(e,t,a){$.publish((e[0].quickkey?"file":"folder")+"/move",[e,t,a])},LF.YO.onError=function(e,t,a){$.each(e.split(","),function(e,t){$("#file-"+t).show()}),$.each(t.split(","),function(e,t){$("#folder-"+t).show()})},LF.aFI.onSuccess=function(e,t,a,o,n,r){n&&r?$.publish("filesandfolders/copy",[n,r,a,o]):$.publish((e[0].quickkey?"file":"folder")+"/copy",[e,t,a,o])},LF.aUA.onError=function(e,t,a){switch(av(),a){case 148:Ck();break;case 149:Eh(e,!1);break;case 153:aUG(e);break;case 155:Eh(e,!0);break;case 156:case 157:DisplayZipInsufficientBandwidthApproval();break;default:try{void 0!==t.message&&aH(0,t.message)}catch(e){}}},LF.Wt.onSuccess=function(e,t,a){$.publish("folder/create",[t,e]),a&&a.filedrop&&GH.afh.open(t.folderkey)},LF.aah.onSuccess=function(e){e&&$.publish((e.quickkey?"file":"folder")+"/update",[e,"privacy"])},LF.ajl.onSuccess=function(e){$.publish("file/save",e.filename)},LF.aal.onError=function(e,t){aTP()},LF.aal.onSuccess=function(e,t){e.desc=e.description,$.publish((e.quickkey?"file":"folder")+"/update",[e,t])},LF.agk.onSuccess=function(e,t){$.publish("file/delete",[[e],!0]),$.publish("file/update",[t,"replace"])},LF.agD.onSuccess=function(e){$.publish("file/update",[e,"password"])}}function aTG(){$(document).bind("keydown","esc",function(){contextMenu.aoh(),mainList.aTN(),GH.abU(),aft(),$(".dropdown").removeClass("show_dropdown").unbind("clickoutside"),$(".dropdownOnClick").removeClass("show_dropdown").unbind("clickoutside")}).bind("keydown","u",function(){var e=aek||!avH(tH.currentFolder.flag,"1"),t="2"==NZ(tH.currentFolder);0!=$("input:focus").length||e&&!t||bfw()||GLB_fSendToUploader(window.tH.currentFolder.folderkey||"myfiles")}).bind("keydown","ctrl+a",function(){if(0==$("input:focus").length)return $(".dropdown").removeClass("show_dropdown").unbind("clickoutside"),mainList.akV(),!1}).bind("keydown","shift+del",function(){0!=$("input:focus").length||aek||(!tH.currentFolder||"yes"!=tH.currentFolder.shared&&"child"!=tH.currentFolder.shared)&&mainList.VB()&&(bfw()?LF.bet(mainList.WP("files"),mainList.WP("folders"),!1):GH.yw.open(mainList.WP("files"),mainList.WP("folders"),!1))}).bind("keydown","del",function(){0!=$("input:focus").length||aek||(!tH.currentFolder||"yes"!=tH.currentFolder.shared&&"child"!=tH.currentFolder.shared)&&mainList.VB()&&(bfw()?LF.bet(mainList.WP("files"),mainList.WP("folders"),!0):GH.yw.open(mainList.WP("files"),mainList.WP("folders")))}).bind("keydown","ctrl+home ctrl+end pageup pagedown home end",function(){$(window).scroll()}).bind("keydown","n",function(){var e,t=tH.currentFolder,a=!1;if(aTB(t)||(a=2==(e=NZ(t))||3==e),0==$("input:focus").length&&(!aek||a)&&!bfw())return GH.abV.open(window.abM),!1}),"Mac"==lc()&&$(document).bind("keydown","backspace",function(e){0!=$("input:focus").length||aek||mainList.VB()&&(GH.yw.open(mainList.WP("files"),mainList.WP("folders")),e.preventDefault(),aeV(e))})}function aTy(){$("#popup-section").show()}function aAw(){var e;window.tH.root&&(window.tH.root.owner_name&&$("#collabmodeContact .collabContactName").text(window.tH.root.owner_name).attr("title",window.tH.root.owner_name),window.tH.root.avatar&&(e="",e=-1!==window.tH.root.avatar.indexOf("gravatar.com")?window.tH.root.avatar+"&"+aC(4):window.tH.root.avatar+"?"+aC(4),$("#collabmodeContact .shareContactAvatar").css("background-image","url("+e+")")))}function aSy(e){var t,a=afI.split(",");1<a.length?((t=new window.tH.yJ("myfiles")).name="Shared Files",t.shared="yes",window.tH.folders.memory.myfiles=t,window.tH.root=t,$(".searchBtnMin").css("visibility","hidden"),$.each(a,function(e,t){11==t.length||15==t.length?aeI(t,e,a):13==t.length?ahF(t,e,a):aeP(1,e,a)})):(window.tH.root=new window.tH.yJ(afI),window.tH.root.shared="yes",window.tH.root.Yw({data:{recursive:"yes"}},{success:function(e,t){aAw(),agM(window.tH.root)},error:function(e,t,a){var o=JSON.parse(e.responseText),e={134:["You do not have access to view this folder. If this is your folder, please login."]};e[114]=e[134],e[112]=["Folder not found."];e=e[o.response.error.toString()]||["An error occurred while retrieving the folder."];"114"===o.response.error.toString()&&(top.location.href="/error.php?errno=999&quickkey="+afI+"&origin=folder"),Zi(0,e[0])}})),$(window).hashchange(function(){window.tH.aca=[],agM(window.tH.root)})}function aSB(){$("body").hasClass("myfiles")&&($("#myfiles_wrap").css({overflow:"auto","-webkit-user-select":"none","-khtml-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"}),$("#myfiles_wrap").dragToSelect({selectables:"#main_list li",not:".collaborate-active",excludes:["li.row_container","#myfiles_viewtabs_bar","#myfiles_selection","#header","#contextmenu","#listbox_container",".popup","#folderTree"],selectedClass:"dragselect_selected",onShow:function(e){e||(mainList.aTN(),aQC=[],aRr=[]),"Internet Explorer"==BrowserName()&&"9.0"==Bm()&&(document.onselectstart=function(){return!1}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},onHide:function(e,t){var a=$("#main_list li:first");if(e||($.each(tH.MYF_oSelected.files.concat(tH.MYF_oSelected.folders),function(e,t){tH.currentFolder.files[t]?tH.currentFolder.files[t].selected=!1:tH.currentFolder.folders[t].selected=!1}),tH.MYF_oSelected&&(tH.MYF_oSelected={files:[],folders:[]}),$("#main_list li").removeClass("file_selected")),0<a.length){var o=a.outerWidth(!0),n=a.outerHeight(!0),r=$("#main_list"),i=r.offset(),e=Math.min(i.left+r.innerWidth(),t.left+t.width),a=t.top+t.height,s=UO()?Math.floor(r.innerWidth()/o):1,l=Math.min(s,Math.max(0,Math.ceil((t.left-i.left)/o))),d=Math.min(s,Math.max(l,Math.ceil((e-i.left)/o))),r=$("#main_files_container").offset().top+r.position().top,t=Math.max(0,Math.ceil((t.top-r)/n)),c=Math.max(t,Math.ceil((a-r)/n));if(0<c&&0===t&&(t=1),0<d&&0===l&&(l=1),0<c&&0<d)for(var f=t;f<=c;f++)for(var u=l;u<=d;u++){var p=(f-1)*s-1+u;0<=p&&(void 0!==(p=tH.aca[p])&&(p.quickkey?tH.MYF_oSelected.files[p.quickkey]||mainList.ZF(p.quickkey):p.folderkey&&(tH.MYF_oSelected.files[p.folderkey]||mainList.ZF(p.folderkey))))}}return $selectedRows=$("#main_list .dragselect_selected"),$("#main_list .dragselect_selected").removeClass("dragselect_selected"),$selectedRows.addClass("file_selected"),$newSelectedRows=$("#main_list .file_selected"),"Internet Explorer"==BrowserName()&&setTimeout(function(){$.publish("list/selection"),document.onselectstart=null},100),$(".myfiles").css({"-webkit-user-select":"text","-khtml-user-select":"text","-ms-user-select":"text","-moz-user-select":"text","-o-user-select":"text","user-select":"text"}),!0},onRefresh:function(){$(".myfiles").css({"-webkit-user-select":"text","-khtml-user-select":"text","-ms-user-select":"text","-moz-user-select":"text","-o-user-select":"text","user-select":"text"})},selectOnMove:!0}))}function aTj(){tH.aWM=!0,WC(""),aek||beg(),$(window).hashchange(function(){window.tH.bov&&clearTimeout(window.tH.bov),bff(),window.tH.aca=[],alb()}),aHa.aJg(),aek||alb(LF),aXK()}function amD(e,t){e&&$(document).ready(function(){LoadIframeLightbox("/dynamic/alert.php?alert_ids="+t,700,400)})}function aXK(){document.getElementById("folderTree"),document.getElementById("main_files_container");var a=$("#fileDropWrap"),o=null;window.addEventListener&&(window.addEventListener("click",function(e){a.removeClass("windowDragEnter folderDragEnter")},!0),window.addEventListener("drop",function(e){a.removeClass("windowDragEnter folderDragEnter")},!0),window.addEventListener("dragenter",function(e){var t;tH.currentFolder&&(!aek&&avH(tH.currentFolder.flag,"1")||"2"==NZ(tH.currentFolder))&&(t=e.dataTransfer.types?e.dataTransfer.types[0]:"",!bfw()&&!afv()&&t&&("Files"==t||"application/x-moz-file"==t||$("body").is(".safari")&&-1===t.indexOf("text"))&&($("#ddFoldername").text(tH.currentFolder.name||"My Files"),a.addClass("windowDragEnter"),e=$(e.target),o&&(o=null,clearInterval(o)),e.is("#main_list li.folder, .folderlist_content li")||0<e.parents("#main_list li.folder, .folderlist_content li").length?a.addClass("folderDragEnter"):o=setTimeout(function(){a.removeClass("folderDragEnter")},0)))},!0),window.addEventListener("dragleave",function(e){(e.pageX<=0||e.pageY<=0||!e.currentTarget||e.pageX>=a.outerWidth())&&a.removeClass("windowDragEnter folderDragEnter")},!0))}function amb(){$window.scroll(debounce(function(){bha||(aua(),window.tH.bkc=(new Date).getTime())},23)).resize(function(){aHF=bz(),aua()})}function aDA(a,o,n){return function(){var e,t;auO||(auO=!0,e=!UserEmail||UserEmail.length<=3,t="1"===aL("protrial_shown"),!window.MF_PRO_TRIAL_LIGHTBOX||fu||e||t||!a?(a&&blu("/templates/welcome/myfiles_welcome.php",895,570,{queue:!0}),o&&LoadIframeLightbox("/dynamic/template_popup.php?page=email_validation_lightbox",720,535,!1,!1,!0,!0)):(blu("/widgets/premium_trial.php",591,376),aY("protrial_shown","1"),window.addEventListener("message",function(e){if("https://checkout.mediafire.com"===e.origin)switch(e.data){case"mf-trial-close":LoadIframeLightbox("/templates/welcome/myfiles_welcome.php",895,570,!1,!1,!1,!1,!1);break;case"mf-trial-denied":LoadIframeLightbox("/templates/billing/cc_declined.html",591,376,!1,!1,!0,!1,!1)}},!1)),MYF_WIDGET_STORAGE_calculateUsedStoragePercent(n),MYF_WIDGET_STORAGE_updateStorageDisplay(),a||aek||0!==n||GLB_fSendToUploader("myfiles"))}}function bed(o,n){var r,i,e=new window.tH.aCa(window.aCQ||0),s=[],l=[],d=-1,c=-1,f=-1;e.beN({content_type:"folders"},function(e){if(e.response.folders)for(var t=0;t<e.response.folders.length;t++){var a=e.response.folders[t].folderkey;a&&s.push(a)}if(d=parseInt(e.response.folder_count,10)||0,-1!=c){if(f=d+c,$("#trash_restoreAll, #trash_deleteAll").toggle(0<f),$(".trashCan").text("Trash ("+f+" items)"),n)return r=e.response.folders,void 0===i?void 0:o({folders:r,files:i},f);o({folders:s.join(),files:l.join()},f)}}),e.beN({content_type:"files"},function(e){if(e.response.files)for(var t=0;t<e.response.files.length;t++){var a=e.response.files[t].quickkey;a&&l.push(a)}if(c=parseInt(e.response.file_count,10),-1!=d){if(f=d+c,$("#trash_restoreAll, #trash_deleteAll").toggle(0<f),$(".trashCan").text("Trash ("+f+" items)"),n)return i=e.response.files,void 0===r?void 0:o({folders:r,files:i},f);o({folders:s.join(),files:l.join()},f)}})}function beg(){var e=new window.tH.aCa(window.aCQ||0),t=-1,a=-1,o=-1;e.beN({data_only:"yes",content_type:"folders"},function(e){e.response&&(t=parseInt(e.response.folder_count,10)||0,-1!=a&&(o=t+a,$("#trash_restoreAll, #trash_deleteAll").toggle(0<o),$(".trashCan").text("Trash ("+o+" items)")))}),e.beN({data_only:"yes",content_type:"files"},function(e){e.response&&(a=parseInt(e.response.file_count,10),-1!=t&&(o=t+a,$("#trash_restoreAll, #trash_deleteAll").toggle(0<o),$(".trashCan").text("Trash ("+o+" items)")))})}function aTs(e,t){e&&t&&(auA=aTY(),aTU())}function aTK(e){e&&(LT(document.getElementById("container")),LT(document.getElementById("footer")))}function bfu(e){$("#loadingMessage").text(e||"Working..."),$("body").addClass("pageLoad")}function bek(){$("body").removeClass("pageLoad");try{void 0!==window.parent.$&&window.parent.$("#mfAppFrameLoading").fadeOut(500,function(){$(this).remove()})}catch(e){}}function Rn(e){if(!e||!e.data.resources&&!e.data.resource)return!1;var t=e.data.resources||e.data.resource;if(!tH.folders.yx(t))return!1;tH.yJ.asi(t,function(e){$("#folder-"+t).toggleClass("sharedByUser",e.response.folder_info.shared_by_user),$("#mffb-"+t).toggleClass("sharedByUser",e.response.folder_info.shared_by_user),e.response.folder_info.shared_by_user?($("#folder-"+t).addClass("sharedByUser"),$("#mffb-"+t).addClass("sharedByUser")):($("#folder-"+t).removeClass("sharedByUser"),$("#mffb-"+t).removeClass("sharedByUser"))})}function QZ(e){if(!e||0==e.length)return!1;aWc=tH.adq();e={session_token:aWc,response_format:"json",quick_key:e};$.getJSON("/api/1.4/user/set_avatar.php",e,function(){setTimeout(function(){$.getJSON("/api/1.4/user/get_avatar.php",{session_token:aWc,response_format:"json"},function(e){var t="",t=-1!==e.response.avatar.indexOf("gravatar.com")?e.response.avatar+"&"+aC(4):e.response.avatar+"?"+aC(4);window.parent.$(".appAvatar").css("background-image","url("+t+")"),Zi(0,"Successfully Set Avatar")})},1e3)}).fail(function(e){e&&e.responseText||Zi(0,"Error: Unknown Error.");var t=JSON.parse(e.responseText),e=t.error;Zi(0,"Error: "+t.message+" ("+e+")")})}function bnA(){var a,l=0,d=0,n=0,r=0,i=0,c=!0,s=0,f=["","",""],o=200,u=0;function p(e){u++;var t=[{r:1,css:{fontSize:15+Math.floor(20*Math.random())+"px",textShadow:"9999px 0 0 rgba(238, 238, 238, 0.5)"},v:2},{r:.6,css:{fontSize:50+Math.floor(20*Math.random())+"px",textShadow:"9999px 0 2px #eee"},v:6},{r:.2,css:{fontSize:90+Math.floor(30*Math.random())+"px",textShadow:"9999px 0 6px #eee"},v:12},{r:.1,css:{fontSize:150+Math.floor(50*Math.random())+"px",textShadow:"9999px 0 24px #eee"},v:20}],a=$('<span class="winternetz">'+f[Math.floor(Math.random()*f.length)]+"</span>").css({color:"#eee",display:"block",position:"fixed",background:"transparent",width:"auto",height:"auto",margin:"0",padding:"0",textAlign:"left",zIndex:9999});c&&a.css("textIndent","-9999px");for(var o=Math.random(),n=t.length,r=0;n--;)if(o<t[n].r){r=t[n].v,a.css(t[n].css);break}var i=-300+Math.floor(Math.random()*(l+300)),s=0,s=void 0!==e&&e?-300+Math.floor(Math.random()*(d+300)):-300;a.css({left:i+"px",top:s+"px"}),a.data("x",i),a.data("y",s),a.data("v",r),a.data("half_v",Math.round(.5*r)),$("body").append(a)}function h(){.8<Math.random()&&(s+=2*Math.random()-1,3<Math.abs(s)&&(s=s/Math.abs(s)*3));var e=(new Date).getTime(),t=e-a;a=e,t<55&&u<o?p():150<t&&($("span.winternetz:first").remove(),u--),$("span.winternetz").each(function(){var e=$(this).data("x"),t=$(this).data("y"),a=$(this).data("v"),o=$(this).data("half_v");t+=a,e+=Math.round(s*a),e+=-o+Math.round(Math.random()*a),n<e?e=-300:e<r&&(e=l),i<t?($(this).remove(),u--,p()):($(this).data("x",e),$(this).data("y",t),$(this).css({left:e+"px",top:t+"px"}),6<=a&&$(this).animate({rotate:"+="+o+"deg"},0))})}$(function(){function e(){l=$(window).width(),d=$(window).height(),n=l+300,r=-300,i=d+300}e(),$(window).resize(e),$("body").css("textShadow")||(c=!1);var t=50;for(;t--;)p(!0);a=(new Date).getTime(),setInterval(h,50)})}function du(e,t,a){for(var o="",n="",r=0;r<5;r++){o=0<r?r:"";(n=document.getElementById("sharedtabsfileinfo"+o+e+"-desc"))&&(n.innerHTML=t.replace(/"/g,"&#34;")),(n=document.getElementById("sharedtabsfileinfo"+o+e+"-tags"))&&(n.innerHTML=a.replace(/"/g,"&#34;"))}}function dL(e){for(var t=1;document.getElementById(e+t+"-1")&&t<=20;t++)ae("sharetabsfile"+t+"-",1),Xc(0,document.getElementById("sharetemplatefile"+t),t,"sharedtabsfileinfo"+t+"-")}function dT(e,t){var a=document.getElementById("preview_img");a&&(a.src="http://www.mediafire.com/conv/"+t+(e=4<e?4:e)+"g.jpg")}function Xc(e,t,a,o){if(!t)return!1;var n="";n=cY(n=hU[e],o,a),t.innerHTML=n}function ae(e,t){for(var a,o=1;a=document.getElementById(e+o);o++)a.className=o==t?"current":"sharetab"}function cW(e,t,a,o){var n=document.getElementById("uploaded_html_"+t+"41"),t=document.getElementById("uploaded_bbs_"+t+"42");n&&t&&(n.value="<a href='http://www.mediafire.com/view/"+o+"' target='_blank'><img src='http://www.mediafire.com/convkey/"+a.substr(0,4)+"/"+o+e+"g.jpg' border='0' alt='Simple, Free Image and File Hosting at MediaFire'></a>",t.value="[URL=http://www.mediafire.com/view/"+o+"][IMG]http://www.mediafire.com/convkey/"+a.substr(0,4)+"/"+o+e+"g.jpg[/IMG][/URL]")}function cY(e,t,a){e=e.replace(/#FILENAME#/g,document.getElementById(t+"fn").value);var o="",n="",n=""==document.getElementById(t+"desc").innerHTML?(o="<span style='color: #555'>No description entered</span>","No description entered"):(o=document.getElementById(t+"desc").innerHTML,document.getElementById(t+"desc").innerHTML);e=(e=(e=(e=e.replace(/#DESCRIPTION#/g,o.replace(/"/g,"&#34;"))).replace(/#DESCRIPTION_URL#/g,escape(n))).replace(/#DESCRIPTION_ORIG#/g,document.getElementById(t+"desc").innerHTML.replace(/"/g,"&#34;"))).replace(/#FILENUM#/g,a);a=document.getElementById(t+"tags").innerHTML;a=(a=a.replace(/&lt;/g,"<")).replace(/&gt;/g,">"),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/#TAGS_URL#/g,escape(a))).replace(/#TAGS_DISP#/g,a)).replace(/#IMGKEY#/g,document.getElementById(t+"imgkey").value)).replace(/#FILENAME#/g,document.getElementById(t+"fn").value)).replace(/#FILENAME_URL#/g,escape(document.getElementById(t+"fn").value))).replace(/#UPLOADDATE#/g,document.getElementById(t+"upload").value)).replace(/#FILESIZE#/g,document.getElementById(t+"fs").value)).replace(/#DOWNLOADS#/g,document.getElementById(t+"dls").value)).replace(/#TAGS#/g,document.getElementById(t+"tagorig").value.replace(/"/g,"&#34;"))).replace(/#RAND1#/g,aC(5))).replace(/#FILENUM#/g,db(1e3,3e3)),e=1==lB?(e=e.replace(/#SSL#/g,"s")).replace(/#URLKEY#/g,""):(e=e.replace(/#SSL#/g,""),r=aX(document.getElementById(t+"imgkey").value),(e=isNaN(r)?(e=e.replace(/#NOIMG_START#/g,"\x3c!--")).replace(/#NOIMG_END#/g,"--\x3e"):e).replace(/#URLKEY#/g,r));var r=document.getElementById(t+"show_cantbrowse");e=r&&1==r.value?e.replace(/#STYLE_CANTBROWSE#/g,""):e.replace(/#STYLE_CANTBROWSE#/g,"display: none");r=document.getElementById(t+"show_owner");e=r&&1==r.value?e.replace(/#STYLE_SHOWOWNER#/g,""):e.replace(/#STYLE_SHOWOWNER#/g,"display: none");r=document.getElementById(t+"show_download");e=r&&1==r.value?e.replace(/#STYLE_SHOWDOWNLOAD#/g,""):e.replace(/#STYLE_SHOWDOWNLOAD#/g,"display: none"),e=2==document.getElementById(t+"folder").value?13==(r=String(document.getElementById(t+"qk").value)).length?e.replace(/#QUICKKEY#/g,r):e.replace(/#QUICKKEY#/g,"sharekey="+r):e.replace(/#QUICKKEY#/g,document.getElementById(t+"qk").value),e=1==document.getElementById(t+"folder").value?(e=e.replace(/#STYLE_FILEONLY#/g,"")).replace(/#STYLE_NOTFILE#/g,"display: none"):(e=e.replace(/#STYLE_FILEONLY#/g,"display: none")).replace(/#STYLE_NOTFILE#/g,""),e=1==document.getElementById(t+"showpicture").value?(e=e.replace(/#STYLE_PICTURE#/g,"")).replace(/#STYLE_NOTPICTURE#/g,"display: none"):(e=e.replace(/#STYLE_NOTPICTURE#/g,"")).replace(/#STYLE_PICTURE#/g,"display: none"),e=1==document.getElementById(t+"showpicturebox").value?e.replace(/#STYLE_PICTUREBOX#/g,""):e.replace(/#STYLE_PICTUREBOX#/g,"display: none"),document.getElementById(t+"nonmyfiles")&&(e=1==document.getElementById(t+"nonmyfiles").value?e.replace(/#STYLE_HIDENONMYFILES#/g,"display: none"):e.replace(/#STYLE_HIDENONMYFILES#/g,"")),e=0==document.getElementById(t+"savemyfiles").value?e.replace(/#STYLE_SAVE#/g,""):e.replace(/#STYLE_SAVE#/g,"display: none"),e=1==document.getElementById(t+"editinfo").value?e.replace(/#STYLE_EDITINFO#/g,""):e.replace(/#STYLE_EDITINFO#/g,"display: none");t=document.getElementById(t+"showviewimage");return e=t&&1==t.value?e.replace(/#STYLE_VIEWIMAGE#/g,""):e.replace(/#STYLE_VIEWIMAGE#/g,"display: none"),e=(e=(e=1==UserLogin?e.replace(/#EMAILADDY#/g,UserEmail):e.replace(/#EMAILADDY#/g,"")).replace(/#NOIMG_START#/g,"")).replace(/#NOIMG_END#/g,"")}!function(a){zo=function(e,t){this.$PRG_oRoot=a(e);this.ahC=t,this.aiB="progress-current",this.ahU="progress-total",this.aih=function(){},this.ajd=!1,this.adH=100},zo.prototype.aiy=function(e,t,a){this.ajd=!1,a&&this.ajA(a),this.$PRG_oRoot.html('<p><span id="'+this.aiB+'">0</span> / <span id="'+this.ahU+'">0</span> '+this.aiY()+' &hellip;</p><div class="progressbar sm"><div id="progress-bar-filled"></div></div>'),t&&this.aiw(t),e?this.aje(e):this.aje(0)},zo.prototype.alq=function(e){this.adH=parseInt(e)},zo.prototype.alz=function(){return parseInt(this.adH)},zo.prototype.aia=function(e){e+=this.aiu();this.aje(Math.min(e,this.ajp()))},zo.prototype.aje=function(e){var t=this.ajp(),e=Math.max(Math.min(e,t),0);a("#"+this.aiB).text(e||0),a("#progress-bar-filled").css("width",Math.min(e/t*100||0,100)+"%"),(e==t||e/t*100>=this.adH)&&0<t&&!this.ajd&&(this.ajd=!0,this.aih.apply())},zo.prototype.aiu=function(){return parseInt(a("#"+this.aiB).text())||0},zo.prototype.aiw=function(e){a("#"+this.ahU).text(e||0)},zo.prototype.ajp=function(){return parseInt(a("#"+this.ahU).text())||0},zo.prototype.ajA=function(e){this.ahC=e},zo.prototype.aiY=function(){return this.ahC||""},zo.prototype.ajs=function(e){this.aih=e}}(jQuery);var fS=0,mk=0,nF=0,oG="",oN="",ov=10,nb=10;function CalendarSetup(){var e,t=new Date,a=t.getMonth()+1,o=t.getDate(),n=t.getFullYear(),r="",i="",r=a<10?"0"+a:""+a,i=o<10?"0"+o:""+o;(e=document.getElementById("input_time_end"))&&(e.value=n+"-"+r+"-"+i),t.setDate(t.getDate()-7),a=t.getMonth()+1,o=t.getDate(),n=t.getFullYear(),r=a<10?"0"+a:""+a,i=o<10?"0"+o:""+o,(e=document.getElementById("input_time_start"))&&(e.value=n+"-"+r+"-"+i),Calendar.setup({inputField:"input_time_end",ifFormat:"%Y-%m-%d",button:"input_time_end_trigger",weekNumbers:!1,iy:bbp}),Calendar.setup({inputField:"input_time_start",ifFormat:"%Y-%m-%d",button:"input_time_start_trigger",weekNumbers:!1,iy:bak})}function bbL(){for(var e=0,e=2;e<nb;e++)nd("report_contents"+e),DoHide("report_contents"+e)}function dj(e,t){var a=document.getElementById(e);a&&(1!=t&&(a.innerHTML=""),DoShow(e)),t?(e=document.getElementById("statswork"))&&(e.location?e.location=t:e.src=t):(DoAPopup("report_loading_popup",453,332),bbQ(),document.getElementById("customize_report_form").submit())}function bak(){var e=document.getElementById("input_time_start"),t=document.getElementById("time_start"),a=(new Date).getTime()-864e5*window.P7_iStartLimit,o=e.value.match(/(\d+)/g),n=new Date(o[0],o[1]-1,o[2]).getTime(),o=e.value+"";n<a&&(a=("0"+((n=new Date(a)).getMonth()+1)).slice(-2),o=("0"+n.getDate()).slice(-2),o=n.getFullYear()+"-"+a+"-"+o),e&&t&&(t.value=o,e.value=o)}function bbp(){var e=document.getElementById("input_time_end"),t=document.getElementById("time_end");e&&t&&(t.value=e.value+"")}function ao(e){var t=document.getElementById("stats_status_message");t?(t.className="show",t.innerHTML=e,document.getElementById("pagename")&&"myfiles"==document.getElementById("pagename").value&&Zi(0,e)):Zi(0,e)}function bbc(){var e=document.getElementById("stats_status_message");e&&(e.className="hide",e.innerHTML="")}function aO(e){var t;for(eh=1;document.getElementById("report_type_display_"+eh);eh++)t=document.getElementById("report_type_display_"+eh),eh==e?t.className="report_option_highlighted":t.className="report_option";(t=document.getElementById("report_type_preview_image"))&&(t.src="/images/bg/stats/"+e+"_preview.png"),t=document.getElementById("country"),(t=document.getElementById("query_type"))&&(t.value=e),bbh(fS=e),(t=document.getElementById("form_bandwidth_filter"))&&(t.className=3==fS?"hide":"show"),(t=document.getElementById("form_downloads_filter"))&&(t.className=3==fS?"hide":"show"),(t=document.getElementById("form_bandwidth_filter_fields"))&&(t.className=3==fS?"hide":"show"),(t=document.getElementById("form_downloads_filter_fields"))&&(t.className=3==fS?"hide":"show")}function aI(e){ah=document.getElementById("report_type_preview_image"),ah&&e!=mk&&(ah.src="/images/bg/stats/"+e+"_preview.png"),mk=e}function aR(e){var t;for(eh=1;document.getElementById("report_type_time_"+eh);eh++)t=document.getElementById("report_type_time_"+eh),eh==e?t.className="time_option_highlighted":t.className="time_option";(t=document.getElementById("date_range"))&&(t.className=4==e?"show":"hide"),t=document.getElementById("country"),(t=document.getElementById("time_fixed"))&&(t.value=e),nF=e}function azE(e,t,a,o,n,r,i){i?((i=new FusionMaps(e,"MapID",a,o,"0","0")).setTransparent(),i.setDataURL(escape(n)),i.render(r)):((o=new FusionCharts(e,t,a,o,"0","0")).setTransparent(),o.setDataURL(escape(n)),o.render(r))}function cz(e){var t=document.getElementById("country"),a=0,o=!1;if(!t||!hi)return!1;for(au(t)&&at(t),kP(t,"Any","",o=!!e),kP(t,"United States","US",o),hi.multiSort(1),a=2;hi[a];a++)o=!1,hi[a][1]==e&&(o=!0),kP(t,hi[a][0],hi[a][1],o)}function cC(e){var t=document.getElementById("region"),a=0,o=!1;if(!t||!bao)return!1;for(au(t)&&at(t),kP(t,"Any","",o=!!e),a=0;bao[a];a++)o=!1,bao[a][1]==e&&(o=!0),kP(t,bao[a][2],bao[a][1],o)}function qo(e,t,a){var o=!1,n=document.getElementById("bandwidth_type");n&&(au(n)&&at(n),kP(n,"Greater Than",1,o=1==e?!0:o),o=!1,kP(n,"Less Than",2,o=2==e?!0:o)),o=!1,(n=document.getElementById("bandwidth_amount"))&&(n.value=0<t?t:""),o=!1,(n=document.getElementById("bandwidth_multi"))&&(au(n)&&at(n),kP(n,"B",1,o=1==a?!0:o),o=!1,kP(n,"KB",2,o=2==a?!0:o),o=!1,kP(n,"MB",3,o=3==a?!0:o),o=!1,kP(n,"GB",4,o=4==a?!0:o)),o=!1}function aZY(e,t,a,o){var n=!1,r=document.getElementById("filesize_min_amount");r&&(r.value=0<e?e:""),(r=document.getElementById("filesize_min_multi"))&&(au(r)&&at(r),kP(r,"B",1,n=1==t?!0:n),n=!1,kP(r,"KB",2,n=2==t?!0:n),n=!1,kP(r,"MB",3,n=3==t?!0:n),n=!1,kP(r,"GB",4,n=4==t?!0:n)),n=!1,(r=document.getElementById("filesize_max_amount"))&&(r.value=0<a?a:""),(r=document.getElementById("filesize_max_multi"))&&(au(r)&&at(r),kP(r,"B",1,n=1==o?!0:n),n=!1,kP(r,"KB",2,n=2==o?!0:n),n=!1,kP(r,"MB",3,n=3==o?!0:n),n=!1,kP(r,"GB",4,n=4==o?!0:n)),n=!1}function baL(e){if(ah=document.getElementById("fileext"),!ah)return!1;ah.value=e||""}function cA(e,t){var a=!1,o=document.getElementById("download_type");o&&(au(o)&&at(o),kP(o,"Greater Than",1,a=1==e?!0:a),a=!1,kP(o,"Less Than",2,a=2==e?!0:a)),a=!1,(o=document.getElementById("download_amount"))&&(o.value=0<t?t:""),a=!1}function bbh(e,t,a){var o=!1,n=document.getElementById("sort_dir");if(n&&(au(n)&&at(n),kP(n,"Descending",1,o=1==a?!0:o),o=!1,kP(n,"Ascending",2,o=2==a?!0:o),o=!1),n=document.getElementById("sort_field"))switch(au(n)&&at(n),e){case"1":case 1:o=!1,kP(n,"Downloaders",1,o=1==t?!0:o),o=!1,kP(n,"Bandwidth",2,o=2==t?!0:o),o=!1,kP(n,"Transfers",3,o=3==t?!0:o),o=!1,kP(n,"File Name",4,o=4==t?!0:o),o=!1;break;case"2":case 2:o=!1,kP(n,"Downloaders",1,o=1==t?!0:o),o=!1,kP(n,"Bandwidth",2,o=2==t?!0:o),o=!1,kP(n,"Avg. File Size",3,o=3==t?!0:o),o=!1,kP(n,"Country",4,o=4==t?!0:o),o=!1;break;case"3":case 3:o=!1,kP(n,"Hits",1,o=1==t?!0:o),o=!1,kP(n,"Avg. File Size",3,o=2==t?!0:o),o=!1,kP(n,"Domain",4,o=3==t?!0:o),o=!1;break;case"4":case 4:o=!1,kP(n,"Downloaders",1,o=1==t?!0:o),o=!1,kP(n,"Bandwidth",2,o=2==t?!0:o),o=!1,kP(n,"Avg. File Size",3,o=3==t?!0:o),o=!1,kP(n,"File Type",4,o=4==t?!0:o),o=!1;break;default:return!1}}function cB(e){var t=!1,a=document.getElementById("num_rows");a&&(0<e||(e=10),au(a)&&at(a),kP(a,"10",10,t=10==e?!0:t),t=!1,kP(a,"20",20,t=20==e?!0:t),t=!1,kP(a,"35",35,t=35==e?!0:t),t=!1,kP(a,"50",50,t=50==e?!0:t))}function bcV(){cz(),cC(),qo(),aZY(),cA(),cB(),bbh(fS),baL()}function dB(){var e=document.getElementById("save_report_name");e&&(e.value="",DoShow("save_report_form"),DoHide("save_report_busy"),DoAPopup("save_stats_popup",500,180))}function dY(){var e,t=document.getElementById("saved_reports_list"),a=document.getElementById("statswork");t&&a&&(au(t)&&at(t),DoHide("load_report_form"),DoShow("load_report_busy"),DoAPopup("load_stats_popup",500,330),e="/dynamic/statistics.php?doviaget=1&report_list=1",a.location?a.location=e:a.src=e)}function dJ(e){var t,a=document.getElementById("statswork");return a&&(DoHide("load_report_form"),DoShow("load_report_busy"),t="/dynamic/statistics.php?doviaget=1&load_report="+e,a.location?a.location=t:a.src=t),!1}function dK(e){var t,a=document.getElementById("statswork");return a&&(DoHide("load_report_form"),DoShow("load_report_busy"),t="/dynamic/statistics.php?doviaget=1&delete_report="+e,a.location?a.location=t:a.src=t),!1}function dr(){var e=document.getElementById("save_report_name"),t=document.getElementById("statswork"),a="";e&&t?1<=e.value.length&&e.value.length<=60?(DoHide("save_report_form"),DoShow("save_report_busy"),a="/dynamic/statistics.php?doviaget=1&save_report=1&report_name="+escape(e.value),(e=document.getElementById("query_type"))&&e.value&&(a+="&query_type="+escape(e.value)),(e=document.getElementById("time_fixed"))&&e.value&&(a+="&time_fixed="+escape(e.value)),(e=document.getElementById("time_start"))&&e.value&&(a+="&time_start="+escape(e.value)),(e=document.getElementById("time_end"))&&e.value&&(a+="&time_end="+escape(e.value)),(e=document.getElementById("country"))&&e.value&&(a+="&country="+escape(e.value)),(e=document.getElementById("region"))&&e.value&&(a+="&region="+escape(e.value)),(e=document.getElementById("filesize_min_amount"))&&e.value&&(a+="&filesize_min_amount="+escape(e.value)),(e=document.getElementById("filesize_max_amount"))&&e.value&&(a+="&filesize_max_amount="+escape(e.value)),(e=document.getElementById("filesize_min_multi"))&&e.value&&(a+="&filesize_min_multi="+escape(e.value)),(e=document.getElementById("filesize_max_multi"))&&e.value&&(a+="&filesize_max_multi="+escape(e.value)),(e=document.getElementById("sort_field"))&&e.value&&(a+="&sort_field="+escape(e.value)),(e=document.getElementById("sort_dir"))&&e.value&&(a+="&sort_dir="+escape(e.value)),(e=document.getElementById("fileext"))&&e.value&&(a+="&fileext="+escape(e.value)),(e=document.getElementById("bandwidth_type"))&&e.value&&(a+="&bandwidth_type="+escape(e.value)),(e=document.getElementById("bandwidth_amount"))&&e.value&&(a+="&bandwidth_amount="+escape(e.value)),(e=document.getElementById("bandwidth_multi"))&&e.value&&(a+="&bandwidth_multi="+escape(e.value)),(e=document.getElementById("download_type"))&&e.value&&(a+="&download_type="+escape(e.value)),(e=document.getElementById("download_amount"))&&e.value&&(a+="&download_amount="+escape(e.value)),t.location?t.location=a:t.src=a):Zi(0,"Enter a report name before saving the report."):Zi(0,"Unable to save report, malformed HTML.")}function addwarning(){var e=document.getElementsByTagName("a");if(e)for(var t=0;t!=e.length;t++)"addToolTip"==e[t].className&&(e[t].setAttribute("tooltiptext",e[t].title),e[t].removeAttribute("title"),e[t].onmouseover=function(){eb(this.getAttribute("tooltiptext"))},e[t].onmouseout=function(){asZ()})}var offsetfromcursorX=-7,offsetfromcursorY=23,offsetdivfrompointerX=13,offsetdivfrompointerY=13;document.write('<div id="theToolTip"></div>');var tipobj,ie=document.all,ns6=document.getElementById&&!document.all,enabletip=!1;(ie||ns6)&&(tipobj=document.all?document.all.theToolTip:document.getElementById?document.getElementById("theToolTip"):"");var pointerobj=document.all?document.all.ToolTipPointer:document.getElementById?document.getElementById("ToolTipPointer"):"";function ietruebody(){return document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body}function eb(e,t,a){if(ns6||ie)return void 0!==t&&(tipobj.style.width=t+"px"),void 0!==a&&""!==a&&(tipobj.style.backgroundColor=a),tipobj.innerHTML=e,!(enabletip=!0)}function positiontip(e){var t,a,o,n,r;enabletip&&(t=!1,a=ns6?e.pageX:event.clientX+ietruebody().scrollLeft,o=ns6?e.pageY:event.clientY+ietruebody().scrollTop,n=ie&&!window.opera?ietruebody().clientWidth:window.innerWidth-20,r=ie&&!window.opera?ietruebody().clientHeight:window.innerHeight-20,n=ie&&!window.opera?n-event.clientX-offsetfromcursorX:n-e.clientX-offsetfromcursorX,r=ie&&!window.opera?r-event.clientY-offsetfromcursorY:r-e.clientY-offsetfromcursorY,e=offsetfromcursorX<0?-1*offsetfromcursorX:-1e3,n<tipobj.offsetWidth?(tipobj.style.left=a-tipobj.offsetWidth+"px",t=!0):a<e?tipobj.style.left="5px":(tipobj.style.left=a+offsetfromcursorX-offsetdivfrompointerX+"px",pointerobj.style.left=a+offsetfromcursorX+"px"),r<tipobj.offsetHeight?(tipobj.style.top=o-tipobj.offsetHeight-offsetfromcursorY+"px",t=!0):(tipobj.style.top=o+offsetfromcursorY+offsetdivfrompointerY+"px",pointerobj.style.top=o+offsetfromcursorY+"px"),tipobj.style.visibility="visible",pointerobj.style.visibility=t?"hidden":"visible")}function asZ(){(ns6||ie)&&(enabletip=!1,tipobj.style.visibility="hidden",pointerobj.style.visibility="hidden",tipobj.style.left="-1000px",tipobj.style.backgroundColor="",tipobj.style.width="")}function Tk(){document.onmousemove=positiontip,addwarning()}function ee(){if(title="MediaFire - Cloud storage for everyone.",url="http://www.mediafire.com",window.sidebar)window.sidebar.addPanel(title,url,"");else if(window.external)window.external.AddFavorite(url,title);else if(window.opera&&window.print)return alert("Sorry, your web browser does not support automatically adding Bookmarks/Favorites.  Press 'Ctrl-D' in Firefox or 'Ctrl-T' in Opera to manually bookmark MediaFire."),!0}!function(){function e(e,t,a,o){this.type=e,this.WF=t,this.Wm=a,this.auQ=o||!1,this.manifest={},this.atW=!0,this.memory={}}e.prototype.ave=function(){this.auQ=!0,window.localStorage&&localStorage.clear()},e.prototype.ats=function(){this.auQ=!1},e.prototype.auX=function(){this.atW=!1},e.prototype.yx=function(e){return e?this.memory[e]||void 0:(sizeOf(this.memory),this.memory)},e.prototype.auT=function(){return!(this.auq||!this.atW||!window.localStorage)&&(!!localStorage["manifest-"+this.type]&&(this.manifest=JSON.parse(localStorage["manifest-"+this.type]),!0))},e.prototype.atY=function(){return!(this.auq||!this.atW||!window.localStorage)&&(this.manifest=amJ(this.memory,1),!0)},e.prototype.atG=function(){return!(this.auq||!this.atW||!window.localStorage)&&(localStorage["manifest-"+this.type]=JSON.stringify(this.manifest),!0)},e.prototype.Yx=function(e,t){this.memory[e]=t},e.prototype.abg=function(e){this.memory[e]&&delete this.memory[e]},e.prototype.abE=function(){for(var e in this.memory)this.memory.hasOwnProperty(e)&&delete this.memory[e]},window.XV=e}(),function(l){function t(){}var d,c,f=45e3,u=3,p=new O(2),h=4e3,r=[],a={},i={},o=6048e5,n=null,m=null,g=!1,y={prev:"",count:0};function e(e,t){var a=this;if(t){for(;a!=a.parent&&(a=a.parent);)if(a===e)return!0;return!1}return e===this.parent}function w(e){e=e||o,null!=n&&(clearTimeout(n),n=null);var t=+new Date+e;n=setTimeout(function(){var e=+new Date;e<t?w(t-e):(dZ(),Zi(3,"Logging off due to inactivity..."),setTimeout(dS,2e3))},e)}function s(e){return"function"==typeof e?e:e&&e.success&&"function"==typeof e.success?e.success:function(){}}function v(e){return e&&e.error&&"function"==typeof e.error?e.error:i.error||function(){}}function b(e){var t={};return t.success=s(e),t.error=v(e),t}function _(e,t){this.filename="",this.created="",this.desc="",this.description="",this.tags="",this.note="",this.privacy="public",this.password_protected="no",this.size=0,this.downloads=0,this.flag=0,this.hash="",this.parent="",this.filetype="",this.image_status="ready",this.preview="no","string"==typeof e?this.quickkey=e:e&&l.extend(this,e),void 0!==t&&(void 0===t.files&&t.myfiles&&(t=t.myfiles,this.parent_name=t.name),(this.parent=t).files||(t.files={}),t.files[this.quickkey]=this)}function k(e,t){this.desc="",this.description="",this.tags="",this.created="",this.privacy="public",this.custom_url="",this.shared="",this.dropbox_enabled="",this.avatar="",this.parent="",this.owner_name="",this.file_count="0",this.flag=0,this.folder_count=0,this.total_folders=0,this.total_files=0,"string"==typeof e?this.folderkey=e:e&&l.extend(this,e),void 0!==t&&(this.parent=t),this.folders||(this.folders={}),this.files||(this.files={})}function x(e){this.session_token=e||d}function H(e){this.session_token=e||d}function C(){if(!UserEmail||UserEmail.length<=3)window.QS&&QS("Session Expired","Your session has expired. You will be logged out",[["ok","  OK  "]],function(){window.dS&&dS()});else if(!g&&0!=l("#modal_window_popup").length){if(g=!0,"http:"==window.top.location.protocol)return window.localStorage&&localStorage.clear(),void(top.location="/logout.php");blu("/templates/confirm/confirm_login.php",415,265,{hideCloseButton:!0,queue:!1,forceUserAction:!0,onLoadCallback:function(){l("#modal_msg_iframe")[0].contentWindow.bqJ=e},transparent:!1})}function e(e){d=e,"undefined"!=typeof beR&&beR(d),g=!1,p.Zl()}}function $(){}function S(){}function E(e){this.aCh=e||0}function I(e,t){return e.aag()-t.aag()}function F(){var e=aL(m);if(e)for(var t=JSON.parse(e),a=(new Date).getTime(),o=0;o<t.length;o++){var n=t[o],r=n.id.split("::");a-parseInt(r[1],10)<=18e4&&(L(n.options,n.priority,!1),T(n.id))}}function T(e){var t=aL(m);if(t)for(var a=JSON.parse(t),o=0;o<a.length;o++)if(a[o].id==e){a.splice(o,1),0<a.length?aU(m,JSON.stringify(a),300):baO(m);break}}_.Zo=function(e){return e instanceof _},_.YH=function(e,t){L(l.extend({type:"POST",url:"/api/1.4/file/delete.php?r="+aC(4),data:{quick_key:e}},b(t)),1,!0)},_.beo=function(e,t){L(l.extend({type:"POST",url:"/api/1.4/file/purge.php?r="+aC(4),data:{quick_key:e}},b(t)),1,!0)},_.aVK=function(a){var o={filename:a.filename,hash:a.hash,size:a.size,folder_key:a.folder_key,action_on_duplicate:a.duplicate||void 0,path:a.path||void 0,resumable:a.resumable?"yes":void 0,unit_size:a.unit_size||void 0,preemptive:"yes"};L({type:"POST",url:"/api/1.5/upload/check.php?r="+aC(4),data:o,success:function(t){var e="yes"!=t.response.file_exists||a.duplicate&&"skip"!==a.duplicate;a.instant&&t.response&&"yes"==t.response.hash_exists&&e?L({type:"POST",url:"/api/1.5/upload/instant.php?r="+aC(4),data:o,success:function(e){l.extend(t,e),a.callbacks.success&&a.callbacks.success(t)},error:a.callbacks.error||i.error||{}}):a.callbacks.success&&a.callbacks.success(t)},error:a.callbacks.error||i.error||{}})},_.adu=function(e,t,a,o,n){L({type:"POST",url:"/api/1.5/upload/instant.php?r="+aC(4),data:{filename:e,hash:t,size:a,folder_key:o},success:n.success||{},error:n.error||i.error||{}})},_.aad=function(e,t,a){e={quick_key:e};t&&(e.folder_key=t);try{gtag("event","move")}catch(e){}L(l.extend({type:"POST",url:"/api/1.4/file/move.php?r="+aC(4),data:e},b(a)),-2,!0)},_.aET=function(a,o,n){aXY(function(e){var t={quick_key:a};o&&(t.folder_key=o),d&&(t.session_token=d);try{gtag("event","copy")}catch(e){}L(l.extend({type:"POST",url:"/api/1.4/file/copy.php?r="+aC(4),data:t},b(n)),-2,!0)})},_.aUT=function(e,t,a){var n={keys:e,meta_only:"yes"};if(t)for(aMT in t)n[aMT]=t[aMT]?"yes":"no";d&&(n.session_token=d),L({type:"POST",url:"/api/1.4/file/zip.php?r="+aC(4),data:n,success:function(){n.response_format="json",n.meta_only="no";var e,t=l("<form>",{method:"post",action:"/api/1.4/file/zip.php?r="+aC(4),target:"zipdownload",style:"display: none"});for(e in n){var a=l("<input>",{name:e,value:n[e]});t.append(a)}var o=l("<input>",{type:"submit"});t.append(o),l(document.body).append(t),t.trigger("submit")},error:v(a)},-2,!0)},_.auY=function(e,t,a){e={quick_key:e};t&&"myfiles"!=t&&(e.folder_key=t),L(l.extend({type:"POST",url:"/api/1.4/file/copy.php?r="+aC(4),data:e},b(a)),-2,!0)},_.asi=function(e,o){var t="",t=l.isArray(e)?e.join():e;L({type:"POST",url:"/api/1.5/file/get_info.php?r="+aC(4),data:{quick_key:t},success:function(e,t,a){s(o).apply(this,[e,t,a])},error:v(o)})},_.prototype.WJ=function(e,t,a,o,n){a||(a=t,t={}),t.quick_key||(t.quick_key=this.quickkey),L(l.extend({url:e,data:t},b(a)),o,n)},_.prototype.avz=function(){return this.filename||""},_.prototype.WX=function(){return this.quickkey},_.prototype.Yw=function(o){var n=this;this.WJ("/api/1.5/file/get_info.php?r="+aC(4),{success:function(e,t,a){e&&(l.each(e.response.file_info,function(e,t){n[e]=t}),null===n.filename&&(n.filename="UNKNOWN FILE")),s(o).apply(this,[e,t,a])},error:v(o)})},_.prototype.aNW=function(e,t){t||(t=e,e={}),e.data=e.data||{},d&&(e.data.session_token=d);this.WJ("/api/1.4/file/one_time_key.php?r="+aC(4),e.data,{success:function(e){s(t).apply(this,[e.response])},error:v(t)})},_.prototype.aYV=function(t){this.WJ("/api/1.4/file/get_links.php?link_type=direct_download&r="+aC(4),{},{success:function(e){s(t).apply(this,[e.response])},error:v(t)})},_.prototype.MFAPI_GetLinks=function(e,t){t||(t=e,e={}),e.data=e.data||{};this.WJ("/api/1.4/file/get_links.php?r="+aC(4),e,{success:function(e){s(t).apply(this,[e.response])},error:v(t)})},_.MFAPI_ConfigureOneTimeKey=function(e,t,a){a||(a=t,t={}),t.data=t.data||{},t.data.token=e,t.url="/api/1.4/file/configure_one_time_key.php?r="+aC(4);t.success=function(e){s(a).apply(this,[e.response])},t.error=v(a),L(t)},_.prototype.YH=function(o){var e=o.error||i.error||!1;this.WJ("/api/1.4/file/delete.php?r="+aC(4),{},{success:function(e,t,a){(200==a.status?s:v)(o).apply(this,[e,t,a])},error:e},1,!0)},_.prototype.beo=function(o){var e=o.error||i.error||!1;this.WJ("/api/1.4/file/purge.php?r="+aC(4),{},{success:function(e,t,a){(200==a.status?s:v)(o).apply(this,[e,t,a])},error:e},1,!0)},_.prototype.aad=function(e,t){t||(t=e,e=null);t.error;try{gtag("event","move")}catch(e){}this.WJ("/api/1.4/file/move.php?r="+aC(4),{},b(t),1,!0)},_.prototype.aET=function(t,a){aXY(function(e){a||(a=t,t=null),d&&(data.session_token=d);a.error;try{gtag("event","copy")}catch(e){}this.WJ("/api/1.4/file/copy.php?r="+aC(4),{},b(a),1,!0)})},_.prototype.Yn=function(t,a){var o=this;if(this.WJ("/api/1.5/file/update.php?r="+aC(4),t,{success:function(e){t.filename&&(t.filename=t.filename.stripTags()),t.tags&&(t.tags=t.tags.stripTags()+""),t.description&&(t.description=t.description.stripTags()),l.extend(o,t),s(a).apply(this,arguments)},error:v(a)},1,!0),t.filename)try{gtag("event","rename")}catch(e){}},_.prototype.agq=function(e,t){e={from_quickkey:this.quickkey,to_quickkey:e};this.WJ("/api/1.5/file/update_file.php?r="+aC(4),e,t,1,!0)},_.prototype.aiV=function(e,t){this.WJ("/api/1.4/file/copy.php?r="+aC(4),{},e,1,!0)},_.prototype.MFAPI_UpdateFilePassword=function(e,t){e={quick_key:this.quickkey,password:e};this.WJ("/api/file/update_password.php?r="+aC(4),e,t,1,!0)},_.prototype.aax=function(e){this.Yn({privacy:"public"},e)},_.prototype.aaG=function(e){this.Yn({privacy:"private"},e)},_.prototype.Zt=function(){return"public"===this.privacy},_.prototype.abL=function(){return"private"===this.privacy},_.prototype.abQ=function(){return"yes"===this.password_protected},_.prototype.axV=function(){return aCf(this)},_.prototype.aFP=function(){return aGe(this)},_.prototype.abK=e,_.prototype.Zp=function(){for(var e=[],t=this;t!=t.parent&&(t=t.parent);)e.push(t);return e},_.prototype.aqD=function(e){var t=this.ajw(),e=e.ajw();if(t&&e){if(t.toLowerCase()!==e.toLowerCase())return!1}else if(t||e)return!1;return!0},_.prototype.ajw=function(){var e,t;return"string"==typeof this.filename&&(!!(e=this.filename.match(/\.[^.]+$/))&&(!!(t=e[0])&&t))},k.aaW=function(e){return e instanceof k},k.YH=function(e,t){L(l.extend({type:"POST",url:"/api/1.4/folder/delete.php?r="+aC(4),data:{folder_key:e}},b(t)),-2,!0)},k.beo=function(e,t){L(l.extend({type:"POST",url:"/api/1.4/folder/purge.php?r="+aC(4),data:{folder_key:e}},b(t)),-2,!0)},k.aad=function(e,t,a){(a=a||{}).success||(a.success=t,t=null);e={folder_key_src:e};t&&(e.folder_key_dst=t),e.folder_key_src,e.folder_key_dst;try{gtag("event","move")}catch(e){}L(l.extend({type:"POST",url:"/api/1.4/folder/move.php?r="+aC(4),data:e},b(a)),-2,!0)},k.aET=function(a,o,n){aXY(function(e){var t={folder_key_src:a};o&&(t.folder_key_dst=o),d&&(t.session_token=d);try{gtag("event","copy")}catch(e){}L(l.extend({type:"POST",url:"/api/1.4/folder/copy.php?r="+aC(4),data:t},b(n)),-2,!0)})},k.asi=function(e,o,t){var a="",a=l.isArray(e)?e.join():e;bkM=t?"yes":"no";L({type:"POST",url:"/api/1.4/folder/get_info.php?r="+aC(4),data:{folder_key:a,details:bkM},success:function(e,t,a){s(o).apply(this,[e,t,a])},error:v(o)},!1,!0)},k.prototype.avz=function(){return this.name||""},k.prototype.WX=function(){return this.folderkey},k.prototype.WJ=function(e,t,a,o,n){a||(a=t,t={}),t.data=t.data||{},t.data.folder_key||(t.data.folder_key=this.folderkey),l.extend(t,b(a)),L(l.extend({url:e},t),o,n)},k.prototype.Yw=function(e,n){n||(n=e,e={}),YU=e.data?e.data.recursive:"no";var r=this;r.folders||(r.folders={}),e.type="POST";this.WJ("/api/1.4/folder/get_info.php?r="+aC(4),e,{success:function(e,t,a){var o;e&&(r.etag=a.getResponseHeader("etag"),e.response.folder_info&&(o=e.response.folder_info,null===r.name&&(r.name="UNKNOWN FOLDER"),("undefined"==typeof SHARED||!SHARED&&o.flag)&&(r.shared=1==avH(o.flag,1)?"no":"yes"),l.each(o,function(e,t){"files"!=e&&"folders"!=e&&(r[e]=t)}),o.folders&&0<o.folders.length||o.files&&0<o.files.length?(r.Yy(o,"yes"===YU,!0),r.ZW(o.files)):e.empty_results=!0)),s(n).apply(this,arguments)},error:v(n)})},k.prototype.aEn=function(e,r,t){t||(t=r,r=e,e={});var i=this;i.folders||(i.folders={}),i.files||(i.files={});var a="/api/1.4/folder/get_content.php";"trash"===this.folderkey&&(a="/api/1.4/device/get_trash.php"),this.WJ(a+"?r="+aC(4),e,{success:function(e,t,a){var o,n=[];!e||(o=e.response&&"device/get_trash"===e.response.action?e.response:e.response.folder_content)&&(l.each(o,function(e,t){"files"!=e&&"folders"!=e&&"content_type"!=e&&(i[e]=t)}),(o.folders&&0<o.folders.length||o.files&&0<o.files.length)&&(o.folders&&(o.folderCount=o.folders.length,l.each(o.folders,function(e,t){"undefined"!=typeof SHARED&&SHARED||!t.flag||(o.folders[e].shared=avH(t.flag,1)?"no":"yes"),"yes"!=i.shared&&"child"!=i.shared||(o.folders[e].shared="child",o.folders[e].owner_name=i.owner_name),o.folders[e].parent_chunk=o.chunk_number,n.push(o.folders[e])}),i.Yy(o,!1,!1),"yes"!=o.more_chunks?i.folders_loaded=!0:i.folders_loaded=!1),o.files&&(l.each(o.files,function(e,t){o.files[e].parent_chunk=o.chunk_number,n.push(o.files[e])}),i.ZW(o.files),"yes"!=o.more_chunks?i.files_loaded=!0:i.files_loaded=!1),i[o.content_type+"_chunk"]=o.chunk_number),o[o.content_type]&&0!=o[o.content_type].length||(i[o.content_type+"_loaded"]=!0),o.content_type&&o.chunk_number&&(i[o.content_type+"_chunk"]=o.chunk_number)),s(r).call(this,i,n,e)},error:v(r)},t)},k.prototype.abT=function(n){var r=this;this.WJ("/api/1.4/folder/get_info.php?r="+aC(4),{success:function(e,t,a){var o;e&&(e.response.folder_info.note?(o=e.response.folder_info.note,r.note_subject=o.subject||"",r.note_description=o.description||""):(r.note_subject="",r.note_description="")),s(n).apply(this,arguments)},error:v(n)})},k.prototype.ZL=function(e){this.Yw({data:{recursive:"yes",folder_key:this.ZA()}},e)},k.prototype.ZA=function(){var t=[];return l.each(this.folders,function(e){t.push(e)}),t.join(",")},k.prototype.YS=function(e,o){var t=this;o||(o=e,e=!1);var a=t.aaf();"myfiles"!=t.folderkey?a<=h?t.Yw({data:{recursive:"yes"}},o):t.aag()<h?t.Yw({data:{recursive:"no"}},function(){var a;e&&(a=[],l.each(t.folders||[],function(e,t){t.aaf()>h?t.YS(!0,o):a.push(t)})),s(o).apply(this,arguments)}):t.Ze(0,h,a,function(){e&&l.each(t.folders||[],function(e,t){t.YS(!0,o)}),s(o).apply(this,arguments)}):l.each(t.folders||[],function(e,t){null!==t.folderkey&&t.YS(!0,o)})},k.prototype.Ze=function(e,t,a,o){var n=this,r={data:{recursive:"no",start:e,limit:t}};n.Yw(r,{success:function(){r.data.empty_result||a<=e+t?s(o).apply(this,arguments):n.Ze(e+t,t,a,o)},error:v(o)})},k.prototype.aaf=function(){var a=this.aag();return l.each(this.folders,function(e,t){a+=parseInt(t.aaf())}),a},k.prototype.YH=function(e){this.WJ("/api/1.4/folder/delete.php?r="+aC(4),{},e,-2,!0)},k.prototype.beo=function(e){this.WJ("/api/1.4/folder/purge.php?r="+aC(4),{},e,-2,!0)},k.prototype.aad=function(e,t){t||(t=e,e=null);var a={};e&&(a.folder_key_dst=e);try{gtag("event","move")}catch(e){}this.WJ("/api/1.4/folder/move.php?r="+aC(4),{data:a},t,-2,!0)},k.prototype.Yn=function(t,a){var o=this;if(this.WJ("/api/1.4/folder/update.php?r="+aC(4),{data:t},{success:function(e){t.foldername&&(t.name=t.foldername,delete t.foldername),delete t.privacy_recursive,t.description&&(t.description=t.description.stripTags()),l.extend(o,t),s(a).apply(o,arguments)},error:v(a)},1,!0),t.foldername)try{gtag("event","rename")}catch(e){}},k.prototype.aoo=function(e,t,a){a||(a=t,t=null);e={foldername:e};t&&(e.parent=t),this.WJ("/api/1.4/folder/create.php?r="+aC(4),{data:e},a,1,!0)},k.prototype.aET=function(a,o){aXY(function(e){var t={folder_key_src:this.folderkey};o||(o=a,a=null),a&&(t.folder_key_dst=a),d&&(data.session_token=d);o.error;try{gtag("event","copy")}catch(e){}this.WJ("/api/1.4/folder/copy.php?r="+aC(4),{},b(o),1,!0)})},k.prototype.aax=function(e,t){this.Yn({privacy:"public",privacy_recursive:e?"yes":"no"},t)},k.prototype.aaG=function(e,t){this.Yn({privacy:"private",privacy_recursive:e?"yes":"no"},t)},k.prototype.Zt=function(){return"public"===this.privacy},k.prototype.abL=function(){return"private"===this.privacy},k.prototype.aaM=function(){return!l.isEmptyObject(this.folders)||!l.isEmptyObject(this.files)},k.prototype.aag=function(e){var a=parseInt(this.file_count||0);return isNaN(a)&&(a=0),e&&l.each(this.folders,function(e,t){a+=t.aag(!0)}),a},k.prototype.MFAPI_FolderCount=function(e){var a=void 0!==this.folder_count?parseInt(this.folder_count,10)||0:parseInt(sizeOf(this.folders),10)||0;return isNaN(a)&&(a=0),e&&l.each(this.folders,function(e,t){a+=t.MFAPI_FolderCount(!0)}),a},k.prototype.MFAPI_ChildCount=function(){return this.aag()+this.MFAPI_FolderCount()},k.prototype.Yp=function(a,o){var n=this,e={foldername:a,parent_key:n.folderkey};"myfiles"===e.parent_key&&(e.parent_key="");L({url:"/api/1.4/folder/create.php?r="+aC(4),data:e,success:function(e){var t=e.response,t={name:a.stripTags(),folderkey:t.folder_key,created:t.created,privacy:t.privacy||"private",permissions:t.permissions};s(o).call(null,new k(t,n),e)},error:v(o)},1,!0);try{gtag("event","create_folder")}catch(e){}},k.prototype.CreateSubFile=function(e,t,a){var o=this,n={};e&&(n.filename=e),t&&(n.file_extension=t),o.folderkey&&"myfiles"!=o.folderkey&&(n.parent_key=o.folderkey),n.type="text";L({url:"/api/1.4/file/create.php?r="+aC(4),data:n,success:function(e){s(a).call(null,new _(e.response.fileinfo,o),e)},error:v(a)},1,!0)},k.prototype.aaL=function(){var a={};this.folders.constructor==Array&&(l.each(this.folders,function(e,t){a[t.folderkey]=t}),this.folders=a)},k.prototype.aaJ=function(){var a={};l.each(this.files,function(e,t){a[t.quickkey]=t}),this.files=a},k.prototype.awa=function(e){var a=this;l.each(e,function(e,t){"files"!=e&&"folders"!=e&&(a[e]=t)})},k.prototype.Yy=function(t,o,n){var r=this;o&&!n&&(r.folders={},r.files={}),r.folders&&r.folders.constructor==Array&&r.aaL(),r.files&&r.files.constructor==Array&&r.aaJ(),null===r.name&&(r.name="UNKNOWN FOLDER"),l.each(t.folders||{},function(e,a){r.folders||(r.folders={}),n&&r.folders[a.folderkey]&&r.folders[a.folderkey].constructor!=Object||(r.folders[a.folderkey]=new k(a,r)),l.each(a,function(e,t){"files"!=e&&"folders"!=e&&(r.folders[a.folderkey][e]=a[e]),"yes"==r.shared&&"child"==r.shared&&(r.folders[a.folderkey].shared="child")}),r.folders[a.folderkey].owner_name||(r.folders[a.folderkey].owner_name=r.owner_name),o&&r.folders[a.folderkey].Yy(t.folders[e],!0,n)}),t.files&&r.ZW(t.files)},k.prototype.ZW=function(e){var a=this;a.files||(a.files={}),l.each(e||{},function(e,t){t.quickkey&&(a.files[t.quickkey]=new _(t,a),a.files[t.quickkey].owner_name=a.owner_name,null===a.files[t.quickkey].filename&&(a.files[t.quickkey].filename="UNKNOWN FILE"),a.files[t.quickkey].preview=aCf(t)?"yes":"no")}),a.aaJ()},k.prototype.abK=e,k.prototype.Zp=function(){for(var e=[],t=this;t!=t.parent&&(t=t.parent);)e.push(t);return e},k.prototype.aHV=function(a){L({url:"/api/1.4/folder/get_depth.php?r="+aC(4),data:{folder_key:this.folderkey},success:function(e,t){s(a).call(null,e)}})},k.prototype.aaz=function(e){r.push(this),a[this.folderkey]=this,e&&l.each(this.folders,function(e,t){t.aaz(!0)})},k.prototype.aeo=function(){var a=(a=[]).concat(l.values(this.folders),l.values(this.files));return sizeOf(this.folders)&&l.each(this.folders,function(e,t){a=a.concat(t.aeo())}),a},k.prototype.aFG=function(e,a){L(l.extend({url:"/api/1.4/folder/search.php?r="+aC(4),success:function(e,t){s(a).call(null,e)},error:v(a)},e))},x.prototype.sB=function(e){L(l.extend({url:"/api/1.4/billing/get_invoice.php?r="+aC(4)},b(e)))},H.prototype.acA=function(o){L({url:"/api/1.4/user/renew_session_token.php?r="+aC(4),success:function(e,t,a){d=this.session_token||d,s(o).call(null,e)},error:function(e,t,a){l.getJSON("/dynamic/get_session_token.php?rand="+aC(5),function(e){e.session_token?(d=e.session_token,"undefined"!=typeof beR&&beR(d)):"user_logged_out"==e.error&&(p.aaU(!0),C())})}},-2)},H.prototype.aZf=function(e,t){var a=e.success;L(l.extend({type:"POST",url:"/api/1.4/user/fetch_tos.php?r="+aC(4),success:a,error:v(e)},t))},H.prototype.Yw=function(e){L(l.extend({url:"/api/1.4/user/get_info.php?r="+aC(4)},b(e)))},H.prototype.aFf=function(e,n){d&&(n||(n=e,e={}),L({url:"/api/1.4/folder/get_content.php?r="+aC(4),data:l.extend({content_type:"folders"},e),success:function(e,t,a){var o;e&&((o=new tH.yJ({name:"My Files",folderkey:"myfiles",created:"",etag:a.getResponseHeader("etag")})).folder_count=e.response.folder_content.folders.length,o.Yy(e.response.folder_content,!1),l.each(o.folders,function(e,t){0==parseInt(t.file_count)&&null===t.name&&(t.name="UNKNOWN FOLDER"),t.aaz(!0)}),r.sort(I)),s(n).call(null,o,e)},error:v(n)}))},H.prototype.aDZ=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/user/get_devices.php?r="+aC(4),success:s(t),error:v(t)},e))},H.prototype.aKH=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/user/link_facebook.php?r="+aC(4),success:s(t),error:v(t)},e))},H.prototype.boC=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/user/unlink_facebook.php?r="+aC(4),success:s(t),error:v(t)},e))},H.prototype.boq=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/user/link_twitter.php?r="+aC(4),success:s(t),error:v(t)},e))},H.prototype.bnE=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/user/unlink_twitter.php?r="+aC(4),success:s(t),error:v(t)},e))},H.prototype.aWB=function(e,t){d&&L({type:"POST",url:"/api/1.4/upload/set_options.php?r="+aC(4),data:e,success:s(t),error:v(t)},1,!0)},H.prototype.MFAPI_GetActionToken=function(e){d&&L({type:"POST",url:"/api/1.5/user/get_action_token.php?r="+aC(4),data:{type:"upload",lifespan:1440},success:s(e),error:v(e)})},H.prototype.aXn=function(e){d&&L({type:"POST",url:"/api/1.4/user/get_settings.php?r="+aC(4),success:s(e),error:v(e)})},H.prototype.lq=function(e,t){d&&L({type:"POST",url:"/api/1.4/user/set_settings.php?r="+aC(4),data:e,success:s(t),error:v(t)},1)},H.prototype.azo=function(e,t){d&&L({type:"POST",url:"/api/1.4/user/update.php?r="+aC(4),data:e,success:s(t),error:v(t)},1)},H.prototype.Vw=function(e,t){d&&L({type:"POST",url:"/api/1.4/upload/add_web_upload.php?r="+aC(4),data:e,success:s(t),error:v(t)})},H.prototype.Vu=function(e,t){d&&L({type:"POST",url:"/api/1.4/upload/get_web_uploads.php?r="+aC(4),data:e,success:s(t),error:v(t)})},$.Yw=function(e,r){r||(r=e,e={});L(l.extend({url:"/api/1.4/system/get_info.php?r="+aC(4),success:function(e,t,a){var o,n;e&&e.response&&(o=e.response,window.tH.configuration=o,window.tH.current_api_version=o.current_api_version,localStorage&&localStorage.current_api_version!=o.current_api_version&&(localStorage.user?(n=localStorage.user.split("_")[0]+"_"+o.current_api_version.replace(".","_"),localStorage.user=n,MYF_sUserEnc=n):MYF_sUserEnc&&(n=MYF_sUserEnc.split("_")[0]+"_"+o.current_api_version.replace(".","_"),localStorage.user=n,MYF_sUserEnc=n),localStorage.clear(),localStorage.current_api_version=o.current_api_version),delete window.tH.configuration.action,delete window.tH.configuration.result),s(r).call(null,e)}},e))},$.aIx=function(e){L(l.extend({url:"/api/1.4/system/get_version.php?r="+aC(4)},b(e)))},S.prototype.Sx=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/notifications/peek_cache.php?r="+aC(4),success:s(t),error:v(t)},e))},S.prototype.Uh=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/notifications/get_cache.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.bgL=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/get_status.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.hV=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/notifications/send_message.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.hH=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.5/device/share_resources.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.aQJ=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/request_foreign_resource.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.im=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/unshare_resources.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.hS=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/get_user_shares.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.jj=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/get_resource_shares.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.Qu=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/get_foreign_resources.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.Wh=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/toggle_foreign_resource_sync.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.aMs=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/set_foreign_resource_sync.php?r="+aC(4),success:s(t),error:v(t)},e))},E.prototype.beN=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/get_trash.php?r="+aC(4)+"&device_id="+this.aCh+"&data_only="+(e.data_only?"yes":"no")+(e.content_type?"&content_type="+e.content_type:""),success:s(t),error:v(t)},e))},E.prototype.MFAPI_EmptyTrash=function(e){L(l.extend({url:"/api/1.4/device/empty_trash.php?r="+aC(4),success:s(e),error:v(e)},{}))},E.prototype.bgS=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/device/get_changes.php?r="+aC(4)+"&device_id="+this.aCh+"&revision="+(e.revision||"0"),success:s(t),error:v(t)},e))},E.prototype.bx=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/file/recently_modified.php?r="+aC(4)+"&number_of_files="+(e.amount||"10"),success:s(t),error:v(t)},e))},E.prototype.aAe=function(e,t){t&&L({url:"/api/1.4/device/unfollow_resource.php?r="+aC(4),success:s(t),error:v(t),data:{resource:e}})};var B=null;function M(){new window.tH.aCa(window.aCQ).bgL(function(e){var t=!1;e.response&&"yes"==e.response.async_jobs_in_progress&&(t=!0),clearInterval(B),B=null,t?(bfu("Working..."),B=setTimeout(M,1e3)):(bek(),void 0!==FI&&FI(null,null,null,!0))})}function L(e,t,a,o){var n,r,i;e.data=e.data||{},void 0!==t&&!isNaN(t)||(t=1),a&&m?(n=aC(5)+"::"+(new Date).getTime(),l.extend(e,{complete:function(e){try{var t=JSON.parse(e.responseText);"yes"==t.response.asynchronous&&M(),104!=t.response.error&&105!=t.response.error&&T(n)}catch(e){}}}),r={id:n,options:e,priority:t},i=[],(i=(a=aL(m))?JSON.parse(a):i).push(r),aU(m,JSON.stringify(i),300)):l.extend(e,{complete:function(e){try{"yes"==JSON.parse(e.responseText).response.asynchronous&&M()}catch(e){}}}),d&&!1===e.url.indexOf("user/renew_session_token")&&!1===e.url.indexOf("folder/get_revision")&&w(),d&&(e.data.session_token=d),c&&(e.data.response_format=c),l.extend(e,{beforeSend:function(e){e.setRequestHeader("Cache-Control","no-cache")}}),t<0?-1==t?(p.aaU(),e.url&&(e.timeout=e.timeout||f,p.bhq(e)),p.Zl()):e.url&&(e.timeout=e.timeout||f,p.bhq(e)):p.aaS({WH:e,Yi:null,boi:o},t)}function O(e){this.YK=[],this.YW=[[],[],[]],this.YY=e||2}O.prototype.ZD=function(e,t){void 0!==t&&this.YW[t]||(t=1),this.YW[t].push(e)},O.prototype.aaS=function(e,t){this.ZD(e,t),this.Zl()},O.prototype.bhq=function(n){var r,o,i,e;n.url&&(r=this,o=n.success,i=n.error,(e=jQuery.extend(!0,{},n)).success=null,e.error=null,l.ajax(e).done(function(e,t,a){null===e||""==e||l.isEmptyObject(e)?r.aaS({WH:n,Yi:null},1):o&&o(e,t,a)}).fail(function(e,t,a){var o;"timeout"==t?r.aaS({WH:n,Yi:null},1):"error"==t&&((o=jQuery.parseJSON(e.responseText))&&100==o.response.error?r.aaS({WH:n,Yi:null},1):!o||104!=o.response.error&&105!=o.response.error?l.isFunction(i)&&i(e,t,a):l.getJSON("/dynamic/get_session_token.php?rand="+aC(5),function(e){e.session_token?(d=e.session_token,"undefined"!=typeof beR&&beR(d),r.aaU(),F()):"user_logged_out"==e.error&&(r.aaU(),C())}))}))},O.prototype.Zl=function(){if(g)this.aaU();else if(this.YK.length<this.YY){var n=2;if(0<this.YW[0].length?n=0:0<this.YW[1].length&&(n=1),0<this.YW[n].length){var o,r,e,i=this,s=i.YW[n].shift();if(y.prev==s.WH.url.substring(0,s.WH.url.indexOf("?"))?y.count++:(y.prev=s.WH.url.substring(0,s.WH.url.indexOf("?")),y.count=1,y.start=(new Date).getTime()),-1!=y.prev.indexOf("peek_cache")&&3<y.count){if((new Date).getTime()-y.start<3e4)return;y.count=1,y.start=(new Date).getTime()}i.YK.push(s),s&&s.WH.url&&(s.WH.timeout=s.WH.timeout||f,o=s.WH.success,r=s.WH.error,(e=jQuery.extend(!0,{},s.WH)).success=null,e.error=null,d&&e.data.session_token!=d&&(e.data.session_token=d),s.Yi=l.ajax(e).done(function(e,t,a){null===e||""==e||l.isEmptyObject(e)?!s.ajt||s.ajt<u?(s.ajt=s.ajt?s.ajt+1:1,i.aaS(s,n)):l.isFunction(r)&&r(e,t,a):o&&o(e,t,a)}).fail(function(e,t,a){if("timeout"==t)!s.ajt||s.ajt<u?(s.ajt=s.ajt?s.ajt+1:1,i.aaS(s,n)):l.isFunction(r)&&r(e,t,a);else if("error"==t){var o;try{o=jQuery.parseJSON(e.responseText)}catch(e){}o&&100==o.response.error?!s.ajt||s.ajt<u?(s.ajt=s.ajt?s.ajt+1:1,i.aaS(s,n)):l.isFunction(r)&&r(e,t,a):!o||104!=o.response.error&&105!=o.response.error?l.isFunction(r)&&r(e,t,a):l.getJSON("/dynamic/get_session_token.php?rand="+aC(5),function(e){e.session_token?(d=e.session_token,"undefined"!=typeof beR&&beR(d),i.aaU(),i.ZD(s,0),F()):"user_logged_out"==e.error&&(i.aaU(),i.ZD(s,0),C())})}}).always(function(){var e;l.isArray(i.YK)&&i.YK.length&&(-1!=(e=l.inArray(s,i.YK))&&i.YK.splice(e,1)),i.Zl()}))}else t.call(null)}},O.prototype.aaU=function(e,t){for(var a=[],o=0;o<this.YK.length;o++){var n=this.YK[o];n&&(t&&!n.boi||(n.Yi&&n.Yi.abort(),n.Yi=null,t&&a.push(o),!0!==e&&this.ZD(n,0)))}if(t)for(o=0;o<a.length;o++)this.YK.splice(a[o],1);else this.YK=[]};window.tH={Cp:_,yJ:k,cD:x,Dv:H,aCO:$,SU:S,aBS:function(e){this.session_token=e||d,this.aDt=function(e,t){t||(t=e,e={}),L(l.extend({url:"/api/1.4/contact/fetch.php?r="+aC(4),success:s(t),error:v(t)},e))},this.ZD=function(e,t){t||(t=e,e={}),e.timeout=9e4,L(l.extend({url:"/api/1.4/contact/add.php?r="+aC(4),success:s(t),error:v(t)},e),1,!0)},this.boU=function(e,t){t||(t=e,e={}),e.timeout=9e4,L(l.extend({url:"/api/1.4/contact/get_sources.php?r="+aC(4),success:s(t),error:v(t)},e),1,!0)}},aCa:E,YQ:function(e,t,a,o,n,r,i,s){d=e,c=a,o&&(f=o),n&&(u=n),r&&(h=r),i&&(window.tH.aaI=i),s&&(m=s),d&&w(),m&&F(),d&&M(),l(window).hashchange(function(){p.aaU(!1,!0)})},acq:i,agS:t,aAM:1e6,azm:20,adq:function(){return d||!1},aQQ:w}}(jQuery);var MFTOUR_sPreviousSlideHash=!1,MFTOUR_bIsAnimating=!1;function aow(e){e.bind("click",function(){e.removeClass("collapsed"),e.addClass("expanded");$("#main .bottom-area").offset().top;e.slideUp(1e3,"easeOutQuad"),$("#main .top-area").children().animate({opacity:"0"},500),$("#main .top-area").attr("prevBottom",$("#main .top-area").css("bottom")),$("#main .top-area").animate({bottom:"0"},1e3,"easeOutQuad",function(){e.unbind("click"),apq(e,!1)})})}function anE(e){$("#main .top-area").children().hide(),apq(e,!0)}function apq(t,a){$.ajax({url:"/tour/tour.php",method:"POST",success:function(e){$("#tour-content-container").append(e),alK(e),$("#tour-wrap").height($(window).height()).css({"margin-top":"100%"}),$("#tour-wrap").animate({"margin-top":"0%"},1e3,"easeOutExpo",function(){$(this).css({height:"auto"})}),$(".tour-hide").unbind("click").bind("click",function(e){return a&&$("#main .top-area").children().show(),$("#tour-wrap").animate({"margin-top":"100%",bottom:"-100%"},1e3,"easeOutExpo",function(){a||($("#main .top-area").animate({bottom:$("#main .top-area").attr("prevBottom")},1e3,"easeOutQuad",function(){$("#main .top-area").attr("style","")}).children().animate({opacity:"1"},500),t.slideDown(1e3,"easeOutQuad"),t.removeClass("expanded"),t.addClass("collapsed"),aow(t)),$(window).unbind(".tour-hash"),location.hash="noslide",$("body").removeClass("tour"),$("#tour-content-container").children().remove()}),e.stopPropagation(),e.preventDefault(),!1})}})}function alK(e){location.hash="slide1",MFTOUR_sPreviousSlideHash=null,$(window).bind("hashchange.tour-hash",function(){return"#noslide"==location.hash||""==location.hash?($(".tour-hide").trigger("click"),!1):MFTOUR_bIsAnimating?(location.hash=MFTOUR_sPreviousSlideHash,!1):!isNaN(parseInt(location.hash.replace("#","").replace("slide","")))&&(parseInt(location.hash.replace("#","").replace("slide",""))<1||parseInt(location.hash.replace("#","").replace("slide",""))>$("#tour-slides .slide").length?!(location.hash="slide1"):MFTOUR_sPreviousSlideHash?MFTOUR_sPreviousSlideHash!=location.hash&&(apE(location.hash,MFTOUR_sPreviousSlideHash),void(MFTOUR_sPreviousSlideHash=location.hash)):(MFTOUR_sPreviousSlideHash=location.hash,!1))}),"#slide1"!=location.hash||MFTOUR_sPreviousSlideHash||$(window).hashchange(),0<$("#tour").length&&$("#tour").show(),$(window).trigger("resize"),$("body").addClass("tour"),setTimeout(function(){$(".full #tour-nav, .condensed #tour-nav").animate({bottom:"0"},1e3,"easeOutExpo")},1e3),$("#tour-nav li.tour-icon a.current span").css({opacity:"1"});$("#tour-slide7 #signup-link").delegate("","click",function(){$(this).hide(),$(".basic-spinner").css({display:"block"})}),$("#tour-slide6").delegate("a#tour-slide6-trigger","click",function(e){return $("#tour-slide6-inner").animate({opacity:"0"},500,"easeOutExpo",function(){$("#tour-verticalslider").animate({"margin-top":"-280px"},500,"easeOutExpo",function(){$("#tour-companies-popup p, #tour-companies-popup a").css({display:"block"}),$("#tour-companies-popup p, #tour-companies-popup a").animate({opacity:"1"},500,"easeOutExpo")})}),e.stopPropagation(),e.preventDefault(),!1}).delegate("a#tour-slide6-close","click",function(e){$("#tour-companies-popup p, #tour-companies-popup a").animate({opacity:"0"},500,"easeOutExpo",function(){$("#tour-companies-popup p, #tour-companies-popup a").css({display:"none"}),$("#tour-verticalslider").animate({"margin-top":"0px"},500,"easeOutExpo",function(){$("#tour-slide6-inner").animate({opacity:"1"},500,"easeOutExpo")})}),e.stopPropagation(),e.preventDefault()}),$("#tour-slides").delegate("#tour-previous","click",function(e){return $("#tour-slides .slide.current").hasClass("firstslide")||MFTOUR_bIsAnimating||(location.hash="slide"+(parseInt($("#tour-slides .slide.current").index())-parseInt(1)-parseInt(1)),e.stopPropagation(),e.preventDefault()),!1}).delegate("#tour-next","click",function(e){return $("#tour-slides .slide.current").hasClass("lastslide")||MFTOUR_bIsAnimating||(location.hash="slide"+(parseInt($("#tour-slides .slide.current").index())-parseInt(1)+parseInt(1)),e.stopPropagation(),e.preventDefault()),!1})}function apE(e){var t=$("#tour-slides .slide.current"),a=t.index(),o=$("#tour-slides").find(".slide:eq("+(parseInt(e.replace("#","").replace("slide",""))-1)+")"),e=o.index();if(MFTOUR_bIsAnimating)return!1;MFTOUR_bIsAnimating=!0,o.css({left:(e<a?"-":"")+$(window).width()+"px"}).show(),o.addClass("current").animate({left:"0"},1e3,"easeOutExpo",function(){MFTOUR_bIsAnimating=!1}),t.removeClass("current").animate({left:(a<e?"-":"")+$(window).width()+"px"},1e3,"easeOutExpo",function(){$(this).hide()}),o.hasClass("firstslide")?$("#tour-previous").fadeOut():$("#tour-previous").fadeIn(),o.hasClass("lastslide")?$("#tour-next").fadeOut():$("#tour-next").fadeIn()}jQuery,$(document).keydown(function(e){"37"==e.keyCode&&$("body").hasClass("tour")&&(e.preventDefault(),$("#tour-previous").trigger("click")),"39"==e.keyCode&&$("body").hasClass("tour")&&(e.preventDefault(),$("#tour-next").trigger("click"))}),$("body").delegate(".tour-dropdown-from-top","click",function(e){var t=!1;return $("html, body").animate({scrollTop:0},500,"easeOutExpo",function(){var e;t||(t=!0,0==$("#titlebar").length&&$("#content_container #header").after($("<div/>",{id:"titlebar",class:"removeOnHide"})),$("#titlebar").attr("prevHeight",$("#titlebar").height()),e=$(window).height(),$(window).bind("resize.tour",function(){$("#titlebar").css({height:$(window).height()})}),$("#titlebar > *").animate({opacity:"0"},1e3,"easeOutExpo"),$(".footer").hide(),$("#main").animate({opacity:"0"},500,"easeOutExpo",function(){$(this).css({display:"none"}),$("body").css({overflow:"hidden"}),$("#titlebar").animate({height:e+"px"},1e3,"easeOutExpo",function(){$.ajax({url:"/tour/tour.php",method:"POST",success:function(e){$("body").append($("<div></div>",{id:"tour"}).append(e)),$("#tour .wrap .right .btn").hide(),$("#tour-wrap").css({height:$(window).height(),"margin-top":"100%"}).animate({"margin-top":"0"},1e3,"easeOutExpo",function(){$(this).css({height:"auto"})}),alK(e),t=!1}})})}))}),e.stopPropagation(),e.preventDefault(),!1}).delegate(".tour-hide","click",function(e){var t=parseInt($("#titlebar").attr("prevHeight"));$(window).height();return $("#titlebar").hasClass("removeOnHide")&&(t=0),location.hash="noslide",$("#tour-wrap").animate({"margin-top":"100%",bottom:"-100%"},1e3,"easeOutExpo",function(){$("#tour").remove(),$(".footer").show(),$("#main").show(),$("#titlebar").animate({height:t+"px"},1e3,"easeOutExpo",function(){$("body").removeClass("tour").css({overflow:"auto"}),$(window).unbind("resize.tour"),$("#titlebar").hasClass("removeOnHide")&&$("#titlebar").remove(),$("#main").animate({opacity:"1"},500,"easeOutExpo"),$("#titlebar > *").animate({opacity:"1"},1e3,"easeOutExpo")})}),$(window).unbind(".tour-hash"),e.stopPropagation(),e.preventDefault(),!1}).delegate(".tour-content","click",function(e){$("#tour-next").trigger("click")}),function(s){agi=function(e,t,a){a=a||{},this.$NVT_oRoot=s(e)||{},this.Wr=t||{},this.alS=(a.alS||"key").replace("data-",""),this.alM=a.alM||"nav-arrow",this.amm=a.amm||"nav-display-name",this.amc=a.amc||function(){}},agi.prototype.amQ=function(e){var a=this;e&&s(e).length&&(a.$NVT_oRoot=s(e)),a.$NVT_oRoot.undelegate("a."+a.alM,"click").delegate("a."+a.alM,"click",function(e){var t=s(this).closest("li").data(a.alS);return a.amg(t),aeV(e),!1})},agi.prototype.ami=function(e){return this.Wr[e]?"<ul>"+this.Wr[e].amf(this)+"</ul>":"<ul></ul>"},agi.prototype.amv=function(e){this.$NVT_oRoot&&this.$NVT_oRoot.html(this.ami(e))},agi.prototype.alQ=function(){s.each(this.Wr,function(e,t){t.amq="collapsed"})},agi.prototype.anu=function(e,t){t&&this.Wr[e]&&this.Wr[e].amy(t,this.$NVT_oRoot)},agi.prototype.amU=function(e){this.anu(e,"expanded")},agi.prototype.amx=function(e){this.anu(e,"collapsed")},agi.prototype.aFZ=function(e,t){var a=this.Wr[e];this.Wr&&a.ams&&this.Wr[a.ams]&&(delete this.Wr[a.ams].agd[e],a.ams=t,this.Wr[t].agd[e]=e)},agi.prototype.amF=function(e){e&&e.ams&&this.Wr[e.ams]&&(this.Wr[e.ams].agd[e.agV]=e.agV,this.Wr[e.agV]=e)},agi.prototype.alI=function(e){var t,a=this;!e||(t=a.Wr[e])&&(a.Wr&&t.ams&&a.Wr[t.ams]&&delete a.Wr[t.ams].agd[e],a.Wr&&e&&a.Wr[e]&&delete a.Wr[e],t&&delete t)},agi.prototype.amg=function(e){this.Wr[e].amj(this.$NVT_oRoot)},agi.prototype.amw=function(e){return this.Wr[e].ahs},agi.prototype.aml=function(e){var o=this;!function e(t){var a;t&&(t.amy("expanded",o.$NVT_oRoot),(a=o.Wr[t.ams])&&a!=t&&e(a))}(o.Wr[e])},alU=function(e){this.agV=(e=e||{}).agV||"",this.amB=e.amB||"",this.ahs=e.ahs||"collapsed",this.agd=e.agd||{},this.ams=e.ams||"",this.NTN_sDisplayClass=e.NTN_sDisplayClass||"",this.UU=e.UU||"no"},alU.prototype.amf=function(a){var t,o,n=this,e=!s.isEmptyObject(n.agd),r="yes"==n.UU||e,i='<li id="nav-'+n.agV+'" class="'+n.ahs+" "+n.NTN_sDisplayClass+'" data-'+a.alS+'="'+n.agV+'">';return r&&(i+='<a class="'+a.alM+'" href="javascript:void(0);"></a>'),i+='<a href="javascript:void(0);" class="'+a.amm+'" title="'+htmlspecialchars(n.amB)+'">'+htmlspecialchars(n.amB)+"</a><ul>",e&&(t=[],s.each(n.agd,function(e){this==tH.root.folderkey&&delete n.agd[tH.root.folderkey],t.push(a.Wr[e])}),s.each(t.sort((o="amB",function(e,t){try{return e[o].toLowerCase()<t[o].toLowerCase()?-1:1}catch(e){return 0}})),function(e,t){t&&(i+=t.amf(a))})),i+="</ul></li>"},alU.prototype.amj=function(e){"collapsed"==this.ahs?s.publish("folder/nav_expand",[this.agV]):s.publish("folder/nav_collapse",[this.agV]),this.amy("collapsed"==this.ahs?"expanded":"collapsed",e)},alU.prototype.amy=function(e,t){this.ahs=e||"collapsed",this.atb(t).removeClass("expanded").removeClass("collapsed").addClass(this.ahs)},alU.prototype.atb=function(e){return(e=e||s(document)).find("li#nav-"+this.agV)}}(jQuery),function(n){agX=function(e,t){this.$list=n(e=e||".folderlist_content"),this.amA=!1,this.anf=function(){},this.amK={},this.asf="",this.agY=new agi(e,{},{alS:"data-folderkey",alM:"folder_arrow",amm:"folder_name"})},agX.prototype.amn=function(e){this.amA=e},agX.prototype.amZ=function(){return this.amA},agX.prototype.ano=function(e){this.anf=e},agX.prototype.amO=function(){return this.anf},agX.prototype.amt=function(){return this.amA&&this.amA.constructor&&this.amA.apply&&this.amA.call?this.amA.call(this):this.asf},agX.prototype.ane=function(e){var t=this;e&&n(e).length&&(t.$list=n(e)),(t=this).anf.call(t),t.agY.amQ(e),t.$list.filter(":not(.selectable)").delegate("a.folder_name","click",function(e){return window.location.hash="#"+n(this).closest("li").data("folderkey"),!1})},agX.prototype.ang=function(){return this.amK.folderkey||"myfiles"},agX.prototype.amW=function(){var e=this;n.each(e.agY.Wr,function(){this.ams==this.agV&&(e.agY.Wr[this.agV].ams="myfiles")}),e.agY.amv(e.ang()),e.$list.filter(".droppable").find("a.folder_name").bind("draghover",function(e){var t=n(this).toggleClass("folder_highlight",e.enter),a=t.data("timeout");e.enter&&t.parent().hasClass("collapsed")?(a&&(clearTimeout(a),a=null),a=setTimeout(function(){t.parent().addClass("expanded").removeClass("collapsed"),n.publish("folder/nav_expand",[t.parent().data("folderkey")])},500),t.data("timeout",a)):a&&(clearTimeout(a),t.data("timeout",null))}),e.amT()},agX.prototype.amT=function(e,t){var a=e||this.amt();e&&!this.amA&&(this.asf=e),t||(this.agY.amU(this.ang()),this.agY.aml(a),this.$list.find(".current_folder_location").removeClass("current_folder_location").end().find("li#nav-"+(a||"")).addClass("current_folder_location"))},agX.prototype.aPN=function(e){this.agY.amU(e),this.agY.aml(e)},agX.prototype.ant=function(){this.agY.alQ(),this.agY.amg(this.ang()),this.agY.amv(this.ang()),this.amT()},agX.prototype.amN=function(e){var a=this;e instanceof Array?n.each(e,function(e,t){a.agY.alI(t)}):a.agY.alI(e),a.amW()},agX.prototype.amr=function(e,t){e=new alU({agV:e.folderkey,amB:e.name,agd:amJ(e.folders)||{},ams:e.parent.folderkey,NTN_sDisplayClass:"no"==e.shared||""==e.shared||SHARED?"":"nav-linked-folder folder_name",UU:0<parseInt(e.folder_count,10)?"yes":"no"});this.agY.amF(e),t||this.amW()},agX.prototype.ann=function(e,a){var o=this;"string"==(typeof e).toLowerCase()?o.agY.aFZ(e,a):"object"==typeof e&&e.length&&n.each(e,function(e,t){o.agY.aFZ(t,a)}),o.amW()},agX.prototype.ans=function(e,t){this.amr(e,t)},agX.prototype.apG=function(){var e=n("#folderTree .folderlist_content ul"),t=this.$list.outerHeight(),e=e.outerHeight();n("#folderTree .indicator-down").css({top:t+10}),e<=t?(n("#folderTree .indicator-up").hide(),n("#folderTree .indicator-down").hide()):0==this.$list.scrollTop()?(n("#folderTree .indicator-up").hide(),n("#folderTree .indicator-down").show()):this.$list.scrollTop()>=e-t?(n("#folderTree .indicator-up").show(),n("#folderTree .indicator-down").hide()):(n("#folderTree .indicator-up").show(),n("#folderTree .indicator-down").show())}}(jQuery),function(g){asR=function(e,t,a,o,n){var r=this;if(r.atw=t,r.auS=a,r.atx=o,r.atB=e,r.aty=n,r.aTA=!1,!window.tH||!window.tH.Cp||!window.tH.yJ)return!1;t||r.atB.Yw(function(e){"Success"==e.response.result&&(r.aTA=0==avH(e.response.user_info.options,20),tH.user_info=e.response.user_info)}),window.tH.Cp.WF=function(e){e=g.extend(!0,{},e);return e.parent=e.parent&&e.parent.folderkey,JSON.stringify(e)},window.tH.Cp.Wm=function(e){try{var t=JSON.parse(e);return new window.tH.Cp(t)}catch(e){return!1}},window.tH.yJ.WF=function(e){e=g.extend(!0,{},e);return e.parent=e.parent&&e.parent.folderkey,e.folders=g.map(g.values(e.folders),function(e){return e.folderkey}),e.files=g.map(g.values(e.files),function(e){return e.quickkey}),JSON.stringify(e)},window.tH.yJ.Wm=function(e){try{var t=JSON.parse(e);return folderext=new window.tH.yJ(t),folderext}catch(e){return!1}},window.tH.folders=new XV("folder",window.tH.yJ.WF,window.tH.yJ.Wm,t||n),window.tH.files=new XV("file",window.tH.Cp.WF,window.tH.Cp.Wm,t||n)},asR.prototype.auk=function(){atg=this,atg.aty=!0,window.tH.folders.ave(),window.tH.files.ave()},asR.prototype.ZR=function(){atg=this,atg.auS=(new Date).getTime()},asR.prototype.adF=function(){return!!this.atw||(acY=(new Date).getTime(),!this.aTA&&acY-this.auS>this.atx?(QU(),LoadIframeLightbox("/templates/confirm/confirm_login.php",415,265,!1,!1,!0,!1,!1,function(){dZ(),g("#modal_msg_iframe").unbind("load.LoadIframeLightbox")}),!1):(this.ZR(),!0))},asR.prototype.ahG=function(e){var t;!e||(t=window.tH.files.yx(e))&&t.quickkey&&((t=t.parent)&&(t.file_count--,t.files&&t.files[e]&&delete t.files[e],tH.folders.Yx(t.folderkey,t)),window.tH.files.abg(e))},asR.prototype.Zs=function(n,r){var i=this,s=arguments.callee;if(i.adF()){s.onBefore&&s.onBefore.call(i,n,r);var e=[],t=[];if(n){for(var a=n.split(","),o=0;o<a.length;o++)(l=tH.files.yx(a[o]))&&l.delete_date&&(e.push(a[o]),a.splice(o,1));n=a.join()}if(r){for(var l,d=r.split(","),o=0;o<d.length;o++)(l=tH.folders.yx(d[o]))&&l.delete_date&&(t.push(d[o]),d.splice(o,1));r=d.join()}(0<e.length||0<t.length)&&i.bet(e.join(),t.join(),!1),n&&window.tH.Cp.YH(n,{success:function(e,t,a){var o=[];g.each(n.split(","),function(e,t){var a=window.tH.files.yx(t);a&&o.push(a),i.ahG(t)}),e.response&&i.ato(e.response.myfiles_revision),s.onSuccess&&s.onSuccess.call(i,o,"")},error:function(){window.localStorage&&localStorage.clear(),s.onError&&s.onError.call(i,n,""),Zi(0,"There was a problem while deleting the file(s).")}}),r&&window.tH.yJ.YH(r,{success:function(e,t,a){var o=[];g.each(r.split(","),function(e,t){var a=window.tH.folders.yx(t);a&&(o.push(a),window.tH.folders.abg(t),a.parent&&a.parent.folders&&a.parent.folders[t]&&delete a.parent.folders[t],a.parent.folder_count=Math.max(0,(parseInt(a.parent.folder_count,10)||0)-1),void 0!==a.total_folders&&(a.total_folders=Math.max(0,parseInt(a.total_folders)-1)),window.tH.folders.Yx(a.parent.folderkey,a.parent))}),e.response&&i.ato(e.response.myfiles_revision),s.onSuccess&&s.onSuccess.call(i,"",o)},error:function(){window.localStorage&&localStorage.clear(),s.onError&&s.onError.call(i,"",r),Zi(0,"There was a problem while deleting the folder(s).")}})}},asR.prototype.bet=function(n,r,e,t){var a,o,i,s=this,l=arguments.callee;s.adF()&&(a=function(){l.onBefore&&l.onBefore.call(s,n,r),n&&window.tH.Cp.beo(n,{success:function(e,t,a){var o=[];g.each(n.split(","),function(e,t){var a=window.tH.files.yx(t);a&&o.push(a),s.ahG(t)}),e.response&&s.ato(e.response.myfiles_revision),l.onSuccess&&l.onSuccess.call(s,o,"")},error:function(){window.localStorage&&localStorage.clear(),l.onError&&l.onError.call(s,n,""),Zi(0,"There was a problem while purging the file(s).")}}),r&&window.tH.yJ.beo(r,{success:function(e,t,a){var o=[];g.each(r.split(","),function(e,t){var a=window.tH.folders.yx(t);a&&(o.push(a),window.tH.folders.abg(t),a.parent&&a.parent.folders&&a.parent.folders[t]&&delete a.parent.folders[t],a.parent.folder_count=Math.max(0,(parseInt(a.parent.folder_count,10)||0)-1),void 0!==a.total_folders&&(a.total_folders=Math.max(0,parseInt(a.total_folders)-1)),window.tH.folders.Yx(a.parent.folderkey,a.parent))}),e.response&&s.ato(e.response.myfiles_revision),l.onSuccess&&l.onSuccess.call(s,"",o)},error:function(){window.localStorage&&localStorage.clear(),l.onError&&l.onError.call(s,n,""),Zi(0,"There was a problem while purging the folder(s).")}})},e?(o=(0<n.length?n.split(",").length:0)+(0<r.length?r.split(",").length:0))<1||(i=(0==n.length?"Folder":0==r.length?"File":"Item")+(1<o?"s":""),QS(t?"Empty Trash":"Delete "+i,"Are you sure you want to permanently delete "+(1<o?"these "+o+" ":"this ")+i.toLowerCase()+"?",[["yes","Yes"],["no","No","gbtnPrimary"]],function(e){"yes"==e&&a()})):a())};var u=!(asR.prototype.MYF_mEmptyTrash=function(e,t){var a,o=this,n=arguments.callee;o.adF()&&(a=function(){n.onBefore&&n.onBefore.call(o,quickkeys,Bz),new window.tH.aCa(e||0).MFAPI_EmptyTrash({success:function(e,t,a){e.response&&e.response.myfiles_revision&&o.ato(e.response.myfiles_revision),n.onSuccess&&n.onSuccess.call(o)},error:function(){n.onError&&n.onError.call(o),Zi(0,"There was a problem while emptying trash.")}})},t?QS("Empty Trash","Are you sure you want to permanently delete all the items in your trash?",[["yes","Yes"],["no","No","gbtnPrimary"]],function(e){"yes"==e&&a()},[600]):a())});asR.prototype.YO=function(s,l,d){var c=this,f=arguments.callee;if(!u&&c.adF()){"myfiles"===d&&(d=null);var a,o,e=window.tH.folders.yx(d)?window.tH.folders.yx(d):Xb.aQm[d],t=0;if(e.permissions&&(t=NZ(e)),d&&"myfiles"!=d&&"no"!=e.shared&&""!=e.shared&&2!=t)Zi(0,"You cannot move items into a linked folder.");else{if(-1!==document.getElementById("container").className.indexOf("collabmode")&&((t=new tH.yJ("myfiles")).folderkey="myfiles",t.name="My Files",t.files=[],t.folders=[],window.tH.folders.Yx("myfiles",t)),s){var n,r=window.tH.files.yx(s.split(",")[0]);if(!(n=e)||!r)return f.onError&&f.onError.call(c,s,"",d),void Zi(0,"There was a problem while attempting to move a file.");if(r.parent&&r.parent.folderkey==n.folderkey)return;f.onBefore&&f.onBefore.call(c,s,"",e),u=!0,tH.Cp.aad(s,d,{success:function(a){var o,n,r=window.tH.folders.yx(d||"myfiles"),i=[];g.each(s.split(","),function(e,t){(o=window.tH.files.yx(t))&&(i.push(o),(n=o.parent).files&&n.files[t]&&delete n.files[t],n.file_count=parseInt(n.file_count)-1,n&&void 0!==n.total_files&&(n.total_files=Math.max(0,parseInt(n.total_files)-1)),r&&void 0!==r.total_files&&(r.total_files=Math.max(0,parseInt(r.total_files)+1)),n.file_count<0&&(n.file_count=0),n.files&&n.files[t]&&delete n.files[t],r?(r.file_count=parseInt(r.file_count)+1,r.files||(r.files={}),(r.files[t]=o).parent=r,window.tH.folders.Yx(r.folderkey,r),window.tH.folders.Yx(n.folderkey,n),window.tH.currentFolder&&window.tH.currentFolder.folderkey==r.folderkey&&(window.tH.currentFolder=r)):r=Xb.aQm[d],a.response.new_names&&a.response.new_names["file_"+t]&&(o.filename=a.response.new_names["file_"+t]),window.tH.files.Yx(o.quickkey,o),window.tH.currentFolder&&window.tH.currentFolder.folderkey==n.folderkey&&(window.tH.currentFolder=n))}),c.ato(a.response.myfiles_revision),l.length||(u=!1,f.onSuccess&&f.onSuccess.call(c,i,n,r))},error:function(e,t,a){window.localStorage&&localStorage.clear();var o="",n="";if("abort"!=t&&e.responseText){try{o=JSON.parse(e.responseText)}catch(e){}o&&(n=o.response.error.toString())}destination=window.tH.folders.yx(d||"myfiles"),g.each(s.split(","),function(e,t){t=window.tH.files.yx(t);Zi(0,"114"==n?"You do not have write permissions to move "+t.filename+" into the folder "+destination.name+".":"There was a problem while attempting to move "+t.filename+".")}),l.length||(u=!1),f.onError&&f.onError.call(c,s,"",d)}})}l&&(r=window.tH.folders.yx(l.split(",")[0])?window.tH.folders.yx(l.split(",")[0]):Xb.aQm[l.split(",")[0]],(n=e)&&r?e.folderkey&&l.match(e.folderkey)||(r.parent&&r.parent.folderkey==n.folderkey||r.folderkey==n.folderkey?Zi(0,"There was a problem while attempting to move a folder."):(f.onBefore&&f.onBefore.call(c,"",l,e),o=[],a=!0,o=function e(t,a){return(t instanceof tH.yJ||t instanceof auj.aZG)&&void 0!==t.parent&&void 0!==t.parent.folderkey?(a.push(t.folderkey),e(t.parent,a)):a}(n,[]),g.each(l.split(","),function(e,t){-1!=g.inArray(t,o)&&(a=!1)}),!1!==a?(u=!0,tH.yJ.aad(l,d,{success:function(a){var o,n,r=window.tH.folders.yx(d||"myfiles")?window.tH.folders.yx(d||"myfiles"):Xb.aQm[d||"myfiles"],i=[];g.each(l.split(","),function(e,t){(o=window.tH.folders.yx(t))&&(i.push(o),(n=o.parent||window.tH.folders.yx(o.parent_folderkey)).folders&&n.folders[t]&&delete n.folders[t],n.folder_count=Math.max(0,(parseInt(n.folder_count,10)||0)-1),r?(r.folders[t]=o,r.folder_count=(parseInt(r.folder_count,10)||0)+1,o.parent=r,window.tH.folders.Yx(r.folderkey,r),window.tH.currentFolder&&window.tH.currentFolder.folderkey==r.folderkey&&(window.tH.currentFolder=r)):r=Xb.aQm[d],n.total_folders=Math.max(0,(parseInt(n.total_folders,10)||0)-1),r.total_folders=Math.max(0,(parseInt(r.total_folders,10)||0)+1),a.response.new_names&&a.response.new_names["folder_"+t]&&(o.name=a.response.new_names["folder_"+t]),window.tH.folders.Yx(o.folderkey,o),window.tH.folders.Yx(n.folderkey,n),window.tH.currentFolder&&window.tH.currentFolder.folderkey==n.folderkey&&(window.tH.currentFolder=n))}),a.response.myfiles_revision&&c.ato(a.response.myfiles_revision),u=!1,f.onSuccess&&f.onSuccess.call(c,i,n,r)},error:function(e,t,a){window.localStorage&&localStorage.clear();var o="",n="";if("abort"!=t&&e.responseText){try{o=JSON.parse(e.responseText)}catch(e){}o&&(n=o.response.error.toString())}destination=window.tH.folders.yx(d||"myfiles"),g.each(l.split(","),function(e,t){t=window.tH.folders.yx(t);Zi(0,"114"==n?"You do not have write permissions to move "+t.name+" into the folder "+destination.name+".":"There was a problem while attempting to move "+t.name+".")}),u=!1,f.onError&&f.onError.call(c,"",l,d)}})):Zi(0,"There was a problem attempting to move a folder."))):Zi(0,"There was a problem while attempting to move a folder."))}}},asR.prototype.aFI=function(i,s,l){var d,c=this,f=arguments.callee;if(c.adF()){if(MAL_sAPIDest="myfiles"===l?null:l,d=window.tH.folders.yx(l),"myfiles"!=l&&""!=d.shared&&"no"!=d.shared)if(2!=NZ(d))return void Zi(0,"You cannot copy items into a linked folder.");-1!==document.getElementById("container").className.indexOf("collabmode")&&((t=new tH.yJ("myfiles")).folderkey="myfiles",t.name="My Files",t.files=[],t.folders=[],window.tH.folders.Yx("myfiles",t));var e=[],t=[],u=[],p=[];i&&(-1!=i.indexOf(",")?e=i.split(","):e.push(i)),s&&(-1!=s.indexOf(",")?t=s.split(","):t.push(s));t=window.tH.folders.yx(l);if(i){var h=window.tH.files.yx(i.split(",")[0]);if(!t||!h)return f.onError&&f.onError.call(c,i,"",l),void Zi(0,"There was a problem while attempting to copy a file. --- !!!");f.onBefore&&f.onBefore.call(c,i,"",d),tH.Cp.aET(i,MAL_sAPIDest,{success:function(t){var a,o=h.parent,n=window.tH.folders.yx(l||"myfiles"),r=[];g.each(i.split(","),function(e,t){(a=window.tH.files.yx(t))&&r.push(a)}),0<t.response.new_quickkeys.length&&window.tH.Cp.asi(t.response.new_quickkeys.join(),function(e){function a(e){d&&void 0!==d.total_files&&(d.total_files=Math.max(0,parseInt(d.total_files)+1)),d.files[e.quickkey]=e,d.file_count=parseInt(d.file_count)+1,e.parent=d,window.tH.files.Yx(e.quickkey,e),window.tH.folders.Yx(d.folderkey,d),p.push(e)}e.response&&(e.response.file_info&&a(new window.tH.Cp(e.response.file_info,d)),e.response.file_infos&&g.each(e.response.file_infos,function(e,t){a(new window.tH.Cp(t,d))}),c.ato(t.response.myfiles_revision),s||f.onSuccess&&f.onSuccess.call(c,r,p,o,n))})},error:function(e,t,a){window.localStorage&&localStorage.clear();var o="",n="";if("abort"!=t&&e.responseText){try{o=JSON.parse(e.responseText)}catch(e){}o&&(n=o.response.error.toString())}var r=window.tH.folders.yx(l||"myfiles");g.each(i.split(","),function(e,t){var a=window.tH.files.yx(t);"114"==n?Zi(0,"You do not have write permissions to copy "+a.filename+" into the folder "+r.name+"."):"162"==n?(new window.tH.Dv).aXn(function(e){e=e.response.settings;e?Ni(a.size,e.storage_limit,e.used_storage_size,!0,e.storage_limit_exceeded):Zi(0,"The file  "+a.filename+" exceeded your total storage limit.")}):Zi(0,"There was a problem while attempting to copy "+a.filename+".")}),f.onError&&f.onError.call(c,i,"",l)}})}if(s){var m=window.tH.folders.yx(s.split(",")[0]);if(!t||!m)return f.onError&&f.onError.call(c,s,"",l),void Zi(0,"There was a problem while attempting to copy a file. --- !!!");f.onBefore&&f.onBefore.call(c,s,"",d),tH.yJ.aET(s,MAL_sAPIDest,{success:function(t){var a,o=m.parent,n=window.tH.folders.yx(l||"myfiles"),r=[];g.each(s.split(","),function(e,t){a=window.tH.folders.yx(t),r.push(a)}),0<t.response.new_folderkeys.length&&window.tH.yJ.asi(t.response.new_folderkeys.join(),function(e){function a(e){void 0!==n.total_folders&&(n.total_folders=Math.max(0,parseInt(n.total_folders)+1)),n.folders[e.folderkey]=e,n.folder_count=(parseInt(n.folder_count,10)||0)+1,e.parent=n,window.tH.folders.Yx(e.folderkey,e),window.tH.folders.Yx(n.folderkey,n),u.push(e),g.publish("folder/add",[e,n])}e.response&&(e.response.folder_info&&a(new window.tH.yJ(e.response.folder_info,n)),e.response.folder_infos&&g.each(e.response.folder_infos,function(e,t){a(new window.tH.yJ(t,n))}),c.ato(t.response.myfiles_revision),i.length?f.onSuccess&&f.onSuccess.call(c,r,o,n,p,u):f.onSuccess&&f.onSuccess.call(c,r,u,o,n))})},error:function(e,t,a){window.localStorage&&localStorage.clear();var o="",n="";if("abort"!=t&&e.responseText){try{o=JSON.parse(e.responseText)}catch(e){}o&&(n=o.response.error.toString())}var r=window.tH.folders.yx(l||"myfiles");g.each(s.split(","),function(e,t){t=window.tH.folders.yx(t);"114"==n?Zi(0,"You do not have write permissions to copy "+t.name+" into the folder "+r.name+"."):"162"==n?aWg(!1,!1,!0):Zi(0,"There was a problem while attempting to copy "+t.name+".")}),f.onError&&f.onError.call(c,i,"",l)}})}}},asR.prototype.aUA=function(r,e){var i=this,s=arguments.callee;i.adF()&&(r&&""!=r?(s.onBefore&&s.onBefore.call(i,r,e),tH.Cp.aUT(r,e,{error:function(e,t,a){var o={},n=0;if("abort"!=t&&e.responseText){try{o=JSON.parse(e.responseText)}catch(e){}o&&(MYF_sErrCode=n=o.response.error)}s.onError&&s.onError.call(i,r,o.response,n)}})):s.onError&&s.onError.call(i,r,e))},asR.prototype.Wt=function(e,t,a){var o,n=this,r=arguments.callee;n.adF()&&(e=e||"myfiles",n.ZR(),o=(o=tH.folders.yx(e))||new tH.yJ(e),r.onBefore&&r.onBefore.call(n,o),tH.yJ.prototype.Yp.call(o,t,{success:function(e,t){void 0!==o.total_folders&&(o.total_folders=Math.max(0,parseInt(o.total_folders)+1)),e.name=t.response.name||e.name,o.folder_count=(parseInt(o.folder_count,10)||0)+1,o.folders[e.folderkey]=e,window.tH.folders.Yx(e.folderkey,e),e.flag=o.flag,r.onSuccess&&r.onSuccess.call(n,o,e,a),window.tH.folders.Yx(o.folderkey,o),n.ato(t.response.myfiles_revision)},error:function(e){e=g.parseJSON(e.responseText).response.message;window.localStorage&&localStorage.clear(),r.onBefore&&r.onBefore.call(n,o),Zi(0,e||"There was a problem while creating the subfolder.")}}))},asR.prototype.SubFile=function(e,t,a,o){var n,r=this,i="There was a problem while creating the file.";r.adF()&&(r.ZR(),(n=window.tH.folders.yx(e))?n.CreateSubFile(t,a,{success:function(e,t){n.files[e.quickkey]=e,window.tH.files.Yx(e.quickkey,e),window.tH.folders.Yx(n.folderkey,n),o.onSuccess&&o.onSuccess.call(r,e)},error:function(e){var t=g.parseJSON(e.responseText).response,e=t.message,t=parseInt(t.error,10);window.localStorage&&localStorage.clear(),o.onError&&o.onError.call(r),162==t?aWg(!0,!1,!0):Zi(0,e||i)}}):Zi(0,i))},asR.prototype.aah=function(o,e,t,a,n){var r=this,i=arguments.callee;if(r.adF()){r.ZR();var s,l={};if(e){var d=window.tH.files.yx(e);l.error=function(){window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,d),Zi(0,"There was a problem while updating the file.")},l.success=function(e){i.onSuccess&&i.onSuccess.call(r,d),d&&window.tH&&window.tH.files&&window.tH.files.Yx(d.quickkey,d),r.ato(e.response.myfiles_revision),n&&n(e)};var c=d||new tH.Cp(e);if(!c)return void l.error();i.onBefore&&i.onBefore.call(r,c),"public"==o?c.aax(l):c.aaG(l)}t&&(s=window.tH.folders.yx(t),l.error=function(){window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,s),Zi(0,"There was a problem while updating the folder.")},l.success=function(e){a&&!function a(e){e.privacy=o,g.each(e.folders,function(e,t){a(t),window.tH.folders.Yx(t.folderkey,t)}),g.each(e.files,function(e,t){t.privacy=o,window.tH.files.Yx(t.quickkey,t),i.onSuccess&&i.onSuccess.call(r,t)}),window.tH.folders.Yx(e.folderkey,e),i.onSuccess&&i.onSuccess.call(r,e)}(s),window.tH&&window.tH.folder&&window.tH.folders.Yx(s.folderkey,s),r.ato(e.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,s),n&&n(e)},s?(i.onBefore&&i.onBefore.call(r,s),"public"==o?s.aax(a,l):s.aaG(a,l)):l.error())}},asR.prototype.aal=function(a,e,t,o){var n,r=this,i=arguments.callee;if(r.adF()){if(r.ZR(),e){var s="There was a problem while updating the file.";if(o)l=new window.tH.Cp(e);else{var l=window.tH.files.yx(e);if(!l)return void Zi(0,s)}i.onBefore&&i.onBefore.call(r,l,a),l.Yn(a,{success:function(e){window.tH.files.Yx(l.quickkey,l),r.ato(e.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,l,a)},error:function(e){var t;if(e&&e.responseText)try{t=JSON.parse(e.responseText)}catch(e){}else t=t||{response:{error:999}};switch(window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,l,a),t.response.error){case 106:s="The file suffix can only be changed to another suffix that is of the same type as the original suffix.";break;case 158:s="A file with that name already exists in the destination folder";break;case 118:s='The file name should be at least 3 characters and not containing \\ / * ? " < > |';break;case 999:s="An Unknown error occured."}Zi(0,s)}})}t&&(s="There was a problem while updating the folder.",(n=window.tH.folders.yx(t))?(i.onBefore&&i.onBefore.call(r,n,a),n.Yn(a,{success:function(e){window.tH.folders.Yx(n.folderkey,n),r.ato(e.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,n,a),g.publish("folder/update",[n,null,!0])},error:function(e){var t;if(e&&e.responseText)try{t=JSON.parse(e.responseText)}catch(e){}switch(t=t||{response:{error:0}},window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,n,a),t.response.error){case 159:s="A folder with that name already exists in the destination folder";break;case 117:case 185:s="Invalid folder name"}Zi(0,s)}})):Zi(0,s))}},asR.prototype.ajl=function(e){var t=this,a=arguments.callee;t.ZR(),a.onBefore&&a.onBefore.call(t,e);var o,n=[];"object"==typeof e?n=e.files:n.push(e);for(var r=0,i=n.length;r<i;++r)(o=window.tH.files.yx(n[r]))?o.aiV({success:function(e){a.onSuccess&&a.onSuccess.call(t,o)},error:function(){window.localStorage&&localStorage.clear(),a.onError&&a.onError.call(t,o),Zi(0,"There was a problem while saving the file(s) to your account.")}}):Zi(0,"There was a problem while saving the file(s) to your account.")},asR.prototype.ahE=function(t){var a=this,o=arguments.callee;t=t||a.atB,o.onBefore&&o.onBefore.call(a),t.Yw(function(e){"Success"==e.response.result&&(a.aTA=0==avH(e.response.user_info.options,20))}),t.acA({success:function(e){window.aaA=0,o.onSuccess&&o.onSuccess.call(a,e)},error:function(e){window.aaA<3?(window.aaA++,setTimeout(function(){a.ahE(t)},6e4)):(clearInterval(window.aqg),window.aqg=null,o.onError&&o.onError.call(a,e),window.aqd=!0)}})},asR.prototype.agk=function(o,n){var r,i,s,l=this,d=arguments.callee;l.adF()&&(l.ZR(),r=window.tH.files.yx(o),i=window.tH.files.yx(n),s=i.parent,r&&i?Gm(r.filename)==Gm(i.filename)?(d.onBefore&&d.onBefore.call(l,r,i),r.agq(n,{success:function(){for(var e=Array("filename","created","privacy","size","hash"),t=0;t<e.length;t++){var a=e[t];i[a]=r[a]}s.files[i.quickkey]=i,tH.folders.Yx(s.folderkey,s),tH.files.Yx(n,i),l.ahG(o),d.onSuccess&&d.onSuccess.call(l,r,i)},error:function(){window.localStorage&&localStorage.clear(),d.onError&&d.onError.call(l,r,i),Zi(0,"There was a problem while updating the file.")}})):Zi(0,"There was a problem while updating the file.<br />Files must have the same file extension. "):Zi(0,"There was a problem while updating the file."))},asR.prototype.agD=function(e,t){var a,o=this,n=arguments.callee;o.adF()&&(o.ZR(),(a=window.tH.files.yx(e))?(n.onBefore&&n.onBefore.call(o,a),a.MFAPI_UpdateFilePassword(t,{success:function(){a.password_protected=0<t.length?"yes":"no",window.tH.files.Yx(a.quickkey,a),n.onSuccess&&n.onSuccess.call(o,a)},error:function(){window.localStorage&&localStorage.clear(),n.onError&&n.onError.call(o,a),Zi(0,"There was a problem while updating the password on the file.")}})):Zi(0,"There was a problem while updating the password on the file."))},asR.prototype.atL=function(){if(!window.tH)return!1;if(window.tH.myfiles_revision)return window.tH.myfiles_revision;if(!this.atw&&!this.aty&&window.localStorage&&localStorage.myfiles_revision){var e=JSON.parse(localStorage.myfiles_revision);if(window.tH.myfiles_revision=e,sizeOf(e))return e}return!1},asR.prototype.ato=function(e){e instanceof Object&&e.epoch&&e.revision&&(window.tH.myfiles_revision=e,this.atw||this.aty||(localStorage.myfiles_revision=JSON.stringify(e)))}}(jQuery),jQuery,auV=function(e,t,a,o,n){this.aue=e||[],this.atT=t||function(){},this.atE=a||1e3,this.auf=o||10,this.aud=0,this.aum="",this.atQ=null,this.auW=n||!1},auV.prototype.atR=function(){return!!this.atE&&(this.auW?this.atQ=setTimeout(function(e){e.atD()},this.atE,this):this.atQ=setInterval(function(e){e.atD()},this.atE,this),!0)},auV.prototype.atD=function(){var e=this;e.aum.length||e.aud>=e.auf||!e.aue||0==e.aue.length?(e.auW?clearTimeout:clearInterval)(e.atQ):(e.aud+=1,e.atT(e.aue),e.auW&&(e.atQ=setTimeout(function(e){e.atD()},e.atE,e)))},auV.prototype.atm=function(){this.aum="stop",(this.auW?clearTimeout:clearInterval)(this.atQ),this.atD=function(){},this.atR=function(){return!1}},function(h){function c(e){return"function"==typeof e?e:e&&e.success&&"function"==typeof e.success?e.success:function(){}}function m(e){return e&&e.error&&"function"==typeof e.error?e.error:function(){}}function n(e){return JSON.stringify(e,function(e,t){return"number"==typeof t?String(t):t})}function l(a,e){var t;return a=a||window.tH.folders.yx(e.folderkey),e&&e.response&&e.response.folder_info&&(e.etag&&(a.etag=e.etag),t=e.response.folder_info,null===a.name&&(a.name="UNKNOWN FOLDER"),e.flag&&(e.shared=1!=avH(e.flag,1)||SHARED?"yes":"no"),h.each(t,function(e,t){"files"!=e&&"folders"!=e&&(a[e]=t)}),a.folders={},a.files={}),a}function g(a,e){var o=[];return e&&e.response.folder_content&&(aFb=e.response.folder_content,h.each(aFb,function(e,t){"files"!=e&&"folders"!=e&&"content_type"!=e&&"chunk_size"!=e&&a[e]&&(a[e]=t)}),(aFb.folders&&0<aFb.folders.length||aFb.files&&0<aFb.files.length)&&(aFb.folders&&(h.each(aFb.folders,function(e,t){t.flag&&(aFb.folders[e].shared=1!=avH(t.flag,1)||SHARED?"yes":"no"),SHARED||"yes"!=a.shared&&"child"!=a.shared||(aFb.folders[e].shared="child",aFb.folders[e].owner_name=a.owner_name),aFb.folders[e].parent_chunk=aFb.chunk_number,o.push(aFb.folders[e])}),a.Yy(aFb,!1,!1),"yes"!=aFb.more_chunks?a.folders_loaded=!0:a.folders_loaded=!1),aFb.files&&(h.each(aFb.files,function(e,t){aFb.files[e].parent_chunk=aFb.chunk_number,o.push(aFb.files[e])}),(a=!a.ZW?new tH.yJ(a):a).ZW(aFb.files),"yes"!=aFb.more_chunks?a.files_loaded=!0:a.files_loaded=!1)),aFb[aFb.content_type]&&0!=aFb[aFb.content_type].length||(a[aFb.content_type+"_loaded"]=!0),aFb.content_type&&aFb.chunk_number&&(a[aFb.content_type+"_chunk"]=aFb.chunk_number)),{folder:a,items:o}}aHE=function(e,t,a,o){var n=this;n.aJL=e||null,n.aJu=!0,n.aJW=a||!1,n.aOQ=o||1123220;try{n.aKA="localStorage"in window&&null!==window.localStorage}catch(e){n.aKA=!1}n.aJI=n.aJL&&!n.aJu&&!n.aJW&&n.aKA,n.aGF=null,window.Worker&&JS_LoadTime&&(n.aGF=new Worker(sCDNUrl+"/js/ww_cache_folders_"+JS_LoadTime+".js"),n.aIJ())},aJK={},aHE.prototype.aJg=function(){if(localStorage){var e=[];if("Internet Explorer"===BrowserName()&&"8"===Bm()[0]||!Object.keys)for(member in window.localStorage)e.push(member);else e=Object.keys(localStorage);for(var t=0,a=e.length;t<a;t++){var o=e[t],n=o.split("-");n[0]==this.aJL&&this.aGF&&this.aGF.postMessage({cmd:"parse-data",key:o,params:localStorage[o]}),n[0]!=this.aJL&&"FOLDERCONTENT"==n[1]&&localStorage.clear()}}},aHE.prototype.aIJ=function(){var s=this;s.aGF.onmessage=function(e){var t,a,o,n={};switch((n=e.data.key&&aJK?aJK[e.data.key]:n)&&(i=n.folder),window.tH&&window.tH.aQQ(),e.data.value&&e.data.value.expires&&(t=new Date,a=new Date(e.data.value.expires),"found"==(o=e.data.message.split("-"))[1]&&a<t&&(e.data.message=o[0]+"-not-found")),e.data.message){case"content-found":var r=g(i,e.data.value),i=r.folder,r=r.items;s.aJP(i,r,e.data.value,!0,n.callbacks,e.data.key,n.options);break;case"content-not-found":s.aGU(i,n.options,n.callbacks,!1,!0);break;case"info-found":i=l(i,e.data.value),n.callback&&("function"==typeof n.callback?n.callback(i):n.callback.success&&n.callback.success(i));break;case"info-not-found":s.aLI(i,n.callback,!0);break;case"search-found":c(n.callbacks).call(this,e.data.value);break;case"search-not-found":s.aGY(i,n.searchterm,n.searchall,n.filter,n.callbacks,!0);break;case"depth-found":c(n.callbacks).call(this,e.data.value);break;case"depth-not-found":s.aLA(i,n.callbacks,!0)}}},aHE.prototype.aJo=function(e,t){var a=null;return localStorage&&localStorage.user&&localStorage.user!=this.aJL&&(this.aJL=localStorage.user),t?e&&(a=this.aJL+"-"+e+"-"+t):a=this.aJL+"-"+e,a},aHE.prototype.aIZ=function(e,t){if(!this.aJI)return!1;window.tH&&window.tH.aQQ();e=e?this.aJo(e,t):t;if(localStorage[e]){e=(t=localStorage[e],h.parseJSON(t));if(e.expires){t=new Date;return!(new Date(e.expires)<t)&&e}return e}return!1},aHE.prototype.aJq=function(e,t){t=e?this.aJo(e,t):t;this.aGF&&this.aGF.postMessage({cmd:"remove-data",key:t}),localStorage&&localStorage[t]&&localStorage.removeItem(t)},aHE.prototype.aJB=function(e,t,a){var o=new Date;o.setSeconds(o.getSeconds()+this.aOQ),a.expires=o;t=this.aJo(e,t),a=n(a);return this.aGF&&this.aGF.postMessage({cmd:"parse-data",key:t,params:a}),!!this.aJI&&(localStorage[t]=a,!!localStorage[t])},aHE.prototype.aJP=function(o,e,t,a,n,r,i){o.folders||(o.folders={}),o.files||(o.files={});var s=[];h.each(e,function(e,t){var a;t.parent_chunk&&t.parent_chunk,t.folderkey?("myfiles"!=t.folderkey?(a=new window.tH.yJ(t,o)).parent=o:a=new window.tH.yJ(t),window.tH.folders.Yx(a.folderkey,a),"myfiles"!=t.folderkey&&s.push(a)):((t=new window.tH.Cp(t,o)).parent=o,window.tH.files.Yx(t.quickkey,t),s.push(t))});var l=-1!=t.response.action.indexOf("device/get_trash"),d=l?parseInt(t.response.chunk_size):parseInt(t.response.folder_content.chunk_size),d=l?e.length<d:"yes"!=t.response.folder_content.more_chunks;o.status||(o.status={}),o.status[i.data.filter]||(o.status[i.data.filter]={}),o.status[i.data.filter][i.data.order_by]||(o.status[i.data.filter][i.data.order_by]={}),o.status[i.data.filter][i.data.order_by][i.data.order_direction]||(o.status[i.data.filter][i.data.order_by][i.data.order_direction]={files:{},folders:{}}),o.status[i.data.filter][i.data.order_by][i.data.order_direction][i.data.content_type]||(o.status[i.data.filter][i.data.order_by][i.data.order_direction][i.data.content_type]={}),o.status[i.data.filter][i.data.order_by][i.data.order_direction][i.data.content_type].chunk=i.data.chunk||1,o.status[i.data.filter][i.data.order_by][i.data.order_direction][i.data.content_type].loaded=!!t.response&&d,window.tH.root||"myfiles"!=o.folderkey||(window.tH.root=o),"myfiles"==o.folderkey&&(o.name="My Files"),o.parent||o.parent_folderkey||(o.parent_folderkey="myfiles"),a||this.aJB("FOLDERCONTENT",r,t),c(n).call(this,o,s)},aHE.prototype.aGU=function(a,o,r,e,t){var n,i,s,l,d,c,f,u,p=this;a.name?(f=e||!1,n=(o=h.extend(!0,{data:{content_type:"folders",filter:"",order_by:"name",order_direction:"asc",chunk:1}},o)).data.content_type||"folders",i=o.data.filter||"all",s=o.data.order_by||"name",l=o.data.order_direction||"asc",u=o.data.chunk||1,d=a.folderkey+"-"+n+"-"+i+"-"+s+"-"+l+"-"+u,u={},c=function(e,t,a,o,n){p.aJP(e,t,a,o,r,d,n)},!p.aGF||t||e?f||!1===(u=p.aIZ("FOLDERCONTENT",d))?(a=!a.aEn?new tH.yJ(a.folderkey):a).aEn(o,{success:function(e,t,a){c(e,t,a,!1,o)},error:m(r)},1):(e=[],f=g(a,u),a=f.folder,e=f.items,c(a,e,u,!0,o)):(u=p.aJo("FOLDERCONTENT",d),aJK[u]={folder:a,options:o,callbacks:r},p.aGF.postMessage({cmd:"request-data",key:u,prefix:"content"}))):p.aLI(a,{success:function(e){var t;if("myfiles"==e.name&&(e.name="My Files"),delete a.folders,delete a.files,o.data.chunk&&1!=o.data.chunk||(t=window.tH.folders.yx(a.folderkey))&&(t.folders&&h.each(t.folders,function(e,t){window.tH.folders.abg(t.folderkey)}),t.files&&h.each(t.files,function(e,t){window.tH.files.abg(t.quickkey)}),window.tH.folders.memory[t.folderkey].files={},window.tH.folders.memory[t.folderkey].folders={}),!a.shared&&0===avH(e.flag,1))return window.location="/?"+e.folderkey,!1;p.aJi||"yes"!=e.shared&&"child"!=e.shared?p.aGU(e,o,r):(m(r).call(),window.location.hash="myfiles")},error:m(r)})},aHE.prototype.aLI=function(t,a,e,o){var n=this;n.aGF&&!e?(e=n.aJo("FOLDERINFO",t.folderkey),aJK[e]={folder:t,callback:a},n.aGF.postMessage({cmd:"request-data",key:e,prefix:"info"})):!1!==(aJS=n.aIZ("FOLDERINFO",t.folderkey))?(t=l(t,aJS),c(a).call(this,t)):(t=t instanceof tH.yJ==!1?new tH.yJ(t.folderkey):t).Yw({data:{recursive:"no",start:"1",limit:"1"}},{success:function(e){e.etag=t.etag,n.aJB("FOLDERINFO",t.folderkey,e),c(a).call(this,t)},error:m(a)})},aHE.prototype.aGY=function(e,t,a,o,n,r){var i,s=this,l=e.folderkey+"-"+t;!s.aGF||r||a?!1===(aIR=s.aIZ("SEARCH",l))||a?(i={data:{search_text:t,version:2.5}},"myfiles"!=e.folderkey&&""!=e.folderkey&&(i.data.folder_key=e.folderkey),a&&(i.data.search_all="yes",i.data.folder_key=""),o&&(i.data.filter=o),e.aFG(i,{success:function(e){0<e.response.results.length&&!i.data.search_all&&s.aJB("SEARCH",l,e),c(n).call(this,e)},error:m(n)})):c(n).call(this,aIR):(r=s.aJo("SEARCH",e.folderkey),aJK[r]={folder:e,searchterm:t,searchall:a,filter:o,callbacks:n},s.aGF.postMessage({cmd:"request-data",key:r,prefix:"search"}))},aHE.prototype.aLA=function(e,t,a){var o=this,n=e.folderkey;o.aGF&&!a?(a=o.aJo("DEPTH",e.folderkey),aJK[a]={folder:e,callbacks:t},o.aGF.postMessage({cmd:"request-data",key:a,prefix:"depth"})):!1!==(aKK=o.aIZ("DEPTH",n))?c(t).call(this,aKK):e.aHV({success:function(e){o.aJB("DEPTH",n,e),c(t).call(this,e)},error:m(t)})},aHE.prototype.aIX=function(e){var t=[];if(this.aGF&&this.aGF.postMessage({cmd:"uncache-folder",folderkey:e}),localStorage){if("Internet Explorer"===BrowserName()&&"8"===Bm()[0]||!Object.keys)for(member in window.localStorage)t.push(member);else t=Object.keys(localStorage);if(t&&0<t.length)for(var a=0;a<t.length;a++){var o,n=t[a];!n||(o=n.split("-"))[0]==this.aJL&&o[2]==e&&this.aJq(!1,n)}}}}(jQuery),function(s){var i,r;function e(e,t,a){for(bdn in r=void 0!==a&&1==a,"string"==typeof t&&(i=t),this.bbU={},this.aQm={},this.aab={container_selector:"#folderTree .folderlist_content",folder_browser_class:"",current_folder_class:"current_folder_location",expanded_folder_class:"expanded",collapsed_folder_class:"collapsed",linked_folder_class:"linked_folder",shared_by_folder_class:"sharedByUser",add_arrow:!0,display_linked_folders:!0,onFolderDrop:function(){},onFolderContextMenu:function(){},onFolderClick:function(){},onFolderMouseDown:function(){},onArrowClick:function(){},onFolderDragOver:function(){},onFolderDragStart:function(){},onFolderDragEnd:function(){},onFolderDragEnter:function(){},onFolderDragLeave:function(){},onFolderBrowserLoad:function(){},onFolderAdd:function(){}},e)void 0!==this.aab[bdn]&&(this.aab[bdn]=e[bdn]);this.baB=s(this.aab.container_selector),bdV.push(this)}function l(e,t){e.folderkey&&0<t.baB.find("#mffb-"+e.folderkey).length&&0<t.baB.find("#mffb-"+e.folderkey+" > ul").length&&0==t.baB.find("#mffb-"+e.folderkey+" > ul > li > a.load_more").length&&t.baB.find("#mffb-"+e.folderkey+" > ul").append(s("<li class='load_more_folders'></li>").html("<a href='javascript:void(0)' class='load_more'>Load More&hellip;</a>").data("key",e.folderkey))}function d(e){var t,a={avatar:"",chunk_number:0,created:"",file_count:"0",finished_loading:!1,flag:"2",folder_count:0,folders:new Array,folderkey:"",name:"untitled",owner_name:"",privacy:"public",shared:"no"};for(bcg in a)void 0!==e[bcg]?this[bcg]=e[bcg]:this[bcg]=a[bcg];if(this.folders&&"[object Array]"!==Object.prototype.toString.call(this.folders)){var o,n=this.folders;for(o in this.folders=new Array,n)this.folders.push(new d(o));this.folders.sort(function(e,t){e=e.name.toLowerCase(),t=t.name.toLowerCase();return e<t?-1:t<e?1:0})}e.parent&&!e.parent instanceof d&&(e.parent.folders=new Array,this.parent=new d(e.parent)),r||0!=(t=this.flag,n=1,(parseInt(t)>>parseInt(n))%2)||"myfiles"==this.folderkey||(this.shared="yes"),void 0!==e.permissions&&(this.permissions=e.permissions),void 0!==e.shared_by_user&&(this.shared_by_user=e.shared_by_user)}e.prototype.acI=function(e,t,a){var o=this;(a=!a&&"function"==typeof t?t:a)||t||"function"!=typeof e||(a=e);var n="trash"==t;e&&"string"==typeof e||(e="myfiles"),t&&"string"==typeof t&&!n||(t=e),this.bby=e,this.bcD=t,this.beI(e,function(e){o.bbU=e,o.bcE(e),o.beT(),o.aZC(e.folderkey,function(){o.aQm[t]?o.aZC(t,function(){n||o.bau(t)}):new d({folderkey:t}).bdQ(e.folderkey,function(e){o.bdS(e,function(){n||o.bau(t)})})}),o.bfd(),a&&a(o),o.aab.onFolderBrowserLoad()})},e.prototype.bcE=function(e){for(ben in this.aQm[e.folderkey]=new d(e),e.folders)this.bcE(e.folders[ben])},e.prototype.beI=function(e,a){var t;if(e)if("myfiles"!=e||i)this.aQm[e]?(t=this.aQm[e]).bcc(function(e,t){a&&a(e,t)}):(t=new d({folderkey:e})).bep(function(){t.bcc(function(e,t){a&&a(e,t)})});else try{console.error("can't load myfiles without session token")}catch(e){}else try{console.error("required folderkey is missing")}catch(e){}},e.prototype.bdS=function(a,o){var n,r=this;0<a.length?(n=0,function e(){var t=a[n];r.aZC(t.folderkey,function(){a[++n]?e():o&&o()})}()):o&&o()},e.prototype.beT=function(){var e,t;this.bbU&&(e=s("<ul></ul>"),t=this.bdK(this.bbU),e.append(t),this.baB.html(e))},e.prototype.aVb=function(e){if(this.aQm[e]){var t=this.aQm[e];if(t.parent){t.parent=new d(t.parent);for(var a=0,o=t.parent.folders.length;a<o;a++)if(t.parent.folders[a].folderkey==e){t.parent.folders.splice(a,1);break}t.parent.folder_count=t.parent.folders.length,this.baB.find("#mffb-"+t.parent.folderkey+" > ul > li").length<2&&(t.parent.folder_count=0),this.aQm[t.parent.folderkey]=new d(t.parent),this.bew(t.parent)}delete this.aQm[e]}void 0!==e&&e&&0<this.baB.find("#mffb-"+e).length&&this.baB.find("#mffb-"+e).remove(),t&&t.parent&&0==this.baB.find("#mffb-"+t.parent.folderkey+" > ul > li").length&&this.baB.find("#mffb-"+t.parent.folderkey+" > ul").remove(),s("a.folder_arrow").each(function(e,t){var a=s(t).parent(),o=a.data("info");o&&parseInt(o.folder_count,10)||(s(t).remove(),a.find("ul").remove())})},e.prototype.bew=function(e){var t,a=this.baB.find("#mffb-"+e.folderkey);a.length&&((t=a.children("a.folder_arrow")).length?e&&parseInt(e.folder_count,10)||t.remove():this.aab.add_arrow&&e&&0<parseInt(e.folder_count,10)&&a.prepend('<a href="javascript:void(0)" class="folder_arrow"></a>'))},e.prototype.aZE=function(e){var t;e.folderkey&&this.aQm[e.folderkey]&&(e.name&&e.name!=this.aQm[e.folderkey].name&&(this.aQm[e.folderkey].name=e.name,0<s("#mffb-"+e.folderkey).length&&s("#mffb-"+e.folderkey+" .folder_name").first().text(e.name)),t=this.aQm[e.folderkey],e&&t&&e.folder_count!=t.folder_count&&(this.aQm[e.folderkey].folder_count=Math.max(0,parseInt(e.folder_count,10)||0),this.bew(this.aQm[e.folderkey])))},e.prototype.aVp=function(e,t,a){if(this.aQm[t]&&e.folderkey){var o=new d(e),e=this.aQm[t];if("yes"!=o.shared||"yes"!=e.shared&&"child"!=e.shared||(o.shared="child"),("yes"==o.shared||"child"==o.shared)&&0==this.aab.display_linked_folders)if(2!=p(o))return;if(0<e.chunk_number){o.parent=this.aQm[t],function(e,t){var a=!1;if(e&&e.folderkey&&t&&0<t.length)for(var o=0,n=t.length;o<n;o++)t[o].folderkey&&e.folderkey==t[o].folderkey&&(a=!0);return a}(this.aQm[o.folderkey]=o,this.aQm[t].folders)||this.aQm[t].folders.push(o),this.aQm[t].folder_count=this.aQm[t].folders.length,this.aQm[t].folders.sort(function(e,t){e=e.name.toLowerCase(),t=t.name.toLowerCase();return e<t?-1:t<e?1:0});var n=null;if(0==this.baB.find("#mffb-"+t+" > ul").length&&this.baB.find("#mffb-"+t).append(s("<ul></ul>")),this.aab.add_arrow&&0==this.baB.find("#mffb-"+t+" > a.folder_arrow").length&&this.baB.find("#mffb-"+t).prepend(s('<a href="javascript:void(0)" class="folder_arrow"></a>')),a)this.baB.find("#mffb-"+t+" > ul").append(this.bdK(o));else for(var r=0,i=this.aQm[t].folders.length;r<i;r++)this.aQm[t].folders[r].folderkey==o.folderkey&&0==this.baB.find("#mffb-"+t).find("#mffb-"+o.folderkey).length&&(n&&0<this.baB.find("#mffb-"+n).length?r+1<this.aQm[t].folders.length||this.aQm[t].finished_loading?this.baB.find("#mffb-"+n).after(this.bdK(o)):this.aQm[t].folders.splice(r,1):0==this.baB.find("#mffb-"+o).length&&this.baB.find("#mffb-"+t+" > ul").prepend(this.bdK(o))),this.aQm[t].folders[r]&&(n=this.aQm[t].folders[r].folderkey)}else this.aQm[t].folder_count=(parseInt(this.aQm[t].folder_count,10)||0)+1,this.aab.add_arrow&&0==this.baB.find("#mffb-"+t+" > a.folder_arrow").length&&this.baB.find("#mffb-"+t).removeClass("expanded").addClass("collapsed").prepend(s('<a href="javascript:void(0)" class="folder_arrow"></a>'));this.aab.onFolderAdd(o)}},e.prototype.bdK=function(e){var t=s("<li></li>").addClass(this.aab.collapsed_folder_class);if("yes"!=e.shared&&"child"!=e.shared||t.addClass(this.aab.linked_folder_class),e.shared_by_user&&t.addClass(this.aab.shared_by_folder_class),t.data("info",e).data("folderkey",e.folderkey).attr("id","mffb-"+e.folderkey).html('<a href="javascript:void(0)" class="folder_name" title="'+e.name.replace(/"/g,"''")+'">'+e.name.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</a>"),0<e.folders.length){for(var a=s("<ul></ul>"),o=0;o<e.folders.length;o++){var n=e.folders[o].shared;if("yes"==n||"child"==n)if(p(e.folders[o]))iPermissions=p(e.folders[o]);else{for(var r=e.folders[o],i=r.shared;"child"==i;)i=(r=r.parent).shared;iPermissions=p(r)}("yes"==n||"child"==n)&&("yes"!=n&&"child"!=n||1!=this.aab.display_linked_folders&&2!=iPermissions)||a.append(this.bdK(e.folders[o]))}t.append(a)}return this.aab.add_arrow&&(1<(parseInt(e.folder_count,10)||0)||e.folders.length)&&t.prepend(s('<a href="javascript:void(0)" class="folder_arrow"></a>')),t},e.prototype.bfd=function(){var o=this;this.baB.delegate("a.folder_name","click",function(e){var t=s(this).closest("li").data("info");return s(this).hasClass(o.aab.current_folder_class)?o.beD(t.folderkey,function(){}):o.aZC(t.folderkey,function(){o.bau(t.folderkey)}),o.aab.onFolderClick(e,o.aQm[t.folderkey],this),!1}).delegate("a.folder_name","mousedown",function(e){var t=s(this).closest("li").data("info");o.aab.onFolderMouseDown(e,o.aQm[t.folderkey],this)}).delegate("a.folder_name","dragover",function(e){var t=s(this).closest("li").data("info");return o.aab.onFolderDragOver(e,o.aQm[t.folderkey],this),!1}).delegate("a.folder_name","dragstart",function(e){var t=s(this).closest("li").data("info");o.aab.onFolderDragStart(e,o.aQm[t.folderkey],this)}).delegate("a.folder_name","dragend",function(e){var t=s(this).closest("li").data("info");return o.aab.onFolderDragEnd(e,o.aQm[t.folderkey],this),!1}).delegate("a.folder_name","dragenter",function(e){var t=s(this).closest("li").data("info");return o.aab.onFolderDragEnter(e,o.aQm[t.folderkey],this),!1}).delegate("a.folder_name","dragleave",function(e){var t=s(this).closest("li").data("info");return o.aab.onFolderDragLeave(e,o.aQm[t.folderkey],this),!1}).delegate("a.folder_arrow","click",function(e){var t=s(this).closest("li").data("info");return o.beD(t.folderkey),o.aab.onArrowClick(e,o.aQm[t.folderkey],this),!1}).delegate("a.load_more","click",function(e){var a=s(this).closest("li");s(this).text("Loading..."),a.addClass("loading");var t=s(this).closest("li").closest("ul").closest("li").data("info");o.aQm[t.folderkey].bcc(function(e,t){a.remove(),o.bdU(e,t)})}).delegate("li","drop",function(e){var t=s(this).data("info");return o.aab.onFolderDragLeave(e,o.aQm[t.folderkey],s(this).find("a.folder_name")[0]),o.aab.onFolderDrop(e,o.aQm[t.folderkey],this),!1}).delegate("li","contextmenu",function(e){var t=s(this).data("info");return o.aab.onFolderContextMenu(e,o.aQm[t.folderkey],this),!1})},e.prototype.bdU=function(e,t){if(e&&e.folderkey)for(var a=0,o=t.length;a<o;a++){var n=t[a];this.aVp(n,e.folderkey,!0)}e.finished_loading||l(e,this)},e.prototype.bau=function(e){0<this.baB.find("#mffb-"+e).length&&(this.baB.find("li").removeClass(this.aab.current_folder_class),this.baB.find("#mffb-"+e).addClass(this.aab.current_folder_class))},e.prototype.bfg=function(){this.baB.find("li").removeClass(this.aab.current_folder_class)},e.prototype.aZC=function(e,a){var o=this,t=this.aQm[e];function n(e){var t=!1;return e.folderkey&&0<o.baB.find("#mffb-"+e.folderkey).length&&!o.baB.find("#mffb-"+e.folderkey).hasClass(o.aab.expanded_folder_class)&&(o.baB.find("#mffb-"+e.folderkey).removeClass(o.aab.collapsed_folder_class).addClass(o.aab.expanded_folder_class),e.finished_loading||l(e,o),void 0!==e.parent&&o.aZC(e.parent.folderkey),t=!0),a&&a(),"function"==typeof MYF_fHideSpinner&&MYF_fHideSpinner("folders"),t}!t||0<(parseInt(t.folder_count,10)||0)&&0==t.folders.length?this.beI(e,function(e,t){n(e)&&(o.bcE(e),o.bdU(e,t))}):(n(t),"function"==typeof MYF_fHideSpinner&&MYF_fHideSpinner("folders"))},e.prototype.bej=function(e){0<this.baB.find("#mffb-"+e).length&&this.baB.find("#mffb-"+e).removeClass(this.aab.expanded_folder_class).addClass(this.aab.collapsed_folder_class)},e.prototype.beD=function(e,t){0<this.baB.find("#mffb-"+e).length&&(this.baB.find("#mffb-"+e).hasClass(this.aab.expanded_folder_class)?(this.bej(e),t&&t()):this.aZC(e,t))},e.prototype.bfx=function(e){e&&(i=e)},d.prototype.bep=function(t){var a=this;u({url:"1.4/folder/get_info.php",data:{folder_key:this.folderkey},success:function(e){for(bcg in a)void 0!==e.response.folder_info[bcg]&&(a[bcg]=e.response.folder_info[bcg]);"myfiles"==a.folderkey&&(a.name="My Files"),t&&t(a)},error:function(e){}},this)},d.prototype.bdQ=function(e,t){t||"function"!=typeof e||(t=e,e=null);var a={folder_key:this.folderkey};e&&(a.root_folderkey=e),u({url:"1.4/folder/get_depth.php",data:a,success:function(e){e.response&&e.response.folder_depth&&e.response.folder_depth.chain_folders?t&&t(e.response.folder_depth.chain_folders.reverse()):t&&t(e)},error:function(e){}},this)};var c=!(d.prototype.bcc=function(r){var i=this;u({url:"1.4/folder/get_content.php",data:{folder_key:this.folderkey,chunk:this.chunk_number+1,content_type:"folders"},success:function(e){var t=new Array;if(e.response&&e.response.folder_content&&e.response.folder_content.folders){"1"==e.response.folder_content.chunk_number?(i.folders=new Array,i.chunk_number=1):e.response.folder_content.chunk_number&&(i.chunk_number=parseInt(e.response.folder_content.chunk_number));for(var a=e.response.folder_content.folders.length,o=0;o<a;o++){var n=new d(e.response.folder_content.folders[o]);(n.parent=i).folders.push(n),t.push(n)}"yes"!=e.response.folder_content.more_chunks&&(i.finished_loading=!0)}r&&r(i,t)},error:function(e){}},this)}),f=new Array;function u(t,e){if(!c||e){c=!0;var a=function(){"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")});return new XMLHttpRequest}(),o=t.data||{};o.session_token=i,o.response_format="json",o.rand=Math.floor(1e3*Math.random())+1e3;e="www.mediafire.com";-1<window.location.host.indexOf("mediafire.com")&&(e=window.location.host);var n,e=window.location.protocol+"//"+e+"/api/"+t.url,r="";for(n in o)o[n]&&(r+="&"+n+"="+o[n]);r=r.substring(1),a.open("GET",e+"?"+r,!0),a.onreadystatechange=function(){var e;4==a.readyState&&200==a.status?(t.success(JSON.parse(a.responseText)),0<f.length?(e=f[0],f.splice(0,1),u(e,!0)):c=!1):4==a.readyState&&(t.error&&t.error(a),0<f.length?(e=f[0],f.splice(0,1),u(e,!0)):c=!1)},a.send(null)}else!function(e){for(var t=0,a=f.length;t<a;t++)if(f[t]==e)return 1}(t)&&f.push(t)}function p(e){return e.permissions?"object"==typeof e.permissions?e.permissions.value?parseInt(e.permissions.value):0:parseInt(e.permissions):0}window.auj=e,window.auj.aZG=d,window.bdV=new Array,window.beR=function(e){for(var t=0,a=bdV.length;t<a;t++)bdV[t].bfx(e)},window.bfr=function(e,t){for(var a=0,o=bdV.length;a<o;a++)bdV[a].aVp(e,t)},window.beK=function(e){for(var t=0,a=bdV.length;t<a;t++)bdV[t].aVb(e)},window.bfF=function(e){for(var t=0,a=bdV.length;t<a;t++)bdV[t].aZE(e)}}(jQuery),function(d){d.popup=function(e,t){this.$POP_oElement=d(e);this.POP_oElement=e,this.$root=this.$POP_oElement.data("popup",this).wrap('<div class="popup"><div class="popup_content" /></div>').parent().parent().prepend('<a href="javascript:void(0);" class="popup-close"></a>'),this.close(!0),this.options=d.extend({},d.popup.defaultOptions,t)},d.popup.prototype.open=function(e,t,a,o,n){dZ();var r,i=this,s=d(window);function l(e,t){var a={};a.top=Math.max(0,(t.height()-e.outerHeight(!0))/2+t.scrollTop()<t.scrollTop()?t.scrollTop()+10:(t.height()-e.outerHeight(!0))/2+t.scrollTop())+"px",a.left=Math.max(0,(t.width()-e.outerWidth(!0))/2)+"px",e.css(a)}e?this.$root[0].style.display="block":this.$root.fadeIn(),d("body").addClass("lightboxActive"),void 0!==t&&void 0!==a?(r={top:t,left:a},void 0!==o&&(r.bottom=o),void 0!==n&&(r.right=n),this.$root.css(r)):(l(this.$root,s),s.resize(function(){l(i.$root,s)})),window.Ms&&window.Ms(this.$root.context.id),window.OX&&(r=this.$root[0],window.OX(r.offsetWidth,r.offsetHeight),PJ(r,function(e){window.OX(e.target.offsetWidth,e.target.offsetHeight)}))},d.popup.prototype.close=function(e){cU(),this.$root.fadeOut(),!e&&window.MYF_TriggerDesktopClose&&window.MYF_TriggerDesktopClose(this.$root.context.id),"sharebox"==this.$root.context.id&&d(this.$root.context).children().first().remove(),d("body").removeClass("lightboxActive")},d.popup.defaultOptions={},d.fn.popup=function(t){return this.each(function(){var e=new d.popup(this,t);e.options,d(this);e.$root.delegate(".close, .popup-close","click",function(){e.close()})})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,a,o,n){return jQuery.easing[jQuery.easing.def](e,t,a,o,n)},easeInQuad:function(e,t,a,o,n){return o*(t/=n)*t+a},easeOutQuad:function(e,t,a,o,n){return-o*(t/=n)*(t-2)+a},easeInOutQuad:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t+a:-o/2*(--t*(t-2)-1)+a},easeInCubic:function(e,t,a,o,n){return o*(t/=n)*t*t+a},easeOutCubic:function(e,t,a,o,n){return o*((t=t/n-1)*t*t+1)+a},easeInOutCubic:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t*t+a:o/2*((t-=2)*t*t+2)+a},easeInQuart:function(e,t,a,o,n){return o*(t/=n)*t*t*t+a},easeOutQuart:function(e,t,a,o,n){return-o*((t=t/n-1)*t*t*t-1)+a},easeInOutQuart:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t*t*t+a:-o/2*((t-=2)*t*t*t-2)+a},easeInQuint:function(e,t,a,o,n){return o*(t/=n)*t*t*t*t+a},easeOutQuint:function(e,t,a,o,n){return o*((t=t/n-1)*t*t*t*t+1)+a},easeInOutQuint:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t*t*t*t+a:o/2*((t-=2)*t*t*t*t+2)+a},easeInSine:function(e,t,a,o,n){return-o*Math.cos(t/n*(Math.PI/2))+o+a},easeOutSine:function(e,t,a,o,n){return o*Math.sin(t/n*(Math.PI/2))+a},easeInOutSine:function(e,t,a,o,n){return-o/2*(Math.cos(Math.PI*t/n)-1)+a},easeInExpo:function(e,t,a,o,n){return 0==t?a:o*Math.pow(2,10*(t/n-1))+a},easeOutExpo:function(e,t,a,o,n){return t==n?a+o:o*(1-Math.pow(2,-10*t/n))+a},easeInOutExpo:function(e,t,a,o,n){return 0==t?a:t==n?a+o:(t/=n/2)<1?o/2*Math.pow(2,10*(t-1))+a:o/2*(2-Math.pow(2,-10*--t))+a},easeInCirc:function(e,t,a,o,n){return-o*(Math.sqrt(1-(t/=n)*t)-1)+a},easeOutCirc:function(e,t,a,o,n){return o*Math.sqrt(1-(t=t/n-1)*t)+a},easeInOutCirc:function(e,t,a,o,n){return(t/=n/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+a:o/2*(Math.sqrt(1-(t-=2)*t)+1)+a},easeInElastic:function(e,t,a,o,n){var r=1.70158,i=0,s=o;return 0==t?a:1==(t/=n)?a+o:(i=i||.3*n,r=s<Math.abs(o)?(s=o,i/4):i/(2*Math.PI)*Math.asin(o/s),-(s*Math.pow(2,10*--t)*Math.sin((t*n-r)*(2*Math.PI)/i))+a)},easeOutElastic:function(e,t,a,o,n){var r=1.70158,i=0,s=o;return 0==t?a:1==(t/=n)?a+o:(i=i||.3*n,r=s<Math.abs(o)?(s=o,i/4):i/(2*Math.PI)*Math.asin(o/s),s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/i)+o+a)},easeInOutElastic:function(e,t,a,o,n){var r=1.70158,i=0,s=o;return 0==t?a:2==(t/=n/2)?a+o:(i=i||n*(.3*1.5),r=s<Math.abs(o)?(s=o,i/4):i/(2*Math.PI)*Math.asin(o/s),t<1?s*Math.pow(2,10*--t)*Math.sin((t*n-r)*(2*Math.PI)/i)*-.5+a:s*Math.pow(2,-10*--t)*Math.sin((t*n-r)*(2*Math.PI)/i)*.5+o+a)},easeInBack:function(e,t,a,o,n,r){return o*(t/=n)*t*(((r=null==r?1.70158:r)+1)*t-r)+a},easeOutBack:function(e,t,a,o,n,r){return o*((t=t/n-1)*t*(((r=null==r?1.70158:r)+1)*t+r)+1)+a},easeInOutBack:function(e,t,a,o,n,r){return null==r&&(r=1.70158),(t/=n/2)<1?o/2*(t*t*((1+(r*=1.525))*t-r))+a:o/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+a},easeInBounce:function(e,t,a,o,n){return o-jQuery.easing.easeOutBounce(e,n-t,0,o,n)+a},easeOutBounce:function(e,t,a,o,n){return(t/=n)<1/2.75?o*(7.5625*t*t)+a:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+a:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+a:o*(7.5625*(t-=2.625/2.75)*t+.984375)+a},easeInOutBounce:function(e,t,a,o,n){return t<n/2?.5*jQuery.easing.easeInBounce(e,2*t,0,o,n)+a:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,o,n)+.5*o+a}}),function(r){r.fn.tabs=function(a){return this.each(function(){var e=r(this),t=e.children("ul"),o=e.children("div"),n=r.extend({},r.fn.tabs.defaults,a);e.data("tabs",n),t.find("li > a").click(function(){var e=r(this),t=e.parent(),a=n.currentClass;return t.addClass(a).siblings().removeClass(a),o.filter("."+a).trigger("close").removeClass(a).end().filter("#"+e.attr("href").slice(1)).addClass(a).trigger("open"),!1})})},r.fn.tabs.defaults={currentClass:"current"}}(jQuery),jQuery.fn.dragToSelect=function(e){for(var s=jQuery.extend({selectables:"#main_list li",not:".collaborate-active",excludes:["li.row_container","#myfiles_viewtabs_bar","#myfiles_controlbar_outer","#header","#contextmenu","#folderTree"],className:"jquery-drag-to-select",activeClass:"dragselect_active",disabledClass:"dragselect_disabled",selectedClass:"dragselect_selected",scrollTH:10,percentCovered:.8,autoScroll:!1,selectOnMove:!1,onShow:function(){return!0},onHide:function(){return!0},onRefresh:function(){return!0}},"object"==typeof e?e:{}),l=!1,n=!1,r=!1,a=jQuery(this),d=a,i=!0,c=!1,f=!1;!/auto|scroll|hidden/.test(d.css("overflow"))&&(d=d.parent())[0].parentNode;);if("disable"==e)return d.addClass(s.disabledClass),this;if("enable"==e)return d.removeClass(s.disabledClass),this;var e=d.offset(),u={left:e.left,top:e.top,width:d.width(),height:d.height()},p={left:0,top:0},h=jQuery("<div/>").appendTo(d).attr("class",s.className).css({position:"absolute",background:"#def",display:"none",opacity:.3,filter:"alpha(opacity=30)",zIndex:500,border:"1px solid #369"});$(document).bind("keydown","ctrl",function(){l=!0}),$(document).bind("keyup","ctrl",function(){l=!1});function m(){var e,t,n;h.is(":visible")&&!d.is("."+s.disabledClass)&&(e=a.find(s.selectables).not(s.not),t=h.offset(),n={left:t.left,top:t.top,width:h.width(),height:h.height()},e.each(function(e){var t=$(this),a=t.offset(),o={left:a.left,top:a.top,width:t.width(),height:t.height()},a=t.hasClass(s.selectedClass);g(n,o)>s.percentCovered?a||t.addClass(s.selectedClass):a&&t.removeClass(s.selectedClass)}))}var g=function(e,t){if(e.left<=t.left&&e.top<=t.top&&e.left+e.width>=t.left+t.width&&e.top+e.height>t.top+t.height)return 100;e.right=e.left+e.width,e.bottom=e.top+e.height,t.right=t.left+t.width,t.bottom=t.top+t.height;var a=Math.max(e.left,t.left),o=Math.min(e.right,t.right),n=Math.max(e.top,t.top),e=Math.min(e.bottom,t.bottom);return n<=e&&a<=o?(o-a)*(e-n)/(t.width*t.height)*100:0};return jQuery.fn.disableTextSelect&&d.disableTextSelect(),d.on("mousedown.dts",function(a){var o=!0;$.each(s.excludes,function(e,t){0<$(a.target).closest(t).length&&(o=!1)}),(o=a.pageX+20>$(document.body).width()?!1:o)&&1==a.which&&(i=!(c=!0),l&&(n=!0),d.on("mousemove.dts",function(e){var t,a,o,n,r,i;c&&(f=!0,h.is(":visible")?h.width()&&h.css("z-index","100"):(i=e,d.is("."+s.disabledClass)||(p.left=i.pageX-u.left+d[0].scrollLeft,p.top=i.pageY-u.top+d[0].scrollTop,i={left:p.left+"px",top:p.top+"px",width:"0",height:"0",zIndex:"-100"},h.css(i).show(),s.onShow(l))),t=e,h.is(":visible")&&!d.is("."+s.disabledClass)&&(n=a=t.pageX-u.left+d[0].scrollLeft,r=o=t.pageY-u.top+d[0].scrollTop,i=p.left-a,t=p.top-o,a>p.left&&(n=p.left,i=a-p.left),o>p.top&&(r=p.top,t=o-p.top),h.css({left:n+"px",top:r+"px",width:i+"px",height:t+"px"}),s.onRefresh()),s.selectables&&s.selectOnMove&&m(),s.autoScroll&&(e=e,h.is(":visible")&&!d.is("."+s.disabledClass)&&(e.pageY+s.scrollTH>u.top+u.height&&(d[0].scrollTop+=s.scrollTH),e.pageY-s.scrollTH<u.top&&(d[0].scrollTop-=s.scrollTH))))}).on("mouseleave.dts",function(e){c&&$(this).mouseup()}).on("mouseup.dts",function(e){var t;f&&(f=c=!(i=!0),s.selectables&&m(),l&&n&&(n=l=!(r=!0)),h.is(":visible")&&!d.is("."+s.disabledClass)&&(void 0!==s.onHide&&(t={top:(t=h.offset()).top,left:t.left,width:h.width(),height:h.height()},s.onHide(r,t)),h.hide(),r=!1)),i&&!c||(c=!(i=!0)),d.unbind("mousemove.dts mouseleave.dts mouseup.dts")}))}),this},function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}(function(){return function o(n,r,i){function s(a,e){if(!r[a]){if(!n[a]){var t="function"==typeof require&&require;if(!e&&t)return t(a,!0);if(l)return l(a,!0);t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[a]={exports:{}};n[a][0].call(t.exports,function(e){var t=n[a][1][e];return s(t||e)},t,t.exports,o,n,r,i)}return r[a].exports}for(var l="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(e,t,a){var o;"undefined"==typeof Element||Element.prototype.matches||((o=Element.prototype).matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector),t.exports=function(e,t){for(;e&&9!==e.nodeType;){if(e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,a){var i=e("./closest");t.exports=function(e,t,a,o,n){var r=function(t,a,e,o){return function(e){e.delegateTarget=i(e.target,a),e.delegateTarget&&o.call(t,e)}}.apply(this,arguments);return e.addEventListener(a,r,n),{destroy:function(){e.removeEventListener(a,r,n)}}}},{"./closest":1}],3:[function(e,t,a){a.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},a.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||a.node(e[0]))},a.string=function(e){return"string"==typeof e||e instanceof String},a.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,a){var d=e("./is"),c=e("delegate");t.exports=function(e,t,a){if(!e&&!t&&!a)throw new Error("Missing required arguments");if(!d.string(t))throw new TypeError("Second argument must be a String");if(!d.fn(a))throw new TypeError("Third argument must be a Function");if(d.node(e))return n=t,r=a,(o=e).addEventListener(n,r),{destroy:function(){o.removeEventListener(n,r)}};var o,n,r,i,s,l;if(d.nodeList(e))return i=e,s=t,l=a,Array.prototype.forEach.call(i,function(e){e.addEventListener(s,l)}),{destroy:function(){Array.prototype.forEach.call(i,function(e){e.removeEventListener(s,l)})}};if(d.string(e))return c(document.body,e,t,a);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,a){t.exports=function(e){var t,a="SELECT"===e.nodeName?(e.focus(),e.value):"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?((t=e.hasAttribute("readonly"))||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),e.value):(e.hasAttribute("contenteditable")&&e.focus(),a=window.getSelection(),(t=document.createRange()).selectNodeContents(e),a.removeAllRanges(),a.addRange(t),a.toString());return a}},{}],6:[function(e,t,a){function o(){}o.prototype={on:function(e,t,a){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function o(){n.off(e,o),t.apply(a,arguments)}var n=this;return o._=t,this.on(e,o,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),o=0,n=a.length;o<n;o++)a[o].fn.apply(a[o].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),o=a[e],n=[];if(o&&t)for(var r=0,i=o.length;r<i;r++)o[r].fn!==t&&o[r].fn._!==t&&n.push(o[r]);return n.length?a[e]=n:delete a[e],this}},t.exports=o},{}],7:[function(e,t,a){var o,n;o=this,n=function(e,t){"use strict";var a,o=(a=t)&&a.__esModule?a:{default:a},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(function(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}(i,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";t=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=t+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":n(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),i);function i(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.resolveOptions(e),this.initSelection()}function s(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=r},void 0!==a?n(t,e("select")):(n(n={exports:{}},o.select),o.clipboardAction=n.exports)},{select:5}],8:[function(e,t,a){var o,n;o=this,n=function(e,t,a,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){e="data-clipboard-"+e;if(t.hasAttribute(e))return t.getAttribute(e)}var i=n(t),a=n(a),s=n(o),o=function(e,t,a){return t&&d(e.prototype,t),a&&d(e,a),e},o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,a.default),o(l,[{key:"resolveOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){e=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(e){return r("action",e)}},{key:"defaultTarget",value:function(e){e=r("target",e);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(e){return r("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof e?[e]:e,t=!!document.queryCommandSupported;return e.forEach(function(e){t=t&&!!document.queryCommandSupported(e)}),t}}]),l);function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return a.resolveOptions(t),a.listenClick(e),a}function d(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},void 0!==a?n(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener")):(n(n={exports:{}},o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=n.exports)},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(n,a){var e,o,r,t,i,s,l,d="hashchange",c=document,f=n.event.special,u=c.documentMode,p="on"+d in a&&(void 0===u||7<u);function h(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}function m(e){return e}function g(){var e=h(),t=l(i);e!==i?(s(i=e,t),n(a).trigger(d)):t!==i&&(location.href=location.href.replace(/#.*/,"")+t),o=setTimeout(g,n.fn[d].delay)}n.fn[d]=function(e){return e?this.bind(d,e):this.trigger(d)},n.fn[d].delay=50,f[d]=n.extend(f[d],{setup:function(){if(p)return!1;n(e.start)},teardown:function(){if(p)return!1;n(e.stop)}}),f={},i=h(),l=s=m,f.start=function(){o||g()},f.stop=function(){o&&clearTimeout(o),o=void 0},n.browser.msie&&!p&&(f.start=function(){r||(t=(t=n.fn[d].src)&&t+h(),r=n('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){t||s(h()),g()}).attr("src",t||"javascript:0").insertAfter("body")[0].contentWindow,c.onpropertychange=function(){try{"title"===event.propertyName&&(r.document.title=c.title)}catch(e){}})},f.stop=m,l=function(){return h(r.location.href)},s=function(e,t){var a=r.document,o=n.fn[d].domain;e!==t&&(a.title=c.title,a.open(),o&&a.write('<script>document.domain="'+o+'"<\/script>'),a.close(),r.location.hash=e)}),e=f}(jQuery,this),function(o){var n=o("<b/>");o.subscribe=function(e,t){function a(){return t.apply(this,Array.prototype.slice.call(arguments,1))}a.guid=t.guid=t.guid||(o.guid?o.guid++:o.event.guid++),n.bind(e,a)},o.unsubscribe=function(){n.unbind.apply(n,arguments)},o.publish=function(){n.trigger.apply(n,arguments)}}(jQuery),function(d){function e(e){var s,l;"string"==typeof e.data&&(s=e.handler,l=e.data.toLowerCase().split(" "),e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var t="keypress"!==e.type&&d.hotkeys.specialKeys[e.which],a=String.fromCharCode(e.which).toLowerCase(),o="",n={};e.altKey&&"alt"!==t&&(o+="alt+"),e.ctrlKey&&"ctrl"!==t&&(o+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==t&&(o+="meta+"),e.shiftKey&&"shift"!==t&&(o+="shift+"),t?n[o+t]=!0:(n[o+a]=!0,n[o+d.hotkeys.shiftNums[a]]=!0,"shift+"===o&&(n[d.hotkeys.shiftNums[a]]=!0));for(var r=0,i=l.length;r<i;r++)if(n[l[r]])return s.apply(this,arguments)}})}d.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},d.each(["keydown","keyup","keypress"],function(){d.event.special[this]={add:e}})}(jQuery),function(n){n.dropdown=function(e,t){this.$DD_oElement=n(e);this.DD_oElement=e,this.$DD_oElement.data("dropdown",this),this.options=n.extend({},n.dropdown.defaultOptions,t="function"==typeof t?{command:t}:t)},n.dropdown.prototype.show=function(){this.$DD_oElement.addClass("show_dropdown")},n.dropdown.prototype.hide=function(){this.$DD_oElement.removeClass("show_dropdown")},n.dropdown.prototype.toggle=function(e){this.$DD_oElement.toggleClass("show_dropdown",e)},n.dropdown.prototype.isHidden=function(){this.$DD_oElement.hasClass("show_dropdown")},n.dropdown.prototype.label=function(e){this.$DD_oElement.find(this.options.acc).html(e)},n.dropdown.defaultOptions={useLabel:!1,acc:"> a",adc:"click",ada:"li[data-command]",adD:"click",command:n.noop,acN:n.noop,adm:n.noop,stayOpen:!1},n.fn.dropdown=function(e){return this.each(function(){var t=new n.dropdown(this,e),a=t.options,o=n(this);o.find(a.acc).bind(a.adc,function(e){a.acN.call(o),t.toggle(),a.adm.call(o)}),o.delegate(a.ada,a.adD,function(e){a.command.call(o,n(this).data("command"),this,e),a.useLabel&&t.label(this.innerHTML),t.hide()}),o.mouseleave(function(e){!1===a.stayOpen&&t.hide()})})}}(jQuery);

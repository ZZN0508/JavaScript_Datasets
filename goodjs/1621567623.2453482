!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var a;n(1),n(2);var i,r,o=n(3);function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw r}}}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i=window,r=function(){var e=i,t=function(t,n){var a,r,d=document,l=this;"string"==typeof t&&(t=d.getElementById(t),this.timeline=t);var u=function(e){return d.querySelectorAll(e)[0]},v=function(e,t){return e&&e[t]||""},f=function(e,t){if(e)for(var n=e.length,a=0;a<n;a++)t(a,e[a])},p=function(e,t,n){var a=[t.toLowerCase(),"webkit".concat(t),"MS".concat(t),"o".concat(t)];f(a,(function(t,a){e[a]=n}))},y=function(e,t,n){var a=[n.toLowerCase(),"webkit".concat(n),"MS".concat(n),"o".concat(n)];f(a,(function(n,a){e.addEventListener(a,t,!1)}))},g=function(e,t){y(e,t,"AnimationEnd")},h=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},b=function(e,t){var n="RequestFullScreen";try{t?(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen().catch((function(){})):document.mozCancelFullScreen?document.mozCancelFullScreen().catch((function(){})):document.webkitExitFullscreen&&document.webkitExitFullscreen().catch((function(){}))):e.requestFullScreen?e.requestFullScreen():e["ms".concat(n)]?e["ms".concat(n)]():e["moz".concat(n)]?e["moz".concat(n)]():e["webkit".concat(n)]&&e["webkit".concat(n)]()}catch(e){console.warn("[Zuck.js] Can't access fullscreen")}},k=function(e,t,n,a){var i=t>0?1:-1,r=Math.abs(t)/u("#zuck-modal").offsetWidth*90*i;if(D("cubeEffect")){var o=0===r?"scale(0.95)":"scale(0.930,0.930)";if(p(u("#zuck-modal-content").style,"Transform",o),r<-90||r>90)return!1}var c=D("cubeEffect")?"rotateY(".concat(r,"deg)"):"translate3d(".concat(t,"px, 0, 0)");e&&(p(e.style,"TransitionTimingFunction",a),p(e.style,"TransitionDuration","".concat(n,"ms")),p(e.style,"Transform",c))},I=function(e,t,n,a){var i=0,r=0;if(e){if(e.offsetParent)do{if(i+=e.offsetLeft,r+=e.offsetTop,e===a)break}while(e=e.offsetParent);t&&(r-=t),n&&(i-=n)}return[i,r]},w=function(e){e=1e3*Number(e);var t=new Date(e),n=t.getTime(),a=((new Date).getTime()-n)/1e3,i=D("language","time"),r=[[60," ".concat(i.seconds),1],[120,"1 ".concat(i.minute),""],[3600," ".concat(i.minutes),60],[7200,"1 ".concat(i.hour),""],[86400," ".concat(i.hours),3600],[172800," ".concat(i.yesterday),""],[604800," ".concat(i.days),86400]],o=1;a<0&&(a=Math.abs(a),o=2);for(var c=0,s=void 0;s=r[c++];)if(a<s[0])return"string"==typeof s[2]?s[o]:Math.floor(a/s[2])+s[1];var d=t.getDate(),l=t.getMonth(),u=t.getFullYear();return"".concat(d,"/").concat(l+1,"/").concat(u)},E=function(e){e=e.split(/:(http.*)/)[1];var t=document.createElement("img");return t.height=1,t.width=1,t.setAttribute("style","display:none"),t.src=e,t},x=function(e,t){var a=l.data[e],i=a.items[t],r={pid:a.placementId,frid:i.id,uid:n.userId};if(n.ads)r=m(m({},r),{crid:a.items[t].creativeId,liid:a.items[t].lineItemId});else{var o=n.stories.find((function(t){return t.id==e}));r=m(m({},r),{crid:o.creativeId,liid:o.lineItemId})}return r},A=function(e){var t,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imp";if(i){var o=n.ads.find((function(e){return e.id===i}));t=o.thirdPartyImpressionPixels||[]}else{var c=n.stories.find((function(t){return t.id==e}));t=c.thirdPartyImpressionPixels||[]}"imp"==r?a=t.filter((function(e){return/script:(.*)|imp:(.*)/.test(e)})):"view"==r&&(a=t.filter((function(e){return/view:(.*)|script,view:(.*)/.test(e)}))),a.length>0&&a.forEach((function(e){if(e.length>0){var t=e.match(/script:(.*)/);if(t){var n=document.createElement("script");n.src=t[1],document.getElementsByTagName("body")[0].appendChild(n)}else{var a=E(e);document.getElementsByTagName("body")[0].appendChild(a)}}}))},S=function(t,i,c){clearTimeout(a),clearTimeout(r);var s=l.data[i].items[c];!function(t,n,a){clearTimeout(r);var i=x(n,a),c=t.length/4*1e3;r=setTimeout((function(){(0,o.createEvent)("track","q1",i.pid,i.crid,i.frid,i.liid,i.uid,"",e.stories_sessionId),r=setTimeout((function(){(0,o.createEvent)("track","q2",i.pid,i.crid,i.frid,i.liid,i.uid,"",e.stories_sessionId),r=setTimeout((function(){(0,o.createEvent)("track","q3",i.pid,i.crid,i.frid,i.liid,i.uid,"",e.stories_sessionId),r=setTimeout((function(){(0,o.createEvent)("track","q4",i.pid,i.crid,i.frid,i.liid,i.uid,"",e.stories_sessionId)}),c)}),c)}),c)}),c)}(s,i,c),a=setTimeout((function(){(0,o.createEvent)("track","view",t.pid,t.crid,t.frid,t.liid,t.uid,n.placementMetadata,e.stories_sessionId),"1"===s.ad?A(i,s.creativeId,"view"):A(i,!1,"view")}),2e3)},L=t.id,T=0,C={skin:"snapgram",avatars:!0,stories:[],backButton:!0,backNative:!0,previousTap:!0,autoFullScreen:!1,openEffect:!0,cubeEffect:!1,list:!1,placementId:null,lineItemId:null,localStorage:!0,callbacks:{onRender:function(e,t){return t},onOpen:function(t,a,i){window.stories.initialScroll=i,setTimeout((function(){scrollTo(0,0)}),250);var r=x(t,T);(0,o.createEvent)("track","tap",r.pid,r.crid,r.frid,r.liid,r.uid,n.placementMetadata,e.stories_sessionId),a()},onView:function(t,i){clearTimeout(a),clearTimeout(r);var c=x(t,T=0);(0,o.createEvent)("track","start",c.pid,c.crid,c.frid,c.liid,c.uid,n.placementMetadata,e.stories_sessionId);var s=l.data[t].items[T];"1"===s.ad?A(t,s.creativeId,"imp"):A(t,!1,"imp"),S(c,t,T)},onEnd:function(t,a){var i=x(t,T);(0,o.createEvent)("track","full",i.pid,i.crid,i.frid,i.liid,i.uid,n.placementMetadata,e.stories_sessionId),a()},onClose:function(t,i){clearTimeout(a),clearTimeout(r);var c=x(t,T);(0,o.createEvent)("track","close",c.pid,c.crid,c.frid,c.liid,c.uid,n.placementMetadata,e.stories_sessionId),i()},onNextItem:function(e,t,n,a){a()},onNavigateItem:function(t,a,i,r){T+=1;var c=x(t,i),s=l.data[t].items[T];(0,o.createEvent)("track","imp",c.pid,c.crid,c.frid,c.liid,c.uid,n.placementMetadata,e.stories_sessionId),"1"===s.ad?A(t,s.creativeId,"imp"):A(t,!1,"imp"),S(c,t,i),r()}},language:{unmute:"Activa el sonido",keyboardTip:"Press space to see next",visitLink:"Ver mÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬ ÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬ ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬ÃƒÂ¢Ã¢â‚¬Å¾Ã‚Â¢ÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã‚Â¡ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â¡s",time:{ago:"ago",hour:"hour ago",hours:"hours ago",minute:"minute ago",minutes:"minutes ago",fromnow:"from now",seconds:"seconds ago",yesterday:"yesterday",tomorrow:"tomorrow",days:"days ago"}}},D=function(e,t){var a=function(e){return void 0!==e};return t?a(n[e])&&a(n[e][t])?n[e][t]:C[e][t]:a(n[e])?n[e]:C[e]},z=new function(){var t,a,r=u("#zuck-modal");r||e.Zuck.hasModal||(e.Zuck.hasModal=!0,(r=d.createElement("div")).id="zuck-modal",D("cubeEffect")&&(r.className="with-cube"),r.innerHTML='<div id="zuck-modal-content"></div>',r.style.display="none",r.setAttribute("tabIndex","1"),r.onkeyup=function(e){var t=e.keyCode;27===t?z.close():13!==t&&32!==t||z.next()},D("openEffect")&&r.classList.add("with-effects"),a=function(){r.classList.contains("closed")&&(o.innerHTML="",r.style.display="none",r.classList.remove("closed"),r.classList.remove("animated"))},(t=r).transitionEndEvent||(t.transitionEndEvent=!0,y(t,a,"TransitionEnd")),d.body.appendChild(r));var o=u("#zuck-modal-content"),m=function(e){var t=u("#zuck-modal"),n="",a="",i="0",r=u("#zuck-modal-slider-".concat(L)),o={previous:u("#zuck-modal .story-viewer.previous"),next:u("#zuck-modal .story-viewer.next"),viewing:u("#zuck-modal .story-viewer.viewing")};if(!o.previous&&!e||!o.next&&e)return!1;e?(n="next",a="previous"):(n="previous",a="next"),D("cubeEffect")?"previous"===n?i=t.slideWidth:"next"===n&&(i=-1*t.slideWidth):i=-1*(i=I(o[n]))[0],k(r,i,600,null),setTimeout((function(){if(""!==n&&o[n]&&""!==a){var e=o[n].getAttribute("data-story-id");l.internalData.currentStory=e;var t=u("#zuck-modal .story-viewer.".concat(a));t&&t.parentNode.removeChild(t),o.viewing&&(o.viewing.classList.add("stopped"),o.viewing.classList.add(a),o.viewing.classList.remove("viewing")),o[n]&&(o[n].classList.remove("stopped"),o[n].classList.remove(n),o[n].classList.add("viewing"));var i=N(n);i&&p(i,n);var c=l.internalData.currentStory,s=u('#zuck-modal [data-story-id="'.concat(c,'"]'));if(s){var d=(s=s.querySelectorAll("[data-index].active"))[0].firstElementChild;l.data[c].currentItem=parseInt(s[0].getAttribute("data-index"),10),s[0].innerHTML='<b style="'.concat(d.style.cssText,'"></b>'),g(s[0].firstElementChild,(function(){l.nextItem(!1)}))}k(r,"0",0,null),s&&q([s[0],s[1]],!0),D("callbacks","onView")(l.internalData.currentStory)}}),650)},p=function(e,t,a){var i=u("#zuck-modal-slider-".concat(L)),r="",o="",c=v(e,"id"),s=d.createElement("div"),m=v(e,"currentItem")||0,p=u('#zuck-modal .story-viewer[data-story-id="'.concat(c,'"]')),y="";if(p)return!1;s.className="slides",f(v(e,"items"),(function(t,a){m>t&&(e.items[t].seen=!0,a.seen=!0);var i=v(a,"id"),s=v(a,"length"),d=v(a,"linkText"),l=!0===v(a,"seen")?"seen":"",u='data-index="'.concat(t,'" data-item-id="').concat(i,'"'),f=D("callbacks","onRender");m===t&&(y=w(v(a,"time"))),o+="\n                            <span ".concat(u,' class="').concat(m===t?"active":""," ").concat(l,'">\n                                <b style="animation-duration:').concat(""===s?"3":s,'s"></b>\n                            </span>'),r+='\n            <div data-time="'.concat(v(a,"time"),'" data-type="').concat(v(a,"type"),'"').concat(u,' class="item ').concat(l," ").concat(m===t?"active":"",'">\n                ').concat(f(a,"\n                ".concat("video"===v(a,"type")?v(a,"sound")?'<video class="media" muted webkit-playsinline playsinline preload="auto" src="'.concat(v(a,"src"),'" ').concat(v(a,"type"),'></video>\n                                    <b class="tip muted">').concat(D("language","unmute"),"</b>"):'<video class="media" muted webkit-playsinline playsinline preload="auto" src="'.concat(v(a,"src"),'" ').concat(v(a,"type"),"></video>"):'<img class="media" src="'.concat(v(a,"src"),'" ').concat(v(a,"type"),">"),"\n\n                ").concat(v(a,"link")?'\n                        <a class="tip link" href="'.concat(function(e,t,a){var i=n.stories.find((function(t){return t.id==e})),r=(new Date).getTime();return"1"===t.ad&&(i.lineItemId=t.lineItemId),console.log("https://trk.bmndsc.com/t/track/clk?pid="+i.placementId+"&crid="+i.creativeId+"&frid="+t.id+"&liid="+i.lineItemId+"&uid="+n.userId+"&timestamp="+r+"&r="+encodeURIComponent(a)),"https://trk.bmndsc.com/t/track/clk?pid="+i.placementId+"&crid="+i.creativeId+"&frid="+t.id+"&liid="+i.lineItemId+"&uid="+n.userId+"&timestamp="+r+"&r="+encodeURIComponent(a)}(c,a,v(a,"link")),'" rel="noopener" target="_blank">\n                        ').concat(d&&""!==d?d:D("language","visitLink"),"\n                        </a>\n                "):"\n                ","\n                ")),"\n            </div>")})),s.innerHTML=r;var b=s.querySelector("video"),k=function(e){e.muted?I.classList.add("muted"):I.classList.remove("muted")};b&&(b.onwaiting=function(e){b.paused&&(I.classList.add("paused"),I.classList.add("loading"))},b.onplay=function(){k(b),I.classList.remove("stopped"),I.classList.remove("paused"),I.classList.remove("loading")},b.onready=b.onload=b.onplaying=b.oncanplay=function(){k(b),I.classList.remove("loading")},b.onvolumechange=function(){k(b)}),s.querySelectorAll("b.tip.muted").forEach((function(e){e.addEventListener("touchend",(function(e){e.preventDefault(),e.stopPropagation(),_(b,I)}))}));var I=d.createElement("div");I.className="story-viewer muted ".concat(t," ").concat(a?"":"stopped"," ").concat(D("backButton")?"with-back-button":""),I.setAttribute("data-story-id",c);var E='<div class="head"><div class="left">'.concat(D("backButton")?'<a class="back">&times;</a>':"",'<u class="img" style="background-image:url(').concat(v(e,"photo"),');"></u><div><strong>').concat(v(e,"name"),'</strong><span class="time">').concat(y,'</span></div></div><div class="right"><span class="time">').concat(y,'</span><span class="loading"></span><a class="close" tabIndex="2">&times;</a></div></div><div class="slides-pointers"><div>').concat(o,"</div></div>");I.innerHTML=E,f(I.querySelectorAll(".close, .back"),(function(e,t){t.onclick=function(e){e.preventDefault(),z.close()}})),I.appendChild(s),"viewing"===t&&q(I.querySelectorAll('[data-index="'.concat(m,'"].active')),!1),f(I.querySelectorAll(".slides-pointers [data-index] > b"),(function(e,t){g(t,(function(){l.nextItem(!1)}))})),"previous"===t?h(i,I):i.appendChild(I)};return{show:function(e,t){var a=u("#zuck-modal");if(n.ads){document.querySelectorAll('li[data-ad="1"]').forEach((function(e){var t=e.parentElement.parentElement.dataset.id,n=e.dataset.id;l.removeItem(t,n)})),Object.entries(l.data).forEach((function(e,t){var n=s(e,2),a=(n[0],n[1]);a.items=a.items.filter((function(e){return"1"!==e.ad}))}));var r=n.ads.flatMap((function(e){return e.items.map((function(t){var n=t.id;return Object.assign(t,e),delete t.items,delete t.thirdPartyImpressionPixels,t.id=n,t}))}));n.cleanAds=r;var d,v=0,f=c(n.stories.entries());try{for(f.s();!(d=f.n()).done;){var y,g=s(d.value,2),h=(g[0],g[1]),w=c(h.items.entries());try{for(w.s();!(y=w.n()).done;){var E=s(y.value,2),x=E[0];if(E[1],v&&!(v%n.adRatio)&&x>0){var A=r.pop();l.addItem(h.id,A,!1,A.id,x),r.unshift(A)}v+=1}}catch(e){w.e(e)}finally{w.f()}}}catch(e){f.e(e)}finally{f.f()}}D("callbacks","onOpen")(e,(function(){o.innerHTML='<div id="zuck-modal-slider-'.concat(L,'" class="slider"></div>');var t=l.data[e],n=t.currentItem||0;!function(e){var t=u("#zuck-modal"),n=e,a={},r=void 0,o=void 0,c=void 0,s=void 0,d=void 0,v=function(e){var i=u("#zuck-modal .viewing");if("A"===e.target.nodeName)return!0;e.preventDefault();var l=e.touches?e.touches[0]:e,m=I(u("#zuck-modal .story-viewer.viewing"));t.slideWidth=u("#zuck-modal .story-viewer").offsetWidth,a={x:m[0],y:m[1]};var v=l.pageX,y=l.pageY;r={x:v,y:y,time:Date.now()},o=void 0,c={},n.addEventListener("mousemove",f),n.addEventListener("mouseup",p),n.addEventListener("mouseleave",p),n.addEventListener("touchmove",f),n.addEventListener("touchend",p),i&&i.classList.add("paused"),P(),s=setTimeout((function(){i.classList.add("longPress")}),600),d=setTimeout((function(){clearInterval(d),d=!1}),250)},f=function(e){var t=e.touches?e.touches[0]:e,i=t.pageX,s=t.pageY;r&&(c={x:i-r.x,y:s-r.y},void 0===o&&(o=!!(o||Math.abs(c.x)<Math.abs(c.y))),!o&&r&&(e.preventDefault(),k(n,a.x+c.x,0,null)))},p=function e(v){var p=u("#zuck-modal .viewing"),y=r;if(c){var g=r?Date.now()-r.time:void 0,h=Number(g)<300&&Math.abs(c.x)>25||Math.abs(c.x)>t.slideWidth/3,b=c.x<0,I=u(b?"#zuck-modal .story-viewer.next":"#zuck-modal .story-viewer.previous");o||(!h||b&&!I||!b&&!I?k(n,a.x,300):m(b)),r=void 0,n.removeEventListener("mousemove",f),n.removeEventListener("mouseup",e),n.removeEventListener("mouseleave",e),n.removeEventListener("touchmove",f),n.removeEventListener("touchend",e)}var w=l.internalData.currentVideoElement;if(s&&clearInterval(s),p&&(q(p.querySelectorAll(".active"),!1),p.classList.remove("longPress"),p.classList.remove("paused")),d){clearInterval(d),d=!1;var E=function(){y.x>i.screen.width/3||!D("previousTap")?l.navigateItem("next",v):l.navigateItem("previous",v)};if(!u("#zuck-modal .viewing")||!w)return E(),!1;E()}};n.addEventListener("touchstart",v),n.addEventListener("mousedown",v)}(u("#zuck-modal-slider-".concat(L))),l.internalData.currentStory=e,t.currentItem=n,D("backNative")&&(i.location.hash="#!".concat(L));var r=N("previous");r&&p(r,"previous"),p(t,"viewing",!0);var c=N("next");c&&p(c,"next"),D("autoFullScreen")&&a.classList.add("fullscreen");var s=function(){a.classList.contains("fullscreen")&&D("autoFullScreen")&&i.screen.width<=1024&&b(a),a.focus()};if(D("openEffect")){var d=u("#".concat(L,' [data-id="').concat(e,'"] .img')),v=I(d);a.style.marginLeft="".concat(v[0]+d.offsetWidth/2,"px"),a.style.marginTop="".concat(v[1]+d.offsetHeight/2,"px"),a.style.display="block",a.slideWidth=u("#zuck-modal .story-viewer").offsetWidth,setTimeout((function(){a.classList.add("animated")}),10),setTimeout((function(){s()}),300)}else a.style.display="block",a.slideWidth=u("#zuck-modal .story-viewer").offsetWidth,s();D("callbacks","onView")(e)}),scrollY)},next:function(e){D("callbacks","onEnd")(l.internalData.currentStory,(function(){var e=l.internalData.currentStory,t=u("#".concat(L,' [data-id="').concat(e,'"]'));t&&(t.classList.add("seen"),l.data[e].seen=!0,l.internalData.seenItems[e]=!0,B("seenItems",l.internalData.seenItems),j()),u("#zuck-modal .story-viewer.next")?m(!0):z.close()}))},close:function(){var e=u("#zuck-modal");D("callbacks","onClose")(l.internalData.currentStory,(function(){D("backNative")&&(i.location.hash=""),b(e,!0),D("openEffect")?e.classList.add("closed"):(o.innerHTML="",e.style.display="none")})),scrollTo(0,window.stories.initialScroll)}}},M=function(e){var t=e.getAttribute("data-id"),n=d.querySelectorAll("#".concat(L,' [data-id="').concat(t,'"] .items > li')),a=[];f(n,(function(e,t){var n=t.firstElementChild,i=n.firstElementChild;a.push({id:t.getAttribute("data-frame-id"),src:n.getAttribute("href"),length:n.getAttribute("data-length"),type:n.getAttribute("data-type"),time:n.getAttribute("data-time"),link:n.getAttribute("data-link"),linkText:n.getAttribute("data-linkText"),preview:i.getAttribute("src"),sound:t.getAttribute("data-sound"),lineItemId:t.getAttribute("data-lineitemid")||"",creativeId:t.getAttribute("data-creativeid")||"",ad:t.getAttribute("data-ad")||0,name:t.getAttribute("data-name")||"",photo:t.getAttribute("data-photo")||""})})),l.data[t].items=a},O=function(e){var t=e.getAttribute("data-id"),n=!1;l.internalData.seenItems[t]&&(n=!0),n?e.classList.add("seen"):e.classList.remove("seen");try{l.data[t]={id:t,photo:e.getAttribute("data-photo"),ad:e.getAttribute("data-ad"),placementId:e.getAttribute("data-placementid"),name:e.firstElementChild.lastElementChild.firstChild.innerText,link:e.firstElementChild.getAttribute("href"),lastUpdated:e.getAttribute("data-last-updated"),seen:n,items:[]}}catch(e){l.data[t]={items:[]}}e.onclick=function(e){e.preventDefault(),z.show(t)}},N=function(e){var t=l.internalData.currentStory,n="".concat(e,"ElementSibling");if(t){var a=u("#".concat(L,' [data-id="').concat(t,'"]'))[n];if(a){var i=a.getAttribute("data-id");return l.data[i]||!1}}return!1},j=function(){f(d.querySelectorAll("#".concat(L," .story.seen")),(function(e,t){var n=l.data[t.getAttribute("data-id")];t.parentNode.removeChild(t),l.add(n,!0)}))},q=function(e,t){var n=e[1],a=e[0];if(a.parentNode.parentNode.parentNode,!n||!a)return!1;var i=l.internalData.currentVideoElement;if(i&&i.pause(),"video"===n.getAttribute("data-type")){var r=n.getElementsByTagName("video")[0];if(!r)return l.internalData.currentVideoElement=!1,!1;var o=function(e){r.duration&&p(a.getElementsByTagName("b")[0].style,"AnimationDuration","".concat(r.duration,"s"))};o(),r.addEventListener("loadedmetadata",o),l.internalData.currentVideoElement=r,r.play()}else l.internalData.currentVideoElement=!1},P=function(){var e=l.internalData.currentVideoElement;if(e)try{e.pause()}catch(e){}},_=function(e,t){e.muted=!1,e.volume=1,e.removeAttribute("muted"),e.play(),e.paused&&(e.muted=!0,e.play()),t&&t.classList.remove("paused")},B=function(e,t){try{if(D("localStorage")){var n="zuck-".concat(L,"-").concat(e);i.localStorage[n]=JSON.stringify(t)}}catch(e){}};return l.data={},l.internalData={},l.internalData.seenItems=function(e){if(D("localStorage")){var t="zuck-".concat(L,"-").concat(e);return!!i.localStorage[t]&&JSON.parse(i.localStorage[t])}return!1}("seenItems")||{},l.add=l.update=function(e,n){var a,i=v(e,"id"),r=u("#".concat(L,' [data-id="').concat(i,'"]')),o=v(e,"items"),c=!1;l.data[i]={},r?c=r:(c=d.createElement("div")).className="story",!1===e.seen&&(l.internalData.seenItems[i]=!1,B("seenItems",l.internalData.seenItems)),c.setAttribute("data-id",i),c.setAttribute("data-placementId",v(e,"placementId")),c.setAttribute("data-ad",v(e,"ad")),c.setAttribute("data-photo",v(e,"photo")),c.setAttribute("data-last-updated",v(e,"lastUpdated")),v(e,"ad")&&c.setAttribute("style","display: none !important");var s=!1;o[0]&&(s=o[0].preview||""),a='<a href="'.concat(v(e,"link"),'"><span class="img"><u style="background-image:url(').concat(D("avatars")||!s||""===s?v(e,"photo"):s,')"></u></span><span class="info"><strong>').concat(v(e,"name"),'</strong><span class="time">').concat(w(v(e,"lastUpdated")),'</span></span></a><ul class="items"></ul>'),c.innerHTML=a,O(c),r||(n?t.appendChild(c):h(t,c)),f(o,(function(e,t){var a=v(t,"id");l.addItem(i,t,n,a)})),n||j()},l.next=function(){z.next()},l.remove=function(e){var t=u("#".concat(L,' > [data-id="').concat(e,'"]'));t.parentNode.removeChild(t)},l.addItem=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=u("#".concat(L,' > [data-id="').concat(e,'"]')),o=d.createElement("li");o.className=v(t,"seen")?"seen":"",o.setAttribute("data-id",v(t,"id")),o.setAttribute("data-frame-id",a),o.setAttribute("data-sound",v(t,"sound")),o.setAttribute("data-muted",!0),t.lineItemId?(o.setAttribute("data-ad",1),o.setAttribute("data-lineItemId",t.lineItemId),o.setAttribute("data-creativeId",t.creativeId),o.setAttribute("data-name",t.name),o.setAttribute("data-photo",t.photo)):o.setAttribute("data-ad",0),o.innerHTML='\n          <a\n            href="'.concat(v(t,"src"),'"\n            data-link="').concat(v(t,"link"),'"\n            data-linkText="').concat(v(t,"linkText"),'"\n            data-time="').concat(v(t,"time"),'"\n            data-type="').concat(v(t,"type"),'"\n            data-length="').concat(v(t,"length"),'"\n          >\n              <img src="').concat(v(t,"preview"),'">\n          </a>\n        ');var c=r.querySelectorAll(".items")[0];if(null===i)n?c.appendChild(o):h(c,o);else{var s=c.querySelectorAll("li[data-ad='0']")[i];c.insertBefore(o,s)}M(r)},l.removeItem=function(e,t){var n=u('[data-id="'.concat(e,'"] [data-id="').concat(t,'"]'));n.parentNode.removeChild(n)},l.navigateItem=l.nextItem=function(e,t){clearTimeout(a);var n=l.internalData.currentStory,i=l.data[n].currentItem,r=u('#zuck-modal .story-viewer[data-story-id="'.concat(n,'"]')),o="previous"===e?-1:1;if(!r||1===r.touchMove)return!1;var c=r.querySelectorAll('[data-index="'.concat(i,'"]')),s=c[0],d=c[1],m=i+o,v=r.querySelectorAll('[data-index="'.concat(m,'"]')),p=v[0],y=v[1];if(r&&p&&y){var g=D("callbacks","onNavigateItem");(g=D("callbacks",g?"onNavigateItem":"onNextItem"))(n,y.getAttribute("data-story-id"),y.getAttribute("data-index"),(function(){"previous"===e?(s.classList.remove("seen"),d.classList.remove("seen")):(s.classList.add("seen"),d.classList.add("seen")),s.classList.remove("active"),d.classList.remove("active"),p.classList.remove("seen"),p.classList.add("active"),y.classList.remove("seen"),y.classList.add("active");var a=y.getAttribute("data-index"),i=l.data[n].items[a];parseInt(i.ad)?(r.querySelector(".left div > strong").innerText=i.name,r.querySelector(".left u.img").style.backgroundImage="url(".concat(i.photo,")")):(r.querySelector(".left div > strong").innerText=l.data[n].name,r.querySelector(".left u.img").style.backgroundImage="url(".concat(l.data[n].photo,")")),f(r.querySelectorAll(".time"),(function(e,t){t.innerText=parseInt(i.ad)?"PUBLICIDAD":w(y.getAttribute("data-time"))})),l.data[n].currentItem=l.data[n].currentItem+o,q(v,t)}))}else r&&"previous"!==e&&z.next(t)},l.load=function(){var a=this;if(!(Object.keys(this.data).length>0)){document.getElementById("stories").parentElement.style.display="block",u("#".concat(L," .story"))&&f(t.querySelectorAll(".story"),(function(e,t){O(t)})),D("backNative")&&(i.location.hash==="#!".concat(L)&&(i.location.hash=""),i.addEventListener("popstate",(function(e){i.location.hash!=="#!".concat(L)&&(i.location.hash="")}),!1));var r=document.getElementById("stories_closeBtn");if(r){if(D("close")?r.addEventListener("click",(function(){l.hide()})):r.style.display="none",D("storiesTitle")){var c=document.createElement("p");c.innerText=D("storiesTitle").toUpperCase(),c.style.margin="0",c.style.marginBottom="5px",c.style.fontSize="10px",this.timeline.prepend(c),this.timeline.style.paddingTop="5px"}if(D("size"))if("small"===D("size")){var s=document.createElement("style"),d=s.styleSheet;d?d.cssText="\n                                    .stories.snapgram .story>a>.img { height: 50px !important; width: 50px !important; margin: 0 auto }\n                                    .stories.carousel .story > a > .info { margin-top: 0.125em; line-height: 1.1em }\n                                    .stories { padding: 7px 0 0 0 }\n                                ":s.appendChild(document.createTextNode("\n                                    .stories.snapgram .story>a>.img { height: 50px !important; width: 50px !important; margin: 0 auto }\n                                    .stories.carousel .story > a > .info { margin-top: 0.125em; line-height: 1.1em }\n                                    .stories { padding: 7px 0 0 0 !important }\n                                ")),s.type="text/css",document.head.appendChild(s)}else D("size");if(D("prependImage")){var m=document.createElement("div");m.classList.add("stories_prependImage"),m.style.display="inline";var v=document.createElement("img");v.style.display="none",v.style.padding="0 5px",v.src=D("prependImage"),m.appendChild(v),this.timeline.prepend(m)}if(D("customStyles")){var p=document.createElement("style");if(p.type="text/css",window.attachEvent&&!window.opera)p.styleSheet.cssText=D("customStyles");else{var y=document.createTextNode("customStyles");p.appendChild(y)}document.getElementsByTagName("head")[0].appendChild(p)}}var g=setInterval((function(){a.timeline.clientHeight>25&&(r.style.height=a.timeline.clientHeight+"px",void 0!==v&&(v.style.height=a.timeline.clientHeight+"px",v.style.display="initial"),clearInterval(g))}),15);f(D("stories"),(function(e,t){l.add(t,!0)})),j();var h=D("avatars")?"user-icon":"story-preview",b=D("list")?"list":"carousel";t.className="stories ".concat(h," ").concat(b," ").concat("".concat(D("skin")).toLowerCase());var k=n.stories[0].placementId||null;return e.stories_sessionId=(0,o.uniqid)("",!0),(0,o.createEvent)("track","load",k,null,null,null,n.userId,n.placementMetadata,e.stories_sessionId),l}},l.show=function(){l.timeline.parentElement.style.display="block"},l.hide=function(){l.timeline.parentElement.style.display="none"},l.delete=function(){l.timeline.parentElement.remove()},l};return t.buildItem=function(e,t,n,a,i,r,o,c,s){return{id:e,type:t,length:n,src:a,preview:i,link:r,linkText:o,seen:c,time:s}},e.Zuck=t,t}(),void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",d=(new Date).getTime(),l=document.createElement("img");l.src="https://trk.bmndsc.com/t/".concat(e,"/").concat(t,"?pid=").concat(n,"&sid=").concat(s,"&crid=").concat(a,"&frid=").concat(i,"&liid=").concat(r,"&uid=").concat(o,"&placementMetadata=").concat(encodeURIComponent(c),"&timestamp=").concat(d),l.width=1,l.height=1,l.setAttribute("style","display:none"),document.getElementsByTagName("body")[0].appendChild(l)},t.uniqid=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now()/1e3,a=n.toString(16).split(".").join("");for(;a.length<14;)a+="0";var i="";if(t){var r=Math.round(1e8*Math.random());i+=r}return e+a+i}}]);
//# sourceMappingURL=bmndsc.min.js.map
(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["common-pre~002699c4"],{"00779":function(e,t){e.exports={addNote:function(e){return function(t){t._shark||(t._shark={}),t._shark.name=e}},addNoteToProp:function(e){return function(t,n){if(t._shark){var o=t._shark(!0);t._shark=function(t){var r=o;return r[n]=e,!0===t?r:null}}else t._shark=function(t){var o={};return o[n]=e,!0===t?o:null}}},addDataToProp:function(e){return function(t,n){if(t._shark){var o=t._shark(!0);t._shark=function(t){var r=o;return r[n]=e,!0===t?r:null}}else t._shark=function(t){var o={};return o[n]=e,!0===t?o:null}}}}},"014e9":function(e,t,n){"use strict";var o=n("a6d36"),r=n("43a05"),i=n("36c6e"),a=n("aedea");function createInstance(e){var t=new i(e),n=r(i.prototype.request,t);return o.extend(n,i.prototype,t),o.extend(n,t),n}var s=createInstance(a);s.Axios=i,s.create=function create(e){return createInstance(o.merge(a,e))},s.Cancel=n("1ca44"),s.CancelToken=n("340ea"),s.isCancel=n("6af0b"),s.all=function all(e){return Promise.all(e)},s.spread=n("b1841"),e.exports=s,e.exports.default=s},"0eaf3":function(e,t,n){"use strict";var o=n("f3a9c");e.exports=function createError(e,t,n,r,i){var a=new Error(e);return o(a,t,n,r,i)}},"17a90":function(e,t,n){"use strict";var o=n("a6d36"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var t,n,i,a={};return e?(o.forEach(e.split("\n"),function parser(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),n=o.trim(e.substr(i+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},"1a22b":function(e,t,n){e.exports=n("99944")("8af19")},"1ca44":function(e,t,n){"use strict";function Cancel(e){this.message=e}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,e.exports=Cancel},"24cba":function(e,t,n){},"340ea":function(e,t,n){"use strict";var o=n("1ca44");function CancelToken(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function promiseExecutor(e){t=e});var n=this;e(function cancel(e){n.reason||(n.reason=new o(e),t(n.reason))})}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var e;return{token:new CancelToken(function executor(t){e=t}),cancel:e}},e.exports=CancelToken},"36c6e":function(e,t,n){"use strict";var o=n("aedea"),r=n("a6d36"),i=n("40807"),a=n("c3d80");function Axios(e){this.defaults=e,this.interceptors={request:new i,response:new i}}Axios.prototype.request=function request(e){"string"===typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function unshiftRequestInterceptors(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function pushResponseInterceptors(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function forEachMethodNoData(e){Axios.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function forEachMethodWithData(e){Axios.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=Axios},"3b6ec":function(e,t,n){e.exports=n("99944")("63f14")},40807:function(e,t,n){"use strict";var o=n("a6d36");function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function forEach(e){o.forEach(this.handlers,function forEachHandler(t){null!==t&&e(t)})},e.exports=InterceptorManager},"413d0":function(e,t,n){"use strict";var o=n("a6d36"),r=n("9b351"),i=n("bbf51"),a=n("17a90"),s=n("a3b7d"),c=n("0eaf3");e.exports=function xhrAdapter(e){return new Promise(function dispatchXhrRequest(t,u){var l=e.data,f=e.headers;o.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password||"";f.Authorization="Basic "+btoa(d+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function handleLoad(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};r(t,u,o),p=null}},p.onerror=function handleError(){u(c("Network Error",e,null,p)),p=null},p.ontimeout=function handleTimeout(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},o.isStandardBrowserEnv()){var m=n("aaa4a"),v=(e.withCredentials||s(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&o.forEach(f,function setRequestHeader(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function onCanceled(e){p&&(p.abort(),u(e),p=null)}),void 0===l&&(l=null),p.send(l)})}},"43a05":function(e,t,n){"use strict";e.exports=function bind(e,t){return function wrap(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},"447d8":function(e,t,n){e.exports=n("99944")("0a81c")},"47d54":function(e,t,n){e.exports=n("014e9")},52801:function(e,t,n){"use strict"},54992:function(e,t,n){e.exports=n("d1db8")("b3557")},"5b2bb":function(e,t,n){},"5b69d":function(e,t,n){e.exports=n("d1db8")("26d59")},"6af0b":function(e,t,n){"use strict";e.exports=function isCancel(e){return!(!e||!e.__CANCEL__)}},70121:function(e,t,n){"use strict";var o=n("0ddf3"),r=n.n(o),i=n("66b96"),a=n.n(i),s=n("cf0a0"),c=n.n(s),u=n("3dfd7"),l=n.n(u),f=n("1a22b"),p=n.n(f),d=n("29218"),h=n.n(d);function toArrayChildren(e){var t=[];return p.a.Children.forEach(e,function(e){t.push(e)}),t}function findChildInChildrenByKey(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function findShownChildInChildrenByKey(e,t,n){var o=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(o)throw new Error("two child with same key for <dy-rc-animate> children");o=e}}),o}var m=n("3b6ec"),v=n.n(m),y=n("32ac9"),g={isAppearSupported:function isAppearSupported(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function isEnterSupported(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function isLeaveSupported(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function allowAppearCallback(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function allowEnterCallback(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function allowLeaveCallback(e){return e.transitionLeave||e.animation.leave}},b={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},C=function(e){function AnimateChild(){return a()(this,AnimateChild),c()(this,e.apply(this,arguments))}return l()(AnimateChild,e),AnimateChild.prototype.componentWillUnmount=function componentWillUnmount(){this.stop()},AnimateChild.prototype.componentWillEnter=function componentWillEnter(e){g.isEnterSupported(this.props)?this.transition("enter",e):e()},AnimateChild.prototype.componentWillAppear=function componentWillAppear(e){g.isAppearSupported(this.props)?this.transition("appear",e):e()},AnimateChild.prototype.componentWillLeave=function componentWillLeave(e){g.isLeaveSupported(this.props)?this.transition("leave",e):e()},AnimateChild.prototype.transition=function transition(e,t){var n=this,o=v.a.findDOMNode(this),r=this.props,i=r.transitionName,a="object"===typeof i;this.stop();var s=function end(){n.stopper=null,t()};if((y.b||!r.animation[e])&&i&&r[b[e]]){var c=a?i[e]:i+"-"+e,u=c+"-active";a&&i[e+"Active"]&&(u=i[e+"Active"]),this.stopper=Object(y.a)(o,{name:c,active:u},s)}else this.stopper=r.animation[e](o,s)},AnimateChild.prototype.stop=function stop(){var e=this.stopper;e&&(this.stopper=null,e.stop())},AnimateChild.prototype.render=function render(){return this.props.children},AnimateChild}(p.a.Component);C.propTypes={children:h.a.any};var w=C,S="rc_animate_"+Date.now();function getChildrenFromProps(e){var t=e.children;return p.a.isValidElement(t)&&!t.key?p.a.cloneElement(t,{key:S}):t}function noop(){}var k=function(e){function Animate(t){a()(this,Animate);var n=c()(this,e.call(this,t));return E.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:toArrayChildren(getChildrenFromProps(t))},n.childrenRefs={},n}return l()(Animate,e),Animate.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})},Animate.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;this.nextProps=e;var n=toArrayChildren(getChildrenFromProps(e)),o=this.props;o.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var r=o.showProp,i=this.currentlyAnimatingKeys,a=o.exclusive?toArrayChildren(getChildrenFromProps(o)):this.state.children,s=[];r?(a.forEach(function(e){var t,o=e&&findChildInChildrenByKey(n,e.key),i=void 0;o&&o.props[r]||!e.props[r]?i=o:i=p.a.cloneElement(o||e,((t={})[r]=!0,t));i&&s.push(i)}),n.forEach(function(e){e&&findChildInChildrenByKey(a,e.key)||s.push(e)})):s=function mergeChildren(e,t){var n=[],o={},r=[];return e.forEach(function(e){e&&findChildInChildrenByKey(t,e.key)?r.length&&(o[e.key]=r,r=[]):r.push(e)}),t.forEach(function(e){e&&o.hasOwnProperty(e.key)&&(n=n.concat(o[e.key])),n.push(e)}),n=n.concat(r)}(a,n),this.setState({children:s}),n.forEach(function(e){var n=e&&e.key;if(!e||!i[n]){var o=e&&findChildInChildrenByKey(a,n);if(r){var s=e.props[r];if(o)!findShownChildInChildrenByKey(a,n,r)&&s&&t.keysToEnter.push(n);else s&&t.keysToEnter.push(n)}else o||t.keysToEnter.push(n)}}),a.forEach(function(e){var o=e&&e.key;if(!e||!i[o]){var a=e&&findChildInChildrenByKey(n,o);if(r){var s=e.props[r];if(a)!findShownChildInChildrenByKey(n,o,r)&&s&&t.keysToLeave.push(o);else s&&t.keysToLeave.push(o)}else a||t.keysToLeave.push(o)}})},Animate.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},Animate.prototype.isValidChildByKey=function isValidChildByKey(e,t){var n=this.props.showProp;return n?findShownChildInChildrenByKey(e,t,n):findChildInChildrenByKey(e,t)},Animate.prototype.stop=function stop(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()},Animate.prototype.render=function render(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,o=null;n&&(o=n.map(function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <dy-rc-animate> children");return p.a.createElement(w,{key:n.key,ref:function ref(t){return e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)}));var i=t.component;if(i){var a=t;return"string"===typeof i&&(a=r()({className:t.className,style:t.style},t.componentProps)),p.a.createElement(i,a,o)}return o[0]||null},Animate}(p.a.Component);k.isAnimate=!0,k.propTypes={component:h.a.any,componentProps:h.a.object,animation:h.a.object,transitionName:h.a.oneOfType([h.a.string,h.a.object]),transitionEnter:h.a.bool,transitionAppear:h.a.bool,exclusive:h.a.bool,transitionLeave:h.a.bool,onEnd:h.a.func,onEnter:h.a.func,onLeave:h.a.func,onAppear:h.a.func,showProp:h.a.string,children:h.a.node},k.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:noop,onEnter:noop,onLeave:noop,onAppear:noop};var E=function _initialiseProps(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var o=e.props;if(delete e.currentlyAnimatingKeys[t],!o.exclusive||o===e.nextProps){var r=toArrayChildren(getChildrenFromProps(o));e.isValidChildByKey(r,t)?"appear"===n?g.allowAppearCallback(o)&&(o.onAppear(t),o.onEnd(t,!0)):g.allowEnterCallback(o)&&(o.onEnter(t),o.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var o=toArrayChildren(getChildrenFromProps(n));if(e.isValidChildByKey(o,t))e.performEnter(t);else{var r=function end(){g.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};!function isSameChildren(e,t,n){var o=e.length===t.length;return o&&e.forEach(function(e,r){var i=t[r];e&&i&&(e&&!i||!e&&i?o=!1:e.key!==i.key?o=!1:n&&e.props[n]!==i.props[n]&&(o=!1))}),o}(e.state.children,o,n.showProp)?e.setState({children:o},r):r()}}}};t.a=k},"722b8":function(e,t,n){"use strict";var o=n("1a22b"),r=n.n(o),i=n("fba06"),a=n.n(i),s=n("0ddf3"),c=n.n(s),u=n("66b96"),l=n.n(u),f=n("cf0a0"),p=n.n(f),d=n("3dfd7"),h=n.n(d),m=n("29218"),v=n.n(m),y=n("3b6ec"),g=n.n(y),b=n("70121");var C=n("1d6e8"),w=n.n(C),S=function(e){function Notice(){var t,n,o;l()(this,Notice);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=n=p()(this,e.call.apply(e,[this].concat(i))),n.close=function(){n.clearCloseTimer(),n.props.onClose()},n.startCloseTimer=function(){n.props.duration&&(n.closeTimer=setTimeout(function(){n.close()},1e3*n.props.duration))},n.clearCloseTimer=function(){n.closeTimer&&(clearTimeout(n.closeTimer),n.closeTimer=null)},o=t,p()(n,o)}return h()(Notice,e),Notice.prototype.componentDidMount=function componentDidMount(){this.startCloseTimer()},Notice.prototype.componentWillUnmount=function componentWillUnmount(){this.clearCloseTimer()},Notice.prototype.render=function render(){var e,t=this.props,n=t.prefixCls+"-notice",o=((e={})[""+n]=1,e[n+"-closable"]=t.closable,e[t.className]=!!t.className,e);return r.a.createElement("div",{className:w()(o),style:t.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer},r.a.createElement("div",{className:n+"-content"},t.children),t.closable?r.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},r.a.createElement("span",{className:n+"-close-x"})):null)},Notice}(o.Component);S.propTypes={duration:v.a.number,onClose:v.a.func,children:v.a.any},S.defaultProps={onEnd:function onEnd(){},onClose:function onClose(){},duration:1.5,style:{right:"50%"}};var k=S,E=0,A=Date.now();var _=function(e){function Notification(){var t,n,o;l()(this,Notification);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=n=p()(this,e.call.apply(e,[this].concat(i))),n.state={notices:[]},n.add=function(e){var t=e.key=e.key||function getUuid(){return"rcNotification_"+A+"_"+E++}();n.setState(function(n){var o=n.notices;if(!o.filter(function(e){return e.key===t}).length)return{notices:o.concat(e)}})},n.remove=function(e){n.setState(function(t){return{notices:t.notices.filter(function(t){return t.key!==e})}})},o=t,p()(n,o)}return h()(Notification,e),Notification.prototype.getTransitionName=function getTransitionName(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},Notification.prototype.render=function render(){var e,t=this,n=this.props,o=this.state.notices.map(function(e){var o=function createChainedFunction(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function chainedFunction(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}(t.remove.bind(t,e.key),e.onClose);return r.a.createElement(k,c()({prefixCls:n.prefixCls},e,{onClose:o}),e.content)}),i=((e={})[n.prefixCls]=1,e[n.className]=!!n.className,e);return r.a.createElement("div",{className:w()(i),style:n.style},r.a.createElement(b.a,{transitionName:this.getTransitionName()},o))},Notification}(o.Component);_.propTypes={prefixCls:v.a.string,transitionName:v.a.string,animation:v.a.oneOfType([v.a.string,v.a.object]),style:v.a.object},_.defaultProps={prefixCls:"dy-Notification",animation:"fade",style:{top:65,left:"50%"}},_.newInstance=function newNotificationInstance(e,t){var n=e||{},o=n.getContainer,i=a()(n,["getContainer"]),s=document.createElement("div");o?o().appendChild(s):document.body.appendChild(s);var u=!1;g.a.render(r.a.createElement(_,c()({},i,{ref:function ref(e){u||(u=!0,t({notice:function notice(t){e.add(t)},removeNotice:function removeNotice(t){e.remove(t)},component:e,destroy:function destroy(){g.a.unmountComponentAtNode(s),s.parentNode.removeChild(s)}}))}})),s)};var x=_,D=(n("b3bfe"),n("24cba"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),P=3,L="50%",T=void 0,R=1,N="dy-Message",O={marginTop:"-30px"};function message_notice(e){var t=this,n=e.type,o=e.content,i=void 0===o?n:o,a=e.duration,s=void 0===a?P:a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return T=function getMessageInstance(){return T||(x.newInstance({prefixCls:N,transitionName:"move-up",style:D({},O,{top:L})},function(e){T=e}),T)}(),setTimeout(function(){T.notice({key:R,duration:s,style:{},content:r.a.createElement("div",{className:N+"-custom-content "+N+"-"+n,__self:t},r.a.createElement("span",{__self:t},i)),onClose:c})},0),function setup(){return R+=1,function dump(){T.removeNotice(R)}}()}function message_destroy(){T&&(T.destroy(),T=null)}t.a={info:function info(e,t,n){return message_destroy(),message_notice({type:"info",content:e,duration:t},n)},success:function success(e,t,n){return message_destroy(),message_notice({type:"success",content:e,duration:t},n)},error:function error(e,t,n){return message_destroy(),message_notice({type:"error",content:e,duration:t},n)},warning:function warning(e,t,n){return message_destroy(),message_notice({type:"warning",content:e,duration:t},n)},loading:function loading(e,t,n){return message_destroy(),message_notice({type:"loading",content:e,duration:t},n)},config:function config(e){void 0===e.top&&void 0===e.style||(L=e.top,O=D({},O,e.style),T=null),void 0!==e.duration&&(P=e.duration),void 0!==e.prefixCls&&(N=e.prefixCls)},destroy:message_destroy}},"76abd":function(e,t,n){"use strict";n.r(t);var o=n("722b8"),r=n("97a1f"),i=n("eb3e2"),a=n("7ca7d"),s="";try{s="//passport.douyu.com/"}catch(e){s=window.passport_host||"//passport.douyu.com/"}var c={passportHost:s,passportCallback:{passport_reg_callback:"PASSPORT_REG_SUCCESS_CALLBACK",passport_login_callback:"PASSPORT_LOGIN_SUCCESS_CALLBACK",passport_close_callback:"PASSPORT_CLOSE_CALLBACK",passport_dp_callback:"PASSPORT_DP_CALLBACK"},registerCallback:{reg:"PASSPORT_REG_SUCCESS_CALLBACK",login:"PASSPORT_LOGIN_SUCCESS_CALLBACK",close:"PASSPORT_CLOSE_CALLBACK",dp:"PASSPORT_DP_CALLBACK"},type:{login:"login",reg:"reg"},url:{login:"index/login",reg:"index/register"}},u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=(n("5b2bb"),function getIframeSrc(e,t){var n=e===c.type.reg?c.url.reg:c.url.login;return c.passportHost+n+"?"+function(e){if("object"!==("undefined"===typeof e?"undefined":u(e)))return"";var t=[];return Object.keys(e).forEach(function(n){t.push(n+"="+e[n])}),t.join("&")}(t)}),f=function(e,t){var n=document.createElement("div"),o=document.createDocumentFragment();n.innerHTML=t;for(var r=n.childNodes,i=0,a=r.length;i<a;i+=1)o.appendChild(r[i].cloneNode(!0));e.appendChild(o)},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var d=document.getElementsByTagName("body")[0],h=new function LoginSdkView(){var e=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoginSdkView),this.init=function(){},this.bindEvent=function(){e.doms.pop=document.getElementById("passport-iframe-con"),e.doms.shadow=document.getElementById("passport-iframe-shadow"),e.doms.shadow.ondblclick=e.hide},this.show=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!e.isShow){var r=function makePop(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"<div\n                id='passport-iframe-con'\n                class='passport-iframe-con'\n            >\n                <iframe\n                    id='login-passport-frame'\n                    width='100%'\n                    height='100%'\n                    scrolling='no'\n                    frameborder='0'\n                    src='"+l(e,t)+"'>\n                </iframe>\n            </div>"}(t,p({},c.passportCallback,n));f(d,r),f(d,'<div class="passport-iframe-shadow" id="passport-iframe-shadow"></div>'),e.bindEvent(),e.isShow=1,"function"===typeof o&&o()}},this.hide=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.doms,o=n.shadow,r=n.pop;o&&d.removeChild(o),r&&d.removeChild(r),e.isShow=0,"function"===typeof t&&t()},this.isShow=0,this.doms={}},m={init:h.init,show:h.show,hide:h.hide,remove:h.hide},v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y={data:{},set:function set(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",o={};"function"!==typeof e&&"object"!==("undefined"===typeof e?"undefined":v(e))&&(o[e]=t,y.data[n]=o)},get:function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return y.data[t]&&"object"===v(y.data[t])?y.data[t][e]||"":null}},g=y,b=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})({},m,{PASSPORT:g,POSSPORT:g,register:function(e,t){if(!e)throw new Error("SDK\u56de\u8c03\u51fd\u6570\u7c7b\u578b\u4e0d\u80fd\u4e3a\u7a7a\uff01");var n=c.registerCallback[e];if(!n)throw new Error("SDK\u56de\u8c03\u7c7b\u578b"+e+"\u5bf9\u5e94\u51fd\u6570\u540d\u79f0\u4e0d\u5b58\u5728\uff01");window[n]=function(e){"function"===typeof t&&t(e)}}}),C=i.DataCenter.global,w="",S=1;try{w="//passport.douyu.com/",S=C.get("client_id")||1}catch(e){w=window.passport_host||"//passport.douyu.com/",S=window.client_id||1}var k={callback:{reg:"reg",login:"login",close:"close"},clientId:S,passportHost:w,cpsDitchName:"cpsDitchName",ditchName:"ditchName",cpsCookieTime:31104e3,h5pRealRateModelKey:"realRateModel_h5p_room"},E=n("db47a"),A=function(){try{window.DYS||(window.DYS={}),window.DYS.sub||(window.DYS.sub={}),window.DYS.sub.getDefaultFied||(window.DYS.sub.getDefaultFied=E.dys.getDefaultFields)}catch(e){throw new Error('"window.DYS.sub.getDefaultField" set failed')}},_=i.DataCenter.global,x=i.DataCenter.cookie(),D=function(){_.set("USER_INFO",{uid:x.get("uid"),username:x.get("username"),nickname:x.get("nickname"),password:x.get("auth_wl"),ownRoom:x.get("own_room"),groupId:x.get("groupid"),notification:x.get("notification"),phoneStatus:x.get("phonestatus"),shortToken:x.get("stk"),longToken:x.get("ltkid"),bizType:x.get("biz"),clientType:x.get("ct")},!0)},P=function(e){return Object.prototype.toString.call(e).toLowerCase().replace(/\[object\s*(\w+)\]/g,"$1")};var L,T,R,N=function(){function UserIframe(e){var t=e.hideLoginDialog,n=void 0===t?function(){}:t,r=e.customCallbacks,i=void 0===r?{}:r;!function loginIframe_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserIframe),this.iframeCallback=function(e){0===e.error&&(localStorage.removeItem(k.h5pRealRateModelKey),b.hide(),o.a.success("\u767b\u5f55\u6210\u529f"),setTimeout(function(){window.location.reload()},500))},this.iframeHide=n,this.customCallbacks=i}return UserIframe.prototype.init=function init(){var e=this,t=this.customCallbacks,n=k.callback,o=n.login,r=n.reg,i=n.close;!function(){var e=document.domain;try{e=e.split(".").slice(-2).join(".")}catch(e){throw new Error("\u8bbe\u7f6edomain\u51fa\u9519\uff01")}document.domain=e}(),b.register(o,function(n){t.login&&"function"===P(t.login)?t.login(n):e.iframeCallback(n)}),b.register(r,function(n){t.reg&&"function"===P(t.reg)?t.reg(n):e.iframeCallback(n)}),b.register(i,function(n){t.close&&"function"===P(t.close)?t.close(n):e.iframeHide(n)})},UserIframe}();var O,I,j,B,U,K,q,F=new(L=(0,a.default.Service)(i.DataCenter.cookie),R=function _applyDecoratedDescriptor(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}((T=function CPS(){var e=this;!function cpsServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CPS),function _initDefineProp(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}(this,"cookie",R,this),this.init=function(){e.checkCps()},this.val=function(){return e.cookie.get(k.ditchName)},this.setCps=function(t){e.cookie.set(k.ditchName,t,k.cpsCookieTime)},this.checkCps=function(){var t,n,o,r=(t=k.ditchName,n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),null!==(o=window.location.search.substr(1).match(n))?unescape(o[2]):null);r&&e.setCps(r)}}).prototype,"cookie",[L],{enumerable:!0,initializer:null}),T),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function loginServices_initDefineProp(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function loginServices_applyDecoratedDescriptor(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var M=a.default.Service,H=(O=Object(r.Injectable)("shark.login.LoginService"),I=M(i.DataCenter.global),j=M(i.DataCenter.cookie),O((U=function(){function LoginServices(){var e=this;!function loginServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoginServices),loginServices_initDefineProp(this,"global",K,this),loginServices_initDefineProp(this,"cookie",q,this),this.loginIframe=function(){return new N({hideLoginDialog:e.hideLoginDialog,customCallbacks:e.customCallbacks})},this.registerIframeEvent=function(){e.isRegistered||(e.loginIframe().init(),e.isRegistered=!0)},this.registerCustomCallbacks=function(t){"object"===P(t)&&(e.customCallbacks=t,e.registerIframeEvent())},this.check=function(){var t=e.cookie.get("uid"),n=e.cookie.get("nickname"),r=e.global.get("USER_INFO.uid"),i=e.global.get("USER_INFO.nickname");return!(t&&r||n&&i)||t===r&&n===i?!!t:(o.a.error("\u5f53\u524d\u767b\u5f55\u4fe1\u606f\u6709\u8bef,\u8bf7\u5237\u65b0\u9875\u9762!"),!1)},this.auto=function(){e.check()&&D()},this.checkStkToLogin=function(){return e.cookie.get("ltkid")&&e.cookie.get("biz")&&""!==e.cookie.get("ct")&&null!==e.cookie.get("ct")&&e.cookie.get("uid")&&e.cookie.get("stk")},this.callLoginDialog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=z({type:t,client_id:k.clientId,state:encodeURIComponent(window.location.href)},n);A(),b.PASSPORT.set("param",r,"show"),b.PASSPORT.set(k.cpsDitchName,F.val(),"cps"),b.show(t,r,o),e.registerIframeEvent()},this.showLoginDialog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"login",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};e.autoLogin(function(){e.callLoginDialog(t,n,o)})},this.hideLoginDialog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;b.hide(),1!==+t?"string"===typeof t&&-1!==t.indexOf("com")&&window.location.replace(t):e.autoLogin()},this.exit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=k.passportHost+"sso/logout?client_id="+k.clientId;e&&(t+="&callback_url="+encodeURIComponent(e)),window.location.href=t},this.checkStkToLogin()||this.autoLogin(),this.isRegistered=!1,this.customCallbacks={},F.init(),this.auto()}return LoginServices.prototype.autoLogin=function autoLogin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=k.passportHost+"lapi/passport/iframe/safeAuth?client_id="+k.clientId+"&t="+(new Date).getTime();i.jsonpClient.get(i.Empty,t).subscribe(function(t){0===t.error?(o.a.success("\u767b\u5f55\u6210\u529f"),setTimeout(function(){window.location.reload()},500)):e()},function(){o.a.error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u6c42\u5931\u8d25")})},LoginServices}(),K=loginServices_applyDecoratedDescriptor(U.prototype,"global",[I],{enumerable:!0,initializer:null}),q=loginServices_applyDecoratedDescriptor(U.prototype,"cookie",[j],{enumerable:!0,initializer:null}),B=U))||B),W=new H;H.instance=W;t.default={show:W.showLoginDialog,hide:W.hideLoginDialog,check:W.check,exit:W.exit,callLoginDialog:W.callLoginDialog,registerCustomCallbacks:W.registerCustomCallbacks}},"7ca7d":function(e,t,n){e.exports=n("2d614")("f0df9")},"97a1f":function(e,t,n){e.exports=n("2d614")("11f13")},99992:function(e,t,n){"use strict";var o=n("a6d36");e.exports=function transformData(e,t,n){return o.forEach(n,function transform(n){e=n(e,t)}),e}},"9b0dc":function(e,t,n){e.exports=n("d1db8")("a63b0")},"9b351":function(e,t,n){"use strict";var o=n("0eaf3");e.exports=function settle(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},a3b7d:function(e,t,n){"use strict";var o=n("a6d36");e.exports=o.isStandardBrowserEnv()?function standardBrowserEnv(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function resolveURL(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=resolveURL(window.location.href),function isURLSameOrigin(t){var n=o.isString(t)?resolveURL(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function isURLSameOrigin(){return!0}},a6d36:function(e,t,n){"use strict";var o=n("43a05"),r=n("cfa6c"),i=Object.prototype.toString;function isArray(e){return"[object Array]"===i.call(e)}function isObject(e){return null!==e&&"object"===typeof e}function isFunction(e){return"[object Function]"===i.call(e)}function forEach(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),isArray(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:isArray,isArrayBuffer:function isArrayBuffer(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:r,isFormData:function isFormData(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function isArrayBufferView(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function isString(e){return"string"===typeof e},isNumber:function isNumber(e){return"number"===typeof e},isObject:isObject,isUndefined:function isUndefined(e){return"undefined"===typeof e},isDate:function isDate(e){return"[object Date]"===i.call(e)},isFile:function isFile(e){return"[object File]"===i.call(e)},isBlob:function isBlob(e){return"[object Blob]"===i.call(e)},isFunction:isFunction,isStream:function isStream(e){return isObject(e)&&isFunction(e.pipe)},isURLSearchParams:function isURLSearchParams(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:forEach,merge:function merge(){var e={};function assignValue(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=merge(e[n],t):e[n]=t}for(var t=0,n=arguments.length;t<n;t++)forEach(arguments[t],assignValue);return e},extend:function extend(e,t,n){return forEach(t,function assignValue(t,r){e[r]=n&&"function"===typeof t?o(t,n):t}),e},trim:function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},aaa4a:function(e,t,n){"use strict";var o=n("a6d36");e.exports=o.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,t,n,r,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(r)&&s.push("path="+r),o.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function read(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},aedea:function(e,t,n){"use strict";(function(t){var o=n("a6d36"),r=n("ef327"),i={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a={adapter:function getDefaultAdapter(){var e;return"undefined"!==typeof XMLHttpRequest?e=n("413d0"):"undefined"!==typeof t&&(e=n("413d0")),e}(),transformRequest:[function transformRequest(e,t){return r(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function transformResponse(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function validateStatus(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function forEachMethodNoData(e){a.headers[e]={}}),o.forEach(["post","put","patch"],function forEachMethodWithData(e){a.headers[e]=o.merge(i)}),e.exports=a}).call(this,n("5b69d"))},b0067:function(e,t,n){e.exports=n("2d614")("86f8b")},b1841:function(e,t,n){"use strict";e.exports=function spread(e){return function wrap(t){return e.apply(null,t)}}},b3bfe:function(e,t,n){},bbf51:function(e,t,n){"use strict";var o=n("a6d36");function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(o.isURLSearchParams(t))r=t.toString();else{var i=[];o.forEach(t,function serialize(e,t){null!==e&&"undefined"!==typeof e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function parseValue(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),i.push(encode(t)+"="+encode(e))}))}),r=i.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},c2389:function(e,t,n){"use strict";e.exports=function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},c3d80:function(e,t,n){"use strict";var o=n("a6d36"),r=n("99992"),i=n("6af0b"),a=n("aedea"),s=n("f5096"),c=n("c2389");function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function dispatchRequest(e){return throwIfCancellationRequested(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function cleanHeaderConfig(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function onAdapterResolution(t){return throwIfCancellationRequested(e),t.data=r(t.data,t.headers,e.transformResponse),t},function onAdapterRejection(t){return i(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},cfa6c:function(e,t){e.exports=function isBuffer(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},db47a:function(e,t,n){e.exports=n("2d614")("fce11")},eb3e2:function(e,t,n){e.exports=n("d1db8")("e55c4")},ee908:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n("47d54"),r=n.n(o),i=n("9b0dc"),a=n.n(i);var s={},c={},u=0,l=6e4,f=0,p=0,d=0,h=1,m=0,v=0,y=0,g=0;function starTimePs2(){clearInterval(d),d=setInterval(function(){!function sendps2(){p=(new Date).valueOf(),sendPot({ps:2})}()},l)}function sendPot(e){var t={},n=[],o={},i={},f=c,p=f.type,d=f.surl,g=f.quality,b=f.st,C=f.vt,w=e.ps,S=e.watch_time,k=e.ltime,E=s,A=E.did,_=E.uid,x=void 0===_?0:_,D=E.ct,P=E.ver,L=void 0===P?0:P,T=E.rid,R=E.tid,N=E.refer,O=E.pt,I=E.r_type,j=E.env,B=void 0===j?1:j;i.r_type=I,i.vt=C,5===w&&(i.ltime=k),v&&(i.vpid=v),m&&(i.vid=m),y&&5===w&&(i.ctime=y),o.i=x||0,o.d=A||0,o.ct=D||0,o.ver=L||0,o.r=T||0,o.t=R||0,o.hc=l||0,o.m=b||0,o.st=p||0,o.ps=w||0,o.pt=O||0,o.sst="",o.surl=d||"",o.p=u||0,o.re=N||"",5===w&&(o.wt=S),o.lt=h||0,o.q=g||0,o.e=i,o.ot=(new Date).valueOf(),t.v="1.5",n.push(o),t.m=JSON.stringify(n);var U="http://10.1.100.44:6999/beats";1===B&&(U="https://dotbeats.douyucdn.cn/beats"),function post(e){var t=e.url,n=e.data,o=e.type,i=r.a.CancelToken.source(),s={method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},url:t,data:"string"===typeof n?n:a.a.stringify(n),responseType:o,cancelToken:i.token};"text"===o&&(s.transformResponse=void 0);var c=r()(s).then(function(e){return e.data}).catch(function(e){throw r.a.isCancel(e),e});return Object.defineProperty(c,"abort",{get:function get(){return i.cancel("request abort by user.")}}),c}({url:U,data:t,type:"text"}).then(function(e){var t=JSON.parse(e);1===w&&t&&t.data&&0===t.error&&t.data.interval&&(l=t.data.interval),1===w&&starTimePs2()}).catch(function(){1===w&&starTimePs2()})}function sendPot_sendps1(e){f=(new Date).valueOf(),sendPot({ps:1,ext:e})}function sendPot_sendps5(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];clearInterval(d),f&&sendPot({ps:5,watch_time:(new Date).valueOf()-f,ltime:p>0?(new Date).valueOf()-p:null}),f=0,p=0,l=6e4,e&&(u=0)}var b=function(){function baseStreamDot(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,baseStreamDot),function initBasePotData(e){s=e}(e)}return baseStreamDot.prototype.onReady=function onReady(e){!function creatPid(){for(var e=s.ct,t=["0","1","2","3","4","5","6","7","8","9","q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m"],n="",o=0;o<6;o++)n+=t[parseInt(36*Math.random(),10)];u=e+"-"+n+parseInt((new Date).valueOf(),10)}(),function freashStreamDate(e){if(c=e,g&&(c.vt=g,g=0),m){var t=u,n=t.substr(0,t.length-13);v=""+n+parseInt((new Date).valueOf(),10)+"-"+m}}(e),sendPot_sendps1()},baseStreamDot.prototype.onComplete=function onComplete(){sendPot_sendps5()},baseStreamDot.prototype.onError=function onError(){sendPot_sendps5()},baseStreamDot.prototype.onstop=function onstop(){sendPot_sendps5()},baseStreamDot.prototype.dispose=function dispose(){!function sendPot_dispose(){clearInterval(d)}()},baseStreamDot.prototype.setlt=function setlt(e){!function sendPot_setlt(e){h=e}(e)},baseStreamDot.prototype.setvt=function setvt(e){!function sendPot_setvt(e){c&&(c.vt=e),g=e}(e)},baseStreamDot.prototype.setvid=function setvid(e){!function sendPot_setvid(e){m=e}(e)},baseStreamDot.prototype.setvpid=function setvpid(e){!function sendPot_setvpid(e){v=e}(e)},baseStreamDot.prototype.setctime=function setctime(e){!function sendPot_setctime(e){y=e}(e)},baseStreamDot.prototype.getpid=function getpid(){return function sendPot_getpid(){return u}()},baseStreamDot.prototype.sendps5=function sendps5(){sendPot_sendps5(!1)},baseStreamDot.prototype.sendps1=function sendps1(){sendPot_sendps1()},baseStreamDot}()},ef327:function(e,t,n){"use strict";var o=n("a6d36");e.exports=function normalizeHeaderName(e,t){o.forEach(e,function processHeader(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},f3a9c:function(e,t,n){"use strict";e.exports=function enhanceError(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e}},f5096:function(e,t,n){"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},f6898:function(e,t,n){e.exports=n("d1db8")("53a00")},fc794:function(e,t,n){e.exports=n("76abd")}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/common-pre~002699c4_18452ae.js.map
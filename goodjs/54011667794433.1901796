(self.webpackChunklite=self.webpackChunklite||[]).push([[4586],{965:(e,t,n)=>{"use strict";n.d(t,{JP:()=>d,CP:()=>v});var t=n(59713),r=n.n(t),t=n(63038),o=n.n(t),t=n(28655),l=n.n(t),t=n(71439),a=n(46829),i=n(67294),n=n(25665);function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(){var e=l()(["\n  mutation ClapMutation($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      ...ClapMutation_post\n    }\n  }\n  ","\n"]);return e}function p(){var e=l()(["\n  fragment ClapMutation_post on Post {\n    __typename\n    id\n    clapCount\n    viewerEdge {\n      id\n      clapCount\n    }\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return e}var d=(0,t.Ps)(p(),n.U),m=(0,t.Ps)(u(),d),v=function(){var e=(0,a.useMutation)(m),t=o()(e,1)[0];return(0,i.useCallback)(function(r,e,o){return t({variables:{targetPostId:r.id,userId:e,numClaps:o},optimisticResponse:{clap:c(c({__typename:"Post"},r),{},{clapCount:r.clapCount+o,viewerEdge:{id:"test-post-viewer-edge-id",clapCount:(r.viewerEdge.clapCount||0)+o}})},update:function(e,t){var n,t=null==t||null===(n=t.data)||void 0===n?void 0:n.clap;t&&(n=e.readFragment({id:"Post:".concat(t.id),fragment:d,fragmentName:"ClapMutation_post"}),e.writeFragment({id:"Post:".concat(t.id),fragment:d,fragmentName:"ClapMutation_post",data:c(c({},n),{},{clapCount:r.clapCount+o,viewerClapCount:(r.viewerEdge.clapCount||0)+o})}))}})},[])}},25665:(e,t,n)=>{"use strict";n.d(t,{_:()=>function(e){var t=e.clapCount,n=e.hasLabel,r=void 0!==n&&n,o=e.showFullNumber,l=void 0!==o&&o,a=e.post,i=e.shouldShowNetwork,n=e.hasDialog,o=void 0!==n&&n,n=e.shouldShowResponsiveLabelText,s=void 0!==n&&n,e=e.shouldHideClapsText,c=void 0!==e&&e,u=a.id;if(!(0<t))return null;function p(e){return e=e.showVoters,i&&e?g.createElement($,{showVoters:e,post:a}):null}function d(e){var t=e.showVoters,e=(0,T.Iq)();return g.createElement("div",{className:e(W(W({},s||r?{position:"relative",top:"1px"}:{}),{},{"& button":{textAlign:"left"}}))},g.createElement(z.F,{color:s||r||c?"DARKER":"LIGHTER",scale:"M"},s?g.createElement(g.Fragment,null,t?g.createElement(b.rU,{onClick:t},v,g.createElement(N.s,null,"Ã‚ ",m)):v,g.createElement(N.s,null,g.createElement(p,{showVoters:t}))):g.createElement(g.Fragment,null,t?g.createElement(b.rU,{onClick:t},v," ",m):v,g.createElement(p,{showVoters:t}))))}var m=r&&!c?f()("clap",t):"",v=(l?(0,R.rR):(0,R.pY))(t);return o&&u?g.createElement(U.B,null,function(e){var t=e.isVisible,n=e.show,e=e.hide;return g.createElement(g.Fragment,null,g.createElement(d,{showVoters:n}),g.createElement(_,{isVisible:t,hide:e,postId:u}))}):g.createElement(d,null)},U:()=>H});var r=n(28655),o=n.n(r),t=n(59713),l=n.n(t),r=n(71439),t=n(23450),f=n.n(t),g=n(67294),t=n(67154),c=n.n(t),t=n(319),u=n.n(t),t=n(6479),a=n.n(t),t=n(87757),p=n.n(t),t=n(48926),d=n.n(t),t=n(63038),m=n.n(t),t=n(82492),v=n.n(t),E=n(80439),i=n(98281),s=n(31001),b=n(78181),h=n(64504),x=n(67995),C=n(67297);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var w=g.createElement("g",{fillRule:"evenodd"},g.createElement("path",{d:"M7.94 1h-.89L7.5 2.9zM10.09 1.33l-.84-.3-.23 1.95zM5.73 1.04l-.84.3L5.97 3zM5.63 11.57a3043.52 3043.52 0 0 0-1.6-1.6C2.32 8.26 1.25 7.5 1.75 7c.25-.25.62-.3.93 0 .45.46 1.54 1.65 1.54 1.65a.69.69 0 0 0 .34.2c.17.04.36-.06.5-.2.14-.13.06-.47-.06-.6L2.94 5.98c-.29-.29-.39-.78-.08-1.09.3-.29.64-.14.9.12l2.1 2.15a.33.33 0 0 0 .24.1.42.42 0 0 0 .26-.12c.13-.12.2-.36.07-.49L5 5.2c-.56-.56-.6-.95-.36-1.2.35-.35.82-.24 1.45.48l2.8 2.95-.59-1.46s-.37-.97 0-1.17c.37-.2.74.33 1 .72l1.37 2.62a3.29 3.29 0 0 1-.57 4.05c-1.22 1.22-3.18.69-4.48-.6z"}),g.createElement("path",{d:"M11.37 4.73c-.26-.4-.7-.4-.98-.19-.19.15-.16.48-.15.7l1.18 2.07c.91 1.49 1.23 2.7.19 4.1.31-.14.4-.27.58-.49.65-.8 1.05-2.47.39-3.88a3.35 3.35 0 0 0-.03-.05l-1.18-2.26z"}));function O(e){return g.createElement("svg",y({width:15,height:15},e),w)}var P=n(27952);function k(){var e=o()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            name\n            bio\n            username\n            ...UserAvatar_user\n            ...UserFollowButton_user\n            ...userUrl_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return e}function I(e){return{position:"relative",bottom:"12px",borderRadius:"10px",color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,textAlign:"center"}}function j(e){var t=e.clapCount,e=(0,x.n)({name:"detail",color:"DARKER",scale:"S"}),n=t?[e,I,S]:[I,M];return g.createElement(b.hS,null,function(e){return g.createElement("span",{className:e(n)},t?"+".concat(t):g.createElement(O,null))})}function D(e){var t=e.user,n=e.clapCount,r=e.post,o=(0,C.v9)(function(e){return e.config.authDomain}),l=t.username,a=t.name,e=void 0===(e=t.bio)?"":e;return a&&l?g.createElement(b.xu,{padding:"12px 0"},g.createElement(b.xu,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},g.createElement(b.xu,{display:"flex",alignItems:"flex-start"},g.createElement(b.xu,{marginRight:"20px"},g.createElement(i.Yt,{user:t,scale:"S"}),g.createElement(j,{clapCount:n})),g.createElement(b.xu,{display:"flex",flexDirection:"column",alignItems:"flex-start"},g.createElement(b.rU,{href:(0,P.AWr)(t,o)},g.createElement(h.X6,{scale:"XS"},a," ")),g.createElement(h.F,{scale:"S"},e))),g.createElement(b.xu,{marginLeft:"48px"},g.createElement(s.Bv,{buttonSize:"SMALL",post:r,user:t,susiEntry:"follow_list"})))):null}var S={left:"20px",padding:"0 6px"},M={left:"24px",padding:"0 2px"},V=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=e.fetchMore,l=g.useState(!1),a=m()(l,2),i=a[0],s=a[1],c=g.useCallback(d()(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!i)return s(!0),e.prev=2,e.next=5,o();e.next=8;break;case 5:return e.prev=5,s(!1),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])})),[o,i,s]);if(!r)return null;var u=r.title,e=r.voters,l=r.clapCount,a=r.voterCount;return g.createElement(b.Vq,{isVisible:t,hide:n,withAnimation:!0},g.createElement(b.xu,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},g.createElement(b.xu,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},g.createElement(h.X6,{scale:"S"},l," claps from ",a," ",1===a?"person":"people",' for "',u,'"')),e&&e.items.map(function(e){var t=e.user,e=e.clapCount;return t&&g.createElement(D,{user:t,clapCount:e,post:r,key:t.id})}),o&&g.createElement(b.xu,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},g.createElement(b.zx,{buttonStyle:"SOCIAL",size:"SMALL",onClick:c},"Show more claps"))))};function _(e){var t=e.postId,i=e.isVisible,s=a()(e,["postId","isVisible"]);return i?g.createElement(E.AE,{ssr:!1,query:L,variables:{postId:t,pagingOptions:{limit:10}}},function(e){var t=e.data,n=(t=void 0===t?{}:t).post,r=e.loading,t=e.error,o=e.fetchMore;if(r)return g.createElement(b.TF,null);if(t||null==n||!n.voters)return null;var l,a,t=n.voters.pagingInfo&&n.voters.pagingInfo.next;return t&&(l={page:t.page},a=function(){return o({variables:{pagingOptions:l},updateQuery:function(e,t){var n,r,o,l,t=t.fetchMoreResult;return v()({},t,{post:{voters:{items:[].concat(u()(null!==(r=null==e||null===(n=e.post)||void 0===n||null===(r=n.voters)||void 0===r?void 0:r.items)&&void 0!==r?r:[]),u()(null!==(l=null==t||null===(o=t.post)||void 0===o||null===(l=o.voters)||void 0===l?void 0:l.items)&&void 0!==l?l:[]))}}})}})}),g.createElement(V,c()({isVisible:i,post:n,loading:r,fetchMore:a},s))}):null}var L=(0,r.Ps)(k(),i.WQ,s.sj,s.S$,P.$mN),R=n(27390),A=n(11642);function F(){var e=o()(["\n  fragment PostVotersNetwork_post on Post {\n    voterCount\n    viewerEdge {\n      id\n      clapCount\n    }\n    recommenders {\n      name\n    }\n  }\n"]);return e}var $=function(e){var t=e.post,n=e.showVoters,e=null!==(o=null===(r=t.recommenders)||void 0===r?void 0:r.map(function(e){return e.name}).filter(A.b))&&void 0!==o?o:[],r=(t.viewerEdge.clapCount?["you"]:[]).concat(e).slice(0,2);if(!r.length)return null;var o=(t.voterCount||0)-r.length,e=r.join(0<o?", ":" and "),t="".concat(1<r.length?",":""," and"),r=f()("other",o),r=0<o?"".concat(t," ").concat((0,R.rR)(o)," ").concat(r):"";return g.createElement(b.xu,{sm:{display:"none"}},g.createElement(b.rU,{onClick:n},g.createElement(h.F,{scale:"S"},"Applause from ".concat(e).concat(r))))},t=(0,r.Ps)(F()),N=n(71542),U=n(19464),z=n(98024),T=n(28309);function q(){var e=o()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return e}function B(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var H=(0,r.Ps)(q(),t)},71542:(e,t,n)=>{"use strict";n.d(t,{s:()=>r,e:()=>s});var t=n(67154),o=n.n(t),t=n(6479),l=n.n(t),a=n(67294),i=n(78181),r=function(e){var t=e.xs,n=e.sm,r=e.children,e=l()(e,["xs","sm","children"]);return a.createElement(i.xu,o()({xs:{display:"none"},sm:{display:t?"inline-block":"none"},md:{display:t||n?"inline-block":"none"},lg:{display:"inline-block"},xl:{display:"inline-block"},tag:"span"},e),r)},s=function(e){var t=e.xs,n=e.sm,r=e.children,e=l()(e,["xs","sm","children"]);return a.createElement(i.xu,o()({xs:{display:"inline-block"},sm:{display:t?"none":"inline-block"},md:{display:t||n?"none":"inline-block"},lg:{display:"none"},xl:{display:"none"},tag:"span"},e),r)}},33914:(e,t,n)=>{"use strict";n.d(t,{_:()=>function(e){var t=e.children,n=e.tooltipText,r=e.isVisible,o=void 0===r||r,l=e.onMouseLeave,r=e.placement,r=void 0===r?"top":r,a=e.maxWidth,e=e.targetDistance,i=(0,v.Iq)(),s=(0,d.n)({name:"detail",scale:"S",color:"DARKER"});return c.createElement(p.$,{darkTheme:!0,hideOnClick:!0,isVisible:o,noPortal:!0,mouseEnterDelay:500,mouseLeaveDelay:0,placement:r,popoverRenderFn:function(){return c.createElement(u.xu,{padding:"8px",maxWidth:a?(0,m.a)(a):void 0,textAlign:"center"},c.createElement("span",{className:i([s,{color:f.ix,whiteSpace:a?void 0:"nowrap"}])},n))},role:"tooltip",targetDistance:e,onMouseLeave:l},t)}});var c=n(67294),u=n(78181),p=n(52862),d=n(67995),m=n(24438),v=n(28309),f=n(67122)},55573:(e,t,n)=>{"use strict";n.d(t,{l:()=>function(e,t,n){return!!t&&e[t.id]||{clapCount:(null==t?void 0:t.clapCount)||0,viewerClapCount:(null==n?void 0:n.clapCount)||0,viewerHasClappedSinceFetch:!1}}})}}]);

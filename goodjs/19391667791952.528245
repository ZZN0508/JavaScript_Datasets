!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={EVENT_GETSEGMENTS:"SEGMENTS_CALLED",EVENT_GETSEGMENTS_MISSES:"SEGMENTS_MISS",EVENT_USED_FALLBACK:"FALLBACK_USED",EVENT_CONTENT_SEGMENTS:"CONTENT_USED",EVENT_CONTENT_SEGMENTS_MISSES:"CONTENT_MISS",EVENTS:{DMP_ID_MISS:"DMP_ID_MISS",DMP_SEGMENTS_MISS:"DMP_SEGMENTS_MISS",PLNT_SEGMENTS_MISS:"PLNT_SEGMENTS_MISS",PLNT_SEGMENTS_IDLE:"PLNT_SEGMENTS_IDLE",NVG_SEGMENTS_MISS:"NVG_SEGMENTS_MISS",NVG_SEGMENTS_IDLE:"NVG_SEGMENTS_IDLE",CK_SEGMENTS_MISS:"CK_SEGMENTS_MISS",CK_SEGMENTS_IDLE:"CK_SEGMENTS_IDLE",GET_SEGMENTS_MISS:"GET_SEGMENTS_MISS"},GLOBOAB_CDN:"//s3.glbimg.com/v1/AUTH_da787d4f4e8d46e3ad76d5fa568fe786/globo-ab/globo-ab-v2.min.js",GLOBOAB_SERVER:"https://globo-ab.globo.com/",PLANETEERS_SEGMENTS_KEY:"planeteers_segments",PLANETEERS_KRUX_SEGMENTS_KEY:"planeteers_krux_segments",PLANETEERS_EXECUTION:"planeteers_execution",PLANETEERS_EXECUTION_STATUS:"planeteers_execution_status",PLANETEERS_EXECUTION_SEGMENT:"plntalfa",PLANETEERS_FALLBACK_NVG_SEGMENTS_KEY:"planeteers_fallback_nvg_segments",PLANETEERS_FALLBACK_CK_SEGMENTS_KEY:"planeteers_fallback_ck_segments",KRUX_SEGMENTS_KEY:"kxglobo_allsegs",KRUX_SEGMENTS_COOKIE:"kxglobo_segs",KRUX_ID_KEY:"kxglobo_user",ANALYSIS_INDEX:"29",ANALYSIS_INDEX_V2:"5",SEGMENT_SOURCES_MARKERS:{PLNT_EXECUTION:"plntalfa",PLNT:"plntbeta",CK:"plntck",NVG:"plntnvg"}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="on",o="off",r="v1",i=t.settings={constants:{ON:n,OFF:o,V1:r,V2:"v2"},none:{version:r,rollout:o,fallback:o,ck:o,ab:o,ab_analysis:n,analysis_rollout:0,cache_update_rollout:0},"gshow.globo.com":{version:"v2",rollout:n,fallback:n,ck:n,ab:o,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"g1.globo.com":{version:r,rollout:n,fallback:n,ck:n,ab:o,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"globoesporte.globo.com":{version:r,rollout:n,fallback:n,ck:n,ab:o,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"ge.globo.com":{version:r,rollout:n,fallback:n,ck:n,ab:o,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},"globoplay.globo.com":{version:"v2",rollout:n,fallback:n,ck:o,ab:o,ab_analysis:o,analysis_rollout:5,cache_update_rollout:5},"www.globo.com":{version:"v2",rollout:n,fallback:o,ck:o,ab:o,ab_analysis:n,analysis_rollout:5,cache_update_rollout:100},_getHost:function(){return window.location.host},_getByHost:function(e){return i[e]||i.none},isOn:function(e){return i._getByHost(i._getHost())[e]===i.constants.ON},isOff:function(e){return i._getByHost(i._getHost())[e]===i.constants.OFF},version:function(){return i._getByHost(i._getHost()).version},analysisRollout:function(){return i._getByHost(i._getHost()).analysis_rollout},cacheUpdateRollout:function(){return i._getByHost(i._getHost()).cache_update_rollout}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function n(e){if(window.cdaaas&&window.cdaaas.SETTINGS)return window.cdaaas.SETTINGS[e]}function o(e){if(window.utag_data)return window.utag_data[e]}t.getTenant=function(){return n("SITE_ID")||o("ut.profile")||"globocom"},t.getDeviceGroup=function(){return n("MOBILE_GROUP")||o("platform")||"desktop"}},function(e,t,n){var a=n(21),u=n(22);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var i=0;i<16;++i)t[o+i]=r[i];return t||u(r)}},function(e,t,n){function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,i;e.exports=(r=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}var i={AVOID_COOKIE_USAGE:!1,EVENTS_BUFFER_SIZE:100,EVENTS_SENDER_INTERVAL:1e4,EVENTS_SENDER_MIN_INTERVAL:5e3,EVENTS_SENDER_MAX_INTERVAL:2e4,EVENTS_DISCARD_AFTER_MSECS:36e5,EVENTS_BULK_SIZE:10,HORIZON_CALLBACK_STACK_LIMIT:1e3,HORIZON_TRACK_IDENTIFICATION_RESOURCE:"id",HORIZON_TRACK_HOST:"horizon-track.globo.com",HORIZON_CLIENT_UUID:r(n(2)).default.getResource("clientInstanceUUID",(0,o.default)()),HORIZON_REQUEST_ENCODING:"base64",HORIZON_SCHEMAS_HOST:"horizon-schemas.globo.com",IDENTIFICATION_LOAD_RETRY_AFTER_MSECS:5e3,PACKAGE_VERSION:"1.9.0",SCHEMA_VALIDATOR_SCRIPT_URL:"s3.glbimg.com/cdn/libs/tv4/1.3.0/tv4.min.js",SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES:2,SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS:1e4,USE_HTTPS:!0},o={avoidCookieUsage:function(){i.AVOID_COOKIE_USAGE=!0},useHTTPOnly:function(){i.USE_HTTPS=!1},useQAConfiguration:function(){i.HORIZON_TRACK_HOST="horizon-track.qa.globoi.com",i.HORIZON_SCHEMAS_HOST="horizon-schemas.qa.globoi.com",i.HORIZON_REQUEST_ENCODING="json"}};t.default=Object.assign(i,o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={COMPONENT_NOT_READY:"[Horizon] Component is not ready.",COMPONENT_UNAVAILABLE:"[Horizon] Class or function is required.",DUPLICATED_SCHEMA:"[Horizon] Duplicated schema.",ERROR_LOADING_RESOURCE:"[Horizon] Failed to load resource.",INVALID_AUTH_TOKEN:"[Horizon] Invalid authorization token.",INVALID_DATA:"[Horizon] Invalid data.",INVALID_DATE:"[Horizon] Invalid date-time RFC 3339 format.",INVALID_ENVIRONMENT:"[Horizon] Invalid environment value.",INVALID_FORMAT:"[Horizon] Invalid event format.",INVALID_REQUEST:"[Horizon] Invalid request.",INVALID_TIMESTAMP:"[Horizon] Invalid timestamp.",INVALID_VERSION_FORMAT:"[Horizon] Invalid version format.",INVALID_RELATION_ID:"[Horizon] Invalid relation identification.",LIMIT_EXCEEDED:"[Horizon] Resource limit exceeded.",MUST_BE_DEFINED:"[Horizon] Parameter or argument must be defined",SCHEMA_VALIDATOR_ERROR_LOADING:"[Horizon] Could not load SchemaValidator.",UNSUPPORTED_TYPE:"[Horizon] Unsupported type.",UNSUPPORTED_TENANT:"[Horizon] Unsupported tenant.",UNSUPPORTED_ENCODER:"[Horizon] Unsupported encoder.",USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE:"[Horizon] Can not set or remove a logged user when AVOID_COOKIE_USAGE is not enabled."};t.default=Object.assign(o,{mustBeDefined:function(e){throw new Error(o.MUST_BE_DEFINED+": "+e+".")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(){return window.horizonResources=window.horizonResources||{},window.horizonResources}t.default={getContext:o,getResource:function(e,t){var n=o();return n[e]=n[e]||t,n[e]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={execAsync:function(e,t){setTimeout(function(){return e(t)},1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={request:function(e,t,n,o){var r=new XMLHttpRequest;r.open(e,t,!0),r.onload=function(){return r.status<400?n(JSON.parse(r.response)):o(r.response)},r.onerror=o,r.send()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e},r=c(n(3)),i=c(n(2)),a=c(n(1)),u=c(n(4)),s=c(n(0));function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e){return e&&e.__esModule?e:{default:e}}function f(){return i.default.getResource("idManager",{loggedIDs:null,anonymousIDs:null,sessionIDs:null})}function d(e){var t,n=f();return n.instance||(t=e||s.default.HORIZON_TRACK_HOST+"/"+s.default.HORIZON_TRACK_IDENTIFICATION_RESOURCE,e=!1===s.default.AVOID_COOKIE_USAGE,n.instance=new h(t,e)),n.instance}var E=["GLBID","GST"],v="statusReady",p="statusNotReady",_="statusError",h=(o(g,[{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===v)return e(this.getClientIDs());if(this.callbacks.onReady.length>s.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(a.default.LIMIT_EXCEEDED+" IDManager callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===_?e():this.callbacks.onError.push(e)}},{key:"getAsKeyValue",value:function(){if(!this.isReady())throw new Error(""+a.default.COMPONENT_NOT_READY);if(this.bypass)return"";var t=this.getClientIDs();return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"getClientIDs",value:function(){var e=f();return Object.assign(e.loggedIDs||{},e.anonymousIDs||{},e.sessionIDs||{})}},{key:"isReady",value:function(){return this.state===v}},{key:"retry",value:function(){var e=this;this.state="statusScheduled",this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=p,e.load()},s.default.IDENTIFICATION_LOAD_RETRY_AFTER_MSECS)}},{key:"setLoggedUser",value:function(e,t){if(-1===E.indexOf(e))throw Error(a.default.INVALID_AUTH_TOKEN);var n=f();n.loggedIDs=Object.assign(n.loggedIDs||{},(n=t,(t=e)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))}},{key:"setAnonymousUser",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=f();if(null==n.anonymousIDs||t){if(!("glb_uid"in e&&"glb_uid_public"in e))throw a.default.mustBeDefined("glb_uid and glb_uid_public");e={glb_uid:e.glb_uid,glb_uid_public:e.glb_uid_public};n.anonymousIDs=Object.assign(n.anonymousIDs||{},e)}}},{key:"getAnonymousUser",value:function(){return f().anonymousIDs}},{key:"setSessionID",value:function(e){e.hsid&&(f().sessionIDs=Object.assign({},{hsid:e.hsid}))}},{key:"removeLoggedUser",value:function(){var t=f();E.forEach(function(e){t.loggedIDs[e]&&delete t.loggedIDs[e]})}},{key:"load",value:function(){var e,n=this;this.state===p&&(this.state="statusLoading",this.callbacks.onLoad.forEach(function(e){return e()}),e=s.default.USE_HTTPS?"https://":"http://",u.default.request("GET",e+this.url,function(e){n.setSessionID(e),n.setAnonymousUser(e,!1),n.state=v,n.callbacks.onReady.forEach(function(e){return r.default.execAsync(e,n.getClientIDs())})},function(t){n.state=_,n.callbacks.onError.forEach(function(e){return r.default.execAsync(e,t)}),n.retry()}))}}]),g);function g(e,t){!function(e){if(!(e instanceof g))throw new TypeError("Cannot call a class as a function")}(this),this.state=t?v:p,this.url=e,this.bypass=t,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}t.default={getInstance:d,getContextManager:f,setLoggedUser:function(e,t){if(!s.default.AVOID_COOKIE_USAGE)throw Error(a.default.USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE);e&&0!==e.length||a.default.mustBeDefined("tokenName"),t&&0!==t.length||a.default.mustBeDefined("tokenValue"),d().setLoggedUser(e,t)},removeLoggedUser:function(){if(!s.default.AVOID_COOKIE_USAGE)throw Error(a.default.USE_MANAGER_ONLY_WHEN_AVOIDING_COOKIE);d().removeLoggedUser()},setAnonymousUser:function(e){d().setAnonymousUser(e)},getAnonymousUser:function(){return d().getAnonymousUser()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDManager=t.Settings=t.HorizonClient=void 0,n(7);var o=i(n(9)),r=i(n(0)),n=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}n={setLoggedUser:n.default.setLoggedUser,removeLoggedUser:n.default.removeLoggedUser,setAnonymousUser:n.default.setAnonymousUser,getAnonymousUser:n.default.getAnonymousUser};t.HorizonClient=o.default,t.Settings=r.default,t.IDManager=n},function(e,t,n){"use strict";n(8).polyfill()},function(e,t,n){"use strict";function o(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i=Object.keys(Object(r)),a=0,u=i.length;a<u;a++){var s=i[a],l=Object.getOwnPropertyDescriptor(r,s);void 0!==l&&l.enumerable&&(n[s]=r[s])}}return n}e.exports={assign:o,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},s=a(n(0)),l=a(n(13)),c=a(n(1)),f=a(n(15)),d=a(n(26)),E=a(n(27)),v=a(n(5));function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e){return e&&e.__esModule?e:{default:e}}var p="stateNotReady",u="stateLoading",_=["web","instant-article","app"],r=(r(h,[{key:"useDefaultContentType",value:function(e){this.defaultContentType=e}},{key:"setValidator",value:function(e){this.validator=e}},{key:"setReferer",value:function(e){this.referer=e||document.referrer}},{key:"unload",value:function(){this.flush()}},{key:"getScopeInfo",value:function(e){return{url:document.location.href,actionTs:+Date.now(),horizonClientVersion:this.clientVersion,horizonClientReferer:this.referer,horizonRelationId:e}}},{key:"validateBeforeEnqueue",value:function(e){var t=this.getSchemasProvider().get(e.id,e.version);this.validator.validateFor(e,t)}},{key:"onReady",value:function(e){this.validator.isReady()?this.getSchemasProvider().isReady()?this.getIdManager().isReady()?(this.state="stateReady",e()):(this.state=u,this.getIdManager().onReady(e),this.getIdManager().load()):(this.state=u,this.getSchemasProvider().onReady(e),this.getSchemasProvider().load()):(this.state=u,this.validator.onReady(e),this.validator.load())}},{key:"flush",value:function(){var e=this;this.isReady()?this.getEventBus().flush():this.onReady(function(){return e.flush()})}},{key:"send",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(null!=n&&"string"!=typeof n)throw new Error(c.default.INVALID_RELATION_ID+" Wrong relationId type. It should be a String: actual type is "+(void 0===n?"undefined":o(n)));[].concat(e).forEach(function(e){t.validator.validateArgs(e),t.sendWithInfo(e,t.getScopeInfo(n))})}},{key:"sendWithInfo",value:function(e,t){var n=this;if(!this.isReady())return this.state===p&&this.flush(),void this.onReady(function(){return n.sendWithInfo(e,t)});this.validateBeforeEnqueue(e);var o=Object.assign({},t,e);o.contentType||(this.defaultContentType||c.default.mustBeDefined("contentType"),o.contentType=this.defaultContentType),this.getEventBus().enqueue(o)}}]),h);function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"web";if(function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.tenant=e||E.default.getTenant()||c.default.mustBeDefined("tenant"),this.deviceGroup=t||E.default.getDeviceGroup()||c.default.mustBeDefined("deviceGroup"),this.defaultContentType=o,-1===_.indexOf(r))throw Error(c.default.INVALID_ENVIRONMENT);this.environment=r,this.validator=l.default,this.clientVersion=s.default.PACKAGE_VERSION,this.state=p,this.referer=document.referrer;var i=null,a=null,u=null;this.setSchemasProvider=function(e){i=e},this.getSchemasProvider=function(){var e;return i||(e=d.default.getInstance(),n.setSchemasProvider(e)),i},this.setEventBus=function(e){a=e},this.getEventBus=function(){var e;return a||(e=f.default.getInstance(n.tenant,n.deviceGroup,n.environment,n.getIdManager()),n.setEventBus(e)),a},this.setIdManager=function(e){u=e},this.getIdManager=function(){var e;return u||(e=v.default.getInstance(),n.setIdManager(e)),u},this.isReady=function(){return!!i&&!!u&&n.validator.isReady()&&i.isReady()&&u.isReady()},window.addEventListener("beforeunload",function(){n.unload()})}t.default=r},function(e,t,n){var a=n(11),u=n(12);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var i=0;i<16;++i)t[o+i]=r[i];return t||u(r)}},function(e,t){var n,o,r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);r?(n=new Uint8Array(16),e.exports=function(){return r(n),n}):(o=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o})},function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,t=o;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[+n]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=u(n(14)),i=u(n(1)),a=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return!!window.tv4}function l(e){return null===e||isNaN(e)&&!isNaN(Date.parse(e))?null:i.default.INVALID_DATE}var c={ready:[]},f=["url"];t.default={validateFor:function(e,t){if(!s())throw new Error(i.default.ERROR_LOADING_RESOURCE+" Validator is not ready.");if(!t)throw new Error(i.default.INVALID_DATA+" Argument: schema.");if(!/\d+\.\d+/.test(e.version))throw new Error(i.default.INVALID_VERSION_FORMAT);if(!tv4.validate(e.properties,t))throw new Error(i.default.INVALID_DATA+" "+e.id+" "+e.version+". "+tv4.error)},validateArgs:function(t){var e=Object.prototype.hasOwnProperty;if(!(t&&e.call(t,"id")&&e.call(t,"version")&&e.call(t,"properties")))throw new Error(i.default.INVALID_FORMAT+" Missing properties: "+JSON.stringify(t));if("string"!=typeof t.id||"string"!=typeof t.version||"object"!==o(t.properties))throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(t));if(0<f.filter(function(e){return t[e]&&"string"!=typeof t[e]}).length)throw new Error(i.default.INVALID_FORMAT+" Wrong object type: "+JSON.stringify(t));if(t.id.length<2||t.version.length<3)throw new Error(i.default.INVALID_FORMAT+" Invalid property size: "+JSON.stringify(t));var n=Object.assign({},t);delete n.id,delete n.version,delete n.properties,delete n.contentType;e=Object.keys(n);if(0<e.length&&!e.every(function(e){return-1!==f.indexOf(e)}))throw new Error(i.default.INVALID_FORMAT+" Extra keys aren't allowed: "+JSON.stringify(n))},tv4IsValidData:l,isReady:s,onReady:function(e){if(s())return e();if(c.ready.length>a.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(i.default.LIMIT_EXCEEDED+" Validator callback stack.");return c.ready.unshift(e)},load:function(){var e;r.default.isDefined("tv4")||(e=(a.default.USE_HTTPS?"https://":"http://")+a.default.SCHEMA_VALIDATOR_SCRIPT_URL,(0,r.default)([e],"tv4",{async:!0,numRetries:a.default.SCHEMA_VALIDATOR_SCRIPT_MAX_RETRIES,success:function(){tv4.addFormat("date-time",l),c.ready.forEach(function(e){return e()})},error:function(e){throw new Error(i.default.SCHEMA_VALIDATOR_ERROR_LOADING+" "+e)}}))}}},function(e,t,n){var o;void 0===(o="function"==typeof(o=function(){var d=function(){},a={},s={},l={};function u(e,t){if(e){var n=l[e];if(s[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function c(e,t){e.call&&(e={success:e}),t.length?(e.error||d)(t):(e.success||d)(e)}function n(e,t,n){var o,r;if(t&&t.trim&&(o=t),r=(o?n:t)||{},o){if(o in a)throw"LoadJS";a[o]=!0}function i(t,n){!function(e,o,t){for(var r=(e=e.push?e:[e]).length,n=r,i=[],a=function(e,t,n){if("e"==t&&i.push(e),"b"==t){if(!n)return;i.push(e)}--r||o(i)},u=0;u<n;u++)!function n(o,r,i,a){var u,s,e=document,t=i.async,l=(i.numRetries||0)+1,c=i.before||d,f=o.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(o)?((s=e.createElement("link")).rel="stylesheet",s.href=f,(u="hideFocus"in s)&&s.relList&&(u=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg)$)/.test(o)?(s=e.createElement("img")).src=f:((s=e.createElement("script")).src=o,s.async=void 0===t||t),s.onload=s.onerror=s.onbeforeload=function(e){var t=e.type[0];if(u)try{s.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((a+=1)<l)return n(o,r,i,a)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";r(o,t,e.defaultPrevented)},!1!==c(o,s)&&e.head.appendChild(s)}(e[u],a,t)}(e,function(e){c(r,e),t&&c({success:t,error:n},e),u(o,e)},r)}if(r.returnPromise)return new Promise(i);i()}return n.ready=function(e,t){return function(e,n){for(var t,o,r=[],i=(e=e.push?e:[e]).length,a=i,u=function(e,t){t.length&&r.push(e),--a||n(r)};i--;)t=e[i],(o=s[t])?u(t,o):(l[t]=l[t]||[]).push(u)}(e,function(e){c(t,e)}),n},n.done=function(e){u(e,[])},n.reset=function(){a={},s={},l={}},n.isDefined=function(e){return e in a},n})?o.apply(t,[]):o)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n(16);var i=d(n(2)),a=d(n(17)),u=d(n(0)),s=d(n(1)),l=d(n(22)),c=d(n(24)),f=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}function E(){return i.default.getResource("bus",{})}var v=(o(p,[{key:"setMaxQueueSize",value:function(e){this.queue=c.default.fromArray(this.queue.items,e)}},{key:"filterQueue",value:function(){var t=+Date.now()-u.default.EVENTS_DISCARD_AFTER_MSECS;return this.queue.filter(function(e){return e.actionTs>t})}},{key:"prepareRequest",value:function(){var e=this.queue.splice(0,u.default.EVENTS_BULK_SIZE);return this.actionCounter+=e.length,{horizonClientUUID:this.instanceID,horizonClientTenant:this.currentTenant,horizonClientTs:Date.now(),horizonClientType:"js",horizonClientDeviceGroup:this.deviceGroup,horizonDispatchNumber:this.dispatchNumber,horizonActionCounter:this.actionCounter,horizonEnvironment:this.environment,actions:e}}},{key:"isValidRequest",value:function(e){if(!e||!e.actions)throw new Error(s.default.INVALID_REQUEST);return 0<e.actions.length}},{key:"dispatch",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"json",n=u.default.USE_HTTPS?"https://":"http://",o=this.idManager.getAsKeyValue(),o=o?"?"+o:"",o=n+l.default.applyDestinationPolicy()+"/event/"+this.currentTenant+o,t=a.default.get(t);if(!this.isValidRequest(e))return!1;this.dispatchNumber+=1;e=t(e);return navigator.sendBeacon(o,e)}},{key:"enqueue",value:function(e){if(!e.actionTs)throw new Error(s.default.INVALID_TIMESTAMP);this.queue.push(e)}},{key:"flush",value:function(){for(;0<this.queue.length;){this.queue=this.filterQueue();var e=this.prepareRequest();this.dispatch(e,u.default.HORIZON_REQUEST_ENCODING)}}},{key:"length",get:function(){return this.queue.length}}]),p);function p(e,t,n,o,r){var i=this;!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this),this.currentTenant=e||s.default.mustBeDefined("tenant"),this.instanceID=t||s.default.mustBeDefined("instanceID"),this.deviceGroup=n||s.default.mustBeDefined("deviceGroup"),this.environment=o||s.default.mustBeDefined("environment"),this.queue=new c.default(u.default.EVENTS_BUFFER_SIZE),this.idManager=r,this.dispatchNumber=1,this.actionCounter=0,(new f.default).every(u.default.EVENTS_SENDER_INTERVAL).call(function(){i.queue=i.filterQueue();var e=i.prepareRequest();i.dispatch(e,u.default.HORIZON_REQUEST_ENCODING)||e.actions.forEach(function(e){return i.enqueue(e)})}).call(l.default.applyThrottlingPolicy).start()}t.default={getInstance:function(e,t,n,o){var r=E(),i=e+"-"+t;return r[i]||(r[i]=new v(e,u.default.HORIZON_CLIENT_UUID,t,n,o)),r[i]},reset:function(e,t){e&&0!==e.length||s.default.mustBeDefined("tenant"),t&&0!==t.length||s.default.mustBeDefined("deviceGroup");t=e+"-"+t;delete E()[t]},getContextBus:E}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){!function(){return"navigator"in this&&"sendBeacon"in this.navigator}.call(this)&&("navigator"in this||(this.navigator={}),this.navigator.sendBeacon=function(e,t){var n=this.event&&this.event.type,o="unload"===n||"beforeunload"===n,n="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!o),n.withCredentials=!0,n.setRequestHeader("Accept","*/*"),"string"==typeof t?(n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),n.responseType="text/plain"):t instanceof Blob&&t.type&&n.setRequestHeader("Content-Type",t.type);try{n.send(t)}catch(e){return!1}return!0}.bind(this))}.call("object"===("undefined"==typeof window?"undefined":n(window))?window:{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(18)),r=a(n(21)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var u={base64:function(e){var t=new FormData;return t.append("data",o.default.encode(r.default.encode(JSON.stringify(e)))),t.append("encoding","base64"),t},json:function(e){return JSON.stringify(e)}};t.default={get:function(e){if(!(e in u))throw new Error(i.default.UNSUPPORTED_ENCODER+" Invalid "+e+" encoder.");return u[e]}}},function(e,a,s){!function(o,r){var i;!function(){var e=("object"==typeof o&&o&&o.exports,"object"==typeof r&&r);e.global!==e&&e.window;function t(e){this.message=e}(t.prototype=new Error).name="InvalidCharacterError";function l(e){throw new t(e)}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,n={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,o,r,i=e.length%3,a="",u=-1,s=e.length-i;++u<s;)t=e.charCodeAt(u)<<16,n=e.charCodeAt(++u)<<8,o=e.charCodeAt(++u),a+=c.charAt((r=t+n+o)>>18&63)+c.charAt(r>>12&63)+c.charAt(r>>6&63)+c.charAt(63&r);return 2==i?(t=e.charCodeAt(u)<<8,n=e.charCodeAt(++u),a+=c.charAt((r=t+n)>>10)+c.charAt(r>>4&63)+c.charAt(r<<2&63)+"="):1==i&&(r=e.charCodeAt(u),a+=c.charAt(r>>2)+c.charAt(r<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(u,"")).length;(t=t%4==0?(e=e.replace(/==?$/,"")).length:t)%4!=1&&!/[^+a-zA-Z0-9/]/.test(e)||l("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,r=0,i="",a=-1;++a<t;)o=c.indexOf(e.charAt(a)),n=r%4?64*n+o:o,r++%4&&(i+=String.fromCharCode(255&n>>(-2*r&6)));return i},version:"0.1.0"};void 0===(i=function(){return n}.call(a,s,a,o))||(o.exports=i)}()}.call(a,s(19)(e),s(20))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function i(e){for(var t,n,o=[],r=0,i=e.length;r<i;)55296<=(t=e.charCodeAt(r++))&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),r--):o.push(t);return o}function a(e){if(55296<=e&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function u(e,t){return c(e>>t&63|128)}function o(){if(s<=l)throw Error("Invalid byte index");var e=255&r[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}var r,s,l,c;t=t,c=String.fromCharCode,t.version="3.0.0",t.encode=function(e){for(var t=i(e),n=t.length,o=-1,r="";++o<n;)r+=function(e){if(0==(4294967168&e))return c(e);var t="";return 0==(4294965248&e)?t=c(e>>6&31|192):0==(4294901760&e)?(a(e),t=c(e>>12&15|224),t+=u(e,6)):0==(4292870144&e)&&(t=c(e>>18&7|240),t+=u(e,12),t+=u(e,6)),t+c(63&e|128)}(t[o]);return r},t.decode=function(e){r=i(e),s=r.length,l=0;for(var t,n=[];!1!==(t=function(){var e,t;if(s<l)throw Error("Invalid byte index");if(l==s)return!1;if(e=255&r[l],l++,0==(128&e))return e;if(192==(224&e)){if(128<=(t=(31&e)<<6|o()))return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if(2048<=(t=(15&e)<<12|o()<<6|o()))return a(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&65536<=(t=(7&e)<<18|o()<<12|o()<<6|o())&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}());)n.push(t);return function(e){for(var t,n=e.length,o=-1,r="";++o<n;)65535<(t=e[o])&&(r+=c((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=c(t);return r}(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(23)),i=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}t.default={applyThrottlingPolicy:function(e){var t=i.default.EVENTS_SENDER_MIN_INTERVAL,n=i.default.EVENTS_SENDER_MAX_INTERVAL,o=Number(r.default.get("_hzt.interval"))||i.default.EVENTS_SENDER_INTERVAL;o<=n&&t<=o&&e.interval!==o&&e.reschedule(o)},applyDestinationPolicy:function(){return r.default.get("_hzt.host")||i.default.HORIZON_TRACK_HOST}}},function(e,t,n){var o,r=function(){function p(){for(var e=0,t={};e<arguments.length;e++){var n,o=arguments[e];for(n in o)t[n]=o[n]}return t}return function e(E){function v(e,t,n){var o,r;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(n=p({path:"/"},v.defaults,n)).expires&&((r=new Date).setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r),n.expires=n.expires?n.expires.toUTCString():"";try{o=JSON.stringify(t),/^[\{\[]/.test(o)&&(t=o)}catch(e){}t=E.write?E.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var i,a="";for(i in n)n[i]&&(a+="; "+i,!0!==n[i]&&(a+="="+n[i]));return document.cookie=e+"="+t+a}e||(o={});for(var u=document.cookie?document.cookie.split("; "):[],s=/(%[0-9A-Z]{2})+/g,l=0;l<u.length;l++){var c=u[l].split("="),f=c.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var d=c[0].replace(s,decodeURIComponent),f=E.read?E.read(f,d):E(f,d)||f.replace(s,decodeURIComponent);if(this.json)try{f=JSON.parse(f)}catch(e){}if(e===d){o=f;break}e||(o[d]=f)}catch(e){}}return o}}return(v.set=v).get=function(e){return v.call(v,e)},v.getJSON=function(){return v.apply({json:!0},[].slice.call(arguments))},v.defaults={},v.remove=function(e,t){v(e,"",p(t,{expires:-1}))},v.withConverter=e,v}(function(){})};void 0===(o="function"==typeof(o=r)?o.call(t,n,t,e):o)||(e.exports=o),e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(r,[{key:"push",value:function(e){this._queue=[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.slice(0,this.maxSize-1)))}},{key:"forEach",value:function(e){return this._queue.forEach(e)}},{key:"slice",value:function(e,t){return this._queue.slice(e,t)}},{key:"splice",value:function(e,t){return this._queue.splice(e,t)}},{key:"clear",value:function(){this._queue=[]}},{key:"filter",value:function(e){return r.fromArray(this._queue.filter(e),this.maxSize)}},{key:"length",get:function(){return this._queue.length}},{key:"items",get:function(){return JSON.parse(JSON.stringify(this._queue))}}],[{key:"fromArray",value:function(e,t){var n=new r(t);return e.forEach(function(e){return n.push(e)}),n}}]),r);function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this._queue=[],this.maxSize=e}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(r,[{key:"tick",value:function(){var t=this;this.callbacks.forEach(function(e){return e(t)})}},{key:"start",value:function(){return this.tickIntervalId=setInterval(this.tick.bind(this),this.interval),this}},{key:"stop",value:function(){return clearInterval(this.tickIntervalId),this.tickIntervalId=0,this}},{key:"reschedule",value:function(e){return this.stop().every(e).start()}},{key:"every",value:function(e){return this.interval=e,this}},{key:"call",value:function(e){return this.callbacks.push(e),this}},{key:"isRunning",get:function(){return!!this.tickIntervalId}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.interval=0,this.tickIntervalId=0,this.callbacks=[]}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e},r=c(n(3)),i=c(n(2)),a=c(n(1)),u=c(n(0)),s=c(n(4));function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e){return e&&e.__esModule?e:{default:e}}function f(){return i.default.getResource("schemas",{data:{}})}var d="statusReady",E="statusNotReady",v="statusError",p=(o(_,[{key:"get",value:function(e,t){e=e+"-"+t;if(!this.isReady())throw new Error(""+a.default.COMPONENT_NOT_READY);t=f().data[e];if(!t)throw new Error(a.default.UNSUPPORTED_TYPE+": "+e);return t}},{key:"isReady",value:function(){return this.state===d}},{key:"retry",value:function(){var e=this;this.state="statusScheduled",this.callbacks.onRetry.forEach(function(e){return e()}),setTimeout(function(){e.state=E,e.load()},u.default.SCHEMA_LOAD_COLLECTION_RETRY_AFTER_MSECS)}},{key:"onLoad",value:function(e){this.callbacks.onLoad.push(e)}},{key:"onRetry",value:function(e){this.callbacks.onRetry.push(e)}},{key:"onReady",value:function(e){if(this.state===d)return e(f().data);if(this.callbacks.onReady.length>u.default.HORIZON_CALLBACK_STACK_LIMIT)throw new Error(a.default.LIMIT_EXCEEDED+" Schemas callback stack.");return this.callbacks.onReady.push(e)}},{key:"onError",value:function(e){this.state===v?e():this.callbacks.onError.push(e)}},{key:"load",value:function(){var e,n=this,t=f();this.state===E&&(this.state="statusLoading",this.callbacks.onLoad.forEach(function(e){return e()}),e=u.default.USE_HTTPS?"https://":"http://",s.default.request("GET",e+this.url,function(e){t.data=Object.assign(t.data||{},e),n.state=d,n.callbacks.onReady.forEach(function(e){return r.default.execAsync(e,t.data)})},function(t){n.state=v,n.callbacks.onError.forEach(function(e){return r.default.execAsync(e,t)}),n.retry()}))}}]),_);function _(e){!function(e){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}(this),this.url=e,this.state=E,this.callbacks={onReady:[],onError:[],onRetry:[],onLoad:[]}}t.default={getInstance:function(e){var t=f();return t.provider||(t.provider=new p(e||u.default.HORIZON_SCHEMAS_HOST+"/schemas")),t.provider},getContextSchemas:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(e){return window.cdaaas&&window.cdaaas.SETTINGS?window.cdaaas.SETTINGS[e]:null}function r(e){return window.utag_data?window.utag_data[e]:null}t.default={getTenant:function(){return o("SITE_ID")||r("ut.profile")||"unknown"},getDeviceGroup:function(){return o("MOBILE_GROUP")||r("platform")||"unknown"}}}],i={},o.m=r,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6))},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var c=t._fallback={CURRENT_HREF:window.location.href,CK:{GENDER_THRESHOLD:.5,INFERENCE_WHITELIST:["g1.globo.com","globoesporte.globo.com","gshow.globo.com"]},NAVEGG_SEGMENTS:{gender:{1:"qou66o7zu",2:"qou60g64u"},age:{1:"qou70fnkq",2:"qou88ccx0",3:"qou9o7c84",4:"qou93ocxx",5:"qovamsdij"},income:{1:"qova7gr2x",2:"qovbar2im",3:"qovbtu8y4"}},shouldUseCKSegments:function(){var e=!1,t=!0,n=!1,o=void 0;try{for(var r,i=c.CK.INFERENCE_WHITELIST[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value,u=!!window.utag_data&&"multi-content"===window.utag_data.tipo_pagina;if(-1!==c.CURRENT_HREF.indexOf(a)&&u){e=!0;break}}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}return e},getCKSegments:function(){var e=[];if(!c.shouldUseCKSegments())return e;var t=window.ck&&null!=window.ck.g&&null!=window.ck.g&&0<=window.ck.g?window.ck.g:-1;return t>=c.CK.GENDER_THRESHOLD?e.push(c.NAVEGG_SEGMENTS.gender[1]):0<=t&&e.push(c.NAVEGG_SEGMENTS.gender[2]),e},getNaveggSegments:function(){var e=[];if(window.nvg13574){var t=Object.keys(c.NAVEGG_SEGMENTS),n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var s=a.value,l=c.NAVEGG_SEGMENTS[s][window.nvg13574.getSegment(s)];l&&1<=l.length&&n.push(l)}}catch(e){r=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}e=e.concat(n)}return e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r=n(23),i=n(1),a=n(7),u=f(n(8)),s=f(n(25)),l=f(n(0)),c=n(2);function f(e){return e&&e.__esModule?e:{default:e}}t.default={runAnalysis:function(){var e,t,n;a.utils._random()<=i.settings.analysisRollout()&&(e=u.default.newAnalysis({name:"profiling-planeteers-fallback-times-used-"+(0,c.getTenant)()+"-"+l.default.ANALYSIS_INDEX,control:"control",alternative:"used"},{impression:l.default.EVENT_GETSEGMENTS,conversion:l.default.EVENT_USED_FALLBACK}),t=u.default.newAnalysis(o.coverage.EXPERIMENT,{},o.coverage.listeners),n=u.default.newAnalysis(r.execution.EXPERIMENT,{},r.execution.listeners),e.run(),t.run(),n.run())},runAPIAnalysis:function(){var e,t,n;a.utils._random()<=i.settings.analysisRollout()&&(e=(0,c.getTenant)(),n=l.default.ANALYSIS_INDEX,t=u.default.newAnalysis({name:"profiling-planeteers-misses-getsegments-"+e+"-"+n,control:"control",alternative:"missed"},{impression:l.default.EVENT_GETSEGMENTS,conversion:l.default.EVENT_GETSEGMENTS_MISSES}),n=u.default.newAnalysis({name:"profiling-planeteers-getcontentsegments-"+e+"-"+n,control:"control",alternative:"missed"},{impression:l.default.EVENT_CONTENT_SEGMENTS,conversion:l.default.EVENT_CONTENT_SEGMENTS_MISSES}),t.run(),n.run(),(n=[]).push(s.default.newAnalysisEvent("api",l.default.EVENTS.GET_SEGMENTS_MISS)),n.push(s.default.newAnalysisEvent("dmp",l.default.EVENTS.DMP_SEGMENTS_MISS)),n.push(s.default.newAnalysisEvent("plnt",l.default.EVENTS.PLNT_SEGMENTS_MISS)),n.push(s.default.newAnalysisEvent("nvg",l.default.EVENTS.NVG_SEGMENTS_MISS)),n.push(s.default.newAnalysisEvent("ck",l.default.EVENTS.CK_SEGMENTS_MISS)),new s.default.MultiAnalysis("profiling-planeteers-analisys-v2-miss-"+e+"-"+l.default.ANALYSIS_INDEX_V2,n).run(),(n=[]).push(s.default.newAnalysisEvent("plnt",l.default.EVENTS.PLNT_SEGMENTS_IDLE)),n.push(s.default.newAnalysisEvent("nvg",l.default.EVENTS.NVG_SEGMENTS_IDLE)),n.push(s.default.newAnalysisEvent("ck",l.default.EVENTS.CK_SEGMENTS_IDLE)),new s.default.MultiAnalysis("profiling-planeteers-analisys-v2-idle-"+e+"-"+l.default.ANALYSIS_INDEX_V2,n).run())}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils={_random:function(){return Math.round(99*Math.random())+1}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e},r=n(1),i=n(4),a=l(n(9)),u=l(n(3));function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return e&&e.__esModule?e:{default:e}}var c=(o(f,[{key:"setupListeners",value:function(e){var t=this,n=(0,u.default)();window.addEventListener(this.events.impression,function(){e.impression({experiment:t.experiment.name,alternative:t.experiment.alternative,testId:n})}),window.addEventListener(this.events.conversion,function(){e.conversion({experiment:t.experiment.name,alternative:t.experiment.alternative,testId:n})})}},{key:"createABClient",value:function(){var e=new i.HorizonClient,t=-1!==window.location.href.indexOf(".globoi")?"qa":"prod";return new a.default(t,e)}},{key:"run",value:function(){var e;r.settings.isOn("ab_analysis")&&(e=this.createABClient(),this.customListener?this.customListener(e):this.setupListeners(e))}}]),f);function f(e,t,n){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.experiment=e,this.events=t,this.toolbox=new window.dmp.Toolbox,this.customListener=n||null}t.default={Analysis:c,newAnalysis:function(e,t,n){return new c(e,t,n)},newMissAnalysis:function(e,t,n,o){return new c({name:e+"-"+t+"-"+n,control:"control",alternative:"miss"},{impression:o,conversion:o+"_TRIGGERED"})},newIdleAnalysis:function(e,t,n,o){return new c({name:e+"-"+t+"-"+n,control:"control",alternative:"idle"},{impression:o,conversion:o+"_TRIGGERED"})}}},function(e,n,t){"use strict";!function(e){var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){return n=[function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=(function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(i,[{key:"getParams",value:function(e){var t={skipImpressions:this.isSkippedImpression()};return Object.assign({},t,e)}},{key:"getLocationParams",value:function(){return{drawed:!0,countImpressions:!this.isSkippedImpression()}}},{key:"getHeaders",value:function(){return this.options.extraHeaders||[]}},{key:"getHeader",value:function(n){var o="";return this.getHeaders().forEach(function(t){Object.keys(t).forEach(function(e){n===e&&(o=t[e])})}),o}},{key:"getDict",value:function(){return this.options}},{key:"getTimeout",value:function(){var e=this.options.timeout;return e=void 0===e?1e3:e}},{key:"skipImpression",value:function(){return this.options.skipImpressions=!0,this}},{key:"timeout",value:function(e){return this.options.timeout=e,this}},{key:"isFieldSetted",value:function(e){return void 0!==e&&!1!==e}},{key:"isSkippedImpression",value:function(){return this.isFieldSetted(this.options.skipImpressions)}},{key:"addHeader",value:function(e){var t=[];return(t=this.options.hasOwnProperty("extraHeaders")?this.options.extraHeaders:t).push(e),this.options.extraHeaders=t,this}},{key:"withOriginURL",value:function(e){return new i(this.clone(this.options)).originURL(e)}},{key:"originURL",value:function(e){return this.addHeader({"x-canonical-uri":e}),this}},{key:"getOriginURL",value:function(){return this.getHeader("x-canonical-uri")}},{key:"enableGADebugger",value:function(){return this.options.enableGADebugger=!0,this}},{key:"isEnabledGADebugger",value:function(){return this.isFieldSetted(this.options.enableGADebugger)}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}}],[{key:"validated",value:function(e){if(e instanceof i)return e;if(void 0===e)return new i;throw new TypeError("GloboABOptions nÃ£o vÃ¡lido")}}]),i);function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.options=e}e.exports=r},function(e,t,n){var o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},v=n(9),o=(o(r,[{key:"oneWaySend",value:function(e,t,n,o){this.do("PUT",e,null,t,null,null,n,o)}},{key:"do",value:function(e,t,n,o,r,i){var a,u=this,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:1e3,c="",f=v.interceptParams(t,n);for(a in f)f.hasOwnProperty(a)&&(c+="&"+a+"="+f[a]);var c=c&&"?"+c.substring(1),d=this.abHost+t+c,E=this.createXHR();E.open(e,d,!0),E.timeout=l,E.onload=function(){200<=E.status&&E.status<400?u.callIfDefined(r,E):u.callIfDefined(i,u.handleError(E,d))},E.onerror=function(e){u.callIfDefined(i,u.handleError(e,d))},E.ontimeout=function(e){u.callIfDefined(i,u.handleError(e,d))},o&&(E.setRequestHeader("Content-Type","application/json;charset=utf-8"),o=JSON.stringify(o)),Array.from(s).forEach(function(t){Object.keys(t).forEach(function(e){E.setRequestHeader(e,t[e])})}),E.send(o)}},{key:"handleError",value:function(e,t){var n={};return n.type=e.type||"undefined",(e=e.target instanceof XMLHttpRequest?e.target:e)instanceof XMLHttpRequest?(n.status=e.status,n.url=t,n.timeout=e.timeout,n.msg=e.responseText):n.msg=e.toString(),n}},{key:"createXHR",value:function(){var e=new XMLHttpRequest;return e.withCredentials=!0,e}},{key:"callIfDefined",value:function(e,t){e&&e(t)}}]),r);function r(e){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.abHost=e}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},function(e,t,n){var o="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":u(e)},r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}e.exports=r},function(e,t,n){var o=function(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e},r=n(1),i=n(15),o=(o(a,[{key:"selectedAlternatives",value:function(e,t,n,o){this.request.do("GET","/v2/selected-alternatives",t.getParams({experiments:e}),null,n,o,t.getHeaders(),t.getTimeout())}},{key:"recordMetric",value:function(e,t,n){e="/v2/tests/"+t.testId+"/"+e,t={experiment:t.experiment,alternative:t.alternative};this.requestWrapper.oneWay(e,t,n.getHeaders(),n.getTimeout())}}]),a);function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.abHost=e,this.request=new r(this.abHost),this.requestWrapper=new i(this.abHost)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(0),o=(o(u,[{key:"isValid",value:function(){return"string"==typeof this.experiment&&""!==this.experiment.trim()&&"string"==typeof this.alternative&&""!==this.alternative.trim()&&"string"==typeof this.testId&&""!==this.testId.trim()}},{key:"impression",value:function(e){this.isValid()?(e=e||this.options,this._sendMetric("impression",e)):console.warn("Os dados do exp nÃ£o sÃ£o vÃ¡lidos para impressÃ£o")}},{key:"conversion",value:function(e){this.isValid()?(e=e||this.options,this._sendMetric("conversion",e)):console.warn("Os dados do exp nÃ£o sÃ£o vÃ¡lidos para conversÃ£o!")}},{key:"_canProcessEvent",value:function(){return!(this.data&&this.data["extra-info"]&&this.data["extra-info"]["draw-rule"]&&void 0!==this.data["extra-info"]["draw-rule"]["process-event"])||this.data["extra-info"]["draw-rule"]["process-event"]}},{key:"_sendMetric",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options;this._canProcessEvent()?(t={experiment:this.experiment,alternative:this.alternative,testId:this.testId},this.context.abEndpoint.recordMetric(e,t,n)):console.warn("Nao serÃ¡ enviado sinais de impressÃ£o ou conversÃ£o, uma vez que o experimento foi finalizado ou desativado.")}},{key:"_getPropertiesFromData",value:function(){var n={};return(Array.isArray(this.data.properties)?this.data.properties:[]).forEach(function(e){var t=e.key,e=e.value;n[t]=e}),n}},{key:"_getStringFromData",value:function(e){return"string"==typeof this.data[e]?this.data[e]:null}}],[{key:"parseRequest",value:function(e,t,n){var o,r,i=JSON.parse(e),a={};for(o in i.experiments)i.experiments.hasOwnProperty(o)&&(r=new u(i.experiments[o],t,n),a[o]=r);return a}}]),u);function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,u),this.data=e||{},this.context=t,this.options=n,this.experiment=this._getStringFromData("experiment"),this.alternative=this._getStringFromData("alternative"),this.testId=this._getStringFromData("testId"),this.properties=this._getPropertiesFromData()}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(0),a=n(3),u=n(4),o=(o(s,[{key:"options",value:function(){return this._options}},{key:"impression",value:function(e,t){this._getExperiment(e,t).impression()}},{key:"conversion",value:function(e,t){this._getExperiment(e,t).conversion()}},{key:"choose",value:function(e){return"string"==typeof e&&""!==e.trim()?this._chooseOne(e):Array.isArray(e)&&0<e.length?this._chooseMulti(e):Promise.reject(new TypeError("Para sorteio o experimento precisa ser uma string ou uma lista vÃ¡lida."))}},{key:"_chooseOne",value:function(o){var r=this;return new Promise(function(t,n){r.abEndpoint.selectedAlternatives(o,r.options(),function(e){e=u.parseRequest(e.responseText,r,r.options())[o];t(e)},function(e){n(e)})})}},{key:"_chooseMulti",value:function(e){var o=this,r=e.join(",");return new Promise(function(t,n){o.abEndpoint.selectedAlternatives(r,o.options(),function(e){e=u.parseRequest(e.responseText,o,o.options());t(e)},function(e){n(e)})})}},{key:"_getExperiment",value:function(e,t){t=t||this._options;return void 0!==e&&e.__proto__&&e.__proto__.constructor&&"Experiment"===e.__proto__.constructor.name?(e.options=t,e):new u(e,this,t)}}]),s);function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.server=e,this.abEndpoint=new a(this.server),this._options=t}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(11),a=n(10),u=n(0),o=(o(s,[{key:"options",value:function(){return this._options}},{key:"choose",value:function(e){var o=this;return new Promise(function(t,n){o.abEndpoint.selectedDrawedExperiment(e,o.options(),function(e){e=i.parseRequest(e.responseText,o,o.options());t(e)},function(e){n(e)})})}}]),s);function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new u;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.server=e,this.abEndpoint=new a(this.server),this._options=t}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(0),a=n(12),u=n(13),o=(o(s,[{key:"options",value:function(){return this._options}},{key:"increment",value:function(e){var t=e.experiment,n=e.arm,o=e.testId,r=e.abAlternative,e=e.arms;new u({experiment:t,arm:n,testId:o,abAlternative:r,arms:void 0===e?[]:e},this,this.options()).increment()}},{key:"reward",value:function(e){var t=e.experiment,n=e.arm,o=e.testId,r=e.abAlternative,e=e.slot,e=void 0===e?0:e;new u({experiment:t,arm:n,testId:o,abAlternative:r},this,this.options()).reward(e,n)}},{key:"choose",value:function(o){var r=this;return new Promise(function(t,n){r.mabEndpoint.getSelectedArm(o,r.options(),function(e){e=u.parseRequest(e.responseText,o,r,r.options());t(e)},function(e){n(e)})})}}]),s);function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new i;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.server=e,this._options=t,this.mabEndpoint=new a(this.server)}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e},r=n(0),i=n(5),a=n(7),u=n(6),o=(o(s,[{key:"createOptions",value:function(){return this._options=new r,this.abMain=new i(this._getServer(this.env),this._options),this._options}},{key:"options",value:function(){return this._options}},{key:"mab",value:function(){return new a(this._getMabServer(this.env),this.options())}},{key:"location",value:function(){return new u(this._getServer(this.env),this.options())}},{key:"impression",value:function(e,t){this.abMain.impression(e,t)}},{key:"conversion",value:function(e,t){this.abMain.conversion(e,t)}},{key:"choose",value:function(e){return this.abMain.choose(e)}},{key:"_getEnv",value:function(e){return"prod"===e||"prod.be"===e||"qa"===e||"qa.be"===e||"local"===e?e:"qa"}},{key:"_getServer",value:function(e){return"local"===this.env?"http://localhost:8888":"prod"===this.env?"https://globo-ab.globo.com":"prod.be"===this.env?"http://be.globo-ab.globoi.com":"qa.be"===this.env?"http://be.globo-ab.qa.globoi.com":"https://globo-ab.qa.globoi.com"}},{key:"_getMabServer",value:function(e){return"local"===this.env?"http://localhost:8888":"prod"===this.env?"https://globo-mab.globo.com":"prod.be"===this.env?"http://be.globo-mab.globoi.com":"qa.be"===this.env?"http://be.globo-mab.qa.globoi.com":"https://globo-mab.qa.globoi.com"}}]),s);function s(e,t){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.env=this._getEnv(e),this._options=new r,this.abMain=new i(this._getServer(this.env),this._options)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},function(n,e,t){!function(e){var t=(function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(i,null,[{key:"getPluginParams",value:function(){var e,t,n={},o=["ab-client-context","ab-client-experiment","ab-client-alternative"],r=i.getDocumentLocationSearch().substr(1).split("&");for(e in r)r.hasOwnProperty(e)&&(t=r[e].split("="),-1<o.indexOf(t[0])&&(n[t[0]]=t[1]));return n}},{key:"getDocumentLocationSearch",value:function(){return document.location.search}},{key:"isCompatibleWithPlugin",value:function(){return void 0!==e.window}},{key:"interceptParams",value:function(e,t){try{if(i.isCompatibleWithPlugin()&&e){var n,o=void 0,r=void 0;if(-1<e.indexOf("/location/")?o=(n=e.split("/"))[n.length-1]:-1<e.indexOf("selected-alternatives")&&(r=t.experiments||t.experiment),r||o)return Object.assign({},t,this.getExperimentSettings(o,r))}}catch(e){console.error(e)}return t}},{key:"getExperimentSettings",value:function(e,t){var n=this.getPluginParams();if(e&&n["ab-client-context"]===e&&n["ab-client-experiment"]){e={experiment:n["ab-client-experiment"],alternative:n["ab-client-alternative"]};return e.alternative||delete e.alternative,e}return t&&t.includes(n["ab-client-experiment"])&&n["ab-client-alternative"]?{alternative:n["ab-client-alternative"]}:{}}}]),i);function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.exports=t}.call(e,t(2))},function(e,t,n){var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e},r=n(1),o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,n(3)),o(i,[{key:"selectedDrawedExperiment",value:function(e,t,n,o){this.request.do("GET","/ab/location/"+e,t.getLocationParams(),null,n,o)}}]),i);function i(e){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.abHost=e,t.request=new r(t.abHost),t}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e},i=n(4),o=(o(r,null,[{key:"parseRequest",value:function(e,t,n){var o=JSON.parse(e),r=Object.keys(o)[0],e=o[r],o=e.alternative,e=e.testId;return new i({experiment:r,alternative:o,testId:e},t,n)}}]),r);function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e},r=n(1),o=(o(i,[{key:"getSelectedArm",value:function(e,t,n,o){var r="",i="GET";t.isSkippedImpression()?r="/mab/"+e+"/choose":(r="/mab/"+e+"/chooseAndIncrement",i="POST"),this.request.do(i,r,null,null,n,o,t.getHeaders(),t.getTimeout())}},{key:"recordMABMetric",value:function(e,t,n){var o="/mab/"+t.experiment+"/"+e,e=t.arms||[],e={arm:t.arm,testId:t.testId,abAlternative:t.abAlternative,arms:e};this.request.do("POST",o,{},e,null,null,n.getHeaders(),n.getTimeout())}}]),i);function i(e){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.abHost=e,this.request=new r(this.abHost)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=o},function(e,t,n){var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=n(0),o=(o(s,[{key:"increment",value:function(){var e=this.arms;0===e.length&&(e=[{slot:0,name:this.arm}]),this._sendMetric("increment",e)}},{key:"reward",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=[{slot:e,name:""===t?this.arm:t}];this._sendMetric("reward",t)}},{key:"_sendMetric",value:function(e,t){t={experiment:this.experiment,arm:this.arm,testId:this.testId,abAlternative:this.abAlternative,arms:t};this._recordMetric(e,t)}},{key:"_recordMetric",value:function(e,t){this.context.mabEndpoint.recordMABMetric(e,t,this.options)}}],[{key:"parseRequest",value:function(e,t,n,o){e=JSON.parse(e);return e.experiment=t,new s(e,n,o)}}]),s);function s(e,t){var n=e.experiment,o=e.arm,r=e.testId,i=e.abAlternative,a=e.arms,e=void 0===a?[]:a,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new u;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,s),this.experiment=n,this.arm=o,this.testId=r,this.abAlternative=i,this.arms=e,this.context=t,this.options=a}e.exports=o},function(r,e,t){!function(n){var e=(function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(t,[{key:"send",value:function(e,t){n.navigator.sendBeacon(this.abHost+e,JSON.stringify(t))}}]),t);function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.abHost=e}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}r.exports=e}.call(e,t(2))},function(a,e,u){!function(e){var t=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},n=u(14),o=u(1),t=(t(r,[{key:"oneWay",value:function(e,t,n,o){this.isBrowserSupportSendBeacon()&&!this.hasHeaders(n)?this.sendBeaconOneWay.send(e,t):this.xmlHttp.oneWaySend(e,t,n,o)}},{key:"isBrowserSupportSendBeacon",value:function(){return!(void 0===e.navigator||!e.navigator.sendBeacon)}},{key:"hasHeaders",value:function(e){return void 0!==e&&0<e.length}}]),r);function r(e){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.host=e,this.sendBeaconOneWay=new n(this.host),this.xmlHttp=new o(this.host)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}a.exports=t}.call(e,u(2))}],r={},o.m=n,o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=8);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r};"object"===u(n)&&"object"===u(e)?e.exports=t():void 0===(t="function"==typeof(t=t)?t.apply(n,[]):t)||(e.exports=t)}.call(this,t(24)(e))},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){n(12),n(26),n(28),n(30),n(34),n(35),n(39)},function(e,t,n){var o=n(13),r=n(14),i=n(15),n=n(6),n=n&&n.__esModule?n:{default:n};window.dmp=window.dmp||{},window.dmp.Toolbox=o.Toolbox,window.dmp.listeners=new r.Listeners,window.dmp.api=i.api,n.default.runAPIAnalysis()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this)}t.Toolbox=(n(i,[{key:"getScript",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement("script"),t=document.getElementsByTagName("script")[0];r.async=!0,r.onload=r.onreadystatechange=function(e,t){!t&&r.readyState&&!/loaded|complete/.test(r.readyState)||(r.onload=r.onreadystatechange=null,r=void 0,t||n&&n(o))},r.src=e,t.parentNode.insertBefore(r,t)}},{key:"encodeUrl",value:function(e){var t,n=[];for(t in e)n.push(t+"="+e[t]);return n.join("&")}},{key:"sendPixel",value:function(e){new Image(1,1).src=e}},{key:"getAge",value:function(e){if(void 0===e)return"";var t=e.split(" ").join("");if(""===t)return t;e=new Date(e);return(new Date).getFullYear()-e.getFullYear()}},{key:"getGloboId",value:function(){if(window.Cadun&&window.Cadun.user&&window.Cadun.user.me&&window.Cadun.user.me.globoId)return window.Cadun.user.me.globoId;var e=window.localStorage.getItem("glbdt_globoid");if(e&&e.match(r))return e;e=JSON.parse(window.localStorage.getItem("cdUserCodeGlb"));return e&&"cadun"===e.provider&&e.suser_code?e.suser_code:null}},{key:"runIfCadun",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};e&&"cadun"===window.Cadun.user.me.provider&&e()}}]),i)},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(){!function(e){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this._initNavegg(),this._initKrux(),this._initGloboId()}t.Listeners=(n(r,[{key:"_initNavegg",value:function(){window.naveggReady=window.naveggReady||[]}},{key:"_initKrux",value:function(){this._kruxQueue=[],this._kruxLoaded=!1}},{key:"_initGloboId",value:function(){window.cq=window.cq||[]}}]),n(r,[{key:"kruxLoaded",value:function(){this._kruxQueue.forEach(function(e){e()}),this._kruxLoaded=!0}},{key:"addNavegg",value:function(e){this._initNavegg(),window.naveggReady.push(e)}},{key:"addKrux",value:function(e){this._kruxLoaded?e():this._kruxQueue.push(e)}},{key:"addGloboId",value:function(t){this._initGloboId(),window.cq.push({ready:function(e){e.Event.subscribe("userInfoAvailable",t)}})}}]),r)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0;var o=n(16),r=n(17),i=n(1),a=t.api={_version:function(){return i.settings.version()===i.settings.constants.V2?r.v2:o.v1},getSegments:function(){return a._version().getSegments()},getDmpId:function(){return a._version().getDmpId()}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.v1=void 0;var o=n(0),r=o&&o.__esModule?o:{default:o},i=/(qou66o7zu|qou60g64u)/,n=/(qou70fnkq|qou88ccx0|qou9o7c84|qou93ocxx|qovamsdij)/,o=/(qova7gr2x|qovbar2im|qovbtu8y4)/,c=t.v1={CURRENT_HREF:window.location.href,CK_INFERENCE_WHITELIST:["g1.globo.com","globoesporte.globo.com","gshow.globo.com"],KRUX_SEGMENTS_KEY:"kxglobo_allsegs",KRUX_SEGMENTS_COOKIE:"kxglobo_segs",KRUX_ID_KEY:"kxglobo_user",PLANETEERS_SEGMENTS_KEY:"planeteers_segments",SEGMENT_RULES:{qou66o7zu:i,qou60g64u:i,qou70fnkq:n,qou88ccx0:n,qou9o7c84:n,qou93ocxx:n,qovamsdij:n,qova7gr2x:o,qovbar2im:o,qovbtu8y4:o},NAVEGG_SEGMENTS:{gender:{1:"qou66o7zu",2:"qou60g64u"},age:{1:"qou70fnkq",2:"qou88ccx0",3:"qou9o7c84",4:"qou93ocxx",5:"qovamsdij"},income:{1:"qova7gr2x",2:"qovbar2im",3:"qovbtu8y4"}},CONTENT_SEGMENTS:{threshold:.5},_shouldUseContentSegments:function(){var e=!1,t=!0,n=!1,o=void 0;try{for(var r,i=c.CK_INFERENCE_WHITELIST[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value,u=!!window.utag_data&&"multi-content"===window.utag_data.tipo_pagina;if(-1!==c.CURRENT_HREF.indexOf(a)&&u){e=!0;break}}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}return e},_getFromCookies:function(e){if(window.navigator.cookieEnabled){e=document.cookie.match(e+"=([^;]*)");if(e&&1<e[1].length)return unescape(e[1])}return""},_fallback:function(){var e=[];if(window.nvg13574){var t=Object.keys(c.NAVEGG_SEGMENTS),n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var s=a.value,l=c.NAVEGG_SEGMENTS[s][window.nvg13574.getSegment(s)];l&&1<=l.length&&n.push(l)}}catch(e){r=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}e=e.concat(n)}return e=0==e.length&&c._shouldUseContentSegments()?c._getContentSegments():e},_processSegments:function(e,t){var n=e,o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var s=a.value,l=c.SEGMENT_RULES[s];(l?n.match(l):-1!==n.indexOf(s))||(n+=1<n.length?","+s:""+s)}}catch(e){r=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}return n},_hasOnlyInvalidSegments:function(e){if("string"==typeof e)return""===e||e===r.default.PLANETEERS_EXECUTION_SEGMENT;var t=e&&(0===e.length||1===e.length&&e[0]===r.default.PLANETEERS_EXECUTION_SEGMENT);return null===e||t},_getKruxSegments:function(){return window.localStorage.getItem(c.KRUX_SEGMENTS_KEY)||""},_getPlaneteersSegments:function(){var e=window.localStorage.getItem(c.PLANETEERS_SEGMENTS_KEY),e=e?e.split(","):[];return c._hasOnlyInvalidSegments(e)?(window.dispatchEvent(new Event(r.default.EVENT_USED_FALLBACK)),c._fallback().concat(e)):e},_getContentSegments:function(){var e=[],t=window.ck&&null!=window.ck.g&&null!=window.ck.g&&0<=window.ck.g?window.ck.g:-1;return t>=c.CONTENT_SEGMENTS.threshold?e.push(c.NAVEGG_SEGMENTS.gender[1]):0<=t&&e.push(c.NAVEGG_SEGMENTS.gender[2]),0==e.length&&window.dispatchEvent(new Event(r.default.EVENT_CONTENT_SEGMENTS_MISSES)),window.dispatchEvent(new Event(r.default.EVENT_CONTENT_SEGMENTS)),e},getSegments:function(){if(!window.localStorage)return c._getFromCookies(c.KRUX_SEGMENTS_COOKIE);var e=c._processSegments(c._getKruxSegments(),c._getPlaneteersSegments());return c._hasOnlyInvalidSegments(e)&&window.dispatchEvent(new Event(r.default.EVENT_GETSEGMENTS_MISSES)),window.dispatchEvent(new Event(r.default.EVENT_GETSEGMENTS)),e},getDmpId:function(){if(window.Krux&&window.Krux.user&&0<window.Krux.user.length)return window.Krux.user;if(!window.localStorage)return c._getFromCookies(c.KRUX_ID_KEY);var e=window.localStorage.getItem(c.KRUX_ID_KEY);if(e&&0<e.length)return e;e=c._getFromCookies(c.KRUX_ID_KEY,!0);return e&&0<e.length?e:""}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.v2=void 0;var l=n(18),o=n(19),c=n(5),n=n(0),f=n&&n.__esModule?n:{default:n},d=t.v2={_notifyMissSource:function(e,t){o._notifier._falsy(e.length,t)},_notifyIdleSource:function(e,t,n){0<e.length&&o._notifier._falsy(t.length,n)},getSegments:function(){var e=l._api.getDMPSegments();d._notifyMissSource(e,f.default.EVENTS.DMP_SEGMENTS_MISS);var t=[{segments:l._api.getPlaneteersSegments(),miss:f.default.EVENTS.PLNT_SEGMENTS_MISS,idle:f.default.EVENTS.PLNT_SEGMENTS_IDLE,marker:f.default.SEGMENT_SOURCES_MARKERS.PLNT},{segments:c._fallback.getNaveggSegments(),miss:f.default.EVENTS.NVG_SEGMENTS_MISS,idle:f.default.EVENTS.NVG_SEGMENTS_IDLE,marker:f.default.SEGMENT_SOURCES_MARKERS.NVG},{segments:c._fallback.getCKSegments(),miss:f.default.EVENTS.CK_SEGMENTS_MISS,idle:f.default.EVENTS.CK_SEGMENTS_IDLE,marker:f.default.SEGMENT_SOURCES_MARKERS.CK}],n=!0,o=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;d._notifyMissSource(u.segments,u.miss);var s=l._api._filterApplicable(e,u.segments);d._notifyIdleSource(u.segments,s,u.idle),e=l._api._applySegments(e,s,u.marker)}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return d._notifyMissSource(e,f.default.EVENTS.GET_SEGMENTS_MISS),l._api._markPlaneteersExecution(e)},getDmpId:function(){var e=l._api.getDMPId();return o._notifier._falsy(e,f.default.EVENTS.DMP_ID_MISS),e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t._api=void 0;var o=n(0),r=o&&o.__esModule?o:{default:o},i=/(qou66o7zu|qou60g64u)/,n=/(qou70fnkq|qou88ccx0|qou9o7c84|qou93ocxx|qovamsdij)/,o=/(qova7gr2x|qovbar2im|qovbtu8y4)/,a=t._api={SEGMENT_RULES:{qou66o7zu:i,qou60g64u:i,qou70fnkq:n,qou88ccx0:n,qou9o7c84:n,qou93ocxx:n,qovamsdij:n,qova7gr2x:o,qovbar2im:o,qovbtu8y4:o},_isLocalStorageAvailable:function(){return!!window.localStorage},_isDMPUserObjectAvailable:function(){return!!window.Krux&&!!window.Krux.user&&0<window.Krux.user.length},_filterApplicable:function(n,e){return e.filter(function(e){var t=a.SEGMENT_RULES[e];return t?!n.match(t):-1===n.indexOf(e)})},_applySegments:function(e,t,n){var o=e;t.length&&t.push(n);var r=!0,i=!1,n=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;o+=1<o.length?","+s:""+s}}catch(e){i=!0,n=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw n}}return o},_markPlaneteersExecution:function(e){return"success"===a._loadFromLocalStorage(r.default.PLANETEERS_EXECUTION_STATUS)?e&&0<e.length?e+","+r.default.SEGMENT_SOURCES_MARKERS.PLNT_EXECUTION:r.default.SEGMENT_SOURCES_MARKERS.PLNT_EXECUTION:e},_loadFromLocalStorage:function(e){return a._isLocalStorageAvailable()&&window.localStorage.getItem(e)||""},_loadFromCookies:function(e){if(window.navigator.cookieEnabled){e=document.cookie.match(e+"=([^;]*)");if(e&&1<e[1].length)return unescape(e[1])}return""},_getIdFromCookies:function(){return a._loadFromCookies(r.default.KRUX_ID_KEY)},_getIdFromLocalStorage:function(){return a._loadFromLocalStorage(r.default.KRUX_ID_KEY)},_getIdFromDMPObject:function(){return a._isDMPUserObjectAvailable()?window.Krux.user:""},_getSegmentsFromDMPCookie:function(){return a._loadFromCookies(r.default.KRUX_SEGMENTS_COOKIE)},_getSegmentsFromDMPLocalStorage:function(){return a._loadFromLocalStorage(r.default.KRUX_SEGMENTS_KEY)},getDMPId:function(){return a._getIdFromDMPObject()||a._getIdFromLocalStorage()||a._getIdFromCookies()},getDMPSegments:function(){return a._getSegmentsFromDMPLocalStorage()||a._getSegmentsFromDMPCookie()},getPlaneteersSegments:function(){var e=a._loadFromLocalStorage(r.default.PLANETEERS_SEGMENTS_KEY),t=e?e.split(","):[],e=t.indexOf("plntalfa");return-1<e&&t.splice(e,1),t},getNaveggSegments:function(){var e=a._loadFromLocalStorage(r.default.PLANETEERS_FALLBACK_NVG_SEGMENTS_KEY);return e?e.split(","):[]},getCKSegments:function(){var e=a._loadFromLocalStorage(r.default.PLANETEERS_FALLBACK_CK_SEGMENTS_KEY);return e?e.split(","):[]}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=t._notifier={constants:{TRIGGED_SUFFIX:"_TRIGGERED"},_notify:function(e){window.dispatchEvent(new Event(e))},_truthy:function(e,t){n._notify(t),e&&n._notify(t+n.constants.TRIGGED_SUFFIX)},_falsy:function(e,t){n._notify(t),e||n._notify(t+n.constants.TRIGGED_SUFFIX)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.coverage=void 0;var o=a(n(0)),r=n(2),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.coverage={EXPERIMENT:{name:"profiling-planeteers-coverage-"+(0,r.getTenant)()+"-"+o.default.ANALYSIS_INDEX,control:"control",alternative:"planeteers-coverage",planeteers:"planeteers-coverage",krux:"planeteers-krux-coverage"},hasSegments:function(e){e=window.localStorage.getItem(e);return!!(e&&2<e.length&&1<e.split(",").length)},listeners:function(n){window.addEventListener(o.default.EVENT_GETSEGMENTS,function e(){var t=(0,i.default)();n.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.planeteers,testId:t}),u.hasSegments(o.default.PLANETEERS_SEGMENTS_KEY)&&n.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.planeteers,testId:t});t=(0,i.default)();n.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.krux,testId:t}),u.hasSegments(o.default.PLANETEERS_KRUX_SEGMENTS_KEY)&&n.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.krux,testId:t}),window.removeEventListener(o.default.EVENT_GETSEGMENTS,e)})}}},function(e,t){var n,o,r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);r?(n=new Uint8Array(16),e.exports=function(){return r(n),n}):(o=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o})},function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,t=o;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[+n]]].join("")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.execution=void 0;var o=a(n(0)),r=n(2),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var u=t.execution={EXPERIMENT:{name:"profiling-planeteers-execution-"+(0,r.getTenant)()+"-"+o.default.ANALYSIS_INDEX,control:"control",alternative:"executed"},haveExecuted:function(){var e=window.localStorage.getItem(o.default.PLANETEERS_EXECUTION_STATUS);if(e&&"success"===e){var t=window.localStorage.getItem(o.default.PLANETEERS_EXECUTION);if(t&&2<t.length){e=new Date,t=new Date(t);if(t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getYear()===e.getYear())return!0}}return!1},listeners:function(n){window.addEventListener(o.default.EVENT_GETSEGMENTS,function e(){var t=(0,i.default)();n.impression({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.alternative,testId:t}),u.haveExecuted()&&n.conversion({experiment:u.EXPERIMENT.name,alternative:u.EXPERIMENT.alternative,testId:t}),window.removeEventListener(o.default.EVENT_GETSEGMENTS,e)})}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e},r=a(n(8)),u=a(n(3));function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,r.default.Analysis),o(s,[{key:"setupListeners",value:function(n){var o=this,e=!0,t=!1,r=void 0;try{for(var i,a=this.events[Symbol.iterator]();!(e=(i=a.next()).done);e=!0)!function(e){var t=(0,u.default)();window.addEventListener(e.impression,function(){n.impression({experiment:o.experiment,alternative:e.alternative,testId:t})}),window.addEventListener(e.conversion,function(){n.conversion({experiment:o.experiment,alternative:e.alternative,testId:t})})}(i.value)}catch(n){t=!0,r=n}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}}}]),o=s;function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}t.default={MultiAnalysis:o,newAnalysisEvent:function(e,t){return{alternative:e,impression:t,conversion:t+"_TRIGGERED"}}}},function(e,t,n){n(27).downloader.run()},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=t.downloader={NOT_ALLOWED_HOSTS:["quicksilver","zapimoveis","globoplay","www.globo.com","gcomevahml-grupoglobo.cs21.force.com","localhost","/politica/eleicoes/2018/"],toolbox:new window.dmp.Toolbox,getSrcUrl:function(e){return-1!==e.indexOf(".globoi")?"//s.glbimg.qa.globoi.com/pc/ca/cadun.js":"//s.glbimg.com/pc/ca/cadun.js"},getLocationHref:function(){return window.location.href},shouldGetCadunJs:function(){if(window.Cadun)return!1;var e=!0,t=!1,n=void 0;try{for(var o,r=a.NOT_ALLOWED_HOSTS[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value;if(-1!==a.getLocationHref().indexOf(i))return!1}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}return!0},run:function(){var e;a.shouldGetCadunJs()&&(e=a.getSrcUrl(a.getLocationHref()),a.toolbox.getScript(e,function(){window.dispatchEvent(new Event("CADUN_LOADED"))}))}}},function(e,t,n){var o=n(29);window.dmp.listeners.addGloboId(function(){o.globoIdIntegration.storeCadunInfo()})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u=t.globoIdIntegration={LOCALSTORAGE_NOT_SUPPORTED_MESSAGE:"Cadun|Krux Integration: localStorage not supported.",GENDER_DICT:{M:"Male",F:"Female"},LOGGED_IN_PROVIDER:"cadun",toolbox:function(){return new window.dmp.Toolbox},_getGender:function(e){return e?u.GENDER_DICT[e.toUpperCase()]:""},_exportData:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=Object.keys(e)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;window.localStorage.setItem(a,e[a])}}catch(e){n=!0,o=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw o}}u._setKruxData()},_setKruxData:function(){var e=n({},JSON.parse(localStorage.getItem("krux_utag")||"{}"),window.utag_data);localStorage.setItem("krux_utag",JSON.stringify(e))},_setGdmpData:function(){var e=void 0!==window.Cadun.user.me.address,e={glbdt_globoid:window.Cadun.user.me.provider!==u.LOGGED_IN_PROVIDER?window.Cadun.user.me.id:window.Cadun.user.me.globoId,gdmp_utype:window.Cadun.user.me.provider,gdmp_gender:u._getGender(window.Cadun.user.me.gender),gdmp_age:u.toolbox().getAge(window.Cadun.user.me.dateOfBirth),gdmp_id_legacy:window.Cadun.user.me.id,gdmp_city:e?window.Cadun.user.me.address.city:"",gdmp_state:e?window.Cadun.user.me.address.state:""};return"cadun"!=e.gdmp_utype&&(e.cadun_id=e.gdmp_id_legacy),e},storeCadunInfo:function(){var e={};try{e=u._setGdmpData()}catch(e){console.log(e)}finally{window.utag_data=n({},window.utag_data,e),"undefined"!=typeof Storage?u._exportData(e):console.log(u.LOCALSTORAGE_NOT_SUPPORTED_MESSAGE)}}}},function(e,t,n){n(31).segmentize.run()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.segmentize=void 0;var o=n(32),r=n(33),i=n(2),a=n(5),u=n(1),s=f(n(6)),l=f(n(0)),c=n(7);function f(e){return e&&e.__esModule?e:{default:e}}var d=t.segmentize={PLANETEERS_KRUX_API_ENDPOINT:"https://cdn.krxd.net/userdata/v2/segments/5007d44e-09d1-49b7-8c99-6b1cc38c3cbc",PLANETEERS_API_ENDPOINT:-1!==window.location.hostname.indexOf(".globoi")?"//planeteers.qa.globoi.com":"//planeteers.globo.com",PLANETEERS_EXECUTION_KEY:"planeteers_execution",PLANETEERS_EXECUTION_STATUS_KEY:"planeteers_execution_status",PLANETEERS_CACHE_KEY:"planeteers_cache",PLANETEERS_CACHE_TTL:144e5,req:o.req,ROLLOUT_CONFIGS:{name:"profiling-planeteers-rollout-"+(0,i.getTenant)()+"-0",skipped:"control"},toolbox:new window.dmp.Toolbox,getSegments:function(t){function e(e){e="Request failure - "+JSON.stringify(e),window.localStorage.setItem(d.PLANETEERS_EXECUTION_STATUS_KEY,e)}var n=d.PLANETEERS_API_ENDPOINT+"/segments";return d.req.get(n,{},{200:function(e){t(JSON.parse(e.text).segments),window.localStorage.setItem(d.PLANETEERS_EXECUTION_STATUS_KEY,"success"),d.setCache()},500:e,404:e,400:e},e)},getKruxSegments:function(t){var e=d.PLANETEERS_KRUX_API_ENDPOINT;return d.req.jsonp(e,"krux_",function(e){t(e.body.segments)},function(e){console.error("Request failure for KRUX - "+JSON.stringify(e))})},save:function(e,t){t&&0<t.length&&window.localStorage.setItem(e,t)},setCache:function(){var e=(new Date).getTime();window.localStorage.setItem(d.PLANETEERS_CACHE_KEY,e+d.PLANETEERS_CACHE_TTL)},shouldUpdateCache:function(){return c.utils._random()<=u.settings.cacheUpdateRollout()},cacheExpired:function(){var e=window.localStorage.getItem(d.PLANETEERS_CACHE_KEY);return!e||parseInt(e)<=(new Date).getTime()&&d.shouldUpdateCache()},mark:function(){window.localStorage.setItem(d.PLANETEERS_EXECUTION_KEY,(new Date).toISOString())},execute:function(){d.mark(),d.save(l.default.PLANETEERS_FALLBACK_NVG_SEGMENTS_KEY,a._fallback.getNaveggSegments()),d.save(l.default.PLANETEERS_FALLBACK_CK_SEGMENTS_KEY,a._fallback.getCKSegments()),d.cacheExpired()&&d.getSegments(function(e){d.save(l.default.PLANETEERS_SEGMENTS_KEY,e)}),d.getKruxSegments(function(e){d.save(l.default.PLANETEERS_KRUX_SEGMENTS_KEY,e)}),s.default.runAnalysis()},run:function(){u.settings.isOn("rollout")&&r.rollout.execute(d.ROLLOUT_CONFIGS,d.execute)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var E=t.req={STATUS_CODE:{success:200,notFound:404,internalServerError:500},MESSAGE:{noCallbackError:"Request callback not set.",noPostDataError:"POST Request data not set."},jsonp:function(t,e,n,o){var r=e+"jsonp_callback_"+Math.round(1e5*Math.random());window[r]=function(e){delete window[r],document.body.removeChild(i),n(e)},o=o||function(e){throw new Error(e+" - url: "+t)};var i=document.createElement("script");i.onerror=function(e){i.onerror=null,o(e)},i.src=t+(0<=t.indexOf("?")?"&":"?")+"callback="+r,document.body.appendChild(i)},get:function(e,t,n,o){n?E._request(e,"GET",t,n,o):console.error(E.MESSAGE.noCallbackError)},post:function(e,t,n,o,r){o?n?E._request(e,"POST",t,o,r,n):console.error(E.MESSAGE.noPostDataError):console.error(E.MESSAGE.noCallbackError)},_request:function(t,e,n,u,o){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,s=new XMLHttpRequest;s.open(e,t),s.timeout=1e3;var i=s.withCredentials=!0,a=!1,l=void 0;try{for(var c,f=Object.keys(n)[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var d=c.value;s.setRequestHeader(d,n[d])}}catch(t){a=!0,l=t}finally{try{!i&&f.return&&f.return()}finally{if(a)throw l}}s.onreadystatechange=function(){if(s&&s.readyState===s.DONE){var e=!0,t=!1,n=void 0;try{for(var o,r=Object.keys(E.STATUS_CODE)[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var i=o.value,a=E.STATUS_CODE[i];u[a]&&s.status==a&&u[a]({text:s.responseText,statusCode:s.status,responseHeaders:s.responseHeaders})}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}s=null}},o=o||function(e){throw new Error(e+" - url: "+t)};l=function(e){return function(){o(e),s=null}};s.onabort=l("Request aborted."),s.ontimeout=l("Request timed out after "+s.timeout+"ms."),s.onerror=l("Network error."),s.send(r)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rollout=t.DEFAULT_ERROR_CALLBACK=void 0;var o=n(1),r=n(4),n=n(9),i=n&&n.__esModule?n:{default:n},a=t.DEFAULT_ERROR_CALLBACK=function(e){console.error(e)},u=t.rollout={createABClient:function(){var e=new r.HorizonClient,t=-1!==window.location.href.indexOf(".globoi")?"qa":"prod";return new i.default(t,e)},skip:function(e,t,n){e!==t&&n()},_executeAB:function(t,n,o){var e=u.createABClient(),r=e.createOptions().skipImpression(),r=e.choose(t.name,r);return r.then(function(e){u.skip(e.alternative,t.skipped,n)}),r.catch(function(e){return o(e),t.skipped}),r},execute:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a;if(o.settings.isOn("ab"))return u._executeAB(e,t,n);t()}}},function(e,t){function n(e){var t,e="kxglobo_"+e;return window.localStorage?window.localStorage[e]||"":navigator.cookieEnabled&&(t=document.cookie.match(e+"=([^;]*)"))&&unescape(t[1])||""}window.Krux||((window.Krux=function(){Krux.q.push(arguments)}).q=[]),window.Krux.user=n("user"),window.Krux.segments=n("segs")&&n("segs").split(",")||[],window.dmp.listeners.kruxLoaded()},function(e,t,n){var n=n(36),o=n&&n.__esModule?n:{default:n};window.dmp.listeners.addGloboId(function(){(0,o.default)()})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function o(e){var t=new window.dmp.Toolbox,e=r({},{prtid:13574},e),e="//cd.navdmp.com/cd?"+t.encodeUrl(e);t.sendPixel(e)}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n=n(37),i=n&&n.__esModule?n:{default:n};t.default=function(){var e=1===parseInt(window.localStorage.getItem("naveggOnboarded")),t=1===parseInt(window.localStorage.getItem("naveggAnonOnboarded")),n="cadun"!==Cadun.user.me.provider;n&&!t?(o({prtusridr:(0,i.default)(Cadun.user.me.id)}),window.localStorage.setItem("naveggAnonOnboarded",1)):n||e||(o({prtusridf:(0,i.default)(Cadun.user.me.globoId)}),window.localStorage.setItem("naveggOnboarded",1))}},function(e,t,n){var _=n(38),h=n(10).utf8,o=n(10).bin;(n=function(e,t){e=_.wordsToBytes(function(e){e.constructor==String?e=h.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=_.bytesToWords(e),e=8*e.length,n=[],o=1732584193,r=-271733879,i=-1732584194,a=271733878,u=-1009589776;t[e>>5]|=128<<24-e%32,t[15+(64+e>>>9<<4)]=e;for(var s=0;s<t.length;s+=16){for(var l=o,c=r,f=i,d=a,E=u,v=0;v<80;v++){v<16?n[v]=t[s+v]:(p=n[v-3]^n[v-8]^n[v-14]^n[v-16],n[v]=p<<1|p>>>31);var p=(o<<5|o>>>27)+u+(n[v]>>>0)+(v<20?1518500249+(r&i|~r&a):v<40?1859775393+(r^i^a):v<60?(r&i|r&a|i&a)-1894007588:(r^i^a)-899497514),u=a,a=i,i=r<<30|r>>>2,r=o,o=p}o+=l,r+=c,i+=f,a+=d,u+=E}return[o,r,i,a,u]}(e));return t&&t.asBytes?e:t&&t.asString?o.bytesToString(e):_.bytesToHex(e)})._blocksize=16,n._digestsize=20,e.exports=n},function(e,t){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],r=0;r<4;r++)8*n+6*r<=8*e.length?t.push(i.charAt(o>>>6*(3-r)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&t.push((i.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|i.indexOf(e.charAt(n))>>>6-2*o);return t}};e.exports=n},function(e,t,n){var o,r=a(n(40)),i=a(n(41)),n=n(4);function a(e){return e&&e.__esModule?e:{default:e}}-1===window.location.hostname.indexOf("localhost")&&(o=new n.HorizonClient,(0,r.default)(function(){return(0,i.default)(o)}),window.addEventListener("beforeunload",function(){o.unload()}))},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.dmp.listeners.addGloboId(function(){window.dmp.listeners.addKrux(function(){window.dmp.listeners.addNavegg(function(){e()})})})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(n(42)),r=u(n(43)),i=u(n(44)),a=n(4);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){(0,i.default)()&&(-1!==window.location.hostname.indexOf(".globoi")&&a.Settings.useQAConfiguration(),e.send({id:"pes-sync-id",contentType:"pes",version:"1.0",properties:(0,o.default)()}),(0,r.default)())}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={};return e.naveggId=window.nvg13574&&window.nvg13574.userId?window.nvg13574.userId:"",e.kruxId=window.Krux&&window.Krux.user?window.Krux.user:"",e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){window.localStorage.setItem("sync_ids_persistence",JSON.stringify({sent:"ok",expireIn:(new Date).getTime()+864e5}))}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(new Date).getTime(),t=window.localStorage.getItem("sync_ids_persistence");if(null===t)return!0;t=JSON.parse(t);return console.log(t,e),t.expireIn<e}}]);

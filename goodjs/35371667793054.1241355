webpackJsonp([0],{t3u7:function(t,e){},"v+xA":function(t,e){},"vT+3":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("woOf"),a=i.n(s),r=i("//Fk"),c=i.n(r),o=i("LTzH"),p=i("VqY/"),l=function(t,s,a){return s=s&&parseInt(s),new c.a(function(i,e){o.a.get(p.a.API_PREVIEW_URL+"ad/template/"+t+"?positionId="+s+"&queryWord="+a).then(function(t){var e=t.data.data;e&&(e.templateContent=JSON.parse(e.templateContent),i(t.data))}).catch(function(t){e(t)})})},s={name:"preview",data:function(){return{reportClick:"",preview:{},imgWidth:95,imgHeight:71,contentMarginLeft:106,clientObj:{},clients:[{id:"1",name:"鍗庝负浜�"},{id:"2",name:"骞垮憡"}],isAdClosed:!1,type:"",fType:""}},created:function(){var t,e,i,s=this;this.$route.params.id?(t=this.$route.query.positionId||"",e=this.$route.query.queryWord||"",i=this.$route.query.spm||"",this.getTemplatequery(this.$route.params.id,t,e,i)):(this.preview=a()({},this.templateData),this.type=this.templateType,this.fType=this.feedType,this.getImgArr()),this.clients.map(function(t){s.clientObj[t.id]=t.name})},filters:{filterClient:function(t,e){return e[t]||"骞垮憡"}},watch:{feedType:function(t,e){this.fType=t},templateType:function(t,e){this.type=t},templateData:function(t,e){this.preview=a()({},t),this.getImgArr()}},props:{templateData:Object,templateType:String,feedType:String},methods:{getImgArr:function(){var t;!this.preview.imgUrl||"3"!==this.fType&&"3"!==this.type||(t=this.preview.imgUrl.split(","),this.preview.imgUrl=t)},getTemplatequery:function(t,e,i,s){var a=this;l(t,e,i).then(function(t){200!==t.status||(t=t.data)&&(a.preview=t.templateContent,a.type=t.templateType,a.fType=a.preview.feedType,a.getImgArr(),a.reportClick=""!=s?'{"mod":"kp_popu_'+e+"-"+t.adContentId+'","keyword":"'+i+'","spm":"'+s+'"}':'{"mod":"kp_popu_'+e+"-"+t.adContentId+'","keyword":"'+i+'"}')}).catch(function(t){})},jumpToPreview:function(t){window.open(""+t)},closeAd:function(){this.isAdClosed=!0}}},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-wrapper"},[e.isAdClosed?i("div",{staticClass:"close-ad-wrapper"},[i("p",[e._v("CSDN宸插叧闂骞垮憡")])]):e._e(),e._v(" "),"1"===e.type||"4"===e.type?i("div",{staticClass:"picture-ad"},[i("a",{attrs:{target:"_blank","data-report-click":e.reportClick},on:{click:function(t){return e.jumpToPreview(e.preview.clickUrl)}}},[i("img",{staticStyle:{width:"100%"},attrs:{src:e.preview.imgUrl,alt:""}})]),e._v(" "),void 0===e.preview.showAdStatus||e.preview.showAdStatus?i("div",{staticClass:"ad-icon"},[e._v(e._s(e._f("filterClient")(e.preview.client,e.clientObj)))]):e._e(),e._v(" "),void 0===e.preview.closeAdStatus||e.preview.closeAdStatus?i("div",{staticClass:"ad-icon close-ad",on:{click:function(t){return e.closeAd()}}},[e._v("鍏抽棴")]):e._e(),e._v(" "),i("img",{staticClass:"popuMonitor",attrs:{src:e.preview.popuMonitor}})]):e._e(),e._v(" "),"2"===e.type?i("div",{staticClass:"feed-template"},["1"===e.fType?i("div",{staticClass:"ad-box ad-imgtxt-box clearfix"},[i("a",{staticStyle:{display:"block",overflow:"hidden"},attrs:{href:e.preview.clickUrl,target:"_blank","data-report-click":e.reportClick}},[i("div",{staticClass:"img-box"},[i("img",{style:{width:e.imgWidth+"px",height:e.imgHeight+"px"},attrs:{src:e.preview.imgUrl,alt:""}})]),e._v(" "),i("div",{staticClass:"content-box",style:{marginLeft:e.contentMarginLeft+"px"}},[i("p",{staticClass:"tit"},[e._v(e._s(e.preview.title))]),e._v(" "),i("p",{staticClass:"intro"},[e._v(e._s(e.preview.abstract))])])]),e._v(" "),void 0===e.preview.showAdStatus||e.preview.showAdStatus?i("div",{staticClass:"ad-icon"},[e._v(e._s(e._f("filterClient")(e.preview.client,e.clientObj)))]):e._e(),e._v(" "),void 0===e.preview.closeAdStatus||e.preview.closeAdStatus?i("div",{staticClass:"ad-icon close-ad",on:{click:function(t){return e.closeAd()}}},[e._v("鍏抽棴")]):e._e(),e._v(" "),i("img",{staticClass:"popuMonitor",attrs:{src:e.preview.popuMonitor}})]):e._e(),e._v(" "),"2"===e.fType?i("div",{staticClass:"ad-box ad-txt-box"},[i("a",{attrs:{href:e.preview.clickUrl,target:"_blank","data-report-click":e.reportClick}},[i("p",{staticClass:"tit"},[e._v(e._s(e.preview.title))]),e._v(" "),i("p",{staticClass:"intro"},[e._v(e._s(e.preview.abstract))])]),e._v(" "),void 0===e.preview.showAdStatus||e.preview.showAdStatus?i("div",{staticClass:"ad-icon"},[e._v(e._s(e._f("filterClient")(e.preview.client,e.clientObj)))]):e._e(),e._v(" "),void 0===e.preview.closeAdStatus||e.preview.closeAdStatus?i("div",{staticClass:"ad-icon close-ad",on:{click:function(t){return e.closeAd()}}},[e._v("鍏抽棴")]):e._e(),e._v(" "),i("img",{staticClass:"popuMonitor",attrs:{src:e.preview.popuMonitor}})]):e._e(),e._v(" "),"3"===e.fType?i("div",{staticClass:"ad-box"},[i("div",{staticClass:"pic_container"},[i("div",{staticClass:"pic_title"},[e._v("\n          "+e._s(e.preview.title)+"\n        ")]),e._v(" "),i("a",{staticClass:"pic_row",attrs:{href:e.preview.clickUrl,target:"_blank","data-report-click":e.reportClick}},e._l(e.preview.imgUrl,function(t,e){return i("div",{key:e,staticClass:"pic_item"},[i("img",{attrs:{src:t}})])}),0),e._v(" "),void 0===e.preview.showAdStatus||e.preview.showAdStatus?i("div",{staticClass:"ad-icon"},[e._v(e._s(e._f("filterClient")(e.preview.client,e.clientObj)))]):e._e(),e._v(" "),void 0===e.preview.closeAdStatus||e.preview.closeAdStatus?i("div",{staticClass:"ad-icon close-ad",on:{click:function(t){return e.closeAd()}}},[e._v("鍏抽棴")]):e._e(),e._v(" "),i("img",{staticClass:"popuMonitor",attrs:{src:e.preview.popuMonitor}})])]):e._e(),e._v(" "),"4"===e.fType?i("div",{staticClass:"ad-box clearfix big_pic_container"},[i("a",{attrs:{href:e.preview.clickUrl,target:"_blank","data-report-click":e.reportClick}},[i("p",{staticClass:"pic_title"},[e._v(e._s(e.preview.title))]),e._v(" "),i("img",{attrs:{src:e.preview.imgUrl,alt:""}})]),e._v(" "),void 0===e.preview.showAdStatus||e.preview.showAdStatus?i("div",{staticClass:"ad-icon"},[e._v(e._s(e._f("filterClient")(e.preview.client,e.clientObj)))]):e._e(),e._v(" "),void 0===e.preview.closeAdStatus||e.preview.closeAdStatus?i("div",{staticClass:"ad-icon close-ad",on:{click:function(t){return e.closeAd()}}},[e._v("鍏抽棴")]):e._e(),e._v(" "),i("img",{staticClass:"popuMonitor",attrs:{src:e.preview.popuMonitor}})]):e._e()]):e._e(),e._v(" "),"3"===e.type?i("div",{staticClass:"ad-box"},[i("div",{staticClass:"pic_container"},[i("a",{staticClass:"pic_row",attrs:{href:e.preview.clickUrl,target:"_blank","data-report-click":e.reportClick}},e._l(e.preview.imgUrl,function(t,e){return i("div",{key:e,staticClass:"pic_item interactiveAd"},[i("img",{attrs:{src:t}})])}),0),e._v(" "),void 0===e.preview.showAdStatus||e.preview.showAdStatus?i("div",{staticClass:"ad-icon"},[e._v("骞垮憡")]):e._e(),e._v(" "),void 0===e.preview.closeAdStatus||e.preview.closeAdStatus?i("div",{staticClass:"ad-icon close-ad",on:{click:function(t){return e.closeAd()}}},[e._v("鍏抽棴")]):e._e(),e._v(" "),i("img",{staticClass:"popuMonitor",attrs:{src:e.preview.popuMonitor}})])]):e._e()])};r._withStripped=!0;r={render:r,staticRenderFns:[]},r=i("VU/8")(s,r,!1,function(t){i("v+xA"),i("t3u7")},"data-v-36749b0d",null);r.options.__file="src/pages/preview/Preview.vue",e.default=r.exports}});

(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{"+Aie":function(c,a,f){var d;!function(e,r){if(e){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},n={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},p={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},t=1;t<20;++t)u[111+t]="f"+t;for(t=0;t<=9;++t)u[t+96]=t.toString();i.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},i.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},i.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},i.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},i.prototype.stopCallback=function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&(!function e(t,n){return null!==t&&t!==r&&(t===n||e(t.parentNode,n))}(t,this.target)&&("composedPath"in e&&"function"==typeof e.composedPath&&((n=e.composedPath()[0])!==e.target&&(t=n)),"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable));var n},i.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},i.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},(i.init=function(){var e,t=i(r);for(e in t)"_"!==e.charAt(0)&&(i[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))})(),e.Mousetrap=i,c.exports&&(c.exports=i),void 0===(d=function(){return i}.call(a,f,a,c))||(c.exports=d)}function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function v(e){if("keypress"!=e.type)return u[e.which]||n[e.which]||String.fromCharCode(e.which).toLowerCase();var t=String.fromCharCode(e.which);return t=!e.shiftKey?t.toLowerCase():t}function b(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _(e,t){for(var n,r,o,i=[],c="+"===e?["+"]:e.replace(/\+{2}/g,"+plus").split("+"),a=0;a<c.length;++a)n=c[a],p[n]&&(n=p[n]),t&&"keypress"!=t&&l[n]&&(n=l[n],i.push("shift")),b(n)&&i.push(n);return{key:n,modifiers:i,action:(r=n,o=i,t=e="keypress"==(e=(e=t)||(function(){if(!s)for(var e in s={},u)95<e&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[r]?"keydown":"keypress"))&&o.length?"keydown":e)}}function i(e){var f=this;if(e=e||r,!(f instanceof i))return new i(e);f.target=e,f._callbacks={},f._directMap={};var a,d={},s=!1,u=!1,l=!1;function p(e){e=e||{};var t,n=!1;for(t in d)e[t]?n=!0:d[t]=0;n||(l=!1)}function h(e,t,n,r,o,i){var c,a=[],s=n.type;if(!f._callbacks[e])return[];for("keyup"==s&&b(e)&&(t=[e]),c=0;c<f._callbacks[e].length;++c){var u,l,p=f._callbacks[e][c];!r&&p.seq&&d[p.seq]!=p.level||s!=p.action||("keypress"!=s||n.metaKey||n.ctrlKey)&&(u=t,l=p.modifiers,u.sort().join(",")!==l.sort().join(","))||(u=!r&&p.combo==o,l=r&&p.seq==r&&p.level==i,(u||l)&&f._callbacks[e].splice(c,1),a.push(p))}return a}function m(e,t,n,r){f.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&((n=t).preventDefault?n.preventDefault():n.returnValue=!1,(t=t).stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function t(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,n=v(e);n&&("keyup"!=e.type||s!==n?f.handleKey(n,(t=[],(n=e).shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t),e):s=!1)}function c(t,e,n,r){function o(e){m(n,e,t),"keyup"!==r&&(s=v(e)),setTimeout(p,10)}for(var i=d[t]=0;i<e.length;++i){var c=i+1===e.length?o:function(e){return function(){l=e,++d[t],clearTimeout(a),a=setTimeout(p,1e3)}}(r||_(e[i+1]).action);y(e[i],c,r,t,i)}}function y(e,t,n,r,o){f._directMap[e+":"+n]=t;var i=(e=e.replace(/\s+/g," ")).split(" ");1<i.length?c(e,i,t,n):(n=_(e,n),f._callbacks[n.key]=f._callbacks[n.key]||[],h(n.key,n.modifiers,{type:n.action},r,e,o),f._callbacks[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:o,combo:e}))}f._handleKey=function(e,t,n){for(var r=h(e,t,n),o={},i=0,c=!1,a=0;a<r.length;++a)r[a].seq&&(i=Math.max(i,r[a].level));for(a=0;a<r.length;++a)if(r[a].seq){if(r[a].level!=i)continue;c=!0,o[r[a].seq]=1,m(r[a].callback,n,r[a].combo,r[a].seq)}else c||m(r[a].callback,n,r[a].combo);t="keypress"==n.type&&u;n.type!=l||b(e)||t||p(o),u=c&&"keydown"==n.type},f._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)y(e[r],t,n)},o(e,"keypress",t),o(e,"keydown",t),o(e,"keyup",t)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},"6oVL":function(e,t,n){"use strict";n("OZaJ");var r=n("ddV6"),p=n.n(r),o=n("VrFO"),a=n.n(o),i=n("Y9Ll"),s=n.n(i),r=n("1Pcy"),u=n.n(r),o=n("5Yy7"),l=n.n(o),i=n("N+ot"),f=n.n(i),r=n("AuHH"),d=n.n(r),o=n("KEM+"),h=n.n(o),m=(n("2G9S"),n("MvUL"),n("KqXw"),n("Ysgh"),n("ERkP")),i=n("s9SB"),y=n.n(i),r=n("3XMw"),o=n.n(r),v=n("cnVF"),b=n("Ukpf"),_=n("BTou"),g=n("mrHL"),i=n("fEA7"),S=n.n(i),w=n("MWbm"),r=n("Irs7"),E=n("/yvb"),i=n("rHpw");n=o.a.e919c3bc,o=function(e){l()(c,e);var n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d()(n);return t=r?(e=d()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),f()(this,t)});function c(){var o;a()(this,c);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o=i.call.apply(i,[this].concat(t)),h()(u()(o),"_mobileLoginToken",S.a.v1().replace(/-/g,"")),h()(u()(o),"_handleSubmit",function(){var e=o.props,t=e.analytics,n=e.deregisterServiceWorkerBeforeSubmit,r=e.onSubmit;return t.scribe({action:"submit"}),n?(_.a.deregisterServiceWorker(function(){o._setLoginCookie(),r?r(o._form.elements):o._form.submit()}),!1):(_.a.flushHTMLCache(),o._setLoginCookie(),r?(r(o._form.elements),!1):void 0)}),h()(u()(o),"_handleSubmitButtonClick",function(){!1!==o._handleSubmit()&&o._form.submit()}),h()(u()(o),"_setFormRef",function(e){e&&(o._form=e)}),h()(u()(o),"_setLoginCookie",function(){var e=new Date(Date.now());e.setTime(e.getTime()+3e5),Object(g.b)(y.a.serialize(v.n,o._mobileLoginToken,{domain:void 0,expires:e,path:"/",secure:!0}))}),o}return s()(c,[{key:"componentDidUpdate",value:function(e){this.props.autoSubmit&&!e.autoSubmit&&this._handleSubmitButtonClick()}},{key:"componentDidMount",value:function(){b.a.inject({scriptId:"jsInstLibrary",src:"https://twitter.com/i/js_inst?c_name=ui_metrics"})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.hideSubmitButton,r=e.horizontalLayout,o=e.formActionUrl,i=e.loginReturnPath,c=e.submitButtonDisabled,a=e.submitButtonLabel,s=e.submitButtonSize,u=e.submitButtonStyle,l=e.submitButtonType,e="string"==typeof i?i.split("?"):[],i=p()(e,2),e=i[0],i=i[1],e=encodeURI(e||"/"),i=i?"?".concat(i):"",i="".concat("").concat(e).concat(i),a=m.createElement(w.a,{style:r&&k.horizontalFields},m.createElement("input",{name:"redirect_after_login",type:"hidden",value:i}),m.createElement("input",{name:"remember_me",type:"hidden",value:"1"}),m.createElement("input",{name:"authenticity_token",type:"hidden",value:this._mobileLoginToken}),m.createElement("input",{name:"wfa",type:"hidden",value:"1"}),m.createElement("input",{autoComplete:"off",name:"ui_metrics",type:"hidden"}),t,n?null:m.createElement(w.a,{style:r&&k.loginButtonContainer},m.createElement(E.a,{disabled:c,onPress:this._handleSubmitButtonClick,size:s,style:u,testID:"LoginForm_Login_Button",type:l},a)));return m.createElement(w.a,{style:k.loginForm},m.createElement("form",{action:o,children:a,method:"post",noValidate:!0,onSubmit:this._handleSubmit,ref:this._setFormRef}))}}]),c}(m.Component);h()(o,"defaultProps",{autoSubmit:!1,deregisterServiceWorkerBeforeSubmit:!1,formActionUrl:"/sessions",hideSubmitButton:!1,submitButtonDisabled:!1,submitButtonLabel:n,submitButtonType:"primary"});var k=i.a.create(function(e){return{horizontalFields:{flexDirection:"row",justifyContent:"center",alignItems:"stretch"},loginForm:{width:"100%"},loginButtonContainer:{flexDirection:"column",justifyContent:"center"}}});t.a=Object(r.a)(o,{element:"inline_login_form"})},Ukpf:function(e,t,n){"use strict";t.a={inject:function(e){var t=e.callback,n=e.scriptId,r=e.src;document.getElementById(n)?t&&t():((e=document.createElement("script")).src=r,e.id=n,e.async=!0,e.defer=!0,document.body.appendChild(e),e.onload=function(){t&&t()})}}},XTym:function(e,t,n){"use strict";n("OZaJ");var r=n("97Jx"),u=n.n(r),o=n("VrFO"),c=n.n(o),i=n("Y9Ll"),a=n.n(i),r=n("1Pcy"),l=n.n(r),o=n("5Yy7"),s=n.n(o),i=n("N+ot"),p=n.n(i),r=n("AuHH"),f=n.n(r),o=n("KEM+"),d=n.n(o),h=(n("2G9S"),n("hBvt"),n("Ysgh"),n("KqXw"),n("uFXj"),n("QX9J")),m=n("ERkP"),y=n("t62R"),v=n("/yvb"),b=n("mw9i"),i=n("hOZg"),_=n("Oe3h"),r=n("0FVZ"),g=n("cHvH"),S=n("rHpw"),o=n("3XMw"),o=n.n(o),w=n("+/1j"),E=n("MWbm");var k=o.a.af8fa2ad,O=m.createElement(i.a,null),i=function(e){s()(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=f()(n);return t=r?(e=f()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(){var s;c()(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=o.call.apply(o,[this].concat(t)),d()(l()(s),"_renderAriaOnly",function(){var e=s.props,t=e.text,e=e.testID;return m.createElement(E.a,{accessibilityRole:"alert",style:S.a.visuallyHidden,testID:e},m.createElement(w.a,null,t))}),d()(l()(s),"_renderContent",function(e){var n=e.windowWidth,e=s.props,r=e.text,o=e.withAutoDismiss,i=e.withClearButton,c=e.testID,a=e.action,e=e.LayerComponent;return m.createElement(e,null,m.createElement(b.a,null,m.createElement(_.a,{id:"Toast"},function(e,t){return m.createElement(h.Provider,{viewType:"toast"},m.createElement(E.a,u()({ref:e()},t({accessibilityRole:"alert",style:[T.root,n>S.a.theme.breakpoints.medium&&T.rootWide],testID:c})),m.createElement(y.c,{color:"whiteOnColor",style:T.titleText},r),m.createElement(E.a,{accessibilityHidden:o,style:T.actionButtons},a&&s._renderActionLabel(a),i&&m.createElement(v.a,{accessibilityLabel:k,borderColor:"transparent",color:"white",icon:O,onPress:s._handleClose,style:T.closeButton}))))})))}),d()(l()(s),"_createTimer",function(){var e=s.props,t=e.action,n=e.autoDismissDelay,r=e.onClose,o=e.text;e.withAutoDismiss&&(t=n||i.calculateDismissDelay(o,!!t),s._timerId=setTimeout(r,t))}),d()(l()(s),"_handleActionPress",function(e){s._stopTimer();var t=s.props,n=t.action,t=t.onClose;null!=n&&n.onAction&&n.onAction(e),t(e)}),d()(l()(s),"_handleClose",function(e){s._stopTimer(),s.props.onClose(e)}),s}return a()(i,[{key:"componentDidMount",value:function(){this._createTimer()}},{key:"componentWillUnmount",value:function(){this._stopTimer()}},{key:"render",value:function(){return this.props.ariaOnly?this._renderAriaOnly():m.createElement(g.a,null,this._renderContent)}},{key:"_renderActionLabel",value:function(e){var t=e.label,n=e.link,r=e.clientEventViewType,e=e.clientEventEntityToken;return m.createElement(h.Provider,{token:e,viewType:r||"action"},m.createElement(y.c,{children:t,color:"whiteOnColor",link:n,onClick:this._handleActionPress,style:[T.actionText,!n&&T.actionMargin],weight:"bold",withInteractiveStyling:!0}))}},{key:"_stopTimer",value:function(){clearTimeout(this._timerId)}}],[{key:"calculateDismissDelay",value:function(e,t){e=1e3*("string"==typeof e?e.split(" ").length:0)/5+225;return(e<4e3?4e3:e)+(t?2e3:0)}}]),i}(m.Component);d()(i,"defaultProps",{withAutoDismiss:!0,withClearButton:!1,LayerComponent:r.a.ModalToasts});var T=S.a.create(function(e){return{root:{alignItems:"center",backgroundColor:e.colors.primary,flexDirection:"row",justifyContent:"space-between",padding:e.spaces.space12},rootWide:{alignSelf:"center",borderRadius:e.borderRadii.small,marginBottom:e.spaces.space32},titleText:{flexShrink:1,paddingHorizontal:e.spaces.space12},actionText:{whiteSpace:"nowrap",marginRight:e.spaces.space12},actionButtons:{flexDirection:"row"},actionMargin:{marginHorizontal:e.spaces.space12},closeButton:{marginLeft:e.spaces.space12,paddingHorizontal:e.spaces.space4}}});t.a=i},aD6h:function(e,t,n){"use strict";n("OZaJ");var r=n("VrFO"),i=n.n(r),o=n("Y9Ll"),c=n.n(o),r=n("5Yy7"),a=n.n(r),o=n("N+ot"),s=n.n(o),r=n("AuHH"),u=n.n(r),o=n("KEM+"),r=n.n(o),l=n("ERkP"),p=n("Hde2"),f=n("yt7X"),o=n("496R");n=function(e){a()(o,e);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=u()(n);return t=r?(e=u()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),s()(this,t)});function o(){return i()(this,o),t.apply(this,arguments)}return c()(o,[{key:"render",value:function(){return this.props.hideEUBanner?null:l.createElement(p.a,null,l.createElement(f.a,null))}}]),o}(l.PureComponent);r()(n,"defaultProps",{hideEUBanner:!1}),t.a=Object(o.a)(n)},donR:function(e,t,n){"use strict";n.r(t),n.d(t,"inputDetect",function(){return ft}),n.d(t,"BottomEUBanner",function(){return dt}),n.d(t,"DtabBar",function(){return ht}),n.d(t,"GlobalKeyboardShortcuts",function(){return mt}),n.d(t,"LivePipeline",function(){return yt}),n.d(t,"ModalSheet",function(){return vt}),n.d(t,"SmartLockPrompt",function(){return bt}),n.d(t,"Seo",function(){return _t}),n.d(t,"Toast",function(){return gt}),n.d(t,"appReloader",function(){return St}),n.d(t,"badgeTimers",function(){return wt}),n.d(t,"bindKeyboardShortcuts",function(){return Et}),n.d(t,"ie11Reflower",function(){return kt}),n.d(t,"multiAccountListFetcher",function(){return Ot}),n.d(t,"redirectEmailUser",function(){return Tt}),n.d(t,"scribeExternalReferer",function(){return Pt}),n.d(t,"getScreenReaderShortcutsDataAttribute",function(){return Rt}),n.d(t,"altSvc",function(){return Ct}),n.d(t,"AppInstallOnLandingPrompt",function(){return It}),n.d(t,"AudioModule",function(){return Dt}),n.d(t,"initGeoLocation",function(){return jt});var r={};n.r(r),n.d(r,"initialize",function(){return S}),n.d(r,"detectedTypes",function(){return w}),n.d(r,"detectedType",function(){return E}),n.d(r,"register",function(){return k}),n.d(r,"registerSome",function(){return O}),n.d(r,"registerEvery",function(){return T}),n.d(r,"unregister",function(){return P}),n.d(r,"reset",function(){return R}),n.d(r,"KEYBOARD",function(){return h}),n.d(r,"MOUSE",function(){return m}),n.d(r,"_private",function(){return C});function o(e){var t=this;u()(this,o),p()(this,"_handleTimerEnd",function(){3<=t._count&&t._handleDetected(),t._reset()}),p()(this,"_handleDetected",function(){t._reset(),t.detach(),t.detected()}),p()(this,"_reset",function(){clearTimeout(t._timer),t._timer=void 0,t._count=0}),p()(this,"_handleMouseMove",function(){t._count=t._count+1,3<=t._count?t._handleDetected():t._timer||(t._timer=setTimeout(t._handleTimerEnd,500))}),p()(this,"attach",function(){document.addEventListener("mousemove",t._handleMouseMove),document.addEventListener("touchend",t._reset)}),p()(this,"detach",function(){document.removeEventListener("mousemove",t._handleMouseMove),document.removeEventListener("touchend",t._reset)}),this.detected=e,this._count=0}function i(e){var o=this;u()(this,i),p()(this,"_handleKeyDown",function(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey,e=e.target;!(t||n||r)&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)||(o.detach(),o.detected())}),p()(this,"attach",function(){document.addEventListener("keydown",o._handleKeyDown)}),p()(this,"detach",function(){document.removeEventListener("keydown",o._handleKeyDown)}),this.detected=e}var c,a=n("3+LL"),s=n("VrFO"),u=n.n(s),l=n("KEM+"),p=n.n(l),f=(n("LW0h"),n("jwue"),n("+oxZ"),n("+KXO"),n("5BYb"),n("DfhM"),n("vrRf"),n("Ee2X"),n("z0MJ")),d=n.n(f),h="keyboard",m="mouse",y=[],v=(fe={},p()(fe,h,!1),p()(fe,m,!1),fe);function b(e){v[e]=!0;e=y.filter(function(e){return(0,e.matches)()});y=y.filter(function(e){return!(0,e.matches)()}),e.forEach(function(e){return(0,e.callback)()})}function _(e,t){return t.location.pathname.includes("/intent/")}function g(e,t){return t.location.pathname.includes("/login")}var S=function(){(c=[new i(function(){return b(h)}),new o(function(){return b(m)})]).forEach(function(e){return e.attach()})},w=function(){return Object.keys(v).filter(function(e){return v[e]})},E=function(e){return v[e]},k=function(e,t){function n(){return v[t]}n()?d()(e):y.push({matches:n,callback:e})},O=function(e,t){function n(){return t.some(function(e){return v[e]})}n()?d()(e):y.push({matches:n,callback:e})},T=function(e,t){function n(){return t.every(function(e){return v[e]})}n()?d()(e):y.push({matches:n,callback:e})},P=function(e){e=y.indexOf(e);-1<e&&y.splice(e,1)},R=function(){y=[],Object.keys(v).forEach(function(e){v[e]=!1}),c.forEach(function(e){return e.detach()})},C={MOUSE_INTERVAL_TIME_IN_MS:500,SUCCESSIVE_MOUSE_EVENTS:3,detected:b},I=n("0KEI"),D=(n("OZaJ"),n("Y9Ll")),j=n.n(D),A=n("1Pcy"),L=n.n(A),B=n("5Yy7"),x=n.n(B),M=n("N+ot"),U=n.n(M),N=n("AuHH"),F=n.n(N),K=(n("2G9S"),n("ERkP")),H=n("sebV"),X=(n("jQ3i"),n("x4t0"),n("rxPX")),Y=Object(X.a)().propsFromState(function(){return{isIntentRoute:_,isLoginRoute:g}}).adjustStateProps(function(e){var t=e.isIntentRoute,e=e.isLoginRoute;return{hideAppPrompt:t||e}}),z=n("RxYA"),V=n("TnY3"),q=n("v6aA");var W=function(e){x()(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=F()(n);return t=r?(e=F()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),U()(this,t)});function i(){var e;u()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),p()(L()(e),"_isStandaloneApp",H.a.isStandaloneApp()),p()(L()(e),"state",{showPrompt:!e.props.hideAppPrompt&&!e.context.loggedInUserId&&!e._isStandaloneApp&&e.context.featureSwitches.isTrue("responsive_web_use_app_prompt_enabled")&&!e.context.featureSwitches.isTrue("responsive_web_open_in_app_prompt_enabled")}),p()(L()(e),"_handleClose",function(){e.setState({showPrompt:!1})}),e}return j()(i,[{key:"render",value:function(){return this.state.showPrompt?K.createElement(z.a,{onClose:this._handleClose,onlyShowOnce:!0,useBottomBanner:!0}):null}}]),i}(K.Component);p()(W,"contextType",q.a);function G(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;window.requestIdleCallback?window.requestIdleCallback(function(){return e.fire()}):setTimeout(function(){return e.fire()},t)}var J=Object(V.a)(Y(W)),t=n("Pc/x"),Z=n("RqPI"),Q=n("k49u"),$=n("2g+p"),ee=n("auX9"),te=n("fs1G"),ne=n("sJRb"),re=n("B5iK"),oe=n("l0YN"),s=n("+Aie"),ie=n.n(s),l=n("aD6h"),ce=(n("7xRU"),n("Cm4o"),n("7x/C"),n("87if"),n("lTEL"),n("kYxP"),n("DZ+c"),n("Hde2")),ae=n("P1r1"),f=Object(X.a)().propsFromState(function(){return{dtabBarInfo:ae.m}}).adjustStateProps(function(e){e=e.dtabBarInfo;return{dtabAll:e&&e.dtabAll,dtabRweb:e&&e.dtabRweb,hide:e&&e.hide,ttsToken:e&&e.ttsToken}}).propsFromActions(function(){return{setDtabBarInfo:ae.E}}),se=n("8jkQ"),ue=n("/yvb"),le=n("mw9i"),pe=n("t62R"),fe=n("rHpw");D=function(e){x()(c,e);var n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=F()(n);return t=r?(e=F()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),U()(this,t)});function c(e,t){var o;return u()(this,c),o=i.call(this,e,t),p()(L()(o),"_renderButtons",function(){return K.createElement(K.Fragment,null,K.createElement(ue.a,{onClick:o._handleInfo,size:"small",type:"destructive"},"Info"),K.createElement(ue.a,{onClick:o._handleClear,size:"small",type:"destructive"},"Clear"),K.createElement(ue.a,{onClick:o._handleClose,size:"small",type:"destructive"},"Hide"))}),p()(L()(o),"_handleInfo",function(){var e=o._getOverrides();window.prompt(e.join("\n"),window.encodeURIComponent(e.join(";")))}),p()(L()(o),"_getOverrides",function(){var e=o.props,t=e.dtabAll,n=e.ttsToken,e=[];return t&&!n?e=t:n&&(e=["tts_token=".concat(n)]),e.filter(function(e){return!!e})}),p()(L()(o),"_handleClear",function(){var e=o._getOverrides().join("\n"),e="OK to clear overrides?\n".concat(e);window.confirm(e)&&((e=new URL(se.b.get())).searchParams.set("dtab_local",""),e.searchParams.set("tts_token",""),se.b.navigateTo(e.toString()))}),p()(L()(o),"_handleClose",function(){var e=o.props,t=e.dtabAll,n=e.dtabRweb,r=e.ttsToken,e=e.setDtabBarInfo;o.setState({show:!1}),e({dtabAll:t,dtabRweb:n,ttsToken:r,hide:!0})}),p()(L()(o),"_shouldShow",function(){var e=o.props,t=e.dtabAll,n=e.ttsToken;return!(e.hide||!t&&!n)}),o.state={show:o._shouldShow()},o}return j()(c,[{key:"render",value:function(){var e=this.props,t=e.dtabAll,t=e.ttsToken||t?K.createElement(ce.a,{style:de.root},K.createElement(le.a,{isLarge:!0,style:de.container,withGutter:!0},K.createElement(pe.c,{color:"whiteOnColor",numberOfLines:1,size:"subtext2",style:de.text},"Staging override is active"),this._renderButtons())):null;return this.state.show?t:null}}]),c}(K.PureComponent);p()(D,"defaultProps",{hide:!1});var de=fe.a.create(function(e){return{root:{backgroundColor:e.colors.red500},container:{alignItems:"center",flexDirection:"row",height:e.spaces.space40,justifyContent:"space-between"},text:{width:"100%"}}}),A=f(D),B=n("OrGc"),M=n("rRIm"),he=n("aITJ"),N={init:function(t){he.b.isDesktopOS()&&he.b.isIE()&&$.a.addEventListener("change",function(e){"active"===e&&t&&t.body&&(e=t.body.style.display,t.body.style.display="none",t.body.clientHeight,t.body.style.display=e)})}},me=(n("JtPf"),n("6/RC")),ye=(n("yH/f"),Object.freeze({granted:"granted",denied:"denied",prompt:"prompt"})),Y=(n("1t7P"),n("daRM"),n("FtHn"),n("Ssj5"));function ve(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(n),!0).forEach(function(e){p()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _e(e){return{payload:e,type:Se}}var ge=Object.freeze({permissionStatus:void 0,position:void 0}),Se="rweb/geoLocation/SET_PERMISSION_STATUS",we="rweb/geoLocation/SET_POSITION",Ee=function(){return new Promise(function(t,e){return navigator.geolocation.getCurrentPosition(function(e){e={timestamp:e.timestamp,coords:{latitude:e.coords.latitude,longitude:e.coords.longitude,altitude:e.coords.altitude,accuracy:e.coords.accuracy,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,speed:e.coords.speed}};return t(e)},e)})};Y.a.register(p()({},"geoLocation",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ge,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Se:return be(be({},e),{},{permissionStatus:t.payload});case we:return be(be({},e),{},{position:t.payload});default:return e}}));var ke=(n("z84I"),n("pXBW")),Oe=n("nS6Z");function Te(e){return e.json().then(function(e){return e.errors.some(function(e){return 392===e.code})})}var W=n("T0aG"),Pe=n.n(W);function Re(e){return Object.keys(Ce(e))}function Ce(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}n("M+/F"),n("KOtZ");var Ie=(j()(De,[{key:"setTopics",value:function(e){this.topics=e}},{key:"getAutoSubscribedTopics",value:function(){return this.connection?this.connection.topics:[]}},{key:"_getTopicsForAutoSubscribe",value:function(){return this.topics.slice(0,De.MAX_AUTO_SUBSCRIBE_TOPICS)}},{key:"_cleanup",value:function(){var e=this.connection;e&&(e.eventSource.removeEventListener("message",this._handleMessage),e.eventSource.removeEventListener("error",this._handleError),e.eventSource.close(),this.connection=null),clearTimeout(this.backoffTimeoutId)}},{key:"teardown",value:function(){this._cleanup()}}]),De);function De(e){var r=this,t=e.makeEventSource,n=e.callback,e=e.topics;u()(this,De),p()(this,"topics",[]),p()(this,"backoffDuration",0),p()(this,"_handleMessage",function(e){e=e.data;try{var t=JSON.parse(e);r.connection&&"/system/config"===t.topic&&(r.connection.hasConfig=!0),r.callback(t)}catch(e){}}),p()(this,"_handleError",function(){var t,e,n;r.connection&&r.connection.eventSource.readyState!==r.connection.eventSource.OPEN&&((n=r.connection)&&n.eventSource.readyState===n.eventSource.CONNECTING&&(e=n.topics,n=r._getTopicsForAutoSubscribe(),t=Ce(e),e=Object.keys(t),n=Re(n),e.length===n.length&&n.every(function(e){return t[e]}))||(r._cleanup(),r.connection&&r.connection.hasConfig?r.backoffDuration=1e3:r.backoffDuration=Math.max(1e3,Math.min(2*r.backoffDuration,6e4)),r.backoffTimeoutId=setTimeout(r._connect,r.backoffDuration*(.5+Math.random()))))}),p()(this,"_connect",function(){r._cleanup();var t=r._getTopicsForAutoSubscribe();r.makeEventSource(t).then(function(e){if("object"!==Pe()(e))throw new Error("EventSource must be defined");e.addEventListener("message",r._handleMessage),e.addEventListener("error",r._handleError),r.connection={eventSource:e,topics:t,hasConfig:!1}}).catch(function(){r._handleError()})}),this.makeEventSource=t,this.callback=n,this.setTopics(e),this._connect()}p()(Ie,"MAX_AUTO_SUBSCRIBE_TOPICS",20);var je=n("+d3d"),Ae=(j()(Le,[{key:"setConfig",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];clearInterval(this.intervalId),e&&e.config&&(this.sessionId=e.config.session_id,this.appliedState={topics:t},this._applyPendingState(),e=(e.config.subscription_ttl_millis||Le.DEFAULT_TTL)-Le.TIMEOUT_PREEMPT_DURATION,this.intervalId=setInterval(this._subscribeAll,e))}},{key:"teardown",value:function(){clearInterval(this.intervalId),this.updateSubscriptions({toSubscribe:[],toUnsubscribe:this.appliedState.topics,sessionId:this.sessionId})}}]),Le);function Le(e){var o=this;u()(this,Le),p()(this,"sessionId",""),p()(this,"pendingState",{topics:[],forceSubscribeAll:!1}),p()(this,"appliedState",{topics:[]}),p()(this,"setTopics",function(){o.pendingState.topics=Re(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]),o._applyPendingState()}),p()(this,"_subscribeAll",function(){o.pendingState.forceSubscribeAll=!0,o._applyPendingState()}),p()(this,"_applyPendingState",function(){var e=o.pendingState.forceSubscribeAll?o.pendingState.topics:o.pendingState.topics.filter(function(e){return-1===o.appliedState.topics.indexOf(e)}),t=o.appliedState.topics.filter(function(e){return-1===o.pendingState.topics.indexOf(e)}),n=!o.sessionId,r=0===e.length&&0===t.length;n||r||(o.appliedState={topics:o.pendingState.topics},o.pendingState={topics:o.appliedState.topics,forceSubscribeAll:!1},o.updateSubscriptions({toSubscribe:e,toUnsubscribe:t,sessionId:o.sessionId}))});var t=e.updateSubscriptions,e=e.throttlePeriod,e=void 0===e?Le.UPDATE_SUBSCRIPTIONS_THROTTLE:e;this.updateSubscriptions=t,null!==(this.throttlePeriod=e)&&0<=e&&(this._applyPendingState=Object(je.a)(this._applyPendingState,e,{leading:!1}))}p()(Ae,"DEFAULT_TTL",12e4),p()(Ae,"TIMEOUT_PREEMPT_DURATION",2e4),p()(Ae,"UPDATE_SUBSCRIPTIONS_THROTTLE",1e3);var Be,xe=(j()(Me,[{key:"teardown",value:function(){this._clearExpiryTimeout(),this.subscriptionsByTopic={},this.livePipelineResubscriber.teardown(),this.eventSourceConnector&&(this.eventSourceConnector.teardown(),this.eventSourceConnector=null)}},{key:"suspend",value:function(){this.isSuspended=!0,this._reconcileTopics()}},{key:"resume",value:function(){this.isSuspended=!1,this._reconcileTopics()}},{key:"subscribeTopic",value:function(t,e){var n=this;if(!t)return{teardown:function(){}};var r={topic:t,callback:e};return this.subscriptionsByTopic[t]=this.subscriptionsByTopic[t]||[],this.subscriptionsByTopic[t].push(r),this._reconcileTopics(),{teardown:function(){var e=(n.subscriptionsByTopic[t]||[]).filter(function(e){return e!==r});0===e.length?delete n.subscriptionsByTopic[t]:n.subscriptionsByTopic[t]=e,n._reconcileTopics()}}}},{key:"_reconcileTopics",value:function(){var e=this.isSuspended?[]:Object.keys(this.subscriptionsByTopic),t=0<e.length;t&&this._clearExpiryTimeout(),this.livePipelineResubscriber.setTopics(e),this.eventSourceConnector&&this.eventSourceConnector.setTopics(e),t&&!this.eventSourceConnector?(this._closeEventSource(),this.eventSourceConnector=new Ie({makeEventSource:this.makeEventSource,callback:this._handleMessage,topics:e})):t||!this.eventSourceConnector||this.connectionExpiryTimeoutId||(this.connectionExpiryTimeoutId=setTimeout(this._closeEventSource,Me.UNUSED_CONNECTION_EXPIRY))}},{key:"_clearExpiryTimeout",value:function(){clearTimeout(this.connectionExpiryTimeoutId),this.connectionExpiryTimeoutId=null}}]),Me);function Me(e){var t,n,r,o=this,i=e.makeEventSource,e=e.updateSubscriptions;u()(this,Me),p()(this,"isSuspended",!1),p()(this,"eventSourceConnector",null),p()(this,"subscriptionsByTopic",{}),p()(this,"_closeEventSource",function(){o._clearExpiryTimeout(),o.livePipelineResubscriber.setConfig(null),o.eventSourceConnector&&(o.eventSourceConnector.teardown(),o.eventSourceConnector=null)}),p()(this,"_restartEventSource",function(){o._closeEventSource(),o._reconcileTopics()}),p()(this,"_handleMessage",function(e){var t=e.topic,e=e.payload;t===Me.SYSTEM_CONFIG_TOPIC&&o.eventSourceConnector&&o.livePipelineResubscriber.setConfig(e,o.eventSourceConnector.getAutoSubscribedTopics());var n=Promise.resolve(e);return(o.subscriptionsByTopic[t]||[]).map(function(e){return n.then(e.callback)})}),this.makeEventSource=i,this.livePipelineResubscriber=new Ae({updateSubscriptions:(e={promiseFactory:e,condition:Te,sideEffect:this._restartEventSource},t=e.promiseFactory,n=e.condition,r=e.sideEffect,function(){var e=t.apply(void 0,arguments);return e.then(n).then(function(e){e&&r()}).then(function(){return e},function(){return e})})})}p()(xe,"SYSTEM_CONFIG_TOPIC","/system/config"),p()(xe,"UNUSED_CONNECTION_EXPIRY",3e4);var s={isSupported:function(e){return"EventSource"in window&&e.isTrue("livepipeline_client_enabled")},isSupportedAndReady:function(e){return this.isSupported(e)&&!!Be},create:function(e,t,o){var n=this;if(!this.isSupported(e))throw new Error("This browser does not support LivePipeline");if(Be)throw new Error("LivePipeline should only be initialized once");return Be=new xe({makeEventSource:function(e){var t,n,n=(t=e.map(encodeURIComponent).join(","),n=r(Oe.b),(e=o.getReplacementHost(new URL(n)))?r("https://".concat(e)):n);function r(e){return"".concat(e,"/live_pipeline/events?topic=").concat(t)}return Promise.resolve(new window.EventSource(n,{withCredentials:!0}))},updateSubscriptions:function(e){return t.LivePipeline.updateSubscriptions(e).catch(function(e){if(e)if(e instanceof ke.a&&Object(Q.c)(e,Q.a.SessionNotFound))Be&&Be._restartEventSource();else if(!(e instanceof ke.a)&&e instanceof Error)return Promise.reject(e);return Promise.resolve()})}}),$.a.addEventListener("change",function(e){return n._handleAppStateChange(e)}),Be},get:function(){if(!Be)throw new Error("LivePipeline instance has not been initialized");return Be},destroy:function(){Be&&Be.teardown(),Be=void 0},_handleAppStateChange:function(e){"active"===e?this.get().resume():this.get().suspend()}},f=n("pf9B"),Ue=(n("MvUL"),n("KqXw"),n("Sp5X")),Ne=["/login/error","/i/sms_login"],Fe=n("Mx3A"),Ke=n("qzfk"),He=n("YeIG"),Xe=n("mrHL");function Ye(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(n),!0).forEach(function(e){p()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ve={page:"external",action:"referred"},qe=n("O6Yq"),We=n("muX9");var D=function(e){x()(o,e);var n,r,t=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=F()(n);return t=r?(e=F()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),U()(this,t)});function o(){return u()(this,o),t.apply(this,arguments)}return j()(o,[{key:"render",value:function(){var e=(e=me.canUseDOM?window.location.href:e)?{canonical:Object(qe.a)(e)}:null;return e?K.createElement(We.a,null,K.createElement("link",{href:e.canonical,rel:"canonical"})):null}}]),o}(K.PureComponent),Y=Object(V.a)(D),W=(n("ho0z"),Object(X.a)().propsFromState(function(){return{loginReturnPath:Z.i}}).withAnalytics({component:"smartlock_prompt"})),Ge=n("6oVL"),Je=n("SrIh"),Ze=n("BnI0"),D=n("pQ3Z"),Qe=n.n(D),$e=n("cnVF"),et=n("MWbm");function tt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach(function(e){p()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var rt=["/settings","/signup","/login/error","/i/flow/signup","/login/check"],D=function(e){x()(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=F()(n);return t=r?(e=F()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),U()(this,t)});function i(e,t){var n;return u()(this,i),(n=o.call(this,e,t)).state={autoSubmit:!1,password:"",smartLockDisabled:!1,userName:""},n._smartLockSupported=!!(window.PasswordCredential&&navigator.credentials&&navigator.credentials.get)&&!t.loggedInUserId,n._isSmartLockDisabledFromCookie="1"===e.getCookie($e.t),n}return j()(i,[{key:"componentDidMount",value:function(){"/login/error"===this.props.location.pathname?Object(Ze.a)():this._checkShouldDisplayPrompt()}},{key:"componentDidUpdate",value:function(e){Qe()(e.location,this.props.location)||this._checkShouldDisplayPrompt()}},{key:"render",value:function(){var e=this.props.loginReturnPath,t=this.state,n=t.autoSubmit,r=t.password,t=t.userName;return this._shouldDisplaySmartLockPrompt()?K.createElement(et.a,{style:ot.hidden},K.createElement(Ge.a,{autoSubmit:n,loginReturnPath:e},K.createElement("input",{name:"session[username_or_email]",type:"hidden",value:t}),K.createElement("input",{name:"session[password]",type:"hidden",value:r}))):null}},{key:"_scribeAction",value:function(e,t){this.props.analytics.scribe(nt(nt({},t),{},{action:e}))}},{key:"_checkShouldDisplayPrompt",value:function(){var n,r=this,e=this.props.location.pathname,t=this.state.smartLockDisabled;this._shouldDisplaySmartLockPrompt()&&(this._scribeAction("impression"),e=(t||this._isSmartLockDisabledFromCookie)&&"/login"===e?"required":"optional",n=!0,setTimeout(function(){return n=!1},250),navigator.credentials.get({mediation:e,password:!0}).then(function(e){var t;e?(n?r._scribeAction("select",{element:"unmediated"}):r._scribeAction("select",{element:"mediated"}),t=e.id,e=e.password,r.setState({autoSubmit:!0,userName:t,password:e})):(r._smartLockSupported&&r.setState({smartLockDisabled:!0},Ze.a),n?r._scribeAction("cancel",{element:"no_credentials"}):r._scribeAction("cancel",{element:"with_credentials"}))},function(e){e&&"NotSupportedError"!==e.name&&"NotAllowedError"!==e.name&&"InvalidStateError"!==e.name&&Object(Je.a)(e)}))}},{key:"_shouldDisplaySmartLockPrompt",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,t=this.context.loggedInUserId,n=e.location.pathname,e=this.state.smartLockDisabled,e="/login"===n||!this._isSmartLockDisabledFromCookie&&!e&&!rt.some(function(e){return e===n});return!t&&this._smartLockSupported&&e}}]),i}(K.Component);p()(D,"contextType",q.a),p()(D,"defaultProps",{getCookie:Xe.a});var ot=fe.a.create(function(e){return{hidden:{display:"none"}}}),D=Object(V.a)(W(D)),it=(n("3voH"),n("HPNB")),ct=n("ZNx0"),at=n("1YZw"),X=Object(X.a)().propsFromState(function(){return{toast:at.d}}).propsFromActions(function(){return{onClose:at.c}}),st=n("zCf4"),ut=n("cHvH"),lt=n("0FVZ"),pt=n("XTym"),X=X(function(e){var t=e.onClose,n=e.toast,r=Object(st.f)().pathname.startsWith("/explore")?"guide":"app";return n?K.createElement(ut.a,null,function(e){e=e.windowWidth,e=it.a.shouldRenderAsModal(e)?lt.a.ModalToasts:lt.a.Toasts;return K.createElement(ct.a,{viewType:r},K.createElement(pt.a,{LayerComponent:e,action:n.action,ariaOnly:n.ariaOnly,autoDismissDelay:n.autoDismissDelay,key:n.id,onClose:t,testID:"toast",text:n.text,withAutoDismiss:n.withAutoDismiss,withClearButton:n.withClearButton}))}):null}),ft=r,dt=l.a,ht=A,mt=M.a,yt=s,vt=f.a,bt=D,_t=Y,gt=X,St=a,wt=function(t){var n,e,r,o;Z.e(t.getState())&&(n=t.dispatch(Object(I.d)("BADGE_TIMERS")(p()({showToast:!1},Q.a.AccessDeniedByBouncer,{customAction:te.a}))),e=function(e){return t.dispatch(e).catch(n)},(r=new re.b(3e4).interval(function(){"background"!==$.a.currentState&&(e(Object(oe.b)()),Object(ee.b)(t.getState()).forEach(e))})).start(),G(r),(o=new re.b(3e4).interval(function(){"background"!==$.a.currentState&&t.dispatch(ne.b.fetchInitialOrTop({polling:!0})).catch(n)})).start(),G(o),$.a.addEventListener("change",function(e){"active"===e&&(G(r),G(o))}))},Et=function(n,e){function t(){i||(r=ie()(e),o.forEach(function(e){return r.bind(e,(t=n[e],function(e){e.preventDefault(),e.stopPropagation(),t(e)}));var t}))}var r,o=Object.keys(n),i=!1;return O(t,[h,m]),function(){i=!0,P(t),r&&r.unbind(o)}},kt=N,Ot=function(t){function e(e){return t.dispatch(e).catch(r)}var n=Object(I.d)("MULTI_ACCOUNT_LIST_UPDATER"),r=t.dispatch(n(p()({showToast:!1},Q.a.AccessDeniedByBouncer,{customAction:te.a})));(window.requestIdleCallback||window.requestAnimationFrame)(function(){e(Object(ee.d)()).then(function(){Object(ee.b)(t.getState()).forEach(e)})})},Tt=function(e,t){var n=!Z.e(t),t=Z.c(t);n&&t&&Ue.a&&!e.isTrue("responsive_web_ocf_lite_login_flow_enabled")&&(e=Ue.a.location.pathname,-1===Ne.indexOf(e)&&Ue.a.replace({pathname:"/i/sms_login"}))},Pt=function(e,t,n){function r(e){return n.dispatch(Object(I.d)(e)({}))}var o=Ue.a&&Ue.a.location.query,i=Fe.c({query:o,httpReferer:document.referrer||"",requestUrl:window.location.href});if(Object(He.a)(i))return Promise.resolve();if(i.referer&&!se.b.isExternalUrl(i.referer)&&!se.b.isInternalRedirect(i.referer))return Promise.resolve();i.referer||(i.referer=""),i.referral_details_str||(i.referral_details_str=""),i.referral_type||(i.referral_type=0);var c=Object(Xe.a)("external_referer");c&&(i.external_referer_cookie_value=c);var a=i.referral_type===Fe.a.Access,o=ze(ze({},Ve),{},{client:Object(Ke.a)().clientName});c&&a&&(o.action="set_access_referer_cookie");o=t.createEventObject(o,"client_event",i),t=t.createPayload([o]),o=i?e.Ocf.referer({landing_url:i.url,referral_details:i.referral_details_str||void 0,referrer_url:i.referer||void 0}).catch(function(){return r("OCF_EXTERNAL_REFERER")}):Promise.resolve(),i=i?e.Attribution.recordUserEvent({event:"open",referring_link_url:i.url}).catch(function(){return r("ATTRIBUTION_EXTERNAL_REFERER")}):Promise.resolve(),t=e.Jot.externalReferer(t).then(function(e){e=Fe.b(e&&e[0]);e&&Object(Xe.b)(e)}).catch(function(){return r("SCRIBE_EXTERNAL_REFERER")});return Promise.all([t,o,i])},Rt=B.c,Ct=function(e,t,n){e.isTrue("responsive_web_alt_svc")&&(n=n(Object(I.d)("APP_INITIALIZATION_ALT_SVC")({})),t.AltSvc.fetch().catch(n))},It=J,Dt=t.a,jt=function(t){return Object(ae.v)(t.getState())?(n=t,(null!==(e=navigator)&&void 0!==e&&e.permissions?null===(e=navigator)||void 0===e||null===(r=e.permissions)||void 0===r?void 0:r.query({name:"geolocation"}).then(function(e){return n.dispatch(_e(e.state)),e.onchange=function(){n.dispatch(_e(this.state))},Promise.resolve(e.state)}):Promise.resolve()).then(function(e){e===ye.granted&&t.dispatch(function(t,e,n){return n.featureSwitches.isTrue("responsive_web_precise_location_setting_enabled")?Ee().then(function(e){return t({payload:e,type:we})}):Promise.resolve()})})):Promise.resolve();var n,e,r}},rRIm:function(e,t,n){"use strict";n.d(t,"b",function(){return L}),n("OZaJ"),n("+KXO"),n("1t7P"),n("LW0h"),n("daRM"),n("jwue"),n("+oxZ"),n("FtHn");var r=n("VrFO"),a=n.n(r),o=n("Y9Ll"),i=n.n(o),c=n("1Pcy"),s=n.n(c),u=n("5Yy7"),l=n.n(u),p=n("N+ot"),f=n.n(p),r=n("AuHH"),d=n.n(r),o=n("KEM+"),h=n.n(o),m=(n("2G9S"),n("LJOr"),n("KqXw"),n("ERkP")),y=n("sTyV"),v=n("6/RC"),b=n("sebV"),c=n("rxPX"),_=n("G6rE"),u=Object(c.a)().propsFromState(function(){return{loggedInUser:_.e.selectLoggedInUser}}).adjustStateProps(function(e){e=e.loggedInUser;return{loggedInUserScreenName:e?e.screen_name:void 0}}),p=n("3XMw"),r=n.n(p),g=n("OrGc"),S=n("QK5w"),w=n("aITJ"),E=n("MWbm"),o=n("TnY3"),k=n("rHpw"),O=n("t62R"),c=n("v6aA"),p=n("uScj"),T=n("fs1G"),P=n("BcsE"),n=n("VPAj");function R(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach(function(e){h()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function I(e){if(e.target instanceof HTMLInputElement){e=e.target.tagName.toLowerCase();return"input"===e||"textarea"===e}}var D=r.a.b47e760d,j=r.a.fd2c7b43,A=new p.a,L=function(e){return v.canUseDOM?A.subscribe(e).unsubscribe:T.a},p=function(e){l()(c,e);var n,r,o=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d()(n);return t=r?(e=d()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),f()(this,t)});function c(){var i;a()(this,c);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=o.call.apply(o,[this].concat(t)),h()(s()(i),"_bindKeyboardShortcuts",function(){var e=i.props,n=e.history,t=e.loggedInUserScreenName,r=function(t){return function(e){e.preventDefault(),A._listeners.length?A.notify(t):n.push({pathname:"/explore",state:{searchFocused:!0,searchPrefill:t}})}},e=(o={},h()(o,g.d.search,r()),h()(o,g.d.goToUser,r("@")),h()(o,g.d.openKeyboardShortcuts,function(){return n.push("/i/keyboard_shortcuts")}),h()(o,g.d.goExplore,function(){return n.push("/explore")}),h()(o,g.d.goSettings,function(){return n.push("/settings")}),o),r=function(e){var t={};return h()(t,g.d.goProfile,function(){return n.push("/".concat(e))}),h()(t,g.d.goLikes,function(){return n.push("/".concat(e,"/likes"))}),h()(t,g.d.goLists,function(){return n.push("/".concat(e,"/lists"))}),t},o=i.context.featureSwitches.isTrue("responsive_web_moment_maker_enabled"),t=t&&o?C(C({},r(t)),{},h()({},g.d.goMomentMaker,function(){return n.push("/i/moment_maker")})):t?r(t):{},t=C(C(C({},e),t),{},(t={},h()(t,g.d.goHome,function(){return n.push("/home")}),h()(t,g.d.goDisplay,function(){return n.push("/i/display")}),h()(t,g.d.goNotifications,function(){return n.push("/notifications")}),h()(t,g.d.goMentions,function(){return n.push("/notifications/mentions")}),h()(t,g.d.goMessages,function(){return n.push("/messages")}),h()(t,g.d.newMessage,function(){return n.push("/messages/compose")}),h()(t,g.d.newTweet,function(){return n.push("/compose/tweet")}),h()(t,g.d.goBookmarks,function(){return n.push("/i/bookmarks")}),t)),e=i.props.loggedInUserScreenName?t:e;i._unbindKeyboardShortcuts=Object(y.a)(e)}),h()(s()(i),"_handleKeyDown",function(e){I(e)||"Backspace"!==e.key||(i._backspaceDown=Date.now(),e.preventDefault(),e.stopPropagation())}),h()(s()(i),"_handleKeyUp",function(e){var t;I(e)||"Backspace"!==e.key||(e.preventDefault(),e.stopPropagation(),t=i._backspaceDown,e=!!Object(P.a)(t)&&Date.now()-t<500,t=Object(S.a)({},{location:i.props.location}),e&&t?i.props.history.goBack():window.close())}),i}return i()(c,[{key:"componentDidMount",value:function(){this._bindKeyboardShortcuts(),w.b.isKaiOS()&&b.a.isStandaloneApp()&&(document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp))}},{key:"componentWillUnmount",value:function(){this._unbindKeyboardShortcuts&&this._unbindKeyboardShortcuts(),w.b.isKaiOS()&&b.a.isStandaloneApp()&&(document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp))}},{key:"render",value:function(){return this.props.loggedInUserScreenName?m.createElement(E.a,{accessibilityLevel:2,accessibilityRole:"heading",style:k.a.visuallyHidden},m.createElement(O.c,null,D),m.createElement(O.c,{focusable:!1,link:"/i/keyboard_shortcuts"},j)):null}}]),c}(m.Component);h()(p,"contextType",c.a);p=u(p),n=v.canUseDOM?Object(o.a)(p):Object(n.a)(null);t.a=n},yt7X:function(e,t,n){"use strict";n("OZaJ");var r=n("VrFO"),c=n.n(r),o=n("Y9Ll"),a=n.n(o),i=n("1Pcy"),s=n.n(i),r=n("5Yy7"),u=n.n(r),o=n("N+ot"),l=n.n(o),i=n("AuHH"),p=n.n(i),r=n("KEM+"),f=n.n(r),d=(n("2G9S"),n("hBvt"),n("ERkP")),h=n("6/RC"),m=n.n(h),o=n("rxPX"),y=n("RqPI"),i=Object(o.a)().propsFromState(function(){return{currentCountry:y.l}}),r=n("s9SB"),v=n.n(r),b=n("MWbm"),_=n("t62R"),g=n("cHvH"),S=n("rHpw"),w=n("/yvb"),o=n("v6aA"),r=n("3XMw"),E=n.n(r),k=(n("vrRf"),n("cnVF"));var O=E.a.ia5e7487,n=function(e){u()(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=p()(n);return t=r?(e=p()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),l()(this,t)});function i(){var e;c()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),f()(s()(e),"state",{euWarningIsOpen:!1}),f()(s()(e),"_renderMessage",function(){return d.createElement(_.c,{color:"white",size:"small"},d.createElement(E.a.I18NFormatMessage,{$i18n:"i3c34582"},d.createElement(_.c,{color:"white",link:"https://help.twitter.com/rules-and-policies/twitter-cookies",style:T.link},E.a.fd0ff73b)))}),f()(s()(e),"_handleEUBannerClose",function(){m.a.canUseDOM&&(document.cookie=v.a.serialize(k.i,"1",{maxAge:31536e3,path:"/",domain:".twitter.com",secure:!0})),e.setState({euWarningIsOpen:!1})}),e}return a()(i,[{key:"componentDidMount",value:function(){var e=this.props.currentCountry,t=this.context.featureSwitches.getArrayValue("responsive_web_eu_countries",[]),n=h.canUseDOM?v.a.parse(document.cookie):{};this.setState({euWarningIsOpen:!!e&&function(e,t,n){t=-1<e.indexOf(t.toLowerCase()),n=n[k.i];return t&&"1"!==n}(t,e,n)})}},{key:"render",value:function(){var t=this;return this.state.euWarningIsOpen?d.createElement(g.a,null,function(e){e=e.windowWidth<S.a.theme.breakpoints.medium;return d.createElement(b.a,{style:[T.root,e&&T.rootNarrow]},t._renderMessage(),d.createElement(w.a,{onPress:t._handleEUBannerClose,size:"normal",style:[T.closeButton,e&&T.closeButtonNarrow],type:"invertedSecondary"},O))}):null}}]),i}(d.Component);f()(n,"contextType",o.a);var T=S.a.create(function(e){return{root:{alignItems:"center",boxShadow:e.boxShadows.medium,flexDirection:"row",width:"100%",justifyContent:"space-evenly",backgroundColor:e.colors.gray900,paddingHorizontal:e.spaces.space20,paddingVertical:e.spaces.space20},rootNarrow:{flexDirection:"column"},container:{alignItems:"center",flexShrink:1},closeButton:{marginLeft:e.spaces.space12,marginTop:0,flexGrow:0,flexShrink:0},closeButtonNarrow:{marginLeft:0,marginTop:e.spaces.space12,width:"100%"},link:{textDecorationLine:"underline"}}}),n=i(n);t.a=n}}]);

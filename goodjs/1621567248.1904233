(window.webpackJsonp=window.webpackJsonp||[]).push([[390],{1908:function(e,t,n){e.exports=n.p+"amplitude.ext.68ea06.js"},2024:function(e,t,n){"use strict";n.r(t),n.d(t,"getAdaptor",(function(){return I})),n.d(t,"getAssets",(function(){return P})),n.d(t,"name",(function(){return T}));n(37);var o=n(10),r=n.n(o),i=n(8),a=n.n(i),c=n(6),s=n.n(c),l=n(94),d=n(18);const p=Object(d.createLogger)("amplitude adaptor"),{METRICS_API_AMPLITUDE_KEY_CLIENT:u,METRICS_API_TEST_PREFIX_CLIENT:f,METRICS_API_AMPLITUDE_ENDPOINT:v="amplitude.weather.com"}=l.env,g=f?f+"_":"",m={apiEndpoint:v};function I({userId:e}){const t={sendMetricsEvent:C,setUserProperties:A,resetUserAndDeviceId:w,getUserId:_},n=e||null,o=window.amplitude.getInstance();return o.init(u,n,m),p.debug({adaptor:t,amplitudeClient:o},"getAdaptor() called for Amplitude"),t}function _(){var e;const t=M();return null==t||null===(e=t.options)||void 0===e?void 0:e.userId}function w(){const e=M();e&&(e.setUserId(null),e.regenerateDeviceId())}function C({type:e,props:t}){switch(e){case"pageview":!function(e){const{allowFullMetrics:t,anonymizedURL:n,partner:o,city:r,adminDistrictCode:i,countryCode:a,campaign:c,tpcc:s,articleTitle:l,fromString:d,locale:p,referrer:u,pageKey:f,siteMode:v,deviceClass:g,metricsUsed:m,gdprConsentOptIns:I,ccpaSaleOptIn:_,adsMetricsUnitAndZone:w}=e;k("pageview",{url:n,siteMode:v,deviceClass:g,pageKey:t?f:"privacy_opt_out",pageLocale:p,referrer:t?u:"privacy_opt_out",wlocCity:t?r:"privacy_opt_out",wlocState:t?i:"privacy_opt_out",wlocCountry:t?a:"privacy_opt_out",articleHeadline:l,par:o||"",campaign:t?c:"privacy_opt_out",fromString:d,metricsUsed:m,priv:I,privProduct:_,adsMetricsUnitAndZone:w,tpcc:s})}(t);break;case"trackstring":!function(e){const{pageCode:t,deviceClass:n,trackString:o,allowFullMetrics:r}=e;if(!r)return;k("trackstring",{pageCode:t,deviceClass:n,trackString:o})}(t);break;case"daybreakbeacon":!function(e){p.info(e,"Called: doDaybreakBeacon with props");const{allowFullMetrics:t,trackString:n}=e;if(!t)return;k("daybreakbeacon",{trackString:n})}(t);break;case"videobeacon":!function(e){const{allowFullMetrics:t,allowAgof:n,agofParams:o,locale:r,pageCode:i,deviceClass:a,url:c,partner:l,fromString:d,eventName:p,referrer:u,videoAsset:f,collectionId:v,adBlock:g,muted:m}=e;let I={title:null==f?void 0:f.title,locale:r};t&&(I={...I,referrer:u,url:c,assetName:null==f?void 0:f.assetName,id:null==f?void 0:f.id,providername:(null==f?void 0:f.providername)||"no-provider-data",partner:l,fromString:d,lastModifiedDate:null==f?void 0:f.lastmodifieddate,pageCode:i,deviceClass:a,collectionId:v,adBlock:g,muted:m});const _="de-DE"===r&&s()(p).call(p,"videoattempt");n&&_&&(I={...I,st:o.st,cp:o.cp});k(p,I)}(t);break;default:p.error({type:e,props:t},"Adaptor for Amplitude got nonstandard beacon")}}function y(e,t){200!==e&&p.error("Response:",e,t)}function k(e,t){if(g){var n;e=""+g+e;const o={};a()(n=r()(t)).call(n,e=>{void 0!==t[e]&&(o[""+g+e]=t[e])}),t=o}b("logEvent",[e,t,y])}function A(e){b("setUserProperties",[e])}function b(e,t){const n=M(),o=()=>{n[e].call(n,...t),p.debug(t,e+"() called on Amplitude client instance")};n._isInitialized?o():n.onInit(o)}function E(e){const{options:t={}}=e;e.options={...t,...m}}function M(){const e=function(){const e=window.amplitude;return E(e),e}().getInstance();return E(e),e}var S=n(1908),U=n.n(S);function P(){return[U.a]}const T="amplitude"}}]);
//# sourceMappingURL=390.amplitude.07512c9994836b4b145d.js.map
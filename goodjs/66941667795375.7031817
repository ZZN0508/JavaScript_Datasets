!function(){var i={isLoggedIn:function(e){if("boolean"==typeof e)return e;var t=i.readCookie("amexsessioncookie"),n=i.readCookie("blueboxvalues"),a=i.readCookie("SMSESSION"),o=!1;if(null!==t&&""!==t){if(e=(new Date).getTime(),!(t=/uts=([^|]+)/.exec(t)))return!1;(e-parseInt(t[1],10))/6e4<5&&(o=!0)}else(null!==n&&""!==n||null!==a&&"LOGGEDOFF"!==a)&&(o=!0);return o},readCookie:function(e){for(var t=document.cookie.split(";"),n="".concat(e,"="),a=null,o=0;o<t.length;o+=1){var i=t[o].trim();if(0===i.indexOf(n)){a=i.substring(n.length,i.length);break}}return a},appendQueriesToUrl:function(e){var o=e.url,e=e.queries,i=o;return e.forEach(function(e){var t=e.key,n=e.value;if(-1<i.indexOf("".concat(t,"="))){var a=(e=new RegExp("[\\?&]".concat(t,"=([^&#]*)"))).exec(o)[0].charAt(0),a=o.replace(e,"".concat(a).concat(t,"=").concat(n));return"undefined"===n&&(a=a.replace(new RegExp("[\\?&]".concat(t,"=").concat(n)),"")),void(i=a)}"undefined"!==n&&(a=-1<i.indexOf("?")?"&":"?",i="".concat(i).concat(a).concat(t,"=").concat(n))}),i},appendDestPageQuery:function(e,t){return i.appendQueriesToUrl({url:e,queries:[{key:"DestPage",value:encodeURIComponent(t)}]})},updateAuthView:function(e){try{var t=document.getElementById("gnav_logout"),n=document.getElementById("gnav_login");i.isLoggedIn(e)?(t.style.display="inline-block",n.style.display="none"):(t.style.display="none",n.style.display="inline-block")}catch(e){}},setLoginDestPage:function(e){try{var t=document.getElementById("gnav_login");t.href=i.appendDestPageQuery(t.href,e)}catch(e){}},setLogoutDestPage:function(e){try{var t=document.getElementById("gnav_logout");t.href=i.appendDestPageQuery(t.href,e)}catch(e){}}};i.updateAuthView(),window.AmexNavigation={updateAuthView:i.updateAuthView,setLoginDestPage:i.setLoginDestPage,setLogoutDestPage:i.setLogoutDestPage}}();var browserType=navigator.userAgent;function getParentWithClass(e,t){for(var n=e;n.className.indexOf(t)<0;)n=n.parentElement;return n}function showMessageHideAll(){document.querySelector("#amex-header").style.display="none",document.querySelector("#amex-footer").style.display="none";var e=getParentWithClass(document.querySelector(".conditional-container"),"aem-GridColumn");if(e){var t=e.parentNode;if(e){var n=t.children;for(i=0;i<n.length;i++)n[i]&&(0<n[i].querySelectorAll(".conditional-container").length?document.querySelector(".legacy-browser").style.display="block":n[i].style.display="none")}}}0<=browserType.indexOf("MSIE")&&(document.onreadystatechange=function(){console.debug("onreadystatechange"),"complete"!==document.readyState&&"interactive"!==document.readyState||showMessageHideAll()});var digitalData={page:{pageInfo:{pageName:"Homepage",country:"TW",language:"zh",currency:"",pageID:"TW|AMEX|Home|Homepage",reportSuite:""},category:{businessUnit:"AMEX",primaryCategory:"",subCategory1:"Home",subCategory2:"",subCategory3:""}},event:[]},excludeOmniture=!0;window._satellite&&window._satellite.pageBottom(),void 0===digitalData&&(window.digitalData=new Object),void 0===digitalData.event&&(window.digitalData.event=[]),window.digitalData.eventDataReady=function(e){"undefined"!=typeof s&&s.clearVars(),digitalData.event[digitalData.event.length-1].eventInfo&&(digitalData.event[digitalData.event.length-1].eventInfo.type?_satellite.track(digitalData.event[digitalData.event.length-1].eventInfo.type):digitalData.event[digitalData.event.length-1].eventInfo.eventType&&_satellite.track(digitalData.event[digitalData.event.length-1].eventInfo.eventType))};

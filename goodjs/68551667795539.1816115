function build_ga_track_event(e,t,a){return"_gaq.push(['_trackEvent', "+e+", "+t+", "+a+"]);dataLayer.push({'event': 'trackEvent','eventDetails.category': "+e+", 'eventDetails.action': "+t+", 'eventDetails.label': "+a+"});"}function build_ga_custom_track_share_thread(e,t,a,s,i){var o=s.attr("data-threadid"),r=decodeURIComponentSafe(s.attr("data-title")).replace("&#92;",""),n=s.attr("data-author"),l=s.attr("data-forum-id"),d=s.attr("data-forum-name"),c=s.attr("data-forum-parent-id"),u=s.attr("data-forum-parent-name"),p=s.attr("data-channel-id"),m=s.attr("data-channel-name"),h="_gaq.push(['_trackEvent', '"+e+"', '"+t+"', '"+a+"']);",f=user_id,s=s.attr("data-profile-user-id"),m={event:"trackEvent","eventDetails.category":e,"eventDetails.action":t,"eventDetails.label":a,threadShared:"1",userID:f=void 0!==s&&!1!==s?s:f,threadId:o,threadTitle:r,author:n,forumId:l,forumName:d,forumParentId:c,forumParentName:u,channelId:p,channelName:m};return i&&(m=Object.assign(m,i)),h+"dataLayer.push("+JSON.stringify(m).replace(/"/g,"'")+");"}function decodeURIComponentSafe(e,t){var a,s,i,o=new String,r=0;for(void 0===t&&(t=0),s=(a=e.split(/(%(?:d0|d1)%.{2})/)).length;r<s;r++){try{i=decodeURIComponent(a[r])}catch(e){i=t?a[r].replace(/%(?!\d+)/g,"%25"):a[r]}o+=i}return o}function buildAdditionalCustomMetricAttr(e){var t=e.attr("data-author"),a=decodeURIComponentSafe(e.attr("data-title")).replace("&#92;",""),s=e.attr("data-forum-id"),i=e.attr("data-forum-name"),o=e.attr("data-forum-parent-id"),r=e.attr("data-forum-parent-name"),n=e.attr("data-channel-id"),l=e.attr("data-channel-name"),d=user_id,e=e.attr("data-profile-user-id");return'data-userid="'+(d=void 0!==e&&!1!==e?e:d)+'" data-author="'+t+'" data-title="'+a+'" data-forumid="'+s+'" data-forum-name="'+i+'" data-forum-parentid="'+o+'" data-forum-parent-name="'+r+'" data-channelid="'+n+'" data-channel-name="'+l+'" '}function createThreadlistShareMenuData(e){var t,a,s,i,o,r,n,l,d,c,u,p,m,h=e.parent().find(".jsPopoverMenu:first");"false"==h.attr("data-created")&&(t=h.attr("data-thread-subscription"),u=h.attr("data-subscribe-tracking"),a=h.attr("data-subscribe-label"),s=h.attr("data-is-subscribe"),i=h.attr("data-threadid"),o=h.attr("data-forum-id"),r=decodeURIComponentSafe(h.attr("data-title")).replace("&#92;",""),m=h.attr("data-slugtitle"),n=h.attr("data-show-button-first-post"),l=h.attr("data-show-button-goto-last-post"),p=h.attr("data-last-post-id"),h.attr("data-fb-href"),d=h.attr("data-fb-url"),c=h.attr("data-twitter-href"),e="",e="true"==s?'<a href="javascript:void(0);"class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px) jsSubscribeThreadIcon"data-type="thread" '+("true"==t?'data-thread-subscription="true" ':"")+'data-id="'+i+'" '+buildAdditionalCustomMetricAttr(h)+'data-label="'+a+'" data-state="unsubscribe" data-style="menu" data-category="'+u+'"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-bookmark fa-fw"></i><span class="Fz(12px)">'+window.KASKUS_lang.unsubscribe_button+"</span> </a>":'<a href="javascript:void(0);" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px) jsSubscribeThreadIcon"data-type="thread" data-id="'+i+'" '+buildAdditionalCustomMetricAttr(h)+'data-label="'+a+'" data-state="subscribe" data-style="menu" data-category="'+u+'"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-bookmark fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.subscribe_button+"</span> </a>",u="","true"==n&&(u='<li class="D(b)"><a href="/thread/'+i+"/"+m+'?goto=newpost" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"><i class="Mend(12px) Va(m) fas Fz(14px) fa-chevron-square-down fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.go_first_new_post_button+"</span> </a> </li>"),m="","true"==l&&(m='<li class="D(b)"><a href="/lastpost/'+i+"#post"+p+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)" rel="nofollow"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-chevron-square-right fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.go_last_post_button+"</span> </a></li>"),p="",null==d&&null==c||(p='<div class="H(1px) Bgc(#d4d4d4) Mx(10px)"></div> ',null!=d&&(p+='<li class="D(b) Cur(p)"> <a href="javascript:void(0);" data-url="'+d+'" data-threadid="'+i+'" onclick="threadlist_facebook_share(\''+d+"', '"+i+"');"+build_ga_custom_track_share_thread("'"+o+" "+r+"'","'share thread'","'facebook'",h)+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"> <i class="Mend(12px) Va(m) fab Fz(14px) fa-facebook-square fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.share_facebook_button+"</span> </a></li>"),null!=c&&(p+='</li> <li class="D(b) Cur(p)"> <a target="_blank" href="'+c+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'twitter');"+build_ga_custom_track_share_thread("'"+o+" "+r+"'","'share thread'","'twitter'",h)+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"> <i class="Mend(12px) Va(m) fab Fz(14px) fa-twitter-square fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.share_twitter_button+"</span> </a> </li> "),p+='<div class="H(1px) Bgc(#d4d4d4) Mx(10px)"></div>'),m='<ul><li class="D(b) Cur(p)">'+e+"</li>"+p+u+m+"</ul>",h.attr("data-created","true"),h.append($.parseHTML(m)),$(".jsSubscribeThreadIcon").click(function(){subscribeUnsubscribe($(this))}))}function bindThreadListShareMenuData(){$(".jsThreadListShareMenuData").click(function(){createThreadlistShareMenuData($(this))})}function forumAllEventTracking(){$(".jsChannelForumButton").length&&$(".jsChannelForumButton").click(function(){var e=$(this).attr("data-state"),t=$(this).attr("data-id");dataLayer.push({event:"trackEvent","eventDetails.category":"forumall","eventDetails.action":e+" channel","eventDetails.label":"channel-"+t}),"open"===e?$(this).attr("data-state","close"):$(this).attr("data-state","open")})}function bindForumAllIconCancel(){$("#search-icon").length&&$("#search-icon").click(function(){$(this).hasClass("fa-times")&&($("#search-category").val(""),hide_forum_all_search_result(),change_forum_all_icon_search())})}function bindForumAllSearchResult(){$("#search-result").length&&$("#search-result").children().length&&(jQuery.expr[":"].icontains=function(e,t,a){return 0<=jQuery(e).text().toUpperCase().indexOf(a[3].toUpperCase())},$("#search-category").keyup(function(e){return phrase=$(this).val(),""===phrase||void 0===phrase?(hide_forum_all_search_result(),change_forum_all_icon_search(),!1):(show_forum_all_search_result(),change_forum_all_icon_cancel(),$("#search-result").children().hide(),search_container=$(".listForumItem span span:icontains("+phrase+")"),void search_container.closest(".listForumItem").show())}))}function bindForumAllSubscribeEvent(){$("[id^=bookmark-forum]").length&&$("[id^=bookmark-forum]").click(function(){return subscribeUnsubscribe($(this)),!1}),$("[id^=bookmark-search-forum]").length&&$("[id^=bookmark-search-forum]").click(function(){return subscribeUnsubscribe($(this)),!1})}function show_forum_all_search_result(){$(".jsChannelForumItem").hide(),$("#search-result").show()}function hide_forum_all_search_result(){$(".jsChannelForumItem").show(),$("#search-result").hide()}function change_forum_all_icon_search(){$("#search-icon").hasClass("fa-times")&&($("#search-icon").removeClass("fa-times"),$("#search-icon").addClass("fa-search"))}function change_forum_all_icon_cancel(){$("#search-icon").hasClass("fa-search")&&($("#search-icon").removeClass("fa-search"),$("#search-icon").addClass("fa-times"))}function bindTrhHome(){0<$("#recommended-thread-home").length&&$.get(url_recommendation,function(e){var o,r;!1!==(e="object"!=typeof e?$.parseJSON(e):e).result&&(r=o="",$.each(e.result,function(e,t){var s=1,i=Object.keys(t).length;o+='<div id="'+e+'" class="Px(15px) Py(15px) Bgc(c-white) Bd(borderSolidLightGrey) Mb(15px)"'+r+'><div class="D(f) Ai(c) Mb(15px)">',o+='<img src="'+assetsFolderNew+'/images/ic-rekomendasi-thread.svg" width="28" alt="recommended-thread">',o+='<div><span class="Ff(VagRounded) Lts(0.2px) Fz(20px) Mstart(10px) D(ib) Mt(4px) Mend(5px)">',o+=window.KASKUS_LANG.thread_recommendation_title,o+="</span></div></div>",$.each(t,function(e,t){var a=++s<=i?"Bdb(borderSolidLightGrey) ":"";o+='<a class="C(c-dark-grey)" href="'+t.href+'" onclick="'+t.ga_track+'">',o+='<div class="D(f) Mb(10px) '+a+'Pb(15px)">',o+='<div class="Fx(flexOne)">',o+='<div class="C(c-dark-grey) Fz(14px) Lh(19px) Lts(0.1px) Fw(500)">'+t.title+"</div>",o+='<a href="'+t.forum_href+'" class="C(c-secondary)" onclick="'+t.ga_track+'">',o+='<div class="Fz(12px) C(c-secondary) Mt(5px)">'+t.forum_name+"</div></a></div>",Boolean(t["data-img-src"])&&(o+='<a class="W(60px) H(60px) Fx(flexZero) Mstart(10px) Bdrs(5px) Bdrsbstart(0) Ov(h)" href="'+t.href+'" onclick="'+t.ga_track+'">',o+='<img alt="'+t.slug_title+'" data-src="'+t["data-img-src"]+'" class="mls-img Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%)" >',o+="</a>"),o+="</div></a>",r=' style="display: none;"'}),o+="</div>"}),$("#recommended-thread-home").replaceWith(o),$(".mls-img").kslzy(300),1<Object.keys(e.result).length&&dataLayer.push({event:"optimize.activate"}))})}function bindTrhThreadList(){0<$("#recommended-thread-threadlist").length&&$.post(url_recommendation,{hot_threads:hot_thread_data},function(e){var o,a,s,r;!1!==(e="object"!=typeof e?$.parseJSON(e):e).result&&(o="",o+='<div class="Px(15px) Py(15px) Bgc(c-white) Bd(borderSolidLightGrey) Mb(15px)">',o+='<div class="D(f) Ai(c) Mb(15px)">',o+='<img src="'+assetsFolderNew+'/images/ic-rekomendasi-thread.svg" width="28" alt="recommended-thread">',o+="<div>",o+='<span class="Ff(VagRounded) Lts(0.2px) Fz(20px) Mstart(10px) D(ib) Mt(4px) Mend(5px)">'+window.KASKUS_LANG.thread_recommendation_title+"</span>",o+="</div>",o+="</div>",s="",r=a=0,$.each(e.result,function(e,t){0==Object.keys(t).length?a++:""==s&&(s=e)}),$.each(e.result,function(e,t){var i=Object.keys(t).length;$.each(t,function(e,t){var a=++r<i?"Bdb(borderSolidLightGrey) ":"",s=t.ga_track?' onclick="'+t.ga_track+'"':"";o+='<a class="C(c-secondary) Td(n):h '+t.model_name+'" href="'+t.href+'"'+s+' style="display: none;">',o+='<div class="D(f) Mb(10px) '+a+'Pb(15px)">',o+='<div class="Fx(flexOne)">',o+='<div class="C(c-dark-grey) Fz(14px) Lh(19px) Lts(0.1px) Fw(500)">'+t.title+"</div>",o+='<div class="Fz(12px) C(c-secondary) Mt(5px)">'+t.thread_label+"</div>",o+="</div>",Boolean(t.image_source)&&(o+='<div class="Fx(flexZero) Mstart(10px) Bdrs(5px) Bdrsbstart(0) Ov(h) W(60px) H(60px)">',o+='<img alt="'+t.slug_title+'" data-src="'+t["data-img-src"]+'" class="mls-img Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%)" >',o+="</div>"),o+="</div>",o+="</a>"})}),o+="</div>",0<r&&$("#recommended-thread-threadlist").replaceWith(o),$(".mls-img").kslzy(300),""!=s&&$("."+s).show(),1<Object.keys(e.result).length&&0==a&&dataLayer.push({event:"optimize.activate"}))})}function bindSubscribeButton(){"function"==typeof subscribeUnsubscribe?($(".jsSubscribeThreadIcon").unbind(),$(".jsSubscribeThreadIcon").click(function(){return subscribeUnsubscribe($(this)),!1})):window.setTimeout(bindSubscribeButton,1e3)}function bindOpenWhoPosted(){"function"==typeof openWhoPosted?($(".openwhoposted").unbind(),$(".openwhoposted").on("click",function(e){e.preventDefault(),openWhoPosted($(this))})):window.setTimeout(bindOpenWhoPosted,1e3)}!function(r){r.fn.kslzy=function(i,a){var o=r(window),s=this;function e(){var e=s.filter(function(){return 0!=r(this).is(":visible")&&function(e){var t=r(e).closest(".spoiler");1==t.length&&(e=t);var a=o.height(),s=o.scrollTop(),t=r(e).offset().top,e=r(e).height();return t<a+s+i&&s-e-i<t}(r(this))}),t=void 0!==a?e.trigger(a):e.trigger("display");s=s.not(t)}return i=i||0,this.one("display",function(){var t,e,a=new Image;"DIV"==r(this).prop("tagName")||"A"==r(this).prop("tagName")?(t=this,a.onload=function(){var e;r(t).removeClass("mls-img").addClass("rjn-img").removeAttr("data-src").hide().fadeIn(),"1"==r(t).attr("data-type")?r(t).css("background-image","url("+this.src+")"):((e=r('<img class="lte-img">')).attr("src",this.src),e.appendTo(r(t)))}):(e=this,a.onload=function(){r(e).removeClass("mls-img").addClass("rjn-img").removeAttr("data-src"),r(e).attr("src",this.src)}),void 0!==r(this).attr("data-src")&&(a.src=r(this).attr("data-src"))}),this.one("fetch_twitter",function(){var s=r(this).prev(),e=r(this).data("url");r.ajax({url:"https://publish.twitter.com/oembed?url="+e,type:"GET",dataType:"jsonp",success:function(e){"object"!=typeof e&&(e=r.parseJSON(e)),r(s).css("max-width","480px"),e.html?r(s).children("div").html(e.html):r(s).children("div").html('<img src="'+assetsFolderNew+'/images/image-twitter-invalid-placeholder.svg">')},error:function(e,t,a){r(s).css("max-width","480px"),r(s).children("div").html('<img src="'+assetsFolderNew+'/images/image-twitter-invalid-placeholder.svg">')}})}),this.one("fetch_instagram",function(){var s=r(this).prev(),e=r(this).data("url");r.ajax({url:"https://graph.facebook.com/v8.0/instagram_oembed?url="+e+"&access_token="+FACEBOOK_CLIENT_TOKEN,type:"GET",dataType:"json",success:function(e){(e="object"!=typeof e?r.parseJSON(e):e).html?r(s).html(e.html):r(s).html('<img src="'+assetsFolderNew+'/images/image-ig-invalid-placeholder.svg" style="max-width:480px">')},error:function(e,t,a){r(s).html('<img src="'+assetsFolderNew+'/images/image-ig-invalid-placeholder.svg" style="max-width:480px">')}})}),o.on("scroll.kslzy resize.kslzy lookup.kslzy click.kslzy",e),e(),this}}(window.jQuery||window.Zepto);var whoposted_page=1,whoposted_load_more='<li id="whoposted-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="whoposted-load-more" onclick="load_more_whoposted()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Lihat Lainnya</a></li>',whoposted_urlAjax="";function openWhoPosted(e){whoposted_page=1,whoposted_urlAjax=e.attr("href"),$("#jsModalWhoPosted").empty();var a='<div class="modal-dialog jsModalDialog Ov(h)"><div class="modal-content jsModalContent"><div class="modal-section W(400px)"><div class="modal-header H(140px) Bgc(c-aqua-light) Bdrs(5px) Pos(r) Maw(360px) Mx(a) Bdrsbend(0) Bdrsbstart(0)"><div class="W(100%) H(130px) Bg(bgImageProps) Bgi(imagePopupWhoposted) Pos(a) B(0)"></div><button class="Pos(a) End(10px) T(10px) jsModalCloseButton Z(1)" type="button"><i class="fas fa-times C(#6e6e6e) Fz(20px)"></i></button></div><div class="modal-body Bgc(c-white) Bdrs(5px) Py(15px) Px(40px)"><div class="Fz(18px) Fw(700) Mb(20px)">Who Posted</div><div class="D(f) Jc(sb) Ai(c) Fz(13px) C(c-normal) Py(8px)"><div>Username</div><div class="W(80px)" id="whoposted_total_post">Post</div></div><div class="Ovy(a) Mah(350px) Mb(15px) Mt(10px)"><div class="D(f) Fld(c)" id="whoposted_list_user"><ul>';return a+='<img id="whoposted-loading-image" src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',a+="</ul></div></div></div></div></div></div>",$("#jsModalWhoPosted").html(a),bindJsModalCloseButton(),$.ajax({url:whoposted_urlAjax+"/?whoposted_page="+whoposted_page,success:function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#whoposted_list_user").empty(),whoposted_data=e.result.whoposted,post_userid=e.result.post_userid,thread_id=e.result.thread_id,total_post=parseInt(e.result.total_post)||0,whoposted_page=e.result.next_page,page_remaining=e.result.page_remaining,a="<ul>",0<Object.keys(whoposted_data).length?$.each(whoposted_data,function(e,t){void 0!==t.userid&&(a+='<li class="D(f) Ai(c) Mb(15px)"><a href="/profile/'+t.userid+'" target="_blank"><div class="Pos(r)"><img src="'+t.profile_picture+'" class="W(36px) H(36px) Bdrs(50%)">'+(t.is_online?'<i class="W(12px) H(12px) Bdrs(50%) Bgc(c-green) Pos(a) End(0) B(0) Bd(borderSolidGreen)"></i>':"")+'</div></a><div class="Fx(flexOne) Mx(10px) Ta(start)"><a href="/profile/'+t.userid+'" class="C(c-normal) D(f) Ai(c) Jc(fs) Mb(5px)" target="_blank">'+(t.userid==post_userid?'<span class="Bgc(#f8c31c) Bdrs(5px) P(3px) Fw(b) Fz(11px) Mend(5px)">TS</span>':"")+'<div class="Fz(13px) Fw(500)">'+t.username+'</div></a><div class="C(#a3a3a3) Fz(11px)">'+t.user_title+'</div></div><div class="W(80px)"><a href="/viewallposts/'+t.userid+"?thread_id="+thread_id+"&count="+t.total_post+'" class="Td(u):h C(c-normal) Fz(12px) Fw(500) Ta(c)">'+t.total_post+"</a></div></li>")}):a='<ul><li class="D(f) Ai(c) Mb(15px)">Empty Post</li></ul>',a+="</ul>",$("#whoposted_total_post").html("Post("+total_post+")"),$("#whoposted_list_user").html(a),0<page_remaining&&$("#whoposted_list_user ul").append(whoposted_load_more)}}),!1}function load_more_whoposted(){$("#whoposted-loadmore").hide(),html_view='<img id="whoposted-loading-image" src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',$("#whoposted_list_user ul").append(html_view),$.ajax({url:whoposted_urlAjax+"/?whoposted_page="+whoposted_page,success:function(e){"object"!=typeof e&&(e=$.parseJSON(e)),whoposted_data=e.result.whoposted,post_userid=e.result.post_userid,thread_id=e.result.thread_id,whoposted_page=e.result.next_page,page_remaining=e.result.page_remaining,html_view="",0<Object.keys(whoposted_data).length&&$.each(whoposted_data,function(e,t){void 0!==t.userid&&(html_view+='<li class="D(f) Ai(c) Mb(15px)"><a href="/profile/'+t.userid+'" target="_blank"><div class="Pos(r)"><img src="'+t.profile_picture+'" class="W(36px) H(36px) Bdrs(50%)">'+(t.is_online?'<i class="W(12px) H(12px) Bdrs(50%) Bgc(c-green) Pos(a) End(0) B(0) Bd(borderSolidGreen)"></i>':"")+'</div></a><div class="Fx(flexOne) Mx(10px) Ta(start)"><a href="/profile/'+t.userid+'" class="C(c-normal) D(f) Ai(c) Jc(fs) Mb(5px)" target="_blank">'+(t.userid==post_userid?'<span class="Bgc(#f8c31c) Bdrs(5px) P(3px) Fw(b) Fz(11px) Mend(5px)">TS</span>':"")+'<div class="Fz(13px) Fw(500)">'+t.username+'</div></a><div class="C(#a3a3a3) Fz(11px)">'+t.user_title+'</div></div><div class="W(80px)"><a href="/viewallposts/'+t.userid+"?thread_id="+thread_id+"&count="+t.total_post+'" class="Td(u):h C(c-normal) Fz(12px) Fw(500) Ta(c)">'+t.total_post+"</a></div></li>")}),$("#whoposted_list_user ul").append(html_view),$("#whoposted-loadmore").remove(),$("#whoposted-loading-image").remove(),0<page_remaining&&$("#whoposted_list_user ul").append(whoposted_load_more)}})}function bindJsModalCloseButton(){$(".jsModalCloseButton").click(function(){$(".jsModal").removeClass("is-open"),$("body").removeClass("Ov(h)")})}$(".openwhoposted").on("click",function(e){e.preventDefault(),openWhoPosted($(this))});var htLoadNumber=0,load_ht_without_cursor=1,ht_is_loading=!1;function show_ht_channel(e){show_request_fcm_popup(),ht_is_loading=!0;var a=$(window).scrollTop(),s='<a id="ht-next" class="Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)" data-tracking="'+data_tracking+'" data-channel="'+e+'">Lanjut Gan!</a>',t=$("#ht_counter").val(),i=$("#ht_cursor").val(),o=$("#ht_hash_key").val();$("#ht-loading-area").html(next_ht_image),$.ajax({url:"/misc/get_hotthread_channel/"+t+"/"+e,dataType:"json",type:"post",data:{cursor:i,disable_cursor:load_ht_without_cursor,exc_thread_ids:o},success:function(e){$(e.html).insertBefore($("#ht-loading-area")),$("#ht-loading-area").html(s),$("#ht_counter").val(e.counter);var t=$("#ht_cursor").val();0==load_ht_without_cursor?e.cursor&&t!=e.cursor||removeHtAutoload():bindHtNext(),load_ht_without_cursor=e.next,$("#ht_cursor").val(e.cursor),ht_is_loading=!1,$(".mls-img").kslzy(300),window.scrollTo(0,a),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,a+1),bindSubscribeButton(),bindOpenWhoPosted(),bindThreadListShareMenuData(),htLoadNumber++,dataLayer.push({event:"trackEvent","eventDetails.category":data_tracking,"eventDetails.action":"load more "+htLoadNumber,"eventDetails.label":"hot thread"})},error:function(){ht_is_loading=!1,removeHtAutoload()}})}function removeHtAutoload(){window.removeEventListener("resize",htloadnext),window.removeEventListener("scroll",htloadnext),window.removeEventListener("touch",htloadnext),window.removeEventListener("click",htloadnext),$("#ht-next").hide()}function htloadnext(){var e;0==ht_is_loading&&isElementInViewport($("#ht-next"))&&(e=$("#ht-next").attr("data-channel"),$("#ht-next").attr("data-tracking"),show_ht_channel(e))}function bindHtNext(){0<$("#ht-next").length&&(window.addEventListener("resize",htloadnext,{passive:!0}),window.addEventListener("scroll",htloadnext,{passive:!0}),window.addEventListener("touch",htloadnext,{passive:!0}),window.addEventListener("click",htloadnext,{passive:!0}))}function isElementInViewport(e,t){t=t||0,$w=$(window);var a=$w.height(),s=$w.scrollTop(),i=$(e).offset().top,e=$(e).height();return i<a+s+t&&s-e-t<i}var spoilerTemplate,quoteTemplate,mentionToolbar,mentionTemplate,youtubeId,youtubeTemplate,twitterTemplate,instagramTemplate,vimeoId,KASKUS_PODCAST_URL,vimeoTemplate,podcastProgramTemplate,podcastEpisodeTemplate,twitchTemplate,fbvideoTemplate,soundcloudId,soundcloudTemplate,dailymotionId,dailymotionTemplate,smuleId,smuleTemplate,kaskusTvVodTemplate,KaskusTvLivetemplate,KaskusLiveTemplate,pic,pic2,pic3,pic4,pic5,pic6,pic7,pic8,pic9,pic10,pic11,pic12,pic13,textareaSCeditor,toolbarSCEditor,heightSCEditor,createThreadEditor,sceditorInstance,tl_limit=20,tl_is_loading=!1,tl_page=1;function show_thread_list(e,t,a,s,i){tl_is_loading=!0;var o=$(window).scrollTop();$.post("/misc/get_threadlist_forum_landing/",{sort:e,cursor:t,order:a,feedtype:s,channel:i},function(e){tl_page++;var t=e.totalcount;$(e.html).insertBefore($("#threadlist-loading-area")),$("#tl_cursor").val(e.cursor),$(".mls-img").kslzy(300),window.scrollTo(0,o),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,o+1),bindSubscribeButton(),bindOpenWhoPosted(),bindThreadListShareMenuData(),bindJsTippy(),t<tl_limit||1e3<tl_page?($("#threadlist-loading-area").hide(),window.removeEventListener("resize",tlload),window.removeEventListener("scroll",tlload),window.removeEventListener("touch",tlload),window.removeEventListener("click",tlload)):tl_is_loading=!1},"json")}function updateNotice(e){var t=$.parseJSON($.cookie("notices"));t.push(e),$.cookie("notices",JSON.stringify(t),{expires:null,path:"/",domain:"",secure:!1})}function bindNotice(){0<$(".btn_close").length&&$(".btn_close").click(function(){var e=$(this).closest(".jsNoticeBoard");updateNotice(e.attr("data-id")),e.remove()})}function setThreadDisplay(e){var t=$("body").hasClass("is-title"),a="compact";$("body").hasClass("is-compact")&&(a="thumb"),"forum"!=e||t||(a="list"),$.ajax({url:"/misc/set_thread_list_display/"+a+"/"+e,success:function(e){location.reload()},error:function(){}})}function bindSetThreadDisplay(){var e;0<$(".jsCompactTrigger").length&&(e=$(".jsCompactTrigger").attr("data-style"),$(".jsCompactTrigger").click(function(){setThreadDisplay(e)}))}function setFeedDisplay(e){$(".jsFeedTrigger").unbind("click"),$.ajax({url:"/misc/set_feed_display/"+e,success:function(e){bindSetFeedDisplay();var t=(t=location.search.replace("&feed=all","")).replace("feed=all","");window.location=t},error:function(){bindSetFeedDisplay()}})}function bindSetFeedDisplay(){0<$(".jsFeedTrigger").length&&$(".jsFeedTrigger").click(function(){setFeedDisplay($(this).attr("data-style"))})}function bindSetSubcategoryItem(e){$(e).hasClass("is-selected")?$(e).removeClass("is-selected"):$(e).addClass("is-selected"),0==$(".jsCategoryPersonalizationItem.is-selected").length?($(".jsButtonSubscribe").addClass("is-disabled"),$(".jsButtonSubscribe button").prop("disabled",!0),$(".jsButtonSubscribe button").toggleClass("Bgc(c-grey-light) C(c-grey) Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)")):1==$(".jsCategoryPersonalizationItem.is-selected").length&&$(".jsButtonSubscribe").hasClass("is-disabled")&&($(".jsButtonSubscribe").removeClass("is-disabled"),$(".jsButtonSubscribe button").prop("disabled",!1),$(".jsButtonSubscribe button").toggleClass("Bgc(c-grey-light) C(c-grey) Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)"))}function bindSetjsCategoryPersonalizationItem(){$("#subscribedFeed").click(function(){var e=[],a=[];$(".jsCategoryPersonalizationItem.is-selected").each(function(){e.push($(this).attr("data-forumid")),a.push("forum-"+$(this).attr("data-forumid")),dataLayer.push({forumSubscriber:1,userID:$(this).attr("data-userid"),forumId:$(this).attr("data-forumid"),forumName:$(this).attr("data-forumname"),forumParentId:$(this).attr("data-forumParentId"),forumParentName:$(this).attr("data-forumParentName"),channelId:$(this).attr("data-channelId"),channelName:$(this).attr("data-channelName")})}),$.ajax({url:"/misc/subscribe_multiple_forum",type:"post",data:{forumIds:e},success:function(e,t){"ok"==$.parseJSON(e).status?(dataLayer.push({event:"trackEvent","eventDetails.category":"feeds subscription","eventDetails.action":"subscribe","eventDetails.label":a.join(",")}),location.reload()):window.location="/user/login/forum"},error:function(e){window.location="/user/login/forum"}})}),$("#subscribedFeedLater").click(function(){dataLayer.push({event:"trackEvent","eventDetails.category":"feeds subscription","eventDetails.action":"skip","eventDetails.label":""}),setFeedDisplay("all_feed")})}function bindSetjsButtonSubscribe(){$(".jsCategoryPersonalizationItem").click(function(){bindSetSubcategoryItem($(this))})}function spoiler(e){"Show"==e.value?($(".content_"+$(e).attr("class")).slideDown(0),e.innerHTML="",e.value="Hide"):($(".content_"+$(e).attr("class")).slideUp(0),e.innerHTML="",e.value="Show")}function get_smilies(){var e;localSmilies=get_MRU(),localSmilies&&(e={smilies:$.param(localSmilies)}),$.ajax({method:"POST",url:"/misc/get_smilies",data:e||{},success:function(e){e=JSON.parse(e),smilies=JSON.parse(e.kaskus),$(".smilies-tab").replaceWith(smilies.tab),$(".smilies-tab-content").replaceWith(smilies.content),e.mru?(smilies_mru=e.mru,$("#content-mru").html(smilies_mru),$("#mru").addClass("active"),$("#content-mru").addClass("active"),load_MRU()):$("#mru").hide(),show_tab(".smiley-wrapper .smiley-tab .tab-content > .active"),$(".smiley-tab__item").not(".smiley-tab__item--unavailable").find(".smilie__in-action").click(function(){get_focus(),smiley_tracking(this.children),insert_smilikiti(this.children)}),$("#emoticons").show()}})}function printDiv(e){window.frames.print_frame.document.body.innerHTML=document.getElementById(e).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function get_MRU(){var e=[];if(localStorage[mru_key]&&(mru=JSON.parse(localStorage[mru_key]),mru)){for(var t in mru)-1<t.search("smilie")&&e.push(mru[t]);var a={smilies:e}}return a||{}}function load_MRU(){var e=$("#content-mru").find(".loadMRU");return e&&$.each(e,function(e,t){$(t).attr("src",$('.loadSmilies[alt="'+$(t).attr("alt")+'"]').attr("data-src")),$(t).attr("title",$('.loadSmilies[alt="'+$(t).attr("alt")+'"]').attr("title")),$(t).removeAttr("class")}),!0}function show_tab(e){e=$(e).find(".loadSmilies");return e&&$.each(e,function(e,t){$(t).attr("src",$(t).attr("data-src")),$(t).removeAttr("data-src"),$(t).removeAttr("class")}),!0}function insert_smilikiti(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+$(e).attr("alt")&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],a["smilie"+$(e).attr("alt")]=$(e).attr("alt"),localStorage.setItem(mru_key,JSON.stringify(a))}emoticon=$(e).attr("alt")+" ",$.markItUp({replaceWith:emoticon}),"1"!==$.cookie("use_old_qnt")&&(sceditorInstance.inSourceMode()?sceditorInstance.insert($(e).attr("alt")):sceditorInstance.insert('<img src="'+$(e).attr("src")+'" data-sceditor-emoticon="'+$(e).attr("alt")+'" border="0" alt="emoticon-'+$(e).attr("title")+'" title="'+$(e).attr("title")+'">',null,!1))}function jump_page(e){var t=$("#"+e).val(),e=$(".url_jump").val();window.location.href=e+t}function clickVideo(e){if(-1<(" "+e.className+" ").indexOf(" playing ")){e.className=e.className.replace(/(?:^|\s)playing(?!\S)/g,"");var t=e.getElementsByTagName("video")[0];for(t.setAttribute("src",""),t.pause();t.firstChild;)t.removeChild(t.firstChild)}else{e.className+=" playing";var a=document.createElement("source");a.src=e.getAttribute("data-src"),a.type="video/mp4",e.getElementsByTagName("video")[0].setAttribute("src",e.getAttribute("data-src")),e.getElementsByTagName("video")[0].appendChild(a),e.getElementsByTagName("video")[0].play(),e.hasAttribute("data-threadid")&&(listThreadId.push(e.getAttribute("data-threadid")),e.removeAttribute("data-threadid"),updateView())}}function showMe(e){for(var t=document.getElementsByName("timeout"),a="none",s=0,i=0;i<t.length;i++)if(t[i].checked){a="block",s=1;break}$("input[name=timeout]").val(s),document.getElementById(e).style.display=a}function changeValueCreatedPoll(e){var t=$("input[name=created_poll]").val();$("input[name=created_poll]").val(1-t)}function checkcreatedPoll(){1==$("input[name=created_poll]").val()&&$(".sceditor-button-polling").addClass("active createdPoll")}function create_spoiler(t){swal("Masukkan Judul Spoiler:",{content:"input"}).then(e=>{null!==e&&($(".sceditor-button-source").hasClass("active")||(e=e.replace(/"/g,"&quot;")||"spoiler"),t.insert("[spoiler="+e+"]","[/spoiler]"))})}function toggleSmilies(){1==$(".jsExtraForm:visible").length&&0==$(".jsSmiliesEditor:visible").length&&($(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active")),0==$(".jsSmiliesEditor:visible").length?($(".jsSmiliesEditor").show(),$(".sceditor-button-smilies").addClass("active")):($(".jsSmiliesEditor").hide(),$(".sceditor-button-smilies").removeClass("active")),$(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active")}function togglePolling(){var e;0==$(".jsPollingForm:visible").length?($(".jsPollingForm").slideDown(),$(".sceditor-button-polling").addClass("active createdPoll"),e=$(".jsExtraFormContainer").offset().top):swal({text:"Poll akan dihapus. Yakin?",icon:"warning",buttons:["Batal","Hapus"],dangerMode:!0}).then(e=>{e&&($(".jsPollingForm").slideUp(),$(".sceditor-button-polling").removeClass("active createdPoll"),e=$("#jsToolbarSCEditor").offset().top,$("html, body").animate({scrollTop:e},400))}),$("html, body").animate({scrollTop:e},400)}function insertLink(s){var e='<div class="Ta(s)">        <div class="Fz(16px) Mb(10px)">URL:</div>        <input class="swal-content__input" id="jsLinkInputUrl" placeholder="http://">        <div class="Fz(16px) My(10px)">Text to display:</div>        <input value="'+s.toBBCode(s.getRangeHelper().selectedHtml().toString())+'" class="swal-content__input" id="jsLinkMediaInputText" placeholder="Link Url">      </div>',e=$.parseHTML(e);swal({content:e[0],buttons:{confirm:{value:""}}}).then(e=>{var t=$("#jsLinkInputUrl").val(),a=$("#jsLinkMediaInputText").val();s.insert("[url="+t+"]"+a+"[/url]")})}function toggleMention(e){$(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active"),0==$(".jsMentionContainer").length?($(mentionToolbar).appendTo("#jsToolbarSCEditor"),$(".sceditor-button-mention").addClass("active"),$(".jsMentionContainer input").focus()):($(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active"))}function getYoutubeId(e){e=e.match(/(^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?|^)([^#\&\?]*).*/);return!(!e||11!==e[8].length)&&e[8]}function getInstagramCode(e){e=e.match(/((?:(?:(?:(?:https?)(?::\/\/))?(?:www\.?)?)?)(?:instagram\.com|instagr\.am)\/?([a-zA-Z0-9_.]{1,30})?\/p\/([A-Za-z0-9_\-]+)\/?)/);return!!e&&e[3]}function getVimeoId(e){e=e.match(/(vimeo\.com\/|^)(\d+)/);return!!e&&e[2]}function getKaskusVideoId(e){e=e.match(/[0-9a-f]{24}/);return!!e&&e[1]}function getTwitchId(e){var t=new RegExp(/(?:https?:\/\/)?(?:(.*?)(?:\.)?)twitch\.tv\/((?:(videos)\/)|\?.*(?:(?:(clip|channel)=)|(?:(video)=v?))|(?:(?:embed\?.*?clip=)))?(.*?)(\]|\[|&|$)/g).exec(e);if(null===t)return!1;e=[];return e.id=t[6],"clips"==t[1]?e.type="twitch_clip":t[3]&&t[6]?e.type="twitch_video":e.type="twitch_channel",e}function getFbvideoId(e){var t=new RegExp(/http(?:s?):\/\/(?:www\.|web\.|m\.)?facebook\.com\/([A-z0-9\.]+)\/videos(?:\/[0-9A-z].+)?\/(\d+)(?:.+)?$/g).exec(e);if(null===t)return!1;e=[];return e.user=t[1],e.id=t[2],e}function getSoundCloudId(e){e=e.match(/(tracks\/|^)(\d+)/);return!!e&&e[2]}function getDailymotionId(e){e=e.match(/(?:(?:(?:dailymotion\.com(?:\/video|\/hub)|dai\.ly))\/([0-9a-z]+)(?:[\-_0-9a-zA-Z]+#video=(?:[a-z0-9]+))?|(^[0-9a-z]+$))/i);return!!e&&(e[1]||e[2])}function getSmuleId(e){e=e.match(/(\d+_\d+)/i);return!!e&&e[1]}function toggleMedia(){1==$(".jsExtraForm:visible").length&&0==$(".jsEmbedMediaForm:visible").length&&($(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active")),0==$(".jsEmbedMediaForm:visible").length?($(".jsEmbedMediaForm").show(),$(".sceditor-button-media").addClass("active")):($(".jsEmbedMediaForm").hide(),$(".sceditor-button-media").removeClass("active")),$(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active")}function inserEmbedMedia(e,t){var a;getYoutubeId(t)?(a=getYoutubeId(t),e.insert("[youtube]"+a+"[/youtube]")):getFbvideoId(t)?(a=getFbvideoId(t),e.insert('[fb_video="'+a.user+'"]'+a.id+"[/fb_video]")):getVimeoId(t)?(a=getVimeoId(t),e.insert("[vimeo]"+a+"[/vimeo]")):getTwitchId(t)?(a=getVimeoId(t),e.insert("[twitch]"+a.id+"[/twitch]")):getSoundCloudId(t)?(a=getSoundCloudId(t),e.insert("[soundcloud]"+a+"[/soundcloud]")):getDailymotionId(t)?(a=getDailymotionId(t),e.insert("[dailymotion]"+a+"[/dailymotion]")):getKaskusVideoId(t)?(a=getKaskusVideoId(t),e.insert("[kaskus_video]"+a+"[/kaskus_video]")):swal("Tidaaaak!","Link URL yang Agan Masukkan Salah!","error")}function push_validate(){sceditorInstance.readOnly(!0),$.ajax({type:"POST",url:"/misc/preview_post_ajax/1",dataType:"json",data:{title:$("#form-title").val(),forum_id:$("#forum_id").val(),icon_id:parseInt($("input[name=iconid]:checked").val()),message:sceditorInstance.val(),parseurl:1},success:function(e){e=(e=(e=e.message.replace(/( <br \/>\n|<br \/>\n<br \/>\n)/g,"<div></div>")).replace(/class="mls-img" src=".*?" data-src="(.*?)"/g,'src="$1"')).replace(/class="spoiler"/g,'class="spoiler open"');sceditorInstance.setWysiwygEditorValue(e+="<div><br></div>"),sceditorInstance.readOnly(!1),setTimeout(function(){sceditorInstance.expandToContent()},100)},error:function(e){swal("Gagal ngecek, Gan!","Silakan dicoba kembali!","error"),sceditorInstance.readOnly(!1)}})}function countChars(){var e=sceditor.instance(textareaSCeditor).val().length;$(".jsCharacterCounter").text(2e4-e),2e4<e?($(".jsCharacterCounter").addClass("C(c-red)"),$(".jsCharacterCounter").removeClass("C(c-grey)")):($(".jsCharacterCounter").addClass("C(c-grey)"),$(".jsCharacterCounter").removeClass("C(c-red)"))}function dataURLtoFile(e,t){for(var a=e.split(","),e=a[0].match(/:(.*?);/)[1],s=atob(a[1]),i=s.length,o=new Uint8Array(i);i--;)o[i]=s.charCodeAt(i);return new File([o],t,{type:e})}function resetInputAvatarAndCoverValue(){$("#jsUploadAvatar").length&&$("#jsUploadAvatar").val(""),$("#jsUploadCover").length&&$("#jsUploadCover").val("")}function removeAvatar(){$.post("/user/removeprofilepicture/",{userimgrev:$("#userimgrev").val()},function(e){$("#userimgrev").val(e.userimgrev),$("#userimgtime").val(e.userimgtime),$("#jsImageAvatar").attr("src",e.imgurl),$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){e=$.parseJSON(e),$("#jsImageAvatar").attr("src",e.imgurl),$(".jsModal #jsImageAvatar").attr("src",e.imgurl),$(".jsModal #jsPreviewAvatar").attr("src",e.imgurl),$("#loading").html(""),$("#remove_avatar").addClass("D(n)"),closeModal()}})},"json")}function uploadAvatar(){var i,o=["jpg","png","jpeg"],r=$("#jsUploadAvatarCropper").croppie({viewport:{width:250,height:250,type:"square"}});$("#jsUploadAvatar").on("change",function(){var a,s;(a=this).files&&a.files[0]?((s=new FileReader).onload=function(e){var t=a.files[0].name.split(".").pop().toLowerCase();-1<o.indexOf(t)?(openModal("jsModalCropAvatar"),$(".cr-viewport").css("border-radius","50%"),setTimeout(function(){r.croppie("bind",{url:e.target.result})},400)):(i=a.files[0],(t=new FormData).append("userpicture",i),t.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/profilepicture",type:"POST",data:t,processData:!1,contentType:!1,dataType:"json",success:function(e,t){$(".sctoken").val(e.securitytoken),"ok"==e.status?$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){$("#remove_avatar").removeClass("D(n)"),$("#jsImageAvatar").attr("src",s.result),$(".jsModal #jsImageAvatar").attr("src",s.result),$(".jsModal #jsPreviewAvatar").attr("src",s.result),$(document).click()}}):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}}))},s.readAsDataURL(a.files[0])):($("#jsModalError #error_message").html("Sorry - your browser doesn't support the FileReader API"),openModal("jsModalError"))}),$("#jsButtonCropAvatar").on("click",function(e){r.croppie("result",{type:"base64",size:{width:400,height:400},quality:.8,format:"jpeg",backgroundColor:"#e9ebee"}).then(function(e){$("#jsImageAvatar").attr("src",e),$(".jsModal #jsImageAvatar").attr("src",e),$(".jsModal #jsPreviewAvatar").attr("src",e);var t=dataURLtoFile(e,"myavatar.jpg"),e=new FormData;e.append("userpicture",t),e.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/profilepicture",type:"POST",data:e,processData:!1,contentType:!1,dataType:"json",success:function(e,t){$(".sctoken").val(e.securitytoken),"ok"==e.status?$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){$("#remove_avatar").removeClass("D(n)"),closeModal()}}):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})})})}function removeCoverImage(){$.post("/user/removecoverimage/",function(e){$.ajax({url:"/user/removecoverimage",type:"post",data:{imgurl:e.old_cover_image_url,action:"delete"},success:function(e){"ok"==(e="string"!=e?$.parseJSON(e):e).status&&($("#jsImageCover").attr("src",assetsFolderNew+"/images/placeholder-cover-image.png"),$("#remove_cover").addClass("D(n)"),closeModal())}})},"json")}function uploadCover(){var s,i=["jpg","png","jpeg"];$("#jsImageCover").attr("src"),s=$("#jsUploadCoverCropper").croppie({viewport:{width:685,height:113,type:"square"}}),$("#jsUploadCover").on("change",function(){var a,e;(a=this).files&&a.files[0]?((e=new FileReader).onload=function(e){var t=a.files[0].name.split(".").pop().toLowerCase();-1<i.indexOf(t)?(openModal("jsModalCropCover"),$(".cr-viewport").css("border-radius",""),setTimeout(function(){s.croppie("bind",{url:e.target.result})},400)):($("#jsModalError #error_message").html("Hanya boleh upload gambar dengan ekstensi <b>.jpg</b>, <b>.png</b>, dan <b>.jpeg</b>"),openModal("jsModalError"))},e.readAsDataURL(a.files[0])):($("#jsModalError #error_message").html("Sorry - your browser doesn't support the FileReader API"),openModal("jsModalError"))}),$("#jsButtonCropCover").on("click",function(e){s.croppie("result",{type:"base64",size:{width:970,height:160},quality:.8,format:"jpeg",backgroundColor:"#e9ebee"}).then(function(e){$("#jsImageCover").attr("src",e),$(".jsModal #jsImageCover").attr("src",e);var t=dataURLtoFile(e,"mycover.jpg"),e=new FormData;e.append("userpicture",t),e.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/coverimage",type:"POST",data:e,processData:!1,contentType:!1,dataType:"json",success:function(e){$(".sctoken").val(e.securitytoken),"ok"==e.status?($("#remove_cover").removeClass("D(n)"),closeModal()):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})})})}function modify_notification_list(t){var e,a=parseInt($("#notification_data").attr("data-offset")),s=t.operation;"delete"!=s?(e="/notification/get_notification/?displayed_state="+t.newState+"&notifId="+t.notificationId,$.get(e,function(e){switch("object"!=typeof e&&(e=$.parseJSON(e)),t=e.notification,s){case"add":$("#notif_wrapper_page .notif_empty").hide(),template=build_notification_card(t),0<$("#notif_wrapper_page #"+String(t._id.$id)).length?$("#notif_wrapper_page #"+String(t._id.$id)).remove():$("#notification_data").attr("data-offset",a+1),$("#notif_wrapper_page .notificationList").prepend(template).fadeIn(300);break;case"update":0<$("#notif_wrapper_page #"+String(t._id.$id)).length&&($("#notif_wrapper_page #"+String(t._id.$id)).remove(),template=build_notification_card(t),$("#notif_wrapper_page .notificationList").prepend(template).fadeIn(300))}})):0<$("#notif_wrapper_page #"+String(t.notificationId)).length&&($("#notif_wrapper_page #"+String(t.notificationId)).remove(),$("#notif_wrapper #"+String(t.notificationId)).remove(),$("#notification_data").attr("data-offset",a-1))}function build_notification_card(e){return template=$("#notif_wrapper_page #notificationCardTemplate").html(),template=template.replace("Bgc(c-white)","Bgc(c-grayish)"),template=template.replace(" data-src="," src="),template=template.replace(/{notifType}/g,e.type),template=template.replace("{notifId}",String(e._id.$id)),read_url="/notification/read/"+String(e._id.$id)+"/?is_pop_up=false",template=template.replace("{clickUrl}",read_url),target_attr="live_thread_selected"===e.type?"_blank":"_self",template=template.replace("{targetAttr}",target_attr),template=template.replace("{postBody}",e.additional_data.post_body),template=template.replace("{lastUpdated}",e.last_updated),template=e.additional_data.post_content?(template=template.replace("{postBodyAlign}","fs"),template.replace("{postContent}",'<div class="C(c-darker-grey) Fz(13px) Lh(18px) Wob(breakWord) LineClamp(2,35px)">'+e.additional_data.post_content+"</div>")):(template=template.replace("{postBodyAlign}","c"),template.replace("{postContent}","")),template=e.additional_data.img_src?template.replace("{imageSource}",'<div class="Fx(flexZero) Mstart(10px)"><img class="W(60px) H(60px)" src="'+e.additional_data.img_src+'"></div>'):template.replace("{imageSource}",""),template}function getDisplayedState(){return $("#notification_data").attr("data-displayed_state")}function getFetchNotifGif(){return fetching_notif='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',html='<div id="load_image" class="Ta(c)">'+fetching_notif+"</div>",html}function getTypeName(e){switch(type_name="",e){case"all":type_name="All (Default)";break;case"reputation":type_name="Cendol";break;case"quoted_post":type_name="Quote";break;case"thread_replies":type_name="Reply"}return type_name}function hideLoadMoreLink(e,t){"reputation"==$(e+" #type ul li a.Fw\\(700\\)").attr("data-type")&&$(e+" #see_more").addClass("D(n)"),$("#notification_data").attr("data-displayed_state",t);t=parseInt($("#total_notif").attr("value"));$("#notification_data").attr("data-offset")>=t-30&&($(e+" .load_more").hide(),$(e+" #see_more").addClass("D(n)"))}function getNotifications(t,e){$(t+" #notif_counter_wrapper").removeClass("D(n)"),$(t+" .notificationList").html(getFetchNotifGif()),$("#notification_data").attr("data-offset",0),"quoted_post"==e?($(t+" #notif_counter_wrapper").addClass("D(n)"),$(t+" #filterName").text(getTypeName(e)),$(t+" #type a").removeClass("Fw(700)"),$(t+" #type [data-type=quoted_post]").addClass("Fw(700)"),$(t+" #type").removeClass("is-visible"),url="/myforum/myquotedpost/?offset="+$("#notification_data").attr("data-offset"),getNotificationData(t,url)):"reputation"==e?($(t+" #notif_counter_wrapper").addClass("D(n)"),$(t+" #filterName").text(getTypeName(e)),$(t+" #type a").removeClass("Fw(700)"),$(t+" #type [data-type=reputation]").addClass("Fw(700)"),$(t+" #type").removeClass("is-visible"),url="/notification/reputation",getNotificationData(t,url)):($(t+" .load_more").hide(),type_name=getTypeName(e),displayed_state=getDisplayedState(),url="/notification/show/"+e+"/?ispopup=false&type_name="+type_name+"&displayed_state="+displayed_state,$.get(url,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#notif_wrapper_page").html(e.view.replace(" data-src="," src=")),$(t+" .load_more").show(),hideLoadMoreLink(t,e.new_state)}))}function getNotificationData(a,e){$(a+" .notif_empty").hide(),$(a+" #notif_empty_template").addClass("D(n)");var s=$(a+" #type ul li a.Fw\\(700\\)").attr("data-type"),i="";$(a+" #see_more").hasClass("D(n)")||$(a+" #see_more").addClass("D(n)"),$.get(e,function(e){0==(e="object"!=typeof e?$.parseJSON(e):e).notifications.length&&("reputation"==s?$(a+" #notif_empty_template span").text("Agan belum memiliki reputasi nih. Untuk mendapatkan cendol, Agan bisa mulai komen atau buat thread di Kaskus. Jika Kaskuser lain merasa thread Agan menarik, maka Agan bisa mendapatkan cendol atau bata."):"quoted_post"==s&&$(a+" #notif_empty_template span").text("Agan belum memiliki post yang dibalas nih. Coba deh Agan komen atau buat thread dulu."),$(a+" .notif_empty").hide(),$(a+" #notif_empty_template").removeClass("D(n)")),$.each(e.notifications,function(e,t){template=$(a+" #notificationCardTemplate").html(),template=template.replace(" data-src="," src="),template=template.replace(/{notifType}/g,t.type),track_url=t.url.indexOf("?")<0?t.url.indexOf("#")<0?t.url+"/?ref=notification&med=single_page_"+s:t.url.replace("#","/?ref=notification&med=single_page_"+s+"#"):t.url.indexOf("#")<0?t.url+"&ref=notification&med=single_page_"+s:t.url.replace("#","&ref=notification&med=single_page_"+s+"#"),template=template.replace("{notifId}",""),template=template.replace("{clickUrl}",track_url),template=template.replace("{postBody}",t.additional_data.post_body),template=template.replace("{lastUpdated}",t.last_updated),template=t.additional_data.post_content?(template=template.replace("{postBodyAlign}","fs"),template.replace("{postContent}",'<div class="C(c-darker-grey) Fz(13px) Lh(18px) Wob(breakWord) LineClamp(2,35px)">'+t.additional_data.post_content+"</div>")):(template=template.replace("{postBodyAlign}","c"),template.replace("{postContent}","")),template=t.additional_data.img_src?template.replace("{imageSource}",'<div class="Fx(flexZero) Mstart(10px)"><img class="W(60px) H(60px)" src="'+t.additional_data.img_src+'"></div>'):template.replace("{imageSource}",""),i+=template}),$(a+" .notificationList").append(i),$(a+" #load_image").remove(),$("#total_notif").attr("value",e.total_notif),$(a+" #see_more").removeClass("D(n)"),hideLoadMoreLink(a,getDisplayedState())})}function seeMore(){var t="#notif_wrapper_page";$(t+" .load_more").hide(),$(t+" #see_more").hasClass("D(n)")||"quoted_post"!=a||$(t+" #see_more").addClass("D(n)"),$(t+" #notification_see_more").append(getFetchNotifGif());var e,a=$(t+" #type ul li a.Fw\\(700\\)").attr("data-type"),s=parseInt($("#notification_data").attr("data-offset"));$("#notification_data").attr("data-offset",s+30),"quoted_post"==a?($(t+" .notificationList").append(getFetchNotifGif()),e="/myforum/myquotedpost/?offset="+$("#notification_data").attr("data-offset"),getNotificationData(t,e)):"reputation"==a?($(t+" .notificationList").append(getFetchNotifGif()),getNotificationData(t,e="/notification/reputation")):(type_name=getTypeName(a),displayed_state=getDisplayedState(),e="/notification/show/"+a+"/?ispopup=false&type_name="+type_name+"&displayed_state="+displayed_state+"&offset="+$("#notification_data").attr("data-offset"),$.get(e,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$(t+" #notification_see_more #load_image").remove(),$(t+" #notification_see_more").append(e.view.replace(" data-src="," src=")),"quoted_post"==a&&$(t+" #see_more").removeClass("D(n)"),$(t+" .load_more").show(),hideLoadMoreLink(t,e.new_state)}))}function ignoreDataLayer(e){dataLayer.push({event:"trackEvent","eventDetails.category":"connection","eventDetails.action":e,"eventDetails.label":"profile"})}function add_connection(e,i){closeModal();var o=$("#currentid").val(),r=$("#loginid").val(),n=e.substring(e.lastIndexOf("/")+1);$.post(e,{securitytoken:$("#sctoken").val()},function(e){var t,a,s;$("#sctoken").val(e.securitytoken),1==e.result?(t=parseInt($("#following_info").text().replace(/[,\.]/g,"")),a=parseInt($("#follower_info").text().replace(/[,\.]/g,"")),"Unfollow"==e.connection_type?(o!=r&&n!=o||($("#unfollow_btn").show(),$("#follow_btn").hide(),o==r&&(count=t+1,$("#following_info").text(count.toLocaleString())),n==o&&(count=a+1,$("#follower_info").text(count.toLocaleString()))),followCustomMetrics("follow",r,n),showBottomToast("Agan berhasil mengikuti "+i,1500)):"Follow"==e.connection_type?(o!=r&&n!=o||($("#follow_btn").show(),$("#unfollow_btn").hide(),$("#blocked_btn").hide(),e.hasOwnProperty("number_of_following")?(o==r&&(count=t-1,$("#following_info").text(count.toLocaleString())),n==o&&(count=a-1,$("#follower_info").text(count.toLocaleString()))):($("#block_btn").show(),$("#unblock_btn").hide())),e.hasOwnProperty("number_of_following")?(followCustomMetrics("unfollow",r,n),showBottomToast("Agan telah berhenti mengikuti "+i,1500)):(ignoreDataLayer("unignore"),showBottomToast("Agan telah menghapus "+i+" dari ignore list",1500))):"Unblock"==e.connection_type&&(o!=r&&n!=o||(s=$("#follow_btn").attr("style"),$("#unblock_btn").show(),$("#block_btn").hide(),$("#follow_btn").hide(),$("#unfollow_btn").hide(),$("#blocked_btn").show(),$("#unblock_btn").attr("data-id","unignore"),s&&void 0!==s&&!1!==s?(o==r&&(count=t-1,$("#following_info").text(count.toLocaleString())),n==o&&(count=a-1,$("#follower_info").text(count.toLocaleString())),followCustomMetrics("ignore",r,n)):ignoreDataLayer("ignore")),showBottomToast("Agan berhasil mengabaikan "+i,1500))):0==e.result&&showBottomToast(e.error_message,1500)},"json")}function followCustomMetrics(e,t,a){dataLayer.push({event:"trackEvent","eventDetails.category":"connection","eventDetails.action":e,"eventDetails.label":"profile",Follow:"follow"===e?1:-1,userID:t,userIDHit:a})}null!=document.getElementById("jsToolbarSCEditor")&&(sceditor.formats.bbcode.remove("ol"),sceditor.formats.bbcode.remove("li"),sceditor.formats.bbcode.remove("ul"),spoilerTemplate='<div class="spoiler sceditor-ignore"><span class="spoiler-head sceditor-ignore"><span class="spoiler-label">Spoiler</span>&nbsp;for <span class="spoiler-title">%title%</span>: <input type="button" value="Hide" class="spoiler-btn open" onclick="this.parentElement.parentElement.nextSibling.classList.toggle(\'open\');this.parentElement.parentElement.nextSibling.nextSibling.classList.toggle(\'open\');this.value=this.value==\'Hide\'?\'Show\':\'Hide\'"></span></div><div class="spoiler-mid sceditor-ignore"></div><div class="spoiler-content expandable open" data-title="%title%">%content%</div>',sceditor.formats.bbcode.set("spoiler",{tags:{div:{class:["spoiler-content expandable open","spoiler-content expandable"]}},allowsEmpty:!0,format:function(e,t){return"[spoiler="+($(e).data("title")||"spoiler")+"]"+t+"[/spoiler]"},html:function(e,t,a){t=t.defaultattr.replace(/"/g,"&quot;");return spoilerTemplate.replace(/%title%/g,t).replace(/%content%/g,a)},isInline:!1,quoteType:sceditor.BBCodeParser.QuoteType.never}),sceditor.command.set("spoiler",{exec:function(){create_spoiler(this)},txtExec:function(){create_spoiler(this)},tooltip:"Masukkan Spoiler"}),sceditor.formats.bbcode.set("img",{allowsEmpty:!0,tags:{img:{src:null},video:{class:["c-giphy__preview"]}},allowedChildren:["#"],quoteType:sceditor.BBCodeParser.QuoteType.never,format:function(e,t){if($(e).attr("data-sceditor-emoticon"))return t;t=$(e).attr("src")?$(e).attr("src"):$(e).attr("data-src"),e=t.split(new RegExp("(.+giphy.com.+)/.+.mp4$"));return"[img]"+(e[1]?e[1]+"/giphy.gif":t)+"[/img]"},html:function(e,t,a){var s=a.split(new RegExp("(.+giphy.com.+)/.+.gif$"));return s[1]?(a=s[1]+"/giphy-downsized-small.mp4",'<video class="c-giphy__preview" autoplay loop data-src="'+sceditor.escapeUriScheme(a)+'"> <source src="'+sceditor.escapeUriScheme(a)+'" type="video/mp4"> </video>'):'<img style="max-width:100%" src="'+sceditor.escapeUriScheme(a)+'" />'}}),quoteTemplate='<div class="sceditor-ignore quote-mark">Quote:</div>  <div class="quote expandable" data-by="%quotedBy%" data-postid="%quotedPostId%">%cite%%content%</blockquote></div>',sceditor.formats.bbcode.set("quote",{tags:{div:{class:["quote expandable"]}},allowsEmpty:!0,format:function(e,t){var a=$(e).data("by"),e=$(e).data("postid");return"[quote"+(""!==a&&""!==e?"="+a+";"+e:"")+"]"+t+"[/quote]"},html:function(e,t,a){var s="",i="",o="";return!t.defaultattr||(i=(t=t.defaultattr.split(";"))[0])&&(s='<cite class="sceditor-ignore">Original Posted By <b>'+i+"</b> ",s+='<a href="/post/'+(o=t[1]||"")+"#post"+o+'"></a></cite>'),quoteTemplate.replace(/%quotedBy%/g,i).replace(/%quotedPostId%/g,o).replace(/%cite%/g,s).replace(/%content%/g,a)},isInline:!1,quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("quote",{exec:function(){this.insert("[quote]","[/quote]")},txtExec:function(){this.insert("[quote]","[/quote]")},tooltip:"Masukkan Quote"}),sceditor.command.set("smilies",{exec:function(){toggleSmilies()},txtExec:function(){toggleSmilies()},tooltip:"Masukkan Smilies"}),sceditor.command.set("polling",{exec:function(){togglePolling()},txtExec:function(){togglePolling()},tooltip:"Buat Poll"}),sceditor.command.set("link",{exec:function(){insertLink(this)},txtExec:function(){insertLink(this)},tooltip:"Masukkan Link"}),$(document).on("click",".jsDivCounter",function(){sceditorInstance.focus();var e,t=sceditorInstance.getRangeHelper(),a=t.cloneSelected();"selectNodeContents"in a&&(e=sceditorInstance.getBody().children,a.selectNodeContents(e[e.length-1]),a.collapse(!1),t.selectRange(a))}),$(document).on("click",".jsEmbedMediaButton",function(){var e=$.parseHTML('<div>      <input class="swal-content__input" id="jsEmbedMediaInputUrl" placeholder="Link Url">    </div>    <div class="Ta(c)">      <div class="My(15px)">Supported Media</div>      <div>        <i title="Youtube" class="fab fa-youtube"></i>        <i title="Vimeo" class="fab fa-vimeo-square"></i>        <i title="Soundcloud" class="fab fa-soundcloud"></i>        <i title="Twitch" class="fab fa-twitch"></i>        <i title="Facebook Video" class="icon icon-facebook-video"></i>        <i title="Dailymotion" class="icon icon-daily-motion"></i>        <i title="Smule" class="icon icon-smule"></i>      </div>    </div>');swal({text:"Masukkan URL Embed:",content:e[0],buttons:{confirm:{value:""}}}).then(e=>{var t=document.getElementById("jsEmbedMediaInputUrl").value;inserEmbedMedia(sceditor.instance(textareaSCeditor),t)})}),sceditor.command.set("mention",{exec:function(){toggleMention(this)},txtExec:function(){toggleMention(this)},tooltip:"Buat Mention"}),mentionToolbar='<div style="right: -86px;bottom: 43px;" class="jsMentionSCEditor jsMentionContainer W(205px) Pos(a) Z(1) B(25px) ">    <div class="W(15px) H(15px) Bgr(nr) Bgz(ct) Bgp(c) Bgi(bgTriangleGrey) Pos(a) Start(8px) B(-11px) Rotate(180deg)"></div>    <div class="Bd(borderSolidLightGrey) Bxsh(boxShadow)">      <div class="D(f) Pos(r) Bdb(borderSolidLightGrey)">        <input type="text" class="W(100%) autocomplete-mention Bd(none) Fz(14px) C(c-normal) Py(15px) Pstart(35px) Pend(15px)" placeholder="Cari username"/>        <i class="Pos(a) T(17px) Start(15px) fas fa-search C(c-grey)"></i>      </div>      <ul class="Bgc(c-white) mentionList">      </ul>    </div>  </div>',$(document).on("click",function(e){$(e.target).closest(".sceditor-button-mention, .jsMentionSCEditor ").length||$(".jsMentionSCEditor").length&&($(".jsMentionSCEditor").remove(),$(".sceditor-button-mention").removeClass("active"))}),mentionTemplate='<a class="mention" href="'+KASKUS_URL+'/@{username}">@{username}</a>',sceditor.formats.bbcode.set("mention",{tags:{a:{class:["mention"]}},allowsEmpty:!0,format:function(e,t){return"[mention]"+String($(e).attr("href")).split("@")[1]+"[/mention]"},html:function(e,t,a){return mentionTemplate.replace(/\{username\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),youtubeTemplate='<div class="sceditor-ignore youtube-player" onclick="this.nextElementSibling.style.display=\'block\'; this.style.display=\'none\';  this.nextElementSibling.src =\'https://www.youtube.com/embed/{id}?autoplay=1\'">  <div class="sceditor-ignore"><div class="icon" style="background-image:url(https://img.youtube.com/vi/{id}/0.jpg);padding-bottom:56.25%; width:100%; height: 0; background-size: cover; background-position:center; max-width: 100%"></div>  </div></div>  <iframe data-id="{id}" class="youtube-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"></iframe>',sceditor.formats.bbcode.set("youtube",{tags:{iframe:{class:["youtube-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[youtube]"+$(e).data("id")+"[/youtube]"},html:function(e,t,a){return(youtubeId=getYoutubeId(a))?youtubeTemplate.replace(/\{id\}/gi,youtubeId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),twitterTemplate='<div class="sceditor-ignore" style="margin:0 auto;">\t\t\t\t\t\t\t<div style="position: relative;margin-top: 15px;margin-bottom: 15px;text-align: center">\t\t\t\t\t\t\t\t<img style="width: 480px" src="'+assetsFolderNew+'/images/image-placeholder-twitter.gif">\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="embed_twitter"  data-url="https://twitter.com/{user}/status/{id}"></div> ',sceditor.formats.bbcode.set("twitter",{tags:{div:{class:["embed_twitter"]}},allowsEmpty:!0,format:function(e,t){e=new RegExp(/(?:http(?:s)?:\/\/)?(?:www\.)?twitter\.com\/(?:#!\/)?(\w+)\/status(es)?\/(\d+)/).exec($(e).data("url"));return null!==e?'[twitter="'+e[1]+'"]'+e[3]+"[/twitter]":""},html:function(e,t,a){return twitterTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),instagramTemplate='<div class="sceditor-ignore wrapperEmbedIg" style="position:relative; margin:15px auto; max-width:480px; text-align:center;"><img style="width:480px;" src="'+assetsFolderNew+'/images/image-placeholder-ig.gif"><div style="position:absolute; top:72px; left:0; width:100%; height:100%; z-index:5;"></div></div><div class="embed_instagram" data-url="{url}" data-code="{code}"></div> ',sceditor.formats.bbcode.set("instagram",{tags:{div:{class:["embed_instagram"]}},allowsEmpty:!0,format:function(e,t){return"[instagram]"+$(e).data("url")+"[/instagram]"},html:function(e,t,a){return(instagramCode=getInstagramCode(a))?instagramTemplate.replace(/\{url\}/gi,a).replace(/\{code\}/gi,instagramCode):""},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),vimeoTemplate='<iframe class="vimeo-player" data-id="{id}" src="https://player.vimeo.com/video/{id}?title=0&byline=0&portrait=0"   width="520" height="300" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>',sceditor.formats.bbcode.set("vimeo",{tags:{iframe:{class:["vimeo-player"]}},allowsEmpty:!0,format:function(e,t){return"[vimeo]"+$(e).data("id")+"[/vimeo]"},html:function(e,t,a){return(vimeoId=getVimeoId(a))?vimeoTemplate.replace(/\{id\}/gi,vimeoId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),podcastProgramTemplate='<iframe id="player" type="text/html" src="'+KASKUS_PODCAST_URL+'/widget/{user}/program/{slug}?embed=true" frameborder="0" class="iframe-podcast-program" data-id="{slug}" data-user="{user}" width="100%" scrolling="no" allowfullscreen></iframe>',sceditor.formats.bbcode.set("kaskuspodcast_program",{tags:{iframe:{class:["iframe-podcast-program"]}},allowsEmpty:!0,format:function(e,t){return'[kaskuspodcast_program="'+$(e).data("user")+'"]'+$(e).data("id")+"[/kaskuspodcast_program]"},html:function(e,t,a){return podcastProgramTemplate.replace(/\{slug\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),podcastEpisodeTemplate='<iframe id="player" type="text/html" src="'+KASKUS_PODCAST_URL+'/widget/{user}/episode/{id}?embed=true" frameborder="0" class="iframe-podcast-episode" data-id="{id}" data-user="{user}" width="100%" scrolling="no" allowfullscreen></iframe>',sceditor.formats.bbcode.set("kaskuspodcast_episode",{tags:{iframe:{class:["iframe-podcast-episode"]}},allowsEmpty:!0,format:function(e,t){return'[kaskuspodcast_episode="'+$(e).data("user")+'"]'+$(e).data("id")+"[/kaskuspodcast_episode]"},html:function(e,t,a){return podcastEpisodeTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.formats.bbcode.set("kaskus_video",{tags:{iframe:{class:["kaskus_video"]},div:{class:["kaskus_video"]}},allowsEmpty:!0,format:function(e,t){return"[kaskus_video]"+$(e).data("id")+"[/kaskus_video]"},html:function(e,t,a){a=a.match(/[0-9a-f]{24}/)[0];return'<iframe class="kaskus_video" data-id="'+a+'" style="display: block;" width="95%" height="350" frameborder="0" src="'+KASKUS_URL+"/embed/"+a+'"></iframe>'},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.formats.bbcode.set("video",{tags:{a:{class:["toggle-play"]}},allowsEmpty:!0,format:function(e,t){return"[video]"+$(e).find("source").attr("src")+"[/video]"},html:function(e,t,a){return'  \t\t\t<a class="toggle-play" href="'+a+'" data-src="'+a+'" onclick="clickVideo(this);return false;">  \t\t\t\t<video preload="auto" poster="'+a+'.png" loop="" muted="" title="" width="100%"><source src="'+a+'" type="video/mp4"></video>  \t\t\t\t<span>  \t\t\t\t\t<span class="empty-space"></span>  \t\t\t\t\t<span class="gif-space">GIF</span>  \t\t\t\t</span>  \t\t\t</a>'},quoteType:sceditor.BBCodeParser.QuoteType.auto}),twitchTemplate='<div class="sceditor-ignore twitch-player" onclick="this.nextElementSibling.style.display=\'block\'; this.style.display=\'none\';this.nextElementSibling.src =\'/embed/video/{type}/{id}\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div class="sceditor-ignore" style="position:relative;cursor:pointer;display:inline-block; overflow: hidden;">  <img src="/embed/thumbnail_video_third_party/{type}/{id}" style="max-width: 100%" alt="{thread_title}" />  <i></i></div></div>  <iframe data-type="{type}" data-id="{id}"  class="twitch-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"></iframe>',sceditor.formats.bbcode.set("twitch",{tags:{iframe:{class:["twitch-iframe"]}},allowsEmpty:!0,format:function(e,t){return'[twitch="'+$(e).data("type")+'"]'+$(e).data("id")+"[/twitch]"},html:function(e,t,a){return twitchTemplate.replace(/\{id\}/gi,a).replace(/\{type\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),fbvideoTemplate='<iframe id="fb-video" data-user="{user}" data-id="{id}" src="https://www.kaskus.co.id/embed/facebook/{user}/{id}" class="fb_video{id}" frameborder="0" allowfullscreen height="450px" width="100%" scrolling="no" onload="function resizeIframeFBBody(e){try{var t=JSON.parse(e.data); if( \'fb_video\' == t.type ){var vel = document.getElementsByClassName(\'fb_video\'+t.id); for(var v = 0; v < vel.length; v ++){if(vel[v].className.indexOf(\'resized\') > -1) continue; vel[v].className += \' resized\';vel[v].setAttribute(\'height\', t.height); if(t.width !== undefined){ vel[v].setAttribute(\'width\', t.width); };};};}catch(e){}}window.addEventListener(\'message\',resizeIframeFBBody,!1);"></iframe>',sceditor.formats.bbcode.set("fb_video",{tags:{iframe:{id:["fb-video"]}},allowsEmpty:!0,format:function(e,t){return'[fb_video="'+$(e).data("user")+'"]'+$(e).data("id")+"[/fb_video]"},html:function(e,t,a){return fbvideoTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),soundcloudTemplate='<iframe class="soundcloud-player" data-id="{id}" width="100%" height="166" scrolling="no" frameborder="no"   src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{id}&color=1484ce&auto_play=false"></iframe>',sceditor.formats.bbcode.set("soundcloud",{tags:{iframe:{class:["soundcloud-player"]}},allowsEmpty:!0,format:function(e,t){return"[soundcloud]"+$(e).data("id")+"[/soundcloud]"},html:function(e,t,a){return(soundcloudId=getSoundCloudId(a))?soundcloudTemplate.replace(/\{id\}/gi,soundcloudId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),dailymotionTemplate='<div class="dailymotion-wrapper sceditor-ignore" onclick="this.nextElementSibling.style.display=\'block\';  this.style.display=\'none\';this.nextElementSibling.src =\'//www.dailymotion.com/embed/video/{id}?autoplay=1\'"><div>  <img src="https://www.dailymotion.com/thumbnail/video/{id}" alt="{thread_title}" /><i></i></div></div>  <iframe class="dailymotion-iframe" style="display:none" data-id="{id}" type="text/html" width="100%" height="350" frameborder="0"></iframe>',sceditor.formats.bbcode.set("dailymotion",{tags:{iframe:{class:["dailymotion-iframe"]}},allowsEmpty:!0,format:function(e,t){return"[dailymotion]"+$(e).data("id")+"[/dailymotion]"},html:function(e,t,a){return(dailymotionId=getDailymotionId(a))?dailymotionTemplate.replace(/\{id\}/gi,dailymotionId):""},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),smuleTemplate='<iframe class="smule-player" data-id="{id}" frameborder="0" width="100%" height="125"   src="https://www.smule.com/recording/preview/{id}/frame" scrolling="no"></iframe>',sceditor.formats.bbcode.set("smule",{tags:{iframe:{class:["smule-player"]}},allowsEmpty:!0,format:function(e,t){return"[smule]"+$(e).data("id")+"[/smule]"},html:function(e,t,a){return(smuleId=getSmuleId(a))?smuleTemplate.replace(/\{id\}/gi,smuleId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto}),kaskusTvVodTemplate='<div class="sceditor-ignore" onclick="this.nextSibling.style.display=\'block\'; this.style.display=\'none\';this.nextSibling.src =\'//tv.kaskus.co.id/api/embed/live/{id}?autoplay&player_medium=kaskus-thread\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div style="position:relative;cursor:pointer;display:inline-block">  <img src="//tv.kaskus.co.id/api/video/{id}/thumbnail" width="700" height="350" style="max-width:100%" alt="{thread_title}" />  <i style="background: url(//s.kaskus.id/img/icon/player-yt-icon.png) center center no-repeat;height: 41px;left: 50%;margin: -20px 0 0 -30px;position:absolute;top: 50%;width: 60px;-moz-border-radius: 5px;opacity: 0.8;"></i>  </div>  </div><iframe data-id="{id}" class="kaskustv-vod-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"/></iframe>',sceditor.formats.bbcode.set("kaskustv",{tags:{iframe:{class:["kaskustv-vod-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[kaskustv]"+$(e).data("id")+"[/kaskustv]"},html:function(e,t,a){return kaskusTvVodTemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),KaskusTvLivetemplate='<div class="sceditor-ignore" onclick="this.nextSibling.style.display=\'block\'; this.style.display=\'none\';this.nextSibling.src =\'//tv.kaskus.co.id/api/embed/live/{id}?autoplay&player_medium=kaskus-thread\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div style="position:relative;cursor:pointer;display:inline-block">  <img src="//tv.kaskus.co.id/api/live/{id}/thumbnail" width="700" height="350" style="max-width:100%" alt="{thread_title}" />  <i style="background: url(//s.kaskus.id/img/icon/player-yt-icon.png) center center no-repeat;height: 41px;left: 50%;margin: -20px 0 0 -30px;position:absolute;top: 50%;width: 60px;-moz-border-radius: 5px;opacity: 0.8;"></i>  </div>  </div><iframe  data-id="{id}" class="kaskustv-live-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"/></iframe>',sceditor.formats.bbcode.set("kaskustv_live",{tags:{iframe:{class:["kaskustv-live-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[kaskustv_live]"+$(e).data("id")+"[/kaskustv_live]"},html:function(e,t,a){return KaskusTvLivetemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),KaskusLiveTemplate='<iframe src="//live.kaskus.co.id/thread/info/{id}" data-id="{id}" class="livethread_iframe" width="100%" height="350px" frameborder="0"></iframe>',sceditor.formats.bbcode.set("kaskus_live",{tags:{iframe:{class:["livethread_iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[livethread]"+$(e).data("id")+"[/livethread]"},html:function(e,t,a){return KaskusLiveTemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("media",{exec:function(){toggleMedia()},txtExec:function(){toggleMedia()},tooltip:"Masukkan Media"}),$(document).on("click",".jsButtonValidate",function(e){$(".sceditor-button-validate div").click()}),$(document).on("click",".jsButtonBBCode",function(e){$(".sceditor-button-source div").click(),""!=sceditorInstance.val()&&$(sceditorInstance.getBody()).removeClass("placeholder"),$(".sceditor-button-source").hasClass("active")?$(".jsButtonBBCode").addClass("is-active"):$(".jsButtonBBCode").removeClass("is-active"),$(".sceditor-button-validate").hasClass("disabled")?($(".jsButtonValidate").addClass("is-disabled"),$(".jsButtonValidate").prop("disabled",!0)):($(".jsButtonValidate").removeClass("is-disabled"),$(".jsButtonValidate").prop("disabled",!1));var e=$(e.currentTarget),t=$(".sceditor-container textarea");e.hasClass("active")?(t.css({"padding-top":"20px","padding-left":"10px"}),t.width(t.parent("div").width()-10),setTimeout(function(){t.css("height","1px"),t.css("height",t.prop("scrollHeight")+"px")},100)):(t.css({padding:"0px"}),""!==(e=sceditorInstance.val().trimRight())&&sceditorInstance.val(e+"\n"),push_validate(),setTimeout(function(){sceditorInstance.expandToContent()},1e3))}),sceditor.command.set("validate",{exec:function(){push_validate()},tooltip:"Validasi"}),pic=new Image,pic2=new Image,pic3=new Image,pic4=new Image,pic5=new Image,pic6=new Image,pic7=new Image,pic8=new Image,pic9=new Image,pic10=new Image,pic11=new Image,pic12=new Image,pic13=new Image,pic.src=assetsImageLocation+"ic-editor-bold-blue.svg",pic2.src=assetsImageLocation+"ic-editor-italic-blue.svg",pic3.src=assetsImageLocation+"ic-editor-underline-blue.svg",pic4.src=assetsImageLocation+"ic-editor-align-left-blue.svg",pic5.src=assetsImageLocation+"ic-editor-align-center-blue.svg",pic6.src=assetsImageLocation+"ic-editor-align-right-blue.svg",pic7.src=assetsImageLocation+"ic-editor-link-blue.svg",pic8.src=assetsImageLocation+"ic-editor-spoiler-blue.svg",pic9.src=assetsImageLocation+"ic-editor-quote-blue.svg",pic10.src=assetsImageLocation+"ic-editor-smilies-blue.svg",pic11.src=assetsImageLocation+"ic-editor-poll-blue.svg",pic12.src=assetsImageLocation+"ic-editor-image-blue.svg",pic13.src=assetsImageLocation+"ic-editor-mention-blue.svg",textareaSCeditor=document.querySelector(".jsCreateThreadContentSCEditor"),toolbarSCEditor=document.getElementById("jsToolbarSCEditor"),heightSCEditor=$(window).height()-$(".jsCreateThreadHeader").outerHeight()-$(".jsCreateThreadTitle").outerHeight()-$(".jsToolbarSCEditorAnchor").outerHeight()-90-20-30-20-36-36,$(window).on("resize",function(){var e=$(window).height()-$(".jsCreateThreadHeader").outerHeight()-$(".jsCreateThreadTitle").outerHeight()-$(".jsToolbarSCEditorAnchor").outerHeight()-90-20-30-20-36;sceditorInstance.height(e)}),createThreadEditor=sceditor.create(textareaSCeditor,{style:sceditorStyleLocation,spellcheck:!1,plugins:"bbcode,undo",emoticonsEnabled:!1,format:"bbcode",toolbar:"bold,italic,underline|left,center,right,justify|font,color,size|link,spoiler,quote,source,validate|polling|mention,media,smilies",toolbarContainer:toolbarSCEditor,resizeMaxHeight:-1,height:heightSCEditor,icons:"custom",autoExpand:!0,resizeEnabled:!1,placeholder:"Mulai Menulis!"}),sceditorInstance=sceditor.instance(textareaSCeditor),$(sceditorInstance.getBody()).addClass("bodyTextArea"),""!=sceditorInstance.val()&&$(sceditorInstance.getBody()).removeClass("placeholder"),$('.sceditor-color-option[data-color="#484848"]').addClass("is-selected"),sceditorInstance.keyPress(function(e){13==e.which&&$(window).scrollTop()+$(window).height()>$(document).height()-$(".jsToolbarSCEditorAnchor").height()&&$("html, body").animate({scrollTop:$(document).height()},100)}),sceditorInstance.bind("paste",function(e){setTimeout(function(){sceditorInstance.insert(" "),sceditorInstance.val().substring(0,sceditorInstance.val().length-1)},10)}),sceditorInstance.keyUp(function(e){countChars(),sceditorInstance.expandToContent(!0)}),$(document).on("click",".jsClosePolling",function(){togglePolling()}),$(document).on("click",".sceditor-button-font, .sceditor-button-color, .sceditor-button-size",function(){$(".sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active"),$(".jsExtraForm").hide()})),$(document).ready(function(){var a=!1,s="";$(".get_notifications").click(function(){$(".jsNotificationDropdownMenu").hasClass("is-visible")?$(".jsNotificationIcon i").attr("data-id","header-notification"):$(".jsNotificationIcon i").removeAttr("data-id");var t=$("#notification_data").attr("data-displayed_state");(a=s==t&&a)||(fetching_notif='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',$("#notif_wrapper").html('<div class="Ta(c)">'+fetching_notif+"</div>"),$.get("/notification/show/all/?ispopup=true&displayed_state="+t,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#notification_see_more"),$("#notif_wrapper").html(e.view),show_request_fcm_popup(),bindRequestFcm(),$(".notif_red").hasClass("D(tb)")&&($(".notif_red").removeClass("D(tb)"),$(".notif_red").addClass("D(n)")),$("#notification_data").attr("data-displayed_state",e.new_state),s=t,a=!0}))})}),$("#qr-code-btn").click(function(){$.ajax({url:"/profile/qrcode/"+$(this).data("userid"),success:function(e){e=e.qrcode;e?$("#img-qrcode").attr("src","data:image/png;base64,"+e):($("#img-qrcode").hide(),$("#div-qr-code").html("Failed to generate QR Code"))}})}),$(document).on({mouseenter:function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")},mouseleave:function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")}},".jsButtonBlockedHeader"),$(document).on({mouseenter:function(){$(this).text($(this).data("hover"))},mouseleave:function(){$(this).text($(this).data("default"))}},".jsFollowingButton, .jsBlockedButton");var moderated_page=1,load_more_forum='<li id="forum-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="moderator-load-more" onclick="load_more_moderated_forum()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Load More</a></li>';function moderate(){moderated_page=1,$("#jsModalModerateList .data-moderate").empty(),$.get("/profile/get_all_forum_moderate/?user_id="+user_id+"&moderate_page="+moderated_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),forum_moderate=e.result.list_forum,forum_icon=e.result.forum_icon;var a="";delete forum_moderate.total_post,$.each(forum_moderate,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+forum_icon[e]+'" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><a class="Fw(500) C(c-normal))" href="'+t.url+'">'+t.name+"</a></div></div>"}),moderated_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalModerateList .data-moderate").append(a),0<page_remaining&&$("#jsModalModerateList .data-moderate").append(load_more_forum)})}function load_more_moderated_forum(){$.get("/profile/get_all_forum_moderate/?user_id="+user_id+"&moderate_page="+moderated_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),forum_moderate=e.result.list_forum,forum_icon=e.result.forum_icon;var a="";delete forum_moderate.total_post,$.each(forum_moderate,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+forum_icon[e]+'" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><a class="Fw(500) C(c-normal))" href="'+t.url+'">'+t.name+"</a></div></div>"}),moderated_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalModerateList .data-moderate").append(a),$("#forum-loadmore").remove(),0<page_remaining&&$("#jsModalModerateList .data-moderate").append(load_more_forum)})}var badge_page=1,load_more='<li id="badge-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="badge-load-more" onclick="load_more_badge()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Lihat Lainnya</a></li>';function badge(){badge_page=1,$("#jsModalBadgeList .data-badge").empty(),$.get("/profile/get_all_badges/?user_id="+user_id+"&badge_page="+badge_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),list_badge=e.result.badges;var a="";delete list_badge.total_post,$.each(list_badge,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+badge_url+t.badge_id+'.gif" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><div class="Fw(500) ">'+t.event+'</div><div class="Mt(5px) Fz(11px) C(c-grey)"></div></div></div>'}),badge_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalBadgeList .data-badge").append(a),0<page_remaining&&$("#jsModalBadgeList .data-badge").append(load_more)})}function load_more_badge(){$.get("/profile/get_all_badges/?user_id="+user_id+"&badge_page="+badge_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),list_badge=e.result.badges;var a="";delete list_badge.total_post,$.each(list_badge,function(e,t){a+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+badge_url+t.badge_id+'.gif" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><div class="Fw(500) ">'+t.event+'</div><div class="Mt(5px) Fz(11px) C(c-grey)"></div></div></div>'}),badge_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalBadgeList .data-badge").append(a),$("#badge-loadmore").remove(),0<page_remaining&&$("#jsModalBadgeList .data-badge").append(load_more)})}var assetsFolderNew=assetsFolderNew||"",loading_img='<div class="W(100%) Ta(c) Mt(50px) Mb(50px)"><img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="conection-loading" /></div>',tab=$("#tab-act").val(),connection_type="following",userid=$("#current-user").val(),current_page=$("#current-page").val();function get_list_connection(e){$("#loading-area").html(loading_img),$("#pagination").html(""),$.get("/profile/get_connection/?connection_type="+e+"&id="+userid+"&page="+current_page,function(e){$("#loading-area").html(e.html),$("#pagination").html(e.pagination)},"json")}function connection_action(t,a,s){var i=$("#loginid").val(),o=t.substring(t.lastIndexOf("/")+1);$.post(t,{securitytoken:$("#sctoken").val()},function(e){$("#sctoken").val(e.securitytoken),1==e.result?(get_list_connection(s),0<t.search("/follow")?(followCustomMetrics("follow",i,o),showBottomToast("Agan berhasil mengikuti "+a,1500)):0<t.search("/unfollow")?(followCustomMetrics("unfollow",i,o),showBottomToast("Agan telah berhenti mengikuti  "+a,1500)):0<t.search("/unblock")&&(ignoreDataLayer("unignore"),showBottomToast("Agan telah menghapus "+a+" dari ignore list",1500))):showBottomToast(e.error_message,3e3)},"json")}function modal_action(e,t,a){closeModal(),connection_action(e,t,a)}function set_connection_unfol_modal(e,t,a,s,i){$("#jsModalConfirmUnfollow img").attr("src",e),$(".confirm-action").removeAttr("data-id").attr("data-id","button-unfollow"),connection_show_modal_confirm(a,t,s,i)}function set_connection_unblock_modal(e,t,a,s,i){$("#jsModalConfirmUnblock img").attr("src",e),$(".confirm-action").removeAttr("data-id").attr("data-id","button-unignore"),connection_show_modal_confirm(a,t,s,i)}function connection_show_modal_confirm(e,t,a,s){$("#confirm-subtitle, #confirm-message").html(t),$(".confirm-action, .confirm-action-unignore").attr("onclick","modal_action('"+e+"', '"+a+"', '"+s+"')")}function searchConnection(){var e,t;""!=$("#search_connection_keyword").val()?($.ajax().abort(),e=$("#current-user").val(),t=$("#search_connection_keyword").val(),$("#loading-area").html(loading_img),$("#pagination").html(""),$.get("/profile/get_networkings/"+tab+"/0/"+e+"/0/"+t,function(e){$("#loading-area").html(e.html)},"json")):alert("Silahkan masukkan kata kunci terlebih dahulu.")}var topicDetailThreadLoading=!1,showcaseLoading=!1;function bindThreadShowcaseNext(){0<$("#trigger-showcase").length&&(window.addEventListener("resize",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("scroll",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("touch",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("click",fetch_more_thread_showcase,{passive:!0}))}function removeThreadShowcaseAutoload(){window.removeEventListener("resize",fetch_more_thread_showcase),window.removeEventListener("scroll",fetch_more_thread_showcase),window.removeEventListener("touch",fetch_more_thread_showcase),window.removeEventListener("click",fetch_more_thread_showcase),$("#trigger-showcase").hide()}function fetch_more_thread_showcase(){var i,e,o=$("#trigger-showcase");!showcaseLoading&&isElementInViewport(o)&&(showcaseLoading=!0,i=o.attr("data-offset"),e=o.attr("data-status"),$.ajax({url:KASKUS_URL+"/threadshowcase/load_more_hot_topic_list/"+i+"/?status="+e,type:"GET",xhrFields:{withCredentials:!0},success:function(e){0==(e="object"!=typeof e?$.parseJSON(e):e).error&&0!=e.showcases.length||(showcaseLoading=!1,removeThreadShowcaseAutoload());for(var t=e.showcases,a=$(".showcase-base").first(),s=0;s<t.length;s++)newElm=a.clone(),newElm.attr("href","/topic/"+t[s].url+"/?ref=topiclist&med=topicshowcase"),newElm.attr("onclick",t[s].tracking),$(newElm).find("img").attr("data-src",t[s].media_vertical),$(newElm).find("img").attr("alt",t[s].url),$(newElm).find("img").attr("class","mls-img"),newElm.removeClass("D(n) showcase-base"),newElm.insertBefore(a),$(".mls-img").kslzy(300);e=parseInt(parseInt(i)+t.length);o.attr("data-offset",e),showcaseLoading=!1,dataLayer.push({event:"trackEvent","eventDetails.category":"topic list","eventDetails.action":"load more","eventDetails.label":"topic"})},error:function(){showcaseLoading=!1,removeThreadShowcaseAutoload()}}))}function toggleUpVote(e,t=null){null===t?($(".is-up-vote",e).toggleClass("active"),e.parents(".vote-wrapper").find(".is-down-vote").removeClass("active")):doToggleUpVote(e,t)}function doToggleUpVote(e,t){e.toggleClass("active");var a=e.closest(".vote-wrapper"),s=0,i=a.find(".is-down-vote");i.hasClass("active")&&(i.removeClass("active"),s=-1),a.find(".vote-value").html(t.upvote-t.downvote),ga_custom_track_vote(e,t,s);a=a.find(".is-down-vote");a.hasClass("vote-thread")||a.addClass("vote-thread")}function toggleDownVote(e,t=null){null===t?($(".is-down-vote",e).toggleClass("active"),e.parents(".vote-wrapper").find(".is-up-vote").removeClass("active")):doToggleDownVote(e,t)}function doToggleDownVote(e,t){e.toggleClass("active");var a=e.closest(".vote-wrapper"),s=0,i=a.find(".is-up-vote");i.hasClass("active")&&(i.removeClass("active"),s=1),a.find(".vote-value").html(t.upvote-t.downvote),ga_custom_track_vote(e,t,s),1==t.disable_bata&&e.removeClass("vote-thread")}function ga_custom_track_vote(e,t,a){var s=e.attr("data-category"),i=e.attr("data-status-vote"),o=e.attr("data-postid"),r=e.attr("data-userid"),n=e.attr("data-postuserid");e.closest(".vote-wrapper");let l={event:"trackEvent","eventDetails.category":s,"eventDetails.label":o,userID:r,userIDHit:n,postID:o};0!=a?(l["eventDetails.action"]=a<0?"cendol":"bata",l.threadCendol=0<a?"-1":"1",l.threadBata=a<0?"-1":"1"):1==i?(i=e.closest(".vote-wrapper").find(".is-up-vote").hasClass("active"),l["eventDetails.action"]=i?"cendol":"uncendol",l.threadCendol=i?"1":"-1"):(e=e.closest(".vote-wrapper").find(".is-down-vote").hasClass("active"),l["eventDetails.action"]=e?"bata":"unbata",l.threadBata=e?"1":"-1"),_gaq.push(["_trackEvent",s,l["eventDetails.action"],o]),dataLayer.push(l)}function landing_connection(t){var e=t.attr("data-url"),a=t.attr("data-creator-id"),s=t.attr("data-user-id"),i=t.attr("data-creator-username"),o=$("#securitytoken").val();$.post(e,{securitytoken:o},function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#securitytoken").val(e.securitytoken),1==e.result?"Unfollow"==e.connection_type?(t.attr("data-default",e.label_connection),t.attr("data-hover",e.word),t.attr("data-url",e.url),t.text(e.label_connection),t.addClass("Bdw(1px) Bds(s) C(c-blue) Bgc(c-white) Bgc(c-red):h Bdc(c-red):h Td(n):h C(c-white):h"),t.removeClass("Bgc(c-blue) C(c-white) Bd(borderSolidLightGrey)"),followCustomMetrics("follow",s,a.toString()),showBottomToast(window.KASKUS_lang.success_follow_msg.replace("%s",i),3e3),bindTopKreatorHoverFollowBtn()):"Follow"==e.connection_type&&(t.removeAttr("data-default"),t.removeAttr("data-hover"),t.attr("data-url",e.url),t.text(e.word),e.hasOwnProperty("number_of_following")?(followCustomMetrics("unfollow",s,a.toString()),showBottomToast(window.KASKUS_lang.success_unfollow_msg.replace("%s",i),3e3)):(ignoreDataLayer("unignore"),showBottomToast(window.KASKUS_lang.success_unignore_msg.replace("%s",i),3e3)),t.addClass("Bdw(1px) Bds(s) Bgc(c-blue) C(c-white) Bd(borderSolidLightGrey)"),t.removeClass("C(c-blue) Bgc(c-white) Bgc(c-red):h Bdc(c-red):h Td(n):h C(c-white):h"),t.removeClass("Bgc(c-gray-2) Bgc(c-blue):h Td(n):h C(c-normal) C(c-white):h"),$(this).unbind("mouseenter mouseleave")):0==e.result&&showBottomToast(e.error_message,3e3)},"json")}function bindTopKreatorClickFollowBtn(){$(".jsLandingFollowBtn").click(function(){landing_connection($(this))})}function bindTopKreatorHoverFollowBtn(){$(".jsLandingFollowBtn").mouseenter(function(){$(this).text($(this).attr("data-hover"))}).mouseleave(function(){$(this).text($(this).attr("data-default"))})}function bindTopicDetailThreadNext(){0<$("#trigger-hot-topic-thread").length&&(window.addEventListener("resize",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("scroll",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("touch",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("click",fetch_more_topic_detail_thread,{passive:!0}))}function removeTopicDetailThreadAutoload(){window.removeEventListener("resize",fetch_more_topic_detail_thread),window.removeEventListener("scroll",fetch_more_topic_detail_thread),window.removeEventListener("touch",fetch_more_topic_detail_thread),window.removeEventListener("click",fetch_more_topic_detail_thread),$("#trigger-hot-topic-thread").hide()}function fetch_more_topic_detail_thread(){var e,t,r=$("#trigger-hot-topic-thread");!topicDetailThreadLoading&&isElementInViewport(r)&&(topicDetailThreadLoading=!0,e=r.attr("data-cursor"),t=r.attr("data-topic-url"),$.ajax({url:KASKUS_URL+"/threadshowcase/show_more/"+t,type:"POST",data:{cursor:e},xhrFields:{withCredentials:!0},success:function(e){var t=(e="object"!=typeof e?$.parseJSON(e):e).threadList;0==e.error&&0!=t.length||(topicDetailThreadLoading=!1,removeTopicDetailThreadAutoload());var a,s=$(".hot-topic-base").html(),i="",o="";for(a in t)iconColor="subscribe"==t[a].subcriptionState?" C(c-normal)":" C(#f8c31c)",t[a].metaImages&&(o='<div class="W(90px) Fx(flexZero) Mstart(10px) H(90px)">',o+='<a href="/thread/'+t[a].threadId+"?ref=topic-"+t[a].topicUrl+'&med=thread_list" onclick="'+t[a].threadUrlTracking+'">',o+='<img alt=" '+t[a].threadTitleSlug+'" data-src="'+t[a].metaImages+'" class="mls-img Bdrs(5px) Bdrsbstart(0) oFitCover W(100%) H(100%)">',o+="</a></div>"),i+=s.replace(/{{postUserId}}/g,t[a].postUserId).replace(/{{postUsername}}/g,t[a].postUsername).replace(/{{threadId}}/g,t[a].threadId).replace(/{{subcriptionState}}/g,t[a].subcriptionState).replace(/{{forumId}}/g,t[a].forumId).replace(/{{threadTitle}}/g,t[a].threadTitle).replace(/{{threadUrlTracking}}/g,t[a].threadUrlTracking).replace(/{{userId}}/g,t[a].userId).replace(/{{langSubscription}}/g,t[a].langSubscription).replace(/{{threadTitleSlug}}/g,t[a].threadTitleSlug).replace(/{{langFirstNewPostButton}}/g,t[a].langFirstNewPostButton).replace(/{{threadLastPostId}}/g,t[a].threadLastPostId).replace(/{{langLastPostButton}}/g,t[a].langLastPostButton).replace(/{{activeUpVoteState}}/g,t[a].activeUpVoteState).replace(/{{firstPostId}}/g,t[a].firstPostId).replace(/{{vote}}/g,t[a].vote).replace(/{{activeDownVoteState}}/g,t[a].activeDownVoteState).replace(/{{threadViewCount}}/g,t[a].threadViewCount).replace(/{{threadReplyCount}}/g,t[a].threadReplyCount).replace(/{{fbSharedUrl}}/g,t[a].fbSharedUrl).replace(/{{fbDataUrl}}/g,t[a].fbDataUrl).replace(/{{twitterSharedUrl}}/g,t[a].twitterSharedUrl).replace(/{{forumName}}/g,t[a].forumName).replace(/{{topicNameEncoded}}/g,encodeURIComponent(t[a].topicName)).replace(/{{forumParentId}}/g,t[a].forumParentId).replace(/{{forumParentName}}/g,t[a].forumParentName).replace(/{{channelId}}/g,t[a].channelId).replace(/{{channelName}}/g,t[a].channelName).replace(/{{whatsappSharedUrl}}/g,t[a].whatsappSharedUrl).replace(/{{fbMessengerSharedUrl}}/g,t[a].fbMessengerSharedUrl).replace(/{{shortThreadUrl}}/g,t[a].shortThreadUrl).replace(/{{iconColor}}/g,iconColor).replace(/{{topicName}}/g,t[a].topicName).replace(/{{topicId}}/g,t[a].topicId).replace(/{{metaImages}}/g,o).replace(/{{topicUrl}}/g,t[a].topicUrl).replace(/{{showGotoFirstNewPost}}/g,t[a].showGotoFirstNewPost).replace(/{{showGotoLastPost}}/g,t[a].showGotoLastPost);$("#threadlist_visualita .hot-topic-base").before(i),r.attr("data-cursor",e.nextCursor),topicDetailThreadLoading=!1,bindSubscribeButton(),bindOpenWhoPosted(),0<t.length&&(_gaq&&_gaq.push(["_trackEvent","topic detail","load more",t[a].topicName.toLowerCase()]),dataLayer&&dataLayer.push({event:"trackEvent","eventDetails.category":"topic detail","eventDetails.action":"load more","eventDetails.label":t[a].topicName.toLowerCase()})),$(".mls-img").kslzy(300)},error:function(){topicDetailThreadLoading=!1,removeTopicDetailThreadAutoload()}}))}function createHorizontalShareMenu(e){var t,a,s,i,o,r,n,l,d,c,u,p=e.find(".jsShareData");"false"==p.attr("data-created")&&(t=p.attr("data-fb-href"),a=p.attr("data-fb-url"),s=p.attr("data-twitter-href"),i=p.attr("data-threadid"),o=p.attr("data-forum-id"),c=decodeURIComponentSafe(p.attr("data-title")).replace("&#92;",""),r=p.attr("data-wa-href"),n=p.attr("data-fb-msg-href"),l=p.attr("data-short-thread-url"),u='<a target="_blank" href="'+t+'" data-url="'+a+'" data-threadid="'+i+'" onclick="threadlist_facebook_share(\''+a+"', '"+i+"');"+build_ga_custom_track_share_thread(c="hot-topic-detail"==p.attr("data-type")?(u="Fz(15px)",d={topicName:p.attr("data-topic-name"),topicId:p.attr("data-topicid")},"topic detail"):(u="Fz(18px)",d={},o+" "+c),"share thread","facebook",p,d)+';return false;" class="C(c-facebook) C(c-facebook-hover):h Mend(15px) '+u+'" ><i class="fab fa-facebook-f"></i></a><a target="_blank" href="'+n+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'facebook-messenger');"+build_ga_custom_track_share_thread(c,"share thread","facebook-messenger",p,d)+'" class="C(c-facebook-messenger) C(c-facebook-messenger-hover):h Mx(15px) '+u+'"><i class="fab fa-facebook-messenger"></i></a><a target="_blank" href="'+r+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'whatsapp');"+build_ga_custom_track_share_thread(c,"share thread","whatsapp",p,d)+'" class="C(c-whatsapp) C(c-whatsapp-hover):h Mx(15px) '+u+'"><i class="fab fa-whatsapp"></i></a><a target="_blank" href="'+s+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'twitter');"+build_ga_custom_track_share_thread(c,"share thread","twitter",p,d)+'" class="C(c-twitter) C(c-twitter-hover):h Mx(15px) '+u+'"> <i class="fab fa-twitter"></i></a><input class="shared_url'+i+'" type="hidden" value="'+l+'"><a href="javascript:void(0);" onclick="shareUrl(\''+i+"');"+build_ga_custom_track_share_thread(c,"share thread","link",p,d)+'" class="copy_button'+i+" C(c-primary) C(c-tertiary):h Mx(15px) "+u+'"><i class="far fa-link"></i></a>',p.attr("data-created","true"),e.find(".shareBar-list").append(u))}function shareUrl(e){new ClipboardJS(".copy_button"+e,{text:function(){return document.querySelector(".shared_url"+e).value}}),showBottomToast("Link Tersalin",2e3)}$("#threadlist_visualita, #hotthread_visualita").on("click",".vote-thread",function(e){var t=$(this);let a=t.data("postid"),s=(t.data("userid"),t.data("postuserid"),t.data("status-vote")),i=$("#securitytoken").val();return $.ajax({url:KASKUS_URL+"/give_vote/"+a,type:"POST",dataType:"json",data:{status:s,securitytoken:i},xhrFields:{withCredentials:!0},success:function(e){$("#securitytoken").val(e.securitytoken),1==e.result?((1==s?toggleUpVote:toggleDownVote)(t,e),$("#total-vote-"+a).text(e.total_vote),showBottomToast(e.message,2e3)):showBottomToast(e.message_return,2e3)},error:function(e){}}),!1});var config,messaging="",firebaseInitStatus=!1;function registerServiceWorker(){navigator.serviceWorker.register(KASKUS_URL+"/firebase-messaging-sw.js").then(function(e){messaging.useServiceWorker(e),"granted"==Notification.permission&&getRegistrationToken()}).catch(function(e){console.error("Service Worker registration error : ",e)})}function getRegistrationToken(){messaging.getToken().then(function(e){e?(sendTokenToServer(e),e!=getCookie("fcm_token")&&subscribeTopic(e)):setTokenSentToServer(!1)}).catch(function(e){console.log("An error occurred while retrieving token. ",e)})}function subscribeTopic(t){$.ajax({url:KASKUS_URL+"/misc/generateSecurityToken",type:"GET",xhrFields:{withCredentials:!0},success:function(e){return"object"!=typeof e&&(e=$.parseJSON(e)),$.ajax({url:KASKUS_URL+"/user/subscribeDefaultTopic",type:"POST",data:{fcm_token:t,securitytoken:e.securitytoken},xhrFields:{withCredentials:!0},success:function(e){return e="object"!=typeof e?$.parseJSON(e):e},error:function(e){}}),e},error:function(e){}})}function requestPerm(){Notification.requestPermission().then(function(e){$(".request_fcm_section").addClass("D(n)")}).catch(function(e){console.log("Unable to get permission to notify.",e)})}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var i=a[s];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function sendTokenToServer(e){isTokenSentToServer()||setTokenSentToServer(!0)}function isTokenSentToServer(){return"1"===window.localStorage.getItem("sentToServer")}function setTokenSentToServer(e){window.localStorage.setItem("sentToServer",e?"1":"0")}function show_request_fcm_popup(){"Notification"in window&&"default"===Notification.permission&&1==firebaseInitStatus&&$(".request_fcm_section").removeClass("D(n)")}function bindRequestFcm(){$(".request_fcm").unbind("click").click(function(){requestPerm()})}$(document).ready(function(){config={apiKey:WEB_PUSH_API_KEY,authDomain:WEB_PUSH_AUTH_DOMAIN,databaseURL:WEB_PUSH_DATABASE_URL,projectId:WEB_PUSH_PROJECT_ID,storageBucket:WEB_PUSH_STORAGE_BUCKET,messagingSenderId:WEB_PUSH_MESSAGING_SENDER_ID,appId:WEB_PUSH_APP_ID};try{firebase.initializeApp(config),(messaging=firebase.messaging()).usePublicVapidKey(WEB_PUSH_CERTIFICATE),messaging.onMessage(function(e){let t=e.data.title,a={body:e.data.body,icon:e.data.icon,image:e.data.image,badge:PUSH_NOTIFICATION_BADGE,tag:e.data.tag,renotify:!0,data:{click_action:e.data.url}};navigator.serviceWorker.ready.then(function(e){return e.showNotification(t,a)})}),messaging.onTokenRefresh(function(){messaging.getToken().then(e=>{setTokenSentToServer(!1),sendTokenToServer(e),getRegistrationToken()}).catch(e=>{console.log("Unable to retrieve refreshed token ",e)})}),bindRequestFcm(),registerServiceWorker(),firebaseInitStatus=!0}catch(e){}}),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(e){e.addEventListener("change",function(){"granted"==e.state&&getRegistrationToken()})});var catLoaded,retryFetch=!0;function threadlist_facebook_share(e,t){return FB.ui({method:"share",href:e},function(e){e&&!e.error_code&&threadlist_share_count(t,"facebook")}),!1}function threadlist_share_count(e,t){$.ajax({url:KASKUS_URL+"/misc/update_share_count",type:"POST",data:{share_type:t,thread_id:e},xhrFields:{withCredentials:!0},success:function(e){},error:function(e){}})}function printDiv(e){window.frames.print_frame.document.body.innerHTML=document.getElementById(e).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function notice(e,t){void 0===t&&(t=3e3),document.notice_tid&&clearTimeout(document.notice_tid),$("#notice_span").html(e),$("#floating_notice").show(),document.notice_tid=setTimeout(function(){$("#floating_notice").fadeOut()},t)}function printContent(e){var t=document.body.innerHTML,e=document.getElementById(e).innerHTML;document.body.innerHTML=e,window.print(),document.body.innerHTML=t}function show_signin_popup(){$.ajax({url:"/user/login/",success:function(e){$("#jsModalSignin .modal-body").html(e),$("#username").focus()}})}function show_signup_popup(){$.ajax({url:"/register/index/",success:function(e){$("#jsModalSignin .modal-body").html(e),$("#signup_email").focus()}})}var local_search_history_date,local_search_history,local_top_keyword_date,local_top_keyword,last_search_history,last_top_keyword,ten_minutes=600,one_second=1,indexSelected=-1,last_process_time=0;function get_search_dropdown(){var e=Date.now()/1e3;parseFloat(last_process_time)+one_second>e||(last_process_time=e,get_top_keyword(),get_search_history(),show_search_drop_down(),bindOnClickSearchButton())}function show_search_drop_down(){var e=get_term_local_data("top_keyword"),t=get_cookie_term_local_data("search_history_"+user_id);show_template_search(e,"top_search_choice","#top_search","last_top_keyword"),show_template_search(t,"history_search_choice","#history_search","last_search_history"),$(".jsSearchResult li").hover(function(e){$(".jsSearchResult").find("li.is-selected").removeClass("is-selected"),$(this).addClass("is-selected"),indexSelected=$(".jsSearchResult li").index($(this))}),$(".jsSearchResult li").mousedown(function(e){if(e.preventDefault(),$(this).find("a").hasClass("categorySearch")){e=$(this).find("a").attr("data-term");void 0!==$(this).find("a").attr("data-forum-id")&&(e+=" fid:"+$(this).find("a").attr("data-forum-id")),$("#search").val(e)}else if($(this).find("a").hasClass("forumSearch")){if(void 0!==$(this).find("a").attr("data-url"))return url=$(this).find("a").attr("data-url"),void(window.location.href=url)}else $("#search").val($(this).text());$("#btn-search").click()})}function show_template_search(e,t,a,s){var i,o="";for(i in e)o+='<li><a href="javascript:void(0);" class="D(b) P(5px) C(c-normal) Fz(12px) Td(n):h Bgc(c-semiwhite):h resultTerm">'+e[i]+"</a></li>";o!=window[s]&&(document.getElementById(t).innerHTML=o,window[s]=o,indexSelected=-1),""==o?$(a).hide():$(a).show()}function bindOnClickSearchButton(){$("#btn-search").on("click",function(e){void 0!==$("#searchform").attr("data-url")&&(e.preventDefault(),url=$("#searchform").attr("data-url"),window.location.href=url)})}function get_top_keyword(){var e=localStorage?parseFloat(localStorage.getItem("top_keyword_date")):local_top_keyword_date,t=Date.now()/1e3;(isNaN(e)||e+ten_minutes<t)&&$.ajax({url:"/misc/get_top_keyword",success:function(e){localStorage?(localStorage.setItem("top_keyword",e),localStorage.setItem("top_keyword_date",Date.now()/1e3)):(local_top_keyword=JSON.parse(e),local_top_keyword_date=Date.now()/1e3),show_search_drop_down()},error:function(){show_search_drop_down()}})}function get_search_history(){var e=parseFloat($.cookie("search_history_date_"+user_id)),a=Date.now()/1e3;(isNaN(e)||e+ten_minutes<a)&&$.ajax({url:"/misc/get_search_history",success:function(e){var t="undefined"!=typeof KASKUS_COOKIE_DOMAIN?KASKUS_COOKIE_DOMAIN:COOKIE_DOMAIN;a=Date.now()/1e3,$.cookie("search_history_"+user_id,e,{expires:a+ten_minutes,path:"/",domain:t,secure:!1}),$.cookie("search_history_date_"+user_id,a,{expires:a+ten_minutes,path:"/",domain:t,secure:!1}),show_search_drop_down()},error:function(){show_search_drop_down()}})}function get_term_local_data(e){var t={};if(localStorage){if(t=localStorage.getItem(e))try{t=JSON.parse(t)}catch(e){t={}}}else t=window["local_"+e];return t||{}}function get_cookie_term_local_data(e){var t=$.cookie(e);try{t=JSON.parse(t)}catch(e){t={}}return t}function remove_search_history(){$.ajax({url:"/misc/remove_search_history",success:function(){var e="undefined"!=typeof KASKUS_COOKIE_DOMAIN?KASKUS_COOKIE_DOMAIN:COOKIE_DOMAIN;date_now=Date.now()/1e3,$.cookie("search_history_"+user_id,"[]",{expires:date_now+ten_minutes,path:"/",domain:e,secure:!1}),$.cookie("search_history_date_"+user_id,date_now,{expires:date_now+ten_minutes,path:"/",domain:e,secure:!1}),show_search_drop_down()}})}function fetchCategories(i=!1){var e=KASKUS_URL+"/misc/get_categories/"+catVersion;$.retrieveJSON(e,{},function(e){if(retryFetch&&e.version!=catVersion)$.clearJSON(t,{}),retryFetch=!1,fetchCategories(i);else if(0==i){var a;$("#cat-forum").replaceWith(e.forum),$("#cat-jb").replaceWith(e.jb),catLoaded=!0,$("#filter-cat-forum").bind("keydown keyup",function(e){var t=$("#update-tag ul.sidebar-category").find("li");if(40===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.next(),0<next.length?a=next.addClass("selected"):a.addClass("selected")):a=t.eq(0).addClass("selected")),$(".scrolling-con-update ul li.selected").position().top;else if(38===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.prev(),0<next.length?a=next.addClass("selected"):a.addClass("selected")):a=t.last().addClass("selected"));else if(13===e.which)0<$(".scrolling-con-update").find("li.selected").length&&(window.location=$(".scrolling-con-update li.selected .categories-title").children("a").attr("href"));else if("keyup"===e.type){$("#update-tag ul.sidebar-category").find("li").removeClass("selected"),s=$("#filter-cat-forum").val(),$(".flyout__search i").removeClass("fa-search"),$(".flyout__search i").addClass("fa-times"),$("#jsCategoryTabForum .flyout__search i.fa-times").click(function(e){$(this).removeClass("fa-times"),$(this).addClass("fa-search"),$("#filter-cat-forum").val(""),$("#update-tag").html(""),$("#update-tag").addClass("hide")});try{if(myExp=new RegExp(s,"i"),""===s)return $("#update-tag").addClass("hide"),$("#jsCategoryTabForum .flyout__search i").removeClass("fa-times"),$("#jsCategoryTabForum .flyout__search i").removeClass("fa-search"),!1;$.retrieveJSON(urlCatJSON,{usergroupid:userGroupIdJSON},function(e){$("#update-tag").removeClass("hide"),output='<ul class="flyout__result__list"><div class="flyout__scroll flyout__scroll--up"><i class="fa fa-chevron-up"></i></div>',$.each(e,function(e,t){-1!=t.forum_name.search(myExp)&&(output+='<li class="flyout__result__item">',output+='<a class="flyout__result__link" href="'+decodeURIComponent(t.forum_url)+'">',output+='<img src="'+decodeURIComponent(t.forum_icon)+'" alt="" width="20" height="20" ><span>'+decodeURIComponent(t.forum_name),output+="</span></a>",output+="</li>")}),output+='<div class="flyout__scroll flyout__scroll--down"><i class="fa fa-chevron-down"></i></div></ul>',$("#update-tag").html(output)},864e5),a="",checkScroller(".flyout__result__list")}catch(e){}}}),$("#filter-cat-jb").bind("keydown keyup",function(e){var t=$("#update-tag ul.sidebar-category").find("li");if(40===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.next(),0<next.length?a=next.addClass("selected"):a.addClass("selected")):a=t.eq(0).addClass("selected")),$(".scrolling-con-update ul li.selected").position().top;else if(38===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.prev(),0<next.length?a=next.addClass("selected"):a.addClass("selected")):a=t.last().addClass("selected"));else if(13===e.which)0<$(".scrolling-con-update").find("li.selected").length&&(window.location=$(".scrolling-con-update li.selected .categories-title").children("a").attr("href"));else if("keyup"===e.type){$("#update-tag ul.sidebar-category").find("li").removeClass("selected"),s=$("#filter-cat-jb").val(),$(".flyout__search i").removeClass("fa-search"),$(".flyout__search i").addClass("fa-times"),$("#jsCategoryTabJB .flyout__search i.fa-times").click(function(){$(this).removeClass("fa-times "),$(this).addClass("fa-search "),$("#filter-cat-jb").val(""),$("#update-tag").html(""),$("#update-tag").addClass("hide")});try{if(myExp=new RegExp(s,"i"),""===s)return $("#update-tag").addClass("hide"),$("#jsCategoryTabJB .flyout__search i").removeClass("fa-times"),$("#jsCategoryTabJB .flyout__search i").addClass("fa-search"),!1;$.retrieveJSON(urlCatJSON,{usergroupid:userGroupIdJSON},function(e){$("#update-tag").removeClass("hide"),output='<ul class="flyout__result__list"><div class="flyout__scroll flyout__scroll--up"><i class="fa fa-chevron-up"></i></div>',$.each(e,function(e,t){-1!=t.forum_name.search(myExp)&&(output+='<li class="flyout__result__item">',output+='<a class="flyout__result__link" href="'+decodeURIComponent(t.forum_url)+'">',output+='<img src="'+decodeURIComponent(t.forum_icon)+'" alt="" width="20" height="20" ><span>'+decodeURIComponent(t.forum_name),output+="</span></a>",output+="</li>")}),output+='<div class="flyout__scroll flyout__scroll--down"><i class="fa fa-chevron-down"></i></div></ul>',$("#update-tag").html(output)},864e5),a="",checkScroller(".flyout__result__list")}catch(e){}}}),0<$(".flyout__tab__pane > .flyout__category__list").length&&$(".flyout__tab__pane > .flyout__category__list")[0].scrollHeight>$(".flyout__tab__pane > .flyout__category__list").height()&&$(".flyout__tab__pane > .flyout__category__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),$(".flyout__category__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__result__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__category-children__list").bind("scroll",function(){checkScroller($(this))})}else try{var s=$("#search").val();if(""==s)return $("#forum_search").addClass("D(n)"),$("#forum_search_choice").addClass("D(n)"),void $("#forum_search_choice").html("");myExp=new RegExp(s,"i");var t="/misc/forum_categories/";$.retrieveJSON(t,{usergroupid:userGroupIdJSON},function(e){var s="",i=0;$.each(e,function(e,t){var a;-1!=t.forum_name.search(myExp)&&i<5&&(a=(a=decodeURIComponent(t.forum_url)).split("?")[0]+"?"+jQuery.param({ref:"header",med:"search"}),s+='<li><a data-url="'+a+'" href="'+a+'" class="D(b) forumSearch P(5px) C(c-normal) Fz(12px) Td(n):h Bgc(c-semiwhite):h resultTerm">'+decodeURIComponent(t.forum_name)+"</a></li>",i++)}),""!=s?($("#forum_search_choice").html(s),$("#forum_search").removeClass("D(n)"),$("#forum_search_choice").removeClass("D(n)")):($("#forum_search").addClass("D(n)"),$("#forum_search_choice").addClass("D(n)"),$("#forum_search_choice").html(""))},864e5)}catch(e){}},36e5)}function gaTrackOb(e){var t,a,s,i,o,r=e.attr("data-type"),n=e.attr("data-category"),l=e.attr("data-state"),d=e.attr("data-action-tracking"),c=e.attr("data-forumid"),u=e.attr("data-forum-name"),p=e.attr("data-forum-parentid"),m=e.attr("data-forum-parent-name"),h=e.attr("data-channelid"),f=e.attr("data-channel-name"),g="subscribe"==l?"1":"-1";"thread"==r?(t=e.attr("data-label"),a=e.attr("data-id"),s=e.attr("data-userid"),i=e.attr("data-title"),o=e.attr("data-author"),_gaq.push(["_trackEvent",n,l,t]),obj={event:"trackEvent","eventDetails.category":n,"eventDetails.action":l,"eventDetails.label":t,threadSubscriber:g,userID:s,threadId:a,threadTitle:i,author:o,forumId:c,forumName:u,forumParentId:p,forumParentName:m,channelId:h,channelName:f},e.attr("data-topic-name")&&(obj.topicName=e.attr("data-topic-name"),obj.topicId=e.attr("data-topicid"),obj["eventDetails.label"]="thread-"+obj["eventDetails.label"]),dataLayer.push(obj)):"forum"==r&&(t="forum-"+c,d?t=e.attr("data-label"):d="",_gaq.push(["_trackEvent",n,l+d,t]),dataLayer.push({event:"trackEvent","eventDetails.category":n,"eventDetails.action":l+d,"eventDetails.label":t,forumSubscriber:g,userID:user_id,forumId:c,forumName:u,forumParentId:p,forumParentName:m,channelId:h,channelName:f}))}var subscribeUnsubscribeOnProgress=!1,subscribeUnsubscribeEls=[];function subscribeUnsubscribe(a){var s,e,t;subscribeUnsubscribeEls.indexOf(a.attr("id"))<0&&subscribeUnsubscribeEls.push(a.attr("id")),subscribeUnsubscribeOnProgress||(subscribeUnsubscribeOnProgress=!0,s=a.attr("data-state"),e=a.attr("data-type"),t=a.attr("data-id"),e="/myforum/"+s+"/"+e+"/"+t,t=$("#securitytoken").val(),a.data("name"),t?$.ajax({type:"POST",url:e,data:{securitytoken:t},xhrFields:{withCredentials:!0},success:function(e){var t;"TRUE"==(e="object"!=typeof e?$.parseJSON(e):e).flag?(gaTrackOb(a),"subscribe"==s?($("#securitytoken").val(e.securitytoken),a.attr("data-state","unsubscribe"),"icon"==a.attr("data-style")?((t=a.find("i:first")).addClass("C(#f8c31c)"),t.removeClass("C(c-grey) D(n) listThreadItem:h_D(b) C(#f8c31c):h Cur(p):h is-animate")):"icon-category"==a.attr("data-style")?((t=a.find("i:first")).addClass("C(#f8c31c) C(c-grey):h"),t.removeClass("C(c-grey) D(n) listForumItem:h_D(b) C(#f8c31c):h")):"icon-thread"==a.attr("data-style")?(a.attr("title",a.attr("title-unsubscribe")),(t=a.find("i:first")).removeClass("C(c-tertiary)"),t.addClass("C(c-yellow-1)"),document.querySelector(".jsSubscribeThreadIcon")._tippy.setContent(a.attr("title-unsubscribe")),showBottomToast("Subscribe Thread Berhasil",1500)):"icon-thread-visualita"==a.attr("data-style")?(a.find("i").removeClass("C(c-normal)").addClass("C(#f8c31c)"),a.find("span:first").text("Unsubscribe"),showBottomToast("Subscribe Thread Berhasil",1500)):a.find("span:first").text("Unsubscribe"),"forum"==a.data("type")&&("button-forum"==a.attr("data-style")?((t=a.find("i:first")).removeClass("C(c-gray-2)"),t.addClass("C(c-yellow-1)"),$(a).find("i")[0]._tippy.setContent(window.KASKUS_lang.unsubscribe_forum),t.attr("data-tippy-content",window.KASKUS_lang.unsubscribe_forum),showBottomToast(window.KASKUS_lang.subscribe_forum_success,1500)):"menu-search"==a.attr("data-style")?((t=a.find("i:first")).removeClass("C(c-grey) D(n) C(#f8c31c):h"),t.addClass("C(c-grey):h C(#f8c31c)")):((t=a.find("i:first")).removeClass("C(c-grey) D(n)"),t.addClass("C(#f8c31c)")))):(a.attr("data-state","subscribe"),"icon"==a.attr("data-style")?((t=a.find("i:first")).removeClass("C(#f8c31c)"),t.addClass("C(c-grey) D(n) listThreadItem:h_D(b) C(#f8c31c):h Cur(p):h is-animate")):"icon-category"==a.attr("data-style")?((t=a.find("i:first")).removeClass("C(#f8c31c)"),t.addClass("C(c-grey) D(n) listForumItem:h_D(b) C(#f8c31c):h Cur(p):h")):"icon-thread"==a.attr("data-style")?(a.attr("title",a.attr("title-subscribe")),(t=a.find("i:first")).removeClass("C(c-yellow-1)"),t.addClass("C(c-tertiary)"),document.querySelector(".jsSubscribeThreadIcon")._tippy.setContent(a.attr("title-subscribe")),showBottomToast("Unsubscribe Thread Berhasil",1500)):"icon-thread-visualita"==a.attr("data-style")?(a.find("i").addClass("C(c-normal)").removeClass("C(#f8c31c)"),a.find("span:first").text("Subscribe"),showBottomToast("Unsubscribe Thread Berhasil",1500)):a.find("span:first").text("Subscribe"),"forum"==a.data("type")&&("button-forum"==a.attr("data-style")?((t=a.find("i:first")).removeClass("C(c-yellow-1)"),t.addClass("C(c-gray-2)"),$(a).find("i")[0]._tippy.setContent(window.KASKUS_lang.subscribe_forum),t.attr("data-tippy-content",window.KASKUS_lang.subscribe_forum),showBottomToast(window.KASKUS_lang.unsubscribe_forum_success,1500)):"menu-search"==a.attr("data-style")?((t=a.find("i:first")).removeClass("C(c-grey):h C(#f8c31c)"),t.addClass("C(c-grey) D(n) C(#f8c31c):h")):((t=a.find("i:first")).removeClass("C(#f8c31c)"),t.addClass("C(c-grey) D(n)"))),"true"==a.attr("data-thread-subscription")&&showHideThreadByModTools([a.attr("data-id")]))):"FALSE"==e.flag?($("#securitytoken").val(e.securitytoken),showBottomToast(e.message_return,1500)):window.location="/user/login";e=subscribeUnsubscribeEls.indexOf(a.attr("id"));-1<e&&subscribeUnsubscribeEls.splice(e,1),subscribeUnsubscribeOnProgress=!1,0<subscribeUnsubscribeEls.length&&subscribeUnsubscribe($("#"+subscribeUnsubscribeEls[0]))},error:function(e){var t=subscribeUnsubscribeEls.indexOf(a.attr("id"));-1<t&&subscribeUnsubscribeEls.splice(t,1),subscribeUnsubscribeOnProgress=!1,0<subscribeUnsubscribeEls.length&&subscribeUnsubscribe($("#"+subscribeUnsubscribeEls[0]))}}):window.location.href=e)}function updateForumCategories(e,t,a){var s=e.parent().find("a"),i=e.parent(),e=$("<div/>",{class:"Pos(r) listForumItem subscribed Bgc(c-lightgrey-2):h My(3px)"}).appendTo(t);$(s).appendTo(e),$(i).remove(),e.attr("data-name",a),0==$("#subscribed_forum").find(".subscribed").length&&($("#subscribed_forum > div").remove(),$("#subscribed_forum").hide()),sortCategories($(t).find(".subscribed"),t)}function sortCategories(e,t){e.sort(function(e,t){e=e.getAttribute("data-name"),t=t.getAttribute("data-name");return t<e?1:e<t?-1:0}),e.detach().appendTo(t)}$(".jsFollowingButton").hover(function(){$(this).find("span").text($(this).data("hover"))},function(){$(this).find("span").text($(this).data("default"))}),$(".jsButtonFollowingHeader").hover(function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-times fa-user-minus")},function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-times fa-user-minus")}),$(".jsButtonBlockedHeader").hover(function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")},function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")}),$(".flyout__trigger").on("mouseenter",function(){$(".flyout__anchor").show(),$(this).addClass("is-active"),toggleOverlay(),0<$(".flyout__tab__pane > .flyout__category__list").length&&$(".flyout__tab__pane > .flyout__category__list")[0].scrollHeight>$(".flyout__tab__pane > .flyout__category__list").height()&&$(".flyout__tab__pane > .flyout__category__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),0<$(".flyout__subscribed__list").length&&$(".flyout__subscribed__list")[0].scrollHeight>$(".flyout__subscribed__list").height()&&$("flyout__subscribed__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).on("mouseleave",function(){$(".flyout__anchor").hide(),$(this).removeClass("is-active"),toggleOverlay()}),$(".flyout__content").mouseenter(function(){$(this).closest(".flyout__anchor").show()}).mouseleave(function(){$(this).closest(".flyout__anchor").hide()}),$(".flyout__category__item--has-children , .flyout__category-children__item--has-children").mouseover(function(){$(this).closest(".flyout__content").addClass("flyout__content--triggered"),0<$(this).find(".flyout__category-children__list").first().length&&$(this).find(".flyout__category-children__list").first()[0].scrollHeight>$(this).find(".flyout__category-children__list").first().height()&&$(this).find(".flyout__category-children__list").first().siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).mouseout(function(){$(this).closest(".flyout__content").removeClass("flyout__content--triggered")}),$(".flyout__subscribed__anchor").mouseover(function(){$(this).closest(".flyout__content").addClass("flyout__content--triggered"),$(this).closest(".flyout__anchor").addClass("flyout__anchor--subscribed"),0<$(this).find(".flyout__subscribed__list").length&&$(this).find(".flyout__subscribed__list")[0].scrollHeight>$(this).find(".flyout__subscribed__list").height()&&$(this).find(".flyout__subscribed__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).mouseout(function(){$(this).closest(".flyout__content").removeClass("flyout__content--triggered"),$(this).closest(".flyout__anchor").removeClass("flyout__anchor--subscribed")}),$(".flyout__subscribed__panel").mouseover(function(){$(this).siblings(".flyout__subscribed__anchor__link").addClass("flyout__subscribed__anchor__link--hovered")}).mouseout(function(){$(this).siblings(".flyout__subscribed__anchor__link").removeClass("flyout__subscribed__anchor__link--hovered")}),$(".flyout__category__panel").mouseover(function(){$(this).siblings(".flyout__category__link").addClass("flyout__category__link--hovered"),$(this).siblings(".flyout__category-children__link").addClass("flyout__category-children__link--hovered")}).mouseout(function(){$(this).siblings(".flyout__category__link").removeClass("flyout__category__link--hovered"),$(this).siblings(".flyout__category-children__link").removeClass("flyout__category-children__link--hovered")});var positionOverlayHeader,scrolling=!1;function scrollContent(e,t){var a="up"===e?"-=5px":"+=5px";$(t).animate({scrollTop:a},1,function(){scrolling&&scrollContent(e,t)})}function scrollModerationTool(){$(".jsPodcastWidgetHeaderIframe").hasClass("is-scrolled")?$(".jsModerationTool").css("top","100px"):$(".jsModerationTool").css("top","58px")}function scrollTooltipReputation(){var e=$(window).height(),t=$(window).scrollTop(),a=$(".firstPostBot").offset();0<$(".firstPostBot").length&&t>a.top-e+64&&$(".jsTooltipReputation").addClass("is-visible")}$(".flyout__scroll--down").bind("mouseover",function(e){scrolling=!0,scrollContent("down",$(this).siblings(".flyout__category-children__list")),scrollContent("down",$(this).siblings(".flyout__category__list")),scrollContent("down",$(this).siblings(".flyout__result__list")),scrollContent("down",$(this).siblings(".flyout__subscribed__list"))}).bind("mouseout",function(e){scrolling=!1}),$(".flyout__scroll--up").bind("mouseover",function(e){scrolling=!0,scrollContent("up",$(this).siblings(".flyout__category-children__list")),scrollContent("up",$(this).siblings(".flyout__category__list")),scrollContent("up",$(this).siblings(".flyout__result__list")),scrollContent("up",$(this).siblings(".flyout__subscribed__list"))}).bind("mouseout",function(e){scrolling=!1}),$(window).bind("scroll",function(){$(".jsLeaderboardSkyscrapper").length&&scrollSkyscrapper(),scrollHeaderSticky(),scrollTooltipReputation(),0<$(".postItemFirst").length&&stickyShare(),scrollModerationTool()});var onTop=!0;function scrollHeaderSticky(){var e=$(".jsNavHeader").offset().top+$(".jsNavHeader").height();$(window).scrollTop()>e?($(".jsSearchSticky").removeClass("is-clicked"),$(".jsSearchOutterWrapper").hide(),$(".jsSearchOutterWrapper").appendTo(".jsSearchSticky"),$(".jsStickyHeader").css("transform","translateY(0px)"),positionOverlayHeader=0,$(".jsFlyoutAnchor").appendTo(".jsFlyoutTriggerSticky"),$(".jsUserDropdownMenu").appendTo(".jsUserAnchorSticky"),$(".jsNotificationDropdownMenu").appendTo(".jsNotificationAnchorSticky"),$(".jsSearchFormInput").is(":focus")&&$(".jsSearchFormInput").blur(),1==onTop&&$(".jsPodcastWidgetHeaderIframe").hasClass("is-sticky")&&(setTimeout(function(){$(".jsPodcastWidgetHeaderIframe").toggleClass("is-scrolled Pos(f) Pos(a) Start(0) T(0) T(50px)")},300),onTop=!1),$(".jsSearchFormInput").blur()):($(".jsSearchSticky, .jsSearchTrigger").removeClass("is-clicked"),$(".jsSearchOutterWrapper").appendTo(".jsSearchTrigger"),$(".jsStickyHeader").css("transform","translateY(-200px)"),$(".jsFlyoutAnchor").appendTo(".jsFlyoutTrigger"),$(".jsUserDropdownMenu").appendTo(".jsUserAnchor"),0==onTop&&$(".jsPodcastWidgetHeaderIframe").hasClass("is-sticky")&&($(".jsPodcastWidgetHeaderIframe").toggleClass("is-scrolled Pos(f) Pos(a) Start(0) T(0) T(50px)"),onTop=!0),$(".jsNotificationDropdownMenu").appendTo(".jsNotificationAnchor"))}function scrollSkyscrapper(){var e=$(".jsLeaderboardSkyscrapper").offset().top,t=$(".jsStickyHeader").height(),a=$(".jsMainContent").outerHeight(!0),s=$(".jsLeaderboardAds").length?$(".jsLeaderboardAds").outerHeight(!0):0,i=$(".jsNoticeBoard").length?$(".jsNoticeBoard").outerHeight(!0)*$(".jsNoticeBoard").length:0,o=$(".jsBreadcrumb").length?$(".jsBreadcrumb").outerHeight(!0):0,r=t+10,o=a+($(".jsBottomLeaderboardAds").length?$(".jsBottomLeaderboardAds").outerHeight(!0):0)+s+i+o-600,e=e-t-10,t=$(".jsMainFooter").offset().top-600-r-30;$(window).scrollTop()>e?($(".jsSkyscrapperAds").css("position","fixed"),$(".jsSkyscrapperAds").css("transform","translateY("+r+"px)"),$(window).scrollTop()>t&&($(".jsSkyscrapperAds").css("position","absolute"),$(".jsSkyscrapperAds").css("transform","translateY("+o+"px)"))):($(".jsSkyscrapperAds").css("position","initial"),$(".jsSkyscrapperAds").css("transform","none"))}function checkStickySubforumSidebar(){var e,t=$(".jsMainContent").offset().top,a=$(".jsMainContent").outerHeight(),s=$(".jsSubforumFixedSidebar").outerHeight();$(window).scrollTop()>t-50?($(".jsSubforumFixedSidebar").css("top","50px"),$(window).scrollTop()>t+a-s-50&&(e=t+a-$(window).scrollTop()-s,$(".jsSubforumFixedSidebar").css("top",e+"px"))):(e=$(".jsMainContent").offset().top-$(window).scrollTop(),$(".jsSubforumFixedSidebar").css("top",e+"px"))}function checkScroller(e){e[0].scrollHeight>e.height()&&(e[0].scrollHeight-e.scrollTop()==e.outerHeight()?e.siblings(".flyout__scroll--down").removeClass("flyout__scroll--on"):0===e.scrollTop()?e.siblings(".flyout__scroll--up").removeClass("flyout__scroll--on"):(e.siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),e.siblings(".flyout__scroll--up").addClass("flyout__scroll--on")))}function toggleOverlay(){"block"!=$(".jsNavHeaderOverlay").css("display")?($(".jsNavHeaderOverlay").show(),$(".jsNavHeaderOverlay").css("top",positionOverlayHeader+"px")):$(".jsNavHeaderOverlay").hide()}function showBottomToast(e,t){$(".jsBottomToast").addClass("is-visible"),$(".jsBottomToast").text(e),setTimeout(function(){$(".jsBottomToast").removeClass("is-visible")},t)}function selectBadge(e){$(".jsModal").removeClass("is-open");var t=$(e).attr("data-modal"),t=$("#"+t);t.addClass("is-open"),t.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)"),t.find(".jsBadgeNumber").text("Pilih Badge "+$(e).attr("data-badgenum"))}function bindPopoverMenu(){$("body").on("click",".jsPopoverTrigger",function(){var e=$(".jsPopoverTrigger").not(this);e.removeClass("C(c-blue)").addClass("C(c-primary)"),e.next().removeClass("is-visible"),$(this).next().hasClass("is-visible")?($(this).removeClass("C(c-blue)").addClass("C(c-primary)"),$(this).next().removeClass("is-visible")):($(this).addClass("C(c-blue)").removeClass("C(c-primary)"),$(this).next().addClass("is-visible"))})}function showReplyTools(){$(".jsReplyTools").show(),$(".jsReplyUser").removeClass("Pos(a)"),$(".jsReplyUser span").show(),$(this).removeClass("Px(40px)")}function openModal(e){$(".jsModal").removeClass("is-open");e=$("#"+e);e.addClass("is-open"),e.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)")}function closeModal(){$(".jsModal").removeClass("is-open is-animate"),$("body").removeClass("Ov(h)"),resetInputAvatarAndCoverValue()}function insertBBCode(e,t,a){var s=document.querySelector(a),i=$(a),o=s.selectionStart,r=s.selectionEnd,n=i.val(),a=n.substring(o,r),e=e,t=t;i.val(n.substring(0,o)+e+a+t+n.substring(r)),s.selectionStart=o+e.length+a.length+t.length,s.selectionEnd=r+e.length,s.focus()}function insertBBCodeNoSelection(e,t){var a=document.querySelector(t),s=$(t),i=a.selectionStart,o=a.selectionEnd,t=s.val(),e=e;s.val(t.substring(0,i)+e+t.substring(o)),a.selectionStart=i+e.length,a.selectionEnd=o+e.length,a.focus()}function getSelectedText(e){var t=document.querySelector(e),a=t.value,e=t.selectionStart,t=t.selectionEnd;return a.substring(e,t)}function createSpoiler(t){swal("Masukkan Judul Spoiler:",{content:"input"}).then(e=>{null!==e&&insertBBCode("[spoiler="+e+"]","[/spoiler]",t)})}function createLink(t){var e='<div class="Ta(s)">        <div class="Fz(16px) Mb(10px)">URL:</div>        <input class="swal-content__input" id="jsLinkInputUrl" placeholder="http://">        <div class="Fz(16px) My(10px)">Text to display:</div>        <input value="'+getSelectedText(t)+'" class="swal-content__input" id="jsLinkMediaInputText" placeholder="Link Url">      </div>',e=$.parseHTML(e);swal({content:e[0],buttons:{confirm:{value:""}}}).then(e=>{null!==e&&insertBBCodeNoSelection("[url="+$("#jsLinkInputUrl").val()+"]"+$("#jsLinkMediaInputText").val()+"[/url]",t)})}function openBBFontDropdown(e,t){$(e).click(function(){$(t).is(":visible")?($(t).addClass("D(n)"),$(e).removeClass("active")):($(".jsBBMention, .jsBBMedia, .jsBBSmilies").removeClass("active"),$(".jsExtraForm").addClass("D(n)"),$(t).removeClass("D(n)"),$(e).addClass("active"))})}function insertBBCodeFont(e,t,a){$(e+" a").click(function(){var e=$(this).data(t);insertBBCode("["+t+"="+e+"]","[/"+t+"]",a)})}function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$(".flyout__category__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__subscribed__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__result__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__category-children__list").bind("scroll",function(){checkScroller($(this))}),$(".jsBBSpoiler").click(function(){createSpoiler(".jsAdvancedReplyTextarea")}),$(".jsBBLink").click(function(){createLink(".jsAdvancedReplyTextarea")}),openBBFontDropdown(".jsBBFontName",".jsBBFontPicker"),openBBFontDropdown(".jsBBFontSize",".jsBBSizePicker"),openBBFontDropdown(".jsBBFontColor",".jsBBColorPicker"),openBBFontDropdown(".jsBBSmilies",".jsSmiliesEditor"),openBBFontDropdown(".jsBBMedia",".jsEmbedMediaForm"),insertBBCodeFont(".jsBBFontPicker","font",".jsAdvancedReplyTextarea"),insertBBCodeFont(".jsBBSizePicker","size",".jsAdvancedReplyTextarea"),insertBBCodeFont(".jsBBColorPicker","color",".jsAdvancedReplyTextarea"),$("#search").on("search",function(){$("#search").keyup()});var index,updateSearchResult=!0,regex=/^(.+?)(\d+)$/i;{function tlload(){isElementInViewport($("#threadlist-loading-area"))&&0==tl_is_loading&&(data_sort=$("#tl_sort").val(),data_cursor=$("#tl_cursor").val(),data_order=$("#tl_order").val(),data_feed=$("#tl_feed").val(),data_channel=$("#tl_channel").val(),show_thread_list(data_sort,data_cursor,data_order,data_feed,data_channel),tracking_ref=$("#tl_tracking_ref").val(),data_sort_track=$("#tl_sort_track").val(),feed_track=$("#feed_track").val(),dataLayer.push({event:"trackEvent","eventDetails.category":tracking_ref,"eventDetails.action":"load more "+tl_page,"eventDetails.label":feed_track,threadListSort:data_sort_track}))}$(document).on("keyup","#search",function(){var e=$(this).val().trim();if($("#category_search").length)if(0<e.length){$("#category_search").show();for(var t=document.getElementsByClassName("searchHlTerm"),a=0;a<t.length;a++)t[a].innerText=e;for(var s=document.getElementsByClassName("categorySearch"),a=0;a<s.length;a++)s[a].setAttribute("data-term",e)}else $("#category_search").hide();var i=new RegExp("("+escapeRegExp(e)+")","gi");let o=document.getElementsByClassName("resultTerm");for(var r,n=0;n<o.length;n++)i.test(o[n].innerText)?(r=o[n].innerText.replace(i,function(e){return'<span class="highlightedText">'+escapeHtml(e)+"</span>"}),o[n].innerHTML=r):o[n].innerHTML=escapeHtml(o[n].innerText);for(updateSearchResult&&(!$("#forum_search").hasClass("D(n)")||3<=$("#search").val().length)&&fetchCategories(!0),o=document.getElementsByClassName("resultTerm"),n=0;n<o.length;n++)i.test(o[n].innerText)?(r=o[n].innerText.replace(i,function(e){return'<span class="highlightedText">'+escapeHtml(e)+"</span>"}),o[n].innerHTML=r):o[n].innerHTML=escapeHtml(o[n].innerText)}),null===$.cookie("notices")&&$.cookie("notices",JSON.stringify([]),{expires:null,path:"/",domain:"",secure:!1}),bindNotice(),bindTrhThreadList(),bindTrhHome(),bindSetThreadDisplay(),bindHtNext(),bindSetFeedDisplay(),bindSetjsButtonSubscribe(),bindSetjsCategoryPersonalizationItem(),bindTopicDetailThreadNext(),bindThreadShowcaseNext(),$("#threadlist-loading-area").length&&(window.addEventListener("resize",tlload,{passive:!0}),window.addEventListener("scroll",tlload,{passive:!0}),window.addEventListener("touch",tlload,{passive:!0}),window.addEventListener("click",tlload,{passive:!0}))}function cloneRepeaterItem(){var e=$(".jsRepeaterItem").length,t=1;$(this).closest(".jsRepeater").find(".jsRepeaterItem").first().clone().hide().appendTo(".jsRepeaterList");var a=$(this).closest(".jsRepeater").find(".jsRepeaterItem").last();a.find(".jsErrorNote").remove(),a.find('input[type="text"]').val(""),a.slideDown(200),2==e&&$(".jsRepeaterItem > div.radio").append('<button class="jsRepeaterButtonRemove"><i class="fas fa-times"></i></button>'),44==e&&$(".jsRepeaterButtonAdd").hide(),$(this).closest(".jsRepeater").find(".jsRepeaterItem").each(function(){$(this).find("input").attr("id","repeaterItem-"+t),$(this).find("input").attr("placeholder","Pilihan "+t),$(this).find("input").attr("name","options["+t+"]"),t++})}function removeRepeaterItem(){$(this).closest(".jsRepeaterItem").remove();var e=$(".jsRepeaterItem").length,t=1;$(".jsRepeaterItem").each(function(){$(this).find("input").attr("id","repeaterItem-"+t),$(this).find("input").attr("placeholder","Pilihan "+t),t++}),2==e&&$(".jsRepeaterItem").find(".jsRepeaterButtonRemove").remove(),44==e&&$(".jsRepeaterButtonAdd").show()}function stickyShare(){var e=$(window).scrollTop(),t=$(".jsThreadRating"),a=$(".postItemFirst");e<a.offset().top+a.height()&&e>t.offset().top?$(".jsShareBtn").addClass("scrolled"):$(".jsShareBtn").removeClass("scrolled")}function bindJsTippy(){tippy(".jsTippy",{theme:"translucent",arrow:!0,size:"small"})}var source,filename,dataFile,rnd,dataTypeUploaded,timeout=null,sourceCdn=1,sourceImageBucket=2,sourceVideoBucket=3;function get_smilies_newthread(){var e;localSmilies=get_MRU_revamp(),localSmilies&&(e={smilies:$.param(localSmilies)}),$.ajax({method:"POST",url:"/misc/get_smilies_newthread",data:e||{},success:function(e){e=JSON.parse(e),smilies=JSON.parse(e.kaskus),$(".jsSmiliesEditor").replaceWith(e.content),e.mru?($("#content-mru").addClass("active"),load_MRU_revamp()):$("#mru").hide(),show_tab(".smiley-wrapper .smiley-tab .tab-content > .active"),sceditorInstance?$(".smiley-tab__item").find(".smilie__in-action").not(".smiley-tab__item--unavailable").click(function(){insert_smilies_newthread(this.children)}):$(".smiley-tab__item").find(".smilie__in-action").not(".smiley-tab__item--unavailable").click(function(){save_smiley_localStorage(insert_smilie_reply(this));var e=$(this.children).attr("title");smilie_tracking("smiley",$(".tabNavItem.is-active .tabNavIcon").attr("data-title"),e)}),$("#emoticons").show()}})}function convert_to_video(e){return/(.+giphy\.com.+)\/.+\.gif$/g.exec(e)[1]+"/giphy-downsized-small.mp4"}function insert_smilie_reply(e){var t=$(".jsCreateThreadContent").find("textarea"),e=e.children;return insertCaretPosition($(e).attr("alt")+" ",t),$(e).attr("alt")}function get_giphy_newthread(t,a){$.ajax({method:"POST",url:"/misc/get_giphy/0",cache:!1,data:{keyword:a}}).done(function(e){giphy=JSON.parse(e),$("#tab"+t).html(giphy),$("#search-giphy").focus(),a&&$("#search-giphy").val(a)})}function get_MRU_revamp(){var e=[];if(localStorage[mru_key]&&(mru=JSON.parse(localStorage[mru_key]),mru)){for(var t in mru)-1<t.search("smilie")&&e.push(mru[t]);var a={smilies:e}}return a||{}}function load_MRU_revamp(){var e=$("#content-mru").find(".loadMRU");return e&&$.each(e,function(e,t){$(t).attr("src",$('.loadSmilies[alt="'+$(t).attr("data-smilie")+'"]').attr("src")),$(t).attr("title",$('.loadSmilies[alt="'+$(t).attr("data-smilie")+'"]').attr("title")),$(t).attr("alt",$('.loadSmilies[alt="'+$(t).attr("data-smilie")+'"]').attr("alt"))}),!0}function save_smiley_localStorage(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+e&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],a["smilie"+e]=e,localStorage.setItem(mru_key,JSON.stringify(a))}}function smilie_tracking(e,t,a){_gaq.push(["_trackEvent",e,t,a]),dataLayer.push({event:"trackEvent","eventDetails.category":e,"eventDetails.action":t,"eventDetails.label":a})}function get_autocomplete_mention(e,i,o){var t=$(".sctoken").val();$.ajax({url:KASKUS_URL+"/misc/get_user_mention/",type:"post",data:{keyword:e,securitytoken:t,isAt:i},xhrFields:{withCredentials:!0},success:function(e){if("object"!=typeof e&&(e=$.parseJSON(e)),i){var t,a,s=[];for(a in e.data)t={name:e.data[a].username,usertitle:e.data[a].userTitle,avatarpicture:e.data[a].avatarpicture},s.push(t);o(s)}else e.success?$(".mentionList").html(e.view):$(".mentionList").html("");$(".sctoken").val(e.securitytoken)}})}function insert_smilies_newthread(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+$(e).attr("alt")&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],$(e).attr("alt"),a["smilie"+$(e).attr("alt")]=$(e).attr("alt"),localStorage.setItem(mru_key,JSON.stringify(a))}sceditorInstance.inSourceMode()?sceditorInstance.insert($(e).attr("alt")):sceditorInstance.insert('<img src="'+$(e).attr("src")+'" data-sceditor-emoticon="'+$(e).attr("alt")+'" border="0" alt="emoticon-'+$(e).attr("title")+'" title="'+$(e).attr("title")+'">',null,!1);var s=$(e).attr("title"),i=$(".tabNavItem.is-active .tabNavIcon").attr("data-title");_gaq.push(["_trackEvent","smiley",i,s]),dataLayer.push({event:"trackEvent","eventDetails.category":"smiley","eventDetails.action":i,"eventDetails.label":s})}function checkEmptyGalery(){if(0==$jQ(".galery-list-wrapper").find("li").length){$jQ(".jsEmbedMediaFormButton").show(),$jQ(".jsEmbedMediaGallery").hide();var e=$jQ(".jsEmbedMediaForm").find("input");for(i=0;i<e.length;i++)$jQ(e[i]).attr("id")?$jQ(e[i]).removeAttr("id"):$jQ(e[i]).attr("id","browse")}}function ajaxEmbedMedia(e){$.ajax({type:"POST",url:KASKUS_URL+"/embed/embed_media/",data:{url:e},success:function(e){var t=$.parseJSON(e);t.status?(sceditorInstance?sceditorInstance.insert(t.embed):(e=$(".jsCreateThreadContent").find("textarea"),insertCaretPosition(t.embed,e)),insertThumbnailMedia(t)):swal("Embed Gagal","Link tidak dapat dikenali","error")}})}function insertMyEmbedMedia(s){url=s.split("?")[0];var e=url.match(/^(https?:\/\/)?(www.)?(m\.)?soundcloud\.com\/[\w\-\.]+(\/)+[\w\-\.]+$/);null!=e?$.ajax({type:"GET",url:"https://soundcloud.com/oembed?url="+e[0]+"&format=json",async:!1,success:function(e){regexpatternTrackId=/(tracks\/|^)(\d+)/;e=$(e.html).attr("src"),e=(e=decodeURIComponent(e)).match(regexpatternTrackId);ajaxEmbedMedia(s="https://api.soundcloud.com/tracks/"+e[2])},error:function(e,t,a){ajaxEmbedMedia(s)}}):ajaxEmbedMedia(s)}function insertThumbnailMedia(e){var t=$jQ(".galery-list-wrapper"),a=t.find("li").last(),s=e.thumbnail,e=e.embed,e='<li class="W(1/8) P(5px)">      <div class="Pos(r) H(0) Pb(100%)">          <img class="Mx(a) D(b) Bdrs(3px) oFitCover Pos(a) H(100%) W(100%) insert-embed-thumbnail" src="'+s+"\" data-embed='"+e+'\'>          <button type="button" class="delete-embed-thumbnail Pos(a) T(-5px) End(-5px) Fz(18px) C(c-red) Bgc(c-white) Bdrs(50%) W(18px) H(18px) Lh(18px) C(c-red-bright):h"><i class="fas fa-times-circle"></i></button>          <input type="hidden" name="thumbnails[]" value="'+s+'"><input type="hidden" name="embeds[]" value=\''+e+"'>      </div>    </li>";0<a.length?$jQ(e).insertAfter(a):(switchMediaGalery(),t.append(e))}function microtime(e){var t=(new Date).getTime()/1e3,a=parseInt(t,10);return e?t:Math.round(1e3*(t-a))/1e3+" "+a}function switchMediaGalery(){if(0==$jQ(".galery-list-wrapper").find("li").last().length){$jQ(".jsEmbedMediaFormButton").toggle(),$jQ(".jsEmbedMediaGallery").toggle();var e=$jQ(".jsEmbedMediaForm").find("input");for(i=0;i<e.length;i++)$jQ(e[i]).attr("id")?$jQ(e[i]).removeAttr("id"):$jQ(e[i]).attr("id","browse")}}function showErrorMessageUpload(e){e=e.replace(/[<]br[^>]*[>]/gi,""),swal("Upload Gagal",e,"error"),window.onbeforeunload=null,switchDisableButtonMedia(!1),showLoading(!1)}function switchDisableButtonMedia(e){var t=$jQ(".jsEmbedMediaForm"),a=t.find("input");for(i=0;i<a.length;i++)$jQ(a[i]).prop("disabled",e);var s=t.find(".jsMyEmbedMedia");for(i=0;i<s.length;i++)$jQ(s[i]).prop("disabled",e)}function showLoading(e,t=!0){var a,s=$jQ(".galery-list-wrapper");e?(a=s.find("li").last(),e='<li class="W(1/8) P(5px) loading-thumbnail">        <div class="Pos(r)">            <img class="Mx(a) D(b) Bdrs(3px)" src="'+assetsFolderNew+'/images/ic-loading-dots.svg">        </div>      </li>',0<a.length?$jQ(e).insertAfter(a):s.append(e)):(s.find(".loading-thumbnail").remove(),t&&checkEmptyGalery())}function insertThumbnail(e,t){showLoading(!1,!1);var a=$jQ(".galery-list-wrapper"),s=a.find("li").last(),t='<li class="W(1/8) P(5px)">      <div class="Pos(r) H(0) Pb(100%)">          <img class="Mx(a) D(b) Bdrs(3px) oFitCover Pos(a) H(100%) W(100%) insert-embed-thumbnail" src="'+e+"\" data-embed='"+t+'\'>          <button type="button" class="delete-embed-thumbnail Pos(a) T(-5px) End(-5px) Fz(18px) C(c-red) Bgc(c-white) Bdrs(50%) W(18px) H(18px) Lh(18px) C(c-red-bright):h"><i class="fas fa-times-circle"></i></button>          <input type="hidden" name="thumbnails[]" value="'+e+'"><input type="hidden" name="embeds[]" value=\''+t+"'>      </div>    </li>";0<s.length?$jQ(t).insertAfter(s):a.append(t),switchDisableButtonMedia(!1),showBottomToast("Berhasil menambah media",3e3)}function getExtension(e){e=e.split(".");return e[e.length-1]}function isVideoBucketExtension(e){return-1<allowedVideoMimes.indexOf(e)}function isImageBucketExtension(e){e=getExtension(e);return-1<["gif"].indexOf(e.toLowerCase())}function proceedUploadVideo(e){var t=$(".direct-upload#video-upload-form");url=t.attr("action"),source=sourceVideoBucket,dataTypeUploaded=e.type,filename=(videoFolders.length?videoFolders.join("/")+"/":"")+awsKey,filename+="_"+microtime(!0)+"_."+e.name.split(".").pop(),t.find('input[name="Content-Type"]').val(e.type),t.find('input[name="key"]').val(filename);t=new FormData(t[0]);t.set("file",e),doUpload(url,t)}function proceedUploadImage(e){var t=$(".direct-upload#image-upload-form");url=t.attr("action"),source=sourceImageBucket,dataTypeUploaded=e.type,filename=(imageFolders.length?imageFolders.join("/")+"/":"")+awsKey,filename+="_"+microtime(!0)+"_."+e.name.split(".").pop(),t.find('input[name="Content-Type"]').val(e.type),t.find('input[name="key"]').val(filename);t=new FormData(t[0]);t.set("file",e),doUpload(url,t)}function uploadVideo(i){var o=document.createElement("video"),e=URL.createObjectURL(i);o.src=e,o.onloadedmetadata=function(){var e=o.duration,t=VIDEO_MAX_LENGTH/60,a=i.size,s="";URL.revokeObjectURL(o.src),e>VIDEO_MAX_LENGTH&&(s+="Durasi video maksimal "+t+" menit. "),a>VIDEO_MAX_FILESIZE&&(s+="Ukuran file maksimal "+VIDEO_MAX_FILESIZE_MB+" MB."),""==s?proceedUploadVideo(i):showErrorMessageUpload(s)}}function hideElementByClass(e){$(e).removeClass("D(b)"),$(e).removeClass("D(f)"),$(e).addClass("D(n)")}function showBlockElementByClass(e){$(e).removeClass("D(n)"),$(e).addClass("D(b)")}function showFlexElementByClass(e){$(e).removeClass("D(n)"),$(e).addClass("D(f)")}function openCamera(e){showBlockElementByClass($(e).next(".jsCameraBox"))}function uploadImage(i){var o=new Image,e=URL.createObjectURL(i);o.src=e,o.onload=function(){var e=o.width,t=o.height,a="",s=i.size;URL.revokeObjectURL(o.src),s>IMAGE_MAX_FILESIZE&&(a+="Ukuran GIF maksimal "+IMAGE_MAX_FILESIZE_MB+". "),(99999<t/e||t/e<.2)&&(a+="Rasio GIF tidak disupport."),""==a?proceedUploadImage(i):showErrorMessageUpload(a)}}function isCdnExtension(e){e=getExtension(e);return-1<["jpg","jpeg","png"].indexOf(e.toLowerCase())}function checkUploadStatus(e){setTimeout(function(){getUploadStatus(e)},1e3)}function getUploadStatus(o){var e,t,a=o.split(".");source==sourceImageBucket?(e="/misc/get_imageupload_status/",t=a.splice(0,a.length-1).join(".")):source==sourceVideoBucket&&(e="/misc/get_videoupload_status/",t=o),$.ajax({url:e+hex_md5(str_to_ent(t)),success:function(e){var t,a,s,i=$.parseJSON(e);i.processing?setTimeout(function(){getUploadStatus(o)},3e3):i.success?(e=$.parseJSON(i.message),source==sourceImageBucket?(a=(t=awsCdn+"/"+e.filename)+".png",s=["[video]","[/video]"]):source==sourceVideoBucket&&(t=(t=i.video_url).split("/").pop(),a=awsCdn+"/"+e.thumbnail,s=["[kaskus_video]","[/kaskus_video]"],$jQ("#newthread-upload-wrapper").after('<input type="hidden" name="additionalData['+t+']" value="'+a+'">')),insertThumbnail(a,s[0]+t+s[1]),window.onbeforeunload=null):i.message&&(showErrorMessageUpload(i.message),$("#"+rnd).remove(),$("#newthread-upload-button").show())}})}function handleResult(e){var t;rnd=$("#browse").attr("data-rnd"),e.hasOwnProperty("securitytoken")&&$(".sctoken").val(e.securitytoken),"ok"==e.status||"Created"==e.statusText?(source==sourceCdn?(t="[img]"+e.url+"[/img]",insertThumbnail(e.url,t),window.onbeforeunload=null):source!=sourceImageBucket&&source!=sourceVideoBucket||checkUploadStatus(filename),$("#browse").attr("data-rnd","rnd_"+ +new Date)):showErrorMessageUpload(e.error)}function doUpload(e,t){$.ajax({url:e,method:"POST",data:t,dataType:"json",contentType:!1,cache:!1,processData:!1,statusCode:{200:handleResult,201:handleResult},error:function(e,t){201!=e.status&&showErrorMessageUpload("Terjadi kesalahan memproses data.")}})}function insertCaretPosition(e,t){var a=jQuery(t),s=a.val(),i=a[0].selectionStart,o=a[0].selectionEnd;$(t).val(s.substring(0,i)+e+s.substring(o,s.length)),a.focus(),a[0].selectionStart=i+e.length,a[0].selectionEnd=i+e.length}document.is_sending=!1,document.last_sent="";var preview_url=KASKUS_URL+"/misc/preview_post_ajax";function send_once(){clearTimeout(document.tid),document.tid=setTimeout(function(){preview()},3e3)}function preview(){if("undefined"!==jQuery.type($("#reply-messsage").val())){$("#preview-title").text($("#form-title").val());var e=$("input[name=parseurl]").is(":checked")?1:0,t=e+$("#reply-messsage").val()+$("#form-title").val();return document.is_sending||document.last_sent==t?!1:(document.last_sent=t,0==$("#reply-messsage").val().length&&0==$("#form-title").val().length?($("#preview-code").html(""),!1):(void 0===window.IS_QUICKNEWTHREAD&&(window.IS_QUICKNEWTHREAD=0),$("#draft_last_updated").html("Menyimpan..."),document.is_sending=!0,void $.ajax({url:preview_url,type:"post",data:{message:$("#reply-messsage").val(),parseurl:e,forum_id:$("#forum_id").val(),icon_id:parseInt($("input[name=iconid]:checked").val()),title:$("#form-title").val(),draft_id:$("#draft_id").val(),is_quicknewthread:window.IS_QUICKNEWTHREAD},xhrFields:{withCredentials:!0},success:function(e){document.is_sending=!1;e=$.parseJSON(e);e.message&&($("#preview-code").html(e.message),notice("Post preview updated &nbsp;&nbsp;&nbsp;<a href=\"javascript:scroll_to('preview-code')\">Click to view</a>",4e3),$(".mls-img").kslzy(300)),e.draft_last_updated&&($("#draft_id").val(e.draft_id),$("#draft_last_updated").removeClass(),$("#draft_last_updated").addClass("editor-draft editor-draft--success"),$("#draft_last_updated").html("Terakhir disimpan: "+e.draft_last_updated).css("color","#1998ed").animate({color:"#676767"},2e3)),e.draft_error&&($("#draft_last_updated").removeClass(),$("#draft_last_updated").css("color",""),$("#draft_last_updated").addClass("editor-draft editor-draft--error"),$("#draft_last_updated").html(e.draft_error)),preview()},error:function(e){document.is_sending=!1,preview()}})))}}function change_preview_mode(s){var e=($("input[name=parseurl]").is(":checked")?1:0)+$("#reply-messsage").val()+$("#form-title").val();document.is_sending||document.last_sent==e||0==$("#reply-messsage").val().length&&0==$("#form-title").val().length?($(".jsEditorContainer").hide(),$(".jsPreviewContainer").show(),s.find("span").text("Edit")):(preview(),s.attr("disabled",!0),s.addClass("Bd(borderSolidGray2 C(c-gray-2)"),s.removeClass("Bd(borderSolidBlue) C(c-blue) Bgc(c-white-blue-hover):h"),$(document).ajaxComplete(function(e,t,a){a.url==preview_url&&($(".jsEditorContainer").hide(),$(".jsPreviewContainer").show(),s.removeAttr("disabled"),s.removeClass("Bd(borderSolidGray2 C(c-gray-2)"),s.addClass("Bd(borderSolidBlue) C(c-blue) Bgc(c-white-blue-hover):h"),s.find("span").text("Edit"))})),0<$("#reply-messsage").val().length||0<$("#form-title").val().length?(0==$("#form-title").val().length?$("#preview-title").hide():$("#preview-title").show(),$("#empty-text-preview").hide(),$("#exist-text-preview").show()):($("#empty-text-preview").show(),$("#exist-text-preview").hide())}function change_edit_mode(e){$(".jsEditorContainer").show(),$(".jsPreviewContainer").hide(),e.find("span").text("Preview")}$(document).ready(function(){for(var s,t,i,e,o,r=document.querySelectorAll(".plus-price"),n=0;n<r.length;n++)r[n].checked&&(document.querySelector(".jsPlusPriceTotal").textContent=document.getElementById("packet"+r[n].value).textContent),r[n].addEventListener("change",function(){this.checked&&(document.querySelector(".jsPlusPriceTotal").textContent=document.getElementById("packet"+this.value).textContent)});function l(e){var t=e+$("#form-title").val();document.is_sending||document.last_sent==t||(document.is_sending=!0,document.last_sent=t,$(".draft-info").html("Menyimpan..."),$.ajax({url:KASKUS_URL+"/misc/post_draft/",type:"post",data:{message:e,parseurl:1,forum_id:$("#forum_id").val(),title:$("#form-title").val(),content:$("#reply-messsage").val(),draft_id:$("#draft_id").val()},xhrFields:{withCredentials:!0},success:function(e){document.is_sending=!1,"object"!=typeof e&&(e=$.parseJSON(e)),$(".draft-info").html(""),e.draft_error&&$(".draft-info").html(e.draft_error),e.draft_last_updated&&($("#draft_id").val(e.draft_id),$(".draft-info").html("Terakhir disimpan: "+e.draft_last_updated).css("color","#1998ed").animate({color:"#676767"},2e3),$("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html())),d()},error:function(e){document.is_sending=!1}}))}function d(){var e=$("#draft_sidebar ul.draft-content li").not(".draftItemPlaceholder");$("#draft-head").html("Draft ("+e.length+")"),0<e.length?$(".draftItemPlaceholder").addClass("D(n)"):$(".draftItemPlaceholder").removeClass("D(n)")}$(".jsOpenCamera").click(function(){openCamera($(this)),hideElementByClass($(this))}),$(".jsCloseCamera").click(function(){hideElementByClass($(this).parent()),showBlockElementByClass($(this).closest(".jsCameraContainer").find(".jsOpenCamera"))}),$(".jsRemoveFromBlacklist").click(function(e){e.preventDefault();let t=$(this).parents(".jsBlacklistCard").find(".jsBlacklistUserName")[0].innerHTML,a=$(this).data("userid");swal({text:"Menghapus "+t+" dari daftar blocklist. Yakin?",icon:"error",buttons:["Batal","Hapus"],dangerMode:!0}).then(e=>{e&&($("#target_userid").val(a),$("#unblacklistForm").submit())})}),0<$("body").find(".jsSmiliesEditor").length&&get_smilies_newthread(),$(".mainContent, .qr-section, .small-reply").on("keyup",".autocomplete-mention",function(e){var t=$(".autocomplete-mention").val();0<(t=t.trim()).length?13===e.keyCode?(clearTimeout(s),get_autocomplete_mention(t,!1)):(clearTimeout(s),s=setTimeout(function(){return get_autocomplete_mention(t,!1),!1},1e3)):($(".autocomplete-mention").val(""),$(".mentionList").html(""))}),$(".mainContent, .qr-section, .small-reply").on("keydown",".autocomplete-mention",function(e){if(13===e.keyCode)return e.preventDefault(),!1}),$(".jsEditorContainer").on("click",".jsNgetopTabButton",function(){"Giphy"==$(this).data("category")&&get_giphy_newthread(i=$(this).data("tabnum"));var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsEditorContainer").on("keydown","#search-giphy",function(e){13===e.keyCode?(clearTimeout(t),e.preventDefault(),query=e.target.value,get_giphy_newthread(i,query)):(clearTimeout(t),t=setTimeout(function(){return giphy_keyword=e.target.value,get_giphy_newthread(i,giphy_keyword),!1},1e3))}),$(".jsEditorContainer").on("click",".giphy-smilie li a",function(){var e=$(".jsCreateThreadContent").find("textarea"),t=this.children,a=$(t).attr("data-src")+" ";convert_to_video($(t).attr("src")),insertCaretPosition(a,e)}),$(".mainContent").on("click",".user-mention",function(e){var t="[mention]"+$(this).find(".username-mention").text()+"[/mention]";sceditorInstance?sceditorInstance.insert(t):insertCaretPosition(t,$(".jsCreateThreadContent").find("textarea")),$(".mentionList").html(""),$(".autocomplete-mention").val(""),$(".jsMentionContainer").removeClass("is-visible"),$(".jsButtonMention").removeClass("active"),e.stopPropagation()}),$(".jsStarRating").on("click",function(){var e=$jQ(this).attr("data-star-index");$("#ratingReply").val(e)}),$(".form-submit-reply").submit(function(e,t){0<$("#add_to_warehouse:checked").length&&!t&&(e.preventDefault(),$.ajax({url:KASKUS_URL+"/misc/check_creator_length",data:{message:sceditorInstance.val()},type:"POST",success:function(e){(e="object"!=typeof e?$.parseJSON(e):e).success?$(".form-submit-reply").trigger("submit",{}):swal({text:e.text,icon:"warning",buttons:{cancel:"Batal",confirm:"Post"},dangerMode:!0}).then(function(e){e&&$(".form-submit-reply").trigger("submit",{})})}}))}),$("#button-save-draft").click(function(){l(sceditorInstance.val())}),$("#draft_sidebar").on("click",".qnt-draft-add",function(){var s=$(this).data("draft-id");$.ajax({url:KASKUS_URL+"/quicknewthread/get_one_draft/"+s,type:"GET",success:function(e){var t,a;(e="object"!=typeof e?$.parseJSON(e):e).result?(t=e.draft,sceditorInstance.val(t.content),$(sceditorInstance.getBody()).removeClass("placeholder"),$("#form-title").focus(),$("#form-title").val(t.title),$("#draft_id").val(s),(a=0)!=t.forum_id&&(a=t.forum_id),$("#forum_id").val(a),$("#forum_id").trigger("change"),$("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d(),u()):swal("Draft tidak ditemukan").then(function(){""!=e.view&&($("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d())})}})}),$("#draft_sidebar").on("click",".qnt-draft-delete",function(){var a=this;swal({text:"Draft akan dihapus. Yakin?",icon:"warning",buttons:{cancel:"Batal",confirm:"Hapus"},dangerMode:!0}).then(function(e){var t;e&&(t=$(a).data("draft-id"),$.ajax({url:KASKUS_URL+"/quicknewthread/delete_one_draft/"+t,type:"GET",success:function(e){(e="object"!=typeof e?$.parseJSON(e):e).result?($("#draft_id").val()==t&&$("#draft_id").val(""),$("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d()):swal("Draft tidak ditemukan").then(function(){""!=e.view&&($("#draft_sidebar ul.draft-content").html($(e.view).find("ul.draft-content").html()),d())})}}))})}),$(".jsToolbarSCEditorAnchor").on("click",".jsNgetopTabButton",function(){"Giphy"==$(this).data("category")&&get_giphy_newthread(i=$(this).data("tabnum"));var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsToolbarSCEditorAnchor").on("keydown","#search-giphy",function(e){13===e.keyCode?(clearTimeout(t),e.preventDefault(),query=e.target.value,get_giphy_newthread(i,query)):(clearTimeout(t),t=setTimeout(function(){return giphy_keyword=e.target.value,get_giphy_newthread(i,giphy_keyword),!1},1e3))}),$(".jsToolbarSCEditorAnchor").on("click",".giphy-smilie li a",function(){a=this.children,emoticon=$(a).attr("data-src")+" ",converted_link=convert_to_video($(a).attr("src")),sceditorInstance.inSourceMode()?sceditorInstance.insert($(a).attr("data-src")):sceditorInstance.insert('<video class="c-giphy__preview" autoplay loop data-src="'+converted_link+'"> <source src="'+converted_link+'" type="video/mp4"> </video>&nbsp',null,!1)}),$(".jsToolbarSCEditorAnchor").on("click",".tabNavIcon",function(){var e=$(this).attr("data-title");_gaq.push(["_trackEvent","smiley",e,"click"]),dataLayer.push({event:"trackEvent","eventDetails.category":"smiley","eventDetails.action":e,"eventDetails.label":"click"})}),sceditorInstance&&(sceditorInstance.keyPress(function(){clearTimeout(document.postdraft_tid),document.postdraft_tid=setTimeout(function(){l(sceditorInstance.val())},3e3)}),$("#form-title").bind("keyup",function(){clearTimeout(document.tid),document.tid=setTimeout(function(){l(sceditorInstance.val())},1e3)}),o=$(".jsCreateThreadContent iframe")[0],$(sceditorInstance.getBody()).atwho("setIframe",o).atwho({at:"@",limit:8,displayTpl:"<li class='D(f)'><img class='Bdrs(50%) Mend(10px)' src='${avatarpicture}' height='35' width='35'/> <div class='Fx(flexOne)'><div>${name}</div><div class='Fz(11px) small'>${usertitle}</div></div> </li>",insertTpl:"<a href='/${atwho-at}${name}' target='_blank' class='mention'>${atwho-at}${name}</a>",callbacks:{remoteFilter:function(e,t){clearTimeout(s),s=setTimeout(function(){get_autocomplete_mention(e,!0,t)},1e3)}}}),void 0!==document.hidden?e="visibilitychange":void 0!==document.mozHidden?e="mozvisibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange"),document.addEventListener(e,function(){setTimeout(function(){sceditorInstance.expandToContent()},500)})),$("body").on("change","#browse",function(){var e,t=$("#browse"),a={};rnd=$("#browse").attr("data-rnd"),null!=(dataFile=t[0].files[0])&&(window.onbeforeunload=function(){return"You have unsaved changes."},switchMediaGalery(),switchDisableButtonMedia(!0),showLoading(!0),isCdnExtension(t.val())?(source=sourceCdn,(e=new FormData).append(t[0].name,dataFile),e.append("securitytoken",$(".sctoken").val()),a[rnd]||(a[rnd]=!0,doUpload("/misc/upload_image/",e))):isImageBucketExtension(t.val())?uploadImage(dataFile):isVideoBucketExtension(dataFile.type)?uploadVideo(dataFile):showErrorMessageUpload("Ekstensi tidak didukung."))}),$("body").on("click",".jsMyEmbedMedia",function(){swal({text:"Embed media",content:{element:"input",attributes:{placeholder:"Masukan link media di sini"}}}).then(function(e){e&&insertMyEmbedMedia(e=e.trim())}),$(".swal-content .swal-content__input").before('<div class="Ta(c) Mb(10px)">                <div>                  <i title="Youtube" class="fab fa-youtube"></i>                  <i title="Vimeo" class="fab fa-vimeo-square"></i>                  <i title="Soundcloud" class="fab fa-soundcloud"></i>                  <i title="Twitch" class="fab fa-twitch"></i>                  <i title="Facebook Video" class="icon icon-facebook-video"></i>                  <i title="Dailymotion" class="icon icon-daily-motion"></i>                  <i title="Smule" class="icon icon-smule"></i>                  <i title="Twitter" class="fab fa-twitter"></i>                  <i title="Instagram" class="fab fa-instagram"></i>                </div>              </div>')}),$("body").on("click",".insert-embed-thumbnail",function(e){e=e.target.dataset.embed;sceditorInstance?sceditorInstance.insert(e):insertCaretPosition(e,$(".jsCreateThreadContent").find("textarea"))}),$("body").on("click",".delete-embed-thumbnail",function(t){swal("Media akan dihapus. Yakin?",{buttons:{cancel:"Batal",confirm:{text:"Hapus",value:!0}},dangerMode:!0}).then(function(e){e&&($jQ(t.currentTarget).parents("li").remove(),checkEmptyGalery())})}),null!=document.getElementById("preview-title")&&($(".jsPreviewPost").click(function(){var e=$(this);($(".jsEditorContainer").is(":visible")?change_preview_mode:change_edit_mode)(e)}),0<(c=$("#form-title").val()).length&&$("#preview-title").text(c),$("input[name=parseurl]").change(function(){send_once()}),preview()),$(document).on("click",".jsSearchStickyBtn",function(){$(".jsSearchTrigger, .jsSearchSticky").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(".jsSearchTrigger, .jsSearchSticky").hasClass("is-clicked")&&$(".jsSearchFormInput").focus()}),$(".jsSearchTrigger, .jsSearchSticky").addClass("is-clicked"),$(".jsSearchResult").addClass("is-open"),$(".jsNavHeaderOverlay").show(),$(".jsSearchOutterWrapper").show()}),$("#edit-profile-gender").select2({minimumResultsForSearch:1/0,placeholder:"Pilih jenis kelamin"}),$("#edit-profile-country").select2({minimumResultsForSearch:5,placeholder:"Pilih negara"}),$("#edit-profile-province").select2({minimumResultsForSearch:5,placeholder:"Pilih provinsi"}),$("#user-options-badges").select2({minimumResultsForSearch:1/0}),$("#user-options-comments").select2({minimumResultsForSearch:1/0}),$("#user-options-subscription").select2({minimumResultsForSearch:1/0}),$("#banDuration").select2({minimumResultsForSearch:1/0,placeholder:"Pilih opsi lama waktu ban",dropdownCssClass:"banDurationDropdown"});var c=document.querySelector(".jsEditProfileBirthday");function u(e,t){e=e.val().length;$(".jsCharacterCounter").text(t-e),t<e?($(".jsCharacterCounter").addClass("C(c-red)"),$(".jsCharacterCounter").removeClass("C(c-tertiary)")):($(".jsCharacterCounter").addClass("C(c-tertiary)"),$(".jsCharacterCounter").removeClass("C(c-red)"))}c&&flatpickr(c,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",maxDate:new Date}),$(".jsStarRating").click(function(){var e=$(this).data("star-index");$(this).addClass("is-active"),$(".jsStarRating").removeClass("C(c-yellow-1)");for(var t=e;0<t;t--)$(".jsThreadRating").find("[data-star-index='"+t+"']").addClass("C(c-yellow-1)")}),$(".jsAdvancedReplyTextarea").keyup(function(){u($(".jsAdvancedReplyTextarea"),2e4)}),$(".jsBlacklistTextarea").keyup(function(){u($(".jsBlacklistTextarea"),180)}),$("#lapor-hansip-form").find("textarea").keyup(function(){u($(this),1500)}),$(".jsExpandRemoveThread").click(function(){($(".jsExpandRemoveThreadContainer").hasClass("D(n)")?showBlockElementByClass:hideElementByClass)(".jsExpandRemoveThreadContainer")}),$(document).on("click",".jsRepeaterButtonRemove",removeRepeaterItem),$(document).on("click",".jsRepeaterButtonAdd",cloneRepeaterItem),2==$(".jsRepeaterItem").length&&$(".jsRepeaterItem").find(".jsRepeaterButtonRemove").remove(),$("#jsToolbarSCEditor").on("click",".createdPoll",function(){changeValueCreatedPoll(this)}),$(".jsClosePolling").on("click",function(){changeValueCreatedPoll(this)}),checkcreatedPoll(),$(".jsCloseBtn").click(function(e){$(".jsTooltipReputation").removeClass("is-visible")}),$(".jsModal").click(function(e){$(e.target).closest(".jsModalContent").length||($(".jsModal").removeClass("is-open is-animate"),$("body").removeClass("Ov(h)"),resetInputAvatarAndCoverValue())}),"function"==typeof uploadAvatar&&uploadAvatar(),"function"==typeof uploadCover&&uploadCover(),scrollHeaderSticky(),$(document).on("click",".jsNgetopTabButton",function(){var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsTabComponent").length&&$(".jsTabComponent").each(function(){var e=$(this).find(".jsTabButton.is-active"),t=$(this).find(".jsTabButton").index(e);$(this).find(".jsTabLine").css("width",e.outerWidth()+"px"),$(this).find(".jsTabLine").css("transform","translateX("+e.position().left+"px)"),$(this).find(".jsTabLine").show(),$(this).find(".jsTabComponentContent").css("transform","translateX(-"+100*t+"%)"),$(this).find(".jsTabComponentContent").css("height",$(".jsTabComponentContent > div:nth-child("+(t+1)+")").height())}),$(document).on("click",".jsTabButton",function(){var e=$(".jsTabButton").index(this);$(this).closest(".jsTabComponent").find(".jsTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(this).closest(".jsTabComponent").find(".jsTabLine").css("width",$(this).outerWidth()+"px"),$(this).closest(".jsTabComponent").find(".jsTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(this).closest(".jsTabComponent").find(".jsTabComponentContent").css("transform","translateX(-"+100*e+"%)"),$(this).closest(".jsTabComponent").find(".jsTabComponentContent").css("height",$(".jsTabComponentContent > div:nth-child("+(e+1)+")").height()),$(".jsTabButton").hasClass("cendol is-active")?($(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#50ae5e"),$(this).parents().closest(".modal-section").find(".modal-header > div").addClass("cendol"),$(".modal-header > div").hasClass("bata")?$(".modal-header > div").removeClass("bata"):$(".modal-header > div").removeClass("cendol")):$(".jsTabButton").hasClass("bata is-active")?($(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#d0021b"),$(this).parents().closest(".modal-section").find(".modal-header > div").addClass("bata")):$(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#1998ed")}),$(document).on("click",".jsTabNav",function(){var e=$(".jsTabNav").index(this);$(this).closest(".jsTabElement").find(".jsTabNav").removeClass("is-active"),$(this).addClass("is-active"),$(this).closest(".jsTabElement").find(".jsTabContent").removeClass("is-show"),$(this).closest(".jsTabElement").find(".jsTabContent").eq(e).addClass("is-show")}),$(".all-badges").on("click",function(e){e.preventDefault(),badge()}),$(".moderate-di").on("click",function(e){e.preventDefault(),moderate()}),$("#pagination").html(""),$("#search_connection").unbind("click").on("click",function(){searchConnection()}),$("#search_connection_keyword").unbind("keydown").bind("keydown",function(e){13===e.keyCode&&searchConnection()});c=new Swiper(".jsKaskusTvSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsKaskusTvSwiper .jsWidgetButtonNext",prevEl:".jsKaskusTvSwiper .jsWidgetButtonPrev"}});c.on("reachEnd",function(){$(".jsKaskusTvSwiper").addClass("is-end")}),c.on("fromEdge",function(){$(".jsKaskusTvSwiper").removeClass("is-end")});c=new Swiper(".jsPodcastSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsPodcastSwiper .jsWidgetButtonNext",prevEl:".jsPodcastSwiper .jsWidgetButtonPrev"}});c.on("reachEnd",function(){$(".jsPodcastSwiper").addClass("is-end")}),c.on("fromEdge",function(){$(".jsPodcastSwiper").removeClass("is-end")}),new Swiper(".jsTopCommunitySwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopCommunitySwiper .jsWidgetButtonNext",prevEl:".jsTopCommunitySwiper .jsWidgetButtonPrev"}}),new Swiper(".jsTopForumSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopForumSwiper .jsWidgetButtonNext",prevEl:".jsTopForumSwiper .jsWidgetButtonPrev"}}),new Swiper(".jsNewCommunitySwiper",{slidesPerView:"auto",navigation:{nextEl:".jsNewCommunitySwiper .jsWidgetButtonNext",prevEl:".jsNewCommunitySwiper .jsWidgetButtonPrev"}}),new Swiper(".jsTopKreatorSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopKreatorSwiper .jsWidgetButtonNext",prevEl:".jsTopKreatorSwiper .jsWidgetButtonPrev"}});var p,c=new Swiper(".jsHotTopicSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsHotTopicSwiper .jsWidgetButtonNext",prevEl:".jsHotTopicSwiper .jsWidgetButtonPrev"}});c.on("reachEnd",function(){$(".jsHotTopicSwiper").addClass("is-end")}),c.on("fromEdge",function(){$(".jsHotTopicSwiper").removeClass("is-end")}),$(document).on("click",".jsHotTopicSlider",function(){$(".jsHotTopicStories").addClass("is-show"),$(document.body).toggleClass("Ov(h)"),playStory(this)}),$(document).on("click",".jsHotTopicStoriesClose",function(){closeStories()}),$(document).on("click",".jsHotTopicStoriesPrev",function(){goToStories("prev")}),$(document).on("click",".jsHotTopicStoriesNext",function(){goToStories("next")}),$(document).on("click",".jsThreadCardShare",function(){var e=$(".jsThreadCardShare").not(this);return $(this),setTimeout(function(){e.closest(".jsThreadCard").find(".jsShareBar").removeClass("is-visible")},300),e.closest(".jsThreadCard").find(".jsShareBarList").removeClass("is-show"),$(this).closest(".jsThreadCard").find(".jsShareBar").hasClass("is-visible")?($(this).closest(".jsThreadCard").find(".jsShareBar").removeClass("is-visible"),$(this).closest(".jsThreadCard").find(".jsShareBarList").removeClass("is-show")):($(this).closest(".jsThreadCard").find(".jsShareBar").addClass("is-visible"),$(this).closest(".jsThreadCard").find(".jsShareBarList").addClass("is-show"),createHorizontalShareMenu($(this).closest(".jsThreadCard").find(".jsShareBar"))),!1}),$(document).on("click",".jsThreadCardShareClose",function(e){var t=$(this);return t.closest(".jsShareBar").find(".jsShareBarList").removeClass("is-show"),setTimeout(function(){t.closest(".jsShareBar").removeClass("is-visible")},300),!1}),bindJsTippy(),flatpickr(".jsDatepickerPolling",{minDate:(new Date).fp_incr(1),dateFormat:"d-m-Y",locale:"id"}),$(".jsPilihKategori").select2(),new ClipboardJS(".jsClipboardButton").on("success",function(e){showBottomToast("Link Tersalin","2000")}),hotkeys("shift+x, shift+r, shift+left, shift+right",function(e,t){switch(t.key){case"shift+x":$(".spoiler input[type=button]").click();break;case"shift+r":link=$(".jsButtonPostReply").attr("href"),link&&(window.location=link);break;case"shift+left":link=$(".pagination .jsPrevPage").attr("href"),link&&(window.location=link);break;case"shift+right":link=$(".pagination .jsNextPage").attr("href"),link&&(window.location=link)}}),$(".jsButtonSmilies").click(function(){$(this).next($(".jsSmiliesContainer")).hasClass("is-visible")?($(this).next($(".jsSmiliesContainer")).removeClass("is-visible"),$(this).removeAttr("style")):($(this).removeAttr("style"),$(this).next($(".jsSmiliesContainer")).addClass("is-visible"),$(this).css("color","var(--c-blue-1)"))}),$(".jsButtonMention").click(function(){$(this).parents().find($(".jsMentionContainer")).hasClass("is-visible")?($(this).parents().find($(".jsMentionContainer")).removeClass("is-visible"),$(this).removeClass("active"),$(this).removeAttr("style")):($(this).removeAttr("style"),$(this).parents().find($(".jsMentionContainer")).addClass("is-visible"),$(this).css("color","var(--c-blue-1)"),$(this).addClass("active"),setTimeout(function(){$(".jsMentionContainer input").focus()},310))}),$(".jsSubscribeThreadIcon").click(function(){return subscribeUnsubscribe($(this)),!1}),$(".jsReplyTextArea").focus(function(){showReplyTools()}),$(document).mousedown(function(e){p=$(e.target)}),$(document).mouseup(function(e){p=null}),$(".jsReplyTextArea").blur(function(e){$(p).closest(".jsReplyTools").length||$(p).closest(".jsButtonReply").length||$(".jsReplyTextArea").length&&0==$(".jsReplyTextArea").val().length&&($(".jsReplyTools").hide(),$(".jsReplyUser").addClass("Pos(a)"),$(".jsReplyUser span").hide(),$(".jsReplyTextArea").addClass("Px(40px)"))}),$(".jsBBNumberList").click(function(){swal("Masukkan Angka Awal:",{content:"input"}).then(e=>{null!==e&&insertBBCode("[list="+e+"]\n[*]","\n[/list]",".jsAdvancedReplyTextarea")})}),autosize($(".jsReplyTextArea")),autosize($(".jsNestedReplyTextArea")),bindPopoverMenu(),bindThreadListShareMenuData(),$(".is-remove-all").mousedown(function(e){e.preventDefault()}),$(document).on("click",".jsModalTrigger",function(){$(".jsModal").removeClass("is-open");var e=$(this).attr("data-modal"),e=$("#"+e);e.addClass("is-open"),e.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)")}),$(".jsBadgeAdd").click(function(){selectBadge($(this).closest(".jsBadgeContainer").find(".jsBadgeSelect"))}),$(".jsBadgeSelect").click(function(){selectBadge(this)}),$(".jsBadgeStatus").click(function(){$(this).closest(".jsBadgeContainer").removeClass("is-selected"),$(this).closest(".jsBadgeContainer").find("img").attr("src",assetsFolderNew+"/images/default_badge.png"),$(this).find(".jsBadgeAdd").removeClass("D(n)"),$(this).find(".jsBadgeAdd").addClass("D(f)"),$(this).find(".jsBadgeRemove").addClass("D(n)"),$(this).find(".jsBadgeRemove").removeClass("D(f)")});var m=document.querySelector("#user-options-badges");function h(){var e,t=".jsSearchResult .jsSearchWrapper li:eq("+indexSelected+")";$(t).find("a").hasClass("categorySearch")?e=$(t).find("span").text():$(t).find("a").hasClass("forumSearch")?(e=$(t).find("a").text(),void 0!==$(t).find("a").attr("data-url")&&$("#searchform").attr("data-url",$(t).find("a").attr("data-url"))):(e=$(t).find("a").text(),$("#searchform").removeAttr("data-url")),$("#search").val(e),$(t).addClass("Bgc(c-semiwhite)"),$("#search").attr("value",e),$("#search").blur(),$("#search").focus(),updateSearchResult=!1}m&&(m.onchange=function(){"badge"===m.options[m.selectedIndex].value?$(".jsBadgeChooser").removeClass("D(n)"):$(".jsBadgeChooser").addClass("D(n)")}),$(document).on("click",".jsModalCloseButton",function(){closeModal()}),$(".mls-img").kslzy(300),$("body").on("click",".jsChannelForumButton",function(){$(this).closest(".jsChannelForumItem").hasClass("is-open")?($(this).closest(".jsChannelForumItem").removeClass("is-open"),$(this).find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),$(this).closest(".jsChannelForumItem").find(".jsChannelForumList").slideUp()):($(this).closest(".jsChannelForumItem").addClass("is-open"),$(this).find("i").removeClass("fa-plus-circle").addClass("fa-minus-circle"),$(this).closest(".jsChannelForumItem").find(".jsChannelForumList").slideDown())}),$(document).on("click",".jsButtonMultiquote",function(){$(this).toggleClass("is-animate is-selected")}),$(document).on("click",".jsPodcastWidgetButtonExpand",function(){$(this).find("i").toggleClass("fa-chevron-down fa-chevron-up"),$(".jsPodcastWidgetEpisodeList").slideToggle()}),0<$(".flyout__trigger").length&&$(".flyout__trigger").hover(function(){catLoaded||fetchCategories()}),$("body").on("click",".jsFormPasswordToggle",function(){var e=$(this).closest(".jsFormPassword").find(".jsFormPasswordInput"),t=$(this).closest(".jsFormPassword").find("i"),a="text"!=e.attr("type");a?(t.removeClass("fa-eye"),t.addClass("fa-eye-slash"),e.attr("type","text")):(t.removeClass("fa-eye-slash"),t.addClass("fa-eye"),e.attr("type","password"))}),$(".jsFirstPostItemTrigger").click(function(){$(".jsFirstPostItemContent").hasClass("is-hide")?($(".jsFirstPostItemContent").removeClass("is-hide"),$(".jsFirstPostItemContent").slideDown(),$(this).find("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(this).find("span").text("Sembunyikan Isi Thread")):($(".jsFirstPostItemContent").addClass("is-hide"),$(".jsFirstPostItemContent").slideUp(),$(this).find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).find("span").text("Lihat Isi Thread"),$("html, body").animate({scrollTop:$(".jsFirstPostItemContent").offset().top-300},400))}),$("#thread_post_list").on("click",".jsShowNestedTrigger",function(e){var t=$(this).attr("data-replycount");$(this).parent().next().hasClass("is-hide")?($(this).parent().next().removeClass("is-hide"),$(this).parent().next().slideDown(),$(this).find("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(this).find("span").text("Tutup Balasan")):($(this).parent().next().addClass("is-hide"),$(this).parent().next().slideUp(),$(this).find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).find("span").text("Lihat "+t+" balasan"))}),$(".jsSpoilerTrigger").click(function(e){$(this).closest(".jsSpoiler").toggleClass("is-open"),$(this).find("i").toggleClass("fa-angle-down fa-angle-up"),$(this).closest(".jsSpoiler").hasClass("is-open")?($(this).find("span").text("Hide"),$(this).closest(".jsSpoiler").find(".jsSpoilerContent").first().slideDown()):($(this).find("span").text("Show"),$(this).closest(".jsSpoiler").find(".jsSpoilerContent").first().slideUp())}),$(".jsTabLink").click(function(){var e=$(this).attr("data-tab");$(".jsTabLink, .jsTabContent").removeClass("is-active"),$(this).addClass("is-active"),$("#"+e).addClass("is-active")}),$(".jsSearchFormInput").focus(function(){$(".jsSearchResult").addClass("is-open"),$(".jsNavHeaderOverlay").show(),$(".jsSearchStickyWrapper").css("min-height","500px")}),$(".jsSearchFormInput").blur(function(){$(".jsSearchResult").removeClass("is-open"),$(".jsNavHeaderOverlay").hide(),$(".jsSearchStickyWrapper").css("min-height","30px")}),$(".jsModalCloseButton").click(function(){$(".jsModal").removeClass("is-open"),$("body").removeClass("Ov(h)")}),0<$(".jsPodcastWidget").length&&(c=$(".jsPodcastWidget").outerWidth()-45-35-30,$(".jsPodcastWidgetFlex").css("width",c+"px"),$(".jsAudioTitle")[0].scrollWidth>$(".jsAudioContainer").width()&&($(".jsAudioContainer").addClass("is-running"),$(".jsAudioLink").clone().prependTo(".jsAudioTitle"))),$("#search").keydown(function(e){$(".jsSearchResult").find("li").removeClass("Bgc(c-semiwhite)"),13!=e.which&&$("#searchform").removeAttr("data-url");var t,a=$(".jsSearchResult .jsSearchWrapper li").length-1,s=".jsSearchResult .jsSearchWrapper li:eq("+indexSelected+")";if($(s).find("a").hasClass("categorySearch")&&void 0!==$(s).find("a").attr("data-forum-id")&&13==e.which&&(e.preventDefault(),t=$(s).find("span").text(),t+=" fid:"+$(s).find("a").attr("data-forum-id"),window.location.href="/search/forum/?q="+t),38==e.which)return 0<indexSelected?indexSelected--:indexSelected=a,h(),!1;40==e.which?(indexSelected<a?indexSelected++:indexSelected=0,h()):updateSearchResult=!0}),$(".jsUserAvatar").click(function(){$(".toggleMenu").hasClass("is-visible")?($(".toggleMenu").removeClass("is-visible"),$(".jsNavHeaderOverlay").hide(),$(".jsUserMenu").removeClass("is-active"),$(".jsNotificationMenu").removeClass("is-active")):($(this).next().toggleClass("is-visible"),toggleOverlay(),$(".jsUserMenu").addClass("is-active"))}),$(".jsNotificationIcon").click(function(){$(".toggleMenu").hasClass("is-visible")?($(".toggleMenu").removeClass("is-visible"),$(".jsNavHeaderOverlay").hide(),$(".jsNotificationMenu").removeClass("is-active"),$(".jsUserMenu").removeClass("is-active")):($(this).next().toggleClass("is-visible"),toggleOverlay(),$(".jsNotificationMenu").addClass("is-active"))}),$(document).on("click",function(e){$(e.target).closest(".jsPopover, .jsUserMenu, .jsNotificationMenu, .jsFlyoutMenu, .jsSearchOutterWrapper, .jsSearchStickyBtn,  .jsReplyTools, #jsReplyTextArea, .jsSmilies, .jsMention, .jsBBMention, .jsBBFontColor, .jsBBFontName, .jsBBFontSize, .jsSearchAnchorSticky ").length||($(".jsPopoverMenu").removeClass("is-visible"),$(".jsPopoverTrigger").removeClass("C(c-blue").addClass("C(c-primary)"),$(".jsSmiliesContainer").removeClass("is-visible"),$(".jsButtonSmilies").removeAttr("style"),$(".jsMentionContainer").removeClass("is-visible"),$(".jsButtonMention").removeAttr("style"),$(".jsButtonMention").removeClass("active"),$(".jsUserDropdownMenu").removeClass("is-visible"),$(".jsUserMenu").removeClass("is-active"),$(".jsNotificationDropdownMenu").removeClass("is-visible"),$(".jsNotificationMenu").removeClass("is-active"),$(".jsSearchSticky").removeClass("is-clicked"),$(".jsSearchTrigger").removeClass("is-clicked"),$(".jsSearchOutterWrapper").hide(),$(".jsBBColorPicker, .jsBBSizePicker, .jsBBFontPicker").addClass("D(n)"),"block"==$(".jsNavHeaderOverlay").css("display")&&$(".jsNavHeaderOverlay").hide())}),stickybits(".jsStickyAnchor",{stickyBitStickyOffset:60}),stickybits(".jsToolbarSCEditorAnchor",{verticalPosition:"bottom",useStickyClasses:!0});var f=$(".jsMenuAccordion");f.children("ul").find("a").click(function(){var e=$(this).next();return e.is("ul")&&(e.is(":visible")?($(this).closest("li").removeClass("is-open"),$(this).find(".jsMenuAccordionIcon").toggleClass("fa-angle-down fa-angle-up"),e.slideUp()):(f.children("ul").find("ul:visible").slideUp(),f.find("li").removeClass("is-open"),f.find(".jsMenuAccordionIcon").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).closest("li").addClass("is-open"),$(this).find(".jsMenuAccordionIcon").toggleClass("fa-angle-down fa-angle-up"),e.slideDown())),0===$(this).closest("li").find("ul").children().length}),$("#koin-amount").select2({minimumResultsForSearch:1/0});var g=document.querySelector(".jsKoinDateFrom"),_=document.querySelector(".jsKoinDateUntil");g&&flatpickr(g,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",maxDate:new Date,onChange:function(e){_._flatpickr.set("minDate",e[0])}}),_&&flatpickr(_,{altInput:!0,altFormat:"d-m-Y",dateFormat:"Y-m-d",maxDate:new Date,onChange:function(e){g._flatpickr.set("maxDate",e[0])}}),forumAllEventTracking(),bindForumAllIconCancel(),bindForumAllSearchResult(),bindForumAllSubscribeEvent(),bindTopKreatorClickFollowBtn(),bindTopKreatorHoverFollowBtn()});

(()=>{var i={2:(e,t,i)=>{"use strict";var a;i.r(t),i.d(t,{default:()=>r});try{(a=self).self!==a&&(a.self,1)&&"undefined"!=typeof window&&(a=window)}catch(e){a="undefined"==typeof globalThis?window:globalThis}const r=a},1:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});t=i(2);null==t.default.Wistia&&(t.default.Wistia={});i=t.default.Wistia;null==i._initializers&&(i._initializers={}),null==i._destructors&&(i._destructors={}),null==i.mixin&&(i.mixin=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])});const a=t.default.Wistia},635:e=>{e.exports=function(i){function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var r={};return a.m=i,a.c=r,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=16)}([function(e,t){function i(e,t){var i,a,r=O(e)||function(e){return function(e){return!!e&&"object"==typeof e}(e)&&d(e)}(i=e)&&g.call(i,"callee")&&(!x.call(i,"callee")||w.call(i)==_)?function(e,t){for(var i=-1,a=Array(e);++i<e;)a[i]=t(i);return a}(e.length,String):[],n=r.length,o=!!n;for(a in e)!t&&!g.call(e,a)||o&&("length"==a||s(a,n))||r.push(a);return r}function u(e,t,i){var a=e[t];g.call(e,t)&&l(a,i)&&(void 0!==i||t in e)||(e[t]=i)}function a(n,o){return o=E(void 0===o?n.length-1:o,0),function(){for(var e=arguments,t=-1,i=E(e.length-o,0),a=Array(i);++t<i;)a[t]=e[o+t];for(var t=-1,r=Array(o+1);++t<o;)r[t]=e[t];return r[o]=a,function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(n,this,r)}}function s(e,t){return(t=null==t?h:t)&&("number"==typeof e||y.test(e))&&-1<e&&0==e%1&&e<t}function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||b)}function l(e,t){return e===t||e!=e&&t!=t}function d(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&0==t%1&&t<=h)&&!function(e){e=c(e)?w.call(e):"";return e==m||e==v}(e);var t}function c(e){var t=typeof e;return e&&("object"==t||"function"==t)}function n(e){return(d(e)?i:function(e){if(!r(e))return S(e);var t,i=[];for(t in Object(e))g.call(e,t)&&"constructor"!=t&&i.push(t);return i})(e)}var f,o,p,h=9007199254740991,_="[object Arguments]",m="[object Function]",v="[object GeneratorFunction]",y=/^(?:0|[1-9]\d*)$/,b=Object.prototype,g=b.hasOwnProperty,w=b.toString,x=b.propertyIsEnumerable,S=(o=Object.keys,p=Object,function(e){return o(p(e))}),E=Math.max,T=!x.call({valueOf:1},"valueOf"),O=Array.isArray,k=(f=function(e,t){if(T||r(t)||d(t))!function(e,t,i,a){i=i||{};for(var r=-1,n=t.length;++r<n;){var o=t[r],s=a?a(i[o],e[o],o,i,e):void 0;u(i,o,void 0===s?e[o]:s)}}(t,n(t),e);else for(var i in t)g.call(t,i)&&u(e,i,t[i])},a(function(e,t){var i=-1,a=t.length,r=1<a?t[a-1]:void 0,n=2<a?t[2]:void 0,r=3<f.length&&"function"==typeof r?(a--,r):void 0;for(n&&function(e,t,i){if(c(i)){var a=typeof t;return!("number"==a?!d(i)||!s(t,i.length):!("string"==a&&t in i))&&l(i[t],e)}}(t[0],t[1],n)&&(r=a<3?void 0:r,a=1),e=Object(e);++i<a;){var o=t[i];o&&f(e,o)}return e}));e.exports=k},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){i=void 0===i?1:i,e[t]=e[t]||0,e[t]+=i}},function(t,e,i){!function(e){e="undefined"==typeof window?void 0===e?"undefined"==typeof self?{}:self:e:window;t.exports=e}.call(e,i(4))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=i(18),i=i&&i.__esModule?i:{default:i},r=i.default.methodFactory;i.default.methodFactory=function(e,t,i){var a=r(e,t,i);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);a.apply(void 0,e)}},i.default.setLevel(i.default.getLevel()),t.default=i.default},function(e,t){var i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random();return("x"===e?t:8|3&t).toString(16)})},t.generateShortID=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)}},function(a,e,r){!function(e){var t,i=void 0===e?"undefined"==typeof window?{}:window:e,e=r(20);"undefined"==typeof document?(t=i["__GLOBAL_DOCUMENT_CACHE@4"])||(t=i["__GLOBAL_DOCUMENT_CACHE@4"]=e):t=document,a.exports=t}.call(e,r(4))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;function a(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,r.generateShortID)()),e.muxId):e}var r=i(5);t.getMuxPlayerId=a,t.findMediaElement=function(e){var t;return e&&void 0!==e.nodeName?e=a(t=e):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"1"===(a.default.doNotTrack||a.default.navigator.doNotTrack||a.default.navigator.msDoNotTrack)};var i=i(2),a=i&&i.__esModule?i:{default:i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHostnameAndDomain=void 0;var i=i(6),a=i&&i.__esModule?i:{default:i};t.extractHostnameAndDomain=function(e){var t=a.default.createElement("a");t.href=e;var i,e=t.hostname,t=e.match(/[^\.]+\.[^\.]+$/);return[e,i=t&&t.length?t[0]:i]}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=(e=e||"").match(/[^\r\n]+/g)||[];for(var t,i={},a=0;a<e.length;a++)3===(t=e[a].split(/\s*:\s*(.+)/)).length&&(i[t[0]]=t[1]);return i}},function(e,t,i){"use strict";var a=i(40),r=i(41),i=i(14);e.exports={formats:i,parse:r,stringify:a}},function(e,n,t){"use strict";var o=Object.prototype.hasOwnProperty,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();n.arrayToObject=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},a=0;a<e.length;++a)void 0!==e[a]&&(i[a]=e[a]);return i},n.merge=function(i,a,r){if(!a)return i;if("object"!=typeof a){if(Array.isArray(i))i.push(a);else{if("object"!=typeof i)return[i,a];!r.plainObjects&&!r.allowPrototypes&&o.call(Object.prototype,a)||(i[a]=!0)}return i}if("object"!=typeof i)return[i].concat(a);var e=i;return Array.isArray(i)&&!Array.isArray(a)&&(e=n.arrayToObject(i,r)),Array.isArray(i)&&Array.isArray(a)?(a.forEach(function(e,t){o.call(i,t)?i[t]&&"object"==typeof i[t]?i[t]=n.merge(i[t],e,r):i.push(e):i[t]=e}),i):Object.keys(a).reduce(function(e,t){var i=a[t];return e[t]=o.call(e,t)?n.merge(e[t],i,r):i,e},e)},n.assign=function(e,i){return Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},e)},n.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},n.encode=function(e){if(0===e.length)return e;for(var t,i="string"==typeof e?e:e+"",a="",r=0;r<i.length;++r)45===(t=i.charCodeAt(r))||46===t||95===t||126===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?a+=i.charAt(r):t<128?a+=s[t]:t<2048?a+=s[192|t>>6]+s[128|63&t]:t<55296||57344<=t?a+=s[224|t>>12]+s[128|63&t>>6]+s[128|63&t]:(t=65536+((1023&t)<<10|1023&i.charCodeAt(r+=1)),a+=s[240|t>>18]+s[128|63&t>>12]+s[128|63&t>>6]+s[128|63&t]);return a},n.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],a=0;a<t.length;++a)for(var r=t[a],n=r.obj[r.prop],o=Object.keys(n),s=0;s<o.length;++s){var u=o[s],l=n[u];"object"==typeof l&&null!==l&&-1===i.indexOf(l)&&(t.push({obj:n,prop:u}),i.push(l))}return function(e){for(var t,i;e.length;)if(t=(i=e.pop()).obj[i.prop],Array.isArray(t)){for(var a=[],r=0;r<t.length;++r)void 0!==t[r]&&a.push(t[r]);i.obj[i.prop]=a}return t}(t)},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,i){"use strict";var a=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return a.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[e[t]]=t);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){var o={},s={};return Object.keys(n).forEach(function(t){var e,i,a,r=!1;n.hasOwnProperty(t)&&void 0!==n[t]&&(i=(e=t.split("_"))[0],(a=d[i])||(u.default.info("Data key word `"+e[0]+"` not expected in "+t),a=i+"_"),e.splice(1).forEach(function(e){"url"===e&&(r=!0),c[e]?a+=c[e]:(u.default.info("Data key word `"+e+"` not expected in "+t),a+="_"+e+"_")}),r?s[a]=n[t]:o[a]=n[t])}),(0,l.default)(o,s)};var u=a(i(3)),l=a(i(0)),d=r({a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),c=r({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",cn:"config",co:"count",ce:"counter",cp:"complete",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(e,t,i){"use strict";e.exports=i(17).default},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});function r(e){var t=arguments;"string"==typeof e?r.hasOwnProperty(e)?o.default.setTimeout(function(){t=Array.prototype.splice.call(t,1),r[e].apply(null,t)},0):u.default.warn("`"+e+"` is an unknown task"):"function"==typeof e?o.default.setTimeout(function(){e(r)},0):u.default.warn("`"+e+"` is invalid.")}var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,a=[],r=!0,n=!1;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=a(i(2)),s=i(7),u=a(i(3)),l=a(i(8)),d=a(i(19)),c=a(i(48)),i=a(i(49)),f={};r.loaded=Date.now(),r.VERSION="2.4.5",r.API_VERSION="2.0",r.PLAYER_TRACKED=!1,r.monitor=function(e,t){return(0,c.default)(r,e,t)},r.destroyMonitor=function(e){var t=(0,s.findMediaElement)(e),t=n(t,1)[0];t&&t.mux&&"function"==typeof t.mux.destroy?t.mux.destroy():u.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},r.addHLSJS=function(e,t){e=(0,s.getMuxPlayerId)(e);f[e]?f[e].addHLSJS(t):u.default.error("A monitor for `"+e+"` has not been initialized.")},r.addDashJS=function(e,t){e=(0,s.getMuxPlayerId)(e);f[e]?f[e].addDashJS(t):u.default.error("A monitor for `"+e+"` has not been initialized.")},r.removeHLSJS=function(e){e=(0,s.getMuxPlayerId)(e);f[e]?f[e].removeHLSJS():u.default.error("A monitor for `"+e+"` has not been initialized.")},r.removeDashJS=function(e,t){e=(0,s.getMuxPlayerId)(e);f[e]?f[e].removeDashJS(t):u.default.error("A monitor for `"+e+"` has not been initialized.")},r.init=function(e,t){e=(0,s.getMuxPlayerId)(e);f[e]=new d.default(r,e,t)},r.emit=function(e,t,i){e=(0,s.getMuxPlayerId)(e);f[e]?(f[e].emit(t,i),"destroy"===t&&delete f[e]):u.default.error("A monitor for `"+e+"` has not been initialized.")},(0,l.default)()&&u.default.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled."),o.default.addEventListener("unload",function(){r.WINDOW_UNLOADING=!0},!1),r.checkDoNotTrack=l.default,r.log=u.default,r.utils=i.default,t.default=r},function(e,t,i){var a;!function(){"use strict";void 0!==(a="function"==typeof(a=function(){"use strict";function t(e,t){var i=e[t];if("function"==typeof i.bind)return i.bind(e);try{return Function.prototype.bind.call(i,e)}catch(t){return function(){return Function.prototype.apply.apply(i,[e,arguments])}}}function a(e){return"debug"===e&&(e="log"),typeof console!==c&&(void 0===console[e]?void 0===console.log?n:t(console,"log"):t(console,e))}function l(e,t){for(var i,a=0;a<f.length;a++)i=f[a],this[i]=a<e?n:this.methodFactory(i,e,t);this.log=this.debug}function r(e,t,i){return function(){typeof console!==c&&(l.call(this,t,i),this[e].apply(this,arguments))}}function d(e,t,i){return a(e)||r.apply(this,arguments)}function i(i,e,t){function a(e){var t=(f[e]||"silent").toUpperCase();if(typeof window!==c){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}function r(){var e;if(typeof window!==c){try{e=window.localStorage[s]}catch(e){}if(typeof e===c)try{var t=window.document.cookie,i=t.indexOf(encodeURIComponent(s)+"=");i&&(e=/^([^;]+)/.exec(t.slice(i))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}var n,o=this,s="loglevel";i&&(s+=":"+i),o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=t||d,o.getLevel=function(){return n},o.setLevel=function(e,t){if("string"==typeof e&&void 0!==o.levels[e.toUpperCase()]&&(e=o.levels[e.toUpperCase()]),!("number"==typeof e&&0<=e&&e<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return(n=e,!1!==t&&a(e),l.call(o,e,i),typeof console===c&&e<o.levels.SILENT)?"No console available for logging":void 0},o.setDefaultLevel=function(e){r()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var u=r();null==u&&(u=null==e?"WARN":e),o.setLevel(u,!1)}var n=function e(){},c="undefined",f=["trace","debug","info","warn","error"],o=new i,s={};o.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=s[e];return t||(t=s[e]=new i(e,o.getLevel(),o.methodFactory)),t};var e="undefined"==typeof window?void 0:window.log;return o.noConflict=function(){return"undefined"!=typeof window&&window.log===o&&(window.log=e),o},o})?a.call(t,i,t,e):a)&&(e.exports=a)}()},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,a=[],r=!0,n=!1;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=a(i(3)),o=a(i(0)),s=i(5),u=i(9),l=a(i(2)),d=a(i(1)),c=a(i(21)),f=i(23),p=i(24),h=a(i(25)),_=a(i(26)),m=a(i(27)),v=a(i(28)),y=a(i(29)),b=a(i(30)),g=a(i(31)),w=a(i(32)),x=a(i(33)),S=a(i(34)),E=a(i(35)),T=a(i(36)),O=a(i(37)),k=a(i(38)),P=a(i(47)),D=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],i=function(e,t,i){var a=this;this.DOM_CONTENT_LOADED_EVENT_END=l.default.performance&&l.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=l.default.performance&&l.default.performance.timing.navigationStart;this.mux=e,this.id=t,(i=(0,o.default)({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,sampleRate:1,beaconDomain:"litix.io"},i)).data=i.data||{},i.data.property_key&&(i.data.env_key=i.data.property_key,delete i.data.property_key),n.default.setLevel(i.debug?"debug":"warn"),this.getPlayheadTime=i.getPlayheadTime,this.getStateData=i.getStateData||function(){},this.getAdData=i.getAdData||function(){},this.minimumRebufferDuration=i.minimumRebufferDuration,this.sustainedRebufferThreshold=i.sustainedRebufferThreshold,this.playbackHeartbeatTime=i.playbackHeartbeatTime,this.playbackEventDispatcher=new k.default(e,i.data.env_key,i.beaconDomain,i.sampleRate,i.disableCookies),this.data={player_instance_id:(0,s.generateShortID)(),mux_sample_rate:i.sampleRate,beacon_domain:i.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,o.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)},this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,o.default)(this.data,t),this._initializeViewData();t=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.one("play",t),this.one("adbreakstart",t)}),this.on("videochange",function(e,t){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",t)}),this.on("destroy",this.destroy);var r=this.destroy.bind(this);l.default.addEventListener("unload",r,!1),this.on("destroy",function(){l.default.removeEventListener("unload",r)}),this.on("playerready",function(e,t){(0,o.default)(this.data,t)}),D.forEach(function(i){a.on(i,function(e,t){0!==i.indexOf("ad")&&this._updateStateData(),(0,o.default)(this.data,t),this._sanitizeData()}),a.on("after"+i,function(){this.send(i)})}),this.on("viewend",function(e,t){(0,o.default)(a.data,t)});this.one("playerready",function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),m.default.apply(this),O.default.apply(this),S.default.apply(this),b.default.apply(this),_.default.apply(this),x.default.apply(this),v.default.apply(this),y.default.apply(this),E.default.apply(this),g.default.apply(this),w.default.apply(this),T.default.apply(this),P.default.apply(this),i.hlsjs&&this.addHLSJS(i),i.dashjs&&this.addDashJS(i),this.emit("viewinit",i.data)};(0,o.default)(i.prototype,h.default.prototype),(0,o.default)(i.prototype,b.default.prototype),(0,o.default)(i.prototype,S.default.prototype),(0,o.default)(i.prototype,_.default.prototype),(0,o.default)(i.prototype,v.default.prototype),(0,o.default)(i.prototype,y.default.prototype),(0,o.default)(i.prototype,E.default.prototype),(0,o.default)(i.prototype,g.default.prototype),(0,o.default)(i.prototype,w.default.prototype),i.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),l.default.clearTimeout(this._heartBeatTimeout))},i.prototype.send=function(e){var t,i,a=(0,o.default)({},this.data);1===a.player_error_code&&(delete a.player_error_code,delete a.player_error_message),a.player_source_duration===1/0||a.video_source_duration===1/0?a.video_source_is_live=!0:(0<a.player_source_duration||0<a.video_source_duration)&&(a.video_source_is_live=!1),a.video_source_url=a.video_source_url||a.player_source_url,a.video_source_url&&(t=(0,u.extractHostnameAndDomain)(a.video_source_url),t=(i=r(t,2))[0],i=i[1],a.video_source_domain=i,a.video_source_hostname=t),delete a.ad_request_id,this.playbackEventDispatcher.send(e,a),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},i.prototype._updateStateData=function(){(0,o.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},i.prototype._sanitizeData=function(){var i=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach(function(e){var t=parseInt(i.data[e],10);i.data[e]=isNaN(t)?void 0:t})},i.prototype._resetVideoData=function(e,t){var i=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete i.data[e]})},i.prototype._resetViewData=function(){var t=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("view_")&&delete t.data[e]}),this.data.view_sequence_number=1},i.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},i.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,s.generateUUID)();this.data.video_id||(this.data.video_id=(0,c.default)(this.data.player_source_url));function i(){t===e.data.view_id&&(0,d.default)(e.data,"player_view_count",1)}this.data.player_is_paused?this.one("play",i):i()},i.prototype._restartHeartBeat=function(){var e=this;l.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=l.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},i.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,f.monitorHLSJS)(this.mux,this.id,e.hlsjs,{},e.Hls||l.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},i.prototype.removeHLSJS=function(){this.hlsjs&&((0,f.stopMonitoringHLSJS)(this.id,this.hlsjs),this.hlsjs=void 0)},i.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,p.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},i.prototype.removeDashJS=function(){this.dashjs&&((0,p.stopMonitoringDashJS)(this.id,this.dashjs),this.dashjs=void 0)},t.default=i},function(e,t){},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=r.default.createElement("a");return t.href=e,e=t.pathname.replace(/\.[^\/.]+$/,""),n.default.encode(t.host+e).split("=")[0]};var r=a(i(6)),n=a(i(22))},function(e,r,n){!function(i,e){var a;!function(){"object"==typeof i&&i&&i.exports;var t=function(e){this.message=e};t.prototype=new Error,t.prototype.name="InvalidCharacterError";function l(e){throw new t(e)}var s=/[\t\n\f\r ]/g,e={encode:function(e){/[^\0-\xFF]/.test(e+="")&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var t,i,a,r,n=e.length%3,o="",s=-1,u=e.length-n;++s<u;)t=e.charCodeAt(s)<<16,i=e.charCodeAt(++s)<<8,a=e.charCodeAt(++s),o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&(r=t+i+a)>>18)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&r>>12)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&r>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&r);return 2==n?(t=e.charCodeAt(s)<<8,i=e.charCodeAt(++s),o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((r=t+i)>>10)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&r>>4)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&r<<2)+"="):1==n&&(r=e.charCodeAt(s),o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&r<<4)+"=="),o},decode:function(e){var t=(e=(e+"").replace(s,"")).length;1!=(t=0==t%4?(e=e.replace(/==?$/,"")).length:t)%4&&!/[^+a-zA-Z0-9\/]/.test(e)||l("Invalid character: the string to be decoded is not correctly encoded.");for(var i,a,r=0,n="",o=-1;++o<t;)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(o)),i=r%4?64*i+a:a,r++%4&&(n+=String.fromCharCode(255&i>>(6&-2*r)));return n},version:"0.1.0"};void 0!==(a=function(){return e}.call(r,n,r,i))&&(i.exports=a)}()}.call(r,n(10)(e),n(4))},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHLSJS=t.monitorHLSJS=void 0;var E=a(i(2)),T=a(i(11));t.monitorHLSJS=function(p,h,_){function e(e,t){try{var i,a,r,n,o,s,u,l,d,c,f=null;if(e!==x.Events.FRAG_BUFFERED&&t.networkDetails&&t.networkDetails.getAllResponseHeaders?(b=t.networkDetails.getAllResponseHeaders(),d=(l=t.networkDetails.responseURL.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&l[3]):e===x.Events.FRAG_BUFFERED&&(b=g[t.frag.loadIdx][0],d=g[t.frag.loadIdx][1],delete g[t.frag.loadIdx]),e===x.Events.FRAG_LOADED)return void(g[t.frag.loadIdx]=[b,d]);m=_.currentLevel,n=_.levels,u=e===x.Events.MANIFEST_LOADED||e===x.Events.LEVEL_LOADED?(s="manifest",a=0,-1):(s="media",a=t.frag.duration,t.frag.startPTS),0<=m&&(o=n[m],v=void 0===o.width?0:o.width,y=void 0===o.height?0:o.height),e===x.Events.MANIFEST_LOADED&&(f={},n.forEach(function(e,t){f[t]={},f[t].width=void 0===e.width?0:e.width,f[t].height=void 0===e.height?0:e.height,f[t].bitrate=e.bitrate,f[t].attrs=e.attrs}),w.media=f),r=E.default.performance.timing.navigationStart,i=t.stats.total,c={request_event_type:e,request_start:r+t.stats.trequest,request_response_start:r+t.stats.tfirst,request_response_end:r+t.stats.tload,request_bytes_loaded:i,request_type:s,request_response_headers:(0,T.default)(b),request_hostname:d},"audio"!==s&&"video"!==s&&"media"!==s||(c.request_media_duration=a),-1!==m&&(c.request_current_level=m),-1!==u&&(c.request_media_start_time=u),"video"!==s&&"media"!==s||(c.request_video_width=v,c.request_video_height=y),null!==f&&(c.request_rendition_lists=w),p.emit(h,"requestcompleted",c)}catch(e){S.warn("hlsjs-monitor.js onHLSRequestLoaded() Exception",e)}}function t(e,t){var i=t.details;if(i===x.ErrorDetails.MANIFEST_LOAD_ERROR||i===x.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i===x.ErrorDetails.FRAG_LOAD_ERROR||i===x.ErrorDetails.FRAG_LOAD_TIMEOUT||i===x.ErrorDetails.LEVEL_LOAD_ERROR||i===x.ErrorDetails.LEVEL_LOAD_TIMEOUT)try{var a,r,n="",o=0,s="";i===x.ErrorDetails.MANIFEST_LOAD_ERROR?(o=t.response.code,s=t.response.text,n=t.context.url):i===x.ErrorDetails.MANIFEST_LOAD_TIMEOUT?n=t.context.url:i===x.ErrorDetails.LEVEL_LOAD_ERROR?(o=t.response.code,s=t.response.text,n=t.context.url):i===x.ErrorDetails.LEVEL_LOAD_TIMEOUT?n=t.context.url:i===x.ErrorDetails.FRAG_LOAD_ERROR?(o=t.response.code,s=t.response.text,n=t.frag.url):i===x.ErrorDetails.FRAG_LOAD_TIMEOUT&&(n=t.frag.url),r=(a=n.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&a[3],p.emit(h,"requestfailed",{request_error:i,request_url:n,request_hostname:r,request_type:"media",request_error_code:o,request_error_text:s})}catch(e){S.warn("hlsjs-monitor.js onHLSRequestError() Exception",e)}}function i(e,t){try{var i=t.frag._url,a=i.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),r=a&&a[3];p.emit(h,"requestcanceled",{request_cancel:e,request_url:i,request_hostname:r,request_type:"media"})}catch(e){S.warn("hlsjs-monitor.js onHLSRequestCancel() Exception",e)}}var m,v,y,b,g,w,x=arguments[4],S=p.log;E.default.performance&&E.default.performance.timing?(m=-1,y=v=0,b="",g={},w={video:{},audio:{},media:{}},_._muxPluginData=_._muxPluginData||{},_._muxPluginData[h]={},_.on(x.Events.FRAG_LOADED,e),_.on(x.Events.FRAG_BUFFERED,e),_.on(x.Events.MANIFEST_LOADED,e),_.on(x.Events.LEVEL_LOADED,e),_.on(x.Events.ERROR,t),_.on(x.Events.FRAG_LOAD_EMERGENCY_ABORTED,i),_._muxPluginData[h].stopMonitoring=function(){_.off(x.Events.FRAG_LOADED,e),_.off(x.Events.FRAG_BUFFERED,e),_.off(x.Events.MANIFEST_LOADED,e),_.off(x.Events.LEVEL_LOADED,e),_.off(x.Events.ERROR,t),_.off(x.Events.FRAG_LOAD_EMERGENCY_ABORTED,i)}):S.warn("window.performance.timing not supported. Not tracking HLS.js.")},t.stopMonitoringHLSJS=function(e,t){t&&t._muxPluginData&&t._muxPluginData[e]&&t._muxPluginData[e].stopMonitoring()}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var l=a(i(2)),j=a(i(11));t.monitorDashJS=function(w,x,S){function e(e){try{var t,i,a,r,n,o,s,u,l,d,c,f,p,h,_,m,v,y=null,b=e.type,g="manifestLoaded"===b?(y={},v="",NaN):(y=e.chunk.mediaInfo.bitrateList,v=e.chunk.mediaInfo.type,e.chunk.start);E="video"===v?S.getQualityFor("video"):S.getQualityFor("audio"),"manifestLoaded"===b||M&&A||(P={},y.forEach(function(e,t){P[t]={},P[t].width=void 0===e.width?0:e.width,P[t].height=void 0===e.height?0:e.height,P[t].bitrate=e.bandwidth,P[t].attrs={}}),"video"===v?(D.video=P,M=!0):(D.audio=P,A=!0)),"initFragmentLoaded"===b?p="video"===v?(h="video_init",y[E]):"audio"===v?(h="audio_init",y[0]):(h="media",y[E]):"mediaFragmentLoaded"===b?p="video"===v?(h="video",y[E]):"audio"===v?(h="audio",y[0]):(h="media",y[E]):"manifestLoaded"===b&&(h="manifest",p={}),T=p.width,O=p.height,k=p.bandwidth,c="manifestLoaded"===b?(s=e.data.url,u=a=i=t=r=0,""):(s=(o=(n=e.fragmentModel.getRequests({state:"executed"}))[n.length-1]).url,l=o.mediaType,r=o.bytesLoaded,t=new Date(o.requestStartDate).getTime(),i=new Date(o.firstByteDate).getTime(),a=new Date(o.requestEndDate).getTime(),u=Number.isNaN(o.duration)?0:o.duration,(d=S.getMetricsFor(l).HttpList)[d.length-1]._responseHeaders),_=(m=s.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/))&&m[3],f={request_event_type:b,request_start:t,request_response_start:i,request_response_end:a,request_bytes_loaded:r="manifestLoaded"===b||"initFragmentLoaded"===b?-1:r,request_type:h,request_response_headers:(0,j.default)(c),request_hostname:_},"audio"!==h&&"video"!==h&&"media"!==h||(f.request_media_duration=u),isNaN(g)||(f.request_media_start_time=g),void 0!==k&&(f.request_labeled_bitrate=k),-1!==E&&(f.request_current_level=E),"video"!==h&&"media"!==h||(f.request_video_width=T,f.request_video_height=O),null!==P&&(f.request_rendition_lists=D),w.emit(x,"requestcompleted",f)}catch(e){R.warn("dashjs-monitor.js onDASHRequestLoaded() Exception: ",e)}}function t(e){var t=l.default.event;try{var i=e.error+"_"+e.event.id+"_"+e.event.request.type,a=e.event.url,r=e.event.request.mediaType,n=t.currentTarget.status,o=t.currentTarget.statusText,s=a.match(/^(https?:)\/\/(([^:\/?#]*)(?::([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/),u=s&&s[3];w.emit(x,"requestfailed",{request_error:i,request_url:a,request_hostname:u,request_type:r,request_error_code:n,request_error_text:o})}catch(e){R.warn("dashjs-monitor.js onDASHRequestError() Exception: ",e)}}var E,T,O,k,P,D,A,M,R=w.log;S&&S.on?(E=-1,k=O=T=0,P=null,M=A=!(D={video:{},audio:{},media:{}}),S._muxPluginData=S._muxPluginData||{},S._muxPluginData[x]={},S.on("mediaFragmentLoaded",e),S.on("initFragmentLoaded",e),S.on("manifestLoaded",e),S.on("error",t),S._muxPluginData[x].stopMonitoring=function(){S.off("mediaFragmentLoaded",e),S.off("initFragmentLoaded",e),S.off("manifestLoaded",e),S.off("error",t)}):R.warn("Invalid dash.js player reference. Monitoring blocked.")},t.stopMonitoringDashJS=function(e,t){t&&t._muxPluginData&&t._muxPluginData[e]&&t._muxPluginData[e].stopMonitoring()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(){}var n=0;a.prototype.on=function(e,t,i){return t._eventEmitterGuid=t._eventEmitterGuid||++n,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],i&&(t=t.bind(i)),this._listeners[e].push(t),t},a.prototype.off=function(e,i){var a=this._listeners&&this._listeners[e];a&&a.forEach(function(e,t){e._eventEmitterGuid===i._eventEmitterGuid&&a.splice(t,1)})},a.prototype.one=function(e,t,i){var a=this;t._eventEmitterGuid=t._eventEmitterGuid||++n;function r(){a.off(e,r),t.apply(i||this,arguments)}r._eventEmitterGuid=t._eventEmitterGuid,this.on(e,r)},a.prototype.emit=function(i,e){var t,a,r,n,o=this;this._listeners&&(t=this._listeners["before*"]||[],a=this._listeners[i]||[],r=this._listeners["after"+i]||[],(n=function(e,t){(e=e.slice()).forEach(function(e){e.call(o,{type:i},t)})})(t,e=e||{}),n(a,e),n(r,e))},t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=i(2),a=i&&i.__esModule?i:{default:i},i=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(a.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};i.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=a.default.setInterval(function(){e.emit("playbackheartbeat")},this.playbackHeartbeatTime))},i.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(a.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){e.viewErrored=!0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=i(1),a=i&&i.__esModule?i:{default:i},i=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};i.prototype._updateWatchTime=function(e,t){t=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=t),(0,a.default)(this.data,"view_watch_time",t-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=t},i.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=i(1),a=i&&i.__esModule?i:{default:i},i=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};i.prototype._updatePlaybackTime=function(){var e,t=this.data.player_playhead_time;0<=this._playbackTimeTrackerLastPlayheadPosition&&t>this._playbackTimeTrackerLastPlayheadPosition&&((e=t-this._playbackTimeTrackerLastPlayheadPosition)<=1e3&&(0,a.default)(this.data,"view_content_playback_time",e)),this._playbackTimeTrackerLastPlayheadPosition=t},i.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})}a.prototype._updatePlayheadTime=function(e,t){t.player_playhead_time?this.data.player_playhead_time=t.player_playhead_time:!this.getPlayheadTime||void 0!==(t=this.getPlayheadTime())&&(this.data.player_playhead_time=t)},t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=i(1),n=i&&i.__esModule?i:{default:i},i=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};i.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else{if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();var i;this._lastPlayheadTime===this.data.player_playhead_time?((i=t.viewer_time-this._lastPlayheadTimeUpdatedTime)>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,n.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(i),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time):this._cleanupRebufferTracker(e,t,!0)}},i.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},i.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},i.prototype._cleanupRebufferTracker=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var a=this.data.player_playhead_time-this._lastPlayheadTime,r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;0<a&&r-a>this.minimumRebufferDuration?((0,n.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(r-a),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+r-a})):this._updateRebufferMetrics()}i?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},i.prototype._updateRebufferMetrics=function(e){0<e&&(0,n.default)(this.data,"view_rebuffer_duration",e),0<=this.data.view_watch_time&&0<this.data.view_rebuffer_count&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(){this.on("viewinit",function(){function e(e,t){t=t.viewer_time,("playing"===e.type&&void 0===this.data.view_time_to_first_frame||"adplaying"===e.type&&(void 0===this.data.view_time_to_first_frame||this.inPrerollPosition()))&&this.calculateTimeToFirstFrame(t||Date.now(),i)}var i=this.data.view_id;this.one("playing",e),this.one("adplaying",e),this.one("viewend",function(){this.off("playing",e),this.off("adplaying",e)})})}a.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(e){t.on(e,function(){if(0<=this._lastPlayheadPosition&&0<=this.data.player_playhead_time&&0<=this._lastPlayerWidth&&0<this._lastSourceWidth&&0<=this._lastPlayerHeight&&0<this._lastSourceHeight){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),i=Math.max(0,t-1),t=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,i),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,t),(0,a.default)(this.data,"view_total_content_playback_time",e),(0,a.default)(this.data,"view_total_upscaling",i*e),(0,a.default)(this.data,"view_total_downscaling",t*e)}this._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(e){t.on(e,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})};var i=i(1),a=i&&i.__esModule?i:{default:i}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,n.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,r.default)(this.data,"view_seek_count",1),(0,r.default)(this.data,"view_seek_duration",t);e=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(e,t)}),this.on("viewend",function(){this.isSeeking=!1})};var r=a(i(1)),n=a(i(0))},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})}var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,a=[],r=!0,n=!1;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=a(i(1)),s=i(9),u=a(i(0)),l=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],i=function(){var t=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),l.forEach(function(e){return t.on(e,t._updateAdData)});function e(){t.isAdBreak=!1}this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",e),this.on("playing",e),this.on("viewend",e),this.on("adrequest",function(e,t){t=(0,u.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),r(this._adRequests,t),(0,o.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,o.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(e,t){t=(0,u.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),r(this._adResponses,t);var i=this.findAdRequest(t.ad_request_id);i&&(0,o.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-i.viewer_time))}),this.on("adplay",function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,o.default)(this.data,"view_ad_played_count"),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,0<this._adRequests.length&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)}),this.on("adplaying",function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};i.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},i.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},i.prototype._updateAdData=function(e,t){var i,a;this.inPrerollPosition()&&(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url&&(a=(0,s.extractHostnameAndDomain)(t.ad_tag_url),a=(i=n(a,2))[0],i=i[1],this.data.view_preroll_ad_tag_domain=i,this.data.view_preroll_ad_tag_hostname=a),!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url&&(a=(0,s.extractHostnameAndDomain)(t.ad_asset_url),a=(t=n(a,2))[0],t=t[1],this.data.view_preroll_ad_asset_domain=t,this.data.view_preroll_ad_asset_hostname=a))},t.default=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){n=!1,r()}var t,i,a=this,r=function(){t&&((0,o.default)(a.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(i))},n=!1;this.on("waiting",function(){n&&((0,o.default)(a.data,"view_waiting_rebuffer_count",1),t=Date.now(),i=window.setInterval(function(){var e;t&&(e=Date.now(),(0,o.default)(a.data,"view_waiting_rebuffer_duration",e-t),t=e)},250))}),this.on("playing",function(){r(),n=!0}),this.on("pause",e),this.on("seeking",e)};var i=i(1),o=i&&i.__esModule?i:{default:i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.one("playbackheartbeat",r),this.on("playbackheartbeatend",function(){e.off("before*",n),e.one("playbackheartbeat",r)})};var i=i(0),a=i&&i.__esModule?i:{default:i},r=function(){this.lastWallClockTime=Date.now(),this.on("before*",n)},n=function(e){var t=Date.now(),i=this.lastWallClockTime;3e4<(this.lastWallClockTime=t)-i&&(this.emit("devicesleep",{viewer_time:i}),(0,a.default)(this.data,{viewer_time:i}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,a.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=i(39),r=a(i(3)),o=a(i(43)),s=a(i(8)),u=a(i(15)),d=a(i(44)),c=a(i(46)),f=a(i(0)),p=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id"],h=["viewstart","error","ended","viewend"],i=function(e,t,i,a){var r=4<arguments.length&&void 0!==arguments[4]&&arguments[4];this.mux=e,this.envKey=t,this.eventQueue=new d.default((0,o.default)(t,i)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=a,this.disableCookies=r,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:c.default.name,viewer_application_version:c.default.version,viewer_application_engine:c.default.layout,viewer_device_name:c.default.product,viewer_device_category:"",viewer_device_manufacturer:c.default.manufacturer,viewer_os_family:c.default.os&&c.default.os.family,viewer_os_architecture:c.default.os&&c.default.os.architecture,viewer_os_version:c.default.os&&c.default.os.version},this.viewerData=this.disableCookies?{}:(0,n.getAndUpdateViewerData)()};i.prototype.send=function(e,t){if(e){if((0,s.default)())return r.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":l(t)))return r.default.error("A data object was expected in send() but was not provided");var i=this.disableCookies?{}:(0,n.getAndUpdateSessionData)(),a={};(0,f.default)(a,this.pageLevelData),(0,f.default)(a,t),(0,f.default)(a,i),(0,f.default)(a,this.viewerData),a.event=e,a.env_key=this.envKey,a.user_id&&(a.viewer_user_id=a.user_id,delete a.user_id);t=a.mux_sample_number>=this.sampleRate,i=this._deduplicateBeaconData(e,a),i=(0,u.default)(i);if(this.lastEventTime=Date.now(),t)return r.default.info("Not sending event due to sample rate restriction",e,a,i);if(!this.envKey)return r.default.info("Not sending event due to missing environment key",e,a,i);if(!this.rateLimited)if(r.default.info("Sending event",e,a,i),this.rateLimited=!this.eventQueue.queueEvent(e,i),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(0<=h.indexOf(e)&&this.eventQueue.flushEvents(),this.rateLimited)return a.event="eventrateexceeded",i=(0,u.default)(a),this.eventQueue.queueEvent(a.event,i),r.default.error("Beaconing disabled due to rate limit.")}},i.prototype.destroy=function(){this.eventQueue.destroy(!1)};i.prototype._deduplicateBeaconData=function(e,n){var o,s=this,u={},t=n.view_id;return!t||"viewstart"===e||"viewend"===e||!this.previousBeaconData||6e5<=Date.now()-this.lastEventTime?(u=(0,f.default)({},n),t&&(this.previousBeaconData=u),t&&"viewend"===e&&(this.previousBeaconData=null)):(o=0===e.indexOf("request"),Object.keys(n).forEach(function(e){var t,i,a,r=n[e];(r!==s.previousBeaconData[e]||-1<p.indexOf(e)||(t=e,i=r,a=s.previousBeaconData[e],o&&0===t.indexOf("request_")&&("request_response_headers"===t||"object"!==(void 0===i?"undefined":l(i))||"object"!==(void 0===a?"undefined":l(a))||Object.keys(i||{}).length!==Object.keys(a||{}).length)))&&(u[e]=r,s.previousBeaconData[e]=r)})),u},t.default=i},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;function r(){var t;try{t=o.default.parse(s.default.get("muxData")||"")}catch(e){t={}}return t}function n(e){s.default.set("muxData",o.default.stringify(e),{expires:7300})}var o=a(i(12)),s=a(i(42)),u=i(5);t.getAndUpdateViewerData=function(){var e=r();return e.mux_viewer_id=e.mux_viewer_id||(0,u.generateUUID)(),e.msn=e.msn||Math.random(),n(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},t.getAndUpdateSessionData=function(){var e=r(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,u.generateUUID)(),e.sst=t),e.sex=t+15e5,n(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}}},function(e,t,i){"use strict";function b(e,t,i,a,r,n,o,s,u,l,d,c){var f=e;if("function"==typeof o)f=o(t,f);else if(f instanceof Date)f=l(f);else if(null===f){if(a)return n&&!c?n(t,S.encoder):t;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||g.isBuffer(f))return n?[d(c?t:n(t,S.encoder))+"="+d(n(f,S.encoder))]:[d(t)+"="+d(f+"")];var p,h=[];if(void 0===f)return h;p=Array.isArray(o)?o:(e=Object.keys(f),s?e.sort(s):e);for(var _,m=0;m<p.length;++m)_=p[m],r&&null===f[_]||(h=Array.isArray(f)?h.concat(b(f[_],i(t,_),i,a,r,n,o,s,u,l,d,c)):h.concat(b(f[_],t+(u?"."+_:"["+_+"]"),i,a,r,n,o,s,u,l,d,c)));return h}var g=i(13),w=i(14),x={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,S={delimiter:"&",encode:!0,encoder:g.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var i=e,a=t?g.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var e=(void 0===a.delimiter?S:a).delimiter,r=("boolean"==typeof a.strictNullHandling?a:S).strictNullHandling,n=("boolean"==typeof a.skipNulls?a:S).skipNulls,o=("boolean"==typeof a.encode?a:S).encode,s=("function"==typeof a.encoder?a:S).encoder,u="function"==typeof a.sort?a.sort:null,l=void 0!==a.allowDots&&a.allowDots,d=("function"==typeof a.serializeDate?a:S).serializeDate,c=("boolean"==typeof a.encodeValuesOnly?a:S).encodeValuesOnly;if(void 0===a.format)a.format=w.default;else if(!Object.prototype.hasOwnProperty.call(w.formatters,a.format))throw new TypeError("Unknown format option provided.");var f,p=w.formatters[a.format];"function"==typeof a.filter?i=(f=a.filter)("",i):Array.isArray(a.filter)&&(m=f=a.filter);var h=[];if("object"!=typeof i||null===i)return"";var t=a.arrayFormat in x?a.arrayFormat:!("indices"in a)||a.indices?"indices":"repeat",_=x[t],m=m||Object.keys(i);u&&m.sort(u);for(var v,y=0;y<m.length;++y)v=m[y],n&&null===i[v]||(h=h.concat(b(i[v],v,_,r,n,o?s:null,f,u,l,d,p,c)));e=h.join(e),a=!0===a.addQueryPrefix?"?":"";return 0<e.length?a+e:""}},function(e,t,i){"use strict";function u(e,t,i){if(e){var a,r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,n=/(\[[^[\]]*])/g,e=(a=/(\[[^[\]]*])/.exec(r))?r.slice(0,a.index):r,o=[];if(e){if(!i.plainObjects&&d.call(Object.prototype,e)&&!i.allowPrototypes)return;o.push(e)}for(var s=0;null!==(a=n.exec(r))&&s<i.depth;){if(s+=1,!i.plainObjects&&d.call(Object.prototype,a[1].slice(1,-1))&&!i.allowPrototypes)return;o.push(a[1])}return a&&o.push("["+r.slice(a.index)+"]"),function(e,t,i){for(var a=t,r=e.length-1;0<=r;--r){var n,o,s,u=e[r];"[]"===u?n=(n=[]).concat(a):(n=i.plainObjects?Object.create(null):{},o="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,s=parseInt(o,10),!isNaN(s)&&u!==o&&s+""===o&&0<=s&&i.parseArrays&&s<=i.arrayLimit?(n=[])[s]=a:n[o]=a),a=n}return a}(o,t,i)}}var l=i(13),d=Object.prototype.hasOwnProperty,c={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:l.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var i=t?l.assign({},t):{};if(null!==i.decoder&&void 0!==i.decoder&&"function"!=typeof i.decoder)throw new TypeError("Decoder has to be a function.");if(i.ignoreQueryPrefix=!0===i.ignoreQueryPrefix,i.delimiter=("string"==typeof i.delimiter||l.isRegExp(i.delimiter)?i:c).delimiter,i.depth=("number"==typeof i.depth?i:c).depth,i.arrayLimit=("number"==typeof i.arrayLimit?i:c).arrayLimit,i.parseArrays=!1!==i.parseArrays,i.decoder=("function"==typeof i.decoder?i:c).decoder,i.allowDots=("boolean"==typeof i.allowDots?i:c).allowDots,i.plainObjects=("boolean"==typeof i.plainObjects?i:c).plainObjects,i.allowPrototypes=("boolean"==typeof i.allowPrototypes?i:c).allowPrototypes,i.parameterLimit=("number"==typeof i.parameterLimit?i:c).parameterLimit,i.strictNullHandling=("boolean"==typeof i.strictNullHandling?i:c).strictNullHandling,""===e||null==e)return i.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var i={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,r=e.split(t.delimiter,a),n=0;n<r.length;++n){var o,s=r[n],u=s.indexOf("]="),u=-1===u?s.indexOf("="):u+1,u=-1===u?(o=t.decoder(s,c.decoder),t.strictNullHandling?null:""):(o=t.decoder(s.slice(0,u),c.decoder),t.decoder(s.slice(u+1),c.decoder));i[o]=d.call(i,o)?[].concat(i[o]).concat(u):u}return i}(e,i):e,r=i.plainObjects?Object.create(null):{},n=Object.keys(a),o=0;o<n.length;++o)var s=n[o],s=u(s,a[s],i),r=l.merge(r,s,i);return l.compact(r)}},function(e,t,i){"use strict";var a,r,n,o,s,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};s=!(r=function(){function p(){for(var e,t=0,i={};t<arguments.length;t++)for(var a in e=arguments[t])i[a]=e[a];return i}return function e(c){function f(e,t,i){var a,r;if("undefined"!=typeof document){if(1<arguments.length){"number"==typeof(i=p({path:"/"},f.defaults,i)).expires&&((r=new Date).setMilliseconds(r.getMilliseconds()+864e5*i.expires),i.expires=r);try{a=JSON.stringify(t),/^[\{\[]/.test(a)&&(t=a)}catch(e){}return t=c.write?c.write(t,e):encodeURIComponent(t+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(e+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",t,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}e||(a={});for(var n=document.cookie?document.cookie.split("; "):[],o=/(%[0-9A-Z]{2})+/g,s=0;s<n.length;s++){var u=n[s].split("=");'"'===(d=u.slice(1).join("=")).charAt(0)&&(d=d.slice(1,-1));try{var l=u[0].replace(o,decodeURIComponent),d=c.read?c.read(d,l):c(d,l)||d.replace(o,decodeURIComponent);if(this.json)try{d=JSON.parse(d)}catch(e){}if(e===l){a=d;break}e||(a[l]=d)}catch(e){}}return a}}return(f.set=f).get=function(e){return f.call(f,e)},f.getJSON=function(){return f.apply({json:!0},[].slice.call(arguments))},f.defaults={},f.remove=function(e,t){f(e,"",p(t,{expires:-1}))},f.withConverter=e,f}(function(){})}),void 0!==(a="function"==typeof(a=r)?a.call(t,i,t,e):a)&&(e.exports=a),s=!0,"object"===u(t)&&(e.exports=r(),s=!0),s||(n=window.Cookies,(o=window.Cookies=r()).noConflict=function(){return window.Cookies=n,o})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||"litix.io",(e=e||"").match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(i(2)),n=a(i(3)),o=a(i(45)),s=a(i(0)),u=a(i(15)),l=!!r.default.XMLHttpRequest&&"withCredentials"in new r.default.XMLHttpRequest,d={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},i=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,s.default)({},d,t)};i.prototype.queueEvent=function(e,t){t=(0,s.default)({},t);return l?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(t),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(o.default.send(this._beaconUrl,t),!0)},i.prototype.flushEvents=function(){l&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},i.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),r.default.clearTimeout(this._sendTimeout)},i.prototype._clearBeaconQueue=function(){var e=r.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,i=this._eventQueue.slice(t);0<t&&(0,s.default)(i[i.length-1],(0,u.default)({mux_view_message:"event queue truncated"})),e.sendBeacon?e.sendBeacon(this._beaconUrl,JSON.stringify({events:i})):r.default.XMLHttpRequest?((e=new r.default.XMLHttpRequest).open("POST",this._beaconUrl),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({events:i}))):o.default.send(this._beaconUrl,i[i.length-1])},i.prototype._sendBeaconQueue=function(){var e,t,i=this;r.default.XMLHttpRequest&&!this._postInFlight&&(e=new r.default.XMLHttpRequest,t=this._eventQueue.slice(0,this._options.maxBeaconSize),this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,e.onreadystatechange=function(){4===e.readyState&&(200===e.status?i._failureCount=0:(i._eventQueue=t.concat(i._eventQueue),i._failureCount+=1,n.default.info("Error sending beacon: "+e.status),n.default.info(e.responseText)),i._postInFlight=!1)},e.open("POST",this._beaconUrl),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify({events:t})))},i.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},i.prototype._startBeaconSending=function(){var e=this;r.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=r.default.setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},t.default=i},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(i(12)),s=a(i(2)),i={send:function(e,t){function i(){a.src=n+(r?"&rc="+r:"")}var a=new Image,r=0,n=e+"?"+o.default.stringify(t);return a.addEventListener("error",function(){3<r||s.default.setTimeout(function(){r++,i()},5e3*r)}),i(),a}};t.default=i},function(e,l,d){!function(o,s){var u;!function(){"use strict";function t(e){return(e+="").charAt(0).toUpperCase()+e.slice(1)}function k(e){return e=j(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function P(e,t){for(var i in e)a.call(e,i)&&t(e[i],i,e)}function D(e){return null==e?t(e):B.call(e).slice(8,-1)}function A(e,t){var i=null==e?"number":typeof e[t];return!/^(?:boolean|number|string|undefined)$/.test(i)&&("object"!=i||e[t])}function M(e){return(e+"").replace(/([ -])(?!$)/g,"$1?")}function R(i,a){var r=null;return function(e,t){var i=-1,a=e?e.length:0;if("number"==typeof a&&-1<a&&a<=n)for(;++i<a;)t(e[i],i,e);else P(e,t)}(i,function(e,t){r=a(r,e,t,i)}),r}function j(e){return(e+"").replace(/^ +| +$/g,"")}function I(n){function e(e){return R(e,function(e,t){var i=t.pattern||M(t);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((e=((t.label&&!RegExp(i,"i").test(t.label)?t.label:e)+"").split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=k(e[0].replace(RegExp(i,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}var t=L,i=n&&"object"==typeof n&&"String"!=D(n);i&&(t=n,n=null);var a=t.navigator||{},r=a.userAgent||"";n=n||r;var o,s=i||N==q,u=i?!!a.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(B.toString()),l=i?"Object":"ScriptBridgingProxyObject",d=i?"Object":"Environment",c=i&&t.java?"JavaPackage":D(t.java),f=i?"Object":"RuntimeObject",p=/\bJava/.test(c)&&t.java,h=p&&D(t.environment)==d,_=p?"a":"α",m=p?"b":"β",v=t.document||{},y=t.operamini||t.opera,b=C.test(b=i&&y?y["[[Class]]"]:D(y))?b:y=null,g=n,w=[],x=null,S=n==r,E=S&&y&&"function"==typeof y.version&&y.version(),T=R([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||M(t))+"\\b","i").exec(n)&&(t.label||t)}),c=R(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||M(t))+"\\b","i").exec(n)&&(t.label||t)}),O=e([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),d=R({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,i){return e||(t[O]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(O)]||RegExp("\\b"+M(i)+"(?:\\b|\\w*\\d)","i").exec(n))&&i}),i=R(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var i,a,r=t.pattern||M(t);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(i=e,a=r,r=t.label||t,t={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},a&&r&&/^Win/i.test(i)&&!/^Windows Phone /i.test(i)&&(t=t[/[\d.]+$/.exec(i)])&&(i="Windows "+t),i+="",e=k((i=a&&r?i.replace(RegExp(a,"i"),r):i).replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e}),T=T&&[T];if(d&&!O&&(O=e([d])),(r=/\bGoogle TV\b/.exec(O))&&(O=r[0]),/\bSimulator\b/i.test(n)&&(O=(O?O+" ":"")+"Simulator"),"Opera Mini"==c&&/\bOPiOS\b/.test(n)&&w.push("running in Turbo/Uncompressed mode"),"IE"==c&&/\blike iPhone OS\b/.test(n)?(d=(r=I(n.replace(/like iPhone OS/,""))).manufacturer,O=r.product):/^iP/.test(O)?(c=c||"Safari",i="iOS"+((r=/ OS ([\d_]+)/i.exec(n))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"!=c||/buntu/i.test(i)?d&&"Google"!=d&&(/Chrome/.test(c)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(O))||/\bAndroid\b/.test(i)&&/^Chrome/.test(c)&&/\bVersion\//i.test(n)?(c="Android Browser",i=/\bAndroid\b/.test(i)?i:"Android"):"Silk"==c?(/\bMobi/i.test(n)||(i="Android",w.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&w.unshift("accelerated")):"PaleMoon"==c&&(r=/\bFirefox\/([\d.]+)\b/.exec(n))?w.push("identifying as Firefox "+r[1]):"Firefox"==c&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(i=i||"Firefox OS",O=O||r[1]):!c||(r=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(c))?(c&&!O&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(r+"/")+8))&&(c=null),(r=O||d||i)&&(O||d||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(i))&&(c=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(i)?i:r)+" Browser")):"Electron"==c&&(r=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&w.push("Chromium "+r):i="Kubuntu",E=E||R(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",M(c),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null}),(r=("iCab"==T&&3<parseFloat(E)?"WebKit":/\bOpera\b/.test(c)&&(/\bOPR\b/.test(n)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(T)&&"WebKit"||!T&&/\bMSIE\b/i.test(n)&&("Mac OS"==i?"Tasman":"Trident")||"WebKit"==T&&/\bPlayStation\b(?! Vita\b)/i.test(c)&&"NetFront")&&(T=[r]),"IE"==c&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(c+=" Mobile",i="Windows Phone "+(/\+$/.test(r)?r:r+".x"),w.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(c="IE Mobile",i="Windows Phone 8.x",w.unshift("desktop mode"),E=E||(/\brv:([\d.]+)/.exec(n)||0)[1]):"IE"!=c&&"Trident"==T&&(r=/\brv:([\d.]+)/.exec(n))&&(c&&w.push("identifying as "+c+(E?" "+E:"")),c="IE",E=r[1]),S){if(A(t,"global"))if(p&&(g=(r=p.lang.System).getProperty("os.arch"),i=i||r.getProperty("os.name")+" "+r.getProperty("os.version")),s&&A(t,"system")&&(r=[t.system])[0]){i=i||(r[0].os||null);try{r[1]=t.require("ringo/engine").version,E=r[1].join("."),c="RingoJS"}catch(n){r[0].global.system==t.system&&(c="Narwhal")}}else"object"==typeof t.process&&!t.process.browser&&(r=t.process)?"object"==typeof r.versions?"string"==typeof r.versions.electron?(w.push("Node "+r.versions.node),c="Electron",E=r.versions.electron):"string"==typeof r.versions.nw&&(w.push("Chromium "+E,"Node "+r.versions.node),c="NW.js",E=r.versions.nw):(c="Node.js",g=r.arch,i=r.platform,E=(E=/[\d.]+/.exec(r.version))?E[0]:"unknown"):h&&(c="Rhino");else D(r=t.runtime)==l?(c="Adobe AIR",i=r.flash.system.Capabilities.os):D(r=t.phantom)==f?(c="PhantomJS",E=(r=r.version||null)&&r.major+"."+r.minor+"."+r.patch):"number"==typeof v.documentMode&&(r=/\bTrident\/(\d+)/i.exec(n))?(E=[E,v.documentMode],(r=+r[1]+4)!=E[1]&&(w.push("IE "+E[1]+" mode"),T&&(T[1]=""),E[1]=r),E="IE"==c?E[1].toFixed(1)+"":E[0]):"number"==typeof v.documentMode&&/^(?:Chrome|Firefox)\b/.test(c)&&(w.push("masking as "+c+" "+E),c="IE",E="11.0",T=["Trident"],i="Windows");i=i&&k(i)}if(E&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(E)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(S&&a.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(x=/b/i.test(r)?"beta":"alpha",E=E.replace(RegExp(r+"\\+?$"),"")+("beta"==x?m:_)+(/\d+\+?/.exec(r)||"")),"Fennec"==c||"Firefox"==c&&/\b(?:Android|Firefox OS)\b/.test(i))c="Firefox Mobile";else if("Maxthon"==c&&E)E=E.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(O))"Xbox 360"==O&&(i=null),"Xbox 360"==O&&/\bIEMobile\b/.test(n)&&w.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(c)&&(!c||O||/Browser|Mobi/.test(c))||"Windows CE"!=i&&!/Mobi/i.test(n))if("IE"==c&&S)try{null===t.external&&w.unshift("platform preview")}catch(n){w.unshift("embedded")}else(/\bBlackBerry\b/.test(O)||/\bBB10\b/.test(n))&&(r=(RegExp(O.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||E)?(i=((r=[r,/BB10/.test(n)])[1]?(O=null,d="BlackBerry"):"Device Software")+" "+r[0],E=null):this!=P&&"Wii"!=O&&(S&&y||/Opera/.test(c)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==c&&/\bOS X (?:\d+\.){2,}/.test(i)||"IE"==c&&(i&&!/^Win/.test(i)&&5.5<E||/\bWindows XP\b/.test(i)&&8<E||8==E&&!/\bTrident\b/.test(n)))&&!C.test(r=I.call(P,n.replace(C,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),C.test(c)?(/\bIE\b/.test(r)&&"Mac OS"==i&&(i=null),r="identify"+r):(r="mask"+r,c=b?k(b.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(i=null),S||(E=null)),T=["Presto"],w.push(r));else c+=" Mobile";(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r],"Safari"==c&&"+"==r[1].slice(-1)?(c="WebKit Nightly",x="alpha",E=r[1].slice(0,-1)):E!=r[1]&&E!=(r[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||(E=null),r[1]=(/\bChrome\/([\d.]+)/i.exec(n)||0)[1],537.36==r[0]&&537.36==r[2]&&28<=parseFloat(r[1])&&"WebKit"==T&&(T=["Blink"]),r=S&&(u||r[1])?(T&&(T[1]="like Chrome"),r[1]||((r=r[0])<530?1:r<532?2:r<532.05?3:r<533?4:r<534.03?5:r<534.07?6:r<534.1?7:r<534.13?8:r<534.16?9:r<534.24?10:r<534.3?11:r<535.01?12:r<535.02?"13+":r<535.07?15:r<535.11?16:r<535.19?17:r<536.05?18:r<536.1?19:r<537.01?20:r<537.11?"21+":r<537.13?23:r<537.18?24:r<537.24?25:r<537.36?26:"Blink"==T?"28":"27")):(T&&(T[1]="like Safari"),(r=r[0])<400?1:r<500?2:r<526?3:r<533?4:r<534?"4+":r<535?5:r<537?6:r<538?7:r<601?8:"8"),T&&(T[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+")),"Safari"==c&&(!E||45<parseInt(E))&&(E=r)),"Opera"==c&&(r=/\bzbov|zvav$/.exec(i))?(c+=" ",w.unshift("desktop mode"),"zvav"==r?(c+="Mini",E=null):c+="Mobile",i=i.replace(RegExp(" *"+r+"$"),"")):"Safari"==c&&/\bChrome\b/.exec(T&&T[1])&&(w.unshift("desktop mode"),c="Chrome Mobile",E=null,i=/\bOS X\b/.test(i)?(d="Apple","iOS 4.3+"):null),E&&0==E.indexOf(r=/[\d.]+$/.exec(i))&&-1<n.indexOf("/"+r+"-")&&(i=j(i.replace(r,""))),T&&!/\b(?:Avant|Nook)\b/.test(c)&&(/Browser|Lunascape|Maxthon/.test(c)||"Safari"!=c&&/^iOS/.test(i)&&/\bSafari\b/.test(T[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(c)&&T[1])&&(r=T[T.length-1])&&w.push(r),w.length&&(w=["("+w.join("; ")+")"]),d&&O&&O.indexOf(d)<0&&w.push("on "+d),O&&w.push((/^on /.test(w[w.length-1])?"":"on ")+O),i&&(r=/ ([\d.+]+)$/.exec(i),o=r&&"/"==i.charAt(i.length-r[0].length-1),i={architecture:32,family:r&&!o?i.replace(r[0],""):i,version:r?r[1]:null,toString:function(){var e=this.version;return this.family+(e&&!o?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(g))&&!/\bi686\b/i.test(g)?(i&&(i.architecture=64,i.family=i.family.replace(RegExp(" *"+r),"")),c&&(/\bWOW64\b/i.test(n)||S&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(n))&&w.unshift("32-bit")):i&&/^OS X/.test(i.family)&&"Chrome"==c&&39<=parseFloat(E)&&(i.architecture=64),n=n||null;a={};return a.description=n,a.layout=T&&T[0],a.manufacturer=d,a.name=c,a.prerelease=x,a.product=O,a.ua=n,a.version=c&&E,a.os=i||{architecture:null,family:null,version:null,toString:function(){return"null"}},a.parse=I,a.toString=function(){return this.description||""},a.version&&w.unshift(E),a.name&&w.unshift(c),i&&c&&(i!=(i+"").split(" ")[0]||i!=c.split(" ")[0]&&!O)&&w.push(O?"("+i+")":"on "+i),w.length&&(a.description=w.join(" ")),a}var e={function:!0,object:!0},L=e[typeof window]&&window||this,q=L,i=e[typeof o]&&o&&!o.nodeType&&o,i=e[typeof l]&&l&&i&&"object"==typeof s&&s;!i||i.global!==i&&i.window!==i&&i.self!==i||(L=i);var n=Math.pow(2,53)-1,C=/\bOpera/,N=this,i=Object.prototype,a=i.hasOwnProperty,B=i.toString,r=I();L.platform=r,void 0!==(u=function(){return r}.call(l,d,l,o))&&(o.exports=u)}.call(this)}.call(l,d(10)(e),d(4))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var n=0,o=0,s=0,u=0;this.on("requestcompleted",function(e,t){0;var i=t.request_start,a=t.request_response_start,r=t.request_response_end,t=t.request_bytes_loaded,i=a-i,a=r-a;0<i&&0<a&&0<t&&(u++,n+=i,o+=t,s+=a,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,t/a*8e3),this.data.view_average_request_throughput=o/s*8e3,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,i),this.data.view_average_request_latency=n/u)}),this.on("requestfailed",function(e,t){0}),this.on("requestcanceled",function(e,t){0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,a=[],r=!0,n=!1;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(a,e,t){var i=(0,d.findMediaElement)(e),r=(e=u(i,3))[0],n=e[1],i=e[2],e=a.log,o=a.utils.getComputedStyle,s=a.utils.secondsToMs;return r?"video"!==i&&"audio"!==i?e.error("The element of `"+n+"` was not a media element."):((t=t||{}).data=(0,l.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.4.5"},t.data),t.getPlayheadTime=function(){return s(r.currentTime)},t.getStateData=function(){return{player_is_paused:r.paused,player_playhead_time:s(r.currentTime),player_width:parseInt(o(r,"width")),player_height:parseInt(o(r,"height")),player_autoplay_on:r.autoplay,player_preload_on:r.preload,video_poster_url:r.poster,video_source_url:r.currentSrc,video_source_duration:s(r.duration),video_source_height:r.videoHeight,video_source_width:r.videoWidth}},r.mux=r.mux||{},r.mux.destroy=function(){Object.keys(r.mux.listeners).forEach(function(e){r.removeEventListener(e,r.mux.listeners[e],!1)}),delete r.mux.listeners,a.emit(n,"destroy")},r.mux.swapElement=function(e){var t=(0,d.findMediaElement)(e),e=u(t,3),i=e[0],t=e[1],e=e[2];return i?"video"!==e&&"audio"!==e?a.log.error("The element of `"+t+"` was not a media element."):(i.muxId=r.muxId,delete r.muxId,i.mux=i.mux||{},i.mux.listeners=(0,l.default)({},r.mux.listeners),delete r.mux.listeners,Object.keys(i.mux.listeners).forEach(function(e){r.removeEventListener(e,i.mux.listeners[e],!1),i.addEventListener(e,i.mux.listeners[e],!1)}),i.mux.swapElement=r.mux.swapElement,i.mux.destroy=r.mux.destroy,delete r.mux,void(r=i)):a.log.error("No element was found with the `"+t+"` query selector.")},r.mux.addHLSJS=function(e){a.addHLSJS(n,e)},r.mux.addDashJS=function(e){a.addDashJS(n,e)},r.mux.removeHLSJS=function(){a.removeHLSJS(n)},r.mux.removeDashJS=function(){a.removeDashJS(n)},a.init(n,t),a.emit(n,"playerready"),r.paused||(a.emit(n,"play"),2<r.readyState&&a.emit(n,"playing")),r.mux.listeners={},void c.forEach(function(t){r.mux.listeners[t]=function(){var e={};"error"===t&&(e.player_error_code=r.error&&r.error.code,e.player_error_message=r.error&&f[r.error.code]),a.emit(n,t,e)},r.addEventListener(t,r.mux.listeners[t],!1)})):e.error("No element was found with the `"+n+"` query selector.")};var t=i(0),l=t&&t.__esModule?t:{default:t},d=i(7),c=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],f={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(i(50)),n=a(i(1)),o=a(i(51)),s=a(i(52)),u=a(i(0)),i={};i.safeCall=r.default,i.safeIncrement=n.default,i.getComputedStyle=o.default,i.secondsToMs=s.default,i.assign=u.default,t.default=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,a){if(e&&"function"==typeof e[t])try{a=e[t].apply(e,i)}catch(e){r.default.info("safeCall error",e)}return a};var i=i(3),r=i&&i.__esModule?i:{default:i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(a.default.defaultView&&a.default.defaultView.getComputedStyle)return a.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)};var i=i(6),a=i&&i.__esModule?i:{default:i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.floor(1e3*e)}}])}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;t=a[e]={exports:{}};return i[e](t,t.exports,r),t.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{default:()=>i});var e=r(1),t=r(635),d=r.n(t),c=d().utils.secondsToMs,f=e.default.lib("utilities/obj").assign,t=e.default.lib("player/lib/elem"),p=t.elemBind,h=(t.elemUnbind,e.default.lib("player/lib/assets")),_=e.default.lib("utilities/url").Url,m=e.default.lib("player/lib/judy"),v={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},t=function(i){function t(){i.mux.unbinds&&(i.mux.unbinds.map(function(e){return e()}),i.mux.unbinds=[])}var a,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=i.uuid;i.mux={unbinds:[]},i.mux.emit=function(e,t){d().emit(n,e,t)},i.mux.destroy=function(){i.mux._destroyed=!0,t(),i.mux.emit("destroy")};var e=i.playerType;i.popover&&(e="popover_".concat(e)),/vulcan/.test(i.playerType)&&("engines/hls_video.js"===(s=m.bestUsableEngine(i.judyCtx(),i._mediaData,i._opts))&&(e="".concat(e,"_hlsjs")),"engines/native_hls_video.js"===s&&(e="".concat(e,"_nativehls")),"engines/simple_audio.js"===s&&(e="".concat(e,"_simple_audio"))),"html5"===i.playerType&&i._impl._currentAsset&&"m3u8"==i._impl._currentAsset.ext&&(e="".concat(e,"_nativehls"));var o=h.one(i._mediaData.assets,{type:/video/i,status:h.READY}),s=new _(o?o.url:"/no-ready-assets"),o="";i._impl._currentAsset&&("mp4"===i._impl._currentAsset.ext?o="video/mp4":"m3u8"===i._impl._currentAsset.ext&&(o="application/x-mpegURL")),r.minimumRebufferDuration=250,r.disableCookies=!0,r.data=f({player_software_name:i.playerType,player_software_version:"0.0.1",player_mux_plugin_name:"wistia-mux",player_mux_plugin_version:"0.0.1",property_key:"fg8vvsvnieiv3ej16jby",page_type:i._opts._inIframe?"iframe":"",viewer_user_id:i.visitorKey(),player_name:e,player_version:"",player_init_time:i._initTime,video_id:i.hashedId(),video_title:"".concat(i.hashedId()," - ").concat(i.name()),video_producer:"",video_content_type:o,video_language_code:"",video_variant_name:"",video_variant_id:"",video_duration:c(i.duration()),video_is_live:!1,video_encoding_variant:"",video_cdn:s.host,video_series:i._opts.channel,sub_property_id:i._mediaData.accountKey.match(/\d+/)[0]},r.data),r.getPlayheadTime=function(){return c(i.time())},r.getStateData=function(){return{player_is_paused:!a||a.paused,player_width:i.videoWidth(),player_height:i.videoHeight(),video_source_height:a?a.videoHeight:i.videoHeight(),video_source_width:a?a.videoWidth:i.videoWidth(),player_is_fullscreen:i.inFullscreen(),player_autoplay_on:!!i._opts.autoPlay,player_preload_on:a?"none"!==a.getAttribute("preload"):void 0,video_source_url:a&&a.src,video_source_mime_type:a&&a.getAttribute("type"),video_source_duration:c(i.duration()),video_poster_url:i.stillUrl(),player_language_code:i.playerLanguage()}};function u(e){"pause"===e?i.mux.emit("pause"):"playcalled"===e?i.mux.emit("play"):"playrejected"===e?i.mux.emit("pause"):"play"===e?i.mux.emit("playing"):"el-seeking"===e?i.mux.emit("seeking"):"el-seeked"===e?i.mux.emit("seeked"):"el-timeupdate"===e?i.mux.emit("timeupdate"):"el-error"===e?l(arguments.length<=1?void 0:arguments[1]):"end"===e?i.mux.emit("ended"):"beforeremove"!==e&&"beforereplace"!==e||(i.mux.emit("destroy"),t())}function l(e){var t=e;e.path&&e.path[0]&&(t=e.path[0].error),e.originalTarget&&(t=t.originalTarget.error),i.mux.emit("error",{player_error_code:t&&t.code,player_error_message:t&&v[t.code]})}i.whenVideoElementInDom().then(function(e){a=e,d().init(n,r),i.mux.unbinds.push(i.on("all",u)),i.mux.unbinds=i.mux.unbinds.concat(["timeupdate","seeking","seeked","error"].map(function(t){return p(a,t,function(e){u("el-"+t,e)})})),i.embedded(function(){setTimeout(function(){var e;!i.mux._destroyed&&(i.mux.emit("playerready",{viewer_time:i._embeddedTime}),i.ready()&&a&&!a.paused)&&(e=i.lastPlayInfo()||{},i.mux.emit("play",{viewer_time:e.issuedAt||i._readyTime}),e.resolvedAt&&i.mux.emit("playing",{viewer_time:e.resolvedAt}))},1)})})};e.default.define("wistia-mux.js",t);const i=t})()})();

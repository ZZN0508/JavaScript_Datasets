!function(){"use strict";!function(){function a(t){return"function"==typeof t}var e,n,s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,u=function(t,e){_[r]=t,_[r+1]=e,2===(r+=2)&&(n?n(v):d())},t="undefined"!=typeof window?window:void 0,o=t||{},i=o.MutationObserver||o.WebKitMutationObserver,c="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),o="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){return function(){setTimeout(v,1)}}var l,h,p,_=new Array(1e3);function v(){for(var t=0;t<r;t+=2)(0,_[t])(_[t+1]),_[t]=void 0,_[t+1]=void 0;r=0}var d=c?function(){process.nextTick(v)}:i?(h=0,i=new i(v),p=document.createTextNode(""),i.observe(p,{characterData:!0}),function(){p.data=h=++h%2}):o?((l=new MessageChannel).port1.onmessage=v,function(){l.port2.postMessage(0)}):(void 0===t&&"function"==typeof require?function(){try{var t=require("vertx");return e=t.runOnLoop||t.runOnContext,function(){e(v)}}catch(t){return f()}}:f)(),y=function(t,e){var n=this._state;if(n===b&&!t||n===g&&!e)return this;var r,o=new this.constructor(w),i=this._result;return n?(r=arguments[n-1],u(function(){k(n,o,r,i)})):C(this,o,t,e),o},m=function(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return S(e,t),e};function w(){}var b=1,g=2,A=new O;function E(t){try{return t.then}catch(t){return A.error=t,A}}function j(t,e,n){var o,i,r,s;e.constructor===t.constructor&&n===y&&constructor.resolve===m?(r=t,(s=e)._state===b?P(r,s._result):s._state===g?x(r,s._result):C(s,void 0,function(t){S(r,t)},function(t){x(r,t)})):n===A?x(t,A.error):void 0!==n&&a(n)?(o=e,i=n,u(function(n){var r=!1,t=function(t,e){try{t.call(e,function(t){r||(r=!0,o!==t?S(n,t):P(n,t))},function(t){r||(r=!0,x(n,t))})}catch(t){return t}}(i,o,n._label);!r&&t&&(r=!0,x(n,t))},t)):P(t,e)}function S(t,e){t===e?x(t,new TypeError("You cannot resolve a promise with itself")):"function"==typeof e||"object"==typeof e&&null!==e?j(t,e,E(e)):P(t,e)}function T(t){t._onerror&&t._onerror(t._result),M(t)}function P(t,e){void 0===t._state&&(t._result=e,t._state=b,0!==t._subscribers.length&&u(M,t))}function x(t,e){void 0===t._state&&(t._state=g,t._result=e,u(T,t))}function C(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+b]=n,o[i+g]=r,0===i&&t._state&&u(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?k(n,r,o,i):o(i);t._subscribers.length=0}}function O(){this.error=null}var Y=new O;function k(t,e,n,r){var o,i,s,u,c=a(n);if(c){if((o=function(t,e){try{return t(e)}catch(t){return Y.error=t,Y}}(n,r))===Y?(u=!0,i=o.error,o=null):s=!0,e===o)return x(e,new TypeError("A promises callback cannot return that same promise.")),0}else o=r,s=!0;void 0!==e._state||(c&&s?S(e,o):u?x(e,i):t===b?P(e,o):t===g&&x(e,o))}var q=0,F=D;function D(t){this._id=q++,this._state=void 0,this._result=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof D?function(e,t){try{t(function(t){S(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}D.all=function(t){return new K(this,t).promise},D.race=function(t){var e=new this(w);if(!s(t))return x(e,new TypeError("You must pass an array to race.")),e;var n=t.length;function r(t){S(e,t)}function o(t){x(e,t)}for(var i=0;void 0===e._state&&i<n;i++)C(this.resolve(t[i]),void 0,r,o);return e},D.resolve=m,D.reject=function(t){var e=new this(w);return x(e,t),e},D._setScheduler=function(t){n=t},D._setAsap=function(t){u=t},D._asap=u,D.prototype={constructor:D,then:y,catch:function(t){return this.then(null,t)}};var K=L;function L(t,e){this._instanceConstructor=t,this.promise=new t(w),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):x(this.promise,this._validationError())}L.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},L.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;void 0===this._state&&n<t;n++)this._eachEntry(e[n],n)},L.prototype._eachEntry=function(e,t){var n,r,o=this._instanceConstructor,i=o.resolve;i===m?(n=E(e))===y&&void 0!==e._state?this._settledAt(e._state,t,e._result):"function"!=typeof n?(this._remaining--,this._result[t]=e):o===F?(j(r=new o(w),e,n),this._willSettleAt(r,t)):this._willSettleAt(new o(function(t){t(e)}),t):this._willSettleAt(i(e),t)},L.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,t===g?x(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},L.prototype._willSettleAt=function(t,e){var n=this;C(t,void 0,function(t){n._settledAt(b,e,t)},function(t){n._settledAt(g,e,t)})};var t=function(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=F)},N={Promise:F,polyfill:t};"function"==typeof define&&define.amd?define(function(){return N}):"undefined"!=typeof module&&module.exports?module.exports=N:void 0!==this&&(this.ES6Promise=N),t()}.call(window)}();

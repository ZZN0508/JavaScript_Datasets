define("pkg/@alife/vbar-atmo-dacu-handle/1.2.11/index",["preact-compat","jquery"],function(a,n){return r=[function(e,t,a){"use strict";var n,o=a(1),r=(n=o)&&n.__esModule?n:{default:n},s=a(2),l=(a(7),a(24));a(25),e.exports={height:172,minHeight:70,panel:{name:"dacubar",title:"会场导航",showHeader:!1,render:function(){return s.createElement("div",{id:"vbar-dacubar-hallpanel","data-spm":"tools-page-list",style:{paddingBottom:30,backgroundColor:"#343434"}})}},resource:{css:"//astyle.alicdn.com/pkg/"+l.name+"/"+l.version+"/index.css"},aop:{"before:bindEvent":function(){},"after:bindEvent":function(){},"before:render":function(){},"after:render":function(){}},bindEvent:function(e){},render:function(e,t){return s.createElement("div",{className:"vbar-atom-dacu-handle","data-spm":"panel-tools",style:{height:"100%"}},s.createElement(r.default,{state:e,vbar:this}))}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;function h(e,t){t&&(this.element.state.panel||window.goldlog&&window.goldlog.record&&goldlog.record("/1688market.tool-panel.list-show","CLK","","H1507354101"),this.showPanel(),setTimeout(function(){document.getElementById("vbar-dacubar-hallpanel")&&(document.getElementById("vbar-dacubar-hallpanel").innerHTML=e,document.getElementById("vbar-dacubar-hallpanel").style.height="100%")}))}var o,r=a(2),g=n(r),s=n(a(3)),b=n(a(8)),a=(n(a(9)),a(23)),v=n(a),r=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o=r.Component),l.prototype.componentWillMount=function(){var t=this;(0,s.default)(function(e){t.setState({isRun:e.isRun,hasPreference:e.hasPreference,hasHall:e.hasHall,hasMsg:e.hasMsg,hasGold:e.hasGold,hall:e.hall,bubble:e.bubble,mainHall:e.mainHall,topBanner:e.topBanner,background:e.background,selfLink:e.selfLink})})},l.prototype.render=function(){var e=this.props,t=e.state,a=e.vbar,n=this.state,o=n.isRun,r=n.hasHall,s=n.hasMsg,l=(n.hasGold,n.hasAction,n.hall),i=n.mainHall,c=n.selfLink,u=n.topBanner,d=n.bubble,p=n.background,f=t.panel,e=f?36:103,n="mini"==t.size?"none":"block",t={backgroundImage:"url("+p+")",backgroundPosition:t.panel?"bottom right":"bottom left"},m=(0,v.default)(l,i,u);return g.default.createElement("div",{style:{height:"100%"}},g.default.createElement("div",{className:"atom-dacu-bubble"},g.default.createElement(b.default,{show:s,data:d})),g.default.createElement("div",{className:"atom-dacu-panel",style:{width:e,display:n}},o?g.default.createElement("div",{className:"panel-show",style:t,onClick:function(){return h.call(a,m,r)}}):null,r||"true"===r?g.default.createElement("div",{className:"panel-item "+(f?"fold":""),style:{bottom:"40px",backgroundPosition:"0 0"},onClick:function(){return h.call(a,m,r)}},"会场导航"):null,c.text&&c.url?g.default.createElement("div",{className:"panel-item "+(f?"fold":""),style:{bottom:0,backgroundPosition:"-1px -69px"}},g.default.createElement("a",{href:c.url,target:"_blank","data-spm":"tutorial"},c.text)):null))},l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this));return e.state={isRun:!1,hasHall:!1,hasMsg:!1,hasGold:!1,hasAction:!1,selfLink:{},hall:[],bubble:[],mainHall:{},topBanner:{}},e}t.default=r},function(e,t){e.exports=a},function(e,t,a){"use strict";t.__esModule=!0;var n=a(4),s=a(7),r={mockDate:""};try{r=n(window.location.href,!0).query}catch(e){}var l=function(e){var e=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(e=document.cookie.match(e))?unescape(e[2]):null},i=function(e,t){var a,n=void 0;return"nofav"===t?(a=[],e.forEach(function(e){a.push(e)}),n=a[a.length-1]):e.forEach(function(e){!function(e,t){if(e.func.preference){for(var a=!1,n=e.preference.split(","),o=0,r=n.length;o<r;o++)if(+s.trim(n[o])==+t){a=!0;break}return a}return!0}(e,t)||(n=e)}),n};t.default=function(t){var a,e,n,o;a=function(e){var a,n;a=e,n=t,s.ajax({url:"//widget.1688.com/front/getJsonComponent.json",data:{namespace:"dacuToolbar",widgetId:"dacuToolbar",methodName:"execute",key:"pcToolBar",mockDate:r.mockDate||""},dataType:"jsonp"}).done(function(e){var t=e.content.config;Array.isArray(t)&&(e={},e=(t=i(t,a))?{isRun:!0,hasHall:t.func.map,hasMsg:t.func.pop,hasPreference:t.func.preference||!1,hasGold:t.func.goldbox,hall:t.mapping||[],bubble:t.bubble||[],mainHall:t.mainPage||{},topBanner:t.topBanner||{},background:t.background||"",selfLink:t.selfLink||{}}:{isRun:!1,hasHall:!1,hasMsg:!1,hasGold:!1,hasPreference:!1,hall:[],bubble:[],mainHall:{},topBanner:{},selfLink:{},background:""},n&&n(e))}).fail(function(){n&&n({isRun:!1,hasHall:!1,hasMsg:!1,hasGold:!1,hasPreference:!1,hall:[],bubble:[],mainHall:{},topBanner:{},selfLink:{},background:""})})},(n=window.localStorage)[o="_vbar_dacu_irecom_"]?a&&a(n.getItem(o)):(e=l("last_mid")||"",s.ajax({url:"https://tui.taobao.com/recommend?appid=9026&member_id="+e+"&cnt=1",dataType:"jsonp"}).done(function(e){if(e.error)return a&&a("nofav"),!1;e=e.result;e&&e instanceof Array&&0<e.length&&e[0].hasOwnProperty("cateId1")?(e=e[0].cateId1,n.setItem(o,e),a&&a(e)):a&&a("nofav")}))}},function(e,t,n){!function(o){"use strict";function p(e){return(e||"").toString().replace(a,"")}function f(e){var t,a=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},n={},a=typeof(e=e||a);if("blob:"===e.protocol)n=new h(unescape(e.pathname),{});else if("string"==a)for(t in n=new h(e,{}),s)delete n[t];else if("object"==a){for(t in e)t in s||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=r.test(e.href))}return n}function m(e){e=p(e);e=t.exec(e);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function h(e,t,a){if(e=p(e),!(this instanceof h))return new h(e,t,a);var n,o,r,s,l,i=v.slice(),c=typeof t,u=this,d=0;for("object"!=c&&"string"!=c&&(a=t,t=null),a&&"function"!=typeof a&&(a=b.parse),t=f(t),n=!(c=m(e||"")).protocol&&!c.slashes,u.slashes=c.slashes||n&&t.slashes,u.protocol=c.protocol||t.protocol||"",e=c.rest,c.slashes||(i[3]=[/(.*)/,"pathname"]);d<i.length;d++)"function"!=typeof(r=i[d])?(o=r[0],l=r[1],o!=o?u[l]=e:"string"==typeof o?~(s=e.indexOf(o))&&(e="number"==typeof r[2]?(u[l]=e.slice(0,s),e.slice(s+r[2])):(u[l]=e.slice(s),e.slice(0,s))):(s=o.exec(e))&&(u[l]=s[1],e=e.slice(0,s.index)),u[l]=u[l]||n&&r[3]&&t[l]||"",r[4]&&(u[l]=u[l].toLowerCase())):e=r(e);a&&(u.query=a(u.query)),n&&t.slashes&&"/"!==u.pathname.charAt(0)&&(""!==u.pathname||""!==t.pathname)&&(u.pathname=function(e,t){if(""===e)return t;for(var a=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=a.length,e=a[n-1],o=!1,r=0;n--;)"."===a[n]?a.splice(n,1):".."===a[n]?(a.splice(n,1),r++):r&&(0===n&&(o=!0),a.splice(n,1),r--);return o&&a.unshift(""),"."!==e&&".."!==e||a.push(""),a.join("/")}(u.pathname,t.pathname)),g(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(r=u.auth.split(":"),u.username=r[0]||"",u.password=r[1]||""),u.origin=u.protocol&&u.host&&"file:"!==u.protocol?u.protocol+"//"+u.host:"null",u.href=u.toString()}var g=n(5),b=n(6),r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,t=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+"),v=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],s={hash:1,query:1};h.prototype={set:function(e,t,a){var n,o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(a||b.parse)(t)),o[e]=t;break;case"port":o[e]=t,g(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!a;break;case"pathname":case"hash":t?(n="pathname"===e?"/":"#",o[e]=t.charAt(0)!==n?n+t:t):o[e]=t;break;default:o[e]=t}for(var r=0;r<v.length;r++){var s=v[r];s[4]&&(o[s[1]]=o[s[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=b.stringify);var t=this,a=t.protocol;return a&&":"!==a.charAt(a.length-1)&&(a+=":"),a+=t.slashes?"//":"",t.username&&(a+=t.username,t.password&&(a+=":"+t.password),a+="@"),a+=t.host+t.pathname,(e="object"==typeof t.query?e(t.query):t.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(a+=t.hash),a}},h.extractProtocol=m,h.location=f,h.trimLeft=p,h.qs=b,e.exports=h}.call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t){"use strict";function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}var l=Object.prototype.hasOwnProperty;t.stringify=function(e,t){var a,n,o=[];for(n in"string"!=typeof(t=t||"")&&(t="?"),e)if(l.call(e,n)){if((a=e[n])||null!=a&&!isNaN(a)||(a=""),n=s(n),a=s(a),null===n||null===a)continue;o.push(n+"="+a)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t=/([^=?#&]+)=?([^&]*)/g,a={};o=t.exec(e);){var n=r(o[1]),o=r(o[2]);null===n||null===o||n in a||(a[n]=o)}return a}},function(e,t){e.exports=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o,s=n(a(2)),r=(n(a(7)),window.location.href.indexOf("_vbarDebuger_=1"),"s.1688.com"===window.location.host),a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o=s.default.Component),l.prototype.componentWillReceiveProps=function(e){var t=!r&&e.show,a=this.getCurrentBubble(e.data);e.show&&a.st&&(this.state={show:t,bubbleText:a.res.bubbleText,bubbleTitle:a.res.bubbleTitle,bubbleUrl:a.res.bubbleUrl})},l.prototype.componentWillMount=function(){this.autoClose()},l.prototype.getCurrentBubble=function(e){var a={},n=!1,t=window.localStorage,o=(new Date).getTime(),r="irecmstime";return e.forEach(function(e){var t=new Date(e.bubbleEndtime).getTime();t<=o&&o-t<=9e5&&(a=e,n=!0)}),t&&t.getItem(r)?(n=!1,9e5<o-t.getItem(r)&&t.removeItem(r),o<t.getItem(r)&&t.removeItem(r)):n&&t.setItem(r,o),{st:n,res:a}},l.prototype.autoClose=function(e){var t=this;setTimeout(function(){t.setState({show:!1})},5e3)},l.prototype.popClose=function(){this.setState({show:!1})},l.prototype.render=function(){var e=this,t=this.state,a=t.show,n=t.bubbleTitle,o=t.bubbleText,r=t.bubbleUrl,t=t.bubbleButton;return s.default.createElement("div",null,a?s.default.createElement("div",{className:"app-bar-meet-message"},s.default.createElement("span",{className:"close",onClick:function(){return e.popClose()}}),s.default.createElement("div",{className:"title"},n),s.default.createElement("div",{className:"text"},o),s.default.createElement("div",{className:"link"},s.default.createElement("a",{href:r},t||"立即领取"))):"")},l);function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this,e)),e=!r&&e.show;return t.state={show:e},t}t.default=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(a(2)),r=n(a(10)),s=n(a(7)),l=n(a(11));a(18);var i,c=n(a(22)),u=-1!==window.location.href.indexOf("mockDate="),d=document.all?"goldbox-fall-ie":"goldbox-fall",p=window.localStorage,f=(new Date).getTime(),a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(m,i=o.default.Component),m.prototype.componentWillMount=function(){r.default.init()},m.prototype.componentDidMount=function(){var t;"false"!==this.props.run&&(t=this).getGoldCondition(function(e){t.setState({boxShow:!0,activityId:e})})},m.prototype.queryCondition=function(t){l.default.getData("getPersonalRedPacket",{isOpenPush:!0},{type:"get",csrfToken:!0}).then(function(e){e.content.canlottery&&(window.goldlog&&goldlog.record("/1688opmarket.op.920goldbox","EXP","","GET"),e.content.data&&t&&t(u?e.content.data.activityId:8769))})},m.prototype.getGoldCondition=function(e){var t=p.getItem("toolbarboxcachetime");t?(f-t<1e4&&this.queryCondition(e),18e5<f-t&&(this.queryCondition(e),p.setItem("toolbarboxcachetime",f))):(p.setItem("toolbarboxcachetime",f),this.queryCondition(e))},m.prototype.getActivity=function(a){var n=this,e=r.default.getUA(),t=r.default.getUmidToken();window.localStorage,window.goldlog&&goldlog.record("/1688opmarket.op.920goldboxaction","CLK","","GET"),s.default.ajax({url:"//huopin.1688.com/lottery/lot/draw.jsonp",dataType:"jsonp",data:{activityId:n.state.activityId,ua:e,umidtoken:t}}).done(function(e){var t;e.content.success?("again"!==a&&(t=n.state.chances,n.setState({chances:t-1})),(t=e.content.data).isLucky?t.prizemodel&&t.prizemodel.money?n.result("zfb",t):t.prizemodel&&t.prizemodel.count&&n.result("jhq",t):"noluck"===t.reason?n.result("over"):n.result("fail")):"notLogin"===e.content.data.reason?window.lofty.define(["sys/logist/1.0","https://astyle.alicdn.com/sys/css/logist/logist.css"],function(e){e.init({source:"bar",tab:"login",onLoginSuccess:function(){window.location.reload()}})}):n.result("fail")})},m.prototype.boxClose=function(){this.setState({boxShow:!1})},m.prototype.lotteryAction=function(){return this.state.chances<=0?(this.result("over"),!1):(this.boxClose(),void this.getTips())},m.prototype.getTips=function(){this.getActivity()},m.prototype.setContentClass=function(e){this.setState({contentCls:e})},m.prototype.result=function(e,t){var a=this,n=void 0;switch(a.setState({contentCls:""}),e){case"zfb":n=a.zfbSuccessResultMsg("box-type-jhq",t);break;case"jhq":n=a.jhqSuccessResultMsg("box-type-jhq",t);break;case"fail":n=a.failResultMsg("box-type-fail",t);break;case"over":case"nochance":n=a.nochanceResultMsg("box-type-nochance",t);break;default:n=a.failResultMsg("box-type-fail",t)}a.setState({fallClassName:"",tipElement:n}),setTimeout(function(){a.setState({fallClassName:d})},100)},m.prototype.zfbSuccessResultMsg=function(e,t){return this.setContentClass(e),o.default.createElement("div",{className:"prize-info"},o.default.createElement("div",{className:"info-pane"},o.default.createElement("div",{className:"success"},o.default.createElement("div",{className:"msg"},o.default.createElement("span",{className:"prizes"},t.prizemodel.money/100),o.default.createElement("span",{className:"unit"},"元")),o.default.createElement("div",{className:"des"},o.default.createElement("p",{className:"p1"},"恭喜你获得",o.default.createElement("span",{className:"col"},t.prizemodel.money/100,"元"),"红包"),o.default.createElement("p",{className:"p2"},"仅限2018年9月20日当天使用")))))},m.prototype.nochanceResultMsg=function(e){return this.setContentClass(e),o.default.createElement("div",{className:"prize-info"},o.default.createElement("div",{className:"info-pane"},o.default.createElement("div",{className:"nochance"},o.default.createElement("div",{className:"des"},o.default.createElement("p",{className:"p1"},"您的领奖次数已达上限!")),o.default.createElement("div",{className:"action"},"去会场逛逛"))))},m.prototype.failResultMsg=function(e){return this.setContentClass(e),o.default.createElement("div",{className:"prize-info"},o.default.createElement("div",{className:"info-pane"},o.default.createElement("div",{className:"fail"},o.default.createElement("div",{className:"des"},o.default.createElement("p",{className:"p1"},"很遗憾，",o.default.createElement("br",null),"奖品与您擦肩而过！")))))},m.prototype.jhqSuccessResultMsg=function(e,t){return this.setContentClass(e),o.default.createElement("div",{className:"prize-info"},o.default.createElement("div",{className:"info-pane"},o.default.createElement("div",{className:"success"},o.default.createElement("div",{className:"msg"},o.default.createElement("span",{className:"prizes"},10*t.prizemodel.count),o.default.createElement("span",{className:"unit"},"元")),o.default.createElement("div",{className:"des"},o.default.createElement("p",{className:"p1"},"恭喜你获得",o.default.createElement("span",{className:"col"},10*t.prizemodel.count,"元"),"进货券"),o.default.createElement("p",{className:"p2"},"仅限2018年9月20日当天使用")))))},m.prototype.closeGold=function(){this.setState({fallClassName:""})},m.prototype.lotteryStr=function(){var e=this,t=(0,c.default)(((t={goldbox:!0})[""+this.state.fallClassName]=this.state.fallClassName,t));return this.state.fallClassName?o.default.createElement("div",null,o.default.createElement("div",{className:"glodBoxShadow",onClick:function(){return e.closeGold()}}),o.default.createElement("div",{className:t},o.default.createElement("span",{className:"close",onClick:function(){return e.closeGold()}}),o.default.createElement("div",{className:"box-content"},o.default.createElement("div",{className:this.state.contentCls},o.default.createElement("div",{className:"light"}),o.default.createElement("div",{className:"linelight1"}),o.default.createElement("div",{className:"linelight2"}),o.default.createElement("div",{className:"linelight3"}),o.default.createElement("div",{className:"linelight4"}),o.default.createElement("div",{className:"star-pos star-1"},o.default.createElement("div",{className:"star"})),o.default.createElement("div",{className:"star-pos star-2"},o.default.createElement("div",{className:"star"})),o.default.createElement("div",{className:"star-pos star-3"},o.default.createElement("div",{className:"star"})),o.default.createElement("div",{className:"star-pos star-4"},o.default.createElement("div",{className:"star"})),o.default.createElement("div",{className:"dust"},o.default.createElement("div",{className:"step-1"}),o.default.createElement("div",{className:"step-2"}),o.default.createElement("div",{className:"step-3"})),o.default.createElement("div",{className:"lock"}),o.default.createElement("div",{className:"box-back"}),o.default.createElement("div",{className:"aniu"}),o.default.createElement("div",{className:"aniu-hand"}),o.default.createElement("div",{className:"box"}),o.default.createElement("div",{className:"cover"}),o.default.createElement("div",{className:"lottery-msg"},this.state.tipElement),o.default.createElement("div",{className:"action-position"},o.default.createElement("span",{className:"action-lottery",onClick:function(){return e.lotteryAction()}}),o.default.createElement("a",{href:"//96.1688.com/index.html?tracelog=201796gjtgold",className:"goto-index"})),o.default.createElement("div",{className:"mobile"},o.default.createElement("img",{src:"//img.alicdn.com/tfs/TB1bNEFPVXXXXbpapXXXXXXXXXX-135-159.png"})))))):""},m.prototype.render=function(){var e=this;if("false"===this.props.run)return null;var t=this.state.boxShow?o.default.createElement("div",{className:"app-bar-goldbox"},o.default.createElement("div",{className:"app-bar-golden-lottery",onClick:function(){return e.lotteryAction()}},o.default.createElement("img",{src:"//cbu01.alicdn.com/cms/upload/2016/314/248/2842413_495534923.png"})),o.default.createElement("div",{className:"app-bar-golden-bglight"}),o.default.createElement("span",{className:"close",onClick:function(){return e.boxClose()}})):"",a=this.lotteryStr();return o.default.createElement("div",null,t,a)},m);function m(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e));return e.state={boxShow:!1,contentCls:"holder",fallClassName:"",tipElement:""},e}t.default=a},function(e,t){"use strict";t.__esModule=!0;var a=(window,{ctl:null,init:function(){var e=location.protocol+"//g.alicdn.com/sd/ctl/ctl.js",t=document.createElement("script");t.src=e,document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){a.ctl=ctl.noConflict(),a.ctl.config("PC"),a.ctl.ready(function(){})}},getUA:function(){return a.ctl.getUA()},getUmidToken:function(){return a.ctl.getUmidToken()}});t.default=a},function(e,t,a){function n(e,t,a,n,o){o=o||{};var r=i.getConfig(),s=o.type||r.type||"get",r=o.dataType||r.dataType||"jsonp",n=l.extend({namespace:e,widgetId:t,methodName:a,params:JSON.stringify(n)},n);return"post"==s&&"json"==r?c(n,o,"post"):"get"==s&&"json"==r?c(n,o,"get"):u(n,o)}var l=a(7),i=a(12),c=a(13),u=a(17);e.exports={callService:n,getData:function(e,t,a){if(!e)throw new Error("widgetId为空！");return n(e,e,"execute",t,a)}}},function(e,t,a){var n=a(7);e.exports={addHandler:function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a},removeHandler:function(e,t,a){e.removeEventListener?e.removeEventListener(t,a):e.detachEvent?e.detachEvent("on"+t,a):e["on"+t]=null},isAliDomain:function(e,t){var a=["tmall.com","tmall.hk","taobao.com","taobaocdn.com","tbcdn.cn","1688.com","alibaba.com","aliyun.com","alipay.com","alisoft.com","alimama.com","hitao.com","aliexpress.com","laiwang.com","etao.com","kissyui.com","95095.com","taohua.com","tmall.net","tmall.com.hk","taobao.net","taobao.org","alibaba-inc.com","1688.net","alibaba.net","aliyun.net","alipay.net","alisoft.net","alimama.net","hitao.net","aliexpress.net","laiwang.net","etao.net","alicdn.com","aliimg.com"];void 0!==t&&(a=a.concat(t));a=new RegExp("^http(s)?:\\/\\/[a-z0-9-\\.]*("+a.join("|")+")","i");return!!(e+="").match(a)},isAliTestDomain:function(e){if(e=e||document.location.href,this.isAliDomain(e))return/-test\./.test(e)},parseURL:function(e){var r=document.createElement("a");return{source:r.href=e,protocol:r.protocol,host:r.hostname,port:r.port,query:r.search,params:function(){for(var e,t={},a=r.search.replace(/^\?/,"").split("&"),n=a.length,o=0;o<n;o++)a[o]&&(t[(e=a[o].split("="))[0]]=decodeURIComponent(e[1]));return t}(),file:(r.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:r.hash.replace("#",""),path:r.pathname.replace(/^([^\/])/,"/$1"),relative:(r.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:r.pathname.replace(/^\//,"").split("/")}},getConfig:function(){var e={};return e=window._MboxConfig&&"object"==typeof window._MboxConfig?n.extend(e,window._MboxConfig):e}}},function(e,t,a){var l=a(7),i=(a(14),a(12)),c=a(15),u={urlTpl:"//widget"+(i.isAliTestDomain()?"-test":"")+".1688.com/front/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",dataType:"jsonp",transType:"direct",type:"get"},d={urlTpl:"//widget"+(i.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",csrfUrlTpl:"//widget"+(i.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",bridgeUrl:"//widget"+(i.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/bridge.html?target={target}",dataType:"json",transType:"transport",type:"post"};e.exports=function(a,e,t){var n=i.getConfig(),o=e.transType||n.transType||d.transType||"transport";e.transType&&(o=e.transType);var r=e.urlTpl||n.urlTpl||d.urlTpl,s=!!e.csrfToken,n=(r=!s?u.urlTpl:r).replace(/\{([\w]+)\}/g,function(e,t){return a[t]||""}),n=i.parseURL(n),n="//"+n.host+(80===n.port||443===n.port?"":":"+n.port)+n.path;if("proxy"==o)return l.extend(e,{dataType:"json",type:t||"post",data:a}),l.ajax(n,e);r={urlTpl:r,csrfUrlTpl:"//widget"+(i.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",bridgeUrl:"//widget"+(i.isAliTestDomain()?"-test":"")+".1688.com/front/ajax/bridge.html?target={target}"},s={url:n,data:l.extend({},a,{namespace:a.namespace,widgetId:a.widgetId,methodName:a.methodName}),options:{type:t||"post",crsfToken:s}};return new c({bridgeUrl:r.bridgeUrl}).send(s)}},function(e,t){function c(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}var a={options:{path:"",domain:"",expires:7,secure:!1,raw:!1},set:function(e,t,a){var n=null!=(a=arguments.length<3||3==arguments.length&&void 0===a?{}:a).expires?a.expires:this.options.expires||"",o=typeof n;"string"==o&&""!==n?n=new Date(n):"number"==o&&(n=new Date(+new Date+864e5*n)),""!==n&&"toUTCString"in n&&(n="; expires="+n.toUTCString());var r=(r=a.path||this.options.path)?"; path="+r:"",s=(s=a.domain||this.options.domain)?"; domain="+s:"",l=void 0===a.secure?this.options.secure?"; secure":"":a.secure?"; secure":"",i=(void 0!==a.raw?a:this.options).raw,o=i?function(e){return e}:escape;return document.cookie=!0===i?e+"="+t+n+r+s+l:o(e)+"="+o(t)+n+r+s+l,this},get:function(e,t){t=t||{};var a=function(){if(""===document.cookie)return{};for(var e=document.cookie.split("; "),t={},a=0,n=e.length;a<n;a++){var o=e[a].split("=");t[o[0]]=o[1]}return t}(),n=t.raw?function(e){return e}:unescape;if(c(e)){for(var o={},r=0,s=e.length;r<s;r++){var l,i=n(e[r]);void 0!==(l=a[i])&&(l=n(l)),o[i]=l||null}return o}return(l=void 0!==(l=a[e=n(e)])?n(l):l)||null},remove:function(e){if(c(e))for(var t=0,a=e.length;t<a;t++)this.set(e[t],"",{expires:-1});else"string"==typeof e&&this.set(e,"",{expires:-1});return this}};e.exports=a},function(e,t,a){function o(){return"brg-"+l+++(1e4*Math.random()).toFixed(0)}function n(e){var t,a,n;this.name=o(),this.bridgeUrl=e.bridgeUrl||"//astyle.alicdn.com/pkg/@alife/refly-mbox/2.0.5/examples/bridge.html?target={target}",this.defer=r.Deferred(),this.iframe=(t=this.name,a=this.bridgeUrl,n=this.defer,e=document.createElement("iframe"),a=a.replace("{target}",t),e.name=t,e.src=a,e.style.display="none",e.onload=function(){n.resolve()},e.onerror=function(){n.reject()},document.body.appendChild(e),e),this.messenger=(t=this.name,a=this.iframe,(e=new s(t,"mbox")).addTarget(a.contentWindow,t),e),this.messenger.listen(function(e){try{var t=JSON.parse(e),a=i[t.id];i[t.id],a&&a.defer&&a.defer.resolve(t.data)}catch(e){console.log(e)}})}var r=a(7),s=a(16),l=0,i={};n.prototype.send=function(e){var t=this,a=o();return e.id=a,i[a]={data:e,defer:r.Deferred()},this.defer.then(function(){t.messenger.send(JSON.stringify(e))}),i[a].defer},e.exports=n},function(e,t,a){function n(e,t){this.target=e,this.name=t}function o(e,t){this.targets={},this.name=e,this.listenFunc=[],"string"!=typeof(s=t||s)&&(s=s.toString()),this.initListen()}var r=(a(7),a(12)),s="[PROJECT_NAME]",l="postMessage"in window;n.prototype.send=l?function(e){this.target.postMessage(s+e,"*")}:function(e){var t=window.navigator[s+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(s+e,window)},o.prototype.addTarget=function(e,t){e=new n(e,t);this.targets[t]=e},o.prototype.initListen=function(){function e(e){var t;if("object"==typeof e&&e.data){if(t=e.data,!new RegExp("^"+s).test(t))return!1;if(t=t.slice(s.length),!r.isAliDomain(e.origin))throw new Error("invalid message origin")}else t=e;for(var a=0;a<n.listenFunc.length;a++)n.listenFunc[a](t)}var n=this;l?r.addHandler(window,"message",e):window.navigator[s+this.name]=e},o.prototype.listen=function(e){this.listenFunc.push(e)},o.prototype.clear=function(){this.listenFunc=[]},o.prototype.send=function(e,t){var a,n=this.targets;if(1==arguments.length)for(a in t=e,n)n.hasOwnProperty(a)&&n[a].send(t);else{if(2!=arguments.length)throw new Error("params are lost.");if(void 0===e||""==e)throw new Error("target are invalid.");n[e].send(t)}},e.exports=o},function(e,t,a){var n=a(7),o=a(14),r=a(12),s=(a(15),{urlTpl:"//widget"+(r.isAliTestDomain()?"-test":"")+".1688.com/front/getJsonComponent.json?namespace={namespace}&widgetId={widgetId}&methodName={methodName}",dataType:"jsonp",transType:"direct",type:"get"});e.exports=function(a,e){var t=s.urlTpl.replace(/\{([\w]+)\}/g,function(e,t){return a[t]||""});e.csrfToken&&(a._tb_token_=o.get("_tb_token_"));t=r.parseURL(t),t="//"+t.host+(80!==t.port&&443!==t.port&&t.port?":"+t.port:"")+t.path;return n.extend(e,{dataType:"jsonp",type:"GET",data:a}),n.ajax(t,e)}},function(e,t){},,,,function(e,t,a){var n;!function(){"use strict";function s(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"==n||"number"==n)e.push(a);else if(Array.isArray(a)&&a.length){var o=s.apply(null,a);o&&e.push(o)}else if("object"==n)for(var r in a)l.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}var l={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=s.default=s:void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},function(e,t){"use strict";t.__esModule=!0;var r=function(e){var t=[];return e.forEach(function(e){t.push(' <a href="'+e.linkUrl+'" class="item" target="_blank">'+e.mainTitle+"</a>")}),t.join(",")};t.default=function(e,t,a){var n,o;return'<div class="hp-toolbar">'+(o="",o=(a=a)&&a.img&&""!==a.img&&""!==a.url?'    <div class="tool-header-home">        <a href='+a.url+' target="_blank">          <img src='+a.img+" />        </a>    </div>":o)+(o="",o=(t=t)&&""!==t.title&&""!==t.url?' <div class="tool-panel tool-header-home">       <a href='+t.url+' target="_blank">'+t.title+"</a>  </div>":o)+(n=[],e.forEach(function(e){e='    <div class="tool-panel">        <div class="p-head">'+e.tabTitle+'       </div>       <div class="p-cont">            <ul class="fd-clr list-ctn">                <li class="row row-size-'+e.rowNum+'">'+r(e.mapping)+"                </li>            </ul>        </div>    </div>";n.push(e)}),n.join(""))+"</div>"}},function(e,t){e.exports={name:"@alife/vbar-atmo-dacu-handle",version:"1.2.11",description:"大促插件氛围插件",main:"index.js",author:"liying.ly",repository:{type:"git",url:"git@gitlab.alibaba-inc.com:vbar/vbar-atmo-dacu-handle.git"},keywords:["lofty","package","vbar"],scripts:{server:"sudo ./node_modules/.bin/fdserver -d -cf ./fdserver.config.js",watch:"./node_modules/.bin/webpack --watch",p:"rm -rf dist && mkdir dist && cp package.json ./dist/ && webpack && apm publish"},license:"MIT",readmeFilename:"README.md",dependencies:{"@alife/alpha-class":"~1.3.0","@alife/alpha-jquery":"^1.0.9","@alife/lofty-template":"^2.0.0","@alife/refly-mbox":"3.1.6",classnames:"^2.2.5","extract-text-webpack-plugin":"^1.0.1","json-loader":"^0.5.7","url-parse":"^1.2.0"},publishConfig:{registry:"http://registry.npm.alibaba-inc.com"},devDependencies:{"@ali/eslint-config-plover-app":"*","@ali/fdserver":"~0.12.4","babel-core":"^6.18.0","babel-loader":"^6.2.5","babel-preset-es2015":"^6.18.0","babel-preset-react":"^6.16.0","babel-preset-stage-0":"^6.0.15","babel-register":"^6.18.0","css-loader":"^0.26.1","es3ify-loader":"^0.2.0",eslint:"^2.9.0","eslint-config-airbnb":"^8.0.0","eslint-plugin-babel":"^3.2.0","eslint-plugin-import":"^1.6.1","eslint-plugin-jsx-a11y":"^1.0.4","eslint-plugin-react":"^5.0.1","extract-text-webpack-plugin":"^1.0.1",flux:"^3.1.0",less:"^2.7.1","less-loader":"^2.2.3",mocha:"^3.1.2","react-hot-loader":"^1.3.1",should:"^11.1.1","style-loader":"^0.13.1","unicode-loader":"^1.0.6",webpack:"1.13.2","webpack-dev-server":"~1.16.2"},apm:{build:!1,publishFolder:"dist"}}},function(e,t){}],s={},o.m=r,o.c=s,o.p="",o(0);function o(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var r,s});

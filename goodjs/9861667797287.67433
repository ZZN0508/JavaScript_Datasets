var stringPrototype=String.prototype;document.createElement("template"),function(){var i=0;window.requestAnimationFrame&&window.cancelAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=Date.now(),o=Math.max(0,16-(n-i)),r=window.setTimeout(function(){e(n+o)},o);return i=n+o,r},window.cancelAnimationFrame=clearTimeout)}(),window.SVGElement&&("classList"in SVGElement.prototype||function(){function t(e){return new RegExp("(^| )"+e+"( |$)")}function e(e,t,n){for(var o=0;o<e.length;o++)t.call(n,e[o])}function n(e){this.element=e}n.prototype={add:function(){e(arguments,function(e){this.contains(e)||(this.element.className+=" "+e)},this)},remove:function(){e(arguments,function(e){this.element.className=this.element.className.replace(t(e),"")},this)},toggle:function(e){return this.contains(e)?(this.remove(e),!1):(this.add(e),!0)},contains:function(e){return t(e).test(this.element.className)},replace:function(e,t){this.remove(e),this.add(t)}},Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return new n(this)}})}(),"parentElement"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"parentElement",{get:function(){return this.parentNode}})),function(){var e,n,t=document.createElement("_");t.classList.add("c1","c2"),t.classList.contains("c2")||((e=function(e){var o=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var t=arguments.length,n=0;n<t;n++)e=arguments[n],o.call(this,e)}})("add"),e("remove")),t.classList.toggle("c3",!1),t.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)})}(),window.getBoundingClientRect||(window.getBoundingClientRect=function(){return{top:0,left:0,bottom:window.innerHeight||window.clientHeight,right:window.innerWidth||window.clientWidth}}),function(){var e;"performance"in window==0&&(window.performance={}),"now"in window.performance==0&&(e=Date.now(),performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e})}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),Array.prototype.find||(Array.prototype.find=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),o=n.length>>>0,r=arguments[1],i=0;i<o;i++)if(t=n[i],e.call(r,t,i,n))return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),o=n.length>>>0,r=arguments[1],i=0;i<o;i++)if(t=n[i],e.call(r,t,i,n))return i;return-1}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i=Object.keys(Object(r)),a=0,l=i.length;a<l;a++){var c=i[a],u=Object.getOwnPropertyDescriptor(r,c);void 0!==u&&u.enumerable&&(n[c]=r[c])}}return n}}),Object.values||Object.defineProperty(Object,"values",{enumerable:!1,configurable:!0,writable:!0,value:function(t){"use strict";return Object.keys(t).map(function(e){return t[e]})}}),stringPrototype.endsWith||Object.defineProperty(stringPrototype,"endsWith",{value:function(e,t){var n=this.toString();(void 0===t||t>n.length)&&(t=n.length),t-=e.length;e=n.indexOf(e,t);return-1!==e&&e===t}}),"function"!=typeof stringPrototype.startsWith&&(stringPrototype.startsWith=function(e,t){return this.indexOf(e,t=t||0)===t}),stringPrototype.includes||(stringPrototype.includes=function(e,t){return!((t="number"!=typeof t?0:t)+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.fromCodePoint||function(i){function e(){for(var e=[],t="",n=0,o=arguments.length;n!==o;++n){var r=+arguments[n];if(!(r<1114111&&r>>>0===r))throw RangeError("Invalid code point: "+r);16383<=(r<=65535?e.push(r):(r-=65536,e.push(55296+(r>>10),r%1024+56320)))&&(t+=i.apply(null,e),e.length=0)}return t+i.apply(null,e)}try{Object.defineProperty(String,"fromCodePoint",{value:e,configurable:!0,writable:!0})}catch(i){String.fromCodePoint=e}}(String.fromCharCode),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(r,i,a){var l=this;setTimeout(function(){for(var e=atob(l.toDataURL(i,a).split(",")[1]),t=e.length,n=new Uint8Array(t),o=0;o<t;o++)n[o]=e.charCodeAt(o);r(new Blob([n],{type:i||"image/png"}))})}}),function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype),function(){var t,s,n,d;function e(){var e;if("function"!=typeof Map)return 1;try{e=new Map([[1,2],[3,4]])}catch(e){return 1}return"[object Map]"!==String(e)||2!==e.size||"function"!=typeof e.clear||"function"!=typeof e.delete||"function"!=typeof e.entries||"function"!=typeof e.forEach||"function"!=typeof e.get||"function"!=typeof e.has||"function"!=typeof e.keys||"function"!=typeof e.set||"function"!=typeof e.values}function o(){var e;if("function"!=typeof Set)return 1;try{e=new Set([1,2,3,4])}catch(e){return 1}return"[object Set]"!==String(e)||4!==e.size||"function"!=typeof e.clear||"function"!=typeof e.delete||"function"!=typeof e.entries||"function"!=typeof e.forEach||"function"!=typeof e.has||"function"!=typeof e.add||"function"!=typeof e.values}Array.from&&!e()&&!o()||(Array.from=(t=Object.prototype.toString,s=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=Math.pow(2,53)-1,d=function(e){e=Number(e),e=isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e;return Math.min(Math.max(e,0),n)},function(e){if(void 0===(e=(e=e instanceof Set?e.values():e)instanceof Map?e.entries():e).length&&"function"==typeof e.next){for(var t,n=[];(t=e.next())&&!t.done;)n.push(t.value);return n}var o=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!s(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(r=arguments[2])}for(var a,l=d(o.length),c=s(this)?Object(new this(l)):new Array(l),u=0;u<l;)a=o[u],c[u]=i?void 0===r?i(a,u):i.call(r,a,u):a,u+=1;return c.length=l,c})),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0==o)return!1;for(var r,i,t=0|t,a=Math.max(0<=t?t:o-Math.abs(t),0);a<o;){if((r=n[a])===(i=e)||"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))return!0;a++}return!1}});function a(e){if(e!=e||0===e)for(var t=this.length;t--&&!r(this[t],e););else t=[].indexOf.call(this,e);return t}var r=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function i(e,t){var n=0;return Object.create({},{next:{value:function(){if(n<e.size)switch(t){case"values":return{value:e._values()[n++],done:!1};case"keys+values":return{value:e._entries()[n++],done:!1};default:throw new TypeError("Invalid iterator type")}return{value:void 0,done:!0}}},toString:{value:function(){return"[object Set Iterator]"}}})}function l(e){function t(e){var t=a.call(n,e);-1<t?(o[t][1]=e,n[t]=e):(o.push([e,e]),n.push(e))}var o=[],n=[];return(Array.isArray(e)||e instanceof l)&&e.forEach(t),Object.create(l.prototype,{_entries:{value:function(){return[].slice.call(o)}},entries:{value:function(){return new i(this,"keys+values")}},_values:{value:function(){return[].slice.call(n)}},values:{value:function(){return new i(this,"values")}},keys:{value:function(){return new i(this,"values")}},has:{value:function(e){return-1<a.call(n,e)}},add:{value:t},size:{get:function(){return o.length}},clear:{value:function(){n.length=o.length=0}},delete:{value:function(e){e=a.call(n,e);return-1<e&&(n.splice(e,1),o.splice(e,1),!0)}},forEach:{value:function(t){if("function"!=typeof t)throw new TypeError("Invalid callback function given to forEach");var n=this;o.forEach(function(e){t.apply(arguments[1],[e[1],e[0],n])})}},toString:{value:function(){return"[Object Set]"}}})}function c(e,t){var n=0;return Object.create({},{next:{value:function(){if(n<e.size)switch(t){case"keys":return{value:e._keys()[n++],done:!1};case"values":return{value:e._values()[n++],done:!1};case"keys+values":return{value:e._entries()[n++],done:!1};default:throw new TypeError("Invalid iterator type")}return{value:void 0,done:!0}}},toString:{value:function(){return"[object Map Iterator]"}}})}function u(e){function t(e,t){var n=a.call(r,e);-1<n?(o[n][1]=t,i[n]=t):(o.push([e,t]),r.push(e),i.push(t))}function n(e){if(2!==e.length)throw new TypeError("Invalid iterable passed to Map constructor");t(e[0],e[1])}var o=[],r=[],i=[];return Array.isArray(e)?e.forEach(n):e instanceof u&&e.forEach(function(e,t){return n([t,e])}),Object.create(u.prototype,{_entries:{value:function(){return[].slice.call(o)}},entries:{value:function(){return new c(this,"keys+values")}},_keys:{value:function(){return[].slice.call(r)}},keys:{value:function(){return new c(this,"keys")}},_values:{value:function(){return[].slice.call(i)}},values:{value:function(){return new c(this,"values")}},has:{value:function(e){return-1<a.call(r,e)}},get:{value:function(e){e=a.call(r,e);return-1<e?i[e]:void 0}},set:{value:t},size:{get:function(){return o.length}},clear:{value:function(){r.length=i.length=o.length=0}},delete:{value:function(e){e=a.call(r,e);return-1<e&&(r.splice(e,1),i.splice(e,1),o.splice(e,1),!0)}},forEach:{value:function(t){if("function"!=typeof t)throw new TypeError("Invalid callback function given to forEach");var n=this;o.forEach(function(e){t.apply(arguments[1],[e[1],e[0],n])})}},toString:{value:function(){return"[Object Map]"}}})}e()&&((u.prototype=new u).constructor=u,window.Map=u),o()&&((l.prototype=new l).constructor=l,window.Set=l)}(),window.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,function(e){function t(){Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0}),Object.defineProperty(this,"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"onabort",{value:null,writable:!0,configurable:!0})}function n(){Object.defineProperty(this,"signal",{value:new t,writable:!0,configurable:!0})}("function"!=typeof e.Request||e.Request.prototype.hasOwnProperty("signal"))&&e.AbortController||(t.prototype={addEventListener:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},dispatchEvent:function(e){if("abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),e.type in this.listeners){for(var t=this.listeners[e.type],n=0,o=t.length;n<o;n++)t[n](e);return!e.defaultPrevented}},removeEventListener:function(e,t){if(e in this.listeners){const r=this.listeners[e];for(var n=0,o=r.length;n<o;n++)if(r[n]===t)return void r.splice(n,1)}},toString:function(){return"[object AbortSignal]"}},n.prototype={abort:function(){var t;try{t=new Event("abort")}catch(e){(t=document.createEvent("Event")).initEvent("abort",!1,!1)}this.signal.dispatchEvent(t)},toString:function(){return"[object AbortController]"}},"undefined"!=typeof Symbol&&Symbol.toStringTag&&(n.prototype[Symbol.toStringTag]="AbortController",t.prototype[Symbol.toStringTag]="AbortSignal"),e.AbortController=n,e.AbortSignal=t)}(window),function(){function e(){}"undefined"!=typeof Reflect&&Reflect.construct&&(Reflect.construct(function(){},[],e)instanceof e||(Reflect.construct.sham=1))}(),function(e){var t,r,n,o,i=e.Promise;function a(){}function l(n){return new c(function(e,t){return c.resolve(n).then(t,e)})}function c(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._value=void 0,this._deferreds=[],h(e,this)}function u(n,o){for(;3===n._state;)n=n._value;0!==n._state?r(function(){var e,t=1===n._state?o.onFulfilled:o.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void d(o.promise,e)}s(o.promise,e)}else(1===n._state?s:d)(o.promise,n._value)}):n._deferreds.push(o)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void h(n.bind(t),e)}e._state=1,e._value=t,f(e)}catch(t){d(e,t)}}function d(e,t){e._state=2,e._value=t,f(e)}function f(e){for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,d(t,e))})}catch(e){if(n)return;n=!0,d(t,e)}}i&&"resolve"in i&&"reject"in i&&"all"in i&&"allSettled"in i&&"any"in i&&"race"in i&&"finally"in i.prototype&&(new i(function(e){o=e}),"function"==typeof o)||(t=setTimeout,r="function"==typeof setImmediate&&setImmediate||function(e){t(e,1)},n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new c(a);return u(this,new p(e,t,n)),n},c.all=function(){var l=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new c(function(r,i){if(0===l.length)return r([]);var a=l.length;for(var e=0;e<l.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,function(e){t(n,e)},i),0}l[n]=e,0==--a&&r(l)}catch(e){i(e)}}(e,l[e])})},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c(function(e){e(t)})},c.reject=function(n){return new c(function(e,t){t(n)})},c.race=function(r){return new c(function(e,t){for(var n=0,o=r.length;n<o;n++)r[n].then(e,t)})},c.allSettled=function(){var e=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return c.all(e.map(function(e){return e.then(function(e){return{status:"fulfilled",value:e}}).catch(function(e){return{status:"rejected",reason:e}})}))},c.any=function(){var e=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return l(c.all(e.map(l)))},c.prototype.finally=function(t){function n(e){return c.resolve(t()).then(e)}return this.then(function(e){return n(function(){return e})},function(e){return n(function(){return c.reject(e)})})},c._setImmediateFn=function(e){r=e},"undefined"!=typeof module&&module.exports?module.exports=c:e.Promise=c)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);var OK=OK||{};OK.cnst={pageCtx:window.pageCtx,staticUrl:window.pageCtx.staticResourceUrl},OK.navigation={SPLITER:"\x3c!--&--\x3e",HEADER:"Rendered-Blocks",redirect:!1},OK.getCurrentStateLink=OK.getCurrentStateLink||function(){return"/dk?"+window.pageCtx.state.replace(/&amp;/g,"&")},OK.fn={empty:function(){},isDebug:function(){return null!=document.getElementById("__gwtd__m")},delegate:function(t,n,o){return function(){var e=Array.prototype.slice.call(arguments),e=(n||[]).concat(e);return t.apply(o||this,e)}},deferred:function(e,t,n){return n=Array.prototype.slice.call(n),function(){return e[t].apply(e,n)}},logging:function(e,t){var n=t||OK.logging.currentLoggerFn||OK.fn.empty;return function(){try{return e.apply(this,arguments)}catch(e){n.call(window,e)}}}},OK.hookModel=OK.hookModel||{getHookById:OK.fn.empty,removeHookById:OK.fn.empty,getNearestBlockHookId:OK.fn.empty,setHookContent:function(e,t){var i;"HeadMeta"==e?function(e){for(var t=document.getElementsByTagName("head")[0],n=t.childNodes,o=!1,r=0;r<n.length&&((o=8==(i=n[r]).nodeType&&-1<i.textContent.indexOf("META START")?!0:o)?t.removeChild(i):r++,!(8==i.nodeType&&-1<i.textContent.indexOf("META END"))););o&&t.insertAdjacentHTML("afterbegin",e)}(t):(i=document.getElementById("hook_Block_"+e))&&(require.defined("OK/capture")&&require("OK/capture").deactivate(i),i.innerHTML=t,require(["OK/capture"],function(e){e.activate(i)}))},captureBlockHook:OK.fn.empty,isHookEmpty:function(e){e=this.getHookById(e);return!(e&&e.element&&e.element.childNodes&&e.element.childNodes.length)}},OK.clickLog=OK.clickLog||{getCounter:OK.fn.empty,incCounter:OK.fn.empty,decCounter:OK.fn.empty},OK.logging={isSeleniumBot:!1,currentLoggerFn:OK.fn.empty,setUp:function(e){OK.logging.currentLoggerFn=e},tearDown:function(){OK.logging.currentLoggerFn=OK.fn.empty},alert:function(e){OK.fn.isDebug()&&alert(e)},info:function(){if(OK.fn.isDebug())try{console&&console.log.apply(console,arguments)}catch(e){}},logger:{queue:[],replayQueue:function(){for(var e=this.queue,t=e.length,n=0;n<t;n++)e[n].call();this.queue=[]},error:function(e,t){this.queue.push(OK.fn.deferred(this,"error",arguments))},success:function(e,t,n){this.queue.push(OK.fn.deferred(this,"success",arguments))},force:function(e,t,n){this.queue.push(OK.fn.deferred(this,"force",arguments))},duration:function(e,t,n,o){this.queue.push(OK.fn.deferred(this,"duration",arguments))},clob:function(e,t,n,o){this.queue.push(OK.fn.deferred(this,"clob",arguments))},trace:function(e,t,n,o){this.queue.push(OK.fn.deferred(this,"trace",arguments))},raw:function(e,t){this.queue.push(OK.fn.deferred(this,"raw",arguments))},errorEx:function(e,t,n){e="Fatal JavaScript Error, please see log:\nexception ='"+e+"'\nstacktrace="+e.stack;this.clob("error",e,t,n)},durationScalar:function(e,t,n){var o;n=null!=n&&n<6e4?(o=1e4,1e3<=n&&n<1e4?o=1e3:n<1e3&&(o=100),Math.round(n/o)*o):6e4,this.success(e,t,""+n)}},repository:function(){var s={},d=[];function f(e){return e&&"[object Object]"===Object.prototype.toString.call(e)}function p(e){return void 0!==e}function o(e){e=JSON.stringify(e);return!e||e.length<=2?null:encodeURIComponent(e)}return{addLog:function(e,t,n,o,r,i,a){var l,c,u;n||o||r?(l=a,c=t,n=n,o=o,r=r,u={o:e},i&&(u.p1=i),l&&(u.p2=l),c&&(u.d=c),n&&(u.i=n),o&&(u.c=o),r&&(u.r=r),d.push(u)):(u=[],p(t)&&u.push(t),p(a)&&u.push(""+a),p(i)&&u.push(""+i),u.push(""+e),function e(t,n){var o=n.pop(),t=t;return"string"==typeof o?(t=t?f(t)?t:{"n/a":t}:{})[o]=e(t[o],n):f(t)?t["n/a"]=e(t["n/a"],[o]):(n=t)&&"[object Array]"===Object.prototype.toString.call(n)?t.push(o||0):o?(t=function(e){for(var t=[];e;)t[--e]=0;return t}(t)).push(o):t=1+(t||0),t}(s,u))},getRequestData:function(){var e,t=(n=o(s),s={},n),n=(e=o(d),d=[],e),e=[];return t&&e.push("a="+t),n&&e.push("p="+n),0<e.length?e.join("&"):null}}}()},OK.logger=OK.logging.logger,OK.logger.repository=OK.logging.repository,define("OK/logger",OK.logger),OK.onload=function(o){var r=[],i=!0;return{addCallback:function(e,t){var n;if(null!=t&&0<t.length&&(n=e,e=OK.fn.delegate(OK.loader.use,[n,t])),i)r.push(e);else try{e.call(o)}catch(e){OK.logging.alert("Onload callback error after immidiate execute: "+e.message)}},fire:function(){i=!1;for(var e=0;e<r.length;e++){var t=r[e];try{t.call(o)}catch(e){OK.logging.alert("Onload callback error after startup execute: "+e.message)}}r.length=0}}}(window),OK.loader=function(){function n(e){return null!=s&&e in s?s[e]:""}var c,u,s,d=null,f=null,p=null,h=null,y={},m=null,g=null,v=!1,O={};return{use:function(o,r){v||(v=!0,d="string",f=",",p="complete",h="loaded",c=OK.cnst,u=c.staticUrl,s=c.pageCtx,m=document,g=m.getElementsByTagName("head")[0],OK.util.extend(y,{nativeHooks:{src:u+n("nativeHooksSrc")},OKCustomJs:{src:u+n("bottomJsSrc")},OKTextarea:{src:u+n("textareaJsSrc")},OKPhotos:{src:u+n("photosJsSrc")},OKPhotoLayer:{src:u+n("photoLayerJsSrc")},OKPhotoUploader:{src:u+n("photoUploaderJsSrc")},OKRegJs:{src:u+n("regJsSrc")},cdnNode:{src:n("cdnNodeSrc")},OKPromo:{src:u+n("promoAppJsSrc")},OKGifts:{src:u+n("giftsJsSrc")},OKAppEdit:{src:u+n("appEditJsSrc")}}));var i=1,a=1,l=null;typeof o==d&&(o=o.split(f));var e=Array.prototype.indexOf.call(o,"jQuery"),t=[];0<=e&&(o.splice(e,1),t.push("jquery"));e=function(){for(var e=0;e<o.length;e++){var t=o[e];if(!(l=y[t])){a=i=0;break}l.ok||(a=0)}if(i)if(a)try{r.apply()}catch(e){OK.logging.alert("Loader callback error after immediate execute ["+o.join()+"]: "+e.message+"\n"+e.stack)}else{var n=o.join(f);for(O[n]||(O[n]=[]),O[n].push({srcArr:o,clbk:r}),e=0;e<o.length;e++)(function(e){var t,n,o;e.ok||e.waiting||(t=e,n=function(){for(var e in O)for(var t=0;t<O[e].length;t++){var n=O[e][t];if(null!=n){for(var o=n.srcArr,r=1,i=0;i<o.length;i++)y[o[i]].ok||(r=0);if(r){try{O[e][t].clbk.call()}catch(e){OK.logging.alert("Loader queue callback error after all script loaded ["+o.join()+"]: "+e.message+"\n"+e.stack)}O[e][t]=null}}}},o=m.createElement("script"),t.waiting=!0,o.onload=o.onreadystatechange=function(){var e=o.readyState;if(!e||e==p||e==h){o.onload=o.onreadystatechange=null,t.ok=!0;try{n.call(this)}catch(e){OK.logging.alert("Loader callback error after script loaded: "+e.message)}}},o.async=1,o.src=t.src,g.appendChild(o))})(l=y[o[e]])}};0===t.length?e():1===t.length&&require.defined(t[0])?e(require(t[0])):require(t,e)},execRequire:function(e,t,n){require.defined(e)?t(require(e)):require([e],t,n)},register:function(e){OK.util.extend(y,e)}}}(),OK.util=function(n,t){var e=t.documentElement.classList;return{isGecko:function(){return e.contains("gecko")},isWebkit:function(){return e.contains("webkit")},isSafari:function(){return e.contains("mac-saf")},isIEMetro:function(){var t=!1;if(n.navigator.msPointerEnabled)try{new ActiveXObject("htmlfile")}catch(e){t=0===n.screenY&&n.innerHeight+1!==n.outerHeight}return t},counterId:0,extend:function(e,t){for(var n in e=e||{},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},clean:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=null)},keys:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},isHighDensity:function(){return n.matchMedia&&(n.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||n.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||n.devicePixelRatio&&1.3<n.devicePixelRatio},setHighDensityCookie:function(e){e+="=";OK.util.isHighDensity()?e+="h;max-age=31536000;path=/":e+=";expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",t.cookie=e},plurals:function(e){if(10<(e=Math.abs(e)%100)&&e<20)return 5;e%=10;return 1<e&&e<5?2:1==e?1:5},parseJSON:function(e){var t="\x3c!--".length,n="--\x3e".length;if(e)return 0===e.indexOf("\x3c!--")&&(e=e.substring(t,e.length-n)),JSON.parse(e)},parseJsonCorrected:function(e){var t="\x3c!--".length,n="--\x3e".length;return e&&(0!==e.indexOf("\x3c!--")||(e=e.substring(t,e.length-n).replace(/\\u0026#45;\\u0026#45;/g,"--")).length)?JSON.parse(e):null},nextId:function(){return this.counterId++},getOffset:function(e){for(var t={left:0,top:0};t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;);return t},is4ColumnActive:function(){return window.matchMedia("screen and (min-width: 1274px)").matches},processCssHeaders:function(o){return new Promise(function(e){var t=o.getResponseHeader("required-css");if(t){var n=[];if(t.split(",").forEach(function(e){e&&n.push("OK/css-loader!"+e)}),n.length)return void require(n,e,e)}e()})}}}(window,document),OK.favicon={change:function(e){var t,n=document.getElementById("favicon");n&&((t=n.cloneNode(!0)).setAttribute("href",e),n.parentNode.replaceChild(t,n))}},OK.css={display:function(e,t){!function(e,t){e="string"==typeof e?document.getElementById(e):e;e&&(e.style.display=t?"block":"none")}(e,t)},addClass:function(e,t){e=document.getElementById(e);e&&e.classList.add(t)},removeClass:function(e,t){e=document.getElementById(e);e&&e.classList.remove(t)}},OK.form={submit:function(t){return function(){for(var e=t.parentNode;e&&e.tagName&&"form"!=e.tagName.toLowerCase();)e=e.parentNode;return e&&e.submit&&e.submit(),!1}()},selectCBxs:function(e,t){!function(e,t){var n=e.form.elements,o=n.length;for(i=0;i<o;i++)n[i].name.substr(0,t.length)==t&&(n[i].checked=e.checked)}(e,t)},placeholder:function(o,e){require(["jquery"],function(){var t=e.parent(),n=setInterval(function(){var e="true"===o.attr("contentEditable")?o.html():o.val();e!==(o.data("val")||"")&&(""!=e?t.addClass("input__active"):t.removeClass("input__active"),o.data("val",e),clearInterval(n))},10);o.bind("blur",function(){clearInterval(n)})})}},OK.photoLayer=function(w,r){var i;return{minHeight:768,hideElements:!1,isFirst:!0,isRotated:!1,isGif:!1,isLogTimeDiff:!1,isLogPrematureClose:!1,timeDiff:void 0,cancelPin:OK.fn.empty,cancelCrop:OK.fn.empty,isFullScreen:function(){return r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement},centerLayer:function(f,p,h,y){var m=OK.photoLayer.isGif,g=OK.photoLayer.isRotated,v=function(e,t){if(t){t=parseInt(t,10);var n=i=Math.max(w.OK.photoLayer.minHeight,Math.min(Math.max(t,i||w.OK.photoLayer.minHeight),Math.min(window.innerHeight-(w.OK.photoLayer.commentsDelta||0),768))),o=r.getElementById("photoLayerWrapper").querySelector(".plc");if(o){t=Math.min(1024+o.offsetWidth,window.innerWidth-80),o=Math.min(768,window.innerHeight-40);return e.style.width=t+"px",e.style.height=o+"px",[t,o]}return e&&(e.style.height=n+"px",w.OK.logging.logger.durationScalar("photoLayer","availableSpace",parseInt(window.innerHeight-n,10))),[Math.min(1024,window.innerWidth),n]}}(f,g?h:y);function O(e,t,n,o,r){e&&(r=Math.max(1,Math.max(t/o,n/r)),e.width=Math.round(t/r),e.height=Math.round(n/r))}!p||isNaN(h)||isNaN(y)||function e(){if(!g&&!m)return p.style.maxWidth="",p.style.maxHeight="",void(p.style.marginTop="");if(p.complete||m){var t,n,o=g?Math.min(h,v[1]):Math.min(y,v[1]),r=g?Math.min(y,v[0]):Math.min(h,v[0]),i=g?y/h:h/y,r=Math.min(1/i*r,o),o=g?r:Math.round(r*i),i=g?Math.round(r*i):r,r=w.OK.photoLayer.isFullScreen(),a=r?(t=$(f).height(),n=g?Math.min(h,768):Math.min(h,1024),g?Math.min(y,1024):Math.min(y,768)):(n=o,i);if(p.style.maxWidth=n+"px",p.style.maxHeight=a+"px",p.style.marginTop=g&&o<i?r?"-"+(y-t)/2+"px":"-"+(i-v[1])/2+"px":"",m)for(var l=p;l;){if(l.classList.contains("gif")){var c=parseInt(l.getAttribute("data-width"),10),u=parseInt(l.getAttribute("data-height"),10),s=l.getElementsByClassName("gif_preview")[0],d=l.getElementsByClassName("gif_video")[0];O(s,c,u,n,a),O(d,c,u,n,a);break}l=l.parentElement}return[p.style.maxWidth,p.style.maxHeight]}m||w.setTimeout(e,10)}()},isShown:function(){var e=r.getElementById("photoLayerWrapper");return!!e&&!e.classList.contains("invisible")&&!e.classList.contains("layer__disabled")},open:function(e,t){var n=r.getElementById("photoLayerWrapper");n&&(t&&(i=void 0),w.OK.photoLayer.centerLayer(r.getElementById("pl_cw"),void 0,void 0,void 0),n.classList.remove("invisible","layer__disabled"),n.classList.add("__active"),t&&n.setAttribute("data-just-opened",!0),w.OK.loader.use("jQuery",function(){$("#hook_Block_PhotoLayerFooterRB").show(),w.OK.loader.use("OKPhotoLayer",function(){w.OK.photoLayer.init?w.OK.photoLayer.init(n):w.OK.photoLayer.waitForInit=n}),OK.loader.use(["OKCustomJs"],function(){t?OK.Layers.push(e):OK.Layers.replace(e)})}),OK.VideoPlayer.pauseAll())},close:function(){w.OK.photoLayer.isFirst=!0},toggleFullScreenButton:w.OK.fn.empty,hideFullScreenButton:w.OK.fn.empty,destroyFastNavigation:w.OK.fn.empty,showNextPhoto:w.OK.fn.empty,waitForInit:null}}(window,document),OK.tkn={set:function(e){this.token=e},get:function(){return this.token}},OK.device={isTouch:"ontouchend"in window};var flashVerForGWT=[0,0,0],okFlashVersion=[0,0,0],minimumFlashVersion=9;function displayFlashContainer(){var e=document,t=e.getElementById("flashMainContainerDiv");if(null!=t){var n=t.style,o=e.getElementById("flashOldFlashContainerDiv").style,r=e.getElementById("flashNoFlashContainerDiv").style;a(n),a(o),a(r);try{(-1==t.className.indexOf("apiNoFlashWarning")||void 0===window.postMessage)&&okFlashVersion[0]<minimumFlashVersion?0==okFlashVersion[0]?i(r):i(o):(i(n),-1!=t.className.indexOf("apiNoHide")||null!=document.getElementById("hook_PopLayer_popLayer")&&(n.visibility="hidden"))}catch(e){i(r)}}function i(e){e.display="block"}function a(e){e.display="none"}}function likeVideoFromFlash(e){if("function"==typeof navigateOnUrlFromJS){for(var t,n,o=$("#"+e);!(0<(t=o.find(".klass_w")).length);)if(0==(o=o.parent()).length)return;null!=(e=t.find("a.controls-list_lk")[0])?n=e.href:null!=(e=t.find("span.controls-list_lk")[0])&&(n=e.getAttribute("data-href"),(e=e.getAttribute("data-l-p"))&&(n+="&st.v.cl="+e)),n&&navigateOnUrlFromJS(n+"&st.v.ff=on")}else document.location.href="/"}function OKVideoOpenUserUpload(){OK.VideoPlayer.OKVideoOpenUserUpload()}function runLinkedVideoCallbackFromJS(e){likeCallbackFromJs(e.callbackId+"Object",e.liked,e.likeCount),likeCallbackFromJs(e.callbackId+"E",e.liked,e.likeCount),likeCallbackFromJs("VideoPopup_player_"+e.callbackId+"Object",e.liked,e.likeCount)}function runLinkedVideoCallback(e){var t=document.getElementById("mc"+e.blockId);t.parentNode.removeChild(t),disableKlassByPlayerId(e.callbackId+"Object")||disableKlassByPlayerId(e.callbackId+"E")||disableKlassByPlayerId("VideoPopup_player_"+e.callbackId+"Object")}function runLinkedVideoCallbackU(n){var e=document.getElementById("mc"+n.blockId);e.parentNode.removeChild(e),runLinkedVideoCallbackFromJS(n),require(["jquery"],function(t){t(".js-like-marker[data-l-id="+n.resourceId+"]").each(function(){var e=OK.hookModel.getNearestBlockHookId(this),e=t("#hook_Block_"+e);e.length&&likeCallbackFromJs(e.data("playerId")+"E",n.liked,n.likeCount)})})}function disableKlassByPlayerId(e){try{document.getElementById(e).disableKlassFromJs()}catch(e){}}function likeCallbackFromJs(e,t,n){try{document.getElementById(e).likeCallbackFromJs(t,n)}catch(e){}}!function(e,t){try{var n=[0,0,0],o=null,r=t.plugins,i=parseInt;if(void 0!==r&&"object"==typeof r["Shockwave Flash"]){var o=r["Shockwave Flash"].description,a=t.mimeTypes;!o||void 0!==a&&a["application/x-shockwave-flash"]&&!a["application/x-shockwave-flash"].enabledPlugin||(o=o.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n[0]=i(o.replace(/^(.*)\..*$/,"$1"),10),n[1]=i(o.replace(/^.*\.(.*)\s.*$/,"$1"),10),n[2]=/[a-zA-Z]/.test(o)?i(o.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0)}else if(void 0!==e.ActiveXObject)try{(o=function(){try{for(var e=11;8<e;e--)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e).GetVariable("$version")}catch(e){}return null}catch(e){return null}}())&&(o=o.split(" ")[1].split(","),n=[i(o[0],10),i(o[1],10),i(o[2],10)])}catch(e){}e.okFlashVersion=n,e.flashVerForGWT=n,OK.onload.addCallback(function(){require(["OK/cookie"],function(e){e.setCookie("_flashVersion",n[0],30,"/"),0<n[0]&&e.setCookie("_flash7dVersion",n[0],7,"/")})})}catch(e){}}(window,navigator),OK.il={handlers:{},ah:function(e){var t;e&&e.handle&&e.id&&(t=e.id,null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t][this.handlers[t].length]=e)},f:function(e,t,n){if(t&&this.handlers[t])for(var o=this.handlers[t].length,r=this.handlers[t],i=0;i<o;i++)r[i].handle(e,n)},rh:function(e){if(e&&e.id){var t=e.id;if(null!=this.handlers[t]&&null!=e.handlerId){for(var n=this.handlers[t].length,o=this.handlers[t],r=e.handlerId,i=-1,a=0;a<n;a++)if((e=o[a]).handlerId==r){i=a;break}-1<i&&this.handlers[t].splice(i,1)}}}},OK.pf={},OK.scrollBar=function(){OK.scrollBar.width=document.getElementById("sc").offsetWidth-document.getElementById("sch").offsetWidth},OK.setContentWidth=function(){var e=OK.scrollBar.width,t=window.innerWidth-e,t=Math.max(1e3,t),n=document.getElementById("topPanel"),e=document.getElementById("hook_Block_BodySwitcher");e&&(e.style.width=t+"px"),n&&(n.style.width=t+"px")},OK.stop=function(e){return"click"===(e=e||window.event).type&&0<OK.clickLog.getCounter()?e["log-clicks"]=!0:e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1},OK.hardStopEvent=function(e){return(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1},OK.isStopped=function(e){return(e=e||window.event)&&e["log-clicks"]},OK.eventTarget=function(e){return e=3===(e=(e=e||window.event).target?e.target:e.srcElement||window.document).nodeType?e.parentNode:e},OK.submit=function(e){var t,n=e;"form"!==e.tagName.toLowerCase()&&(n=e.parentNode),document.createEvent?((t=document.createEvent("Event")).initEvent("submit",!0,!0),n.dispatchEvent(t)):document.createEventObject&&(t=document.createEventObject(),n.fireEvent("onsubmit",t))},OK.userCache={_users:[],getFromUserCache:function(e){return this._users[e]},updateUserCache:function(e){for(var t in e)this._users[t]=e[t]},getLinkOnUserAvatar:function(e){return""}},OK.showTopicInLayerOnClick=function(e,t,n,o,r,i,a,l){if(e)for(var c=OK.eventTarget(t);c&&c!=e;c=c.parentNode)if("A"==c.tagName)return;if(document.getElementById("mtLayer"))return require(["OK/MediaLayer"],function(e){e.showTopicInLayer(n,o,r,!1,"",null,null,!1,i,a,!1,l)}),OK.stop(t)},OK.historyManager=OK.historyManager||{isHistorySupported:function(){return window.history&&window.history.pushState&&window.history.replaceState},getState:function(){return location.pathname+location.search||("undefined"!=typeof __gwt_currentHistoryItem&&__gwt_currentHistoryItem||"/")},replaceState:function(e){__gwt_currentHistoryItem=e,window.history.replaceState(e,document.title,e)},pushState:function(e){__gwt_currentHistoryItem=e,window.history.pushState(e,document.title,e)},_cache:{},putItemToCache:function(e,t){OK.historyManager._cache[e]=t},back:function(){return window.history.back()}},OK.ntf={close:OK.fn.empty,lock:OK.fn.empty},OK.configurations=function(){var r={};return{get:function(o){return new Promise(function(t){var n=r[o];n?t(n):require(["OK/utils/vanilla"],function(e){e.ajax({type:"GET",url:"/web-api/pms?name="+encodeURIComponent(o),headers:{"Content-Type":"application/json"},dataType:"json"}).then(function(e){n=JSON.parse(e.response.data),r[o]=n,t(n)},function(){require(["OK/logger"],function(e){e.error("configurations.loading.error",o)})})})})}}}(),OK.afterWindowOnloadAttach=function(e){function t(){0<performance.timing.loadEventEnd?e.call():setTimeout(t,100)}0<performance.timing.loadEventStart?setTimeout(t,10):window.addEventListener("load",function(){setTimeout(t)})},OK.sendBeacon=function(e,t){var n,o=!0;navigator.sendBeacon&&(n=new Blob([t],{type:"application/x-www-form-urlencoded"}),navigator.sendBeacon(e,n)&&(o=!1)),o&&(n=new Blob([t]),(t=new XMLHttpRequest).open("POST",e,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n))},OK.isStateRedesign=OK.isStateRedesign||function(){return!1},OK.topPanelHeight=function(){var e=document.documentElement.classList;return e.contains("small-toolbar")||e.contains("smooth-hiding")?48:76},OK.VideoPlayer=OK.VideoPlayer||{},OK.VideoPlayer.likeVideoFromFlash=function(o){window.navigateOnUrlFromJS?require(["jquery"],function(e){var t=e(".controls-list .controls-list_lk[data-l-id="+o+"]:first"),n=e(".widget-list .controls-list_lk[data-id1="+o+"]:first");(n=!n.length?e(".widget .controls-list_lk[data-id1="+o+"]:first"):n).length&&n.data("clickFromVideo",!0),t.length&&t.click(),n.length&&n.click()}):document.location.href="/"},OK.VideoPlayer.toggleSubscriptionFromFlash=function(t,n,o,r){require(["OK/utils/utils"],function(e){e.ajax({url:"/dk",data:{cmd:"VideoSubscriptionBlock","st.vvs.action":n,"st.vvs.aid":t,"st._aid":r}}).done(e.updateBlockModelCallback).done(o)})},OK.VideoPlayer.answerOnPoll=function(t,n,o,r){require(["OK/utils/utils"],function(e){e.ajax({type:"POST",url:"/web-api/annotations/poll/answer",data:{movieId:t,questionId:n,answerId:o}}).done(r)})},OK.VideoPlayer.reshare=function(t,n){require(["OK/utils/utils"],function(e){e.ajax({type:"GET",url:"/web-api/video/reshare/"+t}).done(n)})},OK.VideoPlayer.joinGroup=function(t,n){require(["OK/utils/utils"],function(e){e.ajax({url:"/dk",data:{cmd:"videoCommand",a:"joinGroup",gid:t}}).done(n).fail(n)})},OK.VideoPlayer.subscribeProfile=function(t,n){require(["OK/utils/utils"],function(e){e.ajax({url:"/dk",data:{cmd:"videoCommand",a:"subscribeProfile",pid:t}}).done(n).fail(n)})},OK.VideoPlayer.OKVideoOpenUserUpload=function(){window.navigateOnUrlFromJS?window.navigateOnUrlFromJS("/video/myVideo"):document.location.href="/video/myVideo"},OK.VideoPlayer.addWatched=function(e){e=parseInt(e,10),OK.VideoPlayer.storage.addWatched(e)},OK.VideoPlayer.openProduct=function(n,o){require(["OK/utils/vanilla"],function(t){var e=null!=o.groupId?{cmd:"PopLayerMediaTopicOpen","st.mt.id":o.id,"st.mt.ot":"GROUP_ADVERT","st.cmd":"altGroupAdvertsPage","st.groupId":o.groupId}:{cmd:"PopLayer","st.cmd":"mall","st.layer.cmd":"PopLayerMallProduct","st.layer.productId":o.id,"st.layer.section":o.section,"st.layer.ePT":o.campaignId||"cn:shoppingtv"};t.ajax({url:"/dk",data:e}).then(function(e){t.updateBlockModelCallback(e),OK.VideoPromo.openMovieMini(n,"mallProduct")})})},OK.VideoPlayer.openLogin=function(){require(["OK/utils/vanilla"],function(e){e.ajax({url:"/dk",data:{cmd:"PopLayerLogin","st.cmd":"anonymMain","st.redirect":decodeURIComponent(OK.historyManager.getState())}}).then(e.updateBlockModelCallback)})},OK.VideoPlayer.storage=function(){var n=function(){var e,t,n=new Date;try{return(e=window.localStorage).setItem(n,n),t=e.getItem(n)==n,e.removeItem(n),t&&e}catch(e){}}();function e(e){try{return n&&JSON.parse(n.getItem("_vp_"+e))}catch(e){return null}}function r(e,t){try{n&&n.setItem("_vp_"+e,JSON.stringify(t))}catch(e){}}function i(e,t,n){for(e.push(n);e.length>t;)e.shift();return e}var t=e("volume"),o=e("lastVideoQualityName"),a=e("cid"),l=e("lastSpeed"),c=e("lastVideoShowTime"),u=e("lastDayVideoShown"),s=e("lastDayAdvShown"),d=e("movielastPlayingTime")||[],f=e("watchedMoviesCache")||[],p=e("autoplayEnabled"),h=e("cinemaModeEnabled"),y=e("miniPlayerWidth"),m=e("miniPlayerTop"),g=e("miniPlayerLeft");return{getVolume:function(){return t},setVolume:function(e){r("volume",t=e)},getLastVideoQualityName:function(){return o},setLastVideoQualityName:function(e){r("lastVideoQualityName",o=e)},getCid:function(){return a},setCid:function(e){r("cid",a=e)},getLastSpeed:function(){return l},setLastSpeed:function(e){r("lastSpeed",l=e)},getLastVideoShowTime:function(){return c},setLastVideoShowTime:function(e){r("lastVideoShowTime",c=e)},getLastDayVideoShown:function(){return u},setLastDayVideoShown:function(e){r("lastDayVideoShown",u=e)},getLastDayAdvShown:function(){return s},setLastDayAdvShown:function(e){r("lastDayAdvShown",s=e)},getMovieLastPlayingTime:function(e){d=Array.isArray(d)?d:[],e=parseInt(e,10);for(var t=0,n=d.length;t<n;t++)if(d[t].id===e)return d[t].time;return 0},setMovieLastPlayingTime:function(e,t){d=Array.isArray(d)?d:[];for(var t={id:e=parseInt(e,10),time:t},n=0,o=d.length;n<o;n++)if(d[n].id===e){d.splice(n,1);break}r("movielastPlayingTime",i(d,500,t))},isWatched:function(e){return-1!=f.indexOf(e)},addWatched:function(e){r("watchedMoviesCache",i(f,1e3,e))},getAlreadySeenSimilar:function(e){return f.slice(-e)},isAutoplayEnabled:function(){return!1!==p},setAutoplayEnabled:function(e){r("autoplayEnabled",p=e)},isCinemaModeEnabled:function(){return!!h},setCinemaModeEnabled:function(e){r("cinemaModeEnabled",h=e)},getMiniPlayerWidth:function(){return y},setMiniPlayerWidth:function(e){r("miniPlayerWidth",y=e)},getMiniPlayerTop:function(){return m},setMiniPlayerTop:function(e){r("miniPlayerTop",m=e)},getMiniPlayerLeft:function(){return g},setMiniPlayerLeft:function(e){r("miniPlayerLeft",g=e)}}}(),OK.VVImageError=function(e){e.parentNode.removeChild(e)},OK.VideoPlayer.playMovie=function(t,n,o,r){require(["OK/VideoAutoplayLayer"],function(e){e.playMovie(t,n,o,r)})},OK.VideoPlayer.openMovie=function(n,o,r,i,a,l,c){require(["OK/VideoAutoplayLayer"],function(e){var t={"st.vpl.id":n};o&&(t["st._aid"]=o),l&&(t["st.cmd"]=l),r&&(t["st.vpl.vs"]="album",t["st.vpl.albumId"]=r),i&&(t["st.vpl.bu"]=i),a&&(t["st.vpl.vs"]="collage",t["st.vpl.vp"]=a),c&&(t["st.vpl.mini"]=!0),r||a||(t["st.vpl.dla"]=!0),e.navigateToMovie("/dk?cmd=PopLayerVideo",t,n,!0)})},OK.VideoPlayer.openShare=function(n,o){require(["OK/VideoAutoplayLayer"],function(e){var t={"st.vpl.sid":n};o&&(t["st._aid"]=o),e.navigateToMovie("/dk?cmd=PopLayerVideo",t,n,!0)})},OK.VideoPlayer.playNextMovie=function(t,n,o,r,i,a){require(["OK/VideoAutoplayLayer"],function(e){e.playNextMovie(t,n,o,r,i,a)})},OK.VideoPlayer.getNextMetadata=function(t,n,o,r,i){require(["OK/VideoAutoplayLayer"],function(e){e.getNextMetadata(t,n,o,r,!1,i)})},OK.VideoPlayer.getNextMetadataSmall=function(t,n,o,r,i){require(["OK/VideoAutoplayLayer"],function(e){e.getNextMetadata(t,n,o,r,!0,i)})},OK.VideoPlayer.toggleCinemaMode=function(e,t){var n;(t=!t&&e?e.slice(e.lastIndexOf("/")+1).replace(/(\?|&).*/,""):t)?(n="Open_Layer_From_Player",/^[0-9]+$/.test(t)?OK.VideoPlayer.openMovie(t,n):OK.VideoPlayer.openShare(t,n)):require(["OK/VideoAutoplayLayer"],function(e){OK.VideoPlayer.storage.setCinemaModeEnabled(e.toggleCinemaMode(!0))}),OK.VideoPlayer.closePopLayer(),OK.logger.success("video.cinema",e?"middlesize":"toggle")},OK.VideoPlayer.pauseAll=function(){require.defined("OK/OKVideo")&&require("OK/OKVideo").pause()},OK.VideoPlayer.restart=function(e,t){require.defined("OK/OKVideo")&&require("OK/OKVideo").retry(0,e,t)},OK.VideoPlayer.stop=function(){require.defined("OK/OKVideo")&&require("OK/OKVideo").stop()},OK.VideoPlayer.changeAnnotations=function(e){require.defined("OK/OKVideo")&&require("OK/OKVideo").changeAnnotations(e)},OK.VideoPlayer.onPlay=function(e,t,n){var o;!window.require.defined("OK/music2/app")||e||OK.VideoPlayer._musicTrackId||(e=(o=window.require("OK/music2/app")).getCurrentTrack())&&e.playing&&(OK.VideoPlayer._musicTrackId=e.id,o.pause())},OK.VideoPlayer.onPause=function(e,t,n){var o;window.require.defined("OK/music2/app")&&(o=require("OK/music2/app"),!e&&OK.VideoPlayer._musicTrackId&&(OK.VideoPlayer._musicTrackId=!1,o.play()))},OK.VideoPlayer.onEvent=function(t,n){require(["OK/utils/vanilla"],function(e){e.trigger(document,"__videoPlayerEvent",{name:t,data:n})})},OK.VideoPlayer.helpFeedback=function(t){require(["OK/utils/utils"],function(e){e.ajax({url:"/dk",data:{cmd:"PopLayer","st.layer.cmd":"PopLayerHelpFeedback","st.layer.categorynew":"SITE_SECTION","st.layer.subcategory":"VIDEO_AND_MUSIC","st.layer.categoryValue":"VIDEO","st.layer.origin":"VIDEO_LAYER","st.layer.badVideoLink":t||window.location.href}}).done(e.updateBlockModelCallback)})},OK.VideoPlayer.getRelated=function(t,e,n,o){require(["OK/utils/utils"],function(e){e.ajax({url:"/dk",data:{cmd:"videoRelatedCommand",id:t,count:36}}).done(n).fail(o)})},OK.VideoPlayer.yandexStat=function(e,t,n){var o={event:e};if(void 0!==t&&("volumechange"===e?o.volume=t:o.time=t),void 0!==n)switch(e){case"error":o.code=n;break;case"rewound":o.previousTime=n;break;case"adShown":case"started":case"timeupdate":o.duration=n;break;case"volumechange":o.muted=n}window.parent.postMessage(o,"*")},OK.VideoPlayer.watchLater=function(t,n,o,r){require(["OK/utils/utils"],function(e){e.ajax({url:"/dk",data:{cmd:"VideoWatchLaterBlock","st.vvwl.action":n?"watchLater":"removeWatchLater","st.vvwl.movieId":t}}).done(o).fail(r)})},OK.VideoPlayer.yandexError=function(e,t){var n=0;switch(e&&e.toLowerCase().replace(/_/g,"")){case"movienotready":case"uploading":case"creating":case"processing":case"offline":case"livenotstarted":case"liveended":case"onmoderation":n=100;break;case"moviedeleted":case"groupnotfound":case"usernotfound":n=101;break;case"blocked":case"censored":n=102;break;case"notfound":n=103;break;case"copyrightsrestricted":n=150;break;case"accessdenied":case"groupaccessdenied":case"closedprofile":case"limitedaccess":case"movienoaccess":case"weberrornoaccess":n=151;break;case"videoembeddisabled":case"videoembeddisabledpartner":n=152;break;case"videoembeddisabledcountry":case"movieunavailableforregion":n=153;break;case"player":n=5;break;default:n=0}OK.VideoPlayer.yandexStat("error",t||0,n)},OK.VideoPlayer.closePopLayer=function(){OK.hookModel.setHookContent("PopLayer","")},OK.VideoPlayer.pushTmrStat=function(t,n){require(["OK/tmr"],function(e){e.trackCustomGoal(t,n)})},OK.VideoPromo=OK.VideoPromo||{},OK.VideoPromo.MESSAGE_NAME="_okPromoMessage",OK.VideoPromo.sendMessage=function(e,t){var n;t&&t.chatId&&((n=document.getElementById(t.chatId))&&n.api.isOnline()&&("playVideo"===e?n.api.getChat().sendCall("ONLINE"):"closeVideo"===e&&n.api.getChat().sendCall("OFFLINE")));t={type:e,data:t,_random:(1e11*Math.random()).toFixed(0)};window.localStorage.setItem(OK.VideoPromo.MESSAGE_NAME,JSON.stringify(t)),window.localStorage.removeItem(OK.VideoPromo.MESSAGE_NAME)},OK.VideoPromo.openMovieMini=function(e,t){OK.VideoPlayer.openMovie(e,t,null,null,null,null,!0)},OK.VideoPromo.openMovieSameState=function(t,n){require(["OK/OKVideo"],function(e){OK.VideoPlayer.openMovie(t,n,null,null,null,null,e.hasMiniPlayer())})},OK.VideoPromo.hideMovie=function(t){require(["jquery"],function(e){e=e("#okLiveMapContainer"),e=e.length&&e.data("okLiveMapObj");e&&e.hideTranslation(t)})};

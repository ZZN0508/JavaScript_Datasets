!function(e){var t=function(n,d){"use strict";if(d.getElementsByClassName){var u,f,m=d.documentElement,s=n.Date,a=n.HTMLPictureElement,o="addEventListener",z="getAttribute",t=n[o],c=n.setTimeout,i=n.requestAnimationFrame||c,r=n.requestIdleCallback,y=/^picture$/i,l=["load","error","lazyincluded","_lazyloaded"],g={},h=Array.prototype.forEach,v=function(e,t){return g[t]||(g[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),g[t].test(e[z]("class")||"")&&g[t]},p=function(e,t){v(e,t)||e.setAttribute("class",(e[z]("class")||"").trim()+" "+t)},C=function(e,t){(t=v(e,t))&&e.setAttribute("class",(e[z]("class")||"").replace(t," "))},b=function(t,i,e){var n=e?o:"removeEventListener";e&&b(t,i),l.forEach(function(e){t[n](e,i)})},A=function(e,t,i,n,a){var s=d.createEvent("Event");return(i=i||{}).instance=u,s.initEvent(t,!n,!a),s.detail=i,e.dispatchEvent(s),s},E=function(e,t){var i;!a&&(i=n.picturefill||f.pf)?(t&&t.src&&!e[z]("srcset")&&e.setAttribute("srcset",t.src),i({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},w=function(e,t){return(getComputedStyle(e,null)||{})[t]},M=function(e,t,i){for(i=i||e.offsetWidth;i<f.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},N=(Ae=[],Ee=be=[],(e=function(e,t){pe&&!t?e.apply(this,arguments):(Ee.push(e),Ce||(Ce=!0,(d.hidden?c:i)(we)))})._lsFlush=we=function(){var e=Ee;for(Ee=be.length?Ae:be,Ce=!(pe=!0);e.length;)e.shift()();pe=!1},e),e=function(i,e){return e?function(){N(i)}:function(){var e=this,t=arguments;N(function(){i.apply(e,t)})}},_=function(e){function t(){var e=s.now()-n;e<99?c(t,99-e):(r||a)(a)}var i,n,a=function(){i=null,e()};return function(){n=s.now(),i=i||c(t,99)}};!function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in f=n.lazySizesConfig||n.lazysizesConfig||{},t)e in f||(f[e]=t[e]);n.lazySizesConfig=f,c(function(){f.init&&T()})}();var W=(ie=/^img$/i,ne=/^iframe$/i,ae="onscroll"in n&&!/(gle|ing)bot/.test(navigator.userAgent),re=-1,le=function(e){oe--,e&&e.target&&b(e.target,le),e&&!(oe<0)&&e.target||(oe=0)},ce=function(e,t){var i,n=e,a="hidden"==w(d.body,"visibility")||"hidden"!=w(e.parentNode,"visibility")&&"hidden"!=w(e,"visibility");for(I-=t,G+=t,q-=t,j+=t;a&&(n=n.offsetParent)&&n!=d.body&&n!=m;)(a=0<(w(n,"opacity")||1))&&"visible"!=w(n,"overflow")&&(i=n.getBoundingClientRect(),a=j>i.left&&q<i.right&&G>i.top-1&&I<i.bottom+1);return a},U=de=function(){var e,t,i,n,a,s,o,r,l,c=u.elements;if((H=f.loadMode)&&oe<8&&(e=c.length)){t=0,re++,null==K&&("expand"in f||(f.expand=500<m.clientHeight&&500<m.clientWidth?500:370),J=f.expand,K=J*f.expFactor),se<K&&oe<1&&2<re&&2<H&&!d.hidden?(se=K,re=0):se=1<H&&1<re&&oe<6?J:0;for(;t<e;t++)if(c[t]&&!c[t]._lazyRace)if(ae)if(l!==(s=!(r=c[t][z]("data-expand"))||!(s=+r)?se:s)&&(P=innerWidth+s*Q,$=innerHeight+s,o=-1*s,l=s),i=c[t].getBoundingClientRect(),(G=i.bottom)>=o&&(I=i.top)<=$&&(j=i.right)>=o*Q&&(q=i.left)<=P&&(G||j||q||I)&&(f.loadHidden||"hidden"!=w(c[t],"visibility"))&&(k&&oe<3&&!r&&(H<3||re<4)||ce(c[t],s))){if(he(c[t]),a=!0,9<oe)break}else!a&&k&&!n&&oe<4&&re<4&&2<H&&(R[0]||f.preloadAfterLoad)&&(R[0]||!r&&(G||j||q||I||"auto"!=c[t][z](f.sizesAttr)))&&(n=R[0]||c[t]);else he(c[t]);n&&!a&&he(n)}},X=oe=se=0,Y=f.throttleDelay,Z=f.ricTimeout,ee=function(){V=!1,X=s.now(),U()},te=r&&49<Z?function(){r(ee,{timeout:Z}),Z!==f.ricTimeout&&(Z=f.ricTimeout)}:e(function(){c(ee)},!0),me=e(fe=function(e){p(e.target,f.loadedClass),C(e.target,f.loadingClass),b(e.target,ze),A(e.target,"lazyloaded")}),ze=function(e){me({target:e.target})},ye=function(e){var t,i=e[z](f.srcsetAttr);(t=f.customMedia[e[z]("data-media")||e[z]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)},ge=e(function(e,t,i,n,a){var s,o,r,l;(r=A(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?p(e,f.autosizesClass):e.setAttribute("sizes",n)),i=e[z](f.srcsetAttr),n=e[z](f.srcAttr),a&&(o=(s=e.parentNode)&&y.test(s.nodeName||"")),l=t.firesLoad||"src"in e&&(i||n||o),r={target:e},l&&(b(e,le,!0),clearTimeout(D),D=c(le,2500),p(e,f.loadingClass),b(e,ze,!0)),o&&h.call(s.getElementsByTagName("source"),ye),i?e.setAttribute("srcset",i):n&&!o&&(ne.test(e.nodeName)?function(t,i){try{t.contentWindow.location.replace(i)}catch(e){t.src=i}}(e,n):e.src=n),a&&(i||o)&&E(e,{src:n})),e._lazyRace&&delete e._lazyRace,C(e,f.lazyClass),N(function(){(!l||e.complete&&1<e.naturalWidth)&&(l?le(r):oe--,fe(r))},!0)}),ve=function(){var e;k||(s.now()-O<999?c(ve,999):(e=_(function(){f.loadMode=3,ue()}),k=!0,f.loadMode=3,ue(),t("scroll",function(){3==f.loadMode&&(f.loadMode=2),e()},!0)))},{_:function(){O=s.now(),u.elements=d.getElementsByClassName(f.lazyClass),R=d.getElementsByClassName(f.lazyClass+" "+f.preloadClass),Q=f.hFac,t("scroll",ue,!0),t("resize",ue,!0),n.MutationObserver?new MutationObserver(ue).observe(m,{childList:!0,subtree:!0,attributes:!0}):(m[o]("DOMNodeInserted",ue,!0),m[o]("DOMAttrModified",ue,!0),setInterval(ue,999)),t("hashchange",ue,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){d[o](e,ue,!0)}),/d$|^c/.test(d.readyState)?ve():(t("load",ve),d[o]("DOMContentLoaded",ue),c(ve,2e4)),u.elements.length?(de(),N._lsFlush()):ue()},checkElems:ue=function(e){var t;(e=!0===e)&&(Z=33),V||(V=!0,(t=Y-(s.now()-X))<0&&(t=0),e||t<9?te():c(te,t))},unveil:he=function(e){var t,i=ie.test(e.nodeName),n=i&&(e[z](f.sizesAttr)||e[z]("sizes")),a="auto"==n;(!a&&k||!i||!e[z]("src")&&!e.srcset||e.complete||v(e,f.errorClass)||!v(e,f.lazyClass))&&(t=A(e,"lazyunveilread").detail,a&&x.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,oe++,ge(e,t,a,n,i))}}),x=(F=e(function(e,t,i,n){var a,s,o;if(e._lazysizesWidth=n,e.setAttribute("sizes",n+="px"),y.test(t.nodeName||""))for(s=0,o=(a=t.getElementsByTagName("source")).length;s<o;s++)a[s].setAttribute("sizes",n);i.detail.dataAttr||E(e,i.detail)}),{_:function(){B=d.getElementsByClassName(f.autosizesClass),t("resize",L)},checkElems:L=_(function(){var e,t=B.length;if(t)for(e=0;e<t;e++)S(B[e])}),updateElem:S=function(e,t,i){var n=e.parentNode;n&&(i=M(e,n,i),(t=A(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=t.detail.width)&&i!==e._lazysizesWidth&&F(e,n,t,i))}}),T=function(){T.i||(T.i=!0,x._(),W._())};return u={cfg:f,autoSizer:x,loader:W,init:T,uP:E,aC:p,rC:C,hC:v,fire:A,gW:M,rAF:N}}var B,F,S,L,R,k,D,H,O,P,$,I,q,j,G,J,K,Q,U,V,X,Y,Z,ee,te,ie,ne,ae,se,oe,re,le,ce,de,ue,fe,me,ze,ye,ge,he,ve,pe,Ce,be,Ae,Ee,we,e}(e,e.document);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}(window);

YUI.add("history-html5",function(s,t){function o(){o.superclass.constructor.apply(this,arguments)}var e=s.HistoryBase,i=s.Lang,a=s.config.win,n=s.config.useHistoryHTML5,l="popstate",p=e.SRC_REPLACE;s.extend(o,e,{_init:function(t){var e=a.history.state;s.Object.isEmpty(e)&&(e=null),(t=t||{}).initialState&&"object"===i.type(t.initialState)&&"object"===i.type(e)?this._initialState=s.merge(t.initialState,e):this._initialState=e,s.on("popstate",this._onPopState,a,this),o.superclass._init.apply(this,arguments)},_storeState:function(t,e,i){t!==l&&a.history[t===p?"replaceState":"pushState"](e,i.title||s.config.doc.title||"",i.url||null),o.superclass._storeState.apply(this,arguments)},_onPopState:function(t){this._resolveChanges(l,t._event.state||null)}},{NAME:"historyhtml5",SRC_POPSTATE:l}),s.Node.DOM_EVENTS.popstate||(s.Node.DOM_EVENTS.popstate=1),s.HistoryHTML5=o,(!0===n||!1!==n&&e.html5)&&(s.History=o)},"3.12.0",{optional:["json"],requires:["event-base","history-base","node-base"]});

window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2021-06-04T14:58:48Z",environment:"production",turbineBuildDate:"2021-04-26T16:54:28Z",turbineVersion:"27.1.3"},dataElements:{"product.custom.app-refresh-subscription:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"refreshInAppSubscriptions",caseInsensitive:!0}},"page.timing.time-total:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTotal"}},"editorial.custom.[categories]:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=[],e=_satellite.getVar("Editorial | Topics:Array [co]"),n=_satellite.getVar("editorial.info.channel:sd"),a=_satellite.getVar("editorial.info.subchannel:sd");return e.forEach(function(e){t.push(n+":"+a+":"+e)}),n+","+n+":"+a+","+t.toString()}catch(e){return}}}},"editorial.attributes.is_breaking:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_breaking",callback:function(e){return!0===e?"is_breakingNews":"not_breakingNews"},doCustomCode:!0,convertToString:!1}},"page.custom.url-search-sara_icid:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"sara_icid",caseInsensitive:!0}},"page.timing.previous-performance-track-pageview:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.track_pageview}}},"editorial.info.channel+subchannel:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("editorial.info.channel:sd")+":"+_satellite.getVar("editorial.info.subchannel:sd")}}},"Page | Referrer: default  [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"referrer"}},"qs.value.launch-property:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.property.name"}},"editorial.attributes.is_listExcluded:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_listExcluded",callback:function(e){return!0===e?"is_listExcluded":"not_listExcluded"},doCustomCode:!0,convertToString:!1}},"editorial.info.date_published:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.date_published",convertToString:!1}},"event.attributes.contains_ad:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.contains_ad",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.referrer-category:map":{defaultValue:"from_nocat_nodef",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"https:\\/\\/(\\w*\\.){0,2}www\\.spiegel\\.de\\/?$",method:"regex",output:"from_int_homepage"},1:{input:".+\\.spiegel\\.de\\/consent.+",method:"regex",output:"from_int_consent"},2:{input:".*news\\.google.*|.*news\\.url\\.google.*",method:"regex",output:"from_ext_googlenews"},3:{input:"\\.google\\.",method:"regex",output:"from_ext_google"},4:{input:"\\.facebook\\.",method:"regex",output:"from_ext_facebook"},5:{input:".+(harvardbusinessmanager\\.de|manager-magazin\\.de|bento\\.de).*",method:"regex",output:"from_ext_spiegelgruppe"},6:{input:"spiegel.de/",method:"contains",output:"from_int_other"},7:{input:"\\0",method:"exact match",output:"from_ext_unknown"},8:{input:".",method:"contains",output:"from_ext_other"},size:9,dataElement:"%page.custom.referrer-url-without-search:cc%",defaultValueEmpty:!0}},"Page | is PUR Tracking [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_consent_required",callback:function(e){return!1===e},doCustomCode:!0,convertToString:!1}},"event.attributes.target_url:sd:rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.target_url",callback:function(e){return!0===e.includes("traffic.outbrain.com")?e.split("?")[0]:e},doCustomCode:!0,convertToString:!1}},"Page | URL: Path L2 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[2]}}},"page.timing.time-hidden:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTabbedOut"}},"_qs.value.launch-property-turbine:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%qs.value.launch-property:jsv%"},{delimiter:"|",dataElement:"%qs.value.launch-version:jsv%"},{delimiter:"|",dataElement:"%qs.value.launch-version-date:jsv%"}]}},"Embed | Gallery ID [c;prov]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(document.querySelector("[data-component=GalleryTeaser]").getAttribute("data-settings")).id}}},"click.custom.on-page-load-headline:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).headline}catch(e){return}}}},"external.marketing.bing-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devSPIEGEL"},1:{input:"production",method:"exact match",output:"5279339"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"page.info.referrer:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.referrer",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.campaign-id-external:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=new URL(window.location).searchParams.get("sara_ecid")||("redirect_page"==_satellite.getVar("Page | is Redirect Page [gl]")?new URL(document.referrer).searchParams.get("sara_ecid"):null);return"string"!=typeof e?"":"sea_pd_"==e.substring(0,7)?_satellite.getVar("util.function.check-campaign-parameter:cc")(e):e||void 0}catch(e){return}}}},"editorial.attributes.has_author:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_author",callback:function(e){return!0===e?"has_author":"no_author"},doCustomCode:!0,convertToString:!1}},"_config.store.sara-count-end-of-hp:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_count_eoh"}},"event.attributes.volume:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.volume",callback:function(){},doCustomCode:!1,convertToString:!1}},"User | has SSO ID [gl]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.info.tracking_id",callback:function(e){return"string"==typeof e?"has_ssoID":"no_ssoID"},doCustomCode:!0,convertToString:!1}},"Debug: Marketing Pixel | Facebook ID [vm]":{defaultValue:"devSPIEGEL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"true"==localStorage.getItem("sara.debug.facebook-pixel")||"1"==localStorage.getItem("sara.debug.facebook-pixel")?"468291950412468":"devSPIEGEL"}}},"event.attributes.viewable:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.viewable",callback:function(){},doCustomCode:!1,convertToString:!1}},"Event | Source [co]":{defaultValue:"default",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.source",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.attributes.is_mobile:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_mobile",callback:function(e){return!0!==e&&"desktop"},doCustomCode:!0,convertToString:!1}},"user.custom.page-views-lifetime:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"lifetimePageViewCount"}},"Page | URL: Path L4 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[4]}}},"editorial.info.subchannel:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.subchannel",convertToString:!1}},"Product | ID in App [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"iapTrackingId",caseInsensitive:!0}},"event.custom.click-type:map":{defaultValue:"other_click",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"http",method:"contains",output:"link_click"},size:1,dataElement:"%event.attributes.target_url:sd%",defaultValueEmpty:!0}},"User | has Consent [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(_satellite.getVar("Function | Parse (JWToken) [gl]")(_satellite.getVar("Cookie | Consent [gl]")).value)return"has_consent"}catch(e){return"no_consent"}}}},"qs.value.launch-buildDate:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.buildDate"}},"Page | URL: Host + Path  [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.protocol+"//"+location.hostname+location.pathname}}},"randomNumber | 1000 | Visitor":{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/randomNumber.js",settings:{max:1e3,min:0}},"page.attributes.is_phone:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_phone",convertToString:!1}},"Marketing Pixel | Facebook Campaign Landing Page Events [lo]":{defaultValue:"not_defined",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"c5e0263f-042a-4b18-b053-00584795fe8c",method:"exact match",output:"ViewLaunchCampaignLP"},size:1,dataElement:"%editorial.info.article_id:sd%",defaultValueEmpty:!0}},"event.attributes.item-series:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.series",callback:function(){},doCustomCode:!1,convertToString:!1}},"Click | on Article Component: data-component [prov]":{defaultValue:"",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"data-component",elementSelector:"article [data-component]"}},"Page | Previous Data Check [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!_satellite.getVar("page.custom.on-page-load-previous-data:cookie")||!!_satellite.getVar("click.custom.on-page-load-attributes:cookie")}}},"user.segment.has_conditional_access:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_conditional_access",convertToString:!1}},"event.info.action:sd":{defaultValue:"",forceLowerCase:!0,modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.info.action",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.custom.minutes-on-site:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"minutesOnSite"}},"_config.store.sara-prev-page-data:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_prev_data"}},"page.timing.performance-page-render:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/pageRenderTime.js",settings:{}},"page.info.canonical_url:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.canonical_url",callback:function(e){return e||_satellite.getVar("Page | URL: Host + Path [gl]")},doCustomCode:!0,convertToString:!1}},"page.timing.performance-total-load:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/totalPageLoadTime.js",settings:{}},"event.attributes.item:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.info.language:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.language",convertToString:!1}},"editorial.author.names:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.author.names",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.autostart:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.autostart",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-search-referrer:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ref",caseInsensitive:!0}},"qs.value.launch-version:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.turbineVersion"}},"event.custom.click-paywall:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:">paywall-purchase-button",method:"contains",output:"paywall:click"},size:1,dataElement:"%event.attributes.click_id:sd%",defaultValueEmpty:!0}},"user.segment.is_loggedIn:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.is_loggedIn",callback:function(e){return!0===e?"logged_in":"logged_out"},doCustomCode:!0,convertToString:!1}},"external.optimization.hotjar-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"staging",method:"regex",output:"1632107"},1:{input:"production",method:"exact match",output:"90357"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"Page | Path Depth [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/").length-1}}},"page.timing.previous-time-active:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_active}}},"Page | URL: targetURL or current [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var t=new Url(_satellite.getVar("Page | Target URL [gl]")).pathname}catch(e){t=_satellite.getVar("page.custom.url-path:pi")}return t}}},"page.timing.previous-performance-server-response:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.server_response}}},"User | is New [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"isNewVisitor"}},"_config.value.rsid-dev:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"spiegel.ng.spieg.qsdev"}},"paywall.attributes.is_active:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.attributes.is_active",convertToString:!1}},"event.attributes.item-description:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.description",callback:function(){},doCustomCode:!1,convertToString:!1}},"util:get.subdomain-from-host:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){e=_satellite.getVar(e).split(".");return e.splice(0,e.length-2).reverse().join(".")}}}},"_config.store.sara-count-end-of-page:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_count_eop"}},"editorial.category.genre:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.genre",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.info.channel:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.channel",convertToString:!1}},"Cookie | Day Usage [co]":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_user_day"}},"_config.store.sara-user-day:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_user_day"}},"page.timing.previous-performance-repsonse-complete:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.response_complete}}},"Page | IVW Code [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[],n=_satellite.getVar("Page | IVW Code AGOF Substring [co]");switch("de"===(t.push("__01_"),_satellite.getVar("page.info.language:sd"))?t.push("d"):t.push("a"),_satellite.getVar("event.info.action:sd",e)){case"page_data_ready":case"virtual_page":t.push("b");break;case"video":t.push("v");break;case"audio":t.push("a");break;default:t.push("b")}return t.push("r"),"homepage"!=_satellite.getVar("page.category.route:sd")||/video|audio/.test(_satellite.getVar("event.info.action:sd"))?t.push("s"):t.push("h"),"mobspieg"==_satellite.getVar("Page | IVW Site [co]")||"mobmamag"==_satellite.getVar("Page | IVW Site [co]")?t.push("m"):t.push("o"),t.push("w"),t.push("f"),e=_satellite.getVar("Page | IVW Inhalt [co]"),t.push(e),t.push("_"+n),n=t.toString().replace(/,/g,""),/__01_\w{10}(_.+)?$/.test(n)?n:"err:novalidcode"}}},"randomNumber|100|Visitor":{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/randomNumber.js",settings:{max:100,min:0}},"user.segment.has_paid_access:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_paid_access",callback:function(e){return!0===e?"has_paidAccess":"no_paidAccess"},doCustomCode:!0,convertToString:!1}},"Cookie | Consent [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"polygon_consent"}},"_qs.value.event-action-name-label:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%event.info.action:sd%"},{delimiter:"|",dataElement:"%event.info.name:sd%"},{delimiter:"|",dataElement:"%event.attributes.label:sd%"}]}},"user.custom.landing-page:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"landingPage"}},"page.timing.previous-performance-total-load:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.total_load}}},"event.attributes.label:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.label",convertToString:!1}},"event.attributes:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.category.type:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.type",callback:function(){},doCustomCode:!1,convertToString:!1}},"external.vg_wort.id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"external.vg_wort.id",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-path:pi":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"pathname"}},"page.category.route:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.category.route",convertToString:!1}},"_config.store.media-session-play:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_media_sp"}},"page.timing.previous-time-first-visible:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_first_visible}}},"editorial.attributes.has_gallery:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_gallery",callback:function(e){return!0===e?"has_gallery":"no_gallery"},doCustomCode:!0,convertToString:!1}},"Marketing Pixel | Facebook Events [lo]":{defaultValue:"not_defined",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"article|no_paywall|free|has_paidAccess",method:"exact match",output:"ViewFreeContent_Subscriber"},1:{input:"article|no_paywall|free",method:"starts with",output:"ViewFreeContent"},2:{input:"article|no_paywall|paid",method:"starts with",output:"ViewPaidContent"},3:{input:"article|no_paywall|conditional",method:"starts with",output:"ViewConditionalContent"},4:{input:"article|has_paywall|",method:"starts with",output:"ViewPaywall"},5:{input:"homepage|",method:"starts with",output:"ViewHomePage"},6:{input:"plus|",method:"starts with",output:"ViewPlusCP"},size:7,dataElement:"%page.category.route:sd%|%paywall.attributes.is_active:sd.rw%|%paywall.category.type:sd%|%user.segment.has_paid_access:sd.rw%",defaultValueEmpty:!0}},"util.function.get-polygon-from-ce-id:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){function t(e,t,n){t-=e.length,n=n||" ";return t<=0?e:new Array(1+t).join(n)+e}var n,a,r=function(e){e.version="1.2.0";var s=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();e.table=s,e.bstr=function(e,t){for(var n=-1^t,a=e.length-1,r=0;r<a;)n=(n=n>>>8^s[255&(n^e.charCodeAt(r++))])>>>8^s[255&(n^e.charCodeAt(r++))];return-1^(n=r===a?n>>>8^s[255&(n^e.charCodeAt(r))]:n)},e.buf=function(e,t){if(1e4<e.length)return function(e,t){for(var n=-1^t,a=e.length-7,r=0;r<a;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])];for(;r<7+a;)n=n>>>8^s[255&(n^e[r++])];return-1^n}(e,t);for(var n=-1^t,a=e.length-3,r=0;r<a;)n=(n=(n=(n=n>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])];for(;r<3+a;)n=n>>>8^s[255&(n^e[r++])];return-1^n},e.str=function(e,t){for(var n,a,r=-1^t,i=0,o=e.length;i<o;)r=(n=e.charCodeAt(i++))<128?r>>>8^s[255&(r^n)]:n<2048?(r=r>>>8^s[255&(r^(192|n>>6&31))])>>>8^s[255&(r^(128|63&n))]:55296<=n&&n<57344?(n=64+(1023&n),a=1023&e.charCodeAt(i++),(r=(r=(r=r>>>8^s[255&(r^(240|n>>8&7))])>>>8^s[255&(r^(128|n>>2&63))])>>>8^s[255&(r^(128|a>>6&15|(3&n)<<4))])>>>8^s[255&(r^(128|63&a))]):(r=(r=r>>>8^s[255&(r^(224|n>>12&15))])>>>8^s[255&(r^(128|n>>6&63))])>>>8^s[255&(r^(128|63&n))];return-1^r}};return"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==typeof exports?r(exports):"function"==typeof define&&define.amd?define(function(){var e={};return r(e),e}):r(n={}):r(n={}),a=e,t((n.str(a)>>>0).toString(16),8,"0")+"-0001-0001-0000-"+t(a,12,"0")}}}},"editorial.author.abbreviation:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.author.abbreviation",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.category.type:sd":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"article",method:"exact match",output:"%editorial.category.style:sd.rw%"},1:{input:".*",method:"regex",output:"%page.category.route:sd%"},size:2,dataElement:"%page.category.route:sd%",defaultValueEmpty:!0}},"event.custom.url-name-prefix:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"bento.de",method:"contains",output:"be"},1:{input:"manager-magazin.de",method:"contains",output:"mm"},2:{input:"spiegel.de",method:"contains",output:"sp"},size:3,dataElement:"%event.custom.url-hostname:cc%",defaultValueEmpty:!0}},"editorial.attributes.has_author:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_author",callback:function(){},doCustomCode:!1,convertToString:!1}},"User | has Visitor API [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof Visitor?"has_visitorAPI":"no_visitorAPI"}}},"Product | Type in App [co]":{defaultValue:"not_defined",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"sp_iap_subscription_audioplus",method:"regex matching",output:"AUDIO+"},1:{input:"sp\\w+iap\\w+subscription",method:"regex matching",output:"SPIEGEL+"},2:{input:"spiegel_no_ads_monthly\\w*",method:"regex matching",output:"PUR"},3:{input:"de\\.spiegel\\.spon\\.(\\w+\\.)?SpiegelPlusMonthly\\w*",method:"regex matching",output:"SPIEGEL+"},4:{input:"de\\.spiegel\\.spon\\.(\\w+\\.)?SpiegelAdFreeMonthly\\w*",method:"regex matching",output:"PUR"},5:{input:"de\\.spiegel\\.spon\\.(\\w+\\.)?AudioPlusMonthly\\w*",method:"regex matching",output:"AUDIO+"},size:6,dataElement:"%Product | ID in App [co]%",defaultValueEmpty:!1}},"event.custom.url-name-substring:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("event.custom.url-pathname:cc"),t=e.match(/(\/.+\/)/g),n=/(\w+)-(\d{5,}){1}-?\d{0,2}\.html|(\w+)-([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}){1}|(\d+)\/(?:#\w+)*$/g.exec(e);if(n){var e=n[4]||_satellite.getVar("util.function.get-polygon-from-ce-id:cc")(n[2]),a=n[1]||n[3];switch(a){case"a":a="article";break;case"fotostrecke":a="gallery"}return[a,e].join(" > ")}return["other",t].join(" > ").replace(/.>.$/,"")}}},"editorial.attributes.is_exclusive:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_exclusive",callback:function(e){return!0===e?"is_exclusive":"not_exclusive"},doCustomCode:!0,convertToString:!1}},"event.attributes.click_id:sd":{defaultValue:"",forceLowerCase:!0,modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.click_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"_config.value.data-model-version:const":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"v1.7.23"}},"event.attributes.item-title:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.title",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.attributes.is_comments_enabled:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_comments_enabled",callback:function(e){return!0===e?"comments_enabled":"no_comments_enabled"},doCustomCode:!0,convertToString:!1}},"external.ivw.iam_data:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{st:_satellite.getVar("Page | IVW Site [co]"),cp:_satellite.getVar("Page | IVW Code [co]"),sv:_satellite.getVar("external.ivw.survey:map"),sc:"yes"}}}},"_config.store.sara-aam-uuid:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_aam_uuid"}},"event.custom.url-subdomains:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("util:get.subdomain-from-host:cc")("event.custom.url-hostname:cc")}}},"page.timing.time-active:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeEngaged"}},"page.timing.previous-performance-page-render:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.page_render}}},"Form | Status Code [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.status.code",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.headline:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.headline",convertToString:!1}},"event.attributes.mute:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.mute",callback:function(e){return!0===e?"is_muted":"not_muted"},doCustomCode:!0,convertToString:!1}},"page.attributes.subchannel_slug:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.subchannel_slug",callback:function(e){return e||_satellite.getVar("page.custom.url-path:pi").toString().split("/")[2]||_satellite.getVar("page.category.route:sd")},doCustomCode:!0,convertToString:!1}},"paywall.attributes.is_active:sd.rwAT":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.attributes.is_active",callback:function(e){return!0===e?"paywall_active":"paywall_inactive"},doCustomCode:!0,convertToString:!1}},"Form | Field Opt-In (String) [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.fields.opt_in",callback:function(e){return!0===e?"has_optIn":"no_optIn"},doCustomCode:!0,convertToString:!1}},"page.timing.previous-performance-response-complete:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.response_complete}}},"editorial.category.style:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.style",callback:function(e){return"default"===e?"article":e},doCustomCode:!1,convertToString:!1}},"RADAR | Conversion String [gl]":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"conversion"},{delimiter:":",dataElement:"%page.info.platform:sd%"}]}},"page.timing.previous-performance-load-libraries:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.load_libraries}}},"Page URL | Facebook Click ID [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return new URL(window.location).searchParams.get("fbclid")||("redirect_page"==_satellite.getVar("Page | is Redirect Page [gl]")?new URL(document.referrer).searchParams.get("fbclid"):null)}catch(e){return}}}},"event.attributes.duration:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.duration",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.custom.is_new:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"isNewVisitor"}},"page.attributes.is_tablet:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_tablet",callback:function(e){return!0===e&&"tablet"},doCustomCode:!0,convertToString:!1}},"Cookie | Dynamic Paygate [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return decodeURIComponent(_satellite.cookie.get("sara_target_dpg"))}}},"Function | Parse (JWToken) [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){e=(e.split(".")[1]||e).replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)}}}},"editorial.info.thumbnail_url:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=document.querySelector('[data-image-el="img"]').src}catch(e){}return e}}},"Page | Referrer [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.referrer",callback:function(e){return e||document.referrer||_satellite.getVar("click.custom.on-page-load-referrer:cc")},doCustomCode:!0,convertToString:!1}},"event.info.name:sd":{defaultValue:"",forceLowerCase:!0,modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.info.name",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.timing.previous-time-hidden:cc ":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_hidden}}},"Page | PUR opt-outs [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0===_satellite.getVar("Config | is PUR Tracking [co]")?'{"aam":false, "target": false}':void 0}}},"Link | Social Share [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return-1<["facebook.com/share.php"].indexOf(_satellite.getVar("event.attributes.target_url:sd"))}}},"user.segment.has_spiegelNoAdsMonthly_access:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",convertToString:!1}},"page.custom.url-hash:dom":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"hash",elementSelector:"document.location"}},"external.ivw.survey:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"contains",output:"ke"},1:{input:"true",method:"starts with",output:"mo"},2:{input:"false",method:"starts with",output:"in"},size:3,dataElement:"%page.attributes.is_phone:sd%|%page.category.route:sd%",defaultValueEmpty:!0}},"event.attributes.el:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.el",convertToString:!1}},"event.attributes.size.array[0]:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.size",callback:function(e){return e[0]},doCustomCode:!0,convertToString:!1}},"editorial.info.header_image_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.header_image_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-subdomains:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("util:get.subdomain-from-host:cc")("page.custom.url-hostname:pi")}}},"Form | Class [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.category.class",callback:function(){},doCustomCode:!1,convertToString:!1}},"click.custom.on-page-load-position:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).pos}catch(e){return}}}},"paywall.info.position:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.info.position",convertToString:!1}},"editorial.attributes.has_noContentAds:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_noContentAds",callback:function(e){return!0===e?"no_contentAds":"has_contentAds"},doCustomCode:!0,convertToString:!1}},"event.attributes.state:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.state",callback:function(e){return e||_satellite.getVar("Event | Source [co]")},doCustomCode:!0,convertToString:!1}},"external.marketing.google-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devSPIEGEL"},1:{input:"production",method:"exact match",output:"1036667778"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},target_test_cookie:{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"target_spiegel_test"}},"page.timing.time-background:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTabbedOut"}},"editorial.info.date_modified:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.date_modified",callback:function(e){return e.match(2020)||e.match(2021)?"actual":"old"},doCustomCode:!0,convertToString:!1}},"saras_data.state:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return SARAs_data.getState()}}},"page.custom.referrer-domain:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Page | Referrer [gl]").split("/")[2]}}},"Page | URL: Path L1 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[1]}}},"Hit | Timing Stats (minutes) [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return[Math.floor(window.stats.status.timeTotal/1e3/60),Math.floor(window.stats.status.timeEngaged/1e3/60),Math.floor(window.stats.status.timeTabbedIn/1e3/60),Math.floor(window.stats.status.timeTabbedOut/1e3/60),Math.floor(window.stats.status.timeFirstVisible/1e3/60)].join("~")}catch(e){}}}},"event.attributes.mute:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.mute",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.previous-article-channel:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).page.channel}catch(e){return}}}},"page.custom.previous-free-adslots-count:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).advertising.free_adslots_count}catch(e){return}}}},"click.custom.on-page-load-click-id:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).click_id}catch(e){return}}}},"Session | Page View Count [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"sessionPageViewCount"}},"editorial.info.date_modified:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.date_modified",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page URL | Newsletter ID [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return new URL(window.location).searchParams.get("nlid")||("redirect_page"==_satellite.getVar("Page | is Redirect Page [gl]")?new URL(document.referrer).searchParams.get("nlid"):null)}catch(e){return}}}},"user.custom.device-type:cc":{defaultValue:"not_detected",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.attributes.is_mobile:sd.rw")||_satellite.getVar("page.attributes.is_phone:sd.rw")||_satellite.getVar("page.attributes.is_tablet:sd.rw")}}},"event.custom.url-hostname:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("event.attributes.target_url:sd");return e?new URL(e).hostname:void 0}}},"Page | IVW Code AGOF Substring [co]":{defaultValue:"",storageDuration:"pageview",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%Page | IVW Code AGOF Substring: Channel/Subchannel [co]%"},{delimiter:"",dataElement:"%Page | IVW Code AGOF Substring: Paid/Free [co] %"}]}},"editorial.attributes.has_noAds:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_noAds",callback:function(e){return!0===e?"no_ads":"has_ads"},doCustomCode:!0,convertToString:!1}},"Page | is Redirect Page [gl]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"consent|",method:"starts with",output:"redirect_page"},1:{input:"|404",method:"contains",output:"redirect_page"},size:2,dataElement:"%page.category.route:sd%|%page.custom.url-search-from:qsp%",defaultValueEmpty:!0}},"click.custom.on-page-load-referrer:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).referrer}catch(e){return null}}}},"Hit | Timestamp ISO [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(new Date).toISOString()}}},"User | has Emetriq ID [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0===_satellite.cookie.get("adp_pid")?"no_emetriqID":"has_emetriqID"}}},"util.function.check-campaign-parameter:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t="sea";if("string"!=typeof e)return"";if("sea_pd_"!==e.substring(0,7))return"";var n,a=e.split("_"),r=a[2]||"noNetwork",i=a[3]||"noAdgroupID",o=a[4],s=a[5],a=a[6];if("novt"===r)return e;e="noMatchingID";return(o="string"==typeof o&&""!==o?(n={},o.split(":").forEach(function(e){e=e.split("-");n[e[0]]=e[1]}),n):{})&&o.pla?(e=a||"noProductID",r+="s"):"d"===r?(e=s||"noCreative",t="disp"):e=o.kwd||o.dsa||"noKWD",[t,"pd",r,i,e].join("_")}}}},"Page | IVW Site [co]":{defaultValue:"spiegel",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"web|true|karriere",method:"exact match",output:"mobmamag"},1:{input:"web|false|karriere",method:"exact match",output:"managerm"},2:{input:"|true|",method:"contains",output:"mobspieg"},3:{input:"|false|",method:"contains",output:"spiegel"},size:4,dataElement:"%page.info.platform:sd%|%page.attributes.is_phone:sd%|%page.attributes.channel_slug:sd%",defaultValueEmpty:!0}},"Hit | Visibility Stats [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return[window.stats.status.initiallyVisible,window.stats.status.isEngaged,window.stats.status.isTabVisible].join("~")}catch(e){}}}},"page.custom.referrer-url-without-search:cc":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Page | Referrer [gl]").split("?")[0]}}},"editorial.info.article_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.article_id",convertToString:!1}},"page.attributes.is_phone:sd.rw":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_phone",callback:function(e){return!0===e&&"phone"},doCustomCode:!0,convertToString:!1}},"Page | Target URL [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"targetUrl",caseInsensitive:!0}},"event.attributes.autostart:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.autostart",callback:function(e){return!0===e?"has_autostart":"no_autostart"},doCustomCode:!0,convertToString:!1}},"click.custom.on-page-load-attributes:cookie":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_clk_att"}},"Form | Field Opt-In [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.fields.opt_in",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.item-type:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.type",callback:function(e){return e[0].type},doCustomCode:!1,convertToString:!1}},"event.attributes.pos:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.pos",callback:function(){},doCustomCode:!1,convertToString:!1}},"_qs.value.launch-build:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%qs.value.launch-environment:jsv%"},{delimiter:"|",dataElement:"%qs.value.launch-buildDate:jsv%"}]}},"User | New or Returning [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("User | is New [gl]")?"new_visitor":"return_visitor"}}},"page.timing.previous-time-visible:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_visible}}},"paywall.attributes.is_active:sd.rw":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.attributes.is_active",callback:function(e){return!0===e?"has_paywall":"no_paywall"},doCustomCode:!0,convertToString:!1}},"event.attributes.target_url:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.target_url",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.info.title:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.title",convertToString:!1}},"page.custom.on-page-load-previous-data:cookie":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_prev_data"}},"page.timing.mark-track-pageview:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(performance.getEntriesByName("sara_track_pageview")[0].startTime)}}},"user.segment.has_spiegelNoAdsMonthly_access:sd.rw":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",callback:function(e){return!0===e?"has_noAdsAccess":"no_noAdsAccess"},doCustomCode:!0,convertToString:!1}},"page.timing.time-active-sec:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(window.stats.status.timeEngaged/1e3)}}},"page.timing.performance-dom-complete:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/totalDomCompleteTime.js",settings:{}},"page.timing.performance-server-response:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/serverResponseTime.js",settings:{}},"page.custom.id:cc":{defaultValue:"index",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("editorial.info.article_id:sd")||_satellite.getVar("page.custom.url-path:pi").match(/(\/.+)/g).toString()}catch(e){return}}}},"Page | PUR Tracking [co]":{defaultValue:"not_PUR",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_consent_required",callback:function(e){return!1===e?"pure_tracking":"all_tracking"},doCustomCode:!0,convertToString:!1}},"page.info.platform:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.platform",convertToString:!1}},"editorial.attributes.has_video:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_video",convertToString:!1}},"page.custom.adreload:map":{defaultValue:"reloadAdFalse",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"wissenschaft|",method:"starts with",output:"reloadAdTrue"},1:{input:"|homepage",method:"contains",output:"reloadAdTrue"},size:2,dataElement:"%page.attributes.channel_slug:sd%|%page.category.route:sd%|",defaultValueEmpty:!0}},"Editorial | Topics:List [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.topics",callback:function(e){if(e)return e.join("~")},doCustomCode:!0,convertToString:!1}},"editorial.info.headline_social:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.headline_social",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | IVW Code AGOF Substring: Partner Page [co]":{defaultValue:"default/partner",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"sportdaten",method:"exact match",output:"sport/partner"},1:{input:"spiele",method:"exact match",output:"spiele/%Page | Path Depth [gl]%/partner"},2:{input:"lotto",method:"exact match",output:"lotto/partner"},3:{input:"gluecksspirale",method:"exact match",output:"gluecksspirale/partner"},4:{input:"contentgarden",method:"exact match",output:"contentgarden/partner"},5:{input:"sportwetten",method:"exact match",output:"sportwetten/partner"},size:6,dataElement:"%page.custom.url-subdomains:cc%",defaultValueEmpty:!0}},"page.custom.wirtschaft-finanzcheck:map":{defaultValue:"finanzcheckFalse",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"wirtschaft|article|service",method:"exact match",output:"finanzcheckTrue"},1:{input:"wirtschaft|channel|channel",method:"exact match",output:"finanzcheckTrue"},2:{input:"wirtschaft|subchannel",method:"starts with",output:"finanzcheckTrue"},3:{input:"gesundheit|article|",method:"starts with",output:"finanzcheckTrue"},4:{input:"psychologie|article|",method:"starts with",output:"finanzcheckTrue"},5:{input:"familie|article|",method:"starts with",output:"finanzcheckTrue"},6:{input:"reise|article|",method:"starts with",output:"finanzcheckTrue"},7:{input:"stil|article|",method:"starts with",output:"finanzcheckTrue"},size:8,dataElement:"%page.attributes.channel_slug:sd%|%page.category.route:sd%|%page.attributes.subchannel_slug:sd%",defaultValueEmpty:!0}},"Media | Playtime [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.dtPlayed",callback:function(e){return Math.round(e/1e3)},doCustomCode:!0,convertToString:!1}},"Hit | Timestamp HH:MM [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(new Date).toLocaleTimeString("de-DE",{timeZone:"Europe/Berlin",hour:"2-digit",minute:"2-digit"})}}},"paywall.category.type:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.category.type",convertToString:!1}},"page.custom.campaign-id-all:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.campaign-id-external:cc")||_satellite.getVar("page.custom.url-search-sara_icid:qsp")}}},"page.timing.time-first-visible:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeFirstVisible"}},"page.custom.empty-adslots-count:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var t=0;return SARAs_data.getEventHistory().forEach(function(e){"load"==e.event.info.action&&++t}),t}}},"page.custom.name-concat:dea":{defaultValue:"",storageDuration:"pageview",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%page.custom.name-prefix:map%"},{delimiter:".",dataElement:"%page.custom.url-subdomains:cc%"},{delimiter:" > ",dataElement:"%page.category.type:sd%"},{delimiter:" > ",dataElement:"%page.custom.id:cc%"}]}},"event.attributes.size.array[1]:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.size",callback:function(e){return e[1]},doCustomCode:!0,convertToString:!1}},"Form | Name [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.info.name",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.category.style:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.style",callback:function(e){return"default"===e?"article":e},doCustomCode:!0,convertToString:!1}},"page.custom.visibility-state:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.visibilityState"}},"event.custom.url-pathname:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new URL(_satellite.getVar("event.attributes.target_url:sd")).pathname}}},"page.timing.mark-load-libraries:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(performance.getEntriesByName("sara_load_libraries")[0].startTime)}}},"Form | Type [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.category.type",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | IVW Code AGOF Substring: Paid/Free [co] ":{defaultValue:"",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"paid|true",method:"exact match",output:".pp"},1:{input:"paid|false",method:"exact match",output:".pf"},2:{input:"conditional|true",method:"exact match",output:".pp"},3:{input:"conditional|false",method:"exact match",output:".pf"},4:{input:"free|false",method:"exact match",output:".ff"},size:5,dataElement:"%paywall.category.type:sd%|%paywall.attributes.is_active:sd%",defaultValueEmpty:!0}},"editorial.author.departments:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.author.departments",callback:function(){},doCustomCode:!1,convertToString:!1}},"qs.value.launch-environment:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.environment"}},"Click | Component Embed ID [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.embedded_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"randomNumber|100|Pageview":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/randomNumber.js",settings:{max:100,min:0}},"Form | Status Message [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.status.message",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.custom.user-agent:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"navigator.userAgent"}},"Click | Component Name [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.component_name",callback:function(e){return e.replace("Teaser","")},doCustomCode:!1,convertToString:!1}},"Hit | Timing Stats (seconds) [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return[Math.round(window.stats.status.timeTotal/1e3),Math.round(window.stats.status.timeEngaged/1e3),Math.round(window.stats.status.timeTabbedIn/1e3),Math.round(window.stats.status.timeTabbedOut/1e3),Math.round(window.stats.status.timeFirstVisible/1e3)].join("~")}catch(e){}}}},"user.custom.userInfo:cookie":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"userInfo"}},"editorial.attributes.magazine:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.magazine",callback:function(e){return!0===e?"is_breakingNews":"not_breakingNews"},doCustomCode:!1,convertToString:!1}},"_config.store.sara-click-attributes:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_clk_att"}},"page.custom.name-prefix:map":{defaultValue:"",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"spon",method:"exact match",output:"sp"},1:{input:"bento",method:"exact match",output:"be"},2:{input:"mmo",method:"exact match",output:"mm"},size:3,dataElement:"%page.info.domain:sd%",defaultValueEmpty:!0}},"Form | Field email [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.fields.email",callback:function(){},doCustomCode:!1,convertToString:!1}},"Marketing Pixel | Facebook ID: webnetz [vm]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devWEBNETZ"},1:{input:"production",method:"exact match",output:"109763999395282"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"Page | URL: Path L3 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[3]}}},"event.custom.url-name-concat:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%event.custom.url-name-prefix:map%"},{delimiter:".",dataElement:"%event.custom.url-subdomains:cc%"},{delimiter:" > ",dataElement:"%event.custom.url-name-substring:cc%"}]}},"Click | on Gallery: data-component [prov]":{defaultValue:"",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"data-component",elementSelector:"[data-component=GalleryTeaser]"}},"page.info.canonical_url:sd.rwAT":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.canonical_url",callback:function(e){return e.replace("prod.www.spiegel.de","www.spiegel.de")},doCustomCode:!0,convertToString:!1}},"page.attributes.is_tablet:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_tablet",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | IVW Code AGOF Substring: Channel/Subchannel [co]":{defaultValue:"",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"exact match",output:"homepage/homepage"},1:{input:"article",method:"exact match",output:"%page.attributes.channel_slug:sd%/%page.attributes.subchannel_slug:sd%"},2:{input:"channel",method:"exact match",output:"%page.attributes.channel_slug:sd%/channel"},3:{input:"subchannel",method:"exact match",output:"%page.attributes.channel_slug:sd%/%page.attributes.subchannel_slug:sd%"},4:{input:"topic",method:"exact match",output:"%Page | IVW Code AGOF Substring: Topic Page [co]%"},5:{input:"partner",method:"exact match",output:"%Page | IVW Code AGOF Substring: Partner Page [co]%"},6:{input:"page",method:"exact match",output:"backstage/page"},7:{input:"newsletter",method:"exact match",output:"newsletter/channel"},8:{input:"headlines",method:"exact match",output:"schlagzeilen/channel"},9:{input:"plus",method:"exact match",output:"plus/plus"},10:{input:"fuermich",method:"exact match",output:"fuermich/plus"},11:{input:"search",method:"exact match",output:"suche/search"},12:{input:"audio",method:"exact match",output:"audio/audio"},13:{input:"video",method:"exact match",output:"video/video"},14:{input:"author",method:"exact match",output:"backstage/author"},15:{input:"magazinearticle",method:"exact match",output:"spiegel/magazinearticle"},16:{input:"issue",method:"exact match",output:"spiegel/magazine"},17:{input:"issues",method:"exact match",output:"spiegel/magazinearchive"},18:{input:"newsarchive",method:"exact match",output:"nachrichtenachriv/newsarchive"},19:{input:"topics",method:"exact match",output:"thema/channel"},20:{input:"consent",method:"exact match",output:"backstage/consent"},size:21,dataElement:"%page.category.route:sd%",defaultValueEmpty:!0}},"external.vg_wort.request-url:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:".+",method:"regex",output:"https://spiegel.met.vgwort.de/na/%external.vg_wort.id:sd%"},1:{input:"^$",method:"regex",output:"https://spiegel.met.vgwort.de/na/vgzm.2780134-%editorial.info.article_id:sd%"},size:2,dataElement:"%external.vg_wort.id:sd%",defaultValueEmpty:!0}},"user.segment.has_conditional_access:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_conditional_access",callback:function(e){return!0===e?"has_conditionalAccess":"no_conditionalAccess"},doCustomCode:!0,convertToString:!1}},"event.attributes.playerID:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.playerID",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.info.tracking_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.info.tracking_id",convertToString:!1}},"event.attributes.item-media_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.mediaid",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.info.intro:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.intro",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-search-from:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"from",caseInsensitive:!0}},"Config | is PUR Tracking [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",callback:function(e){return e||_satellite.getVar("Page | is PUR Tracking [co]")},doCustomCode:!0,convertToString:!1}},"Page | IVW Inhalt [co]":{defaultValue:"tso",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"contains",output:"tve"},1:{input:"politik/",method:"starts with",output:"tak"},2:{input:"ausland/",method:"starts with",output:"tak"},3:{input:"wirtschaft/",method:"starts with",output:"twr"},4:{input:"panorama/leute",method:"exact match",output:"ten"},5:{input:"panorama/gesellschaft",method:"exact match",output:"ten"},6:{input:"panorama/",method:"starts with",output:"tak"},7:{input:"sport/",method:"starts with",output:"tsp"},8:{input:"kultur/literatur",method:"exact match",output:"tku"},9:{input:"kultur/kino",method:"exact match",output:"ten"},10:{input:"kultur/musik",method:"exact match",output:"ten"},11:{input:"kultur/tv",method:"exact match",output:"ten"},12:{input:"kultur/",method:"starts with",output:"tve"},13:{input:"netzwelt/apps",method:"exact match",output:"tco"},14:{input:"netzwelt/netzpolitik",method:"exact match",output:"tco"},15:{input:"netzwelt/web",method:"exact match",output:"ttk"},16:{input:"netzwelt/gadgets",method:"exact match",output:"tce"},17:{input:"netzwelt/games",method:"exact match",output:"tcg"},18:{input:"netzwelt/",method:"starts with",output:"tco"},19:{input:"wissenschaft/",method:"starts with",output:"tws"},20:{input:"geschichte/",method:"starts with",output:"tve"},21:{input:"auto/",method:"starts with",output:"tau"},22:{input:"gesundheit/psychologie",method:"exact match",output:"tli"},23:{input:"gesundheit/sex",method:"exact match",output:"tli"},24:{input:"gesundheit/ernaehrung",method:"exact match",output:"tes"},25:{input:"gesundheit/schwangerschaft",method:"exact match",output:"tge"},26:{input:"gesundheit/",method:"starts with",output:"tge"},27:{input:"psychologie/",method:"starts with",output:"tli"},28:{input:"familie/",method:"starts with",output:"tfa"},29:{input:"partnerschaft/",method:"starts with",output:"tli"},30:{input:"leben/",method:"starts with",output:"tve"},31:{input:"stil/",method:"starts with",output:"tve"},32:{input:"reise/",method:"starts with",output:"tre"},33:{input:"fitness/",method:"starts with",output:"tge"},34:{input:"newsletter/",method:"starts with",output:"tuk"},35:{input:"schlagzeilen/",method:"starts with",output:"tve"},36:{input:"spiegel/magazinearchive",method:"exact match",output:"tuk"},37:{input:"spiegel/",method:"starts with",output:"tve"},38:{input:"plus/",method:"starts with",output:"tve"},39:{input:"international/",method:"starts with",output:"tak"},40:{input:"karriere/",method:"starts with",output:"twr"},41:{input:"spiele/1",method:"starts with",output:"gsp"},42:{input:"spiele/2",method:"starts with",output:"gsa"},43:{input:"deinspiegel/",method:"starts with",output:"tve"},44:{input:"video/",method:"starts with",output:"tve"},45:{input:"audio/",method:"starts with",output:"tve"},46:{input:"lotto/",method:"starts with",output:"sso"},47:{input:"gluecksspirale/",method:"starts with",output:"sso"},48:{input:"services/",method:"starts with",output:"tuk"},49:{input:"backstage/",method:"starts with",output:"tuk"},50:{input:"start/",method:"starts with",output:"tve"},51:{input:"nachrichtenachriv/",method:"starts with",output:"sve"},52:{input:"thema/",method:"starts with",output:"sve"},size:53,dataElement:"%Page | IVW Code AGOF Substring [co]%",defaultValueEmpty:!0}},"user.segment.has_paid_access:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_paid_access",callback:function(){},doCustomCode:!1,convertToString:!1}},"Event Item | Newsletter ID [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.newsletter_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.info.device_advertising_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.info.device_advertising_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.activity_map:cookie":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"s_sq"}},"Form | Status [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.status.status",callback:function(){},doCustomCode:!1,convertToString:!1}},"Marketing Pixel | Facebook ID [vm]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"%Debug: Marketing Pixel | Facebook ID [vm]%"},1:{input:"production",method:"exact match",output:"468291950412468"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"page.timing.previous-time-total:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_total}}},"_config.value.rsid-prod:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"spiegel.ng.spieg.main"}},"page.timing.time-visible:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTabbedIn"}},"page.timing.previous-performance-dom-complete:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.server_response}}},"RADAR | Subscription String [gl]":{defaultValue:"regular",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"has_paywall:no_paidAccess",method:"exact match",output:"paywall:load:%page.info.platform:sd%"},1:{input:"\\w+:has_paidAccess",method:"regex",output:"subscribed"},size:2,dataElement:"%paywall.attributes.is_active:sd.rw%:%user.segment.has_paid_access:sd.rw%",defaultValueEmpty:!0}},"target.custom.property:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"production:article:false",method:"exact match",output:"0a35d2b1-94aa-7d3b-119d-63e32554317b"},1:{input:"staging:article:false",method:"exact match",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},2:{input:"development:article:false",method:"exact match",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},3:{input:"production:homepage",method:"starts with",output:"38ba2140-e3c3-a0ae-0e8a-9a858c8495c8"},4:{input:"staging:homepage",method:"starts with",output:"2e3b7e82-ced5-3027-8650-b3ea6cdd0b50"},5:{input:"development:homepage",method:"starts with",output:"2e3b7e82-ced5-3027-8650-b3ea6cdd0b50"},6:{input:"\\bproduction:article:paid\\b|\\bproduction:article:conditional\\b",method:"regex matching",output:"eaa7fc85-37fa-bc5d-2e66-06d09076a43c"},7:{input:"\\bstaging:article:paid\\b|\\bstaging:article:conditional\\b",method:"regex matching",output:"036d6366-e7a3-e835-32e9-cc72af90b94a"},8:{input:"\\bdevelopment:article:paid\\b|\\bdevelopment:article:conditional\\b",method:"regex matching",output:"036d6366-e7a3-e835-32e9-cc72af90b94a"},9:{input:"production:",method:"starts with",output:"0a35d2b1-94aa-7d3b-119d-63e32554317b"},10:{input:"staging:",method:"starts with",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},11:{input:"development:",method:"starts with",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},size:12,dataElement:"%qs.value.launch-environment:jsv%:%page.category.route:sd%:%paywall.category.type:sd%",defaultValueEmpty:!1}},"event.attributes.count:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.count",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.is_hidden:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.hidden"}},"_config.store.sara-user-session:const":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_user_session"}},"external.marketing.outbrain-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devSPIEGEL"},1:{input:"production",method:"exact match",output:"00bf784a92253a49c50216eea8b47eb721"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"page.attributes.channel_slug:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.channel_slug",callback:function(e){return e||_satellite.getVar("page.custom.url-path:pi").toString().split("/")[1]||_satellite.getVar("page.category.route:sd")},doCustomCode:!0,convertToString:!1}},"editorial.info.headline:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.headline",convertToString:!1}},"page.custom.url-search:jsv":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.location.search"}},"Form | Fields Total Count [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.info..fields_total",callback:function(e){return e||2},doCustomCode:!0,convertToString:!1}},"editorial.attributes.has_video:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_video",callback:function(e){return!0===e?"has_video":"no_video"},doCustomCode:!0,convertToString:!1}},"editorial.attributes.is_comments_enabled:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_comments_enabled",callback:function(e){return!0===e?"has_comments":"no_comments"},doCustomCode:!0,convertToString:!1}},"product.custom.string:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"product",callback:function(e){var a=[];return e.forEach(function(e){var t=e.info.id,n=e.price.price,e="eVar161="+e.info.id+"|eVar162="+e.attributes.paywall_id+"|eVar163="+e.category.type;a.push(";"+t+";1;"+n+";;"+e)}),a.join()},doCustomCode:!0,convertToString:!1}},"Product | Price in App [co]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"spon_iap_subscription",method:"contains",output:"19.99"},1:{input:"spiegel_no_ads_monthly",method:"exact match",output:"4.99"},2:{input:"de.spiegel.spon.SpiegelPlusMonthly",method:"exact match",output:"19.99"},3:{input:"de.spiegel.spon.SpiegelAdFreeMonthly",method:"exact match",output:"4.99"},size:4,dataElement:"%Product | ID in App [co]%",defaultValueEmpty:!0}},"user.custom.ecid:ecid":{defaultValue:"",modulePath:"adobe-mcid/src/lib/dataElements/ecid.js",settings:{}},"event.custom.url-hostname-is-friendly:map":{defaultValue:"is_foreign",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"harvardbusinessmanager.de",method:"contains",output:"is_friendly"},1:{input:"manager-magazin.de",method:"contains",output:"is_friendly"},2:{input:"bento.de",method:"contains",output:"is_friendly"},3:{input:"(?<!www)\\.spiegel\\.de",method:"regex",output:"is_friendly"},size:4,dataElement:"%event.custom.url-hostname:cc%",defaultValueEmpty:!0}},"event.attributes.position:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.position",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.attributes.is_listExcluded:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_listExcluded",callback:function(e){return!0===e?"is_listexcluded":"is_not_listexcluded"},doCustomCode:!0,convertToString:!1}},"page.timing.performance-response-complete:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/responseCompleteTime.js",settings:{}},"Cookie | Session [co]":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_user_session"}},"user.segment.is_loggedIn:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.is_loggedIn",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-hash:jsv":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.location.hash"}},"page.custom.has_media:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"exact match",output:"true"},size:1,dataElement:"%page.category.route:sd%",defaultValueEmpty:!0}},"Editorial | has Affiliate [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_affiliate",callback:function(e){return!0===e?"has_affiliate":"no_affiliate"},doCustomCode:!0,convertToString:!1}},"page.custom.hostname:pi":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"User | has Consent updated [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Function | Parse (JWToken) [gl]")(_satellite.getVar("Cookie | Consent [gl]")).updated_at}}}," spm.anzeigenX.const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:'["rectangle_1","teaser_11", "superbanner_2", "superbanner_3","mobile_2","mobile_3","mobile_4"]'}},"page.attributes.is_mobile:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_mobile",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.info.domain:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.domain",convertToString:!1}},"qs.value.launch-version-date:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.turbineBuildDate"}},"_config.store.sara-count-end-of-article:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_count_eoa"}},"target.elements.eigenwerbung:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:'["rectangle_2", "superbanner_3", "superbanner_5","mobile_3","mobile_4","mobile_5","teaser_11"]'}},"editorial.info.article_id:sd.rw.20char":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.article_id",callback:function(e){return e.match(/(\w+)/g)[0]+e.match(/(\w+)/g)[4]},doCustomCode:!0,convertToString:!1}},"Page | IVW Code AGOF Substring: Topic Page [co]":{defaultValue:"channel/subchannel",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"/leben/",method:"contains",output:"leben/channel"},1:{input:"/thema/",method:"contains",output:"%page.attributes.channel_slug:sd%/%page.attributes.subchannel_slug:sd%"},size:2,dataElement:"%page.custom.id:cc%",defaultValueEmpty:!0}},"page.custom.previous-article-id:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).page.article_id}catch(e){return}}}},"Click | Component ID [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.component_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"App | Version [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"application.info.app_version",callback:function(){},doCustomCode:!1,convertToString:!1}},"Editorial | Topics:Array [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.topics",callback:function(e){return e.join("~")},doCustomCode:!1,convertToString:!1}},"page.custom.url-hostname:pi":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"Editorial | Topics:String [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.topics",callback:function(e){if(e)return e.toString()},doCustomCode:!0,convertToString:!1}}},extensions:{"data-element-assistant":{displayName:"Data Element Assistant",modules:{"data-element-assistant/src/lib/dataElements/concatenate.js":{name:"concatenate",displayName:"Concatenate",script:function(e,t,n){"use strict";var i=n("./utils/logger"),o=n("./utils/findTargetValue"),s=n("./utils/is");e.exports=function(e){try{var t=e.dataElementsAndDelimiters,n=e.returnEmpty,a=!0,r=t.reduce(function(e,t){var n="",n="path"===t.inputType?(n=o(window,t.path),s.nil(n)?"":n):t.dataElement;if(s.nil(n)||""===n){if(!0===t.omitWhenEmpty)return e}else a=!1;return e+t.delimiter+n},"");return""!=e.trailingDelimiter&&(r+=e.trailingDelimiter),n&&a?void 0:r}catch(e){return i.log("error","Concatenate",e.message)}}}},"data-element-assistant/src/lib/dataElements/utils/logger.js":{script:function(e,t,n,r){var i,o=!1;e.exports=function(){if(o)return i;var a={error:"[Error]"};return o=!0,i={log:function(e,t,n){void 0!==r&&r.logger[e]("DEA "+t+(a[e]||"")+": "+n)}}}()}},"data-element-assistant/src/lib/dataElements/utils/findTargetValue.js":{script:function(e){e.exports=function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)}}},"data-element-assistant/src/lib/dataElements/utils/is.js":{script:function(e){function t(t){return function(e){return n.call(e)===t}}var n;e.exports=(n=Object.prototype.toString,{array:t("[object Array]"),object:t("[object Object]"),function:t("[object Function]"),null:t("[object Null]"),undefined:t("[object Undefined]"),string:t("[object String]"),number:t("[object Number]"),boolean:t("[object Boolean]"),nil:function(e){return this.null(e)||this.undefined(e)}})}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP196eab2aa710410f96139666b3732aa1/"},"mapping-table":{displayName:"Mapping Table",modules:{"mapping-table/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:function(e,t,n,c){"use strict";e.exports=function(e){if(null!=e){var t=e.dataElement;l();try{for(var n=0;n<e.size;n++){var a=e[n].method,r=e[n].output,i=e[n].input;if("exact match"===a){if(t===i)return r}else if("exact match i"===a){if("boolean"!=typeof t&&t.toLowerCase()===i.toLowerCase())return r}else if("starts with"===a){if("boolean"!=typeof t&&t.startsWith(i))return r}else if("contains"===a){if("boolean"!=typeof t&&-1<t.indexOf(i))return r}else if("regex"===a){if("boolean"!=typeof t&&new RegExp(i).test(t))return r}else if("regex matching"===a){if("boolean"!=typeof t){var o=t.match(new RegExp(i));if(null!==o){for(var s=o.length-1;1<=s;s--)r=r.split("$"+s).join(o[s]);return r}}}else if("is true"===a){if(!0===t)return r}else if("is false"===a&&!1===t)return r}}catch(e){c.logger.error("Error during evaluation: "+e.message)}return!0===e.defaultValueEmpty?void 0:t}};var l=function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t=t||0,e.length)===e})}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/"},core:{displayName:"Core",modules:{"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),s=n("@adobe/reactor-query-string");e.exports=function(e){var t=s.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),a=Object.keys(t),r=0;r<a.length;r++){var i=a[r];if(i.toLowerCase()===n)return t[i]}}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty.js");e.exports=function(e){return a(window,e.path)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return a.location.href;case"hostname":return a.location.hostname;case"pathname":return a.location.pathname;case"protocol":return a.location.protocol;case"referrer":return a.referrer;case"title":return a.title}}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/visitorBehavior.js":{name:"visitor-behavior",displayName:"Visitor Behavior",script:function(e,t,n){"use strict";var a=n("../helpers/visitorTracking");e.exports=function(e){switch(e.attribute){case"landingPage":return a.getLandingPage();case"trafficSource":return a.getTrafficSource();case"minutesOnSite":return a.getMinutesOnSite();case"sessionCount":return a.getSessionCount();case"sessionPageViewCount":return a.getSessionPageViewCount();case"lifetimePageViewCount":return a.getLifetimePageViewCount();case"isNewVisitor":return a.getIsNewVisitor()}}}},"core/src/lib/dataElements/randomNumber.js":{name:"random-number",displayName:"Random Number",script:function(e){"use strict";e.exports=function(e){var t=Math.ceil(e.min),e=Math.floor(e.max);return e<t?NaN:Math.floor(Math.random()*(e-t+1))+t}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){e=e.elementProperty;return"text"===e?t.innerText||t.textContent:e in t?t[e]:t.getAttribute?t.getAttribute(e):void 0}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-cookie");e.exports=function(e){return a.get(e.name)}}},"core/src/lib/conditions/maxFrequency.js":{name:"max-frequency",displayName:"Max Frequency",script:function(e,t,n){"use strict";var i=n("../helpers/visitorTracking"),o=n("../helpers/getNamespacedStorage")("localStorage","maxFrequency"),s={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5};e.exports=function(e,t){var n=t.$rule.id+"."+e.unit;switch(e.unit){case"pageView":var a=i.getLifetimePageViewCount();if(a-Number(o.getItem(n)||0)>=e.count)return o.setItem(n,a),!0;break;case"session":var r=i.getSessionCount();if(r-Number(o.getItem(n)||0)>=e.count)return o.setItem(n,r),!0;break;case"visitor":if(!o.getItem(n))return o.setItem(n,"true"),!0;break;case"second":case"minute":case"hour":case"day":case"week":case"month":r=(new Date).getTime();if(Number(o.getItem(n)||0)<=r-e.count*s[e.unit])return o.setItem(n,r),!0}return!1}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";function r(e,t){return t&&o(e)?e.toLowerCase():e}function a(a){return function(e,t,n){return e=c(e),t=c(t),o(e)&&o(t)&&a(e,t,n)}}function i(n){return function(e,t){return e=l(e),t=l(t),s(e)&&s(t)&&n(e,t)}}var o=n("../helpers/stringAndNumberUtils").isString,s=n("../helpers/stringAndNumberUtils").isNumber,c=n("../helpers/stringAndNumberUtils").castToStringIfNumber,l=n("../helpers/stringAndNumberUtils").castToNumberIfString,n=function(a){return function(e,t,n){return a(r(e,n),r(t,n))}},u={equals:n(function(e,t){return e==t}),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:a(n(function(e,t){return-1!==e.indexOf(t)})),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:a(n(function(e,t){return 0===e.indexOf(t)})),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:a(n(function(e,t){return e.substring(e.length-t.length,e.length)===t})),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:a(function(e,t,n){return new RegExp(t,n?"i":"").test(e)}),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:i(function(e,t){return e<t}),lessThanOrEqual:i(function(e,t){return e<=t}),greaterThan:i(function(e,t){return t<e}),greaterThanOrEqual:i(function(e,t){return t<=e}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,n){"use strict";function o(){var e=u.innerHeight,t=l.compatMode;return e=t?("CSS1Compat"===t?l.documentElement:l.body).clientHeight:e}function s(){return l.documentElement.scrollTop||l.body.scrollTop}function c(e,t,n){var a=function(e){var t;try{t=e.getBoundingClientRect()}catch(e){}var n=l.documentElement,a=l.body,r=n.clientTop||a.clientTop||0,i=n.clientLeft||a.clientLeft||0,e=u.pageYOffset||n.scrollTop||a.scrollTop,a=u.pageXOffset||n.scrollLeft||a.scrollLeft;return{top:t.top+e-r,left:t.left+a-i}}(e).top,r=e.offsetHeight;return l.body.contains(e)&&!(a+r<n||n+t<a)}var l=n("@adobe/reactor-document"),u=n("@adobe/reactor-window"),a=n("./helpers/weakMap"),r=n("./helpers/debounce"),i=n("./helpers/enableWeakMapDefaultValue"),d=n("./helpers/matchesSelector"),p=n("./helpers/matchesProperties"),m=n("../helpers/stringAndNumberUtils").castToNumberIfString,g="firstEntry",n=-1!==u.navigator.appVersion.indexOf("MSIE 10"),f=i(new a,function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}}),h={},v=r(function(){var e=Object.keys(h);if(e.length)for(var t=l.querySelectorAll(e.join(",")),n=o(),a=s(),r=0;r<t.length;r++){var i=t[r];(c(i,n,a)?function(a){var r=f.get(a);r.inViewport||(r.inViewport=!0,Object.keys(h).forEach(function(e){d(a,e)&&h[e].forEach(function(e){var t,n;p(a,e.settings.elementProperties)&&-1===r.completedListeners.indexOf(e)&&(t=function(){(e.settings.frequency||g)===g&&r.completedListeners.push(e),e.trigger({element:a,target:a,delay:e.settings.delay})},e.settings.delay?(n=setTimeout(function(){c(a,o(),s())&&t()},e.settings.delay),r.timeoutIds.push(n)):t())})}))}:function(e){e=f.get(e);e.inViewport=!1,e.timeoutIds.length&&(e.timeoutIds.forEach(clearTimeout),e.timeoutIds=[])})(i)}},200),r=function(){v(),setInterval(v,3e3),u.addEventListener("resize",v),u.addEventListener("scroll",v)};n?"complete"===l.readyState?r():u.addEventListener("load",r):"loading"!==l.readyState?r():l.addEventListener("DOMContentLoaded",r),e.exports=function(e,t){var n=(n=h[e.elementSelector])||(h[e.elementSelector]=[]);e.delay=m(e.delay),n.push({settings:e,trigger:t})}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,r){"use strict";var i,a,o,s,c=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),u=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),g=(a=function(e){p(c.body,e,{beforeWriteToken:function(t){var e=t.tagName&&t.tagName.toLowerCase();return i&&"script"===e&&(t.attrs.nonce=i),"script"!==e&&"style"!==e||(Object.keys(t.attrs||{}).forEach(function(e){t.attrs[e]=m(t.attrs[e])}),t.src&&(t.src=m(t.src))),t},error:function(e){r.logger.error(e.msg)}})},o=[],s=function(){if(c.body)for(;o.length;)a(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),f=function(){if(c.currentScript)return c.currentScript.async;for(var e=c.querySelectorAll("script"),t=0;t<e.length;t++){var n=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(n.src))return n.async}return!0}();e.exports=function(e,t){var n;i=r.getExtensionSettings().cspNonce;var a={settings:e,event:t},t=a.settings.source;if(t)return a.settings.isExternal?d(t).then(function(e){return e?(n=u(a,e),g(n.code),n.promise):l.resolve()}):(n=u(a,t),!f&&"loading"===c.readyState&&c.write&&!1===r.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):g(n.code),n.promise)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),a=n("./helpers/createBubbly")(),s=new(n("./helpers/weakMap")),c=n("../helpers/stringAndNumberUtils").castToNumberIfString;document.addEventListener("click",a.evaluateEvent,!0),e.exports=function(r,i){a.addListener(r,function(e){var t,n,a=e.nativeEvent;a.s_fe||((t=c(r.anchorDelay))&&!s.has(a)&&((n=function(e){if(!e.ctrlKey&&!e.metaKey&&2!==e.button)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var a=t.getAttribute("href"),n=t.getAttribute("target");return a&&(!n||"_self"===n||"_top"===n&&o.top===o||n===o.name)?t:void 0}t=t.parentNode}}(a))&&(a.preventDefault(),setTimeout(function(){o.location=n.href},t)),s.set(a,!0)),i(e))})},e.exports.__reset=a.__reset}},"core/src/lib/conditions/pageViews.js":{name:"page-views",displayName:"Page Views",script:function(e,t,n){"use strict";var a=n("../helpers/visitorTracking"),r=n("./helpers/compareNumbers"),i="lifetime";e.exports=function(e){var t=e.duration===i?"getLifetimePageViewCount":"getSessionPageViewCount";return r(a[t](),e.operator,e.count)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerWindowLoadedTrigger(t)}}},"core/src/lib/conditions/dateRange.js":{name:"date-range",displayName:"Date Range",script:function(e){"use strict";e.exports=function(e){var t=new Date;return!(e.start&&t<new Date(e.start)||e.end&&t>new Date(e.end))}}},"core/src/lib/conditions/sampling.js":{name:"sampling",displayName:"Sampling",script:function(e,t,n){"use strict";var a=n("../helpers/getNamespacedStorage")("localStorage","sampling");e.exports=function(e,t){var n=Math.random()<e.rate;if(e.persistCohort){t="cohorts."+t.$rule.id+"."+e.rate,e=a.getItem(t);if("true"===e)return!0;if("false"===e)return!1;a.setItem(t,n)}return n}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),a=e,r=0,i=n.length;r<i;r++){if(null==a)return;a=a[n[r]]}return a}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,n){"use strict";function a(){return Number(p.getItem("landingTime"))}var r,i=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-document"),s=n("@adobe/reactor-window"),c=n("./getNamespacedStorage"),l="_sdsat_",u="visitorTracking",n="cookiesMigrated",d=c("localStorage",u),p=c("sessionStorage",u),m=function(){return Number(d.getItem("sessionCount"))},g=function(){return Number(d.getItem("pagesViewed"))},f=function(){return Number(p.getItem("pagesViewed"))};d.getItem(n)||((u=i.get(l+"session_count"))&&d.setItem("sessionCount",u),(u=i.get(l+"lt_pages_viewed"))&&d.setItem("pagesViewed",u),d.setItem(n,!0)),(r=p.getItem("landingPage"))||(p.setItem("landingPage",s.location.href),p.setItem("landingTime",(new Date).getTime())),r||d.setItem("sessionCount",m()+1),d.setItem("pagesViewed",g()+1),p.setItem("pagesViewed",f()+1),p.getItem("trafficSource")||p.setItem("trafficSource",o.referrer),e.exports={getLandingPage:function(){return p.getItem("landingPage")},getLandingTime:a,getMinutesOnSite:function(){var e=(new Date).getTime();return Math.floor((e-a())/1e3/60)},getSessionCount:m,getLifetimePageViewCount:g,getSessionPageViewCount:f,getTrafficSource:function(){return p.getItem("trafficSource")},getIsNewVisitor:function(){return 1===m()}}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-window");e.exports=function(n,e){var a="com.adobe.reactor.core."+e;return{getItem:function(e){try{return r[n].getItem(a+"."+e)}catch(e){return null}},setItem:function(e,t){try{return r[n].setItem(a+"."+e,t),!0}catch(e){return!1}}}}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";function t(e){return"number"==typeof e&&isFinite(e)}function n(e){return"string"==typeof e||e instanceof String}e.exports={isNumber:t,isString:n,castToStringIfNumber:function(e){return t(e)?String(e):e},castToNumberIfString:function(e){return n(e)?Number(e):e}}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var a,r,n=n("@adobe/reactor-window").WeakMap;void 0===n&&(a=Object.defineProperty,r=Date.now()%1e9,(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:a(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}),e.exports=n}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(n,a,r){var i=null;return function(){var e=r||this,t=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(e,t)},a)}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(t,n){var a=t.get;return t.get=function(e){return t.has(e)||t.set(e,n()),a.apply(this,arguments)},t}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,a){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return a.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var r=n("./../../helpers/textMatch");e.exports=function(a,e){return!e||e.every(function(e){var t,n,n=(t=a,"@text"===(n=e.name)||"innerText"===n?t.textContent||t.innerText:n in t?t[n]:t.getAttribute?t.getAttribute(n):void 0),e=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(n,e)})}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var a=n("./decorators/decorateGlobalJavaScriptCode"),r=n("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return(e.settings.global?a:r)(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),r=n("./getSourceByUrl"),i=a.resolve();e.exports=function(n){var e=new a(function(t){var e=r(n);a.all([e,i]).then(function(e){e=e[0];t(e)})});return i=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,a;n=this,a=function(){return a=[function(e,t,n){"use strict";var a,r=(a=n(1))&&a.__esModule?a:{default:a};e.exports=r.default},function(e,t,n){"use strict";function s(){}function c(){var e,t=o.shift();t&&((e=r.last(t)).afterDequeue(),t.stream=function(e,t,a){function r(e){e=a.beforeWrite(e),m.write(e),a.afterWrite(e)}(m=new d.default(e,a)).id=p++,m.name=a.name||m.id,l.streams[m.name]=m;var n=e.ownerDocument,i={close:n.close,open:n.open,write:n.write,writeln:n.writeln};u(n,{close:s,open:s,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join("")+"\n")}});var o=m.win.onerror||s;return m.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),o.apply(m.win,[e,t,n])},m.write(t,function(){u(n,i),m.win.onerror=o,a.done(),m=null,c()}),m}.apply(void 0,t),e.afterStreamStart())}function l(e,t,n){if(r.isFunction(n))n={done:n};else if("clear"===n)return o=[],m=null,void(p=0);n=r.defaults(n,i);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=s}},n.beforeEnqueue(a),o.push(a),m||c(),e.postscribe}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var a,d=(a=n(2))&&a.__esModule?a:{default:a},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),i={afterAsync:s,afterDequeue:s,afterStreamStart:s,afterWrite:s,autoFix:!0,beforeEnqueue:s,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:s,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,o=[],m=null;u(l,{streams:{},queue:o,WriteStream:d.default})},function(e,t,n){"use strict";function a(e,t){t=e.getAttribute(u+t);return c.existy(t)?String(t):t}function r(e,t,n){n=2<arguments.length&&void 0!==n?n:null,t=u+t;c.existy(n)&&""!==n?e.setAttribute(t,n):e.removeAttribute(t)}t.__esModule=!0;var i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=(i=n(3))&&i.__esModule?i:{default:i},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),u="data-ps-",d="ps-style",p="ps-script",l=(m.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();c.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},m.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},m.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,a=void 0,r=[];(t=this.parser.readToken())&&!(n=c.isScript(t))&&!(a=c.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},m.prototype._writeStaticTokens=function(e){e=this._buildChunk(e);return e.actual?(e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,this._walkChunk(),e):null},m.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],a=[],r=[],i=e.length,o=0;o<i;o++){var s,c=e[o],l=c.toString();n.push(l),c.attrs?/^noscript$/i.test(c.tagName)||(s=t++,a.push(l.replace(/(\/?>)/," "+u+"id="+s+" $1")),c.attrs.id!==p&&c.attrs.id!==d&&r.push("atomicTag"===c.type?"":"<"+c.tagName+" "+u+"proxyof="+s+(c.unary?" />":">"))):(a.push(l),r.push("endTag"===c.type?l:""))}return{tokens:e,raw:n.join(""),actual:a.join(""),proxy:r.join("")}},m.prototype._walkChunk=function(){for(var e,t=[this.proxyRoot];c.existy(e=t.shift());){var n=1===e.nodeType;n&&a(e,"proxyof")||(n&&r(this.actuals[a(e,"id")]=e,"id"),(n=e.parentNode&&a(e.parentNode,"proxyof"))&&this.actuals[n].appendChild(e)),t.unshift.apply(t,c.toArray(e.childNodes))}},m.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},m.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},m.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,d),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},m.prototype._buildStyle=function(e){var n=this.doc.createElement(e.tagName);return n.setAttribute("type",e.type),c.eachKey(e.attrs,function(e,t){n.setAttribute(e,t)}),n},m.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');t=this.doc.getElementById(t);t&&t.parentNode.replaceChild(e,t)},m.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},m.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},m.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),a=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,a?r:function(){t(),r()}));try{this._insertCursor(n,p),n.src&&!a||t()}catch(e){this.options.error(e),t()}},m.prototype._buildScript=function(e){var n=this.doc.createElement(e.tagName);return c.eachKey(e.attrs,function(e,t){n.setAttribute(e,t)}),e.content&&(n.text=e.content),n},m.prototype._scriptLoadHandler=function(t,n){function a(){t=t.onload=t.onreadystatechange=t.onerror=null}function e(){a(),null!=n&&n(),n=null}function r(e){a(),o(e),null!=n&&n(),n=null}function i(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var o=this.options.error;i(t,"load"),i(t,"error"),s(t,{onload:function(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){r({msg:"onload handler failed "+e+" @ "+t.src})}e()},onerror:function(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void r({msg:"onerror handler failed "+e+" @ "+t.src})}r({msg:"remote script failed "+t.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&e()}})},m.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},m);function m(e,t){t=1<arguments.length&&void 0!==t?t:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,m),this.root=e,this.options=t,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new o.default("",{autoFix:t.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],r(this.proxyRoot,"proxyof",0)}t.default=l},function(e){var t;t=function(){return a=[function(e,t,n){"use strict";var a,r=(a=n(1))&&a.__esModule?a:{default:a};e.exports=r.default},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var r,i,s=a(n(2)),o=a(n(3)),c=(r=n(6))&&r.__esModule?r:{default:r},l=n(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=(p.prototype.append=function(e){this.stream+=e},p.prototype.prepend=function(e){this.stream=e+this.stream},p.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},p.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){e=o[e](this.stream);if(e)return"startTag"===e.type&&/script|style/i.test(e.tagName)?null:(e.text=this.stream.substr(0,e.length),e)}},p.prototype.peekToken=function(){return this._peekToken()},p.prototype.readToken=function(){return this._readToken()},p.prototype.readTokens=function(e){for(var t;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},p.prototype.clear=function(){var e=this.stream;return this.stream="",e},p.prototype.rest=function(){return this.stream},p);function p(e,t){var n=this,e=0<arguments.length&&void 0!==e?e:"",a=1<arguments.length&&void 0!==t?t:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,p),this.stream=e;var r,i=!1,o={};for(r in s)s.hasOwnProperty(r)&&(a.autoFix&&(o[r+"Fix"]=!0),i=i||o[r+"Fix"]);i?(this._readToken=(0,c.default)(this,o,function(){return n._readTokenImpl()}),this._peekToken=(0,c.default)(this,o,function(){return n._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}for(i in(t.default=d).tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=(0,l.escapeQuotes)(e[t],null));return n},d.supports=s)s.hasOwnProperty(i)&&(d.browserHasFlaw=d.browserHasFlaw||!s[i]&&i)},function(e,t){"use strict";var n=!(t.__esModule=!0),a=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=n=r.innerHTML!==i}catch(e){t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===r.childNodes.length}catch(e){t.selfClose=a=!1}r=null,t.tagSoup=n,t.selfClose=a},function(e,t,n){"use strict";function a(e){var o,s,c;if(-1!==e.indexOf(">")){e=e.match(l.startTag);if(e){e=(o={},s={},c=e[2],e[2].replace(l.attr,function(e,t,n,a,r,i){n||a||r||i?i?(o[i]="",s[i]=!0):o[t]=n||a||r||l.fillAttr.test(t)&&t||"":o[t]="",c=c.replace(e,"")}),{v:new i.StartTagToken(e[1],e[0].length,o,s,!!e[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===r(e))return e.v}}}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=function(e){var t=e.indexOf("--\x3e");if(0<=t)return new i.CommentToken(e.substr(4,t-1),t+3)},t.chars=function(e){var t=e.indexOf("<");return new i.CharsToken(0<=t?t:e.length)},t.startTag=a,t.atomicTag=function(e){var t=a(e);if(t){e=e.slice(t.length);if(e.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){e=e.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(e)return new i.AtomicTagToken(t.tagName,e[0].length+t.length,t.attrs,t.booleanAttrs,e[1])}}},t.endTag=function(e){if(e=e.match(l.endTag))return new i.EndTagToken(e[1],e[0].length)};var i=n(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=n(5),a=(t.Token=function e(t,n){o(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=(c.prototype.toString=function(){return"\x3c!--"+this.content},c),t.CharsToken=(r.prototype.toString=function(){return this.text},r),t.TagToken=(s.formatTag=function(e,t){var n,a,t=1<arguments.length&&void 0!==t?t:null,r="<"+e.tagName;for(n in e.attrs)e.attrs.hasOwnProperty(n)&&(r+=" "+n,a=e.attrs[n],void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(r+='="'+(0,i.escapeQuotes)(a)+'"'));return e.rest&&(r+=" "+e.rest),e.unary&&!e.html5Unary?r+="/>":r+=">",null!=t&&(r+=t+"</"+e.tagName+">"),r},s));function s(e,t,n,a,r){o(this,s),this.type=e,this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}function r(e){o(this,r),this.type="chars",this.length=e,this.text=""}function c(e,t){o(this,c),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}function l(e,t){o(this,l),this.type="endTag",this.length=t,this.text="",this.tagName=e}function u(e,t,n,a,r){o(this,u),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1,this.content=r}function d(e,t,n,a,r,i){o(this,d),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=a,this.html5Unary=!1,this.unary=r,this.rest=i}t.StartTagToken=(d.prototype.toString=function(){return a.formatTag(this)},d),t.AtomicTagToken=(u.prototype.toString=function(){return a.formatTag(this,this.content)},u),t.EndTagToken=(l.prototype.toString=function(){return"</"+this.tagName+">"},l)},function(e,t){"use strict";t.__esModule=!0,t.escapeQuotes=function(e,t){return t=1<arguments.length&&void 0!==t?t:"",e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):t}},function(e,t){"use strict";function c(e){return e&&"startTag"===e.type&&(e.unary=n.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function l(e,t){t=t.pop();e.prepend("</"+t.tagName+">")}t.__esModule=!0,t.default=function(a,n,r){function i(){var e,t,n,t=(t=r,n=(e=a).stream,t=c(r()),e.stream=n,t);t&&s[t.type]&&s[t.type](t)}var e,o=((e=[]).last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e),s={startTag:function(e){var t=e.tagName;"TR"===t.toUpperCase()&&o.lastTagNameEq("TABLE")?(a.prepend("<TBODY>"),i()):n.selfCloseFix&&u.test(t)&&o.containsTagName(t)?o.lastTagNameEq(t)?l(a,o):(a.prepend("</"+e.tagName+">"),i()):e.unary||o.push(e)},endTag:function(e){o.last()?n.tagSoupFix&&!o.lastTagNameEq(e.tagName)?l(a,o):o.pop():n.tagSoupFix&&(r(),i())}};return function(){return i(),c(r())}};var n=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,u=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}],r={},n.m=a,n.c=r,n.p="",n(0);function n(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var a,r},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function r(e,t,n){for(var a=void 0,r=e&&e.length||0,a=0;a<r;a++)t.call(n,e[a],a)}function i(e,t,n){for(var a in e)e.hasOwnProperty(a)&&t.call(n,a,e[a])}function n(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=function(e){return"function"==typeof e},t.each=r,t.eachKey=i,t.defaults=function(n,e){return n=n||{},i(e,function(e,t){a(n[e])||(n[e]=t)}),n},t.toArray=function(t){try{return Array.prototype.slice.call(t)}catch(e){t=(n=[],r(t,function(e){n.push(e)}),{v:n});if("object"===o(t))return t.v}var n},t.last=function(e){return e[e.length-1]},t.isTag=n,t.isScript=function(e){return n(e,"script")},t.isStyle=function(e){return n(e,"style")}}],r={},n.m=a,n.c=r,n.p="",n(0);function n(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return a[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var a,r},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():n.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n<\/script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var i=n("@adobe/reactor-promise"),o=0;e.exports=function(a,e){var r="_runScript"+ ++o,t=new i(function(e,n){_satellite[r]=function(t){delete _satellite[r],new i(function(e){e(t.call(a.event.element,a.event,a.event.target,i))}).then(e,n)}});return{code:'<script>_satellite["'+r+'"](function(event, target, Promise) {\n'+e+"\n});<\/script>",promise:t}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-promise"),i=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};e.exports=function(e,t){var n;return-1!==(t=e.settings.isExternal?a.replaceTokens(t,e.event):t).indexOf("${reactorCallbackId}")?(n=new r(function(e,t){o[String(i)]={resolve:e,reject:t}}),e=i,t=t.replace(/\${reactorCallbackId}/g,e),i+=1):n=r.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-load-script"),r=n("@adobe/reactor-promise"),i={},o={};_satellite.__registerScript=function(e,t){i[e]=t},e.exports=function(n){return i[n]?r.resolve(i[n]):new r(function(e){var t;o[t=n]||(o[t]=a(t)),o[t].then(function(){e(i[n])},function(){e()})})}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var a=n("./weakMap"),m=n("./matchesProperties"),g=n("./matchesSelector");e.exports=function(){var d=[],p=new a;return{addListener:function(e,t){d.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(d.length&&!p.has(t)){for(var n=t.target,a=!1;n;){for(var r=!1,i=!1,o=0;o<d.length;o++){var s,c=d[o],l=c.settings.elementSelector,u=c.settings.elementProperties;!1===c.settings.bubbleFireIfChildFired&&a||n!==t.target&&!1===c.settings.bubbleFireIfParent||!(n===t.target||l||u&&Object.keys(u).length)||l&&!g(n,l)||u&&!m(n,u)||(s={},e?Object.keys(t).forEach(function(e){s[e]=t[e]}):s.nativeEvent=t,s.element=n,s.target=t.target,!1!==c.callback(s)&&(i=!0,c.settings.bubbleStop&&(r=!0)))}if(r)break;i&&(a=!0),n=n.parentNode}p.set(t,!0)}},__reset:function(){d=[]}}}}},"core/src/lib/conditions/helpers/compareNumbers.js":{script:function(e){"use strict";var a=">",r="<",i="=";e.exports=function(e,t,n){switch(t){case a:return n<e;case r:return e<n;case i:return e===n}}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";function a(e,t){return{element:e,target:e,nativeEvent:t}}var r=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),o=-1!==r.navigator.appVersion.indexOf("MSIE 10"),s="WINDOW_LOADED",c="DOM_READY",l="PAGE_BOTTOM",u=[l,c,s],d={};u.forEach(function(e){d[e]=[]});function p(e,n){u.slice(0,u.indexOf(e)+1).forEach(function(e){var t;t=n,d[e=e].forEach(function(e){m(t,e)}),d[e]=[]})}var m=function(e,t){var n=t.trigger,t=t.syntheticEventFn;n(t?t(e):null)};r._satellite=r._satellite||{},r._satellite.pageBottom=p.bind(null,l),i.addEventListener("DOMContentLoaded",p.bind(null,c),!0),r.addEventListener("load",p.bind(null,s),!0),r.setTimeout(function(){var e="complete"===i.readyState?s:"interactive"===i.readyState?o?null:c:void 0;e&&p(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[l].push({trigger:e})},registerDomReadyTrigger:function(e){d[c].push({trigger:e,syntheticEventFn:a.bind(null,i)})},registerWindowLoadedTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:a.bind(null,r)})}}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2348d2a246a14598a388a7b6b9a290a6/"},"fm-spon-data-layer-constructor":{displayName:"Data Layer Constructor",modules:{"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js":{name:"glyph-data-element",displayName:"Dropdown",script:function(e,t,l,u){"use strict";e.exports=function(t,e){l("../constructor/init")(u,"dataelement>glyphDataElement");try{var n=!(!e||"fm-spon-data-layer-constructor.data-layer-push"!==e.$type),a=n?e.detail.state:window[u.getExtensionSettings().dataLayerRoot].getState(),r=t.value.split("."),i=u.getExtensionSettings(),o=2<=(isNaN(parseInt(i.constructorDebug))?0:parseInt(i.constructorDebug)),s=function(e,t){for(var n=0,a=t.length;n<a;n++){if(!e.hasOwnProperty(t[n]))return null;e=e[t[n]]}return e}(a,r),s=t.convertToString?(c=s).toString&&"function"==typeof c.toString?c.toString():c:s;return s=t.doCustomCode&&"function"==typeof t.callback?t.callback(s):s,o&&u.logger.debug("Resolving",{value:s,path:t.value,isContext:n,convertToString:t.convertToString,modify:t.doCustomCode&&t.callback,state:a}),s}catch(e){return u.logger.error("Error Resolving Data Definition",t,"\n",e),null}var c}}},"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js":{name:"synchronous-code",displayName:"Synchronous Code",script:function(e,t,n,a){"use strict";e.exports=function(t,n){try{t.callback(n)}catch(e){a.logger.error("Error running synchronous code event",t,n,"\n",e)}}}},"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js":{name:"data-layer-push",displayName:"Data Layer Push",script:function(e,t,n,a){"use strict";function r(t){i.hasOwnProperty(t.detail.eventName)&&i[t.detail.eventName].forEach(function(e){e({detail:t.detail})})}var i={};window.removeEventListener("DataLayerConstructorEvent",r),window.addEventListener("DataLayerConstructorEvent",r),e.exports=function(e,t){n("../constructor/init")(a,"event>push"),e=e.eventName,t=t,"string"==typeof e&&""!==e&&(i[e]=i[e]||[],i[e].push(t))}}},"fm-spon-data-layer-constructor/src/lib/actions/activate.js":{name:"activate",displayName:"Activate",script:function(e,t,a,r){"use strict";e.exports=function(e){a("../constructor/init")(r,"actions>activate");var t="true"===(t=e.firePreviousEvents)||!0===t,n=window[r.getExtensionSettings().dataLayerRoot];setTimeout(function(){n.activateEvents(t)},0)}}},"fm-spon-data-layer-constructor/src/lib/main.js":{script:function(e,t,n,a){n("./constructor/init")(a,"main")}},"fm-spon-data-layer-constructor/src/lib/constructor/init.js":{script:function(e,t,n){"use strict";var a=!1;e.exports=function(e){!0!==a&&(a=!0,n("./polyfills")(),n("./constructor")(n("./defaultConfig")(e)))}}},"fm-spon-data-layer-constructor/src/lib/constructor/polyfills.js":{script:function(e){"use strict";e.exports=function(){return"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}),!0}}},"fm-spon-data-layer-constructor/src/lib/constructor/constructor.js":{script:function(e){"use strict";e.exports=function(e){function r(e){var t={};return w(t,e),t}function i(e){for(var t in e)delete e[t]}function o(e,t){var n=_.getType(e);if("string"===n)e=e.split(".");else if("array"!==n)return void h("unsupported path type",e,n);for(var a=t,r=0,i=e.length;r<i;r++){if(void 0===a[e[r]])return;a=a[e[r]]}return a}function l(e,t){for(var n=e.split("."),e={},a=e,r=0,i=n.length-1;r<i;r++)a=a[n[r]]={};return a[n[n.length-1]]=t,e}function s(e,t){if("array"===_.getType(e))for(;0<e.length;)try{var n=e.shift(),a=_.getType(n);"array"===a?C.metaCommand(n,t):"function"===a?C.methodCommand(n,t):"object"===a?C.mergeCommand(n,t):"reset"===n?i(t):h("invalid command type pushed:",n)}catch(e){h("processQueue error",e)}else h("queue must be an array",e)}var t,c={debug:!1,defaultMode:"merge",clearEventBeforeMerge:!0,eventActionPath:"event.action",eventRootPath:"event",dataLayerKey:"digitalData",eventsActivated:!1,loggingFunction:void 0,eventTriggerCallBack:void 0,eventPreMergeCallBack:void 0,eventPostMergeCallBack:void 0,pushCallBack:void 0,maxDataLayerSize:50};for(t in e)c[t]=e[t];var u=!0,d=[],p={},m=[],g=!0,f=["merge","replace","append","arrayReplace"],h=function(){};c.debug&&(h=c.loggingFunction||Function.prototype.bind.apply(console.debug,[console,"[Constructor]"])),-1===f.indexOf(c.defaultMode)&&(h("unknown default mode:",[c.defaultMode],"setting fallback mode:",["merge"]),c.defaultMode="merge");function n(a){return{set:function(e,t){var n=y;y="merge",s([l(e,t)],a),y=n},get:function(e){return o(e,a)}}}var a,v,b,y=c.defaultMode,_=(a=/\[object (Object|Boolean|Number|String|Function|Array|Date|RegExp)\]/,v=/\[object (Object|Boolean|Number|String|Function|Array|Date)\]/,{getType:function(e,t){if(null===e)return"null";if(void 0===e)return"undefined";if(1<=e.nodeType&&void 0!==e.nodeName)return"node";e=Object.prototype.toString.call(Object(e)),e=(t?v:a).exec(e);return e?e[1].toLocaleLowerCase():"unsupported"},isNonEmptyString:function(e){return"string"==typeof e&&""!==e}}),w=(b=0,function(e,t){return b=0,!function e(t,n){if(20<++b)return h("recursion limit reached!"),!0;var a,r=!1;for(a in n){var i=n[a],o=a;_.isNonEmptyString(a)&&-1!==a.indexOf(".")&&(i=(s=l(a,i))[o=Object.keys(s)[0]]);var s,c=_.getType(i,!0);"object"===c?("replace"!==y&&_.getType(t[o],!0)===c||(t[o]={}),r=e(t[o],i)||r):"array"===c?("arrayReplace"!==y&&"replace"!==y&&_.getType(t[o],!0)===c||(t[o]=[]),"append"===y?(r=e(s=[],i)||r,t[o]=t[o].concat(s)):r=e(t[o],i)||r):"unsupported"===c?h("unsupported type detected > ignoring ",i):t[o]=i}return--b,r}(e,t)}),P=n(p),C={mergeCommand:function(e,t){if(e=r(e),"function"==typeof c.pushCallBack)try{c.pushCallBack(t,e)}catch(e){h("callback error:",e)}var n=o(c.eventActionPath,e),a=_.isNonEmptyString(n);if(a&&c.clearEventBeforeMerge&&i(o(c.eventRootPath,t)),a&&"function"==typeof c.eventPreMergeCallBack){try{a=c.eventPreMergeCallBack(t,o(c.eventRootPath,e),n)}catch(e){a=!1,h("callback error:",e)}a||h("event cancelled by eventPreMergeCallBack")}if(w(t,e),a){e=r(t),a=o(c.eventRootPath,e),n=o(c.eventActionPath,e);if(t===p&&(c.debug&&m.push(e),!c.eventsActivated&&u&&d.push(e)),g&&c.eventsActivated)try{h("firing event:",n,a),"function"==typeof c.eventTriggerCallBack&&c.eventTriggerCallBack(e,a,n)}catch(e){h("callback error:",e)}else c.debug&&h("event disregarded"+(u?" and stored:":":"),a);if("function"==typeof c.eventPostMergeCallBack)try{c.eventPostMergeCallBack(e,o(c.eventRootPath,e),n)}catch(e){h("callback error:",e)}}},metaCommand:function(e,t){if(_.isNonEmptyString(e[0])){var n=e[0],a=e.slice(1);if(0===n.indexOf("mode:")){var r=n.split(":")[1];-1===f.indexOf(r)&&(h("unknown mode:",[r],"applying fallback mode:",[c.defaultMode]),r=c.defaultMode);var i=y;y=r,s(a,t),y=i}else{i=n.split("."),n=i.pop(),t=o(i,t);try{t[n].apply(t,a)}catch(e){h("meta command",e)}}}else h("invalid command >",e[0],"<, must be non-empty string")},methodCommand:function(e,t){e.call(t===p?P:n(t))}};window[c.dataLayerKey]=window[c.dataLayerKey]||[];var E,k={getVersion:function(){return"1.7.0"},getState:function(){return p},getEventHistory:function(){return c.debug||console.warn("[Constructor] .getEventHistory() only stores events in debug mode"),m},clearEventHistory:function(){m=[]},compress:function(){window[c.dataLayerKey].splice(0,window[c.dataLayerKey].length),window[c.dataLayerKey][0]=p},activateEvents:function(e){c.eventsActivated||(c.eventsActivated=!0,u=!1,h("activating events. firing",d.length,"previously stored events?",e),e&&d.forEach(function(e){try{var t=o(c.eventRootPath,e),n=o(c.eventActionPath,e);h("firing event:",n,t),"function"==typeof c.eventTriggerCallBack&&c.eventTriggerCallBack(e,t,n)}catch(e){h("callback error",e)}}),d=[])},deactivateEvents:function(e){h("Deactivating Events. Events will be stored?",e),c.eventsActivated=!1,u=e;var t=d.length;!e&&0<t&&(h("clearing",t,"stored events"),d=[])},processExternal:function(e,t,n,a){var r=g;g=n;n=y;return"string"==typeof a&&(-1!==f.indexOf(a)?y=a:(y=c.defaultMode,h("Invalid mode",[a],"using default",[c.defaultMode]))),t=t||{},s(e.slice(),t),g=r,y=n,t},push:function(){s(Array.prototype.slice.call(arguments),p);var e=Array.prototype.push.apply(this,arguments);return this.length>c.maxDataLayerSize&&this.splice(0,this.length-c.maxDataLayerSize),e}};for(E in k)"function"==typeof k[E]&&(window[c.dataLayerKey][E]=k[E]);h("init",c),s(window[c.dataLayerKey].slice(),p)}}},"fm-spon-data-layer-constructor/src/lib/constructor/defaultConfig.js":{script:function(e){"use strict";e.exports=function(e){var t=e.getExtensionSettings(),n=isNaN(parseInt(t.constructorDebug))?0:parseInt(t.constructorDebug);return{debug:e.debugEnabled&&("true"===t.constructorDebug||!0===t.constructorDebug||1<=n),defaultMode:t.defaultMode||"merge",clearEventBeforeMerge:t.clearEventObject,eventActionPath:t.eventActionPath,eventRootPath:t.eventRootPath,dataLayerKey:t.dataLayerRoot,eventPreMergeCallBack:t.doPreEventMerge&&"function"==typeof t.codePreEventMerge?t.codePreEventMerge:void 0,eventPostMergeCallBack:t.doPostEventMerge&&"function"==typeof t.codePostEventMerge?t.codePostEventMerge:void 0,pushCallBack:t.doPreMerge&&"function"==typeof t.codePreMerge?t.codePreMerge:void 0,eventTriggerCallBack:function(e,t,n){n=new CustomEvent("DataLayerConstructorEvent",{detail:{state:e,eventObject:t,eventName:n}});window.dispatchEvent(n)},maxDataLayerSize:isNaN(parseInt(t.maxDataLayerSize))?50:parseInt(t.maxDataLayerSize),loggingFunction:e.logger.debug,eventsActivated:!1}}}}},settings:{doPreMerge:!1,defaultMode:"merge",codePreMerge:function(){},dataLayerRoot:"SARAs_data",eventRootPath:"event",doPreEventMerge:!1,eventActionPath:"event.info.action",clearEventObject:!0,constructorDebug:"1",doPostEventMerge:!1,maxDataLayerSize:"",codePreEventMerge:function(){},codePostEventMerge:function(){}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP45564c523eb34b1083c6e866f0f55902/"},"adobe-mcid":{displayName:"Experience Cloud ID Service",modules:{"adobe-mcid/src/lib/dataElements/ecid.js":{name:"ecid",displayName:"ECID",script:function(e,t,n){"use strict";var a;n("../sharedModules/mcidInstance").onReceiveEcid(function(e){a=e}),e.exports=function(){return a}}},"adobe-mcid/src/lib/actions/setCustomerIds.js":{name:"set-customer-ids",displayName:"Set Customer IDs",script:function(e,t,n,a){"use strict";function i(e){return"string"==typeof e&&0<e.length}var o=n("../sharedModules/mcidInstance"),s=a.logger;e.exports=function(e){var a,r;o?(e=e.customerIds,a={},r=[],e.forEach(function(e){var t=e.integrationCode,n=e.value;i(t)&&i(n)?(a[t]={id:n},e.hasOwnProperty("authState")&&(a[e.integrationCode].authState=e.authState),e.hasOwnProperty("hashType")&&(a[e.integrationCode].hashType=e.hashType)):r.push(e)}),r.length&&s.warn("Rejected these customer ids: "+JSON.stringify(r)),o.setCustomerIDs(e=a),s.info("Set Customer IDs: "+JSON.stringify(e))):s.warn("MCID instance cannot be found. Cannot set Customer IDs.")}}},"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,n,s){"use strict";var a,r=n("@adobe/reactor-document"),i=n("../codeLibrary/VisitorAPI"),c=n("../../view/utils/timeUnits"),o=null;_satellite.getVisitorId=function(){return o},a=r.location.pathname,(s.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(a):e.value===a})?s.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):o=function(e){var t=s.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var n=(t.variables||[]).reduce(function(e,t){var n=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=n,e},{}),a=t.doesOptInApply;a&&("boolean"==typeof a?n.doesOptInApply=a:t.optInCallback&&(n.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(n.isOptInStorageEnabled=r);var i=t.optInCookieDomain;i&&(n.optInCookieDomain=i);a=t.optInStorageExpiry;a?(i=t.timeUnit)&&c[i]&&(i=a*c[i],n.optInStorageExpiry=i):!0===r&&(n.optInStorageExpiry=33696e3);r=t.previousPermissions;r&&(n.previousPermissions=r);r=t.preOptInApprovals;r?n.preOptInApprovals=r:(o=t.preOptInApprovalInput)&&(n.preOptInApprovals=o);var o=t.isIabContext;o&&(n.isIabContext=o);e=e.getInstance(t.orgId,n);return s.logger.info('Created instance using orgId: "'+t.orgId+'"'),s.logger.info("Set variables: "+JSON.stringify(n)),e.getMarketingCloudVisitorID(function(e){s.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),e}(i),e.exports=o},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){t=null==e?void 0:e[t];return void 0===t?n:t}function n(e,t){if(e===t)return 0;e=e.toString().split("."),t=t.toString().split(".");return function(e){for(var t=/^\d+$/,n=0,a=e.length;n<a;n++)if(!t.test(e[n]))return;return 1}(e.concat(t))?(function(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}(e,t),function(e,t){for(var n=0;n<e.length;n++){var a=parseInt(e[n],10),r=parseInt(t[n],10);if(r<a)return 1;if(a<r)return-1}return 0}(e,t)):NaN}function a(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function t(e,t){function n(e,t){var n,e=le(e);return e.length?e.every(function(e){return!!t[e]}):(n=t,!!(e=Object.keys(n)).length&&e.every(function(e){return!0===n[e]}))}function a(){k(C),E(R),v(h.status,h.permissions),l&&f.set(h.permissions,{optInCookieDomain:u,optInStorageExpiry:d}),b.execute(ve)}function r(n){return function(e,t){if(!ue(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return E(L),Object.assign(C,T(le(e),n)),t||a(),h}}var i=0<arguments.length&&void 0!==e?e:{},o=i.doesOptInApply,s=i.previousPermissions,c=i.preOptInApprovals,l=i.isOptInStorageEnabled,u=i.optInCookieDomain,d=i.optInStorageExpiry,p=i.isIabContext,e=(1<arguments.length&&void 0!==t?t:{}).cookies,t=ce(i=s,"function")?i():i;A(t,"Invalid `previousPermissions`!"),A(c,"Invalid `preOptInApprovals`!");var m,g,f=function(e,t){var a=(0<arguments.length&&void 0!==e?e:{}).cookieName,r=(1<arguments.length&&void 0!==t?t:{}).cookies;if(!a||!r)return{get:fe,set:fe,remove:fe};var i={remove:function(){r.remove(a)},get:function(){var e=r.get(a),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{};var n=i.get(),e=Object.assign(n,e);r.set(a,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}};return i}({cookieName:"adobeujs-optin"},{cookies:e}),h=this,v=(m={},(s=h).on=function(e,t,n){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");m.hasOwnProperty(e)||(m[e]=[]);var a=m[e].push({callback:t,context:n})-1;return function(){m[e].splice(a,1),m[e].length||delete m[e]}},s.off=function(e,t){m.hasOwnProperty(e)&&(m[e]=m[e].filter(function(e){if(e.callback!==t)return e}))},s.publish=function(e){var t;m.hasOwnProperty(e)&&(t=[].slice.call(arguments,1),m[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)}))},s.publish),b=S(),i=x(t),y=x(c),e=l?f.get():{},_={},w=(s=e,pe(i)||s&&pe(s)?R:D),P=(t=y,s=i,i=e,e=T(ne,!o),o?Object.assign({},e,t,s,i):e),C=j(P),E=function(e){return w=e},k=function(e){return P=e};h.deny=r(!1),h.approve=r(!0),h.denyAll=h.deny.bind(h,ne),h.approveAll=h.approve.bind(h,ne),h.isApproved=function(e){return n(e,h.permissions)},h.isPreApproved=function(e){return n(e,y)},h.fetchPermissions=function(e,t){var n=1<arguments.length&&void 0!==t&&t,t=n?h.on(R,e):fe;return!o||h.isComplete||c?e(h.permissions):n||b.add(ve,function(){return e(h.permissions)}),t},h.complete=function(){h.status===L&&a()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error("[OptIn#registerPlugin] Plugin is invalid.");_[e.name]||(_[e.name]=e).onRegister.call(e,h)},h.execute=(g=_,function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.command,e=t.params,e=void 0===e?{}:e,t=t.callback,t=void 0===t?fe:t;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var a=n.split("."),r=g[a[0]],i=a[1];if(!r||"function"!=typeof r[i])throw new Error("Make sure the plugin and API name exist.");var o=Object.assign(e,{callback:t});r[i].call(r,o)}catch(e){se.error("[execute] Something went wrong: "+e.message)}}),h.memoizeContent=function(e){ge(e)&&f.set(e,{optInCookieDomain:u,optInStorageExpiry:d})},h.getMemoizedContent=function(e){var t=f.get();if(t)return t[e]},Object.defineProperties(h,{permissions:{get:function(){return P}},status:{get:function(){return w}},Categories:{get:function(){return N}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return h.status===D}},isComplete:{get:function(){return h.status===R}},__plugins:{get:function(){return Object.keys(_)}},isIabContext:{get:function(){return p}}})}function s(e,t){if(void 0===t)return e;var n=setTimeout(function(){n=null,e.call(e,new a("The call took longer than you wanted!"))},t);return function(){n&&(clearTimeout(n),e.apply(e,arguments))}}function l(t,e,n){n=2<arguments.length&&void 0!==n?n:[],e=!0===t.vendor.consents[e],n=n.every(function(e){return!0===t.purpose.consents[e]});return e&&n}var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,a=1;a<arguments.length;++a)for(t in n=arguments[a])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};function g(i){function n(){}this.getMarketingCloudVisitorID=function(e){var t=this.findField(u.MCMID,e=e||n),e=function(n,a){var r=this;return function(){var e=i(0,n),t={};return t[n]=e,r.setStateAndPublish(t),a(e),e}}.call(this,u.MCMID,e);return void 0!==t?t:e()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}}function f(){function a(){}Object.keys(p).forEach(function(n){this[p[n]]=function(e){var t=this.findField(n,e=e||a),e=function(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(d.GETSTATE),""}}.call(this,n,e);return void 0!==t?t:e()}},this),Object.keys(m).forEach(function(e){this[m[e]]=function(){return this.findField(e,a)||{}}},this)}function h(){Object.keys(v).forEach(function(t){this[v[t]]=function(e){this.callbackRegistry.add(t,e)}},this)}function B(a,r){this.parse=function(e){try{var n={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(n[_[t]]=2!==t?e:JSON.parse(e))}),n}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var n=a!==t.orgID,e=!r||e.origin!==r,t=-1===Object.keys(y).indexOf(t.prefix);return n||e||t},this.send=function(e,t,n){t=t+"|"+a;n&&n===Object(n)&&(t+="|"+JSON.stringify(n));try{e.postMessage(t,r)}catch(e){}}}function o(e,t,n,a){function r(e){Object.assign(u,e)}function i(e){m.isInvalid(e)||(p=!1,e=m.parse(e),u.setStateAndPublish(e.state))}function o(e){!p&&d&&(p=!0,m.send(a,e))}function s(){r(new g(n._generateID)),u.getMarketingCloudVisitorID(),u.callbackRegistry.executeAll(u.state,!0),H.removeEventListener("message",c)}function c(e){m.isInvalid(e)||(e=m.parse(e),p=!1,H.clearTimeout(u._handshakeTimeout),H.removeEventListener("message",c),r(new f),H.addEventListener("message",i),u.setStateAndPublish(e.state),u.callbackRegistry.hasCallbacks()&&o(w.GETSTATE))}function l(){Object.keys(n).forEach(function(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(u[e]=function(){})}),u.getSupplementalDataID=n.getSupplementalDataID,u.isAllowed=function(){return!0}}var u=this,d=t.whitelistParentDomain;u.state={ALLFIELDS:{}},u.version=n.version,u.marketingCloudOrgID=e,u.cookieDomain=n.cookieDomain||"";var p=!(u._instanceType="child"),m=new B(e,d);u.callbackRegistry=b(),u.init=function(){H.s_c_in||(H.s_c_il=[],H.s_c_in=0),u._c="Visitor",u._il=H.s_c_il,u._in=H.s_c_in,u._il[u._in]=u,H.s_c_in++,l(),r(new h),d&&postMessage?(H.addEventListener("message",c),o(w.HANDSHAKE),u._handshakeTimeout=setTimeout(s,250)):s()},u.findField=function(e,t){if(void 0!==u.state[e])return t(u.state[e]),u.state[e]},u.messageParent=o,u.setStateAndPublish=function(e){Object.assign(u.state,e),Object.assign(u.state.ALLFIELDS,e),u.callbackRegistry.executeAll(u.state)}}function W(r,i){function t(a){return function e(){var t,n=(t=[],r._loading&&Object.keys(r._loading).forEach(function(e){r._loading[e]&&(e=k[e],t.push(e))}),t.length?t:null);n?(n=E[n[0]],r[n](e,!0)):a()}}function a(e,t){var n,a=(n={},Object.keys(C).forEach(function(e){var t=C[e],t=r[t]();K.isValueEmpty(t)||(n[e]=t)}),n);i.send(e,t,a)}function n(e){var t,n;t=e,n=r.setCustomerIDs,r.setCustomerIDs=function(e){n.call(r,e),i.send(t,P.PARENTSTATE,{CUSTOMERIDS:r.getCustomerIDs()})},a(e,P.HANDSHAKE)}return function(e){i.isInvalid(e)||(i.parse(e).prefix===P.HANDSHAKE?n:function(e){t(function(){a(e,P.PARENTSTATE)})()})(e.source)}}function z(r,i){var o={},s=0,c=Object.keys(r).length;Object.keys(r).forEach(function(e){var t,n,a=r[e];a.fn&&((t=a.args||[]).unshift((n=e,function(e){o[n]=e,++s===c&&i(o)})),a.fn.apply(a.context||null,t))})}function G(e,t){for(var n=(e=!e&&H.location?H.location.hostname:e).split("."),a=t||{},r=n.length-2;0<=r;r--)if(a.domain=n.slice(r).join("."),Q.set("test","cookie",a))return Q.remove("test",a),a.domain;return""}function J(e){var t,n,a="0123456789",r="",i="",o=8,s=10,c=10;if(1==e){for(a+="ABCDEF",t=0;t<16;t++)n=Math.floor(Math.random()*o),r+=a.substring(n,n+1),n=Math.floor(Math.random()*o),i+=a.substring(n,n+1),o=16;return r+"-"+i}for(t=0;t<19;t++)n=Math.floor(Math.random()*s),r+=a.substring(n,n+1),0===t&&9==n?s=3:((1==t||2==t)&&10!=s&&n<2||2<t)&&(s=10),n=Math.floor(Math.random()*c),i+=a.substring(n,n+1),0===t&&9==n?c=3:((1==t||2==t)&&10!=c&&n<2||2<t)&&(c=10);return r+i}function $(a){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(H.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new H[this.corsMetadata.corsType]},fireCORS:function(i,e){var o=this;e&&(i.loadErrorHandler=e);try{var t=this.getCORSInstance();t.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(t.withCredentials=!0,t.timeout=a.loadTimeout,t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return o.handleCORSError(i,null,"Response is not JSON")}catch(e){return o.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var n=i.callback,a=H,r=0;r<n.length;r++)a=a[n[r]];a(t)}catch(e){o.handleCORSError(i,e,"Error forming callback function")}}(this.responseText)}),t.onerror=function(e){o.handleCORSError(i,e,"onerror")},t.ontimeout=function(e){o.handleCORSError(i,e,"ontimeout")},t.send(),a._log.requests.push(i.corsUrl)}catch(e){this.handleCORSError(i,e,"try-catch")}},handleCORSError:function(e,t,n){a.CORSErrors.push({corsData:e,error:t,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t}function S(){var r={};return r.callbacks=Object.create(null),r.add=function(e,t){if(!("function"==typeof(n=t)||n instanceof Array&&n.length))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");var n;r.callbacks[e]=r.callbacks[e]||[];var a=r.callbacks[e].push(t)-1;return function(){r.callbacks[e].splice(a,1)}},r.execute=function(e,t){if(r.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;r.callbacks[e].length;){var n=r.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete r.callbacks[e]}catch(e){}}},r.executeAll=function(n,e){(e||n&&((e=n)!==Object(e)||0!==Object.keys(e).length))&&Object.keys(r.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";r.execute(e,t)},r)},r.hasCallbacks=function(){return Boolean(Object.keys(r.callbacks).length)},r}function r(a,r,e){return e()?function(){if(re(a)){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console[a].apply(console,[r].concat(t))}}:ae}function T(e,n){return e.reduce(function(e,t){return e[t]=n,e},{})}function j(e){return JSON.parse(JSON.stringify(e))}function x(e){if(ge(e))return e;try{return JSON.parse(e)}catch(e){return{}}}function A(e,t){pe(e)||se.error("".concat(t))}var i,Y={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},u=Y.STATE_KEYS_MAP,d=Y.MESSAGES,p=Y.ASYNC_API_MAP,m=Y.SYNC_API_MAP,v=Y.ASYNC_API_MAP,K=(function(t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)};t.getIeVersion=function(){return document.documentMode||(e=navigator.appName,t=navigator.userAgent,"Microsoft Internet Explorer"===e||0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")&&0<=t.indexOf("Windows NT 6")?7:null);var e,t},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"===q(e)&&!1===Array.isArray(e)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(n,e){return e.reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},Object.create(null))},t.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));e=parseInt(e.d_ottl,10);return{optOut:t,d_ottl:e=isNaN(e)?7200:e}},t.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}((_e={exports:{}}).exports),_e.exports),b=(K.isObjectEmpty,K.isValueEmpty,K.getIeVersion,K.encodeAndBuildRequest,K.isObject,K.defineGlobalNamespace,K.pluck,K.parseOptOut,K.normalizeBoolean,function(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,a=this;return function(){a.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(n,e){(e||n&&!K.isObjectEmpty(n))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}),y=Y.MESSAGES,_={0:"prefix",1:"orgID",2:"state"},w=Y.MESSAGES,P=Y.MESSAGES,C=Y.ALL_APIS,E=Y.ASYNC_API_MAP,k=Y.FIELDGROUP_TO_FIELD,Q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),a=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a))},set:function(e,t,n){var a=c(n,"cookieLifetime"),r=c(n,"expires"),i=c(n,"domain"),o=c(n,"secure"),s=c(n,"sameSite"),n=o?"Secure":"",o=s?"SameSite="+s+";":"";return r&&"SESSION"!==a&&"NONE"!==a?(s=""!==t?parseInt(a||0,10):-60)?(r=new Date).setTime(r.getTime()+1e3*s):1===r&&(s=(r=new Date).getYear(),r.setYear(s+2+(s<1900?1900:0))):r=0,e&&"NONE"!==a?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(i?" domain="+i+";":"")+o+n,this.get(e)===t):0},remove:function(e,t){var n=(n=c(t,"domain"))?" domain="+n+";":"",a=c(t,"secure"),t=c(t,"sameSite"),a=a?"Secure":"",t=t?"SameSite="+t+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n+t+a}},X=function(e,t){return n(e,t)<0},Z=function(e,t){return 0!==n(e,t)},V=!!H.postMessage,ee={postMessage:function(e,t,n){t&&(V?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+"1&"+e))},receiveMessage:function(t,n){var e;try{V&&(t&&(e=function(e){if("string"==typeof n&&e.origin!==n||"[object Function]"===Object.prototype.toString.call(n)&&!1===n(e.origin))return!1;t(e)}),H.addEventListener?H[t?"addEventListener":"removeEventListener"]("message",e):H[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},te={POST_MESSAGE_ENABLED:!!H.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},O={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},I={getConfigNames:function(){return Object.keys(O)},getConfigs:function(){return O},normalizeConfig:function(e,t){return!O[e]||"boolean"!==O[e].type||"function"!=typeof t?t:t()}},D="pending",L="changed",R="complete",N={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},M=(e(ie={},N.AAM,565),e(ie,N.ECID,565),ie),F=(e(_e={},N.AAM,[1,10]),e(_e,N.ECID,[1,10]),_e),U=["videoaa","iabConsentHash"],ne=(i=N,Object.keys(i).map(function(e){return i[e]})),ae=function(){},re=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},ie=function(e,t){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:function(){return!0},this.log=r("log",e,t),this.warn=r("warn",e,t),this.error=r("error",e,t)},oe=function(){for(var r=[],e=0;e<256;e++){for(var t=e,n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;r.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t=t||0,t^=-1;for(var n=0;n<e.length;n++){var a=255&(t^e.charCodeAt(n));t=t>>>8^r[a]}return(-1^t)>>>0}}(),se=new ie("[ADOBE OPT-IN]"),ce=function(e,t){return q(e)===t},le=function(e,t){return e instanceof Array?e:ce(e,"string")?[e]:t||[]},ue=function(e,t){var n=1<arguments.length&&void 0!==t&&t;return!(!e||de(e))&&le(e).every(function(e){return-1<ne.indexOf(e)||n&&-1<U.indexOf(e)})},de=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},pe=function(e){return void 0===e||(ge(e)?ue(Object.keys(e),!0):me(e))},me=function(e){try{var t=JSON.parse(e);return!!e&&ce(e,"string")&&ue(Object.keys(t),!0)}catch(e){return!1}},ge=function(e){return null!==e&&ce(e,"object")&&!1===Array.isArray(e)},fe=function(){},he=function(t){return Object.keys(t).map(function(e){return t[e]})};(a.prototype=Object.create(Error.prototype)).constructor=a;var ve="fetchPermissions";t.Categories=N,t.TimeoutError=a;function be(e,t){return e="SHA-256"===t||"SHA256"===t||"sha256"===t||"sha-256"===t?we(e):e}function ye(e){return String(e).trim().toLowerCase()}var _e=Object.freeze({OptIn:t,IabPlugin:function(){var e=this;e.name="iabPlugin",e.version="0.0.2";var r,i=S(),o={transparencyAndConsentData:null};e.fetchConsentData=function(e){e=s(e.callback,e.timeout);t({callback:e})},e.isApproved=function(e){var n=e.callback,a=e.category,e=e.timeout;if(o.transparencyAndConsentData)return n(null,l(o.transparencyAndConsentData,M[a],F[a]));e=s(function(e,t){n(e,l(t,M[a],F[a]))},e);t({category:a,callback:e})},e.onRegister=function(a){r=a;var t=Object.keys(M);e.fetchConsentData({callback:function(e,n){!e&&n&&(t.forEach(function(e){var t=l(n,M[e],F[e]);a[t?"approve":"deny"](e,!0)}),a.complete())}})};var t=function(e){e=e.callback;if(o.transparencyAndConsentData)return e(null,o.transparencyAndConsentData);i.add("FETCH_CONSENT_DATA",e),n(function(e,t){var n,a;t&&(n=j(e),a=r.getMemoizedContent("iabConsentHash"),t=oe(n.tcString).toString(32),n.consentString=e.tcString,n.hasConsentChangedSinceLastCmpPull=a!==t,function(e,t){o[e]=1<arguments.length&&void 0!==t?t:{}}("transparencyAndConsentData",n),r.memoizeContent({iabConsentHash:t})),i.execute("FETCH_CONSENT_DATA",[null,o.transparencyAndConsentData])})},n=function(e){var t=he(M).filter(function(e,t,n){return n.indexOf(e)===t}),n=function(){if(window.__tcfapi)return window.__tcfapi;var i,e=window;if(e!==window.top){for(;!i;){e=e.parent;try{e.frames.__tcfapiLocator&&(i=e)}catch(e){}if(e===window.top)break}if(i){var o={};return window.__tcfapi=function(e,t,n,a){var r=Math.random()+"",t={__tcfapiCall:{command:e,parameter:a,version:t,callId:r}};o[r]=n,i.postMessage(t,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}t.__tcfapiReturn&&(t=t.__tcfapiReturn,"function"==typeof o[t.callId]&&(o[t.callId](t.returnValue,t.success),delete o[t.callId]))},!1),window.__tcfapi}se.error("__tcfapi not found")}else se.error("__tcfapi not found")}();"function"==typeof n&&n("getTCData",2,e,t)}}}),we=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var a,r=Math.pow,i=r(2,32),o="",s=[],c=8*t.length,l=e.h=e.h||[],u=e.k=e.k||[],d=u.length,p={},m=2;d<64;m++)if(!p[m]){for(h=0;h<313;h+=m)p[h]=m;l[d]=r(m,.5)*i|0,u[d++]=r(m,1/3)*i|0}for(t+="";t.length%64-56;)t+="\0";for(h=0;h<t.length;h++){if((a=t.charCodeAt(h))>>8)return;s[h>>2]|=a<<(3-h)%4*8}for(s[s.length]=c/i|0,s[s.length]=c,a=0;a<s.length;){for(var g=s.slice(a,a+=16),f=l,l=l.slice(0,8),h=0;h<64;h++){var v=g[h-15],b=g[h-2],y=l[0],_=l[4],b=l[7]+(n(_,6)^n(_,11)^n(_,25))+(_&l[5]^~_&l[6])+u[h]+(g[h]=h<16?g[h]:g[h-16]+(n(v,7)^n(v,18)^v>>>3)+g[h-7]+(n(b,17)^n(b,19)^b>>>10)|0);(l=[b+((n(y,2)^n(y,13)^n(y,22))+(y&l[1]^y&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+b|0}for(h=0;h<8;h++)l[h]=l[h]+f[h]|0}for(h=0;h<8;h++)for(a=3;a+1;a--){var w=l[h]>>8*a&255;o+=(w<16?0:"")+w.toString(16)}return o},ie=_e.OptIn;K.defineGlobalNamespace(),window.adobe.OptInCategories=ie.Categories;ie=function(a,n,e){function d(){m._customerIDsHashChanged=!1}function t(e){var a=e;return function(e){var t=e||y.location.href;try{var n=m._extractParamFromUri(t,a);if(n)return O.parsePipeDelimetedKeyValues(n)}catch(e){}}}function r(e){m._supplementalDataIDCurrent=(e=e||{}).supplementalDataIDCurrent||"",m._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},m._supplementalDataIDLast=e.supplementalDataIDLast||"",m._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function i(e){e=e.reduce(function(e,t){var n=t[0],a=t[1];return e=null!=a&&a!==j?(t=(t=e)&&t+"|")+(n+"=")+encodeURIComponent(a):e},"");return(e?e+"|":e)+"TS="+O.getTimestampInSeconds()}function c(){return m.configs.doesOptInApply&&m.configs.isIabContext?g.optIn.isApproved(g.optIn.Categories.ECID)&&v:g.optIn.isApproved(g.optIn.Categories.ECID)}function o(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",a=m[t];m[t]=function(e){return c()&&m.isAllowed()?a.apply(m,arguments):("function"==typeof e&&m._callCallback(e,[n]),n)}})}function s(e,t){if(v=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(f=t.consentString,h=t.hasConsentChangedSinceLastCmpPull?1:0),e=m._getAudienceManagerURLData(),t=e.url,m._loadData(C,t,null,e),p()}function l(e,t){if(v=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(f=t.consentString,h=t.hasConsentChangedSinceLastCmpPull?1:0),m.init(),p()}function u(){g.optIn.isComplete&&(g.optIn.isApproved(g.optIn.Categories.ECID)?m.configs.isIabContext?g.optIn.execute({command:"iabPlugin.fetchConsentData",callback:l}):(m.init(),p()):m.configs.isIabContext?g.optIn.execute({command:"iabPlugin.fetchConsentData",callback:s}):(o(),p()))}function p(){g.optIn.off("complete",u)}if(!e||e.split("").reverse().join("")!==a)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var m=this,g=window.adobe,f="",h=0,v=!1,b=!1;m.version="5.2.0";var y=H,_=y.Visitor;_.version=m.version,_.AuthState=Y.AUTH_STATE,_.OptOut=Y.OPT_OUT,y.s_c_in||(y.s_c_il=[],y.s_c_in=0),m._c="Visitor",m._il=y.s_c_il,m._in=y.s_c_in,m._il[m._in]=m,y.s_c_in++,m._instanceType="regular",m._log={requests:[]},m.marketingCloudOrgID=a,m.cookieName="AMCV_"+a,m.sessionCookieName="AMCVS_"+a;e={};n&&n.secureCookie&&n.sameSiteCookie&&(e={sameSite:n.sameSiteCookie,secure:n.secureCookie}),m.cookieDomain=m.useLocalStorage?"":G(null,e),m.loadSSL=!0,m.loadTimeout=3e4,m.CORSErrors=[],m.marketingCloudServer=m.audienceManagerServer="dpm.demdex.net",m.sdidParamExpiry=30;function w(e){return!Object.prototype[e]}var P=null,C="MC",E="MCMID",k="MCAID",S="AAM",T="MCAAMB",j="NONE",x=$(m);m.FIELDS=Y.FIELDS,m.cookieRead=function(e){return m.useLocalStorage?(e===m.sessionCookieName?sessionStorage:localStorage).getItem(e):Q.get(e)},m.cookieWrite=function(e,t,n){var a=""+t;if(m.useLocalStorage)return(e===m.sessionCookieName?sessionStorage:localStorage).setItem(e,a);t=m.cookieLifetime?(""+m.cookieLifetime).toUpperCase():"",t={expires:n,domain:m.cookieDomain,cookieLifetime:t};return m.configs&&m.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),m.configs&&m.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=Y.SAME_SITE_VALUES[m.configs.sameSiteCookie.toUpperCase()]||"Lax"),Q.set(e,a,t)},m.removeCookie=function(e){if(m.useLocalStorage)return(e===m.sessionCookieName?sessionStorage:localStorage).removeItem(e);var t={domain:m.cookieDomain};return m.configs&&m.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),m.configs&&m.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=Y.SAME_SITE_VALUES[m.configs.sameSiteCookie.toUpperCase()]||"Lax"),Q.remove(e,t)},m.resetState=function(e){e?m._mergeServerState(e):r()},m._isAllowedDone=!1,m._isAllowedFlag=!1,m.isAllowed=function(){return m._isAllowedDone||(m._isAllowedDone=!0,(m.cookieRead(m.cookieName)||m.cookieWrite(m.cookieName,"T",1))&&(m._isAllowedFlag=!0)),"T"===m.cookieRead(m.cookieName)&&m.removeCookie(m.cookieName),m._isAllowedFlag},m.setMarketingCloudVisitorID=function(e){m._setMarketingCloudFields(e)},m._use1stPartyMarketingCloudServer=!1,m.getMarketingCloudVisitorID=function(e,t){m.marketingCloudServer&&m.marketingCloudServer.indexOf(".demdex.net")<0&&(m._use1stPartyMarketingCloudServer=!0);var n=m._getAudienceManagerURLData("_setMarketingCloudFields"),a=n.url;return m._getRemoteField(E,a,e,t,n)};m.getVisitorValues=function(e,t){var n,a,r,i={MCMID:{fn:m.getMarketingCloudVisitorID,args:[!0],context:m},MCOPTOUT:{fn:m.isOptedOut,args:[void 0,!0],context:m},MCAID:{fn:m.getAnalyticsVisitorID,args:[!0],context:m},MCAAMLH:{fn:m.getAudienceManagerLocationHint,args:[!0],context:m},MCAAMB:{fn:m.getAudienceManagerBlob,args:[!0],context:m}},i=t&&t.length?K.pluck(i,t):i;t&&-1===t.indexOf("MCAID")?(n=e,a=t,r={},m.getMarketingCloudVisitorID(function(){a.forEach(function(e){r[e]=m._getField(e,!0)}),-1!==a.indexOf("MCOPTOUT")?m.isOptedOut(function(e){r.MCOPTOUT=e,n(r)},null,!0):n(r)},!0)):z(i,e)},m._currentCustomerIDs={},m._customerIDsHashChanged=!1,m._newCustomerIDsHash="",m.setCustomerIDs=function(e,t){if(!m.isOptedOut()&&e){if(!K.isObject(e)||K.isObjectEmpty(e))return!1;var n,a,r,i;for(n in m._readVisitor(),e)if(w(n)&&(m._currentCustomerIDs.dataSources=m._currentCustomerIDs.dataSources||{},t=(a=e[n]).hasOwnProperty("hashType")?a.hashType:t,a))if("object"===q(a)){var o={};if(a.id){if(t){if(!(i=be(ye(a.id),t)))return;a.id=i,o.hashType=t}o.id=a.id}null!=a.authState&&(o.authState=a.authState),m._currentCustomerIDs.dataSources[n]=o}else if(t){if(!(i=be(ye(a),t)))return;m._currentCustomerIDs.dataSources[n]={id:i,hashType:t}}else m._currentCustomerIDs.dataSources[n]={id:a};var s=m.getCustomerIDs(!0),c="",l=(l=m._getField("MCCIDH"))||0;for(r in s){var u=s[r];if(!K.isObjectEmpty(u))for(n in u)w(n)&&(c+=(c?"|":"")+n+"|"+((a=u[n]).id?a.id:"")+(a.authState||""))}m._newCustomerIDsHash=String(m._hash(c)),m._newCustomerIDsHash!==l&&(m._customerIDsHashChanged=!0,m._mapCustomerIDs(d))}},m.syncIdentity=function(e,t){if(!m.isOptedOut()&&e){if(!K.isObject(e)||K.isObjectEmpty(e))return!1;var n,a,r,i;for(n in m._readVisitor(),e)if(w(n)&&(m._currentCustomerIDs.nameSpaces=m._currentCustomerIDs.nameSpaces||{},t=(a=e[n]).hasOwnProperty("hashType")?a.hashType:t,a&&"object"===q(a))){var o={};if(a.id){if(t){if(!(r=be(ye(a.id),t)))return;a.id=r,o.hashType=t}o.id=a.id}null!=a.authState&&(o.authState=a.authState),a.dataSource&&(m._currentCustomerIDs.dataSources=m._currentCustomerIDs.dataSources||{},r=a.dataSource,m._currentCustomerIDs.dataSources[r]=o),m._currentCustomerIDs.nameSpaces[n]=o}var s=m.getCustomerIDs(!0),c="",l=(l=m._getField("MCCIDH"))||"0";for(i in s){var u=s[i];if(!K.isObjectEmpty(u))for(n in u)w(n)&&(c+=(c?"|":"")+n+"|"+((a=u[n]).id?a.id:"")+(a.authState||""))}m._newCustomerIDsHash=String(m._hash(c)),m._newCustomerIDsHash!==l&&(m._customerIDsHashChanged=!0,m._mapCustomerIDs(d))}},m.getCustomerIDs=function(e){m._readVisitor();var t,n,a={dataSources:{},nameSpaces:{}},r=m._currentCustomerIDs.dataSources;for(t in r)w(t)&&(n=r[t]).id&&(a.dataSources[t]||(a.dataSources[t]={}),a.dataSources[t].id=n.id,null!=n.authState?a.dataSources[t].authState=n.authState:a.dataSources[t].authState=_.AuthState.UNKNOWN,n.hashType&&(a.dataSources[t].hashType=n.hashType));var i=m._currentCustomerIDs.nameSpaces;for(t in i)w(t)&&(n=i[t]).id&&(a.nameSpaces[t]||(a.nameSpaces[t]={}),a.nameSpaces[t].id=n.id,null!=n.authState?a.nameSpaces[t].authState=n.authState:a.nameSpaces[t].authState=_.AuthState.UNKNOWN,n.hashType&&(a.nameSpaces[t].hashType=n.hashType));return e?a:a.dataSources},m.setAnalyticsVisitorID=function(e){m._setAnalyticsFields(e)},m.getAnalyticsVisitorID=function(e,t,n){if(!O.isTrackingServerPopulated()&&!n)return m._callCallback(e,[""]),"";var a="";if((a=!n?m.getMarketingCloudVisitorID(function(){m.getAnalyticsVisitorID(e,!0)}):a)||n){var r=n?m.marketingCloudServer:m.trackingServer,i="";m.loadSSL&&(n?m.marketingCloudServerSecure&&(r=m.marketingCloudServerSecure):m.trackingServerSecure&&(r=m.trackingServerSecure));var o,s={};return r&&(o="http"+(m.loadSSL?"s":"")+"://"+r+"/id",r="d_visid_ver="+m.version+"&mcorgid="+encodeURIComponent(m.marketingCloudOrgID)+(a?"&mid="+encodeURIComponent(a):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":""),a=["s_c_il",m._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"],i=o+"?"+r+"&callback=s_c_il%5B"+m._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+r,s.callback=a),s.url=i,m._getRemoteField(n?E:k,i,e,t,s)}return""},m.getAudienceManagerLocationHint=function(e,t){if(m.getMarketingCloudVisitorID(function(){m.getAudienceManagerLocationHint(e,!0)})){var n=m._getField(k);if((n=!n&&O.isTrackingServerPopulated()?m.getAnalyticsVisitorID(function(){m.getAudienceManagerLocationHint(e,!0)}):n)||!O.isTrackingServerPopulated()){var a=m._getAudienceManagerURLData(),n=a.url;return m._getRemoteField("MCAAMLH",n,e,t,a)}}return""},m.getLocationHint=m.getAudienceManagerLocationHint,m.getAudienceManagerBlob=function(e,t){if(m.getMarketingCloudVisitorID(function(){m.getAudienceManagerBlob(e,!0)})){var n=m._getField(k);if((n=!n&&O.isTrackingServerPopulated()?m.getAnalyticsVisitorID(function(){m.getAudienceManagerBlob(e,!0)}):n)||!O.isTrackingServerPopulated()){var a=m._getAudienceManagerURLData(),n=a.url;return m._customerIDsHashChanged&&m._setFieldExpire(T,-1),m._getRemoteField(T,n,e,t,a)}}return""},m._supplementalDataIDCurrent="",m._supplementalDataIDCurrentConsumed={},m._supplementalDataIDLast="",m._supplementalDataIDLastConsumed={};var A=!(m.getSupplementalDataID=function(e,t){m._supplementalDataIDCurrent||t||(m._supplementalDataIDCurrent=m._generateID(1));var n=m._supplementalDataIDCurrent;return m._supplementalDataIDLast&&!m._supplementalDataIDLastConsumed[e]?(n=m._supplementalDataIDLast,m._supplementalDataIDLastConsumed[e]=!0):n&&(m._supplementalDataIDCurrentConsumed[e]&&(m._supplementalDataIDLast=m._supplementalDataIDCurrent,m._supplementalDataIDLastConsumed=m._supplementalDataIDCurrentConsumed,m._supplementalDataIDCurrent=n=t?"":m._generateID(1),m._supplementalDataIDCurrentConsumed={}),n&&(m._supplementalDataIDCurrentConsumed[e]=!0)),n});m._liberatedOptOut=null,m.getOptOut=function(e,t){var n=m._getAudienceManagerURLData("_setMarketingCloudFields"),a=n.url;if(c())return m._getRemoteField("MCOPTOUT",a,e,t,n);if(m._registerCallback("liberatedOptOut",e),null!==m._liberatedOptOut)return m._callAllCallbacks("liberatedOptOut",[m._liberatedOptOut]),A=!1,m._liberatedOptOut;if(A)return null;A=!0;e="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[e],H[e]=function(e){var t;e===Object(e)&&(t=(e=K.parseOptOut(e,t,j)).optOut,e=1e3*e.d_ottl,m._liberatedOptOut=t,setTimeout(function(){m._liberatedOptOut=null},e)),m._callAllCallbacks("liberatedOptOut",[t]),A=!1},x.fireCORS(n),null};var V={subscribed:!(m.isOptedOut=function(t,n,e){n=n||_.OptOut.GLOBAL;e=m.getOptOut(function(e){e=e===_.OptOut.GLOBAL||0<=e.indexOf(n);m._callCallback(t,[e])},e);return e?e===_.OptOut.GLOBAL||0<=e.indexOf(n):null}),callbacks:[]};m.onReceiveEcid=function(e){if(c())return m.getMarketingCloudVisitorID(e,!0);V.subscribed=!0,e&&"function"==typeof e&&V.callbacks.push(e)},m._fields=null,m._fieldsExpired=null,m._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},m._generateID=J,m._generateLocalMID=function(){var e=m._generateID(0);return U.isClientSideMarketingCloudVisitorID=!0,e},m._callbackList=null,m._callCallback=function(e,t){try{"function"==typeof e?e.apply(y,t):e[1].apply(e[0],t)}catch(e){}},m._registerCallback=function(e,t){t&&(null==m._callbackList&&(m._callbackList={}),null==m._callbackList[e]&&(m._callbackList[e]=[]),m._callbackList[e].push(t))},m._callAllCallbacks=function(e,t){if(null!=m._callbackList){var n=m._callbackList[e];if(n)for(;0<n.length;)m._callCallback(n.shift(),t)}},m._addQuerystringParam=function(e,t,n,a){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),t=O.parseHash(e),n=O.hashlessUrl(e);if(-1===n.indexOf("?"))return n+"?"+r+t;e=n.split("?"),n=e[0]+"?",e=e[1];return n+O.addQueryParamAtLocation(e,r,a)+t},m._extractParamFromUri=function(e,t){e=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(e&&e.length)return decodeURIComponent(e[1])},m._parseAdobeMcFromUrl=t(te.ADOBE_MC),m._parseAdobeMcSdidFromUrl=t(te.ADOBE_MC_SDID),m._attemptToPopulateSdidFromUrl=function(e){var t=m._parseAdobeMcSdidFromUrl(e),e=1e9;t&&t.TS&&(e=O.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===a&&e<m.sdidParamExpiry&&(m._supplementalDataIDCurrent=t.SDID,m._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},m._attemptToPopulateIdsFromUrl=function(){var e,t=m._parseAdobeMcFromUrl();function n(e,t,n){e&&e.match(te.VALID_VISITOR_ID_REGEX)&&(n===E&&(b=!0),t(e))}t&&t.TS&&(e=O.getTimestampInSeconds()-t.TS,Math.floor(e/60)>te.ADOBE_MC_TTL_IN_MIN||t.MCORGID!==a||(n((t=t)[E],m.setMarketingCloudVisitorID,E),m._setFieldExpire(T,-1),n(t[k],m.setAnalyticsVisitorID)))},m._mergeServerState=function(e){if(e)try{var t,n=e;(e=O.isObject(n)?n:JSON.parse(n))[m.marketingCloudOrgID]&&(a=(t=e[m.marketingCloudOrgID]).customerIDs,O.isObject(a)&&m.setCustomerIDs(a),r(t.sdid))}catch(e){throw new Error("`serverState` has an invalid format.")}var a,n},m._timeout=null,m._loadData=function(e,t,n,a){t=m._addQuerystringParam(t,"d_fieldgroup",e,1),a.url=m._addQuerystringParam(a.url,"d_fieldgroup",e,1),a.corsUrl=m._addQuerystringParam(a.corsUrl,"d_fieldgroup",e,1),U.fieldGroupObj[e]=!0,a===Object(a)&&a.corsUrl&&"XMLHttpRequest"===x.corsMetadata.corsType&&x.fireCORS(a,n,e)},m._clearTimeout=function(e){null!=m._timeout&&m._timeout[e]&&(clearTimeout(m._timeout[e]),m._timeout[e]=0)},m._settingsDigest=0,m._getSettingsDigest=function(){var e;return m._settingsDigest||(e=m.version,m.audienceManagerServer&&(e+="|"+m.audienceManagerServer),m.audienceManagerServerSecure&&(e+="|"+m.audienceManagerServerSecure),m._settingsDigest=m._hash(e)),m._settingsDigest},m._readVisitorDone=!1,m._readVisitor=function(){if(!m._readVisitorDone){m._readVisitorDone=!0;var e,t,n,a,r,i=m._getSettingsDigest(),o=!1,s=m.cookieRead(m.cookieName),c=new Date;if(s||b||m.discardTrackingServerECID||(s=m.cookieRead(te.FIRST_PARTY_SERVER_COOKIE)),null==m._fields&&(m._fields={}),s&&"T"!==s)for((s=s.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(s[0],10)!==i&&(o=!0),s.shift()),s.length%2==1&&s.pop(),e=0;e<s.length;e+=2)t=(r=s[e].split("-"))[0],n=s[e+1],r=1<r.length?(a=parseInt(r[1],10),0<r[1].indexOf("s")):(a=0,!1),o&&("MCCIDH"===t&&(n=""),0<a&&(a=c.getTime()/1e3-60)),t&&n&&(m._setField(t,n,1),0<a&&(m._fields["expire"+t]=a+(r?"s":""),(c.getTime()>=1e3*a||r&&!m.cookieRead(m.sessionCookieName))&&(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[t]=!0)));!m._getField(k)&&O.isTrackingServerPopulated()&&(s=m.cookieRead("s_vi"))&&1<(s=s.split("|")).length&&0<=s[0].indexOf("v1")&&((n=0<=(e=(n=s[1]).indexOf("["))?n.substring(0,e):n)&&n.match(te.VALID_VISITOR_ID_REGEX)&&m._setField(k,n))}},m._appendVersionTo=function(e){var t="vVersion|"+m.version,n=e?m._getCookieVersion(e):null;return n?Z(n,m.version)&&(e=e.replace(te.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},m._writeVisitor=function(){var e,t,n=m._getSettingsDigest();for(e in m._fields)w(e)&&m._fields[e]&&"expire"!==e.substring(0,6)&&(t=m._fields[e],n+=(n?"|":"")+e+(m._fields["expire"+e]?"-"+m._fields["expire"+e]:"")+"|"+t);n=m._appendVersionTo(n),m.cookieWrite(m.cookieName,n,1)},m._getField=function(e,t){return null==m._fields||!t&&m._fieldsExpired&&m._fieldsExpired[e]?null:m._fields[e]},m._setField=function(e,t,n){null==m._fields&&(m._fields={}),m._fields[e]=t,n||m._writeVisitor()},m._getFieldList=function(e,t){t=m._getField(e,t);return t?t.split("*"):null},m._setFieldList=function(e,t,n){m._setField(e,t?t.join("*"):"",n)},m._getFieldMap=function(e,t){var n=m._getFieldList(e,t);if(n){for(var a={},r=0;r<n.length;r+=2)a[n[r]]=n[r+1];return a}return null},m._setFieldMap=function(e,t,n){var a,r=null;if(t)for(a in r=[],t)w(a)&&(r.push(a),r.push(t[a]));m._setFieldList(e,r,n)},m._setFieldExpire=function(e,t,n){var a=new Date;a.setTime(a.getTime()+1e3*t),null==m._fields&&(m._fields={}),m._fields["expire"+e]=Math.floor(a.getTime()/1e3)+(n?"s":""),t<0?(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[e]=!0):m._fieldsExpired&&(m._fieldsExpired[e]=!1),n&&(m.cookieRead(m.sessionCookieName)||m.cookieWrite(m.sessionCookieName,"1"))},m._findVisitorID=function(e){return e&&((e=(e="object"===q(e)?e.d_mid||e.visitorID||e.id||e.uuid||""+e:e)&&"NOTARGET"===(e=e.toUpperCase())?j:e)&&(e===j||e.match(te.VALID_VISITOR_ID_REGEX))||(e="")),e},m._setFields=function(e,t){if(m._clearTimeout(e),null!=m._loading&&(m._loading[e]=!1),U.fieldGroupObj[e]&&U.setState(e,!1),e===C){!0!==U.isClientSideMarketingCloudVisitorID&&(U.isClientSideMarketingCloudVisitorID=!1);var n=m._getField(E);if(!n||m.overwriteCrossDomainMCIDAndAID){if(!(n="object"===q(t)&&t.mid?t.mid:m._findVisitorID(t))){if(m._use1stPartyMarketingCloudServer&&!m.tried1stPartyMarketingCloudServer)return m.tried1stPartyMarketingCloudServer=!0,void m.getAnalyticsVisitorID(null,!1,!0);n=m._generateLocalMID()}m._setField(E,n)}n&&n!==j||(n=""),"object"===q(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&m._setFields(S,t),m._use1stPartyMarketingCloudServer&&t.mid&&m._setFields("A",{id:t.id})),m._callAllCallbacks(E,[n])}var a,r,i;e===S&&"object"===q(t)&&(a=604800,null!=t.id_sync_ttl&&t.id_sync_ttl&&(a=parseInt(t.id_sync_ttl,10)),n=R.getRegionAndCheckIfChanged(t,a),m._callAllCallbacks("MCAAMLH",[n]),n=m._getField(T),(t.d_blob||t.blob)&&((n=t.d_blob)||(n=t.blob),m._setFieldExpire(T,a),m._setField(T,n)),m._callAllCallbacks(T,[n=n||""]),!t.error_msg&&m._newCustomerIDsHash&&m._setField("MCCIDH",m._newCustomerIDsHash)),"A"===e&&((r=m._getField(k))&&!m.overwriteCrossDomainMCIDAndAID||((r=m._findVisitorID(t))?r!==j&&m._setFieldExpire(T,-1):r=j,m._setField(k,r)),m._callAllCallbacks(k,[r=!r||r===j?"":r])),m.idSyncDisableSyncs||m.disableIdSyncs?R.idCallNotProcesssed=!0:(R.idCallNotProcesssed=!1,(r={}).ibs=t.ibs,r.subdomain=t.subdomain,R.processIDCallData(r)),t===Object(t)&&(c()&&m.isAllowed()&&(i=m._getField("MCOPTOUT")),i=(t=K.parseOptOut(t,i,j)).optOut,t=t.d_ottl,m._setFieldExpire("MCOPTOUT",t,!0),m._setField("MCOPTOUT",i),m._callAllCallbacks("MCOPTOUT",[i]))},m._loading=null,m._getRemoteField=function(t,e,n,a,r){var i,o="",s=O.isFirstPartyAnalyticsVisitorIDCall(t);if(c()&&m.isAllowed())if(m._readVisitor(),!(!(o=m._getField(t,!0==={MCAAMLH:!0,MCAAMB:!0}[t]))||m._fieldsExpired&&m._fieldsExpired[t])||m.disableThirdPartyCalls&&!s)o||(t===E?(m._registerCallback(t,n),o=m._generateLocalMID(),m.setMarketingCloudVisitorID(o)):t===k?(m._registerCallback(t,n),o="",m.setAnalyticsVisitorID(o)):a=!(o=""));else if(t===E||"MCOPTOUT"===t?i=C:"MCAAMLH"===t||t===T?i=S:t===k&&(i="A"),i)return!e||null!=m._loading&&m._loading[i]||(null==m._loading&&(m._loading={}),m._loading[i]=!0,i===S&&(h=0),m._loadData(i,e,function(e){m._getField(t)||(e&&U.setState(i,!0),e="",t===E?e=m._generateLocalMID():i===S&&(e={error_msg:"timeout"}),m._setFields(i,e))},r)),m._registerCallback(t,n),o||(e||m._setFields(i,{id:j}),"");return t!==E&&t!==k||o!==j||(a=!(o="")),n&&a&&m._callCallback(n,[o]),t===E&&V.subscribed&&(V.callbacks&&V.callbacks.length&&V.callbacks.forEach(function(e){m._callCallback(e,[o])}),V.subscribed=!1,V.callbacks.length=0),o},m._setMarketingCloudFields=function(e){m._readVisitor(),m._setFields(C,e)},m._mapCustomerIDs=function(e){m.getAudienceManagerBlob(e,!0)},m._setAnalyticsFields=function(e){m._readVisitor(),m._setFields("A",e)},m._setAudienceManagerFields=function(e){m._readVisitor(),m._setFields(S,e)},m._getAudienceManagerURLData=function(e){var t=m.audienceManagerServer,n="",a=m._getField(E),r=m._getField(T,!0),i=m._getField(k),o=i&&i!==j?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(t=m.loadSSL&&m.audienceManagerServerSecure?m.audienceManagerServerSecure:t){var s,c,l,u=m.getCustomerIDs(!0);if(u)for(c in u){var d=u[c];if(!K.isObjectEmpty(d)){var p="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in d)w(s)&&(l=d[s],o+=p+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id||"")+(l.authState?"%01"+l.authState:""))}}e=e||"_setAudienceManagerFields";t="http"+(m.loadSSL?"s":"")+"://"+t+"/id",a="d_visid_ver="+m.version+(f&&-1!==t.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+f:"")+(h&&-1!==t.indexOf("demdex.net")?"&d_cf="+h:"")+"&d_rtbd=json&d_ver=2"+(!a&&m._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(m.marketingCloudOrgID)+"&d_nsid="+(m.idSyncContainerID||0)+(a?"&d_mid="+encodeURIComponent(a):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===P?"&d_coop_safe=1":!1===P?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,r=["s_c_il",m._in,e];return{url:n=t+"?"+a+"&d_cb=s_c_il%5B"+m._in+"%5D."+e,corsUrl:t+"?"+a,callback:r}}return{url:n}},m.appendVisitorIDsTo=function(e){try{var t=[[E,m._getField(E)],[k,m._getField(k)],["MCORGID",m.marketingCloudOrgID]];return m._addQuerystringParam(e,te.ADOBE_MC,i(t))}catch(t){return e}},m.appendSupplementalDataIDTo=function(e,t){if(!(t=t||m.getSupplementalDataID(O.generateRandomString(),!0)))return e;try{var n=i([["SDID",t],["MCORGID",m.marketingCloudOrgID]]);return m._addQuerystringParam(e,te.ADOBE_MC_SDID,n)}catch(t){return e}};var O={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){e=e.split("&");return n=null!=n?n:e.length,e.splice(n,0,t),e.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===k&&(t=t||m.trackingServer,n=n||m.trackingServerSecure,!("string"!=typeof(t=m.loadSSL?n:t)||!t.length)&&t.indexOf("2o7.net")<0&&t.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Q.remove(e,{domain:m.cookieDomain})},isTrackingServerPopulated:function(){return!!m.trackingServer||!!m.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){t=t.split("=");return e[t[0]]=decodeURIComponent(t[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};m._helpers=O;var I,D,L,R=(I=m,D=_,L=H.document,{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){e=e.split("/");return e[0]+"//"+e[2]}},subdomain:null,url:null,getUrl:function(){var e="http://fast.",t="?d_nsid="+I.idSyncContainerID+"#"+encodeURIComponent(L.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),t=(e=I.loadSSL?I.idSyncSSLUseAkamai?"https://fast.":"https://":e)+this.subdomain+".demdex.net/dest5.html"+t,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+I.idSyncContainerID,t},checkDPIframeSrc:function(){var e="?d_nsid="+I.idSyncContainerID+"#"+encodeURIComponent(L.location.href);"string"==typeof I.dpIframeSrc&&I.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(I._subdomain||this.subdomain||(new Date).getTime())+"_"+I.idSyncContainerID,this.iframeHost=this.getIframeHost(I.dpIframeSrc),this.url=I.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:te.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(I.idSyncDisableSyncs||I.disableIdSyncs||I.idSyncDisable3rdPartySyncing||I.disableThirdPartyCookies||I.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||I._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||I._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(a=L.createElement("iframe")).sandbox="allow-scripts allow-same-origin",a.title="Adobe ID Syncing iFrame",a.id=n.id,a.name=n.id+"_name",a.style.cssText="display: none; width: 0; height: 0;",a.src=n.url,n.newIframeCreated=!0,t(),L.body.appendChild(a)}function t(e){a.addEventListener("load",function(){a.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,a=L.getElementById(this.id);a?"IFRAME"!==a.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==a.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=a,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=a},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){r.jsonForComparison.push(e),r.jsonWaiting.push(e),r.processSyncOnPage(e)}var n,a,r=this;if(e===Object(e)&&e.ibs)if(n=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){for(var i,o=!1,s=0,c=this.jsonForComparison.length;s<c;s++)if(i=this.jsonForComparison[s],n===JSON.stringify(i.ibs||[])){o=!0;break}o?this.jsonDuplicates.push(e):t()}else t();(this.receivedThirdPartyCookiesNotification||!te.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length&&(a=this.jsonWaiting.shift(),this.process(a),this.requestToProcess()),I.idSyncDisableSyncs||I.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=te.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var n=I._getField("MCAAMLH"),e=e.d_region||e.dcs_region;return n?e&&(I._setFieldExpire("MCAAMLH",t),I._setField("MCAAMLH",e),parseInt(n,10)!==e&&(this.regionChanged=!0,this.timesRegionChanged++,I._setField("MCSYNCSOP",""),I._setField("MCSYNCS",""),n=e)):(n=e)&&(I._setFieldExpire("MCAAMLH",t),I._setField("MCAAMLH",n)),n=n||""},processSyncOnPage:function(e){var t,n,a,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(a=0;a<n;a++)(r=t[a]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,a,r,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,a=0;a<n;a++)r=t[a],i=[o("ibs"),o(r.id||""),o(r.tag||""),K.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,n){var a="syncOnPage"===n,r=a?"MCSYNCSOP":"MCSYNCS";I._readVisitor();var i,o,s,c=I._getField(r),n=Math.ceil((new Date).getTime()/te.MILLIS_PER_DAY);c?(i=c.split("*"),o=(c=this.pruneSyncData(i,e.id,n)).dataPresent,s=c.dataValid,o&&s||this.fireSync(a,e,t,i,r,n)):this.fireSync(a,e,t,i=[],r,n)},pruneSyncData:function(e,t,n){for(var a,r,i=!1,o=!1,s=0;s<e.length;s++)a=e[s],r=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(i=!0,n<r?o=!0:(e.splice(s,1),s--)):r<=n&&(e.splice(s,1),s--);return{dataPresent:i,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,n,a,u,r){var d=this;if(e){if("img"===t.tag)for(var i=t.url,o=I.loadSSL?"https:":"http:",s=0,c=i.length;s<c;s++){var l=i[s],p=/^\/\//.test(l),m=new Image;m.addEventListener("load",function(o,s,c,l){return function(){d.onPagePixels[o]=null,I._readVisitor();var e,t,n,a,r=I._getField(u),i=[];if(r)for(t=0,n=(e=r.split("*")).length;t<n;t++)(a=e[t]).match("^"+s.id+"-")||i.push(a);d.setSyncTrackingData(i,s,c,l)}}(this.onPagePixels.length,t,u,r)),m.src=(p?o:"")+l,this.onPagePixels.push(m)}}else this.addMessage(n),this.setSyncTrackingData(a,t,u,r)},addMessage:function(e){var t=encodeURIComponent(I._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((te.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,n,a){e.push(t.id+"-"+(a+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),I._setField(n,e.join("*"))},sendMessages:function(){var e,t=this,n="",a=encodeURIComponent;this.regionChanged&&(n=a("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?te.POST_MESSAGE_ENABLED?(e=n+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ee.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t=/^---destpub-to-parent---/;"string"==typeof e&&t.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(t,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof I._subdomain&&I._subdomain.length?this.subdomain=I._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(I.idSyncAttachIframeOnWindowLoad?!D.windowLoaded&&"complete"!==L.readyState&&"loaded"!==L.readyState||this.attachIframe():this.attachIframeASAP()),"function"==typeof I.idSyncIDCallResult?I.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof I.idSyncAfterIDCallResult&&I.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return I._forceSyncIDCall||!e||t-e>te.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){var t=this;!function e(){t.startedAttachingIframe||(L.body?t.attachIframe():setTimeout(e,30))}()}});m._destinationPublishing=R,m.timeoutMetricsLog=[];var N,M,F,U={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case C:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case"A":!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case S:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};m.isClientSideMarketingCloudVisitorID=function(){return U.isClientSideMarketingCloudVisitorID},m.MCIDCallTimedOut=function(){return U.MCIDCallTimedOut},m.AnalyticsIDCallTimedOut=function(){return U.AnalyticsIDCallTimedOut},m.AAMIDCallTimedOut=function(){return U.AAMIDCallTimedOut},m.idSyncGetOnPageSyncInfo=function(){return m._readVisitor(),m._getField("MCSYNCSOP")},m.idSyncByURL=function(e){if(!m.isOptedOut()){var t=(i=(a=e||{}).minutesToLive,r="",(m.idSyncDisableSyncs||m.disableIdSyncs)&&(r=r||"Error: id syncs have been disabled"),"string"==typeof a.dpid&&a.dpid.length||(r=r||"Error: config.dpid is empty"),"string"==typeof a.url&&a.url.length||(r=r||"Error: config.url is empty"),void 0===i?i=20160:(i=parseInt(i,10),(isNaN(i)||i<=0)&&(r=r||"Error: config.minutesToLive needs to be a positive number")),{error:r,ttl:i});if(t.error)return t.error;var n=e.url,a=encodeURIComponent,r=R,n=n.replace(/^https:/,"").replace(/^http:/,""),i=K.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(n),t.ttl,"",i];return r.addMessage(i.join("|")),r.requestToProcess(),"Successfully queued"}var a,r},m.idSyncByDataSource=function(e){if(!m.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,m.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},F=R,(M=m).publishDestinations=function(e,t,n){var t=t,a=n;try{a="function"==typeof a?a:e.callback}catch(e){a=function(){}}var r=F;if(r.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void a({error:"subdomain is not a populated string."});if(!(t instanceof Array&&t.length))return void a({error:"messages is not a populated array."});var i=!1;if(t.forEach(function(e){"string"==typeof e&&e.length&&(r.addMessage(e),i=!0)}),!i)return void a({error:"None of the messages are populated strings."})}else{if(!K.isObject(e))return void a({error:"Invalid parameters passed."});t=e;if("string"!=typeof(e=t.subdomain)||!e.length)return void a({error:"config.subdomain is not a populated string."});t=t.urlDestinations;if(!(t instanceof Array&&t.length))return void a({error:"config.urlDestinations is not a populated array."});var o=[];t.forEach(function(e){K.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):o.push(e))}),function n(){o.length&&setTimeout(function(){var e=new Image,t=o.shift();e.src=t.url,r.onPageDestinationsFired.push(t),n()},100)}()}r.iframe?(a({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!M.subdomain&&M._getField("MCMID")?(r.subdomain=e,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),r.attachIframe()):a({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push(function(e){a({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else a({error:"The destination publishing iframe is disabled in the Visitor library."})},m._getCookieVersion=function(e){e=e||m.cookieRead(m.cookieName);e=te.VERSION_REGEX.exec(e);return e&&1<e.length?e[1]:null},m._resetAmcvCookie=function(e){var t=m._getCookieVersion();t&&!X(t,e)||m.removeCookie(m.cookieName)},m.setAsCoopSafe=function(){P=!0},m.setAsCoopUnsafe=function(){P=!1},function(){if(m.configs=Object.create(null),O.isObject(n))for(var e in n)w(e)&&(m[e]=n[e],m.configs[e]=n[e])}(),o(),m.init=function(){var e,t;(!m.configs.doesOptInApply||g.optIn.isComplete&&c()||(g.optIn.fetchPermissions(u,!0),g.optIn.isApproved(g.optIn.Categories.ECID)))&&!N&&(N=!0,O.isObject(n)?(m.idSyncContainerID=m.idSyncContainerID||0,P="boolean"==typeof m.isCoopSafe?m.isCoopSafe:O.parseBoolean(m.isCoopSafe),m.resetBeforeVersion&&m._resetAmcvCookie(m.resetBeforeVersion),m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl(),m._readVisitor(),e=m._getField("MCIDTS"),t=Math.ceil((new Date).getTime()/te.MILLIS_PER_DAY),m.idSyncDisableSyncs||m.disableIdSyncs||!R.canMakeSyncIDCall(e,t)||(m._setFieldExpire(T,-1),m._setField("MCIDTS",t)),m.getMarketingCloudVisitorID(),m.getAudienceManagerLocationHint(),m.getAudienceManagerBlob(),m._mergeServerState(m.serverState)):(m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl()),function(){if(!m.idSyncDisableSyncs&&!m.disableIdSyncs){R.checkDPIframeSrc();y.addEventListener("load",function(){var e;_.windowLoaded=!0,(e=R).readyToAttachIframe()&&e.attachIframe()});try{ee.receiveMessage(function(e){R.receiveMessage(e.data)},R.iframeHost)}catch(e){}}}(),m.whitelistIframeDomains&&te.POST_MESSAGE_ENABLED&&(m.whitelistIframeDomains=m.whitelistIframeDomains instanceof Array?m.whitelistIframeDomains:[m.whitelistIframeDomains],m.whitelistIframeDomains.forEach(function(e){var t=new B(a,e),t=W(m,t);ee.receiveMessage(t,e)})))}};ie.config=I;var Pe=H.Visitor=ie,Ce=_e.OptIn,Ee=_e.IabPlugin;function ke(){Pe.windowLoaded=!0}Pe.getInstance=function(a,e){if(!a)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");a.indexOf("@")<0&&(a+="@AdobeOrg");var t=function(){var e=H.s_c_il;if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===a)return n}}();if(t)return t;var n=function(a){if(K.isObject(a))return Object.keys(a).filter(function(e){return""!==a[e]&&I.getConfigs()[e]}).reduce(function(e,t){var n=I.normalizeConfig(t,a[t]),n=K.normalizeBoolean(n);return e[t]=n,e},Object.create(null))}(e)||{},r=n||{};H.adobe.optIn=H.adobe.optIn||function(){var e=K.pluck(r,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=(t=(t=r.optInCookieDomain||r.cookieDomain)||G())===window.location.hostname?"":t;e.optInCookieDomain=t;t=new Ce(e,{cookies:Q});return e.isIabContext&&e.doesOptInApply&&(e=new Ee,t.registerPlugin(e)),t}();var i=a.split("").reverse().join(""),t=new Pe(a,null,i);n.cookieDomain&&(t.cookieDomain=n.cookieDomain),n.sameSiteCookie&&n.secureCookie&&(t.configs={sameSiteCookie:n.sameSiteCookie,secureCookie:n.secureCookie}),H.s_c_il.splice(--H.s_c_in,1);e=K.getIeVersion();if("number"==typeof e&&e<10)return t._helpers.replaceMethodsWithFunction(t,function(){});i=function(){try{return H.self!==H.parent}catch(e){return 1}}()&&((e=t).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==e.cookieRead("TEST_AMCV_COOKIE")||(e.removeCookie("TEST_AMCV_COOKIE"),0))&&H.parent?new o(a,n,t,H.parent):new Pe(a,n,i),t=null;return i.init(),i},H.addEventListener?H.addEventListener("load",ke):H.attachEvent&&H.attachEvent("onload",ke),Pe.codeLoadEnd=(new Date).getTime()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){e.exports={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3}}}},settings:{orgId:"79655FCF5C1D42160A495E15@AdobeOrg",timeUnit:"Months",variables:[{name:"disableThirdPartyCookies",value:"%Config | is PUR Tracking [co]%"},{name:"trackingServer",value:"sam.spiegel.de"},{name:"trackingServerSecure",value:"sams.spiegel.de"},{name:"marketingCloudServer",value:"sam.spiegel.de"},{name:"marketingCloudServerSecure",value:"sams.spiegel.de"},{name:"disableThirdPartyCalls",value:"%Config | is PUR Tracking [co]%"},{name:"secureCookie",value:"true"},{name:"sameSiteCookie",value:"None"}],doesOptInApply:!0,preOptInApprovals:{aa:!0,aam:!0,ecid:!0,target:!0},optInStorageExpiry:1,previousPermissions:"%Page | PUR opt-outs [co]%",isOptInStorageEnabled:!1},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf0412a5c65e5429ab0e5ed8ba2256510/"},"adobe-analytics":{displayName:"Adobe Analytics",modules:{"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,n,r){"use strict";function a(e,t,n){var a;"page"===t.type?(r.logger.info("Firing page view beacon."),e.t()):(a={linkType:t.linkType||"o",linkName:t.linkName||(o(a=n)?a.innerHTML:"link clicked")},r.logger.info("Firing link track beacon using the values: "+JSON.stringify(a)+"."),e.tl(o(n)?n:"true",a.linkType,a.linkName))}var i=n("../sharedModules/getTracker"),o=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()};e.exports=function(t,n){return i().then(function(e){a(e,t,n.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,n,a){"use strict";var r=n("../sharedModules/getTracker"),i=n("../helpers/applyTrackerVariables");e.exports=function(t,n){return r().then(function(e){a.logger.info("Set variables on the tracker."),i(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(n.element,n,e)},function(e){a.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,n,a){"use strict";var r=n("../sharedModules/getTracker");e.exports=function(){return r().then(function(e){e.clearVars&&(a.logger.info("Clear variables."),e.clearVars())},function(e){a.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,n,a){"use strict";var r,i=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-promise"),s=n("@adobe/reactor-window"),c=n("../helpers/settingsHelper"),l=n("../helpers/augmenters"),u=n("../helpers/applyTrackerVariables"),d=n("../helpers/loadLibrary"),p=n("../helpers/generateVersion")(a.buildInfo.turbineBuildDate),m="beforeSettings",g=a.getSharedModule("adobe-mcid","mcid-instance"),f=(n=a.getExtensionSettings(),(r=n.trackingCookieName)&&"true"!==i.get(r)?o.reject("EU compliance was not acknowledged by the user."):d(n).then(function(n){return o.all(l.map(function(e){var t;try{t=e(n)}catch(e){setTimeout(function(){throw e})}return o.resolve(t)})).then(function(){return n})}).then(function(e){return g&&(a.logger.info("Setting MCID instance on the tracker."),e.visitor=g),e}).then(function(e){return a.logger.info('Setting version on tracker: "'+p+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=p:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+p&&(e.version+="-"+p),e}).then(function(e,t,n){return t.loadPhase===m&&t.source&&(a.logger.info("Calling custom script before settings."),t.source.call(s,n)),u(n,e||{}),t.loadPhase!==m&&t.source&&(a.logger.info("Calling custom script after settings."),t.source.call(s,n)),n}.bind(null,n.trackerProperties,n.customSetup||{})).then(function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),a.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t}.bind(null,n)));e.exports=function(){return f}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,n){"use strict";var a=n("../helpers/augmenters");e.exports=function(e){a.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-window");e.exports={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return(t=e[a.buildInfo.environment]?e[a.buildInfo.environment]:t).join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return t=e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&r&&r._satellite&&r._satellite.company&&r._satellite.company.orgId?!0:t}}}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,n,c){"use strict";function l(e,t,n){return n.indexOf(e)===t}function a(e,t,n){e[t]=n[t].join(",")}var r=n("@adobe/reactor-query-string"),i=n("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,u=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),n=function(a,e,t){var r=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t,n;"value"===e.type?t=e.value:(n=o.exec(e.value))?t=r+"v"+n[1]:(n=s.exec(e.value))&&(t=r+"c"+n[1]),a[e.name]=t})},d={linkDownloadFileTypes:a,linkExternalFilters:a,linkInternalFilters:a,hierarchies:function(t,e,n){n[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:n,eVars:n,campaign:function(e,t,n){var a;"queryParam"===n[t].type?(a=r.parse(i.location.search),e[t]=a[n[t].value]):e[t]=n[t].value},events:function(e,t,n){n=n[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),t=e.value?[t,e.value].join("="):t});e[t]=n.join(",")}};e.exports=function(t,a){var r={};a=a||{},Object.keys(a).forEach(function(e){var t=d[e],n=a[e];t?t(r,e,a):r[e]=n}),r.events&&t.events&&0<t.events.length&&(r.events=t.events+","+r.events);var e,n,i=a&&a.events&&0<a.events.length,i=(o=t,e=r,i=i,n=Object.keys(e).filter(u.test.bind(u)),i&&n.push("events"),(n=n.concat((o.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&l(e,t,n)}).join(","));i&&(r.linkTrackVars=i);var o,s,o=(o=t,i=a.events||[],(s=(s=i.map(function(e){return e.name})).concat((o.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&l(e,t,s)}).join(","));o&&(r.linkTrackEvents=o),c.logger.info('Applying the following properties on tracker: "'+JSON.stringify(r)+'".'),Object.keys(r).forEach(function(e){t[e]=r[e]})}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n,a){"use strict";function r(e){return c.all(function(e){var t,n=[];switch(e.libraryCode.type){case l.LIB_TYPES.MANAGED:n.push(a.getHostedLibFileUrl(l.MANAGED_LIB_PATHS.APP_MEASUREMENT)),l.isActivityMapEnabled(e)&&n.push(a.getHostedLibFileUrl(l.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case l.LIB_TYPES.CUSTOM:n.push(e.libraryCode.source);break;case l.LIB_TYPES.REMOTE:n.push("https:"===s.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}return l.isAudienceManagementEnabled(e)&&(t={namespace:s._satellite.company.orgId},e.moduleProperties.audienceManager.config.visitorService=t,n.push(a.getHostedLibFileUrl(l.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))),n}(e).map(function(e){return a.logger.info("Loading script: "+e),o(e)}))}function i(e,t){return e.libraryCode.accounts&&(t.sa?(e=l.getReportSuites(e.libraryCode.accounts),a.logger.info('Setting the following report suites on the tracker: "'+e+'"'),t.sa(e)):a.logger.warn("Cannot set report suites on tracker. `sa` method not available.")),t}var o=n("@adobe/reactor-load-script"),s=n("@adobe/reactor-window"),c=n("@adobe/reactor-promise"),l=n("./settingsHelper"),u=n("./pollHelper");e.exports=function(e){var t=r(e);switch(e.libraryCode.type){case l.LIB_TYPES.MANAGED:var n=l.getReportSuites(e.libraryCode.accounts);return t.then(function(e,t){if(!s.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+s.AppMeasurement);a.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');t=s.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(a.logger.info("Setting the tracker as window.s"),s.s=t),t}.bind(null,e,n));case l.LIB_TYPES.PREINSTALLED:return t.then(u.poll.bind(null,s,e.libraryCode.trackerVariableName)).then(i.bind(null,e));case l.LIB_TYPES.CUSTOM:case l.LIB_TYPES.REMOTE:return t.then(function(e){if(s[e])return a.logger.info('Found tracker located at: "'+e+'".'),s[e];throw new Error('Cannot find the global variable name: "'+e+'".')}.bind(null,e.libraryCode.trackerVariableName)).then(i.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";function t(e){return(e=(e.getUTCMonth()+1+12*Math.floor(e.getUTCHours()/n)).toString(36)).substr(e.length-1)}var n=8;e.exports=function(e){e=new Date(e);if(isNaN(e))throw new Error("Invalid date provided");return("L"+(e.getUTCFullYear()-2010).toString(36)+t(e)+e.getUTCDate().toString(36)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,n,a){"use strict";function o(e,t,n){a.logger.info('Found property located at: "'+t+'"].'),e(n)}var s=n("@adobe/reactor-promise");e.exports={poll:function(e,t){return a.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),r=e,i=t,new s(function(e,t){if(r[i])return o(e,i,r[i]);var n=1,a=setInterval(function(){r[i]&&(o(e,i,r[i]),clearInterval(a)),40<=n&&(clearInterval(a),t(new Error('Bailing out. Cannot find the variable name: "'+i+'"].'))),n++},250)});var r,i}}}}},settings:{orgId:"79655FCF5C1D42160A495E15@AdobeOrg",customSetup:{source:function(t){t.usePlugins=!0,t.doPlugins=function(){t.eVar35=_satellite.getVar("Hit | Timestamp HH:MM [gl]"),t.prop32=_satellite.getVar("Hit | Timestamp ISO [gl]");try{t.prop50=t.events.replace(/\w+=\d+,|:\w+/g,"")}catch(e){t.prop50="noevents"}t.list1=_satellite.getVar("Editorial | Topics:List [co]");var e=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=e.toString(),t.contextData["opt.sell"]="N"}}},libraryCode:{type:"managed",accounts:{staging:["%_config.value.rsid-dev:const%"],production:["%_config.value.rsid-prod:const%"],development:["%_config.value.rsid-dev:const%"]},useActivityMap:!0,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"spiegel",uuidCookie:{days:30,name:"sara_aam_uuid",secure:!0}}}},trackerProperties:{charSet:"UTF-8",currencyCode:"EUR",trackingServer:"sam.spiegel.de",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!1,writeSecureCookies:!0,trackingServerSecure:"sams.spiegel.de",linkDownloadFileTypes:["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPbde2f7ca14e540399dcc1f8208860b7b/"},"adobe-target-v2":{displayName:"Adobe Target v2",modules:{"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-window"),i=n("./modules/libs/at-launch"),o=i.initConfig,s=i.initDelivery,c=n("./modules/page-load"),l=n("./messages");e.exports=function(e){e=c(e);r.adobe&&r.adobe.target&&r.adobe.target.VERSION?(o(e),s()):r.console&&a.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/addParams.js":{name:"add-params",displayName:"Add Params to All Requests",script:function(e,t,n){"use strict";var a=n("./modules/params-store").mergeParams;e.exports=function(e){a(e.params)}}},"adobe-target-v2/lib/addPageLoadParams.js":{name:"add-page-load-params",displayName:"Add Params to Page Load Request",script:function(e,t,n){"use strict";var a=n("./modules/params-store").mergePageLoadParams;e.exports=function(e){a(e.params)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,n,a){"use strict";function r(e){var t;e&&(t=new s(function(n){function t(e){n(!1),clearTimeout(a),p(o,e,t)}var a=setTimeout(function(){n(!1)},f.targetSettings.timeout);d(o,"at-request-succeeded",function e(t){t.detail&&!0===t.detail.redirect?n(!0):n(!1),clearTimeout(a),p(o,t,e)}),d(o,"at-request-failed",t)}),e(function(e){return n=e,a=t,new s(function(t){n?a.then(function(e){e&&(n.abort=!0),t()}):t()});var n,a}))}var i=n("@adobe/reactor-window"),o=n("@adobe/reactor-document"),s=n("@adobe/reactor-promise"),c=n("./modules/load-target"),l=c.initLibrarySettings,u=c.overridePublicApi,c=n("./modules/event-util"),d=c.addEventListener,p=c.removeEventListener,c=n("./modules/optin"),m=c.shouldUseOptIn,g=c.isTargetApproved,f=n("./targetSettings").extensionSettings,h=a.getSharedModule("adobe-analytics","augment-tracker");e.exports=function(){var e=l();e&&e.enabled?((0,n("./modules/libs/at-launch").init)(i,o,e),m()&&!g()||r(h)):u(i)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function s(e,t){return setTimeout(e,Number(1<arguments.length&&void 0!==t?t:0)||0)}function i(e){clearTimeout(e)}function f(e){return null==e}function r(e){return Qi.call(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=o(e);return null!=e&&("object"===t||"function"===t)}function l(e){return!!d(e)&&r(e)===Xi}function u(e){return e}function p(e){return l(e)?e:u}function b(e){return f(e)?[]:Object.keys(e)}function m(e,t){return f(t)?[]:(Ki(t)?to:no)(p(e),t)}function g(e){return f(e)?[]:[].concat.apply([],e)}function h(i){for(var o=this,s=i?i.length:0,e=s;--e;)if(!l(i[e]))throw new TypeError("Expected a function");return function(){for(var e=0,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=s?i[e].apply(o,n):n[0];(e+=1)<s;)r=i[e].call(o,r);return r}}function y(e,t){f(t)||(Ki(t)?Zi:eo)(p(e),t)}function v(e){return null!=e&&"object"===o(e)}function _(e){return"string"==typeof e||!Ki(e)&&v(e)&&r(e)===ao}function w(e){if(!_(e))return-1;for(var t=0,n=e.length,a=0;a<n;a+=1)t=(t<<5)-t+e.charCodeAt(a)&4294967295;return t}function P(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=9007199254740991)&&!l(e);var t}function C(e){return f(e)?[]:P(e)?_(e)?e.split(""):function(e){for(var t=0,n=e.length,a=Array(n);t<n;)a[t]=e[t],t+=1;return a}(e):(t=b(e),n=e,ro(function(e){return n[e]},t));var t,n}function E(e){if(null==e)return!0;if(P(e)&&(Ki(e)||_(e)||l(e.splice)))return!e.length;for(var t in e)if(io.call(e,t))return!1;return!0}function k(e){return f(e)?"":oo.call(e)}function S(e){return _(e)?!k(e):E(e)}function T(e){if(v(e)&&"[object Object]"===r(e)){e=Object.getPrototypeOf(Object(e));if(null===e)return 1;e=lo.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&co.call(e)===uo}}function j(e){return v(e)&&1===e.nodeType&&!T(e)}function x(e){return"number"==typeof e||v(e)&&"[object Number]"===r(e)}function A(e,t){return Ki(t)?t.join(e||""):""}function V(e,t){return f(t)?[]:(Ki(t)?ro:si)(p(e),t)}function O(){}function I(){return(new Date).getTime()}function D(e,t,n){return f(n)?t:(Ki(n)?ci:li)(p(e),t,n)}function L(e,t){return S(t)?[]:t.split(e||"")}function R(){var a=I();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n,t=(a+(n=16,(t=0)+Math.floor(Math.random()*(n-t+1))))%16|0;return a=Math.floor(a/16),("x"===e?t:3&t|8).toString(16)})}function N(e){if(Uc.test(e))return e;var t,e=null==(t=L(".",e))?t:mo.call(t),t=e.length;return 3<=t&&qc.test(e[1])?e[2]+"."+e[1]+"."+e[0]:1===t?e[0]:e[1]+"."+e[0]}function M(e,t,n){var a,r,i="";e.location.protocol===Fc||(i=N(e.location.hostname)),n[ac]=i,n[Rs]=(i=(i=t).compatMode)&&"CSS1Compat"===i&&(!(t=(t=t).documentMode)||10<=t),a=n,r=e[pc]||{},a[Rs]&&(f(r[qs])||(a[hc]=r[qs]),y(function(e){f(r[e])||(a[e]=r[e])},Bc))}function F(e){M(window,document,e);var t=window.location.protocol===Fc;(Hc=zi({},e))[Gs]=e[Gs]/1e3,Hc[Js]=e[Js]/1e3,Hc[nc]=Hc[Zs]||t?"https:":""}function U(e){try{return Wc(e)}catch(e){return{}}}function q(e){try{return zc(e)}catch(e){return""}}function H(t){try{return decodeURIComponent(t)}catch(e){return t}}function B(t){try{return encodeURIComponent(t)}catch(e){return t}}function W(e){if(Jc[e])return Jc[e];Gc.href=e;var t=ui(Gc.href);return t.queryKey=U(t.query),Jc[e]=t,Jc[e]}function z(e,t,n){return{name:e,value:t,expires:n}}function G(e){e=L("#",e);return E(e)||e.length<3||isNaN(parseInt(e[2],10))?null:z(H(e[0]),H(e[1]),Number(e[2]))}function J(){var e,e=V(G,S(e=$c("mbox"))?[]:L("|",e)),t=Math.ceil(I()/1e3);return D(function(e,t){return e[t.name]=t,e},{},m(function(e){return d(e)&&t<=e.expires},e))}function $(e){e=J()[e];return d(e)?e.value:""}function Y(e){return A("#",[B(e.name),B(e.value),e.expires])}function K(e){return e.expires}function Q(e,t){var n=C(e),e=Math.abs(1e3*(e=V(K,e=n),Math.max.apply(null,e))-I()),n=A("|",V(Y,n)),e=new Date(I()+e);Yc("mbox",n,{domain:t,expires:e})}function X(e){var t=e.name,n=e.value,a=e.expires,r=e.domain,e=J();e[t]=z(t,n,Math.ceil(a+I()/1e3)),Q(e,r)}function Z(e,t,n){return po($c(n))||(a=n,e=U((e=e).location.search),po(e[a]))||(n=n,!f(t=W((t=t).referrer).queryKey)&&po(t[n]));var a}function ee(){return Hc[Rs]&&(e=Hc[ac],Yc(Wo,zo,{domain:e}),e=$c(Wo)===zo,Kc(Wo),e)&&!Z(window,document,Ho);var e}function te(){return Z(window,document,qo)}function ne(){return Z(window,document,Bo)}function ae(e,t){e=e.console;return!f(e)&&l(e[t])}function re(){for(var e,t,n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];e=window,t=r,n=e.console,ae(e,"warn")&&n.warn.apply(n,[Qc].concat(t))}function ie(){for(var e,t,n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];e=window,t=r,n=e.console,ae(e,"debug")&&te()&&n.debug.apply(n,[Qc].concat(t))}function oe(e,t,n){var a,r,i=e[dc]||[];e[dc]=i,n&&(a=i.push,i[Hs]=Xc,i[cc]=(r=t,D(function(e,t){return e[t]=r[t],e},{},Bc)),i[lc]=[],i[uc]=[],i.push=function(e){i[uc].push(zi({timestamp:I()},e)),a.call(this,e)})}function se(e,t,n,a){t===uc&&e[dc].push(n),a&&t!==uc&&e[dc][t].push(zi({timestamp:I()},n))}function ce(e){se(window,lc,e,te())}function le(){return l(el)}function ue(e){return new el(e)}function de(){var t=document.createTextNode(""),n=[];return ue(function(){for(var e=n.length,t=0;t<e;t+=1)n[t]();n.splice(0,e)}).observe(t,{characterData:!0}),function(e){n.push(e),t.textContent=0<t.textContent.length?"":"a"}}function pe(e){return new $i(e)}function me(e){return $i.resolve(e)}function ge(e){return $i.reject(e)}function fe(e){return Ki(e)?$i.all(e):ge(new TypeError(tl))}function he(e,n,a){var r=-1;return e=[e,pe(function(e,t){r=s(function(){return t(new Error(a))},n)})],(Ki(e)?$i.race(e):ge(new TypeError(tl))).then(function(e){return i(r),e},function(e){throw i(r),e})}function ve(e){if(f(e[Ec]))return!1;e=e[Ec];if(f(e[kc]))return!1;e=e[kc];return l(e[Tc])&&l(e[Sc])}function be(e,t){if(!ve(e))return!0;var n=e[Ec][kc],t=(e[Ec][kc][jc]||{})[t];return n[Sc](t)}function ye(){var e,t=Hc[Ac];return e=window,!!t&&ve(e)}function _e(){return be(window,xc)}function we(){return function(e,t){if(!ve(e))return me(!0);var n=e[Ec][kc],a=(e[Ec][kc][jc]||{})[t];return pe(function(e,t){n[Tc](function(){n[Sc](a)?e(!0):t(Vc)},!0)})}(window,xc)}function Pe(e,t){X({name:sc,value:e,expires:t[Js],domain:t[ac]})}function Ce(){if(ye()&&!_e())return wl;var e=Hc,t=U(window.location.search).mboxSession;return po(t)?Pe(t,e):S($(sc))&&Pe(wl,e),$(sc)}function Ee(){return $("PC")}function ke(e){var t,n,a=Hc;a[Ks]&&(t=a[ac],n=new Date(I()+a[Qs]),a=$c(oc),n={domain:t,expires:n},po(a)?Yc(oc,a,n):(e=S(e=e)||E(e=Pl.exec(e))||2!==e.length?"":e[1],S(e)||Yc(oc,e,n)))}function Se(e,t,n,a){a=new e.CustomEvent(n,{detail:a});t.dispatchEvent(a)}function Te(e,t){var n,a=t.mbox,r=t.error,i=t.url,o=t.analyticsDetails,s=t.responseTokens,c=t.execution,n={type:e,tracking:(n=Ee,e=(t=Ce)(),t=n(),(n={}).sessionId=e,po(t)&&(n.deviceId=t),n)};return f(a)||(n.mbox=a),f(r)||(n.error=r),f(i)||(n.url=i),E(o)||(n.analyticsDetails=o),E(s)||(n.responseTokens=s),E(c)||(n.execution=c),n}function je(e){e=Te(ql,e);Se(window,document,ql,e)}function xe(e,t){e=Te(Hl,e);e.redirect=t,Se(window,document,Hl,e)}function Ae(e){e=Te(Bl,e);Se(window,document,Bl,e)}function Ve(e){e=Te(Wl,e);Se(window,document,Wl,e)}function Oe(e){e=Te(zl,e);Se(window,document,zl,e)}function Ie(e){e=Te(Gl,e);Se(window,document,Gl,e)}function De(e){e=Te(Jl,e);Se(window,document,Jl,e)}function Le(e){e=Te($l,e);Se(window,document,$l,e)}function Re(e){var t=e.charAt(0),n=e.charAt(1),a=e.charAt(2),e={key:e};return e.val="-"===n?""+t+n+"\\3"+a+" ":t+"\\3"+n+" ",e}function Ne(e){if(j(e))return Zc(e);if(!_(e))return Zc(e);var t,e=E(e=(t=e).match(Ql))?t:D(function(e,t){return e.replace(t.key,t.val)},t,V(Re,e));if(-1===e.indexOf(Yl))return Zc(e);e=function(e){for(var t,n,a,r,i=[],o=k(e),s=o.indexOf(Yl);-1!==s;)t=k(o.substring(0,s)),r=(n=k(o.substring(s))).indexOf(")"),a=k(n.substring(Kl,r)),s=(o=k(n.substring(r+1))).indexOf(Yl),t&&a&&i.push({sel:t,eq:Number(a)});return o&&i.push({sel:o}),i}(e);return D(function(e,t){var n=t.sel,t=t.eq;return e=e.find(n),e=x(t)?e.eq(t):e},Zc(document),e)}function Me(e){return 0<Ne(e).length}function Fe(e){return Zc("<div/>").append(e)}function Ue(e){return Ne(e).parent()}function qe(e,t){return Ne(t).find(e)}function He(){var e;ne()&&(window[eu]=window[eu]||{},window[eu].querySelectorAll=Ne,e=Hc[tc],ie(Zl),Yi(e).then(function(){document.addEventListener(Ko,function(e){l(window[eu][tu])&&window[eu][tu](e)},!0)}).catch(function(){return re(Xl)}))}function Be(e){e=parseInt(e,10);return isNaN(e)?null:e}function We(e){return L("_",e)}function ze(e){var t=L("_",e),n=Be(t[0]);if(f(n))return null;e={};e.activityIndex=n;t=Be(t[1]);return f(t)||(e.experienceIndex=t),e}function Ge(e){return m(El,V(ze,e))}function Je(e){var t=U(e),n=t[au];if(S(n))return null;e={};e.token=n;n=t[iu];po(n)&&n===zo&&(e.listedActivitiesOnly=!0);n=t[ou];po(n)&&(e.evaluateAsTrueAudienceIds=We(n));n=t[su];po(n)&&(e.evaluateAsFalseAudienceIds=We(n));t=t[ru];return E(t)||(e.previewIndexes=Ki(t=t)?Ge(t):Ge([t])),e}function $e(e){return Ne(e).empty().remove()}function Ye(e,t){return Ne(t).after(e)}function Ke(e,t){return Ne(t).before(e)}function Qe(e,t){return Ne(t).append(e)}function Xe(e){return Ne(e).html()}function Ze(e,t){return'<style id="'+e+'" class="at-flicker-control">'+t+"</"+Xo+">"}function et(e,t){var n;E(t)||(E(t=m(function(e){return!Me("#at-"+w(e))},t))||(n=e[Bs],Qe(A("\n",V(function(e){return t=n,Ze("at-"+w(e=e),e+" {"+t+"}");var t},t)),Qo)))}function tt(e,t){E(t)||Me("#"+uu)||Qe((e=e[Bs],t=A(", ",t),Ze(uu,t+" {"+e+"}")),Qo)}function nt(){var e;!0!==(e=Hc)[zs]||Me(lu)||(e=e[Ws],Qe(Ze(cu,e),Qo))}function at(){!0===Hc[zs]&&Me(lu)&&$e(lu)}function rt(e){return!f(e.id)}function it(e){return!f(e.authState)}function ot(e){return rt(e)||it(e)}function st(e,r){return D(function(e,t,n){var a={};return a.integrationCode=n,rt(t)&&(a.id=t.id),it(t)&&(a.authenticatedState=function(e){switch(e){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}(t.authState)),a[go]=r,t.primary&&(a.primary=!0),e.push(a),e},[],m(ot,e))}function ct(e){if(f(e))return[];if(!l(e[fu]))return[];e=e[fu](!0);return d(e)?function(e){if(!e.nameSpaces&&!e.dataSources)return st(e,"DS");var t=[];return e.nameSpaces&&t.push.apply(t,st(e.nameSpaces,"NS")),e.dataSources&&t.push.apply(t,st(e.dataSources,"DS")),t}(e):[]}function lt(e){return ie("Visitor API requests error",e),{}}function ut(e,t,n){return f(e)?me({}):he(function(e,t){if(!l(e.getVisitorValues))return me({});var n=["MCMID",du,pu];return t&&n.push(mu),pe(function(t){e.getVisitorValues(function(e){return t(e)},n)})}(e,n),t,"Visitor API requests timed out").catch(lt)}function dt(e,t){return f(e)?{}:function(e,t){if(!l(e.getVisitorValues))return{};var n=["MCMID",du,pu];t&&n.push(mu);var a={};return e.getVisitorValues(function(e){return zi(a,e)},n),a}(e,t)}function pt(){var e=Hc,t=e.imsOrgId,n=e[ec];return e=window,n=n,!S(t=t)&&!f(e[bu])&&l(e[bu][yu])&&d(n=e[bu][yu](t,{sdidParamExpiry:n}))&&l(n.isAllowed)&&n.isAllowed()?n:null}function mt(e){return t=pt(),e=e,!f(t)&&l(t[gu])?t[gu](e):null;var t}function gt(e){return t=pt(),e=e,f(t)||f(e=t[e])?null:e;var t}function ft(e,t){_u[e]=t}function ht(e){return _u[e]}function vt(e){var t=e.name;if(!_(t)||E(t))return!1;t=e[Hs];if(!_(t)||E(t))return!1;t=e[Fs];return!(!f(t)&&!x(t)||!l(e.provider))}function bt(e,t,n,a,r,i){var o={};o[e]=t,o[n]=a,o[r]=i;i={};return i[mc]=o,i}function yt(e){var t,n=e.name,a=e[Hs],r=e[Fs]||2e3;return he((t=e.provider,pe(function(n,a){t(function(e,t){f(e)?n(t):a(e)})})),r,"timed out").then(function(e){var t=bt(js,n,Hs,a,As,e);return ie(wu,Cs,t),ce(t),e}).catch(function(e){e=bt(js,n,Hs,a,ys,e);return ie(wu,ys,e),ce(e),{}})}function _t(e){e=D(function(e,t){return zi(e,t)},{},e);return ft(gc,e),e}function wt(e){return function(e){if(!f(e=e[pc])){e=e[gc];return Ki(e)&&!E(e)}}(e)?fe(V(yt,m(vt,e[pc][gc]))).then(_t):me({})}function Pt(){return f(e=ht(gc))?{}:e;var e}function Ct(){var e,t=S(e=U((e=window).location.search).authorization)?null:e,e=S(e=$c("mboxDebugTools"))?null:e;return t||e}function Et(e){return!E(e)&&2===e.length&&po(e[0])}function kt(e,n,a,r){y(function(e,t){d(e)?(n.push(t),kt(e,n,a,r),n.pop()):E(n)?a[r(t)]=e:a[r(A(".",n.concat(t)))]=e},e)}function St(e){return D(function(e,t){return e[H(k(t[0]))]=H(k(t[1])),e},{},m(Et,D(function(e,t){return e.push(-1===(t=(n=t).indexOf("="))?[]:[n.substr(0,t),n.substr(t+1)]),e;var n},[],m(po,e))))}function Tt(e){if(!l(e))return{};var t,n=null;try{n=e()}catch(e){return{}}return f(n)?{}:Ki(n)?St(n):_(n)&&po(n)?m(function(e,t){return po(t)},U(n)):d(n)?(e=n,n={},f(t)?kt(e,[],n,u):kt(e,[],n,t),n):{}}function jt(e){return zi({},e,Tt(window.targetPageParamsAll))}function xt(e){var t=Hc,n=t[Us],a=t[rc],t=t[ic];return n!==e?jt(a||{}):zi(jt(a||{}),zi({},t||{},Tt(window.targetPageParams)))}function At(e){return-1!==e.indexOf("profile.")}function Vt(e){return At(e)||e===Cu||e===Eu||"orderId"===e||e===ku||e===Su||"productId"===e||e===Tu}function Ot(e){var c=e.url,l=e.headers,u=e.body,d=e.timeout,p=e.async;return pe(function(e,t){var n,a,r,i,o,s=new window.XMLHttpRequest;i=e,o=t,(r=s).onload=function(){var e,t=1223===r.status?204:r.status;if(t<100||599<t)o(new Error(ju));else{try{e=JSON.parse(r.responseText)}catch(e){return void o(new Error("Malformed response JSON"))}var n=r.getAllResponseHeaders();i({status:t,headers:n,response:e})}},e=s=r,a=t,e.onerror=function(){a(new Error(ju))},(s=e).open("POST",c,p),s.withCredentials=!0,s=function(n,e){return y(function(e,t){Ki(e)&&y(function(e){n.setRequestHeader(t,e)},e)},1<arguments.length&&void 0!==e?e:{}),n}(s,l),p&&(n=t,(t=s).timeout=d,t.ontimeout=function(){n(new Error("Request timed out"))},s=t),s.send(JSON.stringify(u))}).then(function(e){var t=e.response,n=t.status,e=t.message;if(!f(n)&&!f(e))throw new Error(e);return t})}function It(e){if(e[mu])throw new Error("Disabled due to optout");return e}function Dt(){var e,t=ut(pt(),(e=Hc)[Ys],e[Xs]),e=wt(window);return fe([t.then(It),e])}function Lt(){return[dt(pt(),Hc[Xs]),Pt()]}function Rt(){var e,t,n,a=window.screen;return{width:a.width,height:a.height,orientation:(e=(n=window.screen).orientation,t=n.width,n=n.height,f(e)?n<t?"landscape":"portrait":f(e.type)||E(e=L("-",e.type))||f(e=e[0])?null:e),colorDepth:a.colorDepth,pixelRatio:function(){if(!f(e=window.devicePixelRatio))return e;var e=1,t=(n=window.screen).systemXDPI,n=n.logicalXDPI;return e=!f(t)&&!f(n)&&n<t?t/n:e}()}}function Nt(){return{host:window.location.hostname,webGLRenderer:Pu}}function Mt(e){if(!f(e)&&"web"===e.channel)return e;var t=(e||{}).beacon;return{userAgent:window.navigator.userAgent,timeOffsetInMinutes:-(new Date).getTimezoneOffset(),channel:"web",screen:Rt(),window:{width:(e=document.documentElement).clientWidth,height:e.clientHeight},browser:Nt(),address:{url:window.location.href,referringUrl:document.referrer},beacon:t}}function Ft(e){var t=e.id,n=e.integrationCode,a=e.authenticatedState,r=e.type,i=e.primary,e={};return po(t)&&(e.id=t),po(n)&&(e.integrationCode=n),po(a)&&(e.authenticatedState=a),po(r)&&(e.type=r),i&&(e.primary=i),e}function Ut(e,t,n,a,r){var i={};po(t)&&(i.tntId=t),po(n)&&(i.thirdPartyId=n),po(e.thirdPartyId)&&(i.thirdPartyId=e.thirdPartyId);a=a.MCMID;return po(a)&&(i.marketingCloudVisitorId=a),po(e.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=e.marketingCloudVisitorId),E(e.customerIds)?E(r)||(i.customerIds=V(Ft,r)):i.customerIds=e.customerIds,i}function qt(e,t){var n={},t=function(e,t){if(!f(e))return e;var n={};return E(t)||(e=t[pu],e=parseInt(e,10),isNaN(e)||(n.locationHint=e),t=t[du],po(t)&&(n.blob=t)),n}(e.audienceManager,t);return E(t)||(n.audienceManager=t),E(e.analytics)||(n.analytics=e.analytics),n}function Ht(e,t){if(!f(e)&&po(e.token))return e;e={},t=t[Eu];return po(t)&&(e.token=t),e}function Bt(e){return f(e)?function(){var e=$c(nu);if(S(e))return{};try{return JSON.parse(e)}catch(e){return{}}}():e}function Wt(e){var t={},n=e.orderId;f(n)||(t.id=n);n=e[ku],n=parseFloat(n);isNaN(n)||(t.total=n);e=V(k,L(",",(e=e)[Su])),e=m(po,e);return E(e)||(t.purchasedProductIds=e),t}function zt(e){var t={},n=e.productId;f(n)||(t.id=n);e=e[Tu];return f(e)||(t.categoryId=e),t}function Gt(e,t){var n={},a=zi({},D(function(e,t,n){return Vt(n)||(e[n]=f(t)?"":t),e},{},t),e.parameters||{}),r=zi({},D(function(e,t,n){if(!At(n))return e;n=n.substring("profile.".length);return S(n)||(e[n]=f(t)?"":t),e},{},t),e.profileParameters||{}),i=zi({},Wt(t),e.order||{}),e=zi({},zt(t),e.product||{});return E(a)||(n.parameters=a),E(r)||(n.profileParameters=r),E(i)||(n.order=i),E(e)||(n.product=e),n}function Jt(e,t,n){var a=Hc[Us],r=e.index,i=e.name,o=e.address,n=Gt(e,zi({},i===a?t:2<arguments.length&&void 0!==n?n:{},xt(i)));return f(r)||(n.index=r),po(i)&&(n.name=i),E(o)||(n.address=o),n}function $t(e,r,t){var n=e.prefetch,a=void 0===n?{}:n,e={};if(E(a))return e;n=a.mboxes;f(n)||!Ki(n)||E(n)||(e.mboxes=V(function(e){return Jt(e,r,t)},n));a=a.views;return f(a)||!Ki(a)||E(a)||(e.views=V(function(e){return t=r,n=e.name,a=e.address,t=Gt(e,t),po(n)&&(t.name=n),E(a)||(t.address=a),t;var t,n,a},a)),e}function Yt(e,t){if(ye()&&!be(window,"ANALYTICS"))return null;var n=Hc,a=mt(e),r=gt(hu),i=gt(vu),o=t.experienceCloud,s=(void 0===o?{}:o).analytics,c=void 0===s?{}:s,e=c.logging,t=c.supplementalDataId,o=c.trackingServer,s=c.trackingServerSecure,c={};return f(e)?c.logging=n[Oc]:c.logging=e,f(t)||(c.supplementalDataId=t),po(a)&&(c.supplementalDataId=a),f(o)||(c.trackingServer=o),po(r)&&(c.trackingServer=r),f(s)||(c.trackingServerSecure=s),po(i)&&(c.trackingServerSecure=i),E(c)?null:c}function Kt(e,t,n){var a,r,i,o=(i=Hc[Us],zi({},n,xt(i))),s=Ee(),c=o[Cu],l=ct(pt()),u=Ut(e.id||{},s,c,t,l),d=Ht(e.property,o),p=qt(e.experienceCloud||{},t),i=function(e){if(!f(e)&&po(e.authorizationToken))return e;var t={},e=Ct();return po(e)&&(t.authorizationToken=e),t}(e.trace),s=Bt(e.qaMode),t=(a=o,r=n,l=(c=e).execute,c={},E(t=void 0===l?{}:l)||(f(l=t.pageLoad)||(c.pageLoad=Gt(l,a)),f(t=t.mboxes)||!Ki(t)||E(t)||(E(t=m(kl,V(function(e){return Jt(e,a,r)},t)))||(c.mboxes=t))),c),c=$t(e,o,n),o=e.notifications,n={};return n.requestId=R(),n.context=Mt(e.context),E(u)||(n.id=u),E(d)||(n.property=d),E(i)||(n.trace=i),E(p)||(n.experienceCloud=p),E(s)||(n.qaMode=s),E(t)||(n.execute=t),E(c)||(n.prefetch=c),E(o)||(n.notifications=o),n}function Qt(e,t,n){var a=n[0],n=n[1];return Kt(e,a,zi({},n,t))}function Xt(t,n){return Dt().then(function(e){return Qt(t,n,e)})}function Zt(e,t){return!x(t)||t<0?e[Fs]:t}function en(e){var t=e[Ms];if(!e[Ks])return t;e=function(){if(!Hc[Ks])return"";var e=$c(oc);return S(e)?"":e}();return S(e)?t:"mboxedge"+e+".tt.omtrdc.net"}function tn(e){return e[nc]+"//"+en(e)+e.endpoint+"?"+q({client:e[Ns],sessionId:Ce(),version:e[Hs]})}function nn(t,e){var n=Hc,a=tn(n),r=c({},bc,[yc]),e=Zt(n,e),e={url:a,headers:r,body:t,timeout:e,async:!0};return ie(Is,t),ce({request:t}),Ot(e).then(function(e){return ie(Os,e),ce({response:e}),{request:t,response:e}})}function an(e,t){return{status:Cs,type:e,data:t}}function rn(e,t){return{status:ys,type:e,data:t}}function on(e){return d(e)}function sn(e){return!!on(e)&&po(e.eventToken)}function cn(e){return!E(e)&&!S(e.type)&&po(e.eventToken)}function ln(e){return!!cn(e)&&po(e.selector)}function un(e){e=e.id;return d(e)&&po(e.tntId)}function dn(e){var t=e.response;return un(t)&&X({name:"PC",value:t.id.tntId,expires:(t=Hc)[Gs],domain:t[ac]}),e}function pn(e){var t=e.response;return un(t)&&ke(t.id.tntId),ke(null),e}function mn(e){e=(0<arguments.length&&void 0!==e?e:{}).trace;E(e)||se(window,uc,e,te())}function gn(e){var t=e.response,n=t.execute,a=void 0===n?{}:n,r=t.prefetch,n=void 0===r?{}:r,t=a.pageLoad,r=a.mboxes,a=void 0===r?[]:r,r=n.mboxes,r=void 0===r?[]:r,n=n.views,n=void 0===n?[]:n;return mn(void 0===t?{}:t),y(mn,a),y(mn,r),y(mn,n),e}function fn(e){var t=e.queryKey,n=t[qu];if(!_(n))return t;if(S(n))return t;e=Math.round(I()/1e3);return t[qu]=n.replace(/\|TS=\d+/,"|TS="+e),t}function hn(e){return e.queryKey}function vn(e,t,n){var a=W(e),r=a.protocol,i=a.host,o=a.path,s=""===a.port?"":":"+a.port,e=S(a.anchor)?"":"#"+a.anchor,a=n(a),t=q(zi({},a,t));return r+"://"+i+s+o+(S(t)?"":"?"+t)+e}function bn(e,t){return vn(e,t,fn)}function yn(e){var t=e[Bu]||"GET",n=e.url||function(e){throw new Error(e)}("URL is required"),a=e[Wu]||{},r=e.data||null,i=e[zu]||!1,o=e[Gu]||3e3,s=!!f(e[Ju])||!0===e[Ju],e={};return e[Bu]=t,e.url=n,e[Wu]=a,e.data=r,e[zu]=i,e[Gu]=o,e[Ju]=s,e}function _n(u,e){var e=yn(e),d=e[Bu],p=e.url,m=e[Wu],g=e.data,f=e[zu],h=e[Gu],v=e[Ju];return pe(function(e,t){var n,a,r,i,o,s,c,l=new u.XMLHttpRequest;s=e,c=t,(o=l).onload=function(){var e,t,n=1223===o.status?204:o.status;n<100||599<n?c(new Error(Hu)):(e=o.responseText,t=o.getAllResponseHeaders(),s({status:n,headers:t,response:e}))},r=l=o,i=t,r.onerror=function(){i(new Error(Hu))},(l=r).open(d,p,v),e=l,!0===(r=f)&&(e.withCredentials=r),a=l=e,y(function(e,t){y(function(e){return a.setRequestHeader(t,e)},e)},m),l=a,v&&(n=t,(t=l).timeout=h,t.ontimeout=function(){n(new Error("Request timed out"))},l=t),l.send(g)})}function wn(e){return _n(window,e)}function Pn(e,t,n){var a={method:"GET"};return a.url=vn(e,t,hn),a[Gu]=n,a}function Cn(e){if(!(200<=(t=e.status)&&t<300||304===t))return null;var t=e.response;if(S(t))return null;e={};return e.type=$o,e.content=t,e}function En(e){var t=e[fo],n=S(a=(a=e)[ho])||E(a=$u.exec(a))||2!==a.length?"":a[1];if(S(n)||S(t))return e;var a=e[ho];return e[ho]=a.replace(Yu,""),e[fo]=(a=n,n=t,(t=document.createElement("div")).innerHTML=n,f(t=t.firstElementChild)?n:(t.id=a,t.outerHTML)),e}function kn(e){return!f(e.selector)}function Sn(e){var t,n,a,r,i,o,s,c,l,u=e[go];if(S(u))return null;switch(u){case bo:return kn(l=e)?_((l=En(l))[fo])?l:(ie(gs,l),null):null;case _o:return kn(c=e)?_((c=En(c))[fo])?c:(ie(gs,c),null):null;case Lo:return kn(c=e)?_((c=En(c))[fo])?c:(ie(gs,c),null):null;case No:return kn(s=e)?_((s=En(s))[fo])?s:(ie(gs,s),null):null;case Fo:return kn(s=e)?_((s=En(s))[fo])?s:(ie(gs,s),null):null;case Io:return kn(o=e)?_((o=En(o))[fo])?o:(ie(gs,o),null):null;case Do:return kn(o=e)?_((o=En(o))[fo])?o:(ie(gs,o),null):null;case xo:return kn(i=e)?_(i[fo])?i:(ie(gs,i),null):null;case Po:return kn(i=e)?d(i[fo])?i:(ie("Action has no attributes",i),null):null;case Co:return kn(r=e)?_(r[fo])?r:(ie("Action has no image url",r),null):null;case Eo:return kn(r=e)?d(r[fo])?r:(ie("Action has no CSS properties",r),null):null;case So:return kn(a=e)?d(a[fo])?a:(ie("Action has no height or width",a),null):null;case To:return kn(a=e)?d(a[fo])?a:(ie("Action has no left, top or position",a),null):null;case jo:return kn(n=e)?n:null;case ko:return kn(t=e)?d(t[fo])?t:(ie("Action has no from or to",t),null):null;case Ao:return S(t=(n=e).content)?(ie(fs,n),null):(n.content=bn(t,{}),n);default:return null}}function Tn(e){e=(0<arguments.length&&void 0!==e?e:{}).options;return!Ki(e)||E(e)?[]:Ou(V(Ru,e))}function jn(e){var t=(0<arguments.length&&void 0!==e?e:{}).execute,e=void 0===t?{}:t,t=e.pageLoad,e=e.mboxes,e=void 0===e?[]:e,t=g([Du(void 0===t?{}:t)||[],g(Ou(V(Du,e)))]),e=g(V(Lu,m(Sl,t))),t=m(Tl,t),e=m(Tl,e),t=t.concat(e),e={};if(E(t))return e;t=t[0].content;return S(t)||(e.url=t),e}function xn(e){e=(0<arguments.length&&void 0!==e?e:{}).analytics;return E(e)?[]:[e]}function An(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function Vn(e,t){var n=t[0],a=t[1],r=!E(n),t=!E(a);return(r||t)&&(r&&(e.options=n),t&&(e.metrics=a)),e}function On(e){switch(e.type){case Ao:return me(S(n=(t=e).content)?(ie(fs,t),null):((t=zi({},t)).content=bn(n,{}),t));case"dynamic":return wn(Pn(e.content,{},Hc[Gu])).then(Cn).catch(function(){return null});case Vs:return me((t=(n=e)[fo],!Ki(t)||E(t)||E(t=m(Ol,V(Sn,t)))?null:((n=zi({},n)).content=t,n)));default:return me(e)}var t,n}function In(e,t){if(!Ki(e))return me([]);if(E(e))return me([]);e=m(t,e);return E(e)?me([]):fe(V(On,e)).then(Ou)}function Dn(e,t){return!Ki(e)||E(e)?me([]):me(m(t,e))}function Ln(e){var t=e.name,n=e.analytics,a=e.options,e=e.metrics,r={name:t,analytics:n};return fe([In(a,on),Dn(e,cn)]).then(function(e){return Vn(r,e)})}function Rn(e,n,a){e=e.prefetch,e=(void 0===e?{}:e).mboxes,e=void 0===e?[]:e;return E(e)?null:(e=m(function(e){return t=a,(e=e).index===n&&e.name===t;var t},e))&&e.length?e[0]:void 0}function Nn(e){var c=e.request,e=e.response.prefetch;if(!d(e))return me([]);e=e.mboxes;if(!Ki(e)||E(e))return me([]);return fe(V(function(e){return n=(t=e).index,a=e.name,r=e.state,i=e.analytics,o=e.options,t=e.metrics,n=Rn(c,n,a),s={name:a,state:r,analytics:i},f(n)||An(s,n),fe([In(o,sn),Dn(t,cn)]).then(function(e){return Vn(s,e)});var t,n,a,r,i,o,s},m(xl,e))).then(Ou)}function Mn(e,t){var n=t.name,a=t.state,r=t.analytics,i=t.options,t=t.metrics,e=E(e=void 0===(e=(void 0===(e=(e=e).prefetch)?{}:e).views)?[]:e)?null:e[0],o={name:n.toLowerCase(),state:a,analytics:r};return f(e)||An(o,e),fe([In(i,sn),Dn(t,ln)]).then(function(e){return Vn(o,e)})}function Fn(e){var t=e[0],n=e[1],a=e[2],r=e[3],i=e[4],o={},e={};d(t)&&(e.pageLoad=t),E(n)||(e.mboxes=n);n={};return E(a)||(n.mboxes=a),E(r)||(n.views=r),E(i)||(n.metrics=i),E(e)||(o.execute=e),E(n)||(o.prefetch=n),o}function Un(e){var t,n=h([gn,dn,pn])(e);return fe([function(e){if(!d(t=e.response.execute))return me(null);if(!d(n=t.pageLoad))return me(null);var e=n.analytics,t=n.options,n=n.metrics,a={analytics:e};return fe([In(t,on),Dn(n,ln)]).then(function(e){return Vn(a,e)})}(n),d(e=(e=n).response.execute)?(e=e.mboxes,!Ki(e)||E(e)?me([]):fe(V(Ln,m(jl,e))).then(Ou)):me([]),Nn(n),(t=(e=n).request,d(e=e.response.prefetch)?(e=e.views,!Ki(e)||E(e)?me([]):fe(V(function(e){return Mn(t,e)},m(Al,e))).then(Ou)):me([])),d(n=(n=n).response.prefetch)?Dn(n.metrics,ln):me([])]).then(Fn)}function qn(e){return!E(jn(e))}function Hn(e){var t=function(e){var t=void 0===(n=(a=0<arguments.length&&void 0!==e?e:{}).execute)?{}:n,e=a.prefetch,n=void 0===e?{}:e,a=t.pageLoad,e=t.mboxes,t=void 0===e?[]:e,e=n.mboxes,e=void 0===e?[]:e,n=void 0===(n=n.views)?[]:n;return g([Tn(void 0===a?{}:a),g(V(Tn,t)),g(V(Tn,e)),g(V(Tn,n))])}(e),e={};return E(t)||(e.responseTokens=t),e}function Bn(e){var t=Hn(e),n=function(e){var t=void 0===(n=(a=0<arguments.length&&void 0!==e?e:{}).execute)?{}:n,e=a.prefetch,n=void 0===e?{}:e,a=t.pageLoad,e=t.mboxes,t=void 0===e?[]:e,e=n.mboxes,e=void 0===e?[]:e,n=void 0===(n=n.views)?[]:n;return g([xn(void 0===a?{}:a),g(V(xn,t)),g(V(xn,e)),g(V(xn,n))])}(e);return E(n)||(t.analyticsDetails=n),ie(ps,e),xe(t,qn(e)),me(e)}function Wn(e){var t=Hc[Us],a=e.mbox,n=e.timeout,r=d(e.params)?e.params:{},i={},e={};a===t?e.pageLoad={}:e.mboxes=[{index:0,name:a}],i.execute=e;t=Yt(a,i);return E(t)||((e={}).analytics=t,i.experienceCloud=e),je({mbox:a}),Xt(i,r).then(function(e){return nn(e,n)}).then(Un).then(function(e){return t=a,(e=Hn(n=e)).mbox=t,ie(ps,n),xe(e,qn(n)),me(n);var t,n}).catch(function(e){return t=a,re(ds,e=e),Ae({mbox:t,error:e}),ge(e);var t})}function zn(e){var t=Hc[Us],n=e.consumerId,a=e.request,r=e.timeout,e=Yt(void 0===n?t:n,a),t=Bn;return E(e)||((n=a.experienceCloud||{}).analytics=e,a.experienceCloud=n),je({}),Xt(a,{}).then(function(e){return nn(e,r)}).then(Un).then(t).catch(function(e){return re(ds,e=e),Ae({error:e}),ge(e)})}function Gn(e,t){return Ne(t).addClass(e)}function Jn(e,t){return Ne(t).css(e)}function $n(e,t){return Ne(t).attr(e)}function Yn(e,t,n){return Ne(n).attr(e,t)}function Kn(e,t){return Ne(t).removeAttr(e)}function Qn(e,t,n){var a=$n(e,n);po(a)&&(Kn(e,n),Yn(t,a,n))}function Xn(e){return new Error("Could not find: "+e)}function Zn(a,t,r){return pe(function(n,e){(function e(){var t=r(a);E(t)?window.requestAnimationFrame(e):n(t)})(),s(function(){e(Xn(a))},t)})}function ea(a,t,r){return pe(function(n,e){(function e(){var t=r(a);E(t)?s(e,100):n(t)})(),s(function(){e(Xn(a))},t)})}function ta(e,t,n){var a,r,i,o=1<arguments.length&&void 0!==t?t:Hc[$s],t=2<arguments.length&&void 0!==n?n:Ne,n=t(e);return E(n)?le()?(a=e,r=o,i=t,pe(function(t,e){var n=ue(function(){var e=i(a);E(e)||(n.disconnect(),t(e))});s(function(){n.disconnect(),e(Xn(a))},r),n.observe(document,{childList:!0,subtree:!0})})):("visible"===document.visibilityState?Zn:ea)(e,o,t):me(n)}function na(e){return $n(Go,e)}function aa(e){return po($n(Go,e))}function ra(e){return y(function(e){return Qn(Yo,Go,e)},C(qe(Zo,e))),e}function ia(e){return y(function(e){return Qn(Go,Yo,e)},C(qe(Zo,e))),e}function oa(e){return ie("Loading image",e),$n(Yo,Yn(Yo,e,Zc("<img/>")))}function sa(e){var t=m(aa,C(qe(Zo,e)));return E(t)||y(oa,V(na,t)),e}function ca(e){e=$n(Yo,e);return po(e)?e:null}function la(e,t){return re(us,t),ce({action:e,error:t}),e}function ua(e,t){var n,a,r=Ne(t[ho]),a=(a=Fe(t[fo]),h([ra,sa,ia])(a)),i=m(po,V(ca,C(qe("script",a))));try{n=me(e(r,a))}catch(e){return ge(la(t,e))}return E(i)?n.then(function(){return t}).catch(function(e){return la(t,e)}):n.then(function(){return e=i,D(function(e,t){return e.then(function(){return ie("Script load",t),ce({remoteScript:t}),Yi(t)})},me(),e);var e}).then(function(){return t}).catch(function(e){return la(t,e)})}function da(e){var t=zi({},e),n=t[fo];if(S(n))return t;var a=Ne(t[ho]);return e=Qo,Ne(a).is(e)&&(t[go]=Lo,t[fo]=A("",D(function(e,t){return e.push(Xe(Fe(t))),e},[],C(qe("script,link,style",Fe(n)))))),t}function pa(e){return e.indexOf("px")===e.length-2?e:e+"px"}function ma(e,t){return t=Xe(t),Ne(e).html(t)}function ga(e){var t=Ne(e[ho]),n=e[fo];return ie(ms,e),ce({action:e}),n=n,Ne(t).text(n),me(e)}function fa(e,t){return Qe(Xe(t),e)}function ha(e,t){return t=Xe(t),Ne(e).prepend(t)}function va(e,t){var n=Ue(e);return $e(Ke(Xe(t),e)),n}function ba(e,t){return Ne(Ke(Xe(t),e)).prev()}function ya(e,t){return Ne(Ye(Xe(t),e)).next()}function _a(e,t){return Ue(Ke(Xe(t),e))}function wa(e){var t,a,n=Ne(e[ho]),r=e[fo],i=r.priority;return ie(ms,e),ce({action:e}),S(i)?Jn(r,n):(t=r,a=i,y(function(n){y(function(e,t){return n.style.setProperty(t,e,a)},t)},C(n))),me(e)}function Pa(e){var t=Ne(e[ho]),n=e[fo],a=n.from,r=n.to,n=C(Ne(t).children()),t=n[a],n=n[r];return Me(t)&&Me(n)?(ie(ms,e),ce({action:e}),(a<r?Ye:Ke)(t,n),me(e)):(ie("Rearrange elements are missing",e),ge(e))}function Ca(e){var t,n,a,r,i,o,s,c,l,u,d,p=da(e);switch(p[go]){case bo:return ie(ms,d=p),ua(ma,d);case _o:return ga(p);case Lo:return ie(ms,d=p),ua(fa,d);case No:return ie(ms,u=p),ua(ha,u);case Fo:return ie(ms,u=p),ua(va,u);case Io:return ie(ms,l=p),ua(ba,l);case Do:return ie(ms,l=p),ua(ya,l);case xo:return ie(ms,c=p),ua(_a,c);case Po:return c=(o=p)[fo],s=Ne(o[ho]),ie(ms,o),ce({action:o}),y(function(e,t){return Yn(t,e,s)},c),me(o);case Co:return o=(r=p)[fo],i=Ne(r[ho]),ie(ms,r),ce({action:r}),Kn(Yo,i),Yn(Yo,oa(o),i),me(r);case Eo:return wa(p);case So:return i=Ne((a=p)[ho]),(r=a[fo]).width=pa(r.width),r.height=pa(r.height),ie(ms,a),ce({action:a}),Jn(r,i),me(a);case To:return n=Ne((t=p)[ho]),(a=t[fo]).left=pa(a.left),a.top=pa(a.top),ie(ms,t),ce({action:t}),Jn(a,n),me(t);case jo:return t=Ne((n=p)[ho]),ie(ms,n),ce({action:n}),$e(t),me(n);case ko:return Pa(p);default:return me(p)}}function Ea(e){e=e[ho];return po(e)||j(e)}function ka(e){e=e[vo];S(e)||$e("#at-"+w(e))}function Sa(e){var t,n;Ea(e)?(t=e[ho],(n=e)[go]===Vo||n[go]===Oo?Gn(Ls,t):(Gn(Ds,t),ka(e))):ka(e)}function Ta(n){return function(e){var t=e.key;if(S(t))return 1;if(e[go]===xo)return e.page;var n=e[ho];return(n=$n(Ku,n))!==t||n===t&&!e.page}(n)?Ca(n).then(function(){return ie("Action rendered successfully",n),ce({action:n}),!S(t=(e=n).key)&&Ea(e)&&(e=e[ho],Yn(Ku,t,e)),Sa(n),n;var e,t}).catch(function(e){re(us,e),ce({action:n,error:e}),Sa(n);e=zi({},n);return e[ys]=!0,e}):(Sa(n),n)}function ja(e){var t=m(function(e){return!0===e[ys]},e);return E(t)?me():(y(Sa,t),ge(e))}function xa(e){return ta((t=e)[ho]).then(function(){return t}).catch(function(){var e=zi({},t);return e[ys]=!0,e}).then(Ta);var t}function Aa(e,t,n){return Ne(n).on(e,t)}function Va(e){return ta(e[ho]).then(function(){return ce({metric:e}),zi({found:!0},e)}).catch(function(){return re(Qu,e),ce({metric:e,message:Qu}),e})}function Oa(e,t){return n=window,Xu in n&&Zu in n[Xu]?window[Xu][Zu](e,t):function(e,t,n){var a={};a[bc]=[yc];var r={method:"POST"};r.url=t,r.data=n,r[zu]=!0,r[Ju]=!1,r[Wu]=a;try{e(r)}catch(e){return}return 1}(wn,e,t);var n}function Ia(e){var t=e.name,n=_u.views||{};n[t]=e,ft("views",n)}function Da(e,t){var n=1<arguments.length&&void 0!==t?t:{},t=n.page,e=(_u.views||{})[e];if(f(e))return e;n=n.impressionId;return f(n)?e:zi({page:void 0===t||t,impressionId:n},e)}function La(e){var t=Yt(e,{}),n={context:{beacon:!0}};return E(t)||((e={}).analytics=t,n.experienceCloud=e),n}function Ra(e,t,n){t=Qt(La(e),t,Lt());return t.notifications=n,t}function Na(e,t,n){e={id:R(),type:t,timestamp:I(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return E(n)||(e.tokens=n),e}function Ma(e){var t=tn(Hc);return Oa(t,JSON.stringify(e))?(ie(ed,t,e),1):(re(td,t,e),0)}function Fa(e,t,n){var a=xt(Hc[Us]),n=Na(Gt({},a),t,[n]),a=Ra(R(),a,[n]);ie("Event handler notification",e,n),ce({source:e,event:t,request:a}),Ma(a)}function Ua(e,t,n){var a=xt(e),n=Na(Gt({},a),t,[n]);n.mbox={name:e};a=Ra(R(),a,[n]);ie("Mbox event handler notification",e,n),ce({mbox:e,event:t,request:a}),Ma(a)}function qa(e){var t=Hc[Us],o=[];y(function(e){var t,n,a,r=e.mbox,i=e.data;f(i)||(a=i.eventTokens,E(t=void 0===a?[]:a)||o.push((n="display",e=t,i=r.name,a=r.state,(e=Na(r,n,t)).mbox={name:i,state:a},e)))},e),E(o)||(t=Ra(t,{},o),ie("Mboxes rendered notification",o),ce({source:"prefetchMboxes",event:"rendered",request:t}),Ma(t))}function Ha(e,t,n){var a=xt(Hc[Us]),n=Na(Gt({},a),t,[n]);n.view={name:e};a=Ra(R(),a,[n]);ie("View event handler notification",e,n),ce({view:e,event:t,request:a}),Ma(a)}function Ba(e){var t,n=e.viewName,a=e.impressionId,r=xt(Hc[Us]),e=Na(Gt({},r),vc,[]);e.view={name:n},ie("View triggered notification",n),r=r,t=[e],Xt(La(n),r).then(function(e){return e.notifications=t,e}).then(function(e){e.impressionId=a,ce({view:n,event:"triggered",request:e}),Ma(e)})}function Wa(e){var t,n,a,r,i,o;f(e)||(o=e.view,i=(void 0===(r=e.data)?{}:r).eventTokens,E(t=void 0===i?[]:i)||(n=o.name,a=o.impressionId,f(e=Da(n))||((r=Ra(n,{},[(r=t,i=e.name,o=e.state,(r=Na(e,vc,t)).view={name:i,state:o},r)])).impressionId=a,ie("View rendered notification",n,t),ce({view:n,event:"rendered",request:r}),Ma(r))))}function za(e,a,r){f(nd[e])&&(E(e=b(nd))||y(function(n){y(function(e){var t=nd[n][e];e=a,t=t,Ne(r).off(e,t)},b(nd[n])),delete nd[n]},e))}function Ga(e,t,n,a){function r(){return a(e,i,s)}var i=n.type,o=n.selector,s=n.eventToken,c=w(i+":"+o+":"+s);n=o,i===Ko&&Gn(Ls,n),t?(n=c,!f(nd[t=e])&&!f(nd[t][n])||(za(e,i,o),t=c,n=r,nd[c=e]=nd[c]||{},nd[c][t]=n,Aa(i,r,o))):Aa(i,r,o)}function Ja(t,n,e,a){return fe(V(Va,e)).then(function(e){return y(function(e){return Ga(t,n,e,a)},m(function(e){return e.found},e)),Il()}).catch(Dl)}function $a(e){return Ja(e.name,!1,ad(e),Ua)}function Ya(e){return Ja(e.name,!0,ad(e),Ha)}function Ka(e){return Ja("pageLoadMetrics",!1,ad(e),Fa)}function Qa(e){e=V(id,e);e=Iu(e),et(Hc,e)}function Xa(e){e=V(id,e);e=Ou(e),tt(Hc,e)}function Za(e){e=m(Sl,Du(e));return g(V(rd,e))}function er(e){return d(e)&&e.type!==wo}function tr(e,t,n){var a,r,i=e.eventToken;return e=e.content,a=t,r=n,e=V(function(e){return zi({key:a,page:r},e)},m(er,e)),fe(V(xa,e)).then(ja).then(function(){return Ll(i)}).catch(Rl)}function nr(e){return d(e)&&e.type!==Jo}function ar(e,t){return V(e,m(nr,Du(t)))}function rr(e,t,n){e=c({status:Cs},e,t),t=V(Fu,m(Vu,n)),n={};return E(t)||(e.status=ys,n.errors=t),E(n)||(e.data=n),e}function ir(t,e,n){return fe(ar(function(e){return tr(e,!0)},t)).then(e).then(function(e){return n(t),e})}function or(r,i,t,n){var a=i.name;return fe(ar(function(e){return tr(e,a,t)},i)).then(function(e){return a=e,e=c({status:Cs},t=r,n=i),t=V(Fu,m(Vu,a)),n=V(Fu,m(Nl,a)),a={},E(t)||(e.status=ys,a.errors=t),E(n)||(a.eventTokens=n),E(a)||(e.data=a),e;var t,n,a}).then(function(e){return n(i),e})}function sr(t){return ir(t,function(e){return rr(Ss,t,e)},$a)}function cr(e){return or(Ss,e,!0,$a)}function lr(e,t){1<arguments.length&&void 0!==t&&t||(E(e=void 0===(e=(void 0===(e=e.execute)?{}:e).pageLoad)?{}:e)||Qa(Za(e)))}function ur(e){Qa(Za(e)),Me("#at-views")&&$e("#at-views")}function dr(e){return fe([Ja("prefetchMetrics",!1,ad(e),Fa)]).then(rr)}function pr(){}function mr(e,t){cd.emit(e,t)}function gr(e,t){cd.on(e,t)}function fr(e){return{type:Ao,content:e.url}}function hr(e){var t={};if(E(e))return t;var p=[],m=[],g=[];y(function(e){switch(e.action){case yo:po((d=e).selector)&&po(d.cssSelector)?g.push((d=e,(u={}).type=bo,u.content=d.content,u.selector=d.selector,u.cssSelector=d.cssSelector,u)):p.push({type:$o,content:e.content});break;case wo:E(e.content)||y(function(e){return p.push({type:Jo,content:e})},e.content);break;case _o:g.push((u=e,(l={}).type=_o,l.content=u.content,l.selector=u.selector,l.cssSelector=u.cssSelector,l));break;case Ro:g.push((l=e,(c={}).type=Lo,c.content=l.content,c.selector=l.selector,c.cssSelector=l.cssSelector,c));break;case Mo:g.push((c=e,(s={}).type=No,s.content=c.content,s.selector=c.selector,s.cssSelector=c.cssSelector,s));break;case Uo:g.push((s=e,(o={}).type=Fo,o.content=s.content,o.selector=s.selector,o.cssSelector=s.cssSelector,o));break;case Io:g.push((o=e,(i={}).type=Io,i.content=o.content,i.selector=o.selector,i.cssSelector=o.cssSelector,i));break;case Do:g.push((i=e,(r={}).type=Do,r.content=i.content,r.selector=i.selector,r.cssSelector=i.cssSelector,r));break;case xo:g.push((r=e,(a={}).type=xo,a.content=r.content,a.selector=r.selector,a.cssSelector=r.cssSelector,a));break;case Po:g.push(function(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Yo)return t.type=Co,t.content=e.value,t;t.type=Po;var n={};return n[e.attribute]=e.value,t.content=n,t}(e));break;case Eo:g.push((t=(a=e).style,n=void 0===t?{}:t,(t={}).selector=a.selector,t.cssSelector=a.cssSelector,f(n.left)||f(n.top)?f(n.width)||f(n.height)?t.type=Eo:t.type=So:t.type=To,t.content=n,t));break;case jo:g.push((n=e,(t={}).type=jo,t.selector=n.selector,t.cssSelector=n.cssSelector,t));break;case ko:g.push(function(e){var t={};t.from=e.from,t.to=e.to;var n={};return n.type=ko,n.selector=e.selector,n.cssSelector=e.cssSelector,n.content=t,n}(e));break;case Ao:p.push(fr(e));break;case Vo:m.push({type:Ko,selector:e.selector,eventToken:e.clickTrackId})}var t,n,a,r,i,o,s,c,l,u,d},e);var n={};if(E(g)||p.push({type:Vs,content:g}),E(p)||(n.options=p),E(m)||(n.metrics=m),E(n))return t;e={};return e.pageLoad=n,t.execute=e,t}function vr(e,t,n){return n?hr(t):function(e,t){var n={};if(E(t))return n;var a=[],r=[];return y(function(e){switch(e.action){case yo:a.push({type:$o,content:e.content});break;case wo:E(e.content)||y(function(e){return a.push({type:Jo,content:e})},e.content);break;case Ao:a.push(fr(e));break;case Oo:r.push({type:Ko,eventToken:e.clickTrackId})}},t),t={name:e},E(a)||(t.options=a),E(r)||(t.metrics=r),E(t)||((e={}).mboxes=[t],n.execute=e),n}(e,t)}function br(e){var t=e.status,e=e.data,t={status:t,pageLoad:!0};return f(e)||(t.data=e),t}function yr(e){var t=e.status,n=e.mbox,e=e.data,n={status:t,mbox:n.name};return f(e)||(n.data=e),n}function _r(e){var t=e.status,n=e.view,e=e.data,n={status:t,view:n.name};return f(e)||(n.data=e),n}function wr(e){var t=e.status,e=e.data,t={status:t,prefetchMetrics:!0};return f(e)||(t.data=e),t}function Pr(e,t){var n=1<arguments.length&&void 0!==t?t:Wa;if(f(e))return[null];t=V(_r,[e]);return sd(t)&&re("View rendering failed",e),e.view.page&&n(e),t}function Cr(e){var t=g([function(e){if(f(e))return[null];var t=V(br,[e]);return sd(t)&&re("Page load rendering failed",e),t}(e[0]),function(e){if(f(e))return[null];var t=V(yr,e);return sd(t)&&re(ld,e),t}(e[1]),function(e,t){var n=1<arguments.length&&void 0!==t?t:qa;return f(e)?[null]:(t=V(yr,e),sd(t)&&re(ld,e),n(e),t)}(e[2]),function(e){if(f(e))return[null];var t=V(wr,[e]);return sd(t)&&re("Prefetch rendering failed",e),t}(e[3])]),e=m(Au,t),t=m(Vu,e);return E(t)?me(e):ge(t)}function Er(e){return ge(e)}function kr(n,e){E(e)||(E(e=e.options)||y(function(e){var t;e.type===$o&&(t=e.content,e.type=Vs,e.content=[{type:"setHtml",selector:n,content:t}])},e))}function Sr(t,e){var n,a=e.metrics;E(a)||(n=e.name,y(function(e){e.name=n,e.selector=e.selector||t},a))}function Tr(t,e){var n=zi({},e),a=n.execute,r=void 0===a?{}:a,e=n.prefetch,a=r.pageLoad,r=r.mboxes,r=void 0===r?[]:r,e=(void 0===e?{}:e).mboxes,e=void 0===e?[]:e;return kr(t,void 0===a?{}:a),y(function(e){return kr(t,e)},r),y(function(e){return Sr(t,e)},r),y(function(e){return kr(t,e)},e),y(function(e){return Sr(t,e)},e),n}function jr(e){e=e.prefetch,e=(void 0===e?{}:e).views,e=void 0===e?[]:e;E(e)||y(Ia,e)}function xr(e){var t,n=[],a=e.execute,r=void 0===a?{}:a,a=r.pageLoad,a=void 0===a?{}:a,r=r.mboxes,r=void 0===r?[]:r;E(a)?n.push(me(null)):n.push(ir(t=a,function(e){return rr("pageLoad",t,e)},Ka)),E(r)?n.push(me(null)):n.push(fe(V(sr,r)));a=e.prefetch,r=void 0===a?{}:a,e=r.mboxes,a=void 0===e?[]:e,e=r.metrics,e=void 0===e?[]:e;return E(a)?n.push(me(null)):n.push(fe(V(cr,a))),Ki(e)&&!E(e)?n.push(dr(r)):n.push(me(null)),at(),fe(n).then(Cr).catch(Er)}function Ar(e,t){s(function(){return e.location.replace(t)})}function Vr(e){return po(e)||j(e)?e:Qo}function Or(e){Gn(Ds,e)}function Ir(e,t){var n=1<arguments.length&&void 0!==t&&t,t=e.selector,e=e.response;if(E(e))return ie(vs),Or(t),at(),De({}),mr(Nc),me();t=Tr(t,e),e=jn(t);if(E(e))return Ve({}),jr(t),mr(Rc),lr(t,n),xr(t).then(function(e){E(e)||Oe({execution:e})}).catch(function(e){return Ie({error:e})});t=e.url;return ie(bs,e),Le({url:t}),mr(Mc),Ar(window,t),me()}function Dr(e){re(ud,_c,e),ce({source:ud,error:e}),at()}function Lr(e,t){var n=1<arguments.length&&void 0!==t&&t,t={selector:Qo,response:e};ie(ud,Os,e),ce({source:ud,response:e}),Ir(t,n).catch(Dr)}function Rr(e){var t=e[Ic],n=t.request,a=t.response;ie(ud,Cc),ce({source:ud,serverState:t});var r,i,r=(r=e,t=zi({},i=a),e=t.execute,a=t.prefetch,i=r[hc],r=r[fc],e&&(t.execute.mboxes=null),e&&!i&&(t.execute.pageLoad=null),a&&(t.prefetch.mboxes=null),a&&!r&&(t.prefetch.views=null),t);lr(r),E(t=void 0===(t=(void 0===(t=(t=r).prefetch)?{}:t).views)?[]:t)||Xa(g(V(Za,t))),Un({request:n,response:r}).then(function(e){return Lr(e,!0)}).catch(Dr)}function Nr(){var e={};return e[Ps]=!0,e}function Mr(e){var t={};return t[Ps]=!1,t[ys]=e,t}function Fr(e){return S(e)?Mr("mbox option is required"):250<e.length?Mr("mbox option is too long"):Nr()}function Ur(e){return{action:Ao,url:e.content}}function qr(e){var v=[];return y(function(e){switch(e.type){case bo:v.push((f=e,(h={}).action=yo,h.content=f.content,h.selector=f.selector,h.cssSelector=f.cssSelector,h));break;case _o:v.push((h=e,(g={}).action=_o,g.content=h.content,g.selector=h.selector,g.cssSelector=h.cssSelector,g));break;case Lo:v.push((g=e,(m={}).action=Ro,m.content=g.content,m.selector=g.selector,m.cssSelector=g.cssSelector,m));break;case No:v.push((m=e,(p={}).action=Mo,p.content=m.content,p.selector=m.selector,p.cssSelector=m.cssSelector,p));break;case Fo:v.push((p=e,(d={}).action=Uo,d.content=p.content,d.selector=p.selector,d.cssSelector=p.cssSelector,d));break;case Io:v.push((d=e,(u={}).action=Io,u.content=d.content,u.selector=d.selector,u.cssSelector=d.cssSelector,u));break;case Do:v.push((u=e,(l={}).action=Do,l.content=u.content,l.selector=u.selector,l.cssSelector=u.cssSelector,l));break;case xo:v.push((s=e,(c={}).action=xo,c.content=s.content,c.selector=s.selector,c.cssSelector=s.cssSelector,c));break;case Po:v.push((s=b((l=e).content)[0],(c={}).action=Po,c.attribute=s,c.value=l.content[s],c.selector=l.selector,c.cssSelector=l.cssSelector,c));break;case Co:v.push((i=e,(o={}).action=Po,o.attribute=Yo,o.value=i.content,o.selector=i.selector,o.cssSelector=i.cssSelector,o));break;case Eo:v.push((i=e,(o={}).action=Eo,o.style=i.content,o.selector=i.selector,o.cssSelector=i.cssSelector,o));break;case So:v.push((a=e,(r={}).action=Eo,r.style=a.content,r.selector=a.selector,r.cssSelector=a.cssSelector,r));break;case To:v.push((a=e,(r={}).action=Eo,r.style=a.content,r.selector=a.selector,r.cssSelector=a.cssSelector,r));break;case jo:v.push((t=e,(n={}).action=jo,n.selector=t.selector,n.cssSelector=t.cssSelector,n));break;case ko:v.push((t=e,(n={}).action=ko,n.from=t.content.from,n.to=t.content.to,n.selector=t.selector,n.cssSelector=t.cssSelector,n));break;case Ao:v.push(Ur(e))}var t,n,a,r,i,o,s,c,l,u,d,p,m,g,f,h},e),v}function Hr(e){if(E(e))return[];var t=[],n=[],a=[],r=e.options,e=e.metrics,e=void 0===e?[]:e;y(function(e){switch(e.type){case $o:t.push(e.content);break;case Jo:n.push(e.content);break;case Ao:a.push(Ur(e));break;case Vs:a.push.apply(a,qr(e.content))}},void 0===r?[]:r),E(t)||a.push({action:yo,content:t.join("")}),E(n)||a.push({action:wo,content:n});e=function(e){if(E(e))return[];var t=[];return y(function(e){e.type===Ko&&(Vl(e)?t.push({action:Vo,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:Oo,clickTrackId:e.eventToken}))},e),t}(e);return E(e)||a.push.apply(a,e),a}function Br(e,t){var n,a,a=(a=(n=t).execute,n=(t=void 0===a?{}:a).pageLoad,t=void 0===(a=t.mboxes)?[]:a,(a=[]).push.apply(a,Hr(void 0===n?{}:n)),a.push.apply(a,g(V(Hr,t))),a);e[Cs](a)}function Wr(n){var e=function(e){if(!d(e))return Mr(ts);var t=Fr(e[Ss]);return t[Ps]?l(e[Cs])?l(e[ys])?Nr():Mr(cs):Mr(ss):t}(n),t=e[ys];if(!e[Ps])return re(dd,t),void ce({source:dd,options:n,error:t});if(!ee())return s(n[ys](_s,es)),re(dd,es),void ce({source:dd,options:n,error:es});function a(e){return Br(n,e)}function r(e){var t;t=e[xs]||ws,n[ys](t,e)}ie(dd,n),ce({source:dd,options:n}),ye()&&!_e()?we().then(function(){Wn(n).then(a).catch(r)}):Wn(n).then(a).catch(r)}function zr(e){var t=function(e){if(!d(e))return Mr(ts);var t=e.request;return d(t)?(e=t.execute,t=t.prefetch,d(e)||d(t)?Nr():Mr(rs)):Mr(ns)}(e),n=t[ys];return t[Ps]?ee()?(ie(pd,e),ce({source:pd,options:e}),!ye()||_e()?zn(e):we().then(function(){return zn(e)})):(re(pd,es),ce({source:pd,options:e,error:es}),ge(new Error(es))):(re(pd,n),ce({source:pd,options:e,error:n}),ge(t))}function Gr(e){var t=Vr(e.selector),n=function(e){if(!d(e))return Mr(ts);var t=Fr(e[Ss]);return t[Ps]?(e=e[Ts],Ki(e)?Nr():Mr(ls)):t}(e),a=n[ys];return n[Ps]?ee()?(e.selector=t,ie(md,e),ce({source:md,options:e}),void function(e){var t=e.mbox,n=e.selector,a=e.offer,e=t===Hc[Us];if(E(a))return ie(vs),Or(n),at(),De({mbox:t});if(n=Tr(n,vr(t,a,e)),!E(a=jn(n))){e=a.url;return ie(bs,a),Le({url:e}),Ar(window,e)}Ve({mbox:t}),lr(n),xr(n).then(function(e){E(e)||Oe({mbox:t,execution:e})}).catch(function(e){return Ie({error:e})})}(e)):(re(md,es),ce({source:md,options:e,error:es}),void Or(t)):(re(md,e,a),ce({source:md,options:e,error:a}),void Or(t))}function Jr(e){var t,n=Vr(e.selector),a=d(t=e)?d(t.response)?Nr():Mr(as):Mr(ts),t=a[ys];return a[Ps]?ee()?(e.selector=n,ie(gd,e),ce({source:gd,options:e}),Ir(e)):(re(gd,es),ce({source:gd,options:e,error:es}),Or(n),ge(new Error(es))):(re(gd,e,t),ce({source:gd,options:e,error:t}),Or(n),ge(a))}function $r(e){var t=Hc[Us],n=e.consumerId,a=void 0===n?t:n,r=e.request,t=function(e){if(!d(e))return Mr(ts);if(!d(n=e.request))return Mr(ns);var t=n.execute,e=n.prefetch,n=n.notifications;return d(t)||d(e)?Mr(is):Ki(n)?Nr():Mr(os)}(e),n=t[ys];if(!t[Ps])return re(fd,n),void ce({source:fd,options:e,error:n});if(!ee())return re(fd,es),void ce({source:fd,options:e,error:es});ie(fd,e),ce({source:fd,options:e});r=Ra(a,{},r.notifications);!ye()||_e()?Ma(r):re(fd,Vc)}function Yr(e){if(ye()&&!_e())return re(hs,Vc),e[ys](ys,Vc),0;!function(e){var t=e.mbox,n=d(e.params)?e.params:{},a=zi({},xt(t),n);if((n=Na(Gt({},a),"display",[])).mbox={name:t},Ma(Ra(t,a,[n])))return ie("Track event request succeeded",e),e[Cs]();re(hs,e),e[ys](ws,hs)}(e)}function Kr(t){function n(){return Yr(e=t),!e.preventDefault;var e}var e=t[ho],a=t[go],e=C(Ne(e));y(function(e){return Aa(a,n,e)},e)}function Qr(e){var t=d(i=e)?(i=Fr(i[Ss]))[Ps]?Nr():i:Mr(ts),n=t[ys];if(!t[Ps])return re(hd,n),void ce({source:hd,options:e,error:n});var a,r,i,r=(a=Hc,i=(r=e)[Ss],t=zi({},r),n=d(r.params)?r.params:{},t[As]=zi({},xt(i),n),t[Fs]=Zt(a,r[Fs]),t[Cs]=l(r[Cs])?r[Cs]:O,t[ys]=l(r[ys])?r[ys]:O,t);if(!ee())return re(hd,es),s(r[ys](_s,es)),void ce({source:hd,options:e,error:es});ie(hd,r),ce({source:hd,options:r}),e=(t=r)[go],t=t[ho],(po(e)&&(po(t)||j(t))?Kr:Yr)(r)}function Xr(e){return ur(e),or("view",e,e.page,Ya).then(Pr).then(function(e){E(e)||Oe({execution:e})}).catch(function(e){re("View rendering failed",e),Ie({error:e})})}function Zr(){for(;0<bd.length;){var e=bd.pop(),e=Da(e.viewName,e);f(e)||Xr(e)}}function ei(){_d=yd,Zr()}function ti(e){var t;t=e,ne()&&(t=t.viewName,window[eu].currentView=t),f(Da(e.viewName,e))&&e.page&&Ba(e),bd.push(e),_d===yd&&Zr()}function ni(e,t){if(!_(e)||S(e))return re(vd,wc,e),void ce({source:vd,view:e,error:wc});var n=e.toLowerCase(),t=(e=t,(t={}).viewName=n,t.impressionId=R(),t.page=!0,E(e)||(t.page=!!e.page),t);ie(vd,n,t),ce({source:vd,view:n,options:t}),ti(t)}function ai(){re(wd,arguments)}function ri(){re(Pd,arguments)}function ii(){re(Cd,arguments)}function oi(){re(Ed,arguments)}function si(n,e){var a={};return eo(function(e,t){a[t]=n(e,t)},e),a}function ci(e,t,n){return n.reduce(e,t)}function li(n,e,t){var a=e;return eo(function(e,t){a=n(a,e,t)},t),a}function ui(e,t){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=a.parser[(t=t||{}).strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[a.key[i]]=n[i]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,function(e,t,n){t&&(r[a.q.name][t]=n)}),r}var di,pi,mi,gi,fi,hi,vi,bi,yi,_i,wi,Pi,Ci,Ei,ki,Si,Ti,ji,xi,Ai,Vi,Oi,Ii,Di,Li,Ri,Ni,Mi,Fi,Ui,qi,Hi,Bi,Wi,zi=a(n("@adobe/reactor-object-assign")),Gi=a(n("@adobe/reactor-cookie")),Ji=a(n("@adobe/reactor-query-string")),$i=a(n("@adobe/reactor-promise")),Yi=a(n("@adobe/reactor-load-script")),Ki=Array.isArray,Qi=Object.prototype.toString,Xi="[object Function]",Zi=function(e,t){return t.forEach(e)},eo=function(t,n){Zi(function(e){return t(n[e],e)},b(n))},to=function(e,t){return t.filter(e)},no=function(n,e){var a={};return eo(function(e,t){n(e,t)&&(a[t]=e)},e),a},ao="[object String]",ro=function(e,t){return t.map(e)},io=Object.prototype.hasOwnProperty,oo=String.prototype.trim,so=Function.prototype,n=Object.prototype,co=so.toString,lo=n.hasOwnProperty,uo=co.call(Object),po=function(e){return!S(e)},mo=Array.prototype.reverse,go="type",fo="content",ho="selector",vo="cssSelector",bo="setHtml",yo="setContent",_o="setText",wo="setJson",Po="setAttribute",Co="setImageSource",Eo="setStyle",ko="rearrange",So="resize",To="move",jo="remove",xo="customCode",Ao="redirect",Vo="trackClick",Oo="signalClick",Io="insertBefore",Do="insertAfter",Lo="appendHtml",Ro="appendContent",No="prependHtml",Mo="prependContent",Fo="replaceHtml",Uo="replaceContent",qo="mboxDebug",Ho="mboxDisable",Bo="mboxEdit",Wo="at_check",zo="true",Go="data-at-src",Jo="json",$o="html",Yo="src",Ko="click",Qo="head",Xo="style",Zo="img",es='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',ts="options argument is required",ns="request option is required",as="response option is required",rs="execute or prefetch is required",is="execute or prefetch is not allowed",os="notifications are required",ss="success option is required",cs="error option is required",ls="offer option is required",us="Unexpected error",ds="request failed",ps="request succeeded",ms="Rendering action",gs="Action has no content",fs="Action has no url",hs="Track event request failed",vs="No actions to be rendered",bs="Redirect action",ys="error",_s="warning",ws="unknown",Ps="valid",Cs="success",Es="render",ks="metric",Ss="mbox",Ts="offer",js="name",xs="status",As="params",Vs="actions",Os="response",Is="request",Ds="at-element-marker",Ls="at-element-click-tracking",Rs="enabled",Ns="clientCode",Ms="serverDomain",Fs="timeout",Us="globalMboxName",qs="globalMboxAutoCreate",Hs="version",Bs="defaultContentHiddenStyle",Ws="bodyHiddenStyle",zs="bodyHidingEnabled",Gs="deviceIdLifetime",Js="sessionIdLifetime",$s="selectorsPollingTimeout",Ys="visitorApiTimeout",Ks="overrideMboxEdgeServer",Qs="overrideMboxEdgeServerTimeout",Xs="optoutEnabled",Zs="secureOnly",ec="supplementalDataIdParamTimeout",tc="authoringScriptUrl",nc="scheme",ac="cookieDomain",rc="mboxParams",ic="globalMboxParams",oc="mboxEdgeCluster",sc="session",cc="settings",lc="clientTraces",uc="serverTraces",dc="___target_traces",pc="targetGlobalSettings",mc="dataProvider",gc=mc+"s",fc="viewsEnabled",hc="pageLoadEnabled",vc="display",bc="Content-Type",yc="text/plain",_c="View delivery error",wc="View name should be a non-empty string",Pc="Page load disabled",Cc="Using server state",Ec="adobe",kc="optIn",Sc="isApproved",Tc="fetchPermissions",jc="Categories",xc="TARGET",Ac="optinEnabled",Vc="Adobe Target is not opted in",Oc="analyticsLogging",Ic="serverState",Dc="cspScriptNonce",Lc="cspStyleNonce",Rc="cache-updated-event",Nc="no-offers-event",Mc="redirect-offer-event",Fc="file:",Uc=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,qc=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Hc={},Bc=[Rs,Ns,"imsOrgId",Ms,ac,Fs,rc,ic,Bs,"defaultContentVisibleStyle",Gs,Ws,zs,$s,Ys,Ks,Qs,Xs,Ac,Zs,ec,tc,"urlSizeLimit","endpoint",hc,fc,Oc,Ic,Dc,Lc,Us],Wc=Ji.parse,zc=Ji.stringify,Gc=document.createElement("a"),Jc={},$c=Gi.get,Yc=Gi.set,Kc=Gi.remove,Qc="AT:",Xc="1",Zc=(di=window,function(u){function d(e){return e._zid||(e._zid=t++)}function o(e,t,n,a){var r,i;return(t=p(t)).ns&&(i=t.ns,r=new RegExp("(?:^| )"+i.replace(" "," .* ?")+"(?: |$)")),(P[d(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!a||e.sel==a)})}function p(e){e=(""+e).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function m(e,t){return e.del&&!n&&e.e in a||!!t}function g(e){return C[e]||n&&a[e]||e}function l(a,e,r,i,o,s,c){var t=d(a),l=P[t]||(P[t]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return u(document).ready(r);var t=p(e);t.fn=r,t.sel=o,t.e in C&&(r=function(e){e=e.relatedTarget;if(!e||e!==this&&!u.contains(this,e))return t.fn.apply(this,arguments)});var n=(t.del=s)||r;t.proxy=function(e){if(!(e=h(e)).isImmediatePropagationStopped()){e.data=i;var t=n.apply(a,e._args==y?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},t.i=l.length,l.push(t),"addEventListener"in a&&a.addEventListener(g(t.e),t.proxy,m(t,c))})}function f(t,e,n,a,r){var i=d(t);(e||"").split(/\s/).forEach(function(e){o(t,e,n,a).forEach(function(e){delete P[i][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function h(a,r){if(r||!a.isDefaultPrevented){r=r||a,u.each(e,function(e,t){var n=r[e];a[e]=function(){return this[t]=s,n&&n.apply(r,arguments)},a[t]=E});try{a.timeStamp||(a.timeStamp=(new Date).getTime())}catch(e){}(r.defaultPrevented!==y?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(a.isDefaultPrevented=s)}return a}function v(e){var t,n={originalEvent:e};for(t in e)r.test(t)||e[t]===y||(n[t]=e[t]);return h(n,e)}function b(e){return"string"==typeof e}var y,t=1,_=Array.prototype.slice,w=u.isFunction,P={},i={},n="onfocusin"in di,a={focus:"focusin",blur:"focusout"},C={mouseenter:"mouseover",mouseleave:"mouseout"};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents",u.event={add:l,remove:f},u.proxy=function(e,t){var n=2 in arguments&&_.call(arguments,2);if(w(e)){var a=function(){return e.apply(t,n?n.concat(_.call(arguments)):arguments)};return a._zid=d(e),a}if(b(t))return n?(n.unshift(e[t],e),u.proxy.apply(null,n)):u.proxy(e[t],e);throw new TypeError("expected function")},u.fn.bind=function(e,t,n){return this.on(e,t,n)},u.fn.unbind=function(e,t){return this.off(e,t)},u.fn.one=function(e,t,n,a){return this.on(e,t,n,a,1)};var s=function(){return!0},E=function(){return!1},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};u.fn.delegate=function(e,t,n){return this.on(t,e,n)},u.fn.undelegate=function(e,t,n){return this.off(t,e,n)},u.fn.live=function(e,t){return u(document.body).delegate(this.selector,e,t),this},u.fn.die=function(e,t){return u(document.body).undelegate(this.selector,e,t),this},u.fn.on=function(t,a,r,i,o){var s,c,n=this;return t&&!b(t)?(u.each(t,function(e,t){n.on(e,a,r,t,o)}),n):(b(a)||w(i)||!1===i||(i=r,r=a,a=y),i!==y&&!1!==r||(i=r,r=y),!1===i&&(i=E),n.each(function(e,n){o&&(s=function(e){return f(n,e.type,i),i.apply(this,arguments)}),a&&(c=function(e){var t=u(e.target).closest(a,n).get(0);if(t&&t!==n)return e=u.extend(v(e),{currentTarget:t,liveFired:n}),(s||i).apply(t,[e].concat(_.call(arguments,1)))}),l(n,t,i,r,a,c||s)}))},u.fn.off=function(e,n,t){var a=this;return e&&!b(e)?(u.each(e,function(e,t){a.off(e,n,t)}),a):(b(n)||w(t)||!1===t||(t=n,n=y),!1===t&&(t=E),a.each(function(){f(this,e,t,n)}))},u.fn.trigger=function(e,t){return(e=b(e)||u.isPlainObject(e)?u.Event(e):h(e))._args=t,this.each(function(){e.type in a&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):u(this).triggerHandler(e,t)})},u.fn.triggerHandler=function(n,a){var r,i;return this.each(function(e,t){(r=v(b(n)?u.Event(n):n))._args=a,r.target=t,u.each(o(t,n.type||n),function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){u.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),u.Event=function(e,t){b(e)||(e=(t=e).type);var n=document.createEvent(i[e]||"Events"),a=!0;if(t)for(var r in t)"bubbles"==r?a=!!t[r]:n[r]=t[r];return n.initEvent(e,a,!0),h(n)}}((Ci=(Pi=[]).concat,Ei=Pi.filter,ki=Pi.slice,Si=di.document,Ti={},ji={},xi={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Ai=/^\s*<(\w+|!)[^>]*>/,Vi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Oi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ii=/^(?:body|html)$/i,Di=/([A-Z])/g,Li=["val","css","html","text","data","width","height","offset"],n=Si.createElement("table"),Ji=Si.createElement("tr"),Ri={tr:Si.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:Ji,th:Ji,"*":Si.createElement("div")},Ni=/complete|loaded|interactive/,Mi=/^[\w-]*$/,Ui=(Fi={}).toString,qi={},Hi=Si.createElement("div"),Bi={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Wi=Array.isArray||function(e){return e instanceof Array},qi.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var a=e.parentNode,n=!a;return n&&(a=Hi).appendChild(e),t=~qi.qsa(a,t).indexOf(e),n&&Hi.removeChild(e),t},_i=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},wi=function(n){return Ei.call(n,function(e,t){return n.indexOf(e)==t})},qi.fragment=function(e,t,n){var a,r,i;return(a=Vi.test(e)?bi(Si.createElement(RegExp.$1)):a)||(e.replace&&(e=e.replace(Oi,"<$1></$2>")),t===hi&&(t=Ai.test(e)&&RegExp.$1),(i=Ri[t=!(t in Ri)?"*":t]).innerHTML=""+e,a=bi.each(ki.call(i.childNodes),function(){i.removeChild(this)})),sl(n)&&(r=bi(a),bi.each(n,function(e,t){-1<Li.indexOf(e)?r[e](t):r.attr(e,t)})),a},qi.Z=function(e,t){return new ml(e,t)},qi.isZ=function(e){return e instanceof qi.Z},qi.init=function(e,t){var n,a;if(!e)return qi.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&Ai.test(e))n=qi.fragment(e,RegExp.$1,t),e=null;else{if(t!==hi)return bi(t).find(e);n=qi.qsa(Si,e)}else{if(al(e))return bi(Si).ready(e);if(qi.isZ(e))return e;if(Wi(e))a=e,n=Ei.call(a,function(e){return null!=e});else if(ol(e))n=[e],e=null;else if(Ai.test(e))n=qi.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==hi)return bi(t).find(e);n=qi.qsa(Si,e)}}return qi.Z(n,e)},(bi=function(e,t){return qi.init(e,t)}).extend=function(t){var n,e=ki.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,a){for(vi in n)a&&(sl(n[vi])||Wi(n[vi]))?(sl(n[vi])&&!sl(t[vi])&&(t[vi]={}),Wi(n[vi])&&!Wi(t[vi])&&(t[vi]=[]),e(t[vi],n[vi],a)):n[vi]!==hi&&(t[vi]=n[vi])}(t,e,n)}),t},qi.qsa=function(e,t){var n,a="#"==t[0],r=!a&&"."==t[0],i=a||r?t.slice(1):t,o=Mi.test(i);return e.getElementById&&o&&a?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:ki.call(o&&!a&&e.getElementsByClassName?r?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},bi.contains=Si.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t&&t.parentNode;)if(t===e)return!0;return!1},bi.type=nl,bi.isFunction=al,bi.isWindow=rl,bi.isArray=Wi,bi.isPlainObject=sl,bi.isEmptyObject=function(e){for(var t in e)return!1;return!0},bi.isNumeric=function(e){var t=Number(e),n=o(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},bi.inArray=function(e,t,n){return Pi.indexOf.call(t,e,n)},bi.camelCase=_i,bi.trim=function(e){return null==e?"":String.prototype.trim.call(e)},bi.uuid=0,bi.support={},bi.expr={},bi.noop=function(){},bi.map=function(e,t){var n,a,r,i,o=[];if(cl(e))for(a=0;a<e.length;a++)null!=(n=t(e[a],a))&&o.push(n);else for(r in e)null!=(n=t(e[r],r))&&o.push(n);return 0<(i=o).length?bi.fn.concat.apply([],i):i},bi.each=function(e,t){var n,a;if(cl(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(a in e)if(!1===t.call(e[a],a,e[a]))return e;return e},bi.grep=function(e,t){return Ei.call(e,t)},di.JSON&&(bi.parseJSON=JSON.parse),bi.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Fi["[object "+t+"]"]=t.toLowerCase()}),bi.fn={constructor:qi.Z,length:0,forEach:Pi.forEach,reduce:Pi.reduce,push:Pi.push,sort:Pi.sort,splice:Pi.splice,indexOf:Pi.indexOf,concat:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=qi.isZ(e=arguments[n])?e.toArray():e;return Ci.apply(qi.isZ(this)?this.toArray():this,t)},map:function(n){return bi(bi.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return bi(ki.apply(this,arguments))},ready:function(e){return Ni.test(Si.readyState)&&Si.body?e(bi):Si.addEventListener("DOMContentLoaded",function(){e(bi)},!1),this},get:function(e){return e===hi?ki.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){for(var t,n=this.length,a=0;a<n&&(t=this[a],!1!==e.call(t,a,t));)a++;return this},filter:function(t){return al(t)?this.not(this.not(t)):bi(Ei.call(this,function(e){return qi.matches(e,t)}))},add:function(e,t){return bi(wi(this.concat(bi(e,t))))},is:function(e){return 0<this.length&&qi.matches(this[0],e)},not:function(t){var n,a=[];return al(t)&&t.call!==hi?this.each(function(e){t.call(this,e)||a.push(this)}):(n="string"==typeof t?this.filter(t):cl(t)&&al(t.item)?ki.call(t):bi(t),this.forEach(function(e){n.indexOf(e)<0&&a.push(e)})),bi(a)},has:function(e){return this.filter(function(){return ol(e)?bi.contains(this,e):bi(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!ol(e)?e:bi(e)},last:function(){var e=this[this.length-1];return e&&!ol(e)?e:bi(e)},find:function(e){var n=this;return e?"object"==o(e)?bi(e).filter(function(){var t=this;return Pi.some.call(n,function(e){return bi.contains(e,t)})}):1==this.length?bi(qi.qsa(this[0],e)):this.map(function(){return qi.qsa(this,e)}):bi()},closest:function(n,a){var r=[],i="object"==o(n)&&bi(n);return this.each(function(e,t){for(;t&&!(i?0<=i.indexOf(t):qi.matches(t,n));)t=t!==a&&!il(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),bi(r)},parents:function(e){for(var t=[],n=this;0<n.length;)n=bi.map(n,function(e){if((e=e.parentNode)&&!il(e)&&t.indexOf(e)<0)return t.push(e),e});return gl(t,e)},parent:function(e){return gl(wi(this.pluck("parentNode")),e)},children:function(e){return gl(this.map(function(){return pl(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||ki.call(this.childNodes)})},siblings:function(e){return gl(this.map(function(e,t){return Ei.call(pl(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return bi.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,Ti[e]||(t=Si.createElement(e),Si.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),Ti[e]=n="none"==n?"block":n),Ti[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n,a,r=al(t);return this[0]&&!r&&(n=bi(t).get(0),a=n.parentNode||1<this.length),this.each(function(e){bi(this).wrapAll(r?t.call(this,e):a?n.cloneNode(!0):n)})},wrapAll:function(e){if(this[0]){var t;for(bi(this[0]).before(e=bi(e));(t=e.children()).length;)e=t.first();bi(e).append(this)}return this},wrapInner:function(a){var r=al(a);return this.each(function(e){var t=bi(this),n=t.contents(),e=r?a.call(this,e):a;n.length?n.wrapAll(e):t.append(e)})},unwrap:function(){return this.parent().each(function(){bi(this).replaceWith(bi(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=bi(this);(t===hi?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return bi(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return bi(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;bi(this).empty().append(fl(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){e=fl(this,t,e,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(ol(t))for(vi in t)hl(this,vi,t[vi]);else hl(this,t,fl(this,n,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:hi},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){hl(this,e)},this)})},prop:function(t,n){return t=Bi[t]||t,1 in arguments?this.each(function(e){this[t]=fl(this,n,e,this[t])}):this[0]&&this[0][t]},removeProp:function(e){return e=Bi[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n,e="data-"+e.replace(Di,"-$1").toLowerCase();return null!==(n=1 in arguments?this.attr(e,t):this.attr(e))?bl(n):hi},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=fl(this,t,e,this.value)})):this[0]&&(this[0].multiple?bi(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(e){var t=bi(this),n=fl(this,a,e,t.offset()),e=t.offsetParent().offset(),e={top:n.top-e.top,left:n.left-e.left};"static"==t.css("position")&&(e.position="relative"),t.css(e)});if(!this.length)return null;if(Si.documentElement!==this[0]&&!bi.contains(Si.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+di.pageXOffset,top:e.top+di.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e)return n?n.style[_i(e)]||getComputedStyle(n,"").getPropertyValue(e):void 0;if(Wi(e)){if(!n)return;var a={},r=getComputedStyle(n,"");return bi.each(e,function(e,t){a[t]=n.style[_i(t)]||r.getPropertyValue(t)}),a}}var i="";if("string"==nl(e))t||0===t?i=ll(e)+":"+dl(e,t):this.each(function(){this.style.removeProperty(ll(e))});else for(vi in e)e[vi]||0===e[vi]?i+=ll(vi)+":"+dl(vi,e[vi])+";":this.each(function(){this.style.removeProperty(ll(vi))});return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(bi(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&Pi.some.call(this,function(e){return this.test(vl(e))},ul(e))},addClass:function(n){return n?this.each(function(e){var t;"className"in this&&(yi=[],t=vl(this),fl(this,n,e,t).split(/\s+/g).forEach(function(e){bi(this).hasClass(e)||yi.push(e)},this),yi.length&&vl(this,t+(t?" ":"")+yi.join(" ")))}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===hi)return vl(this,"");yi=vl(this),fl(this,t,e,yi).split(/\s+/g).forEach(function(e){yi=yi.replace(ul(e)," ")}),vl(this,yi.trim())}})},toggleClass:function(n,a){return n?this.each(function(e){var t=bi(this);fl(this,n,e,vl(this)).split(/\s+/g).forEach(function(e){(a===hi?!t.hasClass(e):a)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===hi?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===hi?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),a=Ii.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(bi(e).css("margin-top"))||0,n.left-=parseFloat(bi(e).css("margin-left"))||0,a.top+=parseFloat(bi(t[0]).css("border-top-width"))||0,a.left+=parseFloat(bi(t[0]).css("border-left-width"))||0,{top:n.top-a.top,left:n.left-a.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Si.body;e&&!Ii.test(e.nodeName)&&"static"==bi(e).css("position");)e=e.offsetParent;return e})}},bi.fn.detach=bi.fn.remove,["width","height"].forEach(function(a){var r=a.replace(/./,function(e){return e[0].toUpperCase()});bi.fn[a]=function(t){var e,n=this[0];return t===hi?rl(n)?n["inner"+r]:il(n)?n.documentElement["scroll"+r]:(e=this.offset())&&e[a]:this.each(function(e){(n=bi(this)).css(a,fl(this,t,e,n[a]()))})}}),["after","prepend","before","append"].forEach(function(t,u){var d=u%2;bi.fn[t]=function(){var n,s,c=bi.map(arguments,function(e){var t=[];return"array"==(n=nl(e))?(e.forEach(function(e){return e.nodeType!==hi?t.push(e):bi.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(qi.fragment(e)))}),t):"object"==n||null==e?e:qi.fragment(e)}),l=1<this.length;return c.length<1?this:this.each(function(e,t){s=d?t:t.parentNode,t=0==u?t.nextSibling:1==u?t.firstChild:2==u?t:null;var n=bi.contains(Si.documentElement,s),r=/^(text|application)\/(javascript|ecmascript)$/,a=Hc,i=a[Dc],o=a[Lc];c.forEach(function(e){if(l)e=e.cloneNode(!0);else if(!s)return bi(e).remove();po(i)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",i),po(o)&&"STYLE"===e.tagName&&e.setAttribute("nonce",o),s.insertBefore(e,t),n&&function e(t,n){n(t);for(var a=0,r=t.childNodes.length;a<r;a++)e(t.childNodes[a],n)}(e,function(e){var t,n,a;null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!r.test(e.type.toLowerCase())||e.src||(t=Si,n=e.innerHTML,a=e.nonce,!(e=t.getElementsByTagName("script")[0])||(e=e.parentNode)&&((t=t.createElement("script")).innerHTML=n,po(a)&&t.setAttribute("nonce",a),e.appendChild(t),e.removeChild(t)))})})})},bi.fn[d?t+"To":"insert"+(u?"Before":"After")]=function(e){return bi(e)[t](this),this}}),qi.Z.prototype=ml.prototype=bi.fn,qi.uniq=wi,qi.deserializeValue=bl,bi.zepto=qi,Gi=bi)),function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;di.getComputedStyle=function(e,t){try{return n(e,t)}catch(e){return null}}}}(),n=(pi=Gi).zepto,mi=n.qsa,gi=/^\s*>/,fi="Zepto"+ +new Date,n.qsa=function(e,t){var n,a,t=t;try{t?gi.test(t)&&(a=pi(e).addClass(fi),t="."+fi+" "+t):t="*",n=mi(e,t)}catch(e){throw e}finally{a&&a.removeClass(fi)}return n},Gi),el=window.MutationObserver||window.WebkitMutationObserver,tl="Expected an array of promises";function nl(e){return null==e?String(e):Fi[Ui.call(e)]||"object"}function al(e){return"function"==nl(e)}function rl(e){return null!=e&&e==e.window}function il(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function ol(e){return"object"==nl(e)}function sl(e){return ol(e)&&!rl(e)&&Object.getPrototypeOf(e)==Object.prototype}function cl(e){var t=!!e&&"length"in e&&e.length,n=bi.type(e);return"function"!=n&&!rl(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function ll(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function ul(e){return e in ji?ji[e]:ji[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function dl(e,t){return"number"!=typeof t||xi[ll(e)]?t:t+"px"}function pl(e){return"children"in e?ki.call(e.children):bi.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function ml(e,t){for(var n=e?e.length:0,a=0;a<n;a++)this[a]=e[a];this.length=n,this.selector=t||""}function gl(e,t){return null==t?bi(e):bi(e).filter(t)}function fl(e,t,n,a){return al(t)?t.call(e,n,a):t}function hl(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function vl(e,t){var n=e.className||"",a=n&&n.baseVal!==hi;if(t===hi)return a?n.baseVal:n;a?n.baseVal=t:e.className=t}function bl(t){try{return t&&("true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?bi.parseJSON(t):t))}catch(e){return t}}$i._setImmediateFn&&(le()?$i._setImmediateFn(de()):-1!==window.navigator.userAgent.indexOf("MSIE 10")&&$i._setImmediateFn(function(e){var t=Zc("<script>");t.on("readystatechange",function(){t.on("readystatechange",null),t.remove(),t=null,e()}),Zc(document.documentElement).append(t)}));var yl,_l,wl=R(),Pl=/.*\.(\d+)_\d+/;function Cl(e,t){var n=_l.createEvent("CustomEvent");return n.initCustomEvent(e,(t=t||{bubbles:!1,cancelable:!1,detail:void 0}).bubbles,t.cancelable,t.detail),n}yl=window,_l=document,l(yl.CustomEvent)||(Cl.prototype=yl.Event.prototype,yl.CustomEvent=Cl);function El(e){return!f(e)}function kl(e){return!E(e)}function Sl(e){return e.type===Vs}function Tl(e){return e.type===Ao}function jl(e){return d(e)&&Nu(e)}function xl(e){return d(e)&&Nu(e)&&Mu(e)}function Al(e){return d(e)&&Nu(e)}function Vl(e){return po(e.selector)}function Ol(e){return!f(e)}function Il(){return an(ks)}function Dl(e){return rn(ks,e)}function Ll(e){return an(Es,e)}function Rl(e){return rn(Es,e)}function Nl(e){return xu(Vu)(e)&&Uu(e)}var Ml,Fl,Ul="at-library-loaded",ql="at-request-start",Hl="at-request-succeeded",Bl="at-request-failed",Wl="at-content-rendering-start",zl="at-content-rendering-succeeded",Gl="at-content-rendering-failed",Jl="at-content-rendering-no-offers",$l="at-content-rendering-redirect",Yl=":eq(",Kl=Yl.length,Ql=/((\.|#)(-)?\d{1})/g,Xl="Unable to load target-vec.js",Zl="Loading target-vec.js",eu="_AT",tu="clickHandlerForExperienceEditor",nu="at_qa_mode",au="at_preview_token",ru="at_preview_index",iu="at_preview_listed_activities_only",ou="at_preview_evaluate_as_true_audience_ids",su="at_preview_evaluate_as_false_audience_ids",cu="at-body-style",lu="#"+cu,uu="at-views",du="MCAAMB",pu="MCAAMLH",mu="MCOPTOUT",gu="getSupplementalDataID",fu="getCustomerIDs",hu="trackingServer",vu=hu+"Secure",bu="Visitor",yu="getInstance",_u={},wu="Data provider",Pu=(Ml=document.createElement("canvas"),f(Fl=Ml.getContext("webgl")||Ml.getContext("experimental-webgl"))||f(Ml=Fl.getExtension("WEBGL_debug_renderer_info"))||f(Ml=Fl.getParameter(Ml.UNMASKED_RENDERER_WEBGL))?null:Ml),Cu="mbox3rdPartyId",Eu="at_property",ku="orderTotal",Su="productPurchasedId",Tu="categoryId",ju="Network request failed",Ji=function(t){return function(e){return e[t]}},xu=function(t){return function(e){return!t(e)}},Au=xu(f),n=xu(S),Gi=function(t){return function(e){return m(t,e)}},Vu=function(e){return e.status===ys},Ou=Gi(Au),Iu=Gi(n),Du=Ji("options"),Lu=Ji(fo),Ru=Ji("responseTokens"),Nu=function(e){return po(e.name)},Mu=function(e){return!f(e.index)},Fu=Ji("data"),Uu=h([Fu,Au]),qu="adobe_mc_sdid",Hu="Network request failed",Bu="method",Wu="headers",zu="credentials",Gu="timeout",Ju="async",$u=/CLKTRK#(\S+)/,Yu=/CLKTRK#(\S+)\s/,Ku="at-action-key",Qu="metric element not found",Xu="navigator",Zu="sendBeacon",ed="Beacon data sent",td="Beacon data sent failed",nd={},ad=Ji("metrics"),rd=Ji(fo),id=Ji(vo);pr.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function a(){r.off(e,a),t.apply(n,arguments)}var r=this;return a._=t,this.on(e,a,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,r=n.length;a<r;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],r=[];if(a&&t)for(var i=0,o=a.length;i<o;i++)a[i].fn!==t&&a[i].fn._!==t&&r.push(a[i]);return r.length?n[e]=r:delete n[e],this}};var od=pr;od.TinyEmitter=pr;function sd(e){return!E(m(Vu,e))}var cd=new od,ld="Mboxes rendering failed",ud="[page-init]",dd="[getOffer()]",pd="[getOffers()]",md="[applyOffer()]",gd="[applyOffers()]",fd="[sendNotifications()]",hd="[trackEvent()]",vd="[triggerView()]",bd=[],yd=1,_d=0;gr(Rc,ei),gr(Nc,ei),gr(Mc,ei);var Ji="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",wd="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Pd="mboxCreate() "+Ji,Cd="mboxDefine() "+Ji,Ed="mboxUpdate() "+Ji,Ji={init:function(e,t,n){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)re("Adobe Target has already been initialized.");else{F(n);var a=Hc,n=a[Hs];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=n,e.adobe.target.event={LIBRARY_LOADED:Ul,REQUEST_START:ql,REQUEST_SUCCEEDED:Hl,REQUEST_FAILED:Bl,CONTENT_RENDERING_START:Wl,CONTENT_RENDERING_SUCCEEDED:zl,CONTENT_RENDERING_FAILED:Gl,CONTENT_RENDERING_NO_OFFERS:Jl,CONTENT_RENDERING_REDIRECT:$l},!a[Rs])return(r=e).adobe=r.adobe||{},r.adobe.target={VERSION:"",event:{},getOffer:i,getOffers:o,applyOffer:i,applyOffers:o,sendNotifications:i,trackEvent:i,triggerView:i,registerExtension:i,init:i},r.mboxCreate=i,r.mboxDefine=i,r.mboxUpdate=i,void re(es);oe(window,Hc,te()),He(),f(r=Je((a=e).location.search))||(a=new Date(I()+186e4),Yc(nu,JSON.stringify(r),{expires:a})),e.adobe.target.getOffer=Wr,e.adobe.target.getOffers=zr,e.adobe.target.applyOffer=Gr,e.adobe.target.applyOffers=Jr,e.adobe.target.sendNotifications=$r,e.adobe.target.trackEvent=Qr,e.adobe.target.triggerView=ni,e.adobe.target.registerExtension=ai,e.mboxCreate=ri,e.mboxDefine=ii,e.mboxUpdate=oi,e=Te(Ul,{}),Se(window,document,Ul,e)}var r;function i(){}function o(){return me()}},initConfig:F,initDelivery:function(){if(!ee())return re(ud,es),void ce({source:ud,error:es});var e=Hc;if(function(e){var t=e[Ic];if(!E(t)){e=t.request,t=t.response;return!E(e)&&!E(t)}}(e))Rr(e);else{var t=e[hc],n=e[fc];if(!t&&!n)return ie(ud,Pc),void ce({source:ud,error:Pc});nt();var a={};t&&(a.execute={pageLoad:{}}),n&&(a.prefetch={views:[{}]});e=e[Fs];ie(ud,Is,a),ce({source:ud,request:a});var r={request:a,timeout:e};(ye()&&!_e()?we().then(function(){zn(r).then(Lr).catch(Dr)}):zn(r).then(Lr)).catch(Dr)}}};e.exports=Ji}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,n){"use strict";var a=n("../librarySettings"),r=n("@adobe/reactor-window"),i=n("./object-override"),o=n("./params-store"),s=o.getParams,c=o.getPageLoadParams,l=n("../targetSettings").targetSettings;e.exports=function(e){return l.mboxParams=s(),l.globalMboxParams=c(),i(l,e,["bodyHidingEnabled","bodyHiddenStyle"]),i(l,r.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),i(l,a.TARGET_DEFAULT_SETTINGS||{},["version"]),l}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";e.exports={TARGET_DEFAULT_SETTINGS:{version:"2.4.1"}}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(r,i,e){Object.keys(i).filter(t,{subset:e}).forEach(function(e){var t,n,a;t=r,(n=i)[e=e]!==a&&(t[e]=n[e])})}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,n){"use strict";function a(r){var i={};return Object.keys(r).forEach(function(e){var t,n,a=r[e];void 0!==(n=a)&&null!=n&&Object.prototype.hasOwnProperty.call(n,"value")&&null!=n.checked?(t=a.checked,n=a.value,t&&""===n||(i[e]=n)):i[e]=a}),i}var r=n("./object-override"),i={},o={};e.exports={mergeParams:function(e){e=a(e),r(i,e)},mergePageLoadParams:function(e){e=a(e),r(o,e)},getParams:function(){return i},getPageLoadParams:function(){return o}}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,n,a){"use strict";var r=a.getExtensionSettings(),a=r.targetSettings||{};e.exports={extensionSettings:r,targetSettings:a}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),o=n("@adobe/reactor-promise"),s=n("../messages"),c=n("./params-store"),l=c.getParams,u=c.getPageLoadParams,d=n("../targetSettings").targetSettings,p=n("./object-override"),m=n("../librarySettings").TARGET_DEFAULT_SETTINGS,g=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName"];e.exports={initLibrarySettings:function(){return r.adobe&&r.adobe.target&&void 0!==r.adobe.target.getOffer?(a.logger.warn(s.ALREADY_INITIALIZED),null):(d.mboxParams=l(),d.globalMboxParams=u(),p(d,r.targetGlobalSettings||{},g),p(d,m||{},["version"]),t=(e=i).compatMode,e=e.documentMode,t&&"CSS1Compat"===t&&(!e||9<=e)||(d.enabled=!1,a.logger.warn(s.DELIVERY_DISABLED)),d);var e,t},overridePublicApi:function(e){function t(){}function n(){return o.resolve()}e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:n,applyOffer:t,applyOffers:n,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";e.exports={addEventListener:function(e,t,n){e.addEventListener(t,n)},removeEventListener:function(e,t,n){e.removeEventListener(t,n)}}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,n){"use strict";function a(e){return"undefined"===(void 0===e?"undefined":o(e))||null===e}function r(e){var t=void 0===e?"undefined":o(e);return null!==e&&("object"===t||"function"===t)}function i(e,t){return!!t&&!a(e)&&!a(e[l])&&(r((e=e[l])[u])&&r(e[c]))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n("@adobe/reactor-window").adobe,c="isApproved",l="optIn",u="fetchPermissions",d=n("../targetSettings").targetSettings;e.exports={shouldUseOptIn:function(){var e=d.optinEnabled;return i(s,e)},isTargetApproved:function(){var e,t=s[l];return e=t.Categories.TARGET,t[c](e)}}}}},settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.4.1",endpoint:"/rest/v1/delivery",imsOrgId:"79655FCF5C1D42160A495E15@AdobeOrg",clientCode:"spiegelverlagrudolfa",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"sats.spiegel.de",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPb58266a7af6e4b59b085a4059aadf6ad/"},"common-analytics-plugins":{displayName:"Common Analytics Plugins",modules:{"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,n){"use strict";n("./common").init("getPreviousValue","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeInList.js":{name:"initialize-inlist",displayName:"Initialize inList",script:function(e,t,n){"use strict";n("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,n){"use strict";n("./common").init("apl","analytics"),n("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetValOnce.js":{name:"initialize-getvalonce",displayName:"Initialize getValOnce",script:function(e,t,n){"use strict";n("./common").init("getValOnce","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeP_fo.js":{name:"iinitialize-p_fo",displayName:"Initialize p_fo",script:function(e,t,n){"use strict";n("./common").init("p_fo","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetQueryParam.js":{name:"initialize-getqueryparam",displayName:"Initialize getQueryParam",script:function(e,t,n){"use strict";n("./common").init("getQueryParam","analytics"),n("./common").init("pt","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,n,a){"use strict";a.getSharedModule("adobe-analytics","get-tracker")||a.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),a.getSharedModule("adobe-analytics","augment-tracker")(function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]})}},"common-analytics-plugins/src/lib/actions/common.js":{script:function(e,t,a,r){"use strict";function i(e,t){return"analytics"===e||void 0===e?t:"window"===e?window:null}function o(e,t,n){t[e]=a("../plugins/allPlugins")[e],n=n.contextData||{},"n/a"===(t=function(e,t){var n,a={plugin:e,version:"n/a"};try{n=t[e]("-v")}catch(e){n={}}try{("string"!=typeof n.plugin||n.plugin.length<1)&&(n=a)}catch(e){n=a}return n}(e,t)).version&&(t=function(e){var t=r.getExtensionSettings(),n={plugin:e,version:"n/a"};try{n.version=t[e].version}catch(e){n.version="n/a"}return n}(e)),n[e]=t.version}e.exports.init=function(t,n){r.getSharedModule("adobe-analytics","augment-tracker")(function(e){e&&(n=i(n,e),t&&n&&o(t,n,e))})},e.exports.initMany=function(n){var a;r.getSharedModule("adobe-analytics","augment-tracker")(function(e){if(e)for(var t=0;t<n.length;t++)a=i(n[t].obj,e),n[t].pname&&a&&o(n[t].pname,a,e)})}}},"common-analytics-plugins/src/lib/plugins/allPlugins.js":{script:function(e,t,n){e.exports.addProductEvar=n("./addProductEvar").addProductEvar,e.exports.addProductEvent=n("./addProductEvent").addProductEvent,e.exports.apl=n("./apl").apl,e.exports.cleanStr=n("./cleanStr").cleanStr,e.exports.endOfDatePeriod=n("./endOfDatePeriod").endOfDatePeriod,e.exports.formatTime=n("./formatTime").formatTime,e.exports.getAndPersistValue=n("./getAndPersistValue").getAndPersistValue,e.exports.getDaysSinceLastVisit=n("./getDaysSinceLastVisit").getDaysSinceLastVisit,e.exports.getGeoCoordinates=n("./getGeoCoordinates").getGeoCoordinates,e.exports.getNewRepeat=n("./getNewRepeat").getNewRepeat,e.exports.getPageLoadTime=n("./getPageLoadTime").getPageLoadTime,e.exports.getPageName=n("./getPageName").getPageName,e.exports.getPreviousValue=n("./getPreviousValue").getPreviousValue,e.exports.getQueryParam=n("./getQueryParam").getQueryParam,e.exports.getResponsiveLayout=n("./getResponsiveLayout").getResponsiveLayout,e.exports.getTimeBetweenEvents=n("./getTimeBetweenEvents").getTimeBetweenEvents,e.exports.getTimeParting=n("./getTimeParting").getTimeParting,e.exports.getTimeSinceLastVisit=n("./getTimeSinceLastVisit").getTimeSinceLastVisit,e.exports.getTimeToComplete=n("./getTimeToComplete").getTimeToComplete,e.exports.getValOnce=n("./getValOnce").getValOnce,e.exports.getVisitDuration=n("./getVisitDuration").getVisitDuration,e.exports.getVisitNum=n("./getVisitNum").getVisitNum,e.exports.inList=n("./inList").inList,e.exports.lowerCaseVars=n("./lowerCaseVars").lowerCaseVars,e.exports.manageVars=n("./manageVars").manageVars,e.exports.p_fo=n("./p_fo").p_fo,e.exports.performanceCheck=n("./performanceCheck").performanceCheck,e.exports.performanceWriteFull=n("./performanceWriteFull").performanceWriteFull,e.exports.performanceWritePart=n("./performanceWritePart").performanceWritePart,e.exports.handlePPVevents=n("./handlePPVevents").handlePPVevents,e.exports.getPercentPageViewed=n("./getPercentPageViewed").getPercentPageViewed,e.exports.pt=n("./pt").pt,e.exports.rfl=n("./rfl").rfl,e.exports.twoDecimals=n("./twoDecimals").twoDecimals,e.exports.zeroPad=n("./zeroPad").zeroPad,e.exports.randomNumber=n("./randomNumber").randomNumber}},"common-analytics-plugins/src/lib/plugins/addProductEvar.js":{script:function(e){e.exports.addProductEvar=function(e,t,n){var a=e,r=t,i=n;if("-v"===a)return{plugin:"addProductEvar",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var o,s=0;s<window.s_c_il.length;s++)if((o=window.s_c_il[s])._c&&"s_c"===o._c){s=o;break e}s=void 0}if(void 0!==s&&(s.contextData.addProductEvar="2.0","string"==typeof a&&"string"==typeof r&&""!==r))if(i=i||!1,s.products){for(var c,l=(o=s.products.split(",")).length,i=i?0:l-1;i<l;i++)(c=o[i].split(";"))[5]&&-1<c[5].toLowerCase().indexOf("evar")?c[5]=c[5]+"|"+a+"="+r:c[5]?c[5]=a+"="+r:c[5]||(c[4]||(c[4]=""),c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[5]=a+"="+r),o[i]=c.join(";");s.products=o.join(",")}else s.products=";;;;;"+a+"="+r}}},"common-analytics-plugins/src/lib/plugins/addProductEvent.js":{script:function(e){e.exports.addProductEvent=function(e,t,n){var r=e,i=t,o=n;if("-v"===r)return{plugin:"addProductEvent",version:"2.0"};if(void 0!==(n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(n.contextData.addProductEvent="2.0",window.apl=window.apl||function(e,t,n,r,i){if(!e||"string"==typeof e){if("string"!=typeof t||""===t)return e;n=n||",",1==(r=r||n)&&(r=n,i=i||1),2==r&&1!=i&&(r=n),t=t.split(","),k=t.length;for(var o=0;o<k;o++)!function(e,t,n,r){if("string"==typeof t){if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return 1}}(e,t[o],n,i)&&(e=e?e+r+t[o]:t[o])}return e},"string"==typeof r))if(i=isNaN(i)?"1":String(i),o=o||!1,n.events=window.apl(n.events,r),n.products){for(var s,c=n.products.split(","),l=c.length,o=o?0:l-1;o<l;o++)(s=c[o].split(";"))[4]&&-1<s[4].indexOf("event")?s[4]=s[4]+"|"+r+"="+i:s[5]?s[4]=r+"="+i:s[4]||(s[3]||(s[3]=""),s[2]||(s[2]=""),s[1]||(s[1]=""),s[4]=r+"="+i),c[o]=s.join(";");n.products=c.join(",")}else n.products=";;;;"+r+"="+i}}},"common-analytics-plugins/src/lib/plugins/apl.js":{script:function(e){e.exports.apl=function(e,t,n,r,i){var o=e,s=t,c=n,l=r,u=i;if("-v"===o)return{plugin:"apl",version:"4.0"};if(void 0!==(d=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(d.contextData.apl="4.0"),window.inList=window.inList||function(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},!o||"string"==typeof o){if("string"!=typeof s||""===s)return o;c=c||",",1==(l=l||c)&&(l=c,u=u||1),2==l&&1!=u&&(l=c);for(var d=(s=s.split(",")).length,p=0;p<d;p++)window.inList(o,s[p],c,u)||(o=o?o+l+s[p]:s[p])}return o}}},"common-analytics-plugins/src/lib/plugins/cleanStr.js":{script:function(e){e.exports.cleanStr=function(e){var t=e;if("-v"===t)return{plugin:"cleanStr",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var n,a=0;a<window.s_c_il.length;a++)if((n=window.s_c_il[a])._c&&"s_c"===n._c){a=n;break e}a=void 0}if(void 0!==a&&(a.contextData.cleanStr="2.0"),"string"!=typeof t)return"";for(t=(t=(t=(t=(t=t.replace(/<\/?[^>]+(>|$)/g,"")).trim()).replace(/[\u2018\u2019\u201A]/g,"'")).replace(/\t+/g,"")).replace(/[\n\r]/g," ");-1<t.indexOf("  ");)t=t.replace(/\s\s/g," ");return t}}},"common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js":{script:function(e){e.exports.endOfDatePeriod=function(e){var t=e;if("-v"===t)return{plugin:"endOfDatePeriod",version:"1.2"};void 0!==(r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(r.contextData.endOfDatePeriod="1.2");var n,a,r=new Date,e=isNaN(t)?0:Math.floor(t);return r.setHours(23),r.setMinutes(59),r.setSeconds(59),"w"===t&&(e=6-r.getDay()),"m"===t&&(n=r.getMonth()+1,a=r.getFullYear(),e=new Date(a||1970,n||1,0).getDate()-r.getDate()),r.setDate(r.getDate()+e),"y"===t&&(r.setMonth(11),r.setDate(31)),r}}},"common-analytics-plugins/src/lib/plugins/formatTime.js":{script:function(e){e.exports.formatTime=function(e,t,n){function r(e,t,n,r){if("string"==typeof t){if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return 1}}var i=e,o=t,s=n;if(arguments&&"-v"===e)return{plugin:"formatTime",version:"2.0"};var c,l,u=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==u&&(u.contextData.formatTime="2.0"),void 0===i||isNaN(i)||Number(i)<0?void 0:(u="",u="string"==typeof o&&"d"===o||("string"!=typeof o||!r("h,m,s",o))&&86400<=i?(c=86400,l="days",isNaN(s)?1:c/(s*c)):"string"==typeof o&&"h"===o||("string"!=typeof o||!r("m,s",o))&&3600<=i?(c=3600,l="hours",isNaN(s)?4:c/(s*c)):"string"==typeof o&&"m"===o||("string"!=typeof o||!r("s",o))&&60<=i?(c=60,l="minutes",isNaN(s)?2:c/(s*c)):(c=1,l="seconds",isNaN(s)?.2:c/s),0===(u=Math.round(i*u/c)/u+" "+l).indexOf("1 ")?u.substring(0,u.length-1):u)}}},"common-analytics-plugins/src/lib/plugins/getAndPersistValue.js":{script:function(e){e.exports.getAndPersistValue=function(e,t,n){var a=e,e=t,t=n;return void 0!==a&&"-v"===a?{plugin:"getAndPersistValue",version:"3.0"}:(void 0!==(n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(n.contextData.getAndPersistValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},n=new Date,e=e||"s_gapv",(t=t||0)?n.setTime(n.getTime()+864e5*t):n.setTime(n.getTime()+18e5),void 0!==a&&a||(a=cookieRead(e)),cookieWrite(e,a,n),a)}}},"common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js":{script:function(e){e.exports.getDaysSinceLastVisit=function(){var e=new Date,t=e.getTime(),n=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),n){if(18e5<(e=t-n)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592e6+1&&6048e5<e)return"More than 7 days";if(e<6048e5+1&&864e5<e)return"Less than 7 days";if(e<864e5+1)return"Less than 1 day"}return""}return"New Visitor"}}},"common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js":{script:function(e){e.exports.getGeoCoordinates=function(e){if(arguments&&"-v"===e)return{plugin:"getGeoCoordinates",version:"2.0"};var t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getGeoCoordinates="2.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""};var n="";return 1<(t=cookieRead("s_ggc").split("|")).length&&(n="latitude="+t[0]+" | longitude="+t[1]),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){e=e.coords,cookieWrite("s_ggc",parseFloat(e.latitude.toFixed(4))+"|"+parseFloat(e.longitude.toFixed(4)),30),n="latitude="+parseFloat(e.latitude.toFixed(4))+" | longitude="+parseFloat(e.longitude.toFixed(4))},function(){n="error retrieving geo coordinates"},{timeout:5e3,maximumAge:0}),n=""===n?"geo coordinates not available":n}}},"common-analytics-plugins/src/lib/plugins/getNewRepeat.js":{script:function(e){e.exports.getNewRepeat=function(e){var t=e;if("-v"===t)return{plugin:"getNewRepeat",version:"3.0"};void 0!==(e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(e.contextData.getNewRepeat="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},e="s_nr"+(t=t||30);var n=new Date,a=cookieRead(e),r=a.split("-"),i=n.getTime();return n.setTime(i+864e5*t),""===a||i-r[0]<18e5&&"New"===r[1]?(cookieWrite(e,i+"-New",n),"New"):(cookieWrite(e,i+"-Repeat",n),"Repeat")}}},"common-analytics-plugins/src/lib/plugins/getPageLoadTime.js":{script:function(e){e.exports.getPageLoadTime=function(e){function t(){var e,t,n,a,r=performance.timing;0<r.loadEventEnd&&(clearInterval(window.pi),""===window.cookieRead("s_plt"))&&(t=(e=window).cookieWrite,a=r.loadEventEnd,n=r.navigationStart,a=0<=a&&0<=n?a-n<6e4&&0<=a-n?parseFloat((a-n)/1e3).toFixed(2):60:void 0,t.call(e,"s_plt",a),window.cookieWrite("s_pltp",window.pageName)),window.ptc=r.loadEventEnd}if(arguments&&"-v"===e)return{plugin:"getPageLoadTime",version:"2.0.1"};var n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.getPageLoadTime="2.0.1"),window.pageName=void 0!==n&&n.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)},"undefined"!=typeof performance&&p_fo("performance")&&((n=performance).clearResourceTimings(),""!==window.cookieRead("s_plt")&&(0<n.timing.loadEventEnd&&clearInterval(window.pi),this._pltLoadTime=window.cookieRead("s_plt"),this._pltPreviousPage=window.cookieRead("s_pltp"),window.cookieWrite("s_plt",""),window.cookieWrite("s_pltp","")),0===n.timing.loadEventEnd?window.pi=setInterval(function(){t()},250):0<n.timing.loadEventEnd&&(window.ptc?window.ptc===n.timing.loadEventEnd&&1===n.getEntries().length&&(window.pwp=setInterval(function(){var e=performance;0<e.getEntries().length&&(window.ppfe===e.getEntries().length?clearInterval(window.pwp):window.ppfe=e.getEntries().length),""===window.cookieRead("s_plt")&&(window.cookieWrite("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),window.cookieWrite("s_pltp",window.pageName))},500)):t()))}}},"common-analytics-plugins/src/lib/plugins/getPageName.js":{script:function(e){e.exports.getPageName=function(e,t,n,a){var r=t,i=n,o=a;if("-v"===(g=e))return{plugin:"getPageName",version:"4.2"};e:{if(void 0!==window.s_c_il)for(var s=0;s<window.s_c_il.length;s++)if((m=window.s_c_il[s])._c&&"s_c"===m._c){s=m;break e}s=void 0}void 0!==s&&(s.contextData.getPageName="4.2");var c=location.hostname,l=location.pathname.substring(1).split("/"),u=l.length,d=location.search.substring(1).split("&"),p=d.length,m=(s=location.hash.substring(1).split("&")).length,o=o||"|",g=g||c,r=r||"",i=i||"";if(1===u&&""===l[0])g=g+o+"home";else for(c=0;c<u;c++)g=g+o+decodeURIComponent(l[c]);if(r&&(1!==p||""!==d[0]))for(u=(l=r.split(",")).length,c=0;c<u;c++)for(r=0;r<p;r++)if(l[c]===d[r].split("=")[0]){g=g+o+decodeURIComponent(d[r]);break}if(i&&(1!==m||""!==s[0]))for(d=(i=i.split(",")).length,c=0;c<d;c++)for(r=0;r<m;r++)if(i[c]===s[r].split("=")[0]){g=g+o+decodeURIComponent(s[r]);break}return g.substring(g.length-o.length)===o?g.substring(0,g.length-o.length):g}}},"common-analytics-plugins/src/lib/plugins/getPreviousValue.js":{script:function(e){e.exports.getPreviousValue=function(e,t){var n,a=e,e=t;return"-v"===a?{plugin:"getPreviousValue",version:"3.0"}:(void 0!==(t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(t.contextData.getPreviousValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},e=e||"s_gpv",(t=new Date).setTime(t.getTime()+18e5),window.cookieRead(e)&&(n=window.cookieRead(e)),a?window.cookieWrite(e,a,t):window.cookieWrite(e,n,t),n)}}},"common-analytics-plugins/src/lib/plugins/getQueryParam.js":{script:function(e){e.exports.getQueryParam=function(e,t,n){if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};if(void 0!==(a=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(a.contextData.getQueryParam="4.0"),e){t=t||"",n=(n||void 0!==a&&a.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&n&&n.length<4&&(a=t,t=n,n=a);for(var a="",r=e.split(","),i=r.length,o=0;o<i;o++)"string"==typeof(e=function(e,t){var n=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<n||t.indexOf("=")>n))for(var a=0,r=(n=(n=t.substring(n+1)).split("&")).length;a<r;a++){var i=n[a].split("="),o=i[1];if(i[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(o||!0)}return""}(r[o],n))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,a+=a?t+e:e):a=""===a?e:a+(t+e);return a}}}},"common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js":{script:function(e){e.exports.getResponsiveLayout=function(e,t,n){if("-v"===e)return{plugin:"getResponsiveLayout",version:"1.1"};e:{if(void 0!==window.s_c_il)for(var a,r=0;r<window.s_c_il.length;r++)if((a=window.s_c_il[r])._c&&"s_c"===a._c){r=a;break e}r=void 0}return void 0!==r&&(r.contextData.getResponsiveLayout="1.1"),isNaN(e)||isNaN(t)||isNaN(n)||t<e||n<t?void 0:(r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,(e<t&&r<=t?r<=e?"phone portrait layout":"phone landscape layout":r<=t?"phone layout":r<=n?"tablet layout":"desktop layout")+":"+r+"x"+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))}}},"common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js":{script:function(e){e.exports.getTimeBetweenEvents=function(e,t,n,r,i,o,s,c,l){var u=e,e=t,t=n,n=r,d=i,r=o,i=s,o=c,p=l;if("-v"===u)return{plugin:"getTimeBetweenEvents",version:"3.0"};var m=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==m&&(m.contextData.getTimeBetweenEvents="3.0",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"==typeof t){if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return 1}}if(!(void 0===e||isNaN(e)||Number(e)<0)){var i="";return n="string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,i="days",isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,i="hours",isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,i="minutes",isNaN(n)?2:t/(n*t)):(t=1,i="seconds",isNaN(n)?.2:t/n),i=0===(i=Math.round(e*n/t)/n+" "+i).indexOf("1 ")?i.substring(0,i.length-1):i}},window.inList=window.inList||function(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},"string"==typeof u&&void 0!==e&&"string"==typeof t&&void 0!==n)){for(var f,d=d||"s_tbe",r=isNaN(r)?1:Number(r),h=!1,v=!1,b=u.split(","),y=t.split(","),p=p?p.split(","):[],s=window.cookieRead(d),c=new Date,l=c.getTime(),_=new Date,w=0;w<p.length;++w)if(window.inList(m.events,p[w]))return _.setDate(_.getDate()-1),void window.cookieWrite(d,"",_);for(_.setTime(_.getTime()+864e5*r),w=0;w<b.length&&!h&&!0!==(h=window.inList(m.events,b[w]));++w);for(w=0;w<y.length&&!v&&!0!==(v=window.inList(m.events,y[w]));++w);return 1===b.length&&1===y.length&&u===t&&h&&v?(s&&(f=(l-s)/1e3),window.cookieWrite(d,l,r?_:0)):(!h||1!=e&&s||window.cookieWrite(d,l,r?_:0),v&&s&&(f=(c.getTime()-s)/1e3,!0===n&&(_.setDate(_.getDate()-1),window.cookieWrite(d,"",_)))),f?window.formatTime(f,i,o):""}}}},"common-analytics-plugins/src/lib/plugins/getTimeParting.js":{script:function(e){e.exports.getTimeParting=function(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var n,a=0;a<window.s_c_il.length;a++)if((n=window.s_c_il[a])._c&&"s_c"===n._c){a=n;break e}a=void 0}return void 0!==a&&(a.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",a=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a))[4]+" | month="+a[2]+" | date="+a[3]+" | day="+a[1]+" | time="+(a[6]+a[7])}}},"common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js":{script:function(e){e.exports.getTimeSinceLastVisit=function(e){if(arguments&&"-v"===e)return{plugin:"getTimeSinceLastVisit",version:"2.0"};var t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getTimeSinceLastVisit="2.0"),window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"==typeof t){if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return 1}}if(!(void 0===e||isNaN(e)||Number(e)<0)){var i="";return n="string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,i="days",isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,i="hours",isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,i="minutes",isNaN(n)?2:t/(n*t)):(t=1,i="seconds",isNaN(n)?.2:t/n),i=0===(i=Math.round(e*n/t)/n+" "+i).indexOf("1 ")?i.substring(0,i.length-1):i}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""};var n=(t=new Date).getTime(),r=cookieRead("s_tslv")||0,i=Math.round((n-r)/1e3);return t.setTime(n+63072e6),cookieWrite("s_tslv",n,t),r?1800<i||cookieRead("s_inv")?(cookieRead("s_inv")&&(i=cookieRead("s_inv")),cookieWrite("s_inv",i,30),"0"!==i?formatTime(i):"New Visitor"):"":(cookieWrite("s_inv","0",30),"New Visitor")}}},"common-analytics-plugins/src/lib/plugins/getTimeToComplete.js":{script:function(e){e.exports.getTimeToComplete=function(e,t,n,r){var i=e,e=t,t=n,n=r;if("-v"===i)return{plugin:"getTimeToComplete",version:"4.0"};if(void 0!==(r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(r.contextData.getTimeToComplete="4.0"),window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"==typeof t){if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return 1}}if(!(void 0===e||isNaN(e)||Number(e)<0)){var i="";return n="string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,i="days",isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,i="hours",isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,i="minutes",isNaN(n)?2:t/(n*t)):(t=1,i="seconds",isNaN(n)?.2:t/n),i=0===(i=Math.round(e*n/t)/n+" "+i).indexOf("1 ")?i.substring(0,i.length-1):i}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},"stop"===(i=i?i.toLowerCase():"start")||"start"===i){if(e=e||"s_gttc",n=n?"d"===n?864e5:"h"===n?36e5:"s"===n?1e3:6e4:(t=30,6e4),t=isNaN(t)?30:t,t*=n,r=cookieRead(e),n=new Date,"stop"===i&&r)return t=Math.round((n.getTime()-r)/1e3),cookieWrite(e,"",0),formatTime(t);"start"!==i||r?r&&Number(r)<n.getTime()+18e5&&cookieWrite(e,r,30):(i=String(n.getTime()),n.setTime(n.getTime()+t),cookieWrite(e,i,n))}}}},"common-analytics-plugins/src/lib/plugins/getValOnce.js":{script:function(e){e.exports.getValOnce=function(e,t,n,a){var r=e,i=t,o=n,s=a;if(arguments&&"-v"===e)return{plugin:"getValOnce",version:"3.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==c&&(c.contextData.getValOnce="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},r&&(o=o||0,s="m"===s?6e4:864e5,r!==this.c_r(i=i||"s_gvo"))?((c=new Date).setTime(c.getTime()+o*s),cookieWrite(i,r,0===o?0:s),r):""}}},"common-analytics-plugins/src/lib/plugins/getVisitDuration.js":{script:function(e){e.exports.getVisitDuration=function(e){if(arguments&&"-v"===e)return{plugin:"getVisitDuration",version:"2.1"};void 0!==(t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(t.contextData.getVisitDuration="2.1"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""};var t=(new Date).getTime(),n=cookieRead("s_dur"),t=t-(n=isNaN(n)||18e5<t-n?t:n);return cookieWrite("s_dur",n+"",30),0==t?"first hit of visit":0===(t=Math.floor(t/6e4))?"less than a minute":1===t?"1 minute":t+" minutes"}}},"common-analytics-plugins/src/lib/plugins/getVisitNum.js":{script:function(e){e.exports.getVisitNum=function(e,t){function n(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function a(e){var t,n=new Date,a=isNaN(e)?0:Math.floor(e);return n.setHours(23),n.setMinutes(59),n.setSeconds(59),"w"===e&&(a=6-n.getDay()),"m"===e&&(a=n.getMonth()+1,t=n.getFullYear(),a=new Date(t||1970,a||1,0).getDate()-n.getDate()),n.setDate(n.getDate()+a),"y"===e&&(n.setMonth(11),n.setDate(31)),n}var r=t;if("-v"===(s=e))return{plugin:"getVisitNum",version:"4.2"};void 0!==(t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(t.contextData.getVisitNum="4.2"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""};var i,o,s=s||365,r=void 0!==r?!!r:!!n(s),e=(new Date).getTime(),t=a(s);return window.cookieRead("s_vnc"+s)&&(o=(i=window.cookieRead("s_vnc"+s).split("&vn="))[1]),window.cookieRead("s_ivc")?o?(window.cookieWrite("s_ivc",!0,30),o):"unknown visit number":void 0!==o?(o++,i=r&&n(s)?e+864e5*s:i[0],t.setTime(i),window.cookieWrite("s_vnc"+s,i+"&vn="+o,t),window.cookieWrite("s_ivc",!0,30),o):(i=n(s)?e+864e5*s:a(s).getTime(),window.cookieWrite("s_vnc"+s,i+"&vn=1",t),window.cookieWrite("s_ivc",!0,30),"1")}}},"common-analytics-plugins/src/lib/plugins/inList.js":{script:function(e){e.exports.inList=function(e,t,n,a){var r=e,i=t,o=n,s=a;if("-v"===r)return{plugin:"inList",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c=0;c<window.s_c_il.length;c++)if((n=window.s_c_il[c])._c&&"s_c"===n._c){c=n;break e}c=void 0}if(void 0!==c&&(c.contextData.inList="3.0"),"string"!=typeof i)return!1;if("string"==typeof r)r=r.split(o||",");else if("object"!=typeof r)return!1;for(o=0,c=r.length;o<c;o++)if(1==s&&i===r[o]||i.toLowerCase()===r[o].toLowerCase())return!0;return!1}}},"common-analytics-plugins/src/lib/plugins/lowerCaseVars.js":{script:function(e){e.exports.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))}}},"common-analytics-plugins/src/lib/plugins/manageVars.js":{script:function(e){e.exports.manageVars=function(e,t,n){var a=t,r=n;if("-v"===(e=e))return{plugin:"manageVars",version:"3.0"};if(void 0!==(n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())){if(n.contextData.manageVars="3.0",n.blankVars=function(e){this[e]&&(e.indexOf("contextData")<0?this[e]="":(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]="")))},n.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))},n.cleanStr=function(e){function t(e){if("string"!=typeof e)return"";for(e=e.replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/[\u2018\u2019\u201A]/g,"'").replace(/\t+/g,"").replace(/[\n\r]/g," ");-1<e.indexOf("  ");)e=e.replace(/\s\s/g," ");return e}this[e]&&(e.indexOf("contextData")<0?this[e]=t(this[e]):(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=t(this.contextData[e].toString()))))},n.pt=function(e,t,n,a){if(e&&this[n]){t=(e=e.split(t||",")).length;for(var r,i=0;i<t;i++)if(r=this[n](e[i],a))return r}},!n[e])return!1;for(var a=a||"",r=r||!0,i="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID",o=1;o<76;o++)i+=",prop"+o;for(o=1;o<251;o++)i+=",eVar"+o;for(o=1;o<6;o++)i+=",hier"+o;for(o=1;o<4;o++)i+=",list"+o;for(o in n.contextData)i+=",contextData."+o;if(a){if(1==r)i=a.replace("['",".").replace("']","");else if(0==r){for(x in a=a.split(","),r=i.split(","),i="",a)for(y in-1<a[x].indexOf("contextData")&&(a[x]="contextData."+a[x].split("'")[1]),r)a[x]===r[y]&&(r[y]="");for(y in r)i+=r[y]?","+r[y]:""}return n.pt(i,",",e,0),!0}return!(""!==a||!r||(n.pt(i,",",e,0),0))}}}},"common-analytics-plugins/src/lib/plugins/p_fo.js":{script:function(e){e.exports.p_fo=function(e){if("-v"===e)return{plugin:"p_fo",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var t,n=0;n<window.s_c_il.length;n++)if((t=window.s_c_il[n])._c&&"s_c"===t._c){n=t;break e}n=void 0}return void 0!==n&&(n.contextData.p_fo="3.0"),window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)}}},"common-analytics-plugins/src/lib/plugins/performanceCheck.js":{script:function(e){e.exports.performanceCheck=function(e,t){if(0<=e&&0<=t)return e-t<6e4&&0<=e-t?parseFloat((e-t)/1e3).toFixed(2):60}}},"common-analytics-plugins/src/lib/plugins/performanceWriteFull.js":{script:function(e){e.exports.performanceWriteFull=function(){var e=performance.timing;0<e.loadEventEnd&&(clearInterval(this.pi),""===this.c_r("s_plt")&&(this.c_w("s_plt",this.performanceCheck(e.loadEventEnd,e.navigationStart)),this.c_w("s_pltp",this.pageName))),this.ptc=e.loadEventEnd}}},"common-analytics-plugins/src/lib/plugins/performanceWritePart.js":{script:function(e){e.exports.performanceWritePart=function(){var e=performance;0<e.getEntries().length&&(this.ppfe===e.getEntries().length?clearInterval(this.pwp):this.ppfe=e.getEntries().length),""===this.c_r("s_plt")&&(this.c_w("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),this.c_w("s_pltp",this.pageName))}}},"common-analytics-plugins/src/lib/plugins/handlePPVevents.js":{script:function(e){e.exports.handlePPVevents=function(){if("undefined"!=typeof s_c_il){for(var e,t,n,a,r,i,o,s,c,l=0,u=s_c_il.length;l<u;l++)if(s_c_il[l]&&(s_c_il[l].getPercentPageViewed||s_c_il[l].getPreviousPageActivity)){var d=s_c_il[l];break}d&&d.ppvID&&(r=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,u=Math.min(Math.round(l/r*100),100),e=Math.floor(l/t),t=Math.floor(r/t),n="",!d.c_r("s_tp")||d.unescape(d.c_r("s_ppv").split(",")[0])!==d.ppvID||d.p_fo(d.ppvID)||1==d.ppvChange&&d.c_r("s_tp")&&r!=d.c_r("s_tp")?(d.unescape(d.c_r("s_ppv").split(",")[0])===d.ppvID&&!d.p_fo(d.ppvID+"1")||d.c_w("s_ips",l),d.c_r("s_tp")&&d.unescape(d.c_r("s_ppv").split(",")[0])===d.ppvID&&(d.c_r("s_tp"),n=(a=-1<(n=d.c_r("s_ppv")).indexOf(",")?n.split(","):[])[0]||"",a=a[3]||"",i=d.c_r("s_ips"),n=n+","+Math.round(a/r*100)+","+Math.round(i/r*100)+","+a+","+e),d.c_w("s_tp",r)):n=d.c_r("s_ppv"),r=0<(c=n&&-1<n.indexOf(",")?n.split(",",6):[]).length?c[0]:escape(d.ppvID),a=1<c.length?parseInt(c[1]):u,i=2<c.length?parseInt(c[2]):u,o=3<c.length?parseInt(c[3]):l,s=4<c.length?parseInt(c[4]):e,c=5<c.length?parseInt(c[5]):t,d.c_w("s_ppv",n=0<u?r+","+(a<u?u:a)+","+i+","+(o<l?l:o)+","+(s<e?e:s)+","+(c<t?t:c):n))}}}},"common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js":{script:function(e){e.exports.getPercentPageViewed=function(e,t){function n(){var e,t,n,a,r,i,o,s,c,l,u;window.ppvID&&(o=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+a,t=Math.min(Math.round(e/o*100),100),n=Math.floor(e/a),a=Math.floor(o/a),r="",!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&o!=window.cookieRead("s_tp")?(decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID&&!window.p_fo(window.ppvID+"1")||window.cookieWrite("s_ips",e),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID&&(window.cookieRead("s_tp"),r=(i=-1<(r=window.cookieRead("s_ppv")).indexOf(",")?r.split(","):[])[0]||"",i=i[3]||"",s=window.cookieRead("s_ips"),r=r+","+Math.round(i/o*100)+","+Math.round(s/o*100)+","+i+","+n),window.cookieWrite("s_tp",o)):r=window.cookieRead("s_ppv"),o=0<(u=r&&-1<r.indexOf(",")?r.split(",",6):[]).length?u[0]:escape(window.ppvID),i=1<u.length?parseInt(u[1]):t,s=2<u.length?parseInt(u[2]):t,c=3<u.length?parseInt(u[3]):e,l=4<u.length?parseInt(u[4]):n,u=5<u.length?parseInt(u[5]):a,0<t&&(r=o+","+(i<t?t:i)+","+s+","+(c<e?e:c)+","+(l<n?n:l)+","+(u<a?a:u)),window.cookieWrite("s_ppv",r))}var a=t;if("-v"===(r=e))return{plugin:"getPercentPageViewed",version:"5.0"};void 0!==(t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(t.contextData.getPercentPageViewed="5.0"),window.pageName=void 0!==t&&t.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a,r=window.location.hostname,i=window.location.hostname.split(".").length-1;if(r&&!/^[0-9.]+$/.test(r)){var i=2<i?i:2,o=r.lastIndexOf(".");if(0<=o){for(;0<=o&&1<i;)o=r.lastIndexOf(".",o-1),i--;o=0<o?r.substring(o):r}}return g=o,t=void 0!==t?""+t:"",!n&&""!==t||("number"==typeof(n=""===t?-60:n)?(a=new Date).setTime(a.getTime()+6e4*n):a=n),!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+a.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var e=-1<(e=window.cookieRead("s_ppv")).indexOf(",")?e.split(","):[],r=r||window.pageName||document.location.href;e[0]=decodeURIComponent(e[0]),window.ppvChange=void 0===a||1==a,void 0!==t&&t.linkType&&"o"===t.linkType||(window.ppvID&&window.ppvID===r||(window.ppvID=r,window.cookieWrite("s_ppv",""),n()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",n,!1),window.addEventListener("click",n,!1),window.addEventListener("scroll",n,!1)),this._ppvPreviousPage=e[0]||"",this._ppvHighestPercentViewed=e[1]||"",this._ppvInitialPercentViewed=e[2]||"",this._ppvHighestPixelsSeen=e[3]||"",this._ppvFoldsSeen=e[4]||"",this._ppvFoldsAvailable=e[5]||"")}}},"common-analytics-plugins/src/lib/plugins/pt.js":{script:function(e){e.exports.pt=function(e,t,n,a){var r=e,i=t,o=n,s=a;if("-v"===r)return{plugin:"pt",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c,l=0;l<window.s_c_il.length;l++)if((c=window.s_c_il[l])._c&&"s_c"===c._c){l=c;break e}l=void 0}if(void 0!==l&&(l.contextData.pt="3.0",r&&l[o]))for(var i=(r=r.split(i||",")).length,u=0;u<i;u++)if(c=l[o](r[u],s))return c}}},"common-analytics-plugins/src/lib/plugins/rfl.js":{script:function(e){e.exports.rfl=function(e,t,n,a,r){var i=e,o=t,s=n,a=a,c=r;if("-v"===i)return{plugin:"rfl",version:"2.1"};e:{if(void 0!==window.s_c_il)for(var l,u=0;u<window.s_c_il.length;u++)if((l=window.s_c_il[u])._c&&"s_c"===l._c){u=l;break e}u=void 0}if(void 0!==u&&(u.contextData.rfl="2.1"),!i||!o)return"";u=[],l="",s=s||",";for(var a=a||s,c=c||!1,s=(i=i.split(s)).length,d=0;d<s;d++)-1<i[d].indexOf(":")&&((l=i[d].split(":"))[1]=l[0]+":"+l[1],i[d]=l[0]),-1<i[d].indexOf("=")&&((l=i[d].split("="))[1]=l[0]+"="+l[1],i[d]=l[0]),i[d]!==o&&l?u.push(l[1]):i[d]!==o?u.push(i[d]):i[d]===o&&c&&(l?u.push(l[1]):u.push(i[d]),c=!1),l="";return u.join(a)}}},"common-analytics-plugins/src/lib/plugins/twoDecimals.js":{script:function(e){e.exports.twoDecimals=function(e){return void 0===e||isNaN(e)?0:Number(Number(e).toFixed(2))}}},"common-analytics-plugins/src/lib/plugins/zeroPad.js":{script:function(e){e.exports.zeroPad=function(e,t){return e=parseInt(e),t=parseInt(t),isNaN(e)||isNaN(t)?"":(t=t-e.toString().length+1,Array(+(0<t&&t)).join("0")+e)}}},"common-analytics-plugins/src/lib/plugins/randomNumber.js":{script:function(e){e.exports.randomNumber=function(e){e="number"==typeof e?Math.abs(e)<17?Math.round(Math.abs(e)):17:10;for(var t="1",n=0;n<e;n++)t+="0";return t=Number(t),t=(t=Math.floor(Math.random().toFixed(e)*t)+"").length!==e&&"undefined"!=typeof zeroPad?zeroPad(t,e):t}}}},settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (‘’) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf951e4fc6c07481b9add92c6d5a7ebd6/"},"bing-ads-extension":{displayName:"Bing Ads UET Tag",modules:{"bing-ads-extension/src/lib/actions/baseTag.js":{name:"basetag",displayName:"Base Tag",script:function(e,t,n,a){"use strict";e.exports=function(){n("../helpers/getBatJsBase")().then(function(){a.logger.log("Base code loaded and a page load event is sent.")})}}},"bing-ads-extension/src/lib/helpers/getBatJsBase.js":{script:function(e,t,r,i){"use strict";e.exports=function(){var t=r("@adobe/reactor-window"),e=r("@adobe/reactor-load-script"),n=i.getExtensionSettings(),a=n.qname||"uetq";return t[a]=t[a]||[],e("//bat.bing.com/bat.js").then(function(){var e={ti:n.tagid,navTimingApi:n.navTimingApi,storeConvTrackCookies:n.storeConvTrackCookies,tm:"al001"};e.q=t[a],t[a]=new UET(e),t[a].push("pageLoad"),i.logger.log("BingAds Base Code successfully loaded.")}).catch(function(){i.logger.error("BingAds Base Code could not be loaded.")})}}}},settings:{qname:"uetq",tagid:"5279339",navTimingApi:!0,storeConvTrackCookies:!0},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP05eac6e292f1486a812623da300a51b4/"},"accessible-page-speed-metrics":{displayName:"Accessible Site Speed Metrics",modules:{"accessible-page-speed-metrics/src/lib/dataElements/pageRenderTime.js":{name:"page-render-time",displayName:"Page Render Time",script:function(e){"use strict";e.exports=function(e,t){t=t&&t.timingsFromTrigger?(_satellite.logger.log("Setting pageRenderTime from trigger context"),t.timingsFromTrigger.domComplete-t.timingsFromTrigger.domLoading):window.performance&&window.performance.timing&&window.performance.timing.domLoading&&window.performance.timing.domComplete?(_satellite.logger.log("Setting pageRenderTime from window.performance"),window.performance.timing.domComplete-window.performance.timing.domLoading):0;return-1<t?t:null}}},"accessible-page-speed-metrics/src/lib/dataElements/totalPageLoadTime.js":{name:"page-speed-metrics",displayName:"Total Page Load Time",script:function(e){"use strict";e.exports=function(e,t){t=t&&t.timingsFromTrigger?(_satellite.logger.log("Setting totalPageLoadTime from trigger context"),t.timingsFromTrigger.loadEventEnd-t.timingsFromTrigger.navigationStart):window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&window.performance.timing.loadEventEnd?(_satellite.logger.log("Setting totalPageLoadTime from window.performance"),window.performance.timing.loadEventEnd-window.performance.timing.navigationStart):0;return-1<t?t:null}}},"accessible-page-speed-metrics/src/lib/dataElements/totalDomCompleteTime.js":{name:"total-dom-complete-time",displayName:"Total DOM Complete Time",script:function(e){"use strict";e.exports=function(e,t){t=t&&t.timingsFromTrigger?(_satellite.logger.log("Setting totalDomCompleteTime from trigger context"),t.timingsFromTrigger.domComplete-t.timingsFromTrigger.navigationStart):window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&window.performance.timing.domComplete?(_satellite.logger.log("Setting totalDomCompleteTime from window.performance"),window.performance.timing.domComplete-window.performance.timing.navigationStart):0;return-1<t?t:null}}},"accessible-page-speed-metrics/src/lib/dataElements/serverResponseTime.js":{name:"server-response-time",displayName:"Server Response Time",script:function(e){"use strict";e.exports=function(e,t){t=t&&t.timingsFromTrigger?(_satellite.logger.log("Setting serverResponseTime from trigger context"),t.timingsFromTrigger.responseStart-t.timingsFromTrigger.requestStart):window.performance&&window.performance.timing&&window.performance.timing.requestStart&&window.performance.timing.responseStart?(_satellite.logger.log("Setting serverResponseTime from window.performance"),window.performance.timing.responseStart-window.performance.timing.requestStart):0;return-1<t?t:null}}},"accessible-page-speed-metrics/src/lib/dataElements/responseCompleteTime.js":{name:"response-complete-time",displayName:"Response Complete Time",script:function(e){"use strict";e.exports=function(e,t){t=t&&t.timingsFromTrigger?(_satellite.logger.log("Setting responseCompleteTime from trigger context"),t.timingsFromTrigger.responseEnd-t.timingsFromTrigger.requestStart):window.performance&&window.performance.timing&&window.performance.timing.requestStart&&window.performance.timing.responseEnd?(_satellite.logger.log("Setting responseCompleteTime from window.performance"),window.performance.timing.responseEnd-window.performance.timing.requestStart):0;return-1<t?t:null}}}},hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPa1a59448b3504baa857fea92b07672de/"}},company:{orgId:"79655FCF5C1D42160A495E15@AdobeOrg"},property:{name:"01_a_spiegel.de_NextGen",settings:{domains:["spiegel.de"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1}},rules:[{id:"RL81f279f304b740cba978d28d73887189",name:"Event:Scroll | SARAs_data:scroll | #100 [page complete; once in 5sec] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:5}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"page complete"}}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){s.prop1=null,s.prop2=null,s.prop3=null,s.prop4=null,s.prop5=null,s.prop6=null,s.prop7=null,s.prop8=null,s.prop9=null,s.prop10=null,s.eVar136=null}}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=n.toString(),t.contextData["opt.sell"]="N",t.list1=_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"},{name:"event918"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RLa9ed0e5cadf244f8b0b37b525ffd574d",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [article +paid +paywall] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%paywall.category.type:sd%",rightOperand:"paid|conditional"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar135",type:"value",value:"%editorial.info.article_id:sd%"},{name:"eVar136",type:"value",value:"+1"},{name:"eVar137",type:"value",value:"%paywall.category.type:sd%"},{name:"eVar138",type:"value",value:"%paywall.info.position:sd%"}],events:[{name:"event110"},{name:"event300"}]}}}]},{id:"RL21ff31e4c26b4a0fbf9f624612ea2feb",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [homepage] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event12"}],channel:"Homepage"}}}]},{id:"RL7a2199351d9943ff80e577e394ab1573",name:"Util:Performance | Enter Viewport | #001 [after 1000ms] | [SARAs_data.push (scroll:page complete)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{delay:1e3,frequency:"everyEntry",elementSelector:'footer[data-area="footer"]'},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCf987365f385649498c9038bf39c3907f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38d77c649e71409cab12f4f6e4914d9a",name:"Util:Performance | Enter Viewport | #001 [homepage] | [SARAs_data.push (scroll:editorial complete)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:'section[data-area="block>video"]'},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.type:sd%",rightOperand:"homepage"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC51d71efbf4fc4586a6efcddac86e301f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6881e4739704eaaaec993afed6272ef",name:"Link:Component | Core:click | #001 [on article component] | [SARAs_data.push (component_click))]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"article section:not([data-app-hidden=true]) div[data-component]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC420cb9aa954740e8a7462036e6f656a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL501c5db73c844efd91407af2bbc1fe02",name:"Media:Video | SARAs:jw-init | #001 | [DLC(sync: addWatcher)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"jw-init"},ruleOrder:1}],conditions:[],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(e){try{var t=e.detail.state.event.attributes.player_id;_satellite.logger.warn(t),_satellite.jwwatcher.addWatcher(jwplayer(t))}catch(e){_satellite.logger.error(e)}}}}]},{id:"RL351b8a2fa9404e34b4326970219c252e",name:"Link:Exit | SARAs:click | #002 [paywall +purchase] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%event.attributes.target_url:sd%"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"endsWith"},leftOperand:"%event.attributes.click_id:sd%",rightOperand:"paywall-purchase-button"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar146",type:"value",value:"%editorial.info.article_id:sd%"},{name:"eVar149",type:"value",value:"D=v146"}],props:[{name:"prop4",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop5",type:"value",value:"paywall:click:%page.info.platform:sd%"}],events:[{name:"event303"}]}}}]},{id:"RL45c885651e894811af7fed4dce58f008",name:"Media:All | SARAs:video|audio | #002 [play -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"play"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event130"},{id:"%event.attributes.item-media_id:sd%",name:"event131"}]}}}]},{id:"RLab8cfe37df6548618cfc92c28a98b9ed",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #001 | [Analytics (clear-vars), CC(clear-storage, reset-stats)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:1},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC632cb38759ad472ebbbb59c275c8012f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaaa6833bf0764d67a02a88a0887ef199",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #020 [loggedIn, -PUR:page] | [ECID (sso_id)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.is_loggedIn:sd%"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0}],actions:[{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%user.info.tracking_id:sd%",hashType:"",authState:1,integrationCode:"sso_id_sync"}]}}]},{id:"RLdc170752b1394417ac8831f0f5c1924c",name:"Media:All | SARAs:video|audio | #003 [unmute -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"unmute"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event140"}]}}}]},{id:"RL005449b9225848b78bcaedeafc022da3",name:"Target:Offer | SARAs:page_data_ready | #010 [article|topic | sample 400-700(1000) | pageview > 1] | [research-umfrage-gross-2]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"week",count:3}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e;return void 0===_satellite.cookie.get("sara_randomnumber")?(e=Math.floor(1e3*Math.random()),_satellite.cookie.set("sara_randomnumber",e,{expires:14})):null!=_satellite.cookie.get("sara_randomnumber")&&(e=_satellite.cookie.get("sara_randomnumber")),400<=e&&e<700}}},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC3fb5b1f679b942f79b659b477aa09874-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3b5d565b3c64593a796308d77e26a82",name:"Util:Performance | Enter Viewport | #001 [article +paywall; once after 1000ms] | [SARAs_data.push (view_element:paywall; scroll)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{delay:1e3,frequency:"firstEntry",elementSelector:"[data-area=paywall-purchase-button]"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.type:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC5d05b3311aa141799bf1b68bd7cd9696-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL899b60a4ef834bf386b0b6cec11963a4",name:"Media:Video | SARAs:video | #001 [ivw] |  [IVW (track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Config | is PUR Tracking [co]%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCafd798e6b8e7455f8a873aa163478ebd-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%Page | IVW Site [co]%::%Page | IVW Code [co]%"}],events:[{name:"event2"}]}}}]},{id:"RL838e9a6deaab4a228bebb2508ec9325c",name:"Target:Offer | SARAs:adpos-init | #001 | [target-emptyadslot]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"adpos-init"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%target.elements.eigenwerbung:const%",rightOperand:"%event.attributes.pos:sd%"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%event.attributes.contains_ad:sd%"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Editorial | Topics:String [co]%",rightOperand:"Gesellschaft neu denken"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.info.canonical_url:sd%",rightOperand:"https://www.spiegel.de/thema/gesellschaft-neu-denken/"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC4a84fa1bef3b490abfe8248bda804d10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL07c8fcc7038247e4b9263f45dcafa376",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #005 [-PUR:page] | [Target (set-params2all, track-page)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:5},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0}],actions:[{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{at_property:{value:"%target.custom.property:map%",checked:!1},"page.info.platform":{value:"%page.info.platform:sd%",checked:!1},"user.custom.device-type":{value:"%user.custom.device-type:cc%",checked:!1},"user.segment.is_loggedIn":{value:"%user.segment.is_loggedIn:sd%",checked:!1},"user.segment.target_test":{value:"%target_test_cookie%",checked:!0},"application.info.app_version":{value:"%App | Version [co]%",checked:!0},"user.segment.has_paid_access":{value:"%user.segment.has_paid_access:sd%",checked:!1},"user.segment.has_pur_subscription":{value:"%user.segment.has_spiegelNoAdsMonthly_access:sd%",checked:!1}}}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"#data-target-hide {opacity: 0 !important}",bodyHidingEnabled:!0}}]},{id:"RLed3700b563ef4132ba36b89ff157e51b",name:"Media:All | SARAs:video|audio | #003 [25% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"25%"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event133"},{name:"event138",value:"%Media | Playtime [co]%"}]}}}]},{id:"RL32755382b5d849d8a6ba319c1623aec6",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #002 [-video, -PUR:page] | [IVW (track-page), Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC43e94b0a541f486c9ad9f0321f81df84-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%Page | IVW Site [co]%::%Page | IVW Code [co]%"}],events:[{name:"event2"}]}}}]},{id:"RLca5191676065475ba638b5a0afdff89c",name:"Target:Offer | SARAs:page_data_ready | #010 [logged_in][fuermich] | [target-fuermich, target-fuermich-history]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"fuermich"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.is_loggedIn:sd%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCad5d14a4914b4e4bba6b0e30fb2c7808-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC57b63a3956334411a09d55319f1f6a20-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC518b83db754f425fb9be457663a4645b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL37ae2554f845468e8e4648018eb327e6",name:"Event:Scroll | SARAs_data:scroll | #001 [editorial complete; once p. p.; >20sec engage] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"editorial complete"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThan"},leftOperand:"%page.timing.time-active-sec:cc%",rightOperand:20},negate:!0}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){switch(null===s.events&&(s.events=""),_satellite.getVar("page.category.route:sd")){case"article":s.events=s.apl(s.events,"event106"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event106");break;case"homepage":s.events=s.apl(s.events,"event190"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event190")}}}}]},{id:"RLe8e3df33d36746fb8cc06fb51131bf7b",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #003 [article] | [VG Wort (track-page) Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC60257310872440db9e957ffd8f08d33b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.list1=_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar50",type:"value",value:"%editorial.info.article_id:sd%"},{name:"eVar51",type:"value",value:"%paywall.category.type:sd%"},{name:"eVar52",type:"value",value:"%paywall.attributes.is_active:sd.rw%"},{name:"eVar57",type:"value",value:"%editorial.category.genre:sd%"},{name:"eVar58",type:"value",value:"%editorial.category.style:sd.rw%"},{name:"eVar59",type:"value",value:"%editorial.category.type:sd%"},{name:"eVar60",type:"value",value:"%editorial.info.channel:sd%"},{name:"eVar61",type:"value",value:"%editorial.info.channel+subchannel:cc%"},{name:"eVar62",type:"value",value:"%editorial.info.date_published:sd%"},{name:"eVar63",type:"value",value:"%editorial.info.date_modified:sd%"},{name:"eVar65",type:"value",value:"%editorial.info.headline:sd%"},{name:"eVar66",type:"value",value:"%editorial.info.headline_social:sd%"},{name:"eVar67",type:"value",value:"%editorial.attributes.has_author:sd.rw%"},{name:"eVar68",type:"value",value:"%editorial.attributes.has_noAds:sd.rw%"},{name:"eVar69",type:"value",value:"%editorial.attributes.has_noContentAds:sd.rw%"},{name:"eVar70",type:"value",value:"%editorial.attributes.is_breaking:sd.rw%"},{name:"eVar72",type:"value",value:"%editorial.attributes.is_exclusive:sd.rw%"},{name:"eVar74",type:"value",value:"%editorial.attributes.is_listExcluded:sd.rw%"},{name:"eVar79",type:"value",value:"%editorial.attributes.has_video:sd.rw%"},{name:"eVar80",type:"value",value:"%editorial.attributes.has_gallery:sd.rw%"},{name:"eVar81",type:"value",value:"%editorial.attributes.is_comments_enabled:sd.rw%"},{name:"eVar82",type:"value",value:"%Editorial | has Affiliate [co]%"},{name:"eVar83",type:"value",value:"%editorial.attributes.magazine:sd%"},{name:"eVar95",type:"value",value:"%editorial.author.abbreviation:sd%"},{name:"eVar96",type:"value",value:"%editorial.author.departments:sd%"},{name:"eVar97",type:"value",value:"%editorial.author.names:sd%"}],props:[{name:"prop4",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop5",type:"value",value:"%RADAR | Subscription String [gl]%"}],events:[{name:"event100"},{id:"%editorial.info.article_id:sd.rw.20char%",name:"event101"}]}}}]},{id:"RL5a5a69b4cdf94a6899a40b69ca6f2750",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [article +from homepage] | [ Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.custom.referrer-category:map%",rightOperand:"from_int_homepage"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event4"}]}}}]},{id:"RLd87e5ec250ab40269dd1ffe0ca6c574a",name:"Base:Pageview | SARAs:page_unload | #001 | [CC(save data)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_unload"},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCbd85b31bb6dd47a7ab7b70955fbf5b12-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc4d38f803f2141f9aa5a6a1ab46c0599",name:"Media:All | SARAs:video|audio | #003 [50% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"50%"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event134"},{name:"event138",value:"%Media | Playtime [co]%"}]}}}]},{id:"RLa29f88771696473799f8465bf17d232a",name:"Media:All | SARAs:video|audio | #003 [95% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"95%"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event136"},{name:"event138",value:"%Media | Playtime [co]%"}]}}}]},{id:"RL13adcda94c3f4320955c2caccd6207e4",name:"Link:Component | SARAs:button_click | #001 [on consent page] | [Analytics (set vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"button_click"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"consent"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{}}}]},{id:"RL6285bf55480d4fd3894a879fa71563fe",name:"Target:Offer | SARAs:page_data_ready | #010 [homepage] | [target-hp-channelbox]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC264b232762b44f829688e56699740291-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdad75608c968420da3d588d14352d1db",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #020 [with previous click data, ref!=url] | [Analytics (set-vars), Clear Previous Click Data Cookie] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%click.custom.on-page-load-attributes:cookie%"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%click.custom.on-page-load-referrer:cc%",rightOperand:"%page.info.canonical_url:sd%"},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%click.custom.on-page-load-click-id:cc%"},{name:"eVar23",type:"value",value:"%click.custom.on-page-load-headline:cc%"},{name:"eVar24",type:"value",value:"%click.custom.on-page-load-position:cc%"}]}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC533fe299a5a1491aa9c2462b8ac67370-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf2bdc846637342c38b5b001e4a036552",name:"Link:Form | SARAs:submit | #001 | Analytics (set-vars, track-link)",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"submit"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar130",type:"value",value:"%Form | Name [gl]%"},{name:"eVar131",type:"value",value:"%Form | Class [gl]%::%Form | Type [gl]%"},{name:"eVar132",type:"value",value:"%Form | Fields Total Count [gl]%::%Form | Field Opt-In (String) [gl]%::%Form | Field email [gl]%"},{name:"eVar133",type:"value",value:"%Form | Status [gl]%::%Form | Status Code [gl]%::%Form | Status Message [gl]%"},{name:"eVar154",type:"value",value:"%Event Item | Newsletter ID [co]%"}],props:[{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event505"},{name:"event3"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RL0bfaee0e0ccc406ba510d37114758482",name:"Target:Offer | SARAs:page_data_ready | #020 [paywall_is_active] | [target-paywall]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC6cfde452ebfc49cba9bace81e2fe299f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf76b54b1a4bd4a3d9a82d4305b8ec9c2",name:"Base:Libraries | Library Loaded | #50 | [Media Time Tracker (init), JW-Video-Watcher (init), Podlove-Audio-Watcher (init)]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/* === Time Tracker === //\nHelper to keep track of media time played\n- Call update() on any relevant media event, especially those that change the playState!\n- The function isPlaying() must be provided to the TimeTracker Instance on creation.\n- Whenever the media item changes call reset()\n- Use getTimeDelta() to get the time since the last call to this function. Used for e.g. time between events!\n- Use onEvery(increment,callback) to get a continous callback every increment of elapsed playtime\n// === */\n\n\nwindow._satellite.MediaTimeTracker = function (isPlaying) {\n    var playBackState = false\n    var timePlayed = 0;\n    var lastPlayBackUpdateTS = undefined;\n    var lastEventPlaytime = timePlayed; // performance.now()\n    var stateTS = performance.now();\n\n    var everyStore = (function () {\n        var everyStore = []\n        return {\n            add: function (increment, callback) {\n                everyStore.push({ increment: increment, callback: callback, progress: 0 })\n            },\n            update: function (timePlayed) {\n                everyStore.forEach(function (store) {\n                    var dt = timePlayed - store.progress\n                    if (dt >= store.increment) { store.callback() }\n                    store.progress = Math.floor(timePlayed / store.increment) * store.increment\n                })\n            },\n            resetTime: function () {\n                everyStore.forEach(function (store) {\n                    store.progress = 0;\n                })\n            }\n        }\n    })()\n\n    var self = {\n        getTimePlayed: function () {\n            return timePlayed + (isPlaying() ? (stateTS - lastPlayBackUpdateTS) : 0)\n        },\n        update: function () { // call this anytime a player starts or pauses playback\n            stateTS = performance.now();\n            if (isPlaying() !== playBackState) { // onStateSwitch\n                playBackState = isPlaying()\n                if (!playBackState) { timePlayed += stateTS - (lastPlayBackUpdateTS || stateTS); } // add delta since last pause\n                lastPlayBackUpdateTS = stateTS\n            }\n            everyStore.update(self.getTimePlayed())\n            //trace('TimeTrackerDebug', timePlayed, isPlaying(), getTimePlayed(), state);\n        },\n        reset: function () { // call this whenever the player loads new media\n            timePlayed = 0;\n            lastEventPlaytime = timePlayed;\n            playBackState = false;\n            lastPlayBackUpdateTS = undefined;\n            everyStore.resetTime()\n        },\n        getTimePlayerDelta: function () { // returns the time played between now and the last call to this function!\n            var t = self.getTimePlayed()\n            var dt = t - lastEventPlaytime;\n            lastEventPlaytime = t;\n            return dt\n        },\n        onEvery: everyStore.add  // (increment,callback)\n    }\n    return self\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// todo: callback every 10seconds... or callback every onTime if playing?\n\nwindow._satellite.jwwatcher = JWWatcher({\n    debug: true,\n    loggingFunction: _satellite.logger.debug\n})\nfunction JWWatcher(configObject) {\n    var config = {\n        debug: false,\n        loggingFunction: undefined\n    }\n    for (var ck in configObject) { config[ck] = configObject[ck] } // sufficient for flat config objects\n\n    var trace = function () { }\n    if (config.debug) {\n        trace = config.loggingFunction ? config.loggingFunction : Function.prototype.bind.apply(console.debug, [console, '[Engagement]'])\n    }\n\n    var milestones = {  // define the milestones: key => video duration in seconds, value: array of % completion\n        0: [0.95],\n        60: [0.5, 0.95],\n        300: [0.25, 0.5, 0.75, 0.95]\n    }\n    // sort milestones by integer keys\n    var mileStoneKeys = Object.keys(milestones).map(function (e) { return parseInt(e) }).sort(function (a, b) { return a - b });\n\n    var lastEventTS = performance.now()\n\n    function getMileStones(duration) {\n        var c = 0;\n        for (var i = 0, l = mileStoneKeys.length; i < l; i++) {\n            if (mileStoneKeys[i] > duration) break;\n            c = mileStoneKeys[i]\n        }\n        return milestones[c] ? milestones[c].slice() : [] // return a copy!\n    }\n\n    function formatItem(item) {\n        return {\n            title: item.title,\n            description: item.description,\n            file: item.file,\n            mediaid: item.mediaid,\n            type: item.sources && item.sources[0] && item.sources[0].type\n        }\n    }\n\n    function addWatcher(jwp) {\n        var dataAttribute = 'data-sara-jwwatcher'\n        if (jwp.getContainer().getAttribute(dataAttribute) !== null) {\n            trace('[JWWatcher]', jwp, 'already has an active watcher')\n            return\n        }\n        jwp.getContainer().setAttribute(dataAttribute, jwp.uniqueId)\n\n\n        // === states === // \n        var rms = getMileStones(jwp.getDuration())\n        var ivwFired = false;\n        var startMute = jwp.getConfig().mute;\n        var played = false;\n        trace('[JWWatcher] Added watcher on player', jwp)\n\n        var thresholdFired = false;\n        var threshold = 60 * 1000; // first minute\n\n        var timeTracking = _satellite.MediaTimeTracker(isPlaying)\n\n        timeTracking.onEvery(10000, function () {// allow for a short delay\n            trace('[JWWatcher] 10secondsPlayed')\n            try {\n                window.stats.engage(10000); \n            } catch (err) {\n                trace('onEvery Engage failed', err)\n            }\n        })\n\n        function isPlaying() {\n            return jwplayer().getState() === \"playing\"\n        }\n\n        function onPlaylistItem() { // when playlist item changes! but not the first time round!\n            trace('[JWWatcher]', jwp, 'event onPlaylistItem');\n            played = false; // reset played state\n            //var rms = getMileStones(jwp.getDuration()) // remaining milestones! => not available at this time!\n            //resetIWV() => not supposed to reset for ivw!\n            //startAutoplay = jwp.getConfig().autostart; // returns faulty values here!\n            startMute = jwp.getConfig().mute;\n            thresholdFired = false;\n            timeTracking.reset();\n        }\n\n        function fireIVWonPlayback(type) {\n            trace('[JWWatcher]', jwp, 'checking IVW Events resulting from', type, 'autostart:', jwp.getConfig().autostart, 'startMute:', startMute);\n            if (ivwFired) return;\n\n            // fire on first play click for [non-autoplay videos]\n            if (jwp.getConfig().autostart === false) {\n                sendEvent('ivw-click-to-play');\n                ivwFired = true;\n            }\n\n            // for on first play for [unmuted autoplaying videos]\n            if (jwp.getConfig().autostart === true && startMute === false) {\n                sendEvent('ivw-unmuted-autoplay');\n                ivwFired = true;\n            }\n        }\n\n        function onPlay(e) {\n            timeTracking.update();\n            if (played) return; // fires only once, reset by onPlaylistItem()\n            played = true;\n            rms = getMileStones(jwp.getDuration()); // get new milestones on first play\n            \n            if(jwp.getDuration()===Infinity) {\n              timeTracking.onEvery(5*60*1000, function() {\n                sendEvent('livestream-5-min-tracker');\n              })\n            }\n                                   \n            trace('[JWWatcher]', jwp, 'event onPlay. Duration', jwp.getDuration(), 'Milestones', rms.slice(), 'Event', e);\n            sendEvent('play');\n            fireIVWonPlayback('play')\n        }\n\n        function onAdImpression(e) {\n            timeTracking.update();\n            fireIVWonPlayback('adImpressions')\n        }\n\n        function onMute(e) {\n            timeTracking.update();\n            sendEvent(e.mute ? 'mute' : 'unmute')\n            // fire on first unmute for [muted autoplaying videos].\n            if (ivwFired === false && e.mute === false && jwp.getConfig().autostart === true && startMute === true) {\n                sendEvent('ivw-unmute-action');\n                ivwFired = true;\n            }\n        }\n\n        function onTime(e) {\n            timeTracking.update();\n            while (rms.length > 0 && rms[0] <= (e.position / e.duration)) { sendEvent('milestone ' + rms.shift() * 100 + '%') }\n\n            // track playback time\n            if (isPlaying()) {\n                if (timeTracking.getTimePlayed() > threshold && !thresholdFired) {\n                    thresholdFired = true\n                    sendEvent('first-minute')\n                }\n            }\n        }\n\n        function onComplete(e) {\n            timeTracking.update();\n            sendEvent('complete');\n        }\n\n        function sendEvent(identifier) {\n            var t = performance.now()\n            var dt = t - lastEventTS;\n            lastEventTS = t;\n\n            var ev = {\n                info: { action: \"video\", name: identifier },\n                attributes: {\n                    item: formatItem(jwp.getPlaylistItem()),\n                    autostart: jwp.getConfig().autostart,\n                    position: jwp.getPosition(),\n                    duration: jwp.getDuration(),\n                    progress: jwp.getPosition() / jwp.getDuration(),\n                    volume: jwp.getVolume(),\n                    mute: jwp.getMute(),\n                    state: jwp.getState(),\n                    viewable: jwp.getViewable(),\n                    playerID: jwp.id,\n                    dtPlayed: timeTracking.getTimePlayerDelta(),\n                    streamType: jwp.getConfig().streamType,\n                    source: 'launch|cc|jw-watcher'\n                }\n            }\n            trace('[JWWatcher]', jwp, ' Firing Analytics Event', ev)\n            window.SARAs_data = window.SARAs_data || []\n            window.SARAs_data.push({ event: ev })\n        }\n\n        // === Assign Functions === //\n        //jw.on('firstFrame', onFirst); // first has the problem that it runs AFTER play, but we need it for reset!\n        jwp.on('playlistItem', onPlaylistItem); // used to reset milestones etc. does not fire the first time round when the watcher is loaded.\n        jwp.on('adImpression', onAdImpression);\n\n        jwp.on('mute', onMute);\n        jwp.on('time', onTime);\n        jwp.on('complete', onComplete);\n\n        jwp.on('play', onPlay);\n        jwp.on('adPlay', timeTracking.update);\n        jwp.on('pause', timeTracking.update);\n        jwp.on('adPause', timeTracking.update);\n\n        return jwp\n    }\n\n    function init() {\n        var videoNodes = document.querySelectorAll('.jwplayer')\n        for (var i = 0, l = videoNodes.length; i < l; i++) {\n            var id = videoNodes[i].id\n            addWatcher(jwplayer(id))\n        }\n    }\n    trace('[JWWatcher] Ready. Video Milestones: ', milestones)\n    init()\n    return { addWatcher: addWatcher }\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"// todo: callback every 10seconds... or callback every onTime if playing?\n\nwindow._satellite.podwatcher = PodWatcher({\n    debug: true,\n    loggingFunction: _satellite.logger.debug\n})\nfunction PodWatcher(configObject) {\n    var config = {\n        debug: false,\n        loggingFunction: undefined\n    }\n    for (var ck in configObject) { config[ck] = configObject[ck] } // sufficient for flat config objects\n\n    var trace = function () { }\n    if (config.debug) {\n        trace = config.loggingFunction ? config.loggingFunction : Function.prototype.bind.apply(console.debug, [console, '[Engagement]'])\n    }\n\n    var milestones = {  // define the milestones: key => video duration in seconds, value: array of % completion\n        0: [0.95],\n        60: [0.5, 0.95],\n        300: [0.25, 0.5, 0.75, 0.95]\n    }\n    // sort milestones by integer keys\n    var mileStoneKeys = Object.keys(milestones).map(function (e) { return parseInt(e) }).sort(function (a, b) { return a - b });\n\n    function getMileStones(duration) {\n        var c = 0;\n        for (var i = 0, l = mileStoneKeys.length; i < l; i++) {\n            if (mileStoneKeys[i] > duration) break;\n            c = mileStoneKeys[i]\n        }\n        return milestones[c] ? milestones[c].slice() : [] // return a copy!\n    }\n\n    function addWatcher(store, id) {\n        trace('[Podlove] Added watcher on player', id)\n        var rms = [];\n        var played = false;\n        var state = {} // updated by each event\n        var ivwFired = false;\n\n        var thresholdFired = false;\n        var threshold = 60 * 1000; // first minute\n\n        var timeTracking = _satellite.MediaTimeTracker(isPlaying)\n\n        timeTracking.onEvery(10000, function () {// allow for a short delay\n            trace('[Podlove] 10secondsPlayed')\n            /*\n            try {\n                window.stats.engage(10000); \n            } catch (err) {\n                trace('onEvery Engage failed', err)\n            }\n            */\n        })\n\n        function isPlaying() {\n            return state && state.driver && state.driver.playing === true;\n        }\n\n        function getMediaID(furl) {\n            // reading media id from url\n            // e.g. https://traffic.omny.fm/d/clips/5ac1e950-45c7-4eb7-87c0-aa0f018441b8/7fd46a07-f73f-4fac-bf5c-abc000ffb06b/1c61e4f1-2351-44d5-86e5-ad24010d0df2/audio.mp3?in_playlist=1e8914c2-db00-454c-9997-abc000ffb06f&utm_source=CustomPlayer2&download=true\n            var r = furl.match(/\\/([0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12})\\/audio.mp3/)\n            if (r) { return r[1] || '' }\n            return ''\n        }\n\n        function onPlay() { // runs only once - until reset\n            trace('[Podlove]', id, 'Play', rms)\n\n            // === initial play === //\n            if (played) { return }\n            played = true\n            rms = getMileStones(state.timepiece.duration / 1000) // set milestones on initial play. [ms] to [s]\n            sendEvent('play');\n            if (!ivwFired) { sendEvent('ivw-play'); ivwFired = true; } // never reset! Once per player\n        }\n      \n        function onInteraction(element) { // runs only once - until reset\n            trace('[Podlove]', id, 'Interaction', rms, element)\n            sendEvent('click-'+element);\n        }\n\n        function onTime() {\n\n            // milestones\n            while (rms.length > 0 && rms[0] <= (state.timepiece.playtime / state.timepiece.duration)) {\n                sendEvent('milestone ' + rms.shift() * 100 + '%')\n            }\n\n            // track playback time\n            if (isPlaying()) {\n                if (timeTracking.getTimePlayed() > threshold && !thresholdFired) {\n                    thresholdFired = true\n                    sendEvent('first-minute')\n                }\n            }\n        }\n\n        function onComplete() {\n            sendEvent('complete');\n        }\n\n        function reset() {\n            played = false;\n            rms = []\n            thresholdFired = false\n        }\n\n        function sendEvent(identifier) {\n            var ev = {\n                info: { action: \"audio\", name: identifier },\n                attributes: {\n                    item: {\n                        title: state.episode.title,\n                        series: state.show.title,\n                        description: state.episode.subtitle || '',\n                        file: state.files[0].url,\n                        mediaid: getMediaID(state.files[0].url),\n                        type: state.files[0].title\n                    },\n                    position: state.timepiece.playtime / 1000, // [ms] to [s]\n                    duration: state.timepiece.duration / 1000, // [ms] to [s]\n                    progress: state.timepiece.playtime / state.timepiece.duration,\n                    volume: state.audio.volume,\n                    mute: state.audio.muted,\n                    state: state.playstate,\n                    playerID: id,\n                    dtPlayed: timeTracking.getTimePlayerDelta()\n                }\n            }\n            trace('[Podlove]', id, 'Event', identifier)\n            window.SARAs_data = window.SARAs_data || []\n            window.SARAs_data.push({ event: ev })\n        }\n\n        store.subscribe(function () {\n            state = store.getState()\n            var action = state.lastAction.type;\n            var payload = state.lastAction.payload;\n\n            switch (action) {\n                case 'PLAYER_BACKEND_PLAY': timeTracking.update(); onPlay(); break;\n                case 'PLAYER_BACKEND_END': timeTracking.update(); onComplete(); break; // watched till end\n                case 'PLAYER_BACKEND_PAUSE': timeTracking.update(); break;\n                case 'PLAYER_BACKEND_PLAYTIME': timeTracking.update(); onTime(); break; // runs all the time during playback\n                case 'PLAYER_READY': timeTracking.reset(); reset(); break; // runs when new media is loaded? => Media Selector, see www.spiegel.de/audio/\n                case 'PLAYER_REQUEST_RESTART': timeTracking.reset(); reset(); break; // restart podcast\n                case 'BUTTON_SHOW_OVERLAY': timeTracking.update(); onInteraction('button-subscribe'); break; // restart podcast\n                case 'PLAYER_TOGGLE_TAB': timeTracking.update(); onInteraction('tab-'+payload); break; // restart podcast\n            }\n        })\n\n    }\n\n    trace('[Podlove] Ready. Audio Milestones: ', milestones)\n\n    return { addWatcher: addWatcher}\n}",language:"javascript"}}]},{id:"RL76fb151523f148078aa0ed964d9aa980",name:"Media:Audio | SARAs:podlove-init | #001 | [DLC(sync: addWatcher)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"podlove-init"},ruleOrder:1}],conditions:[],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(e){try{var t=e.detail.state.event.attributes.player_id,n=navigator.webBridge.getPodloveWebplayerStore(t);_satellite.podwatcher.addWatcher(n,t)}catch(e){_satellite.logger.error(e)}}}}]},{id:"RL21acebc5bfe94ddcbd83d67b07fbbc5b",name:"Link:Exit | SARAs:click | #100 | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"spiegel.de"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%event.attributes.target_url:sd%"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.attributes.target_url:sd%",rightOperand:"#"},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%event.attributes.click_id:sd%"},{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar23",type:"value",value:"%event.attributes.headline:sd%"},{name:"eVar24",type:"value",value:"%event.attributes.pos:sd%"},{name:"eVar25",type:"value",value:"%event.custom.click-type:map%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"},{name:"event5"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.attributes.target_url:sd%",linkType:"e"}}]},{id:"RL0ee724c27fc247529b367910c402c8c4",name:"Base:Pageview | SARAs:page_data_ready | #020 [with previous page data] | [Analytics (set-vars), Clear Previous Page Data Cookie]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%page.custom.on-page-load-previous-data:cookie%"},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar53",type:"value",value:"%page.custom.previous-article-id:cc%"},{name:"eVar94",type:"value",value:"%page.custom.previous-article-channel:cc%"}],events:[{name:"event40",value:"%page.timing.previous-performance-server-response:cc%"},{name:"event41",value:"%page.timing.previous-performance-response-complete:cc%"},{name:"event42",value:"%page.timing.previous-performance-page-render:cc%"},{name:"event43",value:"%page.timing.previous-performance-dom-complete:cc%"},{name:"event44",value:"%page.timing.previous-performance-load-libraries:cc%"},{name:"event45",value:"%page.timing.previous-performance-track-pageview:cc%"},{name:"event50",value:"%page.timing.previous-time-first-visible:cc%"},{name:"event51",value:"%page.timing.previous-time-visible:cc%"},{name:"event52",value:"%page.timing.previous-time-hidden:cc %"},{name:"event53",value:"%page.timing.previous-time-active:cc%"},{name:"event54",value:"%page.timing.previous-time-total:cc%"},{name:"event360",value:"%page.custom.previous-free-adslots-count:cc%"}]}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC8e01055442df412aaa4dd897ed6573da-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdc609717a40a4423b93ad5b73cfd871d",name:"Target:Offer | SARAs:end_of_page | #010 [article:creative, once per page, -PUR:abo] | [target-banner-creative-article]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll_page_100"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"creative"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCcc05300fd1fb4445bf7ab7564ed272ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d48198941e44a1d9530d2c2930bdf94",name:"Link:Exit | SARAs:click | #011 [to abo.spiegel] | [Analytics (set-vars)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:11}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.attributes.target_url:sd%",rightOperand:"abo.spiegel.de"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event310"}]}}}]},{id:"RLaa6f7548d7e246aebd06aabc09a3bf00",name:"Base:Pageview | SARAs:virtual_page | #001 | [CC(reset-stats)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC48e64c4371d043838644ed47850cd49c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb78a34b5e05b47459e5d56b794cd19b6",name:"Base:Pageview | SARAs:page_data_ready | #002 [purchase, app, once:session] | [SARAs_data.push (products), Analytics (set-vars, products)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%Product | ID in App [co]%"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"session",count:1}}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){var e={info:{id:_satellite.getVar("Product | ID in App [co]")},attributes:{paywall_id:_satellite.getVar("editorial.info.article_id:sd")},category:{type:_satellite.getVar("Product | Type in App [co]")},price:{price:_satellite.getVar("Product | Price in App [co]")}};window.SARAs_data.push(["mode:append",{product:[e]}])}}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("product.custom.string:sd.rw")}},trackerProperties:{props:[{name:"prop4",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop5",type:"value",value:"%RADAR | Conversion String [gl]%"}],events:[{name:"purchase"}],channel:"%editorial.info.channel:sd%",pageURL:"%page.info.canonical_url:sd%",campaign:{type:"queryParam",value:"sara_ecid"},pageName:"%page.custom.name-concat:dea%"}}}]},{id:"RL6834a0652f3a4c47ac674f3a667ae767",name:"Base:Libraries | Library Loaded | #001 | [performance.mark (load), Data Layer Constructor (activate), Click Attribute Handling, Day Usage Marker, Plugins (gpv,apl,inList,p_fo,getQueryParam,getValOnce)]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"performance.mark('sara_load_libraries')",language:"javascript"}},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){try{var e,t,n,a,r=_satellite.getVar("_config.store.sara-user-day:const"),i=_satellite.getVar("_config.store.sara-user-session:const"),o=_satellite.getVar("Cookie | Session [co]"),s=_satellite.getVar("Cookie | Day Usage [co]")||"0.x:0.x|0.x:0.x",c=_satellite.getVar("user.segment.is_loggedIn:sd"),l=new Date;switch(l.setHours(24,0,0,0),day_string_p1day=s.split("|")[0],e=parseInt(day_string_p1day.split(":")[0].split(".")[0]),t=parseInt(day_string_p1day.split(":")[1].split(".")[0]),0==e&&0==t?day_string_p1day="1.d:1.v":0<e&&1<=t&&!o?day_string_p1day=++e+".f:"+(t=1)+".f":0<e&&1<=t&&"active"==o&&(day_string_p1day=e+".f:"+ ++t+".f"),day_string_p2login=s.split("|")[1],n=parseInt(day_string_p2login.split(":")[0].split(".")[0]),a=parseInt(day_string_p2login.split(":")[1].split(".")[0]),c){case!1:0<a&&(day_string_p2login=-n+".x:0.x");break;case!0:0==n&&0==a?day_string_p2login="1.d:1.v":0<n&&1==t?day_string_p2login=++n+".f:"+t+".f":0<n&&0<a&&1<t?day_string_p2login=n+".f:"+ ++a+".f":n<0&&(day_string_p2login=1+(n*=-1)+".f:1.v")}s=day_string_p1day+"|"+day_string_p2login,_satellite.cookie.set(r,s,{expires:l,domain:location.hostname.match(/(\w+\.)?\w+\.\w+$/)[0]}),_satellite.cookie.set(i,"active",{domain:location.hostname.match(/(\w+\.)?\w+\.\w+$/)[0]}),_satellite.logger.info("DAY COOKIE SAVED: ",s)}catch(e){}}}},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/activate.js",settings:{firePreviousEvents:"true"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var track_tag = 'Add Listener: Store Click Data';\ntry {\n    _satellite.track_teaser = (function track_teaser(window) {\n      'use strict';\n\n      if (document.addEventListener) {\n        document.addEventListener('click', set_teaserStorage, false);\n        _satellite.logger.info('event listener added: set_teaserStorage');\n      } else {\n        document.attachEvent('onclick', set_teaserStorage);\n        _satellite.logger.info('event listener added: set_teaserStorage');\n      }\n\n      function set_teaserStorage(ev) {\n        var track_tag = \"track_teaser\";\n        var teaser_obj = (_satellite.getVar('event.info.action:sd', event) == 'click' && _satellite.getVar('event.attributes.target_url:sd', event).length > 1) ? {'click_id' : _satellite.getVar('event.attributes.click_id:sd', event), 'pos' : _satellite.getVar('event.attributes.pos:sd', event), 'target_url' : _satellite.getVar('event.attributes.target_url:sd:rw', event), 'headline' : _satellite.getVar('event.attributes.headline:sd', event)} : {'click_id': 'not_set'};\n        teaser_obj.referrer = _satellite.getVar('page.info.canonical_url:sd');\n        var valid_tags = ['A', 'H1', 'IMG', 'path', 'SPAN', 'svg'];\n        ev = ev || window.event;\n\n        if (valid_tags.indexOf(ev.target.tagName) == -1 || valid_tags.indexOf(ev.target.parentElement.tagName) == -1) {\n          _satellite.logger.info(\"NO Click Data saved:\",ev);\n          return;\n        } else {\n          _satellite.cookie.set(_satellite.getVar('_config.store.sara-click-attributes:const'), JSON.stringify(teaser_obj), {expires: 1});\n          _satellite.logger.info(\"Click Data saved:\",teaser_obj);\n        }\n      }\n  })(window);\n\n} catch(e) {\n  _satellite.logger.error(track_tag, e);\n}\n",language:"javascript"}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeInList.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeP_fo.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetQueryParam.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetValOnce.js",settings:{}}]},{id:"RLccb9dd81aec04e3597d02f45aca31295",name:"Media:Video | SARAs:video | #100 [-ivw] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=n.toString(),t.contextData["opt.sell"]="N",_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar100",type:"value",value:"%event.attributes.item-media_id:sd%"},{name:"eVar101",type:"value",value:"%event.attributes.autostart:sd.rw%::%event.attributes.mute:sd.rw%"},{name:"eVar102",type:"value",value:"video"},{name:"eVar103",type:"value",value:"%event.attributes.item-type:sd%"},{name:"eVar104",type:"value",value:"%event.attributes.item-title:sd%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RL46c8d90be3854eb2833d4d4026a946c3",name:"Util:Performance | Enter Viewport | #001 [article -paywall; after 1000ms] | [SARAs_data.push (scroll:editorial complete)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{delay:1e3,frequency:"everyEntry",elementSelector:"main footer"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.type:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC290e460567584eba9c9dd973b48c60e3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70308f6a12a44bcb832e0384f20ab53d",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [article +paid -paywall] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%paywall.category.type:sd%",rightOperand:"paid|conditional"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event111"}]}}}]},{id:"RL1a8fb338dd0d4c7798615c902b3e79c7",name:"Event:Scroll | SARAs_data:view_element | #100 | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"view_element"},ruleOrder:100}],conditions:[],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){s.prop1=null,s.prop2=null,s.prop3=null,s.prop4=null,s.prop5=null,s.prop6=null,s.prop7=null,s.prop8=null,s.prop9=null,s.prop10=null,s.eVar136=null}}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event301"},{name:"event3"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RL5e303a9d60af43a78569da818aaaa2f3",name:"Link:Component | Core:click | #001 [consent on button] | [SARAs_data.push (button_click)]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"button[data-consent-el], button[data-consent-accept-reject-el]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCe4dd6ad2f93f437fa219bcb363feb226-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a7a39aa35324c17b07d9a2ef553b602",name:"Link:Component | SARAs:component_click | #100 | [Analytics (set-vars, track-link)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"component_click"},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%event.attributes.click_id:sd%"},{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"},{name:"event200"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RLd9461a7518764f2fa5c38ef9780b905f",name:"Link:Exit | SARAs:click | #002 [homepage] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%event.attributes.target_url:sd%"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop1",type:"value",value:"%event.custom.url-name-concat:dea%"},{name:"prop2",type:"value",value:"from_int_homepage"}],events:[{name:"event4"}]}}}]},{id:"RLeb225993924f489d9a44411d1226fa8a",name:"Marketing:Pageview | SARAs:page_data_ready+virtual_page | #200 [-PUR:abo+page] | [Facebook (init 2x, track-base, track-page-events), Google Adwords (init-gtag, track-base), Microsoft Bing Ads (track-base), Outbrain (track-base), Adition (track-paywall, track-subscriber))]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:200},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC979ede5df440405c9cd42c969b913bdf-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCfd0563175b124db9b55aabe964522a8e-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC14d7645c358a4fa1bda4968d9d3caa15-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC0c2490163af346cfa1542fd7f5d59e28-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bing-ads-extension/src/lib/actions/baseTag.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCdf0bc3c8259a4d659645e1746017abce-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC1a579f8278af4d77b7e5139cf7d98558-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf53bd3c1b292423db406596b62109745",name:"Link:Component | SARAs:button_click | #100 | [Analytics (set-vars, track-link)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"button_click"},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%event.attributes.click_id:sd%"},{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RLec7d495fecb64bafb3a0a5d48dc9993e",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #002 [article] | [AT(param2page) PROD]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%qs.value.launch-environment:jsv%",rightOperand:"production"}}],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{"entity.id":{value:"%editorial.info.article_id:sd%",checked:!0},"entity.name":{value:"%editorial.info.headline:sd%",checked:!0},"entity.intro":{value:"%editorial.info.intro:sd%",checked:!0},"entity.channel":{value:"%editorial.info.channel:sd%",checked:!0},"entity.pageUrl":{value:"%page.info.canonical_url:sd.rwAT%",checked:!0},"entity.categoryId":{value:"%editorial.custom.[categories]:cc%",checked:!0},"entity.headerImageId":{value:"%editorial.info.header_image_id:sd%",checked:!0},"entity.editorial.type":{value:"%editorial.category.type:sd%",checked:!0},"paywall.category.type":{value:"%paywall.category.type:sd%",checked:!0},"entity.editorial.style":{value:"%editorial.category.style:sd%",checked:!0},"entity.attributes.has_author":{value:"%editorial.attributes.has_author:sd.rw%",checked:!0},"paywall.attributes.is_active":{value:"%paywall.attributes.is_active:sd.rwAT%",checked:!0},"entity.attribute.date_modified":{value:"%editorial.info.date_modified:sd.rw%",checked:!0},"entity.attributes.is_listExcluded":{value:"%editorial.attributes.is_listExcluded:sd%",checked:!0},"entity.attributes.is_comments_enabled":{value:"%editorial.attributes.is_comments_enabled:sd%",checked:!0}}}}]},{id:"RL5530eb22a42743f39dc5e01b975be838",name:"Target:Offer | SARAs:page_data_ready | #010 [domain:spon, once per session > 360min, -PUR:abo] | [target-banner-gesamt]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"session",count:1}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"minute",count:360}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.info.domain:sd%",rightOperand:"spon"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"issue"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCaba135a71ef8497786459d776e1206ca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa49f05eeb92c4bc38e7cf3b2b5ee6399",name:"Media:All | SARAs:video|audio | #003 [livestream -ivw] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"livestream"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event142"},{name:"event138",value:"%Media | Playtime [co]%"}]}}}]},{id:"RL42a1e03e54b74d37b138ccce5eafd677",name:"Target:Offer | SARAs:page_data_ready | #010 [article|topic [karriere|start] ] | [research-umfrage-u30]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"visitor"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic|channel"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.attributes.channel_slug:sd%",rightOperand:"karriere|start"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC18c6a776c90c46d38e5d9d37d64ae2f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL191e79b7cfc343c794f48a62197f4346",name:"Base:Libraries | Core:WindowLoaded | #1 [homepage: 20%: 2020-03-31 to 2021-04-01] | [Hotjar (track-page)]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2021-04-01T21:59:00Z",start:"2021-03-31T11:00:00Z"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"}},{modulePath:"core/src/lib/conditions/sampling.js",settings:{rate:.2}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCc590d5a67fe547158b4ad9066727be2d-source.min.js",language:"html",isExternal:!0}}]},{id:"RL4586dcec858d414581675091684a5f5e",name:"Target:Offer | SARAs:page_data_ready | #010 [article|topic | sample 000-300(1000) | pageview > 1] | [research-umfrage-gross-1]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"week",count:3}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e;return void 0===_satellite.cookie.get("sara_randomnumber")?(e=Math.floor(1e3*Math.random()),_satellite.cookie.set("sara_randomnumber",e,{expires:14})):null!=_satellite.cookie.get("sara_randomnumber")&&(e=_satellite.cookie.get("sara_randomnumber")),0<=e&&e<300}}},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC044b10a10d3e475787b5f6eca13e03fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfed0ec11e4d246b694e4e5f0a130349b",name:"Event:Scroll | SARAs_data:scroll | #100 [editorial complete; once in 5sec] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"editorial complete"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:5}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){switch(null===t.events&&(t.events=""),_satellite.getVar("page.category.route:sd")){case"article":t.events=t.apl(t.events,"event916"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event916");break;case"homepage":t.events=t.apl(t.events,"event917"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917")}}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RL34b8aa499fdc4f8f9cdfd778f5704291",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #100 | [Analytics (set-vars, track-page), CC(performance.mark)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:100},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function n(e){t[e]=null}t.eVar13=t.getPreviousValue(t.pageName,"sara_gpv_page"),t.eVar145=t.getValOnce(t.eVar145,"sara_cid_int"),t.eVar146=t.getValOnce(t.eVar146,"sara_cid_any"),t.eVar153=t.getValOnce(t.eVar153,"sara_cid_fb"),t.eVar154=t.getValOnce(t.eVar154,"sara_cid_nl",5,"m"),t.campaign=t.getValOnce(t.campaign,"sara_cid_ext"),t.hier2=t.apl(t.hier2,_satellite.getVar("Page | URL: Path L4 [gl]"),"|"),-1<_satellite.getVar("page.category.route:sd").indexOf("issue")&&(t.eVar83=_satellite.getVar("editorial.attributes.magazine:sd")),t.linkTrackVars=t.apl(t.linkTrackVars,"list1,prop50,contextData.cm.ssf,contextData.opt.sell");t.registerPostTrackCallback(function(e,t){t.forEach(n),_satellite.logger.info("variables cleared: ",t)},["events","hier1","prop1","prop2","prop3","prop4","prop5","prop6","prop7","prop8","prop9","prop12","prop32","prop40","prop41","prop42","prop43","prop70","prop71","eVar9","eVar10","eVar11","eVar12","eVar13","eVar14","eVar15","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar35","eVar38","eVar41","eVar42","eVar43","eVar44","eVar100","eVar101","eVar102","eVar103","eVar104","eVar105","eVar106","eVar107","eVar115","eVar116","eVar117","eVar118","eVar119","eVar120","eVar121","eVar122","eVar123","eVar124","eVar125","eVar126","eVar127","eVar130","eVar131","eVar132","eVar133","eVar134","eVar135","eVar136","eVar137","eVar138","eVar139","eVar145","eVar146","eVar147","eVar148","eVar149","eVar153","eVar154","eVar161","eVar162","eVar163","eVar164","eVar165","eVar166","eVar167","eVar175","eVar176","eVar177","eVar178","eVar179","eVar180","eVar183","eVar185","eVar186","eVar187","eVar188","eVar200"])}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"D=pageName"},{name:"eVar2",type:"value",value:"%page.info.canonical_url:sd%"},{name:"eVar3",type:"value",value:"%page.info.platform:sd%"},{name:"eVar4",type:"value",value:"%page.category.route:sd%"},{name:"eVar5",type:"value",value:"%page.category.type:sd%"},{name:"eVar7",type:"value",value:"%page.info.title:sd%"},{name:"eVar8",type:"value",value:"%page.custom.url-hostname:pi%"},{name:"eVar9",type:"value",value:"%page.custom.url-search:jsv%"},{name:"eVar10",type:"value",value:"%page.custom.url-hash:jsv%"},{name:"eVar11",type:"value",value:"%page.custom.referrer-domain:cc%"},{name:"eVar12",type:"value",value:"%page.custom.referrer-url-without-search:cc%"},{name:"eVar15",type:"value",value:"D=c2"},{name:"eVar16",type:"value",value:"%Page | PUR Tracking [co]%"},{name:"eVar18",type:"value",value:"%Page | URL: Host + Path  [gl]%"},{name:"eVar19",type:"value",value:"%Page | Referrer: default  [gl]%"},{name:"eVar33",type:"value",value:"%user.custom.device-type:cc%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar36",type:"value",value:"%User | New or Returning [gl]%"},{name:"eVar38",type:"value",value:"%Cookie | Day Usage [co]%"},{name:"eVar40",type:"value",value:"%page.custom.visibility-state:jsv%"},{name:"eVar145",type:"value",value:"%page.custom.url-search-sara_icid:qsp%"},{name:"eVar146",type:"value",value:"%page.custom.campaign-id-all:cc%"},{name:"eVar147",type:"value",value:"D=v0"},{name:"eVar148",type:"value",value:"D=v145"},{name:"eVar149",type:"value",value:"D=v146"},{name:"eVar153",type:"value",value:"%Page URL | Facebook Click ID [gl]%"},{name:"eVar154",type:"value",value:"%Page URL | Newsletter ID [co]%"},{name:"eVar175",type:"value",value:"%user.segment.is_loggedIn:sd.rw%"},{name:"eVar177",type:"value",value:"%user.segment.has_paid_access:sd.rw%"},{name:"eVar178",type:"value",value:"%user.segment.has_conditional_access:sd.rw%"},{name:"eVar179",type:"value",value:"%user.segment.has_spiegelNoAdsMonthly_access:sd.rw%"},{name:"eVar180",type:"value",value:"%User | has Consent [gl]%"},{name:"eVar185",type:"value",value:"D=mid"},{name:"eVar186",type:"value",value:"%user.info.tracking_id:sd%"},{name:"eVar187",type:"value",value:"%user.info.device_advertising_id:sd%"},{name:"eVar200",type:"value",value:"D=User-Agent"}],props:[{name:"prop1",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop2",type:"value",value:"%page.custom.referrer-category:map%"},{name:"prop3",type:"value",value:"%click.custom.on-page-load-position:cc%"},{name:"prop7",type:"value",value:"%page.custom.referrer-category:map%"},{name:"prop8",type:"value",value:"%editorial.info.channel:sd%"},{name:"prop9",type:"value",value:"%page.custom.url-path:pi%"},{name:"prop12",type:"value",value:"D=pid"},{name:"prop31",type:"value",value:"%App | Version [co]%"},{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop55",type:"value",value:"%User | has Consent updated [gl]%"},{name:"prop60",type:"value",value:"%User | has Emetriq ID [co]%"},{name:"prop61",type:"value",value:"%User | has Visitor API [gl]%"},{name:"prop62",type:"value",value:"%User | has SSO ID [gl]%"},{name:"prop65",type:"value",value:"%Cookie | Dynamic Paygate [co]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"},{name:"prop73",type:"value",value:"%_qs.value.launch-property-turbine:dea%"},{name:"prop74",type:"value",value:"%_qs.value.launch-build:dea%"},{name:"prop75",type:"value",value:"%_config.value.data-model-version:const%"}],events:[{name:"event1"}],server:"%page.custom.url-hostname:pi%",channel:"%page.attributes.channel_slug:sd%",pageURL:"%page.info.canonical_url:sd%",campaign:{type:"value",value:"%page.custom.campaign-id-external:cc%"},pageName:"%page.custom.name-concat:dea%",referrer:"%Page | Referrer [gl]%",hierarchies:[{name:"hier1",sections:["%page.custom.name-prefix:map%","%page.custom.url-subdomains:cc%","%page.attributes.channel_slug:sd%","%page.attributes.subchannel_slug:sd%"],delimiter:"|"},{name:"hier2",sections:["%page.custom.url-hostname:pi%","%Page | URL: Path L1 [gl]%","%Page | URL: Path L2 [gl]%","%Page | URL: Path L3 [gl]%"],delimiter:"|"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC862020349d4e4d60bfa847eb35924fc7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa0606ac4d6db464c86dc6b3825d1d9fe",name:"Base:Libraries | Library Loaded | #001 [-PUR:page] | [Target (global-settings, init, test-success-listener), IVW (init), Engagement Tracker (init), SARAs_data.push (timer)]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript" src="https://script.ioam.de/iam.js?m=1"> <\/script>',language:"html"}},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){window.targetGlobalSettings={overrideMboxEdgeServer:!1,secureOnly:!0}}}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"var track_tag = 'Engagement Tracker';\ntry {\n  window.stats = EngagementTracker({\n      debug: true,\n      loggingFunction: _satellite.logger.debug\n  })\n  if (window.stats.supported) {\n      var events = ['keydown', 'keyup', 'mouseup', 'mousedown', 'scroll', 'touchstart', 'touchend']; // 'wheel'; 'mousemove'\n      function handler() { window.stats.engage(10000) }\n      events.forEach(function (ev) { document.addEventListener(ev, handler, false) })\n  }\n  \n  // https://developer.mozilla.org/en-US/docs/Web/API/Event/timeStamp => cannot use. Internet explorer returns faulty times! => use performance.now()\n  // bot High Res and Non-High Res are Measured in Milliseconds (!)\n  // performance.now() is also DOMHighResTimeStamp!\n\n  function EngagementTracker(configObject) {\n      //https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\n      var config = {\n          debug: false,\n          loggingFunction: undefined,\n          setupEngagementScore: 10000, // ms,\n          tabviewEngagementScore: 10000 // ms\n      }\n      for (var ck in configObject) { config[ck] = configObject[ck] } // sufficient for flat config objects\n\n      var trace = function () { }\n      if (config.debug) {\n          trace = config.loggingFunction ? config.loggingFunction : Function.prototype.bind.apply(console.debug, [console, '[Engagement]'])\n      }\n\n      var hidden, visibilityChange;\n      if (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support \n          hidden = \"hidden\";\n          visibilityChange = \"visibilitychange\";\n      }\n      else if (typeof document.mozHidden !== \"undefined\") {\n          hidden = \"mozHidden\";\n          visibilityChange = \"mozvisibilitychange\";\n      }\n      else if (typeof document.msHidden !== \"undefined\") {\n          hidden = \"msHidden\";\n          visibilityChange = \"msvisibilitychange\";\n      } else if (typeof document.webkitHidden !== \"undefined\") {\n          hidden = \"webkitHidden\";\n          visibilityChange = \"webkitvisibilitychange\";\n      }\n      var supported = !(typeof document.addEventListener === \"undefined\" || hidden === undefined);\n      //supported = false;\n      if (!supported) { trace('Visibility API not supported') }\n\n      var initialized = false;\n\n      var times = {\n          start: 0,\n          lastUpdate: 0,\n          onTabOut: 0,\n          tabbedOut: 0,\n          firstVisible: undefined,\n\n          engaged: 0,\n          lastEngageUpdate: 0,\n          onEngageRenew: undefined // timestamp captured when the engagement timeout was last set or renewed\n      }\n\n      // === Engagement Module === //\n      var isEngaged = false;\n      var timeoutInstance = undefined;\n      var currentTimeToEngage = 0; // the last call to engage() exteneded the engagement by this amount\n      function _engagementChange() {\n          if (!isEngaged) {\n              times.engaged += performance.now() - times.lastEngageUpdate\n          }\n          trace(isEngaged ? 'Engaged' : 'Disengaged')\n      }\n      function engage(timeToEngage) {\n          try {\n              if (!supported || !initialized) { return false }\n              if (!isTabVisible()) { trace('cannot engage hidden tab'); return false }\n              if (typeof timeToEngage !== 'number') { trace('timeToEngage must be a number'); return false }\n              var t = performance.now()\n\n              if (!isEngaged) {\n                  times.onEngageRenew = t\n                  currentTimeToEngage = timeToEngage;\n                  times.lastEngageUpdate = t;\n                  isEngaged = true; _engagementChange()\n              }\n              var remainder = currentTimeToEngage - (t - times.onEngageRenew)\n              // trace('TimeToAdd', timeToEngage, 'Active Remainder:', remainder, 'isEngaged', isEngaged)\n              if (timeToEngage >= remainder) { // replace timeout if new one adds time!\n                  clearTimeout(timeoutInstance)\n                  timeoutInstance = setTimeout(disengage, timeToEngage);\n                  times.onEngageRenew = t\n                  currentTimeToEngage = timeToEngage;\n                  return true\n              } else { return false }\n          } catch (e) {\n              trace(e)\n              return false\n          }\n      }\n      function disengage() {\n          try {\n              if (!supported || !initialized) { return false }\n              clearTimeout(timeoutInstance)\n              if (isEngaged) { isEngaged = false; _engagementChange(); }\n              return true;\n          } catch (e) {\n              trace(e)\n              return false\n          }\n      }\n\n      // === Visibility Module === //\n      function isTabVisible() { return supported && !document[hidden] }\n      function visibilityHandler() {\n          try {\n              var t = performance.now(); // CANNOT USE EVENT TIMESTAMPS! => Internet explorer!\n              times.lastUpdate = t\n              if (isTabVisible()) { // user tabbed in\n                  times.firstVisible = times.firstVisible || t - times.start\n                  times.tabbedOut += t - times.onTabOut // update total time tabbed out\n                  engage(config.tabviewEngagementScore);\n              }\n              else { // user just tabbed out\n                  times.onTabOut = t\n                  disengage();\n              }\n              trace(isTabVisible() ? 'Tab In' : 'Tab Out', getStatus())\n          } catch (e) {\n              trace(e)\n          }\n      }\n      var initiallyVisible = isTabVisible()\n\n      function reset(t) { // accepts optional timestamp. Allows us to use event timestamps! => useful for SPA pageviews\n          try {\n              if (!supported || !initialized) { return false }\n              // === visibility === //\n              var t = t ? t : performance.now()\n              times.lastUpdate = t\n              times.start = t\n              times.onTabOut = t\n              times.tabbedOut = 0\n              initiallyVisible = isTabVisible()\n              times.firstVisible = isTabVisible() ? 0 : undefined\n\n              // === engagement === //\n              times.onEngageRenew = undefined;\n              currentTimeToEngage = 0;\n              disengage(); // resets timeout, status, calls engagement (if changed)\n              times.engaged = 0\n              times.lastEngageUpdate = t\n          } catch (e) {\n              trace(e)\n              return false\n          }\n      }\n\n      function getStatus() {\n          // returns empty object on error / not supported / not init\n          try {\n              if (!supported || !initialized) { return {} }\n              var t = performance.now()\n              var r = {\n                  timeTotal: (t - times.start) >> 0,  // bitshift for millisecond integers\n                  timeTabbedOut: (times.tabbedOut + (isTabVisible() ? 0 : t - times.onTabOut)) >> 0, // if checking whilst being tabbed in > add time\n                  timeFirstVisible: times.firstVisible === undefined ? times.firstVisible : times.firstVisible >> 0,\n                  isTabVisible: isTabVisible(),\n                  initiallyVisible: initiallyVisible,\n                  timeEngaged: (times.engaged + (isEngaged ? t - times.lastEngageUpdate : 0)) >> 0, // if checking whilst being engaged > add time\n                  isEngaged: isEngaged\n              }\n              r.timeTabbedIn = Math.max(0, r.timeTotal - r.timeTabbedOut)\n              return r;\n          } catch (e) {\n              trace(e)\n              return {}\n          }\n      }\n\n      function setup(optionalStart) {\n          try {\n              initialized = true\n              var t;\n              if (optionalStart !== undefined && optionalStart.timeStamp) { t = optionalStart.timeStamp }\n              else t = performance.now()\n              reset(t);\n\n              trace('Init on Domready', getStatus())\n              if (isTabVisible()) { engage(config.setupEngagementScore) }\n              document.addEventListener(visibilityChange, visibilityHandler, false);\n          } catch (e) {\n              trace(e)\n          }\n      }\n\n      // time from dom complete onwards!\n      if (supported) {\n          if (document.readyState === 'complete') { setup({ timeStamp: performance.timing.domComplete - performance.timing.navigationStart }) } // fallback: attempt to reconstuct domready timestamp\n          else {\n              document.addEventListener('readystatechange', function () {\n                  if (document.readyState === 'complete') { setup() }\n              });\n          }\n      }\n\n      return {\n          supported: supported,\n          get initialized() { return initialized },\n          get status() { return getStatus() },\n          reset: reset,\n          engage: engage,\n          disengage: disengage,\n          get isTabVisible() { return isTabVisible() },\n          get isEngaged() { return isEngaged },\n          version: \"1.0.0\"\n      }\n  }\n\n  /* === dont really need to be part of this library... right? === //\n  function save() { localStorage.setItem('stats', JSON.stringify(getStatus())) }\n  function load() {\n      var s = localStorage.getItem('stats')\n      if (s !== null) { s = JSON.parse(s) }\n      return s\n  }\n  */\n} catch(e) {\n  _satellite.logger.error(track_tag, e);\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try{  // Simple Timer Tracking:\n  function track_time() {\n    if (performance.now() > 3650000) //3600000\n      return\n    SARAs_data.push({\n      "event": {\n        "info": {\n          "action":"timer",\n          "name":"total - 15 Minutes"\n        },\n        "attributes": {\n          "source":"launch|cc|simple-time-handler"\n        }\n      }\n    })\n    setTimeout(track_time, 899000); //899000\n  }\n  setTimeout(track_time, 900000); //900000\n} catch (e) {\n}',language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var track_tag = 'Add Listener: Track Unload';\ntry {\n  _satellite.track_unload = (function track_unload(window) {\n    'use strict';                  \n    window.addEventListener(\"beforeunload\", track_unload)\n  \n    /*\n    if (document.addEventListener) {\n      document.addEventListener('beforeunload', set_teaserStorage, false);\n      _satellite.logger.info('event listener added: set_teaserStorage');\n    } else {\n      document.attachEvent('onclick', set_teaserStorage);\n      _satellite.logger.info('event listener added: set_teaserStorage');\n    }\n    */\n    \n    function track_unload(event) {\n      window.SARAs_data.push({\n          'event' : {'info' : {'action': 'page_unload'}}\n        });\n      }\n      _satellite.logger.info(track_tag,'unload listener added');      \n  })(window);\n\n} catch (e) {\n  _satellite.logger.error(track_tag, e);\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function(resp) {\n  try {\n    var nonA4TActivities = ['344502', '344510']; // Test for EW–hp–channelbox - Klimakrise Kampagne A/B/C Activity (PROD und DEV)\n\n    for (var i = 0; i < resp.detail.responseTokens.length; i++) {\n    \n      var curActivityId = resp.detail.responseTokens[i]['activity.id'],\n        curExperienceId = resp.detail.responseTokens[i]['experience.id'],\n        curExperienceName = resp.detail.responseTokens[i]['experience.name'];\n      if ( nonA4TActivities.indexOf(curActivityId) > -1) {\n        // mvp: use one getOffers for all matching activities\n        adobe.target.getOffer({ \n          mbox: \"a4t-mbox-\" + curActivityId,\n          \"params\": { \n             \"experienceId\": curExperienceId,\n             \"experienceName\": curExperienceName\n          },\n          success: function(offer) { \n          },\t\n          error: function(status, error) { \n          } \n        })\n\n      }\n    \n    }  \n  } catch(e){\n  _satellite.logger.error(e);} \n}); ",language:"javascript"}}]},{id:"RL1023456da62c4fe78c1dfaa5b1619312",name:"Event:Time | SARAs:timer | #001 | Analytics (set-vars, track-link)",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"timer"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar40",type:"value",value:"%page.custom.visibility-state:jsv%"},{name:"eVar44",type:"value",value:"+900"}],props:[{name:"prop41",type:"value",value:"%Hit | Visibility Stats [co]%"},{name:"prop42",type:"value",value:"%Hit | Timing Stats (minutes) [co]%"},{name:"prop43",type:"value",value:"%Hit | Timing Stats (seconds) [co]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event972"},{name:"event973",value:"%page.timing.time-total:jsv%"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){_satellite.logger.debug("[20 Minute Timer]: ",window.stats.status)}}}]},{id:"RL1bda0782c68c4d159bdd6f94c353f998",name:"Media:All | SARAs:video|audio | #004 [complete -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:4},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"complete"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event137"}]}}}]},{id:"RL694a53d7e1ad4b59831169737fcb483b",name:"Link:Component | SARAs:component_click | #001 [on GalleryTeaser] | [AA(set)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"component_click"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Click | Component Name [co]%",rightOperand:"GalleryTeaser"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar115",type:"value",value:"gallery"}],events:[{name:"event168"}]}}}]},{id:"RLdadc3ebd667d42a79f05dd489936821b",name:"Base:Pageview | SARAs:page_data_ready | #020 [-PUR:abo+page - native-Mercedes] | [NativeAd | Mercedes – Zählpixel)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%editorial.info.article_id:sd%",rightOperand:"dc802c92-e6fc-48e2-9cd3-2237f2c13542|48d473ff-ccdf-4299-a1fc-a2793682710a"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.type:sd%",rightOperand:"sponsored"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC51f72f7a08704120a4b48cc2d1b35939-source.min.js",language:"html",isExternal:!0}}]},{id:"RL5020bbd790d14bafbd0b9e98d9df31dc",name:"Media:All | SARAs:video|audio | #003 [first-minute -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"first-minute"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event141"},{name:"event138",value:"%Media | Playtime [co]%"}]}}}]},{id:"RL0ef15db21a304eed9e7bfc56710d8f97",name:"Link:Exit | SARAs:click | #011 [to friendly domain] | [AA(set)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:11}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.custom.url-hostname-is-friendly:map%",rightOperand:"is_friendly"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event6"}]}}}]},{id:"RL7ef7b672631148669352414fcd7e943f",name:"Media:All | SARAs:video|audio | #003 [75% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"75%"}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event135"},{name:"event138",value:"%Media | Playtime [co]%"}]}}}]},{id:"RL661d24feedc84051a6cb39ff2f874d8b",name:"Base:Pageview | SARAs:page_data_ready | #002 [404] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.custom.url-search-from:qsp%",rightOperand:404}}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageType="errorPage"}},trackerProperties:{eVars:[{name:"eVar19",type:"value",value:"%page.custom.referrer-url:pi%"}],props:[{name:"prop40",type:"value",value:"D=v19"}],referrer:"%page.custom.url-search-referrer:qsp%"}}}]},{id:"RL102f7ef81a0d4f9c9d15493f3c073f79",name:"Target:Offer | SARAs:page_data_ready | #010 [article|topic | sample 850-1000 (1000) | pageview > 1] | [research-umfrage]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"week",count:3}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e;return void 0===_satellite.cookie.get("sara_randomnumber")?(e=Math.floor(1e3*Math.random()),_satellite.cookie.set("sara_randomnumber",e,{expires:14})):null!=_satellite.cookie.get("sara_randomnumber")&&(e=_satellite.cookie.get("sara_randomnumber")),850<=e}}},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCb64eb9e910754a8c878a035171035eea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f5d69faf06a489584afa2cb5d1bfb3c",name:"Event:Scroll | SARAs_data:scroll | #001 [page complete; once p. p.; >20sec engage] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"page complete"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThan"},leftOperand:"%page.timing.time-active-sec:cc%",rightOperand:20},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){switch(null===t.events&&(t.events=""),_satellite.getVar("page.category.route:sd")){case"article":t.events=t.apl(t.events,"event107"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event107");break;case"homepage":t.events=t.apl(t.events,"event195"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event195")}}},trackerProperties:{events:[{name:"event60"}]}}}]},{id:"RL79aa208b54a641d0b62fd8a4d6c546cb",name:"Target:Offer | SARAs:page_data_ready | #010 [logged_out][fuermich] | [target-fuermich]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"fuermich"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.is_loggedIn:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC82985d41fb9046c8bab2a427db12350a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93fc10746fc04e16b0f6d8394c69a00b",name:"Target:Offer | SARAs:page_data_ready | #010 [homepage] | [target-hp-reco]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC368d11766a1e4dd7ac13a85e79c5606c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2cb19f11340e4937bc1b1625d98bfd95",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #002 [consent] | [IVW (init, track-page), Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"consent"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RCcfc820923efc4227abb9cb9473206938-source.min.js",language:"html",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC2cba00dae0e34354a60748ab919d7542-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%Page | IVW Site [co]%::%Page | IVW Code [co]%"}],events:[{name:"event2"}]}}}]},{id:"RLb118702bf7cd420094d1977646383ed4",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #002 [article] | [AT(param2page) STA]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%qs.value.launch-environment:jsv%",rightOperand:"production"},negate:!0}],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{"entity.id":{value:"%editorial.info.article_id:sd%",checked:!0},"entity.rev_name":{value:"%editorial.info.headline:sd%",checked:!0},"entity.rev_intro":{value:"%editorial.info.intro:sd%",checked:!0},"entity.rev_channel":{value:"%editorial.info.channel:sd%",checked:!0},"entity.rev_pageUrl":{value:"%page.info.canonical_url:sd.rwAT%",checked:!0},"entity.rev_categoryId":{value:"%editorial.custom.[categories]:cc%",checked:!0},"entity.rev_headerImageId":{value:"%editorial.info.header_image_id:sd%",checked:!0},"entity.rev_editorial.type":{value:"%editorial.category.type:sd%",checked:!0},"paywall.rev_category.type":{value:"%paywall.category.type:sd%",checked:!0},"entity.rev_attribute.has_author":{value:"%editorial.attributes.has_author:sd.rw%",checked:!0},"paywall.rev_attributes.is_active":{value:"%paywall.attributes.is_active:sd.rwAT%",checked:!0},"entity.rev_attribute.date_modified":{value:"%editorial.info.date_modified:sd.rw%",checked:!0},"entity.rev_attributes.is_listExcluded":{value:"%editorial.attributes.is_listExcluded:sd%",checked:!0},"entity.rev_attributes.is_comments_enabled":{value:"%editorial.attributes.is_comments_enabled:sd%",checked:!0}}}}]},{id:"RLe024ef31eb6b44e496c4c8124bc06697",name:"Media:Audio | SARAs:audio | #100 [-ivw] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=n.toString(),t.contextData["opt.sell"]="N",_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar100",type:"value",value:"%event.attributes.item-media_id:sd%"},{name:"eVar101",type:"value",value:"%event.attributes.state:sd%"},{name:"eVar102",type:"value",value:"audio"},{name:"eVar103",type:"value",value:"%event.attributes.item-type:sd%"},{name:"eVar104",type:"value",value:"%event.attributes.item-title:sd%"},{name:"eVar105",type:"value",value:"%event.attributes.item-series:sd%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"}}]},{id:"RL3b0e0b69132b45d68f0bbfa6fbbbd9e0",name:"Target:Offer | SARAs:page_data_ready | #010 [article|topic | pageview > 1] | [research-umfrage-all]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"visitor"}},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/cb3b620b1166/ef6039176ac3/RC66ff61094a144c0492fc8829e07e24fe-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){var t={exports:{}};return e(t,t.exports),t.exports}function c(e){return Boolean(e&&void 0!==e.length)}function a(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function r(n,a){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e,t=1===n._state?a.onFulfilled:a.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void s(a.promise,e)}o(a.promise,e)}else(1===n._state?o:s)(a.promise,n._value)})):n._deferreds.push(a)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void d((a=n,r=e,function(){a.apply(r,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){s(t,e)}var a,r}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}if(window.atob){var t=function(e,n){function a(){return"true"===e.getItem("debug")}var r=[];return n.outputEnabled=a(),{onDebugChanged:function(e){r.push(e)},getDebugEnabled:a,setDebugEnabled:function(t){a()!==t&&(e.setItem("debug",t),n.outputEnabled=t,r.forEach(function(e){e(t)}))}}},p=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},n="log",m="info",g="debug",f="warn",h="error",v=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":"🚀",b=!1,y=function(e){var t;b&&window.console&&((t=Array.prototype.slice.call(arguments,1)).unshift(v),e!==g||window.console[e]||(e=m),window.console[e].apply(window.console,t))},_=y.bind(null,n),w=y.bind(null,m),P=y.bind(null,g),C=y.bind(null,f),E=y.bind(null,h),k={log:_,info:w,debug:P,warn:C,error:E,deprecation:function(){var e=b;b=!0,y.apply(null,Array.prototype.concat(f,Array.prototype.slice.call(arguments))),e||(b=!1)},get outputEnabled(){return b},set outputEnabled(e){b=e},createPrefixedLogger:function(e){e="["+e+"]";return{log:_.bind(null,e),info:w.bind(null,e),debug:P.bind(null,e),warn:C.bind(null,e),error:E.bind(null,e)}}},S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T=e(function(e){var t;t=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var n,a=arguments[e];for(n in a)t[n]=a[n]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function o(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=s({path:"/"},o.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var a=JSON.stringify(t);/^[\{\[]/.test(a)&&(t=a)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,i="";for(r in n)n[r]&&(i+="; "+r,!0!==n[r]&&(i+="="+n[r].split(";")[0]));return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var n={},a=document.cookie?document.cookie.split("; "):[],r=0;r<a.length;r++){var i=a[r].split("="),o=i.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var s=l(i[0]),o=(c.read||c)(o,s)||l(o);if(t)try{o=JSON.parse(o)}catch(e){}if(n[s]=o,e===s)break}catch(e){}}return e?n[e]:n}}return o.set=n,o.get=function(e){return t(e,!1)},o.getJSON=function(e){return t(e,!0)},o.remove=function(e,t){n(e,"",s(t,{expires:-1}))},o.defaults={},o.withConverter=e,o}(function(){})},e.exports=t()}),j={get:T.get,set:T.set,remove:T.remove},x=window,A=function(n,e){var a="com.adobe.reactor."+(e||"");return{getItem:function(e){try{return x[n].getItem(a+e)}catch(e){return null}},setItem:function(e,t){try{return x[n].setItem(a+e,t),!0}catch(e){return!1}}}},V="dataElements.",O="dataElementCookiesMigrated",I=A("localStorage"),D=A("sessionStorage",V),L=A("localStorage",V),R="pageview",N="session",M="visitor",F={},U=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},q=function(e,t,n){var a;switch(t){case R:return void(F[e]=n);case N:return void((a=U(n))&&D.setItem(e,a));case M:return void((a=U(n))&&L.setItem(e,a))}},H=q,B=function(e,t){var n;switch(t){case R:return F.hasOwnProperty(e)?F[e]:null;case N:return null===(n=D.getItem(e))?n:JSON.parse(n);case M:return null===(n=L.getItem(e))?n:JSON.parse(n)}},W=function(a){I.getItem(O)||(Object.keys(a).forEach(function(e){var t,n;n=a[t=e].storageDuration,void 0!==(e=j.get("_sdsat_"+t))&&q(t,n,e)}),I.setItem(O,!0))},z=function(e,t,n,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(a?"\n"+a:"")},G={text:function(e){return e.textContent},cleanText:function(e){return p(e.textContent)}},J=function(e,t,n){for(var a,r=e,i=0,o=t.length;i<o;i++){if(null==r)return;var s,c=t[i];r=n&&"@"===c.charAt(0)?(s=c.slice(1),G[s](r)):r.getAttribute&&(a=c.match(/^getAttribute\((.+)\)$/))?(s=a[1],r.getAttribute(s)):r[c]}return r},$=function(){function e(e){var t,n,a,r=o(e);return r.hasOwnProperty("exports")||(r.exports=(t=r.definition.script,n=r.require,a=r.turbine,e={exports:{}},t.call(e.exports,e,e.exports,n,a),e.exports)),r.exports}var i={},o=function(e){var t=i[e];if(!t)throw new Error("Module "+e+" not found.");return t};return{registerModule:function(e,t,n,a,r){r={definition:t,extensionName:n,require:a,turbine:r};r.require=a,i[e]=r},hydrateCache:function(){Object.keys(i).forEach(function(t){try{e(t)}catch(e){t="Error initializing module "+t+". "+e.message+(e.stack?"\n"+e.stack:"");k.error(t)}})},getModuleExports:e,getModuleDefinition:function(e){return o(e).definition},getModuleExtensionName:function(e){return o(e).extensionName}}},Y=!1,K=function(a,r,i){function o(e,t,n){return a(t)?(s.push(t),n=r(t,n),s.pop(),null==n&&i?"":n):e}var s=[],n=function(e,n){var t=/^%([^%]+)%$/.exec(e);return t?o(e,t[1],n):e.replace(/%(.+?)%/g,function(e,t){return o(e,t,n)})},c=function(e,t){for(var n={},a=Object.keys(e),r=0;r<a.length;r++){var i=a[r],o=e[i];n[i]=u(o,t)}return n},l=function(e,t){for(var n=[],a=0,r=e.length;a<r;a++)n.push(u(e[a],t));return n},u=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?l(e,t):"object"==typeof e&&null!==e?c(e,t):e};return function(e,t){return 10<s.length?(k.error("Data element circular reference detected: "+s.join(" -> ")),e):u(e,t)}},Q=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(a);return r(this,new u(e,t,n)),n},i.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},i.all=function(t){return new i(function(r,i){if(!c(t))return i(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return r([]);for(var s=o.length,e=0;e<o.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var a=e.then;if("function"==typeof a)return a.call(e,function(e){t(n,e)},i),0}o[n]=e,0==--s&&r(o)}catch(e){i(e)}}(e,o[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(r){return new i(function(e,t){if(!c(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,a=r.length;n<a;n++)i.resolve(r[n]).then(e,t)})},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){Q(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var X,Z,ee=function(n){if(n.__esModule)return n;var a=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(a,e,t.get?t:{enumerable:!0,get:function(){return n[e]}})}),a}(Object.freeze({__proto__:null,default:i})),te="undefined"!=typeof window&&window.Promise||S.Promise||ee.default||ee,ne=te.resolve(),ae=function(o,s,c,l){return function(t,e){var n,a;if(t.conditions)for(var r=0;r<t.conditions.length;r++){n=t.conditions[r];try{var i=o(n,e,[e]);if(a=i,Boolean(a&&"object"==typeof a&&"function"==typeof a.then))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!s(n,i))return c(n,t),!1}catch(e){return l(n,t,e),!1}}return!0}},re=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},ie=function(e,t){return t&&!e.negate||!t&&e.negate},oe=[],se=!1,ce=function(e){se?e():oe.push(e)},le=function(e){var t;return(e=e||new Error("The extension triggered an error, but no error information was provided."))instanceof Error||(t="object"==typeof e?JSON.stringify(e):String(e),e=new Error(t)),e},ue=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,me=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return}}()?Object.assign:function(e){for(var t,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){for(var r in t=Object(arguments[a]))de.call(t,r)&&(n[r]=t[r]);if(ue)for(var i=ue(t),o=0;o<i.length;o++)pe.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n},ge=".js",fe=function(e){return e.substr(0,e.lastIndexOf("/"))},he=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ve=document,be=function(e,t,n,a){n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t=t||"&");t=1e3;a&&"number"==typeof a.maxKeys&&(t=a.maxKeys);var o=e.length;0<t&&t<o&&(o=t);for(var s=0;s<o;++s){var c,l=e[s].replace(i,"%20"),u=l.indexOf(n),u=0<=u?(c=l.substr(0,u),l.substr(u+1)):(c=l,""),l=decodeURIComponent(c),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(r,l)?Array.isArray(r[l])?r[l].push(u):r[l]=[r[l],u]:r[l]=u}return r},ye=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},_e=function(n,a,r,e){return a=a||"&",r=r||"=","object"==typeof(n=null===n?void 0:n)?Object.keys(n).map(function(e){var t=encodeURIComponent(ye(e))+r;return Array.isArray(n[e])?n[e].map(function(e){return t+encodeURIComponent(ye(e))}).join(a):t+encodeURIComponent(ye(n[e]))}).join(a):e?encodeURIComponent(ye(e))+r+encodeURIComponent(ye(n)):""},we=e(function(e,t){t.decode=t.parse=be,t.encode=t.stringify=_e}),Pe="@adobe/reactor-",Ce={cookie:j,document:ve,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n,a,e=(n=e,a=t,new te(function(e,t){a.onload=function(){e(a)},a.onerror=function(){t(new Error("Failed to load script "+n))}}));return document.getElementsByTagName("head")[0].appendChild(t),e},"object-assign":me,promise:te,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),we.parse(e)},stringify:function(e){return we.stringify(e)}},window:x},n=function(e,l,u,d,p){var m,s,c,g=e.extensions,f=e.buildInfo,h=e.property.settings;return g&&(s=g,c=l,m=function(e,t){e=s[e];if(e){var n=e.modules;if(n)for(var a=Object.keys(n),r=0;r<a.length;r++){var i=a[r],o=n[i];if(o.shared&&o.name===t)return c.getModuleExports(i)}}},Object.keys(g).forEach(function(r){var e,t,n,i,a,o,s=g[r],c=(e=d,t=s.settings,function(){return t?e(t):{}});s.modules&&(n=k.createPrefixedLogger(s.displayName),a=s.hostedLibFilesBaseUrl,o=f.minified,i={buildInfo:f,getDataElementValue:p,getExtensionSettings:c,getHostedLibFileUrl:function(e){var t;return o&&((t=e.split(".")).splice(t.length-1||1,0,"min"),e=t.join(".")),a+e},getSharedModule:m,logger:n,propertySettings:h,replaceTokens:d,onDebugChanged:u.onDebugChanged,get debugEnabled(){return u.getDebugEnabled()}},Object.keys(s.modules).forEach(function(t){var n,e=s.modules[t],a=(n=function(e){e=function(e,t){he(t,ge)||(t+=ge);var t=t.split("/"),n=fe(e).split("/");return t.forEach(function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))}),n.join("/")}(t,e);return l.getModuleExports(e)},function(e){if(0===e.indexOf(Pe)){var t=e.substr(Pe.length),t=Ce[t];if(t)return t}if(0===e.indexOf("./")||0===e.indexOf("../"))return n(e);throw new Error('Cannot resolve module "'+e+'".')});l.registerModule(t,e,r,a,i)}))}),l.hydrateCache()),l},h=window._satellite;return h&&!window.__satelliteLoaded&&(window.__satelliteLoaded=!0,T=h.container,delete h.container,V=T.property.settings.undefinedVarsReturnEmpty,S=T.property.settings.ruleComponentSequencingEnabled,W(X=T.dataElements||{}),ee=$(),Ct=ee,kt=function(){return Z.apply(null,arguments)},ve=function(t,e){var n=Et(t);if(!n)return St?"":void 0;var a,r,i=n.storageDuration;try{a=Ct.getModuleExports(n.modulePath)}catch(e){return void k.error(z(n,t,e.message,e.stack))}if("function"==typeof a){try{r=a(kt(n.settings,e),e)}catch(e){return void k.error(z(n,t,e.message,e.stack))}return i&&(null!=r?H(t,i,r):r=B(t,i)),"string"==typeof(r=null==r&&null!=n.defaultValue?n.defaultValue:r)&&(n.cleanText&&(r=p(r)),n.forceLowerCase&&(r=r.toLowerCase())),r}k.error(z(n,t,"Module did not export a function."))},W=function(e,t){if("string"==typeof e)Pt[e]=t;else if(e){var n,a=e;for(n in a)Pt[n]=a[n]}},$=function(e){var t=e.split(".")[0];return Boolean(wt(e)||"this"===t||"event"===t||"target"===t||_t.hasOwnProperty(t))},vt=_t=Pt={},bt=wt=Et=function(e){return X[e]},yt=ve,Z=K($,$=function(e,t){var n,a;return bt(e)?n=yt(e,t):"this"===(e=(a=e.split(".")).shift())?t&&(n=J(t.element,a,!0)):"event"===e?t&&(n=J(t,a)):"target"===e?t&&(n=J(t.target,a)):n=J(vt[e],a),n},St=V),function(e,t,n,a,r){var i=k.createPrefixedLogger("Custom Script");e.track=function(e){k.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name},e.company=t.company,e.buildInfo=t.buildInfo,e.logger=i,e.notify=function(e,t){switch(k.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=a,e.setVar=r,e.setCookie=function(e,t,n){var a="",r={};n&&(a=", { expires: "+n+" }",r.expires=n),k.deprecation('_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+")."),j.set(e,t,r)},e.readCookie=function(e){return k.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),j.get(e)},e.removeCookie=function(e){k.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),j.remove(e)},e.cookie=j,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(k.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})}(h,T,(A=t(A("localStorage"),k)).setDebugEnabled,$,W),n(T,ee,A,Z,ve),ht=h,ft=Z,A=function(e,t){var n=ut(e);dt.log('Condition "'+n+'" for rule "'+t.name+'" was not met.'),pt("ruleConditionFailed",{rule:t,condition:e})},ve=function(e,t,n){var a=st(e);ct.error(ot(a,t.name,n)),lt("ruleConditionFailed",{rule:t,condition:e})},at=st=ut=function(e){var t=mt.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath},De=S,Ye=ae(ae=function(e,t,n){n=n||[];var a=gt.getModuleExports(e.modulePath);if("function"!=typeof a)throw new Error("Module did not export a function.");t=ft(e.settings||{},t);return a.bind(null,t).apply(null,n)},ie,A,ve),Ke=function(t,e){var n;if(t.actions)for(var a=0;a<t.actions.length;a++){n=t.actions[a];try{Qe(n,e,[e])}catch(e){return void Xe(n,t,e)}}Ze(t)},Le=function(e,t){Ye(e,t)&&Ke(e,t)},Ge=ie,Je=ve,$e=A,Me=function(o,t,s,e){return e.then(function(){var i;return new te(function(e,t){var n=We(o,s,[s]),a=o.timeout,r=new te(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))},a)});te.race([n,r]).then(e,t)}).catch(function(e){return clearTimeout(i),e=ze(e),Je(o,t,e),te.reject(e)}).then(function(e){if(clearTimeout(i),!Ge(o,e))return $e(o,t),te.reject()})})},He=ze=le,Be=Xe=function(e,t,n){var a=at(e);rt.error(nt(a,t.name,n)),it("ruleActionFailed",{rule:t,action:e})},Fe=function(s,t,c,e){return e.then(function(){var i,o=s.delayNext;return new te(function(e,t){var n=qe(s,c,[c]);if(!o)return e();var a=s.timeout,r=new te(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+a/1e3+" seconds to complete. "))},a)});te.race([n,r]).then(e,t)}).catch(function(e){return clearTimeout(i),e=He(e),Be(s,t,e),te.reject(e)}).then(function(){clearTimeout(i)})})},Ue=Ze=function(e){et.log('Rule "'+e.name+'" fired.'),tt("ruleCompleted",{rule:e})},Re=function(t,n){return t.conditions&&t.conditions.forEach(function(e){ne=Me(e,t,n,ne)}),t.actions&&t.actions.forEach(function(e){ne=Fe(e,t,n,ne)}),ne=(ne=ne.then(function(){Ue(t)})).catch(function(){})},Ne=tt=it=lt=pt=function(t,n){var e=ht._monitors;e&&(Y||(k.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),Y=!0),e.forEach(function(e){e[t]&&e[t](n)}))},Te=function(e,t){Ne("ruleTriggered",{rule:t}),(De?Re:Le)(t,e)},je=qe=We=Qe=ae,xe=function(e,t){return me(t=t||{},e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return k.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ae=nt=ot=re,Ie=mt=gt=ee,Ve=function(e){var t=e.rule,n=e.event,e=Ie.getModuleDefinition(n.modulePath).name;return{$type:Ie.getModuleExtensionName(n.modulePath)+"."+e,$rule:{id:t.id,name:t.name}}},Oe=et=rt=ct=dt=k,Ee=function(e){var n=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){n.push({rule:t,event:e})})}),n.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},ke=T.rules||[],Se=function(n,e){var a=e.rule,t=e.event;t.settings=t.settings||{};try{var r=Ve(e);je(t,null,[function(e){var t=xe(r,e);n(function(){Te(t,a)})}])}catch(e){Oe.error(Ae(t,a,e))}},Ee(ke).forEach(function(e){Se(ce,e)}),se=!0,oe.forEach(function(e){e()}),oe=[]),h}var Ee,ke,Se,Te,je,xe,Ae,Ve,Oe,Ie,De,Le,Re,Ne,Me,Fe,Ue,qe,He,Be,We,ze,Ge,Je,$e,Ye,Ke,Qe,Xe,Ze,et,tt,nt,at,rt,it,ot,st,ct,lt,ut,dt,pt,mt,gt,ft,ht,vt,bt,yt,_t,wt,Pt,Ct,Et,kt,St;console.warn("Adobe Launch is unsupported in IE 9 and below.")}();

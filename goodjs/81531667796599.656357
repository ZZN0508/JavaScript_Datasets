!function(a,e){"use strict";"function"==typeof define&&define.amd?define("ajax",e):"object"==typeof exports?exports=module.exports=e():a.ajax=e()}(this,function(){"use strict";function r(a){return a||null}function _(a,e,n,t){var r,_,d,u,i=["then","catch","always"].reduce(function(e,n){return e[n]=function(a){return e[n]=a,e},e},{}),o=new XMLHttpRequest,e=function(a,e,n){if("get"!==n.toLowerCase()||!e)return a;n=function(a){return c(a)?function n(t,r){return Object.keys(t).map(function(a){if(t.hasOwnProperty(a)&&void 0!==t[a]){var e=t[a];return a=r?r+"["+a+"]":a,null!==e&&"object"==typeof e?n(e,a):l(a)+"="+l(e)}}).filter(Boolean).join("&")}(a):a}(e),e=-1<a.indexOf("?")?"&":"?";return a+e+n}(e,n,a);return o.open(a,e,!0),o.withCredentials=t.hasOwnProperty("withCredentials"),d=o,u=(u=t.headers)||{},Object.keys(u).forEach(function(a){u[a]&&d.setRequestHeader(a,u[a])}),o.addEventListener("readystatechange",(r=i,_=o,function a(){_.readyState===_.DONE&&(_.removeEventListener("readystatechange",a,!1),r.always.apply(r,s(_)),(200<=_.status&&_.status<300?r.then:r.catch).apply(r,s(_)))}),!1),o.send(c(n)?JSON.stringify(n):n),i.abort=function(){return o.abort()},i}function s(e){var n;try{n=JSON.parse(e.responseText)}catch(a){n=e.responseText}return[n,e]}function c(a){return"[object Object]"===Object.prototype.toString.call(a)}function l(a){return encodeURIComponent(a)}return function(t){return(t=t||{}).baseUrl=t.baseUrl||"",t.method&&t.url?_(t.method,t.baseUrl+t.url,r(t.data),t):["get","post","put","delete"].reduce(function(a,n){return a[n]=function(a,e){return _(n,t.baseUrl+a,r(e),t)},a},{})}}),String.prototype.hashCode=function(){var a=0;if(0==this.length)return a;for(var e=0;e<this.length;e++){a=(a<<5)-a+this.charCodeAt(e);a&=a}return a};var this_u_hash=(21600*Math.round((new Date).getTime()/216e5)).toString().hashCode(),s_ana_x2_url="https://a5xo-eng.spankbang.com/"+(this_u_hash=this_u_hash<1e9?Math.abs(this_u_hash)+1e9:this_u_hash).toString().substring(0,10),ana_d={};function getParameterByName(a){url=window.location.href,a=a.replace(/[\[\]]/g,"\\$&");a=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)").exec(url);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function removeEmpty(e){Object.keys(e).forEach(function(a){null!=e[a]&&""!=e[a]||delete e[a]})}function convert_querystring(a){var e,n=[];for(e in a)a.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));return n.join("&")}function detect_search_bot(){return/bot|baidu|bing|msn|duckduckbot|teoma|slurp|yandex|lighthouse/i.test(navigator.userAgent)}function analytics_track_pageview(a){if(window.is_search_bot)return!1;if(-1!==ana_d.url.indexOf("api/livecamv3"))return!1;if("main_page_view"==a&&1==window.main_pv_tracked)return!1;"main_page_view"==a&&(window.main_pv_tracked=1);a=JSON.parse(JSON.stringify(ana_d));a.type="pgv",a.request_time=Math.round((new Date).getTime()/1e3),removeEmpty(a),ajax({method:"get",url:s_ana_x2_url,data:a,withCredentials:!0})}function analytics_track_event(a,e,n,t,r){if(window.is_search_bot||100<window.total_event_tracked)return!1;if(-1!==ana_d.url.indexOf("api/livecamv3"))return!1;if("dev"==r&&"dev"!=app_branch)return!1;window.total_event_tracked=window.total_event_tracked+1;r=JSON.parse(JSON.stringify(ana_d));if(r.type="ev",r.request_time=Math.round((new Date).getTime()/1e3),r.event_category=a,r.event_label=e,r.event_value=n,removeEmpty(r),"away"==t&&"sendBeacon"in navigator)return navigator.sendBeacon(s_ana_x2_url+"?"+convert_querystring(r)),!0;ajax({method:"get",url:s_ana_x2_url,data:r,withCredentials:!0})}ana_d.type="pv",ana_d.url="",ana_d.url_group="other",ana_d.site_version=site_ui_version,ana_d.site_branch="undefined"==typeof app_branch?"master":app_branch,ana_d.referral_url="",ana_d.referral_domain="",ana_d.traffic_campaign="",ana_d.traffic_source="",ana_d.traffic_medium="",ana_d.site_language="en",ana_d.height="",ana_d.width="",ana_d.user_id="",ana_d.video_id="undefined"==typeof ana_video_id?"":ana_video_id,ana_d.pornstar_id="undefined"==typeof ana_pornstar_id?"":ana_pornstar_id,ana_d.profile_id="undefined"==typeof ana_profile_id?"":ana_profile_id,ana_d.channel_id="undefined"==typeof ana_channel_id?"":ana_channel_id,ana_d.performer_id="undefined"==typeof ana_performer_id?"":ana_performer_id,ana_d.keyword="undefined"==typeof ana_search_keyword?"":ana_search_keyword,ana_d.tag="undefined"==typeof ana_tag_keyword?"":ana_tag_keyword,ana_d.event_category="",ana_d.event_label="",ana_d.event_value="",ana_d.custom_1="undefined"==typeof ana_custom_1?"":ana_custom_1,ana_d.custom_2="undefined"==typeof ana_custom_2?"":ana_custom_2,ana_d.custom_3="undefined"==typeof ana_custom_3?"":ana_custom_3,ana_d.custom_4="undefined"==typeof ana_custom_4?"":ana_custom_4,ana_d.custom_5="undefined"==typeof ana_custom_5?"":ana_custom_5,ana_d.custom_6="undefined"==typeof ana_custom_6?"":ana_custom_6,ana_d.custom_7="undefined"==typeof ana_custom_7?"":ana_custom_7,ana_d.custom_8="undefined"==typeof ana_custom_8?"":ana_custom_8,ana_d.custom_9="undefined"==typeof ana_custom_9?"":ana_custom_9,ana_d.custom_10="undefined"==typeof ana_custom_10?"":ana_custom_10,ana_d.experiment_id="undefined"==typeof ana_experiment_id?"":ana_experiment_id,ana_d.url=window.location.href,-1!==ana_d.url.indexOf("/home")&&(ana_d.url_group="home"),-1!==ana_d.url.indexOf("/video/")&&(ana_d.url_group="video"),-1!==ana_d.url.indexOf("/s/")&&(ana_d.url_group="search"),-1!==ana_d.url.indexOf("/hot/")&&(ana_d.url_group="profile"),-1!==ana_d.url.indexOf("/profile/")&&(ana_d.url_group="profile"),-1!==ana_d.url.indexOf("/channel/")&&(ana_d.url_group="channel"),-1!==ana_d.url.indexOf("/playlist/")&&(ana_d.url_group="playlist"),-1!==ana_d.url.indexOf("/tag/")&&(ana_d.url_group="tag"),-1!==ana_d.url.indexOf("/pornstars")&&(ana_d.url_group="pornstars"),-1!==ana_d.url.indexOf("/pornstar/")&&(ana_d.url_group="pornstar"),-1!==ana_d.url.indexOf("/category/")&&(ana_d.url_group="category"),-1!==ana_d.url.indexOf("/categories")&&(ana_d.url_group="categories"),-1!==ana_d.url.indexOf("/new_videos/")&&(ana_d.url_group="new"),-1!==ana_d.url.indexOf("/trending_videos/")&&(ana_d.url_group="trending"),-1!==ana_d.url.indexOf("/upcoming/")&&(ana_d.url_group="upcoming"),-1!==ana_d.url.indexOf("/interesting/")&&(ana_d.url_group="interesting"),-1!==ana_d.url.indexOf("/most_popular/")&&(ana_d.url_group="most popular"),-1!==ana_d.url.indexOf("/top_rated/")&&(ana_d.url_group="top rated"),-1!==ana_d.url.indexOf("/longest_videos/")&&(ana_d.url_group="longest"),-1!==ana_d.url.indexOf("/users/")&&(ana_d.url_group="user panel"),-1!==ana_d.url.indexOf("/users/upload")&&(ana_d.url_group="upload"),-1!==ana_d.url.indexOf("/users/download")&&(ana_d.url_group="download"),-1!==ana_d.url.indexOf("/tv/")&&(ana_d.url_group="tv"),-1!==ana_d.url.indexOf(".com/live")&&(ana_d.url_group="live"),-1!==ana_d.url.indexOf(".com/live/performer")&&(ana_d.url_group="performer"),"/"!=window.location.pathname&&""!=window.location.pathname||(ana_d.url_group="home"),ana_d.referral_url=document.referrer,ana_d.referral_url&&(ana_d.referral_domain=ana_d.referral_url.match(/:\/\/(.[^/]+)/)[1]),url_utm_campaign=getParameterByName("utm_campaign"),url_utm_source=getParameterByName("utm_source"),url_utm_medium=getParameterByName("utm_medium"),url_utm_campaign&&(ana_d.traffic_campaign=url_utm_campaign),url_utm_medium&&(ana_d.traffic_medium=url_utm_medium),url_utm_source&&(ana_d.traffic_source=url_utm_source),ana_d.site_language=document.getElementsByTagName("html")[0].getAttribute("lang"),ana_d.site_language||(ana_d.site_language="en"),ana_d.height=window.screen.height,ana_d.width=window.screen.width,ana_d.user_id=site_user_id,window.is_search_bot=detect_search_bot(),window.main_pv_tracked=0;var is_ping_tracked=window.total_event_tracked=0;function analytics_ping(a,e){if(window.is_search_bot)return!1;if("dev"==e&&"dev"!=app_branch)return!1;if(-1!==ana_d.url.indexOf("api/livecamv3"))return!1;if(1==is_ping_tracked)return!1;"away"==a&&(is_ping_tracked=1);a=JSON.parse(JSON.stringify(ana_d));a.type="pi",a.request_time=Math.round((new Date).getTime()/1e3),removeEmpty(a),"sendBeacon"in navigator?navigator.sendBeacon(s_ana_x2_url+"?"+convert_querystring(a)):ajax({method:"get",url:s_ana_x2_url,data:a,withCredentials:!0})}analytics_track_pageview("main_page_view");

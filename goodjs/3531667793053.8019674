YUI.add("af-applet-viewmgr",function(e){"use strict";var s="main",p="App-Chrome-on",n="container";function r(e){return e&&(e.isEditView||"settings"===e.get("name"))}function w(e,t){e&&t&&e.destroyView(t,{remove:!0,async:!0})}function t(){}function i(){}function a(){}t.prototype={name:"applet.showview",execute:function(t,e,i){"applet.showview"===e.action||"showview"===e.action?this.showView(t,e.params.guid,e.params):"page.init"===e.action&&t.after("*:showview",function(e){this.showView(t,e.applet&&e.applet.guid||e.target.get("guid"),e.showview)},this),i()},showView:function(e,t,i){var a,o;e.applets&&e.applets[t]&&(a=e.applets[t],o=(i=i||{}).view||s,e=i.region||a.regionForView(o)||s,t="true"===i.destroy||!0===i.destroy,e=a.getRegion(e),(o=a.getView(o))||(o=a.createView(i.view))&&o.render(),o&&(i=e.getView(),e.showView(o),r(o)?a.get(n).addClass(p):a.get(n).removeClass(p),i&&i!==o&&(r(i)||t)&&w(a,i)))}},i.prototype={name:"applet.closeview",execute:function(t,e,i){"applet.closeview"===e.action||"closeview"===e.action?this.closeView(t,e.params.guid,e.params):"page.init"===e.action&&t.after("*:closeview",function(e){this.closeView(t,e.applet&&e.applet.guid||e.target.get("guid"),e.closeview)},this),i()},closeView:function(e,t,i){var a,o;e.applets&&e.applets[t]&&(a=e.applets[t],o="true"===(i=i||{}).destroy||!0===i.destroy,t=r(e=a.getView(i.view))?"edit":a.regionForView(i.view)||s,(i=a.getRegion(t))&&(t===s?i.showView(a.getView(s)):i.closeView()),a.get("container").removeClass("App-Chrome-on"),(r(e)||o)&&w(a,e))}},a.prototype={name:"applet.refreshview",execute:function(e,t,i){"applet.refreshview"!==t.action&&"refreshview"!==t.action||this.refreshView(e,t.params.guid,t.params),i()},refreshView:function(e,t,i){e.applets&&e.applets[t]&&((t=(t=(e=e.applets[t]).getView((i=i||{}).view||"main"))||e.createView(i.view))&&t.refresh(i))}},e.namespace("Af").AppletShowView=t,e.namespace("Af").AppletCloseView=i,e.namespace("Af").AppletRefreshView=a},"@VERSION@",{requires:["af-applet-dom"]});

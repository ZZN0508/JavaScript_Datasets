(window.webpackJsonp=window.webpackJsonp||[]).push([[19,448],{1956:function(t,e,n){"use strict";n.r(e),n.d(e,"clientLoader",(function(){return i}));var r=n(769);function i(t,{props:e}){t.runSaga(r.registerDaybreakMetricsSaga,e)}},754:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"k",(function(){return i})),n.d(e,"n",(function(){return c})),n.d(e,"j",(function(){return o})),n.d(e,"l",(function(){return u})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"m",(function(){return h})),n.d(e,"f",(function(){return b})),n.d(e,"d",(function(){return v}));const r="twc/metrics/SEND_BEACON",i="twc/metrics/TRACK_STRING",c="twc/metrics/FROM_STRING",o="twc/metrics/SEND_IVW_BEACON",u="twc/metrics/SEND_VIDEO_BEACON",a="daybreak-metrics",s="true",d="twc/metrics/SEND_DAYBREAK_IN_VIEW_BEACON",l="twc/metrics/SEND_DAYBREAK_TRACK_STRING",f=1e3,m=.5,h=200,b={root:null,rootMargin:"0px",threshold:[.25,m,.75]},v={threshold:{x:m,y:m}}},758:function(t,e,n){var r=n(92),i=n(225),c=n(762),o=n(759),u=Math.max,a=Math.min;t.exports=function(t,e,n){var s,d,l,f,m,h,b=0,v=!1,O=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function I(e){var n=s,r=d;return s=d=void 0,b=e,f=t.apply(r,n)}function y(t){return b=t,m=r(g,e),v?I(t):f}function p(t){var n=t-h;return void 0===h||n>=e||n<0||O&&t-b>=l}function g(){var t=c();if(p(t))return N(t);m=r(g,function(t){var n=e-(t-h);return O?a(n,l-(t-b)):n}(t))}function N(t){return m=void 0,w&&s?I(t):(s=d=void 0,f)}function k(){var t=c(),n=p(t);if(s=arguments,d=this,h=t,n){if(void 0===m)return y(h);if(O)return clearTimeout(m),m=r(g,e),I(h)}return void 0===m&&(m=r(g,e)),f}return e=o(e)||0,i(n)&&(v=!!n.leading,l=(O="maxWait"in n)?u(o(n.maxWait)||0,e):l,w="trailing"in n?!!n.trailing:w),k.cancel=function(){void 0!==m&&clearTimeout(m),b=0,s=h=d=m=void 0},k.flush=function(){return void 0===m?f:N(c())},k}},759:function(t,e,n){n(42);var r=n(34),i=n(328),c=n(225),o=n(175),u=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=i;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(c(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=c(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=s.test(t);return n||d.test(t)?l(r(t).call(t,2),n?2:8):a.test(t)?NaN:+t}},760:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return d}));var r=n(748),i=n(754);const c=Object(r.a)(i.k),o=Object(r.a)(i.n),u=Object(r.a)(i.j),a=Object(r.a)(i.l),s=(Object(r.a)(i.g),Object(r.a)(i.h)),d=Object(r.a)(i.i)},761:function(t,e,n){var r=n(758),i=n(225);t.exports=function(t,e,n){var c=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(c="leading"in n?!!n.leading:c,o="trailing"in n?!!n.trailing:o),r(t,e,{leading:c,maxWait:e,trailing:o})}},762:function(t,e,n){var r=n(63);t.exports=function(){return r.Date.now()}},765:function(t,e,n){t.exports=n(766)},766:function(t,e,n){var r=n(767);t.exports=r},767:function(t,e,n){n(768);var r=n(17);t.exports=r.Number.isNaN},768:function(t,e,n){n(3)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},769:function(t,e,n){"use strict";n.r(e),n.d(e,"registerDaybreakMetricsSaga",(function(){return N})),n.d(e,"removeFromDaybreakPool",(function(){return k})),n.d(e,"addToDaybreakPool",(function(){return E})),n.d(e,"isInDaybreakPool",(function(){return j})),n.d(e,"useDaybreakMetrics",(function(){return x})),n.d(e,"shouldBeInPool",(function(){return T})),n.d(e,"getValidPercentage",(function(){return V})),n.d(e,"runDaybreakMetrics",(function(){return S})),n.d(e,"DaybreakModuleMetrics",(function(){return _}));n(37);var r=n(92),i=n.n(r),c=n(228),o=n.n(c),u=n(48),a=n.n(u),s=n(328),d=n.n(s),l=n(765),f=n.n(l),m=n(5),h=n(135),b=n.n(h),v=n(761),O=n.n(v),w=n(174),I=n(18),y=n(760),p=n(754);const g=Object(I.createLogger)("daybreak-metrics");function*N(t){try{const{percentage:e,deleteCookie:n}=t,r=yield Object(m.c)(V,e),i=yield Object(m.c)(j),c=yield Object(m.c)(T,r);if(n)return void(yield Object(m.c)(k));if(i||!c)return;yield Object(m.c)(E)}catch(t){g.error(t)}}function*k(){yield Object(m.c)([b.a,b.a.expire],p.a)}function*E(){yield Object(m.c)([b.a,b.a.set],p.a,p.b,{domain:".weather.com"})}function j(){const t=b.a.get(p.a);return t&&t===p.b}function x(){return j()}function T(t){if(f()(t))return!1;if(!t)return!1;return Math.ceil(100*Math.random())<=t}function V(t){const e="number"!=typeof t?d()(t,10):t;return f()(e)?0:e}const D=new a.a;function*S({elementId:t,moduleName:e,reduxStore:n},{moduleMetricsInstances:r=D}={}){const i=yield Object(m.c)(x),c=yield Object(m.c)([r,r.has],e);if(!i||c)return;yield Object(m.c)([r,r.add],e);const o=yield Object(m.c)(C,{elementId:t,moduleName:e,reduxStore:n});yield Object(m.c)([o,o.init])}function*C({elementId:t,moduleName:e,reduxStore:n}){const{dispatch:r}=n;return new _({elementId:t,moduleName:e,dispatch:r})}class _{constructor({elementId:t,moduleName:e,dispatch:n}){this.observerCallback=t=>{const[e]=t;e.isIntersecting&&e.intersectionRatio>=p.c?this.hasInViewBeaconFired||this.timeoutCallback||this.setInViewTimeout():requestAnimationFrame(this.clearInViewTimeout)},this.enableHandlers=()=>{this.intersectionObserver?this.intersectionObserver.observe(this.htmlElement):document.addEventListener("scroll",this.scrollEventHandler)},this.scrollEventHandler=O()(()=>{Object(w.a)(this.htmlElement,p.d)?this.hasInViewBeaconFired||this.timeoutCallback||this.setInViewTimeout():requestAnimationFrame(this.clearInViewTimeout)},p.m),this.setInViewTimeout=()=>{this.hasIntersected=!0,this.timeFirstInView=o()(),this.timeoutCallback=i()(()=>{this.sendInViewBeacon()},p.e)},this.clearInViewTimeout=()=>{this.hasIntersected&&o()()-this.timeFirstInView<p.e&&(clearTimeout(this.timeoutCallback),this.timeoutCallback=null)},this.htmlElement=document.getElementById(t),this.hasIntersected=!1,this.hasInViewBeaconFired=!1,this.timeFirstInView=0,this.timeoutCallback=null,this.intersectionObserver=null,this.sendInViewBeacon=()=>n(Object(y.a)(e)),this.sendTrackString=()=>n(Object(y.b)(e))}init(){IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.observerCallback,p.f)),this.enableHandlers(),this.htmlElement.addEventListener("click",this.sendTrackString)}}}}]);
//# sourceMappingURL=19.DaybreakMetrics.bcf0c0bdb397b9c47279.js.map
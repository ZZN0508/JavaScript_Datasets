(this.dmpJsonp=this.dmpJsonp||[]).push([["interaction"],{"/8ZD":function(e,t,n){"use strict";n.r(t),n.d(t,"__EXPORTED_CSS__",function(){return ne}),n.d(t,"InteractionTypeTracking",function(){return p}),n.d(t,"ActiveElementTracking",function(){return v}),n.d(t,"RLCursorHandler",function(){return j}),n.d(t,"GestureManager",function(){return ee}),n.d(t,"DialogShortcutsLoader",function(){return te});var a=n("2mXy"),r=n("/MKj"),o=n("fLyS"),s=e=>{var t=e.onTouchActivation,n=e.onMouseActivation,r=e.onKeyboardActivation,o=e=>{e.defaultPrevented||t()},s=e=>{e.defaultPrevented||n()},i=e=>{e.defaultPrevented||r({tabKey:9===c(e),shiftKey:e.shiftKey})};document.addEventListener("touchstart",o),document.addEventListener("mousedown",s),document.addEventListener("keydown",i);return{stop:()=>{document.removeEventListener("touchstart",o),document.removeEventListener("mousedown",s),document.removeEventListener("keydown",i)}}},c=e=>e.keyCode||e.which;class i extends a.Component{componentDidMount(){var e=this.props,t=e.onTouchActivation,n=e.onMouseActivation,e=e.onKeyboardActivation;this.interactionTracking=s({onTouchActivation:t,onMouseActivation:n,onKeyboardActivation:e})}componentWillUnmount(){this.interactionTracking.stop()}}var p=Object(r.connect)(()=>({}),n=>({onTouchActivation:()=>{n({type:o.c})},onMouseActivation:()=>{n({type:o.b})},onKeyboardActivation:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.tabKey,e=e.shiftKey;n(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.tabKey,e=e.shiftKey;return{type:o.a,tabKey:t,shiftKey:e}}({tabKey:t,shiftKey:e}))}}))(i),l=n("BY5m"),u={mute:e=>-1<e.className.indexOf("np_ButtonMute"),"volume-slider":e=>-1<e.className.indexOf("np_SliderVolume"),"queue-skip":e=>-1<e.className.indexOf("np_skip"),"seek-slider":e=>"ProgressBarVideo"===e.id,queue:e=>{var t=document.querySelector(".np_DialogQueue");return t&&t.contains(e)}};class d extends a.Component{componentDidMount(){var n,r,o,s,e,t=this.props,i=t.changeActiveElementIdentifier,a=t.changeActiveElementIsAControl;this.activeElementTracking=(n={onActiveElementChanged:e=>{var n,e=e.activeElement;i((n=e)===document.body?"body":Object.keys(u).find(t=>Object(l.l)(n,e=>1===e.nodeType&&u[t](e)))||"other"),a(Boolean(Object(l.f)(e)))}}.onActiveElementChanged,r=null,o=()=>{},s=()=>{var e,t=document.activeElement;r!==t&&(n({previousActiveElement:r,activeElement:t}),e=e=>{o(),e.relatedTarget||s(e)},(r=t).addEventListener("blur",e),o=()=>t.removeEventListener("blur",e))},e=()=>{s()},document.addEventListener("focus",e,!0),s(),()=>{document.removeEventListener("focus",e,!0),o()})}componentWillUnmount(){this.activeElementTracking.stop()}}var v=Object(r.connect)(()=>({}),t=>({changeActiveElementIdentifier:e=>{t({type:o.d,value:e})},changeActiveElementIsAControl:e=>{t({type:o.e,value:e})}}))(d),h=n("VIO4"),b=n("lLiM"),g=n("XgKk"),T=n("sNI+"),y=n("bwe7"),m=n("odYG"),P=n("61Dg"),f=n("Zrx9"),E=n("nAhJ"),k={behaviour:null,reason:null,delay:null},C=e=>{var t,n,r,o=e.props,s=e.prevProps,i=o.pointerIsOnPlayer,a=o.playbackIsPlaying;return o.settingsControls?(e=(r={props:o,prevProps:s}).props,r=r.prevProps,I({props:e,prevProps:r})&&"presentation-entered-fullscreen"===e.controlsAbsenceReason?{behaviour:"hide",reason:"controls-hidden-because-entered-fullscreen"}:(e=(r={props:o,prevProps:s}).props,r=r.prevProps,!I({props:e,prevProps:r})||"auto-hide-after-pointer-is-on-player-stops-matching"!==e.controlsAbsenceReason&&"auto-hide-after-pointer-moved-on-player-stops-matching"!==e.controlsAbsenceReason?(n=(t={props:o,prevProps:s}).props,!t.prevProps.controlsPresent&&n.controlsPresent?{behaviour:"show",reason:"controls-shown"}:k):{behaviour:"hide",reason:"controls-hidden-because-pointer-inactive"})):(n=(t={props:o,prevProps:s}).props,t.prevProps.playbackIsPlaying&&!n.playbackIsPlaying&&i?{behaviour:"showThenDelayHide",reason:"playback-stops-playing",delay:5e3}:(n=(t={props:o,prevProps:s}).props,!t.prevProps.playbackIsPlaying&&n.playbackIsPlaying&&i?{behaviour:"delayHide",reason:"playback-starts-playing",delay:3e3}:Object(E.r)({prevProps:s,props:o})?a?{behaviour:"showThenDelayHide",reason:"pointer-moved-on-player-while-playing",delay:3e3}:{behaviour:"showThenDelayHide",reason:"pointer-moved-on-player-while-paused",delay:5e3}:k))},I=e=>{var t=e.props;return e.prevProps.controlsPresent&&!t.controlsPresent},O=f.default.get("pointer"),S="cursor_auto_hide",A=Object(y.a)({settingsControls:T.g,controlsAbsenceReason:h.a,controlsPresent:h.f,controlsPresenceReason:h.d,playbackIsPlaying:g.l,pointerIsOnPlayer:b.c,pointerPageX:b.f,pointerPageY:b.g});class D extends a.Component{componentDidUpdate(e){var t=this.props,n=t.show,r=t.hide,o=t.delayHide,s=C({props:t,prevProps:e}),t=s.behaviour,e=s.reason,s=s.delay;"show"===t&&n(e),"hide"===t&&r(e),"delayHide"===t&&o(e,s),"showThenDelayHide"===t&&(n(e),o(e,s))}}var j=Object(r.connect)(A,t=>({show:e=>{P.a.stop(S),O.log("show because ".concat(e)),t({type:m.n})},hide:e=>{P.a.stop(S),O.log("hide because ".concat(e)),t({type:m.m})},delayHide:(n,r)=>{P.a.stop(S),O.log("delayHide after ".concat(r,"ms after ").concat(n)),P.a.start(S,r,()=>{t((e,t)=>{Object(b.c)(t())&&(O.log("hide because ".concat(r,"ms elapsed after ").concat(n," and nothing else happened")),e({type:m.m}))})})}}))(D),w=n("peh1"),H=n("D71v"),R=n("Zw0V"),M=n("hrlh"),L=n("eN2K"),x=n("vGkh"),K=n("QK3A"),q=n("lmov"),t=n("oz1E"),_=e=>{var n=e.element,r=e.onPreciseClick,o=null,t=e=>{3===e.which||(o=Object(l.h)(e),n.addEventListener("mouseup",s))},s=e=>{n.removeEventListener("mouseup",s);var t=Object(l.h)(e);(e=>{var t=e.previousPosition,n=e.currentPosition,r=n.x-t.x;if(Math.abs(r)>3)return!1;var o=n.y-t.y;return!(Math.abs(o)>3)})({previousPosition:o,currentPosition:t})&&r(e)};n.addEventListener("mousedown",t);return()=>{n.removeEventListener("mousedown",t),n.removeEventListener("mouseup",s)}},G=(e,t)=>{var n=e.startEvent,r=e.endEvent,e=Object(l.h)(n),n=Object(l.h)(r),r=n.x-e.x;if(Math.abs(r)>t)return!1;e=n.y-e.y;return!(Math.abs(e)>t)},U=(e,t)=>{var n=e.startEvent,e=e.endEvent,n=n.timeStamp;return e.timeStamp-n<t},z=e=>{var n,r=e.element,o=e.onSingleTap,s=e.doubleTapEnabled,i=e.onDoubleTap,a=()=>{n=B({element:r,onCancel:()=>{a()},onEnd:e=>{if(G(t=e,9)&&U(t,1e3))return s()?void(n=B({element:r,onCancel:()=>{a()},msAllocatedToTap:350,onTimeout:()=>{o(e),a()},onEnd:e=>{i(e),a()}})):(o(e),void a());var t;a()}})};a();return()=>{n.stop()}},B=e=>{var n=e.element,t=e.onStart,r=void 0===t?()=>{}:t,o=e.onTimeout,s=e.onEnd,t=e.msAllocatedToTap,i=W(),e=N(n,"mousedown",t=>{r(t);var e=N(n,"mouseup",e=>{i.cleanup(),s({startEvent:t,endEvent:e})});i.registerCleanupCallback(e.unregister)}),t=V(t,()=>{i.cleanup(),o()});return i.registerCleanupCallback(e.unregister),i.registerCleanupCallback(t.unregister),{stop:i.cleanup}},W=()=>{var t=[];return{registerCleanupCallback:e=>{t.push(e)},cleanup:()=>{var e=t.slice();t.length=0,e.forEach(e=>e())}}},N=(t,n,r)=>{var o=e=>{t.removeEventListener(n,o),r(e)};return t.addEventListener(n,o),{unregister:()=>{t.removeEventListener(n,o)}}},V=(e,t)=>{var n=e?setTimeout(t,e):-1;return{unregister:()=>{clearTimeout(n)}}},X=n("pSfM"),f=Object(w.createSelector)([H.b,t.a],(e,t)=>!e&&!t),y=Object(w.createSelector)([R.d,H.b,T.g,t.a],(e,t,n,r)=>!(!t||r||!e&&n)),g=Object(w.createSelector)([R.d,H.b,T.g,h.f],(e,t,n,r)=>!(e||!t||!n||r)),A=Object(w.createSelector)([R.d,H.b,T.g,h.f,t.a],(e,t,n,r,o)=>!(e||!t||!n||!r||o)),T=Object(w.createSelector)([M.a],e=>e),M=Object(w.createStructuredSelector)({interactionModeCurrentIsTouch:H.b,pointerEventsRequiredByAdvertising:t.a,isPreciseClickInteractionEnabled:f,isTapToTogglePlaybackEnabled:y,isTapToShowControlsEnabled:g,isTapToHideControlsEnabled:A,isTapToSeekEnabled:T,vr360InteractionEnabled:q.a,controlsCursorHidden:h.c,controlsPresent:h.f,isReplayScreen:R.c,isSeekingInteractionEnabled:M.c,playShouldRedirectOnsite:L.b,onsiteUrlWithUTMParams:L.a});class Y extends a.Component{constructor(e){super(e),this.setGestureDivRef=this.setGestureDivRef.bind(this)}bookHorizontalTouchAction(){this.gestureDivEl.style.touchAction="pan-y"}freeHorizontalTouchAction(){this.gestureDivEl.style.touchAction="auto"}startPreciseClickDetection(){var e=this.props,t=e.onPreciseClickToTogglePlayback,n=e.onPreciseClickToReloadVideo;this.stopPreciseClickDetection=_({element:this.base,onPreciseClick:()=>{this.props.playShouldRedirectOnsite?window.open(this.props.onsiteUrlWithUTMParams):(this.props.isReplayScreen?n:t)()}})}startTapDetection(){this.stopTapDetection=z({element:this.base,onSingleTap:()=>{var e=this.props;e.isTapToTogglePlaybackEnabled&&(e.playShouldRedirectOnsite?window.open(e.onsiteUrlWithUTMParams):e.onTapToTogglePlayback()),e.isTapToShowControlsEnabled&&e.onTapToShowControls(),e.isTapToHideControlsEnabled&&e.onTapToHideControls()},doubleTapEnabled:()=>this.props.isTapToSeekEnabled,onDoubleTap:e=>{var t=this.props;t.isTapToSeekEnabled&&(e.endEvent.preventDefault(),t.onDoubleTapToQuickSeek(Object(X.c)(e)))}})}componentDidMount(){this.props.isPreciseClickInteractionEnabled&&this.startPreciseClickDetection(),Q(this.props)&&this.startTapDetection(),this.props.interactionModeCurrentIsTouch&&(this.props.isSeekingInteractionEnabled?this.bookHorizontalTouchAction():this.freeHorizontalTouchAction())}componentDidUpdate(e){var t=this.props;J(e,t)&&this.startPreciseClickDetection(),F(e,t)&&this.stopPreciseClickDetection(),Z(e,t)&&this.startTapDetection(),$(e,t)&&this.stopTapDetection(),this.props.interactionModeCurrentIsTouch&&(!e.isSeekingInteractionEnabled&&this.props.isSeekingInteractionEnabled?this.bookHorizontalTouchAction():e.isSeekingInteractionEnabled&&!this.props.isSeekingInteractionEnabled&&this.freeHorizontalTouchAction())}componentWillUnmount(){this.stopPreciseClickDetection&&this.stopPreciseClickDetection(),this.stopTapDetection&&this.stopTapDetection()}setGestureDivRef(e){return this.gestureDivEl=e}render(e){var t=e.interactionModeCurrentIsTouch,n=e.isPreciseClickInteractionEnabled,r=e.isTapToTogglePlaybackEnabled,o=e.isTapToShowControlsEnabled,s=e.isTapToHideControlsEnabled,i=e.vr360InteractionEnabled,e=e.controlsCursorHidden;return Object(a.h)("div",{className:"np_Gesture np_Gesture-".concat(t?"tap":"click"),style:{height:"100%",cursor:e?"none":"auto","pointer-events":n||Q({isTapToTogglePlaybackEnabled:r,isTapToShowControlsEnabled:o,isTapToHideControlsEnabled:s})?"auto":"none"},ref:this.setGestureDivRef},Object(a.h)("div",{className:"np_Gesture np_Gesture-vr360",style:{height:"100%",cursor:e?"none":"move","pointer-events":i?"auto":"none"}}))}}var J=(e,t)=>!e.isPreciseClickInteractionEnabled&&t.isPreciseClickInteractionEnabled,F=(e,t)=>e.isPreciseClickInteractionEnabled&&!t.isPreciseClickInteractionEnabled,Q=e=>{var t=e.isTapToTogglePlaybackEnabled,n=e.isTapToHideControlsEnabled,e=e.isTapToShowControlsEnabled;return t||n||e},Z=(e,t)=>!Q(e)&&Q(t),$=(e,t)=>Q(e)&&!Q(t),ee=Object(r.connect)(M,t=>({onPreciseClickToTogglePlayback:()=>{t(Object(x.R)())},onPreciseClickToReloadVideo:()=>{t(Object(x.E)())},onTapToTogglePlayback:()=>{t(Object(x.R)())},onTapToShowControls:()=>{t(Object(x.G)())},onTapToHideControls:()=>{t(Object(x.F)())},onDoubleTapToQuickSeek:e=>{t(Object(x.F)("tap-to-seek")),t(Object(K.e)()),t(Object(K.b)({direction:e}))}}))(Y),L=n("sWkS"),r=n("dpp8"),M=n("7e/9"),te=Object(M.a)(e=>{e=e.chunk;if(e.loaded){e=e.value.DialogShortcuts;return Object(a.h)(e,null)}return null},{loadRequestedSelector:r.f,load:L.loadDialogChunk}),L=n("vWbH"),ne=[{cssText:n.n(L).a,styleId:"dmp-async-style-gesture-manager"}]},lmov:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("peh1"),o=(n.n(r),n("D71v")),s=n("VIO4"),i=n("XB4t"),a=n("idq+"),t=n("FrIh"),n=n("oz1E"),c=Object(r.createSelector)([i.c,n.a,o.b,s.f,a.j,t.c],(e,t,n,r,o,s)=>!(!e||t||o||n&&r||s))},nAhJ:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"k",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"n",function(){return p}),n.d(t,"z",function(){return l}),n.d(t,"C",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"l",function(){return v}),n.d(t,"g",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"u",function(){return g}),n.d(t,"v",function(){return T}),n.d(t,"q",function(){return y}),n.d(t,"d",function(){return m}),n.d(t,"j",function(){return P}),n.d(t,"a",function(){return f}),n.d(t,"o",function(){return E}),n.d(t,"A",function(){return k}),n.d(t,"p",function(){return C}),n.d(t,"B",function(){return I}),n.d(t,"x",function(){return O}),n.d(t,"y",function(){return S}),n.d(t,"w",function(){return A}),n.d(t,"t",function(){return D}),n.d(t,"r",function(){return w}),n.d(t,"s",function(){return H}),n.d(t,"i",function(){return R});var r=n("zmjU"),o=e=>{return!1===e.props.settingsControls},s=e=>{return!1===e.props.metadataHasMetadata},i=e=>{return e.props.isAlertDialogDisplayed},a=e=>{var t=e.prevProps,e=e.props;return!t.settingsControls&&e.settingsControls},c=e=>{e=e.props;return e.menuSettingsIsOpened||e.shareIsOpened||e.shortcutsIsOpened},p=e=>{return e.props.passwordRequired},l=e=>{var t,n,r=e.props;return n=(t=r).queueIsExpanding,e=r.queueIsExpanded,t=r.queueIsCollapsing,!!n||!t&&!!e},u=e=>{var t,n=e.props;return e=(t=n).shopListIsHovered,t=n.isShopDialogActive,!!e||t},d=e=>{return e.props.isStartScreen},v=e=>{return e.props.isOnEndscreen},h=e=>{return e.props.controlsPresenceRequested},b=e=>{return e.props.controlsAbsenceRequested},g=e=>{return e.props.pointerIsOnPlayer},T=e=>{return!e.props.pointerIsOnPlayer},y=e=>{var t=e.prevProps,e=e.props;return!0===t.pointerIsOnPlayer&&!1===e.pointerIsOnPlayer},m=e=>{return e.props.chromecastStatusIsActive},P=e=>{return e.props.controlsFocusInsideProxy},f=e=>{e=e.props;return e.activeElementIsAControl&&e.activeInteractionIsKeyboard},E=e=>{var t=e.prevProps,e=e.props;return!1===t.playbackIsPaused&&!0===e.playbackIsPaused},k=e=>{return e.props.sequenceIsPreparingNext},C=e=>{var t=e.prevProps,e=e.props;return e.sequenceStep===r.a&&!1===t.playbackHasPlayedOnce&&e.videoSettingsAutoplay},I=e=>{return e.props.sequenceStep===r.a},O=e=>{return e.props.seekIsDragging},S=e=>{return e.props.pointerIsSlidingVolume},A=e=>{return e.props.pointerIsPanning360},D=e=>{return e.props.pointerIsOnAControl},j=e=>{var t=e.prevProps,e=e.props;return t.pointerPageX!==e.pointerPageX||t.pointerPageY!==e.pointerPageY},w=e=>{var t=e.prevProps,e=e.props;return j({prevProps:t,props:e})&&e.pointerIsOnPlayer},H=e=>{var t=e.prevProps,e=e.props;return j({prevProps:t,props:e})&&!e.pointerIsOnPlayer},R=e=>{var t=e.prevProps,e=e.props;return!1===t.fullscreenIsOpened&&!0===e.fullscreenIsOpened}},pSfM:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i});var r=n("BY5m"),o="backward",s="forward",i=e=>{var t=Object(r.h)(e.endEvent),e=e.startEvent.target,t=Object(r.i)({globalX:t.x,globalY:t.y},e),e=e.getBoundingClientRect().width;return t.x<e/2?o:s}},vWbH:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".np_Gesture{bottom:0;position:absolute;width:100%}\n",""]),e.exports=t}}]);

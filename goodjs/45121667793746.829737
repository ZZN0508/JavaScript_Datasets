(this.$WP=this.$WP||[]).push(["mxARhC",(e,t)=>{"use strict";var r,g,c,n,f=[0,15,30,60],b=[],v=/^https?:\/\/[a-z\-\.]+\.tripadvisor\.[a-z\-\.]+/,o=()=>document.hidden,h=e=>"brHasSentTimeRecord"+e,p=e=>{for(var t=0;t<e.length;t++)if(!g.get(h(e[t])))return!1;return!0},S=(e,t)=>{var r={};r.brLandingId=g.get("brLandingId"),r[e]=t,c.set("brLandingInfo",r,1)},T=(e,t)=>{if(e&&!p(f))try{var r=e.brLandingId,n=g.get("brLandingId");r&&n&&r===n&&Object.entries(e).filter(e=>2===(null==e?void 0:e.length)&&"brLandingId"!==e[0]).forEach(e=>{g.set(e[0],e[1])})}catch(e){console.error(e)}},L=(e,t,r)=>{if(!o())for(var n=0;n<e.length;n++){var a=e[n];g.get(h(a))||((n,a,i)=>{var e=setTimeout(()=>{var e,t,r;o()||(e=h(n),t=g.get(e),r=(r=g.get("brStartTimeStamp"))?(a+(Date.now()-r))/1e3:a,t||(i({module:"landingBounceRate",action:n+"s",context:`actualTime : ${r}s`}),g.set(e,!0),S(e,!0)))},Math.max(1e3*n-a,0));b.push(e)})(a,t,r)}},a=()=>{var m=r.useRef(n());r.useEffect(()=>{var e,r,t,n,a,i,o,d,l,s,u=(r=m.current,()=>{var e,t;document.hidden?(()=>{if(!p(f)){for(var e=0;e<b.length;e++)clearTimeout(b[e]);b=[];var t=g.get("brStartTimeStamp"),r=g.get("brTimeElapsed");null!=t&&null!=r&&(t=r+(Date.now()-t),g.set("brTimeElapsed",t),S("brTimeElapsed",t))}})():(e=r,p(f)||(g.set("brStartTimeStamp",Date.now()),t=g.get("brTimeElapsed")||0,L(f,t,e)))});try{c.canUseLocalStorage()&&g.canUseSessionStorage()&&void 0!==document.hidden&&(a=(e=>{for(var t=0;t<e.length;t++)if(null===g.get(h(e[t])))return!1;return null!==g.get("brLandingId")&&null!==g.get("brStartTimeStamp")&&null!==g.get("brTimeElapsed")})(f),o=(i=!!document.referrer)&&!v.test(document.referrer),d=!(null!=(t=window)&&null!=(n=t.performance)&&n.navigation)||0===window.performance.navigation.type,!i&&d||o||!a?((e=>{g.set("brLandingId",Date.now()+Math.floor(1e3*Math.random()).toString()),g.set("brStartTimeStamp",Date.now()),g.set("brTimeElapsed",0);for(var t=0;t<e.length;t++)g.set(h(e[t]),!1)})(f),L(f,0,m.current)):p(f)||(null!==(s=g.get("brTimeElapsed"))&&0!==s||(s=(l=g.get("brStartTimeStamp"))?Date.now()-l:0),g.set("brStartTimeStamp",Date.now()),L(f,s,m.current)),p(f)||(document.addEventListener("visibilitychange",u),e=c.addListener("brLandingInfo",T)))}catch(e){console.error(e)}return()=>{e&&(document.removeEventListener("visibilitychange",u),e())}},[])},i=()=>(a(),null);return[()=>{e("default",i),e("useBounceRateTracking",a)},[e=>r=e,e=>g=e.default,e=>c=e.default,e=>n=e.useGARecorder]]},["cDcdfi","qKFflQ","jaCyxS","fsml46"]]);

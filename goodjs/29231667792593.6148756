!function(i){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=i,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=9)}([function(t,e,i){"use strict";i.d(e,"e",function(){return o}),i.d(e,"d",function(){return a}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return v}),i.d(e,"a",function(){return h});var s=i(2),n=i(4),d=i(1),c=["NV_LOADED","NV_START","NV_REPLAY","AD_25","AD_50","AD_75","AD_100","NV_25","NV_50","NV_75","NV_100","INVIEW","IMP","VIEWABLE_IMP","AD_PAUSE","AD_PLAY","NV_PAUSE","NV_PLAY","AD_MUTE","AD_UNMUTE","NV_MUTE","NV_UNMUTE","NV_CLICK","NV_CLICK_THRU","CLICK","NV_TIMELINE_CLICK","NV_SUGGESTION_CLICK","CLICK_SHARE","FALLBACK","WF_END","DISP_REQUEST","DISP_IMP","DISP_NOAD","DISP_B_REQUEST","DISP_B_IMP","DISP_B_NOAD","DISP_C_REQUEST","DISP_C_IMP","DISP_C_NOAD","RC_PLAY","RC_PAUSE","RC_INVIEW"];function o(t,e,i){if(t){e=s.h.tracking+"?event="+t+r(t,e,i);if(document.createElement("img").src=e+"&cb="+Object(d.z)(),i.tagConfig.CustomTracking&&Object(d.p)(i.tagConfig.CustomTracking[t]))for(var n=i.tagConfig.CustomTracking[t],o=0;o<n.length;o++)document.createElement("img").src=n[o]+"&cb="+Object(d.z)()}}function a(t,e,i){navigator.sendBeacon&&(i="event="+t+r(t,e,i),navigator.sendBeacon(s.h.tracking,i))}function r(t,e,i){var n="";i.tagConfig.AppBundle?(n+="&app_bundle="+encodeURIComponent(i.tagConfig.AppBundle),n+="&user_agent="+encodeURIComponent(navigator.userAgent),i.tagConfig.SubID&&(n+="&source_id="+encodeURIComponent(i.tagConfig.SubID))):n+="&page_url="+String(i.env.pageUrl).substring(0,500),n+="&pub_id="+i.tagConfig.PublisherID,n+="&channel_id="+i.tagConfig.ChannelID,n+="&placement_id="+i.tagConfig.PlacementID,n+="&ad_unit_type="+i.tagConfig.AdUnitType,n+="&session_id="+i.env.sessionId,n+="&focus="+Object(d.m)(),n+="&player="+i.tagConfig.Player,i.env.pageLanguage&&(n+="&pageLanguage="+i.env.pageLanguage.toLowerCase());var o=i.topDiv&&i.topDiv.querySelector("#vi-stories-main-container");o&&(n+="&placement_w="+o.offsetWidth,n+="&placement_h="+o.offsetHeight);var s=i.topDiv&&i.topDiv.querySelector("#vi-stories-player-container"),s=s&&s.querySelector("video.HTMLPlayer-module__video");s&&(n+="&video_w="+s.offsetWidth,n+="&video_h="+s.offsetHeight);var a,r,s=Object(d.n)();if(s.performance&&s.performance.timing&&s.performance.timing.fetchStart&&(n+="&time_delta="+(Date.now()-s.performance.timing.fetchStart)),i.tagConfig.Unblocker&&i.env.unblocked&&(n+="&unblocked=true"),i.env.fif&&(r=(r=window.frameElement&&i.env.fif&&window.top.document.getElementById("framePlaceHolder"))&&"none"!==r.style.display&&r||window.frameElement||o,r=Object(d.i)(r)),"ERROR"!==t&&"ERROR_HAI"!==t&&"WARNING"!==t&&i.env.fif&&!i.env.amp&&i.tagConfig.CheckUnitOverlap&&-1!==i.tagConfig.CheckUnitOverlap.indexOf(t)&&(i.state.adUnitInView||i.state.adUnitIsFloated)&&(a=Object(d.a)(o)),"INFO"===t&&(o="lazy:",i.tagConfig.LazyLoading?o+="on, loading:paused "+i.env.lazyPaused+"ms, trigger:"+i.env.lazyTrigger:o+="off",e&&e.vendorData&&(o+=" / "+e.vendorData,delete e.vendorData),n+="&data="+o),e){for(var l in a&&(e.overlapped=a),i.env.amp&&(e.amp=!0),i.env.abTestingId&&(e.ab_testing_id=i.env.abTestingId),!0===i.state.defaultVideo&&(e.nv_fallback=!0),r&&(e.position_on_page=r),0<i.tagConfig.PlaylistMode&&(e.playlist_pos=i.videoIdx+1),i.video[i.videoIdx].matchedCategoryCode&&(e.matchedCategory=i.video[i.videoIdx].matchedCategoryCode),e.mobile=Object(d.q)(),e.floating=!!i.state.adUnitIsFloated,e.error_msg&&(e.error_msg=e.error_msg.substring(0,500)),-1!==c.indexOf(t)&&(e.nv_video_id=i.video[i.videoIdx].id,e.nv_source_id=i.video[i.videoIdx].sourceId,e.nv_feed_id=i.video[i.videoIdx].feedId),e.hasOwnProperty("in_view")||(e.in_view=i.state.adUnitInView||i.state.adUnitIsFloated||!1),e)e.hasOwnProperty(l)&&(n+="&"+l+"="+e[l]);"ERROR"!==t&&"ERROR_HAI"!==t||!e.error_msg||console.log("VI_ERROR: "+e.error_msg)}return n}function l(t,e,i){Object(n.b)("https://pixel.adsafeprotected.com/jload?anId=927929&advId=vi_stories&campId=vi_stories&pubId="+t+"&chanId="+e+"&placementId="+i)}function v(l){return new Promise(function(n,t){var e=Object(d.n)(),i=window.__tcfapi||e.__tcfapi,e=window.__cmp||e.__cmp,o="function"==typeof i?{func:i,command:"addEventListener",name:"tcf2",version:2}:"function"==typeof tcf1API?{func:e,command:"getConsentData",name:"iab",version:null}:null,s="";function a(t,e){n(l?{gdpr:{applies:l.env.isEU?1:0,consent:"",extra:{cmpFramework:t,gdprApplies:l.env.isEU,gdprStatus:e,consent:0,segments:l.video[l.videoIdx].segments||""}}}:{})}if(!o){e=Object(d.e)();return l&&l.env.amp&&l.env.consent?void n({gdpr:{applies:l.env.isEU?1:0,consent:l.env.consent,extra:{cmpFramework:"amp",gdprApplies:l.env.isEU,gdprStatus:"ok",consent:l.env.consent,segments:l.video[l.videoIdx].segments||""}}}):!l&&e&&e.initialConsentValue?void n({gdpr:{applies:1,consent:e.initialConsentValue}}):void a("false","none")}var r=setTimeout(function(){r=null,a(o.name,"timeout"+(s?"-"+s:""))},1e3);o.func(o.command,o.version,function(t,e){var i;t&&t.eventStatus&&(s=t.eventStatus),t&&void 0!==t.gdprApplies&&"cmpuishown"===t.eventStatus&&e||!r||(clearTimeout(r),!t||void 0===t.gdprApplies||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus&&void 0!==t.eventStatus||!e&&void 0===t.consentData?a(o.name,"invalid"):(e=t.tcString||t.consentData||0,l&&(l.env.consent=e,i="TCF: purpose 1: "+(t.purpose&&t.purpose.consents&&t.purpose.consents[1])+", consent: "+(t.vendor&&t.vendor.consents&&t.vendor.consents[190]),i={cmpFramework:o.name,gdprApplies:t.gdprApplies,gdprStatus:"ok",consent:l.env.consent,segments:l.video[l.videoIdx].segments||"",vendorData:i}),n({gdpr:{applies:t.gdprApplies?1:0,consent:e,extra:i}})))})})}function h(t){return new Promise(function(i,t){"function"!=typeof __uspapi&&i({});var n=setTimeout(function(){n=null,i({})},1e3);__uspapi("getUSPData",1,function(t,e){n&&(clearTimeout(n),e&&t.uspString?i({ccpa:{uspString:t.uspString}}):i({ccpa:{}}))})})}},function(module,__webpack_exports__,__webpack_require__){"use strict";function s3(){return Math.floor(46656*(1+Math.random())).toString(36).substring(1)}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function sid(){return s3()+s3()+s3()+s3()}function isiOS(){return/iPhone|iPod|iPad/.test(navigator.userAgent)}function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}function isVisible(t){for(;t;){if(t===document||"#document"===t.nodeName)return!0;var e=window.getComputedStyle(t,null);return!(!t||!e||"none"===e.display||"hidden"===e.visibility||0===e.opacity)&&("fixed"===e.position||isVisible(t.parentNode))}}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function isNumber(t){return"[object Number]"===Object.prototype.toString.call(t)}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isNodeList(t){return"[object NodeList]"===Object.prototype.toString.call(t)}function isHtmlCollection(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)}function get(t,e){for(var i in e=(e+"").toLowerCase(),t)if(t.hasOwnProperty(i)&&e==(i+"").toLowerCase())return t[i];return null}function set(t,e,i){var n,o=(e+"").toLowerCase();for(n in t)if(t.hasOwnProperty(n)&&o==(n+"").toLowerCase())return t[n]=i,0;t[e]=i}function extend(){if(!arguments)return{};for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]||{});return t.reduce(function(i,n){return Object.keys(n).forEach(function(t){var e=get(n,t);set(i,t,e)}),i},t[0])}function shuffleArray(t){for(var e,i=t.slice(),n=i.length-1;0<n;n--){var o=[i[e=Math.floor(Math.random()*(n+1))],i[n]];i[n]=o[0],i[e]=o[1]}return i}function replaceInObject(t,e,i,n){return isObject(t)&&isString(t[e])&&(t[e]=t[e].replace(i,n)),t}function replacePropInArray(t,e,i,n){return isArray(t)?t.map(function(t){return replaceInObject(t,e,i,n)}):t}function weightedRandom(t,e){for(var i=e.reduce(function(t,e){return t+e}),n=Math.random()*i,o=0,s=0;s<t.length;s++)if(o+=e[s],n<=(o=parseFloat(o.toFixed(2))))return t[s]}function convertTime(t){var e=0,i=0,n="00:00:00";return n=t?(e=(e=Math.floor(t/60))<10?"0"+e:e)+":"+(i=(i=Math.floor(t%60))<10?"0"+i:i):n}function throttle(e,i,t){var n=t||window,o=0;return function(){var t=Date.now();i-(t-o)<=0&&(o=t,e.apply(n,arguments))}}function placementSelector(t,e,i){e=document.querySelector(e)||window.top.document.querySelector(e);return e?("exact"===t?i=e:"inside"===t?e.appendChild(i):"before"===t?e.parentNode.insertBefore(i,e):"after"===t&&e.parentNode.insertBefore(i,e.nextSibling),i):null}function getAmpContext(){var t=window.AMP_MODE||window.__AMP_MODE;return t&&t.version&&window.context||window.AMP_CONTEXT_DATA}function getTopWindow(){var t=window;try{t=window.top.document&&window.top}catch(t){}return t}function getTopDocument(){var t=window.document;try{t=window.top.document}catch(t){}return t}function getDomain(){var t,e=getAmpContext(),i=getTopWindow(),n="";try{t=e?e.sourceUrl:i.location.href,n=e?getDomainFromUrl(t):i.location.hostname}catch(e){}return n}function getDomainFromUrl(t){t=t.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]||""}function getUrlFromAmpCacheUrl(t){t=t.match(/^(https?\:\/\/)\S*\.cdn\.ampproject\.org\/[vc]\/(?:s\/)?(\S*)/i);return t&&t[1]+t[2]||""}function getElementPositionInPage(t){if(!t)return null;var e=window.frameElement&&window.top||window,i=e.document.documentElement,n=e.document.body,i=Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),e=t.getBoundingClientRect().top+e.pageYOffset;return Math.floor(e/i*100)}function findTopDiv(t,e){return!(!t.parentNode||t.parentNode.id!==e)||!(!t.parentNode||"html"===t.parentNode.nodeName.toLowerCase()||"body"===t.parentNode.nodeName.toLowerCase())&&findTopDiv(t.parentNode,e)}function checkOverlap(e){if(!window.frameElement){var t=e.getBoundingClientRect(),i=[],n=0;return i.push(document.elementFromPoint(t.left+1,t.top+1)),i.push(document.elementFromPoint(t.left+1,t.top+(t.height-1))),i.push(document.elementFromPoint(t.left+(t.width-1),t.top+1)),i.push(document.elementFromPoint(t.left+(t.width-1),t.top+(t.height-1))),i.push(document.elementFromPoint(t.left+t.width/2,t.top+t.height/2)),i.forEach(function(t){t&&!findTopDiv(t,e.id)&&n++}),(n/5).toFixed(2)}}function elemInsideViewport(t){t=t.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function parseQueryString(t){var e={};if(isString(t))for(var i=("?"===t[0]?t.substr(1):t).split("&"),n=0;n<i.length;n++){var o=i[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return e}function getQueryStringParameter(t,e){e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function setQueryStringParameter(t,e,i){var n,o=document.createElement("a"),s=/(?:\?|&amp;|&)+([^=]+)(?:=([^&]*))*/g,a=[];for(o.href=t;(n=s.exec(o.search))&&e!==n[1]&&a.push(n[1]+(n[2]?"="+n[2]:"")),n;);return a.push(e+(i?"="+encodeURIComponent(i):"")),o.search=a.join("&"),o.href}function getPageInfo(t){return t&&(actions.getPageInfoFromMeta("property","og:"+t,"last")||actions.getPageInfoFromDoc(t)||actions.getPageInfoFromHtml(t)||actions.getPageInfoFromDom(t,"first")||actions.getPageInfoFromAnyMeta(t,"first"))||""}function getTabFocus(){var t="unknown";try{t=window.top.document.hasFocus()}catch(t){}return t}function getTopLevelIabCatregories(t){return isString(t)?t.match(/IAB\d+/gi):isArray(t)?t.map(function(t){return isString(t)?t.match(/IAB\d+/gi):""}).join().split(",").filter(function(t,e,i){return i.indexOf(t)===e}):t}function getShortVersionIabCatregories(t){return isString(t)?t.match(/\d+(-\d+)?/gi):isArray(t)?t.map(function(t){return isString(t)?t.match(/\d+(-\d+)?/gi):""}).join().split(",").filter(function(t,e,i){return i.indexOf(t)===e}):t}function runCustomActions(customActions,config){for(var i=0;i<customActions.length;i++){var customAction=customActions[i],customCondition=void 0,customResult=void 0,customParams=void 0;if("js"===customAction.type&&!customAction.done){if(customAction.condition)try{customCondition=eval(customAction.condition)}catch(t){}else customCondition=!0;if(customCondition){try{customResult=eval(customAction.action)}catch(t){}if("function"==typeof customResult){if(customAction.params)try{customParams=eval(customAction.params)}catch(t){}customResult(customParams)}customAction.done=!0}}}}function getCustomParams(customParams,config){var extra={};if(customParams)for(var customParam,customParamValue,customParamOp,i=0;i<customParams.length;i++){if(customParam=customParams[i],customParamValue="","js"===customParam.type)try{customParamValue=eval(customParam.value)}catch(t){}else"dom"===customParam.type&&(customParamValue=getTopDocument().querySelector(customParam.value));if(customParamValue&&customParam.transforms)for(var j=0;j<customParam.transforms.length;j++)customParamOp=customParam.transforms[j],operations[customParamOp.op]&&(customParamValue=operations[customParamOp.op].apply(customParamValue,customParamOp.params));null==customParamValue&&(customParamValue=""),extra[customParam.param]=customParamValue}return extra}function getCustomKeywordParams(t){var e={};if(t)for(var i,n,o,s,a,r=0;r<t.length;r++)a=[],-1!==(n=(i=t[r]).scope||"title, description, keywords, h1, h3, p").indexOf("title")&&a.push(getPageInfo("title")),-1!==n.indexOf("description")&&a.push(getPageInfo("description")),a=(a=-1!==n.indexOf("keywords")?a.concat(actions.getPageInfoFromMeta("name","keywords","all")||[]):a).concat(function(e){return["h1","h2","h3","h4","h5","h6","li","div","span"].filter(function(t){return-1!==e.indexOf(t)}).reduce(function(t,e){return t.concat(actions.getPageInfoFromDom(e,"all")||[])},[])}(n)),a=(a=-1!==n.indexOf("p")?a.concat((actions.getPageInfoFromDom("p","all")||[]).filter(function(t){return 10<=t.split(" ").length})):a).join().toLowerCase(),isArray(n=isString(i.keys)&&i.keys.toLowerCase().split(","))&&(n=operations.opTrim.apply(n),n=operations.opCreateRegExp.apply(n,["[S]*","[S]*"]),s=operations.opSearch.apply(a,[n]),s=operations.opFilterOut.apply(s,[""]),o=operations.opJoin.apply(s),s=operations.opLength.apply(s),s=operations.opEvaluate.apply(s,["1","0"])),e[i.param||o]=s=null==s?"":s;return e}function widthClass(t){return 800<=t?"vi-stories-width-min-800":700<=t&&t<800?"vi-stories-width-700-800":600<=t&&t<700?"vi-stories-width-600-700":500<=t&&t<600?"vi-stories-width-500-600":t<500?"vi-stories-width-max-500":"vi-stories-no-class"}function addCssRule(t,e,i,n){t=document.getElementById(t),t=t&&(t.sheet||t.styleSheet);t&&(t.insertRule?t.insertRule(e+"{"+i+"}",n):t.addRule(e,i,n))}__webpack_require__.d(__webpack_exports__,"z",function(){return s4}),__webpack_require__.d(__webpack_exports__,"C",function(){return sid}),__webpack_require__.d(__webpack_exports__,"v",function(){return isiOS}),__webpack_require__.d(__webpack_exports__,"q",function(){return isMobile}),__webpack_require__.d(__webpack_exports__,"u",function(){return isVisible}),__webpack_require__.d(__webpack_exports__,"p",function(){return isArray}),__webpack_require__.d(__webpack_exports__,"r",function(){return isNumber}),__webpack_require__.d(__webpack_exports__,"s",function(){return isObject}),__webpack_require__.d(__webpack_exports__,"t",function(){return isString}),__webpack_require__.d(__webpack_exports__,"d",function(){return get}),__webpack_require__.d(__webpack_exports__,"c",function(){return extend}),__webpack_require__.d(__webpack_exports__,"B",function(){return shuffleArray}),__webpack_require__.d(__webpack_exports__,"x",function(){return replacePropInArray}),__webpack_require__.d(__webpack_exports__,"E",function(){return weightedRandom}),__webpack_require__.d(__webpack_exports__,"b",function(){return convertTime}),__webpack_require__.d(__webpack_exports__,"D",function(){return throttle}),__webpack_require__.d(__webpack_exports__,"w",function(){return placementSelector}),__webpack_require__.d(__webpack_exports__,"e",function(){return getAmpContext}),__webpack_require__.d(__webpack_exports__,"n",function(){return getTopWindow}),__webpack_require__.d(__webpack_exports__,"h",function(){return getDomainFromUrl}),__webpack_require__.d(__webpack_exports__,"o",function(){return getUrlFromAmpCacheUrl}),__webpack_require__.d(__webpack_exports__,"i",function(){return getElementPositionInPage}),__webpack_require__.d(__webpack_exports__,"a",function(){return checkOverlap}),__webpack_require__.d(__webpack_exports__,"k",function(){return getQueryStringParameter}),__webpack_require__.d(__webpack_exports__,"A",function(){return setQueryStringParameter}),__webpack_require__.d(__webpack_exports__,"j",function(){return getPageInfo}),__webpack_require__.d(__webpack_exports__,"m",function(){return getTabFocus}),__webpack_require__.d(__webpack_exports__,"l",function(){return getShortVersionIabCatregories}),__webpack_require__.d(__webpack_exports__,"y",function(){return runCustomActions}),__webpack_require__.d(__webpack_exports__,"g",function(){return getCustomParams}),__webpack_require__.d(__webpack_exports__,"f",function(){return getCustomKeywordParams}),__webpack_require__.d(__webpack_exports__,"F",function(){return widthClass});var actions={getPageInfoFromAnyMeta:function(t,e){var i="";return"first"===e||"last"===e?i=actions.getPageInfoFromMeta("name",t,e)||actions.getPageInfoFromMeta("http-equiv",t,e)||actions.getPageInfoFromMeta("property",t,e)||actions.getPageInfoFromMeta("property","og:"+t,e):"all"===e&&(i=[actions.getPageInfoFromMeta("name",t,"all"),actions.getPageInfoFromMeta("http-equiv",t,"all"),actions.getPageInfoFromMeta("property",t,"all"),actions.getPageInfoFromMeta("property","og:"+t,"all")].filter(function(t){return!!t}).join()),i},getPageInfoFromDoc:function(t){return getTopDocument()[t]},getPageInfoFromDom:function(t,e){var i="",t=getTopDocument().getElementsByTagName(t);return 0<t.length&&("first"===e?i=t[0]&&t[0].textContent:"last"===e?i=t[t.length-1]&&t[t.length-1].textContent:"all"===e&&(i=Array.prototype.map.call(t,function(t){return t.textContent}))),i},getPageInfoFromHtml:function(t){var e=getTopDocument().getElementsByTagName("html")[0];return e&&e.getAttribute(t)},getPageInfoFromMeta:function(t,e,i){var n="",e=getTopDocument().querySelectorAll("meta["+t+"='"+e+"']");return 0<e.length&&("first"===i?n=e[0].getAttribute("content"):"last"===i?n=e[e.length-1].getAttribute("content"):"all"===i&&(n=Array.prototype.map.call(e,function(t){return t.getAttribute("content")}))),n}},operations={opComparisonOper:function(t,e){switch(t){case"==":return this==e;case"!=":return this!=e;case"===":return this===e;case"!==":return this!==e;case">":return e<this;case">=":return e<=this;case"<":return this<e;case"<=":return this<=e}return this},opCreateRegExp:function(e,i){return isString(this)?new RegExp((e||"")+this+(i||"")):isArray(this)?this.map(function(t){return isString(t)?new RegExp((e||"")+t+(i||"")):""}):this},opEvaluate:function(t,e){return this?t:e},opFilterIn:function(e){return isArray(this)?this.filter(function(t){return isArray(e)?-1!==e.indexOf(t):t===e}):this},opFilterOut:function(e){return isArray(this)?this.filter(function(t){return isArray(e)?-1===e.indexOf(t):t!==e}):this},opJoin:function(){return isArray(this)?this.join():this},opLength:function(){return isString(this)||isArray(this)?this.length:this},opReplace:function(e,i){return isString(this)?this.replace(e,i):isArray(this)?this.map(function(t){return isString(t)?t.replace(e,i):""}):this},opSearch:function(t){if(isString(this)){if(isString(t)||isRegExp(t))return-1!==this.search(t)?t:"";if(isArray(t))return t.map(function(t){return-1!==this.search(t)?t:""},this)}return this},opSplit:function(t){return isString(this)?this.split(t):this},opToLowerCase:function(){return isString(this)?this.toLowerCase():isArray(this)?this.map(function(t){return isString(t)?t.toLowerCase():""}):this},opToUpperCase:function(){return isString(this)?this.toUpperCase():isArray(this)?this.map(function(t){return isString(t)?t.toUpperCase():""}):this},opTrim:function(){return isString(this)?this.trim():isArray(this)?this.map(function(t){return isString(t)?t.trim():""}):this}}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return a}),i.d(e,"f",function(){return r}),i.d(e,"g",function(){return l}),i.d(e,"h",function(){return d}),i.d(e,"b",function(){return c});var n={tagConfig:{AbTesting:null,AccentColor:"",AccentTextColor:"",AdUnitType:"2",AllowMultipleInstances:!1,AllowNonFriendlyIframe:!1,AppBundle:"",AppPageTitle:"",AppPageUrl:"",AreaAbovePlaceholder:!1,AutoStart:!1,BG_Color:"",BlockCookieSync:!1,BorderColor:"",CallbackFunction:null,CheckUnitOverlap:"IMP, VIEWABLE_IMP, AD_50, AD_100, NV_LOADED",ClickToPlay:!1,ClickToPlayAdSources:!1,CloseButton:"whileFloating",CloseButtonSettings:{location:"outside-vi-unit",position:"top-right"},CompanionAds:null,ContentClickthrough:"",CustomActions:null,CustomAdParams:null,CustomMetaParams:null,CustomParams:null,CustomTracking:null,CustomTrackingUrlDispImp:"",CustomTrackingUrlDispBImp:"",CustomTrackingUrlError:"",CustomTrackingUrlImpression:"",CustomTrackingUrlPlacement:"",CustomViCSS:"",DefaultVideo:null,DelayWaterfallStart:!1,DemoVideos:null,DisplayAd:null,DisplayBanner:null,DivID:"",FallbackTag:"",FallbackTagSettings:{waitForAdReady:!1},FixedRatio:null,Float:!0,FloatLayoutMode:"",FloatLayoutSettings:{ribbonPlayerWidth:.47},FloatSettings:{any:{transformOrigin:"bottom right",position:{bottom:"0px",right:"0px"},originSelector:"",originOffset:{}},floatOnPaused:!1,floatFromStart:!1},FloatSize:.75,FloatLimit:336,Font:"",FontSize:"",FullscreenButton:!1,GdprConsent:0,HideUnit:"",IAB_Category:"",IASPixelEnabled:!0,IncludeVideoKeywords:!1,InViewRatio:.5,JumpOutOfIframe:!1,Keywords:"",KeywordSearch:null,KeywordStop:null,Language:"en-US",LazyLoading:!1,LazyLoadingSettings:{offset:"500px",pageLoad:!0,pageScroll:!1,timeout:3},LogoUrl:"https://s.vi-serve.com/vi_logo.svg",OverlayMode:0,OverlaySettings:{showLogoOutside:!1},PauseOutOfView:!1,PauseOutOfViewSettings:{beforeSeconds:0},PauseOutOfViewPlaylist:!0,PlacementSelector:null,Player:"playerVI",PlayerAdOverlayText:"",PlayerContentOverlayThumbnail:!1,PlayerContentOverlayText:"",PlayerContentOverlayTime:10,PlayerOverlayTextPosition:"top-right",PlayerSuggestionOverlay:"",PlayerSuggestionOverlayNo:4,PlayInView:!1,PlayInFocus:!1,PlaylistLength:5,PlaylistMode:1,PlaylistSettings:{ui:"none",autoScroll:!0},PlaylistRandomOrder:!1,Prebid:!1,Resize65:!0,Resize65Ratio:1.2,ResizeCheckAfterLoad:!0,ResizeIframe:null,SendPageKeywords:!0,ShoppableVideo:!1,SocialSharing:null,SponsorPosition:"bottom-right",StopCondition:"",TextAbove:"",ThumbnailUrl:null,Text_Color:"",TimeTrackerInterval:0,TimeTrackerLimit:600,TitleText:null,TruncateTitleLines:2,Unblocker:null,UnmuteOverlay:null,UnmuteOnClickStart:!0,UseAllCategories:!1,UseOnlyCategories:!1,UserCategories:"",VideoIds:"",VideoUrl:null,ZIndexBase:899,ZIndexFloat:901},remoteControlConfig:{CustomViCSS:"",Enable:!1,HideAfterStart:!1,OpenAnim:!1,PlacementSelector:null},prebidConfig:{url:"",bidderTimeout:2e3,adUnits:[],startInView:!0,consentManagement:!0,globalVarName:"pbjsVidInt"},playerConfig:{publisherId:"58c25bb0073ef448b1087ad6",passBackUrl:"",ref1:{},width:100,height:0,errorLimit:6,HD:!0,autoPlay:!0,playOnView:!0,playOnViewPerc:50,pauseOnUnseen:!1,pauseOnBlur:!1,autoSound:!1,unMuteOnMouseEnter:!1,preroll:1,midrolltime:5,vastRetry:3,loop:!1,logo:!1,timelineMode:"overlay",soundButton:!0,pauseButton:!0,showTimeline:!0,timelineChange:!0,preloader:{type:"content",link:"",poster:"",clickthrough:"",autoplay:!1},maximp:3,maxrun:30,customLogo:{link:"",height:30,width:30,text:"",clickthrough:""},closeButton:!1,skipTimer:0,skip:!1,skipText:"",openAnim:!1,imaiosskip:!0,maxWidth:"1640",templateType:"1",position:"aniplayer_JS1",aniBox:"aniBox",wrapper:"wrapper"},viPlayerConfig:{src:"",muted:!0,skipTimer:0,openAnim:!1,preroll:1,midroll:1,midrolltime:5,maximp:3,maxrun:30,maxAdErrors:24,waterfallRetry:24,macros:{}},mobile:{tagConfig:{Float:!1,FloatLimit:!1},playerConfig:{closeButton:!1}},video:[{id:"3tza13MByJmLcwxnZY8-",sourceId:"922",feedId:1640,url:"https://nv.vi-serve.com/vis-media/922/1640/3tza13MByJmLcwxnZY8-_720p.mp4",title:"10 Interesting Facts About Earth's Oceans",thumbnail:"https://nv.vi-serve.com/vis-media/922/1640/3tza13MByJmLcwxnZY8-.jpg",duration:81,description:"",keywords:""}],videoIdx:0},o={amp:!1,fif:!0,pageDomain:null,pageLanguage:null,pageUrl:null,sessionId:null,adUnitId:null,abTestingId:null,asid:null,unblocked:!1,lazyPaused:0,lazyTrigger:"",isEU:!1,consent:0},s={licenseInfoCreator:"Creator",licenseInfoCreditBtn:"Credit",licenseInfoTitle:"License information",licenseInfoLicense:"License",licenseInfoOriginalVideo:"Original",nowPlaying:"Now playing",poweredBy:"featured by"},a={crawlerUa:"crawler user agent",head:"script tag placed in head",heavyAd:"heavy ad intervention",init:"script tag has already been initialized",initPlayer:"cannot initilize the player",noAdSources:"no ad sources",noAdUnitType:"AdUnitType not set",noChannelId:"ChannelID not set",nonFif:"script tag placed in non friendly iframe",nonVisible:"script tag placed in non-displayed Element",noPageUrl:"cannot get page URL",noPromise:"promises not supported",noScriptTag:"cannot find script tag",stopCondition:"stop condition was reached"},r={adIsLoaded:!1,adUnitIsClicked:!1,adUnitIsFloated:void 0,adUnitInView:!1,adUnitInViewOnce:!1,closeReason:void 0,currentVideoType:void 0,defaultVideo:void 0,displayAdIsVisible:!1,outOfViewPaused:!1,pendingNextIdx:void 0,pendingNextTrack:!1,playerIsMuted:!0,playerIsPaused:!0,remoteControlInViewOnce:!1},l={gpt:"<script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'><\/script>\n<script>\n var googletag = googletag || {};\n googletag.cmd = googletag.cmd || [];\n<\/script>\n<div id='[gptDivId]' style='height:[gptSizeHeight]px; width:[gptSizeWidth]px;'>\n  <script>\n    googletag.cmd.push(function() {\n      var vislot1 = googletag.defineSlot('[gptSlotId]', [[gptSizeWidth], [gptSizeHeight]], '[gptDivId]').addService(googletag.pubads());\n      googletag.pubads().enableSingleRequest();\n      googletag.pubads().addEventListener('slotRenderEnded', function(event) {\n            if(event && event.slot && event.slot.getSlotElementId && event.slot.getSlotElementId() !== '[gptDivId]') return;\n            window.[gptRenderCallback] && typeof window.[gptRenderCallback] === 'function' && window.[gptRenderCallback](event);\n      });\n      googletag.enableServices();\n      googletag.display('[gptDivId]');\n      googletag.pubads().isInitialLoadDisabled() && googletag.pubads().refresh([vislot1]);\n  });\n  <\/script>\n</div>"},d={kerv:"https://rcdn.kervinteractive.com/overlay/v3/prod/embed-3.0.min.js",playerAV:"https://player.aniview.com/script/6.1/aniview.js",playerVI:"https://player.inforsea.com/player.js",playerVIstage:"https://player.inforsea.com/playerStage.js",playerVItest:"https://player-test.inforsea.com/player.js",playerWL:"https://player.vid-play.com/script/6.1/player.js",playerWLstage:"https://player.inforsea.com/av/player.js",playerWLbase:"https://player.vid-play.com/script/6.1/",playerWLdomainAdServer:"serv.vid-play.com",playerWLdomainTrack:"servt.vid-play.com",prebid:"https://s.vi-serve.com/prebid/prebid3.25.0.js",tracking:"https://t.vi-serve.com/",trackingViAdServer:"https://pixel.inforsea.com/server/log",videoAPI:"https://vis.vi-serve.com/"},c=["Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534+ (KHTML, like Gecko) BingPreview/1.0b","'Mozilla/5.0 (compatible; Seekport Crawler; http://seekport.com/'","Mozilla/5.0 (Macintosh; U; Intel Mac OS X; en-US) AppleWebKit/537.36 (KHTML, like Gecko) cXensebot/2.0; +http://www.cxense.com/bot.html Safari/533.3","Mozilla/5.0 (compatible; Pinterestbot/1.0; +http://www.pinterest.com/bot.html)","Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 (compatible; adidxbot/2.0; +http://www.bing.com/bingbot.htm)"]},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var o=(e=[{key:"addEventListener",value:function(t,e,i){void 0!==this.listeners[t]?this.listeners[t].push({scope:i,callback:e}):this.listeners[t]=[{scope:i,callback:e}]}},{key:"removeEventListener",value:function(t,e,i){var n,o;if(void 0!==this.listeners[t])for(n=this.listeners[t].length-1;0<=n;n--)(o=this.listeners[t][n]).scope===i&&o.callback===e&&this.listeners[t].splice(n,1)}},{key:"removeAllListeners",value:function(){this.listeners={}}},{key:"hasEventListener",value:function(t,e,i){var n,o,s;if(void 0!==this.listeners[t]){if(o=this.listeners[t].length,void 0===e&&void 0===i)return 0<o;for(n=0;n<o;n++)if(s=this.listeners[t][n],(!i||s.scope===i)&&s.callback===e)return!0}return!1}},{key:"dispatchEvent",value:function(t,e){var i,n,o,s={type:t,data:e};if(void 0!==this.listeners[t])for(i=0,n=this.listeners[t].length;i<n;i++)(o=this.listeners[t][i])&&o.callback&&o.callback.call(o.scope,s)}}],n(a.prototype,e),a),s=new o;function a(){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.listeners={}}},function(t,e,i){"use strict";function n(e,o,s){return new Promise(function(i,n){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{var t=this.responseText?JSON.parse(this.responseText):{};i(t)}catch(t){n(t)}else{var e=new Error(this.responseText);e.code=this.status,n(e)}},t.open(e,o,!0),t.timeout=5e3,t.send(s)})}function o(n,o,s){return new Promise(function(t,e){var i=(o=o||document).createElement("script");i.type="text/javascript",i.charset="utf8",i.async=!0,i.src=n,s&&i.classList.add(s),i.onload=function(){t()},i.onerror=function(){e()},(o.getElementsByTagName("head")[0]||o.documentElement.appendChild(o.createElement("head"))).appendChild(i)})}i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i.d(e,"a",function(){return r});var r=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(l,i(3).a),n(l.prototype,[{key:"dispose",value:function(){this.observer.disconnect(),this.removeAllListeners()}},{key:"visible",get:function(){return!!this.intersectionRatio&&this.intersectionRatio>=this.threshold}},{key:"position",get:function(){return this.containerPosition}}]),l);function l(t,e){var o,i,n;return function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),i=this,n=a(l).call(this),(o=!n||"object"!==s(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):n).rootMargin=e&&e.rootMargin||"0px 0px 0px 0px",o.threshold=e&&e.threshold||.5,o.intersectionRatio=0,o.containerPosition=null,o.observer=new IntersectionObserver(function(t){var e,i,n=(i=1,(function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,o=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,s=t}finally{try{n||null==r.return||r.return()}finally{if(o)throw s}}return i}}(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}())[0]),t=o.visible,e=n.rootBounds?n.rootBounds.top:0,i=n.rootBounds?n.rootBounds.bottom:window.innerHeight;o.containerPosition=n.boundingClientRect.top<e?"above":n.boundingClientRect.bottom>i?"below":null,o.intersectionRatio!==n.intersectionRatio&&(o.intersectionRatio=n.intersectionRatio,o.dispatchEvent(l.Events.viewabilitychange,n),t!==o.visible&&(o.visible?o.dispatchEvent(l.Events.inview):o.dispatchEvent(l.Events.outofview)))},{rootMargin:o.rootMargin,threshold:o.threshold}),o.observer.observe(t),o}r.Events={viewabilitychange:"viewabilitychange",inview:"inview",outofview:"outofview"}},function(t,e,i){"use strict";t.exports=function(s){var l=[];return l.toString=function(){return this.map(function(o){var t=function(){var t=o[1]||"",e=o[3];if(!e)return t;if(s&&"function"==typeof btoa){var i=(i=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(n," */")),n=e.sources.map(function(t){return"/*# sourceURL=".concat(e.sourceRoot||"").concat(t," */")});return[t].concat(n).concat([i]).join("\n")}return[t].join("\n")}();return o[2]?"@media ".concat(o[2]," {").concat(t,"}"):t}).join("")},l.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(n[s]=!0)}for(var a=0;a<t.length;a++){var r=[].concat(t[a]);i&&n[r[0]]||(e&&(r[2]?r[2]="".concat(e," and ").concat(r[2]):r[2]=e),l.push(r))}},l}},function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i(3),o=i(0),s=i(1),a=i(5);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=(r(d.prototype,[{key:"update",value:function(){this.video&&(this.thumbnail.style.backgroundImage="url("+this.video.thumbnail+")",this.title.innerHTML=this.video.title),this.playButtonPlaying?(this.playButton.classList.remove("vi-stories-remote-control-play-button"),this.playButton.classList.add("vi-stories-remote-control-pause-button")):(this.playButton.classList.remove("vi-stories-remote-control-pause-button"),this.playButton.classList.add("vi-stories-remote-control-play-button"))}},{key:"dispose",value:function(){this.playButton.removeEventListener("click",this.boundPlayBtnClick),this.viewabilityService&&this.viewabilityService.dispose()}},{key:"onPlayBtnClick",value:function(){this.playButtonPlaying=!this.playButtonPlaying,this.playButtonPlaying?Object(o.e)("RC_PLAY",{},this.v):Object(o.e)("RC_PAUSE",{},this.v),n.b.dispatchEvent("vi-stories-rc-event",{action:this.playButtonPlaying?"play":"pause",adUnitId:this.v.env.adUnitId}),this.config.HideAfterStart&&this.rcContainer.classList.add("displayNone")}},{key:"onViewabilityInview",value:function(){this.remoteControlInViewOnce||(this.remoteControlInViewOnce=!0,Object(o.e)("RC_INVIEW",{in_view:!0},this.v),n.b.dispatchEvent("vi-stories-rc-event",{action:"inview",adUnitId:this.v.env.adUnitId}))}},{key:"perform",value:function(t,e,i){var n=this.v.env.adUnitId===e.env.adUnitId;"play"===t?!n&&"userAction"!==i||(this.v=e,this.video=e.video[e.videoIdx],this.playButtonPlaying=!0,this.config.HideAfterStart&&this.rcContainer.classList.add("displayNone")):"pause"===t?!n&&"userAction"!==i||(this.v=e,this.video=e.video[e.videoIdx],this.playButtonPlaying=!1):"update"===t?(this.v=e,this.video=e.video[e.videoIdx],this.update()):"close"===t&&(this.dispose(),this.rcContainer.parentNode.removeChild(this.rcContainer))}},{key:"container",get:function(){return this.rcContainer}},{key:"playButtonPlaying",get:function(){return this._playButtonPlaying},set:function(t){this._playButtonPlaying=t,this.update()}}]),d);function d(t){!function(t){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this.config=t.remoteControlConfig,this.video=t.video[t.videoIdx],this.remoteControlInViewOnce=!1,this._playButtonPlaying=!1;var e=window.top.document;this.boundPlayBtnClick=this.onPlayBtnClick.bind(this),this.rcContainer=e.createElement("div"),this.config.PlacementSelector&&(i=Object(s.w)(this.config.PlacementSelector.position,this.config.PlacementSelector.selector,this.rcContainer))&&"exact"===this.config.PlacementSelector.position&&(this.rcContainer=i),this.rcContainer.classList.add("vi-stories-remote-control",Object(s.F)(this.rcContainer.offsetWidth)),this.thumbnail=e.createElement("div"),this.thumbnail.classList.add("vi-stories-remote-control-thumbnail"),this.thumbnail.style.backgroundImage="url("+this.video.thumbnail+")",this.playButton=e.createElement("button"),this.playButton.classList.add("vi-stories-remote-control-playback-button","vi-stories-remote-control-play-button"),this.playButton.type="button",this.playButton.addEventListener("click",this.boundPlayBtnClick);t=e.createElement("div");t.classList.add("vi-stories-remote-control-description"),this.title=e.createElement("div"),this.title.classList.add("vi-stories-remote-control-title"),this.title.innerHTML=this.video.title;var i=e.createElement("img");i.classList.add("vi-stories-remote-control-sponsor-logo"),i.src="https://s.vi-serve.com/vi_logo.svg",this.thumbnail.appendChild(this.playButton),t.appendChild(this.title),t.appendChild(i),this.rcContainer.appendChild(this.thumbnail),this.rcContainer.appendChild(t),this.config.CustomViCSS&&((t=e.createElement("style")).id="vi-css-rc-custom",t.type="text/css",t.innerHTML=this.config.CustomViCSS,e.head.appendChild(t)),this.viewabilityService=new a.a(this.rcContainer),this.viewabilityService.addEventListener(a.a.Events.inview,this.onViewabilityInview,this)}},function(t,e,i){"use strict";var m=i(2),b=i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=(jt=[{key:"dispose",value:function(){this.hide()}},{key:"init",value:function(){this.show()}},{key:"show",value:function(){var t,e,i,n,o=this;if((this.config.tag||this.config.template)&&!this.companionAdStarted&&(this.v.state.adUnitInView&&this.config.startInView||!this.config.startInView)){if(this.companionAdStarted=!0,Object(b.e)("DISP_C_REQUEST",{},this.v),this.companionAdContainer&&this.companionAdContainer.classList.remove("displayNone"),this.config.tag)t=this.config.tag;else for(e in this.config.template.gptSizeWidth||(this.config.template.gptSizeWidth=300),this.config.template.gptSizeHeight||(this.config.template.gptSizeHeight=250),t=m.g[this.config.template.type],this.config.template)this.config.template.hasOwnProperty(e)&&"type"!==e&&(i=new RegExp("\\["+e+"\\]","gi"),t=t&&t.replace(i,this.config.template[e]));t&&(n=document.createRange().createContextualFragment(t),this.companionAdContainer&&this.companionAdContainer.appendChild(n),window[this.gptRenderCallback]=function(t){t&&!1===t.isEmpty?(Object(b.e)("DISP_C_IMP",{},o.v),o.v.tagConfig.ResizeIframe&&window.frameElement&&o.v.env.fif&&(window.frameElement.style.height=window.frameElement.clientHeight+o.config.template.gptSizeHeight+"px")):(Object(b.e)("DISP_C_NOAD",{},o.v),o.hide())})}}},{key:"hide",value:function(){this.companionAdStarted&&(this.config.tag||this.config.template)&&(this.companionAdContainer&&(this.companionAdContainer.classList.add("displayNone"),this.companionAdContainer.innerHTML=""),delete window[this.gptRenderCallback])}},{key:"container",get:function(){return this.companionAdContainer}}],n(o.prototype,jt),o);function o(t){!function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this.config=t.tagConfig.CompanionAds[0],this.config.template&&!this.config.template.gptRenderCallback&&(this.config.template.gptRenderCallback="companionAdRenderCallback"),this.gptRenderCallback=this.config.template&&this.config.template.gptRenderCallback||"companionAdRenderCallback",this.companionAdContainer=document.createElement("div"),this.companionAdContainer.classList.add("vi-stories-companion-ad-container","displayNone"),this.config.startInView=!1}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=(s(a.prototype,[{key:"container",get:function(){return this.sponsorContainer}}]),a);function a(t){var e;(function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")})(this),this.v=t,this.sponsorContainer=document.createElement("div"),this.sponsorContainer.id="vi-stories-sponsor-container",this.sponsorContainer.classList.add("vi-stories-position",this.v.tagConfig.SponsorPosition),this.v.tagConfig.PoweredByText&&((e=document.createElement("div")).id="vi-stories-sponsor-powered",e.innerText=this.v.tagConfig.PoweredByText,this.sponsorContainer.appendChild(e)),this.v.tagConfig.LogoUrl&&((t=document.createElement("img")).id="vi-stories-sponsor-logo",t.src=this.v.tagConfig.LogoUrl,this.v.tagConfig.LogoClickLink?((e=document.createElement("a")).href=this.v.tagConfig.LogoClickLink,e.target="_blank",e.appendChild(t),this.sponsorContainer.appendChild(e)):this.sponsorContainer.appendChild(t))}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=(jt=[{key:"update",value:function(){if(this.titleDiv)if(this.v.video[this.v.videoIdx].title&&(this.titleDiv.innerText=this.v.video[this.v.videoIdx].title),this.titleDiv.classList.remove("viTruncate1Line"),1===this.v.tagConfig.TruncateTitleLines)this.titleDiv.classList.add("viTruncate1Line");else if(0<this.v.tagConfig.TruncateTitleLines){var t=this.v.topDiv.querySelector("#vi-stories-main-container"),e=t&&t.offsetWidth<500?24:36,t=this.sponsor&&this.sponsor.container.offsetHeight||0,i=this.v.tagConfig.FixedRatio?this.descriptionContainer.offsetHeight-t+e/4:e*this.v.tagConfig.TruncateTitleLines;if(window.frameElement&&(i=e<(t=.33*window.frameElement.offsetHeight-e)&&t<i?t:i<t?i:e),this.titleDiv&&this.titleDiv.offsetHeight>i){for(;;){var n=this.titleDiv.innerText.replace(/[\s]([^\s])+$/,function(t,e,i,n){return""});if(n.length===this.titleDiv.innerText.length&&(n=n.substr(0,n.length-3)),this.titleDiv.innerText=n+"...",!(n&&this.titleDiv.offsetHeight>i))break;this.titleDiv.innerText=n}this.titleDiv.style.overflow="hidden"}}}},{key:"dispose",value:function(){}},{key:"container",get:function(){return this.descriptionContainer}}],r(l.prototype,jt),l);function l(t,e){!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this.descriptionContainer=document.createElement("div"),this.descriptionContainer.id="vi-stories-description-container",this.descriptionContainer.classList.add("vi-stories-z-index-base","vi-stories-hide-while-floating"),e&&(this.descriptionContainer.style.height=e+"px"),this.v.video[this.v.videoIdx].title&&(this.titleDiv=document.createElement("div"),this.titleDiv.id="vi-stories-title",this.titleDiv.innerText=this.v.video[this.v.videoIdx].title,"top-left"===this.v.tagConfig.SponsorPosition||"top-right"===this.v.tagConfig.SponsorPosition&&this.titleDiv.classList.add("marginBottom","marginBottom20"),this.descriptionContainer.appendChild(this.titleDiv)),0===this.v.tagConfig.OverlayMode&&this.v.tagConfig.OverlaySettings&&!1===this.v.tagConfig.OverlaySettings.showLogoOutside&&(this.sponsor=new u(this.v),this.descriptionContainer.appendChild(this.sponsor.container)),this.update()}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=(jt=[{key:"dispose",value:function(){this.hide(),this.displayAdCloseButton&&this.displayAdCloseButton.removeEventListener("click",this.this.boundHide,!1)}},{key:"init",value:function(){var t=this;this.displayAdTimeout=setTimeout(function(){t.displayAdTimeout&&(clearTimeout(t.displayAdTimeout),t.displayAdTimeout=null),t.displayAdReadyToStart=!0,t.show()},1e3*this.config.startTimeout)}},{key:"show",value:function(){var t,e,i,n,o=this;if((this.config.tag||this.config.template)&&this.displayAdReadyToStart&&!this.displayAdStarted&&(this.v.state.adUnitInView&&this.config.startInView||!this.config.startInView)&&!this.v.state.adIsLoaded&&!this.v.state.adUnitIsClicked){if(this.displayAdStarted=!0,Object(b.e)("DISP_REQUEST",{},this.v),this.displayAdOverlay&&this.displayAdOverlay.classList.remove("displayNone"),this.config.tag)t=this.config.tag;else for(e in this.config.template.gptSizeWidth||(this.config.template.gptSizeWidth=300),this.config.template.gptSizeHeight||(this.config.template.gptSizeHeight=250),t=m.g[this.config.template.type],this.config.template)this.config.template.hasOwnProperty(e)&&"type"!==e&&(i=new RegExp("\\["+e+"\\]","gi"),t=t&&t.replace(i,this.config.template[e]));t&&(n=document.createRange().createContextualFragment(t),this.displayAdContainer&&this.displayAdContainer.appendChild(n),window[this.gptRenderCallback]=function(t){t&&!1===t.isEmpty?(Object(b.e)("DISP_IMP",{},o.v),o.displayAdOverlay&&o.displayAdOverlay.classList.add("vi-stories-display-ad-blur"),o.displayAdCloseButton&&o.displayAdCloseButton.classList.remove("displayNone"),0<o.v.tagConfig.OverlayMode&&o.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-overlay-ui-enable"),o.v.state.displayAdIsVisible=!0,o.displayAdTimeout=setTimeout(o.boundHide,1e3*o.config.showTimeout)):(Object(b.e)("DISP_NOAD",{},o.v),o.hide())})}}},{key:"hide",value:function(){this.displayAdTimeout&&(clearTimeout(this.displayAdTimeout),this.displayAdTimeout=null),this.displayAdStarted&&(this.config.tag||this.config.template)&&(this.displayAdOverlay&&this.displayAdOverlay.classList.add("displayNone"),this.displayAdContainer&&(this.displayAdContainer.innerHTML=""),0<this.v.tagConfig.OverlayMode&&this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("vi-stories-overlay-ui-enable"),delete window[this.gptRenderCallback],this.v.state.displayAdIsVisible=!1)}},{key:"container",get:function(){return this.displayAdOverlay}}],d(c.prototype,jt),c);function c(t){!function(t){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this.config=t.tagConfig.DisplayAd,this.config.template&&!this.config.template.gptRenderCallback&&(this.config.template.gptRenderCallback="displayAdRenderCallback"),this.gptRenderCallback=this.config.template&&this.config.template.gptRenderCallback||"displayAdRenderCallback",this.boundHide=this.hide.bind(this),this.displayAdOverlay=document.createElement("div"),this.displayAdOverlay.id="vi-stories-display-ad-overlay",this.displayAdOverlay.classList.add("displayNone"),this.displayAdContainer=document.createElement("div"),this.displayAdContainer.id="vi-stories-display-ad-container",this.config.closeLabel="",this.config.closeLabel&&(this.displayAdCloseButton=document.createElement("div"),this.displayAdCloseButton.id="vi-stories-display-ad-close-button",this.displayAdCloseButton.classList.add("displayNone"),this.displayAdCloseButton.innerHTML=this.config.closeLabel,this.displayAdOverlay.appendChild(this.displayAdCloseButton),this.displayAdCloseButton.addEventListener("click",this.this.boundHide,!1)),this.displayAdOverlay.appendChild(this.displayAdContainer)}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=(jt=[{key:"dispose",value:function(){this.close(),this.displayBannerOverlay.removeEventListener("click",this.boundBannerClick,!0)}},{key:"init",value:function(){var t,e=this;this.config&&(this.config.template&&!this.config.template.gptRenderCallback&&(this.config.template.gptRenderCallback="displayBannerRenderCallback"),this.gptRenderCallback=this.config.template&&this.config.template.gptRenderCallback||"displayBannerRenderCallback",t=(this.config.displayBannerWidth||this.config.width||320)+"x"+(this.config.displayBannerHeight||this.config.height||80),this.displayBannerOverlay.classList.add("size"+t),this.config.closeButton&&(this.displayBannerCloseButton=document.createElement("div"),this.displayBannerCloseButton.classList.add("vi-stories-display-banner-close-button","displayNone"),this.displayBannerCloseButton.addEventListener("click",this.boundClose,!1),this.displayBannerOverlay.appendChild(this.displayBannerCloseButton)),this.config.hasOwnProperty("startTimeout")||(this.config.startTimeout=0),this.config.hasOwnProperty("showTimeout")||(this.config.showTimeout=-1),this.config.clickTrackingUrl&&this.displayBannerOverlay.addEventListener("click",this.boundBannerClick,!0),this.displayBannerTimeout=setTimeout(function(){e.displayBannerTimeout&&(clearTimeout(e.displayBannerTimeout),e.displayBannerTimeout=null),e.displayBannerReadyToStart=!0,e.show()},1e3*this.config.startTimeout))}},{key:"show",value:function(){var t,e,i,n,o=this;if(this.config)if((this.config.tag||this.config.template)&&this.displayBannerReadyToStart&&!this.displayBannerStarted&&"content"===this.v.state.currentVideoType){if(this.displayBannerStarted=!0,Object(b.e)("DISP_B_REQUEST",{},this.v),this.displayBannerOverlay&&this.displayBannerOverlay.classList.remove("displayNone"),this.config.tag)t=this.config.tag;else for(e in this.config.template.gptSizeWidth||(this.config.template.gptSizeWidth=1),this.config.template.gptSizeHeight||(this.config.template.gptSizeHeight=1),this.counter||(this.counter=0),this.config.template.gptDivId+="__"+this.counter++,t=m.g[this.config.template.type],this.config.template)this.config.template.hasOwnProperty(e)&&"type"!==e&&(i=new RegExp("\\["+e+"\\]","gi"),t=t&&t.replace(i,this.config.template[e]));t&&(n=document.createRange().createContextualFragment(t),this.displayBannerOverlay&&this.displayBannerOverlay.appendChild(n),window[this.gptRenderCallback]=function(t){t&&!1===t.isEmpty?(Object(b.e)("DISP_B_IMP",{},o.v),o.displayBannerCloseButton&&o.displayBannerCloseButton.classList.remove("displayNone"),-1<o.config.showTimeout&&(o.displayBannerTimeout=setTimeout(o.boundClose,1e3*o.config.showTimeout))):(Object(b.e)("DISP_B_NOAD",{},o.v),o.close())})}else(this.config.tag||this.config.template)&&this.displayBannerStarted&&-1===this.config.showTimeout&&this.displayBannerOverlay&&this.displayBannerOverlay.classList.remove("displayNone")}},{key:"hide",value:function(){this.displayBannerOverlay&&this.displayBannerOverlay.classList.add("displayNone"),this.config&&-1<this.config.showTimeout&&this.displayBannerStarted&&this.close()}},{key:"close",value:function(){this.displayBannerTimeout&&(clearTimeout(this.displayBannerTimeout),this.displayBannerTimeout=null),this.config&&(this.config.tag||this.config.template)&&this.displayBannerStarted&&(this.displayBannerOverlay&&(this.displayBannerCloseButton&&this.displayBannerCloseButton.removeEventListener("click",this.boundClose,!1),this.displayBannerOverlay.classList.add("displayNone"),this.displayBannerOverlay.innerHTML=""),delete window[this.gptRenderCallback],this.config=null,this.displayBannerReadyToStart=!1,this.displayBannerStarted=!1)}},{key:"onBannerClick",value:function(t){this.config&&this.config.clickTrackingUrl&&(document.createElement("img").src=this.config.clickTrackingUrl)}},{key:"container",get:function(){return this.displayBannerOverlay}},{key:"config",get:function(){return this._config},set:function(t){this._config=t}}],v(h.prototype,jt),h),C=i(3),w=i(1);function h(t){!function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this._config=null,this.boundClose=this.close.bind(this),this.boundBannerClick=this.onBannerClick.bind(this),this.displayBannerOverlay=document.createElement("div"),this.displayBannerOverlay.classList.add("vi-stories-display-banner-overlay","displayNone")}function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(_,C.a),jt=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){var t=this;if(this.adsourcesexhausted&&!this.waitForPrebid&&!this.fallbackRenderStarted&&!this.v.state.adUnitIsClicked){this.fallbackRenderStarted=!0;var e=document.createElement("div");e.id="bakAdUnit",e.classList.add("displayNone"),this.v.topDiv.appendChild(e),window.fallbackAdReadyCallback=function(){e.classList.remove("displayNone"),t.dispatchEvent("vi-stories-fallback-event"),Object(b.e)("FALLBACK",{},t.v),delete window.fallbackAdReadyCallback},this.v.tagConfig.FallbackTagSettings&&this.v.tagConfig.FallbackTagSettings.waitForAdReady||window.fallbackAdReadyCallback();var i,n,o={cb:Object(w.z)(),consent:this.v.env.consent||"",divId:this.v.topDivId,pageUrl:this.v.env.pageUrl},s=this.config;for(i in o)o.hasOwnProperty(i)&&(n=new RegExp("\\{\\{"+i+"\\}\\}","gi"),s=s&&s.replace(n,o[i]));var a=document.createRange().createContextualFragment(s);e.appendChild(a)}}},{key:"hide",value:function(){}},{key:"adsourcesexhausted",get:function(){return this._adsourcesexhausted},set:function(t){this._adsourcesexhausted=t,this.show()}},{key:"waitForPrebid",get:function(){return this._waitForPrebid},set:function(t){this._waitForPrebid=t,this.show()}}],x(_.prototype,jt),_);function _(t){var e,i;return function(t){if(!(t instanceof _))throw new TypeError("Cannot call a class as a function")}(this),e=this,(i=!(i=P(_).call(this))||"object"!==I(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):i).v=t,i.config=t.tagConfig.FallbackTag,i._adsourcesexhausted=!1,i._waitForPrebid=!1,i}function E(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var T=(jt=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){var t;!this.v.video[this.v.videoIdx].licenseInfo||this.licenseInfoButton||(t=(t=this.v.topDiv.querySelector("#vi-stories-player-container")).querySelector(".GUI-module__controlsBtns")||t.querySelector("#right"))&&(this.licenseInfoButton=document.createElement("div"),this.licenseInfoButton.id="vi-stories-license-info-button",this.licenseInfoButton.style.display="inline",this.licenseInfoButton.addEventListener("click",this.boundLicenseClickHandler,!1),t.appendChild(this.licenseInfoButton))}},{key:"hide",value:function(){this.licenseInfoButton&&(this.licenseInfoButton.removeEventListener("click",this.boundLicenseClickHandler,!1),this.licenseInfoButton.parentNode&&this.licenseInfoButton.parentNode.removeChild(this.licenseInfoButton),this.licenseInfoButton=null)}},{key:"onLicenseButtonClick",value:function(){this.v.video[this.v.videoIdx].licenseInfo&&(this.licenseInfoDialog=document.createElement("div"),this.licenseInfoDialog.id="vi-stories-license-info-dialog",this.licenseInfoDialog.classList.add("vi-stories-dialog-component"),this.licenseInfoDialog.innerHTML='         <div class="vi-stories-license-info-dialog-title vi-stories-dialog-component">'+m.d.licenseInfoTitle+'</div>           <div id="vi-stories-license-info-dialog-close-button"></div>           <div id="vi-stories-license-info-dialog-data" class="vi-stories-dialog-component">             <dl class="vi-stories-dialog-component">               <dt class="vi-stories-dialog-component">'+m.d.licenseInfoCreator+':</dt>               <dd class="vi-stories-dialog-component">'+this.v.video[this.v.videoIdx].licenseInfo.creator+'</dd>               <dt class="vi-stories-dialog-component">'+m.d.licenseInfoLicense+':</dt>               <dd class="vi-stories-dialog-component">                 <a class="vi-stories-dialog-component" href="'+this.v.video[this.v.videoIdx].licenseInfo.licenseLink+'" target="_blank">'+this.v.video[this.v.videoIdx].licenseInfo.licenseName+'</a>               </dd>               <dt class="vi-stories-dialog-component">                 <a class="vi-stories-dialog-component" href="'+this.v.video[this.v.videoIdx].licenseInfo.licenseOriginal+'" target="_blank">'+m.d.licenseInfoOriginalVideo+"</a>               </dt>             </dl>         </div> ",this.v.topDiv.querySelector("#vi-stories-player-container").appendChild(this.licenseInfoDialog),this.v.topDiv.querySelector("#vi-stories-main-container").addEventListener("click",this.boundCloseAreaClickHandler,!0))}},{key:"hideLicenseInfoDialog",value:function(){this.licenseInfoDialog&&(this.licenseInfoDialog.parentNode.removeChild(this.licenseInfoDialog),this.licenseInfoDialog=null),this.v.topDiv.querySelector("#vi-stories-main-container").removeEventListener("click",this.boundCloseAreaClickHandler,!0)}},{key:"onCloseAreaClick",value:function(t){t&&t.target&&t.target.classList.contains("vi-stories-dialog-component")||this.hideLicenseInfoDialog()}}],E(S.prototype,jt),S),M=[];function S(t){!function(t){if(!(t instanceof S))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this.boundLicenseClickHandler=this.onLicenseButtonClick.bind(this),this.boundCloseAreaClickHandler=this.onCloseAreaClick.bind(this)}function L(){for(var t,e,i=0;i<M.length;i++)!1===(t=M[i]).started&&(t.startCallback&&t.startCallback(t.startValue),t.started=!0,t.startTime=new Date),1<(e=(new Date-t.startTime)/200)&&(e=1),t.target.style[t.property]=t.startValue+t.deltaValue*e+"px",1===e&&(t.endCallback&&t.endCallback(),t.startTime=null,t.started=!1);for(var n=M.length-1;0<=n;n--)!1===M[n].started&&M.splice(n,1);0<M.length&&window.requestAnimationFrame(L)}function A(t,e,i,n,o,s){t&&e&&Object(w.r)(i)&&Object(w.r)(n)&&(M.push({target:t,property:e,startValue:i,endValue:n,deltaValue:n-i,startTime:null,started:!1,startCallback:o,endCallback:s}),window.requestAnimationFrame(L))}function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(z,C.a),jt=[{key:"update",value:function(){this.config.autoScroll&&(this.startIdx=this.v.videoIdx),this.render()}},{key:"dispose",value:function(){this.playlistContainer&&this.playlistContainer.removeEventListener("click",this.throttleClickHandler,!1)}},{key:"render",value:function(){if(this.playlistEntries){this.playlistEntries.innerHTML="";for(var t,e,i=this.startIdx,n=0;n<this.maxEntries;n++)i+n>=this.v.video.length&&(i=-n),t=this.v.video[i+n],e=i+n===this.v.videoIdx,this.playlistEntries.appendChild(this.renderItem(t,e))}}},{key:"renderItem",value:function(t,e){var i,n,o,s,a;return(i=document.createElement("div")).classList.add("vi-stories-playlist-entry"),i.setAttribute("data-id",t.id),i.style.backgroundImage="url("+t.thumbnail+")",(n=document.createElement("div")).classList.add("vi-stories-playlist-entry-blur"),n.setAttribute("data-id",t.id),(o=document.createElement("div")).classList.add("vi-stories-playlist-entry-icon"),o.setAttribute("data-id",t.id),(s=document.createElement("div")).classList.add("vi-stories-playlist-entry-text"),s.setAttribute("data-id",t.id),s.innerHTML=t.title,(a=document.createElement("div")).classList.add("vi-stories-playlist-entry-duration"),a.setAttribute("data-id",t.id),a.innerHTML=Object(w.b)(t.duration),i.appendChild(n),i.appendChild(o),i.appendChild(s),i.appendChild(a),e&&(i.classList.add("vi-stories-playlist-current-item"),(e=document.createElement("div")).classList.add("vi-stories-playlist-entry-now"),e.setAttribute("data-id",t.id),e.innerHTML=m.d.nowPlaying,i.appendChild(e)),i}},{key:"determineEntryWidth",value:function(){var t,e;this.entryWidth||(e=(t=this.playlistEntries.firstChild)&&window.getComputedStyle(t,null),this.entryWidth=e&&t.offsetWidth+parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right")))}},{key:"navigateLeft",value:function(){var i=this;this.determineEntryWidth(),A(this.playlistEntries,"left",-this.entryWidth,0,function(){var t=i.startIdx-i.scrollStep;t<0&&(t+=i.v.video.length);var e=i.v.video[t];i.playlistEntries&&i.playlistEntries.insertBefore(i.renderItem(e,t===i.v.videoIdx),i.playlistEntries.firstChild),i.playlistEntries&&(i.playlistEntries.style.left=-i.entryWidth+"px")},function(){i.startIdx-=i.scrollStep,i.startIdx<0&&(i.startIdx+=i.v.video.length),i.playlistEntries&&i.playlistEntries.removeChild(i.playlistEntries.lastChild)})}},{key:"navigateRight",value:function(){var i=this;this.determineEntryWidth(),A(this.playlistEntries,"left",0,-this.entryWidth,function(){var t=i.startIdx+i.maxEntries;t>=i.v.video.length&&(t-=i.v.video.length);var e=i.v.video[t];i.playlistEntries&&i.playlistEntries.appendChild(i.renderItem(e,t===i.v.videoIdx))},function(){i.startIdx+=i.scrollStep,i.startIdx>=i.v.video.length&&(i.startIdx-=i.v.video.length),i.playlistEntries&&(i.playlistEntries.style.left=0,i.playlistEntries.removeChild(i.playlistEntries.firstChild))})}},{key:"onClickHandler",value:function(t){t=t&&t.target;if(t)if(t.classList.contains("vi-stories-playlist-nav-left"))this.navigateLeft();else if(t.classList.contains("vi-stories-playlist-nav-right"))this.navigateRight();else if((t.classList.contains("vi-stories-playlist-entry")||t.classList.contains("vi-stories-playlist-entry-blur")||t.classList.contains("vi-stories-playlist-entry-icon")||t.classList.contains("vi-stories-playlist-entry-text")||t.classList.contains("vi-stories-playlist-entry-duration"))&&t.getAttribute("data-id")){for(var e,i,n=t.getAttribute("data-id"),o=0;o<this.v.video.length;o++)if(this.v.video[o].id===n){e=this.v.video[o],i=o;break}e&&(t={nv_navigate_to_video_id:e.id},Object(b.e)("NV_SUGGESTION_CLICK",t,this.v),this.v.tagConfig.AutoStart=!0,this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=i),this.dispatchEvent("vi-stories-video-open-event")}}},{key:"container",get:function(){return this.playlistContainer}}],N(z.prototype,jt),z),R=i(4);function z(t){var e;!function(t){if(!(t instanceof z))throw new TypeError("Cannot call a class as a function")}(this),e=this,(e=!(i=D(z).call(this))||"object"!==j(i)&&"function"!=typeof i?U(e):i).v=t,e.config=t.tagConfig.PlaylistSettings,e.scrollStep=1,e.playlistContainer=document.createElement("div"),e.playlistContainer.id="vi-stories-playlist-container",e.playlistContainer.classList.add("vi-stories-z-index-base","vi-stories-hide-while-floating"),e.maxEntries=Math.min(4,e.v.video.length),e.startIdx=e.v.videoIdx;var i=document.createElement("div");return i.id="vi-stories-playlist-entries-viewport",e.playlistContainer.appendChild(i),e.playlistEntries=document.createElement("div"),e.playlistEntries.id="vi-stories-playlist-entries",i.appendChild(e.playlistEntries),e.v.video.length>e.maxEntries&&((t=document.createElement("div")).classList.add("vi-stories-playlist-nav","vi-stories-playlist-nav-left"),(i=document.createElement("div")).classList.add("vi-stories-playlist-nav","vi-stories-playlist-nav-right"),e.playlistContainer.appendChild(t),e.playlistContainer.appendChild(i)),e.render(),e.throttleClickHandler=Object(w.D)(e.onClickHandler,500,U(e)),e.playlistContainer.addEventListener("click",e.throttleClickHandler,!1),e}function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(Y,C.a),jt=[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){var t;!this.winningBid||!this.adsourcesexhausted||this.prebidRenderStarted||!this.v.state.adUnitInView&&this.config.startInView||this.v.state.adUnitIsClicked||(this.prebidRenderStarted=!0,this.dispatchEvent("vi-stories-prebid-imp-event"),this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="none"),(t=this.win.document.createElement("iframe")).style.border="none","video"===this.winningBid.mediaType&&(t.style.display="none"),t.scrolling="no",this.container.appendChild(t),this.win[this.pbjs].renderAd(t.contentDocument,this.winningBid.adId))}},{key:"hide",value:function(){}},{key:"bidsBackHandler",value:function(t,e){var i=this;t=t[this.code]&&t[this.code].bids||[],Object(w.p)(t)&&0<t.length&&(this.winningBid=t.reduce(function(t,e){return t.cpm*i.adapterMap.factor[t.bidderCode]>=e.cpm*i.adapterMap.factor[e.bidderCode]?t:e})),this.winningBid?this.show():this.dispatchEvent("vi-stories-prebid-nobid-event")}},{key:"container",get:function(){return this.prebidContainer}},{key:"adsourcesexhausted",get:function(){return this._adsourcesexhausted},set:function(t){this._adsourcesexhausted=t,this.show()}}],H(Y.prototype,jt),Y);function Y(t){var e,i,n;return function(t){if(!(t instanceof Y))throw new TypeError("Cannot call a class as a function")}(this),i=this,n=W(Y).call(this),(e=!n||"object"!==F(n)&&"function"!=typeof n?G(i):n).v=t,e.config=t.prebidConfig,e._adsourcesexhausted=!1,e.win=e.v.env.fif&&window.frameElement&&window.top||window,e.pbjs=e.config.globalVarName||"pbjs",e.code=e.config.adUnits[0].code,e.adapterMap=e.config.adUnits.reduce(function(t,e){return e.bids.reduce(function(t,e){return t.name[e.bidder]=e.name||e.bidder,t.factor[e.bidder]=e.factor||1,t},t),t},{name:{},factor:{}}),e.prebidContainer=e.win.document.createElement("div"),e.prebidContainer.id=e.code,e.winningBid=null,Object(R.b)(e.config.url||m.h.prebid,e.win.document),e.win[e.pbjs]||(e.win[e.pbjs]={}),e.win[e.pbjs].cmd||(e.win[e.pbjs].cmd=[]),e.win[e.pbjs].cmd.push(function(){e.win[e.pbjs].onEvent("bidRequested",function(t){t={adapter:e.adapterMap.name[t.bidderCode]};Object(b.e)("PREBID_REQUEST",t,e.v)}),e.win[e.pbjs].onEvent("bidTimeout",function(t){Object(w.p)(t)&&t.forEach(function(t){t={adapter:e.adapterMap.name[t.bidder]};Object(b.e)("PREBID_TIMEOUT",t,e.v)})}),e.win[e.pbjs].onEvent("bidResponse",function(t){t={adapter:e.adapterMap.name[t.bidderCode],cpm:t.cpm};Object(b.e)("PREBID_BID",t,e.v)}),e.win[e.pbjs].onEvent("bidWon",function(t){t={adapter:e.adapterMap.name[t.bidderCode],cpm:t.cpm};Object(b.e)("PREBID_WON",t,e.v)}),e.win[e.pbjs].onEvent("bidImp",function(t){t={adapter:e.adapterMap.name[e.winningBid.bidderCode],cpm:t.cpm};Object(b.e)("PREBID_IMP",t,e.v)}),e.win[e.pbjs].onEvent("bidAdLoaded",function(t){t={adapter:e.adapterMap.name[e.winningBid.bidderCode],cpm:t.cpm};Object(b.e)("PREBID_AD_LOADED",t,e.v)}),e.win[e.pbjs].onEvent("adRenderFailed",function(t){t={adapter:e.adapterMap.name[e.winningBid.bidderCode],error_msg:t.reason+" / "+t.message};Object(b.e)("PREBID_AD_RENDER_FAILED",t,e.v)});var t={bidderTimeout:e.config.bidderTimeout||2e3};e.config.consentManagement&&(t.consentManagement={usp:{cmpApi:"iab",timeout:5e3}},e.v.env.consent&&(e.v.env.amp?t.consentManagement.gdpr={cmpApi:"static",timeout:5e3,consentData:{getTCData:{tcString:e.v.env.consent,gdprApplies:!0}}}:t.consentManagement.gdpr={cmpApi:"iab",timeout:5e3,defaultGdprScope:!0})),e.win[e.pbjs].setConfig(t),e.win[e.pbjs].addAdUnits(e.config.adUnits),e.win[e.pbjs].requestBids({bidsBackHandler:e.bidsBackHandler.bind(G(e))})}),e}function Q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var J=(Q(X.prototype,[{key:"dispose",value:function(){this.hide()}},{key:"show",value:function(){this.hide();var t=this.v.topDiv.querySelector("#vi-stories-player-container"),t=t.querySelector(".GUI-module__controlsBtns")||t.querySelector("#right");t&&(this.config.facebook&&(this.fbShareButton=document.createElement("div"),this.fbShareButton.classList.add("vi-stories-social-share-button","vi-stories-fb-share-button"),this.fbShareButton.addEventListener("click",this.boundFbShareClickHandler,!1),t.appendChild(this.fbShareButton)),this.config.twitter&&(this.tweetButton=document.createElement("div"),this.tweetButton.classList.add("vi-stories-social-share-button","vi-stories-tweet-button"),this.tweetButton.addEventListener("click",this.boundTweetClickHandler,!1),t.appendChild(this.tweetButton)),this.config.linkedin&&(this.linkedinShareButton=document.createElement("div"),this.linkedinShareButton.classList.add("vi-stories-social-share-button","vi-stories-linkedin-share-button"),this.linkedinShareButton.addEventListener("click",this.boundLinkedInShareClickHandler,!1),t.appendChild(this.linkedinShareButton)))}},{key:"hide",value:function(){this.fbShareButton&&(this.fbShareButton.removeEventListener("click",this.boundFbShareClickHandler,!1),this.fbShareButton.parentNode&&this.fbShareButton.parentNode.removeChild(this.fbShareButton),this.fbShareButton=null),this.tweetButton&&(this.tweetButton.removeEventListener("click",this.boundTweetClickHandler,!1),this.tweetButton.parentNode&&this.tweetButton.parentNode.removeChild(this.tweetButton),this.tweetButton=null),this.linkedinShareButton&&(this.linkedinShareButton.removeEventListener("click",this.boundLinkedInShareClickHandler,!1),this.linkedinShareButton.parentNode&&this.linkedinShareButton.parentNode.removeChild(this.linkedinShareButton),this.linkedinShareButton=null)}},{key:"fbShare",value:function(){this.socialShare("facebook","https://www.facebook.com/sharer/sharer.php?u=")}},{key:"tweet",value:function(){this.socialShare("twitter","https://twitter.com/intent/tweet?url=")}},{key:"linkedinShare",value:function(){this.socialShare("linkedin","https://www.linkedin.com/shareArticle?mini=true&url=")}},{key:"socialShare",value:function(t,e){var i=Object(w.A)(decodeURIComponent(this.v.env.pageUrl),"viStoriesId",this.v.video[this.v.videoIdx].id);window.open(e+encodeURIComponent(i),t+"-share-dialog","width=800,height=620");t={data:t};Object(b.e)("CLICK_SHARE",t,this.v)}}]),X);function X(t){!function(t){if(!(t instanceof X))throw new TypeError("Cannot call a class as a function")}(this),this.v=t,this.config=t.tagConfig.SocialSharing,this.boundFbShareClickHandler=this.fbShare.bind(this),this.boundTweetClickHandler=this.tweet.bind(this),this.boundLinkedInShareClickHandler=this.linkedinShare.bind(this)}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(ot,C.a),jt=[{key:"dispose",value:function(){this.hide(),this.playerSuggestionOverlay&&this.playerSuggestionOverlay.removeEventListener("click",this.boundSuggestedClickHandler,!1)}},{key:"show",value:function(){this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("vi-stories-suggestion-overlay-show"),this.playerSuggestionOverlay&&(this.playerSuggestionOverlay.classList.remove("displayNone"),this.playerSuggestionOverlay.hasChildNodes()||this.createSuggestions())}},{key:"hide",value:function(){this.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-suggestion-overlay-show"),this.playerSuggestionOverlay&&this.playerSuggestionOverlay.classList.add("displayNone")}},{key:"createSuggestions",value:function(){if(this.playerSuggestionOverlay){this.playerSuggestionOverlay.innerHTML="",this.playerSuggestionOverlay.classList.remove("displayNone");for(var t,e,i,n,o,s,a=this.v.topDiv.querySelector("#vi-stories-main-container"),r=a&&a.offsetWidth<500?1:this.v.tagConfig.PlayerSuggestionOverlayNo,l=this.v.videoIdx+1,d=0;d<r;d++)l+d>=this.v.video.length&&(l=-d),e=this.v.video[l+d],(t=document.createElement("div")).classList.add("vi-stories-player-suggestion-entry"),t.setAttribute("data-id",e.id),t.style.backgroundImage="url("+e.thumbnail+")",(i=document.createElement("div")).classList.add("vi-stories-player-suggestion-blur"),i.setAttribute("data-id",e.id),(n=document.createElement("div")).classList.add("vi-stories-player-suggestion-icon"),n.setAttribute("data-id",e.id),(o=document.createElement("div")).classList.add("vi-stories-player-suggestion-text"),o.setAttribute("data-id",e.id),o.innerHTML=e.title,(s=document.createElement("div")).classList.add("vi-stories-player-suggestion-duration"),s.setAttribute("data-id",e.id),s.innerHTML=Object(w.b)(e.duration),t.appendChild(i),t.appendChild(n),t.appendChild(o),t.appendChild(s),this.playerSuggestionOverlay.appendChild(t)}}},{key:"onSuggestedBtnClick",value:function(t){var e,i,t=t&&t.target,n=t&&(t.classList.contains("vi-stories-player-suggestion-entry")||t.classList.contains("vi-stories-player-suggestion-blur")||t.classList.contains("vi-stories-player-suggestion-icon")||t.classList.contains("vi-stories-player-suggestion-text")||t.classList.contains("vi-stories-player-suggestion-duration"))&&t.getAttribute("data-id");if(n){this.playerSuggestionOverlay&&(this.playerSuggestionOverlay.classList.add("displayNone"),this.playerSuggestionOverlay.innerHTML="");for(var o=0;o<this.v.video.length;o++)if(this.v.video[o].id===n){e=this.v.video[o],i=o;break}e&&(t={nv_navigate_to_video_id:e.id},Object(b.e)("NV_SUGGESTION_CLICK",t,this.v),this.v.tagConfig.AutoStart=!0,this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=i),this.dispatchEvent("vi-stories-video-open-event")}}},{key:"container",get:function(){return this.playerSuggestionOverlay}}],$(ot.prototype,jt),ot);function ot(t){var e,i;return function(t){if(!(t instanceof ot))throw new TypeError("Cannot call a class as a function")}(this),e=this,(i=!(i=tt(ot).call(this))||"object"!==K(i)&&"function"!=typeof i?et(e):i).v=t,i.playerSuggestionOverlay=document.createElement("div"),i.playerSuggestionOverlay.id="vi-stories-player-suggestion-overlay",i.playerSuggestionOverlay.classList.add("displayNone"),i.boundSuggestedClickHandler=i.onSuggestedBtnClick.bind(et(i)),i.playerSuggestionOverlay.addEventListener("click",i.boundSuggestedClickHandler,!1),i}function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(vt,C.a),at(vt.prototype,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.lastContent="",this.hide(),this.unmuteOverlay&&this.unmuteOverlay.removeEventListener("click",this.boundUnmuteFromOverlay,!1),clearTimeout(this.shrinkTimeout),this.shrinkTimeout=null,clearTimeout(this.closeTimeout),this.closeTimeout=null)}},{key:"show",value:function(t){var e=this;this.disposed||(this.config.showOverAd&&"ad"===t||this.config.showOverContent&&"content"===t?this.lastContent!==t&&(this.lastContent=t,this.unmuteOverlay.classList.remove("displayNone"),this.unmuteOverlay.classList.remove("vi-stories-unmute-overlay-ad","vi-stories-unmute-overlay-content"),this.unmuteOverlay.classList.add("vi-stories-unmute-overlay-"+t),this.unmuteLabel&&this.unmuteLabel.classList.remove("displayNone"),this.config.shrinkTimeout&&this.unmuteLabel&&(clearTimeout(this.shrinkTimeout),this.shrinkTimeout=setTimeout(function(){clearTimeout(e.shrinkTimeout),e.shrinkTimeout=null,e.unmuteLabel.classList.add("displayNone")},1e3*this.config.shrinkTimeout)),this.config.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=setTimeout(function(){clearTimeout(e.closeTimeout),e.closeTimeout=null,e.hide()},1e3*this.config.closeTimeout))):this.hide())}},{key:"hide",value:function(){this.unmuteOverlay.classList.add("displayNone"),this.unmuteOverlay.classList.remove("vi-stories-unmute-overlay-ad","vi-stories-unmute-overlay-content")}},{key:"showOverAd",value:function(){this.show("ad")}},{key:"showOverContent",value:function(){this.show("content")}},{key:"unmuteFromPlayer",value:function(){this.disposed||this.dispose()}},{key:"unmuteFromOverlay",value:function(){this.dispatchEvent("vi-stories-unmute-from-overlay-event"),this.dispose()}},{key:"container",get:function(){return this.unmuteOverlay}}]),vt);function vt(t){var e,i;return function(t){if(!(t instanceof vt))throw new TypeError("Cannot call a class as a function")}(this),e=this,(i=!(i=rt(vt).call(this))||"object"!==st(i)&&"function"!=typeof i?lt(e):i).v=t,i.config=t.tagConfig.UnmuteOverlay,i.lastContent="",i.disposed=!1,i.unmuteOverlay=document.createElement("div"),i.unmuteOverlay.classList.add("vi-stories-unmute-overlay","displayNone"),i.config.label&&(i.unmuteLabel=document.createElement("div"),i.unmuteLabel.classList.add("vi-stories-unmute-label"),i.unmuteLabel.innerHTML=i.config.label,i.unmuteOverlay.appendChild(i.unmuteLabel)),i.boundUnmuteFromOverlay=i.unmuteFromOverlay.bind(lt(i)),i.unmuteOverlay.addEventListener("click",i.boundUnmuteFromOverlay,!1),i}function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?ft(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt={1:{},2:{},4:{BG_Color:"transparent",TruncateTitleLines:5}},bt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(Ct,C.a),jt=[{key:"render",value:function(){var t,e,i,n,o,s,a,r,l,d,c,v,h=this;this.mainContainer&&(e=!1,this.v.tagConfig.FixedRatio&&(t=this.mainContainer.offsetHeight-this.playerContainer.offsetHeight)&&!this.v.tagConfig.FontSize&&(this.v.tagConfig.FontSize=Math.min(18,.25*t)+"px"),this.v.tagConfig.TextAbove||"top-left"===this.v.tagConfig.SponsorPosition||"top-right"===this.v.tagConfig.SponsorPosition||"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&"show"===this.v.tagConfig.CloseButton?this.v.tagConfig.AreaAbovePlaceholder=!0:"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&"whileFloating"===this.v.tagConfig.CloseButton&&this.v.env.fif&&window.frameElement&&(e=this.v.tagConfig.AreaAbovePlaceholder=!0),""!==this.v.tagConfig.LogoUrl&&!1!==this.v.tagConfig.LogoUrl||(this.v.tagConfig.PoweredByText=!1),void 0===this.v.tagConfig.PoweredByText&&(this.v.tagConfig.PoweredByText=m.d.poweredBy),i="      .vi-stories-z-index-base {         z-index:"+this.v.tagConfig.ZIndexBase+";       }       .vi-stories-z-index-float {         z-index:"+this.v.tagConfig.ZIndexFloat+";       } ",this.v.tagConfig.AccentColor&&(i+="        #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover,         #vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item,         #vi-stories-playlist-container .vi-stories-playlist-entry:hover {           border-color:"+this.v.tagConfig.AccentColor+";         }         #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-now,         #vi-stories-gui-container .GUI-module__gui.GUI-module__container .GUI-module__timelineProgress {           background-color:"+this.v.tagConfig.AccentColor+";         }         #vi-stories-main-container #av-container #av-inner #gui #timeline #timeline-progress {           background:"+this.v.tagConfig.AccentColor+";         } "),this.v.tagConfig.AccentTextColor&&(i+="        #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-now {           color:"+this.v.tagConfig.AccentTextColor+";          } "),this.v.tagConfig.BG_Color&&(i+="        #vi-stories-main-container, #vi-stories-playlist-container .vi-stories-playlist-nav {           background-color:"+this.v.tagConfig.BG_Color+";         } "),this.v.tagConfig.BorderColor&&(i+="        #vi-stories-description-container {           border-color:"+this.v.tagConfig.BorderColor+";         } "),(this.v.tagConfig.Text_Color||this.v.tagConfig.FontSize||this.v.tagConfig.Font)&&(i+="        #vi-stories-text-above {           "+(this.v.tagConfig.Text_Color?"color: "+this.v.tagConfig.Text_Color+";":"")+"         }         #vi-stories-title {           "+(this.v.tagConfig.Text_Color?"color: "+this.v.tagConfig.Text_Color+";":"")+"           "+(this.v.tagConfig.Font?"font-family: "+this.v.tagConfig.Font+";":"")+"           "+(this.v.tagConfig.FontSize?"font-size: "+this.v.tagConfig.FontSize+";":"")+"         }         #vi-stories-sponsor-powered {           "+(this.v.tagConfig.Text_Color?"color: "+this.v.tagConfig.Text_Color+";":"")+"         } "),"ribbon"===this.v.tagConfig.FloatLayoutMode&&(l=window.frameElement&&this.v.env.fif&&window.top.document||window.document,d=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47,i+="        #vi-stories-main-container.vi-stories-ribbon-ui #vi-stories-player-container {           width: "+l.body.clientWidth*d+"px !important;           height: "+l.body.clientWidth*d*9/16+"px !important;         } "),this.v.tagConfig.Float&&this.v.tagConfig.FloatSize&&("playerVI"===this.v.tagConfig.Player&&(o=this.mainContainer.clientWidth,r=1.43<=(s=1/this.v.tagConfig.FloatSize)&&s<2,l=(a=s<1.43)?10:r?15:25,d=a?20:r?30:60,c=15,800<=o?n=a?5:r?15:22:700<=o&&o<800?n=a?5:r?15:20:600<=o&&o<700?(l=a?10:r?15:20,n=a?5:r?15:20):500<=o&&o<600?(l=a||r?15:20,n=a?5:r?10:20,d=a?20:r?25:60):(l=3,n=5,d=10,c=0),i+="          .vi-stories-floating .GUI-module__controlsBtn {             transform: scale("+s+");             margin: 0 "+n+"px;           }           .vi-stories-floating .GUI-module__timeDisplay {             transform: scale("+s+");             margin: 0 "+d+"px;           }           .vi-stories-floating .GUI-module__gui.GUI-module__container .GUI-module__controlsBtns {             padding: "+l+"px 5px;           }           .vi-stories-floating .GUI-module__container .vi-stories-social-share-button {             transform: scale("+s+");             margin: 0 "+n+"px;           }           .vi-stories-floating #vi-stories-gui-container #vi-stories-license-info-button {             transform: scale("+s+");             margin: 9px "+c+"px 0 0;           } "),i+="        .vi-stories-floating #vi-stories-close-button {           transform: scale("+1/this.v.tagConfig.FloatSize+");         }         .vi-stories-floating #vi-stories-close-button.inside-vi-unit.top-left{           transform-origin: left top;         }         .vi-stories-floating #vi-stories-close-button.outside-vi-unit.top-left{           transform-origin: left bottom;         }         .vi-stories-floating #vi-stories-close-button.inside-vi-unit.top-right{           transform-origin: right top;         }         .vi-stories-floating #vi-stories-close-button.outside-vi-unit.top-right{           transform-origin: right bottom;         } "),(c=document.createElement("style")).id="vi-css-gui",c.type="text/css",c.innerHTML=i,(document.getElementsByTagName("head")[0]||document.appendChild(document.createElement("head"))).appendChild(c),this.v.tagConfig.AreaAbovePlaceholder&&((v=document.createElement("div")).id="vi-stories-area-above-placeholder",v.classList.add("vi-stories-hide-while-floating"),e&&v.classList.add("displayNone"),this.v.topDiv.insertBefore(v,this.mainContainer),"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&("show"===this.v.tagConfig.CloseButton||"whileFloating"===this.v.tagConfig.CloseButton&&this.v.env.fif&&window.frameElement)&&(v.classList.remove("vi-stories-hide-while-floating"),v.classList.add("vi-stories-show-while-floating"))),this.v.tagConfig.TextAbove&&((v=document.createElement("div")).id="vi-stories-text-above",v.classList.add("vi-stories-hide-while-floating"),v.innerText=this.v.tagConfig.TextAbove,this.mainContainer.insertBefore(v,this.mainContainer.childNodes[0])),this.description=new p(this.v,t),this.mainContainer.appendChild(this.description.container),1===this.v.tagConfig.OverlayMode&&this.v.tagConfig.OverlaySettings&&!0===this.v.tagConfig.OverlaySettings.showLogoOutside&&(this.sponsor=new u(this.v),this.mainContainer.appendChild(this.sponsor.container)),(this.v.tagConfig.PlayerAdOverlayText||this.v.tagConfig.PlayerContentOverlayText||this.v.tagConfig.PlayerContentOverlayThumbnail)&&(this.playerPreviewOverlay=document.createElement("div"),this.playerPreviewOverlay.id="vi-stories-player-preview-overlay",this.playerPreviewOverlay.classList.add("displayFlex","displayNone","viTruncate1Line","vi-stories-position",this.v.tagConfig.PlayerOverlayTextPosition),this.playerTextOverlay=document.createElement("div"),this.playerTextOverlay.id="vi-stories-player-text-overlay",this.playerPreviewOverlay.appendChild(this.playerTextOverlay),this.v.tagConfig.PlayerContentOverlayThumbnail&&(this.playerImageOverlay=document.createElement("div"),this.playerImageOverlay.id="vi-stories-player-image-overlay",this.playerPreviewOverlay.appendChild(this.playerImageOverlay)),this.playerContainer&&this.playerContainer.appendChild(this.playerPreviewOverlay)),this.v.tagConfig.DisplayAd&&(this.displayAd=new g(this.v),this.mainContainer.appendChild(this.displayAd.container),this.displayAd.init()),this.v.tagConfig.DisplayBanner&&(this.displayBanner=new f(this.v),this.playerContainer&&this.playerContainer.appendChild(this.displayBanner.container)),"none"!==this.v.tagConfig.PlaylistSettings.ui&&!1===this.v.state.defaultVideo&&(this.playlistUi=new B(this.v),this.playlistUi.addEventListener("vi-stories-video-open-event",function(){h.player&&h.player.playNextVideo(),h.player&&h.playerPreviewOverlay&&h.playerPreviewOverlay.classList.add("displayNone")},this),this.mainContainer.appendChild(this.playlistUi.container)),this.v.tagConfig.SocialSharing&&(this.socialSharing=new J(this.v)),this.v.tagConfig.PlayerSuggestionOverlay&&(this.suggestions=new nt(this.v),this.suggestions.addEventListener("vi-stories-video-open-event",function(){h.player&&h.player.playNextVideo(),h.player&&h.playerPreviewOverlay&&h.playerPreviewOverlay.classList.add("displayNone")},this),this.playerContainer&&this.playerContainer.appendChild(this.suggestions.container)),this.v.tagConfig.UnmuteOverlay&&(this.unmuteOverlay=new ct(this.v),this.unmuteOverlay.addEventListener("vi-stories-unmute-from-overlay-event",function(){h.player&&h.player.unmutePlayer()},this),this.playerContainer&&this.playerContainer.appendChild(this.unmuteOverlay.container)),this.v.video.filter(function(t){return t.licenseInfo})&&(this.licenseInfo=new T(this.v)),this.v.tagConfig.Prebid&&this.v.prebidConfig&&this.v.prebidConfig.adUnits&&0<this.v.prebidConfig.adUnits.length&&1===this.v.env.adUnitId&&(this.prebid=new q(this.v),this.prebid.addEventListener("vi-stories-prebid-imp-event",function(){h.player.closePlayer(),h.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")}),this.prebid.addEventListener("vi-stories-prebid-nobid-event",function(){h.fallback&&(h.fallback.waitForPrebid=!1)}),(this.v.env.fif&&window.frameElement&&window.frameElement.parentNode||this.v.topDiv).appendChild(this.prebid.container)),this.v.tagConfig.FallbackTag&&(this.fallback=new k(this.v),this.fallback.addEventListener("vi-stories-fallback-event",function(){h.player.closePlayer("ad-sources-exhausted"),h.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")}),this.v.tagConfig.Prebid&&this.v.prebidConfig&&(this.fallback.waitForPrebid=!0)),this.player&&(this.boundClosePlayer=this.player.closePlayer.bind(this.player,"close-button"),this.updateCloseButton(),this.handlePlayerEvents()))}},{key:"dispose",value:function(){var t;this.dispatchEvent("vi-stories-close-gui-event"),this.description&&this.description.dispose(),this.displayAd&&this.displayAd.dispose(),this.displayBanner&&this.displayBanner.dispose(),this.licenseInfo&&this.licenseInfo.dispose(),this.playlistUi&&this.playlistUi.dispose(),this.socialSharing&&this.socialSharing.dispose(),this.suggestions&&this.suggestions.dispose(),this.unmuteOverlay&&this.unmuteOverlay.dispose(),this.mainContainer&&((t=this.v.topDiv.querySelector("#vi-stories-main-placeholder"))&&t.parentNode.removeChild(t),(t=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder"))&&t.parentNode.removeChild(t),this.v.topDiv.removeChild(this.mainContainer)),!this.v.tagConfig.FallbackTag&&!this.v.tagConfig.Prebid&&window.frameElement&&window.frameElement.parentElement&&window.frameElement.parentElement.removeChild(window.frameElement)}},{key:"enableOverlayMode",value:function(t){t?this.mainContainer.classList.add("vi-stories-overlay-ui-enable"):this.mainContainer.classList.remove("vi-stories-overlay-ui-enable")}},{key:"showOverlayMode",value:function(t){t?this.mainContainer.classList.add("vi-stories-overlay-ui-show"):this.mainContainer.classList.remove("vi-stories-overlay-ui-show")}},{key:"updateCloseButton",value:function(){var t=!1;"hide"===this.v.tagConfig.CloseButton?t=!1:"show"===this.v.tagConfig.CloseButton?t=!0:"whileFloating"===this.v.tagConfig.CloseButton&&(t=!!this.v.state.adUnitIsFloated),"inside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location?this.mainContainer.classList.add("vi-stories-close-button-inside"):this.mainContainer.classList.remove("vi-stories-close-button-inside"),t?(this.mainContainer.classList.add("vi-stories-close-button-show"),this.closeButton.classList.remove("displayNone"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1)):(this.mainContainer.classList.remove("vi-stories-close-button-show"),this.closeButton.classList.add("displayNone"),this.closeButton.removeEventListener("click",this.boundClosePlayer,!1)),this.updateCloseButtonTimer()}},{key:"updateCloseButtonTimer",value:function(){var t;"ad"===this.v.state.currentVideoType&&0<(t=this.player.getRemainingSkipTime())?(this.closeButton.classList.add("vi-stories-close-timer"),this.closeButton.classList.remove("pointer"),this.closeButton.removeEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML=t):(this.closeButton.classList.remove("vi-stories-close-timer"),this.closeButton.classList.add("pointer"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML="")}},{key:"updateAdOverlayText",value:function(){var t=this.player.getRemainingTime();this.playerPreviewOverlay&&(0<t?(this.playerPreviewOverlay.classList.remove("displayNone"),this.playerImageOverlay&&this.playerImageOverlay.classList.add("displayNone"),this.playerTextOverlay.innerText=this.v.tagConfig.PlayerAdOverlayText.replace("[X]",t)):this.playerPreviewOverlay.classList.add("displayNone"))}},{key:"updateContentOverlayText",value:function(){var t,e,i=this.player.getRemainingTime();this.playerPreviewOverlay&&(0<i&&i<=this.v.tagConfig.PlayerContentOverlayTime?(this.playerPreviewOverlay.classList.remove("displayNone"),this.playerImageOverlay&&this.playerImageOverlay.classList.remove("displayNone"),t=this.v.tagConfig.PlayerContentOverlayText,e="url("+this.v.video[this.v.videoIdx+1].thumbnail+")",-1!==this.v.tagConfig.PlayerContentOverlayText.indexOf("[X]")&&(t=t.replace("[X]",i)),-1!==this.v.tagConfig.PlayerContentOverlayText.indexOf("[Y]")&&(t=t.replace("[Y]",this.v.video[this.v.videoIdx+1].title)),this.playerImageOverlay&&(this.playerImageOverlay.style.backgroundImage=e),this.playerTextOverlay.innerText=t):this.playerPreviewOverlay.classList.add("displayNone"))}},{key:"checkResize",value:function(){var t;this.resizeCheck.counter++,this.resizeCheck.counter!==this.resizeCheck.maxCount&&((t=(t=this.v.topDiv&&window.getComputedStyle(this.v.topDiv,null))&&this.v.topDiv.clientWidth-parseFloat(t.getPropertyValue("padding-left"))-parseFloat(t.getPropertyValue("padding-right")))&&1<=Math.abs(this.resizeCheck.storedWidth-t)?(this.resizeCheck.storedWidth=t,this.mainContainer&&(this.mainContainer.style.width=t+"px"),this.player&&this.player.resize(t)):window.requestAnimationFrame(this.boundCheckResize))}},{key:"launchCompanionAdForVideoAd",value:function(){this.companionAdForVideoAd=!0,this.displayBanner?this.displayBanner.close():(this.displayBanner=new f(this.v),this.playerContainer&&this.playerContainer.appendChild(this.displayBanner.container)),this.displayBanner.config=this.player.adCompanion,this.displayBanner.init()}},{key:"handlePlayerEvents",value:function(){var i=this,n={"vi-stories-ad-ready-event":this.onPlayerAdReady,"vi-stories-ad-impression-event":this.onPlayerAdImpression,"vi-stories-ad-complete-event":this.onPlayerAdComplete,"vi-stories-ad-skipped-event":this.onPlayerAdSkiped,"vi-stories-adsourcesexhausted-event":this.onPlayerAdsourcesexhausted,"vi-stories-content-impression-event":this.onPlayerContentImpression,"vi-stories-content-playing-event":this.onPlayerContentPlaying,"vi-stories-current-content-complete-event":this.onPlayerCurrentContentComplete,"vi-stories-all-content-complete-event":this.onPlayerAllContentComplete,"vi-stories-play-event":this.onPlayerPlay,"vi-stories-pause-event":this.onPlayerPause,"vi-stories-mute-unmute-event":this.onPlayerMuteUnmute,"vi-stories-new-content-event":this.onPlayerNewContent,"vi-stories-close-player-event":this.onPlayerClose,"vi-stories-timeupdate-event":this.onPlayerTimeupdate,"vi-stories-viewability-change-event":this.onPlayerViewabilityChange};Object.keys(n).forEach(function(e){"function"==typeof n[e]&&i.player.addEventListener(e,function(t){n[e].call(i)},i)})}},{key:"onPlayerAdReady",value:function(){this.displayAd&&!this.v.state.displayAdIsVisible&&this.displayAd.hide()}},{key:"onPlayerAdImpression",value:function(){this.displayBanner&&this.displayBanner.hide(),this.licenseInfo&&this.licenseInfo.hide(),this.licenseInfo&&this.licenseInfo.hideLicenseInfoDialog(),this.socialSharing&&this.socialSharing.hide(),this.unmuteOverlay&&this.unmuteOverlay.showOverAd(),0<this.v.tagConfig.OverlayMode&&(this.enableOverlayMode(!1),this.showOverlayMode(!1)),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&this.suggestions&&this.suggestions.hide(),this.v.tagConfig.PlayerAdOverlayText?this.updateAdOverlayText():this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone"),this.updateCloseButton()}},{key:"onPlayerAdComplete",value:function(){this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone"),this.player.adCompanion&&!this.companionAdForVideoAd&&this.launchCompanionAdForVideoAd()}},{key:"onPlayerAdSkiped",value:function(){this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone"),this.player.adCompanion&&!this.companionAdForVideoAd&&this.launchCompanionAdForVideoAd()}},{key:"onPlayerAdsourcesexhausted",value:function(){this.v.state.adUnitIsClicked||Object(b.e)("WF_END",{},this.v),this.v.tagConfig.FallbackTag||"1"!==this.v.tagConfig.AdUnitType.toString()||this.player.closePlayer("ad-sources-exhausted"),this.prebid&&(this.prebid.adsourcesexhausted=!0),this.fallback&&(this.fallback.adsourcesexhausted=!0),this.v.tagConfig.CallbackFunction&&"function"==typeof this.v.tagConfig.CallbackFunction&&this.v.tagConfig.CallbackFunction("ERROR")}},{key:"onPlayerContentImpression",value:function(){this.v.tagConfig.DisplayBanner&&this.displayBanner&&!this.companionAdForVideoAd&&(this.displayBanner.config=this.v.tagConfig.DisplayBanner,this.displayBanner.init())}},{key:"onPlayerContentPlaying",value:function(){this.displayBanner&&this.displayBanner.show(),this.licenseInfo&&this.licenseInfo.show(),this.socialSharing&&this.socialSharing.show(),this.unmuteOverlay&&this.unmuteOverlay.showOverContent(),0<this.v.tagConfig.OverlayMode&&(this.enableOverlayMode(!0),this.showOverlayMode(!1)),this.updateCloseButton()}},{key:"onPlayerCurrentContentComplete",value:function(){this.displayBanner&&this.displayBanner.close(),this.playerPreviewOverlay&&this.playerPreviewOverlay.classList.add("displayNone")}},{key:"onPlayerAllContentComplete",value:function(){this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("end")&&(this.suggestions&&this.suggestions.show(),0<this.v.tagConfig.OverlayMode&&this.enableOverlayMode(!1))}},{key:"onPlayerPlay",value:function(){0<this.v.tagConfig.OverlayMode&&this.showOverlayMode(!1),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&"content"===this.v.state.currentVideoType&&(this.suggestions&&this.suggestions.hide(),0<this.v.tagConfig.OverlayMode&&this.enableOverlayMode(!0))}},{key:"onPlayerPause",value:function(){0<this.v.tagConfig.OverlayMode&&this.showOverlayMode(!0),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&"content"===this.v.state.currentVideoType&&(this.suggestions&&this.suggestions.show(),0<this.v.tagConfig.OverlayMode&&this.enableOverlayMode(!1))}},{key:"onPlayerMuteUnmute",value:function(){this.unmuteOverlay&&this.unmuteOverlay.unmuteFromPlayer()}},{key:"onPlayerNewContent",value:function(){this.companionAdForVideoAd=!1,this.displayBanner&&this.displayBanner.close(),this.licenseInfo&&this.licenseInfo.hide(),this.licenseInfo&&this.licenseInfo.hideLicenseInfoDialog(),this.socialSharing&&this.socialSharing.hide(),this.suggestions&&this.suggestions.hide(),this.description&&this.description.update(),this.playlistUi&&this.playlistUi.update(),this.displayBanner&&this.displayBanner.init()}},{key:"onPlayerClose",value:function(){this.dispose()}},{key:"onPlayerTimeupdate",value:function(){"ad"===this.v.state.currentVideoType&&this.v.tagConfig.PlayerAdOverlayText&&-1!==this.v.tagConfig.PlayerAdOverlayText.indexOf("[X]")&&this.updateAdOverlayText(),"content"===this.v.state.currentVideoType&&(this.v.tagConfig.PlayerContentOverlayText||this.v.tagConfig.PlayerContentOverlayThumbnail)&&this.v.video[this.v.videoIdx+1]&&!this.v.state.pendingNextTrack&&this.updateContentOverlayText(),"hide"!==this.v.tagConfig.CloseButton&&0<this.player.config.skipTimer&&this.updateCloseButtonTimer()}},{key:"onPlayerViewabilityChange",value:function(){this.companionAd&&this.companionAd.show(),this.displayAd&&this.displayAd.show(),this.prebid&&this.prebid.show(),"whileFloating"===this.v.tagConfig.CloseButton&&this.updateCloseButton()}},{key:"player",get:function(){return this._player},set:function(t){this._player=t}},{key:"mainContainer",get:function(){return this._mainContainer},set:function(t){this._mainContainer=t}},{key:"playerContainer",get:function(){return this._playerContainer},set:function(t){this._playerContainer=t}}],ut(Ct.prototype,jt),Ct);function Ct(t,e){var i;!function(t){if(!(t instanceof Ct))throw new TypeError("Cannot call a class as a function")}(this),(i=pt(this,gt(Ct).call(this))).v=t,i._player=null,i._mainContainer=null,i._playerContainer=null,i.companionAdForVideoAd=!1,i.v.tagConfig=Object(w.c)(i.v.tagConfig,mt[i.v.tagConfig.AdUnitType.toString()]);var n,o=0,s=0,a=!1,t=document.getElementById(i.v.topDivId);if(!t){if(-1!==i.v.tagConfig.StopCondition.indexOf("missingDivID")&&i.v.topDivId!=="vi-stories-top-div-"+i.v.env.adUnitId)return Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": missingDivID"},i.v),pt(i);if((t=document.createElement("div")).id=i.v.topDivId,i.v.tagConfig.PlacementSelector)if((n=Object(w.w)(i.v.tagConfig.PlacementSelector.position,i.v.tagConfig.PlacementSelector.selector,t))&&"exact"===i.v.tagConfig.PlacementSelector.position)(t=n).id?i.v.topDivId=t.id:t.id=i.v.topDivId;else if(!n&&-1!==i.v.tagConfig.StopCondition.indexOf("missingPlacementSelector"))return Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": missingPlacementSelector"},i.v),pt(i);n||e.parentNode.insertBefore(t,e)}t.classList.add("vi-stories-top-div","viUnit"+i.v.tagConfig.AdUnitType),i.v.topDiv=t,window.frameElement&&0<window.frameElement.offsetHeight?r=window.frameElement.getBoundingClientRect():0===(r=i.v.topDiv.getBoundingClientRect()).width&&0===r.height&&(r=i.v.topDiv.parentNode.getBoundingClientRect()),i.v.tagConfig.FixedRatio?s=100<r.height&&r.height*i.v.tagConfig.FixedRatio<r.width?(o=r.height*i.v.tagConfig.FixedRatio,r.height):(o=r.width,r.width/i.v.tagConfig.FixedRatio):o=(a=i.v.tagConfig.Resize65&&100<r.height&&r.height*i.v.tagConfig.Resize65Ratio<r.width)?r.height*i.v.tagConfig.Resize65Ratio:r.width;o=Math.floor(o),s=Math.floor(s),e=document.createElement("div");e.id="vi-stories-main-placeholder",e.classList.add("displayNone"),i.mainContainer=document.createElement("div"),i.mainContainer.id="vi-stories-main-container",i.mainContainer.classList.add("vi-stories-main-container","vi-stories-z-index-base",Object(w.F)(o)),i.mainContainer.style.width=o+"px",Object(w.q)()&&i.mainContainer.classList.add("vi-stories-mobile"),i.v.tagConfig.FixedRatio&&i.mainContainer.classList.add("fixedRatio"),0<i.v.tagConfig.OverlayMode&&i.mainContainer.classList.add("vi-stories-overlay-ui","vi-stories-overlay-ui-enable","vi-stories-overlay-ui-show"),s&&(i.mainContainer.style.height=s+"px"),i.playerContainer=document.createElement("div"),i.playerContainer.id="vi-stories-player-container",i.playerContainer.classList.add("vi-stories-player-container","vi-stories-z-index-base");t=document.createElement("div");t.id="vi-stories-ad-container";var r=document.createElement("div");return r.id="vi-stories-gui-container",i.closeButton=document.createElement("div"),i.closeButton.id="vi-stories-close-button",i.closeButton.classList.add("pointer","displayNone","vi-stories-position",i.v.tagConfig.CloseButtonSettings.position,i.v.tagConfig.CloseButtonSettings.location),i.playerContainer.appendChild(t),i.playerContainer.appendChild(r),i.mainContainer.appendChild(i.playerContainer),i.mainContainer.appendChild(i.closeButton),i.v.topDiv.appendChild(e),i.v.topDiv.appendChild(i.mainContainer),i.resizeCheck={storedWidth:i.v.tagConfig.ResizeCheckAfterLoad&&(i.v.tagConfig.FixedRatio||a?0:o),counter:0,maxCount:60},i.resizeCheck.storedWidth&&(i.boundCheckResize=i.checkResize.bind(ft(i)),i.boundCheckResize()),!Object(w.u)(i.v.topDiv.parentNode)||0===i.v.topDiv.parentNode.offsetHeight&&0===o?(Object(b.e)("ERROR",{error_msg:m.e.nonVisible},i.v),pt(i)):(i.v.env.amp||!i.v.tagConfig.HideUnit||-1===i.v.tagConfig.HideUnit.indexOf("beforeAd")&&-1===i.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")||(i.v.tagConfig.ClickToPlay=!1,i.v.tagConfig.DelayWaterfallStart=!1,i.v.tagConfig.DisplayAd=null,i.mainContainer.classList.add("hideUnitBeforeAd","displayNone"),i.v.env.fif&&window.frameElement&&(window.frameElement.style.display="none")),i.size={width:o,height:s},i)}function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot,kt={1:{openAnim:!0},2:{},4:{width:300,height:150}},_t=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(Tt,C.a),jt=[{key:"init",value:function(){var e,i,n,o,s,t,a,r=this,l=!1;Object(w.q)()&&!Object(w.v)()&&(this.config.preloader.nativeVideo=!0),this.v.tagConfig.AutoStart?(this.config.autoPlay=!0,this.config.preloader.autoplay=!0):(this.config.autoPlay=!1,this.config.preloader.autoplay=!1),this.v.tagConfig.ClickToPlay&&!this.v.tagConfig.DelayWaterfallStart?this.config.clickToPlay=!0:this.config.clickToPlay=!1,this.v.state.adUnitIsClicked=!1,this.config.playOnView=!0,this.config.autoplayContent=!0,this.config.showPlayer=!0,this.v.state.adIsLoaded=!1,Object(w.q)()&&(this.boundVisibilitychange=this.onVisibilitychange.bind(this),document.addEventListener("visibilitychange",this.boundVisibilitychange,!1));try{window.avPlayer?this.videoPlayer=new window.avPlayer(this.config):this.videoPlayer=new window.parent.avPlayer(this.config)}catch(e){return void Object(b.e)("ERROR",{error_msg:m.e.initPlayer},this.v)}return"0"!==this.config.templateType&&this.videoPlayer.startTemplate(this.v.topDiv.querySelector("#"+this.config.position).parentNode),this.videoPlayer.on("Inventory",function(){r.v.topDiv.parentElement.querySelector("#AVLoader"+r.config.position).contentWindow.setTimeout=window.setTimeout,r.v.topDiv.parentElement.querySelector("#AVLoader"+r.config.position).contentWindow.clearTimeout=window.clearTimeout,(e=r.playerContainer.querySelector("#AVcontent"))&&(r.boundCheckContentProgress=r.checkContentProgress.bind(r),e.addEventListener("timeupdate",r.boundCheckContentProgress,!1),r.v.tagConfig.ContentClickthrough&&(r.boundContentClick=r.onContentClick.bind(r),e.addEventListener("click",r.boundContentClick,!1),e.classList.add("pointer"))),(i=r.playerContainer.querySelector("#play-pause"))&&(r.boundPauseBtnClick=r.onPauseBtnClick.bind(r),i.addEventListener("click",r.boundPauseBtnClick,!1)),(o=r.playerContainer.querySelector("#sound"))&&(r.boundMuteBtnClick=r.onMuteBtnClick.bind(r),o.addEventListener("click",r.boundMuteBtnClick,!1)),(n=r.playerContainer.querySelector("#big-play"))&&(r.boundBigPlayBtnClick=r.onBigPlayBtnClick.bind(r),n.addEventListener("click",r.boundBigPlayBtnClick,!1)),Object(b.e)("INVENTORY",{},r.v)}),this.videoPlayer.on("AdLoaded",function(){r.v.state.adIsLoaded=!0,r.dispatchEvent("vi-stories-ad-ready-event"),r.tryShowUnit(),r.tryStartAd()}),this.videoPlayer.on("ContentImpression",function(){r.v.state.currentVideoType="content";var t=r.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),Object(b.e)("NV_START",{},r.v),r.v.state.playerIsMuted||r.videoPlayer.setContentVolume(1),r.dispatchEvent("vi-stories-content-impression-event"),r.dispatchEvent("vi-stories-content-playing-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:r.v})}),this.videoPlayer.on("ContentPlaying",function(){r.v.state.currentVideoType="content";var t=r.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),r.videoPlayer.updateGui({showTimeline:!0}),r.v.state.playerIsMuted||r.videoPlayer.setContentVolume(1),r.dispatchEvent("vi-stories-content-playing-event")}),this.videoPlayer.on("ContentComplete",function(){r.v.state.currentVideoType=void 0,r.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-playing-ad","vi-stories-playing-content"),Object(b.e)("NV_100",{},r.v),r.videoPlayer.updateGui({showTimeline:!1}),r.dispatchEvent("vi-stories-current-content-complete-event"),r.v.video[r.v.videoIdx+1]&&0<r.v.tagConfig.PlaylistMode&&r.v.videoIdx+1<r.v.tagConfig.PlaylistLength?(r.v.state.pendingNextIdx=r.v.videoIdx+1,1===r.v.tagConfig.PlaylistMode?(r.v.state.pendingNextTrack=!0,r.videoPlayer.close()):2===r.v.tagConfig.PlaylistMode&&(r.playlistConfig.sinceLastAd+=r.v.video[r.v.videoIdx].duration,!r.v.tagConfig.PauseOutOfViewPlaylist||r.v.state.adUnitInView||r.v.state.adUnitIsFloated?(r.v.state.pendingNextTrack=!0,r.videoPlayer.close()):r.v.state.outOfViewPaused=!0)):(r.floatUnit(!1),r.dispatchEvent("vi-stories-all-content-complete-event"),!r.v.env.amp&&r.v.tagConfig.HideUnit&&-1!==r.v.tagConfig.HideUnit.indexOf("afterContent")&&r.closePlayer("all-content-complete"))}),this.videoPlayer.on("AdImpression",function(t){r.v.state.currentVideoType="ad",r.v.env.asid=t.asid,r.viewableImp=!1;t=r.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-content"),t.classList.add("vi-stories-playing-ad"),r.videoPlayer.updateGui({showTimeline:!1}),r.v.state.playerIsMuted||r.videoPlayer.unmute(),(r.v.tagConfig.PlayerAdOverlayText&&-1!==r.v.tagConfig.PlayerAdOverlayText.indexOf("[X]")||0<r.config.skipTimer)&&(r.boundCheckAdProgress=r.checkAdProgress.bind(r),s&&clearInterval(s),s=setInterval(r.boundCheckAdProgress,1e3)),r.v.tagConfig.IASPixelEnabled&&Object(b.c)(r.v.tagConfig.AppBundle||r.v.env.pageDomain,r.v.tagConfig.PublisherID,r.v.env.asid),r.viewableImpMonitorStart();t={ad_source_id:r.v.env.asid};Object(b.e)("IMP",t,r.v),l=!0,2===r.v.tagConfig.PlaylistMode&&(r.playlistConfig.playedAds++,r.playlistConfig.sinceLastAd=0),r.dispatchEvent("vi-stories-ad-impression-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:r.v}),r.v.tagConfig&&r.v.tagConfig.CallbackFunction&&"function"==typeof r.v.tagConfig.CallbackFunction&&r.v.tagConfig.CallbackFunction("SUCCESS")}),this.videoPlayer.on("AdError",function(t){t&&!0===t.errorlimit&&!0!==l&&r.dispatchEvent("vi-stories-adsourcesexhausted-event")}),this.videoPlayer.on("AdClickThru",function(){var t={ad_source_id:r.v.env.asid};Object(b.e)("CLICK",t,r.v)}),this.videoPlayer.on("AdClosed",function(){e&&(e.removeEventListener("timeupdate",r.boundCheckContentProgress,!1),r.v.tagConfig.ContentClickthrough&&(e.removeEventListener("click",r.boundContentClick,!1),e.classList.remove("pointer"))),i&&i.removeEventListener("click",r.boundPauseBtnClick,!1),o&&o.removeEventListener("click",r.boundMuteBtnClick,!1),n&&n.removeEventListener("click",r.boundBigPlayBtnClick,!1);var t=r.v.topDiv.querySelector("#vi-stories-preloader-play-icon");t&&t.removeEventListener("click",r.boundPreloaderPlayIconClick,!1),s&&(clearInterval(s),s=null),document.removeEventListener("visibilitychange",r.boundVisibilitychange),r.viewableImpMonitorStop(),r.stopViewability(),"ad"===r.v.state.currentVideoType?Object(b.e)("AD_CLOSE",{},r.v):Object(b.e)("NV_CLOSE",{},r.v),r.v.state.pendingNextTrack?(r.v.state.pendingNextTrack=!1,r.v.videoIdx=r.v.state.pendingNextIdx,(t=r.v.topDiv.querySelector("#"+r.config.position)).innerHTML="",t.style.display="block",r.restartPlayer()):(r.floatUnit(!1),r.v.env.fif&&window.frameElement?setTimeout(function(){r.dispatchEvent("vi-stories-close-player-event"),r.dispose()},1e3):(r.dispatchEvent("vi-stories-close-player-event"),r.dispose()),r.v.state.closeReason&&r.v.tagConfig.CustomActions&&Object(w.y)(r.v.tagConfig.CustomActions,r.v))}),this.videoPlayer.on("AdSkipped",function(){s&&clearInterval(s),r.viewableImpMonitorStop(),r.dispatchEvent("vi-stories-ad-skipped-event"),"1"===r.v.tagConfig.AdUnitType.toString()&&r.closePlayer("ad-skipped")}),this.videoPlayer.on("AdVideoFirstQuartile",function(){var t={ad_source_id:r.v.env.asid};Object(b.e)("AD_25",t,r.v)}),this.videoPlayer.on("AdVideoMidpoint",function(){var t={ad_source_id:r.v.env.asid};Object(b.e)("AD_50",t,r.v)}),this.videoPlayer.on("AdVideoThirdQuartile",function(){var t={ad_source_id:r.v.env.asid};Object(b.e)("AD_75",t,r.v)}),this.videoPlayer.on("AdVideoComplete",function(){s&&clearInterval(s),r.viewableImpMonitorStop();var t={ad_source_id:r.v.env.asid};Object(b.e)("AD_100",t,r.v),r.dispatchEvent("vi-stories-ad-complete-event"),"1"===r.v.tagConfig.AdUnitType.toString()&&r.closePlayer("ad-complete")}),this.startViewability(),this.boundTabFocusChange=this.onTabFocusChange.bind(this),window.addEventListener("focus",this.boundTabFocusChange),window.addEventListener("blur",this.boundTabFocusChange),this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay||this.v.tagConfig.PlayInView)?((a=document.createElement("div")).id="vi-stories-preloader-thumbnail",a.style.backgroundImage="url("+this.v.video[this.v.videoIdx].thumbnail+")",(t=this.v.topDiv.querySelector("#"+this.config.aniBox)).appendChild(a),this.v.tagConfig.ClickToPlay&&(this.boundPreloaderPlayIconClick=this.onPreloaderPlayIconClick.bind(this),(a=document.createElement("div")).id="vi-stories-preloader-play-icon",a.addEventListener("click",this.boundPreloaderPlayIconClick,!1),t.appendChild(a))):this.videoPlayer.play(this.config),this.videoPlayer}},{key:"dispose",value:function(){this.removeAllListeners(),window.removeEventListener("focus",this.boundTabFocusChange),window.removeEventListener("blur",this.boundTabFocusChange)}},{key:"resize",value:function(i){var n=this;this.videoPlayer&&setTimeout(function(){var t=Math.round(i/16*9),e=n.v.topDiv.querySelector("#"+n.config.aniBox);e&&(n.videoPlayer.resize(i,t),e.style.width=i+"px",e.style.height=t+"px")},1e3)}},{key:"closePlayer",value:function(t){this.v.state.pendingNextTrack||(this.v.state.closeReason=t,this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("displayNone"),(t=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder"))&&t.classList.add("displayNone"),this.v.env.fif&&window.frameElement&&!this.v.tagConfig.FallbackTag&&(window.frameElement.style.display="none")),this.videoPlayer.close()}},{key:"setVideoSource",value:function(){this.config.preloader.link=this.v.video[this.v.videoIdx].url,this.config.preloader.poster=this.v.video[this.v.videoIdx].thumbnail;var t,e,i={AV_CDIM1:this.v.video[this.v.videoIdx].sourceId,AV_CUSTOM10:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category,AV_IAB:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category};for(e in this.v.tagConfig.KeywordSearch&&(t=Object(w.x)(this.v.tagConfig.KeywordSearch,"param","VI_","AV_"),i=Object(w.c)(i,Object(w.f)(t))),this.v.tagConfig.CustomAdParams&&(t=Object(w.x)(this.v.tagConfig.CustomAdParams,"param","VI_","AV_"),i=Object(w.c)(i,Object(w.g)(t,this.v))),i)i.hasOwnProperty(e)&&(this.config.ref1[e]=i[e]);C.b.dispatchEvent("vi-stories-unit-event",{action:"update",v:this.v})}},{key:"restartPlayer",value:function(){this.setVideoSource();var t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(b.e)("NV_LOADED",t,this.v),2===this.v.tagConfig.PlaylistMode&&(this.v.tagConfig.AutoStart=!0,this.playlistConfig.playedAds<this.playlistConfig.maximp&&this.playlistConfig.sinceLastAd>=this.playlistConfig.midrolltime?(this.config.preroll=1,this.config.maximp=1):(this.config.preroll=0,this.config.maximp=0)),delete window.storageAni,this.firstQuartile=this.midpoint=this.thirdQuartile=!1,this.init(),this.dispatchEvent("vi-stories-new-content-event")}},{key:"playNextVideo",value:function(){this.v.state.playerIsPaused=!1,this.videoPlayer.close()}},{key:"intersectionHandler",value:function(t){var i=this;t.forEach(function(t){var e=t.boundingClientRect.height,t=t.intersectionRect.height,t=Math.round(t/e),e=i.v.state.adUnitInViewOnce;t>i.v.tagConfig.InViewRatio?(i.v.state.adUnitInView=!0,i.v.state.adUnitInViewOnce=!0):i.v.state.adUnitInView=!1,i.tryStartAd(),i.v.state.adUnitInViewOnce&&i.showPlayer(t>i.v.tagConfig.InViewRatio?"IN_VIEW":"OUT_BOTTOM",t),!e&&i.v.state.adUnitInViewOnce&&Object(b.e)("INVIEW",{},i.v),i.handleOutOfView(),i.dispatchEvent("vi-stories-viewability-change-event")})}},{key:"startViewability",value:function(){var a=this;this.v.env.amp?(this.v.tagConfig.Float=!1,this.videoPlayer.startViewability(this.v.topDivId,function(){},this.v.tagConfig.InViewRatio),window.context&&window.context.renderStart?(window.context.renderStart(),window.context.observeIntersection(this.intersectionHandler.bind(this))):(window.top.postMessage({sentinel:"amp",type:"send-intersections"},"*"),window.addEventListener("message",function(t){t.source===window.parent&&t.origin!==window.location.origin&&t.data&&"amp"===t.data.sentinel&&"intersection"===t.data.type&&a.intersectionHandler(t.data.changes)}))):this.videoPlayer.startViewability(this.v.topDivId,function(t,e,i,n){var o=a.v.state.adUnitInViewOnce;"IN_VVIEW"===i&&(i="IN_VIEW");var s=a.getIframeViewability();s&&(i=s.state,e=s.ratio),"IN_VIEW"===i||e>a.v.tagConfig.InViewRatio?(a.v.state.adUnitInView=!0,a.v.state.adUnitInViewOnce=!0):a.v.state.adUnitInView=!1,a.tryStartAd(),a.v.state.adUnitInViewOnce&&a.showPlayer(i,e),!o&&a.v.state.adUnitInViewOnce&&Object(b.e)("INVIEW",{},a.v),a.handleOutOfView(),a.viewableImpMonitorStart(),a.dispatchEvent("vi-stories-viewability-change-event")},this.v.tagConfig.InViewRatio)}},{key:"stopViewability",value:function(){this.videoPlayer.stopViewability()}},{key:"getViewability",value:function(){var t=this.getIframeViewability()||this.videoPlayer.getViewability(),t=t&&t.state;return"IN_VVIEW"===t?"IN_VIEW":t}},{key:"getIframeViewability",value:function(){if(window.frameElement&&this.v.env.fif){var t=(this.v.state.adUnitIsFloated&&this.framePlaceHolder?this.framePlaceHolder:window.frameElement).getBoundingClientRect(),e=this.frameScrollHeight||this.v.topDiv.scrollHeight,i=t.top,n=t.top+e,o=window.top&&window.top.innerHeight,o=0===i&&0===n||o<i?{state:"OUT_BOTTOM",ratio:0}:i+e<0?{state:"OUT_TOP",ratio:0}:0<=i&&n<=o?{state:"IN_VIEW",ratio:1}:i<0&&o<n?{state:"BT_TRUNC",ratio:o/e}:i<0&&n<=o?{state:"T_TRUNC",ratio:n/e}:0<=i&&o<n?{state:"B_TRUNC",ratio:(o-i)/e}:{state:"OUT",ratio:0};return("IN_VIEW"===o.state||o.ratio>this.v.tagConfig.InViewRatio)&&!this.v.state.adUnitIsFloated&&window.frameElement&&!this.framePlaceHolder&&(t=window.frameElement.getBoundingClientRect(),i=window.frameElement.parentElement,(e=document.createElement("div")).id="framePlaceHolder",e.style.setProperty("display","none","important"),e.style.width="1px",e.style.height=t.height+"px",i.parentNode.insertBefore(e,i.nextSibling),this.framePlaceHolder=e,this.frameScrollHeight=Math.min(this.v.topDiv.scrollHeight,t.height)),o}return null}},{key:"floatUnit",value:function(t,e){if(this.v.state.adUnitIsFloated!==t&&(!this.v.state.playerIsPaused||this.v.tagConfig.FloatSettings.floatOnPaused||!t)){var i=this.v.tagConfig.FloatSettings[e]||this.v.tagConfig.FloatSettings.any;if((!t||i)&&this.canFloatNow){var n=i&&Object(w.c)({},i.position)||{};if(i&&i.originSelector&&i.originOffset){var e=window.frameElement&&this.v.env.fif&&window.top.document||window.document,o=e.querySelector(i.originSelector);if(o){var s=window.top&&window.top.innerHeight,a=e.body.clientWidth,r=window.getComputedStyle(o,null),l=o.getBoundingClientRect(),d={bottom:s-l.bottom,left:l.left,right:a-l.right,top:l.top};if(["bottom","left","right","top"].forEach(function(t){i.originOffset.hasOwnProperty(t)&&(n[t]=d[t]+(r?parseFloat(r.getPropertyValue("padding-"+t)):0)+parseFloat(i.originOffset[t])+"px")}),t&&(n.bottom&&parseFloat(n.bottom)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=s||n.left&&parseFloat(n.left)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=a||n.right&&parseFloat(n.right)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=a||n.top&&parseFloat(n.top)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=s))return}}this.v.state.adUnitIsFloated=t,C.b.dispatchEvent("vi-stories-unit-event",{action:"float",v:this.v,info:t});var c,v=t?{bottom:void 0!==n.bottom?n.bottom:"",left:void 0!==n.left?n.left:"",position:"fixed",right:void 0!==n.right?n.right:"",top:void 0!==n.top?n.top:"",zIndex:this.v.tagConfig.ZIndexFloat}:{bottom:"",left:"",position:"relative",right:"",top:"",zIndex:this.v.tagConfig.ZIndexBase},h=t?{transform:"scale("+this.v.tagConfig.FloatSize+")",transformOrigin:i.transformOrigin,webkitTransform:"scale("+this.v.tagConfig.FloatSize+")",webkitTransformOrigin:i.transformOrigin}:{transform:"none",transformOrigin:"",webkitTransform:"none",webkitTransformOrigin:""},u=this.v.topDiv.querySelector("#vi-stories-main-container");for(c in h)h.hasOwnProperty(c)&&(u.style[c]=h[c]);if(window.frameElement&&window.frameElement.parentElement){var p,g=window.frameElement.parentElement;for(p in this.framePlaceHolder&&this.framePlaceHolder.style.setProperty("display",t?"block":"none","important"),v.overflow=t?"hidden":"",v)v.hasOwnProperty(p)&&(g.style[p]=v[p]);t?(o="hide"!==this.v.tagConfig.CloseButton&&"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&this.v.env.fif&&window.frameElement?25:0,l=Math.ceil(this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize),y=Math.ceil(this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize)+o,"ribbon"===this.v.tagConfig.FloatLayoutMode&&(a=window.frameElement&&this.v.env.fif&&window.top.document||window.document,s=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47,l=a.body.clientWidth,y=a.body.clientWidth*s*9/16+o),g.style.width=l+"px",g.style.height=y+"px",window.frameElement.style.width="100%",window.frameElement.contentDocument.body.classList.add("vi-stories-floating"),u.style.margin="0",u.style.transformOrigin="top left"):(g.style.width="",g.style.height="",window.frameElement.style.width="",window.frameElement.contentDocument.body.classList.remove("vi-stories-floating"),u.style.margin="0 auto",u.style.transformOrigin="")}else{var f,y=this.v.topDiv.querySelector("#vi-stories-main-placeholder");for(f in y.style.height=u.offsetHeight+"px",t?y.classList.remove("displayNone"):y.classList.add("displayNone"),v)v.hasOwnProperty(f)&&(u.style[f]=v[f])}t?u.classList.add("vi-stories-floating"):u.classList.remove("vi-stories-floating"),"ribbon"===this.v.tagConfig.FloatLayoutMode&&(t?u.classList.add("vi-stories-ribbon-ui"):u.classList.remove("vi-stories-ribbon-ui"),this.playerContainer.style.width="",this.playerContainer.style.height="",this.resize(this.playerContainer.offsetWidth))}}}},{key:"tryShowUnit",value:function(t){var e=!1;!this.v.env.amp&&this.v.tagConfig.HideUnit&&(-1!==this.v.tagConfig.HideUnit.indexOf("beforeAd")?e="beforeAd":-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&(e="beforeRcAndAd")),("beforeAd"===e&&this.v.state.adIsLoaded||"beforeRcAndAd"===e&&this.v.state.remoteControlInViewOnce&&this.v.state.adIsLoaded||("beforeRcAndAd"===e||"beforeAd"===e)&&t)&&(this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block"),(t=this.v.topDiv.querySelector("#vi-stories-main-container"))&&(t.classList.remove("displayNone"),this.resize(t.offsetWidth),"IN_VIEW"===this.getViewability()&&(this.v.state.adUnitInViewOnce=!0)))}},{key:"tryStartAd",value:function(){!this.v.state.adUnitIsClicked&&this.v.tagConfig.ClickToPlay||!(this.v.state.adUnitInViewOnce&&this.v.tagConfig.Float||this.v.state.adUnitInView)&&this.v.tagConfig.PlayInView||(!this.v.state.adUnitInView&&!this.v.state.adUnitIsFloated||!0!==Object(w.m)())&&this.v.tagConfig.PlayInFocus||!(-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&this.v.state.remoteControlInViewOnce||-1===this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd"))||!this.v.state.adIsLoaded||this.v.state.displayAdIsVisible?this.v.tagConfig.DelayWaterfallStart&&this.v.tagConfig.PlayInView&&this.v.state.adUnitInViewOnce&&this.videoPlayer.play(this.config):this.videoPlayer.startAd()}},{key:"showPlayer",value:function(t,e){var i=this.videoPlayer.contentPlaying||this.videoPlayer.playing,n="T_TRUNC"===t||"OUT_TOP"===t?"down":"B_TRUNC"===t||"OUT_BOTTOM"===t?"up":null;if(this.v.tagConfig.FloatSettings.floatOnPaused||i)switch(t){case"IN_VIEW":case"BT_TRUNC":this.floatUnit(!1);break;case"T_TRUNC":case"B_TRUNC":!1===this.v.state.adUnitIsFloated&&this.v.tagConfig.Float&&e<this.v.tagConfig.InViewRatio&&this.floatUnit(!0,n),!0===this.v.state.adUnitIsFloated&&e>this.v.tagConfig.InViewRatio&&this.floatUnit(!1);break;case"OUT_TOP":case"OUT_BOTTOM":this.v.tagConfig.Float&&this.floatUnit(!0,n)}else this.v.tagConfig.PlaylistMode||this.floatUnit(!1)}},{key:"handleOutOfView",value:function(){if(this.v.tagConfig.PauseOutOfView&&!this.v.tagConfig.Float)return this.v.state.adUnitInView||this.v.state.outOfViewPaused?this.v.state.adUnitInView&&this.v.state.outOfViewPaused?this.videoPlayer.playing?(this.v.state.outOfViewPaused=!1,void this.videoPlayer.resume()):this.videoPlayer.contentPlaying?(this.v.state.outOfViewPaused=!1,void this.videoPlayer.resumeContent()):void 0:void 0:this.videoPlayer.playing&&(!this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds||this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds>this.videoPlayer.getAdDuration()-this.videoPlayer.getAdRemainingTime())?(this.v.state.outOfViewPaused=!0,void this.videoPlayer.pause()):this.videoPlayer.contentPlaying?(this.v.state.outOfViewPaused=!0,void this.videoPlayer.pauseContent()):void 0;this.v.tagConfig.PauseOutOfViewPlaylist&&!this.v.tagConfig.Float&&this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&(this.v.state.outOfViewPaused=!1,this.v.state.pendingNextTrack=!0,this.videoPlayer.close())}},{key:"checkContentProgress",value:function(){var t=this.getVideoElementTime().percent;!this.firstQuartile&&25<=t&&(this.firstQuartile=!0,Object(b.e)("NV_25",{},this.v)),!this.midpoint&&50<=t&&(this.midpoint=!0,Object(b.e)("NV_50",{},this.v)),!this.thirdQuartile&&75<=t&&(this.thirdQuartile=!0,Object(b.e)("NV_75",{},this.v)),this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"checkAdProgress",value:function(){this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"getRemainingTime",value:function(){return"ad"===this.v.state.currentVideoType?Math.ceil(this.videoPlayer.getAdRemainingTime()):"content"===this.v.state.currentVideoType?this.getVideoElementTime().remainingTime:0}},{key:"getRemainingSkipTime",value:function(){var t=0;return t="ad"===this.v.state.currentVideoType?Math.ceil(this.config.skipTimer-(this.videoPlayer.getAdDuration()-this.videoPlayer.getAdRemainingTime())):t}},{key:"getVideoElementTime",value:function(){var t=this.playerContainer.querySelector("#AVcontent"),e=t?parseInt(t.currentTime,10):0;isNaN(e)&&(e=0);t=t?parseInt(t.duration,10):0;return{percent:100*e/(t=isNaN(t)?0:t)|0,remainingTime:t-e}}},{key:"viewableImpMonitorStart",value:function(){var e=this,t=!(!this.v.env.amp&&this.v.env.fif)||!0===Object(w.m)(),t=(this.v.state.adUnitInView||this.v.state.adUnitIsFloated)&&t;!t||"ad"!==this.v.state.currentVideoType||this.viewableImp||this.viewableImpTimer?t||this.viewableImpMonitorStop():this.viewableImpTimer=setTimeout(function(){e.viewableImp=!0,e.viewableImpMonitorStop();var t={ad_source_id:e.v.env.asid};Object(b.e)("VIEWABLE_IMP",t,e.v)},2e3)}},{key:"viewableImpMonitorStop",value:function(){clearTimeout(this.viewableImpTimer),this.viewableImpTimer=null}},{key:"onTabFocusChange",value:function(){this.viewableImpMonitorStart()}},{key:"onVisibilitychange",value:function(){var t=this.v&&this.v.state&&this.v.state.playerIsMuted,e=this.v&&this.v.state&&this.v.state.playerIsPaused;!document.hidden||t||e||this.pause()}},{key:"unmutePlayer",value:function(){this.videoPlayer.unmute(),this.videoPlayer.setContentVolume(1),this.onMuteBtnClick()}},{key:"replayVideo",value:function(){var t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(b.e)("NV_REPLAY",t,this.v),this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=this.v.videoIdx,this.v.tagConfig.AutoStart=!0;t=this.v.topDiv.querySelector("#"+this.config.position);t.innerHTML="",t.style.display="block",this.videoPlayer.close()}},{key:"onPauseBtnClick",value:function(t){t=t&&t.currentTarget&&t.currentTarget.className;"replay"===t||"pause"===t&&void 0===this.v.state.currentVideoType?this.replayVideo():(this.v.state.playerIsPaused="pause"===t,this.v.state.playerIsPaused?(this.videoPlayer.playing?Object(b.e)("AD_PAUSE",{},this.v):Object(b.e)("NV_PAUSE",{},this.v),this.v.tagConfig.FloatSettings.floatOnPaused||this.floatUnit(!1),this.dispatchEvent("vi-stories-pause-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"pause",v:this.v,info:"userAction"})):(this.videoPlayer.playing?Object(b.e)("AD_PLAY",{},this.v):Object(b.e)("NV_PLAY",{},this.v),this.dispatchEvent("vi-stories-play-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v,info:"userAction"})))}},{key:"onMuteBtnClick",value:function(t){t?(t="off"===(t&&t.currentTarget&&t.currentTarget.children&&t.currentTarget.children[0]&&t.currentTarget.children[0].className),this.v.state.playerIsMuted=!t):this.v.state.playerIsMuted=!this.videoPlayer.muted,this.v.state.playerIsMuted?this.videoPlayer.playing?Object(b.e)("AD_MUTE",{},this.v):Object(b.e)("NV_MUTE",{},this.v):this.videoPlayer.playing?Object(b.e)("AD_UNMUTE",{},this.v):Object(b.e)("NV_UNMUTE",{},this.v),this.dispatchEvent("vi-stories-mute-unmute-event")}},{key:"onBigPlayBtnClick",value:function(t){this.v.state.adUnitIsClicked=!0,Object(b.e)("NV_CLICK",{},this.v),this.v.tagConfig.UnmuteOnClickStart&&(this.videoPlayer.unmute(),this.videoPlayer.setContentVolume(1),this.v.state.playerIsMuted=!this.videoPlayer.muted,this.dispatchEvent("vi-stories-mute-unmute-event"))}},{key:"onPreloaderPlayIconClick",value:function(t){var e=t&&t.currentTarget;e&&e.classList.add("displayNone"),this.onBigPlayBtnClick(t),this.videoPlayer.play(this.config)}},{key:"onContentClick",value:function(t){Object(b.e)("NV_CLICK_THRU",{},this.v),this.v.tagConfig.ContentClickthrough&&window.open(this.v.tagConfig.ContentClickthrough,"_blank")}},{key:"play",value:function(){this.v.state.playerIsPaused=!1,this.videoPlayer.playing?this.videoPlayer.resume():this.videoPlayer.contentPlaying?this.videoPlayer.resumeContent():this.videoPlayer.AdLoaded?this.videoPlayer.startAd():(this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=this.v.videoIdx,this.v.tagConfig.AutoStart=!0,this.config.openAnim=!1,this.videoPlayer.close()),this.dispatchEvent("vi-stories-play-event")}},{key:"pause",value:function(){this.v.state.playerIsPaused=!0,this.floatUnit(!1),this.videoPlayer.playing&&this.videoPlayer.pause(),this.videoPlayer.contentPlaying&&this.videoPlayer.pauseContent(),this.dispatchEvent("vi-stories-pause-event")}},{key:"playerContainer",get:function(){return this._playerContainer},set:function(t){this._playerContainer=t}},{key:"canFloatNow",get:function(){return this._canFloatNow},set:function(t){this._canFloatNow=t}}],It(Tt.prototype,jt),Tt),Et=i(5);function Tt(t,e,i){var n,o,s;!function(t){if(!(t instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this),o=this,s=xt(Tt).call(this),(n=!s||"object"!==wt(s)&&"function"!=typeof s?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o):s).v=t,n.config=t.playerConfig,n._playerContainer=i,n._canFloatNow=!0,n.videoPlayer=null,n.framePlaceHolder=n.frameScrollHeight=null,n.firstQuartile=n.midpoint=n.thirdQuartile=null,n.viewableImp=n.viewableImpTimer=null,n.playlistConfig={maximp:0,midrolltime:0,playedAds:0,sinceLastAd:0},n.v.tagConfig.IFA&&(n.config.ref1.AV_IDFA=encodeURIComponent(n.v.tagConfig.IFA)),n.v.tagConfig.SubID&&(n.config.ref1.AV_APPNAME=encodeURIComponent(n.v.tagConfig.SubID)),n.v.tagConfig.SubID&&(n.config.ref1.AV_SUBID=encodeURIComponent(n.v.tagConfig.SubID)),n.v.tagConfig.DeviceIsp&&(n.config.ref1.AV_CUSTOM1=encodeURIComponent(n.v.tagConfig.DeviceIsp)),n.v.tagConfig.Latitude&&(n.config.ref1.AV_LATITUDE=n.v.tagConfig.Latitude),n.v.tagConfig.Longitude&&(n.config.ref1.AV_LONGITUDE=n.v.tagConfig.Longitude),n.v.tagConfig.DeviceModel&&(n.config.ref1.AV_MODEL=encodeURIComponent(n.v.tagConfig.DeviceModel)),n.config.ref1.AV_CDIM2=encodeURIComponent(n.v.tagConfig.PublisherID),n.config.ref1.AV_USERAGENT=encodeURIComponent(navigator.userAgent),n.config.ref1.AV_DNT=encodeURIComponent(navigator.doNotTrack||"0"),n.config.ref1.AV_SCHAIN=encodeURIComponent("1.0,1!vi.ai,"+n.v.tagConfig.PublisherID+",1"),e&&e.gdpr&&(n.config.ref1.AV_CUSTOM4=e.gdpr.applies,n.config.ref1.AV_CUSTOM5=e.gdpr.consent),e&&e.ccpa&&(n.config.ref1.AV_CUSTOM3=e.ccpa.uspString),n.v.tagConfig.AppBundle?n.config.ref1.AV_URL=encodeURIComponent(n.v.tagConfig.AppBundle):n.v.env.amp&&(n.config.ref1.AV_URL=encodeURIComponent(n.v.env.pageUrl)),n.config.channelId=n.v.tagConfig.ChannelID,n.config=Object(w.c)(n.config,kt[n.v.tagConfig.AdUnitType.toString()]),["errorLimit","maximp","maxrun","midrolltime","preroll","vastRetry"].forEach(function(t){var e=Object(w.d)(n.v.tagConfig,t);null!==e&&(n.config[t]=e)}),2===n.v.tagConfig.PlaylistMode&&(n.playlistConfig.maximp=n.config.maximp,n.playlistConfig.midrolltime=n.config.midrolltime,n.config.maximp=n.config.preroll,n.config.midrolltime=0),n.setVideoSource(),"playerWL"!==n.v.tagConfig.Player&&"playerWLstage"!==n.v.tagConfig.Player||(n.config.baseJsUrl=m.h.playerWLbase,n.config.adServerDomain=m.h.playerWLdomainAdServer,n.config.trackDomain=m.h.playerWLdomainTrack),n.config.position=n.config.position+"_"+n.v.env.sessionId,n.config.aniBox=n.config.aniBox+"_"+n.v.env.sessionId,n.config.wrapper=n.config.wrapper+"_"+n.v.env.sessionId;t=document.createElement("div");t.id=n.config.wrapper,t.style.width="100%",t.style.margin="0 auto";i=document.createElement("div");i.id=n.config.aniBox,i.style.height="1px";e=document.createElement("div");return e.id=n.config.position,i.appendChild(e),t.appendChild(i),n.playerContainer.appendChild(t),n.config.customCSS||(n.config.customCSS=""),n.config.customCSS+="#"+n.config.position+" {position: relative;transition: all .2s ease-out;} #"+n.config.position+" #AVcontent {background-color: #000; }",n.config.customCSS+=".vi-stories-main-container.vi-stories-suggestion-overlay-show #"+n.config.position+" #av-container #gui::before {background-color: rgba(0, 0, 0, 0.7); height: 10%; opacity: 1; } .vi-stories-main-container.vi-stories-suggestion-overlay-show #"+n.config.position+" #av-container #gui #buttons {opacity: 1; } .vi-stories-main-container.vi-stories-suggestion-overlay-show.vi-stories-width-max-500 #"+n.config.position+" #av-container #gui::before { height: 20%;}",n.config.customCSS+="html #av-container #av-inner #slot #preloader svg.icon{ display:none } html #av-container #av-inner #slot #preloader{ background:url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+') no-repeat center center; background-size:40px;} html #av-container #av-inner #gui #buttons #left #play-pause.play{ background-image:url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+'); } html #av-container #av-inner #gui #big-play {cursor: pointer;background-image:url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+'); width: 61px !important; height: 61px !important; box-sizing: content-box;}",!1===n.config.openAnim&&(n.config.customCSS+="#"+n.config.aniBox+" {transition: none !important;} "),n.v.state.playerIsPaused=!1,n}function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function At(t,e){return(At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jt,Nt={1:{openAnim:!0},2:{},4:{width:300,height:150}},Dt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(Ut,C.a),jt=[{key:"init",value:function(){var t=this;this.playerContainer.style.width=this.config.width+"px",this.playerContainer.style.height=this.config.height+"px";try{this.contentPlayer=new Ot.ContentPlayer(this.playerContainer,this.config)}catch(t){return Object(b.e)("ERROR",{error_msg:"CONTENT_PLAYER initialize: "+(t&&t.message)},this.v),void this.closePlayer("error")}this.contentPlayer.on(Ot.ContentPlayer.Events.canplay,this.onContentPlayerCanplay,this),this.contentPlayer.on(Ot.ContentPlayer.Events.playing,this.onContentPlayerPlaying,this),this.contentPlayer.on(Ot.ContentPlayer.Events.pause,this.onContentPlayerPause,this),this.contentPlayer.on(Ot.ContentPlayer.Events.firstquartile,this.onContentPlayerFirstquartile,this),this.contentPlayer.on(Ot.ContentPlayer.Events.midpoint,this.onContentPlayerMidpoint,this),this.contentPlayer.on(Ot.ContentPlayer.Events.thirdquartile,this.onContentPlayerThirdquartile,this),this.contentPlayer.on(Ot.ContentPlayer.Events.ended,this.onContentPlayerEnded,this),this.contentPlayer.on(Ot.ContentPlayer.Events.click,this.onContentPlayerClick,this),this.contentPlayer.on(Ot.ContentPlayer.Events.timeupdate,this.onContentPlayerTimeupdate,this),this.contentPlayer.on(Ot.ContentPlayer.Events.error,this.onContentPlayerError,this);var e=this.playerContainer.querySelector("#vi-stories-ad-container");try{this.adEngine=new Ot.AdEngine(e,this.config,void 0,!1)}catch(t){return Object(b.e)("ERROR",{error_msg:"AD_ENGINE initialize: "+(t&&t.message)},this.v),void this.closePlayer("error")}this.adEngine.on(Ot.AdPlayerEvents.playing,this.onAdEnginePlaying,this),this.adEngine.on(Ot.AdPlayerEvents.pause,this.onAdEnginePause,this),this.adEngine.on(Ot.AdPlayerEvents.firstquartile,this.onAdEngineFirstQuartile,this),this.adEngine.on(Ot.AdPlayerEvents.midpoint,this.onAdEngineMidpoint,this),this.adEngine.on(Ot.AdPlayerEvents.thirdquartile,this.onAdEngineThirdQuartile,this),this.adEngine.on(Ot.AdPlayerEvents.ended,this.onAdEngineEnded,this),this.adEngine.on(Ot.AdPlayerEvents.skipped,this.onAdEngineSkipped,this),this.adEngine.on(Ot.AdPlayerEvents.click,this.onAdEngineClick,this),this.adEngine.on(Ot.AdPlayerEvents.timeupdate,this.onAdEngineTimeupdate,this),this.adEngine.on(Ot.AdEngine.Events.error,this.onAdEngineError,this),this.adEngine.on(Ot.AdPlayerEvents.impression,this.onAdEngineImpression,this),this.adEngine.on(Ot.AdEngine.Events.noadsources,this.onNoAdSources,this),this.adEngine.on(Ot.AdEngine.Events.adsourcesexhausted,this.onAdEngineAdsourcesexhausted,this);var e=this.playerContainer.querySelector("#vi-stories-gui-container");this.gui=new Ot.GUI(e),this.gui.on(Ot.GUI.Events.play,this.onGuiPlay,this),this.gui.on(Ot.GUI.Events.pause,this.onGuiPause,this),this.gui.on(Ot.GUI.Events.volumechange,this.onGuiVolumechange,this),this.gui.on(Ot.GUI.Events.rewind,this.onGuiRewind,this),this.gui.attach(this.contentPlayer),this.gui.thumbnail=this.v.video[this.v.videoIdx].thumbnail,this.gui.closeButtonIsShown=!1,this.gui.controlsBarIsShown=!1,this.gui.progressBarIsShown=!1,this.gui.allowRewind=!1,this.v.tagConfig.FullscreenButton&&(this.gui.fullscreenButtonIsShown=!0),this.playerContainer.addEventListener("mouseover",function(){t.gui.hovered=!0}),this.playerContainer.addEventListener("mouseout",function(){t.gui.hovered=!1}),this.boundTabFocusChange=this.onTabFocusChange.bind(this),window.addEventListener("focus",this.boundTabFocusChange),window.addEventListener("blur",this.boundTabFocusChange),e=window.frameElement&&this.v.env.fif?this.createFramePlaceHolder():this.v.topDiv,this.viewabilityService=new Et.a(e,{threshold:this.v.tagConfig.InViewRatio}),this.viewabilityService.addEventListener(Et.a.Events.viewabilitychange,this.onViewabilitychange,this),Object(w.q)()&&(this.boundVisibilitychange=this.onVisibilitychange.bind(this),document.addEventListener("visibilitychange",this.boundVisibilitychange,!1)),this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay||this.v.tagConfig.PlayInView)||this.playPrerolls()}},{key:"dispose",value:function(){this.removeAllListeners(),window.removeEventListener("focus",this.boundTabFocusChange),window.removeEventListener("blur",this.boundTabFocusChange),document.removeEventListener("visibilitychange",this.boundVisibilitychange)}},{key:"resize",value:function(t){var e=Math.round(t/16*9);this.playerContainer.style.width=t+"px",this.playerContainer.style.height=e+"px",this.adEngine&&this.adEngine.resize(t,e)}},{key:"closePlayer",value:function(t){var e=this;this.v.state.closeReason=t,"ad"===this.v.state.currentVideoType?Object(b.e)("AD_CLOSE",{},this.v):Object(b.e)("NV_CLOSE",{},this.v),this.adMonitorStop(),this.viewableImpMonitorStop(),this.floatUnit(!1),!0===this.config.openAnim&&(this.playerContainer.style.height="0px");t=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder");t&&t.classList.add("displayNone"),this.v.topDiv.querySelector("#vi-stories-description-container").classList.add("displayNone"),this.contentPlayer&&this.contentPlayer.dispose(),this.adEngine&&this.adEngine.dispose(),this.gui&&this.gui.dispose(),this.viewabilityService&&this.viewabilityService.dispose();var i=this.v.env.fif&&window.frameElement&&!this.v.tagConfig.FallbackTag;this.v.env.fif&&window.frameElement||!0===this.config.openAnim?setTimeout(function(){e.v.topDiv.querySelector("#vi-stories-main-container").classList.add("displayNone"),e.dispatchEvent("vi-stories-close-player-event"),e.dispose(),i&&(window.frameElement.style.display="none")},1e3):(this.dispatchEvent("vi-stories-close-player-event"),this.dispose()),this.v.state.closeReason&&this.v.tagConfig.CustomActions&&Object(w.y)(this.v.tagConfig.CustomActions,this.v)}},{key:"setVideoSource",value:function(){this.config.src=this.v.video[this.v.videoIdx].url,this.contentPlayer&&(this.contentPlayer.src=this.v.video[this.v.videoIdx].url),this.gui&&(this.gui.thumbnail=this.v.video[this.v.videoIdx].thumbnail);var t,e,i={VI_CDIM1:this.v.video[this.v.videoIdx].sourceId,VI_CUSTOM10:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category,VI_IAB:this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category,VI_IABSHORT:Object(w.l)(this.v.video[this.v.videoIdx].matchedCategoryCode||this.v.tagConfig.IAB_Category),VI_DURATION:this.v.video[this.v.videoIdx].duration,VI_CATEGORY:this.v.video[this.v.videoIdx].matchedCategoryName||"",VI_TITLE:this.v.video[this.v.videoIdx].title||"",VI_VIDSEG:this.v.video[this.v.videoIdx].videoSegments||""};for(e in this.v.tagConfig.KeywordSearch&&(t=Object(w.x)(this.v.tagConfig.KeywordSearch,"param","AV_","VI_"),i=Object(w.c)(i,Object(w.f)(t))),this.v.tagConfig.CustomAdParams&&(t=Object(w.x)(this.v.tagConfig.CustomAdParams,"param","AV_","VI_"),i=Object(w.c)(i,Object(w.g)(t,this.v))),i)i.hasOwnProperty(e)&&(this.config.macros[e]=i[e]);C.b.dispatchEvent("vi-stories-unit-event",{action:"update",v:this.v})}},{key:"playNextVideo",value:function(){this.nextVideoPrepared=!0,this.adMonitor.secPassedSinceLastAd+=this.v.video[this.v.videoIdx].duration,this.v.state.pendingNextTrack=!1,this.v.videoIdx=this.v.state.pendingNextIdx,this.setVideoSource();var t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language};Object(b.e)("NV_LOADED",t,this.v),1===this.v.tagConfig.PlaylistMode?(this.adEngine.resetStats(),this.resetAdMonitor()):2===this.v.tagConfig.PlaylistMode&&(this.v.tagConfig.AutoStart=!0,this.adMonitor.secPassedSinceLastAd>=this.config.midrolltime&&this.adMonitor.adsPlayed<this.config.maximp?(this.config.preroll=1,this.adMonitor.secPassedSinceLastAd=0):this.config.preroll=0),this.dispatchEvent("vi-stories-new-content-event"),this.startAdPending&&(this.startAdCanceled=!0),this.adEngine.cancelAd(),this.adEngine.flushReadyAdPlayers(),this.adEngine.incInterval("video"),this.playPrerolls()}},{key:"createFramePlaceHolder",value:function(){var t,e;return window.frameElement&&!this.framePlaceHolder&&(t=window.frameElement.getBoundingClientRect(),e=window.frameElement.parentElement,this.framePlaceHolder=document.createElement("div"),this.framePlaceHolder.id="framePlaceHolder",this.framePlaceHolder.style.position="absolute",this.framePlaceHolder.style.width="1px",this.framePlaceHolder.style.height=t.height+"px",e.parentNode.insertBefore(this.framePlaceHolder,e)),this.framePlaceHolder}},{key:"floatUnit",value:function(t,e){if(this.v.state.adUnitIsFloated!==t&&(!t||!this.v.state.playerIsPaused||this.v.tagConfig.FloatSettings.floatOnPaused||this.v.tagConfig.FloatSettings.floatFromStart)){var i=this.v.tagConfig.FloatSettings[e]||this.v.tagConfig.FloatSettings.any;if((!t||i)&&this.canFloatNow){var n=i&&Object(w.c)({},i.position)||{};if(i&&i.originSelector&&i.originOffset){var e=window.frameElement&&this.v.env.fif&&window.top.document||window.document,o=e.querySelector(i.originSelector);if(o){var s=window.top&&window.top.innerHeight,a=e.body.clientWidth,r=window.getComputedStyle(o,null),l=o.getBoundingClientRect(),d={bottom:s-l.bottom,left:l.left,right:a-l.right,top:l.top};if(["bottom","left","right","top"].forEach(function(t){i.originOffset.hasOwnProperty(t)&&(n[t]=d[t]+(r?parseFloat(r.getPropertyValue("padding-"+t)):0)+parseFloat(i.originOffset[t])+"px")}),t&&(n.bottom&&parseFloat(n.bottom)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=s||n.left&&parseFloat(n.left)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=a||n.right&&parseFloat(n.right)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=a||n.top&&parseFloat(n.top)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=s))return}}this.v.state.adUnitIsFloated=t,C.b.dispatchEvent("vi-stories-unit-event",{action:"float",v:this.v,info:t});var c,v=t?{bottom:void 0!==n.bottom?n.bottom:"",left:void 0!==n.left?n.left:"",position:"fixed",right:void 0!==n.right?n.right:"",top:void 0!==n.top?n.top:"",zIndex:this.v.tagConfig.ZIndexFloat}:{bottom:"",left:"",position:"relative",right:"",top:"",zIndex:this.v.tagConfig.ZIndexBase},h=t?{transform:"scale("+this.v.tagConfig.FloatSize+")",transformOrigin:i.transformOrigin,webkitTransform:"scale("+this.v.tagConfig.FloatSize+")",webkitTransformOrigin:i.transformOrigin}:{transform:"none",transformOrigin:"",webkitTransform:"none",webkitTransformOrigin:""},u=this.v.topDiv.querySelector("#vi-stories-main-container");for(c in h)h.hasOwnProperty(c)&&(u.style[c]=h[c]);if(window.frameElement&&window.frameElement.parentElement){var p,g=window.frameElement.parentElement;for(p in this.framePlaceHolder&&this.framePlaceHolder.style.setProperty("position",t?"static":"absolute"),v.overflow=t?"hidden":"",v)v.hasOwnProperty(p)&&(g.style[p]=v[p]);t?(o="hide"!==this.v.tagConfig.CloseButton&&"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&this.v.env.fif&&window.frameElement?25:0,l=Math.ceil(this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize),y=Math.ceil(this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize)+o,"ribbon"===this.v.tagConfig.FloatLayoutMode&&(a=window.frameElement&&this.v.env.fif&&window.top.document||window.document,s=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47,l=a.body.clientWidth,y=a.body.clientWidth*s*9/16+o,window.frameElement.style.width="100%"),g.style.width=l+"px",g.style.height=y+"px",window.frameElement.contentDocument.body.classList.add("vi-stories-floating"),u.style.margin="0",u.style.transformOrigin="top left"):("ribbon"===this.v.tagConfig.FloatLayoutMode&&(window.frameElement.style.width=""),g.style.width="",g.style.height="",window.frameElement.contentDocument.body.classList.remove("vi-stories-floating"),u.style.margin="0 auto",u.style.transformOrigin="")}else{var f,y=this.v.topDiv.querySelector("#vi-stories-main-placeholder");for(f in y.style.height=u.offsetHeight+"px",t?y.classList.remove("displayNone"):y.classList.add("displayNone"),v)v.hasOwnProperty(f)&&(u.style[f]=v[f])}t?u.classList.add("vi-stories-floating"):u.classList.remove("vi-stories-floating"),"ribbon"===this.v.tagConfig.FloatLayoutMode&&(t?u.classList.add("vi-stories-ribbon-ui"):u.classList.remove("vi-stories-ribbon-ui"),this.playerContainer.style.width="",this.playerContainer.style.height="",this.resize(this.playerContainer.offsetWidth))}}}},{key:"handleOutOfView",value:function(){!this.v.tagConfig.Float&&(this.v.tagConfig.PauseOutOfView||this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.pauseOutOfView)?this.v.state.adUnitInView||this.v.state.outOfViewPaused?this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&("content"===this.v.state.currentVideoType?(this.v.state.outOfViewPaused=!1,this.contentPlayer.play()):"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&(this.v.state.outOfViewPaused=!1,this.adEngine.adPlayer.play())):"content"===this.v.state.currentVideoType?(this.v.state.outOfViewPaused=!0,this.contentPlayer.pause()):"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&(!this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds||this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds>this.adEngine.adPlayer.currentTime)&&(this.v.state.outOfViewPaused=!0,this.adEngine.adPlayer.pause()):!this.v.tagConfig.Float&&this.v.tagConfig.PauseOutOfViewPlaylist&&this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&(this.v.state.outOfViewPaused=!1,this.v.state.pendingNextTrack=!0,this.playNextVideo())}},{key:"getRemainingTime",value:function(){return"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer?Math.ceil(this.adEngine.adPlayer.duration-this.adEngine.adPlayer.currentTime):"content"===this.v.state.currentVideoType?Math.ceil(this.contentPlayer.duration-this.contentPlayer.currentTime):0}},{key:"getRemainingSkipTime",value:function(){var t=this.adEngine.adPlayer&&this.adEngine.adPlayer.currentTime||0;return"ad"===this.v.state.currentVideoType?Math.ceil(this.config.skipTimer-t):0}},{key:"unmutePlayer",value:function(){var t="content"===this.v.state.currentVideoType?this.contentPlayer:"ad"===this.v.state.currentVideoType?this.adEngine.adPlayer:null;t&&(t.muted=!1),this.onGuiVolumechange.call(this)}},{key:"onTabFocusChange",value:function(){this.viewableImpMonitorStart()}},{key:"adMonitorStart",value:function(){this.adMonitor.lastTimestamp=Date.now(),this.adMonitorStop();var t=this.config.midroll,e=this.playMidrolls.bind(this);"preroll"===this.adMonitor.nextAdType&&(t=this.config.preroll,e=this.playPrerolls.bind(this)),0<t&&this.adMonitor.adsPlayed<this.config.maximp&&(t=this.config.midrolltime-this.adMonitor.secPlayedSinceLastAd,clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=setTimeout(e,1e3*t))}},{key:"adMonitorStop",value:function(){null!==this.adMonitor.playAdsTimer&&(this.adMonitor.lastTimestamp&&(this.adMonitor.secPlayedSinceLastAd+=(Date.now()-this.adMonitor.lastTimestamp)/1e3),clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null)}},{key:"viewableImpMonitorStart",value:function(){var e=this,t=!(!this.v.env.amp&&this.v.env.fif)||!0===Object(w.m)(),t=(this.v.state.adUnitInView||this.v.state.adUnitIsFloated)&&t;!t||"ad"!==this.v.state.currentVideoType||this.viewableImp||this.viewableImpTimer?t||this.viewableImpMonitorStop():this.viewableImpTimer=setTimeout(function(){e.viewableImp=!0,e.viewableImpMonitorStop();var t={ad_source_id:e.v.env.asid};Object(b.e)("VIEWABLE_IMP",t,e.v)},2e3)}},{key:"viewableImpMonitorStop",value:function(){clearTimeout(this.viewableImpTimer),this.viewableImpTimer=null}},{key:"playPrerolls",value:function(){clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null,0<this.config.preroll&&this.adMonitor.adsPlayed<this.config.maximp?(this.adBreakType="preroll",this.adMonitor.adBreak.adsLeft=this.config.preroll,this.prepareAd()):(this.adBreakType="",this.adMonitor.nextAdType="midroll",this.resumeContent())}},{key:"playMidrolls",value:function(){clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null,0<this.config.midroll&&this.adMonitor.adsPlayed<this.config.maximp&&(this.adBreakType="midroll",this.adMonitor.adBreak.adsLeft=this.config.midroll,this.prepareAd())}},{key:"prepareAd",value:function(){var e=this;if(Object(b.e)("INVENTORY",{},this.v),this.adEngine.off(Ot.AdEngine.Events.readyad,this.onAdReady,this),this.adEngine.readyAdPlayer())return this.onAdReady();this.adEngine.once(Ot.AdEngine.Events.readyad,this.onAdReady,this),this.adEngine.runWaterfall(this.config.waterfallRetry).then(function(){},function(t){t===Ot.AdEngine.Errors.retrylimitreached&&e.onAdEngineAdsourcesexhausted(),e.adEngine.readyAdPlayer()||(!e.v.tagConfig.AutoStart||e.v.tagConfig.PlayInView&&!e.v.state.adUnitInView&&!e.v.state.adUnitIsFloated)&&"midroll"!==e.adBreakType||e.resumeContent()}).finally(function(){})}},{key:"onAdReady",value:function(){this.v.state.adIsLoaded=!0,this.dispatchEvent("vi-stories-ad-ready-event"),this.tryShowUnit(),this.tryStartAd()}},{key:"tryShowUnit",value:function(t){var e=!1;!this.v.env.amp&&this.v.tagConfig.HideUnit&&(-1!==this.v.tagConfig.HideUnit.indexOf("beforeAd")?e="beforeAd":-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&(e="beforeRcAndAd")),("beforeAd"===e&&this.v.state.adIsLoaded||"beforeRcAndAd"===e&&this.v.state.remoteControlInViewOnce&&this.v.state.adIsLoaded||("beforeRcAndAd"===e||"beforeAd"===e)&&t)&&(this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block"),(t=this.v.topDiv.querySelector("#vi-stories-main-container"))&&(t.classList.remove("displayNone"),this.resize(t.offsetWidth)))}},{key:"tryStartAd",value:function(){!this.v.state.adUnitIsClicked&&this.v.tagConfig.ClickToPlay||!(this.v.state.adUnitInViewOnce&&this.v.tagConfig.Float||this.v.state.adUnitInView)&&this.v.tagConfig.PlayInView||(!this.v.state.adUnitInView&&!this.v.state.adUnitIsFloated||!0!==Object(w.m)())&&this.v.tagConfig.PlayInFocus||!(-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&this.v.state.remoteControlInViewOnce||-1===this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd"))||!this.v.state.adIsLoaded||this.v.state.displayAdIsVisible?this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay&&this.v.state.adUnitIsClicked||this.v.tagConfig.PlayInView&&this.v.state.adUnitInViewOnce)&&this.playPrerolls():this.playAd()}},{key:"playAd",value:function(){var e=this;this.startAdPending||(this.startAdPending=!0,this.v.tagConfig.FloatSettings.floatFromStart&&this.onViewabilitychange(),this.adEngine.startAd().then(function(t){return e.contentPlayer.pause(),t.fullscreen=e.contentPlayer.fullscreen,t.muted=e.v.state.playerIsMuted,e.gui.attach(t),Ot.AdEngine.onceAdPlayerDone(t).then(function(){e.startAdPending=!1,e.onAdFinished(!1,!!e.startAdCanceled),e.startAdCanceled=!1},function(){e.v.state.currentVideoType=void 0,e.gui.attach(e.contentPlayer),e.startAdPending=!1,e.startAdCanceled=!1,e.onAdFinished(!0)})},function(t){e.startAdPending=!1,e.startAdCanceled=!1,e.onAdFinished(!0)}))}},{key:"onAdFinished",value:function(t,e){if(this.v.state.adIsLoaded=!1,this.adMonitor.adBreak.adsLeft--,t||this.adMonitor.adsPlayed++,this.adEngine.adPlayer&&(this.contentPlayer.fullscreen=this.adEngine.adPlayer.fullscreen),0<this.adMonitor.adBreak.adsLeft)this.prepareAd();else{if(t&&!this.v.tagConfig.AutoStart&&"midroll"!==this.adBreakType||this.resumeContent(),t){if(this.adEngine.readyAdPlayer())return this.onAdReady();this.adEngine.once(Ot.AdEngine.Events.readyad,this.onAdReady,this)}e||("preroll"===this.adBreakType&&(this.adMonitor.nextAdType="midroll"),this.adBreakType="")}}},{key:"resetAdMonitor",value:function(){this.adBreakType="",this.adMonitor.adBreak.adsLeft=0,this.adMonitor.lastTimestamp=null,this.adMonitor.nextAdType="preroll",this.adMonitor.secPlayedSinceLastAd=0,this.adMonitor.adsPlayed=0}},{key:"resumeContent",value:function(){this.gui.attach(this.contentPlayer),this.contentPlayer.play(),this.adMonitor.lastTimestamp=null,this.adMonitor.secPlayedSinceLastAd=0}},{key:"onAdEnginePlaying",value:function(){this.v.state.currentVideoType="ad",this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,this.gui.progressBarIsShown=!0,this.gui.allowRewind=!1;var t=this.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-content"),t.classList.add("vi-stories-playing-ad");t=this.playerContainer.querySelector("#vi-stories-ad-container");t&&(t.style.zIndex="auto"),this.v.state.adUnitInViewOnce&&this.onViewabilitychange(),C.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v})}},{key:"onAdEnginePause",value:function(){}},{key:"onAdEngineFirstQuartile",value:function(){var t={ad_source_id:this.v.env.asid};Object(b.e)("AD_25",t,this.v)}},{key:"onAdEngineMidpoint",value:function(){var t={ad_source_id:this.v.env.asid};Object(b.e)("AD_50",t,this.v)}},{key:"onAdEngineThirdQuartile",value:function(){var t={ad_source_id:this.v.env.asid};Object(b.e)("AD_75",t,this.v)}},{key:"onAdEngineEnded",value:function(){this.viewableImpMonitorStop();var t={ad_source_id:this.v.env.asid};Object(b.e)("AD_100",t,this.v),this.dispatchEvent("vi-stories-ad-complete-event"),"1"===this.v.tagConfig.AdUnitType.toString()&&this.closePlayer("ad-complete")}},{key:"onAdEngineSkipped",value:function(){this.viewableImpMonitorStop(),this.dispatchEvent("vi-stories-ad-skipped-event"),"1"===this.v.tagConfig.AdUnitType.toString()&&this.closePlayer("ad-skipped")}},{key:"onAdEngineClick",value:function(){var t={ad_source_id:this.v.env.asid};Object(b.e)("CLICK",t,this.v)}},{key:"onAdEngineTimeupdate",value:function(){this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"onAdEngineError",value:function(t){Object(b.e)("WARNING",{error_msg:"AD_ENGINE: "+(t&&t.message)},this.v)}},{key:"onAdEngineImpression",value:function(){this.v.env.asid=this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.id,this.viewableImp=!1,this.adImp=!0,this.v.tagConfig.IASPixelEnabled&&Object(b.c)(this.v.tagConfig.AppBundle||this.v.env.pageDomain,this.v.tagConfig.PublisherID,this.v.env.asid),this.viewableImpMonitorStart();var t={ad_source_id:this.v.env.asid};Object(b.e)("IMP",t,this.v),this.v.video[this.v.videoIdx].contentCost&&this.v.video[this.v.videoIdx].contentCost.revShare&&(t="preroll"!==this.adBreakType,this.adEngine.trackContentCost(t,this.v.video[this.v.videoIdx].contentCost.revShare,this.v.video[this.v.videoIdx].contentCost.contentHash)),this.dispatchEvent("vi-stories-ad-impression-event"),this.v.tagConfig&&this.v.tagConfig.CallbackFunction&&"function"==typeof this.v.tagConfig.CallbackFunction&&this.v.tagConfig.CallbackFunction("SUCCESS")}},{key:"onNoAdSources",value:function(){Object(b.e)("WARNING",{error_msg:m.e.noAdSources},this.v),this.onAdEngineAdsourcesexhausted()}},{key:"onAdEngineAdsourcesexhausted",value:function(){this.adImp||this.adSourcesExhausted||(this.adSourcesExhausted=!0,this.dispatchEvent("vi-stories-adsourcesexhausted-event"))}},{key:"onContentPlayerCanplay",value:function(){}},{key:"onContentPlayerPlaying",value:function(){this.v.state.currentVideoType="content",this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,this.gui.progressBarIsShown=!0,this.gui.allowRewind=!0;var t=this.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),this.started&&!this.nextVideoPrepared||(this.started||(this.started=!0),this.nextVideoPrepared&&(this.nextVideoPrepared=!1),this.v.video[this.v.videoIdx].contentCost&&(this.v.video[this.v.videoIdx].contentCost.revShare?this.adEngine.trackContentCost(!0):this.adEngine.trackContentCost(!0,this.v.video[this.v.videoIdx].contentCost.revShare,this.v.video[this.v.videoIdx].contentCost.contentHash)),Object(b.e)("NV_START",{},this.v),this.dispatchEvent("vi-stories-content-impression-event"),this.v.tagConfig.ShoppableVideo&&(window.kervEmbed.init("01E9ERDZS5126Y33M7BY8C7W2R"),window.kervEmbed.loadOverlay(this.v.video[this.v.videoIdx].id,"#"+this.playerContainer.id)));t=this.playerContainer.querySelector("#vi-stories-ad-container");t&&(t.style.zIndex=-1),this.dispatchEvent("vi-stories-content-playing-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v}),this.adMonitor.nextAdType="midroll",this.adMonitorStart()}},{key:"onContentPlayerPause",value:function(){this.adMonitorStop()}},{key:"onContentPlayerFirstquartile",value:function(){Object(b.e)("NV_25",{},this.v)}},{key:"onContentPlayerMidpoint",value:function(){Object(b.e)("NV_50",{},this.v)}},{key:"onContentPlayerThirdquartile",value:function(){Object(b.e)("NV_75",{},this.v)}},{key:"onContentPlayerEnded",value:function(){this.v.state.currentVideoType=void 0,this.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-playing-ad","vi-stories-playing-content"),Object(b.e)("NV_100",{},this.v),this.dispatchEvent("vi-stories-current-content-complete-event"),0<this.v.tagConfig.PlaylistMode&&this.v.video[this.v.videoIdx+1]&&this.v.videoIdx+1<this.v.tagConfig.PlaylistLength?(this.v.state.pendingNextIdx=this.v.videoIdx+1,1===this.v.tagConfig.PlaylistMode?(this.v.state.pendingNextTrack=!0,this.playNextVideo()):2===this.v.tagConfig.PlaylistMode&&(!this.v.tagConfig.PauseOutOfViewPlaylist||this.v.state.adUnitInView||this.v.state.adUnitIsFloated?(this.v.state.pendingNextTrack=!0,this.playNextVideo()):this.v.state.outOfViewPaused=!0)):(this.floatUnit(!1),this.dispatchEvent("vi-stories-all-content-complete-event"),!this.v.env.amp&&this.v.tagConfig.HideUnit&&-1!==this.v.tagConfig.HideUnit.indexOf("afterContent")&&(this.v.state.currentVideoType="content",this.closePlayer("all-content-complete")),this.ended=!0)}},{key:"onContentPlayerClick",value:function(){this.v.tagConfig.ContentClickthrough&&(Object(b.e)("NV_CLICK_THRU",{},this.v),window.open(this.v.tagConfig.ContentClickthrough,"_blank"))}},{key:"onContentPlayerTimeupdate",value:function(){this.dispatchEvent("vi-stories-timeupdate-event")}},{key:"onContentPlayerError",value:function(t){Object(b.e)("WARNING",{error_msg:"CONTENT_PLAYER: "+(t&&t.message)},this.v)}},{key:"onGuiPlay",value:function(){var t;this.adEngine.contentClickOccurred(),this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,"content"===this.v.state.currentVideoType?Object(b.e)("NV_PLAY",{},this.v):"ad"===this.v.state.currentVideoType?(t={ad_source_id:this.v.env.asid},Object(b.e)("AD_PLAY",t,this.v)):this.ended?(t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language},Object(b.e)("NV_REPLAY",t,this.v),this.ended=!1):(this.v.state.adUnitIsClicked=!0,Object(b.e)("NV_CLICK",{},this.v),this.v.tagConfig.UnmuteOnClickStart&&this.contentPlayer&&(this.contentPlayer.muted=!1,this.v.state.playerIsMuted=this.contentPlayer.muted,this.dispatchEvent("vi-stories-mute-unmute-event")),this.v.tagConfig.ClickToPlayAdSources&&(this.config.macros.VI_CLICK_TO_PLAY="true",this.prepareAd()),this.tryStartAd()),this.dispatchEvent("vi-stories-play-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v,info:"userAction"})}},{key:"onGuiPause",value:function(){var t;this.adEngine.contentClickOccurred(),"content"===this.v.state.currentVideoType?Object(b.e)("NV_PAUSE",{},this.v):"ad"===this.v.state.currentVideoType&&(t={ad_source_id:this.v.env.asid},Object(b.e)("AD_PAUSE",t,this.v)),this.v.state.playerIsPaused=!0,this.v.tagConfig.FloatSettings.floatOnPaused||this.floatUnit(!1),this.dispatchEvent("vi-stories-pause-event"),C.b.dispatchEvent("vi-stories-unit-event",{action:"pause",v:this.v,info:"userAction"})}},{key:"onGuiVolumechange",value:function(){var t;this.adEngine.contentClickOccurred(),"content"===this.v.state.currentVideoType?(this.v.state.playerIsMuted=this.contentPlayer.muted,this.adEngine.adPlayer&&(this.adEngine.adPlayer.muted=this.v.state.playerIsMuted),this.v.state.playerIsMuted?Object(b.e)("NV_MUTE",{},this.v):Object(b.e)("NV_UNMUTE",{},this.v)):"ad"===this.v.state.currentVideoType&&(this.v.state.playerIsMuted=this.adEngine.adPlayer&&this.adEngine.adPlayer.muted,this.contentPlayer&&(this.contentPlayer.muted=this.v.state.playerIsMuted),t={ad_source_id:this.v.env.asid},this.v.state.playerIsMuted?Object(b.e)("AD_MUTE",t,this.v):Object(b.e)("AD_UNMUTE",t,this.v)),this.dispatchEvent("vi-stories-mute-unmute-event")}},{key:"onGuiRewind",value:function(){this.adEngine.contentClickOccurred(),Object(b.e)("NV_TIMELINE_CLICK",{},this.v)}},{key:"onViewabilitychange",value:function(){var t=this.v.state.adUnitInViewOnce;this.v.state.adUnitInView=this.viewabilityService.visible,this.v.state.adUnitInView&&(this.v.state.adUnitInViewOnce=!0);var e="above"===this.viewabilityService.position?"down":"below"===this.viewabilityService.position?"up":null,i=!1;this.v.tagConfig.Float&&!this.v.state.adUnitInView&&(!this.v.state.adUnitInViewOnce&&this.v.tagConfig.FloatSettings.floatFromStart||this.v.state.adUnitInViewOnce&&(this.v.tagConfig.FloatSettings.floatOnPaused||this.v.state.currentVideoType))&&(i=!0),this.floatUnit(i,e),t||!this.v.state.adUnitInViewOnce&&!i||(this.v.state.adUnitInViewOnce=!0,Object(b.e)("INVIEW",{},this.v)),this.v.tagConfig.AutoStart&&this.v.tagConfig.PlayInView&&(this.v.state.adUnitInView||this.v.state.adUnitIsFloated)&&!this.v.state.currentVideoType&&this.resumeContent(),this.tryStartAd(),this.viewableImpMonitorStart(),this.handleOutOfView(),this.dispatchEvent("vi-stories-viewability-change-event")}},{key:"onVisibilitychange",value:function(){var t=this.v&&this.v.state&&this.v.state.playerIsMuted,e=this.v&&this.v.state&&this.v.state.playerIsPaused;!document.hidden||t||e||this.pause()}},{key:"play",value:function(){var t=this;this.v.state.playerIsPaused=!1,"content"===this.v.state.currentVideoType?this.contentPlayer.play():"ad"===this.v.state.currentVideoType?this.adEngine.adPlayer&&this.adEngine.adPlayer.play():setTimeout(function(){t.contentPlayer.play()},0),this.dispatchEvent("vi-stories-play-event")}},{key:"pause",value:function(){this.v.state.playerIsPaused=!0,this.floatUnit(!1),"content"===this.v.state.currentVideoType?this.contentPlayer.pause():"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&this.adEngine.adPlayer.pause(),this.dispatchEvent("vi-stories-pause-event")}},{key:"playerContainer",get:function(){return this._playerContainer},set:function(t){this._playerContainer=t}},{key:"canFloatNow",get:function(){return this._canFloatNow},set:function(t){this._canFloatNow=t}},{key:"adBreakType",get:function(){return this.adMonitor.adBreak.type},set:function(t){this.adMonitor.adBreak.type=t,this.dispatchEvent("vi-stories-adbreak-type-change")}},{key:"adCompanion",get:function(){return this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.companionAd}}],St(Ut.prototype,jt),Ut);function Ut(t,e,i){var n,o,s;return function(t){if(!(t instanceof Ut))throw new TypeError("Cannot call a class as a function")}(this),o=this,s=Lt(Ut).call(this),(n=!s||"object"!==Mt(s)&&"function"!=typeof s?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o):s).v=t,n.config=t.viPlayerConfig,n._playerContainer=i,n._canFloatNow=!0,Ot=window[btoa("video intelligence player")],n.contentPlayer=n.adEngine=n.gui=n.viewabilityService=null,n.framePlaceHolder=null,n.started=n.ended=n.nextVideoPrepared=null,n.viewableImp=n.adImp=null,n.adSourcesExhausted=null,n.startAdPending=n.startAdCanceled=null,n.viewableImpTimer=null,n.adMonitor={adBreak:{type:"",adsLeft:0},lastTimestamp:null,nextAdType:"preroll",secPassedSinceLastAd:0,secPlayedSinceLastAd:0,adsPlayed:0,playAdsTimer:null},n.v.tagConfig.IFA&&(n.config.macros.VI_IDFA=encodeURIComponent(n.v.tagConfig.IFA)),n.v.tagConfig.SubID&&(n.config.macros.VI_APPNAME=encodeURIComponent(n.v.tagConfig.SubID)),n.v.tagConfig.SubID&&(n.config.macros.VI_SUBID=encodeURIComponent(n.v.tagConfig.SubID)),n.v.tagConfig.DeviceIsp&&(n.config.macros.VI_CUSTOM1=encodeURIComponent(n.v.tagConfig.DeviceIsp)),n.v.tagConfig.Latitude&&(n.config.macros.VI_LATITUDE=n.v.tagConfig.Latitude),n.v.tagConfig.Longitude&&(n.config.macros.VI_LONGITUDE=n.v.tagConfig.Longitude),n.v.tagConfig.AppBundle&&(n.config.macros.VI_APPBUNDLE=encodeURIComponent(n.v.tagConfig.AppBundle)),n.v.tagConfig.DeviceModel&&(n.config.macros.VI_MODEL=encodeURIComponent(n.v.tagConfig.DeviceModel)),n.config.macros.VI_PUBLISHERID=encodeURIComponent(n.v.tagConfig.PublisherID),n.config.macros.VI_CDIM2=encodeURIComponent(n.v.tagConfig.PublisherID),n.config.macros.VI_DNT=encodeURIComponent(navigator.doNotTrack||"0"),n.config.macros.VI_SEGMENTS=n.v.video[n.v.videoIdx].segments||"",n.config.macros.VI_BSAFE=n.v.video[n.v.videoIdx].brandSafety||"",n.config.macros.VIC_SCHAIN="1.0,1!vi.ai,"+n.v.tagConfig.PublisherID+",1",n.config.schain={ver:"1.0",complete:1,nodes:[{asi:"vi.ai",sid:n.v.tagConfig.PublisherID,hp:1}]},e&&e.gdpr&&(n.config.macros.VI_GDPR=e.gdpr.applies,n.config.macros.VI_CONSENT=e.gdpr.consent,n.config.gdprConsent={gdprApplies:!!e.gdpr.applies,consentString:e.gdpr.consent}),e&&e.ccpa&&(n.config.macros.VI_CCPA=e.ccpa.uspString),n.v.tagConfig.AppBundle?n.config.macros.VI_URL=encodeURIComponent(n.v.tagConfig.AppBundle):n.v.env.amp&&(n.config.macros.VI_URL=decodeURIComponent(n.v.env.pageUrl)),n.config.affiliateID=n.v.tagConfig.ChannelID,n.config.startCond={ok:function(t){return(!t.adSource.playInView||n.viewabilityService.visible||n.v.state.adUnitIsFloated||n.v.tagConfig.FloatSettings.floatFromStart)&&(!t.adSource.adbreakPosition||t.adSource.adbreakPosition===n.adBreakType)},listen:function(t){n.viewabilityService.addEventListener(Et.a.Events.viewabilitychange,t),n.addEventListener("vi-stories-adbreak-type-change",t)},off:function(t){n.viewabilityService.removeEventListener(Et.a.Events.viewabilitychange,t),n.removeEventListener("vi-stories-adbreak-type-change",t)}},n.config.sessionId=n.v.env.sessionId,n.playerContainer&&n.playerContainer.offsetWidth&&(n.config.width=n.playerContainer.offsetWidth,n.config.height=Math.round(n.config.width/16*9)),n.config=Object(w.c)(n.config,Nt[n.v.tagConfig.AdUnitType.toString()]),["maxAdErrors","maximp","maxNoAdsResponses","maxrun","midroll","midrolltime","preroll","waterfallRetry"].forEach(function(t){var e=Object(w.d)(n.v.tagConfig,t);null!==e&&(n.config[t]=e)}),n.config.maxImpressions=n.config.maximp,n.config.maxWaterfallRetries=n.config.maxrun,2===n.v.tagConfig.PlaylistMode&&(n.config.midroll=0),n.setVideoSource(),!0===n.config.openAnim&&(n.playerContainer.classList.add("heightTransition"),n.playerContainer.style.height="0px",n.playerContainer.offsetLeft),n}function Vt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(17),i.d(e,"a",function(){return Rt});var Bt="https://s.vi-serve.com",Rt=(e=[{key:"publisherConfig",value:function(e){var i=this;["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return i.v[t]=Object(w.c)(i.v[t],e[t])}),Object(w.q)()&&e.mobile&&["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return i.v[t]=Object(w.c)(i.v[t],e.mobile[t])})}},{key:"dispose",value:function(){this.disposed||(this.player&&this.player.closePlayer.call(this.player,"close-api"),this.disposed=!0)}},{key:"loadPublisherConfigs",value:function(t,e,i){var n=this,o=Bt+"/publishers/"+(i?i+"_":"")+t+".js",s=Bt+"/publishers/"+(i?i+"_":"")+t+"_"+e.replace(/^(www\.)/,"")+".js";return Object(R.b)(o,document,this.v.env.adUnitId).then(void 0,function(){Object(b.e)("WARNING",{error_msg:"Failed to load "+o},n.v)}).then(function(){return Object(R.b)(s,document,n.v.env.adUnitId)}).then(void 0,function(){Object(b.e)("WARNING",{error_msg:"Failed to load "+s},n.v)})}},{key:"initUnit",value:function(){var t,e,i,n,o,s,a,r,c=this,l=!1;if(this.v.tagConfig.AllowMultipleInstances||(C.b.dispatchEvent("vi-stories-unit-event",{action:"stopMultipleInstances",v:this.v}),this.disposed&&(Object(b.e)("ERROR",{error_msg:m.e.init},this.v),l=!0)),"always"===this.v.tagConfig.StopCondition&&(Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": always"},this.v),l=!0),this.v.tagConfig.StopCondition&&this.v.tagConfig.CustomParams){var d,v=Object(w.g)(this.v.tagConfig.CustomParams,this.v);for(d in v)if(v.hasOwnProperty(d)&&-1!==this.v.tagConfig.StopCondition.indexOf(d)&&v[d]&&(Object(w.p)(v[d])&&0<v[d].length||!Object(w.p)(v[d]))){Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": "+d+" / "+v[d]},this.v),l=!0;break}}if(this.v.tagConfig.KeywordStop){var h,u=Object(w.f)(this.v.tagConfig.KeywordStop);for(h in u)if(u.hasOwnProperty(h)&&"1"===u[h]){Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": KeywordStop / "+h},this.v),l=!0;break}}if(l)this.v.env.fif&&window.frameElement&&setTimeout(function(){window.frameElement&&window.frameElement.parentElement&&window.frameElement.parentElement.removeChild(window.frameElement)},1e3);else if(this.v.env.pageUrl||this.v.tagConfig.AppPageUrl||this.v.tagConfig.AppBundle)if(this.v.tagConfig.AdUnitType)if(this.v.tagConfig.ChannelID){if(this.v.tagConfig.ResizeIframe&&window.frameElement&&this.v.env.fif&&(this.v.tagConfig.ResizeIframe.width||this.v.tagConfig.ResizeIframe.maxWidth||this.v.tagConfig.ResizeIframe.minWidth?(e=this.v.tagConfig.ResizeIframe.width||this.v.tagConfig.ResizeIframe.maxWidth&&Math.min(this.v.tagConfig.ResizeIframe.maxWidth,window.top.document.body.clientWidth-30)||this.v.tagConfig.ResizeIframe.minWidth&&Math.max(this.v.tagConfig.ResizeIframe.minWidth,window.top.document.body.clientWidth-30),window.frameElement.style.width=e+"px",window.frameElement.style.height=(this.v.tagConfig.ResizeIframe.height||e/(this.v.tagConfig.ResizeIframe.ratio||1.25))+"px"):this.v.tagConfig.ResizeIframe.height&&(window.frameElement.style.height=this.v.tagConfig.ResizeIframe.height+"px"),this.v.playerConfig.width=document.body.offsetWidth,this.v.playerConfig.height=Math.round(this.v.playerConfig.width/16*9)),this.v.env.fif&&window.frameElement&&!this.v.env.amp&&this.v.tagConfig.JumpOutOfIframe){delete window.top[btoa("video intelligence")];var p=Object(w.c)({},this.v.tagConfig);["remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return p[t]=Object(w.c)({},c.v[t])});var g="https://s.vi-serve.com/source.js",f=window.parent.document.createElement("script");return f.id="vi-"+this.v.tagConfig.PublisherID,f.src=g,f.async=!0,f.onload=function(){window.top[btoa("video intelligence")].run(p,null,g,!0)},window.frameElement.parentNode.appendChild(f),window.frameElement.parentNode.style.width=window.frameElement.clientWidth+"px",window.frameElement.style.width="0px",void(window.frameElement.style.height="0px")}!this.v.env.amp&&this.v.env.fif||(this.v.tagConfig.Float=!1,this.v.tagConfig.LazyLoading=!1,this.v.tagConfig.PlayInFocus=!1),1===this.v.tagConfig.OverlayMode&&(this.v.tagConfig.FixedRatio=null),this.v.tagConfig.FloatSettings.floatFromStart&&(this.v.tagConfig.PlayInView=!1),"1"===this.v.tagConfig.AdUnitType.toString()&&(this.v.tagConfig.ClickToPlay=!1,this.v.tagConfig.DelayWaterfallStart=!1,this.v.tagConfig.DisplayAd=null,this.v.tagConfig.DisplayBanner=null,this.v.tagConfig.HideUnit="beforeAd",this.v.tagConfig.OverlayMode=1,this.v.tagConfig.TextAbove=""),Object(w.s)(this.v.tagConfig.AbTesting)&&(t=Object(w.c)({},this.v.tagConfig.AbTesting),e=!1,(e=!(Object(w.p)(t.urls)&&0<t.urls.length&&-1===t.urls.indexOf(decodeURIComponent(this.v.env.pageUrl).split(/[?#]/)[0]))||e)&&(f=t.percentages,delete t.percentages,delete t.urls,2<=(e=Object.keys(t)).length&&((o=t[e=Object(w.p)(f)&&0<f.length?Object(w.E)(e,f):e[Math.floor(Math.random()*e.length)]])&&(this.v.env.abTestingId=e,this.v.tagConfig=Object(w.c)(this.v.tagConfig,o))))),Object(w.r)(this.v.tagConfig.TimeTrackerInterval)&&Object(w.r)(this.v.tagConfig.TimeTrackerLimit)&&0<this.v.tagConfig.TimeTrackerInterval&&(i=Date.now(),Object(b.e)("TIME",{},this.v),n=setInterval(function(){Math.round((Date.now()-i)/1e3)<=c.v.tagConfig.TimeTrackerLimit?Object(b.e)("TIME",{},c.v):clearInterval(n)},1e3*this.v.tagConfig.TimeTrackerInterval)),this.v.topDivId=Object(w.d)(this.v.tagConfig,"DivID")||"vi-stories-top-div-"+this.v.env.adUnitId,this.v.tagConfig.CustomViCSS&&(o=this.v.tagConfig.CustomViCSS.replace(/\[divid\]/gi,this.v.topDivId),(a=document.createElement("style")).id="vi-css-custom",a.type="text/css",a.innerHTML=o,(document.getElementsByTagName("head")[0]||document.appendChild(document.createElement("head"))).appendChild(a)),this.v.tagConfig.CustomActions&&Object(w.y)(this.v.tagConfig.CustomActions,this.v),"beforePlayerLoad"!==this.v.tagConfig.StopCondition?(this.viStoriesUi=new bt(this.v,this.referenceElem),this.viStoriesUi.addEventListener("vi-stories-close-gui-event",function(){c.disposed=!0,C.b.dispatchEvent("vi-stories-unit-event",{action:"close",v:c.v})}),(a=this.viStoriesUi.size)&&(this.v.viPlayerConfig.width=a.width,this.v.viPlayerConfig.height=a.width/16*9,this.v.tagConfig.CompanionAds&&0<this.v.tagConfig.CompanionAds.length&&(r=new y(this.v),this.v.topDiv.parentNode.insertBefore(r.container,this.v.topDiv.nextSibling),r.init()),this.v.tagConfig.Float&&this.v.tagConfig.FloatLimit&&0<a.width&&(this.v.tagConfig.FloatSize=Math.min(1,Math.max(this.v.tagConfig.FloatSize,this.v.tagConfig.FloatLimit/a.width))),window.ReportingObserver&&(s=new ReportingObserver(function(t,e){t.forEach(function(t){t&&t.body&&"HeavyAdIntervention"===t.body.id&&Object(b.d)("ERROR_HAI",{error_msg:m.e.heavyAd+": "+t.body.message},c.v)})},{types:["intervention"],buffered:!0}),window.addEventListener("unload",function(t){s.takeRecords().forEach(function(t){t&&t.body&&"HeavyAdIntervention"===t.body.id&&Object(b.d)("ERROR_HAI",{error_msg:m.e.heavyAd+": "+t.body.message},c.v)})}),s.observe()),Object(b.e)("PLACEMENT",{},this.v),"playerAV"!==this.v.tagConfig.Player&&"playerWL"!==this.v.tagConfig.Player&&"playerWLstage"!==this.v.tagConfig.Player&&(a=(r=window.frameElement&&this.v.env.fif&&window.top||window).performance&&r.performance.timing&&r.performance.timing.fetchStart||0,r=this.viStoriesUi.playerContainer.offsetWidth||this.v.viPlayerConfig.width,r=m.h.trackingViAdServer+"?event=p&dim1="+(a?Date.now()-a:0)+"&session_id="+this.v.env.sessionId+"&affiliate_id="+this.v.tagConfig.ChannelID+"&domainapp="+this.v.env.pageDomain+"&width="+r+"&height="+Math.round(r/16*9)+"&visible=0&publisher_id="+this.v.tagConfig.PublisherID+"&cb="+Object(w.z)(),document.createElement("img").src=r),(this.v.tagConfig.LazyLoading&&this.v.tagConfig.LazyLoadingSettings?new Promise(function(e,t){function i(t){c.v.env.lazyTrigger="inview"===(t=t||{}).type?"offset":"load"===t.type?"pageLoad":"scroll"===t.type?"pageScroll":o?"timeout":"",c.v.env.lazyPaused=Date.now()-s,n&&n.dispose(),window.top.removeEventListener("load",i),window.top.removeEventListener("scroll",i),clearTimeout(o),o=null,e()}var n,o,s=Date.now(),a=c.v.tagConfig.LazyLoadingSettings.offset||null,r=c.v.tagConfig.LazyLoadingSettings.pageLoad||null,l=c.v.tagConfig.LazyLoadingSettings.pageScroll||null,d=c.v.tagConfig.LazyLoadingSettings.timeout||null;a&&(n=new Et.a(c.v.topDiv,{rootMargin:a+" 0px "+a+" 0px",threshold:0})).addEventListener(Et.a.Events.inview,i),r&&window.top.addEventListener("load",i),l&&window.top.addEventListener("scroll",i),d&&(o=setTimeout(i,1e3*d)),a||r||l||d||i()}):Promise.resolve()).finally(function(){var t;(c.v.tagConfig.Unblocker?(window.addEventListener("vi_unblock_event",function(){console.log("vi_unblock_event"),c.v.env.unblocked=!0},!1),c.v.tagConfig.Unblocker.waitForEvent?(t=new Promise(function(t,e){Object(b.e)("WA",{},c.v),window.addEventListener("vi_adblocker_event",function(){console.log("vi_adblocker_event"),t()},!1)}),Promise.all([Object(R.b)(c.v.tagConfig.Unblocker.url),t])):Object(R.b)(c.v.tagConfig.Unblocker.url)):Promise.resolve()).finally(function(){(c.v.tagConfig.ShoppableVideo?Object(R.b)(m.h.kerv):Promise.resolve()).finally(function(){Object(R.b)(m.h[c.v.tagConfig.Player]).then(function(){"1"===c.v.tagConfig.AdUnitType.toString()?c.startUnit():c.callVideoApi()},function(){Object(b.e)("ERROR",{error_msg:"Failed to load "+m.h[c.v.tagConfig.Player]},c.v)})})})}))):Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": beforePlayerLoad"},this.v)}else Object(b.e)("ERROR",{error_msg:m.e.noChannelId},this.v);else Object(b.e)("ERROR",{error_msg:m.e.noAdUnitType},this.v);else Object(b.e)("ERROR",{error_msg:m.e.noPageUrl},this.v)}},{key:"callVideoApi",value:function(){var i=this,t=this.v.tagConfig.PlayerSuggestionOverlay?15:0<this.v.tagConfig.PlaylistMode?this.v.tagConfig.PlaylistLength:null,e=m.h.videoAPI+(0<this.v.tagConfig.PlaylistMode||this.v.tagConfig.PlayerSuggestionOverlay?"playlist/v2":"video"),n={url:this.v.env.pageUrl,session_id:this.v.env.sessionId,category:this.v.tagConfig.IAB_Category,publisherId:this.v.tagConfig.PublisherID,keywords:this.v.tagConfig.Keywords,language:this.v.tagConfig.Language,useAllCategories:this.v.tagConfig.UseAllCategories,useOnlyCategories:this.v.tagConfig.UseOnlyCategories,userCategories:this.v.tagConfig.UserCategories,appBundle:this.v.tagConfig.AppBundle,appPageUrl:this.v.tagConfig.AppPageUrl,pageTitle:this.v.tagConfig.AppPageTitle||Object(w.j)("title"),pageDescription:Object(w.j)("description"),pageLanguage:this.v.env.pageLanguage,mobile:Object(w.q)(),playlistLength:t};this.v.tagConfig.IncludeVideoKeywords&&(n.includeVideoKeywords=this.v.tagConfig.IncludeVideoKeywords),this.v.tagConfig.SendPageKeywords&&(n.pageKeywords=Object(w.j)("keywords"));t=(window.frameElement&&this.v.env.fif&&window.top.document||window.document).getElementById("vi-stories-data"),t=t&&t.getAttribute("data-video-ids");t&&(n.videoIds=t),this.v.tagConfig.VideoIds&&(n.videoIds=this.v.tagConfig.VideoIds);t=Object(w.k)(decodeURIComponent(this.v.env.pageUrl),"viStoriesId");t&&(n.videoIds=t);var o,s="?url="+(n=Object(w.c)(n,Object(w.g)(this.v.tagConfig.CustomMetaParams,this.v))).url;for(o in delete n.url,n)n.hasOwnProperty(o)&&""!==n[o]&&null!==n[o]&&void 0!==n[o]&&(s+="&"+o+"="+encodeURIComponent(n[o]));return e+=s,this.v.tagConfig.DemoVideos?(this.v.video=this.v.tagConfig.DemoVideos,this.v.state.defaultVideo=!1,void this.startUnit()):this.v.tagConfig.VideoUrl&&this.v.tagConfig.TitleText&&this.v.tagConfig.ThumbnailUrl?(this.v.video[this.v.videoIdx].url=this.v.tagConfig.VideoUrl,this.v.video[this.v.videoIdx].title=this.v.tagConfig.TitleText,this.v.video[this.v.videoIdx].thumbnail=this.v.tagConfig.ThumbnailUrl,this.v.state.defaultVideo=!1,void this.startUnit()):void Object(R.a)("GET",e).then(function(e){var t;e.error?(Object(b.e)("ERROR",{error_msg:m.e.stopCondition+": "+e.error.code+" / "+e.error.message},i.v),i.v.env.fif&&window.frameElement&&setTimeout(i.viStoriesUi.dispose,1e3)):(t=Object(w.p)(e.videos)?e.videos:[e],i.v.tagConfig.PlaylistRandomOrder&&(t=Object(w.B)(t)),i.v.video=t.map(function(t){return{id:t.id,sourceId:t.sourceId,feedId:t.feedId,url:t.url,title:t.title,thumbnail:t.thumbnailImageUrl,duration:t.duration,description:t.description,keywords:t.keywords,licenseInfo:t.licenseInfo,adParameter:t.adParameter,contentCost:t.contentCost,matchedCategoryCode:t.matchedCategoryCode,matchedCategoryName:t.matchedCategoryName,videoSegments:t.videoSegments,requestedCategories:e.requestedCategories,segments:e.segments,brandSafety:e.brandSafety}}),i.v.state.defaultVideo=!1,i.v.env.isEU=e.isEU,i.startUnit())},function(t){Object(b.e)("WARNING",{error_msg:"Failed to load "+e},i.v),i.v.tagConfig.DefaultVideo?(i.v.video[i.v.videoIdx].id=i.v.tagConfig.DefaultVideo.id,i.v.video[i.v.videoIdx].sourceId=i.v.tagConfig.DefaultVideo.sourceId,i.v.video[i.v.videoIdx].feedId=i.v.tagConfig.DefaultVideo.feedId,i.v.video[i.v.videoIdx].url=i.v.tagConfig.DefaultVideo.url,i.v.video[i.v.videoIdx].title=i.v.tagConfig.DefaultVideo.title,i.v.video[i.v.videoIdx].thumbnail=i.v.tagConfig.DefaultVideo.thumbnail,i.v.video[i.v.videoIdx].duration=i.v.tagConfig.DefaultVideo.duration,i.v.video[i.v.videoIdx].description=i.v.tagConfig.DefaultVideo.description,i.v.video[i.v.videoIdx].adParameter=i.v.tagConfig.DefaultVideo.adParameter,i.v.state.defaultVideo=!0,i.startUnit()):Object(R.a)("GET","https://s.vi-serve.com/defaultVideo.json").then(function(t){var e=i.v.tagConfig.Language||"",t=t[e=0<e.indexOf("-")?e.substr(0,e.indexOf("-")):e]||t.default,t=t[i.v.tagConfig.IAB_Category]||t.default;t.id&&(i.v.video[i.v.videoIdx].id=t.id),t.sourceId&&(i.v.video[i.v.videoIdx].sourceId=t.sourceId),t.feedId&&(i.v.video[i.v.videoIdx].feedId=t.feedId),t.url&&(i.v.video[i.v.videoIdx].url=t.url),t.title&&(i.v.video[i.v.videoIdx].title=t.title),t.thumbnail&&(i.v.video[i.v.videoIdx].thumbnail=t.thumbnail),t.duration&&(i.v.video[i.v.videoIdx].duration=t.duration),t.description&&(i.v.video[i.v.videoIdx].description=t.description),i.v.state.defaultVideo=!0,i.startUnit()},function(t){Object(b.e)("WARNING",{error_msg:"Failed to load https://s.vi-serve.com/defaultVideo.json"},i.v),i.v.state.defaultVideo=!0,i.startUnit()})})}},{key:"startUnit",value:function(){var t,e=this;"1"===this.v.tagConfig.AdUnitType.toString()?(this.v.video[this.v.videoIdx].url="",this.v.video[this.v.videoIdx].thumbnail=""):(t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:this.v.tagConfig.Language},Object(b.e)("NV_LOADED",t,this.v)),Promise.all([Object(b.b)(this.v),Object(b.a)(this.v)]).then(function(t){t=Object(w.c)(t[0],t[1]);t&&t.gdpr&&t.gdpr.extra&&Object(b.e)("INFO",t.gdpr.extra,e.v),e.v.remoteControlConfig.Enable&&e.v.env.fif&&!e.v.env.amp&&(C.b.dispatchEvent("vi-stories-unit-event",{action:"launchRemoteControl",v:e.v}),e.v.remoteControlConfig.OpenAnim&&(e.v.playerConfig.openAnim=!0)&&(e.v.viPlayerConfig.openAnim=!0)),"playerAV"===e.v.tagConfig.Player||"playerWL"===e.v.tagConfig.Player||"playerWLstage"===e.v.tagConfig.Player?e.player=new _t(e.v,t,e.viStoriesUi.playerContainer):e.player=new Dt(e.v,t,e.viStoriesUi.playerContainer),e.player.init(),e.viStoriesUi.player=e.player,e.viStoriesUi.render()})}},{key:"perform",value:function(t,e){this.player&&("play"===t?(this.player.tryShowUnit(!0),this.player.play()):"pause"===t?this.player.pause():"inview"===t?(this.player.tryShowUnit(),this.player.tryStartAd()):"float"===t&&(this.player.canFloatNow=e))}}],Vt(zt.prototype,e),zt);function zt(e,t,i,n,o){var s,a,r,l,d=this;for(l in function(t){if(!(t instanceof zt))throw new TypeError("Cannot call a class as a function")}(this),this.referenceElem=null,this.disposed=!1,e)e.hasOwnProperty(l)&&Object(w.t)(e[l])&&(e[l]=e[l].trim());if(-1!==m.b.indexOf(navigator.userAgent)){var c=m.h.tracking+"?event=ERROR&pub_id="+e.PublisherID+"&channel_id="+e.ChannelID+"&page_url="+o.pageUrl+"&error_msg="+m.e.crawlerUa;return document.createElement("img").src=c+"&cb="+Object(w.z)(),void console.log("VI_ERROR: "+m.e.crawlerUa)}if(!o.fif&&!e.AllowNonFriendlyIframe){c=m.h.tracking+"?event=ERROR&pub_id="+e.PublisherID+"&channel_id="+e.ChannelID+"&page_url="+o.pageUrl+"&error_msg="+m.e.nonFif;return document.createElement("img").src=c+"&cb="+Object(w.z)(),void console.log("VI_ERROR: "+m.e.nonFif)}o.fif&&window.frameElement&&(window.frameElement.contentDocument.body.classList.add("vi-stories-inside-iframe"),window.frameElement.style.backgroundColor="transparent"),this.v={env:o,state:Object(w.c)({},m.f),topDiv:null,topDivId:"",video:JSON.parse(JSON.stringify(m.a.video)),videoIdx:m.a.videoIdx},["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return d.v[t]=Object(w.c)({},m.a[t])}),Object(w.q)()&&m.a.mobile&&["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return d.v[t]=Object(w.c)(d.v[t],m.a.mobile[t])}),this.v.tagConfig=Object(w.c)(this.v.tagConfig,e),["remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return d.v[t]=Object(w.c)(d.v[t],e[t])}),Object(w.q)()&&e.mobile&&["tagConfig","remoteControlConfig","playerConfig","viPlayerConfig","prebidConfig"].map(function(t){return d.v[t]=Object(w.c)(d.v[t],e.mobile[t])});var v={CustomTrackingUrlDispImp:"DISP_IMP",CustomTrackingUrlDispBImp:"DISP_B_IMP",CustomTrackingUrlError:"ERROR",CustomTrackingUrlImpression:"IMP",CustomTrackingUrlPlacement:"PLACEMENT"};Object.keys(v).map(function(t){d.v.tagConfig[t]&&(d.v.tagConfig.CustomTracking||(d.v.tagConfig.CustomTracking={}),d.v.tagConfig.CustomTracking[v[t]]=[d.v.tagConfig[t]],delete d.v.tagConfig[t])});for(var h=document.querySelectorAll(".vi-stories-script-loader"),u=0;u<h.length;u++)if(h[u].getAttribute("data-publisher-id")===e.PublisherID&&h[u].getAttribute("data-position-id")===e.PositionID&&!h[u].hasAttribute("data-source-passed")){(t=h[u]).setAttribute("data-source-passed","true");break}if(!t)for(var p=0,g=document.getElementsByTagName("script");p<g.length;p++)if((s=g[p].text)&&/\(\s*function\s*\(\s*v\s*,\s*i\s*\)\s*{/gi.test(s)&&-1!==s.indexOf(e.ChannelID)&&!g[p].hasAttribute("data-source-passed")){(t=g[p]).setAttribute("data-source-passed","true"),(s=s.match(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i))&&0<s.length&&(a=s[0]);break}if(t){if(t.parentNode&&"head"===t.parentNode.tagName.toLowerCase())return void Object(b.e)("ERROR",{error_msg:m.e.head},this.v);this.referenceElem=t}else this.referenceElem=document.getElementById("vi-"+e.PublisherID),this.referenceElem||(this.referenceElem=document.createElement("script"),document.body.appendChild(this.referenceElem));if(!i)if(a){for(var f=0,y=document.getElementsByTagName("script");f<y.length;f++)if((r=y[f].src)&&-1!==a.indexOf(r)){i=r;break}}else i="https://s.vi-serve.com/";i&&(Bt=i.substr(0,i.lastIndexOf("/"))),(n?Promise.resolve():this.loadPublisherConfigs(this.v.tagConfig.PublisherID,this.v.env.pageDomain).finally(function(){return d.v.tagConfig.Prebid?d.loadPublisherConfigs(d.v.tagConfig.PublisherID,d.v.env.pageDomain,"prebid"):Promise.resolve()})).finally(function(){d.initUnit()})}},function(t,e,i){"use strict";i.r(e),function(u){i(11),i(12),i(16);var p=i(2),g=i(7),f=i(8),y=i(3),m=i(1);window[btoa("video intelligence")]||(window[btoa("video intelligence")]=window.vi={topWin:null,viUnit:null,publisherConfig:function(e,t){var i=this.topWin&&this.topWin[btoa("video intelligence")],i=i&&i.viHub&&i.viHub.viUnits||[],n=t&&t.env.adUnitId||document.currentScript&&document.currentScript.className;i.forEach(function(t){(!n||parseInt(n,10)!==t.v.env.adUnitId)&&n||t.publisherConfig(e)})},run:function(t,e,i,n){var s=this,o=Object(m.c)({},p.c);o.sessionId=Object(m.C)();try{var a=Object(m.e)();t.GdprConsent&&(o.consent=t.GdprConsent),a&&a.initialConsentValue&&(o.consent=a.initialConsentValue),a&&a.data&&(a.data.viTitle&&(document.title=a.data.viTitle),a.data.viPageLanguage&&(document.documentElement.lang=a.data.viPageLanguage)),o.amp=!!a,o.pageLanguage=Object(m.j)("language")||Object(m.j)("lang");var r=o.amp?a.sourceUrl:window.top.location&&window.top.location.href,l=o.amp?Object(m.h)(r):window.top.location&&window.top.location.hostname;o.pageUrl=encodeURIComponent(r),o.pageDomain=encodeURIComponent(l)}catch(t){o.fif=!1;var d=window,c=window.document.referrer;try{for(;c=(d=d.parent).document.referrer,d!==window.top;);}catch(t){}var v=Object(m.o)(c);v&&(c=v,o.amp=!0),o.pageDomain=encodeURIComponent(Object(m.h)(c)||c),o.pageUrl=encodeURIComponent(c)}this.topWin=o.fif&&!o.amp&&window.top||window;v=this.topWin[btoa("video intelligence")]||(this.topWin[btoa("video intelligence")]={});v.viHub||(v.viHub={lastId:0,floatId:0,viUnits:[]}),o.adUnitId=++v.viHub.lastId,this.viUnit=new f.a(t,e,i,n,o);var h=v.viHub;h.viUnits.push(this.viUnit),v.closeAll=function(){h.viUnits.reduceRight(function(t,e){e.dispose()},[])},y.b.hasEventListener("vi-stories-rc-event")||y.b.addEventListener("vi-stories-rc-event",function(e){h.viUnits.forEach(function(t){"inview"===e.data.action?(t.v.state.remoteControlInViewOnce=!0,t.perform(e.data.action)):e.data.adUnitId===t.v.env.adUnitId&&t.perform(e.data.action)})}),y.b.hasEventListener("vi-stories-unit-event")||y.b.addEventListener("vi-stories-unit-event",function(o){if("launchRemoteControl"===o.data.action){if(!h.viRemoteControl){var t=document.createElement("style");t.id="vi-css-rc",t.type="text/css";try{t.innerHTML=u}catch(t){}s.topWin.document.head.appendChild(t),h.viRemoteControl=new g.a(o.data.v)}}else"float"===o.data.action?(h.floatId=o.data.info?o.data.v.env.adUnitId:0,1<h.viUnits.length&&h.viUnits.forEach(function(t){o.data.v.env.adUnitId!==t.v.env.adUnitId&&t.perform(o.data.action,!o.data.info)})):"close"===o.data.action?(h.viUnits.reduceRight(function(t,e,i,n){o.data.v.env.adUnitId===e.v.env.adUnitId&&n.splice(i,1)},[]),s.viUnit&&s.viUnit.v.env.adUnitId===o.data.v.env.adUnitId&&(s.viUnit=null),0===h.viUnits.length&&h.viRemoteControl&&h.viRemoteControl.perform(o.data.action,o.data.v)):"stopMultipleInstances"===o.data.action?1<h.viUnits.length&&h.viUnits[0].v.env.adUnitId!==o.data.v.env.adUnitId&&(h.viUnits.reduceRight(function(t,e,i,n){o.data.v.env.adUnitId===e.v.env.adUnitId&&(n.splice(i,1),e.dispose())},[]),s.viUnit&&s.viUnit.v.env.adUnitId===o.data.v.env.adUnitId&&(s.viUnit=null)):h.viRemoteControl&&h.viRemoteControl.perform(o.data.action,o.data.v,o.data.info)})},close:function(){this.viUnit&&this.viUnit.dispose()}})}.call(this,i(10))},function(t,e,i){(e=i(6)(!1)).push([t.i,".vi-stories-remote-control,.vi-stories-remote-control div,.vi-stories-remote-control span,.vi-stories-remote-control object,.vi-stories-remote-control iframe,.vi-stories-remote-control audio,.vi-stories-remote-control video,.vi-stories-remote-control dl,.vi-stories-remote-control dt,.vi-stories-remote-control dd,.vi-stories-remote-control button{background:transparent;border:0;bottom:auto;box-shadow:none;box-sizing:content-box;clear:none;font-size:100%;left:auto;line-height:inherit;margin:0;outline:none;overflow:visible;padding:0;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;word-spacing:normal}.vi-stories-remote-control a{background:transparent;font-size:100%;margin:0;padding:0;vertical-align:baseline}.vi-stories-remote-control{border-color:#e3e3e3;border-style:solid;border-width:1px;box-sizing:border-box;height:100px;margin-bottom:15px;position:relative;width:100%}.vi-stories-remote-control.displayNone{display:none}.vi-stories-remote-control .vi-stories-remote-control-thumbnail{background-repeat:no-repeat;background-size:cover;height:100%;left:0;position:absolute;top:0;width:174px}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-playback-button{background-color:rgba(0,0,0,0.4);background-repeat:no-repeat;background-size:62% 52%;border-color:#ccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;cursor:pointer;height:30px;left:50%;margin:auto;outline:none;padding:6px;position:absolute;top:50%;transform:translate(-50%, -50%);width:30px}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-play-button{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNC45LDF2MjFsMTYuNS0xMC41TDQuOSwxeiIvPjwvc3ZnPg==);background-position:11px center}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-pause-button{background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtMyAyMmg2di0yMGgtNnYyMHogbTEwLTIwdjIwaDZ2LTIwaC02eiIvPjwvc3ZnPg==);background-position:9px center}.vi-stories-remote-control .vi-stories-remote-control-description{align-items:center;display:flex;height:100%;position:absolute;right:0;top:0;width:calc(100% - 174px)}.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-title{color:#000000;font-family:Verdana;font-size:18px;font-weight:bold;padding:10px;text-align:left;word-wrap:break-word}.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-sponsor-logo{bottom:0;display:inline;height:20px;margin:0 8px 8px 0;position:absolute;right:0;width:20px}.vi-stories-width-max-500.vi-stories-remote-control{height:70px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail{width:120px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-playback-button{height:15px;width:15px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-play-button{background-position:7px center}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-pause-button{background-position:6px center}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description{width:calc(100% - 120px)}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-title{font-size:10px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-sponsor-logo{height:15px;margin:0 5px 5px 0;width:15px}\n",""]),t.exports=e},function(t,e){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){"use strict";if("Element"in t){var e=t.Element.prototype,i=Object,s=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array.prototype.indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(t,e)},r=function(t){for(var e=s.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},l=r.prototype=[],d=function(){return new r(this)};if(o.prototype=Error.prototype,l.item=function(t){return this[t]||null},l.contains=function(t){return-1!==a(this,t+="")},l.add=function(){for(var t,e=arguments,i=0,n=e.length,o=!1;-1===a(this,t=e[i]+"")&&(this.push(t),o=!0),++i<n;);o&&this._updateClassName()},l.remove=function(){var t,e,i=arguments,n=0,o=i.length,s=!1;do{for(e=a(this,t=i[n]+"");-1!==e;)this.splice(e,1),s=!0,e=a(this,t)}while(++n<o);s&&this._updateClassName()},l.toggle=function(t,e){var i=this.contains(t+=""),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},l.toString=function(){return this.join(" ")},i.defineProperty){l={get:d,enumerable:!0,configurable:!0};try{i.defineProperty(e,"classList",l)}catch(t){void 0!==t.number&&-2146823252!==t.number||(l.enumerable=!1,i.defineProperty(e,"classList",l))}}else i.prototype.__defineGetter__&&e.__defineGetter__("classList",d)}}(window.self),function(){"use strict";var t,i,e=document.createElement("_");e.classList.add("c1","c2"),e.classList.contains("c2")||((t=function(t){var n=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var e=arguments.length,i=0;i<e;i++)n.call(this,arguments[i])}})("add"),t("remove")),e.classList.toggle("c3",!1),e.classList.contains("c3")&&(i=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)})}())},function(t,e,i){"use strict";t.exports=i(13).polyfill()},function(e,t,i){!function(N,D){var t=function(){"use strict";function l(t){return"function"==typeof t}var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,e=void 0,o=void 0,r=function(t,e){v[n]=t,v[n+1]=e,2===(n+=2)&&(o?o(h):f())},t="undefined"!=typeof window?window:void 0,s=t||{},a=s.MutationObserver||s.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==N&&"[object process]"==={}.toString.call(N),s="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var t=setTimeout;return function(){return t(h,1)}}var v=new Array(1e3);function h(){for(var t=0;t<n;t+=2)(0,v[t])(v[t+1]),v[t]=void 0,v[t+1]=void 0;n=0}var u,p,g,f=void 0;function y(t,e){var i=this,n=new this.constructor(C);void 0===n[b]&&M(n);var o,s=i._state;return s?(o=arguments[s-1],r(function(){return E(s,n,o,i._result)})):k(i,n,t,e),n}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(C);return I(e,t),e}var f=d?function(){return N.nextTick(h)}:a?(p=0,a=new a(h),g=document.createTextNode(""),a.observe(g,{characterData:!0}),function(){g.data=p=++p%2}):s?((u=new MessageChannel).port1.onmessage=h,function(){return u.port2.postMessage(0)}):(void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(h)}:c()}catch(t){return c()}}:c)(),b=Math.random().toString(36).substring(2);function C(){}function w(t,e,i){var o,s,n,a;e.constructor===t.constructor&&i===y&&e.constructor.resolve===m?(n=t,1===(a=e)._state?P(n,a._result):2===a._state?O(n,a._result):k(a,void 0,function(t){return I(n,t)},function(t){return O(n,t)})):void 0!==i&&l(i)?(o=e,s=i,r(function(i){var n=!1,t=function(t,e){try{t.call(e,function(t){n||(n=!0,o!==t?I(i,t):P(i,t))},function(t){n||(n=!0,O(i,t))})}catch(t){return t}}(s,o,i._label);!n&&t&&(n=!0,O(i,t))},t)):P(t,e)}function I(t,e){if(t===e)O(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof e,null===e||"object"!=i&&"function"!=i)P(t,e);else{i=void 0;try{i=e.then}catch(e){return void O(t,e)}w(t,e,i)}var i}function x(t){t._onerror&&t._onerror(t._result),_(t)}function P(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&r(_,t))}function O(t,e){void 0===t._state&&(t._state=2,t._result=e,r(x,t))}function k(t,e,i,n){var o=t._subscribers,s=o.length;t._onerror=null,o[s]=e,o[s+1]=i,o[s+2]=n,0===s&&t._state&&r(_,t)}function _(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n,o=void 0,s=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+i],n?E(i,n,o,s):o(s);t._subscribers.length=0}}function E(t,e,i,n){var o=l(i),s=void 0,a=void 0,r=!0;if(o){try{s=i(n)}catch(t){r=!1,a=t}if(e===s)return void O(e,new TypeError("A promises callback cannot return that same promise."))}else s=n;void 0!==e._state||(o&&r?I(e,s):!1===r?O(e,a):1===t?P(e,s):2===t&&O(e,s))}var T=0;function M(t){t[b]=T++,t._state=void 0,t._result=void 0,t._subscribers=[]}var S=(j.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},j.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===m){var o,s=void 0,a=void 0,r=!1;try{s=e.then}catch(e){r=!0,a=e}s===y&&void 0!==e._state?this._settledAt(e._state,t,e._result):"function"!=typeof s?(this._remaining--,this._result[t]=e):i===L?(o=new i(C),r?O(o,a):w(o,e,s),this._willSettleAt(o,t)):this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},j.prototype._settledAt=function(t,e,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===t?O(n,i):this._result[e]=i),0===this._remaining&&P(n,this._result)},j.prototype._willSettleAt=function(t,e){var i=this;k(t,void 0,function(t){return i._settledAt(1,e,t)},function(t){return i._settledAt(2,e,t)})},j),L=(A.prototype.catch=function(t){return this.then(null,t)},A.prototype.finally=function(e){var i=this.constructor;return l(e)?this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):this.then(e,e)},A);function A(t){this[b]=T++,this._result=this._state=void 0,this._subscribers=[],C!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof A?function(e,t){try{t(function(t){I(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function j(t,e){this._instanceConstructor=t,this.promise=new t(C),this.promise[b]||M(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return L.prototype.then=y,L.all=function(t){return new S(this,t).promise},L.race=function(o){var s=this;return i(o)?new s(function(t,e){for(var i=o.length,n=0;n<i;n++)s.resolve(o[n]).then(t,e)}):new s(function(t,e){return e(new TypeError("You must pass an array to race."))})},L.resolve=m,L.reject=function(t){var e=new this(C);return O(e,t),e},L._setScheduler=function(t){o=t},L._setAsap=function(t){r=t},L._asap=r,L.polyfill=function(){var t=void 0;if(void 0!==D)t=D;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=L},L.Promise=L};e.exports=t()}.call(this,i(14),i(15))},function(t,e){var i,n,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var r,l=[],d=!1,c=-1;function v(){d&&r&&(d=!1,r.length?l=r.concat(l):c=-1,l.length&&h())}function h(){if(!d){var t=a(v);d=!0;for(var e=l.length;e;){for(r=l,l=[];++c<e;)r&&r[c].run();c=-1,e=l.length}r=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new u(t,e)),1!==l.length||d||a(h)},u.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e){var i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){!function(){"use strict";var u,e;function l(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var i,n,o,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){i(),o=null},n)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function i(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function n(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function p(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e=!e.width||!e.height?{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:e:{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var i=e;i;){if(i==t)return!0;i=g(i)}return!1}function g(t){t=t.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(u=window.document,e=[],t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return(t=!Array.isArray(t)?[t]:t).sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(u,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(u,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(u,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),r=a?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,i=p(e),n=this._rootContainsTarget(e),o=t.entry,s=a&&n&&this._computeTargetAndRootIntersection(e,r),s=t.entry=new l({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:i,rootBounds:r,intersectionRect:s});o?a&&n?this._hasCrossedThreshold(o,s)&&this._queuedEntries.push(s):o&&o.isIntersecting&&this._queuedEntries.push(s):this._queuedEntries.push(s)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=window.getComputedStyle(t).display){for(var i,n,o,s,a,r,l=p(t),d=g(t),c=!1;!c;){var v=null,h=1==d.nodeType?window.getComputedStyle(d):{};if("none"==h.display)return;if(d==this.root||d==u?(c=!0,v=e):d!=u.body&&d!=u.documentElement&&"visible"!=h.overflow&&(v=p(d)),v&&(i=v,n=l,v=void 0,o=Math.max(i.top,n.top),s=Math.min(i.bottom,n.bottom),a=Math.max(i.left,n.left),v=s-o,!(l=0<=(h=(r=Math.min(i.right,n.right))-a)&&0<=v&&{top:o,bottom:s,left:a,right:r,width:h,height:v})))break;d=g(d)}return l}},t.prototype._getRootRect=function(){var t,e;return e=this.root?p(this.root):(t=u.documentElement,e=u.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(i){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?i.width:i.height)/100}),t={top:i.top-t[0],right:i.right+t[1],bottom:i.bottom+t[2],left:i.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==i||s==n||s<i!=s<n)return!0}},t.prototype._rootIsInDom=function(){return!this.root||o(u,this.root)},t.prototype._rootContainsTarget=function(t){return o(this.root||u,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=l))}()},function(t,e,i){var n=i(18),i=i(19),i=(n(i="string"==typeof(i=i.__esModule?i.default:i)?[[t.i,i,""]]:i,{insert:"head",singleton:!1}),i.locals||{});t.exports=i},function(t,e,o){"use strict";var i,n,s=(n={},function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}),d=[];function c(t){for(var e=-1,i=0;i<d.length;i++)if(d[i].identifier===t){e=i;break}return e}function r(t,e){for(var i={},n=[],o=0;o<t.length;o++){var s=t[o],a=e.base?s[0]+e.base:s[0],r=i[a]||0,l="".concat(a," ").concat(r);i[a]=r+1;r=c(l),s={css:s[1],media:s[2],sourceMap:s[3]};-1!==r?(d[r].references++,d[r].updater(s)):d.push({identifier:l,updater:function(e,t){var i,n,o;{var s;o=t.singleton?(s=p++,i=u=u||v(t),n=h.bind(null,i,s,!1),h.bind(null,i,s,!0)):(i=v(t),n=function(t,e,i){var n=i.css,o=i.media,i=i.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i,t),function(){var t;null!==(t=i).parentNode&&t.parentNode.removeChild(t)})}return n(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap||n(e=t):o()}}(s,e),references:1}),n.push(l)}return n}function v(t){var e,i=document.createElement("style"),n=t.attributes||{};if(void 0!==n.nonce||(e=o.nc)&&(n.nonce=e),Object.keys(n).forEach(function(t){i.setAttribute(t,n[t])}),"function"==typeof t.insert)t.insert(i);else{t=s(t.insert||"head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(i)}return i}var a,l=(a=[],function(t,e){return a[t]=e,a.filter(Boolean).join("\n")});function h(t,e,i,n){i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;t.styleSheet?t.styleSheet.cssText=l(e,i):(n=document.createTextNode(i),(i=t.childNodes)[e]&&t.removeChild(i[e]),i.length?t.insertBefore(n,i[e]):t.appendChild(n))}var u=null,p=0;t.exports=function(t,s){(s=s||{}).singleton||"boolean"==typeof s.singleton||(s.singleton=i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i);var a=r(t=t||[],s);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var e=0;e<a.length;e++){var i=c(a[e]);d[i].references--}for(var t=r(t,s),n=0;n<a.length;n++){var o=c(a[n]);0===d[o].references&&(d[o].updater(),d.splice(o,1))}a=t}}}},function(t,e,i){(e=i(6)(!1)).push([t.i,"#vi-stories-main-container{background-color:#faf8f8;clear:both;font-family:Verdana;margin:0 auto;padding:0px;position:relative}.viUnit1 #vi-stories-main-container{background-color:transparent}.vi-stories-main-container,.vi-stories-main-container div,.vi-stories-main-container span,.vi-stories-main-container object,.vi-stories-main-container iframe,.vi-stories-main-container audio,.vi-stories-main-container video,.vi-stories-main-container dl,.vi-stories-main-container dt,.vi-stories-main-container dd,.vi-stories-main-container button{background:transparent;border:0;bottom:auto;box-shadow:none;box-sizing:content-box;clear:none;font-size:100%;left:auto;line-height:inherit;margin:0;outline:none;overflow:visible;padding:0;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;word-spacing:normal}.vi-stories-main-container a{background:transparent;font-size:100%;margin:0;padding:0;vertical-align:baseline}#vi-stories-main-placeholder{width:1px}#vi-stories-player-container{position:relative;overflow:hidden}#vi-stories-ad-container{height:100%;position:absolute;width:100%}#vi-stories-gui-container{height:100%;position:absolute;width:100%}#vi-stories-text-above{color:#000;font-family:Verdana;font-size:11px;position:absolute;top:-20px}#vi-stories-close-button{background-position:center center;background-repeat:no-repeat;background-size:cover;color:#000000;font-size:90%;height:24px;line-height:24px;position:absolute;text-align:center;user-select:none;width:24px;z-index:10000}#vi-stories-close-button.outside-vi-unit{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 20 20'%3E%3Cpath fill='%23000' d='M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z'/%3E%3C/svg%3E\");background-size:22px;top:-26px}#vi-stories-close-button.inside-vi-unit{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512' viewBox='0 0 16 16'%3E%3Cpath fill='%23FFF' d='M15.1 3.1L12.9.9 8 5.9 3.1.9.9 3.1l5 4.9-5 4.9 2.2 2.2 4.9-5 4.9 5 2.2-2.2-5-4.9z'/%3E%3C/svg%3E\");color:#ffffff}#vi-stories-close-button.vi-stories-close-timer{background-image:none}#vi-stories-area-above-placeholder{height:25px}.fixedRatio.vi-stories-floating.vi-stories-main-container{height:auto !important}.vi-stories-floating .vi-stories-hide-while-floating{display:none}.vi-stories-floating .vi-stories-show-while-floating{display:block}#vi-stories-player-image-overlay{background-size:cover;height:70px;margin:5px;width:125px}#vi-stories-player-preview-overlay{align-items:center;background-color:rgba(0,0,0,0.5);max-width:100%;position:absolute;z-index:10000000}#vi-stories-player-text-overlay{color:white;font-family:Verdana;font-size:18px;padding:7px;user-select:none;overflow:hidden;flex-grow:1;flex-basis:1px;text-overflow:ellipsis}#vi-stories-player-preview-overlay.bottom-left,#vi-stories-player-preview-overlay.bottom-right{bottom:45px}#vi-stories-preloader-thumbnail{background-color:#000000;background-position:center center;background-repeat:no-repeat;background-size:contain;height:100%;width:100%}#vi-stories-preloader-play-icon{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+\");background-position:16px center;background-repeat:no-repeat;background-size:62% 64%;border:3px solid white;border-radius:50%;box-sizing:content-box;height:61px;left:50%;margin-left:-34px;margin-top:-34px;position:absolute;top:50%;width:61px;z-index:99999}.vi-stories-position.top-left{top:0;left:0}.vi-stories-position.top-right{top:0;right:0}.vi-stories-position.bottom-left{bottom:0;left:0}.vi-stories-position.bottom-right{bottom:0;right:0}.displayFlex{display:flex}.displayNone{display:none}.marginBottom.marginBottom20{margin-bottom:20px}.pointer{cursor:pointer}.heightTransition{transition:height 1s ease 0s}#vi-stories-main-container .viTruncate1Line{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vi-stories-width-max-500 #vi-stories-player-image-overlay{height:30px;margin:3px;width:53px}.vi-stories-floating.vi-stories-playing-content:hover #vi-stories-player-preview-overlay,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable:hover #vi-stories-player-preview-overlay,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-show #vi-stories-player-preview-overlay{display:none}.vi-stories-companion-ad-container{margin:10px 0}.vi-stories-companion-ad-container>div{margin:0 auto}#vi-stories-description-container{border-color:#e3e3e3;border-style:solid;border-width:0px 1px 1px 1px;box-sizing:border-box;margin:0px auto;width:100%}#vi-stories-sponsor-container{height:36px;line-height:36px;text-align:right}#vi-stories-sponsor-container a{box-shadow:none;cursor:pointer;text-decoration:none}#vi-stories-sponsor-container.top-left,#vi-stories-sponsor-container.top-right{position:absolute;top:-31px}#vi-stories-sponsor-container.top-left #vi-stories-sponsor-powered,#vi-stories-sponsor-container.top-right #vi-stories-sponsor-powered{font-size:11px;opacity:unset}#vi-stories-sponsor-container.top-left,#vi-stories-sponsor-container.bottom-left{text-align:left}#vi-stories-title{color:#000;font-family:Verdana;font-size:18px;font-weight:bold;line-height:1.33;margin-left:8px;padding-top:8px;text-align:left;word-wrap:break-word}#vi-stories-sponsor-powered{color:#000;display:inline-block;font-family:Verdana;font-size:9px;margin:0 8px 0 8px;opacity:0.5;text-transform:uppercase;vertical-align:middle}#vi-stories-main-container #vi-stories-sponsor-logo{display:inline;height:20px;margin:0 8px 0 0;vertical-align:middle;width:auto}.fixedRatio #vi-stories-sponsor-container{position:absolute;width:100%}.fixedRatio.hideUnitBeforeAd #vi-stories-description-container{border-width:0}.viUnit1 #vi-stories-main-container #vi-stories-description-container{display:none}.vi-stories-overlay-ui #vi-stories-description-container,.vi-stories-floating #vi-stories-description-container{background:linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);border:0;color:#ffffff;display:none;height:30%;position:absolute;top:0}.vi-stories-overlay-ui.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container,.vi-stories-floating.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container{background:linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.7) 20%, rgba(0,0,0,0) 100%);pointer-events:none;top:25px}.vi-stories-overlay-ui #vi-stories-title,.vi-stories-floating #vi-stories-title{color:#ffffff;margin-left:20px;padding-top:20px}.vi-stories-overlay-ui #vi-stories-sponsor-container{background-color:transparent}.vi-stories-overlay-ui#vi-stories-main-container #vi-stories-sponsor-logo{margin:7px;right:0;top:0}.vi-stories-overlay-ui#vi-stories-main-container{background-color:transparent}.vi-stories-floating #vi-stories-sponsor-container{display:none}.vi-stories-floating.vi-stories-playing-content:hover #vi-stories-description-container,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable:hover #vi-stories-description-container,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-show #vi-stories-description-container{display:block}.vi-stories-width-max-500.vi-stories-overlay-ui #vi-stories-title,.vi-stories-width-max-500.vi-stories-floating #vi-stories-title{margin-left:10px;padding-top:10px}.vi-stories-width-max-500 #vi-stories-title{font-size:12px}.vi-stories-width-max-500 #vi-stories-sponsor-container{height:24px;line-height:24px}.vi-stories-width-max-500#vi-stories-main-container #vi-stories-sponsor-logo{height:15px}.vi-stories-width-max-500 #vi-stories-player-text-overlay{font-size:12px}#vi-stories-display-ad-overlay{box-sizing:border-box;height:100%;position:absolute;top:0;width:100%;z-index:10000000}#vi-stories-display-ad-overlay #vi-stories-display-ad-container{left:calc(50% - 150px);position:absolute;top:calc(50% - 125px)}#vi-stories-display-ad-overlay #vi-stories-display-ad-close-button{background-color:#000;border-color:#ffffff;border-style:solid;border-width:1px;color:#ffffff;cursor:pointer;padding:5px;position:absolute;right:0;top:0}#vi-stories-display-ad-overlay.vi-stories-display-ad-blur{background-color:#ffffff}.vi-stories-width-max-500 #vi-stories-display-ad-overlay #vi-stories-display-ad-close-button{display:none}.vi-stories-main-container .vi-stories-display-banner-overlay{bottom:10px;box-sizing:border-box;position:absolute;transition-delay:0s;transition-duration:200ms;z-index:10000000}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x50{height:50px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x80{height:80px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x100{height:100px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size468x60{height:60px;left:calc(50% - 234px);width:468px}.vi-stories-main-container .vi-stories-display-banner-overlay.size728x90{height:90px;left:calc(50% - 364px);width:728px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button{background-color:#000000;border-color:#ffffff;border-radius:50%;border-style:solid;border-width:2px;cursor:pointer;display:block;height:23px;position:absolute;right:-8px;top:-8px;width:23px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::before,.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::after{background-color:#ffffff;content:\"\";height:3px;left:5px;position:absolute;top:10px;width:13px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::before{transform:rotate(-45deg)}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::after{transform:rotate(45deg)}.vi-stories-main-container .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:translateY(-39px)}.vi-stories-main-container.vi-stories-floating .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:translateY(-60px)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-display-banner-overlay{bottom:3px;transform:scale(0.7)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:scale(0.7) translateY(-54px)}.vi-stories-main-container.vi-stories-width-max-500.vi-stories-floating .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:scale(0.7) translateY(-64px)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-display-banner-overlay.size468x60{bottom:-5px;transform:scale(0.5)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-player-container:hover .vi-stories-display-banner-overlay.size468x60{transform:scale(0.5) translateY(-74px)}.vi-stories-main-container.vi-stories-width-max-500.vi-stories-floating .vi-stories-player-container:hover .vi-stories-display-banner-overlay.size468x60{transform:scale(0.5) translateY(-87px)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile .vi-stories-player-container .vi-stories-display-banner-overlay{bottom:43px;transform:scale(0.7)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile .vi-stories-player-container .vi-stories-display-banner-overlay.size468x60{bottom:33px;transform:scale(0.5)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile.vi-stories-floating .vi-stories-player-container .vi-stories-display-banner-overlay{bottom:48px;transform:scale(0.7)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile.vi-stories-floating .vi-stories-player-container .vi-stories-display-banner-overlay.size468x60{bottom:38px;transform:scale(0.5)}.vi-stories-main-container.vi-stories-suggestion-overlay-show .GUI-module__gui.GUI-module__container .GUI-module__controls{transform:translateY(0)}.vi-stories-main-container.vi-stories-suggestion-overlay-show .GUI-module__gui.GUI-module__container::before{background-color:rgba(0,0,0,0.7);bottom:0;content:\"\";height:10%;left:0;pointer-events:none;position:absolute;width:100%}.vi-stories-main-container.vi-stories-suggestion-overlay-show.vi-stories-width-max-500 .GUI-module__gui.GUI-module__container::before{height:20%}.vi-stories-ribbon-ui#vi-stories-main-container{width:100% !important}.vi-stories-ribbon-ui #vi-stories-description-container,.vi-stories-ribbon-ui.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container{background-color:#000000;background-image:none;border-width:0px;bottom:auto;display:block;height:100%;overflow:hidden;position:absolute;right:0;top:0;width:53%}.vi-stories-ribbon-ui #vi-stories-title{color:#ffffff;font-size:15px;padding-top:24px}.vi-stories-mobile .GUI-module__gui.GUI-module__container .GUI-module__controls{transform:translateY(0)}#vi-stories-license-info-button{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiICA+DQo8Zz4NCgk8cGF0aCBkPSJNNTAwLDg0LjJjNTYuMiwwLDExMC42LDExLDE2MS44LDMyLjZjNDkuNSwyMC45LDk0LDUwLjksMTMyLjIsODkuMWMzOC4yLDM4LjIsNjguMiw4Mi43LDg5LjEsMTMyLjJjMjEuNyw1MS4yLDMyLjYsMTA1LjcsMzIuNiwxNjEuOGMwLDU2LjItMTEsMTEwLjYtMzIuNiwxNjEuOGMtMjAuOSw0OS41LTUwLjksOTQtODkuMSwxMzIuMmMtMzguMiwzOC4yLTgyLjcsNjguMi0xMzIuMiw4OS4xYy01MS4yLDIxLjctMTA1LjcsMzIuNi0xNjEuOCwzMi42Yy01Ni4yLDAtMTEwLjYtMTEtMTYxLjgtMzIuNmMtNDkuNS0yMC45LTk0LTUwLjktMTMyLjItODkuMWMtMzguMi0zOC4yLTY4LjItODIuNy04OS4xLTEzMi4yQzk1LjIsNjEwLjYsODQuMiw1NTYuMiw4NC4yLDUwMGMwLTU2LjIsMTEtMTEwLjYsMzIuNi0xNjEuOGMyMC45LTQ5LjUsNTAuOS05NCw4OS4xLTEzMi4yYzM4LjItMzguMiw4Mi43LTY4LjIsMTMyLjItODkuMUMzODkuNCw5NS4yLDQ0My44LDg0LjIsNTAwLDg0LjIgTTUwMCwxMEMyMjkuNCwxMCwxMCwyMjkuNCwxMCw1MDBzMjE5LjQsNDkwLDQ5MCw0OTBjMjcwLjYsMCw0OTAtMjE5LjQsNDkwLTQ5MFM3NzAuNiwxMCw1MDAsMTBMNTAwLDEweiIgZmlsbD0iI2ZmZmZmZiIvPg0KCTxwYXRoIGQ9Ik00NTAuMSwzMzIuMnYtOTIuM2g5OS43djkyLjNINDUwLjF6IE00NTAuMSw3NjAuMVYzODMuM2g5OS43djM3Ni44SDQ1MC4xeiIgZmlsbD0iI2ZmZmZmZiIvPjwvZz4NCjwvc3ZnPg==\");background-repeat:no-repeat;background-size:cover;height:20px;margin-top:2px;width:20px}#vi-stories-gui-container #vi-stories-license-info-button{display:inline;margin-top:9px;position:absolute;right:15px}#vi-stories-license-info-dialog{background-color:rgba(255,255,255,0.6);border-color:#dddddd;border-radius:3px;border-style:solid;border-width:2px;bottom:0;color:#000000;font-size:18px;height:150px;left:0;margin:auto;padding:15px;position:absolute;right:0;top:0;width:300px;z-index:10000000}#vi-stories-license-info-dialog .vi-stories-license-info-dialog-title{font-weight:bold}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dl{width:100%}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dt{clear:left;float:left;font-weight:bold}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dd{float:left;margin-left:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:60%}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-close-button{color:#000000;font-size:25px;font-weight:bold;height:25px;line-height:1;position:absolute;right:0;top:0;width:25px}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-close-button:after{display:inline-block;content:\"\\00d7\"}.vi-stories-width-max-500 #vi-stories-license-info-credit-button{font-size:16px}.vi-stories-width-max-500 #vi-stories-license-info-dialog{font-size:13px;height:80px;width:215px}#vi-stories-playlist-container{border-color:#e3e3e3;border-style:solid;border-width:0px 1px 1px 1px;box-sizing:border-box;height:150px;margin:0px auto;position:relative;user-select:none;width:100%}#vi-stories-playlist-container #vi-stories-playlist-entries-viewport{height:100%;margin:0 20px;overflow:hidden}#vi-stories-playlist-container #vi-stories-playlist-entries{position:relative;width:150%;height:100%}#vi-stories-playlist-container .vi-stories-playlist-entry{background-color:rgba(125,125,125,0.85);background-size:cover;border-color:#ffffff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;font-family:Verdana;height:calc(100% - 20px);margin:10px 7px;position:relative;width:calc((100% - 84px)/6)}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item{border-color:red}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item .vi-stories-playlist-entry-blur{display:block}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item .vi-stories-playlist-entry-icon{display:none}#vi-stories-playlist-container .vi-stories-playlist-entry:hover{border-color:red}#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-blur,#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-text,#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-duration{display:block}#vi-stories-playlist-container .vi-stories-playlist-entry-blur{background:linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);display:none;height:100%;position:absolute;width:100%}#vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+\");background-position:8px center;background-repeat:no-repeat;background-size:60% 60%;border-color:#cccccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;height:30px;left:50%;margin-left:-15px;margin-top:-15px;position:absolute;top:50%;width:30px}#vi-stories-playlist-container .vi-stories-playlist-entry-text{box-sizing:border-box;color:#ffffff;display:none;font-size:75%;height:25%;line-height:15px;overflow:hidden;padding:3% 5%;position:absolute;text-align:left;text-overflow:ellipsis;top:0;user-select:none;white-space:nowrap;width:100%;word-wrap:break-word}#vi-stories-playlist-container .vi-stories-playlist-entry-duration{background-color:red;border-radius:2px;bottom:10px;color:#ffffff;display:none;font-size:12px;height:20px;left:10px;line-height:20px;position:absolute;text-align:center;width:50px}#vi-stories-playlist-container .vi-stories-playlist-entry-now{background-color:red;bottom:0;color:#ffffff;font-size:75%;height:30px;line-height:30px;position:absolute;text-align:center;width:100%}#vi-stories-playlist-container .vi-stories-playlist-nav{background-color:#faf8f8;background-repeat:no-repeat;border:none;cursor:pointer;height:100%;outline:none;position:absolute;top:0;user-select:none;width:27px}#vi-stories-playlist-container .vi-stories-playlist-nav-left{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NDgvcHJldmlvdXMtbGFyZ2U8L3RpdGxlPjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPjxwYXRoIGQ9Ik0xMCAyNC41MTR2LTEuMDI4TDI1LjMyMyA2Ljc0Yy4zNzQtLjQxLjk4NC0uNDI1IDEuMzczLS4wMjRsMS4xMDggMS4xNGMuMzg0LjM5NS4zOTMgMS4wMzguMDE2IDEuNDRMMTQgMjRsMTMuODIgMTQuNzA1Yy4zNzYuNC4zNzMgMS4wNC0uMDE2IDEuNDRsLTEuMTA4IDEuMTRjLS4zODQuMzk0LTEgLjM4LTEuMzczLS4wMjVMMTAgMjQuNTE0eiIgZmlsbD0iIzk5OSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+\");background-position:-7px center;left:0}#vi-stories-playlist-container .vi-stories-playlist-nav-right{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NDgvbmV4dC1sYXJnZTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PHBhdGggZD0iTTM4IDI0LjUxNHYtMS4wMjhMMjIuNjc3IDYuNzRjLS4zNzQtLjQxLS45ODQtLjQyNS0xLjM3My0uMDI0bC0xLjEwOCAxLjE0Yy0uMzg0LjM5NS0uMzkzIDEuMDM4LS4wMTYgMS40NEwzNCAyNCAyMC4xOCAzOC43MDVjLS4zNzYuNC0uMzczIDEuMDQuMDE2IDEuNDRsMS4xMDggMS4xNGMuMzg0LjM5NCAxIC4zOCAxLjM3My0uMDI1TDM4IDI0LjUxNHoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==\");background-position:-14px center;right:0}.vi-stories-width-max-500 #vi-stories-playlist-container{height:70px}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry{height:calc(100% - 10px);margin:5px 2px;width:calc((100% - 24px)/6)}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-icon,.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-text,.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-duration{display:none}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry-now{display:none}.vi-stories-width-500-600 #vi-stories-playlist-container{height:100px}.vi-stories-width-500-600 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:5px center;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.vi-stories-width-500-600 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;height:15px;left:5px;line-height:15px}.vi-stories-width-600-700 #vi-stories-playlist-container{height:110px}.vi-stories-width-600-700 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:5px center;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.vi-stories-width-600-700 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;height:15px;left:5px;line-height:15px}.vi-stories-width-700-800 #vi-stories-playlist-container{height:120px}.vi-stories-width-700-800 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:6px center;height:25px;margin-left:-13px;margin-top:-13px;width:25px}.vi-stories-width-700-800 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;left:5px}.vi-stories-main-container .GUI-module__container .vi-stories-social-share-button{align-items:center;cursor:pointer;display:flex;height:40px;justify-content:center;width:36px}.vi-stories-main-container #av-container #av-inner #gui #buttons #right .vi-stories-social-share-button{float:left}.vi-stories-main-container .vi-stories-social-share-button::before{background-position-y:center;background-repeat:no-repeat;background-size:cover;content:\"\";display:inline-block;height:24px;vertical-align:middle;width:24px}.vi-stories-main-container .vi-stories-fb-share-button::before{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iODAlIiBoZWlnaHQ9IjkwJSIgeD0iMTAlIiB5PSIxMCUiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMjIuNjc1IDBoLTIxLjM1Yy0uNzMyIDAtMS4zMjUuNTkzLTEuMzI1IDEuMzI1djIxLjM1MWMwIC43MzEuNTkzIDEuMzI0IDEuMzI1IDEuMzI0aDExLjQ5NXYtOS4yOTRoLTMuMTI4di0zLjYyMmgzLjEyOHYtMi42NzFjMC0zLjEgMS44OTMtNC43ODggNC42NTktNC43ODggMS4zMjUgMCAyLjQ2My4wOTkgMi43OTUuMTQzdjMuMjRsLTEuOTE4LjAwMWMtMS41MDQgMC0xLjc5NS43MTUtMS43OTUgMS43NjN2Mi4zMTNoMy41ODdsLS40NjcgMy42MjJoLTMuMTJ2OS4yOTNoNi4xMTZjLjczIDAgMS4zMjMtLjU5MyAxLjMyMy0xLjMyNXYtMjEuMzVjMC0uNzMyLS41OTMtMS4zMjUtMS4zMjUtMS4zMjV6IiBzdHlsZT0iZmlsbDojM2I1OTk4O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIi8+PC9zdmc+\")}.vi-stories-main-container .vi-stories-tweet-button::before{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSIxMDAlIiA+PHJlY3QgaGVpZ2h0PSI0MDAiIHN0eWxlPSJmaWxsOm5vbmU7IiB3aWR0aD0iNDAwIiB4PSI1NiIgeT0iNTYiLz48cGF0aCBkPSJNMTYxLjAxNCw0NjQuMDEzYzE5My4yMDgsMCAyOTguODg1LC0xNjAuMDcxIDI5OC44ODUsLTI5OC44ODVjMCwtNC41NDYgMCwtOS4wNzIgLTAuMzA3LC0xMy41NzhjMjAuNTU4LC0xNC44NzEgMzguMzA1LC0zMy4yODIgNTIuNDA4LC01NC4zNzRjLTE5LjE3MSw4LjQ5NSAtMzkuNTEsMTQuMDY1IC02MC4zMzQsMTYuNTI3YzIxLjkyNCwtMTMuMTI0IDM4LjM0MywtMzMuNzgyIDQ2LjE4MiwtNTguMTAyYy0yMC42MTksMTIuMjM1IC00My4xOCwyMC44NTkgLTY2LjcwMywyNS40OThjLTE5Ljg2MiwtMjEuMTIxIC00Ny42MDIsLTMzLjExMiAtNzYuNTkzLC0zMy4xMTJjLTU3LjY4MiwwIC0xMDUuMTQ1LDQ3LjQ2NCAtMTA1LjE0NSwxMDUuMTQ0YzAsOC4wMDIgMC45MTQsMTUuOTc5IDIuNzIyLDIzLjc3M2MtODQuNDE4LC00LjIzMSAtMTYzLjE4LC00NC4xNjEgLTIxNi40OTQsLTEwOS43NTJjLTI3LjcyNCw0Ny43MjYgLTEzLjM3OSwxMDkuNTc2IDMyLjUyMiwxNDAuMjI2Yy0xNi43MTUsLTAuNDk1IC0zMy4wNzEsLTUuMDA1IC00Ny42NzcsLTEzLjE0OGwwLDEuMzMxYzAuMDE0LDQ5LjgxNCAzNS40NDcsOTMuMTExIDg0LjI3NSwxMDIuOTc0Yy0xNS40NjQsNC4yMTcgLTMxLjY5Myw0LjgzMyAtNDcuNDMxLDEuODAyYzEzLjcyNyw0Mi42ODUgNTMuMzExLDcyLjEwOCA5OC4xNCw3Mi45NWMtMzcuMTksMjkuMjI3IC04My4xNTcsNDUuMTAzIC0xMzAuNDU4LDQ1LjA1NmMtOC4zNTgsLTAuMDE2IC0xNi43MDgsLTAuNTIyIC0yNS4wMDYsLTEuNTE2YzQ4LjAzNCwzMC44MjUgMTAzLjk0LDQ3LjE4IDE2MS4wMTQsNDcuMTA0IiBzdHlsZT0iZmlsbDojMWRhMWYyO2ZpbGwtcnVsZTpub256ZXJvOyIvPjwvc3ZnPg==\")}.vi-stories-main-container .vi-stories-linkedin-share-button::before{background-image:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTBweCIgaGVpZ2h0PSIxNTBweCIgdmlld0JveD0iMCAwIDQzMC4xMTcgNDMwLjExOCI+PGc+PHJlY3Qgd2lkdGg9IjgwJSIgaGVpZ2h0PSI5MCUiIHg9IjEwJSIgeT0iMTAlIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTM5OC4zNTUsMEgzMS43ODJDMTQuMjI5LDAsMC4wMDIsMTMuNzkzLDAuMDAyLDMwLjgxN3YzNjguNDcxICAgYzAsMTcuMDI1LDE0LjIzMiwzMC44MywzMS43OCwzMC44M2gzNjYuNTczYzE3LjU0OSwwLDMxLjc2LTEzLjgxNCwzMS43Ni0zMC44M1YzMC44MTdDNDMwLjExNSwxMy43OTgsNDE1LjkwNCwwLDM5OC4zNTUsMHogICAgTTEzMC40LDM2MC4wMzhINjUuNDEzVjE2NS44NDVIMTMwLjRWMzYwLjAzOHogTTk3LjkxMywxMzkuMzE1aC0wLjQzN2MtMjEuNzkzLDAtMzUuOTItMTQuOTA0LTM1LjkyLTMzLjU2MyAgIGMwLTE5LjAzNSwxNC41NDItMzMuNTM1LDM2Ljc2Ny0zMy41MzVjMjIuMjI3LDAsMzUuODk5LDE0LjQ5NiwzNi4zMzEsMzMuNTM1QzEzNC42NTQsMTI0LjQxNSwxMjAuNTU1LDEzOS4zMTUsOTcuOTEzLDEzOS4zMTV6ICAgIE0zNjQuNjU5LDM2MC4wMzhoLTY0Ljk2NlYyNTYuMTM4YzAtMjYuMTA3LTkuNDEzLTQzLjkyMS0zMi45MDctNDMuOTIxYy0xNy45NzMsMC0yOC42NDIsMTIuMDE4LTMzLjMyNywyMy42MjEgICBjLTEuNzM2LDQuMTQ0LTIuMTY2LDkuOTQtMi4xNjYsMTUuNzI4djEwOC40NjhoLTY0Ljk1NGMwLDAsMC44NS0xNzUuOTc5LDAtMTk0LjE5Mmg2NC45NjR2MjcuNTMxICAgYzguNjI0LTEzLjIyOSwyNC4wMzUtMzIuMSw1OC41MzQtMzIuMWM0Mi43NiwwLDc0LjgyMiwyNy43MzksNzQuODIyLDg3LjQxNFYzNjAuMDM4eiBNMjMwLjg4MywxOTMuOTkgICBjMC4xMTEtMC4xODIsMC4yNjYtMC40MDEsMC40Mi0wLjYxNHYwLjYxNEgyMzAuODgzeiIgZmlsbD0iIzQ4NzViNCIvPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=\")}#vi-stories-player-suggestion-overlay{background-color:rgba(0,0,0,0.7);box-sizing:border-box;font-size:18px;height:90%;padding:25px;position:absolute;top:0;width:100%;z-index:10000000}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry{background-color:rgba(125,125,125,0.85);background-size:cover;border-color:#ffffff;border-style:solid;border-width:1px;float:left;font-family:Verdana;height:calc(50% - 22px);margin:10px;position:relative;width:calc(50% - 22px)}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover{border-color:red}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-blur,#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-text,#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-duration{display:block}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-blur{background:linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);display:none;height:100%;position:absolute;width:100%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-icon{background-color:rgba(0,0,0,0.7);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+\");background-position:10px center;background-repeat:no-repeat;background-size:60% 60%;border-color:#cccccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;height:40px;left:50%;margin-left:-20px;margin-top:-20px;position:absolute;top:50%;width:40px}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-text{box-sizing:border-box;color:#ffffff;display:none;height:25%;line-height:15px;overflow:hidden;padding:3% 5%;position:absolute;text-align:left;text-overflow:ellipsis;top:0;user-select:none;white-space:nowrap;width:100%;word-wrap:break-word}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration{background-color:red;border-radius:2px;bottom:20px;color:#ffffff;display:none;font-size:12px;height:20px;left:20px;line-height:20px;position:absolute;text-align:center;width:50px}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:nth-child(3):last-child{left:25%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(1){left:25%;top:25%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(2),#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(2) ~ .vi-stories-player-suggestion-entry{top:25%}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay{font-size:12px;height:80%;padding:10px}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry{height:calc(100% - 22px);left:0 !important;top:0 !important;width:calc(100% - 22px)}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-icon{background-position:8px center;height:30px;margin-left:-15px;margin-top:-15px;width:30px}.vi-stories-width-500-600 #vi-stories-player-suggestion-overlay{font-size:13px;padding:10px}.vi-stories-width-600-700 #vi-stories-player-suggestion-overlay{font-size:14px;padding:15px}.vi-stories-width-700-800 #vi-stories-player-suggestion-overlay{font-size:16px;padding:20px}.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-blur,.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-text,.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-duration{display:block}.vi-stories-top-div.viUnit4{padding-bottom:45px}.viUnit4 .vi-stories-width-max-500 #vi-stories-description-container{border-width:0px}.viUnit4 .vi-stories-width-max-500 #vi-stories-title{font-size:18px;font-weight:normal}.viUnit4 .vi-stories-width-max-500 #vi-stories-sponsor-powered{font-size:11px;opacity:1}.viUnit4 .vi-stories-width-max-500#vi-stories-main-container #vi-stories-sponsor-logo{height:20px}.viUnit4 .vi-stories-width-500-600 #vi-stories-description-container,.viUnit4 .vi-stories-width-600-700 #vi-stories-description-container,.viUnit4 .vi-stories-width-700-800 #vi-stories-description-container,.viUnit4 .vi-stories-width-min-800 #vi-stories-description-container{border-width:0px;height:100%;position:absolute;right:0;top:0;width:300px}.viUnit4 .vi-stories-width-500-600 #vi-stories-title,.viUnit4 .vi-stories-width-600-700 #vi-stories-title,.viUnit4 .vi-stories-width-700-800 #vi-stories-title,.viUnit4 .vi-stories-width-min-800 #vi-stories-title{font-weight:normal;margin:0;padding:0}.viUnit4 .vi-stories-width-500-600 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-600-700 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-700-800 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-min-800 #vi-stories-sponsor-powered{font-size:11px;opacity:1}.viUnit4 .vi-stories-width-500-600 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-600-700 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-700-800 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-min-800 #vi-stories-sponsor-container{bottom:2px;height:20px;line-height:20px;position:absolute;width:100%}.viUnit4 .vi-stories-width-500-600 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-600-700 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-700-800 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-min-800 #vi-stories-preloader-play-icon{left:25%}.vi-stories-player-container .vi-stories-unmute-overlay{background-color:rgba(250,248,248,0.7);border-radius:5px;cursor:pointer;height:30px;left:30px;padding:10px;position:absolute;user-select:none;z-index:10000000}.vi-stories-player-container .vi-stories-unmute-overlay::before{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='17' height='16'%3E %3Cpath fill='%23000' d='M4 5H0v6h4l5 4V1zM16.9 5.6l-.8-.7-2.3 2.4-2.4-2.4-.8.7L13 8l-2.4 2.4.8.7 2.4-2.4 2.3 2.4.8-.7L14.5 8z'/%3E %3C/svg%3E\");background-position-y:center;background-repeat:no-repeat;background-size:cover;content:\"\";display:inline-block;height:30px;vertical-align:middle;width:32px}.vi-stories-player-container .vi-stories-unmute-overlay.vi-stories-unmute-overlay-ad{top:30px}.vi-stories-player-container .vi-stories-unmute-overlay.vi-stories-unmute-overlay-content{bottom:50px}.vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{display:inline-block;font-size:20px;padding-left:10px;vertical-align:middle}.vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label.displayNone{display:none}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay{height:15px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay::before{height:15px;width:19px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{font-size:12px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay{height:20px;left:30px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay::before{height:20px;width:25px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{font-size:16px}\n",""]),t.exports=e}]);

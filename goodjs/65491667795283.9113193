!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).analytics=t()}(function(){return function o(r,i,a){function s(e,t){if(!i[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);throw(n=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",n}n=i[e]={exports:{}},r[e][0].call(n.exports,function(t){return s(r[e][1][t]||t)},n,n.exports,o,r,i,a)}return i[e].exports}for(var c="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){"use strict";var o=t("@segment/analytics.js-core"),r=t("./integrations");(e.exports=o).require=t,o.VERSION=t("../package.json").version,Object.keys(r).forEach(function(t){o.use(r[t])}),Object.keys(o.Integrations).forEach(function(e){var n=o.Integrations[e].prototype.ready;o.Integrations[e].prototype.ready=function(){var t=o.failedInitializations.indexOf(e)<0;o.emit("integration-ready:"+e,t),n.apply(this)}})},{"../package.json":129,"./integrations":2,"@segment/analytics.js-core":22}],2:[function(t,e,n){"use strict";e.exports={"google-analytics":t("@segment/analytics.js-integration-google-analytics"),"google-tag-manager":t("@segment/analytics.js-integration-google-tag-manager"),segmentio:t("@segment/analytics.js-integration-segmentio"),optimizely:t("@canva/analytics.js-integration-optimizely"),braze:t("@canva/analytics.js-integration-braze")}},{"@canva/analytics.js-integration-braze":3,"@canva/analytics.js-integration-optimizely":4,"@segment/analytics.js-integration-google-analytics":34,"@segment/analytics.js-integration-google-tag-manager":35,"@segment/analytics.js-integration-segmentio":36}],3:[function(t,e,n){"use strict";t=t("@segment/analytics.js-integration"),t=e.exports=t("Braze").readyOnLoad().global("appboy").option("apiKey","").option("clientName","canva/analytics.js-braze-integration").option("clientVersion","2.0.1").tag('<script async src="https://js.appboycdn.com/web-sdk/3.0/appboy.core.min.js">');t.prototype.initialize=function(){var t=this.analytics.user().id();!function(t){t.appboy={},t.appboyQueue=[];for(var e=["DeviceProperties","Card","Card.prototype.dismissCard","Card.prototype.removeAllSubscriptions","Card.prototype.removeSubscription","Card.prototype.subscribeToClickedEvent","Card.prototype.subscribeToDismissedEvent","Banner","CaptionedImage","ClassicCard","ControlCard","ContentCards","ContentCards.prototype.getUnviewedCardCount","Feed","Feed.prototype.getUnreadCardCount","ControlMessage","InAppMessage","InAppMessage.SlideFrom","InAppMessage.ClickAction","InAppMessage.DismissType","InAppMessage.OpenTarget","InAppMessage.ImageStyle","InAppMessage.Orientation","InAppMessage.TextAlignment","InAppMessage.CropType","InAppMessage.prototype.closeMessage","InAppMessage.prototype.removeAllSubscriptions","InAppMessage.prototype.removeSubscription","InAppMessage.prototype.subscribeToClickedEvent","InAppMessage.prototype.subscribeToDismissedEvent","FullScreenMessage","ModalMessage","HtmlMessage","SlideUpMessage","User","User.Genders","User.NotificationSubscriptionTypes","User.prototype.addAlias","User.prototype.addToCustomAttributeArray","User.prototype.getUserId","User.prototype.incrementCustomUserAttribute","User.prototype.removeFromCustomAttributeArray","User.prototype.setAvatarImageUrl","User.prototype.setCountry","User.prototype.setCustomLocationAttribute","User.prototype.setCustomUserAttribute","User.prototype.setDateOfBirth","User.prototype.setEmail","User.prototype.setEmailNotificationSubscriptionType","User.prototype.setFirstName","User.prototype.setGender","User.prototype.setHomeCity","User.prototype.setLanguage","User.prototype.setLastKnownLocation","User.prototype.setLastName","User.prototype.setPhoneNumber","User.prototype.setPushNotificationSubscriptionType","InAppMessageButton","InAppMessageButton.prototype.removeAllSubscriptions","InAppMessageButton.prototype.removeSubscription","InAppMessageButton.prototype.subscribeToClickedEvent","changeUser","destroy","getDeviceId","initialize","isPushBlocked","isPushGranted","isPushPermissionGranted","isPushSupported","logCardClick","logCardDismissal","logCardImpressions","logContentCardsDisplayed","logCustomEvent","logFeedDisplayed","logInAppMessageButtonClick","logInAppMessageClick","logInAppMessageHtmlClick","logInAppMessageImpression","logPurchase","openSession","registerAppboyPushMessages","removeAllSubscriptions","removeSubscription","requestContentCardsRefresh","requestFeedRefresh","requestImmediateDataFlush","resumeWebTracking","setLogger","stopWebTracking","subscribeToContentCardsUpdates","subscribeToFeedUpdates","subscribeToInAppMessage","subscribeToNewInAppMessages","toggleAppboyLogging","trackLocation","unregisterAppboyPushMessages","wipeData"],n=0;n<e.length;n++){for(var o=e[n],r=t.appboy,i=o.split("."),a=0;a<i.length-1;a++)r=r[i[a]];r[i[a]]=new Function("return function "+o.replace(/\./g,"_")+"(){window.appboyQueue.push(arguments); return true}")()}window.appboy.getCachedContentCards=function(){return new window.appboy.ContentCards},window.appboy.getCachedFeed=function(){return new window.appboy.Feed},window.appboy.getUser=function(){return new window.appboy.User}}(window,document),window.appboy.initialize(this.options.apiKey,{baseUrl:"sdk.iad-01.braze.com",manageServiceWorkerExternally:!0}),t&&window.appboy.changeUser(t),window.appboy.openSession(),this.load(this.ready)},t.prototype.loaded=function(){return null===window.appboyQueue},t.prototype.identify=function(t){t=t.userId();t&&window.appboy.changeUser(t)}},{"@segment/analytics.js-integration":39}],4:[function(t,e,n){"use strict";t=t("@segment/analytics.js-integration"),t=e.exports=t("Optimizely API").option("clientName","canva/canvalytics-optimizely-api-integration").option("clientVersion","0.0.1").option("accountId","").option("projectId","").option("canvalyticsToOptimizelyIdMap",new Map).option("endpoint","https://logx.optimizely.com/v1/events");t.prototype.initialize=function(){this.ready()},t.prototype.track=function(t){var e=function(t){const e=window.location.search,n=encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&"),o=e.replace(new RegExp("^(?:.*[&\\?]"+n+"(?:\\=([^&]*))?)?.*$","i"),"$1");return decodeURIComponent(o)}("ovid");if(e){var n,o=t.event().replace(/:/g,"_");const r=this.options;r.canvalyticsToOptimizelyIdMap.has(o)&&(n=t.properties()||[],t={visitorId:e,name:o,id:r.canvalyticsToOptimizelyIdMap.get(o),properties:n},e=r,o=t,n=e.endpoint,t=o.visitorId,o={account_id:e.accountId,project_id:e.projectId,client_name:e.clientName,client_version:e.clientVersion,anonymize_ip:!0,enrich_decisions:!0,visitors:[{visitor_id:t,snapshots:[{decisions:[],events:[{timestamp:Date.now(),uuid:"undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){t=Number(t);return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}),key:o.name,entity_id:o.id,tags:o.properties}]}]}]},fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(t){}).catch(function(t){}))}}},{"@segment/analytics.js-integration":39}],5:[function(t,e,n){"use strict";var s=t("component-type"),t=function t(e){var n=s(e);if("object"===n){var o,r={};for(o in e)e.hasOwnProperty(o)&&(r[o]=t(e[o]));return r}if("array"===n){for(var r=new Array(e.length),i=0,a=e.length;i<a;i++)r[i]=t(e[i]);return r}if("regexp"!==n)return"date"===n?new Date(e.getTime()):e;n="";return n+=e.multiline?"m":"",n+=e.global?"g":"",n+=e.ignoreCase?"i":"",new RegExp(e.source,n)};e.exports=t},{"component-type":76}],6:[function(t,e,n){"use strict";function o(t,e){if(!c(e))return e;t=t||p;for(var n=i(2,arguments),o=0;o<n.length;o+=1)for(var r in n[o])t(e,n[o],n[o][r],r);return e}var i=t("@ndhoule/drop"),r=t("@ndhoule/rest"),a=Object.prototype.hasOwnProperty,s=Object.prototype.toString,c=function(t){return Boolean(t)&&"object"==typeof t},u=function(t){return Boolean(t)&&"[object Object]"===s.call(t)},p=function(t,e,n,o){return a.call(e,o)&&void 0===t[o]&&(t[o]=n),e},l=function(t){return o.apply(null,[function(t,e,n,o){return a.call(e,o)&&(u(t[o])&&u(n)?t[o]=l(t[o],n):void 0===t[o]&&(t[o]=n)),e},t].concat(r(arguments)))};e.exports=function(t){return o.apply(null,[null,t].concat(r(arguments)))},e.exports.deep=l},{"@ndhoule/drop":7,"@ndhoule/rest":16}],7:[function(t,e,n){"use strict";var s=Math.max;e.exports=function(t,e){var n=e?e.length:0;if(!n)return[];for(var o=s(Number(t)||0,0),r=s(n-o,0),i=new Array(r),a=0;a<r;a+=1)i[a]=e[a+o];return i}},{}],8:[function(t,e,n){"use strict";var r=t("@ndhoule/keys"),o=Object.prototype.toString,i=function(t){var e=typeof t;return"number"==e||"object"==e&&"[object Number]"===o.call(t)},a="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===o.call(t)};e.exports=function(t,e){return(null!=(n=e)&&(a(n)||"function"!==n&&i(n.length))?function(t,e){for(var n=0;n<e.length&&!1!==t(e[n],n,e);n+=1);}:function(t,e){for(var n=r(e),o=0;o<n.length&&!1!==t(e[n[o]],n[o],e);o+=1);}).call(this,t,e);var n}},{"@ndhoule/keys":13}],9:[function(t,e,n){"use strict";var i=t("@ndhoule/each");e.exports=function(o,t){if("function"!=typeof o)throw new TypeError("`predicate` must be a function but was a "+typeof o);var r=!0;return i(function(t,e,n){if(!(r=!!o(t,e,n)))return!1},t),r}},{"@ndhoule/each":8}],10:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(t){for(var e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n+=1)for(var o in e[n])r.call(e[n],o)&&(t[o]=e[n][o]);return t}},{}],11:[function(t,e,n){"use strict";var i=t("@ndhoule/each");e.exports=function(o,r,t){if("function"!=typeof o)throw new TypeError("Expected a function but received a "+typeof o);return i(function(t,e,n){r=o(r,t,e,n)},t),r}},{"@ndhoule/each":8}],12:[function(t,e,n){"use strict";var r=t("@ndhoule/each"),i=String.prototype.indexOf;e.exports=function(n,t){var o=!1;return"string"==typeof t?-1!==i.call(t,n):(r(function(t){if((e=t)===(t=n)?0!==e||1/e==1/t:e!=e&&t!=t)return!(o=!0);var e},t),o)}},{"@ndhoule/each":8}],13:[function(t,e,n){"use strict";function o(t,e){return a.call(t,e)}function r(t,e){e=e||c;for(var n=[],o=0,r=t.length;o<r;o+=1)e(t,o)&&n.push(String(o));return n}var i=Object.prototype.hasOwnProperty,a=String.prototype.charAt,s=Object.prototype.toString,c=function(t,e){return i.call(t,e)};e.exports=function(t){return null==t?[]:"[object String]"===s.call(t)?r(t,o):null!=(e=t)&&"function"!=typeof e&&"number"==typeof e.length?r(t,c):function(t,e){e=e||c;var n,o=[];for(n in t)e(t,n)&&o.push(String(n));return o}(t);var e}},{}],14:[function(t,e,n){"use strict";var i=t("@ndhoule/each");e.exports=function(o,t){if("function"!=typeof o)throw new TypeError("Expected a function but received a "+typeof o);var r=[];return i(function(t,e,n){r.push(o(t,e,n))},t),r}},{"@ndhoule/each":8}],15:[function(t,e,n){"use strict";function i(t){return"string"==typeof t||"[object String]"===a.call(t)}var a=Object.prototype.toString;e.exports=function(t,e){if(null==e||(null==(n=e)||"object"!=typeof n))return{};var n;i(t)&&(t=[t]),n=t,"[object Array]"!==a.call(n)&&(t=[]);for(var o={},r=0;r<t.length;r+=1)i(t[r])&&t[r]in e&&(o[t[r]]=e[t[r]]);return o}},{}],16:[function(t,e,n){"use strict";var o=Math.max;e.exports=function(t){if(null==t||!t.length)return[];for(var e=new Array(o(t.length-2,0)),n=1;n<t.length;n+=1)e[n-1]=t[n];return e}},{}],17:[function(t,e,n){"use strict";var r=t("component-querystring").parse,i={btid:"dataxu",urid:"millennial-media"};e.exports=function(t){var e,n=r(t);for(e in n)if(n.hasOwnProperty(e))for(var o in i)if(i.hasOwnProperty(o)&&e===o)return{id:n[e],type:i[o]}}},{"component-querystring":74}],18:[function(D,L,U){!function(t){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var e=t.analytics,i=D("segmentio-facade").Alias,n=D("component-emitter"),c=D("segmentio-facade"),a=D("segmentio-facade").Group,s=D("segmentio-facade").Identify,o=D("./middleware").SourceMiddlewareChain,r=D("./middleware").IntegrationMiddlewareChain,u=D("./middleware").DestinationMiddlewareChain,p=D("segmentio-facade").Page,l=D("segmentio-facade").Track,d=D("bind-all"),f=D("./utils/clone"),h=D("extend"),y=D("./cookie"),m=D("./metrics"),g=D("debug"),v=D("@ndhoule/defaults"),b=D("./utils/each"),w=D("./group"),_=D("is"),k=D("@segment/is-meta"),x=D("@ndhoule/keys"),t=D("./memory"),j=D("next-tick"),I=D("./normalize"),A=D("component-event").bind,C=D("./pageDefaults"),E=D("@ndhoule/pick"),S=D("@segment/prevent-default"),T=D("component-url"),O=D("./store"),N=D("./user"),M=D("component-type");function R(){this._options({}),this.Integrations={},this._sourceMiddlewares=new o,this._integrationMiddlewares=new r,this._destinationMiddlewares={},this._integrations={},this._readied=!1,this._timeout=300,this._user=N,this.log=g("analytics.js"),d(this);var n=this;this.on("initialize",function(t,e){e.initialPageview&&n.page(),n._parseQuery(window.location.search)})}n(R.prototype),R.prototype.use=function(t){return t(this),this},R.prototype.addIntegration=function(t){var e=t.prototype.name;if(!e)throw new TypeError("attempted to add an invalid integration");return this.Integrations[e]=t,this},R.prototype.addSourceMiddleware=function(t){return this._sourceMiddlewares.add(t),this},R.prototype.addIntegrationMiddleware=function(t){return this._integrationMiddlewares.add(t),this},R.prototype.addDestinationMiddleware=function(e,t){var n=this;return t.forEach(function(t){n._destinationMiddlewares[e]||(n._destinationMiddlewares[e]=new u),n._destinationMiddlewares[e].add(t)}),n},R.prototype.init=R.prototype.initialize=function(n,r){n=n||{},r=r||{},this._options(r),this._readied=!1;var i=this;b(function(t,e){i.Integrations[e]||delete n[e]},n),b(function(t,e){var n,o;r.integrations&&(!1===r.integrations[e]||!1===r.integrations.All&&!r.integrations[e])||(n=i.Integrations[e],h(!0,o={},t),o=new n(o),i.log("initialize %o - %o",e,t),i.add(o))},n);var t=this._integrations;N.load(),w.load();function o(){a<=++e&&(i._readied=!0,i.emit("ready"))}var e=0,a=x(t).length;a<=0&&o();var s=!(this.failedInitializations=[]);return b(function(e){var t;r.initialPageview&&!1===e.options.initialPageview&&(t=e.page,e.page=function(){if(s)return t.apply(this,arguments);s=!0}),e.analytics=i,e.once("ready",o);try{m.increment("analytics_js.integration.invoke",{method:"initialize",integration_name:e.name}),e.initialize()}catch(t){var n=e.name;m.increment("analytics_js.integration.invoke.error",{method:"initialize",integration_name:e.name}),i.failedInitializations.push(n),i.log("Error initializing %s integration: %o",n,t),e.ready()}},t),this.initialized=!0,this.emit("initialize",n,r),this},R.prototype.setAnonymousId=function(t){return this.user().anonymousId(t),this},R.prototype.add=function(t){return this._integrations[t.name]=t,this},R.prototype.identify=function(t,e,n,o){_.fn(n)&&(o=n,n=null),_.fn(e)&&(o=e,e=n=null),_.object(t)&&(n=e,e=t,t=N.id()),N.identify(t,e);var r=this.normalize({options:n,traits:N.traits(),userId:N.id()});return this.options.integrations&&v(r.integrations,this.options.integrations),this._invoke("identify",new s(r)),this.emit("identify",t,e,n),this._callback(o),this},R.prototype.user=function(){return N},R.prototype.group=function(t,e,n,o){if(!arguments.length)return w;_.fn(n)&&(o=n,n=null),_.fn(e)&&(o=e,e=n=null),_.object(t)&&(n=e,e=t,t=w.id()),w.identify(t,e);var r=this.normalize({options:n,traits:w.traits(),groupId:w.id()});return this.options.integrations&&v(r.integrations,this.options.integrations),this._invoke("group",new a(r)),this.emit("group",t,e,n),this._callback(o),this},R.prototype.track=function(t,e,n,o){_.fn(n)&&(o=n,n=null),_.fn(e)&&(o=e,e=n=null);var r,i=(r=this.options.plan||{}).track||{},a={},s=this.normalize({properties:e,options:n,event:t});return(r=i[t])?(this.log("plan %o - %o",t,r),a=!1===r.enabled?{All:!1,"Segment.io":!0}:r.integrations||{}):(i.__default||{enabled:!0}).enabled||(a={All:!1,"Segment.io":!0}),v(s.integrations,this._mergeInitializeAndPlanIntegrations(a)),this._invoke("track",new l(s)),this.emit("track",t,e,n),this._callback(o),this},R.prototype.trackClick=R.prototype.trackLink=function(t,i,a){if(!t)return this;"element"===M(t)&&(t=[t]);var s=this;return b(function(r){if("element"!==M(r))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");A(r,"click",function(t){var e=_.fn(i)?i(r):i,n=_.fn(a)?a(r):a,o=r.getAttribute("href")||r.getAttributeNS("http://www.w3.org/1999/xlink","href")||r.getAttribute("xlink:href");s.track(e,n),o&&"_blank"!==r.target&&!k(t)&&(S(t),s._callback(function(){window.location.href=o}))})},t),this},R.prototype.trackSubmit=R.prototype.trackForm=function(t,o,r){if(!t)return this;"element"===M(t)&&(t=[t]);var i=this;return b(function(n){if("element"!==M(n))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function t(t){S(t);var e=_.fn(o)?o(n):o,t=_.fn(r)?r(n):r;i.track(e,t),i._callback(function(){n.submit()})}var e=window.jQuery||window.Zepto;e?e(n).submit(t):A(n,"submit",t)},t),this},R.prototype.page=function(t,e,n,o,r){_.fn(o)&&(r=o,o=null),_.fn(n)&&(r=n,o=n=null),_.fn(e)&&(r=e,o=n=e=null),"object"===M(t)&&(o=e,n=t,e=t=null),"object"===M(e)&&(o=n,n=e,e=null),"string"===M(t)&&"string"!==M(e)&&(e=t,t=null),n=f(n)||{},e&&(n.name=e),t&&(n.category=t);var i=C();v(n,i);i=E(x(i),n);_.empty(i)||((o=o||{}).context=o.context||{},o.context.page=i);i=this.normalize({properties:n,category:t,options:o,name:e});return this.options.integrations&&v(i.integrations,this.options.integrations),this._invoke("page",new p(i)),this.emit("page",t,e,n,o),this._callback(r),this},R.prototype.pageview=function(t){var e={};return t&&(e.path=t),this.page(e),this},R.prototype.alias=function(t,e,n,o){_.fn(n)&&(o=n,n=null),_.fn(e)&&(o=e,e=n=null),_.object(e)&&(n=e,e=null);var r=this.normalize({options:n,previousId:e,userId:t});return this.options.integrations&&v(r.integrations,this.options.integrations),this._invoke("alias",new i(r)),this.emit("alias",t,e,n),this._callback(o),this},R.prototype.ready=function(t){return _.fn(t)&&(this._readied?j(t):this.once("ready",t)),this},R.prototype.timeout=function(t){this._timeout=t},R.prototype.debug=function(t){!arguments.length||t?g.enable("analytics:"+(t||"*")):g.disable()},R.prototype._options=function(t){return this.options=t=t||{},y.options(t.cookie),m.options(t.metrics),O.options(t.localStorage),N.options(t.user),w.options(t.group),this},R.prototype._callback=function(t){return _.fn(t)&&(this._timeout?setTimeout(t,this._timeout):j(t)),this},R.prototype._invoke=function(a,t){var s=this;try{this._sourceMiddlewares.applyMiddlewares(h(!0,new c({}),t),this._integrations,function(t){var r,i;null!==t?(t instanceof c||(t=new c(t)),s.emit("invoke",t),m.increment("analytics_js.invoke",{method:a}),r=t,i=s.failedInitializations||[],b(function(e,n){var o=h(!0,new c({}),r);if(o.enabled(n))if(0<=i.indexOf(n))s.log("Skipping invocation of .%s method of %s integration. Integration failed to initialize properly.",a,n);else try{s._integrationMiddlewares.applyMiddlewares(o,e.name,function(t){null!==t?(t instanceof c||(t=new c(t)),s._destinationMiddlewares[e.name]?s._destinationMiddlewares[e.name].applyMiddlewares(o,e.name,function(t){null!==t?(t instanceof c||(t=new c(t)),m.increment("analytics_js.integration.invoke",{method:a,integration_name:e.name}),e.invoke.call(e,a,t)):s.log('Payload to destination "%s" was null and dropped by a middleware.',n)}):(m.increment("analytics_js.integration.invoke",{method:a,integration_name:e.name}),e.invoke.call(e,a,t))):s.log('Payload to integration "%s" was null and dropped by a middleware.',n)})}catch(t){m.increment("analytics_js.integration.invoke.error",{method:a,integration_name:e.name}),s.log("Error invoking .%s method of %s integration: %o",a,n,t)}},s._integrations)):s.log('Payload with method "%s" was null and dropped by source a middleware.',a)})}catch(t){m.increment("analytics_js.invoke.error",{method:a}),s.log("Error invoking .%s method of %s integration: %o",a,name,t)}return this},R.prototype.push=function(t){var e=t.shift();this[e]&&this[e].apply(this,t)},R.prototype.reset=function(){this.user().logout(),this.group().logout()},R.prototype._parseQuery=function(t){var e=T.parse(t).query.split("&").reduce(function(t,e){var n=e.split("="),e=n[0],n=n[1];return t[e]=decodeURI(n).replace("+"," "),t},{}),n=o("ajs_trait_",e),t=o("ajs_prop_",e);return e.ajs_uid&&this.identify(e.ajs_uid,n),e.ajs_event&&this.track(e.ajs_event,t),e.ajs_aid&&N.anonymousId(e.ajs_aid),this;function o(n,o){var r=n.length;return Object.keys(o).reduce(function(t,e){return e.substr(0,r)===n&&(t[e.substr(r)]=o[e]),t},{})}},R.prototype.normalize=function(t){return(t=I(t,x(this._integrations))).anonymousId&&N.anonymousId(t.anonymousId),t.anonymousId=N.anonymousId(),t.context.page=v(t.context.page||{},C()),t},R.prototype._mergeInitializeAndPlanIntegrations=function(t){if(!this.options.integrations)return t;var e,n=h({},this.options.integrations);for(e in!1===t.All&&(n={All:!1}),t)t.hasOwnProperty(e)&&!1!==this.options.integrations[e]&&(n[e]=t[e]);return n},R.prototype.noConflict=function(){return window.analytics=e,this},L.exports=R,L.exports.cookie=y,L.exports.memory=t,L.exports.store=O,L.exports.metrics=m}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cookie":19,"./group":21,"./memory":23,"./metrics":24,"./middleware":25,"./normalize":26,"./pageDefaults":27,"./store":28,"./user":29,"./utils/clone":30,"./utils/each":31,"@ndhoule/defaults":6,"@ndhoule/keys":13,"@ndhoule/pick":15,"@segment/is-meta":46,"@segment/prevent-default":55,"bind-all":62,"component-emitter":71,"component-event":72,"component-type":76,"component-url":77,debug:78,extend:81,is:86,"next-tick":95,"segmentio-facade":107}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var n=t("bind-all"),o=t("./utils/clone"),r=t("@segment/cookie"),i=t("debug")("analytics.js:cookie"),a=t("@ndhoule/defaults"),s=t("@segment/top-domain");function c(t){this.options(t)}c.prototype.options=function(t){if(0===arguments.length)return this._options;t=t||{};var e="."+s(window.location.href);this._options=a(t,{maxage:31536e6,path:"/",domain:e="."===e?null:e,sameSite:"Lax"}),this.set("ajs:test",!0),this.get("ajs:test")||(i("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},c.prototype.set=function(t,e){try{return e=window.JSON.stringify(e),r(t,"null"===e?null:e,o(this._options)),!0}catch(t){return!1}},c.prototype.get=function(t){try{var e=r(t);return e=e?window.JSON.parse(e):null}catch(t){return null}},c.prototype.remove=function(t){try{return r(t,null,o(this._options)),!0}catch(t){return!1}},e.exports=n(new c),e.exports.Cookie=c},{"./utils/clone":30,"@ndhoule/defaults":6,"@segment/cookie":44,"@segment/top-domain":59,"bind-all":62,debug:78}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./utils/clone"),r=t("./cookie"),i=t("debug")("analytics:entity"),a=t("@ndhoule/defaults"),s=t("@ndhoule/extend"),c=t("./memory"),u=t("./store"),p=t("@segment/isodate-traverse");function l(t){this.options(t),this.initialize()}(e.exports=l).prototype.initialize=function(){if(r.set("ajs:cookies",!0),r.get("ajs:cookies"))return r.remove("ajs:cookies"),void(this._storage=r);u.enabled?this._storage=u:(i("warning using memory store both cookies and localStorage are disabled"),this._storage=c)},l.prototype.storage=function(){return this._storage},l.prototype.options=function(t){if(0===arguments.length)return this._options;this._options=a(t||{},this.defaults||{})},l.prototype.id=function(t){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(t)}},l.prototype._getId=function(){if(!this._options.persist)return void 0===this._id?null:this._id;var t=this._getIdFromCookie();if(t)return t;t=this._getIdFromLocalStorage();return t?(this._setIdInCookies(t),t):null},l.prototype._getIdFromCookie=function(){return this.storage().get(this._options.cookie.key)},l.prototype._getIdFromLocalStorage=function(){return this._options.localStorageFallbackDisabled?null:u.get(this._options.cookie.key)},l.prototype._setId=function(t){this._options.persist?(this._setIdInCookies(t),this._setIdInLocalStorage(t)):this._id=t},l.prototype._setIdInCookies=function(t){this.storage().set(this._options.cookie.key,t)},l.prototype._setIdInLocalStorage=function(t){this._options.localStorageFallbackDisabled||u.set(this._options.cookie.key,t)},l.prototype.properties=l.prototype.traits=function(t){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(t)}},l.prototype._getTraits=function(){var t=this._options.persist?u.get(this._options.localStorage.key):this._traits;return t?p(o(t)):{}},l.prototype._setTraits=function(t){t=t||{},this._options.persist?u.set(this._options.localStorage.key,t):this._traits=t},l.prototype.identify=function(t,e){e=e||{};var n=this.id();null!==n&&n!==t||(e=s(this.traits(),e)),t&&this.id(t),this.debug("identify %o, %o",t,e),this.traits(e),this.save()},l.prototype.save=function(){return!!this._options.persist&&(this._setId(this.id()),this._setTraits(this.traits()),!0)},l.prototype.logout=function(){this.id(null),this.traits({}),this.storage().remove(this._options.cookie.key),u.remove(this._options.cookie.key),u.remove(this._options.localStorage.key)},l.prototype.reset=function(){this.logout(),this.options({})},l.prototype.load=function(){this.id(this.id()),this.traits(this.traits())}},{"./cookie":19,"./memory":23,"./store":28,"./utils/clone":30,"@ndhoule/defaults":6,"@ndhoule/extend":10,"@segment/isodate-traverse":47,debug:78}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./entity"),n=t("bind-all"),r=t("debug")("analytics:group"),t=t("inherits");function i(t){this.defaults=i.defaults,this.debug=r,o.call(this,t)}i.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},t(i,o),e.exports=n(new i),e.exports.Group=i},{"./entity":20,"bind-all":62,debug:78,inherits:84}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n=new(t("./analytics"));n.require=t,n.VERSION=t("../package.json").version,e.exports=n},{"../package.json":33,"./analytics":18}],23:[function(t,e,n){"use strict";var o=t("bind-all"),r=t("./utils/clone"),i=Object.prototype.hasOwnProperty;function a(){this.store={}}e.exports=o(new a),a.prototype.set=function(t,e){return this.store[t]=r(e),!0},a.prototype.get=function(t){if(i.call(this.store,t))return r(this.store[t])},a.prototype.remove=function(t){return delete this.store[t],!0}},{"./utils/clone":30,"bind-all":62}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var n=t("bind-all"),o=t("@segment/send-json"),r=t("debug")("analytics.js:metrics");function i(t){this.options(t)}i.prototype.options=function(t){var e;this.host=(t=t||{}).host||"api.segment.io/v1",this.sampleRate=t.sampleRate||0,this.flushTimer=t.flushTimer||3e4,this.maxQueueSize=t.maxQueueSize||20,this.queue=[],0<this.sampleRate&&(e=this,setInterval(function(){e._flush()},this.flushTimer))},i.prototype.increment=function(t,e){Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize||(this.queue.push({type:"Counter",metric:t,value:1,tags:e}),0<t.indexOf("error")&&this._flush())},i.prototype._flush=function(){var n;this.queue.length<=0||(n={series:this.queue},this.queue=[],"xhr"===o.type&&o("https://"+this.host+"/m",n,{"Content-Type":"text/plain"},function(t,e){r("sent %O, received %O",n,[t,e])}))},e.exports=n(new i),e.exports.Metrics=i},{"@segment/send-json":57,"bind-all":62,debug:78}],25:[function(t,e,n){"use strict";var a=t("segmentio-facade");function o(t){var r=[];return t.getMiddlewares=function(){return r.slice()},t.add=function(t){if("function"!=typeof t)throw new Error("attempted to add non-function middleware");if(-1!==r.indexOf(t))throw new Error("middleware is already registered");r.push(t)},function(t,e,n){if("object"!=typeof e)throw new Error("applyMiddlewares requires a payload object");if("function"!=typeof n)throw new Error("applyMiddlewares requires a function callback");var o=r.slice();o.push(n),function e(n,t,o,r){if(null===t)return void o[o.length-1](null);t instanceof a||(t=new a(t));var i=o[r];i&&(o[r+1]?n(i,t,function(t){e(n,t,o,++r)}):i(t))}(t,e,o,0)}}e.exports.SourceMiddlewareChain=function(){var n=o(this);this.applyMiddlewares=function(t,o,e){return n(function(t,e,n){t({integrations:o,next:n,payload:e})},t,e)}},e.exports.IntegrationMiddlewareChain=function(){var n=o(this);this.applyMiddlewares=function(t,o,e){return n(function(t,e,n){t(e,o,n)},t,e)}},e.exports.DestinationMiddlewareChain=function(){var n=o(this);this.applyMiddlewares=function(t,o,e){return n(function(t,e,n){t({payload:e,integration:o,next:n})},t,e)}},e.exports.middlewareChain=o},{"segmentio-facade":107}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=t("debug")("analytics.js:normalize"),p=t("@ndhoule/defaults"),l=t("./utils/each"),d=t("@ndhoule/includes"),f=t("./utils/map"),h=t("component-type"),y=t("uuid/v4"),m=t("spark-md5").hash,g=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=f(function(t){return t.toLowerCase()},e),o=t.options||{},r=o.integrations||{},i=o.providers||{},a=o.context||{},s={};return u("<-",t),l(function(t,e){c(e)&&(g.call(r,e)||(r[e]=t),delete o[e])},o),delete o.providers,l(function(t,e){c(e)&&"object"!==h(r[e])&&(g.call(r,e)&&"boolean"==typeof i[e]||(r[e]=t))},i),l(function(t,e){d(e,v)?s[e]=o[e]:a[e]=o[e]},o),t.messageId="ajs-"+m(window.JSON.stringify(t)+y()),delete t.options,s.integrations=r,s.context=a,s=p(s,t),u("->",s),s;function c(t){return d(t,e)||"all"===t.toLowerCase()||d(t.toLowerCase(),n)}};var v=["integrations","anonymousId","timestamp","context"]},{"./utils/each":31,"./utils/map":32,"@ndhoule/defaults":6,"@ndhoule/includes":12,"component-type":76,debug:78,"spark-md5":114,"uuid/v4":126}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("@segment/canonical"),r=t("@ndhoule/includes"),i=t("component-url");e.exports=function(){return{path:((t=o())?i.parse(t):window.location).pathname,referrer:document.referrer,search:location.search,title:document.title,url:function(t){var e=o();if(e)return r("?",e)?e:e+t;e=window.location.href,t=e.indexOf("#");return-1===t?e:e.slice(0,t)}(location.search)};var t}},{"@ndhoule/includes":12,"@segment/canonical":43,"component-url":77}],28:[function(t,e,n){"use strict";var o=t("bind-all"),r=t("@ndhoule/defaults"),i=t("@segment/store");function a(t){this.options(t)}a.prototype.options=function(t){if(0===arguments.length)return this._options;r(t=t||{},{enabled:!0}),this.enabled=t.enabled&&i.enabled,this._options=t},a.prototype.set=function(t,e){return!!this.enabled&&i.set(t,e)},a.prototype.get=function(t){return this.enabled?i.get(t):null},a.prototype.remove=function(t){return!!this.enabled&&i.remove(t)},e.exports=o(new a),e.exports.Store=a},{"@ndhoule/defaults":6,"@segment/store":58,"bind-all":62}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./entity"),r=t("bind-all"),i=t("./cookie"),a=t("debug")("analytics:user"),n=t("inherits"),s=t("@segment/cookie"),c=t("uuid"),u=t("./store");function p(t){this.defaults=p.defaults,this.debug=a,o.call(this,t)}p.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},n(p,o),p.prototype.id=function(t){var e=this._getId(),n=o.prototype.id.apply(this,arguments);return null==e||e!=t&&t&&this.anonymousId(null),n},p.prototype.anonymousId=function(t){var e=this.storage();return arguments.length?(e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),this):(t=e.get("ajs_anonymous_id"))?(this._setAnonymousIdInLocalStorage(t),e.set("ajs_anonymous_id",t),t):!this._options.localStorageFallbackDisabled&&(t=u.get("ajs_anonymous_id"))?(e.set("ajs_anonymous_id",t),t):(t=s("_sio"))?(t=t.split("----")[0],e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),e.remove("_sio"),t):(t=c.v4(),e.set("ajs_anonymous_id",t),this._setAnonymousIdInLocalStorage(t),e.get("ajs_anonymous_id"))},p.prototype._setAnonymousIdInLocalStorage=function(t){this._options.localStorageFallbackDisabled||u.set("ajs_anonymous_id",t)},p.prototype.logout=function(){o.prototype.logout.call(this),this.anonymousId(null)},p.prototype.load=function(){this._loadOldCookie()||o.prototype.load.call(this)},p.prototype._loadOldCookie=function(){var t=i.get(this._options.cookie.oldKey);return!!t&&(this.id(t.id),this.traits(t.traits),i.remove(this._options.cookie.oldKey),!0)},e.exports=r(new p),e.exports.User=p},{"./cookie":19,"./entity":20,"./store":28,"@segment/cookie":44,"bind-all":62,debug:78,inherits:84,uuid:122}],30:[function(t,e,n){"use strict";var s=t("component-type"),t=function t(e){var n=s(e);if("object"===n){for(var o in r={},e)e.hasOwnProperty(o)&&(r[o]=t(e[o]));return r}if("array"===n){for(var r=new Array(e.length),i=0,a=e.length;i<a;i++)r[i]=t(e[i]);return r}if("regexp"!==n)return"date"===n?new Date(e.getTime()):e;n="";return n+=e.multiline?"m":"",n+=e.global?"g":"",n+=e.ignoreCase?"i":"",new RegExp(e.source,n)};e.exports=t},{"component-type":76}],31:[function(t,e,n){"use strict";var r=t("@ndhoule/keys"),o=Object.prototype.toString,i=function(t){var e=typeof t;return"number"==e||"object"==e&&"[object Number]"===o.call(t)},a="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===o.call(t)};e.exports=function(t,e){return(null!=(n=e)&&(a(n)||"function"!==n&&i(n.length))?function(t,e){for(var n=0;n<e.length&&!1!==t(e[n],n,e);n+=1);}:function(t,e){for(var n=r(e),o=0;o<n.length&&!1!==t(e[n[o]],n[o],e);o+=1);}).call(this,t,e);var n}},{"@ndhoule/keys":13}],32:[function(t,e,n){"use strict";var i=t("./each");e.exports=function(o,t){if("function"!=typeof o)throw new TypeError("Expected a function but received a "+typeof o);var r=[];return i(function(t,e,n){r.push(o(t,e,n))},t),r}},{"./each":31}],33:[function(t,e,n){e.exports={version:"4.1.8"}},{}],34:[function(t,e,n){"use strict";var o,p=t("segmentio-facade").Track,i=t("@ndhoule/defaults"),a=t("obj-case"),l=t("component-each"),r=t("@segment/analytics.js-integration"),s=t("is"),c=t("object-component").length,u=t("global-queue")("_gaq"),d=t("reject"),f=t("use-https"),h=t("extend");e.exports=n=function(t){t.addIntegration(y),o=t.user()};var y=n.Integration=r("Google Analytics").readyOnLoad().global("ga").global("gaplugins").global("_gaq").global("GoogleAnalyticsObject").option("anonymizeIp",!1).option("useGoogleAmpClientId",!1).option("classic",!1).option("contentGroupings",{}).option("dimensions",{}).option("domain","auto").option("doubleClick",!1).option("enhancedEcommerce",!1).option("enhancedLinkAttribution",!1).option("ignoredReferrers",null).option("includeSearch",!1).option("setAllMappedProps",!0).option("metrics",{}).option("nonInteraction",!1).option("sendUserId",!1).option("siteSpeedSampleRate",1).option("sampleRate",100).option("trackCategorizedPages",!0).option("trackNamedPages",!0).option("trackingId","").option("optimize","").option("nameTracker",!1).option("resetCustomDimensionsOnPage",[]).tag("library",'<script src="//www.google-analytics.com/analytics.js">').tag("double click",'<script src="//stats.g.doubleclick.net/dc.js">').tag("http",'<script src="http://www.google-analytics.com/ga.js">').tag("https",'<script src="https://ssl.google-analytics.com/ga.js">');function m(t,e){if(t){var n=t.path;return e.includeSearch&&t.search&&(n+=t.search),n}}function g(t,e,n){var o={},t=w(t,e);if(c(t)){if(!e.setAllMappedProps)return l(t,function(t,e){o[t]=e}),o;window.ga(n+"set",t)}}function v(t){return!t||t<0?0:Math.round(t)}function b(t,e){var n=t.properties().position;return void 0!==n&&!Number.isNaN(Number(n))&&-1<Number(n)?n:e.map(function(t){return t.product_id}).indexOf(t.productId())+1}function w(n,t){var e=t.dimensions,o=t.metrics,t=t.contentGroupings,r={};return l([o,e,t],function(t){l(t,function(t,e){t=a(n,t)||n[t];!(t=s.bool(t)?t.toString():t)&&0!==t||(r[e]=t)})}),r}function _(t,e,n){var o=t.properties(),r={id:t.productId()||t.id()||t.sku(),name:t.name(),category:t.category(),quantity:t.quantity(),price:t.price(),brand:o.brand,variant:o.variant,currency:t.currency()};null!=o.position&&(r.position=Math.round(o.position));t=t.proxy("properties.coupon");t&&(r.coupon=t),r=h(r,w(o,n)),window.ga(e+"ec:addProduct",r)}function k(t,e,n,o,r){_(t,o,r),window.ga(o+"ec:setAction",e,n||{})}function x(t){t=[t.paymentMethod,t.shippingMethod],t=d(t);return 0<t.length?t.join(", "):null}function j(t,e){var n=e||{};return n.currency=e.currency||t.currency(),new p({properties:n})}y.on("construct",function(t){t.options.classic?(t.initialize=t.initializeClassic,t.loaded=t.loadedClassic,t.page=t.pageClassic,t.track=t.trackClassic,t.orderCompleted=t.completedOrderClassic):t.options.enhancedEcommerce&&(t.productViewed=t.productViewedEnhanced,t.productClicked=t.productClickedEnhanced,t.productAdded=t.productAddedEnhanced,t.productRemoved=t.productRemovedEnhanced,t.checkoutStarted=t.checkoutStartedEnhanced,t.checkoutStepViewed=t.checkoutStepViewedEnhanced,t.checkoutStepCompleted=t.checkoutStepCompletedEnhanced,t.orderUpdated=t.orderUpdatedEnhanced,t.orderCompleted=t.orderCompletedEnhanced,t.orderRefunded=t.orderRefundedEnhanced,t.promotionViewed=t.promotionViewedEnhanced,t.promotionClicked=t.promotionClickedEnhanced,t.productListViewed=t.productListViewedEnhanced,t.productListFiltered=t.productListFilteredEnhanced)}),y.prototype.initialize=function(){this.pageCalled=!1;var t=this.options;window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=(new Date).getTime(),"localhost"===window.location.hostname&&(t.domain="none");var e={cookieDomain:t.domain||y.prototype.defaults.domain,siteSpeedSampleRate:t.siteSpeedSampleRate,sampleRate:t.sampleRate,allowLinker:!0,useAmpClientId:t.useGoogleAmpClientId};t.nameTracker?(e.name="segmentGATracker",this._trackerName="segmentGATracker."):this._trackerName="",window.ga("create",t.trackingId,e),t.optimize&&window.ga(this._trackerName+"require",t.optimize),t.doubleClick&&window.ga(this._trackerName+"require","displayfeatures"),t.enhancedLinkAttribution&&window.ga(this._trackerName+"require","linkid","linkid.js"),t.sendUserId&&o.id()&&window.ga(this._trackerName+"set","userId",o.id()),t.anonymizeIp&&window.ga(this._trackerName+"set","anonymizeIp",!0);e=o.traits();o.id()&&(e.id=o.id());t=w(e,t);c(t)&&window.ga(this._trackerName+"set",t),this.load("library",this.ready)},y.prototype.loaded=function(){return!!window.gaplugins},y.prototype.page=function(t){var e,n=t.category(),o=t.properties(),r=t.fullName(),i=this.options,a=t.proxy("context.campaign")||{},s={},c=m(o,this.options),u=r||o.title,p=t.referrer()||"";this._category=n,s.page=c,s.title=u,s.location=o.url,a.name&&(s.campaignName=a.name),a.source&&(s.campaignSource=a.source),a.medium&&(s.campaignMedium=a.medium),a.content&&(s.campaignContent=a.content),a.term&&(s.campaignKeyword=a.term);for(var u={page:c,title:u},l={},d=0;d<i.resetCustomDimensionsOnPage.length;d++){var f=i.resetCustomDimensionsOnPage[d];i.dimensions[f]&&(l[i.dimensions[f]]=null)}window.ga(this._trackerName+"set",l),s=h(s,g(o,i,this._trackerName)),p!==document.referrer&&(u.referrer=p),window.ga(this._trackerName+"set",u),this.pageCalled&&delete s.location,window.ga(this._trackerName+"send","pageview",s),n&&this.options.trackCategorizedPages&&(e=t.track(n),this.track(e,{nonInteraction:1})),r&&this.options.trackNamedPages&&(e=t.track(r),this.track(e,{nonInteraction:1})),this.pageCalled=!0},y.prototype.identify=function(t){var e=this.options;e.sendUserId&&t.userId()&&window.ga(this._trackerName+"set","userId",t.userId());e=w(t.traits(),e);c(e)&&window.ga(this._trackerName+"set",e)},y.prototype.track=function(t,e){var n=t.options(this.name),o=this.options,r=i(e||{},n),r=i(r,o),e=t.properties(),n=t.proxy("context.campaign")||{},r={eventAction:t.event(),eventCategory:t.category()||this._category||"All",eventLabel:e.label,eventValue:v(e.value||t.revenue()),nonInteraction:void 0!==e.nonInteraction?!!e.nonInteraction:!!r.nonInteraction};n.name&&(r.campaignName=n.name),n.source&&(r.campaignSource=n.source),n.medium&&(r.campaignMedium=n.medium),n.content&&(r.campaignContent=n.content),n.term&&(r.campaignKeyword=n.term),r=h(r,g(e,o,this._trackerName)),window.ga(this._trackerName+"send","event",r)},y.prototype.orderCompleted=function(e){var t=e.total()||e.revenue()||0,n=e.orderId(),o=e.products(),r=e.properties(),i=this;n&&(this.ecommerce||(window.ga(this._trackerName+"require","ecommerce"),this.ecommerce=!0),window.ga(this._trackerName+"ecommerce:addTransaction",{affiliation:r.affiliation,shipping:e.shipping(),revenue:t,tax:e.tax(),id:n,currency:e.currency()}),l(o,function(t){t=j(e,t);window.ga(i._trackerName+"ecommerce:addItem",{category:t.category(),quantity:t.quantity(),price:t.price(),name:t.name(),sku:t.sku(),id:n,currency:t.currency()})}),window.ga(this._trackerName+"ecommerce:send"))},y.prototype.initializeClassic=function(){var t=this.options,e=t.anonymizeIp,n=t.domain,o=t.enhancedLinkAttribution,r=t.ignoredReferrers,i=t.siteSpeedSampleRate;window._gaq=window._gaq||[],u("_setAccount",t.trackingId),u("_setAllowLinker",!0),e&&u("_gat._anonymizeIp"),n&&u("_setDomainName",n),i&&u("_setSiteSpeedSampleRate",i),o&&(o="https:"===document.location.protocol?"https:":"http:",u("_require","inpage_linkid",o+"//www.google-analytics.com/plugins/ga/inpage_linkid.js")),r&&(s.array(r)||(r=[r]),l(r,function(t){u("_addIgnoredRef",t)})),this.options.doubleClick?this.load("double click",this.ready):(r=f()?"https":"http",this.load(r,this.ready))},y.prototype.loadedClassic=function(){return!(!window._gaq||window._gaq.push===Array.prototype.push)},y.prototype.pageClassic=function(t){var e,n=t.category(),o=t.properties(),r=t.fullName();u("_trackPageview",m(o,this.options)),n&&this.options.trackCategorizedPages&&(e=t.track(n),this.track(e,{nonInteraction:1})),r&&this.options.trackNamedPages&&(e=t.track(r),this.track(e,{nonInteraction:1}))},y.prototype.trackClassic=function(t,e){var n=e||t.options(this.name),o=t.properties(),r=t.revenue(),i=t.event(),e=this._category||t.category()||"All",t=o.label,r=v(r||o.value),n=!(!o.nonInteraction&&!n.nonInteraction);u("_trackEvent",e,i,t,r,n)},y.prototype.completedOrderClassic=function(t){var e=t.total()||t.revenue()||0,n=t.orderId(),o=t.products()||[],r=t.properties(),i=t.currency();n&&(u("_addTrans",n,r.affiliation,e,t.tax(),t.shipping(),t.city(),t.state(),t.country()),l(o,function(t){t=new p({properties:t});u("_addItem",n,t.sku(),t.name(),t.category(),t.price(),t.quantity())}),u("_set","currencyCode",i),u("_trackTrans"))},y.prototype.loadEnhancedEcommerce=function(t){this.enhancedEcommerceLoaded||(window.ga(this._trackerName+"require","ec"),this.enhancedEcommerceLoaded=!0),window.ga(this._trackerName+"set","&cu",t.currency())},y.prototype.pushEnhancedEcommerce=function(t,e,n){n=d([this._trackerName+"send","event",t.category()||"EnhancedEcommerce",t.event()||"Action not defined",t.properties().label,h({nonInteraction:1},g(t.properties(),e,n))]),t=t.event().toLowerCase();["product clicked","product added","product viewed","product removed"].includes(t)&&(n[2]="EnhancedEcommerce"),window.ga.apply(window,n)},y.prototype.checkoutStartedEnhanced=function(t){this.checkoutStepViewed(t)},y.prototype.orderUpdatedEnhanced=function(t){this.checkoutStartedEnhanced(t)},y.prototype.checkoutStepViewedEnhanced=function(e){var t=e.products(),n=e.properties(),o=x(n),r=this,i=this.options;this.loadEnhancedEcommerce(e),l(t,function(t){_(j(e,t),r._trackerName,i)}),window.ga(r._trackerName+"ec:setAction","checkout",{step:n.step||1,option:o||void 0}),this.pushEnhancedEcommerce(e,i,r._trackerName)},y.prototype.checkoutStepCompletedEnhanced=function(t){var e=t.properties(),n=x(e);e.step&&n&&(this.loadEnhancedEcommerce(t),window.ga(this._trackerName+"ec:setAction","checkout_option",{step:e.step||1,option:n}),window.ga(this._trackerName+"send","event","Checkout","Option"))},y.prototype.orderCompletedEnhanced=function(e){var t=e.total()||e.revenue()||0,n=e.orderId(),o=e.products(),r=e.properties(),i=this.options,a=this;n&&(this.loadEnhancedEcommerce(e),l(o,function(t){_(j(e,t),a._trackerName,i)}),window.ga(a._trackerName+"ec:setAction","purchase",{id:n,affiliation:r.affiliation,revenue:t,tax:e.tax(),shipping:e.shipping(),coupon:e.coupon()}),this.pushEnhancedEcommerce(e,i,a._trackerName))},y.prototype.orderRefundedEnhanced=function(t){var e=t.orderId(),n=t.products(),o=this,r=this.options;e&&(this.loadEnhancedEcommerce(t),l(n,function(t){t=new p({properties:t});window.ga(o._trackerName+"ec:addProduct",{id:t.productId()||t.id()||t.sku(),quantity:t.quantity()})}),window.ga(o._trackerName+"ec:setAction","refund",{id:e}),this.pushEnhancedEcommerce(t,r,o._trackerName))},y.prototype.productAddedEnhanced=function(t){var e=this.options;this.loadEnhancedEcommerce(t),k(t,"add",null,this._trackerName,e),this.pushEnhancedEcommerce(t,e,this._trackerName)},y.prototype.productRemovedEnhanced=function(t){var e=this.options;this.loadEnhancedEcommerce(t),k(t,"remove",null,this._trackerName,e),this.pushEnhancedEcommerce(t,e,this._trackerName)},y.prototype.productViewedEnhanced=function(t){var e=t.properties(),n={},o=this.options;this.loadEnhancedEcommerce(t),e.list&&(n.list=e.list),k(t,"detail",n,this._trackerName,o),this.pushEnhancedEcommerce(t,o,this._trackerName)},y.prototype.productClickedEnhanced=function(t){var e=t.properties(),n={},o=this.options;this.loadEnhancedEcommerce(t),e.list&&(n.list=e.list),k(t,"click",n,this._trackerName,o),this.pushEnhancedEcommerce(t,o,this._trackerName)},y.prototype.promotionViewedEnhanced=function(t){var e=t.properties(),n=this.options;this.loadEnhancedEcommerce(t),window.ga(this._trackerName+"ec:addPromo",{id:t.promotionId()||t.id(),name:t.name(),creative:e.creative,position:e.position}),this.pushEnhancedEcommerce(t,n,this._trackerName)},y.prototype.promotionClickedEnhanced=function(t){var e=t.properties(),n=this.options;this.loadEnhancedEcommerce(t),window.ga(this._trackerName+"ec:addPromo",{id:t.promotionId()||t.id(),name:t.name(),creative:e.creative,position:e.position}),window.ga(this._trackerName+"ec:setAction","promo_click",{}),this.pushEnhancedEcommerce(t,n,this._trackerName)},y.prototype.productListViewedEnhanced=function(o){var r=o.properties(),i=o.products(),a=this,s=this.options;this.loadEnhancedEcommerce(o),l(i,function(t){t=new p({properties:t});if(t.productId()||t.sku()||t.name()){var e,n={id:t.productId()||t.sku(),name:t.name(),category:t.category()||o.category(),list:r.list_id||o.category()||"products",brand:t.properties().brand,variant:t.properties().variant,price:t.price(),position:b(t,i)};for(e in n=h(n,w(t.properties(),s)))void 0===n[e]&&delete n[e];window.ga(a._trackerName+"ec:addImpression",n)}}),this.pushEnhancedEcommerce(o,s,a._trackerName)},y.prototype.productListFilteredEnhanced=function(o){var r=o.properties(),i=o.products();r.filters=r.filters||[],r.sorters=r.sorters||[];var a=r.filters.map(function(t){return t.type+":"+t.value}).join(),s=r.sorts.map(function(t){return t.type+":"+t.value}).join(),c=this,u=this.options;this.loadEnhancedEcommerce(o),l(i,function(t){t=new p({properties:t});if(t.productId()||t.sku()||t.name()){var e,n={id:t.productId()||t.sku(),name:t.name(),category:t.category()||o.category(),list:r.list_id||o.category()||"search results",brand:t.properties().brand,variant:a+"::"+s,price:t.price(),position:b(t,i)};for(e in n=h(n,w(t.properties(),u)))void 0===n[e]&&delete n[e];window.ga(c._trackerName+"ec:addImpression",n)}}),this.pushEnhancedEcommerce(o,u,c._trackerName)}},{"@ndhoule/defaults":6,"@segment/analytics.js-integration":39,"component-each":69,extend:81,"global-queue":82,is:86,"obj-case":96,"object-component":97,reject:99,"segmentio-facade":107,"use-https":120}],35:[function(t,e,n){"use strict";var o=t("@segment/analytics.js-integration"),r=t("global-queue")("dataLayer",{wrap:!1}),o=e.exports=o("Google Tag Manager").global("dataLayer").global("google_tag_manager").option("containerId","").option("environment","").option("trackNamedPages",!0).option("trackCategorizedPages",!0).tag("no-env",'<script src="//www.googletagmanager.com/gtm.js?id={{ containerId }}&l=dataLayer">').tag("with-env",'<script src="//www.googletagmanager.com/gtm.js?id={{ containerId }}&l=dataLayer&gtm_preview={{ environment }}">');o.prototype.initialize=function(){r({"gtm.start":Number(new Date),event:"gtm.js"}),this.options.environment.length?this.load("with-env",this.options,this.ready):this.load("no-env",this.options,this.ready)},o.prototype.loaded=function(){return!(!window.dataLayer||Array.prototype.push===window.dataLayer.push)},o.prototype.page=function(t){var e=t.category(),n=t.fullName(),o=this.options;o.trackAllPages&&this.track(t.track()),e&&o.trackCategorizedPages&&this.track(t.track(e)),n&&o.trackNamedPages&&this.track(t.track(n))},o.prototype.track=function(t){var e=t.properties(),n=this.analytics.user().id(),o=this.analytics.user().anonymousId();n&&(e.userId=n),o&&(e.segmentAnonymousId=o),e.event=t.event(),r(e)}},{"@segment/analytics.js-integration":39,"global-queue":82}],36:[function(t,e,d){"use strict";var r=t("@segment/ad-params"),i=t("component-clone"),n=t("component-cookie"),a=t("@ndhoule/extend"),o=t("@segment/analytics.js-integration"),s=t("json3"),f=t("@ndhoule/keys"),c=t("yields-store"),u=t("@segment/protocol"),p=t("@segment/send-json"),l=t("@segment/top-domain"),h=t("@segment/utm-params"),y=t("uuid").v4,m=t("@segment/localstorage-retry"),g={maxage:31536e6,secure:!1,path:"/"},v={maxRetryDelay:36e4,minRetryDelay:1e3,backoffFactor:2,maxAttempts:10,maxItems:100},b=(d=e.exports=o("Segment.io").option("apiKey","").option("apiHost","api.segment.io/v1").option("crossDomainIdServers",[]).option("deleteCrossDomainId",!1).option("saveCrossDomainIdInLocalStorage",!0).option("retryQueue",!0).option("addBundledMetadata",!1).option("unbundledIntegrations",[])).option("unbundledConfigIds",[]).option("maybeBundledConfigIds",{});function w(t){return t.split(".").splice(-2).join(".")}d.storage=function(){return"file:"===u()||"chrome-extension:"===u()?c:n},d.global=window,d.sendJsonWithTimeout=function(t,e,n,o,r){if("xhr"===p.type){var i,a=new XMLHttpRequest;for(i in a.onerror=r,a.onreadystatechange=function(){4===a.readyState&&(429===a.status||500<=a.status&&a.status<600?r(new Error("HTTP Error "+a.status+" ("+a.statusText+")")):r(null,a))},a.open("POST",t,!0),a.timeout=o,a.ontimeout=r,n)a.setRequestHeader(i,n[i]);a.send(s.stringify(e))}else p(t,e,n,r)},b.prototype.initialize=function(){var r=this;this.options.retryQueue&&(this._lsqueue=new m("segmentio",v,function(t,n){var o=t;o.msg.sentAt=new Date,b.sendJsonWithTimeout(o.url,o.msg,o.headers,1e4,function(t,e){return r.debug("sent %O, received %O",o.msg,[t,e]),t?n(t):void n(null,e)})}),this._lsqueue.start()),this.ready(),this.analytics.on("invoke",function(t){var e=t.action(),n="on"+t.action();r.debug("%s %o",e,t),r[n]&&r[n](t),r.ready()}),this.deleteCrossDomainIdIfNeeded(),this.isCrossDomainAnalyticsEnabled()&&this.retrieveCrossDomainId()},b.prototype.loaded=function(){return!0},b.prototype.onpage=function(t){this.enqueue("/p",t.json())},b.prototype.onidentify=function(t){this.enqueue("/i",t.json())},b.prototype.ongroup=function(t){this.enqueue("/g",t.json())},b.prototype.ontrack=function(t){t=t.json();delete t.traits,this.enqueue("/t",t)},b.prototype.onalias=function(t){var e=t.json(),t=this.analytics.user();e.previousId=e.previousId||e.from||t.id()||t.anonymousId(),e.userId=e.userId||e.to,delete e.from,delete e.to,this.enqueue("/a",e)},b.prototype.normalize=function(t){var e=t;this.debug("normalize %o",e);var n=this.analytics.user(),o=d.global.location.search,r=e.context=e.context||e.options||{};delete e.options,e.writeKey=this.options.apiKey,r.userAgent=navigator.userAgent;t=navigator.userLanguage||navigator.language;void 0===r.locale&&void 0!==t&&(r.locale=t),r.library||(r.library={name:"analytics.js",version:this.analytics.VERSION}),!this.isCrossDomainAnalyticsEnabled()||(t=this.getCachedCrossDomainId())&&(r.traits?r.traits.crossDomainId||(r.traits.crossDomainId=t):r.traits={crossDomainId:t}),o&&!r.campaign&&(r.campaign=h(o)),this.referrerId(o,r),e.userId=e.userId||n.id(),e.anonymousId=n.anonymousId(),e.sentAt=new Date;n=this.analytics.failedInitializations||[];if(0<n.length&&(e._metadata={failedInitializations:n}),this.options.addBundledMetadata){for(var i=f(this.analytics.Integrations),a=this.options.maybeBundledConfigIds,s=[],c=0;c<i.length;c++){var u=i[c];if(!a)break;if(a[u])for(var p=0;p<a[u].length;p++){var l=a[u][p];s.push(l)}}e._metadata=e._metadata||{},e._metadata.bundled=i,e._metadata.unbundled=this.options.unbundledIntegrations,e._metadata.bundledIds=s}return this.debug("normalized %o",e),this.ampId(r),e},b.prototype.ampId=function(t){var e=this.cookie("_ga");e&&"amp"===e.slice(0,3)&&(t.amp={id:e})},b.prototype.enqueue=function(t,e,n){var o="https://"+this.options.apiHost+t,t={"Content-Type":"text/plain"},r=this.normalize(e);32e3<s.stringify(r).length&&this.debug("message must be less than 32kb %O",r),this.debug("enqueueing %O",r);var i=this;this.options.retryQueue?this._lsqueue.addItem({url:o,headers:t,msg:r}):p(o,r,t,function(t,e){if(i.debug("sent %O, received %O",r,[t,e]),n){if(t)return n(t);n(null,e)}})},b.prototype.cookie=function(t,e){var n=b.storage();if(1===arguments.length)return n(t);var o=d.global.location.href,r="."+l(o);this.debug("store domain %s -> %s",o,r="."===r?"":r);o=i(g);o.domain=r,this.debug("store %s, %s, %o",t,e,o),n(t,e,o),n(t)||(delete o.domain,this.debug("fallback store %s, %s, %o",t,e,o),n(t,e,o))},b.prototype.referrerId=function(t,e){var n,o=(o=this.cookie("s:context.referrer"))&&s.parse(o);(n=(n=t?r(t):n)||o)&&(e.referrer=a(e.referrer||{},n),this.cookie("s:context.referrer",s.stringify(n)))},b.prototype.isCrossDomainAnalyticsEnabled=function(){return!!this.options.crossDomainIdServers&&0<this.options.crossDomainIdServers.length},b.prototype.retrieveCrossDomainId=function(o){if(this.isCrossDomainAnalyticsEnabled()){var t=this.getCachedCrossDomainId();if(t)o&&o(null,{crossDomainId:t});else{for(var r=this,t=this.options.apiKey,e=[],n=0;n<this.options.crossDomainIdServers.length;n++){var i=this.options.crossDomainIdServers[n];e.push(i)}!function(n,t,o){0===n.length&&o(null,null);for(var r=!1,i=0,a=null,e=0;e<n.length;e++)!function(n,t,o){!function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.withCredentials=!0,n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?e(null,n.responseText?s.parse(n.responseText):null):e(n.statusText||"Unknown Error",null))},n.send()}("https://"+n+"/v1/id/"+t,function(t,e){t?o(t,null):o(null,{domain:n,id:e&&e.id||null})})}(n[e],t,function(t,e){i++,t?a=t:e&&e.id&&!r&&(r=!0,o(null,e)),i!==n.length||r||o(a,null)})}(e,t,function(t,e){var n;t?o&&o(t,null):(t=n=null,t=e?(n=e.id,e.domain):(n=y(),window.location.hostname),r.saveCrossDomainId(n),r.analytics.identify({crossDomainId:n}),o&&o(null,{crossDomainId:n,fromDomain:t}))})}}else o&&o("crossDomainId not enabled",null)},b.prototype.getCachedCrossDomainId=function(){return this.options.saveCrossDomainIdInLocalStorage?c("seg_xid"):this.cookie("seg_xid")},b.prototype.saveCrossDomainId=function(n){if(this.options.saveCrossDomainIdInLocalStorage)for(var o=this,t=w(window.location.hostname),e=0;e<this.options.crossDomainIdServers.length;e++){var r=this.options.crossDomainIdServers[e];if(w(r)===t){var i="https://"+r+"/v1/saveId?writeKey="+this.options.apiKey+"&xid="+n;return void function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.withCredentials=!0,n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?e(null,n.responseText):e(n.statusText||n.responseText||"Unknown Error",null))},n.send()}(i,function(t,e){t?o.debug("could not save id on %O, received %O",i,[t,e]):c("seg_xid",n)})}}else this.cookie("seg_xid",n)},b.prototype.deleteCrossDomainIdIfNeeded=function(){var t;this.options.deleteCrossDomainId&&(this.cookie("seg_xid")&&(this.cookie("seg_xid",null),this.cookie("seg_xid_fd",null),this.cookie("seg_xid_ts",null)),c("seg_xid")&&c("seg_xid",null),this.analytics.user().traits().crossDomainId&&(delete(t=this.analytics.user().traits()).crossDomainId,this.analytics.user()._setTraits(t)))}},{"@ndhoule/extend":10,"@ndhoule/keys":13,"@segment/ad-params":17,"@segment/analytics.js-integration":39,"@segment/localstorage-retry":51,"@segment/protocol":56,"@segment/send-json":57,"@segment/top-domain":59,"@segment/utm-params":60,"component-clone":64,"component-cookie":65,json3:87,uuid:38,"yields-store":127}],37:[function(t,i,e){!function(t){var e,n,o,r=t.crypto||t.msCrypto;r&&r.getRandomValues&&(e=new Uint8Array(16),n=function(){return r.getRandomValues(e),e}),n||(o=new Array(16),n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}),i.exports=n}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(t,e,n){for(var a=t("./rng"),o=[],i={},r=0;r<256;r++)o[r]=(r+256).toString(16).substr(1),i[o[r]]=r;function p(t,e){e=e||0;return o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+"-"+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]+o[t[e++]]}var t=a(),l=[1|t[0],t[1],t[2],t[3],t[4],t[5]],d=16383&(t[6]<<8|t[7]),f=0,h=0;function s(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var i=0;i<16;i++)e[o+i]=r[i];return e||p(r)}t=s;t.v1=function(t,e,n){var o=e&&n||0,r=e||[],i=void 0!==(t=t||{}).clockseq?t.clockseq:d,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:h+1;if((n=a-f+(s-h)/1e4)<0&&void 0===t.clockseq&&(i=i+1&16383),1e4<=(s=(n<0||f<a)&&void 0===t.nsecs?0:s))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,d=i,s=(1e4*(268435455&(a+=122192928e5))+(h=s))%4294967296,r[o++]=s>>>24&255,r[o++]=s>>>16&255,r[o++]=s>>>8&255,r[o++]=255&s,a=a/4294967296*1e4&268435455,r[o++]=a>>>8&255,r[o++]=255&a,r[o++]=a>>>24&15|16,r[o++]=a>>>16&255,r[o++]=i>>>8|128,r[o++]=255&i;for(var c=t.node||l,u=0;u<6;u++)r[o+u]=c[u];return e||p(r)},t.v4=s,t.parse=function(t,e,n){var o=e&&n||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){r<16&&(e[o+r++]=i[t])});r<16;)e[o+r++]=0;return e},t.unparse=p,e.exports=t},{"./rng":37}],39:[function(t,e,n){"use strict";var r=t("component-bind"),i=t("debug"),a=t("@ndhoule/defaults"),s=t("extend"),c=t("slug-component"),u=t("./protos"),p=t("./statics");e.exports=function(n){function o(t){if(t&&t.addIntegration)return t.addIntegration(o);this.debug=i("analytics:integration:"+c(n));var e={};s(!0,e,t),this.options=a(e,this.defaults),this._queue=[],this.once("ready",r(this,this.flush)),o.emit("construct",this),this.ready=r(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack()}return o.prototype.defaults={},o.prototype.globals=[],o.prototype.templates={},o.prototype.name=n,s(o,p),s(o.prototype,u),o}},{"./protos":40,"./statics":41,"@ndhoule/defaults":6,"component-bind":63,debug:78,extend:81,"slug-component":113}],40:[function(t,e,n){"use strict";function c(){}var o=t("component-emitter"),u=t("@ndhoule/each"),s=t("analytics-events"),r=t("@ndhoule/every"),p=t("@segment/fmt"),l=t("@ndhoule/foldl"),d=t("is"),f=t("load-iframe"),h=t("@segment/load-script"),i=t("next-tick"),y=t("to-no-case"),m=Object.prototype.hasOwnProperty,a=window.onerror;function g(t){return!!d.object(t)&&(!!d.string(t.key)&&!!m.call(t,"value"))}o(n),n.initialize=function(){var t=this.ready;i(t)},n.loaded=function(){return!1},n.page=function(t){},n.track=function(t){},n.map=function(t,e){var i=y(e),a=function(t){if(d.array(t))return r(g,t)?"mixed":"array";return d.object(t)?"map":"unknown"}(t);return"unknown"===a?[]:l(function(t,e,n){var o,r;return"map"===a&&(o=n,r=e),"array"===a&&(r=o=e),"mixed"===a&&(o=e.key,r=e.value),y(o)===i&&t.push(r),t},[],t)},n.invoke=function(t){if(this[t]){var e=Array.prototype.slice.call(arguments,1);return this._ready?(this.debug("%s with %o",t,e),this[t].apply(this,e)):this.queue(t,e)}},n.queue=function(t,e){this._queue.push({method:t,args:e})},n.flush=function(){this._ready=!0;var e=this;u(function(t){e[t.method].apply(e,t.args)},this._queue),this._queue.length=0},n.reset=function(){for(var t=0;t<this.globals.length;t++)window[this.globals[t]]=void 0;window.onerror=a,window.onload=null},n.load=function(t,e,n){"function"==typeof t&&(n=t,t=e=null),t&&"object"==typeof t&&(n=e,e=t,t=null),"function"==typeof e&&(n=e,e=null),t=t||"library",e=this.locals(e=e||{});var o=this.templates[t];if(!o)throw new Error(p('template "%s" not defined.',t));var r,i=(r=e,l(function(t,e,n){return t[n]=e.replace(/\{\{\ *(\w+)\ *\}\}/g,function(t,e){return r[e]}),t},{},o.attrs));n=n||c;var a,s=this;switch(o.type){case"img":i.width=1,i.height=1,a=function(t,e){e=e||function(){};var n=new Image;return n.onerror=function(n,o,r){return function(t){t=t||window.event;var e=new Error(o);e.event=t,e.source=r,n(e)}}(e,"failed to load pixel",n),n.onload=function(){e()},n.src=t.src,n.width=1,n.height=1,n}(i,n);break;case"script":a=h(i,function(t){return t?void s.debug('error loading "%s" error="%s"',s.name,t):n()}),delete i.src,u(function(t,e){a.setAttribute(e,t)},i);break;case"iframe":a=f(i,n)}return a},n.locals=function(n){n=n||{};var t=Math.floor((new Date).getTime()/36e5);return n.hasOwnProperty("cache")||(n.cache=t),u(function(t,e){n.hasOwnProperty(e)||(n[e]=t)},this.options),n},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var t=e.apply(this,arguments);return this.emit("initialize"),t}},n._wrapPage=function(){var t=this.page,e=!1;this.page=function(){if(!this._assumesPageview||e)return t.apply(this,arguments);e=!0}},n._wrapTrack=function(){var a=this.track;this.track=function(t){var e,n,o,r=t.event();for(o in s)if(m.call(s,o)){var i=s[o];if(this[o]&&i.test(r)){n=this[o].apply(this,arguments),e=!0;break}}return n=!e?a.apply(this,arguments):n}}},{"@ndhoule/each":8,"@ndhoule/every":9,"@ndhoule/foldl":11,"@segment/fmt":45,"@segment/load-script":49,"analytics-events":61,"component-emitter":71,is:86,"load-iframe":89,"next-tick":95,"to-no-case":117}],41:[function(t,e,n){"use strict";var o=t("component-emitter"),r=t("domify"),i=t("@ndhoule/each"),a=t("@ndhoule/includes");o(n),n.option=function(t,e){return this.prototype.defaults[t]=e,this},n.mapping=function(e){return this.option(e,[]),this.prototype[e]=function(t){return this.map(this.options[e],t)},this},n.global=function(t){return this.prototype.globals.push(t),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(t,e){return null==e&&(e=t,t="library"),this.prototype.templates[t]=function(n){n=n.replace(' src="',' data-src="');var t=r(n),o={};return i(function(t){var e="data-src"===t.name?"src":t.name;a(t.name+"=",n)&&(o[e]=t.value)},t.attributes),{type:t.tagName.toLowerCase(),attrs:o}}(e),this}},{"@ndhoule/each":8,"@ndhoule/includes":12,"component-emitter":71,domify:80}],42:[function(t,e,n){var u=t("utf8-encode"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.exports=function(t){var e,n,o,r,i,a,s="",c=0;t=u(t);for(;c<t.length;)a=t.charCodeAt(c++),e=t.charCodeAt(c++),n=t.charCodeAt(c++),o=a>>2,r=(3&a)<<4|e>>4,i=(15&e)<<2|n>>6,a=63&n,isNaN(e)?i=a=64:isNaN(n)&&(a=64),s=s+p.charAt(o)+p.charAt(r)+p.charAt(i)+p.charAt(a);return s}},{"utf8-encode":121}],43:[function(t,e,n){"use strict";e.exports=function(){for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}},{}],44:[function(t,e,n){"use strict";var o=t("debug")("cookie");function r(){var t;try{t=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(t){var e,n={},o=t.split(/ *; */);if(""==o[0])return n;for(var r=0;r<o.length;++r)e=o[r].split("="),n[a(e[0])]=a(e[1]);return n}(t)}function i(e){try{return encodeURIComponent(e)}catch(t){o("error `encode(%o)` - %o",e,t)}}function a(e){try{return decodeURIComponent(e)}catch(t){o("error `decode(%o)` - %o",e,t)}}e.exports=function(t,e,n){switch(arguments.length){case 3:case 2:return function(t,e,n){n=n||{};t=i(t)+"="+i(e);null==e&&(n.maxage=-1);n.maxage&&(n.expires=new Date(+new Date+n.maxage));n.path&&(t+="; path="+n.path);n.domain&&(t+="; domain="+n.domain);n.expires&&(t+="; expires="+n.expires.toUTCString());n.sameSite&&(t+="; SameSite="+n.sameSite);n.secure&&(t+="; secure");document.cookie=t}(t,e,n);case 1:return o=t,r()[o];default:return r()}var o}},{debug:78}],45:[function(t,e,n){!function(t){"use strict";t=t.JSON&&"function"==typeof JSON.stringify?JSON.stringify:String;function r(t){var n=Array.prototype.slice.call(arguments,1),o=0;return t.replace(/%([a-z])/gi,function(t,e){return r[e]?r[e](n[o++]):t+e})}r.o=t,r.s=String,r.d=parseInt,e.exports=r}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(t,e,n){"use strict";e.exports=function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return!0;var e=t.which,t=t.button;return e||void 0===t?2===e:1&!t&&2&!t&&4&t}},{}],47:[function(t,e,n){"use strict";var r=t("component-type"),i=t("component-each"),a=t("@segment/isodate");function s(t,e){return void 0===e&&(e=!0),"object"===r(t)?function(n,o){!n.length||"number"!=typeof n.length||n.length-1 in n||(n.lengthNonArray=n.length,delete n.length);i(n,function(t,e){a.is(e,o)?n[t]=a.parse(e):"object"!==r(e)&&"array"!==r(e)||s(e,o)}),n.lengthNonArray&&(n.length=n.lengthNonArray,delete n.lengthNonArray);return n}(t,e):"array"===r(t)?(o=e,i(n=t,function(t,e){"object"===r(t)?s(t,o):a.is(t,o)&&(n[e]=a.parse(t))}),n):t;var n,o}e.exports=s},{"@segment/isodate":48,"component-each":69,"component-type":76}],48:[function(t,e,n){"use strict";var a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(t){var e=[1,5,6,7,11,12],n=a.exec(t),o=0;if(!n)return new Date(t);for(var r,i=0;r=e[i];i++)n[r]=parseInt(n[r],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?o=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(o=60*n[11]+n[12],"+"===n[10]&&(o=0-o));o=Date.UTC(n[1],n[2],n[3],n[5],n[6]+o,n[7],n[8]);return new Date(o)},n.is=function(t,e){return"string"==typeof t&&((!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&a.test(t))}},{}],49:[function(t,e,n){"use strict";var r=t("script-onload"),i=t("next-tick"),a=t("component-type");e.exports=function(t,e){if(!t)throw new Error("Can't load nothing...");"string"===a(t)&&(t={src:t});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=(n?"https:":"http:")+t.src),n&&t.https?t.src=t.https:!n&&t.http&&(t.src=t.http);var o=document.createElement("script");return o.type="text/javascript",o.async=!0,o.src=t.src,"function"===a(e)&&r(o,e),i(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(o,t)}),o}},{"component-type":76,"next-tick":95,"script-onload":100}],50:[function(t,e,n){"use strict";var o=t("@ndhoule/keys"),r=t("uuid").v4,i={_data:{},length:0,setItem:function(t,e){return this._data[t]=e,this.length=o(this._data).length,e},getItem:function(t){return t in this._data?this._data[t]:null},removeItem:function(t){return t in this._data&&delete this._data[t],this.length=o(this._data).length,null},clear:function(){this._data={},this.length=0},key:function(t){return o(this._data)[t]}};e.exports.defaultEngine=function(){try{if(!window.localStorage)return;var t=r();window.localStorage.setItem(t,"test_value");var e=window.localStorage.getItem(t);return window.localStorage.removeItem(t),"test_value"===e}catch(t){return}}()?window.localStorage:i,e.exports.inMemoryEngine=i},{"@ndhoule/keys":13,uuid:122}],51:[function(t,e,n){"use strict";var u=t("uuid").v4,a=t("./store"),p=t("@ndhoule/each"),o=t("./schedule"),l=t("debug")("localstorage-retry");function r(t,e){return function(){return t.apply(e,arguments)}}function i(t,e,n){"function"==typeof e&&(n=e),this.name=t,this.id=u(),this.fn=n,this.maxItems=e.maxItems||1/0,this.maxAttempts=e.maxAttempts||1/0,this.backoff={MIN_RETRY_DELAY:e.minRetryDelay||1e3,MAX_RETRY_DELAY:e.maxRetryDelay||3e4,FACTOR:e.backoffFactor||2,JITTER:e.backoffJitter||0},this.timeouts={ACK_TIMER:1e3,RECLAIM_TIMER:3e3,RECLAIM_TIMEOUT:1e4,RECLAIM_WAIT:500},this.keys={IN_PROGRESS:"inProgress",QUEUE:"queue",ACK:"ack",RECLAIM_START:"reclaimStart",RECLAIM_END:"reclaimEnd"},this._schedule=new o,this._processId=0,this._store=new a(this.name,this.id,this.keys),this._store.set(this.keys.IN_PROGRESS,{}),this._store.set(this.keys.QUEUE,[]),this._ack=r(this._ack,this),this._checkReclaim=r(this._checkReclaim,this),this._processHead=r(this._processHead,this),this._running=!1}t("component-emitter")(i.prototype),i.prototype.start=function(){this._running&&this.stop(),this._running=!0,this._ack(),this._checkReclaim(),this._processHead()},i.prototype.stop=function(){this._schedule.cancelAll(),this._running=!1},i.prototype.shouldRetry=function(t,e){return!(e>this.maxAttempts)},i.prototype.getDelay=function(t){var e,n=this.backoff.MIN_RETRY_DELAY*Math.pow(this.backoff.FACTOR,t);return this.backoff.JITTER&&(e=Math.random(),t=Math.floor(e*this.backoff.JITTER*n),Math.floor(10*e)<5?n-=t:n+=t),Number(Math.min(n,this.backoff.MAX_RETRY_DELAY).toPrecision(1))},i.prototype.addItem=function(t){this._enqueue({item:t,attemptNumber:0,time:this._schedule.now()})},i.prototype.requeue=function(t,e,n){this.shouldRetry(t,e,n)?this._enqueue({item:t,attemptNumber:e,time:this._schedule.now()+this.getDelay(e)}):this.emit("discard",t,e)},i.prototype._enqueue=function(t){var e=this._store.get(this.keys.QUEUE)||[];(e=e.slice(-(this.maxItems-1))).push(t),e=e.sort(function(t,e){return t.time-e.time}),this._store.set(this.keys.QUEUE,e),this._running&&this._processHead()},i.prototype._processHead=function(){var i=this,a=this._store;this._schedule.cancel(this._processId);var t=a.get(this.keys.QUEUE)||[],e=a.get(this.keys.IN_PROGRESS)||{},n=this._schedule.now(),s=[];for(var o=Object.keys(e).length;t.length&&t[0].time<=n&&o++<i.maxItems;){var r=t.shift(),c=u();e[c]={item:r.item,attemptNumber:r.attemptNumber,time:i._schedule.now()},function(o,r){s.push({item:o.item,done:function(t,e){var n=a.get(i.keys.IN_PROGRESS)||{};delete n[r],a.set(i.keys.IN_PROGRESS,n),i.emit("processed",t,e,o.item),t&&i.requeue(o.item,o.attemptNumber+1,t)}})}(r,c)}a.set(this.keys.QUEUE,t),a.set(this.keys.IN_PROGRESS,e),p(function(t){try{i.fn(t.item,t.done)}catch(t){l("Process function threw error: "+t)}},s),t=a.get(this.keys.QUEUE)||[],this._schedule.cancel(this._processId),0<t.length&&(this._processId=this._schedule.run(this._processHead,t[0].time-n))},i.prototype._ack=function(){this._store.set(this.keys.ACK,this._schedule.now()),this._store.set(this.keys.RECLAIM_START,null),this._store.set(this.keys.RECLAIM_END,null),this._schedule.run(this._ack,this.timeouts.ACK_TIMER)},i.prototype._checkReclaim=function(){var i=this;p(function(t){var e;t.id!==i.id&&(i._schedule.now()-t.get(i.keys.ACK)<i.timeouts.RECLAIM_TIMEOUT||((e=t).set(i.keys.RECLAIM_START,i.id),e.set(i.keys.ACK,i._schedule.now()),i._schedule.run(function(){e.get(i.keys.RECLAIM_START)===i.id&&(e.set(i.keys.RECLAIM_END,i.id),i._schedule.run(function(){e.get(i.keys.RECLAIM_END)===i.id&&e.get(i.keys.RECLAIM_START)===i.id&&i._reclaim(e.id)},i.timeouts.RECLAIM_WAIT))},i.timeouts.RECLAIM_WAIT)))},function(t){for(var e=[],n=i._store.engine,o=0;o<n.length;o++){var r=n.key(o).split(".");3===r.length&&r[0]===t&&"ack"===r[2]&&e.push(new a(t,r[1],i.keys))}return e}(this.name)),this._schedule.run(this._checkReclaim,this.timeouts.RECLAIM_TIMER)},i.prototype._reclaim=function(t){var e=this,n=new a(this.name,t,this.keys),o={queue:this._store.get(this.keys.QUEUE)||[]},t={inProgress:n.get(this.keys.IN_PROGRESS)||{},queue:n.get(this.keys.QUEUE)||[]};p(function(t){o.queue.push({item:t.item,attemptNumber:t.attemptNumber,time:e._schedule.now()})},t.queue),p(function(t){o.queue.push({item:t.item,attemptNumber:t.attemptNumber+1,time:e._schedule.now()})},t.inProgress),o.queue=o.queue.sort(function(t,e){return t.time-e.time}),this._store.set(this.keys.QUEUE,o.queue),n.remove(this.keys.ACK),n.remove(this.keys.RECLAIM_START),n.remove(this.keys.RECLAIM_END),n.remove(this.keys.IN_PROGRESS),n.remove(this.keys.QUEUE),this._processHead()},e.exports=i},{"./schedule":52,"./store":53,"@ndhoule/each":8,"component-emitter":71,debug:54,uuid:122}],52:[function(t,e,n){"use strict";var o=t("@ndhoule/each"),r={setTimeout:function(t,e){return window.setTimeout(t,e)},clearTimeout:function(t){return window.clearTimeout(t)},Date:window.Date},i=r;function a(){this.tasks={},this.nextId=1}a.prototype.now=function(){return+new i.Date},a.prototype.run=function(t,e){var n=this.nextId++;return this.tasks[n]=i.setTimeout(this._handle(n,t),e),n},a.prototype.cancel=function(t){this.tasks[t]&&(i.clearTimeout(this.tasks[t]),delete this.tasks[t])},a.prototype.cancelAll=function(){o(i.clearTimeout,this.tasks),this.tasks={}},a.prototype._handle=function(t,e){var n=this;return function(){return delete n.tasks[t],e()}},a.setClock=function(t){i=t},a.resetClock=function(){i=r},e.exports=a},{"@ndhoule/each":8}],53:[function(t,e,n){"use strict";var r=t("./engine").defaultEngine,o=t("./engine").inMemoryEngine,i=t("@ndhoule/each"),a=t("@ndhoule/keys"),s=t("json3");function c(t,e,n,o){this.id=e,this.name=t,this.keys=n||{},this.engine=o||r}c.prototype.set=function(e,n){var t=this._createValidKey(e);if(t)try{this.engine.setItem(t,s.stringify(n))}catch(t){!function(t){var e=!1;if(t.code)switch(t.code){case 22:e=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===t.name&&(e=!0)}else-2147024882===t.number&&(e=!0);return e}(t)||(this._swapEngine(),this.set(e,n))}},c.prototype.get=function(t){try{var e=this.engine.getItem(this._createValidKey(t));return null===e?null:s.parse(e)}catch(t){return null}},c.prototype.remove=function(t){this.engine.removeItem(this._createValidKey(t))},c.prototype._createValidKey=function(e){var n,o=this.name,r=this.id;return a(this.keys).length?(i(function(t){t===e&&(n=[o,r,e].join("."))},this.keys),n):[o,r,e].join(".")},c.prototype._swapEngine=function(){var n=this;i(function(t){var e=n.get(t);o.setItem([n.name,n.id,t].join("."),e),n.remove(t)},this.keys),this.engine=o},e.exports=c},{"./engine":50,"@ndhoule/each":8,"@ndhoule/keys":13,json3:87}],54:[function(t,e,n){function r(o){return r.enabled(o)?function(t){t=(n=t)instanceof Error?n.stack||n.message:n;var e=new Date,n=e-(r[o]||e);r[o]=e,t=o+" "+t+" +"+r.humanize(n),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}(e.exports=r).names=[],r.skips=[],r.enable=function(t){try{localStorage.debug=t}catch(t){}for(var e=(t||"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)"-"===(t=e[o].replace("*",".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$"))},r.disable=function(){r.enable("")},r.humanize=function(t){return 36e5<=t?(t/36e5).toFixed(1)+"h":6e4<=t?(t/6e4).toFixed(1)+"m":1e3<=t?(t/1e3|0)+"s":t+"ms"},r.enabled=function(t){for(var e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(t){}},{}],55:[function(t,e,n){"use strict";e.exports=function(t){return(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}},{}],56:[function(t,e,n){"use strict";var o,r=Object.defineProperty,i=window.location.protocol;function a(e){try{r(window.location,"protocol",{get:function(){return e}})}catch(t){o=e}}e.exports=function(t){return 0===arguments.length?o||window.location.protocol:a(t)},e.exports.http=function(){a("http:")},e.exports.https=function(){a("https:")},e.exports.reset=function(){a(i)}},{}],57:[function(t,e,i){"use strict";var a=t("json3"),s=t("@segment/base64-encode"),n=t("has-cors"),c=t("jsonp");function o(t,e,n,o){3===arguments.length&&(o=n,n={});var r,i=new XMLHttpRequest;for(r in i.onerror=o,i.onreadystatechange=function(){if(4===i.readyState)return o(null,i)},i.open("POST",t,!0),n)i.setRequestHeader(r,n[r]);i.send(a.stringify(e))}function r(n,t,e,o){3===arguments.length&&(o=e);var r=i.prefix,t=(e=t,t="",t=a.stringify(e),t=(t=s(t)).replace(/\+/g,"-").replace(/\//g,"_"),encodeURIComponent(t));c(n+="?"+r+"="+t,{param:i.callback},function(t,e){return t?o(t):void o(null,{url:n,body:e})})}(i=e.exports=n?o:r).callback="callback",i.prefix="data",i.json=o,i.base64=r,i.type=n?"xhr":"jsonp"},{"@segment/base64-encode":42,"has-cors":83,json3:87,jsonp:88}],58:[function(t,e,n){!function(p){"use strict";var l=t("json3");e.exports=function(){var o,n,t,i={},e="undefined"!=typeof window?window:p,r=e.document,a="localStorage";if(i.disabled=!1,i.version="1.3.20",i.set=function(t,e){},i.get=function(t,e){},i.has=function(t){return void 0!==i.get(t)},i.remove=function(t){},i.clear=function(){},i.transact=function(t,e,n){null==n&&(n=e,e=null);e=i.get(t,e=null==e?{}:e);n(e),i.set(t,e)},i.getAll=function(){var n={};return i.forEach(function(t,e){n[t]=e}),n},i.forEach=function(){},i.serialize=function(t){return l.stringify(t)},i.deserialize=function(e){if("string"==typeof e)try{return l.parse(e)}catch(t){return e||void 0}},function(){try{return a in e&&e[a]}catch(t){return}}())o=e[a],i.set=function(t,e){return void 0===e?i.remove(t):(o.setItem(t,i.serialize(e)),e)},i.get=function(t,e){t=i.deserialize(o.getItem(t));return void 0===t?e:t},i.remove=function(t){o.removeItem(t)},i.clear=function(){o.clear()},i.forEach=function(t){for(var e=0;e<o.length;e++){var n=o.key(e);t(n,i.get(n))}};else if(r&&r.documentElement.addBehavior){try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),n=t.w.frames[0].document,o=n.createElement("div")}catch(t){o=r.createElement("div"),n=r.body}var r=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(o),n.appendChild(o),o.addBehavior("#default#userData"),o.load(a);t=e.apply(i,t);return n.removeChild(o),t}},s=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c=function(t){return t.replace(/^d/,"___$&").replace(s,"___")};i.set=r(function(t,e,n){return e=c(e),void 0===n?i.remove(e):(t.setAttribute(e,i.serialize(n)),t.save(a),n)}),i.get=r(function(t,e,n){e=c(e);e=i.deserialize(t.getAttribute(e));return void 0===e?n:e}),i.remove=r(function(t,e){e=c(e),t.removeAttribute(e),t.save(a)}),i.clear=r(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(a);for(var n=e.length-1;0<=n;n--)t.removeAttribute(e[n].name);t.save(a)}),i.forEach=r(function(t,e){for(var n,o=t.XMLDocument.documentElement.attributes,r=0;n=o[r];++r)e(n.name,i.deserialize(t.getAttribute(n.name)))})}try{var u="__storejs__";i.set(u,u),i.get(u)!=u&&(i.disabled=!0),i.remove(u)}catch(t){i.disabled=!0}return i.enabled=!i.disabled,i}()}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{json3:87}],59:[function(t,e,s){"use strict";var r=t("component-url").parse,t=t("component-cookie");function n(t){for(var e=s.cookie,n=s.levels(t),o=0;o<n.length;++o){var r="__tld__",i=n[o],a={domain:"."+i};if(e(r,1,a),e(r))return e(r,null,a),i}return""}n.levels=function(t){var e=r(t).hostname.split("."),t=e[e.length-1],n=[];if(4===e.length&&t===parseInt(t,10))return n;if(e.length<=1)return n;for(var o=e.length-2;0<=o;--o)n.push(e.slice(o).join("."));return n},n.cookie=t,s=e.exports=n},{"component-cookie":65,"component-url":77}],60:[function(t,e,n){"use strict";var o=t("@ndhoule/foldl"),i=t("component-querystring").parse,a=Object.prototype.hasOwnProperty;function r(t){var e;t=(t="?"===t.charAt(0)?t.substring(1):t).replace(/\?/g,"&");var n,o=i(t),r={};for(n in o)a.call(o,n)&&"utm_"===n.substr(0,4)&&(r[e="campaign"===(e=n.substr(4))?"name":e]=o[n]);return r}var s={name:!0,term:!0,source:!0,medium:!0,content:!0};e.exports=r,e.exports.strict=function(t){return o(function(t,e,n){return a.call(s,n)&&(t[n]=e),t},{},r(t))}},{"@ndhoule/foldl":11,"component-querystring":74}],61:[function(t,e,n){"use strict";var o=t("@ndhoule/map"),t=t("@ndhoule/foldl");e.exports=t(function(t,e,n){e=o(function(t){return o(function(t){return"^[ _]?"+[].concat.apply([],o(function(t){return t.split(" ")},t)).join("[ _]?")+"[ _]?"},[[t.action,t.object],[t.object,t.action]]).join("|")},e).join("|")+"$";return t[n]=new RegExp(e,"i"),t},{},{videoPlaybackStarted:[{object:"video playback",action:"started"}],videoPlaybackPaused:[{object:"video playback",action:"paused"}],videoPlaybackInterrupted:[{object:"video playback",action:"interrupted"}],videoPlaybackResumed:[{object:"video playback",action:"resumed"}],videoPlaybackCompleted:[{object:"video playback",action:"completed"}],videoPlaybackBufferStarted:[{object:"video playback buffer",action:"started"}],videoPlaybackBufferCompleted:[{object:"video playback buffer",action:"completed"}],videoPlaybackSeekStarted:[{object:"video playback seek",action:"started"}],videoPlaybackSeekCompleted:[{object:"video playback seek",action:"completed"}],videoContentStarted:[{object:"video content",action:"started"}],videoContentPlaying:[{object:"video content",action:"playing"}],videoContentCompleted:[{object:"video content",action:"completed"}],videoAdStarted:[{object:"video ad",action:"started"}],videoAdPlaying:[{object:"video ad",action:"playing"}],videoAdCompleted:[{object:"video ad",action:"completed"}],promotionViewed:[{object:"promotion",action:"viewed"}],promotionClicked:[{object:"promotion",action:"clicked"}],productsSearched:[{object:"products",action:"searched"}],productListViewed:[{object:"product list",action:"viewed"},{object:"product category",action:"viewed"}],productListFiltered:[{object:"product list",action:"filtered"}],productClicked:[{object:"product",action:"clicked"}],productViewed:[{object:"product",action:"viewed"}],productAdded:[{object:"product",action:"added"}],productRemoved:[{object:"product",action:"removed"}],cartViewed:[{object:"cart",action:"viewed"}],orderUpdated:[{object:"order",action:"updated"}],orderCompleted:[{object:"order",action:"completed"}],orderRefunded:[{object:"order",action:"refunded"}],orderCancelled:[{object:"order",action:"cancelled"}],paymentInfoEntered:[{object:"payment info",action:"entered"}],checkoutStarted:[{object:"checkout",action:"started"}],checkoutStepViewed:[{object:"checkout step",action:"viewed"}],checkoutStepCompleted:[{object:"checkout step",action:"completed"}],couponEntered:[{object:"coupon",action:"entered"}],couponApplied:[{object:"coupon",action:"applied"}],couponDenied:[{object:"coupon",action:"denied"}],couponRemoved:[{object:"coupon",action:"removed"}],productAddedToWishlist:[{object:"product",action:"added to wishlist"}],productRemovedFromWishlist:[{object:"product",action:"removed from wishlist"}],productAddedFromWishlistToCart:[{object:"product",action:"added to cart from wishlist"},{object:"product",action:"added from wishlist to cart"}],productShared:[{object:"product",action:"shared"}],cartShared:[{object:"cart",action:"shared"}],productReviewed:[{object:"product",action:"reviewed"}],applicationInstalled:[{object:"application",action:"installed"}],applicationUpdated:[{object:"application",action:"updated"}],applicationOpened:[{object:"application",action:"opened"}],applicationBackgrounded:[{object:"application",action:"backgrounded"}],applicationUninstalled:[{object:"application",action:"uninstalled"}],applicationCrashed:[{object:"application",action:"crashed"}],installAttributed:[{object:"install",action:"attributed"}],deepLinkOpened:[{object:"deep link",action:"opened"}],pushNotificationReceived:[{object:"push notification",action:"received"}],pushNotificationTapped:[{object:"push notification",action:"tapped"}],pushNotificationBounced:[{object:"push notification",action:"bounced"}],emailBounced:[{object:"email",action:"bounced"}],emailDelivered:[{object:"email",action:"delivered"}],emailLinkClicked:[{object:"email link",action:"clicked"}],emailMarkedAsSpam:[{object:"email",action:"marked as spam"}],emailOpened:[{object:"email",action:"opened"}],unsubscribed:[{object:"",action:"unsubscribed"}]})},{"@ndhoule/foldl":11,"@ndhoule/map":14}],62:[function(t,e,n){"use strict";var o=t("component-bind");e.exports=function(t){for(var e in t)"function"==typeof t[e]&&(t[e]=o(t,t[e]));return t}},{"component-bind":63}],63:[function(t,e,n){var o=[].slice;e.exports=function(t,e){if("function"!=typeof(e="string"==typeof e?t[e]:e))throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return e.apply(t,n.concat(o.call(arguments)))}}},{}],64:[function(e,t,n){var s;try{s=e("component-type")}catch(t){s=e("type")}t.exports=function t(e){switch(s(e)){case"object":var n,o={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=t(e[n]));return o;case"array":for(var o=new Array(e.length),r=0,i=e.length;r<i;r++)o[r]=t(e[r]);return o;case"regexp":var a="";return a+=e.multiline?"m":"",a+=e.global?"g":"",a+=e.ignoreCase?"i":"",new RegExp(e.source,a);case"date":return new Date(e.getTime());default:return e}}},{"component-type":76,type:76}],65:[function(t,e,n){var o=t("debug")("cookie");function r(){var t;try{t=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return function(t){var e,n={},o=t.split(/ *; */);if(""==o[0])return n;for(var r=0;r<o.length;++r)e=o[r].split("="),n[a(e[0])]=a(e[1]);return n}(t)}function i(e){try{return encodeURIComponent(e)}catch(t){o("error `encode(%o)` - %o",e,t)}}function a(e){try{return decodeURIComponent(e)}catch(t){o("error `decode(%o)` - %o",e,t)}}e.exports=function(t,e,n){switch(arguments.length){case 3:case 2:return function(t,e,n){n=n||{};t=i(t)+"="+i(e);null==e&&(n.maxage=-1);n.maxage&&(n.expires=new Date(+new Date+n.maxage));n.path&&(t+="; path="+n.path);n.domain&&(t+="; domain="+n.domain);n.expires&&(t+="; expires="+n.expires.toUTCString());n.secure&&(t+="; secure");document.cookie=t}(t,e,n);case 1:return o=t,r()[o];default:return r()}var o}},{debug:66}],66:[function(t,e,r){function n(){var t;try{t=r.storage.debug}catch(t){}return t}(r=e.exports=t("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+r.humanize(this.diff),!e)return t;e="color: "+this.color;t=[t[0],e,"color: inherit"].concat(Array.prototype.slice.call(t,1));var n=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(o=n))}),t.splice(o,0,e),t},r.save=function(t){try{null==t?r.storage.removeItem("debug"):r.storage.debug=t}catch(t){}},r.load=n,r.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(t){return JSON.stringify(t)},r.enable(n())},{"./debug":67}],67:[function(t,e,a){(a=e.exports=function(t){function e(){}function n(){var o=n,t=+new Date,e=t-(s||t);o.diff=e,o.prev=s,o.curr=t,s=t,null==o.useColors&&(o.useColors=a.useColors()),null==o.color&&o.useColors&&(o.color=a.colors[c++%a.colors.length]);var r=Array.prototype.slice.call(arguments);r[0]=a.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var i=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,e){if("%%"===t)return t;i++;var n=a.formatters[e];return"function"==typeof n&&(e=r[i],t=n.call(o,e),r.splice(i,1),i--),t}),"function"==typeof a.formatArgs&&(r=a.formatArgs.apply(o,r)),(n.log||a.log||console.log.bind(console)).apply(o,r)}e.enabled=!1,n.enabled=!0;var o=a.enabled(t)?n:e;return o.namespace=t,o}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t);for(var e=(t||"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)e[o]&&("-"===(t=e[o].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){var e,n;for(e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=t("ms"),a.names=[],a.skips=[],a.formatters={};var s,c=0},{ms:68}],68:[function(t,e,n){var o=36e5,r=864e5;function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}e.exports=function(t,e){return e=e||{},"string"==typeof t?function(t){if(!(1e4<(t=""+t).length)){t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(t){var e=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*e;case"days":case"day":case"d":return e*r;case"hours":case"hour":case"hrs":case"hr":case"h":return e*o;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e}}}}(t):e.long?i(e=t,r,"day")||i(e,o,"hour")||i(e,6e4,"minute")||i(e,1e3,"second")||e+" ms":r<=(t=t)?Math.round(t/r)+"d":o<=t?Math.round(t/o)+"h":6e4<=t?Math.round(t/6e4)+"m":1e3<=t?Math.round(t/1e3)+"s":t+"ms"}},{}],69:[function(e,t,n){try{var o=e("type")}catch(t){o=e("component-type")}var r=e("to-function"),i=Object.prototype.hasOwnProperty;function a(t,e,n){for(var o=0;o<t.length;++o)e.call(n,t[o],o)}t.exports=function(t,e,n){switch(e=r(e),n=n||this,o(t)){case"array":return a(t,e,n);case"object":return"number"==typeof t.length?a(t,e,n):function(t,e,n){for(var o in t)i.call(t,o)&&e.call(n,o,t[o])}(t,e,n);case"string":return function(t,e,n){for(var o=0;o<t.length;++o)e.call(n,t.charAt(o),o)}(t,e,n)}}},{"component-type":70,"to-function":116,type:70}],70:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){switch(o.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t}},{}],71:[function(t,e,n){function o(t){if(t)return function(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}(t)}void 0!==e&&(e.exports=o),o.prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<o.length;r++)if((n=o[r])===e||n.fn===e){o.splice(r,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(n)for(var o=0,r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,e);return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],72:[function(t,e,n){var r=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",a="addEventListener"!=r?"on":"";n.bind=function(t,e,n,o){return t[r](a+e,n,o||!1),n},n.unbind=function(t,e,n,o){return t[i](a+e,n,o||!1),n}},{}],73:[function(t,e,n){var a=/\b(Array|Date|Object|Math|JSON)\b/g;e.exports=function(t,e){var n,o,r,i=function(t){for(var e=[],n=0;n<t.length;n++)~e.indexOf(t[n])||e.push(t[n]);return e}(t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(a,"").match(/[a-zA-Z_]\w*/g)||[]);return e&&"string"==typeof e&&(n=e,e=function(t){return n+t}),e?(o=i,r=e,t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g,function(t){return"("==t[t.length-1]||~o.indexOf(t)?r(t):t})):i}},{}],74:[function(t,e,n){function i(e){try{return encodeURIComponent(e)}catch(t){return e}}function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}var s=t("trim"),c=t("type"),u=/(\w+)\[(\d+)\]/;n.parse=function(t){if("string"!=typeof t)return{};if(""==(t=s(t)))return{};for(var e={},n=(t="?"==t.charAt(0)?t.slice(1):t).split("&"),o=0;o<n.length;o++){var r=n[o].split("="),i=a(r[0]);(i=u.exec(i))?(e[i[1]]=e[i[1]]||[],e[i[1]][i[2]]=a(r[1])):e[r[0]]=null==r[1]?"":a(r[1])}return e},n.stringify=function(t){if(!t)return"";var e,n=[];for(e in t){var o=t[e];if("array"!=c(o))n.push(i(e)+"="+i(t[e]));else for(var r=0;r<o.length;++r)n.push(i(e+"["+r+"]")+"="+i(o[r]))}return n.join("&")}},{trim:118,type:75}],75:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){switch(o.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!=t?"nan":t&&1===t.nodeType?"element":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t))}},{}],76:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){switch(o.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!=t?"nan":t&&1===t.nodeType?"element":null!=(e=t)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))?"buffer":typeof(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t));var e}},{}],77:[function(t,e,n){n.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?function(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:(e.protocol&&":"!=e.protocol?e:location).protocol,search:e.search,query:e.search.slice(1)}},n.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},n.isRelative=function(t){return!n.isAbsolute(t)},n.isCrossDomain=function(t){t=n.parse(t);var e=n.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol}},{}],78:[function(n,o,r){!function(e){function t(){var t;try{t=r.storage.debug}catch(t){}return t=!t&&void 0!==e&&"env"in e?e.env.DEBUG:t}(r=o.exports=n("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(t){var e,n,o=this.useColors;t[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+t[0]+(o?"%c ":" ")+"+"+r.humanize(this.diff),o&&(o="color: "+this.color,t.splice(1,0,o,"color: inherit"),t[n=e=0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(e++,"%c"===t&&(n=e))}),t.splice(n,0,o))},r.save=function(t){try{null==t?r.storage.removeItem("debug"):r.storage.debug=t}catch(t){}},r.load=t,r.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},r.enable(t())}.call(this,n("_process"))},{"./debug":79,_process:98}],79:[function(t,e,s){var c;function n(t){function a(){if(a.enabled){var o=a,t=+new Date,e=t-(c||t);o.diff=e,o.prev=c,o.curr=t,c=t;for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];r[0]=s.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var i=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(t,e){if("%%"===t)return t;i++;var n=s.formatters[e];return"function"==typeof n&&(e=r[i],t=n.call(o,e),r.splice(i,1),i--),t}),s.formatArgs.call(o,r),(a.log||s.log||console.log.bind(console)).apply(o,r)}}return a.namespace=t,a.enabled=s.enabled(t),a.useColors=s.useColors(),a.color=function(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return s.colors[Math.abs(n)%s.colors.length]}(t),"function"==typeof s.init&&s.init(a),a}(s=e.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},s.disable=function(){s.enable("")},s.enable=function(t){s.save(t),s.names=[],s.skips=[];for(var e=("string"==typeof t?t:"").split(/[\s,]+/),n=e.length,o=0;o<n;o++)e[o]&&("-"===(t=e[o].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+t.substr(1)+"$")):s.names.push(new RegExp("^"+t+"$")))},s.enabled=function(t){var e,n;for(e=0,n=s.skips.length;e<n;e++)if(s.skips[e].test(t))return!1;for(e=0,n=s.names.length;e<n;e++)if(s.names[e].test(t))return!0;return!1},s.humanize=t("ms"),s.names=[],s.skips=[],s.formatters={}},{ms:90}],80:[function(t,e,n){var o=!(e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("String expected");e=e||document;var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o)return(r=e.createElement("html")).innerHTML=t,r.removeChild(r.lastChild);var r,n=s[o]||s._default,i=n[0],o=n[1],n=n[2];(r=e.createElement("div")).innerHTML=o+t+n;for(;i--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);var a=e.createDocumentFragment();for(;r.firstChild;)a.appendChild(r.removeChild(r.firstChild));return a});"undefined"!=typeof document&&((e=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!e.getElementsByTagName("link").length,e=void 0);var s={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};s.td=s.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],s.option=s.optgroup=[1,'<select multiple="multiple">',"</select>"],s.thead=s.tbody=s.colgroup=s.caption=s.tfoot=[1,"<table>","</table>"],s.polyline=s.ellipse=s.polygon=s.circle=s.text=s.line=s.path=s.rect=s.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],81:[function(t,e,n){"use strict";function p(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)}function l(t){if(t&&"[object Object]"===i.call(t)){var e,n=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(!t.constructor||n||o){for(e in t);return void 0===e||r.call(t,e)}}}function d(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue}function f(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(a)return a(t,e).value}return t[e]}var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor;e.exports=function t(){var e,n,o,r,i,a=arguments[0],s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},s=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});s<c;++s)if(null!=(e=arguments[s]))for(n in e)i=f(a,n),a!==(o=f(e,n))&&(u&&o&&(l(o)||(r=p(o)))?(i=r?(r=!1,i&&p(i)?i:[]):i&&l(i)?i:{},d(a,{name:n,newValue:t(u,i,o)})):void 0!==o&&d(a,{name:n,newValue:o}));return a}},{}],82:[function(t,e,n){var r=t("debug");e.exports=function(e,n){var o=r("global-queue:"+e);return n=n||{},function(t){t=[].slice.call(arguments),window[e]||(window[e]=[]),o("%o",t),!1===n.wrap?window[e].push.apply(window[e],t):window[e].push(t)}}},{debug:78}],83:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],84:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){var n;e&&(t.super_=e,(n=function(){}).prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t)}},{}],85:[function(t,e,n){e.exports=function(t){return/.+\@.+\..+/.test(t)}},{}],86:[function(t,e,n){"use strict";var o,r,i=Object.prototype,a=i.hasOwnProperty,s=i.toString;"function"==typeof Symbol&&(o=Symbol.prototype.valueOf),"function"==typeof BigInt&&(r=BigInt.prototype.valueOf);function c(t){return t!=t}var u={boolean:1,number:1,string:1,undefined:1},p=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,l=/^[A-Fa-f0-9]+$/,d={};d.a=d.type=function(t,e){return typeof t===e},d.defined=function(t){return void 0!==t},d.empty=function(t){var e,n=s.call(t);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===t.length;if("[object Object]"!==n)return!t;for(e in t)if(a.call(t,e))return!1;return!0},d.equal=function(t,e){if(t===e)return!0;var n,o=s.call(t);if(o!==s.call(e))return!1;if("[object Object]"===o){for(n in t)if(!(d.equal(t[n],e[n])&&n in e))return!1;for(n in e)if(!(d.equal(t[n],e[n])&&n in t))return!1;return!0}if("[object Array]"!==o)return"[object Function]"===o?t.prototype===e.prototype:"[object Date]"===o&&t.getTime()===e.getTime();if((n=t.length)!==e.length)return!1;for(;n--;)if(!d.equal(t[n],e[n]))return!1;return!0},d.hosted=function(t,e){var n=typeof e[t];return"object"==n?!!e[t]:!u[n]},d.instance=d.instanceof=function(t,e){return t instanceof e},d.nil=d.null=function(t){return null===t},d.undef=d.undefined=function(t){return void 0===t},d.args=d.arguments=function(t){var e="[object Arguments]"===s.call(t),t=!d.array(t)&&d.arraylike(t)&&d.object(t)&&d.fn(t.callee);return e||t},d.array=Array.isArray||function(t){return"[object Array]"===s.call(t)},d.args.empty=function(t){return d.args(t)&&0===t.length},d.array.empty=function(t){return d.array(t)&&0===t.length},d.arraylike=function(t){return!!t&&!d.bool(t)&&a.call(t,"length")&&isFinite(t.length)&&d.number(t.length)&&0<=t.length},d.bool=d.boolean=function(t){return"[object Boolean]"===s.call(t)},d.false=function(t){return d.bool(t)&&!1===Boolean(Number(t))},d.true=function(t){return d.bool(t)&&!0===Boolean(Number(t))},d.date=function(t){return"[object Date]"===s.call(t)},d.date.valid=function(t){return d.date(t)&&!isNaN(Number(t))},d.element=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},d.error=function(t){return"[object Error]"===s.call(t)},d.fn=d.function=function(t){if("undefined"!=typeof window&&t===window.alert)return!0;t=s.call(t);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},d.number=function(t){return"[object Number]"===s.call(t)},d.infinite=function(t){return t===1/0||t===-1/0},d.decimal=function(t){return d.number(t)&&!c(t)&&!d.infinite(t)&&t%1!=0},d.divisibleBy=function(t,e){var n=d.infinite(t),o=d.infinite(e),r=d.number(t)&&!c(t)&&d.number(e)&&!c(e)&&0!==e;return n||o||r&&t%e==0},d.integer=d.int=function(t){return d.number(t)&&!c(t)&&t%1==0},d.maximum=function(t,e){if(c(t))throw new TypeError("NaN is not a valid value");if(!d.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;0<=--n;)if(t<e[n])return!1;return!0},d.minimum=function(t,e){if(c(t))throw new TypeError("NaN is not a valid value");if(!d.arraylike(e))throw new TypeError("second argument must be array-like");for(var n=e.length;0<=--n;)if(t>e[n])return!1;return!0},d.nan=function(t){return!d.number(t)||t!=t},d.even=function(t){return d.infinite(t)||d.number(t)&&t==t&&t%2==0},d.odd=function(t){return d.infinite(t)||d.number(t)&&t==t&&t%2!=0},d.ge=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&e<=t},d.gt=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&e<t},d.le=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&t<=e},d.lt=function(t,e){if(c(t)||c(e))throw new TypeError("NaN is not a valid value");return!d.infinite(t)&&!d.infinite(e)&&t<e},d.within=function(t,e,n){if(c(t)||c(e)||c(n))throw new TypeError("NaN is not a valid value");if(!d.number(t)||!d.number(e)||!d.number(n))throw new TypeError("all arguments must be numbers");return d.infinite(t)||d.infinite(e)||d.infinite(n)||e<=t&&t<=n},d.object=function(t){return"[object Object]"===s.call(t)},d.primitive=function(t){return!t||!("object"==typeof t||d.object(t)||d.fn(t)||d.array(t))},d.hash=function(t){return d.object(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},d.regexp=function(t){return"[object RegExp]"===s.call(t)},d.string=function(t){return"[object String]"===s.call(t)},d.base64=function(t){return d.string(t)&&(!t.length||p.test(t))},d.hex=function(t){return d.string(t)&&(!t.length||l.test(t))},d.symbol=function(t){return"function"==typeof Symbol&&"[object Symbol]"===s.call(t)&&"symbol"==typeof o.call(t)},d.bigint=function(t){return"function"==typeof BigInt&&"[object BigInt]"===s.call(t)&&"bigint"==typeof r.call(t)},e.exports=d},{}],87:[function(t,s,c){!function(a){!function(){var t,e,n,o,F={function:!0,object:!0},r=F[typeof c]&&c&&!c.nodeType&&c,B=F[typeof window]&&window||this,i=r&&F[typeof s]&&s&&!s.nodeType&&"object"==typeof a&&a;function V(t,c){t=t||B.Object(),c=c||B.Object();var u=t.Number||B.Number,p=t.String||B.String,e=t.Object||B.Object,y=t.Date||B.Date,n=t.SyntaxError||B.SyntaxError,m=t.TypeError||B.TypeError,f=t.Math||B.Math,t=t.JSON||B.JSON;"object"==typeof t&&t&&(c.stringify=t.stringify,c.parse=t.parse);var g,e=e.prototype,v=e.toString,s=e.hasOwnProperty;function b(t,e){try{t()}catch(t){e&&e()}}var l,w,_,k,d,x,o,r,h,j,i,a,I,A,C,E,S,T,O,N,M,R,D,L,U,z=new y(-0xc782b5b800cec);function P(t){return null!=P[t]?P[t]:("bug-string-char-index"==t?e="a"!="a"[0]:"json"==t?e=P("json-stringify")&&P("date-serialization")&&P("json-parse"):"date-serialization"==t?(e=P("json-stringify")&&z)&&(r=c.stringify,b(function(){e='"-271821-04-20T00:00:00.000Z"'==r(new y(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new y(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new y(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new y(-1))})):(o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',"json-stringify"==t&&((i="function"==typeof(r=c.stringify))&&((n=function(){return 1}).toJSON=n,b(function(){i="0"===r(0)&&"0"===r(new u)&&'""'==r(new p)&&r(v)===g&&r(g)===g&&r()===g&&"1"===r(n)&&"[1]"==r([n])&&"[null]"==r([g])&&"null"==r(null)&&"[null,null,null]"==r([g,v,null])&&r({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===r(null,n)&&"[\n 1,\n 2\n]"==r([1,2],null,1)},function(){i=!1})),e=i),"json-parse"==t&&("function"==typeof(a=c.parse)&&b(function(){0!==a("0")||a(!1)||(n=a(o),(s=5==n.a.length&&1===n.a[0])&&(b(function(){s=!a('"\t"')}),s&&b(function(){s=1!==a("01")}),s&&b(function(){s=1!==a("1.")})))},function(){s=!1}),e=s)),P[t]=!!e);var e,n,o,r,i,a,s}function q(t){return j(this)}return b(function(){z=-109252==z.getUTCFullYear()&&0===z.getUTCMonth()&&1===z.getUTCDate()&&10==z.getUTCHours()&&37==z.getUTCMinutes()&&6==z.getUTCSeconds()&&708==z.getUTCMilliseconds()}),P["bug-string-char-index"]=P["date-serialization"]=P.json=P["json-stringify"]=P["json-parse"]=null,P("json")||(l="[object Function]",w="[object Number]",_="[object String]",k="[object Array]",d=P("bug-string-char-index"),x=function(t,e){var n,a,o,r=0;for(o in(n=function(){this.valueOf=0}).prototype.valueOf=0,a=new n)s.call(a,o)&&r++;return a=null,(x=r?function(t,e){var n,o,r=v.call(t)==l;for(n in t)r&&"prototype"==n||!s.call(t,n)||(o="constructor"===n)||e(n);(o||s.call(t,n="constructor"))&&e(n)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(t,e){var n,o,r=v.call(t)==l,i=!r&&"function"!=typeof t.constructor&&F[typeof t.hasOwnProperty]&&t.hasOwnProperty||s;for(n in t)r&&"prototype"==n||!i.call(t,n)||e(n);for(o=a.length;n=a[--o];)i.call(t,n)&&e(n)}))(t,e)},P("json-stringify")||P("date-serialization")||(o={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},r="000000",h=function(t,e){return(r+(e||0)).slice(-t)},j=function(t){var e,n,o,r,i,a,s,c,u,p,l,d;return d=z?function(t){e=t.getUTCFullYear(),n=t.getUTCMonth(),o=t.getUTCDate(),i=t.getUTCHours(),a=t.getUTCMinutes(),s=t.getUTCSeconds(),c=t.getUTCMilliseconds()}:(u=f.floor,p=[0,31,59,90,120,151,181,212,243,273,304,334],l=function(t,e){return p[e]+365*(t-1970)+u((t-1969+(e=+(1<e)))/4)-u((t-1901+e)/100)+u((t-1601+e)/400)},function(t){for(o=u(t/864e5),e=u(o/365.2425)+1970-1;l(e+1,0)<=o;e++);for(n=u((o-l(e,0))/30.42);l(e,n+1)<=o;n++);o=1+o-l(e,n),i=u((r=(t%864e5+864e5)%864e5)/36e5)%24,a=u(r/6e4)%60,s=u(r/1e3)%60,c=r%1e3}),(j=function(t){return-1/0<t&&t<1/0?(d(t),t=(e<=0||1e4<=e?(e<0?"-":"+")+h(6,e<0?-e:e):h(4,e))+"-"+h(2,n+1)+"-"+h(2,o)+"T"+h(2,i)+":"+h(2,a)+":"+h(2,s)+"."+h(3,c)+"Z",e=n=o=i=a=s=c=null):t=null,t})(t)},P("json-stringify")&&!P("date-serialization")?(i=c.stringify,c.stringify=function(t,e,n){var o=y.prototype.toJSON;y.prototype.toJSON=q;n=i(t,e,n);return y.prototype.toJSON=o,n}):(a="\\u00",I=function(t){var e=t.charCodeAt(0),t=o[e];return t||a+h(2,e.toString(16))},A=/[\x00-\x1f\x22\x5c]/g,C=function(t){return A.lastIndex=0,'"'+(A.test(t)?t.replace(A,I):t)+'"'},E=function(t,e,n,o,r,i,a){var s,c,u,p,l,d,f,h;if(b(function(){s=e[t]}),"object"==typeof s&&s&&(s.getUTCFullYear&&"[object Date]"==v.call(s)&&s.toJSON===y.prototype.toJSON?s=j(s):"function"==typeof s.toJSON&&(s=s.toJSON(t))),(s=n?n.call(e,t,s):s)==g)return s===g?s:"null";switch((c="object"==(f=typeof s)?v.call(s):c)||f){case"boolean":case"[object Boolean]":return""+s;case"number":case w:return-1/0<s&&s<1/0?""+s:"null";case"string":case _:return C(""+s)}if("object"==typeof s){for(d=a.length;d--;)if(a[d]===s)throw m();if(a.push(s),u=[],f=i,i+=r,c==k){for(l=0,d=s.length;l<d;l++)p=E(l,s,n,o,r,i,a),u.push(p===g?"null":p);h=u.length?r?"[\n"+i+u.join(",\n"+i)+"\n"+f+"]":"["+u.join(",")+"]":"[]"}else x(o||s,function(t){var e=E(t,s,n,o,r,i,a);e!==g&&u.push(C(t)+":"+(r?" ":"")+e)}),h=u.length?r?"{\n"+i+u.join(",\n"+i)+"\n"+f+"}":"{"+u.join(",")+"}":"{}";return a.pop(),h}},c.stringify=function(t,e,n){var o,r,i;if(F[typeof e]&&e)if((i=v.call(e))==l)r=e;else if(i==k)for(var a,s={},c=0,u=e.length;c<u;)a=e[c++],"[object String]"!=(i=v.call(a))&&"[object Number]"!=i||(s[a]=1);if(n)if((i=v.call(n))==w){if(0<(n-=n%1))for(10<n&&(n=10),o="";o.length<n;)o+=" "}else i==_&&(o=n.length<=10?n:n.slice(0,10));return E("",((a={})[""]=t,a),r,s,o,"",[])})),P("json-parse")||(S=p.fromCharCode,T={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},M=function(){throw O=N=null,n()},R=function(){for(var t,e,n,o,r,i=N,a=i.length;O<a;)switch(r=i.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=d?i.charAt(O):i[O],O++,t;case 34:for(t="@",O++;O<a;)if((r=i.charCodeAt(O))<32)M();else if(92==r)switch(r=i.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=T[r],O++;break;case 117:for(e=++O,n=O+4;O<n;O++)48<=(r=i.charCodeAt(O))&&r<=57||97<=r&&r<=102||65<=r&&r<=70||M();t+=S("0x"+i.slice(e,O));break;default:M()}else{if(34==r)break;for(r=i.charCodeAt(O),e=O;32<=r&&92!=r&&34!=r;)r=i.charCodeAt(++O);t+=i.slice(e,O)}if(34==i.charCodeAt(O))return O++,t;M();default:if(e=O,45==r&&(o=!0,r=i.charCodeAt(++O)),48<=r&&r<=57){for(48==r&&(48<=(r=i.charCodeAt(O+1))&&r<=57)&&M(),o=!1;O<a&&(48<=(r=i.charCodeAt(O))&&r<=57);O++);if(46==i.charCodeAt(O)){for(n=++O;n<a&&!((r=i.charCodeAt(n))<48||57<r);n++);n==O&&M(),O=n}if(101==(r=i.charCodeAt(O))||69==r){for(43!=(r=i.charCodeAt(++O))&&45!=r||O++,n=O;n<a&&!((r=i.charCodeAt(n))<48||57<r);n++);n==O&&M(),O=n}return+i.slice(e,O)}o&&M();var s=i.slice(O,O+4);if("true"==s)return O+=4,!0;if("fals"==s&&101==i.charCodeAt(O+4))return O+=5,!1;if("null"==s)return O+=4,null;M()}return"$"},D=function(t){var e,n;if("$"==t&&M(),"string"==typeof t){if("@"==(d?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=R());)n?","==t&&"]"!=(t=R())||M():n=!0,","==t&&M(),e.push(D(t));return e}if("{"==t){for(e={};"}"!=(t=R());)n?","==t&&"}"!=(t=R())||M():n=!0,","!=t&&"string"==typeof t&&"@"==(d?t.charAt(0):t[0])&&":"==R()||M(),e[t.slice(1)]=D(R());return e}M()}return t},L=function(t,e,n){n=U(t,e,n);n===g?delete t[e]:t[e]=n},U=function(t,e,n){var o,r=t[e];if("object"==typeof r&&r)if(v.call(r)==k)for(o=r.length;o--;)L(v,x,r);else x(r,function(t){L(r,t,n)});return n.call(t,e,r)},c.parse=function(t,e){var n;return O=0,N=""+t,n=D(R()),"$"!=R()&&M(),O=N=null,e&&v.call(e)==l?U(((t={})[""]=n,t),"",e):n})),c.runInContext=V,c}!i||i.global!==i&&i.window!==i&&i.self!==i||(B=i),r?V(B,r):(t=B.JSON,e=B.JSON3,n=!1,o=V(B,B.JSON3={noConflict:function(){return n||(n=!0,B.JSON=t,B.JSON3=e,t=e=null),o}}),B.JSON={parse:o.parse,stringify:o.stringify})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],88:[function(t,e,n){var p=t("debug")("jsonp");e.exports=function(t,e,n){"function"==typeof e&&(n=e,e={});e=e||{};var o,r,i=e.prefix||"__jp",a=e.name||i+l++,s=e.param||"callback",c=null!=e.timeout?e.timeout:6e4,i=encodeURIComponent,e=document.getElementsByTagName("script")[0]||document.head;c&&(r=setTimeout(function(){u(),n&&n(new Error("Timeout"))},c));function u(){o.parentNode&&o.parentNode.removeChild(o),window[a]=d,r&&clearTimeout(r)}return window[a]=function(t){p("jsonp got",t),u(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+s+"="+i(a)).replace("?&","?"),p('jsonp req "%s"',t),(o=document.createElement("script")).src=t,e.parentNode.insertBefore(o,e),function(){window[a]&&u()}};var l=0;function d(){}},{debug:78}],89:[function(t,e,n){var r=t("is"),i=t("script-onload"),a=t("next-tick");e.exports=function(t,e){if(!t)throw new Error("Cant load nothing...");r.string(t)&&(t={src:t});var n="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=n?"https:"+t.src:"http:"+t.src),n&&t.https?t.src=t.https:!n&&t.http&&(t.src=t.http);var o=document.createElement("iframe");return o.src=t.src,o.width=t.width||1,o.height=t.height||1,o.style.display="none",r.fn(e)&&i(o,e),a(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(o,t)}),o}},{is:86,"next-tick":95,"script-onload":100}],90:[function(t,e,n){var o=36e5,r=864e5;function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}e.exports=function(t,e){e=e||{};var n=typeof t;if("string"==n&&0<t.length)return function(t){if(!(100<(t=String(t)).length)){t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(t){var e=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*e;case"days":case"day":case"d":return e*r;case"hours":case"hour":case"hrs":case"hr":case"h":return e*o;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}(t);if("number"==n&&!1===isNaN(t))return e.long?i(e=t,r,"day")||i(e,o,"hour")||i(e,6e4,"minute")||i(e,1e3,"second")||e+" ms":function(t){if(r<=t)return Math.round(t/r)+"d";if(o<=t)return Math.round(t/o)+"h";if(6e4<=t)return Math.round(t/6e4)+"m";if(1e3<=t)return Math.round(t/1e3)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],91:[function(t,e,n){"use strict";var o=t("is"),r=t("@segment/isodate"),i=t("./milliseconds"),a=t("./seconds");e.exports=function(t){return o.date(t)?t:o.number(t)?new Date((e=t)<315576e5?1e3*e:e):r.is(t)?r.parse(t):i.is(t)?i.parse(t):a.is(t)?a.parse(t):new Date(t);var e}},{"./milliseconds":92,"./seconds":93,"@segment/isodate":94,is:86}],92:[function(t,e,n){"use strict";var o=/\d{13}/;n.is=function(t){return o.test(t)},n.parse=function(t){return t=parseInt(t,10),new Date(t)}},{}],93:[function(t,e,n){"use strict";var o=/\d{10}/;n.is=function(t){return o.test(t)},n.parse=function(t){t=1e3*parseInt(t,10);return new Date(t)}},{}],94:[function(t,e,n){"use strict";var a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(t){var e=[1,5,6,7,11,12],n=a.exec(t),o=0;if(!n)return new Date(t);for(var r,i=0;r=e[i];i++)n[r]=parseInt(n[r],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "===n[4]?o=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(o=60*n[11]+n[12],"+"===n[10]&&(o=0-o));o=Date.UTC(n[1],n[2],n[3],n[5],n[6]+o,n[7],n[8]);return new Date(o)},n.is=function(t,e){return(!e||!1!==/^\d{4}-\d{2}-\d{2}/.test(t))&&a.test(t)}},{}],95:[function(t,o,e){!function(t,e){"use strict";var r=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t},n=function(t){var e,n=document.createTextNode(""),o=0;return new t(function(){var t;e&&(t=e,e=null,"function"!=typeof t?t.forEach(function(t){t()}):t())}).observe(n,{characterData:!0}),function(t){r(t),e?"function"==typeof e?e=[e,t]:e.push(t):(e=t,n.data=o=++o%2)}};o.exports=function(){if(void 0!==t&&t&&"function"==typeof t.nextTick)return t.nextTick;if("object"==typeof document&&document){if("function"==typeof MutationObserver)return n(MutationObserver);if("function"==typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"==typeof e?function(t){e(r(t))}:"function"==typeof setTimeout?function(t){setTimeout(r(t),0)}:null}()}.call(this,t("_process"),t("timers").setImmediate)},{_process:98,timers:115}],96:[function(t,e,n){function r(a){return function(e,n,t,o){var r;normalize=o&&"function"==typeof o.normalizer?o.normalizer:s,n=normalize(n);for(var i=!1;!i;)!function(){for(r in e){var t=normalize(r);if(0===n.indexOf(t)){t=n.substr(t.length);if("."===t.charAt(0)||0===t.length){n=t.substr(1);t=e[r];return null==t?i=!0:n.length?e=t:i=!0}}}r=void 0,i=!0}();if(r)return null==e?e:a(e,r,t)}}function o(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function i(t,e,n){return t.hasOwnProperty(e)&&(t[e]=n),t}function s(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=r(function(t,e){if(t.hasOwnProperty(e))return t[e]}),e.exports.find=e.exports,e.exports.replace=function(t,e,n,o){return r(i).call(this,t,e,n,o),t},e.exports.del=function(t,e,n){return r(o).call(this,t,e,null,n),t}},{}],97:[function(t,e,n){var o=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e,n=[];for(e in t)o.call(t,e)&&n.push(e);return n},n.values=function(t){var e,n=[];for(e in t)o.call(t,e)&&n.push(t[e]);return n},n.merge=function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],98:[function(t,e,n){var o,r,e=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch(t){o=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],p=!1,l=-1;function d(){p&&c&&(p=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!p){var t=s(d);p=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,p=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||p||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],99:[function(t,e,n){var o=t("type-component");function r(t,e){return e=e||i,"array"==o(t)?r.array(t,e):r.object(t,e)}function i(t){return null==t}(e.exports=r).array=function(t,e){for(var n=[],o=0;o<t.length;++o)e(t[o],o)||(n[n.length]=t[o]);return n},r.object=function(t,e){var n,o={};for(n in t)t.hasOwnProperty(n)&&!e(t[n],n)&&(o[n]=t[n]);return o},r.types=r.type=function(t,e){return Array.isArray(e)||(e=[e]),r(t,function(t){return-1!=e.indexOf(o(t))})}},{"type-component":119}],100:[function(t,e,n){e.exports=function(t,e){return t.addEventListener?(i=e,(r=t).addEventListener("load",function(t,e){i(null,e)},!1),void r.addEventListener("error",function(t){var e=new Error('script error "'+r.src+'"');e.event=t,i(e)},!1)):(o=e,(n=t).attachEvent("onreadystatechange",function(t){/complete|loaded/.test(n.readyState)&&o(null,t)}),void n.attachEvent("onerror",function(t){var e=new Error('failed to load the script "'+n.src+'"');e.event=t||window.event,o(e)}));var n,o,r,i}},{}],101:[function(t,e,n){"use strict";var r=t("obj-case");e.exports=function(t){function e(n,o){return function(){var t=this.traits(),e=this.properties?this.properties():{};return r(t,"address."+n)||r(t,n)||(o?r(t,"address."+o):null)||(o?r(t,o):null)||r(e,"address."+n)||r(e,n)||(o?r(e,"address."+o):null)||(o?r(e,o):null)}}t.zip=e("postalCode","zip"),t.country=e("country"),t.street=e("street"),t.state=e("state"),t.city=e("city"),t.region=e("region")}},{"obj-case":96}],102:[function(t,e,n){"use strict";var o=t("./utils").inherit,r=t("./facade");function i(t,e){r.call(this,t,e)}o(i,r),i.prototype.type=i.prototype.action=function(){return"alias"},i.prototype.from=i.prototype.previousId=function(){return this.field("previousId")||this.field("from")},i.prototype.to=i.prototype.userId=function(){return this.field("userId")||this.field("to")},e.exports=i},{"./facade":104,"./utils":112}],103:[function(t,e,n){"use strict";var o=t("./utils").inherit,r=t("./facade");function i(t,e){r.call(this,t,e)}o(i,r),i.prototype.type=function(){return"delete"},e.exports=i},{"./facade":104,"./utils":112}],104:[function(t,e,n){"use strict";var o=t("./address"),r=t("./utils").clone,i=t("./is-enabled"),a=t("new-date"),s=t("obj-case"),c=t("@segment/isodate-traverse"),u=t("./utils").type;function p(t,e){"clone"in(e=e||{})||(e.clone=!0),e.clone&&(t=r(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=a(t.timestamp):t.timestamp=new Date,e.traverse&&c(t),this.opts=e,this.obj=t}function l(t){return r(t)}p.prototype.proxy=function(t){var e=t.split("."),t=this[t=e.shift()]||this.field(t);return t&&("function"==typeof t&&(t=t.call(this)||{}),0===e.length||(t=s(t,e.join("."))),this.opts.clone?l(t):t)},p.prototype.field=function(t){t=this.obj[t];return this.opts.clone?l(t):t},p.proxy=function(t){return function(){return this.proxy(t)}},p.field=function(t){return function(){return this.field(t)}},p.multi=function(e){return function(){var t=this.proxy(e+"s");if("array"===u(t))return t;t=this.proxy(e);return(t=t&&[this.opts.clone?r(t):t])||[]}},p.one=function(e){return function(){var t=this.proxy(e);if(t)return t;t=this.proxy(e+"s");return"array"===u(t)?t[0]:void 0}},p.prototype.json=function(){var t=this.opts.clone?r(this.obj):this.obj;return this.type&&(t.type=this.type()),t},p.prototype.options=function(t){var e=this.obj.options||this.obj.context||{},e=this.opts.clone?r(e):e;if(!t)return e;if(this.enabled(t)){e=this.integrations(),e=e[t]||s(e,t);return"object"==typeof(e="object"!=typeof e?s(this.options(),t):e)?e:{}}},p.prototype.context=p.prototype.options,p.prototype.enabled=function(t){var e=this.proxy("options.providers.all"),n=(e="boolean"!=typeof(e="boolean"!=typeof(e="boolean"!=typeof e?this.proxy("options.all"):e)?this.proxy("integrations.all"):e)?!0:e)&&i(t),e=this.integrations();return e.providers&&e.providers.hasOwnProperty(t)&&(n=e.providers[t]),!!(n=e.hasOwnProperty(t)?"boolean"!=typeof(t=e[t])||t:n)},p.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},p.prototype.active=function(){var t=this.proxy("options.active");return t=null==t?!0:t},p.prototype.sessionId=p.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},p.prototype.groupId=p.proxy("options.groupId"),p.prototype.traits=function(t){var e,n=this.proxy("options.traits")||{},o=this.userId();for(e in t=t||{},o&&(n.id=o),t){var r=null==this[e]?this.proxy("options.traits."+e):this[e]();null!=r&&(n[t[e]]=r,delete n[e])}return n},p.prototype.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},p.prototype.device=function(){var t=this.proxy("context.device");"object"!==u(t)&&(t={});var e=this.library().name;return t.type||(-1<e.indexOf("ios")&&(t.type="ios"),-1<e.indexOf("android")&&(t.type="android")),t},p.prototype.userAgent=p.proxy("context.userAgent"),p.prototype.timezone=p.proxy("context.timezone"),p.prototype.timestamp=p.field("timestamp"),p.prototype.channel=p.field("channel"),p.prototype.ip=p.proxy("context.ip"),p.prototype.userId=p.field("userId"),o(p.prototype),e.exports=p},{"./address":101,"./is-enabled":108,"./utils":112,"@segment/isodate-traverse":47,"new-date":91,"obj-case":96}],105:[function(t,e,n){"use strict";var o=t("./utils").inherit,r=t("is-email"),i=t("new-date"),a=t("./facade");function s(t,e){a.call(this,t,e)}o(s,a),s.prototype.type=s.prototype.action=function(){return"group"},s.prototype.groupId=a.field("groupId"),s.prototype.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return i(t)},s.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;t=this.groupId();return r(t)?t:void 0},s.prototype.traits=function(t){var e,n=this.properties(),o=this.groupId();for(e in t=t||{},o&&(n.id=o),t){var r=null==this[e]?this.proxy("traits."+e):this[e]();null!=r&&(n[t[e]]=r,delete n[e])}return n},s.prototype.name=a.proxy("traits.name"),s.prototype.industry=a.proxy("traits.industry"),s.prototype.employees=a.proxy("traits.employees"),s.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}},e.exports=s},{"./facade":104,"./utils":112,"is-email":85,"new-date":91}],106:[function(t,e,n){"use strict";var o=t("./facade"),r=t("obj-case"),i=t("./utils").inherit,a=t("is-email"),s=t("new-date"),c=t("trim"),u=t("./utils").type;function p(t,e){o.call(this,t,e)}i(p,o),p.prototype.type=p.prototype.action=function(){return"identify"},p.prototype.traits=function(t){var e,n=this.field("traits")||{},o=this.userId();for(e in t=t||{},o&&(n.id=o),t){var r=null==this[e]?this.proxy("traits."+e):this[e]();null!=r&&(n[t[e]]=r,e!==t[e]&&delete n[e])}return n},p.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;t=this.userId();return a(t)?t:void 0},p.prototype.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return s(t)},p.prototype.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return s(t)},p.prototype.companyName=function(){return this.proxy("traits.company.name")},p.prototype.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return c(t);var e=this.firstName(),t=this.lastName();return e&&t?c(e+" "+t):void 0},p.prototype.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return c(t);t=this.proxy("traits.name");return"string"==typeof t?c(t).split(" ")[0]:void 0},p.prototype.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e){t=c(e).indexOf(" ");if(-1!==t)return c(e.substr(t+1))}},p.prototype.uid=function(){return this.userId()||this.username()||this.email()},p.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},p.prototype.age=function(){var t=this.birthday(),e=r(this.traits(),"age");return null!=e?e:"date"===u(t)?(new Date).getFullYear()-t.getFullYear():void 0},p.prototype.avatar=function(){var t=this.traits();return r(t,"avatar")||r(t,"photoUrl")||r(t,"avatarUrl")},p.prototype.position=function(){var t=this.traits();return r(t,"position")||r(t,"jobTitle")},p.prototype.username=o.proxy("traits.username"),p.prototype.website=o.one("traits.website"),p.prototype.websites=o.multi("traits.website"),p.prototype.phone=o.one("traits.phone"),p.prototype.phones=o.multi("traits.phone"),p.prototype.address=o.proxy("traits.address"),p.prototype.gender=o.proxy("traits.gender"),p.prototype.birthday=o.proxy("traits.birthday"),e.exports=p},{"./facade":104,"./utils":112,"is-email":85,"new-date":91,"obj-case":96,trim:118}],107:[function(t,e,n){"use strict";var o=t("./facade");o.Alias=t("./alias"),o.Group=t("./group"),o.Identify=t("./identify"),o.Track=t("./track"),o.Page=t("./page"),o.Screen=t("./screen"),o.Delete=t("./delete"),e.exports=o},{"./alias":102,"./delete":103,"./facade":104,"./group":105,"./identify":106,"./page":109,"./screen":110,"./track":111}],108:[function(t,e,n){"use strict";var o={Salesforce:!0};e.exports=function(t){return!o[t]}},{}],109:[function(t,e,n){"use strict";var o=t("./utils").inherit,r=t("./facade"),i=t("./track"),a=t("is-email");function s(t,e){r.call(this,t,e)}o(s,r),s.prototype.type=s.prototype.action=function(){return"page"},s.prototype.category=r.field("category"),s.prototype.name=r.field("name"),s.prototype.title=r.proxy("properties.title"),s.prototype.path=r.proxy("properties.path"),s.prototype.url=r.proxy("properties.url"),s.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},s.prototype.properties=function(t){var e,n=this.field("properties")||{},o=this.category(),r=this.name();for(e in t=t||{},o&&(n.category=o),r&&(n.name=r),t){var i=null==this[e]?this.proxy("properties."+e):this[e]();null!=i&&(n[t[e]]=i,e!==t[e]&&delete n[e])}return n},s.prototype.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;t=this.userId();return a(t)?t:void 0},s.prototype.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},s.prototype.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},s.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new i(e,this.opts)},e.exports=s},{"./facade":104,"./track":111,"./utils":112,"is-email":85}],110:[function(t,e,n){"use strict";var o=t("./utils").inherit,r=t("./page"),i=t("./track");function a(t,e){r.call(this,t,e)}o(a,r),a.prototype.type=a.prototype.action=function(){return"screen"},a.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},a.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new i(e,this.opts)},e.exports=a},{"./page":109,"./track":111,"./utils":112}],111:[function(t,e,n){"use strict";var o=t("./utils").inherit,r=t("./utils").type,i=t("./facade"),a=t("./identify"),s=t("is-email"),c=t("obj-case");function u(t,e){i.call(this,t,e)}o(u,i),u.prototype.type=u.prototype.action=function(){return"track"},u.prototype.event=i.field("event"),u.prototype.value=i.proxy("properties.value"),u.prototype.category=i.proxy("properties.category"),u.prototype.id=i.proxy("properties.id"),u.prototype.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},u.prototype.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},u.prototype.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},u.prototype.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},u.prototype.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},u.prototype.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},u.prototype.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},u.prototype.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},u.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},u.prototype.sku=i.proxy("properties.sku"),u.prototype.tax=i.proxy("properties.tax"),u.prototype.name=i.proxy("properties.name"),u.prototype.price=i.proxy("properties.price"),u.prototype.total=i.proxy("properties.total"),u.prototype.repeat=i.proxy("properties.repeat"),u.prototype.coupon=i.proxy("properties.coupon"),u.prototype.shipping=i.proxy("properties.shipping"),u.prototype.discount=i.proxy("properties.discount"),u.prototype.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},u.prototype.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},u.prototype.description=i.proxy("properties.description"),u.prototype.plan=i.proxy("properties.plan"),u.prototype.subtotal=function(){var t=c(this.properties(),"subtotal"),e=this.total()||this.revenue();return t||(e?(this.total()&&((t=this.tax())&&(e-=t),(t=this.shipping())&&(e-=t),(t=this.discount())&&(e+=t)),e):0)},u.prototype.products=function(){var t=this.properties(),t=c(t,"products");return"array"===r(t)?t:[]},u.prototype.quantity=function(){return(this.obj.properties||{}).quantity||1},u.prototype.currency=function(){return(this.obj.properties||{}).currency||"USD"},u.prototype.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},u.prototype.query=i.proxy("options.query"),u.prototype.properties=function(t){var e,n=this.field("properties")||{};for(e in t=t||{}){var o=null==this[e]?this.proxy("properties."+e):this[e]();null!=o&&(n[t[e]]=o,delete n[e])}return n},u.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},u.prototype.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;t=this.userId();return s(t)?t:void 0},u.prototype.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return function(t){if(t)return"number"!=typeof t&&("string"!=typeof t||(t=t.replace(/\$/g,""),t=parseFloat(t),isNaN(t)))?void 0:t}(t=!t&&e&&e.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)?this.proxy("properties.total"):t)},u.prototype.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},u.prototype.identify=function(){var t=this.json();return t.traits=this.traits(),new a(t,this.opts)},e.exports=u},{"./facade":104,"./identify":106,"./utils":112,"is-email":85,"obj-case":96}],112:[function(t,e,n){"use strict";n.inherit=t("inherits"),n.clone=t("@ndhoule/clone"),n.type=t("type-component")},{"@ndhoule/clone":5,inherits:84,"type-component":119}],113:[function(t,e,n){e.exports=function(t,e){return e=e||{},t.toLowerCase().replace(e.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,e.separator||"-")}},{}],114:[function(t,n,o){!function(t){if("object"==typeof o)n.exports=t();else{var e;try{e=window}catch(t){e=self}e.SparkMD5=t()}}(function(r){"use strict";var a=function(t,e){return t+e&4294967295},o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(t,e,n,o,r,i){return e=a(a(e,t),a(o,i)),a(e<<r|e>>>32-r,n)}function c(t,e,n,o,r,i,a){return s(e&n|~e&o,t,e,r,i,a)}function u(t,e,n,o,r,i,a){return s(e&o|n&~o,t,e,r,i,a)}function p(t,e,n,o,r,i,a){return s(e^n^o,t,e,r,i,a)}function l(t,e,n,o,r,i,a){return s(n^(e|~o),t,e,r,i,a)}function d(t,e){var n=c(n=t[0],i=t[1],r=t[2],o=t[3],e[0],7,-680876936),o=c(o,n,i,r,e[1],12,-389564586),r=c(r,o,n,i,e[2],17,606105819),i=c(i,r,o,n,e[3],22,-1044525330);n=c(n,i,r,o,e[4],7,-176418897),o=c(o,n,i,r,e[5],12,1200080426),r=c(r,o,n,i,e[6],17,-1473231341),i=c(i,r,o,n,e[7],22,-45705983),n=c(n,i,r,o,e[8],7,1770035416),o=c(o,n,i,r,e[9],12,-1958414417),r=c(r,o,n,i,e[10],17,-42063),i=c(i,r,o,n,e[11],22,-1990404162),n=c(n,i,r,o,e[12],7,1804603682),o=c(o,n,i,r,e[13],12,-40341101),r=c(r,o,n,i,e[14],17,-1502002290),n=u(n,i=c(i,r,o,n,e[15],22,1236535329),r,o,e[1],5,-165796510),o=u(o,n,i,r,e[6],9,-1069501632),r=u(r,o,n,i,e[11],14,643717713),i=u(i,r,o,n,e[0],20,-373897302),n=u(n,i,r,o,e[5],5,-701558691),o=u(o,n,i,r,e[10],9,38016083),r=u(r,o,n,i,e[15],14,-660478335),i=u(i,r,o,n,e[4],20,-405537848),n=u(n,i,r,o,e[9],5,568446438),o=u(o,n,i,r,e[14],9,-1019803690),r=u(r,o,n,i,e[3],14,-187363961),i=u(i,r,o,n,e[8],20,1163531501),n=u(n,i,r,o,e[13],5,-1444681467),o=u(o,n,i,r,e[2],9,-51403784),r=u(r,o,n,i,e[7],14,1735328473),n=p(n,i=u(i,r,o,n,e[12],20,-1926607734),r,o,e[5],4,-378558),o=p(o,n,i,r,e[8],11,-2022574463),r=p(r,o,n,i,e[11],16,1839030562),i=p(i,r,o,n,e[14],23,-35309556),n=p(n,i,r,o,e[1],4,-1530992060),o=p(o,n,i,r,e[4],11,1272893353),r=p(r,o,n,i,e[7],16,-155497632),i=p(i,r,o,n,e[10],23,-1094730640),n=p(n,i,r,o,e[13],4,681279174),o=p(o,n,i,r,e[0],11,-358537222),r=p(r,o,n,i,e[3],16,-722521979),i=p(i,r,o,n,e[6],23,76029189),n=p(n,i,r,o,e[9],4,-640364487),o=p(o,n,i,r,e[12],11,-421815835),r=p(r,o,n,i,e[15],16,530742520),n=l(n,i=p(i,r,o,n,e[2],23,-995338651),r,o,e[0],6,-198630844),o=l(o,n,i,r,e[7],10,1126891415),r=l(r,o,n,i,e[14],15,-1416354905),i=l(i,r,o,n,e[5],21,-57434055),n=l(n,i,r,o,e[12],6,1700485571),o=l(o,n,i,r,e[3],10,-1894986606),r=l(r,o,n,i,e[10],15,-1051523),i=l(i,r,o,n,e[1],21,-2054922799),n=l(n,i,r,o,e[8],6,1873313359),o=l(o,n,i,r,e[15],10,-30611744),r=l(r,o,n,i,e[6],15,-1560198380),i=l(i,r,o,n,e[13],21,1309151649),n=l(n,i,r,o,e[4],6,-145523070),o=l(o,n,i,r,e[11],10,-1120210379),r=l(r,o,n,i,e[2],15,718787259),i=l(i,r,o,n,e[9],21,-343485551),t[0]=a(n,t[0]),t[1]=a(i,t[1]),t[2]=a(r,t[2]),t[3]=a(o,t[3])}function f(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e}function h(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24);return e}function n(t){for(var e,n,o,r,i=t.length,a=[1732584193,-271733879,-1732584194,271733878],s=64;s<=i;s+=64)d(a,f(t.substring(s-64,s)));for(e=(t=t.substring(s-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<e;s+=1)n[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),55<s)for(d(a,n),s=0;s<16;s+=1)n[s]=0;return r=(r=8*i).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),r=parseInt(r[1],16)||0,n[14]=o,n[15]=r,d(a,n),a}function y(t){for(var e=0;e<t.length;e+=1)t[e]=function(t){for(var e="",n=0;n<4;n+=1)e+=o[t>>8*n+4&15]+o[t>>8*n&15];return e}(t[e]);return t.join("")}function i(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}function m(t){return t=/[\u0080-\uFFFF]/.test(t)?unescape(encodeURIComponent(t)):t}function g(t){for(var e=[],n=t.length,o=0;o<n-1;o+=2)e.push(parseInt(t.substr(o,2),16));return String.fromCharCode.apply(String,e)}function v(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==y(n("hello"))&&(a=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(t,e){var n=this.byteLength,o=i(t,n),t=n;return(t=e!==r?i(e,n):t)<o?new ArrayBuffer(0):(e=t-o,n=new ArrayBuffer(e),t=new Uint8Array(n),e=new Uint8Array(this,o,e),t.set(e),n)}),v.prototype.append=function(t){return this.appendBinary(m(t)),this},v.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;for(var e=this._buff.length,n=64;n<=e;n+=64)d(this._hash,f(this._buff.substring(n-64,n)));return this._buff=this._buff.substring(n-64),this},v.prototype.end=function(t){for(var e,n=this._buff,o=n.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<o;i+=1)r[i>>2]|=n.charCodeAt(i)<<(i%4<<3);return this._finish(r,o),e=y(this._hash),t&&(e=g(e)),this.reset(),e},v.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},v.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},v.prototype._finish=function(t,e){var n,o=e;if(t[o>>2]|=128<<(o%4<<3),55<o)for(d(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),e=parseInt(n[2],16),n=parseInt(n[1],16)||0,t[14]=e,t[15]=n,d(this._hash,t)},v.hash=function(t,e){return v.hashBinary(m(t),e)},v.hashBinary=function(t,e){t=y(n(t));return e?g(t):t},(v.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,n,o,r,i,a=(n=this._buff.buffer,o=t,r=!0,(i=new Uint8Array(n.byteLength+o.byteLength)).set(new Uint8Array(n)),i.set(new Uint8Array(o),n.byteLength),r?i:i.buffer),s=a.length;for(this._length+=t.byteLength,e=64;e<=s;e+=64)d(this._hash,h(a.subarray(e-64,e)));return this._buff=e-64<s?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(t){for(var e,n=this._buff,o=n.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<o;i+=1)r[i>>2]|=n[i]<<(i%4<<3);return this._finish(r,o),e=y(this._hash),t&&(e=g(e)),this.reset(),e},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.getState=function(){var t,e=v.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},v.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){for(var n=t.length,o=new ArrayBuffer(n),r=new Uint8Array(o),i=0;i<n;i+=1)r[i]=t.charCodeAt(i);return e?r:o}(t.buff,!0),v.prototype.setState.call(this,t)},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(t,e){t=y(function(t){for(var e,n,o,r,i=t.length,a=[1732584193,-271733879,-1732584194,271733878],s=64;s<=i;s+=64)d(a,h(t.subarray(s-64,s)));for(e=(t=s-64<i?t.subarray(s-64):new Uint8Array(0)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<e;s+=1)n[s>>2]|=t[s]<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),55<s)for(d(a,n),s=0;s<16;s+=1)n[s]=0;return r=(r=8*i).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),r=parseInt(r[1],16)||0,n[14]=o,n[15]=r,d(a,n),a}(new Uint8Array(t)));return e?g(t):t},v})},{}],115:[function(c,t,u){!function(t,e){var o=c("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,i={},a=0;function s(t,e){this._id=t,this._clearFn=e}u.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},u.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},u._unrefActive=u.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},u.setImmediate="function"==typeof t?t:function(t){var e=a++,n=!(arguments.length<2)&&r.call(arguments,1);return i[e]=!0,o(function(){i[e]&&(n?t.apply(null,n):t.call(null),u.clearImmediate(e))}),e},u.clearImmediate="function"==typeof e?e:function(t){delete i[t]}}.call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":98,timers:115}],116:[function(e,t,n){var r;try{r=e("props")}catch(t){r=e("component-props")}function o(t){switch({}.toString.call(t)){case"[object Object]":return function(t){var e,n={};for(e in t)n[e]=("string"==typeof t[e]?i:o)(t[e]);return function(t){if("object"!=typeof t)return!1;for(var e in n){if(!(e in t))return!1;if(!n[e](t[e]))return!1}return!0}}(t);case"[object Function]":return t;case"[object String]":return/^ *\W+/.test(n=t)?new Function("_","return _ "+n):new Function("_","return "+function(t){var e,n,o=r(t);if(!o.length)return"_."+t;for(e=0;e<o.length;e++)n=o[e],t=function(t,e,n){return e.replace(new RegExp("(\\.)?"+t,"g"),function(t,e){return e?t:n})}(n,t,n="('function' == typeof "+(n="_."+n)+" ? "+n+"() : "+n+")");return t}(n));case"[object RegExp]":return e=t,function(t){return e.test(t)};default:return i(t)}var e,n}function i(e){return function(t){return e===t}}t.exports=o},{"component-props":73,props:73}],117:[function(t,e,n){e.exports=function(t){return(o.test(t)?t:r.test(t)?function(t){return t.replace(i,function(t,e){return e?" "+e:""})}(t)||t:function(t){return t.replace(a,function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")})}(t)).toLowerCase()};var o=/\s/,r=/[\W_]/;var i=/[\W_]+(.|$)/g;var a=/(.)([A-Z]+)/g},{}],118:[function(t,e,n){(n=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],119:[function(t,e,n){var o=Object.prototype.toString;e.exports=function(t){switch(o.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},{}],120:[function(t,e,n){function o(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}e.exports=function(t){switch(arguments.length){case 0:return o();case 1:return e=t,o()?"https:"+e:"http:"+e}var e}},{}],121:[function(t,e,n){e.exports=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):(127<o&&o<2048?e+=String.fromCharCode(o>>6|192):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128)),e+=String.fromCharCode(63&o|128))}return e}},{}],122:[function(t,e,n){var o=t("./v1"),r=t("./v4"),t=r;t.v1=o,t.v4=r,e.exports=t},{"./v1":125,"./v4":126}],123:[function(t,e,n){for(var o=[],r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);e.exports=function(t,e){var n=e||0;return[(e=o)[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[+n]]].join("")}},{}],124:[function(t,e,n){var o,r,i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);i?(o=new Uint8Array(16),e.exports=function(){return i(o),o}):(r=new Array(16),e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r})},{}],125:[function(t,e,n){var p,l,d=t("./lib/rng"),f=t("./lib/bytesToUuid"),h=0,y=0;e.exports=function(t,e,n){var o=e&&n||0,r=e||[],i=(t=t||{}).node||p,a=void 0!==t.clockseq?t.clockseq:l;null!=i&&null!=a||(c=d(),null==i&&(i=p=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=l=16383&(c[6]<<8|c[7])));var s=void 0!==t.msecs?t.msecs:(new Date).getTime(),n=void 0!==t.nsecs?t.nsecs:y+1,c=s-h+(n-y)/1e4;if(c<0&&void 0===t.clockseq&&(a=a+1&16383),1e4<=(n=(c<0||h<s)&&void 0===t.nsecs?0:n))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=s,l=a,n=(1e4*(268435455&(s+=122192928e5))+(y=n))%4294967296,r[o++]=n>>>24&255,r[o++]=n>>>16&255,r[o++]=n>>>8&255,r[o++]=255&n,s=s/4294967296*1e4&268435455,r[o++]=s>>>8&255,r[o++]=255&s,r[o++]=s>>>24&15|16,r[o++]=s>>>16&255,r[o++]=a>>>8|128,r[o++]=255&a;for(var u=0;u<6;++u)r[o+u]=i[u];return e||f(r)}},{"./lib/bytesToUuid":123,"./lib/rng":124}],126:[function(t,e,n){var a=t("./lib/rng"),s=t("./lib/bytesToUuid");e.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var i=0;i<16;++i)e[o+i]=r[i];return e||s(r)}},{"./lib/bytesToUuid":123,"./lib/rng":124}],127:[function(t,e,n){var o,r=t("unserialize"),i=t("each");try{o=window.localStorage}catch(t){o=null}function a(t,e){var n=arguments.length;return 0==n?function(){var t,e=o.length,n={};for(;0<=--e;)t=o.key(e),n[t]=c(t);return n}():2<=n?s(t,e):1==n?null==t?o.clear():"string"==typeof t?c(t):"object"==typeof t?i(t,s):void 0:void 0}function s(t,e){return null==e?o.removeItem(t):o.setItem(t,JSON.stringify(e))}function c(t){return r(o.getItem(t))}(e.exports=a).supported=!!o},{each:69,unserialize:128}],128:[function(t,e,n){e.exports=function(e){try{return JSON.parse(e)}catch(t){return e||void 0}}},{}],129:[function(t,e,n){e.exports={name:"@canva/analytics.js",author:"Canva",contributors:["Segment <friends@segment.com>"],version:"0.4.3",description:"Canvalytics JS loading snippet. Forked from @segment/analytics.js.",keywords:["analytics","analytics.js","segment","segment.io"],main:"analytics.js",scripts:{build:"make build",clean:"make clean"},repository:{type:"git",url:"https://github.com/canva/analytics.js.git"},license:"SEE LICENSE IN LICENSE",homepage:"https://github.com/canva/analytics.js#readme","//":"Update analytics.js-core to latest once https://github.com/segmentio/analytics.js-core/issues/129 is resolved",dependencies:{"@canva/analytics.js-integration-braze":"2.0.2","@canva/analytics.js-integration-optimizely":"1.0.1","@segment/analytics.js-core":"4.1.8","@segment/analytics.js-integration":"3.3.2","@segment/analytics.js-integration-google-analytics":"2.18.2","@segment/analytics.js-integration-google-tag-manager":"git+https://github.com/segment-integrations/analytics.js-integration-google-tag-manager.git","@segment/analytics.js-integration-segmentio":"4.4.1"},devDependencies:{browserify:"^13.0.1",eslint:"^2.9.0","eslint-plugin-mocha":"^2.2.0","eslint-plugin-require-path-exists":"^1.1.5","uglify-js":"^2.6.4"},resolutions:{"@segment/analytics.js-integration":"3.3.2","@braze/web-sdk-core":"3.0.1"}}},{}]},{},[1])(1)});

define("lofty/util/misc/2.0/misc",["jquery"],function(t){var e={goTo:function(t,e){var i="_self";if(e=e||i,!this.isIE())return window.open(t,e);var a=document.createElement("a"),o=document.body;a.setAttribute("href",t),a.setAttribute("target",e),a.style.display="none",o.appendChild(a),a.click(),e!==i&&setTimeout(function(){try{o.removeChild(a)}catch(t){}},200)},addParmToUrl:function(e,i){var a,o=e.split("#"),n=o.shift();if(o.length&&(a="#"+o.join("#")),-1!==n.indexOf("?")){for(var r=n.split("?"),s=r[0],l=r[1].split("&"),c={},p=0,f=l.length;f>p;p++){var m=l[p].split("=");c[t.trim(m[0])]=t.trim(m[1])}for(var h in i){var d=t.trim(i[h]);c[t.trim(h)]=d}var u=[];for(var h in c)u.push(h+"="+c[h]);n=s+"?"+u.join("&")}else{var u=[];for(var h in i)u.push(h+"="+i[h]);n=n+"?"+u.join("&")}return a&&(n+=a),n},isIE:function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var e=navigator.userAgent,i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}return-1!==t},isIE6:function(){return"Microsoft Internet Explorer"==navigator.appName?/msie 6/i.test(navigator.userAgent):!1},support:{JSON:"JSON"in window,localStorage:"localStorage"in window,WebSocket:"WebSocket"in window},addBgiframe:function(e){if(this.isIE6()){e=t.extend({top:"auto",left:"auto",width:"auto",height:"auto",zIndex:-1,opacity:0,src:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var i=['<iframe class="bgiframe"frameborder="0"tabindex="-1"src="',e.src,'"style="display:block;position:absolute;z-index:',e.zIndex,";",e.opacity?"":"filter:Alpha(Opacity='0');","top:","auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":e.top+"px",";left:","auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":e.left+"px",";width:","auto"==e.width?"expression(this.parentNode.offsetWidth+'px')":e.width+"px",";height:","auto"==e.height?"expression(this.parentNode.offsetHeight+'px')":e.height+"px",';"/>'].join("");t(e.target).each(function(){var e=t(this);0===e.children("iframe.bgiframe").length&&this.insertBefore(t(i)[0],this.firstChild)})}else e.force&&(e=t.extend({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,backgroundColor:"#FFF",opacity:0},e),t(e.target).each(function(){var i=t(this);0===i.children("div.bgiframe").length&&i.prepend(t("<div>",{"class":"bgiframe",css:e}))}))},removeBgiframe:function(e){t(e).each(function(){t(this).children(".bgiframe").remove()})},isAliDomain:function(t,e){var i=["tmall.com","tmall.hk","taobao.com","taobaocdn.com","tbcdn.cn","1688.com","alibaba.com","aliyun.com","alipay.com","alisoft.com","alimama.com","hitao.com","aliexpress.com","laiwang.com","etao.com","kissyui.com","95095.com","taohua.com","tmall.net","tmall.com.hk","taobao.net","taobao.org","alibaba-inc.com","1688.net","alibaba.net","aliyun.net","alipay.net","alisoft.net","alimama.net","hitao.net","aliexpress.net","laiwang.net","etao.net","alicdn.com","aliimg.com"];"undefined"!=typeof e&&(i=i.concat(e));var a=new RegExp("^http(s)?:\\/\\/[a-z0-9-\\.]*("+i.join("|")+")","i");t+="";var o=t.match(a);return!!o},isAliTestDomain:function(t){return t||(t=document.location.href),this.isAliDomain(t)?/-test\./.test(t):void 0}};return e});;
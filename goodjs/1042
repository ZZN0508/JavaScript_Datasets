define(["require","exports","OK/cookie","OK/logger"],function(t,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MrgCounterDot=void 0;function n(){var e=this;this.link="",this.dotLink="",this.onClick=function(){var t;e.element.classList.contains("x-ph__link_ext")?e.setLink(!1):((t=e.hasClicked())||i.setCookie("mrgmaildot","1",1),e.setLink(!t),o.success("mrg-mail-dot-click",t?"second":"first"),e.element.classList.remove("__dot"))}}n.prototype.activate=function(t){this.element=t,this.link=t.getAttribute("href"),this.dotLink=t.getAttribute("data-dot-link"),this.hasClicked()||t.classList.add("__dot"),t.addEventListener("mousedown",this.onClick)},n.prototype.deactivate=function(t){this.element.removeEventListener("mousedown",this.onClick)},n.prototype.hasClicked=function(){return i.readCookie("mrgmaildot")},n.prototype.setLink=function(t){this.element.setAttribute("href",t?this.dotLink:this.link)},e.MrgCounterDot=n});

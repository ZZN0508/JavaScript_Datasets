var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.StructuredContentWidgetdrop=function(m){"use strict";define("allYouNeedToKnow",function(a,e,t){m.fn.replaceList=function(e){var n,o;this.empty(),n=this,m.each(e,function(e,t){o=m("<option></option>").attr("value",t).text(t),n.append(o)})},m.fn.createDropdown=function(e){var t=m("<select></select>").attr("class",e);t.addClass("form-control"),t.addClass("selectCSS"),this.append(t)};t.exports={allyouneed:function(l,e,s,t,n){m(".pollyfill-pointer").on("click",function(){"ie-11"==b.portal.knowYourBrowser&&a(["widgets/%5BBBHOST%5D/widget-hdfc-common-overlays/js/polyfill.min"])}),1===m(".sub-content").length&&m(".sub-content").addClass("one-tab"),m(m(l.htmlNode).find(".btn")[1]).removeClass("btn-primary mL").addClass("btn-default-custom btn-default");var o={cardId:m(l.htmlNode).find(".hidden-image .card-title").text().trim(),imageUrl:m(l.htmlNode).find(".hidden-image img").attr("src"),dataUrl:e};gadgets.pubsub.publish("objectready",o),m(document).ready(function(){m(l.htmlNode).find(".rich-txt-only-table table").wrap("<div class ='wrap-table'></div>")}),m(".all-you-need-parent .tabvaldesc .fulldesccontent p:first").addClass("newdesc"),m(".all-you-need-parent .banner-fees-wrapper .banner-fees .btn-cont a:last-child").addClass("btn-last"),m.ajax({url:e,success:function(e){var n=e,a=[],t=!1,o=["Locate at"];m(l.htmlNode).find(".banner-fees a").each(function(e){var t=n.applyOnline.link;1==n.applyOnline.isLoginRequired&&0==s&&m(this).attr("href",v+"/login?redirect="+v+t)});for(var r=e.ContentRows,d=0;d<r.length;d++)r[d].poBox&&(a=r[d].poBoxArray,t=!0);if(t){for(var i=0;i<a.length;i++)o.push(a[i].dropdownOptions);m(l.htmlNode).find(".po-dropdown").createDropdown("po-box-dropdown"),m(l.htmlNode).find(".po-box-dropdown").replaceList(o),m(l.htmlNode).find(".po-box-button a").on("click",function(){for(var e=m(l.htmlNode).find(".po-box-dropdown")[0].value.trim(),t="",n=0;n<a.length;n++)a[n].dropdownOptions==e&&(t=a[n].description);if(""!=t){var o=m(t);m(l.htmlNode).find(".po-box-data").empty(),m(l.htmlNode).find(".po-box-data").append(o)}else m(l.htmlNode).find(".po-box-data").empty()})}},error:function(e){}})}}}),define("locateUs",function(e,t,n){m.fn.replaceList=function(e){var n,o;this.empty(),n=this,m.each(e,function(e,t){o=m("<option></option>").attr("value",e).text(t),n.append(o)})},m.fn.createDropdown=function(e){var t=m("<select></select>").attr("class",e);t.addClass("form-control"),t.addClass("selectCSS"),this.append(t)};n.exports={locateus:function(e,a,t){m.ajax({url:e,success:function(e){var t;m(a.htmlNode).find(".drp1").createDropdown("dropdown1");var n=["Locate Us"];if(e.SingleDropdown){for(var o=0;o<e.cardArray.length;o++)n.push(e.cardArray[o].name.cardname);m(a.htmlNode).find(".btn-primary").attr("href",e.LocateUrl),m(a.htmlNode).find(".btn-primary").addClass("exclude-me")}else m(a.htmlNode).find(".drp2").createDropdown("dropdown2");m(a.htmlNode).find(".dropdown1").replaceList(n),e.SingleDropdown?(m(a.htmlNode).find(".dropdown1").on("change",function(){t=m(this).find(":selected").text()}),m(a.htmlNode).find(".btn-primary").on("click",function(){sessionStorage.setItem("LocateUsNRI",t)})):m(a.htmlNode).find(".dropdown2").replaceList(["Looking for"]),m(a.htmlNode).find(".panel-heading").on("click",function(){m(window).width()<=767&&m(this).siblings(".panel-accordion-contr").slideToggle("slow"),m(this).children(".glyphicon").toggleClass("icon-up-open-big").toggleClass("icon-down-open-big")}),m(window).on("resize",function(){768<=m(window).width()&&m(a.htmlNode).find(".panel-accordion-contr").removeAttr("style")})}})}}}),define("waysToBank",function(e,t,n){function o(){var e=m(".c-template-portal-hero-banner-section--area.first-section").height(),t=m(m(".waystobank").parents(".bp-container")[0]).find(".lp-widget-hdfc-name-slot");if(1==e)0!=t.length?m(".image-text.banner-right").height(50):m(".image-text.banner-right").height(52);else{var n=m(".waystobank").height(),o=0;o=0!=t.length&&300!=e?e-n-16:e-n-12,m(".image-text.banner-right").height(o)}}m(".c-hero-banner").addClass("hero-mt"),m(window).bind("load",o),m(window).bind("resize",o),n.exports={wayto:function(e,p,u,f,t){m.fn.createButton=function(e){var t;(t=m("<button></button>").attr("class",e).text(e)).addClass("btn btn-primary buttons"),this.append(t)},m.fn.replaceList=function(e){var n,o;this.empty(),n=this,m.each(e,function(e,t){o=m("<li></li>").attr("value",e),0==e?o.text(t):t.name?o.text(t.name):t.cardname&&o.text(t.cardname),t.new&&(o.addClass("newIcon"),o.append("<img src="+u+"/static/widgets/%5BBBHOST%5D/widgethdfcddstructuredcontent/media/new_page.svg>")),n.append(o)})},m.fn.createDropdown=function(e){var t=m("<div></div>").addClass("dropdown"),n=m("<a></a>").addClass("btn-primary dropdown-toggle btn-block").attr("data-toggle","dropdown");m(".btn-primary.dropdown-toggle.btn-block").dropdown(),this.append('<span class="glyphicon icon-down-open-big ">'),t.append(n);var o=m("<ul></ul>").attr("class",e).addClass("dropdown-menu");t.append(o),this.append(t)},m.ajax({url:e,success:function(e){var l=e.cardArray;m(p.htmlNode).find(".know-button").on("click",function(){var e=m(p.htmlNode).find(".drp2 a").text().trim();localStorage.setItem("menuItemClicked",e)}),m(p.htmlNode).find(".drp1").empty(),m(p.htmlNode).find(".drp1").createDropdown("dropdown1"),m(p.htmlNode).find(".drp2").empty(),m(p.htmlNode).find(".drp2").createDropdown("dropdown2"),m(".drp2 .btn-primary.dropdown-toggle.btn-block").dropdown();for(var n=[],t=0;t<l.length;t++)n.push(l[t].name);n.unshift("Select Product Type"),m(p.htmlNode).find(".drp1 a").text(n[0]),m(p.htmlNode).find(".dropdown1").each(function(e,t){m(t).replaceList(n)});var o=["Select Product"];m(p.htmlNode).find(".dropdown2").each(function(e,t){m(t).replaceList(o)}),m(p.htmlNode).find(".drp2 a").text(o[0]);var s=[];m(p.htmlNode).find(".dropdown1 li ").on("click",function(){var e=m(this).text().trim();"Select Product Type"==e&&m(".btn-custom.btn-primary-custom.myButton").attr("value","");var t=m("<span></span>").text(e);m(p.htmlNode).find(".drp1 a").empty(),m(p.htmlNode).find(".drp1 a").append(t);var n=m(this).parent().find("li"),o=[];m.each(n,function(e,t){o.push(m(t).text().trim())});var a=o.indexOf(e);if(0==a){var r=["Select Product"];m(p.htmlNode).find(".dropdown2").each(function(e,t){m(t).replaceList(r)}),m(p.htmlNode).find(".drp2 a").text(r[0]),m(".know-button").addClass("disabled"),m(".myButton").addClass("disabled")}else{var d=l[a-1].cardTypes.slice();s=d;var i=[];m.each(d,function(e,t){i.push(t.cardName)}),i.unshift("Select Product"),m(p.htmlNode).find(".dropdown2").each(function(e,t){m(t).replaceList(i),m(p.htmlNode).find(".drp2 a").text(i[0]),m(p.htmlNode).find(".dropdown2 li").on("click",function(){var e=m(this).text().trim(),t=m("<span></span>").text(e);m(p.htmlNode).find(".drp2 a").empty(),m(p.htmlNode).find(".drp2 a").append(t);var n=m(this).parent().find("li"),o=[];m.each(n,function(e,t){o.push(m(t).text().trim())});var a=o.indexOf(e);if(0<a){var r=s[a-1].cardUrl,d=s[a-1].loginUrl;s[a-1].secondaryButton,s[a-1].primaryButton,m(".waystobank .btn-primary-custom").text(s[a-1].primaryButton),m(".waystobank .btn-default-custom").text(s[a-1].secondaryButton),void 0===d?m(".waystobank .btn-primary-custom").css("visibility","hidden"):m(".waystobank .btn-primary-custom").css("visibility","visible"),void 0===r?m(".waystobank .btn-default-custom").css("visibility","hidden"):m(".waystobank .btn-default-custom").css("visibility","visible"),c="normal-url"==s[a-1].navigationType?window.envTypeUrl+r:u+r;var i=m(".btn-custom.btn-primary-custom.myButton").attr("href");"Select Product"==e?(m(".btn-custom.btn-primary-custom.myButton").attr("value",""),m(".waystobank .btn-default-custom").removeAttr("href"),m(".waystobank .btn-primary-custom").removeAttr("href")):-1<i.indexOf("http")&&i.indexOf("hdfcbank")<0&&i.indexOf(u)<0&&m(this).attr("value","ext-link"),m(".waystobank .btn-default-custom").attr("href",c),1==s[a-1].cardName.isLoginRequired&&0==f?m(".waystobank .btn-primary-custom").attr("href",v+"/login?redirect="+v+d):m(".waystobank .btn-primary-custom").attr("href",d)}})}),m(".know-button").removeClass("disabled"),m(".myButton").removeClass("disabled")}});var c="";m(".know-button, .myButton").click(function(e){"Select Product Type"!=m(".waystobank .banner-right .drp1 a").text()&&"Select Product"==m(".waystobank .banner-right .drp2 a").text()?(e.preventDefault(),m(".drp2 .dropdown .btn-block").css("border","1px solid red"),setTimeout(function(){m(".drp2 .dropdown .btn-block").css("border","1px solid #ccc")},2e3)):"Select Product Type"==m(".waystobank .banner-right .drp1 a").text()&&(m(".drp1 .dropdown .btn-block").css("border","1px solid red"),setTimeout(function(){m(".drp1 .dropdown .btn-block").css("border","1px solid #ccc")},2e3))}),m(".dropdown").on("click",function(){"Select Product Type"==m(".waystobank .banner-right .drp1 a").text()||"Select Product"==m(".waystobank .banner-right .drp2 a").text()?(m(".know-button").addClass("disabled"),m(".myButton").addClass("disabled")):(m(".know-button").removeClass("disabled"),m(".myButton").removeClass("disabled"))})}})}}}),define("filterWidget",function(e,t,n){m.fn.createRadioButtonList=function(o,e){var a=m("<div></div>").addClass("");m.each(e,function(e,t){var n=m('<div><label> <input type="radio" name='+o+" value="+e+" >"+t+"</label></div>").addClass("radio");a.append(n)}),this.append(a)},m.fn.createCheckBoxList=function(o,e){var a=m("<div></div>").addClass("");m.each(e,function(e,t){var n=m('<div><label> <input type="checkbox" name='+o+" value="+e+" >"+t+"</label></div>").addClass("checkbox");a.append(n)}),this.append(a)};n.exports={filter:function(e,d){m.ajax({url:e,success:function(e){},error:function(e){var t=e.responseText;t=(t=(t=(t=(t=(t=t.replace(/&#x7b;/g,"{")).replace(/&#x22;/g,'"')).replace(/&#x3a;/g,":")).replace(/&#x5b;/g,"[")).replace(/&#x5d;/g,"]")).replace(/&#x7d;/g,"}");var o=JSON.parse(t);m(".radioButtonsList").createRadioButtonList("Income",o.AnnualIncome),m(".checkBoxListOne").createCheckBoxList("Spending",o.YourSpending),m(".checkBoxListTwo").createCheckBoxList("Benefits",o.BenefitsYouPrefer),m(d.htmlNode).find(".panel-heading-custom").on("click",function(){m(this).find("img").toggleClass("arrowRotate"),m(this).next().slideToggle()}),console.log(o),m(".filterButton").on("click",function(){var n={radioArray:[],checkArrayOne:[]};m("input[type='radio']").each(function(){if(m(this).is(":checked")){var e=m(this).attr("value"),t={index:e,text:m(this).parent().text(),name:m(this).attr("name")};n.radioArray.push(t),console.log(o.AnnualIncome[e]),gadgets.pubsub.publish("filterCards",o.AnnualIncome[e])}}),m("input[type='checkbox']").each(function(){if(m(this).is(":checked")){var e=m(this).attr("value"),t={index:e,text:m(this).parent().text(),name:m(this).attr("name")};n.checkArrayOne.push(t),console.log(o.AnnualIncome[e])}}),console.log(n),gadgets.pubsub.publish("finalPublish",n)}),m(window).resize(function(){var e=m(window).width();463<e&&m(".scrollableArea").css("left","0px"),console.log(e)});var r=0;m(d.htmlNode).find(".RightArrow").on("click",function(){var e=m(d.htmlNode).find(".panel-body-custom").width(),t=m(d.htmlNode).find(".scrollableArea").css("left"),n=parseInt(t,10),o=-1*e,a=o+n;console.log(n),console.log(o),console.log(a),r<2&&(r++,m(d.htmlNode).find(".scrollableArea").animate({left:+a+"px"}))}),m(d.htmlNode).find(".LeftArrow").on("click",function(){var e=m(d.htmlNode).find(".panel-body-custom").width(),t=m(d.htmlNode).find(".scrollableArea").css("left"),n=parseInt(t,10);console.log(n),console.log(e),console.log("hi");var o=e+n;console.log(o),0!=r&&(r--,m(d.htmlNode).find(".scrollableArea").animate({left:+o+"px"}))})}})}}}),define("gapJs",function(e,t,n){m(document).ready(function(){var r=window.location.href,d=b.portal.typeOfDevice();m(".waystobank .banner-right .myButton, .waystobank .banner-right .know-button").on("click",function(){if(!b.portal.isGapDisabled()&&!b.portal.isLogin){var e=m(".waystobank .banner-right .drp1 a").text(),t=m(".waystobank .banner-right .drp2 a").text(),n=m(this).text(),o=m(".header-menu .navbar-collapse .normal-main-header li.active a").text(),a=document.referrer;dataLayer.push({producttype:e,productselection:t,buttonselection:n,"page path":r,"Page section":o,referral:a,userID:"null",deviceType:d,userType:"null",event:"productinteraction"})}}),m(".stay-secure .image-description-wrapper img, .stay-secure .image-description-wrapper a.button-style2").on("click",function(){if(!b.portal.isGapDisabled()&&!b.portal.isLogin){var e=m(this).parents(".stay-secure").children().find(".row h2.card-title-style").text(),t=m(this).parents(".stay-secure").children().find(".image-description-wrapper a.button-style2").text(),n=m(".sub-menu-items ul.navbar-nav > li.dropdown.active > a span.menus-heading").text(),o=document.referrer;dataLayer.push({bannername:e,buttonselection:t,referral:o,userID:"null","Page path":r,deviceType:d,userType:"null",event:"Stay Secure","Page Section":n})}})})}),m(document).ready(function(){require(["features/%5BBBHOST%5D/theme/core/bootstrap3/js/dropdown"],function(){}),m(".all-you-need-parent .banner-fees-wrapper .banner-fees .btn-cont a:last-child").addClass("btn-last")});var f,h="cs",b=window.b$||{},g=b.portal.portalName,v=b.portal.urlRedirect;return f=""!=b.portal.loggedInUserId&&null!=b.portal.loggedInUserId||""!=b.portal.loggedInUserRole&&null!=b.portal.loggedInUserRole,g=b.portal.portalName,{prefModified:function(e){e.refreshIncludes();var t=m(e.htmlNode);m(".bd-structured-content-widget",t).attr("data-type",e.getPreference("contentType")||"Content")},start:function(d){for(var e,t=[],n=0;n<d.model.preferences.array.length;n++)if("templateUrl"==d.model.preferences.array[n].name){e=d.model.preferences.array[n].value;break}var o=d.getPreference("urlContent"),a=b.portal.portalModel.serverURL;if(null!=o){var r=o.indexOf("content");o=a+"/"+o.slice(r,o.length)}var i=b.portal.portalModel.serverURL,l=b.portal.portalName;null==e&&null==e||(t=e.split("/"));var s,c=d.getPreference("contentRef"),p=m(d.htmlNode),u=!1;try{top.bd}catch(e){u=!0}(!(!window.be||u)&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage||"true"===d.model.manageable||""===d.model.manageable||void 0===d.model.manageable)&&(c||p.addClass("bd-empty-structured-content"),m(".bd-structured-content-widget",p).attr("data-type",d.getPreference("contentType")||"Content"),d.addEventListener("preferences-form",function(e){for(var t=b.portal.portalModel.filterPreferences(d.model.preferences.array),n=t.length-1;0<=n;n--)if("Template"==t[n].label)for(var o=d.getPreference("templateList").split(","),a=0,r=0;a<o.length;a++,r++)t[n].inputType.options[r]={label:o[a],value:o[a+1]},a++}),d.addEventListener("bdDrop.enter",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];t.metaData&&t.metaData["cmis:objectTypeId"]&&"bb:structuredcontent"===t.metaData["cmis:objectTypeId"].property?(s=t,p.addClass("bd-over-structured-content")):s=void 0}),d.addEventListener("bdDrop.leave",function(e){p.removeClass("bd-over-structured-content")}),d.addEventListener("bdDrop.drop",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];if(s){if(!d.model.preferences.getByName("contentRef")){var n=b.portal.portalModel.createPreference("contentRef","contentRef",void 0,"");d.model.preferences.add(n)}d.setPreference("urlContent",t.url),d.setPreference("contentRef",[h,"contentRepository"===s.repository?s.repository:"@portalRepository",s.contentUId].join(":")),d.model.save(function(){d.refreshHTML(),p.removeClass("bd-empty-structured-content")}),p.removeClass("bd-over-structured-content")}s=void 0}),window.bd&&window.bd.bindDropEvents&&window.bd.bindDropEvents(d.htmlNode),"all-you-need-to-know.html"==t[t.length-1]&&require(["allYouNeedToKnow"],function(e){e.allyouneed(d,o)}),"locateus.html"==t[t.length-1]&&require(["locateUs"],function(e){e.locateus(o,d,i+"/"+l)}),"WaysToBank.html"==t[t.length-1]&&require(["waysToBank"],function(e){e.wayto(o,d,i,f,g)}),"filter.html"==t[t.length-1]&&require(["filterWidget"],function(e){e.filter(o,d)}),"Article.html"==t[t.length-1]&&m(document).ready(function(){m(".image-text").on("click",function(){for(var e=window.location.href.split("/"),t=0;t<e.length;t++)"sme"==e[t]&&localStorage.setItem("menuItemClicked","SME");var n=m(".image-link-wrapper a.calculate-link").attr("href");b.portal.navigateTo(n)})}),require(["gapJs"]))}}}(jQuery);
YUI.add("af-bootstrap",function(a){"use strict";var i=a.Object,s=a.Af.Utils,l=a.Lang,c=a.Array,f=s.perfStart,d=s.perfStop,p=0,e=s.objectGetValue,t=a.config.win;function g(){return t.Af&&t.Af.bootstrap||YUI.Env.Af&&YUI.Env.Af.bootstrap}function o(t){if(!t)return null;t=t.split(".");return"Y"===t[0]&&t.shift(),e(a,t)}function u(t){var e=g();return e&&e[t]||{}}function M(t){return t&&!0!==t.lazy_load}a.namespace("Af").Bootstrap={_getYUIModules:function(e,n){var u=[];return e&&c.each(["models","views","templates"],function(t){i.each(e[t],function(t){!t.yui_module||n&&!n(t)||u.push(t.yui_module)})}),u},find:function(n){var u=null;return a.Object.each(g(),function(t,e){n(e,t)&&((u=u||{})[e]=t)}),u},load:function(t,e,n){if(n=n||s.noop,!t)return n();l.isString(t)&&(t=[t]);var u,o=e&&e.extraMods||[],r=g();if(r&&i.size(r)&&(c.each(t,function(t){t=r[t];o=o.concat(this._getYUIModules(t,M))},this),o=c.dedupe(o)),0===o.length)return n();u="bsload:yuiuse-"+ ++p+":"+o.length,f(u),(e&&e.batch?s:a).use(o,function(){d(u),n()})},createModel:function(t,e){var n,u=this.getModelMeta(t,e),t=o(u.yui_class),e=u.config,u=u.data;return t&&(t.prototype._isYUIModel?n=new t(a.merge(e,u)):t.prototype._isYUIModelList?n=new t(a.merge(e,{items:u||[]})):(n=new t(e),u&&(n.setAttrs?n.setAttrs(u,{silent:!0}):n.reset&&n.reset(u,{silent:!0})))),n},getMeta:u,hasMeta:function(t){var e=g();return e&&i.owns(e,t)},getModelMeta:function(t,e){t=u(t);return t.models&&t.models[e]||{}},getModelClass:function(t,e){return o(this.getModelMeta(t,e).yui_class)},getModelData:function(t,e){return this.getModelMeta(t,e).data},getViewMeta:function(t,e){t=u(t);return t.views&&t.views[e]||{}},getViewClass:function(t,e){return o(this.getViewMeta(t,e).yui_class)},getTemplateName:function(t,e){t=u(t);return t.templates&&t.templates[e]&&t.templates[e].template_name||null},getLazyLoadYuiModules:function(t,e){var t=u(t),n=[];return t&&e&&t[e]&&i.each(t[e],function(t){t.yui_module&&!0===t.lazy_load&&n.push(t.yui_module)}),n}}},"@VERSION@",{requires:["af-utils"]});

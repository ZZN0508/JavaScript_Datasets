!function(){function i(i){this.init(i)}i.prototype={init:function(i){if(this.ScrollList=document.getElementById(i.id),this.ScrollList){this.aScrollListLi=this.ScrollList.getElementsByTagName("li"),this.oScrollTab=this.ScrollList.nextSibling;for(var t=this.ScrollList.parentNode.childNodes.length,s=0;s<t&&1!=this.oScrollTab.nodeType;s++)this.oScrollTab=this.oScrollTab.nextSibling;this.time=i.time||3e3,this.iLen=this.aScrollListLi.length,this.iOpacity=0,this.iNow=0,this.iLast=this.iLen-1;var o=this;if(this.iTimer=setTimeout(function(){o.autoRun()},o.time),this.iFilterTimer=null,this.appendTab(),this.addEv(),i.btn){this.lbtn=this.oScrollTab.nextSibling;for(s=0;s<t&&1!=this.lbtn.nodeType;s++)this.lbtn=this.lbtn.nextSibling;this.rbtn=this.lbtn.nextSibling;for(s=0;s<t&&1!=this.rbtn.nodeType;s++)this.rbtn=this.rbtn.nextSibling;this.addBtn()}}},appendTab:function(){this.oFragment=document.createDocumentFragment();for(var i=0;i<this.iLen;i++){var t=document.createElement("span");0==i&&(t.className="hover"),t.innerHTML=i+1,this.oFragment.appendChild(t)}this.oScrollTab.appendChild(this.oFragment)},addEv:function(){this.aScrollTabSpan=this.oScrollTab.getElementsByTagName("span");for(var i=this,t=0;t<this.iLen;t++)i.aScrollTabSpan[t].index=t,i.aScrollTabSpan[t].onmouseover=function(){clearTimeout(i.iTimer),i.iNow!=this.index&&(i.iLast=i.iNow,i.iNow=this.index,i.tabClass())},i.aScrollTabSpan[t].onmouseout=function(){i.iTimer=setTimeout(function(){i.autoRun()},i.time)}},filterChange:function(){var i=this;clearTimeout(i.iFilterTimer),this.iOpacity+=20;for(var t=0;t<this.iLen;t++)this.aScrollListLi[t].style.opacity=0,this.aScrollListLi[t].style.filter="alpha(opacity=0)",this.aScrollListLi[t].style.display="none";this.aScrollListLi[this.iNow].style.opacity=this.iOpacity/100,this.aScrollListLi[this.iNow].style.filter="alpha(opacity="+this.iOpacity+")",this.aScrollListLi[this.iNow].style.display="block",this.aScrollListLi[this.iLast].style.opacity=(100-this.iOpacity)/100,this.aScrollListLi[this.iLast].style.filter="alpha(opacity="+(100-this.iOpacity)+")",this.aScrollListLi[this.iLast].style.display="block",this.iOpacity<100?this.iFilterTimer=setTimeout(function(){i.filterChange()},1e3/30):(this.iOpacity=0,this.aScrollListLi[this.iLast].style.display="none",this.aScrollListLi[this.iNow].removeAttribute("style"))},addBtn:function(){var i=this;this.lbtn.onclick=function(){clearTimeout(i.iTimer),i.iLast=i.iNow,i.iNow--,i.iNow<0&&(i.iNow=i.iLen-1),i.tabClass()},this.rbtn.onclick=function(){clearTimeout(i.iTimer),i.iLast=i.iNow,i.iNow++,i.iNow>=i.iLen&&(i.iNow=0),i.tabClass()},this.lbtn.onmouseout=this.rbtn.onmouseout=function(){i.iTimer=setTimeout(function(){i.autoRun()},i.time)}},autoRun:function(){var i=this;clearTimeout(i.iTimer),i.iLast=i.iNow,this.iNow++,this.iNow>=this.iLen&&(this.iNow=0),this.tabClass(),this.iTimer=setTimeout(function(){i.autoRun()},i.time)},tabClass:function(){for(var i=0;i<this.iLen;i++)this.aScrollTabSpan[i].className="",this.aScrollListLi[i].className="";this.aScrollTabSpan[this.iNow].className="hover",this.aScrollListLi[this.iNow].className="on",this.iOpacity=0,this.filterChange()}},window.MaMaScrollPic=i}();

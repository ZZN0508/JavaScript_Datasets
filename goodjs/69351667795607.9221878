var evergageLog,ajq,_aaq,Evergage;window.evergageBeforeSiteConfigExecution=function(){try{var e=Evergage.util.extractFirstGroup(/^\/([a-zA-Z]{2}-[a-zA-Z]{2})\//,window.location.pathname)||Evergage.util.extractFirstGroup(/^\/([a-zA-Z]{2})\//,window.location.pathname);(e=e&&2===e.length?{en:"en_US",fr:"fr_FR",de:"de_DE",es:"es_ES",it:"it_IT",pt:"pt_PT",id:"en_ID",ja:"en_JA"}[e.toLowerCase()]:e)&&5===e.length?(e=e.toLowerCase().replace("-","_").replace(/_[a-zA-Z]{2}/,function(e){return e.toUpperCase()}),Evergage.setCurrentPageLocale(e)):Evergage.setCurrentPageLocale("en_US");var o=document.createEvent("event");function t(n,o,i,r){"function"==typeof i&&void 0===r?r=i:"object"!=typeof i&&(i={}),Evergage.util.runWhenReady(function(){return ajq("form").is(n)},function(){Evergage.safeSubmit(n,function(){var e,t={userEmail:ajq.trim(ajq(this).find("#Email").val()),industry:ajq.trim(ajq(this).find("#Industry option:checked").val()),companyName:ajq.trim(ajq(this).find("#Company").val()),numberOfEmployees:ajq.trim(ajq(this).find("#No_of_Employees__c option:checked").val()),companyRevenue:ajq.trim(ajq(this).find("#Annual_Company_Revenue__c option:checked").val())};for(e in t)t[e]||delete t[e];"function"==typeof r&&(t=r.call(n,t)),Evergage.setCustomFields(t,Evergage.Scope.Request),i.sendActionEventOnNextPage?Evergage.sendActionEventOnNextPage(o,null,5e3):Evergage.trackAction(o)})},1e3,10)}o.initEvent("evgCampaignEvent",!0,!0),Evergage.addExperienceListener(function(e,t,n){window.evgClientSideCampaignData=window.evgClientSideCampaignData||[];t={campaignId:n.campaignId,name:n.campaignName,experienceId:n.experienceId,experienceName:n.experienceName,testGroup:"Default"===n.userGroup?"Test":"Control",statType:t,time:(new Date).getTime()};window.evgClientSideCampaignData.push(t),document.dispatchEvent(o)}),s=window.dataLayer,l=function(e){e=function(e,t,n){if(!Array.isArray(e)||"function"!=typeof t)return null;var o,i;if(n){for(o=e.length-1;0<=o;o--)if(t(i=e[o],o,e))return i}else for(o=0;o<e.length;o++)if(t(i=e[o],o,e))return i;return null}(e,function(e){return e.sixSense_city||e.sixSense_company_name||e.sixSense_company_state||e.sixSense_country||e.sixSense_domain||e.sixSense_employee_range||e.sixSense_industry||e.sixSense_revenue_range||e.sixSense_segments});if(e){var t,n={sixSense_city:e.sixSense_city,sixSense_company_name:e.sixSense_company_name,sixSense_company_state:e.sixSense_company_state,sixSense_country:e.sixSense_country,sixSense_domain:e.sixSense_domain,sixSense_employee_range:e.sixSense_employee_range,sixSense_industry:e.sixSense_industry,sixSense_revenue_range:e.sixSense_revenue_range,sixSense_segments:e.sixSense_segments&&e.sixSense_segments.join("|")};for(t in n)n[t]||delete n[t];return Evergage.setCustomFields(n,Evergage.Scope.Request),Evergage.trackAction("Capture SixSense Attributes"),!0}},Array.isArray(s)&&"function"==typeof l&&(l(s.slice())||(c=s.length,Evergage.util.runWhenReady(function(){var e=s.length;if(c<e){var t=s.slice(c,e),t=l(t);return c=e,t}},new Function))),function(){var e=ajq.cookie("hsMemberPlanInfo");if((e=!!e&&e.split("|"))&&4===e.length){var t,n={};for(t in 0!==e[0]&&(n.planId=e[0]),n.maxPlanId=e[1],n.isInOrganisation=e[2],n.trialStatus=e[3],n)isNaN(parseInt(n[t]))&&delete n[t];Evergage.setCustomFields(n,Evergage.Scope.Request)}}();t(["#contactPageSalesForm form.mktoForm",".demo-request__sidebar__form__marketo form.mktoForm:has(button[type=submit]:not(:contains(Download Now)))","#businessDemoModal form.mktoForm","#enterpriseDemoModal form.mktoForm","#demo-form form.mktoForm",".modal:has(._modalTitle:contains(Watch a Demo)) form.mktoForm",".modal:has(._modalTitle:contains(Request a Demo)) form.mktoForm",".modal:has(._modalTitle:contains(Get started with the Hootsuite Business plan)) form.mktoForm",".modal:has(._modalTitle:contains(Solicitar una demo)) form.mktoForm"].join(", "),"Submission - Request Demo",{sendActionEventOnNextPage:!0}),-1<window.location.pathname.indexOf("/pages/landing/enterprise-smms")&&t("form.mktoForm:first","Submission - Request Demo",{sendActionEventOnNextPage:!0});t(["#downloadReportModal form.mktoForm","#download-form form.mktoForm",".modal:has(._modalTitle:contains(Watch Now)) form.mktoForm",".demo-request__sidebar__form__marketo form.mktoForm:has(button[type=submit]:contains(Download Now))",".modal:has(._modalTitle:contains(Download now)) form.mktoForm",".modal:has(._modalTitle:contains(Get the Expert Guide)) form.mktoForm",".modal:has(._modalTitle:contains(Completa el formulario para descargar)) form.mktoForm",".modal:has(._modalTitle:contains(Read The Complimentary Report)) form.mktoForm"].join(", "),"Submission - Content Download"),-1<window.location.pathname.indexOf("/pages/partner-deal-registration-form")&&t("form.mktoForm:first","Submission - Content Download",{sendActionEventOnNextPage:!0});function n(){var a=this,s={_id:!0,type:!0,tagType:!0,price:!0,inventoryCount:!0,currency:!0},i=[],r={Product:"product",Blog:"blog",Article:"article",Category:"category",Order:"order",Tag:"tag"},l={ViewItem:"viewItem",ViewCategory:"viewCategory",Purchase:"purchase",viewItemOOS:"View Item Out Of Stock"};this.settings={pageLoadWhenTrue:function(){return!0},pageLoadWhenTrueTimeout:500,canonicalizeIds:!0,truncateTranslated:!0,setDefaultListPrice:!0,runOnTranslatedPage:!1,trimDescriptions:!0},this.configs=[];var c={openGraph:function(e){return Evergage.util.getOpenGraphContent(e)},meta:function(e){return Evergage.util.getMetaContent(e)},itemProp:function(e){return Evergage.util.getItemProp(e)},canonical:function(){return Evergage.util.removeQueryString(Evergage.util.getThisPageCanonicalUrl())},href:function(){return Evergage.util.removeQueryString(window.location.href)},lastPathComponentWithoutExtension:function(){return Evergage.util.getLastPathComponentWithoutExtension(window.location.href)},articleContent:function(e){return Evergage.CatMap.getArticleContent(e)}},g={product:function(e,t){t=n(e,t);!0===a.settings.setDefaultListPrice&&t.price&&!t.listPrice&&(t.listPrice=t.price);return t},article:n,blog:n,category:e,order:t,tag:n};function u(e){return ajq(e).first().text()}function o(e){try{return new Function("return "+e+";")()}catch(e){evergageLog.shouldLog("DEBUG")&&console.log("ERROR in runAsFunction: "+e)}}function d(e){return"function"==typeof e.isMatch?e.isMatch():"object"!=typeof e.isMatch||"string"!=typeof e.isMatch.test?"object"==typeof e.isMatch&&e.isMatch.regex?new RegExp(e.isMatch.regex).test(window.location.href):"string"==typeof e.isMatch&&0<ajq(e.isMatch).length:new RegExp(e.isMatch.test).test(window.location.href)}function n(e,t){var n={type:t[0]};return ajq.each(e,function(e,t){t=w(e,t);(t||0===t&&"inventoryCount"===e)&&(n[e]=t)}),n}function e(e){var o={type:Evergage.ItemType.Category};return ajq.each(e,function(e,t){var n;"_id"==e?(n=j("_id",n=y(t)))&&(o._id=n):(t=w(e,t))&&(o[e]=t)}),o}function p(e){var n;if("object"==typeof e?(n=[],ajq.each(e,function(e,t){(t=T(t=w("_id",t),Evergage.ItemType.Tag,e))&&t.length&&ajq.merge(n,t)})):"function"==typeof e&&(n=(n=e())&&T(n,Evergage.ItemType.Tag)),n&&n.length)return n.slice(0,48)}function t(e){if("function"==typeof e)return e();var t={};if(!e.orderId)return t.errorMessage="No orderId configured",t;if("none"!=e.orderId){var n=w("orderId",e.orderId);if(!n)return t.errorMessage="No orderId detected",t;t.orderId=n}if(!e.totalValue||(o=w("totalValue",e.totalValue))&&(t.totalValue=o),e.currency){var o=w("currency",e.currency);if(!o)return t.errorMessage="Currency configured but not detected",t;t.totalValueCurrency=o}return"function"==typeof e.lineItems?t.lineItems=e.lineItems():t.lineItems=f(e,t.totalValueCurrency),t.lineItems&&0!==t.lineItems.length||(t.errorMessage="No lineItems detected"),t}function f(e,n){var t,o=h("_id",e.ids),i=h("sku",e.skus),r=h("price",e.prices),a=h("quantity",e.quantities);if(o&&o.length?t=v(o.length):i&&i.length&&(t=v(i.length)),t){e=t.length;if(m(o,e)&&m(i,e)&&m(r,e)&&m(a,e))return t=ajq.map(t,function(e,t){if(n&&(e.item.currency=n),o&&o[t]&&(e.item._id=o[t]),r&&(r[t]||0===r[t])&&(e.item.price=0===r[t]?.01:r[t]),i&&i[t]&&(e.sku=i[t]),a&&a[t]&&(e.quantity=a[t]),(e.item._id||e.sku)&&e.quantity)return e})}}function h(e,t){if(t)return w(e,t="function"!=typeof t?"string"==typeof(e=t)?{selector:e,multiple:!0}:(e.multiple=!0,e):t)}function m(e,t){return!e||0===e.length||e.length==t}function v(e){for(var t=[],n=0;n<e;n++)t.push({item:{type:Evergage.ItemType.Product},quantity:1});return t}function y(n){if(ajq.isArray(n))for(var e=0;e<n.length;e++){var t=y(n[e]);if(null!=t&&""!==t)return t}var o,i,r,a=[];return"string"==typeof n&&c.hasOwnProperty(n)?c[n]("_id"):("string"==typeof n?(i=ajq(n),ajq.each(i,function(e,t){t=ajq.trim(ajq(t).text());t&&a.push(t)}),r=a.join("|")):"object"==typeof n?(r=n.selector?(i=ajq(n.selector),n.startFrom&&(i=i.slice(n.startFrom)),n.ignoreLast&&(i=i.slice(0,-1)),n.attribute?ajq.each(i,function(e,t){t=ajq.trim(ajq(t).attr(n.attribute));t&&a.push(t)}):n.lastCrumbFullPath?(o=ajq(i).last().attr("href"),(o=Evergage.util.getPathname(o))&&(r=o.replace(/^\//,"").replace(/\/ajq/,"").replace(/\//g,"|"))&&a.push(r)):n.crumbsLastPathComp?ajq.each(i,function(e,t){t=ajq(t).attr("href"),t=Evergage.util.getLastPathComponentWithoutExtension(t);t&&a.push(t)}):ajq.each(i,function(e,t){t=ajq.trim(ajq(t).text());t&&a.push(t)}),n.multiple?a:a.join("|")):b(0,n),n.transform&&(r=n.transform(r))):"function"==typeof n&&(r=n()),r)}function w(e,t){if(ajq.isArray(t))for(var n=0;n<t.length;n++){var o=w(e,t[n]);if(null!=o&&""!==o)return o}var i,r;if("namePage"==e&&"string"==typeof t)i=t;else if("categories"==e&&("string"==typeof t||"object"==typeof t&&t.selector))i=y(t);else{if("tags"==e)return p(t);"custom"==e&&"object"==typeof t?(r={},ajq.each(t,function(e,t){t=w(e,t);t&&(r[e]=t)}),i=r):"string"==typeof t?i=function(e,t){if(c.hasOwnProperty(t))return c[t](e);return u(t)}(e,t):"object"==typeof t?(i=b(0,t),t.transform&&(i=t.transform(i))):"function"==typeof t&&(i=t())}if(i||"inventoryCount"===e&&0===i)return j(e,i)}function b(e,t){for(var n in c)if(t.hasOwnProperty(n))return c[n](t[n]);return t.selector?t.multiple?function(n){var o=[],e=ajq(n.selector);n.attribute?ajq.each(e,function(e,t){o.push(ajq(t).attr(n.attribute))}):ajq.each(e,function(e,t){o.push(ajq(t).text())});return o}(t):t.attribute?ajq(t.selector).attr(t.attribute):u(t.selector):t.utag?function(e){if(window.utag_data&&window.utag_data[e])return ajq.isArray(window.utag_data[e])?window.utag_data[e][0]:window.utag_data[e]}(t.utag):t.eval?o(t.eval):t.static||(t.object?x(t.object):void 0)}function x(e){for(var t,n=e.split("."),o=window,i=0;i<n.length;i++)if(t=/(\w+)\[([\w-"']+)\]/.exec(n[i]),o[n[i]])o=o[n[i]];else{if(!t)return null;if(o[t[1]]){var r=t[2].replace(/['"]/g,"");if(!(o=o[t[1]][r]))return null}}return o}function E(n,o,i,r){if("string"==typeof o||"object"==typeof o&&o.selector&&o.validate&&"function"==typeof o.validate){var e="string"==typeof o?o:o.selector;Evergage.safeClick(e,function(e){var t;o.validate&&!o.validate(e)||(t={item:n.data,quantity:function e(t){if(ajq.isArray(t))for(var n=0;n<t.length;n++){var o=t[n],o=e(o);if(null!=o&&""!==o)return o}{if("function"==typeof t)return t();if("string"==typeof t){var i=ajq(t);return i.is("input, select")?+i.val():w("quantity",t)}if("object"==typeof t)return w("quantity",t)}}(i)},!r||(e=w("sku",r))&&(t.sku={id:e}),t.item._id&&t.quantity&&Evergage.addToCart(t))})}else if("function"==typeof o)return o(n.data)}function C(e,i){var r,t=e.type;t===Evergage.ItemType.Category?(r=window.location.pathname,Evergage.util.runWhenReady(function(){return 0<ajq(i.selector).length},function(){Evergage.safeClick(i.selector,function(e){var t,n,o=ajq(e.target).closest("a");o.length&&(i.itemSelector&&!o.closest(i.itemSelector).length||(t=i,n=r,o={url:(e=o).attr("href"),ref:n},e=e.closest(ajq(t.itemSelector||t.selector)),t.selectorTransform?o._id=t.selectorTransform(e):t.childSelector&&t.attribute?o._id=e.find(t.childSelector).attr(t.attribute):t.attribute&&(o._id=e.attr(t.attribute)),(t=Evergage.util.getCurrentPageItem())&&t.type===Evergage.ItemType.Category&&(o.category=t._id),o.url&&o.ref&&(ajq.jStorage.set("evergage|evgProduct",o,{TTL:3e4}),Evergage.CatMap.spaRefferer=n)))})},500,20)):t===Evergage.ItemType.Product?(t=ajq.jStorage.get("evergage|evgProduct"),ajq.jStorage.deleteKey("evergage|evgProduct"),t&&t.category&&function(e,t){var n=Evergage.CatMap.spaRefferer||document.referrer;delete Evergage.CatMap.spaRefferer;var o=-1<n.indexOf(t.ref),n=-1<window.location.href.indexOf(t.url),t=e&&e===t._id;return o&&(n||t)}(e._id,t)&&(e.categories=[{type:Evergage.ItemType.Category,_id:t.category}])):ajq.jStorage.deleteKey("evergage|evgProduct")}function j(t,e){return e=ajq.isArray(e)?ajq.map(e,function(e){return q(t,e)}):q(t,e),e="categories"==t?T(e,Evergage.ItemType.Category):e}function q(e,t){var n;return"price"!=e&&"listPrice"!=e&&"totalValue"!=e&&"rating"!=e&&"numRatings"!=e||"string"!=typeof t||(t=Evergage.util.getCurrencyValue(t)),"url"!=e&&"imageUrl"!=e||(t=Evergage.util.qualifyUrl(t)),"_id"!=e&&"sku"!=e&&"orderId"!=e||"number"!=typeof t||(t=t.toString()),"string"==typeof(t=a.settings.canonicalizeIds&&"string"==typeof t&&("_id"==e||"sku"==e||"orderId"==e||"alternateId"==e||"parentId"==e)?t.toUpperCase():t)&&(0<=t.indexOf("&")&&((n=document.createElement("textarea")).innerHTML=t,t=n.value),t=ajq.trim(t)),a.settings.trimDescriptions&&"description"==e&&"string"==typeof t&&200<t.length&&(t=t.substr(0,197)+"..."),t=("quantity"==e||"inventoryCount"===e)&&"string"==typeof t?+t:t}function T(e,o,i){var t,r=[];return"string"==typeof e&&e?(t={type:o,_id:q("_id",e)},i&&(t.tagType=i),t._id&&r.push(t)):ajq.isArray(e)&&0<e.length&&ajq.each(e,function(e,t){var n;"string"==typeof t?(n={type:o,_id:q("_id",t)},i&&(n.tagType=i),n._id&&r.push(n)):"object"==typeof t&&t.type==o&&t._id&&(t._id=q("_id",t._id),t._id&&r.push(t))}),r.length?r:null}function I(e){var o={};e=e||this.configs,ajq.each(e,function(e,t){if(!o.error)if(o.action)d(t)&&(o.error="Invalid CatMap, multiple page matches",o.errorConfig=t);else if(d(t)){var n;if(!t.namePage||(n=w("namePage",t.namePage))&&Evergage.namePage(n),t.product)S(o,t,r.Product,l.ViewItem);else if(t.article)S(o,t,r.Article,l.ViewItem);else if(t.blog)S(o,t,r.Blog,l.ViewItem);else if(t.tag)S(o,t,r.Tag,l.ViewItem);else if(t.order)S(o,t,r.Order,l.Purchase);else if(t.category)S(o,t,r.Category,l.ViewCategory);else if("function"==typeof t.runFunction&&(2==Object.keys(t).length||3==Object.keys(t).length&&t.namePage))return t.runFunction(o.data);if(!o.data)return o;o.error||(t.addToCart&&E(o,t.addToCart,t.quantity,t.sku),t.runFunction&&t.runFunction(o.data),t.runAfter&&i.push(t.runAfter))}});try{o.errorConfig&&(o.errorConfig=JSON.stringify(o.errorConfig||{}))}catch(e){delete o.errorConfig}return o}function S(e,t,n,o){var i,r=g[n](t[n],n);return r?"order"===n&&r.errorMessage?(e.error=r.errorMessage,void(e.errorConfig=t)):("order"!=n&&"View Item Out Of Stock"!==t.itemAction&&(r._id||(e.error="Invalid "+n+" missing _id",e.errorConfig=t),i=r,a.settings.truncateTranslated&&k()&&ajq.each(i,function(e){s[e]||delete i[e]})),"View Item Out Of Stock"!==t.itemAction||r.alternateId?(t.productCategory&&!e.error&&r.type==Evergage.ItemType.Product&&C(r,t.productCategory),"function"==typeof t.transform&&(r=t.transform(r)),t.productCategory&&!e.error&&r.type==Evergage.ItemType.Category&&C(r,t.productCategory),e.data=r,void(e.itemAction=t.itemAction||o)):(e.error="Invalid "+t.itemAction+" missing alternateId",void(e.errorConfig=t))):(e.error="Invalid "+n,void(e.errorConfig=t))}function k(){var e=0<ajq("script[src*='//translate.googleusercontent.com']").length,t=ajq("html"),t=t.hasClass("translated-ltr")||t.hasClass("translated-rtl");if(e||t)return evergageLog.shouldLog("DEBUG")&&console.log("page is translated"),1;try{var n=0<ajq(window.parent.document).find("script[src*='//www.microsofttranslator.com']").length,o=0<ajq(window.parent.document).find("frame[src*='//www.worldlingo.com']").length;return n||o?(evergageLog.shouldLog("DEBUG")&&console.log("page is translated"),1):void(evergageLog.shouldLog("DEBUG")&&console.log("page is not translated"))}catch(e){return void(evergageLog.shouldLog("DEBUG")&&console.log("exception caught, assuming page is untranslated "+e))}}function A(e){if(a.settings.runOnTranslatedPage||!k()){var t,n=I.bind(Evergage.CatMap)(e);if(n&&n.error)return t=n.error,e=n.errorConfig,void(Evergage.sendException&&Evergage.sendException(new Error(t+": "+e),"Site-wide JavaScript"));n&&n.itemAction&&n.data&&(n.itemAction===l.ViewItem&&null!=n.data.sku?(n.data.isProduct=!0,Evergage[n.itemAction](n.data,null,{id:n.data.sku})):"viewCart"===n.itemAction?(Evergage.setCustomField(".order",window.JSON.stringify(n.data),Evergage.Scope.Request),Evergage.setCustomField(".itemAction","View Cart",Evergage.Scope.Request)):n.itemAction===l.viewItemOOS?Evergage.trackAction("View Item Out Of Stock",{".item":window.JSON.stringify(n.data)}):Evergage[n.itemAction](n.data))}}var L={setConfigs:function(e){a.configs=e},pushPage:function(e){a.configs.push(e)},updateSettings:function(e){ajq.extend(a.settings,e)},getArticleContent:function(e){return 0<(e=ajq("meta[property='article:"+e+"']:first")).length?ajq.trim(e.attr("content")):null},_getValue:w,_runAsFunction:o,_runSpecificConfig:function(e){A([e])},build:I,init:function(){Evergage.sendPageLoadEventWhenTrue(function(e){return!!a.settings.pageLoadWhenTrue(e)&&(A(),!0)},a.settings.pageLoadWhenTrueTimeout),Evergage.util.runWhenReady(function(){return Evergage.hasPageLoadEventBeenFired()&&0<i.length},function(){i.forEach(function(e){e()})},1e3,10)},_callbacks:{buildCategoryId:y,buildCategory:e,buildLineItemArrayWithLength:v,buildOrder:t,buildOrderLineItems:f,buildItem:n,buildTags:p,getValueFromWindow:x}};ajq.extend(this,L)}t(["#on-demand-form form.mktoForm","#register-form form.mktoForm",".modal:has(._modalTitle:contains(Register Now)) form.mktoForm"].join(", "),"Submission - Webinar Registration"),window.Evergage&&(Evergage.CatMap=Evergage.CatMap||new n,Evergage.CatMap.setConfigs([]));var i={isMatch:function(){return/\/platform\/[^\/]+\/?$/.test(window.location.pathname)||/\/plans/.test(window.location.pathname)||/\/(facebook|instagram|youtube|linkedin|twitter|pinterest?)\/?$/.test(window.location.pathname)||/\/(?:solutions|industries)\/[^\/]+\/?$/.test(window.location.pathname)},product:{_id:"lastPathComponentWithoutExtension",name:{selector:"meta[itemprop=name]",attribute:"content",transform:function(e){return/^\/plans\/?$/.test(window.location.pathname)?"Plans Overview":e.replace(" - Hootsuite","")}},url:"canonical",imageUrl:{selector:".hero__image img",attribute:"src"},description:"meta",price:{static:1},currency:"USD",inventoryCount:{static:1},categories:function(){return/\/platform\/[^\/]+\/?$/.test(window.location.pathname)?"platform":/\/plans/.test(window.location.pathname)?"plans":/\/(?:solutions|industries)\/[^\/]+\/?$/.test(window.location.pathname)?"Enterprise Plan":void 0},tags:{Features:function(){if(/\/platform\/[^\/]+\/?$/.test(window.location.pathname))return Evergage.util.getLastPathComponentWithoutExtension(window.location.pathname).replace(/[^a-zA-Z]/g," ")},NetworksAndIntegrations:function(){if(Evergage.util.extractFirstGroup(/^\/(facebook|instagram|youtube|linkedin|twitter|pinterest)\/?$/,window.location.pathname))return Evergage.util.getLastPathComponentWithoutExtension(window.location.pathname).replace(/[^a-zA-Z]/g," ")},Solutions:function(){if(/\/(?:solutions)\/[^\/]+\/?$/.test(window.location.pathname))return Evergage.util.getLastPathComponentWithoutExtension(window.location.pathname).replace(/[^a-zA-Z]/g," ")},Industries:function(){if(/\/(?:industries)\/[^\/]+\/?$/.test(window.location.pathname))return Evergage.util.getLastPathComponentWithoutExtension(window.location.pathname).replace(/[^a-zA-Z]/g," ")}}}},r={isMatch:function(){if(0<ajq("body.resource").length){var e=ajq.jStorage.get("evergage|evgEducationArticle");return e&&(Evergage.CatMap.educationArticle=e),ajq.jStorage.deleteKey("evergage|evgEducationArticle"),!0}},article:{_id:"lastPathComponentWithoutExtension",name:{openGraph:"title"},url:"canonical",imageUrl:{selector:".hero__figure img",attribute:"src",transform:function(e){return!e&&Evergage.CatMap.educationArticle&&Evergage.CatMap.educationArticle.imageUrl?Evergage.CatMap.educationArticle.imageUrl:e}},description:"meta",categories:{selector:".hero__breadcrumb a",transform:function(e){return Evergage.CatMap.educationArticle&&Evergage.CatMap.educationArticle.categories?Evergage.CatMap.educationArticle.categories+"|"+e:e}},tags:{Industry:{object:"Evergage.CatMap.educationArticle.industry"},Author:{selector:".webinars__hero__speaker-name"}}},runFunction:function(e){Evergage.safeTimeout(function(){0<ajq(".mktoForm").length&&Evergage.viewItemDetail({type:e.type,_id:e._id,tags:[{type:"t",_id:"true",tagType:"Gated"}]})},5e3)}},a={isMatch:function(){return 0<ajq("body.resources").length},runFunction:function(){var e={industry:ajq.trim(ajq("select[name=industry] option:checked").text()),categories:Evergage.util.getParameterByName("tags[]",decodeURIComponent(window.location.href))};Evergage.safeClick(".resources__list a",function(){e.imageUrl=ajq(this).closest("li").find("img").prop("src"),ajq.jStorage.set("evergage|evgEducationArticle",e,{TTL:3e4})})}};Evergage.CatMap.pushPage(i),Evergage.CatMap.pushPage(r),Evergage.CatMap.pushPage(a),Evergage.CatMap.init()}catch(e){"object"==typeof window.Evergage&&"function"==typeof window.Evergage.getVersion&&5<=window.Evergage.getVersion()&&Evergage.sendException(e,"siteWideJavascript")}var s,l,c},window.evergageSiteConfig={_id:54,account:"hootsuite",alwaysIgnoreDomainName:!1,baseUrl:"https://hootsuite.us-1.evergage.com",beaconConfig:{allowBotTraffic:!1,corsAllowedOrigins:["*"],defaultCurrency:"USD",defaultLocale:null,disableQtipWindowScroll:!1,doNotStoreCookiesRequireProvidedAnonId:!1,doNotTrackPingRequestsForActions:!1,enableCorsRestrictedOrigins:!1,enableMessageRotation:!1,enableRememberMeUserIds:!0,enableTemplateEsc:!1,hideContentSections:!0,hideContentSectionsMillis:2500,hidePagesForRedirect:!0,hidePagesForRedirectMillis:1e3,lastModified:1620896373977,preventSensitiveDataCapture:!1,rememberMeUserIdsMillis:63072e6,sendErrorEvents:!0,showPoweredBy:!1,siteConfigExecBeforePageReady:!1,spaRouteChangeTimeout:500,trackAnonymousVisitors:!0,trackContextualRelatedItems:!1,trackSubdomainAsCompany:!1,trackUnknownPagesByTitle:!1,treatHashChangeAsPageLoad:!1},dataset:"engage",deployedTimeRanges:[],domainsTracked:[],globalFields:[],globalForms:[{formFields:[{created:1587159841226,expression:"",id:"m2tC0",location:null,match:"[name='Email']",name:"Email",numeric:!1,sendOncePerPage:!1,updated:1587159841226}],id:null,match:"div#register-form > form._marketo",name:"Webinar Registration"}],globalPageActions:[{id:"ygeaB",match:"a.navigation__btn",name:"Navigation Trial CTA"},{id:"hZAmH",match:"div#c-planCard-TEAM3S > div.plan-card__card-wrapper > div.plan-card__body > a.btn",name:"Team Trial Button"},{id:"LccOH",match:"#navHeaderContactUs a",name:"Clicked - Contact Us"},{id:"ZXeQP",match:"#navHeaderCtaLogIn a",name:"Clicked - Log In"},{id:"K9mRx",match:"a:contains(Start Your Free 30-Day Trial)",name:"Clicked - Free Trial"},{id:"Woqph",match:"button.btn:contains(Watch a Demo Now)",name:"Watch a Demo Now"}],googleAnalyticsIntegrationConfig:{actionEventOptions:{actionFormat:null,categoryFormat:"Web Personalization Actions",enabled:!0,exclusionActionNames:null,inclusionActionNames:null,labelFormat:"${actionName}",pageActionFormat:"Page Action",pageLoadActionFormat:"Page Load",trackingLevel:null},campaignEventOptions:{categoryFormat:"Web Personalization Campaign",enabled:!0,labelFormat:"${campaignName} | ${userGroup} | ${experienceName}",statTypeClickthroughFormat:"Clickthrough",statTypeDismissalFormat:"Dismissal",statTypeImpressionFormat:"Impression",testingModeEventsEnabled:!0,trackingLevel:"allCampaigns"},createTrackingObject:!1,enabled:!0,prependCommandsWithTrackerName:!1,trackerName:null,trackingId:"UA-17737250-24"},hideContentSectionsList:["div.lp-positioned-content > :nth-child(28) + div.lp-element + div.lp-element + a.lp-element + a.lp-element + a.lp-element + div.lp-element + a.lp-element + div.lp-element > p","div.lp-positioned-content > :nth-child(1) + div.lp-element + div.lp-element + div.lp-element > :nth-child(1) + p","a.btn.btn-bar__btn.btn--primary","div.lp-positioned-content > :nth-child(1) + div.lp-element + div.lp-element + div.lp-element + div.lp-element > :nth-child(1)","div.lp-positioned-content > :nth-child(35) + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + a.lp-element","div.lp-positioned-content > :nth-child(1) + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element > :nth-child(1)","div.lp-positioned-content > :nth-child(29) + div.lp-element + a.lp-element + a.lp-element + a.lp-element + div.lp-element + a.lp-element + div.lp-element + div.lp-element > p","div.lp-positioned-content > :nth-child(16) + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element > p","div.hero__copy > :nth-child(1) + p","a.navigation__btn","div.lp-positioned-content > :nth-child(31) + a.lp-element + a.lp-element + div.lp-element + a.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element > p","div.lp-positioned-content > :nth-child(30) + a.lp-element + a.lp-element + a.lp-element + div.lp-element + a.lp-element + div.lp-element + div.lp-element + div.lp-element > p","div.lp-positioned-content > :nth-child(1) + div.lp-element + div.lp-element + div.lp-element > :nth-child(1)","div.lp-positioned-content > :nth-child(35) + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element + div.lp-element > p","div.lp-positioned-content > :nth-child(1) + div.lp-element + div.lp-element + div.lp-element + div.lp-element > :nth-child(1) + p","h1.h0","p[contenteditable='true'] + p"],hidePageBeforeRedirectList:[],id:"54",modificationTime:1593796536141,pages:[{action:"ES - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:["hootsuite.com"],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:null,matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:null,titleMatchesFound:[],titleRegex:"^Hootsuite \\- Su plataforma para interactuar, escuchar y compartir en re$",urlMatchesFound:[],urlRegex:"^\\/es\\/.*$"},{action:"UK - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584544945530,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^\\/en\\-gb\\/(?:(\\?.*))?(#.*)?$"},{action:"FR - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584544965310,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^\\/fr\\/(?:(\\?.*))?(#.*)?$"},{action:"PT - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:1584545009554,titleMatchesFound:[],titleRegex:"^Sua plataforma para interagir, ouvir e compartilhar nas mídias sociais$",urlMatchesFound:[],urlRegex:"^\\/pt\\/.*$"},{action:"DE - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:1584545036285,titleMatchesFound:[],titleRegex:"^Ihre Plattform für Engagement, Listening und Teilen in Social Media \\-$",urlMatchesFound:[],urlRegex:"^\\/de\\/.*$"},{action:"IT - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:1584545074797,titleMatchesFound:[],titleRegex:"^Hootsuite: la piattaforma per coinvolgere, ascoltare e condividere sui$",urlMatchesFound:[],urlRegex:"^\\/it\\/.*$"},{action:"EN - Hompage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584545147206,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[^g][^b]))?\\/(?:(\\?.*))?(#.*)?$"},{action:"ID - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:1584545299185,titleMatchesFound:[],titleRegex:"^.+ial .+edia .+$",urlMatchesFound:[],urlRegex:"^\\/id\\/$"},{action:"JA - Homepage",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:1584545359615,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^\\/ja\\/.*$"},{action:"EN - Mobile Apps",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584552488502,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/products\\/mobile-apps(?:(\\?.*))?(#.*)?$"},{action:"EN - Platform",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584553706401,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/platform(?:(\\?.*))?(#.*)?$"},{action:"EN - Plans",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584554291300,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/plans(?:(\\?.*))?(#.*)?$"},{action:"EN - Plans | Professional",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584555984599,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/plans\\/professional(?:(\\?.*))?(#.*)?$"},{action:"EN - Plans | Free",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584556191004,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/plans\\/free(?:(\\?.*))?(#.*)?$"},{action:"EN - Plans | Team",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584556217117,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/plans\\/team(?:(\\?.*))?(#.*)?$"},{action:"EN - Plans | Enterprise",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584556261488,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/plans\\/enterprise(?:(\\?.*))?(#.*)?$"},{action:"EN - Resources",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584556319315,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/resources(?:(\\?.*))?(#.*)?$"},{action:"EN - Logged Out",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584556736995,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/logged\\-out(?:(\\?.*))?(#.*)?$"},{action:"EN - Social Trends",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584557054860,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/research\\/social\\-trends(?:(\\?.*))?(#.*)?$"},{action:"EN - Contact Us",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584557095857,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/about\\/contact\\-us(?:(\\?.*))?(#.*)?$"},{action:"EN - Request Demo",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584557157993,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/request\\-demo(?:(\\?.*))?(#.*)?$"},{action:"EN - Demo-Video",archived:!1,domainMatchRequired:!1,domainsMatched:[],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!0,ignoreDomainName:!1,label:"",matchType:"url",pageActions:[],pageInstances:[],regexCustom:!0,startTrackingDate:1584557255177,titleMatchesFound:[],titleRegex:null,urlMatchesFound:[],urlRegex:"^(?:\\/en-(?:[A-z]{2}))?\\/pages\\/demo\\-video(?:(\\?.*))?(#.*)?$"},{action:"Homepage - LAB",archived:!1,domainMatchRequired:!1,domainsMatched:["hootsuite.com"],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!1,ignoreDomainName:!1,label:null,matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:null,titleMatchesFound:[],titleRegex:"^Social Media Marketing & Management Dashboard \\- Hootsuite$",urlMatchesFound:[],urlRegex:"^\\/lab$"},{action:"Social Marketing",archived:!1,domainMatchRequired:!1,domainsMatched:["hootsuite.com"],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!1,ignoreDomainName:!1,label:null,matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:null,titleMatchesFound:[],titleRegex:"^Social Media Marketing$",urlMatchesFound:[],urlRegex:"^\\/solutions\\/social\\-marketing$"},{action:"PUA test",archived:!1,domainMatchRequired:!1,domainsMatched:["signup.hootsuite.com"],fields:[],forms:[],id:null,ignoreCaseForRegexMatch:!1,ignoreDomainName:!1,label:null,matchType:"url",pageActions:[],pageInstances:[],regexCustom:!1,startTrackingDate:null,titleMatchesFound:[],titleRegex:"^Hootsuite \\- The Best Way To Manage Social Media$",urlMatchesFound:[],urlRegex:"^\\/pua\\-na\\-facebook\\-60\\-day\\/$"}],server:"",siteConfigExecBeforePageReady:!1,trackAccounts:!0,trackAnonymousUsers:!0,trackSeparately:!1,trackSubdomainAsCompany:!1,trackUnknownPages:!1,treatHashChangeAsPageLoad:!1,twoWayEnabled:!0},window.evergageSiteWideStyles="/*\n * Copyright (C) 2010-2014 Evergage, Inc.\n * All rights reserved.\n */\n\n\n/* Fluid class for determining actual width in IE */\n#qtip-rcontainer .evergage-tooltip{\n    display: block !important;\n    visibility: hidden !important;\n    position: static !important;\n    float: left !important;\n}\n\n/* Core qTip styles */\n.evergage-tooltip, .evergage-qtip{\n    position: fixed;\n    left: -28000px;\n    top: -28000px;\n    display: none;\n}\n\n.evergage-tooltip.evergageMessageInVisualEditorTestMode {\n    position: absolute;\n    pointer-events: auto;\n}\n\n.evergage-tooltip.evergage-jgrowl.evergage-tooltip-bar {\n    max-width: 100% !important;\n    width: 100% !important;\n    border-radius: 0px !important;\n    -o-border-radius: 0px !important;\n    -moz-border-radius: 0px !important;\n    -webkit-border-radius: 0px !important;\n    -ms-border-radius: 0px !important;\n}\n\n.evergage-tooltip-invisible {\n    display: none !important;\n    visibility: hidden !important;\n    width: 1px !important;\n    height: 1px !important;\n}\n\n.evergage-tooltip-page {\n    position: relative;\n    left: 0;\n    top: 0;\n    z-index: inherit !important;\n    display: inline-block;\n}\n\n.evergage-tooltip-page-replace {\n    max-width: 100% !important;\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-notdone, .evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done {\n    text-transform: inherit;\n    display: list-item;\n    width: inherit;\n    line-height: inherit;\n    text-align: left;\n    margin-bottom: 10px;\n    list-style-position: inside;\n}\n\n.evergage-tooltip li.evergage-task-done, .evergage-tooltip li.evergage-task-notdone {\n    margin-bottom: 10px;\n}\n\n.evergage-tooltip .evergage-tooltip-content li.evergage-tasklistitem-done, .evergage-tooltip li.evergage-task-done {\n    text-decoration: line-through;\n}\n\n.evergage-tooltip.evergage-nonBlocking.evergage-tooltip-hover {\n    opacity: 0.2 !important;\n}\n\n.evergage-tooltip .evergage-tooltip-content{\n    position: relative;\n    padding: 5px 9px;\n    overflow: hidden;\n\n    text-align: left;\n    word-wrap: break-word;\n}\n\n.evergage-tooltip .evergage-tooltip-titlebar{\n    position: relative;\n    min-height: 14px;\n    padding: 5px 35px 5px 10px;\n    overflow: hidden;\n\n    border-width: 0 0 1px;\n    font-weight: bold;\n}\n\n.evergage-tooltip-titlebar + .evergage-tooltip-content{ border-top-width: 0 !important; }\n\n/* Default close button class */\n.evergage-tooltip-titlebar .evergage-tooltip-close {\n    position: absolute;\n    right: 4px;\n    top: 50%;\n    margin-top: -9px;\n    font-weight: bold;\n\n    cursor: pointer;\n    outline: medium none;\n\n    border: none;\n    background: transparent;\n    /*border-width: 1px;*/\n    /*border-style: solid;*/\n}\n\n.emptyTitle > .evergage-tooltip-titlebar  {\n    height: 0;\n    float: right;\n    z-index: 2147483647;\n}\n\n* html .evergage-tooltip .evergage-tooltip-titlebar .evergage-tooltip-close { top: 16px; } /* IE fix */\n\n.evergage-tooltip-titlebar .evergage-ui-icon-close,\n.evergage-tooltip-icon .evergage-ui-icon-close {\n    display: block;\n    text-indent: -1000em;\n    direction: ltr;\n}\n\n.evergage-tooltip-icon, .evergage-tooltip-icon .evergage-ui-icon-close {\n    -moz-border-radius: 3px;\n    -webkit-border-radius: 3px;\n    border-radius: 3px;\n    text-decoration: none;\n}\n\n.evergage-tooltip-icon .evergage-ui-icon-close{\n    width: 18px;\n    height: 14px;\n\n    text-align: center;\n    text-indent: 0;\n    font: normal bold 14px/14px sans-serif;\n\n    color: inherit;\n    background: transparent none no-repeat -100em -100em;\n}\n\na.evergage-tooltip-close:hover {\n    text-decoration: none;\n}\n\n.evergage-ui-icon-close:hover {\n    font-size: 22px;\n}\n\n\n/* Applied to 'focused' tooltips e.g. most recently displayed/interacted with */\n.evergage-tooltip-focus {}\n\n/* Applied on hover of tooltips i.e. added/removed on mouseenter/mouseleave respectively */\n.evergage-tooltip-hover {}\n\n/* Default tooltip style */\n.evergage-tooltip-default {\n    /*border-width: 2px;\n    border-style: solid;\n    border-color: #F1D031;\n\n    background-color: #FFFFA3;\n    color: #555;*/\n}\n\n.evergage-tooltip-default .evergage-tooltip-titlebar {\n    background-color: transparent;\n}\n\n.evergage-tooltip-default .evergage-tooltip-icon {\n    /*border-color: #CCC;*/\n    /*background: #F1F1F1;*/\n    /*color: #777;*/\n}\n\n/* Add shadows to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-shadow{\n    -webkit-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    -moz-box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    box-shadow: 1px 1px 3px 1px rgba(0, 0, 0, 0.15);\n}\n\n/* Add rounded corners to your tooltips in: FF3+, Chrome 2+, Opera 10.6+, IE9+, Safari 2+ */\n.evergage-tooltip-rounded,\n.evergage-tooltip-tipsy,\n.evergage-tooltip-bootstrap{\n    -moz-border-radius: 5px;\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n}\n\n\n\n/* IE9 fix - removes all filters */\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-content,\n.evergage-tooltip:not(.ie9haxors) div.evergage-tooltip-titlebar{\n    filter: none;\n    -ms-filter: none;\n}\n\n\n/* Tips plugin */\n.evergage-tooltip .evergage-tooltip-tip{\n    margin: 0 auto;\n    overflow: hidden;\n    z-index: 10;\n}\n\n.evergage-tooltip .evergage-tooltip-tip,\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    position: absolute;\n\n    line-height: 0.1px !important;\n    font-size: 0.1px !important;\n    color: #123456;\n\n    background: transparent;\n    border: 0 dashed transparent;\n}\n\n.evergage-tooltip .evergage-tooltip-tip canvas{ top: 0; left: 0; }\n\n.evergage-tooltip .evergage-tooltip-tip .evergage-qtip-vml{\n    behavior: url(#default#VML);\n    display: inline-block;\n    visibility: visible;\n}\n\n/* Modal plugin */\n#evergage-qtip-overlay{\n    position: fixed;\n    left: -10000em;\n    top: -10000em;\n}\n\n/* Applied to modals with show.modal.blur set to true */\n#evergage-qtip-overlay.blurs{ cursor: pointer; }\n\n/* Change opacity of overlay here */\n#evergage-qtip-overlay div{\n    position: absolute;\n    left: 0; top: 0;\n    width: 100%; height: 100%;\n\n    background-color: black;\n\n    opacity: 0.7;\n    filter:alpha(opacity=70);\n    -ms-filter:\\\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\\\";\n}\n\n.evergage.poweredByEvergage > a {\n    opacity: 0.2;\n    transition: opacity 0.3s ease-in-out;\n    -webkit-transition: opacity 0.3s ease-in-out;\n    -moz-transition: opacity 0.3s ease-in-out;\n    position: absolute;\n    right: 4px;\n    bottom: 2px;\n}\n\n.evergage.poweredByEvergage > a:hover {\n    opacity: 1;\n}\n\n\n//# sourceURL=evergageStyles.css*/","object"==typeof window.Evergage&&null!=window.Evergage&&"function"==typeof window.Evergage.getVersion&&"number"==typeof window.Evergage.getVersion()?"object"==typeof window.evergageLog&&null!=window.evergageLog&&"function"==typeof window.evergageLog.shouldLog&&(window.evergageLog.shouldLog("WARN")&&console.log("Evergage: Aborting beacon load as the Evergage beacon was already found on this page."),"function"==typeof window.Evergage.sendException&&100*Math.random()<1&&window.Evergage.sendException(Error("Beacon Already Loaded"),"beaconAlreadyLoaded")):/msie [2-9]/i.test(navigator.userAgent)||(window.evergageBeaconParseTimeStart=(new Date).getTime(),evergageLog=function(){function t(e){return"object"==typeof window.console&&"function"==typeof window.console.log&&null!=n(e)&&n(e)<=i}function n(e){return"string"!=typeof e?null:"NONE"==(e=e.toUpperCase())?0:"ERROR"==e?1:"WARN"==e?2:"INFO"==e?3:"DEBUG"==e?4:"TRACE"==e?5:null}function o(e){return"string"!=typeof e?null:"NONE"==(e=e.toUpperCase())?0:"BASIC"==e?1:"MODERATE"==e?2:"RIGOROUS"==e?3:null}var i=1,r=0,a=[],e={};return e.shouldLog=t,e.shouldTestPerf=function(e){return"object"==typeof window.console&&"function"==typeof window.console.time&&"function"==typeof window.console.timeEnd&&null!=o(e)&&o(e)<=r},e.setLoggingLevel=function(e){return"number"==typeof(e=n(e))&&(i=e),e},e.setPerformanceTestLevel=function(e){return"number"==typeof(e=o(e))&&(r=e),window.console&&void 0===window.console.time&&(console.time=function(e,t){var n;e&&(n=(new Date).getTime(),console.timeCounters||(console.timeCounters={}),e="KEY"+e.toString(),!t&&console.timeCounters[e]||(console.timeCounters[e]=n))},console.timeEnd=function(e){var t=(new Date).getTime();if(!console.timeCounters)return 0;var n,o="KEY"+e.toString(),i=console.timeCounters[o];return i&&(n=t-i,console.info(e+": "+n+"ms"),delete console.timeCounters[o]),n}),e},e.flushStoredMessages=function(){for(var e=0;e<a.length;e++)t(a[e].messageLevel)&&console.log(a[e].message);a=[]},e.storeLogMessageUntilLogSettingsAreParsed=function(e,t){a.push({messageLevel:e,message:t})},e}(),window.evergageLog=evergageLog,function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(L,e){function p(e,t){var n=(t=t||$).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function s(e){var t=!!e&&"length"in e&&e.length,n=re.type(e);return"function"!==n&&!re.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function t(e,n,o){return re.isFunction(n)?re.grep(e,function(e,t){return!!n.call(e,t,e)!==o}):n.nodeType?re.grep(e,function(e){return e===n!==o}):"string"!=typeof n?re.grep(e,function(e){return-1<K.call(n,e)!==o}):fe.test(n)?re.filter(n,e,o):(n=re.filter(n,e),re.grep(e,function(e){return-1<K.call(n,e)!==o&&1===e.nodeType}))}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function g(e){return e}function u(e){throw e}function c(e,t,n,o){var i;try{e&&re.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&re.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}function o(){$.removeEventListener("DOMContentLoaded",o),L.removeEventListener("load",o),re.ready()}function i(){this.expando=re.expando+i.uid++}function d(e,t,n){if(void 0===n&&1===e.nodeType)if(n="data-"+t.replace(Ie,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(n))){try{var o=n;n="true"===o||"false"!==o&&("null"===o?null:o===+o+""?+o:Te.test(o)?JSON.parse(o):o)}catch(e){}qe.set(e,t,n)}else n=void 0;return n}function f(e,t,n,o){var i,r=1,a=20,s=o?function(){return o.cur()}:function(){return re.css(e,t,"")},l=s(),c=n&&n[3]||(re.cssNumber[t]?"":"px"),g=(re.cssNumber[t]||"px"!==c&&+l)&&Le.exec(re.css(e,t));if(g&&g[3]!==c)for(c=c||g[3],n=n||[],g=+l||1;re.style(e,t,(g/=r=r||".5")+c),r!==(r=s()/l)&&1!==r&&--a;);return n&&(g=+g||+l||0,i=n[1]?g+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=g,o.end=i)),i}function h(e,t){for(var n,o,i,r,a=[],s=0,l=e.length;s<l;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(a[s]=je.get(i,"display")||null,a[s]||(i.style.display="")),""===i.style.display&&Se(i)&&(n=s,o=void 0,o=i.ownerDocument,i=i.nodeName,(r=Me[i])||(o=o.body.appendChild(o.createElement(i)),r=re.css(o,"display"),o.parentNode.removeChild(o),"none"===r&&(r="block"),Me[i]=r),i=r,a[n]=i)):"none"!==n&&(a[s]="none",je.set(i,"display",n)));for(s=0;s<l;s++)null!=a[s]&&(e[s].style.display=a[s]);return e}function m(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&l(e,t)?re.merge([e],n):n}function v(e,t){for(var n=0,o=e.length;n<o;n++)je.set(e[n],"globalEval",!t||je.get(t[n],"globalEval"))}function y(e,t,n,o,i){for(var r,a,s,l=t.createDocumentFragment(),c=[],g=0,u=e.length;g<u;g++)if((r=e[g])||0===r)if("object"===re.type(r))re.merge(c,r.nodeType?[r]:r);else if(Oe.test(r)){for(a=a||l.appendChild(t.createElement("div")),s=(De.exec(r)||["",""])[1].toLowerCase(),s=Fe[s]||Fe._default,a.innerHTML=s[1]+re.htmlPrefilter(r)+s[2],s=s[0];s--;)a=a.lastChild;re.merge(c,a.childNodes),(a=l.firstChild).textContent=""}else c.push(t.createTextNode(r));for(l.textContent="",g=0;r=c[g++];)if(o&&-1<re.inArray(r,o))i&&i.push(r);else if(e=re.contains(r.ownerDocument,r),a=m(l.appendChild(r),"script"),e&&v(a),n)for(s=0;r=a[s++];)Ne.test(r.type||"")&&n.push(r);return l}function r(){return!0}function w(){return!1}function a(){try{return $.activeElement}catch(e){}}function b(e,t,n,o,i,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(o=o||n,n=void 0),t)b(e,s,n,o,t[s],r);return e}if(null==o&&null==i?(i=n,o=n=void 0):null==i&&("string"==typeof n?(i=o,o=void 0):(i=o,o=n,n=void 0)),!1===i)i=w;else if(!i)return e;return 1===r&&(a=i,(i=function(e){return re().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=re.guid++)),e.each(function(){re.event.add(this,t,i,o,n)})}function x(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&re(">tbody",e)[0]||e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function C(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function j(e,t){var n,o,i,r;if(1===t.nodeType){if(je.hasData(e)&&(r=je.access(e),n=je.set(t,r),r=r.events))for(i in delete n.handle,n.events={},r)for(n=0,o=r[i].length;n<o;n++)re.event.add(t,i,r[i][n]);qe.hasData(e)&&(i=qe.access(e),i=re.extend({},i),qe.set(t,i))}}function q(n,o,i,r){o=Y.apply([],o);var e,t,a,s,l=0,c=n.length,g=c-1,u=o[0],d=re.isFunction(u);if(d||1<c&&"string"==typeof u&&!ie.checkClone&&Ge.test(u))return n.each(function(e){var t=n.eq(e);d&&(o[0]=u.call(this,e,t.html())),q(t,o,i,r)});if(c&&(t=(e=y(o,n[0].ownerDocument,!1,n,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(a=(t=re.map(m(e,"script"),E)).length;l<c;l++)s=e,l!==g&&(s=re.clone(s,!0,!0),a&&re.merge(t,m(s,"script"))),i.call(n[l],s,l);if(a)for(e=t[t.length-1].ownerDocument,re.map(t,C),l=0;l<a;l++)s=t[l],Ne.test(s.type||"")&&!je.access(s,"globalEval")&&re.contains(e,s)&&(s.src?re._evalUrl&&re._evalUrl(s.src):p(s.textContent.replace($e,""),e))}return n}function T(e,t,n){for(var o=t?re.filter(t,e):e,i=0;null!=(t=o[i]);i++)n||1!==t.nodeType||re.cleanData(m(t)),t.parentNode&&(n&&re.contains(t.ownerDocument,t)&&v(m(t,"script")),t.parentNode.removeChild(t));return e}function I(e,t,n){var o,i,r=e.style;return(n=n||Je(e))&&(""!==(i=n.getPropertyValue(t)||n[t])||re.contains(e.ownerDocument,e)||(i=re.style(e,t)),!ie.pixelMarginRight()&&nt.test(i)&&tt.test(t)&&(e=r.width,t=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=i,i=n.width,r.width=e,r.minWidth=t,r.maxWidth=o)),void 0!==i?i+"":i}function S(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function k(e){if(!(n=re.cssProps[e])){var t,n=re.cssProps;e:if(t=e,!(t in ct)){for(var o=t[0].toUpperCase()+t.slice(1),i=lt.length;i--;)if((t=lt[i]+o)in ct)break e;t=void 0}n=n[e]=t||e}return n}function A(e,t,n){return(e=Le.exec(t))?Math.max(0,e[2]-(n||0))+(e[3]||"px"):t}function R(e,t,n,o,i){var r=0;for(t=n===(o?"border":"content")?4:"width"===t?1:0;t<4;t+=2)"margin"===n&&(r+=re.css(e,n+Re[t],!0,i)),o?("content"===n&&(r-=re.css(e,"padding"+Re[t],!0,i)),"margin"!==n&&(r-=re.css(e,"border"+Re[t]+"Width",!0,i))):(r+=re.css(e,"padding"+Re[t],!0,i),"padding"!==n&&(r+=re.css(e,"border"+Re[t]+"Width",!0,i)));return r}function M(e,t,n){var o,i=Je(e),r=I(e,t,i),a="border-box"===re.css(e,"boxSizing",!1,i);return nt.test(r)?r:(o=a&&(ie.boxSizingReliable()||r===e.style[t]),"auto"===r&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)]),(r=parseFloat(r)||0)+R(e,t,n||(a?"border":"content"),o,i)+"px")}function P(e,t,n,o,i){return new P.prototype.init(e,t,n,o,i)}function D(){ut&&(!1===$.hidden&&L.requestAnimationFrame?L.requestAnimationFrame(D):L.setTimeout(D,re.fx.interval),re.fx.tick())}function N(){return L.setTimeout(function(){gt=void 0}),gt=re.now()}function F(e,t){var n,o=0,i={height:e};for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=Re[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function O(e,t,n){for(var o,i=(_.tweeners[t]||[]).concat(_.tweeners["*"]),r=0,a=i.length;r<a;r++)if(o=i[r].call(n,t,e))return o}function _(i,e,t){var r,n=0,o=_.prefilters.length,a=re.Deferred().always(function(){delete s.elem}),s=function(){if(r)return!1;for(var e=gt||N(),t=1-((e=Math.max(0,l.startTime+l.duration-e))/l.duration||0),n=0,o=l.tweens.length;n<o;n++)l.tweens[n].run(t);return a.notifyWith(i,[l,t,e]),t<1&&o?e:(o||a.notifyWith(i,[l,1,0]),a.resolveWith(i,[l]),!1)},l=a.promise({elem:i,props:re.extend({},e),opts:re.extend(!0,{specialEasing:{},easing:re.easing._default},t),originalProperties:e,originalOptions:t,startTime:gt||N(),duration:t.duration,tweens:[],createTween:function(e,t){e=re.Tween(i,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(e),e},stop:function(e){var t=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)l.tweens[t].run(1);return e?(a.notifyWith(i,[l,1,0]),a.resolveWith(i,[l,e])):a.rejectWith(i,[l,e]),this}});for(function(e,t){var n,o,i,r,a;for(n in e)if(o=re.camelCase(n),i=t[o],r=e[n],Array.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),(a=re.cssHooks[o])&&"expand"in a)for(n in r=a.expand(r),delete e[o],r)n in e||(e[n]=r[n],t[n]=i);else t[o]=i}(t=l.props,l.opts.specialEasing);n<o;n++)if(e=_.prefilters[n].call(l,i,t,l.opts))return re.isFunction(e.stop)&&(re._queueHooks(l.elem,l.opts.queue).stop=re.proxy(e.stop,e)),e;return re.map(t,O,l),re.isFunction(l.opts.start)&&l.opts.start.call(i,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),re.fx.timer(re.extend(s,{elem:i,anim:l,queue:l.opts.queue})),l}function B(e){return(e.match(we)||[]).join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function W(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,o=0,i=e.toLowerCase().match(we)||[];if(re.isFunction(t))for(;n=i[o++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function H(t,o,i,r){function a(e){var n;return s[e]=!0,re.each(t[e]||[],function(e,t){t=t(o,i,r);return"string"!=typeof t||l||s[t]?l?!(n=t):void 0:(o.dataTypes.unshift(t),a(t),!1)}),n}var s={},l=t===Pt;return a(o.dataTypes[0])||!s["*"]&&a("*")}function z(e,t){var n,o,i=re.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:o=o||{})[n]=t[n]);return o&&re.extend(!0,e,o),e}function G(e,t){return t.toUpperCase()}var V=[],$=L.document,J=Object.getPrototypeOf,X=V.slice,Y=V.concat,Z=V.push,K=V.indexOf,Q={},ee=Q.toString,te=Q.hasOwnProperty,ne=te.toString,oe=ne.call(Object),ie={},re=function(e,t){return new re.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([a-z])/g;re.fn=re.prototype={jquery:"3.2.1",constructor:re,length:0,toArray:function(){return X.call(this)},get:function(e){return null==e?X.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){return(e=re.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return re.each(this,e)},map:function(n){return this.pushStack(re.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length;return this.pushStack(0<=(e=+e+(e<0?t:0))&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:V.sort,splice:V.splice},re.extend=re.fn.extend=function(){var e,t,n,o,i,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||re.isFunction(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],o=e[t],r!==o&&(l&&o&&(re.isPlainObject(o)||(i=Array.isArray(o)))?(n=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&re.isPlainObject(n)?n:{},r[t]=re.extend(l,n,o)):void 0!==o&&(r[t]=o));return r},re.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=re.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==ee.call(e))&&(!(e=J(e))||"function"==typeof(e=te.call(e,"constructor")&&e.constructor)&&ne.call(e)===oe)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Q[ee.call(e)]||"object":typeof e},globalEval:function(e){p(e)},camelCase:function(e){return e.replace(se,"ms-").replace(le,G)},each:function(e,t){var n,o=0;if(s(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){t=t||[];return null!=e&&(s(Object(e))?re.merge(t,"string"==typeof e?[e]:e):Z.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:K.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;o<n;o++)e[i++]=t[o];return e.length=i,e},grep:function(e,t,n){for(var o=[],i=0,r=e.length,a=!n;i<r;i++)(n=!t(e[i],i))!==a&&o.push(e[i]);return o},map:function(e,t,n){var o,i,r=0,a=[];if(s(e))for(o=e.length;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)i=t(e[r],r,n),null!=i&&a.push(i);return Y.apply([],a)},guid:1,proxy:function(e,t){var n,o;if("string"==typeof t&&(n=e[t],t=e,e=n),re.isFunction(e))return o=X.call(arguments,2),(n=function(){return e.apply(t||this,o.concat(X.call(arguments)))}).guid=e.guid=e.guid||re.guid++,n},now:Date.now,support:ie}),"function"==typeof Symbol&&(re.fn[Symbol.iterator]=V[Symbol.iterator]),re.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()});var ce=function(n){function b(e,t,n,o){var i,r,a,s,l,c=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!o&&((t?t.ownerDocument||t:B)!==R&&L(t),t=t||R,P)){if(11!==g&&(s=ue.exec(e)))if(i=s[1]){if(9===g){if(!(r=t.getElementById(i)))return n;if(r.id===i)return n.push(r),n}else if(c&&(r=c.getElementById(i))&&O(t,r)&&r.id===i)return n.push(r),n}else{if(s[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(!(!w.qsa||G[e+" "]||D&&D.test(e))){if(1!==g)c=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(fe,v):t.setAttribute("id",a=_),i=(r=q(e)).length;i--;)r[i]="#"+a+" "+d(r[i]);l=r.join(","),c=de.test(e)&&u(t.parentNode)||t}if(l)try{return Z.apply(n,c.querySelectorAll(l)),n}catch(e){}finally{a===_&&t.removeAttribute("id")}}}return I(e.replace(te,"$1"),t,n,o)}function e(){function n(e,t){return o.push(e+" ")>E.cacheLength&&delete n[o.shift()],n[e+" "]=t}var o=[];return n}function g(e){return e[_]=!0,e}function o(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function t(e,t){for(var n=e.split("|"),o=n.length;o--;)E.attrHandle[n[o]]=t}function s(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&he(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function r(a){return g(function(r){return r=+r,g(function(e,t){for(var n,o=a([],e.length,r),i=o.length;i--;)e[n=o[i]]&&(e[n]=!(t[n]=e[n]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function a(){}function d(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function p(a,e,t){var s=e.dir,l=e.next,c=l||s,g=t&&"parentNode"===c,u=W++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||g)return a(e,t,n);return!1}:function(e,t,n){var o,i,r=[U,u];if(n){for(;e=e[s];)if((1===e.nodeType||g)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||g)if(i=(i=e[_]||(e[_]={}))[e.uniqueID]||(i[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((o=i[c])&&o[0]===U&&o[1]===u)return r[2]=o[2];if((i[c]=r)[2]=a(e,t,n))return!0}return!1}}function f(i){return 1<i.length?function(e,t,n){for(var o=i.length;o--;)if(!i[o](e,t,n))return!1;return!0}:i[0]}function x(e,t,n,o,i){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,o,i)||(a.push(r),c&&t.push(s)));return a}function h(e){for(var o,t,n=e.length,i=E.relative[e[0].type],r=i||E.relative[" "],a=i?1:0,s=p(function(e){return e===o},r,!0),l=p(function(e){return-1<Q(o,e)},r,!0),c=[function(e,t,n){return e=!i&&(n||t!==S)||((o=t).nodeType?s:l)(e,t,n),o=null,e}];a<n;a++)if(r=E.relative[e[a].type])c=[p(f(c),r)];else{if((r=E.filter[e[a].type].apply(null,e[a].matches))[_]){for(t=++a;t<n&&!E.relative[e[t].type];t++);return function e(f,h,m,v,y,t){return v&&!v[_]&&(v=e(v)),y&&!y[_]&&(y=e(y,t)),g(function(e,t,n,o){var i,r,a=[],s=[],l=t.length;if(!(c=e)){for(var c=h||"*",g=n.nodeType?[n]:n,u=[],d=0,p=g.length;d<p;d++)b(c,g[d],u);c=u}if(c=!f||!e&&h?c:x(c,a,f,n,o),g=m?y||(e?f:l||v)?[]:t:c,m&&m(c,g,n,o),v)for(i=x(g,s),v(i,[],n,o),n=i.length;n--;)(r=i[n])&&(g[s[n]]=!(c[s[n]]=r));if(e){if(y||f){if(y){for(i=[],n=g.length;n--;)(r=g[n])&&i.push(c[n]=r);y(null,g=[],i,o)}for(n=g.length;n--;)(r=g[n])&&-1<(i=y?Q(e,r):a[n])&&(e[i]=!(t[i]=r))}}else g=x(g===t?g.splice(l,g.length):g),y?y(null,t,g,o):Z.apply(t,g)})}(1<a&&f(c),1<a&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(te,"$1"),r,a<t&&h(e.slice(a,t)),t<n&&h(e=e.slice(t)),t<n&&d(e))}c.push(r)}return f(c)}function l(m,v){function e(e,t,n,o,i){var r,a,s,l=0,c="0",g=e&&[],u=[],d=S,p=e||w&&E.find.TAG("*",i),f=U+=null==d?1:Math.random()||.1,h=p.length;for(i&&(S=t===R||t||i);c!==h&&null!=(r=p[c]);c++){if(w&&r){for(a=0,t||r.ownerDocument===R||(L(r),n=!P);s=m[a++];)if(s(r,t||R,n)){o.push(r);break}i&&(U=f)}y&&((r=!s&&r)&&l--,e&&g.push(r))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(g,u,t,n);if(e){if(0<l)for(;c--;)g[c]||u[c]||(u[c]=X.call(o));u=x(u)}Z.apply(o,u),i&&!e&&0<u.length&&1<l+v.length&&b.uniqueSort(o)}return i&&(U=f,S=d),g}var y=0<v.length,w=0<m.length;return y?g(e):e}function m(e,t,n){return(e="0x"+t-65536)!=e||n?t:e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320)}function v(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function c(){L()}var y,w,E,C,j,q,T,I,S,k,A,L,R,M,P,D,N,F,O,_="sizzle"+ +new Date,B=n.document,U=0,W=0,H=e(),z=e(),G=e(),V=function(e,t){return e===t&&(A=!0),0},$={}.hasOwnProperty,J=[],X=J.pop,Y=J.push,Z=J.push,K=J.slice,Q=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},ee=RegExp("[\\x20\\t\\r\\n\\f]+","g"),te=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ne=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,oe=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ie=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),re=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,ae=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,se={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},le=/^(?:input|select|textarea|button)$/i,ce=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ue=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,de=/[+~]/,pe=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,he=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Z.apply(J=K.call(B.childNodes),B.childNodes),J[B.childNodes.length].nodeType}catch(e){Z={apply:J.length?function(e,t){Y.apply(e,K.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}for(y in w=b.support={},j=b.isXML=function(e){return!!(e=e&&(e.ownerDocument||e).documentElement)&&"HTML"!==e.nodeName},L=b.setDocument=function(e){var t;return(e=e?e.ownerDocument||e:B)!==R&&9===e.nodeType&&e.documentElement&&(M=(R=e).documentElement,P=!j(R),B!==R&&(t=R.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",c,!1):t.attachEvent&&t.attachEvent("onunload",c)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(R.getElementsByClassName),w.getById=o(function(e){return M.appendChild(e).id=_,!R.getElementsByName||!R.getElementsByName(_).length}),w.getById?(E.filter.ID=function(e){var t=e.replace(pe,m);return function(e){return e.getAttribute("id")===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&P){e=t.getElementById(e);return e?[e]:[]}}):(E.filter.ID=function(e){var t=e.replace(pe,m);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n,o,i,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(i=t.getElementsByName(e),o=0;r=i[o++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),E.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],i=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[i++];)1===n.nodeType&&o.push(n);return o},E.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&P)return t.getElementsByClassName(e)},N=[],D=[],(w.qsa=ge.test(R.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+_+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||D.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=ge.test(F=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){w.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),N.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),D=D.length&&new RegExp(D.join("|")),N=N.length&&new RegExp(N.join("|")),O=(t=ge.test(M.compareDocumentPosition))||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===B&&O(B,e)?-1:t===R||t.ownerDocument===B&&O(B,t)?1:k?Q(k,e)-Q(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n=0,o=e.parentNode,i=t.parentNode,r=[e],a=[t];if(!o||!i)return e===R?-1:t===R?1:o?-1:i?1:k?Q(k,e)-Q(k,t):0;if(o===i)return s(e,t);for(o=e;o=o.parentNode;)r.unshift(o);for(o=t;o=o.parentNode;)a.unshift(o);for(;r[n]===a[n];)n++;return n?s(r[n],a[n]):r[n]===B?-1:a[n]===B?1:0}),R},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&L(e),t=t.replace(ie,"='$1']"),!(!w.matchesSelector||!P||G[t+" "]||N&&N.test(t)||D&&D.test(t)))try{var n=F.call(e,t);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<b(t,R,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!==R&&L(e),O(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!==R&&L(e);var n=E.attrHandle[t.toLowerCase()];return void 0!==(n=n&&$.call(E.attrHandle,t.toLowerCase())?n(e,t,!P):void 0)?n:w.attributes||!P?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},b.escape=function(e){return(e+"").replace(fe,v)},b.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,n=[],o=0,i=0;if(A=!w.detectDuplicates,k=!w.sortStable&&e.slice(0),e.sort(V),A){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return k=null,e},C=b.getText=function(e){var t="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;o=e[n++];)t+=C(o);return t},(E=b.selectors={cacheLength:50,createPseudo:g,match:se,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(pe,m),e[3]=(e[3]||e[4]||e[5]||"").replace(pe,m),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return se.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&re.test(n)&&(t=q(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(pe,m).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,o){return function(e){return null==(e=b.attr(e,t))?"!="===n:!n||(e+="","="===n?e===o:"!="===n?e!==o:"^="===n?o&&0===e.indexOf(o):"*="===n?o&&-1<e.indexOf(o):"$="===n?o&&e.slice(-o.length)===o:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(o):"|="===n&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(g,e,t,u,d){var p="nth"!==g.slice(0,3),f="last"!==g.slice(-4),h="of-type"===e;return 1===u&&0===d?function(e){return!!e.parentNode}:function(e,t,n){var o,i,r,a,s;t=p!=f?"nextSibling":"previousSibling";var l=e.parentNode,c=h&&e.nodeName.toLowerCase();if(n=!n&&!h,o=!1,l){if(p){for(;t;){for(r=e;r=r[t];)if(h?r.nodeName.toLowerCase()===c:1===r.nodeType)return!1;s=t="only"===g&&!s&&"nextSibling"}return!0}if(s=[f?l.firstChild:l.lastChild],f&&n){for(o=(a=(o=(i=(i=(r=l)[_]||(r[_]={}))[r.uniqueID]||(i[r.uniqueID]={}))[g]||[])[0]===U&&o[1])&&o[2],r=a&&l.childNodes[a];r=++a&&r&&r[t]||(o=a=0)||s.pop();)if(1===r.nodeType&&++o&&r===e){i[g]=[U,a,o];break}}else if(!1===(o=n?a=(o=(i=(i=(r=e)[_]||(r[_]={}))[r.uniqueID]||(i[r.uniqueID]={}))[g]||[])[0]===U&&o[1]:o))for(;(r=++a&&r&&r[t]||(o=a=0)||s.pop())&&((h?r.nodeName.toLowerCase()!==c:1!==r.nodeType)||!++o||(n&&((i=(i=r[_]||(r[_]={}))[r.uniqueID]||(i[r.uniqueID]={}))[g]=[U,o]),r!==e)););return(o-=d)===u||0==o%u&&0<=o/u}}},PSEUDO:function(e,r){var t,a=E.pseudos[e]||E.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return a[_]?a(r):1<a.length?(t=[e,e,"",r],E.setFilters.hasOwnProperty(e.toLowerCase())?g(function(e,t){for(var n,o=a(e,r),i=o.length;i--;)e[n=Q(e,o[i])]=!(t[n]=o[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:g(function(e){var o=[],i=[],r=T(e.replace(te,"$1"));return r[_]?g(function(e,t,n,o){o=r(e,null,o,[]);for(var i=e.length;i--;)(n=o[i])&&(e[i]=!(t[i]=n))}):function(e,t,n){return o[0]=e,r(o,null,n,i),o[0]=null,!i.pop()}}),has:g(function(t){return function(e){return 0<b(t,e).length}}),contains:g(function(t){return t=t.replace(pe,m),function(e){return-1<(e.textContent||e.innerText||C(e)).indexOf(t)}}),lang:g(function(n){return ae.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(pe,m).toLowerCase(),function(e){var t;do{if(t=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===M},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:i(!1),disabled:i(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return ce.test(e.nodeName)},input:function(e){return le.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:r(function(){return[0]}),last:r(function(e,t){return[t-1]}),eq:r(function(e,t,n){return[n<0?n+t:n]}),even:r(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:r(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:r(function(e,t,n){for(t=n<0?n+t:n;0<=--t;)e.push(t);return e}),gt:r(function(e,t,n){for(n=n<0?n+t:n;++n<t;)e.push(n);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})E.pseudos[y]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(y);return a.prototype=E.filters=E.pseudos,E.setFilters=new a,q=b.tokenize=function(e,t){var n,o,i,r,a,s,l;if(a=z[e+" "])return t?0:a.slice(0);for(a=e,s=[],l=E.preFilter;a;){for(r in n&&!(o=ne.exec(a))||(o&&(a=a.slice(o[0].length)||a),s.push(i=[])),n=!1,(o=oe.exec(a))&&(n=o.shift(),i.push({value:n,type:o[0].replace(te," ")}),a=a.slice(n.length)),E.filter)!(o=se[r].exec(a))||l[r]&&!(o=l[r](o))||(n=o.shift(),i.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?b.error(e):z(e,s).slice(0)},T=b.compile=function(e,t){var n,o=[],i=[],r=G[e+" "];if(!r){for(n=(t=t||q(e)).length;n--;)((r=h(t[n]))[_]?o:i).push(r);(r=G(e,l(i,o))).selector=e}return r},I=b.select=function(e,t,n,o){var i,r,a,s,l="function"==typeof e&&e,c=!o&&q(e=l.selector||e);if(n=n||[],1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===t.nodeType&&P&&E.relative[r[1].type]){if(!(t=(E.find.ID(a.matches[0].replace(pe,m),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=se.needsContext.test(e)?0:r.length;i--&&(a=r[i],!E.relative[s=a.type]);)if((s=E.find[s])&&(o=s(a.matches[0].replace(pe,m),de.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(i,1),!(e=o.length&&d(r)))return Z.apply(n,o),n;break}}return(l||T(e,c))(o,t,!P,n,!t||de.test(e)&&u(t.parentNode)||t),n},w.sortStable=_.split("").sort(V).join("")===_,w.detectDuplicates=!!A,L(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||t("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),b}(L);re.find=ce,re.expr=ce.selectors,re.expr[":"]=re.expr.pseudos,re.uniqueSort=re.unique=ce.uniqueSort,re.text=ce.getText,re.isXMLDoc=ce.isXML,re.contains=ce.contains,re.escapeSelector=ce.escape;function ge(e,t,n){for(var o=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&re(e).is(n))break;o.push(e)}return o}function ue(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var de=re.expr.match.needsContext,pe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,fe=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?re.find.matchesSelector(o,e)?[o]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n,o=this.length,i=this;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;t<o;t++)if(re.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<o;t++)re.find(e,i[t],n);return 1<o?re.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&de.test(e)?re(e):e||[],!1).length}});var he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(re.fn.init=function(e,t,n){if(!e)return this;if(n=n||me,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==n.ready?n.ready(e):e(re):re.makeArray(e,this);if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:he.exec(e))||!o[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(o[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),pe.test(o[1])&&re.isPlainObject(t))for(var o in t)re.isFunction(this[o])?this[o](t[o]):this.attr(o,t[o])}else(e=$.getElementById(o[2]))&&(this[0]=e,this.length=1);return this}).prototype=re.fn;var me=re($),ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({has:function(e){var t=re(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(re.contains(this,t[e]))return!0})},closest:function(e,t){var n,o=0,i=this.length,r=[],a="string"!=typeof e&&re(e);if(!de.test(e))for(;o<i;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&re.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?re.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?K.call(re(e),this[0]):K.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.uniqueSort(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return ge(e,"parentNode")},parentsUntil:function(e,t,n){return ge(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return ge(e,"nextSibling")},prevAll:function(e){return ge(e,"previousSibling")},nextUntil:function(e,t,n){return ge(e,"nextSibling",n)},prevUntil:function(e,t,n){return ge(e,"previousSibling",n)},siblings:function(e){return ue((e.parentNode||{}).firstChild,e)},children:function(e){return ue(e.firstChild)},contents:function(e){return l(e,"iframe")?e.contentDocument:(l(e,"template")&&(e=e.content||e),re.merge([],e.childNodes))}},function(o,i){re.fn[o]=function(e,t){var n=re.map(this,i,e);return(t="Until"!==o.slice(-5)?e:t)&&"string"==typeof t&&(n=re.filter(t,n)),1<this.length&&(ye[o]||re.uniqueSort(n),ve.test(o)&&n.reverse()),this.pushStack(n)}});var we=/[^\x20\t\r\n\f]+/g;re.Callbacks=function(o){var e,n;o="string"==typeof o?(e=o,n={},re.each(e.match(we)||[],function(e,t){n[t]=!0}),n):re.extend({},o);function i(){for(s=s||o.once,a=r=!0;c.length;g=-1)for(t=c.shift();++g<l.length;)!1===l[g].apply(t[0],t[1])&&o.stopOnFalse&&(g=l.length,t=!1);o.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,a,s,l=[],c=[],g=-1,u={add:function(){return l&&(t&&!r&&(g=l.length-1,c.push(t)),function n(e){re.each(e,function(e,t){re.isFunction(t)?o.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==re.type(t)&&n(t)})}(arguments),t&&!r&&i()),this},remove:function(){return re.each(arguments,function(e,t){for(var n;-1<(n=re.inArray(t,l,n));)l.splice(n,1),n<=g&&g--}),this},has:function(e){return e?-1<re.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||r||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||i()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},re.extend({Deferred:function(e){var r=[["notify","progress",re.Callbacks("memory"),re.Callbacks("memory"),2],["resolve","done",re.Callbacks("once memory"),re.Callbacks("once memory"),0,"resolved"],["reject","fail",re.Callbacks("once memory"),re.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return re.Deferred(function(o){re.each(r,function(e,t){var n=re.isFunction(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,o){function l(i,r,a,s){return function(){function e(){var e,t;if(!(i<c)){if((e=a.apply(n,o))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,re.isFunction(t)?s?t.call(e,l(c,r,g,s),l(c,r,u,s)):(c++,t.call(e,l(c,r,g,s),l(c,r,u,s),l(c,r,g,r.notifyWith))):(a!==g&&(n=void 0,o=[e]),(s||r.resolveWith)(n,o))}}var n=this,o=arguments,t=s?e:function(){try{e()}catch(e){re.Deferred.exceptionHook&&re.Deferred.exceptionHook(e,t.stackTrace),c<=i+1&&(a!==u&&(n=void 0,o=[e]),r.rejectWith(n,o))}};i?t():(re.Deferred.getStackHook&&(t.stackTrace=re.Deferred.getStackHook()),L.setTimeout(t))}}var c=0;return re.Deferred(function(e){r[0][3].add(l(0,e,re.isFunction(o)?o:g,e.notifyWith)),r[1][3].add(l(0,e,re.isFunction(t)?t:g)),r[2][3].add(l(0,e,re.isFunction(n)?n:u))}).promise()},promise:function(e){return null!=e?re.extend(e,a):a}},s={};return re.each(r,function(e,t){var n=t[2],o=t[5];a[t[1]]=n.add,o&&n.add(function(){i=o},r[3-e][2].disable,r[0][2].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){i[t]=this,r[t]=1<arguments.length?X.call(arguments):e,--n||a.resolveWith(i,r)}}var n=arguments.length,o=n,i=Array(o),r=X.call(arguments),a=re.Deferred();if(n<=1&&(c(e,a.done(t(o)).resolve,a.reject,!n),"pending"===a.state()||re.isFunction(r[o]&&r[o].then)))return a.then();for(;o--;)c(r[o],t(o),a.reject);return a.promise()}});var be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;re.Deferred.exceptionHook=function(e,t){L.console&&L.console.warn&&e&&be.test(e.name)&&L.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},re.readyException=function(e){L.setTimeout(function(){throw e})};var xe=re.Deferred();re.fn.ready=function(e){return xe.then(e).catch(function(e){re.readyException(e)}),this},re.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--re.readyWait:re.isReady)||((re.isReady=!0)!==e&&0<--re.readyWait||xe.resolveWith($,[re]))}}),re.ready.then=xe.then,"complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll?L.setTimeout(re.ready):($.addEventListener("DOMContentLoaded",o),L.addEventListener("load",o));function Ee(e,t,n,o,i,r,a){var s=0,l=e.length,c=null==n;if("object"===re.type(n))for(s in i=!0,n)Ee(e,t,s,n[s],!0,r,a);else if(void 0!==o&&(i=!0,re.isFunction(o)||(a=!0),t=c?a?(t.call(e,o),null):(c=t,function(e,t,n){return c.call(re(e),n)}):t))for(;s<l;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):r}function Ce(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}i.uid=1,i.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ce(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){if(e=this.cache(e),"string"==typeof t)e[re.camelCase(t)]=n;else for(var o in t)e[re.camelCase(o)]=t[o];return e},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t)for((n=(t=Array.isArray(t)?t.map(re.camelCase):(t=re.camelCase(t))in o?[t]:t.match(we)||[]).length);n--;)delete o[t[n]];void 0!==t&&!re.isEmptyObject(o)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!re.isEmptyObject(e)}};var je=new i,qe=new i,Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;re.extend({hasData:function(e){return qe.hasData(e)||je.hasData(e)},data:function(e,t,n){return qe.access(e,t,n)},removeData:function(e,t){qe.remove(e,t)},_data:function(e,t,n){return je.access(e,t,n)},_removeData:function(e,t){je.remove(e,t)}}),re.fn.extend({data:function(n,e){var t,o,i,r=this[0],a=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){qe.set(this,n)}):Ee(this,function(e){var t;return r&&void 0===e?void 0!==(t=qe.get(r,n))||void 0!==(t=d(r,n))?t:void 0:void this.each(function(){qe.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=qe.get(r),1===r.nodeType&&!je.get(r,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(o=a[t].name).indexOf("data-")&&(o=re.camelCase(o.slice(5)),d(r,o,i[o])));je.set(r,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){qe.remove(this,e)})}}),re.extend({queue:function(e,t,n){var o;if(e)return o=je.get(e,t=(t||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=je.access(e,t,re.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),o=n.length,i=n.shift(),r=re._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,function(){re.dequeue(e,t)},r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return je.get(e,n)||je.access(e,n,{empty:re.Callbacks("once memory").add(function(){je.remove(e,[t+"queue",n])})})}}),re.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?re.queue(this[0],t):void 0===n?this:this.each(function(){var e=re.queue(this,t,n);re._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&re.dequeue(this,t)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||r.resolveWith(a,[a])}var o,i=1,r=re.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=je.get(a[s],e+"queueHooks"))&&o.empty&&(i++,o.empty.add(n));return n(),r.promise(t)}});function Se(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re.contains(e.ownerDocument,e)&&"none"===re.css(e,"display")}function ke(e,t,n,o){var i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in n=n.apply(e,o||[]),t)e.style[i]=r[i];return n}var Ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+Ae+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Me={};re.fn.extend({show:function(){return h(this,!0)},hide:function(){return h(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?re(this).show():re(this).hide()})}});var Pe=/^(?:checkbox|radio)$/i,De=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ne=/^$|\/(?:java|ecma)script/i,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td;var Oe=/<|&#?\w+;/;V=$.createDocumentFragment().appendChild($.createElement("div")),(ce=$.createElement("input")).setAttribute("type","radio"),ce.setAttribute("checked","checked"),ce.setAttribute("name","t"),V.appendChild(ce),ie.checkClone=V.cloneNode(!0).cloneNode(!0).lastChild.checked,V.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!V.cloneNode(!0).lastChild.defaultValue;var _e=$.documentElement,Be=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,We=/^([^.]*)(?:\.(.+)|)/;re.event={global:{},add:function(t,e,n,o,i){var r,a,s,l,c,g,u,d,p;if(c=je.get(t))for(n.handler&&(n=(r=n).handler,i=r.selector),i&&re.find.matchesSelector(_e,i),n.guid||(n.guid=re.guid++),(l=c.events)||(l=c.events={}),(a=c.handle)||(a=c.handle=function(e){return void 0!==re&&re.event.triggered!==e.type?re.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(we)||[""]).length;c--;)d=g=(s=We.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(s=re.event.special[d]||{},d=(i?s.delegateType:s.bindType)||d,s=re.event.special[d]||{},g=re.extend({type:d,origType:g,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&re.expr.match.needsContext.test(i),namespace:p.join(".")},r),(u=l[d])||((u=l[d]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(t,o,p,a)||t.addEventListener&&t.addEventListener(d,a)),s.add&&(s.add.call(t,g),g.handler.guid||(g.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,g):u.push(g),re.event.global[d]=!0)},remove:function(e,t,n,o,i){var r,a,s,l,c,g,u,d,p,f,h,m=je.hasData(e)&&je.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(we)||[""]).length;c--;)if(p=h=(s=We.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=re.event.special[p]||{},d=l[p=(o?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)g=d[r],!i&&h!==g.origType||n&&n.guid!==g.guid||s&&!s.test(g.namespace)||o&&o!==g.selector&&("**"!==o||!g.selector)||(d.splice(r,1),g.selector&&d.delegateCount--,u.remove&&u.remove.call(e,g));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||re.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)re.event.remove(e,p+t[c],n,o,!0);re.isEmptyObject(l)&&je.remove(e,"handle events")}},dispatch:function(e){var t,n,o,i,r=re.event.fix(e),a=Array(arguments.length),s=(je.get(this,"events")||{})[r.type]||[],l=re.event.special[r.type]||{};for(a[0]=r,t=1;t<arguments.length;t++)a[t]=arguments[t];if(r.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,r)){for(i=re.event.handlers.call(this,r,s),t=0;(o=i[t++])&&!r.isPropagationStopped();)for(r.currentTarget=o.elem,s=0;(n=o.handlers[s++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(n.namespace)||(r.handleObj=n,r.data=n.data,void 0!==(n=((re.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,a))&&!1===(r.result=n)&&(r.preventDefault(),r.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,r),r.result}},handlers:function(e,t){var n,o,i,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[i=(o=t[n]).selector+" "]&&(a[i]=o.needsContext?-1<re(i,this).index(c):re.find(i,this,null,[c]).length),a[i]&&r.push(o);r.length&&s.push({elem:c,handlers:r})}return l<t.length&&s.push({elem:this,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(re.Event.prototype,t,{enumerable:!0,configurable:!0,get:re.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[re.expando]?e:new re.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==a()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===a()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(e){return l(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},re.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},re.Event=function(e,t){if(!(this instanceof re.Event))return new re.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?r:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),this[re.expando]=!0},re.Event.prototype={constructor:re.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=r,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=r,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=r,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ue.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},re.event.addProp),re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){re.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||re.contains(this,n))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=i),t}}}),re.fn.extend({on:function(e,t,n,o){return b(this,e,t,n,o)},one:function(e,t,n,o){return b(this,e,t,n,o,1)},off:function(e,t,n){if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,re(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=w),this.each(function(){re.event.remove(this,e,n,t)});for(var o in e)this.off(o,t,e[o]);return this}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ze=/<script|<style|<link/i,Ge=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;re.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,n){var o,i,r,a,s=e.cloneNode(!0),l=re.contains(e.ownerDocument,e);if(!(ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(a=m(s),o=0,i=(r=m(e)).length;o<i;o++){var c=r[o],g=a[o],u=g.nodeName.toLowerCase();"input"===u&&Pe.test(c.type)?g.checked=c.checked:"input"!==u&&"textarea"!==u||(g.defaultValue=c.defaultValue)}if(t)if(n)for(r=r||m(e),a=a||m(s),o=0,i=r.length;o<i;o++)j(r[o],a[o]);else j(e,s);return 0<(a=m(s,"script")).length&&v(a,!l&&m(e,"script")),s},cleanData:function(e){for(var t,n,o,i=re.event.special,r=0;void 0!==(n=e[r]);r++)if(Ce(n)){if(t=n[je.expando]){if(t.events)for(o in t.events)i[o]?re.event.remove(n,o):re.removeEvent(n,o,t.handle);n[je.expando]=void 0}n[qe.expando]&&(n[qe.expando]=void 0)}}}),re.fn.extend({detach:function(e){return T(this,e,!0)},remove:function(e){return T(this,e)},text:function(e){return Ee(this,function(e){return void 0===e?re.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return q(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,e).appendChild(e)})},prepend:function(){return q(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=x(this,e)).insertBefore(e,t.firstChild)})},before:function(){return q(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return q(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(re.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Ee(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ze.test(e)&&!Fe[(De.exec(e)||["",""])[1].toLowerCase()]){e=re.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(re.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return q(this,arguments,function(e){var t=this.parentNode;re.inArray(this,n)<0&&(re.cleanData(m(this)),t&&t.replaceChild(e,this))},n)}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){re.fn[e]=function(e){for(var t=[],n=re(e),o=n.length-1,i=0;i<=o;i++)e=i===o?this:this.clone(!0),re(n[i])[r](e),Z.apply(t,e.get());return this.pushStack(t)}});function Je(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?L:t).getComputedStyle(e)}var Xe,Ye,Ze,Ke,Qe,et,tt=/^margin/,nt=new RegExp("^("+Ae+")(?!px)[a-z%]+$","i");function ot(){var e;et&&(et.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",et.innerHTML="",_e.appendChild(Qe),e=L.getComputedStyle(et),Xe="1%"!==e.top,Ke="2px"===e.marginLeft,Ye="4px"===e.width,et.style.marginRight="50%",Ze="4px"===e.marginRight,_e.removeChild(Qe),et=null)}Qe=$.createElement("div"),(et=$.createElement("div")).style&&(et.style.backgroundClip="content-box",et.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===et.style.backgroundClip,Qe.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",Qe.appendChild(et),re.extend(ie,{pixelPosition:function(){return ot(),Xe},boxSizingReliable:function(){return ot(),Ye},pixelMarginRight:function(){return ot(),Ze},reliableMarginLeft:function(){return ot(),Ke}}));var it=/^(none|table(?!-c[ea]).+)/,rt=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},st={letterSpacing:"0",fontWeight:"400"},lt=["Webkit","Moz","ms"],ct=$.createElement("div").style;re.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=I(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,a,s=re.camelCase(t),l=rt.test(t),c=e.style;if(l||(t=k(s)),a=re.cssHooks[t]||re.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,o))?i:c[t];"string"===(r=typeof n)&&(i=Le.exec(n))&&i[1]&&(n=f(e,t,i),r="number"),null!=n&&n==n&&("number"===r&&(n+=i&&i[3]||(re.cssNumber[s]?"":"px")),ie.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var i,r=re.camelCase(t);return rt.test(t)||(t=k(r)),"normal"===(i=void 0===(i=(r=re.cssHooks[t]||re.cssHooks[r])&&"get"in r?r.get(e,!0,n):i)?I(e,t,o):i)&&t in st&&(i=st[t]),""===n||n?(e=parseFloat(i),!0===n||isFinite(e)?e||0:i):i}}),re.each(["height","width"],function(e,r){re.cssHooks[r]={get:function(e,t,n){if(t)return!it.test(re.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?M(e,r,n):ke(e,at,function(){return M(e,r,n)})},set:function(e,t,n){var o,i=n&&Je(e);return(n=n&&R(e,r,n,"border-box"===re.css(e,"boxSizing",!1,i),i))&&(o=Le.exec(t))&&"px"!==(o[3]||"px")&&(e.style[r]=t,t=re.css(e,r)),A(0,t,n)}}}),re.cssHooks.marginLeft=S(ie.reliableMarginLeft,function(e,t){if(t)return(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),re.each({margin:"",padding:"",border:"Width"},function(o,i){re.cssHooks[o+i]={expand:function(e){var t=0,n={};for(e="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+Re[t]+i]=e[t]||e[t-2]||e[0];return n}},tt.test(o)||(re.cssHooks[o+i].set=A)}),re.fn.extend({css:function(e,t){return Ee(this,function(e,t,n){var o,i={},r=0;if(Array.isArray(t)){for(n=Je(e),o=t.length;r<o;r++)i[t[r]]=re.css(e,t[r],!1,n);return i}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,1<arguments.length)}}),((re.Tween=P).prototype={constructor:P,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||re.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(re.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return(e&&e.get?e:P.propHooks._default).get(this)},run:function(e){var t=P.propHooks[this.prop];return this.pos=e=this.options.duration?re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(t&&t.set?t:P.propHooks._default).set(this),this}}).init.prototype=P.prototype,(P.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=re.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[re.cssProps[e.prop]]&&!re.cssHooks[e.prop]?e.elem[e.prop]=e.now:re.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},re.fx=P.prototype.init,re.fx.step={};var gt,ut,dt=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;re.Animation=re.extend(_,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Le.exec(t),n),n}]},tweener:function(e,t){for(var n,o=0,i=(e=re.isFunction(e)?(t=e,["*"]):e.match(we)).length;o<i;o++)n=e[o],_.tweeners[n]=_.tweeners[n]||[],_.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var o,i,r,a,s,l,c="width"in t||"height"in t,g=this,u={},d=e.style,p=e.nodeType&&Se(e),f=je.get(e,"fxshow");for(o in n.queue||(null==(a=re._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,g.always(function(){g.always(function(){a.unqueued--,re.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[o],dt.test(i)){if(delete t[o],r=r||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!f||void 0===f[o])continue;p=!0}u[o]=f&&f[o]||re.style(e,o)}if((t=!re.isEmptyObject(t))||!re.isEmptyObject(u))for(o in c&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=f&&f.display)&&(l=je.get(e,"display")),"none"===(c=re.css(e,"display"))&&(l?c=l:(h([e],!0),l=e.style.display||l,c=re.css(e,"display"),h([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===re.css(e,"float")&&(t||(g.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",g.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t=!1,u)t||(f?"hidden"in f&&(p=f.hidden):f=je.access(e,"fxshow",{display:l}),r&&(f.hidden=!p),p&&h([e],!0),g.done(function(){for(o in p||h([e]),je.remove(e,"fxshow"),u)re.style(e,o,u[o])})),t=O(p?f[o]:0,o,g),o in f||(f[o]=t.start,p&&(t.end=t.start,t.start=0))}],prefilter:function(e,t){t?_.prefilters.unshift(e):_.prefilters.push(e)}}),re.speed=function(e,t,n){var o=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return re.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in re.fx.speeds?re.fx.speeds[o.duration]:re.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){re.isFunction(o.old)&&o.old.call(this),o.queue&&re.dequeue(this,o.queue)},o},re.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(t,e,n,o){var i=re.isEmptyObject(t),r=re.speed(e,n,o);return(e=function(){var e=_(this,re.extend({},t),r);(i||je.get(this,"finish"))&&e.stop(!0)}).finish=e,i||!1===r.queue?this.each(e):this.queue(r.queue,e)},stop:function(i,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof i&&(r=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=re.timers,o=je.get(this);if(t)o[t]&&o[t].stop&&a(o[t]);else for(t in o)o[t]&&o[t].stop&&pt.test(t)&&a(o[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||re.dequeue(this,i)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e=je.get(this),t=e[r+"queue"],n=e[r+"queueHooks"],o=re.timers,i=t?t.length:0;for(e.finish=!0,re.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),n=o.length;n--;)o[n].elem===this&&o[n].queue===r&&(o[n].anim.stop(!0),o.splice(n,1));for(n=0;n<i;n++)t[n]&&t[n].finish&&t[n].finish.call(this);delete e.finish})}}),re.each(["toggle","show","hide"],function(e,o){var i=re.fn[o];re.fn[o]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(o,!0),e,t,n)}}),re.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){re.fn[e]=function(e,t,n){return this.animate(o,e,t,n)}}),re.timers=[],re.fx.tick=function(){var e,t=0,n=re.timers;for(gt=re.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||re.fx.stop(),gt=void 0},re.fx.timer=function(e){re.timers.push(e),re.fx.start()},re.fx.interval=13,re.fx.start=function(){ut||(ut=!0,D())},re.fx.stop=function(){ut=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(o,e){return o=re.fx&&re.fx.speeds[o]||o,this.queue(e||"fx",function(e,t){var n=L.setTimeout(e,o);t.stop=function(){L.clearTimeout(n)}})},V=$.createElement("input"),Ae=$.createElement("select").appendChild($.createElement("option")),V.type="checkbox",ie.checkOn=""!==V.value,ie.optSelected=Ae.selected,(V=$.createElement("input")).value="t",V.type="radio",ie.radioValue="t"===V.value;var ft,ht=re.expr.attrHandle;re.fn.extend({attr:function(e,t){return Ee(this,re.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?re.prop(e,t,n):(1===r&&re.isXMLDoc(e)||(i=re.attrHooks[t.toLowerCase()]||(re.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void re.removeAttr(e,t):i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(o=i.get(e,t)))&&null==(o=re.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&l(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,i=t&&t.match(we);if(i&&1===e.nodeType)for(;n=i[o++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?re.removeAttr(e,n):e.setAttribute(n,n),n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ht[t]||re.find.attr;ht[t]=function(e,t,n){var o,i,r=t.toLowerCase();return n||(i=ht[r],ht[r]=o,o=null!=a(e,t,n)?r:null,ht[r]=i),o}});var mt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Ee(this,re.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[re.propFix[e]||e]})}}),re.extend({prop:function(e,t,n){var o,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&re.isXMLDoc(e)||(t=re.propFix[t]||t,i=re.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ie.optSelected||(re.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),re.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){re.propFix[this.toLowerCase()]=this}),re.fn.extend({addClass:function(t){var e,n,o,i,r,a,s=0;if(re.isFunction(t))return this.each(function(e){re(this).addClass(t.call(this,e,U(this)))});if("string"==typeof t&&t)for(e=t.match(we)||[];n=this[s++];)if(i=U(n),o=1===n.nodeType&&" "+B(i)+" "){for(a=0;r=e[a++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");i!==(o=B(o))&&n.setAttribute("class",o)}return this},removeClass:function(t){var e,n,o,i,r,a,s=0;if(re.isFunction(t))return this.each(function(e){re(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(we)||[];n=this[s++];)if(i=U(n),o=1===n.nodeType&&" "+B(i)+" "){for(a=0;r=e[a++];)for(;-1<o.indexOf(" "+r+" ");)o=o.replace(" "+r+" "," ");i!==(o=B(o))&&n.setAttribute("class",o)}return this},toggleClass:function(i,t){var r=typeof i;return"boolean"==typeof t&&"string"==r?t?this.addClass(i):this.removeClass(i):re.isFunction(i)?this.each(function(e){re(this).toggleClass(i.call(this,e,U(this),t),t)}):this.each(function(){var e,t,n,o;if("string"==r)for(t=0,n=re(this),o=i.match(we)||[];e=o[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!=r||((e=U(this))&&je.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&je.get(this,"__className__")||""))})},hasClass:function(e){var t,n=0;for(e=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+B(U(t))+" ").indexOf(e))return!0;return!1}});var yt=/\r/g;re.fn.extend({val:function(t){var n,e,o,i=this[0];return arguments.length?(o=re.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=o?t.call(this,e,re(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=re.map(e,function(e){return null==e?"":e+""})),(n=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):i?(n=re.valHooks[i.type]||re.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(i,"value"))?e:"string"==typeof(e=i.value)?e.replace(yt,""):null==e?"":e:void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:B(re.text(e))}},select:{get:function(e){var t,n=e.options,o=e.selectedIndex,i="select-one"===e.type,r=i?null:[],a=i?o+1:n.length;for(e=o<0?a:i?o:0;e<a;e++)if(!(!(t=n[e]).selected&&e!==o||t.disabled||t.parentNode.disabled&&l(t.parentNode,"optgroup"))){if(t=re(t).val(),i)return t;r.push(t)}return r},set:function(e,t){for(var n,o,i=e.options,r=re.makeArray(t),a=i.length;a--;)((o=i[a]).selected=-1<re.inArray(re.valHooks.option.get(o),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<re.inArray(re(e).val(),t)}},ie.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt=/^(?:focusinfocus|focusoutblur)$/;re.extend(re.event,{trigger:function(e,t,n,o){var i,r,a,s,l=[n||$],c=te.call(e,"type")?e.type:e,g=te.call(e,"namespace")?e.namespace.split("."):[],u=i=n=n||$;if(3!==n.nodeType&&8!==n.nodeType&&!wt.test(c+re.event.triggered)&&(-1<c.indexOf(".")&&(c=(g=c.split(".")).shift(),g.sort()),a=c.indexOf(":")<0&&"on"+c,(e=e[re.expando]?e:new re.Event(c,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:re.makeArray(t,[e]),g=re.event.special[c]||{},o||!g.trigger||!1!==g.trigger.apply(n,t))){if(!o&&!g.noBubble&&!re.isWindow(n)){for(r=g.delegateType||c,wt.test(r+c)||(u=u.parentNode);u;u=u.parentNode)l.push(u),i=u;i===(n.ownerDocument||$)&&l.push(i.defaultView||i.parentWindow||L)}for(i=0;(u=l[i++])&&!e.isPropagationStopped();)e.type=1<i?r:g.bindType||c,(s=(je.get(u,"events")||{})[e.type]&&je.get(u,"handle"))&&s.apply(u,t),(s=a&&u[a])&&s.apply&&Ce(u)&&(e.result=s.apply(u,t),!1===e.result&&e.preventDefault());return e.type=c,o||e.isDefaultPrevented()||g._default&&!1!==g._default.apply(l.pop(),t)||!Ce(n)||!a||!re.isFunction(n[c])||re.isWindow(n)||((i=n[a])&&(n[a]=null),n[re.event.triggered=c](),re.event.triggered=void 0,i&&(n[a]=i)),e.result}},simulate:function(e,t,n){e=re.extend(new re.Event,n,{type:e,isSimulated:!0}),re.event.trigger(e,null,t)}}),re.fn.extend({trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return re.event.trigger(e,t,n,!0)}}),re.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){re.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ie.focusin="onfocusin"in L,ie.focusin||re.each({focus:"focusin",blur:"focusout"},function(n,o){function i(e){re.event.simulate(o,e.target,re.event.fix(e))}re.event.special[o]={setup:function(){var e=this.ownerDocument||this,t=je.access(e,o);t||e.addEventListener(n,i,!0),je.access(e,o,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=je.access(e,o)-1;t?je.access(e,o,t):(e.removeEventListener(n,i,!0),je.remove(e,o))}}});var bt=L.location,xt=re.now(),Et=/\?/;re.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new L.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+e),t};var Ct=/\[\]$/,jt=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){function n(e,t){t=re.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var o,i=[];if(Array.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){n(this.name,this.value)});else for(o in e)!function n(o,e,i,r){if(Array.isArray(e))re.each(e,function(e,t){i||Ct.test(o)?r(o,t):n(o+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==re.type(e))r(o,e);else for(var t in e)n(o+"["+t+"]",e[t],i,r)}(o,e[o],t,n);return i.join("&")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Tt.test(this.nodeName)&&!qt.test(e)&&(this.checked||!Pe.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:Array.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(jt,"\r\n")}}):{name:t.name,value:n.replace(jt,"\r\n")}}).get()}});var It=/%20/g,St=/#.*$/,kt=/([?&])_=[^&]*/,At=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Mt={},Pt={},Dt="*/".concat("*"),Nt=$.createElement("a");Nt.href=bt.href,re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,re.ajaxSettings),t):z(re.ajaxSettings,e)},ajaxPrefilter:W(Mt),ajaxTransport:W(Pt),ajax:function(e,t){function n(e,t,n,o){var i,r,a=t;if(!E){if(E=!0,x&&L.clearTimeout(x),y=void 0,b=o||"",A.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n){for(var s,l,c=A,g=(s=j).contents,u=s.dataTypes;"*"===u[0];)u.shift(),void 0===h&&(h=s.mimeType||c.getResponseHeader("Content-Type"));if(h)for(m in g)if(g[m]&&g[m].test(h)){u.unshift(m);break}if(u[0]in n)v=u[0];else{for(m in n){if(!u[0]||s.converters[m+" "+u[0]]){v=m;break}l=l||m}v=v||l}s=v?(v!==u[0]&&u.unshift(v),n[v]):void 0}e:{var d,p,f,h=s,m=A,v=o,c={};if((g=(n=j).dataTypes.slice())[1])for(p in n.converters)c[p.toLowerCase()]=n.converters[p];for(l=g.shift();l;)if(n.responseFields[l]&&(m[n.responseFields[l]]=h),!f&&v&&n.dataFilter&&(h=n.dataFilter(h,n.dataType)),f=l,l=g.shift())if("*"===l)l=f;else if("*"!==f&&f!==l){if(!(p=c[f+" "+l]||c["* "+l]))for(d in c)if(s=d.split(" "),s[1]===l&&(p=c[f+" "+s[0]]||c["* "+s[0]])){!0===p?p=c[d]:!0!==c[d]&&(l=s[0],g.unshift(s[1]));break}if(!0!==p)if(p&&n.throws)h=p(h);else try{h=p(h)}catch(e){s={state:"parsererror",error:p?e:"No conversion from "+f+" to "+l};break e}}s={state:"success",data:h}}o?(j.ifModified&&((a=A.getResponseHeader("Last-Modified"))&&(re.lastModified[w]=a),(a=A.getResponseHeader("etag"))&&(re.etag[w]=a)),204===e||"HEAD"===j.type?a="nocontent":304===e?a="notmodified":(a=s.state,i=s.data,o=!(r=s.error))):(r=a,!e&&a||(a="error",e<0&&(e=0))),A.status=e,A.statusText=(t||a)+"",o?I.resolveWith(q,[i,a,A]):I.rejectWith(q,[A,a,r]),A.statusCode(k),k=void 0,C&&T.trigger(o?"ajaxSuccess":"ajaxError",[A,j,o?i:r]),S.fireWith(q,[A,a]),C&&(T.trigger("ajaxComplete",[A,j]),--re.active||re.event.trigger("ajaxStop"))}}"object"==typeof e&&(t=e,e=void 0);var y,w,b,o,x,i,E,C,r,j=re.ajaxSetup({},t=t||{}),q=j.context||j,T=j.context&&(q.nodeType||q.jquery)?re(q):re.event,I=re.Deferred(),S=re.Callbacks("once memory"),k=j.statusCode||{},a={},s={},l="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(E){if(!o)for(o={};t=At.exec(b);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return E?b:null},setRequestHeader:function(e,t){return null==E&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==E&&(j.mimeType=e),this},statusCode:function(e){if(e)if(E)A.always(e[A.status]);else for(var t in e)k[t]=[k[t],e[t]];return this},abort:function(e){return e=e||l,y&&y.abort(e),n(0,e),this}};if(I.promise(A),j.url=((e||j.url||bt.href)+"").replace(Rt,bt.protocol+"//"),j.type=t.method||t.type||j.method||j.type,j.dataTypes=(j.dataType||"*").toLowerCase().match(we)||[""],null==j.crossDomain){i=$.createElement("a");try{i.href=j.url,i.href=i.href,j.crossDomain=Nt.protocol+"//"+Nt.host!=i.protocol+"//"+i.host}catch(e){j.crossDomain=!0}}if(j.data&&j.processData&&"string"!=typeof j.data&&(j.data=re.param(j.data,j.traditional)),H(Mt,j,t,A),E)return A;for(r in(C=re.event&&j.global)&&0==re.active++&&re.event.trigger("ajaxStart"),j.type=j.type.toUpperCase(),j.hasContent=!Lt.test(j.type),w=j.url.replace(St,""),j.hasContent?j.data&&j.processData&&0===(j.contentType||"").indexOf("application/x-www-form-urlencoded")&&(j.data=j.data.replace(It,"+")):(i=j.url.slice(w.length),j.data&&(w+=(Et.test(w)?"&":"?")+j.data,delete j.data),!1===j.cache&&(w=w.replace(kt,"$1"),i=(Et.test(w)?"&":"?")+"_="+xt+++i),j.url=w+i),j.ifModified&&(re.lastModified[w]&&A.setRequestHeader("If-Modified-Since",re.lastModified[w]),re.etag[w]&&A.setRequestHeader("If-None-Match",re.etag[w])),(j.data&&j.hasContent&&!1!==j.contentType||t.contentType)&&A.setRequestHeader("Content-Type",j.contentType),A.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+("*"!==j.dataTypes[0]?", "+Dt+"; q=0.01":""):j.accepts["*"]),j.headers)A.setRequestHeader(r,j.headers[r]);if(j.beforeSend&&(!1===j.beforeSend.call(q,A,j)||E))return A.abort();if(l="abort",S.add(j.complete),A.done(j.success),A.fail(j.error),y=H(Pt,j,t,A)){if(A.readyState=1,C&&T.trigger("ajaxSend",[A,j]),E)return A;j.async&&0<j.timeout&&(x=L.setTimeout(function(){A.abort("timeout")},j.timeout));try{E=!1,y.send(a,n)}catch(e){if(E)throw e;n(-1,e)}}else n(-1,"No Transport");return A},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,i){re[i]=function(e,t,n,o){return re.isFunction(t)&&(o=o||n,n=t,t=void 0),re.ajax(re.extend({url:e,type:i,dataType:o,data:t,success:n},re.isPlainObject(e)&&e))}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){return this[0]&&(re.isFunction(e)&&(e=e.call(this[0])),e=re(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return re.isFunction(n)?this.each(function(e){re(this).wrapInner(n.call(this,e))}):this.each(function(){var e=re(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=re.isFunction(t);return this.each(function(e){re(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){re(this).replaceWith(this.childNodes)}),this}}),re.expr.pseudos.hidden=function(e){return!re.expr.pseudos.visible(e)},re.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},re.ajaxSettings.xhr=function(){try{return new L.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Ot=re.ajaxSettings.xhr();ie.cors=!!Ot&&"withCredentials"in Ot,ie.ajax=Ot=!!Ot,re.ajaxTransport(function(i){var r,a;if(ie.cors||Ot&&!i.crossDomain)return{send:function(e,t){var n,o=i.xhr();if(o.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)o[n]=i.xhrFields[n];for(n in i.mimeType&&o.overrideMimeType&&o.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)o.setRequestHeader(n,e[n]);r=function(e){return function(){r&&(r=a=o.onload=o.onerror=o.onabort=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?t(0,"error"):t(o.status,o.statusText):t(Ft[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=r(),a=o.onerror=r("error"),void 0!==o.onabort?o.onabort=a:o.onreadystatechange=function(){4===o.readyState&&L.setTimeout(function(){r&&a()})},r=r("abort");try{o.send(i.hasContent&&i.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),re.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),re.ajaxTransport("script",function(n){var o,i;if(n.crossDomain)return{send:function(e,t){o=re("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){o.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),$.head.appendChild(o[0])},abort:function(){i&&i()}}});var _t=[],Bt=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_t.pop()||re.expando+"_"+xt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(e,t,n){var o,i,r,a=!1!==e.jsonp&&(Bt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=re.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Bt,"$1"+o):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||re.error(o+" was not called"),r[0]},e.dataTypes[0]="json",i=L[o],L[o]=function(){r=arguments},n.always(function(){void 0===i?re(L).removeProp(o):L[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,_t.push(o)),r&&re.isFunction(i)&&i(r[0]),r=i=void 0}),"script"}),ie.createHTMLDocument=((V=$.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===V.childNodes.length),re.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(ie.createHTMLDocument?((o=(t=$.implementation.createHTMLDocument("")).createElement("base")).href=$.location.href,t.head.appendChild(o)):t=$),n=!n&&[],(o=pe.exec(e))?[t.createElement(o[1])]:(o=y([e],t,n),n&&n.length&&re(n).remove(),re.merge([],o.childNodes)));var o},re.fn.load=function(e,t,n){var o,i,r,a=this,s=e.indexOf(" ");return-1<s&&(o=B(e.slice(s)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&re.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(o?re("<div>").append(re.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},re.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.pseudos.animated=function(t){return re.grep(re.timers,function(e){return t===e.elem}).length},re.offset={setOffset:function(e,t,n){var o,i,r,a=re.css(e,"position"),s=re(e),l={};"static"===a&&(e.style.position="relative"),r=s.evergageOffset(),i=re.css(e,"top"),o=re.css(e,"left"),o=("absolute"===a||"fixed"===a)&&-1<(i+o).indexOf("auto")?(i=(o=s.position()).top,o.left):(i=parseFloat(i)||0,parseFloat(o)||0),null!=(t=re.isFunction(t)?t.call(e,n,re.extend({},r)):t).top&&(l.top=t.top-r.top+i),null!=t.left&&(l.left=t.left-r.left+o),"using"in t?t.using.call(e,l):s.css(l)}},re.fn.extend({offset:function(t){return arguments.length?void 0===t?this:this.each(function(e){re.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(o=n.getBoundingClientRect(),n=(e=n.ownerDocument).documentElement,e=e.defaultView,{top:o.top+e.pageYOffset-n.clientTop,left:o.left+e.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0;var e,n,o},position:function(){if(this[0]){var e,t,n=this[0],o={top:0,left:0};return"fixed"===re.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.evergageOffset(),o={top:(o=!l(e[0],"html")?e.evergageOffset():o).top+re.css(e[0],"borderTopWidth",!0),left:o.left+re.css(e[0],"borderLeftWidth",!0)}),{top:t.top-o.top-re.css(n,"marginTop",!0),left:t.left-o.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===re.css(e,"position");)e=e.offsetParent;return e||_e})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var r="pageYOffset"===i;re.fn[t]=function(e){return Ee(this,function(e,t,n){var o;return re.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n?o?o[i]:e[t]:void(o?o.scrollTo(r?o.pageXOffset:n,r?n:o.pageYOffset):e[t]=n)},t,e,arguments.length)}}),re.each(["top","left"],function(e,n){re.cssHooks[n]=S(ie.pixelPosition,function(e,t){if(t)return t=I(e,n),nt.test(t)?re(e).position()[n]+"px":t})}),re.each({Height:"height",Width:"width"},function(a,s){re.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,r){re.fn[r]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return Ee(this,function(e,t,n){return re.isWindow(e)?0===r.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(t=e.documentElement,Math.max(e.body["scroll"+a],t["scroll"+a],e.body["offset"+a],t["offset"+a],t["client"+a])):void 0===n?re.css(e,t,o):re.style(e,t,n,o)},s,n?e:void 0,n)}})}),re.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),re.holdReady=function(e){e?re.readyWait++:re.ready(!0)},re.isArray=Array.isArray,re.parseJSON=JSON.parse,re.nodeName=l;var Ut=L.jQuery,Wt=L.$;return re.noConflict=function(e){return L.$===re&&(L.$=Wt),e&&L.jQuery===re&&(L.jQuery=Ut),re},e||(L.jQuery=L.$=re),re}),ajq=jQuery.noConflict(!0),function(e){var t,n,o;void 0!==e&&void 0===e.browser&&(t=(t=navigator.userAgent).toLowerCase(),t=(n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[])[1]||"",n=n[2]||"0",o={},t&&(o[t]=!0,o.version=n),o.chrome?o.webkit=!0:o.webkit&&(o.safari=!0),e.browser=o)}(window.ajq=ajq),function(t){null!=typeof t&&"function"==typeof t.fn.offset&&(parseInt(t.fn.jquery)<3?t.fn.evergageOffset=t.fn.offset:t.fn.evergageOffset=function(){var e=this[0];return e&&"function"==typeof e.getClientRects?t.fn.offset.apply(this,arguments):{top:0,left:0}})}(ajq),function(I,S,k){function A(e){function t(e){return null===e||"object"!=typeof e}function n(e){return!L.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery)}return!(!e||"object"!=typeof e)&&(t(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&((t(e.content)||e.content.jquery)&&(e.content={text:e.content}),n(e.content.text||!1)&&(e.content.text=!1),"title"in e.content&&(t(e.content.title)&&(e.content.title={text:e.content.title}),n(e.content.title.text||!1)&&(e.content.title.text=!1))),"position"in e&&t(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&t(e.show)&&(e.show=e.show.jquery?{target:e.show}:{event:e.show}),"hide"in e&&t(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&t(e.style)&&(e.style={classes:e.style}),L.each(M,function(){this.sanitize&&this.sanitize(e)}),e)}function u(g,m,u,e){function d(e){var t,n=0,o=m;for(e=e.split(".");o=o[e[n++]];)n<e.length&&(t=o);return[t||m,e.pop()]}function v(e,t,n){return(e=L.Event("tooltip"+e)).originalEvent=(n?L.extend({},n):null)||b.event||null,q.trigger(e,[x].concat(t||[])),!e.isDefaultPrevented()}function c(){var e=m.style.widget;q.toggleClass("ui-helper-reset ui-widget",e).toggleClass("evergage-tooltip-default",m.style.def&&!e),w.content&&w.content.toggleClass("ui-widget-content",e),w.titlebar&&w.titlebar.toggleClass("ui-widget-header",e),w.button&&w.button.toggleClass("evergage-tooltip-icon",!e)}function o(e){w.title&&(w.titlebar.remove(),w.titlebar=w.title=w.button=null,!1!==e&&x.reposition())}function i(){var e=m.content.title.button,t="string"==typeof e?e:"Close tooltip";w.button&&w.button.remove(),w.button=e.jquery?e:L("<div />",{class:"evergage-tooltip-close "+(m.style.widget?"":"evergage-tooltip-icon"),title:t,href:"Javascript:void(false);"}).prepend(L("<span />",{class:"evergage-ui-icon-close",html:"&times;"})),w.button.appendTo(w.titlebar).attr("role","button").click(function(e){return q.hasClass("ui-state-disabled")||m&&m.bundle&&m.bundle.previewMode||x.hide(e),!1}),x.redraw()}function p(){var e=E+"-title";w.titlebar&&o(),w.titlebar=L("<div />",{class:"evergage-tooltip-titlebar "+(m.style.widget?"ui-widget-header":"")}).append(w.title=L("<div />",{id:e,class:"evergage-tooltip-title"})).insertBefore(w.content),m.content.title.button?i():x.rendered&&x.redraw()}function f(e,t){var n=w.title;if(x.rendered&&e){if(!1===(e=L.isFunction(e)?e.call(g,b.event,x):e)||!e&&""!==e)return o(!1),0;e.jquery&&0<e.length?n.empty().append(e.css({display:"block"})):n.html(e),x.redraw(),!1!==t&&x.rendered&&0<q[0].offsetWidth&&x.reposition(b.event)}}function h(e,n){function t(t){function o(e){e&&(delete i[e.src],clearTimeout(x.timers.img[e.src]),L(e).unbind(T)),L.isEmptyObject(i)&&(x.redraw(),!1!==n&&x.reposition(b.event),t())}var e,i={};if(0===(e=r.find("img[src]:not([height]):not([width])")).length)return o();e.each(function(e,t){var n;i[t.src]===k&&(n=0,function e(){return t.height||t.width||3<n?o(t):(n+=1,void(x.timers.img[t.src]=setTimeout(e,700)))}(),L(t).bind("error"+T+" load"+T,function(){o(this)}),i[t.src]=t)})}var r=w.content;return x.rendered&&e&&((e=L.isFunction(e)?e.call(g,b.event,x)||"":e).jquery&&0<e.length?r.empty().append(e.css({display:"block"})):r.html(e),x.rendered<0?q.queue("fx",t):(j=0,t(L.noop)),x)}function y(){function i(e){try{if(q.hasClass("ui-state-disabled"))return!1;clearTimeout(x.timers.show),clearTimeout(x.timers.hide);function t(){x.toggle(!0,e)}0<m.show.delay?x.timers.show=setTimeout(t,m.show.delay):t()}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageShow")}}function r(e){try{if(q.hasClass("ui-state-disabled")||C||j)return!1;var t=L(e.relatedTarget||e.target),n=t.closest("div.evergage-qtip.evergage-tooltip")[0]===q[0],o=t[0]===s.show[0];if(clearTimeout(x.timers.show),clearTimeout(x.timers.hide),"mouse"===a.target&&n||m.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||o))try{e.preventDefault(),e.stopImmediatePropagation()}catch(e){}else 0<m.hide.delay?x.timers.hide=setTimeout(function(){x.hide(e)},m.hide.delay):x.hide(e)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageHide")}}function n(e){try{if(q.hasClass("ui-state-disabled"))return!1;clearTimeout(x.timers.inactive),x.timers.inactive=setTimeout(function(){x.hide(e)},m.hide.inactive)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageInactiveTimer")}}function e(e){try{x.rendered&&0<q[0].offsetWidth&&x.reposition(e)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageReposition")}}var a=m.position,s={show:m.show.target,hide:m.hide.target,viewport:L(a.viewport),document:L(S),body:L(S.body),window:L(I)},l=L.trim(""+m.show.event).split(" "),t=L.trim(""+m.hide.event).split(" "),o=L.browser.msie&&6===parseInt(L.browser.version,10);q.bind("mouseenter"+T+" mouseleave"+T,function(e){var t="mouseenter"===e.type;t&&x.focus(e),q.toggleClass("evergage-tooltip-hover",t)}),/mouse(out|leave)/i.test(m.hide.event)&&"window"===m.hide.leave&&s.window.bind("mouseout"+T+" blur"+T,function(e){try{/select|option/.test(e.target.nodeName)||e.relatedTarget||x.hide(e)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageMouseLeave")}}),m.hide.fixed?(s.hide=s.hide.add(q),q.bind("mouseover"+T,function(){q.hasClass("ui-state-disabled")||clearTimeout(x.timers.hide)})):/mouse(over|enter)/i.test(m.show.event)&&s.hide.bind("mouseleave"+T,function(e){try{clearTimeout(x.timers.show)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageMouseEnter")}}),-1<(""+m.hide.event).indexOf("unfocus")&&a.container.closest("html").bind("mousedown"+T+" touchstart"+T,function(e){try{var t=L(e.target);x.rendered&&q.hasClass("ui-state-disabled");var n=0<t.parents("div.evergage-qtip.evergage-tooltip").filter(q[0]).length;t[0]===g[0]||t[0]===q[0]||n||g.has(t[0]).length||t.attr("disabled")||x.hide(e)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageUnfocusHide")}}),"number"==typeof m.hide.inactive&&(s.show.bind("qtip-"+u+"-inactive",n),L.each(R.inactiveEvents,function(e,t){s.hide.add(w.tooltip).bind(t+T+"-inactive",n)})),L.each(t,function(e,t){var n=L.inArray(t,l),o=L(s.hide);-1<n&&o.add(s.show).length===o.length||"unfocus"===t?(s.show.bind(t+T,function(e){try{(0<q[0].offsetWidth?r:i)(e)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageToggle")}}),delete l[n]):s.hide.bind(t+T,r)}),L.each(l,function(e,t){s.show.bind(t+T,i)}),"number"==typeof m.hide.distance&&s.show.add(q).bind("mousemove"+T,function(e){var t=b.origin||{},n=m.hide.distance,o=Math.abs;(o(e.pageX-t.pageX)>=n||o(e.pageY-t.pageY)>=n)&&x.hide(e)}),"mouse"===a.target&&(s.show.bind("mousemove"+T,function(e){try{P={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageMouseMove")}}),a.adjust.mouse&&(m.hide.event&&(q.bind("mouseleave"+T,function(e){(e.relatedTarget||e.target)!==s.show[0]&&x.hide(e)}),w.target.bind("mouseenter"+T+" mouseleave"+T,function(e){try{b.onTarget="mouseenter"===e.type}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageMouseEnterLeave")}})),s.document.bind("mousemove"+T,function(e){try{x.rendered&&b.onTarget&&!q.hasClass("ui-state-disabled")&&0<q[0].offsetWidth&&x.reposition(e||P)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageMouseMoveEvents")}}))),(a.adjust.resize||s.viewport.length)&&(L.event.special.resize?s.viewport:s.window).bind("resize"+T,e);for(var t=1.8<=parseFloat(ajq.fn.jquery)?L(m.position.target).parents().addBack():L(m.position.target).parents().andSelf(),c=0;c<t.length;c++)L(t[c]).bind("scroll"+T,e);(s.viewport.length||o&&"fixed"===q.css("position"))&&s.viewport.bind("scroll"+T,e)}function r(){for(var e=[m.show.target[0],m.hide.target[0],x.rendered&&w.tooltip[0],m.position.container[0],m.position.viewport[0],m.position.container.closest("html")[0],I,S],t=1.8<=parseFloat(ajq.fn.jquery)?L(m.position.target).parents().addBack():L(m.position.target).parents().andSelf(),n=0;n<t.length;n++)e.push(t[n]);x.rendered?L([]).pushStack(L.grep(e,function(e){return"object"==typeof e})).unbind(T):m.show.target.unbind(T+"-create")}var w,b,x=this,E="evergage-tooltip-"+u,C=0,j=0,q=L(),T=".evergage-qtip-"+u;x.id=u,x.rendered=!1,x.destroyed=!1,x.elements=w={target:g},x.timers={img:{}},x.options=m,x.checks={},x.plugins={},x.cache=b={event:{},target:L(),disabled:!1,attr:e,onTarget:!1,lastClass:""},x.checks.builtin={"^id$":function(e,t,n){t="evergage-tooltip-"+(e=!0===n?R.nextid:n),!1!==e&&0<e.length&&!L("#"+t).length&&(q[0].id=t,w.content[0].id=t+"-content",w.title[0].id=t+"-title")},"^content.text$":function(e,t,n){h(n)},"^content.fullcontents$":function(e,t,n){h(n)},"^content.title.text$":function(e,t,n){if(!n)return o();!w.title&&n&&p(),f(n)},"^content.title.button$":function(e,t,n){e=w.button,t=w.title,x.rendered&&(n?(t||p(),i()):e.remove())},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new M.Corner(n))},"^position.container$":function(e,t,n){if(x.rendered)if((e=x.options?x.options.bundle:null)&&"page"==e.target.renderType)switch(e.target.inlineInsertionLocation){case"NextSibling":q.insertAfter(n);break;case"PreviousSibling":q.insertBefore(n);break;case"FirstChild":q.prependTo(n);break;default:q.appendTo(n)}else q.appendTo(n)},"^show.ready$":function(){x.rendered?x.toggle(!0):x.render(1)},"^style.classes$":function(e,t,n){q.attr("class","evergage-tooltip evergage-qtip "+n)},"^style.widget|content.title":c,"^events.(render|show|move|hide|focus|blur|destroy)$":function(e,t,n){q[(L.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=m.position;q.attr("tracking","mouse"===e.target&&e.adjust.mouse),r(),y()}},m&&m.bundle&&!m.bundle.legacy?(delete x.checks.builtin["^content.text$"],delete x.checks.builtin["^content.title.text$"]):delete x.checks.builtin["^content.fullcontents$"],L.extend(x,{render:function(t){if(x.rendered)return x;var e,n,o=m.content.text,i=m.content.title.text,r=m.position,a=m.bundle,s=a.invisible?"evergage-tooltip-invisible":"",l="";if(a&&null!=a.existingStyles&&(l+=a.existingStyles),a&&!a.legacy&&null!=a.topLevelDivStyle&&(l+=a.topLevelDivStyle,"page"!==g.renderType||!0!==g.inlineRespectMessageSize?(m.style.width=null,m.style.height=null):"page"===g.renderType&&!0===g.inlineRespectMessageSize&&((n=(e=L("<div style='"+a.topLevelDivStyle+"'></div>")).css("width"))&&-1<n.indexOf("px")&&(m.style.width=n),(e=e.css("height"))&&-1<e.indexOf("px")&&(m.style.height=e))),l+="visibility: hidden;box-sizing: border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;display: block;",a&&!0===a.invisible&&(l+="width: 1px !important; height: 1px !important; display: none !important; visibility: hidden !important; pointer-events: none !important; opacity: 0 !important;"),q=w.tooltip=L("<div/>",{id:E,class:"evergage-tooltip evergage-qtip evergage-tooltip-default "+m.style.classes+" evergage-tooltip-pos-"+m.position.my.abbrev()+" "+s,tracking:"mouse"===r.target&&r.adjust.mouse,style:l}).toggleClass("ui-state-disabled",b.disabled).data("qtip",x),m.position.container&&0<m.position.container.length&&m.position.replaceContainer)L(m.position.container[0]).replaceWith(q);else if(a&&"page"==a.target.renderType&&!0!==a.target.replaceExistingContent)switch(a.target.inlineInsertionLocation){case"NextSibling":q.insertAfter(m.position.container);break;case"PreviousSibling":q.insertBefore(m.position.container);break;case"FirstChild":q.prependTo(m.position.container);break;default:q.appendTo(m.position.container)}else q.appendTo(m.position.container);return null!=m.content.fullContents?(r=ajq(ajq.trim(m.content.fullContents)),!a.previewMode&&a.formElementData&&a.formElementData.messageHasForm&&(s=ajq("<form/>",{}),a.formElementData.formSubmitAction&&s.attr("evergage-action",a.formElementData.formSubmitAction),a.formElementData.hideMessageOnSubmit||s.attr("evergage-nocloseonsubmit","evergage-nocloseonsubmit"),a.formElementData.dismissMessageOnSubmit||s.attr("evergage-nodismissonsubmit","evergage-nodismissonsubmit"),r=s.append(r)),q.append(r),w.content=q):q.append(w.content=L("<div />",{class:"evergage-tooltip-content",id:E+"-content"})),x.rendered=-1,C=j=1,i&&null==m.content.fullContents&&(p(),L.isFunction(i)||f(i,!1)),L.isFunction(o)||null!=m.content.fullContents||h(o,!1),x.rendered=!0,m.style.poweredBy&&function(){w.poweredByEvergage&&w.poweredByEvergage.remove(),w.poweredByEvergage=L("<div></div>",{class:"evergage poweredByEvergage"});var e=L("<a></a>",{href:"http://www.evergage.com?poweredByEvergage",target:"_blank",title:"Powered by Evergage"});L("<img />",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEN2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS4xLjIiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxMy0wNS0zMVQxMTowNTo0NTwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVzc2lvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MTwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4yNDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CmHSW3gAAAP/SURBVEgNtVVfTFtlFP/13v6/azsqbbGlIu3+wEihW4hlkixRHjaNBJYICagxDZo9YBwkMCNLJFFM9IEl0/ggupDgog9Tw4gx2Ts8sD/gtlDiYMDoAox2tqHa9rb0Xr/v4m24UhJI9DRfzz3nfOf8zv3O+c5ViaKI/5PUcnCVSsU0NjYGOY5r0Ol0pUSWTXviJNFMNpu9l0gkroyNjc3ITir6BrW1tRqv13vDbre/5Pf74fF4YLFYsF8QAoDV1VV+dHT0reHh4WsSCAVoamrqe//8eXFiYkJ8Go+JbRPfiOduXRWJw75WJpMRk6mUGA6H4y0tLTYam6EoZrO56WRdHXi3Be/N/gyf1Q2XsQhv3x7BfDIKtVotLZFhEc0yYP+RZb3MNRoNDHo9nnU6LR0dHadobKkG5My9FZWVmOSf4vABGz6sOE1t6J6+htDGE9xfNyOVy+H64p/4dVXApRdMeLfSBDVTuE4sw8Dn8x2iMSQAkgHzjNUKIR1HLJOkeol4IYVb62l8NhmBkxNx2m1Ee7kan0/HMPQgjaBXi8rIbZTYHTSg7CZxkrSEnu8ilmXxsqMCc39FcG7qe4Ccn17FYS5mQ51djdFXSuAwspLzwkYWDb88wdhSFi86i9B3sQ8DnwygpqZGAUIFqQay9ojJjkv+13HWUY033bUoY87gp0ccPg5Y88HpXo9Zg4vHzfiDF1B6zI/2tnYMfDogh1FwBYBsuTF4Bfy9MI4UARakYNXt3FbKqTGd5nB1LgFyd7CysiK7K/hOT2JeXl5GPB7Ha2UcvCYWI79vKJyoMPIggVNWAa8+x2FzcxMmk2nHHqrI12C7lbYdQzohnRNxkGT/5WwKOTGCNw4fIDrg29kN/LCQxp2zJThWpEFIFGAwGLaHyD8XBJCtelaF7xocmIlt4qObUXz1UES5Ogm3SYs2jwHPk1pQohdKT/q/EBUE4HleuljUwUnOmq5DZgd+fMTjjOsguYhaRSw6UnRanUInCwUB/DV+zD+cl/dIvJxk2+vbylhhIMLiwiKOVhz9t1qSCwJ0dnaip7cHXd1d5Oorz1aj1YCMARgNRlz+4jJSyRTWI+sYHBzcHUAQhBQ5R9KUW2Sz2TD09RBmQjPI8BlJSc+Z/h6HH6O3pxcerwdLS0vo7upGdXX1jiKT/WnqKL0BmZp3ySR00iDyiCZXHSeOn9hC3P5/Eqivr8eFDy7A5XIhEAhst+afSZv/VlxcvNUBzc3NDePj4wJPxu1eiY7yUCi02/ZJMq5ZmrDUYvSBnPs7a2triVwut5vTXvXjU1NTZTQmXdIXTX6v1tZWazAYDFRVVZXS2b4fInXko9HoffI1u9vf3y/IvgoAWflf8r8B05gl5ZrxIbMAAAAASUVORK5CYII="}).appendTo(e),e.appendTo(w.poweredByEvergage),w.poweredByEvergage.insertAfter(w.content),x.rendered&&x.redraw()}(),c(),L.each(m.events,function(e,t){L.isFunction(t)&&q.bind("toggle"===e?"tooltipshow tooltiphide":"tooltip"+e,t)}),L.each(M,function(){"render"===this.initialize&&this(x)}),y(),q.queue("fx",function(e){v("render"),C=j=0,x.redraw(),(m.show.ready||t)&&(x.toggle(!0,b.event,!1),setTimeout(function(){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Finished showing message ["+a.id+"] via 1 second timeout."),q.css("display","block"),Evergage.getDisabledQtipWindowScroll()||L(I).scroll()},1e3),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Finished showing message ["+a.id+"]."),Evergage&&"object"==typeof Evergage&&"function"==typeof Evergage.setMessageAsDisplayedForReshowPersonalizationSections&&Evergage.setMessageAsDisplayedForReshowPersonalizationSections(u),m.bundle&&"function"==typeof m.bundle.showCallback&&m.bundle.showCallback(x)),e()}),x},get:function(e){switch(e.toLowerCase()){case"dimensions":e={height:q.outerHeight(!1),width:q.outerWidth(!1)};break;case"offset":e=M.offset(q,m.position.container);break;default:e=(e=(e=d(e.toLowerCase()))[0][e[1]]).precedance?e.string():e}return e},set:function(i,e){var t,r=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,a=/^content\.(title|attr)|style/i,s=!1,l=!1,c=x.checks;return"string"==typeof i?(t=i,(i={})[t]=e):i=L.extend(!0,{},i),L.each(i,function(e,t){var n=d(e.toLowerCase()),o=n[0][n[1]];n[0][n[1]]="object"==typeof t&&t.nodeType?L(t):t,i[e]=[n[0],n[1],t,o],s=r.test(e)||s,l=a.test(e)||l}),A(m),C=j=1,L.each(i,function(e,t){var n,o,i;for(n in c)for(o in c[n])(i=new RegExp(o,"i").exec(e))&&(t.push(i),c[n][o].apply(x,t))}),C=j=0,x.rendered&&0<q[0].offsetWidth&&(s&&x.reposition("mouse"===m.position.target?null:b.event),l&&x.redraw()),x},toggle:function(e,t,n){function o(){e?(L.browser.msie&&q[0].style.removeAttribute("filter"),q.css("overflow",""),"string"==typeof r.autofocus&&L(r.autofocus,q).focus(),r.target.trigger("qtip-"+u+"-inactive")):q.css({display:"",visibility:"",opacity:"",left:"",top:""}),v(e?"visible":"hidden")}if(t){if(/over|enter/.test(t.type)&&/out|leave/.test(b.event.type)&&m.show.target.add(t.target).length===m.show.target.length&&q.has(t.relatedTarget).length)return x;b.event=L.extend({},t)}if(!x.rendered)return e?x.render(1):x;var i=e?"show":"hide",r=m[i],a=m.position,s=m.content,l=0<q[0].offsetWidth&&"visible"==q.css("visibility"),c=e||1===r.target.length,g=!t||r.target.length<2||b.target[0]===t.target;return(typeof e).search("boolean|number")&&(e=!l),!q.is(":animated")&&l===e&&g||!v(i,[90])||(e?(b.origin=L.extend({},P),x.focus(t),L.isFunction(s.text)&&h(s.text,!1),L.isFunction(s.title.text)&&f(s.title.text,!1),!N&&"mouse"===a.target&&a.adjust.mouse&&(L(S).bind("mousemove.qtip",function(e){try{P={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"pageMouseMove")}}),N=!0),x.reposition(t,n),q.css({visibility:"visible"}),r.solo&&L("div.evergage-qtip.evergage-tooltip",r.solo).not(q).qtip("hide",L.Event("tooltipsolo"))):(clearTimeout(x.timers.show),delete b.origin,N&&!L('div.evergage-qtip.evergage-tooltip[tracking="true"]:visible',r.solo).not(q).length&&(L(S).unbind("mousemove.qtip"),N=!1),x.blur(t)),!1===r.effect||!1===c?(q[i](),o.call(q)):L.isFunction(r.effect)?(q.stop(1,1),r.effect.call(q,x),q.queue("fx",function(e){o(),e()})):q.fadeTo(90,e?1:0,o),e&&r.target.trigger("qtip-"+u+"-inactive")),x},show:function(e){return x.toggle(!0,e)},hide:function(e){return x.toggle(!1,e)},focus:function(e){if(!x.rendered)return x;var t=L("div.evergage-qtip.evergage-tooltip"),n=parseInt(q[0].style.zIndex,10),o=R.zindex+t.length;return e=L.extend({},e),q.hasClass("evergage-tooltip-focus")||q.hasClass("evergage-tooltip-invisible")||!v("focus",[o],e)||(n!==o&&(t.each(function(){this.style.zIndex>n&&--this.style.zIndex}),t.filter(".evergage-tooltip-focus").qtip("blur",e)),q.addClass("evergage-tooltip-focus")[0].style.zIndex=o),x},blur:function(e){return q.removeClass("evergage-tooltip-focus"),v("blur",[q.css("zIndex")],e),x},reposition:function(e,t){if(!x.rendered||C)return x;(n=m?m.bundle:null)&&n.target&&n.target.target&&m.position&&m.position.target&&m.position.target.selector===n.target.target&&(m.position.target=ajq(n.target.target)),C=1;var n=m.position.target,o=m.position,i=o.my,r=o.at,a=o.adjust;a.method.split(" ");var s=q.outerWidth(!1),l=q.outerHeight(!1),c=0,g=0,u="fixed"===q.css("position"),d=o.viewport,p={left:0,top:0},f=o.container,h=0<q[0].offsetWidth;if(L.isArray(n)&&2===n.length)r={x:"left",y:"top"},p={left:n[0],top:n[1]};else if("mouse"===n&&(e&&e.pageX||b.event.pageX))r={x:"left",y:"top"},p={top:(e=(!e||"resize"!==e.type&&"scroll"!==e.type?e&&e.pageX&&"mousemove"===e.type?e:!P||!P.pageX||!a.mouse&&e&&e.pageX?!a.mouse&&b.origin&&b.origin.pageX&&m.show.distance?b.origin:e:{pageX:P.pageX,pageY:P.pageY}:b.event)||e||b.event||P||{}).pageY,left:e.pageX};else{if("event"===n&&e&&e.target&&"scroll"!==e.type&&"resize"!==e.type?b.target=L(e.target):"event"!==n&&(b.target=L(n.jquery?n:w.target)),n=b.target,0===(n=L(n).eq(0)).length)return x;n[0]===S||n[0]===I?(c=!("number"==typeof I.innerWidth&&"number"==typeof n.width()&&I.innerWidth!==n.width()&&I.innerWidth+20>=n.width())&&"number"==typeof I.innerWidth?I.innerWidth:n.width(),g=!("number"==typeof I.innerHeight&&"number"==typeof n.height()&&I.innerHeight!==n.height()&&I.innerHeight+20>=n.height())&&"number"==typeof I.innerHeight?I.innerHeight:n.height(),n[0]===I&&(p={top:(d||n).scrollTop(),left:(d||n).scrollLeft()})):(c=n.outerWidth(!1),g=n.outerHeight(!1),p=M.offset(n,f)),(M.iOS||!M.iOS&&u)&&(u=L(I),p.left-=u.scrollLeft(),p.top-=u.scrollTop()),p.left+="right"===r.x?c:"center"===r.x?c/2:0,p.top+="bottom"===r.y?g:"center"===r.y?g/2:0}return p.left+=a.x+("right"===i.x?-s:"center"===i.x?-s/2:0),p.top+=a.y+("bottom"===i.y?-l:"center"===i.y?-l/2:0),p.adjusted=M.viewport?M.viewport(x,p,o,c,g,s,l):{left:0,top:0},v("move",[p,d.elem||d],e)&&(delete p.adjusted,!1===t||!h||isNaN(p.left)||isNaN(p.top)||"mouse"===n||!L.isFunction(o.effect)?q.css(p):L.isFunction(o.effect)&&(o.effect.call(q,x,L.extend({},p)),q.queue(function(e){L(this).css({opacity:""}),L.browser.msie&&this.style.removeAttribute("filter"),e()})),C=0),x},redraw:function(){if(x.rendered<1||j)return x;var e,t,n=m.style,o=m.position.container;if(j=1,v("redraw"),n.height&&"1px"!=n.height&&(i=q[0].style.cssText,ajq.trim(i).lastIndexOf(";")+1!=ajq.trim(i).length&&(i+="; "),i+=" max-height: "+n.height+" !important;",i+=" height: "+n.height+" !important;",q[0].style.cssText=i),n.width&&"1px"!=n.width)i=q[0].style.cssText,ajq.trim(i).lastIndexOf(";")+1!=ajq.trim(i).length&&(i+="; "),i+=" max-width: "+n.width+" !important;",i+=" width: "+n.width+" !important;",q[0].style.cssText=i;else if(!0!==m.position.replaceContainer){if("-28000px"==q.css("top"))return x;var i=q.outerWidth(),r=m.bundle;if(parseInt(q.css("width"))>=parseInt(o.css("width")))if(r&&"page"==r.target.renderType&&!0!==r.target.replaceExistingContent)switch(r.target.inlineInsertionLocation){case"NextSibling":q.insertAfter(o);break;case"PreviousSibling":q.insertBefore(o);break;case"FirstChild":q.prependTo(o);break;default:q.appendTo(o)}else q.appendTo(o);else if(n=-1<((e=q.css("max-width")||"")+(t=q.css("min-width")||"")).indexOf("%")?o.width()/100:0,i=(e=(-1<e.indexOf("%")?n:1)*parseInt(e,10)||i)+(t=(-1<t.indexOf("%")?n:1)*parseInt(t,10)||0)?Math.min(Math.max(i,t),e):i,r&&"page"==r.target.renderType&&!0!==r.target.replaceExistingContent)switch(m.bundle.target.inlineInsertionLocation){case"NextSibling":q.css("width",Math.round(i)).insertAfter(o);break;case"PreviousSibling":q.css("width",Math.round(i)).insertBefore(o);break;case"FirstChild":q.css("width",Math.round(i)).prependTo(o);break;default:q.css("width",Math.round(i)).appendTo(o)}else q.css("width",Math.round(i)).appendTo(o)}return v("redrawn"),j=0,x},disable:function(e){return"boolean"!=typeof e&&(e=!(q.hasClass("ui-state-disabled")||b.disabled)),x.rendered?q.toggleClass("ui-state-disabled",e):b.disabled=!!e,x},enable:function(){return x.disable(!1)},destroy:function(){var e=g[0],t=L.attr(e,"oldtitle"),n=g.data("qtip");return v("destroy"),x.destroyed=!0,x.rendered&&(q.stop(1,0).remove(),L.each(x.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(x.timers.show),clearTimeout(x.timers.hide),r(),n&&x!==n||(L.removeData(e,"qtip"),m.suppress&&t&&(L.attr(e,"title",t),g.removeAttr("oldtitle"))),g.unbind(".qtip-"+u),delete D[x.id],g}})}function n(r){var a,s=this,o=r.elements.tooltip,l=r.options.content.ajax,c=R.defaults.content.ajax,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=!0,d=!1;r.checks.ajax={"^content.ajax":function(e,t,n){"ajax"===t&&(l=n),"once"===t?s.init():l&&l.url?s.load():o.unbind(".qtip-ajax")}},L.extend(s,{init:function(){return l&&l.url&&o.unbind(".qtip-ajax")[l.once?"one":"bind"]("tooltipshow.qtip-ajax",s.load),s},load:function(t){if(d)d=!1;else{var i,e=l.url.lastIndexOf(" "),n=l.url,o=!l.loading&&u;if(o)try{t.preventDefault()}catch(e){}else if(t&&t.isDefaultPrevented())return s;a&&a.abort&&a.abort(),-1<e&&(i=n.substr(e),n=n.substr(0,e)),a=L.ajax(L.extend({error:c.error||function(e,t,n){r.destroyed||0===e.status||r.set("content.text",t+": "+n)},context:r},l,{url:n,success:function(e,t,n){var o;r.destroyed||(i&&"string"==typeof e&&(e=L("<div/>").append(e.replace(g,"")).find(i)),(o=c.success||l.success)&&L.isFunction(o)?o.call(l.context||r,e,t,n):r.set("content.text",e))},complete:function(){var e;r.destroyed||(u=!1,o&&(d=!0,r.show(t.originalEvent)),(e=c.complete||l.complete)&&L.isFunction(e)&&e.apply(l.context||r,arguments))}}))}},destroy:function(){a&&a.abort&&a.abort(),r.destroyed=!0}}),s.init()}function o(p,e){var f;function h(e){var t=E.is(":visible");E.show(),e(),E.toggle(t)}function o(e,t,n,o){var i,r,a,s,l,c,g,u,d;x.tip&&(e=w.corner.clone(),o=n.adjusted,i=(r=p.options.position.adjust.method.split(" "))[0],r=r[1]||r[0],s=a=!1,u={},!(c=l=0)!==w.corner.fixed&&("shift"===i&&"x"===e.precedance&&o.left&&"center"!==e.y?e.precedance="x"===e.precedance?"y":"x":"shift"!==i&&o.left&&(e.x="center"===e.x?0<o.left?"left":"right":"left"===e.x?"right":"left"),"shift"===r&&"y"===e.precedance&&o.top&&"center"!==e.x?e.precedance="y"===e.precedance?"x":"y":"shift"!==r&&o.top&&(e.y="center"===e.y?0<o.top?"top":"bottom":"top"===e.y?"bottom":"top"),e.string()===C.corner.string()||C.top===o.top&&C.left===o.left||w.update(e,!1)),g=w.position(e,o),s=m(e,e.x),a=m(e,e.y),(t=t.options.bundle).legacy?(g[e.x]+=s,g[e.y]+=a):(g[d=g.right?"right":"left"]<0&&(s=t.previewMode?g[d]-s:-(x.tip.width()+parseFloat(x.tip.css("padding-"+d))),x.tip.css(d,s)),g[s=g.bottom?"bottom":"top"]<0&&(t=t.previewMode?g[s]-a:-(x.tip.height()+parseFloat(x.tip.css("padding-"+s))),x.tip.css(s,t))),g.right!==k&&(g.left=-g.right),g.bottom!==k&&(g.top=-g.bottom),g.user=Math.max(0,b.offset),(a="shift"===i&&!!o.left)&&("center"===e.x?u["margin-left"]=l=g["margin-left"]-o.left:(t=g.right!==k?[o.left,-g.left]:[-o.left,g.left],(l=Math.max(t[0],t[1]))>t[0]&&(n.left-=o.left,a=!1),u[g.right!==k?"right":"left"]=l)),(s="shift"===r&&!!o.top)&&("center"===e.y?u["margin-top"]=c=g["margin-top"]-o.top:(t=g.bottom!==k?[o.top,-g.top]:[-o.top,g.top],(c=Math.max(t[0],t[1]))>t[0]&&(n.top-=o.top,s=!1),u[g.bottom!==k?"bottom":"top"]=c)),x.tip.css(u).toggle(!(l&&c||"center"===e.x&&c||"center"===e.y&&l)),n.left-=g.left.charAt?g.user:"shift"!==i||s||!a&&!s?g.left:0,n.top-=g.top.charAt?g.user:"shift"!==r||a||!a&&!s?g.top:0,C.left=o.left,C.top=o.top,C.corner=e.clone())}function m(e,t,n){t=t||e[e.precedance];var o,i=x.titlebar&&"top"===e.y?x.titlebar:E,r="border-"+t+"-width";return h(function(){o=(n?parseInt(n.css(r),10):parseInt(x.content.css(r),10)||parseInt(i.css(r),10)||parseInt(E.css(r),10))||0}),o}function g(e){function t(e){return parseInt(o.css(e),10)||parseInt(E.css(e),10)}var n,o=x.titlebar&&"top"===e.y?x.titlebar:x.content,i=L.browser.mozilla?"-moz-":L.browser.webkit?"-webkit-":"",r="border-radius-"+e.y+e.x,a="border-"+e.y+"-"+e.x+"-radius";return h(function(){n=t(a)||t(i+a)||t(i+r)||t(r)||0}),n}function v(e){var t="y"===e.precedance,n=j[t?"width":"height"],o=j[t?"height":"width"],i=-1<e.string().indexOf("center"),r=n*(i?.5:1),a=Math.pow;e=Math.round;var s=Math.sqrt(a(r,2)+a(o,2));return(r=[T/r*s,T/o*s])[2]=Math.sqrt(a(r[0],2)-a(T,2)),r[3]=Math.sqrt(a(r[1],2)-a(T,2)),{height:(n=[e((i=(s+r[2]+r[3]+(i?0:r[0]))/s)*o),e(i*n)])[t?0:1],width:n[t?1:0]}}function y(e,t,n){return"<qvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="evergage-qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'}var i,w=this,b=p.options.style.tip,x=p.elements,E=x.tooltip,C={top:0,left:0},j={width:b.width,height:b.height},q=f=void 0,T=b.border||0,I=!!(L("<canvas />")[0]||{}).getContext;w.corner=null,w.mimic=null,w.border=T,w.offset=b.offset,w.size=j,p.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){w.init()||w.destroy(),p.reposition()},"^style.tip.(height|width)$":function(){j={width:b.width,height:b.height},w.create(),w.update(),p.reposition()},"^content.title.text|style.(classes|widget)$":function(){x.tip&&x.tip.length&&w.update()}},L.extend(w,{init:function(){var e,t,n,e=(e=b.corner,t=(n=p.options.position).at,n=n.my.string?n.my.string():n.my,!1!==e&&(!1!==n||!1!==t)&&(!0===e?w.corner=new M.Corner(n):e.string||(w.corner=new M.Corner(e),w.corner.fixed=!0),C.corner=new M.Corner(w.corner.string()),"centercenter"!==w.corner.string())&&(I||L.browser.msie));return e&&(w.create(),w.update(),E.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",o),I||E.bind("tooltipredraw tooltipredrawn",function(e){"tooltipredraw"===e.type?(i=x.tip.html(),x.tip.html("")):x.tip.html(i)})),e},create:function(){var e=j.width,t=j.height;x.tip&&x.tip.remove(),x.tip=L("<div />",{class:"evergage-tooltip-tip"}).css({width:e,height:t}).prependTo(E),I?L("<canvas />").appendTo(x.tip)[0].getContext("2d").save():(e=y("shape",'coordorigin="0,0"',"position:absolute;"),x.tip.html(e+e),L("*",x.tip).bind("click mousedown",function(e){e.stopPropagation()}))},update:function(e,t){var n,o,i,r,a,s,l,c,g=x.tip,u=g.children(),d=(j.width,j.height,b.mimic),p=Math.round;e=e||(C.corner||w.corner),!1===d?d=e:((d=new M.Corner(d)).precedance=e.precedance,"inherit"===d.x?d.x=e.x:"inherit"===d.y?d.y=e.y:d.x===d.y&&(d[e.precedance]=e[e.precedance])),"x"===e.precedance?(j.width=b.height,j.height=b.width):(j.width=b.width,j.height=b.height),x.tip.css({width:n=j.width,height:o=j.height}),function(e){function t(e,t,n){return t=e.css(t)||"transparent",(!n||t!==e.css(n))&&(!o.test(t)&&t)}var n=x.tip.css("cssText","");e=e||w.corner;var o=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,i="border-"+e[e.precedance]+"-color",r=x.titlebar,a=r&&("top"===e.y||"center"===e.y&&n.position().top+j.height/2+b.offset<r.outerHeight(!0))?r:x.content;h(function(){f=t(n,"background-color")||t(a,"background-color")||t(x.content,"background-color")||t(E,"background-color")||n.css("background-color"),q=t(n,i,"color")||t(a,i,"color")||t(x.content,i,"color")||t(E,i,"color")||E.css(i),L("*",n).add(n).css("cssText","background-color:transparent !important;border:0 !important;")})}(e),"transparent"!==q?(T=m(e,null),0===b.border&&0<T&&(f=q),w.border=T=!0!==b.border?b.border:T):w.border=T=0,r=d,a=n,s=o,l=Math.ceil(a/2),c=Math.ceil(s/2),(a={bottomright:[[0,0],[a,s],[a,0]],bottomleft:[[0,0],[a,0],[0,s]],topright:[[0,s],[a,0],[a,s]],topleft:[[0,0],[0,s],[a,s]],topcenter:[[0,s],[l,0],[a,s]],bottomcenter:[[0,0],[a,0],[l,s]],rightcenter:[[0,0],[a,c],[0,s]],leftcenter:[[a,0],[a,s],[0,c]]}).lefttop=a.bottomright,a.righttop=a.bottomleft,a.leftbottom=a.topright,a.rightbottom=a.topleft,i=a[r.string()],w.size=r=v(e),g.css(r),g="y"===e.precedance?[p("left"===d.x?T:"right"===d.x?r.width-n-T:(r.width-n)/2),p("top"===d.y?r.height-o:0)]:[p("left"===d.x?r.width-n:0),p("top"===d.y?T:"bottom"===d.y?r.height-o-T:(r.height-o)/2)],I?(u.attr(r),(u=u[0].getContext("2d")).restore(),u.save(),u.clearRect(0,0,3e3,3e3),u.fillStyle=f,u.strokeStyle=q,u.lineWidth=2*T,u.lineJoin="miter",u.miterLimit=100,u.translate(g[0],g[1]),u.beginPath(),u.moveTo(i[0][0],i[0][1]),u.lineTo(i[1][0],i[1][1]),u.lineTo(i[2][0],i[2][1]),u.closePath(),T&&("border-box"===E.css("background-clip")&&(u.strokeStyle=f,u.stroke()),u.strokeStyle=q,u.stroke()),u.fill()):(i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe",g[2]=T&&/^(r|b)/i.test(e.string())?8===parseFloat(L.browser.version,10)?2:1:0,u.css({coordsize:n+T+" "+(o+T),antialias:""+(-1<d.string().indexOf("center")),left:g[0],top:g[1],width:n+T,height:o+T}).each(function(e){var t=L(this);t[t.prop?"prop":"attr"]({coordsize:n+T+" "+(o+T),path:i,fillcolor:f,filled:!!e,stroked:!e}).toggle(!(!T&&!e)),e||""!==t.html()||t.html(y("stroke",'weight="'+2*T+'px" color="'+q+'" miterlimit="1000" joinstyle="miter"'))})),!1!==t&&w.position(e)},position:function(r){var a,s,e,t=x.tip,l={},c=Math.max(0,b.offset);return!(!1===b.corner||!t)&&(r=r||w.corner,a=r.precedance,s=v(r),e=[r.x,r.y],"x"===a&&e.reverse(),L.each(e,function(e,t){var n,o,i;"center"===t?(l[n="y"===a?"left":"top"]="50%",l["margin-"+n]=-Math.round(s["y"===a?"width":"height"]/2)+c):(n=m(r,t),o=m(r,t,x.content),i=g(r),l[t]=e?o:c+(n<i?i:-n))}),l[r[a]]-=s["x"===a?"width":"height"],t.css({top:"",bottom:"",left:"",right:"",margin:""}).css(l),l)},destroy:function(){x.tip&&x.tip.remove(),x.tip=!1,E.unbind(".qtip-tip")}}),w.init()}function i(t){function e(){i=L(o,u).not("[disabled]").map(function(){return"function"==typeof this.focus?this:null})}function a(e){i.length<1&&e.length?e.not("body").blur():i.first().focus()}function s(e){try{var t=L(e.target),n=t.closest(".evergage-qtip");!(n.length<1)&&parseInt(n[0].style.zIndex,10)>parseInt(u[0].style.zIndex,10)||L(e.target).closest("div.evergage-qtip.evergage-tooltip")[0]===u[0]||a(t)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageFocus")}}var l,c=this,g=t.options.show.modal,n=t.elements,u=n.tooltip,d=".qtipmodal"+t.id,p=L(S.body),o=M.modal.focusable.join(","),i={};t.checks.modal={"^show.modal.(on|blur)$":function(){c.init(),n.overlay.toggle(u.is(":visible"))},"^content.text$":function(){e()}},L.extend(c,{init:function(){return g.on&&(l=c.create(),u.attr("is-modal-qtip",!0).css("z-index",M.modal.zindex+L("div.evergage-qtip.evergage-tooltip[is-modal-qtip]").length).unbind(".qtipmodal").unbind(d).bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(e,t,n){if(t=e.originalEvent,e.target===u[0])if(t&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(t.type)&&L(t.relatedTarget).closest(l[0]).length)try{e.preventDefault()}catch(e){}else t&&t.solo||c[e.type.replace("tooltip","")](e,n)}).bind("tooltipfocus.qtipmodal",function(e){if(!e.isDefaultPrevented()&&e.target===u[0]){var t=L("div.evergage-qtip.evergage-tooltip").filter("[is-modal-qtip]"),n=M.modal.zindex+t.length,o=parseInt(u[0].style.zIndex,10);l[0].style.zIndex=n-2,t.each(function(){this.style.zIndex>o&&--this.style.zIndex}),t.end().filter(".evergage-tooltip-focus").qtip("blur",e.originalEvent),u.addClass("evergage-tooltip-focus")[0].style.zIndex=n;try{e.preventDefault()}catch(e){}}}).bind("tooltiphide.qtipmodal",function(e){e.target===u[0]&&L("[is-modal-qtip]").filter(":visible").not(u).last().qtip("focus",e)}),g.escape&&L(S).unbind(d).bind("keydown"+d,function(e){try{27===e.keyCode&&u.hasClass("evergage-tooltip-focus")&&(t.hide(e),t.destroy(e))}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageEscapeKey")}}),g.blur&&n.overlay.unbind(d).bind("click"+d,function(e){try{u.hasClass("evergage-tooltip-focus")&&(t.hide(e),t.destroy(e))}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageBlur")}}),e()),c},create:function(){function e(){try{l.css({height:L(I).height(),width:L(I).width()})}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"pageResize")}}var t=L("#evergage-qtip-overlay");return t.length?n.overlay=t.insertAfter(L("div.evergage-qtip.evergage-tooltip").last()):(l=n.overlay=L("<div />",{id:"evergage-qtip-overlay",html:"<div></div>",mousedown:function(){return!1}}).hide().insertAfter(L("div.evergage-qtip.evergage-tooltip").last()),L(I).unbind(".qtipmodal").bind("resize.qtipmodal",e),e(),l)},toggle:function(e,t,n){if(e&&e.isDefaultPrevented())return c;e=g.effect;var o=t?"show":"hide",i=l.is(":visible"),r=L("[is-modal-qtip]").filter(":visible").not(u);return(l=l||c.create()).is(":animated")&&i===t||!t&&r.length||(t?(l.css({left:0,top:0}),l.toggleClass("blurs",g.blur),!1!==g.stealfocus&&(p.bind("focusin"+d,s),a(L("body :focus")))):p.unbind("focusin"+d),l.stop(!0,!1),L.isFunction(e)?e.call(l,t):!1===e?l[o]():l.fadeTo(parseInt(n,10)||90,t?1:0,function(){t||L(this).hide()}),t||l.queue(function(e){l.css({left:"",top:""}),e()})),c},show:function(e,t){return c.toggle(e,!0,t)},hide:function(e,t){return c.toggle(e,!1,t)},destroy:function(){return l&&(L("[is-modal-qtip]").not(u).length<1?(n.overlay.remove(),L(S).unbind(".qtipmodal")):n.overlay.unbind(".qtipmodal"+t.id),p.undelegate("*","focusin"+d)),u.removeAttr("is-modal-qtip").unbind(".qtipmodal")}}),c.init()}var L,R,M,P,D,N;ajq&&!ajq.fn.qtip&&(D={},(R=(L=ajq).fn.qtip=function(e,t,n){var o=(""+e).toLowerCase(),i=null,r=L.makeArray(arguments).slice(1),a=r[r.length-1],s=this[0]?L.data(this[0],"qtip"):null;return!arguments.length&&s||"api"===o?s:"string"==typeof e?(this.each(function(){var e=L.data(this,"qtip");if(!e)return!0;if(a&&a.timeStamp&&(e.cache.event=a),"option"!==o&&"options"!==o||!t)e[o]&&e[o].apply(e[o],r);else{if(!L.isPlainObject(t)&&n===k)return i=e.get(t),!1;e.set(t,n)}}),null!==i?i:this):"object"!=typeof e&&arguments.length?void 0:(s=A(L.extend(!0,{},e)),R.bind.call(this,s,a))}).bind=function(s,l){return this.each(function(e){function t(e){try{function t(){a.render("object"==typeof e||n.show.ready),o.show.add(o.hide).unbind(r)}if(a.cache.disabled)return!1;a.cache.event=L.extend({},e),a.cache.target=e?L(e.target):[k],0<n.show.delay?(clearTimeout(a.timers.show),a.timers.show=setTimeout(t,n.show.delay),i.show!==i.hide&&o.hide.bind(i.hide,function(){try{clearTimeout(a.timers.show)}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageHideClearTimeout")}})):t()}catch(e){try{ajq.log.shouldLog("WARN")&&console.log("Evergage: ERROR: Failed to render message ["+n.bundle.id+"] from campaign ["+n.bundle.campaignName+"], experience ["+n.bundle.experienceName+"] - does message HTML content contain script tags?",e)}catch(e){}a.hide(),a.destroy(),"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageDisplay")}}var n,o,i,r,a;return e=!(e=L.isArray(s.id)?s.id[e]:s.id)||!1===e||e.length<1||D[e]?R.nextid++:e,r=".qtip-"+e+"-create",!1===(a=function(e,t){var n,o,i,r,a,s=L(this),l=L(S.body),c=this===S?l:s;o=s.metadata?s.metadata(t.metadata):null,r="html5"===t.metadata.type&&o?o[t.metadata.name]:null;var g=s.data(t.metadata.name||"qtipopts");try{g="string"==typeof g?L.parseJSON(g):g}catch(e){}if(r=L.extend(!0,{},R.defaults,t,"object"==typeof g?A(g):null,A(r||o)),o=r.position,r.id=e,"boolean"==typeof r.content.text){if(i=s.attr(r.content.attr),!1===r.content.attr||!i)return!1;r.content.text=i}if(o.container.length||(o.container=l),!1===o.target&&(o.target=c),!1===r.show.target&&(r.show.target=c),!0===r.show.solo&&(r.show.solo=o.container.closest("body")),!1===r.hide.target&&(r.hide.target=c),!0===r.position.viewport&&(r.position.viewport=o.container),o.container=o.container.eq(0),o.at=new M.Corner(o.at),o.my=new M.Corner(o.my),L.data(this,"qtip"))if(r.overwrite)s.qtip("destroy");else if(!1===r.overwrite)return!1;return r.suppress&&(a=L.attr(this,"title"))&&L(this).removeAttr("title").attr("oldtitle",a).attr("title",""),n=new u(s,r,e,!!i),L.data(this,"qtip",n),s.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){n.destroy()}),n}.call(this,e,s))||(n=a.options,L.each(M,function(){"initialize"===this.initialize&&this(a)}),o={show:n.show.target,hide:n.hide.target},i={show:L.trim(""+n.show.event).replace(/ /g,r+" ")+r,hide:L.trim(""+n.hide.event).replace(/ /g,r+" ")+r},/mouse(over|enter)/i.test(i.show)&&!/mouse(out|leave)/i.test(i.hide)&&(i.hide+=" mouseleave"+r),o.show.bind("mousemove"+r,function(e){try{P={pageX:e.pageX,pageY:e.pageY,type:"mousemove"},a.cache.onTarget=!0}catch(e){"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"targetMouseMove")}}),o.show.bind(i.show,t),void((n.show.ready||n.prerender)&&t(l)))})},M=R.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),e=e.charAt(0),this.precedance="t"===e||"b"===e?"y":"x",this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:"y"===this.precedance?t+e:e+t},this.invertx=function(e){this.x="left"===this.x?"right":"right"===this.x?"left":e||this.x},this.inverty=function(e){this.y="top"===this.y?"bottom":"bottom"===this.y?"top":e||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,t){var n,o,i,r=e.evergageOffset(),e=e.closest("body")[0],a=t;if(a){for(;"static"!==a.css("position")&&(o=a.position(),a.is("body")&&(o.top+=parseInt(a.css("top"),10)||0),r.left-=o.left+(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("marginLeft"),10)||0),r.top-=o.top+(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0),n||"hidden"===(i=a.css("overflow"))||"visible"===i||(n=a)),(a=L(a[0].offsetParent)).length;);n&&n[0]!==e&&(e=n,r.left+=+e.scrollLeft(),r.top+=+e.scrollTop())}return r},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,fn:{attr:function(e,t){if(this.length){var n=this[0],o=L.data(n,"qtip");if("title"===e&&o&&"object"==typeof o&&o.options.suppress)return arguments.length<2?L.attr(n,"oldtitle"):(o&&"title"===o.options.content.attr&&o.cache.attr&&o.set("content.text",t),this.attr("oldtitle",t))}return L.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(e){L([]);var t=L.fn.clone_replacedByqTip.apply(this,arguments);return e||t.filter("[oldtitle]").attr("title",function(){return L.attr(this,"oldtitle")}).removeAttr("oldtitle"),t}}},L.each(M.fn,function(e,t){if(!t||L.fn[e+"_replacedByqTip"])return!0;var n=L.fn[e+"_replacedByqTip"]=L.fn[e];L.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}}),L.ui||(L.cleanData_replacedByqTip=L.cleanData,L.cleanData=function(e){for(var t,n=0;(t=e[n])!==k;n++)try{L(t).triggerHandler("removeqtip")}catch(e){}L.cleanData_replacedByqTip(e)}),R.version="@VERSION",R.nextid=0,R.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),R.zindex=15e3,R.defaults={prerender:!1,id:!1,overwrite:!0,suppress:!0,content:{text:!0,attr:"title",title:{text:!1,button:!1}},position:{my:"top left",at:"bottom right",target:!1,container:!1,viewport:!1,adjust:{x:0,y:0,mouse:!0,resize:!0,method:"flip flip"},effect:function(e,t,n){L(this).css(t)}},show:{target:!1,event:"mouseenter",effect:!0,delay:90,solo:!1,ready:!1,autofocus:!1},hide:{target:!1,event:"mouseleave",effect:!0,delay:0,fixed:!1,inactive:!1,leave:"window",distance:!1},style:{classes:"",widget:!1,width:!1,height:!1,def:!0},events:{render:null,move:null,show:null,hide:null,toggle:null,visible:null,hidden:null,focus:null,blur:null,destroy:null}},M.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new n(e)},M.ajax.initialize="render",M.ajax.sanitize=function(e){var t=e.content;t&&"ajax"in t&&("boolean"!=typeof(t="object"!=typeof(t=t.ajax)?e.content.ajax={url:t}:t).once&&t.once&&(t.once=!!t.once))},L.extend(!0,R.defaults,{content:{ajax:{loading:!0,once:!0}}}),M.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new o(e)},M.tip.initialize="render",M.tip.sanitize=function(e){var t=e.style;t&&"tip"in t&&("object"!=typeof(t=e.style.tip)&&(e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=!0),"number"!=typeof t.width&&delete t.width,"number"!=typeof t.height&&delete t.height,"number"!=typeof t.border&&!0!==t.border&&delete t.border,"number"!=typeof t.offset&&delete t.offset)},L.extend(!0,R.defaults,{style:{tip:{corner:!0,mimic:!1,width:6,height:6,border:!0,offset:0}}}),M.modal=function(e){var t=e.plugins.modal;return"object"==typeof t?t:e.plugins.modal=new i(e)},M.modal.initialize="render",M.modal.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:void 0===e.show.modal.on&&(e.show.modal.on=!0))},M.modal.zindex=1000402,M.modal.focusable="a[href] area[href] input select textarea button iframe object embed [tabindex] [contenteditable]".split(" "),L.extend(!0,R.defaults,{show:{modal:{on:!1,effect:!0,blur:!0,stealfocus:!0,escape:!0}}}),M.viewport=function(e,y,t,n,o,i,r){function a(e,t,n,o,i,r,a,s,l){var c=y[i],g=b[e],u=x[e],d="shift"===n,p=-C.offset[i]+E.offset[i]+E["scroll"+i],f=g===i?l:g===r?-l:-l/2,h=j&&j.size&&j.size[a]||0,m=j&&j.corner&&j.corner.precedance===e&&!d?h:0,v=p-c+m;return l=c+l-E[a]-p+m,s=f-(b.precedance===e||g===b[t]?u===i?s:u===r?-s:-s/2:0)-("center"===u?s/2:0),d?(s=(g===i?1:-1)*f-(m=j&&j.corner&&j.corner.precedance===t?h:0),y[i]+=0<v?v:0<l?-l:0,y[i]=Math.max(-C.offset[i]+E.offset[i]+(m&&"center"===j.corner[e]?j.offset:0),c-s,Math.min(Math.max(-C.offset[i]+E.offset[i]+E[a],c+s),y[i]))):(o*="flipinvert"===n?2:0,0<v&&(g!==i||0<l)?(y[i]-=s+o,w["invert"+e](i)):0<l&&(g!==r||0<v)&&(y[i]-=("center"===g?-s:s)+o,w["invert"+e](r)),y[i]<p&&-y[i]>l&&(y[i]=c,w=b.clone())),y[i]-c}var w,s,l=t.target,c=e.elements.tooltip,b=t.my,x=t.at,g=t.adjust,u=(d=g.method.split(" "))[0],d=d[1]||d[0],E=t.viewport,C=t.container,p=e.cache,j=e.plugins.tip,f={left:0,top:0};return E.jquery&&l[0]!==I&&l[0]!==S.body&&"none"!==g.method&&(l="fixed"===c.css("position"),E={elem:E,height:E[(E[0]===I?"h":"outerH")+"eight"](),width:E[(E[0]===I?"w":"outerW")+"idth"](),scrollleft:l?0:E.scrollLeft(),scrolltop:l?0:E.scrollTop(),offset:E.evergageOffset()||{left:0,top:0}},t.viewport[0]!==I&&(E.height+=t.viewport.evergageOffset().top,E.width+=t.viewport.evergageOffset().left),C={elem:C,scrollLeft:C.scrollLeft(),scrollTop:C.scrollTop(),offset:C.evergageOffset()||{left:0,top:0}},"shift"===u&&"shift"===d||(w=b.clone()),f={left:"none"!==u?a("x","y",u,g.x,"left","right","width",n,i):0,top:"none"!==d?a("y","x",d,g.y,"top","bottom","height",o,r):0},w&&p.lastClass!==(s="evergage-tooltip-pos-"+w.abbrev())&&c.removeClass(e.cache.lastClass).addClass(e.cache.lastClass=s)),f})}(window,document),function(g){function a(e,t,n){n=n||0;for(var o=e.length;n<o;n++)if(e[n]===t)return n;return-1}function s(e,t,n){var o;"string"==typeof e&&(e=ajq(e)),!(t.position.target instanceof g)||t.position.target.length&&t.position.target.is(":visible")?(o={"content.text":t.content.text},n&&n.bundle&&!n.bundle.legacy&&(o={"content.fullContents":t.content.fullContents}),t.content.title&&(o["content.title.text"]=t.content.title.text),t.style&&(o["style.classes"]=t.style.classes+" "+n.style.extraClasses),e.qtip("options",o)):e.qtip("destroy")}function l(e,t){var n,o,i,r,a,s,l,c;1!=t.options.marginForElementRegistered&&(n=t.options.position.container.is(g("#apptegicMessageContainerForToolbarEnabledPages")),o=n?t.options.position.container:g("body"),t.options.marginForElementRegistered=!0,o.stop(!1,!0),i={},r="top"==t.options.position.stack?"margin-top":"margin-bottom",n?u("setBodyMarginAndSaveOriginal",r,g(this).outerHeight()):(a=parseInt(o.css(r)),s=o.get(0),"margin-top"==r&&null==s.originalMarginTop&&(s.originalMarginTop=a),"margin-bottom"==r&&null==s.originalMarginBottom&&(s.originalMarginBottom=a),i[r]=a+g(this).outerHeight()+"px"),c=g(l=this).outerHeight(),o.animate(i,function(){var e;g(".evergage-qtip").qtip("reposition"),c!=g(l).outerHeight()&&(n?u("setBodyMargin",r,g(l).outerHeight()):(e=parseInt(o.css(r)),evergageLog.shouldLog("TRACE")&&console.log("After animation, the message height is different than the originally calculated height.  Adjusting by: "+(g(l).outerHeight()-c)+"px."),o.css(r,e+(g(l).outerHeight()-c)))),n||Evergage.findAndMovePageTopOrBottomElements(t.options.position.stack,g(l).outerHeight())}))}function u(e,t,n){var o=g("#sendDataToEvergageVisualEditorDiv");0<o.length&&(e={actionType:"infobarMarginRequest",eventDetails:{requestType:e,cssAttr:t,marginToSet:n}},(t=document.createEvent("CustomEvent")).initCustomEvent("dataToEvergageVisualEditor",!0,!0,e),o.get(0).dispatchEvent(t))}function c(e,t){var n,o,i,r,a,s,l,c;0!=t.options.marginForElementRegistered&&(o=(n=t.options.position.container.is(g("#apptegicMessageContainerForToolbarEnabledPages")))?t.options.position.container:g("body"),t.options.marginForElementRegistered=!1,evergageLog.shouldLog("TRACE")&&console.log("Removing infobar "+t.options.position.stack+"."),t.options.position.container.stop(!1,!0),i={},r="top"==t.options.position.stack?"margin-top":"margin-bottom",n?u("unsetBodyMarginAndRestoreOriginal",r,g(this).outerHeight()):(a=parseInt(o.css(r)),s=o.get(0),l=0,"margin-top"==r&&null!=s.originalMarginTop&&(l=s.originalMarginTop),"margin-bottom"==r&&null!=s.originalMarginBottom&&(l=s.originalMarginBottom),"margin-top"==r&&a-g(this).outerHeight()<l?i[r]=l+"px":i[r]=a-g(this).outerHeight()+"px"),c=-g(this).outerHeight(),o.animate(i,function(){g(".evergage-qtip").qtip("reposition"),n||Evergage.findAndMovePageTopOrBottomElements(t.options.position.stack,c)}))}function t(o){var e=g(".evergage-qtip.evergage-jgrowl.evergage-"+o+":visible");e.outerWidth(),e.outerHeight();var i=e.eq(0).qtip("option","position.adjust.y"),r=0;e.each(function(e){var t=g(this).data("qtip"),n="down"==t.options.position.next;e?(n?t.set("position.my","top left"):t.set("position.my","bottom left"),t.set("position.target",[g(this).evergageOffset().left,r])):(t.set("position.target",g(window)),t.set("position.my",t.options.originalPosition.my),t.set("position.at",t.options.originalPosition.at),t.set("position.adjust.x",t.options.originalPosition.adjust.x)),evergageLog.shouldLog("TRACE")&&console.log("Evergage: Repositioned message "+t.id+" in stack '"+o+"' to x="+g(this).css("left")+",y="+g(this).css("top")),e?r=n?r+(g(this).outerHeight()+Math.abs(i)):r-(g(this).outerHeight()+Math.abs(i)):(r=t.cache.finalPos.top,n&&(r+=g(this).outerHeight())),g(this)})}var d,p,o,i,r,f,h;void 0!==g&&(d=0,g.updateMessage=s,g.qtipGrowl=function(e){if(e.id)if(e.position.stack||e.position.container||e.position.target){e.style.extraClasses="",e.content.title&&e.content.title.button&&!e.content.title.text&&(e.style.extraClasses=" emptyTitle",e.content.title.text=" "),e.style.nonblocking&&(e.style.extraClasses+=" evergage-nonBlocking");var t="#evergage-tooltip-"+e.id;if(g(t).length){var n=g(t).qtip("api").options,o=e.position.stack!=n.position.stack||e.position.target&&e.position.target!=n.position.target;if(evergageLog.shouldLog("TRACE")&&console.log("Evergage: updating message ["+e.id+"], rerender ["+o+"]"),!o)return void s(g(t),e,n);g(t).qtip("hide"),g(t).qtip("destroy"),g(t).attr("id","old"+d++)}if(e.position.target||e.position.container){try{r=e.position.target?g(e.position.target):g(e.position.container),e.position&&!0===e.position.replaceContainer&&(r=g(e.bundle.target.target))}catch(e){r=null,"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"determineMessageTarget")}if(n=e.bundle&&e.bundle.target&&!0===e.bundle.target.replaceExistingContent&&"page"===e.bundle.target.renderType,!0!==e.position.ignoreTargetVisibilityCheck&&(!r||0===r.length||r.is(":hidden")&&!n))return r&&r.length&&r.is(":hidden")&&evergageLog.shouldLog("INFO")&&console.log("Message target ["+r.selector+"] exists on page but is not visible - not showing message ["+e.id+"]..."),void(g(t).length&&g(t).qtip("destroy"))}if(e.position.stack){var i,r=".evergage-qtip.evergage-jgrowl.evergage-"+(e=g.extend(!0,{},g.qtipGrowl.baseDefaults,g.qtipGrowl.growlDefaults,g.qtipGrowl.stacks[e.position.stack],e)).position.stack;e&&e.bundle&&!0===e.bundle.previewMode&&(r=".evergage-preview-message"+r),g(r).length&&g(r+":visible").length&&(i=g(r+":visible:last")),e.style.extraClasses+=" evergage-jgrowl evergage-"+e.position.stack,e.position.my||(e.position.my="top right"),e.position.at||(e.position.at=e.position.my),-1!=a(e.position.at.split(" "),"left")&&(e.position.adjust.x=g.qtipGrowl.windowSpace),-1!=a(e.position.at.split(" "),"right")&&(e.position.adjust.x=-g.qtipGrowl.windowSpace),-1!=a(e.position.at.split(" "),"top")&&(e.position.adjust.y=g.qtipGrowl.windowSpace),-1!=a(e.position.at.split(" "),"bottom")&&(e.position.adjust.y=-g.qtipGrowl.windowSpace),e.originalPosition=e.position,i&&0<i.length&&(r="center","left"==e.position.at.split(" ")[0]?r="left":"right"==e.position.at.split(" ")[0]&&(r="right"),e.position="down"==e.position.next?g.extend({},e.position,{at:"bottom "+r,my:"top "+r,adjust:{y:10,x:0},target:i}):g.extend({},e.position,{at:"top "+r,my:"bottom "+r,adjust:{y:-10,x:0},target:i})),"top"!=e.position.stack&&"bottom"!=e.position.stack||(e.position.adjust.x=0,e.position.adjust.y=0,e.style.extraClasses+=" evergage-tooltip-bar",e.style.pushBar=!0,e.barVisible=l,e.barHidden=c)}else if(e.position.target)(i=e).style.extraClasses="evergage-tooltip-callout",e=g.extend(!0,{},g.qtipGrowl.baseDefaults,i);else{if(!e.position.container)return;(i=g.extend(!0,{},g.qtipGrowl.baseDefaults,g.qtipGrowl.inPageDefaults,e)).style.extraClasses+=" evergage-tooltip-page",e=i.position&&!0===i.position.replaceContainer,(r=i.bundle)&&!0===r.target.replaceExistingContent&&!0!==r.isPreviewModeContainerReplacement&&!0!==r.isPreviewModeInlineRespectMessageSize&&!0!==r.target.inlineRespectMessageSize&&!e&&(i.style.extraClasses+=" evergage-tooltip-page-replace"),e=i}e.style.classes+=" "+e.style.extraClasses,(i=e.target&&e.target.jquery?e.position.target:g(document.body)).qtip(e),0===g(t).length&&e.prerender&&evergageLog.shouldLog("INFO")&&console.log("Evergage: Message ["+e.id+"] was not rendered."),i.removeData("qtip")}else evergageLog.shouldLog("WARN")&&console.log("Evergage: Error: Messages must have a stack, container or target.");else evergageLog.shouldLog("WARN")&&console.log("Evergage: Error: Messages must have an id.")},g.qtipUpdateGrowls=function(e){t(e)},o=/^on/,i=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,r=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,f=/^(scroll|resize|(un)?load|abort|error)$/,h=function(e,t){var n;e=e.toLowerCase(),document.createEvent&&this.dispatchEvent?((e=e.replace(o,"")).match(i)?(g(this).evergageOffset(),(n=document.createEvent("MouseEvents")).initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)):e.match(r)?(n=document.createEvent("UIEvents")).initUIEvent(e,t.bubbles,t.cancelable,t.view,t.detail):e.match(f)&&(n=document.createEvent("HTMLEvents")).initEvent(e,t.bubbles,t.cancelable),n&&this.dispatchEvent(n)):(e.match(o)||(e="on"+e),n=document.createEventObject(t),this.fireEvent(e,n))},g(document).delegate(".evergage-qtip.evergage-jgrowl.evergage-nonBlocking","mouseover mousemove mousedown mouseup click dblclick",function(e,t){try{e.stopPropagation(),e.preventDefault(),t=t||e.type;var n=g(this);n.css("display","none");var o=document.elementFromPoint(e.clientX,e.clientY);n.css("display","block");var i=g(o),r=i.css("cursor");n.css("cursor","auto"!=r?r:"default"),p&&p.get(0)==o||(p&&(h.call(p.get(0),"mouseleave",e.originalEvent),h.call(p.get(0),"mouseout",e.originalEvent)),h.call(o,"mouseenter",e.originalEvent),h.call(o,"mouseover",e.originalEvent)),h.call(o,t,e.originalEvent),p=i}catch(e){ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception setting up non-blocking listener for the message.",e),"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageNonBlockingSetup")}}),g(document).delegate(".evergage-qtip.evergage-jgrowl","mouseover mouseout",function(e){try{var t=g(this).data("qtip");if(null==t)return!1;var n,o=t.options;return o.show&&!0===o.show.persistent?!0:(o.show&&o.show.lifespan&&(n=parseInt(o.show.lifespan),clearTimeout(t.timer),e&&"mouseover"===e.type||(t.timer=setTimeout(t.hide,n))),!0)}catch(e){ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception setting up our timer for the message.",e),"object"==typeof Evergage&&"function"==typeof Evergage.sendException&&Evergage.sendException(e,"messageTimerSetup")}}),g.qtipGrowl.windowSpace=15,g.qtipGrowl.stacks={topleft:{position:{my:"left top",next:"down"}},middleleft:{position:{my:"left center",next:"down"}},bottomleft:{position:{my:"left bottom",next:"up"}},topright:{position:{my:"right top",next:"down"}},middleright:{position:{my:"right center",next:"down"}},bottomright:{position:{my:"right bottom",next:"up"}},topcenter:{position:{my:"top center",next:"down"}},middlecenter:{position:{my:"center",next:"down"}},bottomcenter:{position:{my:"bottom center",next:"up"}},top:{position:{my:"top center",next:"down"},style:{width:"100%"}},bottom:{position:{my:"bottom center",next:"up"},style:{width:"100%"}}},g.qtipGrowl.growlDefaults={content:{title:{text:"hi",button:!0}},position:{target:g(window),adjust:{method:"shift"},effect:function(e,t){g(this).css(t),e.cache.finalPos=t}},show:{event:!1,ready:!0,delay:0,persistent:!1},hide:{event:!1,effect:function(e){g(this).stop(0,1).fadeOut(400).queue(function(){e.hide(),t(e.options.position.stack)})}},style:{tip:!1}},g.qtipGrowl.inPageDefaults={position:{target:["auto","auto"]},style:{tip:!1,width:"auto"}},g.qtipGrowl.baseDefaults={prerender:!0,show:{delay:0,event:!1,ready:!0},events:{},position:{viewport:g(window)},hide:{event:!1}})}(ajq),function(l){function c(e){return e}function g(t){try{return decodeURIComponent(t.replace(e," "))}catch(e){evergageLog.shouldLog("DEBUG")&&console.log("Evergage: Error decoding cookie segment: "+t)}}function u(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return d.json?window.JSON.parse(e):e}catch(e){}}if("undefined"!==typeof l){var e=/\+/g,d=function(e,t,n){if(void 0!==t){n=l.extend({},d.defaults,n);if("number"===typeof n.expires){var o=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+o)}t=d.json?window.JSON.stringify(t):String(t);return document.cookie=[d.raw?e:encodeURIComponent(e),"=",d.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}t=d.raw?c:g;n=document.cookie.split("; ");for(var o=e?void 0:{},i=0,r=n.length;i<r;i++){var a=n[i].split("="),s=t(a.shift()),a=t(a.join("="));if(e&&e===s){o=u(a);break}e||(o[s]=u(a))}return o};d.defaults={};l.cookie=d;l.removeCookie=function(e,t){return void 0!==l.cookie(e)?(l.cookie(e,"",l.extend({},t,{expires:-1})),!0):!1}}}(ajq),function(e){function a(){var e="{}";if("userDataBehavior"==m){null.load("evergage");try{e=null.getAttribute("evergage")}catch(e){}try{w=null.getAttribute("evergage_update")}catch(e){}"{}"!==e&&(h.evergage=e)}n(),u(),i()}function t(){var r;clearTimeout(y),y=setTimeout(function(){if("localStorage"==m||"globalStorage"==m)r=h.evergage_update;else if("userDataBehavior"==m){null.load("evergage");try{r=null.getAttribute("evergage_update")}catch(e){}}if(r&&r!=w){w=r;var e=d.parse(d.stringify(f.__jstorage_meta.CRC32));a();var t,n=d.parse(d.stringify(f.__jstorage_meta.CRC32)),o=[],i=[];for(t in e)e.hasOwnProperty(t)&&(n[t]?e[t]!=n[t]&&"2."==String(e[t]).substr(0,2)&&o.push(t):i.push(t));for(t in n)n.hasOwnProperty(t)&&(e[t]||o.push(t));c(o,"updated"),c(i,"deleted")}},25)}function c(e,t){if(e=[].concat(e||[]),"flushed"==t){for(var n in e=[],v)v.hasOwnProperty(n)&&e.push(n);t="deleted"}for(var n=0,o=e.length;n<o;n++)if(v[e[n]])for(var i=0,r=v[e[n]].length;i<r;i++)v[e[n]][i](e[n],t)}function s(){var e=(+new Date).toString();"localStorage"==m||"globalStorage"==m?o()||(h.evergage_update=e):"userDataBehavior"==m&&(null.setAttribute("evergage_update",e),null.save("evergage")),t()}function n(){if(h.evergage)try{f=d.parse(String(h.evergage))}catch(e){}r=h.evergage?String(h.evergage).length:0,f.__jstorage_meta||(f.__jstorage_meta={}),f.__jstorage_meta.CRC32||(f.__jstorage_meta.CRC32={}),"{}"===h.evergage&&(f={__jstorage_meta:{}},l())}function l(){if(f.__jstorage_meta.PubSub){for(var e=+new Date-2e3,t=0,n=f.__jstorage_meta.PubSub.length;t<n;t++)if(f.__jstorage_meta.PubSub[t][0]<=e){f.__jstorage_meta.PubSub.splice(t,f.__jstorage_meta.PubSub.length-t);break}f.__jstorage_meta.PubSub.length||delete f.__jstorage_meta.PubSub}try{o()?(delete h.evergage,delete h.evergage_update):(h.evergage=d.stringify(f),r=h.evergage?String(h.evergage).length:0)}catch(e){}}function o(){if(null==f)return 1;for(var e in f)if(f.hasOwnProperty(e)&&"__jstorage_meta"!=e)return;return 1}function g(e){if(!e||"string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==e)throw new TypeError("Reserved key name");return 1}function u(){var e,t,n,o,i=1/0,r=!1,a=[];if(clearTimeout(p),f.__jstorage_meta&&"object"==typeof f.__jstorage_meta.TTL){for(t in e=+new Date,n=f.__jstorage_meta.TTL,o=f.__jstorage_meta.CRC32,n)n.hasOwnProperty(t)&&(n[t]<=e?(delete n[t],delete o[t],delete f[t],r=!0,a.push(t)):n[t]<i&&(i=n[t]));1/0!=i&&(p=setTimeout(u,i-e)),r&&(l(),s(),c(a,"deleted"))}}function i(){if(f.__jstorage_meta.PubSub){for(var e=x,t=f.__jstorage_meta.PubSub.length-1;0<=t;t--)if((o=f.__jstorage_meta.PubSub[t])[0]>x){var e=o[0],n=o[1],o=o[2];if(b[n])for(var i=0,r=b[n].length;i<r;i++)b[n][i](n,d.parse(d.stringify(o)))}x=e}}if(void 0!==e){var d={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||e.parseJSON||e.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||e.toJSON};if(!d.parse||!d.stringify)throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var p,f={__jstorage_meta:{CRC32:{}}},h={evergage:"{}"},r=0,m=!1,v={},y=!1,w=0,b={},x=+new Date,E={isXML:function(e){return!!(e=(e?e.ownerDocument||e:0).documentElement)&&"HTML"!==e.nodeName},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(e){}}return!1},decode:function(e){var t="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return!!t&&(e=t.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),!!this.isXML(e)&&e)}};e.evgjStorage=e.jStorage={version:"0.4.1",set:function(e,t,n){if(g(e),n=n||{},void 0===t)return this.deleteKey(e),t;if(E.isXML(t))t={_is_xml:!0,xml:E.encode(t)};else{if("function"==typeof t)return;t&&"object"==typeof t&&(t=d.parse(d.stringify(t)))}f[e]=t;for(var o,i=f.__jstorage_meta.CRC32,r=d.stringify(t),a=r.length,s=2538058380^a,l=0;4<=a;)o=1540483477*(65535&(o=255&r.charCodeAt(l)|(255&r.charCodeAt(++l))<<8|(255&r.charCodeAt(++l))<<16|(255&r.charCodeAt(++l))<<24))+((1540483477*(o>>>16)&65535)<<16),s=1540483477*(65535&s)+((1540483477*(s>>>16)&65535)<<16)^1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16),a-=4,++l;switch(a){case 3:s^=(255&r.charCodeAt(l+2))<<16;case 2:s^=(255&r.charCodeAt(l+1))<<8;case 1:s=1540483477*(65535&(s^=255&r.charCodeAt(l)))+((1540483477*(s>>>16)&65535)<<16)}return i[e]="2."+(((s=1540483477*(65535&(s^=s>>>13))+((1540483477*(s>>>16)&65535)<<16))^s>>>15)>>>0),this.setTTL(e,n.TTL||0),c(e,"updated"),t},get:function(e,t){return g(e),e in f?f[e]&&"object"==typeof f[e]&&f[e]._is_xml?E.decode(f[e].xml):f[e]:void 0===t?null:t},deleteKey:function(e){return g(e),e in f&&(delete f[e],"object"==typeof f.__jstorage_meta.TTL&&e in f.__jstorage_meta.TTL&&delete f.__jstorage_meta.TTL[e],delete f.__jstorage_meta.CRC32[e],l(),s(),c(e,"deleted"),!0)},setTTL:function(e,t){var n=+new Date;return g(e),t=Number(t)||0,e in f&&(f.__jstorage_meta.TTL||(f.__jstorage_meta.TTL={}),0<t?f.__jstorage_meta.TTL[e]=n+t:delete f.__jstorage_meta.TTL[e],l(),u(),s(),!0)},getTTL:function(e){var t=+new Date;return g(e),e in f&&f.__jstorage_meta.TTL&&f.__jstorage_meta.TTL[e]&&f.__jstorage_meta.TTL[e]-t||0},flush:function(){return f={__jstorage_meta:{CRC32:{}}},l(),s(),c(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=f,new e},index:function(){var e,t=[];for(e in f)f.hasOwnProperty(e)&&"__jstorage_meta"!=e&&t.push(e);return t},storageSize:function(){return r},currentBackend:function(){return m},storageAvailable:function(){return!!m},listenKeyChange:function(e,t){g(e),v[e]||(v[e]=[]),v[e].push(t)},stopListening:function(e,t){if(g(e),v[e])if(t)for(var n=v[e].length-1;0<=n;n--)v[e][n]==t&&v[e].splice(n,1);else delete v[e]},subscribe:function(e,t){if(!(e=(e||"").toString()))throw new TypeError("Channel not defined");b[e]||(b[e]=[]),b[e].push(t)},publish:function(e,t){if(!(e=(e||"").toString()))throw new TypeError("Channel not defined");f.__jstorage_meta||(f.__jstorage_meta={}),f.__jstorage_meta.PubSub||(f.__jstorage_meta.PubSub=[]),f.__jstorage_meta.PubSub.unshift([+new Date,e,t]),l(),s()},reInit:function(){a()}},function(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(e)try{window.localStorage&&(h=window.localStorage,m="localStorage",w=h.evergage_update)}catch(e){}else if("globalStorage"in window)try{window.globalStorage&&(h=window.globalStorage[window.location.hostname],m="globalStorage",w=h.evergage_update)}catch(e){}n(),u(),"localStorage"==m||"globalStorage"==m?"addEventListener"in window?window.addEventListener("storage",t,!1):document.attachEvent("onstorage",t):"userDataBehavior"==m&&setInterval(t,1e3),i(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&t()},!1)}()}}(ajq),void 0!==ajq&&(window.evergageDisableAjqPsuedoDefinitions||(ajq.expr[":"].containsExact=ajq.expr.createPseudo(function(t){return function(e){return ajq.trim(ajq(e).text())===t}}),ajq.expr[":"].textMatch=ajq.expr.createPseudo(function(t){return function(e){return ajq.trim(e.textContent)===t}}),ajq.expr[":"].hasOnlyTextChild=ajq.expr.createPseudo(function(e){return function(e){return 1===e.childNodes.length&&3===e.childNodes[0].nodeType}})),ajq.isTrimNative=!1,ajq.checkTrimNative=function(){ajq.isTrimNative=/^\s*function[^{]+\{\s*\[native code\]\s*\}\s*$/.test(String.prototype.trim)},ajq.trim=function(e){return null==e?"":void 0!==ajq&&!0===ajq.isTrimNative?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},ajq.log=evergageLog,_aaq=window._aaq||[],window._aaq=_aaq),Evergage=function(){function a(){var e;!ti.useSiteConfig||T(gr)||ii||(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Site config already available."),yn(),ti.hideContentSections&&ajq.isArray(ti.hideContentSectionsList)&&q(ti.hideContentSectionsMillis)&&0<ti.hideContentSectionsMillis&&((e=ti.hideContentSectionsList).push(ti.hideContentSectionsMillis),Evergage.hideSections.apply(null,e)),ti.hidePagesForRedirect&&ajq.isArray(ti.hidePageBeforeRedirectList)&&q(ti.hidePagesForRedirectMillis)&&0<ti.hidePagesForRedirectMillis&&((e=ti.hidePageBeforeRedirectList).push(ti.hidePagesForRedirectMillis),Evergage.hidePages.apply(null,e)),ii=!0)}function g(t,e){try{var n;!0===jr&&(n=new CustomEvent("sendToEvergageSideBarTools",{detail:{eventType:t,eventData:JSON.parse(JSON.stringify(e))}}),document.dispatchEvent(n))}catch(e){he(e,t+"_ForDevTools"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Error sending ["+t+"] to sidebar tools.")}}function e(t){try{if(X())p("Evergage: Beacon detected page is prerendered - initialization aborted.");else if("object"!=typeof window.JSON||"function"!=typeof window.JSON.stringify||"function"!=typeof window.JSON.parse)p("Evergage: Beacon cannot run within browsers lacking native JSON support. Initialization aborted.");else if(0<ajq("html[evergageVisualEditorLoading]").length)p("Evergage: The Visual Editor will be loaded for this page, so not running the existing Evergage beacon.");else{if(ti.runningInMobileApp&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: phonegap integration detected. Flicker defense, URL action mapping, field capturing and click tracking will be disabled."),!0===t&&(ur=!0,ha.hasBeenFired=!1,oi=$r=Yr=ha.canBeFiredYet=!1,Or=Dr=Br=null,_r=0,Mr=kr=Ar=-1,ii=!1),Tr=[],Ir=[],_n(),Fn(),a(),ajq.log.shouldLog("DEBUG")&&console.log('Evergage: userAgent="'+(window.evergageTestUserAgent||window.navigator.userAgent)+'"'),Jo.test(window.evergageTestUserAgent||window.navigator.userAgent)){if(!0!==ti.allowBotTraffic)return void p("Evergage: Beacon detected robot user agent - initialization aborted.");fa=ti.disableCampaignStatTracking=!0}if(m()){try{-1!==ca&&clearInterval(ca),ajq(window).unbind("hashchange",rt),ti.treatHashChangeAsPageLoad&&(ajq(window).bind("hashchange",rt),ca=setInterval(rt,ti.spaRouteChangeTimeout))}catch(e){he(e,"setupSPARouteChangeDetection")}for(var e in ajq.evgjStorage.storageAvailable()&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(jr=!0,g("beaconInitialization",{account:ri,dataset:ai,beaconVersion:15,trackerUrl:si,cdnHost:li})),ajq.log.shouldLog("INFO")&&console.log("Evergage: Initializing Beacon v15 (accountKey="+ri+", datasetId="+ai+", url="+si+")..."),Ee(),d(),Aa.isInitialized()||null===ti.googleAnalyticsIntegrationConfig||Aa.init(ti.googleAnalyticsIntegrationConfig),z(),ha.waitingOn)ha.waitingOn.hasOwnProperty(e)&&(ha.waitingOn[e]=!1);!(ha.actionName=null)===ti.siteConfigExecBeforePageReady&&fn(),ajq(document).ready(n)}ni=!0}}catch(e){he(e,"init("+t+")")}}function n(){try{(ci=!0)!==ti.siteConfigExecBeforePageReady&&fn(),function(){try{qr||null===window.ajq||(ajq.each(Si,function(e,t){(Ut(t,t.rulesByType.MinimumPageScroll)?ut:Zt)(t)}),Si={})}catch(e){he(e,"loadPageScrollPercentBasedMessages")}}(),function(){try{!0!==qr&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Ensuring that we reshow the personalized sections at page ready."),!0===$r&&0<Ki.length&&(M(Jr,function(e,t){var n=t.bundle;clearTimeout(t.timeout),delete Jr[e],ut(n)}),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Reshowing personalized sections due to page ready timer."),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no()),tr=!0)}catch(e){he(e,"reshowPersonalizedSectionsAfterReady")}}()}catch(e){he(e,"evergagePageReadyWrapper")}}function i(){kr=0;var e=(new Date).getTime();(-1===Ar||e-Ar>=ti.minimumActivityTimeToRegister)&&(Ar=e),Lr=setTimeout(function(){o(!0)},ti.timeOnPageTimer),ajq(window).unbind("blur.evergage",c),ajq(window).bind("blur.evergage",c),ajq(window).unbind("focus.evergage",u),ajq(window).bind("focus.evergage",u),ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",l),ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",l)}function o(e,t){var n=(new Date).getTime();-1!==Ar&&(n-=Ar,ti.timeOnPageTimer<n?r():(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage before: sendActivityPingRequest",kr),kr+=n,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage after: sendActivityPingRequest",kr),-1!==Rr&&clearTimeout(Rr),Rr=setTimeout(r,ti.timeOnPageTimer-n))),0<kr&&(kr=Math.min(kr,ti.timeOnPageTimer),!(!0!==t||2e3<=kr)||null!=(t=ee(t=kr))&&Z(t,"/pr"),kr=0),kr<0&&(kr=0),e&&(-1!==Lr&&clearTimeout(Lr),Lr=setTimeout(function(){o(!0)},ti.timeOnPageTimer))}function r(){try{-1!==Rr&&(clearTimeout(Rr),Rr=-1);var e=(new Date).getTime(),t=-1!==Ar?e-Ar:0;-1!==Mr&&((e-=Mr)<t||0===t)&&(t=e),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage before: setUserInactive",kr),kr+=t,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: timeOnPage after: setUserInactive",kr),Ar=-1}catch(e){he(e,"setUserInactive")}}function t(){try{ajq(document).unbind("scroll.evergage",s),ajq(window).unbind("resize.evergage",s),Xr=-1,er=(new Date).getTime(),M(Qi,function(e,t){var n=!1;if(C(t)){for(var o=0;o<t.length;o++){var i=t[o],r=i.bundle;(Rt(i.selector)||r.userGroup===Qo.Default&&Rt(Nt(r.id)))&&(or=!0,Ue(r),ajq.log.shouldLog("INFO")&&console.log("Evergage: sending impression for message "+Zn(r)+" because it is now in the viewport."),n=!0)}n&&(nt(),delete Qi[e])}}),T(Qi)?er=0:(ajq(document).bind("scroll.evergage",s),ajq(window).bind("resize.evergage",s))}catch(e){he(e,"maybeTrackImpressionsForOutOfViewCampaigns")}}function s(){try{var e=(new Date).getTime();e-er<50?(ajq(document).unbind("scroll.evergage",s),ajq(window).unbind("resize.evergage",s),er=e,Xr=setTimeout(t,50)):t()}catch(e){he(e,"listenForImpressionsForOutOfViewCampaigns")}}function l(e){try{-1!==Rr&&(clearTimeout(Rr),Rr=-1);var t=(new Date).getTime();(-1===Ar||t-Ar>=ti.minimumActivityTimeToRegister)&&(-1!==Ar&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: timeOnPage before: activityRegistered",kr),kr+=t-Math.max(Ar,Mr),ajq.log.shouldLog("TRACE")&&console.log("Evergage: timeOnPage after: activityRegistered",kr)),Ar=t)}catch(e){he(e,"activityRegistered")}}function c(e){try{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: window blurred"),r()}catch(e){he(e,"windowBlurFunction")}}function u(e){try{ajq.log.shouldLog("DEBUG")&&console.log("Evergage: window focused"),l()}catch(e){he(e,"windowFocusFunction")}}function d(){var e,t,n,o;ti.testModeEnabledForPageLoad?ji=ti.testModeEnabledForPageLoad:0<ajq("body.evergageVisualEditorTestMode").length?ji=!0:(e=pe(Uo.sessionSettings.ids.TestMessages),t=window.decodeURIComponent(window.location.search.substring(1)),n=window.location.hash.substring(1),o=/^.*evergageTestMessages=([\w,]*).*$/,(ji=0<=t.indexOf("evergageTestMessages=false")||0<=n.indexOf("evergageTestMessages=false")?null:t.match(o)?t.replace(o,"$1"):n.match(o)?n.replace(o,"$1"):null!=e&&e)?fe(Uo.sessionSettings.ids.TestMessages,ji):ajq.evgjStorage.deleteKey(de(Uo.sessionSettings.ids.TestMessages)),ji&&ajq.log.shouldLog("INFO")&&console.log("Evergage: Test messages are enabled: "+ji))}function p(e){window.Evergage&&window.Evergage.util&&window.Evergage.util.reshowPersonalizedSectionsNow?window.Evergage.util.reshowPersonalizedSectionsNow():oo(),ajq.log.shouldLog("WARN")&&console.log(e),_aaq=[]}function f(){void 0!==window.Evergage&&(window.Evergage&&window.Evergage.util&&window.Evergage.util.reshowPersonalizedSectionsNow?window.Evergage.util.reshowPersonalizedSectionsNow():oo(),eo(),st(),Nn(),window.Evergage=window.ajq=window._aaq=window.evergageLog=window.evergageBeforeSiteConfigExecution=window.evergageSiteConfig=window.evergageSiteWideStyles=window.evergageBeforeInit=void 0,qr=!0)}function h(){var e=!1;return ajq.evgjStorage.storageAvailable()&&"true"===window.localStorage.isEvergageToolsSideBarEnabled&&(qe(),e="true"===Evergage.getCustomField("_debug")),e}function m(){if(!ri)return ajq.log.shouldLog("WARN")&&console.log("Evergage account key has not been set - initialization delayed."),!1;if(!ai)return ajq.log.shouldLog("WARN")&&console.log("Evergage dataset ID has not been set - initialization delayed."),!1;var e="https:"==window.location.protocol||h()?"https":"http";return si=si||("localtest"===ri?"https://localtest.evergage.com:8443":e+"://"+ri+".evergage.com"),li=li||(-1!==si.indexOf("eng1")||-1!==si.indexOf("eng2")||-1!==si.indexOf("eng3")||-1!==si.indexOf("preview1")||-1!==si.indexOf("preview2")||-1!==si.indexOf("preview3")||-1!==si.indexOf("localtest")?si:e+"://cdn.evergage.com"),!0}function v(){ni&&e()}function y(e){return b(e)&&null!==e}function w(e){return!y(e)||""===e}function b(e){return void 0!==e}function x(e){return"function"==typeof e}function E(e){return"object"==typeof e}function C(e){return E(e)&&"number"==typeof e.length&&0<=e.length}function j(e){return"string"==typeof e||e instanceof String}function q(e){return!isNaN(+e)&&null!==e}function T(e){return E(e)&&ajq.isEmptyObject(e)}function I(e){return(ajq(e).prop("nodeName")||ajq(e).prop("tagName")).toLowerCase()}function S(e){e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);for(var o={},t="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n=0;n<t.length;n++)o[t[n]]=e[n]||"";return o.queryKey={},o.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(o.queryKey[t]=n)}),o}function k(e){function t(e,t){return e<<t|e>>>32-t}function n(e){for(var t="",n=7;0<=n;n--)t+=(e>>>4*n&15).toString(16);return t}for(var o,i,r,a,s,l=Array(80),c=1732584193,g=4023233417,u=2562383102,d=271733878,p=3285377520,f=(e=unescape(window.encodeURIComponent(e))).length,h=[],m=0;m<f-3;m+=4)o=e.charCodeAt(m)<<24|e.charCodeAt(m+1)<<16|e.charCodeAt(m+2)<<8|e.charCodeAt(m+3),h.push(o);switch(f%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(f-1)<<24|8388608;break;case 2:i=e.charCodeAt(f-2)<<24|e.charCodeAt(f-1)<<16|32768;break;case 3:i=e.charCodeAt(f-3)<<24|e.charCodeAt(f-2)<<16|e.charCodeAt(f-1)<<8|128}for(h.push(i);14!=h.length%16;)h.push(0);for(h.push(f>>>29),h.push(f<<3&4294967295),e=0;e<h.length;e+=16){for(m=0;m<16;m++)l[m]=h[e+m];for(m=16;m<=79;m++)l[m]=t(l[m-3]^l[m-8]^l[m-14]^l[m-16],1);for(f=c,o=g,i=u,r=d,a=p,m=0;m<=19;m++)s=t(f,5)+(o&i|~o&r)+a+l[m]+1518500249&4294967295,a=r,r=i,i=t(o,30),o=f,f=s;for(m=20;m<=39;m++)s=t(f,5)+(o^i^r)+a+l[m]+1859775393&4294967295,a=r,r=i,i=t(o,30),o=f,f=s;for(m=40;m<=59;m++)s=t(f,5)+(o&i|o&r|i&r)+a+l[m]+2400959708&4294967295,a=r,r=i,i=t(o,30),o=f,f=s;for(m=60;m<=79;m++)s=t(f,5)+(o^i^r)+a+l[m]+3395469782&4294967295,a=r,r=i,i=t(o,30),o=f,f=s;c=c+f&4294967295,g=g+o&4294967295,u=u+i&4294967295,d=d+r&4294967295,p=p+a&4294967295}return(s=n(c)+n(g)+n(u)+n(d)+n(p)).toLowerCase()}function A(e,t,n,o){return e.addEventListener?(e.addEventListener(t,n,o),1):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function L(){if(Mo&&!0===ia)for(Date.prototype.getTimeEvergageAlias=Date.prototype.getTime;(new Date).getTimeEvergageAlias()<Mo;);R()}function R(){0<kr&&Z(ee(kr),"/pr")}function M(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"!=typeof e[n]&&t(n,e[n])}function P(e,t){e=S(e).query,t=new RegExp("(?:^|&)"+t+"=([^&]*)");return(e=e?t.exec(e):0)?window.decodeURIComponent(e[1]):""}function D(e){return N(function(){return F(e)})}function N(e){ajq.cookie.json=!0;try{return e()}finally{ajq.cookie.json=!1}}function F(e){if(O()){var t=ajq.cookie(e);return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded ["+e+"] cookie:",t),t}return t=pe(e),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded ["+e+"] cookie from local storage:",t),t}function O(e){return!0===Vr&&!0!==e||(!1!==Vr||!0===e)&&(null===(e=U(3e4))||null===e.domain||-1===e.domain.indexOf(".")?(Vr=!1,"chrome-extension:"!==window.location.protocol&&ajq.log.shouldLog("WARN")&&console.log('Evergage: Unable to store cookies due to lack of "." in the domain name ['+e.domain+"].  Falling back to the browser's LocalStorage.")):Vr=!0,Vr)}function _(e,t,n){var o=U(n);O()&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting ["+e+"] cookie:",t,o),ajq.cookie(e,t,o)),o=ajq.cookie(e),(o=!0===ajq.cookie.json?window.JSON.stringify(o)===window.JSON.stringify(t):o===t)||(Vr=!1,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Storing what would normally be a cookie into the browser's LocalStorage."),fe(e,t,n))}function B(e){var t;O()?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing ["+e+"] cookie..."),t=U(),ajq.removeCookie(e,t)):(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing the LocalStorage value ["+e+"].  Normally this would be a cookie but we were unable to store cookies on this site."),ajq.evgjStorage.deleteKey(de(e)))}function U(e){var t={};if(e&&(t.expires=new Date((new Date).getTime()+e)),t.path="/",ti.cookieDomain)t.domain=ti.cookieDomain;else for(t.domain=W(gi);!Ce(t.domain);)t.domain=t.domain.substring(t.domain.indexOf(".")+1,t.domain.length);return!0===hi&&(t.secure=hi),t}function W(e){return e=0===e.indexOf("www.")?e.substring(4,e.length):e}function H(e){var t=e.length;return e="*."===(e="."===e.charAt(--t)?e.slice(0,t):e).slice(0,2)?e.slice(1):e}function z(){if(ti.doNotTrack)return B(xe("id")),B(be("a")),B(xe("ses")),B(be("sessionSettings")),B(xe("sessionSettings")),B(be("logging")),B(xe("logging")),B(be("performanceTest")),B(xe("performanceTest")),B(xe("userId")),B(be("n")),M(Uo,function(e,t){M(t.ids,function(e,t){ajq.evgjStorage.deleteKey(de(t))})}),!1;var n;ke(Ae()),je(),M((n=Uo.session).ids,function(e,t){ajq.evgjStorage.setTTL(de(t),n.timeoutMillis)})}function G(e){return ti.discardHashTag?e.replace(/#.*/,""):e}function V(e){return se(e,3072)}function $(e){if(ti.preventSensitiveDataCapture)for(var t=0;t<e.length;t++){var n=e[t],o=n.name;"userId"!=o&&"company"!=o&&".anonId"!=o&&Y(n.value)&&(ajq.log.shouldLog("WARN")&&console.log("Evergage: Event field ["+n.name+"] appears to contain sensitive data - excluding from event and removing from memory."),e.splice(t,1),t--,ao(n.name))}null!=ti.trafficSourceIndex&&De(e,".s",ti.trafficSourceIndex),Ne(e,".bv",15),null!=window.evergageSiteConfig&&null!=window.evergageSiteConfig._id&&Ne(e,".scv",window.evergageSiteConfig._id)}function J(e,t,n){var o;ti.doNotTrack||X()||(o=(new Date).getTime(),Rn(e,!0)&&($(e),pi&&!n?function(o,e,i){Qn(o);var t=ve();(function(e,t){if("function"==typeof window.CustomEvent&&"function"==typeof document.dispatchEvent&&!0===ajq.browser.chrome)try{var n=new CustomEvent("pushEventParamsForProfiler",{detail:{randomParam:e,params:t}});document.dispatchEvent(n)}catch(e){he(e,"pushEventParamsForProfiler")}})(t,o),e=ajq.param([{name:"_r",value:t}]);var r=si+"/twreceiver?"+e;e={url:r,data:o,type:K(r,o),dataType:"json",jsonp:!1,crossDomain:!0,success:function(e){try{Qe(e,i||re(),o,t),y(i)&&i!==re()||!0===Hr||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no())}catch(e){he(e,"handleTwoWayBeaconSuccess"),y(i)&&i!==re()||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no())}},error:function(e,t,n){y(i)&&i!==re()||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no()),e=me("/twreceiver",e,n)+" : "+r+ie(o).replace("?","&"),he(Error(e),"sendEventTwoWay"),"Forbidden"==n&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Page origin does not match accepted origins - removing beacon and listeners"),f())}},h()&&(e.xhrFields={withCredentials:!0}),ajq.ajax(e)}(e,t):Z(e,n?"/msreceiver":"/jsreceiver"),Mo=o+ti.trackerDelay))}function X(){return"prerender"===document.visibilityState&&!0!==ajq.browser.safari&&"66f824351809c77d41b28978ce8fb0dcb98fd706"!==k(ri)}function Y(e){return e&&(e=j(e)?e:e.toString(),(e=Ma.validateCreditCard(e)).card_type&&e.luhn_valid&&e.length_valid)}function Z(o,i){var e=void 0!==window.EvergageUnitTestingMode&&!0===window.EvergageUnitTestingMode&&"function"==typeof window.evergageEventSentOneWay;"/er"!=i&&!e||De(o,"_r",ve());var r=ajq.param(o,!0),t=si+i+"?"+r;if(e)window.evergageEventSentOneWay(t);else if("/er"!=i){if(r=ajq.param([{name:"_r",value:ve()}]),e=si+i+"?"+r,navigator&&navigator.sendBeacon)return oe(t);t={url:e,data:o,type:K(e,o),dataType:"json",error:function(e,t,n){e=me(i,e,n)+" : "+si+i+"?"+r+ie(o).replace("?","&"),he(Error(e),"sendEventOneWay"),"Forbidden"==n&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Page origin does not match accepted origins"),f())}},ajq.ajax(t)}else{if(navigator&&navigator.sendBeacon)return oe(t);(e=new Image(1,1)).onload=function(){},e.src=t}}function K(e,t){if(null!=ti.requestMethod)return ti.requestMethod;var n=1==ajq.browser.msie?2048:8192,o=0;if(ajq.isArray(t))try{for(var i=0;i<t.length;i++)o+=t[i].name.toString().length+1,o+=t[i].value.toString().length+1}catch(e){o=1+n,ajq.log.shouldLog("WARN")&&console.log("Evergage: Error estimating GET query length")}return e.length+o+document.cookie.length<n-300?"GET":"POST"}function Q(e){De(e,"_ak",ri),De(e,"_ds",ai),null!=window.evergageSiteConfig&&null!=window.evergageSiteConfig._id&&Ne(e,".scv",window.evergageSiteConfig._id);for(var t=te(),n=0;n<t.length;n++)De(e,t[n].name,t[n].value);return e}function ee(e){Mr=(new Date).getTime();var t=Q([]);if(!Rn(t,!0))return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not logging a ping request since the event would be invalid."),null;var n=null!=Pr&&"object"==typeof Pr&&(Pr.type===ei.Product||Pr.type===ei.Blog||Pr.type===ei.Article),o=null!=Pr&&"object"==typeof Pr&&(Pr.type===ei.Category||Pr.type===ei.Tag);if(n||o){if(n&&ti.trackContextualRelatedItems){if(n=yo(Pr,["_id","type","tags","categories"]),ajq.isArray(n.categories)){for(var o=[],i=0;i<n.categories.length;i++)o[i]=yo(n.categories[i],["_id","type"]);n.categories=o}if(ajq.isArray(n.tags)){for(o=[],i=0;i<n.tags.length;i++)o[i]=yo(n.tags[i],["_id","type","tagType"]);n.tags=o}}else n=yo(Pr,["_id","type"]);De(t,".item",window.JSON.stringify(n))}return null!=Or&&De(t,"action",Or),De(t,".top",e),ra&&(0<(e=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd"))&&(De(t,".dt",e),ra=!1)),aa&&(0<(e=Evergage.getTimeSincePageInitForVariable("loadEventEnd"))&&(De(t,".lt",e),aa=!1)),0<ua&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending delayed trwreceiver timing from previous event..."),De(t,".tt",ua),ua=0),0<da&&(De(t,".ttdns",da),da=0),t}function te(){var e=[],t=[];Me(t);for(var n=["userId","_persistedUserId",".anonId","_anon",".aaId"],o=0;o<t.length;o++)-1!==ajq.inArray(t[o].name,n)&&De(e,t[o].name,t[o].value);return e}function ne(e,t){var n=Q([]);return De(n,".te"),t?(De(n,".te_s"),De(n,".te_sa")):(De(n,".te_u"),De(n,".te_ua")),De(n,"url",V(re())),De(n,"title",le(ae())),Ne(n,".bv",15),b(e)&&y(e)&&De(n,t?".te_scat":".te_ucat",e),n}function oe(e){if(navigator&&navigator.sendBeacon){var t=new Blob([],{type:"application/x-www-form-urlencoded"});return navigator.sendBeacon(e,t)}return!1}function ie(e){for(var t="",n=0;n<e.length;n++)t=""===t?t+"?":t+"&",t+=e[n].name+"="+encodeURIComponent(e[n].value);return t}function re(){return"string"==typeof ti.pageUrl&&""!==ti.pageUrl?ti.pageUrl:window.location.href}function ae(){return ti.pageTitle||ajq.trim(document.title).replace(/\s{2,}/g," ")}function se(e,t){return"string"!=typeof e||e.length<=t?e:e.substring(0,t)}function le(e){return se(e,1024)}function ce(){var e=ge(),t=P(e,"setApptegicLoggingLevel");if(t&&null!=ajq.log.setLoggingLevel(t))return fe(Uo.sessionSettings.ids.LoggingLevel,t),t;if((t=ajq.cookie(be("logging")))&&null!=ajq.log.setLoggingLevel(t))return B(be("logging")),fe(Uo.sessionSettings.ids.LoggingLevel,t),t;if((t=P(e,"setEvergageLoggingLevel"))&&null!=ajq.log.setLoggingLevel(t))fe(Uo.sessionSettings.ids.LoggingLevel,t);else if(!(t=pe(Uo.sessionSettings.ids.LoggingLevel))||null==ajq.log.setLoggingLevel(t))return null;return t}function ge(){var t;if(window.location==window.top.location)t=window.location.href;else{try{t=window.top.location.href}catch(e){t=null}t=t||document.referrer}return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Top URL: "+t),t}function ue(){var e=P(re(),"setApptegicPerformanceTestLevel");if(e&&null!=ajq.log.setPerformanceTestLevel(e)?fe(Uo.sessionSettings.ids.PerfLoggingLevel,e):(e=ajq.cookie(be("performanceTest")))&&null!=ajq.log.setPerformanceTestLevel(e)&&(B(be("performanceTest")),fe(Uo.sessionSettings.ids.PerfLoggingLevel,e)),(e=P(re(),"setEvergagePerformanceTestLevel"))&&null!=ajq.log.setPerformanceTestLevel(e))fe(Uo.sessionSettings.ids.PerfLoggingLevel,e);else if(!(e=pe(Uo.sessionSettings.ids.PerfLoggingLevel))||null==ajq.log.setPerformanceTestLevel(e))return null;return e}function de(e){return"evergage|"+ri+"|"+ai+"|"+e}function pe(e,t){return ajq.evgjStorage.storageAvailable()?ajq.evgjStorage.get(de(e),t):null}function fe(e,t,n){var o,i,r,a;ajq.evgjStorage.storageAvailable()&&(o=de(e),r=e,a=0,M(Uo,function(e,n){M(n.ids,function(e,t){t==r.slice(0,t.length)&&(a=n.timeoutMillis)})}),i=a,0<(i=q(n)&&0<n?n:i)?ajq.evgjStorage.set(o,t,{TTL:i}):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to find storage timeout for ["+e+"]"))}function he(e,t,n){try{var o,i=we(e,t,n);if(!(3<=Gr)){if(De(i=Q(i),"url",V(re())),De(i,"title",le(ae())),Ne(i,".bv",15),!0===ha.hasBeenFired&&De(i,".epv",""),null!=Or?De(i,"action",Or):!0!==ha.hasBeenFired&&_r++,o=!ajq.isEmptyObject(i))try{o=null!=ti.sendErrorEvents?ti.sendErrorEvents:"object"==typeof window.evergageSiteConfig&&"object"==typeof window.evergageSiteConfig.beaconConfig&&"boolean"==typeof window.evergageSiteConfig.beaconConfig.sendErrorEvents&&window.evergageSiteConfig.beaconConfig.sendErrorEvents}catch(e){ajq.log.shouldLog("WARN")&&console.log("Evergage: There was an exception trying to get the error events enablement flag when sending an error event."),o=!1}o&&"string"==typeof si&&(Z(i,"/er"),Gr++)}}catch(e){}}function me(e,t,n){return n&&(e+=" ["+n+"]"),t.responseText&&(e+=" "+t.responseText.slice(0,1e3)),e}function ve(){return String(Math.random()).slice(2,8)}function ye(e){if(null==e||e.length<=974)return e;var t=730.5,n=243.5;return 974!=t+n&&(t+=974-(t+n)),10<n?n-=5:10<t&&(t-=5),e.substring(0,t)+" ... "+e.substring(e.length-n)}function we(t,e,n){var o,i,r,a=[];try{De(a,".em",ye(t.message)),De(a,".es",e),!0===ajq.browser.chrome||!0===ajq.browser.msie?("string"==typeof t.stack&&(r=(i=(o=t.stack.split("\n")[1]).substring(o.indexOf("at ")+3)).match(/(.*) \((.*):(\d+):(\d+)\)/),ajq.isArray(r)&&(De(a,".ef",ye(r[1])),De(a,".eu",ye(r[2])),De(a,".el",ye(r[3])),De(a,".ec",ye(r[4])))),!0===ajq.browser.chrome?De(a,".vt","chrome"):!0===ajq.browser.msie&&De(a,".vt","ie")):!0===ajq.browser.safari?(De(a,".ef",ye(t.stack.substring(0,t.stack.indexOf("@")))),De(a,".eu",ye(t.sourceURL)),De(a,".el",ye(t.line)),De(a,".ec",ye(t.column)),De(a,".vt","safari")):!0===ajq.browser.mozilla&&(De(a,".ef",ye(t.stack.substring(0,t.stack.indexOf("@")))),De(a,".eu",ye(t.fileName)),De(a,".el",ye(t.lineNumber)),De(a,".ec",ye(t.columnNumber)),De(a,".vt","firefox"));var s=parseInt(ajq.browser.version);return isNaN(s)||De(a,".vn",s),!0!==n&&ajq.log.shouldLog("WARN")&&console.log("Evergage: There was an exception at "+i),a}catch(e){return"function"==typeof window.ajq&&"function"==typeof window.ajq.log&&window.ajq.log.shouldLog("DEBUG")&&console.log("Evergage: There was an exception trying to log an exception",e,t),a}}function be(e){return""===Ci&&Ee(),"_evg"+e+"_"+Ci}function xe(e){return""===Ci&&Ee(),"_at_"+e+"."+ri+"."+ai+"."+Ei}function Ee(){if(""===Ei){for(var e=gi;!Ce(e);)e=e.substring(e.indexOf(".")+1,e.length);Ei=k((ti.cookieDomain||[e])+(ti.cookiePath||"/")).slice(0,4)}Ci=k(ri+"."+ai+"."+Ei).slice(0,4)}function Ce(e){if(e.indexOf(".")==e.lastIndexOf("."))return 1;var t=e.substring(0,e.lastIndexOf("."));return e=e.substring(e.lastIndexOf(".")+1),!isNaN(parseInt(e))||t.indexOf(".")==t.lastIndexOf(".")&&-1!=ajq.inArray(e.toLowerCase(),Vo)}function je(){if(!1===vi&&qe(),!1===mi){null!=mi&&!1!==mi||(mi={});var e=D(be("n"));if(null!=e&&"object"==typeof e&&(null!=e.puid&&"string"==typeof e.puid&&""!==e.puid&&(mi._persistedUserId=e.puid),null!=e.paid&&"string"==typeof e.paid&&""!==e.paid&&(mi._persistedAccountId=e.paid)),null!=(e=pe(Uo.identity.ids.RelatedIdentityFields,!1))&&"object"==typeof e)for(var t="userId _userIdHashSalt _userIdHash company _accountIdHashSalt _accountIdHash".split(" "),n=0;n<t.length;n++){var o=e[t[n]];null!=o&&"string"==typeof o&&""!==o&&(mi[t[n]]=o)}for(e=!1,t=null==mi._persistedUserId,n=null==mi._persistedAccountId,o=0;o<Ho.length;o++){var i=vi[Ho[o]];null!=i&&(e=!0,"string"==typeof i&&""!==i&&t&&(mi[Ho[o]]=i),delete vi[Ho[o]])}for(o=0;o<zo.length;o++)null!=(i=vi[zo[o]])&&(e=!0,"string"==typeof i&&""!==i&&n&&(mi[zo[o]]=i),delete vi[zo[o]]);e&&Ie(),ho()}}function qe(){var e=Uo.session.ids.CustomFields,t=D(xe("userId")),n=pe(e,!1);"object"==typeof t&&(ajq.extend(n="object"!=typeof n?{}:n,t),fe(e,n),B(xe("userId"))),vi=(e=n)?e:{}}function Te(){vi={},Ie(),yi={},wi={}}function Ie(){!1!==vi&&(vi?ajq.each(vi,function(e,t){vi.hasOwnProperty(e)&&(b(t)&&y(t)||delete vi[e])}):vi={},ajq.log.shouldLog("TRACE")&&console.log("Evergage: Removing visit scope fields from localStorage since all values are gone."),ajq.evgjStorage.deleteKey(de(Uo.session.ids.CustomFields)))}function Se(){return ti.doNotStoreCookiesRequireProvidedAnonId||window.evergageSiteConfig&&window.evergageSiteConfig&&window.evergageSiteConfig.beaconConfig&&window.evergageSiteConfig.beaconConfig.doNotStoreCookiesRequireProvidedAnonId}function ke(e){var t;1!=qr&&(Se()?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting visitor ID, but not into a cookie: "+e.uuid),bi=e.uuid):(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Setting visitor cookie: "+e.toString()),t=be("a"),e=e.uuid+"."+e.affinityId,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Visitor cookie value is ["+e+"]."),_(t,e,Uo.anonymousId.timeoutMillis)))}function Ae(){if(Se())return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loading visitor ID, but not from cookie: "+bi),{uuid:bi,affinityId:""};var e,t=F(xe("id"));return null!=t?(null!=(e=Le(t))&&ke(e),B(xe("id"))):t=F(be("a")),(e=!(e=Le(t))?{uuid:(t=(navigator.userAgent||"")+(navigator.platform||"")+window.JSON.stringify(xi)+(new Date).getTime()+Math.random(),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Generating visitor ID from SHA1 hash of string ["+t+"]..."),k(t).slice(0,16)),affinityId:""}:e).toString=function(){return'Visitor{uuid="'+this.uuid+'", affinityId="'+this.affinityId+'"}'},e}function Le(e){var t={};if(e)try{var n=e?e.split("."):[];t.uuid=n[0],t.affinityId=8<=n.length?n[7]:2===n.length?n[1]:""}catch(e){he(e,"loadVisitorCookie"),t=null}else ajq.log.shouldLog("INFO")&&console.log("Evergage: No visitor cookie found."),t=null;return t}function Re(e,t){var n,o=[];return De(o,"_ak",ri),De(o,"_ds",ai),Me(o),n=o,(e=e)&&ajq.each(e,function(e,t){t.hasOwnProperty("name")&&t.hasOwnProperty("value")&&De(n,t.name,t.value)}),Fe(o,t),o}function Me(e){var t=ti.referrerUrl||di;j(t)&&""!=t&&De(e,"urlref",V(G(t))),Fe(e,ti.customFields),t=!1,Fe(e,wi),Fe(e,yi);for(var n=0;n<e.length;n++)"userId"==e[n].name&&(t=!0);Fe(e,vi),Fe(e,mi),y(mi.userId)?(De(e,"_reqPersistedEntityIds",""),t=!0):mi._persistedUserId&&(t=!0),!0===ti.trackAnonymous&&(De(e,".anonId",(n=Ae()).uuid),n.affinityId&&De(e,".aaId",n.affinityId),t||De(e,"_anon",!0)),y(Wr)&&De(e,".pageLocale",Wr)}function Pe(e,t,n,o){if(La.canTrackAction(e)){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Sending action event (action="+e+", isClick="+!!n+", isFormSubmit="+!!o+")...");var i,r=[];e&&De(r,"action",e),n||o||(De(r,"url",V(re())),De(r,"title",le(ae())));e:if(i=ge(),(i=P(i,"setEvergageClientIp"))&&Evergage.setClientIp(i))fe(Uo.sessionSettings.ids.ClientIp,i);else if(i=pe(Uo.sessionSettings.ids.ClientIp),!i||!Evergage.setClientIp(i)){i=null;break e}for(i&&De(r,"clientIp",i),z(),bn(),t=Re(r,t),fa&&De(t,"botUser","true"),ji&&De(t,".testMessages",ji),0<_r&&De(t,".ple",_r),r=0;r<ta.length;r++)try{ta[r](e,t,n,o)}catch(e){he(e,"actionListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Action callback with error: "+ta[r])}Aa.handleActionEvent(e,t,n,o),g("actionEvent",{actionName:e,params:t,isClickAction:n,isFormSubmitAction:o}),wi={},J(t,n,null)}}function De(e,t,n){t&&(b(n)&&y(n)||(n=""),e.push({name:t,value:n}))}function Ne(e,n,o){var i;!w(n)&&b(o)&&y(o)&&(i=!1,ajq.each(e,function(e,t){if(t.name===n)return t.value=o,!(i=!0)}),i||e.push({name:n,value:o}))}function Fe(n,o){o&&ajq.each(o,function(e,t){o.hasOwnProperty(e)&&"_userIdHashSalt"!==e&&"_userIdHash"!==e&&"_accountIdHash"!==e&&"_accountIdHashSalt"!==e&&De(n,e,t)})}function Oe(e){if(e){var n={};return ajq.each(e,function(e,t){t.hasOwnProperty("name")&&t.hasOwnProperty("value")&&(n[t.name]=t.value)}),n}}function _e(e,t,n){var o=[];De(o,t,G(e)),bn(),e=Re(o,n),wi={},J(e),he(Error("logLinkCalled"),"logLinkCalled"),ajq.log.shouldLog("WARN")&&console.log("Evergage: This API is deprecated and will be removed in a future release.")}function Be(e){if(e.delayImpressionUntilInViewport&&"page"==e.target.renderType||"callout"==e.target.renderType)if(!w(e.target.originalTargetSelector)&&Rt(e.target.originalTargetSelector)||Rt(e.target.target)||e.userGroup===Qo.Default&&Rt(Nt(e.id)))Ue(e);else{var t=T(Qi);null==Qi[e.experienceId]&&(Qi[e.experienceId]=[]);for(var n=Qi[e.experienceId],o=!1,i=0;i<n.length;i++)if(n[i].bundle.id===e.id){o=!0;break}o||(n.push({selector:w(e.target.originalTargetSelector)?e.target.target:e.target.originalTargetSelector,bundle:e}),t&&(ajq(window).unbind("resize.evergage",s),ajq(document).unbind("scroll.evergage",s),ajq(window).bind("resize.evergage",s),ajq(document).bind("scroll.evergage",s)))}else Ue(e)}function Ue(e){var t,n;e.previewMode||e.impressionTracked||(t=[],Zr[e.experienceId]||(n=Ge(e,Zo.Impression),t.push(n),Zr[e.experienceId]=!0),n=Ve(e,Zo.Impression),t.push(n),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for "+Zn(e)+"...",t),Je(e,t),e.impressionTracked=!0)}function We(e,t,n){e.previewMode||(n=[t=Ge(e,Zo.Clickthrough,t),n=Ve(e,Zo.Clickthrough,n)],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking clickthrough for "+Zn(e)+"...",n),Je(e,n,null))}function He(e){var t;e.previewMode||(t=$e(Yo.Experience,e.experienceId,Zo.Clickthrough),e.userGroup==Qo.Control&&(t[Ko.UserGroup]=Qo.Control),t=[t],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking clickthrough for experience "+Kn(e)+"...",t),Je(e,t))}function ze(e){var t;e.previewMode||Zr[e.experienceId]||(t=Ge(e,Zo.Impression),e.userGroup==Qo.Control&&(t[Ko.UserGroup]=Qo.Control),t=[t],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for redirect experience "+Kn(e)+"...",t),Je(e,t,null),Zr[e.experienceId]=!0)}function Ge(e,t,n){return t=$e(Yo.Experience,e.experienceId,t),e.userGroup==Qo.Control&&(t[Ko.UserGroup]=Qo.Control),n&&(t[Ko.ClickthroughUrl]=n),t}function Ve(e,t,n){var o,i,r,a;return(t=$e(Yo.Message,e.id,t))[Ko.ExperienceId]=e.experienceId,e.userGroup==Qo.Control&&(t[Ko.UserGroup]=Qo.Control),e.promotedItemKeys&&(t[Ko.PromotedItemKeys]=e.promotedItemKeys),n&&0<ajq(n).length&&(0<(o=ajq(n).closest("[data-evg-item-id]")).length&&(i=o.attr("data-evg-item-id"),r=o.attr("data-evg-item-type"),e=o.attr("data-evg-item-tagType"),ajq(n).closest("[class~='evg-searchItemLink']")&&(a=o.attr("data-evg-item-term")||ajq("#evg-searchSuggestions").find(".selected").text()),"string"==typeof i&&0<i.length&&"string"==typeof r&&0<r.length&&(n={_id:i,type:r},"string"==typeof e&&0<e.length&&(n.tagType=e),"string"==typeof a&&0<a.length&&(t.term=a),t[Ko.PromotedItemKeys]=[n]))),t}function $e(e,t,n){var o={};return o[Ko.ComponentType]=e,o[Ko.ComponentId]=t,o[Ko.StatType]=n,o}function Je(o,e,t,n){var i,r;ajq.each(e,function(e,t){if(t.type===Yo.Experience){for(var n=0;n<ea.length;n++)try{ea[n](t.id,t.stat,ajq.extend(!0,{},o))}catch(e){he(e,"experienceListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Experience callback with error: "+ea[n])}Aa.handleCampaignEvent(t.id,t.stat,ajq.extend(!0,{},o)),g("experienceEvent",{id:t.id,statType:t.stat,message:o})}}),ti.disableCampaignStatTracking?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Campaign stat tracking is disabled. Ignoring attempt to send msreceiver."):(i=[{name:".cStat",value:window.JSON.stringify(e)}],or?(r=e,ti.doNotTrack||X()||nr.push(r),ir=t):J(e=Re(i,t),!1,!0))}function Xe(e,t){var n="(^| )(apptegic[_-]"+t;if(e)for(var o=0;o<e.length;o++)n+="|"+e[o];return new RegExp(n+")( |$)")}function Ye(e){for(var t,n,o,i;(t=e.parentNode)&&"A"!==(n=e.tagName)&&"AREA"!==n;)e=t;y(e.href)&&(n=(t=e.hostname||S(e.href).host).toLowerCase(),t=e.href.replace(t,n),!/^(javascript|vbscript|jscript|mocha|livescript|ecmascript):/i.test(t))&&(e=e.className,(e=function(e){for(var t=0;t<ti.hostsAlias.length;t++)if(ti.hostsAlias[t]){var n=H(ti.hostsAlias[t].toLowerCase());if(e===n)return 1;if("."===n.slice(0,1)){if(e===n.slice(1))return 1;var o=e.length-n.length;if(0<o&&e.slice(o)===n)return 1}}}(n)?(n=Xe(ti.downloadClasses,"download"),o=Xe(ti.linkClasses,"link"),i=new RegExp("\\.("+ti.downloadExtensions+")([?&#]|$)","i"),o.test(e)?"link":n.test(e)||i.test(t)?"download":0):"link")&&_e(t,e))}function Ze(e){var t=(e=e||window.event).which||e.button,n=e.target||e.srcElement;"click"===e.type?n&&Ye(n):"mousedown"===e.type?1!==t&&2!==t||!n?Po=Do=null:(Po=t,Do=n):"mouseup"===e.type&&(t===Po&&n===Do&&Ye(n),Po=Do=null)}function Ke(e){var t="https://"+ri+".evergage.com:8443";return("https:"==window.location.protocol?"https":"http")+"://"+ri+".evergage.com"!==si&&t!==si?(e?"&":"?")+"_ak="+ri:""}function Qe(e,t,n,o){if(!0!==qr){if(ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Response Handled"),e){if(null!=(l=".pv",c=null,(s=n)&&ajq.each(s,function(e,t){t.hasOwnProperty("name")&&t.hasOwnProperty("value")&&t.name===l&&(c=t.value)}),c))try{var i,r,a;"object"!=typeof window.performance||"function"!=typeof window.performance.getEntries||(i=et(window.performance.getEntries(),o))&&(r=Math.round(i.duration),ajq.log.shouldTestPerf("RIGOROUS")&&console.log("Evergage: twreceiver Network Load Time"+r),0<r&&(ua=r),0<(a=Math.round(i.domainLookupEnd-i.domainLookupStart))&&(da=a)),(Evergage.loadTimeValuesReadyToSend()?jn:En)()}catch(e){}for(n=e.campaignResponses||[],ajq.log.shouldLog("TRACE")&&console.log("Evergage: Received event response containing "+n.length+" campaign(s).",e),n=0;n<oa.length;n++)try{oa[n](e)}catch(e){he(e,"campaignResponseListenerCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Campaign Response callback with error: "+oa[n])}if(g("campaignResponseEvent",{response:e}),1==e.errorCode?ajq.log.shouldLog("WARN")&&console.log("Evergage: Missing Encrypted User Id Parameter"):2==e.errorCode?ajq.log.shouldLog("WARN")&&console.log("Evergage: Invalid Encrypted User Id Parameter"):3==e.errorCode&&ajq.log.shouldLog("WARN")&&console.log("Evergage: Busy Signal Received.  No Messages Returned"),n=e.themeVersion,(!y($i)||y(n)&&$i<n)&&($i=n),e.persistedUserId&&((n=e.persistedUserId.entityId)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Persisted user ID: "+n),co("_persistedUserId",n)),(n=e.persistedUserId.accountId)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Persisted account ID: "+n),co("_persistedAccountId",n))),e.anonAffinityId&&(n=Ae(),o=!1,e.anonAffinityId&&n.affinityId!=e.anonAffinityId&&(n.affinityId=e.anonAffinityId,o=!0,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Your anonymous user ID has been locked to node "+e.anonAffinityId+".")),o&&ke(n)),!0===gr.editModeVisualEditor)return;!0!==Qr&&(e=e.campaignResponses,0===window.location.href.indexOf("chrome-extension://")&&"function"==typeof storeMessageResponse?storeMessageResponse(e):tt(e,t))}ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Response Handled")}var s,l,c}function et(e,t){if(t)for(var n="_r="+t,o=e.length-1;0<=o;o--){var i=e[o];if(i.name.length<8192&&0<=i.name.indexOf("/twreceiver")&&0<=i.name.indexOf(n))return i}}function tt(e,t,n){var o,i,s;!0===ajq.evgjStorage.get("isEvergageVisualEditorEnabledForTab")?st():t!=re()?ajq.log.shouldLog("INFO")&&console.log("Evergage: Received a message response for a previous page - ignoring."):(o=[],i=[],ajq.each(e,function(e,t){("ng"===t.type?i:o).push(t)}),e=o,ur&&(null==(s=e)&&(s=[]),ajq(".evergage-qtip").each(function(e,t){if(!ajq(t).hasClass("WidgetsCss-thumbnailMessage")){var n=ajq(this).qtip("api");if(y(n)){for(var o=!1,i=0;i<s.length;i++)for(var r=s[i],a=0;a<r.messages.length;a++)if("amb"+r.messages[a].id===n.options.id){o=!0;break}o||((o=n.options.bundle||{}).previewMode||(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Closing message ["+o.id+"] that no longer matches for the new hash page..."),gt(n.options.id)))}}}),ajq.each(ki,function(e,t){0===ajq("#evergage-tooltip-amb"+t).length&&delete ki[e]}),ajq.each(Bi,function(e,t){void 0===t?ajq.log.shouldLog("TRACE")&&console.log("Evergage: Message "+e+" was probably dismissed - will not attempt to clear interval."):clearInterval(t)}),at(),ur=!(Bi={})),y(e)&&0<e.length?function(e,t){if(null!=(n=function(e){for(var t=0;t<e.length;t++)if("Redirect"==e[t].displayMode)return{url:e[t].redirectUrl,saveParameters:e[t].saveParameters,hidePageBeforeRedirect:e[t].hidePageBeforeRedirect,userGroup:e[t].userGroup,campaignResponse:e[t]};return null}(e)))if(function(e){if(!e)return!0;var t=document.createElement("a");return t.href=e,!(t.hostname==document.location.hostname&&t.pathname==document.location.pathname&&t.hash==document.location.hash)}(n.url)){if(function(e){if("Control"!=e.userGroup){if(ji&&"true"!==ji&&!0!==ji&&(ji=ji.replace(e.campaignResponse.experienceId,""),fe(Uo.sessionSettings.ids.TestMessages,ji)),e.url){ajq.log.shouldLog("INFO")&&console.log("Evergage: Redirecting page...");var t,n,o,i,r=e.url;return e.saveParameters&&(n=window.location.search,o=e.campaignResponse.experienceId,t=window.decodeURIComponent(n.substring(1)),i=/^.*evergageTestMessages=([\w,]*).*$/,t=t.match(i)?(n=t.replace(i,"$1"),o=n.replace(o,""),"?"+t.replace(n,o)):n,r+=t),ze(e.campaignResponse),window.location.href=r,rr=!0}}else Xi&&e.hidePageBeforeRedirect&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Page was hidden for a redirect campaign and a control impression occurred. Reshowing page."),eo());ze(e.campaignResponse)}(n),"Control"!=n.userGroup)return}else he(Error("Redirect loop detected in campaign ["+(n.campaignResponse?n.campaignResponse.campaignId:"")+"]."),"handleEachCampaignComponentAppropriately");{var n;or=!0,function(e){for(var t=0;t<e.length;t++){var n,o,i=e[t];if(i.campaignJavascriptContent&&!1===(n=Ct(i.campaignJavascriptContent,"campaign-wide",'campaign "'+i.campaignName+'"',"campaignId-"+i.campaignId+".js","insertCampaignJavascriptContentToPage",i)))e.splice(t,1),t--;else if(i.javascriptContent){e:{if("Control"!==i.userGroup){if(!1===(n=Ct(i.javascriptContent,"experience-wide","experience '"+i.experienceName+"'","campaignId-"+i.campaignId+"/experienceId-"+i.experienceId+".js","insertExperienceJavascriptContentToPage",i))){n=!1;break e}if(n===Evergage.ExperienceJS.DelayImpression){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Delaying impression for experience "+i.experienceId+' due to the experience-wide javascript returning "'+Evergage.ExperienceJS.DelayImpression+'".'),n=!0;break e}}i.previewMode||(n=[],Zr[i.experienceId])||(o=Ge(i,Zo.Impression),n.push(o),Zr[i.experienceId]=!0,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for experience with experience-wide javascript"+Kn(i)+"...",n),Je(i,n),Zr[i.experienceId]=!0),n=!0}!1===n&&(e.splice(t,1),t--)}}}(e),0===e.length?(!0!==tr&&($r=!0),nt()):(n=function(e){var o=[];return ajq.each(e,function(e,n){ajq.each(n.pageChanges,function(e,t){t.campaignId=n.campaignId,t.campaignName=n.campaignName,t.experienceId=n.experienceId,t.experienceName=n.experienceName,t.userGroup=n.userGroup,t.rulesByType=ot(t.rules),o.push(t)})}),o}(e),e=function(e){var o=[],i=0===window.location.href.indexOf("chrome-extension://");return ajq.each(e,function(e,n){ajq.each(n.messages,function(e,t){t.campaignId=n.campaignId,t.campaignName=n.campaignName,t.experienceId=n.experienceId,t.experienceName=n.experienceName,t.userGroup=n.userGroup,t.rulesByType=ot(t.rules),delete t.rules,t.isVisualEditorToolbarMessage=i,o.push(t)})}),o}(e),Ii=ajq.extend(Ii||{},function(e){var i={};return ajq.each(e,function(e,t){var n,o=t.target.locationId;i.hasOwnProperty(o)?n=i[o]:i[o]=n=[],n.push(t)}),i}(e)),function(e){0<(e=function(e){return ajq.grep(e,function(e){if(e.changeScript){var t=ajq(e.cssSelector),n=e.rulesByType.PageCssSelector;return n&&!Lt(e,n)?!1:(0===t.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping non-matching page change for campaign ["+e.campaignId+"], experience ["+e.experienceId+'] (selector="'+e.cssSelector+'")...'),0<t.length)}})}(e)).length&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing "+e.length+" matching page changes..."),ajq.each(e,function(e,t){e:if(Yi){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping display of page change ["+t.id+":"+t.cssSelector+"] for campaign ["+t.campaignId+"], experience ["+t.experienceId+"] because personalization did not occur within the allotted time "+ti.hideContentSectionsMillis+"."),g("pageChangeExecution",{info:"timedOut",pageChange:t});var n=(new Date).getTime()-Zi;-1===Zi&&(n=-1),he(Error("personalizationTimedOutPageChange "+t.id+":"+t.experienceId+":"+t.campaignId+", "+n),"personalizationTimedOutPageChange")}else{try{var o;"Control"!=t.userGroup&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Executing page change for campaign ["+t.campaignId+"], experience ["+t.experienceId+'] (selector="'+t.cssSelector+'")...'),n=t.changeScript,(o=document.createElement("script")).text=n,document.body.appendChild(o),ajq(o).remove(),g("pageChangeExecution",{info:"success",pageChange:t})),i=t,(1.8<=parseFloat(ajq.fn.jquery)?ajq(i.cssSelector).find("a").addBack():ajq(i.cssSelector).find("a").andSelf()).filter("a").each(function(e,t){ajq(t).off("click.evergagePageChangeClickthrough"),ajq(t).on("click.evergagePageChangeClickthrough",function(e){try{We(i,t.href,e.target)}catch(e){he(e,"trackClickthrough")}}),hr.push(t)})}catch(e){he(e,"executePageChange"),ajq.log.shouldLog("WARN")&&console.log("Evergage: Error in page change script for campaign ["+t.campaignId+"], experience ["+t.experienceId+'] (selector="'+t.cssSelector+'"): '+e),g("pageChangeExecution",{info:"scriptEvalError",pageChange:t});break e}t.previewMode||Zr[t.experienceId]||(n=Ge(t,Zo.Impression),t.userGroup==Qo.Control&&(n[Ko.UserGroup]=Qo.Control),n=[n],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking impression for pageChange{id="+t.id+', experience="'+(t.experienceName||"")+'", campaign="'+(t.campaignName||"")+'"}...',n),Je(t,n),Zr[t.experienceId]=!0)}var i}))}(n),Ti||!0===t?!qi&&!0!==t||it():(Hr=!0,function(){var e,t,n,o;void 0===Evergage||qi||(e=[],t=null,t=li+"/beacon/"+ri+"/"+ai+"/css/evergage.min.css",""!==(o=Ke(n=!(Ti=!0)))&&(t+=o,n=!0),t+=(n?"&":"?")+".bv=15",y($i)&&(t+="&.tv="+$i),e.push(t),ajq("<div></div>").attr("id","evergageThemesDiv").appendTo("body"),void 0!==Evergage&&Evergage&&void 0!==Evergage.cssLazyLoader?(e=Evergage.cssLazyLoader(e,function(){!0!==qr&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Done loading CSS styleshees."),qi=!0,it())}),ajq.merge(Cr,e)):(ajq.log.shouldLog("WARN")&&console.log("Evergage: Could not find the css lazy loader.  Styles and callout arrows for messages may have issues."),ajq.each(e,function(e,t){ajq("<link/>",{rel:"stylesheet",type:"text/css",href:t}).appendTo(ajq("head"))}),qi=!0,it()))}()),setTimeout(function(){nt()},100))}}(e,n):!0!==tr&&($r=!0))}function nt(){if(or=!1,0<nr.length){var e,t=(new Date).getTime();if(!Rn(e=Re(e=[{name:".cStat",value:window.JSON.stringify(nr)}],ir),!0))return;$(e),Z(e,"/msreceiver"),Mo=t+ti.trackerDelay}nr=[],ir={}}function ot(e){var o={};return ajq.each(e,function(e,t){var n=t["@class"];t.type=n.substring(n.lastIndexOf(".")+1).replace(/CampaignRule$/,""),"PageCssSelector"==t.type&&o[t.type]?(o[t.type].exclusionCssSelectors=o[t.type].exclusionCssSelectors.concat(t.exclusionCssSelectors),o[t.type].inclusionCssSelectors=o[t.type].inclusionCssSelectors.concat(t.inclusionCssSelectors)):o[t.type]=t}),o}function it(){try{ajq.each(Ii,function(e,t){0!=t.length&&(t=function(e,t){var r;{var n,o,i,a;"Rotate"==t[0].target.multiMessageDisplayMode?(n=Uo.messageRotation.ids.MessageQueue+e,o="apptegic:mq:"+e,Ai.hasOwnProperty(e)?i=Ai[e]:((i=pe(n,!1))||(a=D(o))&&(fe(n,a),i=a),i?ajq.log.shouldLog("TRACE")&&console.log("Evergage: Loaded message queue for target ["+e+"] from local storage - value: "+window.JSON.stringify(i)):i=[],B(o),Ai[e]=i),r=[],ajq.each(i,function(e,n){var o=null,i=-1;ajq.each(t,function(e,t){if(t.id==n.id)return o=t,i=e,!1}),null!==o&&(r.push(o),t.splice(i,1))}),ajq.each(t,function(e,t){r.push(t)})):r=t}return r}(e,t),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Displaying or enqueuing "+t.length+" message(s) for target ["+e+"]..."),ajq.each(t,function(e,t){try{var n,o,i;Yi&&t.hideTargetContentBeforeRender?(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Skipping display of message ["+t.id+":"+t.target.target+"] because personalization did not occur within the allotted time "+ti.hideContentSectionsMillis+"."),n=(new Date).getTime()-Zi,-1===Zi&&(n=-1),he(Error("personalizationTimedOutMessage, "+t.id+":"+t.experienceId+":"+t.campaignId+", "+n),"personalizationTimedOutMessage")):(o=t.rulesByType.PageDelay)&&!isNaN(o.pageDelayMillis)&&1e3<o.pageDelayMillis?(i=setTimeout(function(){ut(t)},o.pageDelayMillis),Vi.push(i)):(!0!==$r&&!0!==tr&&(t.shouldDelayReshowPersonalizedSectionsForMessage=!0),ut(t))}catch(e){he(e,"displaySingleMessageOnceCSSIsLoaded"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Unable to display message "+Zn(t)+": "+e)}}))}),Ii={},!0!==tr&&($r=!0),0!==Ki.length&&!0!==tr||(clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Old redisplay personalized sections location."))}catch(e){he(e,"displayMessagesOnceCSSIsLoaded"),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Old redisplay personalized sections location.")}}function rt(){try{location.href!=Er&&(ur=!0,Er=location.href,R(),yi={},Or=Pr=null,_r=0,Br=Wr=Dr=null,Sn(),Zr={},ta=[],ea=[],e(!0))}catch(e){he(e,"handleHashChange")}}function at(){ajq.each(Vi,function(e,t){window.clearTimeout(t)}),Vi=[],ajq.each(Bi,function(e,t){window.clearInterval(t)}),Bi={},ajq.each(Pi,function(e,t){window.clearInterval(t)}),Pi={},ajq.each(Ji,function(e,t){window.clearInterval(t.timer)}),Ji={},ajq.each(Ui,function(e,t){window.clearTimeout(t)}),Ui={},Ii={}}function st(){for(var e in ajq(".evergage-insertionTarget").remove(),ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("hide"),ajq(".evergage-qtip").filter(":not(#evergage-tooltip-ambPREVIEW)").qtip("destroy"),at(),Mi)Mi.hasOwnProperty(e)&&(clearTimeout(Mi[e]),delete Mi[e])}function lt(e,t){var n=ajq(e).closest(".evergage-tooltip.evergage-qtip");0===n.length||void 0===n.qtip().options?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not hiding message as the message cannot be found.",e):(n=n.qtip().options.bundle,t?gt(n.id):ct(n))}function ct(e){var t;e.previewMode||(t=[t=Ge(e,Zo.Dismissal),Ve(e,Zo.Dismissal)],ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Tracking dismissal for "+Zn(e)+"...",t),Je(e,t),-1===ajq.inArray(e.id,ar)&&ar.push(e.id)),Bi.hasOwnProperty(e.id)&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Dismissing message "+Zn(e)+" - will stop looking for the target on the page for re-display."),clearInterval(Bi[e.id]),delete Bi[e.id]),gt("amb"+e.id),"callout"===e.target.renderType&&"Hover"===e.calloutOnEventType&&null!=e.calloutOnHoverHighlightColor&&(t="evergage-target-highlight-"+e.id,0<ajq("#"+t).length&&ajq("#"+t).remove(),(e.target.insertionContent?_t(e.target.locationId):Dn(e.target.target)).removeClass(t))}function gt(e,t){ajq.log.shouldLog("TRACE")&&console.log('Evergage: hideBundle("'+e+'", '+!!t+") called."),!0===t||0===Ft(e).length||void 0===Ft(e).qtip().options||j((t=Ft(e).qtip().options.bundle).target.locationId)&&""!==t.target.locationId&&ajq(".evergage-messageTarget-"+t.target.locationId).remove(),Ft(e).qtip("hide"),Ft(e).qtip("destroy")}function ut(e,t,n){var o,i,r,a,s,l,c;if(e.showCallback=t,e.delayImpression=!1,-1<ajq.inArray(e.id,ar))ajq.log.shouldLog("DEBUG")&&console.log("Evergage: "+Zn(e)+" was previously dismissed on this page - skipping display...");else if((t="string"==typeof e.cssContent&&""!==e.cssContent)&&(t=!1,c=ajq.browser.version,ajq.browser.msie&&parseInt(c)<=10&&25<=document.styleSheets.length&&(t=!0)),t)ajq.log.shouldLog("WARN")&&console.log("Evergage: Approaching IE's maximum number of style sheets. Will not show current message.");else{if(e.htmlContent&&0<=e.htmlContent.indexOf("evergage-item-block=")){if(!e.itemBlockRendered&&!dt(e,e.isExternalPromotedContent))return;e.isExternalPromotedContent&&0==e.promotedItems.length&&(e.delayImpression=!0)}if(t="amb"+e.id,c={text:s=e.legacy?(c=null,l=e.taskList&&dn(e)&&e.legacy.completionSubject||e.legacy.subject,e.taskList?un(e):e.legacy.template):(c="",e.previewMode||!e.cssContent&&!e.delayImpression||(c+='\n<style class="evergage-tooltip-style">\n',e.cssContent&&(c+=ajq.trim(e.cssContent)+"\n"),e.delayImpression&&(c+=(s=Nt(e.id))+" { visibility: hidden !important; pointer-events: none !important; opacity: 0 !important; }\n"),c+="</style>\n"),c+=s=e.taskList?((s=ajq("<div></div>")).html(e.htmlContent||""),o=(a=e.taskList).ordered?"ol":"ul",0===(l=s.find(i=o+"[evergage-tasklist]")).length?(ajq.log.shouldLog("ERROR")&&console.log("Evergage: "+i+" element not found for task-list message ["+e.id+"]."),null):(i=un(e),r=ajq("<div></div>"),a=a.completionHtmlContent||"",dn(e)&&""!==a?a:(o=r.html(i).find(o).children(),l.empty().append(o),s.html()))):e.htmlContent||"",l=" ","-"),title:{text:l,button:e.legacy&&!e.legacy.nonDismissible},fullContents:c},s={},"popup"==e.target.renderType&&!0===e.modal&&!0!==e.previewMode&&(s.modal={on:!0}),o=l=0===(l=Yt()).length&&e.previewMode&&0<ajq("#previewContainer").length?ajq("#previewContainer"):l,a="popup"===e.target.renderType,i="callout"===e.target.renderType,l={},"infobar"===e.target.renderType||a?(l.container=0<o.length?o:ajq("body"),l.viewport=!1,l.target=0<o.length?o:ajq(window)):i?(l.container=0<o.length&&o,l.viewport=0<o.length?o:ajq(window)):(l.container=0<o.length&&o,l.viewport=0<o.length&&o),o=[],e.legacy&&((a=e.legacy.messageThemeId)?o.push("t"+a):(a=e.legacy.appearanceStyle)&&o.push(a)),e.previewMode&&o.push("evergage-preview-message"),"page"!=e.target.renderType&&0<Yt().length&&o.push("evergageMessageInVisualEditorTestMode"),a=!(!e.legacy||!e.legacy.width||"infobar"==e.target.renderType)&&e.legacy.width,i=!(!e.legacy||!e.legacy.height)&&e.legacy.height,t={id:t,content:c,show:s,position:l,style:o={classes:o.join(" "),def:!1,nonblocking:!0===e.nonBlocking,width:a,height:i,poweredBy:!e.isVisualEditorToolbarMessage&&fi},events:{render:xt,show:Et,hide:jt,destroy:qt},bundle:e},!e.taskList||e.legacy||t.content.fullContents){if("page"==e.target.renderType||"callout"==e.target.renderType){if(!(0<(c=Dn(e.target.target)).length)||c.is(":hidden"))return!0!==$r&&!0===e.shouldDelayReshowPersonalizedSectionsForMessage&&Ki.push(e.id),e.displayRetryExplanation="messageTargetNotVisible",void Zt(e);if(e.rulesByType.TargetInViewport&&((c=Rt(e.target.target))&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+Zn(e)+", since its target is in viewport."),!c))return e.displayRetryExplanation="messageTargetNotInViewport",void Zt(e)}if((c=e.rulesByType.PageCssSelector)&&!Lt(e,c))c.inclusionCssSelectors&&0<c.inclusionCssSelectors.length&&(e.displayRetryExplanation="messagePageCssSelectorRuleNotMatched",Zt(e));else{if("Rotate"==e.target.multiMessageDisplayMode){if(c=!(!ki[e.target.locationId]||ki[e.target.locationId]==e.id)&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Enqueuing "+Zn(e)+" for later display..."),an(e),!0))return;ki[e.target.locationId]||(ki[e.target.locationId]=e.id)}if("callout"==e.target.renderType){if(!e.isExternalPromotedContent&&0<ajq("#evergage-tooltip-amb"+e.id).length)return;if(e.target.insertionContent){if(e.displayCalloutMessageWithInsertionContentNow=!1,(c=!(c=0<_t(e.target.locationId).length)?0<cn(e).length:c)?e.calloutOnEventType?zt(c=_t(e.target.locationId),e,t):e.displayCalloutMessageWithInsertionContentNow=!0:(e.displayRetryExplanation="calloutInsertionTargetDoesNotExist",Zt(e)),!e.displayCalloutMessageWithInsertionContentNow)return}else if(e.calloutOnEventType)return void zt(n=Dn(e.target.target),e,t)}if(c=e.rulesByType.MinimumPageScroll){if(!ci)return void(Si[e.id]=e);if(!Ut(e,c))return e.displayRetryExplanation="minimumPageScrollNotReached",void Zt(e)}!(c=e.rulesByType.Inactivity)||n&&n.shouldDisplayInactivityMessage?(ln(e,t),e.containsSurvey&&null!=e.surveyConfig&&"Control"!==e.userGroup&&ka.renderSurvey(e)):(n=c.inactivityMillis,Ji[e.id]||((new Date).getTime(),en(e,n),Kt(),ajq(document).bind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Qt)))}}else ajq.log.shouldLog("ERROR")&&console.log("Evergage: Failed to build HTML for task-list message ["+e.id+"] - aborting display...")}}function dt(e,t){if(!e.itemTemplate||!e.promotedItems||!t&&0==e.promotedItems.length)return ajq.log.shouldLog("WARN")&&console.log("Evergage: "+Zn(e)+" contains [evergage-item-block] element, but message response does not contain itemTemplate and/or promotedItems - aborting display..."),0;var n=ajq(e.htmlContent),o=n.find("[evergage-item-block]").addBack("[evergage-item-block]").first();if(0==o.length)return ajq.log.shouldLog("ERROR")&&console.log("Evergage: Expected [evergage-item-block] element not found in "+Zn(e)+" - aborting display..."),0;var i,r=e.minimumPromotedItemCount||1,a=e.maximumPromotedItemCount,s=ft(o.attr("evergage-item-block")),a=pt(o,e.itemTemplate,e.promotedItems,a,s);return!t&&a.length<r?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Rendered only "+a.length+" Items for Item Block with minimum item count of "+r+" for "+Zn(e)+" - aborting display..."),0):(e.promotedItemKeys=a,s.unformatted&&!e.previewMode&&((n=ajq("<div></div>").append(n)).find("[evergage-item-block]").replaceWith(o.children()),n=n.children()),e.htmlContent=(i="",n.each(function(e,t){i+=t.outerHTML||t.nodeValue}),i),0<a.length&&(e.itemBlockRendered=!0),1)}function pt(u,d,p,e,f){if(null==f)return!1;var t=f.cols,n=d.width*t+f.cellSpacing*(t-1),o=f.rows,i=d.height*o+f.cellSpacing*(o-1);p=p.slice(0,e||o*t),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Rendering Item block with size "+n+"x"+i+" containing "+p.length+" Items...",f),f.unformatted||u.empty().css({boxSizing:"content-box",width:n,height:i,wordSpacing:"-1em",display:"table"});var h=[];return ajq.each(p,function(e,t){try{var n,o,i,r,a,s=p.length,l=mt(d,t),c=f.unformatted?ajq(l):(n="UL"==u.prop("tagName")?ajq("<li></li>"):ajq("<div></div>"),o=f.cellSpacing/2,r=e%(i=f.cols),a=Math.floor(e/i),n.css({display:"inline-block",verticalAlign:"top",wordSpacing:0,boxSizing:"border-box",marginTop:0==a?0:o,marginBottom:a==Math.ceil(s/i)-1?0:o,marginLeft:0==r?0:o,marginRight:r==i-1?0:o,width:d.width,height:d.height,padding:0,overflow:"hidden"}).html(l),n);u.append("\n").append(c).append("\n");var g={type:t.type,_id:t._id};t.tagType&&(g.tagType=t.tagType),c.attr("data-evg-item-id",g._id),c.attr("data-evg-item-type",g.type),null!=g.tagType&&c.attr("data-evg-item-tagType",g.tagType),h.push(g)}catch(e){if("UNFULFILLED_SYNTAX"!=e.type)throw e;ajq.log.shouldLog("TRACE")&&console.log("Evergage: Cannot render Item ["+t.id+"] due to: "+e.message)}}),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Rendered "+h.length+" out of "+p.length+" Items..."),h}function ft(t){var e=null;try{e=ht(t)}catch(e){ajq.log.shouldLog("WARN")&&console.log("Failed to parse item block settings '"+t+"'. Reason: "+e)}return e}function ht(e){if(!j(e))throw"param must be a String.";if(e.length<1||"{"!=e.charAt(0))throw"string must start with '{'.";if(e.length<2||"}"!=e.charAt(e.length-1))throw"string must end with '}'.";var t={};e=ajq.trim(e.substring(1,e.length-1)).split(/\s*,\s*/);for(var n=0;n<e.length;n++){var o,i=e[n],r=i.split(/\s*:\s*/);if(2!=r.length)throw"property token ["+i+"] must contain a single ':'.";if((i=wt(r[0])).length<1)throw"property is missing key.";if((r=r[1]).length<1)throw"value of property '"+i+"' has no value.";if("true"==r)o=!0;else if("false"==r)o=!1;else if("'"==r.charAt(0)||'"'==r.charAt(0))o=wt(r);else try{o=parseInt(r,10)}catch(e){throw"value of property '"+i+"' is not a Number or a String."}t[i]=o}return t}function mt(e,r){r.id=r._id;e=vt(e=e.htmlContent,/\$\{?item\.getTagValue\(([^)]+)\)}?/g,function(e,t){return n=r,t=(t=t).split(/\s*,\s*/),o=wt(ajq.trim(t[0])),t=wt(ajq.trim(t[1])),i=[],n.tags&&ajq.each(n.tags,function(e,t){t.tagType===o&&i.push(t)}),i[0]&&(t=i[t||0])&&t?t._id:"";var n,o,i}),e=vt(e,/#field\(([^)]*)\)/g,function(e,t){return function(n,t){var e=t.split(/\s*,\s*/);if(2!=e.length)throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse #field directive parameters: "+t};t=ajq.trim(e[0]);if(!/^\$\{?item\.([\w.]+)}?$/.test(t))throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse first param of #field directive: "+t};e=ajq.trim(e[1]);try{var o=wt(e)}catch(e){throw{type:"UNFULFILLED_SYNTAX",message:"Failed to parse second param of #field directive: "+t}}return t.replace(/^\$\{?item\.([\w.]+)}?$/,function(e,t){t=yt(n,t,o);return null!=t?t:""})}(r,t)}),e=vt(e,/\$\{?item\.([\w.]+)}?/g,function(e,t){return yt(r,t)});return vt(e,/\$\{?currency\.format\(([\d.]+)\)}?/g,function(e,t){var n=gr.beaconConfig?gr.beaconConfig.defaultCurrency:null;return bt(t,r.currency||n||"USD")})}function vt(e,t,n){return e.replace(t,function(e,t){t=n(e,t);return t=ti.enableTemplateEsc?"string"!=typeof t?t:t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):t})}function yt(e,t,n){var o;if(null==(e=0==t.indexOf("custom.")&&7<t.length?(o=t.substring(7),E(e.custom)&&e.custom.hasOwnProperty(o)?e.custom[o]:null):e.hasOwnProperty(t)?e[t]:null)){if(null==n)throw{type:"UNFULFILLED_SYNTAX",message:"Item attribute '"+t+"' is missing or null."};e=n}return e}function wt(e){for(var t=0;t<Ra.length;t++){var n=Ra[t];if(1<=e.length&&e.charAt(0)==n){if(e.length<2||e.charAt(e.length-1)!=n)throw"End quote missing for string ["+e+"].";return e.substring(1,e.length-1)}}return e}function bt(e,t){var n="number"==typeof e?e:parseFloat(e,10);if(isNaN(n))return"";t=t||"USD";var o=pa||"en-US";if(lr)return n.toLocaleString(o,{style:"currency",currency:t});var i=(cr?n.toLocaleString(o):n.toLocaleString()).replace(/\D\d*$/,""),e=Xo[t]||{},t=e.symbol||t;return 1<=(e=null!=e.decimals?e.decimals:0)&&(n=n.toFixed(e),i+=(o=(cr?1.1.toLocaleString(o):1.1.toLocaleString()).charAt(1))+n.substring(n.indexOf(".")+1)),t+i}function xt(e,t){ajq(e.currentTarget).qtip().id===t.id&&(e=t.options.bundle,Ni[e.id]=t,e.previewMode?Ft(e.id).find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var e=ajq(this);e.attr("href")||e.attr("href","javascript:;")}):Mt(t.elements.tooltip,e))}function Et(e,t){if(ajq(e.currentTarget).qtip().id===t.id){var n=t.options.bundle,o=t.elements.tooltip;if(null==t.options.barVisible||n.previewMode||t.options.barVisible.call(o,e,t),n.messageShownTime=(new Date).getTime(),(Li[n.id]=n).javascriptContent&&!n.previewMode&&!n.javascriptContentExecuted)try{Ct(n.javascriptContent,"campaign-wide",Zn(n),"campaignId-"+n.campaignId+"/experienceId-"+n.experienceId+"/messageId-"+n.id+".js","insertJavascriptContentForMessage")}finally{n.javascriptContentExecuted=!0}0<n.durationMillis&&(Mi[(i=n).id]=setTimeout(function(){var e=Ft(i.id);e.qtip("hide"),e.qtip("destroy")},i.durationMillis))}var i}function Ct(e,t,n,o,i,r){try{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Inserting JavaScript content from "+n+" to page...",e);var a=ajq.trim(e).replace(/\n/g,"\n    "),s=n.replace(/"/g,'\\"'),l=new Function("campaignResponse","try {\n    "+a+'\n} catch (exception) {\n    if (typeof window.ajq === "function" && typeof window.ajq.log === "object" && typeof ajq.log.shouldLog === "function" && ajq.log.shouldLog(\'WARN\')) {\n        console.log("Evergage: ERROR: Exception executing javascript content for '+s+'.", exception);\n    }\n}\n\n//# sourceURL=/evergage/'+o);ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Execute "+t+" javascript");var c=l(r);return ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Execute "+t+" javascript"),c}catch(e){return he(e,i),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Exception inserting the javascript content for "+n+".",e),!0}}function jt(e,t){var n=t.options.bundle;t.options.barHidden&&t.options.barHidden.call(t.elements.tooltip,e,t),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding "+Zn(n)+"..."),g("qTipHideEvent",{message:n}),Ri.hasOwnProperty(n.id)&&(clearTimeout(Ri[n.id]),delete Ri[n.id]),Mi.hasOwnProperty(n.id)&&(clearTimeout(Mi[n.id]),delete Mi[n.id]),t.elements.tooltip.removeClass("evergage-tooltip-page"),t.elements.tooltip.removeClass("evergage-tooltip-page-replace");var o,i=!0;"Rotate"==n.target.multiMessageDisplayMode&&(ki[n.target.locationId]=!1,i=!nn(n.target.locationId)),i&&"page"==n.target.renderType&&(t.options.position&&!0===t.options.position.replaceContainer?(i=n.target.locationId,o=n.target.target,(e=Di[i])&&e.length&&((t=Dn("#evergage-tooltip-"+t.id)).length&&(ajq.log.shouldLog("DEBUG")&&console.log("Restoring stashed inline target ["+o+"]..."),t.replaceWith(e),delete Di[i]))):gn(n.target.locationId,n.target.target)),0<n.durationMillis&&n.messageShownTime&&(i=(new Date).getTime()-n.messageShownTime,n.durationMillis-i<1e3?Ft(n.id).qtip("destroy"):n.durationMillis-=i)}function qt(e,t){var n,o,i=t.options.bundle;"Click"===i.calloutOnEventType&&(n=Xt(i),ajq(document).off("click."+n)),Mi.hasOwnProperty(i.id)&&(clearTimeout(Mi[i.id]),delete Mi[i.id]),n=!0,"Rotate"==i.target.multiMessageDisplayMode&&(ki[i.target.locationId]=!1,n=!nn(i.target.locationId)),n&&"page"==i.target.renderType&&gn(i.target.locationId,i.target),Ai.hasOwnProperty(i.target.locationId)&&ajq.each(Ai[i.target.locationId],function(e,t){if(t.id===i.id)return Ai[i.target.locationId].splice(e,1),!1}),delete Fi[i.id],ajq.isEmptyObject(Fi)&&(clearInterval(dr),dr=-1),E(n=Li[i.id])&&(o=n.destroyCallback),delete Li[i.id],delete Ni[i.id],"Rotate"==i.target.multiMessageDisplayMode&&1e3<i.target.multiMessageRotateDelayMillis&&(Pi.hasOwnProperty(i.target.locationId)&&clearInterval(Pi[i.target.locationId]),Pi[i.target.locationId]=setInterval(function(){try{tn(i.target.locationId)}catch(e){he(e,"rotateMessageForTarget")}},i.target.multiMessageRotateDelayMillis)),1==(n=Ft(i.id)).length&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: div for message ["+i.id+"] is still in DOM - removing it..."),n.remove()),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Message ["+i.id+"] destroyed."),n=Li[i.id],x(o)&&o()}function Tt(e,t){for(var n=0;n<t.length;n++)if(ajq(e).is(t[n]))return 1}function It(e,t){var n,o="0%";null!=ajq(e).css("background-position-x")?o=ajq(e).css("background-position-x"):-1!=(n=ajq(e).css("background-position")).indexOf("calc(")?-1!=(n=(n=n.split("calc("))[n.length-2]).indexOf("0%")&&-1!=n.indexOf("px")&&(o=n.substring(0,n.indexOf("px")+2)):2==(n=n.split(" ")).length&&(o=n[0]),ajq(e).css("background-position",o+" "+t)}function St(e){if(null!=ajq(e).css("background-position-y"))return ajq(e).css("background-position-y");if(null==ajq(e).css("background-position"))return null;if(-1!=(e=ajq(e).css("background-position")).indexOf("calc(")){if(-1!=(e=(e=e.split("calc("))[e.length-1]).indexOf("0%")&&-1!=e.indexOf("px"))return e.substring(0,e.indexOf("px")+2)}else if(2==(e=e.split(" ")).length)return e[1]}function kt(e,t){var n=e.indexOf(t);return-1!=n&&n+t.length==e.length}function At(e){return null==e?e:"0%"==e?0:(kt(e,"px")&&(e=e.substring(0,e.indexOf("px"))),parseInt(e))}function Lt(n,e){var o=!0;return ajq.each(e.inclusionCssSelectors,function(e,t){if(0===Dn(t).length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Delaying showing message or page change ["+n+"] since the CSS Selector ["+t+"] is not present yet"),o=!1}),ajq.each(e.exclusionCssSelectors,function(e,t){if(0<Dn(t).length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not showing message or page change ["+n+"] since the CSS Selector ["+t+"] is present."),o=!1}),o}function Rt(e){var t;return t=(t=0<(e=Dn(e)).length)?0<=(e=e[0].getBoundingClientRect()).top&&e.top<=ajq(window).height()||0<=e.bottom&&e.bottom<=ajq(window).height()||e.top<0&&e.bottom>ajq(window).height()&&(0<=e.left&&e.left<=ajq(window).width()||0<=e.right&&e.right<=ajq(window).width())||e.left<0&&e.right>ajq(window).width():t}function Mt(e,t){var n,o;n=t,e.find("a").not("[evergage-closeicon]").filter(function(){return"×"!=ajq.trim(ajq(this).text())}).each(function(e,t){ajq(t).on("click",function(e){try{We(n,t.href,e.target)}catch(e){he(e,"trackClickthrough")}}),x(ti.messageLinkDecorator)&&ti.messageLinkDecorator(t)}),o=t,e.find("div.evergage-tooltip-close").click(function(e,t){try{"click"==e.originalEvent.type&&ct(o)}catch(e){he(e,"trackDismissalIconsLegacy")}}),t.delayImpression||Be(t);var i,r=t.id,a=Ft(r);a.find("form[evergage-action]").each(function(){try{var t,n,e=ajq(this),o=e.attr("evergage-action");o&&(t=!Ot(e,"evergage-nocloseonsubmit"),n=!Ot(e,"evergage-nocloseonsubmit")&&!Ot(e,"evergage-nodismissonsubmit"),e.attr("name",o),e.on("submit",function(e){Evergage.trackEvergageMessageForm(e,!t,!n)}))}catch(e){he(e,"processEvergageFormAttributes")}}),(i=a).find("a").filter("[evergage-action],[evergage-dismissonclick],[evergage-hideonclick],[apptegictrackaction],[apptegicclosemessage]").each(function(){var e=ajq(this);e.attr("href")||e.attr("href","javascript:;");var t=e.attr("evergage-action")||e.attr("apptegictrackaction"),n=Ot(e,"evergage-dismissonclick")||Ot(e,"apptegicclosemessage"),o=n||Ot(e,"evergage-hideonclick");(t||n||o)&&e.on("click",function(){try{var e=i.qtip().options.bundle;n?ct(e):o&&gt(e.id),t&&(n?("number"==typeof vr[e.id]&&clearTimeout(vr[e.id]),vr[e.id]=setTimeout(function(){Pe(t),delete vr[e.id]},100)):Pe(t))}catch(e){he(e,"processEvergageAnchorAttributes")}})}),"callout"==t.target.renderType&&"Hover"==t.calloutOnEventType&&(r=Xt(t),e.unbind("mouseenter."+r,Pt),e.bind("mouseenter."+r,{bundle:t},Pt),e.unbind("mouseleave."+r,Dt),e.bind("mouseleave."+r,{bundle:t},Dt))}function Pt(e){try{var t=e.data.bundle.id;"number"==typeof Ui[t]&&(clearTimeout(Ui[t]),delete Ui[t])}catch(e){he(e,"mouseEnterCalloutInsertionContent")}}function Dt(e){try{gt("amb"+e.data.bundle.id,!0)}catch(e){he(e,"mouseLeaveCalloutInsertionContent")}}function Nt(e){return"#evergage-tooltip-amb"+(e=0===e.indexOf("amb")?e.substring(3):e)}function Ft(e){return ajq(Nt(e))}function Ot(e,t){t=e.attr(t);return b(t)&&"false"!==t}function _t(e){return ajq(".evergage-messageTarget-"+e)}function Bt(){ajq.each(Fi,function(e,t){Fi.hasOwnProperty(e)&&0===Dn(t.target.target+":visible").length&&!t.previewMode&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Hiding callout message "+Zn(t)+", as its target no longer exists."),delete Fi[e],gt(t.id))}),ajq.isEmptyObject(Fi)&&(clearInterval(dr),dr=-1)}function Ut(e,t){var n=(ajq(window).scrollTop()+Wt())/ajq(document).height()*100>=t.minimumPageScrollLength;return n&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+Zn(e)+", since user has scrolled at least "+t.minimumPageScrollLength+"% down the page."),n}function Wt(){return(document.doctype?ajq(window).height():0)||(window.innerHeight||document.body.clientHeight||0)}function Ht(){return(document.doctype?ajq(window).width():0)||(window.innerWidth||document.body.clientWidth||0)}function zt(e,t,n){var o=Xt(t);switch(t.calloutOnEventType){case"Hover":if(t.calloutOnHoverHighlightColor){if(!e.selector){ajq.log.shouldLog("WARN")&&console.log("Evergage: Target selector for "+t.id+' has no "selector" property - cannot enable hover on highlight.');break}var i,r="evergage-target-highlight-"+t.id;0===ajq("#"+r).length&&(i=t.calloutOnHoverHighlightColor,ajq("<style></style>").attr({id:r,type:"text/css"}).text("."+r+":hover {\n  -moz-transition: all .2s ease-in-out;\n  -webkit-transition: all .2s ease-in-out;\n  transition: all .2s ease-in-out;\n  -moz-box-shadow: inset 0 0 4px 2px "+i+";\n  -webkit-box-shadow: inset 0 0 4px 2px "+i+";\n  box-shadow: inset 0 0 4px 2px "+i+";\n  -moz-border-radius: 4px;\n  -webkit-border-radius: 4px;\n  -o-border-radius: 4px;\n  -ms-border-radius: 4px;\n  border-radius: 4px;\n}\n").appendTo("head"),Dn(e).addClass(r))}e.unbind("mouseenter."+o,Gt),e.bind("mouseenter."+o,{bundle:t,messageOptions:n},Gt),e.unbind("mouseleave."+o,Vt),e.bind("mouseleave."+o,{bundle:t},Vt),_i.push(e.selector);break;case"Click":Jt(e,t,n);break;default:ajq.log.shouldLog("WARN")&&console.log("Evergage: Unknown callout on event type for "+t.id+": "+t.calloutOnEventType)}}function Gt(e){try{var t=e.data;-1<ajq.inArray(t.messageOptions.bundle.id,ar)||(t.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=!0,ln(t.bundle,t.messageOptions))}catch(e){he(e,"mouseEnterForHoverCallout")}}function Vt(e){try{var t=e.data.bundle.id;"string"!=typeof t?ajq.log.shouldLog("WARN")&&console.log("Evergage: Unable to find the messageId when hovering out of insertion content for a callout."):Ui[t]=setTimeout(function(){try{gt("amb"+t,!0)}catch(e){he(e,"hideBundleDuringMouseLeaveForHoverCallout")}},250)}catch(e){he(e,"mouseLeaveForHoverCallout")}}function $t(e){try{var t=e.data;t.messageOptions.bundle.displayCalloutMessageWithInsertionContentNow=!0,function(e,o,i,r){ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Showing callout message...");var t=Xt(i);o.off("click."+t),ln(i,r),ajq(document).on("click."+t,null,e.data,function(e){try{var t,n;e.data&&e.data.isShowCalloutMessageClick?"#document"==e.delegateTarget.nodeName&&(e.data.isShowCalloutMessageClick=!1):(t=ajq("#evergage-tooltip-amb"+i.id),0===ajq(e.target).closest(t).length&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding callout message..."),n=Xt(i),ajq(document).off("click."+n),gt("amb"+i.id,!0),-1<ajq.inArray(i.id,ar)||Jt(o,i,r)))}catch(e){he(e,"showCalloutMessageOnClick")}})}(e,t.targetSelector,t.bundle,t.messageOptions)}catch(e){he(e,"calloutTargetClicked")}}function Jt(e,t,n){var o=Xt(t);e.unbind("click."+o,$t),e.bind("click."+o,{isShowCalloutMessageClick:!0,targetSelector:e,bundle:t,messageOptions:n},$t),Oi.push(e.selector)}function Xt(e){return"evergage-message-"+e.id}function Yt(){var e=ajq("#apptegicMessageContainerForToolbarEnabledPages");return e=0===e.length?ajq("#evergageMessageContainerForTestMode"):e}function Zt(t){if(!t.displayRetryScheduled){t.displayRetryScheduled=!0,ajq.log.shouldLog("TRACE")&&console.log("Evergage: Target for message ["+t.id+"] ("+t.target+") does not exist or is not visible - will continue to retry every half second...");for(var n=0;n<na.length;n++)try{na[n](t,t.target.target)}catch(e){he(e,"displayMessageRetryCallback"),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Display Message callback with error: "+na[n])}g("displayMessageRetryEvent",{bundle:t,bundleTarget:t.target.target})}"object"==typeof Jr[t.id]&&"number"==typeof Jr[t.id].timeout&&clearTimeout(Jr[t.id].timeout),n=window.setTimeout(function(){try{ut(t)}catch(e){he(e,"displayMessageAfterRetry"),ajq.log.shouldLog("WARN")&&console.log("Evergage: Exception trying to display the message ["+t.id+"].",e)}},500),Jr[t.id]={bundle:t,timeout:n},Vi.push(n)}function Kt(){ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Qt)}function Qt(e){try{(new Date).getTime(),"click"===e.type&&0===e.pageX&&0===e.pageY||("mousemove"===e.type&&(Wi=e.pageX-ajq(window).scrollLeft(),Hi=Ht()-e.pageX-ajq(window).scrollLeft(),zi=e.pageY-ajq(window).scrollTop(),Gi=Wt()-e.pageY-ajq(window).scrollTop()),ajq.each(Ji,function(e,t){en(t.bundle,t.inactivityMillis)}))}catch(e){he(e,"handleActivityEvent")}}function en(e,t){(new Date).getTime();var n=Ji[e.id];n&&q(n.timer)&&clearTimeout(n.timer);var o={};o.bundle=e,o.inactivityMillis=t,o.timer=setTimeout(function(){try{e=o.bundle.rulesByType.Inactivity,t=!1,y(e.mouseLocationValue)&&0!==e.mouseLocationValue?"top"===e.mouseLocationDirection&&-1!==zi?"px"===e.mouseLocationUnit?zi<=e.mouseLocationValue&&(t=!0):("%"!==e.mouseLocationUnit||0!==Wt()&&zi/Wt()<=e.mouseLocationValue/100)&&(t=!0):"bottom"===e.mouseLocationDirection&&-1!==Gi?"px"===e.mouseLocationUnit?Gi<=e.mouseLocationValue&&(t=!0):("%"!==e.mouseLocationUnit||0!==Wt()&&Gi/Wt()<=e.mouseLocationValue/100)&&(t=!0):"left"===e.mouseLocationDirection&&-1!==Wi?"px"===e.mouseLocationUnit?Wi<=e.mouseLocationValue&&(t=!0):("%"!==e.mouseLocationUnit||0!==Ht()&&Wi/Ht()<=e.mouseLocationValue/100)&&(t=!0):"right"===e.mouseLocationDirection&&-1!==Hi?"px"===e.mouseLocationUnit?Hi<=e.mouseLocationValue&&(t=!0):("%"!==e.mouseLocationUnit||0!==Ht()&&Hi/Ht()<=e.mouseLocationValue/100)&&(t=!0):t=!1:t=!0,t&&ut(o.bundle,function(){try{clearTimeout(Ji[o.bundle.id].timer),delete Ji[o.bundle.id],0===Ji.length&&Kt()}catch(e){he(e,"postDisplayCleanupForInactivityMessage")}},{shouldDisplayInactivityMessage:!0})}catch(e){he(e,"renderInactivityMessage")}var e,t},t),Ji[e.id]=o}function tn(e){var t,n;null!=ki[e]?(t=ki[e],null!==(n=on(e,!1))&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Rotating from "+Zn(ki[e])+" to "+Zn(n)+"..."),null!=Ni[ki[e]]&&Ni[ki[e]].hide(),Li.hasOwnProperty(t)&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Enqueuing "+Zn(ki[e])+" for later redisplay..."),an(Li[t],!0)))):ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not rotating message target "+e+", as all messages for this target have already closed.")}function nn(e){var t=on(e,!0);return null!==t?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Displaying next message in queue ("+Zn(t)+")..."),e=window.setTimeout(function(){ut(t)},1e3),Vi.push(e)):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: No messages remaining in queue."),null!==t}function on(e,t){var n=null;if(Ai.hasOwnProperty(e)){for(var o=Ai[e],i=o.length;0<o.length;){var r=o.shift();if(!0===ti.enableMessageRotation&&r.hasOwnProperty("htmlContent")){t||o.unshift(r),n=r;break}}o.length!=i&&rn(e,o)}return n}function rn(e,t){var o,n=Uo.messageRotation.ids.MessageQueue+e,e=de(n);0===t.length?ajq.evgjStorage.deleteKey(e):(o=[],ajq.each(t,function(e,t){var n={};n.id=t.id,o.push(n)}),fe(n,o))}function an(n,o){var e=Ai.hasOwnProperty(n.target.locationId)?Ai[n.target.locationId]:[],i=-1;ajq.each(e,function(e,t){if(t.id==n.id&&!o)return i=e,!1}),-1!=i?e[i]=n:e.push(n),rn(n.target.locationId,e)}function sn(e,t,n,o){var i;return(!e||0===e.length)&&("Rotate"==t.multiMessageDisplayMode&&delete ki[n.target.locationId],void 0===Bi[n.id]&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Unable to find page target for message ["+n.id+"] - will keep trying every few seconds in case it shows up after more of the page loads."),i=window.location.href,Bi[n.id]=window.setInterval(function(){return i!=window.location.href||void 0===Bi[n.id]||void(0<Dn(o.bundle.target).length&&ajq("#evergage-tooltip-amb"+n.id.toString()).length<1&&(ut(t),clearInterval(Bi[n.id]),delete Bi[n.id]))},1e3)),1)}function ln(e,t){if("Control"==e.userGroup)Be(e);else{ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing "+Zn(e)+"...");var n,o,i=e.target;switch(i.renderType){case"popup":ajq.fn.qtip.zindex=1000302,t.position.stack=i.popupLocation?i.popupLocation.toLowerCase():"topright";break;case"infobar":ajq.fn.qtip.zindex=1000202,t.position.stack=i.infobarLocation?i.infobarLocation.toLowerCase():"top";break;case"page":ajq.fn.qtip.zindex=1000002;var r=Dn(i.target);if(sn(r,e,e,t))return;t.position.container=r;break;case"callout":if(!0===e.calloutInMessageEditor&&(r=1==ajq("#previewContainer").length?"#previewContainer":"body",t.position.container=ajq(r),t.position.viewport=ajq(r)),ajq.fn.qtip.zindex=1000102,r=Dn(i.target),i.insertionContent&&((n=_t(i.locationId)).length||ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to find or create insertion target for "+e.id+".  It might be available later."),e.displayCalloutMessageWithInsertionContentNow&&(r=n)),sn(r,e,e,t))return;t.position.target=r,!0!==i.keepCalloutOpenWhenTargetHidden&&(Fi[e.id]=e),-1===dr&&(dr=setInterval(Bt,1e3)),r=["top","right","bottom","left"],n=i.calloutDirection?i.calloutDirection.toLowerCase():"bottom",t.position.at=n+" center",t.position.my=r[(ajq.inArray(n,r)+2)%4]+" center";break;default:ajq.log.shouldLog("WARN")&&console.log("Evergage: Unknown message render type: "+i.renderType)}(r=Ft(e.id))&&1==r.length&&"object"==typeof r.data("qtip")?(t.content.title&&t.content.title.button&&!t.content.title.text&&(t.content.title.text=" "),function(e,t,n){if(e.qtip()&&e.qtip().options&&e.qtip().options.content){if(t.legacy){t=window.JSON.stringify(e.qtip().options.content.title)!=window.JSON.stringify(n.content.title);var o=window.JSON.stringify(e.qtip().options.content.text)!=window.JSON.stringify(n.content.text);return t||o&&!(e.qtip().options.content.text instanceof ajq)&&!(n.content.text instanceof ajq)}return t=e.qtip().options.content.fullcontents||e.qtip().options.content.fullContents,window.JSON.stringify(t)!=window.JSON.stringify(n.content.fullContents)&&!(e.qtip().options.content.fullContents instanceof ajq)}}(r,e,t)&&ajq.updateMessage("#evergage-tooltip-"+t.id,t,r.qtip().options),"page"==i.renderType&&(r.addClass("evergage-tooltip-page"),r.css({top:0}),!0==(l=(s=t).position&&!0===s.position.replaceContainer||s.bundle&&s.bundle.replaceExistingContent&&!0===s.bundle.inlineReplaceContainer,!(!s.bundle||!0!==s.bundle.replaceExistingContent||!0===s.bundle.isPreviewModeContainerReplacement||!0===s.bundle.isPreviewModeInlineRespectMessageSize||!0===s.bundle.inlineRespectMessageSize||l))&&r.addClass("evergage-tooltip-page-replace")),(o=ajq("#evergage-tooltip-amb"+e.id+":visible"))&&1==o.length&&"object"==typeof o.data("qtip")&&!e.isExternalPromotedContent||Mt(r,e),r.qtip("show"),r.css({opacity:1})):("page"==i.renderType&&(r=!0,s=Dn(i.target),l="img",s&&l&&I(s)===l.toLowerCase()&&(i.inlineReplaceContainer=!(r=!1)),r||!0===i.inlineRespectMessageSize||(t.style.width=ajq(i.target).outerWidth()+"px",t.style.height=ajq(i.target).outerHeight()+"px"),i.replaceExistingContent?(!0===i.inlineReplaceContainer&&(a=i.locationId,(a=ajq("<div></div>").attr("id",a).css("width",1)).addClass("evergage-temp-placeholder"),o=a,t.position.replaceContainer=!0),!0!==i.inlineReplaceContainer?(t.position.ignoreTargetVisibilityCheck=function(e){for(var t=I(e=Dn(e)),n=!1,o="a h1 h2 h3 h4 h5 h6 span".split(" "),i=0;i<o.length;i++)if(o[i]===t.toLowerCase()){n=!0;break}return!!n&&(e&&e.length&&!e.is(":hidden"))}(i.target),s=i.locationId,l=i.target,(a=Dn(l).contents()).length&&(ajq.log.shouldLog("DEBUG")&&console.log("Stashing existing content of inline target ["+l+"]..."),Di[s]=a.detach())):(t.bundle.existingStyles=Dn(i.target).get(0).style.cssText,function(e,t,n){var o=Dn(t);{var i,r;o.length&&(i=o.width(),r=o.height(),"number"==typeof i&&0<i&&Dn(n).css("width",i),"number"==typeof r&&0<r&&Dn(n).css("height",r),ajq.log.shouldLog("DEBUG")&&console.log("Stashing existing content of inline target ["+t+"]..."),Di[e]=o.replaceWith(n))}}(i.locationId,i.target,o))):!0!==r&&Dn(i.target).after(o),i.replaceExistingContent&&i.inlineReplaceContainer||!0!==r)&&(i.originalTargetSelector=i.target,i.target="#"+i.locationId,t.position.container=ajq(i.target)),"Rotate"==e.target.multiMessageDisplayMode&&(ki[i.locationId]=e.id),!0!==$r&&!0===e.shouldDelayReshowPersonalizedSectionsForMessage&&Ki.push(e.id),ajq.qtipGrowl(t)),!1!==t.show.ready&&(o=Ri[e.id]=window.setTimeout(function(){ajq("#evergage-tooltip-"+t.id).is(":visible")||(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Showing message["+e.id+"], as it was not shown on page load..."),ajq("#evergage-tooltip-"+t.id).qtip("show"),ajq("#evergage-tooltip-"+t.id).css("opacity",1))},500),Vi.push(o)),"Rotate"==i.multiMessageDisplayMode&&1e3<i.multiMessageRotateDelayMillis&&!Pi.hasOwnProperty(i.locationId)&&(Pi[i.locationId]&&clearInterval(Pi[i.locationId]),Pi[i.locationId]=setInterval(function(){tn(i.locationId)},i.multiMessageRotateDelayMillis)),e.messageShownTime=(new Date).getTime(),Li[e.id]=e}var a,s,l}function cn(e){(e=e.target).insertionLocation||(e.insertionLocation="LastChild");var t,n=_t(e.locationId);if(0<n.length)return n;if(0===(n=Dn(e.target)).length)return[];switch(e.insertionLocation){case"FirstChild":case"LastChild":t=n;break;case"PreviousSibling":case"NextSibling":t=n.parent();break;default:return[]}var o="evergage-messageTarget-"+e.locationId,i=t.find("."+o);if(!i.length)switch(i=ajq.parseHTML(e.insertionContent),i=1==i.length&&1==i[0].nodeType?ajq(e.insertionContent):ajq("<div></div>").css("display","inline-block").append(e.insertionContent),i.addClass("evergage-insertionTarget "+o),e.insertionLocation){case"FirstChild":t.prepend(i);break;case"LastChild":t.append(i);break;case"PreviousSibling":n.before(i);break;case"NextSibling":n.after(i);break;default:return[]}return ajq("."+o)}function gn(e,t){var n,o=Di[e];o&&o.length&&((n=Dn(t)).length&&(ajq.log.shouldLog("DEBUG")&&console.log("Restoring stashed content in inline target ["+t+"]..."),n.first().append(o),delete Di[e]))}function un(o){var i,r,e=o.taskList,t=o.legacy?o.legacy.completionTemplate:e.completionHtmlContent;return dn(o)&&""!==(t||"")?i=t:(i="<"+(t=e.ordered?"ol":"ul")+">",r=o.completedTaskActions||[],ajq.each(e.tasks||[],function(e,t){i+="<li";var n=0<=r.indexOf(t.action);i+=' class="'+(o.legacy?n?"evergage-tasklistitem-done":"evergage-tasklistitem-notdone":n?"evergage-task-done":"evergage-task-notdone")+'"',t.description&&(i+=' title="'+t.description+'"'),i+=">",t.link&&(i+='<a href="'+t.link+'">'),i+=t.label,t.link&&(i+="</a>"),i+="</li>"}),i+="</"+t+">"),i}function dn(e){return(e.completedTaskActions||[]).length==(e.taskList.tasks||[]).length}function pn(e){return ti.runningInMobileApp?(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: URL/page title action mapping is disabled when beacon is running within phonegap."),null):y(e=Jn(e.pages))&&!w(e.action)?e.action:null}function fn(){try{var e;!0!==qr&&(X()?p("Evergage: Beacon detected page is prerendered - initialization aborted."):ti.useSiteConfig&&(mr?ajq.log.shouldLog("INFO")&&console.log("Evergage: Site config request already pending - not queueing up a second request."):1!=oi&&(T(gr)?(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Downloading site config..."),Ke(!1),e={url:si+"/api/dataset/"+ai+"/siteConfig"+Ke(!1),dataType:"json",jsonp:!1,crossDomain:!0,beforeSend:function(){return mr=!0},success:hn,complete:function(){return!(mr=!1)},error:function(e,t,n){!0!==qr&&(e=me("siteConfig",e,n),he(Error(e),"executeSiteConfiguration"),ajq.log.shouldLog("WARN")&&console.log("Evergage: Error downloading site config: "+t),ur&&(st(),ur=!1))}},ajq.ajax(e)):xn(null))))}catch(e){he(e,"executeSiteConfiguration")}}function hn(e){xn(e)}function mn(e){gr=e,yn()}function vn(){gr.account&&!y(ri)&&ri!==gr.account&&(ri=gr.account),gr.dataset&&!y(ai)&&ai!==gr.dataset&&(ai=gr.dataset)}function yn(){fi=gr.beaconConfig&&!0===gr.beaconConfig.showPoweredBy,pi=!0===gr.twoWayEnabled,gr.trackAnonymousUsers&&!y(ti.trackAnonymous)&&(ti.trackAnonymous=gr.trackAnonymousUsers),gr.trackAccounts&&!y(ti.trackAccounts)&&(ti.trackAccounts=gr.trackAccounts),gr.trackUnknownPages&&!y(ti.trackUnknownPages)&&(ti.trackUnknownPages=gr.trackUnknownPages),gr.treatHashChangeAsPageLoad&&!y(ti.treatHashChangeAsPageLoad)&&(ti.treatHashChangeAsPageLoad=gr.treatHashChangeAsPageLoad),gr.siteConfigExecBeforePageReady&&!y(ti.siteConfigExecBeforePageReady)&&(ti.siteConfigExecBeforePageReady=gr.siteConfigExecBeforePageReady),gr.hideContentSectionsList&&!y(ti.hideContentSectionsList)&&(ti.hideContentSectionsList=gr.hideContentSectionsList),gr.beaconConfig&&gr.beaconConfig.hideContentSections&&!y(ti.hideContentSections)&&(ti.hideContentSections=gr.beaconConfig.hideContentSections),gr.beaconConfig&&gr.beaconConfig.sendErrorEvents&&!y(ti.sendErrorEvents)&&(ti.sendErrorEvents=gr.beaconConfig.sendErrorEvents),gr.beaconConfig&&gr.beaconConfig.hideContentSectionsMillis&&!y(ti.hideContentSectionsMillis)&&(ti.hideContentSectionsMillis=gr.beaconConfig.hideContentSectionsMillis),gr.beaconConfig&&gr.beaconConfig.enableRememberMeUserIds&&!y(ti.enableRememberMeUserIds)&&(ti.enableRememberMeUserIds=gr.beaconConfig.enableRememberMeUserIds),gr.beaconConfig&&gr.beaconConfig.rememberMeUserIdsMillis&&(ti.rememberMeUserIdsMillis=gr.beaconConfig.rememberMeUserIdsMillis),gr.beaconConfig&&!y(ti.preventSensitiveDataCapture)&&(ti.preventSensitiveDataCapture=gr.beaconConfig.preventSensitiveDataCapture),gr.beaconConfig&&!y(ti.enableMessageRotation)&&(ti.enableMessageRotation=gr.beaconConfig.enableMessageRotation),gr.beaconConfig&&!y(ti.trackContextualRelatedItems)&&(ti.trackContextualRelatedItems=gr.beaconConfig.trackContextualRelatedItems),gr.beaconConfig&&!y(ti.doNotTrackPingRequestsForActions)&&(ti.doNotTrackPingRequestsForActions=gr.beaconConfig.doNotTrackPingRequestsForActions),gr.hidePageBeforeRedirectList&&!y(ti.hidePageBeforeRedirectList)&&(ti.hidePageBeforeRedirectList=gr.hidePageBeforeRedirectList),gr.beaconConfig&&gr.beaconConfig.hidePagesForRedirect&&!y(ti.hidePagesForRedirect)&&(ti.hidePagesForRedirect=gr.beaconConfig.hidePagesForRedirect),gr.beaconConfig&&gr.beaconConfig.hidePagesForRedirectMillis&&!y(ti.hidePagesForRedirectMillis)&&(ti.hidePagesForRedirectMillis=gr.beaconConfig.hidePagesForRedirectMillis),gr.beaconConfig&&gr.beaconConfig.disableQtipWindowScroll&&!y(ti.disableQtipWindowScroll)&&(ti.disableQtipWindowScroll=gr.beaconConfig.disableQtipWindowScroll),gr.googleAnalyticsIntegrationConfig&&gr.googleAnalyticsIntegrationConfig.enabled&&!y(ti.googleAnalyticsIntegrationConfig)&&(ti.googleAnalyticsIntegrationConfig=gr.googleAnalyticsIntegrationConfig),gr.beaconConfig&&!y(ti.doNotStoreCookiesRequireProvidedAnonId)&&(ti.doNotStoreCookiesRequireProvidedAnonId=gr.beaconConfig.doNotStoreCookiesRequireProvidedAnonId),gr.beaconConfig&&gr.beaconConfig.actionRateLimiterConfig&&(ti.actionRateLimiterConfig=gr.beaconConfig.actionRateLimiterConfig),gr.beaconConfig&&gr.beaconConfig.spaRouteChangeTimeout&&(ti.spaRouteChangeTimeout=gr.beaconConfig.spaRouteChangeTimeout),gr.beaconConfig&&!y(ti.enableTemplateEsc)&&(ti.enableTemplateEsc=gr.beaconConfig.enableTemplateEsc),gr.beaconConfig&&!y(ti.allowBotTraffic)&&(ti.allowBotTraffic=gr.beaconConfig.allowBotTraffic),vn(),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Event responses are "+(pi?"enabled":"disabled")+"."),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Site config: ",gr)}function wn(e){ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing site config (updated="+!!e+")..."),ajq.checkTrimNative(),e&&mn(e),ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Page Detected"),e=Jn(gr.pages),ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Page Detected"),ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Clicks Detected"),pr=[],fr=[],ajq(document).unbind("click",Bn),Mn(gr,e,!1),ajq.log.shouldTestPerf("MODERATE")&&console.timeEnd("Evergage: Clicks Detected");var t=[];null!=gr.globalForms&&(t=ajq.merge(t,gr.globalForms)),Tr=gr.globalFields,e&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Page detected ["+e.action+"]"),Ir=e.fields,null!=e.forms&&(t=ajq.merge(t,e.forms))),bn(),Un(t);var n=gr.userIdAtLoginField,o=t;if(n&&n.match){var i=Dn(n.match);if(0===i.length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Failed to detect the User Id via Login field with selector ["+n+"]");else if(2<=i.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for the User Id via Login field with selector ["+n+"], using first"),i=ajq(i.get(0).form).get(0)){for(var r=!1,a=0;a<o.length;a++)if(Dn(o[a].match).get(0)==i){for(var r=!0,s=0;s<o[a].formFields.length;s++)"userId"==o[a].formFields[s].name&&(r=!0);o[a].formFields.push(n)}r||((i={}).match=n.match,i.name=null,i.isUserIdAtLogin=!0,i.formFields=[],i.formFields.push(n),o.push(i))}}return zn(Sr=t),ti.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Not attempting to poll for missing clicks and fields while in phonegap."):("number"==typeof sr&&clearInterval(sr),sr=setInterval(function(){var e=(new Date).getTime(),t=Jn(gr.pages,!0);Mn(gr,t,!0),zn(Sr),50<(new Date).getTime()-e&&(clearInterval(sr),sr=null)},1e3)),!ro("company")&&gr.beaconConfig&&!0===gr.beaconConfig.trackSubdomainAsCompany&&uo("company",(t=W(gi)).substring(0,t.indexOf(".")),Evergage.Scope.Page),e}function bn(){ti.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Field capturing is disabled when beacon is running within phonegap."):null!=gr&&(ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Fields Detected"),Gn(Tr),Gn(Ir),ajq.log.shouldTestPerf("MODERATE")&&console.time("Evergage: Fields Detected"))}function xn(e,t){var n,o;!0!==qr&&(Evergage.util.getParameterByName("simulate")||("string"==typeof(n=Evergage.util.getParameterByName("evg_persisted_user_id"))&&""!==n&&(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Setting user to persisted user ID from query parameter"),jo(),co("_persistedUserId",n)),(n=Evergage.util.getParameterByName("evg_anon_id"))!=(o=Ae().uuid)&&To(n)&&uo(".prevAnonId",o,Evergage.Scope.Request)),x(window.evergageBeforeSiteConfigExecution)&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Executing site global JavaScript..."),window.evergageBeforeSiteConfigExecution()),!0!==qr&&(j(window.evergageSiteWideStyles)&&""!==window.evergageSiteWideStyles&&(ajq.log.shouldLog("INFO")&&console.log("Evergage: Inserting site global CSS styles..."),n=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("style")).type="text/css",o.setAttribute("class","evergageCampaignStyles"),o.styleSheet?o.styleSheet.cssText=window.evergageSiteWideStyles:o.appendChild(document.createTextNode(window.evergageSiteWideStyles)),n.appendChild(o),qi=Ti=!0),ajq.log.shouldTestPerf("BASIC")&&console.time("Evergage: Beacon Setup"),d(),Cn(n=wn(e),t),ajq.log.shouldTestPerf("BASIC")&&console.timeEnd("Evergage: Beacon Setup"),oi=!0))}function En(){clearInterval(sa),la=0,sa=setInterval(function(){try{++la<=60&&(ra||aa)?"object"==typeof window.Evergage&&"function"==typeof window.Evergage.loadTimeValuesReadyToSend&&Evergage.loadTimeValuesReadyToSend()&&(jn(),clearInterval(sa),la=0):(clearInterval(sa),la=0)}catch(e){he(e,"setupLoadTimeInterval")}},ti.loadTimeIntervalDelay)}function Cn(e,t,n){ha.canBeFiredYet=!0,t||((t=!(t=!(t=e?e.action:t)&&ha.actionName?ha.actionName:t)&&Br?Br:t)||!0!==ti.trackUnknownPages||(t=le(ae()))),e={},Br&&Pr&&(e[".itemAction"]=Br,e[".item"]=window.JSON.stringify(Pr),Dr&&(e[".itemSku"]=window.JSON.stringify(Dr))),qn(t);try{var o,i;if(ra&&0<(a=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd"))&&(e[".dt"]=a,ra=!1),!aa||0<(o=Evergage.getTimeSincePageInitForVariable("loadEventEnd"))&&(e[".lt"]=o,aa=!1),"number"==typeof window.evergageBeaconParseTimeStart&&"number"==typeof window.evergageBeaconParseTimeEnd&&(i=window.evergageBeaconParseTimeEnd-window.evergageBeaconParseTimeStart,ajq.log.shouldTestPerf("MODERATE")&&console.log("Evergage: Beacon Parse Time"+i),"number"==typeof i&&(e[".pt"]=i)),"object"==typeof window.performance&&"function"==typeof window.performance.getEntries)for(var r=window.performance.getEntries(),a=0;a<r.length;a++){var s,l,c=r[a];/\/evergage(Small)?(\.min)?\.js$/.test(c.name)&&(ajq.log.shouldTestPerf("RIGOROUS")&&console.log("Evergage: Beacon Network Load Time "+c.duration+"ms"),0<(s=Math.round(c.duration))&&(e[".bt"]=s),0<(l=Math.round(c.domainLookupEnd-c.domainLookupStart))&&(e[".btdns"]=l))}}catch(e){}!0===n||Ln(e,!1)?(ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Send Event"),e[".pv"]="",ha.eventSendInProcess=!0,Pe(t,e),ha.eventSendInProcess=!1,ha.hasBeenFired=!0,ha.actionName=null,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Send Event")):ha.actionName=t}function jn(){xo(),i()}function qn(e){ti.doNotTrackPingRequestsForActions||(xo(!0),null!=e&&""!==e&&(Or=e),i())}function Tn(){return!0!==ha.hasBeenFired&&(ha.waitingOn.promoteCallback=!0)}function In(e){Sn(),Ln(null,!1)&&(ha.hasBeenFired?ajq.log.shouldLog("WARN")&&console.log("Evergage: Page load event has already been fired."):!0!==e&&po())}function Sn(){window.clearTimeout(ha.storedTimeout),ha.storedTimeout=-1,ha.timeoutDuration=100,ha.timerStart=0,ha.maxTimeout=0,ha.waitingOn.promoteCallback=!1}function kn(e,t){var n=!1;try{n=e.apply(this,t?[!0]:[])}catch(e){he(e,"invokeDataCollectionFunction"),n=!0}return n}function An(e,t){var n,o,i=(new Date).getTime();!0===kn(e,!1)?In(t):(n=(new Date).getTime()-ha.timerStart,ajq.log.shouldLog("TRACE")&&console.log("Evergage: pageLoadEventTimeout has been trying for "+n+"ms"),n>=ha.maxTimeout?(ajq.log.shouldLog("INFO")&&console.log("The delayed page load event never returned true by the time the ["+ha.maxTimeout+"ms] max timeout was hit.  Sending the page load action now.."),kn(e,!0),In(t)):250<=(i=(new Date).getTime()-i)?(ajq.log.shouldLog("WARN")&&console.log("The delayed page load event function took too long ["+i+"ms], so we will not be attempting to call it again."),In(t)):(ajq.log.shouldLog("TRACE")&&console.log("The delayed page load event function took ["+i+"ms]."),window.clearTimeout(ha.storedTimeout),ha.storedTimeout=-1,i>ha.timeoutDuration/3&&(ha.timeoutDuration=4*i,ajq.log.shouldLog("WARN")&&console.log("The delayed page load event function took ["+i+"ms], so we will be increasing the timeout duration to ["+ha.timeoutDuration+"ms].")),o=e,-1!==ha.storedTimeout?ajq.log.shouldLog("WARN")&&console.log("Evergage: A delayed page load event timeout has already been setup."):ha.storedTimeout=window.setTimeout(function(){An(o)},ha.timeoutDuration)))}function Ln(e,t){var n;if(n=Rn(e,t))e:{for(var o in ha.waitingOn)if(ha.waitingOn.hasOwnProperty(o)&&!0===ha.waitingOn[o]){n=!1;break e}n=!0}return n&&!0===ha.canBeFiredYet}function Rn(e,t){ha.waitingOn.credentials=!1;var n=e;return(n="number"==typeof(n=null==n||!0!==t?Re([],n):n).length?Oe(n):n).hasOwnProperty("userId")||n.hasOwnProperty("_persistedUserId")||n.hasOwnProperty(".anonId")?(!ti.trackAccounts||n.hasOwnProperty("company")||n.hasOwnProperty("_persistedAccountId")||n.hasOwnProperty("_anon"),!0):(ajq.log.shouldLog("WARN")&&console.log("Evergage: [WARNING] Ignoring attempt to send event with no user ID. ",Oe(e)),!(ha.waitingOn.credentials=!0))}function Mn(e,t,n){ti.runningInMobileApp?ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Click tracking is disabled when beacon is running within phonegap."):(Pn(e.globalPageActions,n),t&&Pn(t.pageActions,n))}function Pn(e,t){if(e)for(var n=0;n<e.length;n++){var o=e[n],i=t;if(!w(o.match)){var r=Dn(o.match);if(0===r.length&&!0!==i&&ajq.log.shouldLog("TRACE")&&console.log("Evergage: Unable to find page action ["+o.name+"] target ["+o.match+"], may be added later"),o={action:o.name,hasBeenHandledByEvergage:!1},0<r.length)for(var a=0;a<r.length;a++)!0!==ajq.data(r.get(a),"evergageClickInstrumented")&&(!0!==i&&ajq(r.get(a)).off("click",Bn),ajq(r.get(a)).on("click",o,Bn),ajq.data(r.get(a),"evergageClickInstrumented",!0),pr.push(r.get(a)))}}}function Dn(t){try{return ajq(t)}catch(e){return-1!==e.message.indexOf("Syntax error, unrecognized expression:")?(he(e,"jQueryObjectSyntaxError"),ajq.log.shouldLog("WARN")&&console.log('Evergage: There was an error parsing the expression: "'+t+'".')):he(e,"jQueryObjectUnknownError"),ajq()}}function Nn(){var e=window,t=L;e.removeEventListener?e.removeEventListener("beforeunload",t,!1):e.detachEvent&&e.detachEvent("onbeforeunload",t),ajq(window).unbind("blur.evergage",c),ajq(window).unbind("focus.evergage",u),ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",l),ajq(document).unbind("mousemove.evergage keydown.evergage scroll.evergage click.evergage",Qt),ajq(window).unbind("resize.evergage",s),ajq(document).unbind("scroll.evergage",s),_n(),Fn(),function(){clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,clearTimeout(Rr),Rr=-1,clearTimeout(Xr),Xr=-1,On(vr),M(Jr,function(e,t){clearTimeout(t.timeout),delete Jr[e]}),Sn(),On(yr),On(wr),clearTimeout(zr),zr=-1;for(var e=0;e<br;e++)clearTimeout(br[e]);for(br=[],e=0;e<xr;e++)clearInterval(xr[e]);xr=[],clearInterval(dr),dr=-1,ajq(window).unbind("hashchange",rt),clearInterval(ca),ca=-1}()}function Fn(){for(var e=0;e<Cr.length;e++)clearTimeout(Cr[e]);Cr=[],"number"==typeof sr&&clearInterval(sr),sr=null,clearTimeout(Lr),Lr=-1,clearInterval(sa),sa=-1}function On(n){M(n,function(e,t){clearTimeout(t),delete n[e]})}function _n(){ajq(document).unbind("click",Bn),ajq.each(pr,function(e,t){Dn(t).off("click",Bn),ajq.removeData(Dn(t)[0],"evergageClickInstrumented")}),ajq.each(fr,function(e,t){Dn(t.match).off("submit",Hn)}),ajq.each(Oi,function(e,t){Dn(t).unbind("click",$t)}),ajq.each(_i,function(e,t){Dn(t).unbind("mouseenter",Gt),Dn(t).unbind("mouseleave",Vt)}),ajq.each(hr,function(e,t){Dn(t).off("click.evergagePageChangeClickthrough")})}function Bn(e){try{"#document"!=e.delegateTarget.nodeName||null!==e.data&&!0!==e.data.hasBeenHandledByEvergage?(ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Click Event Sent"),ajq.log.shouldLog("INFO")&&console.log("Evergage: Detected page action click ["+e.data.action+"]"),Pe(e.data.action,{},!0),e.data.hasBeenHandledByEvergage=!0,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Click Event Sent")):e.data.hasBeenHandledByEvergage=!1}catch(e){he(e,"handlePageActionClick")}}function Un(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)y(Dn(e[t].match).get(0))&&Dn(e[t].match).get(0)==Dn(e[n].match).get(0)&&t!=n&&(null!=e[n].formFields&&0<e[n].formFields.length&&(e[t].formFields=ajq.merge(e[t].formFields,e[n].formFields)),e.splice(n,1),--n<t&&t--)}function Wn(e){for(var t=0;t<e.formFields.length;t++){var n=Vn(e,e.formFields[t]);n&&("userId"==e.formFields[t].name||"company"==e.formFields[t].name?(lo(e.formFields[t].name,n),ho()):uo(e.formFields[t].name,n,Evergage.Scope.Request))}}function Hn(e){try{var t=e.data[0],n=e.data[1];Wn(n),n.name&&Pe(n.name,{},!1,!0),x(t.get(0).originalOnsubmitForEvergageFormFieldTracking)&&t.get(0).originalOnsubmitForEvergageFormFieldTracking()}catch(e){he(e,"handleFormSubmit")}}function zn(e){for(var t=0;t<e.length;t++){var n,o=e[t],i=Dn(o.match);0===(i=!0===o.isUserIdAtLogin?i.parents("form"):i).length?ajq.log.shouldLog("TRACE")&&console.log("Evergage: Failed to detect the form with selector ["+o.match+"] used to track form fields."):(2<=i.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for the form with selector ["+o.match+"], using first."),!0!==ajq.data(i.get(0),"evergageFormInstrumented")&&(i.get(0).originalOnsubmitForEvergageFormFieldTracking||(i.get(0).originalOnsubmitForEvergageFormFieldTracking=i.get(0).onsubmit),(n=i).off("submit",Hn),n.on("submit",[n,o],Hn),fr.push(o),ajq.data(i.get(0),"evergageFormInstrumented",!0)))}}function Gn(e){if(e)for(var t=0;t<e.length;t++){var n,o=$n(e[t]);o&&(n=e[t].sendOncePerPage?Evergage.Scope.Request:Evergage.Scope.Page,"userId"==e[t].name||"company"==e[t].name?lo(e[t].name,o)&&(e.splice(t,1),ho()):uo(e[t].name,o,n)&&n===Evergage.Scope.Request&&(e.splice(t,1),t--))}}function Vn(e,t){var n=ajq.extend(!0,{},t);return!0!==e.isUserIdAtLogin&&(n.match=e.match+" "+t.match),$n(n)}function $n(e){var t=Dn(e.match);if(0===t.length)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Failed to detect property ["+e.name+"] with selector ["+e.match+"]"),null;1<t.length&&ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Detected multiple matches for property ["+e.name+"] with selector ["+e.match+"], using first");var n=t[0].tagName.toLowerCase(),o="";if(-1!=ajq.inArray(n,["input","select","textarea"])){if("input"==n&&("radio"==t[0].type||"checkbox"==t[0].type)&&0===(t=t.filter(":checked")).length)return null;if((o=t.val())instanceof Array&&(o=o.toString()),"input"==n&&"password"==t[0].type)return null}else o=t.text();if(o=ajq.trim(o),e.expression&&(e=Xn(e.expression,o))&&1<e.length)for(o="",t=1;t<e.length;t++)o+=e[t];return ajq.trim(o).substring(0,1024)}function Jn(e,t){var n,o,i=null;return e&&ajq.each(e,function(e,t){var n;return(n=!t.matchType||"url"==t.matchType)&&(n=window.location.protocol+"//"+window.location.host,n=re().substring(n.length),n=!!(t.urlRegex&&Xn(t.urlRegex,n,t.ignoreCaseForRegexMatch)&&Yn(t,W(window.location.hostname)))),n?(i=t,!1):((n="title"==t.matchType)&&(n=ajq.trim(document.title).replace(/\s{2,}/g," "),n=!!(t.titleRegex&&Xn(t.titleRegex,n,t.ignoreCaseForRegexMatch)&&Yn(t,W(window.location.hostname)))),n?(i=t,!1):void 0)}),i?ajq.log.shouldLog("INFO")&&!0!==t&&console.log("Evergage: Page mapped to action ["+i.action+"] (matched via "+i.matchType+")."):(e=e,n=ha.actionName,i=null===n||""===n?null:(e&&ajq.each(e,function(e,t){if(t.action===n)return o=t,!1}),o&&ajq.log.shouldLog("INFO")&&console.log("Evergage: Page mapped to action ["+n+"] manually."),o)),i}function Xn(e,t,n){try{return!0===n?t.match(new RegExp(e,"i")):t.match(new RegExp(e))}catch(e){return he(e,"matchWithRegexp"),!1}}function Yn(e,t){if(!0!==e.domainMatchRequired)return 1;if(e.domainsMatched)for(var n=0;n<e.domainsMatched.length;n++)if(e.domainsMatched[n]==t)return 1}function Zn(e){return"message{id="+e.id+', experience="'+(e.experienceName||"")+'", campaign="'+(e.campaignName||"")+'"}'}function Kn(e){return'experience="'+(e.experienceName||"")+'", campaign="'+(e.campaignName||"")+'"}'}function Qn(e){var n,t,o={};n=o,(t=e)&&ajq.each(t,function(e,t){t.hasOwnProperty("name")&&t.hasOwnProperty("value")&&(n[t.name]=t.value)}),ti.notifyIntegratorOfEvents&&!0===ti.notifyIntegratorOfEvents&&(0===ajq("#dataToSendToEvergageIntegratorDiv").length&&(e=ajq("<div></div>").attr("id","dataToSendToEvergageIntegratorDiv").css("display","none"),ajq("body").append(e)),e={actionType:"apptegicEvent",eventDetails:o},(t=document.createEvent("CustomEvent")).initCustomEvent("dataToEvergageIntegrator",!0,!0,e),document.getElementById("dataToSendToEvergageIntegratorDiv").dispatchEvent(t)),ajq.log.shouldLog("INFO")&&console.log("Evergage: Event sent to server: ",o)}function eo(){try{!0===rr?ajq.log.shouldLog("INFO")&&console.log("Evergage: Now Redisplaying page marked for redirect because we are in the middle of a redirect"):(ajq("head > style.evergageRedirectedPageHidden").remove(),clearTimeout(zr),zr=-1,ajq.log.shouldLog("INFO")&&console.log("Evergage: Redisplaying page marked for redirect."))}catch(e){he(e,"reshowHiddenPageForRedirectNow")}}function to(e){var f;if(window.location==window.top.location)f=window.location.href;else{try{f=window.top.location.href}catch(e){f=null}f=f||document.referrer}var h={},m=e.ignoreCase;return ajq.each(e,function(e,t){switch(e){case"inclusionUrlSubstrings":l=f,c=h,g=t,u=m,p={exists:!1,matched:!1},ajq.isArray(g)&&0<g.length&&(p.exists=!0,d=l.toUpperCase(),ajq.each(g,function(e,t){if(p.matched=u?-1<d.indexOf(t.toUpperCase()):-1<l.indexOf(t),p.matched)return!1})),c.inclusions=p;break;case"exclusionUrlSubstrings":n=f,o=h,i=t,r=m,s={exists:!1,matched:!1},ajq.isArray(i)&&0<i.length&&(a=n.toUpperCase(),s.exists=!0,ajq.each(i,function(e,t){if(s.matched=r?-1<a.indexOf(t.toUpperCase()):-1<n.indexOf(t),s.matched)return!1})),o.exclusions=s;break;case"pathIsExactly":c={exists:!1,matched:!1},i=Evergage.util.getPathname(f);t&&"string"==typeof t&&(o=i.toUpperCase(),c.exists=!0,c.matched=m?o===t.toUpperCase():i===t),h.pathIsExactly=c}var n,o,i,r,a,s,l,c,g,u,d,p}),h}function no(){try{"function"==typeof window.requestAnimationFrame?(ajq.log.shouldLog("INFO")&&console.log("Evergage: Scheduling for next animation frame redisplay of sections of the page marked for personalization."),window.Evergage&&window.Evergage.util&&window.Evergage.util.reshowPersonalizedSectionsNow?window.requestAnimationFrame(window.Evergage.util.reshowPersonalizedSectionsNow):window.requestAnimationFrame(oo)):window.Evergage&&window.Evergage.util&&window.Evergage.util.reshowPersonalizedSectionsNow?window.Evergage.util.reshowPersonalizedSectionsNow():oo(),eo()}catch(e){he(e,"reshowPersonalizedSections")}}function oo(){try{ajq("head > style.evergagePersonalizationSections").remove(),ajq.log.shouldLog("INFO")&&console.log("Evergage: Redisplaying sections of the page marked for personalization.")}catch(e){he(e,"reshowPersonalizedSectionsNow")}}function io(e,t){return(t=y(t)?t.toLowerCase():Evergage.Scope.Visit)!==Evergage.Scope.Visit&&t!==Evergage.Scope.Page&&t!==Evergage.Scope.Request?(ajq.log.shouldLog("WARN")&&console.log("Evergage: ["+t+"] is not a valid scope.  Field ["+e+"] not set."),!1):t}function ro(e,t){var n;return t=io(e,t),-1!==ajq.inArray(e,Go)?n=mi[e]:t===Evergage.Scope.Page?n=yi[e]:t===Evergage.Scope.Visit?n=vi[e]:t===Evergage.Scope.Request&&(n=wi[e]),!(!b(n)||n&&""===n[0])&&n}function ao(e,t){y(ro(e,t=io(e,t)))&&(-1!==ajq.inArray(e,Go)?(je(),lo(e,null),delete vi[e],ho()):t===Evergage.Scope.Visit?(je(),delete vi[e],Ie()):t===Evergage.Scope.Page?delete yi[e]:t===Evergage.Scope.Request&&delete wi[e])}function so(e,t,n){uo(e,t,n,"account")}function lo(e,t){if(je(),"userId"===e){var n=fo("userId","_userIdHashSalt","_userIdHash","_persistedUserId",t);if(!n)return!1}else if("company"===e&&!(n=fo("company","_accountIdHashSalt","_accountIdHash","_persistedAccountId",t)))return!1;return!0!==ha.eventSendInProcess&&Ln(null,!1)&&po(),!0}function co(e,t){"_persistedUserId"===e?(mi._persistedUserId=t,delete mi.userId,ho()):"_persistedAccountId"===e&&(mi._persistedAccountId=t,delete mi.company,ho())}function go(e,t){j(t=!y(t)?"":t)||(t=String(t));var n=ajq.trim(t.slice(0,1024));return ajq.log.shouldLog("TRACE")&&console.log('Evergage: Setting custom field "'+e+'" to "'+n+'"...'),ti.preventSensitiveDataCapture&&Y(n)?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Not setting custom field ["+e+"] as it appears to contain sensitive data."),!1):t}function uo(e,t,n,o){return"userId"===e||"company"===e?lo(e,t):-1!==ajq.inArray(e,"_persistedUserId _userIdHash _userIdHashSalt _persistedAccountId _accountIdHash _accountIdHashSalt".split(" "))?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Not Setting field name ["+e+"] as it is unsupported.  That field name is reserved."),!1):"user"===e||"account"===e?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Setting field name ["+e+"] is unsupported.  That field name is reserved."),!1):!1!==(t=go(e,t))&&(!1!==(n=io(e,n))&&(o=!1,n===Evergage.Scope.Visit?(ajq.log.shouldLog("INFO")&&console.log('Evergage: Setting custom fields with scope "visit" is deprecated - use scope "request" or "page" for var "'+e+'" instead.'),je(),vi[e]=t,o=!0,Ie()):n===Evergage.Scope.Page?(yi[e]=t,o=!0):n===Evergage.Scope.Request&&(wi[e]=t,o=!0),o))}function po(){var e;1!=ha.hasBeenFired&&(e=null,Cn(e=gr?Jn(gr.pages):e,null,!0))}function fo(e,t,n,o,i){if(!(i=go(e,i)))return!1;if(""===i)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not going to set the field ["+name+"] to an empty value."),!1;for(var r=0;r<Wo.length;r++)if(i===Wo[r])return ajq.log.shouldLog("WARN")&&console.log("Evergage: Not going to set the field ["+name+"] to an invalid value of ["+Wo[r]+"]"),!1;return mi[o]&&mi[n]&&mi[t]&&(r=k((r=mi[t])+i))===mi[n]?ajq.log.shouldLog("DEBUG")&&console.log('Evergage: Not storing "'+e+'" variable, since a persisted entity ID is already stored for the same entity.'):(delete mi[o],mi[e]=i,r=k(mo()),r=k((mi[t]=r)+i),mi[n]=r,ho()),!0}function ho(){if(1!=qr){var e=Uo.identity.timeoutMillis;a(),ti.enableRememberMeUserIds&&(e=ti.rememberMeUserIdsMillis);var t={},n=!1;for(null!=mi._persistedUserId&&"string"==typeof mi._persistedUserId&&""!==mi._persistedUserId&&(t.puid=mi._persistedUserId,n=!0),null!=mi._persistedAccountId&&"string"==typeof mi._persistedAccountId&&""!==mi._persistedAccountId&&(t.paid=mi._persistedAccountId,n=!0),n?(o=be("n"),i=t,r=e,N(function(){_(o,i,r)})):B(be("n")),e="userId _userIdHashSalt _userIdHash company _accountIdHashSalt _accountIdHash".split(" "),t=0;t<e.length;t++);ajq.evgjStorage.deleteKey(de(Uo.identity.ids.RelatedIdentityFields))}var o,i,r}function mo(e){var t=Math.random().toString(36).substr(2);return"number"==typeof e&&0<e&&e<t.length?t.substring(0,e):t}function vo(n){n&&ajq.each(n,function(e,t){n.hasOwnProperty(e)&&(y(t)?ti[e]=t:ti[e]=$o[e])})}function yo(e,t){for(var n={},o=0;o<t.length;o++){var i=t[o];void 0!==e[i]&&(n[i]=e[i])}return n}function wo(e){if(e=yo(e,"_id type price currency categories tagType".split(" ")),ajq.isArray(e.categories)){for(var t=[],n=0;n<e.categories.length;n++)t[n]=yo(e.categories[n],["_id","type"]);e.categories=t}return e}function bo(e){return(e=ajq.extend({},e)).item&&(e.item=wo(e.item)),e}function xo(e){-1!==Lr&&(o(!1,e),clearTimeout(Lr),Lr=-1)}function Eo(e,t,n,o){xo(!0),Pr=e,Dr=t,Br=o,i(),ha.hasBeenFired&&((n=n||{})[".item"]=window.JSON.stringify(e),"object"==typeof t&&(n[".itemSku"]=window.JSON.stringify(t)),_aaq.push(["trackAction",o,n,n.clickEvent]))}function Co(e,t,n,o){try{var i=t,r="timeout"===n||"interval"===n,a=n;"function"==typeof t&&(i=void 0,a=t);var s="Click";if("string"==typeof o&&0<o.length&&(s=o.substring(0,1).toUpperCase()+o.substring(1)),r){if(o=n,!q(e))return ajq.log.shouldLog("WARN")&&console.log("Evergage: The second argument to Evergage.safe"+s+" should be of type number."),null;if(typeof e<0)return ajq.log.shouldLog("WARN")&&console.log("Evergage: The time parameter must be a non negative number."),null}else if("string"!=typeof e&&(null==e||"object"!=typeof e))return ajq.log.shouldLog("WARN")&&console.log("Evergage: The first argument to Evergage.safe"+s+" should be of type string or a dom node."),null;if("function"!=typeof a)return e=r?"first":"second",ajq.log.shouldLog("WARN")&&console.log("Evergage: The "+e+" argument to Evergage.safe"+s+" should be of type function."),null;if(t=function(){try{qr||a.apply(this,arguments)}catch(e){he(e,"safeClickFunction_"+s)}},"timeout"===o){var l=window.setTimeout(t,e);return br.push(l),l}if("interval"!==o)return void 0===i?Dn(e).bind(o,t):Dn(e).bind(o,i,t);var c=window.setInterval(t,e);return xr.push(c),c}catch(e){return he(e,"safeBind"),null}}function jo(){mi&&(delete mi.userId,delete mi._userIdHash,delete mi._userIdHashSalt,delete mi._persistedUserId,ho()),qo()}function qo(){mi&&(delete mi.company,delete mi._accountIdHash,delete mi._accountIdHashSalt,delete mi._persistedAccountId,ho())}function To(e){if(j(e)&&/^[-_0-9a-zA-Z]{8,48}$/.exec(e)){var t=Ae();return t.uuid=e.toLowerCase(),ke(t),1}ajq.log.shouldLog("WARN")&&console.log("Evergage: anonymousId must be between 8 and 40 lowercase alphanumeric characters or hyphens.")}function Io(e){return e?null!=(e=e.pathname)&&"/"!=e.charAt(0)?"/"+e:e:""}function So(e){if(!e)return"";var t=document.createElement("a");return t.href=e,Io(t)}function ko(e,t){t=e.exec(t);return t&&2===t.length?t[1]:null}function Ao(e){return ko(/[/]?([^/]*)[/]?$/,So(e))}function Lo(e){if("string"!=typeof e||""===ajq.trim(e))return null;var t=document.createElement("a");return t.href=e,t.href}function Ro(e,r){var a,s,o,i,l,t,n,c,g,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},d=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[13,14,15,16,17,18,19]},{name:"mastercard",pattern:/^(5[1-5]|2[3-6]|22[3-9]|222[1-9]|27[0-1]|2720)/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]},{name:"dankort",pattern:/^5019/,valid_length:[16]},{name:"uatp",pattern:/^1/,valid_length:[15]}];for(null==(r=null==r?{}:r).accept&&(r.accept=function(){for(var e=[],t=0,n=d.length;t<n;t++)a=d[t],e.push(a.name);return e}()),n=0,c=(g=r.accept).length;n<c;n++)if(s=g[n],u.call(function(){for(var e=[],t=0,n=d.length;t<n;t++)a=d[t],e.push(a.name);return e}(),s)<0)throw"Credit card type '"+s+"' is not supported";return o=function(e){for(var t,n=[],o=0,i=d.length;o<i;o++)t=(a=d[o]).name,0<=u.call(r.accept,t)&&n.push(a);for(o=0,i=n.length;o<i;o++)if(s=n[o],e.match(s.pattern))return s;return null},l=function(e){for(var t,n=0,o=e.split("").reverse(),i=t=0,r=o.length;t<r;i=++t)e=+(e=o[i]),i%2?n=(e*=2)<10?n+e:n+(e-9):n+=e;return 0==n%10},i=function(e,t){e=e.length;return 0<=u.call(t.valid_length,e)},t=function(e){var t,n=t=!1;return null!=(s=o(e))&&(t=l(e),n=i(e,s)),{card_type:s,luhn_valid:t,length_valid:n}},e=function(e){return e.replace(/[ -]/g,"")}(e),t(e)}if(void 0===ajq)return null;var Mo,Po,Do,No,Fo,Oo,_o,Bo,Uo={anonymousId:{cookieId:"a",timeoutMillis:63072e6,ids:{}},identity:{cookieId:"n",timeoutMillis:18e5,ids:{RelatedIdentityFields:"relatedIdentityFields"}},session:{timeoutMillis:18e5,ids:{CustomFields:"customFields"}},sessionSettings:{timeoutMillis:18e5,ids:{TestMessages:"testMessages",LoggingLevel:"evergageLoggingLevel",PerfLoggingLevel:"evergagePerfLoggingLevel",ClientIp:"evergageClientIp",LastTrackerUrl:"lastTrackerUrl"}},messageRotation:{timeoutMillis:3e4,ids:{MessageQueue:"messageQueue"}}},Wo=["null","undefined","false","0","[object Object]"],Ho=["userId","_persistedUserId","_userIdHashSalt","_userIdHash"],zo=["company","_persistedAccountId","_accountIdHashSalt","_accountIdHash"],Go=Ho.concat(zo),Vo="ac ad ae af ag ai al am an ao aq ar as at au aw ax az ba bb bd be bf bg bh bi bj bm bn bo bq br bs bt bv bw by bz ca cc cd cf cg ch ci ck cl cm cn co cr cu cv cx cy cz de dj dk dm do dz ec ee eg eh er es et eu fi fj fk fm fo fr ga gb gd ge gf gg gh gi gl gm gn gp gq gr gs gt gu gw gy hk hm hn hr ht hu id ie il im in io iq ir is it je jm jo jp ke kg kh ki km kn kp kr kw ky kz la lb lc li lk lr ls lt lu lv ly ma mc md me mg mh mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nc ne nf ng ni nl no np nr nu nz om pa pe pf pg ph pk pl pm pn pr ps pt pw py qa re ro rs ru rw sa sb sc sd se sg sh si sj sk sl sm sn so sr ss st su sv sx sy sz tc td tf tg th tj tk tl tm tn to tp tr tt tv tw tz ua ug uk us uy uz va vc ve vg vi vn vu wf ws ye yt za zm zw cw".split(" "),$o={referrerUrl:"",useSiteConfig:!0,trackAnonymous:null,trackAccounts:null,trackUnknownPages:null,trackMessageStats:!0,notifyIntegratorOfEvents:!1,treatHashChangeAsPageLoad:null,spaRouteChangeTimeout:500,siteConfigExecBeforePageReady:null,preventSensitiveDataCapture:null,requestMethod:null,pageUrl:null,pageTitle:null,downloadExtensions:"7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",hostsAlias:[gi],ignoreClasses:[],downloadClasses:[],linkClasses:[],trackerDelay:500,discardHashTag:!1,customFields:{},cookieDomain:null,cookiePath:null,doNotTrack:!1,timeOnPageTimer:6e4,hideContentSectionsList:null,hideContentSections:null,hideContentSectionsMillis:null,enableRememberMeUserIds:null,rememberMeUserIdsMillis:63072e6,enableMessageRotation:null,trackContextualRelatedItems:null,doNotTrackPingRequestsForActions:null,runningInMobileApp:!1,trafficSourceIndex:null,testModeEnabledForPageLoad:null,disableCampaignStatTracking:!1,hidePageBeforeRedirectList:null,hidePagesForRedirect:null,hidePagesForRedirectMillis:null,disableQtipWindowScroll:null,doNotStoreCookiesRequireProvidedAnonId:null,googleAnalyticsIntegrationConfig:null,minimumActivityTimeToRegister:300,loadTimeIntervalDelay:1e3,actionRateLimiterConfig:{globalLimit:10,globalTimeRange:2e3,perActionLimit:5,perActionTimeRange:5e3},enableTemplateEsc:null,allowBotTraffic:null},Jo=/Googlebot|Mediapartners-Google|Web Preview|bot|Applebot|spider|crawler|Feedfetcher|Slurp|Twiceler|Nutch|BecomeBot|bingbot|BingPreview|Google Web Preview|WordPress.com mShots|Seznam|facebookexternalhit|YandexMarket|Teoma|ThumbSniper|Phantom|Easy-Thumb/i,Xo={AUD:{symbol:"A$",decimals:2},BRL:{symbol:"R$",decimals:2},CAD:{symbol:"CA$",decimals:2},CLP:{symbol:"$"},CNY:{symbol:"CN??",decimals:2},DKK:{symbol:"Kr",decimals:2},EUR:{symbol:"???",decimals:2},GBP:{symbol:"??",decimals:2},HKD:{symbol:"HK$",decimals:2},INR:{symbol:"???",decimals:2},ILS:{symbol:"???",decimals:2},JPY:{symbol:"??"},KRW:{symbol:"???"},MXN:{symbol:"MX$",decimals:2},NZD:{symbol:"NZ$",decimals:2},OMR:{decimals:3},PHP:{symbol:"Php",decimals:2},TWD:{symbol:"NT$",decimals:2},USD:{symbol:"$",decimals:2},VND:{symbol:"???",decimals:2},SEK:{symbol:"sk",decimals:2}},Yo={Experience:"e",Message:"m"},Zo={Impression:"i",Clickthrough:"c",Dismissal:"d"},Ko={ComponentType:"type",ComponentId:"id",ExperienceId:"eid",StatType:"stat",UserGroup:"ug",PromotedItemKeys:"piks",ClickthroughUrl:"href"},Qo={Default:"Default",Control:"Control"},ei={Category:"c",Product:"p",Article:"a",Blog:"b",Tag:"t"},ti=(Bo={},ajq.each($o,function(e,t){$o.hasOwnProperty(e)&&(Bo[e]=t)}),Bo),ni=!1,oi=!1,ii=!1,ri=null,ai=null,si=null,li=null,ci=!1,_o=(Fo=window.location.hostname,Oo=window.location.href,_o=document.referrer,"translate.google.com"===Fo?(""===_o&&(_o=Oo),Fo=S(Oo=P(Oo,"u")).host):"cc.bingj.com"!==Fo&&"webcache.googleusercontent.com"!==Fo&&"74.6."!==Fo.slice(0,5)||(Fo=S(Oo=document.links[0].href).host),[Fo,Oo,_o]),gi=H(_o[0]),ui=_o[1],di=_o[2],pi=!0,fi=!1,hi="https"===window.location.protocol,mi=!1,vi=!1,yi={},wi={},bi=null,xi={},Ei="",Ci="",ji=!1,qi=!1,Ti=!1,Ii={},Si={},ki={},Ai={},Li={},Ri={},Mi={},Pi={},Di={},Ni={},Fi={},Oi=[],_i=[],Bi={},Ui={},Wi=-1,Hi=-1,zi=-1,Gi=-1,Vi=[],$i=0,Ji={},Xi=!1,Yi=!1,Zi=-1,Ki=[],Qi={},er=0,tr=!1,nr=[],or=!1,ir={},rr=!1,ar=[],_o=1==(window.Intl&&"object"==typeof window.Intl&&"function"==typeof window.Intl.NumberFormat);e:{try{0..toLocaleString("i")}catch(e){No="RangeError"===e.name;break e}No=!1}var sr,lr=_o,cr=No,gr=window.evergageSiteConfig||{},ur=!1,dr=-1,pr=[],fr=[],hr=[],mr=!1,vr={},yr={},wr={},br=[],xr=[],Er=location.href,Cr=[],jr=!1,qr=!1,Tr=[],Ir=[],Sr=[],kr=-1,Ar=-1,Lr=-1,Rr=-1,Mr=-1,Pr=null,Dr=null,Nr=null,Fr=null,Or=null,_r=0,Br=null,Ur=null,Wr=null,Hr=!1,zr=-1,Gr=0,Vr=null,$r=!1,Jr={},Xr=-1,Yr=!1,Zr={},Kr={},Qr=!1,ea=[],ta=[],na=[],oa=[],ia=!0,ra=!0,aa=!0,sa=-1,la=0,ca=-1,ua=0,da=0,pa=null,fa=!1,ha={maxTimeout:0,timerStart:0,storedTimeout:-1,timeoutDuration:100,waitingOn:{credentials:!1,promoteCallback:!1},hasBeenFired:!1,actionName:null,eventSendInProcess:!1,canBeFiredYet:!1};A(window,"beforeunload",L,!1),vn();var ma,va,ya,wa,ba,xa,Ea,Ca,ja,qa,Ta,Ia,Sa,ka=(window,Ta={SUBMIT:"submit",PAGE_NEXT:"pageNext",PAGE_PREV:"pagePrev"},Sa=!(Ia={SURVEY_ACTION:"surveyAction",SURVEY_ID:"surveyId",SURVEY_START_TIME:"surveyStartTime"}),za.prototype.addResponses=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.addResponse(n.questionId,n.answer)}},za.prototype.addResponse=function(e,t){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Adding response to SurveyActionEvent: "+JSON.stringify({name:e,value:t})),this.params[e]=t},za.prototype.send=function(){ajq.log.shouldLog("TRACE")&&console.log("Evergage: Tracking survey event: ",this.params),Evergage.trackAction(Ia.SURVEY_ACTION,this.params)},{renderSurvey:Wa,injectSurveyResourcesIntoPage:Ha}),Aa=(ya=window,xa=wa=null,Ea=ba=!1,Ca=[],ja=-1,qa=0,{init:function(e){"object"==typeof e&&e.enabled&&((wa=e).prependCommandsWithTrackerName&&j(wa.trackerName)&&""!==wa.trackerName&&(xa=wa.trackerName),ba=!0,ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Initialized with configuration:",wa))},isInitialized:function(){return null!=wa&&ba},handleActionEvent:function(e,t,n,o){if(wa&&wa.actionEventOptions.enabled){n=wa.actionEventOptions,o=!1;for(var i=0;i<t.length;i++)".pv"===t[i].name&&(o=!0);var r,a={hitType:"event",nonInteraction:1,eventCategory:"Action",eventAction:o?"PageLoad":"Action"};j(e)?(a.eventLabel=e,j(n.categoryFormat)&&(a.eventCategory=n.categoryFormat),o&&j(n.pageLoadActionFormat)&&(a.eventAction=n.pageLoadActionFormat),!o&&j(n.pageActionFormat)&&(a.eventAction=n.pageActionFormat),t=null,!j(n.labelFormat)||j(t=Fa(n.labelFormat,null,e))&&(a.eventLabel=t),r=null!=xa?xa+".send":"send",ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Tracking action event with sendCommand ["+r+"]",a),Pa(function(){ga(r,a)})):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Not tracking action event as an evergage action name could not be found.")}},handleCampaignEvent:function(e,t,n){try{if(wa&&wa.campaignEventOptions.enabled){var o=n.googleAnalyticsConfig||{};if("object"!=typeof o||o.trackingEnabled||"allCampaigns"===wa.campaignEventOptions.trackingLevel)if("Testing"!==n.campaignState&&"Disabled"!==n.campaignState||!0===wa.campaignEventOptions.testingModeEventsEnabled){var i,r={i:"Impression",c:"Clickthrough",d:"Dismissal"}[t]||null,a={hitType:"event",nonInteraction:1,eventCategory:"Experience",eventAction:r,eventLabel:n.campaignName+" ["+n.experienceName+"]"};if((t=e=null)!=(e="object"==typeof o&&o.overrideEventConfigDefaults?(t=Oa(r,o),{eventCategory:o.categoryFormat,eventAction:t,eventLabel:o.labelFormat}):(t=Oa(r,wa.campaignEventOptions),{eventCategory:wa.campaignEventOptions.categoryFormat,eventAction:t,eventLabel:wa.campaignEventOptions.labelFormat})))for(var s in e)e.hasOwnProperty(s)&&(null==(i=e[s])||j(i=Fa(i,n))&&(a[s]=i));o&&o.bucketsEnabled&&function(e,t){try{var n,o,i=t.googleAnalyticsConfig;switch(i.bucketType){case"Dimension":n="dimension"+i.dimensionIndex,o=i.dimensionValue;break;case"Metric":n="metric"+i.metricIndex,o=i.metricValue}var r=Fa(o,t);n&&o&&null!==r?e[n]=r:ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Invalid dimension, metric or value event dynamic syntax.")}catch(e){he(e,"ga-addCustomDimensionOrMetricToEvent"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] There was an exception when adding a custom dimension or metric to the GA event.")}}(a,n);var l=null!=xa?xa+".send":"send";ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Tracking campaign stat event with sendCommand ["+l+"]",a),Pa(function(){ga(l,a)})}else ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Not tracking GA event for campaign["+n.campaignId+"] experience["+n.experienceId+"] - reason: campaign is in test mode. Change this settings in google analytics setup.");else ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] Not tracking GA event for this campaign beacause the dataset campaign tracking level is set to [specific campaigns] and this campaign does not have GA events enabled.")}}catch(e){ajq.log.shouldLog("WARN")&&console.log("Evergage: [Google Analytics] Could not track campaign stat event due to error: ",e)}}}),La=(va=!(ma=[]),{canTrackAction:function(e){if(va)return ajq.log.shouldLog("WARN")&&console.log("Evergage: Action Rate Limiter previously triggered. Track action disabled."),!1;var t=Date.now();ma.push({name:e,time:t});for(var n=0,o=0,i=Math.max(ti.actionRateLimiterConfig.globalTimeRange,ti.actionRateLimiterConfig.perActionTimeRange),r=ma.length-1;0<=r;r--){if(!(t-ma[r].time<i)){ma.splice(0,r+1);break}if(t-ma[r].time<ti.actionRateLimiterConfig.globalTimeRange&&++n>ti.actionRateLimiterConfig.globalLimit||t-ma[r].time<ti.actionRateLimiterConfig.perActionTimeRange&&ma[r].name==e&&++o>ti.actionRateLimiterConfig.perActionLimit)return he(Error("Action rate limit exceeded, halting track action"),"ActionRateLimiter"),ajq.log.shouldLog("WARN")&&console.log("Evergage: Action Rate Limiter triggered, halting track action calls."),!(va=!0)}return!0}}),Ra=["'",'"'],Ma={validateCreditCard:Ro};function Pa(e){"function"!=typeof ya.ga||"function"!=typeof ya.ga.getAll?(Ca.push(e),-1===ja&&(ja=Evergage.safeTimeout(Da,200))):(Na(),ga(e))}function Da(){if("function"==typeof ya.ga&&"function"==typeof ya.ga.getAll){Na();for(var e=0;e<Ca.length;e++)Pa(Ca[e])}else++qa<25&&(ja=Evergage.safeTimeout(Da,200))}function Na(){if(!wa.createTrackingObject||!0!==Ea)for(var e=ya.ga.getAll(),t=0;t<e.length;t++){var n=e[t].get("trackingId");if("string"==typeof n&&n===wa.trackingId){ga("create",wa.trackingId),Ea=!0;break}}}function Fa(e,t,n){var o="${campaignName} ${campaignId} ${experienceName} ${experienceId} ${userGroup} ${actionName} ${currentDate}".split(" ");try{var i=e.match(new RegExp(/(\$\{[^}]+\})/g));if(null==i)return ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Google Analytics: Could not find matching event variables in string: "+e),e;if(null==t&&j(n))1===i.length&&(e=e.replace(i[0],n));else if(null!==t)for(n=0;n<i.length;n++){var r,a,s,l,c=i[n],g=null;e="${currentDate}"===c?(a=(r=new Date).getDate(),s=r.getMonth()+1,g=r.getFullYear()+""+(s=s<10?"0"+s:s)+(a=a<10?"0"+a:a),e.replace(c,g)):-1!==ajq.inArray(c,o)?(g=t[l=c.slice(2,-1)],"userGroup"===l&&"string"==typeof g&&(g=g!==Qo.Control?"Test":Qo.Control),e.replace(c,g)):(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: [Google Analytics] Invalid dynamic variable ["+c+"]. Removing."),e.replace(c,""))}}catch(e){he(e,"ga-replaceDynamicEventVariables"),ajq.log.shouldLog("TRACE")&&console.log("Evergage: [Google Analytics] There was an exception trying to replace dynamic variables in an event property.")}return e}function Oa(e,t){var n=null;switch(e){case"Impression":j(t.statTypeImpressionFormat)&&(n=t.statTypeImpressionFormat);break;case"Clickthrough":j(t.statTypeClickthroughFormat)&&(n=t.statTypeClickthroughFormat);break;case"Dismissal":j(t.statTypeDismissalFormat)&&(n=t.statTypeDismissalFormat)}return n||e}function _a(e,t,n){try{function o(e,t){e="survey:"+n+":"+e.questionId;return j(t)&&(e+=":"+t),e}for(var i=[],r=0;r<e.length;r++){var a=e[r];if("panel"===(f=a).type&&ajq.isArray(f.elements)&&0!==f.elements.length&&!j(f.questionId))i=i.concat(_a(a.elements,t,n));else if("matrix"===a.type)for(var s=0;s<a.rows.length;s++){var l,c=a.rows[s],g=a.rowIds[s],u=t.data[a.name]||{};u[c.value]&&(l=u[c.value],i.push({questionId:o(a,g),answer:l}))}else{var d=p=null!=(p=(p=t.data[a.name])||null)&&ajq.isArray(p)||ajq.isPlainObject(p)?JSON.stringify(p):p;d&&i.push({questionId:o(a),answer:d})}}return i}catch(e){ajq.log.shouldLog("ERROR")&&console.log("Evergage: There was an error when attempting to process survey responses: ",e)}var p,f}function Ba(e,n,o){try{var i;e===Ta.PAGE_NEXT&&!o.surveyConfig.sendResultOnPageNext||(Kr[o.surveyConfig.survey.id]||(Kr[o.surveyConfig.survey.id]=(new Date).getTime()),i=new za(e,o.surveyConfig.survey.id,Kr[o.surveyConfig.survey.id]),M(o.surveyConfig.survey.text.pages,function(e,t){i.addResponses(_a(t.elements,n,o.surveyConfig.survey.id))}),e!==Ta.PAGE_NEXT&&(o.surveyConfig.dismissMessageOnSubmit?ct(o):o.surveyConfig.hideMessageOnSubmit&&gt(o.id,!1)),i.send())}catch(e){ajq.log.shouldLog("ERROR")&&console.log("Evergage: There was an error when attempting to submit survey responses surveyId["+o.surveyConfig.survey.id+"]")}}function Ua(n){var o={cssType:"default",version:"current",responsive:!0},i={cssType:"css-type",version:"version",responsive:"responsive"};return Object.keys(i).forEach(function(e){var t=n.attr(i[e]);t&&(o[e]=t)}),o}function Wa(t){if(Sa||"object"==typeof window.Survey){if(t.surveyConfig&&!t.surveyRendered)try{if(0<ajq("#evergage-tooltip-amb"+t.id).length){var e=Ft(t.id),n=e.find("[evergage-survey]"),o=Ua(n),i=t.surveyConfig.survey.id;if(null!=n[0]&&0<n[0].children.length)return!0;window.Survey.JsonObject.metaData.addProperty("questionbase","questionId"),window.Survey.JsonObject.metaData.addProperty("questionbase","rowIds"),window.Survey.Survey.cssType=o.cssType;var r=t.surveyConfig.survey.text;r.storeOthersAsComment=!1;var a=new window.Survey.Model(r);return e.find("[evergage-survey]").Survey({model:a,onComplete:function(e){Ba(Ta.SUBMIT,e,t)},onPartialSend:function(e){Ba(Ta.PAGE_NEXT,e,t)}}),t.surveyRendered=!0}}catch(e){return ajq.log.shouldLog("ERROR")&&console.log("Evergage: There was an error when attempting to render surveyId["+i+"] within messageId["+t.id+"]",e),!1}else if(t.surveyConfig)return ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not rendering surveyId["+t.surveyConfig.id+"] within messageId["+t.id+"] because required surveyJS resources (JS/CSS) are not initialized."),!1}else!function(e){try{0<=e.htmlContent.indexOf("version=")&&Ha(Ua(ajq(e.htmlContent).find("[evergage-survey]")).version,function(){Wa(e)})}catch(e){ajq.log.shouldLog("ERROR")&&console.log("Evergage: There was an error when attempting to initialize SurveyJS resources.")}}(t)}function Ha(e,t){e=e||"current";M({script:["//cdn.evergage.com/evergage-content/surveyjs",e,"survey-js.jquery.min.js"].join("/"),style:["//cdn.evergage.com/evergage-content/surveyjs",e,"survey-js.css"].join("/")},function(e,t){try{var n=document.head||document.getElementsByTagName("head")[0],o="style"===e,i=document.createElement(o?"link":"script");i.setAttribute("type",o?"text/css":"text/javascript"),i.setAttribute("class","evergageSurvey-"+e),i.setAttribute(o?"href":"src",t),o&&i.setAttribute("rel","stylesheet"),n.appendChild(i),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Injected survey resource of type["+e+"] url["+t+"]")}catch(e){ajq.log.shouldLog("ERROR")&&console.log("Evergage: There was an error when attempting to inject surveyJS resources into the page")}});var n=setInterval(function(){null!=ajq.fn.Survey&&null!=window.Survey&&(clearInterval(n),Sa=!0,t())},100)}function za(e,t,n){this.params={},this.params[Ia.SURVEY_ACTION]=e,this.params[Ia.SURVEY_ID]=t,this.params[Ia.SURVEY_START_TIME]=n}return{Scope:{Request:"request",Page:"page",Visit:"visit"},ExperienceJS:{DelayImpression:"DelayImpression"},executePageConfiguration:xn,executePageConfigurationWithoutPageLoadAction:wn,removePageActionListeners:_n,removeAllListeners:Nn,removeCustomEventListeners:function(){ta=[],ea=[],oa=[],na=[]},getCustomEventListeners:function(){return{actionListeners:ta,experienceListeners:ea,campaignResponseListeners:oa,displayMessageRetryListeners:na}},cancelAllPendingMessages:at,getVersion:function(){return 15},registerSiteConfigExecution:function(){ajq(document).ready(fn)},displayMessageBundle:function(e,t,n){ut(e=ajq.extend({},e,{rulesByType:ot(e.rules||[])}),t,n)},displaySiteConfigMessages:function(){},displayMessagesFromTwoWayResponse:tt,logRequest:Qn,hideAllMessages:st,hideMessage:lt,hideBundle:gt,destroyMessage:function(e,t){var n=Ft(e);0===n.length?(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Message ["+e+"] does not exist."),t&&t(!1)):(ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Destroying message ["+e+"]..."),(e=Li[e])&&t&&(e.destroyCallback=function(){t(!0)}),n.qtip("hide"),n.qtip("destroy"),!e&&t&&t(!0))},setDebug:function(e){!0===e&&this.setLoggingLevel("TRACE")},setOption:function(e,t){var n={};n[e]=t,vo(n)},setOptions:vo,setAffinityId:function(e){var t;j(e)&&/^[0-9a-zA-Z]{1,3}$/.exec(e)?((t=Ae()).affinityId=e,ke(t)):ajq.log.shouldLog("WARN")&&console.log("Evergage: affinityId must be a 1-3 character base-62 string.")},setAnonymousId:function(e){To(e)},getAnonymousId:function(){return Ae().uuid},getVisitorId:function(){return Ae().uuid},getVisitorInfo:Ae,setTrackerUrl:function(e){si=e},getTrackerUrl:function(){return si},setCdnHost:function(e){li=e},getCdnHost:function(){return li},setTwoWayEnabled:function(e){},getTwoWayEnabled:function(){return pi},getConfigReceiverPath:function(){return"/jsreceiver"},setAccount:function(e){ri!==e&&(ri=e,v())},setApptegicAccount:function(e){ri!==e&&(ri=e,v())},setEvergageAccount:function(e){ri!==e&&(ri=e,v())},getAccount:function(){return ri},getApptegicAccount:function(){return ri},getEvergageAccount:function(){return ri},setUser:function(e){lo("userId",e)},getUser:function(){return mi.userId},setUserId:function(e){lo("userId",e)},getUserId:function(){return mi.userId},setAccountId:function(e){lo("company",e)},getAccountId:function(){return mi.company},setAccountDomain:function(e){so(".accountDomain",e,Evergage.Scope.Request)},setLoggingLevel:function(e){null===ce()?ajq.log.setLoggingLevel(e):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Logging level already set from URL or cookie - ignoring call to setLoggingLevel().")},processLoggingLevelSettings:function(){ce(),ajq.log.flushStoredMessages(),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Processing logging level settings...")},setPerformanceTestLevel:function(e){null==ue()?ajq.log.setPerformanceTestLevel(e):ajq.log.shouldLog("DEBUG")&&console.log("Evergage performance test level already set from URL or local storage, ignoring custom call to setPerformanceTestLevel().")},processPerformanceTestLevelSettings:function(){ue(),ajq.log.shouldLog("TRACE")&&console.log("Evergage: Processing performance logging level settings...")},setEncryptedUser:function(e){uo("_e",e,Evergage.Scope.Page)},setEncryptedFields:function(e){uo("_ef",e,Evergage.Scope.Request)},setCompany:function(e){uo("company",e,Evergage.Scope.Visit)},setAccountType:function(e){uo("accountType",e,Evergage.Scope.Page)},setDataset:function(e){ai!==e&&(ai=e,v())},getDataset:function(){return ai},setTrackAnonymous:function(e){ti.trackAnonymous=e},getTrackAnonymous:function(){return ti.trackAnonymous},setUseSiteConfig:function(e){ti.useSiteConfig=e,a()},getUseSiteConfig:function(){return ti.useSiteConfig},setTrackUnknownPages:function(e){ti.trackUnknownPages=e},getTrackUnknownPages:function(){return ti.trackUnknownPages},setTrackMessageStats:function(e){ti.trackMessageStats=e},getTrackMessageStats:function(){return ti.trackMessageStats},setWaitOnPageLeave:function(e){"boolean"==typeof e&&(ia=e)},getWaitOnPageLeave:function(){return ia},setNotifyIntegratorOfEvents:function(e){ti.notifyIntegratorOfEvents=e},getNotifyIntegratorOfEvents:function(){return ti.notifyIntegratorOfEvents},sendEvent:function(e,t){return Pe(e,{},t)},getCurrentUrl:re,shouldTreatHashChangeAsPageLoad:function(){return ti.treatHashChangeAsPageLoad},setCustomData:function(e,t){E(e)?ti.customFields=e:(ti.customFields||(ti.customFields=[]),ti.customFields[e]=t)},getCustomData:function(){return ti.customFields},setCustomVariable:function(e,t,n){this.setCustomField(e,t,n)},setCustomField:uo,setCustomFields:function(e,n){return null==e?(ajq.log.shouldLog("WARN")&&console.log("Evergage: the first parameter of setCustomFields is null, but should be an object."),!1):"object"!=typeof e?(ajq.log.shouldLog("WARN")&&console.log("Evergage: setCustomFields requires the first parameter to be of type object, but instead was ["+typeof e+"]."),!1):(y(n)||(n=Evergage.Scope.Request),M(e,function(e,t){""!==(e=ajq.trim(e))&&0!==e.indexOf("_")&&0!==e.indexOf(".")&&uo(e,t,n)}),!0)},setUserField:function(e,t,n){uo(e,t,n,"user")},setAccountField:so,saveCustomVariables:Ie,resetCustomFields:Te,resetCustomVariables:Te,getCustomField:ro,getCustomVariable:ro,deleteCustomField:ao,deleteCustomVariable:ao,setLinkTrackingTimer:function(e){e&&500<=e&&(ti.trackerDelay=e)},setDownloadExtensions:function(e){ti.downloadExtensions=e},addDownloadExtensions:function(e){ti.downloadExtensions||(ti.downloadExtensions=""),ti.downloadExtensions+="|"+e},setRunningInMobileApp:function(e){try{"boolean"==typeof e&&(ti.runningInMobileApp=e)}catch(e){he(e,"setRunningInMobileApp")}},getRunningInMobileApp:function(){return ti.runningInMobileApp},setTrafficSourceIndex:function(e){try{var t=null;q(t=j(e)?parseInt(e):e)&&(ti.trafficSourceIndex=t)}catch(e){he(e,"setTrafficSourceIndex")}},getTrafficSourceIndex:function(){return ti.trafficSourceIndex},setTestModeEnabledForPageLoad:function(e){try{"boolean"!=typeof e&&"string"!=typeof e||(ti.testModeEnabledForPageLoad=e)}catch(e){he(e,"setTestModeEnabledForPageLoad")}},setDisableCampaignStatTracking:function(e){try{"boolean"==typeof e&&(ti.disableCampaignStatTracking=e)}catch(e){he(e,"setDisableCampaignStatTracking")}},setDomains:function(e){ti.hostsAlias=j(e)?[e]:e,ti.hostsAlias.push(gi)},setIgnoreClasses:function(e){ti.ignoreClasses=j(e)?[e]:e},setRequestMethod:function(e){"GET"===e||"POST"===e?(ajq.log.shouldLog("INFO")&&console.log("Evergage: Setting request method to "+e+", previous value: "+ti.requestMethod),ti.requestMethod=e):ajq.log.shouldLog("WARN")&&console.log("Evergage: Ignoring unknown request method "+e)},setReferrerUrl:function(e){ti.referrerUrl=e},setCustomUrl:function(e){var t,n=ui;S(e).protocol||(e="/"===e.slice(0,1)?(n=S(n)).protocol+"://"+n.host+(n.port?":"+n.port:"")+e:(n=(t=(n=0<=(t=(n=G(n)).indexOf("?"))?n.slice(0,t):n).lastIndexOf("/"))!==n.length-1?n.slice(0,t+1):n)+e),ti.pageUrl=e},setDocumentTitle:function(e){ti.pageTitle=e},setClientIp:function(e){var t;e:{if("string"==typeof e&&4==(t=e.split(".")).length){for(var n=0;n<4;n++){var o=parseInt(t[n]);if(o<0||255<o){t=!1;break e}}if(4==n){t=!0;break e}}t=!1}return!!t&&(ti.clientIp=e,!0)},setDownloadClasses:function(e){ti.downloadClasses=j(e)?[e]:e},setLinkClasses:function(e){ti.linkClasses=j(e)?[e]:e},setMessageLinkDecorator:function(e){x(e)?ti.messageLinkDecorator=e:ajq.log.shouldLog("WARN")&&console.log("Evergage: messageLinkDecorator must be a function.")},discardHashTag:function(e){ti.discardHashTag=e},setTreatHashChangeAsPageLoad:function(e){ti.treatHashChangeAsPageLoad=e},setCookieDomain:function(e){e=H(e),ti.cookieDomain!==e&&(ti.cookieDomain=e,v())},setCookiePath:function(e){ti.cookiePath!==e&&(ti.cookiePath=e,v())},getCookieName:function(e){return be(e="string"!=typeof e?"a":e)},getOldCookieName:function(e){return xe(e="string"!=typeof e?"a":e)},setVisitorCookieTimeout:function(e){Uo.anonymousId.timeoutMillis=1e3*e},setSessionCookieTimeout:function(e){Uo.session.timeoutMillis=1e3*e},setDoNotTrack:function(e){ti.doNotTrack=e&&navigator.doNotTrack},addListener:function(e,t){t?(A(e,"mouseup",Ze,!1),A(e,"mousedown",Ze,!1)):A(e,"click",Ze,!1)},enableLinkTracking:function(){he(Error("enableLinkTrackingCalled"),"enableLinkTrackingCalled"),ajq.log.shouldLog("WARN")&&console.log("Evergage: EnableLinkTracking is deprecated and no longer functions.  This API will be removed in a future relase.")},trackLink:function(e,t,n){_e(e,t,n)},trackAction:function(e,t,n,o){Pe(e=e||ti.pageTitle,t,n,o)},trackEvergageMessageForm:function(e,t,n){if(e.stopImmediatePropagation(),e.preventDefault(),0===(e=ajq(e.target).closest("form")).length)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Cannot find form to track.");else{var o=e.attr("name");if(null===o||""===o)ajq.log.shouldLog("WARN")&&console.log("Evergage: Form name must not be empty for trackEvergageMessageForm.");else{for(var i,r=(r=e.serializeArray()).concat(function(e){var t=[];e=ajq(e).find("input[id^='eg_'][type='checkbox']:not(:checked)");for(var n=0;n<e.length;n++)"string"==typeof ajq(e[n]).attr("id")&&ajq(e[n]).attr("id").match(/eg_.*_\w{5}/)&&ajq(e[n]).attr("name")&&t.push({name:ajq(e[n]).attr("name"),value:"off"});return t}(e)),a=0;a<r.length;a++)"userId"==r[a].name||"company"==r[a].name?(lo(r[a].name,r[a].value),ho()):uo(r[a].name,r[a].value,Evergage.Scope.Request);t||lt(e,n),n?Pe(o,{},!1,!1):(i=mo(5),yr[i]=setTimeout(function(){Pe(o,{},!1,!1),delete yr[i]},100))}}},setShowPoweredBy:function(e){!0===e&&(fi=!0)},retrieveMessages:function(e,t){var n;!0!==gr.editModeVisualEditor&&(De(n=[],"_ne"),(e=!e&&!0===ti.trackUnknownPages?le(ae()):e)&&De(n,"action",e),Fe(n,t),De(n,"url",V(re())),De(n,"title",le(ae())),bn(),J(n=Re(n)))},trackMessageStat:function(){},addExperienceListener:function(e){"function"==typeof e?ea.push(e):ajq.log.shouldLog("WARN")&&console.log("Evergage: Campaign Experience listener must be of type function.")},addActionListener:function(e){"function"==typeof e?ta.push(e):ajq.log.shouldLog("WARN")&&console.log("Evergage: Action listener must be of type function.")},addDisplayMessageRetryListener:function(e){"function"==typeof e?na.push(e):ajq.log.shouldLog("WARN")&&console.log("Evergage: Display Message Retry Listener must be of type function.")},addCampaignResponseListener:function(e){"function"==typeof e?oa.push(e):ajq.log.shouldLog("WARN")&&console.log("Evergage: Campaign Response Listener must be of type function.")},init:e,isValidToInit:function(){return!Se()||null!=bi},initEvergageTrackerUrl:m,testing:function(){return void 0!==window.EvergageUnitTestingMode&&!0===window.EvergageUnitTestingMode?(Vr=!0,{extendSessionTimeoutAndReloadVisitData:z,getLocalStorageKey:de,options:ti,storageInfo:Uo,writeLocalStorage:fe,combineDuplicateForms:Un,parseLaxJson:ht,formatMoney:bt,renderItemHtml:mt,renderItemBlock:pt,parseItemBlockSettings:ft,getOldCookieName:xe,handleTwoWayResponse:Qe,getJsonCookie:D,beforeUnloadHandler:L,handleHashChange:rt,sendPageLoadTiming:jn,setupLoadTimeInterval:En,setTwReceiverTiming:function(e){ua=e},validateCreditCard:Ro,getTwoWayReceiverPerformance:et}):{}},findOrCreateInsertionTarget:cn,removeBeaconAndListenersFromPage:f,haltAllLoadingAndTracking:function(){qr=!0},handleUpdatedSiteConfig:mn,namePage:function(e){var t;w(e)||"string"!=typeof e||(t={},!ajq.isEmptyObject(gr)&&Ln(t,!1)?(e=pn(gr)||e,ajq.log.shouldTestPerf("RIGOROUS")&&console.time("Evergage: Send Event"),t[".pv"]="",Pe(Or=e,t),ha.hasBeenFired=!0,ajq.log.shouldTestPerf("RIGOROUS")&&console.timeEnd("Evergage: Send Event")):ha.actionName=e)},sha1:k,removeCookie:B,setCurrentPageLocale:function(e){Wr=e},viewItem:function(e,t,n){xo(!0),Pr=e,Dr=n,Br="View Item",i(),ha.hasBeenFired&&((t=t||{})[".item"]=window.JSON.stringify(e),"object"==typeof n&&(t[".itemSku"]=window.JSON.stringify(n)),_aaq.push(["trackAction","View Item",t,t.clickEvent]))},stopViewingItem:function(){xo(!0),Dr=Br=Pr=null},viewItemDetail:function(e,t,n){Eo(e,n,t,"View Item Detail")},quickViewItem:function(e,t,n){Nr=Pr,Fr=Dr,Ur=Br,Eo(e,n,t,"Quick View Item")},stopQuickView:function(){xo(!0),Pr=Nr||Pr,Dr=Fr||Dr,Br=Ur||Br,Ur=Fr=Nr=null,i()},viewCategory:function(e,t){xo(!0),Pr=e,Br="View Category",Dr=null,i(),ha.hasBeenFired&&((t=t||{})[".item"]=window.JSON.stringify(e),_aaq.push(["trackAction","View Category",t,t.clickEvent]))},viewTag:function(e,t){xo(!0),Pr=e,Br="View Tag",Dr=null,i(),ha.hasBeenFired&&((t=t||{})[".item"]=window.JSON.stringify(e),_aaq.push(["trackAction","View Tag",t,t.clickEvent]))},addToCart:function(e,t,n){if(n=n||{},C(e)){if(0===e.length)return;for(var o=[],i=0;i<e.length;i++)o.push(bo(e[i]));n[".lineItems"]=window.JSON.stringify(o)}else n[".lineItem"]=window.JSON.stringify(bo(e));n[".order"]=window.JSON.stringify(t),_aaq.push(["trackAction","Add To Cart",n,n.clickEvent])},updateLineItem:function(e,t,n){(n=n||{})[".lineItem"]=window.JSON.stringify(bo(e)),n[".order"]=window.JSON.stringify(t),_aaq.push(["trackAction","Update Line Item",n,n.clickEvent])},emptyCart:function(){uo(".ce","",Evergage.Scope.Request)},viewCart:function(e,t){(t=t||{})[".order"]=window.JSON.stringify(e),_aaq.push(["trackAction","View Cart",t,t.clickEvent])},purchase:function(e,t){t=t||{},e.lineitems&&(e.lineItems=e.lineitems,delete e.lineitems),t[".order"]=window.JSON.stringify(function(e){var t=ajq.extend({},e);if(ajq.isArray(e.lineItems)){t.lineItems=[];for(var n=0;n<e.lineItems.length;n++){var o=bo(e.lineItems[n]);t.lineItems.push(o)}}return t}(e)),_aaq.push(["trackAction","Purchase",t,t.clickEvent])},review:function(e,t,n){(n=n||{})[".item"]=window.JSON.stringify(wo(e)),n[".review"]=window.JSON.stringify(t),_aaq.push(["trackAction","Review",n,n.clickEvent])},share:function(e,t){(t=t||{})[".item"]=window.JSON.stringify(wo(e)),_aaq.push(["trackAction","Share",t,t.clickEvent])},comment:function(e,t){(t=t||{})[".item"]=window.JSON.stringify(wo(e)),_aaq.push(["trackAction","Comment",t,t.clickEvent])},favorite:function(e,t){(t=t||{})[".item"]=window.JSON.stringify(wo(e)),_aaq.push(["trackAction","Favorite",t,t.clickEvent])},ItemType:ei,detectFormField:Vn,detectFormFields:Wn,sendFormEvent:function(e){for(var t=null,n=0;n<Sr.length;n++)Dn(Sr[n].match).get(0)===e&&(t=Sr[n]);if(null==t)return!1;Wn(t),t.name&&Pe(t.name)},sendActionEventOnNextPage:function(e,t){Pe(e,t=!E(t)?{}:t,!1,!0)},hideSections:function(){if(ti.runningInMobileApp)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Flicker defense is disabled when beacon  is running within phonegap.");else if(!0!==Yr){var e="";if(0!==arguments.length){for(var t,n=0;n<arguments.length;n++)if("string"==typeof arguments[n])try{"body"!==arguments[n]&&"html"!==arguments[n]&&(document.querySelector(arguments[n]),""!==e&&(e+=", "),e+=arguments[n])}catch(e){we(e,"hideSectionsInvalidCSSSelector")}""!==e&&(e+=" { visibility: hidden !important; }",n=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css",t.setAttribute("class","evergagePersonalizationSections"),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),e=2500,q(arguments[arguments.length-1])&&(e=arguments[arguments.length-1]),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=setTimeout(function(){Yi=!0,Zi=(new Date).getTime(),window.Evergage&&window.Evergage.util&&window.Evergage.util.reshowPersonalizedSectionsNow?window.Evergage.util.reshowPersonalizedSectionsNow():oo()},e),n.appendChild(t),Yr=!0)}}},hidePages:function(){if(ti.runningInMobileApp)ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Flicker defense is disabled when beacon  is running within phonegap.");else if(!0!==Xi&&0!==arguments.length)for(var e=arguments[arguments.length-1],t=0;t<arguments.length;t++){var n=!1;if("object"==typeof(a=arguments[t])){var o=a.campaignId,i=a.experienceId;if((a=to(a.pageUrlCampaignRule)).inclusions.exists&&a.pathIsExactly.exists&&(n=a.inclusions.matched&&a.pathIsExactly.matched),!a.inclusions.exists&&a.pathIsExactly.exists?n=a.pathIsExactly.matched:a.inclusions.exists&&!a.pathIsExactly.exists&&(n=a.inclusions.matched),n=a.exclusions.matched?!1:n){r=e,n=a=void 0,a=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.setAttribute("class","evergageRedirectedPageHidden"),n.styleSheet?n.styleSheet.cssText="body, html { visibility: hidden !important; }":n.appendChild(document.createTextNode("body, html { visibility: hidden !important; }")),r=q(r)?r:1e3,clearTimeout(zr),zr=setTimeout(function(){eo()},r),a.appendChild(n),Xi=!0,ajq.log.shouldLog("INFO")&&console.log("Evergage: Hiding page for possible redirect campaigns."),ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Hiding page for anticipated redirect. campaignId ["+o+"] experienceId ["+i+"]");break}}}var r,a},findAndMovePageTopOrBottomElements:function(e,t){var n,o=[],i=[],r=[],a=ajq("*").not("#aptToolbar-container").not("#apptegicMessageContainerForToolbarEnabledPages").not("#evergageMessageContainerForTestMode").not(".context-menu-list.aptb.context-menu-root").not("#context-menu-layer").not(".apptegic-field-tooltip").not(".apptegic-click-tooltip").not("#evergage-tooltip-amb_TEST_").not("[id^=evergage-tooltip-amb]").not(".evergage-tribes *"),s=!1;!0!==ajq.browser.chrome||(n=parseInt(ajq.browser.version))&&q(n)&&(s=51<=n),n=[];try{ajq.isArray(window.Evergage.excludedSelectorsFromInfobarPushing)&&(n=window.Evergage.excludedSelectorsFromInfobarPushing)}catch(e){he(e,"excludedSelectorsFromInfobarPushing")}for(var l=0;l<a.length;l++){var c,g,u=a.get(l);if((c="auto"!=ajq(u).css(e)&&-1==ajq(u).css(e).indexOf("%"))&&!(c="fixed"==ajq(u).css("position"))&&(g=e,c="absolute"==ajq(c=u).css("position")&&null!=ajq(c).parent().get(0).tagName&&"body"==ajq(c).parent().get(0).tagName.toLowerCase()&&"0px"==ajq(c).css(g)),c){if("bottom"===e&&(!0===ajq.browser.mozilla||s)&&(c=parseFloat(ajq(u).css(e)),isNaN(c)||t+10<c||c<0))continue;if("top"==e&&null==u.originalTopValue&&"none"!=ajq(u).css("display")&&(u.originalTopValue=At(ajq(u).css(e))),"bottom"==e&&null==u.originalBottomValue&&"none"!=ajq(u).css("display")&&(u.originalBottomValue=At(ajq(u).css(e))),Tt(u,n))continue;("top"==e?o:i).push(u)}(c="none"!=ajq(u).css("background-image")&&"inherit"!=ajq(u).css("background-image"))&&((c="fixed"==ajq(c=u).css("background-attachment")&&null!=St(c)&&kt(St(c),"px"))||(c="body"==ajq(c=u).get(0).tagName.toLowerCase()&&null!=St(c)&&(kt(St(c),"px")||"0%"==St(c)))),c&&(null==u.originalBackgroundPositionYValue&&(u.originalBackgroundPositionYValue=At(St(u))),Tt(u,n)||r.push(u))}for(a=0;a<("top"==e?o:i).length;a++)s=("top"==e?o:i)[a],"none"!=ajq(s).css("display")&&("top"==e&&(null==s.originalTopValue&&(s.originalTopValue=At(ajq(s).css(e))),s.originalTopValue>t+At(ajq(s).css(e))?ajq(s).css(e,s.originalTopValue):ajq(s).css(e,t+At(ajq(s).css(e)))),"bottom"==e&&(null==s.originalBottomValue&&(s.originalBottomValue=At(ajq(s).css(e))),s.originalBottomValue>t+At(ajq(s).css(e))?ajq(s).css(e,s.originalBottomValue):ajq(s).css(e,t+At(ajq(s).css(e)))));for(a=0;a<r.length;a++)s=r[a],"none"!=ajq(s).css("display")&&"top"==e&&(null==s.originalBackgroundPositionYValue&&(s.originalBackgroundPositionYValue=At(St(s))),s.originalBackgroundPositionYValue>t+At(St(s))?It(s,s.originalBackgroundPositionYValue.toString()+"px"):It(s,(t+At(St(s))).toString()+"px"))},setMessageAsDisplayedForReshowPersonalizationSections:function(e){if(0===Ki.length)ajq.log.shouldLog("TRACE")&&console.log("Evergage: Not bothering to attempt to reshow personalized sections as it seems that this processing already happened.");else{for(var t=0;t<Ki.length;t++)if("amb"+Ki[t]===e){Ki.splice(t,1);break}0===Ki.length&&(ajq.log.shouldLog("TRACE")&&console.log("Evergage: Reshowing personalized sections due to all applicable messages for the first twreceiver response becoming visibile."),clearTimeout(window.evergageReshowPersonalizedSectionsTimeout),window.evergageReshowPersonalizedSectionsTimeout=-1,Hr=!1,no())}},matchesPageCssSelectorRule:Lt,buildRulesByType:ot,detectPageName:pn,trackCampaignStats:Je,trackClickthrough:function(e,t,n){try{var o,i,r;"string"==typeof e?"object"==typeof(o=Li[e])?We(o,t,n):ajq.log.shouldLog("WARN")&&console.log("Evergage: Could not find message object given the messageId ["+e+"]."):"object"==typeof e&&(e.id&&e.experienceId?We(e,t,n):1!==(i=ajq(e).closest(".evergage-tooltip.evergage-qtip")).length||(r=i.qtip("api"))&&r.options&&r.options.bundle&&We(r.options.bundle,t,n))}catch(e){he(e,"trackClickthrough")}},trackExperienceClickthrough:He,bindControlClickthrough:function(e,t){ajq(e).unbind("click.egControl"+t.experienceId),Co(e,function(){He(t)},null,"click.egControl"+t.experienceId)},personalizedContentHideTimedOut:function(e){Yi=!0,Zi="number"==typeof e&&0<e?e:(new Date).getTime()},personalizedSectionsHaveBeenHidden:function(){Yr=!0},getDisabledQtipWindowScroll:function(){return ti.disableQtipWindowScroll},getUserIdRestApiParams:function(){var e,t={};return t.userId=mi.userId,t.userId||(e=mi._persistedUserId)&&(t.persistedUserId=e),t.userId||t.persistedUserId||!ti.trackAnonymous||(t.anonymous=!0,e=Ae(),t.userId=e.uuid,e.affinityId&&(t.affinityId=e.affinityId)),t},safeBlur:function(e,t,n){return Co(e,t,n,"blur")},safeChange:function(e,t,n){return Co(e,t,n,"change")},safeClick:function(e,t,n){return Co(e,t,n,"click")},safeDblclick:function(e,t,n){return Co(e,t,n,"dblclick")},safeFocus:function(e,t,n){return Co(e,t,n,"focus")},safeFocusin:function(e,t,n){return Co(e,t,n,"focusin")},safeFocusout:function(e,t,n){return Co(e,t,n,"focusout")},safeKeydown:function(e,t,n){return Co(e,t,n,"keydown")},safeKeypress:function(e,t,n){return Co(e,t,n,"keypress")},safeKeyup:function(e,t,n){return Co(e,t,n,"keyup")},safeMousedown:function(e,t,n){return Co(e,t,n,"mousedown")},safeMouseenter:function(e,t,n){return Co(e,t,n,"mouseenter")},safeMouseleave:function(e,t,n){return Co(e,t,n,"mouseleave")},safeMousemove:function(e,t,n){return Co(e,t,n,"mousemove")},safeMouseout:function(e,t,n){return Co(e,t,n,"mouseout")},safeMouseover:function(e,t,n){return Co(e,t,n,"mouseover")},safeResize:function(e,t,n){return Co(e,t,n,"resize")},safeScroll:function(e,t,n){return Co(e,t,n,"scroll")},safeSelect:function(e,t,n){return Co(e,t,n,"select")},safeSubmit:function(e,t,n){return Co(e,t,n,"submit")},safeTouchstart:function(e,t,n){return Co(e,t,n,"touchstart")},safeTouchmove:function(e,t,n){return Co(e,t,n,"touchmove")},safeTouchend:function(e,t,n){return Co(e,t,n,"touchend")},safeTouchCancel:function(e,t,n){return Co(e,t,n,"touchcancel")},safeTimeout:function(e,t){return Co(t,e,"timeout")},safeInterval:function(e,t){return Co(t,e,"interval")},buildAccountParameterIfNecessary:Ke,buildUserParams:te,safeBind:Co,clearUser:jo,clearCompany:qo,logException:we,sendException:he,setCampaignDisplayDisabled:function(e){Qr=e},util:{getMetaContent:function(e){return 0<(e=ajq("meta[name='"+e+"']:first")).length?ajq.trim(ajq("<div/>").html(e.attr("content")).text()):null},getOpenGraphContent:function(e){return 0<(e=ajq("meta[property='og:"+e+"']:first")).length?ajq.trim(e.attr("content")):null},getItemProp:function(e){return 0<(e=ajq("[itemprop='"+e+"']:first")).length?ajq.trim(e.text())||ajq.trim(e.attr("content")):null},getCurrencyValue:function(e){return e&&"string"==typeof e?(e=parseFloat(ajq.trim(e).replace(/[^0-9.]+/g,"")),isNaN(e)?null:e):null},getParameterByName:function(e,t){void 0===t&&(t=location.search),e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},getPathnameFromLocation:Io,getPathname:So,extractFirstGroup:ko,getLastPathComponent:Ao,qualifyUrl:Lo,removeQueryString:function(e){if(!e)return"";var t=document.createElement("a");return t.href=e,"/"!==(e=Io(t)).charAt(0)&&(e="/"+t.pathname),[t.protocol,"//","http:"===t.protocol&&"80"===t.port||"https:"===t.protocol&&"443"===t.port?t.hostname:t.host,e].join("")},getThisPageCanonicalUrl:function(){return ajq("link[rel=canonical]").attr("href")},getLastPathComponentWithoutExtension:function(e){var t=(e=Ao(Lo(e))).lastIndexOf(".");return 0<=t?e.substring(0,t):e},getAllTextBetween:function(e,t){var n=ajq(e)[0],o=ajq(t)[0];if(null==o)return"";for(var i="";n!=o;){if(null==n)return"";3==n.nodeType?i+=n.nodeValue||"":1==n.nodeType&&(i+=ajq(n).text()),n=n.nextSibling}return ajq.trim(i)},getCurrentPageItem:function(){return Pr},setCurrentPageItem:function(e){Pr=e},getCurrentPageLoadAction:function(){return Or},setCurrentPageLoadAction:function(e){qn(e)},runWhenReady:function(t,n,o,i){null==o&&(o=500),null==i&&(i=10);var r=0;!function e(){try{!0===t()?n():++r<=i&&Evergage.safeTimeout(e,o)}catch(e){he(e,"runWhenReady")}}()},reshowPersonalizedSectionsNow:oo,observeTargetNode:function(e,t,n){try{var o=ajq(e)[0],i=new(window.MutationObserver||window.WebKitMutationObserver)(n);return i.observe(o,t),i}catch(e){he(e,"observeTargetNode")}}},haltPageLoadEvent:Tn,sendPageLoadEventWhenTrue:function(e,t){return!0===ha.hasBeenFired?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Page load event has already been fired."),!1):"function"!=typeof e?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Data collection parameter must be of type function but is ["+typeof e+"]."),!1):"number"!=typeof t||isNaN(parseInt(t))?(ajq.log.shouldLog("WARN")&&console.log("Evergage: Data collection timeout must be of type number but is ["+typeof t+"]."),!1):(Tn(),ha.maxTimeout=t,ha.timerStart=(new Date).getTime(),ha.timeoutDuration=100,void An(e,!0))},hasPageLoadEventBeenFired:function(){return ha.hasBeenFired},parseLaxJson:ht,renderItemHtml:mt,getTimeSincePageInitForVariable:function(e){return"object"==typeof window.performance&&"object"==typeof window.performance.timing&&"number"==typeof window.performance.timing.navigationStart&&0<window.performance.timing.navigationStart&&"number"==typeof window.performance.timing[e]&&0<window.performance.timing[e]?window.performance.timing[e]-window.performance.timing.navigationStart:0},loadTimeValuesReadyToSend:function(){var e,t=!0;return!ra||(null==(e=Evergage.getTimeSincePageInitForVariable("domContentLoadedEventEnd"))||e<=0)&&(t=!1),t=aa&&(null==(e=Evergage.getTimeSincePageInitForVariable("loadEventEnd"))||e<=0)?!1:t},renderItemBlockMessageWithExternalPromotedItems:function(e,t,n){try{e.promotedItems=(i=n,r=/^custom\./,a=[],ajq.each(t,function(e,t){for(var n in i){var o;i.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(o=i[n],r.test(o)?(o=o.replace(r,""),t.custom[o]=t[n]):t[o]=t[n])}a.push(t)}),a),dt(e,!1),ut(e)}catch(e){Evergage.sendException(e,"renderItemBlockMessageWithExternalPromotedItems")}var i,r,a},formatMoney:bt,determineUserLocale:function(){return navigator.languages&&1<=navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage},setUserLocale:function(e){pa=e},trackUnsubscribe:function(e){Z(e=ne(e=ajq.isArray(e)?e.join():e,!1),"/unsubscribe")},trackSubscribe:function(e){Z(e=ne(e=ajq.isArray(e)?e.join():e,!0),"/subscribe")},Surveys:ka}}(),window.Evergage=Evergage,"number"!=typeof window.evergageReshowPersonalizedSectionsTimeout&&(window.evergageReshowPersonalizedSectionsTimeout=-1),function(){function r(e,t){if(2<arguments.length||2==arguments.length&&null!=t&&ajq.isArray(t)){for(var n=!0,o=0;o<arguments.length;o++)n=n&&r(arguments[o]);return n}if((n=function(e){this.name="Bad Syntax",this.message=e}).prototype.toString=function(){return"["+(this.name||"unknown")+"] "+(this.message||"no description")},!e||!ajq.isArray(e))throw new n("Evergage: [ERROR] - Bad Syntax - item in _aaq array ["+e+"] must be an array.");if(0===e.length)throw new n("Evergage: [ERROR] - Bad Syntax - array in _aaq array must contain at least one item.");var i=[];if("priorityInitFunctions"==t?i="setEvergageAccount setApptegicAccount setAccount setDataset setOption setOptions setCookieDomain setCookiePath setTrackerUrl setCdnHost".split(" "):"loggingFunctions"==t?i=["setLoggingLevel"]:"identityInitFunctions"==t&&(i=["setAnonymousId"]),n=e[0],o=1<e.length?e.slice(1):[],"string"==typeof n||n instanceof String){if(0<i.length&&-1===ajq.inArray(n,i))return!1;i=Evergage[n]}else i=n;return"function"==typeof i?(null!==t?ajq.log.storeLogMessageUntilLogSettingsAreParsed("INFO","Evergage: Executing API function ["+n+"("+o+")]..."):ajq.log.shouldLog("DEBUG")&&console.log("Evergage: Executing API function ["+n+"("+o+")]..."),i.apply(Evergage,o),!0):(null!==t?ajq.log.storeLogMessageUntilLogSettingsAreParsed("ERROR","Evergage: [ERROR] - Unknown API function ["+n+"] in _aaq array."):ajq.log.shouldLog("WARN")&&console.log("Evergage: [ERROR] - Unknown API function ["+n+"] in _aaq array."),!1)}if(void 0!==ajq){var e;for("undefined"!=typeof EvergageUnitTestingMode&&!0===EvergageUnitTestingMode&&Evergage.testing(),e=0;e<_aaq.length;e++)r(_aaq[e],"priorityInitFunctions")&&(_aaq.splice(e,1),e--);for(e=0;e<_aaq.length;e++)r(_aaq[e],"loggingFunctions")&&(_aaq.splice(e,1),e--);for(e=0;e<_aaq.length;e++)r(_aaq[e],"identityInitFunctions")&&(_aaq.splice(e,1),e--);for(Evergage.processLoggingLevelSettings(),Evergage.processPerformanceTestLevelSettings(),Evergage.initEvergageTrackerUrl(),e=0;e<_aaq.length;e++)r(_aaq[e],null);window._aaq=_aaq=new function(){return{push:r}},e=Evergage.isValidToInit(),"function"==typeof window.evergageBeforeInit&&!1===window.evergageBeforeInit()&&(e=!1),"undefined"==typeof EvergageUnitTestingMode||!0!==EvergageUnitTestingMode?e?Evergage.init():(ajq.log.shouldLog("INFO")&&console.log("Evergage: Not enough information was provided to initialize the Evergage beacon.  Aborting Evergage beacon init."),Evergage.removeBeaconAndListenersFromPage()):"function"==typeof window.evergageLoaded&&(e?window.evergageLoaded(!0):(Evergage.removeBeaconAndListenersFromPage(),window.evergageLoaded(!1)))}}(),void 0!==Evergage&&Evergage?Evergage.cssLazyLoader=function(t,n){function o(e){-1!=ajq.inArray(e,t)&&t.splice(ajq.inArray(e,t),1),0==t.length&&(!a&&Object.keys&&Object.keys(r).length!=i&&void 0!==evergageLog&&evergageLog.shouldLog("WARN")&&console.log("Evergage: CSS files never registered themselves as being loaded. Showing the messages anyway."),n&&n())}for(var e=[],i=t.length,r={},a=!1,s=0;s<t.length;s++){var l=t[s];0<=l.indexOf("&timestamp=")&&(a=!0),function(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",t.onload=function(){r[e]=!0,o(e)},t.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState||(r[e]=!0,o(e))},document.getElementsByTagName("head")[0].appendChild(t)}(l),e.push(function(e){return setTimeout(function(){0!=t.length&&void 0!==ajq&&o(e)},750)}(l))}return e}:void 0!==evergageLog&&evergageLog.shouldLog("WARN")&&console.log("Evergage: Two-way beacon not found, not loading the css lazy loader."),window.evergageBeaconParseTimeEnd=(new Date).getTime());

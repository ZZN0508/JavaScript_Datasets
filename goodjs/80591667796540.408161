(window.webpackJsonp=window.webpackJsonp||[]).push([["tag"],{"738d":function(a,e,t){a.exports=t.p+"img/tag.19db7afd.png"},"8ea7":function(a,e,n){"use strict";n.r(e);var i=n("5530");function c(a){return a.replace("--","@@@@@").replace("-"," ").replace("@@@@@","-")}n("5346"),n("859b");var s=n("83cc"),u=n("186e"),l=n("d740"),d=(n("caad"),n("2532"),n("96cf"),n("1da1")),g=n("750b");var t={components:{VideoPage:n("83d3").a},metaInfo:function(){var a={meta:[{name:"keywords",content:"tags"},{name:"description",content:"Tags.",vmid:"description"}]};return this.cachedTagRouteParam&&(a.title=c(this.cachedTagRouteParam)),a},setup:function(a,e){return Object(i.a)({isMobile:s.a,tagUrlToText:c,cancelGetTagPage:l.a,camelKebabCase:u.a},(n=e.root.$store,o=Object(g.a)(function(){return n.state.account.signedIn}),r=Object(g.a)(function(){return n.state.account.followingTags}),{handleTagFollow:(t=Object(d.a)(regeneratorRuntime.mark(function a(e){var t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o.value){a.next=3;break}return n.commit("ui/setIsLoginModalShown",!0),a.abrupt("return");case 3:t=r.value.includes(e),n.dispatch("account/followAction",{id:e,type:"tag",action:t?"unfollow":"follow"});case 5:case"end":return a.stop()}},a)})),function(a){return t.apply(this,arguments)}),isTagFollowed:function(a){return r.value.includes(a)},isTagFollowLoading:function(a){return n.state.account.processingTags.includes(a)}}));var t,n,o,r},data:function(){return{cachedTagRouteParam:null}},computed:{tag:function(){return this.$store.state.main.data.tag}},watch:{"$route.params.tag":{handler:function(a){a&&a!==this.cachedTagRouteParam&&window.scrollTo(0,0),a&&(this.cachedTagRouteParam=a)},immediate:!0}},beforeDestroy:function(){Object(l.a)()},methods:{handleLoadPage:function(a){var e=this,t=this.$route.params.tag;this.$store.dispatch("main/getTagPage",{tag:t,page:a}).then(function(a){a&&a.error&&404===a.errorCode&&e.$router.push({path:"/404"})})}}},o=n("2877"),t=Object(o.a)(t,function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("VideoPage",{attrs:{"base-url":"/tag/"+e.cachedTagRouteParam},on:{"reset-page":e.cancelGetTagPage,"load-page":e.handleLoadPage},scopedSlots:e._u([{key:"beforePage",fn:function(a){a=a.isPageLoading;return[e.isMobile()?e._e():[a?t("div",{staticClass:"container mb-5"},[t("XxxTagCard",{style:{width:"348px"},attrs:{"is-loading":""}})],1):e.tag?t("div",{staticClass:"container mb-5"},[t("XxxTagCard",{style:{width:"348px"},attrs:{img:n("738d"),name:e.camelKebabCase(e.tag.name," "),videos:e.tag.videos,"is-followed":e.isTagFollowed(e.tag.id),"is-follow-loading":e.isTagFollowLoading(e.tag.id)},on:{click:function(){var a="/tag/"+e.cachedTagRouteParam;e.$route.path!==a&&e.$router.push({path:a})},"follow-click":function(a){return e.handleTagFollow(e.tag.id)}}})],1):e._e()]]}}])})},[],!1,null,null,null);e.default=t.exports}}]);

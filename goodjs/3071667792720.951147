YUI.add("af-transport",function(u,f){"use strict";var d=u.Af,n=d.Config,a=u.TDAPI.RemoteStore,c=u.Lang.isFunction;function i(t){var e=n.get("context"),o={config:n.get("transport"),context:{}};return e&&u.Array.forEach(n.contextKeys(),function(t){Object.prototype.hasOwnProperty.call(e,t)&&(o.context[t]=e[t])}),d.Utils.objectMerge(o,t)}function s(r,a,c,i,s){return function(t,e){var o,n;if(t){n="",o={code:t.code||t.statusCode,message:t.message||t.statusText},t.timeout&&(o.timeout=t.timeout),t.timeoutBy&&(o.timeoutBy=t.timeoutBy);try{n=u.JSON.stringify(c)}catch(t){}n={resource:r,operation:a,params:n},i.config&&i.config.beaconMeta&&(n=u.merge(n,i.config.beaconMeta)),d.Beacon.error(f,n,o)}return s&&s(t,e)}}u.namespace("Af").Transport={create:function(t,e,o,n,r){c(n)&&(r=n,n={}),a.create(t,e,o,i(n),s(t,"create",e,n,r))},read:function(t,e,o,n){c(o)&&(n=o,o={}),a.read(t,e,i(o),s(t,"read",e,o,n))},update:function(t,e,o,n,r){c(n)&&(r=n,n={}),a.update(t,e,o,i(n),s(t,"update",e,n,r))},del:function(t,e,o,n){c(o)&&(n=o,o={}),a.del(t,e,i(o),s(t,"delete",e,o,n))}},u.Af.Transport.delete=u.Af.Transport.del},"@VERSION@",{requires:["af-beacon","af-config","af-utils","json-stringify","tdapi-remotestore"]});

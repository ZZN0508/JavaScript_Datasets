(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{102:function(t,e,i){var n=i(8),s=i(15),o=i(4);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",r)}},105:function(t,e,i){var n=i(8),s=i(28),o=i(4),r=i(106),a="["+r+"]",d=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),u=function(t,e,i){var s={},a=o(function(){return!!r[t]()||"â€‹Â…"!="â€‹Â…"[t]()}),d=s[t]=a?e(l):r[t];i&&(s[i]=d),n(n.P+n.F*a,"String",s)},l=u.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},106:function(t,e){t.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},27:function(t,e,i){"use strict";var n=i(3),s=i(19),o=i(49),r=i(35);i(36)("match",1,function(t,e,i,a){return[function(i){var n=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=a(i,t,this);if(e.done)return e.value;var d=n(t),c=String(this);if(!d.global)return r(d,c);var u=d.unicode;d.lastIndex=0;for(var l,h=[],g=0;null!==(l=r(d,c));){var p=String(l[0]);h[g]=p,""===p&&(d.lastIndex=o(c,s(d.lastIndex),u)),g++}return 0===g?null:h}]})},30:function(t,e,i){i(65)("asyncIterator")},31:function(t,e,i){"use strict";var n=i(2),s=i(12),o=i(5),r=i(8),a=i(9),d=i(95).KEY,c=i(4),u=i(40),l=i(39),h=i(24),g=i(1),p=i(66),f=i(65),m=i(96),v=i(64),b=i(3),y=i(6),S=i(17),w=i(20),E=i(38),L=i(37),I=i(50),A=i(97),T=i(51),_=i(48),C=i(7),D=i(16),M=T.f,O=C.f,P=A.f,k=n.Symbol,F=n.JSON,x=F&&F.stringify,R=g("_hidden"),B=g("toPrimitive"),H={}.propertyIsEnumerable,N=u("symbol-registry"),j=u("symbols"),U=u("op-symbols"),q=Object.prototype,V="function"==typeof k&&!!_.f,W=n.QObject,z=!W||!W.prototype||!W.prototype.findChild,$=o&&c(function(){return 7!=I(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=M(q,e);n&&delete q[e],O(t,e,i),n&&t!==q&&O(q,e,n)}:O,G=function(t){var e=j[t]=I(k.prototype);return e._k=t,e},K=V&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},Y=function(t,e,i){return t===q&&Y(U,e,i),b(t),e=E(e,!0),b(i),s(j,e)?(i.enumerable?(s(t,R)&&t[R][e]&&(t[R][e]=!1),i=I(i,{enumerable:L(0,!1)})):(s(t,R)||O(t,R,L(1,{})),t[R][e]=!0),$(t,e,i)):O(t,e,i)},J=function(t,e){b(t);for(var i,n=m(e=w(e)),s=0,o=n.length;o>s;)Y(t,i=n[s++],e[i]);return t},Q=function(t){var e=H.call(this,t=E(t,!0));return!(this===q&&s(j,t)&&!s(U,t))&&(!(e||!s(this,t)||!s(j,t)||s(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=w(t),e=E(e,!0),t!==q||!s(j,e)||s(U,e)){var i=M(t,e);return!i||!s(j,e)||s(t,R)&&t[R][e]||(i.enumerable=!0),i}},X=function(t){for(var e,i=P(w(t)),n=[],o=0;i.length>o;)s(j,e=i[o++])||e==R||e==d||n.push(e);return n},tt=function(t){for(var e,i=t===q,n=P(i?U:w(t)),o=[],r=0;n.length>r;)!s(j,e=n[r++])||i&&!s(q,e)||o.push(j[e]);return o};V||(a((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(i){this===q&&e.call(U,i),s(this,R)&&s(this[R],t)&&(this[R][t]=!1),$(this,t,L(1,i))};return o&&z&&$(q,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),T.f=Z,C.f=Y,i(34).f=A.f=X,i(33).f=Q,_.f=tt,o&&!i(23)&&a(q,"propertyIsEnumerable",Q,!0),p.f=function(t){return G(g(t))}),r(r.G+r.W+r.F*!V,{Symbol:k});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)g(et[it++]);for(var nt=D(g.store),st=0;nt.length>st;)f(nt[st++]);r(r.S+r.F*!V,"Symbol",{for:function(t){return s(N,t+="")?N[t]:N[t]=k(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),r(r.S+r.F*!V,"Object",{create:function(t,e){return void 0===e?I(t):J(I(t),e)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:tt});var ot=c(function(){_.f(1)});r(r.S+r.F*ot,"Object",{getOwnPropertySymbols:function(t){return _.f(S(t))}}),F&&r(r.S+r.F*(!V||c(function(){var t=k();return"[null]"!=x([t])||"{}"!=x({a:t})||"{}"!=x(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],s=1;arguments.length>s;)n.push(arguments[s++]);if(i=e=n[1],(y(e)||void 0!==t)&&!K(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!K(e))return e}),n[1]=e,x.apply(F,n)}}),k.prototype[B]||i(11)(k.prototype,B,k.prototype.valueOf),l(k,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},342:function(t,e,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i(30),i(31),i(67),i(63),i(32),i(27),i(240),i(22),i(47),i(45),i(68),i(52),i(18),function(t){var e=[".salesforce.com",".force.com",".sfdc.net"],i="ESW_OAUTH_TOKEN",s="ESW_BODY_SCROLL_POSITION",o="ESW_IS_MINIMIZED",r="ESW_MINIMIZED_TEXT";function a(){var t,e=!1;this.settings={appendHelpButton:!0,displayHelpButton:!0,isExternalPage:!0,devMode:!1,targetElement:document.body,elementForOnlineDisplay:void 0,elementForOfflineDisplay:void 0,defaultMinimizedText:"",disabledMinimizedText:"",defaultAssistiveText:"",loadingText:"Loading",showIcon:void 0,enabledFeatures:[],entryFeature:"FieldService",storageDomain:document.domain,language:void 0,linkAction:{feature:void 0,name:void 0,valid:!1},linkActionParameters:{},useCustomAuthentication:!1,allowGuestUsers:!1,requireSLDS:!1},this.auth={},this.validLinkActions={},this.isMasterAndHasSlaves=!1,Object.defineProperty(this.auth,"oauthToken",{get:function(){return t},set:function(e){this.validateHeaderValue(e)?(t=e,e?(this.setSessionData(i,e),this.checkAuthentication()):this.deleteSessionData(i)):this.error('"'+e+'" is not a valid OAuth token.')}.bind(this)}),this.featureScripts={},this.storedEventHandlers={},this.messageHandlers={},this.storageKeys=[s,o,r,i],this.defaultSettings={},this.snippetSettingsFile={},this.eswFrame=void 0,this.availableFeatures=["script","session"],this.outboundMessagesAwaitingIframeLoad=[],this.pendingMessages={},this.iframeScriptsToLoad=[],this.domInitInProgress=!1,this.componentInitInProgress=!1,this.hasSessionDataLoaded=!1,this.isIframeReady=!1,this.isAuthenticationRequired=!1,this.loginPendingSerializedData=void 0,Object.defineProperty(this,"isButtonDisabled",{get:function(){return e},set:function(t){e=t,this.onButtonStatusChange()}.bind(this),configurable:!0}),this.setupMessageListener(),this.getLinkActionData()}function d(){return window.$A&&"function"==typeof window.$A.get&&window.$A.get("$Site")}a.prototype.getLightningOutParamsObj=function(){var t={};return embedded_svc.config&&embedded_svc.config.additionalSettings&&embedded_svc.config.additionalSettings.labelsLanguage?t={guestUserLang:embedded_svc.config.additionalSettings.labelsLanguage}:embedded_svc.settings.language&&""!==embedded_svc.settings.language.trim()&&(t={guestUserLang:embedded_svc.settings.language}),t.eswConfigDeveloperName=embedded_svc.settings.eswConfigDevName,t},a.prototype.adjustCommunityStorageDomain=function(){this.isCommunityDomain(this.settings.storageDomain)&&this.settings.storageDomain===document.domain&&(this.settings.storageDomain=this.settings.storageDomain+"/"+window.location.pathname.split("/")[1])},a.prototype.loadLightningOutScripts=function(t){if("function"==typeof Promise)return new Promise(function(e,i){var n,s;try{n=t&&t.baseCoreURL?t.baseCoreURL:embedded_svc.settings.baseCoreURL,window.$Lightning?e("Lightning Out is already loaded on this page."):d()?e("Communities context does not require Lightning Out to use Embedded Service."):n&&((s=document.createElement("script")).type="text/javascript",s.src=n+"/lightning/lightning.out.js",s.onload=function(){e("Lightning Out scripts loaded.")},document.getElementsByTagName("head")[0].appendChild(s))}catch(t){i(t)}});this.loadScriptFromDirectory("common","promisepolyfill",function(){return this.loadLightningOutScripts(t)}.bind(this),!0)},a.prototype.instantiateLightningOutApplication=function(t){if("function"==typeof Promise)return new Promise(function(e,i){var n,s,o;try{n=t&&t.communityEndpointURL?t.communityEndpointURL:embedded_svc.settings.communityEndpointURL,s=t&&t.oauthToken?t.oauthToken:embedded_svc.settings.oauthToken,o=t&&t.paramsObj?t.paramsObj:embedded_svc.getLightningOutParamsObj()||void 0,d()?e("Communities context already has an Aura context."):window.$Lightning&&$Lightning.use("embeddedService:sidebarApp",function(){e("Lightning Out application request complete.")},n,s,o)}catch(t){i(t)}});this.loadScriptFromDirectory("common","promisepolyfill",function(){return this.instantiateLightningOutApplication(t)}.bind(this),!0)},a.prototype.createEmbeddedServiceComponent=function(t){if("function"==typeof Promise)return new Promise(function(e,i){var n,s,o=t&&t.chatAPISettings?embedded_svc.validateStartChatAttributes(t.chatAPISettings):{};try{n=t&&t.attributes?t.attributes:{configurationData:embedded_svc.settings,chatAPISettings:o},s=t&&t.locator?t.locator:embedded_svc.settings.targetElement,embedded_svc.preparePageForSidebar(),window.$Lightning&&!document.querySelector(".embeddedServiceSidebar")?$Lightning.ready($Lightning.createComponent.bind(this,"embeddedService:sidebar",n,s,function(t,n,s){"SUCCESS"===n?embedded_svc.utils.addEventHandler("afterInitialization",function(){e("Embedded Service component created.")}):i(s)})):d()?window.dispatchEvent(new CustomEvent("embeddedServiceCreateSidebar",{detail:{componentAttributes:n,resolve:e,reject:i}})):void 0===window.$Lightning?e("Lightning Out should be loaded on this page before creating the Embedded Service component."):e("Embedded Service component already exists.")}catch(t){i(t)}});this.loadScriptFromDirectory("common","promisepolyfill",function(){return this.createEmbeddedServiceComponent(t)}.bind(this),!0)},a.prototype.bootstrapEmbeddedService=function(t){if("function"==typeof Promise)return new Promise(function(e,i){try{embedded_svc.loadLightningOutScripts(t).then(function(){embedded_svc.instantiateLightningOutApplication(t).then(function(){embedded_svc.createEmbeddedServiceComponent(t).then(function(){window.requestAnimationFrame(function(){embedded_svc.hideHelpButton(),e("Embedded Service application and component bootstrapped.")})})})})}catch(t){i(t)}});this.loadScriptFromDirectory("common","promisepolyfill",function(){return embedded_svc.bootstrapEmbeddedService(t)},!0)},a.prototype.validateStartChatAttributes=function(t){var e=t||{},i=e&&e.prepopulatedPrechatFields?e.prepopulatedPrechatFields:{},s=e&&e.extraPrechatInfo?e.extraPrechatInfo:[],o=e&&e.extraPrechatFormDetails?e.extraPrechatFormDetails:[],r=e&&e.fallbackRouting?e.fallbackRouting:[],a=e&&e.directToButtonRouting?e.directToButtonRouting:void 0,d={buttonId:e&&e.buttonId?e.buttonId:void 0,userId:e&&e.userId?e.userId:void 0,fallback:e&&"boolean"==typeof e.fallback?e.fallback:void 0};if("object"!==n(i))throw new Error("Validation failed for prepopulatedPrechatFields, received: "+i);if(e.prepopulatedPrechatFields=i,!Array.isArray(o))throw new Error("Validation failed for extraPrechatFormDetails, received: "+o);if(e.extraPrechatFormDetails=o,!Array.isArray(s))throw new Error("Validation failed for extraPrechatInfo, received: "+s);if(e.extraPrechatInfo=s,!Array.isArray(r))throw new Error("Validation failed for fallbackRouting, received: "+r);if(e.fallbackRouting=r,"function"==typeof a?e.directToButtonRouting=a:embedded_svc.log("Did not receive an actionable parameter for directToButtonRouting, received: "+a),"object"!==n(d))throw new Error("Validation failed for directToAgentRouting, received: "+d);if(e.directToAgentRouting=d,d.buttonId){if("string"!=typeof d.buttonId||!d.buttonId.trim().length)throw new Error("Validation failed for directToAgentRouting's buttonId, received: "+d.buttonId);e.directToAgentRouting.buttonId=d.buttonId.trim(),e.directToAgentRouting.fallback=d.fallback,d.userId&&("string"==typeof d.userId&&d.userId.trim().length?e.directToAgentRouting.userId=d.userId.trim():embedded_svc.log("Did not receive an actionable parameter for directToAgentRouting's userId, received: "+d.userId))}else embedded_svc.log("Did not receive an actionable parameter for directToAgentRouting's buttonId, received: "+d.buttonId);return e},a.prototype.isInternetExplorer=function(){return"ActiveXObject"in window},a.prototype.outputToConsole=function(t,e,i){(i||this.settings.devMode)&&console&&console[t]&&console[t]("[Snap-ins] "+(Array.isArray(e)?e.join(", "):e))},a.prototype.log=function(){this.outputToConsole("log",[].slice.apply(arguments))},a.prototype.error=function(t,e){t?this.outputToConsole("error",t,e):this.outputToConsole("error","esw responed with an unspecified error.",e),embedded_svc.utils.fireEvent("error")},a.prototype.warning=function(t,e){t?this.outputToConsole("warn","Warning: "+t,e):this.outputToConsole("warn","esw sent an anonymous warning.",e)},a.prototype.deprecated=function(t){this.warning(t+" is deprecated in version "+Number("5.0").toFixed(1)+" and will be removed in version "+(Number("5.0")+1).toFixed(1))},a.prototype.getCookie=function(t){var e,i,n=document.cookie;if(n&&-1!==(e=n.indexOf(t+"=")))return e+=(t+"=").length,-1===(i=n.indexOf(";",e))&&(i=n.length),n.substring(e,i)},a.prototype.setCookie=function(t,e,i){var n,s=t+"="+e+";";i&&((n=new Date).setFullYear(n.getFullYear()+10),s+="expires="+n.toUTCString()+";"),s+="path=/;",document.cookie=s},a.prototype.mergeSettings=function(t){Object.keys(t).forEach(function(e){void 0===this.settings[e]&&(this.settings[e]=t[e])}.bind(this))},a.prototype.loadFeatureScript=function(t,e){var i=decodeURI(t).toLowerCase();-1===t.indexOf("..")?this.loadScriptFromDirectory("client",i+".esw",function(){this.featureScripts[t](this),this.availableFeatures.push(i),embedded_svc.utils.fireEvent("featureLoaded",void 0,t),e&&e(),this.processPendingMessages(i)}.bind(this)):this.error('"'+t+'" is not a valid feature name.')},a.prototype.fireEvent=function(t,e){var i=[].slice.apply(arguments).slice(2);return window.embedded_svc&&embedded_svc.utils?embedded_svc.utils.fireEvent(t,e,i):(this.error("fireEvent should not be called before calling init!"),!0)},a.prototype.isValidEntityId=function(t){return"string"==typeof t&&(18===t.length||15===t.length)},a.prototype.getKeyPrefix=function(t){if(this.isValidEntityId(t))return t.substr(0,3)},a.prototype.isOrganizationId=function(t){return"00D"===this.getKeyPrefix(t)},a.prototype.getESWFrame=function(){var t=document.getElementById("esw_storage_iframe");return!this.eswFrame&&t&&(this.eswFrame=t.contentWindow),this.eswFrame},a.prototype.isFrameStorageEnabled=function(){return this.deprecated("isFrameStorageEnabled"),!0},a.prototype.processPendingMessages=function(t){this.pendingMessages[t]&&(this.pendingMessages[t].forEach(function(t){this.handleMessage(t.payload)}.bind(this)),this.pendingMessages[t]=void 0)},a.prototype.loadCSS=function(){var t=document.createElement("link"),e=this.settings.gslbBaseURL?this.settings.gslbBaseURL:this.settings.baseCoreURL;t.href=e+"/embeddedservice/"+this.settings.releaseVersion+"/esw"+(this.settings.devMode?"":".min")+".css",t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t)},a.prototype.appendHelpButton=function(t){var e=document.createElement("div"),i="";e.className="embeddedServiceHelpButton",this.isLanguageRtl(this.settings.language)&&this.isDesktop()&&(i='dir="rtl"'),e.innerHTML='<div class="helpButton"'+i+'><button class="helpButtonEnabled uiButton" href="javascript:void(0)"><span class="embeddedServiceIcon" aria-hidden="true" data-icon="î¤€"></span><span class="helpButtonLabel" id="helpButtonSpan" aria-live="polite" aria-atomic="true"><span class="assistiveText">'+(this.settings.defaultAssistiveText||"")+'</span><span class="message"></span></span></button></div>',t||(e.style.display="none"),this.settings.targetElement.appendChild(e),this.setHelpButtonText(this.settings.defaultMinimizedText),"ontouchstart"in document.documentElement&&[].slice.apply(document.querySelectorAll(".embeddedServiceHelpButton .uiButton")).forEach(function(t){t.classList.add("no-hover")}),this.onButtonStatusChange()},a.prototype.appendIFrame=function(){var t=document.createElement("iframe"),e={};t.id="esw_storage_iframe",t.src=this.settings.iframeURL,t.style.display="none",t.onload=function(){var t=this.getESWFrame();this.isIframeReady=!0,this.outboundMessagesAwaitingIframeLoad.forEach(function(e){t.postMessage(e,this.settings.iframeURL)}.bind(this)),this.outboundMessagesAwaitingIframeLoad=[],this.iframeScriptsToLoad.forEach(function(t){this.loadStorageScript(t)}.bind(this)),e.deploymentId=this.settings.deploymentId,e.isSamePageNavigation=this.isSamePageNavigation(),e.isRefresh=1===window.performance.navigation.type,this.postMessage("session.updateStorage",e),this.iframeScriptsToLoad=[]}.bind(this),this.settings.targetElement.appendChild(t),window.addEventListener("beforeunload",function(e){var i="You might lose the active chat session if you close this tab. Are you sure?";if(this.isInternetExplorer()&&(t.src="about:blank"),this.isMasterAndHasSlaves){if(embedded_svc.utils.fireEvent("snapinsCloseSessionWarning"),!this.settings.closeSessionWarning||"function"!=typeof this.settings.closeSessionWarning)return(e||window.event).returnValue=i,i;this.settings.closeSessionWarning()}this.settings.__synchronous_decrement_tab||this.postMessage("chasitor.decrementActiveChatSession",this.settings.deploymentId)}.bind(this),!1)},a.prototype.preparePageForSidebar=function(){var t={};document.getElementById("snapins_invite")&&embedded_svc.inviteAPI&&embedded_svc.inviteAPI.inviteButton.setOnlineState(!1),embedded_svc.utils.fireEvent("beforeCreate"),Object.keys(this.settings).forEach(function(e){t[e]=this.settings[e]}.bind(this)),this.mergeSettings(this.defaultSettings)},a.prototype.createLightningComponent=function(t){this.preparePageForSidebar(),this.createEmbeddedServiceComponent({attributes:{configurationData:this.settings,serializedSessionData:t},locator:this.settings.targetElement}).then(function(){this.hideHelpButton(),this.componentInitInProgress=!1,this.setHelpButtonText(this.settings.defaultMinimizedText),embedded_svc.utils.fireEvent("ready")}.bind(this))},a.prototype.loadLightningApp=function(t){var e,i;if(this.settings.isExternalPage&&"string"!=typeof this.settings.communityEndpointURL)throw new Error("communityEndpointURL String property not set");(e=document.getElementsByClassName("helpButton")[0])&&(i=e.getBoundingClientRect().width)>0&&(e.style.width=i+"px"),this.setHelpButtonText(this.settings.loadingText,!1),this.instantiateLightningOutApplication({communityEndpointURL:this.settings.communityEndpointURL,oauthToken:this.auth.oauthToken}).then(this.createLightningComponent.bind(this,t))},a.prototype.initLightningOut=function(t){this.hasSessionDataLoaded&&("function"!=typeof Promise?this.loadScriptFromDirectory("common","promisepolyfill",function(){this.initLightningOut(t)}.bind(this),!0):this.loadLightningOutScripts().then(this.loadLightningApp.bind(this,t)))},a.prototype.setHelpButtonText=function(t,e){var i,n=void 0===this.settings.showIcon||this.settings.showIcon,s=void 0===e?n:e,o=document.getElementById("helpButtonSpan");o&&(o.querySelector(".message").innerHTML=t,(i=o.parentElement.querySelector(".embeddedServiceIcon"))&&(i.style.display=s?"inline-block":"none"))},a.prototype.prepareDOM=function(){this.domInitInProgress||(this.domInitInProgress=!0,this.appendIFrame())},a.prototype.addSessionHandlers=function(){this.addMessageHandler("session.onLoad",function(){this.postMessage("session.get",this.storageKeys)}.bind(this)),this.addMessageHandler("session.sessionData",function(t){this.resumeInitWithSessionData(t)}.bind(this)),this.addMessageHandler("session.deletedSessionData",function(t){t.indexOf("CHASITOR_SERIALIZED_KEY")>-1&&(this.loginPendingSerializedData=void 0)}.bind(this)),this.addMessageHandler("session.updateMaster",function(t){t&&(t.isMaster?sessionStorage.setItem(this.settings.storageDomain+"MASTER_DEPLOYMENT_ID",this.settings.deploymentId):sessionStorage.removeItem(this.settings.storageDomain+"MASTER_DEPLOYMENT_ID"),this.isMasterAndHasSlaves=t.activeChatSessions>1&&t.isMaster,embedded_svc&&embedded_svc.liveAgentAPI&&(embedded_svc.liveAgentAPI.browserSessionInfo=t))}.bind(this))},a.prototype.addMetaTag=function(t,e){var i=document.createElement("meta");i.name=t,i.content=e,document.head.appendChild(i)},a.prototype.init=function(t,e,i,n,s,o){if(this.settings.baseCoreURL=t,this.settings.communityEndpointURL=e,this.settings.gslbBaseURL=i||t,this.settings.orgId=n,this.settings.releaseVersion="5.0",this.settings.eswConfigDevName=s,this.mergeSettings(o||{}),this.adjustCommunityStorageDomain(),"string"!=typeof this.settings.baseCoreURL)throw new Error("Base core URL value must be a string.");if(!this.isOrganizationId(this.settings.orgId))throw new Error("Invalid OrganizationId Parameter Value: "+this.settings.orgId);embedded_svc.utils?this.finishInit():this.loadScriptFromDirectory("utils","common",this.finishInit.bind(this))},a.prototype.finishInit=function(){if(this.storedEventHandlers&&(Object.getOwnPropertyNames(this.storedEventHandlers).forEach(function(t){this.storedEventHandlers[t].forEach(function(e){embedded_svc.utils.addEventHandler(t,e)})}.bind(this)),this.storedEventHandlers={}),!embedded_svc.utils.fireEvent("validateInit",function(t){return-1!==t.indexOf(!1)},this.settings)){if(this.checkForNativeFunctionOverrides(),this.settings.appendHelpButton&&this.loadCSS(),!this.settings.targetElement)throw new Error("No targetElement specified");this.settings.iframeURL=this.settings.gslbBaseURL+"/embeddedservice/"+this.settings.releaseVersion+(this.settings.devMode?"/eswDev.html":"/esw.html")+"?parent="+document.location.href,this.addSessionHandlers(),this.loadFeatures(this.onFeatureScriptsLoaded.bind(this)),embedded_svc.utils.fireEvent("afterInit",void 0,this.settings)}},a.prototype.onFeatureScriptsLoaded=function(){"complete"===document.readyState?setTimeout(this.prepareDOM.bind(this),1):document.addEventListener?(document.addEventListener("DOMContentLoaded",this.prepareDOM.bind(this),!1),window.addEventListener("load",this.prepareDOM.bind(this),!1)):window.attachEvent?window.attachEvent("onload",this.prepareDOM.bind(this)):this.log("No available event model. Exiting.")},a.prototype.checkForNativeFunctionOverrides=function(){[{name:"document",object:document,functions:["addEventListener","createAttribute","createComment","createDocumentFragment","createElementNS","createTextNode","createRange","getElementById","getElementsByTagName","getElementsByClassName","querySelector","querySelectorAll","removeEventListener"]},{name:"window",object:window,functions:["addEventListener","clearTimeout","dispatchEvent","open","removeEventListener","requestAnimationFrame","setInterval","setTimeout"]}].forEach(function(t){t.functions.forEach(function(e){e in t.object&&!this.isNativeFunction(t.object,e)&&this.warning("Embedded Service Chat may not function correctly with this native JS function modified: "+t.name+"."+e,!0)}.bind(this))}.bind(this))},a.prototype.isNativeFunction=function(t,e){return Function.prototype.toString.call(t[e]).match(/\[native code\]/)},a.prototype.onHelpButtonClick=function(){if(!this.componentInitInProgress&&!document.getElementsByClassName("embeddedServiceSidebar").length){this.componentInitInProgress=!0;try{this.checkAuthentication(),embedded_svc.utils.fireEvent("onHelpButtonClick")}catch(t){throw this.componentInitInProgress=!1,t}}},a.prototype.resumeInitWithSessionData=function(t){var e=embedded_svc.utils.fireEvent("sessionDataRetrieved",function(t){return-1!==t.indexOf(!0)},t),n=!1,s=!1;this.settings.linkAction.valid?n=!0:e?(this.log("Existing session found. Continuing with data: "+t),n=!0,s=!0,embedded_svc.menu&&embedded_svc.menu.hideTopContainer()):this.componentInitInProgress&&(n=!0),this.hasSessionDataLoaded=!0,t[i]&&(this.auth.oauthToken=t[i]),this.loginPendingSerializedData=s?t:void 0,n&&(this.componentInitInProgress=!0,this.checkAuthentication()),this.settings.appendHelpButton&&this.appendHelpButton(this.settings.displayHelpButton&&!e)},a.prototype.checkAuthentication=function(){this.isAuthenticationRequired&&!this.settings.allowGuestUsers?this.auth.oauthToken?(this.loginButtonPressed||this.componentInitInProgress)&&this.initLightningOut(this.loginPendingSerializedData):embedded_svc.utils.fireEvent("requireauth"):(this.loginButtonPressed||this.componentInitInProgress)&&this.initLightningOut(this.loginPendingSerializedData)},a.prototype.postMessage=function(t,e){var i={domain:this.settings.storageDomain,data:e,method:t},n=this.getESWFrame();n?n.postMessage(i,this.settings.iframeURL):this.outboundMessagesAwaitingIframeLoad.push(i)},a.prototype.setSessionData=function(t,e){var i;"object"===n(t)?i=t:(i={})[t]=e,this.postMessage("session.set",i)},a.prototype.deleteSessionData=function(t){var e;e=Array.isArray(t)?t:[t],this.postMessage("session.delete",e)},a.prototype.defineFeature=function(t,e){this.featureScripts[t]=e},a.prototype.registerStorageKeys=function(t){"string"==typeof t?this.storageKeys.push(t):t.forEach(function(t){this.storageKeys.push(t)}.bind(this))},a.prototype.addMessageHandler=function(t,e){this.messageHandlers[t]&&this.warning("Replacing an existing handler for message type "+t),this.messageHandlers[t]=e},a.prototype.loadStorageScript=function(t){this.isIframeReady?this.postMessage("script.load",t):this.iframeScriptsToLoad.push(t)},a.prototype.loadScriptFromDirectory=function(t,e,i,n){var s=e.toLowerCase(),o=document.createElement("script"),r=this.settings.gslbBaseURL;o.type="text/javascript",o.src=[r,"embeddedservice",n?void 0:this.settings.releaseVersion,t,s+(this.settings.devMode?"":".min")+".js"].filter(function(t){return Boolean(t)}).join("/"),i&&(o.onload=i),document.body.appendChild(o)},a.prototype.loadFeatures=function(t){this.settings.enabledFeatures.forEach(function(e){"base"!==e&&-1===this.availableFeatures.indexOf(e.toLowerCase())&&this.loadFeatureScript(e,t)}.bind(this))},a.prototype.addEventHandler=function(t,e){window.embedded_svc&&embedded_svc.utils?embedded_svc.utils.addEventHandler(t,e):(this.storedEventHandlers[t]||(this.storedEventHandlers[t]=[]),this.storedEventHandlers[t].push(e))},a.prototype.setupMessageListener=function(){window.addEventListener("message",function(t){var e,i,n,s=t.data,o=t.origin.split(":")[1].replace("//","");s&&s.method&&embedded_svc.isMessageFromSalesforceDomain(o)&&("session.onLoad"===s.method&&-1===this.settings.iframeURL.indexOf(o)&&(i=this.settings.iframeURL.split("/")[2],n=t.origin.split("/")[2],this.settings.iframeURL=this.settings.iframeURL.replace(i,n)),e=s.method.split(".")[0].toLowerCase(),-1===this.availableFeatures.indexOf(e)?(this.pendingMessages[e]||(this.pendingMessages[e]=[]),this.pendingMessages[e].push({direction:"incoming",payload:s})):this.handleMessage(s))}.bind(this),!1)},a.prototype.handleMessage=function(t){this.messageHandlers[t.method]?this.messageHandlers[t.method](t.data):this.log("Unregistered method "+t.method+" received.")},a.prototype.isMessageFromSalesforceDomain=function(t){var i;return!(!d()||t!==document.domain)||(i=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},e.some(function(e){return i(t,e)}))},a.prototype.isCommunityDomain=function(t){return".force.com"===t.substr(-".force.com".length)},a.prototype.isSamePageNavigation=function(){var t,e=document.domain;return this.isCommunityDomain(document.domain)&&(t=e+"/"+window.location.pathname.split("/")[1])===this.settings.storageDomain&&(e=t),e.substr(-this.settings.storageDomain.length)===this.settings.storageDomain},a.prototype.addDefaultSetting=function(t,e){this.defaultSettings[t]=e},a.prototype.onButtonStatusChange=function(){var t,e=document.querySelector(".embeddedServiceHelpButton button");embedded_svc.menu&&embedded_svc.menu.onAgentAvailabilityChange(),e&&(t=e.querySelector(".message"))&&(this.isButtonDisabled?(e.onclick=function(){},e.classList.remove("helpButtonEnabled"),e.classList.add("helpButtonDisabled"),t.innerHTML=this.settings.disabledMinimizedText):(e.onclick=this.onHelpButtonClick.bind(this),e.classList.remove("helpButtonDisabled"),e.classList.add("helpButtonEnabled"),t.innerHTML=this.settings.defaultMinimizedText))},a.prototype.hideHelpButton=function(){var t=document.querySelector(".embeddedServiceHelpButton");t&&(t.style.display="none")},a.prototype.showHelpButton=function(){var t=document.querySelector(".embeddedServiceHelpButton");t&&(t.style.display="")},a.prototype.setDefaultButtonText=function(t,e,i,n){this.settings.entryFeature===t&&(this.settings.defaultMinimizedText=this.settings.defaultMinimizedText||e,this.settings.disabledMinimizedText=this.settings.disabledMinimizedText||i,this.settings.defaultAssistiveText=this.settings.defaultAssistiveText||n||"")},a.prototype.setDefaultShowIcon=function(t,e){this.settings.entryFeature===t&&void 0===this.settings.showIcon&&(this.settings.showIcon=e)},a.prototype.registerLinkAction=function(t,e){var i=this.settings.linkAction;this.validLinkActions[t]||(this.validLinkActions[t]=[]),-1===this.validLinkActions[t].indexOf(e)&&this.validLinkActions[t].push(e),i.feature&&i.name&&i.feature.toLowerCase()===t.toLowerCase()&&i.name.toLowerCase()===e.toLowerCase()&&(i.valid=!0,i.feature=t,this.settings.entryFeature=t)},a.prototype.setLinkAction=function(t,e,i){var n=Object.keys(this.validLinkActions).filter(function(e){return e.toLowerCase()===t.toLowerCase()})[0];n?(this.settings.linkAction.feature=n,this.settings.linkAction.name=this.validLinkActions[n].filter(function(t){return t.toLowerCase()===e.toLowerCase()})[0],this.settings.linkAction.valid=void 0!==this.settings.linkAction.name,this.settings.linkActionParameters=i):this.settings.linkAction.valid=!1},a.prototype.getLinkActionData=function(){window.location.search.replace(/([a-zA-Z0-9._]+)=([^&\s]+)/g,function(t,e,i){var n,s,o=e.toLowerCase();0===o.indexOf("snapins.")&&("action"===(s=o.replace("snapins.",""))?2===(n=i.split(".")).length&&(this.settings.linkAction.feature=n[0],this.settings.linkAction.name=n[1]):this.settings.linkActionParameters[s.toLowerCase()]=i)}.bind(this))},a.prototype.requireAuthentication=function(){var t=document.createElement("script"),e=document.createElement("style"),i=document.querySelector(this.settings.loginTargetQuerySelector);if(this.isAuthenticationRequired=!0,"https:"!==window.location.protocol&&!this.settings.devMode)throw this.settings.displayHelpButton=!1,new Error("Snap-in authentication requires HTTPS.");if(!this.settings.useCustomAuthentication){if(!this.settings.loginClientId||!this.settings.loginRedirectURL||!this.settings.loginTargetQuerySelector)throw new Error("Authentication in Snap-ins requires these valid settings params: loginClientId, loginRedirectURL, loginTargetQuerySelector.");if(!i)throw new Error("loginTargetQuerySelector is not a valid DOM element.");this.loginButtonPressed=!1,i.addEventListener("click",function(){this.loginButtonPressed=!0}.bind(this)),this.addMetaTag("salesforce-community",this.settings.communityEndpointURL),this.addMetaTag("salesforce-client-id",this.settings.loginClientId),this.addMetaTag("salesforce-redirect-uri",this.settings.loginRedirectURL),this.addMetaTag("salesforce-mode","popup"),this.addMetaTag("salesforce-target",this.settings.loginTargetQuerySelector),this.addMetaTag("salesforce-login-handler","__snapinsLoginCallback"),this.addMetaTag("salesforce-logout-handler","__snapinsLogoutCallback"),embedded_svc.utils.addEventHandler("requireauth",function(){var t=setInterval(function(){window.SFIDWidget&&(clearInterval(t),window.SFIDWidget.openid_response?window.__snapinsLoginCallback():window.SFIDWidget.login())},100)}),embedded_svc.utils.addEventHandler("autherror",function(t){var e;window.SFIDWidget&&(this.loginButtonPressed=!0,window.SFIDWidget.logout(),e=setInterval(function(){window.SFIDWidget.config&&(clearInterval(e),embedded_svc.utils.fireEvent("requireauth"))}.bind(this,e),100))}.bind(this)),window.__snapinsLoginCallback=function(){var t=document.querySelector(this.settings.loginTargetQuerySelector),e=document.createElement("button");(this.loginButtonPressed||this.componentInitInProgress)&&(t.innerHTML=""),e.className="authenticationStart",e.innerHTML=this.settings.authenticationStartLabel,e.addEventListener("click",this.onHelpButtonClick.bind(this)),t.appendChild(e),this.auth.oauthToken=window.SFIDWidget.openid_response.access_token}.bind(this),window.__snapinsLogoutCallback=function(){this.auth.oauthToken=void 0,window.SFIDWidget.init()}.bind(this),document.head.appendChild(e),e.sheet.insertRule(".sfid-logout { display: none; }",0),t.type="text/javascript",t.src=this.settings.communityEndpointURL+"/servlet/servlet.loginwidgetcontroller?type=javascript_widget"+(embedded_svc.settings.devMode?"&min=false":""),document.head.appendChild(t)}},a.prototype.requireSLDS=function(){var t,e,i;this.settings.requireSLDS=!0,this.settings.targetElement===document.body&&((t=document.createElement("div")).id="esw-snapin-target",document.body.appendChild(t),this.settings.targetElement=t),this.settings.targetElement.classList.add("slds-scope"),e=document.createElement("link"),i=this.settings.gslbBaseURL?this.settings.gslbBaseURL:this.settings.baseCoreURL,e.href=i+"/embeddedservice/"+this.settings.releaseVersion+"/esw-slds"+(this.settings.devMode?"":".min")+".css",e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e)},a.prototype.validateHeaderValue=function(t){return/^[0-9a-zA-Z!#$%&'*+-.^_`|~" ]*$/g.test(t)},a.prototype.isLanguageRtl=function(t){if(t&&""!==t.trim())switch(t.substring(0,2)){case"ar":case"fa":case"he":case"iw":case"ji":case"ur":case"yi":return!0;default:return!1}},a.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf("Mobi")},window.embedded_svc=new a,Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];"object"===i?(window.embedded_svc[e]={},Object.keys(i).forEach(function(t){window.embedded_svc[e][t]=i[t]})):window.embedded_svc[e]=i})}(window.embedded_svc||{})},45:function(t,e,i){for(var n=i(22),s=i(16),o=i(9),r=i(2),a=i(11),d=i(25),c=i(1),u=c("iterator"),l=c("toStringTag"),h=d.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=s(g),f=0;f<p.length;f++){var m,v=p[f],b=g[v],y=r[v],S=y&&y.prototype;if(S&&(S[u]||a(S,u,h),S[l]||a(S,l,v),d[v]=h,b))for(m in n)S[m]||o(S,m,n[m],!0)}},47:function(t,e,i){var n=i(17),s=i(16);i(102)("keys",function(){return function(t){return s(n(t))}})},48:function(t,e){e.f=Object.getOwnPropertySymbols},63:function(t,e,i){"use strict";var n=i(3),s=i(17),o=i(19),r=i(41),a=i(49),d=i(35),c=Math.max,u=Math.min,l=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g;i(36)("replace",2,function(t,e,i,p){return[function(n,s){var o=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,o,s):i.call(String(o),n,s)},function(t,e){var s=p(i,t,this,e);if(s.done)return s.value;var l=n(t),h=String(this),g="function"==typeof e;g||(e=String(e));var m=l.global;if(m){var v=l.unicode;l.lastIndex=0}for(var b=[];;){var y=d(l,h);if(null===y)break;if(b.push(y),!m)break;""===String(y[0])&&(l.lastIndex=a(h,o(l.lastIndex),v))}for(var S,w="",E=0,L=0;L<b.length;L++){y=b[L];for(var I=String(y[0]),A=c(u(r(y.index),h.length),0),T=[],_=1;_<y.length;_++)T.push(void 0===(S=y[_])?S:String(S));var C=y.groups;if(g){var D=[I].concat(T,A,h);void 0!==C&&D.push(C);var M=String(e.apply(void 0,D))}else M=f(I,h,A,T,C,e);A>=E&&(w+=h.slice(E,A)+M,E=A+I.length)}return w+h.slice(E)}];function f(t,e,n,o,r,a){var d=n+t.length,c=o.length,u=g;return void 0!==r&&(r=s(r),u=h),i.call(a,u,function(i,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":a=r[s.slice(1,-1)];break;default:var u=+s;if(0===u)return i;if(u>c){var h=l(u/10);return 0===h?i:h<=c?void 0===o[h-1]?s.charAt(1):o[h-1]+s.charAt(1):i}a=o[u-1]}return void 0===a?"":a})}})},64:function(t,e,i){var n=i(14);t.exports=Array.isArray||function(t){return"Array"==n(t)}},65:function(t,e,i){var n=i(2),s=i(15),o=i(23),r=i(66),a=i(7).f;t.exports=function(t){var e=s.Symbol||(s.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},66:function(t,e,i){e.f=i(1)},68:function(t,e,i){"use strict";var n=i(2),s=i(12),o=i(14),r=i(70),a=i(38),d=i(4),c=i(34).f,u=i(51).f,l=i(7).f,h=i(105).trim,g=n.Number,p=g,f=g.prototype,m="Number"==o(i(50)(f)),v="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var i,n,s,o=(e=v?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+e}for(var r,d=e.slice(2),c=0,u=d.length;c<u;c++)if((r=d.charCodeAt(c))<48||r>s)return NaN;return parseInt(d,n)}}return+e};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof g&&(m?d(function(){f.valueOf.call(i)}):"Number"!=o(i))?r(new p(b(e)),i,g):b(e)};for(var y,S=i(5)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;S.length>w;w++)s(p,y=S[w])&&!s(g,y)&&l(g,y,u(p,y));g.prototype=f,f.constructor=g,i(9)(n,"Number",g)}},95:function(t,e,i){var n=i(24)("meta"),s=i(6),o=i(12),r=i(7).f,a=0,d=Object.isExtensible||function(){return!0},c=!i(4)(function(){return d(Object.preventExtensions({}))}),u=function(t){r(t,n,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!d(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!d(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return c&&l.NEED&&d(t)&&!o(t,n)&&u(t),t}}},96:function(t,e,i){var n=i(16),s=i(48),o=i(33);t.exports=function(t){var e=n(t),i=s.f;if(i)for(var r,a=i(t),d=o.f,c=0;a.length>c;)d.call(t,r=a[c++])&&e.push(r);return e}},97:function(t,e,i){var n=i(20),s=i(34).f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==o.call(t)?function(t){try{return s(t)}catch(t){return r.slice()}}(t):s(n(t))}}}]);
(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[36541],{217394:function(e){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmailVerificationBanner_email"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"opaqueID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withUser"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verificationRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"opaqueID"},value:{kind:"Variable",name:{kind:"Name",value:"opaqueID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withUser"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:209}};i.loc.source={body:"query EmailVerificationBanner_email($opaqueID: ID! $userID: ID! $withUser: Boolean!) {\nverificationRequest(opaqueID: $opaqueID) {\naddress\nstatus\n}\nuser(id: $userID) @include(if: $withUser) {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,i)})),e.definitions&&e.definitions.forEach((function(e){t(e,i)}))}var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}i.definitions.forEach((function(e){if(e.name){var i=new Set;t(e,i),n[e.name.value]=i}})),e.exports=i,e.exports.EmailVerificationBanner_email=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(i,"EmailVerificationBanner_email")},604829:function(e){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RegenerateVerificationCode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RegenerateVerificationCodeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regenerateVerificationCode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"request"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:146}};i.loc.source={body:"mutation RegenerateVerificationCode($input: RegenerateVerificationCodeInput!) {\nregenerateVerificationCode(input: $input) {\nrequest {\nstatus\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,i)})),e.definitions&&e.definitions.forEach((function(e){t(e,i)}))}var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}i.definitions.forEach((function(e){if(e.name){var i=new Set;t(e,i),n[e.name.value]=i}})),e.exports=i,e.exports.RegenerateVerificationCode=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(i,"RegenerateVerificationCode")},115412:function(e){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VerifyEmail_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:123}};i.loc.source={body:"query VerifyEmail_CurrentUser {\ncurrentUser {\nid\nhasPrime\ndisplayName\nemail\nisEmailVerified\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,i)})),e.definitions&&e.definitions.forEach((function(e){t(e,i)}))}var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}i.definitions.forEach((function(e){if(e.name){var i=new Set;t(e,i),n[e.name.value]=i}})),e.exports=i,e.exports.VerifyEmail_CurrentUser=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(i,"VerifyEmail_CurrentUser")},343042:function(e){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VerifyEmail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VerifyContactMethodInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifyContactMethod"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuccess"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:108}};i.loc.source={body:"mutation VerifyEmail($input: VerifyContactMethodInput!) {\nverifyContactMethod(input: $input) {\nisSuccess\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function t(e,i){if("FragmentSpread"===e.kind)i.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,i)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,i)})),e.definitions&&e.definitions.forEach((function(e){t(e,i)}))}var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}i.definitions.forEach((function(e){if(e.name){var i=new Set;t(e,i),n[e.name.value]=i}})),e.exports=i,e.exports.VerifyEmail=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(n[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(i,"VerifyEmail")},325383:function(e,i,t){"use strict";t.d(i,{Vz:function(){return n},lL:function(){return a},LQ:function(){return r},dr:function(){return o},P$:function(){return h},I6:function(){return k},ih:function(){return y},wt:function(){return g},N3:function(){return S},oD:function(){return s},uB:function(){return I},$s:function(){return b},ZY:function(){return D},Te:function(){return _},uM:function(){return w},d3:function(){return C},e7:function(){return V},a1:function(){return T},Fl:function(){return c},yj:function(){return F},hK:function(){return l},SO:function(){return O},K_:function(){return A}});var n,a,r,o,s,c,l,u=t(570655),d=t(831642),m=t(391362),f=t(966768),p=t(742407),v=t(643207);function h(e){var i=function(e){switch(e){case a.Captcha:case a.Login:case a.LoginCaptcha:case a.TwoFactor:case a.FacebookConnect:return p.N.LoginFormInteraction;case a.Signup:case a.SignupCaptcha:case a.FacebookSignup:return p.N.SignupFormInteraction;case a.Rename:return p.N.RenameFormInteraction;case a.AccountRecoveryUsername:case a.AccountRecovery:return p.N.AccountRecoveryFormInteraction;case a.FacebookProvideEmail:return p.N.FacebookProvideEmailFormInteraction;case a.EmailVerification:case a.AccountReactivation:case a.UpdatePhoneNumber:case a.AccountRecoveryPassswordReset:case a.TwitchGuard:return null;default:return(0,m.v)(e)}}(e.screen);i&&d.UO.track(i,e)}function k(e){var i;switch(e.step){case v.N.StartSignup:i=p.N.SignupShow;break;case v.N.StartPasswordVerification:i=p.N.VerifyPasswordShow;break;case v.N.StartLogin:i=p.N.LoginShow;break;default:return(0,m.v)(e.step)}d.UO.track(i,(0,u.__assign)((0,u.__assign)({},N()),{source:e.source,style:e.style}))}function y(e,i){var t;switch(e){case a.Login:t=p.N.LoginFormLoad;break;case a.Signup:t=p.N.SignupFormLoad;break;case a.Captcha:t=p.N.CaptchaFormLoad;break;case a.TwoFactor:t=p.N.TwoFactorFormLoad;break;default:return(0,m.v)(e)}d.UO.track(t,(0,u.__assign)((0,u.__assign)({},N()),{source:i}))}function g(){d.UO.track(p.N.LoginSuccess,(0,u.__assign)({login_user_id:E()},N()))}function S(){d.UO.track(p.N.SignupSuccess,(0,u.__assign)({signup_user_id:E()},N()))}function E(){var e=d.$6.logger.withCategory("auth"),i=(0,f.dd)({config:d.vc,logger:e});return i&&i.version===f.lz&&i.id?+i.id:null}function N(){var e=d.UO.getLastPageview();return e?{medium:e.medium,content:e.content,location:e.location,channel:e.channel,game:e.game}:{}}function I(e){d.UO.track(p.N.ResendVerificationCode,{context:e,verify_type:"email"})}function b(e){d.UO.track(p.N.EmailVerifyLoad,{context:e})}function D(e){d.UO.track(p.N.EmailVerifySkip,{context:e})}function _(e,i){d.UO.track(p.N.EmailVerificationAttempt,{context:i,verification_user_id:e?+e:null})}function w(e,i,t){void 0===t&&(t=s.Code),d.UO.track(p.N.EmailVerificationFailure,{context:i,error_code:e,type:t})}function C(e,i,t){d.UO.track(p.N.EmailVerificationSuccess,{context:t,type:e,verification_user_id:i?+i:null})}function V(e){d.UO.track(p.N.SelfServiceReactivationClientPrompt,{reactivation_login:e})}function T(e){d.UO.track(p.N.SelfServiceReactivationClientAttempt,{reactivation_login:e})}function F(e,i,t){d.UO.track(p.N.SelfServiceReactivationSuccessModalDismiss,{reactivation_login:e,reactivation_user_id:i,ui_context:t})}function O(e){d.UO.track(p.N.TwitchGuardFormLoad,{twitchguard_user:e})}function A(e,i){d.UO.track(p.N.TwitchGuardFormInteraction,{twitchguard_user:e,action:i})}!function(e){e.Captcha="captcha",e.Close="close",e.Connect="connect",e.CreateAccount="create_account_button",e.DateOfBirthDay="DOB_day",e.DateOfBirthMonth="DOB_month",e.DateOfBirthYear="DOB_year",e.Email="email",e.FacebookFooter="fb_footer_button",e.LinkAccount="link_account_button",e.Login="login_button",e.Password="password",e.PasswordConfirmation="password_confirmation",e.Signup="signup_button",e.Sms="sms_request",e.Submit="submit_button",e.Token="token",e.RememberMe="remember_me",e.TroubleLoggingIn="trouble_login",e.Username="username",e.SuggestedUsernames="suggested_usernames"}(n||(n={})),function(e){e.Captcha="captcha",e.FacebookConnect="fb_connect",e.FacebookProvideEmail="fb_provide_email",e.FacebookSignup="fb_signup",e.Login="login_form",e.LoginCaptcha="login_captcha",e.Signup="signup_form",e.SignupCaptcha="signup_captcha",e.TwoFactor="two_factor",e.AccountRecoveryUsername="username_entry",e.AccountRecovery="account_recovery",e.AccountRecoveryPassswordReset="password_reset",e.EmailVerification="email_verification",e.AccountReactivation="account_reactivation",e.TwitchGuard="twitchguard",e.Rename="rename_form",e.UpdatePhoneNumber="update_phone_number"}(a||(a={})),function(e){e.Blur="blur",e.Click="click",e.Complete="complete",e.Enter="enter",e.Focus="focus"}(r||(r={})),function(e){e.Native="native",e.Popout="popout"}(o||(o={})),function(e){e.Code="code",e.Link="link"}(s||(s={})),function(e){e.Continue="continue",e.Other="other"}(c||(c={})),function(e){e.Submit="submit",e.Resend="resend",e.Dismiss="dismiss"}(l||(l={}))},179865:function(e,i,t){"use strict";t.d(i,{_U:function(){return A},ni:function(){return O}});var n,a=t(570655),r=t(667294),o=t(505977),s=t(14890),c=t(326594),l=t(734995),u=t(270406),d=t(731110),m=t(470216),f=t(382448),p=t(58661),v=t(687837),h=t(796441),k=t(831642),y=t(987145),g=t(344689),S=t(128416),E=t(156988),N=t(83893),I=t(509301),b=t(952227),D=t(604829),_=t(115412),w=t(746199),C=t(742407);!function(e){e.Click="click",e.Dismiss="dismiss",e.Impress="impress"}(n||(n={}));var V,T=18e5,F=new Set(["/"]);!function(e){e[e.INITIAL=0]="INITIAL",e[e.CLICK_TO_VERIFY=1]="CLICK_TO_VERIFY",e[e.EMAIL_SENT=2]="EMAIL_SENT",e[e.ERROR_SENDING=3]="ERROR_SENDING",e[e.DISMISSED=4]="DISMISSED"}(V||(V={}));var O=function(e){function i(i){var t=e.call(this,i)||this;return t.state={isError:!1,verifyEmailBarState:V.INITIAL},t.resetAfterDismissalTimeoutID=null,t.afterVerifyDismissTimeoutID=null,t.dismissalData=null,t.impressionEventFired=!1,t.dismissBarClickHandler=function(e){e&&e.stopPropagation();var i=t.dismissalData?t.dismissalData.dismissalCount:0;t.dismissalData={dismissalCount:i+1,dismissalDateTimeMs:Date.now()},(0,w.XA)(t.dismissalData),t.setState({verifyEmailBarState:V.DISMISSED}),t.resetAfterDismissalTimeoutID=setTimeout((function(){return(0,a.__awaiter)(t,void 0,void 0,(function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.data.refetch()];case 1:return e.sent(),this.setState({verifyEmailBarState:V.INITIAL}),this.resetAfterDismissalTimeoutID=null,[2]}}))}))}),1818e3),k.$6.tracking.track(C.N.VerifyEmailBar,{action:n.Dismiss})},t.onClickToVerify=function(e){return(0,a.__awaiter)(t,void 0,void 0,(function(){var i,t,r=this;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(e&&e.currentTarget&&(i=e.currentTarget)&&i.blur(),!this.props.data.currentUser||!this.props.data.currentUser.id||!this.props.data.currentUser.email)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.sendEmail((0,g.k_)({key:this.props.data.currentUser.id,address:this.props.data.currentUser.email}))];case 2:return(t=a.sent()).data&&t.data.regenerateVerificationCode&&t.data.regenerateVerificationCode.request&&t.data.regenerateVerificationCode.request.status===S.$ZB.PENDING?this.setState({verifyEmailBarState:V.EMAIL_SENT}):this.setState({verifyEmailBarState:V.ERROR_SENDING}),[3,4];case 3:return a.sent(),this.setState({verifyEmailBarState:V.ERROR_SENDING}),[3,4];case 4:return this.afterVerifyDismissTimeoutID=setTimeout((function(){r.setState({verifyEmailBarState:V.DISMISSED}),r.afterVerifyDismissTimeoutID=null}),5e3),k.$6.tracking.track(C.N.VerifyEmailBar,{action:n.Click}),[2]}}))}))},t.dismissalData=(0,w.$w)(),t}return(0,a.__extends)(i,e),i.prototype.componentWillUnmount=function(){null!==this.resetAfterDismissalTimeoutID&&clearTimeout(this.resetAfterDismissalTimeoutID),null!==this.afterVerifyDismissTimeoutID&&clearTimeout(this.afterVerifyDismissTimeoutID)},i.prototype.componentDidMount=function(){this.tryToReportInteractive(),this.maybeChangeBarState()},i.prototype.componentDidUpdate=function(e){this.maybeChangeBarState(),e.data.loading&&this.tryToReportInteractive()},i.prototype.maybeChangeBarState=function(){this.state.verifyEmailBarState!==V.EMAIL_SENT&&this.state.verifyEmailBarState!==V.ERROR_SENDING&&(this.isVisible()&&this.shouldHide()?this.setState({verifyEmailBarState:V.INITIAL}):this.state.verifyEmailBarState!==V.INITIAL||this.shouldHide()||this.setState({verifyEmailBarState:V.CLICK_TO_VERIFY}))},i.prototype.render=function(){if(this.state.isError)return null;switch(this.state.verifyEmailBarState){case V.CLICK_TO_VERIFY:return this.impressionEventFired||(k.$6.tracking.track(C.N.VerifyEmailBar,{action:n.Impress}),this.impressionEventFired=!0),this.renderClickToVerify();case V.EMAIL_SENT:return this.renderEmailSent();case V.ERROR_SENDING:return this.renderErrorSending();default:return null}},i.prototype.isVisible=function(){return this.state.verifyEmailBarState!==V.INITIAL&&this.state.verifyEmailBarState!==V.DISMISSED},i.prototype.renderClickToVerify=function(){return this.props.data.currentUser&&this.props.data.currentUser.email?r.createElement(c.fw,{type:c.ru.SlideInTop,duration:c.Zo.ExtraLong},r.createElement(l.A,{fullWidth:!0,position:u.Ly.Relative},r.createElement(l.A,{className:"verify-email-bar",display:u.sS.Flex,alignItems:u.g1.Center,justifyContent:u.uM.Center,elevation:1},r.createElement(d.o,{fullHeight:!0,fullWidth:!0,padding:1},r.createElement("button",{onClick:this.onClickToVerify,"data-test-selector":"verify-email-btn"},r.createElement(l.A,{display:u.sS.Flex,alignItems:u.g1.Center,justifyContent:u.uM.Center},r.createElement(l.A,{className:"verify-email-bar__copy",display:u.sS.Flex,alignItems:u.g1.Center,margin:{right:1},padding:{right:.5}},r.createElement(m.W,{asset:f.e.NotificationWarning,type:m.w.Inherit})),r.createElement(l.A,{className:"verify-email-bar__copy"},r.createElement(p.V,{fontSize:u.Bf.Size5,color:u.Il.Inherit},(0,k.wv)("Keep your account secure and verify {email}.",{email:this.props.data.currentUser.email},"VerifyEmail")))))),r.createElement(l.A,{className:"verify-email-bar__dismiss",position:u.Ly.Absolute,attachRight:!0,margin:{right:2},padding:{x:1,y:.5}},r.createElement(v.s,{type:v.b.Inherit,onClick:this.dismissBarClickHandler,"data-test-selector":"dimiss-btn",hoverColorInherit:!0,hoverUnderlineNone:!0},(0,k.wv)("Not Now","VerifyEmail")))))):null},i.prototype.renderEmailSent=function(){return this.props.data.currentUser&&this.props.data.currentUser.email?r.createElement(l.A,{className:"verify-email-bar verify-email-bar--success",display:u.sS.Flex,justifyContent:u.uM.Center,alignItems:u.g1.Center,elevation:1,padding:1},r.createElement(l.A,{display:u.sS.Flex,alignItems:u.g1.Center,margin:{right:1},padding:{right:.5},color:u.Il.Overlay},r.createElement(m.W,{asset:f.e.NavMessages,type:m.w.Inherit})),r.createElement(p.V,{fontSize:u.Bf.Size5,color:u.Il.Overlay},(0,k.wv)("Check your inbox at {email} for your verification email.",{email:this.props.data.currentUser.email},"VerifyEmail"))):null},i.prototype.renderErrorSending=function(){return this.props.data.currentUser&&this.props.data.currentUser.email?r.createElement(l.A,{className:"verify-email-bar verify-email-bar--error",display:u.sS.Flex,justifyContent:u.uM.Center,alignItems:u.g1.Center,elevation:1,padding:1},r.createElement(l.A,{display:u.sS.Flex,alignItems:u.g1.Center,margin:{right:1},padding:{right:.5},color:u.Il.Overlay},r.createElement(m.W,{asset:f.e.DeadGlitch,type:m.w.Inherit})),r.createElement(p.V,{fontSize:u.Bf.Size5,color:u.Il.Overlay},(0,k.wv)("Oops...we were unable to send an email to {email}. Please try again later or update your email.",{email:this.props.data.currentUser.email},"VerifyEmail")),r.createElement(l.A,{position:u.Ly.Absolute,attachRight:!0,margin:{right:2}},r.createElement(h.zx,{type:h.L$.Secondary,overlay:!0,linkTo:"/settings/profile"},(0,k.wv)("Update Email","VerifyEmail")))):null},i.prototype.shouldHide=function(){var e;return!!(!this.isDataLoaded()||this.props.data.currentUser&&this.props.data.currentUser.isEmailVerified)||(this.shouldRespectDismissal()||this.isShowingPrimeUpsell()||(0,E.kE)(null===(e=this.props)||void 0===e?void 0:e.consent))},i.prototype.isShowingPrimeUpsell=function(){if(F.has(this.props.location.pathname)){var e=!(!this.props.data.currentUser||!this.props.data.currentUser.hasPrime),i=this.props.data.requestInfo&&this.props.data.requestInfo.countryCode;return(0,b.sG)(e,i)}return!1},i.prototype.shouldRespectDismissal=function(){var e=this.dismissalData;return null!==e&&(e.dismissalCount>0&&Date.now()<e.dismissalDateTimeMs+T)},i.prototype.isDataLoaded=function(){return this.props.data&&!(this.props.data.loading||this.props.data.error)&&this.props.data.currentUser&&this.props.data.requestInfo},i.prototype.tryToReportInteractive=function(){this.props.data.loading||this.props.latencyTracking.reportInteractive()},i}(r.Component),A=(0,s.qC)((0,I.W)("VerifyEmail"),(0,y.TA)(_),(0,y.TA)(D,{name:"sendEmail"}),o.EN,N._z)(O)},76366:function(e,i,t){"use strict";t.r(i),t.d(i,{VerifyEmail:function(){return w},VerifyEmailComponent:function(){return D}});var n=t(570655),a=t(517563),r=t(667294),o=t(137703),s=t(505977),c=t(14890),l=t(347820),u=t(987145),d=t(344689),m=t(146085),f=t(797425),p=t(325383),v=t(831642),h=t(34614),k=function(e){return r.createElement(h.Y,{message:(0,v.wv)("Couldn't validate your email: {errorMessage}",{errorMessage:y(e.errorMessage)},"EmailVerificationBanner"),type:h.k.Error,closeButton:e.closeButtonProps})};function y(e){return e?"Not Found"===e?(0,v.wv)("Not Found","EmailVerification"):e:(0,v.wv)("Unknown Error","EmailVerification")}var g=t(106801),S=t(217394),E=function(e){var i,t=(0,g.aM)(S,{variables:{opaqueID:e.emailOpaqueID,withUser:!!e.userID,userID:e.userID||""}}).data;return e.emailOpaqueID&&e.emailOpaqueID.length&&t&&t.verificationRequest?(i=t.user&&t.user.displayName?(0,v.wv)("Thank you for verifying your account {displayName} with the email {emailAddr}!",{displayName:t.user.displayName,emailAddr:t.verificationRequest.address},"EmailVerificationBanner"):(0,v.wv)("Thank you for verifying your account with the email {emailAddr}!",{emailAddr:t.verificationRequest.address},"EmailVerificationBanner"),r.createElement(h.Y,{message:i,type:h.k.Success,closeButton:e.closeButtonProps})):null},N=function(e){if(!e.emailOpaqueID)return null;var i={"aria-label":(0,v.wv)("Close Email Verification Banner","EmailVerificationBanner"),onClick:function(){return e.onClose()}};return null!==e.errorMessage?r.createElement(k,{errorMessage:e.errorMessage,closeButtonProps:i}):r.createElement(E,{emailOpaqueID:e.emailOpaqueID,userID:e.userID,closeButtonProps:i})},I=t(179865),b=t(343042),D=function(e){var i=r.useState(null),t=i[0],n=i[1],c=r.useState(!1),u=c[0],d=c[1],p=r.useState(),v=p[0],h=p[1],k=r.useState(),y=k[0],g=k[1],S=(0,s.TH)(),E=(0,s.k6)(),b=(0,o.v9)(f.jl);(0,l.q)((function(){var i=a.Qc(S.search);if(i.emailOpaqueID){var t=(0,m.pc)(S.search,"emailOpaqueID");E.replace({search:(0,m.pc)(t,"user_id")}),g(i.emailOpaqueID),h(i.user_id),_(i.user_id,i.emailOpaqueID,d,n,e.verifyEmail);var r=setTimeout((function(){return d(!1)}),15e3);return function(){return clearTimeout(r)}}}));var D=null;return u&&y?D=r.createElement(N,{emailOpaqueID:y,userID:v,errorMessage:t,onClose:function(){return d(!1)}}):b&&(D=r.createElement(I._U,null)),r.createElement(r.Fragment,null,D)},_=function(e,i,t,a,r){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var o,s,c;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),(0,p.Te)(e,"verify_banner"),o=(0,d.k_)({opaqueID:i}),[4,r(o)];case 1:return(s=n.sent())&&s.data&&s.data.verifyContactMethod&&s.data.verifyContactMethod.isSuccess?(0,p.d3)(p.oD.Link,e,"verify_banner"):((0,p.uM)("Not Found","verify_banner",p.oD.Link),a("Not Found")),[3,3];case 2:return c=n.sent(),(0,p.uM)(c,"verify_banner"),a(""),[3,3];case 3:return t(!0),[2]}}))}))},w=(0,c.qC)((0,u.TA)(b,{name:"verifyEmail"}))(D)},746199:function(e,i,t){"use strict";t.d(i,{XA:function(){return r},$w:function(){return o}});var n=t(831642),a="verifyemailbar_dismissal";function r(e){n.tO.set(a,e)}function o(){return n.tO.getOptional(a)}},34614:function(e,i,t){"use strict";t.d(i,{k:function(){return r},Y:function(){return T}});var n,a,r,o=t(722122),s=t(419756),c=t(667294),l=t(129163),u=t(606984),d=t(938502),m=t(559750),f=t(649220),p=t(796441),v=t(26364),h=t(687837),k=t(58661),y=t(150125),g=t(564007),S=t(44382),E=t(353488),N=t(734995),I=t(731110),b=t(270406),D=t(776043),_=t(382448),w=t(533596);!function(e){e.Error="tw-alert-banner--error",e.Info="tw-alert-banner--info",e.Success="tw-alert-banner--success",e.Warning="tw-alert-banner--warning"}(r||(r={}));var C=((n={})[r.Error]=_.e.NotificationError,n[r.Info]=_.e.NotificationInfo,n[r.Success]=_.e.NotificationSuccess,n[r.Warning]=_.e.NotificationWarning,n),V=(0,l.ZP)(N.A).withConfig({displayName:"ScAlertBanner",componentId:"wmpd5d-0"})(["",""],(0,d.E)("$type",((a={})[r.Error]=(0,l.iv)(["background-color:",";"],(0,m.g)("color-fill-alert")),a[r.Info]=(0,l.iv)(["background-color:",";"],(0,m.g)("color-fill-info")),a[r.Success]=(0,l.iv)(["background-color:",";color:",";"],(0,m.g)("color-fill-success"),(0,f.V)("color-black")),a[r.Warning]=(0,l.iv)(["background-color:",";color:",";"],(0,m.g)("color-fill-warn"),(0,f.V)("color-black")),a))),T=function(e){var i,t=e.link,n=e.closeButton,a=e.type,l=e.actions,d=e.status,m=e.message,f=(0,s.Z)(e,["link","closeButton","type","actions","status","message"]),_=[],T=!0;a!==r.Success&&a!==r.Warning||(T=!1),t&&(i=c.createElement(I.o,{margin:{left:1}},c.createElement(h.s,(0,o.Z)({className:"tw-alert-banner__link",type:h.b.Inherit,underline:!0,hoverColorInherit:!0},t),t.text))),l&&l.forEach((function(e,i){_.push(c.createElement(N.A,{key:i,margin:{left:1}},c.createElement(p.zx,(0,o.Z)({size:p.qE.Small,overlay:T,type:0===i?p.L$.Secondary:p.L$.Text},e))))}));var F=c.createElement(V,(0,o.Z)({},f,{$type:a,role:"alert",className:"tw-alert-banner",fontSize:b.Bf.Size6,color:T?b.Il.Overlay:void 0,alignItems:b.g1.Center,position:b.Ly.Relative,display:b.sS.Flex,fullWidth:!0,padding:{y:.5,left:n&&.5}}),c.createElement(D.d,{centered:!0},c.createElement(S.r,{justifyContent:b.uM.Center},c.createElement(g.sg,{cols:{default:12,lg:9,xl:8,xxl:7}},c.createElement(N.A,{display:b.sS.Flex,alignItems:b.g1.Center,position:b.Ly.Relative},c.createElement(N.A,{display:b.sS.Flex,alignItems:b.g1.Center,flexShrink:0},c.createElement(E.JO,{asset:C[a]})),c.createElement(N.A,{display:b.sS.Flex,alignItems:b.g1.Center,flexGrow:1},d&&c.createElement(I.o,{margin:{left:1}},c.createElement(k.V,{type:y.yG.H2,bold:!0,fontSize:b.Bf.Size6},d)),(m||i)&&c.createElement(N.A,{margin:{left:1}},c.createElement(k.V,{type:y.yG.P,fontSize:b.Bf.Size6},m,i))),_&&c.createElement(N.A,{display:b.sS.Flex,flexDirection:b.Qb.RowReverse,justifyContent:b.uM.End},_),n&&c.createElement(N.A,{padding:{left:1}},c.createElement(v.b,{overlay:T,"aria-label":n["aria-label"],onClick:n.onClick})))))));return a===r.Success||a===r.Warning?c.createElement(w.xh,{tokenOverrides:{"color-text-button-secondary":u.zo["color-black"],"color-text-button-text":u.zo["color-black"],"color-fill-button-icon":u.zo["color-black"],"color-fill-button-icon-hover":u.zo["color-black"],"color-fill-button-icon-focus":u.zo["color-black"],"color-fill-button-icon-active":u.zo["color-black"]}},F):c.createElement(c.Fragment,null,F)};T.displayName="AlertBanner"},776043:function(e,i,t){"use strict";t.d(i,{d:function(){return r}});var n=t(129163),a=t(606984),r=n.ZP.div.attrs({className:"tw-responsive-wrapper"}).withConfig({displayName:"ResponsiveWrapper",componentId:"sc-1q6dqv1-0"})(["width:100%;"," ",""],(function(e){return e.centered&&(0,n.iv)(["margin-right:auto;margin-left:auto;"])}),["break-xs","break-sm","break-md","break-lg","break-xl","break-xxl"].map((function(e){return(0,n.iv)(["@media screen and (min-width:","){max-width:",";}"],a.zo[e],a.zo[e])})))}}]);
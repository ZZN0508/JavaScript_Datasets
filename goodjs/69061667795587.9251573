!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TrackLib=t():e.TrackLib=t()}(this,function(){return r=[,function(e,t,r){"use strict";t.__esModule=!0;function n(e,t){if(i.isObject(e)&&i.isObject(t))for(var r in t)!i.isObject(t[r])||i.isFunction(t[r])||i.isArray(t[r])?e[r]=t[r]:(e.hasOwnProperty(r)||(e[r]={}),n(e[r],t[r]));return e}function a(e,n){var t=e.replace(o,"");(e=document.createElement("a")).href=t;var a,i={protocol:e.protocol,host:e.host,pathname:"/"===e.pathname?"":e.pathname,hash:e.hash?e.hash.substr(1):"",search:"",parameters:{}};return e.search.length&&(a=[],e.search.substr(1).split("&").forEach(function(e){var t=e.split("="),r=t[0],t=t[1];n[r]&&"undefined"!==t&&(i.parameters[r]=t,a.push(e))}),i.search=a.join("&")),i}var o=/(;.*?)(?=#|\?|$)/gm,i={isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isScalar:function(e){return i.isString(e)||i.isNumber(e)||i.isBoolean(e)},isObject:function(e){return Object(e)===e},isFunction:function(e){return"function"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isUndefined:function(e){return void 0===e},ensureArray:function(e,t){return void 0===t&&(t=","),e="string"==typeof e?e.split(t):e},prefixObject:function(e,t){var r,n={};for(r in e)n[t+r]=e[r];return n},createUrl:function(e){var t=[],r=e.baseUrl;if(e.query){for(var n in e.query)t.push(n+"="+encodeURIComponent(e.query[n]));r+="?"+t.join("&")}return r},sanitizeUrl:function(e,t){e=a(e,t),t=e.protocol+"//"+e.host+e.pathname;return e.search&&(t+="?"+e.search),e.hash&&"."===e.hash[0]&&(t+="#"+e.hash),t},mergeDeep:n,urlParser:a,getDomain:function(e){var t=(e||location.hostname).split("."),r=t.length;if(r<2)return null;e=r-2;if("uk"===t[r-1]){if(r<3)return null;e=r-3}return t.slice(e).join(".")}};t.util=i},,,function(e,t,r){"use strict";t.__esModule=!0;var n=(a.prototype.registerObserver=function(e){this.observers.push(e)},a.prototype.removeObserver=function(e){this.observers.splice(this.observers.indexOf(e),1)},a.prototype.notifyObservers=function(e){for(var t=0;t<this.observers.length;t++)this.observers[t].update(e)},a.prototype.log=function(e,t,r){this.notifyObservers({component:e,action:t,data:r})},a);function a(){this.observers=[]}n=new(t.TrackingLogger=n);(t.logger=n).registerObserver({update:function(e){}})},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;var n=r(47),a=r(1),r=(i.unifyParameters=function(r){var n={key:null,properties:r.properties||{},parameter:{}};return r.parameter&&Object.keys(r.parameter).forEach(function(e){var t=r.parameter[e];n.parameter[e]=a.util.isObject(t)?t:{set:t}}),n},i.getPresetKey=function(e){return e+i.PRESET_AFFIX},i.prototype.getData=function(){return this.trackData},i.prototype.addFilter=function(e,t){this.filters[e]=t},i.prototype.runFilter=function(e,t,r){for(var n in this.filters)this.filters[n](e,t,r)},i.prototype.preset=function(e){for(var t in e){var r;this.trackData.hasLayer(t)&&(r=i.unifyParameters(e[t]),this.trackData.setLayer(i.getPresetKey(t),r))}},i.prototype.getProperties=function(e){return this.propertiesCache[e]||(this.propertiesCache[e]={system:this.trackData.merge([e,i.getPresetKey(e)],["properties","system"]),lib:this.trackData.merge(["lib",e,i.getPresetKey("lib"),i.getPresetKey(e)],["properties","lib"])}),this.propertiesCache[e]},i.prototype.setCache=function(e,t,r){var e=["lib",e,i.getPresetKey("lib"),i.getPresetKey(e)];(e=this.trackData.findLayer(e,["parameter",t,"cache"],!0))&&this.trackData.setValue(e,["parameter",t],"cache_value",r)},i.prototype.getAllParameter=function(e,t){return void 0===t&&(t={parameter:null,properties:null}),t=["lib",e.key,i.getPresetKey("lib"),i.getPresetKey(e.key),t],this.trackData.merge(t,"parameter")},i.PRESET_AFFIX="_preset",i);function i(){this.trackData=new n.MultiLayer,this.propertiesCache={},this.filters={}}t.TrackingData=r},function(e,t,r){"use strict";function a(e,t){switch(o(e)){case"object":return function(e,r){if(n(e)||!0===r&&"object"===o(e)){var t={};return s(e,function(e,t){this[t]=a(e,r)},t),t}return"function"==typeof r?r(e):e}(e,t);case"array":return function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=a(e[n],t);return r}(e,t);default:return i(e)}}var n=r(32),i=r(49),o=r(35),s=r(51);e.exports=a},function(e,t,r){"use strict";function n(e){return!0===a(e)&&"[object Object]"===Object.prototype.toString.call(e)}var a=r(48);e.exports=function(e){var t;return!1!==n(e)&&"function"==typeof(t=e.constructor)&&(!1!==n(t=t.prototype)&&!1!==t.hasOwnProperty("isPrototypeOf"))}},function(e,t,r){"use strict";var n=r(32);e.exports=function(e){return n(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,r){"use strict";e.exports=function(e,t,r){for(var n in e)if(!1===t.call(r,e[n],n,e))break}},function(e,t){function n(e){return e.constructor?e.constructor.name:null}var a=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t,r=typeof e;if("boolean"===r)return"boolean";if("string"===r)return"string";if("number"===r)return"number";if("symbol"===r)return"symbol";if("function"===r)return"GeneratorFunction"===n(e)?"generatorfunction":"function";if(t=e,Array.isArray?Array.isArray(t):t instanceof Array)return"array";if((t=e).constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return 1}catch(e){if(-1!==e.message.indexOf("callee"))return 1}}(e))return"arguments";if((t=e)instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate)return"date";if((t=e)instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit)return"error";if((t=e)instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global)return"regexp";switch(n(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof(t=e).throw&&"function"==typeof t.return&&"function"==typeof t.next)return"generator";switch(r=a.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,r){"use strict";t.__esModule=!0,t.getTcfConsent=function(e,t){void 0===t&&(t=2);var r=!1;try{window.__tcfapi("getPermission",t,function(e){r=e},e)}catch(e){return r}return r},t.getTcfVersion=function(){var t=null;try{window.__tcfapi("getTCFVersion",t,function(e){t=e})}catch(e){return t}return"string"==typeof t?parseInt(t):t}},,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;var n=r(46),a=r(30),i=r(52),o=r(53),s=r(54),c=r(4),u=r(56),p=r(58),f=r(60),l=r(61),h=r(62),g=r(63),m=r(64),y=r(65),d=r(66),r=(b.prototype.preset=function(e){return this.trackData.preset(e),this},b.prototype.addFilter=function(e,t){this.trackData.addFilter(e,t)},b.prototype.addTrackingSystem=function(e){return this.trackSystems.add(e),this},b.prototype.getTrackingSystem=function(e){return this.trackSystems.get(e)},b.prototype.getTrackingData=function(e){var t={},e=this.getTrackingSystem(e);return t=e?this.tracker.getTrackParameter(e):t},b.prototype.addTrackingGenerator=function(e){return this.trackGenerator.add(e),this},b.prototype.track=function(e,t){return this.tracker.run(e,t=void 0===t?{}:t),this},b.prototype.getLogger=function(){return c.logger},b);function b(e,t){this.trackOptions=new n.TrackOptions(t=void 0===t?{}:t),this.trackData=new a.TrackingData,this.trackSystems=new i.TrackingSystems(this.trackData),this.trackGenerator=new o.TrackingGenerators(this.trackData),this.addTrackingSystem(u.libSystem),this.addTrackingSystem(p.brainTrackingSystem),this.addTrackingSystem(f.pakpieTrackingSystem),this.addTrackingSystem(l.tifTrackingSystem),this.addTrackingSystem(h.gtmTrackingSystem),this.addTrackingGenerator(g.imageGenerator),this.addTrackingGenerator(m.imagePakpieGenerator),this.addTrackingGenerator(y.objectGenerator),this.preset(e),this.addFilter("brain-tcf-2.0",d.tcf2Filter),this.tracker=new s.Tracker(this.trackData,this.trackSystems,this.trackGenerator,this.trackOptions)}t.TrackLib=r},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),a=r(4),i={buffer:{read:!1,write:!1,retry:3,key:"trlbuf",container:"html5"}},r=(o.prototype.get=function(){return this.options},o);function o(e){this.options=n.util.mergeDeep(i,e),e.observer&&n.util.isObject(e.observer)&&n.util.isFunction(e.observer.update)&&a.logger.registerObserver(e.observer)}t.TrackOptions=r},function(e,t,r){"use strict";t.__esModule=!0;var a=r(1),n=r(31),r=(i.prototype.copyTree=function(e,t,r){var n=r.shift();return r.length?!!t.hasOwnProperty(n)&&(e.hasOwnProperty(n)||(e[n]={}),this.copyTree(e[n],t[n],r)):(e[n]=t[n],!0)},i.prototype.addLayer=function(e){return!this.layers.hasOwnProperty(e)&&(this.layers[e]={},!0)},i.prototype.hasLayer=function(e){return this.layers.hasOwnProperty(e)},i.prototype.getLayer=function(e){return this.layers.hasOwnProperty(e)?this.layers[e]:null},i.prototype.findLayer=function(e,t,r){for(var n,a,i=0,o=e;i<o.length;i++)if(n=o[i],this.getLayerValue(n,t)===r){a=this.layers[n];break}return a},i.prototype.getValue=function(e,t,r){return t=a.util.ensureArray(t,"."),t=this.walkTree(e,t),t=a.util.isUndefined(t)?r:t},i.prototype.setValue=function(e,t,r,n){t=a.util.ensureArray(t,"."),this.walkTree(e,t)[r]=n},i.prototype.getLayerValue=function(e,t,r){var n=r;return n=this.layers.hasOwnProperty(e)?this.getValue(this.layers[e],t,r):n},i.prototype.setLayerValue=function(e,t,r,n){this.layers.hasOwnProperty(e)&&this.setValue(this.layers[e],t,r,n)},i.prototype.merge=function(e,t){var r,n={};for(e=a.util.ensureArray(e),r=0;r<e.length;r++)a.util.isObject(e[r])?n=a.util.mergeDeep(n,e[r][t]):this.layers.hasOwnProperty(e[r])&&(n=a.util.mergeDeep(n,this.getLayerValue(e[r],t)));return n},i.prototype.getChildren=function(e){return this.tree.hasOwnProperty(e)?this.tree[e].children:{}},i.prototype.linkLayer=function(e,t){var r=!1;return this.layers.hasOwnProperty(e)&&this.layers.hasOwnProperty(t)&&(this.tree.hasOwnProperty(e)||(this.tree[e]={parents:{},children:{}}),this.tree.hasOwnProperty(t)||(this.tree[t]={parents:{},children:{}}),this.tree[e].children[t]=this.layers[t],this.tree[t].parents[e]=this.layers[e],r=!0),r},i.prototype.setLayer=function(e,t){return!!this.addLayer(e)&&(this.layers[e]=Object.assign(this.layers[e],n(t)),!0)},i.prototype.walkTree=function(e,t){return t.length&&!a.util.isUndefined(e)?this.walkTree(e[t[0]],t.slice(1)):e},i);function i(){this.layers={},this.tree={}}t.MultiLayer=r},function(e,t,r){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,r){"use strict";function n(e){var t=o(e);return n.hasOwnProperty(t)?n[t](e):e}var a=r(33),i=r(50),o=r(35);n.array=function(e){return e.slice()},n.date=function(e){return new Date(+e)},n.object=function(e){return a(e)?i({},e):e},n.map=function(e){return new Map(e)},n.regexp=function(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignoreCase?"i":"",new RegExp(e.source,t)},n.set=function(e){return new Set(e)},e.exports=n},function(e,t,r){"use strict";var a=r(33),i=r(34);e.exports=function(e,t){if(!a(e))throw new TypeError("expected the first argument to be an object");for(var r=arguments.length,n=0;++n<r;)!function(r,e){a(e)&&i(e,function(e,t){r[t]=e})}(e,arguments[n]);return e}},function(e,t,r){"use strict";var i=r(34),o=Object.prototype.hasOwnProperty;e.exports=function(r,n,a){i(r,function(e,t){if(o.call(r,t))return n.call(a,r[t],t,r)})}},function(e,t,r){"use strict";t.__esModule=!0;var n=(a.prototype.add=function(e){this.trackData.getData().setLayer(e.key,e)&&"lib"!==e.key&&this.trackData.getData().linkLayer("lib",e.key)},a.prototype.get=function(e){return this.trackData.getData().getLayer(e)},a);function a(e){this.trackData=e}t.TrackingSystems=n},function(e,t,r){"use strict";t.__esModule=!0;var n=(a.getGeneratorKey=function(e){return e+a.GENERATOR_AFFIX},a.prototype.add=function(e){var t=a.getGeneratorKey(e.key);this.trackData.getData().setLayer(t,e)&&this.trackData.getData().linkLayer("_generator",t)},a.prototype.get=function(e){e=a.getGeneratorKey(e);return this.trackData.getData().getLayer(e)},a.GENERATOR_AFFIX="_generator",a);function a(e){this.trackData=e,this.trackData.getData().addLayer("_generator")}t.TrackingGenerators=n},function(e,t,r){"use strict";t.__esModule=!0;var n=r(30),u=r(1),i=r(55),s=r(31),r=(a.prototype.run=function(e,a){var i=this;this.setCallData(e,a);var o=this.getActiveTrackingSystems();Object.keys(o).forEach(function(e){var t=o[e],r=[i.getTrackParameter(t)],t=s(i.trackData.getProperties(t.key));t.system=Object.assign(t.system,a[e]);var n=i.trackGenerators.get(t.lib.generator);n&&(r=t.lib.generatorAdapter&&u.util.isFunction(t.lib.generatorAdapter)?t.lib.generatorAdapter(t,r[0]):r).forEach(function(e){var t;i.trackOptions.get().buffer.write&&n.getValue?(t=n.getValue(e),i.trackBuffer.add(t,n.key)):n.run(e)})})},a.prototype.getTrackParameter=function(r){var e,t,n,a=this,i={},o=this.trackData.getProperties(r.key),s=this.callData,c=u.util.mergeDeep({},this.callData);for(s.systemParameter=this.trackData.getData().merge(["lib",r.key],"parameter"),s.allParameter=this.trackData.getAllParameter(r,s),s.properties=this.trackData.getProperties(r.key),e=this.trackData.getData().getValue(o,["lib","useparameter"],[]),u.util.isFunction(e)&&(e=e(r,s)),t=0;t<e.length;t++)n=this.resolveParameter(r,e[t],s),u.util.isObject(n)&&(i=Object.assign(i,n));return this.trackData.getData().getValue(o,["lib","prefixparameter"],[]).forEach(function(t){Object.keys(s.allParameter).filter(function(e){return 0===e.indexOf(t)}).forEach(function(e){e=a.resolveParameter(r,e,s);i=Object.assign(i,e)})}),this.trackData.runFilter(r,i,c),i},a.prototype.resolveParameter=function(e,t,r,n){void 0===n&&(n={});var a,i={},o={parameter:{},properties:{}},s=r.allParameter[t];if(n=Object.assign({alias:!0},n),s.cache&&s.hasOwnProperty("cache_value"))a=s.cache_value;else switch(s.need&&u.util.isObject(s.need)&&(o=this.resolveNeededValues(e,s.need,r)),!0){case s.hasOwnProperty("fixed"):a=s.fixed;break;case s.hasOwnProperty("calc")&&u.util.isFunction(s.calc):a=s.calc(o,s,e);break;case s.hasOwnProperty("set"):a=s.set}return u.util.isObject(a)?i=a:(n=n.alias&&s.alias?s.alias:t,u.util.isScalar(a)?i[n]=a:s.hasOwnProperty("defaultValue")&&u.util.isScalar(s.defaultValue)&&(i[n]=s.defaultValue)),!s.cache||s.hasOwnProperty("cache_value")||u.util.isUndefined(a)||this.trackData.setCache(e.key,t,a),i},a.prototype.getActiveTrackingSystems=function(){var e,t={},r=this.trackData.getData().getChildren("lib");for(e in r){var n,a,i=!1,o=!1;r[e].properties&&r[e].properties.lib&&"function"==typeof r[e].properties.lib.hasConsent&&!r[e].properties.lib.hasConsent()||(this.callData.properties[e]&&u.util.isBoolean(this.callData.properties[e].active)?i=this.callData.properties[e].active:(n=this.trackData.getProperties(e),!0===this.trackData.getData().getValue(n,["lib","active"])&&(i=!0)),this.callData.properties[e]&&u.util.isArray(this.callData.properties[e].protocols)?o=-1!==this.callData.properties[e].protocols.indexOf(location.protocol):(n=this.trackData.getProperties(e),a=this.trackData.getData().getValue(n,["lib","protocols"]),u.util.isArray(a)&&(o=-1!==a.indexOf(location.protocol))),i&&o&&(t[e]=r[e]))}return t},a.prototype.setCallData=function(e,t){this.callData={properties:null,parameter:null,allParameter:null,systemParameter:null},this.callData.parameter=e="string"==typeof e?{section:e}:e,this.callData.properties=t;t=n.TrackingData.unifyParameters(this.callData);this.callData.parameter=Object.assign({},t.parameter)},a.prototype.bufferListener=function(e,t){e===i.BufferEvents.ready&&this.writeFromBuffer()},a.prototype.writeFromBuffer=function(){var e,t,r=this;(e=this.trackBuffer.get())&&(t=this.trackGenerators.get(e.generator))&&t.track(e.value).then(function(){r.trackBuffer.complete(e)}).catch(function(){r.trackBuffer.error(e)})},a.prototype.resolveNeededValues=function(e,t,r){var n,a,i,o,s={parameter:{},properties:{}},c=!0;if(t.properties&&u.util.isArray(t.properties))for(n=this.trackData.getProperties(e.key),s.properties={},i=0;i<t.properties.length;i++)c=c&&this.trackData.getData().copyTree(s.properties,n,u.util.ensureArray(t.properties[i],"."));if(t.parameter&&u.util.isArray(t.parameter))for(s.parameter={},i=0;i<t.parameter.length;i++)a=this.resolveParameter(e,t.parameter[i],r,{alias:!1}),s.parameter=Object.assign(s.parameter,a);if(t.runtime&&u.util.isArray(t.runtime))for(s.runtime={},i=0;i<t.runtime.length;i++)o=t.runtime[i],s.runtime[o]=this.runtimeHelper(o);return s=!c?null:s},a.prototype.runtimeHelper=function(e){var t;return t="activeSystems"===e?this.getActiveTrackingSystems():t},a);function a(e,t,r,n){var a=this;this.trackData=e,this.trackSystems=t,this.trackGenerators=r,this.trackOptions=n,this.trackBuffer=new i.TrackBuffer(this.trackOptions.get().buffer),this.trackOptions.get().buffer.read&&this.trackBuffer.addListener(function(e,t){return a.bufferListener(e,t)})}t.Tracker=r},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),a=r(4),i={ready:"ready"};t.BufferEvents=i;o.prototype.addListener=function(e){this.listener.push(e),this.checkReady()},o.prototype.add=function(e,t){t={created:(new Date).getTime(),value:e,generator:t,meta:{tries:1}};this.buffer.push(t),this.saveBuffer()},o.prototype.complete=function(e){this.remove(e),this.saveBuffer()},o.prototype.error=function(e){this.remove(e),e.meta.tries<this.options.retry&&this.retry(e),this.saveBuffer()},o.prototype.get=function(e){return void 0===e&&(e=0),this.ensureBuffer(),e<this.buffer.length?this.buffer[e]:null},o.prototype.isActive=function(){return this.active},o.prototype.retry=function(e){e.meta.tries++,this.buffer.push(e)},o.prototype.remove=function(e){e=this.getIndex(e);n.util.isNumber(e)&&this.buffer.splice(e,1)},o.prototype.emit=function(e,t){var r;for(void 0===t&&(t={}),r=0;r<this.listener.length;r++)this.listener[r](e,t)},o.prototype.checkReady=function(){0<this.buffer.length&&this.emit(i.ready)},o.prototype.getIndex=function(e){var t,r=null;for(this.ensureBuffer(),t=0;t<this.buffer.length;t++)if(this.buffer[t].value===e.value){r=t;break}return r},o.prototype.ensureBuffer=function(){null===this.buffer&&(this.buffer=this.loadBuffer(),null===this.buffer&&(this.buffer=[]))},o.prototype.saveBuffer=function(){var e;return!!this.active&&(this.ensureBuffer(),e=JSON.stringify(this.buffer),this.storage.setItem(this.options.key,e),this.checkReady(),a.logger.log("storage","write",this.buffer),!0)},o.prototype.loadBuffer=function(){var e,t=null;if(this.storage){if(e=this.storage.getItem(this.options.key))try{e=JSON.parse(e)}catch(e){}t=n.util.isArray(e)?e:[]}return t},r=o;function o(e){this.options=e,this.storage=null,this.buffer=null,this.listener=[],this.active=function(){try{var e="__storage_test__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}(),this.active&&(this.storage=localStorage),this.ensureBuffer()}t.TrackBuffer=r},function(e,t,r){"use strict";t.__esModule=!0;var n=r(57),c=r(1),u="wa-qa",p="wa",f=["1und1.de","1and1.com","gmx.at","gmx.ch","gmx.net","gmx.com","gmx.co.uk","gmx.es","gmx.fr","mail.com","web.de"],l={"1und1.de":"/1und1/1und1/s","1and1.com":"/1and1/1and1/s","gmx.at":"/gmx/gmx/s","gmx.ch":"/gmx/gmx/s","gmx.net":"/gmx/gmx/s","gmx.com":"/gmx/gmx-com/s","gmx.co.uk":"/gmx/gmx-com/s","gmx.es":"/gmx/gmx-com/s","gmx.fr":"/gmx/gmx-com/s","mail.com":"/mailcom/mailcom/s","web.de":"/webde/webde/s"},h={"1und1":"1und1.de/wa/t.gif","1und1de":"1und1.de/wa/t.gif","1and1":"1and1.com/wa/t.gif","1and1com":"1and1.com/wa/t.gif",gmx:"gmx.net/wa/t.gif",gmxat:"gmx.net/wa/t.gif",gmxch:"gmx.net/wa/t.gif",gmxde:"gmx.net/wa/t.gif",gmxnet:"gmx.net/wa/t.gif",gmxcom:"gmx.com/wa/t.gif",gmxcouk:"gmx.co.uk/wa/t.gif",gmxes:"gmx.es/wa/t.gif",gmxfr:"gmx.fr/wa/t.gif",mailcom:"mail.com/wa/t.gif",webde:"web.de/wa/t.gif"},g={},a={mc:!0,ac:!0,domainName:!0,isCH:!0,is1Reg:!0,isInapp:!0,q:!0,cd:!0,ved:!0},i=["browserswitch.decision.end","general.start"],r={key:"lib",parameter:{timestamp:{calc:function(){return(new Date).getTime()}},reso_scr_w:{cache:!0,calc:function(){return window.screen.width}},reso_scr_h:{cache:!0,calc:function(){return window.screen.height}},reso_scr_ppi:{cache:!0,calc:function(){var e=0;if(window.matchMedia){var t,r=function(e){return!0===matchMedia("(max-resolution: "+e+"dpi)").matches},n=0,a=96,i=r(n),o=a-n,s=0;if(i!==r(a))for(;1<o;){if(i!==r(t=n+Math.floor(o/2))?a=t:n=t,o=a-n,12<++s){e=-1;break}e=a}}return e}},soft_name:{},soft_version:{},soft_variant:{},brand:{defaultValue:"unknown"},registrationcountry:{},hid:{},product:{},reso_win_w:{cache:!1,calc:function(){return window.innerWidth}},reso_win_h:{cache:!1,calc:function(){return window.innerHeight}},section:{},trackingtype:{},eventposition:{},pageurl:{cache:!1,need:{parameter:["hid","section"]},calc:function(e){var t=e&&e.parameter&&e.parameter.hid?e.parameter.hid:null,e=e&&e.parameter&&e.parameter.section?e.parameter.section:null,e="string"==typeof e&&-1!==i.indexOf(e);if(t&&!e)return null;e=c.util.sanitizeUrl(document.location.href,a);return e.length?e:null}},referrer:{cache:!0,calc:function(){if(!document.referrer)return null;var e=c.util.sanitizeUrl(document.referrer,a);return e.length?e:null}},campaign:{calc:function(){return n.getLibCampaign()}},result:{},profileblocked:{},environment:{},lib_name:{fixed:"@poseidon/tracklib"},lib_version:{fixed:"4.3.1"},visit_calc:{}},properties:{lib:{useparameter:function(e,t){var r=Object.keys(t.systemParameter);return r=t.properties.lib.hasOwnProperty("addparameter")?r.concat(t.properties.lib.addparameter):r},addparameter:[],prefixparameter:["corr_","posi_","cont_","resu_","coun_","size_","time_","sett_","perm_"],generatorAdapter:function(e,t){var r,n,a,i="string"==typeof t.brand?t.brand:null,o="number"==typeof t.visit_calc?t.visit_calc:void 0,s="number"==typeof t.sett_nct?t.sett_nct:void 0,c=e.lib.hasOwnProperty("stage")&&"string"==typeof e.lib.stage?e.lib.stage:"live";return e.system.base_url?r=e.system.base_url:"function"==typeof e.lib.getBrainUrl&&(r=e.lib.getBrainUrl(i,c,o,s)),[{baseUrl:r,query:(n=t,a={},Object.keys(m).forEach(function(e){n[e]&&(a[e]=m[e](n[e]))}),Object.assign({},n,a))}]},getBrainUrl:function(e,t,r,n){if(g[e+"-"+t+"-"+(r=void 0===r?0:r)+"-"+(n=void 0===n?0:n)])return g[e+"-"+t+"-"+r+"-"+n];var a,i=("qa"===t?u:p)+".",i="qa"!==t&&1===n?"":i,o=c.util.getDomain(location.hostname),s="qa"!==t&&1===n?"nct.ui-portal.de":o;if(1===r&&-1!==f.indexOf(o))a=""+s+l[o];else if(-1!==f.indexOf(o))a=s+"/wa/t.gif";else{if(!h[e])return"";a=1===n?s+"/wa/t.gif":h[e]}return g[e+"-"+t+"-"+r+"-"+n]="https://"+i+a,g[e+"-"+t+"-"+r+"-"+n]},protocols:["http:","https:"]}}};t.libSystem=r;var m={campaign:function(e){return"#"+e.split("#").filter(function(e){return!!e}).map(function(e){return(e=1<e.split(":").length?e.split(":")[1]:e).replace(/@/g,"_")}).join("#")}}},function(e,t,r){"use strict";function n(e){var t,r,n=document.location.search.slice(1);if(n)for(var a=(n=n.split("#")[0]).split("&"),i=0;i<a.length;i++)t=(r=a[i].split("="))[0].toLowerCase(),r=r[1]||null,t&&r&&(o[t]=r);return o[e]||null}t.__esModule=!0;var o={},a=function(e){if(!e)return null;var t;try{t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))}catch(e){}return t||null},i={hashtag:function(){if(document.location.hash&&"."===(e=document.location.hash.slice(1))[0]){var e=e.split("?")[0].split("&")[0],t=void 0;try{t=decodeURIComponent(e)}catch(e){}return t}return null},mediacode:function(){return n("mc")},kid:function(){return n("kid")||a("cookieKID")}};t.getLibCampaign=function(){for(var e,t,r=[],n=0,a=["mediacode","hashtag","kid"];n<a.length;n++)(t=i[e=a[n]]?i[e]():null)&&r.push(e+":"+t);return r.length?"#"+r.join("#"):null}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),a=r(59),r={key:"brain",parameter:{name:{need:{properties:["system.section_prefix"],parameter:["trackingtype","section"]},calc:function(e){return[e.properties.system.section_prefix,e.parameter.trackingtype,e.parameter.section].join(".")}},timestamp:{alias:"mts"},registrationcountry:{alias:"country"},trackingtype:{alias:"type",need:{properties:["system.mapping"]},calc:function(e,t){if(e.properties.system){var r,e=e.properties.system;return t.set&&"string"==typeof t.set&&(r=t.set,r=e.mapping.trackingtype.hasOwnProperty(r)?e.mapping.trackingtype[r]:r),r}}},tif:{need:{runtime:["activeSystems"]},calc:function(e){return e.runtime.activeSystems.hasOwnProperty("tif")?1:0}},reso_scr_w:{alias:"rsw"},reso_scr_h:{alias:"rsh"},reso_win_w:{alias:"vpw"},reso_win_h:{alias:"vph"},reso_scr_ppi:{},touch:{cache:!0,calc:function(){return a.features.touchevents()}},label:{need:{properties:["system.label_prefix"]},calc:function(e,t){var r=e.properties.system,e={};return e=t.set&&n.util.isObject(t.set)?n.util.prefixObject(t.set,r.label_prefix):e}}},properties:{lib:{active:!1,generator:"img",useparameter:function(e){return Object.keys(e.parameter)}},system:{label_prefix:"n_",section_prefix:"brain",mapping:{trackingtype:{cl:"click",ev:"event"}}}}};t.brainTrackingSystem=r},function(e,t,r){"use strict";t.__esModule=!0,t.features={touchevents:function(){var e=!1;return e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?!0:e}}},function(e,t,r){"use strict";t.__esModule=!0;t.pakpieTrackingSystem={key:"pakpie",parameter:{attributeset:{fixed:2}},properties:{lib:{active:!0,generator:"img_pakpie"}}}},function(e,t,r){"use strict";function f(e,t,r){var n=[];return t&&n.push(t),r&&n.push(r),n.push(e.replace(l,"").replace(g,"").replace(h,"")),n.join("/")}function n(t){var e=a.filter(function(e){return new RegExp(e+"$").test(t)});return e?e[0]:null}function i(t){var r={};Object.keys(u).forEach(function(e){r[u[e]]=t[e]});var n=s.concat(c);return Object.keys(t).filter(function(e){return-1!==n.indexOf(e)}).forEach(function(e){return r[e]=t[e]}),r}t.__esModule=!0;var a=["at","ch","de","co.uk","com","es","fr","net"],o={net:"de"},s=["evtid","mediaID","mpID","conversionData"],c=["region"],u={brand:"site",pageidentifier:"sc",hid:"haID"},p={key:"tif",parameter:{pageidentifier:{need:{parameter:["section","product","pageurl"],properties:["system.brain_tif_mapping","system.prefix","system.mobile_os","system.get_product_name"]},calc:function(e){var t,r,n=e.parameter.section,a=e.properties.system,i=a.brain_tif_mapping;if("section"===i&&"string"==typeof n){var o=a.mobile_os,s=a.prefix,c=a.get_product_name,u="string"==typeof e.parameter.product?parseInt(e.parameter.product):e.parameter.product,p=void 0;return void 0!==u&&"function"==typeof c&&(p=c(u)),t=o,r=s,e=p,u=(c=n).split("."),c=!(p=[]),t&&p.push(t),r&&p.push(r),u.shift(),e&&p.push(e),"view"===u[u.length-1]&&(u.pop(),c=!0),p=p.concat(u),0===u.length&&c&&p.push("index"),p.join("/")}if("url"!==i)return"string"==typeof n?n.split(".").join("/"):n;o=a.mobile_os,s=a.prefix;return f(window.location.pathname,o,s)}},brand:{},region:{calc:function(){var e=n(window.location.hostname);return(e=o[e]||e)?e.replace(".",""):void 0}},hid:{},crx:{},evtid:{set:919},mediaID:{set:1015},mpID:{set:4},conversionData:{}},properties:{lib:{active:!1,generator:"obj",generatorAdapter:function(e,t){var r,n,a={obj:e.system.tif_container,methodName:"track",data:(n=Object.assign({},t),s.forEach(function(e){delete n[e]}),n)};return void 0!==a.data.product&&(a.data.ul=a.data.product,delete a.data.product),e.system.fire_conversion&&((r={obj:e.system.tif_container,methodName:"fire_conversion",data:i(t)}).data.conversionData&&(r.data.conversionData.split("&").forEach(function(e){e=e.split("=");2===e.length&&(r.data[e[0]]=e[1])}),delete r.data.conversionData)),e.system.fire_conversion?[a,r]:[a]},useparameter:function(e){e=Object.keys(e.parameter);return e.push("product"),e}},system:{tif_container:{},brain_tif_mapping:"section",prefix:null,mobile_os:null,product_for_userlevel:null}}};t.tifTrackingSystem=p;var l=/^\//,h=/\/$/,g=/\.htm(l)?$/;t.getPageIdentifierFromUrl=f,t.getMatchingTld=n,t.getConversionParams=i},function(e,t,r){"use strict";t.__esModule=!0;var n=r(36);t.gtmTrackingSystem={key:"gtm",parameter:{event:{fixed:"tracklibEvent"},section:{alias:"tracklibVariable"}},properties:{lib:{active:!1,generator:"obj",generatorAdapter:function(e,t){e=e.system;return[{obj:window[e.gtm_global],methodName:"push",data:t}]},useparameter:function(e){return Object.keys(e.parameter)},hasConsent:function(){return n.getTcfConsent("googleAnalyticsTracking")}},system:{gtm_global:{set:"dataLayer"}}}}},function(e,t,r){"use strict";t.__esModule=!0;function n(e){return i.util.createUrl(e)}function a(r){var n=new Image(1,1);return new Promise(function(e,t){n.addEventListener("load",function(){e("load")}),n.addEventListener("error",function(){t("error")}),n.addEventListener("abort",function(){t("abort")}),n.src=r,o.logger.log("img","request",r)})}var i=r(1),o=r(4);t.imageGenerator={key:"img",run:function(e){e=n(e);return a(e)},getValue:n,track:a}},function(e,t,r){"use strict";t.__esModule=!0;function n(e){var t,r=0,n=(e=i.util.createUrl(e)).split("?");for(n[1]+="&signature=",t=0;t<n[1].length;t++)r+=n[1].charCodeAt(t);return n[1]+=r=r%5843+9127,n.join("?")}function a(r){var n=new Image(1,1),e=new Promise(function(e,t){n.addEventListener?(n.addEventListener("load",function(){o.logger.log("img_pakpie","loaded",r),e("load")}),n.addEventListener("error",function(){o.logger.log("img_pakpie","error",r),t("error")}),n.addEventListener("abort",function(){o.logger.log("img_pakpie","abort",r),t("abort")}),n.src=r,o.logger.log("img_pakpie","request",r)):(n.src=r,o.logger.log("img_pakpie","request",r),e("unknown"))});return e.catch(function(){}),e}var i=r(1),o=r(4);t.imagePakpieGenerator={key:"img_pakpie",getValue:n,track:a,run:function(e){e=n(e);return a(e)}}},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),a=r(4);t.objectGenerator={key:"obj",run:function(t){return new Promise(function(e){n.util.isObject(t)&&n.util.isObject(t.obj)&&t.methodName&&n.util.isFunction(t.obj[t.methodName])&&(t.obj[t.methodName](t.data),a.logger.log("obj","request",t)),e(!0)})}}},function(e,a,t){"use strict";a.__esModule=!0;var i=t(36);a.PERSONAL_DATA_ATTRIBUTES=["reso_scr_w","reso_scr_h","reso_scr_ppi","corr_","hid","reso_win_w","reso_win_h","cont_page_id","cont_lvts","cont_segment","size_","soft_variant","campaign"],a.tcf2Filter=function(e,r,t){var n;"pakpie"===e.key&&(n=!1,"number"==typeof(e=i.getTcfVersion())&&(n=2<=e?i.getTcfConsent("brainTracking",2):!(1===r.profileblocked)),r.profileblocked=n?0:1,n||Object.keys(r).forEach(function(t){a.PERSONAL_DATA_ATTRIBUTES.forEach(function(e){0===t.indexOf(e)&&delete r[t]})}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0;r=r(45);e.exports=r.TrackLib}],a={},n.m=r,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109);function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,a});

!function(c){function t(t){for(var e,n,o=t[0],i=t[1],r=t[2],a=0,s=[];a<o.length;a++)n=o[a],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&s.push(u[n][0]),u[n]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(c[e]=i[e]);for(y&&y(t);s.length;)s.shift()();return f.push.apply(f,r||[]),l()}function l(){for(var t,e=0;e<f.length;e++){for(var n=f[e],o=!0,i=1;i<n.length;i++){var r=n[i];0!==u[r]&&(o=!1)}o&&(f.splice(e--,1),t=p(p.s=n[0]))}return t}var n={},u={9:0},f=[];function p(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,p),e.l=!0,e.exports}p.e=function(o){var t,i,r,e,a,n=[],s=u[o];return 0!==s&&(s?n.push(s[2]):(t=new Promise(function(t,e){s=u[o]=[t,e]}),n.push(s[2]=t),(i=document.createElement("script")).charset="utf-8",i.timeout=120,p.nc&&i.setAttribute("nonce",p.nc),i.src=p.p+""+({1:"shared/generated/js/BeforeAfterSlider",2:"shared/generated/js/ImageZoomLayer",4:"shared/generated/js/CappingLayer",5:"shared/generated/js/JWPlayer",6:"shared/generated/js/Search",7:"shared/generated/js/fetch"}[o]||o)+"."+{1:"8827aee0381a3e7f8a45",2:"3854362023b97c05f4d2",4:"58840b19772e1e729e8f",5:"eb22b535c85e6aaca0a3",6:"6a542c00ecd2b6c6feec",7:"496558b99696463e9f5d"}[o]+".js",r=new Error,e=function(t){i.onerror=i.onload=null,clearTimeout(a);var e,n=u[o];0!==n&&(n&&(e=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,r.message="Loading chunk "+o+" failed.\n("+e+": "+t+")",r.name="ChunkLoadError",r.type=e,r.request=t,n[1](r)),u[o]=void 0)},a=setTimeout(function(){e({type:"timeout",target:i})},12e4),i.onerror=i.onload=e,document.head.appendChild(i))),Promise.all(n)},p.m=c,p.c=n,p.d=function(t,e,n){p.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},p.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p.t=function(e,t){if(1&t&&(e=p(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(p.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)p.d(n,o,function(t){return e[t]}.bind(null,o));return n},p.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return p.d(e,"a",e),e},p.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},p.p="/public/",p.oe=function(t){throw console.error(t),t};var e=(o=window.webpackJsonp=window.webpackJsonp||[]).push.bind(o);o.push=t;for(var o=o.slice(),i=0;i<o.length;i++)t(o[i]);var y=e;f.push([176,3,0]),l()}({101:function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n(50),n(68),n(4),n(5),n(10),n(7),n(11),n(12),n(3),n(8),n(9);var i=(o(s.prototype,[{key:"getItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method getItem!")}},{key:"setItem",value:function(t,e){throw new Error("AbstractStorage - you have to implement the method setItem!")}},{key:"removeItem",value:function(t){throw new Error("AbstractStorage - you have to implement the method removeItem!")}}]),s),r=n(25),a=n.n(r);function s(){!function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var l=(v=u,r=[{key:"getItem",value:function(t){if("string"==typeof t)return a.a.get(t)}},{key:"setItem",value:function(t,e){return"string"==typeof t&&void 0!==e&&(a.a.set(t,e,{expires:2<arguments.length&&void 0!==arguments[2]?arguments[2]:7}),!0)}},{key:"removeItem",value:function(t){return"string"==typeof t&&(a.a.remove(t),!0)}}],null&&c(v.prototype,null),c(v,r),u);function u(){!function(t){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),d(t,e)}(b,i),p(b.prototype,[{key:"getItem",value:function(t){return l.getItem(t)}},{key:"setItem",value:function(t,e){return l.setItem(t,e,this.expires)}},{key:"removeItem",value:function(t){return l.removeItem(t)}}]),b);function b(){var t,e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:7;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),t=this,(e=!(e=y(b).call(this))||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).expires=n,e}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v,m=(v=w,r=[{key:"getItem",value:function(t){if("string"==typeof t){var e;try{var n=window.localStorage;n&&null!==n.getItem(t)&&(e=n.getItem(t))}catch(t){}return e}}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n=!1;try{var o=window.localStorage;o&&(o.setItem(t,e),n=!0)}catch(t){}return n}},{key:"removeItem",value:function(t){if("string"!=typeof t)return!1;var e=!1;try{var n=window.localStorage;n&&(n.removeItem(t),e=!0)}catch(t){}return e}}],null&&g(v.prototype,null),g(v,r),w);function w(){!function(t){if(!(t instanceof w))throw new TypeError("Cannot call a class as a function")}(this)}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),k(t,e)}(j,i),S(j.prototype,[{key:"getItem",value:function(t){return m.getItem(t)}},{key:"setItem",value:function(t,e){return m.setItem(t,e)}},{key:"removeItem",value:function(t){return m.removeItem(t)}}]),j),_=n(34);function j(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,j),t=this,!(e=P(j).apply(this,arguments))||"object"!==O(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),T(t,e)}(R,i),C(R.prototype,[{key:"getItem",value:function(t){return _.a.getItem(t)}},{key:"setItem",value:function(t,e){return _.a.setItem(t,e)}},{key:"removeItem",value:function(t){return _.a.removeItem(t)}}]),R);function R(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,R),t=this,!(e=L(R).apply(this,arguments))||"object"!==A(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",function(){return x});var x=(e=[{key:"initValueObject",value:function(){var t,e,n;this.valueObject={},this.name&&(e=(t=(n=this.storage.getItem(this.name))?this.decodeBase64(n):t)?this.parseJson(t):e)&&(this.valueObject=e)}},{key:"updateStorage",value:function(){var t,e;!this.name||(t=(e=JSON.stringify(this.valueObject))?this.encodeBase64(e):t)&&this.storage.setItem(this.name,t)}},{key:"encodeBase64",value:function(t){try{return window.btoa(t)}catch(t){return}}},{key:"decodeBase64",value:function(t){try{return window.atob(t)}catch(t){return}}},{key:"parseJson",value:function(t){if(t&&"string"==typeof t)try{return JSON.parse(t)}catch(t){return}}},{key:"getItem",value:function(t){if("string"==typeof t)return this.valueObject[t]}},{key:"setItem",value:function(t,e){if("string"!=typeof t||void 0===e)return!1;var n={};return n[t]=e,Object.assign(this.valueObject,n),this.updateStorage(),!0}},{key:"removeItem",value:function(t){return"string"==typeof t&&(delete this.valueObject[t],this.updateStorage(),!0)}}],D(B.prototype,e),B);function B(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"session",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:7;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,B),"string"==typeof t&&t){switch(this.name="polygon_".concat(t),e){case"local":this.storage=new E;break;case"cookie":this.storage=new h(n);break;default:this.storage=new I}this.initValueObject()}}},127:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n(4),n(5),n(10),n(7),n(57),n(58),n(3),n(8),n(9);var o=n(0),i=n(6),r=n(62);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c,l=Symbol("INSTANCE"),u=Symbol("SINGELTONENFORCER"),f=(c=[{key:"instance",get:function(){return this[l]||(this[l]=new p(u)),this[l]}}],e=[{key:"onTCDataChanged",value:function(){var t=r.a.instance;t.ready&&(window.polygon.componentLoader.unsubscribe(o.Y,this.onTCDataChanged),this.config.gdpr_consent=t.tcData&&t.tcData.tcString?t.tcData.tcString:"","object"===a(window.$AC)&&"function"==typeof window.$AC.loadConfig?this.init():window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(o.qb,this.onVideoDataControlSourceReady,this),window.polygon.componentLoader.subscribe(o.pb,this.onVideoDataControlSourceError,this)))}},{key:"onVideoDataControlSourceReady",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.unsubscribe(o.qb,this.onVideoDataControlSourceReady),window.polygon.componentLoader.unsubscribe(o.pb,this.onVideoDataControlSourceError)),this.init()}},{key:"onVideoDataControlSourceError",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.unsubscribe(o.qb,this.onVideoDataControlSourceReady),window.polygon.componentLoader.unsubscribe(o.pb,this.onVideoDataControlSourceError)),this.publish(o.nb)}},{key:"init",value:function(){"object"===a(window.$AC)&&"function"==typeof window.$AC.loadConfig&&(window.$AC.loadConfig(this.config),"function"==typeof window.$AC.playerInitReady&&window.$AC.playerInitReady()?this.onInitialized():(this.onACPlayerStartListener=this.onACPlayerStart.bind(this),window.addEventListener(o.a,this.onACPlayerStartListener)))}},{key:"onACPlayerStart",value:function(){this.onACPlayerStartListener&&window.removeEventListener(o.a,this.onACPlayerStartListener),this.onInitialized()}},{key:"onInitialized",value:function(){this._isInitialized=!0,this._sxpkeys=this.getSXPKeys(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.ob)}},{key:"getSXPKeys",value:function(){return"object"!==a(window.$AC)||"function"!=typeof window.$AC.getSXPKeys?this._sxpkeys:window.$AC.getSXPKeys()}},{key:"setVideoContentDuration",value:function(t){Number.isInteger(t)&&this.currentVideoContentDuration!==t&&"object"===a(window.$AC)&&"function"==typeof window.$AC.setTargeting&&(this.currentVideoContentDuration=t,window.$AC.setTargeting("vcd",t),this._sxpkeys=this.getSXPKeys())}},{key:"sxpkeys",get:function(){return this._sxpkeys}},{key:"isInitialized",get:function(){return this._isInitialized}}],s((n=p).prototype,e),s(n,c),p);function p(t){if(function(t){if(!(t instanceof p))throw new TypeError("Cannot call a class as a function")}(this),t!==u)throw new Error("Instantiation failed: Use VideoDataControl.instance instead of new.");this._isInitialized=!1,this.currentVideoContentDuration=null,this._sxpkeys="fwd_j4=1&fwd_j5=2:3&fwd_i1=4:5";t=i.a.instance,t=t.video&&t.video.vdc?t.video.vdc:void 0;this.config={autoDetection:!0,consent:!0,site:t?t.site:"",playerName:"JW Player",playerWrapper:t&&Number.isInteger(t.playerWrapper)?t.playerWrapper:10,playerSDKTimeout:t&&Number.isInteger(t.playerSDKTimeout)?t.playerSDKTimeout:8,playerTimeout:t&&Number.isInteger(t.playerTimeout)?t.playerTimeout:10},r.a.instance.ready?this.onTCDataChanged():window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.subscribe(o.Y,this.onTCDataChanged,this)}},176:function(t,e,n){n(128),n(177),t.exports=n(200)},200:function(t,e,n){"use strict";n.r(e),n(3),n(47);var y=n(6),o=y.a.instance;n.p="".concat(o.urls.assetsBasePath,"/public/"),n(4),n(5),n(10),n(13),n(7),n(14),n(11),n(12),n(15),n(8),n(9);var i=n(2),r=n.n(i),d=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(b,r.a),ys=[{key:"scan",value:function(){this._isScanning?this._queuedScans+=1:(this._isScanning=!0,c(l(b.prototype),"scan",this).call(this),this._isScanning=!1,0<this._queuedScans?(--this._queuedScans,this.scan()):this.publish(d.p))}}],s(b.prototype,ys),b),h=n(17),p=(n(106),n(27),n(57),n(58),n(28),n(34));function b(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=l(b)).call.apply(e,[this].concat(o)))||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e)._queuedScans=0,e._isScanning=!1,e}function g(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var v=Symbol("INSTANCE"),m=Symbol("SINGELTONENFORCER"),w=(Mn=[{key:"instance",get:function(){return this[v]||(this[v]=new k(m)),this[v]}}],Rn=[{key:"init",value:function(){if(p.a.getItem("breakingnews")){var t;try{t=JSON.parse(p.a.getItem("breakingnews"))}catch(t){}if(t){var e=y.a.instance,e=e.cacheControl&&e.cacheControl.breakingnews&&Number.isInteger(e.cacheControl.breakingnews.sessionStorageMaxAge)?e.cacheControl.breakingnews.sessionStorageMaxAge:900,e=Date.now()-1e3*e;if(t.updated_at&&t.updated_at>=e&&t.items&&Array.isArray(t.items))return void(this._items=t.items)}}this._items=[]}},{key:"fetchBreakingNews",value:function(){var e=this,t=y.a.instance;t.urls&&"string"==typeof t.urls.assetsBasePath&&(t="".concat(t.urls.assetsBasePath,"/assets/news/breakingnews.json"),fetch(t,{method:"GET"}).then(function(t){return t.json()}).then(function(t){return e.parseFetchedBreakingNews(t)}).catch(function(){return console.error("Error while fetching breaking news.")}))}},{key:"parseFetchedBreakingNews",value:function(t){t&&Array.isArray(t)&&(this.items=t)}},{key:"updateSessionStorage",value:function(t){t={items:t&&Array.isArray(t)?t:[],updated_at:Date.now()};p.a.setItem("breakingnews",JSON.stringify(t))}},{key:"items",get:function(){return this._items},set:function(t){var n,o=this;t&&Array.isArray(t)&&((n=t.length!==this._items.length)||t.forEach(function(e){-1===o._items.findIndex(function(t){return t.id===e.id})&&(n=!0)}),this._items=t,this.updateSessionStorage(t),n&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(d.h,t))}}],g((sc=k).prototype,Rn),g(sc,Mn),n(35),n(78),n(39),n(64),n(21),n(51),n(104),n(38),n(16)),O=n(1),S=n(55),P=n(18);function k(t){if(function(t){if(!(t instanceof k))throw new TypeError("Cannot call a class as a function")}(this),t!==m)throw new Error("Instantiation failed: Use BreakingNewsData.instance instead of new.");this.init(),this.fetchBreakingNews()}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var _,j,A,C=Symbol("INSTANCE"),L=Symbol("SINGELTONENFORCER"),T=(ws=[{key:"instance",get:function(){return this[C]||(this[C]=new R(L)),this[C]}}],Ar=[{key:"init",value:function(){var e=this;this.initializedAdPositions=[],this.reloadAllAdsTriggered=!1;var t=y.a.instance,n=S.a.instance,o="desktop";O.a.isAndroidApp?o="androidphone":O.a.isIOSApp?o="iosphone":P.a.isTablet?o="tablet":P.a.isMobile&&(o="mobile");var i=window.innerWidth,r="lg";i<=w.b.sm.max?r="sm":i<=w.b.md.max&&(r="md");var a="_default";t.noAds||n.isIssueArticle?a="_noad":void 0!==t.guj&&t.guj.zone&&(a=t.guj.zone);var s="default";void 0!==t.guj&&t.guj.spmtp&&(s=t.guj.spmtp);var c="";void 0!==t.guj&&t.guj.spmurid&&(c=t.guj.spmurid);var l="";void 0!==t.guj&&t.guj.spmtid&&(l=t.guj.spmtid);var u="";void 0!==t.guj&&t.guj.spmard&&(u=t.guj.spmard);var f=!1;void 0!==t.guj&&t.guj.isIndexPage&&(f=!0);var p=[];void 0!==t.guj&&Array.isArray(t.guj.keywords)&&(p=p.concat(t.guj.keywords)),"undefined"!=typeof GujAd&&void 0!==GujAd.cmd&&(void 0!==GujAdPositions&&GujAdPositions.forEach(function(t){Array.isArray(t.breakpoints)&&!t.breakpoints.includes(r)||e.initAdPosition(t.id)}),GujAd.cmd.unshift(function(){GujAd.getClient().setSiteType(o)},function(){"develop"===a?GujAd.getClient().setZone(a,!0):GujAd.getClient().setZone(a)},function(){GujAd.getClient().addTargetingParameter("spmtp",s),c&&GujAd.getClient().addTargetingParameter("spmurid",c),l&&GujAd.getClient().addTargetingParameter("spmtid",l),u&&GujAd.getClient().addTargetingParameter("spmard",u)},function(){GujAd.getClient().setIsIndexPage(f)},function(){GujAd.getClient().setKeywords(p)},function(){GujAd.registerAdPositionLoadedHandler(function(t){e.onAdPositionLoaded(t)})},function(){O.a.isApp&&h.a.instance.advertisingId&&GujAd.getClient().setIDFA(h.a.instance.advertisingId)})),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(d.X,function(t){e.onTargetAdPositionLoaded(t)}),t.disableAds&&void 0!==GujAdPositions&&GujAdPositions.forEach(function(t){t.sitetype&&("mobile"!==t.sitetype&&t.sitetype!==o||"mobile"===t.sitetype&&!["mobile","androidphone","iosphone"].includes(o))||window.polygon.componentLoader.publish(d.d,{positionName:t.id})}))}},{key:"onAdPositionLoaded",value:function(t){var e=t.getName(),n=t.containsAd(),o=t.getGPTEvent(),i=o&&Array.isArray(o.size)&&2===o.size.length?o.size:[void 0,void 0],r=o&&o.isEmpty,o=o&&o.isBackfill;this.refreshAdContainerStyle(e,t.containsAd(),i),this.refreshAdContainerVisibility(e,t.containsAd()),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&(window.polygon.componentLoader.publish(d.d,{positionName:e,containsAd:n,isEmpty:r,isBackfill:o,size:i}),n&&window.polygon.componentLoader.publish(d.e,e))}},{key:"onTargetAdPositionLoaded",value:function(t){this.refreshAdContainerVisibility(t,!0);var e=document.querySelector("#".concat(t));e&&(e.setAttribute("data-advertisement",e.getAttribute("data-advertisement").replace(new RegExp("GujAd","g"),"AdobeTargetAd")),e.className="",e.parentElement.getAttribute("data-advertisement")&&0<=e.parentElement.getAttribute("data-advertisement").indexOf(t)&&(e.parentElement.className=""),e.style.display=""),void 0!==window.polygon&&void 0!==window.polygon.componentLoader&&window.polygon.componentLoader.publish(d.e,t)}},{key:"refreshAdContainerStyle",value:function(t,e,n){t=document.querySelector('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([id])'));t&&(e&&Array.isArray(n)&&n[0]&&300<n[0]?t.setAttribute("style","float: none !important; padding-left: 0 !important; padding-right: 0 !important; margin-left: 0 !important; margin-right: 0 !important;"):t.setAttribute("style",""))}},{key:"refreshAdContainerVisibility",value:function(t,e){e?Array.from(document.querySelectorAll('[data-advertisement^="GujAd"][data-advertisement*="'.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach(function(t){t.classList.remove("hidden"),t.classList.remove("unhidable")}):this.reloadAllAdsTriggered||Array.from(document.querySelectorAll('[data-advertisement^="GujAd '.concat(t,'"]:not([data-advertisement*="disabled"])'))).forEach(function(t){t.classList.add("hidden")})}},{key:"initAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&(this.initializedAdPositions.includes(t)?this.reloadAdPosition(t):(GujAd.cmd.push(function(){GujAd.push(t)}),this.initializedAdPositions.push(t)))}},{key:"reloadAllAds",value:function(){var n=this;void 0!==GujAd&&(this.reloadAllAdsTriggered=!0,this.initializedAdPositions.forEach(function(t){var e;"function"!=typeof GujAd.isAdPositionEmpty||GujAd.isAdPositionEmpty(t)||(e=document.querySelector("#".concat(t,'[data-advertisement^="GujAd"]:not([data-advertisement*="disabled"])')))&&0<e.offsetHeight&&(e.classList.add("unhidable"),e.style.minHeight="".concat(e.offsetHeight,"px"),n.reloadAdPosition(t))}))}},{key:"reloadAdPosition",value:function(t){void 0!==GujAd&&void 0!==GujAd.cmd&&GujAd.cmd.push(function(){GujAd.getClient().reloadAd(t)})}}],E((Jn=R).prototype,Ar),E(Jn,ws),R),I=[];function R(t){if(function(t){if(!(t instanceof R))throw new TypeError("Cannot call a class as a function")}(this),t!==L)throw new Error("Instantiation failed: Use GujAdBridge.instance instead of new.");this.init()}window.fetch||I.push(n.e(7).then(n.bind(null,219))),Event.prototype.composedPath||I.push((to=Event.prototype,_=document,j=window,void(to.composedPath=function(){if(this.path)return this.path;var t=this.target;for(this.path=[];null!==t.parentNode;)this.path.push(t),t=t.parentNode;return this.path.push(_,j),this.path}))),"function"!=typeof window.Event&&I.push(void(window.Event=function(t,e){var n=e||{bubbles:!1,cancelable:!1},e=document.createEvent("Event");return e.initEvent(t,n.bubbles,n.cancelable),e})),window.IntersectionObserver&&window.IntersectionObserverEntry||I.push(n.e(0).then(n.t.bind(null,208,7))),"globalThis"in window||I.push(void(window.globalThis=window)),I.push(n.e(0).then(n.t.bind(null,207,7)).then(function(t){var e=Array.from(document.querySelectorAll("[data-stickyfill]"));t.add(e)})),I.push(n.e(0).then(n.t.bind(null,209,7)).then(function(t){t.polyfill()})),(D=document.createElement("_")).classList.toggle("hidden",!1),D.classList.contains("hidden")&&I.push((A=DOMTokenList.prototype.toggle,void(DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:A.call(this,t)})));var D=null,x=Promise.all(I);function B(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var N=Symbol("INSTANCE"),z=Symbol("SINGELTONENFORCER"),q=(ho=[{key:"instance",get:function(){return this[N]||(this[N]=new V(z)),this[N]}}],B((dl=V).prototype,[{key:"init",value:function(){var e=this;document.addEventListener("keydown",function(t){"Tab"===t.key&&e.toggleKeyboardControlClass(!0)},{passive:!0}),document.addEventListener("mousedown",function(){e.toggleKeyboardControlClass(!1)},{passive:!0})}},{key:"toggleKeyboardControlClass",value:function(t){document.documentElement.classList.toggle("keyboard-control",t)}}]),B(dl,ho),n(52),n(107),n(48),n(20)),M=n(46),U=(n(68),n(36),n(53),n(63));function V(t){if(function(t){if(!(t instanceof V))throw new TypeError("Cannot call a class as a function")}(this),t!==z)throw new Error("Instantiation failed: Use KeyboardDetection.instance instead of new.");this.init()}function F(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function H(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var W=Symbol("INSTANCE"),J=Symbol("SINGELTONENFORCER"),X=(Yr=[{key:"instance",get:function(){return this[W]||(this[W]=new Y(J)),this[W]}}],Xr=[{key:"init",value:function(){var t=y.a.instance;this.application=t.application||{},this.editorial=t.editorial||void 0,this.external=t.external||{},this.page=t.page||{},this.paywall=t.paywall||void 0}},{key:"application",set:function(t){this._application={},t&&t.info&&(this._application.info=t.info),O.a.isApp&&(t="",O.a.isAndroidApp?t="Android:":O.a.isIOSApp&&(t="iOS:"),t+=O.a.appVersion,this._application.info||(this._application.info={}),this._application.info.app_version=t)},get:function(){return this._application}},{key:"editorial",set:function(t){this._editorial=t?{info:H({},t.info||{}),attributes:H({},t.attributes||{}),category:H({},t.category||{}),author:H({},t.author||{})}:void 0},get:function(){return this._editorial}},{key:"external",set:function(t){this._external={},t.vg_wort&&(this._external.vg_wort=t.vg_wort)},get:function(){return this._external}},{key:"page",set:function(t){var e={platform:O.a.isApp?"app":"web"},n=U.a.getReferrerFromUrl(window.location.href);n&&(e.referrer=n);n={is_phone:P.a.isPhone,is_tablet:P.a.isTablet,is_mobile:P.a.isMobile};this._page={info:Object.assign(e,t.info||{}),attributes:Object.assign(n,t.attributes||{}),category:H({},t.category||{})}},get:function(){return this._page}},{key:"paywall",set:function(t){this._paywall=t?H({},t):void 0},get:function(){return this._paywall}},{key:"user",get:function(){var t=q.a.instance,e={};return t.trackingId&&(e.tracking_id=t.trackingId),h.a.instance.advertisingId&&(e.device_advertising_id=h.a.instance.advertisingId),{info:H({},e),segment:{access:t.accessInfo,is_loggedIn:t.isLoggedIn,has_paid_access:t.hasPaidAccess,has_spiegelNoAdsMonthly_access:t.hasNoAdsAccess,has_conditional_access:t.hasConditionalAccess}}}}],G((So=Y).prototype,Xr),G(So,Yr),Y);function Y(t){if(function(t){if(!(t instanceof Y))throw new TypeError("Cannot call a class as a function")}(this),t!==J)throw new Error("Instantiation failed: Use SARAsData.instance instead of new.");this.init()}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var $=Symbol("INSTANCE"),Z=Symbol("SINGELTONENFORCER"),Q=(No=[{key:"instance",get:function(){return this[$]||(this[$]=new tt(Z)),this[$]}}],Lo=[{key:"init",value:function(){this.data=X.instance,window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(d.d,this.onAdPositionInitialized,this),window.polygon.componentLoader.subscribe(d.r,this.onJWPlayerInitialized,this),window.polygon.componentLoader.subscribe(d.G,this.onPodloveWebplayerInitialized,this),window.polygon.componentLoader.subscribe(d.E,this.onPodcastNativePlayerPlayClick,this),window.polygon.componentLoader.subscribe(d.F,this.onPodcastNativePlayerReplayClick,this),window.polygon.componentLoader.subscribe(d.t,this.sendClickEvent,this))}},{key:"onAdPositionInitialized",value:function(t){var e,n,o,i;t&&t.positionName&&"string"==typeof t.positionName&&(e=!!t.containsAd,n=!!t.isEmpty,o=!!t.isBackfill,i=Array.isArray(t.size)?t.size:[void 0,void 0],this.sendAdPositionInitializedEvent(t.positionName,e,n,o,i))}},{key:"onJWPlayerInitialized",value:function(t){t&&this.sendJWPlayerInitializedEvent(t)}},{key:"onPodloveWebplayerInitialized",value:function(t){t&&this.sendPodloveWebplayerInitializedEvent(t)}},{key:"onPodcastNativePlayerPlayClick",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t&&t.id&&this.sendPodcastNativePlayerEvent("play",t.id,t.show,t.title,t.audioUrl,t.duration)}},{key:"onPodcastNativePlayerReplayClick",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t&&t.id&&this.sendPodcastNativePlayerEvent("replay",t.id,t.show,t.title,t.audioUrl,t.duration)}},{key:"sendClickEvent",value:function(t){if("function"==typeof t.composedPath&&Array.isArray(t.composedPath())){for(var e={event:{info:{action:"click",name:"generic"},attributes:{}}},n=t.composedPath(),o="",i="",r="",a="",s=[],c=n.length-1;c--;)n[c]instanceof HTMLElement&&(n[c].hasAttribute("data-area")&&(o=o?"".concat(o,">").concat(n[c].getAttribute("data-area")):n[c].getAttribute("data-area")),n[c].hasAttribute("data-pos")&&(i=n[c].getAttribute("data-pos")),"A"===n[c].nodeName&&(n[c].hasAttribute("href")&&(r=n[c].getAttribute("href")),n[c].hasAttribute("title")&&(a=n[c].getAttribute("title")),n[c].querySelector("[data-contains-flags]")&&(s=n[c].querySelector("[data-contains-flags]").getAttribute("data-contains-flags").split(" "))));o&&(e.event.attributes.click_id=o),i&&(e.event.attributes.pos=i),r&&(e.event.attributes.target_url=r),a&&(e.event.attributes.headline=a),0<s.length&&(e.event.attributes.label=s),this.push(e)}}},{key:"sendJWPlayerInitializedEvent",value:function(t){t&&this.push({event:{info:{action:"jw-init"},attributes:{player_id:t}}})}},{key:"sendAdPositionInitializedEvent",value:function(t,e,n,o,i){t&&this.push({event:{info:{action:"adpos-init"},attributes:{pos:t,contains_ad:e,is_empty:n,is_backfill:o,size:i}}})}},{key:"sendPageLoadEvent",value:function(){var t={},t=Object.assign(t,{event:{info:{action:"page_data_ready",name:"generic"},attributes:{current_url:"".concat(y.a.instance.urls.base).concat(window.location.pathname).concat(window.location.search)}}});this.data.application&&(t=Object.assign(t,{application:this.data.application})),this.data.external&&(t=Object.assign(t,{external:this.data.external})),this.data.page&&(t=Object.assign(t,{page:this.data.page})),this.data.editorial&&(t=Object.assign(t,{editorial:this.data.editorial})),this.data.paywall&&(t=Object.assign(t,{paywall:this.data.paywall})),this.data.user&&(t=Object.assign(t,{user:this.data.user})),this.push(t)}},{key:"sendPodloveWebplayerInitializedEvent",value:function(t){t&&this.push({event:{info:{action:"podlove-init"},attributes:{player_id:t}}})}},{key:"sendPodcastNativePlayerEvent",value:function(t,e,n,o,i,r){t&&e&&this.push({event:{info:{action:"audio",name:t},attributes:{item:{title:o,series:n,file:i,mediaid:e},duration:r/1e3,source:"native"}}})}},{key:"sendVirtualPageEvent",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"generic",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"generic_recall",n=2<arguments.length?arguments[2]:void 0,o={},o=Object.assign(o,{event:{info:{action:"virtual_page",name:t},attributes:{label:e}}});n&&(o.page={info:{referrer:n}}),this.push(o)}},{key:"push",value:function(t){return t.event&&t.event.info&&t.event.info.action?window.SARAs_data?(window.SARAs_data.push(t),!0):(console.error("SARAs->push: SARAs_data is not defined: ".concat(JSON.stringify(t))),!1):(console.error("SARAs->push: Event Param action is required: ".concat(JSON.stringify(t))),!1)}}],K((Mc=tt).prototype,Lo),K(Mc,No),tt);function tt(t){if(function(t){if(!(t instanceof tt))throw new TypeError("Cannot call a class as a function")}(this),t!==Z)throw new Error("Instantiation failed: Use SARAs.instance instead of new.");this.init()}function et(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function nt(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?et(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):et(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var it=(ia=[{key:"execute",value:function(t,e){var n;window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.update&&window.polygon.cookies.polygon_consent.update(),this.user.update(),this.currentUserAccess.paid===this.user.access.paid&&this.currentUserAccess.conditional===this.user.access.conditional&&this.currentUserAccess.noAds===this.user.access.noAds?(this.currentUserAccess=nt({},this.user.access),(n=M.a.instance).shouldRedirectToConsent?n.redirectToConsent():n.shouldRedirectFromConsent?n.redirectToTargetUrl():(O.a.isApp&&window.navigator.webBridge.globalFontsize(h.a.instance.appFontSize),this.user.hasNoAdsAccess||T.instance.reloadAllAds(),Q.instance.sendVirtualPageEvent("app_call",e,t))):window.location.reload()}}],ot(rt.prototype,ia),rt);function rt(){!function(t){if(!(t instanceof rt))throw new TypeError("Cannot call a class as a function")}(this),this.user=q.a.instance,this.currentUserAccess=nt({},this.user.access)}function at(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var st=Symbol("INSTANCE"),ct=Symbol("SINGELTONENFORCER"),lt=(Zo=[{key:"instance",get:function(){return this[st]||(this[st]=new ut(ct)),this[st]}}],Go=[{key:"init",value:function(){var t,e=this;this.overlays=[],this.isComponentLoaderPresent&&((t=window.polygon.componentLoader).subscribe(d.B,function(t){return e.onOverlayOpened(t)}),t.subscribe(d.z,function(t){return e.onOverlayClosed(t)}),t.subscribe(d.u,function(){return e.onPageResume()})),this.updateState()}},{key:"onOverlayOpened",value:function(t){this.overlays.push(t),this.updateState()}},{key:"onOverlayClosed",value:function(e){this.overlays=this.overlays.filter(function(t){return t!==e}),this.updateState()}},{key:"updateState",value:function(){var t;document.documentElement.classList.toggle("overlay-open",this.isScrollingPrevented),O.a.isApp&&(t=0<this.overlays.length?d.db:d.bb,h.a.instance.sendState(t)),this.isComponentLoaderPresent&&window.polygon.componentLoader.publish(d.A,this.currentOverlay)}},{key:"onPageResume",value:function(){this.updateState()}},{key:"currentOverlay",get:function(){return this.overlays[this.overlays.length-1]||null}},{key:"isScrollingPrevented",get:function(){return 0<this.overlays.filter(function(t){return t.preventScrolling}).length}},{key:"isComponentLoaderPresent",get:function(){return window.polygon&&window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.subscribe&&"function"==typeof window.polygon.componentLoader.publish}}],at((dc=ut).prototype,Go),at(dc,Zo),n(62));function ut(t){if(function(t){if(!(t instanceof ut))throw new TypeError("Cannot call a class as a function")}(this),t!==ct)throw new Error("Instantiation failed: Use OverlayHandler.instance instead of new.");this.init()}function ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n(32);var pt=Symbol("INSTANCE"),yt=Symbol("SINGELTONENFORCER");ga=[{key:"instance",get:function(){return this[pt]||(this[pt]=new dt(yt)),this[pt]}}],pa=[{key:"init",value:function(){this.registerEventHandlers()}},{key:"registerEventHandlers",value:function(){window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(d.gb,this.onLoginTriggered,this),window.polygon.componentLoader.subscribe(d.hb,this.onAccountTriggered,this),window.polygon.componentLoader.subscribe(d.ib,this.onLogoutTriggered,this),window.polygon.componentLoader.subscribe(d.kb,this.onRegisterTriggered,this),window.polygon.componentLoader.subscribe(d.jb,this.onOfferTriggered,this),window.polygon.componentLoader.subscribe(d.lb,this.onRestorePurchasesTriggered,this))}},{key:"onAccountTriggered",value:function(){var t;O.a.isApp?h.a.instance.triggerAccount():(t=y.a.instance.urls)&&t.account&&t.account.account&&window.location.assign(t.account.account)}},{key:"onLoginTriggered",value:function(){var t;O.a.isApp?h.a.instance.triggerLogin():(t=y.a.instance.urls)&&t.account&&t.account.login&&window.location.assign(t.account.login)}},{key:"onLogoutTriggered",value:function(){var t;O.a.isApp?h.a.instance.triggerLogout():(t=y.a.instance.urls)&&t.account&&t.account.logout&&window.location.assign(t.account.logout)}},{key:"onRegisterTriggered",value:function(){var t;O.a.isApp?h.a.instance.triggerRegister():(t=y.a.instance.urls)&&t.account&&t.account.register&&window.location.assign(t.account.register)}},{key:"onOfferTriggered",value:function(t){var e=t.product,n=t.targetUrl;e&&(O.a.isApp?h.a.instance.triggerInAppPurchase({product:e}):(t=y.a.instance.urls)&&t.offers&&t.offers[e]&&(t=new URL(t.offers[e]),(n=n||((e=new URLSearchParams(window.location.search)).get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0))&&t.searchParams.set("targetUrl",n),window.location.assign(t.href)))}},{key:"onRestorePurchasesTriggered",value:function(t){var e=t.targetUrl;O.a.isApp&&(e||(e=(t=new URLSearchParams(window.location.search)).get("targetUrl")?decodeURIComponent(t.get("targetUrl")):void 0),h.a.instance.triggerRestorePurchases({targetUrl:e}))}}],ft((ri=dt).prototype,pa),ft(ri,ga);function dt(t){if(function(t){if(!(t instanceof dt))throw new TypeError("Cannot call a class as a function")}(this),t!==yt)throw new Error("Instantiation failed: Use TriggerHandler.instance instead of new.");this.init()}function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n(124),n(105),n(125);var bt=Symbol("INSTANCE"),gt=Symbol("SINGELTONENFORCER"),vt=(vi=[{key:"instance",get:function(){return this[bt]||(this[bt]=new mt(gt)),this[bt]}}],pi=[{key:"determineLanguage",value:function(){var t=p.a.getItem("lang"),e=navigator.language.slice(0,2),t=(t=t)||("de"===e?"de":"en");this._language=t}},{key:"language",get:function(){return this._language||this.determineLanguage(),this._language},set:function(t){if(!p.a.setItem("lang",t))throw new ReferenceError("Unable to switch language because sessionStorage is not available");return this._language=t,this._language}}],ht((Sa=mt).prototype,pi),ht(Sa,vi),mt);function mt(t){if(function(t){if(!(t instanceof mt))throw new TypeError("Cannot call a class as a function")}(this),t!==gt)throw new Error("Instantiation failed: Use LanguageModel.instance instead of new.")}function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e,n){return(St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pt(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Pt(t){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Et=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(_t,i.Component),Qc=[{key:"_renderPrototype",value:function(o,i){var r=this,a=this.localizationProto;return Object.keys(this.localizedFields).forEach(function(t){var e,n=r.localizedFields[t];n&&(e=n.split(":")[0],t=n.split(":")[1],e=(void 0!==o[e]?o:i)[e],t&&(e=e[t]),a=a.replace(new RegExp("__localized_".concat(n,"__"),"g"),e))}),a}},{key:"_localize",value:function(){var t=this,e=this.localizationSettings.labels,n=Object.keys(e),o=this.language,i=e[this.fallbackLanguage];n.includes(this.language)||(o=this.defaultLanguage);o=e[this.language=o],i=this._renderPrototype(o,i);this.el.textContent="",this.el.insertAdjacentHTML("afterbegin",i),Array.from(this.el.querySelectorAll("[data-localized-href]")).forEach(function(t){t.getAttribute("data-localized-href")&&(t.setAttribute("href",t.getAttribute("data-localized-href")),t.removeAttribute("data-localized-href"))}),this.boundOnComponentLoaderScanFinished=function(){return t.onComponentLoaderScanFinished()},this.subscribe(d.p,this.boundOnComponentLoaderScanFinished),window.polygon.componentLoader.scan()}},{key:"onComponentLoaderScanFinished",value:function(){this.unsubscribe(d.p,this.boundOnComponentLoaderScanFinished),this.onLocalized()}},{key:"onSwitchLanguageTriggered",value:function(){}},{key:"onLocalized",value:function(){}},{key:"initSwitchLanguageButton",value:function(){if(this.switchLanguageButton=this.el.querySelector('[data-localization-el="switchLanguageButton"]'),this.switchLanguageButton)try{window.sessionStorage,this.switchLanguageButton.addEventListener("click",this.onSwitchLanguageButtonClicked.bind(this))}catch(t){this.switchLanguageButton.remove()}}},{key:"onSwitchLanguageButtonClicked",value:function(t){t.preventDefault();t="de"===this.language?"en":"de";this.switchLanguage(t)}},{key:"switchLanguage",value:function(t){this.onSwitchLanguageTriggered();try{vt.instance.language=t}catch(t){return void console.warn(t.message)}window.location.reload()}},{key:"destroy",value:function(){St(Pt(_t.prototype),"destroy",this).call(this)}}],Ot(_t.prototype,Qc),_t);function _t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_t);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Pt(_t)).call.apply(e,[this].concat(o)))||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).localizationProto=e.el.innerHTML,e.localizationSettings=JSON.parse(e.data.localizationSettings),e.defaultLanguage=e.localizationSettings.defaultLanguage||"de",e.fallbackLanguage=e.localizationSettings.fallbackLanguage||"de",e.language=vt.instance.language,e.localizedFields=(e.localizationProto.match(/#?__localized_((\w|:)*)__/g)||[]).map(function(t){return t.split(/__(localized_)?/g)[2]}).filter(function(t,e,n){return n.indexOf(t)===e}),e._localize(),e.initSwitchLanguageButton(),e}function jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var At=Symbol("INSTANCE"),Ct=Symbol("SINGELTONENFORCER"),Lt=(Ms=[{key:"instance",get:function(){return this[At]||(this[At]=new Tt(Ct)),this[At]}}],jt((Ei=Tt).prototype,[{key:"init",value:function(){this.message="",this.errorOccurred=!1}}]),jt(Ei,Ms),Tt);function Tt(t){if(function(t){if(!(t instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this),t!==Ct)throw new Error("Instantiation failed: Use SourcepointModel.instance instead of new.");this.init()}function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Dt(t,e,n){return(Dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xt(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Bt(t,e)}(zt,Et),Ii=[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){this.settings=JSON.parse(this.data.settings),this.message=this.el.querySelector('[data-adblock-el="message"]'),this.loader=this.el.querySelector('[data-adblock-el="loader"]'),this.focusTrap=this.el.querySelector('[data-adblock-el="focusTrap"]'),this.whitelistButton=this.el.querySelector('[data-adblock-el="whitelistButton"]'),this.continueWithAdblockerButton=this.el.querySelector('[data-adblock-el="continueWithAdblockerButton"]'),this.loginLink=this.el.querySelector('[data-adblock-el="loginLink"]'),this.switchLanguageElement=this.el.querySelector('[data-adblock-el="switchLanguageElement"]'),this.isInitialized=!1,this.hasErrorOccurred=!1,this.state="STATE_LOADING",this.subscribe(d.N,this.onError,this),this.subscribe(d.P,this.onSourcepointMessageReceived,this),this.initContinueWithAdblockerButton(),this.initWhitelistButton(),"adblock-api"===Lt.instance.message&&this.onInitialized()}},{key:"initContinueWithAdblockerButton",value:function(){var e=this;this.continueWithAdblockerButton&&this.continueWithAdblockerButton.addEventListener("click",function(t){e.onContinueWithAdblockerButtonClicked(t)})}},{key:"initWhitelistButton",value:function(){var e=this;this.whitelistButton&&this.whitelistButton.addEventListener("click",function(t){e.onWhitelistButtonClicked(t)})}},{key:"onContinueWithAdblockerButtonClicked",value:function(t){t.preventDefault(),this.publish(d.T,w.c.continue_with_adblocker),this.el.classList.add("hidden"),this.publish(d.z,this),this.state="STATE_LOADING",this.publish(d.b)}},{key:"onWhitelistButtonClicked",value:function(t){t.preventDefault(),this.hasErrorOccurred?this.state="STATE_ERROR":(this.publish(d.T,w.c.whitelist_instructions_viewed,this.language),this.state="STATE_LOADING")}},{key:"onInitialized",value:function(){var t=this;this.isInitialized=!0,this.el.classList.remove("hidden"),this.focusTrap&&window.requestAnimationFrame(function(){t.focusTrap.focus()}),this.publish(d.B,this),this.state="STATE_DEFAULT",this.publish(d.c)}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"adblock-api"===t&&this.onInitialized()}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"destroy",value:function(){Dt(xt(zt.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return!0}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t){case"STATE_LOADING":this.toggleElementVisibility(this.message,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.switchLanguageElement,!1);break;case"STATE_ERROR":this.toggleElementVisibility(this.message,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.switchLanguageElement,!0);break;default:this.toggleElementVisibility(this.message,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.switchLanguageElement,!0)}}}],Rt(zt.prototype,Ii),zt);function zt(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,zt),t=this,!(e=xt(zt).apply(this,arguments))||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ut(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ht=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(Gt,i.Component),Ba=[{key:"prepareConsentHandling",value:function(){this.activateAffiliateConsentButton=this.affiliateConsentActivator.querySelector("button"),this.deactivateAffiliateConsentButton=this.affiliateConsentDeactivator.querySelector("button"),this.privacyPolicyLink=this.affiliateConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),this.activateAffiliateConsentButton&&this.deactivateAffiliateConsentButton?this.privacyPolicyLink?this.consentHandlingPrepared=!0:console.error("privacy policy link is not present in consent deactivator"):console.error("Third party consent activator and deactivator dont have a button")}},{key:"initAffiliateConsentHandling",value:function(){function e(t){t?(n.affiliateConsentActivator.classList.add("hidden"),n.affiliateConsentDeactivator.classList.remove("opacity-none"),n.affiliateConsentDeactivator.classList.remove("hidden"),n.privacyPolicyLink.setAttribute("tabindex","0"),n.showEmbed()):(n.affiliateConsentActivator.classList.remove("hidden"),n.privacyPolicyLink.setAttribute("tabindex","-1"))}var n=this;e(q.a.instance.hasAcceptedAffiliateConsent),this.subscribe(d.f,function(t){t.accepted?(e(t.accepted),n.showEmbed()):window.location.reload(!0)})}},{key:"showEmbed",value:function(){this.inner.classList.remove("hidden")}}],Mt(Gt.prototype,Ba),Gt);function Gt(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Gt);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if((t=Ut(this,(t=Vt(Gt)).call.apply(t,[this].concat(n)))).settings=JSON.parse(t.data.settings),t.inner=t.el.querySelector('[data-affiliate-box-el="inner"]'),t.affiliateConsentActivator=t.el.querySelector('[data-consent-el="activator"]'),t.affiliateConsentDeactivator=t.el.querySelector('[data-consent-el="deactivator"]'),t.consentHandlingPrepared=!1,t.settings.requireConsent){if(t.prepareConsentHandling(),!t.consentHandlingPrepared)return Ut(t);t.initAffiliateConsentHandling()}else t.showEmbed();return t}function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}($t,i.Component),Jt($t.prototype,[{key:"onSourceRequested",value:function(){this.loaded||this.isLoading||this.load()}},{key:"load",value:function(){this.isLoading=!0,this.scriptElement.addEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.addEventListener("load",this.boundOnStylesElementLoaded),this.scriptElement.src=this.scriptElement.dataset.src,this.stylesElement.href=this.stylesElement.dataset.href}},{key:"onScriptElementLoaded",value:function(){this.scriptLoaded=!0,this.stylesLoaded&&this.onLoaded()}},{key:"onStylesElementLoaded",value:function(){this.stylesLoaded=!0,this.scriptLoaded&&this.onLoaded()}},{key:"onLoaded",value:function(){this.isLoading=!1,this.loaded=!0,this.scriptElement.removeEventListener("load",this.boundOnScriptElementLoaded),this.stylesElement.removeEventListener("load",this.boundOnStylesElementLoaded)}}]),$t);function $t(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,$t);for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=this,n=(n=Xt($t)).call.apply(n,[this].concat(i)),(t=!n||"object"!==Wt(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n).scriptElement=t.el.querySelector('[data-source-el="script"]'),t.stylesElement=t.el.querySelector('[data-source-el="styles"]'),t.isLoading=!1,t.scriptLoaded=!1,t.stylesLoaded=!1,t.loaded=!1,t.boundOnSourceRequested=function(){return t.onSourceRequested()},t.boundOnScriptElementLoaded=function(){return t.onScriptElementLoaded()},t.boundOnStylesElementLoaded=function(){return t.onStylesElementLoaded()},t.subscribe(d.g,t.boundOnSourceRequested),t}function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function te(t,e,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ee(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function ee(t){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ne(t,e){return(ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var oe=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ne(t,e)}(ie,i.Component),qi=[{key:"onClick",value:function(){O.a.isApp?this.triggerAppAction():this.settings.href&&this.triggerRedirect()}},{key:"triggerAppAction",value:function(){var t,e=this;!this.settings.action&&this.el.hasAttribute("disabled")||"function"==typeof(t=h.a.instance)[this.settings.action]&&(t[this.settings.action](this.params),"triggerDownload"===this.settings.action&&(this.el.setAttribute("disabled",""),setTimeout(function(){e.el.removeAttribute("disabled")},2e3)))}},{key:"triggerRedirect",value:function(){var t,e;this.settings.href&&((t=new URL(this.settings.href)).searchParams.has("targetUrl")||(e=(e=new URLSearchParams(window.location.search)).get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0)&&t.searchParams.set("targetUrl",e),window.location.replace(t.href))}},{key:"destroy",value:function(){this.boundClickListener&&(this.el.removeEventListener("click",this.boundClickListener),this.boundClickListener=null),te(ee(ie.prototype),"destroy",this).call(this)}}],Qt(ie.prototype,qi),ie);function ie(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ie);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=ee(ie)).call.apply(n,[this].concat(i)),(e=!n||"object"!==Zt(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).settings=e.data.settings?JSON.parse(e.data.settings):{},e.params=e.settings.params||{},(O.a.isApp||e.settings.href)&&(e.boundClickListener=function(t){t.preventDefault(),e.onClick()},e.el.addEventListener("click",e.boundClickListener)),e}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function se(t,e,n){return(se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function le(t,e){return(le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ue=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&le(t,e)}(fe,i.Component),_c=[{key:"init",value:function(){var t=O.a.isApp,e=O.a.isAndroidApp,n=O.a.isIOSApp,o=this.el.querySelector('[data-appupdate-el="appStoreBadge"]'),i=this.el.querySelector('[data-appupdate-el="playStoreBadge"]');t?(n&&o&&o.classList.remove("hidden"),e&&i&&i.classList.remove("hidden")):(o&&o.classList.remove("hidden"),i&&i.classList.remove("hidden"))}},{key:"destroy",value:function(){se(ce(fe.prototype),"destroy",this).call(this)}},{key:"isAppUpdateRequired",get:function(){var t=O.a.isApp,e=O.a.appVersion;if(!t)return!1;var n=this.dataSettings.feature,t=h.a.instance;return"offline-issue"!==n?e<t.minVersion:e<t.minOfflineIssueVersion}}],ae(fe.prototype,_c),fe);function fe(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,fe);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=ce(fe)).call.apply(e,[this].concat(o)))||"object"!==re(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).dataSettings=e.data&&e.data.settings&&JSON.parse(e.data.settings)||{},O.a.isApp&&!e.isAppUpdateRequired?M.a.instance.redirectToHomepage():e.init(),e}function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function de(t,e,n){return(de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=he(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ge=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(ve,i.Component),Wi=[{key:"redirectToHomepage",value:function(){var t=new URL(this.basePath),e=void 0,n=new URLSearchParams(window.location.search);n.has("ref")&&(e=decodeURIComponent(n.get("ref"))),t.searchParams.set("from","404"),e&&t.searchParams.set("ref",e),window.location.replace(t.href)}},{key:"redirectToAppStore",value:function(){var t=void 0;P.a.isAndroid?t=this.dataSettings.androidStoreUrl:P.a.isIOS&&(t=this.dataSettings.iosStoreUrl),t&&window.location.replace(t)}},{key:"destroy",value:function(){de(he(ve.prototype),"destroy",this).call(this)}}],ye(ve.prototype,Wi),ve);function ve(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ve);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=he(ve)).call.apply(e,[this].concat(o)))||"object"!==pe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).settings=y.a.instance,e.basePath=e.settings.urls&&"string"==typeof e.settings.urls.base?e.settings.urls.base:window.location.origin,e.dataSettings=e.data&&e.data.settings&&JSON.parse(e.data.settings)||{},!P.a.isAndroid&&!P.a.isIOS||O.a.isApp?e.redirectToHomepage():e.redirectToAppStore(),e}function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Oe(t,e,n){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ke=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(Ee,i.Component),$i=[{key:"initAccordion",value:function(){var t=this;this.toggleExpandedState(!!this.settings.isFirstItemOpen||!!this.settings.isExpanded),this.boundOnAccordionClick=function(){t.onAccordionClick()},this.switchEl.addEventListener("click",this.boundOnAccordionClick)}},{key:"onAccordionClick",value:function(){this.isExpanded?this.collapse():this.expand()}},{key:"expand",value:function(){var o=this;this.breakpoints.forEach(function(t){var e=o.getBreakpointClasses(t,"max-h-0"),n=o.getBreakpointClasses(t,"opacity-none"),t=o.getBreakpointClasses(t,"hidden");o.onExpand(),o.expandIconEl.classList.add(t),o.collapseIconEl.classList.remove(t),o.containerEl.style.transition="opacity 0.15s ease-in-out 0.05s , transform 0.2s ease-out",o.containerEl.classList.remove(e),o.containerEl.classList.remove(n),o.containerEl.classList.remove(t),o.containerEl.style.transform="translateY(0)",o.containerEl.setAttribute("aria-hidden",!1)})}},{key:"collapse",value:function(){var o=this;this.breakpoints.forEach(function(t){var e=o.getBreakpointClasses(t,"max-h-0"),n=o.getBreakpointClasses(t,"opacity-none"),t=o.getBreakpointClasses(t,"hidden");o.onCollapse(),o.expandIconEl.classList.remove(t),o.collapseIconEl.classList.add(t),o.containerEl.classList.add(t),o.containerEl.classList.add(e),o.containerEl.classList.add(n),o.containerEl.style.transform="translateY(-10px)",o.containerEl.setAttribute("aria-hidden",!0)})}},{key:"getBreakpointClasses",value:function(t,e){return t?"".concat(t,":").concat(e):e}},{key:"onExpand",value:function(){this.toggleExpandedState(!0)}},{key:"onCollapse",value:function(){this.toggleExpandedState(!1),this.publish(d.o,{id:this.id})}},{key:"toggleExpandedState",value:function(t){this.el.setAttribute("aria-expanded",t),this.isExpanded=t}},{key:"destroy",value:function(){this.switchEl.removeEventListener("click",this.boundOnAccordionClick),Oe(Se(Ee.prototype),"destroy",this).call(this)}}],we(Ee.prototype,$i),Ee);function Ee(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ee);for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=this,n=(n=Se(Ee)).call.apply(n,[this].concat(i)),(t=!n||"object"!==me(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n).settings=t.data&&t.data.settings?JSON.parse(t.data.settings):{},t.id=t.settings.multiboxId||t.data.componentId,t.breakpoints=t.settings.breakpoints||[null],t.switchEl=t.el.querySelector('[data-accordion-el="switch"]'),t.collapseIconEl=t.el.querySelector('[data-accordion-el="collapseIcon"]'),t.expandIconEl=t.el.querySelector('[data-accordion-el="expandIcon"]'),t.containerEl=t.el.querySelector('[data-accordion-el="container"]'),t.containerEl&&(t.containerEl.addEventListener("transitionend",function(){t.containerEl.style.maxHeight=null,t.containerEl.style.transition=""}),t.initAccordion()),t}function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ae(t,e,n){return(Ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Te=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Le(t,e)}(Ie,ke),Za=[{key:"onExpand",value:function(){Ae(Ce(Ie.prototype),"onExpand",this).call(this),this.containerEl.classList.remove("hidden")}},{key:"onCollapse",value:function(){Ae(Ce(Ie.prototype),"onCollapse",this).call(this),this.containerEl.classList.add("hidden")}}],je(Ie.prototype,Za),Ie);function Ie(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ie),t=this,!(e=Ce(Ie).apply(this,arguments))||"object"!==_e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function Re(t){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xe(t,e,n){return(xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Be(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Be(t){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(126);var ze=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ne(t,e)}(Me,i.Component),Ga=[{key:"init",value:function(){var t=this;window.getComputedStyle(this.el,":before").getPropertyValue("content")?(this.breakpoint=this.getBreakpoint(),this.oldBreakpoint=this.breakpoint,this.publishEvent(),window.addEventListener("resize",function(){t.onViewportResize()},!1)):console.error("breakpoint check failed")}},{key:"getBreakpoint",value:function(){return window.getComputedStyle(this.el,":before").getPropertyValue("content").split('"').filter(Boolean).join('"')}},{key:"onViewportResize",value:function(){this.oldBreakpoint=this.breakpoint,this.breakpoint=this.getBreakpoint(),this.oldBreakpoint!==this.breakpoint&&this.publishEvent()}},{key:"publishEvent",value:function(){this.el.setAttribute("data-breakpoint",this.breakpoint),this.publish(d.i,{breakpoint:this.breakpoint})}},{key:"destroy",value:function(){xe(Be(Me.prototype),"destroy",this).call(this)}}],De(Me.prototype,Ga),Me),qe=n(45);function Me(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Me);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Be(Me)).call.apply(e,[this].concat(o)))||"object"!==Re(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).init(),e}function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fe(t,e,n){return(Fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=He(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e){return(Ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var We=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ge(t,e)}(Je,i.Component),Js=[{key:"init",value:function(){var t=this;this.subscribe(d.N,this.onError,this),this.subscribe(d.J,this.onError,this),this.subscribe(d.O,this.onSourcepointMessageChoiceSelected,this),this.subscribe(d.M,this.onSourcepointChoiceProcessed,this),this.subscribe(d.P,this.onSourcepointMessageReceived,this),this.subscribe(d.R,this.onSourcepointPrivacyManagerOpened,this),this.subscribe(d.Q,this.onSourcepointPrivacyManagerAction,this),this.initAcceptAllButton(),this.initRejectAllButton(),this.initializationTimoutId=setTimeout(function(){t.onInitializationTimeout()},3e4)}},{key:"initAcceptAllButton",value:function(){var e=this,t=q.a.instance;this.acceptAllButton&&(t.hasAcceptedGlobalConsent?this.acceptAllButton.disabled=!0:(this.acceptAllButton.disabled=!1,this.acceptAllButton.addEventListener("click",function(t){e.onAcceptAllButtonClicked(t)})))}},{key:"initRejectAllButton",value:function(){var e=this,t=q.a.instance;this.rejectAllButton&&(t.hasAcceptedGlobalConsent?(this.rejectAllButton.disabled=!1,this.rejectAllButton.addEventListener("click",function(t){e.onRejectAllButtonClicked(t)})):this.rejectAllButton.disabled=!0)}},{key:"onAcceptAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout(function(){e.state="STATE_ERROR"},1e3)):this.state="STATE_ERROR"}},{key:"onRejectAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout(function(){e.state="STATE_ERROR"},1e3)):this.state="STATE_ERROR"}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.initializationTimoutId&&clearTimeout(this.initializationTimoutId),this.state="STATE_DEFAULT"}},{key:"onInitializationTimeout",value:function(){this.hasErrorOccurred=!0,this.state="STATE_DEFAULT",this.isInitialized=!0}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.toggleElementVisibility(this.buttons,!0),this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){"enabled-accept-disabled-reject"!==t&&"disabled-accept-enabled-reject"!==t&&"accept-reject-fallback"!==t||this.isInitialized||(this.toggleElementVisibility(this.sourcepointMessageContainer,!0),this.onInitialized())}},{key:"onSourcepointMessageChoiceSelected",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||(this.state="STATE_LOADING",this.toggleElementVisibility(this.buttons,!0),this.toggleElementVisibility(this.sourcepointMessageContainer,!1))}},{key:"onSourcepointChoiceProcessed",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||window.location.reload()}},{key:"onSourcepointPrivacyManagerOpened",value:function(){this.state="STATE_LOADING"}},{key:"onSourcepointPrivacyManagerAction",value:function(t){t===w.d.cancel&&window.location.reload()}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"destroy",value:function(){Fe(He(Je.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t){case"STATE_LOADING":this.toggleElementVisibility(this.content,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.error,!1);break;case"STATE_ERROR":this.toggleElementVisibility(this.content,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!0);break;default:this.toggleElementVisibility(this.content,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!1)}}}],Ve(Je.prototype,Js),Je);function Je(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Je);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=He(Je)).call.apply(e,[this].concat(o)))||"object"!==Ue(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).isInitialized=!1,e.hasErrorOccurred=!1,e.loader=e.el.querySelector('[data-consent-accept-reject-el="loader"]'),e.error=e.el.querySelector('[data-consent-accept-reject-el="error"]'),e.content=e.el.querySelector('[data-consent-accept-reject-el="content"]'),e.sourcepointMessageContainer=e.el.querySelector('[data-consent-accept-reject-el="sourcepointMessageContainer"]'),e.buttons=e.el.querySelector('[data-consent-accept-reject-el="buttons"]'),e.acceptAllButton=e.el.querySelector('[data-consent-accept-reject-el="acceptAllButton"]'),e.rejectAllButton=e.el.querySelector('[data-consent-accept-reject-el="rejectAllButton"]'),e.state="STATE_LOADING",e.init(),e}function Xe(t){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ke(t,e,n){return(Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$e(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qe=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ze(t,e)}(tn,Et),fr=[{key:"onLocalized",value:function(){this.init()}},{key:"init",value:function(){var t=this;this.settings=this.data.settings?JSON.parse(this.data.settings):{};var e=new URLSearchParams(window.location.search);this.targetUrl=e.get("targetUrl")?decodeURIComponent(e.get("targetUrl")):void 0,this.message=this.el.querySelector('[data-consent-el="message"]'),this.sourcepointMessageContainer=this.el.querySelector('[data-consent-el="sourcepointMessageContainer"]'),this.loader=this.el.querySelector('[data-consent-el="loader"]'),this.error=this.el.querySelector('[data-consent-el="error"]'),this.footer=this.el.querySelector('[data-consent-el="footer"]'),this.fallbackFooter=this.el.querySelector('[data-consent-el="fallbackFooter"]'),this.sourcepoint=this.el.querySelector('[data-consent-el="_sp_msg"]'),this.acceptAllButton=this.el.querySelector('[data-consent-el="acceptAllButton"]'),this.triggerPurAboPurchaseButton=this.el.querySelector('[data-consent-el="triggerPurAboPurchaseButton"]'),this.loginLink=this.el.querySelector('[data-consent-el="loginLink"]'),this.loginElement=this.el.querySelector('[data-consent-el="login"]'),this.logoutElement=this.el.querySelector('[data-consent-el="logout"]'),this.loginCloseWindowText=this.el.querySelector('[data-consent-el="loginCloseWindowText"]'),this.inAppPurchaseReloadText=this.el.querySelector('[data-consent-el="inAppPurchaseReloadText"]'),this.switchLanguageElement=this.el.querySelector('[data-consent-el="switchLanguage"]'),this.isInitialized=this.settings.isInitialized||!1,this.hasErrorOccurred=this.settings.hasErrorOccurred||!1,this.state=this.settings.state||"STATE_LOADING",this.subscribe(d.N,this.onError,this),this.subscribe(d.J,this.onError,this),this.subscribe(d.P,this.onSourcepointMessageReceived,this),this.subscribe(d.O,this.onSourcepointMessageChoiceSelected,this),this.subscribe(d.M,this.onSourcepointChoiceProcessed,this),this.subscribe(d.R,this.onSourcepointPrivacyManagerOpened,this),this.subscribe(d.Q,this.onSourcepointPrivacyManagerAction,this),this.initAuthenticationElements(),this.initAcceptAllButton(),this.initTriggerPurAboPurchaseButton(),this.updateLoginLink(),this.toggleElementVisibility(this.footer,!0),this.toggleElementVisibility(this.fallbackFooter,!1),"STATE_ERROR"!==this.state&&(this.initializationTimoutId=setTimeout(function(){t.onInitializationTimeout()},3e4),"consent-api"===Lt.instance.message&&this.onInitialized())}},{key:"initAuthenticationElements",value:function(){var t=h.a.instance;O.a.isIOSApp&&O.a.appVersion<t.minConsentVersion&&U.a.isUrlArticleContent(this.targetUrl)?this.toggleElementVisibility(this.loginCloseWindowText,!0):(this.toggleElementVisibility(this.loginElement,!0),this.toggleElementVisibility(this.logoutElement,!0))}},{key:"initAcceptAllButton",value:function(){var e=this;this.acceptAllButton&&this.acceptAllButton.addEventListener("click",function(t){e.onAcceptAllButtonClicked(t)})}},{key:"initTriggerPurAboPurchaseButton",value:function(){var e=this;this.triggerPurAboPurchaseButton&&this.triggerPurAboPurchaseButton.addEventListener("click",function(t){e.onTriggerPurAboPurchaseButtonClicked(t)})}},{key:"updateLoginLink",value:function(){var t;this.loginLink&&this.loginLink.href&&this.targetUrl&&((t=new URL(this.loginLink.href)).searchParams.set("targetUrl",this.targetUrl),this.loginLink.href=t.href)}},{key:"onAcceptAllButtonClicked",value:function(t){var e=this;t.preventDefault(),"STATE_ERROR"===this.state?(this.state="STATE_LOADING",setTimeout(function(){e.state="STATE_ERROR"},1e3)):this.state="STATE_ERROR"}},{key:"onTriggerPurAboPurchaseButtonClicked",value:function(){var t=h.a.instance;O.a.isIOSApp&&O.a.appVersion<t.minConsentVersion&&U.a.isUrlArticleContent(this.targetUrl)&&this.toggleElementVisibility(this.inAppPurchaseReloadText,!0)}},{key:"onInitialized",value:function(){this.isInitialized=!0,this.initializationTimoutId&&clearTimeout(this.initializationTimoutId),this.state="STATE_DEFAULT"}},{key:"onInitializationTimeout",value:function(){this.hasErrorOccurred=!0,this.state="STATE_DEFAULT",this.isInitialized=!0}},{key:"onError",value:function(){this.hasErrorOccurred=!0,this.isInitialized?this.state="STATE_ERROR":(this.toggleElementVisibility(this.acceptAllButton,!0),this.state="STATE_DEFAULT",this.isInitialized=!0)}},{key:"onSourcepointMessageReceived",value:function(t){t.match(/^accept(-(de|en))?$/g).length&&!this.isInitialized&&(this.toggleElementVisibility(this.sourcepointMessageContainer,!0),this.onInitialized())}},{key:"onSourcepointMessageChoiceSelected",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||(this.state="STATE_LOADING",this.toggleElementVisibility(this.acceptAllButton,!0),this.toggleElementVisibility(this.sourcepointMessageContainer,!1))}},{key:"onSourcepointChoiceProcessed",value:function(t){this.hasErrorOccurred||"STATE_ERROR"===this.state||t===w.c.accept_all?t===w.c.accept_all&&(t=h.a.instance,O.a.isApp&&O.a.appVersion>=t.minConsentVersion?t.sendConsent(this.targetUrl):M.a.instance.redirectToTargetUrl()):window.location.reload()}},{key:"onSourcepointPrivacyManagerOpened",value:function(){this.state="STATE_LOADING"}},{key:"onSourcepointPrivacyManagerAction",value:function(t){t===w.d.cancel&&window.location.reload()}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"updateSettings",value:function(t,e){this.settings[t]=e,this.el.setAttribute("data-settings",JSON.stringify(this.settings))}},{key:"destroy",value:function(){Ke($e(tn.prototype),"destroy",this).call(this),this.unsubscribe(d.N,this.onError),this.unsubscribe(d.J,this.onError),this.unsubscribe(d.P,this.onSourcepointMessageReceived),this.unsubscribe(d.O,this.onSourcepointMessageChoiceSelected),this.unsubscribe(d.M,this.onSourcepointChoiceProcessed),this.unsubscribe(d.Q,this.onSourcepointPrivacyManagerAction),this.unsubscribe(d.R,this.onSourcepointPrivacyManagerOpened)}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t){case"STATE_LOADING":this.toggleElementVisibility(this.message,!1),this.toggleElementVisibility(this.loader,!0),this.toggleElementVisibility(this.error,!1),this.toggleElementVisibility(this.switchLanguageElement,!1);break;case"STATE_ERROR":this.toggleElementVisibility(this.message,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!0),this.toggleElementVisibility(this.switchLanguageElement,!0);break;default:this.toggleElementVisibility(this.message,!0),this.toggleElementVisibility(this.loader,!1),this.toggleElementVisibility(this.error,!1),this.toggleElementVisibility(this.switchLanguageElement,!0)}this.updateSettings("state",t)}},{key:"isInitialized",get:function(){return this._isInitialized},set:function(t){this._isInitialized=t,this.updateSettings("isInitialized",t)}},{key:"hasErrorOccurred",get:function(){return this._hasErrorOccurred},set:function(t){this._hasErrorOccurred=t,this.updateSettings("hasErrorOccurred",t)}}],Ye(tn.prototype,fr),tn);function tn(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,tn),t=this,!(e=$e(tn).apply(this,arguments))||"object"!==Xe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var an=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(sn,i.Component),nn(sn.prototype,[{key:"init",value:function(){this.offsetContainerEl.classList.remove("OffsetContainer"),this.articleEl.classList.add("w-screen"),this.articleEl.classList.add("relative"),this.articleEl.style.left="calc(-50vw + 50%)",this.el.classList.remove("hidden")}}]),sn);function sn(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,sn);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=on(sn)).call.apply(e,[this].concat(o)))||"object"!==en(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).offsetContainerEl=document.querySelector('[data-body-el="offset-container"]'),e.articleEl=document.querySelector('[data-area="article"]'),e.offsetContainerEl&&e.articleEl&&e.init(),e}function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function un(t,e,n){return(un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fn(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function fn(t){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yn=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(dn,i.Component),rs=[{key:"onLazyLoad",value:function(){this.iframe.src="//datawrapper.dwcdn.net/".concat(this.settings.id,"/")}},{key:"resizeHeight",value:function(t){this.iframe.height=t}},{key:"destroy",value:function(){un(fn(dn.prototype),"destroy",this).call(this)}}],ln(dn.prototype,rs),dn);function dn(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,dn);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=fn(dn)).call.apply(n,[this].concat(i)),(e=!n||"object"!==cn(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).settings=e.data.settings?JSON.parse(e.data.settings):{},e.iframe=e.el.querySelector('[data-datawrapper-el="iframe"]'),e.boundOnLazyLoad=function(t){t.target===e.el&&e.onLazyLoad()},e.el.addEventListener("lazybeforeunveil",e.boundOnLazyLoad),e.iframeSrc="//datawrapper.dwcdn.net/".concat(e.settings.id,"/"),window.addEventListener("message",function(t){t.data&&t.data["datawrapper-height"]&&t.data["datawrapper-height"][e.settings.id]&&e.resizeHeight(t.data["datawrapper-height"][e.settings.id])}),e}function hn(t){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gn(t,e,n){return(gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vn(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)})(wn,i.Component),vr=[{key:"importRequirements",value:function(){var e=this;return this.component().then(function(t){t&&e.registerComponent(t)})}},{key:"registerComponent",value:function(t){var e={};e[this.componentName]=t.default,this.loader.register(e)}},{key:"init",value:function(){this.prepareComponent(),this.refreshComponents(),this.destroy()}},{key:"prepareComponent",value:function(){this.el.dataset.component=this.componentName}},{key:"refreshComponents",value:function(){this.loader.scan()}},{key:"destroy",value:function(){gn(vn(wn.prototype),"destroy",this).call(this)}}],bn(wn.prototype,vr),e=wn;function wn(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,wn);for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=this,n=(n=vn(wn)).call.apply(n,[this].concat(i)),(t=!n||"object"!==hn(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n).settings=JSON.parse(t.el.dataset.deferSettings),t.componentName=t.settings.component,t.loader=window.polygon.componentLoader,t.component=window.polygon.deferredComponents[t.componentName],t.importRequirements().then(function(){t.init()}),t}function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pn(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kn(t,e,n){return(kn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=En(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function En(t){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)})(jn,i.Component),o=[{key:"initThirdPartyConsentHandling",value:function(){function e(t){t?(n.title&&n.title.classList.remove("hidden"),n.caption&&n.caption.classList.remove("hidden"),n.thirdPartyConsentActivator.classList.add("hidden"),n.thirdPartyConsentDeactivator.classList.remove("hidden"),n.privacyPolicyLink.setAttribute("tabindex","0")):(n.thirdPartyConsentActivator.classList.remove("hidden"),n.privacyPolicyLink.setAttribute("tabindex","-1"))}var n=this;e(q.a.instance.hasAcceptedThirdPartyConsent),this.subscribe(d.Z,function(t){t.accepted?(e(t.accepted),n.onLazyLoad()):window.location.reload(!0)})}},{key:"onLazyLoad",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.embedContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.embedContent)}this.replacer.classList.add("hidden"),this.replacer.remove(),"Instagram"===this.settings.providerName&&window.instgrm&&window.instgrm.Embeds&&"function"==typeof window.instgrm.Embeds.process&&window.instgrm.Embeds.process(),"Twitter"===this.settings.providerName&&window.twttr&&window.twttr.widgets&&"function"==typeof window.twttr.widgets.load&&window.twttr.widgets.load(this.el)}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),kn(En(jn.prototype),"destroy",this).call(this)}}],Sn(jn.prototype,o),r=jn;function jn(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,jn);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];if((e=Pn(this,(t=En(jn)).call.apply(t,[this].concat(o)))).settings=JSON.parse(e.data.settings),e.replacer=e.el.querySelector('[data-embed-el="replacer"]'),e.thirdPartyConsentActivator=e.el.querySelector('[data-consent-el="activator"]'),e.thirdPartyConsentDeactivator=e.el.querySelector('[data-consent-el="deactivator"]'),e.title=e.el.querySelector('[data-embed-el="title"]'),e.caption=e.el.querySelector('[data-embed-el="caption"]'),e.outerWrapper=e.el.querySelector('[data-wrapper-el="outer-wrapper"]'),e.innerWrapper=e.el.querySelector('[data-wrapper-el="inner-wrapper"]'),e.embedContent=e.replacer.dataset.content,e.settings.requireConsent){if(e.activateThirdPartyConsentButton=e.thirdPartyConsentActivator.querySelector("button"),e.deactivateThirdPartyConsentButton=e.thirdPartyConsentDeactivator.querySelector("button"),e.privacyPolicyLink=e.thirdPartyConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),!e.activateThirdPartyConsentButton||!e.deactivateThirdPartyConsentButton)return console.error("Third party consent activator and deactivator dont have a button"),Pn(e);if(!e.privacyPolicyLink)return console.error("privacy policy link is not present in consent deactivator"),Pn(e);e.initThirdPartyConsentHandling()}return e.boundOnLazyLoad=function(t){t.target===e.el&&(e.settings.requireConsent&&!q.a.instance.hasAcceptedThirdPartyConsent||e.onLazyLoad())},e.el.addEventListener("lazybeforeunveil",e.boundOnLazyLoad),e}function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ln(t,e,n){return(Ln="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tn(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rn=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&In(t,e)}(Dn,i.Component),ys=[{key:"addRequiredPurpose",value:function(t){t&&this.requiredPurposeIds.push(t)}},{key:"addRequiredVendor",value:function(t){t&&this.requiredVendorIds.push(t)}},{key:"initSrc",value:function(){this.consentVerified?this.loadSrc():this.subscribe(d.Y,this.onTCDataChanged)}},{key:"onTCDataChanged",value:function(){var t=this;this.consentVerified&&(this.loadSrc(),this.defer(function(){t.unsubscribe(d.Y,t.onTCDataChanged)}))}},{key:"loadSrc",value:function(){this.src&&this.scriptEl&&!this.scriptEl.getAttribute("src")&&this.scriptEl.setAttribute("src",this.src)}},{key:"destroy",value:function(){Ln(Tn(Dn.prototype),"destroy",this).call(this)}},{key:"requiredPurposesVerified",get:function(){for(var t=!0,e=0;e<this.requiredPurposeIds.length;e++){var n=this.requiredPurposeIds[e];if(!this.tcDataModel.isPurposeGranted(n)){t=!1;break}}return t}},{key:"requiredVendorsVerified",get:function(){for(var t=!0,e=0;e<this.requiredVendorIds.length;e++){var n=this.requiredVendorIds[e];if(!this.tcDataModel.isVendorGranted(n)){t=!1;break}}return t}},{key:"consentVerified",get:function(){return!0}},{key:"src",get:function(){if(this._src)return this._src;var t=this.scriptEl.getAttribute("data-src");return t?(this._src=t,this._src):""}},{key:"scriptEl",get:function(){return this.el}}],Cn(Dn.prototype,ys),Dn);function Dn(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Dn);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Tn(Dn)).call.apply(e,[this].concat(o)))||"object"!==An(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).tcDataModel=lt.a.instance,e.requiredPurposeIds=[],e.requiredVendorIds=[],e._src="",e}function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Nn(t,e,n){return(Nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zn(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function zn(t){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mn=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),qn(t,e)}(Un,Rn),sc=[{key:"destroy",value:function(){Nn(zn(Un.prototype),"destroy",this).call(this)}}],Bn(Un.prototype,sc),Un);function Un(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Un);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=zn(Un)).call.apply(e,[this].concat(o)))||"object"!==xn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).initSrc(),e}function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hn(t,e,n){return(Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gn(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jn=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(Xn,i.Component),Ar=[{key:"initCloseButton",value:function(){var t=this;this.closeButton=this.el.querySelector('[data-error-el="close"]'),this.closeButton&&this.closeButton.addEventListener("click",function(){t.el.classList.add("hidden")})}},{key:"checkErrorCode",value:function(){-1<window.location.href.indexOf("?from=404")&&this.el.classList.remove("hidden")}},{key:"destroy",value:function(){Hn(Gn(Xn.prototype),"destroy",this).call(this)}}],Fn(Xn.prototype,Ar),Xn);function Xn(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Xn);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Gn(Xn)).call.apply(e,[this].concat(o)))||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).initCloseButton(),e.checkErrorCode(),e}function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $n(t,e,n){return($n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zn(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var to=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(no,i.Component),ws=[{key:"initPageVisibilityAPI",value:function(){var t=this,e=(this.hiddenPropertyName=void 0)!==document.hidden?(this.hiddenPropertyName="hidden","visibilitychange"):void 0!==document.mozHidden?(this.hiddenPropertyName="mozHidden","mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenPropertyName="msHidden","msvisibilitychange"):void 0!==document.webkitHidden?(this.hiddenPropertyName="webkitHidden","webkitvisibilitychange"):"visibilitychange";this.currentVisibilityState=this.visibilityState,this.boundOnVisibilityChange=function(){return t.onVisibilityChange(t.visibilityState)},window.document.addEventListener(e,this.boundOnVisibilityChange),this.boundOnPageHide=function(){return t.onVisibilityChange("hidden")},window.addEventListener("pagehide",this.boundOnPageHide)}},{key:"onVisibilityChange",value:function(t){this.currentVisibilityState!==t&&(this.currentVisibilityState=t,this.publish(d.v,t))}},{key:"onMouseDown",value:function(t){this.publish(d.t,t)}},{key:"destroy",value:function(){$n(Zn(no.prototype),"destroy",this).call(this)}},{key:"visibilityState",get:function(){return this.hiddenPropertyName?window.document[this.hiddenPropertyName]?"hidden":"visible":void 0!==window.document.visibilityState?window.document.visibilityState:void 0}}],Kn(no.prototype,ws),no),eo=n(102);function no(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,no);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=Zn(no)).call.apply(n,[this].concat(i)),e=!n||"object"!==Yn(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n,window.document.addEventListener("mousedown",function(t){e.onMouseDown(t)}),e.initPageVisibilityAPI(),e}function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ro(t,e,n){return(ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ao(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function ao(t){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function so(t,e){return(so=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&so(t,e)})(co,i.Component),D=[{key:"getElements",value:function(){this.toggle=this.el.querySelector('[data-featurebar-share*="toggle"]'),this.contextMenu=this.el.querySelector('[data-featurebar-share*="context-menu"]'),this.links=Array.from(this.el.querySelectorAll('[data-featurebar-share*="link"]')),this.contextLinks=Array.from(this.el.querySelectorAll('[data-featurebar-share*="contextlink"]'))}},{key:"initState",value:function(){this.contextMenu&&!this.contextMenu.classList.contains("hidden")?this._isContextMenuVisibile=!0:this._isContextMenuVisibile=!1}},{key:"initContextMenu",value:function(){var e=this;this.toggle&&this.contextMenu&&(this.toggle.addEventListener("click",function(t){e.onToggleClicked(t)}),window.addEventListener("click",function(){e.isContextMenuVisibile&&(e.isContextMenuVisibile=!1)}))}},{key:"initLinks",value:function(){for(var n=this,t=0;t<this.links.length;t++)!function(t){var e=n.links[t];e.addEventListener("click",function(t){n.onLinkClicked(t,e)})}(t)}},{key:"onToggleClicked",value:function(t){t.preventDefault(),t.stopPropagation(),this.isContextMenuVisibile=!this.isContextMenuVisibile,this.focusContextMenuLink()}},{key:"focusContextMenuLink",value:function(){Array.isArray(this.contextLinks)&&0!==this.contextLinks.length&&P.a.isMobile&&this.contextLinks[0].focus()}},{key:"onLinkClicked",value:function(t,e){this.isApp?(t.preventDefault(),this.appBridge.triggerShareButton()):e.getAttribute("data-featurebar-share").includes("detached-sharing-window")&&!P.a.isMobile?(t.preventDefault(),window.open(e.href,"Beitrag teilen","height=500,width=600")):e.getAttribute("data-featurebar-share").includes("copy")&&(t.preventDefault(),this.settings.url&&eo.a.copyToClipboard(this.settings.url)&&alert("Artikel-URL erfolgreich in die Zwischenablage kopiert."))}},{key:"destroy",value:function(){ro(ao(co.prototype),"destroy",this).call(this)}},{key:"isContextMenuVisibile",get:function(){return this._isContextMenuVisibile},set:function(t){this._isContextMenuVisibile=!0===t,this.contextMenu&&(this.isContextMenuVisibile?(this.contextMenu.classList.remove("hidden"),this.toggle.classList.add("opacity-distinct")):(this.contextMenu.classList.add("hidden"),this.toggle.classList.remove("opacity-distinct")))}}],io(co.prototype,D),I=co;function co(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,co);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=ao(co)).call.apply(e,[this].concat(o)))||"object"!==oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).settings=JSON.parse(e.data.settings),e.getElements(),e.initState(),e.appBridge=h.a.instance,e.isApp=O.a.isApp,e.initContextMenu(),e.initLinks(),e}function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fo(t,e,n){return(fo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=po(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function po(t){return(po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yo(t,e){return(yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ho=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),yo(t,e)}(bo,ke),dl=[{key:"initAccordion",value:function(){var e=this;fo(po(bo.prototype),"initAccordion",this).call(this),document.querySelector('[data-component="BreakpointListener"]')&&"sm"!==document.querySelector('[data-component="BreakpointListener"]').dataset.breakpoint&&this.disableAccordion(),this.subscribe(d.i,function(t){"sm"===t.breakpoint?e.enableAccordion():e.disableAccordion()})}},{key:"disableAccordion",value:function(){fo(po(bo.prototype),"toggleExpandedState",this).call(this,!0),this.switchEl.removeEventListener("click",this.boundOnAccordionClick)}},{key:"enableAccordion",value:function(){fo(po(bo.prototype),"toggleExpandedState",this).call(this,!1),this.switchEl.addEventListener("click",this.boundOnAccordionClick)}}],uo(bo.prototype,dl),bo);function bo(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,bo),t=this,!(e=po(bo).apply(this,arguments))||"object"!==lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function go(t){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function mo(t,e,n){return(mo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wo(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function wo(t){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oo(t,e){return(Oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var So=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Oo(t,e)}(Po,ke),Xr=[{key:"onAdPositionLoaded",value:function(e){var n=this;void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach(function(t){e===t&&n.publish(d.mb,{furtherReadsId:n.dataSettings.furtherReadsId})})}},{key:"onOutbrainFurtherReadsReady",value:function(t){t&&"function"==typeof t.appendChild&&t.appendChild(this.el),void 0!==this.dataSettings.advertisementPositions&&Array.isArray(this.dataSettings.advertisementPositions)&&this.dataSettings.advertisementPositions.forEach(function(t){T.instance.initAdPosition(t)})}},{key:"destroy",value:function(){mo(wo(Po.prototype),"destroy",this).call(this)}}],vo(Po.prototype,Xr),Po);function Po(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Po);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=wo(Po)).call.apply(n,[this].concat(i)),(e=!n||"object"!==go(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).dataSettings=e.data.settings?JSON.parse(e.data.settings):{},void 0!==e.dataSettings.advertisementPositions&&Array.isArray(e.dataSettings.advertisementPositions)&&e.subscribe(d.e,function(t){e.onAdPositionLoaded(t)}),void 0!==e.dataSettings.outbrainMovable&&e.dataSettings.outbrainMovable&&e.subscribe(d.x,function(t){e.onOutbrainFurtherReadsReady(t)}),e}function ko(t){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jo(t,e,n){return(jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ao(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lo=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(To,i.Component),Yr=[{key:"open",value:function(){var t=this,n=[];this.gujAdContainers.forEach(function(t){var e=t.getAttribute("data-advertisement-id");e&&(t.setAttribute("id",e),n.push(e)),t.setAttribute("data-advertisement",t.getAttribute("data-advertisement").replace(new RegExp(" disabled","g"),""))}),n.forEach(function(t){T.instance.initAdPosition(t)}),document.removeEventListener("transitionend",this.boundHandleTransitionEnd),this.el.classList.remove("hidden"),this.el.style.transform="translateX(100vw)",this.publish(d.B,this),window.setTimeout(function(){t.el.classList.add("opacity-full"),t.el.style.transform="translateX(0)"},0),P.a.isInternetExplorer&&window.dispatchEvent(new Event("resize")),this.focusLayer()}},{key:"focusLayer",value:function(){this.focusCatcher.focus()}},{key:"close",value:function(){var t=this;this.gujAdContainers.forEach(function(t){t.removeAttribute("id"),t.setAttribute("data-advertisement","".concat(t.getAttribute("data-advertisement")," disabled")),t.classList.add("hidden")}),this.publish(d.z,this),window.setTimeout(function(){t.el.style.transform="translateX(100vw)"},0),this.boundHandleTransitionEnd=function(){return t.handleTransitionEnd()},document.addEventListener("transitionend",this.boundHandleTransitionEnd)}},{key:"handleTransitionEnd",value:function(){this.el.classList.add("hidden")}},{key:"destroy",value:function(){jo(Ao(To.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return!0}}],Eo(To.prototype,Yr),To);function To(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,To);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];i=this,r=(r=Ao(To)).call.apply(r,[this].concat(n)),(t=!r||"object"!==ko(r)&&"function"!=typeof r?_o(i):r).dataSettings=t.data.settings?JSON.parse(t.data.settings):{},t.id=t.dataSettings.id,t.hash="fotostrecke-".concat(t.id),t.galleryBar=t.el.querySelector('[data-gallerylayer-el="gallery-bar"]'),t.galleryContent=t.el.querySelector('[data-gallerylayer-el="gallery-content"]'),t.focusCatcher=t.el.querySelector('[data-gallerylayer-el="catchFocus"]'),t.orgImage=document.querySelector('[data-component="GalleryTeaser"][data-settings=\'{"id":"'.concat(JSON.parse(t.data.settings).id,"\"}']")),t.transitionDuration=200,t.gujAdContainers=Array.from(t.el.querySelectorAll('[data-advertisement^="GujAd"]'));var i=t.el.querySelector('[data-gallerylayer-el="back-to-article"]'),r=t.el.querySelector('[data-gallerylayer-el="close-gallery"]');return i.addEventListener("click",function(){return t.publish(d.k)}),r.addEventListener("click",function(){return t.publish(d.k)}),qe.a.instance.register(_o(t)),window.location.hash==="#".concat(t.hash)&&t.publish(d.n,t.id),t}function Io(t){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Do(t,e,n){return(Do="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xo(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bo(t,e){return(Bo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var No=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bo(t,e)}(zo,i.Component),Mc=[{key:"onFocusCallback",value:function(){this.galleryButton&&this.galleryButton.focus()}},{key:"destroy",value:function(){Do(xo(zo.prototype),"destroy",this).call(this)}}],Ro(zo.prototype,Mc),zo);function zo(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,zo);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=xo(zo)).call.apply(n,[this].concat(i)),(e=!n||"object"!==Io(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).dataSettings=e.data.settings?JSON.parse(e.data.settings):{},e.galleryActivator=e.el.querySelector('[data-galleryteaser-el="galleryActivator"]'),e.galleryButton=e.el.querySelector('[data-galleryteaser-el="galleryButton"]'),e.galleryActivator.addEventListener("click",function(){e.publish(d.n,e.dataSettings.id)}),e.subscribe(d.l,function(t){t===e.dataSettings.id&&e.onFocusCallback()}),e}function qo(t){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Uo(t,e){return!e||"object"!==qo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vo(t,e,n){return(Vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fo(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Fo(t){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ho(t,e){return(Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Go=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ho(t,e)}(Wo,Rn),ia=[{key:"destroy",value:function(){Vo(Fo(Wo.prototype),"destroy",this).call(this)}},{key:"isGujDisabled",get:function(){return q.a.instance.hasNoAdsAccess||y.a.instance.disableAds}},{key:"src",get:function(){return this._src}}],Mo(Wo.prototype,ia),Wo);function Wo(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Wo);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if((t=Uo(this,(r=Fo(Wo)).call.apply(r,[this].concat(n)))).isGujDisabled)return Uo(t);t.settings=t.data.settings?JSON.parse(t.data.settings):{};var i=t.settings.srcPreview||"",r=t.settings.srcLive||"",r=-1<window.location.search.indexOf("gujAd=1")?i:r;return r&&(t.el.onload=function(){void 0!==window.GujAd&&void 0!==window.GujAd.cmd&&window.GujAd.cmd.push(function(){window.GujAd.finalize()})},t._src=r,t.initSrc()),t}function Jo(t){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yo(t,e,n){return(Yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ko(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ko(t){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $o(t,e){return($o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Zo=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$o(t,e)}(Qo,i.Component),dc=[{key:"init",value:function(){var e=this;this.menuActivator&&this.menuActivator.addEventListener("click",function(){e.publish(d.w)}),this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver(function(t){return e.onIntersectionChanged(t)},{rootMargin:"-50px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget)),this.subscribe(d.A,function(t){return e.onActiveOverlayChanged(t)})}},{key:"onIntersectionChanged",value:function(t){this.isInTopArea=t[0].isIntersecting,this.updateState()}},{key:"onActiveOverlayChanged",value:function(t){this.isInOverlay=t&&t.expandHeader,this.updateState()}},{key:"updateState",value:function(){this.isInOverlay||this.isInTopArea?this.state="STATE_EXPANDED":this.state="STATE_COLLAPSED"}},{key:"toggleHeaderBarCollapsed",value:function(t){this.el.classList.toggle("collapsed",!0===t)}},{key:"destroy",value:function(){Yo(Ko(Qo.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return this._state},set:function(t){if(t===this._state)return this._state;switch(t){case"STATE_COLLAPSED":this.toggleHeaderBarCollapsed(!0),this._state=t;break;case"STATE_EXPANDED":this.toggleHeaderBarCollapsed(!1),this._state=t;break;default:console.warn('Could not set state for HeaderBar: Invalid value "'.concat(t,'"'))}return this._state}}],Xo(Qo.prototype,dc),Qo);function Qo(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Qo);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Ko(Qo)).call.apply(e,[this].concat(o)))||"object"!==Jo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).menuActivator=e.el.querySelector('[data-headerbar-el="menuActivator"]'),e.intersectionObserverTarget=document.querySelector('[data-headerbar-el="intersectionObserverTarget"]'),e.intersectionObserver=null,e.isInTopArea=!0,e.isInOverlay=!1,e._state=e.el.classList.contains("collapsed")?"STATE_COLLAPSED":"STATE_EXPANDED",e.init(),e}function ti(t){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ni(t,e,n){return(ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oi(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ii(t,e){return(ii=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ri=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ii(t,e)}(ai,i.Component),pa=[{key:"destroy",value:function(){ni(oi(ai.prototype),"destroy",this).call(this)}}],ei(ai.prototype,pa),ai);function ai(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ai);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i,r,r=(i=this,r=(r=oi(ai)).call.apply(r,[this].concat(n)),(t=!r||"object"!==ti(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):r).el.getAttribute("data-src"));return r&&t.el.setAttribute("src",r),t.el.onload=function(){t.publish(d.q)},t}function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ci(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function li(t,e){return!e||"object"!==si(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fi(t,e){return(fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pi=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fi(t,e)}(yi,i.Component),ga=[{key:"prepareConsentHandling",value:function(){this.activateThirdPartyConsentButton=this.thirdPartyConsentActivator.querySelector("button"),this.deactivateThirdPartyConsentButton=this.thirdPartyConsentDeactivator.querySelector("button"),this.privacyPolicyLink=this.thirdPartyConsentDeactivator.querySelector('[data-link-el="privacy-policy"]'),this.activateThirdPartyConsentButton&&this.deactivateThirdPartyConsentButton?this.privacyPolicyLink?this.consentHandlingPrepared=!0:console.error("privacy policy link is not present in consent deactivator"):console.error("Third party consent activator and deactivator dont have a button")}},{key:"initThirdPartyConsentHandling",value:function(){function e(t){t?(n.thirdPartyConsentActivator.classList.add("hidden"),n.thirdPartyConsentDeactivator.classList.remove("opacity-none"),n.thirdPartyConsentDeactivator.classList.remove("hidden"),n.privacyPolicyLink.setAttribute("tabindex","0"),n.showEmbed()):(n.thirdPartyConsentActivator.classList.remove("hidden"),n.privacyPolicyLink.setAttribute("tabindex","-1"))}var n=this;e(q.a.instance.hasAcceptedThirdPartyConsent),this.subscribe(d.Z,function(t){t.accepted?(e(t.accepted),n.showEmbed()):window.location.reload(!0)})}},{key:"showEmbed",value:function(){this.inner.classList.remove("hidden")}}],ci(yi.prototype,ga),yi);function yi(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,yi);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if((t=li(this,(t=ui(yi)).call.apply(t,[this].concat(n)))).settings=JSON.parse(t.data.settings),t.inner=t.el.querySelector('[data-html-embed-el="inner"]'),t.thirdPartyConsentActivator=t.el.querySelector('[data-consent-el="activator"]'),t.thirdPartyConsentDeactivator=t.el.querySelector('[data-consent-el="deactivator"]'),t.consentHandlingPrepared=!1,t.settings.requireConsent){if(t.prepareConsentHandling(),!t.consentHandlingPrepared)return li(t);t.initThirdPartyConsentHandling()}else t.showEmbed();return t}function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bi(t){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gi(t,e){return(gi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vi=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gi(t,e)}(mi,i.Component),Sa=[{key:"init",value:function(){var t=this;this.iframe&&(this.iframe.addEventListener("load",function(){t.onLoaded()}),this.iframe.classList.remove("hidden"),this.iframe.classList.contains("lazyload")||this.iframe.classList.contains("lazytrigger")||this.loadSrc())}},{key:"addMessageListener",value:function(){var n=this;window.addEventListener("message",function(t){var e=t.data;if(t.origin===new URL(n.settings.src).origin){try{e=JSON.parse(e)}catch(t){return}["resize","track"].includes(e.event)&&t.source===n.iframe.contentWindow&&("resize"===e.event&&e.height?(n.el.style.paddingBottom="".concat(e.height,"px"),n.isLoaded&&(n.el.style.minHeight="")):"track"===e.event&&Q.instance.push(e.payload))}})}},{key:"loadSrc",value:function(){this.src&&this.iframe&&!this.iframe.getAttribute("src")&&this.iframe.setAttribute("src",this.src)}},{key:"onLoaded",value:function(){this.isLoaded=!0,this.loader&&this.loader.classList.add("hidden"),this.el.style.paddingBottom&&(this.el.style.minHeight="")}},{key:"src",get:function(){if(this._src)return this._src;var t=this.iframe?this.iframe.getAttribute("data-src"):void 0;return t?(this._src=t,this._src):""}}],hi(mi.prototype,Sa),mi);function mi(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,mi);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=bi(mi)).call.apply(e,[this].concat(o)))||"object"!==di(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).settings=JSON.parse(e.data.settings),e.loader=e.el.querySelector('[data-iframe-el="loader"]'),e.iframe=e.el.querySelector('[data-iframe-el="iframe"]'),e.isLoaded=!1,e.addMessageListener(),e.init(),e}function wi(t){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Si(t,e,n){return(Si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pi(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ki(t,e){return(ki=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ei=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),ki(t,e)}(_i,vi),Qc=[{key:"addMessageListener",value:function(){this.loadContent(),Si(Pi(_i.prototype),"addMessageListener",this).call(this)}},{key:"loadContent",value:function(){var t=new URLSearchParams(window.location.search),e=t.get("n2g"),n=t.get("action"),o=/^[a-zA-Z0-9-]+$/;e||n?(t=new URL(this.settings.src),e&&o.test(e)&&t.searchParams.set("n2g",e),n&&o.test(n)&&t.searchParams.set("action",n),this.iframe.dataset.src=t.href):this.iframe.dataset.src=this.settings.src}}],Oi(_i.prototype,Qc),_i);function _i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_i),t=this,!(e=Pi(_i).apply(this,arguments))||"object"!==wi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function ji(t){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ai(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ci(t,e,n){return(Ci="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Li(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ti(t,e){return(Ti=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ii=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ti(t,e)}(Ri,i.Component),Ms=[{key:"onZoom",value:function(){this.publish(d.n,this.settings.zoomId)}},{key:"onFocusCallback",value:function(){this.zoomButton&&this.zoomButton.focus()}},{key:"destroy",value:function(){Ci(Li(Ri.prototype),"destroy",this).call(this)}}],Ai(Ri.prototype,Ms),Ri);function Ri(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ri);for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=this,r=(r=Li(Ri)).call.apply(r,[this].concat(o)),(e=!r||"object"!==ji(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r).settings={uuid:"",zoomAnimation:!1,zoomId:""};var r=e.data.settings?JSON.parse(e.data.settings):{};return e.settings=Object.assign(e.settings,r),e.settings.zoomable&&(e.zoomButton=e.el.querySelector('[data-image-el="zoomButton"]'),e.el.addEventListener("click",function(){e.onZoom()}),e.subscribe(d.l,function(t){t===e.settings.id&&e.onFocusCallback()})),e.image=e.el.querySelector('[data-image-el="img"]'),e}function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Bi(t,e,n){return(Bi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ni(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ni(t){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qi=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),zi(t,e)}(Mi,Rn),Ba=[{key:"destroy",value:function(){Bi(Ni(Mi.prototype),"destroy",this).call(this)}}],xi(Mi.prototype,Ba),Mi);function Mi(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Mi);for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=this,n=(n=Ni(Mi)).call.apply(n,[this].concat(i)),t=!n||"object"!==Di(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n,"function"==typeof window.jwplayer?t.publish(d.s):t.el.onload=function(){t.publish(d.s)},t.initSrc(),t}function Ui(t){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fi(t,e,n){return(Fi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hi(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Hi(t){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gi(t,e){return(Gi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wi=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gi(t,e)}(Ji,i.Component),_c=[{key:"loadFallbackImage",value:function(t){var e=this;this.disableImage(),this.magazineImage.src=t,this.magazineImage.onload=function(){e.showImage()},this.magazineImage.onerror=function(){e.disableImage()}}},{key:"showImage",value:function(){this.magazineImage.style.display="block"}},{key:"disableImage",value:function(){this.magazineImage.style.display="none"}},{key:"destroy",value:function(){Fi(Hi(Ji.prototype),"destroy",this).call(this)}}],Vi(Ji.prototype,_c),Ji);function Ji(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ji);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i,r,a=(i=this,r=(r=Hi(Ji)).call.apply(r,[this].concat(n)),(t=!r||"object"!==Ui(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):r).data.settings?JSON.parse(t.data.settings):{});return t.magazineImage=t.el.querySelector('[data-image-el="magazineImg"]'),t.magazineImage.onerror=function(){t.loadFallbackImage(a.fallbackImageUrl)},t}function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yi(t){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ki(t,e){return(Ki=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $i=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ki(t,e)}(Zi,ke),Zi);function Zi(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Zi),t=this,!(e=Yi(Zi).apply(this,arguments))||"object"!==Xi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function Qi(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var tr=Symbol("INSTANCE"),er=Symbol("SINGELTONENFORCER"),nr=(Za=[{key:"instance",get:function(){return this[tr]||(this[tr]=new or(er)),this[tr]}}],Ga=[{key:"init",value:function(){this._supportsPassiveEventListener=this.getSupportsPassiveEventListener()}},{key:"getSupportsPassiveEventListener",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}},{key:"supportsPassiveEventListener",get:function(){return this._supportsPassiveEventListener}}],Qi((Js=or).prototype,Ga),Qi(Js,Za),or);function or(t){if(function(t){if(!(t instanceof or))throw new TypeError("Cannot call a class as a function")}(this),t!==er)throw new Error("Instantiation failed: Use FeatureDetection.instance instead of new.");this.init()}function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ar(t,e){return!e||"object"!==ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sr(t,e,n){return(sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cr(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function cr(t){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ur=nr.instance,fr=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lr(t,e)}(pr,i.Component),Et=[{key:"initSwipe",value:function(){var e=this;this.initialX=null,this.initialY=null,this.el.addEventListener("touchstart",function(t){return e.onTouchStart(t)},!!ur.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchstart",function(t){return e.onTouchStart(t)},!!ur.supportsPassiveEventListener&&{passive:!0}),this.el.addEventListener("touchmove",function(t){return e.onTouchMove(t)},!!ur.supportsPassiveEventListener&&{passive:!0}),this.rightSwiper.addEventListener("touchmove",function(t){return e.onTouchMove(t)},!!ur.supportsPassiveEventListener&&{passive:!0})}},{key:"onTouchStart",value:function(t){this.initialX=t.touches[0].clientX,this.initialY=t.touches[0].clientY}},{key:"onTouchMove",value:function(t){var e,n;null!==this.initialX&&null!==this.initialY&&(e=t.touches[0].clientX,n=t.touches[0].clientY,t=this.initialX-e,n=(e=this.initialY-n)>-Math.abs(5)&&e<Math.abs(5),Math.abs(t)>Math.abs(e)&&(0<t&&n?this.close():this.open()),this.initialX=null,this.initialY=null)}},{key:"open",value:function(){var t=this;this.overlay.classList.add("fixed"),this.el.setAttribute("aria-hidden",!1),this.el.classList.toggle("hidden",!1),window.setTimeout(function(){t.menuDrawer.style.transform="translateX(0px)"},0),this.focusDrawer(),window.document.addEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"close",value:function(){var e=this;this.overlay.classList.remove("fixed"),this.el.setAttribute("aria-hidden",!0),window.setTimeout(function(){e.menuDrawer.style.transform="translateX(-320px)"},0),this.el.addEventListener("transitionend",function t(){e.el.classList.toggle("hidden",!0),e.el.removeEventListener("transitionend",t)}),"function"==typeof this.boundOnKeyDown&&window.document.removeEventListener("keydown",this.boundOnKeyDown,!0)}},{key:"focusDrawer",value:function(){this.focusCatcher.focus()}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(t.preventDefault(),this.close())}},{key:"destroy",value:function(){sr(cr(pr.prototype),"destroy",this).call(this)}}],rr(pr.prototype,Et),pr);function pr(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,pr);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=ar(this,(t=cr(pr)).call.apply(t,[this].concat(o))),O.a.isApp?ar(e):(e.overlay=e.el.querySelector('[data-menu-el="overlay"]'),e.menuDrawer=e.el.querySelector('[data-menu-el="menuDrawer"]'),e.rightSwiper=e.el.querySelector('[data-menu-el="rightSwiper"]'),e.focusCatcher=e.el.querySelector('[data-menu-el="catchFocus"]'),e.subscribe(d.w,function(){e.open()}),e.overlay.addEventListener("click",function(){e.close()}),e.boundOnKeyDown=function(t){return e.onKeyDown(t)},e.initSwipe(),e)}function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function hr(t,e,n){return(hr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=br(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gr(t,e){return(gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vr=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),gr(t,e)}(mr,ke),rs=[{key:"initLayer",value:function(){var e=this;this.hash=this.el.id,this.el.removeAttribute("id"),window.history.scrollRestoration="manual",this.layerService=qe.a.instance,this.layerService.register(this),this.subscribe(d.j,function(t){return e.onActiveLayerChanged(t)}),window.location.hash&&window.location.hash==="#".concat(this.hash)&&this.publish(d.n,this.id)}},{key:"initLinks",value:function(){var e=this;Array.from(document.querySelectorAll('main a[href="#'.concat(this.hash,'"]'))).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),e.publish(d.n,e.id)})})}},{key:"onExpand",value:function(){hr(br(mr.prototype),"onExpand",this).call(this),this.switchEl.classList.add("bg-sec2-lightest")}},{key:"onCollapse",value:function(){hr(br(mr.prototype),"onCollapse",this).call(this),this.switchEl.classList.remove("bg-sec2-lightest")}},{key:"onActiveLayerChanged",value:function(t){t===this.id&&this.el.scrollIntoView()}},{key:"open",value:function(){this.expand()}},{key:"close",value:function(){this.collapse()}}],dr(mr.prototype,rs),mr);function mr(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,mr);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=br(mr)).call.apply(e,[this].concat(o)))||"object"!==yr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).el.id&&document.querySelectorAll('main [id="'.concat(e.el.id,'"]'))&&(e.initLayer(),e.initLinks()),e}function wr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n(189),n(50),n(190);var Or=(o=Sr,ys=[{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}}}],null&&wr(o.prototype,null),wr(o,ys),Sr);function Sr(){!function(t){if(!(t instanceof Sr))throw new TypeError("Cannot call a class as a function")}(this)}function Pr(t){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Er(t,e,n){return(Er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_r(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function _r(t){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jr(t,e){return(jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ar=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)}(Cr,i.Component),sc=[{key:"parseBase64Settings",value:function(t){if(!t||"string"!=typeof t)return{};try{return Or.pipe(this.decodeBase64,this.decodeHtmlEntities,this.decodeURI,this.parseJson)(t)}catch(t){return{}}}},{key:"decodeBase64",value:function(e){try{return window.atob(e)}catch(t){return e}}},{key:"decodeHtmlEntities",value:function(t){if(!t||"string"!=typeof t)throw new Error("TypeError: String expected");var e=document.createElement("textarea");return e.innerHTML=t,e.value}},{key:"decodeURI",value:function(t){if(!t||"string"!=typeof t)throw new Error("TypeError: String expected");return decodeURIComponent(escape(t))}},{key:"parseJson",value:function(t){if(!t||"string"!=typeof t)throw new Error("TypeError: String expected");return JSON.parse(t)}},{key:"destroy",value:function(){Er(_r(Cr.prototype),"destroy",this).call(this)}}],kr(Cr.prototype,sc),Cr);function Cr(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Cr);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=_r(Cr)).call.apply(e,[this].concat(o)))||"object"!==Pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).settings=e.parseBase64Settings(e.data.settings),e}function Lr(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function Tr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ir=(Tr(Rr.prototype,[{key:"getClipByClipId",value:function(o){var i=this;if(!o||"string"!=typeof o)return Promise.reject(new Error("OmnyStudio getClipByClipId - missing valid clipId function param"));var t="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/clips/").concat(o);return new Promise(function(e,n){i.fetchUrl(t).then(function(t){t?(t=i.sanitizeFieldsInObject(t,["Title","Description"]),e(t)):n(new Error("OmnyStudio getClipByClipId - no clip found for clipId: ".concat(o)))}).catch(function(t){return n(t)})})}},{key:"getClipByPlaylistId",value:function(o){var i=this;if(!o||"string"!=typeof o)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var t="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(o,"/clips");return new Promise(function(e,n){i.fetchUrl(t).then(function(t){t=t.Clips&&Array.isArray(t.Clips)&&"undefined"!==t.Clips[0]?t.Clips[0]:void 0;t?(t=i.sanitizeFieldsInObject(t,["Title","Description"]),e(t)):n(new Error("OmnyStudio getClipByPlaylistId - no clip found for playlistId: ".concat(o)))}).catch(function(t){return n(t)})})}},{key:"getClipsByPlaylistId",value:function(o){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:7;if(!o||"string"!=typeof o)return Promise.reject(new Error("OmnyStudio getClipByPlaylistId - missing valid playlistId function param"));var r="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(o,"/clips?pageSize=").concat(t);return new Promise(function(e,n){i.fetchUrl(r).then(function(t){t=t.Clips&&Array.isArray(t.Clips)&&0<t.Clips.length?t.Clips:void 0;t?(t=t.map(function(t){return i.sanitizeFieldsInObject(t,["Title","Description"])}),e(t)):n(new Error("OmnyStudio getClipsByPlaylistId - no clips found for playlistId: ".concat(o)))}).catch(function(t){return n(t)})})}},{key:"getPlaylistByPlaylistId",value:function(o){var i=this;if(!o||"string"!=typeof o)return Promise.reject(new Error("OmnyStudio getPlaylistByPlaylistId - missing valid playlistId function param"));var t="".concat(this.apiUrl,"/orgs/").concat(this.orgId,"/playlists/").concat(o);return new Promise(function(e,n){i.fetchUrl(t).then(function(t){t?(t=i.sanitizeFieldsInObject(t,["Title","Description"]),e(t)):n(new Error("OmnyStudio getPlaylistByPlaylistId - no playlist found for playlistId: ".concat(o)))}).catch(function(t){return n(t)})})}},{key:"getPlaylistIdFromClip",value:function(t){return void 0!==t&&t.PlaylistIds&&Array.isArray(t.PlaylistIds)?t.PlaylistIds[0]:""}},{key:"getProgramIdFromClip",value:function(t){return void 0!==t&&t.ProgramId?t.ProgramId:""}},{key:"fetchUrl",value:function(t){return fetch(t,{method:"GET",headers:{"Content-Type":"text/plain"}}).then(function(t){return 200!==t.status?Promise.reject(new Error("OmnyStudio fetchUrl - failed to get data from API, URL: ".concat(t.url))):t.json()})}},{key:"sanitizeFieldsInObject",value:function(t,e){var n=this,o=function(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Lr(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}({},t);return e.forEach(function(t){o[t]&&"string"==typeof o[t]&&(o[t]=n.sanitizeString(o[t]))}),o}},{key:"sanitizeString",value:function(t){return t.replace(/[AOUaou]\u0308/g,function(t){switch(t.charCodeAt(0)){case 65:return"Ã„";case 79:return"Ã–";case 85:return"Ãœ";case 97:return"Ã¤";case 111:return"Ã¶";case 117:return"Ã¼";default:return t}})}}]),Rr);function Rr(t,e){!function(t){if(!(t instanceof Rr))throw new TypeError("Cannot call a class as a function")}(this),t&&e?(this.apiUrl=t,this.orgId=e):console.error("OmnyStudio requires apiUrl and orgId for correct instantiation.")}function Dr(t){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Br(t,e){return!e||"object"!==Dr(e)&&"function"!=typeof e?Nr(t):e}function Nr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qr(t,e,n){return(qr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mr(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Mr(t){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),zr(t,e)})(Ur,Ar),ws=[{key:"init",value:function(){var e=this;this.playlistId?this.fetchOmnyDataByPlaylistId(this.playlistId).then(function(){e.initAppData(),e.initPlayer()}).catch(function(t){return e.onError(t)}):this.clipId&&this.fetchOmnyDataByClipId(this.clipId).then(function(){e.initAppData(),e.initPlayer()}).catch(function(t){return e.onError(t)})}},{key:"fetchOmnyDataByPlaylistId",value:function(n){var o=this;return new Promise(function(e,t){o.omnyStudio.getClipByPlaylistId(n).then(function(t){return o.omnyClip=t,o.omnyStudio.getPlaylistByPlaylistId(n)}).then(function(t){o.omnyPlaylist=t,e()}).catch(function(t){return o.onError(t)})})}},{key:"fetchOmnyDataByClipId",value:function(t){var o=this;return new Promise(function(e,n){o.omnyStudio.getClipByClipId(t).then(function(t){return o.omnyClip=t,o.playlistId=o.omnyStudio.getPlaylistIdFromClip(t),o.programId=o.omnyStudio.getProgramIdFromClip(t),o.playlistId||(o.programName=o.programId?o.getProgramNameByProgramId(o.programId):"",e()),o.omnyStudio.getPlaylistByPlaylistId(o.playlistId)}).then(function(t){o.omnyPlaylist=t,e()}).catch(function(t){return n(t)})})}},{key:"getProgramNameByProgramId",value:function(t){return this.omnyPrograms[t]&&this.omnyPrograms[t].name?this.omnyPrograms[t].name:""}},{key:"getPlayButtonLabelByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].playButtonLabel?this.omnyPrograms[t].playButtonLabel:void 0}},{key:"getReplayButtonLabelByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].replayButtonLabel?this.omnyPrograms[t].replayButtonLabel:void 0}},{key:"initAppData",value:function(){var i=this,t="";this.omnyClip.ImageUrl?t=this.omnyClip.ImageUrl.replace(/&size=Medium$/i,"&size=Small"):this.omnyPlaylist.ArtworkUrl&&(t=this.omnyPlaylist.ArtworkUrl.replace(/&size=Medium$/i,"&size=Small"));var r=[];this.omnyPlaylist.DirectoryLinks&&Object.keys(this.omnyPlaylist.DirectoryLinks).forEach(function(t){if(i.omnyPlaylist.DirectoryLinks[t])switch(t){case"ApplePodcasts":var e=i.omnyPlaylist.DirectoryLinks.ApplePodcasts;-1===e.indexOf("https://podcasts.apple.com/")&&-1===e.indexOf("https://geo.itunes.apple.com/")||r.push({id:"apple-podcasts",service:e});break;case"GooglePodcasts":var n=i.omnyPlaylist.DirectoryLinks.GooglePodcasts;n&&r.push({id:"google-podcasts",service:n});break;case"Spotify":n=i.omnyPlaylist.DirectoryLinks.Spotify;-1!==n.indexOf("https://open.spotify.com/")&&r.push({id:"spotify",service:n});break;case"Stitcher":var o=i.omnyPlaylist.DirectoryLinks.Stitcher;-1!==o.indexOf("https://castbox.fm/")&&r.push({id:"castbox",service:o});break;case"TuneIn":case"GooglePlay":break;case"RssFeed":o=i.omnyPlaylist.DirectoryLinks.RssFeed;o&&r.push({id:"rss",service:o})}}),r.find(function(t){return"apple-podcasts"===t.id})||r.push({id:"apple-podcasts",service:""});var e=this.getStreamUrl();this.appData={audioUrl:e,clients:r,duration:this.omnyClip.DurationSeconds?Math.round(1e3*this.omnyClip.DurationSeconds):-1,headline:this.omnyClip.Title||"",kicker:this.omnyPlaylist.Title||this.programName||"",posterUrl:t}}},{key:"initPlayer",value:function(){var t,e=this;this.poster&&(t="",this.omnyClip.ImageUrl?t=this.omnyClip.ImageUrl.replace(/&size=Medium$/i,"&size=Small"):this.omnyPlaylist.ArtworkUrl&&(t=this.omnyPlaylist.ArtworkUrl.replace(/&size=Medium$/i,"&size=Small")),this.poster.setAttribute("src",t)),this.kicker&&(this.kicker.innerHTML=this.omnyPlaylist.Title||this.programName||""),this.headline&&(this.headline.innerHTML=this.omnyClip.Title||""),this.playButton&&(this.boundOnPlay=function(){e.onPlay()},this.playButton.addEventListener("click",this.boundOnPlay)),this.playButtonLabel&&this.getPlayButtonLabelByProgramId(this.programId)&&(this.playButtonLabel.innerHTML=this.getPlayButtonLabelByProgramId(this.programId)),this.replayButton&&(this.boundOnReplay=function(){e.onReplay()},this.replayButton.addEventListener("click",this.boundOnReplay)),this.replayButtonLabel&&this.getReplayButtonLabelByProgramId(this.programId)&&(this.replayButtonLabel.innerHTML=this.getReplayButtonLabelByProgramId(this.programId)),this.publish(d.D,this.eventPayload),this.state="STATE_DEFAULT"}},{key:"getStreamUrl",value:function(){if(!this.omnyClip.AudioUrl)return"";var t=new URL(this.omnyClip.AudioUrl);return O.a.isIOSApp?t.searchParams.set("utm_source","CustomPlayer3"):O.a.isAndroidApp&&t.searchParams.set("utm_source","CustomPlayer4"),t.href}},{key:"onPlay",value:function(){var t=this;h.a.instance.triggerNativeAudioPlayer(this.appData),this.publish(d.E,this.eventPayload),this.playButton.setAttribute("disabled",""),setTimeout(function(){t.replayButton&&(t.playButton.classList.add("hidden"),t.replayButton.classList.remove("hidden"))},2e3)}},{key:"onReplay",value:function(){var t=this;h.a.instance.triggerNativeAudioPlayer(this.appData),this.publish(d.F,this.eventPayload),this.replayButton.setAttribute("disabled",""),setTimeout(function(){t.replayButton.removeAttribute("disabled")},2e3)}},{key:"toggleElementVisibility",value:function(t,e){t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){this.playButton&&this.boundOnPlay&&this.playButton.removeEventListener("click",this.boundOnPlay),this.replayButton&&this.boundOnReplay&&this.replayButton.removeEventListener("click",this.boundOnReplay),qr(Mr(Ur.prototype),"destroy",this).call(this)}},{key:"eventPayload",get:function(){var t=this.getStreamUrl();return{show:this.omnyPlaylist.Title||this.programName||"",title:this.omnyClip.Title||"",audioUrl:t,duration:this.omnyClip.DurationSeconds?Math.round(1e3*this.omnyClip.DurationSeconds):-1,id:this.omnyClip.Id||""}}},{key:"state",get:function(){return this._state},set:function(t){switch(this._state=t){case"STATE_LOADING":case"STATE_ERROR":this.toggleElementVisibility(this.player,!1),this.toggleElementVisibility(this.loader,!0);break;default:this.toggleElementVisibility(this.player,!0),this.toggleElementVisibility(this.loader,!1)}}}],xr(Ur.prototype,ws),D=Ur;function Ur(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ur);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=Br(this,(t=Mr(Ur)).call.apply(t,[this].concat(n))),O.a.isApp?(t.programId=void 0,t.playlistId=t.settings.playlistId&&"string"==typeof t.settings.playlistId?t.settings.playlistId:void 0,t.clipId=t.settings.clipId&&"string"==typeof t.settings.clipId?t.settings.clipId:void 0,t.appData={},t.omnySettings=t.data.omnySettings?qr(Mr(Ur.prototype),"parseBase64Settings",Nr(t)).call(Nr(t),t.data.omnySettings):{},t.omnyPrograms=t.omnySettings.programs||{},t.omnyStudio=new Ir(t.omnySettings.apiUrl,t.omnySettings.orgId),t.omnyClip={},t.omnyPlaylist={},t.programName="",t.player=t.el.querySelector("[data-native-audio-player-el=player]"),t.loader=t.el.querySelector("[data-native-audio-player-el=loader]"),t.poster=t.el.querySelector("[data-native-audio-player-el=poster]"),t.kicker=t.el.querySelector("[data-native-audio-player-el=kicker]"),t.headline=t.el.querySelector("[data-native-audio-player-el=headline]"),t.playButton=t.el.querySelector("[data-native-audio-player-el=playButton]"),t.playButtonLabel=t.el.querySelector("[data-native-audio-player-el=playButtonLabel]"),t.replayButton=t.el.querySelector("[data-native-audio-player-el=replayButton]"),t.replayButtonLabel=t.el.querySelector("[data-native-audio-player-el=replayButtonLabel]"),t.state="STATE_LOADING",t.init(),t):Br(t)}function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fr(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hr(t,e){return!e||"object"!==Vr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gr(t,e,n){return(Gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wr(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jr(t,e){return(Jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xr=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jr(t,e)}(Zr,i.Component),dl=[{key:"onClick",value:function(){var t=this;this.setVideoSource(),this.showVideo(),setTimeout(function(){t.video.play()},0),this.removeEventListeners()}},{key:"onLazyLoad",value:function(){this.setVideoSource(),this.showVideo()}},{key:"setVideoSource",value:function(){var t=this;this.videoSource.setAttribute("src",this.videoUrl),setTimeout(function(){t.video.load(),t.video.play(),t.video.pause()},0)}},{key:"showVideo",value:function(){this.thumbnail&&this.thumbnail.classList.add("hidden"),this.video.classList.remove("hidden")}},{key:"removeEventListeners",value:function(){this.thumbnail?(this.playButton.removeEventListener("click",this.boundOnClick),this.thumbnail.removeEventListener("click",this.boundOnClick)):this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad)}},{key:"destroy",value:function(){this.removeEventListeners(),Gr(Wr(Zr.prototype),"destroy",this).call(this)}}],Fr(Zr.prototype,dl),Zr),Yr=n(103),Kr=n.n(Yr),$r=n(56);function Zr(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Zr);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=Hr(this,(t=Wr(Zr)).call.apply(t,[this].concat(o)))).thumbnail=e.el.querySelector('[data-nativevideo-el="thumbnail"]'),e.playButton=e.el.querySelector('[data-nativevideo-el="playButton"]'),e.video=e.el.querySelector('[data-nativevideo-el="video"]'),e.videoSource=e.video.querySelector("source"),e.videoUrl=!!e.videoSource&&!!e.videoSource.dataset&&e.videoSource.dataset.src&&e.videoSource.dataset.src,e.videoUrl?(e.thumbnail?(e.boundOnClick=function(){e.onClick()},e.playButton.addEventListener("click",e.boundOnClick),e.thumbnail.addEventListener("click",e.boundOnClick)):(e.boundOnLazyLoad=function(t){t.target===e.el&&e.onLazyLoad()},e.el.addEventListener("lazybeforeunveil",e.boundOnLazyLoad)),e):(console.error("Video has no source"),Hr(e))}function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ta(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ea(t,e,n){return(ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=na(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oa(t,e){return(oa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$r.b.use([$r.a]);var ia=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oa(t,e)}(ra,i.Component),Mc=[{key:"initSwiper",value:function(){var t=this,e=this.el.querySelector(".swiper-container"),n=this.el.querySelector('[data-swiper-el="prevEl"]'),o=this.el.querySelector('[data-swiper-el="nextEl"]'),i=this.settings.isBreadcrumb;this.swiper=new $r.b(e,{freeMode:!0,slidesPerView:"auto",navigation:{nextEl:o,prevEl:n,disabledClass:"hidden"},on:{init:function(){var t;i?this.slideTo(this.slides.length-1,500,!1):(t=Array.from(this.slides).findIndex(function(t){return t.dataset.itemActive}),this.slideTo(t-1,500,!1))},reachBeginning:function(){t.onSwiperReachBeginning()},fromEdge:function(){t.onSwiperFromEdge()}}})}},{key:"initSearch",value:function(){var e=this;this.searchFormEl=this.el.querySelector('[data-search-el="form"]'),this.searchFormEl.style.transition="width .3s ease-out",this.searchToggleContainerEl=this.el.querySelector('[data-search-el="toggle-container"]'),this.searchInputContainerEl=this.el.querySelector('[data-search-el="input-container"]');var t=this.el.querySelector('[data-search-el="toggle"]'),n=this.el.querySelector('[data-search-el="submit"]');this.searchInputEl=this.el.querySelector('[data-search-el="input"]'),this.searchFormEl.addEventListener("transitionend",function(){e.swiper.update(),e.searchFormEl.classList.contains("lg:w-4/12")||e.toggleSearchContainer(!1)}),t.addEventListener("click",function(){e.toggleSearchContainer(!0),e.searchFormEl.classList.add("lg:w-4/12"),e.searchFormEl.classList.add("md:w-5/12"),e.searchInputEl.focus()}),n.addEventListener("click",function(){e.submitForm()||(e.searchFormEl.classList.remove("lg:w-4/12"),e.searchFormEl.classList.remove("md:w-5/12"))}),document.addEventListener("click",function(t){e.searchFormEl.contains(t.target)||(e.searchFormEl.classList.remove("lg:w-4/12"),e.searchFormEl.classList.remove("md:w-5/12"))}),this.searchFormEl.addEventListener("submit",function(t){t.preventDefault(),e.submitForm()})}},{key:"toggleSearchContainer",value:function(t){this.searchToggleContainerEl.classList.toggle("hidden",t),this.searchInputContainerEl.classList.toggle("hidden",!t),this.searchInputContainerEl.classList.toggle("relative",t),this.searchInputContainerEl.classList.toggle("absolute",!t),this.searchInputContainerEl.classList.toggle("pointer-events-none",!t),this.searchInputContainerEl.classList.toggle("opacity-none",!t),this.searchInputContainerEl.setAttribute("aria-hidden",!t)}},{key:"submitForm",value:function(){return!!this.searchInputEl.value&&(document.location.replace("".concat(y.a.instance.urls.base,"/suche/?").concat(this.searchInputEl.name,"=").concat(this.searchInputEl.value)),!0)}},{key:"initMenuActivator",value:function(){var t=this;this.el.querySelector('[data-navbar-el="menuActivator"]').addEventListener("click",function(){t.publish(d.w)})}},{key:"initLatestNews",value:function(){this.latestNewsTooltip=this.el.querySelector('[data-navbar-el="latestNewsTooltip"]')}},{key:"onSwiperFromEdge",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="hidden")}},{key:"onSwiperReachBeginning",value:function(){this.latestNewsTooltip&&(this.latestNewsTooltip.style.visibility="visible")}},{key:"destroy",value:function(){ea(na(ra.prototype),"destroy",this).call(this)}}],ta(ra.prototype,Mc),ra);function ra(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ra);for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];e=this,n=(n=na(ra)).call.apply(n,[this].concat(i)),(t=!n||"object"!==Qr(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n).settings=JSON.parse(t.data.settings);var a,s=window.getComputedStyle(t.el).fontFamily.split(", ")[0];return"serif"!==s&&"sans-serif"!==s?(a=new Kr.a(s)).load().then(function(){t.initSwiper()},function(){t.initSwiper(),a.load(null,1e4).then(function(){t.swiper.update()},function(){console.error("".concat(s," font is not available"))})}):t.initSwiper(),t.initSearch(),t.initMenuActivator(),t.initLatestNews(),t}function aa(t){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ca(t,e){return!e||"object"!==aa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function la(t,e,n){return(la="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ua(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fa(t,e){return(fa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(192);var pa=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),fa(t,e)}(ya,Rn),dc=[{key:"init",value:function(){this.determineOutbrainId(),this.outbrainId&&(this.setTrackingReducedVersion(),this.embedOutbrainScript(),this.embedOutbrainElement(),this.initSrc())}},{key:"determineOutbrainId",value:function(){var e=this,n="web";"android"===this.app?n="android":"ios"===this.app&&(n="ios");var t=Array.from(this.settings.widgetIDs).filter(function(t){return t.ads===!e.settings.noAds&&t.guaranteed===e.settings.guaranteed&&t.type===e.settings.type&&t.device===n?t.id:null});this.outbrainId=t[0]&&t[0].id?t[0].id:null}},{key:"setTrackingReducedVersion",value:function(){var t;this.consentDisabled&&(t="OB_ContextKeyValue",window[t]||(window[t]="notracking"))}},{key:"embedOutbrainScript",value:function(){var t='<script type"text/javascript" async="async" data-outbrain-el="script"><\/script>'.trim();this.embedToWrapper(t)}},{key:"embedOutbrainElement",value:function(){var e={};O.a.isApp&&(e["data-ob-installation-type"]="app_js_widget",e["data-is-secured"]="true",e["data-ob-installation-key"]=this.partnerKey,e["data-ob-user-id"]=h.a.instance.advertisingId||"null",e["data-ob-app-ver"]=h.a.instance.bundleId||"");var n='\n            <div class="outbrain-container">\n                <div id="'.concat(this.outbrainId,'"\n                    class="OUTBRAIN"\n                    data-src="').concat(this.settings.src,'"\n                    data-widget-id="').concat(this.outbrainId,'"\n                    data-ob-template="').concat(this.settings.template||"DE_SPIEGEL",'"\n        ');Object.keys(e).forEach(function(t){n+="".concat(t,'="').concat(e[t],'"\n            ')}),n+=">\n                </div>\n            </div>\n        ",this.embedToWrapper(n.trim())}},{key:"embedToWrapper",value:function(e){if(e)try{this.el.appendChild(document.createRange().createContextualFragment(e))}catch(t){this.el.insertAdjacentHTML("beforeend",e)}}},{key:"destroy",value:function(){this.el.innerHTML="",la(ua(ya.prototype),"destroy",this).call(this)}},{key:"partnerKey",get:function(){return O.a.isApp&&(O.a.isAndroidApp||O.a.isIOSApp)?this.settings.partnerKeys["".concat(O.a.isAndroidApp?"android":"ios").concat(P.a.isTablet?"Tablet":"Mobile")]:""}},{key:"src",get:function(){return this._src}},{key:"scriptEl",get:function(){return this.el.querySelector('[data-outbrain-el="script"]')}}],sa(ya.prototype,dc),ya);function ya(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ya);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=ca(this,(o=ua(ya)).call.apply(o,[this].concat(e)));return S.a.instance.isIssueArticle?ca(o):(o._src="//widgets.outbrain.com/outbrain.js",o.consentDisabled=!(!y.a.instance.consent||"boolean"!=typeof y.a.instance.consent.disabled)&&y.a.instance.consent.disabled,o.settings=JSON.parse(o.data.outbrainSettings),o.app=!!O.a.isApp&&O.a.appCode,o.outbrainId=String(),o.init(),o)}function da(t){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ha(t){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ba(t,e){return(ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ga=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ba(t,e)}(va,i.Component),va);function va(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,va);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=ha(va)).call.apply(n,[this].concat(i)),(e=!n||"object"!==da(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).subscribe(d.A,function(t){e.el.classList.toggle("hidden",t&&t.expandHeader)}),e}function ma(t){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wa(t){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oa(t,e){return(Oa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sa=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oa(t,e)}(Pa,i.Component),Pa);function Pa(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Pa);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o=this;var o=!(i=(i=wa(Pa)).call.apply(i,[this].concat(e)))||"object"!==ma(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o):i,i=h.a.instance,i=O.a.isApp&&i.isNativeAudioPlayerSupported?"nativeplayer":"webplayer";return o.el.querySelector('[data-podcast-player-loader-el="'.concat(i,'"]')).classList.remove("hidden"),o}function ka(t){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ja(t,e,n){return(ja="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Aa(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Aa(t){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ca(t,e){return(Ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function La(t){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ta(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ia(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ra(t,e){return(Ra=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Da(t,e,n){return(Da="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xa(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function xa(t){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(194);var Ba=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ca(t,e)}(za,Ar),Qc=[{key:"init",value:function(){}},{key:"initPodLoveWebPlayer",value:function(t,e){var n=this;window.polygon.componentLoader.subscribe(d.v,this.onVisibiltyChange,this),"function"==typeof window.podlovePlayer&&window.podlovePlayer(this.player,e,t).then(function(t){n.store=t,n.onReady()})}},{key:"onReady",value:function(){this.publish(d.G,this.id,this.store),this.loader.classList.add("hidden"),this.footer&&this.footer.classList.remove("hidden")}},{key:"onVisibiltyChange",value:function(t){O.a.isAndroidApp&&this.store&&"function"==typeof this.store.dispatch&&(this.isPlaying&&"hidden"===t?(this.store.dispatch({type:"PLAYER_REQUEST_PAUSE",payload:{}}),this.isAutoPaused=!0):"visible"===t&&this.isAutoPaused&&(this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}}),this.isAutoPaused=!1))}},{key:"onAdblockLayerOpened",value:function(){this.store&&"function"==typeof this.store.dispatch&&this.isPlaying&&(this.store.dispatch({type:"PLAYER_REQUEST_PAUSE",payload:{}}),this.isAutoPaused=!0)}},{key:"onAdblockLayerClosed",value:function(){this.store&&"function"==typeof this.store.dispatch&&!this.isPlaying&&this.isAutoPaused&&(this.store.dispatch({type:"PLAYER_REQUEST_PLAY",payload:{}}),this.isAutoPaused=!1)}},{key:"destroy",value:function(){ja(Aa(za.prototype),"destroy",this).call(this)}},{key:"isPlaying",get:function(){if(!this.store||"function"!=typeof this.store.getState)return!1;var t=this.store.getState();return!(!t||!t.driver||"boolean"!=typeof t.driver.playing)&&t.driver.playing}}],Ea(za.prototype,Qc),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ra(t,e)}(Na,Ms=za),Ms=[{key:"init",value:function(){var e=this;this.playlistId?this.fetchOmnyDataByPlaylistId(this.playlistId).then(function(){return e.initPodLoveWebPlayer()}).catch(function(t){return e.onError(t)}):this.clipId&&this.fetchOmnyDataByClipId(this.clipId).then(function(){return e.initPodLoveWebPlayer()}).catch(function(t){return e.onError(t)})}},{key:"fetchOmnyDataByPlaylistId",value:function(o){var i=this;return new Promise(function(e,n){i.hasPlaylist?i.omnyStudio.getClipsByPlaylistId(o,i.playlistLength).then(function(t){return t&&Array.isArray(t)&&0!==t.length?(i.omnyClips=t,i.omnyClip=t[0],i.omnyStudio.getPlaylistByPlaylistId(o)):n(new Error("PodLoveWebPlayerOmny getClipsByPlaylistId - didn't receive any clips for playlistId: ".concat(o)))}).then(function(t){i.omnyPlaylist=t,e()}).catch(function(t){return n(t)}):i.omnyStudio.getClipByPlaylistId(o).then(function(t){return i.omnyClip=t,i.omnyStudio.getPlaylistByPlaylistId(o)}).then(function(t){i.omnyPlaylist=t,e()}).catch(function(t){return i.onError(t)})})}},{key:"fetchOmnyDataByClipId",value:function(t){var o=this;return new Promise(function(e,n){o.hasPlaylist?o.omnyStudio.getClipByClipId(t).then(function(t){return o.omnyClip=t,o.playlistId=o.omnyStudio.getPlaylistIdFromClip(t),o.programId=o.omnyStudio.getProgramIdFromClip(t),o.playlistId||(o.programName=o.programId?o.getProgramNameByProgramId(o.programId):"",e()),o.omnyStudio.getClipsByPlaylistId(o.playlistId,o.playlistLength)}).then(function(t){return t&&Array.isArray(t)&&0!==t.length?(o.omnyClips=t,o.omnyStudio.getPlaylistByPlaylistId(o.playlistId)):n(new Error("PodLoveWebPlayerOmny getClipsByPlaylistId - didn't receive any clips for playlistId: ".concat(o.playlistId)))}).then(function(t){o.omnyPlaylist=t,e()}).catch(function(t){return n(t)}):o.omnyStudio.getClipByClipId(t).then(function(t){return o.omnyClip=t,o.playlistId=o.omnyStudio.getPlaylistIdFromClip(t),o.programId=o.omnyStudio.getProgramIdFromClip(t),o.playlistId||(o.programName=o.programId?o.getProgramNameByProgramId(o.programId):"",e()),o.omnyStudio.getPlaylistByPlaylistId(o.playlistId)}).then(function(t){o.omnyPlaylist=t,e()}).catch(function(t){return n(t)})})}},{key:"getProgramNameByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].name?this.omnyPrograms[t].name:""}},{key:"initPodLoveWebPlayer",value:function(){var e=this;if(this.podloveEpisode=this.convertOmnyClipToPodloveEpisode(this.omnyClip),this.omnyClips.forEach(function(t){t=e.convertOmnyClipToPodloveEpisode(t);t&&e.podloveConfig.playlist.push({config:t,title:t.title,duration:t.duration})}),this.omnyPlaylist.DirectoryLinks&&this.playlistId){this.podloveConfig["subscribe-button"].feed=this.omnyPlaylist.DirectoryLinks.RssFeed||"";for(var t,n,o=0;o<this.podloveConfig["subscribe-button"].clients.length;o++)switch(this.podloveConfig["subscribe-button"].clients[o].id){case"apple-podcasts":this.omnyPlaylist.DirectoryLinks.ApplePodcasts&&(-1!==(t=this.omnyPlaylist.DirectoryLinks.ApplePodcasts).indexOf("https://podcasts.apple.com/")?this.podloveConfig["subscribe-button"].clients[o].service=t.replace(new RegExp("https://podcasts.apple.com/(de/)?podcast/","i"),"/"):-1!==t.indexOf("https://geo.itunes.apple.com/")&&(this.podloveConfig["subscribe-button"].clients[o].service=t.replace(new RegExp("https://geo.itunes.apple.com/(de/)?podcast/","i"),"/")));break;case"google-podcasts":this.omnyPlaylist.DirectoryLinks.GooglePodcasts&&(this.podloveConfig["subscribe-button"].clients[o].service=this.omnyPlaylist.RssFeedUrl||"");break;case"spotify":!this.omnyPlaylist.DirectoryLinks.Spotify||-1!==(t=this.omnyPlaylist.DirectoryLinks.Spotify).indexOf("https://open.spotify.com/")&&(this.podloveConfig["subscribe-button"].clients[o].service=t.replace(new RegExp("https://open.spotify.com/show/","i"),""));break;case"stitcher":break;case"castbox":!this.omnyPlaylist.DirectoryLinks.Stitcher||-1!==(n=this.omnyPlaylist.DirectoryLinks.Stitcher).indexOf("https://castbox.fm/")&&(this.podloveConfig["subscribe-button"].clients[o].service=n.replace(new RegExp("https://castbox.fm/channel/","i"),""));break;case"deezer":this.omnyPlaylist.DirectoryLinks.Deezer&&(-1!==(n=this.omnyPlaylist.DirectoryLinks.Deezer).indexOf("https://www.deezer.com/us")?this.podloveConfig["subscribe-button"].clients[o].service=n.replace(new RegExp("https://www.deezer.com/us/show/","i"),""):-1!==n.indexOf("https://www.deezer.com/de")?this.podloveConfig["subscribe-button"].clients[o].service=n.replace(new RegExp("https://www.deezer.com/de/show/","i"),""):-1!==n.indexOf("https://www.deezer.com/pt")&&(this.podloveConfig["subscribe-button"].clients[o].service=n.replace(new RegExp("https://www.deezer.com/pt/show/","i"),"")));break;case"rss":this.omnyPlaylist.DirectoryLinks.RssFeed&&(this.podloveConfig["subscribe-button"].clients[o].service=this.podloveConfig["subscribe-button"].feed)}}else delete this.podloveConfig["subscribe-button"];Da(xa(Na.prototype),"initPodLoveWebPlayer",this).call(this,this.podloveConfig,this.podloveEpisode)}},{key:"convertOmnyClipToPodloveEpisode",value:function(t){var e={};if(t.AudioUrl&&"string"==typeof t.AudioUrl&&(t.ImageUrl||this.omnyPlaylist.ArtworkUrl)&&t.DurationSeconds&&t.Title){var n=new URL(t.AudioUrl);n.searchParams.set("utm_source","CustomPlayer1"),e.audio=[{mimeType:"audio/mpeg",title:"MP3 Audio",url:n.href}];n=new URL(t.AudioUrl);n.searchParams.set("utm_source","CustomPlayer2"),n.searchParams.set("download","true"),e.files=[{mimeType:"audio/mpeg",size:t.PublishedAudioSizeInBytes||-1,title:"MP3 Audio",url:n.href}];var o,n="";return t.ImageUrl?((o=new URL(t.ImageUrl)).searchParams.set("size","small"),n=o.href):this.omnyPlaylist.ArtworkUrl&&((o=new URL(this.omnyPlaylist.ArtworkUrl)).searchParams.set("size","small"),n=o.href),e.show={poster:n,title:this.omnyPlaylist.Title||this.programName||""},e.duration=Math.round(1e3*t.DurationSeconds),e.title=t.Title,this.settings.link&&"string"==typeof this.settings.link&&(e.link=this.settings.link),e}}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){Da(xa(Na.prototype),"destroy",this).call(this)}}],Ta(Na.prototype,Ms),Na);function Na(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Na);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=xa(Na)).call.apply(e,[this].concat(o)))||"object"!==La(e)&&"function"!=typeof e?Ia(t):e).omnySettings=e.data.omnySettings?Da(xa(Na.prototype),"parseBase64Settings",Ia(e)).call(Ia(e),e.data.omnySettings):{},e.omnyStudio=new Ir(e.omnySettings.apiUrl,e.omnySettings.orgId),e.omnyPrograms=e.omnySettings.programs||{},e.podloveConfig={activeTab:e.settings.activeTab||"",base:e.settings.podloveConfig.base||"/public/shared/generated/js/podlove/",playlist:[],share:e.settings.podloveConfig.share||{},runtime:e.settings.podloveConfig.runtime||{language:"de"},version:e.settings.podloveConfig.version||5},e.podloveConfig["subscribe-button"]=e.settings.podloveConfig["subscribe-button"]||{clients:[]},e.settings.podloveConfig["subscribe-button"].feed="",e.settings.podloveConfig.theme&&"object"===La(e.settings.podloveConfig.theme)&&(e.podloveConfig.theme=e.settings.podloveConfig.theme),e.podloveEpisode={link:e.settings.link||void 0},e.omnyClip={},e.omnyClips=[],e.omnyPlaylist={},e.programName="",e.programId=void 0,e.playlistId=e.settings.playlistId&&"string"==typeof e.settings.playlistId?e.settings.playlistId:void 0,e.clipId=e.settings.clipId&&"string"==typeof e.settings.clipId?e.settings.clipId:void 0,e.hasPlaylist=e.settings.size&&"xl"===e.settings.size,e.playlistLength=e.settings.playlistLength||7,e}function za(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,za);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=Aa(za)).call.apply(n,[this].concat(i)),(e=!n||"object"!==ka(n)&&"function"!=typeof n?_a(t):n).id=e.settings.id||void 0,e.player=e.el.querySelector('[data-audio-el="player"]'),e.loader=e.el.querySelector('[data-audio-el="loader"]'),e.footer=e.el.querySelector('[data-audio-el="footer"]'),e.isAutoPaused=!1,e.subscribe(d.c,e.onAdblockLayerOpened,_a(e)),e.subscribe(d.b,e.onAdblockLayerClosed,_a(e)),e.boundOnLazyLoad=function(t){t.target===e.el&&("function"==typeof window.podlovePlayer?e.init():e.subscribe(d.H,function(){e.init()}))},e.el.addEventListener("lazybeforeunveil",e.boundOnLazyLoad),e}function qa(t){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ua(t,e){return!e||"object"!==qa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Va(t,e,n){return(Va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fa(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Fa(t){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ha(t,e){return(Ha=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ga=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Ha(t,e)}(Wa,Rn),_c=[{key:"destroy",value:function(){Va(Fa(Wa.prototype),"destroy",this).call(this)}}],Ma(Wa.prototype,_c),Wa);function Wa(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Wa);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=Ua(this,(i=Fa(Wa)).call.apply(i,[this].concat(e))),i=h.a.instance;return!O.a.isApp||!i.isNativeAudioPlayerSupported?("function"==typeof window.podlovePlayer?o.publish(d.H):o.el.onload=function(){o.publish(d.H)},o.initSrc(),o):Ua(o)}function Ja(t){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xa(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ya(t,e,n){return(Ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ka(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $a(t,e){return($a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Za=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$a(t,e)}(Qa,i.Component),Js=[{key:"init",value:function(){var e=this;this.fetchOmnyDataByClipId(this.clipId).then(function(t){return e.displayProgramName(t)}).catch(function(t){return e.onError(t)})}},{key:"fetchOmnyDataByClipId",value:function(t){var o=this;return new Promise(function(e,n){o.omnyStudio.getClipByClipId(t).then(function(t){t=o.omnyStudio.getProgramIdFromClip(t),t=t?o.getProgramNameByProgramId(t):"";e(t)}).catch(function(t){return n(t)})})}},{key:"getProgramNameByProgramId",value:function(t){return t&&this.omnyPrograms[t]&&this.omnyPrograms[t].name?this.omnyPrograms[t].name:""}},{key:"displayProgramName",value:function(t){this.title&&t&&(this.title.innerText=t)}},{key:"onError",value:function(t){console.error(t.message)}},{key:"destroy",value:function(){Ya(Ka(Qa.prototype),"destroy",this).call(this)}}],Xa(Qa.prototype,Js),Qa);function Qa(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Qa);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Ka(Qa)).call.apply(e,[this].concat(o)))||"object"!==Ja(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).clipId=e.data.settings?JSON.parse(e.data.settings):{},e.omnySettings=e.data.omnySettings?JSON.parse(e.data.omnySettings):{},e.omnyPrograms=e.omnySettings.programs||{},e.omnyStudio=new Ir(e.omnySettings.apiUrl,e.omnySettings.orgId),e.title=e.el.querySelector('[data-preview-el="title"]'),e.init(),e}function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function es(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ns(t,e,n){return(ns="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=os(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function is(t,e){return(is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ke=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&is(t,e)}(cs,i.Component),Et=[{key:"scrollFieldtypes",value:function(){window.parent.postMessage({event:"scroll_live_preview",pos:this.data.pos},"*")}},{key:"scrollIframeElements",value:function(t){"scroll_live_preview_iframe"!==t.data.event||(t=document.querySelector('button[data-pos="'.concat(t.data.pos,'"]')))&&t.scrollIntoView()}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.scrollFieldtypes()),window.removeEventListener("message",this.scrollIframeElements()),ns(os(cs.prototype),"destroy",this).call(this)}}],es(cs.prototype,Et),cs),rs=n(25),as=n.n(rs),ss=n(101);function cs(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,cs);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=os(cs)).call.apply(n,[this].concat(i)),(e=!n||"object"!==ts(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).el.addEventListener("click",function(t){t.preventDefault(),e.scrollFieldtypes()}),window.addEventListener("message",e.scrollIframeElements),e}function ls(t){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function us(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ps(t,e){return(ps=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ys=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ps(t,e)}(ds,i.Component),o=[{key:"init",value:function(){var t,e=this;q.a.instance.hasAcceptedGlobalConsent||(t=".".concat(y.a.instance.secondLevelDomain||"spiegel",".").concat(y.a.instance.topLevelDomain||"de"),as.a.remove(w.a.euconsent.name,{domain:t})),this.subscribe(d.S,this.openPrivacyManager,this),this.subscribe(d.T,this.selectChoice,this),this.subscribe(d.Y,this.onTCDataChanged),window.addEventListener("error",function(t){e.onWindowError(t)}),this.initSourcepointConfig(),this.initPrivacyManagerButtons(),this.attachPrivacyManagerPullToRefreshFix(),this.addSourcepointScriptElement()}},{key:"initSourcepointConfig",value:function(){var n=this,t=this.settings,e=t.accountId,o=t.mmsDomain,i=t.wrapperAPIOrigin,r=t.propertyHref,a=t.requestMessage,s=y.a.instance,c=q.a.instance,t=s.page&&s.page.category&&s.page.category.route?s.page.category.route:"";window._sp_={config:{mmsDomain:o,accountId:e,wrapperAPIOrigin:i,propertyHref:r,events:{onPrivacyManagerAction:function(t){n.onPrivacyManagerAction(t)},onPMCancel:function(){n.onPrivacyManagerCancel()},onMessageReady:function(){n.onMessageReady()},onMessageReceiveData:function(t){n.onReceiveMessageData(t)},onMessageChoiceSelect:function(t,e){n.onMessageChoiceSelect(t,e)},onMessageChoiceError:function(t){n.onMessageChoiceError(t)},onConsentReady:function(t,e){n.onConsentReady(t,e)}},targetingParams:{platform:O.a.isApp?"app":"web",is_phone:P.a.isPhone,is_tablet:P.a.isTablet,is_mobile:P.a.isMobile,route:t,is_loggedIn:c.isLoggedIn,has_paid_access:c.hasPaidAccess,has_noAds_access:c.hasNoAdsAccess,has_conditional_access:c.hasConditionalAccess,has_accepted_global_consent:c.hasAcceptedGlobalConsent,disable_consent:!(!s.consent||"boolean"!=typeof s.consent.disabled)&&s.consent.disabled,lang:vt.instance.language}}},"article"===t&&(window._sp_.config.targetingParams.paywall_is_active=s.paywall&&s.paywall.attributes&&s.paywall.attributes.is_active,window._sp_.config.targetingParams.paywall_type=s.paywall&&s.paywall.category&&s.paywall.category.type?s.paywall.category.type:""),O.a.isApp&&(O.a.isAndroidApp?window._sp_.config.targetingParams.os="Android":O.a.isIOSApp&&(window._sp_.config.targetingParams.os="iOS"),window._sp_.config.targetingParams.app_version=O.a.appVersion),a&&(window._sp_.config.targetingParams.requestMessage=a)}},{key:"initPrivacyManagerButtons",value:function(){var n=this,o=Array.from(document.querySelectorAll('a[href^="#sp_privacy_manager"]'));if(o&&0<o.length)for(var t=0;t<o.length;t++)!function(t){var t=o[t],e=t.hash.split("#sp_privacy_manager_")[1]?t.hash.split("#sp_privacy_manager_")[1]:"";t.addEventListener("click",function(t){t.preventDefault(),n.publish(d.S,e)})}(t)}},{key:"addSourcepointScriptElement",value:function(){var e=this,t=y.a.instance,n=document.createElement("script"),o=t.page&&t.page.category&&t.page.category.route?t.page.category.route:"",i=!!(t.paywall&&t.paywall.category&&t.paywall.category.type)&&"paid"===t.paywall.category.type,r=!1;this.storageObject.getItem("isInDetectionShare")?r="1"===this.storageObject.getItem("isInDetectionShare"):(r=Math.floor(101*Math.random())<=this.detectionShare,this.storageObject.setItem("isInDetectionShare",r?"1":"0"));var a=!(!t.consent||"boolean"!=typeof t.consent.disabled)&&t.consent.disabled,o=!P.a.isMobile&&!t.noAds&&!a&&!i&&r&&"partner"!==o;n.src=o?this.msgUrl:this.msgWithoutDetectionUrl,n.addEventListener("error",function(t){e.onScriptElementError(t)}),this.el.appendChild(n)}},{key:"openPrivacyManager",value:function(){var t=this.settings,e=t.siteId,t=t.privacyManagerId;e&&t&&window._sp_&&"function"==typeof window._sp_.loadPrivacyManagerModal&&(window._sp_.loadPrivacyManagerModal(t,0<arguments.length&&void 0!==arguments[0]?arguments[0]:""),this.attachPrivacyManagerResizeFix(),this.publish(d.R))}},{key:"onReceiveMessageData",value:function(t){t&&t.msgDescription&&(Lt.instance.message=t.msgDescription)}},{key:"onMessageReady",value:function(){this.publish(d.P,Lt.instance.message)}},{key:"onMessageChoiceSelect",value:function(t,e){e&&(this.publish(d.O,e),this.onChoiceSelect(e))}},{key:"onMessageChoiceError",value:function(t){this.publish(d.N),Lt.instance.errorOccurred=!0}},{key:"onPrivacyManagerAction",value:function(t){var e;this.detachPrivacyManagerResizeFix(),t&&t.purposeConsent&&t.vendorConsent&&("all"===t.purposeConsent&&"all"===t.vendorConsent?(e=w.d.accept_all,this.onChoiceSelect(w.c.accept_all)):"none"===t.purposeConsent&&"none"===t.vendorConsent&&(e=w.d.reject_all,this.onChoiceSelect(w.c.reject_all)),this.publish(d.Q,e))}},{key:"onPrivacyManagerCancel",value:function(){this.publish(d.Q,w.d.cancel)}},{key:"onChoiceSelect",value:function(t){this.pendingChoiceId||(t===w.c.accept_all||t===w.c.accept_some||t===w.c.reject_all?this.pendingChoiceId=t:this.publish(d.M,t))}},{key:"onConsentReady",value:function(t,e){var n,o,i,r=this;this.pendingChoiceId&&(n=this.pendingChoiceId,this.pendingChoiceId=null,n===w.c.accept_all?this.getEuconsentCookie().then(function(){var t=!0;window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.updateCookie&&(window.polygon.cookies.polygon_consent.updateCookie(!0),t=window.polygon.cookies.polygon_consent.value),t?r.publish(d.M,n):(Lt.instance.errorOccurred=!0,r.publish(d.N))}).catch(function(){Lt.instance.errorOccurred=!0,r.publish(d.N)}):n===w.c.reject_all||n===w.c.accept_some?(o=!0,window.polygon&&window.polygon.cookies&&window.polygon.cookies.polygon_consent&&"function"==typeof window.polygon.cookies.polygon_consent.updateCookie&&(window.polygon.cookies.polygon_consent.updateCookie(!1),o=!window.polygon.cookies.polygon_consent.value),i=".".concat(y.a.instance.secondLevelDomain||"spiegel",".").concat(y.a.instance.topLevelDomain||"de"),as.a.remove(w.a.euconsent.name,{domain:i}),o?this.publish(d.M,n):(Lt.instance.errorOccurred=!0,this.publish(d.N))):this.publish(d.M,n))}},{key:"onTCDataChanged",value:function(t){}},{key:"onScriptElementError",value:function(t){console.error("SourcePoint onScriptElementError",t),this.publish(d.N),Lt.instance.errorOccurred=!0}},{key:"onWindowError",value:function(t){!t.filename||t.filename!==this.msgUrl&&t.filename!==this.msgWithoutDetectionUrl||(console.error("SourcePoint onWindowError",t),this.publish(d.N),Lt.instance.errorOccurred=!0)}},{key:"getEuconsentCookie",value:function(){var n=this;return new Promise(function(t,e){n.delayedEuconsentCookieCheck(0,t,e)})}},{key:"delayedEuconsentCookieCheck",value:function(e,n,o){for(var i=this,t=100*e,r=0,a=0;r<=e;)a+=100*(r+=1);var s=setTimeout(function(){var t=as.a.get(w.a.euconsent.name);t?(clearInterval(s),n(t)):5e3<a?(console.error("Sourcepoint's euconsent-v2 cookie still not set after ".concat(a/1e3," seconds.")),clearInterval(s),o()):(clearInterval(s),i.delayedEuconsentCookieCheck(e+1,n,o))},t)}},{key:"attachPrivacyManagerResizeFix",value:function(){P.a.isMobileSafari&&(this.boundOnWindowResize||(this.boundOnWindowResize=function(){setTimeout(function(){window.scrollTo(0,1)},500)}),window.addEventListener("resize",this.boundOnWindowResize))}},{key:"detachPrivacyManagerResizeFix",value:function(){P.a.isMobileSafari&&this.boundOnWindowResize&&window.removeEventListener("resize",this.boundOnWindowResize)}},{key:"attachPrivacyManagerPullToRefreshFix",value:function(){var t;O.a.isAndroidApp&&((t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText='[id^="sp_message_container"] { overflow: visible !important; }':t.appendChild(document.createTextNode('[id^="sp_message_container"] { overflow: visible !important; }')),document.head&&t&&document.head.appendChild(t))}}],us(ds.prototype,o),ds);function ds(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ds);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=fs(ds)).call.apply(e,[this].concat(o)))||"object"!==ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).settings=JSON.parse(e.data.settings),e.storageObject=new ss.a("sourcepoint","session"),e.msgUrl=e.settings.msgUrl,e.msgWithoutDetectionUrl=e.settings.msgWithoutDetectionUrl,e.detectionShare=Number.isInteger(e.settings.detectionShare)&&0<=e.settings.detectionShare&&e.settings.detectionShare<100?e.settings.detectionShare:100,e.pendingChoiceId=null,e.init(),e}function hs(t){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function gs(t,e,n){return(gs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vs(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ms(t,e){return(ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ws=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ms(t,e)}(Os,i.Component),sc=[{key:"destroy",value:function(){gs(vs(Os.prototype),"destroy",this).call(this)}}],bs(Os.prototype,sc),Os);function Os(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Os);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i,r,r=(i=this,r=(r=vs(Os)).call.apply(r,[this].concat(n)),(t=!r||"object"!==hs(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):r).el.getAttribute("data-src"));return r&&t.el.setAttribute("src",r),"function"==typeof window.__cmp?t.publish(d.U):t.el.onload=function(){t.publish(d.U)},t}function Ss(t){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ps(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ks(t,e,n){return(ks="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Es(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _s(t,e){return(_s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_s(t,e)})(js,i.Component),dl=[{key:"onClick",value:function(t){t.preventDefault(),this.publish(d.V,this.settings.storyId)}},{key:"destroy",value:function(){this.boundOnClick&&(this.el.removeEventListener("click",this.boundOnClick),this.boundOnClick=null),ks(Es(js.prototype),"destroy",this).call(this)}}],Ps(js.prototype,dl),Yr=js;function js(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,js);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=Es(js)).call.apply(n,[this].concat(i)),(e=!n||"object"!==Ss(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).settings=JSON.parse(e.data.settings),e.settings.storyId&&(e.boundOnClick=function(t){return e.onClick(t)},e.el.addEventListener("click",e.boundOnClick)),e}function As(t){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ls(t){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ts(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t,e){return(Is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rs={android:5,IOS:11},Ar=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Is(t,e)}(Ds,i.Component),Mc=[{key:"isSupported",get:function(){var t=!1,e=P.a.isAndroid,n=P.a.isIOS,e=e?"android":n?"IOS":null,n=e?P.a["".concat(e,"Version")]:{},e=e?Rs[e]:null;return!(t=n&&n.major&&e&&n.major<e?!0:t)&&!P.a.isInternetExplorer}}],Cs((dc=Ds).prototype,[{key:"init",value:function(){var t=this;this.isInitialized||(this.player.addEventListener("ready",this.boundOnPlayerReady),this.player.addEventListener("amp-story-player-close",this.boundClose),this.player.addEventListener("noNextStory",this.boundClose),Promise.resolve().then(function(){t.publish(d.g)}))}},{key:"onActivateTriggered",value:function(t){Ds.isSupported&&t===this.settings.storyId&&this.open()}},{key:"onLayerOpened",value:function(){this.isOverlayAnimating=!1,this.player&&this.player.isReady&&(this.rewindStory(),this.player.play(),this.attachNativeControls())}},{key:"onPlayerReady",value:function(){this.playerState="STATE_PLAYER_READY",this.player.removeEventListener("ready",this.boundOnPlayerReady),this.player.add([{href:this.settings.storyUrl}]),this.attachNativeControls()}},{key:"open",value:function(){var t=this;"STATE_OPEN"!==this.state&&(this.state="STATE_OPEN",this.isInitialized||this.init(),this.publish(d.B,this),this.isOverlayAnimating=!0,this.el.classList.remove("hidden"),this.el.style.opacity=0,this.el.style.transition="opacity .25s ease-out",setTimeout(function(){t.el.style.opacity=1},0),setTimeout(this.boundOnLayerOpened,500))}},{key:"close",value:function(){var t=this;this.state="STATE_CLOSED",this.rewindStory(),this.player.pause(),this.recordStoryVisit(),this.publish(d.z,this),this.detachNativeControls(),this.isOverlayAnimating=!0,this.el.style.opacity=1,this.el.style.transition="opacity .25s ease-out",setTimeout(function(){t.el.style.opacity=0},0),setTimeout(function(){t.el.classList.add("hidden"),t.isOverlayAnimating=!1},500)}},{key:"attachNativeControls",value:function(){this.nativeControls.classList.remove("opacity-none"),this.nativeCloseButton.addEventListener("click",this.boundClose)}},{key:"detachNativeControls",value:function(){this.nativeControls.classList.add("opacity-none"),this.nativeCloseButton.removeEventListener("click",this.boundClose)}},{key:"rewindStory",value:function(){"function"==typeof this.player.rewind&&this.settings.storyUrl&&this.player.rewind(this.settings.storyUrl)}},{key:"recordStoryVisit",value:function(){var t=this.localStorageObject.getItem("visited")||[];t.indexOf(this.settings.storyId)<0&&t.push(this.settings.storyId),this.localStorageObject.setItem("visited",t)}},{key:"preventScrolling",get:function(){return!0}},{key:"expandHeader",get:function(){return!0}},{key:"playerState",get:function(){return this._playerState},set:function(t){switch(t){case"STATE_PLAYER_LOADING":this.loader.classList.toggle("hidden",!1),this.playerContainer.classList.toggle("hidden",!0),this._playerState=t;break;case"STATE_PLAYER_READY":this.loader.classList.toggle("hidden",!0),this.playerContainer.classList.toggle("hidden",!1),this._playerState=t;break;default:console.warn('StoryLayer: "'.concat(t,'" is not a valid value for playerState'))}}}]),Cs(dc,Mc),Ds);function Ds(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ds);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];i=this,r=(r=Ls(Ds)).call.apply(r,[this].concat(n)),(e=!r||"object"!==As(r)&&"function"!=typeof r?Ts(i):r).settings=JSON.parse(e.data.settings),e.localStorageObject=new ss.a("stories","local"),e.playerContainer=e.el.querySelector('[data-story-el="player-container"]'),e.player=e.el.querySelector('[data-story-el="player"]'),e.loader=e.el.querySelector('[data-story-el="loader"]'),e.nativeControls=e.el.querySelector('[data-story-el="native-controls"]'),e.nativeCloseButton=e.el.querySelector('[data-story-el="native-close-button"]'),e.isInitialized=!1,e.isOverlayAnimating=!1,e.state="STATE_CLOSED",e._playerState="STATE_PLAYER_LOADING",e.boundOnLayerOpened=function(){return e.onLayerOpened()},e.boundOnPlayerReady=function(){return e.onPlayerReady()},e.boundOnStoryNavigation=function(t){return e.onStoryNavigation(t)},e.boundClose=function(){return e.close()},e.subscribe(d.V,e.onActivateTriggered,Ts(e));var i=e.localStorageObject.getItem("visited"),r=i&&0<=i.indexOf(e.settings.storyId),i="1"===new URLSearchParams(window.location.search).get("forceStoryLayer");return Ds.isSupported&&(!r||i)&&e.open(),e}function xs(t){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ns(t,e,n){return(Ns="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zs(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qs(t,e){return(qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$r.b.use([$r.a]);var Ms=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qs(t,e)}(Us,i.Component),Qc=[{key:"init",value:function(){var t=this;this.settings=this.data.settings?JSON.parse(this.data.settings):{};var e,n=void 0===this.settings.observeFonts||this.settings.observeFonts,o=window.getComputedStyle(this.el).fontFamily.split(", ")[0];"serif"!==o&&"sans-serif"!==o&&n?(e=new Kr.a(o)).load().then(function(){t.initSwiper()},function(){t.initSwiper(),e.load(null,1e4).then(function(){t.swiper.update()},function(){console.error("".concat(o," font is not available"))})}):this.initSwiper()}},{key:"onLazyLoad",value:function(){this.init()}},{key:"initSwiper",value:function(){var t=this.el.classList.contains("swiper-container")?this.el:this.el.querySelector(".swiper-container"),e=this.el.querySelector('[data-swiper-el="prevEl"]'),n=this.el.querySelector('[data-swiper-el="nextEl"]'),o=void 0===this.settings.freeMode||this.settings.freeMode,i=void 0!==this.settings.loop&&this.settings.loop,r=void 0!==this.settings.watchOverflow&&this.settings.watchOverflow;this.swiper=new $r.b(t,{freeMode:o,roundLengths:!0,slidesPerView:"auto",loop:i,watchOverflow:r,navigation:{nextEl:n,prevEl:e,disabledClass:"hidden"},on:{init:function(){var t=Array.from(this.slides).findIndex(function(t){return t.dataset.itemActive});this.slideTo(t-1,500,!1)}}})}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),Ns(zs(Us.prototype),"destroy",this).call(this)}}],Bs(Us.prototype,Qc),Us);function Us(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Us);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=zs(Us)).call.apply(n,[this].concat(i)),(e=!n||"object"!==xs(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).dataSettings=e.data.settings?JSON.parse(e.data.settings):{},e.dataSettings.furtherReadsId&&e.subscribe(d.mb,function(t){t.furtherReadsId&&e.dataSettings.furtherReadsId===t.furtherReadsId&&e.swiper.update()}),e.dataSettings.loadLazy?(e.boundOnLazyLoad=function(t){t.target===e.el&&e.onLazyLoad()},e.el.addEventListener("lazybeforeunveil",e.boundOnLazyLoad)):e.init(),e}function Vs(t){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fs(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hs(t,e,n){return(Hs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gs(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Gs(t){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ws(t,e){return(Ws=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Js=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ws(t,e)}(Xs,i.Component),_c=[{key:"init",value:function(){var t=this;this.settings.baseURL?window.Coral&&window.Coral.Talk?this.renderTalk():this.subscribe(d.W,function(){t.renderTalk()}):console.error("Talk Base URL is undefined")}},{key:"renderTalk",value:function(){window.Coral.Talk.render(this.embedRoot,{talk:this.settings.baseURL,auth_token:as.a.get("userInfo"),asset_id:this.articleId}),this.el.querySelector('iframe[src^="'.concat(this.settings.baseURL,'"]')).style.minHeight="450px"}},{key:"destroy",value:function(){Hs(Gs(Xs.prototype),"destroy",this).call(this)}}],Fs(Xs.prototype,_c),Xs);function Xs(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Xs);for(var e,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=this,n=(n=Gs(Xs)).call.apply(n,[this].concat(i)),(t=!n||"object"!==Vs(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n).settings=JSON.parse(t.data.settings),t.articleId=t.settings.articleId||"",t.embedRoot=t.el.querySelector('[data-talk-el="embedRoot"]'),t.el.classList.contains("lazyloaded")?t.init():(t.boundInit=function(){t.init()},t.el.addEventListener("lazybeforeunveil",t.boundInit)),t}function Ys(t){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ks(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function $s(t,e,n){return($s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zs(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Zs(t){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qs(t,e){return(Qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qs(t,e)})(tc,i.Component),Et=[{key:"init",value:function(){var e=this;this.boundToggleTalk=function(t){e.toggleTalk(t)},this.el.addEventListener("click",this.boundToggleTalk)}},{key:"toggleTalk",value:function(t){t.preventDefault(),this.publish(d.fb,{id:this.data.componentId})}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundToggleTalk),$s(Zs(tc.prototype),"destroy",this).call(this)}}],Ks(tc.prototype,Et),rs=tc;function tc(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,tc);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Zs(tc)).call.apply(e,[this].concat(o)))||"object"!==Ys(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).init(),e}function ec(t){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function oc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ic(t,e,n){return(ic="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rc(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function rc(t){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ac(t,e){return(ac=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sc=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ac(t,e)}(cc,i.Component),o=[{key:"onIntersectionChanged",value:function(t){this.showToTopButton=!t[0].isIntersecting}},{key:"open",value:function(){this.overlay.classList.add("fixed"),this.talkDrawer.style.transform="translateX(0px)",this.talkDrawer.style.webkitTransform="translateX(0px)",this.talkDrawer.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.intersectionObserverTarget&&!this.intersectionObserver&&this.initIntersectionObserver(),this.publish(d.B,this),this.focusDrawer(),this.talkActive=!0}},{key:"close",value:function(){var t=this;this.overlay.classList.remove("fixed"),this.talkDrawer.style.transform="translateX(100%)",this.talkDrawer.style.webkitTransform="translateX(100%)",this.talkDrawer.addEventListener("ontransitionend",function(){t.talkDrawer.classList.add("hidden")}),this.body.classList.remove("scrollbar-none"),this.publish(d.z,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.talkActive=!1}},{key:"initIntersectionObserver",value:function(){var e=this;this.intersectionObserverTarget&&(this.intersectionObserver=new IntersectionObserver(function(t){return e.onIntersectionChanged(t)},{root:this.talkDrawer,rootMargin:"600px 0px 0px 0px"}),this.intersectionObserver.observe(this.intersectionObserverTarget))}},{key:"focusDrawer",value:function(){this.closeButton.focus()}},{key:"scrollToTop",value:function(){this.talkDrawer.scrollTo({top:0,behavior:"smooth"})}},{key:"destroy",value:function(){ic(rc(cc.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return P.a.isMobile}},{key:"showToTopButton",get:function(){return this._showToTopButton},set:function(t){t?(this.toTopButton.classList.remove("invisible"),this.toTopButton.style.transform="translateY(0px)",this.toTopButton.style.webkitTransform="translateY(0px)",this._showToTopButton=!0):(this.toTopButton.classList.add("invisible"),this.toTopButton.style.transform="translateY(100%)",this.toTopButton.style.webkitTransform="translateY(150%)",this._showToTopButton=!1)}}],nc(cc.prototype,o),cc);function cc(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,cc);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=rc(cc)).call.apply(n,[this].concat(i)),(e=!n||"object"!==ec(n)&&"function"!=typeof n?oc(t):n).id="".concat(Math.floor(1e8+9e8*Math.random())),e.hash="kommentare",e.overlay=e.el.querySelector('[data-talk-drawer-el="overlay"]'),e.closeButton=e.el.querySelector('[data-talk-drawer-el="close"]'),e.toTopButton=e.el.querySelector('[data-talk-drawer-el="toTopButton"]'),e.talkDrawer=e.el.querySelector('[data-talk-drawer-el="talkDrawer"]'),e.intersectionObserverTarget=e.el.querySelector('[data-talk-drawer-el="intersectionObserverTarget"]'),e.body=document.querySelector("body"),e.talkActive=!1,e._showToTopButton=!1,e.subscribe(d.fb,function(t){e.returnFocusElement=t&&t.id?document.querySelector('[data-component-id="'.concat(t.id,'"]')):null,e.talkActive?e.publish(d.k):e.publish(d.n,e.id)}),e.closeButton.addEventListener("click",function(t){t.preventDefault(),e.publish(d.k)}),e.toTopButton.addEventListener("click",function(){e.scrollToTop()}),e.overlay.addEventListener("click",function(){e.publish(d.k)}),qe.a.instance.register(oc(e)),window.location.hash==="#".concat(e.hash)&&e.publish(d.n,e.id),e}function lc(t){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fc(t,e,n){return(fc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pc(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yc(t,e){return(yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dc=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yc(t,e)}(hc,i.Component),dl=[{key:"destroy",value:function(){fc(pc(hc.prototype),"destroy",this).call(this)}}],uc(hc.prototype,dl),hc);function hc(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,hc);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i,r,r=(i=this,r=(r=pc(hc)).call.apply(r,[this].concat(n)),(t=!r||"object"!==lc(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):r).el.getAttribute("data-src"));return r&&t.el.setAttribute("src",r),window.Coral&&window.Coral.Talk?t.publish(d.W):t.el.onload=function(){t.publish(d.W)},t}function bc(t){return(bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vc(t,e,n){return(vc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mc(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wc(t,e){return(wc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oc(t){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pc(t,e,n){return(Pc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kc(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function kc(t){return(kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ec(t,e){return(Ec=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wc(t,e)}(Ac,i.Component),Mc=[{key:"init",value:function(){var e=this;this.settings=this.data&&this.data.settings&&JSON.parse(this.data.settings)||{},this.animationDurationInMillis=250,this.bar=this.el.querySelector('[data-toggle-el="bar"]'),this.knob=this.el.querySelector('[data-toggle-el="knob"]'),this.activated=this.settings.activated||!1,this.el.addEventListener("click",function(t){e.onClick(t)}),this.toggle(this.settings.activated)}},{key:"onClick",value:function(){this.toggle(!this.settings.activated)}},{key:"toggle",value:function(t){t?this.on():this.off(),this.settings.activated=t}},{key:"on",value:function(){this.bar.classList.remove("bg-shade-light"),this.bar.classList.add("bg-positive"),this.knob.classList.add("border-positive"),this.knob.style.transition="transform ".concat(this.animationDurationInMillis/1e3,"s"),this.knob.style.transform="translateX(30px)"}},{key:"off",value:function(){this.bar.classList.remove("bg-positive"),this.bar.classList.add("bg-shade-light"),this.knob.classList.remove("border-positive"),this.knob.style.transition="transform ".concat(this.animationDurationInMillis/1e3,"s"),this.knob.style.transform="translateX(0px)"}},{key:"destroy",value:function(){vc(mc(Ac.prototype),"destroy",this).call(this)}}],gc(Ac.prototype,Mc),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ec(t,e)}(jc,Qc=Ac),Qc=[{key:"onClick",value:function(t){var e=this;Pc(kc(jc.prototype),"onClick",this).call(this,t),setTimeout(function(){e.events[e.settings.event].set(e.settings.activated),e.publish(e.events[e.settings.event].name,{accepted:e.settings.activated})},this.animationDurationInMillis)}},{key:"init",value:function(){var e=this;Pc(kc(jc.prototype),"init",this).call(this),this.subscribe(this.events[this.settings.event].name,function(t){e.toggleAriaAndTabindex(t.accepted)})}},{key:"on",value:function(){Pc(kc(jc.prototype),"on",this).call(this),this.toggleAriaAndTabindex(this.events[this.settings.event].get)}},{key:"toggleAriaAndTabindex",value:function(t){this.settings.isActivator?(this.el.setAttribute("aria-hidden",t),this.el.setAttribute("tabindex",t?"-1":"-0")):(this.el.setAttribute("aria-hidden",!t),this.el.setAttribute("tabindex",t?"-0":"-1"))}},{key:"off",value:function(){Pc(kc(jc.prototype),"off",this).call(this),this.toggleAriaAndTabindex(this.events[this.settings.event].get),this.toggleAriaAndTabindex(q.a.instance.hasAcceptedThirdPartyConsent)}}],Sc(jc.prototype,Qc),jc);function jc(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,jc);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=kc(jc)).call.apply(e,[this].concat(o)))||"object"!==Oc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).events={default:{name:d.Z,set:function(t){return q.a.instance.setThirdPartyConsentState(t)},get:q.a.instance.hasAcceptedThirdPartyConsent},affiliate:{name:d.f,set:function(t){return q.a.instance.setAffiliateConsentState(t)},get:q.a.instance.hasAcceptedAffiliateConsent}},e.init(),e}function Ac(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ac),t=this,!(e=mc(Ac).apply(this,arguments))||"object"!==bc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function Cc(t){return(Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tc(t,e,n){return(Tc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ic(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ic(t){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rc(t,e){return(Rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rc(t,e)})(Dc,i.Component),Et=[{key:"destroy",value:function(){Tc(Ic(Dc.prototype),"destroy",this).call(this)}}],Lc(Dc.prototype,Et),o=Dc;function Dc(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Dc);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i,r,a=(i=this,(t=!(r=(a=Ic(Dc)).call.apply(a,[this].concat(n)))||"object"!==Cc(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i):r).data.settings?JSON.parse(t.data.settings):{}),i=a.clientId,r=a.tickarooId,a=t.el.querySelector("[data-tickaroo-el=container]");return window._tik&&window._tik("embedLiveblog",{container:a,clientId:i,id:r,showWebEmbeds:"consent_handling"}),t}function xc(t){return(xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Nc(t,e,n){return(Nc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zc(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function zc(t){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qc(t,e){return(qc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mc=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qc(t,e)}(Uc,i.Component),dl=[{key:"init",value:function(){var e=this;this.boundOpenToc=function(t){e.openToc(t)},this.el.addEventListener("click",this.boundOpenToc)}},{key:"openToc",value:function(t){t.preventDefault(),this.publish(d.cb,{id:this.data.componentId})}},{key:"destroy",value:function(){this.el.removeEventListener("click",this.boundOpenToc),Nc(zc(Uc.prototype),"destroy",this).call(this)}}],Bc(Uc.prototype,dl),Uc);function Uc(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Uc);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=zc(Uc)).call.apply(e,[this].concat(o)))||"object"!==xc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).init(),e}function Vc(t){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Hc(t,e,n){return(Hc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gc(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Gc(t){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wc(t,e){return(Wc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wc(t,e)})(Jc,i.Component),Qc=[{key:"init",value:function(){var e=this;this.container&&(this.subscribe(d.cb,function(t){e.returnFocusElement=t&&t.id?document.querySelector('[data-component-id="'.concat(t.id,'"]')):null,e.publish(d.n,e.id)}),this.subscribe(d.ab,function(){e.publish(d.k)}),this.subscribe(d.eb,function(){e.onToggle()}),this.closeButton&&this.closeButton.addEventListener("click",function(t){t.preventDefault(),e.publish(d.k)}),this.overlay&&this.overlay.addEventListener("click",function(){e.publish(d.k)},!!this.featureDetection.supportsPassiveEventListener&&{passive:!0}),Array.isArray(this.items)&&0<this.items.length&&this.items.forEach(function(t){t.addEventListener("click",function(t){e.onItemClicked(t)})}),qe.a.instance.register(this),window.location.hash==="#".concat(this.hash)&&this.publish(d.n,this.id))}},{key:"open",value:function(){this.state="STATE_OPEN",this.overlay&&this.overlay.classList.add("fixed"),this.container.style.transform="translateX(0px)",this.container.style.webkitTransform="translateX(0px)",this.container.classList.remove("hidden"),this.body.classList.add("scrollbar-none"),this.publish(d.B,this),-1===this.scrollTop?this.centerActiveItem():this.container.scrollTop=this.scrollTop}},{key:"close",value:function(){var t,e=this;this.state="STATE_CLOSED",this.scrollTop=this.container.scrollTop,this.overlay&&this.overlay.classList.remove("fixed"),this.container.style.transform="translateX(100%)",this.container.style.webkitTransform="translateX(100%)",this.container.addEventListener("ontransitionend",function(){e.container.classList.add("hidden")}),this.body.classList.remove("scrollbar-none"),this.publish(d.z,this),this.returnFocusElement&&this.returnFocusElement.focus(),this.pendingClickUrl&&(t=this.pendingClickUrl,this.pendingClickUrl="",window.location.assign(t))}},{key:"centerActiveItem",value:function(){var t,e,n;this.activeItem&&"function"==typeof this.activeItem.getBoundingClientRect&&(t=this.activeItem.getBoundingClientRect().top,e=this.activeItem.getBoundingClientRect().height,n=this.container.offsetHeight,(t<0||n<t+e)&&(this.container.scrollTop+=t-n/2,this.scrollTop=this.container.scrollTop))}},{key:"onItemClicked",value:function(t){O.a.isIOSApp&&t.target&&"string"==typeof t.target.href&&t.target.href&&(t.preventDefault(),this.pendingClickUrl=t.target.href),this.publish(d.k)}},{key:"onToggle",value:function(){switch(this.state){case"STATE_OPEN":this.publish(d.ab);break;case"STATE_CLOSED":this.publish(d.cb)}}},{key:"destroy",value:function(){Hc(Gc(Jc.prototype),"destroy",this).call(this)}},{key:"preventScrolling",get:function(){return P.a.isMobile}}],Fc(Jc.prototype,Qc),Et=Jc;function Jc(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Jc);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=Gc(Jc)).call.apply(e,[this].concat(o)))||"object"!==Vc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).id="".concat(Math.floor(1e8+9e8*Math.random())),e.hash="inhaltsverzeichnis",e.overlay=e.el.querySelector('[data-toc-drawer-el="overlay"]'),e.closeButton=e.el.querySelector('[data-toc-drawer-el="close"]'),e.container=e.el.querySelector('[data-toc-drawer-el="container"]'),e.activeItem=e.el.querySelector('[data-is-active="true"]'),e.items=Array.from(e.el.querySelectorAll('[data-toc-drawer-el="item"]')),e.body=document.querySelector("body"),e.pendingClickUrl="",e.scrollTop=-1,e.state="STATE_CLOSED",e.featureDetection=nr.instance,e.init(),e}function Xc(t){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yc(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Kc(t,e,n){return(Kc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$c(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function $c(t){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zc(t,e){return(Zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qc=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zc(t,e)}(el,i.Component),dl=[{key:"destroy",value:function(){Kc($c(el.prototype),"destroy",this).call(this)}}],Yc(el.prototype,dl),el),tl=n(127);function el(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,el);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o,i,r=(o=this,(o=!(i=(i=$c(el)).call.apply(i,[this].concat(e)))||"object"!==Xc(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o):i).el.querySelector("[data-tooltip-el=content]")),i=o.el.querySelector("[data-tooltip-el=trigger]");return i.addEventListener("mouseenter",function(){r.classList.remove("hidden")}),i.addEventListener("mouseleave",function(){r.classList.add("hidden")}),o}function nl(t){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ol(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function il(t,e){return!e||"object"!==nl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rl(t,e,n){return(rl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=al(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function al(t){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sl(t,e){return(sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),sl(t,e)})(cl,Rn),dl=[{key:"onLoad",value:function(){this.init()}},{key:"onError",value:function(){console.error("Unable to load VDC source"),this.publish(d.pb)}},{key:"init",value:function(){this.isInitialized||(this.publish(d.qb),this.isInitialized=!0)}},{key:"destroy",value:function(){rl(al(cl.prototype),"destroy",this).call(this)}}],ol(cl.prototype,dl),Rn=cl;function cl(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,cl);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=il(this,(t=al(cl)).call.apply(t,[this].concat(o)))).isInitialized=!1,e.settings=e.data.settings?JSON.parse(e.data.settings):{},e.settings.disableVideoDataControl?il(e):(tl.a.instance,"object"===nl(window.$AC)&&"function"==typeof window.$AC.loadConfig?e.init():(e.el.onload=function(){e.onLoad()},e.el.onerror=function(){e.onError()}),e.initSrc(),e)}function ll(t){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ul(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function fl(t,e,n){return(fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pl(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function pl(t){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yl(t,e){return(yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dl,dl=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yl(t,e)}(hl,i.Component),dl=[{key:"init",value:function(){var t=this.el.querySelector('[data-vouchers-el="advertisementLabel"]'),e=this.el.querySelector('[data-vouchers-el="vouchersContainer"]');q.a.instance.hasNoAdsAccess||(t&&t.classList.remove("hidden"),e&&e.classList.remove("hidden"))}},{key:"destroy",value:function(){fl(pl(hl.prototype),"destroy",this).call(this)}}],ul(hl.prototype,dl),hl);function hl(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,hl);for(var t,e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=this,(e=!(e=(e=pl(hl)).call.apply(e,[this].concat(o)))||"object"!==ll(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).init(),e}function bl(t){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function vl(t,e,n){return(vl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ml(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function ml(t){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wl(t,e){return(wl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wl(t,e)})(Ol,i.Component),i=[{key:"onLazyLoad",value:function(){try{this.replacer.parentNode.appendChild(document.createRange().createContextualFragment(this.widgetContent))}catch(t){this.replacer.parentNode.insertAdjacentHTML("beforeend",this.widgetContent)}this.replacer.classList.add("hidden"),this.replacer.remove()}},{key:"destroy",value:function(){this.el.removeEventListener("lazybeforeunveil",this.boundOnLazyLoad),vl(ml(Ol.prototype),"destroy",this).call(this)}}],gl(Ol.prototype,i),i=Ol;function Ol(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Ol);for(var t,n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=this,n=(n=ml(Ol)).call.apply(n,[this].concat(i)),(e=!n||"object"!==bl(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n).replacer=e.el.querySelector('[data-widget-el="replacer"]'),e.widgetContent=e.replacer.dataset.content,e.boundOnLazyLoad=function(t){t.target===e.el&&e.onLazyLoad()},e.el.addEventListener("lazybeforeunveil",e.boundOnLazyLoad),e}window.polygon=window.polygon||{};var Sl=new f({AdblockLayer:Nt,AffiliateBox:Ht,AmpStoryPlayerSource:Kt,AppButton:oe,AppUpdate:ue,AppStoreRedirect:ge,BestsellerAccordionSection:Te,BreakpointListener:ze,ConsentAcceptReject:We,ConsentLayer:Qe,CreativeEmbed:an,Datawrapper:yn,Defer:e,Embed:r,EmbedQuizSource:Mn,Error404InfoBox:Jn,EventObserver:to,FeatureBar:I,FooterAccordionSection:ho,FurtherReads:So,GalleryLayer:Lo,GalleryTeaser:No,GujSource:Go,HeiseWidgetSource:ri,HeaderBar:Zo,HTMLEmbed:pi,IframeNewsletter:Ei,Iframe:vi,Image:Ii,JWPlayerSource:qi,MagazineImage:Wi,MenuAccordionSection:$i,MenuDrawer:fr,MultiboxAccordionSection:vr,NativeAudioPlayerOmny:D,NativeVideo:Xr,NavBar:ia,Outbrain:pa,PartnerBar:ga,PodlovePlayerLoader:Sa,PodLoveWebPlayerOmny:Ba,PodloveWebplayerSource:Ga,PreviewOmny:Za,PreviewScrolling:ke,SourcePoint:ys,SourcePointSource:ws,StoryActivator:Yr,StoryLayer:Ar,SwiperBar:Ms,Talk:Js,TalkActivator:rs,TalkDrawer:sc,TalkSource:dc,ThirdPartyConsentToggleButton:_c,Tickaroo:o,TocActivator:Mc,TocDrawer:Et,Tooltip:Qc,VideoDataControlSource:Rn,Vouchers:dl,Widget:i});window.polygon.deferredComponents={BeforeAfterSlider:function(){return n.e(1).then(n.bind(null,215))},CappingLayer:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,220))},ImageZoomLayer:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,216))},PinchToZoom:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,217))},JWPlayer:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,221))},Search:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,218))}},x.then(function(){window.polygon.componentLoader&&"function"==typeof window.polygon.componentLoader.destroy?window.polygon.componentLoader.destroy(Sl):window.polygon.componentLoader=Sl;var t=Q.instance;h.a.instance,T.instance,lt.a.instance,qe.a.instance,t.sendPageLoadEvent(),window.polygon.componentLoader.subscribe(d.u,function(t,e){(new it).execute(t,e)}),n.e(0).then(n.t.bind(null,206,7)).then(function(t){t=t.default;new t({elements_selector:".lazyload",use_native:!0,unobserve_entered:!0,unobserve_completed:!0}),new t({elements_selector:".lazytrigger",use_native:!1,unobserve_entered:!0,unobserve_completed:!0,callback_enter:function(t){t.dispatchEvent(new Event("lazybeforeunveil"))},callback_loaded:function(t){t.dispatchEvent(new Event("lazyloaded"))}})}).catch(function(){}),window.polygon.componentLoader.scan()})},45:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n(4),n(5),n(27),n(125),n(57),n(58),n(48),n(3),n(21),n(36),n(28);var o=n(0);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r,a=Symbol("INSTANCE"),s=Symbol("SINGELTONENFORCER"),c=(r=[{key:"instance",get:function(){return this[a]||(this[a]=new l(s)),this[a]}}],e=[{key:"init",value:function(){var e=this;window.history&&(window.history.state&&Number.isInteger(window.history.state.index)?this.currentIndex=window.history.state.index:(this.currentIndex=window.history.length-1,window.history.replaceState({layerServiceId:this.id,index:this.currentIndex,hash:"",isInitState:!0},""))),this.boundOnKeyDown=function(t){return e.onKeyDown(t)},window.document.addEventListener("keydown",this.boundOnKeyDown),window.polygon&&window.polygon.componentLoader&&(window.polygon.componentLoader.subscribe(o.k,this.onCloseLayerTriggered,this),window.polygon.componentLoader.subscribe(o.n,this.onOpenLayerTriggered,this)),window.addEventListener("popstate",function(t){return e.onPopstate(t)})}},{key:"register",value:function(t){t&&"string"==typeof t.id&&"string"==typeof t.hash&&"function"==typeof t.close&&"function"==typeof t.open?this.registeredLayers[t.id]=t:console.error("LayerService registration failed: layer needs to implement an id and hash string and a close and open function")}},{key:"addLayerToBrowserHistory",value:function(t){return(!this.currentHash||this.currentHash!==t.hash)&&(window.history?window.history.state&&window.history.state.hash&&window.history.state.hash===t.hash?(this.currentHash=t.hash||"",e={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash},window.history.replaceState(e,"",t.hash?"#".concat(t.hash):"")):(this.currentIndex<this.browserHistoryLayers.length-1&&(this.browserHistoryLayers=this.browserHistoryLayers.slice(0,this.currentIndex+1)),this.currentIndex+=1,this.currentHash=t.hash||"",e={layerServiceId:this.id,index:this.currentIndex,hash:this.currentHash},window.history.pushState(e,"",this.currentHash?"#".concat(this.currentHash):"")):this.currentIndex+=1,this.browserHistoryLayers[this.currentIndex]=t,this.openLayer(this.currentIndex),this.onActiveLayerChanged(),!0);var e}},{key:"openLayer",value:function(t){t=this.browserHistoryLayers[t];return!(!t||"function"!=typeof t.open||(t.open(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.m,t.id),0))}},{key:"closeLayer",value:function(t){t=this.browserHistoryLayers[t];return!(!t||"function"!=typeof t.close||(t.close(),window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.l,t.id),0))}},{key:"back",value:function(){void 0!==this.browserHistoryLayers[this.currentIndex]&&(window.history&&"function"==typeof window.history.go?window.history.go(-1):(this.closeLayer(this.currentIndex),this.currentIndex=0<=this.currentIndex?this.currentIndex-1:-1,this.onActiveLayerChanged()))}},{key:"goTo",value:function(t){if(this.currentIndex>t){for(var e=0<=t?t+1:0,n=this.currentIndex;e<=n;n--)this.closeLayer(n);this.currentIndex=t,this.onActiveLayerChanged()}else if(this.currentIndex<t){for(var o=0<=this.currentIndex?this.currentIndex+1:0;o<=t;o++)this.openLayer(o);this.currentIndex=t,this.onActiveLayerChanged()}}},{key:"restoreLayerByHash",value:function(e){var n=this,o=!1;Object.keys(this.registeredLayers).forEach(function(t){t=n.registeredLayers[t];o||t.hash!==e||(n.addLayerToBrowserHistory(t),o=!0)})}},{key:"onPopstate",value:function(t){var e,n,o;t&&t.state&&(o=n="",t.state.layerServiceId===this.id?(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,n=t.state&&t.state.hash?t.state.hash:"",t.state&&t.state.isInitState&&this.windowHash&&window.history&&window.history.replaceState("","",window.location.pathname+window.location.search)):(e=t.state&&Number.isInteger(t.state.index)?t.state.index:void 0,this.currentHash!==this.windowHash?o=this.windowHash:window.history&&window.history.replaceState("","",window.location.pathname+window.location.search)),void 0!==e&&this.currentIndex!==e&&(this.goTo(e),this.currentHash=n),o&&this.restoreLayerByHash(o))}},{key:"onKeyDown",value:function(t){t.defaultPrevented||"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||void 0===this.browserHistoryLayers[this.currentIndex]||(t.preventDefault(),this.back())}},{key:"onOpenLayerTriggered",value:function(t){this.registeredLayers[t]&&"function"==typeof this.registeredLayers[t].close&&"function"==typeof this.registeredLayers[t].open&&this.addLayerToBrowserHistory(this.registeredLayers[t])}},{key:"onCloseLayerTriggered",value:function(){this.back()}},{key:"onActiveLayerChanged",value:function(){var t=this.browserHistoryLayers[this.currentIndex];t&&t.id&&window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.j,t.id)}},{key:"windowHash",get:function(){return window.location.hash?window.location.hash.substring(1):""}}],i((n=l).prototype,e),i(n,r),l);function l(t){if(function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),t!==s)throw new Error("Instantiation failed: Use BrowserHistoryService.instance instead of new.");this.registeredLayers={},this.browserHistoryLayers=[],this.currentIndex=window.history?0:-1,this.currentHash="",this.id=Date.now(),this.init()}},62:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n(4),n(5),n(3);var o=n(0);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=Symbol("INSTANCE"),a=Symbol("SINGELTONENFORCER"),s=(e=[{key:"instance",get:function(){return this[r]||(this[r]=new c(a)),this[r]}}],i((n=c).prototype,[{key:"init",value:function(){var n=this;"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,function(t,e){e&&t&&t.eventStatus&&n.lastEventStatus!==t.eventStatus&&(n.lastEventStatus=t.eventStatus,n.onTCDataChanged(t,e))}):console.warn("TCData window.__tcfapi is not available!")}},{key:"onTCDataChanged",value:function(t){var n=this;(this._tcData=t)&&t.eventStatus&&("tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus)&&window.__tcfapi("getCustomVendorConsents",2,function(t,e){e&&n.onCustomVendorConsentsReceived(t)})}},{key:"onCustomVendorConsentsReceived",value:function(t){this._ready=!0,this._customVendorData=t,window.polygon&&window.polygon.componentLoader&&window.polygon.componentLoader.publish(o.Y,t)}},{key:"isPurposeGranted",value:function(t){var e=!1;if(this._customVendorData&&this._customVendorData.consentedPurposes&&Array.isArray(this._customVendorData.consentedPurposes)&&0<this._customVendorData.consentedPurposes.length)for(var n=0;n<this._customVendorData.consentedPurposes.length;n++)if(this._customVendorData.consentedPurposes[n]._id&&this._customVendorData.consentedPurposes[n]._id===t){e=!0;break}return e}},{key:"isVendorGranted",value:function(t){return!!(this._customVendorData&&this._customVendorData.grants&&this._customVendorData.grants[t]&&this._customVendorData.grants[t].vendorGrant)}},{key:"ready",get:function(){return this._ready}},{key:"tcData",get:function(){return this._tcData}},{key:"customVendorData",get:function(){return this._customVendorData}}]),i(n,e),c);function c(t){if(function(t){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),t!==a)throw new Error("Instantiation failed: Use TCDataModel.instance instead of new.");this._ready=!1,this._tcData=void 0,this._customVendorData=void 0,this.lastEventStatus=void 0,this.init()}}});

$(document).ready(function(){$(".find-right-product-nudge").css("display","none");var s=[],c=[],e=$("#productFilterJson").val();$.getJSON(e,function(e){if(console.log(e.ProductList.length),0<e.ProductList.length)for(var t=0;t<e.ProductList.length;t++)c.push(e.ProductList[t].MainCategory);for(var o=function(e){for(var t=[],o=0,n=e.length;o<n;o++)-1==t.indexOf(e[o])&&t.push(e[o]);return t}(c).sort(),t=0;t<o.length;t++)void 0!==o[t]&&""!=o[t]&&$(".intSelectOne").append("<option value='"+o[t].replace(/\s+/g,"-").toLowerCase()+"'>"+o[t]+"</option>");for(var n,t=0;t<e.ProductList.length;t++)"/html/en/index.html"==document.location.pathname?(n=e.ProductList[t].Link.replace("/find-right-product","/html/en/find-right-product").replace(".page",".html"),s.push({category:e.ProductList[t].MainCategory,subCategory:e.ProductList[t].SubCategory,link:n})):s.push({category:e.ProductList[t].MainCategory,subCategory:e.ProductList[t].SubCategory,link:e.ProductList[t].Link});var r,l,a=$(".findProductIframe").attr("src");if(console.log("defaultiframe: "+a),""!=a&&0<s.length)for(t=0;t<s.length;t++)a==s[t].link&&(r=s[t].category,l=s[t].subCategory),r===s[t].category&&$(".intSelectTwo").append("<option value='"+s[t].subCategory.replace(/\s+/g,"-").toLowerCase()+"'>"+s[t].subCategory+"</option>");console.log("defaultCategory: "+r),console.log("defaultSubcategory: "+l),$("#intSelectOne-button .ui-selectmenu-text").text(r),$("#intSelectTwo-button .ui-selectmenu-text").text(l),$(".intSelectOne").selectmenu({change:function(e,t){var o=[],n=$(".intSelectOne option:selected").val();if($(".intSelectTwo").html('<option value="">Select</option>'),""!=n&&0<s.length){for(var r=0;r<s.length;r++)n==s[r].category.replace(/\s+/g,"-").toLowerCase()&&o.push(s[r].subCategory);if(o.length<2){console.log("subCategoryArrs length: "+o.length),console.log("subCategoryArrs: "+o);for(var l,a=0;a<s.length;a++)n==s[a].category.replace(/\s+/g,"-").toLowerCase()&&($(".intSelectTwo").append("<option value='"+s[a].subCategory.replace(/\s+/g,"-").toLowerCase()+"'>"+s[a].subCategory+"</option>"),l=s[a].link,console.log(l),$(".findProductIframe").attr("src",l),$(".iframe-container .loader").show(),$(".find-right-product-nudge").css("display","none"))}if(1<o.length){console.log("subCategoryArrs length: "+o.length);for(var c=0;c<s.length;c++)n==s[c].category.replace(/\s+/g,"-").toLowerCase()&&$(".intSelectTwo").append("<option value='"+s[c].subCategory.replace(/\s+/g,"-").toLowerCase()+"'>"+s[c].subCategory+"</option>")}}$(".intSelectTwo").selectmenu("refresh"),o.length<2&&$("#intSelectTwo-button .ui-selectmenu-text").text(o)}}),$(".intSelectTwo").selectmenu({change:function(e,t){var o=$(".intSelectOne option:selected").val(),n=$("#intSelectOne-button .ui-selectmenu-text").text(),o="Select"==o&&o!=n?n.toLowerCase():o,r=$(".intSelectTwo option:selected").val();if(o&&""!=r&&0<s.length)for(var l,a=0;a<s.length;a++)o.replace(/\s+/g,"-").toLowerCase()==s[a].category.replace(/\s+/g,"-").toLowerCase()&&r==s[a].subCategory.replace(/\s+/g,"-").toLowerCase()&&(l=s[a].link,console.log(l),$(".findProductIframe").attr("src",l),$(".iframe-container .loader").show(),$(".find-right-product-nudge").css("display","none"),$(".iframeloader").css("display","block"))}})})});

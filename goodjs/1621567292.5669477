(window.webpackJsonp=window.webpackJsonp||[]).push([[397],{1458:function(e,t,r){"use strict";r.r(t),r.d(t,"loadSource",(function(){return T})),r.d(t,"requestCriteoSlotsBid",(function(){return E}));var o=r(6),a=r.n(o),n=r(72),c=r.n(n),i=r(11),d=r.n(i),l=r(113),s=r.n(l),u=r(5),p=r(1140),g=r.n(p),w=r(62),S=r(778),b=r(776),f=r(1175),m=r(770),y=r(18),C=r(1134),h=r(780);const O=Object(y.createLogger)("criteoSlot-saga");function*T(){const e=yield Object(u.i)(S.p),t=yield Object(u.i)(h.f);!g()(e)&&t&&(yield Object(u.c)(m.a,f.b.CRITEO_SLOT.script,{async:""}))}function E(e,{allowCriteoSlot:t,adModules:r=[],config:o,requestManager:n,mrTimeout:i}){if(O.debug("Start of requestCriteoSlotBid",JSON.parse(s()(n))),O.debug("criteoSlot timeout =",i),t){const t=d()(r).call(r,e=>{const{props:{id:t}}=e;return t}),{placements:l=[],lineItemRanges:u}=o,p=c()(l).call(l,e=>a()(t).call(t,e.slotid));if(!p.length)return void(n.atf.criteoSlot=!0);const g=i||b.a;window.Criteo=window.Criteo||{},window.Criteo.placements=p,window.Criteo.events=window.Criteo.events||[],window.Criteo.events.push(()=>{window.Criteo.SetLineItemRanges(u),performance.mark("CRITEO-SLOT-BIDDER_MARK_BID-START"),window.Criteo.RequestBids({placements:p},()=>{window.Criteo.SetDFPKeyValueTargeting(),n.atf.criteoSlot=!0,Object(C.b)(O,"CRITEO-SLOT-BIDDER_MARK_BID-FINISH"),O.debug("criteoSlot callback",JSON.parse(s()(n))),n.atf.amzn&&n.atf.prebid&&n.atf.criteoSlot&&e(w.a)},g)})}else n.atf.criteoSlot=!0,n.atf.amzn&&n.atf.prebid&&n.atf.criteoSlot&&e(w.a)}},770:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return p}));r(42);var o=r(10),a=r.n(o),n=r(8),c=r.n(n),i=r(38),d=r.n(i),l=r(18);const s=Object(l.createLogger)("script-loader"),u=(e,t={})=>new d.a(r=>{var o;const n=document.createElement("script");n.type="text/javascript",n.src=e,c()(o=a()(t)).call(o,e=>{n[e]=t[e]}),n.onerror=()=>{t.onerror&&(s.debug(t.onerror,"Calling onerror attribute for script "+e),t.onerror()),s.error("Error occurred loading script "+e),r()},n.onload=()=>{var o;(o=n).readyState&&"loaded"!==o.readyState&&"complete"!==o.readyState||(t.onload&&(s.debug(t.onload,"Calling onload attribute for script "+e),t.onload()),s.debug("Successfully loaded script "+e),r())},n.readyState&&(n.onreadystatechange=()=>{"loaded"!==n.readyState&&"complete"!==n.readyState||(t.onreadystatechange&&(s.debug(t.onreadystatechange,"Calling onreadystatechange attribute for script "+e),t.onreadystatechange()),r())}),s.debug("Loading script "+e),document.getElementsByTagName("head")[0].appendChild(n)}),p=(e,t)=>new d.a(r=>{const o="jsonp_callback_"+Math.round(1e5*Math.random()),a=document.createElement("script"),n=e.replace(/=\?/,"="+o);window[o]=e=>{window[o]=null,s.debug("Successful callback for "+n),r(e)},a.async=t,a.src=n,a.onerror=()=>{s.error("Error occurred loading script "+n),r()},s.debug("Loading script "+n),document.getElementsByTagName("head")[0].appendChild(a)})}}]);
//# sourceMappingURL=397.criteoSlot.ecb7f8447f3bcd892949.js.map
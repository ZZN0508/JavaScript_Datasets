var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.BreadcrumbWidget=function(i){"use strict";return i(document).ready(function(){var r=!1,e=!1;i(".breadcrum-container li").each(function(){if(i(this).hasClass("txn-item")&&!b$.portal.isLogin){var e;e=(e=window.location.pathname.split("/").slice(0,4)).join("/"),i(this).children("a").attr("href",e);var r=e.split("/"),t=r[r.length-1];i(this).children("a").attr("title",t),i(this).children("a").html(t),i(this).removeClass("txn-item")}}),i(".hdfc-portal-breadcrum li").each(function(){var e=i(this).children("a").attr("href");null==e||null==e||""==e?(i(this).children("a").removeAttr("href"),i(this).children("a").addClass("unclickable")):(i(this).addClass("clickable"),i(this).next().addClass("darkArrow")),r||(i("li").hasClass("thirdLevelLeftMenu")?!i(this).children("a").hasClass("unclickable")&&25<i(this).find("i").text().length&&!i(this).next().children("a").hasClass("unclickable")&&25<i(this).next().find("i").text().length&&(r=!0,i(this).remove()):!i(this).children("a").hasClass("unclickable")&&27<i(this).find("i").text().length&&!i(this).next().children("a").hasClass("unclickable")&&27<i(this).next().find("i").text().length&&(r=!0,i(this).remove()))}),gadgets.pubsub.subscribe("brdmPlcLoaded",function(){e||i(window).width()<768&&(i(".breadcrumb.hdfc-portal-breadcrum").clone().appendTo(".hdfc-mobile-brdcrm"),e=!0)})}),i(window).load(function(){require(["features/%5BBBHOST%5D/theme/core/bootstrap3/js/tooltip"],function(){require(["features/%5BBBHOST%5D/theme/core/bootstrap3/js/transition"],function(){i('[data-toggle="tooltip"]').tooltip();var e=i(".breadcrumb.hdfc-portal-breadcrum li").length,r=screen.width,t=i(".breadcrumb.hdfc-portal-breadcrum").width()>i(".top-lead-section .section-details").width(),a=i(".breadcrumb.hdfc-portal-breadcrum").width()>i(".bp-container.c-template-hdfc-middle-section .container").width();function l(){r<960&&768<=r&&(4==e?i(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-4-ipad"):5<=e?i(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-5-ipad"):i(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis")),960<=r&&(4==e?i(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-4"):5<=e?i(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis-level-5"):i(".breadcrum-container .breadcrumb.hdfc-portal-breadcrum li a, .breadcrum-container .breadcrumb.hdfc-portal-breadcrum li span").addClass("ellipsis"))}(t&&i(".top-lead-section .section-image").length||t&&a)&&l()})})}),{start:function(d){var e,r,t,a,l=d.getPreference("isRequired");i(d.htmlNode).find(".breadcrum-container").removeClass("not-needed").addClass(l),d.helpTexts={navStartResolver:{text:"Absolute: Set the path from your current context to a level in the hierarchy. Relative: Set the number of ancestors to show in the path."},rootLevel:{text:"Highest level in the hierarchy that shows in the breadcrumb"},distance:{text:"Number of ancestors (steps) to show above the current context, Only numbers allowed"}},"true"===bd.designMode&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage&&(e=d.getPreference("template").replace(/\$\(contextRoot\)/,b$.portal.config.serverRoot),(r={links:[{title:"[Level up]",children:[{title:"[Level up]",children:[{title:"[Current page]",children:[]}]}]}]}).links[0].children[0].children[0].children.isEmpty=!0,t=be.utils.loadTemplateByUrl(e,!1),a=be.utils.loadTemplateByUrl(e.replace(/mustache_top_level/,"mustache_mid_level"),!1),d.body.innerHTML=Mustache.render(t,r,{mustache_mid_level:a})),d.addEventListener("preferences-form",function(e){for(var r=b$.portal.portalModel.filterPreferences(d.model.preferences.array),t=r.length-1;0<=t;t--)if("Template"==r[t].label)for(var a=d.getPreference("templateList").split(","),l=0,i=0;l<a.length;l++,i++)r[t].inputType.options[i]={label:a[l],value:a[l+1]},l++}),d.addEventListener("preferenceFormReady",function(e){var r=e.target;i(r.htmlNode).hasClass("bd-breadcumb-preference-form")||i(r.htmlNode).addClass("bd-breadcumb-preference-form");function t(e){"fixedContextual"==e?(i(r.map.distance.htmlNode).closest("tr").addClass("breadcrumb-hidden-pref"),i(r.map.rootLevel.htmlNode).closest("tr").removeClass("breadcrumb-hidden-pref")):(i(r.map.rootLevel.htmlNode).closest("tr").addClass("breadcrumb-hidden-pref"),i(r.map.distance.htmlNode).closest("tr").removeClass("breadcrumb-hidden-pref"))}setTimeout(function(){t(d.getPreference("navStartResolver"))},0),r.map.navStartResolver.childNodes.forEach(function(e,r){e.addEventListener("mousedown",function(e){var r=e.target.getAttribute("value");t(r)})})}),d.addEventListener("preferencesSaved",function(e){e.target===this&&e.target.refreshHTML()})}}}(jQuery);
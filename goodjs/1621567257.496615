(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["header~21994537"],{"552bf":function(e,t,i){"use strict";var r,n,o,a=i("7ca7d"),c=i("f6898"),l=i("b0067"),u=i("2f135"),s=i("96089"),p=i("85bb7"),f=i("69250");var b,d,v,h,y,g,m,E=(r=(0,a.default.Service)(f.a),n=function(){function BaseConfigEpic(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseConfigEpic),function _initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"baseConfigServices",o,this)}return BaseConfigEpic.prototype.getAnchorRecruit=function getAnchorRecruit(e){var t=this;return e.ofType(p.a).pipe(Object(l.switchMap)(function(){return t.baseConfigServices.checkRecruitStatus()?t.baseConfigServices.fetchAnchorRecruit():Object(s.of)({data:"{}"})}),Object(c.map)(p.e.setAnchorRecruit),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},BaseConfigEpic}(),o=function _applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(n.prototype,"baseConfigServices",[r],{enumerable:!0,initializer:null}),n),j=i("eeb07"),O=i("97a1f"),w=i("eb3e2"),S=i("6dfa7"),C=i("b30ed"),D=i("47838"),z=i("8f268"),_=i("66f9d"),k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function userInfoEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function userInfoEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var P,I,T,M=a.default.Service,N="//webconf.douyucdn.cn/resource/common/property_info.json",F=function findFrameImg(e,t){if(e&&e.length>0)for(var i=0;i<e.length;i++)if(t[e[i]]&&8===+t[e[i]].property_type)return t[e[i]].web_pic;return""},B=function handleNobleData(e){var t=e.hs,i=e.nbl_spl,r=void 0===i?{}:i,n=e.gold,o=void 0===n?{}:n,a=r.pn,c=void 0===a?{}:a,l=r.nr,u=void 0===l?{}:l,s=r.enl,p=void 0===s?0:s,f=r.enpl,b=void 0===f?0:f,d=t||0,v=r.lv||0,h=c.pl||0,y=r.et||0,g=o.ngets||0,m=o.ngb||0,E=r.trial||0,j=c.conf_pn||r.conf||{},O=(h>0?h:0)||(v>0?v:0),w=(new Date).getTime()/1e3,S=y>0?Math.ceil((y-w)/3600/24):0,C=y>0?new Date(1e3*y):0,D=C?C.getFullYear()+"-"+(C.getMonth()+1)+"-"+C.getDate():"",z=!v&&h,k=+p||0,P=+b||0,I=j.nbn,T=(j.symbol||{}).web_pic2;return{hasHiddenRights:u.rmh>0?1:0,hasNobleBarrageRights:u.ic>0?1:0,hasLinkMikeRights:u.mic>0?1:0,hasCustomGiftRights:u.fg>0?1:0,hasDefenseMuteRights:u.bp>0?1:0,isHidden:d>0?1:0,isTrial:E,nobleLevel:v,nobleProtectLevel:h,levelToShow4Rights:O,nobleEndSeconds:y,nobleGoldEndSeconds:g,isInProtected:z,lowProtectNobleLevel:P,lowNobleLevel:k,nobleGold:Object(_.a)(m/100,2),nobleName:I,nobleIcon:T,expireDate:D,daysLeft:S}},G=(b=M(w.DataCenter.common),d=M(z.a),v=M(D.a),h=function(){function UserPaneEpics(){!function userInfoEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserPaneEpics),userInfoEpics_initDefineProp(this,"common",y,this),userInfoEpics_initDefineProp(this,"commonDataServices",g,this),userInfoEpics_initDefineProp(this,"userInfoService",m,this)}return UserPaneEpics.prototype.getHelper=function getHelper(e){var t=this;return e.ofType(S.a).pipe(Object(l.switchMap)(function(){return Object(j.forkJoin)(w.httpClient.get(w.Empty,"/lapi/member/api/getInfoForRoom",{client_type:0,d:+new Date}),w.jsonpClient.get(String,N,"getPropertyInfo"))}),Object(c.map)(function(e){if(0===+e[0].error&&e[0].msg){var i=e[0].msg||{},r=i.specialHelper||{};if(t.commonDataServices.updateHelper(r),0===+e[1].error&&e[1].data){var n=O.GSON.parse(e[1].data).property_info,o=F(i.ail,n);t.commonDataServices.updateFrame(o)}}return S.c.defaultAction()}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},UserPaneEpics.prototype.getInfo=function getInfo(e){var t=this;return e.ofType(S.b).pipe(Object(l.switchMap)(function(){return Object(j.forkJoin)(w.httpClient.get(w.Empty,"/lapi/member/api/getInfo",{client_type:0,d:+new Date}),w.jsonpClient.get(String,N,"getPropertyInfo"))}),Object(c.map)(function(e){if(0===+e[0].error&&e[0].msg){var i=C.a.fromJSON(e[0].msg),r=e[0].msg,n=r.info,o=void 0===n?{}:n,a=r.gold,c="undefined"===typeof a?"undefined":k(a),l="string"===c||"number"===c?{totalGold:a}:{totalGold:a.gold,nobilityIsFreeze:a.ingf,nobleGold:a.ngb,nobilityEffectiveTime:a.ngbts,nobilityExpirationTime:a.ngets};t.commonDataServices.updateIdentity({data:i.authenticationData}),i.expInfo&&t.commonDataServices.updateUserExp({data:i.expInfo}),t.commonDataServices.updateTotalGold({data:l.totalGold}),t.commonDataServices.updateSilver({data:i.silver});var u=e[0].msg||{},s=B(u);t.commonDataServices.updateNobelInfo({data:s});var p=u.specialHelper||{};if(t.commonDataServices.updateHelper(p),0===+e[1].error&&e[1].data){var f=O.GSON.parse(e[1].data).property_info,b=F(o.ail,f);t.commonDataServices.updateFrame(b)}}return S.c.defaultAction()}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},UserPaneEpics}(),y=userInfoEpics_applyDecoratedDescriptor(h.prototype,"common",[b],{enumerable:!0,initializer:null}),g=userInfoEpics_applyDecoratedDescriptor(h.prototype,"commonDataServices",[d],{enumerable:!0,initializer:null}),m=userInfoEpics_applyDecoratedDescriptor(h.prototype,"userInfoService",[v],{enumerable:!0,initializer:null}),h),R=i("9a290"),H=i("0e5ed");var A,L,x,U=(P=(0,a.default.Service)(H.a),I=function(){function CategoryEpics(){!function categoryEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CategoryEpics),function categoryEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"CategoryService",T,this)}return CategoryEpics.prototype.getCategory=function getCategory(e){return e.ofType(R.a).pipe(Object(l.switchMap)(this.CategoryService.getCategory),Object(c.map)(R.c.receiveCategory),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},CategoryEpics}(),T=function categoryEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(I.prototype,"CategoryService",[P],{enumerable:!0,initializer:null}),I),J=i("90ae6"),W=i("6eec5");var Y,$,q,Q,K,V=(A=(0,a.default.Service)(W.a),L=function(){function GameEpics(){!function gameEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GameEpics),function gameEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"GameService",x,this)}return GameEpics.prototype.getGame=function getGame(e){return e.ofType(J.a).pipe(Object(l.switchMap)(this.GameService.getGame),Object(c.map)(J.c.receiveGame),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},GameEpics}(),x=function gameEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(L.prototype,"GameService",[A],{enumerable:!0,initializer:null}),L),X=i("13c85"),Z=i("8dd4e"),ee=i("058f8"),te=i("dd0fa");function searchEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function searchEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var ie,re,ne,oe=a.default.Service,ae=(Y=oe(te.a),$=oe(w.DataCenter.common),q=function(){function SearchEpics(){!function searchEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SearchEpics),searchEpics_initDefineProp(this,"searchService",Q,this),searchEpics_initDefineProp(this,"common",K,this)}return SearchEpics.prototype.getRecommendList=function getRecommendList(e){var t=this;return e.ofType(ee.g).pipe(Object(X.debounce)(function(){return Object(Z.timer)(350)}),Object(l.switchMap)(function(e){return t.searchService.getRecommendFromBackend(e)}),Object(c.map)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return void 0===e?{}:e}),Object(c.map)(ee.h.receiveRecommendList),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},SearchEpics.prototype.getHotList=function getHotList(e){var t=this;return e.ofType(ee.f).pipe(Object(l.switchMap)(this.searchService.getHotListFromBackend),Object(c.map)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,i=void 0===e?[]:e;return t.searchService.setLocalHotList(i),t.common.push("SearchData",{hotList:i}),i}),Object(c.map)(ee.h.receiveHotList),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},SearchEpics.prototype.getDefault=function getDefault(e){var t=this;return e.ofType(ee.b).pipe(Object(l.switchMap)(function(){return w.httpClient.get(String,"/japi/bdrcm/apinc/searchWordRec",null,{noCache:!0})}),Object(c.map)(function(e){var i=(e||{}).error;if(e&&!i){var r=e.data,n=void 0===r?{}:r,o=O.GSON.parse(n)||{},a=o.searchWordRec,c=void 0===a?[]:a,l=o.requestInterval,u=void 0===l?0:l,s=o.maxTimes,p=void 0===s?0:s,f=o.slideInterval,b=void 0===f?0:f,d=o.delayTime;return t.searchService.setLocalDefaultWords(c,u,p,d,b),ee.h.receiveDefalutList(c)}return ee.h.searchDefalut()}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},SearchEpics}(),Q=searchEpics_applyDecoratedDescriptor(q.prototype,"searchService",[Y],{enumerable:!0,initializer:null}),K=searchEpics_applyDecoratedDescriptor(q.prototype,"common",[$],{enumerable:!0,initializer:null}),q),ce=i("c8aea"),le=i("09dcd"),ue=i("d2100");var se,pe,fe,be=(ie=(0,a.default.Service)(ue.a),re=function(){function HistoryEpics(){!function historyEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HistoryEpics),function historyEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"historyService",ne,this)}return HistoryEpics.prototype.findCount=function findCount(e){return e.ofType(le.a).pipe(Object(ce.throttleTime)(2e4),Object(l.switchMap)(this.historyService.getHistory),Object(c.map)(le.c.receiveHistory),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},HistoryEpics}(),ne=function historyEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(re.prototype,"historyService",[ie],{enumerable:!0,initializer:null}),re),de=i("d86a1"),ve=i("fd8a3"),he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var ye,ge,me,Ee=(se=(0,a.default.Service)(ve.a),pe=function(){function FollowEpics(){!function followEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FollowEpics),function followEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"followService",fe,this)}return FollowEpics.prototype.findCount=function findCount(e){var t=this;return e.ofType(de.a).pipe(Object(ce.throttleTime)(200),Object(l.switchMap)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload,i=void 0===e?{}:e,r=i.page,n=void 0===r?1:r,o=i.update,a=void 0===o?0:o;return Object(j.forkJoin)(t.followService.getFollow({page:n}),Object(s.of)({update:a}))}),Object(c.map)(function(e){var i=e[0],r=(i=void 0===i?{}:i).data,n=void 0===r?{}:r,o=e[1].update;return t.followService.setData(he({loaded:1,tabType:"normalFollow",update:o},n)),de.d.defaultAction()}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},FollowEpics.prototype.getSpecialFollow=function getSpecialFollow(e){var t=this;return e.ofType(de.c).pipe(Object(ce.throttleTime)(200),Object(l.switchMap)(function(e){var i=e.payload;return t.followService.getSpecialFollow(i)}),Object(c.map)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,i=void 0===e?{}:e;return t.followService.setData(he({loaded:1,tabType:"specialFollow"},i)),de.d.defaultAction()}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},FollowEpics}(),fe=function followEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(pe.prototype,"followService",[se],{enumerable:!0,initializer:null}),pe),je=i("9b0dc"),Oe=i.n(je),we=i("038fe"),Se=i("7b06b"),Ce=i("6795c");var De,ze,_e,ke="//webconf.douyucdn.cn/",Pe=(ye=(0,a.default.Service)(Ce.a),ge=function(){function NobleInfoEpic(){!function nobleInfoEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleInfoEpic),function nobleInfoEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"nobleInfoService",me,this),this.config={rights:ke+"/resource/noble/copywriting/web",baseConfig:ke+"/resource/noble/global/web.json",setEnterRoomHidden:"/member/noble/setHideStatus",nobleSuperProgress:"/member/noble/progress"}}return NobleInfoEpic.prototype.getNobleRightsConfig=function getNobleRightsConfig(e){var t=this;return e.ofType(we.c).pipe(Object(l.switchMap)(function(e){var i=e.payload;return w.jsonpClient.get(Se.b,""+t.config.rights+i+".json","nobleCopywriting"+i)}),Object(c.map)(function(e){var i=e.data,r=(void 0===i?[]:i).filter(function(e){return e.usable}).slice(0,5);return t.nobleInfoService.setRightsConfig(r),r}),Object(c.map)(we.e.defaultAction),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},NobleInfoEpic.prototype.getNobleSuperProgress=function getNobleSuperProgress(e){var t=this;return e.ofType(we.d).pipe(Object(l.switchMap)(function(){return w.httpClient.get(String,t.config.nobleSuperProgress)}),Object(c.map)(function(e){var i=(e||{}).error;if(e&&!i){var r=e.data,n=void 0===r?{}:r,o=O.GSON.parse(n)||{};t.nobleInfoService.setNobleSuperProgress(o)}return{type:""}}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},NobleInfoEpic.prototype.getNobleBaseConfig=function getNobleBaseConfig(e){var t=this;return e.ofType(we.b).pipe(Object(l.switchMap)(function(){return w.jsonpClient.get(Se.a,t.config.baseConfig,"nobleGlobalConfig")}),Object(c.map)(function(e){var i=e.data,r={promotionIcon:i.promotionIcon,moreIcon:i.moreIcon};return t.nobleInfoService.setNobleBaseConfig(r),r}),Object(c.map)(we.e.defaultAction),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},NobleInfoEpic.prototype.fetchNobleEnterRoomHidden=function fetchNobleEnterRoomHidden(e){var t=this;return e.ofType(we.a).pipe(Object(l.switchMap)(function(e){var i=e.payload;return w.httpClient.post(String,t.config.setEnterRoomHidden,Oe.a.stringify({type:1,rid:0,status:i}))}),Object(c.map)(function(e){var i=(e||{}).error;return e&&!i&&t.nobleInfoService.setEnterRoomHiddenState(),e}),Object(c.map)(we.e.defaultAction),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},NobleInfoEpic}(),me=function nobleInfoEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(ge.prototype,"nobleInfoService",[ye],{enumerable:!0,initializer:null}),ge),Ie=i("84ca0"),Te=i("3fc9f"),Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var Ne=(De=(0,a.default.Service)(Ie.a),ze=function(){function NobleBuyModalEpics(){!function nobleBuyModalEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBuyModalEpics),function nobleBuyModalEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}(this,"nobleBuyModalServices",_e,this)}return NobleBuyModalEpics.prototype.getConfignwByEpic=function getConfignwByEpic(e){var t=this;return e.ofType(Te.a).pipe(Object(l.switchMap)(function(){return Object(j.forkJoin)(w.httpClient.get(String,"/noble/confignw"),w.httpClient.get(String,"/lapi/member/api/getInfo",{client_type:0}),w.httpClient.get(String,"/api/v1/timestamp"),w.jsonpClient.get(String,"//webconf.douyucdn.cn/resource/noble/activity.json","nobleActivity"),w.jsonpClient.get(String,"//webconf.douyucdn.cn/resource/noble/snsw.json","noble"))}),Object(c.map)(function(e){var i=e[3].data||[],r=i[0]&&"string"===typeof i[0]?O.GSON.parse(i[0]):{},n=+e[2].data||0,o=O.GSON.parse(e[4].data)||{},a=!1,c=["--\u6708--\u65e5","--\u6708--\u65e5"];n>r.stime&&n<r.etime&&(a=!0,c=[Object(_.b)(r.stime).M+"\u6708"+Object(_.b)(r.stime).d+"\u65e5",Object(_.b)(r.etime).M+"\u6708"+Object(_.b)(r.etime).d+"\u65e5"]);e[0].data,e[1]&&e[1].msg;return e?Me({},t.nobleBuyModalServices.formateData(e),{getNobleSwitch:a,openForFriendData:o,getNobleAct:Me({},r,{nobleLv:+r.lvl,timeArray:c})}):{}}),Object(l.switchMap)(function(e){return e?Object(j.forkJoin)(Object(s.of)(e),t.nobleBuyModalServices.loadNobleConData(e.selectedLevel)):Object(s.of)(null)}),Object(c.map)(function(e){var t=e[0];return t.nobleConData=e[1].data||[],Te.j.receiveNobleBuyData(t)}))},NobleBuyModalEpics}(),_e=function nobleBuyModalEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(ze.prototype,"nobleBuyModalServices",[De],{enumerable:!0,initializer:null}),ze),Fe=i("f067a"),Be=i("80456");var Ge,Re,He,Ae,Le,xe=w.DataCenter.global.get("$SYS"),Ue=function(){function TaskEpics(){!function taskEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TaskEpics)}return TaskEpics.prototype.getTask=function getTask(e){return e.ofType(Fe.a).pipe(Object(l.switchMap)(function(){return w.jsonpClient.get(Object(w.Nullable)(Be.a),xe.webconfUrl+"/resource/mgame/task/nav_popup_task.json","navPopupPromoteTask")}),Object(c.map)(function(e){return e.data&&e.data.gIcon?e.data:{}}),Object(c.map)(Fe.c.receiveTaskData))},TaskEpics}(),Je=i("4e6a9");function matchFocusEpics_initDefineProp(e,t,i,r){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function matchFocusEpics_applyDecoratedDescriptor(e,t,i,r,n){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var We=a.default.Service,Ye=(Ge=We(w.DataCenter.localStorage),Re=We(w.DataCenter.global),He=function(){function MatchFocusEpics(){!function matchFocusEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MatchFocusEpics),matchFocusEpics_initDefineProp(this,"localStorage",Ae,this),matchFocusEpics_initDefineProp(this,"global",Le,this)}return MatchFocusEpics.prototype.findCount=function findCount(e){return e.ofType(Je.b).pipe(Object(l.switchMap)(function(){return w.httpClient.post(String,"/wgapi/livenc/match/getFocusConfig")}),Object(c.map)(function(e){return 0===e.error?Je.e.receiveMatchFocusData(e.data?O.GSON.parse(e.data):null):Je.e.receiveMatchFocusData(null)}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},MatchFocusEpics.prototype.getFocusDot=function getFocusDot(e){var t=this;return e.ofType(Je.a).pipe(Object(l.switchMap)(function(){var e=(t.global.get("USER_INFO")||{}).uid,i=void 0===e?0:e,r=t.localStorage.get("follow_show_dot_"+i),n=t.localStorage.get("follow_show_dot_value_"+i),o=t.global.get("headerActiveMenu"),a={error:0,data:{reddot:0,fromCache:!0}};return r?Object(s.of)(a):"follow"===o?(t.localStorage.set("follow_show_dot_"+i,1,86400),Object(s.of)(a)):null!==n?(a.data.reddot=+n||0,Object(s.of)(a)):w.httpClient.get(String,"/wgapi/livenc/liveweb/follow/reddot")}),Object(c.map)(function(e){var i=e.error,r=e.data,n="string"===typeof r?O.GSON.parse(r):r,o=(t.global.get("USER_INFO")||{}).uid,a=void 0===o?0:o;return 0===+i&&(n.fromCache||t.localStorage.set("follow_show_dot_value_"+a,n.reddot,600)),Je.e.setFocusDot(n.reddot||0)}),Object(u.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},MatchFocusEpics}(),Ae=matchFocusEpics_applyDecoratedDescriptor(He.prototype,"localStorage",[Ge],{enumerable:!0,initializer:null}),Le=matchFocusEpics_applyDecoratedDescriptor(He.prototype,"global",[Re],{enumerable:!0,initializer:null}),He),$e=i("0bef9");var qe=function(){function MultiAccountEpics(){!function multiAccountEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MultiAccountEpics)}return MultiAccountEpics.prototype.getEntrance=function getEntrance(e){return e.ofType($e.a.getEntrance.type).pipe(Object(l.switchMap)(function(){return w.httpClient.get(String,"/member/panel/userInfo/getInfo",null,{noCache:!0})}),Object(c.map)(function(e){var t=e.error,i=e.data;if(0===+t){var r=i?O.GSON.parse(i):{};if(r&&r.accountSwitch)return $e.a.setData({isShowAccountEntrance:!0})}return $e.a.setData({isShowAccountEntrance:!1})}))},MultiAccountEpics}(),Qe=a.default.combineEpicsClass;t.a=Qe(E,G,U,V,ae,be,Ee,Pe,Ne,Ue,Ye,qe)},"9d99c":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var r="10010010100",n=+i("eb3e2").DataCenter.global.get("$DATA.topNav.isHideGame")||0?[]:[{text:"\u6e38\u620f",link:"//wan.douyu.com",hasDrop:!0,targetBlank:!0,dysCode:"13010010100Q"}],o="/";t.b=[{text:"\u9996\u9875",link:o,hasDrop:!1,targetBlank:!1,type:"home",dysCode:"130100101016"},{text:"\u76f4\u64ad",link:"/directory/all",hasDrop:!1,targetBlank:!1,type:"live",dysCode:r+"1"},{text:"\u5206\u7c7b",link:"/directory",hasDrop:!0,targetBlank:!1,type:"directory",dysCode:r+"2"},{text:"\u89c6\u9891",link:"//v.douyu.com",hasDrop:!0,targetBlank:!0,dysCode:r+"3"}].concat(n,[{text:"\u9c7c\u5427",link:"//yuba.douyu.com",hasDrop:!1,targetBlank:!0,dysCode:r+"4"}])},a9459:function(e,t,i){"use strict";t.a=[{link:"/member",text:"\u4e2a\u4eba\u4e2d\u5fc3",icon:"center",badge:!0},{link:"/directory/myFollow",text:"\u6211\u7684\u5173\u6ce8",icon:"attention"},{link:"/member/pm",text:"\u7ad9\u5185\u4fe1",icon:"message",badge:!0},{link:"/special/guide/anchor",text:"\u6211\u8981\u76f4\u64ad",icon:"guide"}]},d9276:function(e,t,i){"use strict";i("52801");var r=i("7ca7d"),n=i("eb3e2"),o=i("ba269");n.DataCenter.event.load().subscribe(function(){var e=new o.a;window.HeaderApp=e,e.push=function(t){return e.registerApp.apply(e,t)},r.default.render(e,document.getElementById("js-header"))})}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/header~21994537_e0f7ef5.js.map
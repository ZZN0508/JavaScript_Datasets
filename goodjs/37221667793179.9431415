(()=>{var n={2855:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Access=e.AccessKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.ADMINPREVIEW=new a("ADMINPREVIEW"),t.ALL=new a("ALL"),t.DISABLED=new a("DISABLED"),t.USERPREVIEW=new a("USERPREVIEW"),t.NEED_VALIDATION=new a("NEED_VALIDATION"),t}e.AccessKind=a,e.Access=new o}.apply(e,n))||(t.exports=n)},3968:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdType=e.AdKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.AD_BANNER=new a("AD_BANNER"),t.AD_SPONSORPOST=new a("AD_SPONSORPOST"),t.AD_TRAFFIC=new a("AD_TRAFFIC"),t.AD_VIDEO=new a("AD_VIDEO"),t.AD_RAW_VIDEO=new a("AD_RAW_VIDEO"),t}e.AdKind=a,e.AdType=new o}.apply(e,n))||(t.exports=n)},9800:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Datasource=e.DatasourceKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.ADVENTORI=new a("ADVENTORI"),t.JIVOX=new a("JIVOX"),t.FLASHTALKING=new a("FLASHTALKING"),t.APPNEXUS=new a("APPNEXUS"),t.CRITEO=new a("CRITEO"),t.LOCAL=new a("LOCAL"),t.NEXTPERF=new a("NEXTPERF"),t.SSP=new a("SSP"),t.SSP_ADIANT=new a("SSP_ADIANT"),t.SSP_ADOTMOB=new a("SSP_ADOTMOB"),t.SSP_APPNEXUS=new a("SSP_APPNEXUS"),t.SSP_BIDTELLECT=new a("SSP_BIDTELLECT"),t.SSP_MEDIASMART=new a("SSP_MEDIASMART"),t.SSP_NETADGE=new a("SSP_NETADGE"),t.SSP_POWERLINKS=new a("SSP_POWERLINKS"),t.SSP_PULSEPOINT=new a("SSP_PULSEPOINT"),t.SSP_RHYTHMONE=new a("SSP_RHYTHMONE"),t.SSP_STACKADAPT=new a("SSP_STACKADAPT"),t.SSP_STUB=new a("SSP_STUB"),t.SSP_TABMO=new a("SSP_TABMO"),t.SSP_ZEMANTA=new a("SSP_ZEMANTA"),t.SSP_ZEBESTOF=new a("SSP_ZEBESTOF"),t.SSP_AVID=new a("SSP_AVID"),t.VAST=new a("VAST"),t.VAST_LOCAL=new a("VAST_LOCAL"),t}e.DatasourceKind=a,e.Datasource=new o}.apply(e,n))||(t.exports=n)},9610:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdError=e.AdErrorKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.SERVER_ERROR=new a(1),t.MODIFIER_ERROR=new a(2),t.NO_CAMPAIGN=new a(3),t.EMPTY_CAMPAIGN_REQUEST=new a(4),t.NO_LANDING=new a(5),t.NO_PLACEMENT=new a(6),t.MISSING_ASSETS=new a(7),t}e.AdErrorKind=a,e.AdError=new o}.apply(e,n))||(t.exports=n)},7005:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntegrationInsertion=e.IntegrationInsertionKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.AFTER=new a("AFTER"),t.APPEND=new a("APPEND"),t.BEFORE=new a("BEFORE"),t.PREPEND=new a("PREPEND"),t.REPLACE=new a("REPLACE"),t}e.IntegrationInsertionKind=a,e.IntegrationInsertion=new o}.apply(e,n))||(t.exports=n)},5573:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeIntegration=e.NativeIntegrationKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.COMMENT=new a("COMMENT"),t.INJECTOR=new a("INJECTOR"),t.NONE=new a("NONE"),t.SPONSOR_COMMENT=new a("SPONSOR_COMMENT"),t.SPONSOR_INJECTOR=new a("SPONSOR_INJECTOR"),t.TEMPLATE=new a("TEMPLATE"),t.WIDGET=new a("WIDGET"),t.PREMIUM=new a("PREMIUM"),t}e.NativeIntegrationKind=a,e.NativeIntegration=new o}.apply(e,n))||(t.exports=n)},1964:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lang=e.LangKind=e.LangEnum=void 0;var r,i=(r=n.Enum,l(o,r),o);function o(){var t=null!==r&&r.apply(this,arguments)||this;return t.EN=new s("EN"),t.FR=new s("FR"),t.PT=new s("PT"),t.ES=new s("ES"),t.IT=new s("IT"),t}e.LangEnum=i;var a,s=(a=n.EnumElement,l(c,a),c);function c(){return null!==a&&a.apply(this,arguments)||this}e.LangKind=s,e.Lang=new i}.apply(e,n))||(t.exports=n)},7070:function(t,e,n){var r,S=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.EventKind=e.OnEventPartnerType=e.OnEventPartnerKind=e.OnEventGuard=e.OnEventGuardKind=e.OnEventType=e.OnEventKind=void 0;var r,i,o=(i=n.Enum,S(c,i),c),a=(r=n.EnumElement,S(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.JAVASCRIPT_CODE=new a("JAVASCRIPT_CODE"),t.JAVASCRIPT_URL=new a("JAVASCRIPT_URL"),t.PIXEL_URL=new a("PIXEL_URL"),t.PARTNER_PIXEL_URL=new a("PARTNER_PIXEL_URL"),t.PARTNER_JAVASCRIPT_URL=new a("PARTNER_JAVASCRIPT_URL"),t.HTML_CODE=new a("HTML_CODE"),t}e.OnEventKind=a,e.OnEventType=new o;var l,u,o=(u=n.Enum,S(h,u),h),p=(l=n.EnumElement,S(d,l),d);function d(){return null!==l&&l.apply(this,arguments)||this}function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.ALWAYS=new p("ALWAYS"),t.HAVE_CAMPAIGN=new p("HAVE_CAMPAIGN"),t.NO_CAMPAIGN=new p("NO_CAMPAIGN"),t}e.OnEventGuardKind=p,e.OnEventGuard=new o;var f,g,o=(g=n.Enum,S(v,g),v),m=(f=n.EnumElement,S(y,f),y);function y(){return null!==f&&f.apply(this,arguments)||this}function v(){var t=null!==g&&g.apply(this,arguments)||this;return t.METRICS_NT_VC=new m("METRICS_NT_VC"),t}e.OnEventPartnerKind=m,e.OnEventPartnerType=new o;var E,T,o=(T=n.Enum,S(w,T),w),b=(E=n.EnumElement,S(_,E),_);function _(){return null!==E&&E.apply(this,arguments)||this}function w(){var t=null!==T&&T.apply(this,arguments)||this;return t.AVAIL=new b("AVAIL"),t.CAP=new b("CAP"),t.CLICK=new b("CLICK"),t.CLOSE=new b("CLOSE"),t.DISPLAY=new b("DISPLAY"),t.DISPLAY_SITE=new b("DISPLAY_SITE"),t.GET=new b("GET"),t.IMPRESSION=new b("IMPRESSION"),t.INSERTION=new b("INSERTION"),t.INTERACTION1=new b("INTERACTION1"),t.INTERACTION2=new b("INTERACTION2"),t.INTERACTION3=new b("INTERACTION3"),t.INVALID=new b("INVALID"),t.INVALID_BLANK=new b("INVALID_BLANK"),t.INVALID_SOLVE=new b("INVALID_SOLVE"),t.INVENTORY=new b("INVENTORY"),t.INVENTORY_PASSBACK=new b("INVENTORY_PASSBACK"),t.INVIEW_OPENED=new b("INVIEW_OPENED"),t.INVIEW_IMPRESSION=new b("INVIEW_IMPRESSION"),t.INVIEW_VISIBLE_IMPRESSION=new b("INVIEW_VISIBLE_IMPRESSION"),t.LEAD=new b("LEAD"),t.LEAD_2=new b("LEAD_2"),t.LEAD_3=new b("LEAD_3"),t.MAKE=new b("MAKE"),t.NATIVE_ACTION=new b("NATIVE_ACTION"),t.NATIVE_REMOVE=new b("NATIVE_REMOVE"),t.PLACEMENT_MATCH=new b("PLACEMENT_MATCH"),t.PLACEMENT_MATCH_BROWSER=new b("PLACEMENT_MATCH_BROWSER"),t.PLAYLIST_CLICK=new b("PLAYLIST_CLICK"),t.REDIRECTION=new b("REDIRECTION"),t.RELOAD=new b("RELOAD"),t.SHARE_FACEBOOK=new b("SHARE_FACEBOOK"),t.SHARE_GOOGLEPLUS=new b("SHARE_GOOGLEPLUS"),t.SHARE_LINKEDIN=new b("SHARE_LINKEDIN"),t.SHARE_MAIL=new b("SHARE_MAIL"),t.SHARE_MOREINFO=new b("SHARE_MOREINFO"),t.SHARE_PINTEREST=new b("SHARE_PINTEREST"),t.SHARE_TWITTER=new b("SHARE_TWITTER"),t.SPONSORPOST_INSERTION=new b("SPONSORPOST_INSERTION"),t.SPONSORPOST_PREVIEW_CLICK=new b("SPONSORPOST_PREVIEW_CLICK"),t.TIMESPENT=new b("TIMESPENT"),t.VALID=new b("VALID"),t.VALID_IMAGE_LEAD=new b("VALID_IMAGE_LEAD"),t.VALID_LEAD=new b("VALID_LEAD"),t.VALID_PASSTHROUGH=new b("VALID_PASSTHROUGH"),t.VALID_SOLVE=new b("VALID_SOLVE"),t.VALID_VIDEO=new b("VALID_VIDEO"),t.VERIFY=new b("VERIFY"),t.VERIFY_AJAX=new b("VERIFY_AJAX"),t.VIDEO_000=new b("VIDEO_000"),t.VIDEO_025=new b("VIDEO_025"),t.VIDEO_050=new b("VIDEO_050"),t.VIDEO_075=new b("VIDEO_075"),t.VIDEO_100=new b("VIDEO_100"),t.VIDEO_ACCEPT_INVITATION=new b("VIDEO_ACCEPT_INVITATION"),t.VIDEO_CLICK=new b("VIDEO_CLICK"),t.VIDEO_CLOSE=new b("VIDEO_CLOSE"),t.VIDEO_COLLAPSE=new b("VIDEO_COLLAPSE"),t.VIDEO_CREATIVE_VIEW=new b("VIDEO_CREATIVE_VIEW"),t.VIDEO_EXIT_FULLSCREEN=new b("VIDEO_EXIT_FULLSCREEN"),t.VIDEO_EXPAND=new b("VIDEO_EXPAND"),t.VIDEO_FULLSCREEN=new b("VIDEO_FULLSCREEN"),t.VIDEO_MUTE=new b("VIDEO_MUTE"),t.VIDEO_PAUSE=new b("VIDEO_PAUSE"),t.VIDEO_PROGRESS=new b("VIDEO_PROGRESS"),t.VIDEO_RESUME=new b("VIDEO_RESUME"),t.VIDEO_REWIND=new b("VIDEO_REWIND"),t.VIDEO_SKIP=new b("VIDEO_SKIP"),t.VIDEO_UNMUTE=new b("VIDEO_UNMUTE"),t.VIDEO_DISPLAY=new b("VIDEO_DISPLAY"),t.VISIBLE_IMPRESSION=new b("VISIBLE_IMPRESSION"),t.VISIBLE_INSERTION=new b("VISIBLE_INSERTION"),t.VPAID_ERROR=new b("VPAID_ERROR"),t.INVENTORY_PASSBACK_PUBLISHER=new b("INVENTORY_PASSBACK_PUBLISHER"),t.INVENTORY_PASSBACK_GENERIC=new b("INVENTORY_PASSBACK_GENERIC"),t.REDIR_BACK=new b("REDIR_BACK"),t.TIMESPENT_ON_PAGE=new b("TIMESPENT_ON_PAGE"),t.TIMESPENT_ON_BB=new b("TIMESPENT_ON_BB"),t.NI_VISIBLE_IMPRESSION=new b("NI_VISIBLE_IMPRESSION"),t.NI_VISIBLE_INSERTION=new b("NI_VISIBLE_INSERTION"),t.VIEWABLE_MRC50=new b("VIEWABLE_MRC50"),t.VIEWABLE_MRC100=new b("VIEWABLE_MRC100"),t.VIEWABLE_VIDEO50=new b("VIEWABLE_VIDEO50"),t}e.EventKind=b,e.Event=new o}.apply(e,n))||(t.exports=n)},7614:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Opener=e.OpenerKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.BANNER_IN_IMAGE=new a("BANNER_IN_IMAGE"),t.CAPTCHA=new a("CAPTCHA"),t.LIGHTBOX=new a("LIGHTBOX"),t.REDIRECT=new a("REDIRECT"),t.SPONSORPOST=new a("SPONSORPOST"),t.FULLSCREEN=new a("FULLSCREEN"),t.INVIEW=new a("INVIEW"),t}e.OpenerKind=a,e.Opener=new o}.apply(e,n))||(t.exports=n)},6990:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PassbackType=e.PassbackKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.GENERIC=new a("GENERIC"),t.PUBLISHER=new a("PUBLISHER"),t}e.PassbackKind=a,e.PassbackType=new o}.apply(e,n))||(t.exports=n)},7698:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectionTarget=e.RedirectionTargetKind=e.RedirectionTargetEnum=void 0;var r,i=(r=n.Enum,l(o,r),o);function o(){var t=null!==r&&r.apply(this,arguments)||this;return t.SELF=new s("SELF"),t.SELF_WITH_TAB=new s("SELF_WITH_TAB"),t.TAB=new s("TAB"),t}e.RedirectionTargetEnum=i;var a,s=(a=n.EnumElement,l(c,a),c);function c(){return null!==a&&a.apply(this,arguments)||this}e.RedirectionTargetKind=s,e.RedirectionTarget=new i}.apply(e,n))||(t.exports=n)},5565:function(t,e,n){var r,E=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalVideo=e.InternalVideoKind=e.ImageQuality=e.ImageQualityKind=e.ResourceOrigin=e.ResourceOriginKind=void 0;var r,i,o=(i=n.Enum,E(c,i),c),a=(r=n.EnumElement,E(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.YOUTUBE=new a("YOUTUBE"),t.DAILYMOTION=new a("DAILYMOTION"),t.EXTERNAL=new a("EXTERNAL"),t.INTERNAL=new a("INTERNAL"),t}e.ResourceOriginKind=a,e.ResourceOrigin=new o;var l,u,o=(u=n.Enum,E(h,u),h),p=(l=n.EnumElement,E(d,l),d);function d(){return null!==l&&l.apply(this,arguments)||this}function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.NORMAL=new p("NORMAL"),t.LOW=new p("LOW"),t}e.ImageQualityKind=p,e.ImageQuality=new o;var f,g,o=(g=n.Enum,E(v,g),v),m=(f=n.EnumElement,E(y,f),y);function y(){return null!==f&&f.apply(this,arguments)||this}function v(){var t=null!==g&&g.apply(this,arguments)||this;return t.FLV=new m("FLV"),t.MP4=new m("MP4"),t.WEBM=new m("WEBM"),t}e.InternalVideoKind=m,e.InternalVideo=new o}.apply(e,n))||(t.exports=n)},2806:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectorType=e.SelectorKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.CSS=new a("CSS"),t.JAVASCRIPT=new a("JAVASCRIPT"),t.SCRIPT=new a("SCRIPT"),t}e.SelectorKind=a,e.SelectorType=new o}.apply(e,n))||(t.exports=n)},8472:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sharing=e.SharingKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.FACEBOOK=new a("FACEBOOK"),t.GOOGLE_PLUS=new a("GOOGLE_PLUS"),t.LINKEDIN=new a("LINKEDIN"),t.MAIL=new a("MAIL"),t.MORE_INFO=new a("MORE_INFO"),t.PINTEREST=new a("PINTEREST"),t.TWITTER=new a("TWITTER"),t}e.SharingKind=a,e.Sharing=new o}.apply(e,n))||(t.exports=n)},7545:function(t,e,n){var r,f=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreviewTranslation=e.PreviewTranslationKind=e.SponsoTranslation=e.SponsoTranslationKind=void 0;var r,i,o=(i=n.Enum,f(c,i),c),a=(r=n.EnumElement,f(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.POSTCONTENT=new a("POSTCONTENT"),t.SPONSOR=new a("SPONSOR"),t.TITLE=new a("TITLE"),t}e.SponsoTranslationKind=a,e.SponsoTranslation=new o;var l,u,o=(u=n.Enum,f(h,u),h),p=(l=n.EnumElement,f(d,l),d);function d(){return null!==l&&l.apply(this,arguments)||this}function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.CALLTOACTION=new p("CALLTOACTION"),t.CATEGORY=new p("CATEGORY"),t.DESCRIPTION=new p("DESCRIPTION"),t.LEGAL=new p("LEGAL"),t.PLAYLIST_TITLE=new p("PLAYLIST_TITLE"),t.POSTCONTENT=new p("POSTCONTENT"),t.SPONSOR=new p("SPONSOR"),t.SUBTITLE=new p("SUBTITLE"),t.TITLE=new p("TITLE"),t}e.PreviewTranslationKind=p,e.PreviewTranslation=new o}.apply(e,n))||(t.exports=n)},1491:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OmnitagTrigger=e.OmnitagTriggerKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.CALL=new a("CALL"),t.LOAD=new a("LOAD"),t}e.OmnitagTriggerKind=a,e.OmnitagTrigger=new o}.apply(e,n))||(t.exports=n)},4920:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeUITrigger=e.NativeUITriggerKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.CLICK=new a("CLICK"),t.CLICK_CLOSE=new a("CLICK_CLOSE"),t.LOAD=new a("LOAD"),t.MOUSE_OVER=new a("MOUSE_OVER"),t.SCROLL=new a("SCROLL"),t.VIEWABLE=new a("VIEWABLE"),t.TOUCH=new a("TOUCH"),t}e.NativeUITriggerKind=a,e.NativeUITrigger=new o}.apply(e,n))||(t.exports=n)},5831:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoFormat=e.VideoFormatKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.ADREADER=new a("ADREADER"),t.FEED=new a("FEED"),t}e.VideoFormatKind=a,e.VideoFormat=new o}.apply(e,n))||(t.exports=n)},6811:function(t,e,n){var r,f=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetDisplayMode=e.WidgetDisplayModeKind=e.IntegrationWidget=e.IntegrationWidgetKind=void 0;var r,i,o=(i=n.Enum,f(c,i),c),a=(r=n.EnumElement,f(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.CREATIVE_TEMPLATE_1=new a("CREATIVE_TEMPLATE_1"),t.CREATIVE_TEMPLATE_2=new a("CREATIVE_TEMPLATE_2"),t.CREATIVE_TEMPLATE_3=new a("CREATIVE_TEMPLATE_3"),t.CREATIVE_TEMPLATE_4=new a("CREATIVE_TEMPLATE_4"),t}e.IntegrationWidgetKind=a,e.IntegrationWidget=new o;var l,u,o=(u=n.Enum,f(h,u),h),p=(l=n.EnumElement,f(d,l),d);function d(){return null!==l&&l.apply(this,arguments)||this}function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.DEFAULT=new p("DEFAULT"),t.STORY=new p("STORY"),t.VIDEO=new p("VIDEO"),t}e.WidgetDisplayModeKind=p,e.WidgetDisplayMode=new o}.apply(e,n))||(t.exports=n)},432:(t,e,n)=>{var C=n(6887),n=[n,e,n(4834),n(8236),n(4503),n(6761),n(7659),n(5738),n(1190),n(9610),n(4354),n(7757),n(6322),n(4220),n(1777),n(8175),n(9800),n(7070),n(6399),n(8552),n(6990),n(6322)];void 0===(n=function(t,e,y,f,s,h,o,v,c,g,m,E,T,b,l,_,n,u,w,r,a,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Create=e.Backend=e.AjaxBackend=void 0;var i=(d.prototype.callOmniTag=function(e,n,r){var i=this,t=document.location.href;parent!==window&&(t=document.referrer),e.Debug=window.__AYL_DEBUG_UID__||null,e.Origin=document.location.protocol+"//"+document.location.host,e.Url=(""+(e.Url||t)).substring(0,1500),e.RefererUrl=document.referrer.substring(0,1500);t=document.querySelector("link[rel='canonical']");t&&(e.CanonicalUrl=t.getAttribute("href").substring(0,1500));function o(t){i.customIntegration=r,b.logger.log(b.LogLevel.INFO,"Placement JSON retreived."),i.loadPlacement(t)}function a(){i.customIntegration=r,b.logger.log(b.LogLevel.INFO,"Error retreiving placement config."),i.noAd(g.AdError.SERVER_ERROR,null)}this.getGDPRParamsForPlacement("",this.checkIfPrebidContext(),function(t){t.ScriptTagParams&&(e.gdpr=t.ScriptTagParams.gdpr,e.gdpr_consent_string=t.ScriptTagParams.gdpr_consent_string,e.gdpr_consent=t.ScriptTagParams.gdpr_consent,e.usp_consent_string=t.ScriptTagParams.usp_consent_string),n?n("GET","/omniTag",e,o,a,!0):i.ajax("GET","/omniTag",e,null,o,a,!0)})},d.prototype.loadPlacement=function(t){var n,r,i=this;0===t.length&&(b.logger.log(b.LogLevel.INFO,"No Placement."),this.noAd(g.AdError.NO_PLACEMENT));for(var o=this,e=0,a=t;e<a.length;e++)!function(t){0<t.length&&(n=l.omnitagSchema.cast(t[0]),c.TriggerEvent(u.Event.PLACEMENT_MATCH_BROWSER,n),b.logger.log(b.LogLevel.INFO,"Placement match event sent."));function e(){r=m.campaignSchema.cast(t[0]),i.checkIfBrokerOrPrebidContext()&&c.TriggerEvent(u.Event.AVAIL,n),i.loadCampaign(r)}o.customIntegration?e():s.checkIntegration(n,e,function(){b.logger.log(b.LogLevel.INFO,"Cannot find matching placement.")})}(a[e])},d.prototype.insertCampaign=function(t,e){this.customIntegration=e;e=l.omnitagSchema.cast(t);c.TriggerEvent(u.Event.PLACEMENT_MATCH_BROWSER,e),this.checkIfBrokerOrPrebidContext()&&c.TriggerEvent(u.Event.AVAIL,e),this.loadCampaign(m.campaignSchema.cast(t))},d.prototype.accessAttempt=function(t){return this.nativeAttempts[t]},d.prototype.remove=function(t){for(var e in this.nativeAttempts)if(this.nativeAttempts.hasOwnProperty(e)){var n=this.nativeAttempts[e];if(t&&n.GetPlacement()!==t)continue;n.Remove(),delete this.nativeAttempts[e]}},d.prototype.loadCampaign=function(t){t.Disabled?this.noAd(g.AdError.NO_CAMPAIGN,t):t.DataSource!==n.Datasource.LOCAL?this.callModifier(t):this.insertAd(t)},d.prototype.insertAd=function(t){b.logger.setConfiguration(t);var e,n=t.Attempt;this.nativeAttempts[n]||(this.nativeAttempts[n]||(this.nativeAttempts[n]=new r.NativeAttempt),this.customIntegration&&this.customIntegration.insertAd&&(this.customIntegration.insertAd(t),this.customIntegration.insertAd=null,!this.customIntegration.adContainer))||(0===this.injectionCount&&this.checkIfBrokerOrPrebidContext()&&c.TriggerEvent(u.Event.INVENTORY,t,t.Campaign),this.syncPartnerDone||(this.synchronizeVisitor(t),this.syncPartnerDone=!0),"e2a82912438eaa7d2f234f778f82c274"!==(e=t.Campaign)&&(window.AylServed||(window.AylServed={ServedCampaigns:[],ServedKinds:[]}),window.AylServed.ServedCampaigns.push(e),window.AylServed.ServedKinds.push(t.CampaignKind)),this.nativeAttempts[n].Inject(t,null===(t=this.customIntegration)||void 0===t?void 0:t.adContainer),this.injectionCount++)},d.prototype.noAd=function(t,e){var n,r=this,i=_.getUserSyncRate();if(b.logger.log(b.LogLevel.INFO,"No ad event. USync : "+i),!this.syncPartnerDone&&Math.random()<i&&(this.synchronizeVisitor(e),this.syncPartnerDone=!0),this.customIntegration&&this.customIntegration.noAd)return this.customIntegration.noAd(t),void(this.customIntegration.noAd=null);e&&(e=l.omnitagSchema.cast(e),b.logger.setConfiguration(e),e.PlacementPassbacks?(n=new o.PassbackManager(e,e.Attempt,function(){c.TriggerEvent(u.Event.INVENTORY_PASSBACK,e);var t=n.GetCurrentPassback();if(t)switch(t.Kind){case a.PassbackType.GENERIC:c.TriggerEvent(u.Event.INVENTORY_PASSBACK_GENERIC,e);break;case a.PassbackType.PUBLISHER:c.TriggerEvent(u.Event.INVENTORY_PASSBACK_PUBLISHER,e);break;default:throw new Error("passback kind has no event kind: "+t.Kind.toString())}},function(){r.checkIfBrokerOrPrebidContext()&&c.TriggerEvent(u.Event.INVENTORY,e)})).DisplayPassback():this.checkIfBrokerOrPrebidContext()&&c.TriggerEvent(u.Event.INVENTORY,e))},d.prototype.callModifier=function(p){var d=this;h.Call(p,function(a,s,c,l){l||d.noAd(g.AdError.EMPTY_CAMPAIGN_REQUEST);var u="",t=document.querySelector("link[rel='canonical']");t&&(u=t.getAttribute("href")),d.getGDPRParamsForPlacement(a.Placement,d.checkIfPrebidContext(),function(t){var e,n,r,i,o=_.shouldUseAylPlayer()?"ayl":"ima";t.ScriptTagParams&&(e=t.ScriptTagParams.gdpr,r=t.ScriptTagParams.gdpr_consent_string,n=t.ScriptTagParams.gdpr_consent,i=t.ScriptTagParams.usp_consent_string);o={Source:a.DataSource.toString(),Origin:document.location.protocol+"//"+document.location.host,Url:document.location.href.substring(0,1500),Isolated:a.DataSourceOnEventsIsolated,Attempt:a.Attempt,Campaign:a.Campaign,RefererUrl:document.referrer.substring(0,1500),CanonicalUrl:u,Data:"",safeframe:T.InSecuredIframe(),gdpr:e,gdpr_consent_string:r,gdpr_consent:n,usp_consent_string:i,player:o};d.ajax("POST",s,o,l,function(t){function e(t){var e=p;return h.MergeModifierConfig(m.campaignSchema.cast(t),e),e.Disabled?(b.logger.log(b.LogLevel.INFO,"Ad disabled."),!1):(b.logger.log(b.LogLevel.INFO,"Campaign JSON retreived."),d.loadCampaign(e),!0)}if(w.IsArray(t)){for(var n=0;n<t.length;n++)if(e(t[n]))return}else if(e(t))return;b.logger.log(b.LogLevel.INFO,"No campaign to display."),d.noAd(g.AdError.NO_CAMPAIGN,p)},function(){d.noAd(g.AdError.SERVER_ERROR,p)},!0,"text/plain; charset=utf-8","json",c)})},function(){d.noAd(g.AdError.MODIFIER_ERROR,p)})},d.prototype.checkIfBrokerOrPrebidContext=function(){var t=window;return!t.isPrebid&&!t.isBroker},d.prototype.checkIfPrebidContext=function(){return!!window.isPrebid},d.prototype.ajax=function(t,e,n,r,i,o,a,s,c,l){var u,p,d,h,f=y.isIE(),a={url:this.ApiPrefix+e,type:t,cache:!1,global:!1,dataType:c||(f?"jsonp":"json"),xhrFields:{withCredentials:a}};if(s&&(a.contentType=s),l&&(a.url=l+e),n){var g,m={};for(g in n)n[g]&&(m[g]=""+n[g]);a.url+="?"+v.EncodeURIParams(m)}r&&(a.data=r),a.success=(d=a,h=i,function(t){t.Location?(d.url=t.Location,d.success=h?h(t.Data):null,C.ajax(d)):h&&h(t.Data)}),a.error=(u=a,p=o,function(t,e,n){e="Ajax "+u.type+(e?" "+e:"")+(t.status?" "+t.status:"")+" "+u.url,n&&(e+="\n"+t.status+" "+t.statusText+" - "+n),void 0!==u.data&&"string"!=typeof u.data&&(e+="\nSENT BODY:\n","object"==typeof JSON&&JSON.stringify?e+=JSON.stringify(u.data):e+="[data not serializable]"),t.responseText&&(e+="\nRECEIVED CONTENT:\n"+t.responseText),b.logger.log(b.LogLevel.WARNING,e),p&&p()}),C.ajax(a)},d.prototype.synchronizeVisitor=function(t){var e="//fo-ssp.omnitagjs.com/fo-ssp",n="local-"+Math.random().toString(36).substring(2),r="";t&&(e=t.SspPrefix||e,n=t.Attempt||n,r=t.Placement);var i=document.createElement("script");i.async=!0,i.charset="UTF-8",i.src=e+"/sync?attempt="+n,this.getGDPRParamsForPlacement(r,this.checkIfPrebidContext(),function(t){t.ScriptTagParams&&(t.ScriptTagParams.gdpr&&(i.src+="&gdpr="+t.ScriptTagParams.gdpr),t.ScriptTagParams.gdpr_consent&&(i.src+="&gdpr_consent="+t.ScriptTagParams.gdpr_consent),t.ScriptTagParams.gdpr_consent_string&&(i.src+="&gdpr_consent_string="+t.ScriptTagParams.gdpr_consent_string),t.ScriptTagParams.usp_consent_string&&(i.src+="&usp_consent_string="+t.ScriptTagParams.usp_consent_string)),p.setDomInjectionTarget({Attempt:n,Placement:r},i).then(function(t){return i.addEventListener("load",function(){i.parentElement&&i.parentElement.removeChild(i)})})})},d.prototype.getGDPRParamsForPlacement=function(t,e,n){var r=S("tcfapi"),i=S("cmp"),o=S("uspapi"),a={};if(r||i||o){var s=!1,c=!1,l=!1,u=!1,p=function(){!u&&(r&&s||!r)&&(i&&c||!i)&&(o&&l||!o)&&(u=!0,n({ScriptTagParams:a}))};return setTimeout(function(){s=l=c=!0,p()},500),r&&(a.gdpr=!0,a.gdpr_consent=!1,r("getTCData",2,function(t){t&&(a.gdpr="boolean"==typeof t.gdprApplies?t.gdprApplies:null,a.gdpr_consent_string=t.tcString,delete a.gdpr_consent,s=!0,p())})),i&&(a.gdpr=!0,a.gdpr_consent=!1,i("getConsentData",null,function(t){t&&(t=t.VendorConsentData||t,a.gdpr="boolean"==typeof t.gdprApplies?t.gdprApplies:null,a.gdpr_consent_string=t.consentData,delete a.gdpr_consent,c=!0,p())})),void(o&&o("getUSPData",null,function(t,e){e&&t&&(t=t.VendorConsentData||t,a.usp_consent_string=t.uspString),l=!0,p()}))}var d=E.GetScriptParamsForPlacement(t);0!==Object.keys(d).length||e||0<(t=E.GetAllMatchingScriptsInDocument()).length&&E.fillWithParams(d,t[0]),!e||(h=f.GetCookie("euconsent"))&&n({ScriptTagParams:{gdpr:!0,gdpr_consent_string:h}});var h=d.ScriptTagParams&&d.ScriptTagParams.us_privacy;h&&(d.ScriptTagParams.usp_consent_string=h,delete d.ScriptTagParams.us_privacy),n(d)},d);function d(t){this.ApiPrefix=t,this.nativeAttempts={},this.syncPartnerDone=!1,this.injectionCount=0}function S(a){var n;if(T.InIframe())if(T.InSecuredIframe()){var r=T.getSafeFrameEXT();if(r){switch(a){case"cmp":r.cmp&&(n=function(t,e,n){r.register(300,250,function(t,e){"cmpReturn"===t&&n(e,e.success)}),r.cmp(t)});break;case"uspapi":n=window.__uspapi;break;case"tcfapi":n=window.__tcfapi}if(n)return n}T.executeUntilTopMostWindow(function(t){var e,o;try{e=(t=t.parent).frames["__"+a+"Locator"]}catch(t){}!n&&e&&(o=t,n=function(t,e,n){var r=Math.random()+"",i=((i={})["__"+a+"Call"]={command:t,parameter:e,callId:r},i);o.postMessage(i,"*"),window.addEventListener("message",function(t){var e;try{e="string"==typeof t.data?JSON.parse(t.data):t.data}catch(t){}"object"!=typeof e||(e=e["__"+a+"Return"])&&r===e.callId&&n(e.returnValue,e.success)})})})}else T.executeUntilTopMostWindow(function(t){n=n||t["__"+a]});else n=window["__"+a];return n}e.AjaxBackend=i,e.Create=function(t){e.Backend=new i(t)}}.apply(e,n))||(t.exports=n)},171:(t,e,n)=>{var n=[n,e,n(5165),n(386),n(4220),n(5573),n(605),n(5890),n(2464)];void 0===(n=function(t,e,a,s,n,c,l,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationReader=void 0;var r=(d.prototype.setConfiguration=function(t,e,n){var r=this;if(n&&this.locked)return this.waitingConfigs.push(t),void e(!1);this.locked=!0;function i(){d.instance.reader=o,r.readers[t.Attempt]=o,r.locked=!1,e(!0)}var o=null;switch(t.IntegrationConfig.Kind){case c.NativeIntegration.TEMPLATE:o=new u.TemplateConfigurationReader(t),i();break;case c.NativeIntegration.WIDGET:o=new p.WidgetConfigurationReader(t),i();break;case c.NativeIntegration.PREMIUM:o=new l.PremiumConfigurationReader(t),i();break;case c.NativeIntegration.INJECTOR:o=new s.InjectorConfigurationReader(t),i();break;case c.NativeIntegration.SPONSOR_INJECTOR:o=new s.SponsorInjectorConfigurationReader(t),i();break;default:o=new a.GenericReader(t),i()}},d.prototype.unlockAndPopConfig=function(){return this.hasBeenUnlocked=this.hasBeenUnlocked||this.locked,this.locked=!1,this.waitingConfigs.pop()},d.getInstance=function(){return d.instance},d.prototype.getReader=function(t){return t?d.instance.readers[t]:(!this.locked&&this.hasBeenUnlocked&&n.logger.log(n.LogLevel.WARNING,"Trying to access configuration reader after ad initialisation."),d.instance.reader)},d.prototype.fillHTML=function(t){return this.getReader().fillHTML(t)},d.prototype.getProperty=function(t,e){return this.getReader(e).getProperty(t)},d.prototype.getBooleanProperty=function(t){var e=this.getReader();return e?e.getBooleanProperty(t):null},d.prototype.getStoryMode=function(){return this.getReader().getStoryMode()},d.prototype.getImageContent=function(t,e){return this.getReader(e).getImageContent(t)},d.prototype.getInviewUrl=function(t){return null===(t=this.getReader(t))||void 0===t?void 0:t.getInviewUrl()},d.prototype.isLandingUrlSafe=function(t){return this.getReader(t).isLandingUrlSafe()},d.instance=new d,d);function d(){this.readers={},this.waitingConfigs=[],this.locked=!1,this.hasBeenUnlocked=!1}e.ConfigurationReader=r.getInstance()}.apply(e,n))||(t.exports=n)},1643:function(t,e,n){var r,I=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(6754),n(1190),n(7337),n(8637),n(7070),n(7528),n(5503),n(6488),n(9329),n(241),n(8275)];void 0===(n=function(t,e,m,y,v,E,T,b,_,w,S,C,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AylVastReaderDecorator=void 0,e.AylVastReaderDecorator=function(t,n,o,a){var i,s,c,l,u,p,d=!1,h=!1,f=!1,g=!1;return function(t){return I(e,r=t),e.prototype.loadAd=function(){var i=this;(new E.VASTParser).parseVAST((new DOMParser).parseFromString(u,"text/xml")).then(function(t){var e=t.ads[0],n=e.creatives.find(function(t){return null!==t.mediaFiles});(s=new E.VASTTracker(null,e,n)).setMuted(!0);var r=n.mediaFiles.filter(function(t){return"application/x-javascript"===t.mimeType||"VPAID"===t.apiFramework}),t=n.mediaFiles.filter(function(t){return"application/x-javascript"!==t.mimeType&&"VPAID"!==t.apiFramework});c=0<r.length?new w.VPAIDPlayer(s,r,a,o,n.adParameters):new S.VastPlayer(s,t,a,o),i.addAdEvents(),0<e.adVerifications.length?p.insertOMScript(function(){p.createOMSession(e,s,a),i.initAd()}):i.initAd()})},e.prototype.initAd=function(){c.initAd(),this.videoState!==C.VideoState.LOADED||d||this.playAd()},e.prototype.addAdEvents=function(){var n=this;s.on(_.PlayerEvents.COMPLETE,function(){n.stop()}),s.on(_.PlayerEvents.STARTED,function(){n.setVideoState(C.VideoState.PLAYING,c.getRemainingTime()),h=!0}),s.on(_.PlayerEvents.AD_PROGRESS,function(t){var e=c.getDuration()-c.getRemainingTime();-1!==l&&l<=e&&(l=-1,y.TriggerEvent(T.Event.VIDEO_PROGRESS,i,i.Campaign)),(!i.Content.MainVideo.Pause||f)&&g||n.pause()}),s.on(_.PlayerEvents.RESUMED,function(){h=!0}),s.on(_.PlayerEvents.PAUSED,function(){h=!1}),s.on(_.PlayerEvents.CREATIVE_VIEW,function(){y.TriggerEvent(T.Event.VIDEO_CREATIVE_VIEW,i,i.Campaign)}),s.on(_.PlayerEvents.MUTE,function(){document.dispatchEvent(new CustomEvent(_.PlayerEvents.MUTE))}),s.on(_.PlayerEvents.UNMUTE,function(){document.dispatchEvent(new CustomEvent(_.PlayerEvents.UNMUTE))}),s.on(_.PlayerEvents.CLICKTHROUGH,function(t){n.window.open(m.RedirUrl(n.config,t,T.Event.CLICK))}),s.on(_.PlayerEvents.AD_ERROR,function(){n.stop(),y.TriggerEvent(T.Event.VPAID_ERROR,i,i.Campaign)})},e.prototype.updateVisibleState=function(t){t&&(g=!0),(f=t)!==h&&(t?this.play():i.Content.MainVideo.Pause&&this.pause())},e.prototype.addListeners=function(){r.prototype.addListeners.call(this);var t=n.getValue()||a;A.Viewability.registerElement(t,this.updateVisibleState.bind(this),i.Content.MainVideo.Tolerance/100)},e.prototype.playAd=function(){c.startAd(),d=!0},e.prototype.start=function(){r.prototype.start.call(this),!d&&c&&this.playAd()},e.prototype.stop=function(){c.stopAd(),this.setVideoState(C.VideoState.ENDED),a.style.display="none",o.style.display="none",d=!1,r.prototype.stop.call(this)},e.prototype.play=function(){h||c.resumeAd()},e.prototype.pause=function(){h&&c.pauseAd()},e.prototype.resize=function(){r.prototype.resize.call(this),c.resize()},e.prototype.mute=function(t){return c.mute(t)},e;function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;return i=v.findConfigurationArg(t),l=i.Content.MainVideo.ViewedAt||0,u=window.atob(i.Content.MainVideo.Vast),p=new b.OpenMeasurement(i),(n=r.apply(this,t)||this).loadAd(),n}var r}}}.apply(e,n))||(t.exports=n)},4162:function(t,e,n){var r,d=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8175),n(8686)];void 0===(n=function(t,e,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseButtonDecorator=void 0,e.CloseButtonDecorator=function(a,s,c,l){return function(t){var n,e,r,i=a;return d(o,r=t),o.prototype.addHTMLElements=function(){r.prototype.addHTMLElements.call(this),e=s.getValue(),(n=c?c.getValue():document.createElement("div")).id="ayl_close_button",n.style.cssText=n.style.cssText+i,n.style.cursor="pointer";var t=document.createElement("img");t.src=u.AYL_URL.ADSERVER_FO_STATIC+"/native/images/fermer_white.png",t.style.width="100%",t.style.height="100%",n.appendChild(t),e.appendChild(n)},o.prototype.addListeners=function(){var e=this;r.prototype.addListeners.call(this),p.addClickListener(n,function(t){t.preventDefault(),t.stopImmediatePropagation(),l?l():e.stop()})},o;function o(){return null!==r&&r.apply(this,arguments)||this}}}}.apply(e,n))||(t.exports=n)},2703:function(t,e,n){var r,E=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686),n(6322)];void 0===(n=function(t,e,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandableContainerDecorator=void 0,e.ExpandableContainerDecorator=function(g,m){return function(t){var i,r,o=function(t,e){void 0===e&&(e=!0),v.InIframe()&&!v.InSecuredIframe()?a(window,t):v.InIframe()||s(i,t),i.style.transition="height 0.7s ease",y.applyCSSRule(i,"height",t+"px",e?h:null),d=t},a=function(t,e,n){var r;void 0===n&&(n=!0),t&&t!==top&&(r=t.frameElement)&&(r.style.transition="height 0.7s ease",y.applyCSSRule(r,"height",e+"px",n?h:null),r.ownerDocument.defaultView&&r.ownerDocument!==top.document?a(r.ownerDocument.defaultView,e,n):s(r,e))},s=function(t,e){for(var n=t,r=e,n=t;n&&null!==n.parentElement&&n.parentElement!==top.document.body;){var i=getComputedStyle(n.parentElement);r+="relative"===i.position?n.offsetTop:n.offsetTop-n.parentElement.offsetTop;i=parseInt(i.height,10);-1===d?i<r?(y.applyCSSRule(n.parentElement,"height",r+"px",h),y.applyCSSRule(n,"maxHeight","100%",h)):r=i:r<i&&(n.parentElement.style.minHeight=r+"px",n.style.maxHeight="100%"),n=n.parentElement}},c=function(){-1===e&&-1!==p&&(e=setInterval(function(){var t=p;if(v.InIframe()&&!v.InSecuredIframe())for(var e=i;e&&e.ownerDocument!==window.top.document;)var e=e.ownerDocument.defaultView.frameElement,n=u(e,p),t=Math.min(t,n);var r=u(i,p);-1<(t=Math.min(t,r))&&t<d&&o(t,!1)},400))},l=function(){clearInterval(e),e=-1},u=function(t,e){for(var n=t,r=-1,i=e;n&&null!==n.parentElement&&n.parentElement!==top.document.body;){var o="relative"===getComputedStyle(n.parentElement).position?n.offsetTop:n.offsetTop-n.parentElement.offsetTop;i+=o;var a=0<=n.parentElement.style.height.indexOf("px")?parseInt(n.parentElement.style.height,10):NaN;a<i&&(r=Math.max(a-o,r)),n=n.parentElement}return-1===r?e:r},e=-1,p=-1,d=-1,h=[],n=!1;return E(f,r=t),f.prototype.start=function(){var t=this;i=g.getValue(),m&&!n?m.setOnChange(function(){n=!0,t.expand()}):this.expand(),r.prototype.start.call(this)},f.prototype.stop=function(){r.prototype.stop.call(this),y.removeCSSRules(h),this.currentForcedHeight=-1,l()},f.prototype.expand=function(){v.getTopMostWindow();var t=0,e=m?m.getValue():0,e=e&&2===e.length?e[1]/e[0]:0;(t=e?Math.round(i.offsetWidth*e):t)&&(t=Math.min(600,t),o(p=t),c())},f.prototype.getSize=function(){var t=r.prototype.getSize.call(this);return 0<d&&(t[1]=d),t},f;function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.apply(this,t)||this;return o=o.bind(n),a=a.bind(n),s=s.bind(n),c=c.bind(n),l=l.bind(n),u=u.bind(n),n}}}}.apply(e,n))||(t.exports=n)},7068:function(t,e,n){var r,f=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686)];void 0===(n=function(t,e,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageButtonDecorator=void 0,e.ImageButtonDecorator=function(s,c,l,u,p,d){return function(t){var e,n,r,i,o=s;return f(a,i=t),a.prototype.addHTMLElements=function(){i.prototype.addHTMLElements.call(this),n=l.getValue(),(e=d?d.getValue():document.createElement("div")).id=u||"ayl_image_button",e.style.cssText=e.style.cssText+o,e.style.cursor="pointer",(r=document.createElement("img")).style.width="100%",r.style.height="100%",r.style.marginTop="0px",r.style.minHeight="0px",r.style.minWidth="0px",r.src=c,e.appendChild(r),n.appendChild(e)},a.prototype.addListeners=function(){i.prototype.addListeners.call(this),p&&h.addClickListener(e,function(t){t.preventDefault(),t.stopImmediatePropagation(),p.getValue()()},!0)},a;function a(){return null!==i&&i.apply(this,arguments)||this}}}}.apply(e,n))||(t.exports=n)},3152:function(t,e,n){var r,z=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),G=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(1190),n(7337),n(7070),n(4571),n(2679),n(241),n(8275),n(8686),n(6322),n(4834)];void 0===(n=function(t,e,k,D,M,j,V,U,F,B,W,H){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMAVastReaderDecorator=void 0,e.IMAVastReaderDecorator=function(s,c){function l(t){return d&&O?(t?d.setVolume(0):d.setVolume(1),!d.getVolume()):!t}function u(){var t,e;f=W.getTopMostWindow().google.ima,C=!0,k.TriggerEvent(M.Event.VIDEO_CREATIVE_VIEW,g,g.Campaign),f.settings.setVpaidMode(f.ImaSdkSettings.VpaidMode.ENABLED),n&&n.destroy(),w.style.display="",_.style.display="",n=new f.AdDisplayContainer(_,w),(h=new f.AdsLoader(n)).getSettings().setAutoPlayAdBreaks(!1),T(),n.initialize(),t=h,(e=new f.AdsRequest).adsResponse=E,e.setAdWillAutoPlay(!0),e.setAdWillPlayMuted(!0),t.requestAds(e)}function p(){I=!0;var t=s.getValue();d.init(parseFloat(window.getComputedStyle(t).width),parseFloat(window.getComputedStyle(t).height),f.ViewMode.NORMAL),d.start()}var d,n,h,f,g,m,y,v,E,T,b,_=document.createElement("div"),w=document.createElement("video"),S=!1,C=!1,A=!1,I=!1,O=!1,P=!1,x=!1,R=-1,L=-1,N=function(t){t&&(x=!0),(P=t)!==O&&d&&(t?this.play():g.Content.MainVideo.Pause&&this.pause())};return function(t){var o,n=new D.DecoratorParameter,r=new D.DecoratorParameter("width:16px;height:16px;border-radius:18px;position:absolute;bottom:10px;right:10px;"),a=new D.DecoratorParameter,e=new D.DecoratorParameter(l);return z(i,o=t),i.prototype.addHTMLElements=function(){o.prototype.addHTMLElements.call(this);var t=s.getValue();n.getValue()||n.setValue(t),""===t.style.position&&(t.style.position="relative"),w.style.position="absolute",w.style.display="none",w.style.backgroundColor="black",w.style.left="0px",w.style.top="0px",w.style.width="100%",w.style.height="100%",w.style.transition="none",w.volume=0,w.muted=!0,w.setAttribute("playsinline","true"),w.setAttribute("webkit-playsinline","true"),_.style.position="absolute",_.style.display="none",_.style.width="100%",_.style.height="100%",_.style.transition="none",t.insertBefore(_,t.childNodes[0]),t.insertBefore(w,t.childNodes[0]),0<W.getTopMostWindow().document.body.getElementsByClassName("ayl-ima").length?A=!0:s.getValue()&&((t=document.createElement("script")).className="ayl-ima",t.type="text/javascript",t.setAttribute("src","https://imasdk.googleapis.com/js/sdkloader/ima3.js"),t.addEventListener("load",function(){A=!0,u()}),W.getTopMostWindow().document.body.appendChild(t))},i.prototype.addListeners=function(){var n=this;o.prototype.addListeners.call(this);var t=c.getValue()||w;F.Viewability.registerElement(t,N,g.Content.MainVideo.Tolerance/100),F.Viewability.registerElement(w,function(){k.TriggerEvent(M.Event.VIEWABLE_VIDEO50,g,g.Campaign)},.5,2e3),window.addEventListener("resize",function(t,e){n.resize()}),document.addEventListener("visibilitychange",function(){g.Content.MainVideo.Pause&&(document.hidden?n.pause():n.play())}),T=function(){h.addEventListener(f.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){var e=new f.AdsRenderingSettings;d=t.getAdsManager(w,e),b(),n.videoState!==U.VideoState.LOADED||I||p(),S=!0},!1),h.addEventListener(f.AdErrorEvent.Type.AD_ERROR,function(){n.stop(),k.TriggerEvent(M.Event.VPAID_ERROR,g,g.Campaign)})},b=function(){d.addEventListener(f.AdEvent.Type.STARTED,function(){n.setVideoState(U.VideoState.PLAYING,d.getRemainingTime()),O=!0}),d.addEventListener(f.AdEvent.Type.COMPLETE,function(){n.stop()}),d.addEventListener(f.AdEvent.Type.AD_PROGRESS,function(t){t=t.getAdData().duration-d.getRemainingTime();-1!==v&&v<=t&&(v=-1,k.TriggerEvent(M.Event.VIDEO_PROGRESS,g,g.Campaign)),(!g.Content.MainVideo.Pause||P)&&x||n.pause()}),d.addEventListener(f.AdEvent.Type.PAUSED,function(){n.setVideoState(U.VideoState.PAUSED)}),d.addEventListener(f.AdEvent.Type.RESUMED,function(){n.setVideoState(U.VideoState.PLAYING)}),B.addClickListener(s.getValue(),function(t){H.isMobileDevice()||(t.stopImmediatePropagation(),t.preventDefault())})}},i.prototype.open=function(){o.prototype.open.call(this),!C&&A&&u()},i.prototype.start=function(){o.prototype.start.call(this),!I&&S&&this.videoState===U.VideoState.LOADED&&p()},i.prototype.stop=function(){d&&d.stop(),this.setVideoState(U.VideoState.ENDED),w.style.display="none",_.style.display="none",o.prototype.stop.call(this),S=C=O=I=!1},i.prototype.play=function(){d&&(d.resume(),O=!0)},i.prototype.pause=function(){d&&(d.pause(),O=!1)},i.prototype.resize=function(){var t,e;o.prototype.resize.call(this),d&&(e=window.getComputedStyle(_),t=parseFloat(e.width),e=parseFloat(e.height),void 0!==y&&y===e&&m===t||(d.resize(t,e,f.ViewMode.NORMAL),m=t,y=e))},i.prototype.getMediafileSize=function(){return[R,L]},i.prototype.setSoundButtonRootElement=function(t,e){n.setValue(t),r.setValue(e)},G([j.ReplayDecorator(a),V.SoundButtonDecorator(r,n,e)],i);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i;return g=D.findConfigurationArg(t),v=g.Content.MainVideo.ViewedAt||0,n=o.apply(this,t)||this,a.setValue(n.imgElement),N=N.bind(n),E=window.atob(g.Content.MainVideo.Vast),i=(r=E).match(/.*?<MediaFile.*?width="([^"]*)".*?<\/MediaFile>.*?/)||[],r=r.match(/.*?<MediaFile.*?height="([^"]*)".*?<\/MediaFile>.*?/)||[],i=2<i.length?parseInt(i[1],10):NaN,r=2<r.length?parseInt(r[1],10):NaN,R=isNaN(i)?R:i,L=isNaN(r)?L:r,d=null,n}}}}.apply(e,n))||(t.exports=n)},2202:function(t,e,n){var r,T=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(1190),n(7337),n(7070),n(8686)];void 0===(n=function(t,e,g,m,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlaylistDecorator=void 0;var E="rgba(0, 0, 0, 0.05)";e.PlaylistDecorator=function(p,d,h,f){return function(t){function r(t,e){t!==a&&(e&&(l[t].container.style.backgroundColor=E),"number"==typeof a&&(l[a].container.style.backgroundColor=""),a=t)}var e,n,i,o,a,s,c,l=[];return T(u,c=t),u.prototype.addHTMLElements=function(){c.prototype.addHTMLElements.call(this),i=f.getValue(),(e=document.createElement("div")).id="ayl_playlist",e.style.cssText=p,e.style.cursor="pointer",e.style.backgroundColor="white",e.style.opacity="0",e.style.visibility="hidden",e.style.transition="opacity 400ms ease-out",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="stretch",e.style.flexWrap="nowrap",(n=document.createElement("div")).style.flex="0 0 30px",n.style.padding="0 8px",n.style.lineHeight="30px",n.style.fontWeight="bold",n.innerHTML=d.getValue(),n.style.color="#333",n.style.textAlign="",(o=document.createElement("div")).style.padding="8px",o.style.maxHeight="211px",o.style.overflowY="scroll",h.getValue().forEach(function(t){var e,n,r,i,o;n=(e=t).container||document.createElement("div"),r=document.createElement("img"),i=document.createElement("div"),o=document.createElement("div"),t=document.createElement("div"),n.style.display="flex",n.style.flexDirection="row",n.style.alignContent="start",n.style.alignItems="start",n.style.justifyContent="start",n.style.width="100%",n.style.height="65px",n.style.margin="4px 0",n.style.overflow="hidden",r.style.flex="0 0 65px",r.style.width="65px",r.style.height="65px",r.style.objectFit="cover",r.src=e.thumbnail,i.style.display="flex",i.style.flex="1 1 0%",i.style.height="100%",i.style.padding="4px 0 4px 8px",i.style.flexDirection="column",o.style.width="210px",o.style.lineHeight="20px",o.style.display="block",o.style.flex="0 0 20px",o.innerHTML=e.title,o.style.fontWeight="bold",o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",t.style.display="block",t.style.flex="1 1 0%",t.innerHTML=e.description,t.style.height="40px",t.style.overflow="hidden",i.appendChild(o),i.appendChild(t),n.appendChild(r),n.appendChild(i),l.push({container:n,thumbnail:r,textContainer:i,title:o,description:t})}),l.forEach(function(t){o.appendChild(t.container)}),r(0,!0),i.appendChild(e),e.appendChild(n),e.appendChild(o)},u.prototype.addListeners=function(){c.prototype.addListeners.call(this),i.addEventListener("mouseover",function(){e.style.visibility="visible",e.style.opacity="1"}),e.addEventListener("mouseout",function(){e.style.visibility="hidden",e.style.opacity="0"});for(var t=0;t<l.length;t++)!function(t){var e=l[t],n=t;v.addClickListener(e.container,function(){r(n,!1),g.TriggerEvent(y.Event.PLAYLIST_CLICK,s,s.Campaign)}),e.container.addEventListener("mouseover",function(){e.container.style.backgroundColor="rgba(0, 0, 0, 0.10)"}),e.container.addEventListener("mouseout",function(){e.container.style.backgroundColor=n===a?E:""})}(t)},u.prototype.start=function(){c.prototype.start.call(this),l.forEach(function(t){for(var e=t.description.innerHTML.split(" ");t.description.scrollHeight>t.description.offsetHeight;)e.pop(),t.description.innerHTML=e.join(" ")+"..."})},u;function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s=m.findConfigurationArg(t),c.apply(this,t)||this}}}}.apply(e,n))||(t.exports=n)},3479:function(t,e,n){var r,m=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,p,d,h,r){function i(){0<c&&(s+=(new Date).getTime()-c);var t=g[a],e=window.getComputedStyle(t).width;t.style.width=e}function o(){c=(new Date).getTime(),g[a].style.transition="width "+(h.getValue()[a]-s)/1e3+"s linear",g[a].style.width="100%"}var a,f,g=[],s=0,c=-1;return function(t){return m(e,l=t),e.prototype.addHTMLElements=function(){l.prototype.addHTMLElements.call(this);var t=u.getValue();f=h.getValue().length;var e=document.createElement("div");e.style.cssText=e.style.cssText+p;for(var n=d.borderRadius,r=d.spaceBetweenParts,i=(f-1)*r,o=100/f,a=0;a<f;a++){var s=document.createElement("div");s.style.position="relative",s.style.cssFloat="left",s.style.borderRadius=n+"px",s.style.overflow="hidden",s.style.height="100%",s.style.width="calc("+o+"% - "+i/f+"px)",a!==f-1&&(s.style.marginRight=r+"px"),s.style.backgroundColor="rgba(255, 255, 255, 0.267)";var c=document.createElement("div");c.style.backgroundColor="white",c.style.position="absolute",c.style.top="0px",c.style.height="100%",c.style.width="0%",g.push(c),s.appendChild(c),e.appendChild(s)}t.appendChild(e)},e.prototype.goTo=function(t){l.prototype.goTo.call(this,t),function(t){c=-1,a=t;for(var e=s=0;e<f;e++){var n=g[e];e<t?(n.style.width="0%",n.style.transition="",window.getComputedStyle(n).height,n.style.width="100%"):e===t?(n.style.transition="",n.style.width="0%",window.getComputedStyle(n).height):t<e&&(n.style.transition="",n.style.width="0%")}}(t)},e.prototype.pause=function(){l.prototype.pause.call(this),i()},e.prototype.resume=function(){l.prototype.resume.call(this),o()},e.prototype.onPageStarted=function(t,e){e&&(h.getValue()[t]=e),o()},e;function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=l.apply(this,t)||this;return n.currentIndex=0,r.setOnChange(function(){(r.getValue()?i:o)()}),n}var l}}}.apply(e,[n,e]))||(t.exports=e)},4444:function(t,e,n){var r,M=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(4834),n(7337),n(6322),n(4162),n(171),n(6811),n(553),n(5831),n(8275),n(8039)];void 0===(n=function(t,e,I,O,P,x,n,R,L,N,k,D){"use strict";function r(C,A){return function(t){function e(){(I.isFirefox()||I.isMobileDevice())&&_.setValue(!0),k.Viewability.unregisterElement(f),f=null;var t=window.getComputedStyle(l);r.style.cssText=l.style.cssText,r.style.width=t.width,r.style.height=t.height,r.style.backgroundColor="",s=l.style.transition,l.style.setProperty("transition","none","important"),l.offsetHeight,a=l.style.cssText,l.style.cssText="",l.style.position="fixed",h.resize(),l.style.bottom="-184px",l.style.right="10px",l.style.opacity="0",l.style.transition="opacity 0.3s ease-out, bottom 0.3s linear",l.style.backgroundColor="black",l.style.zIndex="1000000001",window.getComputedStyle(l).height,l.style.opacity="1",l.style.bottom="10px",l.parentElement.appendChild(r),g=k.Viewability.registerElement(A.getValue()||r,v.bind(this),u.Content.MainVideo.Tolerance/100),h.handlesOptout()&&(h.injectorElement.appendChild(i),i.style.right="0px",i.style.top="18px"),o&&P.InIframe()&&h.injectorElement.appendChild(o)}function n(){v(!0),k.Viewability.replaceCallback(f,function(t){t&&(k.Viewability.unregisterElement(f),E())})}var r,c,l,i,o,a,s,u,p,d,h,f,g,m=!1,y=function(t){t&&(m=!0),p||t||!m||(p=!0,d&&e())},v=function(t){p&&t&&(p=!1,d&&E())},E=function(){f||((I.isFirefox()||I.isMobileDevice())&&_.setValue(!1),a&&(k.Viewability.unregisterElement(g),g=null,l.style.cssText=a,l.offsetHeight,l.style.transition=s,l.parentElement.removeChild(r),a=null,h.resize()),f=k.Viewability.registerElement(A.getValue()||l,y.bind(this),u.Content.MainVideo.Tolerance/100),h.handlesOptout()&&(l.appendChild(i),i.style.right="-10px",i.style.top="-3px"),o&&P.InIframe()&&l.appendChild(o))},T="width:16px;height:16px;position:absolute;top:10px;";I.isMobileDevice()?T+="left:10px;":T+="right:10px;";var b,_=new O.DecoratorParameter(!1),w=new O.DecoratorParameter(document.createElement("div"));return M(S,b=t),S.prototype.addHTMLElements=function(){var t;b.prototype.addHTMLElements.call(this),i=null===(t=this.injectorElement)||void 0===t?void 0:t.getElementsByClassName("ayl_optout_button")[0],o=document.getElementById("ayl-hover-wording"),c=C.getValue(),(l=document.createElement("div")).style.position="absolute",l.style.zIndex="10",l.style.overflow="hidden",P.getTopMostWindow().document.body.appendChild(l),C.setValue(l),w.getValue().style.transition="opacity 0.4s ease-in"},S.prototype.addListeners=function(){var t=this;b.prototype.addListeners.call(this);var e=!I.isFirefox()&&!I.isMobileDevice();e&&l.addEventListener("mouseover",function(){p&&_.setValue(!0)}),l.addEventListener("mouseenter",function(){p||c.dispatchEvent(D.createNewEvent("mouseenter",{bubbles:!0}))}),l.addEventListener("mouseleave",function(){c.dispatchEvent(D.createNewEvent("mouseleave",{bubbles:!0})),e&&_.setValue(!1)});var n=P.getTopMostWindow();n.addEventListener("resize",this.resize.bind(this)),"complete"===n.document.readyState?this.resize():n.addEventListener("load",function(){t.resize()});n=document.getElementById("ayl_"+u.Attempt);n&&(n.addEventListener("animationend",function(){t.resize()}),n.addEventListener("transitionend",function(){t.resize()}))},S.prototype.start=function(){var t;b.prototype.start.call(this),this.handlesOptout()&&(l.appendChild(i),i.style.right="-10px",i.style.top="-3px"),o&&P.InIframe()&&l.appendChild(o),l.style.display="",d=!(p=!1),k.Viewability.unregisterElement(f),f=null,-1!==l.style.transition.indexOf("height")&&"0px"===l.style.height?(d=!1,t=function(){d=!0,(p?e:E)(),l.removeEventListener("transitionend",t)},l.addEventListener("transitionend",t)):E()},S.prototype.stop=function(){this.handlesOptout()&&(this.injectorElement.appendChild(i),i.style.right="0px",i.style.top="18px"),o&&P.InIframe()&&this.injectorElement.appendChild(o),v(!0),d=!1,l.style.display="none",b.prototype.stop.call(this)},S.prototype.resize=function(){var t,e,i,o,a,s;d&&p?(e=9*(t=Math.min(.5*P.getTopMostWindow().document.documentElement.clientWidth,300))/16,l.style.setProperty("width",t+"px","important"),l.style.setProperty("height",e+"px","important")):p||(t=window.getComputedStyle(c),e=c.getBoundingClientRect(),i=e.left,o=e.top,s=a=0,P.executeUntilTopMostWindow(function(t){try{for(var e,n=t.parent,r=0;r<n.frames.length;r++)n.frames[r]===t&&(e=frameElement.getBoundingClientRect(),i+=e.left,o+=e.top)}catch(t){}a+=t.pageXOffset||t.document.documentElement.scrollLeft,s+=t.pageYOffset||t.document.documentElement.scrollTop}),l.style.width=t.width,l.style.height=t.height,l.style.left=a+i+"px",l.style.top=s+o+"px"),b.prototype.resize.call(this)},S.prototype.handlesOptout=function(){var t;return(null===(t=null===(t=this.config)||void 0===t?void 0:t.IntegrationConfig)||void 0===t?void 0:t.Widget)&&(this.config.IntegrationConfig.Widget.WidgetKind===R.IntegrationWidget.CREATIVE_TEMPLATE_2||this.config.IntegrationConfig.Widget.WidgetKind===R.IntegrationWidget.CREATIVE_TEMPLATE_3)&&this.config.VideoFormat===N.VideoFormat.FEED},j([x.CloseButtonDecorator(T,C,w,n),L.ToggleDecorator(_,w)],S);function S(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n;return u=O.findConfigurationArg(t),n=b.apply(this,t)||this,h=n,r=document.createElement("div"),p=!1,n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.ReduceDecorator=e.ConditionnedReduceDecorator=void 0,e.ConditionnedReduceDecorator=function(t,e){if(n.ConfigurationReader.getBooleanProperty("isvideoreduce"))return r(t,e)},e.ReduceDecorator=r}.apply(e,n))||(t.exports=n)},4571:function(t,e,n){var r,b=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(6754),n(7337),n(8175),n(7070),n(7068),n(8686)];void 0===(n=function(t,e,g,m,y,v,E,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplayDecorator=void 0,e.ReplayDecorator=function(f){return function(t){var e,n,r,i,o,a,s=new m.DecoratorParameter,c=y.AYL_URL.ADSERVER_FO_STATIC+"/native/images/replay.svg",l=new m.DecoratorParameter,u=y.AYL_URL.ADSERVER_FO_STATIC+"/native/images/read_more.svg",p=new m.DecoratorParameter,d=new m.DecoratorParameter;return b(h,a=t),h.prototype.addHTMLElements=function(){a.prototype.addHTMLElements.call(this),o=f.getValue(),p.setValue(document.createElement("div")),i.Content.MainVideo&&i.Content.MainVideo.ClickUrl||(p.getValue().style.display="none"),(n=document.createElement("div")).style.backgroundColor="black",n.style.opacity="0.5",n.style.left="0",n.style.top="0",n.style.position="absolute",n.style.width="100%",n.style.height="100%",n.style.zIndex="11",(r=document.createElement("div")).style.position="absolute",r.style.width="50%",r.style.height="50%",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.zIndex="11",s.setValue(r),(e=document.createElement("div")).id="ayl_replay_area",e.style.display="none",e.style.position="absolute",e.style.transition="none",e.appendChild(n),e.appendChild(r),o&&o.parentNode.insertBefore(e,o)},h.prototype.addListeners=function(){var t=this;a.prototype.addListeners.call(this),l.setValue(function(){t.open()}),d.setValue(function(){window.open(g.RedirUrl(i,i.Content.MainVideo.ClickUrl,v.Event.CLICK),"_blank")}),T.addClickListener(n,function(t){t.stopImmediatePropagation(),t.preventDefault(),l.getValue()()})},h.prototype.open=function(){a.prototype.open.call(this),e.style.display="none"},h.prototype.stop=function(){a.prototype.stop.call(this),e&&(e.style.display=""),this.resize()},h.prototype.resize=function(){a.prototype.resize.call(this),o&&(e.style.left=o.offsetLeft+"px",e.style.top=o.offsetTop+"px",e.style.width=o.offsetWidth+"px",e.style.height=o.offsetHeight+"px")},_([E.ImageButtonDecorator("height:50%;",u,s,"ayl_readmore_button",d,p),E.ImageButtonDecorator("margin-bottom:5px;height:50%;",c,s,"ayl_replay_button",l)],h);function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i=m.findConfigurationArg(t),a.apply(this,t)||this}}}}.apply(e,n))||(t.exports=n)},3658:function(t,e,n){var r,E=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),T=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(6754),n(3420),n(7337),n(2202),n(7070),n(7545),n(5220),n(8686)];void 0===(n=function(t,e,p,d,h,f,g,m,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeeMoreButtonDecorator=void 0,e.SeeMoreButtonDecorator=function(c,l,u){return function(t){var n={EN:"See more",FR:"Voir plus",PT:"Ver mais",getLabel:function(t){return this[t]}},r=new h.DecoratorParameter([]),e=u||new h.DecoratorParameter(document.createElement("div"));e.getValue().id="ayl_seemore_button";var i,o,a=new h.DecoratorParameter;return E(s,o=t),s.prototype.addListeners=function(){var e=this;o.prototype.addListeners.call(this),r.getValue().forEach(function(t){v.addClickListener(t.container,function(){e.iframe&&(e.iframe.src=p.RedirUrl(i,t.url,g.Event.DISPLAY_SITE))})})},T([f.PlaylistDecorator("width:300px;position:absolute;top:0;right:0;",a,r,e),y.TimedButtonDecorator(c,new h.DecoratorParameter(0),a,l,e)],s);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(i=h.findConfigurationArg(t)).Content.Playlist&&(a.setValue(n.getLabel(i.Lang.toString())),r.getValue().push({thumbnail:d.GetUrlDynamicImage(i,i.Content.Preview.Thumbnail.Image,65,65,!1),title:m.PreviewTranslation.TITLE.getValue(i.Content.Preview.Text),description:m.PreviewTranslation.DESCRIPTION.getValue(i.Content.Preview.Text),url:i.Content.Landing.Url,container:document.createElement("div")}),i.Content.Playlist.Elements.forEach(function(t){r.getValue().push({thumbnail:d.GetUrlDynamicImage(i,t.Image,65,65,!1),title:t.Title,description:t.Description,url:t.Link,container:document.createElement("div")})})),o.apply(this,t)||this}}}}.apply(e,n))||(t.exports=n)},2679:function(t,e,n){var r,g=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8175),n(5503),n(8686)];void 0===(n=function(t,e,d,h,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundButtonDecorator=void 0,e.SoundButtonDecorator=function(l,u,p){return function(t){function e(t){s=t,n.style.backgroundImage=t?o:a}var n,r,i,o="url('"+d.AYL_URL.ADSERVER_FO_STATIC+"/native/images/volume_off.svg')",a="url('"+d.AYL_URL.ADSERVER_FO_STATIC+"/native/images/volume_up.svg')",s=!0;return g(c,i=t),c.prototype.addHTMLElements=function(){i.prototype.addHTMLElements.call(this),r=u.getValue(),(n=document.createElement("button")).id="ayl_sound_button",n.style.background="transparent center no-repeat",n.style.backgroundSize="contain",n.style.cursor="pointer",n.style.border="none",n.style.outline="none",n.style.transition="none",n.style.cssText=n.style.cssText+l.getValue(),n.style.opacity="0",r.appendChild(n)},c.prototype.addListeners=function(){i.prototype.addListeners.call(this),f.addClickListener(n,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=!s,p.getValue()(t)===t&&e(t)},!0),document.addEventListener(h.PlayerEvents.MUTE,function(){e(!0)}),document.addEventListener(h.PlayerEvents.UNMUTE,function(){e(!1)})},c.prototype.start=function(){i.prototype.start.call(this),n.style.opacity="1",e(!0)},c.prototype.stop=function(){i.prototype.stop.call(this),n&&(n.style.opacity="0")},c;function c(){return null!==i&&i.apply(this,arguments)||this}}}}.apply(e,n))||(t.exports=n)},5220:function(t,e,n){var r,v=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(4834)];void 0===(n=function(t,e,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimedButtonDecorator=void 0,e.TimedButtonDecorator=function(d,h,f,g,m){return function(t){var a,s,c,l,e,n,u,r=d,p=h,i=f;return v(o,u=t),o.prototype.addHTMLElements=function(){u.prototype.addHTMLElements.call(this),n=g.getValue(),(c=m?m.getValue():document.createElement("div")).id=""!==c.id?c.id:"ayl_timed_button",c.style.cssText=r,c.style.cursor="pointer",c.style.display="inline-block",""===c.style.width&&(s=!1),(e=document.createElement("div")).innerHTML=i.getValue(),e.style.position="relative",e.style.fontFamily="sans-serif",e.style.fontSize="18px",e.style.marginLeft="5px",e.style.marginRight="5px",e.style.textAlign="center",e.style.top="50%",e.style.transform="translateY(-50%)",y.isSafari()&&""===f.getValue()&&(e.style.fontSize="30px",e.style.transform="translateY(-55%)"),(l=document.createElement("div")).style.width="100%",l.style.height="100%",l.style.position="absolute",l.style.backgroundColor="white",l.style.borderRadius="30px",l.style.lineHeight="30px",a&&(s&&(l.style.border="2px solid rgba(0, 0, 0, 0.25)",l.style.borderBottomColor="#666",l.style.boxSizing="border-box"),c.style.color="#666",c.style.pointerEvents="none"),n.appendChild(c),c.appendChild(l),c.appendChild(e)},o.prototype.start=function(){var e,n,r,i,o;u.prototype.start.call(this),a&&(s&&(a=!1,i=function(t){e=requestAnimationFrame(i),o(r?t-r:16),r=t},o=function(t){n+=.45*t,l.style.transform="rotate("+n+"deg)"},i(r=n=0),setTimeout(function(){cancelAnimationFrame(e)},p.getValue())),setTimeout(function(){c.style.color="",c.style.pointerEvents="auto",l.style.border="",l.style.borderBottomColor="",l.style.boxSizing=""}.bind(this),p.getValue()))},o;function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=u.apply(this,t)||this;return a=0<h.getValue(),s=!0,n}}}}.apply(e,n))||(t.exports=n)},1477:function(t,e,n){var r,p=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(7337),n(5220),n(8686)];void 0===(n=function(t,e,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimedCloseButtonDecorator=void 0,e.TimedCloseButtonDecorator=function(o,a,s){return function(t){var n,r,e=new c.DecoratorParameter(document.createElement("div"));return e.getValue().id="ayl_close_button",s=s||new c.DecoratorParameter,p(i,r=t),i.prototype.addListeners=function(){r.prototype.addListeners.call(this),u.addClickListener(e.getValue(),this.stop.bind(this))},d([l.TimedButtonDecorator(o,s,new c.DecoratorParameter(""),a,e)],i);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n=c.findConfigurationArg(t),null===s.getValue()&&s.setValue(n.Content.ViewButtons.Close&&n.Content.ViewButtons.Close.Skip?n.Content.ViewButtons.Close.Skip:0),r.apply(this,t)||this}}}}.apply(e,n))||(t.exports=n)},553:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleDecorator=void 0,e.ToggleDecorator=function(n,r){return function(t){function e(){!0===n.getValue()?(r.getValue().style.display="block",setTimeout(function(){r.getValue().style.opacity="1"})):(r.getValue().style.display="none",r.getValue().style.opacity="0")}return n.setOnChange(e),e(),t}}}.apply(e,[n,e]))||(t.exports=e)},7337:(t,e,n)=>{var n=[n,e,n(4354)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorParameter=e.findConfigurationArg=void 0,e.findConfigurationArg=function(t){var e;return t.forEach(function(t){t.constructor===Object&&0!==Object.keys(t).length&&n.campaignSchema.isValidSync(t)&&(e=t)}),e};var r=(i.prototype.setValue=function(t){this.value!==t&&(this.value=t,this.onChange&&this.onChange())},i.prototype.getValue=function(){return this.value},i.prototype.setOnChange=function(t){this.onChange=t},i);function i(t,e){this.value=void 0!==t?t:null,this.onChange=e||null}e.DecoratorParameter=r}.apply(e,n))||(t.exports=n)},7014:function(t,e,n){var r,b=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(1190),n(7337),n(1643),n(7070),n(3152),n(4571),n(2679),n(8275),n(6322),n(8175)];void 0===(n=function(t,e,f,g,m,y,n,v,E,T,r,i){"use strict";function o(i,c){var l,u=document.createElement("div"),p=document.createElement("video"),d=-1,h=-1;return function(t){var o,n=new g.DecoratorParameter,r=new g.DecoratorParameter("width:16px;height:16px;border-radius:18px;position:absolute;bottom:10px;right:10px;"),a=new g.DecoratorParameter,s=new g.DecoratorParameter;return b(e,o=t),e.prototype.addHTMLElements=function(){o.prototype.addHTMLElements.call(this);var t=i.getValue();n.getValue()||n.setValue(t),""===t.style.position&&(t.style.position="relative"),p.style.position="absolute",p.style.display="none",p.style.backgroundColor="black",p.style.left="0px",p.style.top="0px",p.style.width="100%",p.style.height="100%",p.style.transition="none",p.volume=0,p.setAttribute("playsinline","true"),p.setAttribute("webkit-playsinline","true"),u.style.position="absolute",u.style.display="none",u.style.width="100%",u.style.height="100%",u.style.transition="none",t.insertBefore(u,t.childNodes[0]),t.insertBefore(p,t.childNodes[0])},e.prototype.addListeners=function(){var n=this;o.prototype.addListeners.call(this),T.Viewability.registerElement(p,function(){f.TriggerEvent(y.Event.VIEWABLE_VIDEO50,l,l.Campaign)},.5,2e3),window.addEventListener("resize",function(t,e){n.resize()}),document.addEventListener("visibilitychange",function(){l.Content.MainVideo.Pause&&(document.hidden?n.pause():n.play())})},e.prototype.getMediafileSize=function(){return[d,h]},e.prototype.setSoundButtonRootElement=function(t,e){n.setValue(t),r.setValue(e)},_([v.ReplayDecorator(a),E.SoundButtonDecorator(r,n,s),m.AylVastReaderDecorator(i,c,u,p)],e);function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n;l=g.findConfigurationArg(t),n=o.apply(this,t)||this,s.setValue(null===(r=n.mute)||void 0===r?void 0:r.bind(n)),a.setValue(n.imgElement);var r,i=window.atob(l.Content.MainVideo.Vast);return i=(r=i).match(/.*?<MediaFile.*?width="([^"]*)".*?<\/MediaFile>.*?/)||[],r=r.match(/.*?<MediaFile.*?height="([^"]*)".*?<\/MediaFile>.*?/)||[],i=2<i.length?parseInt(i[1],10):NaN,r=2<r.length?parseInt(r[1],10):NaN,d=isNaN(i)?d:i,h=isNaN(r)?h:r,n}}}Object.defineProperty(e,"__esModule",{value:!0}),e.VastReaderDecorator=e.ConditionnedVastReaderDecorator=void 0,e.ConditionnedVastReaderDecorator=function(t,e){return r.getTopMostWindow().document.body,i.shouldUseAylPlayer()?o(t,e):n.IMAVastReaderDecorator(t,e)},e.VastReaderDecorator=o}.apply(e,n))||(t.exports=n)},8275:(t,e,n)=>{var n=[n,e,n(8686),n(6322),n(6322)];void 0===(n=function(t,e,a,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Viewability=void 0;var n=(o.prototype.registerElement=function(t,e,n,r){e=new i(t,e,n=void 0===n?o.DEFAULT_MINIMUM_VIEWABLE:n,r);return this.registeredElements[e.getId()]=e,this.observer&&this.observer.observe(t),r&&0<r&&e.setVisible(this.isVisible(n,t)),e.getId()},o.prototype.unregisterElement=function(t){delete this.registeredElements[t]},o.prototype.replaceCallback=function(t,e){this.registeredElements[t].setCallback(e)},o.prototype.checkViewability=function(n){var t,r=this;for(t in this.registeredElements)!function(t){var e;r.registeredElements.hasOwnProperty(t)&&(e=r.registeredElements[t],r.observer&&n?n.forEach(function(t){e.value===t.target&&(t=Math.round(100*t.intersectionRatio)/100>=e.tolerance,e.setVisible(t))}):e.setVisible(r.isVisible(e.tolerance,e.value)))}(t)},o.prototype.isVisible=function(t,e){if(c.InIframe()&&document.body.contains(e)){var n=s.getSafeFrameEXT();if("function"==typeof(null==n?void 0:n.inViewPercentage))return n.inViewPercentage()/100>t}var r=s.getTopMostWindow(),i=r.document.body,o=e,n=window,e=a.GetParentIframe("#"+e.id);return e&&(o=e,i=window.parent.document.body,n=window.parent.window),!0!==r.document.hidden&&a.IsVisibleElement(n,o,t,i)},o.prototype.initListeners=function(t){if(!this.listens)try{window.hasOwnProperty("IntersectionObserver")?this.observer=new IntersectionObserver(this.checkViewability.bind(this),{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,.999]}):(t.addEventListener("resize",this.checkViewability.bind(this)),t.addEventListener("scroll",this.checkViewability.bind(this))),this.listens=!0}catch(t){}},o.prototype.resetViewability=function(){this.listens=!1,this.registeredElements={},this.observer&&(this.observer.disconnect(),this.observer=null)},o.getInstance=function(){return o.instance},o.DEFAULT_MINIMUM_VIEWABLE=.5,o.instance=new o,o),i=(r.prototype.getId=function(){return this.id},r.prototype.setVisible=function(t){"number"==typeof this.time?(this.callbackSent||(t&&!this.isVisible?(this.timeoutStart=new Date,this.timeout=window.setTimeout(this.triggerTime.bind(this),this.time)):!t&&this.timeout&&(this.time-=(new Date).getTime()-this.timeoutStart.getTime(),clearTimeout(this.timeout),this.timeout=0)),this.isVisible=t):this.callback(t)},r.prototype.triggerTime=function(){this.isVisible&&(this.callback(!0),this.callbackSent=!0)},r.prototype.setCallback=function(t){this.callback=t},r);function r(t,e,n,r){this.callbackSent=!1,this.value=t,this.callback=e,this.tolerance=n,this.time=r,this.id=Math.round(1e6*Math.random())}function o(){this.registeredElements={},this.listens=!1}e.Viewability=n.getInstance()}.apply(e,n))||(t.exports=n)},9893:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(6322),n(8686),n(7101)];void 0===(n=function(t,e,o,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Adreader=void 0;var s,n=(s=n.BaseVideoFormat,i(r,s),r.prototype.addHTMLElements=function(){s.prototype.addHTMLElements.call(this),this.injectorElement.appendChild(this.rootElement),this.rootElement.setAttribute("style","overflow: hidden; display: block; position: relative; height: 0px;"),this.injectorElement.style.transition="height 0.7s linear",this.rootElement.style.transition="height 0.7s linear"},r.prototype.open=function(){var r=this;s.prototype.open.call(this);var e=function(){var t;r.loaded?(t=window.getComputedStyle(r.injectorElement),r.videoHeight=9*parseInt(t.width,10)/16,r.formatHeight=parseInt(t.height,10),r.injectorElement.style.height=r.formatHeight+"px",r.rootElement.style.backgroundColor="black",setTimeout(n,0)):setTimeout(e,100)},n=function(){var n=r.formatHeight+r.videoHeight;a.applyCSSRule(r.injectorElement,"height",n+"px",r.expandedRules),a.applyCSSRule(r.rootElement,"height",r.videoHeight+"px",r.expandedRules),o.InIframe()&&!o.InSecuredIframe()&&o.executeUntilTopMostWindow(function(t){try{var e;t.parent.document.location.href.toString(),parseInt(t.parent.getComputedStyle(t.frameElement).height,10)<n&&((e=t.frameElement).style.transition="height 0.7s linear",a.applyCSSRule(e,"height",n+"px",r.expandedRules))}catch(t){}})},t=!1,i=function(){t||(t=!0,r.start(),r.rootElement.removeEventListener("transitionend",i),r.opened=!0)};this.rootElement.addEventListener("transitionend",i),setTimeout(i,1e3),e()},r.prototype.stop=function(){this.opened&&(s.prototype.stop.call(this),this.rootElement.style.backgroundColor="",a.removeCSSRules(this.expandedRules))},r);function r(){var t=null!==s&&s.apply(this,arguments)||this;return t.expandedRules=[],t}e.Adreader=n}.apply(e,n))||(t.exports=n)},3843:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseFormat=void 0;var n=(r.prototype.clearHTMLElements=function(){},r.prototype.addHTMLElements=function(){},r.prototype.addListeners=function(){},r.prototype.start=function(){},r.prototype.stop=function(){},r.prototype.resize=function(){},r.prototype.setOpener=function(t){this.opener=t},r.prototype.executeOpener=function(){this.opener&&this.opener.start()},r.prototype.perform=function(){this.executeOpener()},r.prototype.getWindow=function(){return this.window},r);function r(t,e,n){var r=this;this.config=t,this.window=window;try{window.self!==window.top&&window.parent.location.href&&(this.window=window.parent)}catch(t){}this.injectorElement=e,this.imgElement=e.querySelector("#ayl-img")||e.querySelector('img[src*="#mainImage=true"], [style*="#mainImage=true"]'),this.imgElement&&"ayl-img"!==this.imgElement.id&&(this.imgElement.id="ayl-img"),setTimeout(function(){r.addHTMLElements(),r.addListeners(),n&&n()},0)}e.BaseFormat=n}.apply(e,[n,e]))||(t.exports=e)},7101:function(t,e,n){var r,f=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(4834),n(5738),n(241),n(3843),n(4444),n(7014),n(7337),n(8686)];void 0===(n=function(t,e,s,n,r,i,o,a,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVideoFormat=void 0;var u,p=new c.DecoratorParameter,d=new c.DecoratorParameter,o=(u=i.BaseFormat,f(h,u),h.prototype.addHTMLElements=function(){this.setVideoState(r.VideoState.INIT,-1),this.rootElement=document.createElement("div"),this.rootElement.id="ayl_native_root_element_"+n.EscapeHTML(this.config.Attempt),p.setValue(this.rootElement);var t=this.injectorElement.querySelector("#ayl-hover-wording");t?this.ctaElement=t:(t=this.injectorElement.querySelector("#ayl-cta"),this.ctaElement=t)},h.prototype.setViewabilityReferenceElement=function(t){d.setValue(t)},h.prototype.addListeners=function(){var n=this,e=!1;l.addClickListener(this.rootElement,function(t){e=!0,setTimeout(function(){e=!1},0)}),l.addClickListener(this.injectorElement,function(t){e||n.onClick(t)});function r(t){var e;t&&"width"!==t.propertyName&&"height"!==t.propertyName||n.transitionOngoing||(n.transitionOngoing=!0,(e=function(){this.resize(),this.transitionOngoing&&requestAnimationFrame(e)}.bind(n))())}function i(t){"width"!==t.propertyName&&"height"!==t.propertyName||(n.transitionOngoing=!1,n.resize())}var t,o,a;this.imgElement?(this.imgElement.parentElement.addEventListener("transitionstart",function(t){r(t)}),this.imgElement.parentElement.addEventListener("transitionend",function(t){i(t)}),"IMG"===this.imgElement.nodeName?(t=function(){n.opened&&n.start(),n.loaded=!0},this.imgElement.complete?t():(this.imgElement.addEventListener("load",t),this.imgElement.addEventListener("error",t))):this.loaded=!0):this.loaded=!0,this.injectorElement.addEventListener("transitionstart",function(t){r(t)}),this.injectorElement.addEventListener("transitionend",function(t){i(t)}),s.isSafari()&&this.imgElement&&(a=o="",setInterval(function(){var t,e;n.transitionOngoing||(t=(e=window.getComputedStyle(n.imgElement.parentElement)).width,e=e.height,(""!==o&&o!==t||""!==a&&a!==e)&&r(),o=t,a=e)},30))},h.prototype.perform=function(){this.videoState!==r.VideoState.INIT||this.openTriggered||(this.openTriggered=!0,this.open())},h.prototype.onClick=function(t){this.executeOpener()},h.prototype.open=function(){this.ctaElement&&(this.ctaElement.style.display="")},h.prototype.start=function(){this.setVideoState(r.VideoState.LOADED,-1)},h.prototype.stop=function(){this.opened&&(u.prototype.stop.call(this),this.opened=!1,this.ctaElement&&(this.ctaElement.style.display="none"))},h.prototype.pause=function(){},h.prototype.play=function(){},h.prototype.getMediafileSize=function(){return[-1,-1]},h.prototype.setSoundButtonRootElement=function(t,e){},h.prototype.addStateChangedListener=function(t){this.videoStateListeners.push(t)},h.prototype.setVideoState=function(t,e){if(t!==this.videoState){this.videoState=t;for(var n=0,r=this.videoStateListeners;n<r.length;n++)r[n].onVideoStateChanged(t,e)}},g([a.ConditionnedVastReaderDecorator(p,d),o.ConditionnedReduceDecorator(p,d)],h));function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.videoState=r.VideoState.INIT,t.videoStateListeners=[],t.transitionOngoing=!1,t.openTriggered=!1,t.loaded=!1,t.opened=!1,t}e.BaseVideoFormat=o}.apply(e,n))||(t.exports=n)},7878:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7101),n(6322)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPreview=void 0;var i,n=(i=n.BaseVideoFormat,a(o,i),o.prototype.addHTMLElements=function(){var t;i.prototype.addHTMLElements.call(this),this.rootElement.style.position="absolute",this.imgElement?(this.imgElement.style.zIndex="0",t=this.imgElement.parentNode,this.imgElement.nextSibling?t.insertBefore(this.rootElement,this.imgElement.nextSibling):t.appendChild(this.rootElement),r.isCreative21(this.config)?(this.rootElement.style.left="0px",this.rootElement.style.top="0px",this.rootElement.style.width="100%",this.rootElement.style.height="100%"):0<this.imgElement.offsetHeight?this.resizeOnImage():(this.imgElement.addEventListener("load",this.resizeOnImage.bind(this)),parseInt(window.getComputedStyle(this.rootElement.parentElement).width,10),this.rootElement.style.left=this.imgElement.offsetLeft+"px",this.rootElement.style.top=this.imgElement.offsetTop+"px")):(this.injectorElement.appendChild(this.rootElement),this.rootElement.style.left="0px",this.rootElement.style.top="0px",this.rootElement.style.width="100%",this.rootElement.style.height="100%")},o.prototype.resizeOnImage=function(){this.rootElement.style.left=this.imgElement.offsetLeft+"px",this.rootElement.style.top=this.imgElement.offsetTop+"px",this.rootElement.style.width=this.imgElement.offsetWidth+"px",this.rootElement.style.height=this.imgElement.offsetHeight+"px",this.resize()},o.prototype.open=function(){i.prototype.open.call(this),this.loaded&&this.start(),this.opened=!0},o);function o(){return null!==i&&i.apply(this,arguments)||this}e.InPreview=n}.apply(e,n))||(t.exports=n)},241:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoState=void 0,(e=e.VideoState||(e.VideoState={})).INIT="Initialized",e.LOADED="Loading",e.PLAYING="Playing",e.PAUSED="Paused",e.ENDED="Ended"}.apply(e,[n,e]))||(t.exports=e)},5118:(t,e,T)=>{var n=T(7017),r=[T,e,T(4220),T(1168),T(3843),T(2313),T(5573),T(7614),T(4409),T(5831),T(6811),T(6322)];void 0===(r=function(t,e,u,p,d,h,f,g,m,y,v,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Load=void 0,e.Load=function(c,l,t){return new n(function(t,e){function n(){++o===a&&(null===r||l.Content.Banner||r.setOpener(i),t(r))}var r,i,o=0,a=2,s=l.IntegrationConfig.Kind===f.NativeIntegration.WIDGET&&l.DisplayMode===v.WidgetDisplayMode.STORY&&l.Opener!==g.Opener.INVIEW;switch(l.Content.MainVideo&&!s?(s=l.VideoFormat||l.Opener,u.logger.log(u.LogLevel.INFO,"Init video format : "+s),r=s===y.VideoFormat.ADREADER?new(T(9893).Adreader)(l,c,n):new(T(7878).InPreview)(l,c,n)):(r=new d.BaseFormat(l,c,n),u.logger.log(u.LogLevel.INFO,"Init opener : "+l.Opener)),l.Opener){case g.Opener.FULLSCREEN:i=new h.FullscreenOpener(l,c,n);break;case g.Opener.LIGHTBOX:i=new(l.Content.Playlist?p.SeeMorePopInOpener:p.PopInOpener)(l,c,n);break;case g.Opener.REDIRECT:i=new m.RedirectOpener(l,E.getTopMostWindow()),n();break;default:a--}})}}.apply(e,r))||(t.exports=r)},7760:function(t,e,n){var r,y=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(6754),n(1190),n(6322),n(246),n(7615),n(7337),n(7070),n(2703),n(8275)];void 0===(n=function(t,e,n,a,s,r,c,i,l,o,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CliprBanner=void 0;var p,d,h=new i.DecoratorParameter,f=new i.DecoratorParameter,o=(d=r.Banner,y(m,d),m.prototype.createMainContainer=function(){d.prototype.createMainContainer.call(this);var t=this.element.style;t.overflow="hidden",t.borderRadius="10px"},m.prototype.addHTMLElements=function(){d.prototype.addHTMLElements.call(this),h.setValue(this.element),this.iframe.style.opacity="0",this.iframe.style.borderRadius="10px"},m.prototype.addListeners=function(){var e=this;d.prototype.addListeners.call(this),window.addEventListener("message",function(t){"APPLICATION_READY"===t.data.key&&(t.data.size&&(e.neededSize=t.data.size.split("x")),e.onContentLoad(!0))})},m.prototype.setClickthroughListener=function(){},m.prototype.updateVisibleState=function(t){var e=c.CliprInterface.getEvent("CLIPR_PAUSE");(e=t?c.CliprInterface.getEvent("CLIPR_RESUME"):e)!==this.visibilityCommand&&(this.postDataKey(e),this.visibilityCommand=e)},m.prototype.updateVisibleIABState=function(t){var e=c.CliprInterface.getEvent("VISIBILITY_UNDER_50");(e=t?c.CliprInterface.getEvent("VISIBILITY_OVER_50"):e)!==this.iabVisibilityCommand&&(this.postDataKey(e),this.iabVisibilityCommand=e)},m.prototype.onContentLoad=function(t){var e=this,n=c.CliprInterface.isCliprIntegration(this.config);if((!n||t)&&(f.setValue(this.neededSize),a.TriggerEvent(l.Event.INVIEW_IMPRESSION,this.config),u.Viewability.registerElement(this.iframe,function(){a.TriggerEvent(l.Event.INVIEW_VISIBLE_IMPRESSION,e.config)},.5,1e3),d.prototype.onContentLoad.call(this),this.iframe.style.transition="opacity 0.7s ease-in",this.iframe.style.opacity="1",n)){t=c.CliprInterface.getEvent("PAGE_URL"),n=(s.InSecuredIframe()?s.getTopMostWindow().document.referrer:s.getTopMostWindow().document.location.href).substring(0,1500);this.postDataKey(t,n),this.config.Content.Landing.InViewContentUrl&&this.postDataKey(c.CliprInterface.getEvent("LANDING_URL"),this.config.Content.Landing.Url);for(var r=c.CliprInterface.getAylEvents(),i=0;i<r.length;i++){var o=c.CliprInterface.generateUrls(this.config,r[i].key,this.element);1===o.pixelTrackings.length?this.postDataKey(r[i].value,o.pixelTrackings[0]):this.postDataKey(r[i].value,o.pixelTrackings),1===o.jsTrackings.length?this.postDataKey(r[i].value,o.jsTrackings[0],"javascript"):1<o.jsTrackings.length&&this.postDataKey(r[i].value,o.jsTrackings,"javascript")}u.Viewability.registerElement(this.iframe,this.updateVisibleState.bind(this),.4),u.Viewability.registerElement(this.iframe,this.updateVisibleIABState.bind(this),.5)}},m.prototype.CreateOptOutButton=function(){return null},m.prototype.postDataKey=function(t,e,n){if(t){t={key:t};e&&(t.value=e),n&&(t.type=n),this.messageQueue.push(t)}else if(0===this.messageQueue.length)return;if(this.contentLoaded)for(;this.iframe.contentWindow&&0!==this.messageQueue.length;)this.iframe.contentWindow.postMessage(this.messageQueue.shift(),"*")},m.prototype.wrapUrl=function(t){return n.RedirUrl(this.config,t,l.Event.INVIEW_OPENED)},y(g,p=m),v([o.ExpandableContainerDecorator(h,f)],g));function g(){return null!==p&&p.apply(this,arguments)||this}function m(){var t=null!==d&&d.apply(this,arguments)||this;return t.visibilityCommand="",t.iabVisibilityCommand="",t.neededSize=[],t.messageQueue=[],t}e.CliprBanner=o}.apply(e,n))||(t.exports=n)},7615:(t,e,n)=>{var n=[n,e,n(5738),n(1190),n(7070)];void 0===(n=function(t,e,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CliprInterface=void 0;var n=(r.isCliprIntegration=function(t){var e;if(t.Content&&t.Content.Landing){t=(null===(e=t.Content.Banner)||void 0===e?void 0:e.Url)||t.Content.Landing.InViewContentUrl||t.Content.Landing.Url;if(t&&-1!==t.indexOf("clipr"))return!0}return!1},r.getEvent=function(e){return r.CLIPR_EVENTS.filter(function(t){return t.key===e}).map(function(t){return t.value})[0]},r.getAylEvents=function(){return r.CLIPR_EVENTS.filter(function(t){return t.key instanceof s.EventKind})},r.generateUrls=function(n,t,e){var r=[a.generateTrackingUrl(t,n)],i=[];Array.isArray(t)?t.forEach(function(t,e){i.push(a.getOnEvents(t,n))}):i.push(a.getOnEvents(t,n));t=[];return{pixelTrackings:r=(r=r.concat(i.filter(function(t){return t.Kind===s.OnEventType.PIXEL_URL}).map(function(t){return o.SubstituteTokens(t.Url)}))).concat(i.filter(function(t){return t.Kind===s.OnEventType.PARTNER_PIXEL_URL&&t.Partner}).map(function(t){return a.MakeTriggerUrlFromPartner(t.Partner,e)})),jsTrackings:t=(t=t.concat(i.filter(function(t){return t.Kind===s.OnEventType.JAVASCRIPT_URL}).map(function(t){return o.SubstituteTokens(t.Url)}))).concat(i.filter(function(t){return t.Kind===s.OnEventType.PARTNER_JAVASCRIPT_URL&&t.Partner}).map(function(t){return o.SubstituteTokens(t.Url)}))}},r.CLIPR_EVENTS=[{key:s.Event.CLICK,value:"PXL_URL_CTA"},{key:"VISIBILITY_OVER_50",value:"IFRAME_VISIBILITY_OVER_50"},{key:"VISIBILITY_UNDER_50",value:"IFRAME_VISIBILITY_UNDER_50"},{key:"CLIPR_PAUSE",value:"PAUSE_CURRENT_CLIP"},{key:"CLIPR_RESUME",value:"RESUME_CURRENT_CLIP"},{key:"PAGE_URL",value:"PAGE_URL"},{key:"LANDING_URL",value:"REDIRECT_URL_CTA"}],r);function r(){}e.CliprInterface=n}.apply(e,n))||(t.exports=n)},246:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(4834),n(1190),n(7070),n(3505),n(6322)];void 0===(n=function(t,e,o,r,i,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var s,n=(s=n.GenericWidget,l(c,s),c.prototype.addHTMLElements=function(){var t=this,e='<html><head></head><body style="margin: 0px; overflow:hidden;">'+this.config.Content.Banner.ADM+"</body></html>",n=this.config.Content.Banner.Width,r=this.config.Content.Banner.Height;this.iframe=document.createElement("iframe");var i=this.iframe.style;i.width="100%",i.height="100%",i.maxWidth="100%",i.borderWidth="0px",i.position="absolute",i.left="50%",i.transform="translate(-50%, 0px)",this.config.Content.Banner.Url?this.iframe.setAttribute("src",this.wrapUrl(this.config.Content.Banner.Url)):o.isIE()?this.iframe.setAttribute("src","data:text/html;charset=utf-8,"+e):this.iframe.setAttribute("srcdoc",e),this.iframe.onload=function(){t.contentLoaded||t.onContentLoad()},this.element.style.width=n?n+"px":"100%",this.element.style.height=r?r+"px":"100%",this.element.appendChild(this.iframe)},c.prototype.addListeners=function(){s.prototype.addListeners.call(this),this.setClickthroughListener()},c.prototype.setClickthroughListener=function(){var e,n=this;o.isChrome()?a.getTopMostWindow().addEventListener("blur",function(){document.activeElement===n.iframe&&r.TriggerEvent(i.Event.CLICK,n.config)}):e=setInterval(function(){var t=document.activeElement;t&&"IFRAME"===t.tagName&&(t.contains(n.iframe)||t===n.iframe)&&(r.TriggerEvent(i.Event.CLICK,n.config),clearInterval(e))},100)},c.prototype.wrapUrl=function(t){return t},c.prototype.onContentLoad=function(){this.contentLoaded=!0},c);function c(){var t=null!==s&&s.apply(this,arguments)||this;return t.contentLoaded=!1,t}e.Banner=n}.apply(e,n))||(t.exports=n)},3910:function(t,e,n){var r,g=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8943),n(6754),n(2282),n(5738),n(2920),n(8709),n(7614),n(7070),n(7545),n(7545),n(8686)];void 0===(n=function(t,e,n,r,i,d,o,h,a,s,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Comment=void 0;var f,n=(f=n.Integration,g(p,f),p.prototype.parseHTML=function(t){return t=t.replace(/[]/g,function(t){return"<sup style='vertical-align: super'>"+t+"</sup>"}),h.ParseHTML(t)},p.prototype.getContentNodes=function(){if(this.config.Opener!==a.Opener.SPONSORPOST)return this.parseHTML("");var t=new i.Widget(l.SponsoTranslation.POSTCONTENT.getValue(this.config.Content.Sponso.Text,""),this.config).Text(),t=this.parseHTML(t);return this.injectClickTrackings(t),t},p.prototype.getTitleNodes=function(){var t=this.config.Opener===a.Opener.SPONSORPOST?l.SponsoTranslation.TITLE.getValue(this.config.Content.Sponso.Text,""):c.PreviewTranslation.TITLE.getValue(this.config.Content.Preview.Text,"");return this.parseHTML("<div>"+d.EscapeHTML(t)+"</div>")},p.prototype.getAuthorNodes=function(){var t="";return this.config.Opener===a.Opener.SPONSORPOST&&(t=l.SponsoTranslation.SPONSOR.getValue(this.config.Content.Sponso.Text,"")),this.parseHTML("<div>"+d.EscapeHTML(t)+"</div>")},p.prototype.getAuthorLogoNodes=function(){return this.parseHTML("<div></div>")},p.prototype.getDatetimeNodes=function(){var t=this.config.Lang.toString(),e=o.TIME_FORMATS[t]||o.TIME_FORMATS.EN,t=o.TIME_LOCALES[t]||o.TIME_LOCALES.EN;return this.parseHTML("<div>"+o.DefaultStrftime(e.long,t)+"</div>")},p.prototype.InjectOptOutButton=function(){},p);function p(t,e,n){var p=f.call(this,t,e,n)||this;return p.injectClickTrackings=function(t){for(var e=0;e<t.length;e++){var n=t[e].href;"A"===t[e].nodeName&&n&&-1===n.indexOf("tracking.omnitagjs.com")?t[e].href=r.RedirUrl(p.config,n,s.Event.CLICK):0<t[e].childElementCount&&p.injectClickTrackings(t[e].children)}},u.onDomReady(function(){for(var t,e,n=[],r=new RegExp("^\\s*@(?:(Title|Content|Author|AuthorLogo|Datetime)|AYL:(?:"+d.EscapeHTML(p.config.Placement).replace(/[^a-fA-F0-9]/g,"")+":)?([a-z0-9_]+)(?:\\((.*)\\))?)\\s*$","i"),i=document.getElementsByTagName("*"),o=0,a=i.length;o<a;o++)for(var s=0,c=(t=i[o].childNodes).length;s<c;s++)if(8===(e=t[s]).nodeType){var l=!1;try{l=!!(e.data&&0<=e.data.indexOf("@"))}catch(t){}if(l){l=e.data;if(l){l=l.match(r);if(l){var l=(l[2]||l[1]).toUpperCase(),u=void 0;switch(l){case"TITLE":u=p.getTitleNodes();break;case"CONTENT":u=p.getContentNodes();break;case"AUTHOR":u=p.getAuthorNodes();break;case"AUTHORLOGO":u=p.getAuthorLogoNodes();break;case"DATETIME":u=p.getDatetimeNodes()}u&&(n.push({after:e,nodes:u}),"CONTENT"===l&&(p.mainContentElement=u[0]))}}}}for(p.injectedNodes=[],o=0;o<n.length;o++){for(s=n[o].nodes.length-1;0<=s;s--)h.InsertAfter(n[o].nodes[s],n[o].after);p.injectedNodes.push.apply(p.injectedNodes,n[o].nodes)}}),p}e.Comment=n}.apply(e,n))||(t.exports=n)},8943:(t,e,n)=>{var n=[n,e,n(8709),n(8686)];void 0===(n=function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Integration=void 0;var r=(i.prototype.SetConfig=function(t){this.config=t},i.prototype.Execute=function(){},i.prototype.Refresh=function(){},i.prototype.GetInjectedNodes=function(){return this.injectedNodes},i.prototype.GetMainContentElement=function(){return this.mainContentElement},i.prototype.Remove=function(){for(var t,e=0;e<this.injectedNodes.length;e++)(t=this.injectedNodes[e]).parentNode.removeChild(t)},i.prototype.InjectOptOutButton=function(){var t=this.CreateOptOutButton();t&&this.mainContentElement.appendChild(t)},i.prototype.CreateOptOutButton=function(){var t,n=this,e=document.createElement("img"),r="FR"===this.config.Lang.toString()?"Suspendre le ciblage publicitaire Adyoulike":"Opt out of Adyoulike ad targeting";return e.setAttribute("src",null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Credit.Logo.Resource.Data.External.Url),e.setAttribute("title",r),e.setAttribute("class","ayl_optout_button"),e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.zIndex="9999999",e.style.width="15px",e.style.height="15px",e.style.padding="5px",e.style.boxSizing="content-box",o.addClickListener(e,function(t){if(n.adChoiceUrl=n.config.Content.Preview.Credit.Url,!n.isAdyoulikeADChoice(n.adChoiceUrl)||!n.canShowADChoice())return window.open(n.adChoiceUrl,"_blank"),void t.stopPropagation();var e="right";t.target instanceof Element&&(e=n.getSide(window.getComputedStyle(t.target))),n.showAdChoiceElement(e),t.stopPropagation()},!0),e},i.prototype.getSide=function(t){return parseInt(t.getPropertyValue("right"),10)<parseInt(t.getPropertyValue("left"),10)?"right":"left"},i.prototype.composeAdChoice=function(t){var e=this,n=document.createElement("div"),r=document.createElement("iframe"),i=document.createElement("div");return n.className="ayl-adchoice-container",n.style.position="absolute","right"===t?n.style.right="5px":n.style.left="5px",n.style.top="5px",n.style.zIndex="10000000",n.style.backgroundColor="white",n.style.overflow="hidden",n.style.width="300px",n.style.height="200px",n.style.boxShadow="2px -2px 4px 1px rgba(168,168,168,0.51)",n.style.opacity="0",n.style.transition="opacity 0.6s ease-out",setTimeout(function(){n.style.opacity="1"},0),this.adChoiceContainer=n,r.setAttribute("src",this.adChoiceUrl),r.style.width="100%",r.style.height="100%",r.style.border="none",i.innerText="",i.style.position="absolute",i.style.right="2px",i.style.top="4px",i.style.width="20px",i.style.height="20px",i.style.lineHeight="20px",i.style.textAlign="center",o.addClickListener(i,function(){e.mainContentElement.removeChild(n),event.stopPropagation()}),n.appendChild(r),n.appendChild(i),n},i.prototype.pauseAd=function(){return!1},i.prototype.resumeAd=function(){return!1},i.prototype.resizeAd=function(t,e,n){return!1},i.prototype.isAdyoulikeADChoice=function(t){return/omnitagjs.com/.test(t)},i.prototype.canShowADChoice=function(){return this.mainContentElement.offsetWidth>this.minWidthAdChoiceIframe&&this.mainContentElement.offsetHeight>this.minHeightAdChoiceIframe},i.prototype.showAdChoiceElement=function(t){this.mainContentElement.appendChild(this.composeAdChoice(t)),n.AddClass(this.adChoiceContainer,"expand")},i);function i(t,e,n){this.minHeightAdChoiceIframe=200,this.minWidthAdChoiceIframe=300,this.ID_ADCHOICE_CSS="css-for-adchoice",this.config=t,this.UITrigger=e,this.injectedNodes=[],this.targetElement=n}e.Integration=r}.apply(e,n))||(t.exports=n)},5165:(t,e,n)=>{var n=[n,e,n(4220),n(7614),n(6811)];void 0===(n=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericReader=void 0;var o=(a.prototype.getProperty=function(t){switch(t){case"descriptionlength":case"thumbnailwidth":case"thumbnailheight":return"0";default:return n.logger.log(n.LogLevel.INFO,"Property could not be found : "+t),""}},a.prototype.getBooleanProperty=function(t){if("isvideoreduce"!==t)return null;var e=this.config.DisplayMode===i.WidgetDisplayMode.STORY;return(null===(t=this.config.Content.MainVideo)||void 0===t?void 0:t.Reduce)&&!e},a.prototype.getStoryMode=function(){return this.config.Opener===r.Opener.INVIEW?"INVIEW":"NONE"},a.prototype.getImageContent=function(t){return""},a.prototype.getInviewUrl=function(t){var e=null===(e=this.config.Content.Banner)||void 0===e?void 0:e.Url;return!e&&this.config.Content.Landing&&(this.getProperty("description"),e=this.config.Content.Landing.InViewContentUrl||this.config.Content.Landing.Url),e},a.prototype.isLandingUrlSafe=function(t){var e;return this.config.Opener!==r.Opener.INVIEW||!(null===(e=this.config.Content.Landing)||void 0===e||!e.InViewContentUrl)||null!==(null===(e=this.getProperty("description"))||void 0===e?void 0:e.match(/.*\[inviewurl=(.*)\]$/g))},a);function a(t){this.config=t}e.GenericReader=o}.apply(e,n))||(t.exports=n)},6493:function(t,e,n){var r,g=n(6887),m=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(1312),n(3420),n(2282),n(5738),n(2920),n(4220),n(4920),n(7545),n(7545)];void 0===(n=function(t,e,i,o,n,r,a,s,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InjectorEnvSponsorpost=e.InjectorEnv=void 0;var p=(d.prototype._run=function(){var t=this;window.AylInjectorEnv=window.AylInjectorEnv||{},(window.AylInjectorEnv[this.Uid]=this).Html="\x3c!-- ayl_template_beacon_"+this.Uid+" --\x3e";var e,n,r=new Function("g","__break__",this._integrator.injector+"\nreturn __break__;"),i=new Object;r(this,i)===i&&(e=(new Date).getTime(),(n=function(){0<=document.body.innerHTML.indexOf("ayl_template_beacon_"+t.Uid)?t._integrator.InjectorSuccessCallback():2e3<=(new Date).getTime()-e?s.logger.log(s.LogLevel.WARNING,"InjectorEnv timeout."):setTimeout(n,200)})())},d.prototype.Template=function(t){switch(t){case i.Template.Remove:return'<a>    <div id="aylclose_'+this.Uid+'" style="background-image:url('+r.EscapeHTML(this.config.StaticPrefix)+'/./native/images/ayl_close.png);cursor:pointer;height:0.917em;width:0.917em;display:block;"></div></a>';case i.Template.Sponsor:var e,n='<div id="aylsponsor_'+this.Uid+'"';return this.config.Content.Preview.Sponsor?(e="",this.config.HasSponsorImage&&this.config.Content.Preview.Sponsor.Logo?(e='<img  alt="'+r.EscapeHTML(this.config.Content.Preview.Sponsor.Name)+'" src="'+o.GetUrlFromResourceImage(this.config,this.config.Content.Preview.Sponsor.Logo.Resource)+'" style="display:inline;height:32px;width:32px !important;border:0;padding:0;margin:0 0.3em 0 0.3em;float:none;background:transparent;">',n+=' style="margin-top:-27px;margin-bottom:-20px;">'+this.Text(i.Translation.TranslationNativeSponsor)+e):(e=" "+r.EscapeHTML(this.config.Content.Preview.Sponsor.Name),n+=">"+this.Text(i.Translation.TranslationNativeSponsor)+e)):n+=">"+this.Text(i.Translation.TranslationNativeSponsor),'<div style="display:inline;border:0;padding:0;margin:0;"><style type="text/css">#aylsponsor_'+this.Uid+"{{opacity:0.5;}} #aylsponsor_"+this.Uid+":hover{{opacity:1;}}</style>"+(n+="</div>")+"</div>";default:return""}},d.prototype.UITrigger=function(t){var e;switch(t){case i.UITrigger.NativeUITriggerLoad:e=c.NativeUITrigger.LOAD;break;case i.UITrigger.NativeUITriggerClickArticle:e=c.NativeUITrigger.CLICK;break;case i.UITrigger.NativeUITriggerClickClose:e=c.NativeUITrigger.CLICK_CLOSE;break;case i.UITrigger.NativeUITriggerScroll:e=c.NativeUITrigger.SCROLL;break;case i.UITrigger.NativeUITriggerMouserOver:e=c.NativeUITrigger.CLICK;break;default:throw new Error("Trigger not implemented: "+e)}return this._integrator.UITrigger(e)},d.prototype.InlineUITrigger=function(t){return"if (typeof event !== &quot;undefined&quot; && event !== null && event.preventDefault) event.preventDefault();  AylInjectorEnv['"+this.Uid+"'].UITrigger(AylInjectorEnv['"+this.Uid+"'].NativeUITrigger.cast(&quot;"+t+"&quot;));"},d.prototype.Strftime=function(t,e){var n=""+this.config.Lang;return a.DefaultStrftime(t,a.TIME_LOCALES[n]||a.TIME_LOCALES.EN)},d.prototype.ImageUrl=function(t,e){var n,r;try{r=i.Image.cast(t)}catch(e){throw new Error("Unknown ImageKind "+t)}switch(r){case i.Image.ImageSponsor:n=this.config.Content.Preview.Sponsor.Logo.Resource;break;case i.Image.ImageThumbnail:n=this.config.Content.Preview.Thumbnail.Image;break;default:throw new Error("ImageKind not implemented :"+r)}return e.raw?o.GetUrlFromResourceImage(this.config,n):o.GetUrlDynamicImage(this.config,n,e.width,e.height,e.lowres)},d.prototype.Text=function(t,e){var n;switch(void 0===e&&(e={}),t){case i.Translation.TranslationNativeCallToAction:n=l.PreviewTranslation.CALLTOACTION.getValue(this.config.Content.Preview.Text,"");break;case i.Translation.TranslationNativeCategory:n=l.PreviewTranslation.CATEGORY.getValue(this.config.Content.Preview.Text,"");break;case i.Translation.TranslationNativeLegal:n=this.config.Legal;break;case i.Translation.TranslationNativeSponsor:n=l.PreviewTranslation.SPONSOR.getValue(this.config.Content.Preview.Text,"");break;case i.Translation.TranslationNativeDescription:n=l.PreviewTranslation.DESCRIPTION.getValue(this.config.Content.Preview.Text,"");break;case i.Translation.TranslationNativeSubtitle:n=l.PreviewTranslation.SUBTITLE.getValue(this.config.Content.Preview.Text,"");break;case i.Translation.TranslationNativeTitle:n=l.PreviewTranslation.TITLE.getValue(this.config.Content.Preview.Text,"");break;default:throw new Error("Translation not implemented :"+t)}return n=0<e.maxLength?d.Truncate({text:r.EscapeHTML(n),length:e.maxLength}):r.EscapeHTML(n),r.Superscript(n)},d.Truncate=function(t){for(var e=t.text.split("[BREAK]"),n=0,r=0,i=e.length;r<i;++r)if((n+=e[r].length)>t.length)return e.slice(0,r).join("")||e[0];return e.join("")},d);function d(t){this._integrator=t,this.JQuery=g,this.config=this._integrator.config,this.Translation=i.Translation,this.NativeUITrigger=i.UITrigger,this.Uid="uid"+r.EscapeHTML(this.config.Attempt)}e.InjectorEnv=p;var h,p=(m(f,h=p),f.prototype.Text=function(t,e){switch(void 0===e&&(e={}),t){case i.Translation.TranslationNativeTitle:return r.EscapeHTML(u.SponsoTranslation.TITLE.getValue(this.config.Content.Sponso.Text,""));case i.Translation.TranslationNativeSponsor:return r.EscapeHTML(u.SponsoTranslation.SPONSOR.getValue(this.config.Content.Sponso.Text,""));case i.Translation.TranslationNativePostContent:return new n.Widget(u.SponsoTranslation.POSTCONTENT.getValue(this.config.Content.Sponso.Text,""),this.config).Text();default:throw new Error("Translation not implemented :"+t)}},f);function f(){return null!==h&&h.apply(this,arguments)||this}e.InjectorEnvSponsorpost=p}.apply(e,n))||(t.exports=n)},1312:function(t,e,n){var r,S=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UITrigger=e.UITriggerKind=e.Image=e.ImageKind=e.ImageEnum=e.Translation=e.TranslationKind=e.Template=e.TemplateKind=void 0;var r,i,o=(i=n.Enum,S(c,i),c),a=(r=n.EnumElement,S(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.Remove=new a("REMOVE"),t.Sponsor=new a("SPONSOR"),t}e.TemplateKind=a,e.Template=new o;var l,u,o=(u=n.Enum,S(h,u),h),p=(l=n.EnumElement,S(d,l),d);function d(){return null!==l&&l.apply(this,arguments)||this}function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.TranslationNativeCallToAction=new p("CALLTOACTION"),t.TranslationNativeCategory=new p("CATEGORY"),t.TranslationNativeLegal=new p("LEGAL"),t.TranslationNativeSponsor=new p("SPONSOR"),t.TranslationNativeDescription=new p("DESCRIPTION"),t.TranslationNativeSubtitle=new p("SUBTITLE"),t.TranslationNativeTitle=new p("TITLE"),t.TranslationNativePostContent=new p("POSTCONTENT"),t}e.TranslationKind=p,e.Translation=new o;var f,o=(f=n.Enum,S(g,f),g);function g(){var t=null!==f&&f.apply(this,arguments)||this;return t.ImageThumbnail=new y("NATIVE_THUMBNAIL"),t.ImageSponsor=new y("SPONSOR_LOGO"),t}e.ImageEnum=o;var m,y=(m=n.EnumElement,S(v,m),v);function v(){return null!==m&&m.apply(this,arguments)||this}e.ImageKind=y,e.Image=new o;var E,T,o=(T=n.Enum,S(w,T),w),b=(E=n.EnumElement,S(_,E),_);function _(){return null!==E&&E.apply(this,arguments)||this}function w(){var t=null!==T&&T.apply(this,arguments)||this;return t.NativeUITriggerLoad=new b("LOAD"),t.NativeUITriggerClickArticle=new b("CLICK"),t.NativeUITriggerClickClose=new b("CLICK_CLOSE"),t.NativeUITriggerScroll=new b("SCROLL"),t.NativeUITriggerMouserOver=new b("MOUSE_OVER"),t}e.UITriggerKind=b,e.UITrigger=new o}.apply(e,n))||(t.exports=n)},8307:function(t,e,n){var r,u=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8943),n(6493),n(5738),n(4220),n(8686)];void 0===(n=function(t,e,n,r,p,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SponsorInjector=e.Injector=void 0;var a,n=(a=n.Integration,u(s,a),s.prototype.Refresh=function(){this.mainContentElement.parentElement&&this.mainContentElement.parentElement.removeChild(this.mainContentElement),new r.InjectorEnv(this)._run()},s.prototype.RunEnv=function(){new r.InjectorEnv(this)._run()},s);function s(t,e,n){var u=a.call(this,t,e)||this;return u.InjectorSuccessCallback=function(){if(!u.loaded){for(var t,e="ayl_template_beacon_uid"+p.EscapeHTML(u.config.Attempt),n=document.getElementsByTagName("*"),r=void 0,i=0,o=n.length;i<o;i++)for(var a=0,s=(t=n[i].childNodes).length;a<s;a++)if(8===(r=t[a]).nodeType){var c=!1;try{c=!!(r.data&&0<=r.data.indexOf(e))}catch(e){}if(c){for(var l=r.nextSibling;l&&1!==l.nodeType;)l=l.nextSibling;if(!l)throw new Error("Unable to find injected element for attempt "+p.EscapeHTML(u.config.Attempt));u.mainContentElement=l,u.injectedNodes=[l];break}}u.afterInject()}},u.injector=u.config.IntegrationConfig.Injector,u.afterInject=n,o.onDomReady(function(){if((""+window.location).match(/^[^:]+:\/\/([^\/]+\.)?omnitag(js|sb)\.com\.?(\/|$)/))throw new Error("Error, can't execute injector in omnitag domain");if((""+window.location).match(/^[^:]+:\/\/((?!demo|native\-generator|public|video|mobile|www|preview-)[^\/]+\.)?adyoulike\.(co\.)?[^.]+\.?(\/|$)/))throw new Error("Error, can't execute injector in adyoulike domain");0<=document.body.innerHTML.indexOf("ayl_template_beacon_uid"+p.EscapeHTML(u.config.Attempt))?i.logger.log(i.LogLevel.INFO,"Integration already inserted"):u.RunEnv()}),u}e.Injector=n;var c,n=(u(l,c=n),l.prototype.RunEnv=function(){new r.InjectorEnvSponsorpost(this)._run()},l);function l(t,e,n){n=c.call(this,t,e,n)||this;return n.injector=n.config.IntegrationConfig.SponsorInjector,n}e.SponsorInjector=n}.apply(e,n))||(t.exports=n)},386:function(t,e,n){var r,d=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(5165)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SponsorInjectorConfigurationReader=e.InjectorConfigurationReader=void 0;var r,i,o=/(\(g.ImageUrl\("NATIVE_THUMBNAIL",(?:[\s]+)?{(?:[\s]+)?((?:width|height):(?:[\s]+)?([0-9]+)),(?:[\s]+)?((?:width|height):(?:[\s]+)?([0-9]+)),(?:[\s]+)?lowres:(?:[\s]+)?[a-z]+(?:[\s]+)?}\)\))/gm,a=/\(g\.Text\(g\.TranslationKind\.TranslationNativeDescription,(?:[\s]+)?{(?:[\s]+)?maxLength:(?:[\s]+)?([0-9]+)(?:[\s]+)?}\)\)/gm,s=(i=n.GenericReader,d(l,i),l.prototype.getProperty=function(t){switch(t){case"descriptionlength":return this.descriptionInfo?this.descriptionInfo[1]:"0";case"thumbnailwidth":return this.getThumbnailSize("width");case"thumbnailheight":return this.getThumbnailSize("height");default:return i.prototype.getProperty.call(this,t)}},l.prototype.getThumbnailSize=function(t){return!this.thumbnailInfo||"width"!==t&&"height"!==t?"0":-1!==this.thumbnailInfo[2].indexOf(t)?this.thumbnailInfo[3]:this.thumbnailInfo[5]},l),n=(d(c,r=s),c);function c(t){var e=r.call(this,t)||this;return e.injector=t.IntegrationConfig.Injector,e.descriptionInfo=a.exec(e.injector),e.thumbnailInfo=o.exec(e.injector),e}function l(){return null!==i&&i.apply(this,arguments)||this}e.InjectorConfigurationReader=n;var u,s=(d(p,u=s),p);function p(t){var e=u.call(this,t)||this;return e.injector=t.IntegrationConfig.SponsorInjector,e.descriptionInfo=a.exec(e.injector),e.thumbnailInfo=o.exec(e.injector),e}e.SponsorInjectorConfigurationReader=s}.apply(e,n))||(t.exports=n)},3808:(t,e,n)=>{var r=n(7017),n=[n,e,n(4220),n(5573),n(246),n(7760),n(7615),n(3910),n(171),n(3827),n(7614),n(4155),n(8307),n(5633),n(9509),n(6811),n(5850)];void 0===(n=function(t,e,u,p,d,h,f,g,m,y,v,E,T,b,_,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Load=void 0,e.Load=function(o,a,s,c){var l=new r(function(e,t){var n,r,i;if(a.Opener===v.Opener.INVIEW&&(r={Url:m.ConfigurationReader.getInviewUrl(a.Attempt),ADM:"",Width:0,Height:0},o===p.NativeIntegration.WIDGET&&(r=Object.assign(r,a.IntegrationConfig.Widget.Placeholders.Size)),a.Content.Banner=r,o=p.NativeIntegration.WIDGET),a.DisplayMode===w.WidgetDisplayMode.VIDEO)return u.logger.log(u.LogLevel.INFO,"Init display mode : VIDEO"),e(new _.Widget169(a,s,c)),l;switch(u.logger.log(u.LogLevel.INFO,"Init integration : "+o),o){case p.NativeIntegration.NONE:n=new y.None(a,s,c),e(n);break;case p.NativeIntegration.COMMENT:n=new g.Comment(a,s,c),e(n);break;case p.NativeIntegration.TEMPLATE:a.Content.Banner?(i=new d.Banner(a,s,c),e(i)):(n=new b.Template(a,s,c),e(n));break;case p.NativeIntegration.SPONSOR_COMMENT:n=new g.Comment(a,s,c),e(n);break;case p.NativeIntegration.SPONSOR_INJECTOR:n=new T.SponsorInjector(a,s,function(){e(n)});break;case p.NativeIntegration.WIDGET:a.Content.Banner&&f.CliprInterface.isCliprIntegration(a)?(i=new h.CliprBanner(a,s,c),e(i)):a.Content.Banner?(i=new d.Banner(a,s,c),e(i)):S.getWidget(a,s,c).then(function(t){e(t)});break;case p.NativeIntegration.PREMIUM:n=new E.Premium(a,s),e(n);break;default:t("Unknown : "+o)}});return l}}.apply(e,n))||(t.exports=n)},3827:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8943)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.None=void 0;var r,n=(r=n.Integration,o(i,r),i.prototype.InjectOptOutButton=function(){},i);function i(t,e,n){n=r.call(this,t,e,n)||this;return n.mainContentElement=document.body,n.injectedNodes=[],n}e.None=n}.apply(e,n))||(t.exports=n)},9653:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAIN_ELEMENT_DISPLAY_MODE=e.DEFAULT_IMAGE_HEIGHT=e.DEFAULT_IMAGE_WIDTH=e.DEFAULT_DESCRIPTION_LENGTH=e.SPONSOR_WITHOUT_IMG=e.IMAGE_LOW_RESOLUTION_ATTR=e.IMAGE_RAW_ATTR=e.IMAGE_HEIGHT_ATTR=e.IMAGE_WIDTH_ATTR=e.DESCRIPTION_LENGTH_ATTR=e.MAIN_ELEMENT_DISPLAY_MODE_ATTR=e.ACTION_REMOVE_CLASS=e.ACTION_CLICK_CLASS=e.SPONSOR_CLASS=e.LEGAL_CLASS=e.CTA_CLASS=e.IMAGE_CLASS=e.DESCRIPTION_CLASS=e.TITLE_CLASS=e.CONTENT_PREFIX=e.ATTR_PREFIX=void 0,e.ATTR_PREFIX="data-ayl-attr-",e.CONTENT_PREFIX="ayl-p-content-",e.TITLE_CLASS=e.CONTENT_PREFIX+"title",e.DESCRIPTION_CLASS=e.CONTENT_PREFIX+"description",e.IMAGE_CLASS=e.CONTENT_PREFIX+"image",e.CTA_CLASS=e.CONTENT_PREFIX+"cta",e.LEGAL_CLASS=e.CONTENT_PREFIX+"legal",e.SPONSOR_CLASS=e.CONTENT_PREFIX+"sponsor",e.ACTION_CLICK_CLASS=e.CONTENT_PREFIX+"action-click",e.ACTION_REMOVE_CLASS=e.CONTENT_PREFIX+"action-remove",e.MAIN_ELEMENT_DISPLAY_MODE_ATTR=e.ATTR_PREFIX+"main-element-display-mode",e.DESCRIPTION_LENGTH_ATTR=e.ATTR_PREFIX+"description-length",e.IMAGE_WIDTH_ATTR=e.ATTR_PREFIX+"image-width",e.IMAGE_HEIGHT_ATTR=e.ATTR_PREFIX+"image-height",e.IMAGE_RAW_ATTR=e.ATTR_PREFIX+"image-raw",e.IMAGE_LOW_RESOLUTION_ATTR=e.ATTR_PREFIX+"image-low-resolution",e.SPONSOR_WITHOUT_IMG=e.ATTR_PREFIX+"sponsor-without-img",e.DEFAULT_DESCRIPTION_LENGTH=200,e.DEFAULT_IMAGE_WIDTH=250,e.DEFAULT_IMAGE_HEIGHT=250,e.DEFAULT_MAIN_ELEMENT_DISPLAY_MODE="block"}.apply(e,[n,e]))||(t.exports=e)},4155:function(t,e,n){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8943),n(3452),n(3593),n(4920)];void 0===(n=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Premium=void 0;var a,n=(a=n.Integration,c(s,a),s.prototype.fillTemplate=function(){var t=this,e=document.querySelector(r.MakeMainSelector(this.config));if(!e)throw new Error("No main element for integration PREMIUM for placement: "+this.config.Placement);return i.Fill(this.config,e),i.addClickAction(function(){t.UITrigger(o.NativeUITrigger.CLICK)}),i.addRemoveAction(function(){t.UITrigger(o.NativeUITrigger.CLICK_CLOSE)}),e},s.prototype.Refresh=function(){this.Execute()},s.prototype.Execute=function(){this.mainContentElement=this.fillTemplate(),this.injectedNodes=[this.mainContentElement]},s);function s(t,e){return a.call(this,t,e)||this}e.Premium=n}.apply(e,n))||(t.exports=n)},605:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(9653),n(3420),n(5738),n(5165),n(7545)];void 0===(n=function(t,e,a,i,n,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PremiumConfigurationReader=void 0;var s,r=(s=r.GenericReader,l(c,s),c.prototype.getProperty=function(t){switch(t){case"mainselector":return"#"+a.CONTENT_PREFIX+this.config.Placement;case"titleselector":return this.getProperty("mainselector")+" ."+a.TITLE_CLASS;case"descriptionselector":return this.getProperty("mainselector")+" ."+a.DESCRIPTION_CLASS;case"imageselector":return this.getProperty("mainselector")+" ."+a.IMAGE_CLASS;case"ctaselector":return this.getProperty("mainselector")+" ."+a.CTA_CLASS;case"legalselector":return this.getProperty("mainselector")+" ."+a.LEGAL_CLASS;case"sponsorselector":return this.getProperty("mainselector")+" ."+a.SPONSOR_CLASS;case"clickselector":return this.getProperty("mainselector")+" ."+a.ACTION_CLICK_CLASS+","+this.getProperty("mainselector")+"."+a.ACTION_CLICK_CLASS;case"removeselector":return this.getProperty("mainselector")+" ."+a.ACTION_REMOVE_CLASS;case"image":return this.getImageContent();case"calltoaction":return o.PreviewTranslation.CALLTOACTION.getValue(this.config.Content.Preview.Text);case"description":return o.PreviewTranslation.DESCRIPTION.getValue(this.config.Content.Preview.Text);case"descriptionlength":return""+this.descriptionElement.Attributes.Length;case"displaymode":return this.mainElement.Attributes[a.MAIN_ELEMENT_DISPLAY_MODE_ATTR]||"";case"legal":return this.config.Legal;case"sponsor":return this.getSponsorContent();case"title":return o.PreviewTranslation.TITLE.getValue(this.config.Content.Preview.Text);case"thumbnailwidth":return""+this.imageElement.Attributes.Width;case"thumbnailheight":return""+this.imageElement.Attributes.Height;default:return s.prototype.getProperty.call(this,t)}},c.prototype.getImageContent=function(){var t=this.imageElement.Attributes.Width,e=this.imageElement.Attributes.Height,n=this.imageElement.Attributes.LowRes,r=this.config.Content.Preview.Thumbnail.Image;return i.GetUrlDynamicImage(this.config,r,t,e,n)},c.prototype.getSponsorContent=function(){var t="";return this.config.Content.Preview.Sponsor&&(t=o.PreviewTranslation.SPONSOR.getValue(this.config.Content.Preview.Text,""),this.config.HasSponsorImage&&this.config.Content.Preview.Sponsor.Logo?t+=' <img src="'+i.GetUrlFromResourceImage(this.config,this.config.Content.Preview.Sponsor.Logo.Resource)+'" style="max-width:100px;max-height:50px;vertical-align:middle;">':t+=" "+n.EscapeHTML(this.config.Content.Preview.Sponsor.Name)),t},c.prototype.fetchElement=function(t,e){if(e=!e&&t?document.querySelector(t):e){for(var n={},r=0;r<e.attributes.length;r++){var i=e.attributes[r],o=i.nodeName.split(a.ATTR_PREFIX);2===o.length&&(n[a.ATTR_PREFIX+o[1]]=i.nodeValue)}return{Element:e,Attributes:n}}},c.prototype.fetchImage=function(){var t=this.fetchElement(this.getProperty("imageselector"));if(t){var e=t.Attributes[a.IMAGE_WIDTH_ATTR],n=t.Attributes[a.IMAGE_HEIGHT_ATTR],r=t.Attributes[a.IMAGE_LOW_RESOLUTION_ATTR],e=e?parseInt(e,10):a.DEFAULT_IMAGE_WIDTH,n=n?parseInt(n,10):a.DEFAULT_IMAGE_HEIGHT,r=!(!r||"true"!==r.toLowerCase());return{Element:t.Element,Attributes:{Width:e,Height:n,LowRes:r}}}},c.prototype.fetchDescription=function(){var t=this.fetchElement(this.getProperty("descriptionselector"));if(t){var e=t.Attributes[a.DESCRIPTION_LENGTH_ATTR],e=e?parseInt(e,10):a.DEFAULT_DESCRIPTION_LENGTH;return{Element:t.Element,Attributes:{Length:e}}}},c);function c(t){t=s.call(this,t)||this;return t.mainElement=t.fetchElement("",document.querySelector(t.getProperty("mainselector"))),t.imageElement=t.fetchImage(),t.descriptionElement=t.fetchDescription(),t}e.PremiumConfigurationReader=r}.apply(e,n))||(t.exports=n)},3452:(t,e,n)=>{var n=[n,e,n(9653),n(3593),n(4220)];void 0===(n=function(t,e,n,r,o){"use strict";function a(t){return"#"+r.MakeMainContentId(t)}function s(t){return a(t)+" ."+n.TITLE_CLASS}function c(t){return a(t)+" ."+n.IMAGE_CLASS}function l(t){return a(t)+" ."+n.ACTION_CLICK_CLASS+","+a(t)+"."+n.ACTION_CLICK_CLASS}Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSelector=e.MakeActionRemoveSelector=e.MakeActionClickSelector=e.MakeSponsorSelector=e.MakeLegalSelector=e.MakeCtaSelector=e.MakeImageSelector=e.MakeDescriptionSelector=e.MakeTitleSelector=e.MakeMainSelector=void 0,e.MakeMainSelector=a,e.MakeTitleSelector=s,e.MakeDescriptionSelector=function(t){return a(t)+" ."+n.DESCRIPTION_CLASS},e.MakeImageSelector=c,e.MakeCtaSelector=function(t){return a(t)+" ."+n.CTA_CLASS},e.MakeLegalSelector=function(t){return a(t)+" ."+n.LEGAL_CLASS},e.MakeSponsorSelector=function(t){return a(t)+" ."+n.SPONSOR_CLASS},e.MakeActionClickSelector=l,e.MakeActionRemoveSelector=function(t){return a(t)+" ."+n.ACTION_REMOVE_CLASS},e.CheckSelector=function(t,e,n){for(var r=[a(t),s(t),c(t),l(t)],i=0;i<r.length;i++)if(!document.querySelector(r[i]))return o.logger.log(o.LogLevel.INFO,"missing selector "+r[i]),void n();e()}}.apply(e,n))||(t.exports=n)},3593:(t,e,n)=>{var n=[n,e,n(9653),n(5738),n(171),n(8686)];void 0===(n=function(t,e,r,i,o,n){"use strict";function a(t,e){var n=o.ConfigurationReader.getProperty("displaymode").toLowerCase();switch(n){case"inline":case"block":case"flex":case"inline-block":case"inline-flex":case"inline-table":case"list-item":case"none":case"initial":case"inherit":e.style.display=n;break;default:e.style.display=r.DEFAULT_MAIN_ELEMENT_DISPLAY_MODE}}function s(t){var e=document.querySelector(o.ConfigurationReader.getProperty("titleselector"));e&&(e.innerHTML=o.ConfigurationReader.getProperty("title"))}function c(t){var e,n,r=document.querySelector(o.ConfigurationReader.getProperty("descriptionselector"));r&&(e=o.ConfigurationReader.getProperty("description"),n=parseInt(o.ConfigurationReader.getProperty("descriptionlength"),10),r.innerHTML=i.ChunkText(e,n))}function l(t){var e,n,r=document.querySelector(o.ConfigurationReader.getProperty("imageselector"));r&&(e=o.ConfigurationReader.getProperty("image"),n=document.createElement("img"),r.nodeName!==n.nodeName?(n.src=e,n.setAttribute("width","100%"),n.setAttribute("height","100%"),r.appendChild(n)):r.src=e)}function u(t){var e=document.querySelector(o.ConfigurationReader.getProperty("ctaselector"));e&&(e.innerHTML=o.ConfigurationReader.getProperty("calltoaction"))}function p(t){var e=document.querySelector(o.ConfigurationReader.getProperty("legalselector"));e&&(e.innerHTML=o.ConfigurationReader.getProperty("legal"))}function d(t){var e,n=document.querySelector(o.ConfigurationReader.getProperty("sponsorselector"));n&&(e=o.ConfigurationReader.getProperty("sponsor"),n.innerHTML=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.addRemoveAction=e.addClickAction=e.Fill=e.MakeMainContentId=void 0,e.MakeMainContentId=function(t){return r.CONTENT_PREFIX+t.Placement},e.Fill=function(t,e){for(var n=[a,s,c,l,u,p,d],r=0;r<n.length;r++)n[r](t,e)},e.addClickAction=function(t){var e=document.querySelector(o.ConfigurationReader.getProperty("clickselector"));e&&n.addClickListener(e,function(){t()})},e.addRemoveAction=function(t){var e=document.querySelector(o.ConfigurationReader.getProperty("removeselector"));e&&n.addClickListener(e,function(){t()})}}.apply(e,n))||(t.exports=n)},5633:function(t,e,n){var r,f=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8943),n(4073),n(4220),n(4920),n(171),n(6322),n(7005),n(8709),n(8686),n(8039)];void 0===(n=function(t,e,n,a,s,r,i,c,l,o,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Template=void 0;var d,n=(d=n.Integration,f(h,d),h.prototype.makeTemplate=function(){var t;return this.config.Content.Preview.Text&&this.config.Content.Preview.Thumbnail&&(t=(t=i.ConfigurationReader.fillHTML(this.config.IntegrationConfig.Template.Html||'<div id="{{uid}}" style="text-align:center;"> <img src="{{image}}"> <div> <h2>{{title}} </h3> <p>{{description}} </p> <p>{{legal}} <span><b>{{calltoaction}}</b></span> </p> </div></div>')).replace(/[]/g,function(t){return t}),t=o.ParseHTML(t)[0]),this.insertStyleSheet("StyleSheet"),t},h.prototype.insertStyleSheet=function(t){var e=this.templateIntegration[t];e&&(e=i.ConfigurationReader.fillHTML(e),t=document.createElement("style"),e=document.createTextNode(e),t.appendChild(e),window.document.head.appendChild(t))},h.prototype.Trigger=function(t){this.UITrigger(r.NativeUITrigger.cast(t))},h.prototype.Refresh=function(){var t,e=this,n=this.makeTemplate();null===(t=this.nativeTemplate.parentNode)||void 0===t||t.replaceChild(n,this.nativeTemplate),this.nativeTemplate=n,this.templateIntegration.ClickFormat&&(u.addClickListener(this.nativeTemplate,function(){e.Trigger("CLICK")}),this.nativeTemplate.style.cursor="pointer"),this.mainContentElement=this.nativeTemplate,this.injectedNodes=[this.nativeTemplate]},h.prototype.Execute=function(){var e=this,t="\x3c!-- ayl_template_beacon_uid"+this.Uid+" --\x3e";if(0<=document.body.innerHTML.indexOf(t))s.logger.log(s.LogLevel.INFO,"Integration already inserted");else{if(window.AylTemplateEnv=window.AylInjectorEnv||{},(window.AylTemplateEnv[this.Uid]=this).nativeTemplate=this.makeTemplate(),this.targetElement)this.targetElement.appendChild(this.nativeTemplate);else if(this.templateIntegration.Selector){var n=a.QuerySelector(this.config,this.templateIntegration.Selector);if(n)switch(n&&n.parentNode&&"HEAD"===n.parentNode.tagName&&(n=document.body,this.templateIntegration.Insertion=l.IntegrationInsertion.APPEND),this.templateIntegration.Insertion){case l.IntegrationInsertion.BEFORE:n.insertAdjacentElement("beforebegin",this.nativeTemplate),this.nativeTemplate=n.previousSibling;break;case l.IntegrationInsertion.PREPEND:this.nativeTemplate=n.insertBefore(this.nativeTemplate,n.firstChild);break;case l.IntegrationInsertion.APPEND:this.nativeTemplate=n.appendChild(this.nativeTemplate);break;case l.IntegrationInsertion.AFTER:var r=n.nextSibling,i=n.parentNode;this.nativeTemplate=n&&r?i.insertBefore(this.nativeTemplate,r):i.appendChild(this.nativeTemplate);break;case l.IntegrationInsertion.REPLACE:n.parentNode.replaceChild(this.nativeTemplate,n);break;default:throw new Error("Unknown IntegrationInsertion "+this.templateIntegration.Insertion.toString())}}"WIDGET"!==this.kind||this.nativeTemplate||(this.nativeTemplate=document.querySelector("#ayl_"+this.Uid)),!this.nativeTemplate.parentElement&&c.InIframe()&&document.body.appendChild(this.nativeTemplate),this.templateIntegration.ClickFormat&&(u.addClickListener(this.nativeTemplate,function(t){e.Trigger("CLICK"),t.stopPropagation()},!1),this.nativeTemplate.style.cursor="pointer"),this.nativeTemplate.insertAdjacentHTML("beforebegin",t),this.mainContentElement=this.nativeTemplate,this.injectedNodes=[this.nativeTemplate],this.config.Content.Banner||"absolute"!==(o=window.getComputedStyle(this.mainContentElement).getPropertyValue("position"))&&"fixed"!==o&&(this.mainContentElement.style.position="relative");var o=this.mainContentElement.querySelector("#ayl-img")||this.mainContentElement.querySelector('img[src*="#mainImage=true"], [style*="#mainImage=true"]');o&&(0<o.offsetHeight?this.mainContentElement.dispatchEvent(p.createNewEvent("resize")):o.addEventListener("load",function(){e.mainContentElement.dispatchEvent(p.createNewEvent("resize"))}))}},h.prototype.CreateOptOutButton=function(){var t=d.prototype.CreateOptOutButton.call(this);return t.style.zIndex="99",t},h.prototype.InjectOptOutButton=function(){var t=this.CreateOptOutButton();t&&this.nativeTemplate.appendChild(t)},h);function h(t,e,n){n=d.call(this,t,e,n)||this;return n.Uid=n.config.Attempt,n.templateIntegration=n.config.IntegrationConfig.Template,n.kind="TEMPLATE",n}e.Template=n}.apply(e,n))||(t.exports=n)},5890:function(t,e,n){var r,u=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(3420),n(5738),n(2920),n(5165),n(7545),n(6322)];void 0===(n=function(t,e,i,r,n,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateConfigurationReader=void 0;var c,o=(c=o.GenericReader,u(l,c),l.prototype.fillHTML=function(t){var e=t.match(/{{([a-zA-Z\_]+)}}/g);if(e)for(var n=0;n<e.length;n++){var r=e[n],i=r.substring(2,r.length-2).toLowerCase();t=t.replace(r,this.getProperty(i))}return t},l.prototype.getProperty=function(t){var e;switch(t){case"title":return r.EscapeHTML(a.PreviewTranslation.TITLE.getValue(null===(e=this.config.Content.Preview)||void 0===e?void 0:e.Text));case"legal":return r.EscapeHTML(this.config.Legal);case"image":return this.getImageContent()+"#mainImage=true";case"calltoaction":return r.EscapeHTML(a.PreviewTranslation.CALLTOACTION.getValue(null===(e=this.config.Content.Preview)||void 0===e?void 0:e.Text,""));case"description":return this.getDescriptionContent();case"descriptionlength":return this.getDescriptionLength();case"remove":return this.getRemoveContent();case"sponsor":return this.getSponsorContent();case"raw_sponsor":return this.getRawSponsorContent();case"now":return this.getStrftime();case"uid":return"ayl_"+this.config.Attempt;case"fontfamily":return this.getFont();case"titlecolor":return this.getColor(this.integration.Placeholders.Title.Color);case"bodycolor":return this.getColor(this.integration.Placeholders.Body.Color);case"bodybackgroundcolor":return this.getColor(this.integration.Placeholders.Body.BackgroundColor);case"boxshadow":return this.getBoxShadow();case"bodywidth":return this.getBodyWidth();case"thumbnailwidth":return this.getThumbnailSize("Width");case"thumbnailheight":return this.getThumbnailSize("Height");case"sizewidth":return this.getSize("Width");case"sizeheight":return this.getSize("Height");case"bodyalign":return this.getBodyAlign();case"calltoactioncolor":return this.getColor(this.integration.Placeholders.CallToAction.Color);case"sponsorcolor":return this.getColor(this.integration.Placeholders.Sponsor.Color);case"logo":var n=(null===(n=this.config.Content.Preview)||void 0===n?void 0:n.Sponsor)||{};return n.Logo?i.GetUrlFromResourceImage(this.config,n.Logo.Resource):"";case"action_close":return this.getActionClickContent("CLICK_CLOSE");case"action_click":return this.getActionClickContent("CLICK");case"addomain":return this.config.AdDomain||"";case"opener":n=this.config.Opener.toString();return n?"ayl-"+n.toLowerCase():"";default:return c.prototype.getProperty.call(this,t)}},l.prototype.getImageContent=function(t){var e=t&&"number"==typeof t.width?t.width:this.integration.Placeholders.Image.Width,n=t&&"number"==typeof t.height?t.height:this.integration.Placeholders.Image.Height,t=null===(r=this.config.Content.Preview)||void 0===r?void 0:r.Thumbnail.Image,r=this.integration.Placeholders.Image.Lowres;return i.GetUrlDynamicImage(this.config,t,e,n,r)},l.prototype.getDescriptionContent=function(){var t,e="",n="";return this.config.Content.Preview&&(t=this.config.Content.Preview.Text,(t=null==(e=r.ChunkText(r.EscapeHTML(a.PreviewTranslation.DESCRIPTION.getValue(t)),null===(t=this.integration.Placeholders.Description)||void 0===t?void 0:t.Length))?void 0:e.match(/(.*)\[inviewurl=(.*)\]$/))&&(e=t[1],n=t[2]),!n||null!==(t=this.config.Content.Landing)&&void 0!==t&&t.InViewContentUrl||(this.config.Content.Landing?this.config.Content.Landing.InViewContentUrl=n:this.config.Content.Landing={InViewContentUrl:n,Url:"",LegacyTracking:!1})),e},l.prototype.getDescriptionLength=function(){var t=0;return""+(t=this.integration.Placeholders.Description?this.integration.Placeholders.Description.Length:t)},l.prototype.getRemoveContent=function(){return'<a onclick="'+this.getActionClickContent("CLICK_CLOSE")+'"><div style="background-image:url('+r.EscapeHTML(this.config.StaticPrefix)+'/./native/images/ayl_close.png);cursor:pointer;height:0.917em;width:0.917em;display:block;"></div></a>'},l.prototype.getActionClickContent=function(t){return this.integration.ClickFormat?"":"if (typeof event !== &quot;undefined&quot; && event !== null && event.preventDefault) event.preventDefault(); event.stopPropagation(); window.AylTemplateEnv[&quot;"+this.config.Attempt+"&quot;].Trigger(&quot;"+t+"&quot;);"},l.prototype.getSponsorContent=function(){var t,e="",n=null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Sponsor;return n?(t=r.EscapeHTML(n.Name),n=n.Logo,s.isCreative21(this.config)||!this.config.HasSponsorImage||!n||this.integration.Placeholders.Sponsor&&this.integration.Placeholders.Sponsor.WithoutLogo?t&&(e+=this.getSponsorText()+" "+t):(t='<img  alt="'+t+'" src="'+i.GetUrlFromResourceImage(this.config,null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Sponsor.Logo.Resource)+'" style="display:inline;height: 32px;max-height: 32px;width: 32px;max-width: 32px;vertical-align: middle;border:0;padding:0;margin:0 0.3em 0 0.3em;float:none;background:transparent;">',e+=this.getSponsorText()+" "+t)):e+=this.getSponsorText(),e?"<div class='ayl_native_template_credit'>"+e+"</div>":""},l.prototype.getSponsorText=function(){var t;return this.integration.Placeholders.Sponsor?this.integration.Placeholders.Sponsor.Label?"":r.EscapeHTML(a.PreviewTranslation.SPONSOR.getValue(null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Text,"")):r.EscapeHTML(a.PreviewTranslation.SPONSOR.getValue(null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Text,""))},l.prototype.getRawSponsorContent=function(){var t;return this.getSponsorText()+" "+r.EscapeHTML(null===(t=this.config.Content.Preview)||void 0===t?void 0:t.Sponsor.Name)},l.prototype.getStrftime=function(){var t,e=""+this.config.Lang;return n.DefaultStrftime(null===(t=this.integration.Placeholders.Now)||void 0===t?void 0:t.Format,n.TIME_LOCALES[e]||n.TIME_LOCALES.EN)},l.prototype.getFont=function(){return this.integration.Placeholders.Body.FontFamily},l.prototype.getColor=function(t){return t?"rgba("+t.R+","+t.G+","+t.B+","+t.A/100+")":"rgba(255, 255, 255, 100%)"},l.prototype.getBoxShadow=function(){return this.integration.Placeholders.Body.BoxShadow?"0px 0px 10px rgba(34,34,34,.2)":""},l.prototype.getBodyWidth=function(){return this.integration.Placeholders.Body.Width||"100%"},l.prototype.getThumbnailSize=function(t){var e,n=this.integration.Placeholders?this.integration.Placeholders.Size:null;switch(t){case"Width":e=300;break;case"Height":e=250;break;default:return""}return!n||"string"==typeof n[t]&&n[t].endsWith("%")||(t=parseInt(n[t],10),isNaN(t)||(e=t)),""+e},l.prototype.getSize=function(t){if("Width"!==t&&"Height"!==t)return"";var e=this.integration.Placeholders.Size||[];return e[t]||"100%"},l.prototype.getBodyAlign=function(){return this.integration.Placeholders.Body&&this.integration.Placeholders.Body.Align?this.integration.Placeholders.Body.Align:"margin: auto;"},l);function l(t){var e=c.call(this,t)||this;return e.integration=t.IntegrationConfig.Template,e}e.TemplateConfigurationReader=o}.apply(e,n))||(t.exports=n)},4503:(t,e,n)=>{var n=[n,e,n(4073),n(3452),n(5573)];void 0===(n=function(t,e,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkIntegration=void 0,e.checkIntegration=function(t,e,n){switch(t.IntegrationConfig.Kind){case o.NativeIntegration.TEMPLATE:r.CheckSelector(t,t.IntegrationConfig.Template.Selector,function(){e()},function(){n()});break;case o.NativeIntegration.WIDGET:r.CheckSelector(t,t.IntegrationConfig.Widget.Selector,function(){e()},function(){n()});break;case o.NativeIntegration.PREMIUM:i.CheckSelector(t,function(){e()},function(){n()});break;case o.NativeIntegration.COMMENT:case o.NativeIntegration.SPONSOR_COMMENT:case o.NativeIntegration.SPONSOR_INJECTOR:case o.NativeIntegration.NONE:e();break;default:throw new Error("CheckIntegration: Integration not implemented for kind:"+t.IntegrationConfig.Kind.toString())}}}.apply(e,n))||(t.exports=n)},9509:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8819),n(171)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget169=void 0;var i,n=(i=n.BlurredBackWidget,a(o,i),o.prototype.makeTemplate=function(){var t=i.prototype.makeTemplate.call(this);return this.element.style.width="100%",this.element.style.height="100%",t},o.prototype.addHTMLElements=function(){i.prototype.addHTMLElements.call(this);var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0,0,0,0.5)",this.backgroundContainer.appendChild(t),this.imgStyle=this.imageContainer.style,this.imgStyle.position="absolute",this.imgStyle.width="60%",this.imgStyle.marginBottom="86px",this.imgStyle.right="0px",this.imgStyle.overflow="hidden",this.element.appendChild(this.imageContainer);var e=document.createElement("div");this.textsStyle=e.style,this.textsStyle.position="absolute",this.textsStyle.display="flex",this.textsStyle.flexDirection="column",this.textsStyle.justifyContent="space-between",this.textsStyle.left="5%",this.textsStyle.width="30%",this.textsStyle.color="white",e.appendChild(this.title),e.appendChild(this.description);t=document.createElement("div");t.appendChild(this.cta),e.appendChild(t),this.element.appendChild(e)},o.prototype.createMainContainer=function(){i.prototype.createMainContainer.call(this);var t=this.element.style;t.fontFamily="Arial, Helvetica, sans-serif",t.overflow="hidden"},o.prototype.createTitle=function(){i.prototype.createTitle.call(this);var t=this.title.style;t.textOverflow="",t.overflow="",t.whiteSpace="",t.fontWeight="bold",this.titleStyle=t},o.prototype.createDescription=function(){i.prototype.createDescription.call(this),this.descStyle=this.description.style,this.descStyle.display="-webkit-box",this.descStyle.overflow="hidden",this.descStyle["-webkit-box-orient"]="vertical",this.descStyle["-webkit-line-clamp"]="5",this.descStyle.textOverflow="ellipsis"},o.prototype.createCTA=function(){i.prototype.createCTA.call(this);var t=this.cta.style;t.display="inline-block",t.left="0px",t.textOverflow="ellipsis",t.whiteSpace="nowrap",t.color="white",t.backgroundColor="#059FFF",t.textTransform="initial",t.fontWeight="bold",t.boxSizing="initial",this.ctaStyle=t},o.prototype.createImage=function(){i.prototype.createImage.call(this);var t=this.image.style;t.backgroundSize="",t.backgroundRepeat="no-repeat",t.backgroundPosition="center",t.transition=this.transitionString,t.transform="scale(1)"},o.prototype.CreateOptOutButton=function(){var t=i.prototype.CreateOptOutButton.call(this),e=t.style;return e.position="absolute",e.right="8px",e.top="8px",e.width="21px",e.height="21px",e.padding="0px",t},o.prototype.start=function(){var t=this;i.prototype.start.call(this),setTimeout(function(){t.image.style.backgroundImage="url("+r.ConfigurationReader.getImageContent({width:t.image.offsetWidth,height:0},t.config.Attempt)+")",t.image.style.transform="scale(1.2)"},0)},o.prototype.pauseAd=function(){var t=this.image.style;if(this.pausedTransform)return!1;var e=window.getComputedStyle(this.image);return this.pausedTransform=e.transform,t.transition="",t.transform=this.pausedTransform,!0},o.prototype.resumeAd=function(){var t=this.image.style;return!!this.pausedTransform&&(t.transition=this.transitionString,t.transform="scale(1.2)",!(this.pausedTransform=""))},o.prototype.resizeAd=function(t,e,n){return this.adjustStyle(t),!0},o.prototype.adjustStyle=function(t){this.fontSizeScale=t/this.baseWidth,this.ctaStyle.fontSize=Math.max(this.scaleSize(18),10)+"px",this.ctaStyle.height=this.scaleSize(45)+"px",this.ctaStyle.lineHeight=this.scaleSize(45)+"px",this.ctaStyle.borderRadius=this.scaleSize(22)+"px",this.ctaStyle.padding="0px "+this.scaleSize(40)+"px",this.ctaStyle.margin=this.scaleSize(20)+"px 0px "+this.scaleSize(10)+"px 0px",this.descStyle.fontSize=Math.max(this.scaleSize(16),10)+"px",this.descStyle.lineHeight=Math.max(this.scaleSize(23),11)+"px",this.descStyle.margin=this.scaleSize(10)+"px 0px",this.titleStyle.fontSize=this.scaleSize(26)+"px",this.titleStyle.margin=this.scaleSize(10)+"px 0px";var e=Math.min(this.scaleSize(58),58);this.imgStyle.marginTop=e+"px",this.textsStyle.marginTop=e+"px";var n=Math.min(this.scaleSize(86),58);this.imgStyle.marginBottom=n+"px",this.textsStyle.marginBottom=n+"px";n=e+n,n=Math.round(9/16*t)-n;this.imgStyle.height=n+"px",this.textsStyle.height=n+"px",n<350&&(this.descStyle["-webkit-line-clamp"]="4",this.descStyle.margin="0px"),450<n&&(this.descStyle["-webkit-line-clamp"]="6",this.titleStyle.margin=this.scaleSize(10)+"px 0px 0px 0px")},o.prototype.scaleSize=function(t){return Math.round(t*this.fontSizeScale)},o);function o(){var t=null!==i&&i.apply(this,arguments)||this;return t.transitionString="transform 6s ease",t.fontSizeScale=1,t.baseWidth=730,t}e.Widget169=n}.apply(e,n))||(t.exports=n)},8819:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(171),n(3505)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlurredBackWidget=void 0;var i,r=(i=r.GenericWidget,a(o,i),o.prototype.addHTMLElements=function(){this.backgroundContainer=this.createBackground(),this.element.prepend(this.backgroundContainer),i.prototype.addHTMLElements.call(this)},o.prototype.start=function(){i.prototype.start.call(this);var t=this.backgroundContainer.firstChild;this.computedWidth=parseInt(window.getComputedStyle(this.backgroundContainer).width,10),t.src=n.ConfigurationReader.getImageContent({width:this.computedWidth,height:0})},o.prototype.createBackground=function(){var t=document.createElement("img");t.style.position="absolute",t.style.left="-25%",t.style.top="-25%",t.style.width="150%",t.style.height="150%",t.style.maxWidth="150%",t.style.maxHeight="150%",t.style.filter="blur(30px)";var e=document.createElement("div");return e.id="story-back",e.style.position="absolute",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.appendChild(t),e},o.prototype.CreateOptOutButton=function(){var t=i.prototype.CreateOptOutButton.call(this),e=t.style;return e.position="absolute",e.right="8px",e.top="8px",e.width="15px",e.height="15px",t},o);function o(t,e,n){return i.call(this,t,e,n)||this}e.BlurredBackWidget=r}.apply(e,n))||(t.exports=n)},7451:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686),n(4834),n(171),n(3505),n(6322)];void 0===(n=function(t,e,n,r,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionalWidget=void 0;var s,o=(s=o.GenericWidget,l(c,s),c.prototype.makeTemplate=function(){var t=this;this.createHoverWording();var e=s.prototype.makeTemplate.call(this);return r.isMobileDevice()||(this.infosContainer.style.transition="opacity 0s linear, all 0.4s ease-out",this.hoverWording.style.transition="all 0.4s ease-out",this.imageContainer.style.transition="all 0.4s ease-out",this.element.addEventListener("mouseenter",function(){0===t.hoveredRules.length&&t.addHoverRules()}),this.element.addEventListener("mouseleave",function(){n.removeCSSRules(t.hoveredRules)})),e},c.prototype.addHTMLElements=function(){this.element.appendChild(this.sponsorTop),this.element.appendChild(this.wrapper),this.wrapper.appendChild(this.imageContainer),this.wrapper.appendChild(this.infosContainer);var t=this.config.Content.Landing&&this.config.Content.Landing.Url,e=this.config.Content.MainVideo&&this.config.Content.MainVideo.ClickUrl;(t||e)&&this.imageContainer.appendChild(this.hoverWording),this.hoverWording.appendChild(this.hoverSponsorLogo),this.hoverWording.appendChild(this.cta),this.infosContainer.appendChild(this.sponsorLogo),this.infosContainer.appendChild(this.wording),this.wording.appendChild(this.title),this.wording.appendChild(this.description),this.wording.appendChild(this.adDomain),this.wording.appendChild(this.legal)},c.prototype.createMainContainer=function(){s.prototype.createMainContainer.call(this);var t=this.element.style;t.opacity="1",t.boxSizing="border-box"},c.prototype.createSponsorTop=function(){s.prototype.createSponsorTop.call(this),this.sponsorTop.innerHTML=i.ConfigurationReader.getProperty("sponsor");var t=this.sponsorTop.style;t.width="100%",t.textAlign="right",t.paddingBottom="3px",t.fontSize="9px",t.fontWeight="400",t.lineHeight="1",t.letterSpacing="1px",t.textTransform="uppercase",t.height="9px",t.marginBottom="2px",t.display="block",t.color=i.ConfigurationReader.getProperty("titlecolor")},c.prototype.createSponsorLogo=function(){s.prototype.createSponsorLogo.call(this);var t=this.sponsorLogo.style;(t=this.sponsorLogo.style).position="absolute",t.margin="auto",t.top="0",t.bottom="0",t.left="8px","DIV"===this.sponsorLogo.tagName?(this.hoverSponsorLogo=document.createElement("div"),this.hoverSponsorLogo.innerHTML=this.sponsorLogo.innerHTML,(t=this.hoverSponsorLogo.style).fontSize="22px",t.lineHeight="28px",t.background="black",t.color="white",t.textAlign="center",t.fontWeight="bold",t.textTransform="uppercase"):"IMG"===this.sponsorLogo.tagName&&(t.objectFit="contain",this.hoverSponsorLogo=document.createElement("img"),this.hoverSponsorLogo.src=i.ConfigurationReader.getProperty("logo"),(t=this.hoverSponsorLogo.style).objectFit="contain"),t.position="relative",t.left="0px",t.top="3px",t.marginRight="5px",t.cssFloat="left",t.width="28px",t.height="28px",this.hoverSponsorLogo.id="ayl-hover-sponsor-logo"},c.prototype.createAdDomain=function(){s.prototype.createAdDomain.call(this),this.adDomain.innerHTML=i.ConfigurationReader.getProperty("addomain");var t=this.adDomain.style;t.color=i.ConfigurationReader.getProperty("titlecolor"),t.fontWeight="400",t.letterSpacing="1px",t.textTransform="uppercase",t.display="block",t.marginTop="4px",t.maxHeight="12px",t.whiteSpace="nowrap",t.overflow="hidden",t.textOverflow="ellipsis"},c.prototype.createLegal=function(){this.legal=document.createElement("div"),this.legal.innerHTML=i.ConfigurationReader.getProperty("legal");var t=this.legal.style;t.color=i.ConfigurationReader.getProperty("titlecolor"),t.maxHeight="12px",t.fontWeight="700",t.letterSpacing="1px",t.fontSize="11px"},c.prototype.createWrapper=function(){s.prototype.createWrapper.call(this);var t=this.wrapper.style;t.background=i.ConfigurationReader.getProperty("bodybackgroundcolor"),t.boxSizing="border-box",t.padding="10px",t.position="relative",t.cursor="pointer",t.display="block",t.fontSize="16px",t.overflow="hidden",t.height="calc("+i.ConfigurationReader.getProperty("sizeheight")+" - 38px)",t.boxShadow=i.ConfigurationReader.getProperty("boxshadow"),a.InIframe()&&""!==t.boxShadow?(t.width="calc(100% - 20px)",t.margin="auto"):t.width="100%"},c.prototype.createImage=function(){s.prototype.createImage.call(this);var t=this.imageContainer.style;t.position="relative",t.display="inline-block",t.overflow="hidden",(t=this.image.style).backgroundPosition="50% 50%"},c.prototype.createHoverWording=function(){this.hoverWording=document.createElement("div"),this.hoverWording.id="ayl-hover-wording";var t=this.hoverWording.style;t.position="absolute",t.left="-1000px",t.bottom="-2px",t.width="auto",t.height="auto",t.padding="2px 5px 2px 0px",t.background=i.ConfigurationReader.getProperty("bodybackgroundcolor"),t.zIndex="12",t.pointerEvents="none"},c.prototype.createCTA=function(){s.prototype.createCTA.call(this);var t=this.cta.style;t.background=i.ConfigurationReader.getProperty("titlecolor"),t.color="#fff",t.position="relative",t.zIndex="0",t.cursor="pointer",t.fontSize="12px",t.fontWeight="700",t.padding="0px 1em",t.width="auto",t.height="28px",t.lineHeight="28px",t.cssFloat="left",t.marginTop="3px"},c.prototype.createInfosContainer=function(){s.prototype.createInfosContainer.call(this),this.infosContainer.style.position="absolute"},c.prototype.createWording=function(){s.prototype.createWording.call(this);var t=this.wording.style;t.position="absolute",t.margin="auto",t.top="0",t.bottom="0",t.height="auto",t.maxHeight="75px"},c.prototype.createTitle=function(){s.prototype.createTitle.call(this);var t=this.title.style;t.color=i.ConfigurationReader.getProperty("titlecolor"),t.fontSize="16px",t.letterSpacing="1px",t.fontWeight="700",t.width="100%",t.lineHeight="16px",t.maxHeight="16px"},c.prototype.createDescription=function(){s.prototype.createDescription.call(this);var t=this.description.style;t.color=i.ConfigurationReader.getProperty("bodycolor"),t.fontSize="0.8em",t.wordBreak="break-word",t.maxHeight="30px",t.textOverflow="ellipsis",t.overflow="hidden",t.lineHeight="1.2"},c.prototype.CreateOptOutButton=function(){var t=s.prototype.CreateOptOutButton.call(this),e=t.style;return e.top="18px",e.padding="10px",t},c.prototype.addHoverRules=function(){n.applyCSSRule(this.infosContainer,"opacity","0",this.hoveredRules),n.applyCSSRule(this.hoverWording,"left","0",this.hoveredRules)},c.prototype.start=function(){var t=this;s.prototype.start.call(this),setTimeout(function(){r.isMobileDevice()?t.setImage(t.image.offsetWidth,t.image.offsetHeight):t.setImage(t.wrapper.offsetWidth,t.wrapper.offsetHeight)},0)},c);function c(){var t=null!==s&&s.apply(this,arguments)||this;return t.hoveredRules=[],t}e.DirectionalWidget=o}.apply(e,n))||(t.exports=n)},5850:(t,e,n)=>{var m=n(7017),n=[n,e,n(6811),n(4220),n(4990),n(5573),n(7614),n(3993),n(3761),n(682),n(5860)];void 0===(n=function(t,e,s,c,l,u,p,d,h,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWidget=void 0,e.getWidget=function(n,r,i){var o,a=n.IntegrationConfig;return new m(function(t,e){if(a.Kind===u.NativeIntegration.WIDGET)if(n.DisplayMode===s.WidgetDisplayMode.STORY&&n.Opener!==p.Opener.INVIEW)c.logger.log(c.LogLevel.INFO,"Init widget with display mode : "+s.WidgetDisplayMode.STORY),t(o=new f.StoryWidget(n,r,i));else{switch(c.logger.log(c.LogLevel.INFO,"Init widget type : "+a.Widget.WidgetKind),a.Widget.WidgetKind){case s.IntegrationWidget.CREATIVE_TEMPLATE_1:o=new l.LeftWidget(n,r,i);break;case s.IntegrationWidget.CREATIVE_TEMPLATE_2:o=new g.TopWidget(n,r,i);break;case s.IntegrationWidget.CREATIVE_TEMPLATE_3:o=new d.RightWidget(n,r,i);break;case s.IntegrationWidget.CREATIVE_TEMPLATE_4:o=new h.SocialWidget(n,r,i)}t(o)}else t()})}}.apply(e,n))||(t.exports=n)},3505:function(t,e,n){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(6322),n(8175),n(171),n(5633)];void 0===(n=function(t,e,o,n,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericWidget=void 0;var i,r=(i=r.Template,c(s,i),s.prototype.makeTemplate=function(){var t;return this.createMainContainer(),this.createSponsorTop(),this.createSponsorLogo(),this.createAdDomain(),this.createLegal(),this.createWrapper(),this.createImage(),this.createCTA(),this.createInfosContainer(),this.createWording(),this.createTitle(),this.createDescription(),this.insertStyleSheet("ExtraStyleSheet"),this.addHTMLElements(),this.addListeners(),null!==(t=this.config.IntegrationConfig.Widget)&&void 0!==t&&t.Creative20&&this.insert21CSS(),this.element},s.prototype.insert21CSS=function(){o.InIframe()&&(document.body.style.width="100%",document.body.style.height="100%",document.documentElement.style.width="100%",document.documentElement.style.height="100%")},s.prototype.createMainContainer=function(){this.element=document.createElement("div"),this.element.id=a.ConfigurationReader.getProperty("uid");var t=this.element.style;t.lineHeight="normal",t.width=a.ConfigurationReader.getProperty("sizewidth"),t.height=a.ConfigurationReader.getProperty("sizeheight"),t.maxWidth="100%",t.maxHeight="100%",t.position="relative",t.cursor="pointer",t.fontFamily=a.ConfigurationReader.getProperty("fontfamily")+", verdana, sans-serif",this.element.setAttribute("style",this.element.getAttribute("style")+a.ConfigurationReader.getProperty("bodyalign"))},s.prototype.createSponsorTop=function(){this.sponsorTop=document.createElement("span"),this.sponsorTop.id="ayl-sponsor-top";var t=this.sponsorTop.style;t.position="relative",t.boxSizing="border-box"},s.prototype.createSponsorLogo=function(){var t,e=a.ConfigurationReader.getProperty("logo");""===e?(this.sponsorLogo=document.createElement("div"),t=this.sponsorLogo.style,this.config.AdDomain?this.sponsorLogo.innerHTML=this.config.AdDomain[0]:t.display="none",t.cssFloat="left",t.background="black",t.color="white",t.textAlign="center",t.fontWeight="bold",t.textTransform="uppercase"):(this.sponsorLogo=document.createElement("img"),this.sponsorLogo.src=e),this.sponsorLogo.id="ayl-sponsor-logo"},s.prototype.createAdDomain=function(){this.adDomain=document.createElement("span"),this.adDomain.id="ayl-adomain",this.adDomain.style.fontSize="11px"},s.prototype.addVerifiedAdDomain=function(){var t=this.adDomain.firstChild;this.adDomain.style.width="100%",t&&((t=t.style).display="inline-block",t.overflow="hidden",t.textOverflow="ellipsis",t.whiteSpace="nowrap",t.verticalAlign="middle",t.paddingRight="4px"),this.verifiedLogo=document.createElement("div"),this.verifiedLogo.style.width="12px",this.verifiedLogo.style.height="12px",this.verifiedLogo.style.verticalAlign="middle",this.verifiedLogo.style.display="inline-block",this.verifiedLogo.style.backgroundImage="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/certified.svg)",this.adDomain.appendChild(this.verifiedLogo)},s.prototype.createLegal=function(){this.legal=document.createElement("span"),this.legal.innerHTML=a.ConfigurationReader.getProperty("legal")},s.prototype.createWrapper=function(){this.wrapper=document.createElement("div"),this.wrapper.id="ayl-wrapper"},s.prototype.createImage=function(){this.imageContainer=document.createElement("div"),this.imageContainer.id="ayl-image-container",this.image=document.createElement("div"),this.image.id="ayl-img";var t=this.image.style;t.width="100%",t.height="100%",t.backgroundSize="cover",t.backgroundRepeat="no-repeat",this.imageContainer.appendChild(this.image)},s.prototype.createCTA=function(){this.cta=document.createElement("div"),this.cta.id="ayl-cta",this.cta.innerHTML=a.ConfigurationReader.getProperty("calltoaction"),this.cta.style.textTransform="uppercase"},s.prototype.createInfosContainer=function(){this.infosContainer=document.createElement("div"),this.infosContainer.id="ayl-infos-container"},s.prototype.createWording=function(){this.wording=document.createElement("div"),this.wording.id="ayl-wording"},s.prototype.createTitle=function(){this.title=document.createElement("div"),this.title.id="ayl-title",this.title.innerHTML=a.ConfigurationReader.getProperty("title");var t=this.title.style;t.textOverflow="ellipsis",t.overflow="hidden",t.whiteSpace="nowrap"},s.prototype.createDescription=function(){this.description=document.createElement("div"),this.description.id="ayl-description",this.description.innerHTML=a.ConfigurationReader.getProperty("description")},s.prototype.Execute=function(){i.prototype.Execute.call(this),this.start()},s.prototype.Refresh=function(){i.prototype.Refresh.call(this),this.clearHTMLElements(),this.addHTMLElements(),this.addListeners(),this.start()},s.prototype.addHTMLElements=function(){},s.prototype.clearHTMLElements=function(){},s.prototype.addListeners=function(){},s.prototype.start=function(){},s.prototype.setImage=function(t,e){var n=this;(t<2||e<2)&&ResizeObserver&&!this.resizeObserver?(this.resizeObserver=new ResizeObserver(function(){var t=n.image.offsetWidth,e=n.image.offsetHeight;1<t&&1<e&&(n.resizeObserver.unobserve(n.image),n.resizeObserver=null,n.setImage(t,e))}),this.resizeObserver.observe(this.image)):this.image.style.backgroundImage="url("+a.ConfigurationReader.getImageContent({width:t,height:e},this.config.Attempt)+")"},s.prototype.stop=function(){this.clearHTMLElements()},s.prototype.resize=function(){},s.prototype.applyBoxShadow=function(t){var e=a.ConfigurationReader.getProperty("boxshadow"),n=o.InSecuredIframe();if(n&&e&&""!==e)t.style.boxShadow=e,t.style.borderRadius="8px",t.style.margin="10px",t.style.width=parseInt(a.ConfigurationReader.getProperty("sizewidth"),10)-20+"px",t.style.height=parseInt(a.ConfigurationReader.getProperty("sizeheight"),10)-20+"px",t.style.maxWidth="calc(100% - 20px)",t.style.maxHeight="calc(100% - 20px)";else if(o.InIframe()&&!n){for(var r=window.frameElement,i=void 0;r;)r=(i=r).ownerDocument.defaultView.frameElement;i.style.boxShadow=e,i.style.borderRadius="8px"}else t.style.boxShadow=e},s);function s(t,e,n){n=i.call(this,t,e,n)||this;return n.templateIntegration=n.config.IntegrationConfig.Widget||n.templateIntegration,n.kind="WIDGET",n.config=t,n}e.GenericWidget=r}.apply(e,n))||(t.exports=n)},4990:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686),n(5522)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LeftWidget=void 0;var i,r=(i=r.SideWidget,a(o,i),o.prototype.createImage=function(){i.prototype.createImage.call(this);var t=this.imageContainer.style;t.boxSizing="border-box",(t=this.image.style).position="absolute",t.top="0px",t.left="0px"},o.prototype.createInfosContainer=function(){i.prototype.createInfosContainer.call(this),this.infosContainer.style.right="0px"},o.prototype.addHoverRules=function(){i.prototype.addHoverRules.call(this),n.applyCSSRule(this.infosContainer,"transform","translateX(100%)",this.hoveredRules)},o);function o(){return null!==i&&i.apply(this,arguments)||this}e.LeftWidget=r}.apply(e,n))||(t.exports=n)},2464:function(t,e,n){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7614),n(5890),n(6811)];void 0===(n=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WidgetConfigurationReader=void 0;var o,r=(o=r.TemplateConfigurationReader,s(a,o),a.prototype.getStoryMode=function(){return this.config.DisplayMode===i.WidgetDisplayMode.STORY&&this.config.Opener!==n.Opener.INVIEW?"DISPLAY":o.prototype.getStoryMode.call(this)},a);function a(t){var e=o.call(this,t)||this;return e.integration=t.IntegrationConfig.Widget,e}e.WidgetConfigurationReader=r}.apply(e,n))||(t.exports=n)},3993:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686),n(5522)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RightWidget=void 0;var i,r=(i=r.SideWidget,a(o,i),o.prototype.createImage=function(){i.prototype.createImage.call(this);var t=this.imageContainer.style;t.maxWidth="100%",t.cssFloat="right"},o.prototype.createInfosContainer=function(){i.prototype.createInfosContainer.call(this),this.infosContainer.style.left="0px"},o.prototype.addHoverRules=function(){i.prototype.addHoverRules.call(this),n.applyCSSRule(this.infosContainer,"transform","translateX(-100%)",this.hoveredRules)},o);function o(){return null!==i&&i.apply(this,arguments)||this}e.RightWidget=r}.apply(e,n))||(t.exports=n)},5522:function(t,e,n){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686),n(4834),n(7451),n(6322)];void 0===(n=function(t,e,i,o,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SideWidget=void 0;var s,n=(s=n.DirectionalWidget,c(r,s),r.prototype.createMainContainer=function(){s.prototype.createMainContainer.call(this),this.element.style.maxHeight="800px"},r.prototype.makeTemplate=function(){var t,e=this,n=s.prototype.makeTemplate.call(this),r=a.getTopMostWindow();return o.isMobileDevice()&&(r.addEventListener("resize",t=function(){r.innerWidth<480?e.isSmallScreen||(e.addSmallScreenRules(),e.isSmallScreen=!0):e.isSmallScreen&&(i.removeCSSRules(e.smallScreenRules),e.isSmallScreen=!1)}),t()),n},r.prototype.createImage=function(){s.prototype.createImage.call(this);var t=this.imageContainer.style;t.width="45%",t.height="100%"},r.prototype.createSponsorLogo=function(){s.prototype.createSponsorLogo.call(this);var t=this.sponsorLogo.style;"DIV"===this.sponsorLogo.tagName?(t.width="62px",t.height="62px",t.lineHeight="62px",t.fontSize="28px"):"IMG"===this.sponsorLogo.tagName&&(t.width="61px",t.height="61px")},r.prototype.createInfosContainer=function(){s.prototype.createInfosContainer.call(this);var t=this.infosContainer.style;t.top="0px",t.display="block",t.width="55%",t.height="100%"},r.prototype.createWording=function(){s.prototype.createWording.call(this);var t=this.wording.style;t.left="80px",t.width="calc(100% - 88px)"},r.prototype.addHoverRules=function(){s.prototype.addHoverRules.call(this),i.applyCSSRule(this.imageContainer,"width","100%",this.hoveredRules)},r.prototype.addSmallScreenRules=function(){i.applyCSSRule(this.imageContainer,"height","calc(100% - 80px)",this.smallScreenRules),i.applyCSSRule(this.imageContainer,"width","100%",this.smallScreenRules),i.applyCSSRule(this.sponsorLogo,"width","48px",this.smallScreenRules),i.applyCSSRule(this.sponsorLogo,"height","48px",this.smallScreenRules),i.applyCSSRule(this.sponsorLogo,"line-height","48px",this.smallScreenRules),i.applyCSSRule(this.infosContainer,"position","absolute",this.smallScreenRules),i.applyCSSRule(this.infosContainer,"width","100%",this.smallScreenRules),i.applyCSSRule(this.infosContainer,"height","75px",this.smallScreenRules),i.applyCSSRule(this.infosContainer,"bottom","5px",this.smallScreenRules),i.applyCSSRule(this.infosContainer,"left","0px",this.smallScreenRules),i.applyCSSRule(this.infosContainer,"top","inherit",this.smallScreenRules),i.applyCSSRule(this.wording,"position","absolute",this.smallScreenRules),i.applyCSSRule(this.wording,"right","0px",this.smallScreenRules),i.applyCSSRule(this.wording,"left","60px",this.smallScreenRules),i.applyCSSRule(this.wording,"width","calc(100% - 65px)",this.smallScreenRules),i.applyCSSRule(this.wording,"max-height","75px",this.smallScreenRules)},r);function r(){var t=null!==s&&s.apply(this,arguments)||this;return t.smallScreenRules=[],t.isSmallScreen=!1,t}e.SideWidget=n}.apply(e,n))||(t.exports=n)},3761:function(t,e,n){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8175),n(171),n(3505),n(7614),n(5831)];void 0===(n=function(t,e,n,l,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SocialWidget=void 0;var a,r=(a=r.GenericWidget,c(s,a),s.prototype.makeTemplate=function(){return this.createSponsor(),this.createCredit(),this.config.Opener!==i.Opener.FULLSCREEN&&this.config.Opener!==i.Opener.INVIEW||this.createSponsorAnimation(),a.prototype.makeTemplate.call(this)},s.prototype.addHTMLElements=function(){this.element.appendChild(this.sponsorTop),this.element.appendChild(this.wrapper),this.sponsorTop.appendChild(this.sponsor),this.sponsorTop.appendChild(this.credit),this.sponsorAnimation&&this.sponsor.appendChild(this.sponsorAnimation),this.sponsor.appendChild(this.sponsorLogo),this.credit.appendChild(this.adDomain),this.credit.appendChild(this.legal),this.wrapper.appendChild(this.imageContainer),this.wrapper.appendChild(this.wording);var t=this.config.Content.Landing&&this.config.Content.Landing.Url,e=this.config.Content.MainVideo&&this.config.Content.MainVideo.ClickUrl;this.config.VideoFormat===o.VideoFormat.FEED||!t&&!e||this.imageContainer.appendChild(this.cta),this.wording.appendChild(this.title),this.wording.appendChild(this.description)},s.prototype.createSponsorAnimation=function(){var n=this;this.sponsorAnimation=document.createElementNS("http://www.w3.org/2000/svg","svg");var t=this.sponsorAnimation.style;this.sponsorAnimation.setAttribute("width","40"),this.sponsorAnimation.setAttribute("height","40"),t.position="absolute",t.left="-3px",t.top="-3px";var r=document.createElementNS("http://www.w3.org/2000/svg","circle");this.sponsorAnimation.appendChild(r),r.setAttribute("cx","50%"),r.setAttribute("cy","50%"),r.setAttribute("r","19"),r.setAttribute("stroke-width","1"),r.setAttribute("stroke",l.ConfigurationReader.getProperty("titlecolor")),r.setAttribute("fill","none"),r.setAttribute("stroke-dasharray","128"),r.setAttribute("stroke-dashoffset","112");var i,e=0,o=function(t){requestAnimationFrame(o),c(t-(e=e||t-1)),e=t};(t=i=i||{})[t.EXPAND=1]="EXPAND",t[t.REDUCE=2]="REDUCE";var a=i.EXPAND,s=0,c=function(t){var e;a===i.EXPAND?(e=.2,s+=.1*t):a===i.REDUCE&&(e=-.1,s+=.25*t),e=parseInt(r.getAttribute("stroke-dashoffset"),10)-e*t,360<s&&(s-=360),e<16?(a=i.REDUCE,e=16):112<e&&(a=i.EXPAND,e=112),r.setAttribute("stroke-dashoffset",e.toString()),n.sponsorAnimation.style.transform="rotate("+s+"deg)"};o(0)},s.prototype.createMainContainer=function(){a.prototype.createMainContainer.call(this);var t=this.element.style;t.display="flex",t.flexDirection="column",t.flexWrap="nowrap",t.overflow="hidden",t.backgroundColor=l.ConfigurationReader.getProperty("bodybackgroundcolor"),t.borderRadius="4px",this.applyBoxShadow(this.element)},s.prototype.createSponsor=function(){this.sponsor=document.createElement("div"),this.sponsor.id="ayl-sponsor";var t=this.sponsor.style;t.borderRadius="33px",t.width="33px",t.height="33px",t.flex="0 0 33px",t.marginRight="10px",t.position="relative";var e=this.config.Opener!==i.Opener.FULLSCREEN&&this.config.Opener!==i.Opener.INVIEW&&""===l.ConfigurationReader.getProperty("logo"),n=""===l.ConfigurationReader.getProperty("logo")&&!this.config.AdDomain;(e||n)&&(t.display="none")},s.prototype.createSponsorTop=function(){a.prototype.createSponsorTop.call(this);var t=this.sponsorTop.style;t.display="flex",t.flex="0 0 52px",t.flexDirection="row",t.justifyContent="start",t.alignItems="center",t.alignContent="center",t.padding="8px 35px 8px 8px",t.overflow="hidden"},s.prototype.createSponsorLogo=function(){a.prototype.createSponsorLogo.call(this);var t=this.sponsorLogo.style;t.width="34px",t.height="34px",t.borderRadius="34px","DIV"===this.sponsorLogo.tagName?(t.fontSize="20px",t.lineHeight="34px"):"IMG"===this.sponsorLogo.tagName&&(t.objectFit="cover")},s.prototype.createAdDomain=function(){a.prototype.createAdDomain.call(this),this.adDomain.innerHTML=l.ConfigurationReader.getProperty("sponsor");var t=this.adDomain.style;t.opacity="1",t.fontSize="14px",t.lineHeight="20px",t.height="20px",t.fontWeight="700",(this.adDomain.innerHTML&&this.config.Opener===i.Opener.FULLSCREEN||this.config.Opener===i.Opener.INVIEW)&&this.addVerifiedAdDomain()},s.prototype.createCredit=function(){this.credit=document.createElement("div");var t=this.credit.style;t.flex="1 1 0%",t.fontSize="9px",t.fontWeight="bold",t.lineHeight="12px",t.display="flex",t.flexDirection="column",t.color=l.ConfigurationReader.getProperty("bodycolor"),t.overflow="hidden",t.whiteSpace="nowrap",t.textOverflow="ellipsis"},s.prototype.createLegal=function(){a.prototype.createLegal.call(this);var t=this.legal.style;t.overflow="hidden",t.textOverflow="ellipsis",t.fontWeight="400",t.fontSize="9px",t.color="#7E7E7E"},s.prototype.createWrapper=function(){a.prototype.createWrapper.call(this);var t=this.wrapper.style;t.display="flex",t.flex="1 0 0%",t.flexDirection="column"},s.prototype.createImage=function(){a.prototype.createImage.call(this);var t=this.imageContainer.style;t.flex="1 1 0%",t.position="relative",(t=this.image.style).position="absolute",t.backgroundColor="#efefef",t.backgroundPosition="center"},s.prototype.createCTA=function(){a.prototype.createCTA.call(this);var t=this.cta.style;t.padding="0 25px 0px 10px",t.boxSizing="border-box",t.color=l.ConfigurationReader.getProperty("bodybackgroundcolor"),t.backgroundColor=l.ConfigurationReader.getProperty("titlecolor").replace(/[^,][1-9\.]{0,4}(?=\))/,"0.7"),t.position="absolute",t.bottom="0px",t.left="0px",t.width="100%",t.lineHeight="30px",t.fontSize="13px",t.fontWeight="700",t.overflow="hidden",t.textOverflow="ellipsis",t.whiteSpace="nowrap",t.zIndex="9",t.textTransform="";var e=document.createElement("img");(t=e.style).mask="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",t.webkitMask="url("+n.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",t.backgroundColor=l.ConfigurationReader.getProperty("bodybackgroundcolor"),t.width="6px",t.height="8px",t.position="absolute",t.top="12px",t.right="12px",this.cta.appendChild(e)},s.prototype.createWording=function(){a.prototype.createWording.call(this);var t=this.wording.style;t.flex="0 1 auto",t.padding="8px 10px 10px",t.boxSizing="border-box",t.height="45px",t.fontSize="13px",t.fontWeight="bold",t.display="block"},s.prototype.createTitle=function(){a.prototype.createTitle.call(this);var t=this.title.style;t.color=l.ConfigurationReader.getProperty("bodycolor"),t.fontSize="12px",t.fontWeight="700",t.lineHeight="15px"},s.prototype.createDescription=function(){a.prototype.createDescription.call(this);var t=this.description.style;t.lineHeight="14px",t.fontSize="10px",t.fontWeight="400",t.textOverflow="ellipsis",t.overflow="hidden",t.whiteSpace="nowrap"},s.prototype.addVerifiedAdDomain=function(){a.prototype.addVerifiedAdDomain.call(this),this.verifiedLogo.style.verticalAlign="top",this.verifiedLogo.style.marginTop="5px"},s.prototype.CreateOptOutButton=function(){var t=a.prototype.CreateOptOutButton.call(this),e=t.style;return e.width="16px",e.height="16px",e.top="18px",e.right="18px",e.padding="0px",t},s.prototype.start=function(){var t=this;a.prototype.start.call(this),setTimeout(function(){t.setImage(t.image.offsetWidth,t.image.offsetHeight)},0)},s);function s(){return null!==a&&a.apply(this,arguments)||this}e.SocialWidget=r}.apply(e,n))||(t.exports=n)},7172:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.resize=function(){var t=this,e=getComputedStyle(this.parentElement),n=e.height,r=e.width;""===n&&setTimeout(function(){t.resize()});e=document.createElement("span");e.innerHTML=this.desc,""!==n&&parseInt(n,10)<400&&(e.style.display="inline-block",e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.style.textOverflow="ellipsis",e.style.width=parseInt(r,10)-110+"px",e.style.marginBottom="-3px"),this.descContainer.innerHTML=e.outerHTML+" <span style='text-decoration: underline;'>Plus</span>"},r);function r(t,e){this.parentElement=t,this.desc=e,this.mainElement=document.createElement("div"),this.mainElement.style.position="absolute",this.mainElement.style.bottom="72px",this.mainElement.style.marginLeft="40px",this.mainElement.style.marginRight="40px",this.descContainer=document.createElement("span"),this.descContainer.id="ayl-description",this.descContainer.style.color="rgb(255, 255, 255)",this.descContainer.style.fontWeight="bold",this.descContainer.style.fontSize="12px",this.descContainer.style.background="rgba(0, 0, 0, 0.5)",this.descContainer.style.boxShadow="0px 0 0 2px rgba(0, 0, 0, 0.5)",this.resize(),e&&0<e.length&&this.mainElement.appendChild(this.descContainer),t.appendChild(this.mainElement)}e.default=n}.apply(e,[n,e]))||(t.exports=e)},41:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(5678)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=(a=n.Slide,o(i,a),i.prototype.hide=function(){a.prototype.hide.call(this),this.image&&(this.imageStyle.transition="",this.imageStyle.transform=this.initialTransform,this.imageStyle.visibility="hidden")},i.prototype.setSize=function(t,e){a.prototype.setSize.call(this,t,e),this.imageStyle.backgroundSize=this.width+"px auto"},i.prototype.setImage=function(t){this.imageStyle.background="url("+t+") no-repeat center"},i.prototype.start=function(){var t=this;a.prototype.start.call(this),this.imageStyle.transition="",this.imageStyle.transform=this.initialTransform,window.getComputedStyle(this.image).height,window.setTimeout(function(){t.imageStyle.visibility="visible",t.imageStyle.transition=t.transitionString,t.imageStyle.transform=t.targetTransform,t.setState(n.SlideState.PLAYING)},0)},i.prototype.pause=function(){a.prototype.pause.call(this);var t=window.getComputedStyle(this.image).transform;this.imageStyle.transform=t},i.prototype.resume=function(){a.prototype.resume.call(this),this.imageStyle.transform=this.targetTransform},i);function i(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o="");r=a.call(this,t,e,n,r)||this;return r.transitionString="transform "+e/1e3+"s ease",r.initialTransform=o,r.targetTransform=i,r.image=document.createElement("div"),r.imageStyle=r.image.style,r.imageStyle.position="absolute",r.imageStyle.visibility="hidden",r.imageStyle.left="0px",r.imageStyle.top="0px",r.imageStyle.width="100%",r.imageStyle.height="100%",t.appendChild(r.image),r.hide(),r}e.default=r}.apply(e,n))||(t.exports=n)},5678:(t,e,n)=>{var n=[n,e,n(7796)];void 0===(n=function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Slide=e.SlideState=void 0,(r=i=e.SlideState||(e.SlideState={})).STOPPED="STOPPED",r.PLAYING="PLAYING",r.PAUSED="PAUSED";var r=(o.prototype.hide=function(){this.callbackTimer&&(this.callbackTimer.cancel(),this.callbackTimer=null)},o.prototype.setSize=function(t,e){this.width=t,this.height=e},o.prototype.setState=function(t,e){this.slideState=t,this.slideStateCallback&&this.slideStateCallback(this.slideIndex,t,e)},o.prototype.start=function(){this.callbackTimer&&(this.callbackTimer.cancel(),this.callbackTimer=null),this.callbackTimer=new n.default(this.ended.bind(this),this.slideDuration)},o.prototype.ended=function(){this.setState(i.STOPPED)},o.prototype.getDuration=function(){return this.slideDuration},o.prototype.pause=function(){this.callbackTimer&&this.callbackTimer.pause()},o.prototype.resume=function(){this.callbackTimer&&this.callbackTimer.resume()},o);function o(t,e,n,r){this.width=300,this.height=600,this.slideState=i.STOPPED,this.slideIndex=-1,this.parentElement=t,this.slideDuration=e,this.slideStateCallback=n,this.slideIndex=r}e.Slide=r}.apply(e,n))||(t.exports=n)},682:function(t,e,n){var r,_=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(4834),n(3420),n(5678),n(8175),n(8819),n(171),n(7337),n(7172),n(41),n(3479),n(7602),n(8275),n(8686),n(8686),n(4490)];void 0===(n=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StoryWidget=void 0;var y,v=new c.DecoratorParameter,E=new c.DecoratorParameter,T=new c.DecoratorParameter(!1),p=(y=a.BlurredBackWidget,_(b,y),b.prototype.makeTemplate=function(){return this.createSponsor(),this.createCredit(),y.prototype.makeTemplate.call(this)},b.prototype.addHTMLElements=function(){this.credit.appendChild(this.adDomain),this.credit.appendChild(this.legal),this.sponsor.appendChild(this.sponsorLogo),this.sponsorTop.appendChild(this.sponsor),this.sponsorTop.appendChild(this.credit),this.element.appendChild(this.sponsorTop),new l.default(this.element,s.ConfigurationReader.getProperty("description")),y.prototype.addHTMLElements.call(this);var t=this.onSlideStateChanged.bind(this);this.config.Content.MainVideo&&this.slides.push(new d.default(this.backgroundContainer,1e4,t,this.slides.length,this.config)),this.slides.push(new u.default(this.backgroundContainer,1e4,t,this.slides.length,"scale(1.4)")),this.slides.push(new u.default(this.backgroundContainer,1e4,t,this.slides.length,"translate(0px, -"+this.textPanelHeight/2+"px) scale(1)","scale(1.4)"));var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="-50%",e.style.width="200%",e.style.height="100%",e.style.maxWidth="none",e.style.boxShadow="inset 0px 90px 100px rgba(0,0,0,0.3)";t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="-50%",t.style.width="200%",t.style.height="100%",t.style.maxWidth="none",t.style.boxShadow="inset 0px -130px 100px rgba(0,0,0,0.3)",this.backgroundContainer.appendChild(e),this.backgroundContainer.appendChild(t),E.setValue(this.slides.map(function(t){return t.getDuration()})),this.element.appendChild(this.cta),n.isMobileDevice()||(this.leftButton=document.createElement("div"),this.leftButton.style.display="none",this.leftButton.style.position="absolute",this.leftButton.style.left="8px",this.leftButton.style.top="50%",this.leftButton.style.background="rgb(0, 0, 0, 0.5)",this.leftButton.style.width="26px",this.leftButton.style.height="26px",this.leftButton.style.borderRadius="20px",this.leftButton.style.justifyContent="center",this.leftButton.style.alignItems="center",this.leftButton.appendChild(this.arrowIcon.cloneNode()),this.leftButton.style.transform="rotate(-180deg) translate(0%, 50%)",this.rightButton=document.createElement("div"),this.rightButton.style.position="absolute",this.rightButton.style.right="8px",this.rightButton.style.top="50%",this.rightButton.style.background="rgb(0, 0, 0, 0.5)",this.rightButton.style.width="26px",this.rightButton.style.height="26px",this.rightButton.style.borderRadius="20px",this.rightButton.style.justifyContent="center",this.rightButton.style.alignItems="center",this.rightButton.appendChild(this.arrowIcon.cloneNode()),this.rightButton.style.transform="translate(0%, -50%)",this.element.appendChild(this.rightButton),this.element.appendChild(this.leftButton))},b.prototype.updateButtonVisibility=function(t){this.leftButton&&(0===this.currentSlide?(this.rightButton.style.display="flex",this.leftButton.style.display="none"):(this.currentSlide===this.slides.length-1?this.rightButton.style.display="none":this.rightButton.style.display="flex",this.leftButton.style.display="flex"))},b.prototype.createMainContainer=function(){y.prototype.createMainContainer.call(this),this.element.style.fontFamily="'Montserrat', sans-serif",v.setValue(this.element);var t=this.element.style;t.overflow="hidden",t.borderRadius="8px",this.applyBoxShadow(this.element)},b.prototype.createSponsor=function(){this.sponsor=document.createElement("div"),this.sponsor.id="ayl-sponsor";var t=this.sponsor.style;t.borderRadius="33px",t.width="33px",t.height="33px",t.flex="0 0 33px",t.marginRight="5px",t.position="relative"},b.prototype.createSponsorTop=function(){y.prototype.createSponsorTop.call(this);var t=this.sponsorTop.style;t.position="absolute",t.left="8px",t.top="16px",t.display="flex",t.flex="0 0 43px",t.flexDirection="row",t.justifyContent="start",t.alignItems="center",t.alignContent="center",t.padding="5px 0px 5px 5px",t.overflow="hidden",t.maxWidth="75%"},b.prototype.createSponsorLogo=function(){y.prototype.createSponsorLogo.call(this);var t,e=this.sponsorLogo.style;e.width="33px",e.height="33px",e.borderRadius="33px","DIV"===this.sponsorLogo.tagName?(e.display="",this.sponsorLogo.innerHTML="",t=r.GetUrlDynamicImage(this.config,this.config.Content.Preview.Thumbnail.Image,33,33,!1,!0,!1,!0),e.background="url('"+t+"')"):"IMG"===this.sponsorLogo.tagName&&(e.objectFit="cover")},b.prototype.createAdDomain=function(){y.prototype.createAdDomain.call(this),this.adDomain.innerHTML=s.ConfigurationReader.getProperty("sponsor"),this.adDomain.style.opacity="1",this.adDomain.style.fontSize="13px",this.adDomain.style.lineHeight="15px",this.adDomain.innerHTML&&this.addVerifiedAdDomain()},b.prototype.createCredit=function(){this.credit=document.createElement("div");var t=this.credit.style;t.flex="1 1 0%",t.fontSize="9px",t.fontWeight="bold",t.lineHeight="12px",t.display="flex",t.flexDirection="column",t.color="white",t.overflow="hidden",t.whiteSpace="nowrap",t.textOverflow="ellipsis"},b.prototype.createLegal=function(){y.prototype.createLegal.call(this);var t=this.legal.style;t.overflow="hidden",t.textOverflow="ellipsis",t.opacity="0.8"},b.prototype.createCTA=function(){y.prototype.createCTA.call(this),this.cta.innerHTML="";var t=this.cta.style;t.position="absolute",t.height="33px";var e=n.isFirefox()?"-moz-":"";t.width=e+"fit-content",n.isIE()&&(t.width="190px"),t.left="50%",t.transform="translate(-50%, 0px)";e=n.isMobileDevice()?8:65;t.maxWidth="calc(100% - 2*("+e+"px))",t.textOverflow="ellipsis",t.bottom="20px",t.color="black",t.backgroundColor="white",t.textTransform="initial",t.margin="auto",t.boxSizing="initial",t.borderRadius="22px",t.padding="0px 25px";e=this.arrowIcon.cloneNode();e.style.backgroundColor="black",e.style.padding="2px 0px",e.style.width="24px",e.style.height="30px",e.style.cssFloat="left",e.style.marginRight="-8px",e.style.boxSizing="initial";t=document.createElement("div");t.style.fontSize="13px",t.style.lineHeight="33px",t.style.textOverflow="ellipsis",t.style.whiteSpace="nowrap",t.style.overflow="hidden",t.style.height="33px",t.style.fontWeight="bold",t.style.maxWidth="100%",t.style.cssFloat="left",t.style.paddingLeft="3px",t.innerHTML=s.ConfigurationReader.getProperty("calltoaction"),this.cta.appendChild(t),this.cta.appendChild(e)},b.prototype.CreateOptOutButton=function(){var t=y.prototype.CreateOptOutButton.call(this);return t.style.top="20px",t},b.prototype.addListeners=function(){window.addEventListener("resize",this.resize.bind(this))},b.prototype.backgroundTouchDown=function(t){this.touchStartTime=(new Date).getTime(),this.longPressActionTimeout=window.setTimeout(this.pause.bind(this),500)},b.prototype.backgroundTouchUp=function(t){window.clearTimeout(this.longPressActionTimeout),(new Date).getTime()-this.touchStartTime<500?this.backgroundClickHandler(t):this.resume()},b.prototype.backgroundClickHandler=function(t){var e=(new Date).getTime();e-this.lastClickTime<500?this.Trigger("CLICK"):(this.lastClickTime=e,(t.pageX?f.getRelativeCoordinates(t,this.element).x:t.changedTouches[0].clientX)>parseInt(window.getComputedStyle(this.element).width,10)/2?this.next():this.previous()),t.stopPropagation()},b.prototype.goTo=function(t){this.slides[this.currentSlide].hide(),this.currentSlide=t;var e=this.slides[t],t=this.getSize();e.setSize(t[0],t[1]),e.start(),this.lastStartCommand=(new Date).getTime(),this.leftButton&&this.updateButtonVisibility(t)},b.prototype.resize=function(){var t=this.getSize();this.slides[this.currentSlide].setSize(t[0],t[1])},b.prototype.next=function(){this.slides.length<=1||this.goTo(m.positive_modulo(this.currentSlide+1,this.slides.length))},b.prototype.previous=function(){var t;this.slides.length<=1||(t=-1,(!this.config.Content.MainVideo||0!==this.currentSlide)&&2e3<(new Date).getTime()-this.lastStartCommand&&(t=0),this.goTo(m.positive_modulo(this.currentSlide+t,this.slides.length)))},b.prototype.start=function(){var e=this;y.prototype.start.call(this),this.goTo(0);var t=function(t){t!==this.isVisible&&(this.isVisible=t,this.config.Content.MainVideo&&(this.config.Content.MainVideo.Pause||this.config.Content.MainVideo.Reduce)&&0===this.currentSlide||(t?this.resume():this.pause()))}.bind(this);h.Viewability.registerElement(this.element,t,.5),document.addEventListener("visibilitychange",function(){document.hidden?t(!1):t(!0)}),setTimeout(function(){e.setImage(e.image.offsetWidth,e.image.offsetHeight)},0),this.slides.forEach(function(t){t instanceof u.default&&t.setImage(s.ConfigurationReader.getImageContent({width:e.computedWidth,height:0}))})},b.prototype.pause=function(){this.slides[this.currentSlide].pause()},b.prototype.resume=function(){this.slides[this.currentSlide].resume()},b.prototype.getSize=function(){var t=window.getComputedStyle(this.element);return[parseInt(t.width,10),parseInt(t.height,10)]},b.prototype.onPageStarted=function(t,e){},b.prototype.onSlideStateChanged=function(t,e,n){switch(e){case i.SlideState.PLAYING:this.onPageStarted(t,n);break;case i.SlideState.PAUSED:T.setValue(!0);break;case i.SlideState.STOPPED:this.next()}},w([p.default(v,"position:absolute;width:calc(100% - 26px);height:3px;top:8px;left:0px;margin-right:13px;margin-left:13px;",{borderRadius:2,spaceBetweenParts:3},E,T)],b));function b(t,e,n){n=y.call(this,t,e,n)||this;return n.textPanelHeight=30,n.slides=[],n.currentSlide=0,n.lastStartCommand=0,n.lastClickTime=0,n.touchStartTime=0,n.longPressActionTimeout=0,n.arrowIcon=document.createElement("div"),n.arrowIcon.style.mask="url("+o.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",n.arrowIcon.style.webkitMask="url("+o.AYL_URL.ADSERVER_FO_STATIC+"/native/images/arrow.svg)",n.arrowIcon.style.maskPosition="center",n.arrowIcon.style.webkitMaskPosition="center",n.arrowIcon.style.maskRepeat="no-repeat",n.arrowIcon.style.webkitMaskRepeat="no-repeat",n.arrowIcon.style.width="8px",n.arrowIcon.style.height="8px",n.arrowIcon.style.backgroundColor="white",g.injectHtmlAsChild(document.head,"<link href='https://fonts.googleapis.com/css?family=Montserrat&display=swap' rel='stylesheet'>"),n}e.StoryWidget=p}.apply(e,n))||(t.exports=n)},7602:function(t,e,s){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[s,e,s(241),s(5678)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=(a=r.Slide,c(o,a),o.prototype.setSize=function(t,e){a.prototype.setSize.call(this,t,e);var n=this.inPreviewVideo.getMediafileSize(),r=16/9,t=0,e=0,e=1<(r=-1!==n[0]&&-1!==n[1]?n[0]/n[1]:r)?(this.videoHeight=Math.min(this.width,this.height),this.videoWidth=this.videoHeight*r,t=-(this.videoWidth-this.width)/2,Math.max((this.height-this.videoHeight)/2,0)):this.width/this.height>r?(this.videoHeight=this.height,this.videoWidth=this.videoHeight*r,t=(this.width-this.videoWidth)/2,0):(this.videoWidth=this.width,this.videoHeight=this.videoWidth/r,t=0,(this.height-this.videoHeight)/2);this.injectorElementStyle.display="",this.injectorElementStyle.left=Math.round(t)+"px",this.injectorElementStyle.top=Math.round(e)+"px",this.injectorElementStyle.width=Math.round(this.videoWidth)+"px",this.injectorElementStyle.height=Math.round(this.videoHeight)+"px"},o.prototype.start=function(){this.inFeedReady?(a.prototype.start.call(this),this.inPreviewVideo.open()):this.startOnReady=!0},o.prototype.hide=function(){a.prototype.hide.call(this),this.slideState=r.SlideState.STOPPED,this.injectorElementStyle.display="none",this.inPreviewVideo.stop()},o.prototype.pause=function(){a.prototype.pause.call(this),this.inPreviewVideo.pause()},o.prototype.resume=function(){a.prototype.resume.call(this),this.inPreviewVideo.play()},o.prototype.ended=function(){},o.prototype.onVideoStateChanged=function(t,e){t===n.VideoState.PLAYING&&this.setState(r.SlideState.PLAYING,1e3*e),t===n.VideoState.PAUSED&&this.setState(r.SlideState.PAUSED,1e3*e),t===n.VideoState.ENDED&&this.slideState!==r.SlideState.STOPPED&&this.setState(r.SlideState.STOPPED)},o);function o(t,e,n,r,i){var o=a.call(this,t,e,n,r)||this;o.inFeedReady=!1,o.startOnReady=!1,o.config=i,o.videoHeight=Math.round(o.width),o.videoWidth=Math.round(o.width*(16/9));r=document.createElement("div");r.style.position="absolute",o.injectorElementStyle=r.style,o.injectorElementStyle.left="0px",o.injectorElementStyle.top=(o.height-o.videoHeight)/2+"px",o.injectorElementStyle.width=o.videoWidth+"px",o.injectorElementStyle.height=o.videoHeight+"px",t.appendChild(r);i=s(7878);return o.inPreviewVideo=new i.InPreview(o.config,r,function(){o.inFeedReady=!0,o.start()}),o.inPreviewVideo.setViewabilityReferenceElement(t),o.inPreviewVideo.setSoundButtonRootElement(t,"position:absolute;right:35px;top:20px;width:15px;height:15px;margin:5px;background-color: transparent;"),o.inPreviewVideo.addStateChangedListener(o),o}e.default=i}.apply(e,n))||(t.exports=n)},5860:function(t,e,n){var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8686),n(7451)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopWidget=void 0;var i,r=(i=r.DirectionalWidget,a(o,i),o.prototype.createMainContainer=function(){i.prototype.createMainContainer.call(this),this.element.style.maxHeight="600px"},o.prototype.createSponsorLogo=function(){i.prototype.createSponsorLogo.call(this);var t=this.sponsorLogo.style;"DIV"===this.sponsorLogo.tagName?(t.width="45px",t.height="45px",t.lineHeight="45px",t.fontSize="20px"):"IMG"===this.sponsorLogo.tagName&&(t.width="48px",t.height="48px")},o.prototype.createImage=function(){i.prototype.createImage.call(this);var t=this.imageContainer.style;t.width="100%",t.maxWidth="100%",t.height="calc(100% - 80px)"},o.prototype.createInfosContainer=function(){i.prototype.createInfosContainer.call(this);var t=this.infosContainer.style;t.width="100%",t.height="75px",t.bottom="5px",t.top="inherit",t.left="0px"},o.prototype.createWording=function(){i.prototype.createWording.call(this);var t=this.wording.style;t.right="0px",t.left="60px",t.width="calc(100% - 65px)"},o.prototype.createDescription=function(){i.prototype.createDescription.call(this),this.description.style.width="100%"},o.prototype.addHoverRules=function(){i.prototype.addHoverRules.call(this),n.applyCSSRule(this.imageContainer,"height","100%",this.hoveredRules),n.applyCSSRule(this.infosContainer,"transform","translateY(100%)",this.hoveredRules)},o);function o(){return null!==i&&i.apply(this,arguments)||this}e.TopWidget=r}.apply(e,n))||(t.exports=n)},8552:(t,e,n)=>{var b=n(6887),n=[n,e,n(4834),n(811),n(5118),n(3808),n(3389),n(5738),n(1190),n(7070),n(6322),n(4220),n(4920),n(8709),n(171),n(5573),n(7614),n(8275),n(6811)];void 0===(n=function(t,e,c,i,n,o,a,r,s,l,f,g,u,p,d,h,m,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeAttempt=void 0;var E=(T.prototype.Inject=function(t,e){var r=this;this.config=t,this.adContainer=e,g.logger.log(g.LogLevel.INFO,"Starts ad.\n\t placement : "+this.config.Placement+"\n\t campaign  : "+this.config.Campaign+"\n\t attempt   : "+this.config.Attempt+"\n\t container given : "+!!this.adContainer),d.ConfigurationReader.setConfiguration(t,function(t){if(t){if(0<=r.executed.indexOf(r.config.Attempt))return r.currentIntegration.SetConfig(r.config),void r.currentIntegration.Refresh();o.Load(r.config.IntegrationConfig.Kind,r.config,r.uiTrigger.bind(r),r.adContainer).then(function(t){var e;if(r.currentIntegration=t,r.currentIntegration.Execute(),r.config.IntegrationConfig.Kind===h.NativeIntegration.NONE)return r.registerPerformUITriggers(),void r.integrationLoaded();if(r.config.ResizeIframe)try{r.resizeIframe(r.config),r.currentIntegration.GetMainContentElement().addEventListener("resize",function(){return r.resizeIframe(r.config)})}catch(t){g.logger.log(g.LogLevel.WARNING,"Unable to resize iframe to fit ad size")}var n=r.currentIntegration.GetMainContentElement();if(n){if(i.DisplayFilter(r.config,n),null!==(e=r.config.Content.Preview)&&void 0!==e&&e.Branding)switch(r.config.IntegrationConfig.Kind){case h.NativeIntegration.TEMPLATE:a.Slideshow(r.config,n,r.config.IntegrationConfig.Template.Placeholders.Image.Width,r.config.IntegrationConfig.Template.Placeholders.Image.Height);break;case h.NativeIntegration.WIDGET:a.Slideshow(r.config,n,r.config.IntegrationConfig.Widget.Placeholders.Image.Width,r.config.IntegrationConfig.Widget.Placeholders.Image.Height);break;case h.NativeIntegration.PREMIUM:a.Slideshow(r.config,n)}n.hasAttribute("class")?n.setAttribute("class",n.getAttribute("class")+" "+f.adRootClassName):n.setAttribute("class",f.adRootClassName),n.getAttribute("id")||n.setAttribute("id","ayl_i_"+r.config.Attempt),p.AddClass(n,"ayl_native_ad_"+r.config.Attempt),r.integrationLoaded()}else g.logger.log(g.LogLevel.INFO,"Main element cannot be found.")}).catch(function(t){g.logger.log(g.LogLevel.ERROR,"Error loading integration: "+t)}),r.executed.push(r.config.Attempt);t=d.ConfigurationReader.unlockAndPopConfig();t&&r.Inject(t,r.adContainer)}},!0)},T.prototype.resizeIframe=function(e){var t,n,r,a,s,c,i,o,l,u,p,d,h=document.querySelector("#ayl_"+e.Attempt);e.Content.Banner&&f.executeForEachParent(h,function(t){t!==document.body&&(t.style.minWidth=e.Content.Banner.Width+"px",t.style.minHeight=e.Content.Banner.Height+"px")}),f.InIframe()&&(h.style.margin="0",document.body.style.margin="0",document.body.style.overflow="hidden",o=e&&e.IntegrationConfig.Widget&&e.IntegrationConfig.Widget.Placeholders.Size&&e.IntegrationConfig.Widget.Placeholders.Size.Height&&-1===e.IntegrationConfig.Widget.Placeholders.Size.Height.indexOf("%")?parseInt(e.IntegrationConfig.Widget.Placeholders.Size.Height,10):0,r=e&&e.IntegrationConfig.Widget&&e.IntegrationConfig.Widget.Placeholders.Size&&e.IntegrationConfig.Widget.Placeholders.Size.Width&&-1===e.IntegrationConfig.Widget.Placeholders.Size.Width.indexOf("%")?parseInt(e.IntegrationConfig.Widget.Placeholders.Size.Width,10):0,n=window.getComputedStyle(h),t=h.clientHeight-parseInt(n.paddingTop,10)-parseInt(n.paddingBottom,10),n=h.clientWidth-parseInt(n.paddingLeft,10)-parseInt(n.paddingRight,10),o=1<Math.max(t,o)?Math.max(h.clientHeight,o)+"px":"100%",r=1<Math.max(n,r)?Math.max(h.clientWidth,r)+"px":"100%",a={width:r,height:o},s={width:r,height:o},c=[],f.executeUntilTopMostWindow(function(t){var n=t.frameElement,r=n.style;r.maxWidth="100%";var i=getComputedStyle(n),o=!1,t=function(t){var e=parseInt(i[t],10);(e<=1||e<=parseInt(a[t],10))&&(n[t]=a[t],r[t]=a[t],o=!0),s[t]=i[t]};t("width"),t("height"),o&&c.push(n)}),i=s,f.executeForEachParent(h,function(t){t!==document.body&&(t.style.minWidth=i.width,t.style.minHeight=i.height)}),o=getComputedStyle(h),l={width:o.width,height:o.height},c.forEach(function(t){t.width=l.width,t.height=l.height,t.style.width=l.width,t.style.height=l.height}),0<c.length&&(0<h.style.width.indexOf("%")&&(h.style.width="100%"),0<h.style.height.indexOf("%")&&(h.style.height="100%")),!(h=f.getSafeFrameEXT())||(u=h.geom())&&(-1!==a.width.indexOf("%")&&(p=parseInt(u.self.w,10)+parseInt(u.exp.l,10)+parseInt(u.exp.r,10),a.width=parseInt(a.width,10)/100*p+"px"),-1!==a.height.indexOf("%")&&(a.width=parseInt(a.height,10)/100*parseInt(u.exp.b,10)+"px"),p=Math.abs(parseInt(a.width,10)-parseInt(u.self.w,10)),d={l:p/2,r:p/2,b:Math.abs(parseInt(a.height,10)-parseInt(u.self.h,10)),push:"1"===h.supports()["exp-push"]},h.register(Math.max(u.self.w,1),Math.max(u.self.h,1),function(t){"failed"===t&&(u.self.w<2||u.self.h<2)&&g.logger.log(g.LogLevel.FORCE,"failed safeframe expand request : "+JSON.stringify(d))}),h.expand(d)))},T.prototype.integrationLoaded=function(){var e=this;this.currentIntegration.InjectOptOutButton(),this.config.IntegrationConfig.Kind!==h.NativeIntegration.SPONSOR_COMMENT&&this.config.IntegrationConfig.Kind!==h.NativeIntegration.SPONSOR_INJECTOR||this.triggerEvent(l.Event.SPONSORPOST_INSERTION),this.triggerEvent(l.Event.IMPRESSION),this.triggerEvent(l.Event.INSERTION);var t=window;if(window.self!==window.top)try{t=window.parent.window}catch(e){}y.Viewability.initListeners(t),y.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),function(t){e.adVisible=t,e.registerPerformUITriggers()},.5),y.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),function(){e.triggerEvent(l.Event.NI_VISIBLE_IMPRESSION),e.triggerEvent(l.Event.NI_VISIBLE_INSERTION)},.5,0),y.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),function(){e.triggerEvent(l.Event.VISIBLE_IMPRESSION),e.triggerEvent(l.Event.VISIBLE_INSERTION),window.addEventListener("beforeunload",function(){e.sendTimeSpent()})},.5,1e3),y.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),function(){s.TriggerEvent(l.Event.VIEWABLE_MRC50,e.config,e.config.Campaign,e.currentIntegration.GetMainContentElement())},.5,1e3),y.Viewability.registerElement(this.currentIntegration.GetMainContentElement(),function(){s.TriggerEvent(l.Event.VIEWABLE_MRC100,e.config,e.config.Campaign,e.currentIntegration.GetMainContentElement())},1,1e3),n.Load(this.currentIntegration.GetMainContentElement(),this.config).then(function(t){e.currentFormat=t,e.registerPerformUITriggers()}),this.registerPerformUITriggers()},T.prototype.GetPlacement=function(){return this.config.Placement},T.prototype.uiTrigger=function(t){var e=this.config.PerformUITriggers;switch(t){case u.NativeUITrigger.CLICK:-1===e.indexOf(u.NativeUITrigger.CLICK)&&-1===e.indexOf(u.NativeUITrigger.MOUSE_OVER)||this.commandPerform();break;case u.NativeUITrigger.SCROLL:this.commandPerform();break;case u.NativeUITrigger.CLICK_CLOSE:this.triggerEvent(l.Event.NATIVE_REMOVE),this.Remove();break;default:g.logger.log(g.LogLevel.WARNING,"Unknown NativeUITrigger: "+t)}},T.prototype.registerPerformUITriggers=function(){for(var a=this,s=this,t=0;t<this.config.PerformUITriggers.length;t++)!function(t){switch(s.config.PerformUITriggers[t]){case u.NativeUITrigger.LOAD:s.config.IntegrationConfig.Kind===h.NativeIntegration.WIDGET&&s.config.DisplayMode===v.WidgetDisplayMode.STORY&&s.config.Opener!==m.Opener.INVIEW||s.currentFormat&&!s.loadTriggered&&(s.loadTriggered=!0,s.commandPerform());break;case u.NativeUITrigger.TOUCH:var e,n;s.adVisible?s.commandPerform():(e=s.currentIntegration.GetMainContentElement(),n=function(){a.commandPerform(),e.removeEventListener("touchend",n)},e.addEventListener("touchend",n));break;case u.NativeUITrigger.VIEWABLE:y.Viewability.registerElement(s.currentIntegration.GetMainContentElement(),function(t){t&&!a.viewableTriggered&&a.currentFormat&&a.config.Opener===m.Opener.INVIEW&&(a.commandPerform(),a.viewableTriggered=!0)},.5);break;case u.NativeUITrigger.SCROLL:var r,i,o=function(){a.currentFormat&&!a.scrollTriggered?(a.scrollTriggered=!0,a.commandPerform()):setTimeout(o,0)};s.adVisible?o():(r="scroll",c.isMobileDevice()&&(r="touchend"),i=function(){a.adVisible&&(o(),window.removeEventListener(r,i))},window.addEventListener(r,i))}}(t)},T.prototype.commandPerform=function(){var t;this.triggerEvent(l.Event.NATIVE_ACTION),null===(t=this.currentFormat)||void 0===t||t.perform()},T.prototype.triggerEvent=function(e){g.logger.log(g.LogLevel.DEBUG,"Event triggered : "+e),s.TriggerEvent(e,this.config,this.config.Campaign,this.currentIntegration.GetMainContentElement()),this.listeners.forEach(function(t){return t.onAttemptEvent(e)})},T.prototype.addListener=function(t){this.listeners.indexOf(t)<0&&this.listeners.push(t)},T.prototype.removeListener=function(e){this.listeners.filter(function(t){return t!==e})},T.prototype.sendTimeSpent=function(){var t=Math.round((Date.now()-this.timespentStartTimestamp)/1e3);(t=60<t?60:t)<0&&(t=0);t={url:this.config.TrackingPrefix+"/timespent?attempt="+r.EscapeHTML(this.config.Attempt)+"&event_kind="+l.Event.TIMESPENT_ON_PAGE+"&placement="+r.EscapeHTML(this.config.Placement)+"&duration="+t,type:"GET",cache:!1,global:!1,xhrFields:{withCredentials:!0}};b.ajax(t)},T.prototype.Remove=function(){this.currentIntegration&&this.currentIntegration.Remove(),this.currentIntegration=null},T.prototype.clickAd=function(){this.uiTrigger(u.NativeUITrigger.CLICK)},T.prototype.pauseAd=function(){return!!this.currentIntegration&&this.currentIntegration.pauseAd()},T.prototype.resumeAd=function(){return!!this.currentIntegration&&this.currentIntegration.resumeAd()},T.prototype.resizeAd=function(t,e,n){return!!this.currentIntegration&&this.currentIntegration.resizeAd(t,e,n)},T);function T(){this.executed=[],this.timespentStartTimestamp=Date.now(),this.adVisible=!1,this.viewableTriggered=!1,this.scrollTriggered=!1,this.loadTriggered=!1,this.listeners=new Array}e.NativeAttempt=E}.apply(e,n))||(t.exports=n)},3095:function(t,e,n){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(3119),n(6322)];void 0===(n=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFullscreenOpener=void 0;var i,o=r.getTopMostWindow(),n=(i=n.IframeOpener,s(a,i),a.prototype.addHTMLElements=function(){i.prototype.addHTMLElements.call(this),this.rootElement.style.position="fixed",this.rootElement.style.cursor="default",this.rootElement.style.left="0px",this.rootElement.style.top="0px",this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.zIndex="5999999",this.rootElement.style.transition="opacity 400ms ease-in-out",this.iframe.style.backgroundColor="white"},a.prototype.start=function(){var t=this;i.prototype.start.call(this),this.rootElement.style.opacity="0",this.rootElement.style.display="",o.document.body.appendChild(this.rootElement),o.document.body.style.overflow="hidden",setTimeout(function(){t.rootElement.style.opacity="1"},0)},a.prototype.stop=function(){i.prototype.stop.call(this),this.rootElement.style.display="none",o.document.body.style.overflow="visible"},a);function a(){return null!==i&&i.apply(this,arguments)||this}e.AbstractFullscreenOpener=n}.apply(e,n))||(t.exports=n)},2313:function(t,e,n){var r,u=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(6754),n(3095),n(7337),n(7070),n(1477)];void 0===(n=function(t,e,n,r,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FullscreenOpener=void 0;var s,c=new i.DecoratorParameter,i=(s=r.AbstractFullscreenOpener,u(l,s),l.prototype.addHTMLElements=function(){s.prototype.addHTMLElements.call(this),c.setValue(this.rootElement)},l.prototype.stop=function(){s.prototype.stop.call(this),this.iframe.src="about:blank"},l.prototype.wrapUrl=function(t){return n.RedirUrl(this.config,t,o.Event.CLICK)},p([a.TimedCloseButtonDecorator("width:30px;height:30px;top:20px;right:20px;position:absolute;",c,new i.DecoratorParameter(0))],l));function l(){return null!==s&&s.apply(this,arguments)||this}e.FullscreenOpener=i}.apply(e,n))||(t.exports=n)},3119:function(t,e,n){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(4834),n(5738),n(3843),n(171)];void 0===(n=function(t,e,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeOpener=void 0;var a,i=(a=i.BaseFormat,c(s,a),s.prototype.addHTMLElements=function(){var t;a.prototype.addHTMLElements.call(this),this.rootElement=document.createElement("div"),this.rootElement.id="ayl_native_root_element_"+r.EscapeHTML(this.config.Attempt),this.iframe=document.createElement("iframe"),this.url=o.ConfigurationReader.getInviewUrl(this.config.Attempt),this.url&&((t=this.iframe.style).width="100%",t.height="100%",t.backgroundColor="white",t.borderWidth="0px",n.isIOs()&&(t.width="1px",t.height="1px",t.minWidth="100%",t.minHeight="100%",this.iframe.setAttribute("scrolling","no")),this.rootElement.appendChild(this.iframe))},s.prototype.addListeners=function(){var t=this;a.prototype.addListeners.call(this),this.iframe.addEventListener("load",function(){t.contentLoaded||t.onContentLoad()})},s.prototype.onContentLoad=function(){this.contentLoaded=!0},s.prototype.perform=function(){},s.prototype.start=function(){a.prototype.start.call(this),this.iframe.src=this.wrapUrl(this.url)},s.prototype.stop=function(){a.prototype.stop.call(this),this.contentLoaded=!1},s.prototype.wrapUrl=function(t){return t},s);function s(){var t=null!==a&&a.apply(this,arguments)||this;return t.contentLoaded=!1,t}e.IframeOpener=i}.apply(e,n))||(t.exports=n)},1168:function(t,e,n){var r,m=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},n=[n,e,n(6754),n(3095),n(7337),n(7070),n(3658),n(1477),n(4834)];void 0===(n=function(t,e,n,r,i,o,a,s,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopInOpener=e.SeeMorePopInOpener=void 0;var l,u,p=new i.DecoratorParameter(document.createElement("div")),i="width:30px;height:30px;position:relative;margin-left:10px;",r=(u=r.AbstractFullscreenOpener,m(h,u),h.prototype.addHTMLElements=function(){u.prototype.addHTMLElements.call(this),this.rootElement.style.padding="50px 50px 50px 50px",this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.boxSizing="border-box";var t=p.getValue();t.style.display="flex",t.style.position="absolute",t.style.top="16px",t.style.right="50px",this.rootElement.appendChild(t),this.iframe.id="ayl_landing_iframe"},h.prototype.addListeners=function(){var e=this;u.prototype.addListeners.call(this),this.injectorElement.addEventListener("click",function(t){e.mouseX=t.pageX,e.mouseY=t.pageY})},h.prototype.start=function(){var e=this;u.prototype.start.call(this),this.rootElement.animate&&!c.isMobileDevice()&&setTimeout(function(){var t=[{clipPath:"circle(0% at "+e.mouseX+"px "+e.mouseY+"px)"},{clipPath:"circle(100% at 50% 50%)"}];e.rootElement.animate(t,{duration:400,iterations:1})})},h.prototype.wrapUrl=function(t){return n.RedirUrl(this.config,t,o.Event.DISPLAY_SITE)},h),a=(m(d,l=r),y([s.TimedCloseButtonDecorator(i,p),a.SeeMoreButtonDecorator("height:30px;position:relative;",p)],d));function d(){return null!==l&&l.apply(this,arguments)||this}function h(){return null!==u&&u.apply(this,arguments)||this}e.SeeMorePopInOpener=a;var f,i=(m(g,f=r),y([s.TimedCloseButtonDecorator(i,p)],g));function g(){return null!==f&&f.apply(this,arguments)||this}e.PopInOpener=i}.apply(e,n))||(t.exports=n)},4409:(t,e,n)=>{var n=[n,e,n(6754),n(5738),n(7070),n(7698),n(3968)];void 0===(n=function(t,e,a,s,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectOpener=void 0;var n=(r.prototype.start=function(){var t=this,e=c.Event.CLICK;this.config.Content.MainVideo?e=c.Event.VIDEO_CLICK:this.config.CampaignKind===u.AdType.AD_SPONSORPOST&&(e=c.Event.SPONSORPOST_PREVIEW_CLICK);var n=this.config.Content.Landing,r=null==n?void 0:n.Url,i=this.config.Content.MainVideo&&this.config.Content.MainVideo.ClickUrl;if(r=r||i){switch(this.config.ClickTracker&&(r=this.config.ClickTracker+s.EncodeURIComponent(r)),this.config.RedirectionTarget){case l.RedirectionTarget.SELF:this.window.open(a.RedirUrl(this.config,r,e,null==n?void 0:n.LegacyTracking),"_self");break;case l.RedirectionTarget.SELF_WITH_TAB:var o=document.URL;0<=o.indexOf("?")?o+="&aylvalidate=success":o+="?aylvalidate=success",setTimeout(function(){t.window.location.href=o},1e3);case l.RedirectionTarget.TAB:this.window.open(a.RedirUrl(this.config,r,e,null==n?void 0:n.LegacyTracking),"_blank")}"function"==typeof this.callback&&this.callback()}},r);function r(t,e,n){this.config=t,this.callback=n,this.window=e}e.RedirectOpener=n}.apply(e,n))||(t.exports=n)},3841:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericPlayer=void 0;var n=(r.prototype.initAd=function(){throw"initAd not implemented"},r.prototype.startAd=function(){this.video.style.display="",this.adContainer.style.display=""},r.prototype.stopAd=function(){throw"stopAd not implemented"},r.prototype.pauseAd=function(){throw"pauseAd not implemented"},r.prototype.resumeAd=function(){throw"resumeAd not implemented"},r.prototype.addListeners=function(){throw"addListeners not implemented"},r.prototype.getRemainingTime=function(){return this.duration-this.elapsed},r.prototype.getDuration=function(){return this.duration},r.prototype.mute=function(t){throw"mute not implemented"},r.prototype.resize=function(){},r);function r(t,e,n,r){this.hasCompletedOnce=!1,this.tracker=t,this.mediaFiles=e,this.video=n,this.adContainer=r}e.GenericPlayer=n}.apply(e,[n,e]))||(t.exports=e)},7528:(t,e,n)=>{var n=[n,e,n(5503),n(6322)];void 0===(n=function(t,e,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenMeasurement=void 0;var r=(i.prototype.insertOMScript=function(e){var t,n=this,r=a.getTopMostWindow();0<r.document.head.getElementsByClassName("ayl-om-service").length?(this.OmidSessionClient=r.OmidSessionClient&&r.OmidSessionClient.default,e()):((t=document.createElement("script")).className="ayl-om_service",t.type="text/javascript",t.setAttribute("src",this.OM_SERVICE_URL),t.addEventListener("load",function(){var t=document.createElement("script");t.className="ayl-om_service",t.type="text/javascript",t.setAttribute("src",n.OM_SESSION_URL),t.addEventListener("load",function(){n.OmidSessionClient=r.OmidSessionClient&&r.OmidSessionClient.default,e()}),r.document.body.appendChild(t)}),r.document.head.appendChild(t))},i.prototype.createOMSession=function(t,e,n){var r=this;this.tracker=e,this.video=n;var i=a.getTopMostWindow(),o=i.document.URL,e=new this.OmidSessionClient.Partner("AdYouLike","1.72.1"),t=t.adVerifications.map(function(t){var e=t.resource;return new r.OmidSessionClient.VerificationScriptResource(e,t.vendor,t.verificationParameters,"full")}),o=new this.OmidSessionClient.Context(e,t,o);o.setServiceWindow(i),o.setVideoElement(n),this.adSession=new this.OmidSessionClient.AdSession(o),this.adSession.isSupported()&&(this.adSession.setCreativeType("video"),this.adEvents=new this.OmidSessionClient.AdEvents(this.adSession),this.mediaEvents=new this.OmidSessionClient.MediaEvents(this.adSession),this.adSession.start(),this.addListeners())},i.prototype.addListeners=function(){var e=this;this.tracker.on(n.PlayerEvents.LOADED,function(){var t=new e.OmidSessionClient.VastProperties(!1,0,!0,"standalone");e.adEvents.loaded(t)}),this.tracker.on(n.PlayerEvents.STARTED,function(){e.adEvents.impressionOccurred(),e.mediaEvents.start(e.video.duration,e.video.volume)}),this.tracker.on(n.PlayerEvents.FIRST_QUARTILE,function(){e.mediaEvents.firstQuartile()}),this.tracker.on(n.PlayerEvents.MIDPOINT,function(){e.mediaEvents.midpoint()}),this.tracker.on(n.PlayerEvents.THIRD_QUARTILE,function(){e.mediaEvents.thirdQuartile()}),this.tracker.on(n.PlayerEvents.COMPLETE,function(){e.mediaEvents.complete(),setTimeout(function(){var t;null===(t=e.adSession)||void 0===t||t.finish()},3e3)})},i);function i(t){this.OM_SERVICE_URL=t.StaticPrefix+"/om/omweb-v1.js",this.OM_SESSION_URL=t.StaticPrefix+"/omid-session-client-v1.js"}e.OpenMeasurement=r}.apply(e,n))||(t.exports=n)},5503:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerEvents=void 0,(e=e.PlayerEvents||(e.PlayerEvents={})).LOADED="loaded",e.STARTED="start",e.AD_ERROR="adError",e.AD_PROGRESS="adProgress",e.PAUSED="pause",e.RESUMED="resume",e.FIRST_QUARTILE="firstQuartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="thirdQuartile",e.COMPLETE="complete",e.CREATIVE_VIEW="creativeView",e.MUTE="mute",e.UNMUTE="unmute",e.CLICKTHROUGH="clickthrough"}.apply(e,[n,e]))||(t.exports=e)},9329:function(t,e,n){var r,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(3841),n(5503),n(8686)];void 0===(n=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VastPlayer=void 0;var o,n=(o=n.GenericPlayer,s(a,o),a.prototype.initAd=function(){var n=this;this.mediaFiles.forEach(function(t){var e=document.createElement("source");e.src=t.fileURL,e.type=t.mimeType,n.video.appendChild(e)}),this.mute(!0),this.addListeners()},a.prototype.stopAd=function(){},a.prototype.resumeAd=function(){this.video.play()},a.prototype.pauseAd=function(){this.video.pause()},a.prototype.addListeners=function(){var e=this;this.video.addEventListener("loadeddata",function(){e.tracker.emit(r.PlayerEvents.LOADED)}),this.video.addEventListener("durationchange",function(t){e.duration=t.target.duration,e.tracker.setDuration(t.target.duration)}),this.video.addEventListener("canplay",function(){e.tracker.trackImpression()}),this.video.addEventListener("play",function(){e.hasCompletedOnce?e.tracker.emit(r.PlayerEvents.RESUMED):e.tracker.setPaused(!1)}),this.video.addEventListener("pause",function(){e.hasCompletedOnce?e.tracker.emit(r.PlayerEvents.PAUSED):e.tracker.setPaused(!0)}),this.video.addEventListener("ended",function(){e.hasCompletedOnce?e.tracker.emit(r.PlayerEvents.COMPLETE):(e.tracker.complete(),e.hasCompletedOnce=!0)}),this.video.addEventListener("timeupdate",function(t){e.elapsed=t.target.currentTime,e.tracker.setProgress(t.target.currentTime),e.tracker.emit(r.PlayerEvents.AD_PROGRESS)}),this.video.addEventListener("volumechange",function(t){e.tracker.setMuted(0===t.target.volume)}),this.video.addEventListener("error",function(){e.tracker.errorWithCode("900")}),i.addClickListener(this.adContainer,function(){e.tracker.click()})},a.prototype.mute=function(t){return this.video.volume=t?0:1,0===this.video.volume},a.prototype.getVideo=function(){return this.video},a);function a(){return null!==o&&o.apply(this,arguments)||this}e.VastPlayer=n}.apply(e,n))||(t.exports=n)},6488:function(t,e,n){var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(3841),n(5503)];void 0===(n=function(t,e,n,i){"use strict";var o,r;Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDPlayer=void 0,(r=o=o||{}).AdLoaded="AdLoaded",r.AdStarted="AdStarted",r.AdStopped="AdStopped",r.AdSkipped="AdSkipped",r.AdSkippableStateChange="AdSkippableStateChange",r.AdSizeChange="AdSizeChange",r.AdLinearChange="AdLinearChange",r.AdDurationChange="AdDurationChange",r.AdExpandedChange="AdExpandedChange",r.AdRemainingTimeChange="AdRemainingTimeChange",r.AdVolumeChange="AdVolumeChange",r.AdImpression="AdImpression",r.AdVideoStart="AdVideoStart",r.AdVideoFirstQuartile="AdVideoFirstQuartile",r.AdVideoMidpoint="AdVideoMidpoint",r.AdVideoThirdQuartile="AdVideoThirdQuartile",r.AdVideoComplete="AdVideoComplete",r.AdClickThru="AdClickThru",r.AdInteraction="AdInteraction",r.AdUserAcceptInvitation="AdUserAcceptInvitation",r.AdUserMinimize="AdUserMinimize",r.AdUserClose="AdUserClose",r.AdPaused="AdPaused",r.AdPlaying="AdPlaying",r.AdLog="AdLog",r.AdError="AdError";var a,n=(a=n.GenericPlayer,c(s,a),s.prototype.initAd=function(){var n=this;this.iframe=document.createElement("iframe"),this.iframe.src="about:blank",this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.style.display="block",this.iframe.style.opacity="0",this.iframe.style.border="none";var t=document.createElement("script");t.src=this.mediaFiles[0].fileURL,t.addEventListener("load",function(){var t=n.iframe.contentWindow.document.body,e=n.adContainer.parentElement.getBoundingClientRect();n.vpaid=n.iframe.contentWindow.getVPAIDAd(),n.addListeners(),n.vpaid.initAd(e.width,e.height,"normal",n.mediaFiles[0].bitrate,{AdParameters:n.parameters},{slot:t,videoSlot:n.video,videoSlotCanAutoPlay:!0}),n.mute(!0)}),this.adContainer.append(this.iframe),this.iframe.contentWindow.document.head.appendChild(t)},s.prototype.startAd=function(){this.adLoaded?(a.prototype.startAd.call(this),this.iframe.style.opacity="1",this.vpaid.startAd()):(this.startOnReady=!0,this.hasCompletedOnce&&this.initAd())},s.prototype.stopAd=function(){this.startOnReady=!1,this.adLoaded=!1,this.iframe.style.opacity="0",this.iframe.remove()},s.prototype.resumeAd=function(){this.vpaid&&!this.adPlaying&&this.vpaid.resumeAd()},s.prototype.pauseAd=function(){this.vpaid&&this.adPlaying&&this.vpaid.pauseAd()},s.prototype.addListeners=function(){var t,r=this,e=this;for(t in o)!function(n){e.vpaid.subscribe(function(t){var e=r.eventCallbacks[n];e&&e(t)},n)}(t);this.eventCallbacks[o.AdLoaded]=function(){r.adLoaded=!0,r.startOnReady&&r.startAd(),r.tracker.emit(i.PlayerEvents.LOADED)},this.eventCallbacks[o.AdDurationChange]=function(){r.duration=r.getDuration(),r.tracker.setDuration(r.duration)},[o.AdRemainingTimeChange,o.AdVideoStart,o.AdVideoFirstQuartile,o.AdVideoMidpoint,o.AdVideoThirdQuartile].forEach(function(t){r.eventCallbacks[t]=function(){r.tracker.setProgress(r.getDuration()-r.getRemainingTime()),r.tracker.emit(i.PlayerEvents.AD_PROGRESS)}}),this.eventCallbacks[o.AdImpression]=function(){r.tracker.trackImpression()},this.eventCallbacks[o.AdStarted]=function(){r.adPlaying=!0},this.eventCallbacks[o.AdPlaying]=function(){r.adPlaying=!0,r.hasCompletedOnce?r.tracker.emit(i.PlayerEvents.RESUMED):r.tracker.setPaused(!1)},this.eventCallbacks[o.AdPaused]=function(){r.adPlaying=!1,r.hasCompletedOnce?r.tracker.emit(i.PlayerEvents.PAUSED):r.tracker.setPaused(!0)},this.eventCallbacks[o.AdStopped]=function(){r.adPlaying=!1,r.hasCompletedOnce?r.tracker.emit(i.PlayerEvents.COMPLETE):(r.tracker.complete(),r.hasCompletedOnce=!0)},this.eventCallbacks[o.AdVolumeChange]=function(){r.tracker.setMuted(0===r.vpaid.getAdVolume())},this.eventCallbacks[o.AdClickThru]=function(){r.tracker.click()},this.eventCallbacks[o.AdError]=function(){r.adPlaying=!1,r.tracker.errorWithCode("900")}},s.prototype.getRemainingTime=function(){return this.vpaid.getAdRemainingTime()},s.prototype.getDuration=function(){return this.vpaid.getAdDuration()},s.prototype.mute=function(t){return this.vpaid.setAdVolume(t?0:100),0===this.vpaid.getAdVolume()},s.prototype.resize=function(){var t=this.adContainer.parentElement.getBoundingClientRect();this.vpaid.resizeAd(t.width,t.height,"normal")},s);function s(t,e,n,r,i){r=a.call(this,t,e,n,r)||this;return r.adLoaded=!1,r.adPlaying=!1,r.startOnReady=!1,r.eventCallbacks={},r.parameters=i,r}e.VPAIDPlayer=n}.apply(e,n))||(t.exports=n)},6424:(t,e,n)=>{var n=[n,e,n(432),n(6740),n(9610),n(4354),n(121),n(7615),n(171),n(7070),n(1491),n(7614)];void 0===(n=function(t,e,n,s,c,l,r,a,u,p,i,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericAylTag=void 0;var o=(h.prototype.Cln=function(t){n.Backend.remove(t)},h.prototype.Call=function(t){t=r.omnitagParamsSchema.cast(t);t.IntegrationTrigger=i.OmnitagTrigger.CALL,n.Backend.callOmniTag(t)},h.prototype.Insert=function(t){n.Backend.loadPlacement(t)},h.prototype.InsertFromConfig=function(t){n.Backend.insertCampaign(t)},h.prototype.LoadAd=function(t){n.Backend.insertCampaign(t)},h.prototype.requestAd=function(t,r,e,i){var o=this,a=l.campaignSchema.cast(e.ForceConfig||{});delete e.ForceConfig;e=s.Extend({Placement:t},e);n.Backend.callOmniTag(e,null,{adContainer:r,insertAd:function(t){for(var e in a)t[e]=a[e];var n={attemptId:t.Attempt,pixelTrackings:{impression:[],visibleImpression:[],CTA:[]},jsTrackings:{impression:[],visibleImpression:[],CTA:[]},errorCode:0};t.Opener===d.Opener.INVIEW&&(n.url=u.ConfigurationReader.getInviewUrl(t.Attempt),n.url||(n.errorCode=parseInt(c.AdError.NO_LANDING.toString(),10))),o.fillNativeAssets(t,r,n),i(n)},noAd:function(t){i({errorCode:parseInt(t.toString(),10)})}})},h.prototype.clickAd=function(t){t=n.Backend.accessAttempt(t);t&&t.clickAd()},h.prototype.fillNativeAssets=function(n,r,i){var o={impression:[p.Event.IMPRESSION,p.Event.INSERTION],visibleImpression:p.Event.VISIBLE_IMPRESSION,CTA:p.Event.CLICK};Object.keys(o).map(function(t){var e=a.CliprInterface.generateUrls(n,o[t],r);i.pixelTrackings[t]=i.pixelTrackings[t].concat(e.pixelTrackings),i.jsTrackings[t]=i.jsTrackings[t].concat(e.jsTrackings)});try{var t=n.Content.Preview.Text;i.title=t.TITLE,i.clickUrl=n.TrackingPrefix+"/ar?event_kind=CLICK&attempt="+n.Attempt+"&campaign="+n.Campaign+"&url="+encodeURIComponent(n.Content.Landing.Url),i.image=u.ConfigurationReader.getImageContent({width:300,height:0}),i.body=t.DESCRIPTION,i.cta=t.CALLTOACTION,i.sponsoredBy=n.Content.Preview.Sponsor.Name,i.icon=u.ConfigurationReader.getProperty("logo"),i.privacyIcon=n.Content.Preview.Credit.Logo.Resource.Data.External.Url,i.privacyLink=n.Content.Preview.Credit.Url}catch(n){i.image||(i.errorCode=parseInt(c.AdError.MISSING_ASSETS.toString(),10))}return i},h);function h(){this.version="1.72.1"}e.GenericAylTag=o}.apply(e,n))||(t.exports=n)},2074:function(t,e,u){var r,p=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[u,e,u(432),u(8397),u(6740),u(7757),u(8175),u(6424)];void 0===(n=function(t,e,n,r,i,o,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),u.p=a.AYL_URL.ADSERVER_FO_STATIC+"/";var c,a=(c=s.GenericAylTag,p(l,c),l.prototype.Call=function(t){var e;t=t.Placement?(e=o.GetScriptParamsForPlacement(t.Placement),i.Extend({},t,e.FragmentParams,e.ScriptTagParams)):t,c.prototype.Call.call(this,t)},l);function l(){var t=c.call(this)||this;return r.Bootstrap(),n.Create(r.Omnitag.ApiPrefix),t}window.AylTag||((s=window).Adyoulike=new a,s.AylTag=window.Adyoulike)}.apply(e,n))||(t.exports=n)},8397:(t,e,n)=>{var n=[n,e,n(7757),n(8175),n(4220)];void 0===(n=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bootstrap=e.OmnitagObject=e.Omnitag=e.IsOmnitagFirstLoad=void 0,e.IsOmnitagFirstLoad=!(window.Adyoulike&&window.Adyoulike._);function o(){this.Setup=window.AdyoulikeSetup||{},this.Legacy=null===window.Adyoulike?void 0:window.Adyoulike,this.LoadedAt=(new Date).getTime(),this.Analytics=!!location.protocol.match(/^https?:$/),this.Attempts={}}e.OmnitagObject=o,e.Bootstrap=function(){e.Omnitag=new o;var t="https:"===document.location.protocol.toLowerCase()?"https":"http";r.isDevEnvironment()&&(e.Omnitag.Analytics=!1),e.Omnitag.ApiPrefix=t+":"+r.AYL_URL.ADSERVER_FO_API,e.Omnitag.LoggerheadEndpoint="https:"+r.AYL_URL.ADSERVER_LOGGER,e.Omnitag.StaticPrefix=t+":"+r.AYL_URL.ADSERVER_FO_STATIC,e.Omnitag.SandboxPrefix=t+":"+r.AYL_URL.ADSERVER_FOSB;try{n.FillFromFirstMatchingScriptInDocument(e.Omnitag)}catch(t){i.logger.log(i.LogLevel.ERROR,"Bootstrap has failed!")}}}.apply(e,n))||(t.exports=n)},8175:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AYL_URL=e.shouldUseAylPlayer=e.getUserSyncRate=e.isDevEnvironment=void 0;var n=Math.random();e.isDevEnvironment=function(){return!1},e.getUserSyncRate=function(){return(parseInt("100",10)||parseInt(void 0,10)||50)/100},e.shouldUseAylPlayer=function(){var t=parseInt("0",10)||parseInt(void 0,10)||0;return n<t/100},e.AYL_URL={ADSERVER_FO_STATIC:"//fo-static.omnitagjs.com/fo-static",ADSERVER_FO_API:"//fo-api.omnitagjs.com/fo-api",ADSERVER_LOGGER:"//loggerhead.omnitagjs.com/loggerhead/log",ADSERVER_FOSB:"//fosb-static.omnitagsb.com/fosb-static"}}.apply(e,[n,e]))||(t.exports=e)},811:(t,e,n)=>{var n=[n,e,n(5738),n(2855)];void 0===(n=function(t,e,l,n){"use strict";function u(t){switch(t){case n.Access.ADMINPREVIEW:case n.Access.USERPREVIEW:return 1;case n.Access.ALL:case n.Access.DISABLED:default:return}}function p(t){switch(t){case n.Access.ADMINPREVIEW:case n.Access.USERPREVIEW:return 1;case n.Access.ALL:case n.Access.DISABLED:default:return}}Object.defineProperty(e,"__esModule",{value:!0}),e.DisplayFilter=void 0,e.DisplayFilter=function(t,e){if(e&&(u(t.PlacementAccess)||p(t.CampaignAccess))){var n=void 0,r=void 0,i=[];(n=document.createElement("div")).className="ayl_preview_"+l.EscapeHTML(t.Attempt);var o={position:"absolute",width:"100%",height:"100%",top:"0",bottom:"0",left:"0",right:"0","pointer-events":"none","z-index":"12","background-color":"rgba(255, 255, 255, 0.4)","background-image":"linear-gradient(-45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)","background-size":"40px 40px"},a=void 0;for(s in"absolute"===e.style.position?(o.top=e.style.top,o.right=e.style.right,o.bottom=e.style.bottom,o.left=e.style.left):"relative"===e.style.position?(o.width=e.style.width,o.height=e.style.height):a=e.querySelector("img[src^='"+t.DynamicPrefix+"'], [style*='"+t.DynamicPrefix+"']"),o)o.hasOwnProperty(s)&&(n.style[s]=o[s]);(r=document.createElement("div")).className="ayl_preview_title_"+l.EscapeHTML(t.Attempt);var s,c={width:"100%",height:"auto",top:"0",bottom:"0",left:"0",right:"0",position:"absolute",color:"rgba(0,0,0,0.3)","text-align":"center","font-size":"40px","line-height":"40px",margin:"auto",display:"table"};for(s in c)c.hasOwnProperty(s)&&r.style.setProperty(s,c[s]);u(t.PlacementAccess)&&i.push("PLACEMENT"),p(t.CampaignAccess)&&i.push("CAMPAIGN"),r.innerHTML=i.join("/")+" PREVIEW",n.appendChild(r),a?a.insertAdjacentHTML("beforebegin",n.innerHTML):e.appendChild(n)}}}.apply(e,n))||(t.exports=n)},8709:(t,e,n)=>{var n=[n,e,n(4220),n(5738)];void 0===(n=function(t,e,i,o){"use strict";function r(t,e){e.parentNode.insertBefore(t,e.nextSibling)}Object.defineProperty(e,"__esModule",{value:!0}),e.Extend=e.InsertAllAfter=e.InsertAfter=e.ParseHTML=e.HasClass=e.RemoveClass=e.AddClass=e.IsVisible=e.Is=e.Matches=e.InsertExternalScript=e.InsertScript=e.Offset=void 0,e.Offset=function(t,e){void 0===e&&(e=document.body);var n={top:-500,left:0};return{top:(n=t.parentElement?t.getBoundingClientRect():n).top+e.scrollTop,left:n.left+e.scrollLeft}},e.InsertScript=function(t,e){try{var n=document.createElement("script");n.className=o.AYL_INJECT_CLASSNAME,n.type="text/javascript",e.src&&n.setAttribute("src",e.src);var r=e.innerHTML;r&&(n.textContent=r,n.onload=function(){var t=new Function("(function(){"+r+"})()");setTimeout(t,1)}),t.appendChild(n)}catch(t){i.logger.log(i.LogLevel.INFO,"Issue with Javascript Tracker : "+t.message)}},e.InsertExternalScript=function(t,e,n){try{var r=document.createElement("script");r.className=o.AYL_INJECT_CLASSNAME,r.type="text/javascript",e&&r.setAttribute("src",e),n&&(r.onload=n),t.appendChild(r)}catch(t){i.logger.log(i.LogLevel.INFO,"Issue with external script : "+t.message)}},e.Matches=function(t,e){for(var n=document.querySelectorAll(e),r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},e.Is=function(t,e){for(var n,r,i=t,o=!1;i.parentNode;)i=i.parentNode;i instanceof Document||i instanceof DocumentFragment?n=i:(n=r=document.createDocumentFragment(),r.appendChild(i));for(var a=n.querySelectorAll(e),s=0;s<a.length;s++)if(this===a.item(s)){o=!0;break}for(;r&&r.firstChild;)r.removeChild(r.firstChild);return o},e.IsVisible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},e.AddClass=function(t,e){t&&(t.classList?t.classList.add(e):t.className+=" "+e)},e.RemoveClass=function(t,e){t&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},e.HasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},e.ParseHTML=function(t){var e=t;t.indexOf("<html>")<0&&(e="<!DOCTYPE html><html><head></head><body>"+t+"</body></html>");e=Array.from((new DOMParser).parseFromString(e,"text/html").body.children);return e.forEach(function(t){t.parentElement.removeChild(t)}),e},e.InsertAfter=r,e.InsertAllAfter=function(t,e){for(var n=0;n<t.length;n++)r(t[n],e)},e.Extend=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=t||{};for(var r=0;r<e.length;r++)if(e[r])for(var i in e[r])e[r].hasOwnProperty(i)&&(t[i]=e[r][i]);return t}}.apply(e,n))||(t.exports=n)},4220:function(t,e,n){var r,f=n(6887),g=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(8397),n(8175),n(5738),n(7779),n(6322)];void 0===(n=function(t,i,c,e,l,n,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.logger=i.LogLevel=void 0;var o,a,s=(a=n.Enum,g(d,a),d),u=(o=n.EnumElement,g(p,o),p);function p(t,e){t=o.call(this,t)||this;return t.intValue=e,t}function d(){var t=null!==a&&a.apply(this,arguments)||this;return t.ERROR=new u("ERROR",0),t.WARNING=new u("WARNING",1),t.INFO=new u("INFO",2),t.DEBUG=new u("DEBUG",3),t.FORCE=new u("FORCE",4),t}i.LogLevel=new s;h.prototype.snitch=function(t,e){var n,r,i,o,a,s;c.Omnitag&&(n="FO JS("+((new Date).getTime()-c.Omnitag.LoadedAt),(s=window.performance&&window.performance.timing&&window.performance.timing.navigationStart)&&(n+="+"+(c.Omnitag.LoadedAt-s)),n+="ms): "+e.match(/[^\n]*/)[0]+"\n"+this.snitchHeader(),a=this.CAN_HAVE_BIG_SNITCH_MESSAGES?(r="POST",i="json",o="application/json; charset=UTF-8",JSON.stringify({LogLevel:t,Payload:{Msg:n}})):(r="GET",i="text",o="application/x-www-form-urlencoded; charset=UTF-8",a='{"Msg":"'+(n=n.substring(0,1900)).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"}',1900<(s=l.EncodeURIComponent(a)).length&&(e=1900-(s.length-n.length),a='{"Msg":"'+(n=n.substring(0,e=e<0?0:e)).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"}',s=l.EncodeURIComponent(a)),{LogLevel:t,Payload:a}),f.ajax({url:c.Omnitag.LoggerheadEndpoint,type:r,cache:!1,global:!1,dataType:i,contentType:o,data:a}))},h.prototype.snitchHeader=function(){var t,e,n="";return window.location&&(t=""+window.location,this.CAN_HAVE_BIG_SNITCH_MESSAGES?n+="Location: "+t.substring(0,1e3)+"\n":n+=t.substring(0,200)+"\n"),document.referrer&&(e=""+document.referrer,this.CAN_HAVE_BIG_SNITCH_MESSAGES?n+="Referrer: "+e.substring(0,1e3)+"\n":n+=e.substring(0,200)+"\n"),window.navigator&&navigator.userAgent&&(e=""+navigator.userAgent,this.CAN_HAVE_BIG_SNITCH_MESSAGES?n+="UserAgent: "+e.substring(0,1e3)+"\n":n+=e.substring(0,150)+"\n"),n},h.prototype.log=function(t,e){if(t.intValue<=this.snitchLevel&&this.snitch(t.intValue,e),console&&(t.intValue<=this.logLevel||t===i.LogLevel.FORCE)){var n="AYL - ",r="";switch(t){case i.LogLevel.ERROR:n+="[ERROR] - ",r="#FF0000";break;case i.LogLevel.WARNING:n+="[WARN] - ",r="#EFCC00";break;case i.LogLevel.INFO:n+="[INFO] - ",r="#FFFFFF";break;case i.LogLevel.DEBUG:n+="[DEBUG] - ",r="#CCCCFF";break;default:r="#FFFFFF"}t===i.LogLevel.ERROR&&console.trace?console.trace("%c"+n+e,"background: #222; color: "+r):console.log&&console.log("%c"+n+e,"background: #222; color: "+r)}},h.prototype.onErrorEventCatcher=function(t,e){var n="";if(this.config&&(n="Placement id : "+this.config.Placement,n+=this.config.Campaign?" | Campaign id : "+this.config.Campaign:""),t&&t.error){t=""+t.error.stack;t.match(/(@|\s|\()https?:\/\/[a-z\.0-9-]+\.(omnitagjs\.com|adyoulike\.com|adyoulike\.net)(\/.*):\d+:\d+\)?$/im)&&this.log(i.LogLevel.ERROR,n+"\nUncaught Error: "+t)}else if("string"==typeof e&&e.match(/^https?:\/\/[a-z\.0-9-]+\.(omnitagjs\.com|adyoulike\.com|adyoulike\.net)/i))return void this.log(i.LogLevel.ERROR,n+"\nUncaught Error: "+e)},h.prototype.setConfiguration=function(t){this.config=t},s=h;function h(){this.snitchLevel=i.LogLevel.ERROR.intValue,this.CAN_HAVE_BIG_SNITCH_MESSAGES=!!window.JSON;var t=i.LogLevel[r.getPageParameter("AYL_TAG_LOG")];this.logLevel=t?t.intValue:-1,e.isDevEnvironment()||(""+window.location).match(/^[^:]+:\/\/(demo|native\-generator|public|mobile|www)\.adyoulike\.(co\.)?[^.]+\.?(\/|$)/)||(window.addEventListener?window.addEventListener("error",this.onErrorEventCatcher,!1):window.attachEvent("onerror",this.onErrorEventCatcher))}i.logger=new s}.apply(e,n))||(t.exports=n)},6740:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extend=e.DeepMerge=void 0,e.DeepMerge=function t(e,n){if(e)for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(n.hasOwnProperty(o)){if(void 0!==e[o]&&null!==e[o]){var a=e[o],s=n[o];if("object"==typeof a&&a.hasOwnProperty("value")||"string"==typeof a||"boolean"==typeof a||"number"==typeof a||Array.isArray(a)||void 0===s||null===s&&"object"==typeof s)n[o]=e[o];else if("object"==typeof a&&a.hasOwnProperty("map"))for(var c=a.Keys(),l=0;l<c.length;l++){var u,p=c[l],d=a.Get(p);Array.isArray(d)?(u=s.Get(p,[]),Array.isArray(u)||(u=[u]),s.Set(p,u.concat(d))):s.Set(p,d)}else"object"==typeof a&&t(e[o],n[o])}}else n[o]=e[o]}},e.Extend=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n++)for(var r in t[n])t[n].hasOwnProperty(r)&&(t[0][r]=t[n][r]);return t[0]}}.apply(e,[n,e]))||(t.exports=e)},6761:(t,e,n)=>{var w=n(6887),n=[n,e,n(8397),n(6740),n(5738),n(9800),n(9659),n(6322),n(171),n(4576),n(628),n(213),n(4834)];void 0===(n=function(t,e,d,n,h,s,c,l,u,p,f,g,m){"use strict";function y(t){t&&window.setTimeout(function(){t.parentNode.removeChild(t)},1e4)}function v(n,r,t,i,o){function a(t){var e=r+"__";"string"!=typeof t.data||t.data.substring(0,e.length)!==e||l||(l=!0,c=function(){},window.detachEvent?window.detachEvent("onmessage",a):window.removeEventListener("message",a),clearTimeout(s),-1<t.data.indexOf("vasterror")?o():i(n,"/modifier",n.ApiPrefix,t.data.substring(e.length)),p.removeEventListener("readystatechange",u),p.removeEventListener("load",u),y(p))}var s,c=function(){i=function(t,e,n,r){},o()},l=!1;window.attachEvent?window.attachEvent("onmessage",a):window.addEventListener("message",a);var u=function(t){p.readyState&&!/loaded|complete/.test(p.readyState)||(s=window.setTimeout(function(){c()},2e3))},p=document.createElement("iframe");p.style.position="absolute",p.style.left="-9999px",p.style.width="1px",p.style.height="1px",p.style.display="block",p.src=d.Omnitag.StaticPrefix+"/if-vast.html#"+h.EncodeURIParams({url:t,uid:r}),p.addEventListener("readystatechange",u),p.addEventListener("load",u),document.body.appendChild(p)}function E(e,t,n,r,i){var o=function(){r=function(t,e,n,r){},i()};window.nextperf=function(t){o=function(){},clearTimeout(a),""!==t?r(e,"/modifier",e.ApiPrefix,t):i(),delete window.nextperf};var a=window.setTimeout(function(){o()},1e3),s=document.createElement("script");s.setAttribute("src",n),l.setDomInjectionTarget({Attempt:e.Attempt,Placement:e.Placement},s),s.addEventListener("error",function(){o=function(){},clearTimeout(a),i()})}function T(n,r,t,i,o){function a(t){var e=r+"__";"string"==typeof t.data&&t.data.substring(0,e.length)===e&&(c=function(){},window.detachEvent?window.detachEvent("onmessage",a):window.removeEventListener("message",a),clearTimeout(s),(e=t.data.substring(e.length))?i(n,"/modifier",n.ApiPrefix,e):o(),y(l))}var s,c=function(){i=function(t,e,n,r){},o()};window.attachEvent?window.attachEvent("onmessage",a):window.addEventListener("message",a);var l=document.createElement("iframe");-1!==t.indexOf("#")?l.src=t+"Uid="+r:l.src=t+"#Uid="+r,l.width="0",l.height="0",l.frameBorder="0",l.setAttribute("style","display: none; width: 0px; height: 0px;"),l.onload=l.onreadystatechange=function(t,e){!e&&l.readyState&&!/loaded|complete/.test(l.readyState)||(l.onload=l.onreadystatechange=null,s=window.setTimeout(function(){c()},1e3))},document.body.appendChild(l)}function b(r,t,e,i,o){var n="%7B%22eventtrackers%22%3A%5B%7B%22event%22%3A1%2C%22methods%22%3A%5B1%5D%7D%2C%7B%22event%22%3A2%2C%22methods%22%3A%5B1%5D%7D%5D%2C%22assets%22%3A%5B%7B%22id%22%3A1%2C%22required%22%3A1%2C%22title%22%3A%7B%22len%22%3A60%7D%7D%2C%7B%22id%22%3A2%2C%22required%22%3A1%2C%22img%22%3A%7B%22type%22%3A3%2C%22wmin%22%3A"+u.ConfigurationReader.getProperty("thumbnailwidth")+"%2C%22hmin%22%3A"+u.ConfigurationReader.getProperty("thumbnailheight")+"%2C%22mimes%22%3A%5B%22image%2Fjpg%22%2C%22image%2Fpng%22%5D%7D%7D%2C%7B%22id%22%3A4%2C%22img%22%3A%7B%22type%22%3A1%2C%22wmin%22%3A90%2C%22hmin%22%3A90%2C%22mimes%22%3A%5B%22image%2Fjpg%22%2C%22image%2Fpng%22%5D%7D%7D%2C%7B%22id%22%3A5%2C%22data%22%3A%7B%22type%22%3A2%2C%22len%22%3A"+u.ConfigurationReader.getProperty("descriptionlength")+"%7D%7D%2C%7B%22id%22%3A6%2C%22data%22%3A%7B%22type%22%3A1%7D%7D%2C%7B%22id%22%3A7%2C%22data%22%3A%7B%22type%22%3A12%7D%7D%5D%2C%22ver%22%3A%221.2%22%7D",n={url:r.DataSourceUrl.replace("[ENCODED_ASSETS]",n).replace("[encoded_assets]",n).replace("[RANDOM]",r.Attempt).replace("[random]",r.Attempt),type:"GET",cache:!1,global:!1,dataType:"json",xhrFields:{withCredentials:!0},error:function(t,e,n){o()},success:function(t,e,n){clearTimeout(a);t=JSON.stringify({Payload:t,Language:r.Lang,DescriptionLength:u.ConfigurationReader.getProperty("descriptionlength")});i(r,"/modifier",r.ApiPrefix,t),i=function(t,e,n,r){}}},a=window.setTimeout(function(){i(r,"/modifier",r.ApiPrefix,"{}"),i=function(t,e,n,r){}},3e3);w.ajax(n)}function _(r,t,e,i,o){var n={url:r.DataSourceUrl,type:"GET",cache:!1,global:!1,dataType:"json",xhrFields:{withCredentials:!0},error:function(t,e,n){o()},success:function(t,e,n){clearTimeout(a);t=JSON.stringify({Payload:t,Language:r.Lang,DescriptionLength:u.ConfigurationReader.getProperty("descriptionlength")});i(r,"/modifier",r.ApiPrefix,t),i=function(t,e,n,r){}}},a=window.setTimeout(function(){i(r,"/modifier",r.ApiPrefix,"{}"),i=function(t,e,n,r){}},3e3);w.ajax(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.MergeModifierConfig=e.Call=void 0,e.Call=function(t,e,n){var r,i=t.DataSource,o=h.EscapeHTML(t.Campaign)+ +new Date,a=h.SubstituteTokens(t.DataSourceUrl);u.ConfigurationReader.setConfiguration(t,function(){switch(i){case s.Datasource.VAST:case s.Datasource.VAST_LOCAL:r=v;break;case s.Datasource.NEXTPERF:r=E;break;case s.Datasource.APPNEXUS:r=T;break;case s.Datasource.SSP:!function(n,r){var t={ThumbnailWidth:parseInt(u.ConfigurationReader.getProperty("thumbnailwidth"),10)||0,ThumbnailHeight:parseInt(u.ConfigurationReader.getProperty("thumbnailheight"),10)||0,DescriptionLength:parseInt(u.ConfigurationReader.getProperty("descriptionlength"),10)||0},i=g.SSPRequest.cast({Preview:t,Attempt:n.Attempt,PageRefreshed:performance.navigation.type===performance.navigation.TYPE_RELOAD});n.ForcedCampaign&&(i.ForcedCampaign=n.ForcedCampaign),n.ForcedTrack&&(i.ForcedTrack=n.ForcedTrack),n.ForcedCreative&&(i.ForcedCreative=n.ForcedCreative),n.ForcedSource&&(i.ForcedSource=n.ForcedSource),window.AylServed&&window.AylServed.ServedCampaigns&&(i.ServedCampaigns=window.AylServed.ServedCampaigns),window.AylServed&&window.AylServed.ServedKinds&&(i.ServedKinds=window.AylServed.ServedKinds);t=l.getTopMostWindow();t.document.documentElement.lang&&(i.Lang=t.document.documentElement.lang);for(var e=t.document.getElementsByTagName("meta"),o="",a=0;a<e.length;a++)"keywords"!==e[a].getAttribute("name")&&"news_keywords"!==e[a].getAttribute("name")||(""!==o&&(o+=","),o+=e[a].getAttribute("content"));""!==o&&(i.Keywords=o),m.isSafari(navigator)?new f.RTUSCriteo(n.VisitorPrefix,"191",n.Attempt,function(t,e){(e=e)&&(i.CookieSyncFallbacks=new p.Getter,i.CookieSyncFallbacks.Set(c.Rtus.CRITEO,e)),r(n,"/marketplace",n.SspPrefix,JSON.stringify(i))}):r(n,"/marketplace",n.SspPrefix,JSON.stringify(i))}(t,e);break;case s.Datasource.ADVENTORI:r=b;break;case s.Datasource.JIVOX:case s.Datasource.FLASHTALKING:r=_;break;default:throw new Error("Unknown DatasourceKind: "+i)}r&&r(t,o,a,e,n)})},e.MergeModifierConfig=function(t,e){e.ClickTracker&&t.ClickTracker&&(t.ClickTracker=e.ClickTracker+h.EncodeURIComponent(t.ClickTracker)),t.DataSource||(t.DataSource=s.Datasource.LOCAL),n.DeepMerge(t,e)}}.apply(e,n))||(t.exports=n)},7659:(t,e,n)=>{var n=[n,e,n(4073),n(7005),n(5573),n(6990),n(8686)];void 0===(n=function(t,e,r,i,o,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PassbackManager=void 0;var a=(s.prototype.GetCurrentPassback=function(){return this.current},s.prototype.DisplayPassback=function(){var t=this;if(!this.succeed)if(this.current=this.passbacks.shift(),this.current)switch(this.current.Kind){case n.PassbackType.GENERIC:this.loadGeneric(this.current,this.uid,function(){t.success()},function(){t.DisplayPassback()});break;case n.PassbackType.PUBLISHER:this.loadPublisher(this.current,this.uid,function(){t.success()},function(){t.DisplayPassback()});break;default:throw new Error("passback loader not recognized "+this.current.Kind.toString())}else this.fail()},s.prototype.getElementForPassback=function(t){var e,n=i.IntegrationInsertion.APPEND;switch(this.config.IntegrationConfig.Kind){case o.NativeIntegration.TEMPLATE:e=this.config.IntegrationConfig.Template.Selector,n=this.config.IntegrationConfig.Template.Insertion;break;case o.NativeIntegration.WIDGET:e=this.config.IntegrationConfig.Widget.Selector,n=this.config.IntegrationConfig.Widget.Insertion}return{Element:t.Selector?document.querySelector(t.Selector):r.QuerySelector(this.config,e,!0),Insertion:n}},s.prototype.insertElementForPassback=function(t,e,n){if(t)switch(n){case i.IntegrationInsertion.BEFORE:t.parentNode.insertBefore(e,t);break;case i.IntegrationInsertion.PREPEND:t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);break;case i.IntegrationInsertion.APPEND:t.appendChild(e);break;case i.IntegrationInsertion.AFTER:t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e);break;case i.IntegrationInsertion.REPLACE:t.parentNode.replaceChild(e,t);break;default:throw new Error("Unknown IntegrationInsertionKind "+n.toString())}},s.prototype.loadPublisher=function(t,e,n,r){var i,o,a,s=this.getElementForPassback(t);s&&s.Element?(i=document.createElement("div"),this.insertElementForPassback(s.Element,i,s.Insertion),(o=document.createElement("div")).innerHTML=t.Data.trim(),s=o.firstElementChild,a=i.parentNode,"SCRIPT"!==(null===(t=s.nodeName)||void 0===t?void 0:t.toUpperCase())&&a.replaceChild(o.firstElementChild,i),c.traverseNode(s,function(t){var e;null!==t.nodeName&&"SCRIPT"===t.nodeName.toUpperCase()&&t.src?((e=document.createElement("script")).type=t.type,e.src=t.src,a.appendChild(e)):null===t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)}),n()):r()},s.prototype.loadGeneric=function(t,e,n,r){var i,o,a=this.getElementForPassback(t);a&&a.Element?((i=document.createElement("div")).setAttribute("style","position:relative;margin:0;padding:0;border:0;min-height:inherit;max-width:inherit;"),(o=document.createElement("iframe")).setAttribute("style","position:relative;margin:0 auto;padding:0;border:0;min-height:inherit;max-width:inherit;display:block;"),o.setAttribute("width","0"),o.setAttribute("height","0"),o.setAttribute("frameBorder","0"),o.setAttribute("allowfullscreen",""),o.setAttribute("scrolling","no"),i.appendChild(o),this.insertElementForPassback(a.Element,i,a.Insertion),(o.contentDocument||o.contentWindow.document).write('<body style="margin:0;padding:0">'+t.Data+"</body>"),setTimeout(function(){return 0===o.contentWindow.document.body.scrollWidth||0===o.contentWindow.document.body.scrollHeight?(i.parentNode.removeChild(i),void r()):(i.style.width="100%",i.style.height=o.contentWindow.document.body.scrollHeight+"px",i.style.margin="0 auto",o.setAttribute("width",""+o.contentWindow.document.body.scrollWidth),o.setAttribute("height",""+o.contentWindow.document.body.scrollHeight),void n())},600)):r()},s);function s(t,e,n,r){var i=this;this.succeed=!1,this.config=t,this.passbacks=this.config.PlacementPassbacks,this.uid=e,this.success=function(){i.succeed=!0,n()},this.fail=r}e.PassbackManager=a}.apply(e,n))||(t.exports=n)},4073:(t,e,n)=>{var n=[n,e,n(2806)];void 0===(n=function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSelector=e.QuerySelector=void 0;function u(){this.Element=null}var p={};function d(t,e,n,r){r=r||window;var i,o=t.Attempt;if(!n&&o in p)return p[o];switch(e.Kind){case l.SelectorType.SCRIPT:i=r.document.querySelector("script[src*='omnitagjs.com#Placement='], script[src*='ot.js?Placement=']");break;case l.SelectorType.CSS:i=r.document.querySelector(e.Css);break;case l.SelectorType.JAVASCRIPT:var a=new Function("g","__break__",e.Javascript+"\nreturn __break__;"),s=new u,c=new Object;a(s,c)===c&&s.Element&&(i=s.Element);break;default:throw new Error("Selector kind not implemented: "+e.Kind.toString())}i&&(p[o]=i);try{!i&&r.frameElement&&(i=d(t,e,n,r.parent))}catch(t){}return i}e.QuerySelector=d,e.CheckSelector=function(t,e,n,r){function i(){1e4<=Date.now()-o?r():d(t,e,!0)?n():setTimeout(function(){i()},200)}var o=Date.now();i()}}.apply(e,n))||(t.exports=n)},6754:(t,e,n)=>{var n=[n,e,n(5738),n(1190),n(7070)];void 0===(n=function(t,e,i,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirUrl=void 0,e.RedirUrl=function(t,e,n,r){return(r?function(t,e,n){var r=o.IsAlreadyTriggered(n,t);o.MakeCallTriggers(n,t,r,!0,document.body)(),o.MakeCallTriggers(a.Event.REDIRECTION,t,r,!0,document.body)();r=t.TrackingPrefix+"/redir?attempt="+i.EncodeURIComponent(t.Attempt)+"&campaign="+i.EncodeURIComponent(t.Campaign);if(!e)throw new Error("Unknown redirection url");if(r+="&url="+i.EncodeURIComponent(e),!n)throw new Error("Unknown event url");return r+="&event_kind="+n.toString(),t.StaticPrefix+"/ar.html?#"+i.EncodeURIComponent(r)}:function(t,e,n){var r=o.IsAlreadyTriggered(n,t);o.MakeCallTriggers(n,t,r,!0,document.body)(),o.MakeCallTriggers(a.Event.REDIRECTION,t,r,!0,document.body)();t=t.TrackingPrefix+"/ar?attempt="+i.EncodeURIComponent(t.Attempt)+"&campaign="+i.EncodeURIComponent(t.Campaign);if(!n)throw new Error("Unknown event url");if(t+="&event_kind="+n.toString(),!e)throw new Error("Unknown redirection url");return t+="&url="+i.EncodeURIComponent(e)})(t,e,n)}}.apply(e,n))||(t.exports=n)},3420:(t,e,n)=>{var n=[n,e,n(4073),n(5738),n(5565)];void 0===(n=function(t,e,l,d,h){"use strict";function u(t,e,n,r,i,o,a,s){if(!e)return"";var c=window.devicePixelRatio||1;i&&(n=Math.round(c*+n),r=Math.round(c*+r)),n=Math.round(n),r=Math.round(r),void 0===o&&(o=!1),0!==e.ZoneHeight&&0!==e.ZoneWidth||(o=!0);var l="",u=t.DynamicPrefix;switch(e.Kind){case h.ResourceOrigin.INTERNAL:l=u+"/native/preview/image?key="+d.EscapeHTML(e.Data.Internal.BlobReference.Uid),l+="&kind="+e.Kind.toString(),o?(l+="&ztop="+1/3,l+="&zleft="+1/3,l+="&zwidth="+1/3,l+="&zheight="+1/3):(l+="&ztop="+e.ZoneTop,l+="&zleft="+e.ZoneLeft,l+="&zwidth="+e.ZoneWidth,l+="&zheight="+e.ZoneHeight),l+="&width="+n,l+="&height="+r,e.Quality===h.ImageQuality.LOW&&(l+="&cropquality=LOW");break;case h.ResourceOrigin.EXTERNAL:var p=e.Data.External.Url;0<=(p=(p=p.replace(/\[height\]/i,""+r)).replace(/\[width\]/i,""+n)).indexOf(u)?l=p:(l=u+"/native/preview/image?url="+d.EncodeURIComponent(p),l+="&kind="+e.Kind.toString(),o?(l+="&ztop="+1/3,l+="&zleft="+1/3,l+="&zwidth="+1/3,l+="&zheight="+1/3):(l+="&ztop="+e.ZoneTop,l+="&zleft="+e.ZoneLeft,l+="&zwidth="+e.ZoneWidth,l+="&zheight="+e.ZoneHeight),l+="&width="+n,l+="&height="+r,e.Quality===h.ImageQuality.LOW&&(l+="&cropquality=LOW")),(s||e.Smart)&&(l+="&smart="+(s||e.Smart)),e.NoTransform&&(l+="&notransform="+e.NoTransform);break;default:throw new Error("Unknown ResourceImageKind: "+e.Kind.toString())}return t.Content.Preview.LogoPlay&&(l+="&play="+t.Content.Preview.LogoPlay),a&&(l+="&empty=true"),l}function p(t,e,n){e=t.BlobPrefix+"/"+d.EscapeHTML(e.Uid);return n&&(e+="?Raw=true"),e}Object.defineProperty(e,"__esModule",{value:!0}),e.GetUrlFromBlobReference=e.GetUrlsFromResourceVideo=e.GetUrlFromResourceVpaid=e.GetUrlFromResourceImage=e.GetUrlDynamicImage=e.GetUrlDynamicImageBasedOnParentContainer=void 0,e.GetUrlDynamicImageBasedOnParentContainer=function(t,e,n){var r=t.Content.Preview.Thumbnail;if(!r||!r.Image)return"";var i=l.QuerySelector(t,t.IntegrationConfig.Widget.Selector),o=t.IntegrationConfig.Widget.Placeholders.Size&&t.IntegrationConfig.Widget.Placeholders.Size.Height&&-1!==t.IntegrationConfig.Widget.Placeholders.Size.Height.indexOf("px")&&parseInt(t.IntegrationConfig.Widget.Placeholders.Size.Height,10),a=t.IntegrationConfig.Widget.Placeholders.Size&&t.IntegrationConfig.Widget.Placeholders.Size.Width&&-1!==t.IntegrationConfig.Widget.Placeholders.Size.Width.indexOf("px")&&parseInt(t.IntegrationConfig.Widget.Placeholders.Size.Width,10),s=0,c=0;i.parentElement&&(s=i.parentElement.offsetHeight,c=i.parentElement.offsetWidth),!s&&c?s=c:s&&!c&&(c=s);s=o||s||e.Height,c=a||c||e.Width;return n?s=0:1200<s?s=1200:s<100&&(s=100),1200<c?c=1200:c<100&&(c=100),u(t,r.Image,c,s,e.Lowres)},e.GetUrlDynamicImage=u,e.GetUrlFromResourceImage=function(t,e){switch(e.Kind){case h.ResourceOrigin.INTERNAL:return p(t,e.Data.Internal.BlobReference);case h.ResourceOrigin.EXTERNAL:return e.Data.External.Url;default:throw new Error("Unknown ResourceImageKind"+e.Kind.toString())}},e.GetUrlFromResourceVpaid=function(t,e){switch(e.Kind){case h.ResourceOrigin.INTERNAL:return p(t,e.Data.Internal.BlobReference);case h.ResourceOrigin.EXTERNAL:return e.Data.External.Url;default:throw new Error("Unknown ResourceImageKind"+e.Kind.toString())}},e.GetUrlsFromResourceVideo=function(t,e,n){var r=[];switch(e.Kind){case h.ResourceOrigin.DAILYMOTION:return[e.Data.Dailymotion.Url];case h.ResourceOrigin.EXTERNAL:for(var i=e.Data.External.Keys(),o=0;o<i.length;o++){var a=(s=i[o]).getValue(e.Data.External);0<=a.indexOf(t.BlobPrefix)&&n&&(a+="?Raw=true"),r.push(a)}return r;case h.ResourceOrigin.INTERNAL:for(i=e.Data.Internal.Keys(),o=0;o<i.length;o++){var s,c=p(t,(s=i[o]).getValue(e.Data.Internal),n);s===h.InternalVideo.FLV&&(c+=".flv"),r.push(c)}return r;case h.ResourceOrigin.YOUTUBE:return[e.Data.Youtube.Url];default:throw new Error("Unknown ResourceOrigin"+e.Kind.toString())}},e.GetUrlFromBlobReference=p}.apply(e,n))||(t.exports=n)},628:(t,e,n)=>{var c=n(6887),n=[n,e,n(6875),n(5738),n(7242),n(9659)];void 0===(n=function(t,e,r,o,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RTUSCriteo=void 0;var n=(s.prototype.onData=function(t,e){this.callback(t,e)},s.prototype.sendMetric=function(t,e){var n=null;switch(t.toUpperCase()){case"OK":n=r.Status.SUCCESS;break;case"UNKNOWN":n=r.Status.UNKNOWN;break;case"TIMEOUT":n=r.Status.TIMEOUT}n&&(e=new i.Params(a.Rtus.CRITEO,n,e),c.ajax({url:this.metricsEndpointPrefix+"/rtus",type:"POST",global:!1,data:{Kind:e.Kind.toString(),Status:e.Status.toString(),Time:e.Time}}))},s.prototype.insertScript=function(){var n=this,t="rtusCallback",r=Date.now();window[t]=function(t){clearTimeout(n.callTimeout);var e=Date.now();n.sendMetric(t.status,e-r),n.onData(t.status,t.userid)},this.callTimeout=window.setTimeout(function(){window[t]=function(){var t=Date.now();n.sendMetric("TIMEOUT",t-r)},n.onData("TIMEOUT","")},40);var e=document.createElement("script");e.className=o.AYL_INJECT_CLASSNAME,e.type="text/javascript",e.src="https://gum.criteo.com/sync?c="+this.callerId+"&r=2&j="+t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)},s);function s(t,e,n,r){this.metricsEndpointPrefix=t,this.callerId=e,this.uid=n,this.callback=r,this.insertScript()}e.RTUSCriteo=n}.apply(e,n))||(t.exports=n)},7757:(t,e,n)=>{var n=[n,e,n(5738)];void 0===(n=function(t,e,n){"use strict";function o(){for(var t=document.getElementsByTagName("script"),e=[],n=0;n<t.length;n++){var r=t[n].src.match(/^(?:(\w+):)?\/\/(([a-zA-Z0-9\-]+)((.*?)\.omnitagjs\.(com)))(\/fo-api)?(?:\/|\/.*\/omnitag\.js|\/tag\.js|\/otp?\.js)?(?:(?:\?|#)([^?#\s]*))?$/i);r&&(r={url:r[0],protocol:r[1],tagName:r[3],suffixTag:r[4],sandboxSuffixTag:r[5],extension:r[6],params:r[8]},e.push(r))}return e}function r(){var t=o();return 0<t.length?t[0]:null}function i(t){for(var e,n=o(),r=0;r<n.length;r++){var i=n[r];if(i.params&&(e=c(i.params)).Placement&&e.Placement===t)return i}return null}function a(){var t=document.location.hash;return t&&0<=t.indexOf("ayl=ik6y9y")?c(t.substring(1)):null}function s(t,e){e=e.params;return e&&""!==e&&(t.ScriptTagParams=c(e)),t.FragmentParams=a(),t}function c(t){return t&&""!==t?n.DecodeURIParams(t):""}Object.defineProperty(e,"__esModule",{value:!0}),e.fillWithParams=e.GetParamsFromHash=e.FillFromFirstMatchingScriptInDocument=e.GetScriptParamsForPlacement=e.getMatchingScriptForPlacement=e.GetFirstMatchingScriptInDocument=e.GetAllMatchingScriptsInDocument=void 0,e.GetAllMatchingScriptsInDocument=o,e.GetFirstMatchingScriptInDocument=r,e.getMatchingScriptForPlacement=i,e.GetScriptParamsForPlacement=function(t){var e={};return""===t||(t=i(t))&&s(e,t),e},e.FillFromFirstMatchingScriptInDocument=function(t){var e=r();e&&(s(t,e),t.scriptURL=e.url)},e.GetParamsFromHash=a,e.fillWithParams=s}.apply(e,n))||(t.exports=n)},3389:(t,e,n)=>{var n=[n,e,n(3420),n(5339)];void 0===(n=function(t,e,y,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slideshow=void 0,e.Slideshow=function(t,e,n,r){var i,o=1e3*(t.Content.Preview.SlideDelay||1),a=y.GetUrlDynamicImage(t,t.Content.Preview.Thumbnail.Image,9999999999,9999999999).split("9999999999")[0],s=e.querySelector("img[src^='"+a+"'], [style*='"+a+"']");if(s){var c=document.createElement("img"),l=void 0!==n?n:s.clientWidth,u=void 0!==r?r:s.clientHeight;if(t.Content.Preview.Branding){for(var p=t.Content.Preview.Branding.Images,d=new Array,h=0;h<p.length;h++)d[h]=new Image,d[h].src=y.GetUrlDynamicImage(t,t.Content.Preview.Branding.Images[h],l,u,!1,!1);r=new Image;r.src=y.GetUrlDynamicImage(t,t.Content.Preview.Thumbnail.Image,l,u),d.unshift(r),s.style.setProperty("-webkit-transition","all 1s ease-in-out"),s.style.setProperty("-moz-transition","all 1s ease-in-out"),s.style.setProperty("-o-transition","all 1s ease-in-out"),s.style.setProperty("transition","all 1s ease-in-out"),(c=s.cloneNode(!0)).style.cssText=s.style.cssText,0!==parseInt(window.getComputedStyle(s).getPropertyValue("height"),10)&&(c.style.height=window.getComputedStyle(s).getPropertyValue("height")),0!==parseInt(window.getComputedStyle(s).getPropertyValue("width"),10)&&(c.style.width=window.getComputedStyle(s).getPropertyValue("width")),c.className="ayl_slideshow_image_swap","img"===s.tagName.toLowerCase()&&(v.Superimpose(s,c),i=s,c=document.getElementsByClassName("ayl_slideshow_image_swap")[0]);var f=0,g=!0,m=function(){"div"===s.tagName.toLowerCase()?s.style.backgroundImage="url("+d[f].src+")":g?(i.style.opacity="1",c.style.opacity="0",g=!1,i.src=d[f].src):(c.style.opacity="1",i.style.opacity="0",g=!0,c.src=d[f].src),f<d.length-1?f++:f=0,setTimeout(m,o)};m()}}}}.apply(e,n))||(t.exports=n)},2282:(t,e,n)=>{var s=n(6887),n=[n,e,n(3420),n(5738),n(8472),n(6399),n(5565)];void 0===(n=function(t,e,u,p,c,l,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;var n=(r.prototype.Text=function(){var t=document.createElement("div");t.innerHTML=this.content;for(var e=t.querySelectorAll("."+this.classname),n=0;n<e.length;n++){var r=e[n],i=void 0,o=JSON.parse(r.getAttribute("data-ayl-ck-widget-config")),a=r.getAttribute("class").match(/ayl-ck-widget-(?:([a-z]+))/i);if(0!==a.length){switch(a[1]){case"image":i=this.getImage(o);break;case"video":i=this.getVideo(o);break;case"iframe":i=this.getIframe(o);break;case"articles":i=this.getArticles(o);break;case"shares":i=this.getShares(o);break;default:throw new Error("Widget not found")}r.outerHTML=i}}return s(t).find("p").attr("style","margin-bottom: 0 !important; margin-top: 0 !important;"),s(t).find('a:not([href="#"])').attr("class","ayl_postsponso_image_link"),t.innerHTML},r.prototype.getImage=function(t){var e="",n=100*t.Width,r=n/t.Ratio,i=this.config.Content.Sponso.Resources.Images[t.ResourceName];return i&&(e='<div class="ayl_postsponso_image" style="position:relative; width:'+n+"%; padding-top:"+r+'%; margin: 0 auto;" ><img class="ayl_postsponso_image_element" src="'+u.GetUrlFromResourceImage(this.config,i)+'" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" /></div>',t.Link&&(e='<a target="_blank" class="ayl_postsponso_image_link" href="'+p.EscapeHTML(t.Link)+'">'+e+"</a>")),e},r.prototype.getArticles=function(t){var e="";if(t.ThumbnailsConfig){for(var e='<div class="ayl_postsponso_articles_thumbnails">',n=0;n<t.Thumbnails.length;n++){var r=t.Thumbnails[n],i=100*t.ThumbnailsConfig.Width,o=i/t.ThumbnailsConfig.Ratio,a=this.config.Content.Sponso.Resources.Images[r.ResourceName];a&&(a='<div class="ayl_postsponso_image" style="position:relative; width:'+i+"%; padding-top:"+o+'%; display:inline-block" ><img class="ayl_postsponso_image_element" src="'+u.GetUrlFromResourceImage(this.config,a)+'" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" /></div>',e+=a=r.Link?'<a target="_blank" class="ayl_postsponso_image_link" href="'+p.EscapeHTML(r.Link)+'">'+a+"</a>":a)}e+="</div>"}var s,c,l="";return t.TitleConfig&&(s='<span class="ayl_postsponso_articles_title">'+t.TitleConfig.Title+"</span>",c="",l='<div class="ayl_postsponso_articles_title">'+(c=t.TitleConfig.BeforeTitle?'<span class="ayl_postsponso_articles_before_title">'+t.TitleConfig.BeforeTitle+"</span> ":c)+(s=t.TitleConfig.Link?'<a target="_blank" class="ayl_postsponso_articles_link_title" href="'+t.TitleConfig.Link+'">'+s+"</a>":s)+"</div>"),'<div class="ayl_postsponso_articles">'+l+e+"</div>"},r.prototype.getVideo=function(t){var e=100*t.Width,n=e/t.Ratio,r=this.config.Content.Sponso.Resources.Videos[t.ResourceName];if(u){t=u.GetUrlsFromResourceVideo(this.config,r);return r.Kind!==i.ResourceOrigin.YOUTUBE?"":'<div class="ayl_postsponso_player_youtube ayl_postsponso_player_video" style="position:relative; width:'+e+"%; padding-top:"+n+'%; margin: 0 auto;"> <iframe class="ayl_postsponso_player_video_element" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" frameborder="0" src="'+t[0]+"?enablejsapi=1&origin="+document.location.protocol+"//"+document.location.hostname+'"></iframe></div>'}return""},r.prototype.getIframe=function(t){var e=100*t.Width;return'<div class="ayl_postsponso_iframe" style="position:relative; width:'+e+"%; padding-top:"+e/t.Ratio+'%; margin: 0 auto;" ><iframe frameborder="0" class="ayl_postsponso_iframe_element" src="'+p.EscapeHTML(t.Url)+'" style="position:absolute; height:100%; width:100%; min-height:100%; min-width:100%; top:0; left:0; right:0; bottom:0; margin:0; padding:0;" /></div>'},r.prototype.getShares=function(t){for(var e="",n=t.Shares?l.ArrayMapper(c.Sharing.cast.bind(c.Sharing))(t.Shares):[c.Sharing.FACEBOOK,c.Sharing.TWITTER,c.Sharing.GOOGLE_PLUS,c.Sharing.PINTEREST,c.Sharing.LINKEDIN],r=0;r<n.length;r++){var i=n[r],o='<img src="'+this.config.StaticPrefix+"/./native/images/"+i.toString().toLowerCase()+'_on.png" style="border:0px; padding:0; margin:0; background:transparent; box-shadow:none;width:48px;max-width:none;"/>',a="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600";switch(i){case c.Sharing.TWITTER:a="height=440,width=620,scrollbars=yes";break;case c.Sharing.FACEBOOK:a="height=600,width=900,scrollbars=yes";break;case c.Sharing.GOOGLE_PLUS:a="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"}var s=this.config.ApiPrefix+"/share?attempt="+p.EscapeHTML(this.config.Attempt)+"&campaign="+p.EscapeHTML(this.config.Campaign);e+='<td style="vertical-align:middle;background:transparent;text-align:left;border:0px;margin:0px;width:48px;max-width: none;"><a style="display:block;" href="#" class="share_'+p.EscapeHTML(this.config.Attempt)+'" onclick="window.open(\''+s+"&kind="+i.toString()+"&data=article', '"+i.toString().toLowerCase()+"', '"+a+"'); return false;\">"+o+"</a></td>"}return'<table style="border:0px; box-shadow:none;border-spacing:0px;background:transparent;border-collapse:collapse;padding:0px;margin:0px 0px 10px 0px;font-size:11px;line-height:1;width:50px;"><tbody style="background:transparent"><tr style="border:0; padding:0; margin:0; background:transparent;border-spacing:0px;">'+e+"</tr></tbody></table>"},r);function r(t,e){this.classname="ayl-ck-widget",this.content=t,this.config=e}e.Widget=n}.apply(e,n))||(t.exports=n)},5339:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Superimpose=void 0,e.Superimpose=function(t,e,n,r,i){var o=window.getComputedStyle(t);"absolute"===o.position?(e.style.top=o.top,e.style.right=o.right,e.style.bottom=o.bottom,e.style.left=o.left):(e.style.top=""+(t.offsetTop-t.clientTop),e.style.left=""+(t.offsetLeft-t.clientLeft)),e.style.borderTop=o.borderTop,e.style.borderRight=o.borderRight,e.style.borderBottom=o.borderBottom,e.style.borderLeft=o.borderLeft,e.style.marginTop=o.marginTop,e.style.marginRight=o.marginRight,e.style.marginBottom=o.marginBottom,e.style.marginLeft=o.marginLeft,e.style.zIndex=n+""||"10",e.style.position="absolute",e.style.backgroundColor="black";function a(){"absolute"===o.position?(e.style.top=o.top,e.style.right=o.right,e.style.bottom=o.bottom,e.style.left=o.left):(e.style.top=""+(t.offsetTop-t.clientTop),e.style.left=""+(t.offsetLeft-t.clientLeft)),void 0===r||r||(e.style.top="200px")}return i&&window.addEventListener("resize",function(){a()}),t.addEventListener("load",function(t){a()}),a(),t.parentNode.insertBefore(e,t)}}.apply(e,[n,e]))||(t.exports=e)},1190:(t,e,n)=>{var n=[n,e,n(8397),n(5738),n(7070),n(8709),n(5738),n(7615)];void 0===(n=function(t,e,d,T,b,h,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MakeTriggerUrlFromPartner=e.Send=e.MakeCallTriggers=e.IsAlreadyTriggered=e.TriggerEvent=e.getOnEvents=e.generateTrackingUrl=void 0;var r={};function u(t,e){var n,r=e,i="/pixel";t===b.Event.CLICK&&null!==(n=r.Content.Banner)&&void 0!==n&&n.ADM&&(i="/click");e=e.TrackingPrefix+i+"?event_kind="+t.toString()+"&attempt="+T.EscapeHTML(e.Attempt);return r.Campaign&&(e+="&campaign="+T.EscapeHTML(r.Campaign)),e}function a(t,e){var n;return e.OnEvents&&0!==Object.keys(e.OnEvents).length?(n=t.getValue(e.OnEvents,[]),Array.isArray(n)&&(n=n.slice(0))):n=[],n}function p(t,e,n){e=t.toString()+"-"+T.EscapeHTML(e.Attempt);n&&(e+="-"+T.EscapeHTML(n));n=!r[e];return r[e]=!0,n}function f(t,e,n,r,i){var o=a(t,e);return function(){!function(t,e,n,r,i){if(t&&0!==t.length){for(var o=[],a=[],s=[],c=[],l=[],u=[],p=[],d=[],h=[],f=[],g=[],m=0;m<t.length;m++){var y=t[m];if(y&&(e||!y.OncePerAttempt)){switch(y.Guard){case b.OnEventGuard.ALWAYS:break;case b.OnEventGuard.HAVE_CAMPAIGN:if(!r)continue;break;case b.OnEventGuard.NO_CAMPAIGN:if(r)continue;break;default:throw new Error("Unknown Guard type")}var v=void 0;switch(y.Kind){case b.OnEventType.PIXEL_URL:v=T.SubstituteTokens(y.Url),(y.Isolated?o:a).push(v);break;case b.OnEventType.PARTNER_PIXEL_URL:v=w(y.Partner,i),(y.Isolated?l:u).push(v);break;case b.OnEventType.JAVASCRIPT_URL:v=T.SubstituteTokens(y.Url),(y.Isolated?s:c).push(v);break;case b.OnEventType.PARTNER_JAVASCRIPT_URL:v=w(y.Partner,i),(y.Isolated?p:d).push(v);break;case b.OnEventType.JAVASCRIPT_CODE:(y.Isolated?h:f).push(y.Code);break;case b.OnEventType.HTML_CODE:var E=T.SubstituteTokens(y.Code);y.Isolated||g.push(E);break;default:throw new Error("Unknown OnEvent type")}}}_(b.OnEventType.PIXEL_URL,o,!0,n,i),_(b.OnEventType.PIXEL_URL,a,!1,n,i),_(b.OnEventType.JAVASCRIPT_URL,s,!0,n,i),_(b.OnEventType.JAVASCRIPT_URL,c,!1,n,i),_(b.OnEventType.PARTNER_PIXEL_URL,l,!0,n,i),_(b.OnEventType.PARTNER_PIXEL_URL,u,!1,n,i),_(b.OnEventType.PARTNER_JAVASCRIPT_URL,p,!0,n,i),_(b.OnEventType.PARTNER_JAVASCRIPT_URL,d,!1,n,i),_(b.OnEventType.JAVASCRIPT_CODE,h,!0,n,i),_(b.OnEventType.JAVASCRIPT_CODE,f,!1,n,i),_(b.OnEventType.HTML_CODE,g,!1,n,i)}}(o,n,e.Trusted,r,i)}}function _(t,e,n,r,i){if(0!==e.length){e=e.slice(0);var o=[];if(n){n=document.createElement("iframe");n.sandbox="allow-same-origin allow-scripts",n.style.position="absolute",n.style.left="-9999px",n.style.width="1px",n.style.height="1px",n.style.display="block";var a=void 0;switch(t){case b.OnEventType.PARTNER_PIXEL_URL:case b.OnEventType.PIXEL_URL:for(var s=0;s<e.length;s++)e[s]=T.EncodeURIComponent(e[s]);a={type:"pxurl",urls:e.join(",")};break;case b.OnEventType.PARTNER_JAVASCRIPT_URL:case b.OnEventType.JAVASCRIPT_URL:if(!r)throw new Error("This browser does not have enough security features to allow the execution of this code");for(s=0;s<e.length;s++)e[s]=T.EncodeURIComponent(e[s]);a={type:"jsurl",urls:e.join(",")};break;case b.OnEventType.JAVASCRIPT_CODE:if(!r)throw new Error("This browser does not have enough security features to allow the execution of this code");for(s=0;s<e.length;s++)e[s]=T.EncodeURIComponent(e[s]);a={type:"jscode",codes:e.join(",")};break;default:throw new Error("Unknown OnEvent type")}a.rnd=Math.random().toString().substring(2),n.src=d.Omnitag.SandboxPrefix+"/sb.html#"+T.EncodeURIParams(a),document.body.appendChild(n),o.push(n)}else switch(t){case b.OnEventType.PARTNER_PIXEL_URL:case b.OnEventType.PIXEL_URL:for(s=0;s<e.length;s++)o.push(m("img",e[s],i));break;case b.OnEventType.PARTNER_JAVASCRIPT_URL:case b.OnEventType.JAVASCRIPT_URL:if(!r)throw new Error("Cannot execute untrusted javascript code in publisher website context");for(s=0;s<e.length;s++)m("script",e[s],i);break;case b.OnEventType.JAVASCRIPT_CODE:if(!r)throw new Error("Cannot execute untrusted javascript code in publisher website context");for(s=0;s<e.length;s++){var c=new Function(e[s]);setTimeout(c,1)}break;case b.OnEventType.HTML_CODE:if(!r)throw new Error("Cannot execute untrusted html code in publisher website context");for(s=0;s<e.length;s++)for(var l=h.ParseHTML(e[s]),u=0;u<l.length;u++){var p=l[u];p&&"script"===p.nodeName.toLowerCase()&&h.InsertScript(i,p)}break;default:throw new Error("Unknown OnEvent type")}0<o.length&&setTimeout(function(){for(var t=0;t<o.length;t++)o[t].parentNode&&o[t].parentNode.removeChild(o[t])},1e4)}}function g(t){t.onload=t.onreadystatechange=null}function m(n,t,e,r){var i;switch(n){case"script":var o=document.createElement("script");o.className=s.AYL_INJECT_CLASSNAME,o.async=!0,o.charset="UTF-8",o.src=t,i=o;break;case"img":o=document.createElement("img");o.setAttribute("style","position:absolute; width:1px; opacity: 0; height:1px; display:block;"),o.src=t,i=o}i.onload=i.onreadystatechange=function(t,e){!e&&i.readyState&&!/loaded|complete/.test(i.readyState)||(g(i),i.parentNode&&"img"===n&&i.parentNode.removeChild(i),i=null,r&&r())};function a(){document.body?parent!==window?document.body.appendChild(i):e===document.body?document.body.insertBefore(i,document.body.firstChild):e.appendChild(i):setTimeout(a,200)}return a(),i}function w(e,t){if(e.Kind!==b.OnEventPartnerType.METRICS_NT_VC)throw new Error("Unknown OnEventPartnerKind type");var n={};return Object.keys(e.Params).map(function(t){n[t]=e.Params[t]}),n.cn=t.getAttribute("id"),"https://metrics.nt.vc/metrics.js?"+T.EncodeURIParams(n)}e.generateTrackingUrl=u,e.getOnEvents=a,e.TriggerEvent=function(t,e,n,r){var i,o,a,s;function c(){f(t,e,a,i,r)(),s&&clearTimeout(s)}l.CliprInterface.isCliprIntegration(e)&&l.CliprInterface.getEvent(t)||(r=r||document.body,a=p(t,e,n),n&&(i=!0),a?(n=m("img",u(t,e),r,c),s=window.setTimeout((o=n,function(){g(o),c()}),1e3)):t===b.Event.PLAYLIST_CLICK?m("img",u(t,e),r,c):c())},e.IsAlreadyTriggered=p,e.MakeCallTriggers=f,e.Send=m,e.MakeTriggerUrlFromPartner=w}.apply(e,n))||(t.exports=n)},2920:(t,e,n)=>{void 0===(e=function(t,e){"use strict";function n(t){return(t||"").split(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultStrftime=e.TIME_FORMATS=e.TIME_LOCALES=e.LocalizedStrftime=e.StrftimeUTC=e.StrftimeTZ=e.Strftime=void 0;var r={days:n("Sunday Monday Tuesday Wednesday Thursday Friday Saturday"),shortDays:n("Sun Mon Tue Wed Thu Fri Sat"),months:n("January February March April May June July August September October November December"),shortMonths:n("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec"),AM:"AM",PM:"PM",am:"am",pm:"pm"};function i(t,e,n){return u(t,e,n)}function u(t,a,s,c){c=c||{},a=a||new Date,(s=s||r).formats=s.formats||{};var e,n,l=a.getTime();return!c.utc&&"number"!=typeof c.timezone||(n=6e4*((e=a).getTimezoneOffset()||0),a=new Date(e.getTime()+n)),"number"==typeof c.timezone&&(a=new Date(a.getTime()+6e4*c.timezone)),t.replace(/%([-_0]?.)/g,function(t,e){var n,r;if(2===e.length){if("-"===(n=e[0]))r="";else if("_"===n)r=" ";else{if("0"!==n)return t;r="0"}e=e[1]}switch(e){case"A":return s.days[a.getDay()];case"a":return s.shortDays[a.getDay()];case"B":return s.months[a.getMonth()];case"b":return s.shortMonths[a.getMonth()];case"C":return p(Math.floor(a.getFullYear()/100),r);case"D":return u(s.formats.D||"%m/%d/%y",a,s);case"d":return p(a.getDate(),r);case"e":return a.getDate();case"F":return u(s.formats.F||"%Y-%m-%d",a,s);case"H":return p(a.getHours(),r);case"h":return s.shortMonths[a.getMonth()];case"I":return p(d(a),r);case"j":var i=new Date(a.getFullYear(),0,1);return p(i=Math.ceil((a.getTime()-i.getTime())/864e5),"3");case"k":return p(a.getHours(),null===r?" ":r);case"L":return p(Math.floor(l%1e3),"3");case"l":return p(d(a),null===r?" ":r);case"M":return p(a.getMinutes(),r);case"m":return p(a.getMonth()+1,r);case"n":return"\n";case"o":return String(a.getDate())+function(t){var e=t%10,t=t%100;if(11<=t&&t<=13||0==e||4<=e)return"th";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}}(a.getDate());case"P":return a.getHours()<12?s.am:s.pm;case"p":return a.getHours()<12?s.AM:s.PM;case"R":return u(s.formats.R||"%H:%M",a,s);case"r":return u(s.formats.r||"%I:%M:%S %p",a,s);case"S":return p(a.getSeconds(),r);case"s":return Math.floor(l/1e3);case"T":return u(s.formats.T||"%H:%M:%S",a,s);case"t":return"\t";case"U":return p(h(a,"sunday"),r);case"u":return 0===(i=a.getDay())?7:i;case"v":return u(s.formats.v||"%e-%b-%Y",a,s);case"W":return p(h(a,"monday"),r);case"w":return a.getDay();case"Y":return a.getFullYear();case"y":i=a.getFullYear()+"";return i.slice(i.length-2);case"Z":if(c.utc)return"GMT";var o=a.toString().match(/\((\w+)\)/);return o&&o[1]||"";case"z":if(c.utc)return"+0000";o="number"==typeof c.timezone?c.timezone:-a.getTimezoneOffset();return(o<0?"-":"+")+p(Math.abs(o/60))+p(o%60);default:return e}})}function p(t,e,n){void 0===e&&(e="0"),void 0===n&&(n=2);var r=String(t);if(e)for(;r.length<n;)r=e+r;return r}function d(t){t=t.getHours();return 0===t?t=12:12<t&&(t-=12),t}function h(t,e){e=e||"sunday";var n=t.getDay();"monday"===e&&(0===n?n=6:n--);e=new Date(t.getFullYear(),0,1),n=((t.getTime()-e.getTime())/864e5+7-n)/7;return Math.floor(n)}e.Strftime=i,e.StrftimeTZ=function(t,e,n,r){return u(t,e,n,{timezone:r})},e.StrftimeUTC=function(t,e,n){return u(t,e,n,{utc:!0})},e.LocalizedStrftime=function(r){return function(t,e,n){return u(t,e,r,n)}},e.TIME_LOCALES={EN:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Mar","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm"},FR:{days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortDays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],shortMonths:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],AM:"AM",PM:"PM",am:"am",pm:"pm"},PT:{days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm"}},e.TIME_FORMATS={EN:{long:"%e %B %Y, %I:%M %p"},FR:{long:"%e %B %Y, %Hh%M"},PT:{long:"%e %B %Y, %Hh%M"}},e.DefaultStrftime=function(t,e){var n=new Date;return n.getHours()<10&&n.setDate(n.getDate()-1),n.setHours(10),n.setMinutes(0),n.setSeconds(0),i(t,n,e)}}.apply(e,[n,e]))||(t.exports=e)},4354:(t,e,n)=>{var n=[n,e,n(4126),n(2855),n(3968),n(9800),n(5565),n(4920),n(7614),n(7545),n(7698),n(5831),n(6811),n(4250),n(8472),n(1777)];void 0===(n=function(t,e,n,r,i,o,a,s,c,l,u,p,d,h,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.campaignSchema=void 0;var m=h.createYupObject({Data:h.createYupObject({External:h.createYupObject({Url:n.string()}),Internal:h.createYupObject({BlobReference:h.createYupObject({Uid:n.string()})})}),Kind:n.object().transform(h.simpleTransform(a.ResourceOrigin)),NoTransform:n.boolean(),Quality:n.object().transform(h.simpleTransform(a.ImageQuality)),Smart:n.boolean(),ZoneHeight:n.number(),ZoneLeft:n.number(),ZoneTop:n.number(),ZoneWidth:n.number()}),y=h.createYupObject({Data:h.createYupObject({Dailymotion:h.createYupObject({Url:n.string()}),External:n.object().transform(h.associativeTransform(a.InternalVideo,n.string())),Internal:n.object().transform(h.associativeTransform(a.InternalVideo,h.createYupObject({Uid:n.string()}))),Youtube:h.createYupObject({Url:n.string()})}),Kind:n.object().transform(h.simpleTransform(a.ResourceOrigin)),Prop:n.object().transform(h.associativeTransform(a.InternalVideo,h.createYupObject({Duration:n.number(),Height:n.number(),Width:n.number()})))}),l=(h.createYupObject({Data:h.createYupObject({External:h.createYupObject({Url:n.string()}),Internal:h.createYupObject({BlobReference:h.createYupObject({Uid:n.string()})}),IsHTML5:n.boolean()}),Kind:n.object().transform(h.simpleTransform(a.ResourceOrigin))}),h.createYupObject({Banner:h.createYupObject({ADM:n.string(),Width:n.number(),Height:n.number(),Url:n.string()}).strict(!1),Landing:h.createYupObject({Url:n.string(),InViewContentUrl:n.string(),LegacyTracking:n.boolean()}),MainVideo:h.createYupObject({ClickUrl:n.string(),Pause:n.boolean(),Reduce:n.boolean(),Tolerance:n.number(),Vast:n.string(),ViewedAt:n.number()}),Playlist:h.createYupObject({Elements:n.array().of(h.createYupObject({Description:n.string(),Image:m,Link:n.string(),Title:n.string()}))}),Preview:h.createYupObject({Branding:h.createYupObject({Images:n.array().of(m)}),Credit:h.createYupObject({Logo:h.createYupObject({Resource:m}),Url:n.string()}),LogoPlay:n.boolean(),SlideDelay:n.number(),Sponsor:h.createYupObject({Logo:h.createYupObject({Resource:m}),Name:n.string()}),Text:n.object().transform(h.associativeTransform(l.PreviewTranslation,n.string())),Thumbnail:h.createYupObject({Image:m})}),Shares:n.object().transform(h.associativeTransform(f.Sharing,h.createYupObject({Text:n.string(),Url:n.string(),Hashtags:n.array().of(n.string())}),!1)),Sponso:h.createYupObject({Resources:h.createYupObject({Images:n.object().transform(h.associativeTransform(n.string(),m)),Videos:n.object().transform(h.associativeTransform(n.string(),y))}),Text:n.object().transform(h.associativeTransform(l.SponsoTranslation,n.string()))}),ViewButtons:h.createYupObject({Close:h.createYupObject({Skip:n.number()})})}));e.campaignSchema=h.createYupObject({AdDomain:n.string(),Campaign:n.string(),CampaignAccess:n.object().transform(h.simpleTransform(r.Access)),CampaignKind:n.object().transform(h.simpleTransform(i.AdType)),CookieSyncUrls:n.array().of(n.string()).ensure(),Content:h.createYupObject({}).concat(l),ContentOverride:h.createYupObject({}).concat(l),DataSource:n.object().transform(h.simpleTransform(o.Datasource)),DataSourceOnEventsIsolated:n.boolean(),DataSourceUrl:n.string(),DisplayMode:n.object().transform(h.simpleTransform(d.WidgetDisplayMode)),IsLocal:n.boolean(),Opener:n.object().transform(h.simpleTransform(c.Opener)),PerformUITriggers:n.array().of(n.object().transform(h.simpleTransform(s.NativeUITrigger))),RedirectionTarget:n.object().transform(h.simpleTransform(u.RedirectionTarget)),ResizeIframe:n.boolean(),VideoFormat:n.object().transform(h.simpleTransform(p.VideoFormat))}).concat(g.omnitagSchema)}.apply(e,n))||(t.exports=n)},1777:(t,e,n)=>{var n=[n,e,n(4126),n(2855),n(7070),n(7005),n(6811),n(1964),n(5573),n(6990),n(2806),n(4250)];void 0===(n=function(t,e,n,r,i,o,a,s,c,l,u,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.omnitagSchema=void 0;var d=p.createYupObject({R:n.number(),G:n.number(),B:n.number(),A:n.number()}),h=p.createYupObject({Css:n.string(),Javascript:n.string(),Kind:n.object().transform(p.simpleTransform(u.SelectorType))}),u=p.createYupObject({Code:n.string(),Guard:n.object().transform(p.simpleTransform(i.OnEventGuard)),Isolated:n.boolean(),Kind:n.object().transform(p.simpleTransform(i.OnEventType)),OncePerAttempt:n.boolean(),Partner:p.createYupObject({Kind:n.object().transform(p.simpleTransform(i.OnEventPartnerType)),Params:n.object().transform(p.associativeTransform(n.string(),n.string(),!1))}),Url:n.string()}),h=p.createYupObject({ClickFormat:n.boolean(),Insertion:n.object().transform(p.simpleTransform(o.IntegrationInsertion)),Placeholders:p.createYupObject({Body:n.object({Color:d,BackgroundColor:d,FontFamily:n.string(),Width:n.string(),Align:n.string(),BoxShadow:n.boolean()}),CallToAction:p.createYupObject({Color:d}),Description:p.createYupObject({Length:n.number()}),Image:p.createYupObject({Height:n.number(),Lowres:n.boolean(),Raw:n.boolean(),Width:n.number()}),Now:p.createYupObject({Format:n.string()}),Size:p.createYupObject({Height:n.string(),Width:n.string()}),Sponsor:p.createYupObject({Color:d,Label:n.boolean(),WithoutLogo:n.boolean()}),Title:p.createYupObject({Color:d})}),Selector:h});e.omnitagSchema=p.createYupObject({ApiPrefix:n.string(),Attempt:n.string(),BlobPrefix:n.string(),ClickTracker:n.string(),Disabled:n.boolean(),DynamicPrefix:n.string(),ForcedCampaign:n.string(),ForcedCreative:n.string(),ForcedSource:n.string(),ForcedTrack:n.string(),HasSponsorImage:n.boolean(),IntegrationConfig:p.createYupObject({Kind:n.object().transform(p.simpleTransform(c.NativeIntegration)),Injector:n.string(),SponsorInjector:n.string(),Template:p.createYupObject({Html:n.string(),StyleSheet:n.string()}).concat(h),Widget:p.createYupObject({Creative20:n.boolean(),ExtraStyleSheet:n.string(),WidgetKind:n.object().transform(p.simpleTransform(a.IntegrationWidget))}).concat(h)}),Lang:n.object().transform(p.simpleTransform(s.Lang)),Legal:n.string(),OnEvents:n.object().transform(p.associativeTransform(i.Event,u,!0)),Placement:n.string(),PlacementAccess:n.object().transform(p.simpleTransform(r.Access)),PlacementPassbacks:n.array().of(p.createYupObject({Kind:n.object().transform(p.simpleTransform(l.PassbackType)),Data:n.string(),Selector:n.string()})),SspPrefix:n.string(),StaticPrefix:n.string(),TrackingPrefix:n.string(),Trusted:n.boolean(),VisitorPrefix:n.string()})}.apply(e,n))||(t.exports=n)},121:(t,e,n)=>{var n=[n,e,n(4126),n(1491),n(4250)];void 0===(n=function(t,e,n,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.omnitagParamsSchema=void 0,e.omnitagParamsSchema=i.createYupObject({Campaign:n.string(),CanonicalUrl:n.string(),ClickTracker:n.string(),Creative:n.string(),Debug:n.string(),ForceConfig:n.object(),gdpr:n.boolean(),gdpr_consent:n.boolean(),gdpr_consent_string:n.string(),IntegrationTrigger:n.object().transform(i.simpleTransform(r.OmnitagTrigger)),Origin:n.string(),Placement:n.string(),RefererUrl:n.string(),Source:n.string(),Track:n.string(),Url:n.string(),usp_consent_string:n.string()})}.apply(e,n))||(t.exports=n)},9659:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rtus=e.RtusKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.CRITEO=new a("CRITEO"),t}e.RtusKind=a,e.Rtus=new o}.apply(e,n))||(t.exports=n)},7242:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Params=void 0;e.Params=function(t,e,n){this.Kind=t,this.Status=e,this.Time=n}}.apply(e,[n,e]))||(t.exports=e)},6875:function(t,e,n){var r,l=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),n=[n,e,n(7779)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Status=e.StatusKind=void 0;var r,i,o=(i=n.Enum,l(c,i),c),a=(r=n.EnumElement,l(s,r),s);function s(){return null!==r&&r.apply(this,arguments)||this}function c(){var t=null!==i&&i.apply(this,arguments)||this;return t.TIMEOUT=new a("TIMEOUT"),t.UNKNOWN=new a("UNKNOWN"),t.SUCCESS=new a("SUCCESS"),t}e.StatusKind=a,e.Status=new o}.apply(e,n))||(t.exports=n)},5994:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SSPRequestPreview=void 0;var n=(r.cast=function(t){if(t){var e=new r;return r._load(e,t),e}},r._load=function(t,e){t.ThumbnailWidth=e.ThumbnailWidth,t.ThumbnailHeight=e.ThumbnailHeight,t.DescriptionLength=e.DescriptionLength},r);function r(t){t&&r._load(this,t)}e.SSPRequestPreview=n}.apply(e,[n,e]))||(t.exports=e)},213:(t,e,n)=>{var n=[n,e,n(4576),n(9659),n(5994)];void 0===(n=function(t,e,n,r,i){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.SSPRequest=void 0;var a=(s.cast=function(t){if(t){var e=new s;return s._load(e,t),e}},s._load=function(t,e){o=e.Preview,t.Preview=void 0===o?o:i.SSPRequestPreview.cast(o),t.Attempt=e.Attempt,t.CookieSyncFallbacks=n.GetterMapper(r.Rtus.cast.bind(r.Rtus),null)(e.CookieSyncFallbacks),t.ForcedCampaign=e.ForcedCampaign,t.ForcedTrack=e.ForcedTrack,t.ForcedCreative=e.ForcedCreative,t.ForcedSource=e.ForcedSource,t.ServedCampaigns=e.ServedCampaigns,t.ServedKinds=e.ServedKinds,t.PageRefreshed=e.PageRefreshed,t.Keywords=e.Keywords,t.Lang=e.Lang},s);function s(t){t&&s._load(this,t)}e.SSPRequest=a}.apply(e,n))||(t.exports=n)},4250:(t,e,n)=>{var n=[n,e,n(4126)];void 0===(n=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createYupObject=e.simpleTransform=e.associativeTransform=void 0,e.associativeTransform=function(o,a,s){return function(t,n){if(!n)return{};for(var r={},e=0,i=Object.keys(n);e<i.length;e++)!function(t){var e;try{e=o.cast(t)}catch(t){}if(e)if(s)r[e]=[],n[t].forEach&&n[t].forEach(function(t){try{r[e].push(a.cast(t))}catch(t){}});else try{r[e]=a.cast(n[t])}catch(t){}}(i[e]);return r}},e.simpleTransform=function(n){return function(t,e){if(e)try{return n.cast(e)}catch(t){}return{}}},n.object(),e.createYupObject=function(t){return n.object(t).noUnknown(!0).strict(!0).default(void 0).nullable(!0)}}.apply(e,n))||(t.exports=n)},458:(t,e,n)=>{var n=[n,e,n(5216),n(9102)];void 0===(n=function(t,e){}.apply(e,n))||(t.exports=n)},5216:(t,e,n)=>{void 0===(e=function(t,e){"use strict";var n,c,r,l;Object.defineProperty(e,"__esModule",{value:!0}),Array.from||(Array.from=(n=Object.prototype.toString,c=function(t){return"function"==typeof t||"[object Function]"===n.call(t)},r=Math.pow(2,53)-1,l=function(t){t=Number(t),t=isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t;return Math.min(Math.max(t,0),r)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=1<arguments.length?arguments[1]:void 0;if(void 0!==r){if(!c(r))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var i,o=l(e.length),a=c(this)?Object(new this(o)):new Array(o),s=0;s<o;)i=e[s],a[s]=r?void 0===n?r(i,s):r.call(n,i,s):i,s+=1;return a.length=o,a}))}.apply(e,[n,e]))||(t.exports=e)},9102:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t})}.apply(e,[n,e]))||(t.exports=e)},6399:(t,e,n)=>{void 0===(e=function(t,e){"use strict";function o(t){return"[object Array]"===Object.prototype.toString.apply(t,[])}function n(t){return o(t)?t:[t]}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];o(i)?n.push.apply(n,a.apply(null,i)):n.push(i)}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayMapper=e.IndexOf=e.ToFlatArray=e.Flatten=e.ToArray=e.IsArray=void 0,e.IsArray=o,e.ToArray=n,e.Flatten=a,e.ToFlatArray=function(t){return a(n(t))},e.IndexOf=function(n,t){var r=Array.prototype.indexOf||function(t,e){for(var n=0,r=this.length;n<r;n++)if(this[n]===t)return n;return-1};return e.IndexOf=function(t,e){if(!o(t))throw new Error("Invalid array");return r.call(n,e)},e.IndexOf.apply(null,arguments)},e.ArrayMapper=function(r){return function(t){if(void 0!==t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=r(t[n]);return e}}}}.apply(e,[n,e]))||(t.exports=e)},7779:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnumElement=e.Enum=void 0;var n=(r.prototype.cast=function(t){var e=this[t];if(!(e=e||this.findValue(t)))throw new Error("Invalid Enum constant: "+t);return e},r.prototype.castArray=function(t){var e=new Array;if(t){for(var n=0;n<t.length;n++){var r=this[t[n]];(r=r||this.findValue(t[n]))&&e.push(r)}return e}},r.prototype.findValue=function(t){var e,n;for(n in this)this.hasOwnProperty(n)&&this[n].toString()===t&&(e=this[n]);return e},r);function r(){}e.Enum=n;i.prototype.toString=function(){return"number"!=typeof this.value?this.value:""+this.value},i.prototype.getValue=function(t,e){return t&&t.hasOwnProperty(this.value)?t[this.value]:e},n=i;function i(t){this.value=t}e.EnumElement=n}.apply(e,[n,e]))||(t.exports=e)},8039:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNewEvent=void 0,e.createNewEvent=function(t,e){var n;return"function"==typeof Event?n=new Event(t,e):(n=document.createEvent("Event")).initEvent(t,!0,!0),n}}.apply(e,[n,e]))||(t.exports=e)},4576:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetterMapper=e.Getter=void 0;var o=(n.prototype.Get=function(t,e){var n=this.map[t.toString()];if(n)return n.v;if(2===arguments.length)return e;throw new Error("KeyError: "+t)},n.prototype.Set=function(t,e){this.map[t.toString()]={k:t,v:e}},n.prototype.Delete=function(t){delete this.map[t.toString()]},n.prototype.Keys=function(){var t=0;for(e in this.map)this.map.hasOwnProperty(e)&&t++;var e,n=new Array(t),r=0;for(e in this.map)this.map.hasOwnProperty(e)&&(n[r]=this.map[e].k,r++);return n},n.prototype.toJSON=function(){var t,e={};for(t in this.map)this.map.hasOwnProperty(t)&&(e[t]=this.map[t].v);return e},n);function n(t){this.map={},this.map=t||{}}e.Getter=o,e.GetterMapper=function(r,i){return function(t){if(void 0!==t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]={k:r?r(e):e,v:i?i(t[e]):t[e]});return new o(n)}}}}.apply(e,[n,e]))||(t.exports=e)},4834:(t,e,n)=>{void 0===(e=function(t,e){"use strict";function n(){return window.navigator.userAgent}Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageCode=e.isMobileDevice=e.IEVersion=e.isIOs=e.isIE=e.isFirefox=e.isOpera=e.isSafari=e.isChrome=e.UserAgent=void 0,e.UserAgent=n,e.isChrome=function(){return 0<=n().indexOf("Chrome")},e.isSafari=function(t){return t=t||window.navigator,/^((?!chrome|android).)*safari/i.test(t.userAgent)},e.isOpera=function(){return window.opera},e.isFirefox=function(){return 0<=n().indexOf("Firefox")},e.isIE=function(){return 0<=n().indexOf("MSIE")},e.isIOs=function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},e.IEVersion=function(){for(var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:document.documentMode||-1},e.isMobileDevice=function(){return navigator.userAgent.toLowerCase().match(/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i)},e.getLanguageCode=function(){var t="EN";try{t=(window.navigator.userLanguage||window.navigator.language).substr(0,2).toUpperCase()}catch(t){}return t}}.apply(e,[n,e]))||(t.exports=e)},8236:(t,e,n)=>{void 0===(e=function(t,e){"use strict";function i(t,e,n){var r="";n&&(r=";expires="+n.toUTCString()),document.cookie=t+"="+e+r+";path=/"}Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteCookie=e.GetCookie=e.SetCookie=e.SetCookieExpiresInDays=void 0,e.SetCookieExpiresInDays=function(t,e,n){var r;(r=new Date).setTime(r.getTime()+24*n*60*60*1e3),i(t,e,r)},e.SetCookie=i,e.GetCookie=function(t){for(var e=t+"=",n=document.cookie.split(/;\s+/g),r=0;r<n.length;r++){var i=n[r];if(0===i.indexOf(e))return i.slice(e.length)}return null},e.DeleteCookie=function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/";for(var e=window.location.hostname.split("."),n=2;n<e.length;n++)document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain=."+e.slice(-n).join(".")+";"}}.apply(e,[n,e]))||(t.exports=e)},8686:(t,e,n)=>{var n=[n,e,n(4834),n(8709)];void 0===(n=function(t,f,o,g){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.traverseNode=f.onDomReady=f.injectHtmlAsChild=f.removeCSSRules=f.applyCSSRule=f.IsVisibleElement=f.AYL_FLAG_INVISBLE_ELEMENT=f.GetScrollXY=f.getRelativeCoordinates=f.GetParentIframe=f.GetPadding=f.addClickListener=void 0,f.addClickListener=function(t,e,n){var r,i;void 0===n&&(n=!1),o.isMobileDevice()?(t.addEventListener("touchstart",function(t){r=window.scrollY,i=t,n&&(t.stopImmediatePropagation(),t.preventDefault())}),t.addEventListener("touchend",function(t){window.scrollY===r&&Math.abs(t.changedTouches[0].clientX-i.targetTouches[0].clientX)+Math.abs(t.changedTouches[0].clientY-i.targetTouches[0].clientY)<20&&e(t)})):t.addEventListener("click",e)},f.GetPadding=function(t){t=getComputedStyle(t);return{top:parseInt(t.paddingTop,10),right:parseInt(t.paddingRight,10),left:parseInt(t.paddingLeft,10),bottom:parseInt(t.paddingBottom,10)}},f.GetParentIframe=function(t){if(window.self!==window.top){try{for(var e,n=(e=window).parent,r=window.frameElement,i=window.document.body.offsetHeight,o=window.parent.document.body.offsetHeight;r&&n!==window.top&&o<=i+16;)n=(e=n).parent,i=e.document.body.offsetHeight,o=n.document.body.offsetHeight,r=e.frameElement}catch(t){}return r}},f.getRelativeCoordinates=function(t,e){for(var n=t.pageX,t=t.pageY,r={left:e.offsetLeft,top:e.offsetTop},i=e.offsetParent;null!=i;)r.left+=i.offsetLeft,r.top+=i.offsetTop,i=i.offsetParent;return{x:n-r.left,y:t-r.top}},f.GetScrollXY=function(){var t=0,e=0;return"number"==typeof window.pageYOffset?(e=window.pageYOffset,t=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(e=document.body.scrollTop,t=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(e=document.documentElement.scrollTop,t=document.documentElement.scrollLeft),[t,e]},f.AYL_FLAG_INVISBLE_ELEMENT="ayl_KjHNYPFqsDiUARyMyojK",f.IsVisibleElement=function(t,e,n,r,i){void 0===n&&(n=.2),void 0===r&&(r=document.body),void 0===i&&(i=1);var o=e,a=g.Offset(o,r),s=o.offsetHeight,c=o.offsetWidth,l=!1;if("iframe"!==o.tagName.toLowerCase()){for(var u=0;u<o.children.length;u++)if(g.IsVisible(o.children[u])){l=!0;break}}else l=!0;if(!g.IsVisible(o)&&!l||g.HasClass(o,f.AYL_FLAG_INVISBLE_ELEMENT))return!1;var p=s*n,d=a.top,i=a.left,e=a.top+s,n=a.left+c,s=r.scrollTop,a=r.scrollLeft,c=s+t.innerHeight,r=a+t.innerWidth,t=!1;s<=d&&d<=c&&s<=e&&e<=c?t=!0:s<=d&&d<=c?t=s<=(d=d+p)&&d<=c:s<=e&&e<=c&&(t=(h=e-p)<=c&&s<=h);var h=!1;return a<=i&&i<=r&&a<=n&&n<=r?h=!0:a<=i&&i<=r?h=a<=(i=i+p)&&i<=r:a<=n&&n<=r&&(h=(p=n-p)<=r&&a<=p),h&&t},f.applyCSSRule=function(t,e,n,r){r&&r.push({element:t,property:e,value:t.style[e]}),t.style[e]=n},f.removeCSSRules=function(t){for(;0<t.length;){var e=t[0];e.element.style[e.property]=e.value,t.shift()}},f.injectHtmlAsChild=function(t,e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)t.appendChild(n.firstChild)},f.onDomReady=function(t){window.parent!==window&&!document.doctype||"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",function(){t()})},f.traverseNode=function t(e,n){n(e);for(var r=0,i=e.childNodes.length;r<i;r++)t(e.childNodes[r],n)}}.apply(e,n))||(t.exports=n)},5738:(t,e,n)=>{void 0===(e=function(t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AYL_INJECT_CLASSNAME=r.SubstituteTokens=r.ReplaceAll=r.ReplaceColors=r.DecodeURIParams=r.EncodeURIParams=r.EncodeURIComponent=r.Truncate=r.ChunkText=r.DecodeHTMLEntities=r.EscapeHTML=r.Quote=r.Superscript=void 0;var i={}.hasOwnProperty;r.Superscript=function(t){return t.replace(/[]/g,function(t){return"<sup>"+t+"</sup>"})},r.Quote=function(t){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n=/[\b\t\n\f\r"\\]/g;return r.Quote=function(t){return'"'+t.replace(n,function(t){return e[t]})+'"'},r.Quote.apply(null,arguments)};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function a(t,e,n){var r=t.length>e,t=r?t.substr(0,e-1):t,t=n&&r?t.substr(0,t.lastIndexOf(" ")):t;return r?t+"...":t}function o(t){return encodeURIComponent(t).replace(/'/g,"%27")}r.EscapeHTML=function(t){return t=t&&t.replace(/[&<>"]/g,function(t){return e[t]}),/^javascript:/.test(t)?"#safeurl":t},r.DecodeHTMLEntities=function(t){var e=document.createElement("div");return t=(t=(t=t.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace("&apos;","'"),e.innerHTML="<pre>"+t+"</pre>",e.innerText||e.textContent||t},r.ChunkText=function(t,e){void 0===e&&(e=100);var n="";if(!t)return"";var r=t.split("[BREAK]");if(1<r.length)for(var i=0,o=0;o<r.length&&!((i+=r[o].length)>e);o++)n+=r[o];else n=a(t,e,!0);return n},r.Truncate=a,r.EncodeURIComponent=o,r.EncodeURIParams=function(t){var e,n=[];for(e in t)i.call(t,e)&&""!==t[e]&&n.push(o(e)+"="+o(t[e]));return n.sort(),n.join("&")},r.DecodeURIParams=function(t){for(var e={},n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");i[1]&&(e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return e},r.ReplaceColors=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);return n.join(",")},r.ReplaceAll=function(t,e){var n=new RegExp(Object.keys(e).join("|"),"gi");return t.replace(n,function(t){return e[t]})};var s=[{token:"URL",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return encodeURIComponent(document.location.href)}},{token:"TIMESTAMP",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Math.floor((new Date).getTime()/1e3).toString()}},{token:"CACHEBUSTER",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Math.floor((new Date).getTime()/1e3).toString()}},{token:"RANDOM",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Math.floor((new Date).getTime()/1e3).toString()}},{token:"DOMAIN",replacer:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return encodeURIComponent(document.location.hostname)}}];r.SubstituteTokens=function(t){for(var e,n=0;n<s.length;n++)e=s[n],t=t.replace(new RegExp("(\\[|%%)"+e.token+"(\\]|%%)","gi"),e.replacer);return t},r.AYL_INJECT_CLASSNAME="ayl-injected-element"}.apply(e,[n,e]))||(t.exports=e)},7796:(t,e,n)=>{void 0===(e=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype._time_diff=function(t,e){return e?e-t:(new Date).getTime()-t},r.prototype.cancel=function(){window.clearTimeout(this.ident)},r.prototype.pause=function(){-1!==this.ident&&(window.clearTimeout(this.ident),this.ident=-1,this.total_time_run=this._time_diff(this.start_time,0),this.complete=this.total_time_run>=this.total_time)},r.prototype.resume=function(){-1===this.ident&&(this.ident=this.complete?-1:window.setTimeout(this.callback,this.total_time-this.total_time_run))},r);function r(t,e){this.ident=-1,this.complete=!1,this.total_time=0,this.total_time_run=0,this.callback=t,this.total_time=e,this.start_time=(new Date).getTime(),this.ident=window.setTimeout(t,e),this.id=Math.round(1e4*Math.random())}e.default=n}.apply(e,[n,e]))||(t.exports=e)},6322:(t,e,n)=>{var r=n(7017),n=[n,e,n(5738)];void 0===(n=function(t,s,c){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.urlNeedsToBeTracked=s.isCreative21=s.getSafeFrameEXT=s.InSecuredIframe=s.InIframe=s.executeForEachParent=s.executeUntilTopMostWindow=s.getTopMostWindow=s.getWindow=s.getPageParameter=s.setDomInjectionTarget=s.adRootClassName=void 0;function l(t,e){for(var n=document.querySelectorAll('script[src*="omnitagjs.com"]'),r=new RegExp("Placement="+e),i=new RegExp("Placement="),o=0;o<n.length;o++){var a=n[o];!r.test(a.src)&&i.test(a.src)||a.parentNode.className===s.adRootClassName||t.appendChild(a)}}s.adRootClassName="ayl_v_ckr_b",s.setDomInjectionTarget=function(o,a,s){return void 0===s&&(s=document),new r(function(e){var n,r,i=".ayl_native_ad_"+o.Attempt,t=s.querySelector(i);a.className+=a.className?" "+c.AYL_INJECT_CLASSNAME:c.AYL_INJECT_CLASSNAME,t?(t.appendChild(a),l(t,o.Placement),e(t)):(n=0,r=setInterval(function(){var t=s.querySelector(i);t&&(t.appendChild(a),l(t,o.Placement),clearTimeout(r),e(t)),(200<++n||!o.Placement)&&(document.body.appendChild(a),l(document.body,o.Placement),clearTimeout(r),e(document.body))},10))})},s.getPageParameter=function(e){var n,r=null;return s.getTopMostWindow().location.search.substr(1).split("&").forEach(function(t){(n=t.split("="))[0].toLowerCase()===e.toLowerCase()&&(r=decodeURIComponent(n[1]))}),r},s.getWindow=function(){return window},s.getTopMostWindow=function(){var e=window;return s.executeUntilTopMostWindow(function(t){e=t}),e},s.executeUntilTopMostWindow=function(t){var e=window;try{for(t(e);e.parent!==e&&e.parent.document.location.href.toString();)t(e=e.parent)}catch(t){}},s.executeForEachParent=function(t,e){try{e(t),t.parentElement&&s.executeForEachParent(t.parentElement,e)}catch(t){}},s.InIframe=function(){try{return s.getWindow().self!==s.getWindow().top}catch(t){return!0}},s.InSecuredIframe=function(){try{return s.InIframe()&&"string"!=typeof s.getWindow().top.location.toString()}catch(t){return!0}},s.getSafeFrameEXT=function(){var e;return s.executeUntilTopMostWindow(function(t){e=e||(t.sfAPI||(null===(t=t.$sf)||void 0===t?void 0:t.ext))}),e},s.isCreative21=function(t){return!(null===(t=t.IntegrationConfig.Widget)||void 0===t||!t.Creative20)},s.urlNeedsToBeTracked=function(t){return-1===t.toLowerCase().indexOf("tracking")&&-1===t.toLowerCase().indexOf("omnitagjs.com")}}.apply(e,n))||(t.exports=n)},7017:function(t,e,F){var B=F(8584);t.exports=function(){"use strict";function c(t){return"function"==typeof t}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,e=void 0,i=void 0,a=function(t,e){p[r]=t,p[r+1]=e,2===(r+=2)&&(i?i(d):y())};var t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==B&&"[object process]"==={}.toString.call(B),o="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var t=setTimeout;return function(){return t(d,1)}}var p=new Array(1e3);function d(){for(var t=0;t<r;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;r=0}var h,f,g,m,y=void 0;function v(t,e){var n=this,r=new this.constructor(b);void 0===r[T]&&D(r);var i,o=n._state;return o?(i=arguments[o-1],a(function(){return N(o,r,i,n._result)})):R(n,r,t,e),r}function E(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(b);return I(e,t),e}var y=l?function(){return B.nextTick(d)}:s?(f=0,g=new s(d),m=document.createTextNode(""),g.observe(m,{characterData:!0}),function(){m.data=f=++f%2}):o?((h=new MessageChannel).port1.onmessage=d,function(){return h.port2.postMessage(0)}):(void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(d)}:u()}catch(t){return u()}}:u)(),T=Math.random().toString(36).substring(2);function b(){}var _=void 0,w=1,S=2;function C(t,r,i){a(function(e){var n=!1,t=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(i,r,function(t){n||(n=!0,(r!==t?I:P)(e,t))},function(t){n||(n=!0,x(e,t))},e._label);!n&&t&&(n=!0,x(e,t))},t)}function A(t,e,n){var r,i;e.constructor===t.constructor&&n===v&&e.constructor.resolve===E?(r=t,(i=e)._state===w?P(r,i._result):i._state===S?x(r,i._result):R(i,void 0,function(t){return I(r,t)},function(t){return x(r,t)})):void 0!==n&&c(n)?C(t,e,n):P(t,e)}function I(e,t){if(e===t)x(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof t,null===t||"object"!=n&&"function"!=n)P(e,t);else{n=void 0;try{n=t.then}catch(t){return void x(e,t)}A(e,t,n)}var n}function O(t){t._onerror&&t._onerror(t._result),L(t)}function P(t,e){t._state===_&&(t._result=e,t._state=w,0!==t._subscribers.length&&a(L,t))}function x(t,e){t._state===_&&(t._state=S,t._result=e,a(O,t))}function R(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+w]=n,i[o+S]=r,0===o&&t._state&&a(L,t)}function L(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?N(n,r,i,o):i(o);t._subscribers.length=0}}function N(t,e,n,r){var i=c(n),o=void 0,a=void 0,s=!0;if(i){try{o=n(r)}catch(t){s=!1,a=t}if(e===o)return void x(e,new TypeError("A promises callback cannot return that same promise."))}else o=r;e._state!==_||(i&&s?I(e,o):!1===s?x(e,a):t===w?P(e,o):t===S&&x(e,o))}var k=0;function D(t){t[T]=k++,t._state=void 0,t._result=void 0,t._subscribers=[]}var M=(j.prototype._enumerate=function(t){for(var e=0;this._state===_&&e<t.length;e++)this._eachEntry(t[e],e)},j.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i,o=void 0,a=void 0,s=!1;try{o=e.then}catch(e){s=!0,a=e}o===v&&e._state!==_?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):n===V?(i=new n(b),s?x(i,a):A(i,e,o),this._willSettleAt(i,t)):this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},j.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===_&&(this._remaining--,t===S?x(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},j.prototype._willSettleAt=function(t,e){var n=this;R(t,void 0,function(t){return n._settledAt(w,e,t)},function(t){return n._settledAt(S,e,t)})},j);function j(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[T]||D(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}var V=(U.prototype.catch=function(t){return this.then(null,t)},U.prototype.finally=function(e){var n=this.constructor;return c(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},U);function U(t){this[T]=k++,this._result=this._state=void 0,this._subscribers=[],b!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U?function(e,t){try{t(function(t){I(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return V.prototype.then=v,V.all=function(t){return new M(this,t).promise},V.race=function(i){var o=this;return n(i)?new o(function(t,e){for(var n=i.length,r=0;r<n;r++)o.resolve(i[r]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},V.resolve=E,V.reject=function(t){var e=new this(b);return x(e,t),e},V._setScheduler=function(t){i=t},V._setAsap=function(t){a=t},V._asap=a,V.polyfill=function(){var t=void 0;if(void 0!==F.g)t=F.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=V},V.Promise=V}()},8584:t=>{var n,r,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var s,c=[],l=!1,u=-1;function p(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&d())}function d(){if(!l){var t=a(p);l=!0;for(var e=c.length;e;){for(s=c,c=[];++u<e;)s&&s[u].run();u=-1,e=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function e(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=e,t.addListener=e,t.once=e,t.off=e,t.removeListener=e,t.removeAllListeners=e,t.emit=e,t.prependListener=e,t.prependOnceListener=e,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},9851:t=>{"use strict";function e(t){this._maxSize=t,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(t){return this._values[t]},e.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,c=/^\d+$/,l=/^\d/,u=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,r=/^\s*(['"]?)(.*?)(\1)\s*$/,i=new e(512),o=new e(512),a=new e(512);function s(t){return i.get(t)||i.set(t,p(t).map(function(t){return t.replace(r,"$2")}))}function p(t){return t.match(n)}function d(t){return"string"==typeof t&&t&&-1!==["'",'"'].indexOf(t.charAt(0))}t.exports={Cache:e,split:p,normalizePath:s,setter:function(t){var a=s(t);return o.get(t)||o.set(t,function(t,e){for(var n=0,r=a.length,i=t;n<r-1;){var o=a[n];if("__proto__"===o||"constructor"===o||"prototype"===o)return t;i=i[a[n++]]}i[a[n]]=e})},getter:function(t,r){var i=s(t);return a.get(t)||a.set(t,function(t){for(var e=0,n=i.length;e<n;){if(null==t&&r)return;t=t[i[e++]]}return t})},join:function(t){return t.reduce(function(t,e){return t+(d(e)||c.test(e)?"["+e+"]":(t?".":"")+e)},"")},forEach:function(t,e,n){!function(t,e,n){for(var r,i,o,a=t.length,s=0;s<a;s++)(r=t[s])&&(o=void 0,!d(i=r)&&((o=i).match(l)&&!o.match(c)||u.test(i))&&(r='"'+r+'"'),i=!(o=d(r))&&/^\d+$/.test(r),e.call(n,r,o,i,s,t))}(Array.isArray(t)?t:p(t),e,n)}}},9138:t=>{function e(t,e){var s=t.length,c=new Array(s),l={},n=s,u=function(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}(e),p=function(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}(t);for(e.forEach(function(t){if(!p.has(t[0])||!p.has(t[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});n--;)l[n]||function t(e,n,r){if(r.has(e)){var i;try{i=", node was:"+JSON.stringify(e)}catch(e){i=""}throw new Error("Cyclic dependency"+i)}if(!p.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!l[n]){l[n]=!0;var o=u.get(e)||new Set;if(n=(o=Array.from(o)).length){r.add(e);do{var a=o[--n];t(a,p.get(a),r)}while(n);r.delete(e)}c[--s]=e}}(t[n],n,new Set);return c}t.exports=function(t){return e(function(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}(t),t)},t.exports.array=e},8637:function(t,e,n){var Z=n(7017);!function(t){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function o(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=r,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=s(n);return t=r?(t=s(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):t}}function p(t){t=0<arguments.length&&void 0!==t?t:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdId:{value:null,idRegistry:"unknown"},creativeExtensions:[]}}var d=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function h(t){var e,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=[],a=m(t);for(e in!r.ERRORCODE||i.isCustomCode||/^[0-9]{3}$/.test(r.ERRORCODE)||(r.ERRORCODE=900),r.CACHEBUSTING=T(Math.round(1e8*Math.random()).toString()),r.TIMESTAMP=(new Date).toISOString(),r.RANDOM=r.random=r.CACHEBUSTING,r)r[e]=E(r[e]);for(n in a){var s=a[n];"string"==typeof s&&o.push(f(s,r))}return o}function f(t,e){e=(t=g(t,e)).match(/[^[\]]+(?=])/g);if(!e)return t;e=e.filter(function(t){return-1<d.indexOf(t)});return 0===e.length?t:g(t,e=e.reduce(function(t,e){return t[e]=-1,t},{}))}function g(t,e){var n,r=t;for(n in e)var i=e[n],r=r.replace(new RegExp("(?:\\[|%%)(".concat(n,")(?:\\]|%%)"),"g"),i);return r}function m(t){return Array.isArray(t)?t.map(function(t){return t&&t.hasOwnProperty("url")?t.url:t}):t}function y(t,e){for(var n=0;n<e.length;n++)if(v(e[n],t))return!0;return!1}function v(t,e){if(t&&e){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);return n.length===r.length&&t.id===e.id&&t.url===e.url}return!1}function E(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%".concat(t.charCodeAt(0).toString(16))})}function T(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,t=String(t);return t.length<e?b(0,e-t.length,!1).map(function(){return"0"}).join("")+t:t}function b(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:o<a;i?a++:a--)r.push(a);return r}var _={track:function(t,e,n){h(t,e,n).forEach(function(t){"undefined"!=typeof window&&null!==window&&((new Image).src=t)})},resolveURLTemplates:h,extractURLsFromTemplates:m,containsTemplateObject:y,isTemplateObjectEqual:v,encodeURIComponentRFC3986:E,replaceUrlMacros:f,leftpad:T,range:b,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function n(t){return t.reduce(function(t,e){return t.concat(Array.isArray(e)?n(e):e)},[])},joinArrayOfUniqueTemplateObjs:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],t=Array.isArray(t)?t:[],e=Array.isArray(e)?e:[];return t.concat(e).reduce(function(t,e){return y(e,t)||t.push(e),t},[])}};function w(t){return-1!==["true","TRUE","True","1"].indexOf(t)}var S={childByName:function(t,e){var n,r=t.childNodes;for(n in r){var i=r[n];if(i.nodeName===e)return i}},childrenByName:function(t,e){var n,r=[],i=t.childNodes;for(n in i){var o=i[n];o.nodeName===e&&r.push(o)}return r},resolveVastAdTagURI:function(t,e){if(!e)return t;if(0===t.indexOf("//")){var n=location.protocol;return"".concat(n).concat(t)}if(-1!==t.indexOf("://"))return t;e=e.slice(0,e.lastIndexOf("/"));return"".concat(e,"/").concat(t)},parseBoolean:w,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,n){e=e.getAttribute(t);e&&n.setAttribute(t,e)},parseAttributes:function(t){for(var e=t.attributes,n={},r=0;r<e.length;r++)n[e[r].nodeName]=e[r].nodeValue;return n},parseDuration:function(t){if(null==t)return-1;if(_.isNumeric(t))return parseInt(t);var e=t.split(":");if(3!==e.length)return-1;var n=e[2].split("."),t=parseInt(n[0]);2===n.length&&(t+=parseFloat("0.".concat(n[1])));n=parseInt(60*e[1]),e=parseInt(60*e[0]*60);return isNaN(e)||isNaN(n)||isNaN(t)||3600<n||60<t?-1:e+n+t},splitVAST:function(n){var r=[],i=null;return n.forEach(function(t,e){if(t.sequence&&(t.sequence=parseInt(t.sequence,10)),1<t.sequence){e=n[e-1];if(e&&e.sequence===t.sequence-1)return void(i&&i.push(t));delete t.sequence}i=[t],r.push(i)}),r},assignAttributes:function(t,e){if(t)for(var n in t){var r=t[n];r.nodeName&&r.nodeValue&&e.hasOwnProperty(r.nodeName)&&(n=r.nodeValue,"boolean"==typeof e[r.nodeName]&&(n=w(n)),e[r.nodeName]=n)}},mergeWrapperAdData:function(t,r){t.errorURLTemplates=r.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=r.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=r.extensions.concat(t.extensions),t.followAdditionalWrappers=r.followAdditionalWrappers,t.allowMultipleAds=r.allowMultipleAds,t.fallbackOnNoAd=r.fallbackOnNoAd;var e=(r.creatives||[]).filter(function(t){return t&&"companion"===t.type}),i=e.reduce(function(e,t){return(t.variations||[]).forEach(function(t){(t.companionClickTrackingURLTemplates||[]).forEach(function(t){_.containsTemplateObject(t,e)||e.push(t)})}),e},[]);t.creatives=e.concat(t.creatives);var o=r.videoClickTrackingURLTemplates&&r.videoClickTrackingURLTemplates.length,a=r.videoCustomClickURLTemplates&&r.videoCustomClickURLTemplates.length;t.creatives.forEach(function(t){if(r.trackingEvents&&r.trackingEvents[t.type])for(var e in r.trackingEvents[t.type]){var n=r.trackingEvents[t.type][e];Array.isArray(t.trackingEvents[e])||(t.trackingEvents[e]=[]),t.trackingEvents[e]=t.trackingEvents[e].concat(n)}"linear"===t.type&&(o&&(t.videoClickTrackingURLTemplates=t.videoClickTrackingURLTemplates.concat(r.videoClickTrackingURLTemplates)),a&&(t.videoCustomClickURLTemplates=t.videoCustomClickURLTemplates.concat(r.videoCustomClickURLTemplates)),!r.videoClickThroughURLTemplate||null!==t.videoClickThroughURLTemplate&&void 0!==t.videoClickThroughURLTemplate||(t.videoClickThroughURLTemplate=r.videoClickThroughURLTemplate)),"companion"===t.type&&i.length&&(t.variations||[]).forEach(function(t){t.companionClickTrackingURLTemplates=_.joinArrayOfUniqueTemplateObjs(t.companionClickTrackingURLTemplates,i)})}),r.adVerifications&&(t.adVerifications=t.adVerifications.concat(r.adVerifications)),r.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(r.blockedAdCategories))}};function C(t){var e=[];return t.forEach(function(t){t=function t(e){if("#comment"===e.nodeName)return null;var n={name:null,value:null,attributes:{},children:[]},r=e.attributes,i=e.childNodes;if(n.name=e.nodeName,e.attributes)for(var o in r)!r.hasOwnProperty(o)||(o=r[o]).nodeName&&o.nodeValue&&(n.attributes[o.nodeName]=o.nodeValue);for(var a in i)!i.hasOwnProperty(a)||(a=t(i[a]))&&n.children.push(a);{var s;(0===n.children.length||1===n.children.length&&0<=["#cdata-section","#text"].indexOf(n.children[0].name))&&(""!==(s=S.parseNodeText(e))&&(n.value=s),n.children=[])}return null===(s=n).value&&0===Object.keys(s.attributes).length&&0===s.children.length?null:n}(t);t&&e.push(t)}),e}function A(t){var u=[];return t.forEach(function(t){var e,n,r={id:t.getAttribute("id")||null,adId:(i=t).getAttribute("AdID")||i.getAttribute("adID")||i.getAttribute("adId")||null,sequence:t.getAttribute("sequence")||null,apiFramework:t.getAttribute("apiFramework")||null},i=S.childByName(t,"UniversalAdId");i&&(e={idRegistry:i.getAttribute("idRegistry")||"unknown",value:S.parseNodeText(i)});var o,a,s,i=S.childByName(t,"CreativeExtensions");for(o in i&&(n=C(S.childrenByName(i,"CreativeExtension"))),t.childNodes){var c=t.childNodes[o],l=void 0;switch(c.nodeName){case"Linear":l=function(t,e){var r,s=function(t){t=p(0<arguments.length&&void 0!==t?t:{});return{id:t.id,adId:t.adId,sequence:t.sequence,apiFramework:t.apiFramework,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(e);s.duration=S.parseDuration(S.parseNodeText(S.childByName(t,"Duration"))),null==(e=t.getAttribute("skipoffset"))?s.skipDelay=null:"%"===e.charAt(e.length-1)&&-1!==s.duration?(n=parseInt(e,10),s.skipDelay=s.duration*(n/100)):s.skipDelay=S.parseDuration(e);var n=S.childByName(t,"VideoClicks");return n&&(e=S.childByName(n,"ClickThrough"),s.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:S.parseNodeText(e)}:null,S.childrenByName(n,"ClickTracking").forEach(function(t){s.videoClickTrackingURLTemplates.push({id:t.getAttribute("id")||null,url:S.parseNodeText(t)})}),S.childrenByName(n,"CustomClick").forEach(function(t){s.videoCustomClickURLTemplates.push({id:t.getAttribute("id")||null,url:S.parseNodeText(t)})})),(n=S.childByName(t,"AdParameters"))&&(s.adParameters=S.parseNodeText(n)),S.childrenByName(t,"TrackingEvents").forEach(function(t){S.childrenByName(t,"Tracking").forEach(function(t){var e=t.getAttribute("event"),n=S.parseNodeText(t);if(e&&n){if("progress"===e){if(!(r=t.getAttribute("offset")))return;e="%"===r.charAt(r.length-1)?"progress-".concat(r):"progress-".concat(Math.round(S.parseDuration(r)))}Array.isArray(s.trackingEvents[e])||(s.trackingEvents[e]=[]),s.trackingEvents[e].push(n)}})}),S.childrenByName(t,"MediaFiles").forEach(function(t){S.childrenByName(t,"MediaFile").forEach(function(t){s.mediaFiles.push(function(t){var e={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};e.id=t.getAttribute("id"),e.fileURL=S.parseNodeText(t),e.deliveryType=t.getAttribute("delivery"),e.codec=t.getAttribute("codec"),e.mimeType=t.getAttribute("type"),e.mediaType=t.getAttribute("mediaType")||"2D",e.apiFramework=t.getAttribute("apiFramework"),e.fileSize=parseInt(t.getAttribute("fileSize")||0),e.bitrate=parseInt(t.getAttribute("bitrate")||0),e.minBitrate=parseInt(t.getAttribute("minBitrate")||0),e.maxBitrate=parseInt(t.getAttribute("maxBitrate")||0),e.width=parseInt(t.getAttribute("width")||0),e.height=parseInt(t.getAttribute("height")||0);var n=t.getAttribute("scalable");n&&"string"==typeof n&&(e.scalable=S.parseBoolean(n));t=t.getAttribute("maintainAspectRatio");return t&&"string"==typeof t&&(e.maintainAspectRatio=S.parseBoolean(t)),e}(t))});var e=S.childByName(t,"InteractiveCreativeFile");e&&(s.interactiveCreativeFile=(n=e,(a=function(t){t=0<arguments.length&&void 0!==t?t:{};return{type:t.type||null,apiFramework:t.apiFramework||null,variableDuration:S.parseBoolean(t.variableDuration),fileURL:null}}(S.parseAttributes(n))).fileURL=S.parseNodeText(n),a));var n=S.childByName(t,"ClosedCaptionFiles");n&&S.childrenByName(n,"ClosedCaptionFile").forEach(function(t){var e=function(t){t=0<arguments.length&&void 0!==t?t:{};return{type:t.type||null,language:t.language||null,fileURL:null}}(S.parseAttributes(t));e.fileURL=S.parseNodeText(t),s.closedCaptionFiles.push(e)});var r,i,o,a=S.childByName(t,"Mezzanine"),n=(r=a,o=!(i={}),["delivery","type","width","height"].forEach(function(t){r&&r.getAttribute(t)?i[t]=r.getAttribute(t):o=!0}),o?null:i);n&&((t={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"}).id=a.getAttribute("id"),t.fileURL=S.parseNodeText(a),t.delivery=n.delivery,t.codec=a.getAttribute("codec"),t.type=n.type,t.width=parseInt(n.width,10),t.height=parseInt(n.height,10),t.fileSize=parseInt(a.getAttribute("fileSize"),10),t.mediaType=a.getAttribute("mediaType")||"2D",s.mezzanine=t)}),(t=S.childByName(t,"Icons"))&&S.childrenByName(t,"Icon").forEach(function(t){s.icons.push(function(t){var e={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};e.program=t.getAttribute("program"),e.height=parseInt(t.getAttribute("height")||0),e.width=parseInt(t.getAttribute("width")||0),e.xPosition=(n=t.getAttribute("xPosition"),-1!==["left","right"].indexOf(n)?n:parseInt(n||0)),e.yPosition=(n=t.getAttribute("yPosition"),-1!==["top","bottom"].indexOf(n)?n:parseInt(n||0)),e.apiFramework=t.getAttribute("apiFramework"),e.pxratio=t.getAttribute("pxratio")||"1",e.offset=S.parseDuration(t.getAttribute("offset")),e.duration=S.parseDuration(t.getAttribute("duration")),S.childrenByName(t,"HTMLResource").forEach(function(t){e.type=t.getAttribute("creativeType")||"text/html",e.htmlResource=S.parseNodeText(t)}),S.childrenByName(t,"IFrameResource").forEach(function(t){e.type=t.getAttribute("creativeType")||0,e.iframeResource=S.parseNodeText(t)}),S.childrenByName(t,"StaticResource").forEach(function(t){e.type=t.getAttribute("creativeType")||0,e.staticResource=S.parseNodeText(t)});var n=S.childByName(t,"IconClicks");return n&&(e.iconClickThroughURLTemplate=S.parseNodeText(S.childByName(n,"IconClickThrough")),S.childrenByName(n,"IconClickTracking").forEach(function(t){e.iconClickTrackingURLTemplates.push({id:t.getAttribute("id")||null,url:S.parseNodeText(t)})})),e.iconViewTrackingURLTemplate=S.parseNodeText(S.childByName(t,"IconViewTracking")),e}(t))}),s}(c,r);break;case"NonLinearAds":l=function(t,e){var r=function(t){t=p(0<arguments.length&&void 0!==t?t:{});return{id:t.id,adId:t.adId,sequence:t.sequence,apiFramework:t.apiFramework,type:"nonlinear",variations:[],trackingEvents:{}}}(e);return S.childrenByName(t,"TrackingEvents").forEach(function(t){var e,n;S.childrenByName(t,"Tracking").forEach(function(t){e=t.getAttribute("event"),n=S.parseNodeText(t),e&&n&&(Array.isArray(r.trackingEvents[e])||(r.trackingEvents[e]=[]),r.trackingEvents[e].push(n))})}),S.childrenByName(t,"NonLinear").forEach(function(t){var e={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};e.id=t.getAttribute("id")||null,e.width=t.getAttribute("width"),e.height=t.getAttribute("height"),e.expandedWidth=t.getAttribute("expandedWidth"),e.expandedHeight=t.getAttribute("expandedHeight"),e.scalable=S.parseBoolean(t.getAttribute("scalable")),e.maintainAspectRatio=S.parseBoolean(t.getAttribute("maintainAspectRatio")),e.minSuggestedDuration=S.parseDuration(t.getAttribute("minSuggestedDuration")),e.apiFramework=t.getAttribute("apiFramework"),S.childrenByName(t,"HTMLResource").forEach(function(t){e.type=t.getAttribute("creativeType")||"text/html",e.htmlResource=S.parseNodeText(t)}),S.childrenByName(t,"IFrameResource").forEach(function(t){e.type=t.getAttribute("creativeType")||0,e.iframeResource=S.parseNodeText(t)}),S.childrenByName(t,"StaticResource").forEach(function(t){e.type=t.getAttribute("creativeType")||0,e.staticResource=S.parseNodeText(t)});var n=S.childByName(t,"AdParameters");n&&(e.adParameters=S.parseNodeText(n)),e.nonlinearClickThroughURLTemplate=S.parseNodeText(S.childByName(t,"NonLinearClickThrough")),S.childrenByName(t,"NonLinearClickTracking").forEach(function(t){e.nonlinearClickTrackingURLTemplates.push({id:t.getAttribute("id")||null,url:S.parseNodeText(t)})}),r.variations.push(e)}),r}(c,r);break;case"CompanionAds":a=c,(s=function(t){t=p(0<arguments.length&&void 0!==t?t:{});return{id:t.id,adId:t.adId,sequence:t.sequence,apiFramework:t.apiFramework,type:"companion",required:null,variations:[]}}(s=r)).required=a.getAttribute("required")||null,s.variations=S.childrenByName(a,"Companion").map(function(t){var n=function(t){t=0<arguments.length&&void 0!==t?t:{};return{id:t.id||null,adType:"companionAd",width:t.width||0,height:t.height||0,assetWidth:t.assetWidth||null,assetHeight:t.assetHeight||null,expandedWidth:t.expandedWidth||null,expandedHeight:t.expandedHeight||null,apiFramework:t.apiFramework||null,adSlotID:t.adSlotID||null,pxratio:t.pxratio||"1",renderingMode:t.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,xmlEncoded:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(S.parseAttributes(t));n.htmlResources=S.childrenByName(t,"HTMLResource").reduce(function(t,e){e=S.parseNodeText(e);return e?t.concat(e):t},[]),n.iframeResources=S.childrenByName(t,"IFrameResource").reduce(function(t,e){e=S.parseNodeText(e);return e?t.concat(e):t},[]),n.staticResources=S.childrenByName(t,"StaticResource").reduce(function(t,e){var n=S.parseNodeText(e);return n?t.concat({url:n,creativeType:e.getAttribute("creativeType")||null}):t},[]),n.altText=S.parseNodeText(S.childByName(t,"AltText"))||null;var e=S.childByName(t,"TrackingEvents");e&&S.childrenByName(e,"Tracking").forEach(function(t){var e=t.getAttribute("event"),t=S.parseNodeText(t);e&&t&&(Array.isArray(n.trackingEvents[e])||(n.trackingEvents[e]=[]),n.trackingEvents[e].push(t))}),n.companionClickTrackingURLTemplates=S.childrenByName(t,"CompanionClickTracking").map(function(t){return{id:t.getAttribute("id")||null,url:S.parseNodeText(t)}}),n.companionClickThroughURLTemplate=S.parseNodeText(S.childByName(t,"CompanionClickThrough"))||null;t=S.childByName(t,"AdParameters");return t&&(n.adParameters=S.parseNodeText(t),n.xmlEncoded=t.getAttribute("xmlEncoded")||null),n}),l=s}l&&(e&&(l.universalAdId=e),n&&(l.creativeExtensions=n),u.push(l))}}),u}var I={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function O(e,t){var n;I[e.nodeName]&&I[e.nodeName].attributes&&(0<(n=I[e.nodeName].attributes.filter(function(t){return!e.getAttribute(t)})).length&&R({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:n},t))}function P(e,t,n){var r=I[e.nodeName],i=!n&&"Wrapper"!==e.nodeName;r&&!i&&(!r.subElements||0<(i=r.subElements.filter(function(t){return!S.childByName(e,t)})).length&&R({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:i},t),n&&r.oneOfinLineResources&&(r.oneOfinLineResources.some(function(t){return S.childByName(e,t)})||R({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:r.oneOfinLineResources},t)))}function x(t){return t.children&&0!==t.children.length}function R(t,e){var n=t.name,r=t.parentName,i=t.attributes,o=t.subElements,t=t.oneOfResources,n="Element '".concat(n,"'");e("VAST-warning",{message:n+=i?" missing required attribute(s) '".concat(i.join(", "),"' "):o?" missing required sub element(s) '".concat(o.join(", "),"' "):t?" must provide one of the following '".concat(t.join(", "),"' "):" is empty",parentElement:r,specVersion:4.1})}var L={verifyRequiredValues:function t(e,n,r){if(e&&e.nodeName)if("InLine"===e.nodeName&&(r=!0),O(e,n),x(e)){P(e,n,r);for(var i=0;i<e.children.length;i++)t(e.children[i],n,r)}else 0===S.parseNodeText(e).length&&R({name:e.nodeName,parentName:e.parentNode.nodeName},n)},hasSubElements:x,emitMissingValueWarning:R,verifyRequiredAttributes:O,verifyRequiredSubElements:P};function N(t,e,n){var r,n=2<arguments.length&&void 0!==n?n:{},i=n.allowMultipleAds,o=n.followAdditionalWrappers,a=t.childNodes;for(r in a){var s=a[r];if(-1!==["Wrapper","InLine"].indexOf(s.nodeName)&&("Wrapper"!==s.nodeName||!1!==o)){if(S.copyNodeAttribute("id",t,s),S.copyNodeAttribute("sequence",t,s),S.copyNodeAttribute("adType",t,s),"Wrapper"===s.nodeName)return{ad:function(t,e){var r=k(t,e),n=t.getAttribute("followAdditionalWrappers"),i=t.getAttribute("allowMultipleAds"),e=t.getAttribute("fallbackOnNoAd");r.followAdditionalWrappers=!n||S.parseBoolean(n),r.allowMultipleAds=!!i&&S.parseBoolean(i),r.fallbackOnNoAd=e?S.parseBoolean(e):null;e=S.childByName(t,"VASTAdTagURI");if(e?r.nextWrapperURL=S.parseNodeText(e):(e=S.childByName(t,"VASTAdTagURL"))&&(r.nextWrapperURL=S.parseNodeText(S.childByName(e,"URL"))),r.creatives.forEach(function(n){if(-1!==["linear","nonlinear"].indexOf(n.type)){if(n.trackingEvents){r.trackingEvents||(r.trackingEvents={}),r.trackingEvents[n.type]||(r.trackingEvents[n.type]={});for(var t in n.trackingEvents)!function(e){var t=n.trackingEvents[e];Array.isArray(r.trackingEvents[n.type][e])||(r.trackingEvents[n.type][e]=[]),t.forEach(function(t){r.trackingEvents[n.type][e].push(t)})}(t)}n.videoClickTrackingURLTemplates&&(Array.isArray(r.videoClickTrackingURLTemplates)||(r.videoClickTrackingURLTemplates=[]),n.videoClickTrackingURLTemplates.forEach(function(t){r.videoClickTrackingURLTemplates.push(t)})),n.videoClickThroughURLTemplate&&(r.videoClickThroughURLTemplate=n.videoClickThroughURLTemplate),n.videoCustomClickURLTemplates&&(Array.isArray(r.videoCustomClickURLTemplates)||(r.videoCustomClickURLTemplates=[]),n.videoCustomClickURLTemplates.forEach(function(t){r.videoCustomClickURLTemplates.push(t)}))}}),r.nextWrapperURL)return r}(s,e),type:"WRAPPER"};if("InLine"===s.nodeName)return{ad:function(t,e){return!1===(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).allowMultipleAds&&t.getAttribute("sequence")?null:k(t,e)}(s,e,{allowMultipleAds:i}),type:"INLINE"}}}}function k(t,e){e&&L.verifyRequiredValues(t,e);var n,r=t.childNodes,i=function(t){t=0<arguments.length&&void 0!==t?t:{};return{id:t.id||null,sequence:t.sequence||null,adType:t.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:{},system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(S.parseAttributes(t));for(n in r){var o=r[n];switch(o.nodeName){case"Error":i.errorURLTemplates.push(S.parseNodeText(o));break;case"Impression":i.impressionURLTemplates.push({id:o.getAttribute("id")||null,url:S.parseNodeText(o)});break;case"Creatives":i.creatives=A(S.childrenByName(o,"Creative"));break;case"Extensions":var a=S.childrenByName(o,"Extension");i.extensions=C(a),i.adVerifications.length||(i.adVerifications=function(t){var e=null,n=[];return t.some(function(t){return e=S.childByName(t,"AdVerifications")}),n=e?D(S.childrenByName(e,"Verification")):n}(a));break;case"AdVerifications":i.adVerifications=D(S.childrenByName(o,"Verification"));break;case"AdSystem":i.system={value:S.parseNodeText(o),version:o.getAttribute("version")||null};break;case"AdTitle":i.title=S.parseNodeText(o);break;case"AdServingId":i.adServingId=S.parseNodeText(o);break;case"Category":i.categories.push({authority:o.getAttribute("authority")||null,value:S.parseNodeText(o)});break;case"Expires":i.expires=parseInt(S.parseNodeText(o),10);break;case"ViewableImpression":i.viewableImpression=function(t){var e={};e.id=t.getAttribute("id")||null;var n,r=t.childNodes;for(n in r){var i=r[n],o=i.nodeName,i=S.parseNodeText(i);"Viewable"!==o&&"NotViewable"!==o&&"ViewUndetermined"!==o||!i||(o=o.toLowerCase(),Array.isArray(e[o])||(e[o]=[]),e[o].push(i))}return e}(o);break;case"Description":i.description=S.parseNodeText(o);break;case"Advertiser":i.advertiser={id:o.getAttribute("id")||null,value:S.parseNodeText(o)};break;case"Pricing":i.pricing={value:S.parseNodeText(o),model:o.getAttribute("model")||null,currency:o.getAttribute("currency")||null};break;case"Survey":i.survey=S.parseNodeText(o);break;case"BlockedAdCategories":i.blockedAdCategories.push({authority:o.getAttribute("authority")||null,value:S.parseNodeText(o)})}}return i}function D(t){var o=[];return t.forEach(function(t){var e,n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=t.childNodes;for(e in S.assignAttributes(t.attributes,n),r){var i=r[e];switch(i.nodeName){case"JavaScriptResource":case"ExecutableResource":n.resource=S.parseNodeText(i),S.assignAttributes(i.attributes,n);break;case"VerificationParameters":n.parameters=S.parseNodeText(i)}}t=S.childByName(t,"TrackingEvents");t&&S.childrenByName(t,"Tracking").forEach(function(t){var e=t.getAttribute("event"),t=S.parseNodeText(t);e&&t&&(Array.isArray(n.trackingEvents[e])||(n.trackingEvents[e]=[]),n.trackingEvents[e].push(t))}),o.push(n)}),o}var M=(i(V,[{key:"on",value:function(t,e){if("function"!=typeof e)throw new TypeError("The handler argument must be of type Function. Received type ".concat(n(e)));if(!t)throw new TypeError("The event argument must be of type String. Received type ".concat(n(t)));return this._handlers.push({event:t,handler:e}),this}},{key:"once",value:function(t,e){return this.on(t,(r=this,i=t,o=e,(a={fired:!1,wrapFn:void 0}).wrapFn=n));function n(){a.fired||(r.off(i,a.wrapFn),a.fired=!0,o.bind(r).apply(void 0,arguments))}var r,i,o,a}},{key:"off",value:function(e,n){return this._handlers=this._handlers.filter(function(t){return t.event!==e||t.handler!==n}),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!1;return this._handlers.forEach(function(t){"*"===t.event&&(i=!0,t.handler.apply(t,[e].concat(n))),t.event===e&&(i=!0,t.handler.apply(t,n))}),i}},{key:"removeAllListeners",value:function(e){return this._handlers=e?this._handlers.filter(function(t){return t.event!==e}):[],this}},{key:"listenerCount",value:function(e){return this._handlers.filter(function(t){return t.event===e}).length}},{key:"listeners",value:function(n){return this._handlers.reduce(function(t,e){return e.event===n&&t.push(e.handler),t},[])}},{key:"eventNames",value:function(){return this._handlers.map(function(t){return t.event})}}]),V),j=function(t,e,n){n(new Error("Please bundle the library for node to use the node urlHandler"))};function V(){l(this,V),this._handlers=[]}function U(){try{var t=new window.XMLHttpRequest;return"withCredentials"in t?t:null}catch(t){return null}}function F(t,e,n){var r=n?408:t.status,t=(n?"XHRURLHandler: Request timed out after ".concat(t.timeout," ms ("):"XHRURLHandler: ".concat(t.statusText," (")).concat(r,")");e(new Error(t),null,{statusCode:r})}var B=function(t,e,n){if("https:"===window.location.protocol&&0===t.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{var r=U();r.open("GET",t),r.timeout=e.timeout||12e4,r.withCredentials=e.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onload=function(){var t,e;e=n,200===(t=r).status?e(null,t.responseXML,{byteLength:t.response.length,statusCode:t.status}):F(t,e,!1)},r.onerror=function(){return F(r,n,!1)},r.onabort=function(){return F(r,n,!1)},r.ontimeout=function(){return F(r,n,!0)},r.send()}catch(t){n(new Error("XHRURLHandler: Unexpected error"))}},W=function(){return!!U()},H={get:function(t,e,n){return n||("function"==typeof e&&(n=e),e={}),"undefined"==typeof window||null===window?j(t,e,n):W()?B(t,e,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))}},z={ERRORCODE:900,extensions:[]},G=function(){a(n,M);var e=u(n);function n(){var t;return l(this,n),(t=e.call(this)).remainingAds=[],t.parentURLs=[],t.errorURLTemplates=[],t.rootErrorURLTemplates=[],t.maxWrapperDepth=null,t.URLTemplateFilters=[],t.fetchingOptions={},t.parsingOptions={},t}return i(n,[{key:"addURLTemplateFilter",value:function(t){"function"==typeof t&&this.URLTemplateFilters.push(t)}},{key:"removeURLTemplateFilter",value:function(){this.URLTemplateFilters.pop()}},{key:"countURLTemplateFilters",value:function(){return this.URLTemplateFilters.length}},{key:"clearURLTemplateFilters",value:function(){this.URLTemplateFilters=[]}},{key:"trackVastError",value:function(t,e){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.emit("VAST-error",Object.assign.apply(Object,[{},z,e].concat(r))),_.track(t,e)}},{key:"getErrorURLTemplates",value:function(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}},{key:"fetchVAST",value:function(s){var c=this,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return new Z(function(i,o){c.URLTemplateFilters.forEach(function(t){s=t(s)}),c.parentURLs.push(s);var a=Date.now();c.emit("VAST-resolving",{url:s,previousUrl:u,wrapperDepth:l,maxWrapperDepth:c.maxWrapperDepth,timeout:c.fetchingOptions.timeout}),c.urlHandler.get(s,c.fetchingOptions,function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=Math.round(Date.now()-a),n=Object.assign({url:s,previousUrl:u,wrapperDepth:l,error:t,duration:r},n);c.emit("VAST-resolved",n),t?o(t):i(e)})})}},{key:"initParsingStatus",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.errorURLTemplates=[],this.fetchingOptions={timeout:t.timeout||12e4,withCredentials:t.withCredentials},this.maxWrapperDepth=t.wrapperLimit||10,this.parentURLs=[],this.parsingOptions={allowMultipleAds:t.allowMultipleAds},this.remainingAds=[],this.rootErrorURLTemplates=[],this.rootURL="",this.urlHandler=t.urlHandler||t.urlhandler||H,this.vastVersion=null}},{key:"getRemainingAds",value:function(t){var e=this;if(0===this.remainingAds.length)return Z.reject(new Error("No more ads are available for the given VAST"));t=t?_.flatten(this.remainingAds):this.remainingAds.shift();return this.errorURLTemplates=[],this.parentURLs=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then(function(t){return e.buildVASTResponse(t)})}},{key:"getAndParseVAST",value:function(e){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(r),this.URLTemplateFilters.forEach(function(t){e=t(e)}),this.rootURL=e,this.fetchVAST(e).then(function(t){return r.previousUrl=e,r.isRootVAST=!0,r.url=e,n.parse(t,r).then(function(t){return n.buildVASTResponse(t)})})}},{key:"parseVAST",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(t,n).then(function(t){return e.buildVASTResponse(t)})}},{key:"buildVASTResponse",value:function(t){t={ads:(t={ads:t,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion}).ads||[],errorURLTemplates:t.errorURLTemplates||[],version:t.version||null};return this.completeWrapperResolving(t),t}},{key:"parseVastXml",value:function(t,e){var n=e.isRootVAST,r=void 0!==n&&n,n=e.url,i=void 0===n?null:n,n=e.wrapperDepth,o=void 0===n?0:n,a=e.allowMultipleAds,s=e.followAdditionalWrappers;if(!t||!t.documentElement||"VAST"!==t.documentElement.nodeName)throw this.emit("VAST-ad-parsed",{type:"ERROR",url:i,wrapperDepth:o}),new Error("Invalid VAST XMLDocument");var c,l=[],u=t.documentElement.childNodes,p=t.documentElement.getAttribute("version");for(c in r&&p&&(this.vastVersion=p),u){var d=u[c];if("Error"===d.nodeName){var h=S.parseNodeText(d);(r?this.rootErrorURLTemplates:this.errorURLTemplates).push(h)}else if("Ad"===d.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)a=!0;else if(!1===a&&1<l.length)break;d=N(d,this.emit.bind(this),{allowMultipleAds:a,followAdditionalWrappers:s});d.ad?(l.push(d.ad),this.emit("VAST-ad-parsed",{type:d.type,url:i,wrapperDepth:o,adIndex:l.length-1,vastVersion:p})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return l}},{key:"parse",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.url,r=void 0===n?null:n,i=e.resolveAll,o=void 0===i||i,a=e.wrapperSequence,s=void 0===a?null:a,c=e.previousUrl,l=void 0===c?null:c,n=e.wrapperDepth,i=void 0===n?0:n,a=e.isRootVAST,c=void 0!==a&&a,n=e.followAdditionalWrappers,a=e.allowMultipleAds,e=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&c&&(a=!0);try{e=this.parseVastXml(t,{isRootVAST:c,url:r,wrapperDepth:i,allowMultipleAds:a,followAdditionalWrappers:n})}catch(t){return Z.reject(t)}return 1===e.length&&null!=s&&(e[0].sequence=s),!1===o&&(this.remainingAds=S.splitVAST(e),e=this.remainingAds.shift()),this.resolveAds(e,{wrapperDepth:i,previousUrl:l,url:r})}},{key:"resolveAds",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0,r=e.wrapperDepth,i=(e.previousUrl,e.url),o=[],a=i;return t.forEach(function(t){t=n.resolveWrappers(t,r,a);o.push(t)}),Z.all(o).then(function(t){var e=_.flatten(t);if(!e&&0<n.remainingAds.length){t=n.remainingAds.shift();return n.resolveAds(t,{wrapperDepth:r,previousUrl:a,url:i})}return e})}},{key:"resolveWrappers",value:function(i,o,a){var s=this;return new Z(function(e){var t;if(o++,!i.nextWrapperURL)return delete i.nextWrapperURL,e(i);if(o>=s.maxWrapperDepth||-1!==s.parentURLs.indexOf(i.nextWrapperURL))return i.errorCode=302,delete i.nextWrapperURL,e(i);i.nextWrapperURL=S.resolveVastAdTagURI(i.nextWrapperURL,a),s.URLTemplateFilters.forEach(function(t){i.nextWrapperURL=t(i.nextWrapperURL)});var n=null!==(t=s.parsingOptions.allowMultipleAds)&&void 0!==t?t:i.allowMultipleAds,r=i.sequence;s.fetchVAST(i.nextWrapperURL,o,a).then(function(t){return s.parse(t,{url:i.nextWrapperURL,previousUrl:a,wrapperSequence:r,wrapperDepth:o,followAdditionalWrappers:i.followAdditionalWrappers,allowMultipleAds:n}).then(function(t){return delete i.nextWrapperURL,0===t.length?(i.creatives=[],e(i)):(t.forEach(function(t){t&&S.mergeWrapperAdData(t,i)}),void e(t))})}).catch(function(t){i.errorCode=301,i.errorMessage=t.message,e(i)})})}},{key:"completeWrapperResolving",value:function(t){if(0===t.ads.length)this.trackVastError(t.errorURLTemplates,{ERRORCODE:303});else for(var e=t.ads.length-1;0<=e;e--){var n=t.ads[e];!n.errorCode&&0!==n.creatives.length||(this.trackVastError(n.errorURLTemplates.concat(t.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),t.ads.splice(e,1))}}}]),n}(),K=null,Y={data:{},length:0,getItem:function(t){return this.data[t]},setItem:function(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem:function(t){delete this.data[t],this.length=Object.keys(this.data).length},clear:function(){this.data={},this.length=0}},q=(i(Q,[{key:"initStorage",value:function(){if(K)return K;try{K="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){K=null}return K&&!this.isStorageDisabled(K)||(K=Y).clear(),K}},{key:"isStorageDisabled",value:function(t){var e="__VASTStorage__";try{if(t.setItem(e,e),t.getItem(e)!==e)return t.removeItem(e),!0}catch(t){return!0}return t.removeItem(e),!1}},{key:"getItem",value:function(t){return this.storage.getItem(t)}},{key:"setItem",value:function(t,e){return this.storage.setItem(t,e)}},{key:"removeItem",value:function(t){return this.storage.removeItem(t)}},{key:"clear",value:function(){return this.storage.clear()}}]),Q),$=(i(X,[{key:"getParser",value:function(){return this.vastParser}},{key:"hasRemainingAds",value:function(){return 0<this.vastParser.remainingAds.length}},{key:"getNextAds",value:function(t){return this.vastParser.getRemainingAds(t)}},{key:"get",value:function(r){var i=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=Date.now();return(o=Object.assign({},this.defaultOptions,o)).hasOwnProperty("resolveAll")||(o.resolveAll=!1),this.totalCallsTimeout<a?(this.totalCalls=1,this.totalCallsTimeout=a+36e5):this.totalCalls++,new Z(function(e,n){if(i.cappingFreeLunch>=i.totalCalls)return n(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(i.totalCalls,"/").concat(i.cappingFreeLunch)));var t=a-i.lastSuccessfulAd;if(t<0)i.lastSuccessfulAd=0;else if(t<i.cappingMinimumTimeInterval)return n(new Error("VAST call canceled  (".concat(i.cappingMinimumTimeInterval,")ms minimum interval reached")));i.vastParser.getAndParseVAST(r,o).then(function(t){return e(t)}).catch(function(t){return n(t)})})}},{key:"lastSuccessfulAd",get:function(){return this.storage.getItem("vast-client-last-successful-ad")},set:function(t){this.storage.setItem("vast-client-last-successful-ad",t)}},{key:"totalCalls",get:function(){return this.storage.getItem("vast-client-total-calls")},set:function(t){this.storage.setItem("vast-client-total-calls",t)}},{key:"totalCallsTimeout",get:function(){return this.storage.getItem("vast-client-total-calls-timeout")},set:function(t){this.storage.setItem("vast-client-total-calls-timeout",t)}}]),X),J=function(){a(c,M);var s=u(c);function c(t,e,n){var r,i,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;for(i in l(this,c),(r=s.call(this)).ad=e,r.creative=n,r.variation=o,r.muted=!1,r.impressed=!1,r.skippable=!1,r.trackingEvents={},r.lastPercentage=0,r._alreadyTriggeredQuartiles={},r.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],r.creative.trackingEvents){var a=r.creative.trackingEvents[i];r.trackingEvents[i]=a.slice(0)}return"linear"===r.creative.type?r._initLinearTracking():r._initVariationTracking(),t&&r.on("start",function(){t.lastSuccessfulAd=Date.now()}),r}return i(c,[{key:"_initLinearTracking",value:function(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}},{key:"_initVariationTracking",value:function(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(var t in this.variation.trackingEvents){var e=this.variation.trackingEvents[t];this.trackingEvents[t]?this.trackingEvents[t]=this.trackingEvents[t].concat(e.slice(0)):this.trackingEvents[t]=e.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):"companionAd"===this.variation.adType&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}},{key:"setDuration",value:function(t){this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}}},{key:"setProgress",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this.skipDelay||-1;if(-1===r||this.skippable||(t<r?this.emit("skip-countdown",r-t):(this.skippable=!0,this.emit("skip-countdown",0))),0<this.assetDuration){var i=Math.round(t/this.assetDuration*100),o=[];if(0<t){o.push("start");for(var a,s=this.lastPercentage;s<i;s++)o.push("progress-".concat(s+1,"%"));for(a in o.push("progress-".concat(Math.round(t))),this.quartiles)this.isQuartileReached(a,this.quartiles[a],t)&&(o.push(a),this._alreadyTriggeredQuartiles[a]=!0);this.lastPercentage=i}o.forEach(function(t){e.track(t,{macros:n,once:!0})}),t<this.progress&&this.track("rewind",{macros:n})}this.progress=t}},{key:"isQuartileReached",value:function(t,e,n){var r=!1;return r=e<=n&&!this._alreadyTriggeredQuartiles[t]?!0:r}},{key:"setMuted",value:function(t){this.muted!==t&&this.track(t?"mute":"unmute",{macros:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}),this.muted=t}},{key:"setPaused",value:function(t){this.paused!==t&&this.track(t?"pause":"resume",{macros:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}),this.paused=t}},{key:"setFullscreen",value:function(t){this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen",{macros:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}),this.fullscreen=t}},{key:"setExpand",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.expanded!==t&&(this.track(t?"expand":"collapse",{macros:e}),this.track(t?"playerExpand":"playerCollapse",{macros:e})),this.expanded=t}},{key:"setSkipDelay",value:function(t){"number"==typeof t&&(this.skipDelay=t)}},{key:"trackImpression",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,t),this.track("creativeView",{macros:t}))}},{key:"error",value:function(){this.trackURLs(this.ad.errorURLTemplates,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{isCustomCode:1<arguments.length&&void 0!==arguments[1]&&arguments[1]})}},{key:"errorWithCode",value:function(t){this.error({ERRORCODE:t},1<arguments.length&&void 0!==arguments[1]&&arguments[1]),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")}},{key:"complete",value:function(){this.track("complete",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"notUsed",value:function(){this.track("notUsed",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}),this.trackingEvents=[]}},{key:"otherAdInteraction",value:function(){this.track("otherAdInteraction",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"acceptInvitation",value:function(){this.track("acceptInvitation",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"adExpand",value:function(){this.track("adExpand",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"adCollapse",value:function(){this.track("adCollapse",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"minimize",value:function(){this.track("minimize",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"verificationNotExecuted",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");var n=this.ad.adVerifications.find(function(t){return t.vendor===e});if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));n=n.trackingEvents;n&&n.verificationNotExecuted&&(n=n.verificationNotExecuted,this.trackURLs(n,t),this.emit("verificationNotExecuted",{trackingURLTemplates:n}))}},{key:"overlayViewDuration",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.ADPLAYHEAD=t,this.track("overlayViewDuration",{macros:e})}},{key:"close",value:function(){this.track(this.linear?"closeLinear":"close",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"skip",value:function(){this.track("skip",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"load",value:function(){this.track("loaded",{macros:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"click",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,e);t=this.clickThroughURLTemplate||t,e=o({},e);t&&(this.progress&&(e.ADPLAYHEAD=this.progressFormatted()),e=_.resolveURLTemplates([t],e)[0],this.emit("clickthrough",e))}},{key:"track",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.macros,r=void 0===n?{}:n,i=e.once,n=void 0!==i&&i;"closeLinear"===t&&!this.trackingEvents[t]&&this.trackingEvents.close&&(t="close");e=this.trackingEvents[t],i=-1<this.emitAlwaysEvents.indexOf(t);e?(this.emit(t,{trackingURLTemplates:e}),this.trackURLs(e,r)):i&&this.emit(t,null),n&&(delete this.trackingEvents[t],i&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(t),1))}},{key:"trackURLs",value:function(t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=o({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(n.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(n.ADPLAYHEAD=this.progressFormatted())),this.creative&&this.creative.universalAdId&&this.creative.universalAdId.idRegistry&&this.creative.universalAdId.value&&(n.UNIVERSALADID="".concat(this.creative.universalAdId.idRegistry," ").concat(this.creative.universalAdId.value)),this.ad&&(this.ad.sequence&&(n.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(n.ADTYPE=this.ad.adType),this.ad.adServingId&&(n.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(n.ADCATEGORIES=this.ad.categories.map(function(t){return t.value}).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(n.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories)),_.track(t,n,e)}},{key:"convertToTimecode",value:function(t){var e=1e3*t,n=Math.floor(e/36e5),r=Math.floor(e/6e4%60),t=Math.floor(e/1e3%60),e=Math.floor(e%1e3);return"".concat(_.leftpad(n,2),":").concat(_.leftpad(r,2),":").concat(_.leftpad(t,2),".").concat(_.leftpad(e,3))}},{key:"progressFormatted",value:function(){return this.convertToTimecode(this.progress)}}]),c}();function X(t,e,n){l(this,X),this.cappingFreeLunch=t||0,this.cappingMinimumTimeInterval=e||0,this.defaultOptions={withCredentials:!1,timeout:0},this.vastParser=new G,this.storage=n||new q,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}function Q(){l(this,Q),this.storage=this.initStorage()}t.VASTClient=$,t.VASTParser=G,t.VASTTracker=J,Object.defineProperty(t,"__esModule",{value:!0})}(e)},4126:(t,e,n)=>{"use strict";function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,{ValidationError:()=>vn,addMethod:()=>function(t,e,n){if(!t||!fn(t.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!=typeof e)throw new TypeError("A Method name must be provided");if("function"!=typeof n)throw new TypeError("Method function must be provided");t.prototype[e]=n},array:()=>qr,bool:()=>pr,boolean:()=>Qr,date:()=>Sr,isSchema:()=>fn,lazy:()=>ti,mixed:()=>nr,number:()=>Tr,object:()=>Yr,reach:()=>Jn,ref:()=>Zr,setLocale:()=>function(n){Object.keys(n).forEach(function(e){Object.keys(n[e]).forEach(function(t){hn[e][t]=n[e][t]})})},string:()=>Er});var i=Object.prototype.hasOwnProperty;function o(t,e){return null!=t&&i.call(t,e)}const h=Array.isArray;var a="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,c=a||s||Function("return this")(),l=c.Symbol,u=Object.prototype,p=u.hasOwnProperty,d=u.toString,f=l?l.toStringTag:void 0;const g=function(t){var e=p.call(t,f),n=t[f];try{var r=!(t[f]=void 0)}catch(t){}var i=d.call(t);return r&&(e?t[f]=n:delete t[f]),i};var m=Object.prototype.toString;const y=function(t){return m.call(t)};var E=l?l.toStringTag:void 0;const T=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(E&&E in Object(t)?g:y)(t)},b=function(t){return null!=t&&"object"==typeof t},_=function(t){return"symbol"==typeof t||b(t)&&"[object Symbol]"==T(t)};var w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/;function C(t,e){if(!h(t)){var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_(t))||S.test(t)||!w.test(t)||null!=e&&t in Object(e)}}const A=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},I=function(t){if(!A(t))return!1;t=T(t);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var O=c["__core-js_shared__"],P=(Pt=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+Pt:"";const x=function(t){return!!P&&P in t};var R=Function.prototype.toString;const L=function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var N=/^\[object .+?Constructor\]$/,k=Function.prototype,D=Object.prototype,M=k.toString,j=D.hasOwnProperty,V=RegExp("^"+M.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U(t,e){return e=e,t=null==(t=t)?void 0:t[e],e=t,!A(e)||x(e)||!(I(e)?V:N).test(L(e))?void 0:t}const F=U(Object,"create");var B=Object.prototype.hasOwnProperty,W=Object.prototype.hasOwnProperty;function H(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}H.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},H.prototype.delete=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t},H.prototype.get=function(t){var e=this.__data__;if(F){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return B.call(e,t)?e[t]:void 0},H.prototype.has=function(t){var e=this.__data__;return F?void 0!==e[t]:W.call(e,t)},H.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=F&&void 0===e?"__lodash_hash_undefined__":e,this};const z=H;function G(t,e){for(var n=t.length;n--;)if(K(t[n][0],e))return n;return-1}const K=function(t,e){return t===e||t!=t&&e!=e};var Y=Array.prototype.splice;function q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(t){var e=this.__data__,t=G(e,t);return!(t<0||(t==e.length-1?e.pop():Y.call(e,t,1),--this.size,0))},q.prototype.get=function(t){var e=this.__data__,t=G(e,t);return t<0?void 0:e[t][1]},q.prototype.has=function(t){return-1<G(this.__data__,t)},q.prototype.set=function(t,e){var n=this.__data__,r=G(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};const $=q,J=U(c,"Map");function X(t,e){return t=t.__data__,Q(e)?t["string"==typeof e?"string":"hash"]:t.map}const Q=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Z.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(J||$),string:new z}},Z.prototype.delete=function(t){t=X(this,t).delete(t);return this.size-=t?1:0,t},Z.prototype.get=function(t){return X(this,t).get(t)},Z.prototype.has=function(t){return X(this,t).has(t)},Z.prototype.set=function(t,e){var n=X(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const tt=Z;function et(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(et.Cache||tt),o}et.Cache=tt;const nt=et;var rt,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/\\(\\)?/g;const at=(rt=(e=nt(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(it,function(t,e,n,r){i.push(n?r.replace(ot,"$1"):e||t)}),i},function(t){return 500===rt.size&&rt.clear(),t})).cache,e),st=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var s=l?l.prototype:void 0,ct=s?s.toString:void 0;function lt(t){if("string"==typeof t)return t;if(h(t))return st(t,lt)+"";if(_(t))return ct?ct.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}const ut=function(t){return null==t?"":lt(t)},pt=function(t,e){return h(t)?t:C(t,e)?[t]:at(ut(t))};var u=function(t){return b(t)&&"[object Arguments]"==T(t)},O=Object.prototype,dt=O.hasOwnProperty,ht=O.propertyIsEnumerable;const ft=u(function(){return arguments}())?u:function(t){return b(t)&&dt.call(t,"callee")&&!ht.call(t,"callee")};var gt=/^(?:0|[1-9]\d*)$/;function mt(t,e,n){for(var r=-1,i=(e=pt(e,t)).length,o=!1;++r<i;){var a=Et(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&vt(i)&&yt(a,i)&&(h(t)||ft(t))}const yt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&gt.test(t))&&-1<t&&t%1==0&&t<e},vt=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},Et=function(t){if("string"==typeof t||_(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Tt=function(t,e){return null!=t&&mt(t,e,o)};function bt(t){t=this.__data__=new $(t);this.size=t.size}bt.prototype.clear=function(){this.__data__=new $,this.size=0},bt.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof $){var r=n.__data__;if(!J||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tt(r)}return n.set(t,e),this.size=n.size,this};const _t=bt,wt=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},St=function(){try{var t=U(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ct=function(t,e,n){"__proto__"==e&&St?St(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var At=Object.prototype.hasOwnProperty;function It(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],c=r?r(n[s],t[s],s,n,t):void 0;void 0===c&&(c=t[s]),(i?Ct:Ot)(n,s,c)}return n}const Ot=function(t,e,n){var r=t[e];At.call(t,e)&&K(r,n)&&(void 0!==n||e in t)||Ct(t,e,n)};var Pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,k=Pt&&"object"==typeof module&&module&&!module.nodeType&&module,D=k&&k.exports===Pt?c.Buffer:void 0;const xt=(D?D.isBuffer:void 0)||function(){return!1};var Rt={};Rt["[object Float32Array]"]=Rt["[object Float64Array]"]=Rt["[object Int8Array]"]=Rt["[object Int16Array]"]=Rt["[object Int32Array]"]=Rt["[object Uint8Array]"]=Rt["[object Uint8ClampedArray]"]=Rt["[object Uint16Array]"]=Rt["[object Uint32Array]"]=!0,Rt["[object Arguments]"]=Rt["[object Array]"]=Rt["[object ArrayBuffer]"]=Rt["[object Boolean]"]=Rt["[object DataView]"]=Rt["[object Date]"]=Rt["[object Error]"]=Rt["[object Function]"]=Rt["[object Map]"]=Rt["[object Number]"]=Rt["[object Object]"]=Rt["[object RegExp]"]=Rt["[object Set]"]=Rt["[object String]"]=Rt["[object WeakMap]"]=!1;var M=function(e){return function(t){return e(t)}},j="object"==typeof exports&&exports&&!exports.nodeType&&exports,Lt=j&&"object"==typeof module&&module&&!module.nodeType&&module,Nt=Lt&&Lt.exports===j&&a.process,e=function(){try{return Lt&&Lt.require&&Lt.require("util").types||Nt&&Nt.binding&&Nt.binding("util")}catch(t){}}(),s=e&&e.isTypedArray;const kt=s?M(s):function(t){return b(t)&&vt(t.length)&&!!Rt[T(t)]};var Dt=Object.prototype.hasOwnProperty;function Mt(t,e){var n,r=h(t),i=!r&&ft(t),o=!r&&!i&&xt(t),a=!r&&!i&&!o&&kt(t),s=r||i||o||a,c=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=c.length;for(n in t)!e&&!Dt.call(t,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||yt(n,l))||c.push(n);return c}var jt=Object.prototype;function Vt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jt)}O=function(e,n){return function(t){return e(n(t))}};const Ut=O(Object.keys,Object);var Ft=Object.prototype.hasOwnProperty;function Bt(t){return null!=t&&vt(t.length)&&!I(t)}const Wt=function(t){return(Bt(t)?Mt:function(t){if(!Vt(t))return Ut(t);var e,n=[];for(e in Object(t))Ft.call(t,e)&&"constructor"!=e&&n.push(e);return n})(t)},Ht=function(t,e){return t&&It(e,Wt(e),t)};var zt=Object.prototype.hasOwnProperty;function Gt(t){if(!A(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e,n=Vt(t),r=[];for(e in t)("constructor"!=e||!n&&zt.call(t,e))&&r.push(e);return r}const Kt=function(t){return Bt(t)?Mt(t,!0):Gt(t)},Yt=function(t,e){return t&&It(e,Kt(e),t)};var u="object"==typeof exports&&exports&&!exports.nodeType&&exports,k=u&&"object"==typeof module&&module&&!module.nodeType&&module,Pt=k&&k.exports===u?c.Buffer:void 0,qt=Pt?Pt.allocUnsafe:void 0;const $t=function(t,e){if(e)return t.slice();e=t.length,e=qt?qt(e):new t.constructor(e);return t.copy(e),e},Jt=function(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e};var D=function(){return[]},Xt=Object.prototype.propertyIsEnumerable,Qt=Object.getOwnPropertySymbols;function Zt(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function te(t,e,n){return e=e(t),h(t)?e:Zt(e,n(t))}const ee=Qt?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(Qt(e),function(t){return Xt.call(e,t)}))}:D,ne=function(t,e){return It(t,ee(t),e)},re=O(Object.getPrototypeOf,Object),ie=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Zt(e,ee(t)),t=re(t);return e}:D,oe=function(t,e){return It(t,ie(t),e)},ae=function(t){return te(t,Wt,ee)},se=function(t){return te(t,Kt,ie)},ce=U(c,"DataView"),le=U(c,"Promise"),ue=U(c,"Set"),pe=U(c,"WeakMap");var de="[object Map]",he="[object Promise]",fe="[object Set]",ge="[object WeakMap]",me="[object DataView]",ye=L(ce),ve=L(J),Ee=L(le),Te=L(ue),be=L(pe),j=T;const _e=j=ce&&j(new ce(new ArrayBuffer(1)))!=me||J&&j(new J)!=de||le&&j(le.resolve())!=he||ue&&j(new ue)!=fe||pe&&j(new pe)!=ge?function(t){var e=T(t),t="[object Object]"==e?t.constructor:void 0,t=t?L(t):"";if(t)switch(t){case ye:return me;case ve:return de;case Ee:return he;case Te:return fe;case be:return ge}return e}:j;var we=Object.prototype.hasOwnProperty;function Se(t){var e=new t.constructor(t.byteLength);return new Ae(e).set(new Ae(t)),e}const Ce=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&we.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ae=c.Uint8Array;var Ie=/\w*$/;var a=l?l.prototype:void 0,Oe=a?a.valueOf:void 0;const Pe=function(t,e,n){var r,i,o=t.constructor;switch(e){case"[object ArrayBuffer]":return Se(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){e=e?Se(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){e=e?Se(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(i=new(r=t).constructor(r.source,Ie.exec(r))).lastIndex=r.lastIndex,i;case"[object Set]":return new o;case"[object Symbol]":return i=t,Oe?Object(Oe.call(i)):{}}};var xe=Object.create;const Re=function(t){if(!A(t))return{};if(xe)return xe(t);Le.prototype=t;t=new Le;return Le.prototype=void 0,t};function Le(){}const Ne=function(t){return"function"!=typeof t.constructor||Vt(t)?{}:Re(re(t))};s=e&&e.isMap;const ke=s?M(s):function(t){return b(t)&&"[object Map]"==_e(t)};k=e&&e.isSet;const De=k?M(k):function(t){return b(t)&&"[object Set]"==_e(t)};var Me="[object Arguments]",je="[object Function]",Ve="[object Object]",Ue={};Ue[Me]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object DataView]"]=Ue["[object Boolean]"]=Ue["[object Date]"]=Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue["[object Object]"]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object Symbol]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Error]"]=Ue[je]=Ue["[object WeakMap]"]=!1;function Fe(n,r,i,t,e,o){var a,s=1&r,c=2&r,l=4&r;if(void 0!==(a=i?e?i(n,t,e,o):i(n):a))return a;if(!A(n))return n;var u=h(n);if(u){if(a=Ce(n),!s)return Jt(n,a)}else{var p=_e(n),t=p==je||"[object GeneratorFunction]"==p;if(xt(n))return $t(n,s);if(p==Ve||p==Me||t&&!e){if(a=c||t?{}:Ne(n),!s)return c?oe(n,Yt(a,n)):ne(n,Ht(a,n))}else{if(!Ue[p])return e?n:{};a=Pe(n,p,s)}}if(s=(o=o||new _t).get(n))return s;o.set(n,a),De(n)?n.forEach(function(t){a.add(Fe(t,r,i,t,n,o))}):ke(n)&&n.forEach(function(t,e){a.set(e,Fe(t,r,i,e,n,o))});var d=u?void 0:(l?c?se:ae:c?Kt:Wt)(n);return wt(d||n,function(t,e){d&&(t=n[e=t]),Ot(a,e,Fe(t,r,i,e,n,o))}),a}function Be(t,e){return Fe(t,5,e="function"==typeof e?e:void 0)}const We=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r},He=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n},ze=function(t){return t.split("")};var Ge=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Ke=function(t){return Ge.test(t)};var u="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pt="\\ud83c[\\udffb-\\udfff]",O="[^\\ud800-\\udfff]",D="(?:\\ud83c[\\udde6-\\uddff]){2}",j="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+u+"|"+Pt+")?",a="[\\ufe0e\\ufe0f]?",s=a+c+"(?:\\u200d(?:"+[O,D,j].join("|")+")"+a+c+")*",e="(?:"+[O+u+"?",u,D,j,"[\\ud800-\\udfff]"].join("|")+")",Ye=RegExp(Pt+"(?="+Pt+")|"+e+s,"g");function qe(t){return(Ke(t)?$e:ze)(t)}const $e=function(t){return t.match(Ye)||[]},Je=function(e,t){return st(t,function(t){return e[t]})};var Xe=l?l.iterator:void 0;function Qe(t){if(!t)return[];if(Bt(t))return("string"==typeof(e=t)||!h(e)&&b(e)&&"[object String]"==T(e)?qe:Jt)(t);if(Xe&&t[Xe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Xe]());var e=_e(t);return("[object Map]"==e?We:"[object Set]"==e?He:function(t){return null==t?[]:Je(t,Wt(t))})(t)}var Ze=Object.prototype.toString,tn=Error.prototype.toString,en=RegExp.prototype.toString,nn="undefined"!=typeof Symbol?Symbol.prototype.toString:function(){return""},rn=/^Symbol\((.*)\)(.*)$/;function on(t,e){if(void 0===e&&(e=!1),null==t||!0===t||!1===t)return""+t;var n=typeof t;if("number"==n)return t!=+t?"NaN":0===t&&1/t<0?"-0":""+t;if("string"==n)return e?'"'+t+'"':t;if("function"==n)return"[Function "+(t.name||"anonymous")+"]";if("symbol"==n)return nn.call(t).replace(rn,"Symbol($1)");n=Ze.call(t).slice(8,-1);return"Date"===n?isNaN(t.getTime())?""+t:t.toISOString(t):"Error"===n||t instanceof Error?"["+tn.call(t)+"]":"RegExp"===n?en.call(t):null}function an(t,n){var e=on(t,n);return null!==e?e:JSON.stringify(t,function(t,e){t=on(this[t],n);return null!==t?t:e},2)}var sn={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(t){var e=t.path,n=t.type,r=t.value,i=t.originalValue,t=null!=i&&i!==r,i=e+" must be a `"+n+"` type, but the final value was: `"+an(r,!0)+"`"+(t?" (cast from the value `"+an(i,!0)+"`).":".");return null===r&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},cn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ln={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",notEqual:"${path} must be not equal to ${notEqual}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},un={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},pn={noUnknown:"${path} field has unspecified keys: ${unknown}"},dn={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items"};const hn=v(Object.create(null),{mixed:sn,string:cn,number:ln,date:un,object:pn,array:dn,boolean:{}}),fn=function(t){return t&&t.__isYupSchema__},gn=(mn.prototype.resolve=function(t,e){var n=this.refs.map(function(t){return t.getValue(null==e?void 0:e.value,null==e?void 0:e.parent,null==e?void 0:e.context)}),n=this.fn.apply(t,n.concat(t,e));if(void 0===n||n===t)return t;if(!fn(n))throw new TypeError("conditions must return a schema object");return n.resolve(e)},mn);function mn(t,e){if(this.refs=t,"function"!=typeof e){if(!Tt(e,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=e.is,a=e.then,s=e.otherwise,c="function"==typeof r?r:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.every(function(t){return t===r})};this.fn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.pop(),i=e.pop(),o=c.apply(void 0,e)?a:s;if(o)return"function"==typeof o?o(i):i.concat(o.resolve(r))}}else this.fn=e}var yn=/\$\{\s*(\w+)\s*\}/g;function vn(t,e,n,r){var i=this;this.name="ValidationError",this.value=e,this.path=n,this.type=r,this.errors=[],this.inner=[],t&&[].concat(t).forEach(function(t){i.errors=i.errors.concat(t.errors||t),t.inner&&(i.inner=i.inner.concat(t.inner.length?t.inner:t))}),this.message=1<this.errors.length?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,vn)}((vn.prototype=Object.create(Error.prototype)).constructor=vn).isError=function(t){return t&&"ValidationError"===t.name},vn.formatError=function(t,n){var e=n.label||n.path||"this";return e!==n.path&&(n=v({},n,{path:e})),"string"==typeof t?t.replace(yn,function(t,e){return an(n[e])}):"function"==typeof t?t(n):t};function En(t,e){var n,r,i=t.endEarly,o=t.tests,a=t.args,s=t.value,c=t.errors,l=t.sort,u=t.path,p=(n=e,r=!1,function(){r||(r=!0,n.apply(void 0,arguments))}),d=o.length;if(!d)return p(null,s);for(var h=[],c=c||[],f=0;f<o.length;f++)(0,o[f])(a,function(t){if(t){if(!vn.isError(t))return p(t);if(i)return t.value=s,p(t);h.push(t)}--d<=0&&(h.length&&(l&&h.sort(l),c.length&&h.push.apply(h,c),c=h),c.length?p(new vn(c,s,u)):p(null,s))})}function Tn(t){return"[object Object]"===Object.prototype.toString.call(t)}const bn=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var s=o[++r];if(!1===e(i[s],s,i))break}return t},_n=function(t,e){return t&&bn(t,e,Wt)};function wn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new tt;++e<n;)this.add(t[e])}wn.prototype.add=wn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wn.prototype.has=function(t){return this.__data__.has(t)};function Sn(t,e,n,r,i,o){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&s<c))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var u=-1,p=!0,d=2&n?new Cn:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var h,f=t[u],g=e[u];if(void 0!==(h=r?a?r(g,f,u,e,t,o):r(f,g,u,t,e,o):h)){if(h)continue;p=!1;break}if(d){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){return!d.has(e)&&(f===t||i(f,t,n,r,o))&&d.push(e)})){p=!1;break}}else if(f!==g&&!i(f,g,n,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}const Cn=wn;var M=l?l.prototype:void 0,An=M?M.valueOf:void 0;var In=Object.prototype.hasOwnProperty;var On="[object Arguments]",Pn="[object Array]",xn="[object Object]",Rn=Object.prototype.hasOwnProperty;function Ln(t,e,n,r,i,o){var a=h(t),s=h(e),c=a?Pn:_e(t),l=s?Pn:_e(e),u=(c=c==On?xn:c)==xn,s=(l=l==On?xn:l)==xn;if((l=c==l)&&xt(t)){if(!xt(e))return!1;u=!(a=!0)}if(l&&!u)return o=o||new _t,a||kt(t)?Sn(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Ae(t),new Ae(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return K(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=We;case"[object Set]":var c=1&r,s=s||He;if(t.size!=e.size&&!c)return!1;c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);s=Sn(s(t),s(e),r,i,o,a);return a.delete(t),s;case"[object Symbol]":if(An)return An.call(t)==An.call(e)}return!1}(t,e,c,n,r,i,o);if(!(1&n)){u=u&&Rn.call(t,"__wrapped__"),s=s&&Rn.call(e,"__wrapped__");if(u||s)return i(u?t.value():t,s?e.value():e,n,r,o=o||new _t)}return!!l&&function(t,e,n,r,i,o){var a=1&n,s=ae(t),c=s.length;if(c!=ae(e).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in e:In.call(e,u)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var h=!0;o.set(t,e),o.set(e,t);for(var f=a;++l<c;){var g,m=t[u=s[l]],y=e[u];if(!(void 0===(g=r?a?r(y,m,u,e,t,o):r(m,y,u,t,e,o):g)?m===y||i(m,y,n,r,o):g)){h=!1;break}f=f||"constructor"==u}return!h||f||(p=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof p&&p instanceof p&&"function"==typeof d&&d instanceof d)&&(h=!1),o.delete(t),o.delete(e),h}(t,e,n,r,i,o=o||new _t)}function Nn(t,e,n,r,i){return t===e||(null==t||null==e||!b(t)&&!b(e)?t!=t&&e!=e:Ln(t,e,n,r,Nn,i))}function kn(t){return t==t&&!A(t)}function Dn(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}function Mn(t,e){for(var n=0,r=(e=pt(e,t)).length;null!=t&&n<r;)t=t[Et(e[n++])];return n&&n==r?t:void 0}function jn(t,e){return null!=t&&e in Object(t)}function Vn(t,r){var i={};return r=Hn(r,3),_n(t,function(t,e,n){Ct(i,e,r(t,e,n))}),i}const Un=function(e){var n=function(t){for(var e=Wt(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,kn(i)]}return e}(e);return 1==n.length&&n[0][2]?Dn(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var c=(s=n[i])[0],l=t[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in t))return!1}else{var p,d=new _t;if(!(void 0===(p=r?r(l,u,c,t,e,d):p)?Nn(u,l,3,r,d):p))return!1}}return!0}(t,e,n)}},Fn=function(r,i){return C(r)&&kn(i)?Dn(Et(r),i):function(t){var e,n=function(t,e,n){e=null==t?void 0:Mn(t,e);return void 0===e?n:e}(t,r);return void 0===n&&n===i?(e=r,null!=(t=t)&&mt(t,e,jn)):Nn(i,n,3)}},Bn=function(t){return t},Wn=function(t){return C(t)?(n=Et(t),function(t){return null==t?void 0:t[n]}):(e=t,function(t){return Mn(t,e)});var e,n},Hn=function(t){return"function"==typeof t?t:null==t?Bn:"object"==typeof t?h(t)?Fn(t[0],t[1]):Un(t):Wn(t)};var zn=n(9851),Gn=((k=Kn.prototype).getValue=function(t,e,n){e=this.isContext?n:this.isValue?t:e;return this.getter&&(e=this.getter(e||{})),e=this.map?this.map(e):e},k.cast=function(t,e){return this.getValue(t,null==e?void 0:e.parent,null==e?void 0:e.context)},k.resolve=function(){return this},k.describe=function(){return{type:"ref",key:this.key}},k.toString=function(){return"Ref("+this.key+")"},Kn.isRef=function(t){return t&&t.__isYupRef},Kn);function Kn(t,e){if(void 0===e&&(e={}),"string"!=typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext="$"===this.key[0],this.isValue="."===this.key[0],this.isSibling=!this.isContext&&!this.isValue;t=this.isContext?"$":this.isValue?".":"";this.path=this.key.slice(t.length),this.getter=this.path&&(0,zn.getter)(this.path,!0),this.map=e.map}Gn.prototype.__isYupRef=!0;var Yn=n(7017);function qn(y){function t(t,e){var n=t.value,r=t.path,i=t.label,o=t.options,a=t.originalValue,s=t.sync,c=function(t,e){if(null==t)return{};for(var n,r={},i=Object.keys(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||(r[n]=t[n]);return r}(t,["value","path","label","options","originalValue","sync"]),l=y.name,t=y.test,u=y.params,p=y.message,d=o.parent,h=o.context;function f(t){return Gn.isRef(t)?t.getValue(n,d,h):t}function g(t){void 0===t&&(t={});var e=Vn(v({value:n,originalValue:a,label:i,path:t.path||r},u,t.params),f),t=new vn(vn.formatError(t.message||p,e),n,e.path,t.type||l);return t.params=e,t}var m,c=v({path:r,parent:d,type:l,createError:g,resolve:f,options:o,originalValue:a},c);if(s){try{if("function"==typeof(null==(m=t.call(c,n,c))?void 0:m.then))throw new Error('Validation test of type: "'+c.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned')}catch(t){return void e(t)}vn.isError(m)?e(m):m?e(null,m):e(g())}else try{Yn.resolve(t.call(c,n,c)).then(function(t){vn.isError(t)?e(t):t?e(null,t):e(g())})}catch(t){e(t)}}return t.OPTIONS=y,t}function $n(o,a,s,c){var l,u,p;return void 0===c&&(c=s),a?((0,zn.forEach)(a,function(t,e,n){var r=e?t.substr(0,t.length-1).substr(1):t;if((o=o.resolve({context:c,parent:l,value:s})).innerType){var i=n?parseInt(r,10):0;if(s&&i>=s.length)throw new Error("Yup.reach cannot resolve an array item at index: "+t+", in the path: "+a+". because there is no value at that index. ");s=(l=s)&&s[i],o=o.innerType}if(!n){if(!o.fields||!o.fields[r])throw new Error("The schema does not contain the path: "+a+". (failed at: "+p+' which is a type: "'+o._type+'")');s=(l=s)&&s[r],o=o.fields[r]}u=r,p=e?"["+t+"]":"."+t}),{schema:o,parent:l,parentPath:u}):{parent:l,parentPath:a,schema:o}}const Jn=function(t,e,n,r){return $n(t,e,n,r).schema};var Xn=n(7017);function Qn(t,e){var n;if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator])return(n=t[Symbol.iterator]()).next.bind(n);if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return Zn(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Zn(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tr=((a=er.prototype).describe=function(){for(var t=[],e=Qn(this.list);!(n=e()).done;){var n=n.value;t.push(n)}for(var r=Qn(this.refs);!(i=r()).done;){var i=i.value[1];t.push(i.describe())}return t},a.toArray=function(){return Qe(this.list).concat(Qe(this.refs.values()))},a.add=function(t){Gn.isRef(t)?this.refs.set(t.key,t):this.list.add(t)},a.delete=function(t){Gn.isRef(t)?this.refs.delete(t.key):this.list.delete(t)},a.has=function(t,e){if(this.list.has(t))return!0;for(var n,r=this.refs.values();!(n=r.next()).done;)if(e(n.value)===t)return!0;return!1},a.clone=function(){var t=new er;return t.list=new Set(this.list),t.refs=new Map(this.refs),t},a.merge=function(t,e){var n=this.clone();return t.list.forEach(function(t){return n.add(t)}),t.refs.forEach(function(t){return n.add(t)}),e.list.forEach(function(t){return n.delete(t)}),e.refs.forEach(function(t){return n.delete(t)}),n},r(er.prototype,[{key:"size",get:function(){return this.list.size+this.refs.size}}]),er);function er(){this.list=new Set,this.refs=new Map}function nr(t){var e=this;if(void 0===t&&(t={}),!(this instanceof nr))return new nr;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new tr,this._blacklist=new tr,this.tests=[],this.transforms=[],this.withMutation(function(){e.typeError(sn.notType)}),Tt(t,"default")&&(this._defaultDefault=t.default),this.type=t.type||"mixed",this._type=t.type||"mixed"}for(var rr=nr.prototype={__isYupSchema__:!0,constructor:nr,clone:function(){var n=this;return this._mutate?this:Be(this,function(t,e){return fn(t)&&t!==n?t:"_whitelist"===e||"_blacklist"===e?t.clone():void 0})},label:function(t){var e=this.clone();return e._label=t,e},meta:function(t){if(0===arguments.length)return this._meta;var e=this.clone();return e._meta=v(e._meta||{},t),e},withMutation:function(t){var e=this._mutate;this._mutate=!0;t=t(this);return this._mutate=e,t},concat:function(t){if(!t||t===this)return this;if(t._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+t._type);var e=function t(e,n){for(var r in n)if(Tt(n,r)){var i=n[r],o=e[r];if(void 0===o)e[r]=i;else{if(o===i)continue;fn(o)?fn(i)&&(e[r]=i.concat(o)):Tn(o)?Tn(i)&&(e[r]=t(o,i)):Array.isArray(o)&&Array.isArray(i)&&(e[r]=i.concat(o))}}return e}(t.clone(),this);return Tt(t,"_default")&&(e._default=t._default),e.tests=this.tests,e._exclusive=this._exclusive,e._whitelist=this._whitelist.merge(t._whitelist,t._blacklist),e._blacklist=this._blacklist.merge(t._blacklist,t._whitelist),e.withMutation(function(e){t.tests.forEach(function(t){e.test(t.OPTIONS)})}),e},isType:function(t){return!(!this._nullable||null!==t)||!this._typeCheck||this._typeCheck(t)},resolve:function(n){var t,e=this;return e._conditions.length&&(t=e._conditions,(e=e.clone())._conditions=[],e=(e=t.reduce(function(t,e){return e.resolve(t,n)},e)).resolve(n)),e},cast:function(t,e){var n=this.resolve(v({value:t},e=void 0===e?{}:e)),r=n._cast(t,e);if(void 0===t||!1===e.assert||!0===n.isType(r))return r;t=an(t),r=an(r);throw new TypeError("The value of "+(e.path||"field")+' could not be cast to a value that satisfies the schema type: "'+n._type+'". \n\nattempted value: '+t+" \n"+(r!==t?"result of cast: "+r:""))},_cast:function(n){var r=this,t=void 0===n?n:this.transforms.reduce(function(t,e){return e.call(r,t,n)},n);return t=void 0===t&&Tt(this,"_default")?this.getDefault():t},_validate:function(t,e,n){var r=this,i=e=void 0===e?{}:e,o=i.sync,a=i.path,s=i.from,c=void 0===s?[]:s,l=i.originalValue,s=void 0===l?t:l,l=i.strict,l=void 0===l?this._options.strict:l,i=i.abortEarly,u=void 0===i?this._options.abortEarly:i,p=t;l||(this._validating=!0,p=this._cast(p,v({assert:!1},e)),this._validating=!1);var d={value:p,path:a,options:e,originalValue:s,schema:this,label:this._label,sync:o,from:c},c=[];return this._typeError&&c.push(this._typeError),this._whitelistError&&c.push(this._whitelistError),this._blacklistError&&c.push(this._blacklistError),En({args:d,value:p,path:a,sync:o,tests:c,endEarly:u},function(t){t?n(t):En({tests:r.tests,args:d,path:a,sync:o,value:p,endEarly:u},n)})},validate:function(t,e,n){void 0===e&&(e={});var i=this.resolve(v({},e,{value:t}));return"function"==typeof n?i._validate(t,e,n):new Xn(function(n,r){return i._validate(t,e,function(t,e){t?r(t):n(e)})})},validateSync:function(t,e){var n;return this.resolve(v({},e=void 0===e?{}:e,{value:t}))._validate(t,v({},e,{sync:!0}),function(t,e){if(t)throw t;n=e}),n},isValid:function(t,e){return this.validate(t,e).then(function(){return!0}).catch(function(t){if("ValidationError"===t.name)return!1;throw t})},isValidSync:function(t,e){try{return this.validateSync(t,e),!0}catch(t){if("ValidationError"===t.name)return!1;throw t}},_getDefault:function(){var t=Tt(this,"_default")?this._default:this._defaultDefault;return"function"==typeof t?t.call(this):Be(t)},getDefault:function(t){return this.resolve(t=void 0===t?{}:t)._getDefault()},default:function(t){if(0===arguments.length)return console.warn("Calling `schema.default()` as a getter to retrieve a default is deprecated and will be removed in the next version. \nUse `schema.getDefault()` instead."),this._getDefault();var e=this.clone();return e._default=t,e},strict:function(t){void 0===t&&(t=!0);var e=this.clone();return e._options.strict=t,e},_isPresent:function(t){return null!=t},required:function(t){return void 0===t&&(t=sn.required),this.test({message:t,name:"required",exclusive:!0,test:function(t){return this.schema._isPresent(t)}})},notRequired:function(){var t=this.clone();return t.tests=t.tests.filter(function(t){return"required"!==t.OPTIONS.name}),t},nullable:function(t){void 0===t&&(t=!0);var e=this.clone();return e._nullable=t,e},transform:function(t){var e=this.clone();return e.transforms.push(t),e},test:function(){var e;if(void 0===(e=1===arguments.length?"function"==typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=sn.default),"function"!=typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=qn(e),r=e.exclusive||e.name&&!0===t._exclusive[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t._exclusive[e.name]=!!e.exclusive,t.tests=t.tests.filter(function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0}),t.tests.push(n),t},when:function(t,e){1===arguments.length&&(e=t,t=".");var n=this.clone(),t=[].concat(t).map(function(t){return new Gn(t)});return t.forEach(function(t){t.isSibling&&n._deps.push(t.key)}),n._conditions.push(new gn(t,e)),n},typeError:function(t){var e=this.clone();return e._typeError=qn({message:t,name:"typeError",test:function(t){return!(void 0!==t&&!this.schema.isType(t))||this.createError({params:{type:this.schema._type}})}}),e},oneOf:function(t,e){void 0===e&&(e=sn.oneOf);var n=this.clone();return t.forEach(function(t){n._whitelist.add(t),n._blacklist.delete(t)}),n._whitelistError=qn({message:e,name:"oneOf",test:function(t){if(void 0===t)return!0;var e=this.schema._whitelist;return!!e.has(t,this.resolve)||this.createError({params:{values:e.toArray().join(", ")}})}}),n},notOneOf:function(t,e){void 0===e&&(e=sn.notOneOf);var n=this.clone();return t.forEach(function(t){n._blacklist.add(t),n._whitelist.delete(t)}),n._blacklistError=qn({message:e,name:"notOneOf",test:function(t){var e=this.schema._blacklist;return!e.has(t,this.resolve)||this.createError({params:{values:e.toArray().join(", ")}})}}),n},strip:function(t){void 0===t&&(t=!0);var e=this.clone();return e._strip=t,e},_option:function(t,e){return(Tt(e,t)?e:this._options)[t]},describe:function(){var t=this.clone(),e={type:t._type,meta:t._meta,label:t._label,tests:t.tests.map(function(t){return{name:t.OPTIONS.name,params:t.OPTIONS.params}}).filter(function(e,t,n){return n.findIndex(function(t){return t.name===e.name})===t})};return t._whitelist.size&&(e.oneOf=t._whitelist.describe()),t._blacklist.size&&(e.notOneOf=t._blacklist.describe()),e},defined:function(t){return void 0===t&&(t=sn.defined),this.test({message:t,name:"defined",exclusive:!0,test:function(t){return void 0!==t}})}},ir=0,or=["validate","validateSync"];ir<or.length;ir++)!function(){var o=or[ir];rr[o+"At"]=function(t,e,n){var r=$n(this,t,e,(n=void 0===n?{}:n).context),i=r.parent,e=r.parentPath;return r.schema[o](i&&i[e],v({},n,{parent:i,path:t}))}}();for(var ar=0,sr=["equals","is"];ar<sr.length;ar++)rr[sr[ar]]=rr.oneOf;for(var cr=0,lr=["not","nope"];cr<lr.length;cr++)rr[lr[cr]]=rr.notOneOf;function ur(t,e,n){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),v(t.prototype,n)}rr.optional=rr.notRequired;const pr=dr;function dr(){var t=this;if(!(this instanceof dr))return new dr;nr.call(this,{type:"boolean"}),this.withMutation(function(){t.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(t))return!0;if(/^(false|0)$/i.test(t))return!1}return t})})}ur(dr,nr,{_typeCheck:function(t){return"boolean"==typeof(t=t instanceof Boolean?t.valueOf():t)}});function hr(t){return null==t}function fr(t){return hr(t)||t===t.trim()}var gr=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,mr=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,yr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,vr={}.toString();function Er(){var t=this;if(!(this instanceof Er))return new Er;nr.call(this,{type:"string"}),this.withMutation(function(){t.transform(function(t){if(this.isType(t))return t;if(Array.isArray(t))return t;var e=null!=t&&t.toString?t.toString():t;return e===vr?t:e})})}function Tr(){var t=this;if(!(this instanceof Tr))return new Tr;nr.call(this,{type:"number"}),this.withMutation(function(){t.transform(function(t){if("string"==typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)})})}ur(Er,nr,{_typeCheck:function(t){return"string"==typeof(t=t instanceof String?t.valueOf():t)},_isPresent:function(t){return nr.prototype._isPresent.call(this,t)&&!!t.length},length:function(e,t){return this.test({message:t=void 0===t?cn.length:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return hr(t)||t.length===this.resolve(e)}})},min:function(e,t){return this.test({message:t=void 0===t?cn.min:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return hr(t)||t.length>=this.resolve(e)}})},max:function(e,t){return this.test({name:"max",exclusive:!0,message:t=void 0===t?cn.max:t,params:{max:e},test:function(t){return hr(t)||t.length<=this.resolve(e)}})},matches:function(e,t){var n,r,i=!1;return t&&("object"==typeof t?(i=t.excludeEmptyString,n=t.message,r=t.name):n=t),this.test({name:r||"matches",message:n||cn.matches,params:{regex:e},test:function(t){return hr(t)||""===t&&i||-1!==t.search(e)}})},email:function(t){return this.matches(gr,{name:"email",message:t=void 0===t?cn.email:t,excludeEmptyString:!0})},url:function(t){return this.matches(mr,{name:"url",message:t=void 0===t?cn.url:t,excludeEmptyString:!0})},uuid:function(t){return this.matches(yr,{name:"uuid",message:t=void 0===t?cn.uuid:t,excludeEmptyString:!1})},ensure:function(){return this.default("").transform(function(t){return null===t?"":t})},trim:function(t){return void 0===t&&(t=cn.trim),this.transform(function(t){return null!=t?t.trim():t}).test({message:t,name:"trim",test:fr})},lowercase:function(t){return void 0===t&&(t=cn.lowercase),this.transform(function(t){return hr(t)?t:t.toLowerCase()}).test({message:t,name:"string_case",exclusive:!0,test:function(t){return hr(t)||t===t.toLowerCase()}})},uppercase:function(t){return void 0===t&&(t=cn.uppercase),this.transform(function(t){return hr(t)?t:t.toUpperCase()}).test({message:t,name:"string_case",exclusive:!0,test:function(t){return hr(t)||t===t.toUpperCase()}})}}),ur(Tr,nr,{_typeCheck:function(t){return"number"==typeof(t=t instanceof Number?t.valueOf():t)&&!(t!=+t)},min:function(e,t){return this.test({message:t=void 0===t?ln.min:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return hr(t)||t>=this.resolve(e)}})},max:function(e,t){return this.test({message:t=void 0===t?ln.max:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return hr(t)||t<=this.resolve(e)}})},lessThan:function(e,t){return this.test({message:t=void 0===t?ln.lessThan:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return hr(t)||t<this.resolve(e)}})},moreThan:function(e,t){return this.test({message:t=void 0===t?ln.moreThan:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return hr(t)||t>this.resolve(e)}})},positive:function(t){return this.moreThan(0,t=void 0===t?ln.positive:t)},negative:function(t){return this.lessThan(0,t=void 0===t?ln.negative:t)},integer:function(t){return this.test({name:"integer",message:t=void 0===t?ln.integer:t,test:function(t){return hr(t)||Number.isInteger(t)}})},truncate:function(){return this.transform(function(t){return hr(t)?t:0|t})},round:function(e){var t=["ceil","floor","round","trunc"];if("trunc"===(e=e&&e.toLowerCase()||"round"))return this.truncate();if(-1===t.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+t.join(", "));return this.transform(function(t){return hr(t)?t:Math[e](t)})}});var br,_r=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,wr=new Date("");const Sr=Cr;function Cr(){var t=this;if(!(this instanceof Cr))return new Cr;nr.call(this,{type:"date"}),this.withMutation(function(){t.transform(function(t){return this.isType(t)?t:(t=function(t){var e,n,r=[1,4,5,6,7,10,11],i=0;if(n=_r.exec(t)){for(var o,a=0;o=r[a];++a)n[o]=+n[o]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,e=void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else e=Date.parse?Date.parse(t):NaN;return e}(t),isNaN(t)?wr:new Date(t))})})}ur(Cr,nr,{_typeCheck:function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},min:function(t,e){void 0===e&&(e=un.min);var n=t;if(!Gn.isRef(n)&&(n=this.cast(t),!this._typeCheck(n)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:e,name:"min",exclusive:!0,params:{min:t},test:function(t){return hr(t)||t>=this.resolve(n)}})},max:function(t,e){void 0===e&&(e=un.max);var n=t;if(!Gn.isRef(n)&&(n=this.cast(t),!this._typeCheck(n)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:e,name:"max",exclusive:!0,params:{max:t},test:function(t){return hr(t)||t<=this.resolve(n)}})}});const Ar=(br={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},function(t){return null==br?void 0:br[t]});var Ir=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Or=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var Pr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const xr=function(t){return t.match(Pr)||[]};var Rr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const Lr=function(t){return Rr.test(t)};var c="a-z\\xdf-\\xf6\\xf8-\\xff",O="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",D="["+u+"]",j="\\d+",Pt="["+c+"]",e="[^\\ud800-\\udfff"+u+j+"\\u2700-\\u27bf"+c+O+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",M="["+O+"]",k="(?:"+Pt+"|"+e+")",a="(?:"+M+"|"+e+")",u="(?:['](?:d|ll|m|re|s|t|ve))?",c="(?:['](?:D|LL|M|RE|S|T|VE))?",O="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",e="[\\ufe0e\\ufe0f]?",O=e+O+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",s,l].join("|")+")"+e+O+")*",O="(?:"+["[\\u2700-\\u27bf]",s,l].join("|")+")"+O,Nr=RegExp([M+"?"+Pt+"+"+u+"(?="+[D,M,"$"].join("|")+")",a+"+"+c+"(?="+[D,M+k,"$"].join("|")+")",M+"?"+k+"+"+u,M+"+"+c,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",j,O].join("|"),"g");const kr=function(t){return t.match(Nr)||[]};var Dr=RegExp("[']","g"),O=function(r){return function(t){return function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}((t=t,t=((t=ut(t))&&t.replace(Ir,Ar).replace(Or,"")).replace(Dr,""),t=ut(t),void 0===(e=n?void 0:e)?(Lr(t)?kr:xr)(t):t.match(e)||[]),r,"");var e,n}};function Mr(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&r<=n?t:function(t,e,n){var r=-1,i=t.length;(n=i<n?i:n)<0&&(n+=i),i=n<(e=e<0?i<-e?0:i+e:e)?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}(t,e,n)}const jr=O(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Vr=function(t){t=ut(t);var e=Ke(t)?qe(t):void 0,n=e?e[0]:t.charAt(0),t=e?Mr(e,1).join(""):t.slice(1);return n.toUpperCase()+t},Ur=O(function(t,e,n){return e=e.toLowerCase(),t+(n?(n=e,Vr(ut(n).toLowerCase())):e)});var O=n(9138),Fr=n.n(O);function Br(n,r){void 0===r&&(r=[]);var i=[],o=[];function a(t,e){t=(0,zn.split)(t)[0];~o.indexOf(t)||o.push(t),~r.indexOf(e+"-"+t)||i.push([e,t])}for(var t in n)!function(e){var t;Tt(n,e)&&(t=n[e],~o.indexOf(e)||o.push(e),Gn.isRef(t)&&t.isSibling?a(t.path,e):fn(t)&&t._deps&&t._deps.forEach(function(t){return a(t,e)}))}(t);return Fr().array(o,i).reverse()}function Wr(t,n){var r=1/0;return t.some(function(t,e){if(-1!==n.path.indexOf(t))return r=e,!0}),r}function Hr(n){return function(t,e){return Wr(n,t)-Wr(n,e)}}function zr(t,e){var n;if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator])return(n=t[Symbol.iterator]()).next.bind(n);if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return Gr(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Gr(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kr(t){return"[object Object]"===Object.prototype.toString.call(t)}function Yr(t){var e=this;if(!(this instanceof Yr))return new Yr(t);nr.call(this,{type:"object",default:function(){var e=this;if(this._nodes.length){var n={};return this._nodes.forEach(function(t){n[t]=e.fields[t].default?e.fields[t].getDefault():void 0}),n}}}),this.fields=Object.create(null),this._sortErrors=Hr([]),this._nodes=[],this._excludedEdges=[],this.withMutation(function(){e.transform(function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}),t&&e.shape(t)})}ur(Yr,nr,{_typeCheck:function(t){return Kr(t)||"function"==typeof t},_cast:function(t,e){var n=this;void 0===e&&(e={});var r=nr.prototype._cast.call(this,t);if(void 0===r)return this.getDefault();if(!this._typeCheck(r))return r;for(var i=this.fields,o=!0===this._option("stripUnknown",e),t=this._nodes.concat(Object.keys(r).filter(function(t){return-1===n._nodes.indexOf(t)})),a={},s=v({},e,{parent:a,__validating:e.__validating||!1}),c=!1,l=zr(t);!(h=l()).done;){var u=h.value,p=i[u],d=Tt(r,u);if(p){var h=p._options&&p._options.strict;if(s.path=(e.path?e.path+".":"")+u,s.value=r[u],!0===(p=p.resolve(s))._strip){c=c||u in r;continue}void 0!==(p=e.__validating&&h?r[u]:p.cast(r[u],s))&&(a[u]=p)}else d&&!o&&(a[u]=r[u]);a[u]!==r[u]&&(c=!0)}return c?a:r},_validate:function(t,a,e){var s=this,n=[],r=a=void 0===a?{}:a,i=r.sync,o=r.from,c=r.originalValue,l=void 0===c?t:c,c=r.abortEarly,u=void 0===c?this._options.abortEarly:c,r=r.recursive,p=void 0===r?this._options.recursive:r,d=[{schema:this,value:l}].concat(d=void 0===o?[]:o);a.__validating=!0,a.originalValue=l,a.from=d,nr.prototype._validate.call(this,t,a,function(t,o){if(t){if(u)return void e(t);n.push(t),o=t.value}p&&Kr(o)?(l=l||o,t=s._nodes.map(function(i){return function(t,e){var n=-1===i.indexOf(".")?(a.path?a.path+".":"")+i:(a.path||"")+'["'+i+'"]',r=s.fields[i];r&&r.validate?r.validate(o[i],v({},a,{path:n,from:d,strict:!0,parent:o,originalValue:l[i]}),e):e(null)}}),En({sync:i,tests:t,value:o,errors:n,endEarly:u,sort:s._sortErrors,path:a.path},e)):e(n[0]||null,o)})},concat:function(t){t=nr.prototype.concat.call(this,t);return t._nodes=Br(t.fields,t._excludedEdges),t},shape:function(t,e){void 0===e&&(e=[]);var n=this.clone(),t=v(n.fields,t);return n.fields=t,n._sortErrors=Hr(Object.keys(t)),e.length&&(e=(e=!Array.isArray(e[0])?[e]:e).map(function(t){return t[0]+"-"+t[1]}),n._excludedEdges=n._excludedEdges.concat(e)),n._nodes=Br(t,n._excludedEdges),n},pick:function(t){for(var e={},n=zr(t);!(r=n()).done;){var r=r.value;this.fields[r]&&(e[r]=this.fields[r])}return this.clone().withMutation(function(t){return t.fields={},t.shape(e)})},omit:function(t){var e=this.clone(),n=e.fields;e.fields={};for(var r=zr(t);!(i=r()).done;){var i=i.value;delete n[i]}return e.withMutation(function(t){return t.shape(n)})},from:function(n,r,i){var o=(0,zn.getter)(n,!0);return this.transform(function(t){if(null==t)return t;var e=t;return Tt(t,n)&&(e=v({},t),i||delete e[n],e[r]=o(t)),e})},noUnknown:function(r,t){void 0===r&&(r=!0),void 0===t&&(t=pn.noUnknown),"string"==typeof r&&(t=r,r=!0);t=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var e,n,t=(e=this.schema,t=t,n=Object.keys(e.fields),Object.keys(t).filter(function(t){return-1===n.indexOf(t)}));return!r||0===t.length||this.createError({params:{unknown:t.join(", ")}})}});return t._options.stripUnknown=r,t},unknown:function(t,e){return this.noUnknown(!(t=void 0===t?!0:t),e=void 0===e?pn.noUnknown:e)},transformKeys:function(n){return this.transform(function(t){return t&&(t=t,r=function(t,e){return n(e)},i={},r=Hn(r,3),_n(t,function(t,e,n){Ct(i,r(t,e,n),t)}),i);var r,i})},camelCase:function(){return this.transformKeys(Ur)},snakeCase:function(){return this.transformKeys(jr)},constantCase:function(){return this.transformKeys(function(t){return jr(t).toUpperCase()})},describe:function(){var t=nr.prototype.describe.call(this);return t.fields=Vn(this.fields,function(t){return t.describe()}),t}});const qr=$r;function $r(t){var e=this;if(!(this instanceof $r))return new $r(t);nr.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation(function(){e.transform(function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}),t&&e.of(t)})}ur($r,nr,{_typeCheck:function(t){return Array.isArray(t)},_cast:function(t,n){var r=this,e=nr.prototype._cast.call(this,t,n);if(!this._typeCheck(e)||!this.innerType)return e;var i=!1,t=e.map(function(t,e){e=r.innerType.cast(t,v({},n,{path:(n.path||"")+"["+e+"]"}));return e!==t&&(i=!0),e});return i?t:e},_validate:function(t,a,n){var r=this,s=[],c=(a=void 0===a?{}:a).sync,l=a.path,u=this.innerType,p=this._option("abortEarly",a),d=this._option("recursive",a),h=null!=a.originalValue?a.originalValue:t;nr.prototype._validate.call(this,t,a,function(t,i){if(t){if(p)return void n(t);s.push(t),i=t.value}if(d&&u&&r._typeCheck(i)){h=h||i;for(var o=new Array(i.length),e=0;e<i.length;e++)!function(t){var n=i[t],e=(a.path||"")+"["+t+"]",r=v({},a,{path:e,strict:!0,parent:i,index:t,originalValue:h[t]});o[t]=function(t,e){return u.validate?u.validate(n,r,e):e(null)}}(e);En({sync:c,path:l,value:i,errors:s,endEarly:p,tests:o},n)}else n(s[0]||null,i)})},of:function(t){var e=this.clone();if(!1!==t&&!fn(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+an(t));return e._subType=t,e.innerType=t,e},min:function(e,t){return this.test({message:t=t||dn.min,name:"min",exclusive:!0,params:{min:e},test:function(t){return hr(t)||t.length>=this.resolve(e)}})},max:function(e,t){return this.test({message:t=t||dn.max,name:"max",exclusive:!0,params:{max:e},test:function(t){return hr(t)||t.length<=this.resolve(e)}})},length:function(e,t){return this.test({message:t=t||dn.length,name:"length",exclusive:!0,params:{length:e},test:function(t){return hr(t)||t.length===this.resolve(e)}})},ensure:function(){var n=this;return this.default(function(){return[]}).transform(function(t,e){return n._typeCheck(t)?t:null==e?[]:[].concat(e)})},compact:function(r){var e=r?function(t,e,n){return!r(t,e,n)}:function(t){return!!t};return this.transform(function(t){return null!=t?t.filter(e):t})},describe:function(){var t=nr.prototype.describe.call(this);return this.innerType&&(t.innerType=this.innerType.describe()),t}});(O=Jr.prototype).resolve=function(t){return this._resolve(t.value,t)},O.cast=function(t,e){return this._resolve(t,e).cast(t,e)},O.validate=function(t,e,n){return this._resolve(t,e).validate(t,e,n)},O.validateSync=function(t,e){return this._resolve(t,e).validateSync(t,e)},O.validateAt=function(t,e,n){return this._resolve(e,n).validateAt(t,e,n)},O.validateSyncAt=function(t,e,n){return this._resolve(e,n).validateSyncAt(t,e,n)},O=Jr;function Jr(n){this._resolve=function(t,e){t=n(t,e);if(!fn(t))throw new TypeError("lazy() functions must return a valid schema");return t.resolve(e)}}O.prototype.__isYupSchema__=!0;const Xr=O;var Qr=pr,Zr=function(t,e){return new Gn(t,e)},ti=function(t){return new Xr(t)}},6887:t=>{var o,a,s,c,r,l,n,i,u,p,d,h,e,f,g,m,y,v,E,T,b,_,w,S,C,A,I,O,P,x,R,L,N,k,D,M,j,V,_=(u=(i=[]).slice,p=i.filter,d=window.document,h={},e={},f={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},g=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,v=/^(?:body|html)$/i,E=/([A-Z])/g,T=["val","css","html","text","data","width","height","offset"],b=d.createElement("table"),_=d.createElement("tr"),w={tr:d.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:_,th:_,"*":d.createElement("div")},S=/complete|loaded|interactive/,C=/^[\w-]*$/,I=(A={}).toString,O={},P=d.createElement("div"),x={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},R=Array.isArray||function(t){return t instanceof Array},O.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r=t.parentNode,n=!r;return n&&(r=P).appendChild(t),e=~O.qsa(r,e).indexOf(t),n&&P.removeChild(t),e},l=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},n=function(n){return p.call(n,function(t,e){return n.indexOf(t)==e})},O.fragment=function(t,e,n){var r,i,o;return(r=m.test(t)?c(d.createElement(RegExp.$1)):r)||(t.replace&&(t=t.replace(y,"<$1></$2>")),e===a&&(e=g.test(t)&&RegExp.$1),(o=w[e=!(e in w)?"*":e]).innerHTML=""+t,r=c.each(u.call(o.childNodes),function(){o.removeChild(this)})),z(n)&&(i=c(r),c.each(n,function(t,e){-1<T.indexOf(t)?i[t](e):i.attr(t,e)})),r},O.Z=function(t,e){return(t=t||[]).__proto__=c.fn,t.selector=e||"",t},O.isZ=function(t){return t instanceof O.Z},O.init=function(t,e){var n,r;if(!t)return O.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&g.test(t))n=O.fragment(t,RegExp.$1,e),t=null;else{if(e!==a)return c(e).find(t);n=O.qsa(d,t)}else{if(F(t))return c(d).ready(t);if(O.isZ(t))return t;if(R(t))r=t,n=p.call(r,function(t){return null!=t});else if(H(t))n=[t],t=null;else if(g.test(t))n=O.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==a)return c(e).find(t);n=O.qsa(d,t)}}return O.Z(n,t)},(c=function(t,e){return O.init(t,e)}).extend=function(e){var n,t=u.call(arguments,1);return"boolean"==typeof e&&(n=e,e=t.shift()),t.forEach(function(t){!function t(e,n,r){for(s in n)r&&(z(n[s])||R(n[s]))?(z(n[s])&&!z(e[s])&&(e[s]={}),R(n[s])&&!R(e[s])&&(e[s]=[]),t(e[s],n[s],r)):n[s]!==a&&(e[s]=n[s])}(e,t,n)}),e},O.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,a=C.test(o);return W(t)&&a&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:u.call(a&&!r?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},c.contains=d.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e=e&&e.parentNode;)if(e===t)return!0;return!1},c.type=U,c.isFunction=F,c.isWindow=B,c.isArray=R,c.isPlainObject=z,c.isEmptyObject=function(t){for(var e in t)return!1;return!0},c.inArray=function(t,e,n){return i.indexOf.call(e,t,n)},c.camelCase=l,c.trim=function(t){return null==t?"":String.prototype.trim.call(t)},c.uuid=0,c.support={},c.expr={},c.map=function(t,e){var n,r,i,o,a=[];if(G(t))for(r=0;r<t.length;r++)null!=(n=e(t[r],r))&&a.push(n);else for(i in t)null!=(n=e(t[i],i))&&a.push(n);return 0<(o=a).length?c.fn.concat.apply([],o):o},c.each=function(t,e){var n,r;if(G(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},c.grep=function(t,e){return p.call(t,e)},window.JSON&&(c.parseJSON=JSON.parse),c.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){A["[object "+e+"]"]=e.toLowerCase()}),c.fn={forEach:i.forEach,reduce:i.reduce,push:i.push,sort:i.sort,indexOf:i.indexOf,concat:i.concat,map:function(n){return c(c.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return c(u.apply(this,arguments))},ready:function(t){return S.test(d.readyState)&&d.body?t(c):d.addEventListener("DOMContentLoaded",function(){t(c)},!1),this},get:function(t){return t===a?u.call(this):this[0<=t?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){if(void 0!==window.Prototype){var r={};try{this.forEach(function(t,e){if(!1===n.call(t,e,t))throw r})}catch(n){if(n!=r)throw n}}else i.every.call(this,function(t,e){return!1!==n.call(t,e,t)});return this},filter:function(e){return F(e)?this.not(this.not(e)):c(p.call(this,function(t){return O.matches(t,e)}))},add:function(t,e){return c(n(this.concat(c(t,e))))},is:function(t){return 0<this.length&&O.matches(this[0],t)},not:function(e){var n,r=[];return F(e)&&e.call!==a?this.each(function(t){e.call(this,t)||r.push(this)}):(n="string"==typeof e?this.filter(e):G(e)&&F(e.item)?u.call(e):c(e),this.forEach(function(t){n.indexOf(t)<0&&r.push(t)})),c(r)},has:function(t){return this.filter(function(){return H(t)?c.contains(this,t):c(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!H(t)?t:c(t)},last:function(){var t=this[this.length-1];return t&&!H(t)?t:c(t)},find:function(t){var n=this;return t?"object"==typeof t?c(t).filter(function(){var e=this;return i.some.call(n,function(t){return c.contains(t,e)})}):1==this.length?c(O.qsa(this[0],t)):this.map(function(){return O.qsa(this,t)}):c()},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=c(t));n&&!(r?0<=r.indexOf(n):O.matches(n,t));)n=n!==e&&!W(n)&&n.parentNode;return c(n)},parents:function(t){for(var e=[],n=this;0<n.length;)n=c.map(n,function(t){if((t=t.parentNode)&&!W(t)&&e.indexOf(t)<0)return e.push(t),t});return J(e,t)},parent:function(t){return J(n(this.pluck("parentNode")),t)},children:function(t){return J(this.map(function(){return $(this)}),t)},contents:function(){return this.map(function(){return u.call(this.childNodes)})},siblings:function(t){return J(this.map(function(t,e){return p.call($(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return c.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var t,e,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,h[t]||(e=d.createElement(t),d.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),h[t]=n="none"==n?"block":n),h[t]))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(e){var n,r,i=F(e);return this[0]&&!i&&(n=c(e).get(0),r=n.parentNode||1<this.length),this.each(function(t){c(this).wrapAll(i?e.call(this,t):r?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){var e;for(c(this[0]).before(t=c(t));(e=t.children()).length;)t=e.first();c(t).append(this)}return this},wrapInner:function(r){var i=F(r);return this.each(function(t){var e=c(this),n=e.contents(),t=i?r.call(this,t):r;n.length?n.wrapAll(t):e.append(t)})},unwrap:function(){return this.parent().each(function(){c(this).replaceWith(c(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=c(this);(e===a?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(t){return c(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return c(this.pluck("nextElementSibling")).filter(t||"*")},html:function(n){return 0 in arguments?this.each(function(t){var e=this.innerHTML;c(this).empty().append(X(this,n,t,e))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){t=X(this,e,t,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this[0].textContent:null},attr:function(e,n){var t;return"string"!=typeof e||1 in arguments?this.each(function(t){if(1===this.nodeType)if(H(e))for(s in e)Q(this,s,e[s]);else Q(this,e,X(this,n,t,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(t=this[0].getAttribute(e))&&e in this[0]?this[0][e]:t:a},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){Q(this,t)},this)})},prop:function(e,n){return e=x[e]||e,1 in arguments?this.each(function(t){this[e]=X(this,n,t,this[e])}):this[0]&&this[0][e]},data:function(t,e){var n="data-"+t.replace(E,"-$1").toLowerCase(),n=1 in arguments?this.attr(n,e):this.attr(n);return null!==n?tt(n):a},val:function(e){return 0 in arguments?this.each(function(t){this.value=X(this,e,t,this.value)}):this[0]&&(this[0].multiple?c(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(r){if(r)return this.each(function(t){var e=c(this),n=X(this,r,t,e.offset()),t=e.offsetParent().offset(),t={top:n.top-t.top,left:n.left-t.left};"static"==e.css("position")&&(t.position="relative"),e.css(t)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,e){if(arguments.length<2){var n,r=this[0];if(!r)return;if(n=getComputedStyle(r,""),"string"==typeof t)return r.style[l(t)]||n.getPropertyValue(t);if(R(t)){var i={};return c.each(t,function(t,e){i[e]=r.style[l(e)]||n.getPropertyValue(e)}),i}}var o="";if("string"==U(t))e||0===e?o=K(t)+":"+q(t,e):this.each(function(){this.style.removeProperty(K(t))});else for(s in t)t[s]||0===t[s]?o+=K(s)+":"+q(s,t[s])+";":this.each(function(){this.style.removeProperty(K(s))});return this.each(function(){this.style.cssText+=";"+o})},index:function(t){return t?this.indexOf(c(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&i.some.call(this,function(t){return this.test(Z(t))},Y(t))},addClass:function(n){return n?this.each(function(t){var e;"className"in this&&(r=[],e=Z(this),X(this,n,t,e).split(/\s+/g).forEach(function(t){c(this).hasClass(t)||r.push(t)},this),r.length&&Z(this,e+(e?" ":"")+r.join(" ")))}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===a)return Z(this,"");r=Z(this),X(this,e,t,r).split(/\s+/g).forEach(function(t){r=r.replace(Y(t)," ")}),Z(this,r.trim())}})},toggleClass:function(n,r){return n?this.each(function(t){var e=c(this);X(this,n,t,Z(this)).split(/\s+/g).forEach(function(t){(r===a?!e.hasClass(t):r)?e.addClass(t):e.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===a?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===a?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=v.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(c(t).css("margin-top"))||0,n.left-=parseFloat(c(t).css("margin-left"))||0,r.top+=parseFloat(c(e[0]).css("border-top-width"))||0,r.left+=parseFloat(c(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||d.body;t&&!v.test(t.nodeName)&&"static"==c(t).css("position");)t=t.offsetParent;return t})}},c.fn.detach=c.fn.remove,["width","height"].forEach(function(r){var i=r.replace(/./,function(t){return t[0].toUpperCase()});c.fn[r]=function(e){var t,n=this[0];return e===a?B(n)?n["inner"+i]:W(n)?n.documentElement["scroll"+i]:(t=this.offset())&&t[r]:this.each(function(t){(n=c(this)).css(r,X(this,e,t,n[r]()))})}}),["after","prepend","before","append"].forEach(function(e,a){var s=a%2;c.fn[e]=function(){var e,r,i=c.map(arguments,function(t){return"object"==(e=U(t))||"array"==e||null==t?t:O.fragment(t)}),o=1<this.length;return i.length<1?this:this.each(function(t,e){r=s?e:e.parentNode,e=0==a?e.nextSibling:1==a?e.firstChild:2==a?e:null;var n=c.contains(d.documentElement,r);i.forEach(function(t){if(o)t=t.cloneNode(!0);else if(!r)return c(t).remove();null!=t.nodeName&&"SCRIPT"==t.nodeName.toUpperCase()||r.insertBefore(t,e),n&&function t(e,n){n(e);for(var r=0,i=e.childNodes.length;r<i;r++)t(e.childNodes[r],n)}(t,function(t){if(null!=t.nodeName&&"SCRIPT"===t.nodeName.toUpperCase()&&t.src)newEl=d.createElement("script"),newEl.type=t.type,newEl.src=t.src,r.insertBefore(newEl,e);else if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src))try{window.eval.call(window,t.innerHTML)}catch(t){}})})})},c.fn[s?e+"To":"insert"+(a?"Before":"After")]=function(t){return c(t)[e](this),this}}),O.Z.prototype=c.fn,O.uniq=n,O.deserializeValue=tt,c.zepto=O,c);function U(t){return null==t?String(t):A[I.call(t)]||"object"}function F(t){return"function"==U(t)}function B(t){return null!=t&&t==t.window}function W(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function H(t){return"object"==U(t)}function z(t){return H(t)&&!B(t)&&Object.getPrototypeOf(t)==Object.prototype}function G(t){return"number"==typeof t.length}function K(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function Y(t){return t in e?e[t]:e[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function q(t,e){return"number"!=typeof e||f[K(t)]?e:e+"px"}function $(t){return"children"in t?u.call(t.children):c.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function J(t,e){return null==e?c(t):c(t).filter(e)}function X(t,e,n,r){return F(e)?e.call(t,n,r):e}function Q(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function Z(t,e){var n=t.className||"",r=n&&n.baseVal!==a;if(e===a)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function tt(e){try{return e&&("true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?c.parseJSON(e):e))}catch(t){return e}}function et(t){return((t=L(t)).width()||t.height())&&"none"!==t.css("display")}function nt(t,e){var n,r,i=t.match(j);return i&&i[2]in M&&(n=M[i[2]],r=i[3],t=i[1],r&&(i=Number(r),r=isNaN(i)?r.replace(/^["']|["']$/g,""):i)),e(t,n,r)}(function(u){function l(t){return"string"==typeof t}var p,e=1,d=Array.prototype.slice,h=u.isFunction,f={},o={},n="onfocusin"in window,r={focus:"focusin",blur:"focusout"},g={mouseenter:"mouseover",mouseleave:"mouseout"};function m(t){return t._zid||(t._zid=e++)}function a(t,e,n,r){var i,o;return(e=y(e)).ns&&(o=e.ns,i=new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)")),(f[m(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||i.test(t.ns))&&(!n||m(t.fn)===m(n))&&(!r||t.sel==r)})}function y(t){t=(""+t).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function v(t,e){return t.del&&!n&&t.e in r||!!e}function E(t){return g[t]||n&&r[t]||t}function T(i,t,e,o,a,s,c){var n=m(i),l=f[n]||(f[n]=[]);t.split(/\s/).forEach(function(t){if("ready"==t)return u(document).ready(e);var n=y(t);n.fn=e,n.sel=a,n.e in g&&(e=function(t){var e=t.relatedTarget;if(!e||e!==this&&!u.contains(this,e))return n.fn.apply(this,arguments)});var r=(n.del=s)||e;n.proxy=function(t){if(!(t=w(t)).isImmediatePropagationStopped()){t.data=o;var e=r.apply(i,t._args==p?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},n.i=l.length,l.push(n),"addEventListener"in i&&i.addEventListener(E(n.e),n.proxy,v(n,c))})}function b(e,t,n,r,i){var o=m(e);(t||"").split(/\s/).forEach(function(t){a(e,t,n,r).forEach(function(t){delete f[o][t.i],"removeEventListener"in e&&e.removeEventListener(E(t.e),t.proxy,v(t,i))})})}o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",u.event={add:T,remove:b},u.proxy=function(t,e){var n=2 in arguments&&d.call(arguments,2);if(h(t)){function r(){return t.apply(e,n?n.concat(d.call(arguments)):arguments)}return r._zid=m(t),r}if(l(e))return n?(n.unshift(t[e],t),u.proxy.apply(null,n)):u.proxy(t[e],t);throw new TypeError("expected function")},u.fn.bind=function(t,e,n){return this.on(t,e,n)},u.fn.unbind=function(t,e){return this.off(t,e)},u.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var s=function(){return!0},_=function(){return!1},i=/^([A-Z]|returnValue$|layer[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function w(r,i){return!i&&r.isDefaultPrevented||(i=i||r,u.each(t,function(t,e){var n=i[t];r[t]=function(){return this[e]=s,n&&n.apply(i,arguments)},r[e]=_}),(i.defaultPrevented!==p?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(r.isDefaultPrevented=s)),r}function S(t){var e,n={originalEvent:t};for(e in t)i.test(e)||t[e]===p||(n[e]=t[e]);return w(n,t)}u.fn.delegate=function(t,e,n){return this.on(e,t,n)},u.fn.undelegate=function(t,e,n){return this.off(e,t,n)},u.fn.live=function(t,e){return u(document.body).delegate(this.selector,t,e),this},u.fn.die=function(t,e){return u(document.body).undelegate(this.selector,t,e),this},u.fn.on=function(e,i,n,o,a){var s,c,r=this;return e&&!l(e)?(u.each(e,function(t,e){r.on(t,i,n,e,a)}),r):(l(i)||h(o)||!1===o||(o=n,n=i,i=p),!h(n)&&!1!==n||(o=n,n=p),!1===o&&(o=_),r.each(function(t,r){a&&(s=function(t){return b(r,t.type,o),o.apply(this,arguments)}),i&&(c=function(t){var e,n=u(t.target).closest(i,r).get(0);if(n&&n!==r)return e=u.extend(S(t),{currentTarget:n,liveFired:r}),(s||o).apply(n,[e].concat(d.call(arguments,1)))}),T(r,e,o,n,i,c||s)}))},u.fn.off=function(t,n,e){var r=this;return t&&!l(t)?(u.each(t,function(t,e){r.off(t,n,e)}),r):(l(n)||h(e)||!1===e||(e=n,n=p),!1===e&&(e=_),r.each(function(){b(this,t,e,n)}))},u.fn.trigger=function(t,e){return(t=l(t)||u.isPlainObject(t)?u.Event(t):w(t))._args=e,this.each(function(){t.type in r&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):u(this).triggerHandler(t,e)})},u.fn.triggerHandler=function(n,r){var i,o;return this.each(function(t,e){(i=S(l(n)?u.Event(n):n))._args=r,i.target=e,u.each(a(e,n.type||n),function(t,e){if(o=e.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){u.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),u.Event=function(t,e){l(t)||(t=(e=t).type);var n=document.createEvent(o[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),w(n)}})(t.exports=_),function(d){var h,f,u=0,g=window.document,s=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,m=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,v="application/json",E=/^\s*$/,T=g.createElement("a");function b(t,e,n,r){if(t.global)return e=e||g,r=r,n=d.Event(n),d(e).trigger(n,r),!n.isDefaultPrevented()}function _(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===b(e,n,"ajaxBeforeSend",[t,e]))return!1;b(e,n,"ajaxSend",[t,e])}function w(t,e,n,r){var i=n.context,o="success";n.success.call(i,t,o,e),r&&r.resolveWith(i,[t,o,e]),b(n,i,"ajaxSuccess",[e,n,t]),a(o,e,n)}function S(t,e,n,r,i){var o=r.context;r.error.call(o,n,e,t),i&&i.rejectWith(o,[n,e,t]),b(r,o,"ajaxError",[n,r,t||e]),a(e,n,r)}function a(t,e,n){var r=n.context;n.complete.call(r,e,t),b(n,r,"ajaxComplete",[e,n]),(n=n).global&&!--d.active&&b(n,null,"ajaxStop")}function C(){}function A(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function c(t,e,n,r){return d.isFunction(e)&&(r=n,n=e,e=void 0),d.isFunction(n)||(r=n,n=void 0),{url:t,data:e,success:n,dataType:r}}T.href=window.location.href,d.active=0,d.ajaxJSONP=function(n,r){if(!("type"in n))return d.ajax(n);function t(t){d(s).triggerHandler("error",t||"abort")}var i,o,e=n.jsonpCallback,a=(d.isFunction(e)?e():e)||"jsonp"+ ++u,s=g.createElement("script"),c=window[a],l={abort:t};return r&&r.promise(l),d(s).on("load error",function(t,e){clearTimeout(o),d(s).off().remove(),"error"!=t.type&&i?w(i[0],l,n,r):S(null,e||"error",l,n,r),window[a]=c,i&&d.isFunction(c)&&c(i[0]),c=i=void 0}),!1===_(l,n)?t("abort"):(window[a]=function(){i=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+a),g.head.appendChild(s),0<n.timeout&&(o=setTimeout(function(){t("timeout")},n.timeout))),l},d.ajaxSettings={type:"GET",beforeSend:C,success:C,error:C,complete:C,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:v,xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},d.ajax=function(t){var e,n=d.extend({},t||{}),r=d.Deferred&&d.Deferred();for(h in d.ajaxSettings)void 0===n[h]&&(n[h]=d.ajaxSettings[h]);(e=n).global&&0==d.active++&&b(e,null,"ajaxStart"),n.crossDomain||((o=g.createElement("a")).href=n.url,o.href=o.href,n.crossDomain=T.protocol+"//"+T.host!=o.protocol+"//"+o.host),n.url||(n.url=window.location.toString()),(o=n).processData&&o.data&&"string"!=d.type(o.data)&&(o.data=d.param(o.data,o.traditional)),!o.data||o.type&&"GET"!=o.type.toUpperCase()||(o.url=A(o.url,o.data),o.data=void 0);var i=n.dataType,o=/\?.+=\?/.test(n.url);if(o&&(i="jsonp"),!1!==n.cache&&(t&&!0===t.cache||"script"!=i&&"jsonp"!=i)||(n.url=A(n.url,"_="+Date.now())),"jsonp"==i)return o||(n.url=A(n.url,n.jsonp?n.jsonp+"=?":!1===n.jsonp?"":"callback=?")),d.ajaxJSONP(n,r);function a(t,e){c[t.toLowerCase()]=[t,e]}var s,o=n.accepts[i],c={},l=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,u=n.xhr(),p=u.setRequestHeader;if(r&&r.promise(u),n.crossDomain||a("X-Requested-With","XMLHttpRequest"),a("Accept",o||"*/*"),(o=n.mimeType||o)&&(-1<o.indexOf(",")&&(o=o.split(",",2)[0]),u.overrideMimeType&&u.overrideMimeType(o)),(n.contentType||!1!==n.contentType&&n.data&&"GET"!=n.type.toUpperCase())&&a("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(f in n.headers)a(f,n.headers[f]);if(u.setRequestHeader=a,!(u.onreadystatechange=function(){if(4==u.readyState){u.onreadystatechange=C,clearTimeout(s);var e=!1;if(200<=u.status&&u.status<300||304==u.status||0==u.status&&"file:"==l){i=i||((t=(t=n.mimeType||u.getResponseHeader("content-type"))&&t.split(";",2)[0])&&("text/html"==t?"html":t==v?"json":m.test(t)?"script":y.test(t)&&"xml")||"text"),t=u.responseText;try{"script"==i?(0,eval)(t):"xml"==i?t=u.responseXML:"json"==i&&(t=E.test(t)?null:d.parseJSON(t))}catch(t){e=t}e?S(e,"parsererror",u,n,r):w(t,u,n,r)}else S(u.statusText||null,u.status?"error":"abort",u,n,r)}var t})===_(u,n))return u.abort(),S(null,"abort",u,n,r),u;try{if(n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f]}catch(t){}o=!("async"in n)||n.async;for(f in u.open(n.type,n.url,o,n.username,n.password),c)p.apply(u,c[f]);return 0<n.timeout&&(s=setTimeout(function(){u.onreadystatechange=C,u.abort(),S(null,"timeout",u,n,r)},n.timeout)),u.send(n.data||null),u},d.get=function(){return d.ajax(c.apply(null,arguments))},d.post=function(){var t=c.apply(null,arguments);return t.type="POST",d.ajax(t)},d.getJSON=function(){var t=c.apply(null,arguments);return t.dataType="json",d.ajax(t)},d.fn.load=function(t,e,n){if(!this.length)return this;var r,i=this,o=t.split(/\s/),n=c(t,e,n),a=n.success;return 1<o.length&&(n.url=o[0],r=o[1]),n.success=function(t){i.html(r?d("<div>").html(t.replace(s,"")).find(r):t),a&&a.apply(i,arguments)},d.ajax(n),this};var r=encodeURIComponent;d.param=function(t,e){var n=[];return n.add=function(t,e){null==(e=d.isFunction(e)?e():e)&&(e=""),this.push(r(t)+"="+r(e))},function n(r,t,i,o){var a,s=d.isArray(t),c=d.isPlainObject(t);d.each(t,function(t,e){a=d.type(e),o&&(t=i?o:o+"["+(c||"object"==a||"array"==a?t:"")+"]"),!o&&s?r.add(e.name,e.value):"array"==a||!i&&"object"==a?n(r,e,i,t):r.add(t,e)})}(n,t,e),n.join("&").replace(/%20/g,"+")}}(_),(o=_).fn.serializeArray=function(){function n(t){if(t.forEach)return t.forEach(n);e.push({name:r,value:t})}var r,i,e=[];return this[0]&&o.each(this[0].elements,function(t,e){i=e.type,(r=e.name)&&"fieldset"!=e.nodeName.toLowerCase()&&!e.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||e.checked)&&n(o(e).val())}),e},o.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},o.fn.submit=function(t){var e;return 0 in arguments?this.bind("submit",t):this.length&&(e=o.Event("submit"),this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()),this},V=_,"__proto__"in{}||V.extend(V.zepto,{Z:function(t,e){return V.extend(t=t||[],V.fn),t.selector=e||"",t.__Z=!0,t},isZ:function(t){return"array"===V.type(t)&&"__Z"in t}}),N=(L=_).zepto,k=N.qsa,D=N.matches,M=N.cssFilters={visible:function(){if(et(this))return this},hidden:function(){if(!et(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,n){if(t===n)return this},contains:function(t,e,n){if(-1<L(this).text().indexOf(n))return this},has:function(t,e,n){if(N.qsa(this,n).length)return this}},j=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),N.qsa=function(e,o){return nt(o,function(t,n,r){try{var i=k(e,t=!t&&n?"*":t)}catch(t){throw console.error("error performing selector: %o",o),t}return n?N.uniq(L.map(i,function(t,e){return n.call(t,e,i,r)})):i})},N.matches=function(r,t){return nt(t,function(t,e,n){return(!t||D(r,t))&&(!e||e.call(r,null,n)===r)})}},4490:(t,e,n)=>{"use strict";n.r(e),n.d(e,{positive_modulo:()=>function(t,e){return(e+t%e)%e}})}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;e=r[t]={exports:{}};return n[t].call(e.exports,e,e.exports,i),e.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(t||!e||(t=e.currentScript?e.currentScript.src:t)||(e=e.getElementsByTagName("script")).length&&(t=e[e.length-1].src),!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),i(458),i(2074),i(5633)})();

(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[96174,90914],{638017:function(){},565383:function(){},761026:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WithIsStreamLiveQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:86}};n.loc.source={body:"query WithIsStreamLiveQuery($id: ID!) {\nuser(id: $id) {\nid\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.WithIsStreamLiveQuery=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"WithIsStreamLiveQuery")},949161:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};n.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.BlockedUsers=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"BlockedUsers")},594870:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:216}};n.loc.source={body:"query UserEmotes($withOwner: Boolean!) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\nmodifiers {\ncode\nname\n}\ntype\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.UserEmotes=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"UserEmotes")},982869:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};n.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},525778:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"mutation Chat_AllowRejectedChatMessage($input: AllowRejectedChatMessageInput!) {\nallowRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_AllowRejectedChatMessage=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_AllowRejectedChatMessage")},952561:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AutoModSender"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"senderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"senderID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}}]}}],loc:{start:0,end:178}};i.loc.source={body:'#import "twilight/features/message/fragments/message-sender/sender-fragment.gql"\nquery AutoModSender($senderID: ID! $channelID: ID!) {\nuser (id: $senderID) {\n...messageSender\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(655987).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.AutoModSender=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"AutoModSender")},961502:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};n.loc.source={body:"mutation Chat_DenyRejectedChatMessage($input: DenyRejectedChatMessageInput!) {\ndenyRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_DenyRejectedChatMessage=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_DenyRejectedChatMessage")},41598:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};n.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatFilterContextManager_User=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatFilterContextManager_User")},373191:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatInput"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:336}};n.loc.source={body:"query ChatInput($channelLogin: String! $isEmbedded: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nisPartner @include(if: $isEmbedded)\n}\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresInMs\nreason\n}\n}\ndisplayName\nprofileImageURL(width:50)\ncheer {\nid\nsettings {\nid\nemoteMinimumBits\ncheerMinimumBits\nevent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatInput=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatInput")},64125:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatReplies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"messageID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageFields"},directives:[]},{kind:"Field",name:{kind:"Name",value:"replies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:216}};i.loc.source={body:'#import "twilight/features/message/fragments/message-fragment.gql"\nquery ChatReplies($messageID: ID! $channelID: ID!) {\nmessage(id: $messageID) {\n...messageFields\nreplies {\nnodes {\n...messageFields\n}\ntotalCount\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(325664).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChatReplies=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChatReplies")},796682:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatInput_SendCheer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validationError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:377}};n.loc.source={body:"mutation ChatInput_SendCheer($input: SendCheerInput!) {\nsendCheer(input: $input) {\nid\ncurrentUser {\nid\nbitsBalance\n}\nvalidationError {\ncode\nmessage\nmessageContent {\ntext\nfragments {\ntext\ncontent {\n... on AutoMod {\ntopics {\ntype\nweight\n}\n}\n... on CheermoteToken {\nbitsAmount\nprefix\ntier\n}\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatInput_SendCheer=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatInput_SendCheer")},778171:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IncomingRaidLine_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146}};n.loc.source={body:"query IncomingRaidLine_Channel($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\ndisplayName\nprofileImageURL(width: 50)\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.IncomingRaidLine_Channel=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"IncomingRaidLine_Channel")},4003:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ChatLine_SubsOnlyUpsell_UserSubscriptionProducts($login: String!) {\nuser(login: $login) {\nid\nsubscriptionProducts {\nid\nurl\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatLine_SubsOnlyUpsell_UserSubscriptionProducts=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts")},545611:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetChatPauseSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatPauseSettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatPauseSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};n.loc.source={body:"mutation SyncedSettingsSetChatPauseSetting($input: SetChatPauseSettingInput!) {\nsetChatPauseSetting(input: $input) {\nchatPauseSetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SyncedSettingsSetChatPauseSetting=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SyncedSettingsSetChatPauseSetting")},188623:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsChatPauseSetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query SyncedSettingsChatPauseSetting {\ncurrentUser {\nid\nchatUISettings {\nchatPauseSetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SyncedSettingsChatPauseSetting=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SyncedSettingsChatPauseSetting")},564702:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteOnlyModeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followersOnlyDurationMinutes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slowModeDurationSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubOnlyChat"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"query ChatRoomState($login: String) {\nchannel: user(login: $login) {\nid\nchatSettings {\nisEmoteOnlyModeEnabled\nfollowersOnlyDurationMinutes\nslowModeDurationSeconds\n}\nsubscriptionProducts {\nid\nhasSubOnlyChat\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatRoomState=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatRoomState")},947926:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatList_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"squadStream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamData"},directives:[]}]}}]}}]}}],loc:{start:0,end:381}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/squad-stream/models/squad-stream-fragment.gql"\nquery ChatList_Badges($channelLogin: String!) {\nbadges {\n...badge\n}\nuser(login: $channelLogin) {\nid\nprimaryColorHex\nbroadcastBadges {\n...badge\n}\nself {\nselectedBadge {\n...badge\n}\ndisplayBadges {\n...badge\n}\n}\nsquadStream {\n...squadStreamData\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(982869).definitions)),i.definitions=i.definitions.concat(r(t(591934).definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChatList_Badges=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChatList_Badges")},462966:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVIP"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:170}};n.loc.source={body:"query Chat_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nlogin\ndisplayName\nchatSettings {\nrules\n}\nself {\nisEditor\nisModerator\nisVIP\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_ChannelData=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_ChannelData")},432242:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_UserData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};n.loc.source={body:"query Chat_UserData {\nuser {\nid\ndisplayName\nlogin\nroles {\nisGlobalMod\nisSiteAdmin\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_UserData=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_UserData")},349039:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ClipsChatCard_Clip=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ClipsChatCard_Clip")},909428:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CrowdChantChannelEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"crowdChants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"query CrowdChantChannelEligibility($channelLogin: String!){\nuser(login: $channelLogin) {\nid\nchannel {\nid\ncrowdChants {\nsettings {\nisEligible\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.CrowdChantChannelEligibility=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"CrowdChantChannelEligibility")},699478:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetDeletedMessageDisplaySetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetDeletedMessageDisplaySettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setDeletedMessageDisplaySetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};n.loc.source={body:"mutation SyncedSettingsSetDeletedMessageDisplaySetting($input: SetDeletedMessageDisplaySettingInput!) {\nsetDeletedMessageDisplaySetting(input: $input) {\ndeletedMessageDisplaySetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SyncedSettingsSetDeletedMessageDisplaySetting=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SyncedSettingsSetDeletedMessageDisplaySetting")},437202:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsDeletedMessageDisplaySetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query SyncedSettingsDeletedMessageDisplaySetting {\ncurrentUser {\nid\nchatUISettings {\ndeletedMessageDisplaySetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SyncedSettingsDeletedMessageDisplaySetting=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SyncedSettingsDeletedMessageDisplaySetting")},41570:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};n.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Core_Services_Spade_EmoteCard_User=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Core_Services_Spade_EmoteCard_User")},528174:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:645}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\noffers {\n...subProductOfferFragment\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(73965).definitions)),i.definitions=i.definitions.concat(r(t(993027).definitions)),e.exports=i},824570:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionSummaries"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subSummary"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"subSummary"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionSummary"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDescription"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribedTier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cumulativeTenure"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:741}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID! $octaneEnabled: Boolean!) {\nemote(id: $emoteID) {\nid\ntype\nsubscriptionTier @include(if: $octaneEnabled)\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct @skip(if: $octaneEnabled) {\n...subProduct\n}\nsubscriptionSummaries @include(if: $octaneEnabled) {\n...subSummary\n}\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\ntype\n}\n}\nfragment subSummary on SubscriptionSummary {\nid\nname\noffers {\nid\ncurrency\nexponent\nprice\npromoDescription\n}\nemotes {\nid\ntoken\nsubscriptionTier\n}\nurl\ntier\nmodifiers {\ncode\nname\nsubscriptionTier\n}\nself {\nsubscribedTier\ncumulativeTenure\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(528174).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.EmoteCard=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"EmoteCard")},43116:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetReadableChatColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetReadableChatColorsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setReadableChatColorsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"mutation SyncedSettingsSetReadableChatColors($input: SetReadableChatColorsEnabledInput!) {\nsetReadableChatColorsEnabled(input:$input) {\nisReadableChatColorsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SyncedSettingsSetReadableChatColors=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SyncedSettingsSetReadableChatColors")},591677:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsReadableChatColors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query SyncedSettingsReadableChatColors {\ncurrentUser {\nid\nchatUISettings {\nisReadableChatColorsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SyncedSettingsReadableChatColors=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SyncedSettingsReadableChatColors")},51643:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidUpsell_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"query RaidUpsell_Channel($targetChannelLogin: String $sourceChannelLogin: String) {\ntargetChannel: user(login: $targetChannelLogin) {\nid\nlogin\ndisplayName\n}\nsourceChannel: user(login: $sourceChannelLogin) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.RaidUpsell_Channel=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"RaidUpsell_Channel")},835875:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamChat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isChannelMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query StreamChat ($login: String!) {\nchannel: user(login: $login) {\nid\ndisplayName\nhosting {\nid\n}\nself {\nbanStatus {\nisPermanent\n}\nisChannelMember\nisModerator\nsubscriptionBenefit {\nid\n}\n}\nstream {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.StreamChat=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"StreamChat")},5779:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};n.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.VideoChatCard_Video=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"VideoChatCard_Video")},333330:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:296}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_BanUserFromChatRoom=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_BanUserFromChatRoom")},755324:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_DeleteChatMessage=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_DeleteChatMessage")},375140:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};n.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Chat_UnbanUserFromChatRoom=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Chat_UnbanUserFromChatRoom")},679864:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:306}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatRoomBanStatus=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatRoomBanStatus")},434555:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserBannedStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:164}};n.loc.source={body:"query CurrentUserBannedStatus($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\nexpiresInMs\nreason\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.CurrentUserBannedStatus=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"CurrentUserBannedStatus")},169446:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRestrictions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRestrictedReasons"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastRecentChatMessageAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requireVerifiedAccount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};n.loc.source={body:"query ChatRestrictions($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nchatRestrictedReasons\nlastRecentChatMessageAt\nfollower {\nfollowedAt\n}\n}\nchatSettings {\nrequireVerifiedAccount\n}\n}\ncurrentUser {\nid\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatRestrictions=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatRestrictions")},432504:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBuffer_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDelayMs"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:118}};n.loc.source={body:"query MessageBuffer_Channel($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchatSettings {\nchatDelayMs\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.MessageBuffer_Channel=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"MessageBuffer_Channel")},67523:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBufferChatHistory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recentChatMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"historicalMessage"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"chatHistoryParentMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"historicalMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parentMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"chatHistoryParentMessage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:632}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/message/fragments/message-content-fragment.gql"\nquery MessageBufferChatHistory($channelLogin: String!) {\nchannel(name: $channelLogin) {\nid\nrecentChatMessages {\n...historicalMessage\n}\n}\n}\nfragment chatHistoryParentMessage on Message {\nid\ncontent {\ntext\n}\ndeletedAt\nsender {\nid\nlogin\ndisplayName\n}\n}\nfragment historicalMessage on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nparentMessage {\n...chatHistoryParentMessage\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelLogin: $channelLogin) {\n...badge\n}\n__typename\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(982869).definitions)),i.definitions=i.definitions.concat(r(t(721110).definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.MessageBufferChatHistory=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"MessageBufferChatHistory")},763143:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_ChatEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:116}};n.loc.source={body:"query Core_Services_Spade_ChatEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.Core_Services_Spade_ChatEvent_User=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"Core_Services_Spade_ChatEvent_User")},856253:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};n.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ChatLoginModerationTracking=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ChatLoginModerationTracking")},377631:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:214}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(758164).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.CommunityPoints_Icon=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"CommunityPoints_Icon")},174765:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsGlobalContext"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModifierFragment"},directives:[]}]}}]}}],loc:{start:0,end:160}};i.loc.source={body:'#import "twilight/features/community-points/models/emote-modifier-fragment.gql"\nquery ChannelPointsGlobalContext {\nemoteModifiers {\n...emoteModifierFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(806393).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChannelPointsGlobalContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChannelPointsGlobalContext")},965875:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeGoalTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCommunityGoalType"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"rewardsFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPointAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteVariants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteVariantFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"earningSettingsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastViewedContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userRedemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userRedemptionFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastViewedContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1638}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\n#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\n#import "twilight/features/community-points/models/emote-variant-fragment.gql"\n#import "twilight/features/community-points/models/point-customization-fragment.gql"\n#import "twilight/features/community-points/models/rewards-fragment.gql"\n#import "twilight/features/community-points/models/earning-settings-fragment.gql"\n#import "twilight/features/community-points/models/last-viewed-content-fragments.gql"\n#import "twilight/features/community-points/models/user-redemptions-fragment.gql"\nquery ChannelPointsContext($channelLogin: String! $includeGoalTypes: [CommunityPointsCommunityGoalType!]) {\ncommunity: user(login: $channelLogin) {\nid\ndisplayName\n# We fetch everything here in the top-level query. This avoids data waterfalls that would occur if we\n# only fetched data after first querying whether the channel has points enabled.\n...availableClaimFragment\n...communityPointsBalanceFragment\n...pointCustomizationFragment\n...rewardsFragment\nchannel {\nid\ncommunityPointsSettings {\nisEnabled\nraidPointAmount\nemoteVariants {\n...emoteVariantFragment\n}\nearning {\n...earningSettingsFragment\n}\n}\nself {\ncommunityPoints {\nactiveMultipliers {\n...activeMultipliersFragment\n}\nlastViewedContent {\n...lastViewedContentByTypeFragment\n}\nuserRedemptions {\n...userRedemptionFragment\n}\n}\n}\n}\nself {\nisModerator\n}\n}\ncurrentUser {\nid\ncommunityPoints {\nlastViewedContent {\n...lastViewedContentByTypeAndIDFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(905104).definitions)),i.definitions=i.definitions.concat(r(t(507740).definitions)),i.definitions=i.definitions.concat(r(t(8381).definitions)),i.definitions=i.definitions.concat(r(t(832981).definitions)),i.definitions=i.definitions.concat(r(t(758164).definitions)),i.definitions=i.definitions.concat(r(t(363646).definitions)),i.definitions=i.definitions.concat(r(t(20819).definitions)),i.definitions=i.definitions.concat(r(t(120367).definitions)),i.definitions=i.definitions.concat(r(t(62791).definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChannelPointsContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChannelPointsContext")},501190:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsPredictionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForPredictions"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activePredictionEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lockedPredictionEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resolvedPredictionEvents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventEdgeFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recentPredictions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recentPredictionFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionSettingsFragment"},directives:[]}]}}]}}],loc:{start:0,end:802}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-event-fragment.gql"\n#import "twilight/features/community-points/models/prediction-event-edge-fragment.gql"\n#import "twilight/features/community-points/models/prediction-settings-fragment.gql"\n#import "twilight/features/community-points/models/recent-prediction-fragment.gql"\nquery ChannelPointsPredictionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\nchannel {\nid\npredictionSettings {\nisEligibleForPredictions\n}\nactivePredictionEvents {\n...predictionEventFragment\n}\nlockedPredictionEvents {\n...predictionEventFragment\n}\nresolvedPredictionEvents(first: 1) {\nedges {\n...predictionEventEdgeFragment\n}\n}\nself {\nrecentPredictions {\n...recentPredictionFragment\n}\n}\n}\n}\ncurrentUser {\n...predictionSettingsFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(634410).definitions)),i.definitions=i.definitions.concat(r(t(158367).definitions)),i.definitions=i.definitions.concat(r(t(631879).definitions)),i.definitions=i.definitions.concat(r(t(669646).definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChannelPointsPredictionContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChannelPointsPredictionContext")},885411:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsRewardRedemptionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:215}};i.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsRewardRedemptionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(166545).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.CommunityPointsRewardRedemptionContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"CommunityPointsRewardRedemptionContext")},905104:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"activeMultipliersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}}],loc:{start:0,end:85}};n.loc.source={body:"fragment activeMultipliersFragment on CommunityPointsMultiplier {\nreasonCode\nfactor\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},654:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"automaticRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsAutomaticReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHiddenForSubs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedForIndicatorAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globallyUpdatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:375}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment automaticRewardFragment on CommunityPointsAutomaticReward {\nid\nbackgroundColor\ncost\ndefaultBackgroundColor\ndefaultCost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisHiddenForSubs\nminimumCost\ntype\nupdatedForIndicatorAt\ngloballyUpdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},507740:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"availableClaimFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableClaim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:109}};n.loc.source={body:"fragment availableClaimFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\navailableClaim {\nid\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},8381:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsBalanceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"canRedeemRewardsForFree"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"fragment communityPointsBalanceFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\nbalance\nactiveMultipliers {\nreasonCode\nfactor\n}\ncanRedeemRewardsForFree\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},58747:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityGoalItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCommunityGoal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountNeeded"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"smallContribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perStreamUserMaximumContribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsContributed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:385}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment communityGoalItem on CommunityPointsCommunityGoal {\nbackgroundColor\ndescription\ndurationDays\nendedAt\namountNeeded\nid\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisInStock\nsmallContribution\nperStreamUserMaximumContribution\npointsContributed\nstartedAt\nstatus\ntitle\ntype\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},161991:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsEmoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment communityPointsEmoteFragment on CommunityPointsEmote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},378027:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"customRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownExpiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxPerStreamSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPerStream"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxPerUserPerStreamSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPerUserPerStream"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globalCooldownSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globalCooldownSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaused"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSubOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserInputRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRedemptionsSkipRequestQueue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"redemptionsRedeemedCurrentStream"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prompt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:583}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment customRewardFragment on CommunityPointsCustomReward {\nid\nbackgroundColor\ncooldownExpiresAt\ncost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nmaxPerStreamSetting {\nisEnabled\nmaxPerStream\n}\nmaxPerUserPerStreamSetting {\nisEnabled\nmaxPerUserPerStream\n}\nglobalCooldownSetting{\nisEnabled\nglobalCooldownSeconds\n}\nisEnabled\nisInStock\nisPaused\nisSubOnly\nisUserInputRequired\nshouldRedemptionsSkipRequestQueue\nredemptionsRedeemedCurrentStream\nprompt\ntitle\nupdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},20819:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"earningSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsChannelEarningSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averagePointsPerHour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passiveWatchPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchStreakPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}}]}}],loc:{start:0,end:349}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\nfragment earningSettingsFragment on CommunityPointsChannelEarningSettings {\nid\naveragePointsPerHour\ncheerPoints\nclaimPoints\nfollowPoints\npassiveWatchPoints\nraidPoints\nsubscriptionGiftPoints\nwatchStreakPoints {\npoints\n}\nmultipliers {\n...activeMultipliersFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(905104).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},744108:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModificationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModification"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifier"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globallyUpdatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:253}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\nfragment emoteModificationFragment on CommunityPointsEmoteModification {\nid\nemote {\n...communityPointsEmoteFragment\n}\nmodifier {\nid\n}\ngloballyUpdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(161991).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},806393:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModifierFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconDark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"iconLight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}],loc:{start:0,end:226}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment emoteModifierFragment on CommunityPointsEmoteModifier {\nid\ntitle\niconDark {\n...pointsImageFragment\n}\niconLight {\n...pointsImageFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},832981:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteVariantFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnlockable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModificationFragment"},directives:[]}]}}]}}],loc:{start:0,end:341}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/emote-modification-fragment.gql"\nfragment emoteVariantFragment on CommunityPointsEmoteVariant {\nid\nisUnlockable\nemote {\n...communityPointsEmoteFragment\n}\nmodifications {\n...emoteModificationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(161991).definitions)),i.definitions=i.definitions.concat(r(t(744108).definitions)),e.exports=i},120367:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsLastViewedContentByType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastViewedAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsLastViewedContentByTypeAndID"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastViewedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:243}};n.loc.source={body:"fragment lastViewedContentByTypeFragment on CommunityPointsLastViewedContentByType {\ncontentType\nlastViewedAt\n}\nfragment lastViewedContentByTypeAndIDFragment on CommunityPointsLastViewedContentByTypeAndID {\ncontentID\ncontentType\nlastViewedAt\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},758164:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(387024).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},387024:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},158367:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionEventEdgeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionEventEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}}]}}],loc:{start:0,end:181}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-event-fragment.gql"\nfragment predictionEventEdgeFragment on PredictionEventEdge {\nnode {\n...predictionEventFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(634410).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},634410:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionEventFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionClient"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lockedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"outcomes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionOutcomeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"predictionWindowSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"winningOutcome"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionOutcomeFragment"},directives:[]}]}}]}}],loc:{start:0,end:371}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-outcome-fragment.gql"\nfragment predictionEventFragment on PredictionEvent {\nid\ncreatedAt\ncreatedBy {\n... on ExtensionClient {\nid\n}\n... on User {\nid\ndisplayName\n}\n}\nendedAt\nlockedAt\noutcomes {\n...predictionOutcomeFragment\n}\npredictionWindowSeconds\nstatus\ntitle\nwinningOutcome {\n...predictionOutcomeFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(967752).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},967752:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionOutcomeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionOutcome"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalUsers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topPredictors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:149}};n.loc.source={body:"fragment predictionOutcomeFragment on PredictionOutcome {\nid\ncolor\ntitle\ntotalPoints\ntotalUsers\ntopPredictors {\nid\npoints\nuser {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},631879:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictionsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAcceptedTOS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemporaryChatBadgeEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"fragment predictionSettingsFragment on User {\nid\npredictionsSettings {\nhasAcceptedTOS\nisTemporaryChatBadgeEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},669646:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recentPredictionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Prediction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isResultAcknowledged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"outcome"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsWon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:149}};n.loc.source={body:"fragment recentPredictionFragment on Prediction {\nid\nevent {\nid\n}\nisResultAcknowledged\noutcome {\nid\n}\npoints\npointsWon\npredictedAt\nresult\nupdatedAt\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},363646:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"rewardsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"automaticRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automaticRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"customRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeGoalTypes"},value:{kind:"Variable",name:{kind:"Name",value:"includeGoalTypes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityGoalItem"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:358}};i.loc.source={body:'#import "./automatic-reward-fragment.gql"\n#import "./community-goal-fragment.gql"\n#import "./custom-reward-fragment.gql"\nfragment rewardsFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nautomaticRewards {\n...automaticRewardFragment\n}\ncustomRewards {\n...customRewardFragment\n}\ngoals(includeGoalTypes: $includeGoalTypes) {\n...communityGoalItem\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(654).definitions)),i.definitions=i.definitions.concat(r(t(58747).definitions)),i.definitions=i.definitions.concat(r(t(378027).definitions)),e.exports=i},166545:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};n.loc.source={body:"fragment communityPointsUserFragment on User {\nid\nself {\nsubscriptionBenefit {\nid\n}\nisModerator\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},62791:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userRedemptionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomRewardUserRedemption"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userRedemptionsCurrentStream"},arguments:[],directives:[]}]}}],loc:{start:0,end:123}};n.loc.source={body:"fragment userRedemptionFragment on CommunityPointsCustomRewardUserRedemption {\nreward {\nid\n}\nuserRedemptionsCurrentStream\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},593128:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RedeemCustomReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RedeemCommunityPointsCustomRewardInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"redeemCommunityPointsCustomReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:148}};n.loc.source={body:"mutation RedeemCustomReward($input: RedeemCommunityPointsCustomRewardInput!) {\nredeemCommunityPointsCustomReward(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.RedeemCustomReward=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"RedeemCustomReward")},354483:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendHighlightedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendHighlightedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendHighlightedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"mutation SendHighlightedChatMessage($input: SendHighlightedChatMessageInput!) {\nsendHighlightedChatMessage(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SendHighlightedChatMessage=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SendHighlightedChatMessage")},428116:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendSubsOnlyMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendChatMessageThroughSubscriberModeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendChatMessageThroughSubscriberMode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:163}};n.loc.source={body:"mutation SendSubsOnlyMessage($input: SendChatMessageThroughSubscriberModeInput!) {\nsendChatMessageThroughSubscriberMode(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.SendSubsOnlyMessage=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"SendSubsOnlyMessage")},120019:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.UnlockChosenSubscriberEmote=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"UnlockChosenSubscriberEmote")},450517:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};n.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.UnlockModifiedEmote=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"UnlockModifiedEmote")},149800:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};n.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.UnlockRandomSubscriberEmote=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"UnlockRandomSubscriberEmote")},940910:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCommunityPointsLastViewedContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCommunityPointsLastViewedContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCommunityPointsLastViewedContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastViewedChannelContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastViewedGlobalContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:398}};i.loc.source={body:'#import "twilight/features/community-points/models/last-viewed-content-fragments.gql"\nmutation UpdateCommunityPointsLastViewedContent(\n$input: UpdateCommunityPointsLastViewedContentInput!\n) {\nupdateCommunityPointsLastViewedContent(input: $input) {\nlastViewedChannelContent {\n...lastViewedContentByTypeFragment\n}\nlastViewedGlobalContent {\n...lastViewedContentByTypeAndIDFragment\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(120367).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.UpdateCommunityPointsLastViewedContent=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"UpdateCommunityPointsLastViewedContent")},721110:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageParticle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageParticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageFragment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mentionFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"mentionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"automodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:643}};n.loc.source={body:"fragment messageContent on MessageContent {\ntext\nfragments {\n...messageParticle\n}\n__typename\n}\nfragment messageParticle on MessageFragment {\ntext\ncontent {\n... on CheermoteToken {\n...cheermoteFragment\n}\n... on Emote {\n...emoteFragment\n}\n... on User {\n...mentionFragment\n}\n... on AutoMod {\n...automodFragment\n}\n__typename\n}\n__typename\n}\nfragment cheermoteFragment on CheermoteToken {\nbitsAmount\nprefix\ntier\n__typename\n}\nfragment emoteFragment on Emote {\nemoteID: id\nsetID\ntoken\n__typename\n}\nfragment mentionFragment on User {\nid\nlogin\ndisplayName\n__typename\n}\nfragment automodFragment on AutoMod {\ntopics {\ntype\nweight\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},325664:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:248}};i.loc.source={body:'#import "twilight/features/message/fragments/message-sender/sender-fragment.gql"\n#import "./message-content-fragment.gql"\nfragment messageFields on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nsender {\n...messageSender\n}\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(655987).definitions)),i.definitions=i.definitions.concat(r(t(721110).definitions)),e.exports=i},655987:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageSender"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:187}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nfragment messageSender on User {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\n...badge\n}\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(982869).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},754245:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDisplayName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};n.loc.source={body:"query GetDisplayName($login: String!) {\nuser(login: $login) {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.GetDisplayName=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"GetDisplayName")},226976:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PbyPGame"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query PbyPGame($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.PbyPGame=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"PbyPGame")},116791:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PollsEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query PollsEnabled($login: String!) {\nchannel: user(login: $login) {\nid\nroles {\nisAffiliate\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.PollsEnabled=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"PollsEnabled")},680035:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPollContext_GetViewablePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewablePoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:339}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\n#import "twilight/features/polls/models/poll-voter-fragment.gql"\nquery ChannelPollContext_GetViewablePoll($login: String!) {\nchannel: user(login: $login) {\nid\nviewablePoll {\n...poll\nself {\nvoter {\n...pollVoter\n}\n}\n}\nself {\nisEditor\nisModerator\n}\n}\ncurrentUser {\nid\nbitsBalance\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(940505).definitions)),i.definitions=i.definitions.concat(r(t(159050).definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChannelPollContext_GetViewablePoll=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChannelPollContext_GetViewablePoll")},422883:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPollContext_VoteInPoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VoteInPollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voteInPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:201}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-fragment.gql"\nmutation ChannelPollContext_VoteInPoll($input: VoteInPollInput!) {\nvoteInPoll(input: $input) {\nvoter {\n...pollVoter\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(159050).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChannelPollContext_VoteInPoll=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChannelPollContext_VoteInPoll")},473871:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:271}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollChoice on PollChoice {\nid\ntitle\ntokens { ...pollTokenBreakdown }\ntotalVoters\nvotes { ...pollVoteBreakdown }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),e.exports=i},940505:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"poll"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Poll"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingDurationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topBitsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopBitsContributor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topCommunityPointsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},directives:[]}]}}]}}],loc:{start:0,end:843}};i.loc.source={body:'#import "twilight/features/polls/models/poll-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-settings-fragment.gql"\n#import "twilight/features/polls/models/poll-top-bits-contributor-fragment.gql"\n#import "twilight/features/polls/models/poll-top-community-points-contributor-fragment.gql"\nfragment poll on Poll {\nid\nchoices {\n...pollChoice\n}\ndurationSeconds\nstartedAt\nendedAt\nstatus\ntitle\nownedBy {\nid\n}\ncreatedBy {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\ntotalVoters\nvotes {\n...pollVoteBreakdown\n}\nsettings {\n...pollSettings\n}\nremainingDurationMilliseconds\ntopBitsContributor {\n...pollTopBitsContributor\n}\ntopCommunityPointsContributor {\n...pollTopCommunityPointsContributor\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(473871).definitions)),i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),i.definitions=i.definitions.concat(r(t(912004).definitions)),i.definitions=i.definitions.concat(r(t(2067).definitions)),i.definitions=i.definitions.concat(r(t(569486).definitions)),e.exports=i},912004:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsBitsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityPointsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"multichoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsMultichoice"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsBitsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsBitsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsCommunityPointsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsMultichoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsMultichoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}],loc:{start:0,end:433}};n.loc.source={body:"fragment pollSettings on PollSettings {\nbitsVotes {\n...pollSettingsBitsVotes\n}\ncommunityPointsVotes {\n...pollSettingsCommunityPointsVotes\n}\nid\nmultichoice {\n...pollSettingsMultichoice\n}\n}\nfragment pollSettingsBitsVotes on PollSettingsBitsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsCommunityPointsVotes on PollSettingsCommunityPointsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsMultichoice on PollSettingsMultichoice {\nisEnabled\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},319789:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTokenBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTokenBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:77}};n.loc.source={body:"fragment pollTokenBreakdown on PollTokenBreakdown {\nbits\ncommunityPoints\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},2067:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopBitsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopBitsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96}};n.loc.source={body:"fragment pollTopBitsContributor on PollTopBitsContributor {\nbitsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},569486:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopCommunityPointsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPointsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129}};n.loc.source={body:"fragment pollTopCommunityPointsContributor on PollTopCommunityPointsContributor {\ncommunityPointsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},267527:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoteBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoteBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"base"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:86}};n.loc.source={body:"fragment pollVoteBreakdown on PollVoteBreakdown {\ntotal\nbits\ncommunityPoints\nbase\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},443558:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoterChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoterChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pollChoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:277}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoterChoice on PollVoterChoice {\nid\npollChoice {\nid\n}\ntokens {...pollTokenBreakdown}\nvotes {...pollVoteBreakdown}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),e.exports=i},159050:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoterChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoter on PollVoter {\nid\nchoices {\n...pollVoterChoice\n}\npoll {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\nuser {\nid\nlogin\ndisplayName\n}\nvotes {\n...pollVoteBreakdown\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(443558).definitions)),i.definitions=i.definitions.concat(r(t(319789).definitions)),i.definitions=i.definitions.concat(r(t(267527).definitions)),e.exports=i},595339:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ArchivePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ArchivePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archivePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation ArchivePoll($input: ArchivePollInput!) {\narchivePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.ArchivePoll=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"ArchivePoll")},570526:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:203}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\nmutation CreatePoll($input: CreatePollInput!) {\ncreatePoll(input: $input) {\npoll {\nid\nownedBy {\nid\nlatestPoll {\n...poll\n}\n}\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(940505).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.CreatePoll=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"CreatePoll")},302974:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TerminatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TerminatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"terminatePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation TerminatePoll($input: TerminatePollInput!) {\nterminatePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.TerminatePoll=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"TerminatePoll")},591934:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SquadStream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamMember"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamMember"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}],loc:{start:0,end:186}};n.loc.source={body:"fragment squadStreamData on SquadStream {\nid\nstatus\nmembers {\n...squadStreamMember\n}\nowner {\nid\n}\n}\nfragment squadStreamMember on User {\nid\nlogin\ndisplayName\nprofileImageURL(width:150)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},735254:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subCommunityGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:184}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment subCommunityGiftingFragment on SubscriptionGifting {\ncommunity {\noffer {\n...subProductOfferFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(73965).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})),e.exports=i},73965:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:348}};n.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\ntplr\nplatform\neligibility {\nisEligible\n}\ngiftType\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\nplan {\ninterval {\nduration\nunit\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\npriority\n}\nquantity {\nmin\nmax\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},223343:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:80}};n.loc.source={body:"fragment pendingSubscription on PendingSubscription {\nprice\nstartsAt\ntier\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},767916:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_SubscribeButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subCommunityGiftingFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:882}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/sub-modal/fragments/sub-community-gifting.gql"\n#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery ChannelPage_SubscribeButton_User($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nprimaryColorHex\nsubscriptionProducts {\nid\nemoteSetID\nname\nhasAdFree\noffers {\n...subProductOfferFragment\n}\ngifting {\n...subCommunityGiftingFragment\n}\n}\nself {\ncanPrimeSubscribe\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nfollower {\ndisableNotifications\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nendsAt\nisDNRd\nplatform\npendingSubscription {\n...pendingSubscription\n}\ngift {\nisGift\n}\n}\n}\n}\nrequestInfo {\ncountryCode\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)})}i.definitions=i.definitions.concat(r(t(73965).definitions)),i.definitions=i.definitions.concat(r(t(735254).definitions)),i.definitions=i.definitions.concat(r(t(223343).definitions)),i.definitions=i.definitions.concat(r(t(987876).definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.ChannelPage_SubscribeButton_User=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"ChannelPage_SubscribeButton_User")},993027:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};n.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},756058:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:114}};n.loc.source={body:"query UnbanRequestModal($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nbanStatus {\nisPermanent\nreason\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.UnbanRequestModal=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"UnbanRequestModal")},398421:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestsListCtx"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"20"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestsSortOrder"}},defaultValue:{kind:"EnumValue",value:"NEWEST"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestStatus"}},defaultValue:{kind:"EnumValue",value:"PENDING"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"ObjectField",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unbanRequestsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownMinutes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:554}};i.loc.source={body:'#import "twilight/features/unban-requests/queries/unban-request-fragment.gql"\nquery UnbanRequestsListCtx($channelLogin: String! $limit: Int = 20 $cursor: Cursor $order: UnbanRequestsSortOrder = NEWEST $status: UnbanRequestStatus = PENDING $userID: ID ) {\nchannel(name: $channelLogin) {\nid\nunbanRequests(first: $limit after: $cursor options: { order: $order status: $status userID: $userID }) {\nedges {\ncursor\nnode {\n...unbanRequestFragment\n}\n}\npageInfo {\nhasNextPage\n}\ntotalCount(status: $status)\n}\nunbanRequestsSettings {\nisEnabled\ncooldownMinutes\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(197043).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.UnbanRequestsListCtx=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"UnbanRequestsListCtx")},394169:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CancelUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CancelUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:145}};n.loc.source={body:"mutation CancelUnbanRequest($input: CancelUnbanRequestInput!) {\ncancelUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.CancelUnbanRequest=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"CancelUnbanRequest")},555654:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:155}};n.loc.source={body:"mutation CreateUnbanRequest($input: CreateUnbanRequestInput!) {\ncreateUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\ncreatedAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.CreateUnbanRequest=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"CreateUnbanRequest")},297512:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestModChatLogs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modChatLogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}},{kind:"Argument",name:{kind:"Name",value:"includeTargetedActions"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeMessageCount"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeAutoModCaughtMessages"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestAutoModCaughtMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestChatMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestTargetedModAction"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestChatMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestAutoModCaughtMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoModCaughtMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogsMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestTargetedModAction"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsTargetedModActionsEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"details"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"details"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TargetedModActionDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}],loc:{start:0,end:1556}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery UnbanRequestModChatLogs($channelID: ID! $cursor: Cursor) {\nbadges {\n...badge\n}\nuser(id: $channelID) {\nid\nlogin\nbroadcastBadges {\n...badge\n}\n}\nchannel(id: $channelID) {\nid\nself {\nmodChatLogs(\nafter: $cursor\nfirst: 5\norder: DESC\nincludeTargetedActions: false\nincludeMessageCount: false\nincludeAutoModCaughtMessages: true\n) {\nedges {\nnode {\n...unbanRequestAutoModCaughtMessage\n...unbanRequestChatMessage\n...unbanRequestTargetedModAction\n}\ncursor\n}\n}\n}\n}\n}\n# fragment for chat message\nfragment unbanRequestChatMessage on ModLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n__typename\n}\n__typename\n}\n__typename\n}\n# fragment for chat message caught by automod\nfragment unbanRequestAutoModCaughtMessage on AutoModCaughtMessage {\nid\nstatus\nmodLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n}\n__typename\n}\n__typename\n}\n__typename\n}\nfragment unbanRequestTargetedModAction on ModLogsTargetedModActionsEntry {\nid\naction\ntimestamp\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\ndetails {\n...details\n}\n__typename\n}\nfragment details on TargetedModActionDetails {\nbannedAt\ndurationSeconds\nexpiresAt\nreason\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(982869).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.UnbanRequestModChatLogs=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"UnbanRequestModChatLogs")},67206:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LastUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canRequestUnban"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}}}]}]},{kind:"Field",name:{kind:"Name",value:"lastUnbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolverMessage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unbanRequestRestriction"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}}}]}]}]}}]}}]}}],loc:{start:0,end:290}};n.loc.source={body:"query LastUnbanRequest($channelID: ID! $includeCanRequestUnban: Boolean!) {\nchannel(id: $channelID) {\nid\nself {\ncanRequestUnban @include(if: $includeCanRequestUnban)\nlastUnbanRequest {\nid\nstatus\ncreatedAt\nresolverMessage\n}\nunbanRequestRestriction @include(if: $includeCanRequestUnban)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.LastUnbanRequest=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"LastUnbanRequest")},197043:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requester"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requesterMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolverMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"fragment unbanRequestFragment on UnbanRequest {\nid\ncreatedAt\nstatus\nrequester {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\nrequesterMessage\nresolvedAt\nresolverMessage\nresolvedBy {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},881401:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestsSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequestsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownMinutes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"query UnbanRequestsSettings($channelID: ID!) {\nchannel(id: $channelID) {\nid\nunbanRequestsSettings {\nisEnabled\ncooldownMinutes\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.UnbanRequestsSettings=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"UnbanRequestsSettings")},306269:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"1"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestStatus"}},defaultValue:{kind:"EnumValue",value:"PENDING"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestFragment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:339}};i.loc.source={body:'#import "twilight/features/unban-requests/queries/unban-request-fragment.gql"\nquery UserUnbanRequest($channelID: ID! $userID: ID $limit: Int = 1 $status: UnbanRequestStatus = PENDING) {\nchannel(id: $channelID) {\nid\nunbanRequests(first: $limit options: { userID: $userID status: $status }) {\nedges {\nnode {\n...unbanRequestFragment\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(197043).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.UserUnbanRequest=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"UserUnbanRequest")},115412:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VerifyEmail_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"query VerifyEmail_CurrentUser {\ncurrentUser {\nid\nhasPrime\ndisplayName\nemail\nisEmailVerified\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.VerifyEmail_CurrentUser=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"VerifyEmail_CurrentUser")},531917:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};n.loc.source={body:"query VideoChatChannelAndVideoTrackingContext($videoCreatorID: ID $videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\nuser(id: $videoCreatorID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.VideoChatChannelAndVideoTrackingContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"VideoChatChannelAndVideoTrackingContext")},623004:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndCommentCreatorAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentCreator"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},{kind:"Variable",name:{kind:"Name",value:"commentCreator"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:245}};n.loc.source={body:"query VideoChatChannelAndCommentCreatorAndVideoTrackingContext($videoCreatorID: ID! $commentCreator: ID! $videoID: ID) {\nusers(ids: [$videoCreatorID $commentCreator]) {\nid\nlogin\n}\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.VideoChatChannelAndCommentCreatorAndVideoTrackingContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"VideoChatChannelAndCommentCreatorAndVideoTrackingContext")},812828:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"query VideoChatVideoTrackingContext($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.VideoChatVideoTrackingContext=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"VideoChatVideoTrackingContext")},60112:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChat_TrackingContext_VideoAndCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:197}};n.loc.source={body:"query VideoChat_TrackingContext_VideoAndCurrentUser($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\n}\ncurrentUser {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=n,e.exports.VideoChat_TrackingContext_VideoAndCurrentUser=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(n,"VideoChat_TrackingContext_VideoAndCurrentUser")},719746:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewPollModalQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:301}};i.loc.source={body:'#import "twilight/features/polls/models/poll-settings-fragment.gql"\nquery NewPollModalQuery($id: ID!) {\nchannel: user(id: $id) {\nid\nlatestPoll {\nid\ndurationSeconds\nsettings {\n...pollSettings\n}\n}\ncheer {\nid\n}\n}\ncommunity: user(id: $id) {\nid\nchannel {\nid\ncommunityPointsSettings {\nname\nisEnabled\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(912004).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;e=e.name.value;return!a[e]&&(a[e]=!0)}));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=i,e.exports.NewPollModalQuery=function(n,e){var t={kind:n.kind,definitions:[s(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=s(n,e);e&&t.definitions.push(e)}),t}(i,"NewPollModalQuery")},987876:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};n.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=n},19205:function(e,n,t){"use strict";t.d(n,{P6:function(){return l},pz:function(){return i}});var i,s=t(570655),a=t(294184),r=t(667294),n=t(392271);(t=i=i||{})[t.Up=0]="Up",t[t.Down=1]="Down";var o,t=(o=r.Component,(0,s.__extends)(d,o),d.prototype.render=function(){var e=this.getOrientation(),n=a({"scrollable-trigger__trigger-area":!0,"scrollable-trigger__trigger-area--up":e===i.Up,"scrollable-trigger__trigger-area--down":e===i.Down}),e={height:this.props.pixelThreshold||100};return r.createElement("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef},r.createElement("div",{className:n,ref:this.setRef,style:e}))},d.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},d.prototype.componentWillUnmount=function(){this.unregister()},d.prototype.componentDidUpdate=function(e){return!e.enabled&&this.props.enabled&&this.props.requestVisibilityCheck(this),null},d.prototype.checkVisible=function(r,e,o){return(0,s.__awaiter)(this,void 0,void 0,function(){var n,t,i,a=this;return(0,s.__generator)(this,function(e){switch(e.label){case 0:if(void 0===o&&(o=this.props.requestCap||5),!(this.wrapElement&&this.element&&(this.state.loadedMore||this.props.forceLoadMoreContent)&&!this.state.hasPendingLoadMoreRequest&&this.props.enabled&&0<o))return[3,4];if(i=this.element.getBoundingClientRect(),n=this.props.contentLength,t=this.wrapElement.offsetTop,!this.isTriggerVisible(i,r))return[3,4];this.setState({hasPendingLoadMoreRequest:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return e.sent(),this.setState({hasPendingLoadMoreRequest:!1}),requestAnimationFrame(function(){var e;a.element&&(e=void 0!==a.props.contentLength&&void 0!==n?a.props.contentLength>n:a.wrapElement.offsetTop>t,a.setState({loadedMore:e}),o&&(e||a.props.forceLoadMoreContent)&&a.checkVisible(r,void 0,o-1))}),[3,4];case 3:throw i=e.sent(),this.element&&this.setState({hasPendingLoadMoreRequest:!1}),i;case 4:return[2]}})})},d),l=(0,n.JX)(function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}})(t);function d(){var n=null!==o&&o.apply(this,arguments)||this;return n.state={hasPendingLoadMoreRequest:!1,loadedMore:!0},n.isTriggerVisible=function(e,n){var t=n.top,n=n.top+n.height;return!(e.bottom<t||e.top>n)},n.getOrientation=function(){return void 0===n.props.orientation?i.Up:n.props.orientation},n.setWrapRef=function(e){return n.wrapElement=e},n.setRef=function(e){return n.element=e},n}},374670:function(e,n,t){"use strict";t.d(n,{lb:function(){return a},Ay:function(){return y},Yr:function(){return o},QQ:function(){return s}});var c=t(570655),m=t(667294),p=t(126858),h=t(106801),i=t(906704),g=t(508995),n=t(884979),f=t(622212),v=t(761026),n=(0,n.k)("IsStreamLiveContext",{broadcastID:void 0,isLive:!1,onStreamStatusChange:function(){},streamCreatedAt:void 0}),a=n.withContext,y=n.context,r=function(e){return e};function o(e){return a(r)(e)}var s=function(e){var n=e.channelID,t=m.useState({broadcastID:void 0,isLive:!1,onStreamStatusChange:function(n){a(function(e){return(0,c.__assign)((0,c.__assign)({},e),{isLive:n===f.E.Online})})},streamCreatedAt:void 0}),i=t[0],a=t[1],r=i.broadcastID,o=i.isLive,s=i.streamCreatedAt,l=(0,p.P)(n?(0,g.Vg)(e.channelID):"",{skip:!n})[0],n=(0,h.aM)(v,{pollInterval:n?3e5:void 0,skip:!n||k(l)||!!(S(l)&&o&&r&&s),variables:{id:n}}),d=n.data,u=n.refetch;return m.useEffect(function(){if(k(l)&&(r||o||s))a(function(e){return(0,c.__assign)((0,c.__assign)({},e),{broadcastID:void 0,isLive:!1,streamCreatedAt:void 0})});else{if(S(l)&&!o)return a(function(e){return(0,c.__assign)((0,c.__assign)({},e),{isLive:!0})}),void u();var e=null===(e=null==d?void 0:d.user)||void 0===e?void 0:e.stream,n=null==e?void 0:e.id,t=null==e?void 0:e.createdAt;!k(l)&&n&&n!==r&&t&&t!==s&&a(function(e){return(0,c.__assign)((0,c.__assign)({},e),{broadcastID:n,isLive:!0,streamCreatedAt:t})})}},[r,d,o,l,u,s]),m.createElement(y.Provider,{value:i},e.children)};function k(e){return(null==e?void 0:e.type)===i.qU.ChannelStreamDown}function S(e){return(null==e?void 0:e.type)===i.qU.ChannelStreamUp}},615726:function(e,n,t){"use strict";t.d(n,{Q:function(){return i}});var a=t(570655),r=t(667294),o=t(63031);function i(i){return function(e){return t=r.Component,(0,a.__extends)(n,t),n.prototype.render=function(){return r.createElement(e,(0,a.__assign)({},i(this.props)))},n.displayName=(0,o.G)(n.name,e),n;function n(){return null!==t&&t.apply(this,arguments)||this}var t}}},951255:function(e,n,t){"use strict";t.d(n,{vL:function(){return i},g4:function(){return a},yJ:function(){return r},mf:function(){return o},P0:function(){return s},jR:function(){return l}});var i=1e3,a=60*i,r=60*a,o=24*r,s=7*o,l=30*o},794562:function(e,n,t){"use strict";var i;t.d(n,{t:function(){return i}}),(n=i=i||{})[n.Left=0]="Left",n[n.Middle=1]="Middle",n[n.Right=2]="Right",n[n.Back=3]="Back",n[n.Forward=4]="Forward"},1208:function(e,n,t){"use strict";t.d(n,{G:function(){return a},S:function(){return i}});var i,a={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"};(n=i=i||{}).Prime="prime",n.Tier1="1000",n.Tier2="2000",n.Tier3="3000",n.Custom="Custom"},49320:function(e,n,t){"use strict";t.d(n,{S:function(){return s}});var i=t(570655),a=t(987145),r=t(901323),o=t(594870);function s(){return(0,a.TA)(o,{options:function(){return{variables:{withOwner:!0}}},props:function(e){if(e.data){var n=e.data.currentUser&&e.data.currentUser.emoteSets||[],t=n&&(0,r.Yj)(n);return{emoteSetsData:(0,i.__assign)((0,i.__assign)({},e.data),{currentUser:e.data.currentUser||null,emoteMap:t,emoteSets:n})}}return{}},skip:function(e){return!e.isLoggedIn}})}},685370:function(e,n,t){"use strict";function i(e){e=[e[0],e[1],e[2]].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*e[0]+.7152*e[1]+.0722*e[2]}function a(e,n){e=i(e)+.05,n=i(n)+.05;return n<e?e/n:n/e}function r(e,n){void 0===n&&(n=1);e=e.match(/\w\w/g);if(e){e=e.map(function(e){return parseInt(e,16)});return"rgba("+e[0]+","+e[1]+","+e[2]+","+n+")"}return"rgba(0,0,0,"+n+")"}t.d(n,{$p:function(){return a},E9:function(){return r}})},901323:function(e,n,t){"use strict";t.d(n,{pv:function(){return i},UX:function(){return o},Yj:function(){return s}});var i,a=t(289738),r=t(274178);function o(e,n,t){var n=t.type===i.Position?n:e,n=t.map[n];if(n){n=(e=e,n=n.id,{images:(0,r.u4)(n),alt:e,emoteID:n});return{type:a.S.Emote,content:n}}return null}(t=i=i||{})[t.Position=0]="Position",t[t.Token=1]="Token";var c={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function s(e){for(var n={},t=0,i=e;t<i.length;t++){var a=i[t];if(a&&a.emotes)for(var r=0,o=a.emotes;r<o.length;r++){var s=o[r];if(s&&s.id&&s.token)for(var l=0,d=c[s.token]||[s.token];l<d.length;l++){var u=d[l];n[u]&&"0"===a.id||(n[u]={id:s.id,token:u,type:s.type})}}}return n}},443753:function(e,n,t){"use strict";t.d(n,{n:function(){return i}});var u=t(289738),c=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/((?:\\w|_|-|=)+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),m=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/((\\w|_|-|=)+)(?:$|\\s)?"),p=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?"),h=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,10}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function i(e,n){void 0===n&&(n={});var t=[],i=e.match(h);if(!i)return null;var a=i[0],r=e.indexOf(a);if(0<r){if("@"===e[r-1])return null;t.push({type:u.S.Text,content:e.slice(0,r)})}var o=i[1],i=i[2];!function(e){var n=e[e.length-1];if(")"===n){for(var t=0,i=0,a=e.length-1;i<a;i++){var r=e[i];"("===r?t++:r===n&&(t=Math.max(t-1,0))}return 0===t}}(a)||(a=a.slice(0,-1),i=i.slice(0,-1));var s=""+(o||"https://")+i;if(n.parseClips&&(l=s,i=c.test(l=void 0===l?"":l)&&!l.includes("clips.twitch.tv/2017/"),l=m.test(l),i||l)){var l=function(e){var n=(e=void 0===s?"":s).match(c);if(n&&0<n.length&&void 0!==n.index)return n[1];e=e.match(m);return e&&0<e.length&&void 0!==e.index?e[2]:""}(s);if("create"!==l)return t.push({type:u.S.ClipLink,content:{slug:l,url:s,displayText:a}}),t}if(n.parseVods&&(d=s,p.test(d=void 0===s?"":d))){var d=null!==(d=(void 0===s?"":s).match(p))&&d&&0<d.length&&void 0!==d.index?d[1]:"";return t.push({type:u.S.VideoLink,content:{id:d,url:s,displayText:a}}),t}return t.push({type:u.S.Link,content:{displayText:a,url:s}}),r+a.length<e.length&&t.push({type:u.S.Text,content:e.slice(r+a.length,e.length)}),t}},765256:function(e,n,t){"use strict";t.d(n,{TC:function(){return a},SG:function(){return i}});var m=t(539073),p=t(289738),h=t(901323),s=t(570655),l=t(38339),g=t(443753),f=t(137147),v=t(491528),y=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function k(e,n){if(n){var t=n.displayName,n=n.login;return e===t||e.toLowerCase()===n}}function i(e,n){void 0===n&&(n={});for(var t=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(n){if(!n)return[];var e=n.list.filter(function(e){return e.categories[l.b.Aggressive]&&n.preferences[l.b.Aggressive]||e.categories[l.b.Identity]&&n.preferences[l.b.Identity]||e.categories[l.b.Profanity]&&n.preferences[l.b.Profanity]||e.categories[l.b.Sexual]&&n.preferences[l.b.Sexual]});return 0===e.length?e:(e.sort(function(e,n){return e.startIndex-n.startIndex}),e.reduce(function(e,n,t){if(0===t)return e.push(n),e;t=e[e.length-1];return n.startIndex<=t.endIndex+1?(t.endIndex=Math.max(n.endIndex,t.endIndex),t.categories=(0,s.__assign)((0,s.__assign)({},t.categories),n.categories)):e.push(n),e},[]))}(n.flags),a=0,r=[];a<t.length;)var o=i&&i.shift(),a=o?(r.push.apply(r,d(t.slice(a,o.startIndex),a,n)),r.push({type:p.S.FlaggedSegment,categories:o.categories,content:u(d(t.slice(o.startIndex,o.endIndex+1),o.startIndex,n)),length:o.endIndex-o.startIndex+1,originalText:t.slice(o.startIndex,o.endIndex+1).join("")}),o.endIndex+1):(r.push.apply(r,d(t.slice(a),a,n)),t.length);return u(r)}function d(a,r,e){var o=(e=void 0===e?{}:e).cheers,s=e.emotes,l=e.links,d=e.mentions,u="",c=0;return a.reduce(function(e,n,t){if(S(n))return u="",e;if(0===u.length&&(c=r+t),u+=n,t<a.length-1&&/[.,!]/.test(a[t+1]))return(i=s&&(0,h.UX)(u,c,s))?(u="",e.concat(i)):e;if(t===a.length-1||S(a[t+1])){if(i=s&&(0,h.UX)(u,c,s))return e.concat(i);var i=o&&(0,m.DR)(u,o);if(i)return e.concat(i);i=l&&(0,g.n)(u,l);if(i)return e.concat([i]);i=d&&function(e,n){var t=e.match(y);if(!t)return null;var i=[],a=t[1],r=Boolean(t[2].length),o=t[3],t=e.slice(t[0].length);if(a.length&&i.push((0,v.H)(a)),r){r=f.K.Default;k(o,n.sessionUser)?r=f.K.Recipient:n.sessionUser&&n.sessionUser.login===n.senderLogin&&(r=f.K.Sender),i.push({type:p.S.Mention,content:{recipient:o,currentUserMentionRelation:r}})}else{if(!k(o,n.sessionUser))return null;i.push({type:p.S.CurrentUserHighlight,content:o})}return t.length&&i.push((0,v.H)(t)),i}(u,d);return i?e.concat([i]):e.concat((0,v.H)(u))}return e},[])}function u(e){return e.reduce(function(e,n,t){return 0===t?[].concat.call(e,n):[].concat.call(e,(0,v.H)(" "),n)},[]).reduce(function(e,n,t){if(0===t)return e.concat(n);t=e[e.length-1];return n.type===p.S.Text&&t.type===p.S.Text?(t.content=""+t.content+n.content,e):e.concat(n)},[])}function S(e){return/\s/.test(e)}function a(e){return e.map(function(e){return e.type!==p.S.Emote?{__typename:"MessageFragment",content:null,text:e.content.toString()}:{__typename:"MessageFragment",content:{__typename:"Emote",emoteID:e.content.emoteID||"",token:e.content.alt||"",setID:""},text:e.content.alt||""}})}},491528:function(e,n,t){"use strict";t.d(n,{H:function(){return a}});var i=t(289738);function a(e){return{type:i.S.Text,content:e}}},592407:function(e,n,t){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.d(n,{h:function(){return i}})},548225:function(e,n,t){"use strict";t.d(n,{VA:function(){return m},$u:function(){return p},zO:function(){return h},zk:function(){return g},AE:function(){return i},EU:function(){return o},Nw:function(){return s},$$:function(){return f},y7:function(){return v},IP:function(){return y},oo:function(){return k},gi:function(){return S},O7:function(){return C},dk:function(){return b},h3:function(){return w},yh:function(){return E},U4:function(){return _},LL:function(){return N},qq:function(){return D},G0:function(){return M},vr:function(){return I},iy:function(){return P},OT:function(){return R},cx:function(){return A}});var i,o,s,l,d=t(517563),u=t(831642),c=t(128416),a=t(673271),r=t(146085),m="sort",p="filter",h="range",g="category";function f(e,n,t,i){var a=i||v(n),i="";a&&(i="?"+m+"="+(a!==c.NfQ.VIEWS?o.Newest:o.Popular));var r,r=t?t.toLowerCase():(r=y(n))?r.toLowerCase():"all";u.$6.history.push(e+"/"+r+i)}function v(e){e=d.Qc(e.location.search);return(0,a.dA)(e.sort||"")}function y(e){switch(e.match.params.filter){case c.G7F.ARCHIVE.toLowerCase():return c.G7F.ARCHIVE;case c.G7F.HIGHLIGHT.toLowerCase():return c.G7F.HIGHLIGHT;case c.G7F.UPLOAD.toLowerCase():return c.G7F.UPLOAD;case c.G7F.PAST_PREMIERE.toLowerCase():return c.G7F.PAST_PREMIERE;default:return}}function k(e){var n=d.Qc(e.location.search);return e.match.params.collectionID||n.collection||null}function S(e){return""===e?"":e.startsWith("v")?e:"v"+e}function C(e){e=(0,r.kp)(e,h);if(!e)return null;switch(e.toLowerCase()){case i.All:return i.All;case i.Day:return i.Day;case i.Week:return i.Week;case i.Month:return i.Month;default:return null}}function b(e){e=(0,r.kp)(e,m);if(!e)return null;switch(e.toLowerCase()){case o.Newest:return o.Newest;case o.Popular:return o.Popular;default:return null}}function w(e){e=(0,r.kp)(e,p);if(!e)return null;switch(e.toLowerCase()){case s.Clips:return s.Clips;case s.Collections:return s.Collections;case s.Highlights:return s.Highlights;case s.PastBroadcasts:return s.PastBroadcasts;case s.Uploads:return s.Uploads;case s.All:return s.All;default:return null}}function E(e){return(0,r.kp)(e,g)}function _(e,n,t){return!n&&t?e?"/"+e+"/"+l.Collection+"/"+t:"/collections/"+t:e?"/"+e+"/"+l.Video+"/"+n+(t?"?collection="+t:""):"/videos/"+n+(t?"?collection="+t:"")}function N(e,n,t){var i="/"+e,a=n.match.params.contentType===l.Video&&n.match.params.contentID||n.match.params.videoID||null,r=n.match.params.contentType===l.Clip&&n.match.params.contentID||null,o=P(n),n=d.Qc(n.location.search).collection,i=a?i.concat("/"+l.Video+"/"+a+(n?"?collection="+n:"")):r?i.concat("/"+l.Clip+"/"+r):o&&!n?i.concat("/"+l.Collection+"/"+o):t&&t.filter===s.Clips?i.concat("/clips"):i.concat("/videos");if(t){o=T(t);if(0<Object.keys(o).length)return n?i+"&"+d.Pz(o):i+"?"+d.Pz(o)}return M(e,t)}function D(e,n){e="/collections/"+e,n=T(d.Qc(n.location.search));return 0<Object.keys(n).length?e+"?"+d.Pz(n):e}function M(e,n){e="/"+e+"/videos";if(n){n=T(n);if(0<Object.keys(n).length)return e+"?"+d.Pz(n)}return e}function I(e){return"/"+e+"/videos/edit"}function T(e){var n={};return e.category&&(n[g]=e.category),e.sort&&(n[m]=e.sort),e.filter&&(n[p]=e.filter),e.range&&(n[h]=e.range),n}function P(e){var n=d.Qc(location.search);return e.match.params.contentType===l.Collection&&e.match.params.contentID||e.match.params.collectionID||n.collection||null}function R(e){var n=d.Qc(e.location.search);return e.match.params.categoryID||n.category||null}function A(e){switch(e){case i.All:return c.hIh.ALL_TIME;case i.Day:return c.hIh.LAST_DAY;case i.Week:return c.hIh.LAST_WEEK;case i.Month:return c.hIh.LAST_MONTH;default:return e}}(t=i=i||{}).All="all",t.Month="30d",t.Week="7d",t.Day="24hr",(t=o=o||{}).Popular="views",t.Newest="time",(t=s=s||{}).Clips="clips",t.Collections="collections",t.Highlights="highlights",t.PastBroadcasts="archives",t.Uploads="uploads",t.All="all",t.Featured="featured",(t=l=l||{}).Video="video",t.Clip="clip",t.Collection="collection"},754482:function(e,n,t){"use strict";t.d(n,{_d:function(){return i}});var r=t(570655),a=t(831642),o=t(797425),s="Content-Type",l="application/json; charset=UTF-8",i=(d.get=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.request(n,(0,r.__assign)((0,r.__assign)({},t),{method:"GET"}),i)];case 1:return[2,e.sent()]}})})},d.getOrThrow=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.requestOrThrow(n,(0,r.__assign)((0,r.__assign)({},t),{method:"GET"}),i)];case 1:return[2,e.sent()]}})})},d.put=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.request(n,(0,r.__assign)((0,r.__assign)({},t),{method:"PUT"}),i)];case 1:return[2,e.sent()]}})})},d.putOrThrow=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.requestOrThrow(n,(0,r.__assign)((0,r.__assign)({},t),{method:"PUT"}),i)];case 1:return[2,e.sent()]}})})},d.post=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.request(n,(0,r.__assign)((0,r.__assign)({},t),{method:"POST"}),i)];case 1:return[2,e.sent()]}})})},d.postOrThrow=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.requestOrThrow(n,(0,r.__assign)((0,r.__assign)({},t),{method:"POST"}),i)];case 1:return[2,e.sent()]}})})},d.delete=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.request(n,(0,r.__assign)((0,r.__assign)({},t),{method:"DELETE"}),i)];case 1:return[2,e.sent()]}})})},d.deleteOrThrow=function(n,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,this.requestOrThrow(n,(0,r.__assign)((0,r.__assign)({},t),{method:"DELETE"}),i)];case 1:return[2,e.sent()]}})})},d.request=function(t,i,a){return void 0===i&&(i={}),void 0===a&&(a={}),(0,r.__awaiter)(this,void 0,Promise,function(){var n;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return i=this.constructOptions(i,a),n=i.headers?i.headers[s]:void 0,n=this.serialize(i.body,n),n=(0,r.__assign)((0,r.__assign)({},i),{body:n}),[4,this._fetch(t,n)];case 1:return n=e.sent(),[4,this.constructLegacyAPIResponse(n)];case 2:return[2,e.sent()]}})})},d.requestOrThrow=function(t,i,a){return void 0===i&&(i={}),void 0===a&&(a={}),(0,r.__awaiter)(this,void 0,Promise,function(){var n;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.request(t,i,a)];case 1:if((n=e.sent()).requestError)throw n.requestError;if(n.error)throw new Error("Error while sending legacy-api request: "+n.error.status+" - "+n.error.message);return[2,(0,r.__assign)((0,r.__assign)({},n),{body:n.body})];case 2:throw e.sent();case 3:return[2]}})})},d.getAPIURL=function(e){return new URL(e,a.$6.config.apiBaseURL)},d.constructLegacyAPIResponse=function(a){return(0,r.__awaiter)(this,void 0,Promise,function(){var n,t,i;return(0,r.__generator)(this,function(e){switch(e.label){case 0:n={status:a.status},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,a.json()];case 2:return t=e.sent(),a.ok?n.body=t:n.error=t,[3,4];case 3:return t=e.sent(),a.headers&&a.headers.get&&(i=a.headers.get(s))&&-1!==i.indexOf("application/json")&&(n.requestError=t),[3,4];case 4:return[2,n]}})})},d._fetch=function(n,t){return void 0===t&&(t={}),(0,r.__awaiter)(this,void 0,Promise,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,fetch(this.getAPIURL(n).toString(),t)];case 1:return[2,e.sent()]}})})},d.constructOptions=function(e,n){return Object.assign({},e,{headers:(0,r.__assign)((0,r.__assign)({},this.getDefaultHeaders(e,n)),e.headers)})},d.serialize=function(e,n){return n===l?JSON.stringify(e):"string"==typeof e||e&&FormData.prototype.isPrototypeOf(e)?e:(e&&this.logger.errorAndReport(new Error("Could not serialize this request body for the content-type provided."),"attempting to serialize object with a non-JSON content-type",{contentType:n}),null)},d.getDefaultHeaders=function(e,n){var t=a.$6.store.getState(),i={Accept:"application/vnd.twitchtv.v"+(n.version||5)+"+json; charset=UTF-8","Accept-Language":"en-us","Client-ID":a.$6.config.authSettings.clientID,"X-Device-Id":a.$6.session.deviceID,"X-Requested-With":"XMLHttpRequest"};e.body&&FormData.prototype.isPrototypeOf(e.body)||(i[s]=l);t=(0,o.PR)(t);return t&&(i.Authorization="OAuth "+t.authToken,t.legacyCSRFToken&&(i["Twitch-Api-Token"]=t.legacyCSRFToken)),n.excludeHeaders&&n.excludeHeaders.forEach(function(e){i[e]&&delete i[e]}),i},d.logger=a.$6.logger.withCategory("legacy-api"),d);function d(){}},532210:function(e,n,t){"use strict";t.d(n,{J:function(){return u}});var i=t(667294),a=t(734995),r=t(270406),o=t(58661),s=t(150125),l=t(255687),d=t(831642),u=function(){return i.createElement(a.A,{fullHeight:!0,fullWidth:!0,padding:{y:5}},i.createElement(a.A,{display:r.sS.Flex,justifyContent:r.uM.Center,textAlign:r.PH.Center},i.createElement(o.V,{type:s.yG.H4,fontSize:r.Bf.Size4,bold:!0},(0,d.wv)("Hang in there...","ActivityFeed"))),i.createElement(a.A,{justifyContent:r.uM.Center,display:r.sS.Flex,margin:{top:1}},i.createElement(a.A,{flexGrow:0,display:r.sS.Inline,margin:"auto",textAlign:r.PH.Center},i.createElement(o.V,{type:s.yG.P,fontSize:r.Bf.Size5},(0,d.wv)("We are loading your activity","ActivityFeed")))),i.createElement(a.A,{display:r.sS.Flex,justifyContent:r.uM.Center,margin:{top:2}},i.createElement(l.T,null)))}},376467:function(e,n,t){"use strict";t.d(n,{hB:function(){return v}});var i,n=t(570655),r=t(667294),o=t(296118),s=t(734995),l=t(784395),a=t(928185),u=t(246797),c=t(270406),d=t(58661),m=t(150125),p=t(731110),h=t(831642),g=t(392271),f=t(469419),v=(i=r.Component,(0,n.__extends)(y,i),y.getDerivedStateFromProps=function(e,i){var n=e.matches.reduce(function(e,n,t){return i.selectedMatch?n.replacement===i.selectedMatch.replacement?t:e:0},0);return{selectedMatch:e.matches[n]}},y.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),window.addEventListener("mousemove",this.onMouseMove,!0),this.setContainerHeight(),0<this.props.matches.length&&this.setState({selectedMatch:this.props.matches[0]})},y.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),window.removeEventListener("mousemove",this.onMouseMove,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},y.prototype.render=function(){var e=0===this.props.matches.length?r.createElement(s.A,{padding:{x:.5},"data-test-selector":"autocomplete-match-list-no-matches"},r.createElement(d.V,{type:m.yG.Span,color:c.Il.Alt2},this.messages.noMatches)):this.renderMatches();return r.createElement(s.A,{position:c.Ly.Relative,padding:{top:.5,x:.5}},r.createElement(p.o,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-match-list",overflow:c.nP.Hidden,display:c.sS.Flex,flexDirection:c.Qb.Column},r.createElement("div",{ref:this.setAutocompleteMatchListElement},r.createElement(g._q,{suppressScrollX:!0,scrollRef:this.setScrollableAreaRef},r.createElement(s.A,null,this.props.header,e)))))},y);function y(){var d=null!==i&&i.apply(this,arguments)||this;return d.state={},d.resizeAnimationFrame=0,d.disableMouse=!1,d.messages={noMatches:(0,h.wv)("No matches.","AutocompleteBalloon")},d.logger=h.kg.withCategory("AutocompleteMatchList"),d.renderMatches=function(){var i=new Set,a=[];return d.groupMatches().forEach(function(e,n){var t=e.group;t&&!i.has(t)&&(0!==n&&a.push(r.createElement(o.W,{key:"autocomplete-separator-"+n})),a.push(r.createElement(s.A,{key:"autocomplete-heading-"+n,padding:{x:.5}},r.createElement(l.f,null,t))),i.add(t)),a.push(d.renderMatchListItem(e,n))}),a},d.renderMatchListItem=function(e,n){var t=d.state.selectedMatch,t=t&&t.replacement===e.replacement;return r.createElement(s.A,{"data-test-selector":"autocomplete-match-list-matches",key:"autocomplete-match-"+n,ref:t?d.focusOnOption:void 0},r.createElement(a.RM,{borderRadius:u.c.Small,"data-a-target":e.replacement,"data-click-index":n,hover:t,onClick:d.onMatchClick,onMouseEnter:d.handleMatchMouseEnter,type:a.x8.Alpha},r.createElement(s.A,{alignItems:c.g1.Center,display:c.sS.Flex,padding:{x:.5}},e.element)))},d.handleMatchMouseEnter=function(e){d.disableMouse||(e=d.getMatchFromEvent(e))&&d.setState({selectedMatch:e})},d.onMatchClick=function(e){e=d.getMatchFromEvent(e);e&&d.props.onMatchSelect(e)},d.getMatchFromEvent=function(e){var n=d.groupMatches(),e=e.currentTarget.getAttribute("data-click-index");return!e||+e>=n.length?(d.logger.errorAndReport(new Error,"The index received from the UI element was not found in props.matches."),null):n[+e]},d.handleKeydown=function(e){function n(){e.preventDefault(),e.stopPropagation()}var t=e.charCode||e.keyCode;switch(d.disableMouse=!0,t){case f.m.Tab:case f.m.Enter:n(),d.props.matches.length&&d.state.selectedMatch?d.props.onMatchSelect(d.state.selectedMatch,e.altKey):d.props.onDismiss();break;case f.m.Up:case f.m.Down:if(!d.state.selectedMatch||!d.props.matches.length)return;var i=d.groupMatches(),a=i.indexOf(d.state.selectedMatch);if(-1===a)return void d.logger.errorAndReport(new Error,"The selected match was not found in props.matches.");n();var r=t===f.m.Up?-1:1,r=i[d.getIndexWithinLength(a+r,d.props.matches.length)];d.setState({selectedMatch:r})}},d.groupMatches=function(){for(var e={},n=0,t=d.props.matches;n<t.length;n++){var i=t[n];(r=e[a=i.group||"undefined"]||[]).push(i),e[a]=r}for(var a,r,o=[],s=0,l=Object.keys(e).sort(d.sortGroups);s<l.length;s++)(r=e[a=l[s]])&&o.push.apply(o,r);return o},d.sortGroups=function(e,n){return"undefined"===e?1:"undefined"===n?-1:n<e?1:e<n?-1:0},d.getIndexWithinLength=function(e,n){e%=n;return e<0?e+n:e},d.onResize=function(){d.resizeAnimationFrame||(d.resizeAnimationFrame=requestAnimationFrame(d.setContainerHeight))},d.setContainerHeight=function(){var e=d.props.containerElement&&d.props.containerElement.clientHeight||1080;d.scrollableArea&&d.scrollableArea.root&&(d.scrollableArea.root.style.maxHeight=e+"px"),d.resizeAnimationFrame=0},d.focusOnOption=function(e){var n,t;e&&d.AutocompleteMatchListElement&&(n=e.getBoundingClientRect(),t=d.AutocompleteMatchListElement.getBoundingClientRect(),n.bottom>t.bottom&&e.scrollIntoView(!1),n.top<t.top&&e.scrollIntoView())},d.onMouseMove=function(){d.disableMouse=!1},d.setAutocompleteMatchListElement=function(e){d.AutocompleteMatchListElement=e},d.setScrollableAreaRef=function(e){return d.scrollableArea=e},d}},916306:function(e,n,t){"use strict";t.d(n,{Kc:function(){return i},hT:function(){return u},$f:function(){return h}});var i,s=t(570655),a=t(667294),r=t(400054),o=t(104086),l=t(469419),n=t(884979),d=t(5021),c=t(36141);(t=i=i||{}).InputComponent="input",t.TextAreaComponent="textarea";var m,n=(0,n.k)("Autocomplete",{registerAutocompleteProvider:function(){return function(){return null}}}),u=n.withContext,p=n.context,h=(m=a.Component,(0,s.__extends)(g,m),g.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},g.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value),!n.matches&&this.state.matches&&(0,c.K)({autocompleteType:this.state.autocompleteType,source:this.props.suggestionSource})},g.prototype.render=function(){var e=(0,s.__assign)((0,s.__assign)({},this.props),{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return a.createElement(p.Provider,{value:this.contextForChildren},this.props.componentType===i.InputComponent?a.createElement(r.II,(0,s.__assign)({},e,{type:e.type||r.n$.Text})):a.createElement(o.K,(0,s.__assign)({},e,{autoComplete:e.htmlAutocomplete})),this.props.children)},g.prototype.getValue=function(){return this.state.value},g.prototype.setValue=function(e){this.resetDisplayState({value:e})},g.prototype.registerAutocompleteProvider=function(n){var t=this;return this.providers.push(n),function(){var e=t.providers.indexOf(n);t.providers.splice(e,1)}},g);function g(){var u=null!==m&&m.apply(this,arguments)||this;return u.state={autocompleteType:d.J.None,matchedCursorPosition:0,matches:null,value:""},u.providers=[],u.contextForChildren={registerAutocompleteProvider:u.registerAutocompleteProvider.bind(u)},u.onChange=function(e){u.setState({value:e.target.value},function(){u.getMatches()}),u.props.onChange&&u.props.onChange(e)},u.onKeyDown=function(e){function n(){u.props.onKeyDown&&u.props.onKeyDown(e)}function t(){e.preventDefault(),e.stopPropagation()}var i=e.charCode||e.keyCode;if(i!==l.m.Enter){switch(i){case l.m.Tab:u.state.matches||u.getMatches(!0)&&t();break;case l.m.Esc:u.state.matches&&(t(),u.resetDisplayState())}n()}else n()},u.setComponentRefDelegate=function(e){u.componentRef=e,u.props.componentRefDelegate&&u.props.componentRefDelegate(e)},u.getMatches=function(e){var n=u.state.value;if(0===u.providers.length||0===n.length)return u.resetDisplayState(),!1;var t=u.getCurrentCursorPosition();if(!(t>n.length))for(;t<n.length&&!/\s/.test(n.charAt(t));)t++;var i=n.substring(0,t);if(0===i.length||/\s/.test(i.substring(i.length-1)))return u.resetDisplayState(),!1;for(var i=i.split(/\s/),a=i.length-1,r=i[a],o=0,s=u.providers;o<s.length;o++){var l=s[o];if(!e||l.canBeTriggeredByTab){var d=l.getMatches(r,e,a);if(d)return u.props.onMatch&&u.props.onMatch(d,u.insertReplacement,u.resetDisplayState),u.setState({autocompleteType:l.autocompleteType,matchedCursorPosition:t,matches:d}),!0}}return u.resetDisplayState(),!1},u.resetDisplayState=function(e,n){u.props.onReset&&u.props.onReset();e=(0,s.__assign)((0,s.__assign)((0,s.__assign)({},u.state),{autocompleteType:d.J.None,matches:null}),e||{});u.setState(e,n)},u.insertReplacement=function(e){var n,t,i=u.state.value,a=u.state.matchedCursorPosition,r=i.substring(0,a),o=r.lastIndexOf(e.current);-1===o?(r=r.concat(e.replacement+" "),a=r.length):(r=""+(n=r.substring(0,o))+(o=(i=i.length>o+e.current.length?i.substring(o+e.current.length):"").startsWith(" ")?e.replacement:e.replacement+" ")+i,i=u.getNextCursorSelection(n,o,i,e),a=i.start,t=i.end),(0,c.c)((0,s.__assign)((0,s.__assign)({},u.props.trackingParams||{}),{autocompleteType:u.state.autocompleteType,completedText:e.replacement,source:u.props.suggestionSource,usedReplySuggestion:!1})),u.resetDisplayState({value:r},function(){u.setCursorSelection(a,t)})},u.getCurrentCursorPosition=function(){var e;return(null===(e=u.componentRef)||void 0===e?void 0:e.selectionStart)||0},u.getNextCursorSelection=function(e,n,t,i){var a=e.length+n.length;if(i.selection){i=n.indexOf(i.selection);return{start:e.length+i,end:t.startsWith(" ")?a:a-1}}return{start:a,end:a}},u.setCursorSelection=function(e,n){u.componentRef&&(u.componentRef.setSelectionRange(e,n||e),u.componentRef.focus())},u}},140436:function(e,n,t){"use strict";t.d(n,{O:function(){return y}});var a,i=t(570655),r=t(667294),o=t(137703),s=t(14890),l=t(408892),d=t(734995),u=t(58661),c=t(150125),m=t(592407),p=t(523094),h=t(916306),g=t(5021),n=t(719689),f=t(823955),i=(a=r.Component,(0,i.__extends)(v,a),v.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},v.prototype.componentWillUnmount=function(){this.unregister()},v.prototype.render=function(){return null},v);function v(){var i=null!==a&&a.apply(this,arguments)||this;return i.autocompleteType=g.J.Emote,i.canBeTriggeredByTab=!1,i.hydrateEmotes=(0,l.M)(function(e,n,t){for(var i=[],a=0,r=e;a<r.length;a++){var o=r[a];o&&o.id&&o.emotes&&i.push({id:o.id,emotes:(0,f.j8)(o.emotes,n,t)})}return i}),i.getMatches=function(e){return!e.startsWith(":")||e.length<3?null:i.getMatchedEmotes(e)},i.getMatchedEmotes=function(e){var n=i.hydrateEmotes(i.props.emotes,i.props.isEmoteAnimationsEnabled,i.props.theme);if(!n||0===n.length)return null;var t=e.substring(1),n=n.reduce(function(e,n){n=n.emotes.filter(function(e){return i.doesEmoteMatchTerm(e,t)});return e.concat(n)},[]),n=(0,f.Oe)(n);return(n=(0,f.Eg)(n,t)).map(function(e){return{type:g.J.Emote,current:":"+t,replacement:e.token,element:i.renderEmoteSuggestion(e)}})},i.doesEmoteMatchTerm=function(e,n){var t=new RegExp("^"+(0,m.h)(n),"i");if(e.token.match(t))return!0;for(var t=new RegExp(""+(0,m.h)(n.charAt(0)).toUpperCase(),"g"),i=new RegExp("^"+(0,m.h)(n.slice(1)),"i"),a=0,r=Array.from(e.token.matchAll(t));a<r.length;a++){var o=r[a];if(o.index&&e.token.slice(o.index+1).match(i))return!0}return!1},i.renderEmoteSuggestion=function(e){return[r.createElement(d.A,{padding:.5,flexShrink:0,key:"emote-img-"+e.id},r.createElement("img",{alt:e.token+"-emote",className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),r.createElement(u.V,{type:c.yG.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},i}var y=(0,s.qC)((0,o.$j)(function(e){return{theme:(0,p.zv)(e)}}),(0,h.hT)(function(e){return e}),(0,n.Im)(function(e){return{isEmoteAnimationsEnabled:e.value}}))(i)},428331:function(e,n,t){"use strict";t.d(n,{p:function(){return i},m:function(){return a}});var i={Chat:"chat",Feed:"feed",Whisper:"whisper"},a={Command:"/",Emote:":",Hashtag:"#",Mention:"@",Tab:"Tab",Whisper:"/w"}},5021:function(e,n,t){"use strict";var i;t.d(n,{J:function(){return i}}),(n=i=i||{}).Command="command",n.Emote="emote",n.Mention="mention",n.Hashtag="hashtag",n.None="none"},36141:function(e,n,t){"use strict";t.d(n,{K:function(){return l},c:function(){return d}});function i(e){switch(e){case s.J.Command:return o.m.Command;case s.J.Emote:return o.m.Emote;case s.J.Hashtag:return o.m.Hashtag;case s.J.Mention:return o.m.Mention;default:return void a.kg.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}}var a=t(831642),r=t(742407),o=t(428331),s=t(5021),l=function(e){var n=i(e.autocompleteType);n&&(n={source:e.source,start_character:n},a.UO.track(r.N.ChatSuggestion,n))},d=function(e){var n=i(e.autocompleteType);n&&(e={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:n,used_reply_suggestion:e.usedReplySuggestion},a.UO.track(r.N.ChatSuggestionComplete,e))}},283140:function(e,n,t){"use strict";t.d(n,{k:function(){return i}});var s=t(667294),l=t(99274),d=t(624316),u="broadcaster",i=function(t){var i=t.badgesToRender,a=t.badgeSets,r=t.hideBroadcasterTooltip,o=t.tabbable;if(!i)return null;var e=[];Array.isArray(i)?e=i.map(function(e){e=a.getBadge(e.setID,e.version);return null===e?null:t.usesSchemaBadges?s.createElement(l.Ct,{key:e.setID+"/"+e.version,schemaBadge:e,tabbable:o,hideTooltip:e.setID===u&&r,overrideClick:t.overrideBadgeClickHandler,uiContext:d.Y.ChatBadgeList,channelID:t.channelID}):s.createElement(l.Ct,{key:e.setID+"/"+e.version,badge:e,tabbable:o,hideTooltip:e.setID===u&&r,overrideClick:t.overrideBadgeClickHandler,uiContext:d.Y.ChatBadgeList,channelID:t.channelID})}):Array.isArray(i)||(e=Object.keys(i).map(function(e){var n=i[e],e=a.getBadge(e,n);if(null===e)return null;n=t.dynamicData&&t.dynamicData[e.setID];return t.usesSchemaBadges?s.createElement(l.Ct,{key:e.setID+"/"+e.version,schemaBadge:e,dynamicData:n,tabbable:o,hideTooltip:e.setID===u&&r,overrideClick:t.overrideBadgeClickHandler,uiContext:d.Y.ChatBadgeList,channelID:t.channelID}):s.createElement(l.Ct,{key:e.setID+"/"+e.version,badge:e,dynamicData:n,tabbable:o,hideTooltip:e.setID===u&&r,overrideClick:t.overrideBadgeClickHandler,uiContext:d.Y.ChatBadgeList,channelID:t.channelID})}));e=e.filter(function(e){return null!==e});return s.createElement("span",null,e)};i.displayName="BadgeList"},99274:function(e,n,t){"use strict";t.d(n,{Ct:function(){return u}});var a,n=t(570655),c=t(294184),m=t(667294),p=t(734995),h=t(270406),g=t(680176),f=t(687837),v=t(175424),y=t(831642),i=t(128416),r=t(952743),o=t(191881),k=t(437115),S=t(731332),s=t(624316),C=t(623114),l=t(702738),b=t(210631),d="https://www.twitch.tv/products/turbo?ref=chat_badge",u=(a=m.Component,(0,n.__extends)(w,a),w.prototype.render=function(){var e=this.props.schemaBadge||this.props.badge,n=e&&function(e,n){if(!n)return e.title;var t=Number(n)||0;if("subscriber"!==e.setID)return"founder"===e.setID?0<t?(0,y.wv)("Founder, {tenure}-Month Subscriber",{tenure:String(t)},"DynamicBadgeTitles"):(0,y.wv)("Founder","DynamicBadgeTitles"):"predictions"===e.setID?(0,y.wv)('Predicted "{outcome}"',{outcome:n},"DynamicBadgeTitles"):e.title;e=Number(e.version)||0;return 0<t?0===e?(0,y.wv)("{tenure}-Month Subscriber",{tenure:String(t)},"DynamicBadgeTitles"):(0,y.wv)("{tenure}-Month Subscriber ({title} Badge)",{tenure:String(t),title:(0,S.TC)(e)},"DynamicBadgeTitles"):(0,y.wv)("Subscriber","DynamicBadgeTitles")}(e,this.props.dynamicData)||"",t=this.props.schemaBadge?this.props.schemaBadge.version:this.props.badge&&this.props.badge.version||"",i=this.props.schemaBadge?this.props.schemaBadge.setID:this.props.badge&&this.props.badge.setID||"",a=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",r=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",o=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",s=this.props.large,l=this.props.hideTooltip,d=c({"chat-badge":!this.props.noMargins}),u=s?r:a,o=s?r+" 1x, "+o+" 2x":a+" 1x, "+r+" 2x, "+o+" 4x";i===k.So&&(n=(0,k.DA)(n,t));u=m.createElement("img",{alt:n,"aria-label":(0,y.wv)("{badgeTitle} badge",{badgeTitle:n},"Badge"),className:d,src:u,srcSet:o,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}),o=this.props.isLocked?m.createElement("figure",null,m.createElement(p.A,{display:h.sS.Flex,justifyContent:h.uM.End,position:h.Ly.Absolute,alignItems:h.g1.End},m.createElement(C.Eb,{lockIcon:C.x2.LOCK,className:"chat-badge__lock"})),u):u;return this.targetURL=this.getTargetURL(),this.props.overrideClick?o=m.createElement(g.E,{onClick:this.onBadgeClickHandler,tabIndex:!1===this.props.tabbable?-1:void 0,"data-a-target":"chat-badge"},o):""!==this.targetURL&&(u=this.onBadgeClickHandler,e&&"cHJlbWl1bTsxOw=="===e.id&&(this.primeReferralID=(0,b.Nn)(),this.targetURL=(0,b.G)(this.targetURL,this.primeReferralID),u=this.onPrimeBadgeClickHandler),o=m.createElement(f.s,{linkTo:this.targetURL,onClick:u,tabIndex:!1===this.props.tabbable?-1:void 0,targetBlank:!0,"data-a-target":"chat-badge"},o)),!l&&this.state.isHovering?m.createElement(v.ns,{align:v.Mg.Left,"data-a-target":"chat-badge",display:h.sS.Inline,key:a,label:n,offsetY:"0.9rem"},o):o},w.prototype.getTargetURL=function(){if(this.props.badge){if(this.props.badge.setID===k.So)return"";switch(this.props.badge.clickAction){case o.iq:case i.Tnw.VISIT_URL:return this.props.badge.clickURL;case o.tj:case i.Tnw.SUBSCRIBE:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case o.cz:case i.Tnw.GET_TURBO:return d;default:return""}}else if(this.props.schemaBadge){if(this.props.schemaBadge.setID===k.So)return"";switch(this.props.schemaBadge.clickAction){case o.iq:case i.Tnw.VISIT_URL:return this.props.schemaBadge.clickURL||"";case o.tj:case i.Tnw.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case o.cz:case i.Tnw.GET_TURBO:return d;default:return""}}return""},w.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/subs/"+e},w);function w(){var i=null!==a&&a.apply(this,arguments)||this;return i.state={isHovering:!1},i.primeReferralID="",i.onMouseOver=function(){i.setState({isHovering:!0})},i.onMouseOut=function(){i.setState({isHovering:!1})},i.onBadgeClickHandler=function(e){var n=i.props.badge||i.props.schemaBadge,t=(null==n?void 0:n.title)||"";if(n)switch(i.props.overrideClick&&i.props.overrideClick(n,e),(0,l.lS)(n.version)){case l.ny.TIER_2:t+="_flaired_tier_2";break;case l.ny.TIER_3:t+="_flaired_tier_3"}(0,s.q)({badge_type:t,badge_url_target:i.targetURL,ui_context:i.props.uiContext,channel_id:null!==(n=i.props.channelID)&&void 0!==n?n:""})},i.onPrimeBadgeClickHandler=function(e){(0,b.VV)({tp_refcode:i.primeReferralID,medium:r.bn.Chat,content:r.d8.CrownBadge,tp_campaign:b.F1.TrackingAlpha}),i.onBadgeClickHandler(e)},i}},191881:function(e,n,t){"use strict";t.d(n,{tj:function(){return i},cz:function(){return a},iq:function(){return r},io:function(){return o}});var i="subscribe_to_channel",a="turbo",r="visit_url",o="broadcaster"},292224:function(e,n,t){"use strict";t.d(n,{t:function(){return a}});var i=t(570655);function a(e){return(0,i.__assign)((0,i.__assign)({},e),{clickURL:e.clickURL||""})}},437115:function(e,n,t){"use strict";t.d(n,{So:function(){return a},_k:function(){return r},DA:function(){return o},OG:function(){return s}});var i=t(831642),a="bits";function r(e,n){return e&&e.setID===a&&e.title&&!s(e)?o(e.title,e.version):(0,i.Fo)(n,{maximumFractionDigits:2})}function o(e,n){if(e.endsWith(n)){var t=parseInt(n,10);if(!isNaN(t))return""+e.substring(0,e.length-n.length)+(0,i.Fo)(t,{maximumFractionDigits:2})}return e}function s(e){return e.title==="cheer "+e.version}},75552:function(e,n,t){"use strict";t.d(n,{yW:function(){return i},jw:function(){return o},UW:function(){return s}});var a=t(570655),r=t(128416),i=(l.prototype.getBadge=function(e,n){var t=this.channelsBySet.get(e);return t&&t.has(n)?t.get(n)||null:void 0!==(t=this.globalsBySet.get(e))&&t.get(n)||null},l.prototype.indexBadges=function(e,t,i){e.forEach(function(e){i&&e.clickAction&&e.clickAction===r.Tnw.SUBSCRIBE&&(e=(0,a.__assign)((0,a.__assign)({},e),{channelName:i}));var n=t.get(e.setID);n||(n=new Map,t.set(e.setID,n)),n.set(e.version,e)})},l),o=new i([],[],""),s=function(e){var n={};return e&&e.forEach(function(e){null!==e&&(n[e.setID]=e.version)}),n};function l(e,n,t){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map;var i=e.filter(function(e){return!!e}),e=n?n.filter(function(e){return!!e}):[];this.count=i.length+(n?e.length:0),this.indexBadges(i,this.globalsBySet,t),Array.isArray(n)&&this.indexBadges(e,this.channelsBySet,t)}},624316:function(e,n,t){"use strict";t.d(n,{Y:function(){return i},q:function(){return o}});var i,a=t(831642),r=t(742407);(t=i=i||{}).AppointedModCallout="appointed_moderator_callout",t.BitsBenefits="bits_benefits",t.BitsCallout="bits_callout",t.ChatBadgeList="chat_badge_list",t.ChatReplayMessage="chat_replay_message",t.ChatSettingsNameDisplay="chat_settings_name_display",t.CommunityPointsRedemptionReward="community_points_redemption_reward",t.SubBadgeProgress="sub_badge_progress",t.SubBadgeModifierUpsell="sub_badge_modifier_upsell",t.SubGiftProgress="sub_gift_progress",t.SubscriptionBenefits="subscription_benefits";var o=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),a.$6.tracking.track(r.N.ChatBadgeClick,e)}},430452:function(e,n,t){"use strict";t.d(n,{I:function(){return a}});var r,n=t(570655),o=t(294184),s=t(667294),l=t(734995),d=t(270406),u=t(440837),c=t(382448),m=t(246797),p=t(831642);(t=r=r||{}).CloseButton="bits-card-wrapper-close-button-selector",t.OuterWrapper="bits-card-wrapper-outer-selector",t.InnerWrapper="bits-card-wrapper-inner-selector";var i,a=(i=s.PureComponent,(0,n.__extends)(h,i),h.prototype.render=function(){var e=this.props,n=e.onUserClose,t=e.children,i=e.className,a=e.dataATarget,e=e.closeDataATarget,n=n?s.createElement(l.A,{position:d.Ly.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0,zIndex:d.KN.Above},s.createElement(u.Ei,{"aria-label":(0,p.wv)("close Bits card","BitsCard"),"data-a-target":e,"data-test-selector":r.CloseButton,onClick:n,icon:c.e.Close,type:u.c.Secondary,size:u.hp.Small})):null;return s.createElement(l.A,{"data-test-selector":r.OuterWrapper,className:o("bits-card-wrapper",i),"data-a-target":a,display:d.sS.Flex,flexDirection:d.Qb.Column,position:d.Ly.Absolute,background:d.Aq.Base,borderRadius:m.c.Large,elevation:3,zIndex:d.KN.Above,fullWidth:!0},n,s.createElement(l.A,{"data-test-selector":r.InnerWrapper,display:d.sS.Flex,flexDirection:d.Qb.Column,alignItems:d.g1.Center,justifyContent:d.uM.Center,flexGrow:1,fullWidth:!0},t))},h.defaultProps={dataATarget:"bits-card",closeDataATarget:"bits-card-close-button"},h);function h(){return null!==i&&i.apply(this,arguments)||this}},295183:function(e,n,t){"use strict";t.d(n,{V:function(){return s}});var i=t(667294),a=t(734995),r=t(687837),o=t(831642),s=function(e){return i.createElement(a.A,{padding:{top:2,bottom:1}},i.createElement(r.s,{onClick:e.onClickHelp},(0,o.wv)("How do I cheer?","Bits--CheermoteIntro")))}},689242:function(e,n,t){"use strict";t.d(n,{zn:function(){return k},R6:function(){return _},vA:function(){return D},jX:function(){return U},WO:function(){return P},Pq:function(){return A},l6:function(){return R},Cm:function(){return L},Tx:function(){return x},zy:function(){return M},VL:function(){return F},Gf:function(){return T},O3:function(){return I},fV:function(){return E}});var i,a=t(147292),r=t(831642),o=t(654816),s=t(570655),l=t(667294),n=t(137703),d=t(359166),u=t(687837),c=t(734995),m=t(58661),p=t(270406),h=t(523094),g=t(295183),f=t(85357);(i=i=i||{}).Container="lazy-carousel-container",i.Prev="lazy-carousel-prev-button",i.Next="lazy-carousel-next-button",i.NavDot="lazy-carousel-nav-dot",i.NavDotContainer="lazy-carousel-nav-dot-container",i.Animation="lazy-carousel-animation-container";var v,s=(v=l.Component,(0,s.__extends)(y,v),y.prototype.render=function(){return l.createElement(c.A,{className:"mega-commerce-bitscard__bg",padding:{x:2,top:2}},l.createElement(c.A,null,l.createElement(m.V,{className:"mega-commerce-banner__title",fontSize:p.Bf.Size4,fontWeight:p.U9.SemiBold,"data-test-selector":"MegaCommerceBitsCardCalloutTitle"},I()),l.createElement(c.A,{padding:{top:.5,bottom:1}},l.createElement(m.V,null,P(this.learnMoreElement)))),l.createElement(c.A,{display:p.sS.Flex,justifyContent:p.uM.Center,flexDirection:p.Qb.Row},this.renderEmotes),l.createElement(c.A,{padding:{bottom:1}},l.createElement(g.V,{onClickHelp:this.props.onClickHelp})))},y);function y(){var n=null!==v&&v.apply(this,arguments)||this;return n.state={currIndex:0},n.renderEmotes=U().map(function(e){return l.createElement(d.p,{key:e.emoteString,className:"mega-commerce-bitscard__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})}),n.learnMoreElement=function(e){return l.createElement(u.s,{targetBlank:!0,linkTo:D(),onClick:n.learnMoreClick},e)},n.learnMoreClick=function(){(0,f.gk)({user_id:n.props.currentUserID||"",source:f.Cg.BitsCard})},n}var k,s=(0,n.$j)(function(e){return{theme:(0,h.zv)(e),currentUserID:e.session.user&&e.session.user.id||null}})(s),S=t(184807);(t=k=k||{}).Cheer="CHEER",t.Subscription="SUBSCRIPTION",t.SubGift="SUBGIFT";var C={startDateDynamicSetting:"megacommerce_holiday_2020_part1_start_date",endDateDynamicSetting:"megacommerce_holiday_2020_part1_end_date",eventDomain:"holiday_2020_megacommerce",eventTestDomain:"holiday_2020_megacommerce",intro:s,MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"holiday-2020-part1-megacommerce-callout-dismissed",getHelpLink:function(){return"https://help.twitch.tv/s/article/hindsight-2020"},getTitle:function(){return(0,r.wv)("Hindsight 2020","Holiday2020MegaCommercePart1")},getSubsString:function(n){return(0,r.wv)("Celebrate the season with the first collection of 2020-inspired emotes. Through {date}, Subscribe or Gift a Sub to earn emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(N(C),{day:"numeric",month:"numeric"}),"x:link":function(e){return n(e)}},"Holiday2020MegaCommercePart1")},getBitsString:function(n){return(0,r.wv)("Celebrate the season with the first collection of 2020-inspired emotes. Through {date}, Cheer at least 300 Bits, Subscribe, or Gift a Sub to earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(N(C),{day:"numeric",month:"numeric"}),"x:link":function(e){return n(e)}},"Holiday2020MegaCommercePart1")},getResubChatCalloutTitle:function(e){return(0,r.wv)("{monthsSubbed, plural, one {Share your # month sub anniversary to get emote rewards!} other {Share your # month sub anniversary to get emote rewards!}}",{monthsSubbed:e},"Holiday2020MegaCommercePart1")},getSubButtonCalloutString:function(e){return C.getBitsString(e)},getSubButtonCalloutEmote:function(){return{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Party/112.png",emoteString:"2020Party"}},getGiftImage:function(e){return 100<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-4x.png"}:50<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-4x.png"}:20<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-4x.png"}:10<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-4x.png"}:5<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-4x.png"}:1<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}},getSubModalEmotes:function(){return[{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Unroll/112.png",emoteString:"2020Unroll"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Pajamas/112.png",emoteString:"2020Pajamas"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Gift/112.png",emoteString:"2020Gift"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020HomeWork/112.png",emoteString:"2020HomeWork"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Capture/112.png",emoteString:"2020Capture"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Surprise/112.png",emoteString:"2020Surprise"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Rivalry/112.png",emoteString:"2020Rivalry"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Party/112.png",emoteString:"2020Party"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Selfie/112.png",emoteString:"2020Selfie"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Delivery/112.png",emoteString:"2020Delivery"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Suspicious/112.png",emoteString:"2020Suspicious"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020SpeakUp/112.png",emoteString:"2020SpeakUp"}]},getBitsCardEmotes:function(){return[{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Unroll/112.png",emoteString:"2020Unroll"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Pajamas/112.png",emoteString:"2020Pajamas"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Gift/112.png",emoteString:"2020Gift"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020HomeWork/112.png",emoteString:"2020HomeWork"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020SpeakUp/112.png",emoteString:"2020SpeakUp"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Selfie/112.png",emoteString:"2020Selfie"},{src:S.mT+"/holiday-2020-megacommerce/round1/emotes/2020Delivery/112.png",emoteString:"2020Delivery"}]}},b={startDateDynamicSetting:"megacommerce_holiday_2020_part2_start_date",endDateDynamicSetting:"megacommerce_holiday_2020_part2_end_date",eventDomain:"holiday_2020_megacommerce",eventTestDomain:"holiday_2020_megacommerce",intro:s,MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"holiday-2020-part2-megacommerce-callout-dismissed",getHelpLink:function(){return"https://help.twitch.tv/s/article/hindsight-2020"},getTitle:function(){return(0,r.wv)("Hindsight 2020","Holiday2020MegaCommercePart2")},getSubsString:function(n){return(0,r.wv)("Wrap up the year and ring in NYE with new 2020-inspired emotes. When you Subscribe or Gift a Sub through {date}, youll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(N(b),{day:"numeric",month:"numeric"}),"x:link":function(e){return n(e)}},"Holiday2020MegaCommercePart2")},getBitsString:function(n){return(0,r.wv)("Wrap up the year and unwrap the second collection of 2020-inspired emotes. When you Cheer at least 300 Bits, Subscribe, or Gift a Sub through {date}, youll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(N(b),{day:"numeric",month:"numeric"}),"x:link":function(e){return n(e)}},"Holiday2020MegaCommercePart2")},getResubChatCalloutTitle:function(e){return(0,r.wv)("{monthsSubbed, plural, one {Share your # month sub anniversary to get emote rewards!} other {Share your # month sub anniversary to get emote rewards!}}",{monthsSubbed:e},"Holiday2020MegaCommercePart2")},getSubButtonCalloutString:function(n){return(0,r.wv)("Wrap up the year and ring in NYE with new 2020-inspired emotes. When you Cheer at least 300 Bits, Subscribe, or Gift a Sub through {date}, youll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:(0,r.p6)(N(b),{day:"numeric",month:"numeric"}),"x:link":function(e){return n(e)}},"Holiday2020MegaCommercePart2")},getSubButtonCalloutEmote:function(){return{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"}},getGiftImage:function(e){return 100<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-4x.png"}:50<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-4x.png"}:20<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-4x.png"}:10<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-4x.png"}:5<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-4x.png"}:1<=e?{"1x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-1x.png","2x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-2x.png","4x":S.mT+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}},getSubModalEmotes:function(){return[{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Shred/112.png",emoteString:"2020Shred"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Wish/112.png",emoteString:"2020Wish"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Takeout/112.png",emoteString:"2020Takeout"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020MaskUp/112.png",emoteString:"2020MaskUp"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Unity/112.png",emoteString:"2020Unity"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Shhh/112.png",emoteString:"2020Shhh"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Partnered/112.png",emoteString:"2020Partnered"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Drop/112.png",emoteString:"2020Drop"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Celebrate/112.png",emoteString:"2020Celebrate"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Snacking/112.png",emoteString:"2020Snacking"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Glitchy/112.png",emoteString:"2020Glitchy"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Forward/112.png",emoteString:"2020Forward"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Victory/112.png",emoteString:"2020Victory"}]},getBitsCardEmotes:function(){return[{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Takeout/112.png",emoteString:"2020Takeout"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Snacking/112.png",emoteString:"2020Snacking"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Celebrate/112.png",emoteString:"2020Celebrate"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Shred/112.png",emoteString:"2020Shred"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Victory/112.png",emoteString:"2020Victory"},{src:S.mT+"/holiday-2020-megacommerce/round2/emotes/2020Forward/112.png",emoteString:"2020Forward"}]}},w=[C,b];function E(){return!!_()}function _(){if(!w||!w.length)return null;for(var e=0,n=w;e<n.length;e++){var t=n[e],i=r.oH.get(t.startDateDynamicSetting,"2020-10-19 14:00:00 GMT-0700");if(!(0,a.isAfter)((0,o.sG)(i),Date.now())){i=r.oH.get(t.endDateDynamicSetting,"2020-10-30 23:59:59 GMT-0700");if((0,a.isAfter)((0,o.sG)(i),Date.now()))return t}}return null}function N(e){e=r.oH.get(e.endDateDynamicSetting,"2020-05-31T06:59:59Z");return(0,o.sG)(e)}function D(){var e=_();if(e)return e.getHelpLink()}function M(e){var n=_();return(n?n.MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"")+(e?"-"+e:"")}function I(){var e=_();return e?e.getTitle():null}function T(e){var n=_();return n?n.getSubsString(e):null}function P(e){var n=_();return n?n.getBitsString(e):null}function R(e){var n=_();return n?n.getSubButtonCalloutString(e):null}function A(){var e=_();return e?e.getSubButtonCalloutEmote():{emoteString:"",src:""}}function L(e){var n=_();return n?n.getGiftImage(e):{"1x":"","2x":"","4x":""}}function F(){var e=_();return e?e.getSubModalEmotes():[]}function U(){var e=_();return e?e.getBitsCardEmotes():[]}function x(e){var n=_();return n?n.getResubChatCalloutTitle(e):""}},435338:function(e,n,t){"use strict";t.d(n,{I:function(){return i}});var l=t(570655),d=t(667294),u=t(311360),c=t(299017),m=t(802624),p=((t={})[m.aN.Cute]={numOfParticlesPerSecond:40,scale:.7,velocityMin:20,velocityMax:30,decayMin:.025,decayMax:.025,accelerationY:.4,delayUntilDecay:400,drag:.14,particleDelay:500},t[m.aN.Noice]={numOfParticlesPerSecond:55,scale:.85,velocityMin:28,velocityMax:38,decayMin:.015,decayMax:.015,accelerationY:.6,delayUntilDecay:500,drag:.14,particleDelay:500},t[m.aN.Cool]={numOfParticlesPerSecond:65,scale:1,velocityMin:35,velocityMax:45,decayMin:.01,decayMax:.01,accelerationY:.8,delayUntilDecay:600,drag:.14,particleDelay:500},t[m.aN.Wow]={numOfParticlesPerSecond:80,scale:1,velocityMin:40,velocityMax:50,decayMin:.004,decayMax:.008,accelerationY:1,delayUntilDecay:800,drag:.14,particleDelay:500},t[m.aN.PogChamp]={numOfParticlesPerSecond:80,scale:1.25,velocityMin:55,velocityMax:70,decayMin:.004,decayMax:.008,accelerationY:1.25,delayUntilDecay:800,drag:.14,particleDelay:500},t[m.aN.OmegaPog]={numOfParticlesPerSecond:90,scale:1.5,velocityMin:70,velocityMax:90,decayMin:0,decayMax:0,accelerationY:1.5,delayUntilDecay:0,drag:.14,particleDelay:500},t[m.aN.ExtinctionEvent]={numOfParticlesPerSecond:100,scale:2,velocityMin:80,velocityMax:100,decayMin:0,decayMax:0,accelerationY:2,delayUntilDecay:0,drag:.14,particleDelay:500},t[m.aN.Cheer1]={numOfParticlesPerSecond:5,scale:.7,velocityMin:10,velocityMax:20,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},t[m.aN.Cheer100]={numOfParticlesPerSecond:10,scale:1,velocityMin:10,velocityMax:20,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},t[m.aN.Cheer1000]={numOfParticlesPerSecond:15,scale:1,velocityMin:10,velocityMax:20,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},t[m.aN.Cheer5000]={numOfParticlesPerSecond:20,scale:1.1,velocityMin:15,velocityMax:25,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},t[m.aN.Cheer10000]={numOfParticlesPerSecond:30,scale:1.2,velocityMin:15,velocityMax:30,decayMin:.55,decayMax:.75,accelerationY:.03,delayUntilDecay:0,drag:0,particleDelay:0},t),i=function(e){var n=e.className,t=e.width,i=e.height,a=e.intensity,r=e.duration,o=e.images,e=e.onAnimationEnd,s=(s=p[a])||p[m.aN.Cute],a=(0,d.useMemo)(function(){return new c.P((0,l.__assign)((0,l.__assign)({},s),{images:o,distance:800,particleDelay:s.particleDelay,xLeft:0,xRight:t}),0,!1,r)},[s,r,o,t]);return d.createElement(u.M,{className:n,width:t,height:i,effects:[a],drag:s.drag,acceleration:{x:0,y:s.accelerationY,z:0},distance:800,onAnimationEnd:e})}},311360:function(e,n,t){"use strict";t.d(n,{M:function(){return i}});function f(e,n){return e.map(function(e){return{createTimestamp:n,startTimestamp:n+e.delay,updateTimestamp:n,endTimestamp:n+e.delay+e.duration,effect:e}})}var r=t(667294),i=function(d){var i,n=(0,r.useRef)([]),t=(0,r.useRef)(null),a=(0,r.useRef)(null),u=(0,r.useRef)(!1),c=(0,r.useRef)(!1),m=(0,r.useRef)(0),p=(0,r.useRef)(null),h=(0,r.useRef)(null),g=(0,r.useRef)(0);return(0,r.useEffect)(function(){0===d.effects.length&&(u.current=!0,c.current=!0)},[d.effects.length]),(0,r.useEffect)(function(){h.current&&d.effects.length!==n.current.length&&(n.current=f(d.effects,h.current),m.current=0,u.current=!1,c.current=!1)},[d.effects]),i=function(i){a.current||(a.current=i,0===n.current.length&&(n.current=f(d.effects,a.current))),p.current||(p.current=i),h.current||(h.current=i);var r,e,o=i-h.current,s=(o+g.current)/(1e3/60),l=t.current;!l||(r=l.getContext("2d"))&&(r.save(),r.clearRect(0,0,l.clientWidth,l.clientHeight),r.restore(),n.current)&&(n.current.filter(function(e){return i>=e.startTimestamp}).forEach(function(t){t.effect.particles.filter(function(e){return i>=t.startTimestamp+e.delay}).forEach(function(e){if(o<1e4)for(var n=0;n<s;n++)e.vx+=d.acceleration.x,e.vx*=1-d.drag,e.vy+=d.acceleration.y,e.vy*=1-d.drag,e.vz+=d.acceleration.z,e.vz*=1-d.drag,e.dx+=e.vx,e.dy+=e.vy,e.dz+=e.vz,i>=t.startTimestamp+e.delay+e.delayUntilDecay&&(e.alpha*=1-e.decay)}),t.effect.particles=t.effect.particles.filter(function(e){var n=0<=e.dx+e.img.width&&e.dx-e.img.width<=l.clientWidth&&e.dy-e.img.height<=l.clientHeight&&e.dz>=-d.distance&&.03<=e.alpha&&o<1e4;if(n||!d.loop)return n;n=t.updateTimestamp-t.createTimestamp;return n<=i&&t.effect.resetParticle(e,n),!0});var a=0,e=t.endTimestamp||(d.duration?t.startTimestamp+d.duration+t.effect.delay:t.startTimestamp+1e4),n=.8*((e=Math.min(e,t.startTimestamp+1e4))-t.startTimestamp)+t.startTimestamp;n<i&&(a=(i-n)/(e-n)),t.effect.particles.filter(function(e){return i>=t.startTimestamp+e.delay}).forEach(function(e){var n=e.img.width,t=e.img.height;r.save();var i=(e.dz+d.distance)/d.distance;r.translate(-1*n/2,-1*t/2),r.translate(Math.floor(e.dx),Math.floor(e.dy)),r.rotate(e.xyRotation),r.translate(-Math.floor(e.dx),-Math.floor(e.dy)),r.globalAlpha=1-a,r.drawImage(e.img,Math.floor(e.dx),Math.floor(e.dy),Math.floor(n*i*e.scale),Math.floor(t*i*e.scale)),r.restore()}),t.updateTimestamp=i}),n.current=n.current.filter(function(e){var n=0===e.effect.particles.length;return n&&d.onEffectEnd&&d.onEffectEnd(e.effect.id,i-e.startTimestamp),!n}),0!==n.current.length||u.current||(d.onLoopEnd&&(e=i-p.current,u.current=!0,d.onLoopEnd(e,m.current)),d.loop?n.current.map(function(e){return e.effect.reset()}):(d.onAnimationEnd&&!c.current&&(e=i-a.current,c.current=!0,d.onAnimationEnd(e)),n.current=[]),m.current++,p.current=null),h.current=i,g.current+=o-Math.floor(s)*(1e3/60))},(0,r.useEffect)(function(){var n=0,t=function(e){i(e),n=requestAnimationFrame(t)},n=requestAnimationFrame(t);return function(){cancelAnimationFrame(n)}},[[],i]),r.createElement("canvas",{className:d.className,width:d.width,height:d.height,ref:t})}},995935:function(e,n,t){"use strict";t.d(n,{Q:function(){return i}});var a=t(560772),i=(r.prototype.resetParticle=function(e,n){e.dx=e.initialDx,e.dy=e.initialDy,e.dz=e.initialDz,e.vx=e.initialVx,e.vy=e.initialVy,e.vz=e.initialVz,e.xyRotation=e.initialXYRotation,e.alpha=e.initialAlpha,e.decay=e.initialDecay,e.delayUntilDecay=e.initialDelayUntilDecay,e.delay=n},r.prototype.reset=function(){var n=this;this.particles.forEach(function(e){return n.resetParticle(e,0)})},r.prototype.isEnded=function(){return 0===this.particles.length},r);function r(e,n,t,i){void 0===n&&(n=0),void 0===t&&(t=!1),void 0===i&&(i=1e3),this.id=(0,a._f)(),this.particles=e,this.delay=n,this.loop=t,this.duration=i}},299017:function(e,n,t){"use strict";t.d(n,{P:function(){return i}});var p,n=t(570655),h=t(191738),g=t(994947),t=t(995935),i=(p=t.Q,(0,n.__extends)(a,p),a.prototype.resetParticle=function(e,n){p.prototype.resetParticle.call(this,e,n),e.delay+=this.duration-(0,g.Iy)(0,1e3)},a);function a(e,n,t,i,a,r){void 0===t&&(t=!1),void 0===a&&(a=0),void 0===r&&(r=0);for(var o=[],s=(i=void 0===i?1e3:i)*(e.numOfParticlesPerSecond/1e3),l=(0,g.MX)(-1,1)<0?-1:1,d=0;d<s;d++){var u=e.images[(0,g.Iy)(0,e.images.length)],c=(0,g.MX)(e.xLeft+u.width,e.xRight-u.width),m=(0,g.Iy)(0,i);o.push(new h.h(u,c,a,(0,g.MX)(0,e.distance),(0,g.MX)(-.15*l,.75*l),(0,g.MX)(.75*r,1.75*r),0,(0,g.MX)(-Math.PI/4,Math.PI/4),1,(0,g.MX)(e.decayMin,e.decayMax),i,m,e.scale,!1))}return p.call(this,o,n,t,i)||this}},191738:function(e,n,t){"use strict";t.d(n,{h:function(){return i}});var h=t(560772),i=function(e,n,t,i,a,r,o,s,l,d,u,c,m,p){this.id=(0,h._f)(),this.img=e,this.dx=n,this.initialDx=n,this.dy=t,this.initialDy=t,this.dz=i,this.initialDz=i,this.vx=a,this.initialVx=a,this.vy=r,this.initialVy=r,this.vz=o,this.initialVz=o,this.xyRotation=s,this.initialXYRotation=s,this.alpha=l,this.initialAlpha=l,this.decay=d,this.initialDecay=d,this.delayUntilDecay=u,this.initialDelayUntilDecay=u,this.delay=c,this.initialDelay=c,this.scale=m,this.initialScale=m,this.loop=p}},994947:function(e,n,t){"use strict";t.d(n,{MX:function(){return i},Iy:function(){return a}});var i=function(e,n){return Math.random()*(n-e)+e},a=function(e,n){return Math.floor(i(e,n))}},124822:function(e,n,t){"use strict";t.d(n,{O9:function(){return m},w6:function(){return p}});var i,a=t(570655),r=t(667294),o=t(831642),n=t(884979),s=t(196171),d=t(834707),u=o.$6.logger.withCategory("chat-commands"),c=/^[/.]([a-z0-9]+)\s*([\s\S]+)?$/i,n=(0,n.k)("ChatCommandContext",{getCommands:function(e){return[]},addCommand:function(e){return null},removeCommand:function(e){return null},handleCommand:function(e,n){return{handled:!1}},prevCommand:null,clearPrevCommand:function(){return null}}),l=n.context,m=n.withContext,p=(i=r.Component,(0,a.__extends)(h,i),h.getDerivedStateFromProps=function(e,n){return e.channelLogin!==n.prevPropsChannelLogin?{commands:{},prevPropsChannelLogin:e.channelLogin,value:(0,a.__assign)((0,a.__assign)({},n.value),{prevCommand:null})}:null},h.prototype.render=function(){return r.createElement(l.Provider,{value:this.state.value},this.props.children)},h);function h(e){var l=i.call(this,e)||this;return l.getCommands=function(e,n){for(var t=[],i=0,a=Object.values(l.state.commands);i<a.length;i++){var r=a[i],o=e>=r.permissionLevel,s=(null==n?void 0:n.isEditor)&&r.allowEditorUsage;r.hidden||!o&&!s||t.push(r)}return t},l.addCommand=function(n){l.setState(function(e){return{commands:(0,a.__assign)((0,a.__assign)({},e.commands),((e={})[n.name]=n,e))}})},l.removeCommand=function(n){l.setState(function(e){e=(0,a.__assign)({},e.commands);return delete e[n.name],{commands:e}})},l.handleCommand=function(e,n){var t=e.match(c);if(!t)return{handled:!1};var i=t[1],a=(t[2]||"").trim(),r=l.state.commands[i.toLowerCase()];if(l.setPrevCommand({message:e,command:i.toLowerCase(),args:a}),!r)return{command:i,handled:!1};t=(0,d.tq)(r);if(t&&!a||t===a)return{command:i,handled:!0,result:{deferred:Promise.resolve({notice:r.helpText,error:s.U.MissingParameters})}};t={channelLogin:n},n=r.handler;if(!n)return{command:i,handled:!1};try{return{command:i,handled:!0,result:n(a,t)}}catch(e){return u.warn("Exception thrown from chat command handler",{command:r,err:e}),{command:i,handled:!1}}},l.setPrevCommand=function(n){l.setState(function(e){return{value:(0,a.__assign)((0,a.__assign)({},e.value),{prevCommand:n})}})},l.clearPrevCommand=function(){l.setState(function(e){return{value:(0,a.__assign)((0,a.__assign)({},e.value),{prevCommand:null})}})},l.state={commands:{},prevPropsChannelLogin:e.channelLogin,value:{getCommands:l.getCommands,addCommand:l.addCommand,removeCommand:l.removeCommand,handleCommand:l.handleCommand,prevCommand:null,clearPrevCommand:l.clearPrevCommand}},l}},152271:function(e,n,t){"use strict";t.d(n,{Us:function(){return i},Hs:function(){return r},A2:function(){return o},Mp:function(){return s},Zt:function(){return l},rP:function(){return d},AW:function(){return u}});var i,a=t(560772);function r(e,n){return{type:i.PushHighlight,event:e,id:n,viewUUID:(0,a._f)()}}function o(e){return{type:i.RemoveHighlight,id:e}}function s(e,n){return{type:i.MoveToHighlight,id:e,shouldExpand:!!n}}function l(){return{type:i.OpenListAllView}}function d(){return{type:i.CloseListAllView}}function u(e){return{type:i.ToggleExpanded,id:e}}(t=i=i||{}).PushHighlight="push-highlight",t.RemoveHighlight="remove-highlight",t.MoveToHighlight="move-to-highlight",t.OpenListAllView="open-list-all-view",t.CloseListAllView="close-list-all-view",t.ToggleExpanded="toggle-expanded"},391831:function(e,n,t){"use strict";t.d(n,{Xb:function(){return g},fQ:function(){return l},vJ:function(){return r},ox:function(){return d},eT:function(){return o}});function i(e,n){var t=e.highlights[e.currentIndex];switch(n.type){case m.Us.PushHighlight:var i=e.highlights.findIndex(function(e){return e.id===n.id});if(0<=i){var a={event:n.event,expanded:e.highlights[i].expanded,id:n.id,viewUUID:n.viewUUID};return(0,c.__assign)((0,c.__assign)({},e),{highlights:p(e.highlights,a,i)})}var r={event:n.event,expanded:!1,id:n.id,viewUUID:n.viewUUID},o=e.currentIndex;t&&t.expanded&&(o+=1);var s=t&&t.expanded||e.listAllView;return(0,c.__assign)((0,c.__assign)({},e),{highlights:h(e.highlights,r,o),notifications:s?(0,c.__spreadArrays)([n.id],e.notifications):e.notifications});case m.Us.RemoveHighlight:a=e.highlights.filter(function(e){return e.id!==n.id}),i=e.notifications.filter(function(e){return e!==n.id}),r=e.currentIndex;r>a.length-1&&(r=Math.max(a.length-1,0));o=e.listAllView,s=e.uuid;return 0===a.length&&(s=(o=!1,u._f)()),{highlights:a,currentIndex:r,notifications:i,listAllView:o,uuid:s};case m.Us.MoveToHighlight:var l=e.highlights.findIndex(function(e){return e.id===n.id});if(0<=l){var d=e.highlights[l],d=n.shouldExpand?p(e.highlights,(0,c.__assign)((0,c.__assign)({},d),{expanded:!0}),l):e.highlights;return(0,c.__assign)((0,c.__assign)({},e),{highlights:d,currentIndex:l,notifications:[],listAllView:!1})}return e;case m.Us.ToggleExpanded:d=e.highlights.findIndex(function(e){return e.id===n.id});if(0<=d){l=e.highlights[d];return l.expanded=!l.expanded,(0,c.__assign)((0,c.__assign)({},e),{highlights:p(e.highlights,l,d)})}return e;case m.Us.OpenListAllView:return(0,c.__assign)((0,c.__assign)({},e),{listAllView:!0});case m.Us.CloseListAllView:return(0,c.__assign)((0,c.__assign)({},e),{notifications:[],listAllView:!1});default:return e}}var a=t(667294),u=t(560772),n=t(884979),c=t(570655),m=t(152271),p=function(e,t,i){return e.map(function(e,n){return n===i?t:e})},h=function(e,n,t){return(0,c.__spreadArrays)(e.slice(0,t),[n],e.slice(t))},t=(0,n.k)("HighlightStackDispatchContext",function(){return null}),r=t.context,o=t.withContext,s={highlights:[],notifications:[],currentIndex:0,listAllView:!1,uuid:(0,u._f)()},n=(0,n.k)("HighlightStackContext",s),l=n.context,d=n.withContext,g=function(e){var n=a.useReducer(i,s),t=n[0],n=n[1];return a.createElement(r.Provider,{value:n},a.createElement(l.Provider,{value:t},e.children))}},159632:function(e,n,t){"use strict";t.d(n,{e:function(){return l}});var i,a=t(570655),n=t(667294),r=t(831642),o=t(560772),s=t(497354),l=(i=n.Component,(0,a.__extends)(d,i),d.prototype.componentDidMount=function(){(0,s.MK)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,eventID:this.eventID,privateCalloutSID:this.privateCalloutSID,hasCTA:this.hasCTA})},d.prototype.trackDismiss=function(){this.trackAction(s.N9.Dismiss,s.iv.PrivateCallout)},d.prototype.trackAction=function(e,n,t,i){(0,s.ET)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,eventID:this.eventID,privateCalloutSID:this.privateCalloutSID,action:e,msgBody:t,usedPrompt:i,uiContext:n})},d.prototype.trackCTAClick=function(e){(0,s.qD)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,eventID:this.eventID,privateCalloutSID:this.privateCalloutSID,uiContext:s.iv.PrivateCallout,clickType:e})},d);function d(){var e=null!==i&&i.apply(this,arguments)||this;return e.closeString=(0,r.wv)("Close","ChatPrivateCallout"),e.privateCalloutSID=(0,o._f)(),e.hasCTA=!0,e}},266489:function(e,n,t){"use strict";t.d(n,{FR:function(){return v},kw:function(){return k}});var i,a=t(570655),r=t(667294),o=t(14890),s=t(146747),l=t(23015),d=t(626650),u=t(734995),c=t(270406),m=t(831642),p=t(991633),h=t(159632),n=t(430028),g=t(497354),f=t(971212),v="reply-by-keyboard-callout-seen",a=(i=h.e,(0,a.__extends)(y,i),y.prototype.render=function(){var e,n=this;return r.createElement(s.U,{closeButton:{"aria-label":this.closeString,onClick:function(){n.onClose()}},message:r.createElement(l.Z,{title:(e=p.U.os.isMacOS(),(0,m.wv)("Use {shortcut} to select recent messages sent by this user.",{shortcut:r.createElement(u.A,{display:c.sS.InlineFlex,alignItems:c.g1.Center},r.createElement(f.T,{text:e?"option":"Alt"}),r.createElement(f.T,{text:""}))},"ReplyByKeyboardCallout")),pill:{label:(0,m.wv)("Tip","ReplyByKeyboardCallout"),type:d.R.Brand}}),padding:1})},y);function y(){var e=null!==i&&i.apply(this,arguments)||this;return e.trackingType=g.$O.ReplyByKeyboard,e.hasCTA=!1,e.onClose=function(){e.trackDismiss(),m.tO.set(v,!0),e.props.popCallout()},e}var k=(0,o.qC)((0,n.Sf)(function(e){return{popCallout:e.popCallout}}))(a)},885643:function(e,n,t){"use strict";t.d(n,{x:function(){return m}});var i,n=t(570655),a=t(667294),r=t(734995),o=t(58661),s=t(270406),l=t(796441),d=t(663657),u=t(382448),c=t(831642),m=(i=a.Component,(0,n.__extends)(p,i),p.prototype.render=function(){var e=(0,c.wv)("We can show your {monthsSubbed} month sub anniversary reminder to you again later, or choose to:",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubCallout"),n=(0,c.wv)("You will not be able to share your {monthsSubbed} month sub anniversary reminder again. Future anniversary reminders will still show.",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubContextMenu");return this.state.showSkipConfirmation?a.createElement(r.A,null,a.createElement(o.V,null,n),a.createElement(r.A,{padding:{y:2},display:s.sS.Flex,justifyContent:s.uM.End},a.createElement(r.A,{margin:{right:.5}},a.createElement(l.zx,{onClick:this.hideSkipConfirmation,size:l.qE.Small,children:(0,c.wv)("Go back","ShareResubContextMenu"),type:l.L$.Secondary})),a.createElement(l.zx,{onClick:this.props.onSkip,size:l.qE.Small,children:(0,c.wv)("Okay","ShareResubContextMenu")}))):a.createElement(r.A,null,a.createElement(o.V,{bold:!0,color:s.Il.Alt2},(0,c.wv)("Change when you'll see this","ShareResubCallout")),a.createElement(r.A,{padding:{y:.5}},a.createElement(o.V,{color:s.Il.Alt2},e)),a.createElement(r.A,{fullWidth:!0,border:!0,margin:{y:.5}}),this.props.onPin&&a.createElement(d.M,{label:(0,c.wv)("Pin this here","ShareResubContextMenu"),onClick:this.props.onPin,figure:{icon:u.e.Pin}}),this.props.onHide&&a.createElement(d.M,{label:(0,c.wv)("Show on next visit","ShareResubContextMenu"),onClick:this.props.onHide,figure:{icon:u.e.EventsReminderAdd}}),this.props.onSkip&&a.createElement(d.M,{label:(0,c.wv)("Skip this month's alert","ShareResubContextMenu"),onClick:this.showSkipConfirmation,figure:{icon:u.e.VisibilityHidden}}))},p);function p(){var e=null!==i&&i.apply(this,arguments)||this;return e.state={showSkipConfirmation:!1},e.showSkipConfirmation=function(){e.setState({showSkipConfirmation:!0})},e.hideSkipConfirmation=function(){e.setState({showSkipConfirmation:!1})},e}},430028:function(e,n,t){"use strict";t.d(n,{Av:function(){return o},Sf:function(){return s},pY:function(){return l}});var i,r=t(570655),a=t(667294),t=(0,t(884979).k)("PrivateCalloutQueueContext",{callouts:[],pinnedCallout:null,pinCallout:function(e){return null},pushCallout:function(e){return null},popCallout:function(){return null},clearCalloutType:function(e){return null},unpinCallout:function(){return null}}),o=t.context,s=t.withContext,l=(i=a.Component,(0,r.__extends)(d,i),d.prototype.render=function(){return a.createElement(o.Provider,{value:this.state},this.props.children)},d);function d(e){var a=i.call(this,e)||this;return a.popCallout=function(){a.setState(function(e){return{callouts:(0,r.__spreadArrays)(e.callouts.slice(1))}})},a.pushCallout=function(n,e){if(e=void 0===e?!1:e)for(var t=0,i=a.state.callouts;t<i.length;t++)if(i[t].event.type===n.event.type)return;a.setState(function(e){return{callouts:(0,r.__spreadArrays)(e.callouts,[n])}})},a.clearCalloutType=function(n){a.setState(function(e){return{callouts:e.callouts.filter(function(e){return e.event.type!==n})}})},a.pinCallout=function(e){a.setState({pinnedCallout:e})},a.unpinCallout=function(){a.setState({pinnedCallout:null})},a.state={callouts:[],pinnedCallout:null,pinCallout:a.pinCallout,pushCallout:a.pushCallout,popCallout:a.popCallout,clearCalloutType:a.clearCalloutType,unpinCallout:a.unpinCallout},a}},747961:function(e,n,t){"use strict";var i;t.d(n,{S:function(){return i}}),(n=i=i||{}).AppointedModerator="appointed-moderator",n.BitsBadgeTier="bits-badge-tier",n.ShareResub="share-resub",n.ThankSubGifter="thank-sub-gifter",n.MegaBenefactorRewards="mega-benefactor-rewards",n.MegaRecipientRewards="mega-recipient-rewards",n.CommunityPointsRewards="community-points-rewards",n.HypeTrainRewards="hype-train-rewards",n.ReplyByKeyboard="reply-by-keyboard",n.Drop="drop",n.EarnedSubBadge="earned-sub-badge",n.TurnOffAnimatedEmotes="turn-off-animated-emotes",n.CrowdChant="crowd-chant-callout"},497354:function(e,n,t){"use strict";t.d(n,{$O:function(){return i},N9:function(){return a},ad:function(){return r},iv:function(){return o},ET:function(){return u},qD:function(){return c},MK:function(){return m}});var i,a,r,o,s=t(570655),l=t(831642),d=t(742407);(t=i=i||{}).AppointedModerator="appointed_moderator",t.MegacheerEmoteRecipient="megacheer_emote_recipient",t.Resub="re_sub",t.PinnedResub="pinned_re_sub",t.CheerBadgeGrant="cheer_badge_grant",t.CommunitySubGift="community_sub_gift",t.CommunityPointsReward="community_points_reward",t.HypeTrainRewards="hype_train_rewards",t.ReplyByKeyboard="reply_by_keyboard",t.NewSubBadge="new_sub_badge",t.TurnOffAnimatedEmotes="turn_off_animated_emotes",t.CrowdChant="crowd_chant",(t=a=a||{}).Dismiss="dismiss",t.Remind="remind_later",t.Pin="pin_callout",t.SkipMonthlyAlert="skip_monthly_alert",t.Message="chat_message_send",(t=r=r||{}).Share="click_share",t.Options="options_menu",t.Thank="click_thank",t.NoAction="no_action",t.ShowReward="click_show_reward",t.Gift="click_gift",t.OpenModView="open_mod_view",t.OpenEmotePicker="open_emote_picker",t.OpenBadgeDetails="open_badge_details",t.OpenEmoteAnimationsSetting="open_emote_animations_setting",(t=o=o||{}).PrivateCallout="private_callout",t.Chat="private_callout_chat";var u=function(e){l.UO.track(d.N.PrivateCalloutAction,(0,s.__assign)((0,s.__assign)({},p(e)),{action:e.action,ui_context:e.uiContext,msg_body:e.msgBody,used_prompt:e.usedPrompt}))},c=function(e){l.UO.track(d.N.PrivateCalloutClick,(0,s.__assign)((0,s.__assign)({},p(e)),{click_type:e.clickType,ui_context:e.uiContext}))},m=function(e){l.UO.track(d.N.PrivateCalloutImpression,(0,s.__assign)((0,s.__assign)({},p(e)),{has_cta:e.hasCTA}))};function p(e){return{channel_id:e.channelID,channel_login:e.channelLogin,callout_type:e.calloutType,event_id:e.eventID,private_callout_sid:e.privateCalloutSID}}},857246:function(e,n,t){"use strict";t.d(n,{bU:function(){return s},s0:function(){return l},kc:function(){return d}});var a,i=t(570655),r=t(667294),n=t(884979),o=t(888041),n=(0,n.k)("ChatIdentityMenuContext",{onShowChatIdentityMenu:function(){return null},chatIdentityVisible:!1}),s=n.context,l=n.withContext,d=(a=r.Component,(0,i.__extends)(u,a),u.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},u);function u(e){var i=a.call(this,e)||this;return i.onShowChatIdentityMenu=function(e,n,t){!i.state.chatIdentityVisible&&e&&(0,o.Jt)({channelID:n,source:t}),i.setState({chatIdentityVisible:e})},i.state={onShowChatIdentityMenu:i.onShowChatIdentityMenu,chatIdentityVisible:!1},i}},127649:function(e,n,t){"use strict";t.d(n,{jK:function(){return a},Xq:function(){return r},p3:function(){return o},lf:function(){return s},ox:function(){return l},Af:function(){return d}});var i=t(831642),a=function(){return(0,i.wv)("OFF","ChatSettings")},r=function(){return(0,i.wv)("Emotes-Only Chat","ChatSettings")},o=function(){return(0,i.wv)("Followers-Only Chat","ChatSettings")},s=function(){return(0,i.wv)("Subscribers-Only Chat","ChatSettings")},l=function(){return(0,i.wv)("Slow Mode","ChatSettings")},d=function(){return(0,i.wv)("Verified-Only Chat","ChatSettings")}},419341:function(e,n,t){"use strict";t.d(n,{ki:function(){return a},oW:function(){return r},Rv:function(){return o},kX:function(){return s},LS:function(){return l},TL:function(){return d},sy:function(){return u},BY:function(){return c},BC:function(){return m},z2:function(){return p},eP:function(){return h},hg:function(){return g},SB:function(){return f},cK:function(){return v},w0:function(){return y},n4:function(){return k},nc:function(){return S},$9:function(){return C},_$:function(){return b},RI:function(){return w},Zw:function(){return E},n8:function(){return _},Mr:function(){return N},mq:function(){return D},SU:function(){return M},Zn:function(){return I},YF:function(){return T},s$:function(){return P},Vd:function(){return R},Vt:function(){return A},fz:function(){return L},_V:function(){return F},g:function(){return U},R8:function(){return x},pZ:function(){return O},Wy:function(){return B},MG:function(){return V},Oh:function(){return q},x7:function(){return G},i2:function(){return H},DU:function(){return W},WF:function(){return z},_A:function(){return $},Cs:function(){return j},qR:function(){return Y},CL:function(){return Q},W7:function(){return J}});var i=t(877465),a="chat.CHAT_HIDDEN",r="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",l="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",d="chat.AUTOMOD_ACTIONS_ENABLED",u="chat.AUTOMOD_ACTIONS_DISABLED",c="chat.EMOTE_PICKER_CLOSED",m="chat.EMOTE_PICKER_OPENED",p="chat.CLOSE_CHAT_RULES",h="chat.MODERATION_ACTIONS_ENABLED",g="chat.MODERATION_ACTIONS_DISABLED",f="chat.MOD_ICONS_ENABLED",v="chat.MOD_ICONS_DISABLED",y="chat.REPLIES_APPEARANCE_PREFERENCE_CHANGED",k="chat.SHOW_CHAT_RULES",S="chat.TIMESTAMPS_ENABLED",C="chat.TIMESTAMPS_DISABLED",b="chat.VIEWER_CHAT_FILTER_ENABLED",w="chat.VIEWER_CHAT_FILTER_DISABLED",E="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",_="chat.RENDER_SENT_CHAT_MESSAGE",N="chat.UNHIDE_IGNORED_COMMAND",D="chat.FONT_SIZE_PREFERENCE_CHANGED";function M(){return{type:S}}function I(){return{type:C}}function T(){return{type:r}}function P(){return{type:a}}function R(){return{type:d}}function A(){return{type:u}}function L(){return{type:h}}function F(){return{type:g}}function U(){return{type:f}}function x(){return{type:v}}function O(e){return{type:b,source:e||i.P6.Other}}function B(e){return{type:w,source:e||i.P6.Other}}function V(e,n){return{type:E,settings:e,source:n||i.P6.Other}}function q(e,n){return{type:s,channelLogin:e,duration:n}}function G(e,n){return{type:l,channelLogin:e,duration:n}}function H(){return{type:c}}function W(){return{type:m}}function z(){return{type:p}}function $(){return{type:k}}function j(e){return{type:_,customEvent:e}}function Y(e){return{type:N,userID:e}}function Q(e){return{type:D,fontSizePreference:e}}function J(e){return{type:y,preference:e}}},971212:function(e,n,t){"use strict";t.d(n,{T:function(){return l}});var i=t(667294),a=t(734995),r=t(270406),o=t(246797),s=t(58661),l=function(e){return i.createElement(a.A,{className:"keyboard-prompt",display:r.sS.Flex,alignItems:r.g1.Center,background:r.Aq.Alt,border:!0,borderRadius:o.c.Small,padding:{x:.5}},i.createElement(s.V,{className:"keyboard-prompt--text",color:r.Il.Alt2},e.text))}},238487:function(e,n,t){"use strict";t.d(n,{yX:function(){return i},D_:function(){return a},WP:function(){return X},Uf:function(){return r}});var C=t(570655),b=t(294184),w=t(667294),E=t(734995),_=t(302285),N=t(796441),D=t(58661),M=t(150125),I=t(831642),T=t(106801),P=t(469419),R=t(344689),A=t(742407),L=t(283140),F=t(646628),U=t(823503),x=t(667211),O=t(233912),B=t(77966),V=t(325820),n=t(587039),q=t(869487),G=t(498409),H=t(190109),W=t(331902),z=t(274178),$=t(180592),j=t(763565),Y=t(251146),Q=t(525778),J=t(952561),K=t(961502),i="#9147FF",a={twitchbot:"1"},X={badges:a,badgeDynamicData:{},bits:0,color:i,displayName:"AutoMod",id:"automod",userID:"automod",username:"automod",userType:n.t.GlobalMod,emotes:{}},r=function(t){var n=w.useContext(V.lx),i=w.useContext(W.DG).serviceAPI,a=w.useContext(B.aO).page,e=w.useState(!1),r=e[0],o=e[1],s=t.message,l=(0,C.__assign)({},X),d=(0,T.Db)(Q)[0],u=(0,T.Db)(K)[0],c=t.message.autoModType!==G.mT.MessageRejectedPrompt||t.isCurrentUserModerator&&t.showAutoModActions,e=(0,T.aM)(J,{variables:{senderID:s.sender&&s.sender.user_id||"",channelID:t.channelID||""},skip:!c||!t.channelID||s.autoModType!==G.mT.MessageRejectedPrompt}),m=e.data,p=e.loading;if(!c)return null;function h(e,n){I.$6.tracking.track(A.N.AutoModUserActions,{channel_id:t.channelID,user_id:t.currentUserID||"",msg_id:e,action:n,page:a,ui_context:"chat"})}var g="";switch(s.autoModType){case G.mT.MessageRejectedPrompt:g=function(){var e;switch(s.category){case"aggressive":e=(0,I.wv)("hostility","AutoModLine");break;case"sexual":e=(0,I.wv)("sexual","AutoModLine");break;case"profanity":e=(0,I.wv)("profanity","AutoModLine");break;case"identity":e=(0,I.wv)("identity","AutoModLine");break;case"ableism":e=(0,Y.ng)(Y.Dt.Ableism);break;case"aggression":e=(0,Y.ng)(Y.Dt.Aggression);break;case"homophobia":e=(0,Y.ng)(Y.Dt.Homophobia);break;case"misogyny":e=(0,Y.ng)(Y.Dt.Misogyny);break;case"namecalling":e=(0,Y.ng)(Y.Dt.NameCalling);break;case"racism":e=(0,Y.ng)(Y.Dt.Racism);break;case"sexwords":e=(0,Y.ng)(Y.Dt.Sexual);break;case"swearing":e=(0,Y.ng)(Y.Dt.Profanity);break;default:return(0,I.wv)("Message is being held for review. Allow will post it to chat.","AutoModLine")}return(0,I.wv)("Held a message for reason: {category}. Allow will post it to chat.",{category:e},"AutoModLine")}();break;case G.mT.MessageRejected:g=(0,I.wv)("Hey! Your message is being checked by mods and has not been sent.","AutoModLine");break;case G.mT.MessageAllowed:var g=(0,I.wv)("Mods have allowed your message. Happy chatting!","AutoModLine"),f=(g+=" VoHiYo").match("VoHiYo");f&&void 0!==f.index&&(l.emotes[""+f.index]={startIndex:f.index,id:"81274"});break;case G.mT.MessageDenied:g=(0,I.wv)("Mods have removed your message.","AutoModLine");break;case G.mT.MessageModApproved:case G.mT.MessageModDenied:default:return null}var v=(0,z.aE)(g,l,F.Nv);switch(s.autoModType){case G.mT.MessageRejectedPrompt:if(s.rejectedMessage.deleted)return null;if(r)return w.createElement(E.A,{className:"chat-line__status"},(0,I.wv)("Thank you for your feedback!","ChatLine"));var y=["chat-line__message--alert","chat-line__message--special","chat-line__message--clearfix"],k=null==m?void 0:m.user,S=p?w.createElement(_.Vm,{lineCount:2}):k?w.createElement(E.A,{className:b(y)},w.createElement($.v0,{badgeSets:t.badgeSets,channelID:t.channelID,message:{__typename:"Message",id:s.id,deletedAt:"",sentAt:s.sent_at,content:{__typename:"MessageContent",text:s.content.text,fragments:(0,j.VK)(s.content.fragments)},sender:k},hasModPermissions:!0,showModerationIcons:t.showModerationIcons,showTimestamps:!1,currentUserLogin:t.channelLogin,onUsernameClick:function(e){e&&void 0!==e.keyCode&&e.keyCode!==P.m.Space&&e.keyCode!==P.m.Enter||s.autoModType===G.mT.MessageRejectedPrompt&&n.onShowViewerCard(s.rejectedMessage.user.userLogin,H.TU.chat_message,s.id,e.currentTarget.getBoundingClientRect().bottom)},surfaceError:function(e){null==i||i.handleMessage((0,q.W)(e))},highContrastUsernameColor:t.useHighContrastColors,theme:t.theme})):w.createElement(U.wS,(0,C.__assign)({},t,{canDelete:!1,isCurrentUserStaff:!1,isDeleted:!1,isHidden:!1,showTimestamps:!1,className:b(y),message:s.rejectedMessage}));return w.createElement(E.A,{className:"chat-line__message"},w.createElement(L.k,{badgeSets:t.badgeSets,badgesToRender:v.badges}),w.createElement(x.Uk,{userData:v.user,highContrastUsernameColor:t.useHighContrastColors,theme:t.theme}),w.createElement("span",{key:"separator"},": "),(0,O.kz)(v.messageParts),w.createElement(E.A,{key:"automod-prompt",className:"chat-line__nested-component--float-right"},w.createElement(N.zx,{size:N.qE.Small,onClick:function(){o(!0),s.autoModType===G.mT.MessageRejectedPrompt&&d&&(d((0,R.k_)({id:s.rejectedMessage.id})),h(s.rejectedMessage.id,"allow"))},type:N.L$.Text},(0,I.wv)("Allow","AutoModLine")),w.createElement(D.V,{type:M.yG.Span},""),w.createElement(N.zx,{size:N.qE.Small,onClick:function(){o(!0),s.autoModType===G.mT.MessageRejectedPrompt&&u&&(u((0,R.k_)({id:s.rejectedMessage.id})),h(s.rejectedMessage.id,"deny"))},type:N.L$.Text},(0,I.wv)("Deny","AutoModLine"))),S);case G.mT.MessageRejected:case G.mT.MessageAllowed:case G.mT.MessageDenied:return w.createElement(E.A,{className:b(["chat-line__message","chat-line__message--special","chat-line__message--alert"])},w.createElement(L.k,{badgeSets:t.badgeSets,badgesToRender:v.badges}),w.createElement(x.Uk,{userData:v.user,highContrastUsernameColor:t.useHighContrastColors,theme:t.theme}),w.createElement("span",{key:"separator"},": "),(0,O.kz)(v.messageParts));default:return null}};r.displayName="AutoModLine"},925445:function(e,n,t){"use strict";t.d(n,{Aq:function(){return s},EX:function(){return l}});var i,a=t(570655),r=t(667294),t=(0,t(884979).k)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,showChatAppearanceOnLoad:!1,updateChatConfigState:function(e){return null}}),o=t.context,s=t.withContext,l=(i=r.PureComponent,(0,a.__extends)(d,i),d.prototype.render=function(){return r.createElement(o.Provider,{value:this.state},this.props.children)},d);function d(e){var t=i.call(this,e)||this;return t.updateChatConfigState=function(n){null===t.updateFrame&&(t.setState(function(e){return(0,a.__assign)((0,a.__assign)({},e),n)}),t.updateFrame=setTimeout(function(){t.updateFrame=null},0))},t.updateFrame=null,t.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,showChatAppearanceOnLoad:!1,updateChatConfigState:t.updateChatConfigState},t}},986923:function(e,n,t){"use strict";t.d(n,{Tj:function(){return i},EB:function(){return l},M9:function(){return d}});var i,a=t(570655),r=t(667294),n=t(884979);(t=i=i||{})[t.DISCONNECTED=0]="DISCONNECTED",t[t.RECONNECTING=1]="RECONNECTING",t[t.CONNECTED=2]="CONNECTED";var o,n=(0,n.k)("ChatConnectionStateContext",{chatConnectionState:i.DISCONNECTED,updateChatConnectionState:function(){return null}}),s=n.context,l=n.withContext,d=(o=r.Component,(0,a.__extends)(u,o),u.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},u);function u(e){var n=o.call(this,e)||this;return n.updateChatConnectionState=function(e){n.setState({chatConnectionState:e})},n.state={chatConnectionState:i.DISCONNECTED,updateChatConnectionState:n.updateChatConnectionState},n}},13331:function(e,n,t){"use strict";t.d(n,{el:function(){return r},VV:function(){return o}});var i=t(667294),t=(0,t(884979).k)("ChatRoomStateContext",{displayBadges:[],onBadgesChanged:function(){return null}}),a=t.context,r=t.withContext,o=function(e){var n={displayBadges:e.displayBadges||[],onBadgesChanged:e.onBadgesChanged};return i.createElement(a.Provider,{value:n},e.children)}},877465:function(e,n,t){"use strict";t.d(n,{VX:function(){return i},P6:function(){return a},NX:function(){return g},tg:function(){return v}});var i,a,r=t(570655),o=t(667294),s=t(137703),l=t(14890),d=t(987145),u=t(797425),c=t(884979),m=t(419341),n=t(41598);(t=i=i||{}).Excluded="control",t.OptIn="opt-in",t.OptOut="opt-out",(t=a=a||{}).FilteredMessage="chat_filter_message",t.Onboarding="onboarding",t.Other="other";var p,c=(0,c.k)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),h=c.context,g=c.withContext,r=(p=o.Component,(0,r.__extends)(f,p),f.getDerivedStateFromProps=function(e){return{chatFilterExperimentMembership:f.getExperimentMembership(e)}},f.getExperimentMembership=function(e){return e.isLoggedIn?"en"===e.languageCode&&e.data&&e.data.currentUser&&e.data.currentUser.createdAt?new Date(e.data.currentUser.createdAt)>=new Date("2019-01-18T21:49:42.699Z")?i.OptOut:i.OptIn:i.Excluded:i.OptIn},f.prototype.componentDidMount=function(){this.triggerPropCallbacks()},f.prototype.componentDidUpdate=function(){this.triggerPropCallbacks()},f.prototype.render=function(){return o.createElement(h.Provider,{value:this.state},this.props.children)},f);function f(e){var n=p.call(this,e)||this;return n.hideChatFilterSettings=function(){n.setState({isShowingChatFilterSettings:!1})},n.showChatFilterSettings=function(e){n.setState({chatFilterSettingsSource:e||a.Other,isShowingChatFilterSettings:!0})},n.triggerPropCallbacks=function(){switch(f.getExperimentMembership(n.props)){case i.OptIn:void 0===n.props.viewerChatFilterEnabled&&n.props.disableViewerChatFilter(a.Other);break;case i.OptOut:void 0===n.props.viewerChatFilterEnabled&&n.props.enableViewerChatFilter(a.Other);break;case i.Excluded:}},n.state={chatFilterExperimentMembership:i.OptOut,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:n.hideChatFilterSettings,showChatFilterSettings:n.showChatFilterSettings},n}var v=(0,l.qC)((0,s.$j)(function(e){return{isLoggedIn:(0,u.jl)(e),languageCode:(0,u.ht)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}},function(e){return(0,l.DE)({disableViewerChatFilter:m.Wy,enableViewerChatFilter:m.pZ},e)}),(0,d.TA)(n,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(r)},337108:function(e,n,t){"use strict";t.d(n,{T:function(){return m}});var i,n=t(570655),s=t(294184),l=t(667294),a=t(734995),r=t(270406),o=t(175424),d=t(58661),u=t(150125),c=t(354660),m=(i=l.Component,(0,n.__extends)(p,i),p.prototype.render=function(){var e=l.createElement(l.Fragment,null,l.createElement(a.A,{className:"chat-image__container",display:r.sS.InlineBlock,textAlign:r.PH.Center},this.renderImage()),this.props.cheerText),e=this.state.isHovering?l.createElement(o.ns,{direction:this.props.tooltipDirection||o.AR.Top,label:this.props.alt,display:r.sS.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},e):l.createElement("span",{"data-a-target":"emote-name"},e);return this.props.cheerText?l.createElement(d.V,{type:u.yG.Span,whiteSpace:u.nZ.NoWrap,className:"chat-image-wrapper"},e):e},p);function p(e){var o=i.call(this,e)||this;return o.onMouseOver=function(){o.setState({isHovering:!0})},o.onMouseOut=function(){o.setState({isHovering:!1})},o.renderImage=function(){var e=null,n=s("chat-image",{"chat-image__animated":!!o.props.cheerText},o.props.className);if(o.props.srcSet.themed)e=l.createElement(c.R,{alt:o.props.alt,className:n,defaultRes:o.props.srcKey,onMouseOver:o.onMouseOver,onMouseOut:o.onMouseOut,sources:o.props.srcSet});else{for(var t=[],i=0,a=Object.keys(o.props.srcSet.sources);i<a.length;i++){var r=a[i];t.push(o.props.srcSet.sources[r]+" "+r)}e=l.createElement("img",{className:n,onMouseOver:o.onMouseOver,onMouseOut:o.onMouseOut,src:o.props.srcSet.sources[o.props.srcKey],srcSet:t.join(","),alt:o.props.alt})}return e},o.state={isHovering:!1},o}},652461:function(e,n,t){"use strict";t.d(n,{f:function(){return d}});var i=t(667294),a=t(58661),r=t(270406),o=t(150125),s=t(734995),l=t(535519),d=function(e){return i.createElement(s.A,{className:"common-tray-body"},(0,l.H)(e.children)?i.createElement(a.V,{color:r.Il.Alt2,wordBreak:o.I5.BreakWord},e.children):e.children)}},44683:function(e,n,t){"use strict";t.d(n,{X:function(){return h},F:function(){return g}});var a=t(667294),r=t(58661),o=t(270406),s=t(150125),l=t(734995),d=t(440837),u=t(382448),i=t(831642),c=t(535519),m=t(357941),p=t(613290);function h(){return(0,i.wv)("Close","CommonTrayHeader")}var g=function(e){var n=a.useContext(p.PL).activeInputTray,t=(0,m.A)(),i=a.useMemo(h,[]);return a.createElement(l.A,{display:o.sS.Flex,justifyContent:o.uM.Between,padding:null!=n&&n.persistent?{bottom:.5,x:.5}:0},e.icon&&a.createElement(l.A,{margin:.5},e.icon),a.createElement(l.A,{display:o.sS.Flex,flexGrow:1,alignItems:o.g1.Center,margin:{x:.5}},(0,c.H)(e.children)?a.createElement(r.V,{bold:!0,color:o.Il.Alt,fontSize:o.Bf.Size5,wordBreak:s.I5.BreakWord},e.children):e.children),!e.hideCloseButton&&a.createElement(d.Ei,{"aria-label":i,icon:u.e.Close,onClick:t,title:i}))}},535519:function(e,n,t){"use strict";function i(e){return"string"==typeof e}t.d(n,{H:function(){return i}})},357941:function(e,n,t){"use strict";t.d(n,{A:function(){return s}});var i=t(667294),a=t(613290),r=t(965347),o=t(224829),s=function(){var e=i.useContext(a.ww),n=i.useContext(a.PL).activeInputTray;return function(){n&&(n.onClose&&n.onClose(),(0,o.WX)(n)||(0,o.Ny)(n)?e((0,r.zB)()):e((0,r.Rv)()))}}},965347:function(e,n,t){"use strict";var i;function a(e){return{type:i.InputTraySet,tray:e}}function r(){return{type:i.InputTrayCleared}}function o(e){return{type:i.InputTrayErrorSet,error:e}}function s(){return{type:i.InputTrayErrorCleared}}function l(e){return{type:i.InputModifierTraySet,tray:e}}function d(){return{type:i.InputModifierTrayCleared}}t.d(n,{Us:function(){return i},aT:function(){return a},Rv:function(){return r},IZ:function(){return o},RI:function(){return s},PH:function(){return l},zB:function(){return d}}),(n=i=i||{}).InputTraySet="input-tray-set",n.InputTrayCleared="input-tray-cleared",n.InputTrayErrorSet="input-tray-error-set",n.InputTrayErrorCleared="input-tray-error-cleared",n.InputModifierTraySet="input-modifier-tray-set",n.InputModifierTrayCleared="input-modifier-tray-cleared"},613290:function(e,n,t){"use strict";t.d(n,{PL:function(){return u},By:function(){return m},ww:function(){return s},WY:function(){return c},WA:function(){return l}});function i(e,n){var t,i;switch(n.type){case o.Us.InputTrayCleared:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:void 0,inputTray:void 0,inputModifierTray:void 0});case o.Us.InputTraySet:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(t=e.inputModifierTray)&&void 0!==t?t:n.tray,inputTray:n.tray});case o.Us.InputTrayErrorSet:if(e.inputTray){var a=(0,r.__assign)((0,r.__assign)({},e.inputTray),{error:n.error});return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(i=e.inputModifierTray)&&void 0!==i?i:a,inputTray:a})}return e;case o.Us.InputTrayErrorCleared:return e.inputTray?(a=(0,r.__assign)((0,r.__assign)({},e.inputTray),{error:void 0}),(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(i=e.inputModifierTray)&&void 0!==i?i:a,inputTray:a})):e;case o.Us.InputModifierTrayCleared:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:null!==(a=e.inputTray)&&void 0!==a?a:void 0,inputModifierTray:void 0});case o.Us.InputModifierTraySet:return(0,r.__assign)((0,r.__assign)({},e),{activeInputTray:n.tray,inputModifierTray:n.tray});default:return e}}var a=t(667294),n=t(884979),r=t(570655),o=t(965347),t=(0,n.k)("ChatInputTrayDispatchContext",function(){return null}),s=t.context,l=t.withContext,d={},n=(0,n.k)("ChatInputTrayContext",d),u=n.context,c=n.withContext,m=function(e){var n=a.useReducer(i,d),t=n[0],n=n[1];return a.createElement(s.Provider,{value:n},a.createElement(u.Provider,{value:t},e.children))}},233563:function(e,n,t){"use strict";t.d(n,{LA:function(){return l},j9:function(){return d}});var a,i=t(570655),r=t(667294),n=t(884979),o=t(662487),n=(0,n.k)("ChatInputValueContext",{setAutocompleteInputRef:function(e){return null},setChatInputRef:function(e){return null},appendToChatInput:function(e,n){return null}}),s=n.context,l=n.withContext,d=(a=r.Component,(0,i.__extends)(u,a),u.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},u);function u(e){var i=a.call(this,e)||this;return i.setAutocompleteInputRef=function(e){i.autocompleteInputRef=e},i.setChatInputRef=function(e){i.chatInputRef=e},i.appendToChatInput=function(e,n){var t;i.autocompleteInputRef&&(t=i.autocompleteInputRef.getValue(),i.autocompleteInputRef.setValue((0,o.A)(t,e)),n&&i.focusInput())},i.focusInput=function(){i.chatInputRef&&i.chatInputRef.focus()},i.state={setAutocompleteInputRef:i.setAutocompleteInputRef,setChatInputRef:i.setChatInputRef,appendToChatInput:i.appendToChatInput},i}},482345:function(e,n,t){"use strict";t.r(n),t.d(n,{ChatRepliesMessageCardComponent:function(){return i},ChatRepliesMessageCard:function(){return c}});var a=t(570655),r=t(294184),o=t(667294),s=t(731110),l=t(106801),d=t(64125),u=t(823503),t=t(19596),i=function(e){var n=(0,l.aM)(d,{variables:{messageID:e.message.id||"",channelID:e.channelID||""}}),t=n.data,i=!1;!n.loading&&t&&t.message&&t.message.deletedAt&&(i=!0);t=null===(t=e.className)||void 0===t?void 0:t.replace("chat-line--inline",""),t=r(t,e.fontScaleClassName);return o.createElement(s.o,{padding:{x:1,y:.5}},o.createElement(u.wS,(0,a.__assign)({},e,{isDeleted:i,className:t,disableReplyClick:!0})))},c=(0,t.M)()(i)},223176:function(e,n,t){"use strict";t.d(n,{b:function(){return I}});var i,a=t(137703),r=t(14890),o=t(987145),s=t(702631),l=t(523094),d=t(19596),u=t(64125),n=t(570655),c=t(294184),m=t(667294),p=t(731110),h=t(734995),g=t(270406),f=t(246797),v=t(392271),y=t(408128),k=t(75552),S=t(646628),C=t(823503),b=t(510091),w=t(498409),E=t(274178),_=t(840219),N=t(158469),D=t(647153),n=(i=m.Component,(0,n.__extends)(M,i),M.prototype.componentDidUpdate=function(){var e;if(this.addScrollHandler(),null!==(e=this.scroll)&&void 0!==e&&e.scrollContent&&!this.didScroll)return this.props.highlightMessageID?void(this.chatRef&&(this.scroll.scrollContent.scrollTop=this.chatRef.offsetTop,this.didScroll=!0)):(this.scroll.scrollToBottom(),void(this.didScroll=!0))},M.prototype.componentWillUnmount=function(){this.contentRef&&this.scrollHandlerAttached&&this.removeScrollHandler()},M.prototype.render=function(){var e=null===(i=this.props.data)||void 0===i?void 0:i.message,n=null===(r=null===(a=this.props.data)||void 0===a?void 0:a.message)||void 0===r?void 0:r.sender,t=null==n?void 0:n.displayBadges;if(!e||!n||!t)return null;var i=n.login||"",a=n.displayName||"",r=(null===(r=e.content)||void 0===r?void 0:r.text)||"",e=(0,b.I)(w.Ay.Post,r,{id:e.id,badges:(0,k.UW)(t),badgeDynamicData:null,emotes:(0,_.sZ)(r,e.content),userID:n.id,username:i,displayName:a,color:n.chatColor||"",userType:"",bits:0},S.Nv,null,!!e.deletedAt,!1,e.sentAt?new Date(e.sentAt).getTime():void 0),e=m.createElement(C.wS,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,badgeSets:new k.yW(t,null==t?void 0:t.filter(function(e){return"subscriber"===(null==e?void 0:e.setID)||"vip"===(null==e?void 0:e.setID)})),message:e,isDeleted:e.deleted,isHidden:e.hidden,reply:e.reply,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,currentUserID:this.props.currentUserID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction,theme:this.props.theme,deletedCount:e.deletedCount,hideBroadcasterTooltip:this.props.hideBroadcasterTooltip,disableReplyClick:!0});return m.createElement(h.A,{className:this.props.fontScaleClassName,display:g.sS.Flex,flexDirection:g.Qb.Column},m.createElement(h.A,{"data-test-selector":"parent"},m.createElement(p.o,{padding:{left:1}},e)),m.createElement(h.A,{className:"chat-replies-list__container",display:g.sS.Flex,flexDirection:g.Qb.Column,position:g.Ly.Relative},m.createElement(v._q,{scrollRef:this.saveScrollRef,contentRef:this.saveContentRef,suppressScrollX:!0},m.createElement(h.A,{margin:{left:1,right:.5},className:c({"chat-replies-list":!0,"chat-replies-list--with-gradient":this.state.showGradient}),"data-test-selector":"replies"},this.renderReplyMessages(a),m.createElement(y.X,{visible:this.hideGradient,notVisible:this.showGradient,pixelThreshold:25})))))},M);function M(){var r=null!==i&&i.apply(this,arguments)||this;return r.state={showGradient:!1},r.didScroll=!1,r.doneScrolling=!1,r.scrollHandlerAttached=!1,r.scrollTracked=!1,r.experimentGroup=(0,N.C)(r.props.channelID),r.renderReplyMessages=function(a){var e;return null===(e=null===(e=null===(e=null===(e=r.props.data)||void 0===e?void 0:e.message)||void 0===e?void 0:e.replies)||void 0===e?void 0:e.nodes)||void 0===e?void 0:e.map(function(e){var n=null===(i=e.sender)||void 0===i?void 0:i.displayBadges,t=null==e?void 0:e.sender;if(!t||!e)return null;var i=(null===(i=e.content)||void 0===i?void 0:i.text)||"";r.experimentGroup!==N.E.Control&&(i=(0,E.Ct)(i,a).message);t=(0,b.I)(w.Ay.Post,i,{id:e.id,badges:(0,k.UW)(n||[]),badgeDynamicData:null,emotes:(0,_.sZ)(i,e.content),userID:t.id,username:t.login||"",displayName:t.displayName||"",color:t.chatColor||"",userType:"",bits:0},S.Nv,null,!!e.deletedAt,!1,e.sentAt?new Date(e.sentAt).getTime():void 0),t=m.createElement(p.o,{key:t.id,className:"reply-list-item"},m.createElement(C.wS,{key:t.id,channelID:r.props.channelID,channelLogin:r.props.channelLogin,badgeSets:new k.yW(n||[],null==n?void 0:n.filter(function(e){return"subscriber"===(null==e?void 0:e.setID)||"vip"===(null==e?void 0:e.setID)})),message:t,isDeleted:t.deleted,isHidden:t.hidden,showModerationIcons:r.props.showModerationIcons,showTimestamps:r.props.showTimestamps,useHighContrastColors:!!r.props.useHighContrastColors,deletedMessageDisplay:r.props.deletedMessageDisplay,isCurrentUserModerator:r.props.isCurrentUserModerator,isCurrentUserStaff:r.props.isCurrentUserStaff,currentUserID:r.props.currentUserID,currentUserDisplayName:r.props.currentUserDisplayName,currentUserLogin:r.props.currentUserLogin,confirmModerationAction:r.props.confirmModerationAction,theme:r.props.theme,deletedCount:t.deletedCount,hideBroadcasterTooltip:r.props.hideBroadcasterTooltip,"data-test-selector":"reply-message",usesSchemaBadges:!0,disableReplyClick:!0}));return r.props.highlightMessageID===e.id?m.createElement(h.A,{position:g.Ly.Relative,ref:r.setRef},m.createElement(h.A,{className:c("chat-replies-list__reply-line--flash-animation",{"chat-replies-list__reply-line--flash-animation-dark":r.props.darkModeEnabled}),borderRadius:f.c.Small,position:g.Ly.Absolute,fullHeight:!0}),t):t})},r.hideGradient=function(){!1!==r.state.showGradient&&r.setState({showGradient:!1})},r.showGradient=function(){!0!==r.state.showGradient&&r.setState({showGradient:!0})},r.addScrollHandler=function(){r.contentRef&&!r.scrollHandlerAttached&&(r.contentRef.addEventListener("scroll",r.handleScroll),r.scrollHandlerAttached=!0)},r.removeScrollHandler=function(){r.contentRef&&r.scrollHandlerAttached&&r.contentRef.removeEventListener("scroll",r.handleScroll)},r.handleScroll=function(){var e,n,t;r.scrollTracked||(n=(t=r.props).data,e=t.channelID,n=null===(t=null==n?void 0:n.message)||void 0===t?void 0:t.id,t=null===(t=null===(t=null===(t=r.props.data)||void 0===t?void 0:t.message)||void 0===t?void 0:t.sender)||void 0===t?void 0:t.id,r.doneScrolling?e&&n&&t&&((0,D.Lb)({channelID:e,opUserID:t,messageID:n}),r.scrollTracked=!0):r.doneScrolling=!0)},r.setRef=function(e){return r.chatRef=e},r.saveScrollRef=function(e){return r.scroll=e},r.saveContentRef=function(e){return r.contentRef=e},r}var I=(0,r.qC)((0,o.TA)(u,{options:function(e){var n;return{variables:{messageID:(null===(n=e.reply)||void 0===n?void 0:n.parentMsgId)||"",channelID:e.channelID||""},fetchPolicy:"network-only"}}}),(0,a.$j)(function(e){return{darkModeEnabled:(0,l.zv)(e)===s.Q.Dark}}),(0,d.M)())(n)},33250:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(667294),a=t(734995),r=t(270406),o=t(470216),s=t(382448),l=function(e){var n=e.persistent,e=n?18:20;return i.createElement(a.A,{color:n?r.Il.Alt2:void 0,className:"chat-restriction-tray-icon"},i.createElement(o.W,{asset:s.e.NotificationInfo,type:n?o.w.Inherit:o.w.Prime,height:e,width:e}))}},824942:function(e,n,t){"use strict";t.d(n,{j:function(){return s}});var i=t(667294),a=t(734995),r=t(270406),o=t(470216),s=function(e){return i.createElement(a.A,{display:r.sS.Flex,alignItems:r.g1.Center},i.createElement(o.W,{asset:e.asset}))}},102931:function(e,n,t){"use strict";t.d(n,{d:function(){return s}});var i,n=t(570655),a=t(667294),r=t(487163),o=t(707934),s=(i=a.Component,(0,n.__extends)(l,i),l.prototype.componentDidMount=function(){this.countdownTimer=new o.z({onInterval:this.setTimeRemaining,intervalMillis:1e3}),this.countdownTimer.start()},l.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},l.prototype.render=function(){return a.createElement(a.Fragment,null,(0,r.LU)(this.state.remainingTimeSeconds,this.props.durationStyle||r.$0.Humanized))},l);function l(e){var n=i.call(this,e)||this;return n.setTimeRemaining=function(){0<n.state.remainingTimeSeconds?n.setState(function(e){return{remainingTimeSeconds:e.remainingTimeSeconds-1}}):n.props.onCompletion&&(n.countdownTimer.stop(),n.props.onCompletion())},n.state={remainingTimeSeconds:e.timeToCountDownFromSeconds},n}},972130:function(e,n,t){"use strict";t.d(n,{b:function(){return s}});var i=t(667294),a=t(734995),r=t(353488),o=t(382448),s=function(){return i.createElement(a.A,{className:"warning-modifier-tray-icon"},i.createElement(r.JO,{asset:o.e.NotificationWarning}))}},224829:function(e,n,t){"use strict";t.d(n,{WX:function(){return a},Ny:function(){return r},Br:function(){return o}});var i=t(721482);function a(e){return e&&i.g_.has(e.type)}function r(e){return e&&e.type===i.v4.AutocompleteTray}function o(e){return null==e?void 0:e.error}},581248:function(e,n,t){"use strict";t.d(n,{r:function(){return qn}});var i,a=t(570655),d=t(667294),u=t(734995),r=t(238487),o=t(137703),s=t(14890),l=t(325820),c=t(360569),m=t(677891),p=t(58661),h=t(283140),g=t(233912),f=t(763565);(n=i=i||{}).Timestamp="extension-message-timestamp",n.ExtensionName="extension-message-name";var v,n=(v=d.Component,(0,a.__extends)(y,v),y.prototype.render=function(){if(!this.props.installedExtensions)return null;var n=this.props.message;if(!this.props.installedExtensions.some(function(e){e=e.extension;return e.clientId===n.extension.clientID&&e.version===n.extension.version}))return null;var e=this.props.message.extension.displayBadges;return d.createElement(u.A,{padding:{x:2,y:.5}},d.createElement("div",{id:this.props.message.id,className:"room-message"},this.renderTimestamp(),d.createElement(h.k,{badgeSets:this.props.badgeSets,badgesToRender:e}),this.renderMessageAuthor(this.props.message.extension),d.createElement("span",null,": "),this.renderMessageBody()))},y.prototype.renderTimestamp=function(){return this.props.showTimestamps?d.createElement("span",{key:"timestamp",className:"room-message__timestamp","data-test-selector":i.Timestamp},(0,g.i$)(new Date(this.props.message.sentAt))):null},y.prototype.renderMessageBody=function(){var e=(0,f.cv)(this.props.message);return(0,g.kz)(e,{forceClipsNetworkRequest:!0})},y.prototype.renderMessageAuthor=function(e){return d.createElement("button",{onClick:this.onExtensionNameClick,"data-test-selector":i.ExtensionName},d.createElement("span",{key:e.clientID+"-"+e.version+"-messageauthor"},d.createElement("span",{key:"username-display",style:{color:e.chatColor}},d.createElement(p.V,{bold:!0},e.displayName))))},y);function y(){var t=null!==v&&v.apply(this,arguments)||this;return t.onExtensionNameClick=function(e){var n=t.props.message;t.props.onExtensionNameClick(n.extension.clientID,n.extension.version,n.id,e.currentTarget.getBoundingClientRect().bottom)},t}function k(e){var n=(t=e.event).promoGiftTotal,e=t.promoName,t=t.user,t=d.createElement(M.N,{contentID:t.id,login:t.username,sourceType:I.TU.chat_message},(0,D.I)(t.username,t.displayName)),t=e&&n?(0,N.wv)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!        They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{promoGiftTotal:n,promoName:e,recipientButton:t},"AnonGiftPaidUpgradeNoticeLine"):(0,N.wv)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!",{recipientButton:t},"AnonGiftPaidUpgradeNoticeLine");return d.createElement(u.A,{alignItems:b.g1.Start,display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2,display:b.sS.Flex,flexDirection:b.Qb.Column,flexShrink:0,margin:{right:.5}},d.createElement(w.W,{asset:E.e.Ghost})),d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},t))}var S=(0,s.qC)((0,o.$j)(function(e,n){return{installedExtensions:n.channelID?(0,m.jh)(e,n.channelID):null}}),(0,l.Hu)(function(e){return{onExtensionNameClick:e.onShowExtensionMessageCard}}),(0,c.Kz)({name:"extensionsForChannel",skip:function(e){return!e.channelID||!!e.installedExtensions},options:function(e){return{variables:{channelID:e.channelID||""}}}}))(n),C=t(498409),b=t(270406),w=t(470216),E=t(382448),_=t(150125),N=t(831642),D=t(606382),M=t(573768),I=t(190109);k.displayName="AnonGiftPaidUpgradeNoticeLine";function T(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,d.createElement(k,{event:e.message}))}var P=t(313881);T.displayName="AnonGiftPaidUpgradeLine";function R(e){var n=e.event,t=d.createElement(M.N,{contentID:n.recipientID,login:n.recipientLogin,sourceType:I.TU.chat_message},(0,D.I)(n.recipientLogin,n.recipientDisplayName));return d.createElement(u.A,{alignItems:b.g1.Start,display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2,display:b.sS.Flex,flexDirection:b.Qb.Column,flexShrink:0,margin:{right:.5}},d.createElement(w.W,{asset:E.e.Ghost})),d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},(e=n.methods,t=t,1<(n=n.giftMonths)?"custom"===e.plan?(0,N.wv)("{giftMonths, plural, one {An anonymous gifter gifted # month to {recipientButton}!} other {An anonymous gifter gifted # months to {recipientButton}!}}",{giftMonths:n,recipientButton:t},"AnonSubGiftNoticeLine"):(0,N.wv)("{giftMonths, plural, one {An anonymous gifter gifted # month of Tier {tierNumber} to {recipientButton}!} other {An anonymous gifter gifted # months of Tier {tierNumber} to {recipientButton}!}}",{giftMonths:n,tierNumber:(0,A.K)(e.plan)||1,recipientButton:t},"AnonSubGiftNoticeLine"):"custom"===e.plan?(0,N.wv)("An anonymous gifter gave {recipientButton} a Sub!",{recipientButton:t},"AnonSubGiftNoticeLine"):(0,N.wv)("An anonymous gifter gave {recipientButton} a Tier {tierNumber} Sub!",{recipientButton:t,tierNumber:(0,A.K)(e.plan)||1},"AnonSubGiftNoticeLine"))))}var A=t(965343);R.displayName="AnonSubGiftNoticeLine";function L(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(R,{event:e.message}))}L.displayName="AnonSubGiftLine";function F(e){var n=(t=e.event).channel,e=t.massGiftCount,t="custom"===(t=t.plan)?(0,N.wv)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,massGiftCount:e},"AnonSubMysteryGiftNoticeLine"):(0,N.wv)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,massGiftCount:e,tierNumber:(0,A.K)(t)||1},"AnonSubMysteryGiftNoticeLine");return d.createElement(u.A,{alignItems:b.g1.Start,display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2,display:b.sS.Flex,flexDirection:b.Qb.Column,flexShrink:0,margin:{right:.5}},d.createElement(w.W,{asset:E.e.Ghost})),d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},t))}F.displayName="AnonSubMysteryGiftNoticeLine";function U(e){var n=e.event.threshold,t=e.badgeSets.getBadge(x.So,n.toString()),n=(0,N.wv)("{text} Bits badge!",{text:(0,x._k)(t,n)},"BitsBadgeTierNotification");return d.createElement(u.A,{display:b.sS.Flex},d.createElement(w.W,{height:20,width:20,asset:E.e.Bits,type:w.w.Alt2}),d.createElement(u.A,{color:b.Il.Alt2,padding:{left:.5},display:b.sS.Inline},(0,N.wv)("{userLogin} just earned a new <x:bold>{boldedBadgeText}</x:bold>",{userLogin:d.createElement(M.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:I.TU.chat_message},(0,D.I)(e.event.user.userID,e.event.user.displayName)),boldedBadgeText:n,"x:bold":function(e){return d.createElement(p.V,{color:b.Il.Base,bold:!0,type:_.yG.Span},e)}},"BitsBadgeTierNotification")))}var x=t(437115);U.displayName="BitsBadgeTierNoticeLine";function O(e){var n=null;return e.message.message.messageParts&&0<e.message.message.messageParts.length&&(n=d.createElement(u.A,{padding:{top:.5}},d.createElement(B.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:e.message.message.deleted,isHidden:e.message.message.hidden,message:e.message.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay}))),d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(U,{event:e.message,badgeSets:e.badgeSets}),n)}var B=t(823503);O.displayName="BitsBadgeTierMessage";function V(e){return d.createElement(u.A,{className:"chat-line__bits-charity",padding:{right:2,y:.5}},(0,g.c3)(e.message))}V.displayName="BitsCharityLine";function q(e){var n=e.message,t=e.primaryColorHex,i=d.useMemo(function(){return d.createElement(M.N,{contentID:n.userID,login:n.login,sourceType:I.TU.chat_message},(0,D.I)(n.login,n.displayName))},[n]),e=d.useMemo(function(){var e=(0,N.wv)("{user} is about to launch a Small Celebration!",{user:i},"CelebrationPurchaseLine");switch(n.intensity){case H.aNj.SMALL:return e;case H.aNj.MEDIUM:return(0,N.wv)("{user} is about to launch a Medium Celebration!",{user:i},"CelebrationPurchaseLine");case H.aNj.LARGE:return(0,N.wv)("{user} is about to launch a Large Celebration!",{user:i},"CelebrationPurchaseLine");default:return e}},[n,i]);return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:t},d.createElement(u.A,{display:b.sS.InlineFlex,flexWrap:b.gP.Wrap},d.createElement(p.V,{type:_.yG.Span,color:b.Il.Alt2},e)))}var G,H=t(128416),W=t(900060),c=t(773105),n=(G=d.Component,(0,a.__extends)(z,G),z.prototype.render=function(){if(!this.props.event.reward||!this.props.isChannelPointsFeatureFlagOn)return this.props.children?d.createElement(d.Fragment,null,this.props.children):null;var e=(0,N.wv)("{user} redeemed {reward}",{user:this.props.event.displayName,reward:this.props.event.reward.name},"ChannelPointsRewardLine");this.props.children&&(e=(0,N.wv)("Redeemed {reward}",{reward:this.props.event.reward.name},"ChannelPointsRewardLine"));var n,t=this.props.children;return this.props.children&&(n=d.Children.only(this.props.children),t=d.cloneElement(n,{className:"chat-line--inline",isHighlighted:this.props.event.reward.isHighlighted})),d.createElement(P.X,{isHighlighted:!1,primaryColorHex:null},d.createElement(u.A,{color:b.Il.Alt2},e,d.createElement(u.A,{className:"channel-points-reward-line__icon",display:b.sS.Inline,verticalAlign:b.g$.Middle},d.createElement(W.ZN,null)),(0,N.uf)(this.props.event.reward.cost)),t&&d.createElement(u.A,{margin:{top:.5}},t))},z);function z(){return null!==G&&G.apply(this,arguments)||this}function $(){return d.createElement(u.A,{className:"chat-line__status"},(0,N.wv)("Chat was cleared by a moderator","ChatLine"))}var j=(0,c.q)(function(e){return{isChannelPointsFeatureFlagOn:e.isChannelPointsFeatureFlagOn,pointIcon:e.pointIcon,rewardMap:e.rewardMap}})(n);$.displayName="ChatClearedLine";function Y(){return d.createElement(u.A,{className:"chat-line__status","data-a-target":"chat-welcome-message"},d.createElement(p.V,{type:_.yG.Span},(0,N.wv)("Welcome to the chat room!","ChatLine")))}Y.displayName="ChatConnectedLine";function Q(e){return e.message.reason?d.createElement(u.A,{className:"chat-line__status"},d.createElement(p.V,{type:_.yG.Span},(0,N.wv)("You have been disconnected from chat for the following reason: {reason}",{reason:e.message.reason},"ChatLine"))):d.createElement(u.A,{className:"chat-line__status"},d.createElement(p.V,{type:_.yG.Span},(0,N.wv)("Sorry, we were unable to connect to chat. Attempting to reconnect...","ChatLine")))}Q.displayName="ChatDisconnectedLine";function J(e){var n=e.channelLogin,t=e.event,i=t.challengeName,a=t.displayName,r=t.userContribution,e=t.hasMultipleChallenges,i=0===(t=t.otherContributors.size)?(0,N.wv)("{user} has contributed {pointIcon} {amount} total to the {challengeName} challenge",{user:a,pointIcon:d.createElement(u.A,{display:b.sS.InlineFlex,verticalAlign:b.g$.Top},d.createElement(W.ZN,null)),amount:(0,N.uf)(r),challengeName:i},"CommunityChallengeContributionLine"):e?(0,N.wv)("{otherViewerCount, plural, one {{viewerName} and # other contributed to {streamerName}'s community challenges}       other {{viewerName} and # others contributed to {streamerName}'s community challenges}}",{viewerName:a,otherViewerCount:t,streamerName:n},"CommunityChallengeContributionLine"):(0,N.wv)("{otherViewerCount, plural, one {{viewerName} and # other contributed to the {challengeName} challenge}       other {{viewerName} and # others contributed to the {challengeName} challenge}}",{viewerName:a,otherViewerCount:t,challengeName:i},"CommunityChallengeContributionLine");return d.createElement(P.X,{isHighlighted:!1,primaryColorHex:null},d.createElement(u.A,{display:b.sS.InlineFlex,flexWrap:b.gP.Wrap},d.createElement(p.V,{type:_.yG.Span,color:b.Il.Alt2},i)))}function K(e){return d.createElement(u.A,{className:"chat-line__status"},(0,g.fY)(e.message))}K.displayName="EmoteOnlyModeLine";function X(e){var n=d.createElement(u.A,{display:b.sS.Block},d.createElement(M.N,{contentID:e.event.user.id,login:e.event.user.username,sourceType:I.TU.chat_message},d.createElement(p.V,{color:b.Il.Link},(0,D.I)(e.event.user.username,e.event.user.displayName)))),t=new Date;return t.setDate(1),t.setMonth(parseInt(e.event.benefitEndMonth,10)-1),t=(0,N.wv)("{userLogin} <x:strong> Extended </x:strong> their Tier 1 subscription through {benefitEndMonth}!",{userLogin:n,benefitEndMonth:(0,N.p6)(t,{month:"long"}),"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span},e)}},"ExtendSubscriptionNoticeLine"),d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2},d.createElement(w.W,{asset:E.e.Star})),d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,t)))}X.displayName="ExtendSubscriptionNoticeLine";function Z(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(u.A,{display:b.sS.Flex,justifyContent:b.uM.Between},d.createElement(u.A,null,d.createElement(X,{event:e.message})),d.createElement(u.A,{alignItems:b.g1.End},e.moderationIcons)))}Z.displayName="ExtendSubLine";function ee(e){return d.createElement(u.A,{color:b.Il.Alt2,display:b.sS.Inline},(0,N.wv)("{userLogin} just made their first cheer!",{userLogin:d.createElement(M.N,{contentID:e.event.message.id,login:e.event.message.user.userLogin,sourceType:I.TU.chat_message},(0,D.I)(e.event.message.user.userLogin,e.event.message.user.userDisplayName))},"FirstCheerNoticeLine"))}ee.displayName="FirstCheerNoticeLine";function ne(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(ee,{event:e.message}),d.createElement(u.A,null,d.createElement(B.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:e.message.message.deleted,isHidden:e.message.message.hidden,message:e.message.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay})))}ne.displayName="FirstCheerMessage";function te(e){return d.createElement(u.A,{className:"chat-line__status"},(0,g.qV)(e.message))}te.displayName="FollowerOnlyModeLine";function ie(e){var n=e.event,t=d.createElement(M.N,{contentID:n.user.id,login:n.user.username,sourceType:I.TU.chat_message},(0,D.I)(n.user.username,n.user.displayName)),e=d.createElement(M.N,{contentID:n.user.id,login:n.senderLogin,sourceType:I.TU.chat_message},(0,D.I)(n.senderLogin,n.senderName));return d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},n.promoName&&n.promoGiftTotal?(0,N.wv)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!            They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{gifterButton:e,promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,recipientButton:t},"GiftPaidUpgradeNoticeLine"):(0,N.wv)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!",{gifterButton:e,recipientButton:t},"GiftPaidUpgradeNoticeLine"))}ie.displayName="GiftPaidUpgradeNoticeLine";function ae(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,d.createElement(ie,{event:e.message}))}var re;ae.displayName="GiftPaidUpgradeLine",(c=re=re||{})[c.MOD_ICONS=0]="MOD_ICONS",c[c.MESSAGE=1]="MESSAGE";function oe(e){var n=e.event,e=e.moderationIcons;return d.createElement(u.A,{className:"gift-pay-forward-line",color:b.Il.Alt2,margin:{y:.5},padding:{right:2,y:.5}},e&&d.createElement(u.A,{"data-test-selector":re.MOD_ICONS},e),d.createElement(u.A,{"data-test-selector":re.MESSAGE},function(e){var n=e.user.displayName,t=e.priorGifter.displayName;if(e.type===C.SJ.CommunityPayForward)return e.priorGifter.anonymous?(0,N.wv)("{sender} is paying forward the Gift they got from an anonymous gifter to the community!",{sender:n},"GiftPayForwardLine"):(0,N.wv)("{sender} is paying forward the Gift they got from {priorGifter} to the community!",{sender:n,priorGifter:t},"GiftPayForwardLine");var i=e.recipient.displayName;return e.priorGifter.anonymous?(0,N.wv)("{sender} is paying forward the Gift they got from an anonymous gifter to {recipient}!",{sender:n,recipient:i},"GiftPayForwardLine"):(0,N.wv)("{sender} is paying forward the Gift they got from {priorGifter} to {recipient}!",{sender:n,priorGifter:t,recipient:i},"GiftPayForwardLine")}(n)))}oe.displayName="GiftPayForwardLine";function se(e){return d.createElement(u.A,{className:"chat-line__status"},d.createElement(p.V,{type:_.yG.Span},(0,N.wv)("Now hosting {channel}",{channel:e.message.hostedChannel},"ChatLine")))}se.displayName="HostingLine";var le,de=t(246797),ue=t(440837),ce=t(848241),me=t(440281),pe=t(796441),he=t(175850),ge=t(885643),fe=t(497354),n=t(613290),ve=t(965347),c=(le=d.Component,(0,a.__extends)(ye,le),ye.prototype.render=function(){if(this.state.isHidden)return null;var e=this.props.event.callout,n=void 0===this.props.messageIndex||this.props.messageIndex<6;return d.createElement(u.A,{border:!0,background:b.Aq.Alt,borderRadius:de.c.Medium,margin:{x:2,y:.5}},d.createElement(u.A,{display:b.sS.Flex,flexDirection:b.Qb.Row,alignItems:b.g1.Center,className:"inline-private-callout-line__header"},d.createElement(w.W,{asset:E.e.Lock,width:14,height:14}),d.createElement(u.A,{padding:{left:.5}},d.createElement(p.V,{color:b.Il.Alt2}," ",(0,N.wv)("Only visible to you","InlineChatPrivateCallout")," "))),d.createElement(u.A,{display:b.sS.Flex,alignItems:b.g1.Center,padding:1,borderTop:!0},e.icon&&d.createElement(u.A,{className:"inline-private-callout-line__icon",margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:b.sS.Flex,flexGrow:0,flexShrink:0,alignItems:b.g1.Center,justifyContent:b.uM.Center,background:e.hideIconBackground?void 0:b.Aq.Base,borderRadius:de.c.Rounded,border:!e.hideIconBackground},e.icon),d.createElement(u.A,{flexGrow:1,padding:{right:1}},d.createElement(p.V,{color:b.Il.Base,bold:!0,type:_.yG.Span},e.title)),e.cta&&this.renderButton(e),e.contextMenuProps&&d.createElement(u.A,{color:b.Il.Base,position:b.Ly.Relative,padding:{top:.5,bottom:1,x:.5}},d.createElement(he.c,{onClickOut:this.onContextMenuClickout},d.createElement(ue.Ei,{icon:E.e.More,onClick:this.toggleContextMenu,"aria-label":"more options"}),d.createElement(ce.l,{show:this.state.contextMenuOpen,direction:n?me.O.BottomRight:me.O.TopRight,offsetX:"12px"},d.createElement(ge.x,{event:e.contextMenuProps.event,onPin:this.hideOnContextMenuAction(e.contextMenuProps.onPin),onHide:this.hideOnContextMenuAction(e.contextMenuProps.onHide),onSkip:this.hideOnContextMenuAction(e.contextMenuProps.onSkip)}))))),e.withReminderText&&d.createElement(u.A,{borderTop:!0,background:b.Aq.Base,padding:{left:1}},d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},(0,N.wv)("You will be reminded later","InlinePrivateCallout"))))},ye.prototype.renderButton=function(e){var n;return e.action?n=e.action:this.props.event.tray&&(n=this.actionClick),n?d.createElement(u.A,{visibility:this.state.hideCTA?b.EE.Hidden:b.EE.Visible},d.createElement(pe.zx,{onClick:n,size:pe.qE.Small,children:e.cta})):null},ye.prototype.actionClick=function(){var e,n;this.props.event.tray&&((n=this.props.event.tray).onClose=this.showCTA,null!==(e=n.sendMessageHandler)&&void 0!==e&&e.params&&(n.sendMessageHandler.params.privateCalloutTrackingContext=fe.iv.Chat),this.props.setTray(n),this.setState({hideCTA:!0}),(0,fe.qD)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.props.event.callout.trackingType,privateCalloutSID:this.props.event.callout.privateSID,clickType:this.props.event.callout.trackingClickType,uiContext:fe.iv.Chat}))},ye.prototype.showCTA=function(){this.setState({hideCTA:!1})},ye);function ye(e){var n=le.call(this,e)||this;return n.state={contextMenuOpen:!1,hideCTA:!1,isHidden:!1},n.toggleContextMenu=function(){var e=n.state.contextMenuOpen;n.setState({contextMenuOpen:!e})},n.onContextMenuClickout=function(){n.setState({contextMenuOpen:!1})},n.hideOnContextMenuAction=function(e){if(void 0!==e)return function(){e(),n.setState({isHidden:!0})}},n.actionClick=n.actionClick.bind(n),n.showCTA=n.showCTA.bind(n),n}function ke(e){return e.channelLogin&&e.currentUserLogin?d.createElement(Se,{event:e.event,channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserID:e.currentUserID,messageIndex:e.messageIndex}):null}var Se=(0,s.qC)((0,n.WA)(function(n){return{setTray:function(e){return n((0,ve.aT)(e))}}}))(c);ke.displayName="InlinePrivateCalloutLine";function Ce(){return d.createElement(u.A,{className:"chat-line__message",display:b.sS.Flex,alignItems:b.g1.Center},d.createElement(u.A,{className:"live-message-separator-line__hr",flexGrow:1,margin:{right:1}}),d.createElement(be.u,{label:(0,N.wv)("Chat messages above were sent in the past hour","LiveMessageSeparatorLine"),options:{placement:"top-start"}},d.createElement(p.V,{color:b.Il.Live,type:_.yG.Span},(0,N.wv)("New","ChatLine"))))}var be=t(269731);Ce.displayName="LiveMessageSeparatorLine";function we(e){return e.isCurrentUserModerator&&e.showModerationActions||e.moderationActionEvent.level===Ne.gm.User&&e.moderationActionEvent.targetUserLogin&&e.moderationActionEvent.targetUserLogin===e.currentUserLogin?d.createElement(Te,{moderationActionEvent:e.moderationActionEvent,currentUserLogin:e.currentUserLogin}):null}function Ee(e){return!e.isCurrentUserModerator||e.showModerationActions||e.deletedMessageDisplay===H.zCI.BRIEF?null:d.createElement(u.A,{className:"chat-line__moderation"},(0,g.mf)(e.message))}var _e,Ne=t(380079),De=t(487163),Me=t(228562),Ie=t(906704),Te=(_e=d.Component,(0,a.__extends)(Pe,_e),Pe.prototype.render=function(){var e=this.props.moderationActionEvent,n=e.createdByLogin,t=null;if(e.moderationActionType===Ie.e0.AutoModEnabled)t=(0,N.wv)("AutoMod has been enabled for this channel.","ModerationActionLine");else if(e.level===Ne.gm.Channel)switch(e.moderationActionType){case Ie.e0.Clear:t=(0,N.wv)("{user} cleared chat for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.EmoteOnly:t=(0,N.wv)("{user} enabled emote-only mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.EmoteOnlyOff:t=(0,N.wv)("{user} disabled emote-only for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.FollowersOnly:var i=(e.args||[""]).join(" ").trim(),i=parseInt(i,10),t=i?(0,N.wv)("{user} enabled {length} followers-only mode for this room.",{user:n,length:(0,De.LU)(60*i)},"ModerationActionLine"):(0,N.wv)("{user} enabled followers-only mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.FollowersOnlyOff:t=(0,N.wv)("{user} disabled followers-only mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.R9kBeta:t=(0,N.wv)("{user} enabled unique-chat mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.R9kBetaOff:t=(0,N.wv)("{user} disabled unique-chat mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.Slow:var a=(e.args||["30"]).join(" ").trim(),a=parseInt(a,10);t=(0,N.wv)("{user} enabled {slowTime}-second slow mode for this room.",{user:n,slowTime:a},"ModerationActionLine");break;case Ie.e0.SlowOff:t=(0,N.wv)("{user} disabled slow mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.SubscribersOnly:t=(0,N.wv)("{user} enabled subscribers-only mode for this room.",{user:n},"ModerationActionLine");break;case Ie.e0.SubscribersOnlyOff:t=(0,N.wv)("{user} disabled subscribers-only mode for this room.",{user:n},"ModerationActionLine");break;default:a=e.args&&e.args.join(" ").trim(),a=a&&0<a.length?"/"+e.moderationActionType+" "+a:""+e.moderationActionType;t=(0,N.wv)("{user} used: {command}.",{user:e.createdByLogin,command:a},"ModerationActionLine")}else{var r=e.targetUserLogin,o=e.duration,s=e.reason,l=e.messageBody;switch(e.moderationActionType){case Ie.e0.Timeout:t=e.level===Ne.gm.User&&this.props.currentUserLogin&&r===this.props.currentUserLogin?o&&s?(0,N.wv)("{duration, plural, one {You were timed out for # second. Reason: {reason}.} other {You were timed out for # seconds. Reason: {reason}.}}",{duration:o,reason:s},"ModerationActionLine"):o?(0,N.wv)("{duration, plural, one {You were timed out for # second.} other {You were timed out for # seconds.}}",{duration:o},"ModerationActionLine"):s?(0,N.wv)("You were timed out. Reason: {reason}.",{reason:s},"ModerationActionLine"):(0,N.wv)("You were timed out.","ModerationActionLine"):o&&s?(0,N.wv)("{duration, plural, one {{user} timed out {target} for # second. Reason: {reason}.} other {{user} timed out {target} for # seconds. Reason: {reason}.}}",{user:n,target:r,duration:o,reason:s},"ModerationActionLine"):o?(0,N.wv)("{duration, plural, one {{user} timed out {target} for # second.} other {{user} timed out {target} for # seconds.}}",{user:n,target:r,duration:o},"ModerationActionLine"):(0,N.wv)("{user} timed out {target}.",{user:n,target:r},"ModerationActionLine");break;case Ie.e0.Ban:t=!n&&s?(0,N.wv)("You were banned. Reason: {reason}.",{reason:s},"ModerationActionLine"):n?s?(0,N.wv)("{user} banned {target}. Reason: {reason}.",{user:n,target:r,reason:s},"ModerationActionLine"):(0,N.wv)("{user} banned {target}.",{user:n,target:r},"ModerationActionLine"):(0,N.wv)("You were banned.","ModerationActionLine");break;case Ie.e0.Untimeout:t=(0,N.wv)("{user} removed time out on {target}.",{user:n,target:r},"ModerationActionLine");break;case Ie.e0.Unban:t=(0,N.wv)("{user} removed ban on {target}.",{user:n,target:r},"ModerationActionLine");break;case Ie.e0.Mod:t=(0,N.wv)("{user} granted moderator privileges to {target}.",{user:n,target:r},"ModerationActionLine");break;case Ie.e0.Unmod:t=(0,N.wv)("{user} removed moderator privileges for {target}.",{user:n,target:r},"ModerationActionLine");break;case Ie.e0.Delete:t=d.createElement(Me.C,{targetLogin:r,moderatorLogin:n,messageBody:l||""});break;default:return null}}return t?d.createElement(u.A,{className:"chat-line__status","data-a-target":"moderation-action"},d.createElement(p.V,{type:_.yG.Span},t)):null},Pe);function Pe(){return null!==_e&&_e.apply(this,arguments)||this}Ee.displayName="ModerationLine";var Re,Ae=t(687837),Le="https://www.twitch.tv/settings/connections";(n=Re=Re||{}).Kickback="msg_blizzard",n.Enabled="blizzard_connect_on",n.Disabled="blizzard_connect_off",n.AlreadyEnabled="already_blizzard_mode_on",n.AlreadyDisabled="already_blizzard_mode_off";function Fe(e){var n=null;switch(e.type){case Re.Kickback:var t=d.createElement(Ae.s,{targetBlank:!0,linkTo:Le},Le),n=(0,N.wv)("You must connect your Blizzard account to send messages in this room. You can connect your Blizzard account in your Twitch settings at {settingsLink}",{settingsLink:t},"BlizzardConnectModeNoticeLine");break;case Re.Enabled:n=(0,N.wv)("This room now requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Re.Disabled:n=(0,N.wv)("This room no longer requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Re.AlreadyEnabled:n=(0,N.wv)("This room already requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Re.AlreadyDisabled:n=(0,N.wv)("This room does not require a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;default:return null}return d.createElement(u.A,null,n)}function Ue(e){return{bad_host_error:(0,N.wv)("There was a problem hosting. Please try again in a minute.","HostNoticeLine"),bad_unhost_error:(0,N.wv)("There was a problem exiting host mode. Please try again in a minute.","HostNoticeLine"),bad_host_self:(0,N.wv)("A channel cannot host itself.","HostNoticeLine"),bad_host_hosting:(0,N.wv)("This channel is already hosting.","HostNoticeLine"),bad_host_rate_exceeded:(0,N.wv)("Host target cannot be changed more than 3 times every half hour.","HostNoticeLine"),bad_host_rejected:(0,N.wv)("This channel is unable to be hosted.","HostNoticeLine"),not_hosting:(0,N.wv)("No channel is currently being hosted.","HostNoticeLine"),hosts_remaining:(0,N.wv)("{num, plural, one {# host command remaining this half hour.} other {# host commands remaining this half hour.}}",{num:xe(e)},"HostNoticeLine"),host_target_went_offline:(0,N.wv)("{channel} has gone offline. Exiting host mode.",{channel:xe(e)},"HostNoticeLine")}}function xe(e){return e.split(" ")[0]}Fe.displayName="BlizzardConnectNoticeLine";function Oe(e){return d.createElement("span",null,Ue(e.message.message)[e.message.msgid])}function Be(){return{raid_error_self:(0,N.wv)("You cannot raid your own channel.","RaidErrorSelfMessage"),raid_error_forbidden:(0,N.wv)("You cannot raid this channel.","RaidErrorAlreadyRaidingMessage"),raid_error_already_raiding:(0,N.wv)("You already have a raid in progress.","RaidErrorForbiddenMessage"),raid_error_too_many_viewers_to_raid:(0,N.wv)("Sorry, raids can only support up to 20,000 viewers right now.","RaidErrorTooManyViewersMessage"),raid_error_unexpected:(0,N.wv)("There was a problem starting the raid. Please try again in a minute.","RaidErrorUnexpectedMessage"),unraid_error_unexpected:(0,N.wv)("There was a problem stopping the raid. Please try again in a minute.","UnraidErrorUnexpectedMessage"),unraid_error_no_active_raid:(0,N.wv)("You do not have an active raid.","UnraidErrorNoActiveRaidMessage"),raid_notice_restricted_chat:(0,N.wv)("This channel has follower or subscriber only chat.","RaidNoticeRestrictedChatMessage"),raid_notice_mature:(0,N.wv)("This channel is intended for mature audiences.","RaidNoticeMatureMessage"),raid_notice_owner:(0,N.wv)("This channel has started a raid, type {unraidCommand} if you want to cancel.",{unraidCommand:"/unraid"},"RaidNoticeOwnerMessage")}}Oe.displayName="HostNoticeLine";function Ve(e){return d.createElement("span",null,Be()[e.message.msgid])}Ve.displayName="RaidNoticeLine";function qe(e){var n=e.message;if(n.msgid in Be())return d.createElement(u.A,{className:"chat-line__status"},d.createElement(Ve,{message:n}));if(n.msgid in Ue(n.message))return d.createElement(u.A,{className:"chat-line__status"},d.createElement(Oe,{message:n}));switch(n.msgid){case"msg_subsonly":return d.createElement(u.A,{className:"chat-line__status"},d.createElement(He,{channelLogin:e.channelLogin}));case Re.Kickback:case Re.Enabled:case Re.Disabled:case Re.AlreadyEnabled:case Re.AlreadyDisabled:return d.createElement(u.A,{className:"chat-line__status"},d.createElement(Fe,{type:n.msgid}))}if(e.isCurrentUserModerator)switch(n.msgid){case"delete_message_success":case"timeout_success":case"ban_success":return null;case"untimeout_success":case"unban_success":if(e.showModerationActions)return null}return d.createElement(u.A,{className:"chat-line__status"},n.message)}var c=t(987145),n=t(4003),Ge=t(517563),He=(0,s.qC)((0,c.TA)(n,{options:function(e){return{variables:{login:e.channelLogin}}}}))(function(e){var n=e.data;if(n.loading)return null;e=null;if(!n.error&&n.user&&n.user.subscriptionProducts&&0<n.user.subscriptionProducts.length&&((n=n.user.subscriptionProducts.find(function(e){return!!e&&!!e.url}))&&(e=n.url)),!e)return d.createElement(u.A,null,(0,N.wv)("This room is in subscribers only mode.","SubsOnlyUpsellLine"));e=d.createElement(Ae.s,{targetBlank:!0,linkTo:e+"?"+Ge.Pz({ref:"subscriber_only_mode_chat"})},e);return d.createElement(u.A,null,(0,N.wv)("This room is in subscribers only mode. To talk, purchase a channel subscription at {productLink}",{productLink:e},"SubsOnlyUpsellLine"))});qe.displayName="NoticeLine";function We(e){return e=(0,N.wv)("{receiver} received a {giftName} from the Community Gift Chest, courtesy of {sender}!",{receiver:d.createElement(p.V,{bold:!0,type:_.yG.Span},e.event.receiver),giftName:e.event.giftName,sender:d.createElement(p.V,{bold:!0,type:_.yG.Span},e.event.sender)},"PrimeCommunityGiftReceivedNoticeLine"),d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,e)))}We.displayName="PrimePaidUpgradeNoticeLine";function ze(n){var e=d.createElement(u.A,{display:b.sS.Block},d.createElement(M.N,{contentID:n.event.user.id,login:n.event.user.username,sourceType:I.TU.chat_message},d.createElement(p.V,{color:b.Il.Link},(0,D.I)(n.event.user.username,n.event.user.displayName)))),e=n.event.plan===Ye.G.Custom?(0,N.wv)("{userLogin} <x:strong>Converted</x:strong> from a <x:prime-gaming-link>Prime Gaming</x:prime-gaming-link> sub to a Paid sub!",{userLogin:e,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span},e)},"x:prime-gaming-link":function(e){return $e(n.event.channel,en,e)}},"PrimePaidUpgradeNoticeLine"):(0,N.wv)("{userLogin} <x:strong>Converted</x:strong> from a <x:prime-gaming-link>Prime Gaming</x:prime-gaming-link> sub to a Tier {tierNumber} sub!",{tierNumber:(0,A.K)(n.event.plan)||1,userLogin:e,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span},e)},"x:prime-gaming-link":function(e){return $e(n.event.channel,en,e)}},"PrimePaidUpgradeNoticeLine");return d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2},d.createElement(w.W,{asset:E.e.Star})),d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,e)))}function $e(e,n,t){return d.createElement(Ze,{channel:e,reference:n,text:t})}var je,Ye=t(1208),Qe=t(146085),Je=t(952743),Ke=t(384713),Xe=t(210631),Ze=(je=d.PureComponent,(0,a.__extends)(nn,je),nn.prototype.render=function(){var e=this.props,n=e.channel,t=e.reference,e=e.text,n=(0,Qe.Q3)("https://gaming.amazon.com/",{ingress:Ke.y2,reference:t,channel:n,twitchReferral:this.referralID});return d.createElement(Ae.s,{onClick:this.onTryPrimeClick,className:"chat-line__message--link",linkTo:n,targetBlank:!0,rel:"noopener"},e)},nn),en="primetopaid";function nn(){var e=null!==je&&je.apply(this,arguments)||this;return e.referralID=(0,Xe.Nn)(),e.onTryPrimeClick=function(){(0,Xe.VV)({tp_refcode:e.referralID,medium:Je.bn.Chat,content:Je.d8.TwitchPrimeSubNotification,tp_campaign:Xe.F1.TrackingAlpha})},e}ze.displayName="PrimePaidUpgradeNoticeLine";function tn(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(u.A,{display:b.sS.Flex,justifyContent:b.uM.Between},d.createElement(u.A,{alignItems:b.g1.Start},d.createElement(ze,{event:e.message})),d.createElement(u.A,{alignItems:b.g1.End},e.moderationIcons)))}tn.displayName="PrimePaidUpgradeLine";function an(e){return d.createElement(u.A,{className:"chat-line__status"},(0,g.yc)(e.message))}an.displayName="R9KModeLine";function rn(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(p.V,{color:b.Il.Alt2},(0,N.wv)("The raid has been cancelled.","RaidCancelMessage")))}rn.displayName="RaidCanceledLine";function on(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(dn,{message:e.message}))}var sn,ln=t(42086),s=t(778171),n=(sn=d.Component,(0,a.__extends)(un,sn),un.prototype.render=function(){var e=this.props.message.params,n=this.props.data,t=n.channel,i=n.loading,n=n.error;if(i||n||!t||!t.displayName)return null;e=(0,N.wv)("{displayName} is raiding with a party of {viewerCount}.",{displayName:d.createElement("strong",null,t.displayName),viewerCount:d.createElement("strong",null,e.viewerCount)},"RaidIncomingMessage");return d.createElement(u.A,{display:b.sS.Flex,alignItems:b.g1.Center},d.createElement(ln.q,{alt:t.displayName,src:t.profileImageURL,userLogin:t.login,size:30}),d.createElement(u.A,{color:b.Il.Base,margin:{left:1}},e))},un),dn=(0,c.TA)(s,{options:function(e){return{variables:{channelLogin:e.message.params.login}}}})(n);function un(){return null!==sn&&sn.apply(this,arguments)||this}on.displayName="RaidLine";var cn=t(731110),mn=t(624685),pn=function(e){var n=d.Children.only(E.W[E.e.Star].path.props.children);return d.createElement("svg",{className:"animated-tier-star animated-tier-star--tier-"+e.tier+" "+(e.className||""),viewBox:"0 0 20 20",width:"20",height:"20",overflow:"visible"},d.createElement("defs",null,d.createElement("linearGradient",{x1:"0%",x2:"100%",y1:"0%",y2:"100%",id:"swipe-gradient"},d.createElement("stop",{offset:"0%","stop-color":mn.x.TwitchPurple}),d.createElement("stop",{offset:"100%","stop-color":mn.x.Purple12})),d.createElement("clipPath",{id:"star-mask",className:"animated-tier-star__star-mask"},n)),d.createElement("g",{className:"animated-tier-star__star"},n),d.createElement("g",{width:"20",height:"20",className:"animated-tier-star__swipe-mask",clipPath:"url(#star-mask)"},d.createElement("g",{className:"animated-tier-star__swipe-group"},d.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--1",fill:"url(#swipe-gradient)"}),d.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--2",fill:"url(#swipe-gradient)"}),d.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--3",fill:"url(#swipe-gradient)"}))))};function hn(e){var n=e.methods.prime?d.createElement(w.W,{asset:E.e.CrownFilled,type:w.w.Brand}):d.createElement(w.W,{asset:E.e.Star});switch(e.methods.plan){case Ye.S.Tier2:n=d.createElement(pn,{tier:2});break;case Ye.S.Tier3:n=d.createElement(pn,{tier:3})}return n}function gn(n){var e,t,i=d.createElement(cn.o,{display:b.sS.Block,key:"chatter-name"},d.createElement("span",null,d.createElement(M.N,{contentID:n.event.user.id,login:n.event.user.username,sourceType:I.TU.chat_message},d.createElement(p.V,{color:b.Il.Link,type:_.yG.Span},(0,D.I)(n.event.user.username,n.event.user.displayName))))),a=null,r=(0,N.wv)("{streak, plural, one {currently on a {streak} month streak!} other {currently on a {streak} month streak!}}",{streak:n.event.streakMonths||0},"ResubNoticeV2Line");return a=n.event.wasGift&&n.event.multiMonthGiftInfo&&0<n.event.multiMonthGiftInfo.giftMonthBeingRedeemed&&1<n.event.multiMonthGiftInfo.giftedMonths?n.event.multiMonthGiftInfo.anonGift?(0,N.wv)("{giftedMonths, plural, one {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of <x:strong>anonymous</x:strong> has entered month {monthNumber}.}other {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of <x:strong>anonymous</x:strong> has entered month {monthNumber}.}}",{userLogin:i,giftedMonths:n.event.multiMonthGiftInfo.giftedMonths,monthNumber:n.event.multiMonthGiftInfo.giftMonthBeingRedeemed,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(e=d.createElement(M.N,{contentID:n.event.multiMonthGiftInfo.gifterId,login:n.event.multiMonthGiftInfo.gifterLogin,sourceType:I.TU.chat_message},(0,D.I)(n.event.multiMonthGiftInfo.gifterLogin,n.event.multiMonthGiftInfo.gifterName)),(0,N.wv)("{giftedMonths, plural, one {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of {gifterButton} has entered month {monthNumber}.}other {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of {gifterButton} has entered month {monthNumber}.}}",{gifterButton:e,userLogin:i,giftedMonths:n.event.multiMonthGiftInfo.giftedMonths,monthNumber:n.event.multiMonthGiftInfo.giftMonthBeingRedeemed,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line")):n.event.multiMonthInfo&&1<n.event.multiMonthInfo.multiMonthDuration&&0===n.event.multiMonthInfo.multiMonthTenure?(e=(0,N.wv)("{multiMonths, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} month in advance.}other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} months in advance.}}",{tierNumber:(0,A.K)(n.event.methods.plan)||1,userLogin:i,multiMonths:null===(t=n.event.multiMonthInfo)||void 0===t?void 0:t.multiMonthDuration,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"),t=void 0!==n.event.streakMonths&&0<n.event.streakMonths?(0,N.wv)("{cumulative, plural, one {They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:n.event.cumulativeMonths,streakMessage:r,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(0,N.wv)("{cumulative, plural, one {They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:n.event.cumulativeMonths,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"),d.createElement(d.Fragment,null,e," ",t)):n.event.methods.prime?n.event.cumulativeMonths<2?(0,N.wv)("{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>",{userLogin:i,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:"text"},e)},"x:prime-gaming-link":function(e){return fn(n.event.channel,vn,e)}},"ResubNoticeV2Line"):n.event.shouldShareStreakTenure&&void 0!==n.event.streakMonths&&0<n.event.streakMonths?(0,N.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:n.event.cumulativeMonths,userLogin:i,streakMessage:r,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)},"x:prime-gaming-link":function(e){return fn(n.event.channel,vn,e)}},"ResubNoticeV2Line"):(0,N.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:n.event.cumulativeMonths,userLogin:i,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)},"x:prime-gaming-link":function(e){return fn(n.event.channel,vn,e)}},"ResubNoticeV2Line"):n.event.methods.plan!==Ye.G.Custom?n.event.cumulativeMonths<2?(0,N.wv)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}.",{tierNumber:(0,A.K)(n.event.methods.plan)||1,userLogin:i,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:"text"},e)}},"ResubNoticeV2Line"):n.event.shouldShareStreakTenure&&void 0!==n.event.streakMonths&&0<n.event.streakMonths?(0,N.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:n.event.cumulativeMonths,tierNumber:(0,A.K)(n.event.methods.plan)||1,userLogin:i,streakMessage:r,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(0,N.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:n.event.cumulativeMonths,tierNumber:(0,A.K)(n.event.methods.plan)||1,userLogin:i,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"):n.event.cumulativeMonths<2?(0,N.wv)("{userLogin} <x:strong>Subscribed</x:strong>.",{userLogin:i,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:"text"},e)}},"ResubNoticeV2Line"):n.event.shouldShareStreakTenure&&void 0!==n.event.streakMonths&&0<n.event.streakMonths?(0,N.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:n.event.cumulativeMonths,userLogin:i,streakMessage:r,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"):(0,N.wv)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:n.event.cumulativeMonths,userLogin:i,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"ResubNoticeV2Line"),i=hn(n.event),d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2},i),d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,a)))}function fn(e,n,t){return d.createElement(Ze,{channel:e,reference:n,text:t})}var vn="resubscription";gn.displayName="ResubNoticeV2Line";function yn(e){var n=e.message,t=null;return n.message&&(t=d.createElement(B.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay})),d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(u.A,{display:b.sS.Flex,justifyContent:b.uM.Between},d.createElement(gn,{event:n}),!t&&d.createElement(u.A,{alignItems:b.g1.End},e.moderationIcons)),t&&d.createElement(u.A,{margin:{top:.5}},t))}yn.displayName="ResubLine";function kn(e){if(!(e.event.messageID&&e.event.userLogin&&e.event.displayName))return null;var n=d.createElement(M.N,{contentID:e.event.messageID,login:e.event.userLogin,sourceType:e.event.sourceType},e.event.displayName),t=(0,N.wv)("{count} emotes shared!",{count:e.event.totalRewardCount},"RewardGiftNoticeLine"),i=function(e,n,t){switch(e){case Cn.zn.Subscription:return(0,N.wv)("{selectedCount, plural, one {{gifterButton}'s Sub shared rewards to {selectedCount} other in chat.} other {{gifterButton}'s Sub shared rewards to {selectedCount} others in chat.}}",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLineUpdate");case Cn.zn.SubGift:return(0,N.wv)("{gifterButton}'s Gift shared rewards to {selectedCount} others in chat.",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLine");default:Cn.zn.Cheer;return(0,N.wv)("{gifterButton}'s Cheer shared rewards to {selectedCount} others in chat.",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLine")}}(e.event.triggerType,n,e.event.selectedCount),n=function(){switch(e.event.triggerType){case Cn.zn.Subscription:return E.e.Star;case Cn.zn.SubGift:return E.e.Gift;default:Cn.zn.Cheer;return E.e.Bits}}();return d.createElement(u.A,{className:"reward-gift-user-notice",margin:{y:.5}},d.createElement(u.A,{display:b.sS.Flex,alignItems:b.g1.Start},d.createElement(u.A,{color:b.Il.Alt2,margin:{right:.5}},d.createElement(w.W,{asset:n})),d.createElement(u.A,null,d.createElement(p.V,{bold:!0,color:b.Il.Link},t),d.createElement(p.V,{color:b.Il.Alt2},i))))}function Sn(e){var n=e.event.message,e=n.user.isIntl?n.user.userDisplayName+" ("+n.user.userLogin+")":n.user.userDisplayName,e=(0,N.wv)("{user} is new here. Say hello!",{user:d.createElement(M.N,{contentID:n.id,login:n.user.userLogin,sourceType:I.TU.chat_message},"@",e)},"NewChatterRitual");return d.createElement(u.A,{color:b.Il.Alt2},e)}var Cn=t(689242);Sn.displayName="RitualNoticeLine";function bn(e){var n=e.message;return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(Sn,{event:n}),d.createElement(B.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay}))}bn.displayName="RitualLine";function wn(e){return d.createElement(u.A,{className:"chat-line__status"},(0,g.WR)(e.message.moderatorLogins))}wn.displayName="RoomModsLine";function En(e){return d.createElement(u.A,{className:"chat-line__status"},(0,g.RF)(e.message))}En.displayName="SlowModeLine";function _n(e){var n,t,i,a=e.event,r=d.createElement(M.N,{contentID:a.user.id,login:a.user.username,sourceType:I.TU.chat_message},(0,D.I)(a.user.username,a.user.displayName)),o=d.createElement(M.N,{contentID:a.user.id,login:a.recipientLogin,sourceType:I.TU.chat_message},(0,D.I)(a.recipientLogin,a.recipientDisplayName)),o="custom"===a.methods.plan?(n=r,t=o,i=a.senderCount,1<(e=a.giftMonths)?1===i?(0,N.wv)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} gifted # months to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:n,giftMonths:e,recipientButton:t},"SubGiftNoticeLine"):1<i?(0,N.wv)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} gifted # months to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:n,giftMonths:e,recipientButton:t,senderCount:i},"SubGiftNoticeLine"):(0,N.wv)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}!} other {{gifterButton} gifted # months to {recipientButton}!}}",{gifterButton:n,giftMonths:e,recipientButton:t},"SubGiftNoticeLine"):1===i?(0,N.wv)("{gifterButton} gifted a Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:n,recipientButton:t},"SubGiftNoticeLine"):1<i?(0,N.wv)("{gifterButton} gifted a Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:n,recipientButton:t,senderCount:i},"SubGiftNoticeLine"):(0,N.wv)("{gifterButton} gifted a subscription to {recipientButton}!",{gifterButton:n,recipientButton:t},"SubGiftNoticeLine")):(n=r,t=o,r=a.senderCount,o=(0,A.K)(a.methods.plan)||1,1<(a=a.giftMonths)?1===r?(0,N.wv)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:n,giftMonths:a,tierNumber:o,recipientButton:t},"SubGiftNoticeLine"):1<r?(0,N.wv)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:n,giftMonths:a,tierNumber:o,recipientButton:t,senderCount:r},"SubGiftNoticeLine"):(0,N.wv)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}!}}",{gifterButton:n,giftMonths:a,tierNumber:o,recipientButton:t},"SubGiftNoticeLine"):1===r?(0,N.wv)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:n,recipientButton:t,tierNumber:o},"SubGiftNoticeLine"):1<r?(0,N.wv)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:n,recipientButton:t,senderCount:r,tierNumber:o},"SubGiftNoticeLine"):(0,N.wv)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:n,recipientButton:t,tierNumber:o},"SubGiftNoticeLine"));return d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},o)}function Nn(e){var n,t,i,a=e.event,r=d.createElement(cn.o,{display:b.sS.Block},d.createElement("span",null,d.createElement(M.N,{contentID:a.user.id,login:a.user.username,sourceType:I.TU.chat_message},d.createElement(p.V,{color:b.Il.Link,type:_.yG.Span},(0,D.I)(a.user.username,a.user.displayName))))),o=d.createElement(M.N,{contentID:a.user.id,login:a.recipientLogin,sourceType:I.TU.chat_message},(0,D.I)(a.recipientLogin,a.recipientDisplayName)),o="custom"===a.methods.plan?(n=r,t=o,i=a.senderCount,1<(e=a.giftMonths)?1===i?(0,N.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} Gifted # months to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:n,giftMonths:e,recipientButton:t},"SubGiftNoticeLine"):1<i?(0,N.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} Gifted # months to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:n,giftMonths:e,recipientButton:t,senderCount:i},"SubGiftNoticeLine"):(0,N.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}!} other {{gifterButton} Gifted # months to {recipientButton}!}}",{gifterButton:n,giftMonths:e,recipientButton:t},"SubGiftNoticeLine"):1===i?(0,N.wv)("{gifterButton} Gifted a Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:n,recipientButton:t},"SubGiftNoticeLine"):1<i?(0,N.wv)("{gifterButton} Gifted a Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:n,recipientButton:t,senderCount:i},"SubGiftNoticeLine"):(0,N.wv)("{gifterButton} Gifted a subscription to {recipientButton}!",{gifterButton:n,recipientButton:t},"SubGiftNoticeLine")):(n=r,t=o,r=a.senderCount,o=(0,A.K)(a.methods.plan)||1,1<(a=a.giftMonths)?1===r?(0,N.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:n,giftMonths:a,tierNumber:o,recipientButton:t},"SubGiftNoticeLine"):1<r?(0,N.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:n,giftMonths:a,tierNumber:o,recipientButton:t,senderCount:r},"SubGiftNoticeLine"):(0,N.wv)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}!}}",{gifterButton:n,giftMonths:a,tierNumber:o,recipientButton:t},"SubGiftNoticeLine"):1===r?(0,N.wv)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:n,recipientButton:t,tierNumber:o},"SubGiftNoticeLine"):1<r?(0,N.wv)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:n,recipientButton:t,senderCount:r,tierNumber:o},"SubGiftNoticeLine"):(0,N.wv)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:n,recipientButton:t,tierNumber:o},"SubGiftNoticeLine"));return d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2},d.createElement(w.W,{asset:E.e.Gift,type:w.w.Alt})),d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,o)))}Nn.displayName=_n.displayName="SubGiftNoticeLine";function Dn(e){var n=e.message,t="experiment"===N.$6.experiments.getAndTrackAssignment("gifting_user_notice_standardization");return"274598607"!==n.user.userID?d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,t?d.createElement(Nn,{event:n}):d.createElement(_n,{event:n})):(n={channel:n.channel,giftMonths:n.giftMonths,id:n.id,methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,type:C.SJ.AnonSubGift},d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(R,{event:n})))}Dn.displayName="SubGiftLine";function Mn(e){var n,t,i,a=e.event,r=d.createElement(M.N,{contentID:a.user.id,login:a.user.username,sourceType:I.TU.chat_message},(0,D.I)(a.user.username,a.user.displayName)),a="custom"===a.plan?(n=r,t=a.channel,i=a.massGiftCount,1===(e=a.senderCount)?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:n,massGiftCount:i},"SubMysteryGiftNoticeLine"):1<e?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:n,massGiftCount:i,senderCount:e},"SubMysteryGiftNoticeLine"):(0,N.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,gifterButton:n,massGiftCount:i},"SubMysteryGiftNoticeLine")):(t=r,n=a.channel,i=a.massGiftCount,r=a.senderCount,a=(0,A.K)(a.plan)||1,1===r?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:t,massGiftCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):1<r?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:t,massGiftCount:i,senderCount:r,tierNumber:a},"SubMysteryGiftNoticeLine"):(0,N.wv)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,gifterButton:t,massGiftCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"));return d.createElement(p.V,{color:b.Il.Alt2,type:_.yG.Span},a)}function In(e){var n,t,i,a=e.event,r=d.createElement(cn.o,{display:b.sS.Block},d.createElement("span",null,d.createElement(M.N,{contentID:a.user.id,login:a.user.username,sourceType:I.TU.chat_message},d.createElement(p.V,{color:b.Il.Link,type:_.yG.Span},(0,D.I)(a.user.username,a.user.displayName))))),a="custom"===a.plan?(n=r,t=a.channel,i=a.massGiftCount,1===(e=a.senderCount)?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:t,gifterButton:n,massGiftCount:i},"SubMysteryGiftNoticeLine"):1<e?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:t,gifterButton:n,massGiftCount:i,senderCount:e},"SubMysteryGiftNoticeLine"):(0,N.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,gifterButton:n,massGiftCount:i},"SubMysteryGiftNoticeLine")):(t=r,n=a.channel,i=a.massGiftCount,r=a.senderCount,a=(0,A.K)(a.plan)||1,1===r?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:t,massGiftCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):1<r?(0,N.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:t,massGiftCount:i,senderCount:r,tierNumber:a},"SubMysteryGiftNoticeLine"):(0,N.wv)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,gifterButton:t,massGiftCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"));return d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2},d.createElement(w.W,{asset:E.e.Gift,type:w.w.Alt})),d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,a)))}In.displayName=Mn.displayName="SubMysteryGiftNoticeLine";function Tn(e){var n=e.message,t="experiment"===N.$6.experiments.getAndTrackAssignment("gifting_user_notice_standardization");return"274598607"!==n.user.userID?d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},e.moderationIcons,t?d.createElement(In,{event:n}):d.createElement(Mn,{event:n})):(n={type:C.SJ.AnonSubMysteryGift,id:n.id,channel:n.channel,plan:n.plan,massGiftCount:n.massGiftCount},d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(F,{event:n})))}Tn.displayName="SubMysteryGiftLine";function Pn(e){return d.createElement(u.A,{className:"chat-line__status"},(0,g.f6)(e.message))}Pn.displayName="SubOnlyModeLine";function Rn(i){var e=d.createElement(cn.o,{display:b.sS.Block,key:"chatter-name"},d.createElement("span",null,d.createElement(M.N,{contentID:i.event.user.id,login:i.event.user.username,sourceType:I.TU.chat_message},d.createElement(p.V,{color:b.Il.Link,type:_.yG.Span},(0,D.I)(i.event.user.username,i.event.user.displayName))))),n=i.event.methods.prime?(0,N.wv)("{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>",{userLogin:e,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:"text"},e)},"x:prime-gaming-link":function(e){return n=i.event.channel,t="subscription",d.createElement(Ze,{channel:n,reference:t,text:e});var n,t}},"SubNoticeV2Line"):i.event.methods.plan===Ye.G.Custom?(0,N.wv)("{userLogin} <x:strong>Subscribed</x:strong>",{userLogin:e,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:"text"},e)}},"SubNoticeV2Line"):i.event.multiMonthInfo&&1<i.event.multiMonthInfo.multiMonthDuration&&0===i.event.multiMonthInfo.multiMonthTenure?(0,N.wv)("{multiMonths, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} month in advance.}other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} months in advance.}}",{tierNumber:(0,A.K)(i.event.methods.plan)||1,userLogin:e,multiMonths:null===(n=i.event.multiMonthInfo)||void 0===n?void 0:n.multiMonthDuration,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:e},e)}},"SubNoticeV2Line"):(0,N.wv)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}",{tierNumber:(0,A.K)(i.event.methods.plan)||1,userLogin:e,"x:strong":function(e){return d.createElement(p.V,{bold:!0,type:_.yG.Span,key:"text"},e)}},"SubNoticeV2Line"),e=hn(i.event);return d.createElement(u.A,{display:b.sS.Flex},d.createElement(u.A,{color:b.Il.Alt2},e),d.createElement(u.A,{margin:{left:.5}},d.createElement(p.V,null,n)))}Rn.displayName="SubNoticeV2Line";function An(e){return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(u.A,{display:b.sS.Flex,justifyContent:b.uM.Between},d.createElement(u.A,{alignItems:b.g1.Start},d.createElement(Rn,{event:e.message})),d.createElement(u.A,{alignItems:b.g1.End},e.moderationIcons)))}An.displayName="SubscriptionLine";function Ln(e){return e.isCurrentUserModerator?null:d.createElement(xn,{targetedModerationActionEvent:e.targetedModerationActionEvent})}function Fn(){return d.createElement(u.A,{className:"chat-line__status"},d.createElement(p.V,{type:_.yG.Span},(0,N.wv)("No longer hosting.","ChatLine")))}var Un,xn=(Un=d.Component,(0,a.__extends)(On,Un),On.prototype.render=function(){var e=this.props.targetedModerationActionEvent,n=null;return e.targetedModerationActionType===Ie.ai.DeleteNotification&&(e=e.messageBody||"",n=d.createElement(Me.C,{messageBody:e,targetIsCurrentUser:!0})),n?d.createElement(u.A,{className:"chat-line__status"},d.createElement(p.V,{type:_.yG.Span},n)):null},On);function On(){return null!==Un&&Un.apply(this,arguments)||this}Fn.displayName="UnhostLine";var Bn,Vn=t(12288),qn=(t(638017),Bn=d.Component,(0,a.__extends)(Gn,Bn),Gn.prototype.shouldComponentUpdate=function(e){var n;if(e.isCurrentUserModerator!==this.props.isCurrentUserModerator)return!0;if(e.showModerationIcons!==this.props.showModerationIcons)return!0;if(e.showTimestamps!==this.props.showTimestamps)return!0;if(e.useHighContrastColors!==this.props.useHighContrastColors)return!0;if(e.theme!==this.props.theme)return!0;if(e.repliesAppearancePreference!==this.props.repliesAppearancePreference)return!0;if(e.badgeSets!==this.props.badgeSets)return!0;switch(e.message.type){case C.SJ.Message:if(e.message.deleted||null!==(n=e.message.reply)&&void 0!==n&&n.parentDeleted)return!0;if(e.message.hasReply)return!0;if(e.replyRestrictedReason!==this.props.replyRestrictedReason)return!0;break;case C.SJ.ChannelPointsReward:case C.SJ.Resubscription:case C.SJ.Ritual:if(null!==(n=e.message.message)&&void 0!==n&&n.deleted)return!0;if(null!==(n=e.message.message)&&void 0!==n&&n.hasReply)return!0;if(e.replyRestrictedReason!==this.props.replyRestrictedReason)return!0;break;case C.SJ.AutoMod:if(e.message.autoModType===C.mT.MessageRejectedPrompt&&(e.showAutoModActions!==this.props.showAutoModActions||e.message.rejectedMessage.deleted))return!0;break;case C.SJ.Hosting:case C.SJ.Unhost:case C.SJ.SlowMode:case C.SJ.SubscriberOnlyMode:case C.SJ.FollowerOnlyMode:case C.SJ.EmoteOnlyMode:case C.SJ.R9KMode:case C.SJ.Clear:case C.SJ.Unraid:case C.SJ.Notice:case C.SJ.ModerationAction:if(e.showModerationActions!==this.props.showModerationActions)return!0;break;case C.SJ.Moderation:if(e.showModerationActions!==this.props.showModerationActions||e.deletedMessageDisplay!==this.props.deletedMessageDisplay)return!0}return!1},Gn.prototype.render=function(){var e=this.props,n=e.message,t=null;if(e.isCurrentUserModerator){if(e.showModerationActions)switch(n.type){case C.SJ.Hosting:case C.SJ.Unhost:case C.SJ.SlowMode:case C.SJ.SubscriberOnlyMode:case C.SJ.FollowerOnlyMode:case C.SJ.EmoteOnlyMode:case C.SJ.R9KMode:case C.SJ.Clear:case C.SJ.Unraid:return null}if(e.showModerationIcons&&e.channelID)switch(n.type){case C.SJ.Subscription:case C.SJ.SubGift:case C.SJ.SubMysteryGift:case C.SJ.Resubscription:case C.SJ.GiftPaidUpgrade:case C.SJ.AnonGiftPaidUpgrade:case C.SJ.PrimePaidUpgrade:case C.SJ.CommunityPayForward:case C.SJ.StandardPayForward:t=d.createElement(Vn.O,{canDelete:!0,channelID:e.channelID,renderNewVersion:!0,senderLogin:n.user.username,targetUserID:n.user.userID})}}switch(n.type){case C.SJ.AutoMod:return d.createElement(r.Uf,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showAutoModActions:e.showAutoModActions,showModerationIcons:e.showModerationIcons,theme:e.theme,useHighContrastColors:!!e.useHighContrastColors});case C.SJ.ModerationAction:return d.createElement(we,{currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,moderationActionEvent:n,showModerationActions:e.showModerationActions});case C.SJ.TargetedModerationAction:return d.createElement(Ln,{isCurrentUserModerator:e.isCurrentUserModerator,targetedModerationActionEvent:n});case C.SJ.Connected:return d.createElement(Y,null);case C.SJ.Disconnected:return d.createElement(Q,{message:n});case C.SJ.Hosting:return d.createElement(se,{message:n});case C.SJ.Unhost:return d.createElement(Fn,null);case C.SJ.LiveMessageSeparator:return d.createElement(Ce,null);case C.SJ.Message:return e.onRenderReportChatSent&&n.user.userLogin===e.currentUserLogin&&e.onRenderReportChatSent(),d.createElement(B.wS,{channelID:e.channelID,channelLogin:e.channelLogin,badgeSets:e.badgeSets,message:n,isDeleted:n.deleted,isHidden:n.hidden,reply:n.reply,replyRestrictedReason:this.props.replyRestrictedReason,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isHistorical:n.isHistorical,hasReply:n.hasReply,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,confirmModerationAction:e.confirmModerationAction,theme:e.theme,deletedCount:n.deletedCount,hideBroadcasterTooltip:e.hideBroadcasterTooltip,repliesAppearancePreference:e.repliesAppearancePreference});case C.SJ.FirstCheerMessage:return d.createElement(ne,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case C.SJ.BitsBadgeTierMessage:return d.createElement(O,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case C.SJ.Moderation:return d.createElement(Ee,{deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showModerationActions:e.showModerationActions});case C.SJ.Subscription:return d.createElement(An,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.SubGift:return d.createElement(Dn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.AnonSubGift:return d.createElement(L,{message:n,primaryColorHex:e.primaryColorHex});case C.SJ.SubMysteryGift:return d.createElement(Tn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.AnonSubMysteryGift:return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(F,{event:n}));case C.SJ.CommunityPayForward:case C.SJ.StandardPayForward:return d.createElement(oe,{event:n,moderationIcons:t});case C.SJ.RewardGift:return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:e.primaryColorHex},d.createElement(kn,{event:n}));case C.SJ.BitsCharity:return d.createElement(V,{message:n});case C.SJ.Resubscription:return d.createElement(yn,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case C.SJ.GiftPaidUpgrade:return d.createElement(ae,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.AnonGiftPaidUpgrade:return d.createElement(T,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.PrimeCommunityGiftReceivedEvent:return d.createElement(P.X,{isHighlighted:!0,primaryColorHex:this.props.primaryColorHex},d.createElement(We,{event:n}));case C.SJ.PrimePaidUpgrade:return d.createElement(tn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.ExtendSubscription:return d.createElement(Z,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case C.SJ.RoomMods:return d.createElement(wn,{message:n});case C.SJ.SlowMode:return d.createElement(En,{message:n});case C.SJ.SubscriberOnlyMode:return d.createElement(Pn,{message:n});case C.SJ.FollowerOnlyMode:return d.createElement(te,{message:n});case C.SJ.EmoteOnlyMode:return d.createElement(K,{message:n});case C.SJ.R9KMode:return d.createElement(an,{message:n});case C.SJ.Clear:return d.createElement($,null);case C.SJ.Notice:return d.createElement(qe,{channelLogin:e.channelLogin,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showModerationActions:e.showModerationActions});case C.SJ.Info:return d.createElement(u.A,{className:"chat-line__status"},n.message);case C.SJ.InlinePrivateCallout:return d.createElement(ke,{event:n,channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserID:e.currentUserID,messageIndex:e.messageIndex});case C.SJ.Raid:return d.createElement(on,{message:n,primaryColorHex:e.primaryColorHex});case C.SJ.Unraid:return d.createElement(rn,{primaryColorHex:e.primaryColorHex});case C.SJ.Ritual:return d.createElement(bn,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case C.SJ.ExtensionMessage:return d.createElement(S,{badgeSets:e.badgeSets,channelID:e.channelID,currentUserLogin:e.currentUserLogin,message:n,showTimestamps:e.showTimestamps});case C.SJ.ChannelPointsReward:return d.createElement(j,{event:n},n.message&&d.createElement(B.wS,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,replyRestrictedReason:this.props.replyRestrictedReason,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay,repliesAppearancePreference:e.repliesAppearancePreference}));case C.SJ.CommunityChallengeContribution:return d.createElement(J,{channelLogin:e.channelLogin,event:n});case C.SJ.CelebrationPurchase:return d.createElement(q,{message:n,primaryColorHex:e.primaryColorHex});default:return null}},Gn);function Gn(){return null!==Bn&&Bn.apply(this,arguments)||this}},228562:function(e,n,t){"use strict";t.d(n,{C:function(){return s}});var i,n=t(570655),a=t(667294),r=t(687837),o=t(831642),s=(i=a.Component,(0,n.__extends)(l,i),l.prototype.render=function(){var e=this.props,n=e.moderatorLogin,t=e.targetIsCurrentUser,e=this.props.targetLogin;return t?(0,o.wv)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):n?(0,o.wv)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:n,targetLogin:e,body:this.renderBody()},"MessageDeletedLine"):(0,o.wv)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:e,body:this.renderBody()},"MessageDeletedLine")},l);function l(){var n=null!==i&&i.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.renderBody=function(){return n.state.alwaysShowMessage?n.props.messageBody:a.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},a.createElement(r.s,{linkTo:"",onClick:n.alwaysShowMessage},"<"+(0,o.wv)("click to show","MessageDeletedLine")+">"))},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n}},313881:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(294184),a=t(667294),r=t(731110),o=t(270406),s=t(745323),l=function(e){var n={"user-notice-line":!0,"user-notice-line--highlighted":e.isHighlighted};return a.createElement(r.o,{margin:{y:.5},padding:{right:2,y:.5},background:e.isHighlighted?o.Aq.Alt:void 0},a.createElement("div",{"data-test-selector":"user-notice-line",className:i(n),style:e.isHighlighted&&e.primaryColorHex?{borderLeftColor:(0,s.Vp)(e.primaryColorHex)}:void 0},e.children))};l.displayName="UserNoticeLine"},823503:function(e,n,t){"use strict";t.d(n,{wS:function(){return me}});var r,i=t(570655),m=t(294184),p=t(667294),a=t(137703),o=t(14890),s=t(175424),c=t(687837),h=t(58661),g=t(150125),l=t(359166),f=t(734995),v=t(270406),y=t(246797),d=t(440837),k=t(382448),S=t(831642),C=t(267887),u=t(912654),b=t(469419),w=t(863480),E=t(128416),_=t(283140),N=t(292224),D=t(73119),M=t(184807),I=t(419341),T=t(44683),P=t(613290),R=t(965347),A=t(824942),L=t(731110),F=t(906704),U=t(233912),x=t(190109);(oe=r=r||{}).ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",oe.ChatDeletedMessageAttribution="chat-deleted-message-attribution";var O,B,V="chat-deleted-message-placeholder",q=(B=p.PureComponent,(0,i.__extends)(W,B),W.prototype.render=function(){var e=this.props,n=e.isCurrentUserModerator,t=e.isCurrentUserStaff,i=e.deletedMessageDisplay;if(n||t){var a={chatChannelID:this.props.channelID,chatChannelLogin:this.props.channelLogin,messageAuthorID:this.props.message.user.userID,messageSourceID:this.props.message.id,emoteSourceType:x.Vn.chat,disableChatCard:!0};if(i===E.zCI.DETAILED&&n){e=this.props.message,t=e.modLogin,i=e.modActionType,n=e.duration,e=(0,S.wv)("(Deleted)","ChatLine");return i&&i===F.e0.Ban&&t&&(e=(0,S.wv)("(Banned by {modLogin})",{modLogin:t},"ChatLine")),i&&i===F.e0.Timeout&&(t&&n?e=(0,S.wv)("({duration}s Timeout by {modLogin})",{duration:n,modLogin:t},"ChatLine"):t&&(e=(0,S.wv)("(Timeout by {modLogin})",{modLogin:t},"ChatLine"))),i&&i===F.e0.Delete&&t&&(e=(0,S.wv)("(Deleted by {modLogin})",{modLogin:t},"ChatLine")),p.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":V,"data-test-selector":r.ChatDeletedMessagePlaceholder},p.createElement("span",{className:"chat-line__message--deleted-detailed"},(0,U.kz)(this.props.message.messageParts,a)),p.createElement(L.o,{padding:{left:.5}},p.createElement(h.V,{type:g.yG.Span,"data-test-selector":r.ChatDeletedMessageAttribution},e)))}return this.props.alwaysShowMessage?(0,U.kz)(this.props.message.messageParts,a):p.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":V},p.createElement(c.s,{linkTo:"",onClick:this.props.setAlwaysShowMessage,"data-test-selector":r.ChatDeletedMessagePlaceholder},"<"+(0,S.wv)("message deleted","ChatLine")+">"))}return p.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":V,"data-test-selector":r.ChatDeletedMessagePlaceholder},""+(0,S.wv)("message deleted by a moderator.","ChatLine"))},W),G=t(269731),H=t(353488);function W(){return null!==B&&B.apply(this,arguments)||this}(O=O||{}).IconElement="reply-context-pill-icon";function z(n){var e=(0,S.wv)("Replying to @{displayName}: ",{displayName:n.reply.parentDisplayName},"ReplyContextPill"),t=(0,S.wv)("(message deleted)","ReplyContextPill"),e=p.createElement(h.V,{lines:2,wordBreak:g.I5.BreakWord},n.reply.parentDeleted?e.concat(t):e.concat(n.reply.parentMessageBody));return p.createElement(f.A,{display:v.sS.Inline},p.createElement(G.u,{label:e,options:{placement:"top",modifiers:[{name:"offset",options:{offset:[0,5]}}]}},p.createElement(f.A,{display:v.sS.InlineFlex,alignItems:v.g1.Center,className:"reply-context-pill",borderRadius:y.c.Rounded},p.createElement(f.A,{"data-test-selector":O.IconElement,display:v.sS.Flex,alignItems:v.g1.Center,position:v.Ly.Absolute,className:"reply-context-pill__icon",cursor:n.onIconClick?v.CF.Pointer:v.CF.Auto,onClick:n.onIconClick,onKeyDown:function(e){n.onIconClick&&"Enter"===e.key&&(e.preventDefault(),n.onIconClick())},tabIndex:0},p.createElement(H.JO,{asset:k.e.Comments})),p.createElement(f.A,{className:"reply-context-pill__text"},p.createElement(h.V,{color:v.Il.Alt2,fontWeight:v.U9.SemiBold},n.reply.parentDisplayName)))))}var $,j=t(470216),Y=t(158469);($=$||{}).DeletedMessage="parent-message-deleted";var Q,J,K=(J=p.PureComponent,(0,i.__extends)(de,J),de.prototype.render=function(){switch(this.repliesExperimentValue){case Y.E.TreatmentA:return this.renderTreatmentA();case Y.E.TreatmentB:return this.renderTreatmentB();case Y.E.TreatmentC:return this.renderTreatmentC();default:return null}},de.prototype.renderTreatmentA=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,e=e.message,n="@"+n,e=(0,S.wv)("Replying to {username}: {message}",{username:i?p.createElement(f.A,{as:"span",className:"reply-line--mentioned"},n):n,message:t?this.deletedMessage:e},"ReplyLine");return p.createElement(f.A,{display:v.sS.Flex,color:v.Il.Alt2},p.createElement(j.W,{asset:k.e.Smallcomments,width:17,height:17}),p.createElement(f.A,{padding:{left:.5},overflow:v.nP.Hidden},p.createElement(h.V,{ellipsis:!0,fontSize:v.Bf.Size7},e)))},de.prototype.renderTreatmentB=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,e=e.message,e=(0,S.wv)("{username}: {message}",{username:i?p.createElement(f.A,{as:"span",className:"reply-line--mentioned"},n):n,message:t?this.deletedMessage:e},"ReplyLine");return p.createElement(f.A,null,p.createElement(f.A,{className:"reply-line--treatment-b",display:v.sS.InlineFlex,color:v.Il.Alt2,padding:{x:1},background:v.Aq.Alt},p.createElement(j.W,{asset:k.e.Smallcomments,width:17,height:17}),p.createElement(f.A,{padding:{left:.5},overflow:v.nP.Hidden},p.createElement(h.V,{ellipsis:!0,fontSize:v.Bf.Size7},e))))},de.prototype.renderTreatmentC=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,e=e.message,n="@"+n,e=(0,S.wv)("In reply to {username}: {message}",{username:i?p.createElement(f.A,{as:"span",className:"reply-line--mentioned"},n):n,message:t?this.deletedMessage:e},"ReplyLine");return p.createElement(f.A,{className:"reply-line--highlighted-line",display:v.sS.Flex,color:v.Il.Alt2},p.createElement(f.A,{padding:{left:1},overflow:v.nP.Hidden},p.createElement(h.V,{ellipsis:!0,fontSize:v.Bf.Size7},e)))},de),X=t(667211),Z=t(12288),ee=t(70981),n=t(325820),ne=t(498409),te=t(721482),ie=t(117090),ae=t(100387),re=t(647153),oe=t(454572),se=u.P.wrap(function(){return t.e(90914).then(t.bind(t,482345))},"ChatRepliesMessageCard"),le=u.P.wrap(function(){return t.e(54667).then(t.bind(t,841720))},"ChatRepliesOPCard");function de(){var e=null!==J&&J.apply(this,arguments)||this;return e.repliesExperimentValue=(0,Y.C)(e.props.channelID),e.deletedMessage=p.createElement(h.V,{"data-test-selector":$.DeletedMessage,italic:!0,type:g.yG.Span},(0,S.wv)("message deleted by a moderator.","ReplyLine")),e}(u=Q=Q||{}).ChatLineMessage="chat-line-message",u.ChatLineMessageBody="chat-line-message-body",u.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",u.ChatDeletedMessagePlaceholderBrief="chat-deleted-message-placeholder-brief",u.ChatHiddenMessagePlaceholder="chat-hidden-message-placeholder",u.ChatHiddenUserNameLink="chat-hidden-username-link",u.ChatHiddenUsernamePlaceholder="chat-hidden-username-placeholder",u.ChatDeletedMessageAttribution="chat-deleted-message-attribution",u.ChatMessageHighlight="chat-message-highlight",u.ChatMessageSeparator="chat-message-separator",u.ChatReplyButton="chat-reply-button";var ue,u=(ue=p.Component,(0,i.__extends)(ce,ue),ce.prototype.componentDidMount=function(){this.addEventListeners()},ce.prototype.componentWillUnmount=function(){this.removeEventListeners()},ce.prototype.render=function(){var e=this.props,n=e.className,t=e.currentUserLogin,i=e.deletedCount,a=e.deletedMessageDisplay,r=e.disableReplyClick,o=e.isCurrentUserModerator,s=e.isDeleted,l=e.isHistorical,d=e.message,u=e.reply,c=e.showTimestamps,e=e.tabbable;if(s&&o&&a===E.zCI.BRIEF)return i&&0<i?p.createElement(f.A,{className:"chat-line__status"},p.createElement(h.V,{type:g.yG.Span,"data-a-target":"chat-deleted-message-placeholder","data-test-selector":Q.ChatDeletedMessagePlaceholderBrief},(0,S.wv)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:i},"ChatLine"))):null;i=d.messageType===ne.Ay.Action?" ":": ",l=c||l?(0,U.lU)(d.timestamp):null,r=d.user.userLogin===t&&!u||!u&&s||r;return p.createElement("div",{className:m(n,"chat-line__message"),"data-a-target":"chat-line-message","data-test-selector":Q.ChatLineMessage,tabIndex:!1===e?-1:0},p.createElement(f.A,{position:v.Ly.Relative},this.chatRepliesTreatment!==Y.E.Control&&!r&&p.createElement(f.A,{"data-test-selector":Q.ChatMessageHighlight,borderRadius:y.c.Medium,className:"chat-line__message-highlight",position:v.Ly.Absolute}),p.createElement(f.A,{position:v.Ly.Relative,className:m({"chat-line__message-container":this.chatRepliesTreatment!==Y.E.Control})},this.chatRepliesTreatment===Y.E.TreatmentA&&this.renderReplyLine(),p.createElement(f.A,null,p.createElement(f.A,{display:v.sS.Inline,className:"chat-line__no-background"},l,this.renderModerationIcons(),this.renderMessageAuthor(),p.createElement("span",{key:"separator","aria-hidden":"true","data-test-selector":Q.ChatMessageSeparator},i),this.chatRepliesTreatment===Y.E.TreatmentA&&!this.isReplyToOrFromSelf()&&this.renderReplyContextPill(),this.renderMessageBody()))),this.renderReplyButton(r)))},ce.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},ce);function ce(){var u=null!==ue&&ue.apply(this,arguments)||this;return u.state={alwaysShowMessage:!1},u.chatRepliesTreatment=(0,Y.C)(u.props.channelID),u.useUpdatedMeStyling=(0,w.t)("new_me_command"),u.setTooltipRef=function(e){return u.tooltipRef=e},u.getTooltipLabel=function(){var e=u.props,n=e.reply,t=e.hasReply,e=e.replyRestrictedReason,t=n||t;return!t&&e?(0,U.ZK)(e):t?(0,S.wv)("See thread","ChatLine"):(0,S.wv)("Click to reply","ChatLine")},u.showTooltip=function(){u.tooltipRef&&u.props.tooltipLayer.show({from:u.tooltipRef,direction:s.AR.Top,align:s.Mg.Right,label:u.getTooltipLabel()})},u.hideTooltip=function(){u.props.tooltipLayer.hide()},u.renderReplyLine=function(){var e=u.props,n=e.channelID,t=e.currentUserID,i=e.currentUserLogin,a=e.reply,e=e.repliesAppearancePreference;return!a||e!==ie.xy.Expanded&&!u.isReplyToOrFromSelf()?null:p.createElement(K,{channelID:n,displayName:a.parentDisplayName,message:a.parentMessageBody,isDeleted:!!a.parentDeleted,isReplyToMe:void 0!==i&&void 0!==t&&t===a.parentUid})},u.isReplyToOrFromSelf=function(){var e=u.props,n=e.reply,t=e.message,e=e.currentUserID;if(!n||!e)return!1;t=t.user.userID===e,n=e===n.parentUid;return t||n},u.renderReplyContextPill=function(){var e=u.props,n=e.reply,e=e.repliesAppearancePreference;return n&&e===ie.xy.Minimum?p.createElement(z,{reply:n,onIconClick:u.onIconClick}):null},u.renderModerationIcons=function(){if(!u.props.isCurrentUserModerator||!u.props.showModerationIcons||!u.props.message.user.userID||!u.props.channelID||u.props.isHidden&&!u.state.alwaysShowMessage)return null;var e=!0;return void 0!==u.props.canDelete&&(e=u.props.canDelete),p.createElement(Z.O,{targetUserID:u.props.message.user.userID,canDelete:e,confirmModerationAction:u.props.confirmModerationAction,channelID:u.props.channelID,isMessageDeleted:u.props.message.deleted,isMessageBanned:u.props.message.banned,senderLogin:u.props.message.user.userLogin,messageID:u.props.message.id})},u.renderMessageBody=function(){var e=u.props,n=e.channelID,t=e.channelLogin,i=e.deletedMessageDisplay,a=e.isCurrentUserModerator,r=e.isCurrentUserStaff,o=e.isDeleted,s=e.isHidden,l=e.message,d=e.theme,e=e.useHighContrastColors;if(s&&!u.state.alwaysShowMessage&&a){s=(0,S.wv)("message hidden from blocked user","ChatLine");return p.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":"chat-hidden-message-placeholder"},p.createElement(c.s,{linkTo:"",onClick:u.hiddenMessageClickHandler,"data-test-selector":Q.ChatHiddenMessagePlaceholder},"<"+s+">"))}if(o)return p.createElement(q,{channelID:n,channelLogin:t,isCurrentUserModerator:a,isCurrentUserStaff:r,deletedMessageDisplay:i,message:l,alwaysShowMessage:u.state.alwaysShowMessage,setAlwaysShowMessage:u.alwaysShowMessage});a={chatChannelID:u.props.channelID,chatChannelLogin:u.props.channelLogin,messageAuthorID:u.props.message.user.userID,messageSourceID:u.props.message.id,emoteSourceType:x.Vn.chat,isHighlighted:u.props.isHighlighted},r=(0,U.kz)(u.props.message.messageParts,a);if(u.props.message.bits)return u.handleBitsDecorations(r,u.props.message.bitsImageUrl);i=m({"chat-line__message-body--highlighted":u.props.isHighlighted,"chat-line__message-body--italicized":u.useUpdatedMeStyling&&u.props.message.messageType===ne.Ay.Action}),a={};return u.useUpdatedMeStyling||l.messageType!==ne.Ay.Action||(l=l.user.color,a={color:l=e&&l?"#"+(0,ee.Fp)(l,d):l}),p.createElement("span",{className:i,style:a,"data-test-selector":Q.ChatLineMessageBody},r)},u.handleBitsDecorations=function(e,n){switch((0,M.RJ)(u.props.channelID)){case M.Vq.MessageSize:var t=u.props.message.bits>=D.C.Red?"cheer10000-message-size-adjustment cheering-message-size-gradient":u.props.message.bits>=D.C.Blue?"cheer5000-message-size-adjustment":u.props.message.bits>=D.C.Green?"cheer1000-message-size-adjustment":u.props.message.bits>=D.C.Purple?"cheer100-message-size-adjustment":"cheer1-message-size-adjustment";return p.createElement(h.V,{type:g.yG.Span,className:t},e);case M.Vq.Screenshot:if(n)return p.createElement(p.Fragment,null,e,p.createElement(l.p,{"data-test-selector":"bits-screenshot-image",src:n,alt:""}))}return e},u.renderMessageAuthor=function(){var e=u.props,n=e.badgeSets,t=e.message,i=e.tabbable,a=e.theme,e=e.useHighContrastColors;return u.props.isHidden&&!u.state.alwaysShowMessage&&u.props.isCurrentUserModerator?p.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":"chat-hidden-username-placeholder","data-test-selectors":Q.ChatHiddenUsernamePlaceholder},p.createElement(c.s,{linkTo:"",onClick:u.hiddenMessageClickHandler,"data-test-selector":Q.ChatHiddenUserNameLink},(0,S.wv)("User Hidden","ChatLine"))):p.createElement(f.A,{className:"chat-line__username-container",display:v.sS.InlineBlock},p.createElement(C.Y,{name:"viewer_badge_collection",assignments:{fallback:function(){return p.createElement(_.k,{badgeSets:n,badgesToRender:t.badges,dynamicData:t.badgeDynamicData,hideBroadcasterTooltip:u.props.hideBroadcasterTooltip,tabbable:i,usesSchemaBadges:u.props.usesSchemaBadges,channelID:u.props.channelID})},on:function(){return p.createElement(_.k,{badgeSets:n,badgesToRender:t.badges,dynamicData:t.badgeDynamicData,hideBroadcasterTooltip:u.props.hideBroadcasterTooltip,tabbable:i,usesSchemaBadges:u.props.usesSchemaBadges,overrideBadgeClickHandler:u.openBadgeDetails,channelID:u.props.channelID})}}}),p.createElement("span",{className:"chat-line__username",onClick:u.openViewerCard,onKeyDown:u.openViewerCard,role:"button",tabIndex:!1===i?-1:0},p.createElement(X.Uk,{userData:t.user,highContrastUsernameColor:e,theme:a})))},u.renderReplyButton=function(e){var n=u.props,t=n.reply,i=n.hasReply,n=n.replyRestrictedReason;if(u.chatRepliesTreatment===Y.E.Control||e)return null;i=t||i;return p.createElement(f.A,{background:v.Aq.Base,borderRadius:y.c.Medium,className:"chat-line__reply-icon",elevation:1,position:v.Ly.Absolute,ref:u.setTooltipRef},p.createElement(d.Ei,{"aria-label":u.getTooltipLabel(),icon:i?k.e.Conversations:k.e.Reply,"data-test-selector":Q.ChatReplyButton,onClick:u.onMessageClick,disabled:!i&&!!n}))},u.onMessageClick=function(){var e=u.props,n=e.channelID,t=e.message,i=e.hasReply,e=e.reply;if(u.props.hideViewerCard(),e)return u.setOPCardTray(e),void(n&&(0,re.UY)({threadID:e.parentMsgId,channelID:n,uiContext:re.Xw.ThreadIcon}));if(i){i=(0,ae.j)(t);return u.setOPCardTray(i),void(n&&(0,re.UY)({threadID:i.parentMsgId,channelID:n,uiContext:re.Xw.ThreadIcon}))}u.chatRepliesTreatment!==Y.E.Control&&(u.setMessageTray(),n&&(0,re.fi)({messageID:t.id,channelID:n}))},u.onIconClick=function(){var e=u.props,n=e.channelID,e=e.reply;u.props.hideViewerCard(),e&&(u.setOPCardTray(e),n&&(0,re.UY)({threadID:e.parentMsgId,channelID:n,uiContext:re.Xw.ContextPill}))},u.setMessageTray=function(){var e=u.props,n=e.message;(0,e.setTray)({header:p.createElement(T.F,{icon:p.createElement(A.j,{asset:k.e.Reply})},(0,U.GK)(n.user.userDisplayName)),body:p.createElement(se,(0,i.__assign)({},u.props)),inputValue:"",sendButtonOverride:te.nS.Reply,disableBits:!0,disableChat:n.deleted,sendMessageHandler:{type:te.DB.Reply,additionalMetadata:{reply:{parentDeleted:n.deleted,parentMsgId:n.id,parentMessageBody:n.messageBody,parentUid:n.user.userID,parentUserLogin:n.user.userLogin,parentDisplayName:n.user.userDisplayName}}},type:te.v4.Reply})},u.setOPCardTray=function(e){u.props.setTray({header:p.createElement(T.F,{icon:p.createElement(A.j,{asset:k.e.Conversations})},(0,U.P)()),body:p.createElement(le,{channelID:u.props.channelID,channelLogin:u.props.channelLogin,showModerationIcons:u.props.showModerationIcons,showTimestamps:u.props.showTimestamps,useHighContrastColors:u.props.useHighContrastColors,deletedMessageDisplay:u.props.deletedMessageDisplay,isCurrentUserModerator:u.props.isCurrentUserModerator,isCurrentUserStaff:u.props.isCurrentUserStaff,currentUserID:u.props.currentUserID,currentUserDisplayName:u.props.currentUserDisplayName,currentUserLogin:u.props.currentUserLogin,confirmModerationAction:u.props.confirmModerationAction,theme:u.props.theme,reply:e,hideBroadcasterTooltip:u.props.hideBroadcasterTooltip,highlightMessageID:u.props.message.user.userID!==u.props.currentUserID?u.props.message.id:void 0}),inputValue:"",disableCommands:!0,sendButtonOverride:te.nS.Reply,disableBits:!0,onClose:function(){return u.trackChatRepliesThreadClose(e)},disableChat:e.parentDeleted,sendMessageHandler:{type:te.DB.Reply,additionalMetadata:{reply:{parentDeleted:e.parentDeleted,parentMsgId:e.parentMsgId,parentMessageBody:e.parentMessageBody,parentUid:e.parentUid,parentUserLogin:e.parentUserLogin,parentDisplayName:e.parentDisplayName}}},type:te.v4.Reply})},u.trackChatRepliesThreadClose=function(e){var n=u.props.channelID;n&&(0,re.LR)({messageID:e.parentMsgId,channelID:n})},u.alwaysShowMessage=function(e){e&&e.preventDefault(),u.setState({alwaysShowMessage:!0})},u.hiddenMessageClickHandler=function(e){u.alwaysShowMessage(e),u.props.message.user.userID&&u.props.onHiddenMessageClick(u.props.message.user.userID)},u.openViewerCard=function(e){u.isKeyboardEvent(e)&&e.keyCode!==b.m.Space&&e.keyCode!==b.m.Enter||u.props.onUsernameClick(u.props.message.user.userLogin,x.TU.chat_message,u.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},u.addEventListeners=function(){u.tooltipRef&&(u.tooltipRef.addEventListener("mouseenter",u.showTooltip),u.tooltipRef.addEventListener("mouseleave",u.hideTooltip))},u.removeEventListeners=function(){u.tooltipRef&&(u.tooltipRef.removeEventListener("mouseenter",u.showTooltip),u.tooltipRef.removeEventListener("mouseleave",u.hideTooltip))},u.openBadgeDetails=function(e,n){u.props.onUsernameClick(u.props.message.user.userLogin,x.TU.chat_message,u.props.message.id,n.currentTarget.getBoundingClientRect().bottom),u.props.setViewerCardPage({type:x.cY.BadgeCarouselPage,selectedBadge:(0,N.t)(e)})},u}var me=(0,o.qC)((0,a.$j)(void 0,function(e){return(0,o.DE)({onHiddenMessageClick:I.qR},e)}),(0,oe.y)(),(0,P.WA)(function(n){return{setTray:function(e){return n((0,R.aT)(e))}}}),(0,n.Hu)(function(e){return{onUsernameClick:e.onShowViewerCard,hideViewerCard:e.hideViewerCard,setViewerCardPage:e.setViewerCardPage}}))(u)},667211:function(e,n,t){"use strict";t.d(n,{Uk:function(){return i}});var a=t(294184),r=t(667294),o=t(70981),i=function(e){var n=e.userData.color;e.highContrastUsernameColor&&n&&(n="#"+(0,o.Fp)(n,e.theme));var t,i=[r.createElement("span",{key:"username-display",className:"chat-author__display-name","data-a-target":"chat-message-username","data-a-user":e.userData.userLogin,"data-test-selector":"message-username",style:{color:n}},e.userData.userDisplayName)];return e.userData.isIntl&&(t=a(((t={})["chat-author__intl-login"]=!e.highlighted,t["chat-author__intl-login--highlighted"]=e.highlighted,t)),i.push(r.createElement("span",{key:"username-login",style:{color:n},className:t,"data-test-selector":"message-username-canonical"}," ("+e.userData.userLogin+")"))),r.createElement("span",{key:e.userData.userID+"-authorlabel"},i)}},573768:function(e,n,t){"use strict";t.d(n,{N:function(){return u}});var i,n=t(570655),a=t(667294),r=t(58661),o=t(270406),s=t(150125),l=t(469419),t=t(325820),n=(i=a.Component,(0,n.__extends)(d,i),d.prototype.render=function(){return a.createElement("span",{className:"chatter-name",onClick:this.openViewerCard,onKeyDown:this.openViewerCard,role:"button",tabIndex:0},a.createElement(r.V,{bold:!0,color:o.Il.Base,type:s.yG.Span},this.props.children))},d.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},d);function d(){var n=null!==i&&i.apply(this,arguments)||this;return n.openViewerCard=function(e){n.isKeyboardEvent(e)&&e.keyCode!==l.m.Space&&e.keyCode!==l.m.Enter||n.props.onUsernameClick(n.props.login,n.props.sourceType,n.props.contentID,e.currentTarget.getBoundingClientRect().bottom)},n}var u=(0,t.Hu)(function(e){return{onUsernameClick:e.onShowViewerCard}})(n)},522733:function(e,n,t){"use strict";t.d(n,{v:function(){return v}});var i,a=t(137703),r=t(14890),o=t(797425),s=t(457087),l=t(719689),d=t(325820),n=t(570655),u=t(667294),c=t(539073),m=t(646628),p=t(337108),h=t(190109),g=t(274178),n=(i=u.Component,(0,n.__extends)(f,i),f.prototype.render=function(){var e,n,t=this,i=this.props.emote.alt||"",a=this.props.emote.images;this.props.emote.cheerAmount&&(n=(n=(e=(e=this.props.bitsConfig&&this.props.bitsConfig.indexedActions[i.toLowerCase()])||(0,m.cQ)("Cheer")).orderedTiers.find(function(e){return e.bits<=t.props.emote.cheerAmount}))||e.orderedTiers[0],a=(0,c.q6)(e,n.bits,void 0,this.props.isEmoteAnimationsEnabled),i+=" "+this.props.emote.cheerAmount.toString(),n=u.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)),!this.props.emote.cheerAmount&&this.props.emote.emoteID&&(a=(0,g.u4)(this.props.emote.emoteID,this.props.isEmoteAnimationsEnabled));a=u.createElement(p.T,{alt:i,cheerText:n,className:"chat-line__message--emote",srcKey:"1x",srcSet:a});return this.props.emote.cheerAmount||this.props.disableCard?a:u.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},a)},f);function f(){var n=null!==i&&i.apply(this,arguments)||this;return n.emoteClickHandler=function(e){n.props.emote.emoteID&&n.props.onEmoteClick({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin||"",emoteID:n.props.emote.emoteID,emoteCode:n.props.emote.alt||"",sourceID:n.props.sourceID||"",emoteSourceType:n.props.sourceType||h.Vn.unknown,referrerID:n.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},n}var v=(0,r.qC)((0,a.$j)(function(e){return{user:(0,o.PR)(e)}}),(0,d.Hu)(function(e){return{onEmoteClick:e.onShowEmoteCard}}),(0,l.Im)(function(e){return{isEmoteAnimationsEnabled:e.value}}),(0,s.gc)(function(e){return{bitsConfig:e.bitsConfig}}))(n);v.displayName="Emote"},612172:function(e,n,t){"use strict";t.d(n,{GG:function(){return i}});var c=t(667294),m=t(382448),p=t(270406),h=t(175424),g=t(734995),f=t(470216),v=t(831642),i=function(e){var n=e.onBanUser,t=m.e.Ban,i=(0,v.wv)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),a="chat-ban-button",r=null,o=e.renderNewVersion?p.sS.Flex:p.sS.Inline,s=e.renderNewVersion?h.Mg.Center:h.Mg.Left,l=e.renderNewVersion?h.AR.Bottom:h.AR.Top,d=e.renderNewVersion?p.Il.Link:p.Il.Alt2,u=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(n=e.onUnbanUser,t=m.e.FollowCheck,i=(0,v.wv)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),a="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(r=c.createElement(g.A,{display:p.sS.InlineFlex,margin:u,verticalAlign:p.g$.Bottom},c.createElement(h.ns,{align:s,direction:l,label:(0,v.wv)("Delete message","ModerationIcons")},c.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},c.createElement(f.W,{width:16,height:16,type:f.w.Inherit,asset:m.e.Trash}))))),c.createElement(g.A,{color:d,display:o,margin:{right:.5}},c.createElement(g.A,{display:p.sS.InlineFlex,margin:u,verticalAlign:p.g$.Bottom},c.createElement(h.ns,{align:s,direction:l,label:i},c.createElement("button",{className:"mod-icon",onClick:n,"data-test-selector":a},c.createElement(f.W,{width:16,height:16,type:f.w.Inherit,asset:t})))),c.createElement(g.A,{display:p.sS.InlineFlex,margin:u,verticalAlign:p.g$.Bottom},c.createElement(h.ns,{align:s,direction:l,label:(0,v.wv)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},c.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},c.createElement(f.W,{width:16,height:16,type:f.w.Inherit,asset:m.e.Timeout})))),r)}},12288:function(e,n,t){"use strict";t.d(n,{O:function(){return w}});var r=t(570655),i=t(667294),a=t(137703),o=t(14890),s=t(831642),l=t(615726),d=t(344689),u=t(128416),c=t(797425),m=t(869487),p=t(663823),h=t(987145),g=t(77966),f=t(506017),v=t(755324);function y(e){var n=this;return function(a){return i.createElement(e,(0,r.__assign)({},a,{deleteChatMessageMutation:function(i){return(0,r.__awaiter)(n,void 0,void 0,function(){var n,t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:if(!a.deleteChatMessage)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,a.deleteChatMessage(i)];case 2:return n=e.sent(),null!==(t=null===(t=null===(t=n.data)||void 0===t?void 0:t.deleteChatMessage)||void 0===t?void 0:t.message)&&void 0!==t&&t.sender?((0,f.j)({actionType:p.Dy.DeleteMessage,channelID:i.variables.input.channelID,targetUserID:n.data.deleteChatMessage.message.sender.id,source:p.Ou.QuickModButtons,page:a.page}),[2,{data:n.data}]):[3,4];case 3:throw e.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}})})}}))}}var k=t(331902);var S,n=t(290568),C=t(612172),t=(S=i.Component,(0,r.__extends)(b,S),b.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:i.createElement(C.GG,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:this.props.canDelete,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},b);function b(){var n=null!==S&&S.apply(this,arguments)||this;return n.banUser=function(){return n.props.banUser()},n.timeoutUser=function(){return n.props.timeoutUser()},n.unbanUser=function(){return n.props.unbanUser()},n.deleteMessage=function(){return(0,r.__awaiter)(n,void 0,void 0,function(){var n,t,i;return(0,r.__generator)(this,function(e){switch(e.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(n=(0,s.wv)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(n),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),t={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation((0,d.k_)(t))];case 2:return(i=e.sent().data)?((t=i.deleteChatMessage)&&t.responseCode!==u.pPh.SUCCESS&&(i=t.message&&t.message.sender&&t.message.sender.displayName||this.props.senderLogin,i=function(e,n){switch(e){case u.pPh.FORBIDDEN:return(0,s.wv)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case u.pPh.TARGET_IS_BROADCASTER:return(0,s.wv)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case u.pPh.TARGET_IS_MODERATOR:return(0,s.wv)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:n},"DeleteChatMessageErrorCode");case u.pPh.SUCCESS_STAFF:return(0,s.wv)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:n},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(t.responseCode,i),this.surfaceError(i)),[3,4]):(this.surfaceError(n),[2]);case 3:return e.sent(),this.surfaceError(n),[3,4];case 4:return[2]}})})},n.surfaceError=function(e){n.props.surfaceError&&n.props.surfaceError(e)},n}var w=(0,o.qC)(k.Qt,(0,l.Q)(function(n){return(0,r.__assign)((0,r.__assign)({},n),{targetID:n.targetUserID,targetLogin:n.senderLogin,source:p.Ou.QuickModButtons,surfaceError:function(e){n.messageHandlerAPI&&n.messageHandlerAPI.handleMessage((0,m.W)(e))}})}),n.Aq,function(e){return(0,o.qC)((0,g.R2)(g.qT),(0,h.TA)(v,{name:"deleteChatMessage"}),y)(e)},(0,a.$j)(function(e){return{sessionUser:(0,c.PR)(e)}}))(t)},599901:function(e,n,t){"use strict";t.d(n,{RA:function(){return i}});var a=t(294184),r=t(667294),o=t(289738),s="text-fragment",i=function(e){var n=e.content,t=e.highlightType,i=e.disableTextSelection,e=a(s,((e={})[s+"--moderated-highlight"]=t===o.S.ModeratedText,e[s+"--selection-disabled"]=i,e));return r.createElement("span",{className:e,"data-a-target":"chat-message-text"},n)}},233912:function(e,n,t){"use strict";t.d(n,{ZK:function(){return Me},GK:function(){return Ne},i$:function(){return we},P:function(){return De},c3:function(){return fe},fY:function(){return Se},qV:function(){return ke},kz:function(){return he},mf:function(){return ge},yc:function(){return be},WR:function(){return ye},RF:function(){return ve},f6:function(){return Ce},lU:function(){return Ee},QA:function(){return _e}});var i,a,r,u=t(667294),o=t(687837),s=t(831642),c=t(854714),l=t(487163),d=t(128416),m=t(127649),p=t(570655),h=t(987145),g=t(302285),f=t(58661),v=t(270406),y=t(734995),k=t(246797),S=t(928185),C=t(146085),b=t(952743),w=t(994403),E=t(363349),_=(r=u.Component,(0,p.__extends)(U,r),U.prototype.render=function(){var e=s.vc.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),u.createElement(w.x,{aspect:E.oM.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},U),N=(a=u.Component,(0,p.__extends)(F,a),F.prototype.render=function(){var e,n;return n=this.props.error?this.renderErrorCard():this.props.data?(e=(0,C.Q3)(this.props.data.contentURL,{tt_medium:b.bn.Chat,tt_content:b.d8.ChatCard}),n=u.createElement(_,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL}),u.createElement(y.A,{background:v.Aq.Base,borderRadius:k.c.Medium,display:v.sS.Flex,fullWidth:!0},u.createElement(S.RM,{linkTo:e,targetBlank:!0,type:S.x8.Alpha,borderRadius:k.c.Medium},this.renderCardContent(n,{title:this.props.data.title,description:this.props.data.description})))):this.renderCardContent(),u.createElement(y.A,{borderRadius:k.c.Medium,elevation:1},n)},F),D=t(349039),M={isTimedOut:!1},n=(i=u.Component,(0,p.__extends)(L,i),L.getDerivedStateFromProps=function(e,n){return e.data.clip&&n.isTimedOut?{isTimedOut:!1}:null},L.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout(function(){e.setState({isTimedOut:!0})},5e3))},L.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},L.prototype.render=function(){var e=this.props.data,n=e.clip,t=e.error,e=e.loading;return t||this.state.isTimedOut?u.createElement(N,{error:{title:(0,s.wv)("Something went wrong","ClipsChatCard"),description:(0,s.wv)("We couldn't find that Clip","ClipsChatCard")}}):e||!n?u.createElement(N,null):u.createElement(N,{data:{title:n.title||(n.broadcaster&&n.broadcaster.displayName?(0,s.wv)("Clip of {broadcaster}",{broadcaster:n.broadcaster.displayName},"ClipsChatCard"):""),description:n.curator&&n.curator.displayName?(0,s.wv)("Clipped by {curator}",{curator:n.curator.displayName},"ClipsChatCard"):"",previewImageURL:n.thumbnailURL,contentURL:n.url}})},L),I=(0,h.TA)(D,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(n),T=t(294184),P=t(137147),R=((D={})[P.K.Default]="",D[P.K.Recipient]="mention-fragment--recipient",D[P.K.Sender]="mention-fragment--sender",D),A=function(e){var n=e.isAtMention?"@":"",t=T("mention-fragment",R[e.currentUserMentionRelation]);return u.createElement("span",{className:t,"data-a-target":"chat-message-mention"},n+e.recipient)};function L(){var e=null!==i&&i.apply(this,arguments)||this;return e.state=M,e.timeoutID=null,e}function F(){var n=null!==a&&a.apply(this,arguments)||this;return n.renderErrorCard=function(){var e=u.createElement("img",{"data-test-selector":"chat-card-error",src:"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0",className:"chat-card__error-img",alt:""});return n.renderCardContent(e,n.props.error)},n.renderCardContent=function(e,n){var t,n=n?(t=u.createElement(f.V,{bold:!0,"data-test-selector":"chat-card-title",title:n.title},n.title),u.createElement(f.V,{color:v.Il.Alt2,"data-test-selector":"chat-card-description"},n.description)):(e=u.createElement(g.Vm,{overlay:!0}),t=u.createElement(g.Vm,{width:180}),u.createElement(g.Vm,{width:120}));return u.createElement(y.A,{display:v.sS.Flex,flexWrap:v.gP.NoWrap,padding:.5,className:"chat-card"},u.createElement(y.A,{className:"chat-card__preview-img",background:v.Aq.Alt2,display:v.sS.Flex,alignItems:v.g1.Center,justifyContent:v.uM.Center,flexShrink:0},e),u.createElement(y.A,{display:v.sS.Flex,alignItems:v.g1.Center,overflow:v.nP.Hidden},u.createElement(y.A,{padding:{left:1},fullWidth:!0},u.createElement(y.A,{className:"chat-card__title",ellipsis:!0},t),u.createElement(y.A,{ellipsis:!0},n))))},n}function U(){var e=null!==r&&r.apply(this,arguments)||this;return e.state={hasImageLoadingError:!1},e.handleImageError=function(){e.setState({hasImageLoadingError:!0})},e}A.displayName="MentionFragment";var x,O,B=t(606382),n=t(5779),D=(O=u.Component,(0,p.__extends)(ie,O),ie.prototype.render=function(){var e=this.props.data,n=e.video,t=e.error;if(e.loading||!n)return u.createElement(N,null);if(t||!n.owner||!n.owner.login||!n.publishedAt||!n.title)return u.createElement(N,{error:{title:(0,s.wv)("Something went wrong","VideoChatCard"),description:(0,s.wv)("We couldn't find that video","VideoChatCard")}});t=u.createElement(f.V,null,(0,s.p6)(new Date(n.publishedAt),"medium"),u.createElement("span",null,"  "),(0,B.I)(n.owner.login,n.owner.displayName));return u.createElement(N,{data:{title:n.title,description:t,previewImageURL:n.previewThumbnailURL,contentURL:this.props.url}})},ie),V=(0,h.TA)(n,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(D),q=t(498409),G=t(289738),H=t(228562),W=t(522733),z=t(440281),$=t(731110),j=t(322411),Y=t(260999),Q=t(175850),h=t(14890),J=t(38339),K=t(150125),X=t(796441),Z=t(166825),ee=t(166977),ne=t(742407),n=t(925445),te=t(877465);function ie(){return null!==O&&O.apply(this,arguments)||this}(D=x=x||{}).CancelButton="flagged-fragment-cancel",D.ConfirmButton="flagged-fragment-confirm",D.FeedbackButton="flagged-fragment-feedback",D.FeedbackNo="flagged-fragment-no",D.FeedbackYes="flagged-fragment-yes",D.SettingsLink="flagged-fragment-settings",D.Title="flagged-fragment-title";var ae,D=(ae=u.Component,(0,p.__extends)(re,ae),re.prototype.render=function(){var n=this,e=(0,s.wv)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?u.createElement(y.A,{padding:1},u.createElement(Z.cw,{label:(0,s.wv)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},u.createElement(ee.Y,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":x.FeedbackYes}),u.createElement(ee.Y,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":x.FeedbackNo})),u.createElement(y.A,{display:v.sS.Flex,justifyContent:v.uM.End},u.createElement(y.A,{margin:{right:1}},u.createElement(X.zx,{onClick:this.props.onDismissBalloon,type:X.L$.Secondary,"data-test-selector":x.CancelButton},e)),u.createElement(X.zx,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":x.FeedbackButton},(0,s.wv)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(s.UO.track(ne.N.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),u.createElement(y.A,{padding:1},u.createElement(f.V,{bold:!0,type:K.yG.H6,"data-test-selector":x.Title},this.getCategoryTitle()),(0,s.wv)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(e){return u.createElement(o.s,{onClick:n.showSettings,"data-test-selector":x.SettingsLink},e)}},"FlaggedFragmentBalloonContent"),u.createElement(y.A,{display:v.sS.Flex,justifyContent:v.uM.End},u.createElement(y.A,{margin:{right:1}},u.createElement(X.zx,{onClick:this.props.onDismissBalloon,type:X.L$.Secondary,"data-test-selector":x.CancelButton},e)),u.createElement(X.zx,{onClick:this.showText,"data-test-selector":x.ConfirmButton},(0,s.wv)("Show Message","FlaggedFragmentBalloonContent")))))},re.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter(function(e){return!!e}).length?(0,s.wv)("Message Blocked","FlaggedFragmentBalloonContent"):e[J.b.Aggressive]?(0,s.wv)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[J.b.Identity]?(0,s.wv)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[J.b.Sexual]?(0,s.wv)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):(0,s.wv)("Profanity Blocked","FlaggedFragmentBalloonContent")},re.prototype.getAffirmativeText=function(){return(0,s.wv)("Yes","FlaggedFragmentBalloonContent")},re.prototype.getNegativeText=function(){return(0,s.wv)("No","FlaggedFragmentBalloonContent")},re.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[J.b.Aggressive],explicit_language_detected:!!e.categories[J.b.Sexual],identity_language_detected:!!e.categories[J.b.Identity],profane_language_detected:!!e.categories[J.b.Profanity]}},re);function re(){var e=null!==ae&&ae.apply(this,arguments)||this;return e.state={feedbackSelection:null,textShown:!1},e.hasTrackedImpression=!1,e.showSettings=function(){e.props.showChatFilterSettings(te.P6.FilteredMessage),e.props.updateChatConfigState({isSettingsOpen:!0}),e.props.onDismissBalloon()},e.showText=function(){e.props.onShowText(),e.setState({textShown:!0}),s.UO.track(ne.N.ChatFilterMessageInteraction,e.getCommonTrackingProps())},e.onAffirmativeFeedbackSelected=function(){e.setState({feedbackSelection:!0})},e.onNegativeFeedbackSelected=function(){e.setState({feedbackSelection:!1})},e.onSubmit=function(){e.props.onDismissBalloon(),s.UO.track(ne.N.ChatFilterFeedbackInteraction,(0,p.__assign)((0,p.__assign)({},e.getCommonTrackingProps()),{value:e.state.feedbackSelection?e.getAffirmativeText():e.getNegativeText()}))},e}var oe,se=(0,h.qC)((0,te.NX)(function(e){return e}),(0,n.Aq)(function(n){return{updateChatConfigState:function(e){return n.updateChatConfigState(e)},isSettingsOpen:n.isSettingsOpen}}))(D),le=t(599901);(t=oe=oe||{}).Balloon="flagged-fragment-balloon",t.Container="flagged-fragment-container",t.Target="flagged-fragment-span";var de,ue=(de=u.Component,(0,p.__extends)(me,de),me.prototype.render=function(){return this.state.active?u.createElement("span",{ref:this.setTopRef,"data-test-selector":oe.Container},u.createElement($.o,{display:v.sS.Inline,position:v.Ly.Relative},u.createElement(Q.c,{onClickOut:this.onClickOut},this.renderContent(),u.createElement(j.b,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:Y.Kn.Medium},u.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":oe.Balloon}),u.createElement(se,(0,p.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):u.createElement("span",{ref:this.setTopRef,"data-test-selector":oe.Container},this.renderContent())},me.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?u.createElement("span",{className:T(e),"data-test-selector":oe.Target},he(this.props.messagePart.content)):u.createElement("span",{className:T(e),onClick:this.onClick,"data-test-selector":oe.Target},u.createElement(le.RA,{content:this.placeholder}))},me.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),n=this.balloonContentRef.getBoundingClientRect(),t=this.state.balloonDirection;n.top<e.top&&(t=z.O.BottomCenter);e=e.left+20,n=n.left;return{balloonDirection:t,balloonXOffset:this.state.balloonXOffset-(n-e)}}return{balloonDirection:z.O.TopCenter,balloonXOffset:0}},me),ce=function(e){var n=e.displayText,t=e.url,e=e.highlighted;return u.createElement(o.s,{className:T("link-fragment",{"link-fragment--highlighted":e}),linkTo:t,targetBlank:!0,rel:"noreferrer noopener"},n)};function me(e){var n=de.call(this,e)||this;return n.state={active:!1,balloonDirection:z.O.TopCenter,balloonXOffset:0,displayed:!1},n.setTopRef=function(e){n.topRef=e},n.setBalloonContentRef=function(e){n.balloonContentRef=e,n.state.active&&n.setState((0,p.__assign)({},n.getBalloonState()))},n.onClickOut=function(){n.setState({active:!1})},n.onClick=function(){n.setState({active:!0})},n.onShowText=function(){n.setState({displayed:!0},function(){n.setState((0,p.__assign)({},n.getBalloonState()))})},n.onDismissBalloon=function(){n.setState({active:!1})},isNaN(e.messagePart.length)||(n.placeholder=new Array(e.messagePart.length+1).join("*")),n}function pe(e,n,t,i){void 0===t&&(t=!1);var a=n.content,n=a.displayText,a=a.url;return(i=void 0===i?!1:i)?u.createElement(le.RA,{key:"message-span-"+e,content:n}):u.createElement(ce,{key:e+"-link",highlighted:t,displayText:n,url:a})}function he(o,s,l){void 0===s&&(s={}),void 0===l&&(l=!1);var d=null,e=o.reduce(function(e,n,t){var i=[];switch(0<t&&o[t-1].type!==G.S.Text&&n.type!==G.S.Text&&i.push(" "),n.type){case G.S.Text:case G.S.ModeratedText:var a=n.content,r=n.type;i.push(u.createElement(le.RA,{key:t,content:a,highlightType:r,disableTextSelection:s.disableTextSelection}));break;case G.S.FlaggedSegment:i.push(u.createElement(ue,{key:t,channelID:s.chatChannelID,channelLogin:s.chatChannelLogin,messageID:s.messageSourceID,messagePart:n}));break;case G.S.CurrentUserHighlight:i.push(u.createElement(A,{isAtMention:!1,currentUserMentionRelation:P.K.Recipient,recipient:n.content,key:t}));break;case G.S.Mention:i.push(u.createElement(A,{isAtMention:!0,currentUserMentionRelation:n.content.currentUserMentionRelation,recipient:n.content.recipient,key:t}));break;case G.S.Emote:i.push(u.createElement(W.v,{key:t,emote:n.content,channelID:s.chatChannelID,channelLogin:s.chatChannelLogin,sourceID:s.messageSourceID,sourceType:s.emoteSourceType,referrerID:s.messageAuthorID,disableCard:l}));break;case G.S.Link:i.push(pe(t,n,s.isHighlighted,s.disableLinks));break;case G.S.ClipLink:d||s.disableChatCard||(d=u.createElement(c.S,{key:t+"-ErrorBoundary"},u.createElement(I,{slug:n.content.slug,forceNetworkRequest:s.forceClipsNetworkRequest}))),i.push(pe(t,n,s.isHighlighted,s.disableLinks));break;case G.S.VideoLink:d||s.disableChatCard||(d=u.createElement(V,{key:t,id:n.content.id,url:n.content.url})),i.push(pe(t,n,s.isHighlighted,s.disableLinks))}return e.concat(i)},[]);return e=d?e.concat(d):e}function ge(e){if(e.moderationType===q.Aw.Delete){var n=e.userLogin,t=e.body;return u.createElement(H.C,{targetLogin:n,messageBody:t})}if(e.moderationType===q.Aw.Ban)return e.reason?u.createElement("span",{className:"chat-line__moderation--ban-with-reason"},(0,s.wv)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):u.createElement("span",{className:"chat-line__moderation--ban"},(0,s.wv)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){t=(0,s.wv)("{duration, plural, one {{userLogin} has been timed out for # second. Reason: {reason}} other {{userLogin} has been timed out for # seconds. Reason: {reason}}}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return u.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},t)}return e.duration?u.createElement("span",{className:"chat-line__moderation--timeout"},(0,s.wv)("{duration, plural, one {{userLogin} has been timed out for # second.} other {{userLogin} has been timed out for # seconds.}}",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function fe(e){var n=e.daysLeft;0===n&&(n=e.hoursLeft);n={bitsTotal:u.createElement("strong",null,(0,s.uf)(e.total,{style:"currency",currency:"USD"})),charityName:u.createElement("strong",null,e.charityName),learnMoreURL:u.createElement(o.s,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:u.createElement("strong",null,e.hashtag),timeRemaining:(0,s.uf)(n)};return u.createElement("span",null,0===e.daysLeft?(0,s.wv)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:n.bitsTotal,charityName:n.charityName,timeRemaining:n.timeRemaining,hashtag:n.hashtag,learnMoreURL:n.learnMoreURL},"ChatLine"):(0,s.wv)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:n.bitsTotal,charityName:n.charityName,timeRemaining:n.timeRemaining,hashtag:n.hashtag,learnMoreURL:n.learnMoreURL},"ChatLine"))}function ve(e){e=e.enabled?(0,s.wv)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):(0,s.wv)("This room is no longer in slow mode.","ChatLine");return u.createElement("span",null,e)}function ye(e){var n;return n=0<e.length?(n=e.join(", "),(0,s.wv)("The moderators of this channel are: {moderatorList}",{moderatorList:n},"ChatLine")):(0,s.wv)("There are no moderators of this channel.","ChatLine"),u.createElement("span",null,n)}function ke(e){if(e.enabled){e=0===e.length?(0,s.wv)("This room is in followers-only mode.","ChatLine"):(0,s.wv)("This room is now in {length} followers-only mode.",{length:(0,l.LU)(60*e.length)},"ChatLine");return u.createElement("span",null,e)}return u.createElement("span",null,(0,s.wv)("This room is no longer in followers-only mode.","ChatLine"))}function Se(e){return e.enabled?u.createElement("span",null,(0,s.wv)("This room is now in emote-only mode.","ChatLine")):u.createElement("span",null,(0,s.wv)("This room is no longer in emote-only mode.","ChatLine"))}function Ce(e){e=e.enabled?(0,s.wv)("This room is now in subscriber-only mode.","ChatLine"):(0,s.wv)("This room is no longer in subscriber-only mode.","ChatLine");return u.createElement("span",null,e)}function be(e){return e.enabled?u.createElement("span",null,(0,s.wv)("This room is now in unique-chat mode.","ChatLine")):u.createElement("span",null,(0,s.wv)("This room is no longer in unique-chat mode.","ChatLine"))}function we(e,n){var t=(n=void 0===n?!1:n)?e.getHours():e.getHours()%12,i=(t=!n&&0===t?12:t).toString(),a=e.getMinutes(),e=a.toString();return(i=n&&t<10?"0"+i:i)+":"+(e=a<10?"0"+e:e)}function Ee(e,n){return void 0===n&&(n=!1),u.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},we(new Date(e),n))}function _e(e){return u.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,n){void 0===n&&(n={});var t=s.$6.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(t,n).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}function Ne(e){return(0,s.wv)("Replying to @{username}:",{username:e},"ChatLine")}function De(){return(0,s.wv)("Thread","ChatLine")}function Me(e){var n="";switch(e){case d.D5M.FOLLOWERS_ONLY:n=(0,m.p3)();break;case d.D5M.SUBSCRIBERS_ONLY:n=(0,m.lf)();break;case d.D5M.SLOW_MODE:n=(0,m.ox)();break;case d.D5M.VERIFIED_ONLY:case d.D5M.REQUIRE_VERIFIED_PHONE_NUMBER:n=(0,m.Af)();break;default:n=(0,s.wv)("Chat Restrictions","ChatLine")}return(0,s.wv)("You can't reply now due to {formattedReason}",{formattedReason:n},"ChatLine")}},70981:function(e,n,t){"use strict";t.d(n,{Fp:function(){return i}});var l=t(677271),d=t(729765),u=t(237190),c=t(636125),m=t(44586),p=t(702631),h=t(685370),g=t(783944),f=[250,249,250],v=[15,14,17],y={};function i(e,n){var t=m(e),e=k(d(t));if(void 0===n&&(n=(0,g.gh)()),e in y[n])return y[n][e];if(n===p.Q.Dark&&t.every(function(e){return e<36}))return"7A7A7A";var i=n===p.Q.Light?f:v,a=(0,h.$p)(t,i);if(4.5<a)return e;for(var r=[t[0],t[1],t[2]],o=50;0<=o&&a<4.5;o--){var s=u(r);n===p.Q.Light?s[0]-=.1*s[0]:s[0]+=.1*s[0],r=c(l(s)),a=(0,h.$p)(r,i)}t=k(d(r));return y[n][e]=t}function k(e){return"#"===e[0]?e.substr(1):e}y[p.Q.Dark]={},y[p.Q.Light]={}},607642:function(e,n,t){"use strict";t.d(n,{SZ:function(){return d},sQ:function(){return u}});var i,a=t(570655),r=t(667294),o=t(14890),n=t(884979),s=t(632712),n=(0,n.k)("ChatMenusContext",{chatView:s.i.Chat,hasOpenedEmotePicker:!1,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,clearMenus:function(){return null},requestedEmotePickerSection:void 0,showChatViewerList:function(){return null},closeChatViewerList:function(){return null},showRoomMemberList:function(){return null},closeRoomMemberList:function(){return null},showChatRules:function(){return null},closeChatRules:function(){return null},showEmotePicker:function(){return null},closeEmotePicker:function(){return null},resetEmotePickerSection:function(){return null}}),l=n.context,d=n.withContext,n=(i=r.PureComponent,(0,a.__extends)(c,i),c.prototype.render=function(){return r.createElement(l.Provider,{value:(0,a.__assign)((0,a.__assign)({},this.state),{chatView:this.currentChatView})},this.props.children)},Object.defineProperty(c.prototype,"currentChatView",{get:function(){return this.props.viewManager?this.props.viewManager.view:this.state.chatView},enumerable:!0,configurable:!0}),c),u=(0,o.qC)()(n);function c(e){var n=i.call(this,e)||this;return n.clearMenus=function(){n.setState({isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1})},n.showChatViewerList=function(){n.props.viewManager&&n.props.viewManager.updateView(s.i.ViewerList),n.setState({chatView:s.i.ViewerList})},n.closeChatViewerList=function(){n.props.viewManager&&n.props.viewManager.updateView(s.i.Chat),n.setState({chatView:s.i.Chat})},n.showRoomMemberList=function(){n.setState({isShowingRoomMemberList:!0})},n.closeRoomMemberList=function(){n.setState({isShowingRoomMemberList:!1})},n.showChatRules=function(){n.setState({isShowingChatRules:!0})},n.closeChatRules=function(){n.setState({isShowingChatRules:!1})},n.showEmotePicker=function(e){n.setState({hasOpenedEmotePicker:!0,isShowingEmotePicker:!0,requestedEmotePickerSection:e})},n.closeEmotePicker=function(){n.setState({isShowingEmotePicker:!1})},n.resetEmotePickerSection=function(){n.setState({requestedEmotePickerSection:void 0})},n.state={clearMenus:n.clearMenus,chatView:s.i.Chat,hasOpenedEmotePicker:!1,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,requestedEmotePickerSection:void 0,showChatViewerList:n.showChatViewerList,closeChatViewerList:n.closeChatViewerList,showRoomMemberList:n.showRoomMemberList,closeRoomMemberList:n.closeRoomMemberList,showChatRules:n.showChatRules,closeChatRules:n.closeChatRules,showEmotePicker:n.showEmotePicker,closeEmotePicker:n.closeEmotePicker,resetEmotePickerSection:n.resetEmotePickerSection},n}},832581:function(e,n,t){"use strict";t.d(n,{M$:function(){return u},E1:function(){return c}});var i,a=t(570655),r=t(667294),o=t(14890),s=t(831642),n=t(884979),l=t(48993),a=(i=r.PureComponent,(0,a.__extends)(m,i),m.prototype.render=function(){return r.createElement(d.Provider,{value:this.state},this.props.children)},m.prototype.componentDidMount=function(){this.timeout=setInterval(this.trackRandomMessageTiming,s.oH.get("chat_timing_heartbeat_ms",6e4))},m.prototype.componentWillUnmount=function(){clearInterval(this.timeout),this.trackRandomMessageTiming()},m),n=(0,n.k)("ChatMessageTimingContext",{setInitalTimestampForMsgNonce:function(e){return null},updateTimestampForMsgNonce:function(e){return null}}),d=n.context,u=n.withContext,c=(0,o.qC)()(a);function m(e){var t=i.call(this,e)||this;return t.nonceMap=new Map,t.timingDeltaQueue=[],t.setInitalTimestampForMsgNonce=function(e){100<=t.nonceMap.size&&t.nonceMap.clear(),t.nonceMap.set(e,performance.now())},t.updateTimestampForMsgNonce=function(e){var n=t.nonceMap.get(e);n&&(t.queueTimestampForTracking(performance.now()-n),t.nonceMap.delete(e))},t.queueTimestampForTracking=function(e){100===t.timingDeltaQueue.length&&t.timingDeltaQueue.shift(),t.timingDeltaQueue.push(e)},t.trackRandomMessageTiming=function(){var e;0<t.timingDeltaQueue.length&&(e=Math.floor(Math.random()*t.timingDeltaQueue.length),(0,l.s7)(t.timingDeltaQueue[e]),t.timingDeltaQueue=[],t.nonceMap.clear())},t.state={setInitalTimestampForMsgNonce:t.setInitalTimestampForMsgNonce.bind(t),updateTimestampForMsgNonce:t.updateTimestampForMsgNonce.bind(t)},t}},617063:function(e,n,t){"use strict";t.d(n,{tu:function(){return v},ho:function(){return y},cN:function(){return S},Zm:function(){return C}});var i,a=t(570655),r=t(129989),o=t(667294),s=t(137703),l=t(14890),d=t(831642),u=t(987145),c=t(344689),m=t(128416),p=t(797425),h=t(884979),n=t(545611),g=t(188623),f="chatPauseSetting",h=(0,h.k)("ChatPauseSettingContext",{setValue:function(){return null},value:m.TIX.SCROLL_ONLY}),v=h.context,y=h.withContext,h=(i=o.Component,(0,a.__extends)(k,i),k.getDerivedStateFromProps=function(e){return{value:(null===(e=null===(e=null===(e=(e=e).data)||void 0===e?void 0:e.currentUser)||void 0===e?void 0:e.chatUISettings)||void 0===e?void 0:e.chatPauseSetting)||b()}},k.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&d.tO.set(f,this.state.value)},k.prototype.render=function(){return o.createElement(v.Provider,{value:{setValue:this.setValue,value:this.state.value}},this.props.children)},k.prototype.getMutationInput=function(i){return(0,a.__assign)((0,a.__assign)({},(0,c.k_)({chatPauseSetting:i})),{optimisticResponse:{setChatPauseSetting:{__typename:"SetChatPauseSettingPayload",chatPauseSetting:i}},update:function(e){var n,t;try{t=e.readQuery({query:g})}catch(e){return}null!==(n=null==t?void 0:t.currentUser)&&void 0!==n&&n.chatUISettings&&(t=r(t,function(e){return e.currentUser.chatUISettings.chatPauseSetting},function(){return i}),e.writeQuery({query:g,data:t}))}})},k);function k(){var t=null!==i&&i.apply(this,arguments)||this;return t.state={value:b()},t.setValue=function(e){var n=t.state.value;n!==e&&(t.setState({value:e}),d.tO.set(f,e),t.props.isLoggedIn)&&(e=t.getMutationInput(e),t.props.setChatPauseSetting(e).catch(function(){n&&(d.tO.set(f,n),t.setState({value:n}))}))},t}var S=(0,l.qC)((0,s.$j)(function(e){var n=(0,p.PR)(e);return{isLoggedIn:(0,p.jl)(e),userID:n&&n.id}}),(0,u.TA)(g,{skip:function(e){return!e.isLoggedIn}}),(0,u.TA)(n,{name:"setChatPauseSetting"}))(h);function C(e){return{setChatPauseSetting:e.setValue,chatPauseSetting:e.value}}function b(){return d.tO.get(f,m.TIX.SCROLL_ONLY)}},736959:function(e,n,t){"use strict";t.d(n,{FP:function(){return o},YA:function(){return B},LI:function(){return r}});var I=t(667294),T=t(126858),P=t(106801),R=t(326737),A=t(906704),L=t(508995),i=t(884979),a=t(206124),n=t(655995),F=t(564702),U=t(129989),x=t(344689),O={canSubscribe:!1,emoteOnlyMode:!1,followerDuration:a.py,followerMode:!1,slowMode:!1,slowModeDuration:n.bX,subsOnlyMode:!1,updateRoomState:function(){return null},initialStateLoaded:!1},i=(0,i.k)("ChatRoomStateContext",O),B=i.context,r=i.withContext,o=function(e){var n,d,u,c,m,p,h,t=I.useState(!1),i=t[0],a=t[1],r=(0,P.aM)(F,{variables:{login:e.channelLogin}}),o=r.data,s=r.loading,l=null===(S=null==o?void 0:o.channel)||void 0===S?void 0:S.id,t=l&&(0,L.BP)(l),g=(0,T.P)(t||"",{skip:!l,skipMessage:function(e){return e.type!==A.qU.StreamChatRoomUpdate}})[0],f=(0,R.D)(g),v=(d=e.channelLogin,u=(0,P.aM)(F,{variables:{login:d}}).data,S=(null===(r=null==u?void 0:u.channel)||void 0===r?void 0:r.chatSettings)||{},t=S.isEmoteOnlyModeEnabled,r=S.followersOnlyDurationMinutes,S=S.slowModeDurationSeconds,c=!!t,m=null!=r?r:null,p=null!=S?S:null,h=(null===(S=null===(S=null===(S=null==u?void 0:u.channel)||void 0===S?void 0:S.subscriptionProducts)||void 0===S?void 0:S[0])||void 0===S?void 0:S.hasSubOnlyChat)||!1,function(e){var n,t,i,a,r,o=e.data.room.modes,s=o.emote_only_mode_enabled,l=o.slow_mode_duration_seconds,e=o.followers_only_duration_minutes,o=o.subscribers_only_mode_enabled;o!==h&&null!==(n=null===(n=null==u?void 0:u.channel)||void 0===n?void 0:n.subscriptionProducts)&&void 0!==n&&n[0]?(r=o,(0,x.rh)(F,{login:d},function(e){return U(e,function(e){return e.channel.subscriptionProducts[0].hasSubOnlyChat},function(){return r})})):null!==(o=null==u?void 0:u.channel)&&void 0!==o&&o.chatSettings&&(s!==c&&(a=s,(0,x.rh)(F,{login:d},function(e){return U(e,function(e){return e.channel.chatSettings.isEmoteOnlyModeEnabled},function(){return a})})),m!==e&&(i=e,(0,x.rh)(F,{login:d},function(e){return U(e,function(e){return e.channel.chatSettings.followersOnlyDurationMinutes},function(){return i})})),p!==l&&(t=l,(0,x.rh)(F,{login:d},function(e){return U(e,function(e){return e.channel.chatSettings.slowModeDurationSeconds},function(){return t})})))}),l=I.useState(!1),t=l[0],y=l[1],k=!(null===(S=null===(r=null==o?void 0:o.channel)||void 0===r?void 0:r.subscriptionProducts)||void 0===S||!S[0]);I.useEffect(function(){var e;g&&f!==g&&(v(e=g),k||y(e.data.room.modes.subscribers_only_mode_enabled))},[g,k,v,f]);var S=!(null===(r=null===(l=null==o?void 0:o.channel)||void 0===l?void 0:l.chatSettings)||void 0===r||!r.isEmoteOnlyModeEnabled),l=null===(r=null===(l=null==o?void 0:o.channel)||void 0===l?void 0:l.chatSettings)||void 0===r?void 0:r.followersOnlyDurationMinutes,r=null===(r=null===(r=null==o?void 0:o.channel)||void 0===r?void 0:r.chatSettings)||void 0===r?void 0:r.slowModeDurationSeconds,C=S,b=null!=l?l:-1,w=null!==l,E=null!==r,_=null!=r?r:-1,r=null===(r=null===(r=null==o?void 0:o.channel)||void 0===r?void 0:r.subscriptionProducts)||void 0===r?void 0:r[0],N=!!r,D=null!==(r=null==r?void 0:r.hasSubOnlyChat)&&void 0!==r?r:t,M=I.useCallback(function(e){i||(void 0!==e.subsOnly&&y(e.subsOnly),a(!0))},[i]),t=I.useMemo(function(){return{canSubscribe:N,emoteOnlyMode:C,followerDuration:b,followerMode:w,slowMode:E,slowModeDuration:_,subsOnlyMode:D,initialStateLoaded:i,updateRoomState:M}},[N,C,b,w,i,E,_,D,M]);return s||null===(n=null==o?void 0:o.channel)||void 0===n||!n.chatSettings?I.createElement(B.Provider,{value:O},e.children):I.createElement(B.Provider,{value:t},e.children)}},935945:function(e,n,i){"use strict";i.d(n,{Hh:function(){return Pr},Vk:function(){return Br}});function a(e){return b.createElement(w.A,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:E.sS.Block,flexDirection:E.Qb.Column},b.createElement(w.A,{padding:{bottom:.5}},b.createElement(_.V,{color:E.Il.Alt2},(0,D.wv)("<x:strong>Anonymous Cheering</x:strong> only supports the anonymous Cheermote. Your Cheer will be modified to appear as shown below.",{"x:strong":function(e){return b.createElement(_.V,{type:U.yG.Span,color:E.Il.Link,bold:!0},e)}},"InvalidAnonymousCheerPrompt")),b.createElement(w.A,{margin:{y:1}},b.createElement(x.k,{badgeSets:e.badgeSets,badgesToRender:{"anonymous-cheerer":"1"}}),b.createElement(B.Uk,{userData:{isIntl:!1,userDisplayName:O.P$,userID:O.gr,userLogin:O.Am,userType:"global_mod"}}),": ",(0,V.kz)(e.messageParts))),b.createElement(w.A,{display:E.sS.Flex,flexDirection:E.Qb.Row},b.createElement(N.zx,{onClick:e.onCheerAnyway},(0,D.wv)("Continue","InvalidAnonymousCheerPrompt")),b.createElement(w.A,{padding:{left:.5}},b.createElement(N.zx,{onClick:e.onEditCheer,type:N.L$.Secondary},(0,D.wv)("Edit","InvalidAnonymousCheerPrompt")))))}function r(e){return b.createElement(w.A,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:E.sS.Block,flexDirection:E.Qb.Column},b.createElement(w.A,{padding:{bottom:.5}},b.createElement(x.k,{badgeSets:e.badgeSets,badgesToRender:{twitchbot:"1"}}),b.createElement(B.Uk,{userData:{color:G.yX,isIntl:!1,userDisplayName:"AutoMod",userID:"automod",userLogin:"automod",userType:"global_mod"}}),b.createElement(_.V,{type:U.yG.Span,color:E.Il.Alt2},(0,D.wv)(": Your text may be removed by moderation. Bits will still be sent to the streamer. Review the highlighted text or continue below.","BitsAutoModOffenderPrompt"))),b.createElement(w.A,{display:E.sS.Flex,flexDirection:E.Qb.Row},b.createElement(w.A,{padding:{right:.5}},b.createElement(N.zx,{onClick:e.onEditCheer},b.createElement(w.A,{padding:{x:2}},(0,D.wv)("Edit","BitsAutoModOffender")))),b.createElement(N.zx,{onClick:e.onCheerAnyway,type:N.L$.Secondary},(0,D.wv)("Cheer Anyway","BitsAutoModOffender")),b.createElement(w.A,{className:"bits-auto-mod-offender-prompt__notification-icon",display:E.sS.Flex,flexDirection:E.Qb.Column,justifyContent:E.uM.End,alignSelf:E.MT.End,margin:{left:"auto",right:.5}},b.createElement(q.W,{asset:g.e.NotificationWarning}))))}function t(a){var n=(f=b.useState(1e3))[0],r=f[1],e=a.channelID,t=b.useRef([]),o=(p=b.useState(null))[0],i=p[1],s=b.useState(!1),l=s[0],d=s[1],u=b.useState(!1),c=u[0],m=u[1],p=(f=b.useState(J.aN.Cute))[0],h=f[1],g=(0,$.P)(e?(0,A.H0)("bits-usage-by-channel-v1-"+e+"-WEEK"):"",{skip:!e})[0];b.useEffect(function(){g&&(t.current.unshift(g),m(!0))},[g]),s=(0,b.useMemo)(function(){var e=0;a.bitAmount?e=a.bitAmount:o&&o.event&&(e=o.event.event_value);var n=[{src:K,token:"cheer1"},{src:X,token:"cheer100"},{src:Z,token:"cheer1000"},{src:ee,token:"cheer5000"},{src:ne,token:"cheer10000"}],t=[],i=e>=j.C.Red?j.C.Red:e>=j.C.Blue?j.C.Blue:e>=j.C.Green?j.C.Green:e>=j.C.Purple?j.C.Purple:j.C.Gray;switch(r(5e3),i){case j.C.Red:t=n,h(J.aN.Cheer10000);break;case j.C.Blue:t=n.slice(0,4),h(J.aN.Cheer5000);break;case j.C.Green:t=n.slice(0,3),h(J.aN.Cheer1000);break;case j.C.Purple:t=n.slice(0,2),h(J.aN.Cheer100);break;default:t=n.slice(0,1),h(J.aN.Cheer1)}return t.map(function(e){return n=e,(e=new Image).src=n.src,e.alt=n.token,e.width=14,e.height=14,e;var n})},[o,a.bitAmount]),b.useEffect(function(){var e;l||((e=t.current.pop())&&(i(e),d(!0),window.setTimeout(function(){d(!1),i(null)},n)),m(!1))},[l,c,n]);var f=(u=(0,b.useState)(null))[0],v=u[1],e=(0,b.useCallback)(function(e){e&&(e=e.getBoundingClientRect(),v({width:e.width,height:e.height}))},[v]),c="";return a.local?c="local_animation":o&&o.event&&(c=o.event.id),u=b.createElement(b.Fragment,null),f&&(a.local||o)&&(u=b.createElement(Y.I,{duration:n,images:s,height:f.height/3,width:f.width,key:c,intensity:p,onAnimationEnd:function(){d(!1)},className:"particle-canvas"})),b.createElement(Q.S,{zIndex:E.KN.Default},b.createElement(w.A,{position:E.Ly.Absolute,fullWidth:!0,fullHeight:!0,className:"simmer_rain_new",ref:e},u))}function o(e){if(!(0,W.D)(te.getLoader(),z.T.Later))return null;var n=b.createElement(b.Fragment,null);return(0,O.RJ)(e.channelID)===O.Vq.Celebration&&(n=b.createElement(t,{channelID:e.channelID,hideAnimation:!1})),b.createElement(b.Fragment,null,b.createElement(w.A,{zIndex:E.KN.Above},b.createElement(te,{channelID:e.channelID,userID:e.userID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin})),n)}function s(e){var n=(0,b.useState)(!1),t=n[0],i=n[1];return(0,b.useEffect)(function(){e.eventEmitter.once("bits_card_loaded",function(){return i(!0)})},[e.eventEmitter]),b.createElement(b.Fragment,null,e.visible&&!t&&b.createElement(Me.I,{onUserClose:e.onUserClose},b.createElement(Ie.j,null)),b.createElement(Pe,(0,S.__assign)({},e)))}function c(e){return b.createElement(s,(0,S.__assign)({},e,{eventEmitter:Te}))}var l,d,S=i(570655),m=i(294184),C=i(129989),b=i(667294),u=i(505977),p=i(14890),w=i(734995),E=i(270406),_=i(58661),N=i(796441),h=i(440837),g=i(382448),f=i(731110),v=i(486301),y=i(55503),D=i(831642),k=i(912654),M=i(987145),I=i(867284),T=i(906704),P=i(702631),R=i(491528),A=i(508995),L=i(128416),F=i(75552),U=i(150125),x=i(283140),O=i(184807),B=i(667211),V=i(233912),q=i(470216),G=i(238487),H=i(457087),W=i(478741),z=i(845426),$=i(126858),j=i(73119),Y=i(435338),Q=i(785179),J=i(802624),K="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/1/2.png",X="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/100/2.png",Z="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/1000/2.png",ee="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/5000/2.png",ne="https://d3aqoihi2n8ty8.cloudfront.net/actions/cheer/dark/static/10000/2.png",te=k.P.wrap(function(){return i.e(51547).then(i.bind(i,139263))},"ChannelLeaderboard",{placeholder:null}),ie=i(948309),ae=i(391831),re=i(152271),oe=i(13331),se=i(137703),le=i(195075),de=i(246797),ue=i(260999),ce=i(440281),me=i(175850),pe=i(469419),he=i(863480),ge=i(487163),fe=i(765256),ve=i(853607),ye=i(560772),ke=i(625471),Se=i(623384),Ce=i(742407),be=i(758588),we=i(797425),Ee=i(916306),_e=i(428331),Ne=i(140436),De=i(226729),Me=i(430452),Ie=i(793786),Te=new De,Pe=k.P.wrap(function(){return i.e(65092).then(i.bind(i,417266))},"BitsCard",{placeholder:null,onRendered:function(){return Te.emit("bits_card_loaded")}}),Re=Pe.Preload,Ae=i(457960),Le=(d=b.Component,(0,S.__extends)(sn,d),sn.prototype.render=function(){return(0,Ae.gW)()?null:b.createElement(w.A,{position:E.Ly.Relative,display:E.sS.Inline},b.createElement(h.Ei,{disabled:this.props.buttonDisabled,icon:(0,O.RJ)(this.props.channelID)===O.Vq.Screenshot?g.e.Camera:g.e.Bits,"aria-label":(0,D.wv)("Bits","ChatInput"),type:h.c.Secondary,onClick:this.props.onClick,"data-a-target":"bits-button"}))},sn),Fe=i(539073),Ue=i(938957),xe=i(85357),Oe=i(266489),Be=i(430028),Ve=i(747961),qe=i(269731),Ge=i(367575),He=i(965397),We=i(523094),ze=i(419341),$e=i(925445),je=i(877465),Ye=i(607642),Qe=i(901382),Je=i(325820),Ke=i(328099),Xe=i(834707),Ze=i(132412),en=i(767607),nn=i(155682),tn=i(922866),an=k.P.wrap(function(){return i.e(9304).then(i.bind(i,801273))},"ChatSettingsComponent"),rn=(l=b.Component,(0,S.__extends)(on,l),on.prototype.componentDidUpdate=function(e){e.isSettingsOpen&&!this.props.isSettingsOpen&&(this.props.hideChatFilterSettings(),this.props.hideDeletedMessageDisplaySettings(),this.onLeaveEdit())},on.prototype.render=function(){return b.createElement(b.Fragment,null,b.createElement(an.Preload,{priority:z.T.Later}),b.createElement(me.c,{onClickOut:this.onCloseSettings},b.createElement(qe.u,{label:this.chatSettingsTooltipString()},b.createElement(w.A,{zIndex:E.KN.Default,position:E.Ly.Relative},b.createElement(h.Ei,{"data-a-target":"chat-settings",icon:g.e.Gear,"aria-label":(0,D.wv)("Chat settings","ChatSettingsIconButton"),onClick:this.onToggleChatSettings}),this.props.hasNewUnbanRequests&&b.createElement(w.A,{zIndex:E.KN.Above,position:E.Ly.Absolute,className:"chat-settings-toggle__new-requests-indicator","data-test-selector":"new-unban-requests-indicator"}))),this.props.isSettingsOpen&&b.createElement(an,{authToken:this.props.authToken,darkModeEnabled:this.props.darkModeEnabled,editAppearance:this.state.editAppearance,isShowingChatFilterSettings:this.props.isShowingChatFilterSettings,showChatFilterSettings:this.props.showChatFilterSettings,hideChatFilterSettings:this.props.hideChatFilterSettings,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isVisible:this.props.isSettingsOpen,isPopout:this.props.isPopout,isWatchPartyActive:this.props.isWatchPartyActive,isEmbedded:this.props.isEmbedded,onChatCommand:this.props.onChatCommand,onChatHide:this.onChatHide,onChatPopout:this.onChatPopout,onShowChatRules:this.props.onShowChatRules&&this.onShowChatRules,onDarkModeToggle:this.onDarkModeToggle,onTimestampToggle:this.onTimestampToggle,onHighContrastColorsToggle:this.onHighContrastColorsToggle,onEmoteAnimationsToggle:this.onEmoteAnimationsToggle,onFontSizeChanged:this.onFontSizeChanged,theatreModeEnabled:this.props.theatreModeEnabled,onColorSelected:this.onColorSelected,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isLoggedIn:this.props.isLoggedIn,onClickEditAppearance:this.onEdit,onLeaveEditAppearance:this.onLeaveEdit,onShowViewerCard:this.props.onShowViewerCard,containerElement:this.props.containerElement,"data-test-selector":"chat-settings-component",onCloseSettings:this.onCloseSettings,showChatAppearanceOnLoad:this.props.showChatAppearanceOnLoad,isShowingDeletedMessageDisplaySettings:this.props.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.props.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting})))},on);function on(){var t=null!==l&&l.apply(this,arguments)||this;return t.state={editAppearance:!1},t.chatSettingsTooltipString=function(){return(0,D.wv)("Chat Settings","ChatInputTooltip")},t.onEdit=function(){t.setState({editAppearance:!0})},t.onLeaveEdit=function(){t.setState({editAppearance:!1})},t.onDarkModeToggle=function(){var e=t.props.darkModeEnabled?P.Q.Light:P.Q.Dark;t.props.onThemeChanged(e,!t.props.isPopout),(0,Ze.BS)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!t.props.darkModeEnabled,settingName:Ke.j.DarkMode})},t.onTimestampToggle=function(e){(0,Ze.BS)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:e,settingName:Ke.j.ShowTimestamps})},t.onHighContrastColorsToggle=function(e){(0,Ze.BS)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:e,settingName:Ke.j.UseHighContrastColors})},t.onEmoteAnimationsToggle=function(e){(0,Ze.BS)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:e,settingName:Ke.j.EmoteAnimationsSetting})},t.onFontSizeChanged=function(e,n){n!==e&&(0,Ze.P0)({settingName:Ke.j.FontSize,newValue:e,oldValue:n,channelLogin:t.props.channelLogin,channelID:t.props.channelID,isHostMode:t.props.isHostMode})},t.onDeletedMessageDisplaySettingChange=function(e){t.props.setDeletedMessageDisplaySetting(e)},t.onChatHide=function(){t.props.onChatHide(),t.onCloseSettings(),(0,Ze.BS)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,newValue:!0,settingName:Ke.j.HideChat})},t.onChatPopout=function(){t.props.isPopout||t.props.onChatHide();var e="/popout/"+t.props.channelLogin+"/chat?popout=";(0,en.r0)()&&(e="https://twitch.tv"+e);e=window.open(e,"_blank","right=50,top=50,width=400,height=600,resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");e&&!(0,Ae.P)()&&(e.focus(),(0,Ge.O)(e,function(){t.props.onChatUnhide()}))},t.onShowChatRules=function(){t.props.showChatRules(),t.onCloseSettings()},t.onColorSelected=function(e){t.props.isLoggedIn?t.props.onChatCommand((0,Xe.A6)(e)):t.props.login()},t.onToggleChatSettings=function(){t.props.isSettingsOpen?t.onCloseSettings():((0,Ze.Ko)({channelID:t.props.channelID||void 0,channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode}),t.props.updateChatConfigState({isSettingsOpen:!0}))},t.onCloseSettings=function(){t.props.isSettingsOpen&&(t.props.hideChatFilterSettings(),t.props.hideDeletedMessageDisplaySettings(),t.props.updateChatConfigState({isSettingsOpen:!1,showChatAppearanceOnLoad:!1}),t.props.markNewUnbanRequestsAsRead())},t}function sn(){return null!==d&&d.apply(this,arguments)||this}var ln,dn=(0,se.$j)(function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isLoggedIn:(0,we.jl)(e),darkModeEnabled:(0,We.zv)(e)===P.Q.Dark,theatreModeEnabled:e.ui.theatreModeEnabled}},function(e){return(0,p.DE)({login:function(){return(0,Se.x4)(ve.sB.ChatSettings)},onChatHide:function(){return ze.s$()},onChatUnhide:function(){return ze.YF()},onThemeChanged:function(e){return(0,He.L)(e,{saveToStorage:!1})}},e)})(rn),un=(0,p.qC)(u.EN,(0,$e.Aq)(function(e){return{isSettingsOpen:e.isSettingsOpen,updateChatConfigState:e.updateChatConfigState,showChatAppearanceOnLoad:e.showChatAppearanceOnLoad}}),(0,Qe.jP)(function(e){return{setDeletedMessageDisplaySetting:e.setValue,deletedMessageDisplaySetting:e.value,isShowingDeletedMessageDisplaySettings:e.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:e.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:e.showDeletedMessageDisplaySettings,hasSetDeletedMessageDisplaySetting:e.hasSetSetting}}),(0,Je.Hu)(function(e){return{onShowViewerCard:e.onShowViewerCard}}),(0,je.NX)(function(e){return e}),(0,Ye.SZ)(function(e){return{showChatRules:e.showChatRules}}),(0,tn.T_)(function(e){return{isWatchPartyActive:e.isWatchPartyActive}}),(0,nn.PS)(function(e){return{hasNewUnbanRequests:!!e.unreadRequestsCount,markNewUnbanRequestsAsRead:function(){e.setLastOpenedAt((new Date).toString()),e.showNewRequests()}}}))(dn),cn=i(592407),mn=i(5021),pn=i(124822),hn=i(196171),gn=(ln=b.Component,(0,S.__extends)(fn,ln),fn.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},fn.prototype.componentWillUnmount=function(){this.unregister()},fn.prototype.render=function(){return null},fn.prototype.determineReplacement=function(e){var n=(0,Xe.tq)(e);return n?"/"+e.name+" "+n:"/"+e.name},fn.prototype.determineGroup=function(e){if(this.props.isCurrentUserEditor||this.props.permissionLevel!==hn.s.Viewer&&this.props.permissionLevel!==hn.s.Vip)return e.permissionLevel===hn.s.Moderator||e.permissionLevel===hn.s.Broadcaster||e.allowEditorUsage?"channel management":"twitch"},fn.prototype.getPriorityLevel=function(e){return!e.allowEditorUsage&&(e.permissionLevel===hn.s.Viewer||e.permissionLevel===hn.s.Vip)?0:1},fn.prototype.trimStart=function(e){return e.startsWith("un")&&!e.startsWith("unique")?e.substring(2):e},fn);function fn(){var a=null!==ln&&ln.apply(this,arguments)||this;return a.autocompleteType=mn.J.Command,a.canBeTriggeredByTab=!1,a.getMatches=function(e,n,t){return 0===t&&e.startsWith("/")?a.getCommands(e):null},a.getCommands=function(e){var n=a.props.getCommands(a.props.permissionLevel,{isEditor:a.props.isCurrentUserEditor});if(!n||0===n.length)return null;var t=e.substring(1),n=n.filter(function(e){return a.doesCommandMatchTerm(e,t)});return n.sort(a.sortCommands),n.map(function(e){return{type:mn.J.Command,current:"/"+t,replacement:a.determineReplacement(e),element:a.renderCommandSuggestion(e,t),group:a.determineGroup(e),selection:(0,Xe.tq)(e)}})},a.doesCommandMatchTerm=function(e,n){n=new RegExp("^"+(0,cn.h)(n.toLowerCase()),"i");return e.name.match(n)},a.renderCommandSuggestion=function(t,e){var n=e.length,i=null;return t.commandArgs&&(i=t.commandArgs.map(function(e,n){return b.createElement(w.A,{key:t.name+"-arg-"+n,margin:{right:.5}},b.createElement(_.V,{type:U.yG.Span},"["+e.name+"]"))})),b.createElement(w.A,{padding:.5},b.createElement(w.A,{display:E.sS.Flex},b.createElement(w.A,{margin:{right:.5}},b.createElement(_.V,{type:U.yG.Span},"/"+e),b.createElement(_.V,{type:U.yG.Span,bold:!0},t.name.substring(n))),i),b.createElement(_.V,{color:E.Il.Alt2,fontSize:E.Bf.Size7},t.description))},a.sortCommands=function(e,n){var t=a.getPriorityLevel(e),i=a.getPriorityLevel(n);if(t!==i)return i-t;e=a.trimStart(e.name),n=a.trimStart(n.name);return e.localeCompare(n)},a}var vn=(0,p.qC)((0,Ee.hT)(function(e){return e}),(0,pn.O9)(function(e){return{getCommands:e.getCommands}}))(gn),yn=i(606382),kn=i(991633),Sn=i(201515),Cn=i(720205),bn=i(774601);function wn(e,n){var t=[];if(!n)return t;for(var i=0,a=n;i<a.length;i++){var r=a[i],r=(0,bn.i)(r);r&&(r.deleted||r.user.userDisplayName!==e||t.push(r))}return t}var En,_n=i(158469),Nn=i(971212);(En=En||{}).ReplyPrompt="reply-prompt";function Dn(n){var e=(t=(0,Fn.b)(!0)).dialogProps,t=t.setAnchorRef;return b.useEffect(function(){D.UO.track(Ce.N.ChatRulesViewed,{channel_login:n.channelLogin,channel_id:n.channelID})},[n.channelID,n.channelLogin]),e.onRequestClose=function(){return n.onCloseChatRules()},b.createElement(w.A,{fullWidth:!0,position:E.Ly.Absolute,zIndex:E.KN.Above,attachBottom:!0,attachLeft:!0,className:"chat-rules-container",ref:t},b.createElement(Un.y,(0,S.__assign)({size:ue.Kn.Auto},e),b.createElement(w.A,{className:"chat-rules-content",background:E.Aq.Base,attachBottom:!0,borderRadius:de.c.Large,display:E.sS.Block,elevation:3,padding:.5},b.createElement(xn.xH,(0,S.__assign)({},n)),b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Center,padding:.5},b.createElement(N.zx,{"data-test-selector":"chat-rules-ok-button",fullWidth:!0,size:N.qE.Large,onClick:function(){var e;e=D.tO.get(On,{}),n.channelLogin&&(e[n.channelLogin]=!0,D.tO.set(On,e)),D.UO.track(Ce.N.ChatRulesAccepted,{channel_id:n.channelID,channel_login:n.channelLogin}),n.onAcceptChatRules()}},b.createElement(_.V,{fontSize:E.Bf.Size5},(0,D.wv)("Okay, Got It!","ChatRules")))))))}function Mn(e){var n=(0,D.wv)("Go to Mod View","ModViewIngress");return b.createElement(w.A,{position:E.Ly.Relative,display:E.sS.Flex,alignItems:E.g1.Center},b.createElement(qe.u,{label:(0,D.wv)("Mod View","ModViewIngress")},b.createElement(h.Ei,{"aria-label":n,linkTo:(0,Vn.c)(e.channelLogin),icon:g.e.Sword,"data-test-selector":qn})))}var In,Tn,Pn=(Tn=b.Component,(0,S.__extends)(Gn,Tn),Gn.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},Gn.prototype.componentWillUnmount=function(){this.unregister()},Gn.prototype.render=function(){return null},Gn),Rn=(0,p.qC)((0,Ee.hT)(function(e){return e}),Sn.j,Cn.F_)(Pn),An=i(986923),Ln=i(736959),Fn=i(386033),Un=i(303897),xn=i(402767),On=(i(565383),"chat_rules_shown"),n=i(974513),Bn=i(148707),Vn=i(751978),qn="mod-view-link";function Gn(){var r=null!==Tn&&Tn.apply(this,arguments)||this;return r.autocompleteType=mn.J.Mention,r.canBeTriggeredByTab=!0,r.getMatches=function(e,n){return n||e.startsWith("@")?r.getMentions(e,n):null},r.getMentions=function(n,t){if(!r.props.activeChattersAPI)return[];var e=t?n:n.substring(1),i=r.props.activeChattersAPI.getActiveChatters(e,5),a=null===(e=r.props.messageBufferAPI)||void 0===e?void 0:e.getMessages();return i.map(function(e){return{type:mn.J.Mention,current:n,replacement:(t?"":"@")+(e.displayName||e.login),element:r.renderMention(e,a)}})},r.renderMention=function(e,n){var t=(0,_n.C)(r.props.channelID)!==_n.E.Control&&null!==function(e,n){if(!n)return null;for(var t=n.length-1;t>=Math.max(0,n.length-100);t--){var i=n[t],i=(0,bn.i)(i);if(i&&!i.deleted&&i.user.userDisplayName===e)return i}return null}(e.displayName||e.login,n),n=r.props.showReplyPrompt&&e.login!==r.props.currentUserLogin&&t,t=kn.U.os.isMacOS();return b.createElement(w.A,{padding:.5,display:E.sS.Flex,justifyContent:E.uM.Between,alignItems:E.g1.Center,flexGrow:1},b.createElement(_.V,{wordBreak:U.I5.BreakWord},(0,yn.I)(e.login,e.displayName||null)),n&&b.createElement(w.A,{display:E.sS.Flex,alignItems:E.g1.Center,"data-test-selector":En.ReplyPrompt},b.createElement(Nn.T,{text:t?"":"Alt"}),b.createElement(Nn.T,{text:"Enter"}),b.createElement(_.V,{color:E.Il.Alt2,fontSize:E.Bf.Size7},(0,D.wv)("start a reply","ChatMentionsAutocomplete"))))},r}(De=In=In||{}).AUTOMOD="automod",De.ANONYMOUS_CHEERING="anonymous-cheering",De.UNKNOWN="unknown";function Hn(e){var n=void 0===(n=e.moderatedReason)?In.UNKNOWN:n,e=e.moderatedMessageParts,n=m("moderated-message-fake-input__container",n);return b.createElement(w.A,{position:E.Ly.Relative,borderRadius:de.c.Medium,className:n},b.createElement(w.A,{className:"moderated-message-fake-input__content",display:E.sS.Block,overflow:E.nP.Auto,color:E.Il.Alt,background:E.Aq.Alt,fullWidth:!0},b.createElement(f.o,{padding:{y:.5,left:1},fullHeight:!0},b.createElement("div",{style:{paddingRight:"6rem"}},(0,V.kz)(e)))),b.createElement(w.A,{position:E.Ly.Absolute,display:E.sS.Flex,flexDirection:E.Qb.Row,attachRight:!0,attachTop:!0},b.createElement(w.A,{display:E.sS.InlineFlex,alignItems:E.g1.Center,className:"moderated-message-fake-input__icon",padding:.5},b.createElement(q.W,{asset:g.e.Bits,type:q.w.Inherit})),b.createElement(w.A,{display:E.sS.InlineFlex,alignItems:E.g1.Center,className:"moderated-message-fake-input__icon",padding:.5},b.createElement(q.W,{asset:g.e.Emoticons,type:q.w.Inherit}))))}var Wn,rn=i(77966),zn="raid-now-upsell",$n=i(721482),jn=i(137147),Yn=i(289738),Qn=i(715602),je=i(361945),Jn=(ut.prototype.getCurrentMessage=function(){return this.messages[this.currentIndex]},ut.prototype.setLater=function(){return!!this.hasLaterMessage()&&(this.currentIndex+=1,!0)},ut.prototype.setEarlier=function(){return!!this.hasEarlierMessage()&&(--this.currentIndex,!0)},ut.prototype.hasEarlierMessage=function(){return 0<this.currentIndex},ut.prototype.hasLaterMessage=function(){return this.currentIndex<this.messages.length-1},ut),Kn=i(662487),Xn=i(417075),Zn=i(607492),et=i(48993),nt=i(817207),tt=i(119935),it=i(42626),at=i(250319),dn=i(509301),pn=i(373191),rt=i(44683),ot=i(613290),st=i(965347),lt=i(972130),gn=(Wn=b.Component,(0,S.__extends)(dt,Wn),dt.prototype.componentDidUpdate=function(){var e=this.props,n=e.clearModifierTray,t=e.inputValue,i=e.maxLength,e=e.tray;t.length>=i&&(!e||e.type===$n.v4.EmoteOnlyBanner)?this.updateModifierTray():t.length<i&&(null==e?void 0:e.type)===$n.v4.CharacterLimitError&&n()},dt.prototype.render=function(){return null},dt.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null),hideCloseButton:!0},(0,D.wv)("Reached Character Limit of 500","CharacterLimitErrorTray")),disableClose:!0,inputValue:this.props.inputValue,type:$n.v4.CharacterLimitError};this.props.setModifierTray(e)},dt);function dt(){return null!==Wn&&Wn.apply(this,arguments)||this}function ut(e){this.messages=e,this.currentIndex=e.length-1}var ct=(0,p.qC)((0,ot.WA)(function(n){return{setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray}}))(gn),mt=i(376467),pt=i(36141),ht=i(224829),gt=i(824942);function ft(){var e=kn.U.os.isMacOS()?"(option) ()":"(Alt) ()";return(0,D.wv)("Select a previous message to reply to. You can also use the {shortcut} shortcut.",{shortcut:e},"ReplyTray")}function vt(){var e=kn.U.os.isMacOS()?"(option) ()":"(Alt) ()";return(0,D.wv)("Select a later message to reply to. You can also use the {shortcut} shortcut.",{shortcut:e},"ReplyTray")}var yt=function(e){var n=e.replyToList,t=e.message,i=e.params,e=b.useMemo(function(){return(0,rt.X)()},[]);return b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Between},b.createElement(w.A,{margin:.5},b.createElement(gt.j,{asset:g.e.Reply})),b.createElement(w.A,{display:E.sS.Flex,flexGrow:1,alignItems:E.g1.Center,justifyContent:E.uM.Between},b.createElement(_.V,{bold:!0,fontSize:E.Bf.Size5,color:E.Il.Alt,type:U.yG.Span,wordBreak:U.I5.BreakWord},(0,V.GK)(t.user.userDisplayName)),b.createElement(w.A,{className:"chat-replies-keyboard-header--buttons",display:E.sS.Flex},b.createElement(qe.u,{label:b.createElement(w.A,{className:"chat-input-tray--tooltip",textAlign:E.PH.Center},ft()),options:{placement:"top"},disabled:!n.hasEarlierMessage()},b.createElement(h.Ei,{"aria-label":ft(),icon:g.e.AngleUp,size:h.hp.Small,disabled:!n.hasEarlierMessage(),onClick:function(){n.setEarlier(),wt(n,i)}})),b.createElement(qe.u,{label:b.createElement(w.A,{className:"chat-input-tray--tooltip",textAlign:E.PH.Center},vt()),options:{placement:"top"},disabled:!n.hasLaterMessage()},b.createElement(h.Ei,{"aria-label":vt(),icon:g.e.AngleDown,size:h.hp.Small,disabled:!n.hasLaterMessage(),onClick:function(){n.setLater(),wt(n,i)}})))),b.createElement(qe.u,{label:b.createElement(w.A,{className:"chat-input-tray--tooltip",textAlign:E.PH.Center},(0,D.wv)("Remove reply context from mention","ReplyTray")),options:{placement:"top"}},b.createElement(h.Ei,{"aria-label":e,icon:g.e.Close,onClick:i.closeKeyboardReplyTray,title:e})))},kt=i(482345),St=i(223176),Ct=i(100387),bt=i(647153);function wt(i,a){var r=i.getCurrentMessage();a.setInputValue(""),a.setTray({header:b.createElement(yt,{message:r,replyToList:i,params:a}),body:b.createElement(w.A,null,b.createElement(kt.ChatRepliesMessageCard,{badgeSets:a.badgeSets,channelID:a.channelID,channelLogin:a.channelLogin,currentUserLogin:a.currentUserLogin,currentUserDisplayName:a.currentUserDisplayName,currentUserID:a.currentUserID,isCurrentUserModerator:a.isCurrentUserModerator,isCurrentUserStaff:a.isCurrentUserStaff,isDeleted:r.deleted,isHidden:r.hidden,message:r,showModerationIcons:a.showModerationIcons,showTimestamps:a.showTimestamps,useHighContrastColors:a.useHighContrastColors}),r.hasReply&&b.createElement(w.A,{margin:{bottom:.5}},b.createElement(N.zx,{type:N.L$.Text,size:N.qE.Small,onClick:function(){var e,n,t;e=a,n=i.getCurrentMessage(),t=(0,Ct.j)(n),e.clearReplyToList(),e.setInputValue(""),e.setTray({header:b.createElement(rt.F,{icon:b.createElement(gt.j,{asset:g.e.Conversations})},(0,V.P)()),body:b.createElement(w.A,null,b.createElement(St.b,{channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserDisplayName:e.currentUserDisplayName,currentUserID:e.currentUserID,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,reply:t,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:e.useHighContrastColors})),onClose:function(){e.channelID&&(0,bt.LR)({messageID:t.parentMsgId,channelID:e.channelID})},disableBits:!0,disableCommands:!0,disableChat:t.parentDeleted,sendButtonOverride:$n.nS.Reply,sendMessageHandler:{type:$n.DB.Reply,additionalMetadata:{reply:t}},type:$n.v4.Reply}),a.channelID&&(0,bt.UY)({threadID:r.id,channelID:a.channelID,uiContext:bt.Xw.ReplyTray})}},(0,D.wv)("See thread","ReplyTray")))),inputValue:"",onClose:a.clearReplyToList,disableBits:!0,sendButtonOverride:$n.nS.Reply,sendMessageHandler:{type:$n.DB.Reply,additionalMetadata:{reply:{parentDeleted:r.deleted,parentMsgId:r.id,parentMessageBody:r.messageBody,parentUid:r.user.userID,parentUserLogin:r.user.userLogin,parentDisplayName:r.user.userDisplayName}}},type:$n.v4.Reply})}function Et(){var e=(0,b.useState)(D.tO.get(It,!1)),n=e[0],t=e[1];return n?null:b.createElement(w.A,null,b.createElement(Nt.U,{closeButton:{onClick:function(){D.tO.set(It,!0),t(!0)},"aria-label":(0,D.wv)("Close","ChantModCallout")},background:E.Aq.Accent,message:b.createElement(Dt.Z,{title:(0,D.wv)("Start a Crowd Chant!","ChantModCallout"),description:(0,D.wv)('Want to get chat hyped up? Use the "/chant [message] command to send viewers a prompt with a message they can send in chat!',"ChantModCallout"),pill:{label:(0,D.wv)("New","ChantModCallout"),transform:U._5.Uppercase,type:Mt.R.Brand}})}))}var _t,Nt=i(146747),Dt=i(23015),Mt=i(626650),It="hasDismissedChantModCallout",Tt=i(759408),Sn=i(19596),Pn=(_t=b.Component,(0,S.__extends)(Pt,_t),Pt.prototype.render=function(){var e=this.props.fontScaleClassName;return b.createElement(w.A,{className:e},b.createElement(Ee.$f,(0,S.__assign)({},this.props,{"aria-label":this.props.placeholder,onMatch:this.showAutocompleteTray,onReset:this.clearAutocompleteTray})))},Pt);function Pt(){var r=null!==_t&&_t.apply(this,arguments)||this;return r.showAutocompleteTray=function(e,n,t){r.props.closeCard();var i=(null===(a=null===(i=e[0])||void 0===i?void 0:i.current)||void 0===a?void 0:a.includes("/"))||!1,a=r.props.channelID===r.props.currentUserID||r.props.isCurrentUserModerator,a=i?b.createElement(Tt.P,{channelLogin:r.props.channelLogin},a&&b.createElement(Et,null)):void 0;r.props.setModifierTray({body:b.createElement(me.c,{onClickOut:r.clearAutocompleteTray},b.createElement(mt.hB,{matches:e,onMatchSelect:r.onMatchSelect(n),onDismiss:t,containerElement:r.props.containerElement,header:a})),floating:!0,sendButtonOverride:(null===(a=null===(a=r.props)||void 0===a?void 0:a.tray)||void 0===a?void 0:a.sendButtonOverride)===$n.nS.Reply?r.props.tray.sendButtonOverride:void 0,type:$n.v4.AutocompleteTray})},r.onMatchSelect=function(a){return function(e,n){if((0,_n.C)(r.props.channelID)!==_n.E.Control&&e.type===mn.J.Mention){var t=(0,Zn.i)(e.replacement.trim()),i=wn(t,null===(i=r.props.messageBufferAPI)||void 0===i?void 0:i.getMessages());if(!n)return a(e),void(0<(null==i?void 0:i.length)&&!D.tO.get(Oe.FR,!1)&&r.props.pushCallout({key:Ve.S.ReplyByKeyboard,event:{type:Ve.S.ReplyByKeyboard}}));t!==r.props.currentUserDisplayName&&i&&0!==i.length&&(i=new Jn(i),r.props.setReplyToList(i),wt(i,{setTray:r.props.setTray,setInputValue:r.props.setInputValue,clearReplyToList:r.props.clearReplyToList,closeKeyboardReplyTray:r.props.closeKeyboardReplyTray,badgeSets:r.props.badgeSets,channelID:r.props.channelID,channelLogin:r.props.channelLogin,currentUserDisplayName:r.props.currentUserDisplayName,currentUserLogin:r.props.currentUserLogin,currentUserID:r.props.currentUserID,isCurrentUserModerator:r.props.isCurrentUserModerator,isCurrentUserStaff:r.props.isCurrentUserStaff,showModerationIcons:r.props.showModerationIcons,showTimestamps:r.props.showTimestamps,useHighContrastColors:r.props.useHighContrastColors}),(0,pt.c)((0,S.__assign)((0,S.__assign)({},r.props.trackingParams||{}),{autocompleteType:mn.J.Mention,completedText:e.replacement,source:r.props.suggestionSource,usedReplySuggestion:!0})))}else a(e)}},r.clearAutocompleteTray=function(){(0,ht.Ny)(r.props.tray)&&r.props.clearModifierTray()},r}var Rt,At=(0,p.qC)(Cn.F_,(0,Be.Sf)(function(n){return{pushCallout:function(e){return n.pushCallout(e)}}}),(0,Sn.M)())(Pn),Lt=i(357941);(De=Rt=Rt||{}).ClickContainer="chat-input-tray-click-container",De.TrayError="chat-input-tray-error";function Ft(e){var n=b.useContext(ot.PL).activeInputTray,t=(0,Lt.A)();(0,b.useEffect)(function(){var e;return null!=n&&n.timeout&&(e=setTimeout(t,n.timeout)),function(){e&&clearTimeout(e)}},[t,n]);var i,a=m({"chat-input-tray__open":!!n,"chat-input-tray__open--persistent":null==n?void 0:n.persistent}),r=m({"chat-input-container__open":!!n,"chat-input-container__open--persistent":null==n?void 0:n.persistent}),o=m({"chat-input-container__input-wrapper":!!n}),s=de.c.Large;n&&(i=E.Aq.Base,s={bottomLeft:de.c.Large,bottomRight:de.c.Large},null!=n&&n.persistent&&(i=E.Aq.Alt));var l=b.createElement(w.A,null,null==n?void 0:n.header,null==n?void 0:n.body);return null!=n&&n.onClick&&(l=b.createElement("div",{onClick:n.onClick,className:"chat-input-tray__clickable","data-test-selector":Rt.ClickContainer},l)),b.createElement(b.Fragment,null,b.createElement(w.A,{background:i,border:!!n,borderRadius:de.c.Large,display:E.sS.Block,elevation:!n||null!=n&&n.persistent?0:1,padding:!n||null!=n&&n.persistent?0:.5,position:null!=n&&n.floating?E.Ly.Absolute:E.Ly.Relative,attachRight:!0,attachLeft:!0,zIndex:E.KN.Below,className:a},l,function(){if(null!=n&&n.error)return b.createElement(w.A,{borderTop:!0,borderRadius:de.c.Large,display:E.sS.Block,padding:.5,attachRight:!0,attachLeft:!0,className:"chat-input-tray__error","data-test-selector":Rt.TrayError},b.createElement(w.A,{display:E.sS.Flex,alignItems:E.g1.Center},b.createElement(w.A,{margin:{x:1}},b.createElement(q.W,{asset:g.e.Warning,type:q.w.Warn})),b.createElement(w.A,{margin:{bottom:.5}},b.createElement(_.V,{color:E.Il.Alt2},n.error))))}()),b.createElement(w.A,{background:i,borderRadius:s,display:E.sS.Block,padding:!n||null!=n&&n.persistent?0:.5,className:r},b.createElement(w.A,{position:E.Ly.Relative,className:o},e.children)))}function Ut(e){var n=(0,D.wv)("Chat","ChatInput");if(e.inputText&&null!==(0,Xe.IW)(e.inputText))n=(0,D.wv)("Whisper","ChatInput");else if(e.sendButtonOverride)switch(e.sendButtonOverride){case $n.nS.ShareEmoteReward:case $n.nS.ShareBitsBadgeTier:case $n.nS.ShareResub:case $n.nS.ShareDrop:n=(0,D.wv)("Share","ChatInput");break;case $n.nS.ThankSubGifter:n=(0,D.wv)("Send Thanks","ChatInput");break;case $n.nS.Reply:n=(0,D.wv)("Reply","ChatInput")}return b.createElement(N.zx,{onClick:function(){return e.onClick(Qn.zz.Click)},"data-a-target":"chat-send-button",disabled:e.disabled},n)}Ut.displayName="ChatInputSendButton";var gn=i(233563),xt=i(437855);var Ot,Bt=i(408892),Vt=i(652461),qt=i(33250),Gt="verified-only-messages",Ht="subs-only-messages",Wt="follower-only-messages",zt="emote-only-messages",$t=i(823955),Pn=(Ot=b.Component,(0,S.__extends)(jt,Ot),jt.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotEmoteOnly,onMessageSent:function(){return null}},zt),this.manageEmoteOnlyTrays()},jt.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(zt)},jt.prototype.componentDidUpdate=function(){this.manageEmoteOnlyTrays()},jt.prototype.render=function(){return null},jt.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null)},this.trayTitle),body:b.createElement(Vt.f,null,this.trayDescription),timeout:3e4,type:$n.v4.EmoteOnlyWarning};this.props.setModifierTray(e)},jt);function jt(){var s=null!==Ot&&Ot.apply(this,arguments)||this;return s.trayTitle=(0,D.wv)("Emote Only Chat","EmoteOnlyTray"),s.trayDescription=(0,D.wv)("This room is in emote only mode. You can find your currently available emoticons using the smiley in the chat text area.","EmoteOnlyTray"),s.buildEmoteLookup=(0,Bt.M)(function(e){for(var n=[],t=0,i=e;t<i.length;t++){var a=i[t];a&&a.id&&a.emotes&&(n=n.concat((0,$t.j8)(a.emotes).map(function(e){return e.displayName})))}return new Set(n)}),s.manageEmoteOnlyTrays=function(){var e,n=s.props,t=n.clearModifierTray,i=n.emoteOnlyMode,a=n.hasChatRestriction,r=n.setModifierTray,o=n.tray;!i||a||o||(e={header:b.createElement(rt.F,{icon:b.createElement(qt.X,null)},s.trayTitle),body:b.createElement(Vt.f,null,s.trayDescription),type:$n.v4.EmoteOnlyInfo},n={header:b.createElement(rt.F,{icon:b.createElement(qt.X,{persistent:!0}),hideCloseButton:!0},b.createElement(_.V,{bold:!0,color:E.Il.Alt2},s.trayTitle)),persistent:!0,onClick:function(){r(e)},type:$n.v4.EmoteOnlyBanner},r(n)),i&&!a||!o||o.type!==$n.v4.EmoteOnlyBanner&&o.type!==$n.v4.EmoteOnlyInfo||t(),!i&&o&&o.type===$n.v4.EmoteOnlyWarning&&t(),s.props.emoteOnlyMode&&s.props.inputTray&&s.props.modifierTray&&s.props.clearModifierTray()},s.isNotEmoteOnly=function(e){if(!s.props.emoteOnlyMode)return!1;var n=!1,t=s.buildEmoteLookup(s.props.emotes);return e.replace(/\n/g," ").trim().split(" ").some(function(e){return 0<e.length&&!t.has(e)&&(n=!0,s.updateModifierTray(),!0)}),n},s}var Yt,Qt=(0,p.qC)((0,ot.WA)(function(n){return{clearTray:function(){return n((0,st.Rv)())},setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray,inputTray:e.inputTray,modifierTray:e.inputModifierTray}}))(Pn),Jt=i(33435),Kt=i(499149),De=i(475443),Pn=(Yt=b.Component,(0,S.__extends)(Xt,Yt),Xt.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotFollowingCheck,onMessageSent:function(){return null}},Wt),this.manageFollowerModeTray()},Xt.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(Wt)},Xt.prototype.componentDidUpdate=function(){this.manageFollowerModeTray()},Xt.prototype.render=function(){return null},Xt.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null)},this.trayTitle),body:this.renderTrayBody(),timeout:3e4,type:$n.v4.FollowerModeInfo};this.props.setModifierTray(e)},Xt);function Xt(){var i=null!==Yt&&Yt.apply(this,arguments)||this;return i.trayTitle=(0,D.wv)("Followers-Only Chat","ChatModeHeader"),i.manageFollowerModeTray=function(){var e,n;i.props.followerMode&&!i.props.tray&&(e={header:b.createElement(rt.F,{icon:b.createElement(qt.X,null)},i.trayTitle),body:i.renderTrayBody(),type:$n.v4.FollowerModeInfo},n={header:b.createElement(rt.F,{icon:b.createElement(qt.X,{persistent:!0}),hideCloseButton:!0},b.createElement(_.V,{bold:!0,color:E.Il.Alt2},i.trayTitle)),persistent:!0,onClick:function(){i.props.setModifierTray(e)},type:$n.v4.FollowerModeBanner},i.props.setModifierTray(n)),(!i.props.followerMode&&i.props.tray&&(i.props.tray.type===$n.v4.FollowerModeInfo||i.props.tray.type===$n.v4.FollowerModeBanner)||i.props.followerMode&&i.props.inputTray&&i.props.modifierTray)&&i.props.clearModifierTray()},i.renderTrayBody=function(){var e,n,t=(0,D.wv)("You need to be a follower of {streamer} to chat.",{streamer:i.props.channelDisplayName||i.props.channelLogin},"ChatModeHeader");return 0<i.props.followerDurationSeconds&&null!==i.props.followSecondsRemaining&&(e=(0,ge.LU)(i.props.followerDurationSeconds),n=(0,ge.LU)(i.props.followSecondsRemaining),t=(0,D.wv)("You need to be a follower for {timeRequired} to chat, and you have {timeRemaining} left.",{timeRequired:e,timeRemaining:n},"ChatModeHeader")),b.createElement(w.A,{className:"chat-restriction-tray__body"},b.createElement(_.V,null,t),b.createElement(w.A,{display:E.sS.Flex,fullWidth:!0,justifyContent:E.uM.End,padding:{top:.5,bottom:.5,right:.5},className:"chat-restriction-tray__button"},b.createElement(w.A,{flexShrink:1},b.createElement(Jt.e,{size:N.qE.Small,fullWidthButton:!1,channelLogin:i.props.channelLogin,followUIType:Kt.R0.IconAndText,unfollowUIType:Kt.R0.IconAndText,balloonDirection:ce.O.TopRight,hideDropdownWhenFollowing:!0,onFollow:i.props.trackAction,onUnfollow:i.props.trackAction}))))},i.isNotFollowingCheck=function(){var e;return!(!i.props.followerMode||null!==(e=null===(e=null===(e=i.props.data)||void 0===e?void 0:e.user)||void 0===e?void 0:e.self)&&void 0!==e&&e.follower&&null!==i.props.data.user.self.follower.disableNotifications&&!(i.props.followSecondsRemaining&&0<i.props.followSecondsRemaining)||(i.updateModifierTray(),0))},i}var Zt,ei=(0,p.qC)((0,ot.WA)(function(n){return{clearTray:function(){return n((0,st.Rv)())},setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray,inputTray:e.inputTray,modifierTray:e.inputModifierTray}}),(0,M.TA)(De,{options:function(e){return{variables:{login:e.channelLogin}}}}))(Pn),De=(Zt=b.Component,(0,S.__extends)(ni,Zt),ni.prototype.componentDidMount=function(){this.manageSlowModeTray()},ni.prototype.componentDidUpdate=function(){this.manageSlowModeTray()},ni.prototype.render=function(){return null},ni);function ni(){var d=null!==Zt&&Zt.apply(this,arguments)||this;return d.state={},d.manageSlowModeTray=function(){var e=d.props,n=e.activeInputTray,t=e.inputModifierTray,i=e.inputTray,a=e.slowMode,r=e.slowModeDuration,o=e.slowModeSecondsRemaining,s=e.emoteOnlyMode,e=(null==n?void 0:n.type)===$n.v4.SlowModeBanner||(null==n?void 0:n.type)===$n.v4.SlowModeInfo,n=(0,D.wv)("Slow Mode","SlowModeTray"),r=(0,D.wv)("{slowModeDuration, plural, one {Users may send messages every # second.} other {Users may send messages every # seconds.}}",{slowModeDuration:r},"SlowModeTray"),l={header:b.createElement(rt.F,{icon:b.createElement(qt.X,null)},n),body:b.createElement(Vt.f,null,r),type:$n.v4.SlowModeInfo},r={header:b.createElement(rt.F,{icon:b.createElement(qt.X,{persistent:!0}),hideCloseButton:!0},b.createElement(_.V,{bold:!0,color:E.Il.Alt2},n)),persistent:!0,onClick:function(){d.props.setModifierTray(l)},type:$n.v4.SlowModeBanner},n=d.props.chatRestrictedReasons.some(function(e){return e!==L.D5M.SLOW_MODE});!a||t||i||n?e&&t&&(!a||i||n||a&&0===o&&s)&&d.props.clearModifierTray():d.props.setModifierTray(r)},d}var ti,ii=(0,p.qC)((0,ot.WA)(function(n){return{setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{activeInputTray:e.activeInputTray,inputModifierTray:e.inputModifierTray,inputTray:e.inputTray}}))(De),Pn=i(767916),ai=i(502866),ri=k.P.wrap(function(){return i.e(32623).then(i.bind(i,745943))},"SubscribeButton"),De=(ti=b.Component,(0,S.__extends)(oi,ti),oi.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotSubbedCheck,onMessageSent:function(){return null}},Ht),this.manageSubsOnlyModeTray()},oi.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(Ht)},oi.prototype.componentDidUpdate=function(){this.manageSubsOnlyModeTray()},oi.prototype.render=function(){return null},oi.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null)},this.trayTitle),body:this.renderTrayBody(),timeout:3e4,type:$n.v4.SubsOnlyInfo};this.props.setModifierTray(e)},oi);function oi(){var t=null!==ti&&ti.apply(this,arguments)||this;return t.trayTitle=(0,D.wv)("Subscribers Only Chat","ChatModeHeader"),t.renderTrayBody=function(){var e=(0,D.wv)("Only {streamer}'s subscribers can chat right now. Subscribe and join in!",{streamer:t.props.channelDisplayName||t.props.channelLogin},"ChatModeHeader");return b.createElement(w.A,{className:"chat-restriction-tray__body"},b.createElement(_.V,null,e),b.createElement(w.A,{display:E.sS.Flex,fullWidth:!0,justifyContent:E.uM.End,padding:{top:.5,bottom:.5,right:.5},className:"chat-restriction-tray__button"},b.createElement(w.A,{onClick:t.props.trackAction},b.createElement(ri,{balloonDirection:ce.O.TopRight,channelLogin:t.props.channelLogin,subLocation:ai.cZ.ChatTray,hideDropdownArrow:!0,forceIcon:!0}))))},t.isNotSubbedCheck=function(){var e;return!(!t.props.subsOnlyMode||null!==(e=null===(e=t.props.data)||void 0===e?void 0:e.user)&&void 0!==e&&e.self&&(t.props.data.user.self.subscriptionBenefit||(t.updateModifierTray(),0)))},t.manageSubsOnlyModeTray=function(){var e,n;t.props.subsOnlyMode&&!t.props.tray&&(e={header:b.createElement(rt.F,{icon:b.createElement(qt.X,null)},t.trayTitle),body:t.renderTrayBody(),type:$n.v4.SubsOnlyInfo},n={header:b.createElement(rt.F,{icon:b.createElement(qt.X,{persistent:!0}),hideCloseButton:!0},b.createElement(_.V,{bold:!0,color:E.Il.Alt2},t.trayTitle)),persistent:!0,onClick:function(){t.props.setModifierTray(e)},type:$n.v4.SubsOnlyBanner},t.props.setModifierTray(n)),(!t.props.subsOnlyMode&&t.props.tray&&(t.props.tray.type===$n.v4.SubsOnlyInfo||t.props.tray.type===$n.v4.SubsOnlyBanner)||t.props.subsOnlyMode&&t.props.inputTray&&t.props.modifierTray)&&t.props.clearModifierTray()},t}var si,li=(0,p.qC)((0,ot.WA)(function(n){return{clearTray:function(){return n((0,st.Rv)())},setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray,inputTray:e.inputTray,modifierTray:e.inputModifierTray}}),(0,M.TA)(Pn,{options:function(e){return{variables:{login:e.channelLogin}}}}))(De),Pn=i(115412),De=(si=b.Component,(0,S.__extends)(di,si),di.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotVerifiedCheck,onMessageSent:function(){return null}},Gt),this.manageVerifiedOnlyTray()},di.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(Gt)},di.prototype.componentDidUpdate=function(){this.manageVerifiedOnlyTray()},di.prototype.render=function(){return null},di.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null)},this.trayTitle),body:this.renderTrayBody(),timeout:3e4,type:$n.v4.VerifiedOnlyModeInfo};this.props.setModifierTray(e)},di);function di(){var t=null!==si&&si.apply(this,arguments)||this;return t.trayTitle=(0,D.wv)("Verified Accounts Only Chat","ChatModeHeader"),t.isNotVerifiedCheck=function(){return!(!t.props.verifiedOnlyMode||!t.props.data||!t.props.data.currentUser||t.props.data.currentUser.isEmailVerified||(t.updateModifierTray(),0))},t.renderTrayBody=function(){var e=(0,D.wv)("Verify your account in Settings to chat!","ChatModeHeader");return b.createElement(w.A,null,b.createElement(_.V,null,e),b.createElement(w.A,{padding:{right:.5,top:.5},className:"subs-only-tray-sub-button"},b.createElement(N.zx,{onClick:t.props.trackAction,linkTo:"/settings/security",targetBlank:!0},(0,D.wv)("Go to Settings","ChatModeHeader"))))},t.manageVerifiedOnlyTray=function(){var e,n;t.props.verifiedOnlyMode&&!t.props.tray&&(e={header:b.createElement(rt.F,{icon:b.createElement(qt.X,null)},t.trayTitle),body:t.renderTrayBody(),type:$n.v4.VerifiedOnlyModeInfo},n={header:b.createElement(rt.F,{icon:b.createElement(qt.X,{persistent:!0}),hideCloseButton:!0},b.createElement(_.V,{bold:!0,color:E.Il.Alt2},t.trayTitle)),persistent:!0,onClick:function(){t.props.setModifierTray(e)},type:$n.v4.VerifiedOnlyModeBanner},t.props.setModifierTray(n)),t.props.verifiedOnlyMode||!t.props.tray||!t.props.modifierTray||t.props.tray.type!==$n.v4.VerifiedOnlyModeInfo&&t.props.tray.type!==$n.v4.VerifiedOnlyModeBanner||t.props.clearModifierTray()},t}var ui,ci=(0,p.qC)((0,ot.WA)(function(n){return{clearTray:function(){return n((0,st.Rv)())},setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray,modifierTray:e.inputModifierTray}}),(0,M.TA)(Pn))(De),mi=k.P.wrap(function(){return i.e(97148).then(i.bind(i,792671))},"MobilePhoneVerificationTrayManager");(Pn=ui=ui||{})[Pn.RequiresPhoneVerification=0]="RequiresPhoneVerification",Pn[Pn.NoRestriction=1]="NoRestriction",Pn[Pn.EmoteOnlyMode=2]="EmoteOnlyMode",Pn[Pn.SlowMode=3]="SlowMode",Pn[Pn.SubsOnlyMode=4]="SubsOnlyMode",Pn[Pn.FollowerOnlyMode=5]="FollowerOnlyMode",Pn[Pn.VerifiedOnlyMode=6]="VerifiedOnlyMode";var pi,De=(pi=b.Component,(0,S.__extends)(hi,pi),hi.prototype.componentDidMount=function(){this.setTray(),this.trackImpression()},hi.prototype.componentDidUpdate=function(e){this.shouldUpdate(e,this.props)&&this.setTray(),this.areRestrictionsEqual(e,this.props)||this.trackImpression()},hi.prototype.render=function(){var e;switch(this.state.trayState){case ui.RequiresPhoneVerification:return b.createElement(mi,{chatRestrictedReasons:this.props.chatRestrictions,userID:this.props.userID,onVerifyCompleted:null===(e=this.props.chatRestrictionsAPI)||void 0===e?void 0:e.refetchRestrictions,trackAction:this.makeActionTracker(L.D5M.REQUIRE_VERIFIED_PHONE_NUMBER)});case ui.VerifiedOnlyMode:return b.createElement(ci,{verifiedOnlyMode:this.isVerifiedOnlyMode(this.props.chatRestrictions),registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck,trackAction:this.makeActionTracker(L.D5M.VERIFIED_ONLY)});case ui.SubsOnlyMode:return b.createElement(li,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelId:this.props.channelID,subsOnlyMode:this.props.subsOnlyMode,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck,trackAction:this.makeActionTracker(L.D5M.SUBSCRIBERS_ONLY)});case ui.FollowerOnlyMode:return b.createElement(ei,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelId:this.props.channelID,followerMode:this.props.followerMode,followerDurationSeconds:this.props.followerDurationSeconds,followSecondsRemaining:this.props.followSecondsRemaining,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck,trackAction:this.makeActionTracker(L.D5M.FOLLOWERS_ONLY)});case ui.SlowMode:return b.createElement(ii,{emoteOnlyMode:this.props.emoteOnlyMode,slowMode:this.props.slowMode,slowModeDuration:this.props.slowModeDuration,slowModeSecondsRemaining:this.props.slowModeSecondsRemaining,chatRestrictedReasons:this.props.chatRestrictions});case ui.EmoteOnlyMode:return b.createElement(Qt,{emotes:this.props.emotes,hasChatRestriction:0<this.props.chatRestrictions.length,emoteOnlyMode:this.props.emoteOnlyMode,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck});default:return null}},hi.prototype.areRestrictionsEqual=function(e,n){return(0,xt.p2)(e.chatRestrictions.slice(),n.chatRestrictions.slice())},hi.prototype.shouldUpdate=function(e,n){return!this.areRestrictionsEqual(e,n)||e.slowMode!==n.slowMode||e.emoteOnlyMode!==n.emoteOnlyMode||e.subsOnlyMode!==n.subsOnlyMode||e.followerMode!==n.followerMode},hi.prototype.setTray=function(){if(this.firstRelevantReason!==L.D5M.REQUIRE_VERIFIED_PHONE_NUMBER)return this.firstRelevantReason===L.D5M.VERIFIED_ONLY?(this.setState({trayState:ui.VerifiedOnlyMode}),this.props.unregisterSendMessageErrorCheck(Ht),void this.props.unregisterSendMessageErrorCheck(Wt)):this.firstRelevantReason===L.D5M.SUBSCRIBERS_ONLY?(this.setState({trayState:ui.SubsOnlyMode}),this.props.unregisterSendMessageErrorCheck(Gt),void this.props.unregisterSendMessageErrorCheck(Wt)):this.firstRelevantReason===L.D5M.FOLLOWERS_ONLY?(this.setState({trayState:ui.FollowerOnlyMode}),this.props.unregisterSendMessageErrorCheck(Gt),void this.props.unregisterSendMessageErrorCheck(Ht)):this.firstRelevantReason!==L.D5M.SLOW_MODE?this.props.emoteOnlyMode&&!this.props.slowModeSecondsRemaining?(this.setState({trayState:ui.EmoteOnlyMode}),this.props.unregisterSendMessageErrorCheck(Gt),this.props.unregisterSendMessageErrorCheck(Ht),void this.props.unregisterSendMessageErrorCheck(Wt)):void(this.props.slowMode?this.setState({trayState:ui.SlowMode}):(this.setState({trayState:ui.NoRestriction}),this.props.unregisterSendMessageErrorCheck(Gt),this.props.unregisterSendMessageErrorCheck(Ht),this.props.unregisterSendMessageErrorCheck(Wt))):void this.setState({trayState:ui.SlowMode});this.setState({trayState:ui.RequiresPhoneVerification})},hi.prototype.isVerifiedOnlyMode=function(e){return e&&e.includes(L.D5M.VERIFIED_ONLY)},Object.defineProperty(hi.prototype,"firstRelevantReason",{get:function(){for(var e=0,n=this.props.chatRestrictions;e<n.length;e++){var t=n[e];if(!this.props.ignoredRestrictions||!this.props.ignoredRestrictions.has(t))return t}return null},enumerable:!0,configurable:!0}),hi);function hi(){var n=null!==pi&&pi.apply(this,arguments)||this;return n.state={trayState:ui.NoRestriction},n.makeActionTracker=function(e){return function(){n.props.channelID&&function(e){var n;switch(e.restriction){case L.D5M.SUBSCRIBERS_ONLY:n="subscribe";break;case L.D5M.VERIFIED_ONLY:n="go_to_settings";break;case L.D5M.FOLLOWERS_ONLY:n="follow";break;case L.D5M.REQUIRE_VERIFIED_PHONE_NUMBER:n="phone_verification";break;default:return}e={action_type:n,channel:e.channelLogin,channel_id:e.channelID},D.UO.track(Ce.N.ChatInputRestrictedAction,e)}({channelID:n.props.channelID,channelLogin:n.props.channelLogin,restriction:e})}},n.trackImpression=function(){n.firstRelevantReason&&n.props.channelID&&function(e){var n;switch(e.restriction){case L.D5M.SUBSCRIBERS_ONLY:n="subscriber_mode";break;case L.D5M.VERIFIED_ONLY:n="verified_mode";break;case L.D5M.FOLLOWERS_ONLY:n=e.requiredDuration?"follow_mode_timer":"follow_mode";break;case L.D5M.REQUIRE_VERIFIED_PHONE_NUMBER:n="phone_verification";break;default:return}var t={channel:e.channelLogin,channel_id:e.channelID,impression_type:n};D.UO.track(Ce.N.ChatInputRestrictedImpression,t)}({channelID:n.props.channelID,channelLogin:n.props.channelLogin,restriction:n.firstRelevantReason,requiredDuration:n.props.followerDurationSeconds})},n}var gi,fi=(0,p.qC)(je.nl,(0,Ln.LI)(function(e){return{emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode,followerMode:e.followerMode,followerDurationSeconds:60*e.followerDuration}}))(De),vi=i(333946),Pn=(gi=b.Component,(0,S.__extends)(yi,gi),yi.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isDuplicatedMessage,onMessageSent:this.onMessageSent},this.key)},yi.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},yi.prototype.componentDidUpdate=function(){this.condenseWhitespace(this.props.inputValue)!==this.state.lastSentMessage&&this.clearDupMessageModifierTray()},yi.prototype.render=function(){return null},yi.prototype.condenseWhitespace=function(e){return e.replace(/\s+/g," ").trim()},yi.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null)},(0,D.wv)("Message Not Sent","DuplicatedMessageErrorTray")),body:b.createElement(Vt.f,null,(0,vi.h)()),disableChat:!0,timeout:3e4,type:$n.v4.DuplicatedMessageError};this.props.setModifierTray(e)},yi);function yi(){var n=null!==gi&&gi.apply(this,arguments)||this;return n.state={lastSentMessage:"",lastSentTimestamp:Date.now()},n.key="duplicated-messages",n.isDuplicatedMessage=function(e){return n.condenseWhitespace(e)===n.state.lastSentMessage&&Date.now()-n.state.lastSentTimestamp<3e4&&(n.updateModifierTray(),!0)},n.onMessageSent=function(e){n.setState({lastSentMessage:n.condenseWhitespace(e),lastSentTimestamp:Date.now()})},n.clearDupMessageModifierTray=function(){n.props.tray&&n.props.tray.type===$n.v4.DuplicatedMessageError&&n.props.clearModifierTray()},n}var ki=(0,p.qC)((0,ot.WA)(function(n){return{setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray}}))(Pn),Si=i(882429),Ci=i(206507),bi=i(202912),wi=i(268748);function Ei(){return(0,D.wv)("OK","EmbeddedChatConfirmModal")}function _i(){return(0,D.wv)("Deny","EmbeddedChatConfirmModal")}var Ni,Di=(0,se.$j)(null,function(e){return(0,p.DE)({closeModal:ke.Mr},e)})(function(e){var n=e.displayName,t=e.message,i=e.channelLogin,a=e.setEmbedDecision;return b.createElement(Si.A,{size:Si.C.Medium},b.createElement(Ci.x,{title:(0,D.wv)("Are you sure?","EmbeddedChatConfirmModal"),closeButton:{"aria-label":(0,D.wv)("Close modal","EmbeddedChatConfirmModal"),onClick:e.closeModal}}),b.createElement(bi.f,null,b.createElement(_.V,null,(0,D.wv)('Hi {displayName}. You are attempting to send "{message}" in {channelLogin}\'s chat via an embedded version of Twitch Chat. Are you sure you want to do this? This setting will persist until you refresh the page.',{displayName:n,message:t,channelLogin:i},"EmbeddedChatConfirmModal"))),b.createElement(wi.m,{primaryButtonProps:{"aria-label":Ei(),children:Ei(),onClick:function(){a(!0),e.closeModal()}},secondaryButtonProps:{"aria-label":_i(),children:_i(),onClick:function(){a(!1),e.closeModal()}},padding:{x:3,bottom:2}}))}),De=(Ni=b.Component,(0,S.__extends)(Mi,Ni),Mi.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isSendingMessageTooFast,onMessageSent:this.onMessageSent},this.key)},Mi.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},Mi.prototype.render=function(){return null},Mi.prototype.updateModifierTray=function(){var e={header:b.createElement(rt.F,{icon:b.createElement(lt.b,null)},(0,D.wv)("Message Not Sent","MessageThroughputErrorTray")),body:b.createElement(Vt.f,null,(0,D.wv)("You are sending messages too quickly.","MessageThroughputErrorTray")),timeout:3e4,type:$n.v4.MessageThroughputError};this.props.setModifierTray(e)},Mi);function Mi(){var t=null!==Ni&&Ni.apply(this,arguments)||this;return t.state={lastSentTimestamp:null},t.key="message-throughput",t.isSendingMessageTooFast=function(e){if(null===t.state.lastSentTimestamp)return!1;var n=t.state.lastSentTimestamp||0;return Date.now()-n<1e3&&(t.updateModifierTray(),!0)},t.onMessageSent=function(e){t.setState({lastSentTimestamp:Date.now()})},t}var Ii,Ti=(0,p.qC)((0,ot.WA)(function(n){return{setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{tray:e.activeInputTray}}))(De),Pi=i(916713),Ri=i(102931);(Pn=Ii=Ii||{}).CURRENT_USER_TIMED_OUT_TEXT_SELECTOR="current-user-timed-out-text",Pn.CURRENT_USER_TIMED_OUT_REASON_TEXT_SELECTOR="current-user-timed-out-reason-text";var Ai,Li=(Ai=b.Component,(0,S.__extends)(Fi,Ai),Fi.prototype.render=function(){var e=Math.floor(this.props.timeoutExpiry/1e3),e=b.createElement(Ri.d,{timeToCountDownFromSeconds:e,onCompletion:this.props.refetchTimeoutState});return b.createElement(w.A,{padding:{bottom:2,x:2}},b.createElement(w.A,{padding:{bottom:1,x:2},borderTop:!0}),b.createElement(w.A,{textAlign:E.PH.Center},b.createElement(_.V,{color:E.Il.Base,"data-test-selector":Ii.CURRENT_USER_TIMED_OUT_TEXT_SELECTOR,bold:!0},(0,D.wv)("You are currently timed out from Chat.","ChatInput")),b.createElement(_.V,{color:E.Il.Alt2},(0,D.wv)("You can chat again in {countDown}.",{countDown:e},"ChatInput"))),b.createElement(w.A,{padding:{top:2,x:0}},this.props.reason&&b.createElement(w.A,{"data-test-selector":Ii.CURRENT_USER_TIMED_OUT_REASON_TEXT_SELECTOR},b.createElement(w.A,{className:"timed-out-from-chat-input__timeout-reason-header"},b.createElement(Pi.h,null,(0,D.wv)("REASON FROM CHANNEL MODS","ChatInput"))),b.createElement(w.A,{className:"timed-out-from-chat-input__timeout-reason",padding:{left:.5},margin:{top:.5}},this.props.reason))),this.props.renderButtonContainer(!0,null))},Fi),De=i(796682);function Fi(e){return Ai.call(this,e)||this}function Ui(e){return!(!e||!0!==e.isPermanent)}function xi(e){return!(!e||!1!==e.isPermanent)}var Oi=i(117090),Bi=((Pn={})[Oi.h5.Small]=18,Pn[Oi.h5.Default]=19.5,Pn[Oi.h5.Bigger]=21,Pn[Oi.h5.Biggest]=27,Pn);function Vi(e){return"/"===e.substr(0,1)&&"/me"!==e.substr(0,3)||"."===e.substr(0,1)&&".me"!==e.substr(0,3)}function qi(e){return 0<e.length}var Gi,Hi=/\s+/,Wi="chat-input",zi="pending_chat_message",$i=/\S/,ji=k.P.wrap(function(){return i.e(31677).then(i.bind(i,276587))},"ChatPrivateCalloutQueue",{placeholder:null}),Yi=k.P.wrap(function(){return i.e(73348).then(i.bind(i,112540))},"EmotePickerMenu",{placeholder:null}),Qi=k.P.wrap(function(){return Promise.all([i.e(54736),i.e(54142)]).then(i.bind(i,522994))},"RewardCenter",{placeholder:null}),Ji=k.P.wrap(function(){return i.e(63476).then(i.bind(i,711823))},"ChatBadgeCarousel",{placeholder:null}),Pn=(Gi=b.Component,(0,S.__extends)(Ki,Gi),Object.defineProperty(Ki.prototype,"bypassDisable",{get:function(){return Vi(this.state.value)||qi(this.state.messageCheers)},enumerable:!0,configurable:!0}),Object.defineProperty(Ki.prototype,"bypassRestrictionDisable",{get:function(){var n=this.props.activeTray;return!(null==n||!n.ignoredRestrictions||this.state.chatRestrictedReasons.find(function(e){return!n.ignoredRestrictions.has(e)}))},enumerable:!0,configurable:!0}),Object.defineProperty(Ki.prototype,"ignoreSlowMode",{get:function(){var e;return null===(e=null===(e=this.props.activeTray)||void 0===e?void 0:e.ignoredRestrictions)||void 0===e?void 0:e.has(L.D5M.SLOW_MODE)},enumerable:!0,configurable:!0}),Ki.prototype.componentDidMount=function(){this.getPendingMessage()&&this.restorePendingMessage(),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.updateTrayValues()},Ki.prototype.componentDidUpdate=function(e){this.props.forceSendCheer&&this.onMessageSend(Qn.zz.Click),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)),this.updateTrayValues(e)},Ki.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},Ki.prototype.render=function(){var e=this.getUserBanStatus(),n=xi(e),t=Ui(e);if(n)return b.createElement(Li,{timeoutExpiry:(o=0,o=xi(u=e)&&null!=u&&u.expiresInMs?u.expiresInMs:o),reason:null==e?void 0:e.reason,renderButtonContainer:this.renderButtonContainer,refetchTimeoutState:this.refetchTimeoutState});if(this.state.hasSeenAndRejectedEmbedPrompt)return b.createElement(w.A,{className:"chat-input",display:this.props.hidden?E.sS.Hide:E.sS.Block,padding:{x:2,bottom:2}},b.createElement(_.V,{"data-test-selector":"chat-embed-denied-text"},(0,D.wv)("You rejected the prompt to send messages in this embedded version of Twitch Chat. If this was done in error, please refresh the page.","ChatInput")),this.renderButtonContainer(!0,null));var i=[];!this.props.enableBitsInput||!this.props.bitsEnabled||null!==(l=this.props.activeTray)&&void 0!==l&&l.disableBits||i.push(b.createElement(Le,{buttonDisabled:t,key:"bits",onClick:this.onBitsIconClick,channelID:this.props.channelID})),this.state.showEmotePickerButton&&i.push(b.createElement(tt.Y,{key:"emote-picker",onClick:this.onEmotePickerButtonClick,buttonDisabled:t,isActive:this.props.isShowingEmotePicker}));var a=null;(this.props.isEmotePickerLoaded||this.state.hasInteracted)&&(a=b.createElement(Yi,{channelOwnerID:this.props.channelID,emotePickerSource:it.VT.Chat,onClickClose:this.onEmotePickerToggle,onClickToken:this.onClickToken,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.onEmotePickerToggle,visible:this.props.isShowingEmotePicker&&!this.props.isShowingChatRules,size:ue.Kn.Auto,direction:ce.O.TopRight,hasMenuOpened:this.props.hasOpenedEmotePicker}));var r=b.createElement(Re,{priority:z.T.Later});!this.props.firstPageLoaded&&!this.state.hasInteracted||!this.props.enableBitsInput||!this.props.bitsEnabled||null!==(d=this.props.activeTray)&&void 0!==d&&d.disableBits||(0,ht.Ny)(this.props.activeTray)||(r=b.createElement(c,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,trackingID:this.state.bitsTrackingId,checkoutID:this.state.bitsCheckoutId,currentCheers:this.state.messageCheers,isSending:this.state.isSendingBits,isStaff:this.props.isStaff,isAnonymous:this.state.isAnonymousCheer,onCancelSend:this.cancelDelayedSend,onClickCheermote:this.onClickToken,onClickImageCheer:this.onClickImageCheer,onConfirmSend:this.confirmDelayedSend,onUserClose:this.onBitsClose,trackBitsCardInteraction:this.trackBitsCardInteraction,visible:!!this.props.bitsCardOpen&&!this.props.isShowingChatRules,cheerMessageAutoModded:this.props.isTextInputDisabled,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.state.value,onCheerInvalid:this.onCheerInvalid,onAnonymousToggle:this.onAnonymousCheerToggle}));n=null;null!==(u=this.props.activeTray)&&void 0!==u&&u.disableCommands||(n=b.createElement(vn,{isCurrentUserEditor:this.props.isCurrentUserEditor,permissionLevel:this.props.commandPermissionLevel}));var o=null;this.props.moderatedMessageParts&&0<this.props.moderatedMessageParts.length&&(o=b.createElement(Hn,{moderatedReason:this.props.moderatedReason,moderatedMessageParts:this.props.moderatedMessageParts}));var s,e=null;this.state.chatRestrictedReasons[0]!==L.D5M.SLOW_MODE||this.ignoreSlowMode||(s=(0,ge.LU)(this.state.slowModeSecondsRemaining,ge.$0.HumanizedShort),e=(0,D.wv)("You can chat in {duration}",{duration:s},"ChatInput"));var l=this.disableChatConditions(),d=m({"chat-input__textarea":!0,"chat-input__textarea--error":(0,ht.WX)(this.props.activeTray)||(0,ht.Br)(this.props.activeTray)}),u=void 0,u=(null===(s=this.props.activeTray)||void 0===s?void 0:s.type)===$n.v4.ShareResub?255:500,u=b.createElement(w.A,{className:d},b.createElement(At,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors,setInputValue:this.onMessageValueUpdate,setReplyToList:this.setReplyToList,clearReplyToList:this.clearReplyToList,closeKeyboardReplyTray:this.closeKeyboardReplyTray,closeCard:this.closeBitsCard,componentRefDelegate:this.setLocalChatInputRef,componentType:Ee.Kc.TextAreaComponent,containerElement:this.props.containerElement,"data-a-target":Wi,"data-test-selector":Wi,disabled:this.state.isSendingBits||this.props.isTextInputDisabled||this.props.isShowingChatRules||t,htmlAutocomplete:"twitch-chat",maxLength:u,noResize:!0,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,onValueUpdate:this.onMessageValueUpdate,paddingLeft:this.props.data&&this.props.data.currentUser&&(0,Xn.R)(this.props.inputSource)?38:0,paddingRight:30*i.length+5,placeholder:this.getSendMessagePlaceholder(),refDelegate:this.setLocalAutocompleteInputRef,rows:this.state.numInputRows,suggestionSource:_e.p.Chat,setTray:this.props.setTray,setModifierTray:this.props.setModifierTray,clearModifierTray:this.props.clearModifierTray,tray:this.props.activeTray},b.createElement(Ne.O,{emotes:this.props.emotes}),b.createElement(Rn,{channelID:this.props.channelID,currentUserLogin:this.props.currentUserLogin,showReplyPrompt:(null===(u=this.props.tray)||void 0===u?void 0:u.type)!==$n.v4.Reply}),n),this.props.channelID&&0!==this.props.badgeSets.count&&(0,Xn.R)(this.props.inputSource)&&b.createElement(w.A,{className:"chat-input__badge-carousel",position:E.Ly.Absolute,attachLeft:!0,attachTop:!0},b.createElement(Ji,{authToken:this.props.authToken,broadcasterID:this.props.channelID,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,containerElement:this.props.containerElement,darkModeEnabled:this.props.darkModeEnabled,inputSource:this.props.inputSource,onChatCommand:this.onChatCommand,canSubscribe:this.props.canSubscribe})),b.createElement(w.A,{position:E.Ly.Absolute,attachRight:!0,attachBottom:!0},b.createElement(w.A,{className:"chat-input__input-icons"},i)),this.renderSlowModeProgressBar()),u=b.createElement(Ft,null,u),n=b.createElement(ji,{authToken:this.props.authToken,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,emoteTokenMap:this.props.emoteMap,onPushMessage:this.props.onPushMessage,trackChatEvent:this.trackChatEvent}),i=[];return i.push(b.createElement(ct,{key:"char-limit-handler",inputValue:this.state.value,maxLength:500})),this.props.isCurrentUserModerator||this.props.isCurrentUserVIP||(i.push(b.createElement(ki,{key:"dupe-message-handler",inputValue:this.state.value,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),i.push(b.createElement(Ti,{key:"throughput-handler",registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}))),b.createElement(w.A,{className:"chat-input",display:this.props.hidden?E.sS.Hide:E.sS.Block,padding:{x:1,bottom:1}},this.props.isShowingChatRules&&this.renderChatRules(),o,this.props.isPrivateCalloutsLoaded&&n,i,b.createElement(fi,{userID:null===(i=null===(i=this.props.data)||void 0===i?void 0:i.currentUser)||void 0===i?void 0:i.id,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,emoteOnlyMode:this.props.emoteOnlyMode,chatRestrictions:this.state.chatRestrictedReasons,ignoredRestrictions:null===(i=this.props.activeTray)||void 0===i?void 0:i.ignoredRestrictions,slowModeSecondsRemaining:this.state.slowModeSecondsRemaining,followSecondsRemaining:this.state.followSecondsRemaining,emotes:this.props.emotes,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}),b.createElement(me.c,{onClickOut:this.onClickOut},b.createElement(f.o,{display:this.props.moderatedMessageParts?E.sS.Hide:E.sS.Block,position:E.Ly.Relative,zIndex:E.KN.Default},b.createElement("div",{onMouseEnter:this.onMouseEnterInput},a,r,u)),this.renderButtonContainer(l,e)))},Ki.prototype.updateTrayValues=function(e){var n=this.props,t=n.tray,i=n.modifierTray;!(e=void 0===e?{}:e).tray&&t?(this.setSnapshot(this.state.value),null===(n=this.autocompleteInputRef)||void 0===n||n.setValue(t.inputValue||""),null===(n=this.chatInputRef)||void 0===n||n.focus()):e.tray&&!t&&(null===(t=this.autocompleteInputRef)||void 0===t||t.setValue(this.chatInputValueSnapshot),this.setSnapshot(""),null===(t=this.chatInputRef)||void 0===t||t.focus()),!e.modifierTray&&null!=i&&i.inputValue&&(null===(e=this.autocompleteInputRef)||void 0===e||e.setValue(i.inputValue))},Ki.prototype.advanceReplyTray=function(e,n){this.state.replyToList&&((e?this.state.replyToList.setEarlier():this.state.replyToList.setLater())?wt(this.state.replyToList,{setTray:this.props.setTray,setInputValue:this.onMessageValueUpdate,clearReplyToList:this.clearReplyToList,closeKeyboardReplyTray:this.closeKeyboardReplyTray,badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors}):null==n||n())},Ki.prototype.sendRegularMessage=function(e){if(this.props.onSendMessage){var n=(0,Xe.lY)(this.state.value);if(n&&!D.tO.get(zn,!1)&&!this.props.hideOnboardingPrompts)return this.props.setBitsCardOpenState(!1),this.setState({imageID:void 0}),this.trackChatEvent(this.props.emotePickerSessionID,e),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),void this.props.openRaidUpsellFromHost(n.recipientLogin);if(!this.props.isCurrentUserModerator&&!this.props.isCurrentUserVIP&&!Vi(this.state.value)){for(var t=0,i=Object.keys(this.sendMessageErrorChecks);t<i.length;t++){var a=i[t];if(this.sendMessageErrorChecks[a].check(this.state.value))return}for(var r=0,o=Object.keys(this.sendMessageErrorChecks);r<o.length;r++)a=o[r],this.sendMessageErrorChecks[a].onMessageSent(this.state.value)}var s=this.props.activeTray;this.props.onSendMessage(this.state.value,null===(n=null==s?void 0:s.sendMessageHandler)||void 0===n?void 0:n.additionalMetadata)&&(this.trackChatEvent(this.props.emotePickerSessionID,e),this.trackMentions(),(null===(e=null==s?void 0:s.sendMessageHandler)||void 0===e?void 0:e.type)===$n.DB.Chat&&s.sendMessageHandler.onSuccess&&s.sendMessageHandler.onSuccess(this.state.value,s.sendMessageHandler.params),s&&this.props.clearTray(),this.clearReplyToList(),null===(s=this.autocompleteInputRef)||void 0===s||s.setValue(""),this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),this.props.clearMenus(),this.props.setBitsCardOpenState(!1))}},Ki.prototype.handleLogin=function(){var e={onComplete:this.storePendingMessage,targetChannel:this.props.channelDisplayName,showContext:!0};this.props.login(e)},Ki.prototype.trackMentions=function(){if(this.state.value&&this.props.sessionUser)for(var e,n=0,t=(0,fe.SG)(this.state.value,{mentions:{senderLogin:this.props.sessionUser.login,sessionUser:this.props.sessionUser}});n<t.length;n++){var i=t[n];i.type===Yn.S.Mention&&i.content.currentUserMentionRelation!==jn.K.Recipient&&(i={channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,mentionedUserDisplayName:i.content.recipient,userLogin:this.props.sessionUser.login,isReply:(null===(e=this.props.activeTray)||void 0===e?void 0:e.type)===$n.v4.Reply},e=(0,S.__assign)((0,S.__assign)({},(0,nt.A3)(i)),{mentioned_user_display_name:i.mentionedUserDisplayName,user:i.userLogin,is_reply:i.isReply}),D.UO.track(Ce.N.ChatMentionUsed,e))}else D.kg.warn("[ChatInput] trackMentions was called in a nonsensical state.")},Ki.prototype.getPendingMessage=function(){return D.tO.get(zi,"")},Ki.prototype.clearPendingMessage=function(){D.tO.set(zi,"")},Ki.prototype.restorePendingMessage=function(){var e=this.getPendingMessage();e&&this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.clearPendingMessage())},Ki.prototype.getSendMessagePlaceholder=function(){var e=Ui(this.getUserBanStatus()),n=(null===(t=this.props.activeTray)||void 0===t?void 0:t.type)===$n.v4.Reply,t=n?(0,D.wv)("Send a reply","ChatInput"):(0,D.wv)("Send a message","ChatInput");return this.state.replyToList&&(t="@"+this.state.replyToList.getCurrentMessage().user.userDisplayName),e&&(t=(0,D.wv)("You've been banned from Chat","ChatInput")),t=this.props.slowMode&&!this.isSlowModeBannerEnabled?n?(0,D.wv)("Send a reply (chat is in slow mode)","ChatInput"):(0,D.wv)("Send a message (chat is in slow mode)","ChatInput"):t},Ki);function Ki(e){var o=Gi.call(this,e)||this;return o.cancelDelayedSend=null,o.confirmDelayedSend=null,o.hasAllowedInEmbed=!1,o.hasSeenConfirmationPrompt=!1,o.chatInputValueSnapshot="",o.sendMessageErrorChecks={},o.isSlowModeBannerEnabled=(0,he.t)("chat_slow_mode_banner"),o.onAcceptChatRules=function(){o.props.closeChatRules(),setTimeout(function(){var e;null===(e=o.chatInputRef)||void 0===e||e.focus()},0)},o.renderChatRules=function(){var e;if(null!==(e=o.props.data)&&void 0!==e&&e.channel&&o.props.chatRules)return b.createElement(Dn,{channelDisplayName:o.props.data.channel.displayName,channelProfileImageUrl:o.props.data.channel.profileImageURL,channelLogin:o.props.channelLogin,channelID:o.props.channelID,chatRules:o.props.chatRules,onCloseChatRules:o.props.closeChatRules,onAcceptChatRules:o.onAcceptChatRules})},o.renderButtonContainer=function(e,n){void 0===e&&(e=!1);var t=Ui(o.getUserBanStatus());return b.createElement(w.A,{className:"chat-input__buttons-container","data-test-selector":"chat-input-buttons-container",display:o.props.hideChatInputButtons?E.sS.Hide:E.sS.Flex,justifyContent:E.uM.Between,margin:{top:1}},b.createElement(w.A,{display:E.sS.Flex,flexDirection:E.Qb.Row},b.createElement(w.A,{position:E.Ly.Relative,zIndex:E.KN.Default},o.props.isRewardCenterLoaded&&b.createElement(Qi,{buttonDisabled:t}))),b.createElement(w.A,{display:E.sS.Flex,alignItems:E.g1.Center,alignContent:E.tk.Center,flexDirection:E.Qb.Row},b.createElement(w.A,{margin:{right:1}},b.createElement(_.V,{color:E.Il.Alt2},n)),o.props.isCurrentUserModerator&&o.props.showModViewIngress&&b.createElement(Mn,{channelLogin:o.props.channelLogin}),b.createElement(w.A,{position:E.Ly.Relative},!o.props.hideChatSettings&&b.createElement(nn.$j,{channelID:o.props.channelID,channelLogin:o.props.channelLogin,isCurrentUserModerator:o.props.isCurrentUserModerator},b.createElement(un,{onShowChatRules:o.props.onShowChatRules,channelDisplayName:o.props.channelDisplayName,channelLogin:o.props.channelLogin,isHostMode:o.props.isHostMode,authToken:o.props.authToken,isCurrentUserModerator:o.props.isCurrentUserModerator,onChatCommand:o.onChatCommand,isPopout:o.props.isPopout,isEmbedded:o.props.isEmbedded,channelID:o.props.channelID,containerElement:o.props.containerElement}))),b.createElement(w.A,{margin:{left:.5}},b.createElement(Ut,{disabled:e||o.state.isSendingBits||o.props.isTextInputDisabled,inputText:o.state.value,onClick:o.onMessageSend,sendButtonOverride:null===(e=o.props.activeTray)||void 0===e?void 0:e.sendButtonOverride}))))},o.refetchTimeoutState=function(){return(0,S.__awaiter)(o,void 0,void 0,function(){return(0,S.__generator)(this,function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}})})},o.renderSlowModeProgressBar=function(){if(o.state.chatRestrictedReasons[0]!==L.D5M.SLOW_MODE||o.ignoreSlowMode)return null;var e=o.state.slowModeSecondsRemaining/o.props.slowModeDuration*100;return b.createElement(w.A,{position:E.Ly.Absolute,attachBottom:!0,fullWidth:!0},b.createElement(le.ko,{borderRadius:de.c.Small,size:le.Kv.Small,value:e,mask:!0}))},o.setLocalChatInputRef=function(e){o.chatInputRef=e,o.props.setChatInputRef(e)},o.setLocalAutocompleteInputRef=function(e){o.autocompleteInputRef=e,o.props.setAutocompleteInputRef(e)},o.onCheerInvalid=function(e){o.state.bitsCardError!==e&&(o.setState({bitsCardError:e}),e&&o.trackBitsCardInteraction(xe.OL.UserViewingCheerError,{bitsCardError:e}))},o.onSendCheerWhenSendDisabled=function(){o.trackBitsCardInteraction(xe.OL.SendInvalidCheerAttemptButtonDisabled,{bitsCardError:o.state.bitsCardError})},o.onAnonymousCheerToggle=function(e){o.setState({isAnonymousCheer:e})},o.onKeyDown=function(e){var n,t=e.charCode||e.keyCode;switch(o.props.bitsSendHasError&&o.props.clearBitsSendError(),t){case pe.m.Enter:return void(e.shiftKey||(e.preventDefault(),o.onMessageSend(Qn.zz.Enter)));case pe.m.Up:if((0,_n.C)(o.props.channelID)!==_n.E.Control&&!e.repeat&&e.altKey)if(e.preventDefault(),o.closeReplyByKeyboardCallout(),(null===(i=o.props.activeTray)||void 0===i?void 0:i.type)===$n.v4.Reply)o.advanceReplyTray(!0);else{var i=function(){for(var e=0,n=o.state.value.trim().split(Hi);e<n.length;e++){var t=n[e];if("@"===t.substring(0,1)&&1<t.length)return t}return null}();if(!i)return;var i=(0,Zn.i)(i.trim());if(i===o.props.currentUserDisplayName)return;i=wn(i,null===(i=o.props.messageBufferAPI)||void 0===i?void 0:i.getMessages());if(!i||0===i.length)return;i=new Jn(i);o.setReplyToList(i),wt(i,{setTray:o.props.setTray,setInputValue:o.onMessageValueUpdate,clearReplyToList:o.clearReplyToList,closeKeyboardReplyTray:o.closeKeyboardReplyTray,badgeSets:o.props.badgeSets,channelID:o.props.channelID,channelLogin:o.props.channelLogin,currentUserDisplayName:o.props.currentUserDisplayName,currentUserLogin:o.props.currentUserLogin,currentUserID:o.props.currentUserID,isCurrentUserModerator:o.props.isCurrentUserModerator,isCurrentUserStaff:o.props.isStaff,showModerationIcons:o.props.showModerationIcons,showTimestamps:o.props.showTimestamps,useHighContrastColors:o.props.useHighContrastColors})}return;case pe.m.Down:return void((0,_n.C)(o.props.channelID)!==_n.E.Control&&!e.repeat&&e.altKey&&(e.preventDefault(),(null===(n=o.props.activeTray)||void 0===n?void 0:n.type)===$n.v4.Reply&&o.advanceReplyTray(!1,o.closeKeyboardReplyTray)));case pe.m.Esc:return o.props.clearMenus(),o.props.bitsCardOpen&&(o.props.setBitsCardOpenState(!1),o.setState({imageID:void 0})),void((null===(n=o.props.tray)||void 0===n?void 0:n.type)===$n.v4.Reply&&o.closeKeyboardReplyTray());default:return}},o.closeReplyByKeyboardCallout=function(){o.props.clearCalloutType(Ve.S.ReplyByKeyboard),D.tO.set(Oe.FR,!0)},o.closeKeyboardReplyTray=function(){var e;o.state.replyToList&&(e=o.state.replyToList.getCurrentMessage(),o.setSnapshot("@"+e.user.userDisplayName)),o.clearReplyToList(),o.props.clearTray()},o.onMessageValueUpdate=function(e){o.resizeInput(e),o.updateCheerState(e),o.setState({value:e})},o.updateCheerState=function(e){var n,t;e===o.state.value||!o.props.bitsEnabled||null!==(n=o.props.activeTray)&&void 0!==n&&n.disableBits||Vi(e)||((0,Fe.ff)(e,o.props.bitsConfig,!(t=[])).forEach(function(e){e.type===Yn.S.Emote&&(t.push(e.content),e.content.alt&&(0,Fe.kG)(e.content.alt)&&o.setState({isAnonymousCheer:!0}))}),t.length&&o.props.isShowingEmotePicker&&o.props.closeEmotePicker(),!qi(o.state.messageCheers)&&t.length&&1<=t.length&&!o.props.bitsCardOpen&&!o.props.showEmotePicker&&o.trackBitsCardInteraction(xe.OL.OpenCardViaCheering),o.setState({messageCheers:(0,Fe.i5)(t,o.props.bitsConfig)}))},o.resizeInput=function(e){e?o.chatInputRef&&(e=o.props.fontSizePreference,e=Bi[e],e=Math.ceil((o.chatInputRef.scrollHeight-(+e+20))/e),e=Math.min(1+e,5),o.setState({numInputRows:e})):o.setState({numInputRows:1})},o.onInputFocus=function(){o.props.onInputFocus&&o.props.onInputFocus(),o.setState({hasInteracted:!0})},o.onMouseEnterInput=function(){o.setState({hasInteracted:!0})},o.onChatCommand=function(e){o.props.onChatCommand(e),o.trackChatEvent(o.props.emotePickerSessionID,Qn.zz.Click)},o.confirmEmbedAction=function(n){o.props.sessionUser&&o.props.showModal(Di,{displayName:o.props.sessionUser.displayName,message:o.state.value||"",channelLogin:o.props.channelLogin,setEmbedDecision:function(e){return o.setEmbedDecision(e,n)}})},o.setEmbedDecision=function(e,n){o.hasSeenConfirmationPrompt=!0,o.hasAllowedInEmbed=e,o.setState({hasSeenAndRejectedEmbedPrompt:!e}),e&&o.onMessageSend(n)},o.hasHandledChatRestrictions=function(){return o.state.chatRestrictedReasons.includes(L.D5M.FOLLOWERS_ONLY)||o.state.chatRestrictedReasons.includes(L.D5M.SUBSCRIBERS_ONLY)||o.state.chatRestrictedReasons.includes(L.D5M.VERIFIED_ONLY)},o.onMessageSend=function(u){return(0,S.__awaiter)(o,void 0,void 0,function(){var n,t,i,a,r,o,s,l,d=this;return(0,S.__generator)(this,function(e){switch(e.label){case 0:if(!this.bypassDisable){if(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length&&!this.hasHandledChatRestrictions())return this.props.setBitsCardOpenState(!1),[2];if(this.disableChatConditions())return[2]}if(!this.props.authToken)return this.handleLogin(),[2];if(!this.props.channelID)return D.kg.warn("[ChatInput] Attempt to send a message before channel ID"),[2];if(null===(a=this.props.activeTray)||void 0===a||!a.sendMessageHandler)return[3,8];switch(this.closeBitsCard(),this.props.clearMenus(),(n=this.props.activeTray.sendMessageHandler).type){case $n.DB.Custom:return[3,1];case $n.DB.ShareResub:return[3,4]}return[3,7];case 1:return n.handleMessage?[4,n.handleMessage(this.state.value,n.params)]:[3,3];case 2:e.sent()?n.onSuccess&&n.onSuccess(this.state.value,n.params):n.onError&&n.onError(this.state.value,n.params),e.label=3;case 3:return[2];case 4:return n.handleMessage?(n.params=n.params||{},[4,n.handleMessage(this.state.value,n.params)]):[3,6];case 5:e.sent()?n.onSuccess&&n.onSuccess(this.state.value,n.params):n.onError&&n.onError(this.state.value,n.params),e.label=6;case 6:return this.props.clearTray(),[2];case 7:e.label=8;case 8:if(!(a=$i.test(this.state.value)))return D.kg.debug("[ChatInput] Supressing chat message send. Input failed to pass validation.",{hasSendableInput:a,value:this.state.value}),[2];if(this.state.isSendingBits)return D.kg.debug("[ChatInput] Supressing chat message send. Bits spending is still in progress."),[2];if(this.props.isEmbedded&&(this.props.isCurrentUserModerator||null!==(r=null===(r=this.props.data)||void 0===r?void 0:r.currentUser)&&void 0!==r&&r.isPartner)){if(!this.hasSeenConfirmationPrompt)return this.confirmEmbedAction(u),[2];if(!this.hasAllowedInEmbed)return[2]}return this.resetAndUpdateRenderSentChatMessageEvent(),this.state.value.split(/\s+/).forEach(function(e){d.props.emoteMap&&d.props.emoteMap.hasOwnProperty(e)&&(0,at.nx)(d.props.emoteMap[e])}),!this.props.data||!this.props.data.currentUser||Vi(this.state.value)?(this.sendRegularMessage(u),[2]):(t=(0,Ue.j7)(this.state.messageCheers),i=(0,ye.GW)(),0===t.total?(this.sendRegularMessage(u),this.state.messageCheers.length&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.ZeroBits),[2]):this.props.data.channel?this.props.data.channel.cheer?this.props.data.channel.cheer.settings?null!==(r=this.props.activeTray)&&void 0!==r&&r.disableBits?(D.kg.warn("[Chat Input] Bits are disabled due to an input tray."),[2]):this.props.bitsConfig?(this.state.bitsCardError&&(this.onSendCheerWhenSendDisabled(),this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.BitsCardDisabled)),(o=(0,Ue.ri)({messageBits:t,balance:this.props.data.currentUser.bitsBalance||0,cheerMinimumBits:this.props.data.channel.cheer.settings.cheerMinimumBits,emoteMinimumBits:this.props.data.channel.cheer.settings.emoteMinimumBits,inputValue:this.state.value,bitsConfig:this.props.bitsConfig})).canSpend?this.props.sendCheer?(this.setState({isSendingBits:!0}),t.total>=O.SY&&(0,O.RJ)(this.props.channelID)===O.Vq.None?[4,new Promise(function(n){function e(e){void 0===e&&(e=!1),clearTimeout(t),d.cancelDelayedSend=null,d.confirmDelayedSend=null,n(e)}var t=setTimeout(n,O.BJ.UNDO_PROMPT_DURATION);d.cancelDelayedSend=function(){return e(!0)},d.confirmDelayedSend=function(){return e(!1)}})]:[3,10]):(D.kg.warn("[Chat Input] No GraphQL mutation for sending cheers attached."),[2]):(D.kg.warn("[Chat Input] Spending bits forbidden.",o),o.cheerAboveMaxBitsPerEmote&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.AboveMaxEmote),o.totalAboveBalance&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.BitsUnavailable),o.totalBelowCheerMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.BelowMin),o.totalBelowEmoteMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.BelowMinEmote),o.inputLongerThanMaxBitsMessage&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.InputAboveMaxLength),o.inputStartsWithCommand&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.InputCommandStart),o.cheerContainsInvalidDisplayOnlyCheermotes&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.InvalidBitsMessage),[2])):(D.kg.warn("[Chat Input] Bits Config is undefined"),this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.MissingBitsConfig),[2]):(D.kg.warn("[Chat Input] Cheer Settings are undefined."),[2]):(D.kg.warn("[Chat Input] Cheer is null."),[2]):(D.kg.warn("[Chat Input] User is null."),[2]));case 9:if(e.sent())return this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.Canceled),this.setState({isSendingBits:!1}),null===(o=this.chatInputRef)||void 0===o||o.focus(),[2];e.label=10;case 10:return e.trys.push([10,12,,13]),s={id:i,targetID:this.props.channelID,bits:t.total,content:this.state.value,isAutoModEnabled:!0,shouldCheerAnyway:this.props.forceSendCheer,isAnonymous:this.state.isAnonymousCheer,imageID:this.state.imageID||null},this.props.clearBitsSendError(),[4,this.props.sendCheer({variables:{input:s}})];case 11:return(s=e.sent()).data.sendCheer&&s.data.sendCheer.validationError?(this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,s.data.sendCheer.validationError),this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,(0,et.n7)(s.data.sendCheer.validationError.code)),this.props.setBitsCardOpenState(!1),this.setState({isSendingBits:!1,bitsCardError:s.data.sendCheer.validationError.code}),this.props.clearMenus(),null===(s=this.chatInputRef)||void 0===s||s.focus(),[2]):[3,13];case 12:return e.sent(),this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,{code:L.vqW.UNKNOWN}),this.trackCheerErrorEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer,Qn.Z6.Unknown),this.setState({isSendingBits:!1,bitsCardError:L.vqW.UNKNOWN}),null===(l=this.chatInputRef)||void 0===l||l.focus(),[2];case 13:return this.props.onSendCheerSuccess(),this.trackCheerEvent(this.props.emotePickerSessionID,t.total,this.state.value,i,this.state.isAnonymousCheer),this.props.setBitsCardOpenState(!1),this.setState({isSendingBits:!1,bitsCardError:void 0,imageID:void 0}),this.props.clearMenus(),null===(l=this.chatInputRef)||void 0===l||l.focus(),null===(l=this.autocompleteInputRef)||void 0===l||l.setValue(""),[2]}})})},o.onEmotePickerToggle=function(){o.props.isShowingEmotePicker?o.props.closeEmotePicker():(o.props.clearMenus(),o.props.showEmotePicker())},o.onEmotePickerButtonClick=function(){var e;D.UO.track(Ce.N.EmotePickerButtonClick,{user_id:null===(e=o.props.data)||void 0===e?void 0:e.currentUser,channel_id:o.props.channelID}),o.onEmotePickerToggle()},o.onClickOut=function(){o.props.closeEmotePicker(),o.props.setBitsCardOpenState(!1),o.setState({imageID:void 0})},o.onBitsIconClick=function(){o.props.bitsCardOpen?(o.props.setBitsCardOpenState(!1),o.trackBitsCardInteraction(xe.OL.CloseCard),o.setState({imageID:void 0})):(o.props.setBitsCardOpenState(!0),o.trackBitsCardInteraction(xe.OL.OpenCard)),o.props.isShowingEmotePicker&&o.props.closeEmotePicker()},o.onBitsClose=function(){o.props.bitsCardOpen&&o.closeBitsCard(),o.trackBitsCardInteraction(xe.OL.CloseCard)},o.closeBitsCard=function(){o.props.setBitsCardOpenState(!1),o.setState({imageID:void 0}),o.props.clearMenus()},o.onClickToken=function(e){o.autocompleteInputRef&&o.autocompleteInputRef.setValue((0,Kn.A)(o.state.value,e))},o.onClickImageCheer=function(e){o.setState({imageID:e})},o.onEmotePickerDataLoaded=function(e){e&&o.setState({showEmotePickerButton:!0})},o.trackChatEvent=function(e,n,t){var i=(null===(a=o.props.activeTray)||void 0===a?void 0:a.type)===$n.v4.Reply,a=i&&void 0!==o.state.replyToList;(0,et.iH)({channelID:o.props.channelID||"",channelLogin:o.props.channelLogin,emotePickerSessionID:e,isHostMode:o.props.isHostMode,player:o.props.isPopout?Qn.iv.Embed:Qn.iv.Web,subOnlyMode:o.props.subsOnlyMode,viewerContext:o.props.viewerContext,sendAction:n,isKeyboardShortcutUsed:a,isReply:i,chantID:t})},o.trackCheerEvent=function(e,n,t,i,a){(0,et.I4)({channelID:o.props.channelID||"",channelLogin:o.props.channelLogin,emotePickerSessionID:e,isAnonymousCheer:a,isHostMode:o.props.isHostMode,player:o.props.isPopout?Qn.iv.Embed:Qn.iv.Web,subOnlyMode:o.props.subsOnlyMode,viewerContext:o.props.viewerContext,bitsValue:n,cheermote:t,transactionID:i})},o.trackCheerErrorEvent=function(e,n,t,i,a,r){(0,et.Bs)({channelID:o.props.channelID||"",channelLogin:o.props.channelLogin,emotePickerSessionID:e,isHostMode:o.props.isHostMode,isAnonymousCheer:a,player:o.props.isPopout?Qn.iv.Embed:Qn.iv.Web,subOnlyMode:o.props.subsOnlyMode,viewerContext:o.props.viewerContext,bitsValue:n,cheermote:t,transactionID:i,errorType:r})},o.trackBitsCardInteraction=function(t,n){o.setState(function(e){var n;switch(t){case xe.OL.BuyMain:n=(0,ye.GW)();break;case xe.OL.CloseCard:case xe.OL.CloseBuy:n=void 0;break;default:n=e.bitsCheckoutId}return{bitsTrackingId:t===xe.OL.OpenCard||t===xe.OL.OpenCardViaCheering?(0,ye.GW)():e.bitsTrackingId,bitsCheckoutId:n}},function(){var e={actionName:t,actionType:n&&n.actionType,trackingId:o.state.bitsTrackingId,checkoutId:o.state.bitsCheckoutId,emoteType:n&&n.emoteType,emoteLevel:n&&n.emoteLevel,location:n&&n.location,displayedBalance:o.props.data&&o.props.data.currentUser&&o.props.data.currentUser.bitsBalance||0,bitsCardError:n&&n.bitsCardError,channelId:o.props.data&&o.props.data.channel&&o.props.data.channel.id||"",userId:o.props.data&&o.props.data.currentUser&&o.props.data.currentUser.id||""};(0,xe.CA)(e)})},o.resetAndUpdateRenderSentChatMessageEvent=function(){o.props.latencyTracking.resetCustomEvents(be.zO.Chat);var e=o.props.latencyTracking.registerCustomEvent({benchmark:400,group:be.zO.Chat,key:be.zU.ChatRenderSent,label:be.fF.RenderSent,start:be.Yo.Registration});o.props.updateRenderSentChatMessageEvent(e)},o.getUserBanStatus=function(){var e;return(null===(e=null===(e=null===(e=o.props.data)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.banStatus)||null},o.onRestrictionsUpdate=function(){var e,n=[],t=0,i=0;!o.props.chatRestrictionsAPI||(e=o.props.chatRestrictionsAPI.getRestrictions())&&0<e.length&&(n=e,t=o.props.chatRestrictionsAPI.getRemainingSlowModeSeconds(),i=o.props.chatRestrictionsAPI.getRemainingFollowSeconds()),o.setState({chatRestrictedReasons:n,slowModeSecondsRemaining:t,followSecondsRemaining:i})},o.disableChatConditions=function(){if(o.bypassDisable)return!1;var e=Ui(o.getUserBanStatus());if(!o.bypassRestrictionDisable&&o.state.chatRestrictedReasons.length&&!o.hasHandledChatRestrictions()||o.props.chatConnectionState!==An.Tj.CONNECTED||e||null!==(n=o.props.activeTray)&&void 0!==n&&n.disableChat)return!0;var n=D.tO.get("chat_rules_shown",{});return o.props.chatRules&&!n[o.props.channelLogin]&&o.props.isShowingChatRules},o.registerSendMessageErrorCheck=function(e,n){o.sendMessageErrorChecks[n]||(o.sendMessageErrorChecks[n]=e)},o.unregisterSendMessageErrorCheck=function(e){o.sendMessageErrorChecks[e]&&delete o.sendMessageErrorChecks[e]},o.setReplyToList=function(e){o.setState({replyToList:e})},o.clearReplyToList=function(){o.setState({replyToList:void 0})},o.setSnapshot=function(e){o.chatInputValueSnapshot=e},o.storePendingMessage=function(){D.tO.set(zi,o.state.value)},o.state={hasInteracted:!1,hasSeenAndRejectedEmbedPrompt:!1,numInputRows:1,isSendingBits:!1,messageCheers:[],showBuyBits:!1,showEmotePickerButton:!!e.authToken,value:"",chatRestrictedReasons:[],slowModeSecondsRemaining:0,followSecondsRemaining:0,isAnonymousCheer:!1,bitsTrackingId:(0,ye.GW)(),imageID:void 0},o}function Xi(e){var n;return n=e.isPausedByHover?(0,D.wv)("Chat paused due to mouseover.","ChatList"):e.isPausedByKey?(n=kn.U.os.isMacOS()?"option":"Alt",(0,D.wv)("Chat paused with the {pauseKey} key.",{pauseKey:n},"ChatList")):(0,D.wv)("Chat paused due to scroll.","ChatList"),b.createElement(w.A,{attachBottom:!0,background:E.Aq.Overlay,borderRadius:de.c.Medium,className:"chat-paused-footer",margin:{bottom:1},position:E.Ly.Absolute},b.createElement(N.zx,{"data-a-target":"chat-list-footer",onClick:e.onClick,overlay:!0,type:N.L$.Text},n))}var Zi=(0,p.qC)((0,M.TA)(De,{name:"sendCheer"}),(0,M.TA)(pn,{skip:function(e){return!e.firstPageLoaded}}),function(a){return function(e){var n=(0,W.D)(ji.getLoader(),z.T.Soon),t=(0,W.D)(Yi.getLoader(),z.T.Later),i=(0,W.D)(Qi.getLoader(),z.T.Soon);return b.createElement(a,(0,S.__assign)({},e,{isPrivateCalloutsLoaded:n,isEmotePickerLoaded:t,isRewardCenterLoaded:i}))}},je.nl,Cn.F_,(0,dn.W)("ChatInput",{autoReportInteractive:!0}),(0,se.$j)(function(e){return{emotePickerSessionID:e.chat.emotePickerSessionID,fontSizePreference:e.chat.fontSizePreference,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps,sessionUser:(0,we.PR)(e)}},function(e){return(0,p.DE)({login:function(e){return(0,Se.x4)(ve.sB.Chat,e)},updateRenderSentChatMessageEvent:ze.Cs,showModal:ke.K4},e)}),(0,Ln.LI)(function(e){return{canSubscribe:e.canSubscribe,emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}}),(0,$e.Aq)(function(e){return{showModViewIngress:e.showModViewIngress,hideChatSettings:e.hideChatSettings,hideOnboardingPrompts:e.hideOnboardingPrompts,hideChatInputButtons:e.hideChatInputButtons}}),(0,ot.WA)(function(n){return{setTray:function(e){return n((0,st.aT)(e))},clearTray:function(){return n((0,st.Rv)())},setModifierTray:function(e){return n((0,st.PH)(e))},clearModifierTray:function(){return n((0,st.zB)())}}}),(0,ot.WY)(function(e){return{activeTray:e.activeInputTray,modifierTray:e.inputModifierTray,tray:e.inputTray}}),(0,gn.LA)(function(e){return{setAutocompleteInputRef:e.setAutocompleteInputRef,setChatInputRef:e.setChatInputRef}}),(0,n.PQ)(function(e){return e}),(0,An.EB)(function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}}),(0,Ye.SZ)(function(e){return{closeChatRules:e.closeChatRules,closeEmotePicker:e.closeEmotePicker,hasOpenedEmotePicker:e.hasOpenedEmotePicker,isShowingChatRules:e.isShowingChatRules,isShowingEmotePicker:e.isShowingEmotePicker,showChatRules:e.showChatRules,showEmotePicker:e.showEmotePicker,clearMenus:e.clearMenus}}),(0,H.gc)(function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled,bitsCardOpen:e.bitsCardOpen,setBitsCardOpenState:e.setBitsCardOpenState}}),(0,Bn.PZ)(function(e){return{useHighContrastColors:e.value}}),(0,rn.R2)(function(e){return{inputSource:e.page}}),(0,Be.Sf)(function(n){return{clearCalloutType:function(e){return n.clearCalloutType(e)}}}))(Pn),rn=i(270961),Be=i(617063),ea=i(349039),na=i(498409),ta=i(763565),ia=i(805831),aa=i(581248),ra=i(142441),oa=(i(623956),i(985522)),sa=i(392271),la=i(19205);Xi.displayName="ChatPausedFooter";var da,ua=["scroll","wheel","mousewheel","DOMMouseScroll"];(da=da||{}).MessageContainer="chat-scrollable-area__message-container";var ca,ma,pa,ha=(pa=b.Component,(0,S.__extends)(ya,pa),ya.prototype.componentDidMount=function(){var t=this;ra.bindGlobal("alt",this.keyboardPause,"keydown"),ra.bindGlobal("alt",this.keyboardResume,"keyup"),ua.forEach(function(e){var n;null!==(n=t.scrollRef)&&void 0!==n&&n.scrollContent&&t.scrollRef.scrollContent.addEventListener(e,t.handleScrollEvent,{passive:!0})})},ya.prototype.componentWillUnmount=function(){var t=this;ra.unbind("alt","keydown"),ra.unbind("alt","keyup"),ua.forEach(function(e){var n;null!==(n=t.scrollRef)&&void 0!==n&&n.scrollContent&&t.scrollRef.scrollContent.removeEventListener(e,t.handleScrollEvent)})},ya.prototype.componentDidUpdate=function(e){this.props.messagesHash===e.messagesHash||this.state.isPaused||this.scrollToBottom()},ya.prototype.render=function(){return b.createElement(f.o,{display:E.sS.Flex,flexDirection:E.Qb.Column,overflow:E.nP.Hidden,flexGrow:1},b.createElement("div",{onMouseEnter:this.hoverPause,onMouseLeave:this.hoverResume},b.createElement(oa.r,{onResize:this.handleResize}),b.createElement(sa._q,{scrollRef:this.saveScrollRef,"data-a-target":"chat-scroller"},b.createElement(w.A,{className:"chat-scrollable-area__message-container","data-test-selector":da.MessageContainer,flexGrow:1,padding:{bottom:1},role:"log"},this.props.children,this.props.hasNewerLeft&&b.createElement(la.P6,{forceLoadMoreContent:!0,loadMore:this.loadNewer,pixelThreshold:400,orientation:la.pz.Up,enabled:this.state.loadMoreEnabled,requestCap:2}))),this.state.isPaused&&b.createElement(Xi,{isPausedByHover:!!this.state.hoverResumeTimer,isPausedByKey:this.state.keyboardResumeLock,onClick:this.resume})))},ya),Pn=(ma=b.Component,(0,S.__extends)(va,ma),va.prototype.render=function(){var e=this.props,n=e.messages.map(this.mapMessageToChatLine),t=m(e.fontScaleClassName,{"chat-list--default":e.fontSizePreference===Oi.h5.Default,"chat-list--other":e.fontSizePreference!==Oi.h5.Default});return b.createElement(f.o,{className:t,display:E.sS.Flex,flexDirection:E.Qb.Column,flexGrow:1,overflow:E.nP.Hidden},b.createElement("div",{ref:e.containerRef},b.createElement(ha,{channelID:e.channelID,pauseSetting:e.chatPauseSetting,hasNewerLeft:e.hasNewerLeft,loadNewer:e.loadNewer,loadNewest:e.loadNewest,messagesHash:e.messages,mouseoverPausingDisabled:e.isShowingCommunityHighlightList,setPaused:e.setPaused},n)))},va),ga=(0,dn.W)("ChatListPresentation",{autoReportInteractive:!0})(Pn),Pn=(ca=b.Component,(0,S.__extends)(fa,ca),fa.prototype.componentDidMount=function(){var e;this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()})),null===(e=this.props.chatRestrictionsAPI)||void 0===e||e.addUpdateHandler(this.onRestrictionsUpdate)},fa.prototype.componentDidUpdate=function(e){var n,t=this.props.pubsub.messages,i=t.chatRichEmbedInfo,t=t.extensionMessage;i&&e.pubsub.messages.chatRichEmbedInfo!==i&&D.$6.apollo.client.writeQuery({query:ea,variables:{slug:i.data.twitch_metadata.clip_metadata.slug},data:{clip:(n=i.data.twitch_metadata.clip_metadata).id?{__typename:"Clip",slug:n.slug,id:n.id,url:i.data.request_url,title:i.data.title,thumbnailURL:i.data.thumbnail_url,curator:n.curator_id?{displayName:i.data.author_name,id:n.curator_id,__typename:"User"}:null,broadcaster:n.channel_display_name?{displayName:n.channel_display_name,id:n.broadcaster_id,__typename:"User"}:null}:null}}),e.messageBufferAPI!==this.props.messageBufferAPI&&(e.messageBufferAPI&&e.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(null===(n=e.chatRestrictionsAPI)||void 0===n||n.removeUpdateHandler(this.onRestrictionsUpdate),null===(n=this.props.chatRestrictionsAPI)||void 0===n||n.addUpdateHandler(this.onRestrictionsUpdate)),t&&e.pubsub.messages.extensionMessage!==t&&e.onPushMessage((t=t.data,{type:na.SJ.ExtensionMessage,id:t.id,sentAt:t.sent_at,extension:{clientID:t.sender.extension_client_id,version:t.sender.extension_version,displayName:t.sender.display_name,displayBadges:(0,ta.tv)(t.sender.badges),chatColor:t.sender.chat_color},content:{text:t.content.text,fragments:(0,ta.Qb)(t.content.fragments)}}))},fa.prototype.componentWillUnmount=function(){var e;null===(e=this.props.messageBufferAPI)||void 0===e||e.removeUpdateHandler(this.onBufferUpdate),null===(e=this.props.chatRestrictionsAPI)||void 0===e||e.removeUpdateHandler(this.onRestrictionsUpdate),this.clearBufferHandle()},fa.prototype.render=function(){return b.createElement(ga,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatPauseSetting:this.props.chatPauseSetting,chatRenderSentEvent:this.props.chatRenderSentEvent,confirmModerationAction:this.props.confirmModerationAction,containerRef:this.props.containerRef,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,deletedMessageDisplay:this.props.deletedMessageDisplay,fontScaleClassName:this.props.fontScaleClassName,fontSizePreference:this.props.fontSizePreference,hasNewerLeft:this.hasNewerLeft(),isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isEmbedded:this.props.isEmbedded,loadNewer:this.loadNewer,loadNewest:this.loadNewest,messages:this.state.messages,onPushMessage:this.props.onPushMessage,replyRestrictedReason:this.state.replyRestrictedReason,setChatPauseSetting:this.props.setChatPauseSetting,setPaused:this.props.messageBufferAPI&&this.props.messageBufferAPI.setPaused&&this.setPaused,showAutoModActions:this.props.showAutoModActions,showModerationActions:this.props.showModerationActions,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,theme:this.props.theme,useHighContrastColors:this.props.useHighContrastColors,isShowingCommunityHighlightList:this.props.isShowingCommunityHighlightList,userID:this.props.userID,primaryColorHex:this.props.primaryColorHex,repliesAppearancePreference:this.props.repliesAppearancePreference})},fa);function fa(){var n=null!==ca&&ca.apply(this,arguments)||this;return n.state={messages:[],replyRestrictedReason:null},n.onRestrictionsUpdate=function(){var e=((null===(e=n.props.chatRestrictionsAPI)||void 0===e?void 0:e.getRestrictions())||[])[0]||null;e!==L.D5M.SLOW_MODE&&n.setState({replyRestrictedReason:e})},n.onBufferUpdate=function(){n.syncBufferHandle||(n.syncBufferHandle=setTimeout(n.syncBufferedMessages,0))},n.syncBufferedMessages=function(){n.props.messageBufferAPI&&n.setState({messages:n.props.messageBufferAPI.getMessages()}),n.clearBufferHandle()},n.clearBufferHandle=function(){n.syncBufferHandle&&(clearTimeout(n.syncBufferHandle),n.syncBufferHandle=0)},n.hasNewerLeft=function(){return n.props.messageBufferAPI&&n.props.messageBufferAPI.hasNewerLeft&&n.props.messageBufferAPI.hasNewerLeft()||!1},n.setPaused=function(e){n.props.messageBufferAPI&&n.props.messageBufferAPI.setPaused&&n.props.messageBufferAPI.setPaused(e)},n.loadNewer=function(){n.props.messageBufferAPI&&n.props.messageBufferAPI.loadNewer&&n.props.messageBufferAPI.loadNewer()},n.loadNewest=function(){n.props.messageBufferAPI&&n.props.messageBufferAPI.loadNewest&&n.props.messageBufferAPI.loadNewest()},n}function va(){var t=null!==ma&&ma.apply(this,arguments)||this;return t.reportChatRenderSent=function(){t.props.chatRenderSentEvent&&t.props.latencyTracking.reportCustomEvent(t.props.chatRenderSentEvent)},t.mapMessageToChatLine=function(e,n){return b.createElement(aa.r,{badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isCurrentUserStaff,message:e,key:e.id,replyRestrictedReason:t.props.replyRestrictedReason,showAutoModActions:t.props.showAutoModActions,showModerationActions:t.props.showModerationActions,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors,deletedMessageDisplay:t.props.deletedMessageDisplay,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.userID,confirmModerationAction:t.props.confirmModerationAction,theme:t.props.theme,onRenderReportChatSent:t.reportChatRenderSent,messageIndex:n,hideBroadcasterTooltip:t.props.isWatchPartyActive,primaryColorHex:t.props.primaryColorHex,repliesAppearancePreference:t.props.repliesAppearancePreference})},t}function ya(){var a=null!==pa&&pa.apply(this,arguments)||this;return a.state={isAutoScrolling:!0,isLoadingMore:!1,isPaused:!1,loadMoreEnabled:!0,hoverResumeTimer:null,keyboardResumeLock:!1},a.isScrolledToTop=!1,a.saveScrollRef=function(e){return a.scrollRef=e},a.handleScrollEvent=function(e){var n,t,i;a.scrollRef&&a.scrollRef.scrollContent&&(0<e.which||"mousewheel"===e.type||"wheel"===e.type)&&(a.state.isPaused&&(a.clearHoverResumeTimer(),a.setKeyboardResumeLock(!1),a.setLoadMoreEnabled(!0)),i=(n=(i=a.scrollRef.scrollContent).scrollHeight)-(t=i.scrollTop)-(e=i.offsetHeight),a.state.isPaused&&i<=10&&!a.props.hasNewerLeft?a.resume():!a.state.isPaused&&10<i&&a.pause(),!a.isScrolledToTop&&0===t&&e<n&&a.props.channelID?(a.isScrolledToTop=!0,(0,et.QY)({channelID:a.props.channelID})):0!==t&&(a.isScrolledToTop=!1))},a.handleResize=function(){a.state.isPaused||a.scrollToBottom()},a.loadNewer=function(){return new Promise(function(e){a.setState({isLoadingMore:!0},function(){a.props.loadNewer(),a.setState({isLoadingMore:!1},e)})})},a.hoverPause=function(){var e=a.props,n=e.pauseSetting;e.mouseoverPausingDisabled||a.state.isPaused||n!==L.TIX.MOUSEOVER&&n!==L.TIX.MOUSEOVER_ALTKEY||(a.pause(),a.setLoadMoreEnabled(!1),a.setHoverResumeTimer())},a.hoverResume=function(){a.state.isPaused&&null!==a.state.hoverResumeTimer&&a.resume()},a.keyboardPause=function(){var e=a.props.pauseSetting;a.state.isPaused||e!==L.TIX.ALTKEY&&e!==L.TIX.MOUSEOVER_ALTKEY||(a.pause(),a.setLoadMoreEnabled(!1),a.setKeyboardResumeLock(!0))},a.keyboardResume=function(e){a.state.isPaused&&a.state.keyboardResumeLock&&(e.preventDefault(),a.resume(),a.setKeyboardResumeLock(!1))},a.pause=function(){a.setState({isPaused:!0},function(){a.props.setPaused&&a.props.setPaused(!0)})},a.resume=function(){a.props.loadNewest(),a.clearHoverResumeTimer(),a.setState({isPaused:!1},function(){a.props.setPaused&&a.props.setPaused(!1)})},a.setHoverResumeTimer=function(){null===a.state.hoverResumeTimer&&a.setState({hoverResumeTimer:setTimeout(a.resume,5e3)})},a.clearHoverResumeTimer=function(){a.state.hoverResumeTimer&&(clearTimeout(a.state.hoverResumeTimer),a.setState({hoverResumeTimer:null}))},a.setKeyboardResumeLock=function(e){a.state.keyboardResumeLock!==e&&a.setState({keyboardResumeLock:e})},a.setLoadMoreEnabled=function(e){a.state.loadMoreEnabled!==e&&a.setState({loadMoreEnabled:e})},a.scrollToBottom=function(){var e;null!==(e=a.scrollRef)&&void 0!==e&&e.scrollContent&&(a.scrollRef.scrollContent.scrollTop=a.scrollRef.scrollContent.scrollHeight)},a}var ka,Sa=(0,p.qC)((0,se.$j)(function(e){return{chatRenderSentEvent:(0,ia.wO)(e),fontSizePreference:e.chat.fontSizePreference,showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps,repliesAppearancePreference:e.chat.repliesAppearancePreference}}),(0,rn.k)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?(0,A.BP)(e.channelID):""},mapMessageTypesToProps:((rn={})[T.qU.StreamChatRoomChatRichEmbed]="chatRichEmbedInfo",rn[T.qU.StreamChatRoomExtensionMessage]="extensionMessage",rn)}]),je.nl,Cn.F_,(0,Bn.PZ)(function(e){return{useHighContrastColors:e.value}}),(0,Qe.jP)(function(e){return{deletedMessageDisplay:e.value}}),(0,Be.ho)(Be.Zm),(0,tn.T_)(function(e){return{isWatchPartyActive:e.isWatchPartyActive}}),(0,ae.ox)(function(e){return{isShowingCommunityHighlightList:e.listAllView}}),(0,Sn.M)())(Pn),Pn=(ka=b.Component,(0,S.__extends)(Ca,ka),Ca.prototype.render=function(){return this.props.hideOnboardingPrompts?null:b.createElement(b.Fragment,null,this.props.children)},Ca);function Ca(){return null!==ka&&ka.apply(this,arguments)||this}var ba,wa=(0,$e.Aq)(function(e){return{hideOnboardingPrompts:e.hideOnboardingPrompts}})(Pn),$e=i(51643);function Ea(e,n){var t=n.action?{action:n.action}:{},t=(0,S.__assign)({raid_upsell_source_id:Number(n.sourceChannelID),raid_upsell_target_id:Number(n.targetChannelID)},t);D.UO.track(e,t)}(Pn=ba=ba||{}).Host="host",Pn.Raid="raid";var _a,Na,Da={"data-test-selector":Pn.Dismiss="dismiss"},Pn=(Na=b.Component,(0,S.__extends)(Ba,Na),Ba.prototype.componentDidMount=function(){this.props.data.refetch()},Ba.prototype.componentDidUpdate=function(e){if(e.data.loading!==this.props.data.loading&&!this.props.data.loading){if(!this.channelDisplayName||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf)return this.handleSendHostMsg();e={sourceChannelID:this.props.data.sourceChannel.id,targetChannelID:this.props.data.targetChannel.id},Ea(Ce.N.RaidUpsellImpression,e),D.tO.set(zn,!0)}},Ba.prototype.render=function(){var e=this.props.data.loading,n=this.channelDisplayName;return e||!n||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf?null:b.createElement(w.A,{className:"raid-upsell-prompt",padding:1,margin:{x:2}},b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Between},b.createElement(w.A,{display:E.sS.Flex},b.createElement(w.A,{className:"raid-upsell-prompt__notification",margin:{top:.5}},b.createElement(q.W,{asset:g.e.NotificationInfo})),b.createElement(w.A,{margin:{x:1}},b.createElement(_.V,{type:U.yG.H6,bold:!0},(0,D.wv)("How about raiding {channelDisplayName}?",{channelDisplayName:n},"RaidUpsellPrompt")),b.createElement(_.V,{type:U.yG.P,color:E.Il.Alt2},(0,D.wv)("Now you can raid whenever you want instead of waiting 30 seconds.","RaidUpsellPrompt")))),b.createElement(w.A,{color:E.Il.OverlayAlt},b.createElement(h.Ei,(0,S.__assign)({},Da,{icon:g.e.Close,size:h.hp.Small,"aria-label":(0,D.wv)("Dismiss","RaidUpsellPrompt"),onClick:this.handleDismissUpsell})))),b.createElement(Ma,{onSendHostMsg:this.handleSendHostMsgFromUpsell,onSendRaidMsg:this.handleSendRaidMsg}))},Object.defineProperty(Ba.prototype,"channelDisplayName",{get:function(){var e=this.props.data.targetChannel;return e&&e.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"isViewersCountWithinRange",{get:function(){var e=this.props.data.sourceChannel,e=e&&e.stream&&e.stream.viewersCount;return e&&3<=e&&e<1e5},enumerable:!0,configurable:!0}),Object.defineProperty(Ba.prototype,"isAttemptingToHostSelf",{get:function(){return this.props.targetChannelLogin===this.props.sourceChannelLogin},enumerable:!0,configurable:!0}),Ba),Ma=function(e){return b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.End,margin:{top:1}},b.createElement(w.A,{margin:{right:1}},b.createElement(N.zx,{type:N.L$.Secondary,size:N.qE.Small,onClick:e.onSendHostMsg},b.createElement(w.A,{padding:{x:2}},(0,D.wv)("Host","RaidUpsellPrompt")))),b.createElement(w.A,null,b.createElement(N.zx,{size:N.qE.Small,onClick:e.onSendRaidMsg},b.createElement(w.A,{padding:{x:2}},(0,D.wv)("Raid","RaidUpsellPrompt")))))},Ia=(0,M.TA)($e,{options:function(e){return{variables:{targetChannelLogin:e.targetChannelLogin,sourceChannelLogin:e.sourceChannelLogin}}}})(Pn),Ta=i(255687),Pa=i(794562),Ra=i(31180),Aa=i(667346),La=i(426494),Fa=i(73732),Ua=i(190109),xa="close-viewer-card",Pn=(_a=b.Component,(0,S.__extends)(Oa,_a),Oa.prototype.componentWillUnmount=function(){this.props.hideViewerCard(),this.rafHandle&&cancelAnimationFrame(this.rafHandle),this.removeDragListeners()},Oa.prototype.componentDidUpdate=function(e){this.props.viewerCardOptions&&e.viewerCardOptions&&(this.props.viewerCardOptions.targetID===e.viewerCardOptions.targetID&&this.props.viewerCardOptions.initialTopOffset===e.viewerCardOptions.initialTopOffset||this.cardContainerRef&&(this.cardContainerRef.style.left="0px"))},Oa.prototype.render=function(){var n=this,e={"viewer-card-layer":!0,"viewer-card-layer--dragging":this.state.dragging},t={"viewer-card-layer__draggable":!0,"viewer-card-layer__draggable--dragging":this.state.dragging},i=null,a={};if(this.props.viewerCardOptions)switch(this.layerRef&&(o=this.layerRef.getBoundingClientRect(),s="on"===D.$6.experiments.getAndTrackAssignment("viewer_badge_collection")?390:240,l=Math.min(this.props.viewerCardOptions.initialTopOffset-o.top,o.height-s),a={top:Math.max(l,0)+"px"}),this.props.viewerCardOptions.viewerCardType){case Ua.BO.Extension:i=b.createElement(this.ExtensionMessageCard,{channelID:this.props.channelID,extensionID:this.props.viewerCardOptions.targetID,extensionVersion:this.props.viewerCardOptions.extensionVersion,hideMessageCard:this.props.hideViewerCard});break;case Ua.BO.Viewer:i=b.createElement(this.ViewerCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,targetLogin:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.sourceType,sourceID:this.props.viewerCardOptions.sourceID,confirmModerationAction:this.props.confirmModerationAction,hideViewerCard:this.props.hideViewerCard});break;case Ua.BO.Emote:i=b.createElement(this.EmoteCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,referrerID:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.emoteSourceType,sourceID:this.props.viewerCardOptions.sourceID,emoteID:this.props.viewerCardOptions.emoteID,emoteCode:this.props.viewerCardOptions.emoteCode,hideViewerCard:this.hideEmoteCard});break;default:i=null}var r,o,s,l,d=null;return i&&(r=(0,D.wv)("Hide","ViewerCard"),o=b.createElement(h.Ei,{icon:g.e.Close,onClick:this.onClickViewerCardCloseButton,"aria-label":r,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":xa}),s=this.props.isModerator||this.props.isOwner,l=(0,D.wv)("Popout","ViewerCard"),l=s?b.createElement(h.Ei,{icon:g.e.Popout,onClick:this.openPopout,"aria-label":l,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"popout-viewer-card"}):null,d=b.createElement(f.o,{className:m(t),position:E.Ly.Absolute,borderRadius:de.c.Medium,elevation:0},b.createElement("div",{onMouseDown:this.onDragStart,ref:function(e){n.cardContainerRef=e},style:a,"data-a-target":"viewer-card-positioner","data-test-selector":"viewer-card-positioner"},i,b.createElement(w.A,{position:E.Ly.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},b.createElement(Fa.I,null,l,o)))),this.props.viewerCardOptions.viewerCardType===Ua.BO.Emote&&(o=b.createElement(h.Ei,{icon:g.e.Close,onClick:this.hideEmoteCard,"aria-label":r,type:h.c.Secondary,"data-test-selector":xa}),d=b.createElement(f.o,{className:m(t),position:E.Ly.Absolute,borderRadius:de.c.Large},b.createElement("div",{onMouseDown:this.onDragStart,ref:function(e){n.cardContainerRef=e},style:a,"data-a-target":"viewer-card-positioner"},i,b.createElement(w.A,{position:E.Ly.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},b.createElement(Fa.I,null,o)))))),b.createElement(f.o,{className:m(e),fullHeight:!0,fullWidth:!0,position:E.Ly.Relative,zIndex:E.KN.Above},b.createElement("div",{onMouseUp:this.onDragEnd,ref:function(e){n.layerRef=e}},d))},Oa);function Oa(e){var t=_a.call(this,e)||this;return t.ViewerCard=k.P.wrap(function(){return Promise.all([i.e(54736),i.e(52132)]).then(i.bind(i,780683))},"ViewerCard",{placeholder:b.createElement(w.A,{background:E.Aq.Base,fullHeight:!0,fullWidth:!0,padding:2},b.createElement(Ta.T,{fillContent:!0})),onRendered:function(){return t.setState({viewerCardComponentLoaded:!0})}}),t.ExtensionMessageCard=k.P.wrap(function(){return i.e(79252).then(i.bind(i,670784))},"ExtensionMessageCard",{placeholder:b.createElement(w.A,{background:E.Aq.Base,fullHeight:!0,fullWidth:!0,padding:2},b.createElement(Ta.T,{fillContent:!0})),onRendered:function(){return t.setState({viewerCardComponentLoaded:!0})}}),t.EmoteCard=k.P.wrap(function(){return i.e(52459).then(i.bind(i,403730))},"EmoteCard",{placeholder:b.createElement(w.A,{fullHeight:!0,fullWidth:!0,padding:2},b.createElement(Ta.T,{fillContent:!0})),onRendered:function(){return t.setState({viewerCardComponentLoaded:!0})}}),t.onDragStart=function(e){t.cardContainerRef&&t.layerRef&&e.button===Pa.t.Left&&(window.addEventListener("mousemove",t.onDrag),window.addEventListener("mouseup",t.onDragEnd),window.addEventListener("selectstart",t.cancelSelection),t.setState({dragging:!0}),t.initCardX=t.cardContainerRef.offsetLeft,t.initCardY=t.cardContainerRef.offsetTop,t.initMouseX=e.clientX,t.initMouseY=e.clientY,(0,La.Ai)(t.getTrackingProperties()))},t.onDrag=function(e){t.nextTop=t.initCardY+e.clientY-t.initMouseY,t.nextLeft=t.initCardX+e.clientX-t.initMouseX,t.rafHandle||(t.rafHandle=requestAnimationFrame(function(){t.rafHandle=0,t.cardContainerRef&&(t.cardContainerRef.style.top=t.nextTop+"px",t.cardContainerRef.style.left=t.nextLeft+"px")}))},t.openPopout=function(){var e,n;t.props.viewerCardOptions&&(e=t.props.viewerCardOptions.targetID,n=window.open((0,Ra.e)("/popout/"+t.props.channelLogin+"/viewercard/"+e+"?popout="),"_blank","right=50,top=50,width=340,height=520,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no"),(0,La.Wy)({targetLogin:e,targetUserID:null,channelID:t.props.channelID,channelLogin:t.props.channelLogin,clickText:La.Yv.PopOut,sourceType:t.props.viewerCardOptions.viewerCardType===Ua.BO.Viewer?t.props.viewerCardOptions.sourceType:void 0}),n&&(n.focus(),t.props.hideViewerCard()))},t.onDragEnd=function(){t.removeDragListeners(),t.setState({dragging:!1})},t.removeDragListeners=function(){window.removeEventListener("mousemove",t.onDrag),window.removeEventListener("mouseup",t.onDragEnd),window.removeEventListener("selectstart",t.cancelSelection)},t.cancelSelection=function(e){e.preventDefault()},t.hideEmoteCard=function(){t.props.viewerCardOptions&&t.props.viewerCardOptions.viewerCardType===Ua.BO.Emote&&(0,Aa.f_)({emoteLocation:(0,Aa.Gv)(t.props.viewerCardOptions.emoteSourceType),emoticonID:t.props.viewerCardOptions.emoteID,chatChannel:t.props.channelLogin,chatChannelID:t.props.channelID||"",referrerUserID:t.props.viewerCardOptions.targetID,action:Aa.s8.Close,msgID:t.props.viewerCardOptions.sourceID,isLoggedIn:(0,we.jl)(D.$6.store.getState())}),t.props.hideViewerCard()},t.onClickViewerCardCloseButton=function(){t.props.hideViewerCard(t.getTrackingProperties())},t.getTrackingProperties=function(){var e;return{targetLogin:(null===(e=t.props.viewerCardOptions)||void 0===e?void 0:e.targetID)||"",channelID:t.props.channelID,channelLogin:t.props.channelLogin}},t.state={dragging:!1,viewerCardComponentLoaded:!1},t}function Ba(){var n=null!==Na&&Na.apply(this,arguments)||this;return n.handleDismissUpsell=function(){var e;e={sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id},Ea(Ce.N.RaidUpsellClick,(0,S.__assign)((0,S.__assign)({},e),{action:ba.Dismiss})),n.props.closeRaidUpsell()},n.handleSendHostMsgFromUpsell=function(){var e;e={sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id},Ea(Ce.N.RaidUpsellClick,(0,S.__assign)((0,S.__assign)({},e),{action:ba.Host})),n.handleSendHostMsg()},n.handleSendHostMsg=function(){n.props.send("/host "+n.props.targetChannelLogin),n.props.closeRaidUpsell()},n.handleSendRaidMsg=function(){var e;e={sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id},Ea(Ce.N.RaidUpsellClick,(0,S.__assign)((0,S.__assign)({},e),{action:ba.Raid})),n.props.send("/raid "+n.props.targetChannelLogin),n.props.closeRaidUpsell()},n}function Va(e){var n=(0,se.v9)(function(e){return null===(e=e.session.user)||void 0===e?void 0:e.id}),t=(n=(0,$a.aM)(tr,{skip:!e.channelID||!n,variables:{channelID:e.channelID},fetchPolicy:"cache-and-network"})).data,e=n.loading,n=n.error,i=(0,se.v9)(function(e){return(0,We.zv)(e)}),a=b.useContext(Bn.sZ).value,r=b.useMemo(function(){var e;return null!=t&&t.badges&&null!==(e=t.user)&&void 0!==e&&e.broadcastBadges&&t.user.login?new F.yW(t.badges,t.user.broadcastBadges,t.user.login):new F.yW([])},[t]);return e?b.createElement(w.A,{justifyContent:E.uM.Center,padding:{y:1},display:E.sS.Flex},b.createElement(Ta.T,null)):!(e=null===(e=null===(e=null===(e=null==t?void 0:t.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.modChatLogs)||void 0===e?void 0:e.edges)||n?b.createElement(w.A,{justifyContent:E.uM.Center,padding:{y:1},display:E.sS.Flex},b.createElement(_.V,{"data-test-selector":"chatlogs-error"},(0,D.wv)("Error loading chat logs in channel","UnbanRequestForm"))):(e=e.map(function(e){e=e.node;if(e){if("ModLogsMessage"===e.__typename){var n=e;return b.createElement(nr.v0,{channelID:null,key:n.id,badgeSets:r,hasModPermissions:!1,message:n,showTimestamps:!1,showModerationIcons:!1,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:a,theme:i})}if("AutoModCaughtMessage"===e.__typename)return b.createElement(er.w,{channelID:null,key:(n=e).id,badgeSets:r,caughtMessage:n,hideTimestamp:!0,hideDetails:!0,highContrastUsernameColor:a,theme:i})}return null}).reverse()).length?b.createElement(w.A,{borderBottom:!0,margin:{bottom:1},className:"unban-request-form__chatlogs-container",display:E.sS.Flex,flexDirection:E.Qb.Column},b.createElement(_.V,null,(0,D.wv)("Channel Mods will see the most recent messages you sent in chat along with your request:","UnbanRequestForm")),b.createElement(sa._q,{autoHide:!1},b.createElement(w.A,{"data-test-selector":"chatlogs-message-lines",padding:{y:1}},e))):null}var qa,Ga=(0,Je.Hu)(function(e){return{viewerCardOptions:e.viewerCardOptions,hideViewerCard:e.hideViewerCard}})(Pn),Ha=i(632712),Je=i(86891),Wa=(i(937251),i(947926)),za=i(302285),$a=i(106801),ja=i(226510),Ya=i(679864),Qa=i(448752),Ja=i(512882),Ka=i(166825),Xa=i(104086),Za=i(585187),er=i(469790),nr=i(180592),tr=i(297512),ir=function(n){var t=(0,se.v9)(function(e){return null===(e=e.session.user)||void 0===e?void 0:e.id}),e=b.useState(!1),i=e[0],a=e[1],r=b.useState(n.requesterMessage||""),o=r[0],s=r[1],l=b.useState(!1),e=l[0],d=l[1],r=b.useState(!1),l=r[0],u=r[1];return b.createElement(w.A,{className:"unban-request-form",display:E.sS.Flex,flexDirection:E.Qb.Column,padding:{x:.5}},b.createElement(w.A,{className:"unban-request-form__content",padding:{x:3,top:1},display:E.sS.Flex,flexDirection:E.Qb.Column},n.banReason&&b.createElement(w.A,{margin:{bottom:1},className:"unban-request-form__ban-reason-container",display:E.sS.Flex,flexDirection:E.Qb.Column},b.createElement(_.V,null,(0,D.wv)("Channel Mods gave a reason for your ban:","UnbanRequestForm")),b.createElement(sa._q,{autoHide:!1},b.createElement(w.A,{padding:{y:.5,left:1},margin:{top:.5},className:"unban-request-form__ban-reason","data-test-selector":"ban-reason"},n.banReason))),b.createElement(Va,{channelID:n.channelID}),b.createElement(Ka.cw,{label:(0,D.wv)("Enter a Reason for Your Unban","UnbanRequestForm"),errorMessage:l?(0,D.wv)("Please enter a reason.","UnbanRequestForm"):(0,Za.S4)(null===(r=null===(r=null===(r=null===(r=n.createUnbanRequestResult)||void 0===r?void 0:r.data)||void 0===r?void 0:r.createUnbanRequest)||void 0===r?void 0:r.error)||void 0===r?void 0:r.code),error:e||l},b.createElement(Xa.K,{error:l,"data-test-selector":"requester-message-input",rows:3,maxLength:500,onChange:function(e){s(e.target.value),e.target.value&&u(!1)},placeholder:(0,D.wv)("Tell the Mods why you should return to chat","UnbanRequestForm"),value:o}),b.createElement(w.A,{display:E.sS.Flex,padding:{top:.5},alignItems:E.g1.Center},b.createElement(w.A,{display:E.sS.Flex,padding:{right:.5},className:"unban-request-form__hint-icon"},b.createElement(q.W,{asset:g.e.NotificationInfo})),b.createElement(w.A,{color:E.Il.Alt2,display:E.sS.Flex,padding:{right:.5}},(0,D.wv)("You can only request an unban once, so make it count!","UnbanRequestForm"))))),b.createElement(wi.m,{padding:{y:2,x:3},primaryButtonProps:{"data-test-selector":"submit-button",children:(0,D.wv)("Submit","UnbanRequestForm"),onClick:function(){return(0,S.__awaiter)(void 0,void 0,void 0,function(){return(0,S.__generator)(this,function(e){switch(e.label){case 0:if(a(!0),d(!1),!o.trim())return u(!0),a(!1),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.onCreateUnbanRequest(o)];case 2:return e.sent(),n.onSubmit(),D.$6.tracking.track(Ce.N.UnbanRequestSubmit,{user_id:t,channel_id:n.channelID,custom_message:o}),[3,4];case 3:return e.sent(),d(!0),[3,4];case 4:return a(!1),[2]}})})},state:i?N.BN.Loading:N.BN.Default},secondaryButtonProps:{"data-test-selector":"cancel-button",children:(0,D.wv)("Cancel","UnbanRequestForm"),onClick:n.onClose},size:Si.C.Medium}))},ar=i(756058);(Pn=qa=qa||{}).UnbanModal="unban-modal",Pn.Error="unban-modal-error";function rr(d){function u(e,n,t){return{children:b.createElement(_.V,{fontSize:E.Bf.Size5,bold:!0},(0,D.wv)("Undo","UndoUnbanRequestSnackbar")),onClick:function(){return a=e,r=n,o=t,(0,S.__awaiter)(void 0,void 0,void 0,function(){var n,t,i;return(0,S.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,p({variables:{input:{id:a}}})];case 1:return n=e.sent(),i=n.data,null!=(n=n.errors)&&n.length||null!==(n=null==i?void 0:i.cancelUnbanRequest)&&void 0!==n&&n.error||null===(t=null==i?void 0:i.cancelUnbanRequest)||void 0===t||!t.unbanRequest?y(null===(i=null===(i=null==i?void 0:i.cancelUnbanRequest)||void 0===i?void 0:i.error)||void 0===i?void 0:i.code):(f((0,ke.K4)(dr,{channelID:d,requesterMessage:r,onCreateUnbanRequest:k,createUnbanRequestResult:o})),s&&l(s)),[3,3];case 2:return e.sent(),y(),[3,3];case 3:return[2]}})});var a,r,o},"aria-label":(0,D.wv)("Undo Unban Request","UndoUnbanRequestSnackbar")}}var s,e=b.useContext(pr.L8),i=e.addSnackbarToQueue,l=e.removeSnackbarFromQueue,c=(e=(0,$a.Db)(gr))[0],m=e[1],p=(0,$a.Db)(hr)[0],h=(0,$a.td)(fr,{fetchPolicy:"network-only",variables:{channelID:d,includeCanRequestUnban:!0}})[0],g=(0,$a.td)(vr,{fetchPolicy:"network-only",variables:{channelID:d}})[0],f=(0,se.I0)(),v=function(e,n,t){s=i(b.createElement(cr.B,{message:e,type:n,buttonProps:t}))},y=function(e){e!==L.nDl.INVALID_UPDATE&&v((0,Za.VO)(e),mr.u.Error)},k=function(l){return(0,S.__awaiter)(void 0,void 0,void 0,function(){var t,i,a,r,o,s;return(0,S.__generator)(this,function(e){switch(e.label){case 0:t={channelID:d,requesterMessage:l},e.label=1;case 1:return e.trys.push([1,6,,7]),[4,c({variables:{input:t}})];case 2:return a=e.sent(),i=a.data,null!=(a=a.errors)&&a.length||null!==(s=null==i?void 0:i.createUnbanRequest)&&void 0!==s&&s.error||null===(o=null==i?void 0:i.createUnbanRequest)||void 0===o||!o.unbanRequest?[2,(n=null===(s=null===(s=null==i?void 0:i.createUnbanRequest)||void 0===s?void 0:s.error)||void 0===s?void 0:s.code)===L.s2I.ALREADY_CREATED?(h(),void v((0,Za.S4)(n),mr.u.Warning)):n===L.s2I.TOO_SOON_SINCE_BAN||n===L.s2I.UNBAN_REQUESTS_DISABLED?(h(),g(),void v((0,Za.S4)(n),mr.u.Error)):Promise.reject()]:[3,3];case 3:return r=i.createUnbanRequest.unbanRequest,[4,(0,ur.rh)(fr,{channelID:d},function(e){var n;return null!==(n=null==e?void 0:e.channel)&&void 0!==n&&n.self?C(e,function(e){return e.channel.self},function(){return(0,S.__assign)((0,S.__assign)({},e.channel.self),{canRequestUnban:!1,unbanRequestRestriction:L.ZI5.ALREADY_CREATED,lastUnbanRequest:(0,S.__assign)((0,S.__assign)({},r),{resolverMessage:null})})}):e})];case 4:return e.sent(),v((0,D.wv)("Your unban request will be reviewed.","UnbanRequestForm"),mr.u.Info,u(r.id,l,m)),[2,Promise.resolve()];case 5:return[3,7];case 6:return e.sent(),[2,Promise.reject()];case 7:return[2]}var n})})};return[k,m]}function or(e){var n=e.banReason,t=e.bannedAt,i=!(null==(a=e.settings)||!a.isEnabled),e=null!==(r=null==a?void 0:a.cooldownMinutes)&&void 0!==r?r:0,a=b.createElement(h.Ei,{icon:g.e.Close,size:h.hp.Small,"aria-label":(0,D.wv)("Close","CannotRequestUnbanDetails")}),r=b.createElement(w.A,{display:E.sS.Flex,padding:1,color:E.Il.Alt2,className:"cannot-request-unban__info-stripe",background:E.Aq.Alt,"data-test-selector":Cr},b.createElement("span",null,b.createElement(q.W,{asset:g.e.NotificationInfo,height:16,width:16}),(0,D.wv)("This channel is not accepting unban requests.","CannotRequestUnbanDetails")));return b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Center,fullWidth:!0,padding:{bottom:1}},b.createElement(ja.a,{hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{strategy:"fixed",placement:"bottom"}},button:b.createElement(N.zx,{type:N.L$.Text,"data-test-selector":br},(0,D.wv)("View Details","UnbanRequestStatus")),dialog:b.createElement(ue.XU,{size:ue.Kn.Medium},b.createElement(w.A,{flexDirection:E.Qb.Column,display:E.sS.Flex,textAlign:E.PH.Left},n?b.createElement(w.A,{padding:1,"data-test-selector":kr},b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Between},b.createElement(w.A,{alignSelf:E.MT.Center},b.createElement(Pi.h,null,(0,D.wv)("Channel Mods gave a reason for your ban","CannotRequestUnbanDetails"))),a),b.createElement(w.A,{className:"cannot-request-unban__ban-reason",padding:{left:.5},margin:{top:.5}},n)):null,!!e&&i&&(t=new Date(t),e=wr(t,e),b.createElement(w.A,{padding:1,"data-test-selector":Sr},b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Between},b.createElement(w.A,{alignSelf:E.MT.Center},b.createElement(Pi.h,null,(0,D.wv)("About your ban","CannotRequestUnbanDetails"))),!n&&a),(0,D.wv)("You can request an unban at {date, time, short} on {date, date, medium}",{date:e},"CannotRequestUnbanDetails"))),!i&&r))}))}function sr(e){var n=e.channelID,t=e.currentUserID,i=e.lastUnbanRequest,a=e.refetchLastRequest,r=(0,$.P)((0,A.bE)(t,n))[0],o=(0,Er.D)(r);return b.useEffect(function(){r&&r!==o&&(i&&(null==i?void 0:i.status)===L.vyV.PENDING&&r.data.id===i.id?(0,ur.rh)(fr,{channelID:n,includeCanRequestUnban:!0},function(e){return C(e,function(e){return e.channel.self.lastUnbanRequest},function(e){return(0,S.__assign)((0,S.__assign)({},e),{status:r.data.status,resolverMessage:null!==(e=r.data.resolver_message)&&void 0!==e?e:null})})}):a())},[n,i,r,o,a]),null}var lr,dr=function(e){var n=(0,$a.aM)(ar,{variables:{channelID:e.channelID}}),t=n.data,i=n.loading,n=!(null===(n=null===(n=null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.self)||void 0===n?void 0:n.banStatus)||void 0===n||!n.isPermanent),t=(null===(t=null===(t=null===(t=null==t?void 0:t.user)||void 0===t?void 0:t.self)||void 0===t?void 0:t.banStatus)||void 0===t?void 0:t.reason)||null,a=(0,se.I0)();if(i)return b.createElement(Ta.T,null);i=b.createElement(Ci.x,{closeButton:{"aria-label":(0,D.wv)("Close","UnbanRequestFormButton"),onClick:function(){return a((0,ke.Mr)())}},size:Si.C.Medium,title:(0,D.wv)("Request Unban","UnbanRequestFormButton")});return n?b.createElement(Bn.Bk,null,b.createElement(Si.A,{size:Si.C.Medium,"data-test-selector":qa.UnbanModal},b.createElement(w.A,{className:"unban-request-modal",display:E.sS.Flex,flexDirection:E.Qb.Column},i,b.createElement(ir,{channelID:e.channelID,banReason:t,onCreateUnbanRequest:e.onCreateUnbanRequest,createUnbanRequestResult:e.createUnbanRequestResult,onSubmit:function(){a((0,ke.Mr)())},onClose:function(){return a((0,ke.Mr)())},requesterMessage:e.requesterMessage})))):b.createElement(Si.A,{size:Si.C.Medium,"data-test-selector":qa.Error},i,b.createElement(w.A,{display:E.sS.Flex,flexDirection:E.Qb.Column,padding:{x:.5}},b.createElement(bi.f,{padding:{x:3,top:1}},b.createElement(w.A,{display:E.sS.Flex},(0,D.wv)("It looks like a Moderator has already unbanned you. Click below to refresh the page and return to chat.","UnbanRequestFormError"))),b.createElement(wi.m,{padding:{y:2,x:3},primaryButtonProps:{children:(0,D.wv)("Refresh","UnbanRequestFormButton"),onClick:function(){return window.location.reload(!1)}}})))},ur=i(344689),cr=i(664576),mr=i(734179),pr=i(816218),hr=i(394169),gr=i(555654),fr=i(67206),vr=i(881401),yr=i(498949),kr="ban-reason",Sr="cooldown-info",Cr="disabled-info",br="view-details-button",wr=function(e,n){return new Date(e.getTime()+6e4*n)},Er=i(326737);(Pn=lr=lr||{}).PendingUnbanRequest="pending-unban-request",Pn.RequestUnbanLink="request-unban-link",Pn.BannedUserMessage="banned-user-message",Pn.ModNoteButton="mod-note-button-toggle",Pn.ModNoteBalloon="mod-note-balloon",Pn.ReportButton="report-mod-note",Pn.CooldownText="cooldown-text";function _r(e){var n,t=(0,Qa.G)(e.channelLogin);return null!==(n=null==e?void 0:e.unbanRequest)&&void 0!==n&&n.resolverMessage?b.createElement(w.A,{display:E.sS.Flex,justifyContent:E.uM.Center,fullWidth:!0,padding:{bottom:1}},b.createElement(ja.a,{hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{strategy:"fixed",placement:"bottom"}},button:b.createElement(N.zx,{type:N.L$.Text,"data-test-selector":lr.ModNoteButton},(0,D.wv)("View Moderator Note","UnbanRequestStatus")),dialog:b.createElement(ue.XU,{"data-test-selector":lr.ModNoteBalloon,size:ue.Kn.Medium},b.createElement(w.A,{padding:1,flexDirection:E.Qb.Column,display:E.sS.Flex,textAlign:E.PH.Left},b.createElement(w.A,{display:E.sS.Flex,padding:{bottom:1},alignItems:E.g1.Center,justifyContent:E.uM.Between},b.createElement(Pi.h,null,(0,D.wv)("From {channelName}'s Moderators",{channelName:t},"UnbanRequestStatus")),b.createElement(w.A,{display:E.sS.Flex,padding:{left:1}},b.createElement(h.Ei,{icon:g.e.Report,size:h.hp.Small,"data-test-selector":lr.ReportButton,onClick:e.onReportClick,"aria-label":(0,D.wv)("Report Moderators","DeniedUnbanRequestModNote")}),b.createElement(h.Ei,{icon:g.e.Close,size:h.hp.Small,"aria-label":(0,D.wv)("Close","UnbanRequestStatus")}))),b.createElement(_.V,{wordBreak:U.I5.BreakWord},e.unbanRequest.resolverMessage)))})):null}function Nr(n){var e=(0,se.v9)(function(e){return null===(e=e.session.user)||void 0===e?void 0:e.id}),t=(l=(0,$a.aM)(fr,{variables:{channelID:null!==(o=n.channelID)&&void 0!==o?o:"",includeCanRequestUnban:!0},skip:!n.channelID})).data,i=l.loading,a=l.refetch,r=(s=(0,$a.aM)(Ya,{variables:{channelID:null!==(f=n.channelID)&&void 0!==f?f:"",targetUserID:null!=e?e:""},skip:!e||!n.channelID})).data,o=s.loading,s=(f=(0,$a.aM)(vr,{variables:{channelID:null!==(l=n.channelID)&&void 0!==l?l:""},skip:!n.channelID})).data,l=f.loading,d=(f=rr(null!==(f=n.channelID)&&void 0!==f?f:""))[0],u=f[1],c=null===(f=null===(f=null==t?void 0:t.channel)||void 0===f?void 0:f.self)||void 0===f?void 0:f.lastUnbanRequest,m=null==c?void 0:c.status,p=null===(f=null==r?void 0:r.chatRoomBanStatus)||void 0===f?void 0:f.createdAt,h=null===(f=null===(f=null==t?void 0:t.channel)||void 0===f?void 0:f.self)||void 0===f?void 0:f.canRequestUnban,g=null===(t=null===(f=null==t?void 0:t.channel)||void 0===f?void 0:f.self)||void 0===t?void 0:t.unbanRequestRestriction,f=null===(t=null===(f=null==s?void 0:s.channel)||void 0===f?void 0:f.unbanRequestsSettings)||void 0===t?void 0:t.isEnabled,v=null!==(t=null===(t=null===(t=null==s?void 0:s.channel)||void 0===t?void 0:t.unbanRequestsSettings)||void 0===t?void 0:t.cooldownMinutes)&&void 0!==t?t:0,t=b.useMemo(function(){return g!==L.ZI5.NOT_BANNED||v?!!h:!!p},[p,h,v,g]),y=b.useMemo(function(){if(!p||!c||m===L.vyV.CANCELED)return!1;var e=new Date(c.createdAt);return new Date(p)<e},[p,c,m]),k=y&&m===L.vyV.DENIED,S=(0,se.I0)();return i||o||l?b.createElement(za.Vm,{lineCount:3}):null!==h&&p?(f=!y&&0<v&&f,f=b.createElement(w.A,{padding:{x:4,bottom:1}},b.createElement(_.V,{fontSize:E.Bf.Size6,color:E.Il.Alt2,"data-test-selector":lr.BannedUserMessage,type:U.yG.Span},(0,D.wv)("You are unable to participate in this channel's chat until a moderator unbans you.","UnbanRequestStatus")," "),f&&b.createElement(_.V,{fontSize:E.Bf.Size6,color:E.Il.Alt2,"data-test-selector":lr.CooldownText,type:U.yG.Span},(0,D.wv)("This channel allows banned users to request an unban once they have waited {cooldownPeriod}.",{cooldownPeriod:(0,yr.Wh)(v)},"UnbanRequestStatus"))),b.createElement(b.Fragment,null,!k&&f,y&&function(){if(!c||!y)return null;var e=new Date(c.createdAt);return b.createElement(w.A,{display:E.sS.Flex,fullWidth:!0,flexDirection:E.Qb.Column},b.createElement(w.A,{margin:{x:4},padding:{y:1},borderTop:!0,display:E.sS.Flex},b.createElement(_.V,{fontSize:E.Bf.Size7,color:E.Il.Alt2,bold:!0,"data-test-selector":lr.PendingUnbanRequest},k?(0,D.wv)("The unban request you made at {time} on {date} was denied.",{time:(0,D.mr)(e),date:(0,D.p6)(e,"long")},"UnbanRequestStatus"):(0,D.wv)("You made a request to be unbanned at {time} on {date}.",{time:(0,D.mr)(e),date:(0,D.p6)(e,"long")},"UnbanRequestStatus"))),k&&b.createElement(_r,{unbanRequest:c,channelLogin:n.channelLogin,onReportClick:C}))}(),t&&b.createElement(N.zx,{type:N.L$.Text,onClick:function(){n.channelID&&(S((0,ke.K4)(dr,{channelID:n.channelID,onCreateUnbanRequest:d,createUnbanRequestResult:u})),D.$6.tracking.track(Ce.N.UnbanRequestFormOpen,{user_id:e,channel_id:n.channelID}))},"data-test-selector":lr.RequestUnbanLink},(0,D.wv)("Request Unban","UnbanRequestStatus")),!t&&!y&&b.createElement(or,{bannedAt:p,banReason:null===(r=null==r?void 0:r.chatRoomBanStatus)||void 0===r?void 0:r.reason,settings:null===(s=null==s?void 0:s.channel)||void 0===s?void 0:s.unbanRequestsSettings}),e&&n.channelID&&b.createElement(sr,{channelID:n.channelID,currentUserID:e,lastUnbanRequest:c,refetchLastRequest:a}))):null;function C(){c&&n.channelID&&S((0,ke.K4)(Ja.a,{reportContext:{trackingContext:"UNBAN_REQUEST_REPORT",contentType:L.Of.UNBAN_REQUEST_REPORT,targetUserID:n.channelID,contentID:c.id,targetDisplayName:(0,D.wv)("{channelName}'s Moderator",{channelName:n.channelLogin},"UnbanRequestResolverReport")},title:(0,D.wv)("Report Moderator's Message","ReportModalWizard")}))}}var Dr,Mr,Ir=i(643724),Tr=(Mr=b.Component,(0,S.__extends)(Or,Mr),Or.prototype.render=function(){return b.createElement(pr.SA,null,b.createElement("div",{className:"banned-chat-overlay__snackbar-list-container"},b.createElement(Ir.O,{className:"banned-chat-overlay__channel-page-snackbar-list",snackbarItemClassName:"banned-chat-overlay__channel-page-snackbar-list-items",transitionType:y.x.SlideOverBottom,alignItems:E.g1.Start})),b.createElement(w.A,{display:E.sS.Flex,fullWidth:!0,fullHeight:!0,padding:{bottom:2,x:2},justifyContent:E.uM.Center,alignItems:E.g1.Center,textAlign:E.PH.Center,overflow:E.nP.Auto},b.createElement(w.A,{fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0,display:E.sS.Flex,flexDirection:E.Qb.Column,alignItems:E.g1.Center,justifyContent:E.uM.Center,flexShrink:0},b.createElement(w.A,null,b.createElement(w.A,null,b.createElement("svg",{height:48,width:48},b.createElement("circle",{className:"banned-chat-overlay__circle",r:"20",cx:"24",cy:"24"}))),b.createElement(w.A,{className:"banned-chat-overlay__halt"},b.createElement(q.W,{asset:g.e.Halt,height:48,width:48}))),b.createElement(w.A,{fullWidth:!0},b.createElement(w.A,{padding:{y:1}},b.createElement(_.V,{fontSize:E.Bf.Size5,color:E.Il.Alt2,"data-test-selector":"current-user-banned-text",bold:!0},(0,D.wv)("You are banned from Chat","ChatInput"))),b.createElement(Nr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin})))))},Or),Pr="chat-room-header-label",Rr=D.kg.withCategory("chat-room"),Ar=k.P.wrap(function(){return i.e(66774).then(i.bind(i,94230))},"AcknowledgeUnbanRequestPrompt"),Lr=k.P.wrap(function(){return Promise.all([i.e(54736),i.e(99552)]).then(i.bind(i,790954))},"ChatViewers"),Fr=k.P.wrap(function(){return i.e(75959).then(i.bind(i,747658))},"NewChatterRitual",{failSilently:!0,placeholder:null}),Ur=k.P.wrap(function(){return Promise.all([i.e(54736),i.e(99205)]).then(i.bind(i,796505))},"CommunityHighlightStackManager",{placeholder:null}),Pn=(Dr=b.Component,(0,S.__extends)(xr,Dr),xr.getDerivedStateFromProps=function(e){var n,t={};return e.data&&e.data.badges&&e.data.user&&e.data.user.broadcastBadges&&(t.badgeSets=new F.yW(e.data.badges,e.data.user.broadcastBadges,e.channelLogin)),e.data&&e.data.user&&e.data.user.self&&!e.data.user.squadStream&&e.data.user.self.displayBadges&&(n={},e.data.user.self.displayBadges.forEach(function(e){e&&(n[e.setID]=e.version)}),D.$6.tmi.client.updateChannelBadges(e.channelLogin,n,e.userBadgeDynamicData||{})),0<Object.keys(t).length?t:null},xr.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.props.onCloseChatRules()},xr.prototype.componentWillUnmount=function(){this.props.onCloseChatRules()},xr.prototype.render=function(){if(this.props.isBackground)return null;if(this.props.isHidden&&!this.props.isPopout)return b.createElement(w.A,{alignItems:E.g1.Center,borderLeft:!0,display:E.sS.Flex,flexDirection:E.Qb.Column,fullHeight:!0,fullWidth:!0,justifyContent:E.uM.Center,color:E.Il.Base,position:E.Ly.Relative},b.createElement(w.A,{margin:{bottom:1}},b.createElement(_.V,{fontSize:E.Bf.Size5},(0,D.wv)("Chat is hidden.","ChatRoom"))),b.createElement(N.zx,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button","data-test-selector":"show-chat-button"},(0,D.wv)("Show Chat","ChatRoom")));var e=this.props.bitsEnabled&&this.props.firstPageLoaded&&this.props.channelID&&b.createElement(o,{channelID:this.props.channelID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,userID:this.props.userID}),n=this.props.chatView===Ha.i.ViewerList&&b.createElement(w.A,{attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,background:E.Aq.Alt2,position:E.Ly.Absolute,zIndex:E.KN.Above},b.createElement(w.A,{padding:{y:1}},b.createElement(w.A,{position:E.Ly.Absolute,attachLeft:!0,margin:{left:1}},b.createElement(h.Ei,{icon:g.e.Close,"aria-label":(0,D.wv)("Close","ChatRoom"),onClick:this.closeViewersList,"data-test-selector":"close-viewer-list"}))),b.createElement(Lr,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,closeViewersList:this.closeViewersList,isCurrentUserBanned:this.isCurrentUserBanned(),"data-test-selector":"chat-viewers"})),t=!!this.props.authToken&&!this.props.isEmbedded,e=b.createElement(b.Fragment,null,e,this.props.channelID&&this.props.firstPageLoaded&&b.createElement(Ur,{key:this.props.channelID,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),b.createElement(Sa,{badgeSets:this.state.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,containerRef:this.setChatListElement,confirmModerationAction:this.confirmModerationAction,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isEmbedded:this.props.isEmbedded,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,onPushMessage:this.props.onPushMessage,theme:this.props.theme,userID:this.props.userID,primaryColorHex:null!==(e=null===(e=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===e?void 0:e.primaryColorHex)&&void 0!==e?e:null}),b.createElement(w.A,{className:"chat-room__notifications",position:E.Ly.Absolute,zIndex:E.KN.Above,fullWidth:!0},this.props.children),n,this.state.raidUpsellTarget&&b.createElement(wa,null,b.createElement(Ia,{send:this.props.onSendMessage,targetChannelLogin:this.state.raidUpsellTarget,sourceChannelLogin:this.props.channelLogin,closeRaidUpsell:this.closeRaidUpsell})),this.props.firstPageLoaded&&this.props.channelID&&b.createElement(Fr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,onPushMessage:this.props.onPushMessage,onSendMessage:this.props.onSendMessage}),this.state.moderatedReason===In.AUTOMOD&&b.createElement(r,{badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onBitsAutoModCheerAnyway}),this.state.moderatedReason===In.ANONYMOUS_CHEERING&&b.createElement(a,{messageParts:this.state.anonymousCheerMessageParts||[],badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onInvalidAnonymousCheerPromptCheerAnyway}));this.isCurrentUserBanned()&&this.props.chatView!==Ha.i.ViewerList&&(e=b.createElement(Tr,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}));n=m({"chat-room":!0,"chat-room__base-background":!!this.props.useBaseBackground});return b.createElement(f.o,{"data-test-selector":"chat-room-component-layout","data-a-target":this.props.theme===P.Q.Dark?"chat-theme-dark":"chat-theme-light",flexShrink:1,flexGrow:1,display:E.sS.Flex,flexDirection:E.Qb.Column,fullWidth:!0},b.createElement("section",{"data-test-selector":"chat-room-section",className:n,role:"complementary","aria-labelledby":Pr},b.createElement(v.uT,{type:y.x.Fade,duration:v.xE.Long,show:this.props.isShowingCommunityHighlightList,transitionInitialMount:!0,injectChild:!0},b.createElement(f.o,{position:E.Ly.Absolute,zIndex:E.KN.Above,className:"chat-room__overlay",fullHeight:!0,fullWidth:!0},b.createElement("div",{onClick:this.props.closeCommunityHighlightList}))),b.createElement(w.A,{display:E.sS.Flex,flexDirection:E.Qb.Column,flexWrap:E.gP.NoWrap,position:E.Ly.Relative,flexGrow:1,fullHeight:!0,color:E.Il.Base,className:"chat-room__content"},this.props.chatRoomHeader,e,!this.props.isReadOnly&&this.props.firstPageLoaded&&b.createElement(Ar,{"data-test-selector":"acknowledge-unban-request-prompt-selector",channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,chatRules:this.props.chatRules,isCurrentUserBanned:this.isCurrentUserBanned()}),!this.props.isReadOnly&&b.createElement(oe.VV,{onBadgesChanged:this.onBadgesChanged,displayBadges:this.dataBadgeToSchemaBadge()},b.createElement(Zi,{authToken:this.props.authToken,enableBitsInput:t,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,commandPermissionLevel:this.props.commandPermissionLevel,darkModeEnabled:this.props.theme===P.Q.Dark,emotes:this.props.emotes,emoteMap:this.props.emoteMap,firstPageLoaded:this.props.firstPageLoaded,hidden:this.shouldHideChatInput(),currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.userID,isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatCommand:this.props.onSendMessage,onShowChatRules:this.props.chatRules&&this.props.chatRules.length?this.props.onShowChatRules:void 0,badgeSets:this.state.badgeSets,userBadges:this.props.userBadges,showViewersList:this.props.showChatViewerList,onSendMessage:this.props.onSendMessage,onPushMessage:this.props.onPushMessage,onInputFocus:this.onChatInputFocus,containerElement:this.state.chatListElement,openRaidUpsellFromHost:this.openRaidUpsellFromHost,onSendCheerError:this.onSendCheerError,onSendCheerSuccess:this.clearCheerErrorPrompts,isTextInputDisabled:!!this.state.moderatedReason,forceSendCheer:this.state.forceSendCheer,moderatedReason:this.state.moderatedReason,moderatedMessageParts:this.state.moderatedMessageParts,bitsSendErrorCode:this.state.bitsSendErrorCode,bitsSendHasError:this.state.bitsSendHasError,clearBitsSendError:this.clearBitsSendError})),b.createElement(w.A,{className:"chat-room__viewer-card",fullHeight:!0,fullWidth:!0,position:E.Ly.Absolute,"data-a-target":"chat-user-card"},b.createElement(Ga,{isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,confirmModerationAction:this.confirmModerationAction,onSendMessage:this.props.onSendMessage,channelID:this.props.channelID,channelLogin:this.props.channelLogin,isModerator:!!this.props.isCurrentUserModerator&&this.props.isCurrentUserModerator,isOwner:this.props.isOwnChannel})))))},xr.prototype.dataBadgeToSchemaBadge=function(){var e,n=this,t=[];return null===(e=null===(e=null===(e=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===e?void 0:e.self)||void 0===e?void 0:e.displayBadges)||void 0===e||e.forEach(function(e){!e||(e=n.state.badgeSets.getBadge(e.setID,e.version))&&t.push(e)}),t},xr);function xr(e){var t=Dr.call(this,e)||this;t.hasAcceptedModerationConfirmation=!1,t.isCurrentUserBanned=function(){var e;return(null===(e=null===(e=null===(e=null===(e=t.props.currentUserBannedStatusData)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.banStatus)||void 0===e?void 0:e.isPermanent)||!1},t.closeViewersList=function(){t.props.closeChatViewerList()},t.confirmModerationAction=function(){return!(t.props.isEmbedded&&!t.hasAcceptedModerationConfirmation)||(t.hasAcceptedModerationConfirmation=window.confirm((0,D.wv)("Do you want to enable the ability to timeout and ban on embedded version of Twitch Chat? This setting will persist until you refresh the page.","ChatRoom")),t.hasAcceptedModerationConfirmation)},t.onChatInputFocus=function(){var e=D.tO.get("chat_rules_shown",{});t.props.chatRules&&0<t.props.chatRules.length&&!e[t.props.channelLogin]&&(t.props.onShowChatRules(),t.props.showChatRules())},t.setChatListElement=function(e){t.setState({chatListElement:e})},t.shouldHideChatInput=function(){return t.props.chatView===Ha.i.ViewerList},t.openRaidUpsellFromHost=function(e){return t.closeRaidUpsell(function(){t.setState({raidUpsellTarget:e})})},t.closeRaidUpsell=function(e){return t.setState({raidUpsellTarget:null},function(){e&&e()})},t.onSendCheerError=function(e,n){switch(n.code){case L.vqW.AUTO_MOD_MESSAGE:t.setState({moderatedReason:In.AUTOMOD,forceSendCheer:!1,moderatedMessageParts:(0,ta.K4)(n.messageContent.fragments,!1)});break;case L.vqW.INVALID_ANONYMOUS_MESSAGE:t.setState({moderatedReason:In.ANONYMOUS_CHEERING,forceSendCheer:!1,anonymousCheerMessageParts:(0,ta.K4)(n.messageContent.fragments,!1,t.props.currentUserLogin,t.props.bitsConfig),moderatedMessageParts:[(0,R.H)(e)]});break;default:t.setState({bitsSendErrorCode:n.code,bitsSendHasError:!0}),t.clearCheerErrorPrompts()}},t.clearBitsSendError=function(){t.setState({bitsSendErrorCode:L.vqW.UNKNOWN,bitsSendHasError:!1})},t.clearCheerErrorPrompts=function(){t.setState({forceSendCheer:!1,moderatedReason:null,moderatedMessageParts:null,anonymousCheerMessageParts:null})},t.onBitsAutoModCheerAnyway=function(){t.setState({moderatedReason:null,forceSendCheer:!0})},t.onInvalidAnonymousCheerPromptCheerAnyway=function(){t.setState({moderatedReason:null,forceSendCheer:!0})},t.onBadgesChanged=function(){return(0,S.__awaiter)(t,void 0,void 0,function(){var n,t;return(0,S.__generator)(this,function(e){switch(e.label){case 0:return!this.props.data||this.props.data.loading?[3,2]:[4,this.props.data.refetch()];case 1:if((n=e.sent()).data){if(!(n=n.data).user||!n.user.self)return[2];t={},n.user.self.displayBadges.forEach(function(e){e&&(t[e.setID]=e.version)}),D.$6.tmi.client.updateChannelBadges(this.props.channelLogin,t,{})}e.label=2;case 2:return[2]}})})};e=new F.yW([],[],t.props.channelLogin);return t.state={raidUpsellTarget:null,badgeSets:e,forceSendCheer:!1,bitsSendErrorCode:L.vqW.UNKNOWN,bitsSendHasError:!1,moderatedMessageParts:null,anonymousCheerMessageParts:null},t}function Or(){return null!==Mr&&Mr.apply(this,arguments)||this}var Br=(0,p.qC)((0,M.TA)(Wa,{name:"data",skip:function(e){return!e.firstPageLoaded},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,Ye.SZ)(function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList,isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules}}),(0,Je.P)(),(0,I.P)(function(t){return{query:Wa,variables:{channelLogin:t.channelLogin},topic:(0,A.er)(t.userID),type:T.qU.UserBitsBadgeUpdate,skip:!t.firstPageLoaded||!t.userID,mutator:function(n,e){if(Rr.debug("Received bits-user-update-v1 pubsub update",{data:e,event:n}),!e.badges||n.message_type===ie.c.Balance||null===n.data.newest_version||n.data.channel_id!==t.channelID)return e;var i=e.badges.find(function(e){return!!e&&e.setID===n.data.set_id&&e.version===n.data.newest_version});return i&&e.user&&e.user.self&&e.user.self.displayBadges?C(e,function(e){return e.user.self},function(e){var n=e.displayBadges.map(function(e){return e&&e.setID===i.setID&&e.version!==i.version?(0,S.__assign)({},i):e}),t=e.selectedBadge;return e.selectedBadge&&(i.setID!==ie.k.Bits||e.selectedBadge.setID!==ie.k.Bits)||(t=(0,S.__assign)({},i)),e.selectedBadge&&(i.setID!==ie.k.Leaderboard||e.selectedBadge.setID!==ie.k.Bits&&e.selectedBadge.setID!==ie.k.Leaderboard)||(t=(0,S.__assign)({},i)),(0,S.__assign)((0,S.__assign)({},e),{displayBadges:n,selectedBadge:t})}):e}}}),u.EN,(0,H.gc)(function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}}),(0,ae.ox)(function(e){return{isShowingCommunityHighlightList:e.listAllView}}),(0,ae.eT)(function(e){return{closeCommunityHighlightList:function(){return e((0,re.rP)())}}}))(Pn)},402767:function(e,n,t){"use strict";t.d(n,{xH:function(){return m}});var i=t(667294),a=t(734995),r=t(270406),o=t(42086),s=t(58661),l=t(150125),d=t(440837),u=t(382448),c=t(831642),m=(t(565383),function(e){return i.createElement(i.Fragment,null,i.createElement(a.A,{position:r.Ly.Relative,display:r.sS.Flex,flexDirection:r.Qb.Row,alignItems:r.g1.Start,padding:1},i.createElement(a.A,{textAlign:r.PH.Left,display:r.sS.Flex,flexDirection:r.Qb.Row,alignItems:r.g1.Center},i.createElement(a.A,{padding:{right:1}},i.createElement(o.q,{userLogin:e.channelLogin,alt:e.channelDisplayName||"",size:40,src:e.channelProfileImageUrl})),i.createElement(a.A,{display:r.sS.Flex,flexDirection:r.Qb.Column},i.createElement(a.A,null,i.createElement(s.V,{"data-test-selector":"chat-rules-display-name",color:r.Il.Alt2},e.channelDisplayName)),i.createElement(a.A,null,i.createElement(s.V,{fontWeight:r.U9.SemiBold,transform:l._5.Uppercase,type:l.yG.H4},(0,c.wv)("Chat Rules","ChatInputRevampChatRules"))))),e.onCloseChatRules&&i.createElement(a.A,{attachRight:!0,attachTop:!0,position:r.Ly.Absolute,margin:{top:.5,right:.5}},i.createElement(d.Ei,{"data-test-selector":"chat-rules-close-button","aria-label":(0,c.wv)("Close","ChatInputRevampChatRules"),type:d.c.Secondary,icon:u.e.Close,onClick:e.onCloseChatRules}))),i.createElement(a.A,{padding:.5},i.createElement(a.A,{"data-test-selector":"chat-rules-list",padding:{x:1,bottom:1}},i.createElement("ul",null,e.chatRules.map(function(e,n){return i.createElement("li",{key:n},e)})))))})},154412:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var i=t(570655),a=t(667294),r=t(974513);function o(e){return t=a.Component,(0,i.__extends)(n,t),n.prototype.render=function(){return a.createElement(r.og,(0,i.__assign)({},this.props),a.createElement(e,(0,i.__assign)({},this.props)))},n;function n(){return null!==t&&t.apply(this,arguments)||this}var t}},759408:function(e,n,t){"use strict";t.d(n,{P:function(){return i}});var r=t(667294),o=t(106801),s=t(863480),l=t(909428),i=function(e){var n,t=(0,o.td)(l,{variables:{channelLogin:e.channelLogin}}),i=t[0],t=t[1],a=t.called,t=t.data;return(0,r.useEffect)(function(){!a&&(0,s.t)("crowd_chant_query")&&i()},[a,i]),(0,s.t)("crowd_chant")&&null!==(n=null===(n=null===(n=null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.channel)||void 0===n?void 0:n.crowdChants)||void 0===n?void 0:n.settings)&&void 0!==n&&n.isEligible?r.createElement(r.Fragment,null,e.children):null}},901382:function(e,n,t){"use strict";t.d(n,{Xj:function(){return v},jP:function(){return y},vc:function(){return S}});var i,a=t(570655),r=t(129989),o=t(667294),s=t(137703),l=t(14890),d=t(831642),u=t(987145),c=t(344689),m=t(128416),p=t(797425),h=t(884979),n=t(699478),g=t(437202),f="deletedMessageDisplaySetting",h=(0,h.k)("DeletedMessageDisplaySettingContext",{setValue:function(){return null},value:void 0,isShowingDeletedMessageDisplaySettings:!1,hideDeletedMessageDisplaySettings:function(){return null},showDeletedMessageDisplaySettings:function(){return null},hasSetSetting:function(){return!1}}),v=h.context,y=h.withContext,h=(i=o.Component,(0,a.__extends)(k,i),k.prototype.render=function(){return o.createElement(v.Provider,{value:{setValue:this.setValue,value:this.value,isShowingDeletedMessageDisplaySettings:this.state.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.showDeletedMessageDisplaySettings,hasSetSetting:this.hasSetSetting}},this.props.children)},k.prototype.componentDidUpdate=function(e){!this.hasData(this.props)||this.hasData(e)||(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?d.tO.set(f,this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting):d.tO.get(f,null)&&this.value&&this.setValue(this.value))},k.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},k.prototype.defaultValue=function(e){return this.props.sessionUser&&e&&this.props.sessionUser.id===e?m.zCI.BRIEF:m.zCI.DETAILED},Object.defineProperty(k.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting:d.tO.get(f,null)||this.defaultValue(this.props.channelID)},enumerable:!0,configurable:!0}),k);function k(e){var n=i.call(this,e)||this;return n.hasSetSetting=function(){var e=n.hasData(n.props);return!(!e||null===e.deletedMessageDisplaySetting)||null!==d.tO.get(f,null)},n.setValue=function(t){var e;n.setState({localOverride:t}),d.tO.set(f,t),n.props.isLoggedIn&&(e=(0,a.__assign)((0,a.__assign)({},(0,c.k_)({deletedMessageDisplaySetting:t})),{optimisticResponse:{setDeletedMessageDisplaySetting:{__typename:"SetDeletedMessageDisplaySettingPayload",deletedMessageDisplaySetting:t}},update:function(e){var n;try{n=e.readQuery({query:g})}catch(e){return}n&&n.currentUser&&n.currentUser.chatUISettings&&(n=r(n,function(e){return e.currentUser.chatUISettings.deletedMessageDisplaySetting},function(){return t}),e.writeQuery({query:g,data:n}))}}),n.props.setDeletedMessageDisplaySetting(e))},n.hideDeletedMessageDisplaySettings=function(){n.setState({isShowingDeletedMessageDisplaySettings:!1})},n.showDeletedMessageDisplaySettings=function(){n.setState({isShowingDeletedMessageDisplaySettings:!0})},n.state={isShowingDeletedMessageDisplaySettings:!1},n}var S=(0,l.qC)((0,s.$j)(function(e){return{isLoggedIn:(0,p.jl)(e),sessionUser:(0,p.PR)(e)}}),(0,u.TA)(g,{skip:function(e){return!e.isLoggedIn}}),(0,u.TA)(n,{name:"setDeletedMessageDisplaySetting"}))(h)},667346:function(e,n,t){"use strict";t.d(n,{s8:function(){return d},f_:function(){return u},Gv:function(){return c}});var h=t(570655),g=t(831642),f=t(863480),v=t(742407),i=t(190109),y=t(41570),k=t(824570),S=t(834375),a="unknown",r="chat",o="room",s="whisper",l="vod",d={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},C="available",b="creator_banned",w="limited_time_emote",E="global_emote",_="prime",N="turbo",D="other_unlockable";function u(p){return(0,h.__awaiter)(this,void 0,void 0,function(){var n,t,i,a,r,o,s,l,d,u,c,m;return(0,h.__generator)(this,function(e){switch(e.label){case 0:n={emoteID:p.emoticonID,octaneEnabled:(0,f.t)("Emote_Card_Octane")},t=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g.$6.apollo.client.query({query:k,variables:n})];case 2:return t=e.sent(),[3,4];case 3:return u=e.sent(),g.kg.warn(u,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:p.emoticonID}),[3,4];case 4:i=t&&t.data&&t.data.emote||null,t&&!i&&g.kg.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:p.emoticonID}),a=t&&t.data?(0,S.RT)(t.data):S.ee.Unknown,r=i&&i.subscriptionProduct&&i.subscriptionProduct.owner&&i.subscriptionProduct.owner.displayName||"",o=i&&i.subscriptionProduct&&i.subscriptionProduct.owner&&i.subscriptionProduct.owner.id||"",s={channelID:o},l=null,e.label=5;case 5:return e.trys.push([5,7,,8]),[4,g.$6.apollo.client.query({query:y,variables:s})];case 6:return l=e.sent(),[3,8];case 7:return c=e.sent(),g.kg.warn(c,"Failed to make query for channel info in EmoteCard reporting.",{channelID:o}),[3,8];case 8:return m=l&&l.data&&l.data.user||null,l&&!m&&g.kg.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:o}),d=!!m&&!!m.hasPrime,u=m&&m.self,c=!!u&&!!u.subscriptionBenefit,m=!!u&&!!u.canPrimeSubscribe,m={emote_location:p.emoteLocation,emoticon_id:p.emoticonID,chat_channel:p.chatChannel,chat_channel_id:p.chatChannelID,emote_channel:r,emote_channel_id:o,referrer_user_id:p.referrerUserID,action:p.action,is_subscribed:c,is_subscribed_tier:u&&u.subscriptionBenefit&&u.subscriptionBenefit.tier||"",emote_tier:i&&i.subscriptionProduct&&i.subscriptionProduct.tier||"",emote_status:function(e){switch(e){case S.ee.Prime:return _;case S.ee.Turbo:return N;case S.ee.Subscription:return C;case S.ee.LimitedTime:return w;case S.ee.Unavailable:return b;case S.ee.Global:return E;case S.ee.TwoFactor:case S.ee.Unknown:default:return D}}(a),has_prime:d,can_subscribe:m,msg_id:p.msgID},g.UO.track(v.N.EmoteCardInteraction,m),[2]}})})}function c(e){switch(e){case i.Vn.chat:return r;case i.Vn.whisper:return s;case i.Vn.vod:return l;case i.Vn.room:return o;default:i.Vn.unknown;return a}}},834375:function(e,n,t){"use strict";t.d(n,{ee:function(){return i},RT:function(){return o},IW:function(){return l},Oy:function(){return d},FA:function(){return u}});var i,a=t(1208),s=t(128416),r=t(477130);function o(e){if(e.emote&&e.emote.type)switch(e.emote.type){case s.eeY.TWO_FACTOR:return i.TwoFactor;case s.eeY.BITS_BADGE_TIERS:return i.BitsTier;case s.eeY.CHANNEL_POINTS:return i.ChannelPoints;case s.eeY.SUBSCRIPTIONS:if(!e.emote.owner)return i.Unavailable;if("139075904"===(null===(n=e.emote.owner)||void 0===n?void 0:n.id))return i.LimitedTime;var n=(null===(n=e.emote.token)||void 0===n?void 0:n.split("_"))||[];return e.emote.setID===r.zs||1<n.length?i.ChannelPoints:i.Subscription;case s.eeY.GLOBALS:return i.Global;case s.eeY.PRIME:return i.Prime;case s.eeY.TURBO:return i.Turbo;case s.eeY.SMILIES:return i.Global;case s.eeY.UNKNOWN:return i.Unknown;case s.eeY.HYPE_TRAIN:case s.eeY.MEGA_COMMERCE:default:return i.LimitedTime}return i.Unknown}function l(e){switch(e){case s.yar.TIER_1:return a.G.Tier1;case s.yar.TIER_2:return a.G.Tier2;case s.yar.TIER_3:return a.G.Tier3;default:return""}}function d(e){for(var n=null,t=null,i=null,a=0,r=e;a<r.length;a++){var o=r[a];switch(o.tier){case s.yar.TIER_1:n=o;break;case s.yar.TIER_2:t=o;break;case s.yar.TIER_3:i=o}}return{tier1:n,tier2:t,tier3:i}}function u(e,n){if(e===n)return!1;switch(e){case s.yar.TIER_1:return!1;case s.yar.TIER_2:return n!==s.yar.TIER_3;case s.yar.TIER_3:return!0;default:return!1}}(t=i=i||{})[t.Unknown=0]="Unknown",t[t.Prime=1]="Prime",t[t.Turbo=2]="Turbo",t[t.LimitedTime=3]="LimitedTime",t[t.ChannelPoints=4]="ChannelPoints",t[t.Unavailable=5]="Unavailable",t[t.Subscription=6]="Subscription",t[t.BitsTier=7]="BitsTier",t[t.Global=8]="Global",t[t.TwoFactor=9]="TwoFactor"},148707:function(e,n,t){"use strict";t.d(n,{sZ:function(){return S},PZ:function(){return C},Bk:function(){return w}});var i,a=t(570655),r=t(129989),o=t(667294),s=t(137703),l=t(14890),d=t(831642),u=t(987145),c=t(867284),m=t(906704),p=t(344689),h=t(508995),g=t(797425),f=t(884979),v=t(755254),n=t(43116),y=t(591677),k="useHighContrastColors",f=(0,f.k)("HighContrastSettingContext",{setValue:function(){return null},value:!0}),S=f.context,C=f.withContext,f=(i=o.Component,(0,a.__extends)(b,i),b.prototype.render=function(){return o.createElement(S.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},b.prototype.componentDidUpdate=function(e){this.hasData(this.props)&&!this.hasData(e)&&(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?d.tO.set(k,this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled):this.setValue(this.value))},b.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(b.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled:d.tO.get(k,!0)},enumerable:!0,configurable:!0}),b);function b(e){var n=i.call(this,e)||this;n.setValue=function(t){var e;n.setState({localOverride:t}),d.tO.set(k,t),n.props.isLoggedIn&&(e=(0,a.__assign)((0,a.__assign)({},(0,p.k_)({isReadableChatColorsEnabled:t})),{optimisticResponse:{setReadableChatColorsEnabled:{__typename:"SetReadableChatColorsEnabledPayload",isReadableChatColorsEnabled:t}},update:function(e){var n;try{n=e.readQuery({query:y})}catch(e){return}n&&n.currentUser&&n.currentUser.chatUISettings&&(n=r(n,function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled},function(){return t}),e.writeQuery({query:y,data:n}))}}),n.props.setReadableChatColors(e))},n.state={};e=(0,v.Au)().useHighContrastColors;return void 0!==e&&((0,v.ED)("useHighContrastColors"),d.tO.set(k,e)),n}var w=(0,l.qC)((0,s.$j)(function(e){return{isLoggedIn:(0,g.jl)(e)}}),(0,u.TA)(y,{skip:function(e){return!e.isLoggedIn}}),(0,c.P)(function(e){var n;return{query:y,topic:(0,h.e0)((null===(n=null===(n=e.data)||void 0===n?void 0:n.currentUser)||void 0===n?void 0:n.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==m.qU.UserPreferencesReadableChatColors},type:m.qU.UserPreferencesReadableChatColors,mutator:function(e,n){return r(n,function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled},function(){return e.new_value})}}}),(0,u.TA)(n,{name:"setReadableChatColors"}))(f)},77966:function(e,n,t){"use strict";t.d(n,{aO:function(){return r},R2:function(){return o},qT:function(){return s},MM:function(){return l}});var i=t(570655),a=t(667294),t=(0,t(884979).k)("ModerationTrackingContext",{}),r=t.context,o=t.withContext;function s(e){return(0,i.__assign)({},e)}var l=function(e){return a.useContext(r).page?a.createElement(a.Fragment,null,e.children):a.createElement(r.Provider,{value:{page:e.page}},e.children)}},961550:function(e,n,t){"use strict";t.d(n,{c:function(){return V}});var i,a=t(570655),r=t(667294),o=t(137703),s=t(14890),l=t(987145),d=t(797425),u=t(457087),c=t(124822),m=t(430028),p=t(419341),h=t(925445),g=t(986923),f=t(233563),v=t(607642),y=t(77966),k=t(86891),S=t(509301),C=t(576540),b=t(922866),w=t(734995),E=t(270406),_=t(58661),N=t(796441),D=t(831642),M=t(986230),I=t(175424),T=t(440837),P=t(382448),R=t(150125),A=t(935945),L=t(632712),n=(i=r.PureComponent,(0,a.__extends)(F,i),F.prototype.render=function(){return r.createElement(w.A,{className:"stream-chat-header",background:E.Aq.Base,borderBottom:!0,display:E.sS.Flex,fullWidth:!0,justifyContent:E.uM.Center,alignItems:E.g1.Center,flexShrink:0,padding:{left:1,right:1},style:{zIndex:2001}},r.createElement(w.A,{display:E.sS.Flex,alignItems:E.g1.Center},this.renderStreamChatTitle()),r.createElement(w.A,{position:E.Ly.Absolute,attachRight:!0,margin:{right:1}},r.createElement(I.ns,{align:I.Mg.Right,label:this.usersInChatString(),direction:I.AR.Bottom},r.createElement(T.Ei,{"aria-label":this.usersInChatString(),"data-test-selector":"chat-viewer-list",icon:P.e.Friends,onClick:this.showViewersList,disabled:this.props.isCurrentUserBanned}))))},F.prototype.renderStreamChatTitle=function(){return r.createElement(_.V,{color:E.Il.Alt,"data-test-selector":A.Hh,fontSize:E.Bf.Size6,fontWeight:E.U9.SemiBold,id:A.Hh,transform:R._5.Uppercase,type:R.yG.H5},this.streamChatTitleString())},F.prototype.streamChatTitleString=function(){return this.props.channelDisplayName?(0,D.wv)("<x:bold>{displayName}</x:bold>'s Chat",{displayName:this.props.channelDisplayName,"x:bold":function(e){return r.createElement(_.V,{type:R.yG.Span,bold:!0},e)}},"RoomsHeaderUserChat"):(0,D.wv)("Stream Chat","RoomsHeaderTitle")},F);function F(e){var n=i.call(this,e)||this;return n.usersInChatString=function(){return n.props.isCurrentUserBanned?(0,D.wv)("You may not view Users in Chat while banned","ChatRoomsHeaderUsersInChatButton"):(0,D.wv)("Users in Chat","ChatRoomsHeaderUsersInChatButton")},n.showViewersList=function(){n.props.chatView===L.i.ViewerList?n.props.closeChatViewerList():n.props.showChatViewerList()},n}var U,x=(0,s.qC)((0,v.SZ)(function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList}}))(n),n=(U=r.Component,(0,a.__extends)(O,U),O.prototype.componentDidMount=function(){this.props.updateChatConfigState({hideChatSettings:!!this.props.hideChatSettings,showModViewIngress:!!this.props.showModViewIngress,hideOnboardingPrompts:!!this.props.hideOnboardingPrompts,hideChatInputButtons:!!this.props.hideChatInputButtons,onUsernameClick:this.props.onUsernameClick})},O.prototype.render=function(){return r.createElement(w.A,{className:"stream-chat",fullWidth:!0,fullHeight:!0,display:E.sS.Flex,flexDirection:E.Qb.Column,flexGrow:1,flexWrap:E.gP.NoWrap,position:E.Ly.Relative},this.renderHeader(),this.renderHiddenState(),this.renderChat())},O.prototype.renderChat=function(){return this.props.isHidden&&!this.props.isPopout?null:r.createElement(M.en,{channelLogin:this.props.channelLogin,clientID:D.vc.authSettings.clientID,isBackground:this.props.isBackground,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,onHostingChange:this.props.onHostingChange,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},O.prototype.renderHeader=function(){if(!this.props.hideHeader){var e=void 0;return this.props.renderChannelName&&this.props.data&&this.props.data.channel&&this.props.data.channel.displayName&&(e=this.props.data.channel.displayName),r.createElement(x,{channelDisplayName:e,isCurrentUserBanned:this.isCurrentUserBanned()})}},O.prototype.renderHiddenState=function(){return!this.props.isHidden||this.props.isPopout?null:r.createElement(w.A,{alignItems:E.g1.Center,borderLeft:!0,"data-test-selector":"stream-chat-hidden-state",display:E.sS.Flex,flexDirection:E.Qb.Column,fullHeight:!0,fullWidth:!0,justifyContent:E.uM.Center,color:E.Il.Base,position:E.Ly.Relative},r.createElement(w.A,{margin:{bottom:1}},r.createElement(_.V,{fontSize:E.Bf.Size5},(0,D.wv)("Chat is hidden.","RoomSelector"))),r.createElement(N.zx,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button"},(0,D.wv)("Show Chat","RoomSelector")))},O),t=t(835875);function O(){var n=null!==U&&U.apply(this,arguments)||this;return n.isCurrentUserBanned=function(){var e;return!(null===(e=null===(e=null===(e=null===(e=n.props.data)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.banStatus)||void 0===e||!e.isPermanent)},n}var B=(0,h.Aq)(function(n){return{updateChatConfigState:function(e){return n.updateChatConfigState(e)}}})(n),V=(0,s.qC)((0,o.$j)(function(e){return{firstPageLoaded:e.session.firstPageLoaded,isHidden:e.chat.isHidden,sessionUser:(0,d.PR)(e)}},function(e){return(0,s.DE)({onChatUnhide:function(){return p.YF()}},e)}),(0,l.TA)(t,{skip:function(e){return!e.firstPageLoaded},props:function(e){return{data:e.data,channelID:e.data&&e.data.channel&&e.data.channel.id}},options:function(e){return{variables:{login:e.channelLogin}}}}),(0,l.TA)(C,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.firstPageLoaded},name:"activeWatchParty"}),(0,k.C)(),function(e){return t=r.Component,(0,a.__extends)(n,t),n.prototype.render=function(){return r.createElement(b.dc,(0,a.__assign)({},this.props),r.createElement(e,(0,a.__assign)({},this.props)))},n;function n(){return null!==t&&t.apply(this,arguments)||this}var t},(0,b.T_)(function(e){return{allowChatOnPageDuringWatchParty:e.allowChatOnPageDuringWatchParty}}),(0,S.W)("StreamChat",{autoReportInteractive:!0}))(function(e){return r.createElement(v.sQ,{viewManager:e.viewManager},r.createElement(h.EX,null,r.createElement(g.M9,null,r.createElement(c.w6,{channelLogin:e.channelLogin},r.createElement(f.j9,null,r.createElement(m.pY,{key:e.channelLogin,channelLogin:e.channelLogin},r.createElement(u.t0,{channelLogin:e.channelLogin},r.createElement(y.MM,{page:e.page},r.createElement(B,(0,a.__assign)({},e))))))))))})},325820:function(e,n,t){"use strict";t.d(n,{lx:function(){return p},Hu:function(){return h},jA:function(){return m},ws:function(){return f}});var i,a=t(570655),r=t(667294),s=t(831642),l=t(797425),o=t(884979),n=t(925445),d=t(667346),u=t(426494),c=t(190109),m=function(){var e,n=r.useContext(p);return(null===(e=n.viewerCardOptions)||void 0===e?void 0:e.viewerCardType)===c.BO.Viewer?{viewerCardOptions:n.viewerCardOptions,setViewerCardPage:n.setViewerCardPage}:{setViewerCardPage:n.setViewerCardPage}},o=(0,o.k)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null},setViewerCardPage:function(){return null}}),p=o.context,h=o.withContext,o=(i=r.Component,(0,a.__extends)(g,i),g.prototype.componentDidUpdate=function(e){!e.onUsernameClick&&this.props.onUsernameClick&&this.setState({onShowViewerCard:this.props.onUsernameClick})},g.prototype.render=function(){return r.createElement(p.Provider,{value:this.state},this.props.children)},g);function g(e){var o=i.call(this,e)||this;return o.onShowViewerCard=function(n,t,i,a,r){o.setState(function(e){e=e.viewerCardOptions;return e&&e.targetID===n?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.BO.Viewer,initialTopOffset:a,sourceID:i,sourceType:t,targetID:n,page:r||{type:c.cY.MainPage}}}})},o.onShowExtensionMessageCard=function(n,t,i,a){o.setState(function(e){e=e.viewerCardOptions;return e&&e.viewerCardType===c.BO.Extension&&e.targetID===n?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.BO.Extension,initialTopOffset:a,sourceID:i,targetID:n,extensionVersion:t}}})},o.onShowEmoteCard=function(n){o.setState(function(e){e=e.viewerCardOptions;return e&&e.viewerCardType===c.BO.Emote&&e.emoteID===n.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:c.BO.Emote,initialTopOffset:n.initialTopOffset||0,sourceID:n.sourceID,emoteSourceType:n.emoteSourceType,targetID:n.referrerID,emoteID:n.emoteID,emoteCode:n.emoteCode}}}),(0,d.f_)({emoteLocation:(0,d.Gv)(n.emoteSourceType),emoticonID:n.emoteID,chatChannel:n.channelLogin,chatChannelID:n.channelID||"",referrerUserID:n.referrerID,action:d.s8.Open,msgID:n.sourceID,isLoggedIn:(0,l.jl)(s.$6.store.getState())})},o.hideViewerCard=function(e){o.setState({viewerCardOptions:null}),e&&(0,u.WV)(e)},o.setViewerCardPage=function(t){o.setState(function(e){var n=e.viewerCardOptions;return n&&n.viewerCardType===c.BO.Viewer?(0,a.__assign)((0,a.__assign)({},e),{viewerCardOptions:(0,a.__assign)((0,a.__assign)({},n),{page:t})}):e})},o.state={viewerCardOptions:null,onShowViewerCard:o.props.onUsernameClick||o.onShowViewerCard,onShowExtensionMessageCard:o.onShowExtensionMessageCard,onShowEmoteCard:o.onShowEmoteCard,hideViewerCard:o.hideViewerCard,setViewerCardPage:o.setViewerCardPage},o}var f=(0,n.Aq)(function(e){return{onUsernameClick:e.onUsernameClick}})(o)},426494:function(e,n,t){"use strict";t.d(n,{Yv:function(){return i},w2:function(){return a},Wy:function(){return y},M$:function(){return m},z5:function(){return k},WV:function(){return S},Ai:function(){return C},u2:function(){return b},eD:function(){return w},Xw:function(){return p},ne:function(){return E},O7:function(){return _},Kc:function(){return h},gx:function(){return N},mj:function(){return D},Kz:function(){return g},an:function(){return M}});var i,a,s=t(570655),l=t(831642),r=t(560772),o=t(128416),d=t(742407),u=t(342668),c=t(190109);(t=i=i||{}).Messages="messages",t.Timeouts="timeouts",t.Bans="bans",t.ModComments="mod_comments",t.PopOut="popout",t.Whisper="whisper",t.GiftSub="gift_sub",t.CarouselClick="carousel_click",t.BadgeOverflowClick="badge_overflow_click",(t=a=a||{}).Expand="expand",t.Collapse="collapse",t.ExpandBadges="expand_badges",t.CollapseBadges="collapse_badges",t.CarouselLeft="carousel_left",t.CarouselRight="carousel_right";var m,p,h,g,f=null;function v(){return f=f||(0,r._f)()}function y(t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){return n={target_user_id:t.targetUserID||"",target_login:t.targetLogin,channel_id:t.channelID,channel_login:t.channelLogin,click_text:function(e){switch(e){case u.A.Messages:return i.Messages;case u.A.Timeouts:return i.Timeouts;case u.A.Bans:return i.Bans;case u.A.ModComments:return i.ModComments;default:return e}}(t.clickText),profile_card_type:t.cardType,action:t.action,ui_context:t.sourceType?c.TU[t.sourceType]:void 0},l.UO.track(d.N.ChatProfileCardClick,n),[2]})})}function k(t,i,a,r){var o;return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){return n={target_user_id:a.id,target_login:null!==(o=a.login)&&void 0!==o?o:t.targetLogin,channel_id:null!==(o=r.id)&&void 0!==o?o:t.channelID,channel_login:null!==(o=r.login)&&void 0!==o?o:t.channelLogin,profile_card_type:w(i,r),ui_context:c.TU[t.sourceType],view_session_uuid:v()},l.UO.track(d.N.ChatProfileCardOpen,n),[2]})})}function S(t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){return n={target_user_id:t.targetUserID||"",target_login:t.targetLogin,channel_id:t.channelID,channel_login:t.channelLogin},l.UO.track(d.N.ChatProfileCardClose,n),f=null,[2]})})}function C(t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){return n={target_user_id:t.targetUserID||"",target_login:t.targetLogin,channel_id:t.channelID,channel_login:t.channelLogin},l.UO.track(d.N.ChatProfileCardDrag,n),[2]})})}function b(t){return(0,s.__awaiter)(this,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){return n={target_user_id:t.targetUserID||"",target_login:t.targetLogin,channel_id:t.channelID,channel_login:t.channelLogin},l.UO.track(d.N.ChatProfileCardUserNameClick,n),[2]})})}function w(e,n){return e.id===n.id?m.Broadcaster:null!==(e=n.self)&&void 0!==e&&e.isModerator?n.modLogsRoleAccess&&n.modLogsRoleAccess.accessLevel!==o.efb.NONE?m.ModWithChatlogs:m.ModWithoutChatlogs:m.RegularViewer}function E(a,r){var o;return(0,s.__awaiter)(this,void 0,void 0,function(){var n,t,i;return(0,s.__generator)(this,function(e){return t=a.data,i=t.channelUser,n=t.targetUser,t=a.isPopout,i={comment_uuid:r.id,ui_context:t?p.ViewerCardPopout:p.ViewerCard,target_user_id:n&&n.id,target_login:n&&n.login,channel_id:null!==(o=null==i?void 0:i.id)&&void 0!==o?o:a.channelID,channel_login:null!==(o=null==i?void 0:i.login)&&void 0!==o?o:a.channelLogin,from_user_id:r.author&&r.author.id,from_user_login:r.author&&r.author.login},l.UO.track(d.N.ClientModCommentAdd,i),[2]})})}function _(a,r){var o;return(0,s.__awaiter)(this,void 0,void 0,function(){var n,t,i;return(0,s.__generator)(this,function(e){return t=a.data,i=t.channelUser,n=t.targetUser,t=a.isPopout,i={comment_uuid:r.id,ui_context:t?p.ViewerCardPopout:p.ViewerCard,target_user_id:n&&n.id,target_login:n&&n.login,channel_id:null!==(o=null==i?void 0:i.id)&&void 0!==o?o:a.channelID,channel_login:null!==(o=null==i?void 0:i.login)&&void 0!==o?o:a.channelLogin,from_user_id:r.author&&r.author.id,from_user_login:r.author&&r.author.login},l.UO.track(d.N.ClientModCommentDelete,i),[2]})})}function N(n){return(0,s.__awaiter)(this,void 0,void 0,function(){return(0,s.__generator)(this,function(e){return l.UO.track(d.N.ChatProfileCardClientInteraction,n),[2]})})}function D(e,n,t,i,a){i={target_user_id:e,target_login:n,channel_id:t,badge_type:a.title,ui_context:c.TU[i],view_session_uuid:v()};l.UO.track(d.N.ChatProfileCardBadgeClick,i)}function M(e,n,t,i,a){a={target_user_id:e,target_login:n,channel_id:t,target_url:i.clickURL,cta_click:a,view_session_uuid:v()};l.UO.track(d.N.ChatProfileCardBadgeCTAClick,a)}(t=m=m||{}).RegularViewer="regular_viewer",t.Broadcaster="broadcaster",t.ModWithChatlogs="mod_with_chatlogs",t.ModWithoutChatlogs="mod_without_chatlogs",(t=p=p||{}).ViewerCard="chat_profile_card",t.ViewerCardPopout="chat_profile_card_popout",t.UnbanRequestsWidget="unban_requests_widget",(t=h=h||{}).CustomizeProfile="customize_profile",t.CustomizeChatIdentity="customize_chat_identity",(t=g=g||{}).Cheer="cheer_this_channel",t.Follow="follow",t.VisitChannel="visit_channel",t.LearnMore="learn_more",t.Subscribe="subcribe",t.Resubscribe="resubscribe",t.GiftSub="gift_sub"},73732:function(e,n,t){"use strict";t.d(n,{I:function(){return s}});var i=t(667294),a=t(731110),r=t(270406);function o(e){e.stopPropagation()}var s=function(e){return i.createElement(a.o,{fullWidth:e.fullWidth,className:e.className,display:r.sS.InlineFlex},i.createElement("div",{className:"viewer-card-drag-cancel",onMouseDown:o},e.children))}},469790:function(e,n,t){"use strict";t.d(n,{w:function(){return a}});var i,d=t(570655),u=t(294184),c=t(667294),m=t(734995),p=t(831642),h=t(128416),g=t(283140),f=t(238487),s=t(233912),v=t(879072),y=t(180592),l=t(251146),k={id:f.WP.id,login:f.WP.username,chatColor:f.yX,displayName:f.WP.displayName,displayBadges:[],__typename:"User"},a=(i=c.Component,(0,d.__extends)(r,i),r.prototype.render=function(){var e=this.props,n=e.channelID,t=e.badgeSets,i=e.currentUserLogin,a=this.props.caughtMessage,r=a.category,o=a.modLogsMessage,s=a.resolver,l=a.status,e=o.sender,a=o.id;if(!e||!a)return c.createElement(m.A,{padding:{x:2,y:1}},(0,p.wv)("unable to properly render message","AutoModCaughtMessage"));o=(0,d.__assign)((0,d.__assign)({},o),{deletedAt:null,__typename:"Message"}),l=l===h.m2u.ALLOWED;return c.createElement(m.A,{padding:{x:1,y:.5},key:a+"-automod-caught-message"},c.createElement(m.A,{className:"automod-message"},c.createElement(g.k,{badgeSets:t,badgesToRender:f.D_}),c.createElement(v.S3,{messageID:a,sender:k,onUsernameClick:null,highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme}),c.createElement("span",{key:"separator"},": "),this.autoModExplanationGenerator(r,s,this.props.hideDetails)),c.createElement(m.A,{padding:{y:0},className:u("flagged-message",{"flagged-message--approved":l,"flagged-message--rejected":!l})},c.createElement(y.v0,{channelID:n,showModerationIcons:!1,showTimestamps:!this.props.hideTimestamp,badgeSets:t,currentUserLogin:i,hasModPermissions:!0,message:o,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme})))},r);function r(){var o=null!==i&&i.apply(this,arguments)||this;return o.autoModExplanationGenerator=function(e,n,t){var i=o.props.caughtMessage,a=i.resolvedAt,r=i.status,i=o.props.caughtMessage.modLogsMessage.id;if(t)return(0,p.wv)("Held a message.","AutoModExplanation");t=function(e){switch(e){case h.ser.AGGRESSIVE:return(0,p.wv)("hostility","AutoModExplanation");case h.ser.SEXUAL:return(0,p.wv)("sexual","AutoModExplanation");case h.ser.PROFANITY:return(0,p.wv)("profanity","AutoModExplanation");case h.ser.IDENTITY:return(0,p.wv)("identity","AutoModExplanation");case h.ser.AGGRESSION:return(0,l.ng)(l.Dt.Aggression);case h.ser.DISABILITY:return(0,l.ng)(l.Dt.Ableism);case h.ser.SEXUALITY_SEX_OR_GENDER:return(0,l.ng)(l.Dt.Homophobia);case h.ser.MISOGYNY:return(0,l.ng)(l.Dt.Misogyny);case h.ser.BULLYING:return(0,l.ng)(l.Dt.NameCalling);case h.ser.RACE_ETHNICITY_OR_RELIGION:return(0,l.ng)(l.Dt.Racism);case h.ser.SEX_BASED_TERMS:return(0,l.ng)(l.Dt.Sexual);case h.ser.SWEARING:return(0,l.ng)(l.Dt.Profanity);default:return null}}(e);if(!t)return(0,p.wv)("Held a message for a new/unknown category.","AutoModExplanation");e=function(e){switch(e){case h.m2u.ALLOWED:return(0,p.wv)("Approved","AutoModExplanation");case h.m2u.DENIED:return(0,p.wv)("Denied","AutoModExplanation");case h.m2u.EXPIRED:return(0,p.wv)("Expired","AutoModExplanation");default:h.m2u.PENDING;return(0,p.wv)("Pending","AutoModExplanation")}}(r);if(n){n=c.createElement(v.S3,{messageID:i,sender:n,onUsernameClick:null,highContrastUsernameColor:o.props.highContrastUsernameColor,theme:o.props.theme});return a?(0,p.wv)("Held a message for reason: {category}. ({status} by {resolver} at {resolvedAt})",{category:t,status:e,resolver:n,resolvedAt:(0,s.i$)(new Date(a),!0)},"AutoModExplanation"):(0,p.wv)("Held a message for reason: {category}. ({status} by {resolver})",{category:t,status:e,resolver:n},"AutoModExplanation")}return r===h.m2u.PENDING?(0,p.wv)("Held a message for reason: {category}. (Pending review by moderators)",{category:t},"AutoModExplanation"):(0,p.wv)("Held a message for reason: {category}. (Expired and not posted to Chat)",{category:t},"AutoModExplanation")},o}},342668:function(e,n,t){"use strict";var i;t.d(n,{A:function(){return i}}),(n=i=i||{})[n.Messages=0]="Messages",n[n.Timeouts=1]="Timeouts",n[n.Bans=2]="Bans",n[n.ModComments=3]="ModComments"},19596:function(e,n,t){"use strict";t.d(n,{M:function(){return i}});var a=t(570655),r=t(667294),o=t(137703),s=t(63031),l=t(806082);function i(){return function(e){var n,t=e,e=(n=r.Component,(0,a.__extends)(i,n),i.prototype.render=function(){return r.createElement(t,(0,a.__assign)({},this.props,{fontScaleClassName:(0,l.r)(this.props.fontSizePreference)}))},i.displayName=(0,s.G)(i.name,e),i);function i(){return null!==n&&n.apply(this,arguments)||this}return(0,o.$j)(d)(e)}}function d(e){return{fontSizePreference:e.chat.fontSizePreference}}},806082:function(e,n,t){"use strict";t.d(n,{r:function(){return i}});var i=function(e){return"font-scale--"+e}},713890:function(e,n,t){"use strict";t.d(n,{q:function(){return a}});var i=t(498409);function a(e){return{type:i.SJ.ChannelPointsReward,id:e.id,displayName:e.userDisplayName,login:e.userLogin,reward:e.reward,message:e.message,userID:e.userID}}},587039:function(e,n,t){"use strict";var i;t.d(n,{t:function(){return i}}),(n=i=i||{}).Admin="admin",n.GlobalMod="global_mod",n.Moderator="mod",n.Owner="owner",n.Staff="staff",n.Subscriber="subscriber",n.User=""},869487:function(e,n,t){"use strict";t.d(n,{W:function(){return r}});var i=t(498409),a=t(670599);function r(e){return{type:i.SJ.Info,id:(0,a.C)("info"),message:e}}},510091:function(e,n,t){"use strict";t.d(n,{I:function(){return i}});var u=t(570655),c=t(498409),m=t(274178),p=t(670599);function i(e,n,t,i,a,r,o,s,l,d){return void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=Date.now()),(0,u.__assign)((0,u.__assign)({},(0,m.aE)(n,t,i,a,r,o,!1,s,l=void 0===l?{}:l)),{type:c.SJ.Message,messageType:e,isHistorical:l.isHistorical,id:t.id||(0,p.C)(t.username),bitsImageUrl:d})}},380079:function(e,n,t){"use strict";t.d(n,{gm:function(){return l},vX:function(){return i},Wt:function(){return a},AI:function(){return r},ZQ:function(){return o},b:function(){return h},DP:function(){return g},X7:function(){return f}});var l,s=t(570655),d=t(646628),u=t(498409),c=t(274178),m=t(670599),p=t(587039);function i(e){var n=e.data.message,t=n.id,i=n.sent_at,a=n.sender,r=n.content,o=e.data.message.content.text,n=e.data.message.sender.login,e=e.data.content_classification.category,n={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:n||"",username:n||"",userType:p.t.User,emotes:{}},n=(0,c.aE)(o,n,d.Nv);return{type:u.SJ.AutoMod,autoModType:u.mT.MessageRejectedPrompt,id:t,category:e,sent_at:i,sender:a,content:r,rejectedMessage:(0,s.__assign)((0,s.__assign)({},n),{type:u.SJ.Message,messageType:u.Ay.Post,id:t})}}function a(){return{id:(0,m.C)("automod-message-rejected"),type:u.SJ.AutoMod,autoModType:u.mT.MessageRejected}}function r(){return{id:(0,m.C)("automod-message-allowed"),type:u.SJ.AutoMod,autoModType:u.mT.MessageAllowed}}function o(){return{id:(0,m.C)("automod-message-denied"),type:u.SJ.AutoMod,autoModType:u.mT.MessageDenied}}function h(e,n,t,i,a){return{id:(0,m.C)("channel-moderation-action"),type:u.SJ.ModerationAction,moderationActionType:e,level:l.Channel,createdByLogin:n,createdByUserID:t,args:i,fromAutoMod:a}}function g(e,n,t,i,a,r,o,s){return{id:(0,m.C)("channel-moderation-action"),type:u.SJ.ModerationAction,moderationActionType:e,level:l.User,createdByLogin:n,createdByUserID:t,targetUserLogin:i,duration:a,reason:r,messageBody:o,messageID:s}}function f(e,n,t,i){return{id:(0,m.C)("channel-moderation-action"),type:u.SJ.TargetedModerationAction,targetedModerationActionType:e,targetUserID:n,messageBody:t,targetMessageID:i}}(t=l=l||{})[t.Channel=0]="Channel",t[t.User=1]="User"},259115:function(e,n,t){"use strict";t.d(n,{sx:function(){return r},fp:function(){return o},xJ:function(){return s},FW:function(){return l},V1:function(){return d},uu:function(){return u},L:function(){return c},QC:function(){return m},CI:function(){return p},Vs:function(){return h},aK:function(){return g},MM:function(){return f},f1:function(){return v}});var i=t(498409),a=t(670599);function r(){return{type:i.SJ.Connected,id:(0,a.C)("connected")}}function o(e){return{type:i.SJ.Disconnected,id:(0,a.C)("disconnected"),reason:e}}function s(){return{type:i.SJ.Reconnect,id:(0,a.C)("reconnect")}}function l(e,n,t){return{type:i.SJ.Hosted,id:(0,a.C)("hosted-"+e),hostingChannel:e,isAutohost:n,viewerCount:t}}function d(e){return{type:i.SJ.Hosting,id:(0,a.C)("hosting"),hostedChannel:e}}function u(e){return{type:i.SJ.Unhost,id:(0,a.C)("unhost-"+e)}}function c(e){return{type:i.SJ.RoomMods,id:(0,a.C)("roommods"),moderatorLogins:e}}function m(e){return{type:i.SJ.RoomState,id:(0,a.C)("roomstate"),state:e}}function p(e,n){return{type:i.SJ.SlowMode,id:(0,a.C)("slowmode"),enabled:e,length:n}}function h(e){return{type:i.SJ.EmoteOnlyMode,id:(0,a.C)("emoteonlymode"),enabled:e}}function g(e,n){return{type:i.SJ.FollowerOnlyMode,id:(0,a.C)("follower-only"),enabled:e,length:n}}function f(e){return{type:i.SJ.SubscriberOnlyMode,id:(0,a.C)("subscriber-only"),enabled:e}}function v(e){return{type:i.SJ.R9KMode,id:(0,a.C)("r9kmode"),enabled:e}}},986230:function(e,n,t){"use strict";t.d(n,{en:function(){return Ae}}),t(937251);var a,i=t(137703),r=t(14890),o=t(987145),s=t(797425),l=t(201515),d=t(984421),u=t(361945),c=t(720205),m=t(331902),p=t(509301),h=t(462966),g=t(570655),f=t(667294),v=t(912654),y=t(702631),k=t(49320),S=t(965397),C=t(523094),b=t(391831),w=t(857246),E=t(419341),_=t(877465),N=t(613290),D=t(233563),M=t(832581),I=t(617063),T=t(736959),P=t(901382),R=t(719689),A=t(148707),L=t(325820),F=t(259115),U=t(196171),x=t(498409),O=t(592407),B=t(82246),V=(a=f.Component,(0,g.__extends)(q,a),q.prototype.componentDidMount=function(){this.props.setActiveChattersAPI({getActiveChatters:this.getActiveChatters,getActiveChatterLoginFromDisplayName:this.getActiveChatterLoginFromDisplayName,handleMessage:this.handleMessage}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},q.prototype.componentWillUnmount=function(){this.props.setActiveChattersAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage)},q.prototype.render=function(){return null},q.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.reset(),this.props.currentUserLogin&&this.props.currentUserLogin!==e.currentUserLogin&&this.activeChatterLogins.has(this.props.currentUserLogin)&&(this.isDirty=!0,this.removeActiveChatter(this.props.currentUserLogin)),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage))},q.prototype.reset=function(){this.activeChatterLogins=new Set,this.activeChatters={},this.isDirty=!0,this.sortedChatters=[]},q.prototype.handleActiveChatter=function(e){e.login!==this.props.channelLogin&&e.login!==this.props.currentUserLogin&&(this.activeChatterLogins.has(e.login)?(this.activeChatterLogins.delete(e.login),this.addActiveChatter(e)):(this.addActiveChatter(e),this.trimActiveChatters(),this.isDirty=!0))},q.prototype.addActiveChatter=function(e){this.activeChatterLogins.add(e.login),this.activeChatters[e.login]=e},q.prototype.removeActiveChatter=function(e){this.activeChatterLogins.delete(e),delete this.activeChatters[e]},q.prototype.trimActiveChatters=function(){if(!(this.activeChatterLogins.size<=300))for(var e=this.activeChatterLogins.size-300,n=this.activeChatterLogins.values(),t=0;t<e;t++){var i=n.next().value;this.removeActiveChatter(i)}},q.prototype.sortChatters=function(){var n=this,e=[{displayName:this.props.channelDisplayName||void 0,login:this.props.channelLogin}],t=Object.keys(this.activeChatters).map(function(e){return n.activeChatters[e]});t.sort(function(e,n){return e.login<n.login?-1:e.login>n.login?1:0}),this.sortedChatters=e.concat(t),this.isDirty=!1},q);function q(e){var i=a.call(this,e)||this;return i.getActiveChatters=function(e,n){if(void 0===e&&(e=""),void 0===n&&(n=1/0),i.isDirty&&i.sortChatters(),!e)return i.sortedChatters.slice(0,n);var t=new RegExp("^"+(0,O.h)(e),"i");return i.sortedChatters.filter(function(e){return t.test(e.login)||e.displayName&&t.test(e.displayName)}).slice(0,n)},i.handleMessage=function(e){(0,B.l)(e).forEach(function(e){return i.handleActiveChatter({displayName:e.displayName,login:e.login})})},i.getActiveChatterLoginFromDisplayName=function(n){return Object.keys(i.activeChatters).find(function(e){return i.activeChatters[e]&&i.activeChatters[e].displayName===n})||null},i.reset(),i}function G(e){var e=e.channelID,t=f.useContext(m.DG).serviceAPI;return null===e?null:f.createElement(Y.H,{channelID:e,onReceiveMessage:function(e){var n=e.data.message.id;switch(e.data.status){case z.m2u.PENDING:null==t||t.handleMessage((0,$.vX)(e));break;case z.m2u.ALLOWED:null==t||t.handleMessage({id:(0,j.C)("automod-message-approved"),msg_id:n,type:x.SJ.AutoMod,autoModType:x.mT.MessageModApproved});break;case z.m2u.DENIED:null==t||t.handleMessage({id:(0,j.C)("automod-message-denied"),msg_id:n,type:x.SJ.AutoMod,autoModType:x.mT.MessageModDenied});break;default:return}},onReceiveOffenderMessage:function(e){switch(e.data.status){case z.m2u.PENDING:null==t||t.handleMessage((0,$.Wt)());break;case z.m2u.ALLOWED:null==t||t.handleMessage((0,$.AI)());break;case z.m2u.DENIED:null==t||t.handleMessage((0,$.ZQ)());break;default:return}}})}var H,W=(0,r.qC)((0,i.$j)(function(e){e=(0,s.PR)(e);return{currentUserLogin:e&&e.login}}),l.j,m.Qt)(V),z=t(128416),$=t(380079),j=t(670599),Y=t(268273),Q=t(520477),J=t(129989),K=t(270961),n=t(867284),X=t(906704),Z=t(508995),ee=t(169446),ne=t(654816),te=t(707934),ie=t(147292);function ae(e,n){n=(0,ie.addSeconds)(e,n);return Math.max(0,(0,ie.differenceInSeconds)(n,new Date))}(V=H=H||{}).Banned="msg_banned",V.Timedout="msg_timedout",V.Ratelimit="msg_ratelimit",V.Duplicate="msg_duplicate",V.Subsonly="msg_subsonly",V.EmoteOnly="msg_emoteonly",V.VerifiedEmail="msg_verified_email",V.Slowmode="msg_slowmode",V.Facebook="msg_facebook",V.BlizzardConnect="msg_blizzard",V.R9k="msg_r9k",V.Followers="msg_followersonly",V.FollowersZero="msg_followersonly_zero",V.FollowersFollowed="msg_followersonly_followed",V.ChannelSuspended="msg_channel_suspended",V.Suspended="msg_suspended",V.BadCharacters="msg_bad_characters";var re,V=(re=f.Component,(0,g.__extends)(oe,re),oe.prototype.componentDidMount=function(){var e=!1;this.props.setChatRestrictionsAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,refetchRestrictions:this.refetchRestrictions,getRestrictions:this.getRestrictions,getRemainingFollowSeconds:this.getRemainingFollowSeconds,getRemainingSlowModeSeconds:this.getRemainingSlowModeSeconds}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent),this.countdownTimer=new te.z({onInterval:this.tick,intervalMillis:1e3}),this.shouldEnforceFollowersOnly()&&(0<this.props.followerDuration&&this.startFollowTimer(),e=!0),(this.shouldEnforceSubsOnly()||this.shouldEnforceVerifiedOnly())&&(e=!0),this.props.data&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.lastRecentChatMessageAt&&(this.lastMessageSentAt=(0,ne.sG)(this.props.data.channel.self.lastRecentChatMessageAt)),(e=this.shouldEnforceSlowMode()?this.updateSlowState()||e:e)&&this.updateState()},oe.prototype.render=function(){return null},oe.prototype.componentWillUnmount=function(){this.stopFollowTimer(),this.stopSlowTimer(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.setChatRestrictionsAPI()},oe.prototype.componentDidUpdate=function(e){var n=!1,t=!1,t=this.needsStateUpdate(e)||t;t=this.updateSlowState()||t,t=this.updateFollowState()||t,this.slowModeTimerRunning&&e.slowModeDuration!==this.props.slowModeDuration&&(this.stopSlowTimer(),t=!0),e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(n=t=!0),(n=e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions?!0:n)&&this.props.data&&this.props.data.refetch(),t&&(this.updateRestrictionState(),this.notifyHandlers()),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},oe.prototype.needsStateUpdate=function(e){if((!e.data||e.data.loading)&&this.props.data&&!this.props.data.loading)return!0;var n=this.extractReasons(e),t=this.extractReasons(this.props);if(!n&&t||n&&!t)return!0;if(n&&t&&(n.length!==t.length||n.every(function(e,n){return e===t[n]})))return!0;if(e.subsOnlyMode!==this.props.subsOnlyMode||e.followerMode!==this.props.followerMode)return!0;if(e.followerDuration!==this.props.followerDuration)return!0;if(this.extractRequireVerified(e)!==this.extractRequireVerified(this.props))return!0;if(e.data&&this.props.data){var i=e.data,a=this.props.data;if(i.currentUser&&a.currentUser&&i.currentUser.isEmailVerified!==a.currentUser.isEmailVerified)return!0;if(a.channel&&a.channel.self){var r=a.channel.self,n=new Date(0),e=!1,a=!(!r.follower||!r.follower.followedAt);if(i.channel&&i.channel.self&&i.channel.self.follower&&i.channel.self.follower.followedAt&&(n=(0,ne.sG)(i.channel.self.follower.followedAt),e=!0),e&&!a)return!0;if(a){a=new Date(0);if(r.follower&&r.follower.followedAt&&(a=(0,ne.sG)(r.follower.followedAt)),n.getTime()!==a.getTime())return!0}}}return!1},oe);function oe(){var o=null!==re&&re.apply(this,arguments)||this;return o.reasons=[],o.updateHandlers=[],o.followTimerRunning=!1,o.slowModeTimerRunning=!1,o.followSecondsRemaining=0,o.slowSecondsRemaining=0,o.lastMessageSentAt=new Date(0),o.getRestrictions=function(){return 0===o.reasons.length?null:o.reasons},o.refetchRestrictions=function(){o.props.data.refetch()},o.updateRestrictionState=function(){if(!o.props.data||!o.props.data.channel)return!1;var e=((t={})[z.D5M.REQUIRE_VERIFIED_PHONE_NUMBER]=o.shouldEnforcePhoneVerification(),t[z.D5M.SUBSCRIBERS_ONLY]=o.shouldEnforceSubsOnly(),t[z.D5M.VERIFIED_ONLY]=o.shouldEnforceVerifiedOnly(),t[z.D5M.FOLLOWERS_ONLY]=o.shouldEnforceFollowersOnly(),t[z.D5M.SLOW_MODE]=o.shouldEnforceSlowMode(),t),n=[],t=o.extractReasons(o.props);if(t)for(var i=0,a=t;i<a.length;i++){var r=a[i];if(e[r])if(r===z.D5M.VERIFIED_ONLY)o.props.data.currentUser&&o.props.data.currentUser.isEmailVerified||n.push(r);else if(r===z.D5M.FOLLOWERS_ONLY){if(null!==o.getFollowedTime()){if(0===o.props.followerDurationSeconds)continue;if(0<o.props.followerDurationSeconds&&o.followSecondsRemaining<=0)continue}n.push(r)}else(r!==z.D5M.SLOW_MODE||0<o.slowSecondsRemaining)&&n.push(r)}return o.reasons=n,!0},o.getRemainingFollowSeconds=function(){return o.getFollowedTime()?Math.min(o.followSecondsRemaining,o.props.followerDurationSeconds):null},o.getRemainingSlowModeSeconds=function(){return o.slowSecondsRemaining},o.addUpdateHandler=function(e){-1===o.updateHandlers.indexOf(e)&&(o.updateHandlers=o.updateHandlers.concat(e))},o.removeUpdateHandler=function(n){o.updateHandlers=o.updateHandlers.filter(function(e){return e!==n})},o.updateState=function(){var e=o.updateSlowState(),e=o.updateFollowState()||e;return(e=o.updateRestrictionState()||e)&&o.notifyHandlers(),e},o.updateFollowState=function(){var e=o.getFollowedTime(),n=o.followSecondsRemaining,t=n;return e&&(t=ae(e,o.props.followerDurationSeconds),o.followSecondsRemaining=t),o.followTimerRunning&&(null===e||o.followSecondsRemaining<=0||!o.props.followerMode)?(o.stopFollowTimer(),!0):!o.followTimerRunning&&o.props.followerMode&&0<o.props.followerDuration&&e&&0!==e.getTime()?(o.startFollowTimer(),!0):t!==n},o.updateSlowState=function(){o.props.data&&o.props.data.channel&&o.props.data.channel.self&&o.props.data.channel.self.lastRecentChatMessageAt&&((t=(0,ne.sG)(o.props.data.channel.self.lastRecentChatMessageAt))>o.lastMessageSentAt&&(o.lastMessageSentAt=t));var e=(new Date).getTime()/1e3,n=o.lastMessageSentAt.getTime()/1e3+o.props.slowModeDuration,t=o.slowSecondsRemaining;return o.slowSecondsRemaining=Math.round(Math.max(n-e,0)),o.slowModeTimerRunning&&(o.slowSecondsRemaining<=0||!o.props.slowMode||!o.shouldEnforceSlowMode())?(o.stopSlowTimer(),!0):0<o.slowSecondsRemaining&&t<=0?(o.startSlowTimer(),!0):o.slowSecondsRemaining!==t},o.notifyHandlers=function(){o.updateHandlers.forEach(function(e){return e()})},o.onChatEvent=function(e){var n=new Date(0);switch(e.type){case x.SJ.Message:e.user.userID===o.props.currentUserID&&(n=new Date(e.timestamp));break;case x.SJ.Notice:Object.values(H).includes(e.msgid)&&(o.stopSlowTimer(),o.updateRestrictionState(),o.notifyHandlers())}n>o.lastMessageSentAt&&(o.lastMessageSentAt=n,o.updateSlowState()&&(o.updateRestrictionState(),o.notifyHandlers()))},o.startFollowTimer=function(){var e=o.getFollowedTime(),n=o.props.followerDurationSeconds;null===e||n<=0||!o.shouldEnforceFollowersOnly()||(o.followSecondsRemaining=ae(e,n),o.followTimerRunning=!0,o.countdownTimer.start())},o.stopFollowTimer=function(){o.followTimerRunning=!1,o.followSecondsRemaining=0,o.slowModeTimerRunning||o.countdownTimer.stop()},o.startSlowTimer=function(){o.shouldEnforceSlowMode()&&(o.slowModeTimerRunning=!0,o.countdownTimer.start())},o.stopSlowTimer=function(){o.slowModeTimerRunning=!1,o.slowSecondsRemaining=0,o.lastMessageSentAt=new Date(0),o.followTimerRunning||o.countdownTimer.stop()},o.tick=function(){o.updateState()},o.getFollowedTime=function(){return o.props.data&&o.props.data.channel&&o.props.data.channel.self&&o.props.data.channel.self.follower&&o.props.data.channel.self.follower.followedAt?(0,ne.sG)(o.props.data.channel.self.follower.followedAt):null},o.extractReasons=function(e){return e.data&&e.data.channel&&e.data.channel.self&&e.data.channel.self.chatRestrictedReasons?e.data.channel.self.chatRestrictedReasons:null},o.extractRequireVerified=function(e){return!!(e.data&&e.data.channel&&e.data.channel.chatSettings)&&e.data.channel.chatSettings.requireVerifiedAccount},o.restrictionIncluded=function(e){var n=o.extractReasons(o.props);return!!n&&-1!==n.indexOf(e)},o.shouldEnforceSubsOnly=function(){return o.props.subsOnlyMode&&o.restrictionIncluded(z.D5M.SUBSCRIBERS_ONLY)},o.shouldEnforcePhoneVerification=function(){return!0},o.shouldEnforceVerifiedOnly=function(){return!(!o.extractRequireVerified(o.props)||!o.restrictionIncluded(z.D5M.VERIFIED_ONLY))},o.shouldEnforceFollowersOnly=function(){return o.props.followerMode&&o.restrictionIncluded(z.D5M.FOLLOWERS_ONLY)},o.shouldEnforceSlowMode=function(){return o.props.slowMode&&o.restrictionIncluded(z.D5M.SLOW_MODE)},o}function se(e){return!e.data||e.data.loading||!e.data.channel||!e.data.channel.id||!e.currentUserID}var le,de=(0,r.qC)((0,i.$j)(function(e){e=(0,s.PR)(e);return{currentUserID:e&&e.id,isStaff:!!(e&&e.roles&&e.roles.isStaff)}}),u.nl,m.Qt,(0,o.TA)(ee,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,K.k)([{topic:function(e){return(0,Z.R5)(e.currentUserID||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:se},{topic:function(e){return(0,Z.OV)(e.currentUserID||"",e.data&&e.data.channel&&e.data.channel.id||"")},mapMessageTypesToProps:((K={})[X.qU.ModeratorAdded]="moderatorActions",K[X.qU.ModeratorRemoved]="moderatorActions",K),skip:se,skipMessage:function(e,n){return e.type!==X.qU.ModeratorAdded&&e.type!==X.qU.ModeratorRemoved||(!n.data.currentUser||e.data.target_user_id!==n.data.currentUser.id)}}]),(0,n.P)(function(e){return{query:ee,variables:{channelLogin:e.channelLogin},topic:(0,Z.b_)(e.currentUserID||""),type:X.qU.UserPropertiesUpdate,skip:se(e),mutator:function(e,n){return!n||!n.currentUser||void 0===e.changed.email_verified?n:J(n,function(e){return e.currentUser.isEmailVerified},function(){return e.changed.email_verified})}}}),(0,n.P)(function(e){return{query:ee,variables:{channelLogin:e.channelLogin},topic:(0,Z.Q4)(e.currentUserID||""),types:[X.qU.UserFollowedEvent,X.qU.UserUnfollowedEvent],skip:se(e),mutator:function(e,n){if(!n||!n.channel||!n.channel.self)return n;if(e.type===X.qU.UserFollowedEvent)return e.target_user_id!==n.channel.id?n:n.channel.self.follower?J(n,function(e){return e.channel.self.follower.followedAt},function(){return e.timestamp}):J(n,function(e){return e.channel.self.follower},function(){return{__typename:"FollowerEdge",followedAt:e.timestamp}});if(e.type===X.qU.UserUnfollowedEvent){if(e.target_user_id!==n.channel.id)return n;if(n.channel.self.follower)return J(n,function(e){return e.channel.self.follower.followedAt},function(){return null})}return n}}}),(0,T.LI)(function(e){return{followerDuration:e.followerDuration,followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}}))(V),ue=t(273757),ce=t(396359),me=t(831642),V=(le=f.Component,(0,g.__extends)(pe,le),pe.prototype.componentDidMount=function(){this.subscribe(this.props)},pe.prototype.componentDidUpdate=function(e){this.props.channelID===e.channelID&&this.props.currentUserID===e.currentUserID||this.subscribe(this.props)},pe.prototype.componentWillUnmount=function(){this.unsubscribe()},pe.prototype.render=function(){return null},pe.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):me.kg.warn("ModerationActionService received an event before the MessageHandlerAPI was available.")},pe);function pe(){var n=null!==le&&le.apply(this,arguments)||this;return n.subscribe=function(e){n.unsubscribe(),e.channelID&&e.currentUserID&&(n.unsubscriber=me.mW.subscribe({topic:(0,Z.OV)(e.currentUserID,e.channelID),onMessage:n.handleMessage}))},n.unsubscribe=function(){n.unsubscriber&&(n.unsubscriber(),n.unsubscriber=null)},n.handleMessage=function(e){if(e.type===X.qU.ModerationAction)switch(e.data.moderation_action){case X.e0.Ban:n.addMessage((0,$.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,e.data.args[1]));break;case X.e0.Delete:n.addMessage((0,$.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,void 0,e.data.args[1],e.data.args[2]));break;case X.ai.DeleteNotification:n.addMessage((0,$.X7)(X.ai.DeleteNotification,e.data.target_user_id,e.data.args[0],e.data.msg_id));break;case X.e0.Unban:case X.e0.Timeout:case X.e0.Untimeout:n.addMessage((0,$.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],e.data.args[1],e.data.args[2]));break;case X.e0.Mod:case X.e0.Unmod:n.addMessage((0,$.DP)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.target_user_login));break;case X.e0.AutoModEnabled:case X.e0.Clear:case X.e0.EmoteOnly:case X.e0.EmoteOnlyOff:case X.e0.FollowersOnly:case X.e0.FollowersOnlyOff:case X.e0.Host:case X.e0.R9kBeta:case X.e0.R9kBetaOff:case X.e0.Raid:case X.e0.Slow:case X.e0.SlowOff:case X.e0.SubsBeta:case X.e0.SubscribersOnly:case X.e0.SubscribersOnlyOff:case X.e0.Unhost:case X.e0.ModifiedAutoModProperties:case X.e0.Unraid:n.addMessage((0,$.b)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args));break;default:me.kg.warn("Unknown moderation action type",e.data.moderation_action)}else e.type===X.qU.ChannelTermsAction&&n.addMessage((0,$.b)(e.data.type,e.data.requester_login||"",e.data.requester_id,[e.data.text],e.data.from_automod))},n}var he,ge=(0,r.qC)((0,i.$j)(function(e){e=(0,s.PR)(e);return{currentUserID:e&&e.id}}),m.Qt)(V),fe=t(615130),ve=t(863480),ye=t(625471),V=t(116791),ke=t(95095),Se=t(622211),Ce=(0,r.qC)((0,o.TA)(V,{skip:function(e){return!e.channelLogin||!(0,ve.t)(ke.s)},options:function(e){return{variables:{login:null!==(e=e.channelLogin)&&void 0!==e?e:""}}}}),(0,i.$j)(function(e){return{user:(0,s.PR)(e)}},function(e){return(0,r.DE)({showModal:ye.K4},e)}))(function(e){var n=!!(e.data&&e.data.channel&&e.data.channel.roles&&(e.data.channel.roles.isAffiliate||e.data.channel.roles.isPartner)),n=(0,ve.t)(ke.s)&&n;return f.createElement(Se.C6,(0,g.__assign)({isPollsEnabled:n},e))}),be=t(935945),we="PowerUpL DarkMode PowerUpR",V={failSilently:!0,placeholder:null},Ee=v.P.wrap(function(){return t.e(95174).then(t.bind(t,278169))},"BountyBoardNotification",V),_e=v.P.wrap(function(){return Promise.all([t.e(54736),t.e(92692)]).then(t.bind(t,964381))},"ChatCommandHandlers",V),Ne=v.P.wrap(function(){return t.e(13659).then(t.bind(t,440208))},"NativeBroadcastNotification",V),De=v.P.wrap(function(){return t.e(22526).then(t.bind(t,461381))},"Orbis",V),V=(he=f.Component,(0,g.__extends)(Me,he),Me.getDerivedStateFromProps=function(e,n){return e.channelLogin!==n.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,hostedChannelLogin:null}:null},Me.prototype.componentDidMount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent)},Me.prototype.componentWillUnmount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent)},Me.prototype.componentDidUpdate=function(e){e.initialStateLoaded&&(e.followerModeDuration===this.props.followerModeDuration&&e.followerModeEnabled===this.props.followerModeEnabled||this.pushMessage((0,F.aK)(this.props.followerModeEnabled,this.props.followerModeDuration)),e.slowModeEnabled===this.props.slowModeEnabled&&e.slowModeDuration===this.props.slowModeDuration||this.pushMessage((0,F.CI)(this.props.slowModeEnabled,this.props.slowModeDuration))),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},Me.prototype.render=function(){var e,n=this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],t=this.props.isHidden||!this.props.rightColumnExpanded&&!this.props.inlineRightColumnExpanded,i=!(!this.props.isEmbedded&&!this.props.isPopout&&t&&!this.props.shouldConnectChat),t=this.determineCommandPermissionLevel();return this.props.firstPageLoaded&&(e=f.createElement(De,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage})),f.createElement(f.Fragment,null,f.createElement(be.Vk,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRoomHeader:e,chatRules:this.props.chatRules,commandPermissionLevel:t,currentUserDisplayName:this.props.userDisplayName,currentUserLogin:this.props.userLogin,emotes:n,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},firstPageLoaded:this.props.firstPageLoaded,hostedChannelLogin:this.state.hostedChannelLogin,isBackground:this.props.isBackground,isChatRulesOpen:this.props.isChatRulesOpen,isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHidden:this.props.isHidden,isHostMode:!!this.state.hostedChannelLogin,isReadOnly:this.props.isReadOnly,isOwnChannel:this.isOwnChannel,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatUnhide:this.props.onChatUnhide,onCloseChatRules:this.props.onCloseChatRules,onPushMessage:this.pushMessage,onSendMessage:this.sendMessage,onShowChatRules:this.props.onShowChatRules,theme:this.props.theme,userBadges:this.state.userBadges,userBadgeDynamicData:this.state.userBadgeDynamicData,userID:this.props.userID,useBaseBackground:this.props.useBaseBackground},this.renderNotifications(),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&f.createElement(Ne,{key:this.props.channelLogin.toLowerCase(),channelLogin:this.props.channelLogin})),this.renderCommandHandlers(),f.createElement(W,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin}),f.createElement(de,{channelLogin:this.props.channelLogin}),f.createElement(Q.u,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,commandPermissionLevel:t,emoteSets:this.emoteSetsWithModifiers(),isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:!!this.state.hostedChannelLogin,shouldConnect:i,userID:this.props.userID}),f.createElement(ue.q,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,shouldSeeBlockedAndDeletedMessages:this.props.shouldSeeBlockedAndDeletedMessages,isBackground:!!this.props.isBackground,isCurrentUserModerator:this.props.isCurrentUserModerator,unhideIgnoredUsers:this.props.unhideIgnoredUsers}),f.createElement(ce.d,null),f.createElement(ge,{channelID:this.props.channelID}),f.createElement(G,{channelID:this.props.channelID}))},Me.prototype.renderCommandHandlers=function(){return this.props.isBackground||!this.props.firstPageLoaded?null:f.createElement(_e,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRules:this.props.chatRules,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap,isEditor:this.props.isCurrentUserEditor,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,permissionLevel:this.determineCommandPermissionLevel(),sendMessage:this.sendMessage,userID:this.props.userID,userLogin:this.props.userLogin})},Object.defineProperty(Me.prototype,"isOwnChannel",{get:function(){return this.props.userID===this.props.channelID},enumerable:!0,configurable:!0}),Me);function Me(e){var t=he.call(this,e)||this;return t.state={hasReceivedInitialRoomState:!1,hostedChannelLogin:null,prevPropsChannelLogin:t.props.channelLogin,userBadges:null,userBadgeDynamicData:null},t.renderNotifications=function(){var e=[];return t.props.firstPageLoaded&&t.props.channelID&&e.push(f.createElement(Ee,{key:"bounty-board-notification",channelID:t.props.channelID})),e},t.sendMessage=function(e,n){if(!e||0===e.length||!t.props.authToken)return!1;if(!t.props.chatConnectionAPI)return!1;n=t.props.chatConnectionAPI.sendMessage(e,n);return!(n&&n.preserveInput||(t.parseOutgoingMessage(e),0))},t.pushMessage=function(e){t.props.messageHandlerAPI&&t.props.messageHandlerAPI.handleMessage(e)},t.onChatEvent=function(e){switch(e.type){case x.SJ.Hosting:t.hostingHandler(e.hostedChannel);break;case x.SJ.Unhost:t.hostingHandler(null);break;case x.SJ.RoomState:t.onRoomStateUpdated(e.state);break;case x.SJ.BadgesUpdated:t.onBadgesUpdated(e)}},t.hostingHandler=function(e){t.setState({hostedChannelLogin:e}),t.props.onHostingChange&&t.props.onHostingChange(e)},t.createOutgoingTokenMatchers=function(e){t.outgoingTokenMatchers=e.map(function(e){return{token:e,regex:new RegExp("(?:\\W|^)"+e+"(?:$|\\W)")}})},t.parseOutgoingMessage=function(n){t.outgoingTokenMatchers.forEach(function(e){e.regex.test(n)&&t.onOutgoingTokenMatch(e.token,n)})},t.onOutgoingTokenMatch=function(e,n){e===we&&(e=t.props.theme===y.Q.Light?y.Q.Dark:y.Q.Light,t.props.onThemeChange(e))},t.onBadgesUpdated=function(e){t.setState({userBadges:e.badges,userBadgeDynamicData:e.badgeDynamicData||null})},t.onRoomStateUpdated=function(e){t.props.initialStateLoaded||t.props.onRoomStateUpdate(e)},t.determineCommandPermissionLevel=function(){return t.props.userLogin&&t.props.userLogin===t.props.channelLogin?U.s.Broadcaster:t.props.isCurrentUserModerator?U.s.Moderator:t.props.isCurrentUserVIP?U.s.Vip:U.s.Viewer},t.emoteSetsWithModifiers=function(){var e;return(null===(e=null===(e=t.props.emoteSetsData)||void 0===e?void 0:e.emoteSets)||void 0===e?void 0:e.map(function(e){var n,t=(0,g.__spreadArrays)((null==e?void 0:e.emotes)||[]);return null===(n=null==e?void 0:e.emotes)||void 0===n||n.forEach(function(n){var e;null===(e=null==n?void 0:n.modifiers)||void 0===e||e.forEach(function(e){t.push({id:n.id+"_"+e.code,token:n.token+"_"+e.code})})}),(0,g.__assign)((0,g.__assign)({},e),{emotes:t})}))||[]},t.createOutgoingTokenMatchers([we]),t}var Ie,Te=(0,T.LI)(function(n){return{followerModeDuration:n.followerDuration,followerModeEnabled:n.followerMode,slowModeDuration:n.slowModeDuration,slowModeEnabled:n.slowMode,initialStateLoaded:n.initialStateLoaded,onRoomStateUpdate:function(e){return n.updateRoomState(e)}}})(V),Pe=(0,r.qC)((0,i.$j)(function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isHidden:e.chat.isHidden,isLoggedIn:(0,s.jl)(e),rightColumnExpanded:e.ui.rightColumnExpanded,inlineRightColumnExpanded:e.ui.inlineRightColumnExpanded,theme:(0,C.zv)(e),unhideIgnoredUsers:e.chat.unhideIgnoredUsers}},function(e){return(0,r.DE)({onCloseChatRules:function(){return E.WF()},onShowChatRules:function(){return E._A()},onChatUnhide:function(){return E.YF()},onThemeChange:function(e){return(0,S.L)(e,{trackingSource:S.E.TypedCommand})}},e)}),(0,p.W)("ChatRoom",{autoReportInteractive:!0}),(0,k.S)(),d.l,m.Qt)(function(e){return f.createElement(T.FP,{channelLogin:e.channelLogin},f.createElement(L.ws,null,f.createElement(_.tg,null,f.createElement(A.Bk,null,f.createElement(R.sW,null,f.createElement(P.vc,{channelID:e.channelID},f.createElement(M.E1,null,f.createElement(I.cN,null,f.createElement(D.j9,null,f.createElement(N.By,null,f.createElement(fe.D,{channelLogin:e.channelLogin},f.createElement(b.Xb,{key:e.channelLogin},f.createElement(Ce,{channelLogin:e.channelLogin},f.createElement(w.kc,null,f.createElement(Te,(0,g.__assign)({},e))))))))))))))))}),V=(Ie=f.Component,(0,g.__extends)(Re,Ie),Re.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},Re.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},Re.prototype.render=function(){var e,n,t=this.props.channelData.channel,i=this.props.userData&&this.props.userData.user,a=!1,r=!1,o=!1,s=!1,l=!1;i&&t&&t.self&&(e=i.login===t.login,n=i.roles&&i.roles.isGlobalMod||!1,d=i.roles&&i.roles.isSiteAdmin||!1,s=i.roles&&i.roles.isStaff||!1,l=t.self.isModerator||e||n,r=t.self.isModerator||e||n||d,a=t.self.isEditor||!1,o=t.self.isVIP||!1);var d=void 0;return t&&t.chatSettings&&t.chatSettings.rules&&t.chatSettings.rules.filter(function(e){return e.trim().length}).length&&(d=t.chatSettings.rules),f.createElement(Pe,{key:this.props.channelLogin,authToken:this.props.sessionUser&&this.props.sessionUser.authToken,channelDisplayName:t&&t.displayName,channelID:t&&t.id,channelLogin:this.props.channelLogin,chatRules:d,clientID:this.props.clientID,isBackground:this.props.isBackground,isCurrentUserEditor:a,isCurrentUserModerator:r,isCurrentUserVIP:o,isEmbedded:!!this.props.isEmbedded,isPopout:!!this.props.isPopout,onHostingChange:this.props.onHostingChange,userDisplayName:this.props.sessionUser&&this.props.sessionUser.displayName,userID:this.props.sessionUser&&this.props.sessionUser.id.toString(),userLogin:this.props.sessionUser&&this.props.sessionUser.login,isStaff:s,shouldSeeBlockedAndDeletedMessages:l,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},Re),k=t(432242);function Re(){return null!==Ie&&Ie.apply(this,arguments)||this}var V=(0,r.qC)((0,i.$j)(function(e){return{sessionUser:(0,s.PR)(e)}}),(0,o.TA)(h,{name:"channelData",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,o.TA)(k,{name:"userData",skip:function(e){return!e.sessionUser}}),(0,p.W)("Chat"))(V),Ae=(0,r.qC)(l._,d.V,c.uq,m.QL,u.pe)(V)},196171:function(e,n,t){"use strict";var i,a;t.d(n,{s:function(){return i},U:function(){return a}}),(n=i=i||{})[n.Viewer=0]="Viewer",n[n.Vip=1]="Vip",n[n.Moderator=2]="Moderator",n[n.Broadcaster=3]="Broadcaster",(n=a=a||{}).InvalidParameters="invalid_parameters",n.MissingParameters="missing_parameters",n.Unauthorized="unauthorized",n.UnrecognizedCommand="unrecognized_command"},498409:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{SJ:function(){return i},Ay:function(){return a},Aw:function(){return r},mT:function(){return o},x1:function(){return s}}),(n=i=i||{})[n.Message=0]="Message",n[n.ExtensionMessage=1]="ExtensionMessage",n[n.Moderation=2]="Moderation",n[n.ModerationAction=3]="ModerationAction",n[n.TargetedModerationAction=4]="TargetedModerationAction",n[n.AutoMod=5]="AutoMod",n[n.SubscriberOnlyMode=6]="SubscriberOnlyMode",n[n.FollowerOnlyMode=7]="FollowerOnlyMode",n[n.SlowMode=8]="SlowMode",n[n.EmoteOnlyMode=9]="EmoteOnlyMode",n[n.R9KMode=10]="R9KMode",n[n.Connected=11]="Connected",n[n.Disconnected=12]="Disconnected",n[n.Reconnect=13]="Reconnect",n[n.Hosting=14]="Hosting",n[n.Unhost=15]="Unhost",n[n.Hosted=16]="Hosted",n[n.Subscription=17]="Subscription",n[n.Resubscription=18]="Resubscription",n[n.GiftPaidUpgrade=19]="GiftPaidUpgrade",n[n.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",n[n.PrimePaidUpgrade=21]="PrimePaidUpgrade",n[n.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",n[n.ExtendSubscription=23]="ExtendSubscription",n[n.SubGift=24]="SubGift",n[n.AnonSubGift=25]="AnonSubGift",n[n.Clear=26]="Clear",n[n.RoomMods=27]="RoomMods",n[n.RoomState=28]="RoomState",n[n.Raid=29]="Raid",n[n.Unraid=30]="Unraid",n[n.Ritual=31]="Ritual",n[n.Notice=32]="Notice",n[n.Info=33]="Info",n[n.BadgesUpdated=34]="BadgesUpdated",n[n.Purchase=35]="Purchase",n[n.BitsCharity=36]="BitsCharity",n[n.CrateGift=37]="CrateGift",n[n.RewardGift=38]="RewardGift",n[n.SubMysteryGift=39]="SubMysteryGift",n[n.AnonSubMysteryGift=40]="AnonSubMysteryGift",n[n.StandardPayForward=41]="StandardPayForward",n[n.CommunityPayForward=42]="CommunityPayForward",n[n.FirstCheerMessage=43]="FirstCheerMessage",n[n.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",n[n.InlinePrivateCallout=45]="InlinePrivateCallout",n[n.ChannelPointsReward=46]="ChannelPointsReward",n[n.CommunityChallengeContribution=47]="CommunityChallengeContribution",n[n.CelebrationPurchase=48]="CelebrationPurchase",n[n.LiveMessageSeparator=49]="LiveMessageSeparator",(n=a=a||{})[n.Post=0]="Post",n[n.Action=1]="Action",(n=r=r||{})[n.Ban=0]="Ban",n[n.Timeout=1]="Timeout",n[n.Delete=2]="Delete",(n=o=o||{})[n.MessageRejectedPrompt=0]="MessageRejectedPrompt",n[n.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",n[n.MessageRejected=2]="MessageRejected",n[n.MessageAllowed=3]="MessageAllowed",n[n.MessageDenied=4]="MessageDenied",n[n.CheerMessageDenied=5]="CheerMessageDenied",n[n.CheerMessageTimeout=6]="CheerMessageTimeout",n[n.MessageModApproved=7]="MessageModApproved",n[n.MessageModDenied=8]="MessageModDenied";var s=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},721482:function(e,n,t){"use strict";var i,a,r;t.d(n,{nS:function(){return i},DB:function(){return a},v4:function(){return r},g_:function(){return o}}),(n=i=i||{}).ShareEmoteReward="share-emote-reward",n.ShareBitsBadgeTier="share-bits-badge-tier",n.ThankSubGifter="thank-sub-gifter",n.ShareResub="share-resub",n.CommunityPointsSpend="community-points-spend",n.ShareDrop="share-drop",n.NoOverride="no-override",n.Reply="reply",(n=a=a||{}).Chat="chat-message-handler",n.Command="command-message-handler",n.Bits="bits-message-handler",n.Custom="custom-message-handler",n.ShareResub="share-resub-message-handler",n.Reply="chat-reply-handler",(n=r=r||{}).Connecting="connecting",n.CharacterLimitError="character-limit-error",n.DuplicatedMessageError="duplicated-message-error",n.MessageThroughputError="message-throughput-error",n.MobilePhoneVerificationBanner="mobile-phone-verification-banner",n.MobilePhoneVerificationInfo="mobile-phone-verification-info",n.EmoteOnlyBanner="emote-only-banner",n.EmoteOnlyInfo="emote-only-info",n.EmoteOnlyWarning="emote-only-warning",n.AutocompleteTray="autocomplete-tray",n.CommandWarning="command-warning",n.CommandInfo="command-info",n.SlowModeBanner="slow-mode-banner",n.SlowModeInfo="slow-mode-info",n.SubsOnlyBanner="subs-only-banner",n.SubsOnlyInfo="subs-only-info",n.FollowerModeBanner="follower-mode-banner",n.FollowerModeInfo="follower-mode-info",n.VerifiedOnlyModeBanner="verified-only-mode-banner",n.VerifiedOnlyModeInfo="verified-only-mode-info",n.Reply="reply",n.ShareResub="share-resub",n.ShareBitsBadgeTier="share-bits-badge-tier",n.HighlightedMessage="highlighted-message",n.SubsOnlyMessage="subs-only-message",n.CustomReward="custom-reward",n.ShareEmote="share-emote",n.ThankSubGifter="thank-sub-gifter",n.MegaRewardsRecipient="mega-rewards-recipient",n.HypeTrainRewards="hype-train-rewards",n.DropsClaim="drops-claim",n.DropsError="drops-error",n.GenericPrivateCallout="generic-private-callout";var o=new Set([r.CharacterLimitError,r.DuplicatedMessageError,r.MessageThroughputError,r.CommandWarning,r.EmoteOnlyInfo,r.EmoteOnlyWarning])},117090:function(e,n,t){"use strict";var i,a;t.d(n,{h5:function(){return i},xy:function(){return a},Lg:function(){return r}}),(n=i=i||{}).Small="small",n.Default="default",n.Bigger="bigger",n.Biggest="biggest",(n=a=a||{}).Minimum="minimum",n.Expanded="expanded";var r="control"},632712:function(e,n,t){"use strict";var i;t.d(n,{i:function(){return i}}),(n=i=i||{})[n.Chat=0]="Chat",n[n.ViewerList=1]="ViewerList"},206124:function(e,n,t){"use strict";t.d(n,{py:function(){return a},gf:function(){return r},og:function(){return o},bc:function(){return s}});var i=t(831642),a=30,r=[0,-1,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return(0,i.wv)("0 minutes (Any followers)","FollowersOnlyLabel");case-1:return(0,i.wv)("Off","FollowersOnlyLabel");case 10:return(0,i.wv)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return(0,i.wv)("30 minutes","FollowersOnlyLabel");case 60:return(0,i.wv)("1 hour","FollowersOnlyLabel");case 1440:return(0,i.wv)("1 day","FollowersOnlyLabel");case 10080:return(0,i.wv)("1 week","FollowersOnlyLabel");case 43200:return(0,i.wv)("1 month","FollowersOnlyLabel");case 129600:return(0,i.wv)("3 months","FollowersOnlyLabel");default:return i.kg.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return(0,i.wv)("0 min","FollowersOnlyShorthand");case-1:return(0,i.wv)("Off","FollowersOnlyShorthand");case 10:return(0,i.wv)("10 min","FollowersOnlyShorthand");case 30:return(0,i.wv)("30 min","FollowersOnlyShorthand");case 60:return(0,i.wv)("1 hr","FollowersOnlyShorthand");case 1440:return(0,i.wv)("1 day","FollowersOnlyShorthand");case 10080:return(0,i.wv)("1 wk","FollowersOnlyShorthand");case 43200:return(0,i.wv)("1 mo","FollowersOnlyShorthand");case 129600:return(0,i.wv)("3 mo","FollowersOnlyShorthand");default:return(0,i.wv)("custom","FollowersOnlyShorthand")}}},137147:function(e,n,t){"use strict";var i;t.d(n,{K:function(){return i}}),(n=i=i||{})[n.Default=0]="Default",n[n.Recipient=1]="Recipient",n[n.Sender=2]="Sender"},655995:function(e,n,t){"use strict";t.d(n,{bX:function(){return a},v7:function(){return r},lU:function(){return o},b6:function(){return s}});var i=t(831642),a=30,r=[3,5,10,20,30,60,120];function o(e){switch(e){case 3:return(0,i.wv)("3 seconds","SlowModeLabel");case 5:return(0,i.wv)("5 seconds","SlowModeLabel");case 10:return(0,i.wv)("10 seconds","SlowModeLabel");case 20:return(0,i.wv)("20 seconds","SlowModeLabel");case 30:return(0,i.wv)("30 seconds (default)","SlowModeLabel");case 60:return(0,i.wv)("60 seconds","SlowModeLabel");case 120:return(0,i.wv)("120 seconds","SlowModeLabel");default:return i.kg.warn("[SlowModeLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 3:return(0,i.wv)("3s","SlowModeShorthand");case 5:return(0,i.wv)("5s","SlowModeShorthand");case 10:return(0,i.wv)("10s","SlowModeShorthand");case 20:return(0,i.wv)("20s","SlowModeShorthand");case 30:return(0,i.wv)("30s","SlowModeShorthand");case 60:return(0,i.wv)("60s","SlowModeShorthand");case 120:return(0,i.wv)("120s","SlowModeShorthand");default:return(0,i.wv)("custom","SlowModeShorthand")}}},715602:function(e,n,t){"use strict";t.d(n,{iv:function(){return r},zz:function(){return i},Z6:function(){return a}});var i,a,r={Embed:"embed",Web:"web"};(n=i=i||{}).Click="click",n.Enter="enter",(n=a=a||{}).ZeroBits="zero_bits",n.CheeringDisabled="cheering_disabled",n.BitsUnavailable="bits_unavailable",n.BitsCardDisabled="bits_card_disabled",n.AboveMaxEmote="above_max_emote",n.AboveMaxCheer="above_max_cheer",n.BelowMin="below_min",n.BelowMinEmote="below_min_emote",n.InputAboveMaxLength="input_above_max_length",n.InputCommandStart="input_command_start",n.InvalidBitsMessage="invalid_bits_message",n.Canceled="canceled",n.UserBanned="user_banned",n.AutoModMessage="auto_mod_message",n.AutoModPending="auto_mod_pending",n.ChannelBlockedTerms="channel_blocked_terms",n.ChannelIneligible="channel_ineligible",n.InvalidAnonymousMessage="invalid_anonymous_message",n.InvalidEventId="invalid_event_id",n.RequestThrottled="request_throttled",n.Unknown="unknown",n.UserIneligible="user_ineligible",n.UserSuspended="user_suspended",n.ZalgoMessage="zalgo_message",n.DuplicateEventId="duplicate_event_id",n.MissingBitsConfig="missing_bits_config"},663823:function(e,n,t){"use strict";var i,a,r,o,s;t.d(n,{Dy:function(){return i},Ou:function(){return a},LL:function(){return r},d1:function(){return o},jQ:function(){return s}}),(n=i=i||{}).DeleteMessage="delete",n.BanUser="ban",n.UnbanUser="unban",n.TimeoutUser="timeout",n.UntimeoutUser="untimeout",n.ModUser="mod",n.UnmodUser="unmod",(n=a=a||{}).QuickModButtons="quick_mod_buttons",n.ChatCommand="chat_command",n.ModerationCard="moderation_card",n.DashboardBannedChatters="dashboard_banned_chatters",n.AutoModWidget="automod_widget_buttons",n.ModViewContextBar="mod_view_context_bar",n.ReadOnly="read_only",n.UnbanRequestWidget="unban_request",(n=r=r||{}).Broadcaster="broadcaster",n.Staff="staff",n.Editor="editor",n.Mod="mod",(n=o=o||{}).ChannelPage="channel_page",n.Dashboard="dashboard",n.DesktopPopout="desktop",n.Embed="embed",n.ModView="mod_view",n.LiveDashboard="live_dashboard",n.MultiStream="multi_stream",n.Popout="popout",n.Spotlight="spotlight",n.StreamManager="stream_manager",n.WatchParty="watch_party",(n=s=s||{}).Channel="channel",n.Login="login"},328099:function(e,n,t){"use strict";t.d(n,{j:function(){return a},Z:function(){return i}});var i,a={DarkMode:"darkMode",FollowerDuration:"followerDuration",FollowerMode:"followerMode",HideChat:"hideChat",ShowMessageFlags:"showMessageFlags",ShowAutoModActions:"showAutoModActions",ShowModActions:"showModerationActions",ShowModIcons:"showModIcons",ShowTimestamps:"showTimestamps",SlowModeDuration:"slowModeDuration",UseHighContrastColors:"useHighContrastColors",EmoteAnimationsSetting:"emoteAnimationsSetting",SlowMode:"slowMode",DeletedMessageDisplaySetting:"deletedMessageDisplaySetting",ChatPauseSetting:"chatPauseSetting",FontSize:"fontSize",RepliesAppearance:"repliesAppearance"};(n=i=i||{}).ChatAppearance="chat_appearance",n.ChatReplies="chat_replies"},190109:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{Vn:function(){return i},TU:function(){return a},BO:function(){return r},cY:function(){return o}}),(n=i=i||{})[n.unknown=0]="unknown",n[n.chat=1]="chat",n[n.room=2]="room",n[n.whisper=3]="whisper",n[n.vod=4]="vod",(n=a=a||{})[n.chat_message=0]="chat_message",n[n.extension_message=1]="extension_message",n[n.member_list=2]="member_list",n[n.recent_raids=3]="recent_raids",n[n.room_message=4]="room_message",n[n.test=5]="test",n[n.user_command=6]="user_command",n[n.viewer_list=7]="viewer_list",n[n.viewer_list_mod_section=8]="viewer_list_mod_section",n[n.mega_cheer_notification=9]="mega_cheer_notification",n[n.bits_leaderboard=10]="bits_leaderboard",n[n.popout_button=11]="popout_button",n[n.hype_train=12]="hype_train",n[n.mod_view=13]="mod_view",n[n.callout=14]="callout",(n=r=r||{})[n.Viewer=0]="Viewer",n[n.Extension=1]="Extension",n[n.Emote=2]="Emote",(n=o=o||{})[n.MainPage=0]="MainPage",n[n.SubGiftSelectPage=1]="SubGiftSelectPage",n[n.BadgeCarouselPage=2]="BadgeCarouselPage"},86891:function(e,n,t){"use strict";t.d(n,{P:function(){return d},C:function(){return u}});var i=t(129989),a=t(987145),r=t(867284),o=t(906704),s=t(508995),l=t(434555);function d(){return(0,a.TA)(l,{name:"currentUserBannedStatusData",options:function(e){return{variables:{channelLogin:null!==(e=e.channelLogin)&&void 0!==e?e:""}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}})}function u(){return(0,r.P)(function(t){return{variables:{channelLogin:t.channelLogin},query:l,skip:!t.sessionUser||!t.channelID||!t.firstPageLoaded,topic:t.sessionUser&&t.channelID?(0,s.NE)(""+(t.sessionUser&&t.sessionUser.id)):"",type:o.qU.ChatRoomsUserModAction,mutator:function(e,n){return t.sessionUser&&t.channelID&&n.channel&&n.channel.self&&e.data.target_id===t.sessionUser.id&&e.data.channel_id===t.channelID&&("ban"===e.data.action?n=i(n,function(e){return e.channel.self.banStatus},function(){return{isPermanent:!0,expiresAt:e.data.expires_at||null,expiresInMs:e.data.expires_in_ms||null,reason:e.data.reason||null,__typename:"ChatRoomBanStatus"}}):"unban"===e.data.action?n=i(n,function(e){return e.channel.self.banStatus},function(){return null}):"timeout"===e.data.action&&(n=i(n,function(e){return e.channel.self.banStatus},function(){return{isPermanent:!1,expiresAt:e.data.expires_at||null,expiresInMs:e.data.expires_in_ms||null,reason:e.data.reason||null,__typename:"ChatRoomBanStatus"}}))),n}}})}},201515:function(e,n,t){"use strict";t.d(n,{_:function(){return i},j:function(){return a}});var n=(0,t(905728).$)("ActiveChatters"),t=n.withChatServiceManager,n=n.withContext,i=t,a=n(function(e){return{activeChattersAPI:e.serviceAPI,setActiveChattersAPI:e.setServiceAPI}})},520477:function(e,n,t){"use strict";t.d(n,{u:function(){return ee}});var i=t(129989),a=t(137703),r=t(14890),o=t(987145),s=t(867284),l=t(906704),d=t(508995),u=t(797425),c=t(457087),m=t(124822),p=t(430028),h=t(986923),g=t(877465),f=t(613290),v=t(965347),y=t(832581),k=t(679864),S=t(331902),C=t(773105),b=t(509301),n=t(570655),w=t(667294),E=t(255687),_=t(58661),N=t(270406),D=t(831642),M=t(560772),I=t(758588),T=t(646628),P=t(742407),R=t(196171),A=t(498409);function L(e){var n;return(n={})[R.s.Viewer]="viewer",n[R.s.Vip]="vip",n[R.s.Moderator]="moderator",n[R.s.Broadcaster]="broadcaster",n[e]}var F,U=t(747961),x=t(44683),O=t(652461),B=t(972130),V=t(670599),q=t(802624),G=t(713890),H=t(869487),W=t(510091),z=t(190109),$=t(259115),j=t(721482),Y=t(296942),Q=t(48993),J=t(817207),K=t(823955),n=(F=w.Component,(0,n.__extends)(X,F),X.prototype.render=function(){return null},X.prototype.componentDidMount=function(){this.registerCustomLatencyEvents(),this.props.setChatConnectionAPI({sendMessage:this.sendMessage}),this.shouldConnectOnMount()?(this.setConnectingTray(),this.join(this.props.channelLogin)):this.props.latencyTracking.reportInteractive(),this.props.emoteSets&&this.client.updateEmoteMap((0,K.$1)(this.props.emoteSets)),null===this.props.channelID&&this.skipLatencyMeasurements()},X.prototype.componentWillUnmount=function(){clearTimeout(this.reconnectionTimeout),this.props.setChatConnectionAPI(),this.disconnect(this.props.channelLogin)},X.prototype.componentDidUpdate=function(e){var n=this;(!this.props.shouldConnect&&e.shouldConnect||null===this.props.channelID&&this.props.channelID!==e.channelID)&&this.skipLatencyMeasurements(),this.props.emoteSets&&this.props.emoteSets!==e.emoteSets&&this.client.updateEmoteMap((0,K.$1)(this.props.emoteSets));var t=this.isUserBanned(this.props)&&!this.isUserBanned(e),i=!this.isUserBanned(this.props)&&this.isUserBanned(e);!this.props.shouldConnect&&e.shouldConnect||t?(this.disconnect(e.channelLogin),this.props.clearModifierTray()):(this.props.authToken!==e.authToken||this.props.channelLogin!==e.channelLogin||this.props.currentUserID!==e.currentUserID||this.props.shouldConnect&&!e.shouldConnect||i)&&(this.logger.debug("Reconnecting..."),this.registerCustomLatencyEvents(),i?this.reconnectionTimeout=setTimeout(function(){return n.join(n.props.channelLogin)},1e3):this.join(this.props.channelLogin))},X.prototype.isUserBanned=function(e){return!(!e.data||e.data.loading||e.data.error||!e.data.chatRoomBanStatus)&&e.data.chatRoomBanStatus.isPermanent},X.prototype.join=function(e){this.logger.debug("Joining channel and binding all event listeners",this.props.channelLogin),this.hasConnected=!1,this.joinedChannel&&this.joinedChannel!==e&&this.service.part(this.joinedChannel),this.joinedChannel=e,this.connectHandlers(),this.service.join(e)},X.prototype.disconnect=function(e){this.logger.debug("Parting channel and unbinding all event listeners",e),this.disconnectHandlers(),this.service.part(e),this.skipLatencyMeasurements()},X.prototype.getFilterFlagOptions=function(e){return!e||0===e.length||this.props.chatFilterExperimentMembership===g.VX.Excluded||!this.props.viewerChatFilterEnabled||this.props.isCurrentUserModerator?null:{list:e,preferences:this.props.viewerChatFilterSettings}},X.prototype.connectHandlers=function(){this.disconnectHandlers(),this.client.events.joined(this.onJoinedEvent),this.client.events.disconnected(this.onDisconnectedEvent),this.client.events.reconnecting(this.onReconnectingEvent),this.client.events.reconnected(this.onReconnectedEvent),this.client.events.chat(this.onChatMessageEvent),this.client.events.usernotice(this.onChatMessageEvent),this.client.events.notice(this.onChatNoticeEvent),this.client.events.action(this.onChatActionEvent),this.client.events.badgesupdated(this.onBadgesUpdatedEvent),this.client.events.hosted(this.onHostedEvent),this.client.events.hosting(this.onHostingEvent),this.client.events.unhost(this.onUnhostEvent),this.client.events.purchase(this.onPurchaseEvent),this.client.events.crate(this.onCrateEvent),this.client.events.rewardgift(this.onRewardGiftEvent),this.client.events.ritual(this.onRitualEvent),this.client.events.firstcheer(this.onFirstCheerEvent),this.client.events.bitsbadgetier(this.onBitsBadgeTierEvent),this.client.events.channelpointsreward(this.onChannelPointsRewardEvent),this.client.events.timingack(this.onTimingAckEvent),this.client.events.subscription(this.onSubscriptionEvent),this.client.events.resub(this.onResubscriptionEvent),this.client.events.giftpaidupgrade(this.onGiftPaidUpgradeEvent),this.client.events.anongiftpaidupgrade(this.onAnonGiftPaidUpgradeEvent),this.client.events.primepaidupgrade(this.onPrimePaidUpgradeEvent),this.client.events.extendsub(this.onExtendSubscriptionEvent),this.client.events.subgift(this.onSubscriptionGiftEvent),this.client.events.anonsubgift(this.onAnonSubscriptionGiftEvent),this.client.events.submysterygift(this.onSubscriptionMysteryGiftEvent),this.client.events.anonsubmysterygift(this.onAnonSubscriptionMysteryGiftEvent),this.client.events.communitypayforward(this.onCommunityPayForwardEvent),this.client.events.standardpayforward(this.onStandardPayForwardEvent),this.client.events.timeout(this.onTimeoutEvent),this.client.events.ban(this.onBanEvent),this.client.events.clearchat(this.onClearChatEvent),this.client.events.clearmsg(this.onClearMsgEvent),this.client.events.raid(this.onRaidEvent),this.client.events.unraid(this.onUnraidEvent),this.client.events.mods(this.onRoomModsEvent),this.client.events.roomstate(this.onRoomStateEvent),this.client.events.subscribers(this.onSubscriberOnlyModeEvent),this.client.events.emoteonlymode(this.onEmoteOnlyModeEvent),this.client.events.r9kmode(this.onR9KModeEvent),this.client.events.charity(this.onBitsCharityEvent),this.client.events.primecommunitygiftreceived(this.onPrimeCommunityGiftReceivedEvent),this.client.events.celebrationpurchase(this.onCelebrationPurchaseEvent)},X.prototype.disconnectHandlers=function(){this.client.events.remove("joined",this.onJoinedEvent),this.client.events.remove("disconnected",this.onDisconnectedEvent),this.client.events.remove("reconnecting",this.onReconnectingEvent),this.client.events.remove("reconnected",this.onReconnectedEvent),this.client.events.remove("chat",this.onChatMessageEvent),this.client.events.remove("usernotice",this.onChatMessageEvent),this.client.events.remove("notice",this.onChatNoticeEvent),this.client.events.remove("action",this.onChatActionEvent),this.client.events.remove("badgesupdated",this.onBadgesUpdatedEvent),this.client.events.remove("hosted",this.onHostedEvent),this.client.events.remove("hosting",this.onHostingEvent),this.client.events.remove("unhost",this.onUnhostEvent),this.client.events.remove("purchase",this.onPurchaseEvent),this.client.events.remove("crate",this.onCrateEvent),this.client.events.remove("rewardgift",this.onRewardGiftEvent),this.client.events.remove("ritual",this.onRitualEvent),this.client.events.remove("firstcheer",this.onFirstCheerEvent),this.client.events.remove("bitsbadgetier",this.onBitsBadgeTierEvent),this.client.events.remove("channelpointsreward",this.onChannelPointsRewardEvent),this.client.events.remove("timingack",this.onTimingAckEvent),this.client.events.remove("subscription",this.onSubscriptionEvent),this.client.events.remove("resub",this.onResubscriptionEvent),this.client.events.remove("giftpaidupgrade",this.onGiftPaidUpgradeEvent),this.client.events.remove("anongiftpaidupgrade",this.onAnonGiftPaidUpgradeEvent),this.client.events.remove("primepaidupgrade",this.onPrimePaidUpgradeEvent),this.client.events.remove("extendsub",this.onExtendSubscriptionEvent),this.client.events.remove("subgift",this.onSubscriptionGiftEvent),this.client.events.remove("anonsubgift",this.onAnonSubscriptionGiftEvent),this.client.events.remove("submysterygift",this.onSubscriptionMysteryGiftEvent),this.client.events.remove("anonsubmysterygift",this.onAnonSubscriptionMysteryGiftEvent),this.client.events.remove("communitypayforward",this.onCommunityPayForwardEvent),this.client.events.remove("standardpayforward",this.onStandardPayForwardEvent),this.client.events.remove("timeout",this.onTimeoutEvent),this.client.events.remove("ban",this.onBanEvent),this.client.events.remove("clearchat",this.onClearChatEvent),this.client.events.remove("clearmsg",this.onClearMsgEvent),this.client.events.remove("raid",this.onRaidEvent),this.client.events.remove("unraid",this.onUnraidEvent),this.client.events.remove("mods",this.onRoomModsEvent),this.client.events.remove("roomstate",this.onRoomStateEvent),this.client.events.remove("subscribers",this.onSubscriberOnlyModeEvent),this.client.events.remove("emoteonlymode",this.onEmoteOnlyModeEvent),this.client.events.remove("r9kmode",this.onR9KModeEvent),this.client.events.remove("charity",this.onBitsCharityEvent),this.client.events.remove("primecommunitygiftreceived",this.onPrimeCommunityGiftReceivedEvent),this.client.events.remove("celebrationpurchase",this.onCelebrationPurchaseEvent)},X.prototype.postMessageToCurrentChannel=function(e,n){e.channel.toLowerCase().replace("#","")===this.props.channelLogin.toLowerCase()&&this.addMessage(n)},X.prototype.addMessage=function(e){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.handleMessage(e)},X.prototype.shouldConnectOnMount=function(){return this.props.shouldConnect&&!this.disabled},X.prototype.registerCustomLatencyEvents=function(){this.logger.debug("Registering custom latency events"),this.props.latencyTracking.resetCustomEvents(I.zO.Chat),this.chatInitialized=this.registerInitEvent(),this.props.latencyTracking.reportCustomEvent(this.chatInitialized),this.shouldConnectOnMount()&&(this.chatConnected=this.registerConnectedEvent())},X.prototype.registerInitEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:3e3,group:I.zO.Chat,key:I.zU.ChatInit,label:I.fF.Init})},X.prototype.registerConnectedEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:I.zO.Chat,key:I.zU.ChatConnected,label:I.fF.Connected})},X.prototype.skipLatencyMeasurements=function(){this.props.latencyTracking.resetCustomEvents(I.zO.Chat),this.props.latencyTracking.reportInteractive()},X.prototype.trackChatCommand=function(e){var n=this.props.prevCommand;n&&(e?(e={user_id:(e={channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,body:n.message,errorType:e}).userID||"",channel_id:e.channelID||"",user_type:L(e.userType),body:e.body,error_type:"unrecognized_cmd"===(e=e.errorType)?R.U.UnrecognizedCommand:A.x1.has(e)?R.U.InvalidParameters:e},D.UO.track(P.N.ChatCommandClientFail,e)):this.props.getCommands(this.props.commandPermissionLevel,{isEditor:this.props.isCurrentUserEditor}).map(function(e){return e.name}).includes(n.command)&&function(e){e={user_id:e.userID||"",channel_id:e.channelID||"",user_type:L(e.userType),chat_command:e.chatCommand,args:e.args.trim().split(/\s+/)};D.UO.track(P.N.ChatCommandClientSuccess,e)}({channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,chatCommand:n.command,args:n.args}),this.props.clearPrevCommand())},X),t=t(984421);function X(e){var o=F.call(this,e)||this;return o.hasConnected=!1,o.connectingToChatMessage=function(){return(0,D.wv)("Connecting to Chat","ChatConnection")},o.sendMessage=function(e,n){var t,i=o.props.handleCommand(e,o.props.channelLogin);return i.handled?i.result&&i.result.deferred&&i.result.deferred.then(function(e){var n=e.notice,t=e.error,e=e.inputValue;n&&(t?o.handleTrayNotice(n,t,e):o.addMessage((0,H.W)(n))),o.trackChatCommand(t)}):D.oH.get("include_chat_timing_nonce",!1)?(t=(0,M._f)(),o.props.setInitalTimestampForMsgNonce(t),o.client.sendCommand(o.props.channelLogin,e,{clientNonce:t,crowdChantParentMessageID:null==n?void 0:n.crowdChantParentMessageID,reply:null==n?void 0:n.reply}).catch(function(e){D.kg.warn("Failed to send message, or message timeout",e)})):o.client.sendCommand(o.props.channelLogin,e,{crowdChantParentMessageID:null==n?void 0:n.crowdChantParentMessageID,reply:null==n?void 0:n.reply}).catch(function(e){D.kg.warn("Failed to send message, or message timeout",e)}),i.result},o.onJoinedEvent=function(e){o.logger.debug("Connected",o.props.channelLogin),o.props.latencyTracking.reportInteractive(),o.hasConnected||((0,J.x2)({channelLogin:o.props.channelLogin,isHostMode:o.props.isHostMode}),o.hasConnected=!0),o.chatConnected&&o.props.latencyTracking.reportCustomEvent(o.chatConnected),o.props.updateChatConnectionState(h.Tj.CONNECTED),o.postMessageToCurrentChannel(e,(0,$.sx)()),o.props.clearModifierTray()},o.onDisconnectedEvent=function(e){o.props.latencyTracking.reportInteractive(),o.props.updateChatConnectionState(h.Tj.DISCONNECTED),o.addMessage((0,$.fp)(e.reason)),o.props.clearModifierTray()},o.onReconnectingEvent=function(e){o.props.updateChatConnectionState(h.Tj.RECONNECTING),o.addMessage((0,$.xJ)()),o.setConnectingTray(),o.trackChatReconnecting()},o.onReconnectedEvent=function(e){o.join(o.props.channelLogin)},o.onHostedEvent=function(e){return o.postMessageToCurrentChannel(e,(0,$.FW)(e.from,e.isAuto,e.viewers))},o.onHostingEvent=function(e){o.postMessageToCurrentChannel(e,(0,$.V1)(e.target)),o.trackChatCommand()},o.onUnhostEvent=function(e){o.postMessageToCurrentChannel(e,(0,$.uu)(e.channel)),o.trackChatCommand()},o.onChatMessageEvent=function(e){o.postMessageToCurrentChannel(e,o.convertMessage(e))},o.onChatActionEvent=function(e){var n=o.props.bitsConfig||T.Nv,n=(0,W.I)(A.Ay.Action,e.action,e.message.user,n,o.getFilterFlagOptions(e.message.flags));o.postMessageToCurrentChannel(e,n)},o.onChatNoticeEvent=function(e){var n,t,i;A.x1.has(e.msgid)?o.handleTrayNotice(e.body,e.msgid):"msg_rejected"!==e.msgid&&(n=e.channel,t=e.msgid,i=e.body,i={type:A.SJ.Notice,id:(0,V.C)("notice"),channel:n,msgid:t,message:i},o.postMessageToCurrentChannel(e,i)),A.x1.has(e.msgid)&&o.trackChatCommand(e.msgid)},o.onTimeoutEvent=function(e){o.onModerationEvent(A.Aw.Timeout,e)},o.onBanEvent=function(e){o.onModerationEvent(A.Aw.Ban,e)},o.onClearMsgEvent=function(e){var n,t;o.postMessageToCurrentChannel(e,(n=e.userLogin,t=e.targetMessageID,e=e.body,{type:A.SJ.Moderation,moderationType:A.Aw.Delete,id:(0,V.C)(n+"-mod"),userLogin:n,targetMessageID:t,body:e}))},o.onModerationEvent=function(e,n){var t,i;o.postMessageToCurrentChannel(n,(t=n.userLogin,i=n.reason,n=n.duration,{type:A.SJ.Moderation,moderationType:e,id:(0,V.C)(t+"-mod"),userLogin:t,reason:i,duration:n}))},o.onSubscriptionEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,user:e.user,methods:e.methods,multiMonthInfo:e.multiMonthData&&{multiMonthDuration:e.multiMonthData.multiMonthDuration,multiMonthTenure:e.multiMonthData.multiMonthTenure}},{type:A.SJ.Subscription,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),user:e.user,methods:e.methods,multiMonthInfo:e.multiMonthInfo}))},o.onSubscriptionGiftEvent=function(e){var n=(t={channel:e.channel,user:e.user,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,senderCount:e.senderCount,giftMonths:e.giftMonths},{type:A.SJ.SubGift,id:(0,V.C)(t.user.username+"-sub"),channel:t.channel.slice(1),user:t.user,methods:t.methods,recipientDisplayName:t.recipientDisplayName,recipientID:t.recipientID,recipientLogin:t.recipientLogin,senderCount:t.senderCount,giftMonths:t.giftMonths});o.postMessageToCurrentChannel(e,n);var t=e.channel.toLowerCase().replace("#","");e.recipientID===o.props.currentUserID&&t===o.props.channelLogin&&(n={event:{type:U.S.ThankSubGifter,gifterDisplayName:n.user.displayName,channelLogin:t},key:n.id},o.props.pushCallout(n))},o.onAnonSubscriptionGiftEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,giftMonths:e.giftMonths},{type:A.SJ.AnonSubGift,id:(0,V.C)(e.recipientDisplayName+"-sub"),channel:e.channel.slice(1),methods:e.methods,recipientDisplayName:e.recipientDisplayName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,giftMonths:e.giftMonths}))},o.onSubscriptionMysteryGiftEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount},{type:A.SJ.SubMysteryGift,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount}))},o.onAnonSubscriptionMysteryGiftEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount},{type:A.SJ.AnonSubMysteryGift,id:(0,V.C)(e.massGiftCount+"-sub"),channel:e.channel.slice(1),plan:e.plan,massGiftCount:e.massGiftCount}))},o.onCommunityPayForwardEvent=function(e){o.postMessageToCurrentChannel(e,(e={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous}},{type:A.SJ.CommunityPayForward,id:(0,V.C)(e.user.username+"-sub"),user:e.user,channel:e.channel.slice(1),priorGifter:e.priorGifter}))},o.onStandardPayForwardEvent=function(e){o.postMessageToCurrentChannel(e,(e={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous},recipient:{id:e.recipientID,displayName:e.recipientName}},{type:A.SJ.StandardPayForward,id:(0,V.C)(e.user.username+"-sub"),user:e.user,channel:e.channel.slice(1),priorGifter:e.priorGifter,recipient:e.recipient}))},o.onBitsCharityEvent=function(e){var n,t,i,a,r;o.postMessageToCurrentChannel(e,(n=e.total,t=e.charityName,i=e.daysLeft,a=e.hoursLeft,r=e.hashtag,e=e.learnMore,{type:A.SJ.BitsCharity,id:(0,V.C)("charity"),total:n,charityName:t,daysLeft:i,hoursLeft:a,hashtag:r,learnMore:e}))},o.onResubscriptionEvent=function(e){var n;o.postMessageToCurrentChannel(e,(n=void 0,(e={channel:e.channel,user:e.user,methods:e.methods,months:e.months,messageBody:e.body,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths,wasGifted:e.wasGifted,multiMonthGiftInfo:e.giftData&&{anonGift:e.giftData.anonGift,gifterName:e.giftData.gifterName,gifterLogin:e.giftData.gifterLogin,gifterId:e.giftData.gifterId,giftedMonths:e.giftData.giftedMonths,giftMonthBeingRedeemed:e.giftData.giftMonthBeingRedeemed},multiMonthInfo:e.multiMonthData&&{multiMonthDuration:e.multiMonthData.multiMonthDuration,multiMonthTenure:e.multiMonthData.multiMonthTenure}}).messageBody&&(n=(0,W.I)(A.Ay.Post,e.messageBody,e.user,T.Nv,null)),{type:A.SJ.Resubscription,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),user:e.user,methods:e.methods,message:n,months:e.months,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths,wasGift:e.wasGifted,multiMonthGiftInfo:e.multiMonthGiftInfo&&{anonGift:e.multiMonthGiftInfo.anonGift,gifterId:e.multiMonthGiftInfo.gifterId,gifterLogin:e.multiMonthGiftInfo.gifterLogin,gifterName:e.multiMonthGiftInfo.gifterName,giftedMonths:e.multiMonthGiftInfo.giftedMonths,giftMonthBeingRedeemed:e.multiMonthGiftInfo.giftMonthBeingRedeemed},multiMonthInfo:e.multiMonthInfo&&{multiMonthDuration:e.multiMonthInfo.multiMonthDuration,multiMonthTenure:e.multiMonthInfo.multiMonthTenure}}))},o.onGiftPaidUpgradeEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user},{type:A.SJ.GiftPaidUpgrade,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user}))},o.onAnonGiftPaidUpgradeEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user},{type:A.SJ.AnonGiftPaidUpgrade,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user}))},o.onPrimePaidUpgradeEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,plan:e.plan,user:e.user},{type:A.SJ.PrimePaidUpgrade,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),plan:e.plan,user:e.user}))},o.onPrimeCommunityGiftReceivedEvent=function(e){o.postMessageToCurrentChannel(e,(e={giftName:e.giftName,sender:e.sender,receiver:e.receiver,user:e.user},{type:A.SJ.PrimeCommunityGiftReceivedEvent,id:(0,V.C)("primecommunitygiftreceived"),giftName:e.giftName,sender:e.sender||(e.user?e.user.displayName:""),receiver:e.receiver}))},o.onExtendSubscriptionEvent=function(e){o.postMessageToCurrentChannel(e,(e={channel:e.channel,body:e.body,benefitEndMonth:e.benefitEndMonth,user:e.user},{type:A.SJ.ExtendSubscription,id:(0,V.C)(e.user.username+"-sub"),channel:e.channel.slice(1),body:e.body,benefitEndMonth:e.benefitEndMonth,user:e.user}))},o.onRoomModsEvent=function(e){return o.postMessageToCurrentChannel(e,(0,$.L)(e.usernames))},o.onRoomStateEvent=function(e){o.postMessageToCurrentChannel(e,(0,$.QC)(e.state)),o.trackChatCommand()},o.onEmoteOnlyModeEvent=function(e){return o.postMessageToCurrentChannel(e,(0,$.Vs)(e.enabled))},o.onSubscriberOnlyModeEvent=function(e){return o.postMessageToCurrentChannel(e,(0,$.MM)(e.enabled))},o.onR9KModeEvent=function(e){return o.postMessageToCurrentChannel(e,(0,$.f1)(e.enabled))},o.onClearChatEvent=function(e){o.postMessageToCurrentChannel(e,{type:A.SJ.Clear,id:(0,V.C)("clear")}),o.trackChatCommand()},o.onRaidEvent=function(e){var n,t;o.postMessageToCurrentChannel(e,(n=e.channel,t=e.userLogin,e=e.params,{type:A.SJ.Raid,id:(0,V.C)("raid"),channel:n,userLogin:t,params:e})),o.trackChatCommand()},o.onUnraidEvent=function(e){var n,t;o.postMessageToCurrentChannel(e,(n=e.channel,t=e.userLogin,e=e.message,{type:A.SJ.Unraid,id:(0,V.C)("unraid"),channel:n,userLogin:t,message:e})),o.trackChatCommand()},o.onRitualEvent=function(e){var n;o.postMessageToCurrentChannel(e,(n=e.type,e=o.convertMessage(e),{type:A.SJ.Ritual,id:(0,V.C)(e.user.userLogin+"-"+n+"-ritual"),ritualType:n,message:e}))},o.onFirstCheerEvent=function(e){o.postMessageToCurrentChannel(e,(e={message:o.convertMessage(e)},{type:A.SJ.FirstCheerMessage,id:(0,V.C)((e=e.message).user.userLogin+"-firstcheer"),message:e}))},o.onBitsBadgeTierEvent=function(e){var n,t;o.postMessageToCurrentChannel(e,(n=o.convertMessage(e),t=e.threshold,e=e.message.user,{type:A.SJ.BitsBadgeTierMessage,id:(0,V.C)("bits-badge-tier"),message:n,threshold:t,user:e}))},o.onBadgesUpdatedEvent=function(e){return o.addMessage((n=e.username,t=e.badges,e=e.badgeDynamicData,{type:A.SJ.BadgesUpdated,id:(0,V.C)("updateBadges"),userName:n,badges:t,badgeDynamicData:e}));var n,t},o.onPurchaseEvent=function(e){var n,t,i=o.props.bitsConfig||T.Nv;o.postMessageToCurrentChannel(e,(n=e.purchase,t=o.convertMessage(e),e=e.timestamp,{bitsConfig:i,message:t,purchase:n,timestamp:e,id:(0,V.C)(t.user.userLogin+"-purchase"),type:A.SJ.Purchase}))},o.onCrateEvent=function(e){var n;o.postMessageToCurrentChannel(e,(n=o.convertMessage(e),e=e.selectedCount,{type:A.SJ.CrateGift,id:(0,V.C)("crate"),message:n,selectedCount:e}))},o.onRewardGiftEvent=function(e){var n,t,i,a,r;o.postMessageToCurrentChannel(e,(n=e.user,t=e.triggerType,i=e.triggerAmount,a=e.selectedCount,r=e.totalRewardCount,e=e.domain,{type:A.SJ.RewardGift,id:(0,V.C)("rewardGift"),triggerType:t,triggerAmount:i,selectedCount:a,totalRewardCount:r,messageID:n?n.id:null,userID:n?n.userID:null,userLogin:n?n.username:null,displayName:n?n.displayName:null,domain:e,sourceType:z.TU.chat_message}))},o.onChannelPointsRewardEvent=function(e){var n=o.convertMessage(e);o.postMessageToCurrentChannel(e,(0,G.q)({id:n.id,message:n,reward:(0,Y.V)(o.props.rewardMap,e.rewardID),userDisplayName:n.user.userDisplayName,userID:n.user.userID,userLogin:n.user.userLogin}))},o.onCelebrationPurchaseEvent=function(e){return o.postMessageToCurrentChannel(e,(e={userID:e.user.id,userLogin:e.user.username,userDisplayName:e.user.displayName,intensity:e.intensity},{type:A.SJ.CelebrationPurchase,id:(0,V.C)("celebrationPurchase"),userID:e.userID,login:e.userLogin,displayName:e.userDisplayName,intensity:(0,q.E_)(e.intensity)}))},o.onTimingAckEvent=function(e){o.props.updateTimestampForMsgNonce(e.nonce)},o.convertMessage=function(e){var n,t,i=o.props.bitsConfig||T.Nv;return e&&(t=(null===(n=e.message)||void 0===n?void 0:n.reply)||(null===(t=null===e||void 0===e?void 0:e.additionalMetadata)||void 0===t?void 0:t.reply)),(0,W.I)(A.Ay.Post,e.message.body,e.message.user,i,o.getFilterFlagOptions(e.message.flags),!1,!1,e.message.timestamp,{reply:t,channelID:o.props.channelID},e.message.bitsImageUrl)},o.trackChatReconnecting=function(){(0,Q.Ai)({userID:o.props.userID,channelID:o.props.channelID})},o.setConnectingTray=function(){o.props.setModifierTray({header:w.createElement(x.F,{icon:w.createElement(E.T,{size:E.E.Small}),hideCloseButton:!0},w.createElement(_.V,{bold:!0,color:N.Il.Alt2},o.connectingToChatMessage())),disableChat:!0,persistent:!0,sendButtonOverride:j.nS.NoOverride,type:j.v4.Connecting})},o.handleTrayNotice=function(e,n,t){var i;switch(n){case"unrecognized_cmd":i=(0,D.wv)("Unrecognized Command","ChatConnection");break;case"missing_parameters":i=(0,D.wv)("Missing Parameters","ChatConnection");break;case"unauthorized":i=(0,D.wv)("Unauthorized","ChatConnection");break;default:i=(0,D.wv)("Invalid Parameters","ChatConnection")}var a=o.props.prevCommand;!t&&"unrecognized_cmd"!==n&&a&&(t="/"+a.command+" "),o.props.setModifierTray({header:w.createElement(x.F,{icon:w.createElement(B.b,null)},i),body:w.createElement(O.f,null,e),inputValue:t,timeout:3e4,type:j.v4.CommandWarning})},o.logger=D.kg.withCategory("chat-service"),o.logger.debug("Created"),o.service=D.$6.tmi,o.client=D.$6.tmi.client,o.disabled=D.$6.tmi.disabled,o}function Z(e){return!e.channelID||!e.userID}var ee=(0,r.qC)((0,a.$j)(function(e){var n=(0,u.PR)(e);return{authToken:(0,u.bW)(e),currentUserLogin:n&&n.login,currentUserID:n&&n.id,viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled,viewerChatFilterSettings:e.chat.viewerChatFilterSettings}}),(0,b.W)("ChatConnectionService"),t.l,S.Qt,(0,g.NX)(function(e){return e}),(0,m.O9)(function(e){return{getCommands:e.getCommands,handleCommand:e.handleCommand,prevCommand:e.prevCommand,clearPrevCommand:e.clearPrevCommand}}),(0,p.Sf)(function(n){return{pushCallout:function(e){return n.pushCallout(e)}}}),(0,h.EB)(function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}}),(0,c.gc)(function(e){return{bitsConfig:e.bitsConfig}}),(0,C.q)(function(e){return{rewardMap:e.rewardMap}}),(0,y.M$)(function(e){return{setInitalTimestampForMsgNonce:e.setInitalTimestampForMsgNonce,updateTimestampForMsgNonce:e.updateTimestampForMsgNonce}}),(0,f.WA)(function(n){return{setModifierTray:function(e){return n((0,v.PH)(e))},clearModifierTray:function(){return n((0,v.zB)())}}}),(0,o.TA)(k,{skip:Z,options:function(e){var n;return{variables:{channelID:null!==(n=e.channelID)&&void 0!==n?n:"",targetUserID:null!==(e=e.userID)&&void 0!==e?e:""}}}}),(0,s.P)(function(t){return{query:k,variables:{channelID:t.channelID,targetUserID:t.userID},topic:(0,d.NE)(t.userID),type:l.qU.ChatRoomsUserModAction,skip:Z(t),mutator:function(n,e){return"unban"===n.data.action&&n.data.target_id===t.userID&&n.data.channel_id===t.channelID?i(e,function(e){return e.chatRoomBanStatus},function(){return null}):"ban"===n.data.action&&n.data.target_id===t.userID&&n.data.channel_id===t.channelID?i(e,function(e){return e.chatRoomBanStatus},function(){var e;return{bannedUser:null,createdAt:(new Date).toISOString(),expiresAt:null,isPermanent:!0,moderator:null,reason:null!==(e=n.data.reason)&&void 0!==e?e:"",__typename:"ChatRoomBanStatus"}}):e}}}))(n)},984421:function(e,n,t){"use strict";t.d(n,{V:function(){return i},l:function(){return a}});var n=(0,t(905728).$)("ChatConnection"),t=n.withChatServiceManager,n=n.withContext,i=t,a=n(function(e){return{chatConnectionAPI:e.serviceAPI,setChatConnectionAPI:e.setServiceAPI}})},361945:function(e,n,t){"use strict";t.d(n,{pe:function(){return a},nl:function(){return r}});var i=(0,t(905728).$)("ChatRestrictions"),n=i.context,t=i.withChatServiceManager,i=i.withContext,a=(n.Provider,t),r=i(function(e){return{chatRestrictionsAPI:e.serviceAPI,setChatRestrictionsAPI:e.setServiceAPI}})},905728:function(e,n,t){"use strict";t.d(n,{$:function(){return r}});var l=t(570655),d=t(667294),i=t(831642),a=t(884979);function r(e){var o={setServiceAPI:function(){i.kg.warn("The "+e+" chat service attempted to register its API without a provider.")}},n=(0,a.k)(e,o),s=n.context,n=n.withContext;return{context:s,withChatServiceManager:function(r){return function(e){var n=d.useContext(s),t=d.useState(),i=t[0],a=t[1],t=d.useMemo(function(){return{serviceAPI:i,setServiceAPI:a}},[i]);return n!==o?d.createElement(r,(0,l.__assign)({},e)):d.createElement(s.Provider,{value:t},d.createElement(r,(0,l.__assign)({},e)))}},withContext:n}}},273757:function(e,n,t){"use strict";t.d(n,{q:function(){return x}});var i=t(137703),a=t(14890),r=t(987145),o=t(949161),s=t(797425),l=t(613290),d=t(201515),u=t(331902),c=t(432504),m=t(570655),p=t(667294),h=t(906704),g=t(498409),f=t(670599),v=t(380079),y=t(721482),k=t(289738),S=t(82246),C=t(48993),b=t(129989),w=t(831642),E=t(765256),_=t(64125),N=t(75552),D=t(646628),M=t(510091),I=t(274178),T=t(840219),P=t(158469);function R(e,a,r,o,s){a&&e.forEach(function(e){var i=!1;e.forEach(function(e){var n,t;(n=e).type!==g.SJ.Message||(t=n.reply)&&t.parentMsgId===a&&(n.reply=(0,m.__assign)((0,m.__assign)({},t),{parentDeleted:!0})),i||(e=function(e,n){var t=null;switch(e.type){case g.SJ.Message:t=e;break;case g.SJ.ChannelPointsReward:case g.SJ.Resubscription:case g.SJ.Ritual:t=e.message||null;break;default:return null}return t&&!t.deleted&&n&&t.id===n?t:null}(e,a))&&(i=!0,e.deleted=!0,e.deletedCount=1,r&&(e.modLogin=r),o&&(e.modActionType=o),s&&s(e))})})}var A,L=t(100387),n=(A=p.Component,(0,m.__extends)(U,A),U.prototype.componentDidMount=function(){this.props.setMessageBufferAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getUnreadCount:this.getUnreadCount,getMessages:this.getMessages,isPaused:this.isPaused,setPaused:this.setPaused,hasNewerLeft:this.hasNewerLeft,loadNewer:this.loadNewer,loadNewest:this.loadNewest}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage),this.prependHistoricalMessages()},U.prototype.componentWillUnmount=function(){this.props.setMessageBufferAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),clearInterval(this.flushInterval),clearInterval(this.chatRateMeasurementInterval)},U.prototype.render=function(){return null},U.prototype.componentDidUpdate=function(e){e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)),this.props.blockedUsers!==e.blockedUsers&&(this.blockedUsers=new Set(this.props.blockedUsers)),this.props.unhideIgnoredUsers!==e.unhideIgnoredUsers&&(this.unhideUsers=new Set(this.props.unhideIgnoredUsers)),e.isBackground&&!this.props.isBackground&&(5<this.chatRate&&this.clear(20),this.notifySubscribers()),this.prependHistoricalMessages(e.historicalMessages)},U.prototype.messageIncludesBlockedUser=function(e){for(var n=0,t=(0,S.l)(e);n<t.length;n++){var i=t[n];if(this.blockedUsers.has(i.id)&&!this.unhideUsers.has(i.id))return!0}return!1},U.prototype.clear=function(e){if((e=void 0===e?0:e)<=0)return this.buffer=[],this.delayedMessageBuffer=[],void(this.paused=!1);this.paused&&900<=this.buffer.length&&this.setPaused(!1),e<this.buffer.length&&(this.buffer=this.buffer.slice(-e))},U.prototype.isDeletable=function(e){return void 0!==e.deleted},U.prototype.moderateBuffers=function(e,n,t){var r,o,s;e=e,r=n,o=t,s=this.onMessageDeleteSuccess,e=(t=e.reduce(function(e,n){return n.reduce(function(e,n){var t,i,a=function(e,n){var t=null;switch(e.type){case g.SJ.Message:t=e;break;case g.SJ.ChannelPointsReward:case g.SJ.Resubscription:case g.SJ.Ritual:t=e.message||null;break;default:return null}return t&&!t.deleted&&n&&t.user&&n===t.user.userLogin&&t.messageParts?t:null}(n,r);return(t=n).type!==g.SJ.Message||(i=t.reply)&&i.parentUserLogin===r&&(t.reply=(0,m.__assign)((0,m.__assign)({},i),{parentDeleted:!0})),a?(a.deleted=!0,a.banned=!0,o&&(n=o.moderationActionType,t=o.createdByLogin,i=o.duration,a.modLogin=t,a.modActionType=n,a.duration=i),s&&s(a),{lastDeletedMessage:a,deletedCount:e.deletedCount+1}):e},e)},{deletedCount:0})).lastDeletedMessage,t=t.deletedCount,e&&(e.deletedCount=t),this.moderatedUsers.add(n),setTimeout(this.unsetModeratedUser(n),1e3)},U.prototype.flushRawMessages=function(){var t=this,i=[],a=Date.now(),r=!1,o=0,s=this.slidingWindowEnd;this.delayedMessageBuffer.forEach(function(e){var n;e.time<=a-t.delayDuration||!e.shouldDelay?!t.props.shouldSeeBlockedAndDeletedMessages&&t.isDeletable(e.event)&&e.event.deleted||(n=t.buffer[t.buffer.length-1],!t.props.isLoadingHistoricalMessages&&!t.props.historicalMessages||(null==n?void 0:n.type)!==g.SJ.Connected||e.event.type===g.SJ.Connected||t.buffer.find(function(e){return e.type===g.SJ.LiveMessageSeparator})||t.buffer.push({type:g.SJ.LiveMessageSeparator,id:(0,f.C)("live-message-separator")}),t.buffer.push(e.event),r=!0,150<t.buffer.length&&!t.paused&&o++,t.buffer.length<=150&&!t.paused&&s++):i.push(e)}),this.delayedMessageBuffer=i,r&&(this.clear(Math.min(900,this.buffer.length-o)),this.slidingWindowEnd=s,this.notifySubscribers())},U.prototype.measureChatRate=function(){3===this.chatRateMeasurements.length&&this.chatRateMeasurements.shift(),this.chatRateMeasurements.push(this.uncountedMessages),this.uncountedMessages=0},Object.defineProperty(U.prototype,"chatRate",{get:function(){return 0===this.chatRateMeasurements.length?0:this.chatRateMeasurements.reduce(function(e,n){return e+n})/this.chatRateMeasurements.length},enumerable:!0,configurable:!0}),Object.defineProperty(U.prototype,"delayDuration",{get:function(){return!this.props.isCurrentUserModerator&&this.props.data.user&&this.props.data.user.chatSettings&&this.props.data.user.chatSettings.chatDelayMs||0},enumerable:!0,configurable:!0}),U),F=t(863480),p=t(67523);function U(e){var l=A.call(this,e)||this;return l.slidingWindowEnd=0,l.paused=!1,l.delayedMessageBuffer=[],l.updateHandlers=[],l.prependHistoricalMessages=function(e){var n=l.props.historicalMessages;n!==e&&n&&(e=150-l.buffer.length,0<(e=n.slice(-e).reduce(function(e,n){n=function(e,n){var t=e.parentMessage,i=e.sender;if(i){var a=(null===(r=e.content)||void 0===r?void 0:r.text)||"",r=void 0;return null!=t&&t.sender&&(0,P.C)(n)!==P.E.Control&&(a=(0,I.Ct)(a,t.sender.displayName).message,r={parentMsgId:t.id,parentDeleted:!!t.deletedAt,parentUid:t.sender.id,parentUserLogin:t.sender.login,parentDisplayName:t.sender.displayName,parentMessageBody:t.content.text}),(0,M.I)(g.Ay.Post,a,{id:e.id,badges:(0,N.UW)(i.displayBadges),badgeDynamicData:null,emotes:(0,T.sZ)(a,e.content),userID:i.id,username:i.login,displayName:i.displayName,color:i.chatColor||"",userType:"",bits:0},D.Nv,null,!!e.deletedAt,!1,e.sentAt?new Date(e.sentAt).getTime():void 0,{isHistorical:!0,reply:r})}}(n,l.props.channelID);return n&&(e.push(n),n.reply&&(0,L.V)(e,n.reply.parentMsgId)),e},[])).length&&(l.buffer=e.concat(l.buffer),e.forEach(function(e){var n;return null===(n=l.props.activeChattersAPI)||void 0===n?void 0:n.handleMessage(e)}),l.notifySubscribers(),l.props.channelID&&(0,C.Q6)({channelID:l.props.channelID,messageCount:e.length})))},l.onMessageDeleteSuccess=function(e){!function(e,n){var t;try{t=e.reply?w.$6.apollo.client.readQuery({query:_,variables:{channelID:n,messageID:e.reply.parentMsgId}}):w.$6.apollo.client.readQuery({query:_,variables:{channelID:n,messageID:e.id}})}catch(n){return w.$6.apollo.client.writeQuery({query:_,variables:{messageID:e.id},data:{message:{__typename:"Message",id:e.id,sentAt:new Date(e.timestamp).toISOString(),deletedAt:(new Date).toISOString(),text:e.messageBody,replies:null,content:{__typename:"MessageContent",text:e.messageBody,fragments:(0,E.TC)(e.messageParts)},sender:{__typename:"User",chatColor:e.user.color||null,displayBadges:[],id:e.user.userID,login:e.user.userLogin,displayName:e.user.userDisplayName}}}})}t&&(e.reply?w.$6.apollo.client.writeQuery({query:_,variables:{messageID:e.reply.parentMsgId},data:function(e,n){if(null===(i=null===(i=e.message)||void 0===i?void 0:i.replies)||void 0===i||!i.nodes)return e;var t=null===(i=null===(i=e.message)||void 0===i?void 0:i.replies)||void 0===i?void 0:i.nodes.map(function(e){return(0,m.__assign)({},e)}),i=t.findIndex(function(e){return e.id===n});return i<0?e:(t[i]=(0,m.__assign)((0,m.__assign)({},t[i]),{deletedAt:(new Date).toISOString()}),b(e,function(e){return e.message.replies.nodes},function(){return(0,m.__spreadArrays)(t)}))}(t,e.id)}):w.$6.apollo.client.writeQuery({query:_,variables:{messageID:e.id},data:(t=t).message?b(t,function(e){return e.message},function(e){return(0,m.__assign)((0,m.__assign)({},e),{deletedAt:(new Date).toISOString()})}):t}))}(e,l.props.channelID)},l.handleMessage=function(n){var e=!1;if(l.messageIncludesBlockedUser(n)){if(!l.props.shouldSeeBlockedAndDeletedMessages)return;n.type===g.SJ.Message&&(n.hidden=!0)}switch(n.type){case g.SJ.BadgesUpdated:case g.SJ.RoomState:return;case g.SJ.Message:l.uncountedMessages++;var t=n.messageParts[0];if(t&&t.type===k.S.Text&&t.content.startsWith(":act "))return;e=!l.isOwnMessage(n),l.props.tray&&l.props.tray.type===y.v4.Reply&&(null===(r=n.reply)||void 0===r?void 0:r.parentMsgId)===(null===(r=null===(r=null===(r=l.props.tray.sendMessageHandler)||void 0===r?void 0:r.additionalMetadata)||void 0===r?void 0:r.reply)||void 0===r?void 0:r.parentMsgId)&&function(e,n,t){if(n&&t){try{a=w.$6.apollo.client.readQuery({query:_,variables:{channelID:t,messageID:n}})}catch(e){return}a&&w.$6.apollo.client.writeQuery({query:_,variables:{messageID:n},data:(i=e,null!==(a=null===(a=(n=a).message)||void 0===a?void 0:a.replies)&&void 0!==a&&a.nodes?b(n,function(e){return e.message.replies.nodes},function(e){return(0,m.__spreadArrays)(e,[{__typename:"Message",id:i.id,sentAt:new Date(i.timestamp).toISOString(),deletedAt:null,text:i.messageBody,content:{__typename:"MessageContent",text:i.messageBody,fragments:(0,E.TC)(i.messageParts)},sender:{__typename:"User",chatColor:i.user.color||null,displayBadges:[],id:i.user.userID,login:i.user.userLogin,displayName:i.user.userDisplayName}}])}):n)})}var i,a}(n,null===(o=n.reply)||void 0===o?void 0:o.parentMsgId,l.props.channelID),n.reply&&(0,L.V)(l.buffer,n.reply.parentMsgId);break;case g.SJ.ChannelPointsReward:case g.SJ.Resubscription:e=!!n.message&&!l.isOwnMessage(n.message);break;case g.SJ.ModerationAction:if(n.level===v.gm.User&&n.targetUserLogin&&n.targetUserLogin===l.props.currentUserLogin)break;if(!l.props.isCurrentUserModerator)return;if(n.level!==v.gm.User||n.moderationActionType!==h.e0.Ban&&n.moderationActionType!==h.e0.Timeout&&n.moderationActionType!==h.e0.Delete)break;var i=n.moderationActionType,a=n.targetUserLogin,r=n.createdByLogin,o=n.messageID;if(l.moderatedUsers.has(a))return;var s=[l.buffer,l.delayedMessageBuffer.map(function(e){return e.event})];i===h.e0.Delete?R(s,o,r,i,l.onMessageDeleteSuccess):l.moderateBuffers(s,a,n);break;case g.SJ.Moderation:if(l.props.isCurrentUserModerator)break;i=n.moderationType,s=n.userLogin;if(l.moderatedUsers.has(s))return;a=[l.buffer,l.delayedMessageBuffer.map(function(e){return e.event})];i===g.Aw.Delete?R(a,n.targetMessageID,void 0,void 0,l.onMessageDeleteSuccess):l.moderateBuffers(a,s);break;case g.SJ.Disconnected:return;case g.SJ.Reconnect:if(l.buffer.find(function(e){return e.id===n.id})||l.delayedMessageBuffer.find(function(e){return e.event.id===n.id}))return;break;case g.SJ.Clear:l.clear();break;case g.SJ.AutoMod:switch(n.autoModType){case g.mT.MessageModApproved:case g.mT.MessageModDenied:return void[l.buffer,l.delayedMessageBuffer.map(function(e){return e.event})].forEach(function(e){e.some(function(e){return!(e.type!==g.SJ.AutoMod||e.autoModType!==g.mT.MessageRejectedPrompt||!e.rejectedMessage||e.rejectedMessage.id!==n.msg_id||(e.rejectedMessage.deleted=!0,0))})})}}l.delayedMessageBuffer.push({event:n,time:Date.now(),shouldDelay:e})},l.getMessages=function(){return l.buffer.slice(0,l.slidingWindowEnd)},l.unsetModeratedUser=function(e){return function(){l.moderatedUsers.delete(e)}},l.isOwnMessage=function(e){e=e.user;return!(!l.props.currentUserLogin||!e||e.userLogin!==l.props.currentUserLogin)},l.addUpdateHandler=function(e){-1===l.updateHandlers.indexOf(e)&&(l.updateHandlers=l.updateHandlers.concat(e))},l.removeUpdateHandler=function(n){l.updateHandlers=l.updateHandlers.filter(function(e){return e!==n})},l.setPaused=function(e){l.paused!==e&&((l.paused=e)||(l.slidingWindowEnd=Math.min(l.buffer.length,150)),l.notifySubscribers())},l.isPaused=function(){return l.paused},l.hasNewerLeft=function(){return l.slidingWindowEnd<l.buffer.length},l.getUnreadCount=function(){return Math.max(0,l.buffer.length-l.slidingWindowEnd)},l.loadNewer=function(){var e,n;l.hasNewerLeft()&&(e=Math.min(l.buffer.length,l.slidingWindowEnd+40),n=Math.max(0,e-150),l.clear(l.buffer.length-n),l.slidingWindowEnd=e-n,l.notifySubscribers())},l.loadNewest=function(){l.hasNewerLeft()&&(l.clear(150),l.slidingWindowEnd=Math.min(150,l.buffer.length),l.notifySubscribers())},l.notifySubscribers=function(){l.props.isBackground||l.updateHandlers.forEach(function(e){return e()})},l.delayedMessageBuffer=[],l.buffer=[],l.moderatedUsers=new Set,l.blockedUsers=new Set(l.props.blockedUsers),l.unhideUsers=new Set,l.flushInterval=setInterval(function(){return l.flushRawMessages()},200),l.uncountedMessages=0,l.chatRateMeasurements=[],l.chatRateMeasurementInterval=setInterval(function(){return l.measureChatRate()},1e3),l}var t=t(720205),x=(0,a.qC)((0,i.$j)(function(e){var n=(0,s.PR)(e);return{authToken:(0,s.bW)(e),currentUserLogin:n&&n.login,isLoggedIn:(0,s.jl)(e)}}),(0,l.WY)(function(e){return{tray:e.activeInputTray}}),(0,r.TA)(c,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,r.TA)(p,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},props:function(e){var n,e=e.data;return e&&!e.loading&&!e.error&&e.channel&&(n=e.channel.recentChatMessages),{isLoadingHistoricalMessages:!(null==e||!e.loading),historicalMessages:n}},skip:function(e){return!e.isLoggedIn||!(0,F.t)("chat_history")||!e.isCurrentUserModerator&&"control"===w.$6.experiments.getAndTrackAssignment("chat_history")}}),(0,r.TA)(o,{props:function(e){return e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser&&e.data.currentUser.blockedUsers?{blockedUsers:e.data.currentUser.blockedUsers.reduce(function(e,n){return n&&n.id&&e.push(n.id),e},[])}:{blockedUsers:[]}},skip:function(e){return!(e.isLoggedIn||e.authToken)}}),d.j,t.F_,u.Qt)(n)},720205:function(e,n,t){"use strict";t.d(n,{g5:function(){return a},uq:function(){return r},F_:function(){return o}});var i=(0,t(905728).$)("MessageBuffer"),n=i.context,t=i.withChatServiceManager,i=i.withContext,a=n,r=t,o=i(function(e){return{messageBufferAPI:e.serviceAPI,setMessageBufferAPI:e.setServiceAPI}})},100387:function(e,n,t){"use strict";t.d(n,{V:function(){return i},j:function(){return a}});var r=t(774601);function i(e,n){for(var t=0,i=e;t<i.length;t++){var a=i[t],a=(0,r.i)(a);a&&!a.deleted&&a.id===n&&(a.hasReply=!0)}}function a(e){return{parentMsgId:e.id,parentUid:e.user.userID,parentUserLogin:e.user.userLogin,parentDeleted:e.deleted,parentDisplayName:e.user.userDisplayName,parentMessageBody:e.messageBody}}},396359:function(e,n,t){"use strict";t.d(n,{d:function(){return r}});var a,i=t(14890),n=t(570655),n=(a=t(667294).Component,(0,n.__extends)(o,a),o.prototype.componentDidMount=function(){this.props.setMessageHandlerAPI({addMessageHandler:this.addMessageHandler,removeMessageHandler:this.removeMessageHandler,handleMessage:this.handleMessage})},o.prototype.render=function(){return null},o.prototype.componentWillUnmount=function(){this.props.setMessageHandlerAPI()},o),t=t(331902),r=(0,i.qC)(t.Qt)(n);function o(){var i=null!==a&&a.apply(this,arguments)||this;return i.messageHandlers=[],i.addMessageHandler=function(e){-1===i.messageHandlers.indexOf(e)&&(i.messageHandlers=i.messageHandlers.concat(e))},i.removeMessageHandler=function(n){i.messageHandlers=i.messageHandlers.filter(function(e){return e!==n})},i.handleMessage=function(e){for(var n=i.messageHandlers.length,t=0;t<n;t++)i.messageHandlers[t](e)},i}},331902:function(e,n,t){"use strict";t.d(n,{DG:function(){return a},QL:function(){return r},Qt:function(){return o}});var i=(0,t(905728).$)("MessageHandler"),n=i.context,t=i.withChatServiceManager,i=i.withContext,a=n,r=t,o=i(function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}})},805831:function(e,n,t){"use strict";t.d(n,{wO:function(){return r}});var o=t(570655),s=t(38339),i=t(831642),l=t(560772),d=t(419341),u=t(755254),a=t(742407);function c(e,n){i.UO.track(a.N.ChatFilterSettingsChanged,{chat_filter_is_active:e.viewerChatFilterEnabled,from_menu:n,toggle_aggressive_language:e.viewerChatFilterSettings[s.b.Aggressive],toggle_explicit_language:e.viewerChatFilterSettings[s.b.Sexual],toggle_identity_language:e.viewerChatFilterSettings[s.b.Identity],toggle_profane_language:e.viewerChatFilterSettings[s.b.Profanity]})}function r(e){return e.chat.renderSent}function m(e){return-1===Object.values(e).indexOf(!0)}function p(e){(0,u.Gx)("viewerChatFilterEnabled",e.viewerChatFilterEnabled),(0,u.Gx)("viewerChatFilterSettings",e.viewerChatFilterSettings)}i.$6.store.registerReducer("chat",function(e,n){var t,i,a;switch(void 0===e&&(a=(0,u.Au)(),e=(0,o.__assign)((0,o.__assign)({},a),{emoteSets:[],emotePickerSessionID:null,isChatRulesOpen:!1,isHidden:!1,renderSent:null,unhideIgnoredUsers:[]})),n.type){case d.ki:return(0,o.__assign)((0,o.__assign)({},e),{isHidden:!0});case d.oW:return(0,o.__assign)((0,o.__assign)({},e),{isHidden:!1});case d.z2:return(0,o.__assign)((0,o.__assign)({},e),{isChatRulesOpen:!1});case d.Rv:return(0,o.__assign)((0,o.__assign)({},e),{emoteSets:n.emoteSets});case d.BY:return(0,o.__assign)((0,o.__assign)({},e),{emotePickerSessionID:null});case d.BC:return(0,o.__assign)((0,o.__assign)({},e),{emotePickerSessionID:(0,l._f)()});case d.kX:return(0,o.__assign)((0,o.__assign)({},e),{lastUsedFollowerDurations:(0,o.__assign)((0,o.__assign)({},e.lastUsedFollowerDurations),((t={})[n.channelLogin]=n.duration,t))});case d.LS:return(0,o.__assign)((0,o.__assign)({},e),{lastUsedSlowModeDurations:(0,o.__assign)((0,o.__assign)({},e.lastUsedSlowModeDurations),((i={})[n.channelLogin]=n.duration,i))});case d.n4:return(0,o.__assign)((0,o.__assign)({},e),{isChatRulesOpen:!0});case d.sy:return(0,o.__assign)((0,o.__assign)({},e),{showAutoModActions:!1});case d.TL:return(0,o.__assign)((0,o.__assign)({},e),{showAutoModActions:!0});case d.hg:return(0,o.__assign)((0,o.__assign)({},e),{showModerationActions:!1});case d.eP:return(0,o.__assign)((0,o.__assign)({},e),{showModerationActions:!0});case d.cK:return(0,o.__assign)((0,o.__assign)({},e),{showModIcons:!1});case d.SB:return(0,o.__assign)((0,o.__assign)({},e),{showModIcons:!0});case d.w0:return(0,o.__assign)((0,o.__assign)({},e),{repliesAppearancePreference:n.preference});case d.$9:return(0,o.__assign)((0,o.__assign)({},e),{showTimestamps:!1});case d.nc:return(0,o.__assign)((0,o.__assign)({},e),{showTimestamps:!0});case d.RI:var r=(0,o.__assign)((0,o.__assign)({},e),{viewerChatFilterEnabled:!1});return p(r),c(r,n.source),r;case d._$:return p(r=m(e.viewerChatFilterSettings)?(0,o.__assign)((0,o.__assign)({},e),{viewerChatFilterEnabled:!0,viewerChatFilterSettings:((i={})[s.b.Aggressive]=!0,i[s.b.Identity]=!0,i[s.b.Profanity]=!1,i[s.b.Sexual]=!0,i)}):(0,o.__assign)((0,o.__assign)({},e),{viewerChatFilterEnabled:!0})),c(r,n.source),r;case d.Zw:return p(r=(0,o.__assign)((0,o.__assign)({},e),{viewerChatFilterEnabled:!m(n.settings),viewerChatFilterSettings:(0,o.__assign)((0,o.__assign)({},e.viewerChatFilterSettings),n.settings)})),c(r,n.source),r;case d.n8:return(0,o.__assign)((0,o.__assign)({},e),{renderSent:n.customEvent});case d.Mr:return(0,o.__assign)((0,o.__assign)({},e),{unhideIgnoredUsers:(0,o.__spreadArrays)(e.unhideIgnoredUsers,[n.userID])});case d.mq:return(0,o.__assign)((0,o.__assign)({},e),{fontSizePreference:n.fontSizePreference});default:return e}})},937251:function(e,n,t){"use strict";t(805831)},662487:function(e,n,t){"use strict";t.d(n,{A:function(){return i}});var i=function(e,n){var t="";return""+(t=e&&0<e.length?e.endsWith(" ")?e:e+" ":t)+n.trim()+" "}},834707:function(e,n,t){"use strict";t.d(n,{rp:function(){return i},kN:function(){return a},e8:function(){return r},WT:function(){return o},cX:function(){return d},A1:function(){return u},A6:function(){return c},qZ:function(){return m},KW:function(){return p},IW:function(){return g},lY:function(){return v},lg:function(){return k},uP:function(){return C},Hh:function(){return w},kH:function(){return N},K0:function(){return M},tq:function(){return I}});var s=t(300445),l=t(607492);function i(e){return/^[\/]/.test(e)}function a(){return"/clear"}function r(){return"/subscribers"}function o(){return"/subscribersoff"}function d(){return"/followersoff"}function u(e){return"/followers "+e}function c(e){return"/color "+e}function m(){return"/emoteonly"}function p(){return"/emoteonlyoff"}var h=/^\/w(?:$|\s+)(\S+)?\s*(.+)?/i;function g(e){e=e.trim().match(h);return e?{recipientLogin:e[1]&&(0,l.i)(e[1])||null,body:e[2]||null}:null}var f=/^\/host\s+(\S+)$/i;function v(e){e=e.trim().match(f);return e?{recipientLogin:(0,l.i)(e[1])}:null}var y=/^\/ban\s+(\S+)(?:\s+(.+))?$/;function k(e){e=e.trim().match(y);return e&&e[1]?{banTarget:(0,l.i)(e[1]),reason:e[2]||null}:null}var S=/^\/timeout\s+(\S+)(?:\s+(\S+))?(?:\s+(.+))?$/;function C(e){var n=!0,t=e.trim().match(S);if(!t||!t[1])return null;var i=(0,l.i)(t[1]),a=t[2]||null,r=t[3]||null,o=null;return null!==a&&(e=Number(a),Number.isNaN(e)?!(t=(0,s.Ub)(a||""))||Number.isNaN(t)?n=!1:o=t:o=e),{validArguments:n,banTarget:i,rawDuration:a,durationSeconds:o,reason:r}}var b=/^\/slow(?:\s+(\d+)?)?$/;function w(e){e=e.trim().match(b);return e?{duration:e[1]&&Number(e[1])||null}:null}var E=["blue","blueviolet","cadetblue","chocolate","coral","dodgerblue","firebrick","goldenrod","green","hotpink","orangered","red","seagreen","springgreen","yellowgreen"],_=/^\/color\s+(#[A-Fa-f0-9]{6}|[A-Za-z]+)$/;function N(e){e=e.trim().match(_);if(!e)return null;e=e[1];return e.startsWith("#")||-1!==E.indexOf(e.toLowerCase())?{color:e}:null}var D=/^\/help(?:\s+(\S+)?)?$/i;function M(e){e=e.trim().match(D);return e?{command:e[1]}:null}function I(e){e=e.commandArgs;if(e&&0<e.length){e=e[0];if(e.isRequired)return"["+e.name+"]"}}},274178:function(e,n,t){"use strict";t.d(n,{aE:function(){return o},u4:function(){return y},GW:function(){return g},G0:function(){return c},jz:function(){return v},vO:function(){return f},Ct:function(){return h}});var m=t(570655),s=t(831642),a=t(702631),l=t(765256),d=t(901323),u=t(797425),p=t(158469),i=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],r={};function o(e,n,t,i,a,r,o,s,l){void 0===i&&(i=null),void 0===a&&(a=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=Date.now()),void 0===l&&(l={});var d,u,c=(c=n.displayName,d=n.username,u=!1,(c=c)?c.split("").map(function(e){return 127<e.charCodeAt(0)}).reduce(function(e,n){return e||n})&&(u=!0):c=d,{userDisplayName:c,isIntl:u});return null!==(u=l.reply)&&void 0!==u&&u.parentDisplayName&&(0,p.C)(l.channelID)!==p.E.Control&&(e=(u=h(e,l.reply.parentDisplayName,n.emotes)).message,n.emotes=u.emotes),{badges:n.badges||{},badgeDynamicData:n.badgeDynamicData||{},bits:n.bits,user:(0,m.__assign)((0,m.__assign)({},c),{userLogin:n.username,userID:n.userID,userType:n.userType,color:n.color||g(n.userID)}),messageParts:f(e,n.emotes||{},n.bits,t,n.username,i||void 0),messageBody:e,deleted:a,banned:o,hidden:r,timestamp:s,reply:l.reply}}function h(e,n,t){return void 0===t&&(t={}),0===e.indexOf("@"+n+" ")?{message:e.replace("@"+n+" ",""),emotes:(i=t,a=n.length+2,r={},Object.keys(i).forEach(function(e){r[parseInt(e,10)-a]={startIndex:i[e].startIndex-a,id:i[e].id}}),r)}:{message:e,emotes:t};var i,a,r}function g(e,n){return void 0===n&&(n=15),"number"!=typeof r[e]&&(r[e]=Math.floor(Math.random()*n)),i[r[e]]}function f(e,n,t,i,a,r){var o=(0,u.PR)(s.$6.store.getState()),r={cheers:t?i:void 0,emotes:{type:d.pv.Position,map:n},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:a,sessionUser:o},flags:r};return(0,l.SG)(e,r)}function c(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function v(e,n,t,i){return"https://static-cdn.jtvnw.net/emoticons/v2/"+e+"/"+((t=void 0===t?!0:t)?"default":"static")+"/"+((i=void 0===i?a.Q.Light:i)===a.Q.Light?"light":"dark")+"/"+Math.min(Math.ceil(n),3)+".0"}function y(e,n){return{dark:{"1x":v(e,1,n=void 0===n?!0:n,a.Q.Dark),"2x":v(e,2,n,a.Q.Dark),"4x":v(e,4,n,a.Q.Dark)},light:{"1x":v(e,1,n,a.Q.Light),"2x":v(e,2,n,a.Q.Light),"4x":v(e,4,n,a.Q.Light)},themed:!0}}},840219:function(e,n,t){"use strict";t.d(n,{sZ:function(){return a},$0:function(){return r}});var i=t(128416),a=function(t,e){var i={};if(0===e.fragments.length)return i;var a=-1;return e.fragments.forEach(function(e){var n;"Emote"===(null===(n=e.content)||void 0===n?void 0:n.__typename)&&(e=(n=e.content).token||"",n=n.emoteID||"",-1!==(a=t.indexOf(e,a))&&(i[a]={startIndex:a,id:n},a+=e.length))}),i},r=function(e){return!(e.emotes.length<1)&&e.emotes.every(function(e){return e.type===i.eeY.BITS_BADGE_TIERS})}},774601:function(e,n,t){"use strict";t.d(n,{i:function(){return a}});var i=t(498409);function a(e){return e.type===i.SJ.Message?e:"message"in e&&"string"!=typeof e.message&&e.message||null}},82246:function(e,n,t){"use strict";t.d(n,{l:function(){return a}});var i=t(498409);function a(e){switch(e.type){case i.SJ.Message:return[{displayName:e.user.userDisplayName,id:e.user.userID,login:e.user.userLogin}];case i.SJ.Ritual:return[{displayName:e.message.user.userDisplayName,id:e.message.user.userID,login:e.message.user.userLogin}];case i.SJ.Raid:return[{displayName:e.params.displayName,id:e.params.userID,login:e.params.login}];case i.SJ.Resubscription:case i.SJ.Subscription:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username}];case i.SJ.SubGift:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username},{displayName:e.recipientDisplayName,id:e.recipientID,login:e.recipientLogin}];case i.SJ.ChannelPointsReward:case i.SJ.CommunityChallengeContribution:return[{displayName:e.displayName,id:e.userID,login:e.login}];default:return[]}}},670599:function(e,n,t){"use strict";function i(e){var n=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+n}t.d(n,{C:function(){return i}})},417075:function(e,n,t){"use strict";t.d(n,{R:function(){return a}});var i=t(663823);function a(e){return e===i.d1.ChannelPage||e===i.d1.DesktopPopout||e===i.d1.Popout||e===i.d1.MultiStream||e===i.d1.WatchParty||e===i.d1.Embed}},158469:function(e,n,t){"use strict";t.d(n,{E:function(){return i},C:function(){return r}});var i,a=t(831642);function r(e){return a.$6.experiments.getAndTrackAssignment("chat_replies",{channel:null!=e?e:void 0})}(t=i=i||{}).Control="control",t.TreatmentA="treatment_a",t.TreatmentB="treatment_b",t.TreatmentC="treatment_c"},300445:function(e,n,t){"use strict";t.d(n,{Wo:function(){return i},Ub:function(){return a}});var t=t(951255),o=t.g4/t.vL,s=t.yJ/t.vL,l=t.mf/t.vL,d=t.P0/t.vL,u=t.jR/t.vL,c=/([a-zA-Z])([0-9])/gi,m=/([0-9])([a-zA-Z])/gi,p=/^mo(nths?)?/,h=/^w(eeks?)?/,g=/^d(ays?)?/,f=/^h(ours?)?/,v=/^m(inutes?)?/;function i(e){if(!e)return"0s";var n,t,i=e,a="";return u<i&&(i-=(e=Math.floor(i/u))*u,a+=e+"mo"),d<i&&(i-=(n=Math.floor(i/d))*d,a+=n+"w"),l<i&&(i-=(n=Math.floor(i/l))*l,a+=n+"d"),s<i&&(i-=(t=Math.floor(i/s))*s,a+=t+"h"),o<i&&(i-=(t=Math.floor(i/o))*o,a+=t+"m"),0<i&&(a+=i+"s"),a}function a(e){var n=0,t=e.replace(c,"$1 $2").replace(m,"$1 $2").split(/\W+/);if(t.length%2!=0)return null;for(var i=0;i<t.length;i+=2){var a=t[i],r=parseInt(a,10);if(Number.isNaN(r)||3<a.length)return null;a=t[i+1];if(a.match(p))n+=r*u;else if(a.match(h))n+=r*d;else if(a.match(g))n+=r*l;else if(a.match(f))n+=r*s;else{if(!a.match(v))return null;n+=r*o}}return n}},607492:function(e,n,t){"use strict";function i(e){return e.startsWith("@")?e.slice(1):e}t.d(n,{i:function(){return i}})},593517:function(e,n,t){"use strict";t.d(n,{J:function(){return i}});var u=t(831642),c=t(128416),m=t(300445);function i(e){var n=e.login,t=e.code,i=e.enteredDuration,a=e.minTimeoutDuration,r=e.maxTimeoutDuration,e=e.isTimeout;if(e=void 0===e?!1:e)switch(t){case c.m7V.FORBIDDEN:return(0,u.wv)("You don't have permissions to timeout {login}.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_ADMIN:return(0,u.wv)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_ALREADY_BANNED:return(0,u.wv)("{login} is already banned in this channel.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_ANONYMOUS:return(0,u.wv)("You cannot timeout anonymous users.","BanUserErrorCode");case c.m7V.TARGET_IS_BROADCASTER:return(0,u.wv)("You cannot timeout the broadcaster.","BanUserErrorCode");case c.m7V.TARGET_IS_GLOBAL_MOD:return(0,u.wv)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_MOD:return(0,u.wv)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_SELF:return(0,u.wv)("You cannot timeout yourself.","BanUserErrorCode");case c.m7V.TARGET_IS_STAFF:return(0,u.wv)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_NOT_FOUND:return(0,u.wv)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case c.m7V.DURATION_INVALID:var o=(0,u.wv)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:i||""},"BanUserErrorCode"),s=(0,u.wv)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:a||0,maxTimeoutDuration:r||0},"BanUserErrorCode"),l=(0,u.wv)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(i){if(void 0!==a&&void 0!==r){var d=(0,m.Ub)(i);if(!d||Number.isNaN(d))return o;if(d<a||r<d)return s}return o}return l;default:throw new Error("Unrecognized operation result.")}else switch(t){case c.m7V.FORBIDDEN:return(0,u.wv)("You don't have permissions to ban {login}.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_ADMIN:return(0,u.wv)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_ALREADY_BANNED:return(0,u.wv)("{login} is currently banned in this channel.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_ANONYMOUS:return(0,u.wv)("You cannot ban anonymous users.","BanUserErrorCode");case c.m7V.TARGET_IS_BROADCASTER:return(0,u.wv)("You cannot ban the broadcaster.","BanUserErrorCode");case c.m7V.TARGET_IS_GLOBAL_MOD:return(0,u.wv)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_MOD:return(0,u.wv)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_IS_SELF:return(0,u.wv)("You cannot ban yourself.","BanUserErrorCode");case c.m7V.TARGET_IS_STAFF:return(0,u.wv)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case c.m7V.TARGET_NOT_FOUND:return(0,u.wv)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},944294:function(e,n,t){"use strict";t.d(n,{e:function(){return r}});var i=t(831642),a=t(128416);function r(e,n,t){if(t=void 0===t?!1:t)switch(n){case a.PeP.FORBIDDEN:return(0,i.wv)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case a.PeP.TARGET_NOT_FOUND:return(0,i.wv)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case a.PeP.TARGET_NOT_BANNED:return(0,i.wv)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(n){case a.PeP.FORBIDDEN:return(0,i.wv)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case a.PeP.TARGET_NOT_FOUND:return(0,i.wv)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case a.PeP.TARGET_NOT_BANNED:return(0,i.wv)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},296942:function(e,n,t){"use strict";t.d(n,{V:function(){return r}});var i=t(128416),a=t(194839);function r(e,n){n=e[n];if(n)return{cost:"CommunityPointsCommunityGoal"===n.__typename?n.smallContribution:(0,a.at)(n),isHighlighted:"CommunityPointsAutomaticReward"===n.__typename&&n.type===i.A_7.SEND_HIGHLIGHTED_MESSAGE,name:"CommunityPointsCommunityGoal"===n.__typename?n.title:(0,a.TA)(n)}}},755254:function(e,n,t){"use strict";t.d(n,{ED:function(){return c},Au:function(){return d},Gx:function(){return u}});var i,a=t(570655),r=t(38339),o=t(831642),s=t(117090);(t=i=i||{}).Minimum="minimum",t.Expanded="expanded";var l="chatSettings";function d(){var e,n=o.tO.get(l,{});return(0,a.__assign)({fontSizePreference:s.h5.Default,lastUsedFollowerDurations:{},lastUsedSlowModeDurations:{},repliesAppearancePreference:o.$6.experiments.getAndTrackAssignment("chat_replies_context_preference")===i.Minimum?s.xy.Minimum:s.xy.Expanded,showAutoModActions:!0,showMessageFlags:!0,showModerationActions:!0,showModIcons:!1,showTimestamps:!1,viewerChatFilterSettings:((e={})[r.b.Aggressive]=!0,e[r.b.Identity]=!0,e[r.b.Profanity]=!1,e[r.b.Sexual]=!0,e),zachModeStatus:s.Lg},n)}function u(e,n){var t=d();t[e]=n,o.tO.set(l,t)}function c(e){var n=d();delete n[e],o.tO.set(l,n)}},333946:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var i=t(831642);function a(){return(0,i.wv)("Your message is identical to the one you sent within the last 30 seconds.","DuplicatedMessageErrorTray")}},888041:function(e,n,t){"use strict";t.d(n,{Jt:function(){return r},Me:function(){return o},Qm:function(){return s}});var i=t(742407),a=t(831642),r=function(e){e={channel_id:e.channelID,source:e.source};a.UO.track(i.N.IdentitySettingsMenuClick,e)},o=function(e){e={channel_id:e.channelID,action:e.action,old_value:e.oldValue,new_value:e.newValue,source:e.source};a.UO.track(i.N.IdentitySettingsMenuInteraction,e)},s=function(e){e={channel_id:e.channelID,cta_click:e.ctaClick,target_url:e.targetURL,source:e.source};a.UO.track(i.N.IdentitySettingsMenuClientCTAClick,e)}},48993:function(e,n,t){"use strict";t.d(n,{iH:function(){return c},I4:function(){return m},Bs:function(){return p},n7:function(){return h},Q6:function(){return g},QY:function(){return f},Ai:function(){return v},s7:function(){return y}});var a=t(570655),r=t(831642),i=t(128416),o=t(742407),s=t(349946),l=t(715602),d=t(763143),u=t(817207),c=function(i){return(0,a.__awaiter)(void 0,void 0,void 0,function(){var n,t;return(0,a.__generator)(this,function(e){switch(e.label){case 0:n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.$6.apollo.client.query({query:d,variables:{id:i.channelID}})];case 2:return n=e.sent(),[3,4];case 3:return t=e.sent(),(0,s.un)()?r.kg.warn("ChatEvent query failed."):r.kg.errorAndReport(t,"ChatEvent query failed."),[3,4];case 4:return n&&n.data||r.kg.warn("ChatEvent query failed; Chat tracking data sent may be incomplete."),t=n&&n.data&&n.data.user||null,t=(0,a.__assign)((0,a.__assign)({},(0,u.A3)(i)),{viewer_context:i.viewerContext,broadcast_id:r.UO.getVideoPlayerTrackingData().broadcastID,channel_id:i.channelID,emote_picker_sid:i.emotePickerSessionID,game:t&&t.stream&&t.stream.game&&t.stream.game.name,live:!!(t&&t.stream&&0<t.stream.id.length),page_session_id:r.$6.session.pageviewID,partner:t&&t.isPartner||!1,play_session_id:r.UO.getVideoPlayerTrackingData().playSessionID,player:i.player,ritual_nca:i.fromNewChatterRitual||!1,sub_only_mode:i.subOnlyMode,send_action:i.sendAction,reply_keyboard_shortcut:i.isKeyboardShortcutUsed,is_reply:i.isReply,chant_id:i.chantID}),r.UO.track(o.N.Chat,t),[2]}})})},m=function(i){return(0,a.__awaiter)(void 0,void 0,void 0,function(){var n,t;return(0,a.__generator)(this,function(e){switch(e.label){case 0:n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.$6.apollo.client.query({query:d,variables:{id:i.channelID}})];case 2:return n=e.sent(),[3,4];case 3:return t=e.sent(),(0,s.un)()?r.kg.warn("ChatEvent query failed for CheerEvent."):r.kg.errorAndReport(t,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return n&&n.data||r.kg.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),t=n&&n.data&&n.data.user||null,t=(0,a.__assign)((0,a.__assign)({},(0,u.tR)(i)),{broadcast_id:r.UO.getVideoPlayerTrackingData().broadcastID,bits_value:i.bitsValue,cheermote:i.cheermote,channel_id:i.channelID,emote_picker_sid:i.emotePickerSessionID,game:t&&t.stream&&t.stream.game&&t.stream.game.name,is_anonymous_cheer:i.isAnonymousCheer,live:!!(t&&t.stream&&0<t.stream.id.length),partner:t&&t.isPartner||!1,play_session_id:r.UO.getVideoPlayerTrackingData().playSessionID,player:i.player,ritual_nca:i.fromNewChatterRitual||!1,sub_only_mode:i.subOnlyMode,transaction_id:i.transactionID,viewer_context:i.viewerContext}),r.UO.track(o.N.ChatClientCheer,t),[2]}})})},p=function(i){return(0,a.__awaiter)(void 0,void 0,void 0,function(){var n,t;return(0,a.__generator)(this,function(e){switch(e.label){case 0:n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r.$6.apollo.client.query({query:d,variables:{id:i.channelID}})];case 2:return n=e.sent(),[3,4];case 3:return t=e.sent(),(0,s.un)()?r.kg.warn("ChatEvent query failed for CheerEvent."):r.kg.errorAndReport(t,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return n&&n.data||r.kg.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),t=n&&n.data&&n.data.user||null,t=(0,a.__assign)((0,a.__assign)({},(0,u.tR)(i)),{broadcast_id:r.UO.getVideoPlayerTrackingData().broadcastID,bits_value:i.bitsValue,cheermote:i.cheermote,channel_id:i.channelID,emote_picker_sid:i.emotePickerSessionID,error_type:i.errorType,game:t&&t.stream&&t.stream.game&&t.stream.game.name,is_anonymous_cheer:i.isAnonymousCheer,live:!!(t&&t.stream&&0<t.stream.id.length),partner:t&&t.isPartner||!1,play_session_id:r.UO.getVideoPlayerTrackingData().playSessionID,player:i.player,ritual_nca:i.fromNewChatterRitual||!1,sub_only_mode:i.subOnlyMode,viewer_context:i.viewerContext}),r.UO.track(o.N.ChatClientCheerError,t),[2]}})})},h=function(e){switch(e){case i.vqW.AMOUNT_BELOW_MIN_BITS:return l.Z6.BelowMin;case i.vqW.AUTO_MOD_MESSAGE:return l.Z6.AutoModMessage;case i.vqW.AUTO_MOD_PENDING:return l.Z6.AutoModPending;case i.vqW.CHANNEL_BLOCKED_TERMS:return l.Z6.ChannelBlockedTerms;case i.vqW.CHANNEL_INELIGIBLE:return l.Z6.ChannelIneligible;case i.vqW.EMOTE_AMOUNT_BELOW_MIN_BITS:return l.Z6.BelowMinEmote;case i.vqW.INSUFFICIENT_BALANCE:return l.Z6.BitsUnavailable;case i.vqW.INVALID_ANONYMOUS_MESSAGE:return l.Z6.InvalidAnonymousMessage;case i.vqW.INVALID_BITS_AMOUNT:case i.vqW.INVALID_BITS_MESSAGE:return l.Z6.InvalidBitsMessage;case i.vqW.INVALID_EVENT_ID:return l.Z6.InvalidEventId;case i.vqW.MESSAGE_LENGTH_EXCEEDED:return l.Z6.InputAboveMaxLength;case i.vqW.REQUEST_THROTTLED:return l.Z6.RequestThrottled;case i.vqW.TOO_LARGE_BITS_EMOTE:return l.Z6.AboveMaxEmote;case i.vqW.TOO_LARGE_CHEER:return l.Z6.AboveMaxCheer;case i.vqW.USER_BANNED:return l.Z6.UserBanned;case i.vqW.USER_INELIGIBLE:return l.Z6.UserIneligible;case i.vqW.USER_SUSPENDED:return l.Z6.UserSuspended;case i.vqW.ZALGO_MESSAGE:return l.Z6.ZalgoMessage;default:return l.Z6.Unknown}},g=function(e){e={channel_id:e.channelID,message_count:e.messageCount};r.UO.track(o.N.ChatHistoryLoaded,e)},f=function(e){e={channel_id:e.channelID};r.UO.track(o.N.ChatScrolledToTop,e)},v=function(t){return(0,a.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,a.__generator)(this,function(e){return n={user_id:t.userID,channel_id:t.channelID},r.UO.track(o.N.ChatReconnecting,n),[2]})})},y=function(n){return(0,a.__awaiter)(void 0,void 0,void 0,function(){return(0,a.__generator)(this,function(e){return r.UO.track(o.N.ChatMessageTiming,{timing_precise:n}),[2]})})}},506017:function(e,n,t){"use strict";t.d(n,{j:function(){return i}});var p=t(570655),h=t(831642),g=t(742407),f=t(349946),v=t(663823),y=t(856253),i=function(e){var s=e.actionType,l=e.channelID,d=e.targetUserID,u=e.source,c=e.duration,m=e.page;return(0,p.__awaiter)(void 0,void 0,void 0,function(){var n,t,i,a,r,o;return(0,p.__generator)(this,function(e){switch(e.label){case 0:n=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,h.$6.apollo.client.query({query:y,variables:{channelID:l,targetUserID:d}})];case 2:return n=e.sent(),[3,4];case 3:return i=e.sent(),(0,f.un)()?h.kg.warn("Moderation action tracking failed query failed."):h.kg.errorAndReport(i,"Moderation action tracking failed query failed."),[3,4];case 4:return n&&n.data&&(a=n.data,t=a.currentUser,i=a.channel,a=a.target,l===d?r=v.LL.Broadcaster:null!==(o=null==t?void 0:t.roles)&&void 0!==o&&o.isStaff&&(r=v.LL.Staff),null!==(o=null==i?void 0:i.self)&&void 0!==o&&o.isEditor?r=v.LL.Editor:null!==(o=null==i?void 0:i.self)&&void 0!==o&&o.isModerator&&(r=v.LL.Mod),h.UO.track(g.N.ChatLoginModeration,{action:s,channel:null==i?void 0:i.login,channel_id:null==i?void 0:i.id,target_login:null==a?void 0:a.login,target_user_id:null==a?void 0:a.id,mod_status:r,args:c,page:m,type:function(e){switch(e){case v.Dy.DeleteMessage:case v.Dy.BanUser:case v.Dy.UnbanUser:case v.Dy.TimeoutUser:case v.Dy.UntimeoutUser:case v.Dy.ModUser:case v.Dy.UnmodUser:default:return v.jQ.Login}}(s),source:u})),[2]}})})}},647153:function(e,n,t){"use strict";t.d(n,{Xw:function(){return i},UY:function(){return o},Lb:function(){return s},LR:function(){return l},fi:function(){return d}});var i,a=t(831642),r=t(742407);function o(e){a.UO.track(r.N.ChatRepliesThreadClick,{thread_id:e.threadID,channel_id:e.channelID,ui_context:e.uiContext})}function s(e){a.UO.track(r.N.ChatRepliesThreadScroll,{msg_id:e.messageID,channel_id:e.channelID,op_user_id:e.opUserID})}function l(e){a.UO.track(r.N.ChatRepliesThreadClose,{msg_id:e.messageID,channel_id:e.channelID})}function d(e){a.UO.track(r.N.ChatRepliesTrayViewClick,{msg_id:e.messageID,channel_id:e.channelID})}(t=i=i||{}).ThreadIcon="message_thread_icon",t.ContextPill="minumum_context_pill",t.ReplyTray="reply_tray"},817207:function(e,n,t){"use strict";t.d(n,{tR:function(){return l},A3:function(){return s},x2:function(){return d}});var i,a,r=t(831642),o=t(742407);(t=i=i||{}).Everyone="everyone",t.ModsOnly="mod",t.StreamChat="twitch_chat",t.SubsOnly="sub",(t=a=a||{}).BROADCASTER="BROADCASTER",t.EVERYONE="EVERYONE",t.MODERATOR="MODERATOR",t.SUBSCRIBER="SUBSCRIBER";var s=function(e){var n;switch(e.roomMinimumRole){case a.EVERYONE:n=i.Everyone;break;case a.MODERATOR:n=i.ModsOnly;break;case a.SUBSCRIBER:n=i.SubsOnly;break;default:n=i.StreamChat}var t={channel:e.channelLogin,chatroom_type:n,is_host_mode:!!e.isHostMode,is_using_web_sockets:!0};return e.channelID&&(t.channel_id=e.channelID),e.roomID&&(t.chatroom_id=e.roomID),t},l=function(e){var n;switch(e.roomMinimumRole){case a.EVERYONE:n=i.Everyone;break;case a.MODERATOR:n=i.ModsOnly;break;case a.SUBSCRIBER:n=i.SubsOnly;break;default:n=i.StreamChat}var t={channel:e.channelLogin,room_type:n,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(t.room_id=e.roomID),e.room&&(t.room=e.room),t},d=function(e){r.UO.track(o.N.ChatRoomJoined,s(e))}},132412:function(e,n,t){"use strict";t.d(n,{Ko:function(){return l},tL:function(){return d},IB:function(){return u},BS:function(){return c},P0:function(){return m},of:function(){return p},v1:function(){return h}});var i=t(570655),a=t(831642),r=t(742407),o=t(328099),s=t(817207),l=function(e){a.UO.track(r.N.ChatSettingsOpened,(0,s.A3)(e))},d=function(e){e=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{menu_item:e.menuItem,sub_menu_item:e.subMenuItem});a.UO.track(r.N.ChatSettingsMenuClick,e)},u=function(e){e=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{open:e.open,preview_setting:e.previewSetting});a.UO.track(r.N.ChatSettingsPreviewPopupClick,e)},c=function(e){e=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:e.settingName,new_value:e.newValue.toString()});a.UO.track(r.N.ChatSettingsChanged,e)},m=function(e){e=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:e.settingName,new_value:e.newValue.toString().toLowerCase(),old_value:e.oldValue&&e.oldValue.toLowerCase(),channel_id:e.channelID});a.UO.track(r.N.ChatSettingsChanged,e)},p=function(e){e=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:o.j.FollowerDuration,new_value:e.newValue.toString(),follower_mode_on:e.followerModeOn});a.UO.track(r.N.ChatSettingsChanged,e)},h=function(e){e=(0,i.__assign)((0,i.__assign)({},(0,s.A3)(e)),{setting_name:o.j.SlowModeDuration,new_value:e.newValue.toString(),slow_mode_on:e.slowModeOn});a.UO.track(r.N.ChatSettingsChanged,e)}},91877:function(e,n,t){"use strict";t.d(n,{I:function(){return h}});var a=t(667294),r=t(470216),o=t(382448),s=t(359166),l=t(734995),d=t(270406),i=t(670186),u=t(952237),c=t(812140),m=t(900060),p={"channel-points-icon--xsmall":12,"channel-points-icon--small":16,"channel-points-icon--medium":20,"channel-points-icon--large":24,"channel-points-icon--xlarge":50},h=function(e){var n=e.iconSize||m.Jh.Medium,t=p[n],i=a.createElement(r.W,{asset:o.e.ChannelPoints,width:t,height:t});return e.image&&(t=g(t,e.image),i=a.createElement(s.p,{className:"channel-points-icon__image",alt:e.name||(0,c.Fg)(),src:t,srcSet:t===e.image.url?(0,u.A)(e.image):void 0})),a.createElement(l.A,{className:"channel-points-icon "+n,display:d.sS.InlineFlex},i)},g=function(e,n){return e<=i.R.SMALL?n.url:e<=i.R.MEDIUM?n.url2x:e<=i.R.LARGE?n.url4x:n.url}},900060:function(e,n,t){"use strict";t.d(n,{Jh:function(){return i},ZN:function(){return d}});var i,a=t(667294),r=t(14890),o=t(987145),s=t(773105),l=t(91877),n=t(377631);(t=i=i||{}).XSmall="channel-points-icon--xsmall",t.Small="channel-points-icon--small",t.Medium="channel-points-icon--medium",t.Large="channel-points-icon--large",t.XLarge="channel-points-icon--xlarge";var d=(0,r.qC)((0,s.q)(function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}}),(0,o.TA)(n,{options:function(e){return{variables:{channelLogin:null!==(e=e.channelLogin)&&void 0!==e?e:""}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))(function(e){var n=null,t=null,i=e.data;return e.isLoaded?(n=e.pointIcon,t=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(n=i.community.channel.communityPointsSettings.image,t=i.community.channel.communityPointsSettings.name),a.createElement(l.I,{iconSize:e.iconSize,image:n,name:t})})},626898:function(e,n,t){"use strict";t.d(n,{X:function(){return u}});var i=t(570655),a=t(667294),r=t(14890),o=t(374670),n=t(773105),s=t(834924);var l,i=(l=a.Component,(0,i.__extends)(d,l),d.getDerivedStateFromProps=function(n,e){var t=n.reward,i=n.rewardMap[n.reward.id];if(!i)return{changed:!1,outOfStock:!1};var a=(null===(r=n.userRedemptions.find(function(e){return e.reward.id===n.reward.id}))||void 0===r?void 0:r.userRedemptionsCurrentStream)||0,r=(0,s.jw)(i,a)||"CommunityPointsCustomReward"===n.reward.__typename&&n.reward.maxPerUserPerStreamSetting.isEnabled&&!n.isLive,a="CommunityPointsCustomReward"===i.__typename&&(!i.isInStock||i.isPaused)||"CommunityPointsCommunityGoal"===i.__typename&&!i.isInStock,a=r||a;return{changed:(i=i,!("CommunityPointsCommunityGoal"===(t=t).__typename||"CommunityPointsCommunityGoal"===i.__typename||t.cost===i.cost&&i.isEnabled)||"CommunityPointsCustomReward"===t.__typename&&"CommunityPointsCustomReward"===i.__typename&&(t.title!==i.title||t.prompt!==i.prompt||t.isUserInputRequired!==i.isUserInputRequired)),stockChanged:e.stockChanged||e.outOfStock!==a,outOfStock:a}},d.prototype.render=function(){if(this.state.changed&&this.props.renderOnRequirementsChange)return this.props.renderOnRequirementsChange;if(this.state.outOfStock){if(!this.state.stockChanged&&this.props.renderOnInitiallyOutOfStock)return this.props.renderOnInitiallyOutOfStock;if(this.props.renderOnStockChange&&!this.props.ignoreStockChanges)return this.props.renderOnStockChange}return this.props.children||null},d.prototype.componentDidMount=function(){this.props.onRequirementsChange&&this.state.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock&&this.props.onStockChange(this.state.outOfStock)},d.prototype.componentDidUpdate=function(e,n){this.props.onRequirementsChange&&this.state.changed!==n.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock!==n.outOfStock&&this.props.onStockChange(this.state.outOfStock)},d);function d(n){var e=l.call(this,n)||this,t=(null===(i=n.userRedemptions.find(function(e){return e.reward.id===n.reward.id}))||void 0===i?void 0:i.userRedemptionsCurrentStream)||0,i=(0,s.jw)(n.reward,t)||"CommunityPointsCustomReward"===n.reward.__typename&&n.reward.maxPerUserPerStreamSetting.isEnabled&&!n.isLive,t="CommunityPointsCustomReward"===n.reward.__typename&&(!n.reward.isInStock||n.reward.isPaused)||"CommunityPointsCommunityGoal"===n.reward.__typename&&!n.reward.isInStock;return e.state={changed:!1,stockChanged:!1,outOfStock:i||t},e}var u=(0,r.qC)((0,n.q)(function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,rewardMap:e.rewardMap,userRedemptions:e.userRedemptions}}),(0,o.lb)(function(e){return{isLive:e.isLive}}))(i)},928656:function(e,n,t){"use strict";t.d(n,{_m:function(){return k},YT:function(){return a}});var i,a,r=t(570655),o=t(294184),s=t(667294),l=t(731110),d=t(270406),u=t(246797),c=t(734995),m=t(359166),p=t(58661),h=t(626650),g=t(831642),f=t(900060),v=t(194839);(i=i||{}).Cost="cost",(t=a=a||{}).Tiny="reward-icon--tiny",t.ExtraSmall="reward-icon--extra-small",t.Small="reward-icon--small",t.Medium="reward-icon--medium",t.Large="reward-icon--large";var y,k=(y=s.Component,(0,r.__extends)(S,y),S.prototype.render=function(){var e=o(((e={"reward-icon":!0})[this.props.size||a.Medium]=!0,e["reward-icon__animated"]=!!this.props.animateOnHover,e));return s.createElement(l.o,{alignItems:d.g1.Center,className:e,borderRadius:this.props.rounded?u.c.Rounded:u.c.Medium,display:d.sS.Flex,flexDirection:d.Qb.Column,justifyContent:d.uM.Center,position:d.Ly.Relative},s.createElement("div",{style:this.customStyles},this.updateIndicatorPill,this.icon,this.cost))},Object.defineProperty(S.prototype,"customStyles",{get:function(){var e=(0,v.fg)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"icon",{get:function(){var e=(this.props.animateOnHover?(0,v.RW):(0,v._G))(this.props.data),n=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===a.Large,"reward-icon__image--extra-small":this.props.size===a.ExtraSmall,"reward-icon__image--tiny":this.props.size===a.Tiny});return s.createElement(c.A,{className:n,display:d.sS.Flex,justifyContent:d.uM.Center},s.createElement(c.A,{position:d.Ly.Relative},s.createElement(m.p,(0,r.__assign)({alt:(0,v.TA)(this.props.data)},e))))},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===a.Large?s.createElement(c.A,{attachBottom:!0,alignItems:d.g1.Center,borderRadius:u.c.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:d.Ly.Absolute,"data-test-selector":i.Cost,justifyContent:d.uM.Center,display:d.sS.Flex,color:d.Il.Overlay},s.createElement(c.A,{margin:{right:.5},display:d.sS.Flex},s.createElement(f.ZN,{channelLogin:this.props.channelLogin,iconSize:f.Jh.XSmall})),s.createElement(p.V,{fontSize:d.Bf.Size7},(0,g.uf)((0,v.at)(this.props.data)))):null},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"updateIndicatorPill",{get:function(){return this.props.showUpdatedContentIndicator&&this.props.size===a.Large?s.createElement(c.A,{attachTop:!0,margin:{top:.5},position:d.Ly.Absolute},s.createElement(h.D,{label:(0,g.wv)("New!","RewardIcon"),type:h.R.Brand})):null},enumerable:!0,configurable:!0}),S);function S(){return null!==y&&y.apply(this,arguments)||this}},133380:function(e,n,t){"use strict";t.d(n,{D:function(){return p}});var i=t(667294),a=t(58661),r=t(270406),o=t(150125),s=t(734995),l=t(831642),d=t(44683),u=t(900060),c=t(928656),m=t(194839),p=function(e){return i.createElement(d.F,{icon:i.createElement(c._m,{data:e.reward,size:c.YT.Tiny})},i.createElement(a.V,{bold:!0,color:r.Il.Alt,fontSize:r.Bf.Size5,wordBreak:o.I5.BreakWord},(0,m.TA)(e.reward)),i.createElement(s.A,{className:"reward-tray-header--icon",display:r.sS.InlineFlex,flexDirection:r.Qb.Row,margin:{left:.5}},i.createElement(u.ZN,null),i.createElement(a.V,{color:r.Il.Alt2},(0,l.uf)((0,m.at)(e.reward)))))}},615130:function(e,n,t){"use strict";t.d(n,{D:function(){return ue}});var i,a=t(570655),r=t(129989),p=t(667294),o=t(137703),s=t(14890),l=t(987145),d=t(374670),u=t(867284),h=t(906704),g=t(863480),c=t(344689),f=t(508995),v=t(128416),m=t(797425),y=t(212038),k=t(776380),S=t(831642),C=t(126858),b=t(736959),w=t(498409),E=t(670599),_=t(331902),N=t(164783),D=(0,s.qC)(_.Qt,(0,b.LI)(function(e){return{slowMode:e.slowMode}}))(function(e){var n=e.channelID,a=e.currentUserID,t=e.rewardMap,i=e.slowMode,r=e.messageHandlerAPI,o=(0,p.useRef)(),s=(0,p.useRef)([]),n=(0,C.P)((0,f.US)(n||""),{skip:!n,skipMessage:function(e){return e.type!==h.qU.CommunityPointsCommunityGoalContributed}}),l=n[0],d=n[1],u=(0,k.D)(l),c=(0,p.useCallback)(function(e){var n,t,i;r?e.length&&(n=a&&e.find(function(e){return e.msg.data.contribution.user.id===a})||e[0],!(0,g.t)(y.FB)&&n.challenge.type===v.z3Y.BOOST||(t=n.msg.data.contribution,i=e.some(function(e){return e.challenge.id!==n.challenge.id}),e=e.filter(function(e){return e.msg.data.contribution.user.id!==t.user.id}).map(function(e){return e.msg.data.contribution.user.display_name}),e={challengeName:(0,N.G)(n.challenge),userContribution:t.total_contribution,displayName:t.user.display_name,userID:t.user.id,login:t.user.login,hasMultipleChallenges:i,otherContributors:new Set(e)},e={type:w.SJ.CommunityChallengeContribution,id:(0,E.C)("community-challenge-contribution"),challengeName:e.challengeName,displayName:e.displayName,userContribution:e.userContribution,login:e.login,userID:e.userID,hasMultipleChallenges:e.hasMultipleChallenges,otherContributors:e.otherContributors},r.handleMessage(e))):S.kg.warn("ChallengeEventHandler received an event before the MessageHandlerAPI was available.")},[a,r]),m=(0,p.useCallback)(function(){o.current=setTimeout(function(){clearTimeout(o.current),o.current=void 0,s.current.length&&(c(s.current),s.current=[],m())},i?15e3:1e4)},[c,i]);return(0,p.useEffect)(function(){return function(){clearTimeout(o.current)}},[]),(0,p.useEffect)(function(){var e;d&&d.error||!l||l===u||(e=l.data.contribution.goal.id,(e=t[e])&&"CommunityPointsCommunityGoal"===e.__typename&&l.data.contribution.amount&&l.data.contribution.amount===l.data.contribution.stream_contribution&&(s.current.push({msg:l,challenge:e}),o.current||(c(s.current),s.current=[],m())))},[c,l,u,t,m,d]),null}),M=t(713890),I=t(296942),T=(i=p.Component,(0,a.__extends)(ee,i),ee.prototype.componentDidMount=function(){this.subscribe()},ee.prototype.componentDidUpdate=function(e){this.props.channelID!==e.channelID&&this.subscribe()},ee.prototype.componentWillUnmount=function(){this.unsubscribe()},ee.prototype.render=function(){return null},ee.prototype.subscribe=function(){this.unsubscribe(),this.props.channelID&&(this.unsubscriber=S.mW.subscribe({topic:(0,f.US)(this.props.channelID),onMessage:this.handleMessage}))},ee.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):S.kg.warn("RewardEventHandler received an event before the MessageHandlerAPI was available.")},ee),P=(0,_.Qt)(T),R=t(176077),A=t(940910),L=t(773105),n=t(174765),F=t(965875),U=t(462359),x=t(773754),O=t(560772),_=t(613290),B=t(965347),V=t(301657),q=t(246560),G=t(275406),H=t(778262),W=t(194839),z=t(58661),$=t(652461),j=t(721482),Y=t(626898),Q=t(133380),J=t(687773),K=t(354483),X=t(812140),Z=t(703554);function ee(){var n=null!==i&&i.apply(this,arguments)||this;return n.unsubscribe=function(){n.unsubscriber&&(n.unsubscriber(),n.unsubscriber=null)},n.handleMessage=function(e){e.type!==h.qU.CommunityPointsRedeemed||e.data.redemption.user_input||(e=(0,M.q)({id:e.data.redemption.id,reward:(0,I.V)(n.props.rewardMap,e.data.redemption.reward.id),userDisplayName:e.data.redemption.user.display_name,userID:e.data.redemption.user.id,userLogin:e.data.redemption.user.login}),n.addMessage(e))},n}function ne(e){var n=e.message?(0,J.fw)(e.errorCode):(0,J.m1)();e.setTrayError(n)}var te=t(428116);function ie(e){var n=e.message?(0,J.fw)(e.errorCode):(0,J.m1)();e.setTrayError(n)}var ae,re=t(443851),T=t(885411),t=(ae=p.Component,(0,a.__extends)(oe,ae),Object.defineProperty(oe.prototype,"isCurrentUserSubscribed",{get:function(){var e;return!(null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===e||!e.subscriptionBenefit)},enumerable:!0,configurable:!0}),Object.defineProperty(oe.prototype,"isModerator",{get:function(){var e;return!(null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===e||!e.isModerator)},enumerable:!0,configurable:!0}),oe.prototype.render=function(){return p.createElement(re.y.Provider,{value:(0,a.__assign)((0,a.__assign)({},this.state),{closeRewardCenter:this.closeRewardCenter,openReward:this.openReward,openEarnRatesList:this.openEarnRatesList,resetTransactionID:this.resetTransactionID,setDirection:this.setDirection})},this.props.children)},oe.prototype.componentWillUnmount=function(){this.closeTimeout&&clearTimeout(this.closeTimeout)},oe.prototype.validateCooldownIsInStock=function(e){var n=e.cooldownExpiresAt,t=null!==n?new Date(n):n,n=new Date;!e.isInStock&&e.globalCooldownSetting.isEnabled&&t&&n.getTime()>t.getTime()&&(0,x.x0)(this.props.channelLogin,e,!!this.props.isLive)},oe.prototype.openRewardCenterToState=function(e,n,t){void 0===n&&(n=!1),this.state.isRewardCenterOpen||(t=t||(0,O._f)(),this.setState({viewTrackingID:t,direction:H.H.OpenRewardCenter}),e.type===V.q.ListRewards&&((0,Z.Hx)(this.props.channelLogin,this.props.channelID||"",t,n),this.props.updateTimestamps())),this.setState({isRewardCenterOpen:!0,rewardCenterState:e})},oe.prototype.checkRewardEligibility=function(e){var n=(0,q.z)(e,{isUserSubscribed:this.isCurrentUserSubscribed,isChannelSubsOnlyMode:this.props.subsOnlyMode});return this.props.currentUserID?"CommunityPointsAutomaticReward"!==e.__typename||n.nonSubOnlyReward?("CommunityPointsAutomaticReward"===e.__typename||"CommunityPointsCustomReward"===e.__typename)&&(0,W.at)(e)>this.props.balance&&!(0,W.J7)(e)?(this.openRewardCenterToState({type:V.q.NotEnoughPoints,reward:e}),!1):"CommunityPointsCustomReward"!==e.__typename||n.subOnlyReward?!("CommunityPointsAutomaticReward"===e.__typename&&!n.subsModeRequiredReward&&(this.openRewardCenterToState({type:V.q.NotSubOnlyMode,reward:e}),1)):(this.openRewardCenterToState({type:V.q.NotSubbed,reward:e}),!1):(this.openRewardCenterToState({type:V.q.AlreadySubbed,reward:e}),!1):(this.openRewardCenterToState({type:V.q.NotLoggedIn,reward:e}),!1)},oe.prototype.openHighlightedMesssageReward=function(e,n){this.props.channelID&&(this.props.setTray(function(i){var e=this;return{header:p.createElement(Q.D,{reward:i.reward}),body:p.createElement(Y.X,{onRequirementsChange:function(e){return e?i.setTrayError((0,X.Ec)(i.channelDisplayName||i.channelLogin,function(){i.clearTray(),i.openReward()})):i.clearTrayError()},reward:i.reward},p.createElement($.f,null,p.createElement(z.V,null,(0,W.Zz)(i.reward)))),sendButtonOverride:j.nS.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:j.DB.Custom,handleMessage:function(t){return(0,a.__awaiter)(e,void 0,void 0,function(){var n;return(0,a.__generator)(this,function(e){switch(e.label){case 0:return t.trim()?[4,S.$6.apollo.client.mutate((0,a.__assign)({mutation:K},(0,c.k_)({channelID:i.channelID,cost:(0,W.at)(i.reward),message:t,transactionID:i.transactionID})))]:(ne(i),[2,!1]);case 1:return(n=e.sent()).data&&n.data.sendHighlightedChatMessage&&!n.data.sendHighlightedChatMessage.error?(i.clearTray(),(0,Z.ev)({channelID:i.channelID,channelLogin:i.channelLogin,reward:i.reward,transactionID:i.transactionID,viewTrackingID:i.viewTrackingID}),[2,!0]):(ne((0,a.__assign)((0,a.__assign)({},i),{errorCode:n.data&&n.data.sendHighlightedChatMessage&&n.data.sendHighlightedChatMessage.error&&n.data.sendHighlightedChatMessage.error.code||v.qhC.UNKNOWN,message:t})),[2,!1])}})})}},type:j.v4.HighlightedMessage}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},oe.prototype.openSubsOnlyMessageReward=function(e,n){this.props.channelID&&(this.props.setTray(function(i){var e=this;return{ignoredRestrictions:new Set([v.D5M.SUBSCRIBERS_ONLY]),header:p.createElement(Q.D,{reward:i.reward}),body:p.createElement(Y.X,{onRequirementsChange:function(e){return e?i.setTrayError((0,X.Ec)(i.channelDisplayName||i.channelLogin,function(){i.clearTray(),i.openReward()})):i.clearTrayError()},reward:i.reward},p.createElement($.f,null,p.createElement(z.V,null,(0,W.Zz)(i.reward)))),sendButtonOverride:j.nS.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:j.DB.Custom,handleMessage:function(t){return(0,a.__awaiter)(e,void 0,void 0,function(){var n;return(0,a.__generator)(this,function(e){switch(e.label){case 0:return t.trim()?[4,S.$6.apollo.client.mutate((0,a.__assign)({mutation:te},(0,c.k_)({channelID:i.channelID,cost:(0,W.at)(i.reward),message:t,transactionID:i.transactionID})))]:(ie(i),[2,!1]);case 1:return(n=e.sent()).data&&n.data.sendChatMessageThroughSubscriberMode&&!n.data.sendChatMessageThroughSubscriberMode.error?(i.clearTray(),(0,Z.ev)({channelID:i.channelID,channelLogin:i.channelLogin,reward:i.reward,transactionID:i.transactionID,viewTrackingID:i.viewTrackingID}),[2,!0]):(ie((0,a.__assign)((0,a.__assign)({},i),{errorCode:n.data&&n.data.sendChatMessageThroughSubscriberMode&&n.data.sendChatMessageThroughSubscriberMode.error&&n.data.sendChatMessageThroughSubscriberMode.error.code||void 0,message:t})),[2,!1])}})})}},type:j.v4.SubsOnlyMessage}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},oe.prototype.openCustomReward=function(e,n){this.validateCooldownIsInStock(e),e.isUserInputRequired?this.props.channelID&&(this.props.setTray((0,G.l)({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter()):this.openRewardCenterToState({type:V.q.CustomReward,reward:e})},oe.prototype.getViewerType=function(){return this.props.channelID===this.props.currentUserID?Z.cQ.Broadcaster:this.isModerator?Z.cQ.Moderator:Z.cQ.Viewer},oe);function oe(){var s=null!==ae&&ae.apply(this,arguments)||this;return s.state={isRewardCenterOpen:!1,rewardCenterState:{type:V.q.ListRewards},transactionID:(0,O._f)(),direction:H.H.OpenRewardCenter},s.resetTransactionID=function(){s.setState({transactionID:(0,O._f)()})},s.setDirection=function(e){s.setState({direction:e})},s.closeRewardCenter=function(){s.setState({isRewardCenterOpen:!1,direction:H.H.CloseRewardCenter}),s.closeTimeout=setTimeout(function(){s.setState({rewardCenterState:{type:V.q.ListRewards}})},0)},s.openEarnRatesList=function(){var e=s.getViewerType();(0,Z.ct)(Z.XO.RewardSelectionPane,e,s.props.channelID||"",s.props.channelLogin),s.setDirection(H.H.Forward),s.openRewardCenterToState({type:V.q.EarnRates})},s.openReward=function(e){var n=null==e?void 0:e.direction,t=null==e?void 0:e.reward,i=null==e?void 0:e.contentUpdateEnabled;if(n&&s.setDirection(n),t){var a=s.checkRewardEligibility(t),r=null;if(a)if(r=(0,O._f)(),s.setState({transactionID:r}),"CommunityPointsAutomaticReward"===t.__typename)switch(t.type){case v.A_7.SEND_HIGHLIGHTED_MESSAGE:s.openHighlightedMesssageReward(t,r);break;case v.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE:s.openSubsOnlyMessageReward(t,r);break;case v.A_7.CHOSEN_SUB_EMOTE_UNLOCK:s.openRewardCenterToState({type:V.q.UnlockChosenSubscriberEmote,reward:t});break;case v.A_7.RANDOM_SUB_EMOTE_UNLOCK:s.openRewardCenterToState({type:V.q.UnlockRandomEmote,reward:t});break;case v.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:s.openRewardCenterToState({type:V.q.ModifyEmote,reward:t})}else"CommunityPointsCommunityGoal"===t.__typename?s.openRewardCenterToState({type:V.q.CommunityGoal,reward:t},!1,null==e?void 0:e.viewUUID):"PredictionEvent"===t.__typename?s.openRewardCenterToState({type:V.q.Prediction,reward:t},!1,null==e?void 0:e.viewUUID):s.openCustomReward(t,r);var o=!1;"CommunityPointsCustomReward"!==t.__typename||!t.maxPerUserPerStreamSetting.isEnabled||(n=(null===(n=s.props.userRedemptions.find(function(e){return e.reward.id===t.id}))||void 0===n?void 0:n.userRedemptionsCurrentStream)||0)&&n>=t.maxPerUserPerStreamSetting.maxPerUserPerStream&&(o=!0),"CommunityPointsCommunityGoal"!==t.__typename&&"PredictionEvent"!==t.__typename&&(0,Z.Gi)({channelID:s.props.channelID||"",channelLogin:s.props.channelLogin,isModerator:s.props.isCurrentUserModerator,isUserEligible:a&&!o,reward:t,transactionID:r,userBalance:s.props.balance,viewTrackingID:(null==e?void 0:e.viewUUID)||s.state.viewTrackingID||"",contentUpdateEnabled:!(null==e||!e.contentUpdateEnabled)})}else s.openRewardCenterToState({type:V.q.ListRewards},!!i)},s}var se,le=(0,s.qC)((0,l.TA)(T,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,_.WA)(function(n){return{setTray:function(e){return n((0,B.aT)(e))},clearTray:function(){return n((0,B.Rv)())},setTrayError:function(e){return n((0,B.IZ)(e))},clearTrayError:function(){return n((0,B.RI)())}}}),(0,b.LI)(function(e){return{subsOnlyMode:e.subsOnlyMode}}),(0,d.lb)(function(e){return{isLive:e.isLive}}))(t),t=(se=p.Component,(0,a.__extends)(de,se),de.prototype.render=function(){var e=this.rewardMap,n=this.changedModificationIDs,t=this.changedRewardIDs;return p.createElement(L.F.Provider,{value:{activeMultipliers:this.activeMultipliers,automaticRewards:this.automaticRewards,balance:this.balance,channelID:this.props.data.community&&this.props.data.community.id,communityGoals:this.communityGoals,customRewards:this.customRewards,channelLogin:this.props.channelLogin,displayName:this.props.data.community&&this.props.data.community.displayName,emoteModifiers:this.emoteModifiers,emoteVariants:this.emoteVariants,isChannelPointsEnabled:this.isChannelPointsEnabled,isChannelPointsFeatureFlagOn:!0,isCurrentUserModerator:this.isCurrentUserModerator,isLoaded:!!this.props.data.community,pointIcon:this.pointIcon,pointName:this.pointName,raidPointAmount:this.raidPointAmount,earning:this.earning,userRedemptions:this.userRedemptions,rewardMap:e,changedModificationIDs:n,changedRewardIDs:t}},p.createElement(U.f,{channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID},p.createElement(P,{channelID:this.props.data.community&&this.props.data.community.id,rewardMap:e}),p.createElement(D,{channelID:this.props.data.community&&this.props.data.community.id,currentUserID:this.props.currentUserID,rewardMap:e}),p.createElement(d.QQ,{channelID:this.props.data.community&&this.props.data.community.id},p.createElement(le,{balance:this.balance,channelDisplayName:this.props.data.community&&this.props.data.community.displayName,channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.isCurrentUserModerator,updateTimestamps:this.updateTimestamps,userRedemptions:this.userRedemptions},this.props.children))))},Object.defineProperty(de.prototype,"activeMultipliers",{get:function(){var e;return(null===(e=null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.communityPoints)||void 0===e?void 0:e.activeMultipliers)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"automaticRewards",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.automaticRewards)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"balance",{get:function(){var e;return null!==(e=null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.communityPoints)&&void 0!==e&&e.canRedeemRewardsForFree?1/0:(null===(e=null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.communityPoints)||void 0===e?void 0:e.balance)||0},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"communityGoals",{get:function(){var e=(null===(n=null===(e=null===(n=this.props.data.community)||void 0===n?void 0:n.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===n?void 0:n.goals)||[],n=e;return n=!(0,g.t)(y.FB)?e.filter(function(e){return e.type!==v.z3Y.BOOST}):n},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"customRewards",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.customRewards)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"emoteModifiers",{get:function(){var e=this.props.globalData.emoteModifiers||[];return new Map(e.map(function(e){return[e.id,e]}))},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"isChannelPointsEnabled",{get:function(){var e;return!(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e||!e.isEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"isCurrentUserModerator",{get:function(){var e;return!(null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===e||!e.isModerator)},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"pointIcon",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.image)||null},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"pointName",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.name)||null},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"raidPointAmount",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.raidPointAmount)||null},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"rewardMap",{get:function(){for(var e={},n=0,t=this.automaticRewards;n<t.length;n++){var i=t[n];e[i.id]=i}for(var a=0,r=this.customRewards;a<r.length;a++){var o=r[a];e[o.id]=o}for(var s=0,l=this.communityGoals;s<l.length;s++){var d=l[s];e[d.id]=d}return e},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"emoteVariants",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.emoteVariants)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"earning",{get:function(){var e;return(null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.earning)||null},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"userRedemptions",{get:function(){var e;return(null===(e=null===(e=null===(e=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.communityPoints)||void 0===e?void 0:e.userRedemptions)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"isUsersFirstVisitToChannel",{get:function(){var e;return!(null===(e=null===(e=null===(e=null===(e=null===(e=null===(e=this.props.data)||void 0===e?void 0:e.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.communityPoints)||void 0===e?void 0:e.lastViewedContent)||void 0===e||!e.every(function(e){return null===e.lastViewedAt}))},enumerable:!0,configurable:!0}),Object.defineProperty(de.prototype,"changedModificationIDs",{get:function(){var e,n=new Set,t=null===(e=null===(e=null===(e=null===(e=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===e?void 0:e.communityPoints)||void 0===e?void 0:e.lastViewedContent)||void 0===e?void 0:e.find(function(e){return e.contentID===v.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK}))||void 0===e?void 0:e.lastViewedAt;return this.props.currentUserID&&!this.isUsersFirstVisitToChannel&&t&&this.emoteVariants.forEach(function(e){e.modifications.forEach(function(e){new Date(t)<new Date(e.globallyUpdatedForIndicatorAt)&&n.add(e.id)})}),n},enumerable:!0,configurable:!0}),de.prototype.isCustomRewardUpdated=function(e,n){return!!(null===n||n&&new Date(n)<new Date(e.updatedForIndicatorAt))},de.prototype.isAutomaticRewardUpdated=function(n,e){var t=null===(t=null===(t=null===(t=null===(t=null===(t=this.props.data)||void 0===t?void 0:t.currentUser)||void 0===t?void 0:t.communityPoints)||void 0===t?void 0:t.lastViewedContent)||void 0===t?void 0:t.find(function(e){return e.contentID===n.type}))||void 0===t?void 0:t.lastViewedAt;return null===t||null===e||!!(t&&new Date(t)<new Date(n.globallyUpdatedForIndicatorAt))||!!(e&&n.updatedForIndicatorAt&&new Date(e)<new Date(n.updatedForIndicatorAt))},Object.defineProperty(de.prototype,"changedRewardIDs",{get:function(){var e,n=this,t=new Set,i=(null===(e=null===(i=null===(e=null===(i=null===(e=this.props.data)||void 0===e?void 0:e.community)||void 0===i?void 0:i.channel)||void 0===e?void 0:e.self)||void 0===i?void 0:i.communityPoints)||void 0===e?void 0:e.lastViewedContent)||[];if(!this.props.currentUserID||!i.length||this.isUsersFirstVisitToChannel)return t;var a=null===(e=i.find(function(e){return e.contentType===v.Gtb.CUSTOM_REWARD}))||void 0===e?void 0:e.lastViewedAt;this.customRewards.filter(function(e){return e.isEnabled}).forEach(function(e){n.isCustomRewardUpdated(e,a)&&t.add(e.id)});var r=null===(i=i.find(function(e){return e.contentType===v.Gtb.AUTOMATIC_REWARD}))||void 0===i?void 0:i.lastViewedAt;return this.automaticRewards.filter(function(e){return e.isEnabled}).forEach(function(e){n.isAutomaticRewardUpdated(e,r)&&t.add(e.id)}),t},enumerable:!0,configurable:!0}),de);function de(){var e=null!==se&&se.apply(this,arguments)||this;return e.updateTimestamps=function(){return(0,a.__awaiter)(e,void 0,void 0,function(){var n,i,t;return(0,a.__generator)(this,function(e){switch(e.label){case 0:return n=null===(t=this.props.data.community)||void 0===t?void 0:t.id,t=this.props.currentUserID,n&&t?[4,this.props.updateLastViewedContentMutation((0,c.k_)({channelID:n,viewedContent:[v.Gtb.AUTOMATIC_REWARD,v.Gtb.CUSTOM_REWARD]}))]:[2];case 1:return n=e.sent(),(i=n.data.updateCommunityPointsLastViewedContent)&&!i.error&&i.lastViewedChannelContent&&i.lastViewedGlobalContent&&this.props.data.updateQuery(function(e){var n,t;return null!==(n=null===(n=null===(n=e.community)||void 0===n?void 0:n.channel)||void 0===n?void 0:n.self)&&void 0!==n&&n.communityPoints&&null!==(t=e.currentUser)&&void 0!==t&&t.communityPoints?r(e,function(e){return{community:(0,a.__assign)((0,a.__assign)({},e.community),{channel:(0,a.__assign)((0,a.__assign)({},e.community.channel),{self:(0,a.__assign)((0,a.__assign)({},e.community.channel.self),{communityPoints:(0,a.__assign)((0,a.__assign)({},e.community.channel.self.communityPoints),{lastViewedContent:i.lastViewedChannelContent})})})}),currentUser:(0,a.__assign)((0,a.__assign)({},e.currentUser),{communityPoints:{__typename:"CommunityPointsUserProperties",lastViewedContent:i.lastViewedGlobalContent}})}}):e}),[2]}})})},e}var ue=(0,s.qC)((0,o.$j)(function(e){e=(0,m.PR)(e);return{currentUserID:e&&e.id}}),(0,l.TA)(n,{name:"globalData",options:{fetchPolicy:"cache-first"}}),(0,l.TA)(F,{options:function(e){return{variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},fetchPolicy:"cache-and-network"}}}),(0,l.TA)(A,{name:"updateLastViewedContentMutation"}),(0,u.P)(function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},skip:!e.data.community,topic:(0,f.US)(""+(e.data.community&&e.data.community.id)),types:[h.qU.CommunityPointsAutomaticRewardUpdated,h.qU.CommunityPointsCommunityGoalContributed,h.qU.CommunityPointsCommunityGoalCreated,h.qU.CommunityPointsCommunityGoalDeleted,h.qU.CommunityPointsCommunityGoalUpdated,h.qU.CommunityPointsCustomRewardCreated,h.qU.CommunityPointsCustomRewardDeleted,h.qU.CommunityPointsCustomRewardUpdated,h.qU.CommunityPointsSettings,h.qU.CommunityPointsRedeemed],mutator:function(e,n){switch(e.type){case h.qU.CommunityPointsSettings:return(0,x.b9)(n,e);case h.qU.CommunityPointsAutomaticRewardUpdated:return(0,x.P4)(n,e);case h.qU.CommunityPointsCommunityGoalContributed:return(0,x.Jn)(n,e);case h.qU.CommunityPointsCommunityGoalCreated:return(0,x.UO)(n,e);case h.qU.CommunityPointsCommunityGoalDeleted:return(0,x.Yg)(n,e);case h.qU.CommunityPointsCommunityGoalUpdated:return(0,x.A8)(n,e);case h.qU.CommunityPointsCustomRewardCreated:return(0,x.ko)(n,e);case h.qU.CommunityPointsCustomRewardDeleted:return(0,x.ue)(n,e);case h.qU.CommunityPointsCustomRewardUpdated:return(0,x.PB)(n,e);case h.qU.CommunityPointsRedeemed:return(0,x.Uq)(n,e);default:return n}}}}),(0,u.P)(function(t){var e;return{query:F,variables:{channelLogin:t.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},topic:(0,f.OV)(t.currentUserID||"",(null===(e=null===(e=t.data)||void 0===e?void 0:e.community)||void 0===e?void 0:e.id)||""),types:[h.qU.ModeratorAdded,h.qU.ModeratorRemoved],skip:!t.currentUserID||!(null!==(e=null===(e=t.data)||void 0===e?void 0:e.community)&&void 0!==e&&e.id),skipMessage:function(e){var n;return t.currentUserID===(null===(n=null===(n=t.data)||void 0===n?void 0:n.community)||void 0===n?void 0:n.id)||e.data.target_user_id!==t.currentUserID},mutator:function(e,n){var t;if(null===(t=null==n?void 0:n.community)||void 0===t||!t.self)return n;switch(e.type){case h.qU.ModeratorAdded:return r(n,function(e){return e.community.self.isModerator},function(){return!0});case h.qU.ModeratorRemoved:return r(n,function(e){return e.community.self.isModerator},function(){return!1});default:return n}}}}),(0,u.P)(function(i){return{query:F,variables:{channelLogin:i.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},topic:(0,f.BT)(""+i.currentUserID),skip:!i.data.community||!i.currentUserID,types:[h.qU.CommunityPointsMultipliersUpdated],mutator:function(e,n){if(!i.data.community||e.data.active_multipliers&&i.data.community.id!==e.data.active_multipliers.channel_id||!n.community||!n.community.channel||!n.community.channel.self)return n;var t=[];return e.data.active_multipliers&&(t=e.data.active_multipliers.multipliers.map(function(e){return{__typename:"CommunityPointsMultiplier",reasonCode:e.reason_code,factor:e.factor}})),n.community.channel.self.communityPoints?r(n,function(e){return e.community.channel.self.communityPoints.activeMultipliers},function(){return t}):r(n,function(e){return e.community.channel.self.communityPoints},function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:0,activeMultipliers:t,canRedeemRewardsForFree:!1,lastViewedContent:null,userRedemptions:[]}})}}}),(0,u.P)(function(i){return{query:F,variables:{channelLogin:i.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},topic:(0,f.BT)(""+i.currentUserID),skip:!i.data.community||!i.currentUserID,types:[h.qU.CommunityPointsEarned,h.qU.CommunityPointsSpent],mutator:function(e,n){if(!i.data.community||e.data.balance&&i.data.community.id!==e.data.balance.channel_id||!n.community||!n.community.channel||!n.community.channel.self)return n;var t=e.data.balance.balance;return n.community.channel.self.communityPoints?r(n,function(e){return e.community.channel.self.communityPoints.balance},function(){return t}):r(n,function(e){return e.community.channel.self.communityPoints},function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:t,activeMultipliers:null,canRedeemRewardsForFree:!1,lastViewedContent:null,userRedemptions:[]}})}}}),(0,u.P)(function(t){return{query:F,variables:{channelLogin:t.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},topic:(0,f.BT)(""+t.currentUserID),skip:!t.data||!t.currentUserID,types:[h.qU.CommunityPointsChannelLastViewedContentUpdated,h.qU.CommunityPointsGlobalLastViewedContentUpdated],mutator:function(e,n){switch(e.type){case h.qU.CommunityPointsChannelLastViewedContentUpdated:return(0,x.X_)(n,e,t.currentUserID);case h.qU.CommunityPointsGlobalLastViewedContentUpdated:return(0,x.Y5)(n,e,t.currentUserID);default:return n}}}}),(0,u.P)(function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},topic:(0,f.BT)(""+e.currentUserID),skip:!e.data||!e.currentUserID,types:[h.qU.CommunityPointsRedeemed],mutator:function(e,n){return e.type!==h.qU.CommunityPointsRedeemed?n:(0,x.zf)(n,e)}}}),(0,u.P)(function(e){return{query:F,variables:{channelLogin:e.channelLogin,includeGoalTypes:(0,R.H)(y.FB)},topic:(0,f.Vg)(""+(e.data.community&&e.data.community.id)),skip:!e.data.community,types:[h.qU.ChannelStreamDown],mutator:function(e,n){return e.type!==h.qU.ChannelStreamDown?n:(0,x.BK)(n)}}}))(t)},773105:function(e,n,t){"use strict";t.d(n,{F:function(){return i},q:function(){return a}});var t=(0,t(884979).k)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,communityGoals:[],customRewards:[],displayName:null,emoteModifiers:new Map,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null,userRedemptions:[],changedModificationIDs:new Set,changedRewardIDs:new Set}),i=t.context,a=t.withContext},640148:function(e,n,t){"use strict";t.d(n,{S:function(){return i},Y:function(){return a}});var t=(0,t(884979).k)("ChannelPointsPredictionContext",{hasAcceptedTOS:!1,isEligibleForPredictions:!1,isLoaded:!1,predictions:[],predictionsMap:{},userRecentPredictions:[]}),i=t.context,a=t.withContext},462359:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var M=t(570655),I=t(667294),T=t(126858),P=t(106801),R=t(326737),A=t(906704),L=t(344689),F=t(508995),U=t(831642),x=t(501190),O=t(640148),i=t(129989),r=t(505529);function B(e,n){var t;return null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t||!t.activePredictionEvents||e.community.channel.activePredictionEvents.find(function(e){return e.id===n.data.event.id})?e:i(e,function(e){return e.community.channel.activePredictionEvents},function(e){return(0,M.__spreadArrays)(e,[(0,r.MJ)(n.data.event)])})}function V(e,a){var n;return null!==(n=e.community)&&void 0!==n&&n.channel?i(e,function(e){return e.community.channel},function(e){var n=(e.activePredictionEvents||[]).map(function(e){return e.id!==a.data.event.id?e:(0,M.__assign)((0,M.__assign)({},e),(0,r.MJ)(a.data.event))}),t=(e.lockedPredictionEvents||[]).map(function(e){return e.id!==a.data.event.id?e:(0,M.__assign)((0,M.__assign)({},e),(0,r.MJ)(a.data.event))}),i=((null===(i=e.resolvedPredictionEvents)||void 0===i?void 0:i.edges)||[]).map(function(e){return e.node.id!==a.data.event.id?e:(0,M.__assign)((0,M.__assign)({},e),{node:(0,M.__assign)((0,M.__assign)({},e.node),(0,r.MJ)(a.data.event))})});return(0,M.__assign)((0,M.__assign)({},e),{activePredictionEvents:n,lockedPredictionEvents:t,resolvedPredictionEvents:{__typename:"PredictionEventConnection",edges:i}})}):e}function q(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.self)&&void 0!==t&&t.recentPredictions?i(e,function(e){return e.community.channel.self.recentPredictions},function(e){return(0,M.__spreadArrays)(e,[(0,r.y)(n.data.prediction)])}):e}function G(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.self)&&void 0!==t&&t.recentPredictions?i(e,function(e){return e.community.channel.self.recentPredictions},function(e){return e.map(function(e){return e.id!==n.data.prediction.id?e:(0,M.__assign)((0,M.__assign)({},e),(0,r.y)(n.data.prediction))})}):e}var a=function(e){var n=e.channelID,i=e.channelLogin,t=e.currentUserID,a=e.children,r=e.onLoaded,e=(0,P.aM)(x,{variables:{channelLogin:i}}),o=e.data,s=e.loading,e=(0,I.useState)({hasAcceptedTOS:!1,isEligibleForPredictions:!1,isLoaded:!1,predictions:[],predictionsMap:{},userRecentPredictions:[]}),l=e[0],d=e[1],u=(0,I.useRef)({}),c=(0,I.useRef)({}),m=null===(e=null===(e=null==o?void 0:o.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.activePredictionEvents,p=(0,R.D)(m),h=null===(e=null===(e=null==o?void 0:o.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.lockedPredictionEvents,g=(0,R.D)(h),f=null===(e=null===(e=null==o?void 0:o.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.resolvedPredictionEvents,v=(0,R.D)(f),y=!(null===(e=null===(e=null===(e=null==o?void 0:o.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.predictionSettings)||void 0===e||!e.isEligibleForPredictions),k=null===(e=null==o?void 0:o.currentUser)||void 0===e?void 0:e.predictionsSettings,S=null===(e=null===(e=null===(e=null==o?void 0:o.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.self)||void 0===e?void 0:e.recentPredictions,C=(0,I.useCallback)(function(n,t){(0,L.rh)(x,{channelLogin:i},function(e){return n(e,t)})},[i]),n=(0,T.P)((0,F.eR)(n||""),{skip:!n,skipMessage:function(e){return!(e.type===A.qU.CommunityPointsPredictionEventCreated||e.type===A.qU.CommunityPointsPredictionEventUpdated)}}),b=n[0],w=n[1],E=(0,R.D)(b);(0,I.useEffect)(function(){if(!(!o||w&&w.error)&&b&&b!==E){var e=new Date(b.data.timestamp).getTime()||null;switch(e||U.kg.errorAndReport(new Error("Invalid Pubsub timestamp"),"Could not parse timestamp from Pubsub message",b),b.type){case A.qU.CommunityPointsPredictionEventCreated:return void C(B,b);case A.qU.CommunityPointsPredictionEventUpdated:var n=u.current[b.data.event.id];return!e||n&&e<n?void 0:(u.current[b.data.event.id]=e,void C(V,b));default:return}}},[b,w,o,E,C]);var t=(0,T.P)((0,F.VU)(t||""),{skip:!t,skipMessage:function(e){return!(e.type===A.qU.CommunityPointsPredictionMade||e.type===A.qU.CommunityPointsPredictionUpdated||e.type===A.qU.CommunityPointsPredictionResult)}}),_=t[0],N=t[1],D=(0,R.D)(_);return(0,I.useEffect)(function(){if(!(!o||N&&N.error)&&_&&_!==D){var e=new Date(_.data.timestamp).getTime()||null;switch(e||U.kg.errorAndReport(new Error("Invalid Pubsub timestamp"),"Could not parse timestamp from Pubsub message",_),_.type){case A.qU.CommunityPointsPredictionMade:return void C(q,_);case A.qU.CommunityPointsPredictionUpdated:case A.qU.CommunityPointsPredictionResult:var n=c.current[_.data.prediction.id];return!e||n&&e<n?void 0:(c.current[_.data.prediction.id]=e,void C(G,_));default:return}}},[_,N,D,o,C]),(0,I.useEffect)(function(){var n=!s&&!(null==o||!o.community);l.isLoaded!==n&&(d(function(e){return(0,M.__assign)((0,M.__assign)({},e),{isLoaded:n})}),n&&r&&r())},[s,o,r,l.isLoaded]),(0,I.useEffect)(function(){k&&k.hasAcceptedTOS!==l.hasAcceptedTOS&&d(function(e){return(0,M.__assign)((0,M.__assign)({},e),{hasAcceptedTOS:k.hasAcceptedTOS})})},[k,l.hasAcceptedTOS]),(0,I.useEffect)(function(){y!==l.isEligibleForPredictions&&d(function(e){return(0,M.__assign)((0,M.__assign)({},e),{isEligibleForPredictions:y})})},[y,l.isEligibleForPredictions]),(0,I.useEffect)(function(){S&&S!==l.userRecentPredictions&&d(function(e){return(0,M.__assign)((0,M.__assign)({},e),{userRecentPredictions:S})})},[l.userRecentPredictions,S]),(0,I.useEffect)(function(){var n;(m&&m!==p||h&&h!==g||f&&f!==v)&&(n=H(o),d(function(e){return(0,M.__assign)((0,M.__assign)({},e),{predictions:n,predictionsMap:W(n)})}))},[m,o,h,p,g,v,f]),I.createElement(O.S.Provider,{value:l},a)},H=function(e){if(!e)return[];var n=(null===(t=null===(n=null==e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.activePredictionEvents)||[],t=(null===(t=null===(t=null==e?void 0:e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.lockedPredictionEvents)||[],e=(null===(e=null===(e=null===(e=null==e?void 0:e.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.resolvedPredictionEvents)||void 0===e?void 0:e.edges.map(function(e){return e.node}))||[];return(0,M.__spreadArrays)(n,t,e)},W=function(e){for(var n={},t=0,i=e;t<i.length;t++){var a=i[t];n[a.id]=a}return n}},773754:function(e,n,t){"use strict";t.d(n,{b9:function(){return r},P4:function(){return m},UO:function(){return p},A8:function(){return h},Jn:function(){return g},Yg:function(){return f},ko:function(){return v},PB:function(){return y},Uq:function(){return k},zf:function(){return S},BK:function(){return C},ue:function(){return b},X_:function(){return w},Y5:function(){return E},x0:function(){return _}});var o=t(570655),s=t(129989),i=t(344689),l=t(212038),d=t(176077),a=t(505529),u=t(834924),c=t(965875);function r(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?s(e,function(e){return e.community.channel.communityPointsSettings},function(e){return(0,o.__assign)((0,o.__assign)({},e),{image:n.data.settings.image?(0,a.Rk)(n.data.settings.image):null,isEnabled:n.data.settings.is_enabled,name:n.data.settings.name})}):e}function m(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?s(e,function(e){return e.community.channel.communityPointsSettings.automaticRewards},function(e){return e.map(function(e){return e.type!==n.data.updated_reward.reward_type?e:(0,o.__assign)((0,o.__assign)({},e),(0,a.uj)(n.data.updated_reward))})}):e}function p(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.communityPointsSettings)&&void 0!==t&&t.goals?s(e,function(e){return e.community.channel.communityPointsSettings.goals},function(e){return(0,o.__spreadArrays)(e,[(0,a.en)(n.data.community_goal)])}):e}function h(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.communityPointsSettings)&&void 0!==t&&t.goals?s(e,function(e){return e.community.channel.communityPointsSettings.goals},function(e){return e.map(function(e){return e.id!==n.data.community_goal.id?e:(0,o.__assign)((0,o.__assign)({},e),(0,a.en)(n.data.community_goal))})}):e}function g(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.communityPointsSettings)&&void 0!==t&&t.goals?s(e,function(e){return e.community.channel.communityPointsSettings.goals},function(e){return e.map(function(e){return e.id!==n.data.contribution.goal.id?e:(0,o.__assign)((0,o.__assign)({},e),(0,a.en)(n.data.contribution.goal))})}):e}function f(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.communityPointsSettings)&&void 0!==t&&t.goals?s(e,function(e){return e.community.channel.communityPointsSettings.goals},function(e){return e.filter(function(e){return e.id!==n.data.community_goal.id})}):e}function v(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?s(e,function(e){return e.community.channel.communityPointsSettings.customRewards},function(e){return(0,o.__spreadArrays)(e,[(0,a.Y5)(n.data.new_reward)])}):e}function y(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.communityPointsSettings)&&void 0!==t&&t.customRewards?s(e,function(e){return e.community.channel.communityPointsSettings.customRewards},function(e){return e.map(function(e){return e.id!==n.data.updated_reward.id?e:(0,o.__assign)((0,o.__assign)({},e),(0,a.Y5)(n.data.updated_reward))})}):e}function k(e,n){var t;return null!==(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.communityPointsSettings)&&void 0!==t&&t.customRewards?s(e,function(e){return e.community.channel.communityPointsSettings.customRewards},function(e){return e.map(function(e){return e.id!==n.data.redemption.reward.id?e:(0,o.__assign)((0,o.__assign)({},e),{redemptionsRedeemedCurrentStream:n.data.redemption.reward.redemptions_redeemed_current_stream})})}):e}function S(e,n){var t;if(null===(t=null===(t=null===(t=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===t?void 0:t.self)||void 0===t?void 0:t.communityPoints)||void 0===t||!t.userRedemptions)return e;if(!n.data.num_user_redemptions)return e;var i=n.data.redemption.reward.id;if(e.community.channel.self.communityPoints.userRedemptions.find(function(e){return e.reward.id===i}))return s(e,function(e){return e.community.channel.self.communityPoints.userRedemptions},function(e){return e.map(function(e){return e.reward.id!==i?e:(0,o.__assign)((0,o.__assign)({},e),{userRedemptionsCurrentStream:n.data.num_user_redemptions||0})})});var a={__typename:"CommunityPointsCustomRewardUserRedemption",reward:{__typename:"CommunityPointsCustomReward",id:i},userRedemptionsCurrentStream:n.data.num_user_redemptions};return s(e,function(e){return e.community.channel.self.communityPoints.userRedemptions},function(e){return(0,o.__spreadArrays)(e,[a])})}function C(e){var n;return null!==(n=null===(n=null===(n=null===(n=e.community)||void 0===n?void 0:n.channel)||void 0===n?void 0:n.self)||void 0===n?void 0:n.communityPoints)&&void 0!==n&&n.userRedemptions?s(e,function(e){return e.community.channel.self.communityPoints.userRedemptions},function(){return[]}):e}function b(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?s(e,function(e){return e.community.channel.communityPointsSettings.customRewards},function(e){return e.map(function(e){return e.id!==n.data.deleted_reward.id?e:(0,o.__assign)((0,o.__assign)({},e),{isEnabled:!1})})}):e}function w(e,n,t){var i;if(null===(i=null===(i=null===(i=null==e?void 0:e.community)||void 0===i?void 0:i.channel)||void 0===i?void 0:i.self)||void 0===i||!i.communityPoints||n.data.channel_last_viewed_content.user_id!==t||n.data.channel_last_viewed_content.channel_id!==e.community.channel.id)return e;var a=[];return n.data.channel_last_viewed_content&&(a=n.data.channel_last_viewed_content.last_viewed_content.map(function(e){return{__typename:"CommunityPointsLastViewedContentByType",contentType:e.content_type,lastViewedAt:e.last_viewed_at}})),s(e,function(e){return e.community.channel.self.communityPoints.lastViewedContent},function(){return a})}function E(e,n,t){var i;if(null===(i=null==e?void 0:e.currentUser)||void 0===i||!i.communityPoints||n.data.global_last_viewed_content.user_id!==t)return e;var a=[];return n.data.global_last_viewed_content&&(a=n.data.global_last_viewed_content.last_viewed_content.map(function(e){return{__typename:"CommunityPointsLastViewedContentByTypeAndID",contentID:e.content_id,contentType:e.content_type,lastViewedAt:e.last_viewed_at}})),s(e,function(e){return e.currentUser.communityPoints.lastViewedContent},function(){return a})}function _(e,a,r){(0,i.rh)(c,{channelLogin:e,includeGoalTypes:(0,d.H)(l.FB)},function(e){return t=a,i=r,null!==(e=null===(e=null===(e=(n=e).community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)&&void 0!==e&&e.customRewards?s(n,function(e){return e.community.channel.communityPointsSettings.customRewards},function(e){return e.map(function(e){return e.id!==t.id?e:(0,o.__assign)((0,o.__assign)({},t),{isInStock:!((0,u.Mb)(t)||t.maxPerStreamSetting.isEnabled&&!i)})})}):n;var n,t,i})}},443851:function(e,n,t){"use strict";t.d(n,{y:function(){return a},P:function(){return r}});var i=t(884979),n=t(301657),t=t(778262),t=(0,i.k)("RewardRedemptionContext",{closeRewardCenter:function(){return null},isRewardCenterOpen:!1,openReward:function(){return null},openEarnRatesList:function(){return null},resetTransactionID:function(){return null},rewardCenterState:{type:n.q.ListRewards},transactionID:"",direction:t.H.OpenRewardCenter,setDirection:function(){return null}}),a=t.context,r=t.withContext},670186:function(e,n,t){"use strict";var i;t.d(n,{R:function(){return i}}),(n=i=i||{})[n.SMALL=28]="SMALL",n[n.MEDIUM=56]="MEDIUM",n[n.LARGE=112]="LARGE"},301657:function(e,n,t){"use strict";var i;t.d(n,{q:function(){return i}}),(n=i=i||{})[n.ListRewards=0]="ListRewards",n[n.CustomReward=1]="CustomReward",n[n.UnlockRandomEmote=2]="UnlockRandomEmote",n[n.UnlockChosenSubscriberEmote=3]="UnlockChosenSubscriberEmote",n[n.AlreadySubbed=4]="AlreadySubbed",n[n.ModifyEmote=5]="ModifyEmote",n[n.NotEnoughPoints=6]="NotEnoughPoints",n[n.NotLoggedIn=7]="NotLoggedIn",n[n.NotSubbed=8]="NotSubbed",n[n.NotSubOnlyMode=9]="NotSubOnlyMode",n[n.OutOfStock=10]="OutOfStock",n[n.EarnRates=11]="EarnRates",n[n.CommunityGoal=12]="CommunityGoal",n[n.Prediction=13]="Prediction"},164783:function(e,n,t){"use strict";t.d(n,{G:function(){return l},Z:function(){return d}});var i=t(667294),a=t(687837),r=t(831642),o=t(128416),s=t(212038);function l(e){return e.type===o.z3Y.BOOST?(0,s.xc)():e.title}function d(e){if(e.type!==o.z3Y.BOOST)return e.description;var n=0;return e.description&&(n=Number(e.description)),(0,r.wv)("{boostRewardSize, plural, one {Get a boost to promote this stream {boostRewardSizeFormatted} time! <x:link>Learn more</x:link>} other {Get a boost to promote this stream {boostRewardSizeFormatted} times! <x:link>Learn more</x:link>}}",{boostRewardSize:n,boostRewardSizeFormatted:(0,r.uf)(n),"x:link":function(e){return i.createElement(a.s,{targetBlank:!0,linkTo:s.bX},e)}},"BoostChallengeRewardDescription")}},176077:function(e,n,t){"use strict";t.d(n,{H:function(){return r}});var i=t(863480),a=t(128416);function r(e){return(0,i.t)(e)?[a.z3Y.CREATOR,a.z3Y.BOOST]:[a.z3Y.CREATOR]}},477130:function(e,n,t){"use strict";t.d(n,{zs:function(){return y},hj:function(){return S},We:function(){return C},uW:function(){return b},UL:function(){return w},Pb:function(){return E}});var a=t(570655),i=t(129989),r=t(667294),o=t(831642),s=t(594870),l=t(344689),d=t(128416),u=t(44683),c=t(652461),m=t(721482),p=t(928656),h=t(194839),g=t(120019),f=t(450517),v=t(149800),y="300238151",k="channel_points";function S(e){return{header:r.createElement(u.F,{icon:r.createElement(p._m,{data:e.reward,size:p.YT.Tiny})},(0,o.wv)("Share Your New Emote","EmoteReward")),body:r.createElement(c.f,null,(0,o.wv)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward")),inputValue:e.inputValue,disableCommands:!0,type:m.v4.ShareEmote}}function C(e,n,t){return o.$6.apollo.client.mutate((0,a.__assign)({mutation:v},(0,l.k_)({channelID:e,cost:(0,h.at)(n),transactionID:t})))}function b(e,n,t,i){return o.$6.apollo.client.mutate((0,a.__assign)({mutation:g},(0,l.k_)({channelID:e,emoteID:t,cost:(0,h.at)(n),transactionID:i})))}function w(e,n,t,i){return o.$6.apollo.client.mutate((0,a.__assign)({mutation:f},(0,l.k_)({channelID:e,emoteID:t,cost:(0,h.at)(n),transactionID:i})))}function E(t){(0,l.rh)(s,{withOwner:!0},function(e){return i(e,function(e){return e.currentUser.emoteSets},function(e){return 0<e.filter(function(e){return e.id===y}).length?e.map(function(e){if(e.id!==y)return e;var n=(0,a.__assign)((0,a.__assign)({},t),{modifiers:null,setID:y,type:d.eeY.CHANNEL_POINTS,__typename:"Emote"});return i(e,function(e){return e.emotes},function(e){return e?-1!==e.findIndex(function(e){return e&&e.id===t.id})?e:(0,a.__spreadArrays)(e,[n]):[n]})}):(0,a.__spreadArrays)(e,[{id:y,emotes:[(0,a.__assign)((0,a.__assign)({},t),{modifiers:null,setID:y,type:d.eeY.CHANNEL_POINTS,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:"436872863",login:k,displayName:k,profileImageURL:null}}])})})}},687773:function(e,n,t){"use strict";t.d(n,{m1:function(){return m},ye:function(){return p},fw:function(){return h},Tm:function(){return g},hc:function(){return f}});var i=t(667294),a=t(58661),r=t(150125),o=t(687837),s=t(128416),l=t(831642),d=t(333946),u=t(442767),c=t(812140);function m(){return(0,l.wv)("You must provide a message for this reward.","ChannelPointsMessageError")}function p(){return(0,l.wv)("Something went wrong. Please try again later.","CommunityPointsError")}function h(e){switch(e){case s.qhC.CHANNEL_SETTINGS:return(0,u.EB)().MessageContainsBannedWordsError;case s.qhC.MSG_DUPLICATE:return(0,d.h)();case s.qhC.AUTOMOD_HELD:case s.qhC.BLIZZARD_CONNECT_MODE:case s.qhC.EMOTE_ONLY:case s.qhC.FOLLOWERS_ONLY:case s.qhC.FOLLOWERS_ONLY_ZERO:case s.qhC.INSUFFICIENT_POINTS:case s.qhC.MESSAGE_REJECTED:case s.qhC.R9K_MODE:case s.qhC.REWARD_COST_MISMATCH:case s.qhC.REWARD_DISABLED:case s.qhC.REWARD_FORBIDDEN:case s.qhC.SERVER_ERROR:case s.qhC.SLOW_MODE:case s.qhC.SUBS_ONLY:case s.qhC.TRANSACTION_ALREADY_COMMITTED:case s.qhC.TRANSACTION_IN_PROGRESS:case s.qhC.UNKNOWN:case s.qhC.USER_BANNED:case s.qhC.USER_SUSPENDED:case s.qhC.USER_TIMED_OUT:case s.qhC.VERIFIED_ACCOUNT:default:return p()}}function g(e,n){switch(e){case s.O1U.EMOTE_ALREADY_ENTITLED:return(0,l.wv)("<x:strong>Oops!</x:strong> You can already use this emote!",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.INSUFFICIENT_POINTS:return(0,l.wv)("<x:strong>Oops!</x:strong> You don't have enough points for this reward. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.NO_EMOTES_AVAILABLE:return(0,l.wv)("<x:strong>Oops!</x:strong> This broadcaster has no emotes to unlock. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.REWARD_COST_MISMATCH:return(0,c.F6)(null,function(){return null});case s.O1U.REWARD_DISABLED:return(0,l.wv)("<x:strong>Oops!</x:strong> This reward is disabled. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.REWARD_FORBIDDEN:return(0,l.wv)("<x:strong>Oops!</x:strong> You cannot redeem this reward on this channel. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(a.V,{bold:!0,type:r.yG.Span},e)},"x:link":function(e){return i.createElement(o.s,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case s.O1U.TRANSACTION_ALREADY_COMMITTED:case s.O1U.INVALID_EMOTE:case s.O1U.UNKNOWN:default:return p()}}function f(e){switch(e){case s.KvS.MAX_PER_STREAM:return(0,l.wv)("This reward is temporarily out of stock.","ChannelPointsMessageError");case s.KvS.USER_BANNED:return(0,l.wv)("You've been banned and can't redeem this reward.","ChannelPointsMessageError");case s.KvS.NOT_ENOUGH_POINTS:return(0,l.wv)("You don't have enough points for this reward.","ChannelPointsMessageError");case s.KvS.PROPERTIES_MISMATCH:return(0,c.Ec)(null,function(){return null});case s.KvS.DUPLICATE_TRANSACTION:case s.KvS.FORBIDDEN:case s.KvS.NOT_FOUND:default:return p()}}},246560:function(e,n,t){"use strict";t.d(n,{z:function(){return a}});var i=t(128416),a=function(e,n){var t={subOnlyReward:!0,nonSubOnlyReward:!0,subsModeRequiredReward:!0};return"CommunityPointsCustomReward"===e.__typename&&e.isSubOnly&&(t.subOnlyReward=n.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.isHiddenForSubs&&(t.nonSubOnlyReward=!n.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.type===i.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE&&(t.subsModeRequiredReward=n.isChannelSubsOnlyMode),t}},505529:function(e,n,t){"use strict";function i(e){return{__typename:"CommunityPointsAutomaticReward",backgroundColor:e.background_color,cost:e.cost||null,image:e.image?o(e.image):null,isEnabled:e.is_enabled,type:e.reward_type,updatedForIndicatorAt:e.updated_for_indicator_at,globallyUpdatedForIndicatorAt:e.globally_updated_for_indicator_at}}function a(e){return{__typename:"CommunityPointsCommunityGoal",id:e.id,amountNeeded:e.goal_amount,backgroundColor:e.background_color,defaultImage:o(e.default_image),description:e.description,durationDays:e.duration_days,endedAt:e.ended_at,image:e.image?o(e.image):null,isInStock:e.is_in_stock,smallContribution:e.small_contribution,perStreamUserMaximumContribution:e.per_stream_maximum_user_contribution,pointsContributed:e.points_contributed,startedAt:e.started_at,status:e.status,title:e.title,type:e.goal_type}}function r(e){return{__typename:"CommunityPointsCustomReward",id:e.id,backgroundColor:e.background_color||null,cost:e.cost,defaultImage:o(e.default_image),image:e.image?o(e.image):null,isEnabled:e.is_enabled,isInStock:e.is_in_stock,isPaused:e.is_paused,isSubOnly:e.is_sub_only,isUserInputRequired:e.is_user_input_required,shouldRedemptionsSkipRequestQueue:e.should_redemptions_skip_request_queue,prompt:e.prompt||null,title:e.title,updatedForIndicatorAt:e.updated_for_indicator_at,maxPerUserPerStreamSetting:{__typename:"CommunityPointsCustomRewardMaxPerUserPerStreamSetting",maxPerUserPerStream:e.max_per_user_per_stream.max_per_user_per_stream,isEnabled:e.max_per_user_per_stream.is_enabled},maxPerStreamSetting:{__typename:"CommunityPointsCustomRewardMaxPerStreamSetting",maxPerStream:e.max_per_stream.max_per_stream,isEnabled:e.max_per_stream.is_enabled},globalCooldownSetting:{__typename:"CommunityPointsCustomRewardGlobalCooldownSetting",globalCooldownSeconds:e.global_cooldown.global_cooldown_seconds,isEnabled:e.global_cooldown.is_enabled},redemptionsRedeemedCurrentStream:e.redemptions_redeemed_current_stream,cooldownExpiresAt:e.cooldown_expires_at}}function o(e){return{__typename:"CommunityPointsImage",url:e.url_1x,url2x:e.url_2x,url4x:e.url_4x}}function s(n){var e=n.outcomes.find(function(e){return e.id===n.winning_outcome_id}),t=null;return"USER"===n.created_by.type&&n.created_by.user_id&&n.created_by.user_display_name&&(t={__typename:"User",id:n.created_by.user_id,displayName:n.created_by.user_display_name}),{__typename:"PredictionEvent",id:n.id,createdAt:n.created_at,createdBy:t,endedAt:n.ended_at,lockedAt:n.locked_at,outcomes:n.outcomes.map(l),predictionWindowSeconds:n.prediction_window_seconds,status:n.status,title:n.title,winningOutcome:e?l(e):null}}function l(e){return{__typename:"PredictionOutcome",id:e.id,color:e.color,title:e.title,totalPoints:e.total_points,totalUsers:e.total_users,topPredictors:e.top_predictors.map(function(e){return{__typename:"Prediction",id:e.id,points:e.points,user:{__typename:"User",id:e.user_id,displayName:e.user_display_name||""}}})}}function d(e){var n=null,t=null,i=null;return null!==e.result&&(n=e.result.is_acknowledged,t=e.result.points_won,i=e.result.type),{__typename:"Prediction",id:e.id,event:{__typename:"PredictionEvent",id:e.event_id},outcome:{__typename:"PredictionOutcome",id:e.outcome_id},points:e.points,predictedAt:e.predicted_at,updatedAt:e.updated_at,result:i,pointsWon:t,isResultAcknowledged:n}}t.d(n,{uj:function(){return i},en:function(){return a},Y5:function(){return r},Rk:function(){return o},MJ:function(){return s},y:function(){return d}})},952237:function(e,n,t){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}t.d(n,{A:function(){return i}})},275406:function(e,n,t){"use strict";t.d(n,{l:function(){return k},p:function(){return C}});var a=t(570655),r=t(667294),o=t(58661),s=t(150125),l=t(831642),d=t(344689),u=t(128416),c=t(652461),m=t(721482),p=t(626898),h=t(133380),i=t(687773),g=t(593128),f=t(194839),v=t(812140),y=t(703554);function k(i){var e=this;return{header:r.createElement(h.D,{reward:i.reward}),body:r.createElement(p.X,{onRequirementsChange:function(e){return e?i.setTrayError((0,v.Ec)(i.channelDisplayName||i.channelLogin,function(){i.clearTray(),i.openReward()})):i.clearTrayError()},onStockChange:function(e){return e?i.setTrayError((0,v.kk)()):i.clearTrayError()},reward:i.reward},r.createElement(c.f,null,r.createElement(o.V,{wordBreak:s.I5.BreakWord},i.reward.prompt||void 0))),disableCommands:!0,disableBits:!0,ignoredRestrictions:new Set([u.D5M.FOLLOWERS_ONLY,u.D5M.SLOW_MODE,u.D5M.SUBSCRIBERS_ONLY,u.D5M.VERIFIED_ONLY]),sendButtonOverride:m.nS.CommunityPointsSpend,sendMessageHandler:{type:m.DB.Custom,handleMessage:function(t){return(0,a.__awaiter)(e,void 0,void 0,function(){var n;return(0,a.__generator)(this,function(e){switch(e.label){case 0:return t.trim()?[4,C(i.channelID,i.reward,i.transactionID,t)]:(S(i),[2,!1]);case 1:return(n=e.sent()).data&&n.data.redeemCommunityPointsCustomReward&&!n.data.redeemCommunityPointsCustomReward.error?(i.clearTray(),(0,y.ev)({channelID:i.channelID,channelLogin:i.channelLogin,reward:i.reward,transactionID:i.transactionID,viewTrackingID:i.viewTrackingID}),[2,!0]):(S((0,a.__assign)((0,a.__assign)({},i),{errorCode:n.data&&n.data.redeemCommunityPointsCustomReward&&n.data.redeemCommunityPointsCustomReward.error&&n.data.redeemCommunityPointsCustomReward.error.code||void 0,message:t})),[2,!1])}})})}},type:m.v4.CustomReward}}function S(e){var n=e.message?(0,i.hc)(e.errorCode):(0,i.m1)();e.setTrayError(n)}function C(e,n,t,i){return l.$6.apollo.client.mutate((0,a.__assign)({mutation:g},(0,d.k_)({channelID:e,cost:(0,f.at)(n),prompt:n.prompt,rewardID:n.id,textInput:i,title:n.title,transactionID:t})))}},778262:function(e,n,t){"use strict";t.d(n,{H:function(){return i},d:function(){return r}});var i,a=t(55503);function r(e){switch(e){case i.Forward:return[a.x.SlideOverRight,a.x.SlideOverLeft];case i.Back:return[a.x.SlideOverLeft,a.x.SlideOverRight];case i.CloseRewardCenter:return[a.x.SlideOverTop,a.x.SlideOverBottom];case i.OpenRewardCenter:return[a.x.SlideOverBottom,a.x.SlideOverTop];default:i.None;return a.x.Fade}}(t=i=i||{}).Forward="move-forward",t.Back="move-backward",t.OpenRewardCenter="open-reward-center",t.CloseRewardCenter="close-reward-center",t.None="none"},194839:function(e,n,t){"use strict";t.d(n,{fg:function(){return l},at:function(){return d},_G:function(){return u},RW:function(){return c},TA:function(){return m},J7:function(){return p},Zz:function(){return h}});var i=t(624685),a=t(831642),r=t(466878),o=t(128416),s=t(952237);function l(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.z3Y.BOOST?i.x.TwitchPurple:e.backgroundColor}function d(e){return"CommunityPointsAutomaticReward"!==e.__typename?e.cost:e.cost||e.defaultCost}function u(e){return"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.z3Y.BOOST?{src:r}:e.image?{src:e.image.url,srcSet:(0,s.A)(e.image)}:{src:e.defaultImage.url,srcSet:(0,s.A)(e.defaultImage)}}function c(e){return"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.z3Y.BOOST?{src:r}:e.image?{src:e.image.url2x,srcSet:{"1x":e.image.url2x,"2x":e.image.url4x}}:{src:e.defaultImage.url2x,srcSet:{"1x":e.defaultImage.url2x,"2x":e.defaultImage.url4x}}}function m(e){if("CommunityPointsCustomReward"===e.__typename)return e.title;switch(e.type){case o.A_7.SEND_HIGHLIGHTED_MESSAGE:return(0,a.wv)("Highlight My Message","CommunityPointsRewards");case o.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE:return(0,a.wv)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case o.A_7.CHOSEN_SUB_EMOTE_UNLOCK:return(0,a.wv)("Choose an Emote to Unlock","CommunityPointsRewards");case o.A_7.RANDOM_SUB_EMOTE_UNLOCK:return(0,a.wv)("Unlock a Random Sub Emote","CommunityPointsRewards");case o.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return(0,a.wv)("Modify a Single Emote","CommunityPointsRewards");default:return(0,a.wv)("Reward","CommunityPointsRewards")}}function p(e){if("CommunityPointsCustomReward"===e.__typename)return!1;switch(e.type){case o.A_7.RANDOM_SUB_EMOTE_UNLOCK:case o.A_7.CHOSEN_SUB_EMOTE_UNLOCK:case o.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function h(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;switch(e.type){case o.A_7.SEND_HIGHLIGHTED_MESSAGE:return(0,a.wv)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case o.A_7.SINGLE_MESSAGE_BYPASS_SUB_MODE:return(0,a.wv)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case o.A_7.CHOSEN_SUB_EMOTE_UNLOCK:return(0,a.wv)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case o.A_7.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return(0,a.wv)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case o.A_7.RANDOM_SUB_EMOTE_UNLOCK:return(0,a.wv)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return(0,a.wv)("Unlock this reward.","CommunityPointsRewards")}}},834924:function(e,n,t){"use strict";function i(e,n){return"CommunityPointsCustomReward"===e.__typename&&e.maxPerUserPerStreamSetting.isEnabled&&n&&n>=e.maxPerUserPerStreamSetting.maxPerUserPerStream}function a(e){var n=e.maxPerStreamSetting,e=e.redemptionsRedeemedCurrentStream;return!!(e&&n.isEnabled&&e>=n.maxPerStream)}function r(e,n){var t=e.cooldownExpiresAt,e=e.globalCooldownSetting;return!!t&&!!(e.isEnabled&&new Date(t).getTime()>n.getTime())}t.d(n,{jw:function(){return i},Mb:function(){return a},Tc:function(){return r}})},812140:function(e,n,t){"use strict";t.d(n,{Fg:function(){return l},sW:function(){return d},kk:function(){return u},Ec:function(){return c},F6:function(){return m},l_:function(){return p},$4:function(){return h},NE:function(){return g},Eh:function(){return f},Oe:function(){return v},Bb:function(){return y},RU:function(){return k},up:function(){return S},N1:function(){return C},TX:function(){return b},f$:function(){return w},LA:function(){return E},g0:function(){return _}});var i=t(667294),a=t(687837),r=t(58661),o=t(150125),s=t(831642);function l(e){return e?(0,s.wv)("Channel Point","ChannelPoints"):(0,s.wv)("Channel Points","ChannelPoints")}function d(e){return(0,s.wv)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function u(){return(0,s.wv)("This reward is temporarily out of stock.","ChannelPoints")}function c(e,n){return e?(0,s.wv)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints"):(0,s.wv)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints")}function m(e,n){return e?(0,s.wv)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(r.V,{bold:!0,type:o.yG.Span},e)},"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints"):(0,s.wv)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(r.V,{bold:!0,type:o.yG.Span},e)},"x:link":function(e){return i.createElement(a.s,{onClick:n},e)}},"ChannelPoints")}function p(){return(0,s.wv)("Channel Points early access","ChannelPointsSignupPage")}function h(){return(0,s.wv)("Review Requests Queue","CustomRewardsList")}function g(e){switch(e){case"Greyscale":return(0,s.wv)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return(0,s.wv)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return(0,s.wv)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return(0,s.wv)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return(0,s.wv)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return(0,s.wv)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return(0,s.wv)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}function f(){return(0,s.wv)("Something went wrong. Please try again.","CommunityChallengeModal")}function v(){return(0,s.wv)("Max","CommunityGoalContributionButtons")}function y(){return(0,s.wv)("Redeem","CustomRewardCheckout")}function k(e){return(0,s.wv)('You have predicted "{outcome}" and cannot change your pick',{outcome:e},"PredictionCheckoutActiveFooter")}function S(e){return(0,s.wv)("You have already contributed the maximum number of {pointName} to this prediction",{pointName:e||l()},"PredictionCheckoutActiveFooter")}function C(e){return(0,s.wv)("You don't have enough {pointName}",{pointName:e||l()},"PredictionCheckoutActiveFooter")}function b(e){return(0,s.wv)("In {username}'s channel points, rewards, or predictions",{username:e},"ReportModalWizardItem")}function w(){return(0,s.wv)("Go Back","PredictionTermsStep")}function E(){return(0,s.wv)("Summary","PredictionManager")}function _(e,n){return(0,s.wv)("{predictionTitle} {winningOutcome}",{predictionTitle:e,winningOutcome:n},"PredictionCompletionStep")}},703554:function(e,n,t){"use strict";t.d(n,{nq:function(){return a},j:function(){return r},XO:function(){return o},FX:function(){return s},tw:function(){return l},cQ:function(){return d},zt:function(){return u},OF:function(){return c},TJ:function(){return m},GS:function(){return p},Tv:function(){return y},Kz:function(){return k},Hx:function(){return S},Gi:function(){return C},gd:function(){return b},QF:function(){return w},ct:function(){return E},ev:function(){return _},Vw:function(){return N},dZ:function(){return D},lD:function(){return M},F4:function(){return I},KC:function(){return T}});var i,a,r,o,s,l,d,u,c,m,p,h=t(831642),g=t(128416),f=t(742407),v=t(194839);function y(e,n,t,i){h.UO.track(f.N.ChannelPointsIconImpression,{user_id:e,channel_login:n,channel_id:t,content_update_enabled:i})}function k(e,n,t,i,a,r){var o=null;switch(a.__typename){case"CommunityPointsCommunityGoal":o=a.pointsContributed;break;case"PredictionEvent":o=A(a)}var s=null,r={channel_login:e,channel_id:n,content_update_enabled:t,is_available:s="PredictionEvent"===a.__typename?a.status===g.ws0.ACTIVE:s,position:i,reward_id:a.id,reward_type:P(a),reward_type_detail:o,view_uuid:r};h.UO.track(f.N.ChannelPointsRewardImpression,r)}function S(e,n,t,i){h.UO.track(f.N.ChannelPointsViewRewards,{channel_login:e,channel_id:n,view_uuid:t,content_update_enabled:i})}function C(e){var n="CommunityPointsCustomReward"===e.reward.__typename&&(!e.reward.isInStock||e.reward.isPaused)||"CommunityPointsCommunityGoal"===e.reward.__typename&&!e.reward.isInStock,t="CommunityPointsCommunityGoal"===e.reward.__typename?e.reward.pointsContributed:null,i=e.userBalance===1/0?null:e.userBalance,e={channel_id:e.channelID,channel_login:e.channelLogin,is_available:!n,is_channel_moderator:e.isModerator,is_eligible:e.isUserEligible,reward_cost:R(e.reward),reward_id:e.reward.id,reward_type:P(e.reward),reward_type_detail:t,transaction_uuid:e.transactionID,user_points_balance:i,view_uuid:e.viewTrackingID,content_update_enabled:e.contentUpdateEnabled};h.UO.track(f.N.ChannelPointsSelectReward,e)}function b(e){var n=e.userBalance===1/0?null:e.userBalance,e={channel_id:e.channelID,channel_login:e.channelLogin,content_update_enabled:!1,is_available:e.prediction.status===g.ws0.ACTIVE,is_channel_moderator:e.isModerator,is_eligible:e.isUserEligible,is_prediction_category_region_locked:e.userRestriction===g.cmf.CATEGORY_REGION_LOCKED,is_prediction_region_locked:e.userRestriction===g.cmf.REGION_LOCKED,reward_cost:null,reward_id:e.prediction.id,reward_type:i.Prediction,reward_type_detail:A(e.prediction),transaction_uuid:e.transactionID,user_points_balance:n,view_uuid:e.viewTrackingID};h.UO.track(f.N.ChannelPointsSelectReward,e)}function w(e,n,t){h.UO.track(f.N.ChannelPointsViewRequestQueue,{ui_context:e,channel_login:n,channel_id:t})}function E(e,n,t,i){h.UO.track(f.N.ChannelPointsViewEarnScorecard,{ui_context:e,viewer_type:n,channel_id:t,channel_login:i})}function _(e){var n=void 0!==e.pointsSpent?e.pointsSpent:R(e.reward),t="CommunityPointsCommunityGoal"===e.reward.__typename?e.reward.pointsContributed:null,e={channel_id:e.channelID,channel_login:e.channelLogin,contributed_max:e.isMaxContribution,points_spent:n,reward_id:e.reward.id,reward_type:P(e.reward),reward_type_detail:e.rewardTypeDetail||t,transaction_uuid:e.transactionID,view_uuid:e.viewTrackingID};h.UO.track(f.N.ChannelPointsSpend,e)}function N(e){e={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:e.poll.settings.communityPointsVotes.cost,reward_id:e.poll.id,reward_type:i.Poll,reward_type_detail:null,transaction_uuid:null,view_uuid:null};h.UO.track(f.N.ChannelPointsSpend,e)}function D(e,n,t,i){h.UO.track(f.N.ChannelPointsOnboardingInteraction,{channel_id:e,channel_login:n,onboarding_collateral:t,ui_context:i})}function M(e){e={channel_id:e.channelID,channel_login:e.channelLogin,has_custom_reward:e.hasCustomRewards,action:e.action,in_product_notice:e.inProductNotice,reward_id:e.rewardID||null,template_id:e.templateID||null};h.UO.track(f.N.ChannelPointsCustomRewardCollectionInteraction,e)}function I(e){e={channel_id:e.channelID,user_id:e.userID,reward_id:e.rewardID||null,action:e.action,action_descriptor:e.actionDescriptor||null,ui_context:e.uiContext};h.UO.track(f.N.ChannelPointsManageRequestQueue,e)}function T(e){e={channel_id:e.channelID,user_id:e.userID,redemption_uuid:e.redemptionID,is_bulk_action:e.isBulkAction,action:e.action,ui_context:e.uiContext};h.UO.track(f.N.ChannelPointsRewardRequestResponse,e)}function P(e){switch(e.__typename){case"CommunityPointsCommunityGoal":return i.CommunityChallenge;case"PredictionEvent":return i.Prediction;case"CommunityPointsAutomaticReward":return i.Automatic;default:return i.Custom}}function R(e){switch(e.__typename){case"CommunityPointsAutomaticReward":case"CommunityPointsCustomReward":return(0,v.at)(e);case"CommunityPointsCommunityGoal":return e.smallContribution;default:return null}}function A(e){switch(e.status){case g.ws0.ACTIVE:return"active";case g.ws0.CANCELED:case g.ws0.CANCEL_PENDING:return"canceled";case g.ws0.LOCKED:return"submission_closed";case g.ws0.RESOLVED:case g.ws0.RESOLVE_PENDING:return"resolved";default:return null}}(t=i=i||{}).Automatic="automatic",t.Custom="custom",t.Poll="poll",t.CommunityChallenge="community_challenge",t.Prediction="prediction",(t=a=a||{}).ActivityFeed="activity_feed",t.ChatCommand="chat_command",t.CreatorsSettings="creators_settings",t.CustomRewardModal="custom_reward_modal",t.DeleteModal="delete_modal",t.ModTools="chat_settings",t.ModView="mod_view",t.QuickAction="quick_action",t.RewardSelectionPane="reward_selection_pane",(r=r||{}).ModViewWidget="mod_view_widget",(t=o=o||{}).RewardSelectionPane="reward_selection_pane",t.CreatorsSettings="creators_settings",t.CustomRewardModal="custom_reward_modal",t.AutomaticRewardModal="automatic_reward_modal",(t=s=s||{}).CustomRewardCreationModal="custom_reward_creation_modal",t.RewardsPageOnboarding="rewards_page_onboarding",t.ChannelPointsSettings="channel_points_settings",(t=l=l||{}).IconSetDownload="icon_set_download",t.GetStartedGuide="get_started_guide",(t=d=d||{}).Viewer="viewer",t.Moderator="moderator",t.Broadcaster="broadcaster",(t=u=u||{}).Impression="cta_impression",t.Click="cta_click",t.AddReward="add_reward",t.NoticeClick="in_product_notice_click",(t=c=c||{}).Paused="paused",t.Unpaused="unpaused",t.BulkCancel="bulk_cancel",t.BulkFulfill="bulk_fulfill",(t=m=m||{}).SelectedRedemptions="selected_redemptions",t.AllRedemptions="all_redemptions",(t=p=p||{}).Fulfilled="fulfilled",t.Canceled="canceled",t.Reported="reported"},623114:function(e,n,t){"use strict";t.d(n,{x2:function(){return i},Eb:function(){return u}});var i,a=t(667294),n=t(382448),r=t(470216),o=t(734995),s=t(270406),l=t(246797);(t=i=i||{})[t.LOCK=0]="LOCK",t[t.BITS=1]="BITS";var d=((t={})[i.LOCK]=n.e.Lock,t[i.BITS]=n.e.Bits,t),u=function(e){var n=e.lockIcon,t=e.className,e=a.useMemo(function(){return a.createElement(r.W,{asset:d[n],height:10,width:10})},[n]);return a.createElement(o.A,{background:s.Aq.Overlay,borderRadius:l.c.Small,className:t,"data-test-selector":"badge-button-lock",display:s.sS.InlineFlex,justifyContent:s.uM.Center,position:s.Ly.Absolute,zIndex:s.KN.Above},e)}},119935:function(e,n,t){"use strict";t.d(n,{Y:function(){return s}});var i=t(667294),a=t(382448),r=t(440837),o=t(831642),s=i.memo(function(e){var n=a.e.Emoticons;return i.createElement(r.Ei,{disabled:e.buttonDisabled,icon:n,"aria-label":(0,o.wv)("Emote picker","EmotePickerButton"),type:e.isActive?r.c.Primary:r.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})})},42626:function(e,n,t){"use strict";var i;t.d(n,{VT:function(){return i},yi:function(){return a},PC:function(){return r}}),(n=i=i||{}).Chat="stream_chat",n.Feeds="feeds",n.Room="chatroom",n.Whisper="whisper",n.VodChat="vod-chat";var a={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},r=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},250319:function(e,n,t){"use strict";t.d(n,{nx:function(){return i},E5:function(){return a},Eu:function(){return s},SA:function(){return l},JX:function(){return p}});var r=t(570655),d=t(831642),u=t(128416),c=t(823955),m="twilight.emote_picker_history",o=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"305954156",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function i(e){var n=h(),t=n[e.id];t?(t.uses++,t.lastUpdatedAt=Date.now()):n[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},d.tO.set(m,n)}function a(){var e=h();if(!(24<=Object.keys(e).length)){for(var n={},t=0;t<o.length;t++){var i=o[t];e[i.id]||(n[i.id]={emote:i,lastUpdatedAt:t,uses:0})}var a=(0,r.__assign)((0,r.__assign)({},n),e);d.tO.set(m,a)}}function s(){return(0,c.j8)(o)}function l(i,a,r,e){var o=h(),s=[],l=!1;return Object.keys(o).forEach(function(e){var n,t=o[e];void 0!==t&&void 0!==i[t.emote.token]&&((n=i[t.emote.token]).type!==u.eeY.FOLLOWER||n.setID&&r&&a[n.setID]===r)&&((n=i[t.emote.token].id)!==e&&(t.emote.id=n,o[n]=t,delete o[n],l=!0),s.push(t))}),l&&d.tO.set(m,o),s.sort(function(e,n){return e.uses>n.uses?-1:n.uses>e.uses?1:e.lastUpdatedAt>n.lastUpdatedAt?-1:n.lastUpdatedAt>e.lastUpdatedAt?1:0}),(0,c.j8)(s.slice(0,24).map(function(e){return e.emote}),e)}function p(){var n=h(),t={};return Object.keys(n).forEach(function(e){void 0!==n[e]&&(t[n[e].emote.token]={count:n[e].uses})}),t}function h(){var e=d.tO.get(m,{})||{};return e.undefined&&(delete e.undefined,d.tO.set(m,e)),e}},823955:function(e,n,t){"use strict";t.d(n,{j8:function(){return c},Pv:function(){return m},JK:function(){return p},$1:function(){return a},H3:function(){return h},Eg:function(){return g},Oe:function(){return f}});var r=t(570655),s=t(702631),l=t(592407),d=t(42626),i={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},o=["1.0","2.0","3.0"],u=new Set([457,33,42,0]);function c(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=s.Q.Light);for(var i=[],a=0,r=e;a<r.length;a++){var o=r[a];o&&null!==o.id&&null!==o.token&&i.push(p(o,n,t))}return i}function m(e){return i[e.token]||e.token}function p(t,e,n){void 0===n&&(n=s.Q.Light);var i=(e=void 0===e?!0:e)?"default":"static",a=n===s.Q.Light?"light":"dark",n=o.reduce(function(e,n){return(e&&e.concat(", ")).concat("https://static-cdn.jtvnw.net/emoticons/v2/"+t.id+"/"+i+"/"+a+"/"+n+" "+n+"x")},"");return(0,r.__assign)((0,r.__assign)({},t),{displayName:m(t),srcSet:n})}function a(e){for(var n=[],t=0,i=e;t<i.length;t++){var a=i[t];if(a&&a.id&&a.emotes){for(var r={id:a.id,emotes:[]},o=0,s=a.emotes;o<s.length;o++){var l=s[o];l&&l.id&&l.token&&r.emotes.push(l)}n.push(r)}}return n}function h(e,n){for(var t=[],i=[],a=0,r=e;a<r.length;a++){var o,s=r[a];s&&s.id&&s.emotes&&(o={id:s.id,emotes:c(s.emotes.filter(function(e){return!!e&&!!e.id&&!!e.token}).sort(function(e,n){return parseInt(n.id,10)-parseInt(e.id,10)}),n)},s.owner&&(o.owner=s.owner),(u.has(parseInt(s.id,10))?t:i).push(o))}return i.concat(t)}var g=function(e,n,t){var i=t||d.yi,a=[],r=[],o=[],s=new RegExp("^"+(0,l.h)(n),"i");return e.forEach(function(e){(i[e.token]?o:e.token.match(s)?a:r).push(e)}),a.sort(function(e,n){return e.token.localeCompare(n.token)}),r.sort(function(e,n){return e.token.localeCompare(n.token)}),o.sort(function(e,n){return i[n.token].count-i[e.token].count}),o.concat(a).concat(r)},f=function(e){var n={};return e.filter(function(e){return!n.hasOwnProperty(e.token)&&(n[e.token]=!0)})}},879072:function(e,n,t){"use strict";t.d(n,{S3:function(){return s}});var i,n=t(570655),a=t(667294),r=t(606382),o=t(70981),s=(i=a.Component,(0,n.__extends)(l,i),l.prototype.render=function(){var e=this.props,n=e.highContrastUsernameColor,t=e.sender,e=t.chatColor;n&&e&&(e="#"+(0,o.Fp)(e,this.props.theme));e=[a.createElement("span",{key:"username-display",className:"message-author__display-name","data-test-selector":"message-username",style:{color:e||void 0}},t.displayName)];t.displayName&&!(0,r._)(t.displayName)&&e.push(a.createElement("span",{key:"username-login",style:{color:t.chatColor||void 0},className:"message-author__intl-login","data-test-selector":"message-username-canonical"}," ("+t.login+")"));t=this.props.onUsernameClick?"message-author__username--clickable":"message-author__username";return a.createElement("span",{onClick:this.handleUsernameClick,className:t},e)},l);function l(){var n=null!==i&&i.apply(this,arguments)||this;return n.handleUsernameClick=function(e){n.props.onUsernameClick&&n.props.onUsernameClick(e)},n}},180592:function(e,n,t){"use strict";t.d(n,{v0:function(){return D},bq:function(){return E}});var i,a,r=t(570655),o=t(667294),s=t(14890),l=t(734995),d=t(687837),u=t(831642),c=t(283140),m=t(457087),p=t(233912),h=t(719689),g=t(190109),f=t(879072),v=t(615726),y=t(612172),k=t(663823),S=t(290568),C=t(174673),n=(a=o.Component,(0,r.__extends)(N,a),N.prototype.render=function(){var e;return this.props.message.sender&&this.props.message.sender.login?o.createElement(y.GG,{canDelete:!1,isMessageDeleted:!!this.props.message.deletedAt,onBanUser:this.banUser,onDelete:this.deleteMessage,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,renderNewVersion:!1,senderLogin:this.props.message.sender.login,isMessageBanned:!(null===(e=null===(e=this.props.userBanStatus)||void 0===e?void 0:e.data)||void 0===e||!e.chatRoomBanStatus)||!1}):null},N),b=(0,s.qC)((0,v.Q)(function(e){return(0,r.__assign)((0,r.__assign)({},e),{targetLogin:null!==(e=null===(e=null===(e=e.message)||void 0===e?void 0:e.sender)||void 0===e?void 0:e.login)&&void 0!==e?e:"",source:k.Ou.QuickModButtons})}),S.Aq,C.t)(n),w=t(763565),E="message-timestamp",t=(i=o.Component,(0,r.__extends)(_,i),_.prototype.shouldComponentUpdate=function(e,n){return e.showModerationIcons!==this.props.showModerationIcons||e.showTimestamps!==this.props.showTimestamps||n.shouldShowDeletedBody!==this.state.shouldShowDeletedBody||e.hasModPermissions!==this.props.hasModPermissions||e.message.deletedAt!==this.props.message.deletedAt||e.theme!==this.props.theme||e.highContrastUsernameColor!==this.props.highContrastUsernameColor||e.isEmoteAnimationsEnabled!==this.props.isEmoteAnimationsEnabled},_.prototype.render=function(){if(!this.props.message.sender||!this.props.message.id)return o.createElement(l.A,{padding:{x:2,y:.5}},(0,u.wv)("unable to properly render message","Message"));var e=this.props.message.sender.displayBadges,n={},t=": ";return this.props.message.content.text.startsWith(w.ZL)&&(n={color:this.props.message.sender.chatColor||void 0},t=" "),o.createElement(l.A,{padding:this.props.padding||{x:2,y:.5}},o.createElement("div",{id:this.props.message.id,className:"message",style:n},this.renderTimestamp(),this.renderModerationIcons(),o.createElement(c.k,{badgeSets:this.props.badgeSets,badgesToRender:e}),o.createElement(f.S3,{highContrastUsernameColor:this.props.highContrastUsernameColor,messageID:this.props.message.id,sender:this.props.message.sender,theme:this.props.theme,onUsernameClick:this.props.onUsernameClick}),o.createElement("span",{key:"separator"},t),this.renderMessageBody()))},_.prototype.renderMessageBody=function(){if(!this.props.message.deletedAt||this.state.shouldShowDeletedBody){var e={forceClipsNetworkRequest:!0,messageAuthorID:this.props.message.sender.id,messageSourceID:this.props.message.id,emoteSourceType:g.Vn.room};return(0,p.kz)((0,w.F2)(this.props.message,this.props.bitsConfig,this.props.currentUserLogin,this.props.isEmoteAnimationsEnabled),e)}e=(0,u.wv)("message deleted","Message"),e=this.props.hasModPermissions?o.createElement(d.s,{onClick:this.showDeleted,"data-test-selector":"show-deleted"},"<"+e+">"):"<"+e+">";return o.createElement("span",{key:"deleted",className:"message--deleted","data-test-selector":"deleted-message"},e)},_.prototype.renderTimestamp=function(){return this.props.showTimestamps?o.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":E},(0,p.i$)(new Date(this.props.message.sentAt),!0)):null},_.prototype.renderModerationIcons=function(){return this.props.showModerationIcons&&this.props.hasModPermissions&&this.props.channelID&&this.props.message.sender&&this.props.message.sender.id?o.createElement(b,{message:this.props.message,channelID:this.props.channelID,targetID:this.props.message.sender.id,surfaceError:this.props.surfaceError}):null},_);function _(){var n=null!==i&&i.apply(this,arguments)||this;return n.state={shouldShowDeletedBody:!1},n.showDeleted=function(e){e&&e.preventDefault(),n.setState({shouldShowDeletedBody:!0})},n}function N(){var e=null!==a&&a.apply(this,arguments)||this;return e.banUser=function(){return e.props.banUser()},e.timeoutUser=function(){return e.props.timeoutUser()},e.unbanUser=function(){return e.props.unbanUser()},e.deleteMessage=function(){},e}var D=(0,s.qC)((0,m.gc)(function(e){return{bitsConfig:e.bitsConfig}}),(0,h.Im)(function(e){return{isEmoteAnimationsEnabled:e.value}}))(t)},763565:function(e,n,t){"use strict";t.d(n,{ZL:function(){return b},F2:function(){return i},cv:function(){return a},K4:function(){return o},Qb:function(){return s},tv:function(){return l},VK:function(){return d}});var f=t(443753),v=t(491528),y=t(539073),r=t(646628),k=t(137147),S=t(289738),C=t(274178),b="/me ";function i(e,n,t,i){var a=e.content.text.startsWith(b);return o(e.content.fragments,a,t,n||(0,r.c4)(),e.sender&&e.sender.login||void 0,i)}function a(e,n){return o(e.content.fragments,!1,n)}function o(e,u,c,m,p,h){void 0===h&&(h=!0);var g=[];return e.forEach(function(e,n){if(null!==e){var t=e.content||{__typename:"Text"};switch(t.__typename){case"Emote":if(!t.emoteID)return;g.push({type:S.S.Emote,content:{alt:e.text,emoteID:t.emoteID,images:(0,C.u4)(t.emoteID,h)}});break;case"CheermoteToken":if(!m)return;var i=t.prefix,a=t.bitsAmount,r=t.tier,o=m.indexedActions[i],s=o&&o.tiers.find(function(e){return e.bits===r}),l=m.tiers.find(function(e){return e.bits===r});s?g.push({type:S.S.Emote,content:{alt:i,images:(0,y.q6)(o,r),cheerAmount:a,cheerColor:null==l?void 0:l.color}}):g.push((0,v.H)(e.text));break;case"User":var d=k.K.Default;c&&t.login===c?d=k.K.Recipient:c&&p&&p===c&&(d=k.K.Sender),g.push({type:S.S.Mention,content:{recipient:e.text.slice(1),currentUserMentionRelation:d}});break;case"AutoMod":g.push({type:S.S.ModeratedText,content:e.text});break;default:d=(0,f.n)(e.text,{parseClips:!0,parseVods:!0});d?g=g.concat(d):(d=e.text,u&&0===n&&d.startsWith(b)&&(d=d.substr(3)),g.push((0,v.H)(d)))}}}),g}function s(e){return e.map(function(e){var n={text:e.text,content:null,__typename:"RoomMessageFragment"},t=e.cheermote,i=e.emoticon,a=e.mention,e=e.text;return t?n.content={bitsAmount:t.bits_amount,prefix:t.prefix,tier:t.tier,__typename:"CheermoteToken"}:i?n.content={emoteID:i.id,setID:i.set_id,token:e,__typename:"Emote"}:a&&(n.content={id:a.user_id,login:a.login,displayName:a.display_name,__typename:"User"}),n})}function l(e){return e.map(function(e){return{setID:e.id,version:e.version,__typename:"Badge"}})}var d=function(e){return e.map(function(e){var n;return e.emoticon?{__typename:"MessageFragment",text:e.text,content:{__typename:"Emote",emoteID:e.emoticon.emoticonID,setID:e.emoticon.emoticonSetID,token:null}}:null!==(n=e.automod)&&void 0!==n&&n.topics?{__typename:"MessageFragment",text:e.text,content:{__typename:"AutoMod",topics:Object.entries(e.automod.topics).map(function(e){return{__typename:"AutoModTopic",type:e[0],weight:e[1]}})}}:{__typename:"MessageFragment",text:e.text,content:null}})}},268273:function(e,n,t){"use strict";t.d(n,{H:function(){return i}});var l=t(667294),d=t(137703),u=t(776380),c=t(126858),m=t(508995),p=t(797425),i=function(e){var n=e.channelID,t=e.onReceiveMessage,i=e.onReceiveOffenderMessage,e=null===(e=(0,d.v9)(p.PR))||void 0===e?void 0:e.id,a=(0,c.P)((0,m.AS)(e||"",n),{skip:!e||!n})[0],r=(0,u.D)(a),o=(0,c.P)((0,m.tU)(e||"",n),{skip:!e||!n})[0],s=(0,u.D)(o);return l.useEffect(function(){a&&a!==r&&t(a),o&&o!==s&&i&&i(o)},[a,t,i,r,s,o]),null}},448752:function(e,n,t){"use strict";t.d(n,{G:function(){return s}});var i=t(667294),a=t(106801),r=t(606382),o=t(754245),s=function(e){var n=(0,a.aM)(o,{variables:{login:e}}).data,t=null!==(n=null===(n=null==n?void 0:n.user)||void 0===n?void 0:n.displayName)&&void 0!==n?n:null;return(0,i.useMemo)(function(){return(0,r.I)(e,t,!0)},[e,t])}},290568:function(e,n,t){"use strict";t.d(n,{KZ:function(){return i},Aq:function(){return a}});var f=t(570655),s=t(667294),v=t(831642),l=t(106801),y=t(344689),k=t(77966),S=t(663823),C=t(333330),b=t(375140),w=t(679864),E=t(300445),_=t(593517),N=t(944294),D=t(506017),i=function(e){function d(e,n){a&&p&&(0,D.j)({actionType:e,channelID:p,targetUserID:a,source:o,duration:n&&"["+n+"]n",page:i})}function u(e){v.$6.apollo.client.writeQuery({query:w,variables:{channelID:p,targetUserID:a},data:null!=e&&e.banUserFromChatRoom?{chatRoomBanStatus:e.banUserFromChatRoom.ban,targetUser:{__typename:"User",id:a,login:m}}:{chatRoomBanStatus:null,targetUser:{__typename:"User",id:a,login:m}}})}function t(s,l){return void 0===s&&(s=""),void 0===l&&(l=""),(0,f.__awaiter)(void 0,void 0,Promise,function(){var n,t,i,a,r,o;return(0,f.__generator)(this,function(e){switch(e.label){case 0:if(n=l?(0,v.wv)("Unable to timeout user.","ViewerCardModActions"):(0,v.wv)("Unable to ban user.","ViewerCardModActions"),h&&!h())return null==g||g(n),[2,Promise.reject(n)];t=null,"number"==typeof l?t=(0,E.Wo)(l):"string"==typeof l&&(t=l),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c((0,y.k_)({channelID:p,bannedUserLogin:m,expiresIn:t,reason:s}))];case 2:return a=e.sent(),(r=null===(o=null===(r=a.data)||void 0===r?void 0:r.banUserFromChatRoom)||void 0===o?void 0:o.error)?(o=r.minTimeoutDurationSeconds,i=r.maxTimeoutDurationSeconds,null==g||g((0,_.J)({login:m,code:r.code,isTimeout:!!l,minTimeoutDuration:o||void 0,maxTimeoutDuration:i||void 0}))):a.data&&(i=l?S.Dy.TimeoutUser:S.Dy.BanUser,u(a.data),d(i,l&&l.toString()||void 0)),[2,a];case 3:throw a=e.sent(),null==g||g(n),a;case 4:return[2]}})})}function n(a){return(0,f.__awaiter)(void 0,void 0,void 0,function(){var n,t,i;return(0,f.__generator)(this,function(e){switch(e.label){case 0:if(n=a?(0,v.wv)("Unable to untimeout user.","ViewerCardModActions"):(0,v.wv)("Unable to unban user.","ViewerCardModActions"),h&&!h())return null==g||g(n),[2,Promise.reject(n)];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r((0,y.k_)({channelID:p,bannedUserLogin:m}))];case 2:return t=e.sent(),(i=null===(i=null===(i=t.data)||void 0===i?void 0:i.unbanUserFromChatRoom)||void 0===i?void 0:i.error)?null==g||g((0,N.e)(m,i.code)):t.data&&(i=a?S.Dy.UntimeoutUser:S.Dy.UnbanUser,u(null),d(i)),[2,t];case 3:throw t=e.sent(),null==g||g(n),t;case 4:return[2]}})})}var i=s.useContext(k.aO).page,c=(0,l.Db)(C)[0],r=(0,l.Db)(b)[0],a=e.targetID,m=e.targetLogin,p=e.channelID,o=e.source,h=e.confirmModerationAction,g=e.surfaceError;return{banUser:function(e){return t(e)},unbanUser:function(){return n()},timeoutUser:function(e,n){return t(n=void 0===n?"":n,e=void 0===e?600:e)},untimeoutUser:function(){return n(!0)}}};function a(t){return function(e){var n=i((0,f.__assign)({},e));return s.createElement(t,(0,f.__assign)({},e,n))}}},174673:function(e,n,t){"use strict";t.d(n,{U:function(){return i},t:function(){return a}});var m=t(570655),o=t(667294),s=t(137703),l=t(126858),d=t(106801),p=t(906704),u=t(508995),c=t(797425),h=t(679864),g=t(344689),i=function(e){var n=null===(a=(0,s.v9)(c.PR))||void 0===a?void 0:a.id,t=e.channelID,i=e.targetID,a=(0,d.aM)(h,{variables:{channelID:t,targetUserID:i}}),r=(0,l.P)((0,u.OV)(n||"",e.channelID),{skip:!n||!t||e.skipPubsub,skipMessage:function(e){return e.type!==p.qU.ModerationAction||e.data.target_user_id!==i||!(e.data.moderation_action===p.e0.Ban||e.data.moderation_action===p.e0.Unban||e.data.moderation_action===p.e0.Timeout||e.data.moderation_action===p.e0.Untimeout)}})[0];return o.useEffect(function(){r&&function(e,n){if(e.type===p.qU.ModerationAction)switch(e.data.moderation_action){case p.e0.Unban:case p.e0.Untimeout:return(0,g.rh)(h,{targetUserID:e.data.target_user_id,channelID:n},function(e){return(0,m.__assign)((0,m.__assign)({},e),{chatRoomBanStatus:null})});case p.e0.Ban:return s=e,l=n,u=new Date(Date.now()).toISOString(),c=null!==(d=null===(d=s.data.args)||void 0===d?void 0:d[1])&&void 0!==d?d:"",(0,g.rh)(h,{targetUserID:s.data.target_user_id,channelID:l},function(e){return(0,m.__assign)((0,m.__assign)({},e),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:s.data.target_user_id,login:s.data.target_user_login,displayName:s.data.target_user_login},createdAt:u,expiresAt:null,isPermanent:!0,reason:c,moderator:{__typename:"User",id:s.data.created_by_user_id,login:s.data.created_by,displayName:s.data.created_by}}})});case p.e0.Timeout:t=e,i=n,d=Number(t.data.args[1]),a=null!==(l=t.data.args[2])&&void 0!==l?l:"",r=new Date(Date.now()).toISOString(),o=isNaN(d)?null:new Date(Date.now()+1e3*d).toISOString(),(0,g.rh)(h,{targetUserID:t.data.target_user_id,channelID:i},function(e){return(0,m.__assign)((0,m.__assign)({},e),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:t.data.target_user_id,login:t.data.target_user_login,displayName:t.data.target_user_login},createdAt:r,expiresAt:o,isPermanent:!1,reason:a,moderator:{__typename:"User",id:t.data.created_by_user_id,login:t.data.created_by,displayName:t.data.created_by}}})})}var t,i,a,r,o,s,l,d,u,c}(r,t)},[t,r]),a};function a(t){return function(e){var n=i((0,m.__assign)({},e));return o.createElement(t,(0,m.__assign)({},e,{userBanStatus:n}))}}},751978:function(e,n,t){"use strict";t.d(n,{c:function(){return a},l:function(){return r}});var i=t(31180),a=function(e){return(0,i.e)(r(e))},r=function(e){return"/moderator/"+e}},287952:function(e,n,t){"use strict";t.d(n,{v:function(){return m}});var i,n=t(570655),a=t(667294),r=t(734995),o=t(270406),s=t(353488),l=t(382448),d=t(58661),u=t(440837),c=t(831642),m=(i=a.Component,(0,n.__extends)(p,i),p.prototype.render=function(){return a.createElement(r.A,{padding:1,display:o.sS.Flex,flexDirection:o.Qb.Row,className:"poll-service-error__service-error",justifyContent:o.uM.Between,alignItems:o.g1.Center,position:o.Ly.Relative},a.createElement(r.A,{display:o.sS.Flex,flexDirection:o.Qb.Row},a.createElement(r.A,{className:"poll-service-error__service-error__icon"},a.createElement(s.JO,{asset:l.e.Halt})),a.createElement(r.A,{margin:{left:1},display:o.sS.Flex,flexDirection:o.Qb.Column},a.createElement(d.V,null,this.props.message),this.props.showTryAgain&&a.createElement(d.V,{color:o.Il.Alt2,fontSize:o.Bf.Size6},(0,c.wv)("Try again in a moment.","Polls--PollServiceError")))),a.createElement(r.A,{position:o.Ly.Absolute,attachTop:!0,attachRight:!0,className:"poll-service-error__service-error__close"},a.createElement(u.Ei,{size:u.hp.Small,type:u.c.Secondary,onClick:this.props.onClose,"aria-label":(0,c.wv)("Close","Polls--PollServiceError"),icon:l.e.Close})))},p);function p(){return null!==i&&i.apply(this,arguments)||this}},622211:function(e,n,t){"use strict";t.d(n,{_j:function(){return S},C6:function(){return C}});var i,u=t(570655),c=t(129989),r=t(667294),a=t(14890),o=t(987145),s=t(867284),l=t(906704),m=t(344689),d=t(508995),p=t(884979),h=t(948309),g=t(595339),n=t(302974),f=t(498048),v=t(279971),y=t(680035),t=t(422883),p=(0,p.k)("ChannelPollContext",{viewablePoll:null,selfVoter:null,isUserPollAdmin:!1,bitsBalance:0,topBitsContributor:null,topCommunityPointsContributor:null}),k=p.context,S=p.withContext,p=(i=r.Component,(0,u.__extends)(b,i),b.prototype.render=function(){var e=null,n=null;this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(e=this.props.data.channel.viewablePoll,this.props.data.channel.viewablePoll.self&&(n=this.props.data.channel.viewablePoll.self.voter));var t=!(!this.props.user||this.props.user.login!==this.props.channelLogin),i=!!(this.props.user&&this.props.user.roles&&this.props.user.roles.isStaff),a=!1,e={viewablePoll:e,selfVoter:n,isUserPollAdmin:a=this.props.data&&this.props.data.channel&&this.props.data.channel.self?this.props.data.channel.self.isEditor||this.props.data.channel.self.isModerator||i||t:a,bitsBalance:this.getBitsAmount(),topBitsContributor:e&&e.topBitsContributor,topCommunityPointsContributor:e&&e.topCommunityPointsContributor};return this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&!(0,f.EB)(this.props.data.channel.viewablePoll.status)&&(e.terminatePoll=this.terminatePoll,e.voteInPoll=this.voteInPoll),this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(e.archivePoll=this.archivePoll),(this.props.data&&this.props.data.channel&&!this.props.data.channel.viewablePoll||this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(0,f.EB)(this.props.data.channel.viewablePoll.status))&&(e.createPoll=this.createPoll),r.createElement(k.Provider,{value:e},this.props.children)},b),C=(0,a.qC)((0,o.TA)(y,{skip:function(e){return!e.channelLogin||!e.isPollsEnabled},options:function(e){return{variables:{login:null!==(e=e.channelLogin)&&void 0!==e?e:""}}}}),(0,o.TA)(t,{name:"voteInPoll"}),(0,o.TA)(g,{name:"archivePoll"}),(0,o.TA)(n,{name:"terminatePoll"}),(0,s.P)(function(r){return{query:y,variables:{login:r.channelLogin},skip:!(r.data&&r.data.channel&&r.channelLogin&&r.isPollsEnabled),topic:r.data&&r.data.channel?(0,d.TE)(r.data.channel.id):"",types:[l.qU.PollUpdateEvent,l.qU.PollArchivedEvent,l.qU.PollCompletedEvent,l.qU.PollCreatedEvent,l.qU.PollTerminatedEvent,l.qU.PollModeratedEvent],mutator:function(e,n){var t=(0,f.$Z)(e.data.poll),i=(0,f.Rd)(t.status),a=n.channel&&n.channel.viewablePoll&&n.channel.viewablePoll.id===e.data.poll.poll_id;if(!i)return a?c(n,function(e){return e.channel},function(e){return e.viewablePoll=null,e}):n;a=e.type===l.qU.PollCreatedEvent,e=n.channel&&n.channel.viewablePoll&&n.channel.viewablePoll.id===e.data.poll.poll_id&&n.channel.viewablePoll.votes.total<=t.votes.total;return(a||e)&&(n=c(n,function(e){return e.channel},function(e){return e.viewablePoll=(0,u.__assign)((0,u.__assign)({},e.viewablePoll),t),e})),n=a?r.user?c(n,function(e){return e.channel.viewablePoll.self},function(e){return(0,u.__assign)((0,u.__assign)({__typename:"PollSelfEdge"},e),{voter:null})}):c(n,function(e){return e.channel.viewablePoll.self},function(){return null}):n}}}),(0,s.P)(function(e){return{query:y,variables:{login:e.channelLogin},type:l.qU.UserBitsBalanceUpdate,skip:!(e.data&&e.data.channel&&e.data.currentUser&&e.data.currentUser.id&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.currentUser?(0,d.er)(e.data.currentUser.id):"",mutator:function(e,n){return n=n&&e.message_type===h.c.Balance&&n.currentUser&&e.data?c(n,function(e){return e.currentUser.bitsBalance},function(){return e.data.balance}):n}}}))(p);function b(){var n=null!==i&&i.apply(this,arguments)||this;return n.voteInPoll=function(d){return(0,u.__awaiter)(n,void 0,Promise,function(){var o,s,l,i,n;return(0,u.__generator)(this,function(e){switch(e.label){case 0:if(!(this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&this.props.data.channel.viewablePoll.ownedBy))return[2,Promise.resolve({data:{voteInPoll:null}})];o=this.props.data.channel.viewablePoll,s=d.variables.input.tokens?d.variables.input.tokens.bits:0,l=0<s,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.voteInPoll(d)];case 2:return(i=e.sent()).data.voteInPoll&&!i.data.voteInPoll.error&&(0,m.rh)(y,{login:this.props.channelLogin},function(e){var r,n,t=(0,u.__assign)({},e);return e.channel&&e.channel.viewablePoll&&e.channel.viewablePoll.self&&(r=e.channel.viewablePoll.self.voter,t=c(t,function(e){return e.channel.viewablePoll},function(e){var n=e.totalVoters,t={},i={};return r||(n=Math.max(e.totalVoters,o.totalVoters+1)),t.total=Math.max(e.votes.total,o.votes.total+1),l?(t.bits=Math.max(e.votes.bits,o.votes.bits+1),i.bits=Math.max(e.tokens.bits,o.tokens.bits+s)):t.base=Math.max(e.votes.bits,o.votes.bits+1),(0,u.__assign)((0,u.__assign)({},e),{totalVoters:n,votes:(0,u.__assign)((0,u.__assign)({},e.votes),t),tokens:(0,u.__assign)((0,u.__assign)({},e.tokens),i)})}),t=c(t,function(e){return e.channel.viewablePoll.choices},function(e){return e.map(function(n){var e,t=n.totalVoters,i={},a={};return n.id===d.variables.input.choiceID&&(e=o.choices.find(function(e){return e.id===n.id})||n,r||t++,i.total=Math.max(n.votes.total,e.votes.total+1),l?(i.bits=Math.max(n.votes.bits,e.votes.bits+1),a.bits=Math.max(n.tokens.bits,e.tokens.bits+s)):i.base=Math.max(n.votes.bits,e.votes.bits+1)),(0,u.__assign)((0,u.__assign)({},n),{totalVoters:t,votes:(0,u.__assign)((0,u.__assign)({},n.votes),i),tokens:(0,u.__assign)((0,u.__assign)({},n.tokens),a)})})}),(t=i.data.voteInPoll&&i.data.voteInPoll.voter?c(t,function(e){return e.channel.viewablePoll.self.voter},function(){return i.data.voteInPoll.voter}):t).currentUser&&t.currentUser.bitsBalance&&(n=t.currentUser.bitsBalance-s,t=c(t,function(e){return e.currentUser.bitsBalance},function(){return n}))),t}),[2,Promise.resolve(i)];case 3:return n=e.sent(),[2,Promise.reject(n)];case 4:return[2]}})})},n.createPoll=function(){n.props.showModal(v.b,{channelID:n.props.data.channel.id,channelLogin:n.props.channelLogin})},n.terminatePoll=function(){return(0,u.__awaiter)(n,void 0,void 0,function(){var n;return(0,u.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.props.terminatePoll((0,m.k_)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return n=e.sent(),[2,Promise.resolve(n)];case 2:return n=e.sent(),[2,Promise.reject(n)];case 3:return[2]}})})},n.archivePoll=function(){return(0,u.__awaiter)(n,void 0,void 0,function(){var n;return(0,u.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.props.archivePoll((0,m.k_)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return n=e.sent(),[2,Promise.resolve(n)];case 2:return n=e.sent(),[2,Promise.reject(n)];case 3:return[2]}})})},n.getBitsAmount=function(){var e=n.props.data;return e&&e.currentUser&&e.currentUser.bitsBalance?e.currentUser.bitsBalance:0},n}},95095:function(e,n,t){"use strict";t.d(n,{s:function(){return i}});var i="poliwag_rollout"},498048:function(e,n,t){"use strict";t.d(n,{A9:function(){return o},cv:function(){return s},vW:function(){return l},Rd:function(){return d},EB:function(){return u},$Z:function(){return c},oe:function(){return p},lI:function(){return h},kf:function(){return f},YL:function(){return v}});var i=t(128416),a=t(831642),r=t(31180);function o(e){return e.sort(function(e,n){return e.votes.total>n.votes.total?-1:e.votes.total<n.votes.total?1:0})}function s(e){return(0,r.e)("/popout/"+e+"/poll")}function l(e){return document.location.origin+"/popout/"+e+"/poll"}function d(e){return e===i.GZu.ACTIVE||e===i.GZu.COMPLETED||e===i.GZu.TERMINATED}function u(e){return e===i.GZu.COMPLETED||e===i.GZu.TERMINATED||e===i.GZu.ARCHIVED||e===i.GZu.MODERATED}function c(e){var n=null;e.top_bits_contributor&&(n={__typename:"PollTopBitsContributor",bitsAmount:(i=e.top_bits_contributor).bits_contributed,user:{__typename:"User",id:i.user_id,displayName:i.display_name}});var t,i=null;return e.top_channel_points_contributor&&(i={__typename:"PollTopCommunityPointsContributor",communityPointsAmount:(t=e.top_channel_points_contributor).channel_points_contributed,user:{__typename:"User",id:t.user_id,displayName:t.display_name}}),{__typename:"Poll",id:e.poll_id,choices:void 0===(t=e.choices)?[]:t.map(function(e){return{__typename:"PollChoice",id:e.choice_id,title:e.title,tokens:{__typename:"PollTokenBreakdown",bits:void 0!==e.tokens.bits?e.tokens.bits:0,communityPoints:void 0!==e.tokens.channel_points?e.tokens.channel_points:0,id:e.choice_id},totalVoters:void 0!==e.total_voters?e.total_voters:0,votes:{__typename:"PollVoteBreakdown",total:void 0!==e.votes.total?e.votes.total:0,base:void 0!==e.votes.base?e.votes.base:0,communityPoints:void 0!==e.votes.channel_points?e.votes.channel_points:0,bits:void 0!==e.votes.bits?e.votes.bits:0,id:e.choice_id}}}),durationSeconds:e.duration_seconds,remainingDurationMilliseconds:e.remaining_duration_milliseconds,ownedBy:{__typename:"User",id:e.owned_by},createdBy:{__typename:"User",id:e.created_by},startedAt:e.started_at,endedAt:e.ended_at,status:e.status,title:e.title,tokens:{__typename:"PollTokenBreakdown",id:e.poll_id,bits:e.tokens.bits,communityPoints:e.tokens.channel_points},votes:{__typename:"PollVoteBreakdown",id:e.poll_id,total:e.votes.total,base:e.votes.base,bits:e.votes.bits,communityPoints:e.votes.channel_points},totalVoters:e.total_voters,settings:{__typename:"PollSettings",id:e.poll_id,multichoice:{__typename:"PollSettingsMultichoice",isEnabled:e.settings.multi_choice.is_enabled},bitsVotes:{__typename:"PollSettingsBitsVotes",isEnabled:e.settings.bits_votes.is_enabled,cost:e.settings.bits_votes.cost},communityPointsVotes:{__typename:"PollSettingsCommunityPointsVotes",isEnabled:e.settings.channel_points_votes.is_enabled,cost:e.settings.channel_points_votes.cost}},topBitsContributor:n,topCommunityPointsContributor:i}}function m(e,n,t){return"pollsVoteAgainDialog__"+t+"_"+e+"_"+(n||"anonymous")}function p(e,n,t){return a.tO.get(m(e,n,t),!0)}function h(e,n,t,i){return a.tO.set(m(e,n,t),i)}function g(e,n){return"isPollDismissed_"+e+"_"+(n||"anonymous")}function f(e,n){return a.tO.get(g(e,n),!1)}function v(e,n,t){a.tO.set(g(e,n),t)}},702738:function(e,n,t){"use strict";t.d(n,{hN:function(){return r},jJ:function(){return o},ny:function(){return i},qk:function(){return a},F0:function(){return s},lS:function(){return l}});var i,r=2e3,o=3e3;function a(){return"https://help.twitch.tv/s/article/subscriber-badge-guide#badgeflair"}function s(e,n){var t=new Map;if(0===e.length)return t;var i=0;n?(i=parseInt(n.version,10),t=t.set(1,n)):(a=e.find(function(e){return parseInt(e.version,10)===i}))&&(t=t.set(1,a));var a=e.find(function(e){return parseInt(e.version,10)===i+r});a&&(t=t.set(2,a));e=e.find(function(e){return parseInt(e.version,10)===i+o});return t=e?t.set(3,e):t}function l(e){var n=parseInt(e,10);if(isNaN(n))return i.NONE;e=n%1e3;switch(n){case e:return i.NONE;case e+r:return i.TIER_2;case e+o:return i.TIER_3;default:return i.NONE}}(n=i=i||{}).NONE="NONE",n.TIER_2="TIER_2",n.TIER_3="TIER_3"},965343:function(e,n,t){"use strict";t.d(n,{K:function(){return r},B:function(){return o}});var i=t(951255),a=t(1208);function r(e){return[a.G.Prime,a.G.Custom].includes(e)?null:parseInt(e,10)/1e3}function o(e){e=e instanceof Date?e:new Date(e);return Math.round((e.getTime()-Date.now())/i.mf)}},155682:function(e,n,t){"use strict";t.d(n,{do:function(){return J},G3:function(){return Q},$j:function(){return a},PS:function(){return i}});function F(e){var n=e.channelID,t=e.onReceiveNewRequest,i=e.onReceiveUpdate,e=null===(e=(0,o.v9)(u.PR))||void 0===e?void 0:e.id,a=(0,s.P)((0,d.vN)(e||"",n),{skip:!e||!n,skipMessage:function(e){return e.type!==l.qU.UnbanRequestCreated&&e.type!==l.qU.UnbanRequestUpdated}})[0],r=(0,q.D)(a);return O.useEffect(function(){if(a&&a!==r)switch(a.type){case l.qU.UnbanRequestCreated:var e=a.data,e={__typename:"UnbanRequest",id:e.id,createdAt:e.created_at,requesterMessage:e.requester_message||null,status:H.vyV.PENDING,requester:{__typename:"User",id:e.requester_id,login:e.requester_login||"",displayName:e.requester_login||"",profileImageURL:e.requester_profile_image||null},resolvedAt:null,resolvedBy:null,resolverMessage:null};return t(e);case l.qU.UnbanRequestUpdated:return i(a);default:return}},[t,a,r,i,n]),null}var U=t(570655),x=t(129989),O=t(667294),B=t(261882),V=t(106801),q=t(326737),G=t(344689),H=t(128416),n=t(884979),W=t(831642),z=t(197043),$=t(306269),j=t(611605),o=t(137703),s=t(126858),l=t(906704),d=t(508995),u=t(797425),Y=t(398421),t={requests:[],totalRequestsCount:0,currentUnbanRequest:null,setCurrentUnbanRequest:function(){return null},unreadRequestsCount:0,loading:!1,hasNextPage:!1,errorLoadingRequest:!1,setLastOpenedAt:function(){return null},openUserUnbanRequest:function(){return null},loadMoreRequests:function(){return Promise.resolve()},sortOrder:H.e2t.NEWEST,setSortOrder:function(){return null},selectNextRequest:function(){return null},newRequests:0,showNewRequests:function(){return Promise.resolve()},removeRequests:function(){return null},isEnabled:!0,cooldownMinutes:0},t=(0,n.k)("UnbanRequestsListContext",t),Q=t.context,i=t.withContext,J=25,a=function(t){var e=(0,j.Y)(),n=(0,B.y)("mod-view-unban-requests-last-opened-at"),i=n[0],a=n[1],r=O.useState(H.e2t.NEWEST),s=r[0],o=r[1],l=(0,q.D)(s),d=O.useState(!1),u=d[0],c=d[1],m=(0,V.aM)(Y,{skip:!e||!t.isCurrentUserModerator,variables:{channelLogin:t.channelLogin,limit:J,order:s},fetchPolicy:"cache-and-network"}),p=m.data,h=m.loading,g=m.variables,f=m.fetchMore,v=m.refetch,y=!(null===(r=null===(n=null===(k=null==p?void 0:p.channel)||void 0===k?void 0:k.unbanRequests)||void 0===n?void 0:n.pageInfo)||void 0===r||!r.hasNextPage),n=null===(k=null===(m=null===(d=null==p?void 0:p.channel)||void 0===d?void 0:d.unbanRequestsSettings)||void 0===m?void 0:m.isEnabled)||void 0===k||k,k=null!==(m=null===(d=null===(r=null==p?void 0:p.channel)||void 0===r?void 0:r.unbanRequestsSettings)||void 0===d?void 0:d.cooldownMinutes)&&void 0!==m?m:0,r=O.useState(null),d=r[0],S=r[1],d={request:r=W.$6.apollo.client.readFragment({fragment:z,id:"UnbanRequest:"+(m=d)}),error:!(r||!m)},C=d.request,r=d.error,b=O.useMemo(function(){var e,n=[];return null!==(e=null===(e=null==p?void 0:p.channel)||void 0===e?void 0:e.unbanRequests)&&void 0!==e&&e.edges&&p.channel.unbanRequests.edges.forEach(function(e){e=e.node;null==e||!e.requester||e.status!==H.vyV.PENDING&&e.id!==(null==C?void 0:C.id)||(e=(0,U.__assign)({},e),n.push(e))}),n},[C,p]),m=y&&null!==(M=null===(D=null===(N=null==p?void 0:p.channel)||void 0===N?void 0:N.unbanRequests)||void 0===D?void 0:D.totalCount)&&void 0!==M?M:b.length,w=O.useCallback(function(e){if(void 0===e&&(e=J),null!==(n=null===(n=null===(n=null==p?void 0:p.channel)||void 0===n?void 0:n.unbanRequests)||void 0===n?void 0:n.pageInfo)&&void 0!==n&&n.hasNextPage){c(!0);var n=p.channel.unbanRequests.edges,n=(null===(n=null==n?void 0:n[(null==n?void 0:n.length)-1])||void 0===n?void 0:n.cursor)||"";return f({variables:{channelLogin:t.channelLogin,limit:e,cursor:n},updateQuery:function(n,e){var t=e.fetchMoreResult;return c(!1),null!==(e=null==t?void 0:t.channel)&&void 0!==e&&e.unbanRequests?x(t,function(e){return e.channel.unbanRequests},function(){var e;return(0,U.__assign)((0,U.__assign)({},t.channel.unbanRequests),{edges:(0,G.x4)((null===(e=null===(e=null==n?void 0:n.channel)||void 0===e?void 0:e.unbanRequests)||void 0===e?void 0:e.edges)||[],(null===(e=null===(e=null==t?void 0:t.channel)||void 0===e?void 0:e.unbanRequests)||void 0===e?void 0:e.edges)||[])})}):n}})}return Promise.resolve()},[p,f,t.channelLogin]),d=O.useState([]),E=d[0],_=d[1],N=O.useMemo(function(){if(!i)return b.length+E.length;var n=new Date(i);return b.filter(function(e){return new Date(e.createdAt)>n}).length+E.length},[i,E.length,b]),D=O.useCallback(function(){var e=C?b.findIndex(function(e){return e.id===C.id}):-1;b.length&&(-1===e?S(b[0].id):1===b.length?S(null):e===b.length-1?S(b[b.length-2].id):S(b[e+1].id))},[C,b]),M=O.useState(null),I=M[0],T=M[1],d=(0,V.td)($,{onError:function(){T(null),A(!0)}}),P=d[0],R=d[1];O.useEffect(function(){var e,n=null===(e=null===(n=null===(e=null===(n=null===(e=null==R?void 0:R.data)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===e?void 0:e.edges)||void 0===n?void 0:n[0])||void 0===e?void 0:e.node;I&&(null===(e=null==n?void 0:n.requester)||void 0===e?void 0:e.id)===I&&(T(null),S(n.id))},[p,I,R]);var M=O.useState(!1),d=M[0],A=M[1];O.useEffect(function(){C&&A(!1)},[C]),O.useEffect(function(){l&&l!==s&&(_([]),v())},[l,v,_,s]);var L=O.useCallback(function(){return(0,U.__awaiter)(void 0,void 0,void 0,function(){return(0,U.__generator)(this,function(e){return s===H.e2t.OLDEST&&y||(r=E,o=g,(0,G.rh)(Y,o,function(e){if(null!=e&&e.channel){var n=(0,U.__spreadArrays)(null!==(t=null===(n=null===(t=e.channel)||void 0===t?void 0:t.unbanRequests)||void 0===n?void 0:n.edges)&&void 0!==t?t:[]),t=r.map(function(e){return{__typename:"UnbanRequestEdge",cursor:"",node:e}}),i=o.order===H.e2t.OLDEST?(0,G.x4)(n,t.reverse()):(0,G.x4)(t,n),t=r.filter(function(e){return e.status===H.vyV.PENDING}).length,a=null!==(n=e.channel.unbanRequests)&&void 0!==n&&n.totalCount?e.channel.unbanRequests.totalCount+t:i.length;return e.channel.unbanRequests?x(e,function(e){return e.channel.unbanRequests},function(e){return(0,U.__assign)((0,U.__assign)({},e),{edges:i,totalCount:a})}):(0,U.__assign)((0,U.__assign)({},e),{unbanRequests:{__typename:"UnbanRequestConnection",edges:i,pageInfo:{__typename:"PageInfo",hasNextPage:!1},totalCount:a}})}return e})),_([]),[2,Promise.resolve()];var r,o})})},[y,E,s,g]);O.useEffect(function(){E.length&&!b.length&&L().then(function(){_([])})},[E.length,b.length,L]),O.useEffect(function(){!b.length&&y&&w()},[y,w,b.length]);u=!e||h||u||R.loading;return O.createElement(Q.Provider,{value:{requests:b,totalRequestsCount:m,hasNextPage:y,loading:u,errorLoadingRequest:d||r,loadMoreRequests:w,unreadRequestsCount:N,setLastOpenedAt:a,currentUnbanRequest:C,setCurrentUnbanRequest:S,openUserUnbanRequest:function(n){var e=b.find(function(e){return(null===(e=e.requester)||void 0===e?void 0:e.id)===n});e?S(e.id):t.channelID&&(T(n),P({variables:{channelID:t.channelID,userID:n}}))},sortOrder:s,setSortOrder:o,selectNextRequest:D,newRequests:E.length,showNewRequests:L,removeRequests:function(e){var o;o=e,(0,G.rh)(Y,g,function(e){var n;if(null!==(n=null===(a=null==e?void 0:e.channel)||void 0===a?void 0:a.unbanRequests)&&void 0!==n&&n.edges){var t=e.channel.unbanRequests.edges,i=t.filter(function(e){return e.node&&!o.includes(e.node.id)}),a=t.length-i.length,r=(null!==(n=e.channel.unbanRequests.totalCount)&&void 0!==n?n:t.length)-a;return x(e,function(e){return e.channel.unbanRequests},function(e){return(0,U.__assign)((0,U.__assign)({},e),{edges:i,totalCount:r})})}return e})},isEnabled:n,cooldownMinutes:k}},t.channelID&&O.createElement(F,{channelID:t.channelID,onReceiveNewRequest:function(n){_(function(e){return(0,U.__spreadArrays)([n],e)})},onReceiveUpdate:function(e){var n,t,i=e.data.id;E.find(function(e){return e.id===i})&&_(function(e){return e.filter(function(e){return e.id!==i})}),n=g,t=e.data,(0,G.ZP)({fragment:z,fragmentName:"unbanRequestFragment",id:"UnbanRequest:"+t.id,mutator:function(e){return(0,U.__assign)((0,U.__assign)({},e),{status:t.status,resolvedBy:t.resolver_id&&t.resolver_login?{__typename:"User",id:t.resolver_id,login:t.resolver_login,displayName:t.resolver_login}:null,resolvedAt:(new Date).toString(),resolverMessage:null!==(e=t.resolver_message)&&void 0!==e?e:null})}}),t.status!==H.vyV.PENDING&&(0,G.rh)(Y,n,function(e){var n;return null!==(n=null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)&&void 0!==n&&n.edges&&e.channel.unbanRequests.edges.find(function(e){return(null===(e=null==e?void 0:e.node)||void 0===e?void 0:e.id)===t.id})?x(e,function(e){return e.channel.unbanRequests.totalCount},function(e){return e&&e-1}):e})}}),t.children)}},498949:function(e,n,t){"use strict";t.d(n,{SF:function(){return a},ED:function(){return r},RR:function(){return o},Wh:function(){return s}});var i=t(831642),a=525600,r={minutes:{value:"minutes",getLabel:function(){return(0,i.wv)("Minutes","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{minutes, plural, one {# minute} other {# minutes}}",{minutes:e},"UnbanRequestsCooldown")},threshold:1},hours:{value:"hours",getLabel:function(){return(0,i.wv)("Hours","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{hours, plural, one {# hour} other {# hours}}",{hours:Math.round(e/60)},"UnbanRequestsCooldown")},threshold:60},days:{value:"days",getLabel:function(){return(0,i.wv)("Days","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{days, plural, one {# day} other {# days}}",{days:Math.round(e/1440)},"UnbanRequestsCooldown")},threshold:1440},months:{value:"months",getLabel:function(){return(0,i.wv)("Months","UnbanRequestsCooldown")},getFormattedString:function(e){return(0,i.wv)("{months, plural, one {# month} other {# months}}",{months:Math.round(e/43800)},"UnbanRequestsCooldown")},threshold:43800}},o=function(e){return 43800<=e&&e%43800==0?r.months:1440<=e&&e%1440==0?r.days:60<=e&&e%60==0?r.hours:r.minutes},s=function(e){return o(e).getFormattedString(e)}},585187:function(e,n,t){"use strict";t.d(n,{D:function(){return r},VO:function(){return o},BJ:function(){return s},S4:function(){return l}});var i=t(831642),a=t(128416),r=function(e){switch(e){case a.nDl.INVALID_UPDATE:return(0,i.wv)("This request has already been resolved.","UnbanResolveFormErrorMessage");case a.nDl.REQUEST_NOT_FOUND:return(0,i.wv)("Request not found.","UnbanResolveFormErrorMessage");case a.nDl.UNAUTHORIZED:return(0,i.wv)("You are not authorized to resolve this request.","UnbanResolveFormErrorMessage");default:a.nDl.UNKNOWN;return(0,i.wv)("Something went wrong while resolving the request. Please try again later.","UnbanResolveFormErrorMessage")}},o=function(e){switch(e){case a.nDl.REQUEST_NOT_FOUND:return(0,i.wv)("Request not found.","CancelUnbanRequestMessage");case a.nDl.UNAUTHORIZED:return(0,i.wv)("You are not authorized to cancel this request.","CancelUnbanRequestMessage");default:a.nDl.UNKNOWN;return(0,i.wv)("Something went wrong while undoing your unban request.","CancelUnbanRequestMessage")}},s=function(e){switch(e){case a.nDl.INVALID_UPDATE:return(0,i.wv)("Your request has already been acknowledged.","AcknowledgeUnbanRequestError");case a.nDl.REQUEST_NOT_FOUND:return(0,i.wv)("Request not found.","AcknowledgeUnbanRequestError");case a.nDl.UNAUTHORIZED:return(0,i.wv)("You are not authorized to acknowledge this request.","AcknowledgeUnbanRequestError");default:a.nDl.UNKNOWN;return(0,i.wv)("Something went wrong while acknowledging your unban request. Please try again later.","AcknowledgeUnbanRequestError")}},l=function(e){switch(e){case a.s2I.ALREADY_CREATED:return(0,i.wv)("You have already submitted a request. Moderators will review your previously submitted request.","UnbanFormErrorMessage");case a.s2I.NOT_BANNED:return(0,i.wv)("You are not currently banned from this channel. Refresh the page to rejoin chat.","UnbanFormErrorMessage");case a.s2I.TOO_SOON_SINCE_BAN:return(0,i.wv)("You have to wait a bit to request an unban. Try again soon!","UnbanFormErrorMessage");case a.s2I.UNBAN_REQUESTS_DISABLED:return(0,i.wv)("This channel is not currently accepting unban requests.","UnbanFormErrorMessage");default:a.s2I.UNKNOWN;return(0,i.wv)("Something went wrong while submitting your request. Please try again later.","UnbanFormErrorMessage")}}},236612:function(e,n,t){"use strict";t.d(n,{_Y:function(){return s},ZL:function(){return l},al:function(){return d},Gb:function(){return u},Wi:function(){return c},qB:function(){return m},vY:function(){return p},Tp:function(){return h},$w:function(){return g},Ps:function(){return f},W7:function(){return v},RC:function(){return y},bE:function(){return k},rO:function(){return S},dH:function(){return C},Ii:function(){return b},aH:function(){return w},j2:function(){return E},fy:function(){return _},Bf:function(){return N},zx:function(){return D},_e:function(){return M},Ed:function(){return I},V8:function(){return T},BD:function(){return P},Vp:function(){return R},oQ:function(){return A},Vl:function(){return L},NQ:function(){return F},KZ:function(){return U},dc:function(){return x},_8:function(){return O}});var i=t(570655),a=t(831642),r="videoChat.is_replay_mode",o="videoChat.hide_timestamps",s="vodChat.comments.DELETED_SUCCESS",l=function(e){return(0,i.__assign)({type:s},e)},d="vodChat.comments.CREATED_SUCCESS",u=function(e){return(0,i.__assign)({type:d},e)},c="vodChat.comments.CREATE_FAILED",m=function(e){return{type:c,createError:e}},p="vodChat.comments.DISPLAY_ERROR",h=function(e){return{type:p,errorMessage:e}},g="vodChat.comments.UPDATED_SUCCESS",f=function(e){return(0,i.__assign)({type:g},e)},v="vodChat.comments.CURSOR_RECEIVED",y=function(e){return(0,i.__assign)({type:v},e)},k="vodChat.comments.OFFSET_RECEIVED",S=function(e){return(0,i.__assign)({type:k},e)},C="vodChat.comments.QUERY_FAILED",b=function(){return{type:C}},w="vodChat.comments.CLEARED",E=function(){return{type:w}},_="vodChat.comments.COOLDOWN_ENDED",N=function(){return{type:_}},D="vodChat.comments.SYNC_ENABLED",M=function(){return{type:D}},I="vodChat.comments.SYNC_DISABLED",T=function(){return{type:I}},P="vodChat.comments.REPLAY_FILTER_CHANGED",R=function(e){return a.tO.set(r,e),{type:P,isReplayFilterOn:e}},A="vodChat.comments.CHAT_REPLAY_ERROR_HIDE",L=function(){return{type:A}},F="vodChat.comments.TIMESTAMP_MODE_CHANGED",U=function(e){return a.tO.set(o,e),{type:F,hideTimestamps:e}},x="vodChat.comments.REQUEST_CHAT_SETTINGS",O=function(){return{type:x,isReplayFilterOn:a.tO.get(r,!1),hideTimestamps:a.tO.get(o,!1)}}},764346:function(e,n,t){"use strict";t.d(n,{Rf:function(){return o},ae:function(){return u},JS:function(){return p},xe:function(){return g},SH:function(){return h},k0:function(){return f},tR:function(){return c},Vs:function(){return m}});var i=t(517563),a=t(754482),r=t(19680),o="cursor";function s(e){return"/v5/videos/"+e+"/comments"}function l(e){return d(e).toString()+"/replies"}function d(e){return"/v5/videos/comments/"+e}function u(e){var n=h(e)?l(e.parentId):s(e.contentId),e={body:(0,r.W6)(e)};return a._d.post(n,e)}function c(n){try{if("commentID"in n)return function(e){var n={};void 0!==e.cursor&&(n[o]=e.cursor);n=l(e.commentID)+"?"+i.Pz(n);return a._d.getOrThrow(n).then(function(e){return(0,r.DU)(e.body)})}(n);var e={};g(n)?e[o]=n.cursor:f(n)&&(e.content_offset_seconds=""+n.offset,void 0!==n.highlightedMessageID&&(e.comment_id=n.highlightedMessageID));var t=s(n.videoID)+"?"+i.Pz(e);return a._d.getOrThrow(t).then(function(e){return(0,r.j0)(e.body,n.bitsConfig)})}catch(n){return Promise.reject(n)}}function m(n){var e=d(n.comment.id),t={body:{state:n.state}};return a._d.putOrThrow(e,t).then(function(e){return(0,r.XO)(e.body,n.comment)})}function p(e){e=d(e.id);return a._d.delete(e)}function h(e){return"parentId"in e}function g(e){return"cursor"in e}function f(e){return"offset"in e}},446784:function(e,n,t){"use strict";t.d(n,{Zv:function(){return i},TA:function(){return a},IA:function(){return r},ES:function(){return o},B8:function(){return s},aL:function(){return l},f$:function(){return d},FF:function(){return u}});var i="video",a="published",r="unpublished",o="pending_review",s="pending_review_spam",l="current",d="",u=function(e){return""!==e.parentId}},442767:function(e,n,t){"use strict";t.d(n,{EB:function(){return i},Jl:function(){return S},tn:function(){return C},YF:function(){return b},uA:function(){return w},Ld:function(){return N},OF:function(){return D},l5:function(){return M},dU:function(){return I},Ey:function(){return T}});var s=t(570655),l=t(831642),d=t(742407),u=t(349946),o=t(236612),c=t(764346),m=t(19680),p=t(930577),h=t(234333),g=t(531917),f=t(623004),v=t(812828);function i(){return{CommenterBannedError:(0,l.wv)("You are banned from sending messages in this channel","routines-comments"),CommentingDisabledError:(0,l.wv)("Sending messages in this channel is disabled","routines-comments"),UserNotVerifiedError:(0,l.wv)("Account email verification required to send a message","routines-comments"),MaxChildCommentsError:(0,l.wv)("The reply limit for this message has been reached","routines-comments"),MessageLikelySpamError:(0,l.wv)("Your message was blocked by the spam filter","routines-comments"),MessageContainsBannedWordsError:(0,l.wv)("Your message wasn't posted due to conflicts with the channel's moderation settings","routines-comments")}}function y(n){if(n.includes("FollowersOnlyError"))return e=(e=n.split(" "))[e.length-1].match(/((\d+)h)?(\d+)m(\d+)s/),t=Array.isArray(e)?{600:"10 Minutes",1800:"30 Minutes",3600:"1 Hour",86400:"1 Day",604800:"1 Week",2592e3:"1 Month",7776e3:"3 Months"}[60*parseInt(e[2]||"0",10)*60+60*parseInt(e[3],10)+parseInt(e[4],10)]:"",(0,l.wv)("This room is in {duration} followers-only mode. Follow this channel to join the community",{duration:t},"routines-comments");var e=i(),t=Object.keys(e).find(function(e){return n.includes(e)});return t?e[t]:(0,l.wv)("Unable to send a new message at this time","routines-comments")}var a="",r=-1,k=!1,S=function(n,t){return(0,s.__awaiter)(void 0,void 0,void 0,function(){return(0,s.__generator)(this,function(e){if(k)return[2,Promise.resolve()];if((0,c.k0)(t)){if(t.offset===r)return[2,Promise.resolve()];r=t.offset}if((0,c.xe)(t)){if(t.cursor===a)return[2,Promise.resolve()];a=t.cursor}return k=!0,[2,(0,c.tR)(t).then(function(e){(k=!1,c.k0)(t)&&t.offset===r?n.dispatch((0,o.rO)(e)):n.dispatch((0,o.RC)(e))},function(e){k=!1,l.kg.warn("VideoChat: unable to fetch messages",{error:e}),n.dispatch((0,o.Ii)())})]})})},C=function(a,r){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n,t,i;return(0,s.__generator)(this,function(e){switch(e.label){case 0:e.trys.push([0,5,,6]),n=void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,c.ae)(r)];case 2:return n=e.sent(),[3,4];case 3:return t=e.sent(),(0,u.un)()?l.kg.warn(C.name):l.kg.errorAndReport(t,C.name),a.dispatch((0,o.qB)(y(""))),[2];case 4:return n.requestError?(l.kg.errorAndReport(n.requestError,C.name),a.dispatch((0,o.qB)(y(""))),[2]):n.error?(l.kg.errorAndReport(new Error(n.error.error),C.name),a.dispatch((0,o.qB)(y(n.error.message))),[2]):void 0===n.body?(a.dispatch((0,o.qB)(y(""))),[2]):(i=(0,m.Dt)(n.body),a.dispatch((0,o.Gb)(i)),a.dispatch((0,p.l)(E,i)),setTimeout(function(){a.dispatch((0,o.Bf)())},5e3),[3,6]);case 5:return i=e.sent(),l.kg.errorAndReport(i,C.name),a.dispatch((0,o.qB)(y(""))),[3,6];case 6:return[2]}})})},b=function(t,i){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,c.JS)(i)];case 1:return e.sent(),t.dispatch((0,o.ZL)({comment:i})),t.dispatch((0,p.l)(_,{comment:i})),[3,3];case 2:return n=e.sent(),(0,u.un)()?l.kg.warn(b.name):l.kg.errorAndReport(n,b.name),[3,3];case 3:return[2]}})})},w=function(t,i){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,c.Vs)(i)];case 1:return n=e.sent(),t.dispatch((0,o.Ps)(n)),[3,3];case 2:return n=e.sent(),l.kg.errorAndReport(n,w.name),[3,3];case 3:return[2]}})})},E=function(e,t,i,a){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.query({query:g,variables:{videoCreatorID:t.comments[0].channelId,videoID:t.comments[0].contentId}})];case 1:return n=e.sent().data,a.track(d.N.ChommentCreated,(0,h.Xf)(t,n)),[3,3];case 2:return n=e.sent(),(0,u.un)()?l.kg.warn(E.name):l.kg.errorAndReport(n,E.name),[3,3];case 3:return[2]}})})},_=function(t,i,a,r){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,a.query({query:f,variables:{videoCreatorID:i.comment.channelId,commentCreator:i.comment.commenter,videoID:i.comment.contentId}})];case 1:return n=e.sent().data,r.track(d.N.ChommentDeleted,(0,h.cA)(i,t.getState(),n)),[3,3];case 2:return n=e.sent(),(0,u.un)()?l.kg.warn(_.name):l.kg.errorAndReport(n,_.name),[3,3];case 3:return[2]}})})},N=function(t,i,a,r){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,a.query({query:v,variables:{videoID:i.comment.contentId}})];case 1:return n=e.sent().data,r.track(d.N.ChommentUIAction,(0,h.GA)(i,t.getState(),n)),[3,3];case 2:return n=e.sent(),(0,u.un)()?l.kg.warn(N.name):l.kg.errorAndReport(n,N.name),[3,3];case 3:return[2]}})})},D=function(t,i,a,r){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,a.query({query:f,variables:{videoCreatorID:i.channelId,commentCreator:i.commenter,videoID:i.contentId}})];case 1:return n=e.sent().data,r.track(d.N.ChommentUIAction,(0,h.q1)(i,t.getState(),n)),[3,3];case 2:return n=e.sent(),(0,u.un)()?l.kg.warn(D.name):l.kg.errorAndReport(n,D.name),[3,3];case 3:return[2]}})})},M=function(i,a,r,o){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n,t;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n=i.getState(),n=((0,c.SH)(a)?n.vodChat.comments.comments.parentComments[a.parentId]:a).contentId,[4,r.query({query:v,variables:{videoID:n}})];case 1:return t=e.sent().data,o.track(d.N.ChommentUIAction,(0,h.g8)(a,i.getState(),t)),[3,3];case 2:return t=e.sent(),(0,u.un)()?l.kg.warn(M.name):l.kg.errorAndReport(t,M.name),[3,3];case 3:return[2]}})})},I=function(t,i,a,r){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,a.query({query:v,variables:{videoID:i.comment.contentId}})];case 1:return n=e.sent().data,r.track(d.N.ChommentUIAction,(0,h.dM)(i,t.getState(),n)),[3,3];case 2:return n=e.sent(),(0,u.un)()?l.kg.warn(I.name):l.kg.errorAndReport(n,I.name),[3,3];case 3:return[2]}})})},T=function(t,i,a,r){return(0,s.__awaiter)(void 0,void 0,void 0,function(){var n;return(0,s.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,a.query({query:g,variables:{videoCreatorID:i.channelId,videoID:i.contentId}})];case 1:return n=e.sent().data,r.track(d.N.ChommentUIAction,(0,h.EM)(i,t.getState(),n)),[3,3];case 2:return n=e.sent(),l.kg.errorAndReport(n,T.name),[3,3];case 3:return[2]}})})}},19680:function(e,n,t){"use strict";t.d(n,{Nt:function(){return v},UC:function(){return u},Dt:function(){return m},j0:function(){return h},DU:function(){return g},XO:function(){return p},W6:function(){return c}});function i(e,n,t){var i=e.bits_spent,a=e.body,r=e.emoticons,o=e.is_action,s=e.user_color,e=e.user_notice_params,r=(void 0===r?[]:r).reduce(function(e,n){return e[n.begin]={id:n._id,startIndex:n.begin},e},{});return{id:"1",isAction:o,tokens:(0,l.vO)(a,r,i||0,t,n),userColor:s||(0,l.GW)(n),userNoticeParams:e||void 0}}var a=t(570655),r=t(646628),o=t(764346),s=t(446784),l=t(274178),d=t(742253),u="comment";function c(e){return(0,o.SH)(e)?{message:e.message,parent_id:e.parentId}:{content_id:e.contentId,content_offset_seconds:e.contentOffsetSeconds,content_type:e.contentType,message:e.message}}var m=function(e){return{comments:[v.normalizeRecord(e,r.Nv)],users:[d.D.normalizeRecord(e.commenter)]}},p=function(e,n){n=(0,a.__assign)((0,a.__assign)({},e),{more_replies:n.moreReplies});return{comments:[v.normalizeRecord(n,r.Nv)],users:[d.D.normalizeRecord(e.commenter)]}},h=function(e,t){var i=e.comments.map(function(e){return d.D.normalizeRecord(e.commenter)}),n={past:s.f$,future:s.f$};return void 0!==e._next&&(n.future=e._next),void 0!==e._prev&&(n.past=e._prev),{comments:e.comments.reduce(function(e,n){return n.replies&&n.replies.map(function(e){i.push(d.D.normalizeRecord(e.commenter))}),e.concat(v.normalizeRecords(n,t))},[]),cursor:n,users:i}},g=function(e){var n=e.comments.map(function(e){return d.D.normalizeRecord(e.commenter)});return{comments:e.comments.map(function(e){return v.normalizeRecord(e,r.Nv)}),cursor:{future:e._next||s.f$},users:n}};function f(e){return e.reduce(function(e,n){return e[n._id]=n.version,e},{})}var v={normalizeRecords:function(e,n){var t=[v.normalizeRecord(e,n)];return Array.isArray(e.replies)&&e.replies.forEach(function(e){t.push(y.normalizeRecord(e,n))}),t},normalizeRecord:function(e,n){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:i(e.message,e.commenter._id,n),moreReplies:e.more_replies||!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:f(e.message.user_badges||[])}}},y={normalizeRecord:function(e,n){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:i(e.message,e.commenter._id,n),moreReplies:!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:f(e.message.user_badges||[])}}}},742253:function(e,n,t){"use strict";t.d(n,{D:function(){return r}});function i(e){this.bio=e.bio,this.createdAt=e.createdAt,this.displayName=e.displayName,this.id=e.id,this.logo=e.logo,this.name=e.name,this.type=e.type,this.updatedAt=e.updatedAt}var a=t(461287),r={normalizeRecord:function(e){return new i({id:e._id,name:e.name,logo:new URL(e.logo||a.yG),bio:e.bio,createdAt:new Date(e.created_at),displayName:e.display_name,type:e.type,updatedAt:new Date(e.updated_at)})},serializeRecord:function(e){return{_id:e.id,name:e.name,logo:e.logo.toString(),bio:e.bio,created_at:e.createdAt.toISOString(),display_name:e.displayName,type:e.type,updated_at:e.updatedAt.toISOString()}}}},461287:function(e,n,t){"use strict";t.d(n,{yG:function(){return a},wn:function(){return r},SY:function(){return o}});var i="https://static-cdn.jtvnw.net/emoticons/v1/",a="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_150x150.png",r=function(e){return i+e+"/1.0"},o=function(e){return i+e+"/2.0 2x"}},930577:function(e,n,t){"use strict";t.d(n,{b:function(){return i},l:function(){return r}});var a=t(831642);function i(t,i){return function(e,n){t({dispatch:e,getState:n},i,a.$6.apollo.client)}}function r(t,i){return function(e,n){t({dispatch:e,getState:n},i,a.$6.apollo.client,a.UO)}}},234333:function(e,n,t){"use strict";t.d(n,{CI:function(){return i},zQ:function(){return a},wN:function(){return f},vJ:function(){return v},qo:function(){return k},$r:function(){return S},Xf:function(){return C},cA:function(){return b},GA:function(){return w},q1:function(){return E},g8:function(){return _},dM:function(){return N},EM:function(){return D}});var r=t(570655),o=t(831642),s=t(548225),l=t(349553),d=t(742407),u=t(349946),c=t(991810),m=t(764346),p=t(446784),h=t(68689),g=t(60112),i="replay_mode",a="timestamp_mode",f="on",v="off",y="frontend",k=function(e){o.UO.track(d.N.VideoChatSettingChanged,e)},S=function(i,a){return(0,r.__awaiter)(void 0,void 0,void 0,function(){var n,t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,o.$6.apollo.client.query({query:g,variables:{videoCreatorID:i.channelId,videoID:i.contentId}})];case 1:return n=e.sent().data,t={channel:n.video.owner.login,channel_id:Number(i.channelId),game:n.video.game?n.video.game.name:null,location:"vod",share_platform:h.zS.Link,share_context:l.Pu.Chomment,shared_item_id:(0,s.gi)(i.contentId),shared_item_type:(0,c.W)(n.video.broadcastType),shared_item_url:a.toString(),partner:n.video.owner.roles.isPartner,source_item_id:i.id,source_item_type:l.df.Chomment},n=M(i,n,h.zS.Link),o.UO.track(d.N.ChommentUIAction,n),o.UO.track(d.N.ShareItem,t),[3,3];case 2:return t=e.sent(),(0,u.un)()?o.kg.warn(t.toString(),S.name):o.kg.errorAndReport(t.toString(),S.name),[3,3];case 3:return[2]}})})},C=function(e,n){var t=e.users[0],e=e.comments[0];return{channel:n.user.login,channel_id:Number(e.channelId),comment_id:e.id,comment_state:e.state,event_source:y,game:n.video.game?n.video.game.name:null,login:t.name,play_session_id:o.UO.getVideoPlayerTrackingData().playSessionID,reply_to_comment_id:(0,p.FF)(e)?e.parentId:null,user_id:Number(t.id),vod_id:Number(e.contentId),vod_title:n.video.title,vod_ts:e.contentOffset,vod_type:(0,c.W)(n.video.broadcastType)}},b=function(e,n,t){return{author_id:Number(e.comment.commenter),author_login:t.users[1].login,channel:t.users[0].login,channel_id:Number(e.comment.channelId),comment_id:e.comment.id,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,user_id:Number(n.session.user.id),vod_id:Number(e.comment.contentId),vod_title:t.video.title,vod_type:(0,c.W)(t.video.broadcastType),vod_ts:e.comment.contentOffset}},w=function(e,n,t){return{action:"ban_user",author_id:Number(e.bannedUser),channel_id:Number(e.targetChannel),event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,target_user_id:Number(e.bannedUser),user_id:Number(n.session.user.id),vod_id:Number(t.video.id),vod_title:t.video.title,vod_type:(0,c.W)(t.video.broadcastType),vod_ts:e.comment.contentOffset}},E=function(e,n,t){return{action:"delete",author_id:Number(e.commenter),author_login:t.users[1].login,channel:t.users[0].login,channel_id:Number(e.channelId),comment_id:e.id,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,reply_to_comment_id:e.parentId||null,user_id:Number(n.session.user.id),vod_id:Number(e.contentId),vod_title:t.video.title,vod_type:(0,c.W)(t.video.broadcastType),vod_ts:e.contentOffset}},_=function(e,n,t){var i=null,a=Object.keys(n.vodChat.comments.comments.parentComments);return 0<a.length&&(a=a[0],i=n.vodChat.comments.comments.parentComments[a].channelId),{action:"create",channel_id:i?Number(i):null,comment_body:e.message,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user?n.session.user.login:null,reply_to_comment_id:(0,m.SH)(e)?e.parentId:null,user_id:n.session.user?Number(n.session.user.id):null,vod_id:Number(t.video.id),vod_title:t.video.title,vod_ts:(0,m.SH)(e)?null:Number(e.contentOffsetSeconds),vod_type:(0,c.W)(t.video.broadcastType)}},N=function(e,n,t){var i=e.comment.id,a=e.comment.channelId;return{action:e.state===p.TA?"publish":"unpublish",channel_id:Number(a),comment_id:i,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user.login,user_id:Number(n.session.user.id),vod_id:Number(t.video.id),vod_title:t.video.title,vod_ts:e.comment.contentOffset,vod_type:(0,c.W)(t.video.broadcastType)}},D=function(e,n,t){return{action:"sync_vod_to_time",author_id:Number(e.commenter),channel:t.user.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:y,game:t.video.game?t.video.game.name:null,login:n.session.user?n.session.user.login:null,user_id:n.session.user?Number(n.session.user.id):null,vod_id:Number(e.contentId),vod_title:t.video.title,vod_ts:e.contentOffset,vod_type:(0,c.W)(t.video.broadcastType)}},M=function(e,n,t){return{action:"share",author_id:Number(e.commenter),channel:n.video.owner.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:y,game:n.video.game?n.video.game.name:null,login:n.currentUser?n.currentUser.login:null,user_id:n.currentUser?Number(n.currentUser.id):null,vod_id:Number(e.contentId),vod_title:n.video.title,vod_ts:e.contentOffset,vod_type:(0,c.W)(n.video.broadcastType),share_platform:t}}},622212:function(e,n,t){"use strict";var i;t.d(n,{E:function(){return i}}),(n=i=i||{}).PlayerInit="init",n.ContentShowing="contentShowing",n.PlaybackStatistics="playbackStatistics",n.ChansubRequired="chansubRequired",n.VideoFailure="videoFailure",n.Formats="videoFormats",n.ABSStreamFormatChange="abs_stream_format_change",n.FormatChanged="videoFormatChanged",n.TimeChange="timeChange",n.BufferChange="bufferChange",n.SegmentChange="segmentchange",n.UsherFailError="usherFail",n.CaptionUpdate="captions",n.SeekFailed="seekfailed",n.VariantSwitchRequest="variantSwitchRequested",n.ViewersChange="viewerschange",n.StreamLoaded="streamLoaded",n.VideoLoaded="videoLoaded",n.VideoPaused="videoPaused",n.QualityChange="qualitychange",n.Online="online",n.Offline="offline",n.Restricted="restricted",n.CastingChange="castingchange",n.TheatreChange="theatrechange",n.MidrollRequested="midrollrequested",n.ManifestExtraInfo="manifestExtraInfo",n.TransitionToCollectionVOD="transitionToCollectionVod",n.TransitionToRecommendedVOD="transitionToRecommendedVod",n.StitchedAdStart="stitchedadstart",n.StitchedAdEnd="stitchedadend",n.PersistenPlayerToggle="persistentPlayerEnableToggle",n.StatsUpdate="statsupdate",n.PromptLoginModal="prompt login modal",n.OpenStream="openStream",n.PlayerReady="ready",n.FullscreenChange="fullscreenchange",n.ExternalFullscreenChange="externalfullscreenchange",n.ClipsModerationOpen="clips-moderation-open",n.FocusPlayer="focusPlayer",n.FollowChannel="followChannel",n.UnfollowChannel="unfollowChannel",n.ContentRestricted="contentRestricted",n.SubscribeToChannel="subscribeChannel",n.OpenSubscriptionCheckout="subscriptionCheckout",n.PrimeSubscribeToChannel="primeSubscribeChannel",n.RemoveStream="removeStream",n.EnterMultiview="enterMultiview",n.PlaybackError="playbackerror"},673271:function(e,n,t){"use strict";t.d(n,{dA:function(){return r},pt:function(){return o}});var i=t(548225),a=t(128416);function r(e){switch(e.toUpperCase()){case a.NfQ.VIEWS:return a.NfQ.VIEWS;case a.NfQ.TIME:return a.NfQ.TIME;default:return null}}function o(e){switch(e){case i.EU.Newest:return a.NfQ.TIME;case i.EU.Popular:return a.NfQ.VIEWS;default:return e}}},680300:function(e,n,t){"use strict";t.r(n),t.d(n,{ChatLive:function(){return J},ChatLiveComponent:function(){return Q}});var i=t(667294),a=t(14890),r=t(347820),o=t(734995),s=t(270406),u=t(152087),l=t(974513),d=t(154412),c=t(961550),m=t(997195),p=t(663823),h=t(570655),g=t(294184),f=t(137703),v=t(363349),y=t(831642),k=t(296153),S=t(987145),C=t(270961),b=t(906704),w=t(508995),E=t(560772),_=t(742407),N=t(910902),D=t(884341);function M(e){return{channel_id:e.channelId,commercial_id:e.commercialId,player_volume:e.playerVolume,player_mute:e.playerMute,on_channel_page:e.onChannelPage,device_id:e.deviceId,dom_node:e.domNode,pbyp_visible:e.pbypVisible,main_play_session_id:e.mainPlayerSessionId,pbyp_play_session_id:e.pbypPlayerSessionId,main_player_broadcaster_latency:e.mainPlayerBroadcasterLatency,pbyp_player_broadcaster_latency:e.pbypPlayerBroadcasterLatency,stitched:e.stitched,player_size_mode:e.playerSizeMode}}var I=t(306185),T=t(490820),P=t(658007),R=t(177841),A=t(416333),L=t(687036),F=t(255687);function U(){return i.createElement(o.A,{position:s.Ly.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,justifyContent:s.uM.Center,alignItems:s.g1.Center,display:s.sS.Flex,fullWidth:!0,fullHeight:!0,background:s.Aq.Overlay},i.createElement(F.T,null))}function x(){return i.createElement(o.A,{fullWidth:!0,fullHeight:!0,background:s.Aq.Overlay})}function O(e){var e=e.status,n=null;switch(void 0===e?N.fq.Playing:e){case N.fq.Playing:n=null;break;case N.fq.Paused:n=i.createElement(x,null);break;case N.fq.Loading:n=i.createElement(U,null);break;default:n=null}return n?i.createElement(L.T,null,i.createElement(o.A,{position:s.Ly.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,fullWidth:!0,fullHeight:!0,zIndex:s.KN.Default},n)):null}var B,n=t(226976),V=t(517563),q=t(863480),G=t(260116),H=t(456238),W=t(441784),z=function(d,u){return(0,h.__awaiter)(void 0,void 0,void 0,function(){var o,s,l;return(0,h.__generator)(this,function(e){switch(e.label){case 0:return o=performance.now(),[4,(a=d,r=u,(0,h.__awaiter)(void 0,void 0,void 0,function(){return(0,h.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,W.a)(a,r)];case 1:return[2,e.sent()]}})}))];case 1:return l=e.sent(),s=Math.round(performance.now()-o),l?(n=l,t=(0,G.h)(window.navigator.userAgent),(i={allow_source:!0,fast_bread:!0,playlist_include_framerate:!0,reassignments_supported:!0}).sig=n.sig,i.token=n.token,i.player_backend="mediaplayer",i.p=Math.floor(9999999*Math.random()),(0,q.t)("twilight_device_type")&&(1===(i.dt=t)&&(i.bndl=(0,G.Z)(window.navigator.userAgent)),3===t&&(i.app=H.yV,i.os="tvos")),l=V.Pz(i),[2,{src:"https://usher.ttvnw.net/api/channel/hls/"+d.toLowerCase()+".m3u8?"+l,accessTokenLoadTime:s}]):[2,{accessTokenLoadTime:s}]}var n,t,i,a,r})})};(t=B=B||{}).PlayerContainer="picture-by-picture-player-container",t.PlayerBackground="picture-by-picture-player-background";var $,t=($=i.Component,(0,h.__extends)(j,$),j.prototype.componentDidUpdate=function(e,n){var t=this;this.props.channelLogin!==e.channelLogin&&this.props.onChannelChange();var i,a,r=this.props.contentType===u.z.LIVE,o=!!this.mediaPlayerInstance;e.status!==this.props.status&&(this.props.status===N.fq.Playing?this.onPlayerPlay():this.props.status===N.fq.Paused?this.onPlayerPause():this.props.status===N.fq.Unavailable&&this.hidePbyPPlayer(n.shouldShow||this.state.shouldShow,!0)),e.isShowing===this.props.isShowing?r?(a=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data,r=!(i=e.pubsub.messages&&e.pubsub.messages.adsMidrollRequestMessage&&e.pubsub.messages.adsMidrollRequestMessage.data)||a&&a.commercial_id!==i.commercial_id,i=e.preflight,e=this.props.preflight,(!i||e&&e.commercialId!==i.commercialId)&&e&&(r=!0,a={jitter_time:e.jitterTime,jitter_buckets:e.jitterBuckets,warmup_time:e.warmupTime,commercial_id:e.commercialId,weighted_buckets:e.weightedBuckets}),!o&&a&&r&&(this.logger.debug("Pubsub payload detected and processing "+JSON.stringify(a)),o=(e=a).weighted_buckets,r=Math.random(),a=-1,a=0<=(a=o&&0<o.length?function(e,n){for(var t=0,i=0;i<n.length;i++)if((t+=n[i])>=e)return i;return-1}(r,o):a)?Math.floor(1e3*(a+Math.random())):(y.kg.debug("weighted_buckets unavailable, opting for legacy jitter"),a=e.jitter_time,e=e.jitter_buckets,Math.floor(Math.random()*e)*(a/e)),e=this.props.getMainPlayerMetadata().latencyToBroadcaster||0,this.logger.debug("Delaying load of mediaPlayer by "+(a+e)),this.jitterTimeoutID=setTimeout(function(){t.loadMediaPlayerInstance(t.props.channelLogin)},a+e))):this.hidePbyPPlayer(n.shouldShow||this.state.shouldShow,!0):this.props.isShowing&&this.shouldShowPlayer()?(this.destroyTimeoutID&&clearTimeout(this.destroyTimeoutID),this.showPbyPPlayer()):this.props.isShowing||this.hidePbyPPlayer(this.state.shouldShow,!0)},j.prototype.componentWillUnmount=function(){this.logger.debug("pbyp player unmounting"),this.hidePbyPPlayer(this.state.shouldShow,!0)},j.prototype.render=function(){return this.mediaPlayerInstance?i.createElement(o.A,{display:s.sS.Flex,justifyContent:s.uM.Center,className:"picture-by-picture-player--background","data-test-selector":B.PlayerBackground},i.createElement(o.A,{className:g("picture-by-picture-player",{"picture-by-picture-player--collapsed":!this.state.shouldShow}),flexGrow:0,flexShrink:0,alignItems:s.g1.Center,display:s.sS.Flex,flexWrap:s.gP.Wrap,fullWidth:!0,justifyContent:s.uM.Center,"data-test-selector":B.PlayerContainer},i.createElement(v.GO,{ratio:v.oM.Aspect16x9},this.state.playerStatus!==N.fq.Playing&&i.createElement(O,{status:this.state.playerStatus}),i.createElement("div",{className:"pbyp-player-instance",ref:this.attachRef})))):null},j.prototype.setupPlayer=function(e){this.logger.debug("setupPlayer called"),this.mediaPlayerInstance=e,this.mediaPlayerInstance.setPlayerType(R.G.PictureByPicture),this.mediaPlayerInstance.setMuted(!0),this.mediaPlayerInstance.addEventListener(T.f.READY,this.onPlayerReady),this.mediaPlayerInstance.addEventListener(T.f.PLAYING,this.onPlayerPlaying),this.mediaPlayerInstance.addEventListener(T.f.BUFFERING,this.onPlayerLoading),this.mediaPlayerInstance.addEventListener(P.s.ANALYTICS_EVENT,this.onPlayerAnalytics),this.mediaPlayerInstance.play()},j.prototype.setDestroyTimer=function(){var e=this,n=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data&&this.props.pubsub.messages.adsMidrollRequestMessage.data.warmup_time;n&&(this.logger.debug("Setting destroyTimer with a delay of "+(n=2*n+3e4)),this.destroyTimeoutID=setTimeout(function(){e.destroyPlayer(!0)},n))},j.prototype.getPlayerTrackingInfo=function(){if(this.mediaPlayerInstance){var e=window.location.pathname.toLowerCase().includes(this.props.channelLogin),n="";!this.playSessionId||(i=document.getElementById(this.playSessionId))&&(n=JSON.stringify(i.parentElement,["id","className","tagName"]));var t=this.props.pubsub.messages&&this.props.pubsub.messages.adsMidrollRequestMessage&&this.props.pubsub.messages.adsMidrollRequestMessage.data&&this.props.pubsub.messages.adsMidrollRequestMessage.data.commercial_id||"",i=this.props.getMainPlayerMetadata();return{channelId:this.props.channelId,commercialId:t,playerVolume:this.mediaPlayerInstance.getVolume(),playerMute:this.mediaPlayerInstance.isMuted(),onChannelPage:e,deviceId:y.$6.session.deviceID,domNode:n,pbypVisible:this.props.isShowing,mainPlayerSessionId:i.playSessionId,mainPlayerBroadcasterLatency:i.latencyToBroadcaster,pbypPlayerSessionId:this.playSessionId||"",pbypPlayerBroadcasterLatency:1e3*this.mediaPlayerInstance.getLiveLatency(),stitched:this.props.isStitched,playerSizeMode:this.getMainPlayerDisplayMode()}}return{}},j);function j(){var i=null!==$&&$.apply(this,arguments)||this;return i.state={shouldShow:i.props.isShowing,playerStatus:i.props.status},i.playSessionId=null,i.hasRestrictedContent=i.props.isRestricted,i.logger=y.kg.withCategory(R.G.PictureByPicture),i.loadMediaPlayerInstance=function(d){return(0,h.__awaiter)(i,void 0,void 0,function(){var a,r,o,s,l=this;return(0,h.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),a=this.props.contentType,""===d||a!==u.z.LIVE?[3,3]:[4,(0,A.N)()];case 1:return s=e.sent(),r=s.mediaPlayerInstance,s.playerLoadTimePromise.then(function(e){l.playerCoreLoadTime=e}),o=this,[4,(n=d,t=a,i=R.G.PictureByPicture,(0,h.__awaiter)(void 0,void 0,void 0,function(){return(0,h.__generator)(this,function(e){return t!==u.z.LIVE?[2]:[2,z(n,i)]})}))];case 2:o.usherSrc=e.sent(),this.usherSrc&&this.usherSrc.src&&(r.load(this.usherSrc.src),this.setupPlayer(r),this.setDestroyTimer()),e.label=3;case 3:return[3,5];case 4:return s=e.sent(),this.logger.errorAndReport(s,"Media player failed to load"),[3,5];case 5:return[2]}var n,t,i})})},i.onPlayerAnalytics=function(e){var n=e.properties,n=(0,h.__assign)((0,h.__assign)({},n),{channel:i.props.channelLogin,channel_id:i.props.channelId,game:function(e){if(e.user)return e.user.stream&&e.user.stream.game&&e.user.stream.game.name}(i.props.gameData),play_session_id:i.playSessionId,player:R.G.PictureByPicture,vod_type:void 0});e.name===_.N.VideoTrackingVideoPlay&&(n.time_for_player_core_load=i.playerCoreLoadTime,n.time_for_token_load=i.usherSrc&&i.usherSrc.accessTokenLoadTime),y.UO.trackPlayerEvent(e.name,n)},i.shouldShowPlayer=function(){return""!==i.props.channelLogin&&i.props.contentType===u.z.LIVE&&!i.props.isRestricted},i.onPlayerReady=function(){var e;i.logger.debug("PbyP Player Ready"),i.selectDefaultLowQuality(),i.props.setReady(!0),e=M(e=i.getPlayerTrackingInfo()),y.UO.trackPlayerEvent(_.N.PictureByPictureSpawn,e)},i.onPlayerPlaying=function(){var e;i.logger.debug("PbyP Player Playing"),i.setState({playerStatus:N.fq.Playing}),e=M(e=i.getPlayerTrackingInfo()),y.UO.trackPlayerEvent(_.N.PictureByPicturePlaying,e)},i.onPlayerPlay=function(){i.logger.debug("PbyP player triggered play"),i.mediaPlayerInstance&&i.mediaPlayerInstance.getState()===T.f.IDLE&&(i.logger.debug("PbyP player detected to be IDLE so triggering mediaplayer play"),i.mediaPlayerInstance.play())},i.onPlayerPause=function(){var e;i.logger.debug("PbyP player triggered pause"),i.mediaPlayerInstance&&(e=i.mediaPlayerInstance.getState())!==T.f.IDLE&&e!==T.f.ENDED&&(i.logger.debug("PbyP player is not IDLE or ENDED so mediaplayer pause"),i.mediaPlayerInstance.pause(),i.setState({playerStatus:N.fq.Paused}))},i.onPlayerLoading=function(){i.logger.debug("PbyP player is buffering/loading"),i.mediaPlayerInstance&&i.mediaPlayerInstance.getState()===T.f.BUFFERING&&i.setState({playerStatus:N.fq.Loading})},i.selectDefaultLowQuality=function(){var e;!i.mediaPlayerInstance||(e=i.mediaPlayerInstance.getQualities().find(function(e){return e.group.includes(I.aV.Low)}))&&(i.logger.debug("PbyP player selected quality "+e.name),i.mediaPlayerInstance.setQuality(e))},i.showPbyPPlayer=function(){var e;i.logger.debug("showing PbyP player assuming mediaPlayer is available"),i.mediaPlayerInstance&&(i.setState({shouldShow:!0}),e=M(e=i.getPlayerTrackingInfo()),y.UO.trackPlayerEvent(_.N.PictureByPictureVisible,e))},i.hidePbyPPlayer=function(e,n){void 0===n&&(n=!1),(e=void 0===e?!1:e)&&i.setState({shouldShow:!1}),n&&i.destroyPlayer()},i.destroyPlayer=function(t){var e;void 0===t&&(t=!1),i.jitterTimeoutID&&clearTimeout(i.jitterTimeoutID),i.props.setReady(!1),i.mediaPlayerInstance&&(e=1e3*i.mediaPlayerInstance.getLiveLatency(),setTimeout(function(){var e,n;i.mediaPlayerInstance&&(i.logger.debug("Destroying player called"),e=(0,h.__assign)((0,h.__assign)({},i.getPlayerTrackingInfo()),{selfDestruct:t}),n=M(e),e=(0,h.__assign)((0,h.__assign)({},n),{self_destruct:e.selfDestruct}),y.UO.trackPlayerEvent(_.N.PictureByPictureDespawn,e),i.mediaPlayerInstance.removeEventListener(T.f.READY,i.onPlayerReady),i.mediaPlayerInstance.removeEventListener(T.f.PLAYING,i.onPlayerPlaying),i.mediaPlayerInstance.removeEventListener(T.f.BUFFERING,i.onPlayerLoading),i.mediaPlayerInstance.removeEventListener(P.s.ANALYTICS_EVENT,i.onPlayerAnalytics),i.mediaPlayerInstance.delete(),i.mediaPlayerInstance=null,i.playSessionId=null)},1e3+e))},i.getMainPlayerDisplayMode=function(){return i.props.fullscreen.element()?"fullscreen":i.props.theatreModeEnabled?"theatre mode":"default"},i.attachRef=function(e){var n;i.mediaPlayerInstance&&e&&(n=i.mediaPlayerInstance.getHTMLVideoElement(),i.playSessionId=(0,E._f)(),n.setAttribute("id",i.playSessionId),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),n.setAttribute("oncontextmenu","return false;"),e.appendChild(n))},i}var Y=(0,a.qC)((0,f.$j)(function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}}),(0,C.k)([{topic:function(e){return(0,w.ts)(e.channelId)},skip:function(e){return""===e.channelId},mapMessageTypesToProps:((C={})[b.qU.AdsMidrollRequest]="adsMidrollRequestMessage",C)}]),(0,S.TA)(n,{name:"gameData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,D.Vr)(function(e){return{isRestricted:e.isRestricted,isShowing:e.isShowing,isStitched:e.isStitched,onChannelChange:e.onChannelChange,getMainPlayerMetadata:e.getMainPlayerMetadata,status:e.status,setReady:e.setReady,preflight:e.preflight}}),(0,k.e)())(t),Q=function(e){return(0,r.q)(function(){e.updateChatTrackingContext({viewerContext:m.m.ChannelPage})}),i.createElement(o.A,{display:s.sS.Flex,flexDirection:s.Qb.Column,fullHeight:!0},e.channelID&&i.createElement(Y,{channelLogin:e.channelLogin,channelId:e.channelID,contentType:u.z.LIVE}),i.createElement(c.c,{channelLogin:e.channelLogin,hostedChannelDisplayName:e.hostDisplayName,page:p.d1.ChannelPage,showModViewIngress:!0}))},J=(0,a.qC)(d.N,(0,l.PQ)(function(e){return{updateChatTrackingContext:e.updateChatTrackingContext}}))(Q)},251146:function(e,n,t){"use strict";t.d(n,{Dt:function(){return i},pX:function(){return s},lH:function(){return l},fs:function(){return d},CI:function(){return u},wQ:function(){return c},NU:function(){return m},rC:function(){return p},XB:function(){return h},Qc:function(){return g},ng:function(){return f},NO:function(){return v},ic:function(){return y}});var i,a,r=t(831642),o={0:{Ableism:0,Aggression:0,Homophobia:0,Misogyny:0,NameCalling:0,Profanity:0,Racism:0,Sexual:0},1:{Ableism:0,Aggression:1,Homophobia:1,Misogyny:0,NameCalling:0,Profanity:0,Racism:1,Sexual:0},2:{Ableism:2,Aggression:2,Homophobia:2,Misogyny:2,NameCalling:1,Profanity:0,Racism:2,Sexual:2},3:{Ableism:3,Aggression:3,Homophobia:3,Misogyny:3,NameCalling:2,Profanity:0,Racism:3,Sexual:3},4:{Ableism:4,Aggression:4,Homophobia:4,Misogyny:4,NameCalling:4,Profanity:4,Racism:4,Sexual:4}};(t=i=i||{}).Ableism="Ableism",t.Aggression="Aggression",t.Homophobia="Homophobia",t.Misogyny="Misogyny",t.NameCalling="NameCalling",t.Profanity="Profanity",t.Racism="Racism",t.Sexual="Sexual",(t=a=a||{}).Hostility="hostility",t.Identity="identity",t.Profanity="profanity",t.Sexual="sexual";var s={hostility:[i.Aggression,i.NameCalling],identity:[i.Ableism,i.Homophobia,i.Misogyny,i.Racism],sexual:[i.Sexual],profanity:[i.Profanity]},l=function(e){return e?{Ableism:e.ableismLevel||0,Aggression:e.aggressionLevel||0,Homophobia:e.homophobiaLevel||0,Misogyny:e.misogynyLevel||0,NameCalling:e.nameCallingLevel||0,Profanity:e.profanityLevel||0,Racism:e.racismLevel||0,Sexual:e.sexualityLevel||0}:o[0]},d=function(e){for(var n in o)if(e.Ableism===o[n].Ableism&&e.Aggression===o[n].Aggression&&e.Homophobia===o[n].Homophobia&&e.Misogyny===o[n].Misogyny&&e.NameCalling===o[n].NameCalling&&e.Profanity===o[n].Profanity&&e.Racism===o[n].Racism&&e.Sexual===o[n].Sexual)return parseInt(n,10);return-1},u=function(e){return 4<e||e<0?o[0]:o[e]},c=function(e,n){return e[n]},m=function(e,n,t){return e[n]=t,e},p=function(e){switch(e){case 0:return(0,r.wv)("AutoMod is off","AutoModModels");case 1:return(0,r.wv)("A Little Moderation","AutoModModels");case 2:return(0,r.wv)("Some Moderation","AutoModModels");case 3:return(0,r.wv)("More Moderation","AutoModModels");case 4:return(0,r.wv)("A Lot of Moderation","AutoModModels");default:return""}},h=function(e){switch(e){case 0:return(0,r.wv)("No filtering","AutoModModels");case 1:return(0,r.wv)("Less filtering","AutoModModels");case 2:return(0,r.wv)("Some filtering","AutoModModels");case 3:return(0,r.wv)("More filtering","AutoModModels");case 4:return(0,r.wv)("Maximum filtering","AutoModModels");default:return""}},g=function(e){switch(e){case a.Hostility:return(0,r.wv)("Hostility","AutoModLevelCategories");case a.Identity:return(0,r.wv)("Discrimination and slurs","AutoModLevelCategories");case a.Profanity:return(0,r.wv)("Profanity","AutoModLevelCategories");case a.Sexual:return(0,r.wv)("Sexual content","AutoModLevelCategories");default:return""}},f=function(e){switch(e){case i.Ableism:return(0,r.wv)("Disability","AutoModLevelCategories");case i.Aggression:return(0,r.wv)("Aggression","AutoModLevelCategories");case i.Homophobia:return(0,r.wv)("Sexuality, sex, or gender","AutoModLevelCategories");case i.Misogyny:return(0,r.wv)("Misogyny","AutoModLevelCategories");case i.NameCalling:return(0,r.wv)("Bullying","AutoModLevelCategories");case i.Profanity:return(0,r.wv)("Swearing","AutoModLevelCategories");case i.Racism:return(0,r.wv)("Race, ethnicity, or religion","AutoModLevelCategories");case i.Sexual:return(0,r.wv)("Sex-based terms","AutoModLevelCategories");default:return""}},v=function(e){switch(e){case i.Ableism:return(0,r.wv)("Demonstrating hatred or prejudice based on perceived or actual mental or physical abilities","AutoModLevelCategories");case i.Aggression:return(0,r.wv)("Threatening, inciting, or promoting violence or other harm","AutoModLevelCategories");case i.Homophobia:return(0,r.wv)("Demonstrating hatred or prejudice based on sexual identity, sexual orientation, gender identity, or gender expression","AutoModLevelCategories");case i.Misogyny:return(0,r.wv)("Demonstrating hatred or prejudice against women, including sexual objectification","AutoModLevelCategories");case i.NameCalling:return(0,r.wv)("Name-calling, insults, or antagonization","AutoModLevelCategories");case i.Profanity:return(0,r.wv)("Swear words, &*^!#@%*","AutoModLevelCategories");case i.Racism:return(0,r.wv)("Demonstrating hatred or prejudice based on race, ethnicity, or religion","AutoModLevelCategories");case i.Sexual:return(0,r.wv)("Sexual acts, anatomy","AutoModLevelCategories");default:return""}},y=function(e){switch(e){case 6:return 1;case 5:return 2;case 4:return 3;case 3:case 2:return 4;default:return 0}}},731332:function(e,n,t){"use strict";t.d(n,{TC:function(){return o},RQ:function(){return s}});var i,a=t(831642),r=t(702738);function o(e){var n=1;return 3e3<=e&&(e-=r.jJ,n=3),2e3<=e&&(e-=r.hN,n=2),e=e,1<(n=n)?0===e?(0,a.wv)("Tier {tierNum}, Base",{tierNum:(0,a.uf)(n)},"LoyaltyBadgesPageComponent"):e<12?(0,a.wv)("{monthNum, plural, one {Tier {tierNum}, {monthNum}-Month} other {Tier {tierNum}, {monthNum}-Month}}",{tierNum:(0,a.uf)(n),monthNum:(0,a.uf)(e)},"LoyaltyBadgesPageComponent"):(0,a.wv)("{yearNum, plural, one {Tier {tierNum}, {yearNum}-Year} other {Tier {tierNum}, {yearNum}-Year}}",{tierNum:(0,a.uf)(n),yearNum:e/12},"LoyaltyBadgesPageComponent"):0===e?(0,a.wv)("Base","LoyaltyBadgesPageComponent"):e<12?(0,a.wv)("{monthNum, plural, one {{monthNum}-Month} other {{monthNum}-Month}}",{monthNum:(0,a.uf)(e)},"LoyaltyBadgesPageComponent"):(0,a.wv)("{yearNum, plural, one {{yearNum}-Year} other {{yearNum}-Year}}",{yearNum:e/12},"LoyaltyBadgesPageComponent")}(t=i=i||{}).Base="Base",t.Month2="2-Month",t.Month3="3-Month",t.Month6="6-Month",t.Month9="9-Month",t.Year1="1-Year",t.Year1Half="1.5-Year",t.Year2="2-Year",t.Year2Half="2.5-Year",t.Year3="3-Year",t.Year3Half="3.5-Year",t.Year4="4-Year",t.Year4Half="4.5-Year",t.Year5="5-Year",t.Year5Half="5.5-Year",t.Year6="6-Year",t.Year6Half="6.5-Year",t.Year7="7-Year",t.Year7Half="7.5-Year",t.Year8="8-Year";var s=[{availableToAffiliate:!0,name:i.Base,requiredTenureMonths:0},{availableToAffiliate:!0,name:i.Month2,requiredTenureMonths:2},{availableToAffiliate:!0,name:i.Month3,requiredTenureMonths:3},{availableToAffiliate:!0,name:i.Month6,requiredTenureMonths:6},{availableToAffiliate:!0,name:i.Month9,requiredTenureMonths:9},{availableToAffiliate:!0,name:i.Year1,requiredTenureMonths:12},{availableToAffiliate:!1,name:i.Year1Half,requiredTenureMonths:18},{availableToAffiliate:!1,name:i.Year2,requiredTenureMonths:24},{availableToAffiliate:!1,name:i.Year2Half,requiredTenureMonths:30},{availableToAffiliate:!1,name:i.Year3,requiredTenureMonths:36},{availableToAffiliate:!1,name:i.Year3Half,requiredTenureMonths:42},{availableToAffiliate:!1,name:i.Year4,requiredTenureMonths:48},{availableToAffiliate:!1,name:i.Year4Half,requiredTenureMonths:54},{availableToAffiliate:!1,name:i.Year5,requiredTenureMonths:60},{availableToAffiliate:!1,name:i.Year5Half,requiredTenureMonths:66},{availableToAffiliate:!1,name:i.Year6,requiredTenureMonths:72},{availableToAffiliate:!1,name:i.Year6Half,requiredTenureMonths:78},{availableToAffiliate:!1,name:i.Year7,requiredTenureMonths:84},{availableToAffiliate:!1,name:i.Year7Half,requiredTenureMonths:90},{availableToAffiliate:!1,name:i.Year8,requiredTenureMonths:96}]},279971:function(e,n,t){"use strict";t.d(n,{b:function(){return z}});var i,a,r=t(137703),o=t(14890),s=t(987145),l=t(625471),d=t(570526),u=t(570655),c=t(667294),m=t(734995),p=t(166825),h=t(400054),g=t(900140),f=t(270406),v=t(882429),y=t(206507),k=t(202912),S=t(268748),C=t(796441),b=t(831642),w=t(235948),E=t(344689),_=t(128416),N=t(532210),D=t(812140),M=t(287952),I=t(146747),T=t(23015),P=t(626650),R="hasDismissedChannelPointsPollCallout",A=(a=c.Component,(0,u.__extends)(B,a),B.prototype.render=function(){return this.state.isHidden?null:c.createElement(m.A,{margin:{bottom:1}},c.createElement(I.U,{message:c.createElement(T.Z,{pill:{label:(0,b.wv)("New!","NewPollModal--CopoCallout"),type:P.R.Brand},title:(0,b.wv)("Channel Points Now Available in Polls!","NewPollModal--CopoCallout"),description:c.createElement(m.A,{margin:{top:.5},color:f.Il.Alt2},(0,b.wv)("Give your viewers the ability to vote in Polls using their Channel Points by updating the settings below.","NewPollModal--CopoCallout"))}),closeButton:{"aria-label":(0,b.wv)("Close","NewPollModal--CopoCallout"),onClick:this.hideBanner}}))},B),L=t(753085),F=t(353488),U=t(382448),x=t(58661),O=t(900060);function B(e){var n=a.call(this,e)||this;return n.hideBanner=function(){n.setState({isHidden:!0}),n.props.onDismiss()},n.state={isHidden:b.tO.get(R+"_"+n.props.channelID,!1)},n}(n=i=i||{}).AdditionalVoting="poll-settings_additional-voting",n.BitsVoting="poll-settings_bits-voting",n.ChannelPointsVoting="poll-settings_channel-points-voting",n.ServiceError="poll-settings_service-error";var V,q,G=(q=c.Component,(0,u.__extends)(W,q),W.prototype.render=function(){var e=this.props,n=e.bitsEnabled,e=e.channelPointsEnabled;return c.createElement(m.A,{margin:{bottom:1}},c.createElement(p.cw,{label:(0,b.wv)("Settings","Polls--NewPollModal")},(n||e)&&c.createElement(m.A,{margin:{bottom:1}},c.createElement(L.J,{label:(0,b.wv)("Allow Additional Votes","Polls--PollSettings"),checked:this.props.allowAdditionalVoting,onChange:this.props.onAllowAdditionalVotingChange,"data-test-selector":i.AdditionalVoting})),n&&c.createElement(m.A,{margin:{bottom:1,left:2}},c.createElement(p.cw,{label:"",error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError,errorMessage:this.props.bitsPerVoteError,"data-test-selector":i.BitsVoting},c.createElement(m.A,{display:f.sS.Flex,flexDirection:f.Qb.Row,alignItems:f.g1.Center},c.createElement(m.A,{margin:{left:.5,right:1}},c.createElement(L.J,{label:"",checked:this.props.allowVotingWithBits,onChange:this.props.onAllowVotingWithBitsChange})),c.createElement(h.II,{type:h.n$.Number,disabled:!this.props.allowVotingWithBits,onChange:this.props.onBitsPerVoteChange,value:void 0!==this.props.bitsPerVote?String(this.props.bitsPerVote):"",maxLength:60,max:1e4,min:1,error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError}),c.createElement(m.A,{display:f.sS.Flex,margin:{left:1,right:.5}},c.createElement(F.JO,{asset:U.e.Bits})),c.createElement(x.V,null,(0,b.wv)("Bits per Vote","Polls--PollSettings"))))),e&&c.createElement(m.A,{margin:{bottom:1,left:2}},c.createElement(p.cw,{label:"",error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError,errorMessage:this.props.channelPointsPerVoteError,"data-test-selector":i.ChannelPointsVoting},c.createElement(m.A,{display:f.sS.Flex,flexDirection:f.Qb.Row,alignItems:f.g1.Center},c.createElement(m.A,{margin:{left:.5,right:1}},c.createElement(L.J,{label:"",checked:this.props.allowVotingWithChannelPoints,onChange:this.props.onAllowVotingWithChannelPointsChange})),c.createElement(h.II,{type:h.n$.Number,disabled:!this.props.allowVotingWithChannelPoints,onChange:this.props.onChannelPointsPerVoteChange,value:void 0!==this.props.channelPointsPerVote?String(this.props.channelPointsPerVote):"",max:1e4,maxLength:60,min:1,error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError}),c.createElement(m.A,{margin:{left:1,right:.5}},c.createElement(O.ZN,{channelLogin:this.props.channelLogin})),c.createElement(x.V,null,(0,b.wv)("{pointName} per Vote",{pointName:this.props.pointsName},"Polls--PollSettings")))))))},W),n=(V=c.Component,(0,u.__extends)(H,V),H.prototype.componentDidUpdate=function(e){e.data.loading&&!this.props.data.loading&&this.setPreferences()},H.prototype.componentDidMount=function(){this.props.data.loading||this.setPreferences()},H.prototype.render=function(){if(this.props.data.loading)return c.createElement(N.J,null);var e=(0,b.wv)("Start Poll","Polls--NewPollModal"),n=(0,b.wv)("Cancel","Polls--NewPollModal");return c.createElement(m.A,{display:f.sS.Flex,justifyContent:f.uM.Center,className:"new-poll-modal"},c.createElement(v.A,{size:v.C.Medium},c.createElement(y.x,{id:w.qL,title:(0,b.wv)("Create a New Poll","Polls--NewPollModal"),closeButton:{"aria-label":(0,b.wv)("Close","Polls--NewPollModal"),onClick:this.onClose}}),c.createElement(k.f,{padding:{x:4,bottom:1,top:1}},c.createElement(m.A,{display:f.sS.Flex,flexDirection:f.Qb.Column},this.renderCallout(),this.renderTitle(),this.renderChoices(),this.renderSettings(),this.renderDurationPicker(),this.state.showCreationErrorBox&&c.createElement(M.v,{message:this.getErrorMessage(),onClose:this.closeErrorMessage,showTryAgain:""===this.state.errorCode||this.state.errorCode===_.bDV.UNKNOWN}))),c.createElement(S.m,{primaryButtonProps:{"aria-label":e,children:e,onClick:this.onStartPoll,state:this.state.pendingCreation?C.BN.Loading:C.BN.Default},secondaryButtonProps:{"aria-label":n,children:n,onClick:this.props.closeModal},padding:{x:3,bottom:2}})))},H),t=t(719746);function H(){var i=null!==V&&V.apply(this,arguments)||this;return i.state={pendingCreation:!1,showCreationErrorBox:!1,errorCode:"",titleError:!1,title:"",choices:["","","","",""],choicesError:!1,allowAdditionalVoting:!1,allowVotingWithBits:!1,bitsPerVote:10,bitsPerVoteError:"",allowVotingWithChannelPoints:!1,channelPointsPerVote:200,channelPointsPerVoteError:"",durationMinutes:1},i.renderCallout=function(){var e=!(null===(n=null===(e=null===(n=i.props.data.community)||void 0===n?void 0:n.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===n||!n.isEnabled),n=!(null===(n=null===(n=i.props.data.channel)||void 0===n?void 0:n.latestPoll)||void 0===n||!n.settings.communityPointsVotes.isEnabled);return!e||n?null:c.createElement(A,{onDismiss:i.dismissCallout,channelID:i.props.channelID})},i.dismissCallout=function(){b.tO.set(R+"_"+i.props.channelID,!0)},i.renderTitle=function(){return c.createElement(m.A,{margin:{bottom:1}},c.createElement(p.cw,{label:(0,b.wv)("Question","Polls--NewPollModal"),error:i.state.titleError,errorMessage:(0,b.wv)("* You must provide a question","Polls--NewPollModal")},c.createElement(h.II,{type:h.n$.Text,value:i.state.title,onChange:i.onQuestionChange,maxLength:60,error:i.state.titleError})))},i.renderChoices=function(){return c.createElement(m.A,{margin:{bottom:1}},c.createElement(p.cw,{label:(0,b.wv)("Responses (Minimum 2)","Polls--NewPollModal"),error:i.state.choicesError,errorMessage:(0,b.wv)("* You must provide at least two choices","Polls--NewPollModal")},c.createElement(m.A,{margin:{bottom:1}},c.createElement(h.II,{type:h.n$.Text,onChange:i.onResponseChanged.bind(i,0),maxLength:25})),c.createElement(m.A,{margin:{bottom:1}},c.createElement(h.II,{type:h.n$.Text,onChange:i.onResponseChanged.bind(i,1),maxLength:25})),c.createElement(m.A,{margin:{bottom:1}},c.createElement(h.II,{type:h.n$.Text,onChange:i.onResponseChanged.bind(i,2),maxLength:25})),c.createElement(m.A,{margin:{bottom:1}},c.createElement(h.II,{type:h.n$.Text,onChange:i.onResponseChanged.bind(i,3),maxLength:25})),c.createElement(m.A,{margin:{bottom:1}},c.createElement(h.II,{type:h.n$.Text,onChange:i.onResponseChanged.bind(i,4),maxLength:25}))))},i.renderSettings=function(){var e=i.props.data,n=e.community,e=e.channel,e=!(!e||!e.cheer),n=!(null===(n=null===(n=null==n?void 0:n.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===n||!n.isEnabled);return c.createElement(G,{channelLogin:i.props.channelLogin,pointsName:i.getPointsName(),bitsEnabled:e,channelPointsEnabled:n,allowAdditionalVoting:i.state.allowAdditionalVoting,onAllowAdditionalVotingChange:i.onAllowAdditionalVotingChange,allowVotingWithBits:i.state.allowVotingWithBits,onAllowVotingWithBitsChange:i.onAllowVotingWithBitsChange,onBitsPerVoteChange:i.onBitsPerVoteChange,bitsPerVote:i.state.bitsPerVote,bitsPerVoteError:i.state.bitsPerVoteError,allowVotingWithChannelPoints:i.state.allowVotingWithChannelPoints,onAllowVotingWithChannelPointsChange:i.onAllowVotingWithChannelPointsChange,onChannelPointsPerVoteChange:i.onChannelPointsPerVoteChange,channelPointsPerVote:i.state.channelPointsPerVote,channelPointsPerVoteError:i.state.channelPointsPerVoteError})},i.renderDurationPicker=function(){return c.createElement(m.A,{margin:{bottom:1}},c.createElement(p.cw,{label:(0,b.wv)("Duration","Polls--NewPollModal")},c.createElement(g.P,{value:String(i.state.durationMinutes),onChange:i.onDurationSelectionChange},c.createElement("option",{value:"1"},(0,b.wv)("1m","Polls--NewPollModal")),c.createElement("option",{value:"2"},(0,b.wv)("2m","Polls--NewPollModal")),c.createElement("option",{value:"3"},(0,b.wv)("3m","Polls--NewPollModal")),c.createElement("option",{value:"5"},(0,b.wv)("5m","Polls--NewPollModal")),c.createElement("option",{value:"10"},(0,b.wv)("10m","Polls--NewPollModal")))))},i.getPointsName=function(){var e;return(null===(e=null===(e=null===(e=i.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.name)||(0,D.Fg)()},i.closeErrorMessage=function(){i.setState({showCreationErrorBox:!1})},i.onStartPoll=function(){return(0,u.__awaiter)(i,void 0,void 0,function(){var n,t;return(0,u.__generator)(this,function(e){switch(e.label){case 0:if(!this.checkInputs())return[2];this.setState({pendingCreation:!0}),n=[],this.state.choices.forEach(function(e){""!==e&&n.push({title:e})}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.createPoll((0,E.k_)({bitsCost:this.state.bitsPerVote,bitsVoting:this.state.allowVotingWithBits,communityPointsCost:this.state.channelPointsPerVote,isCommunityPointsVotingEnabled:this.state.allowVotingWithChannelPoints,durationSeconds:60*this.state.durationMinutes,ownedBy:this.props.channelID,multichoiceEnabled:!0,title:this.state.title,choices:n}))];case 2:return!(t=e.sent()).data.createPoll||t.data.createPoll.error?(this.setState({showCreationErrorBox:!0,pendingCreation:!1,errorCode:t.data.createPoll&&t.data.createPoll.error?t.data.createPoll.error.code:""}),[2]):(this.props.closeModal(),this.dismissCallout(),this.props.onPollCreated&&this.props.onPollCreated(),[3,4]);case 3:return e.sent(),this.setState({showCreationErrorBox:!0,pendingCreation:!1}),[3,4];case 4:return[2]}})})},i.checkInputs=function(){var e=!0;""===i.state.title&&(i.setState({titleError:!0}),e=!1);var n,t=0;return i.state.choices.forEach(function(e){""!==e&&t++}),t<2&&(i.setState({choicesError:!0}),e=!1),i.state.allowVotingWithChannelPoints&&(n=i.state.channelPointsPerVote||0,(n=i.checkChannelPointsInput(n))&&(i.setState({channelPointsPerVoteError:n}),e=!1)),i.state.allowVotingWithBits&&(n=i.state.bitsPerVote||0,(n=i.checkBitsInput(n))&&(i.setState({bitsPerVoteError:n}),e=!1)),e},i.onClose=function(){i.props.closeModal()},i.onQuestionChange=function(e){i.setState({title:e.target.value,titleError:""===e.target.value})},i.onBitsPerVoteChange=function(e){var n=parseInt(e.target.value||"0",10),e=i.checkBitsInput(n);i.setState({bitsPerVote:n,bitsPerVoteError:e})},i.checkBitsInput=function(e){var n="";return 1e4<e?n=(0,b.wv)("The maximum Bits per vote is {bits}",{bits:(0,b.uf)(1e4)},"Polls--NewPollModal"):e<=0&&(n=(0,b.wv)("The cost per vote must be at least 1 Bits.","Polls--NewPollModal")),n},i.onChannelPointsPerVoteChange=function(e){var n=parseInt(e.target.value||"0",10),e=i.checkChannelPointsInput(n);i.setState({channelPointsPerVote:n,channelPointsPerVoteError:e})},i.checkChannelPointsInput=function(e){var n="";return 1e6<e?n=(0,b.wv)("The maximum {pointName} per vote is {points}.",{pointName:i.getPointsName(),points:(0,b.uf)(1e6)},"Polls--NewPollModal"):e<=0&&(n=(0,b.wv)("The cost per vote must be at least 1 {pointName}.",{pointName:(null===(e=null===(e=null===(e=i.props.data.community)||void 0===e?void 0:e.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===e?void 0:e.name)||(0,b.wv)("Channel Point","Polls--NewPollModa")},"Polls--NewPollModal")),n},i.onResponseChanged=function(n,e){var t=e.target.value;i.setState(function(e){e=e.choices.slice(0);return e[n]=t,{choices:e}})},i.onAllowVotingWithBitsChange=function(e){var n=e.currentTarget.checked,e=n||i.state.allowVotingWithChannelPoints;i.setState({allowVotingWithBits:n,allowAdditionalVoting:e})},i.onAllowVotingWithChannelPointsChange=function(e){var n=e.currentTarget.checked,e=n||i.state.allowVotingWithBits;i.setState({allowVotingWithChannelPoints:n,allowAdditionalVoting:e})},i.onAllowAdditionalVotingChange=function(e){i.setState({allowAdditionalVoting:e.currentTarget.checked,allowVotingWithBits:e.currentTarget.checked,allowVotingWithChannelPoints:e.currentTarget.checked})},i.onDurationSelectionChange=function(e){e=parseInt(e.currentTarget.value,10);i.setState({durationMinutes:e})},i.setPreferences=function(){var e,n;i.props.data.channel&&i.props.data.channel.latestPoll&&(e=i.props.data.channel.latestPoll,n=Math.round(e.durationSeconds/60),i.setState({allowAdditionalVoting:e.settings.bitsVotes.isEnabled||e.settings.communityPointsVotes.isEnabled,allowVotingWithBits:e.settings.bitsVotes.isEnabled,bitsPerVote:e.settings.bitsVotes.cost||void 0,allowVotingWithChannelPoints:e.settings.communityPointsVotes.isEnabled,channelPointsPerVote:e.settings.communityPointsVotes.cost||void 0,durationMinutes:n}))},i.getErrorMessage=function(){var e=(0,b.wv)("Service Error","Polls--NewPollModal");switch(i.state.errorCode){case _.bDV.AUTOMOD_FAILED:e=(0,b.wv)("Content does not meet guidelines","Polls--NewPollModal");break;case _.bDV.POLL_ALREADY_ACTIVE:e=(0,b.wv)("A poll is already active","Polls--NewPollModal")}return e},i}function W(){return null!==q&&q.apply(this,arguments)||this}var z=(0,o.qC)((0,r.$j)(null,function(e){return(0,o.DE)({closeModal:l.Mr},e)}),(0,s.TA)(d,{name:"createPoll"}),(0,s.TA)(t,{options:function(e){return{variables:{id:e.channelID}}}}))(n)},611605:function(e,n,t){"use strict";t.d(n,{Y:function(){return a}});var i=t(137703),a=function(){return(0,i.v9)(function(e){return e.session.firstPageLoaded})}},922866:function(e,n,t){"use strict";t.d(n,{T_:function(){return o},dc:function(){return s}});var i,n=t(570655),a=t(667294),r=(t=(0,t(884979).k)("WatchPartyContext",{isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,updateWatchPartyActive:function(){return null},allowChatOnPageDuringWatchParty:function(){return null}})).context,o=t.withContext,s=(i=a.Component,(0,n.__extends)(l,i),l.prototype.render=function(){return a.createElement(r.Provider,{value:this.state},this.props.children)},l);function l(e){var n=i.call(this,e)||this;return n.updateWatchPartyActive=function(e){n.setState({isWatchPartyActive:e})},n.allowChatOnPageDuringWatchParty=function(e){n.setState({canChatOnPageDuringWatchParty:e})},n.state={isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,allowChatOnPageDuringWatchParty:n.allowChatOnPageDuringWatchParty,updateWatchPartyActive:n.updateWatchPartyActive},n}},23015:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var i,a=t(722122),r=t(841788),o=t(667294),n=t(129163),s=t(436713),l=t(150125),d=t(734995),u=t(270406),c=t(731110),m=t(626650),p=t(698375),h=n.ZP.div.withConfig({displayName:"ScCalloutMessage",componentId:"sc-1fc6c5e-0"})(["margin-top:0.1rem;"]),g=n.ZP.div.withConfig({displayName:"ScCalloutMessagePill",componentId:"sc-1fc6c5e-1"})(["display:inline-flex;align-items:center;position:relative;top:-0.1em;"]),f=(i=o.Component,(0,r.Z)(v,i),v.prototype.render=function(){var e=this.props.pill&&o.createElement(d.A,{margin:{right:.5},display:u.sS.InlineBlock},o.createElement(m.D,this.props.pill)),n=this.props.title&&"string"==typeof this.props.title?o.createElement(c.o,{display:u.sS.Inline,flexGrow:1,margin:{right:this.props.inline?.5:0},className:"tw-callout-message__title"},o.createElement(p.Dx,{type:l.yG.H4,size:p.Jj.Small},this.props.title)):this.props.title;return o.createElement(h,(0,a.Z)({className:"tw-callout-message"},(0,s.M)(this.props)),(e||n)&&o.createElement(d.A,{display:u.sS.Inline,className:"tw-callout-message__header"},e&&o.createElement(g,{className:"tw-callout-message__pill"},e),n),this.props.description&&o.createElement(d.A,{display:this.props.inline?u.sS.Inline:u.sS.Block},this.props.description))},v);function v(){return i.apply(this,arguments)||this}f.displayName="CalloutMessage"},146747:function(e,n,t){"use strict";t.d(n,{H:function(){return i},U:function(){return g}});var i,a=t(722122),r=t(667294),n=t(129163),o=t(311876),s=t(436713),l=t(246797),d=t(440837),u=t(26364),c=t(734995),m=t(270406),p=t(687036);(t=i=i||{})[t.Column=1]="Column",t[t.Row=2]="Row";var h=(0,n.ZP)(c.A).withConfig({displayName:"ScCalloutClose",componentId:"sc-1weuadv-0"})(["display:inline-flex;align-self:start;flex-shrink:0;float:right;"]),g=function(e){var n=e.orientation===i.Row?i.Row:i.Column,t=e.closeButton&&r.createElement(h,{className:"tw-callout__close",margin:{left:1}},r.createElement(u.b,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:d.hp.Small}));return r.createElement(c.A,(0,a.Z)({},(0,o.Bl)(e),(0,s.M)(e),{background:e.background,borderRadius:l.c.Medium,elevation:e.elevation,position:m.Ly.Relative,padding:void 0!==e.padding?e.padding:2}),r.createElement(p.T,{overlay:e.background&&e.background!==m.Aq.Base},r.createElement(c.A,{display:m.sS.Flex,alignItems:m.g1.Start,flexDirection:e.orientation===i.Row?m.Qb.Row:m.Qb.Column},r.createElement(c.A,{fullWidth:!0,display:m.sS.Flex,alignItems:m.g1.Start},e.figure&&r.createElement(c.A,{margin:{right:1},padding:.5,display:m.sS.Flex,flexGrow:0,flexShrink:0,alignItems:m.g1.Center,justifyContent:m.uM.Center},e.figure),r.createElement(c.A,{flexGrow:1},n===i.Column&&t,e.message)),e.actions&&r.createElement(c.A,{display:m.sS.Flex,justifyContent:m.uM.End,margin:{top:n===i.Column?1:0,left:n===i.Column?0:1},fullWidth:n===i.Column},e.actions),n===i.Row&&t)))};g.displayName="Callout",g.defaultProps={background:m.Aq.Base,elevation:1,padding:2},g.displayName="Callout"},303897:function(e,n,t){"use strict";t.d(n,{y:function(){return i}});var n=t(451969),t=t(260999),i=(0,n.S)(t.XU)},451969:function(e,n,t){"use strict";t.d(n,{S:function(){return i}});var b=t(419756),w=t(667294),E=t(411614);function i(C){function e(e){var n=e.show,t=e.anchorRef,i=e.options,a=e.popperRef,r=e.onRequestClose,o=e.onEnterComplete,s=e.onExitComplete,l=e.transitionType,d=e.transitionDuration,u=e.disableAriaHideApp,c=e.disableCloseOnClickOut,m=e.disableCloseOnEsc,p=e.disableFocusAfterRender,h=e.disableReturnFocusAfterClose,g=e.portalClassName,f=e.role,v=e["aria-label"],y=e["aria-labelledby"],k=e["aria-describedby"],S=e["aria-modal"],e=(0,b.Z)(e,["show","anchorRef","options","popperRef","onRequestClose","onEnterComplete","onExitComplete","transitionType","transitionDuration","disableAriaHideApp","disableCloseOnClickOut","disableCloseOnEsc","disableFocusAfterRender","disableReturnFocusAfterClose","portalClassName","role","aria-label","aria-labelledby","aria-describedby","aria-modal"]);return w.createElement(E.P,{show:n,anchorRef:t,options:i,popperRef:a,onRequestClose:r,onEnterComplete:o,onExitComplete:s,transitionType:l,transitionDuration:d,disableAriaHideApp:u,disableCloseOnClickOut:c,disableCloseOnEsc:m,disableFocusAfterRender:p,disableReturnFocusAfterClose:h,portalClassName:g,role:f,"aria-label":v,"aria-labelledby":y,"aria-describedby":k,"aria-modal":S},w.createElement(C,e))}return e.displayName="withDialogLayer("+(C.displayName||C.name)+")",e}},268748:function(e,n,t){"use strict";t.d(n,{m:function(){return c}});var i,a=t(722122),n=t(841788),r=t(667294),o=t(436713),s=t(796441),l=t(734995),d=t(270406),u=t(882429),c=(i=r.Component,(0,n.Z)(m,i),m.prototype.render=function(){var e=this.props.size===u.C.Small?{fullWidth:!0,flexGrow:1,flexShrink:1}:{};return r.createElement(l.A,(0,a.Z)({display:d.sS.Flex,alignItems:d.g1.Center,justifyContent:d.uM.Start,flexDirection:d.Qb.RowReverse,padding:this.props.padding},(0,o.M)(this.props)),r.createElement(l.A,e,r.createElement(s.zx,(0,a.Z)({type:s.L$.Primary,fullWidth:!0},this.props.primaryButtonProps))),r.createElement(l.A,e,this.props.secondaryButtonProps&&r.createElement(l.A,{padding:{right:1}},r.createElement(s.zx,(0,a.Z)({type:s.L$.Secondary,fullWidth:!0},this.props.secondaryButtonProps)))))},(n=m).displayName="ModalFooter",n.defaultProps={padding:{x:3,y:2}},n);function m(){return i.apply(this,arguments)||this}},466878:function(e,n,t){"use strict";e.exports=t.p+"assets/rocket-24cbe7633b981d31b334.svg"}}]);

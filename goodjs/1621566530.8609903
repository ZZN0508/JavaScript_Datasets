(window["webpackJsonp-ae-fe/home-ui-2"]=window["webpackJsonp-ae-fe/home-ui-2"]||[]).push([[2],{411:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.8","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.8","_id":"@alife/heaven-smart-banner-core@0.1.8","_inBundle":false,"_integrity":"sha1-rpa7pmekPiiHNX5vz8yGmnoEiZo=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.8","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.8","saveSpec":null,"fetchSpec":"0.1.8"},"_requiredBy":["/@ali/poplayer-web-container"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.8.tgz","_spec":"0.1.8","_where":"/cloud/source_code","author":{"name":"è€é‚¬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"è€é‚¬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"åŸºç¡€ç»„ä»¶","biz":"åŸºç¡€é“¾è·¯","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.8/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.8"}')},412:function(e,t,n){"use strict";var o={},r=decodeURIComponent,i=encodeURIComponent;function a(e){return"string"==typeof e}function s(e){return a(e)&&""!==e}function p(e){if(!s(e))throw new TypeError("Cookie name must be a non-empty string")}function c(e){return e}o.get=function(e,t){p(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(a(e)&&e.length>0)for(var o,i,s,p=t?r:c,d=e.split(/;\s/g),l=0,u=d.length;l<u;l++){if((s=d[l].match(/([^=]+)=/i))instanceof Array)try{o=r(s[1]),i=p(d[l].substring(s[1].length+1))}catch(e){}else o=r(d[l]),i="";o&&(n[o]=i)}return n}(document.cookie,!t.raw);return(t.converter||c)(n[e])},o.set=function(e,t,n){p(e);var o=(n=n||{}).expires,r=n.domain,a=n.path;n.raw||(t=i(String(t)));var c=e+"="+t,d=o;return"number"==typeof d&&(d=new Date).setDate(d.getDate()+o),d instanceof Date&&(c+="; expires="+d.toUTCString()),s(r)&&(c+="; domain="+r),s(a)&&(c+="; path="+a),n.secure&&(c+="; secure"),document.cookie=c,c},o.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var d=o;t.default=d},413:function(e,t,n){"use strict";t.getFixedDomainUrl=function(){return o};var o="aliexpress.com";[{reg:/aliexpress.ru/,domain:"aliexpress.ru"},{reg:/tmall.ru/,domain:"tmall.ru"}].forEach((function(e){e.reg.test(window.location.host)&&(o=e.domain)}))},414:function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new d((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function r(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function i(e){return"[object Object]"=={}.toString.call(e)}function a(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function s(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+o.toGMTString()}function p(e,t){for(var n=e.split("."),o=t.split("."),r=0;3>r;r++){var i=Number(n[r]),a=Number(o[r]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function c(e){this.id=""+(new Date).getTime()+ ++v,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=m.slice(0)}var d=e.Promise,l=(d||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var u={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},m=[],f={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(o)||[],i=r[2]||"taobao.com",a=r[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),u.mainDomain=i,u.subDomain=a,u.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(u.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(u.AliAppName=o[1],u.AliAppVersion=o[2]);var r=t.match(/AMapClient\/([\d\.\_]+)/i);r&&(u.AliAppName="AMAP",u.AliAppVersion=r[1])}();var g=/[Android|Adr]/.test(e.navigator.userAgent),h="AP"===u.AliAppName&&p(u.AliAppVersion,"10.1.2")>=0||"KB"===u.AliAppName&&p(u.AliAppVersion,"7.1.62")>=0||g&&"AMAP"===u.AliAppName&&p(u.AliAppVersion,"1.0.1")>=0,v=0;c.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},c.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},c.prototype.__processRequestType=function(n){var o=this,r=this.params,a=this.options;if(!0===u.H5Request&&(a.H5Request=!0),!0===u.WindVaneRequest&&(a.WindVaneRequest=!0),!1===a.H5Request&&!0===a.WindVaneRequest){if(!h&&(!t.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::ç¼ºå°‘WindVaneçŽ¯å¢ƒ");if(h&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::æ”¯ä»˜å®é€šé“æœªå‡†å¤‡å¥½ï¼Œæ”¯ä»˜å®è¯·è§ https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===a.H5Request)a.WindVaneRequest=!1;else if(void 0===a.WindVaneRequest&&void 0===a.H5Request){if(t.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:a.H5Request=!0,h){if(a.WindVaneRequest=a.H5Request=void 0,e.AlipayJSBridge)if(i(r.data))a.WindVaneRequest=!0;else try{i(JSON.parse(r.data))?a.WindVaneRequest=!0:a.H5Request=!0}catch(e){a.H5Request=!0}else a.H5Request=!0;"AMAP"!==u.AliAppName||r.useNebulaJSbridgeWithAMAP||(a.WindVaneRequest=a.H5Request=void 0,a.H5Request=!0)}window.self!==window.top&&(a.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&a.mainDomain.indexOf("youku.com")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),a.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),n?n().then((function(){var e=a.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===a.WindVaneRequest&&h&&a.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!h||!isNaN(a.retJson.error)||-1!==a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return h&&i(r.data)&&(r.data=JSON.stringify(r.data)),u.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);void 0===a.retJson.api&&void 0===a.retJson.v&&(a.retJson.api=r.api,a.retJson.v=r.v,a.retJson.ret=[a.retJson.error+"::"+a.retJson.errorMessage],a.retJson.data={})}})):void 0};var y="_m_h5_c",_="_m_h5_tk";c.prototype.__getTokenFromAlipay=function(){var t=n(),o=this.options,r=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===o.useAlipayJSBridge&&!r&&h&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(o.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},c.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&a(y)?e.token=a(y).split(";")[0]:e.token=e.token||a(_),e.token&&(e.token=e.token.split("_")[0]),d.resolve()},c.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},c.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?l.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var r=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){r=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(r)}n.maxRetryTimes>0&&(s(y,n.pageDomain,"*"),s(_,n.mainDomain,n.subDomain),s("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=f.TOKEN_EXPIRED}})):void e()},c.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var r=o.hostSetting[e.location.hostname];r.prefix&&(o.prefix=r.prefix),r.subDomain&&(o.subDomain=r.subDomain),r.mainDomain&&(o.mainDomain=r.mainDomain)}if(!0===o.H5Request){var i="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),s=(new Date).getTime(),p=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,r,i,a;return r=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^a^r^i:n|o?1073741824&a?3221225472^a^r^i:1073741824^a^r^i:a^r^i}function o(e,o,r,i,a,s,p){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(o,r,i),a),p)),n(t(e,s),o)}function r(e,o,r,i,a,s,p){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(o,r,i),a),p)),n(t(e,s),o)}function i(e,o,r,i,a,s,p){return e=n(e,n(n(function(e,t,n){return e^t^n}(o,r,i),a),p)),n(t(e,s),o)}function a(e,o,r,i,a,s,p){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(o,r,i),a),p)),n(t(e,s),o)}function s(e){var t,n="",o="";for(t=0;3>=t;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var p,c,d,l,u,m,f,g,h,v;for(v=function(e){for(var t,n=e.length,o=n+8,r=16*((o-o%64)/64+1),i=new Array(r-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[r-2]=n<<3,i[r-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),m=1732584193,f=4023233417,g=2562383102,h=271733878,p=0;p<v.length;p+=16)c=m,d=f,l=g,u=h,m=o(m,f,g,h,v[p+0],7,3614090360),h=o(h,m,f,g,v[p+1],12,3905402710),g=o(g,h,m,f,v[p+2],17,606105819),f=o(f,g,h,m,v[p+3],22,3250441966),m=o(m,f,g,h,v[p+4],7,4118548399),h=o(h,m,f,g,v[p+5],12,1200080426),g=o(g,h,m,f,v[p+6],17,2821735955),f=o(f,g,h,m,v[p+7],22,4249261313),m=o(m,f,g,h,v[p+8],7,1770035416),h=o(h,m,f,g,v[p+9],12,2336552879),g=o(g,h,m,f,v[p+10],17,4294925233),f=o(f,g,h,m,v[p+11],22,2304563134),m=o(m,f,g,h,v[p+12],7,1804603682),h=o(h,m,f,g,v[p+13],12,4254626195),g=o(g,h,m,f,v[p+14],17,2792965006),m=r(m,f=o(f,g,h,m,v[p+15],22,1236535329),g,h,v[p+1],5,4129170786),h=r(h,m,f,g,v[p+6],9,3225465664),g=r(g,h,m,f,v[p+11],14,643717713),f=r(f,g,h,m,v[p+0],20,3921069994),m=r(m,f,g,h,v[p+5],5,3593408605),h=r(h,m,f,g,v[p+10],9,38016083),g=r(g,h,m,f,v[p+15],14,3634488961),f=r(f,g,h,m,v[p+4],20,3889429448),m=r(m,f,g,h,v[p+9],5,568446438),h=r(h,m,f,g,v[p+14],9,3275163606),g=r(g,h,m,f,v[p+3],14,4107603335),f=r(f,g,h,m,v[p+8],20,1163531501),m=r(m,f,g,h,v[p+13],5,2850285829),h=r(h,m,f,g,v[p+2],9,4243563512),g=r(g,h,m,f,v[p+7],14,1735328473),m=i(m,f=r(f,g,h,m,v[p+12],20,2368359562),g,h,v[p+5],4,4294588738),h=i(h,m,f,g,v[p+8],11,2272392833),g=i(g,h,m,f,v[p+11],16,1839030562),f=i(f,g,h,m,v[p+14],23,4259657740),m=i(m,f,g,h,v[p+1],4,2763975236),h=i(h,m,f,g,v[p+4],11,1272893353),g=i(g,h,m,f,v[p+7],16,4139469664),f=i(f,g,h,m,v[p+10],23,3200236656),m=i(m,f,g,h,v[p+13],4,681279174),h=i(h,m,f,g,v[p+0],11,3936430074),g=i(g,h,m,f,v[p+3],16,3572445317),f=i(f,g,h,m,v[p+6],23,76029189),m=i(m,f,g,h,v[p+9],4,3654602809),h=i(h,m,f,g,v[p+12],11,3873151461),g=i(g,h,m,f,v[p+15],16,530742520),m=a(m,f=i(f,g,h,m,v[p+2],23,3299628645),g,h,v[p+0],6,4096336452),h=a(h,m,f,g,v[p+7],10,1126891415),g=a(g,h,m,f,v[p+14],15,2878612391),f=a(f,g,h,m,v[p+5],21,4237533241),m=a(m,f,g,h,v[p+12],6,1700485571),h=a(h,m,f,g,v[p+3],10,2399980690),g=a(g,h,m,f,v[p+10],15,4293915773),f=a(f,g,h,m,v[p+1],21,2240044497),m=a(m,f,g,h,v[p+8],6,1873313359),h=a(h,m,f,g,v[p+15],10,4264355552),g=a(g,h,m,f,v[p+6],15,2734768916),f=a(f,g,h,m,v[p+13],21,1309151649),m=a(m,f,g,h,v[p+4],6,4149444226),h=a(h,m,f,g,v[p+11],10,3174756917),g=a(g,h,m,f,v[p+2],15,718787259),f=a(f,g,h,m,v[p+9],21,3951481745),m=n(m,c),f=n(f,d),g=n(g,l),h=n(h,u);return(s(m)+s(f)+s(g)+s(h)).toLowerCase()}(o.token+"&"+s+"&"+a+"&"+n.data),c={jsv:"2.6.1",appKey:a,t:s,sign:p},d={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===c[e]&&void 0===d[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(c[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){c[e]=n.ext_querys[e]})),o.getJSONP?c.type="jsonp":o.getOriginalJSONP?c.type="originaljsonp":(o.getJSON||o.postJSON)&&(c.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?c.type="originaljsonp":(o.getJSON||o.postJSON)&&(c.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?c.type="jsonp":(o.getJSON||o.postJSON)&&(c.type="json"))),!0===o.useJsonpResultType&&"originaljson"===c.type&&delete c.type,o.dangerouslySetProtocol&&(i=o.dangerouslySetProtocol+":"+i),o.querystring=c,o.postdata=d,o.path=i}t()},c.prototype.__processUnitPrefix=function(e){e()};var w=0;c.prototype.__requestJSONP=function(e){function t(e){if(c&&clearTimeout(c),d.parentNode&&d.parentNode.removeChild(d),"TIMEOUT"===e)window[p]=function(){window[p]=void 0;try{delete window[p]}catch(e){}};else{window[p]=void 0;try{delete window[p]}catch(e){}}}var o=n(),i=this.params,a=this.options,s=i.timeout||2e4,p="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++w,c=setTimeout((function(){e(a.timeoutErrMsg||"TIMEOUT::æŽ¥å£è¶…æ—¶"),t("TIMEOUT")}),s);a.querystring.callback=p;var d=document.createElement("script");return d.src=a.path+"?"+r(a.querystring)+"&"+r(a.postdata),d.async=!0,d.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::æŽ¥å£å¼‚å¸¸é€€å‡º")},window[p]=function(){a.results=Array.prototype.slice.call(arguments),t(),o.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(d),o.promise},c.prototype.__requestJSON=function(t){function o(e){l&&clearTimeout(l),"TIMEOUT"===e&&c.abort()}var i=n(),s=this.params,p=this.options,c=new e.XMLHttpRequest,d=s.timeout||2e4,l=setTimeout((function(){t(p.timeoutErrMsg||"TIMEOUT::æŽ¥å£è¶…æ—¶"),o("TIMEOUT")}),d);p.CDR&&a(y)&&(p.querystring.c=decodeURIComponent(a(y))),c.onreadystatechange=function(){if(4==c.readyState){var e,n,r=c.status;if(r>=200&&300>r||304==r){o(),e=c.responseText,n=c.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,p.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::è§£æžJSONå¤±è´¥")}}else o("ABORT"),t(p.abortErrMsg||"ABORT::æŽ¥å£å¼‚å¸¸é€€å‡º")}};var u,m,f=p.path+"?"+r(p.querystring);p.getJSON?(u="GET",f+="&"+r(p.postdata)):p.postJSON&&(u="POST",m=r(p.postdata)),c.open(u,f,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var g=s.ext_headers||s.headers;if(g)for(var h in g)c.setRequestHeader(h,g[h]);return c.send(m),i.promise},c.prototype.__requestWindVane=function(e){function o(e){a.results=[e],r.resolve()}var r=n(),i=this.params,a=this.options,s=i.data,p=i.api,c=i.v,d=a.postJSON?1:0,l=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?l="originaljson":"string"===i.valueType&&(l="")),!0===a.useJsonpResultType&&(l="");var u,m,f="https"===location.protocol?1:0,g=i.isSec||0,h=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,y=i.ext_headers||{},_=i.ext_querys||{};u=2*(m=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(h="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(g=i.secType);var w={api:p,v:c,post:String(d),type:l,isHttps:String(f),ecode:String(v),isSec:String(g),param:JSON.parse(s),timer:m,sessionOption:h,ext_headers:y,ext_querys:_};i.ttid&&!0===a.dangerouslySetWVTtid&&(w.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(w,i.dangerouslySetWindvaneParams);var b="MtopWVPlugin";return"string"==typeof i.customWindVaneClassName&&(b=i.customWindVaneClassName),t.windvane.call(b,"send",w,o,o,u),r.promise},c.prototype.__requestAlipay=function(t){var o=n(),r=this.params,a=this.options,s={apiName:r.api,apiVersion:r.v,needEcodeSign:"1"===String(r.ecode),headers:r.ext_headers||{},usePost:!!a.postJSON};i(r.data)||(r.data=JSON.parse(r.data)),s.data=r.data,r.ttid&&!0===a.dangerouslySetWVTtid&&(s.ttid=r.ttid),(a.getJSON||a.postJSON||a.getOriginalJSONP)&&(s.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?s.type="originaljson":"string"===r.valueType&&delete s.type),!0===a.useJsonpResultType&&delete s.type,Object.assign&&r.dangerouslySetAlipayParams&&Object.assign(s,r.dangerouslySetAlipayParams);var p="mtop";return"string"==typeof r.customAlipayJSBridgeApi&&(p=r.customAlipayJSBridgeApi),e.AlipayJSBridge.call(p,s,(function(e){a.results=[e],o.resolve()})),o.promise},c.prototype.__processRequest=function(e,t){var n=this;return l.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return h?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::é”™è¯¯çš„è¯·æ±‚ç±»åž‹")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var r=t.c;e.CDR&&r&&function(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")+(o.sameSite?";Samesite="+o.sameSite:"")}(y,r,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),o.indexOf("SUCCESS")>-1?t.retType=f.SUCCESS:t.retType=f.ERROR,e.retJson=t}))},c.prototype.__sequence=function(e){var t=this,o=[],r=[];e.forEach((function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=n(),p=n();o.push((function(){return s=n(),(a=i.call(t,(function(e){return s.resolve(e),p.promise}),(function(e){return s.reject(e),p.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),r.push((function(e){return p.resolve(e),a}))}}));for(var i,a=l;i=o.shift();)a=a.then(i);for(;i=r.pop();)a=a.then(i);return a};var b=function(e){e()},x=function(e){e()};c.prototype.request=function(n){var r=this;if(this.options=o(n||{},u),!d){var i="å½“å‰æµè§ˆå™¨ä¸æ”¯æŒPromiseï¼Œè¯·åœ¨windowså¯¹è±¡ä¸ŠæŒ‚è½½Promiseå¯¹è±¡";throw t.mtop={ERROR:i},new Error(i)}var a=d.resolve([b,x]).then((function(e){var t=e[0],n=e[1];return r.__sequence([t,r.__processRequestMethod,r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest,n])})).then((function(){var e=r.options.retJson;return e.retType!==f.SUCCESS?d.reject(e):r.options.successCallback?void r.options.successCallback(e):d.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:f.ERROR}):n="string"==typeof e?{ret:[e],retJson:f.ERROR}:void 0!==e?e:r.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:r.params.api,data:r.params.data,v:r.params.v,retJson:n}),r.options.failureCallback?void r.options.failureCallback(n):d.reject(n)}));return this.__processRequestType(),r.options.H5Request&&(r.constructor.__firstProcessor||(r.constructor.__firstProcessor=a),b=function(e){r.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new c(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new c(e).request(o)},t.mtop.H5Request=function(e,t,n){var o={H5Request:!0,successCallback:t,failureCallback:n||t};return new c(e).request(o)},t.mtop.middlewares=m,t.mtop.config=u,t.mtop.RESPONSE_TYPE=f,t.mtop.CLASS=c}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function o(t,o){var r=this,i=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),p=Math.max(s.width,window.innerWidth)/i,c=Math.max(s.height,window.innerHeight)/i;a.style.cssText=["-webkit-transform:scale("+i+") translateZ(0)","-ms-transform:scale("+i+") translateZ(0)","transform:scale("+i+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+p+"px","height:"+c+"px","z-index:2147483647","position:"+(p>800?"fixed":"absolute"),"left:0","top:0px","background:"+(p>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var d=document.createElement("div");d.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),d.innerText=t;var l=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),u=document.createElement("img");u.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),u.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var m=document.createElement("iframe");m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),l?(d.appendChild(u),a.appendChild(d)):(u.style.cssText=["position:absolute","width:15px","height:15px","top:102px","left:"+(p/2-185+390)+"px","cursor: pointer","border:0","z-index:1","overflow:hidden"].join(";"),a.appendChild(u),m.style.cssText=["position:absolute","top:92px","left:"+(p/2-185)+"px","width:420px","height:320px","border:0","background:#FFF","overflow:hidden"].join(";")),a.appendChild(m),a.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(a),m.src=o,u.addEventListener("click",(function(){r.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)}),!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop åˆå§‹åŒ–å¤±è´¥ï¼");var r=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,o=this.options,r=this.params;return e().then((function(){var e=o.retJson,i=e.ret,p=navigator.userAgent.toLowerCase(),c=p.indexOf("safari")>-1&&p.indexOf("chrome")<0&&p.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!o.WindVaneRequest&&(!0===a.LoginRequest||!0===o.LoginRequest||!0===r.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::ç¼ºå°‘lib.login");if(!0!==o.safariGoLogin||!c||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::ç”¨æˆ·å–æ¶ˆç™»å½•"):new Error("LOGIN_FAILURE::ç”¨æˆ·ç™»å½•å¤±è´¥")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var o={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.antiFloodRequest=function(e,t,n){var o={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var o={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.middlewares.push((function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then((function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var p="_m_h5_smt",c=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(p),d=!1;if(!0===i.saveAntiCreepToken&&c)for(var l in c=JSON.parse(c))s[l]&&(d=!0);if(!0===i.saveAntiCreepToken&&c&&!d){for(var l in c)s[l]=c[l];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new r((function(r,a){function c(){l.removeEventListener("close",c),e.removeEventListener("message",d),a("USER_INPUT_CANCEL::ç”¨æˆ·å–æ¶ˆè¾“å…¥")}function d(t){var o;try{o=JSON.parse(t.data)||{}}catch(e){}if(o&&"child"===o.type){var u;l.removeEventListener("close",c),e.removeEventListener("message",d),l.hide();try{for(var m in"string"==typeof(u=JSON.parse(decodeURIComponent(o.content)))&&(u=JSON.parse(u)),u)s[m]=u[m];!0===i.saveAntiCreepToken?(document.cookie=p+"="+JSON.stringify(u)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(r)}catch(e){a("USER_INPUT_FAILURE::ç”¨æˆ·è¾“å…¥å¤±è´¥")}}}var l=new o("",t.data.url);l.addEventListener("close",c,!1),e.addEventListener("message",d,!1),l.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},425:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"getAffCookieData",(function(){return h})),n.d(o,"parseUrl",(function(){return v})),n.d(o,"getParameterByName",(function(){return y})),n.d(o,"isRuDomain",(function(){return _})),n.d(o,"isFunction",(function(){return w})),n.d(o,"serializeParams",(function(){return b})),n.d(o,"addUrlParams",(function(){return x})),n.d(o,"createRedirectUrl",(function(){return S})),n.d(o,"createCallAppUrl",(function(){return R})),n.d(o,"createAppStoreUrl",(function(){return O})),n.d(o,"jsonParse",(function(){return C})),n.d(o,"getPageCode",(function(){return A})),n.d(o,"getPageSpm",(function(){return E})),n.d(o,"isDebug",(function(){return T})),n.d(o,"isSmbLog",(function(){return k})),n.d(o,"getDay",(function(){return I})),n.d(o,"getProductId",(function(){return N})),n.d(o,"getDomain",(function(){return q})),n.d(o,"getDefaultTargetUrl",(function(){return P})),n.d(o,"isAndroid",(function(){return J})),n.d(o,"removeSmbUrlKey",(function(){return D})),n.d(o,"SCHEME_MAP",(function(){return U})),n.d(o,"fixCallUrlParams",(function(){return L}));var r={};n.r(r),n.d(r,"sendPoint",(function(){return M}));var i=n(16),a=n.n(i),s=n(32),p=n.n(s),c=n(77),d=n.n(c),l=n(2),u=n.n(l),m=n(411),f=n(4),g=n.n(f);function h(){return{aeuCid:g.a.getAeucid(),browserId:g.a.getACS_RT(),lang:g.a.getLocale()||"",shipToCountry:g.a.getRegion()||"",currency:g.a.getCurrency()||"",accountId:g.a.getMemberSeq()||""}}function v(e){var t={},n=e.match(/\?[^#]*/);return n&&1!==n[0].length?(n[0].slice(1).split("&").forEach((function(e){n=e.split("="),t[n[0]]=decodeURIComponent(n[1]||"")})),t):t}function y(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function _(){return/aliexpress\.ru/.test(window.location.host)}function w(e){return"function"===(typeof e).toLowerCase()}function b(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function x(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+b(t):e+"?"+b(t)}function S(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e?x(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""}function R(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n,r=h(),i={};r.aeuCid&&(i.aff_trace_key=t.aeuCid||r.aeuCid||"",i.aff_platform=t.aff_platform||"msite",i.browser_id=t.browserId||r.browserId||"");var a=t.accountId||r.accountId||"";return a&&(i.accountId=a),x(e,u()({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},i,o))}function O(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n;return x(e,u()({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},o))}function C(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t}function A(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()}var E=function(){var e="",t="";try{var n=document.querySelector('meta[name="data-spm"]');e=n?n.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(n){e="",t=""}var o=[e,t].join(".");return function(){return o}}(),T=/true/.test(y("isSmbDebug")),k=/true/.test(y("isSmbLog"));function I(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t}function N(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function q(){return _()?"m.aliexpress.ru":"m.aliexpress.com"}function P(){return"//"+q()+"/download-landing.html"}function J(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}function D(e){void 0===e&&(e={});var t={};for(var n in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(n)>-1||(t[n]=e[n]);return t}var U={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};function L(e){void 0===e&&(e="");var t=e.trim(),n=v(e),o=window.location.href,r=D(v(o||"")||{});if(t.indexOf(U.DETAIL)>-1){var i=n.productId?n.productId:N(o),a=u()({},n,{productId:i});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){r[e]&&(a[e]=r[e])})),t=x(U.DETAIL,a)}if(t.indexOf(U.STORE)>-1){if(J()){var s={url:o};t=x(U.GOTO,s)}else{var p=u()({},n,{sellerAdminSeq:n.sellerId||r.sellerId||"",shopId:n.shopId||r.sellerId||""});t=x(U.STORE,p)}return t}return t.indexOf(U.GOTO)>-1?n.url?t:t=x(t,u()({},n,{url:o})):t}function j(e){try{var t=u()({st_page_id:window.dmtrack_pageid||""},e.params),n=b(t);k&&console.log("åŸ‹ç‚¹ï¼š","path:"+e.path+", event:"+e.event+", å‚æ•°ï¼š",t),window.goldlog.record(e.path,e.event,n,"GET")}catch(e){}}function M(e,t){void 0===e&&(e="click"),void 0===t&&(t={}),"exposure"===e?function(e){j({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){j({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)}var F=m.version,H=window.location.host,W=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var n=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=n.callAppUrl}),0);var o=J()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=u()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(n.redirectUrl),callAppUrl:encodeURIComponent(n.callAppUrl)},e.getCommonPointParams());n.sendPoint&&M("click",t),w(n.callAppCallback)&&n.callAppCallback(!1,t,n),n.needRedirect&&(window.location.href=n.redirectUrl),e.clearRedirectField()}),o),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=F,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:A(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[E(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":y("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=S(t.targetUrl||P(),t)||"",t.callAppUrl=R(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return u()({host:H,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;M("exposure",u()({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var n=u()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&M("click",n),w(t.callAppCallback)&&t.callAppCallback(!0,n),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}(),V=null;var B=o,z=1,G=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+z,this.containerId="copy_box_"+z;var t=this.getCopyBoxHtml(e.text),n=document.getElementsByTagName("body")[0],o=document.createElement("div");o.setAttribute("style","position: relative"),o.setAttribute("id",this.containerId),o.innerHTML=t,n.appendChild(o),this.isDestory=!1,z+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var n=!1;document.queryCommandSupported("copy")&&(n=document.execCommand("copy",!1,null)),e&&e(n)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),$=n(412),K=n(413),X=function(e,t){var n=$.default.get(e,{domain:(0,K.getFixedDomainUrl)(),path:"/",raw:!0})||"",o=new RegExp("(.*&?"+t+"=)(.*?)(&.*|$)");n.match(o);var r=RegExp.$2;return o.test(n)&&function(e,t){var n={b_localeFormat:/^[a-z]{2}_[A-Z]{2}$/,c_tpFormat:/^[A-Z]{3}$/,regionFormat:/^[A-Z]{2,3}$/,signFormat:/^(y|n)$/,x_as_iFormat:/^([A-Za-z0-9]|(%))+/,acs_rtFormat:/^[A-Za-z0-9]+$/};return!/(&|=)/.test(t)&&(t&&n[e+"Format"]&&n[e+"Format"].test(t))}(t,r)?r:""};window.__getCookie=X;var Y="poplayer-web-container-cachetimes",Z=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),Q=Z.substr(Z.indexOf("?")),ee={};Q&&Q.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,o){return ee[t]=decodeURIComponent(o),""}));var te=n(7),ne=n(165),oe=n.n(ne);function re(e,t){oe.a.error(new Error(e),{filename:t}),Object(te.c)(new Error(e))}function ie(e,t,n,o){if(void 0===n&&(n=""),void 0===o&&(o=""),t)return oe.a.api.success(e,n,"200"),void Object(te.b)({url:e,rtype:"mtop"});try{"object"==typeof o&&(o=JSON.stringify(o))}catch(e){}oe.a.api.error(e,n,"ERROR",o),Object(te.a)({url:e,rtype:"mtop",msg:o})}function ae(e,t,n){var o,r,i;"detail"===(null===(o=window)||void 0===o||null===(r=o.g_SPM)||void 0===r||null===(i=r._current_spm)||void 0===i?void 0:i.b)&&"poplayerShow"===e&&oe.a.report({t10:Promise.resolve(n)}),Object(te.h)(e,{et:t,xpath:"html/body/div",c1:n})}var se=!1;window.lib&&window.lib.mtop||(se=!0,n(414));var pe=function(){var e=p()(a.a.mark((function e(t,n){var o,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),se&&((o=window.lib.mtop.config).H5Request=!0,o.prefix=ee.__prefix||"acs",o.subDomain="",o.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com"),r=u()({},t,{v:t.v||"1.0",encode:"1",ecode:1,appKey:24815441,data:t.data}),i=Date.now(),e.abrupt("return",window.lib.mtop.request(r).then((function(e){var n,o;null!=e&&null!==(n=e.data)&&void 0!==n&&n.success?ie(t.api,!0,""+(Date.now()-i)):ie(t.api,!1,""+(Date.now()-i),null==e||null===(o=e.ret)||void 0===o?void 0:o[0]);return e})).catch((function(e){throw ie(t.api,!1,""+(Date.now()-i),""+e),e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(e,t){var n,o,r,i;void 0===t&&(t="pc");var a=X("aep_usuc_f","b_locale"),s=X("aep_usuc_f","region"),p=a&&(null==a||null===(n=a.split("_"))||void 0===n?void 0:n[0])+"_"+s,c=X("aep_usuc_f","c_tp"),d=X("xman_us_f","acs_rt"),l=X("xman_us_f","x_as_i");return pe({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",data:{_currency:c,_lang:p,clientType:t,positionSign:e,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(o=window)||void 0===o||null===(r=o.location)||void 0===r?void 0:r.href,appAffiParameters:decodeURIComponent(l||"")||"",acsRt:d,referUrl:null===(i=document)||void 0===i?void 0:i.referrer}})}})};function de(e){throw e}var le={};try{localStorage.getItem(Y)&&(le=JSON.parse(localStorage.getItem(Y)||"")||{})}catch(e){le={}}var ue,me=function(){return le},fe=(ue={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(o=le[t]).times-o.showTimes>0?u()({},le,((n={})[t]=u()({},o,{showTimes:o.showTimes+1}),n)):le;case"addTime":return function(e,t){var n,o=le[e];return u()({},le,((n={})[e]=u()({},o,{showTimes:o.showTimes-t}),n))}(e.payload.key,e.payload.times);default:de("action should has type property")}var t,n,o},afterProcess:[function(e){le=e,localStorage.setItem(Y,JSON.stringify(le))}]},function(e){var t;void 0===e&&(e={});var n=ue.reducer(e);null==ue||null===(t=ue.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),ge=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],he=function(){var e="postMessage"in window;function t(e,t,n){var o="";if(arguments.length<2?o="target error - target and name are both required":"object"!=typeof e?o="target error - target itself must be window object":"string"!=typeof t&&(o="target error - target name must be string type"),o)throw new Error(o);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var o=new t(e,n,this.prefix);this.targets[n]=o},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==ge.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),o=(e=n[1],n[0].split("|")),r=o[0],i=o[1],a=0;a<t.listenFunc.length;a++)r+i===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,o=!1;t<n;t++)if(this.listenFunc[t]==e){o=!0;break}o||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}();function ve(e,t,n){var o=e.indexOf("?");return o>=0&&(o<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}var ye=n(35);function _e(e){return we.apply(this,arguments)}function we(){return(we=p()(a.a.mark((function e(t){var n,o,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.type,o=d()(t,["type"]),Object.keys(o||{}).reduce((function(e,n){var r=o[n];return t[n]=r,r?e+"&"+n+"="+r:e}),""),r=[""+t.log_key,"click"===n?"CLK":"EXP"],"poplayer","click"===n?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer","CLK"===r[1]?Object(ye.a)(t):Object(ye.b)(t)}catch(e){re("poplayer æ‰“ç‚¹ä¸ŠæŠ¥å‡ºé”™:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=window.navigator.userAgent;function xe(){return!!be.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}var Se=n(0),Re=n.n(Se),Oe=n(47),Ce=n.n(Oe);var Ae=function(e,t,n){var o,r,i,a,s=document.createElement("div");document.body.appendChild(s);var p=null==t||null===(o=t.params)||void 0===o?void 0:o.jsComboUrl,c=null===(r=p.match(/@ali\/gmod-(poplayer|pop)-[a-z]+/))||void 0===r?void 0:r[0],d=document.createElement("script");return d.src=p,null===(i=document.getElementsByTagName("head"))||void 0===i||null===(a=i[0])||void 0===a||a.appendChild(d),d.onload=function(){var o,r=document.body.getAttribute("data-spm")||"0";if(null!==(o=window)&&void 0!==o&&o[c]){var i=Re.a.createElement(window[c],{popInfo:t,positionSign:e.positionSign,parentSpmB:r,uuid:n.split(/_/)&&n.split(/_/)[2]});i&&Ce.a.render(i,s)}else re("poplayer module not found: "+c,"src/page/index/new.ts")},s},Ee=(xe(),xe()?"a2g0n":"a2g0o"),Te=xe()?"msite":"pc",ke=Date.now(),Ie="postMessage"in window;function Ne(e){var t=[];for(var n in e)t.push(u()({},e[n],{uuid:n}));var o={smallImage:!1,other:!1},r=t.sort((function(e,t){return t.priority-e.priority})).filter((function(e){return e.times>e.showTimes}));return r.length?r.filter((function(e){if("smallImage"===e.type){if(!o.smallImage)return o.smallImage=!0,!0}else if(!o.other)return o.other=!0,!0;return!1})).map((function(e){return e.uuid})):[]}function qe(e,t,n){var o=document.createElement("iframe"),r=t.split(/_/)&&t.split(/_/)[2];return r&&(o.src=ve(ve(ve(e,"__poplayer_preserve_uuid",r),"__prefix",ee.__prefix||""),"__poplayer_position_sign",n),o.name=t,o.style.width="100%",o.style.height="100%",o.style.border="none",o.style.display="none",o.style.position="fixed",o.style.zIndex="-100",o.style.left="0",o.style.top="0",o.style.transform="translate3d(0, 0, -100)",document.body.appendChild(o)),o}function Pe(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function Je(e,t,n,o){return void 0===o&&(o=0),{showTimes:0===t?-1:n||0}}function De(e,t,n,o,r,i,a){void 0===a&&(a=!1);var s=e.split(/_/)&&e.split(/_/)[2],p=new he(s+"parent",void 0);p.addTarget(t.contentWindow||window,s),p.listen((function(s){var p,c,l,m,f=JSON.parse(s);switch(f.type){case"load":_e({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ee+"."+i+".poplayer.loadsuccess",type:"expose",exp_page:o,positionSign:r,exp_type:"poplayer",houyiTrack:n,isNewModule:a,clientType:Te,extend:JSON.stringify(null!==(p=null==f?void 0:f.extend)&&void 0!==p?p:{})});break;case"resizeWidthPosition":f.payload&&f.payload.width&&(t.style.width=Pe(f.payload.width)),f.payload&&f.payload.height&&(t.style.height=Pe(f.payload.height)),f.payload&&f.payload.top&&(t.style.top=Pe(f.payload.top)),f.payload&&f.payload.bottom&&(t.style.bottom=Pe(f.payload.bottom)),f.payload&&f.payload.left&&(t.style.left=Pe(f.payload.left)),f.payload&&f.payload.right&&(t.style.right=Pe(f.payload.right));break;case"show":_e({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ee+"."+i+".poplayer.display",type:"expose",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Te,isNewModule:a,timeToShow:""+(Date.now()-ke),extend:JSON.stringify(null!=f&&f.extend?u()({m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""},f.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",fe({type:"reduceTime",payload:{key:e}}),ae("poplayerShow","EXP",""+(Date.now()-ke));break;case"addTime":fe({type:"addTime",payload:{key:e,times:f.payload}});break;case"link":_e({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ee+"."+i+".poplayer.jump",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Te,isNewModule:a,extend:JSON.stringify(null!==(c=null==f?void 0:f.extend)&&void 0!==c?c:{})});var g=f.payload;g=g.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=g;break;case"close":document.body.removeChild(t),_e({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ee+"."+i+".poplayer.close",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Te,isNewModule:a,extend:JSON.stringify(null!=f&&f.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""}:{})});break;case"failed":document.body.removeChild(t),_e({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ee+"."+i+".poplayer.hidden",type:"expose",positionSign:r,exp_page:o,houyiTrack:n,isNewModule:a,exp_type:"poplayer",clientType:Te,extend:JSON.stringify(null!==(l=null==f?void 0:f.extend)&&void 0!==l?l:{})});break;case"callApp":var h=f.payload,v=h.callAppUrl,y=h.targetUrl,_=(h.pageCode,h.needRedirect),w=h.isAutoCall,b=h.spm,x=void 0===b?Ee+"."+i+".poplayer.callapp":b,S=h.pageId,R=d()(h,["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"]);if(v)try{var O=B.fixCallUrlParams(v),C=X("xman_us_f","acs_rt");if(C){var A=new G({text:["$",C||"","$"].join("")});A.copy((function(){})),setTimeout((function(){A.destory()}),150)}void 0===(m=u()({callAppUrl:O,callAppCallback:function(){},targetUrl:y,pageCode:i,needRedirect:void 0!==_?_:!!y,isAutoCall:w,spm:x,pageId:S||window.dmtrack_pageid||"",extParams:u()({track:n,fromAction:"poplayer"},R)},R))&&(m={}),V||(V=new W),V.execCallApp(m),_e({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ee+"."+i+".poplayer.callapp",type:"click",positionSign:r,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Te,isNewModule:a,extend:JSON.stringify(null!=f&&f.extend?u()({m_page_id:window.dmtrack_pageid||"","spm-url":ee.spm||""},f.extend):{})})}catch(t){re("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(_&&y){var E=B.createRedirectUrl(y,{pageCode:i,isAutoCall:w,spm:x,pageId:S||window.dmtrack_pageid||"","spm-url":ee.spm||""});window.location.href=E}}catch(t){re("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),re("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),de("never unknown message happen, auto close poplayer")}}))}function Ue(){return(Ue=p()(a.a.mark((function e(t){var n,o,r,i,s,p,c,d,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=document.body.getAttribute("data-spm")||"0",_e({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ee+"."+o+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:Te}),r=Date.now(),e.next=5,ce(t.positionSign,Te);case 5:i=e.sent,ae("poplayerMtopTiming","OTHER",""+(Date.now()-r)),s=me(),p=null==i||null===(n=i.data)||void 0===n?void 0:n.popLayerRuleMap,c=Object.keys(p).reduce((function(e,t){var n;return u()({},e,((n={})[t]=JSON.parse(p[t]),n))}),{}),d=Object.keys(c).reduce((function(e,t){var n,o,r,i=c[t];return u()({},e,((r={})[i.uuid]=u()({times:i.times,type:i.type,priority:i.priority},Je(0,i.times,null===(n=s[i.uuid])||void 0===n?void 0:n.showTimes,null===(o=s[i.uuid])||void 0===o?void 0:o.startTime)),r))}),{}),fe({type:"add",payload:d}),(l=Ne(d)).length&&l.forEach((function(e){var n,r,i,a,s=null===(n=c[e])||void 0===n||null===(r=n.params)||void 0===r?void 0:r.extGcpOutputPageUrl,p=null===(i=c[e])||void 0===i||null===(a=i.params)||void 0===a?void 0:a.jsComboUrl;if(s&&Ie){var d,l,u,m;if(_e({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ee+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(d=c[e])||void 0===d||null===(l=d.params)||void 0===l?void 0:l.track,exp_page:s,exp_type:"poplayer",clientType:Te}),p){var f,g,h=null===(f=c[e])||void 0===f||null===(g=f.params)||void 0===g?void 0:g.track,v=Ae(t,c[e],e);return void De(e,v,h,window.location.href,t.positionSign,o,!0)}var y=s,_=qe(y+=y.indexOf("?")>=0?"&parentSpmB="+o:"?parentSpmB="+o,e,t.positionSign);_.onerror=function(t){re(e+" poplayer iframe on error","src/page/index/index.ts")},De(e,_,null===(u=c[e])||void 0===u||null===(m=u.params)||void 0===m?void 0:m.track,s,t.positionSign,o)}}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return Ue.apply(this,arguments)}}}]);
!function(r){function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n={};i.m=r,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=515)}([function(e,t,r){"use strict";function n(e){return e}function i(e){return Math.floor(e)}function a(e){return e}function o(e){return e}function s(e){return e}function c(e){return e}function d(e){return e}function l(e){return e}r.d(t,"a",function(){return u}),r.d(t,"d",function(){return h}),r.d(t,"c",function(){return f}),r.d(t,"b",function(){return p}),r.d(t,"k",function(){return n}),r.d(t,"l",function(){return i}),r.d(t,"e",function(){return a}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return s}),r.d(t,"h",function(){return c}),r.d(t,"j",function(){return d}),r.d(t,"i",function(){return l});const u=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t+=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t},h=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t-=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t},f=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t*=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t},p=function(e){let t=e;for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++)t/=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];return t}},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).DEFAULT_ERROR="DEFAULT_ERROR",t.YANDEX_RPC_ERROR="YANDEX_RPC_ERROR",t.BROADCAST_AD_BLOCK_INIT_ERROR="BROADCAST_AD_BLOCK_INIT_ERROR",t.AD_LOADER_INIT_ERROR="AD_LOADER_INIT_ERROR",t.AD_TYPE_IS_NOT_RECOGNIZED="AD_TYPE_IS_NOT_RECOGNIZED",t.INVALID_METADATA="INVALID_METADATA",t.INVALID_STREAM_URL="INVALID_STREAM_URL",t.PUBLIC_API_CALL_ERROR="PUBLIC_API_CALL_ERROR",t.UNSUPPORTED_MEDIA_TYPE="UNSUPPORTED_MEDIA_TYPE",t.SCRIPT_INIT_ERROR="SCRIPT_INIT_ERROR",t.MPD_WIDEVINE_CERT_LOAD_ERROR="MPD_WIDEVINE_CERT_LOAD_ERROR",t.MPD_SHAKA_INIT_ERROR="MPD_SHAKA_INIT_ERROR",t.MPD_NOT_SUPPORTED_ERROR="MPD_NOT_SUPPORTED_ERROR",t.NATIVE_HLS_NOT_SUPPORTED_ERROR="NATIVE_HLS_NOT_SUPPORTED_ERROR",t.HLS_JS_NOT_SUPPORTED_ERROR="HLS_JS_NOT_SUPPORTED_ERROR",t.HLS_JS_INVALID_MANIFEST_URL="HLS_JS_INVALID_MANIFEST_URL",t.REFRESH_SUBTITLES_ERROR="REFRESH_SUBTITLES_ERROR",t.ON_TICK_ERROR="ON_TICK_ERROR",t.FAIRPLAY_NOT_SUPPORTED="FAIRPLAY_NOT_SUPPORTED",t.FAIRPLAY_CERT_LOAD_ERROR="FAIRPLAY_CERT_LOAD_ERROR",t.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR="FAIRPLAY_CREATE_MEDIA_KEYS_ERROR",t.FAIRPLAY_CREATE_KEY_SESSION_ERROR="FAIRPLAY_CREATE_KEY_SESSION_ERROR",t.FAIRPLAY_SPC_LOAD_ERROR="FAIRPLAY_SPC_LOAD_ERROR",t.FAIRPLAY_CREATE_KEY_ERROR="FAIRPLAY_CREATE_KEY_ERROR",t.FAIRPLAY_INVALID_CONTENT_ID="FAIRPLAY_INVALID_CONTENT_ID",t.DRM_PROXY_ERROR="DRM_PROXY_ERROR",t.DRM_PROXY_ERROR_SIGNATURE_EXPIRED="DRM_PROXY_ERROR_SIGNATURE_EXPIRED",t.NO_HLS_JS_INSTANCE="NO_HLS_JS_INSTANCE",t.INVALID_PLAYBACK_RATE_VALUE="INVALID_PLAYBACK_RATE_VALUE",t.AD_IS_ALREADY_PLAYING="AD_IS_ALREADY_PLAYING",t.AD_CANNOT_FIND_CONTAINER_TO_PLAY="AD_CANNOT_FIND_CONTAINER_TO_PLAY",t.RAA_TAKING_2SEC="RAA_TAKING_2SEC",t.RAA_TAKING_10SEC="RAA_TAKING_10SEC",t.META_INFO_REQUEST_FAILED="META_INFO_REQUEST_FAILED",t.MULTIROLL_INIT_ERROR="MULTIROLL_INIT_ERROR",t.PREROLL_ERROR="PREROLL_ERROR",t.REACT_COMPONENT_DID_CATCH_ERROR_INFO="REACT_COMPONENT_DID_CATCH_ERROR_INFO",t.UNEXPECTED_FEATURE_NAME="UNEXPECTED_FEATURE_NAME",t.UNEXPECTED_FEATURE_ACTION_NAME="UNEXPECTED_FEATURE_ACTION_NAME",t.NO_PARAMS_IN_FEATURE_ACTION="NO_PARAMS_IN_FEATURE_ACTION",t.FEATURE_ACTION_DISPATCH_ERROR="FEATURE_ACTION_DISPATCH_ERROR",t.PLAY_AD_VIEWERS_ERROR="PLAY_AD_VIEWERS_ERROR",t.SAGA_ERROR="SAGA_ERROR",t.STRM_ABD_INVALID_RESPONSE="STRM_ABD_INVALID_RESPONSE",t.REQUIRED_FEATURE_IS_NOT_IN_BUNDLE="REQUIRED_FEATURE_IS_NOT_IN_BUNDLE",t.TANKER_KEY_ERROR="TANKER_KEY_ERROR",t.RECOVER_TASK_ERROR="RECOVER_TASK_ERROR",t.PRELOAD_SOURCE_FAILED="PRELOAD_SOURCE_FAILED",t.REGIONAL_LIMITATION_MANIFEST="REGIONAL_LIMITATION_MANIFEST",t.REGIONAL_LIMITATION_LEVEL="REGIONAL_LIMITATION_LEVEL",t.REGIONAL_LIMITATION_SEGMENT="REGIONAL_LIMITATION_SEGMENT",t.NO_STREAMS="NO_STREAMS",t.NO_CODECS="NO_CODECS",t.NO_MSE="NO_MSE",t.NO_DRM="NO_DRM",t.NO_PLAYABLE_STREAMS="NO_PLAYABLE_STREAMS",t.SHAKA_FILTER_ERROR="SHAKA_FILTER_ERROR",t.SHAKA_CONFIGURE_ERROR="SHAKA_CONFIGURE_ERROR",t.DRM_TYPE_NOT_SUPPORTED="DRM_TYPE_NOT_SUPPORTED",t.MISSING_WEBOS_DRM_CLIENT_ID="MISSING_WEBOS_DRM_CLIENT_ID",t.UNEXPECTED_WEBOS_DRM_ERROR="UNEXPECTED_WEBOS_DRM_ERROR",t.CANNOT_SELECT_TRACK="CANNOT_SELECT_TRACK",t.WEBOS_SERVICE_REQUEST_ERROR="WEBOS_SERVICE_REQUEST_ERROR",t.MEDIA_ERR_CUSTOM="MEDIA_ERR_CUSTOM",t.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",t.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",t.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",t.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",t.MEDIA_ERR_ENCRYPTED="MEDIA_ERR_ENCRYPTED"},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return c});var i=r(50),a=r(126);const o=r(245);class c extends Error{constructor(e,t){var s="object"==typeof e?e:{message:String(e)};if(super(String(s.message)),this.message=void 0,this.messageDetails=void 0,this.code=void 0,this.category=void 0,this.isFatal=void 0,this.details=void 0,this.stack=void 0,this.vsid=void 0,o(this,c.prototype),this.message=s.message||this.message,this.messageDetails=s.messageDetails,this.code=s.code||0,this.category=s.category||Object(a.a)(s.code),this.details=s.details,this.isFatal=void 0===s.isFatal||s.isFatal,this.stack=s.stack&&"?:?:?"!==s.stack?s.stack:this.details&&this.details.stack||(e=>{var{url:t,line:r,col:n,fileName:i,columnNumber:a,lineNumber:o}=s;return String(e||(t||i||"?")+":"+(r||o||"?")+":"+(n||a||"?"))})(this.stack),!this.stack||this.stack===i.a.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack||i.a.stack}this.vsid=t}toString(){return JSON.stringify(this.toJSON())}toJSON(){var e={message:this.message,messageDetails:this.messageDetails,code:this.code,category:this.category,isFatal:this.isFatal,details:this.details,stack:this.stack};return n({},e,{raw:JSON.stringify(e)})}}},function(e,t,r){"use strict";function n(){}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.BUFFER_STALLED_ERROR="bufferStalledError",t.SHAKA_VIDEO_ERROR_3016="shaka.VIDEO_ERROR_3016",t.FRAG_PARSING_ERROR="fragParsingError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.PIPELINE_ERROR_DECODE="PIPELINE_ERROR_DECODE",t.DECODER_ERROR_NOT_SUPPORTED="DECODER_ERROR_NOT_SUPPORTED",t.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032="shaka.CONTENT_UNSUPPORTED_BY_BROWSER_4032",t.BUFFER_APPEND_ERROR="bufferAppendError",t.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015="shaka.MEDIA_SOURCE_OPERATION_THREW_3015",t.MEDIA_ELEMENT_ERROR_FORMAT_ERROR="MEDIA_ELEMENT_ERROR: Format error",t.REMUX_ALLOC_ERROR="remuxAllocError",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.DEMUXER_ERROR_COULD_NOT_OPEN="DEMUXER_ERROR_COULD_NOT_OPEN",t.NS_ERROR_DOM_INVALID_STATE_ERR="NS_ERROR_DOM_INVALID_STATE_ERR",t.SHAKA_DASH_INVALID_XML_4001="shaka.DASH_INVALID_XML_4001",t.SHAKA_QUOTA_EXCEEDED_ERROR_3017="shaka.QUOTA_EXCEEDED_ERROR_3017",t.CHUNK_DEMUXER_ERROR_APPEND_FAILED="CHUNK_DEMUXER_ERROR_APPEND_FAILED",t.FAILED_TO_INIT_DECODER="Failed to init decoder",t.PIPELINE_ERROR_INITIALIZATION_FAILED="PIPELINE_ERROR_INITIALIZATION_FAILED",t.NS_ERROR_FAILURE="NS_ERROR_FAILURE",t.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014="shaka.MEDIA_SOURCE_OPERATION_FAILED_3014",t.REQUEST_FAILED="2147500036: Request failed",t.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED="PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED",t.PIPELINE_ERROR_COULD_NOT_RENDER="PIPELINE_ERROR_COULD_NOT_RENDER",t.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE="MEDIA_ELEMENT_ERROR: Empty src attribute",t.NS_ERROR_DOM_MEDIA_METADATA_ERR="NS_ERROR_DOM_MEDIA_METADATA_ERR",t.NS_ERROR_DOM_MEDIA_FATAL_ERR="NS_ERROR_DOM_MEDIA_FATAL_ERR",t.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012="shaka.RESTRICTIONS_CANNOT_BE_MET_4012",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.FRAG_LOAD_ERROR="fragLoadError",t.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST="shaka.BAD_HTTP_STATUS_1001_MANIFEST",t.SHAKA_HTTP_ERROR_1002_SEGMENT="shaka.HTTP_ERROR_1002_SEGMENT",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.LEVEL_LOAD_ERROR="levelLoadError",t.SHAKA_HTTP_ERROR_1002_MANIFEST="shaka.HTTP_ERROR_1002_MANIFEST",t.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT="shaka.BAD_HTTP_STATUS_1001_SEGMENT",t.SHAKA_UNSUPPORTED_SCHEME_1000="shaka.UNSUPPORTED_SCHEME_1000",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.SHAKA_TIMEOUT_1003_SEGMENT="shaka.TIMEOUT_1003_SEGMENT",t.FRAG_LOAD_TIME_OUT="fragLoadTimeOut",t.MANIFEST_LOAD_TIME_OUT="manifestLoadTimeOut",t.LEVEL_LOAD_TIME_OUT="levelLoadTimeOut",t.SHAKA_TIMEOUT_1003_MANIFEST="shaka.TIMEOUT_1003_MANIFEST",t.SHAKA_TIMEOUT_1003_LICENSE="shaka.TIMEOUT_1003_LICENSE",t.AUDIO_TRACK_LOAD_TIME_OUT="audioTrackLoadTimeOut",t.UNHANDLED_GLOBAL_ERROR="UNHANDLED_GLOBAL_ERROR",t.UNHANDLED_PROMISE_REJECTION="UNHANDLED_PROMISE_REJECTION",t.INTERNAL_EXCEPTION="internalException",t.SHAKA_OPERATION_ABORTED_7001="shaka.OPERATION_ABORTED_7001",t.ON_PLAYER_INIT_ERROR_INTERNAL="ON_PLAYER_INIT_ERROR_INTERNAL",t.UNABLE_TO_LOAD_PLAYER_IFRAME="UNABLE_TO_LOAD_PLAYER_IFRAME",t.ON_PLAYER_INIT_ERROR="ON_PLAYER_INIT_ERROR",t.LOADER_INIT_ERROR="LoaderInitError",t.XRAY_REQUEST_BOXES_ERROR="XRAY_REQUEST_BOXES_ERROR",t.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT="UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT",t.FAILED_TO_DOWNLOAD_DEBUG_INFO="FAILED_TO_DOWNLOAD_DEBUG_INFO",t.SHAKA_REQUEST_FILTER_ERROR_1006="shaka.REQUEST_FILTER_ERROR_1006",t.PLAYER_CONTAINER_NOT_FOUND="PLAYER_CONTAINER_NOT_FOUND",t.KEY_LOAD_ERROR="keyLoadError",t.FEATURE_HANDLER_ERROR="FEATURE_HANDLER_ERROR",t.SHAKA_NO_LICENSE_SERVER_GIVEN_6012="shaka.NO_LICENSE_SERVER_GIVEN_6012",t.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER="InvalidConfigElementInCreatePlayer",t.INVALID_CONFIG_IN_CREATE_PLAYER="InvalidConfigInCreatePlayer",t.INVALID_CONFIG_IN_SET_SOURCE="InvalidConfigInSetSource",t.SHAKA_FAILED_TO_CREATE_CDM_6002="shaka.FAILED_TO_CREATE_CDM_6002",t.SHAKA_HTTP_ERROR_1002_LICENSE="shaka.HTTP_ERROR_1002_LICENSE",t.SHAKA_LICENSE_REQUEST_FAILED_6007="shaka.LICENSE_REQUEST_FAILED_6007",t.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006="shaka.FAILED_TO_GENERATE_LICENSE_REQUEST_6006",t.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001="shaka.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001",t.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003="shaka.FAILED_TO_ATTACH_TO_VIDEO_6003",t.SHAKA_LICENSE_RESPONSE_REJECTED_6008="shaka.LICENSE_RESPONSE_REJECTED_6008",t.SHAKA_INVALID_SERVER_CERTIFICATE_6004="shaka.INVALID_SERVER_CERTIFICATE_6004",t.SHAKA_EXPIRED_6014="shaka.EXPIRED_6014",t.SHAKA_BAD_HTTP_STATUS_1001_LICENSE="shaka.BAD_HTTP_STATUS_1001_LICENSE",t.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",t.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR="INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR",t.INVALID_ADDITIONAL_PARAMS_IN_CREATE_PLAYER="InvalidAdditionalParamsInCreatePlayer",t.LOAD_SKIN_ERROR="LOAD_SKIN_ERROR",t.INSERT_INTO_WITH_SECURE_FRAME="INSERT_INTO_WITH_SECURE_FRAME"},function(e,t,r){"use strict";function n(e){var t=typeof e;return Boolean(e)&&("object"==t||"function"==t)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).onStateChange="onStateChange",t.onSeek="onSeek",t.onAdStateChange="onAdStateChange",t.onAdPodStart="onAdPodStart",t.onDurationChange="onDurationChange",t.onPositionChange="onPositionChange",t.onTimelineInfoChange="onTimelineInfoChange",t.onVolumeChange="onVolumeChange",t.onReady="onReady",t.onInitError="onInitError",t.onError="onError",t.onUserAction="onUserAction",t.onChangeStream="onChangeStream",t.onStreamsWithSupportInfoChange="onStreamsWithSupportInfoChange",t.onSkinReady="onSkinReady",t.onVideoTrackChange="onVideoTrackChange",t.onVideoTracksChange="onVideoTracksChange",t.onAudioTrackChange="onAudioTrackChange",t.onAudioTracksChange="onAudioTracksChange",t.onTextTrackChange="onTextTrackChange",t.onTextTracksChange="onTextTracksChange",t.onSubtitlesChange="onSubtitlesChange",t.onThumbnailTileGeneralMetaInfoChange="onThumbnailTileGeneralMetaInfoChange",t.onLogoWidgetActionCall="onLogoWidgetActionCall",t.onVideoTypeChange="onVideoTypeChange",t.onFullScreenChange="onFullScreenChange",t.onVideoSizeChange="onVideoSizeChange",t.onVideoReadyStateChange="onVideoReadyStateChange",t.onOriginalBroadcastAdStateChange="onOriginalBroadcastAdStateChange",t.onKeyEvent="onKeyEvent",t.onInit="onInit",t.onFeatureEvent="onFeatureEvent",t.onErrorScreenVisibilityChange="onErrorScreenVisibilityChange",t.onContentImpression="onContentImpression",t.onResourcesIdle="onResourcesIdle",t.onSetSourceRequest="onSetSourceRequest",t.onVisualStateChange="onVisualStateChange",t.onSaveDataOutsideIframe="onSaveDataOutsideIframe",t.onBufferingRangesChange="onBufferingRangesChange",t.onStartStageChange="onStartStageChange",t.onPlaybackRateChange="onPlaybackRateChange",t.onNextAdRemainingTimeChange="onNextAdRemainingTimeChange",t.onVideoClickerEvent="onVideoClickerEvent",t.onAdSDKVersionDefined="onAdSDKVersionDefined",t.onEngineChange="onEngineChange"},function(e,t,r){"use strict";function n(e){return"number"==typeof e&&isFinite(e)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),(t=n=n||{}).PLAY="play",t.PAUSE="pause",t.BUFFERING="buffering",t.END="end"},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=t.map(a),i="YA PLAYER: "+(new Date).toString()+" "+n.join(" ");return i}function a(t){if("object"==typeof(t=t||{}))try{return JSON.stringify(t,Object.getOwnPropertyNames(t))}catch(e){return Object(i.a)(t)}return t}r.d(t,"a",function(){return s});var i=r(67);const o=[];class s{static enableConsole(){s.consoleEnabled=!0,s.log("YA PLAYER VERSION: 1.0-6101")}static log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s.consoleEnabled&&console.log(n(...t)),s.addToHistory("log",t)}static warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s.consoleEnabled&&console.warn(n(...t)),s.addToHistory("warn",t)}static error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s.consoleEnabled&&console.error(n(...t)),s.addToHistory("error",t)}static getHistory(){return[...o]}static addToHistory(e,t){150<=o.length&&o.shift(),o.push("["+e+"]["+Date.now()+"] "+t.map(e=>{try{return Object(i.a)(e)}catch(e){return JSON.stringify(["stringify_error",e.stack])}}).join())}}s.consoleEnabled=!0},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).DEFAULT="DEFAULT",t.MEDIA="MEDIA",t.NETWORK_MEDIA="NETWORK_MEDIA",t.NETWORK_PLAYER="NETWORK_PLAYER",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NO_CODECS="NO_CODECS",t.CANNOT_PLAY="CANNOT_PLAY",t.UNSUPPORTED_ENV="UNSUPPORTED_ENV",t.EXCEPTION="EXCEPTION",t.ADS="ADS",t.CONFIG="CONFIG",t.REGIONAL="REGIONAL",t.DRM="DRM"},function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),(t=n=n||{}).LIVE="LIVE",t.EVENT="EVENT",t.VOD="VOD"},function(e,t,r){"use strict";function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){v.href=e;let t=v.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);var r=(v.search||"")+(v.hash||""),r=e.lastIndexOf(r),r=-1===r?e:e.slice(0,r);if(y.test(e)){const t=c(e.replace(y,"https:"));return s({},t,{originalPath:r,protocol:(v.href=e).slice(0,e.indexOf(":")+1),href:v.href})}e=v.protocol&&/^[a-z\-]+:/i.test(v.protocol)?v.protocol:"";return{originalPath:r,href:v.href,protocol:e,host:v.host,hostname:v.hostname,port:v.port,pathname:t,search:v.search,hash:v.hash}}function d(e,t){if(t=void 0===t?!1:t){const t=e.originalPath,r="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(r?"/":"")+e.search+e.hash}const r="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+r+e.pathname+e.search+e.hash}function l(n){const i={},a=n.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<a.length;r++){var o=a[r].indexOf("=");let e,t;if(t=-1===o?(e=m(a[r]),""):(e=m(a[r].slice(0,o)),a[r].slice(o+1)),e){const n=Boolean(/(\[\])$/.exec(e));e=e.replace(/\[\]$/,""),n?void 0===i[e]?i[e]=[m(t)]:i[e]=[].concat(i[e],m(t)):i[e]=m(t)}}return i}function n(e){return l(c(e).search)}function u(e){const t=[];for(const n in e){var r;e.hasOwnProperty(n)&&(r=e[n],Object(f.a)(r)?t.push(g(n,r)):void 0!==r&&t.push(n+"="+encodeURIComponent(r)))}return"?"+t.join("&")}function i(e,t,r){if(void 0===r)return e;const n=c(e),i=l(n.search);return i[t]=r,d(s({},n,{search:u(i)}))}function a(e,t,r){let{override:n=!0,saveOriginalPath:i=!1}=void 0===r?{}:r;const a=c(e),o=l(a.search);return Object(p.a)(t,(e,t)=>{void 0!==o[t]&&!n||(o[t]=e)}),d(s({},a,{search:u(o)}),i)}function o(e){return c(e).pathname.split("/").pop()||""}function h(e){const t=o(e).split(".");return 1<t.length?t.pop():""}r.d(t,"g",function(){return c}),r.d(t,"h",function(){return d}),r.d(t,"f",function(){return l}),r.d(t,"e",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"c",function(){return h});var f=r(99),t=r(175),p=r(28);const v=document.createElement("a"),y=(Object(t.a)(e=>s({},c(e))),/^(android-app:|chrome-extension:)/),m=t=>{try{return decodeURIComponent(t)}catch(e){return t}},g=(t,e)=>e.map(e=>t+"[]="+encodeURIComponent(e)).join("&")},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(28);const i=(()=>{const r={};return Object(n.a)({BroadcastAdReceived:1,BroadcastAdInit:1,StreamPlayerReceivedMetadata:1,StreamPlayerChooseMetadata:1,PlayWithoutRAAResults:1,CanPlay:1,ContentImpression:1,WaitForPlayCompleted:1,DrmSystemsSupportDetected:1,InrollAdStart:1,InrollAdPodStart:1,InrollAdPodEnd:1,InrollAdEnd:1,PlayAdViewers:1,AdStart:1,AdPodLoading:1,AdPodError:1,AdPodEnd:1,AdEnd:1,AdClickThru:1,NoAdPodsToPlayAd:1,Stalled:1,LoadSource:1,PrerollInit:1,WaitForUserGesture:1,WaitForDocumentVisibility:1,CallPublicApiAfterDestroy:1,HiddenAutoplayPrevented:1,PlayVideoOnVisibilityChange:1,PauseVideoOnVisibilityChange:1,StreamStopWhileLoadingMultiroll:1,StreamStopWhileChoosingStream:1,StreamStopWhileDestroyVideoController:1,StreamStopDuringDefineAutoplaySettings:1,StreamStopWhileWaitingForPlay:1,StreamStopWhileWaitingForDocumentVisibility:1,StreamStopWhileLoadingPreroll:1,StreamStopWhilePreloadingPreroll:1,SkippableFragmentWidgetDrawn:1,SkippableFragmentWidgetHidden:1,HlsJsLoadSourceCalledTwice:1,PreloadSource:1,UsePreloadedHlsJs:1,PlayAfterWaitingForDocumentVisibility:1,ResourcesIdle:1,HlsJsForceCappingStart:1,CanRenderSkinCalledBeforeSkinIsReady:1,ExternalPlaybackOpenButtonClick:1,ExternalPlaybackCloseButtonClick:1,ExternalPlayerListVisibleStatusChange:1,ExternalPlaybackPlayerCsrfFetching:1,ExternalPlaybackPlayerCsrfFetchSuccess:1,ExternalPlaybackPlayerCsrfFetchError:1,ExternalPlaybackPlayerListHasAnyDevice:1,ExternalPlaybackPlayerListFetching:1,ExternalPlaybackPlayerListFetchSuccess:1,ExternalPlaybackPlayerListFetchError:1,ExternalPlaybackPlayerListAboutInfoClick:1,ExternalPlaybackPlayerListRefresh:1,ExternalPlaybackPlayerActivate:1,ExternalPlaybackPlayerActivateSucceed:1,ExternalPlaybackPlayerActivateFailed:1,ExternalPlaybackCsrfTokenExpired:1,YandexRpcError:1,YandexAndroidVsidChanged:1,Seek:1,RecommendationsSetParams:1,RecommendationSelect:1,RecommendationsWidgetVisibilityChange:1,RepresentationsChange:1,MediaInternalsHistoryOnFatal:1,PlayInrollAd:1,ShareButtonClick:1},(e,t)=>{r[t]=t}),r})()},function(e,t,r){"use strict";function n(e){return"function"==typeof e||"Function"===Object(i.a)(e)}r.d(t,"a",function(){return n});var i=r(79)},function(e,t,r){"use strict";function n(e,t,r,n){const i=function(e){let t=!1,r=!1,n=!1;return!0===e?t=!0:"object"==typeof e&&(t=Boolean(e.capture),r=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:r,once:n}}(n),a=d.a?i:i.capture,o=i.once&&!d.b?function(e){s(),r.call(this,e)}:r,s=()=>{Object(c.b)(e,t,o,a)};return Object(c.a)(e,t,o,a),s}r.d(t,"a",function(){return n});var c=r(77),d=r(129)},function(e,t,r){"use strict";function n(e,t){e.forEach(e=>{Object(i.a)(e,t)})}r.d(t,"a",function(){return a});var i=r(152);class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){var t=this["once"];this.once=[],n(this.on,e),n(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,r){"use strict";function n(e){return"string"==typeof e}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).play="play",t.pause="pause",t.seek="seek",t.setSource="setSource",t.sendPosition="sendPosition",t.getPosition="getPosition",t.setVolume="setVolume",t.setMuted="setMuted",t.setFullscreen="setFullscreen",t.setPlaybackRate="setPlaybackRate",t.setVideoTrack="setVideoTrack",t.setAudioTrack="setAudioTrack",t.setTextTrack="setTextTrack",t.setNativeTextTrackVisibility="setNativeTextTrackVisibility",t.setHiddenControls="setHiddenControls",t.setVideoStyle="setVideoStyle",t.setPictureInPictureEnabled="setPictureInPictureEnabled",t.sendReportToStats="sendReportToStats",t.setExternalVisualState="setExternalVisualState",t.getExternalVisualState="getExternalVisualState",t.getConfig="getConfig",t.sendDebugInfo="sendDebugInfo",t.requestDebugInfo="requestDebugInfo",t.callFeatureAction="callFeatureAction",t.setTitleSettings="setTitleSettings",t.xhrRequest="xhrRequest",t.stopAd="stopAd",t.playInrollAd="playInrollAd",t.destroy="destroy",t.setLogoWidgetExpanded="setLogoWidgetExpanded",t.setLogoWidgetActionCompleted="setLogoWidgetActionCompleted",t.addPromoConfig="addPromoConfig"},function(e,t,r){"use strict";function n(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(e){return""}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStorage=t.CookieStorage=t.isSupported=t.storage=void 0;var i=n(r(323)),a=n(r(257)),o=n(r(325)),r=null;(0,i.default)("localStorage")?t.storage=r=window.localStorage:(0,i.default)("sessionStorage")?t.storage=r=window.sessionStorage:(0,i.default)("cookieStorage")?t.storage=r=new a.default:t.storage=r=new o.default,t.default=r,t.storage=r,t.isSupported=i.default,t.CookieStorage=a.default,t.MemoryStorage=o.default},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(258),o=r(40);(r=t.ZodTypes||(t.ZodTypes={})).string="string",r.number="number",r.bigint="bigint",r.boolean="boolean",r.date="date",r[void 0]="undefined",r.null="null",r.array="array",r.object="object",r.union="union",r.intersection="intersection",r.tuple="tuple",r.record="record",r.function="function",r.lazy="lazy",r.literal="literal",r.enum="enum",r.nativeEnum="nativeEnum",r.promise="promise",r.any="any",r.unknown="unknown",r.void="void";i.prototype.is=function(e){try{return this.parse(e),!0}catch(e){return!1}},i.prototype.check=function(e){try{return this.parse(e),!0}catch(e){return!1}},r=i;function i(e){var i=this;this.safeParse=function(e,t){try{return{success:!0,data:i.parse(e,t)}}catch(e){if(e instanceof o.ZodError)return{success:!1,error:e};throw e}},this.parseAsync=function(r,n){return new Promise(function(e,t){try{return e(i.parse(r,n))}catch(e){return t(e)}})},this.refine=function(e,t){return"string"==typeof(t=void 0===t?"Invalid value.":t)?i.refinement({check:e,message:t}):i.refinement(n({check:e},t))},this.refinement=function(e){return i._refinement(n({code:o.ZodErrorCode.custom_error},e))},this._refinement=function(e){return new i.constructor(n({},i._def,{checks:(i._def.checks||[]).concat([e])}))},this.optional=function(){return o.ZodUnion.create([i,o.ZodUndefined.create()])},this.nullable=function(){return o.ZodUnion.create([i,o.ZodNull.create()])},this.array=function(){return o.ZodArray.create(i)},this.or=function(e){return o.ZodUnion.create([i,e])},this._def=e,this.parse=a.ZodParser(e)}t.ZodType=r},function(e,t,r){"use strict";function n(e,t){try{return e()}catch(e){"function"==typeof t&&t(e)}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){if(!e||!e.toString)return!1;e=e.toString();return/\[native code\]/.test(e)||/\/\* source code not available \*\//.test(e)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){if("function"==typeof Object.keys)return Object.keys(e);{const t=[];for(const r in e)Object(i.a)(e,r)&&t.push(r);return t}}r.d(t,"a",function(){return n});var i=r(42)},function(e,t,r){"use strict";function n(t){let r=function(){r=()=>e;const e=t.apply(this,arguments);return e};return function(){return r.apply(this,arguments)}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){return-1<o.indexOf(e)}function i(e){return(e=void 0===e?"":e).split(",").map(e=>e.trim()).filter(n)}r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i});t=r(24);let a;(r=a=a||{}).ALL="*",r.PLAY="play",r.START_SCREEN_PLAY="startScreenPlay",r.VOLUME="sound",r.VOLUME_SLIDER="volumeSlider",r.SETTINGS="settings",r.SETTINGS_ITEM="settingsItem",r.FULLSCREEN="fullscreen",r.TIMELINE="timeline",r.TIMELINE_PREVIEW="timelinePreview",r.LIVE="live",r.POSTER="poster",r.START_POSITION_CONFIRM="startPositionConfirm",r.TIME_DISPLAY="time",r.TITLE_DISPLAY="title",r.SHARE="share",r.REPORT="report",r.FORWARD="forward",r.BACKWARD="backward",r.BRAND_LOGO_BUTTON="brandLogoButton",r.LOGO="logo",r.PRELOADER="preloader",r.CONTEXT_MENU="contextMenu",r.START_SCREEN="startScreen",r.PLAYBACK_RATE="playbackRate",r.DEEP_HD="deepHd",r.SKIPPABLE_FRAGMENTS="skippableFragments",r.XRAY="xray",r.EXTERNAL_PLAYBACK="externalPlayback",r.RECOMMENDATIONS="recommendations",r.NON_STOP="nonStop",r.CLOSE_BUTTON="closeButton",r.NEXT_AD_INFO="nextAdInfo",r.TITLE="title",r.SUBTITLES_TOGGLE="subtitlesToggle",r.LOGO_WIDGET="logoWidget";const o=Object(t.a)(a).map(e=>a[e])},function(e,t,r){"use strict";function n(t){if(!t)return[];const r=[];for(let e=0;e<t.length;e++)r.push(t[e]);return r}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e,t,r){for(const n in e)Object(i.a)(e,n)&&t.call(r,e[n],n,e)}r.d(t,"a",function(){return n});var i=r(42)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(){return n({},h,f)}function a(){try{return JSON.parse(window.Ya.Rum._vars["-additional"])}catch(e){return{}}}function o(){try{return window.Ya.Rum.setVars({"-additional":JSON.stringify(h)})}catch(e){}}function s(){try{return window.Ya.Rum.updateErrors({additional:n({},h)})}catch(e){}}function c(e){return void 0===e||void 0===e.additional?(v||(function(){try{p=encodeURIComponent(JSON.stringify(n({},h,f)))}catch(e){}}(),v=!0),p):encodeURIComponent(JSON.stringify(n({},h,f,e.additional)))}function d(e){h=n({},a(),e),o(),s(),v=!1}function l(e,t){h=n({},a(),{[e]:t}),o(),s(),v=!1}function u(e){f=e,v=!1}r.d(t,"a",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return l}),r.d(t,"c",function(){return u});let h={},f={},p="",v=!1},function(e,t,r){var n=r(135),r=r(509);n(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r,{injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,r){var d=r(86),l=r(297).f,u=r(188),h=r(247),f=r(351),p=r(372),v=r(375);e.exports=function(e,t){var r,n,i,a,o=e.target,s=e.global,c=e.stat;if(r=s?d:c?d[o]||f(o,{}):(d[o]||{}).prototype)for(n in t){if(i=t[n],a=e.noTargetGet?(a=l(r,n))&&a.value:r[n],!v(s?n:o+(c?".":"#")+n,e.forced)&&void 0!==a){if(typeof i==typeof a)continue;p(i,a)}(e.sham||a&&a.sham)&&u(i,"sham",!0),h(r,n,i,e)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});class n{static internalToPublic(e){return Math.round(100*e)}static publicToInternal(e){return e/100}}},function(e,t,r){"use strict";function a(e){return Object(u.a)(e.className)?e.className:e.namespaceURI===h.svg&&e.getAttribute("class")||""}function o(e,t){Object(u.a)(e.className)?e.className=t:e.namespaceURI===h.svg&&e.setAttributeNS("","class",t)}function n(e){Object(u.a)(e.className)?e.className="":e.namespaceURI===h.svg&&e.setAttributeNS("","class","")}function i(e,t){void 0===t&&(t=""),0!==e.className.length?(v(e)?E:function(e,t){let r=a(e).split(" ").concat(t.split(" "));r=function(t){const r={};for(let e=0;e<t.length;e++)r[t[e]]=e;return Object(l.a)(r)}(Object(c.a)(r,function(e){return""!==e})),o(e,r.join(" "))})(e,t):e.className=t}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return A});function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const{resolver:a,preparers:o}=function(e){const t=[...e],r=t.pop();if(!r||0===t.length)throw new Error("memoizeSingle need at least 2 functions as arg");return{preparers:t,resolver:r}}(t);let s,c=null,d=null;return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(c&&c.every((e,t)=>r[t]===e))return s;const n=o.map(e=>e(...r));if(d&&d.every((e,t)=>n[t]===e))return c=r,s;var i=a(...n);return c=r,d=n,s=i}}var c=r(173),d=r(209),l=r(24),t=r(23),u=r(17),r=r(28);const h={xml:"http://www.w3.org/XML/1998/namespace",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},f={};Object(r.a)({xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type"},function(e,t){e=e.split(":"),e=h[e[0]];e&&(f[t]=e)});const p="classList"in document.documentElement,v=s(e=>e.classList&&e.classList.add,t.a),y=s(e=>e.classList&&e.classList.remove,t.a),m=(s(e=>e.classList&&e.classList.toggle,t.a),(()=>{const e=document.createElement("p");return!!p&&(e.classList.add("c1","c2"),!!e.classList.contains("c2")&&(e.classList.toggle("c3",!1),!e.classList.contains("c3")))})()),g=((()=>{const e=document.createElement("p");p&&(e.classList.toggle("a",!1),e.classList.contains("a"))})(),e=>e.split(" ").filter(e=>Boolean(e))),E=m?(e,t)=>{t=g(t);e.classList.add(...t)}:(t,e)=>{var r=g(e);for(let e=0;e<r.length;e++)t.classList.add(r[e])},A=function(e,t){return void 0===t&&(t=""),(y(e)?T:function(e,t){const r=a(e).split(" "),n=t.split(" "),i=[];for(let e=0;e<r.length;e++)r[e]&&-1===Object(d.a)(n,r[e])&&i.push(r[e]);o(e,i.join(" "))})(e,t)},T=m?(e,t)=>{t=g(t);e.classList.remove(...t)}:(t,e)=>{var r=g(e);for(let e=0;e<r.length;e++)t.classList.remove(r[e])}},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).init="init",t.waitForUserPlay="waitForUserPlay",t.waitForDocumentVisibility="waitForDocumentVisibility",t.starting="starting",t.started="started",t.broken="broken",t.destroyed="destroyed"},function(e,t,r){"use strict";function n(e){const t=e;return t.Ya||(t.Ya={}),t.Ya.streamPlayer||(t.Ya.streamPlayer={}),t.Ya.streamPlayer}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});const i=n(window)},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{})[t.UNSTARTED=-1]="UNSTARTED",t[t.ENDED=0]="ENDED",t[t.PLAYING=1]="PLAYING",t[t.PAUSED=2]="PAUSED",t[t.BUFFERING=3]="BUFFERING"},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r(38),r(197),r(82);var a=r(3),r=r(185);Object(r.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class n{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var[n]=t;this._isDestroyed||(this._isDestroyed=!0,this._destroyReason=n,this.destroyHandlers.forEach(e=>e(...t)),this.destroyHandlers.length=0)}getIsDestroyed(){return this._isDestroyed}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var n=this;let i=e;return function(){n.isDestroyed&&(i=a.a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.apply(n,t)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(173),i=r(67),a=r(50);const s=r(321);class c extends Error{constructor(e,t){void 0===t&&(t={});var o="object"==typeof e?e:{message:String(e||a.a.message)};super(),s(this,c.prototype),this.message=t.message||o.message||a.a.message,this.code=t.code||o.code||o.id||a.a.code,this.isFatal=Boolean(function(e){var[e]=Object(n.a)(e,e=>void 0!==e);return e}([t.isFatal,o.isFatal,a.a.isFatal])),this.details=t.details||o.details||a.a.details;t=t.stack||o.stack||function(){var{url:e,line:t,col:r,fileName:n,columnNumber:i,lineNumber:a}=o;return(e||n||"?")+":"+(t||a||"?")+":"+(r||i||"?")}();let r=t===a.a.stack?this.stack:t;if(r&&r!==a.a.stack)this.stack=r;else if(!this.stack)try{throw new Error(this.message)}catch(e){this.stack=r=e.stack||a.a.stack}this.toString=()=>Object(i.a)(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:r})}}},function(e,t,r){"use strict";function n(t){return"function"==typeof Object.entries?Object.entries(t):Object(i.a)(t).map(e=>[e,t[e]])}r.d(t,"a",function(){return n});var i=r(24)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(326);r.ZodString=n.ZodString;var i=t(329);r.ZodNumber=i.ZodNumber;var a=t(330);r.ZodBigInt=a.ZodBigInt;var o=t(331);r.ZodBoolean=o.ZodBoolean;var s=t(332);r.ZodDate=s.ZodDate;var c=t(333);r.ZodUndefined=c.ZodUndefined;var d=t(334);r.ZodNull=d.ZodNull;var l=t(335);r.ZodAny=l.ZodAny;var u=t(260);r.ZodUnknown=u.ZodUnknown;var h=t(336);r.ZodVoid=h.ZodVoid;var f=t(337);r.ZodArray=f.ZodArray;var p=t(261);r.ZodObject=p.ZodObject;var v=t(340);r.ZodUnion=v.ZodUnion;var y=t(262);r.ZodIntersection=y.ZodIntersection;var m=t(263);r.ZodTuple=m.ZodTuple;var g=t(341);r.ZodRecord=g.ZodRecord;var E=t(342);r.ZodFunction=E.ZodFunction;var A=t(343);r.ZodLazy=A.ZodLazy;var T=t(344);r.ZodLiteral=T.ZodLiteral;var S=t(345);r.ZodEnum=S.ZodEnum;var _=t(346);r.ZodNativeEnum=_.ZodNativeEnum;var b=t(347);r.ZodPromise=b.ZodPromise;var O=t(21);r.ZodType=O.ZodType,r.Schema=O.ZodType,r.ZodSchema=O.ZodType,r.ZodTypes=O.ZodTypes;O=t(258);r.ZodParsedType=O.ZodParsedType;O=t(348);r.ZodCodeGenerator=O.ZodCodeGenerator;var R=n.ZodString.create;r.string=R;var P=i.ZodNumber.create;r.number=P;a=a.ZodBigInt.create;r.bigint=a;var w=o.ZodBoolean.create;r.boolean=w;s=s.ZodDate.create;r.date=s;c=c.ZodUndefined.create;r.undefined=c;d=d.ZodNull.create;r.null=d;var C=l.ZodAny.create;r.any=C;u=u.ZodUnknown.create;r.unknown=u;h=h.ZodVoid.create;r.void=h;f=f.ZodArray.create;r.array=f;f=p.ZodObject.create;r.object=f;v=v.ZodUnion.create;r.union=v;y=y.ZodIntersection.create;r.intersection=y;m=m.ZodTuple.create;r.tuple=m;g=g.ZodRecord.create;r.record=g;E=E.ZodFunction.create;r.function=E;A=A.ZodLazy.create;r.lazy=A;T=T.ZodLiteral.create;r.literal=T;S=S.ZodEnum.create;r.enum=S;_=_.ZodNativeEnum.create;r.nativeEnum=_;b=b.ZodPromise.create;r.promise=b,r.ostring=function(){return R().optional()},r.onumber=function(){return P().optional()},r.oboolean=function(){return w().optional()};O=O.ZodCodeGenerator.create;r.codegen=O,r.custom=function(e,t){return C().refine(e,t)},r.instanceof=function(t,e){return void 0===e&&(e={message:"Input not instance of "+t.name}),r.custom(function(e){return e instanceof t},e)},r.late={object:p.ZodObject.lazycreate},function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(t(119))},function(e,t,r){"use strict";function n(e){if(e){const t=e["parentElement"];t&&t.removeChild(e)}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";let n,i;r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),(t=n=n||{})[t.PLAYING=1]="PLAYING",t[t.NOT_PLAYING=2]="NOT_PLAYING",(t=i=i||{}).INIT="INIT",t.SET_SOURCE="SET_SOURCE"},function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n=r(38),c=r(146),i=r(175);class d extends n.a{constructor(){super(...arguments),this.name="TranslatorError"}}var a=r(125),t=r(83),o=r(1);const s=function(n,e){const o=(e,t,r)=>n[e][t][r],s=(e,t,r)=>n[e]&&n[e][t]&&n[e][t][r],t=e=>{let{keyset:t,key:r,lang:n="ru",onError:i,throwErr:a=!0}=e;if(s(n,t,r))return o(n,t,r);if(s("ru",t,r))return o("ru",t,r);{const e=new d("Tanker locale for lang="+n+", keyset="+t+", key="+r+" not found");return a&&Object(c.a)(e),"function"==typeof i&&i(e),""}};if(e=void 0===e?!1:e){const n=e=>{var{keyset:t,key:r,lang:e}=e;return t+"_"+r+"_"+e};return Object(i.a)(t,n)}return t}({ru:r(322)},!0),l=new a.a(t.a),u=e=>{l.errorToStats(new n.a(e,{code:o.a.TANKER_KEY_ERROR,isFatal:!1}))},h=(e,t)=>s({keyset:"stream-player",key:e,lang:t,onError:u,throwErr:!1})},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{})[t.XS=340]="XS",t[t.S=440]="S",t[t.M=980]="M",t[t.L=1e5]="L"},function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),(t=n=n||{}).event="event",t.error="error",t.fatal="fatal",t.deprecated="deprecated",t.warning="warning",t.value="value",t.values="values"},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var t=r(38),n=r(17),i=r(22),a=r(126);class o extends t.a{constructor(e,t){super(e,t),this.category=void 0,this.toJSON=void 0;var r=t&&t.category,t=t&&t.code;r?this.category=r:e.category&&!t?this.category=e.category:this.category=Object(a.a)(t||e.code),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:Object(i.a)(()=>Object(n.a)(this.details)?this.details:JSON.stringify(this.details))||this.details,stack:this.stack,category:this.category})}}},function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"g",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"f",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"e",function(){return d});const n=!1,i="modern",a="https://yastatic.net/yandex-video-player-iframe-api-bundles/1.0-6101/js/skin-loader.js",o="https://yastatic.net/hls.js/0.12.2-1761-1846-1976_tmp-2080-2095-2146-2171-2-2172-2232_tmp-2427-2498/hls.min.js",s="https://yastatic.net/shaka-player/2.5.5-yandex-patched-custom-build/shaka-player.compiled.js",c="https://yastatic.net/yandex-video-player-iframe-api/is-android-player-supported/is-yandex-player-supported.js",d="https://yastatic.net/react/16.8.4/react-with-dom.min.js"},function(e,t,r){"use strict";var d=Array.isArray,l=Object.keys,u=Object.prototype.hasOwnProperty;e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var n,i,a,o=d(t),s=d(r);if(o&&s){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(o!=s)return!1;o=t instanceof Date,s=r instanceof Date;if(o!=s)return!1;if(o&&s)return t.getTime()==r.getTime();o=t instanceof RegExp,s=r instanceof RegExp;if(o!=s)return!1;if(o&&s)return t.toString()==r.toString();var c=l(t);if((i=c.length)!==l(r).length)return!1;for(n=i;0!=n--;)if(!u.call(r,c[n]))return!1;for(n=i;0!=n--;)if(!e(t[a=c[n]],r[a]))return!1;return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=(t,r,n)=>{const i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=r.call(n,t[e],e,t);return i}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(100);const n=Object(r.a)()},function(e,t,r){"use strict";function n(e){return e.supported&&void 0!==e.engine}function i(e){return!e.supported&&void 0!==e.noSupportReason}r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"f",function(){return n}),r.d(t,"e",function(){return i});r=r(68);const a={supported:!1,noSupportReason:r.a.NO_MSE},o={supported:!1,noSupportReason:r.a.NO_CODECS},s={supported:!1,noSupportReason:r.a.NO_SUPPORTED_DRM},c={supported:!1,noSupportReason:r.a.NO_SUPPORTED_FORMAT}},function(e,t,r){"use strict";function n(e){if(e&&e.location){const t=e["location"];return"function"==typeof t.toString?t.toString():t.href||""}return""}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(74);const n=Object(r.a)()},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var t=r(16),n=r(152);class i extends t.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(t,r){return this.add(e=>{t(e)&&Object(n.a)(r,e)})}subscribeValueConditionOnce(e,t){const r=this.subscribeValueCondition(e,e=>{r(),Object(n.a)(t,e)});return r}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).Init="Init",t.SetSource="SetSource",t.AdEnd="AdEnd",t.Seek="Seek",t.VideoTrackChange="VideoTrackChange",t.Recover="Recover",t.MediaError="MediaError",t.Offline="Offline",t.Other="Other",t.RepresentationsChange="RepresentationsChange"},function(e,t,r){"use strict";function n(e){try{return JSON.stringify(e),!0}catch(e){return!1}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).AdCompleted="AdCompleted",t.LoadSource="LoadSource",t.PlayerDestroy="PlayerDestroy",t.CutOff="CutOff",t.PlayerError="PlayerError",t.AdTypeChange="AdTypeChange",t.InsertIntoCalled="InsertIntoCalled",t.PlayInrollAd="PlayInrollAd"},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});const n=["","webkit","moz","o","ms"],i=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return a});const n=1e3,i=60,a=60*i},function(e,t,r){"use strict";r.d(t,"a",function(){return n});t=r(102),r=r(182);const n=t.a?"":r.a},function(e,t,r){"use strict";function n(e,t){return{reason:e,details:t,getElapsedTime:Object(i.a)()}}r.d(t,"a",function(){return n});var i=r(151)},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(8),i=r(0),a=r(224),o=r(62),s=r(84),c=r(149),d=r(292),l=r(104),u=r(306),h=r(307),f=r(174),p=r(34),v=r(57);let y;(t=y=y||{})[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";r=r(63);const m={autoplay:c.a,initialAutoplay:c.a,allowMuted:a.a,requireUserGestureToUnmute:!1,autoplayImpossible:!1,startStage:p.a.init,raaTakingTooLong:!1,preload:c.b,from:void 0,encoderAttached:!1,vsid:f.a,streams:[],stream:void 0,sourceParams:void 0,sourceId:0,volume:1,muted:!1,wasVolumeChanged:!1,userVolume:NaN,duration:Object(i.j)(NaN),currentTime:d.a,currentTimeLowGranularity:d.a,watchedTime:Object(i.j)(0),startPosition:{},programDateTime:void 0,fragmentDuration:l.a,dvrStartTime:Object(i.j)(0),dvrDuration:Object(i.j)(NaN),videoType:void 0,playingState:n.a.PAUSE,bufferingRanges:[],preview:o.a,isFullscreen:!1,isPip:!1,isVisible:void 0,pausedCauseVisibilityChange:!0,togglePlaybackOnVisibilityChangeSetting:void 0,errorInfo:{},lastRecoverPosition:void 0,isOnline:!0,netParams:h.a,isDocumentVisible:!0,lastKnownBandwidthEstimate:Object(i.e)(NaN),videoTagReadyState:y.HAVE_NOTHING,isAbrSupported:!1,isAbrEnabled:!1,videoTrackValue:void 0,videoTracks:[],userVideoTrackName:void 0,userVideoTrackHeight:void 0,audioTrackValue:void 0,audioTracks:[],userAudioTrackName:void 0,userAudioTrackLang:void 0,textTrackEnabled:!1,nativeTextTrackVisible:void 0,textTrackValue:void 0,textTracks:[],userTextTrackEnabled:void 0,userTextTrackLang:void 0,userTextTrackName:void 0,subtitles:[],playbackRate:s.a,playbackRates:s.b,expectedStalled:Object(r.a)(v.a.Init,void 0),liveOffset:u.a,featuresParams:{},featuresEnabled:[],tileMetaInfo:void 0,videoWidth:Object(i.i)(0),videoHeight:Object(i.i)(0),initTime:Object(i.j)(0),videoInfo:{}}},function(e,t,r){"use strict";r.r(t),r.d(t,"HARDCODED_ADSDK_URL",function(){return i}),r.d(t,"MODERN_BUNDLE_FORCED_MODE",function(){return a}),r.d(t,"NATIVE_UI_MODE",function(){return o}),r.d(t,"AD_SESSION_ID_LAST_UTC_TIMESTAMP",function(){return s}),r.d(t,"AD_SESSION_ID_LAST_ADSID",function(){return c}),r.d(t,"AD_SESSION_ID_LAST_SERVICE_NAME",function(){return d}),r.d(t,"AD_SESSION_ID_LAST_AD_SESSION_WATCHED_TIME",function(){return l});const n="videoplayer",i=n+"-adsdk-url",a=n+"-modern-bundle-forced-mode",o=n+"-native-ui-mode",s=n+"-ad-session-id-last-utc-timestamp",c=n+"-ad-session-id-last-adsid",d=n+"-ad-session-id-last-service-name",l=n+"-ad-session-id-last-ad-session-watched-time"},function(e,t,r){"use strict";r.d(t,"a",function(){return i});t=r(23),t=!Object(t.a)(Math.random)||Math.random()===Math.random(),r=r(201);let n=Date.now()*Object(r.a)()%2147483647;const i=t?function(){return n=16807*n%2147483647,(n-1)/2147483646}:function(){return Math.random()}},function(e,t,r){"use strict";function n(e){return void 0===t&&(t=window),void 0===d&&(d=(r=void 0===(r=t)?window:r).JSON&&Object(c.a)(r.JSON.stringify)&&Object(c.a)(r.JSON.parse)?t.JSON:{stringify:l("stringify"),parse:l("parse")}),d.stringify(e,function(){const n=[],i=function(){const n="undefined"!=typeof WeakMap?new WeakMap:void 0,i=[];return{set:(t,r)=>{if(void 0!==n)try{n.set(t,r)}catch(e){i.push({path:r,value:t})}else i.push({path:r,value:t})},get:t=>{var e=Object(a.a)(i,e=>e.value===t);return void 0!==n&&void 0===e?n.get(t):e?e.path:void 0}}}();return(e,t)=>{if(Object(o.a)(t))return Object(h.a)(t.name)?t.name:"[Function]";if(!Object(u.a)(t))return t;var r=i.get(t);if(r)return"[Circular "+r+"]";for(;0<n.length&&n[n.length-1].value[e]!==t;)n.pop();r=(0<n.length?n[n.length-1].path:"")+(e?"/"+e:"~");return n.push({path:r,value:t}),i.set(t,r),t}}());var t,r}r.d(t,"a",function(){return n});var a=r(198),o=r(14),i=r(199),s=r(41),c=r(23);let d;const l=n=>e=>{const{JSON:t,clean:r}=function(e){void 0===e&&(e=document.body);const t=Object(i.a)(e);return{JSON:t.contentWindow.JSON,clean:()=>function(e){e.src="",Object(s.a)(e)}(t)}}();try{return t[n](e)}finally{r()}};var u=r(5),h=r(17)},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).NO_MSE="NO_MSE",t.NO_CODECS="NO_CODECS",t.NO_SUPPORTED_DRM="NO_SUPPORTED_DRM",t.NO_SUPPORTED_FORMAT="NO_SUPPORTED_FORMAT"},function(e,t,r){"use strict";r.d(t,"a",function(){return i});const n=r(255),i=function(e){void 0===e&&(e=window);e=n(e);return"boolean"==typeof e?-1:e}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=e=>{try{var{left:t,right:r,top:n,bottom:i}=e.getBoundingClientRect();return{left:t,right:r,top:n,bottom:i,width:r-t,height:i-n}}catch(e){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(52),i=r(215),a=r(153);class o{static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)}static isSafariDesktop(){return i.a&&!n.a}static setDeviceType(e){this.deviceType=e}static isSmartTV(){return"SMART_TV"===this.deviceType||/Smart.?TV|PlayStation/i.test(navigator.userAgent)}static canPlayHlsOnNative(){return this.isSmartTV()||a.a}}o.deviceType=void 0},function(e,t,r){var n=r(86),i=r(352),a=r(110),o=r(296),s=r(357),r=r(378),c=i("wks"),d=n.Symbol,l=r?d:d&&d.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(d,e)?c[e]=d[e]:c[e]=l("Symbol."+e)),c[e]}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(54);const i=e=>{const t=[];for(;e;)try{if(Object(n.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(e){break}return t}},function(e,t,r){"use strict";function n(e){var{userAgent:t=""}=(e=void 0===e?window:e).navigator,r=/Android/.test(t),e=Object(i.a)(e),t=/com\.yandex\.mobile\.metrica\.ads\.sdk.*?Android/.test(t);return r&&!e||t}r.d(t,"a",function(){return n});var i=r(212)},function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=!0);var r=Object(i.a)(e);return r?!e[r]:t}r.d(t,"a",function(){return n});var i=r(207)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){var t=p[e];if(t)return t;f.href=e;let r=f.pathname||"";"/"!==r.charAt(0)&&(r="/"+r);t={href:f.href,protocol:f.protocol,host:f.host,hostname:f.hostname,port:f.port,pathname:r,search:f.search,hash:f.hash,baseDomain:(f.hostname||"").split(".").slice(-2).join(".")};return n({},p[e]=t)}function a(e,t,r){if(void 0===t)return e;if(void 0===r)return e;r=encodeURIComponent(t)+"="+encodeURIComponent(r);return f.href=e,f.search=f.search?f.search+"&"+r:"?"+r,f.href}function o(e,t){return f.href=e,((f.hash||"").slice(1).split("&").map(e=>e.split("=")).map(e=>{var[t,e]=e;return[t,void 0===e?"":e]}).find(e=>{var[e]=e;return e===t})||[])[1]}function s(e,t,r){if(void 0===t)return e;if(void 0===r)return e;r=encodeURIComponent(t)+"="+encodeURIComponent(r);return f.href=e,f.hash=f.hash?f.hash+"&"+r:"#"+r,f.href}function c(e,t,r){return e=function(e,t){if(-1===e.indexOf("#"))return e;f.href=e;t=u(f.hash.slice(1),t);return f.hash=t?"#"+t:"",f.href}(e,t),void 0===r?e:s(e,t,r)}function d(e,t,r){void 0===r&&(r={});for(const r in t)t.hasOwnProperty(r)&&(e=a(e,r,t[r]));for(const t in r)r.hasOwnProperty(t)&&(e=s(e,t,r[t]));return e}function l(e,t){if(-1===e.indexOf("?"))return e;f.href=e;t=u(f.search.slice(1),t);return f.search=t?"?"+t:"",f.href}function u(e,t){return e.split("&").filter(e=>e!==t&&0!==e.indexOf(t+"=")).join("&")}function h(e,t){return-1===e.indexOf("?")?e:t.reduce(l,e)}r.d(t,"e",function(){return i}),r.d(t,"a",function(){return a}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return s}),r.d(t,"g",function(){return c}),r.d(t,"c",function(){return d}),r.d(t,"f",function(){return h});const f=document.createElement("a"),p={}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var a=r(106);let n=function(e,t,r){e.attachEvent("on"+t,r)},i=function(e,t,r){e.detachEvent("on"+t,r)};Object(a.a)(document,"addEventListener")&&Object(a.a)(document,"removeEventListener")&&(n=function(e,t,r,n){const i=e&&Object(a.a)(e,"addEventListener");i&&i.call(e,t,r,n)},i=function(e,t,r,n){const i=e&&Object(a.a)(e,"removeEventListener");i&&i.call(e,t,r,n)})},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).USER_VOLUME="yandexJSPlayerApiSavedUserAdjustedVolume",t.VOLUME="yandexJSPlayerApiSavedUserVolume",t.MUTED="yandexJSPlayerApiSavedUserMuted",t.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD="yandexJSPlayerApiSavedSingleVideoSessionWatchedTimeSinceAd",t.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD_UTC_TIMESTAMP="yandexJSPlayerApiSavedSingleVideoSessionWatchedTimeSinceAdUtcTimestamp"},function(e,t,r){"use strict";r.d(t,"a",function(){return a});const n={}.toString,i=/\[object (\w+)\]/,a=e=>{const t=n.call(e);if(!t)return null;e=t.match(i);return e&&e[1]||null}},function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Object(i.a)(e)&&e.forEach(e=>{"function"==typeof e&&e(...r)})}r.d(t,"a",function(){return n});var i=r(99)},function(e,t,r){"use strict";function n(e){let{src:t,checkLoad:r,onLoad:n=l.a,withCredentials:i=!1}=e;return y[t]||(y[t]=Object(u.a)({checkLoad:r,src:t,retries:3,dropCacheOnRetry:!0,onBeforeLoad:e=>{i||(e.crossOrigin="anonymous")}}).then(n),y[t].catch(()=>delete y[t])),y[t]}function i(){return n({src:p.d,checkLoad:()=>"undefined"!=typeof Hls})}function a(){return n({src:p.f,checkLoad:()=>"undefined"!=typeof shaka}).then(()=>shaka.polyfill.installAll())}function o(){return n({src:"./js/avplay_proxy_controller.js",checkLoad:()=>void 0!==v.b.avplayProxyController})}function s(){return n({src:f.b,checkLoad:()=>void 0!==v.b.webOSController})}function c(){return n({src:"./js/orsay_video_element.js",checkLoad:()=>void 0!==v.b.orsayVideoElement})}function d(){return n({src:h.a,checkLoad:()=>void 0!==v.b.playstationVideoElement})}r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"f",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"g",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return d});var l=r(3),u=(r(28),r(138)),h=r(105),f=r(139),p=r(48),v=r(35);const y={}},function(e,t,r){"use strict";function n(t){let r="";for(let e=0;e<t;e++)r+=(16*Object(i.a)()|0).toString(16);return r}r.d(t,"a",function(){return n});var i=r(66)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n={service:"StreamPlayer",useSendBeacon:!0,logUrl:"https://log.strm.yandex.ru/log",version:"1.0-6101"}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});const n=1,i=[.25,.5,.75,1,1.25,1.5,1.75,2]},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){Object(o.a)(()=>{window.Ya.Rum.time(e)})}function a(t,r){void 0===r&&(r={}),Object(c.a)()&&Object(o.a)(()=>{var e=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(r,["additional"]);window.Ya.Rum.timeEnd(t,n({},e,{"-additional":Object(s.b)(r)}))})}r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});var o=r(22),s=r(29),c=r(168)},function(r,e,t){!function(e){function t(e){return e&&e.Math==Math&&e}r.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}.call(this,t(350))},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(164);const n=-1===r.b.indexOf(r.a)},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).TestFeature="TestFeature",t.NativeUI="NativeUI",t.SkippableFragments="SkippableFragments",t.Xray="Xray",t.NonStop="NonStop",t.Recommendations="Recommendations",t.CloseButton="CloseButton"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});t=r(103),r=r(174);const n={from:t.a,reqid:void 0,hash:void 0,vsid:r.a,adsid:void 0}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=document.createElement("video")},function(e,t,r){"use strict";function n(e){e&&"function"==typeof e.catch&&e.catch(e=>{})}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e,t){const r=e.style;for(const e in t)t.hasOwnProperty(e)&&(r[d(e)]=t[e])}r.d(t,"a",function(){return n});var i=r(17);let a;const o=(void 0===(t=window)&&(t=window),a=a||t.document.createElement("div"),a);var s=r(60);const c={},d=function(e){return void 0===e&&(e=""),c[e]||function(t){var r=""+t[0].toUpperCase()+t.slice(1);for(let e=0;e<s.b.length;e++){var n=s.b[e],n=n?n+r:t;if(((e,t)=>{const r=void 0!==o.style[e];if(r&&t&&Object(i.a)(t))try{o.style.cssText=e+": "+t+";";const r=Boolean(o.style.cssText);return o.style.cssText="",r}catch(e){return!1}return r})(n))return c[t]=n}return c[t]=t}(e)}},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).OFFLINE="offline",t.IDLE="idle",t.ATTEMPT="attempt",t.PLAYING="playing",t.ERROR="error"},function(e,t,r){"use strict";function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e){var{partnerId:t,partner_id:r=t,category:n=g,impId:i,imp_id:a=i,hasPreroll:o,useAdSession:s,countableNonLinearInAdSession:c,videoContentId:d,video_content_id:l=d,videoContentName:u,video_content_name:h=u,videoPublisherId:f,video_publisher_id:p=f,videoPublisherName:v,video_publisher_name:t=v,videoGenreId:i,video_genre_id:d=i,videoGenreName:u,video_genre_name:f=u,distrId:v,distr_id:i=v,adBreaks:u,rewindTime:v}=e;return y({},function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,["partnerId","partner_id","category","impId","imp_id","hasPreroll","useAdSession","countableNonLinearInAdSession","videoContentId","video_content_id","videoContentName","video_content_name","videoPublisherId","video_publisher_id","videoPublisherName","video_publisher_name","videoGenreId","video_genre_id","videoGenreName","video_genre_name","distrId","distr_id","adBreaks","rewindTime"]),{partnerId:Number(r),category:Number(n),impId:void 0!==a?parseInt(String(a),10)||0:void 0,hasPreroll:"boolean"==typeof o?o:void 0,useAdSession:"boolean"!=typeof s||s,countableNonLinearInAdSession:"boolean"==typeof c&&c,videoContentId:l,videoContentName:h,videoPublisherId:p,videoPublisherName:t,videoGenreId:d,videoGenreName:f,distrId:i,adBreaks:u,rewindTime:Object(m.a)(v)?v:E.a})}r.d(t,"a",function(){return n});var m=r(7);const g=0;var E=r(225)},function(e,t,r){"use strict";let n,i;r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),(t=n=n||{}).FULL="stream_player_js.full",t.DEFAULT="stream_player_js",t.NATIVE_UI="stream_player_js.native_ui",t.KINOPOISK="stream_player_js.kinopoisk",(t=i=i||{}).FULL="stream_player_js.full.modern",t.DEFAULT="stream_player_js.modern",t.NATIVE_UI="stream_player_js.native_ui.modern",t.KINOPOISK="stream_player_js.kinopoisk.modern"},,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(246),i=Math.min;e.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(79),r=r(106);const i=Object(r.a)(Array,"isArray"),a=Boolean(i)?e=>i.call(Array,e):e=>"Array"===Object(n.a)(e)},function(e,t,r){"use strict";function n(e){var t=(e=void 0===e?window:e).navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!Object(i.a)(e)}r.d(t,"a",function(){return n});var i=r(177)},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});r=r(0);const n=1,i=Object(r.j)(10)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n,i=r(113),t=r(100),r=r(178);const a=(void 0===n&&(n=window),Object(r.a)(n)||Object(t.a)(n)||(void 0===(n=n)&&(n=window),/Apple/.test(n.navigator.vendor)&&Object(i.a)(n)))},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="other"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(0);const n=Object(r.k)(Object(r.j)(5))},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return a});r=r(202);const n=Object(r.a)(),i="./js/playstation_video_element.js";let a,o=n;(r={}).OK="ok",r.FAIL="fail",(r={}).GetAudioTracks="getAudioTracks",r.GetSubtitleTracks="getSubtitleTracks",r.GetPlaybackTime="getPlaybackTime",r.GetSeekWindow="getSeekWindow",r.GetPlaySpeed="getPlaySpeed",r.GetVideoResolution="getVideoResolution",r.Load="load",r.Pause="pause",r.Play="play",r.SetAdaptiveStreamingParameters="setAdaptiveStreamingParameters",r.SetAudioTrack="setAudioTrack",r.SetVolume="setVolume",r.SetPlayTime="setPlayTime",r.SetSubtitleTrack="setSubtitleTrack",r.SetClosedCaptions="setClosedCaptions",r.SetForwardCloseCaptionTimedMetadata="setForwardCloseCaptionTimedMetadata",r.SetTimedMetadata="setTimedMetadata",r.SetVideoPortalSize="setVideoPortalSize",r.SetVideoStartingBandwidth="setVideoStartingBandwidth",r.Stop="stop",r.SetFixVideoRepresentations="setFixVideoRepresentations",r.GetRepresentationsCount="getRepresentationsCount",r.GetRepresentationInfo="getRepresentationInfo",r.GetBitrate="getBitrate",r.SetRepresentationEnable="setRepresentationEnable",r.SetRepresentationDisable="setRepresentationDisable",r.IsRepresentationEnable="isRepresentationEnable",(r={}).ContentAvailable="contentAvailable",r.ApplicationStatusChange="applicationStatusChange",r.NetworkStatusChange="networkStatusChange",r.PlayerStatusChange="playerStatusChange",r.PlayerStreamingError="playerStreamingError",r.PlayerError="playerError",r.PlayerMessage="playerMessage",r.PlayerTimedEvent="playerTimedEvent",(r=a=a||{})[r.MP4=1]="MP4",r[r.MSS=2]="MSS",r[r.Dash=4]="Dash",r[r.DashMPEG2=6]="DashMPEG2",r[r.HLS=8]="HLS",r[r.MPEG2=9]="MPEG2",(r={}).ApplicationMP4="application/mp4",r.VideoMP4="video/mp4",r.AudioMP4="audio/mp4",r.MSS="application/vnd.ms-sstr+xml",r.Dash="application/dash+xml",r.DashMPEG2="application/dash_ts+xml",r.HLS="application/vnd.apple.mpegurl",r.MPEG2="video/mp2t",(r={}).BUFFERING="buffering",r.END_OF_STREAM="endOfStream",r.NOT_READY="notReady",r.READY="ready",r.OPENING="opening",r.PAUSED="paused",r.PLAYING="playing",r.DISPLAYING_VIDEO="DisplayingVideo",r.STOPPED="stopped",r.UNKNOWN="unknown",(r={}).BACKGROUND="background",r.FOREGROUND="foreground",(r={}).DISCONNECTED="disconnected",r.CONNECTING="Connecting",r.CONNECTED="Connected",r.UNKNOWN="unknown",(r={}).WIRED="wired",r.WIRELESS="wireless",r.PHONE="phone",r.UNKNOWN="unknown",(r={}).CONNECTION_FAILED="http_connection",r.HTTP_STATUS="http_status_code",(r={}).VIDEO="video_error",r.DRM="drm_error",(r={}).FileNonInterleaved="0x806A00A0",r.StreamLoopingBack="0x806A00A1",r.JumpCompleted="0x806A00A3",r.Encoded="0x1000",(r={}).Emsg="emsg",r.Text="text",r.Data="data",r.CloseCaption="cea-708",r.Webvtt="webvtt"},function(e,t,r){"use strict";function n(e,t){let r=e[t];if(!Object(i.a)(r)){var n=r;try{delete e[t];const i=e[t];"function"==typeof i&&(r=i),e[t]=n}catch(e){}}return r}r.d(t,"a",function(){return n});var i=r(23)},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).Unknown="Unknown",t.ExternalApi="ExternalApi",t.VisiblePlayback="VisiblePlayback",t.RestoreAfterInsertInto="RestoreAfterInsertInto"},function(e,t){e.exports=function(r){var o=[];return o.toString=function(){return this.map(function(e){var t=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){e="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */",t=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(t).concat([e]).join("\n")}return[r].join("\n")}(e,r);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},o.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(r[i]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),o.push(a))}},o}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){function o(e){throw e}var s=r(155),c=r(97),d=r(110),l=Object.defineProperty,u={};e.exports=function(e,t){if(d(u,e))return u[e];var r=[][e],n=!!d(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=d(t,0)?t[0]:o,a=d(t,1)?t[1]:void 0;return u[e]=!!r&&!c(function(){if(n&&!s)return!0;var e={length:-1};n?l(e,1,{enumerable:!0,get:o}):e[1]=1,r.call(e,i,a)})}},function(e,t,r){var n=r(248),i=r(110),a=r(399),o=r(131).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,r){"use strict";function i(e,t){if(!Object(o.a)(e.matchMedia))return!1;t=e.matchMedia(t);return Object(s.a)(t)&&Boolean(t.matches)}function n(e){return void 0===e&&(e=window),n=e,Boolean(n.PointerEvent)&&0<function(){var{msMaxTouchPoints:e,maxTouchPoints:t}=n.navigator||{};return e||t||0}()&&!Object(a.a)(n)||i(e,c)||i(e,d)||(r=(t=e).DocumentTouch,Boolean(r)&&t.document instanceof r)||"ontouchstart"in e;var t,r,n}r.d(t,"a",function(){return n});var a=r(157),t=r(51),o=r(14),s=r(5),r=r(60);const c=Object(t.a)(r.a,e=>"("+e+"any-pointer:coarse)").join(","),d=Object(t.a)(r.a,e=>"("+e+"touch-enabled)").join(",")},function(e,t,r){"use strict";function n(e){return-1<a.a.indexOf(Object(i.g)(e).hostname)}r.d(t,"a",function(){return n});var i=r(12),a=r(304)},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"d",function(){return a}),r.d(t,"c",function(){return o});r=r(32);const n=1,i=0,a=r.a.internalToPublic(i),o=r.a.internalToPublic(n)},function(e,t,r){"use strict";let n;r.d(t,"a",function(){return n}),(t=n=n||{}).SetMuted="SetMuted",t.SetVolume="SetVolume",t.RequestAutoplaySettings="RequestAutoplaySettings",t.VolumeChangeEvent="VolumeChangeEvent",t.RestoreSavedMuted="RestoreSavedMuted"},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(19);const i=function(e){return void 0===e&&(e=window),/YaBrowser/.test(Object(n.a)(e))}},function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return s});var n=r(17),t=r(180),i=r(220);const a=e=>{try{var t=Object(n.a)(e)?Object(i.a)(e):e;return"number"==typeof t&&1410<=t}catch(e){return!1}},o=a("1.0-6101"),s=(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(e){}return!1})(r=window)&&Object(t.a)(r)},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(136),s=a(r(327));t.ZodErrorCode=o.util.arrayToEnum(["invalid_type","nonempty_array_is_empty","custom_error","invalid_union","invalid_literal_value","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big"]),t.quotelessJson=function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")};var c,i=(c=Error,i(d,c),Object.defineProperty(d.prototype,"message",{get:function(){for(var e=[this.errors.length+" validation issue(s)",""],t=0,r=this.errors;t<r.length;t++){var n=r[t];e.push("  Issue #"+this.errors.indexOf(n)+": "+n.code+" at "+n.path.join("./index")),e.push("  "+n.message),e.push("")}return e.join("\n")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"isEmpty",{get:function(){return 0===this.errors.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!0,configurable:!0}),d.create=function(e){return new d(e)},d);function d(e){var a=c.call(this)||this;return a.errors=[],a.addError=function(e){a.errors=a.errors.concat([e])},a.addErrors=function(e){a.errors=a.errors.concat(e=void 0===e?[]:e)},a.flatten=function(){for(var e={},t=[],r=0,n=a.errors;r<n.length;r++){var i=n[r];0<i.path.length?(e[i.path[0]]=e[i.path[0]]||[],e[i.path[0]].push(i.message)):t.push(i.message)}return{formErrors:t,fieldErrors:e}},s.default(a,d.prototype),a.errors=e,a}t.ZodError=i},function(e,t,r){"use strict";function n(){return o.a||a.a&&(e=l.a||u||c,t=i.a<5,e||t);var e,t}r.d(t,"a",function(){return n});var i=r(187),a=r(55),o=r(145),s=r(19);const c=function(e){void 0===e&&(e=window);const t=Object(s.a)(e).toLowerCase();return-1!==t.indexOf("huaweibrowser")||-1!==t.indexOf("cmsurfclient")}(window);var d,l=r(230);const u=(void 0===d&&(d=window),/xiaomi\/miuibrowser\/([\w\.]+)/i.test(d.navigator.userAgent))},function(e,t,r){"use strict";function n(e){}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(){return{init:[],start:[],end:[],setSource:[],adStart:[],adEnd:[],sourceStart:[],play:[],pause:[],seek:[],firstQuartile:[],midpoint:[],thirdQuartile:[],viewed:[],heartbeat:[],watchedTime:[],error:[]}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(){return Object(i.j)(Date.now()/1e3)}r.d(t,"a",function(){return n});var i=r(0)},function(e,t,r){"use strict";function n(e,t){for(const r in t)Object(i.a)(t,r)&&(e[r]=t[r])}r.d(t,"a",function(){return n});var i=r(42)},function(e,t,r){"use strict";function a(e){return E?Object(A.a)(e.location.ancestorOrigins):[]}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return z}),r.d(t,"b",function(){return q});var n=r(73),d=r(14),i=r(5);const o="__ADB_CONFIG__",s=Object(i.a)(o)&&o.fn&&Object(d.a)(o.fn.encodeUrl)?o.fn.encodeUrl:void 0,c=void 0!==s?e=>s(e):void 0,l=function(e){if(void 0===e&&(e=window),c)return c;const t=Object(n.a)(e);for(;t.length;){const e=t.pop();if(e){var r=((e,t)=>{for(const r of t.split(".")){if(!Object(i.a)(e)){e=void 0;break}e=e[r]}return e})(e,"ya.videoAd.encodeUrl");if(Object(d.a)(r))return r}}}(window);var u=r(75),f=r(176);const p=Object(f.a)(document.documentElement),v=p["length"],y=0<v?p[v-1].ownerDocument.defaultView:window;var m=r(38),g=r(146);const E=Boolean(window.location.ancestorOrigins);var A=r(27);const T=a(window);var S=r(140),t=r(51);const _=(f=Object(t.a)(p,e=>e.ownerDocument),!!(t=((t=f.length)?f[t-1]:document).defaultView)&&t.self!==t.parent);var b=r(12);const{topAncestor:O,isTrusted:R}=function(e){var t=a(e=void 0===e?window:e);if(0<t.length)return{topAncestor:t[t.length-1],isTrusted:!0};var{location:r,referrer:n}=Object(S.a)(e.document),i=_?n:r,t=!_||function(){let e=y;const t=[y],r=y["top"];for(;e!==r;)e=e.parent,t.push(e);return t}().length<2,{protocol:e,hostname:n,host:r,port:i}=Object(b.g)(i);return{topAncestor:Object(b.h)({protocol:e,hostname:n,host:r,port:i,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:t}}(),P=O,w=R;var C=r(197),I=r(54),N=r(82),k=r(67),L=r(141),D=r(147),j=r(28),M=r(39),x=r(66);const F=Object(x.a)();t=r(180);const V=Object(t.a)(window),U="_$".split("").reverse().join(""),B=e=>"_$invalid_"+e+U,H={sensorName:B("sensor_name"),labelKey:B("label_key"),labelValue:B("label_value")};var K=r(46),r=r(185);Object(r.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const Y=e=>e.isFatal?K.a.fatal:K.a.error,G=/^\w(\-|_|:|\s|\.|\w){1,20}$/,W=/^\w(\-|_|:|\s|\.|\w){0,70}$/,Z=/^\w(\-|_|:|\s|\.|\w){1,70}$/;class z{constructor(e){this.rootFields={},this.labels={},this.event=e=>{var{name:t,data:r,labels:n,probability:i,extraRootFields:e}=e;this.push({eventType:K.a.event,eventName:t,data:r,additionalStatsLabels:n,probability:i,extraRootFields:e})},this.error=e=>{var{error:t,labels:r,probability:n,extraRootFields:e}=e,t=new m.a(t);this.push({eventName:String(t.code),eventType:Y(t),data:t,additionalStatsLabels:r,probability:n,extraRootFields:e})},this.value=e=>{var{name:t,value:r,data:n,labels:i,probability:a,extraRootFields:e}=e;this.push({eventName:t,value:r,eventType:K.a.value,data:n,additionalStatsLabels:i,probability:a,extraRootFields:e})},this.values=e=>{var{name:t,values:r,data:n,labels:i,probability:a,extraRootFields:e}=e;this.push({eventName:t,eventType:K.a.values,data:n,additionalStatsLabels:i,probability:a,values:r,extraRootFields:e})},this.warning=e=>{var{name:t,message:r,probability:n,extraRootFields:e}=e;Object(i.a)(console)&&Object(d.a)(console.warn)&&console.warn(r),this.push({eventName:t,eventType:K.a.warning,data:{message:r},probability:n,extraRootFields:e})},this.getParams=()=>function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(this.params,["onLogError"]),this.setRootFields=e=>{Object(M.a)(e).forEach(e=>{var[t,e]=e;void 0===e?delete this.rootFields[t]:this.rootFields[t]=e})},this.setLabels=e=>{Object(M.a)(e).forEach(e=>{var[t,e]=e;void 0===e?delete this.labels[t]:this.labels[t]=e})},this.eventToStats=(e,t,r,n)=>{this.push({eventType:K.a.event,eventName:e,data:t,additionalStatsLabels:r,extraRootFields:n})},this.errorToStats=(e,t,r)=>{e=new m.a(e);this.push({eventName:String(e.code),eventType:Y(e),data:e,additionalStatsLabels:t,extraRootFields:r})},this.deprecated=(e,t)=>{Object(i.a)(console)&&Object(d.a)(console.warn)&&console.warn(t),this.push({eventName:e,eventType:K.a.deprecated,data:{message:t}})},this.valueToStats=(e,t,r,n)=>{this.push({eventName:e,value:t,eventType:K.a.value,data:r,additionalStatsLabels:n})};const t=e["onLogError"];this.params=h({},e,{sid:e.sid||Object(N.a)(64),onLogError:t?e=>{try{t(e)}catch(e){Object(g.a)(e)}}:g.a}),this.logUrl=z.getLogUrl(e),this.isStrmLogUrl="https://strm.yandex.ru/log"===this.logUrl}static getLogUrl(e){return e.logUrl||(!0===e.useAlias?"https://jstracer.yandex.ru/jstracer":"https://an.yandex.ru/jstracer")}push(e){let{eventName:t,eventType:r,data:n={},additionalStatsLabels:i,value:a=1,probability:o=1,values:s={},extraRootFields:c={}}=e;if(function(e,t){const r=((t=void 0===t?!1:t)?Object(x.a)():F)<e,n=void 0;return"function"==typeof n&&n(),r}(o)){var{service:d,version:l}=this.params,u={service:d,version:l,data:n,eventName:t,eventType:r,additionalStatsLabels:i,value:a,values:s};if(z.isSendingData)throw new m.a({message:"RecursiveStatsRequests",details:{service:d,version:l,eventType:r,eventName:t}});z.isSendingData=!0;try{let e=this.logUrl;this.params.sendOnlyPrimaryParams||(e=Object(b.b)(this.logUrl,h({[d]:l,[r]:t},i)));const n=this.createFullStatsObject(u,c),{routeToJSTracer:a=!0}=c;this.isStrmLogUrl&&a&&(n.routeToJSTracer=!0),this.sendData(e,Object(k.a)(n))}catch(e){z.isSendingData=!1,this.params.onLogError(new m.a(e,{details:{service:d,version:l,eventType:r,eventName:t}}))}z.isSendingData=!1}}sendData(e,t){var r,n;this.params.useSendBeacon&&(r=e,n=t,V&&window.navigator.sendBeacon(r,n))||Object(L.a)({url:e,data:t,method:"POST",onBeforeSend:this.params.onBeforeSend})}createFullStatsObject(e,t){var{service:r,version:n,eventName:i,eventType:a,data:o,additionalStatsLabels:s,value:c}=e,e=(this.params.createTagsFunction||(e=>{let{eventType:r,eventName:n,value:t,values:i}=e;const a={};return Object(j.a)(i,(e,t)=>{a[r+"_"+n+"_"+t]=e}),h({[r+"_"+n]:t},a)}))(e),s=h({},this.labels,s,{version:this.params.version}),r={service:r,tags:Object(D.a)(Object(M.a)(e).map(e=>{var[t,e]=e;return Z.test(t)?[t,e]:[H.sensorName,e]})),labels:Object(D.a)(Object(M.a)(s).map(e=>{let[t,r]=e,n=t,i=r;return G.test(n)||(n=H.labelKey),W.test(i)||(i=H.labelValue),[n,i]}))},{location:e,referrer:s}=Object(S.a)(document);return h({},t,this.rootFields,r,{timestamp:Date.now(),eventType:a,eventName:i,data:o,sid:this.params.sid,version:n,location:Object(I.a)(window),topLocation:e,topAncestor:P,isTopAncestorUndetermined:!w||void 0,ancestorOrigins:T,documentIsVisible:Object(u.a)(document),referrer:window.document.referrer,topReferrer:s,currentScriptSrc:C.a,secureIFrame:_,isVideoADB:Object(d.a)(l),value:c,rnd:F,topDocumentFocus:function(){if(y&&y.document&&"function"==typeof y.document.hasFocus)try{return y.document.hasFocus()}catch(e){}}()})}}z.isSendingData=!1;const q=new z({service:"CommonPcode",version:"0",sid:Object(N.a)(64)})},function(e,t,r){"use strict";function n(e){if(void 0===e)return a.a.DEFAULT;var t=function(e){switch(e){case o.a.DEFAULT_ERROR:return a.a.DEFAULT;case o.a.BROADCAST_AD_BLOCK_INIT_ERROR:case o.a.AD_LOADER_INIT_ERROR:case o.a.AD_TYPE_IS_NOT_RECOGNIZED:case o.a.AD_IS_ALREADY_PLAYING:case o.a.AD_CANNOT_FIND_CONTAINER_TO_PLAY:case o.a.MULTIROLL_INIT_ERROR:case o.a.PREROLL_ERROR:case o.a.PLAY_AD_VIEWERS_ERROR:return a.a.ADS;case o.a.INVALID_METADATA:case o.a.INVALID_STREAM_URL:case o.a.UNEXPECTED_FEATURE_NAME:case o.a.UNEXPECTED_FEATURE_ACTION_NAME:case o.a.NO_PARAMS_IN_FEATURE_ACTION:case o.a.REQUIRED_FEATURE_IS_NOT_IN_BUNDLE:case o.a.NO_STREAMS:return a.a.CONFIG;case o.a.YANDEX_RPC_ERROR:case o.a.PUBLIC_API_CALL_ERROR:case o.a.ON_TICK_ERROR:case o.a.SAGA_ERROR:case o.a.SHAKA_FILTER_ERROR:case o.a.SHAKA_CONFIGURE_ERROR:case o.a.REFRESH_SUBTITLES_ERROR:case o.a.NO_HLS_JS_INSTANCE:case o.a.INVALID_PLAYBACK_RATE_VALUE:case o.a.RAA_TAKING_2SEC:case o.a.RAA_TAKING_10SEC:case o.a.REACT_COMPONENT_DID_CATCH_ERROR_INFO:case o.a.FEATURE_ACTION_DISPATCH_ERROR:case o.a.TANKER_KEY_ERROR:case o.a.RECOVER_TASK_ERROR:case o.a.PRELOAD_SOURCE_FAILED:case o.a.CANNOT_SELECT_TRACK:case o.a.MEDIA_ERR_ABORTED:return a.a.EXCEPTION;case o.a.UNSUPPORTED_MEDIA_TYPE:case o.a.MPD_NOT_SUPPORTED_ERROR:case o.a.NATIVE_HLS_NOT_SUPPORTED_ERROR:case o.a.HLS_JS_NOT_SUPPORTED_ERROR:case o.a.HLS_JS_INVALID_MANIFEST_URL:case o.a.MEDIA_ERR_SRC_NOT_SUPPORTED:case o.a.MEDIA_ERR_DECODE:case o.a.MEDIA_ERR_CUSTOM:return a.a.MEDIA;case o.a.SCRIPT_INIT_ERROR:case o.a.MPD_SHAKA_INIT_ERROR:case o.a.META_INFO_REQUEST_FAILED:case o.a.STRM_ABD_INVALID_RESPONSE:case o.a.WEBOS_SERVICE_REQUEST_ERROR:return a.a.NETWORK_PLAYER;case o.a.MEDIA_ERR_NETWORK:return a.a.NETWORK_MEDIA;case o.a.MPD_WIDEVINE_CERT_LOAD_ERROR:case o.a.FAIRPLAY_CERT_LOAD_ERROR:case o.a.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR:case o.a.FAIRPLAY_CREATE_KEY_SESSION_ERROR:case o.a.FAIRPLAY_SPC_LOAD_ERROR:case o.a.FAIRPLAY_CREATE_KEY_ERROR:case o.a.FAIRPLAY_INVALID_CONTENT_ID:case o.a.DRM_PROXY_ERROR:case o.a.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:case o.a.DRM_TYPE_NOT_SUPPORTED:case o.a.MISSING_WEBOS_DRM_CLIENT_ID:case o.a.UNEXPECTED_WEBOS_DRM_ERROR:case o.a.MEDIA_ERR_ENCRYPTED:case o.a.FAIRPLAY_NOT_SUPPORTED:case o.a.NO_DRM:return a.a.DRM;case o.a.REGIONAL_LIMITATION_MANIFEST:case o.a.REGIONAL_LIMITATION_LEVEL:case o.a.REGIONAL_LIMITATION_SEGMENT:return a.a.REGIONAL;case o.a.NO_CODECS:return a.a.NO_CODECS;case o.a.NO_PLAYABLE_STREAMS:return a.a.CANNOT_PLAY;case o.a.NO_MSE:return a.a.UNSUPPORTED_ENV;default:Object(i.a)(e)}return a.a.DEFAULT}(e);if(t!==a.a.DEFAULT)return t;var r=e;switch(r){case s.a.BUFFER_FULL_ERROR:case s.a.BUFFER_NUDGE_ON_STALL:case s.a.BUFFER_STALLED_ERROR:case s.a.SHAKA_VIDEO_ERROR_3016:case s.a.FRAG_PARSING_ERROR:case s.a.BUFFER_SEEK_OVER_HOLE:case s.a.BUFFER_APPENDING_ERROR:case s.a.PIPELINE_ERROR_DECODE:case s.a.DECODER_ERROR_NOT_SUPPORTED:case s.a.SHAKA_CONTENT_UNSUPPORTED_BY_BROWSER_4032:case s.a.BUFFER_APPEND_ERROR:case s.a.SHAKA_MEDIA_SOURCE_OPERATION_THREW_3015:case s.a.MEDIA_ELEMENT_ERROR_FORMAT_ERROR:case s.a.REMUX_ALLOC_ERROR:case s.a.BUFFER_ADD_CODEC_ERROR:case s.a.DEMUXER_ERROR_COULD_NOT_OPEN:case s.a.NS_ERROR_DOM_INVALID_STATE_ERR:case s.a.SHAKA_DASH_INVALID_XML_4001:case s.a.SHAKA_QUOTA_EXCEEDED_ERROR_3017:case s.a.CHUNK_DEMUXER_ERROR_APPEND_FAILED:case s.a.FAILED_TO_INIT_DECODER:case s.a.PIPELINE_ERROR_INITIALIZATION_FAILED:case s.a.NS_ERROR_FAILURE:case s.a.SHAKA_MEDIA_SOURCE_OPERATION_FAILED_3014:case s.a.REQUEST_FAILED:case s.a.PIPELINE_ERROR_EXTERNAL_RENDERER_FAILED:case s.a.PIPELINE_ERROR_COULD_NOT_RENDER:case s.a.NS_ERROR_DOM_MEDIA_METADATA_ERR:case s.a.MEDIA_ELEMENT_ERROR_EMPTY_SRC_ATTRIBUTE:case s.a.NS_ERROR_DOM_MEDIA_FATAL_ERR:case s.a.SHAKA_RESTRICTIONS_CANNOT_BE_MET_4012:case s.a.MANIFEST_PARSING_ERROR:return a.a.MEDIA;case s.a.FRAG_LOAD_ERROR:case s.a.SHAKA_BAD_HTTP_STATUS_1001_MANIFEST:case s.a.SHAKA_HTTP_ERROR_1002_SEGMENT:case s.a.MANIFEST_LOAD_ERROR:case s.a.LEVEL_LOAD_ERROR:case s.a.SHAKA_HTTP_ERROR_1002_MANIFEST:case s.a.SHAKA_BAD_HTTP_STATUS_1001_SEGMENT:case s.a.SHAKA_UNSUPPORTED_SCHEME_1000:case s.a.AUDIO_TRACK_LOAD_ERROR:return a.a.NETWORK_MEDIA;case s.a.SHAKA_TIMEOUT_1003_SEGMENT:case s.a.FRAG_LOAD_TIME_OUT:case s.a.MANIFEST_LOAD_TIME_OUT:case s.a.LEVEL_LOAD_TIME_OUT:case s.a.SHAKA_TIMEOUT_1003_MANIFEST:case s.a.SHAKA_TIMEOUT_1003_LICENSE:case s.a.AUDIO_TRACK_LOAD_TIME_OUT:return a.a.NETWORK_TIMEOUT;case s.a.UNHANDLED_GLOBAL_ERROR:case s.a.UNHANDLED_PROMISE_REJECTION:case s.a.INTERNAL_EXCEPTION:case s.a.SHAKA_OPERATION_ABORTED_7001:case s.a.ON_PLAYER_INIT_ERROR_INTERNAL:case s.a.EXTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case s.a.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR:case s.a.LOAD_SKIN_ERROR:case s.a.INSERT_INTO_WITH_SECURE_FRAME:return a.a.EXCEPTION;case s.a.UNABLE_TO_LOAD_PLAYER_IFRAME:case s.a.ON_PLAYER_INIT_ERROR:case s.a.LOADER_INIT_ERROR:case s.a.XRAY_REQUEST_BOXES_ERROR:case s.a.UNABLE_TO_LOAD_PLAYER_INTERNAL_SCRIPT:case s.a.FAILED_TO_DOWNLOAD_DEBUG_INFO:case s.a.SHAKA_REQUEST_FILTER_ERROR_1006:return a.a.NETWORK_PLAYER;case s.a.PLAYER_CONTAINER_NOT_FOUND:case s.a.KEY_LOAD_ERROR:case s.a.FEATURE_HANDLER_ERROR:case s.a.SHAKA_NO_LICENSE_SERVER_GIVEN_6012:case s.a.INVALID_CONFIG_ELEMENT_IN_CREATE_PLAYER:case s.a.INVALID_CONFIG_IN_CREATE_PLAYER:case s.a.INVALID_CONFIG_IN_SET_SOURCE:case s.a.INVALID_ADDITIONAL_PARAMS_IN_CREATE_PLAYER:return a.a.CONFIG;case s.a.SHAKA_FAILED_TO_CREATE_CDM_6002:case s.a.SHAKA_HTTP_ERROR_1002_LICENSE:case s.a.SHAKA_LICENSE_REQUEST_FAILED_6007:case s.a.SHAKA_FAILED_TO_GENERATE_LICENSE_REQUEST_6006:case s.a.SHAKA_REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE_6001:case s.a.SHAKA_FAILED_TO_ATTACH_TO_VIDEO_6003:case s.a.SHAKA_LICENSE_RESPONSE_REJECTED_6008:case s.a.SHAKA_INVALID_SERVER_CERTIFICATE_6004:case s.a.SHAKA_EXPIRED_6014:case s.a.SHAKA_BAD_HTTP_STATUS_1001_LICENSE:return a.a.DRM;default:Object(i.a)(r)}return a.a.DEFAULT}r.d(t,"a",function(){return n});var i=r(121),a=r(10),o=r(1),s=r(4)},function(e,t,r){"use strict";function m(e){if(!Object(he.a)(e))return!1;var{utcStart:t,utcEnd:e}=e;return(void 0===t||Object(de.a)(t))&&(void 0===e||Object(de.a)(e))}function ie(e){if("number"!=typeof e)throw new Pe.a("paramsObject.togglePlaybackOnVisibilityChange.threshold must be a number in range (0, 1]");if(0<e&&e<=1)return e;throw new Pe.a("paramsObject.togglePlaybackOnVisibilityChange.threshold must be a number in range (0, 1]")}function ae(e){if("boolean"!=typeof e)throw new Pe.a("paramsObject.togglePlaybackOnVisibilityChange.onlyMuted must be a boolean");return e}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return Array.isArray(e)?e.filter(e=>"string"==typeof e):[]}function n(e){if(Object(he.a)(e)){var{init:t,start:r,end:n,setSource:i,adStart:a,adEnd:o,sourceStart:s,play:c,pause:d,seek:l,firstQuartile:u,midpoint:h,thirdQuartile:f,viewed:p,heartbeat:v,watchedTime:y,error:e}=e;return{init:g(t),start:g(r),end:g(n),setSource:g(i),adStart:g(a),adEnd:g(o),sourceStart:g(s),play:g(c),pause:g(d),seek:g(l),firstQuartile:g(u),midpoint:g(h),thirdQuartile:g(f),heartbeat:(v=v,Array.isArray(v)?v.filter(e=>{if(!Array.isArray(e)||2!==e.length)return!1;var[t,r]=e;if("string"!=typeof t||!m(r))return!1;var{offset:e,delay:t,callsCount:r}=r;return"number"==typeof t&&(void 0===e||Object(de.a)(e))&&(void 0===r||"number"==typeof r&&0<r)}):[]),viewed:(p=p,Array.isArray(p)?p.filter(e=>{if(Array.isArray(e)&&2===e.length){var[t,e]=e;if("string"!=typeof t)return!1;if(!Object(he.a)(e))return!1;{const r=e["percent"];if("number"!=typeof r)return!1}return!0}return!1}):[]),watchedTime:(y=y,Array.isArray(y)?y.filter(e=>{if(!Array.isArray(e)||2!==e.length)return!1;var[t,e]=e;if("string"!=typeof t||!Object(he.a)(e))return!1;var t=e["offset"];return m(e)&&"number"==typeof t}):[]),error:g(e)}}return Object(E.a)()}function se(e){if(void 0!==e&&Object(he.a)(e)){const t=e["trackingEvents"];return{trackingEvents:(Array.isArray(t)?t:[t]).map(n)}}return Re}function ce(e,r){if(void 0===e)return s.a;if(Object(he.a)(e)){var t=Object(pe.a)(e,(e,t)=>void 0===e?void 0:("string"!=typeof e&&r&&r.warning({name:"AdditionalParamsValueType",message:"additionalParams."+t+" must be a string or undefined"}),String(e))),e=t["from"];return void 0===e?oe({},t,{from:s.a.from}):t}throw new Pe.a("additionalParams must be an object or undefined")}function i(e){if(!Object(he.a)(e))throw new Pe.a("paramsObject must be an object");if(!e.element)throw new Pe.a("paramsObject must have property [element]");var e=e["element"];let t;if(Object(o.a)(e))t=e;else{if("string"!=typeof e)throw new Pe.a("paramsObject.element must be a string or HTMLElement id");{const r=document.getElementById(e);if(!r)throw new Pe.a("cannot find element with id: ["+e+"]");t=r}}return t}function a(e,t){if(!Object(he.a)(e))throw new Pe.a("paramsObject must be an object");if(!e.stream&&!e.source)throw new Pe.a("paramsObject must have property [source]");const r=[],{stream:n,source:i,size:a,hidden:o,showBrandLogo:s,showBrandIntro:c,showBrandPlayButton:d,showUnmuteButtonForAll:l,autoplay:u,autoQuality:h,preview:f,handlers:p,partnerId:v,adConfig:y,debug:m,startPosition:g,preload:E,additionalParams:A,env:T,volume:S,muted:_,maxBufferLength:b,liveOffset:O,report:R,skinConfig:P,withCredentials:w,preferNative:C,useAbdBundle:I,features:N,togglePlaybackOnVisibilityChange:k,restoreTabSessionPlaybackProgress:L,startPositionConfirmation:D,useFriendlyFrame:j,handleVideoTagClickWhenHidingNativeControls:M=!0,shouldPlayOnFirstClick:x,device:F,useFallbackStream:V,maxRecoverAttempts:U}=e,B={logCalls:!1,logEvents:!1,logInternals:!1};if("boolean"==typeof m)B.logCalls=m,B.logEvents=m,B.logInternals=m;else if(Object(he.a)(m)){if("boolean"==typeof m.logCalls)B.logCalls=m.logCalls;else if(void 0!==m.logCalls)throw new Pe.a("paramsObject.debug.logCalls must be a boolean or undefined");if("boolean"==typeof m.logEvents)B.logEvents=m.logEvents;else if(void 0!==m.logEvents)throw new Pe.a("paramsObject.debug.logEvents must be a boolean or undefined");if("boolean"==typeof m.logInternals)B.logInternals=m.logInternals;else if(void 0!==m.logInternals)throw new Pe.a("paramsObject.debug.logInternals must be a boolean or undefined")}else if(void 0!==m)throw new Pe.a("paramsObject.debug must be a boolean or undefined or an object");let H;if(void 0!==g){if(r.push({code:"StartPosition",message:"startPosition is deprecated, use stream.startPosition"}),!Object(de.a)(g))throw new Pe.a("paramsObject.startPosition must be a finite number or undefined");H=Object(ye.j)(g)}var K=Object(he.a)(n)?se(n.trackings):Re;if(void 0!==f&&"string"!=typeof f)throw new Pe.a("paramsObject.preview must be a string or undefined");if(f&&r.push({code:"Preview",message:"preview is deprecated, use stream.preview"}),void 0!==v&&!Object(de.a)(v)&&null!==v)throw new Pe.a("paramsObject.partnerId must be a finite number or undefined");v&&r.push({code:"PartnerId",message:"partnerId is deprecated, use stream.adConfig.partnerId"}),y&&r.push({code:"AdConfig",message:"adConfig is deprecated, use stream.adConfig"}),$=Object(he.a)(n)&&Object(he.a)(n.adConfig)?Object(Ne.a)(n.adConfig):y?Object(Ne.a)(oe({},y,{partnerId:y.partner_id||y.partnerId||v||void 0})):Object(Ne.a)({partnerId:v||void 0}),void 0!==w&&r.push({code:"BooleanWithCredentials",message:"withCredentials is deprecated, use stream.withCredentials"});var Y=void 0===w?void 0:Boolean(w);let G;if(Object(he.a)(i))G=Object(Me.a)(i,t,{isForSetSource:!1});else if("string"==typeof n)r.push({code:"StringStream",message:"string [stream] param is deprecated, use stream object with stream.mq param"}),G={streams:[{url:n}],loop:!1,trackings:K,preview:f||Oe.a,adConfig:$,additionalParams:ce(A,t),withCredentials:Y,startPosition:H,videoInfo:Object(Ce.a)(void 0,$)};else{if(!Object(he.a)(n))throw new Pe.a("paramsObject.source must be an object");{r.push({code:"StreamObject",message:"[stream] param is deprecated, use [source] param"});const{lq:te,hq:re,hd:ie,mq:ae}=n;if("string"!=typeof te&&"string"!=typeof ae&&"string"!=typeof re&&"string"!=typeof ie)throw new Pe.a("paramsObject.stream must have at least one of string parameters: lq, mq, hq, hd");{(te||re||ie)&&r.push({code:"LqHqHd",message:"lq, hq, hd params are deprecated, use stream.mq"});const{drmConfig:oe,logoConfig:i,preview:a,additionalParams:se,withCredentials:o,startPosition:s}=n;if(void 0!==a&&"string"!=typeof a)throw new Pe.a("paramsObject.stream.preview must be a string or undefined");const c=Object(he.a)(i)&&Object(Ie.a)(i)&&Object(ve.a)(i.src);if(void 0!==i&&!c)throw new Pe.a("paramsObject.stream.logoConfig must be a valid LogoConfig or undefined");if(!Object(Ie.a)(oe))throw new Pe.a("paramsObject.stream.drmConfig must be serializable");if(void 0!==s){if(!(Object(de.a)(s)&&0<=s))throw new Pe.a("paramsObject.stream.startPosition must be a NOT negative finite number or undefined");H=Object(ye.j)(s)}if(void 0!==o&&"boolean"!=typeof o)throw new Pe.a("paramsObject.stream.withCredentials must be a boolean or undefined");G={streams:[{url:ie||re||ae||te,drmConfig:oe}],loop:!0===n.loop,trackings:K,logoConfig:i,preview:a||f||Oe.a,adConfig:$,additionalParams:ce(void 0===se?A:se,t),withCredentials:"boolean"==typeof o?o:Y,startPosition:H,videoInfo:Object(Ce.a)(void 0,$)}}}}var{additionalParams:{from:e=Ee.a}={}}=G||{};t&&t.setLabels({from:e});const W={width:"100%",height:"100%"};if(Object(he.a)(a)){const{width:te,height:ne}=function(){var{width:e,height:t}=a;const r={};return Object(de.a)(t)?r.height=String(t)+"px":Object(ve.a)(t)&&(r.height=t),Object(de.a)(e)?r.width=String(e)+"px":Object(ve.a)(e)&&(r.width=e),r}();if(void 0===ne)throw new Pe.a("paramsObject.size.height must be a string or an number");if(void 0===te)throw new Pe.a("paramsObject.size.width must be a string or an number");W.width=te,W.height=ne}else if(void 0!==a)throw new Pe.a("paramsObject.size must be an object or undefined");let Z="";if(void 0!==o){if("string"!=typeof o)throw new Pe.a("paramsObject.hidden must be a string or undefined");{const te=o.split(",").map(e=>e.trim()).filter(e=>""!==e);for(let e=0;e<te.length;e++){const r=te[e];if(!me.a.some(e=>e===r))throw new Pe.a("Unresolved control name in paramsObject.hidden: "+r)}Z=te.join(",")}}let z=ge.a,q=be.a;if(void 0!==u)if("boolean"==typeof u)z=u;else{if(!Object(he.a)(u))throw new Pe.a("paramsObject.autoplay must be a boolean, undefined or object like {allowMuted: true}");{const te=u["allowMuted"];if("boolean"!=typeof te)throw new Pe.a("paramsObject.autoplay.allowMuted must be a boolean");z=!0,q=te}}if(void 0!==S){if("number"!=typeof S)throw new Pe.a("paramsObject.volume must be a number or undefined, but ["+S+"] given");if(!("number"==typeof S&&Ae.d<=S&&S<=Ae.c))throw new Pe.a("paramsObject.volume must be a number 0..100 or undefined, but ["+S+"] given")}if(void 0!==_&&"boolean"!=typeof _)throw new Pe.a("paramsObject.muted must be a boolean or undefined");if(void 0!==h&&"boolean"!=typeof h)throw new Pe.a("paramsObject.autoQuality must be a boolean or undefined");if(void 0!==E&&"boolean"!=typeof E)throw new Pe.a("paramsObject.preload must be a boolean or undefined");if(void 0!==I&&"boolean"!=typeof I)throw new Pe.a("paramsObject.useAbdBundle must be a boolean or undefined");const X={};if(void 0!==p){if(!Object(he.a)(p))throw new Pe.a("paramsObject.handlers must be an object or undefined");Object(le.a)(X,p);for(const te in X)if(X.hasOwnProperty(te)){if("function"!=typeof X[te])throw new Pe.a("handler ["+te+"] in paramsObject.handlers must be a function");_e.some(e=>e===te)||(console.warn&&console.warn("Unresolved event name in handlers: "+te+". Removing"),delete X[te])}}if(void 0!==T&&!Object(he.a)(T))throw new Pe.a("paramsObject.env must be an object or undefined");if(void 0!==b&&"number"!=typeof b)throw new Pe.a("paramsObject.maxBufferLength must be a number or undefined");if(void 0!==O&&"number"!=typeof O)throw new Pe.a("paramsObject.liveOffset must be a number or undefined");const Q={enabled:!1,reportUrl:we.a};if(void 0!==R)if("boolean"==typeof R)Q.enabled=!0===R;else{if(!Object(he.a)(R))throw new Pe.a("paramsObject.report must be a boolean or ReportConfig or undefined");{const{enabled:te,reportUrl:ne}=R;Q.reportUrl=Object(ve.a)(ne)?ne:we.a,Q.enabled=!0===te}}if(void 0!==C&&"boolean"!=typeof C)throw new Pe.a("paramsObject.preferNative must be a boolean or undefined");K=(e=>{if(!1!==e){if(null==e)return{onlyMuted:!0,forceAutoplay:!1,threshold:xe.a};if(!0===e)return{onlyMuted:!1,forceAutoplay:!0,threshold:.5};if(!Object(he.a)(e))throw new Pe.a("paramsObject.togglePlaybackOnVisibilityChange must be a boolean, object or undefined");if(Object(Fe.a)(e,"threshold"))return Object(Fe.a)(e,"onlyMuted")?{threshold:ie(e.threshold),onlyMuted:ae(e.onlyMuted),forceAutoplay:!0}:{threshold:ie(e.threshold),onlyMuted:!1,forceAutoplay:!0};if(Object(Fe.a)(e,"onlyMuted"))return{threshold:.5,onlyMuted:ae(e.onlyMuted),forceAutoplay:!0};throw new Pe.a("paramsObject.togglePlaybackOnVisibilityChange must be boolean or object with `threshold` numeric property or `onlyMuted` boolean property or both")}})(k);if(void 0!==L&&"boolean"!=typeof L)throw new Pe.a("paramsObject.restoreTabSessionPlaybackProgress must be a boolean or undefined");Y=Boolean(L);0<r.length&&(console.warn&&console.warn("Some of IframeAPI params you are using are deprecated: "+r.map(e=>{var e=e["message"];return"\n["+e+"]"})),t&&t.values({name:"InitialConfigDeprecated",data:{},values:Object(ue.a)(r.map(e=>{var e=e["code"];return[e,1]})),labels:{}})),K&&K.forceAutoplay&&(z=!0);var J,{featuresEnabled:e,featuresHandlers:t,featuresParams:$}=($=N||{},J=t,{featuresEnabled:Object(je.a)($),featuresHandlers:Object(ke.a)($).reduce((e,t)=>{let[n,r]=t;if("boolean"==typeof r)return e;var t=r["handlers"];return e[n]=t?Object(pe.a)(t,(e,r)=>{if("function"==typeof e)return t=>{try{e(t)}catch(e){J&&J.error({error:new Le.a(e,{code:De.a.FEATURE_HANDLER_ERROR,details:{featureName:n,eventName:r,params:t}})})}};if("string"==typeof e&&"log"===e)return e=>{Te.a.log("-> onFeatureEvent "+n+" -> "+r,e)};throw new Pe.a("feature handler for ["+n+"]["+r+"] is not a function")}):{},e},{}),featuresParams:Object(ke.a)($).reduce((e,t)=>{var[r,t]=t;return!0===t?e[r]={}:!1===t||(e[r]=function(t){const r={};return Object(Se.a)(t).forEach(e=>{t[e],"handlers"!==e&&(r[e]=t[e])}),r}(t)),e},{})});let ee;if("object"==typeof D){if(null===D)throw new Pe.a("paramsObject.startPositionConfirmation should be an object");z?B&&Te.a.warn("paramsObject.startPositionConfirmation can't be used with autoplay. Ignore the parameter"):Object(de.a)(G.startPosition)?ee={enabled:Boolean(D.enabled)}:Te.a.warn("paramsObject.startPositionConfirmation can't be used without sourceConfig.startPosition")}if("boolean"!=typeof V&&void 0!==V)throw new Pe.a("paramsObject.useFallbackStream should be a boolean or undefined");if(!Object(de.a)(U)&&void 0!==U)throw new Pe.a("paramsObject.maxRecoverAttempts should be a finite number or undefined");return{debug:B,source:G,size:W,hidden:Z,autoplay:z,allowMuted:q,autoQuality:!1!==h,preload:!1!==E,handlers:X,showBrandLogo:!0===s,showBrandIntro:!0===c,showBrandPlayButton:!0===d,showUnmuteButtonForAll:!0===l,volume:S,muted:_,env:T,maxBufferLength:Object(de.a)(b)?Object(ye.j)(b):void 0,liveOffset:O,report:Q,skinConfig:fe(P)?P:void 0,preferNative:C,featuresEnabled:e,featuresHandlers:t,featuresParams:$,togglePlaybackOnVisibilityChange:K,restoreTabSessionPlaybackProgress:Y,startPositionConfirmation:ee,useAbdBundle:!0===I,useFriendlyFrame:!0===j,handleVideoTagClickWhenHidingNativeControls:!0===M,shouldPlayOnFirstClick:void 0===x?void 0:Boolean(x),device:fe(F)?F:{},useFallbackStream:!0===V,maxRecoverAttempts:U}}r.d(t,"b",function(){return se}),r.d(t,"a",function(){return ce}),r.d(t,"d",function(){return i}),r.d(t,"c",function(){return a});var o=r(206),de=(r(3),r(7)),le=r(124),ue=r(147),he=r(5);const fe=e=>void 0!==function(e){let t;try{t=JSON.stringify(e)}catch(e){}return t}(e);var pe=r(144),ve=r(17),ye=r(0),me=r(26),s=r(89),ge=r(149),Ee=r(103),Ae=r(115),Te=r(9),Se=r(24);const _e=Object(Se.a)({onStateChange:void 0,onSeek:void 0,onAdStateChange:void 0,onAdPodStart:void 0,onReady:void 0,onDurationChange:void 0,onCurrentTimeChange:void 0,onFullScreenChange:void 0,onVolumeChange:void 0,onError:void 0,onLog:void 0,onUserAction:void 0,onDVRChange:void 0,onVideoTrackChange:void 0,onVideoTracksChange:void 0,onAudioTrackChange:void 0,onAudioTracksChange:void 0,onTextTrackChange:void 0,onTextTracksChange:void 0,onContentImpression:void 0,onResourcesIdle:void 0,onSourceChange:void 0});var be=r(224),Oe=r(62),E=r(122);const Re={trackingEvents:[Object(E.a)()]};var Pe=r(2),we=r(148),Ce=r(150),Ie=r(58),Ne=r(94),ke=r(39),Le=r(47),De=r(4),je=r(226),Me=r(239),xe=r(228),Fe=r(42)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return a});var i=r(3);const a={loadCsrfToken:e=>({promise:e.request({method:"GET",url:"https://frontend.vh.yandex.ru/csrf_token",retries:3,withCredentials:!0}).then(e=>{try{return{token:e}}catch(e){return{token:""}}}),abort:i.a}),loadCachedPlayers:e=>({promise:e.request({method:"GET",url:"https://cloud-api.yandex.ru/videoplayer/v1/personality/profile/yandex_io/devices/",retries:3,withCredentials:!0}).then(e=>{try{var t=JSON.parse(e)["items"];return t&&t.length?t:[]}catch(e){return[]}}),abort:i.a}),loadPlayers:e=>({promise:e.request({method:"GET",url:"https://quasar.yandex.<tld>/devices_online_stats",retries:3,withCredentials:!0}).then(e=>{try{var t=JSON.parse(e)["items"];return t&&t.length?t:[]}catch(e){return[]}}),abort:i.a}),requestPlay:(e,t,r)=>{t={msg:n({},t.config,{start_position:t.startPosition}),device:t.externalPlayerId};return{promise:e.request({method:"POST",url:"https://yandex.ru/video/station",headers:{"X-CSRF-TOKEN":r},data:JSON.stringify(t),retries:3,withCredentials:!0}).then(e=>{e=JSON.parse(e);if("play"!==e.status)throw new Error("ExternalPlaybackError: "+e.msg)}),abort:i.a}}}},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"c",function(){return i}),r.d(t,"a",function(){return a});t=r(3),r=r(77);let n=!1,i=!1,a=!1;try{if(function(e){const t=(e=void 0===e?window:e).Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){return}}()){const e=document.createElement("div"),o={};Object.defineProperty(o,"once",{get:()=>n=!0}),Object.defineProperty(o,"passive",{get:()=>i=!0}),Object.defineProperty(o,"capture",{get:()=>a=!0}),Object(r.a)(e,"click",t.a,o)}}catch(e){}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});t=r(0),r=r(154);const n={inStreamPlayingState:void 0,adConfig:void 0,adSessionWatchedTime:Object(t.j)(0),adInfo:void 0,originalBroadcastAdCueId:void 0,originalBroadcastAdCues:{},adblockDetected:!1,hasPreroll:!1,watchedTimeSinceAd:r.a,nextAdInfo:void 0}},function(e,t,r){var n=r(155),i=r(369),a=r(189),o=r(294),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(a(e),t=o(t,!0),a(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(264);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";function n(e){const t=e.document;let r=t.getElementsByTagName("head")[0];return r||(r=t.createElement("head"),t.documentElement.appendChild(r)),r}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});const n="#FFCC00",i="#EEEEEE"},function(e,t,i){"use strict";function d(e){for(var t=-1,r=0;r<h.length;r++)if(h[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s=r[o]||0,c="".concat(o," ").concat(s);r[o]=s+1;s=d(c),a={css:a[1],media:a[2],sourceMap:a[3]};-1!==s?(h[s].references++,h[s].updater(a)):h.push({identifier:c,updater:function(t,e){var r,n,i;{var a;i=e.singleton?(a=p++,r=f=f||l(e),n=u.bind(null,r,a,!1),u.bind(null,r,a,!0)):(r=l(e),n=function(e,t,r){var n=r.css,i=r.media,r=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r,e),function(){var e;null!==(e=r).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):i()}}(a,t),references:1}),n.push(c)}return n}function l(e){var t,r=document.createElement("style"),n=e.attributes||{};if(void 0!==n.nonce||(t=i.nc)&&(n.nonce=t),Object.keys(n).forEach(function(e){r.setAttribute(e,n[e])}),"function"==typeof e.insert)e.insert(r);else{e=o(e.insert||"head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(r)}return r}function u(e,t,r,n){r=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=c(t,r):(n=document.createTextNode(r),(r=e.childNodes)[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n))}var r,n,a,o=(a={},function(e){if(void 0===a[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}a[e]=t}return a[e]}),h=[],c=(n=[],function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}),f=null,p=0;e.exports=function(e,a){(a=a||{}).singleton||"boolean"==typeof a.singleton||(a.singleton=r=void 0===r?Boolean(window&&document&&document.all&&!window.atob):r);var o=s(e=e||[],a);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<o.length;t++){var r=d(o[t]);h[r].references--}for(var e=s(e,a),n=0;n<o.length;n++){var i=d(o[n]);0===h[i].references&&(h[i].updater(),h.splice(i,1))}o=e}}}},function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),(a=t.util||(t.util={})).assertNever=function(e){throw new Error},a.arrayToEnum=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i]=i}return t},a.getValidEnumValues=function(t){for(var e={},r=0,n=Object.keys(t).filter(function(e){return"number"!=typeof t[t[e]]});r<n.length;r++){var i=n[r];e[i]=t[i]}return a.getValues(e)},a.getValues=function(t){return Object.keys(t).map(function(e){return t[e]})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(113);const n=Object(r.a)()},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(r){return new Promise((e,t)=>{Object(a.a)(n({},r,{onLoad:e,onError:t}))})}r.d(t,"a",function(){return i});var a=r(235)},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});r=r(203);const n="./js/webos_controller.js",i=r.a},function(e,t,r){"use strict";function n(e){let r="",n="";return e&&Object(i.a)(e).reverse().forEach(e=>{var{location:t,referrer:e}=e;r=r||t,n=n||e}),{location:r,referrer:n}}r.d(t,"a",function(){return n});var i=r(179)},function(e,t,r){"use strict";function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(r){const{method:e,url:t,async:n=!0,data:i,responseType:a="text",onBeforeSend:o=P.a,onRetry:s=P.a,checkStatus:c=e=>C===e,headers:d={},xhrConstructor:l=XMLHttpRequest,retries:u=0,timeout:h=0,withCredentials:f,onAbort:p,onSetup:v}=r,y=r.onSuccess?Object(R.a)(r.onSuccess):P.a,m=r.onError?Object(R.a)(r.onError):P.a;let g,E=!1,A=0,T=e=>{E=!0,T=P.a,g=e,S(new Error("Abort request")),"function"==typeof p&&p(e)};const S=e=>{if(_.onerror=null,_.onreadystatechange=null,A&&clearTimeout(A),A&&4!==_.readyState||E)try{_.abort()}catch(e){}var t;E||(0<u?("boolean"!=typeof(t=s(e,_))||Boolean(t)||T(),E||O(b({},r,{onSetup:e=>{let t=e["abort"];T=e=>t(e),E&&t(g)},retries:u-1}))):(T=P.a,m(e,_)))},_=new l;try{_.open(e,t,n)}catch(r){return void S(r)}if(_.responseType=a,_.withCredentials=Boolean(f),Object(w.a)(d,(e,t)=>{try{_.setRequestHeader(t,e)}catch(e){}}),0<h&&isFinite(h)&&(A=window.setTimeout(()=>{S(new Error("Request timeout, "+t))},h)),_.onerror=S,_.onreadystatechange=()=>{var e;4===_.readyState&&(e=_["status"],c(e)?(T=P.a,clearTimeout(A),y(_)):S(new Error("Invalid request status "+e+", "+t)))},!("function"==typeof v&&(v({abort:e=>T(e)}),E)||(o(_,r),E)))try{_.send(i)}catch(r){S(r)}}r.d(t,"a",function(){return O});var R=r(25),P=r(3),w=r(28);const C=200},function(e,t,r){"use strict";function n(t){return 0===o.length&&(a=window.setInterval(()=>{o.forEach(e=>e())},i.a)),o.push(t),()=>{var e=o.indexOf(t);-1<e&&o.splice(e,1),0===o.length&&clearInterval(a)}}r.d(t,"a",function(){return n});var i=r(181);let a=0;const o=[]},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="function"==typeof r(90).a.load},function(e,t,r){"use strict";function n(t,r){const n={};return Object(i.a)(t).forEach(e=>{n[e]=r(t[e],e)}),n}r.d(t,"a",function(){return n});var i=r(24)},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(74),i=r(113);const a=function(t){const{platform:e=""}=(t=void 0===t?window:t).navigator||{};return function(){const{vendor:e=""}=(void 0===t?window:t).navigator||{};return 0===e.indexOf("Google")}()&&!Object(n.a)(t)&&0===e.indexOf("Linux ")&&Object(i.a)(t)}()},function(e,t,r){"use strict";function n(e){setTimeout(()=>{throw e},0)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){const r={};return e.forEach(e=>{var[t,e]=e;r[t]=e}),r}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});const n="https://yandex.ru/support/video-player/feedback.html",i=2048},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});const n=!1,i=!0},function(e,t,r){"use strict";function n(e,t){void 0===e&&(e={});const r={};return Object(i.a)(r,e),a.forEach(e=>{void 0===r[e]&&void 0!==t[e]&&(r[e]=t[e])}),r}r.d(t,"a",function(){return n});var i=r(124);const a=["videoContentName","videoContentId","videoPublisherId","videoPublisherName","videoGenreId","videoGenreName"]},function(e,t,r){"use strict";function n(e){const t=(e=void 0===e?i.a:e)();return()=>Math.max(0,e()-t)}r.d(t,"a",function(){return n});var i=r(201)},function(e,t,r){"use strict";function n(e,t){"function"!=typeof e.dispatch?e(t):e.dispatch(t)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});t=r(187),r=r(216);const n=Object(r.a)("application/vnd.apple.mpegurl")||4.4<=t.a},function(e,t,r){"use strict";r.d(t,"a",function(){return n});t=r(61),r=r(0);const n=Object(r.j)(t.b)},function(e,t,r){r=r(97);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,r){"use strict";function n(e,n){var t=Object(s.a)({UrlParams:()=>{var t=Object(o.a)(e.document);for(let e=0;e<t.length;e++){var r=t[e]["location"],r=Object(l.e)(r)[n];if(r)return r}},LocalStorage:()=>e.localStorage.getItem(n),globalVariable:()=>{var t=Object(a.a)(e);for(let e=0;e<t.length;e++){var r=t[e],r=r&&r.Ya&&r.Ya.hardcodedParams&&r.Ya.hardcodedParams[n];if(r)return String(r)}}});for(let e=0;e<t.length;e++){const[r,i]=t[e],a=Object(d.a)(i);if("string"==typeof a&&0<a.length)return c.b.deprecated("HardcodedParamObtainedFrom"+r,"ATTENTION! Product parameter obtained from "+r+" ["+n+"]["+a+"]"),a}}function i(e,t,r){t=n(e,t);return t?Number(t):Object(u.a)(r)}r.r(t),r.d(t,"getHardcodedParam",function(){return n}),r.d(t,"getBundlesVersion",function(){return i});var a=r(73),o=r(179),s=r(39),c=r(125),d=r(22),l=r(12),u=r(222)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(69);const i=function(e){return void 0===e&&(e=window),11<Object(n.a)(e)}},function(e,t,r){"use strict";function n(e){var e=e["ownerDocument"];if(e){var e=e["defaultView"];return e||void 0}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}]},function(e,t){e.exports=function(t){var r;return(navigator.clipboard?navigator.clipboard.writeText(t):Promise.reject()).catch(function(e){return r=e,function(e){var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",document.body.appendChild(t);var r=window.getSelection(),n=window.document.createRange();r.removeAllRanges(),n.selectNode(t),r.addRange(n);var i,n=!1;try{n=window.document.execCommand("copy")}catch(e){i=e}return r.removeAllRanges(),window.document.body.removeChild(t),n?Promise.resolve():Promise.reject(i)}(t)}).catch(function(e){throw e||r||new DOMException("The request is not allowed","NotAllowedError")})}},function(e,t,r){"use strict";function n(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r="ru"),e===l.a.NO_CODECS&&a.a&&6<o)return{title:Object(s.a)(e+"_TITLE",r),message:Object(s.a)(e+"_MESSAGE",r),helpLink:"https://yandex.ru/support/video-player/player-issues.html#no-codecs",helpLinkButtonText:Object(s.a)(e+"_HELP_LINK",r)};var n,i=Object(c.a)(e);return t&&-1<[d.a.NETWORK_PLAYER,d.a.NETWORK_MEDIA,d.a.NETWORK_TIMEOUT,d.a.DRM].indexOf(i)?{title:Object(s.a)("ADBLOCK_DETECTED_TITLE",r),message:Object(s.a)("ADBLOCK_DETECTED_MESSAGE",r),helpLink:"https://yandex.ru/support/video-player/blocker-settings.html",helpLinkButtonText:Object(s.a)("ERROR_SCREEN_DEFAULT_HELP_LINK",r)}:(n=r,t=(e=i)+"_ERROR_CATEGORY_TITLE",r=e+"_ERROR_CATEGORY_MESSAGE",i=e+"_ERROR_CATEGORY_HELP_LINK",{title:Object(s.a)(t,n)||Object(s.a)("DEFAULT_ERROR_CATEGORY_TITLE",n),message:e===d.a.REGIONAL?"":Object(s.a)(r,n),helpLink:u[e],helpLinkButtonText:Object(s.a)(-1<[d.a.UNSUPPORTED_ENV,d.a.NO_CODECS].indexOf(e)?i:"ERROR_SCREEN_DEFAULT_HELP_LINK",n)})}r.d(t,"a",function(){return n});var a=r(242),i=r(19);const o=function(e){void 0===e&&(e=window);e=Object(i.a)(e).toLowerCase(),e=/windows nt (\d+\.\d+)/.exec(e);if(e){const t=Number(e[1]);return 0<t?t:-1}return-1}();var s=r(44),c=r(126),d=r(10),l=r(1);const u={[d.a.DEFAULT]:void 0,[d.a.MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[d.a.NETWORK_MEDIA]:"https://yandex.ru/support/video-player/loading-issues.html",[d.a.NETWORK_PLAYER]:"https://yandex.ru/support/video-player/player-issues.html",[d.a.NETWORK_TIMEOUT]:"https://yandex.ru/support/video-player/player-issues.html",[d.a.NO_CODECS]:"https://yandex.ru/search/?text=",[d.a.UNSUPPORTED_ENV]:"https://yandex.ru/soft/browsers/",[d.a.CANNOT_PLAY]:void 0,[d.a.EXCEPTION]:"https://yandex.ru/support/video-player/loading-issues.html",[d.a.CONFIG]:void 0,[d.a.REGIONAL]:void 0,[d.a.DRM]:"https://yandex.ru/support/video-player/drm.html",[d.a.ADS]:void 0}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n,r=r(69);const i=(void 0===n&&(n=window),-1!==Object(r.a)(n))},function(e,t,r){"use strict";function n(e,t){var r=function(e){const t=Object(s.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return r?Object(a.a)(e,r,()=>{t(Object(o.a)(e))}):i.a}r.d(t,"a",function(){return n});var i=r(3),a=r(15),o=r(75),s=r(207)},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});const n="https://strm.yandex.net/int/enc/srvr.xml",i="int/enc/srvr.xml"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(14);const n=Date&&Object(r.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});t=r(32);const n=r(115).a,i=t.a.internalToPublic(n)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(69);const n=Object(r.a)()},function(e,t,r){"use strict";function n(){o=Object(a.a)(document)}function i(){return o}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var a=r(75),r=r(163);let o=Object(a.a)(document);Object(r.a)(document,e=>{e||(o=e)})},function(e,t,r){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(t,r,n,i){void 0===i&&(i={}),Object(o.a)(()=>{var{}=i,e=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(i,["additional"]);window.Ya.Rum.sendTimeMark(t,r,n,a({},e,{"-additional":Object(s.b)(i)}))})}r.d(t,"a",function(){return n});var o=r(22),s=r(29)},function(e,t,r){(t=e.exports=r(108)(!1)).push([e.i,"._1Gx9Olr{position:absolute;width:100%;height:100%;top:0;left:0}",""]),t.locals={poisitionAbsoluteFullSize:"_1Gx9Olr"}},function(e,t,r){var n=r(298),i=r(264);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";var n=r(97);e.exports=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){throw 1},1)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=(t,r,n)=>{const i=[];for(let e=0;e<t.length;e++){var a=t[e];r.call(n,a,e,t)&&i.push(a)}return i}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="0000000000000000000000000000000000000000000000000000000000000000"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});class a{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const n=function(r,n,i){return void 0===n&&(n=e=>e),void 0===i&&(i=new a({})),function(){var e=n.apply(this,arguments);if(i.has(e))return i.get(e);var t=r.apply(this,arguments);return i.set(e,t),t}}},function(e,t,r){"use strict";function n(t,r){if(void 0===r&&(r=!0),i.a&&r)return[];{const r=[];let e=t;for(;;)try{if(e=e.ownerDocument.defaultView.frameElement,!e)return r;r.push(e)}catch(t){return r}}}r.d(t,"a",function(){return n});var i=r(102)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=function(e){return-1<(e=void 0===e?window:e).navigator.userAgent.indexOf("UCBrowser")}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(19);const i=function(e){void 0===e&&(e=window);const t=Object(n.a)(e).toLowerCase();if(-1<t.indexOf("android"))return!1;e=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===e.length&&"mozilla"===e[0]&&"applewebkit"===e[1]&&"version"===e[2]&&"safari"===e[3]}},function(e,t,r){"use strict";function n(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(i.a)(e.defaultView),referrer:e.referrer}))}r.d(t,"a",function(){return n});var i=r(54),a=r(176)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(23);const i=e=>Object(n.a)(e.navigator.sendBeacon)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=250},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("")}r.d(t,"a",function(){return a});var i=r(14);const a=(t,e,r,n)=>function(){try{return e.apply(r||this,arguments)}catch(e){if(Object(i.a)(n)&&n(e),!0===e.preventProtect)throw e;a.log(e,t)}};a.log=function(e,t){console.log("LOG:"+t+":"+e)},a.setTimeout=(e,t,r,n)=>window.setTimeout(a("timeout",e,r,n),t);n("Ya.C","ontext._callbacks"),n("Ya.C","ontext._callbacks_call"),n("A","dvManager"),n("A","dvBlock"),n("R","TB"),n("R","tb"),n("metrika_a","dtune")},function(e,t,r){"use strict";function n(){return!0}r.d(t,"a",function(){return n}),r(120),r(276),r(196)},function(e,t,r){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return i}),r(73),r(80);r=r(3);const n=r.a,s=r.a,c=r.a,i=e=>{let{win:i,propertyName:a}=e;return{call:e=>n(o({win:i,propertyName:a},e)),subscribe:e=>c(o({win:i,propertyName:a},e)),wait:r=>(()=>{let{propertyName:e,win:t}=o({win:i,propertyName:a},r);return new Promise(n=>{c({callback:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t)},propertyName:e,win:t})})})(),waitUntil:e=>(()=>{let{propertyName:t,win:r,comparator:n}=o({win:i,propertyName:a},e);return new Promise(e=>{c({propertyName:t,win:r,callback:function(){n(...arguments)&&e()}})})})(),clear:e=>s(o({win:i,propertyName:a},e))}}},function(e,t,r){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return u});var o=r(3);let n=0;var a=r(28),s=r(16),t=r(0),c=r(2);let d;(r=d=d||{}).timeout="timeout",r.destroy="destroy";const l=Object(t.h)(6e4);class u{static getDataFromPostMessageEvent(e){var t=e["data"];if("object"!=typeof t)throw new c.a("IFrameMessageEvent must be an object");var{id:e,batch:t}=t;if("string"!=typeof e||0===e.length)throw new c.a('message must have "id" parameter');if(!t||!Array.isArray(t))throw new c.a("#batch value must be an array");return{id:e,batch:t}}constructor(e){let{id:t,sender:r,receiver:n}=e;this.onCommand=new s.a,this.onRequestAborted=new s.a,this.onAnswer=new s.a,this.onEvent=new s.a,this.onError=new s.a,this.id=void 0,this.abortRequestMap=Object.create(null),this.sender=void 0,this.receiver=void 0,this.sendPromise=void 0,this.messagesBatch=[],this.receiverCallback=void 0,this.id=t,this.sender=r,this.receiver=n,this.receiverCallback=e=>{let t;try{t=u.getDataFromPostMessageEvent(e)}catch(e){return}const{id:r,batch:n}=t;r===this.id&&n.forEach(e=>{let{answer:t,command:r,event:n}=e;t&&void 0!==t.requestId&&this.onAnswer.dispatch(t),n&&this.onEvent.dispatch(n),r&&(e=i({},function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(r,["requestId"]),{sendAnswer:e=>{this.sendAnswer(e,r.requestId)}}),this.onCommand.dispatch(e))})},n.addEventListener("message",this.receiverCallback)}sendEvent(e,t){var{data:r,sourceId:t}=t;this.sendPostMessage({event:{eventName:e,data:r,sourceId:t}})}sendCommand(e,t){this.sendPostMessage({command:{commandName:e,params:t}})}sendRequest(e,t,r){void 0===r&&(r=l);t={commandName:e,params:t,requestId:n++},r=this.waitForAnswer(t,r);return this.sendPostMessage({command:t}),r}destroy(){this.receiver.removeEventListener("message",this.receiverCallback),this.onCommand.removeAll(),this.onAnswer.removeAll(),this.onEvent.removeAll(),this.onError.removeAll(),Object(a.a)(this.abortRequestMap,e=>e(d.destroy))}waitForAnswer(r,n){let e,i=o.a;const a=()=>{clearTimeout(e),i(),delete this.abortRequestMap[r.requestId]};return new Promise(t=>{e=window.setTimeout(()=>{const e=this.abortRequestMap[r.requestId];"function"==typeof e&&e(d.timeout)},n),i=this.onAnswer.add(e=>{e.requestId===r.requestId&&(a(),t(e.data))}),this.abortRequestMap[r.requestId]=e=>{a(),this.onRequestAborted.dispatch({request:r,reason:e,timeout:n})}})}sendAnswer(e,t){this.sendPostMessage({answer:{data:e,requestId:t=void 0===t?-1:t}})}sendPostMessage(e){var{event:t,command:r,answer:e}=e;this.messagesBatch.push({event:t,answer:e,command:r}),this.planRealSend()}safeSendClonedData(e,t){try{this.sender.postMessage(JSON.parse(JSON.stringify(e)),t)}catch(e){this.onError.dispatch(e)}}sendPostMessageBatch(){var t={id:this.id,batch:this.messagesBatch};try{this.sender.postMessage(t,"*")}catch(e){this.safeSendClonedData(t,"*")}}planRealSend(){void 0===this.sendPromise&&(this.sendPromise=Promise.resolve().then(()=>{this.sendPostMessageBatch(),this.sendPromise=void 0,this.messagesBatch=[]}).catch(()=>{this.sendPromise=void 0,this.messagesBatch=[]}))}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=function(e){const t=(e=void 0===e?window:e).navigator.userAgent,r=t.indexOf("Android");return-1===r?-1:parseFloat(t.slice(r+8))}()},function(e,t,r){var n=r(155),i=r(131),a=r(266);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(109);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var n=r(72),i=r(300),r=r(131),a=n("unscopables"),o=Array.prototype;null==o[a]&&r.f(o,a,{configurable:!0,value:i(null)}),e.exports=function(e){o[a][e]=!0}},function(e,t,r){var E=r(272),A=r(298),T=r(132),S=r(98),_=r(274),b=[].push,r=function(h){var f=1==h,p=2==h,v=3==h,y=4==h,m=6==h,g=5==h||m;return function(e,t,r,n){for(var i,a,o=T(e),s=A(o),c=E(t,r,3),d=S(s.length),l=0,n=n||_,u=f?n(e,d):p?n(e,0):void 0;l<d;l++)if((g||l in s)&&(a=c(i=s[l],l,o),h))if(f)u[l]=a;else if(a)switch(h){case 3:return!0;case 5:return i;case 6:return l;case 2:b.call(u,i)}else if(y)return!1;return m?-1:v||y?y:u}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a});class n{setTimeout(e,t){const r=window.setTimeout(e,t);return()=>window.clearTimeout(r)}now(){return Date.now()}}class i{constructor(e){this.time=e=void 0===e?0:e,this.tasks=[]}setTimeout(e,t){const i=this.time+t,r={task:e,time:i,isCanceled:!1,isRunned:!1};return((e,t)=>{let r=0;for(;r<e.length&&(n=e[r],!(i<n.time));r+=1);var n;e.splice(r,0,t)})(this.tasks,r),t||window.setTimeout(()=>this.runTask(r),0),()=>r.isCanceled=!0}setTime(t){if(!isNaN(t)){let e=0;for(;e<this.tasks.length&&!(t<this.tasks[e].time);e+=1)this.runTask(this.tasks[e]);this.time=t,this.tasks.splice(0,e)}}now(){return this.time}tick(e){this.setTime(this.time+e)}reset(){this.time=0,this.tasks=[]}runTask(e){e.isRunned||e.isCanceled||(e.isRunned=!0,this.time=e.time,e.task())}}class a{constructor(e,t){void 0===t&&(t=new n),this.distributionFunction=e,this.clock=t,this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}},function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a});r=r(0);const n=Object(r.h)(8e3),i=Object(r.h)(1e4),a=Object(r.h)(1e4)},function(e,t,r){var n=r(135),r=r(506);n(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r,{injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,r){var n=r(299);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";function n(){return!0}r.d(t,"a",function(){return n}),r(277)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});const n=function(e){const t=(e=void 0===e?document:e).currentScript;if(t)return t;{const t=e.getElementsByTagName("script"),r=[];for(let e=0;e<t.length;e++)r.push(t[e]);{const e=void 0}return r[r.length-1]}}(),i=n?n.src:""},function(e,t,r){"use strict";r.d(t,"a",function(){return i});r=r(23);const n=[].find,i=Object(r.a)(n)?(e,t)=>n.call(e,t):(t,r)=>{for(let e=0;e<t.length;e++){var n=t[e];if(r(n,e,t))return n}}},function(e,t,r){"use strict";function n(e){const t=Object(i.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}r.d(t,"a",function(){return n});var i=r(200)},function(e,t,r){"use strict";function n(e,t){var{content:r,size:t}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",t&&(n.height=t.height,n.width=t.width),e.appendChild(n);const i=n.contentDocument;return i.open(),r&&i.write(r),i.close(),i.body.style.margin="0",n.style.borderWidth="0",n}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(165),r=r(14);const i="undefined"==typeof window?void 0:window.performance,a=i&&Object(r.a)(i.now),o=i&&i.timing&&i.timing.navigationStart?i.timing.navigationStart:Object(n.a)();let s=0;const c=a?()=>i.now():()=>(()=>{var e=Object(n.a)()-o;return s=Math.max(e,s),s})()},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(19);const i=function(e){void 0===e&&(e=window);const t=Object(n.a)(e).toLowerCase();return-1<t.indexOf("playstation")&&-1<t.indexOf("webmaf")}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(204);const n=Object(r.a)()},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(19);const i=function(e){return void 0===e&&(e=window),-1<Object(n.a)(e).toLowerCase().indexOf("web0s")}},function(e,t,r){"use strict";function n(e,t){return("function"==typeof(t=void 0===t?window:t).getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(205);const i=e=>{try{return"display"in Object(n.a)(e)}catch(e){return!1}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,r){"use strict";function n(e){return Object(a.f)(e.supportInfo)}function i(e){return Object(a.e)(e.supportInfo)}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i});var a=r(53)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=function(t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=a);for(let e=n;e<t.length;e++)if(i(t[e],r))return e;return-1},a=(e,t)=>e===t},function(e,t,r){"use strict";function n(t){const e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||(e=>t.setTimeout(e,i.a)),r=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame||(e=>t.clearTimeout(e));return{requestAnimationFrame:e.bind(t),cancelAnimationFrame:r.bind(t)}}r.d(t,"a",function(){return n});var i=r(211)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=1e3/60},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=function(e){return void 0===e&&(e=window),/Windows Phone/i.test(e.navigator.userAgent)}},function(e,t,r){"use strict";function n(n,e){const{silent:i=!0,allowRelative:t=!1}=e=void 0===e?{}:e;return t||Object(a.a)(n)?new Promise((e,t)=>{const r=document.createElement("img");r.onload=()=>e(n),r.onerror=i?()=>e(null):()=>t(new Error("knockPixel failed to load image ["+n+"]")),r.src=n}):i?Promise.resolve(null):Promise.reject("["+n+"] is not an absolute url, to knock this pixel use { allowRelative: true } option")}r.d(t,"a",function(){return n});var a=r(214)},function(e,t,r){"use strict";function n(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(178);const n=Object(r.a)()},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var t=r(143),n=r(90);const i=t.a?function(e,t){return void 0===t&&(t=n.a),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1},function(e,t,r){"use strict";function n(e,t,r){return e.replace(new RegExp("{{"+t+"}}","gm"),encodeURIComponent(r))}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(0);const n=Object(r.j)(5)},function(e,t,r){"use strict";function n(e,t){const r=new RegExp("[?&]"+e+"=*([^&#]*)","g");let n=null,i;for(;i=r.exec(t);)n=i;return n&&"string"==typeof n[1]?decodeURIComponent(n[1]):void 0}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){if(void 0!==e){e=e&&e.match&&e.match(i);if(e&&e[1])return parseInt(e[1],10);throw new Error("paramsObject.version must be a string like [1.0-0] or undefined")}}r.d(t,"a",function(){return n});const i=/1\.0-(\d+)/},function(e,t,r){"use strict";function n(e){void 0===e&&(e=Object(i.a)(window));try{if("1"===localStorage.getItem("rumdebug"))return console&&Object(a.a)(console.warn)&&console.warn("using rumdebug=1 from localStorage"),!0}catch(e){}return/[?&#]rumdebug=1(?:[&#]|$)/.test(e)}r.d(t,"a",function(){return n});var i=r(54),a=r(14)},function(e,t,r){"use strict";function n(t){var r=100*Object(i.a)();let n=0;for(let e=0;e<t.length;e++)if(n+=t[e].percent,r<n)return t[e].id;return t[0].id}r.d(t,"a",function(){return n});var i=r(66)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return c});var t=r(125),i=r(46),a=r(83),o=r(47);const s=e=>e.isFatal?i.a.fatal:i.a.error;class c extends t.a{constructor(e){super(n({},e,{sendOnlyPrimaryParams:e.logUrl!==a.a.logUrl})),this.error=e=>{var{error:t,labels:r,probability:n,extraRootFields:e}=e,t=new o.a(t);this.push({eventName:String(t.code),eventType:s(t),data:t,additionalStatsLabels:r,probability:n,extraRootFields:e})},this.errorToStats=(e,t,r)=>{e=new o.a(e);this.push({eventName:String(e.code),eventType:s(e),data:e,additionalStatsLabels:t,extraRootFields:r})}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=!0},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(0);const n=Object(r.j)(0)},function(e,t,r){"use strict";function n(e){return Object(i.a)(e).filter(e=>{var[,e]=e;return Boolean(e)}).map(e=>{var[e]=e;return e})}r.d(t,"a",function(){return n});var i=r(39)},function(e,t,r){"use strict";function n(e){var e=c.parse(e)["promoConfig"];return{promoConfig:e}}r.d(t,"a",function(){return n});r=r(40);const i=r.object({url:r.string()}).nonstrict(),a=r.object({before:r.array(i),after:r.array(i)}).partial().nonstrict(),o=i.extend({offset:r.number().nonnegative()}).nonstrict(),s=r.object({intro:r.array(i),preroll:a,midroll:a,postroll:a,inroll:a,overlaySelfPromo:r.array(o)}).partial().nonstrict(),c=r.object({promoConfig:s.optional()}).nonstrict()},function(e,t,r){"use strict";function n(e,t,r){return void 0===r&&(r=i),Math.abs(e-t)<=r}r.d(t,"a",function(){return i}),r.d(t,"b",function(){return n});const i=Number.EPSILON||Math.pow(2,-52)},function(e,t,r){"use strict";function n(){return(i.a||a.a||s.a)&&!Object(o.a)()}r.d(t,"a",function(){return n});var i=r(55),a=r(52),o=r(120),s=r(231)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(177);const n=Object(r.a)()},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=navigator&&"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints},function(e,t,r){"use strict";function n(e){e=Object(i.a)(e).match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):-1}r.d(t,"a",function(){return n});var i=r(19)},function(e,t,r){"use strict";function n(e){const{document:t={}}=e=void 0===e?window:e;return i.a.filter(e=>{var e=e["enabled"];return e in t})}r.d(t,"a",function(){return n});var i=r(159)},function(e,t,r){"use strict";function n(){return!Object(a.a)()&&Object(i.a)()}r.d(t,"a",function(){return n});var i=r(229),a=r(184)},function(e,t,r){"use strict";function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){const{dropCacheOnRetry:t=!1,onBeforeLoad:r=y.a,retries:n=0}=e;if(e.checkLoad&&e.checkLoad())return e.onLoad&&e.onLoad(),0;let i=r,a=0;return t&&0<n&&(i=e=>{if(r(e),0<a){const t=-1===e.src.indexOf("?")?"?":"&",r=function(){const t=[];for(let e=0;e<4;e++)t.push(((n=r=void 0)===n&&(n="z"),n=function(e,t){e+=Object(l.a)()*(t+1-e);return e=Math.floor(e)}((r=void 0===r?"a":r).charCodeAt(0),n.charCodeAt(0)),String.fromCharCode(n)));var r,n;return t.join("")}();e.src+=t+r}a++}),function t(r){const{src:n,win:i=window,charset:e=E,async:a=!0,retries:o=0,onRetry:s=y.a,retryDelay:c=0,checkLoad:d=A,onBeforeLoad:l=y.a,onLoad:u=y.a,onError:h=y.a}=r,f=i.document.createElement("script"),p=e=>{0<o?(s(e),t(v({},r,{src:n,retries:o-1}))):h(e),Object(g.a)(f)};f.type="text/javascript",f.async=a,f.onload=()=>d(f)?u():p(new Error("checkLoad for "+n+" failed")),f.onerror=e=>{try{i.setTimeout(()=>{p(e)},c)}catch(e){}},f.src=n,f.charset=e,l(f),Object(m.a)(i).appendChild(f)}(v({},e,{onBeforeLoad:i})),0}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e){const{win:t=window,src:r,retries:n=0,onError:i=y.a}=e,a=new d.a({id:c.LOAD_SCRIPT_ERROR,message:"Failed to load script ["+r+"]",details:{src:r,isSelfWindow:t===window,onBeforeLoad:Boolean(e.onBeforeLoad),retries:n}});o(s({},e,{win:t,onError:()=>i(a)}))}var c;r.d(t,"a",function(){return n}),(t=c=c||{}).LOAD_SCRIPT_ERROR="LOAD_SCRIPT_ERROR",t.STATS_SENSOR_NAME_ERROR="STATS_SENSOR_NAME_ERROR",t.STATS_LABEL_KEY_ERROR="STATS_LABEL_KEY_ERROR",t.STATS_LABEL_VALUE_ERROR="STATS_LABEL_VALUE_ERROR";var d=r(38),y=r(3),m=r(133),g=r(41),l=r(66);const E="utf-8",A=e=>!0},function(e,t,r){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return l});var o=r(141),s=r(3),i=r(18),c=r(186),r=r(12);const d=Object(r.g)(window.location.href).hostname.split(".").reverse()[0];class l{static performRealRequest(e){const t=function(e){let t,n=s.a,r=0;const i=e=>{r=e.status,t=e.response};return{promise:new Promise((t,r)=>{Object(o.a)(a({},e,{onSuccess:e=>{i(e),t(e)},onError:(e,t)=>{i(t),r(e)},onAbort:r,onSetup:e=>{var e=e["abort"];return n=e}}))}),abort:e=>n(e),getStatus:()=>r,getResponse:()=>t}}(n({},e,{url:e.url.replace(/<tld>/g,d)}));return{promise:t.promise.then(e=>e.responseText).catch(e=>{throw e.status=t.getStatus(),e}),abort:t.abort}}constructor(e){var{sender:t,receiver:e}=e;this.postMessenger=void 0,this.postMessenger=new c.a({id:"external-request-controller",sender:t,receiver:e}),this.attachListeners()}destroy(){this.postMessenger.destroy()}request(e){return this.postMessenger.sendRequest(i.a.xhrRequest,e).then(e=>{var{error:t,data:e}=e;if(t)throw e;return e})}attachListeners(){this.postMessenger.onCommand.add(t=>{t.commandName===i.a.xhrRequest&&l.performRealRequest(t.params).promise.then(e=>{t.sendAnswer({success:!0,data:e})}).catch(e=>{e={message:e.message,stack:e.stack,status:e.status};t.sendAnswer({error:!0,data:e})})})}}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var a=r(5),i=r(23);const o=function(e,t){let r=e[t];if(!Object(i.a)(r)){var n=r;try{delete e[t],r=e[t],e[t]=n}catch(e){}}return r}(Object,"create")?Object.create:function(e,t){function r(){}if(r.prototype=e,Object(a.a)(t))for(const e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return new r};var s=r(99),c=r(79),d=r(14),l=r(28);const n=function r(e,n){void 0===n&&(n={preserveConstructors:!0});let i=e;return Object(s.a)(e)?e.map(e=>r(e,n)):(t=e)instanceof Date||"Date"===Object(c.a)(t)?new Date(e.getTime()):(!Object(d.a)(e)&&Object(a.a)(e)&&(i=n.preserveConstructors?o(e):{},Object(l.a)(e,(e,t)=>{i[t]=r(e,n)})),i);var t}},function(e,t,r){"use strict";function n(t,e,r){void 0===r&&(r=" ");var n=e-t.length;if(0<n){let e=r;for(;e.length<n;)e+=e;return(e.length>n?e.substr(0,n):e)+t}return t}function i(e){return void 0===e&&(e=6101),[Object(a.a)(44),o,n(String(e%Math.pow(10,4)),4,"0"),n(Date.now().toString().slice(0,10),10,"0")].join("x")}r.d(t,"a",function(){return i});var a=r(82);const o="WEB"},function(e,t,r){"use strict";function s(e){if(!Object(h.a)(e))throw new v.a("stream must be an object");if("string"!=typeof e.url)throw new v.a("stream.url must be a string");if(void 0!==e.drmConfig&&!Object(m.a)(e.drmConfig))throw new v.a("stream.drmConfig must be serializable");if(void 0!==e.metaInfoUrl&&"string"!=typeof e.metaInfoUrl)throw new v.a("stream.metaInfoUrl must be a string or undefined");return{url:e.url,drmConfig:e.drmConfig,metaInfoUrl:e.metaInfoUrl}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e,t,r){let n,i=r["isForSetSource"];if(Array.isArray(e.streams)){if(e.drmConfig)throw new v.a("source.drmConfig must be presented in stream object in source.streams array");if(0===e.streams.length)throw new v.a("source.streams must be not empty array");n=e.streams.map(s)}else{if(void 0===e.streamUrl)throw new v.a("source.streams must be an array with stream objects");if("string"!=typeof e.streamUrl||!e.streamUrl.trim())throw new v.a("source.streamUrl must be a valid url string");n=[{url:e.streamUrl,drmConfig:e.drmConfig}]}if(void 0!==e.startPosition&&(!Object(l.a)(e.startPosition)||e.startPosition<0))throw new v.a("source.startPosition must be a NOT negative finite number or undefined");if(void 0!==e.withCredentials&&"boolean"!=typeof e.withCredentials)throw new v.a("source.withCredentials must be a boolean or undefined");if(void 0!==e.loop&&"boolean"!=typeof e.loop)throw new v.a("source.loop must be a boolean or undefined");if(!Object(m.a)(e.drmConfig))throw new v.a("source.drmConfig must be serializable");var a=Object(h.a)(e.logoConfig)&&Object(m.a)(e.logoConfig)&&Object(f.a)(e.logoConfig.src);if(void 0!==e.logoConfig&&!a)throw new v.a("source.logoConfig must be a valid LogoConfig or undefined");r=Object(h.a)(e.shareConfig)&&Object(m.a)(e.shareConfig)&&(Object(f.a)(e.shareConfig.link)||void 0===e.shareConfig.link)&&(Object(f.a)(e.shareConfig.html)||void 0===e.shareConfig.html);if(void 0!==e.shareConfig&&!r)throw new v.a("source.shareConfig must be a valid ShareConfig or undefined");if(void 0!==e.preview&&"string"!=typeof e.preview)throw new v.a("source.preview must be a string or undefined");a=Object(h.a)(e.externalPlayerConfig)&&Object(m.a)(e.externalPlayerConfig);if(void 0!==e.externalPlayerConfig&&!a)throw new v.a("source.externalPlayerConfig must be serializable object");if(void 0!==e.id&&"string"!=typeof e.id)throw new v.a("source.id must be a string or undefined");if(void 0!==e.enableRemoteProgressSaving&&"boolean"!=typeof e.enableRemoteProgressSaving)throw new v.a("source.enableRemoteProgressSaving must be a boolean or undefined");if(void 0!==e.subtitles&&!Array.isArray(e.subtitles))throw new v.a("source.subtitles must be an array or undefined");r=function(t){const r={};if(void 0===t)return r;if(!Object(h.a)(t))throw new v.a("source.videoInfo must be an object or undefined");return A.forEach(e=>{if(void 0!==t[e]){if("string"!=typeof t[e])throw new v.a("source.videoInfo."+e+" must be a string, undefined of missed");r[e]=t[e]}}),r}(e.videoInfo),a=e.adConfig?Object(g.a)(e.adConfig):{};let o;if(Object(u.a)(a,r),void 0!==e.logoWidgetConfig){if(!Object(h.a)(e.logoWidgetConfig))throw new v.a("source.logoWidgetConfig must be an object or undefined");if("string"!=typeof e.logoWidgetConfig.caption)throw new v.a("source.logoWidgetConfig.caption must be a string");if("string"!=typeof e.logoWidgetConfig.avatarSrc)throw new v.a("source.logoWidgetConfig.avatarSrc must be a string");if(!Object(h.a)(e.logoWidgetConfig.action))throw new v.a("source.logoWidgetConfig.action must be an object");if("boolean"!=typeof e.logoWidgetConfig.action.completed)throw new v.a("source.logoWidgetConfig.action.completed must be a boolean");if("string"!=typeof e.logoWidgetConfig.action.caption)throw new v.a("source.logoWidgetConfig.action.caption must be a string");if("string"!=typeof e.logoWidgetConfig.action.url&&void 0!==e.logoWidgetConfig.action.url)throw new v.a("source.logoWidgetConfig.action.url must be a string or undefined");if("string"!=typeof e.logoWidgetConfig.action.progressCaption&&void 0!==e.logoWidgetConfig.action.progressCaption)throw new v.a("source.logoWidgetConfig.action.progressCaption must be a string or undefined");if("string"!=typeof e.logoWidgetConfig.action.completedCaption&&void 0!==e.logoWidgetConfig.action.completedCaption)throw new v.a("source.logoWidgetConfig.action.completedCaption must be a string or undefined");if(void 0!==e.logoWidgetConfig.action.callback&&"function"!=typeof e.logoWidgetConfig.action.callback)throw new v.a("source.logoWidgetConfig.action.caption must be a string");o={action:{completed:e.logoWidgetConfig.action.completed,url:e.logoWidgetConfig.action.url,caption:e.logoWidgetConfig.action.caption,progressCaption:e.logoWidgetConfig.action.progressCaption,completedCaption:e.logoWidgetConfig.action.completedCaption,callback:e.logoWidgetConfig.action.callback||d.a},avatarSrc:e.logoWidgetConfig.avatarSrc,caption:e.logoWidgetConfig.caption}}return c({streams:n,startPosition:e.startPosition,adConfig:a},Object(T.a)(e),{withCredentials:e.withCredentials,enableRemoteProgressSaving:Boolean(e.enableRemoteProgressSaving),trackings:Object(E.b)(e.trackings),loop:!0===e.loop,logoConfig:e.logoConfig,logoWidgetConfig:o,shareConfig:e.shareConfig,preview:e.preview||p.a,additionalParams:!i||e.additionalParams?Object(E.a)(e.additionalParams,t):void 0,features:e.features,externalPlayerConfig:e.externalPlayerConfig,id:e.id,videoInfo:Object(y.a)(r,a),subtitles:e.subtitles})}r.d(t,"a",function(){return n});var d=r(3),l=r(7),u=r(124),h=r(5),f=r(17),p=r(62),v=r(2),y=r(150),m=r(58),g=r(94),E=r(127);const A=["videoContentName","videoContentId","videoPublisherId","videoPublisherName","videoGenreId","videoGenreName"];var T=r(227)},function(e,t,r){"use strict";function n(r,n){const i=[],a=[];return((t,r)=>{for(let e=0;e<t.length;e++)r.call(void 0,t[e],e,t)})(r,(e,t)=>{(n(e,t,r)?i:a).push(e)}),[i,a]}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){var{videoType:t,currentTime:r,dvrStartTime:n,dvrDuration:i}=e;if(t===a.a.VOD)return d;e=n+i-o.a;return i===1/0||e<r?s:t===a.a.LIVE&&r<n+(0===r?0:10)?c:d}r.d(t,"a",function(){return n});var a=r(11),o=r(101);const s={low:!0,high:!1},c={low:!1,high:!0},d={low:!0,high:!0}},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(19);const i=function(e){void 0===e&&(e=window);e=Object(n.a)(e).toLowerCase();return/windows/.test(e)}()},function(e,t,r){"use strict";function n(t,r){void 0===r&&(r=window);const n=()=>a.forEach(e=>r.removeEventListener(e,i)),i=e=>{"pagehide"===e.type&&e.persisted||(t(e),n())};return a.forEach(e=>r.addEventListener(e,i)),n}r.d(t,"a",function(){return n});const a=["beforeunload","pagehide","unload"]},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r=window);r=Object(i.a)(r),r=t(Object(o.a)(e,r));if(r)return console&&Object(a.a)(console.warn)&&console.warn("using "+e+"="+r+" from query"),r;t=t(function(e){try{var t=localStorage.getItem(e);return t?t:void 0}catch(e){return}}(e));return t?(console&&Object(a.a)(console.warn)&&console.warn("using "+e+"="+t+" from localStorage"),t):void 0}r.d(t,"a",function(){return n});var i=r(54),a=r(14),o=r(219)},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e})},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},function(e,t,r){var o=r(86),s=r(188),c=r(110),d=r(351),n=r(367),r=r(265),i=r.get,l=r.enforce,u=String(String).split("String");(e.exports=function(e,t,r,n){var i=!!n&&!!n.unsafe,a=!!n&&!!n.enumerable,n=!!n&&!!n.noTargetGet;"function"==typeof r&&("string"!=typeof t||c(r,"name")||s(r,"name",t),l(r).source=u.join("string"==typeof t?t:"")),e!==o?(i?!n&&e[t]&&(a=!0):delete e[t],a?e[t]=r:s(e,t,r)):a?e[t]=r:d(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||n(this)})},function(e,t,r){r=r(86);e.exports=r},function(e,t,r){var n=r(131).f,i=r(110),a=r(72)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(0);const n=Object(r.h)(1e3)},function(e,t,r){"use strict";function n(e){switch(e){case i.a.PLAY:return a.a.PLAYING;case i.a.PAUSE:return a.a.PAUSED;case i.a.BUFFERING:return a.a.BUFFERING;case i.a.END:return a.a.ENDED;default:return a.a.UNSTARTED}}r.d(t,"a",function(){return n});var i=r(8),a=r(36)},function(e,t,r){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return a});var n=r(51);class a{constructor(e){this.args=e,this.runningCount=0,this.callback=(e,t)=>{e+=1;t?e===this.strategies.length?this.args.callback(t):e===this.runningCount&&this.startNext():(this.stopUntil(e),this.args.callback(t))},this.strategies=Object(n.a)(e.strategyFactories,(e,t)=>e(e=>this.callback(t,e)))}static from(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{const r=[];for(const n of t){let t=()=>null;const a=n(i({},e,{callback:e=>t(e)}));if(!a)return null;r.push(e=>(t=e,a))}return new a({callback:e.callback,strategyFactories:r})}}start(){!this.runningCount&&this.strategies.length&&this.startNext()}stop(){this.stopUntil(0)}get isDetermined(){for(const e of this.strategies)if(!e.isDetermined)return!1;return!0}getIsVisible(){for(let e=0;e<this.strategies.length;e++)if(!this.strategies[e].getIsVisible())return!1;return!0}startNext(){this.strategies[this.runningCount++].start()}stopUntil(e){for(;this.runningCount>e;)this.strategies[--this.runningCount].stop()}}},function(e,t,r){"use strict";function n(e){return e&&Object(i.a)(e)||window}r.d(t,"a",function(){return n});var i=r(158)},function(e,t,r){"use strict";function s(){this.returnValue=!1}function c(){this.cancelBubble=!0}function n(e){e&&e.un()}r.d(t,"a",function(){return h});var d=r(183),l=r(77),u=r(129);let i="hidden",a="visibilitychange";if(!(i in document)){const e=["webkit","moz","ms","o"];for(const t of e){const e=t+"Hidden";if(e in document){i=e,a=t+"visibilitychange";break}}}const o=new class{constructor(e){void 0===e&&(e=window),this.windowObj=e,this.initYaBrowserApi()}canUseYaBroApi(){return Boolean(this.yaBroApiInstance&&this.yaBroApiInstance.isInCustoPage)}isPageHiddenYaBroApi(){return!(this.yaBroApiInstance&&this.yaBroApiInstance.pageVisible)}initYaBrowserApi(){this.windowObj.browser&&this.windowObj.browser.BrowserEmbeddedApi&&this.windowObj.browser.BrowserEmbeddedApi.getInstance().then(e=>{this.yaBroApiInstance=e})}};class h{constructor(e){this.args=e,this.isDetermined=!0,this.onVisibilityChangeCallback=()=>{this.args.callback(this.getIsVisible())}}static factory(e){return new h(e)}start(){this.timer=window.setTimeout(()=>{this.onVisibilityChangeCallback(),this.subscription=function(e,t,r,n){if(!e||!r)return null;let i=(a=Object(d.a)("handler:"+t,r,void 0),function(e){(e=e).stopPropagation||(e.stopPropagation=c),e.preventDefault||(e.preventDefault=s),e.target||(e.target=e.srcElement);a.call(this,e)});var a;const o={un(){Object(l.b)(e,t,i)}};return u.c,Object(l.a)(e,t,i,n),o}(document,a,this.onVisibilityChangeCallback)})}stop(){window.clearTimeout(this.timer),n(this.subscription)}getIsVisible(){return!(o.canUseYaBroApi()?o.isPageHiddenYaBroApi():Boolean(document[i]))}}},function(e,t){e.exports=function(e){var t=(e=e||window).navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}r=t.indexOf("Edge/");return 0<r&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}},,function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.hasCookies=function(){var e=new c;try{e.setItem("__test","1");var t=e.getItem("__test");return e.removeItem("__test"),"1"===t}catch(e){return!1}};var r=r(324),o=r&&r.__esModule?r:{default:r},s="lS_",c=(i(d,[{key:"getItem",value:function(e){var t=o.default.parse(document.cookie);return t&&t.hasOwnProperty(s+e)?t[s+e]:null}},{key:"setItem",value:function(e,t){return document.cookie=o.default.serialize(s+e,t,this.cookieOptions),t}},{key:"removeItem",value:function(e){var t=n({},this.cookieOptions,{maxAge:-1});return document.cookie=o.default.serialize(s+e,"",t),null}},{key:"clear",value:function(){for(var e in o.default.parse(document.cookie))0===e.indexOf(s)&&this.removeItem(e.substr(s.length));return null}}]),d);function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,d),this.cookieOptions=n({path:"/"},e),s=e.prefix||s}t.default=c},function(e,w,t){"use strict";var C=this&&this.__assign||function(){return(C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},I=this&&this.__awaiter||function(a,o,s,c){return new(s=s||Promise)(function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(r,n)}i((c=c.apply(a,o||[])).next())})},N=this&&this.__generator||function(r,n){function e(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,(t=o?[2&t[0],o.value]:t)[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}var i,a,o,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t},k=this&&this.__rest||function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(r[i[n]]=e[i[n]]);return r},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},L=this;Object.defineProperty(w,"__esModule",{value:!0});var D=r(t(21)),j=t(119),M=t(136),x=t(328);w.getParsedType=function(e){return"string"==typeof e?"string":"number"==typeof e?Number.isNaN(e)?"nan":"number":"boolean"==typeof e?"boolean":"bigint"==typeof e?"bigint":"symbol"==typeof e?"symbol":e instanceof Date?"date":"function"==typeof e?"function":void 0===e?"undefined":"object"==typeof e?Array.isArray(e)?"array":e?e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?"promise":"object":"null":"unknown"},w.ZodParsedType=M.util.arrayToEnum(["string","nan","number","integer","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void"]),w.find=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(t(i))return i}},w.ZodParser=function(P){return function(a,e){function n(e){var t=C({},e,{path:o.path.concat(e.path||[])}),r={data:a},n=x.defaultErrorMap===o.errorMap?{message:"Invalid value."}:x.defaultErrorMap(t,C({},r,{defaultError:"Invalid value."}));return C({},e,{path:o.path.concat(e.path||[]),message:e.message||o.errorMap(t,C({},r,{defaultError:n.message})).message})}var o={seen:(e=void 0===e?{seen:[],errorMap:x.defaultErrorMap,path:[]}:e).seen||[],path:e.path||[],errorMap:e.errorMap||x.defaultErrorMap},s=P,t=w.getParsedType(a),r=w.find(o.seen,function(e){return e.schema===P}),i=-1!==["array","object"].indexOf(t);if(i)if(r){e=w.find(r.objects,function(e){return e.data===a});if(e){if(e.error)throw e.error;if(e.times=e.times+1,5<e.times&&i)return Symbol("recursion depth exceeded.");e.times}else r.objects.push(a)}else o.seen.push({schema:P,objects:[{data:a,error:void 0,times:1}]});var c=new j.ZodError([]),d=a;switch(s.t){case D.ZodTypes.string:if(t!==w.ZodParsedType.string)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.string,received:t})),c;break;case D.ZodTypes.number:if(t!==w.ZodParsedType.number)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.number,received:t})),c;if(Number.isNaN(a))throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.number,received:w.ZodParsedType.nan})),c;break;case D.ZodTypes.bigint:if(t!==w.ZodParsedType.bigint)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.number,received:t})),c;break;case D.ZodTypes.boolean:if(t!==w.ZodParsedType.boolean)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.boolean,received:t})),c;break;case D.ZodTypes.undefined:if(t!==w.ZodParsedType.undefined)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.undefined,received:t})),c;break;case D.ZodTypes.null:if(t!==w.ZodParsedType.null)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.null,received:t})),c;break;case D.ZodTypes.any:case D.ZodTypes.unknown:break;case D.ZodTypes.void:if(t!==w.ZodParsedType.undefined&&t!==w.ZodParsedType.null)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.void,received:t})),c;break;case D.ZodTypes.array:if(t!==w.ZodParsedType.array)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.array,received:t})),c;var l=a;if(!0===s.nonempty&&0===a.length)throw c.addError(n({code:j.ZodErrorCode.nonempty_array_is_empty})),c;if(l.map(function(e,t){try{return s.type.parse(e,C({},o,{path:o.path.concat([t])}))}catch(e){c.addErrors(e.errors)}}),!c.isEmpty)throw c;break;case D.ZodTypes.object:if(t!==w.ZodParsedType.object)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.object,received:t})),c;var u,h=s.shape();for(_ in s.params.strict&&(u=Object.keys(h),(l=Object.keys(a).filter(function(e){return-1===u.indexOf(e)})).length&&c.addError(n({code:j.ZodErrorCode.unrecognized_keys,keys:l}))),h)try{s.shape()[_].parse(a[_],C({},o,{path:o.path.concat([_])}))}catch(e){c.addErrors(e.errors)}break;case D.ZodTypes.union:for(var f=!1,p=[],v=0,y=s.options;v<y.length;v++){var m=y[v];try{m.parse(a,o),f=!0}catch(e){p.push(e)}}f||(1===(h=p.filter(function(e){return"invalid_type"!==e.errors[0].code})).length?c.addErrors(h[0].errors):c.addError(n({code:j.ZodErrorCode.invalid_union,unionErrors:p})));break;case D.ZodTypes.intersection:try{s.left.parse(a,o)}catch(e){c.addErrors(e.errors)}try{s.right.parse(a,o)}catch(e){c.addErrors(e.errors)}break;case D.ZodTypes.tuple:if(t!==w.ZodParsedType.array)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.array,received:t})),c;a.length>s.items.length?c.addError(n({code:j.ZodErrorCode.too_big,maximum:s.items.length,inclusive:!0,type:"array"})):a.length<s.items.length&&c.addError(n({code:j.ZodErrorCode.too_small,minimum:s.items.length,inclusive:!0,type:"array"}));var g,E=[],A=a;for(g in A){var T=A[g],S=s.items[g];try{E.push(S.parse(T,C({},o,{path:o.path.concat([g])})))}catch(e){c.addErrors(e.errors)}}break;case D.ZodTypes.lazy:s.getter().parse(a,o);break;case D.ZodTypes.literal:a!==s.value&&c.addError(n({code:j.ZodErrorCode.invalid_literal_value,expected:s.value}));break;case D.ZodTypes.enum:-1===s.values.indexOf(a)&&c.addError(n({code:j.ZodErrorCode.invalid_enum_value,options:s.values}));break;case D.ZodTypes.nativeEnum:-1===M.util.getValidEnumValues(s.values).indexOf(a)&&c.addError(n({code:j.ZodErrorCode.invalid_enum_value,options:M.util.getValues(s.values)}));break;case D.ZodTypes.function:if(t!==w.ZodParsedType.function)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.function,received:t})),c;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{s.args.parse(e)}catch(e){if(e instanceof j.ZodError){var r=new j.ZodError([]);throw r.addError(n({code:j.ZodErrorCode.invalid_arguments,argumentsError:e})),r}throw e}r=a.apply(void 0,e);try{return s.returns.parse(r)}catch(e){if(e instanceof j.ZodError){r=new j.ZodError([]);throw r.addError(n({code:j.ZodErrorCode.invalid_return_type,returnTypeError:e})),r}throw e}};case D.ZodTypes.record:if(t!==w.ZodParsedType.object)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.object,received:t})),c;for(var _ in a)try{s.valueType.parse(a[_],C({},o,{path:o.path.concat([_])}))}catch(e){c.addErrors(e.errors)}break;case D.ZodTypes.date:if(!(a instanceof Date))throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.date,received:t})),c;if(isNaN(a.getTime()))throw c.addError(n({code:j.ZodErrorCode.invalid_date})),c;break;case D.ZodTypes.promise:if(t!==w.ZodParsedType.promise)throw c.addError(n({code:j.ZodErrorCode.invalid_type,expected:w.ZodParsedType.promise,received:t})),c;return new Promise(function(n,i){return I(L,void 0,void 0,function(){var t,r;return N(this,function(e){switch(e.label){case 0:return[4,a];case 1:t=e.sent();try{r=s.type.parse(t,o),n(r)}catch(e){i(e)}return[2]}})})});default:M.util.assertNever(s)}for(var b=0,O=s.checks||[];b<O.length;b++){var R=O[b];R.check(d)||(R.check,R=k(R,["check"]),c.addError(n(R)))}if(!c.isEmpty)throw c;return d}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.errorUtil||(t.errorUtil={})).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.unknown})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodUnknown=i},function(e,t,r){"use strict";function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});function c(t){return function(e){return new f(o({},t,{shape:function(){return o({},t.shape(),e)}}))}}var d,l=s(r(21)),u=r(338),h=r(339),f=(d=l.ZodType,a(p,d),Object.defineProperty(p.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"params",{get:function(){return this._def.params},enumerable:!0,configurable:!0}),p.create=function(e){return new p({t:l.ZodTypes.object,shape:function(){return e},params:{strict:!0}})},p.lazycreate=function(e){return new p({t:l.ZodTypes.object,shape:e,params:{strict:!0}})},p);function p(){var n=null!==d&&d.apply(this,arguments)||this;return n.toJSON=function(){return{t:(r=n._def).t,shape:i({},Object.keys(r.shape()).map(function(e){var t;return(t={})[e]=r.shape()[e].toJSON(),t}))};var r},n.nonstrict=function(){return new p({shape:n._def.shape,t:l.ZodTypes.object,params:o({},n._params,{strict:!1})})},n.augment=c(n._def),n.extend=c(n._def),n.merge=u.objectUtil.mergeObjects(n),n.pick=function(e){var t={};return Object.keys(e).map(function(e){t[e]=n.shape[e]}),new p(o({},n._def,{shape:function(){return t}}))},n.omit=function(t){var r={};return Object.keys(n.shape).map(function(e){-1===Object.keys(t).indexOf(e)&&(r[e]=n.shape[e])}),new p(o({},n._def,{shape:function(){return r}}))},n.partial=function(){var e,t={};for(e in n.shape)t[e]=n.shape[e].optional();return new p(o({},n._def,{shape:function(){return t}}))},n.primitives=function(){var e,t={};for(e in n.shape)h.isScalar(n.shape[e])&&(t[e]=n.shape[e]);return new p(o({},n._def,{shape:function(){return t}}))},n.nonprimitives=function(){var e,t={};for(e in n.shape)h.isScalar(n.shape[e])||(t[e]=n.shape[e]);return new p(o({},n._def,{shape:function(){return t}}))},n.deepPartial=function(){var e,t={};for(e in n.shape){var r=n.shape[e];t[e]=(r instanceof p?r.deepPartial():n.shape[e]).optional()}return new p(o({},n._def,{shape:function(){return t}}))},n}t.ZodObject=f},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e,t){return new c({t:s.ZodTypes.intersection,left:e,right:t})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return{t:e._def.t,left:e._def.left.toJSON(),right:e._def.right.toJSON()}},e}t.ZodIntersection=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e){return new c({t:s.ZodTypes.tuple,items:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return{t:e._def.t,items:e._def.items.map(function(e){return e.toJSON()})}},e}t.ZodTuple=i},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n,i,a,o,s,c,d,l,u=r(425),h=r(86),f=r(109),p=r(188),v=r(110),y=r(295),r=r(268),h=h.WeakMap;d=u?(n=new h,i=n.get,a=n.has,o=n.set,s=function(e,t){return o.call(n,e,t),t},c=function(e){return i.call(n,e)||{}},function(e){return a.call(n,e)}):(r[l=y("state")]=!0,s=function(e,t){return p(e,l,t),t},c=function(e){return v(e,l)?e[l]:{}},function(e){return v(e,l)}),e.exports={set:s,get:c,has:d,enforce:function(e){return d(e)?c(e):s(e,{})},getterFor:function(r){return function(e){var t;if(!f(e)||(t=c(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=r(248),a=r(86);e.exports=function(e,t){return arguments.length<2?n(i[e])||n(a[e]):i[e]&&i[e][t]||a[e]&&a[e][t]}},function(e,t,r){var n=r(246),i=Math.max,a=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):a(e,t)}},function(e,t){e.exports={}},function(e,t,r){var a=r(301);e.exports=function(n,i,e){if(a(n),void 0===i)return n;switch(e){case 0:return function(){return n.call(i)};case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}}},function(e,t,r){"use strict";var n=r(294),i=r(131),a=r(266);e.exports=function(e,t,r){t=n(t);t in e?i.f(e,t,a(0,r)):e[t]=r}},function(e,t,r){var n=r(109),i=r(195),a=r(72)("species");e.exports=function(e,t){var r;return new(void 0===(r=i(e)&&("function"==typeof(r=e.constructor)&&(r===Array||i(r.prototype))||n(r)&&null===(r=r[a]))?void 0:r)?Array:r)(0===t?0:t)}},function(e,t,r){var n=r(97),i=r(72),a=r(387),o=i("species");e.exports=function(t){return 51<=a||!n(function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=!1},function(e,t,r){"use strict";function n(){var e=d.a||i.a,t=i.a&&c,e=!(e||0<Object(l.a)().length);return Object(u.a)()||t||e}r.d(t,"a",function(){return n});var i=r(55),a=r(19),o=r(232),s=r(74);const c=function(r){var{major:e,minor:t}=function(e){void 0===r&&(e=window);var t=Object(a.a)(e).match(/AppleWebKit\/(\d+)\.(\d+)/);if(!t)return{major:-1,minor:-1};var[,e,t]=t;return{major:parseInt(e,10),minor:parseInt(t,10)}}(r=void 0===r?window:r),n=Object(o.a)(r),i=Object(s.a)(r);return-1!==e&&-1!==t&&i&&(e<537||537===e&&t<40)&&(-1===n||n<37)}(window);var d=r(145),l=r(233),u=r(120)},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(208);const i=e=>e.filter(n.b)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=r(45).a.XS},function(e,t,r){var n;!function(){"use strict";function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=typeof r;if("string"==n||"number"==n)e.push(r);else if(Array.isArray(r))e.push(a.apply(null,r));else if("object"==n)for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var o={}.hasOwnProperty;e.exports?e.exports=a:void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";function n(e){return e>=i.a.M?i.a.L:e>=i.a.S?i.a.M:e>=i.a.XS?i.a.S:i.a.XS}r.d(t,"a",function(){return n});var i=r(45)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n={state:r(43).a.NOT_PLAYING,type:void 0,adParams:{}}},function(e,t,r){"use strict";function n(e){return"ya-video-player-"+e}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n="yastatic.net"},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){const r=new o.a(n({},a.a,{logUrl:void 0===t?a.a.logUrl:t}));return r.setRootFields({vsid:e}),r}r.d(t,"a",function(){return i});var a=r(83),o=r(223)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n={isVisible:!1,visibleWithSkinOnly:!1,name:null,description:null}},function(e,t,r){"use strict";function a(e,t,r){return Math.max(Math.min(t,r)-Math.max(e,0),0)}r.d(t,"a",function(){return i});const n=function(e){const t=(e=void 0===e?window:e).navigator.userAgent;return-1!==t.indexOf("Opera Mini")||-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/")}();var o=r(70);class i{constructor(e){this.args=e,this.isDetermined=!0,this.callback=e=>{e=e[0].intersectionRatio>=this.observer.thresholds[0];this.args.callback(e)},this.threshold=Math.max(2**-149,this.args.portion),this.observer=new IntersectionObserver(this.callback,{threshold:this.threshold})}static factory(e){return"undefined"!=typeof IntersectionObserver&&"thresholds"in IntersectionObserver.prototype&&e.element?new i(e):null}start(){this.observer.observe(this.args.element)}stop(){this.observer.disconnect()}getIsVisible(){return e=this.args.element,t=this.threshold,n?0<e.offsetWidth&&0<e.offsetHeight:function(e){var t=Object(o.a)(e),r=t.width,e=t.height;let n=0;if(0<r&&0<e){const i=function(){var e=window;let t=e.innerWidth,r=e.innerHeight;return t||(e=e.document.documentElement,t=e.clientWidth,r=e.clientHeight),{width:t,height:r}}();n=a(t.left,t.right,i.width)*a(t.top,t.bottom,i.height)/(r*e)}return n}(e)>=(t||Number.MIN_VALUE);var e,t}}},function(e,t,r){"use strict";function n(e){const t=a(e);return t?()=>{a(e)!==t&&o(e,t)}:i.a}r.d(t,"a",function(){return n});var i=r(3),t=r(23);const a=Object(t.a)(Object.getPrototypeOf)?e=>Object.getPrototypeOf(e):e=>e.__proto__||Object.prototype,o=r(245)},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.d(t,"a",function(){return h});var i=r(15),a=r(70),o=r(23),t=r(210);const s=Object(t.a)(window),c=s.requestAnimationFrame,d=s.cancelAnimationFrame;var t=r(37),l=r(56),u=r(142);class h extends t.a{constructor(r,e){var{lazy:t=!1}=void 0===e?{}:e;super(),this.resizeObserverCallback=e=>{var[{contentRect:{width:t,height:e}}]=e;this.onResize.dispatch({width:t,height:e})};var n=t?{width:NaN,height:NaN}:Object(a.a)(r);if(this.onResize=new l.a({width:n.width,height:n.height},(e,t)=>{var{width:r,height:t}=t;return e.width===r&&e.height===t}),t){const e=c(()=>{var{width:e,height:t}=Object(a.a)(r);this.onResize.dispatch({width:e,height:t})});this.addDestroyHandler(()=>{d(e)})}if(this.addDestroyHandler(()=>{this.onResize.removeAll()}),"undefined"!=typeof ResizeObserver&&Object(o.a)(ResizeObserver))try{const e=new ResizeObserver(this.resizeObserverCallback);e.observe(r),this.addDestroyHandler(()=>{e.disconnect()})}catch(e){this.fallbackToCustomDetectionMethods(r)}else this.fallbackToCustomDetectionMethods(r)}getSize(){return n({},this.onResize.getValue())}fallbackToCustomDetectionMethods(t){var e,r=t["ownerDocument"];r&&(e=r["defaultView"],e&&(r=()=>{var e=Object(a.a)(t);this.onResize.dispatch({width:e.width,height:e.height})},this.addDestroyHandler(Object(i.a)(e,"resize",r,{passive:!0})),this.addDestroyHandler(Object(u.a)(r))))}}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(19),i=r(74);const a=function(e){void 0===e&&(e=window);var t=Object(n.a)(e).toLowerCase();return/linux/.test(t)&&!Object(i.a)(e)}()},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=(e,t)=>(t?"/yandex-video-player-iframe-api-bundles-stable/":"/yandex-video-player-iframe-api-bundles/")+e+"/"},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(0);const n=Object(r.j)(0)},function(e,t,r){var n=r(135),r=r(496);n(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r,{injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,r){var i=r(109);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(352),i=r(296),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(155),i=r(371),a=r(266),o=r(171),s=r(294),c=r(110),d=r(369),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=o(e),t=s(t,!0),d)try{return l(e,t)}catch(e){}if(c(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,r){var n=r(97),i=r(299),a="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){function n(){}function i(e){return"<script>"+e+"<\/script>"}var a,o=r(189),s=r(429),c=r(356),d=r(268),l=r(430),u=r(370),h=r(295)("IE_PROTO"),f=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=a?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(a):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete f.prototype[c[r]];return f()};d[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(n.prototype=o(e),r=new n,n.prototype=null,r[h]=e):r=f(),void 0===t?r:s(r,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){"use strict";function n(e,t){const r=(t=void 0===t?document:t).createElement("a");return r.href=e,r.href}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";function n(e){return e.__yaMuffleVideoPlayPromiseOriginalPlay||e}function i(){function e(){var e=t.apply(this);return Object(a.a)(e),e}if(!o.a)return;const t=HTMLMediaElement.prototype.play;e.__yaMuffleVideoPlayPromiseOriginalPlay=t,HTMLMediaElement.prototype.play=e}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var a=r(91),o=r(143)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});const n=["strm.yandex.net","strm.yandex.ru","strm-ott.akamaized.net","media.strm.yandex.net","cdn.ngenix.net"]},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(19);const i=function(e){return void 0===e&&(e=window),/YandexSearch|YaSearchBrowser|YaApp_iOS|YaApp_Android/i.test(Object(n.a)(e))}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(0);const n=Object(r.j)(30)},function(e,t,r){"use strict";r.d(t,"a",function(){return n});r=r(193);const n={manifestTimeout:r.c,levelTimeout:r.b,chunkTimeout:r.a}},function(e,t,r){"use strict";function n(e,t){var r=Object(i.a)(e,t);if(!r)return null;let n=e.document[r.element];return t&&t[r.element]&&(n=t),n||null}r.d(t,"a",function(){return n});var i=r(313)},function(e,t,r){"use strict";function n(e,t){Object(i.a)(e)!==Object(i.a)(t)&&t.appendChild(e)}r.d(t,"a",function(){return n});var i=r(158)},function(r,e,n){"use strict";!function(o){function a(e){return 2097152*(127&e[0])+16384*(127&e[1])+128*(127&e[2])+(127&e[3])}function d(e){return e.length<4?0:16777216*e[0]+65536*e[1]+256*e[2]+e[3]}function l(e,t,r,n){r=r||0,t<0&&(t+=e.length);var i="";if(s)return((e=e.slice(r,r+t))instanceof o?e:new o(e)).toString();for(var a=r;a<r+t;a++)i+=String.fromCharCode(e[a]);return n?i:decodeURIComponent(encodeURIComponent(i))}var e=n(500),u=n(501),h=n(502),f=n(503),t=n(504),p=t.readUTF16String,v=t.readUTF8String,y=t.readISO8859String,i=void 0!==e.File&&void 0!==e.FileReader,s=void 0!==e.Buffer;r.exports={parse:function(n){return new Promise(function(t,e){var r;i&&n instanceof File?((r=new FileReader).onload=function(e){n=new Uint8Array(e.target.result),t(n)},r.readAsArrayBuffer(n)):n instanceof o||n instanceof Uint8Array?t(n):e(new TypeError("argument should be instance of Buffer|Uint8Array|File"))}).then(function(e){var t,r=function(e){if(!e||e.length<128)return!1;e=e.slice(e.length-128);var t={version:{major:1,minor:0}},r=/(^[\s\u0000]+|[\s\u0000]+$)/;return"TAG"===v(e,3)&&(t.title=v(e.slice(3),30).replace(r,""),t.artist=v(e.slice(33),30).replace(r,""),t.album=v(e.slice(63),30).replace(r,""),t.year=v(e.slice(93),4).replace(r,""),0===e[125]?(t.comment=v(e.slice(97),28).replace(r,""),t.version.minor=1,t.track=e[126]):t.comment=v(e.slice(97),30).replace(r,""),t.genre=u[e[127]]||"",t)}(e),n=function(e){if(!e||e.length<20)return!1;var t,r,n,i,i=!(!(t=e.slice(0,14))||t.length<10)&&(r=r||{},"ID3"===v(t,3)&&(n=r.version||(r.version={major:2}),i=r.version.flags||(r.version.flags={}),n.minor=t[3],n.revision=t[4],t=t[5],i.unsync=!0&t,i.xheader=!0&t,i.experimental=!0&t,r));if(!i)return!1;if(t=10,(r=i.version.flags).unsync)throw new Error("not support unsynchronisation");return r.xheader&&(t+=a(e.slice(10,14))),r=a(e.slice(6,10)),function(e,t){for(var r=0,n=t.version;r<e.length;){var i,a=d(e.slice(r+4));if(0===a)break;if(!(i=e.slice(r,r+10+a)).length)break;(a=function(e,t){var r,n={tag:null,value:null},i=l(e,4,0),a=l(e,1,0);if(t||d(e.slice(4)),0!==(e[8],e[9]))return!1;if(!(i in h))return!1;if(n.tag=h[i],"T"===a){if(0===(o=e[10]))n.value=y(e.slice(11));else if(3===o)n.value=v(e.slice(11));else{if(1!==o&&2!==o)return!1;n.value=p(e.slice(11))}"TCON"===i&&parseInt(n.value)&&(n.value=u[parseInt(n.value)])}else if("W"===a)n.value=v(e.slice(10));else if("COMM"===i||"USLT"===i){for(o=e[10],s=0,c=r=14;;c++)if(1===o||2===o){if(0===e[c]&&0===e[c+1]){r=c+2;break}c++}else if(0===e[c]){r=c+1;break}if(0===o||3===o)n.value=v(e.slice(r));else{if(1!==o&&2!==o)return!1;n.value=p(e.slice(r))}}else if("APIC"===i){for(var o=e[10],i={type:null,mime:null,imageType:null,description:null,data:null},s=0,c=r=11;;c++)if(0===e[c]){s=c-r;break}for(i.mime=v(e.slice(r),s),i.type=f[e[r+s+1]]||"other",r+=s+2,s=0,c=r;;c++)if(0===e[c]){s=c-r;break}for(i.description=0===s?null:p(e.slice(r),s),c=r+=s+1;0===e[c];c++)r++;i.data=e.slice(r),n.value=i}return!!n.tag&&n}(i,(n.minor,a)))&&(t[a.tag]=a.value),r+=i.length}}(e.slice(t,r+t),i),i}(e);if(n){for(t in r)t in n&&""!==n[t]||(n[t]=r[t]);return n.version={v1:r&&r.version,v2:n.version},n}return r?(r.version={v1:r.version,v2:!1},r):{version:!1}})}}}.call(this,n(499).Buffer)},function(e,t,r){"use strict";function n(e){return void 0===e&&(e=window),Object(i.a)(e.document.querySelectorAll("style[data-ya-player-style]"))}r.d(t,"a",function(){return n});var i=r(27)},function(e,t,r){"use strict";function n(e){var{featuresEnabled:t,shouldLoadModern:e}=e,t=Object(a.a)(t)["playerScriptFileName"];return e?(e=>{switch(e){case i.a.DEFAULT:return i.b.DEFAULT;case i.a.FULL:return i.b.FULL;case i.a.NATIVE_UI:return i.b.NATIVE_UI;case i.a.KINOPOISK:return i.b.KINOPOISK;default:return e}})(t):t}r.d(t,"a",function(){return n});var i=r(95),a=r(361)},function(e,t,r){"use strict";function n(e,t){var r=Object(i.a)(e);if(0<r.length)return r[0];var n,e=(n=t,void 0===(e=e)&&(e=window),void 0===t&&(n=e.HTMLVideoElement&&e.HTMLVideoElement.prototype||{}),a.a.filter(e=>{var e=e["enabled"];return e in n}));return 0<e.length?e[0]:void 0}r.d(t,"a",function(){return n});var i=r(233),a=r(159)},function(e,t){!function(e){if(e.Ya=e.Ya||{},Ya.Rum)throw new Error("Rum: interface is already defined");var r=e.performance,t=r&&r.timing&&r.timing.navigationStart||Ya.startPageLoad||+new Date,i=e.requestAnimationFrame;Ya.Rum={enabled:!!r,vsStart:document.visibilityState,vsChanged:!1,_defTimes:[],_defRes:[],_deltaMarks:{},_markListeners:{},_settings:{},_vars:{},init:function(e,t){this._settings=e,this._vars=t},getTime:r&&r.now?function(){return r.now()}:Date.now?function(){return Date.now()-t}:function(){return new Date-t},time:function(e){this._deltaMarks[e]=[this.getTime()]},timeEnd:function(e,t){e=this._deltaMarks[e];e&&0!==e.length&&e.push(this.getTime(),t)},sendTimeMark:function(e,t,r,n){void 0===t&&(t=this.getTime()),this._defTimes.push([e,t,n]),this.mark(e,t)},sendResTiming:function(e,t){this._defRes.push([e,t])},sendRaf:function(e){var t,r,n=this.getSetting("forcePaintTimeSending");!i||!n&&this.isVisibilityChanged()||(t=this,r="2616."+e,i(function(){!n&&t.isVisibilityChanged()||(t.getSetting("sendFirstRaf")&&t.sendTimeMark(r+".205"),i(function(){!n&&t.isVisibilityChanged()||t.sendTimeMark(r+".1928")}))}))},isVisibilityChanged:function(){return this.vsStart&&("visible"!==this.vsStart||this.vsChanged)},mark:r&&r.mark?function(e,t){r.mark(e+(t?": "+t:""))}:function(){},getSetting:function(e){e=this._settings[e];return null===e?null:e||""},on:function(e,t){"function"==typeof t&&(this._markListeners[e]=this._markListeners[e]||[]).push(t)},sendTrafficData:function(){},finalizeLayoutShiftScore:function(){},finalizeLargestContentfulPaint:function(){}},document.addEventListener&&document.addEventListener("visibilitychange",function e(){Ya.Rum.vsChanged=!0,document.removeEventListener("visibilitychange",e)})}(window)},function(e,t){function d(){var e,t=Ya.Rum.getSetting("clck"),r=u.join("\r\n");u=[],l=null,!t||navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(t,r)||((e=new XMLHttpRequest).open("POST",t),e.send(r))}var l,u;u=[],Ya.Rum.send=function(e,t,r,n,i,a,o){clearTimeout(l);var s=Ya.Rum.getSetting("slots"),c=Ya.Rum.getSetting("experiments"),r=["/reqid="+Ya.Rum.getSetting("reqid"),o?"/"+o.join("/"):"",t?"/path="+t:"",i?"/events="+i:"",s?"/slots="+s.join(";"):"",c?"/experiments="+c.join(";"):"",r?"/vars="+r:"","/cts="+(new Date).getTime(),"/*"];u.push(r.join("")),u.length<42?l=setTimeout(d,15):d()}},function(e,t){var r,n;window.PerformanceLongTaskTiming&&(r=function(e,t){return e=300<(e=e.concat(t)).length?e.slice(e.length-300):e},(n=Ya.Rum._tti={events:[],eventsAfterTTI:[],fired:!1,observer:new PerformanceObserver(function(e){e=e.getEntries();n.events=r(n.events,e),n.fired&&(n.eventsAfterTTI=r(n.eventsAfterTTI,e))})}).observer.observe({entryTypes:["longtask"]}))},function(e,t){!function(){if(!("undefined"!=typeof self?self:window).Ya||!Ya.Rum)throw new Error("Rum: interface is not defined");var t=Ya.Rum;t.getSetting=function(e){e=t._settings[e];return null===e?null:e||""}}()},function(e,t){!function(o,s){function c(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function a(e){return"number"==typeof(e="boolean"==typeof e?+e:e)?e+"":null}var d={client:["690.2354",1e3,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]},l={};s.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"};var t=!(s._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",dc:"",host:"",service:"",level:"",version:"",yandexuid:"",coordinates_gp:"",referrer:"",preventError:!1,unhandledRejection:!1,uncaughtException:!0,debug:!1,limits:{},silent:{},filters:{},pageMaxAge:864e6,initTimestamp:+new Date});s.initErrors=function(e){var a;c(s._errorSettings,e),!t&&s._errorSettings.uncaughtException&&(o.addEventListener?(o.addEventListener("error",u),"Promise"in o&&s._errorSettings.unhandledRejection&&o.addEventListener("unhandledrejection",function(e){var t,r=e.reason,e={};r&&(r.stack&&r.message?t=r.message:"[object Event]"===(t=String(r))?t="event.type: "+r.type:"[object Object]"===t&&(e.unhandledObject=r),r.target&&r.target.src&&(e.src=r.target.src),u({message:"Unhandled rejection: "+t,stack:r.stack,additional:e}))})):(a=o.onerror,o.onerror=function(e,t,r,n,i){u({error:i||new Error(e||"Empty error"),message:e,lineno:r,colno:n,filename:t}),a&&a.apply(this,arguments)}),t=!0)},s.updateErrors=function(e){c(s._errorSettings,e)},s.updateAdditional=function(e){s._errorSettings.additional=c(s._errorSettings.additional||{},e)},s._handleError=function(e,t){var r,n,i=s._errorSettings;i.preventError&&e.preventDefault&&e.preventDefault(),t?(r=e,n="client"):(n=(r=s._normalizeError(e)).type,"function"==typeof(a=i.onError)&&a(r),"function"==typeof(o=i.transform)&&(r=o(r)));var e=+new Date,a=i.initTimestamp,o=i.pageMaxAge;-1!==o&&a&&a+o<e||(a=d[n][1],"number"==typeof i.limits[n]&&(a=i.limits[n]),o=d[n][2],"number"==typeof i.silent[n]&&(o=i.silent[n]),((e=d[n][3])<a||-1===a)&&(r.path=d[n][0],t=s._getErrorData(r,{silent:e<o||-1===o?"no":"yes",isCustom:Boolean(t)},i),t=function(e){l[r.message]=!1,s._sendError(e.path,e.vars),d[n][3]++}.bind(this,t),void 0===i.throttleSend?t():l[r.message]||(l[r.message]=!0,setTimeout(t,i.throttleSend))))},s._getErrorData=function(e,t,r){t=t||{};var n="";try{var i=c(c({},r.additional),e.additional);0!==Object.keys(i).length&&(n=JSON.stringify(i))}catch(e){r.debug&&o.console&&console.error("[error-counter] json.stringify:",e)}i=r.experiments instanceof Array?r.experiments.join(";"):"",t={"-stack":e.stack,"-url":e.file,"-line":e.line,"-col":e.col,"-block":e.block,"-method":e.method,"-msg":e.message,"-env":r.env,"-external":e.external,"-externalCustom":e.externalCustom,"-project":r.project,"-service":e.service||r.service,"-page":e.page||r.page,"-platform":r.platform,"-level":e.level,"-experiments":i,"-version":r.version,"-region":r.region,"-dc":r.dc,"-host":r.host,"-yandexuid":r.yandexuid,"-coordinates_gp":e.coordinates_gp||r.coordinates_gp,"-referrer":r.referrer,"-source":e.source,"-sourceMethod":e.sourceMethod,"-type":t.isCustom?e.type:"","-additional":n,"-adb":a(Ya.blocker)||a(r.blocker),"-cdn":o.YaStaticRegion,"-ua":navigator.userAgent,"-silent":t.silent,"-ts":+new Date,"-init-ts":r.initTimestamp};return r.debug&&o.console&&console[console[e.level]?e.level:"error"]("[error-counter] "+e.message,t,e.stack),{path:e.path,vars:t}},s._baseNormalizeError=function(e){var t=(e=e||{}).filename||e.fileName||"",r=e.error&&e.error.stack||e.stack||"",n=e.message||"";return{file:t,line:e.lineno||e.lineNumber,col:e.colno||e.colNumber,stack:r,message:n,additional:e.additional}},s._normalizeError=function(e){var t=s._baseNormalizeError(e),r="uncaught",n=s._isExternalError(t.file,t.message,t.stack),i="",e="";return n.hasExternal?(r="external",i=n.common,e=n.custom):/^Script error\.?$/.test(t.message)&&(r="script"),t.external=i,t.externalCustom=e,t.type=r,t},s._sendError=function(e,t){s.send(null,e,function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&(e[t]||0===e[t])&&r.push(t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A"));return r.join(",")}(t),null,null,null,null)};var u=function(e){s._handleError(e,!1)}}("undefined"!=typeof self?self:window,Ya.Rum)},function(e,t){function i(e,t){var r,n,i=[];for(n in o)o.hasOwnProperty(n)&&(r=function(e,t){if(e&&t){var r,n,i=[];for(r in t)!t.hasOwnProperty(r)||(n="string"==typeof(n=t[r])?new RegExp(n):n)instanceof RegExp&&n.test(e)&&i.push(r);return i.join("_")}}(e[n],t[n]))&&i.push(n+"~"+r);return i.join(";")}var a,o;a=Ya.Rum,o={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/^TypeError: undefined is not a function$/,13:/__firefox__\.(?:favicons|metadata|reader|searchQueryForField|searchLoginField)/},stack:{0:/(?:moz|chrome)-extension:\/\//,1:/adguard.*\.user\.js/i}},a._isExternalError=function(e,t,r){var n=a._errorSettings.filters||{},t={url:(e||"")+"",message:(t||"")+"",stack:(r||"")+""},r=i(t,o),n=i(t,n);return{common:r,custom:n,hasExternal:!(!r&&!n)}}},function(e,t){!function(){"use strict";var s;(s=Ya.Rum).logError=function(e,t){e=e||{},"string"!=typeof t&&void 0!==t||((t=new Error(t)).justCreated=!0);var r=e.message||"",n=s._baseNormalizeError(t);n.message&&(r&&(r+="; "),r+=n.message),n.message=r||"Empty error";for(var i=["service","source","type","block","additional","level","page","method","sourceMethod","coordinates_gp"],a=0;a<i.length;a++){var o=i[a];e[o]?n[o]=e[o]:t&&t[o]&&(n[o]=t[o])}s._handleError(n,!0)}}()},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e})},function(e,t){e.exports={"stream-player":{ACCESS_ERROR_CATEGORY_MESSAGE:"  .   ,    .",ACCESS_ERROR_CATEGORY_TITLE:" ",ADBLOCK_DETECTED_MESSAGE:"    (AdBlock),  ",ADBLOCK_DETECTED_TITLE:"  ",AD_STARTS:" ",AVPLAY_AUDIO_TRACK_LABEL:"",BRAND_LOGO_BUTTON_TOOLTIP_TEXT:"   ",CANCEL_DEBUG_INFO:"",CANNOT_PLAY_ERROR_CATEGORY_MESSAGE:"  .   ,    .",CANNOT_PLAY_ERROR_CATEGORY_TITLE:"  ",CANT_DISPLAY_DRM_STREAM_MESSAGE:"     .       https://clck.ru/Pd9ZM",CANT_DISPLAY_DRM_STREAM_TITLE:"   ",CONFIGURATION_ERROR_MESSAGE:"         .   .   ,    .",CONFIGURATION_ERROR_TITLE:"   ",CONFIG_ERROR_CATEGORY_MESSAGE:"-   .    .",CONFIG_ERROR_CATEGORY_TITLE:"  ",CONTEXT_MENU_COPY_HTML:" HTML- ",CONTEXT_MENU_COPY_LINK:"   ",CONTEXT_MENU_COPY_LINK_WITH_TIME:"     ",CONTEXT_MENU_COPY_REPORT:"  ",CONTEXT_MENU_COPY_VSID:" ID ",CONTEXT_MENU_DOWNLOAD_REPORT:"  ",COPY_BUTTON_COPIED:"    ",COPY_BUTTON_TEXT:" ",COPY_DEBUG_INFO:"  ",DEEPHD_HINT:",    ",DEFAULT_ERROR_CATEGORY_MESSAGE:"  .   ,    .",DEFAULT_ERROR_CATEGORY_TITLE:"-   ",DEFAULT_ERROR_MESSAGE:"     .           .",DEFAULT_ERROR_TITLE:"   ",DETAILS:"",DOWNLOAD_DEBUG_INFO:"  ",DRM_ERROR_CATEGORY_MESSAGE:"   .   ,   ",DRM_ERROR_CATEGORY_TITLE:"    ",ERROR_SCREEN_DEFAULT_HELP_LINK:"",EXCEPTION_ERROR_CATEGORY_MESSAGE:"     ",EXCEPTION_ERROR_CATEGORY_TITLE:"   ",EXTERNAL_PLAYBACK_ACTIVATED_DEVICE_CONTROL_NOTICE:"         ",EXTERNAL_PLAYBACK_ACTIVATED_PLAY_BUTTON:" ",EXTERNAL_PLAYBACK_ACTIVATED_TO_THE_DEVICE_MESSAGE:" ",EXTERNAL_PLAYBACK_ACTIVATED_YOU_SEND_MESSAGE:"  ",EXTERNAL_PLAYBACK_BUTTON:"  ",EXTERNAL_PLAYER_LIST_ACCESS_ERROR_MESSAGE:"       ",EXTERNAL_PLAYER_LIST_EMPTY_MESSAGE:" ,      ",EXTERNAL_PLAYER_LIST_ERROR_MESSAGE:"     ,    ",EXTERNAL_PLAYER_LIST_HEADER:"  ",EXTERNAL_PLAYER_LIST_ITEM_ATTEMPT_STATUS_TEXT:"...",EXTERNAL_PLAYER_LIST_ITEM_ERROR_STATUS_TEXT:"     ,       ",EXTERNAL_PLAYER_LIST_ITEM_IDLE_STATUS_TEXT:" ",EXTERNAL_PLAYER_LIST_ITEM_OFFLINE_STATUS_TEXT:" ",EXTERNAL_PLAYER_LIST_ITEM_PLAYING_STATUS_TEXT:" ",EXTERNAL_PLAYER_LIST_ITEM_SEND:"",EXTERNAL_PLAYER_LIST_LOADING_MESSAGE:" ",EXTERNAL_PLAYER_LIST_LOGIN_LABEL:"",EXTERNAL_PLAYER_LIST_REFRESH_MESSAGE:"  ",EXTERNAL_PLAYER_LIST_TRY_AGAIN_BUTTON:" ",EXTERNAL_PLAYER_LIST_UNKNOWN_USER_MESSAGE:"    ,   ",EXTERNAL_PLAYER_LIST_YANDEX_DEVICES_INFO_LABEL:"   ",FORBIDDEN_ERROR_MESSAGE:"    ,    .",FORBIDDEN_ERROR_TITLE:" ",FULLSCREEN:" ",FULLSCREEN_TURN_OFF:"   ",FULLSCREEN_TURN_ON:"   ",HIGHLIGHTS_BUTTON_TOOLTIP:"  ",HIGHLIGHT_PLAY_TITLE:" ",HIGHLIGHT_REPEAT_TITLE:"",IN_FIVE_SECONDS:"",IN_ONE_SECOND:"",IN_PREPOSITION:"",IN_TIME:"",IN_TWO_SECONDS:"",LIB_SCRIPT_LOAD_ERROR_ADBLOCK_MESSAGE:"     .          (AdBlock).",LIB_SCRIPT_LOAD_ERROR_ADBLOCK_TITLE:"   ",LIB_SCRIPT_LOAD_ERROR_MESSAGE:"     .           .",LIB_SCRIPT_LOAD_ERROR_TITLE:"   ",LIVE_IS_LIVE:" ",LIVE_SWITCH:"     ",MEDIA_ERROR_CATEGORY_MESSAGE:"     ",MEDIA_ERROR_CATEGORY_TITLE:"  ",MEDIA_PLAY_DRM_ERROR_MESSAGE:"          .",MEDIA_PLAY_DRM_ERROR_TITLE:"    ",MEDIA_PLAY_ERROR_ADBLOCK_MESSAGE:"         (AdBlock).",MEDIA_PLAY_ERROR_ADBLOCK_TITLE:"   ",MEDIA_PLAY_ERROR_MESSAGE:"   ,      .",MEDIA_PLAY_ERROR_TITLE:"   ",MEDIA_UNAVAILABLE_ERROR_MESSAGE:"      .     .     , ,     - .",MEDIA_UNAVAILABLE_ERROR_TITLE:"   ",NETWORK_ERROR_ADBLOCK_MESSAGE:"         (AdBlock).",NETWORK_ERROR_ADBLOCK_TITLE:"   ",NETWORK_ERROR_MESSAGE:"      .",NETWORK_ERROR_TITLE:"   ",NETWORK_MEDIA_ERROR_CATEGORY_MESSAGE:"     ",NETWORK_MEDIA_ERROR_CATEGORY_TITLE:"   ",NETWORK_PLAYER_ERROR_CATEGORY_MESSAGE:"      ",NETWORK_PLAYER_ERROR_CATEGORY_TITLE:"   ",NETWORK_TIMEOUT_ERROR_CATEGORY_MESSAGE:"   .   ,   ",NETWORK_TIMEOUT_ERROR_CATEGORY_TITLE:"   -   ",NEW_HIGHTLIGHTS_EVENT_1:" ",NEW_HIGHTLIGHTS_EVENT_2:" ",NEW_HIGHTLIGHTS_EVENT_5:" ",NEXT_EPISODE:" ",NEXT_RECOMMENDATIONS_BUTTON_TITLE:"",NEXT_VIDEO:" ",NONSTOP_CANCEL_BUTTON_TITLE:"",NO_CODECS_ERROR_CATEGORY_HELP_LINK:" ",NO_CODECS_ERROR_CATEGORY_MESSAGE:"      .",NO_CODECS_ERROR_CATEGORY_TITLE:"   ",NO_CODECS_HELP_LINK_TITLE:" ",NO_CODECS_MESSAGE:"      .",NO_CODECS_TITLE:"   ",NO_MSE_HELP_LINK_TITLE:" ",NO_MSE_MESSAGE:"    ,        .    .",NO_MSE_TITLE:"    ",NO_PLAYABLE_STREAMS_DRM_MESSAGE:",     ,     .       ,     .  :    .",NO_PLAYABLE_STREAMS_DRM_TITLE:"   ",NO_PLAYABLE_STREAMS_MESSAGE:"      .",NO_PLAYABLE_STREAMS_TITLE:"  ",ON_AIR_TITLE:" ",ON_AIR_TITLE_SHORT:"",PAYMENT_ERROR_MESSAGE:"       ,    .",PAYMENT_ERROR_TITLE:"    ",PLAYER_ARIA_LABEL:"",PLAY_BUTTON_PAUSE:"",PLAY_BUTTON_PLAY:"",PLAY_BUTTON_REPEAT:"",PREVIOUS_RECOMMENDATIONS_BUTTON_TITLE:"",PROTECTED_IFRAME_ERROR_MESSAGE:"          ",PROTECTED_IFRAME_ERROR_TITLE:"  ",RECOMMENDATIONS_SUBSCRIPTION_BUTTON_CAPTION:"",RECOMMENDATIONS_SUBSCRIPTION_BUTTON_COMPLETED_CAPTION:"",RECOMMENDATIONS_SUBSCRIPTION_BUTTON_PROGRESS_CAPTION:"",RECOMMENDATIONS_TITLE_WIDGET_CAPTION:" ",RECOMMENDATION_TITLE_PREFIX:" ",REGIONAL_ERROR_CATEGORY_TITLE:"    ",REGIONAL_LIMITATION_ERROR_MESSAGE:"       .\n,    .      -,  .",REGIONAL_LIMITATION_ERROR_TITLE:"    ",REPORT:"  ",REPORT_BUTTON_TOOLTIP:"  ",RETURN_TO_ON_AIR_TITLE:"  ",SECONDS:"",SEEK_BACKWARD:"  ",SEEK_FORWARD:"  ",SELECT_AUDIO_TRACK_TITLE:"",SELECT_PLAYBACK_RATE_TITLE:"",SELECT_VIDEO_TRACK_TITLE:"",SETTINGS:"",SETTINGS_NETWORK_NOTIFICATION_CONNECTION_MIN:"    ",SETTINGS_NETWORK_NOTIFICATION_CONNECTION_SLOW:"   ",SETTINGS_NETWORK_NOTIFICATION_RECOMMENDATION:" {height}p",SHARE_BUTTON_TEXT:"",SKIP_AD_POD:"",SKIP_CREDITS:" ",SKIP_INTRO:" ",SKIP_RECAP:" ",START_POSITION_CONFIRMATION_CANCEL_LABEL:"  ",START_POSITION_CONFIRMATION_CONFIRM_LABEL:"",START_POSITION_CONFIRMATION_MESSAGE:"     .        ?",START_POSITION_CONFIRMATION_MESSAGE_SMALL:"     .  ?",STRM_ABD_INVALID_RESPONSE_ADBLOCK_MESSAGE:"     .          (AdBlock).",STRM_ABD_INVALID_RESPONSE_ADBLOCK_TITLE:"   ",TIMELINE_CONTROL_NAME:" ",TIME_WORD_ARIA:"",TRACK_AUTO:"",UNSUPPORTED_ENV_ERROR_CATEGORY_HELP_LINK:" ",UNSUPPORTED_ENV_ERROR_CATEGORY_MESSAGE:"    ,        .    .",UNSUPPORTED_ENV_ERROR_CATEGORY_TITLE:"    ",UNSUPPORTED_MEDIA_TYPE_MESSAGE:"      .        .",UNSUPPORTED_MEDIA_TYPE_TITLE:"  ",VIDEO_QUALITY:" ",VOLUME_SLIDER_CONTROL_NAME:" ",VOLUME_TURN_OFF:" ",VOLUME_TURN_ON:" ",VOLUME_VALUE_TITLE:"",WATCH_CREDITS:" ",WATCH_WITHOUT_AD:"  ",WITH_PLUS_SUBSCRIPTION:"  ",XRAY_CARD_ABOUT_BUTTON_LABEL:" ",YOUR_ID:" ID"}}},function(e,t,r){"use strict";function n(e){try{var t=window[e];return t.setItem("__test","1"),t.removeItem("__test"),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"localStorage",t=String(e).replace(/storage$/i,"").toLowerCase();if("local"===t)return n("localStorage");if("session"===t)return n("sessionStorage");if("cookie"===t)return(0,i.hasCookies)();if("memory"===t)return!0;throw new Error("Storage method `"+e+"` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.")};var i=r(257)},function(e,t,r){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},t=t||{},n=e.split(l),i=t.decode||d,a=0;a<n.length;a++){var o,s=n[a],c=s.indexOf("=");c<0||(o=s.substr(0,c).trim(),'"'==(s=s.substr(++c,s.length).trim())[0]&&(s=s.slice(1,-1)),null==r[o]&&(r[o]=function(e,t){try{return t(e)}catch(t){return e}}(s,i)))}return r},t.serialize=function(e,t,r){var n=r||{},r=n.encode||a;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");t=r(t);if(t&&!o.test(t))throw new TypeError("argument val is invalid");var i=e+"="+t;if(null!=n.maxAge){t=+n.maxAge;if(isNaN(t))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(t)}if(n.domain){if(!o.test(n.domain))throw new TypeError("option domain is invalid");i+="; Domain="+n.domain}if(n.path){if(!o.test(n.path))throw new TypeError("option path is invalid");i+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return i};var d=decodeURIComponent,a=encodeURIComponent,l=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}(i,[{key:"getItem",value:function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0}},{key:"setItem",value:function(e,t){return this._data[e]=String(t)}},{key:"removeItem",value:function(e){return delete this._data[e]}},{key:"clear",value:function(){return this._data={}}}]),i);function i(){!function(e){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this._data={}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.default=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s,c=o(r(21)),d=r(119),l=r(259),u=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,h=/([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}){1}/i,i=(s=c.ZodType,i(f,s),f.prototype.length=function(e,t){return this.min(e,t).max(e,t)},f.create=function(){return new f({t:c.ZodTypes.string,validation:{}})},f);function f(){var n=null!==s&&s.apply(this,arguments)||this;return n.toJSON=function(){return n._def},n.min=function(t,e){return n._refinement(a({check:function(e){return e.length>=t},code:d.ZodErrorCode.too_small,minimum:t,type:"string",inclusive:!0},l.errorUtil.errToObj(e)))},n.max=function(t,e){return n._refinement(a({check:function(e){return e.length<=t},code:d.ZodErrorCode.too_big,maximum:t,type:"string",inclusive:!0},l.errorUtil.errToObj(e)))},n._regex=function(t,e,r){return n._refinement(a({validation:e,code:d.ZodErrorCode.invalid_string,check:function(e){return t.test(e)}},l.errorUtil.errToObj(r)))},n.email=function(e){return n._regex(u,"email",e)},n.url=function(e){return n._refinement(a({check:function(e){try{return new URL(e),!0}catch(e){return!1}},code:d.ZodErrorCode.invalid_string,validation:"url"},l.errorUtil.errToObj(e)))},n.uuid=function(e){return n._regex(h,"uuid",e)},n.regex=function(e,t){return n._regex(e,"regex",t)},n.nonempty=function(e){return n.min(1,l.errorUtil.errToObj(e))},n}t.ZodString=i},function(e,t,r){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(119),i=r(136);t.defaultErrorMap=function(e,t){var r;switch(e.code){case n.ZodErrorCode.invalid_type:r="undefined"===e.received?"Required":"Expected "+e.expected+", received "+e.received;break;case n.ZodErrorCode.nonempty_array_is_empty:r="List must contain at least one item";break;case n.ZodErrorCode.unrecognized_keys:r="Unrecognized key(s) in object: "+e.keys.map(function(e){return"'"+e+"'"}).join(", ");break;case n.ZodErrorCode.invalid_union:r="Invalid input";break;case n.ZodErrorCode.invalid_literal_value:r='Input must be "'+e.expected+'"';break;case n.ZodErrorCode.invalid_enum_value:r="Input must be one of these values: "+e.options.join(", ");break;case n.ZodErrorCode.invalid_arguments:r="Invalid function arguments";break;case n.ZodErrorCode.invalid_return_type:r="Invalid function return type";break;case n.ZodErrorCode.invalid_date:r="Invalid date";break;case n.ZodErrorCode.invalid_string:r="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case n.ZodErrorCode.too_small:r="array"===e.type?"Should have "+(e.inclusive?"at least":"more than")+" "+e.minimum+" items":"string"===e.type?"Should be "+(e.inclusive?"at least":"over")+" "+e.minimum+" characters":"number"===e.type?"Value should be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case n.ZodErrorCode.too_big:r="array"===e.type?"Should have "+(e.inclusive?"at most":"less than")+" "+e.maximum+" items":"string"===e.type?"Should be "+(e.inclusive?"at most":"under")+" "+e.maximum+" characters long":"number"===e.type?"Value should be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case n.ZodErrorCode.custom_error:r="Invalid input.";break;default:r="Invalid input.",i.util.assertNever(e)}return{message:r}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s,c=o(r(21)),d=r(119),l=r(259),i=(s=c.ZodType,i(u,s),u.create=function(){return new u({t:c.ZodTypes.number})},u);function u(){var r=null!==s&&s.apply(this,arguments)||this;return r.toJSON=function(){return r._def},r.min=function(t,e){return r._refinement(a({check:function(e){return t<=e},code:d.ZodErrorCode.too_small,minimum:t,type:"number",inclusive:!0},l.errorUtil.errToObj(e)))},r.max=function(t,e){return r._refinement(a({check:function(e){return e<=t},code:d.ZodErrorCode.too_big,maximum:t,type:"number",inclusive:!0},l.errorUtil.errToObj(e)))},r.int=function(e){return r._refinement(a({check:function(e){return Number.isInteger(e)},code:d.ZodErrorCode.invalid_type,expected:"integer",received:"number"},l.errorUtil.errToObj(e)))},r.positive=function(e){return r._refinement(a({check:function(e){return 0<e},code:d.ZodErrorCode.too_small,minimum:0,type:"number",inclusive:!1},l.errorUtil.errToObj(e)))},r.negative=function(e){return r._refinement(a({check:function(e){return e<0},code:d.ZodErrorCode.too_big,maximum:0,type:"number",inclusive:!1},l.errorUtil.errToObj(e)))},r.nonpositive=function(e){return r._refinement(a({check:function(e){return e<=0},code:d.ZodErrorCode.too_big,maximum:0,type:"number",inclusive:!0},l.errorUtil.errToObj(e)))},r.nonnegative=function(e){return r._refinement(a({check:function(e){return 0<=e},code:d.ZodErrorCode.too_small,minimum:0,type:"number",inclusive:!0},l.errorUtil.errToObj(e)))},r}t.ZodNumber=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.bigint})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodBigInt=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.boolean})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodBoolean=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.date})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodDate=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.undefined})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodUndefined=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.null})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodNull=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.any})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodAny=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(){return new c({t:s.ZodTypes.void})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodVoid=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s,c=o(r(21)),d=r(119),r=(s=c.ZodType,i(l,s),Object.defineProperty(l.prototype,"element",{get:function(){return this._def.type},enumerable:!0,configurable:!0}),l.create=function(e){return new l({t:c.ZodTypes.array,type:e,nonempty:!1})},l);function l(){var r=null!==s&&s.apply(this,arguments)||this;return r.toJSON=function(){return{t:r._def.t,nonempty:r._def.nonempty,type:r._def.type.toJSON()}},r.min=function(t,e){return r._refinement(a({check:function(e){return e.length>=t},code:d.ZodErrorCode.too_small,type:"array",inclusive:!0,minimum:t},"string"==typeof e?{message:e}:e))},r.max=function(t,e){return r._refinement(a({check:function(e){return e.length<=t},code:d.ZodErrorCode.too_big,type:"array",inclusive:!0,maximum:t},"string"==typeof e?{message:e}:e))},r.length=function(e,t){return r.min(e,{message:t}).max(e,{message:t})},r.nonempty=function(){return new h(a({},r._def,{nonempty:!0}))},r}t.ZodArray=r;var u,h=(u=c.ZodType,i(f,u),f);function f(){var r=null!==u&&u.apply(this,arguments)||this;return r.toJSON=function(){return{t:r._def.t,type:r._def.type.toJSON()}},r.min=function(t,e){return r._refinement(a({check:function(e){return e.length>=t},code:d.ZodErrorCode.too_small,minimum:t,type:"array",inclusive:!0},"string"==typeof e?{message:e}:e))},r.max=function(t,e){return r._refinement(a({check:function(e){return e.length<=t},code:d.ZodErrorCode.too_big,maximum:t,type:"array",inclusive:!0},"string"==typeof e?{message:e}:e))},r.length=function(e,t){return r.min(e,{message:t}).max(e,{message:t})},r}t.ZodNonEmptyArray=h},function(e,t,r){"use strict";var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(21),d=r(262),a=r(261);(n=t.objectUtil||(t.objectUtil={})).mergeShapes=function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i={},a=0,o=r.filter(function(e){return-1!==n.indexOf(e)});a<o.length;a++){var s=o[a];i[s]=d.ZodIntersection.create(e[s],t[s])}return c({},e,t,i)},n.mergeObjects=function(r){return function(e){var t=n.mergeShapes(r._def.shape(),e._def.shape());return new a.ZodObject({t:i.ZodTypes.object,checks:(r._def.checks||[]).concat(e._def.checks||[]),params:{strict:r.params.strict&&e.params.strict},shape:function(){return t}})}}},function(e,i,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(i,"__esModule",{value:!0});var a=r(t(40)),o=t(136);i.isScalar=function(e,t){void 0===t&&(t={root:!0});var r=e._def,n=!1;switch(r.t){case a.ZodTypes.string:case a.ZodTypes.number:case a.ZodTypes.bigint:case a.ZodTypes.boolean:case a.ZodTypes.undefined:case a.ZodTypes.null:n=!0;break;case a.ZodTypes.any:case a.ZodTypes.unknown:case a.ZodTypes.void:n=!1;break;case a.ZodTypes.array:if(!1===t.root)return!1;n=i.isScalar(r.type,{root:!1});break;case a.ZodTypes.object:n=!1;break;case a.ZodTypes.union:n=r.options.every(function(e){return i.isScalar(e)});break;case a.ZodTypes.intersection:n=i.isScalar(r.left)&&i.isScalar(r.right);break;case a.ZodTypes.tuple:n=!1;break;case a.ZodTypes.lazy:n=i.isScalar(r.getter());break;case a.ZodTypes.literal:case a.ZodTypes.enum:case a.ZodTypes.nativeEnum:n=!0;break;case a.ZodTypes.function:case a.ZodTypes.record:n=!1;break;case a.ZodTypes.date:n=!0;break;case a.ZodTypes.promise:n=!1;break;default:o.util.assertNever(r)}return n}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e){return new c({t:s.ZodTypes.union,options:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return{t:e._def.t,options:e._def.options.map(function(e){return e.toJSON()})}},e}t.ZodUnion=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e){return new c({t:s.ZodTypes.record,valueType:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return{t:e._def.t,valueType:e._def.valueType.toJSON()}},e}t.ZodRecord=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s,c=o(r(21)),d=r(263),l=r(260),i=(s=c.ZodType,i(u,s),u.create=function(e,t){return new u({t:c.ZodTypes.function,args:e||d.ZodTuple.create([]),returns:t||l.ZodUnknown.create()})},u);function u(){var r=null!==s&&s.apply(this,arguments)||this;return r.args=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new u(a({},r._def,{args:d.ZodTuple.create(e)}))},r.returns=function(e){return new u(a({},r._def,{returns:e}))},r.implement=function(e){return r.parse(e)},r.validate=r.implement,r.toJSON=function(){return{t:r._def.t,args:r._def.args.toJSON(),returns:r._def.returns.toJSON()}},r}t.ZodFunction=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),Object.defineProperty(c.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!0,configurable:!0}),c.create=function(e){return new c({t:s.ZodTypes.lazy,getter:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){throw new Error("Can't JSONify recursive structure")},e}t.ZodLazy=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e){return new c({t:s.ZodTypes.literal,value:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodLiteral=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),Object.defineProperty(c.prototype,"options",{get:function(){return this._def.values},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enum",{get:function(){for(var e={},t=0,r=this._def.values;t<r.length;t++){var n=r[t];e[n]=n}return e},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"Values",{get:function(){for(var e={},t=0,r=this._def.values;t<r.length;t++){var n=r[t];e[n]=n}return e},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"Enum",{get:function(){for(var e={},t=0,r=this._def.values;t<r.length;t++){var n=r[t];e[n]=n}return e},enumerable:!0,configurable:!0}),c.create=function(e){return new c({t:s.ZodTypes.enum,values:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodEnum=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e){return new c({t:s.ZodTypes.nativeEnum,values:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return e._def},e}t.ZodNativeEnum=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o,s=a(r(21)),i=(o=s.ZodType,i(c,o),c.create=function(e){return new c({t:s.ZodTypes.promise,type:e})},c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.toJSON=function(){return{t:e._def.t,type:e._def.type.toJSON()}},e}t.ZodPromise=i},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});function S(e){return(e=e._def).t===_.ZodTypes.undefined||(e.t===_.ZodTypes.intersection?S(e.right)&&S(e.left):e.t===_.ZodTypes.union&&e.options.map(S).some(function(e){return!0===e}))}var _=n(r(40)),b=r(136),r=(i.create=function(){return new i},i);function i(){var T=this;this.seen=[],this.serial=0,this.randomId=function(){return"IZod"+T.serial++},this.findBySchema=function(t){return T.seen.find(function(e){return e.schema===t})},this.findById=function(t){var e=T.seen.find(function(e){return e.id===t});if(!e)throw new Error("Unfound ID: "+t);return e},this.dump=function(){return"\ntype Identity<T> = T;\n\n"+T.seen.map(function(e){return"type "+e.id+" = Identity<"+e.type+">;"}).join("\n\n")+"\n"},this.setType=function(e,t){e=T.findById(e);return e.type=t,e},this.generate=function(e){var t=T.findBySchema(e);if(t)return t;var r=e._def,n=T.randomId();switch(T.seen.push({schema:e,id:n,type:"__INCOMPLETE__"}),r.t){case _.ZodTypes.string:return T.setType(n,"string");case _.ZodTypes.number:return T.setType(n,"number");case _.ZodTypes.bigint:return T.setType(n,"bigint");case _.ZodTypes.boolean:return T.setType(n,"boolean");case _.ZodTypes.date:return T.setType(n,"Date");case _.ZodTypes.undefined:return T.setType(n,"undefined");case _.ZodTypes.null:return T.setType(n,"null");case _.ZodTypes.any:return T.setType(n,"any");case _.ZodTypes.unknown:return T.setType(n,"unknown");case _.ZodTypes.void:return T.setType(n,"void");case _.ZodTypes.literal:var i=r.value;return T.setType(n,"string"==typeof i?'"'+i+'"':""+i);case _.ZodTypes.enum:return T.setType(n,r.values.map(function(e){return'"'+e+'"'}).join(" | "));case _.ZodTypes.object:var a,o=[],s=r.shape();for(a in s){var c=s[a],d=T.generate(c),c=S(c)?"?":"";o.push(a+c+": "+d.id)}var l="{\n"+o.map(function(e){return"  "+e+";"}).join("\n")+"\n}";T.setType(n,l);break;case _.ZodTypes.tuple:for(var u=[],h=0,f=r.items;h<f.length;h++){var p=f[h],v=T.generate(p);u.push(v.id)}var y="[\n"+u.map(function(e){return"  "+e+","}).join("\n")+"\n]";return T.setType(n,y);case _.ZodTypes.array:return T.setType(n,T.generate(r.type).id+"[]");case _.ZodTypes.function:l=T.generate(r.args),y=T.generate(r.returns);return T.setType(n,"(...args: "+l.id+")=>"+y.id);case _.ZodTypes.promise:var m=T.generate(r.type);return T.setType(n,"Promise<"+m.id+">");case _.ZodTypes.union:for(var g=[],E=0,A=r.options;E<A.length;E++)p=A[E],v=T.generate(p),g.push(v.id);return T.setType(n,g.join(" | "));case _.ZodTypes.intersection:return T.setType(n,T.generate(r.left).id+" & "+T.generate(r.right).id);case _.ZodTypes.record:return T.setType(n,"{[k:string]: "+T.generate(r.valueType).id+"}");case _.ZodTypes.lazy:m=r.getter();return T.setType(n,T.generate(m).id);case _.ZodTypes.nativeEnum:return T.setType(n,"asdf");default:b.util.assertNever(r)}return T.findById(n)}}t.ZodCodeGenerator=r},function(e,t,r){"use strict";var n=r(424).charAt,i=r(265),r=r(353),a=i.set,o=i.getterFor("String Iterator");r(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=o(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(r=n(t,r),e.index+=r.length,{value:r,done:!1})})},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(86),i=r(188);e.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},function(e,t,r){var n=r(267),i=r(368);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){"use strict";function v(){return this}var y=r(31),m=r(427),g=r(377),E=r(380),A=r(249),T=r(188),S=r(247),n=r(72),_=r(267),b=r(271),r=r(376),O=r.IteratorPrototype,R=r.BUGGY_SAFARI_ITERATORS,P=n("iterator");e.exports=function(e,t,r,n,i,a,o){m(r,t,n);function s(e){if(e===i&&p)return p;if(!R&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}}var c,d,l=t+" Iterator",u=!1,h=e.prototype,f=h[P]||h["@@iterator"]||i&&h[i],p=!R&&f||s(i),n="Array"==t&&h.entries||f;if(n&&(e=g(n.call(new e)),O!==Object.prototype&&e.next&&(_||g(e)===O||(E?E(e,O):"function"!=typeof e[P]&&T(e,P,v)),A(e,l,!0,!0),_&&(b[l]=v))),"values"==i&&f&&"values"!==f.name&&(u=!0,p=function(){return f.call(this)}),_&&!o||h[P]===p||T(h,P,p),b[t]=p,i)if(c={values:s("values"),keys:a?p:s("keys"),entries:s("entries")},o)for(d in c)!R&&!u&&d in h||S(h,d,c[d]);else y({target:t,proto:!0,forced:R||u},c);return c}},function(e,t,r){var n=r(373),i=r(356).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var c=r(171),d=r(98),l=r(270),r=function(s){return function(e,t,r){var n,i=c(e),a=d(i.length),o=l(r,a);if(s&&t!=t){for(;o<a;)if((n=i[o++])!=n)return!0}else for(;o<a;o++)if((s||o in i)&&i[o]===t)return s||o||0;return!s&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){r=r(97);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,r){var n={};n[r(72)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(358),i=r(247),r=r(469);n||i(Object.prototype,"toString",r,{unsafe:!0})},function(e,t,r){"use strict";function l(e){return"string"==typeof e?e.split(";"):[]}r.r(t);var u=r(137),h=r(87),f=r(29);!function(){const c=window;if(!c.Ya||!c.Ya.Rum){r(314),r(315),r(316),r(317),r(318),r(319),r(320);try{const c={project:"video-player-iframe-api",env:"production",platform:u.a?"touch":"desktop",version:"1.0-6101".replace("1.0-",""),from:"unknown"},e=location.hash.indexOf("#",1),r=location.hash.substr(1,-1===e?location.hash.length:e).split("&");for(let e=0;e<r.length;e++){const l=r[e].split("=");c[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}(e=>{var{project:t,env:r,platform:n,version:i,from:a,from_block:o,reqid:s,vsid:c,use_friendly_frame:d}=e;Object(f.d)({useFriendlyFrame:d,vsid:c,from_block:o}),window.Ya.Rum.init({sendClientUa:!0,sendUrlInResTiming:!0,sendFirstRaf:!0,beacon:!0,clck:"https://yandex.ru/clck/click",slots:l(e.slots),crossOrigin:"",reqid:s||c},{"-project":t,"-version":i,"-env":r,"-platform":n,"-service":a,"-page":"stream-player/main",143:u.a?"28.3413.584.64":"28.3413.2048.64","-blocker":h.a?1:void 0,"-additional":decodeURIComponent(Object(f.b)())})})(c),(()=>{var{project:e,env:t,platform:r,version:n,from:i,slots:a,reqid:o,vsid:s}=c;window.Ya.Rum.initErrors({project:e,env:t,platform:r,version:n,slots:l(a),unhandledRejection:!0,debug:!1,reqid:o||s,service:i,page:"stream-player/main",blocker:h.a?1:void 0,additional:Object(f.a)()})})()}catch(c){}}}()},function(e,t,r){"use strict";function n(e){if(-1<e.indexOf(i.a.NativeUI))return{enableSkin:!1,playerScriptFileName:a.a.NATIVE_UI};if(0===e.length)return{enableSkin:!0,playerScriptFileName:a.a.DEFAULT};var t=e.some(e=>-1<o.indexOf(e)),r=e.some(e=>-1<s.indexOf(e));return t||r?e.every(e=>-1<o.indexOf(e))?{enableSkin:!0,playerScriptFileName:a.a.KINOPOISK}:{enableSkin:!0,playerScriptFileName:r?a.a.FULL:a.a.DEFAULT}:{enableSkin:!0,playerScriptFileName:a.a.DEFAULT}}r.d(t,"a",function(){return n});var i=r(88),a=r(95);const o=[i.a.Xray,i.a.SkippableFragments,i.a.CloseButton],s=[i.a.SkippableFragments,i.a.Xray,i.a.NonStop,i.a.Recommendations]},,,,function(e,n,i){"use strict";!function(e,t){var r=i(407),t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t,t=Object(r.a)(t);n.a=t}.call(this,i(350),i(497)(e))},,function(e,t,r){var r=r(368),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return n.call(e)}),e.exports=r.inspectSource},function(e,t,r){var n=r(86),r=r(351),r=n["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=r},function(e,t,r){var n=r(155),i=r(97),a=r(370);e.exports=!n&&!i(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(86),r=r(109),i=n.document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!n.call({1:2},1);t.f=a?function(e){e=i(this,e);return!!e&&e.enumerable}:n},function(e,t,r){var s=r(110),c=r(426),d=r(297),l=r(131);e.exports=function(e,t){for(var r=c(t),n=l.f,i=d.f,a=0;a<r.length;a++){var o=r[a];s(e,o)||n(e,o,i(t,o))}}},function(e,t,r){var o=r(110),s=r(171),c=r(355).indexOf,d=r(268);e.exports=function(e,t){var r,n=s(e),i=0,a=[];for(r in n)!o(d,r)&&o(n,r)&&a.push(r);for(;t.length>i;)o(n,r=t[i++])&&(~c(a,r)||a.push(r));return a}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(97),i=/#|\.prototype\./,r=function(e,t){e=o[a(e)];return e==c||e!=s&&("function"==typeof t?n(t):!!t)},a=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},o=r.data={},s=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},function(e,t,r){"use strict";var n,i=r(377),a=r(188),o=r(110),s=r(72),c=r(267),d=s("iterator"),r=!1;[].keys&&("next"in(s=[].keys())?(s=i(i(s)))!==Object.prototype&&(n=s):r=!0),null==n&&(n={}),c||o(n,d)||a(n,d,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:r}},function(e,t,r){var n=r(110),i=r(132),a=r(295),r=r(428),o=a("IE_PROTO"),s=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){r=r(357);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(373),i=r(356);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var i=r(189),a=r(431);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(r){}return function(e,t){return i(e),a(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,r){var i=r(189);e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){r=e.return;throw void 0!==r&&i(r.call(e)),t}}},function(e,t,r){var n=r(72),i=r(271),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,r){var n=r(384),i=r(271),a=r(72)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(358),i=r(299),a=r(72)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?e:o?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,r){var i=r(72)("iterator"),a=!1;try{var n=0,o={next:function(){return{done:!!n++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(31),i=r(97),d=r(195),l=r(109),u=r(132),h=r(98),f=r(273),p=r(274),a=r(275),o=r(72),r=r(387),v=o("isConcatSpreadable"),i=51<=r||!i(function(){var e=[];return e[v]=!1,e.concat()[0]!==e}),a=a("concat");n({target:"Array",proto:!0,forced:!i||!a},{concat:function(e){for(var t,r,n,i=u(this),a=p(i,0),o=0,s=-1,c=arguments.length;s<c;s++)if(function(e){if(!l(e))return!1;var t=e[v];return void 0!==t?!!t:d(e)}(n=-1===s?i:arguments[s])){if(9007199254740991<o+(r=h(n.length)))throw TypeError("Maximum allowed index exceeded");for(t=0;t<r;t++,o++)t in n&&f(a,o,n[t])}else{if(9007199254740991<=o)throw TypeError("Maximum allowed index exceeded");f(a,o++,n)}return a.length=o,a}})},function(e,t,r){var n,i,a=r(86),r=r(436),a=a.process,a=a&&a.versions,a=a&&a.v8;a?i=(n=a.split("."))[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||74<=n[1])&&(n=r.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},function(e,t,r){"use strict";var f=r(195),p=r(98),v=r(272);e.exports=function e(t,r,n,i,a,o,s,c){for(var d,l=a,u=0,h=!!s&&v(s,c,3);u<i;){if(u in n){if(d=h?h(n[u],u,r):n[u],0<o&&f(d))l=e(t,r,d,p(d.length),l,o-1)-1;else{if(9007199254740991<=l)throw TypeError("Exceed the acceptable array length");t[l]=d}l++}u++}return l}},function(e,t,r){"use strict";var n=r(31),i=r(355).includes,a=r(190);n({target:"Array",proto:!0,forced:!r(111)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),a("includes")},function(e,t,r){"use strict";var n=r(171),i=r(190),a=r(271),o=r(265),r=r(353),s=o.set,c=o.getterFor("Array Iterator");e.exports=r(Array,"Array",function(e,t){s(this,{type:"Array Iterator",target:n(e),index:0,kind:t})},function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,r){var l=r(301),u=r(132),h=r(298),f=r(98),r=function(d){return function(e,t,r,n){l(t);var i=u(e),a=h(i),o=f(i.length),s=d?o-1:0,c=d?-1:1;if(r<2)for(;;){if(s in a){n=a[s],s+=c;break}if(s+=c,d?s<0:o<=s)throw TypeError("Reduce of empty array with no initial value")}for(;d?0<=s:s<o;s+=c)s in a&&(n=t(n,a[s],s,i));return n}};e.exports={left:r(!1),right:r(!0)}},function(e,t,r){"use strict";var n=r(269),i=r(131),a=r(72),o=r(155),s=a("species");e.exports=function(e){var t=n(e),e=i.f;o&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var y=r(31),m=r(86),g=r(375),E=r(247),A=r(394),T=r(395),S=r(396),_=r(109),b=r(97),O=r(385),R=r(249),P=r(467);e.exports=function(r,e,t){function n(e){var r=f[e];E(f,e,"add"==e?function(e){return r.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(l&&!_(e))&&r.call(this,0===e?0:e)}:"get"==e?function(e){return l&&!_(e)?void 0:r.call(this,0===e?0:e)}:"has"==e?function(e){return!(l&&!_(e))&&r.call(this,0===e?0:e)}:function(e,t){return r.call(this,0===e?0:e,t),this})}var i,a,o,s,c,d=-1!==r.indexOf("Map"),l=-1!==r.indexOf("Weak"),u=d?"set":"add",h=m[r],f=h&&h.prototype,p=h,v={};return g(r,"function"!=typeof h||!(l||f.forEach&&!b(function(){(new h).entries().next()})))?(p=t.getConstructor(e,r,d,u),A.REQUIRED=!0):g(r,!0)&&(a=(i=new p)[u](l?{}:-0,1)!=i,o=b(function(){i.has(1)}),s=O(function(e){new h(e)}),c=!l&&b(function(){for(var e=new h,t=5;t--;)e[u](t,t);return!e.has(-0)}),s||(((p=e(function(e,t){S(e,p,r);e=P(new h,e,p);return null!=t&&T(t,e[u],e,d),e})).prototype=f).constructor=p),(o||c)&&(n("delete"),n("has"),d&&n("get")),(c||a)&&n(u),l&&f.clear&&delete f.clear),v[r]=p,y({global:!0,forced:p!=h},v),R(p,r),l||t.setStrong(p,r,d),p}},function(e,t,r){function n(e){s(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})}var i=r(268),a=r(109),o=r(110),s=r(131).f,c=r(296),d=r(466),l=c("meta"),u=0,h=Object.isExtensible||function(){return!0},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,l)){if(!h(e))return"F";if(!t)return"E";n(e)}return e[l].objectID},getWeakData:function(e,t){if(!o(e,l)){if(!h(e))return!0;if(!t)return!1;n(e)}return e[l].weakData},onFreeze:function(e){return d&&f.REQUIRED&&h(e)&&!o(e,l)&&n(e),e}};i[l]=!0},function(e,t,r){function h(e,t){this.stopped=e,this.result=t}var f=r(189),p=r(382),v=r(98),y=r(272),m=r(383),g=r(381);(e.exports=function(e,t,r,n,i){var a,o,s,c,d,l,u=y(t,r,n?2:1);if(i)a=e;else{if("function"!=typeof(i=m(e)))throw TypeError("Target is not iterable");if(p(i)){for(o=0,s=v(e.length);o<s;o++)if((c=n?u(f(l=e[o])[0],l[1]):u(e[o]))&&c instanceof h)return c;return new h(!1)}a=i.call(e)}for(d=a.next;!(l=d.call(a)).done;)if("object"==typeof(c=g(a,u,l.value,n))&&c&&c instanceof h)return c;return new h(!1)}).stop=function(e){return new h(!0,e)}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){"use strict";var d=r(131).f,l=r(300),u=r(468),h=r(272),f=r(396),p=r(395),o=r(353),s=r(392),v=r(155),y=r(394).fastKey,r=r(265),m=r.set,g=r.getterFor;e.exports={getConstructor:function(e,r,n,i){function a(e,t,r){var n,i=c(e),a=o(e,t);return a?a.value=r:(i.last=a={index:n=y(t,!0),key:t,value:r,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),v?i.size++:e.size++,"F"!==n&&(i.index[n]=a)),e}function o(e,t){var r,n=c(e);if("F"!==(e=y(t)))return n.index[e];for(r=n.first;r;r=r.next)if(r.key==t)return r}var s=e(function(e,t){f(e,s,r),m(e,{type:r,index:l(null),first:void 0,last:void 0,size:0}),v||(e.size=0),null!=t&&p(t,e[i],e,n)}),c=g(r);return u(s.prototype,{clear:function(){for(var e=c(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,v?e.size=0:this.size=0},delete:function(e){var t,r=c(this),n=o(this,e);return n&&(t=n.next,e=n.previous,delete r.index[n.index],n.removed=!0,e&&(e.next=t),t&&(t.previous=e),r.first==n&&(r.first=t),r.last==n&&(r.last=e),v?r.size--:this.size--),!!n},forEach:function(e){for(var t,r=c(this),n=h(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!o(this,e)}}),u(s.prototype,n?{get:function(e){e=o(this,e);return e&&e.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),v&&d(s.prototype,"size",{get:function(){return c(this).size}}),s},setStrong:function(e,t,r){var n=t+" Iterator",i=g(t),a=g(n);o(e,t,function(e,t){m(this,{type:n,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),s(t)}}},function(e,t,r){var n,i=r(86),a=r(470),o=r(390),s=r(188),r=r(72),c=r("iterator"),d=r("toStringTag"),l=o.values;for(n in a){var u=i[n],h=u&&u.prototype;if(h){if(h[c]!==l)try{s(h,c,l)}catch(e){h[c]=l}if(h[d]||s(h,d,n),a[n])for(var f in o)if(h[f]!==o[f])try{s(h,f,o[f])}catch(e){h[f]=o[f]}}}},function(e,t,r){r=r(72);t.f=r},function(e,t,r){var n=r(494);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var n=r(72)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(t){}}return!1}},,,,function(e,t,r){var n;void 0===(n="function"==typeof(n=function(){return function t(e,r,n){function i(e){for(var t=e.split(/[:;,]/),e=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),n=r.length,i=0,a=new Uint8Array(n);i<n;++i)a[i]=r.charCodeAt(i);return new u([a],{type:e})}function a(e,t){if("download"in l)return l.href=e,l.setAttribute("download",h),l.className="download-js-link",l.innerHTML="downloading...",l.style.display="none",document.body.appendChild(l),setTimeout(function(){l.click(),document.body.removeChild(l),!0===t&&setTimeout(function(){o.URL.revokeObjectURL(l.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var r=document.createElement("iframe");document.body.appendChild(r),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),r.src=e,setTimeout(function(){document.body.removeChild(r)},333)}var o=window,s="application/octet-stream",c=n||s,d=e,e=!r&&!n&&d,l=document.createElement("a"),n=function(e){return String(e)},u=o.Blob||o.MozBlob||o.WebKitBlob||n,h=r||"download",u=u.call?u.bind(o):Blob;if("true"===String(this)&&(c=(d=[d,c])[0],d=d[1]),e&&e.length<2048&&(h=e.split("/").pop().split("?")[0],l.href=e,-1!==l.href.indexOf(e))){var f=new XMLHttpRequest;return f.open("GET",e,!0),f.responseType="blob",f.onload=function(e){t(e.target.response,h,s)},setTimeout(function(){f.send()},0),f}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(2096103.424<d.length&&u!==n))return navigator.msSaveBlob?navigator.msSaveBlob(i(d),h):a(d);c=(d=i(d)).type||s}else if(/([\x80-\xff])/.test(d)){for(var p=0,v=new Uint8Array(d.length),y=v.length;p<y;++p)v[p]=d.charCodeAt(p);d=new u([v],{type:c})}if(e=d instanceof u?d:new u([d],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(e,h);if(o.URL)a(o.URL.createObjectURL(e),!0);else{if("string"==typeof e||e.constructor===n)try{return a("data:"+c+";base64,"+o.btoa(e))}catch(t){return a("data:"+c+","+encodeURIComponent(e))}(c=new FileReader).onload=function(e){a(this.result)},c.readAsDataURL(e)}return!0}})?n.apply(t,[]):n)||(e.exports=n)},function(e,t){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var r,n;e.exports=(r=[function(e,s,t){"use strict";function c(t){return r[Object.keys(r).filter(function(e){return"number"==typeof r[e]}).reverse().find(function(e){return r[e]<=t})]}var d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.estimateConnection=s.scoreToQuality=s.SCORE_MAX_RTT=s.SCORE_MAX_DOWNLINK=s.scorePoints=s.Quality=void 0;var r,l=t(2);(t=r=s.Quality||(s.Quality={}))[t.NoVideo=0]="NoVideo",t[t.Video360p=2.5]="Video360p",t[t.Video480p=4.5]="Video480p",t[t.Video720p=6.5]="Video720p",t[t.Video1080p=8]="Video1080p",t[t.Video2K=10]="Video2K",t[t.Video4K=11]="Video4K",s.scorePoints=[[0,r.NoVideo],[.9,r.Video360p],[2.5,r.Video480p],[5,r.Video720p],[7.5,r.Video1080p],[10,r.Video2K],[14,r.Video4K]],s.SCORE_MAX_DOWNLINK=s.scorePoints[s.scorePoints.length-1][0],s.SCORE_MAX_RTT=3e3,s.scoreToQuality=c,s.estimateConnection=function(e,t,r){var n=l.collectMetaData(e,t),i=0,a=s.scorePoints.findIndex(function(e){return e[0]>=n.downlink});0<a&&(t=(e=s.scorePoints[a-1])[0],o=e[1],a=(e=s.scorePoints[a])[0],e=e[1],i=o+(n.downlink-t)/(a-t)*(e-o));var o=3*n.rtt/s.SCORE_MAX_RTT,i=Math.max(0,Math.round(10*(i-o))/10),o=Math.min(i,10),i=c(i);return!0!==r.disable&&l.sendScoreLog(d(d({},n),{score:o,logOptions:r})),{score:o,quality:i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);Object.defineProperty(t,"estimateConnection",{enumerable:!0,get:function(){return n.estimateConnection}}),Object.defineProperty(t,"scoreToQuality",{enumerable:!0,get:function(){return n.scoreToQuality}}),Object.defineProperty(t,"Quality",{enumerable:!0,get:function(){return n.Quality}});var i=r(3);Object.defineProperty(t,"Mark",{enumerable:!0,get:function(){return i.Mark}})},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.collectMetaData=r.sendScoreLog=r.SCORE_STAT_URL=r.SCORE_STAT_ID=void 0;var a=t(0);r.SCORE_STAT_ID="inet."+Date.now()+"."+Math.random(),r.SCORE_STAT_URL="https://yandex.ru/clck/click",r.sendScoreLog=function(e){var t=["-s="+e.score,"-d="+e.downlink,"-r="+e.rtt,"-nid="+e.niDownlink,"-drs="+e.resDownloadSpeed,"-srv="+encodeURIComponent(e.logOptions.service),"-ua="+encodeURIComponent(navigator.userAgent)].join(","),e=r.SCORE_STAT_URL+"/reqid="+r.SCORE_STAT_ID+"/path=tech.inet.score_stats/vars="+t+"/*",t=new XMLHttpRequest;t.open("get",e),t.send()},r.collectMetaData=function(e,t){var r=e/1e6,n=Math.min(r,a.SCORE_MAX_DOWNLINK),i=Math.min(t,a.SCORE_MAX_RTT),e=null,t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return{downlink:n,rtt:i,resDownloadSpeed:r,niDownlink:e=t&&t.downlink&&"number"==typeof t.downlink?t.downlink:e}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4),t)},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Mark=void 0;var a=r(5),o=r(0);r(8);var s,i=(s=a.Component,i(c,s),c.getColorClass=function(e){switch(e.quality){case o.Quality.Video4K:return"4K";case o.Quality.Video2K:return"2K";case o.Quality.Video1080p:return e.score<8.5?"1080":e.score<9.5?"1080x":"1080xx";default:return"0"}},c.formatValue=function(e){return 10<=e?"10":e.toFixed(1).replace(".",",")},c.prototype.render=function(){var e=this.props,t=e.estimation,r=e.mix;if(void 0===t)return null;e=c.formatValue(t.score),t=c.getColorClass(t);return a.createElement("div",{className:"mark"+(t?" mark_"+t:"")+(r?" "+r:"")},e)},c);function c(){return null!==s&&s.apply(this,arguments)||this}t.Mark=i},function(e,t,r){"use strict";e.exports=r(6)},function(e,t,r){"use strict";function l(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,i,a,o,s){var c,d;if(!e)throw(e=void 0)===t?e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(c=[r,n,i,a,o,s],d=0,(e=Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"),e.framesToPop=1,e}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}function n(e,t,r){this.props=e,this.context=t,this.refs=k,this.updater=r||N}function i(){}function a(e,t,r){this.props=e,this.context=t,this.refs=k,this.updater=r||N}function o(e,t,r){var n=void 0,i={},a=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,n)&&!M.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:E,type:e,key:a,ref:o,props:i,_owner:D.current}}function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===E}function c(e,t,r,n){if(F.length){var i=F.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,F.length<10&&F.push(e)}function u(e,t,r){return null==e?0:function e(t,r,n,i){var a=typeof t,o=!1;if(null===(t="undefined"===a||"boolean"===a?null:t))o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case E:case A:o=!0}}if(o)return n(i,t,""===r?"."+h(t,0):r),1;if(o=0,r=""===r?".":r+":",Array.isArray(t))for(var s=0;s<t.length;s++){var c=r+h(a=t[s],s);o+=e(a,c,n,i)}else if("function"==typeof(c=null!==t&&"object"==typeof t&&"function"==typeof(c=I&&t[I]||t["@@iterator"])?c:null))for(t=c.call(t),s=0;!(a=t.next()).done;)o+=e(a=a.value,c=r+h(a,s++),n,i);else"object"===a&&l("31","[object Object]"==(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return o}(e,"",t,r)}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=e.key,r={"=":"=0",":":"=2"},"$"+(""+e).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var r}function f(e,t){e.func.call(e.context,t,e.count++)}function p(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,n,r,function(e){return e}):null!=e&&(s(e)&&(r=i+(!(i=e).key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+r,e={$$typeof:E,type:i.type,key:r,ref:i.ref,props:i.props,_owner:i._owner}),n.push(e))}function v(e,t,r,n,i){var a="";u(e,p,t=c(t,a=null!=r?(""+r).replace(x,"$&/")+"/":a,n,i)),d(t)}function y(){var e=L.current;return null===e&&l("321"),e}var m=r(7),g="function"==typeof Symbol&&Symbol.for,E=g?Symbol.for("react.element"):60103,A=g?Symbol.for("react.portal"):60106,T=g?Symbol.for("react.fragment"):60107,S=g?Symbol.for("react.strict_mode"):60108,_=g?Symbol.for("react.profiler"):60114,b=g?Symbol.for("react.provider"):60109,O=g?Symbol.for("react.context"):60110,R=g?Symbol.for("react.concurrent_mode"):60111,P=g?Symbol.for("react.forward_ref"):60112,r=g?Symbol.for("react.suspense"):60113,w=g?Symbol.for("react.memo"):60115,C=g?Symbol.for("react.lazy"):60116,I="function"==typeof Symbol&&Symbol.iterator,N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k={};n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&l("85"),this.updater.enqueueSetState(this,e,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=n.prototype;g=a.prototype=new i;g.constructor=a,m(g,n.prototype),g.isPureReactComponent=!0;var L={current:null},D={current:null},j=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},x=/\/+/g,F=[],_={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return v(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;u(e,f,t=c(null,null,t,r)),d(t)},count:function(e){return u(e,function(){return null},null)},toArray:function(e){var t=[];return v(e,t,null,function(e){return e}),t},only:function(e){return s(e)||l("143"),e}},createRef:function(){return{current:null}},Component:n,PureComponent:a,createContext:function(e,t){return(e={$$typeof:O,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:b,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:P,render:e}},lazy:function(e){return{$$typeof:C,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:w,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return y().useCallback(e,t)},useContext:function(e,t){return y().useContext(e,t)},useEffect:function(e,t){return y().useEffect(e,t)},useImperativeHandle:function(e,t,r){return y().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return y().useLayoutEffect(e,t)},useMemo:function(e,t){return y().useMemo(e,t)},useReducer:function(e,t,r){return y().useReducer(e,t,r)},useRef:function(e){return y().useRef(e)},useState:function(e){return y().useState(e)},Fragment:T,StrictMode:S,Suspense:r,createElement:o,cloneElement:function(e,t,r){null==e&&l("267",e);var n=void 0,i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){void 0!==t.ref&&(o=t.ref,s=D.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(n in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)j.call(t,n)&&!M.hasOwnProperty(n)&&(i[n]=(void 0===t[n]&&void 0!==c?c:t)[n])}if(1==(n=arguments.length-2))i.children=r;else if(1<n){for(var c=Array(n),d=0;d<n;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:E,type:e.type,key:a,ref:o,props:i,_owner:s}},createFactory:function(e){var t=o.bind(null,e);return t.type=e,t},isValidElement:s,version:"16.8.6",unstable_ConcurrentMode:R,unstable_Profiler:_,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:L,ReactCurrentOwner:D,assign:m}};e.exports=_.default||_},function(e,t,r){"use strict";var c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(i({},n)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var r,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var a in r=Object(arguments[i]))d.call(r,a)&&(n[a]=r[a]);if(c)for(var o=c(r),s=0;s<o.length;s++)l.call(r,o[s])&&(n[o[s]]=r[o[s]])}return n}},function(e,t,r){}],n={},a.m=r,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1))},function(e,t,r){"use strict";function n(e){var t,e=e.Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.batchedSubscribe=function(n){function i(){s===r&&(s=r.slice())}function a(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var r=!0;return i(),s.push(t),function(){var e;r&&(r=!1,i(),e=s.indexOf(t),s.splice(e,1))}}function o(){for(var e=r=s,t=0;t<e.length;t++)e[t]()}if("function"!=typeof n)throw new Error("Expected batch to be a function.");var r=[],s=r;return function(r){return function(){var t=r.apply(void 0,arguments),e=t.subscribe;return c({},t,{dispatch:function(){var e=t.dispatch.apply(t,arguments);return n(o),e},subscribe:a,subscribeImmediate:e})}}}},function(e,t,r){var n=r(135),r=r(498);n(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r,{injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){for(var n=e.length+t.length,i=new Array(n),a=0,o=0,s=0;s<n;){var c=a>=e.length,d=o>=t.length;!c&&(d||r(e[a],t[o])<0)?(i[s]=e[a],a++):(i[s]=t[o],o++),s++}return i}},function(e,t){e.exports='<svg viewBox="0 0 280 68" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.93 17.964c.323-1.612.538-3.751.645-6.417.108-2.666.183-5.901.226-9.706h14.253v23.121h-3.063V4.614H7.67c-.065 3.16-.15 5.88-.258 8.159-.108 2.278-.312 4.224-.613 5.836-.193.86-.43 1.688-.71 2.483a7.355 7.355 0 0 1-1.128 2.064 5.189 5.189 0 0 1-1.677 1.451c-.666.344-1.462.516-2.386.516a.948.948 0 0 1-.226-.032H.447v-3.064c.086.022.215.033.387.033.903-.022 1.58-.409 2.032-1.161.473-.774.828-1.752 1.064-2.935zM45.164 16.578c0 1.397-.204 2.633-.613 3.708-.387 1.075-.935 1.989-1.644 2.741a6.924 6.924 0 0 1-2.45 1.677c-.947.387-1.979.58-3.097.58-1.032 0-1.999-.172-2.902-.515a7.2 7.2 0 0 1-2.386-1.484c-.667-.666-1.215-1.483-1.645-2.45-.43-.968-.688-2.065-.774-3.29H26.88v7.417h-2.838V8.226h2.838v6.9h2.838c.129-1.16.408-2.181.838-3.063.43-.903.978-1.655 1.645-2.257a7.187 7.187 0 0 1 2.322-1.42 8.195 8.195 0 0 1 2.837-.483c1.118 0 2.15.194 3.096.58a6.924 6.924 0 0 1 2.45 1.678c.71.73 1.258 1.644 1.645 2.74.409 1.075.613 2.3.613 3.677zm-7.804 6.159c.71 0 1.355-.118 1.935-.355a4.238 4.238 0 0 0 1.548-1.129c.43-.515.763-1.16 1-1.934.258-.774.387-1.688.387-2.741 0-1.054-.13-1.967-.387-2.741-.237-.774-.57-1.408-1-1.903a3.8 3.8 0 0 0-1.548-1.129 4.714 4.714 0 0 0-1.935-.386 4.86 4.86 0 0 0-1.934.386 3.849 3.849 0 0 0-1.516 1.13c-.43.494-.774 1.128-1.032 1.902-.236.774-.355 1.687-.355 2.74 0 1.054.118 1.968.355 2.742.258.774.602 1.419 1.032 1.934.43.495.935.871 1.516 1.13a5.243 5.243 0 0 0 1.934.354zM63.697 16.578c0 1.397-.215 2.633-.645 3.708-.408 1.075-.978 1.989-1.709 2.741a7.113 7.113 0 0 1-2.547 1.677c-.99.387-2.064.58-3.225.58-1.182 0-2.268-.193-3.257-.58a6.742 6.742 0 0 1-2.548-1.838c-.709-.817-1.268-1.849-1.676-3.096-.387-1.247-.58-2.72-.58-4.418 0-1.397.042-2.73.128-3.998.086-1.269.28-2.44.58-3.515.301-1.097.731-2.075 1.29-2.935.58-.881 1.355-1.612 2.322-2.193a6.34 6.34 0 0 1 1.677-.709 12.65 12.65 0 0 1 1.742-.387c.601-.086 1.203-.14 1.805-.161l1.774-.065c.86-.064 1.58-.172 2.16-.322a6.284 6.284 0 0 0 1.548-.613v2.58a4.961 4.961 0 0 1-1.515.645c-.516.107-1.15.204-1.903.29-1.225.108-2.354.194-3.386.258-1.01.043-1.935.28-2.773.71-1.075.601-1.838 1.504-2.29 2.708-.43 1.183-.698 2.59-.806 4.225C50.981 9.29 53.088 8 56.183 8a7.37 7.37 0 0 1 2.935.58c.924.366 1.72.914 2.386 1.645.688.73 1.226 1.634 1.613 2.709.387 1.053.58 2.268.58 3.644zm-8.126 6.159c.752 0 1.44-.118 2.064-.355a4.716 4.716 0 0 0 1.677-1.129c.473-.515.838-1.16 1.096-1.934.258-.774.387-1.688.387-2.741 0-1.054-.129-1.967-.387-2.741s-.623-1.408-1.096-1.903a4.215 4.215 0 0 0-1.677-1.129 5.35 5.35 0 0 0-2.064-.386c-1.483 0-2.72.494-3.709 1.483-.967.989-1.45 2.515-1.45 4.579 0 1.075.128 2.01.386 2.805.258.774.613 1.42 1.064 1.935a4.597 4.597 0 0 0 1.645 1.161 5.776 5.776 0 0 0 2.064.355zM70.086 21.092L79.02 8.226h2.87v16.736H79.05V12.128l-8.9 12.834h-2.903V8.226h2.838v12.866zM102.484 11.515l-5.676 11.577h-2.257L89.198 11.45v13.512H86.52V8.226h4.225l5.127 11.222 5.482-11.222h3.934v16.736h-2.805V11.515zM122.302 19.383c0 .968-.172 1.806-.516 2.515a4.575 4.575 0 0 1-1.451 1.742c-.623.451-1.365.784-2.225 1-.86.215-1.795.322-2.805.322h-5.386V8.226h2.838v5.836h2.741c2.128 0 3.794.42 4.998 1.258 1.204.838 1.806 2.193 1.806 4.063zm5.256 5.579h-2.837V8.226h2.837v16.736zm-14.801-8.481v6.062h2.548c1.225 0 2.214-.225 2.966-.677.774-.473 1.161-1.247 1.161-2.322 0-1.096-.344-1.88-1.032-2.354-.688-.473-1.655-.71-2.902-.71h-2.741zM145.533 23.543a8.906 8.906 0 0 1-.87.548c-.344.194-.764.387-1.258.58-.495.173-1.053.312-1.677.42-.623.129-1.322.193-2.096.193-2.816 0-4.955-.763-6.417-2.29-1.462-1.526-2.193-3.665-2.193-6.416 0-1.355.193-2.57.58-3.644.409-1.075.968-1.978 1.677-2.709a6.978 6.978 0 0 1 2.516-1.71c.967-.408 2.02-.612 3.16-.612 1.204 0 2.279.204 3.225.613a5.683 5.683 0 0 1 2.321 1.806c.624.795 1.043 1.784 1.258 2.967.236 1.16.236 2.515 0 4.063h-11.803c.108 1.805.645 3.16 1.613 4.063.967.881 2.408 1.322 4.321 1.322 1.29 0 2.397-.183 3.321-.548.925-.366 1.699-.764 2.322-1.193v2.547zM138.89 10.42c-1.225 0-2.278.376-3.16 1.128-.881.753-1.44 1.892-1.677 3.418h8.997c.086-1.547-.269-2.687-1.064-3.418-.795-.752-1.827-1.129-3.096-1.129zM171.744 16.578c0 1.397-.215 2.633-.645 3.708-.408 1.075-.978 1.989-1.709 2.741a7.115 7.115 0 0 1-2.547 1.677c-.989.387-2.064.58-3.225.58-1.183 0-2.268-.193-3.257-.58a6.747 6.747 0 0 1-2.548-1.838c-.709-.817-1.268-1.849-1.677-3.096-.386-1.247-.58-2.72-.58-4.418 0-1.397.043-2.73.129-3.998.086-1.269.28-2.44.58-3.515.301-1.097.731-2.075 1.29-2.935.581-.881 1.355-1.612 2.322-2.193a6.356 6.356 0 0 1 1.677-.709c.58-.172 1.161-.301 1.741-.387.602-.086 1.204-.14 1.806-.161l1.774-.065c.86-.064 1.58-.172 2.16-.322a6.271 6.271 0 0 0 1.548-.613v2.58a4.964 4.964 0 0 1-1.515.645 21.57 21.57 0 0 1-1.903.29c-1.225.108-2.354.194-3.386.258-1.01.043-1.935.28-2.773.71-1.075.601-1.838 1.504-2.29 2.708-.43 1.183-.698 2.59-.806 4.225 1.118-2.58 3.225-3.87 6.321-3.87a7.37 7.37 0 0 1 2.934.58c.924.366 1.72.914 2.386 1.645.688.73 1.226 1.634 1.613 2.709.387 1.053.58 2.268.58 3.644zm-8.126 6.159c.752 0 1.44-.118 2.064-.355a4.716 4.716 0 0 0 1.677-1.129c.472-.515.838-1.16 1.096-1.934.258-.774.387-1.688.387-2.741 0-1.054-.129-1.967-.387-2.741s-.624-1.408-1.096-1.903a4.215 4.215 0 0 0-1.677-1.129 5.353 5.353 0 0 0-2.064-.386c-1.484 0-2.72.494-3.709 1.483-.967.989-1.451 2.515-1.451 4.579 0 1.075.129 2.01.387 2.805.258.774.613 1.42 1.064 1.935a4.602 4.602 0 0 0 1.645 1.161 5.773 5.773 0 0 0 2.064.355zM176.113 19.77c.301-1.096.494-2.58.58-4.45.086-1.87.129-4.235.129-7.094h11.255v16.736h-2.87V10.644h-5.708a99.126 99.126 0 0 1-.226 6.127c-.107 1.784-.355 3.29-.742 4.515-.365 1.225-.913 2.16-1.644 2.805-.71.624-1.666.935-2.87.935h-.258c-.086 0-.183-.01-.29-.032V22.19c.107.021.247.032.419.032 1.096 0 1.838-.817 2.225-2.45zM199.547 25.284a8.684 8.684 0 0 1-3.192-.58 7.437 7.437 0 0 1-2.58-1.677c-.709-.752-1.268-1.666-1.677-2.74-.408-1.076-.613-2.312-.613-3.71 0-1.375.205-2.6.613-3.676.409-1.096.968-2.01 1.677-2.74a7.437 7.437 0 0 1 2.58-1.677 8.682 8.682 0 0 1 3.192-.58c1.161 0 2.236.193 3.225.58a7.106 7.106 0 0 1 2.547 1.677c.731.73 1.301 1.644 1.71 2.74.43 1.075.645 2.3.645 3.677 0 1.397-.215 2.633-.645 3.708-.409 1.075-.979 1.989-1.71 2.741a7.106 7.106 0 0 1-2.547 1.677c-.989.387-2.064.58-3.225.58zm0-2.547c.753 0 1.441-.118 2.064-.355a4.716 4.716 0 0 0 1.677-1.129c.473-.515.838-1.16 1.096-1.934.258-.774.387-1.688.387-2.741 0-1.054-.129-1.967-.387-2.741s-.623-1.408-1.096-1.903a4.215 4.215 0 0 0-1.677-1.129 5.346 5.346 0 0 0-2.064-.386c-.752 0-1.44.128-2.064.386a4.262 4.262 0 0 0-1.644 1.13c-.452.494-.806 1.128-1.064 1.902s-.387 1.687-.387 2.74c0 1.054.129 1.968.387 2.742s.612 1.419 1.064 1.934c.473.495 1.021.871 1.644 1.13a5.781 5.781 0 0 0 2.064.354zM211.133 8.226h10.641v2.418h-7.804v14.318h-2.837V8.226zM238.055 23.543a9.057 9.057 0 0 1-.871.548c-.344.194-.763.387-1.257.58-.495.173-1.054.312-1.677.42-.624.129-1.322.193-2.096.193-2.817 0-4.956-.763-6.418-2.29-1.461-1.526-2.192-3.665-2.192-6.416 0-1.355.193-2.57.58-3.644.409-1.075.968-1.978 1.677-2.709a6.974 6.974 0 0 1 2.515-1.71c.968-.408 2.021-.612 3.16-.612 1.204 0 2.279.204 3.225.613a5.68 5.68 0 0 1 2.322 1.806c.623.795 1.043 1.784 1.258 2.967.236 1.16.236 2.515 0 4.063h-11.803c.108 1.805.645 3.16 1.612 4.063.968.881 2.408 1.322 4.322 1.322 1.29 0 2.397-.183 3.321-.548.925-.366 1.698-.764 2.322-1.193v2.547zm-6.643-13.124c-1.225 0-2.279.376-3.16 1.128-.882.753-1.441 1.892-1.677 3.418h8.997c.086-1.547-.269-2.687-1.064-3.418-.796-.752-1.828-1.129-3.096-1.129zM250.505 25.284c-1.29 0-2.408-.3-3.354-.902-.924-.602-1.666-1.43-2.225-2.484v8.772h-2.837V8.226h2.483l.29 3.257c.559-1.097 1.311-1.967 2.257-2.612.946-.645 2.118-.968 3.515-.968.967 0 1.892.183 2.773.548a6.072 6.072 0 0 1 2.354 1.613c.688.71 1.226 1.612 1.613 2.709.408 1.074.612 2.343.612 3.805 0 1.483-.204 2.773-.612 3.87-.409 1.074-.957 1.977-1.645 2.708a6.896 6.896 0 0 1-2.386 1.613 7.907 7.907 0 0 1-2.838.515zm-.419-2.547c1.483 0 2.676-.505 3.579-1.516.925-1.032 1.387-2.58 1.387-4.643 0-2.021-.462-3.547-1.387-4.58-.903-1.053-2.096-1.58-3.579-1.58-.731 0-1.419.13-2.064.387a4.602 4.602 0 0 0-1.645 1.161c-.451.495-.817 1.129-1.096 1.903-.258.774-.387 1.677-.387 2.709s.129 1.934.387 2.708c.279.774.645 1.42 1.096 1.935a4.602 4.602 0 0 0 1.645 1.161 5.948 5.948 0 0 0 2.064.355zM273.807 19.383c0 .968-.172 1.806-.516 2.515a4.575 4.575 0 0 1-1.451 1.742c-.623.451-1.365.784-2.225 1-.86.215-1.795.322-2.805.322h-5.386V8.226h2.838v5.836h2.741c2.128 0 3.794.42 4.998 1.258 1.204.838 1.806 2.193 1.806 4.063zm5.256 5.579h-2.837V8.226h2.837v16.736zm-14.801-8.481v6.062h2.548c1.225 0 2.214-.225 2.966-.677.774-.473 1.161-1.247 1.161-2.322 0-1.096-.344-1.88-1.032-2.354-.688-.473-1.655-.71-2.902-.71h-2.741zM28.14 58.714l8.932-12.867h2.87v16.737h-2.838V49.749l-8.9 12.835h-2.902V45.847h2.838v12.867zM62.592 55.167h-8.094v7.417H51.66V45.847h2.838v6.901h8.094v-6.9h2.838v16.736h-2.838v-7.417zM76.951 62.906a8.685 8.685 0 0 1-3.192-.58 7.437 7.437 0 0 1-2.58-1.677c-.71-.753-1.268-1.666-1.677-2.741-.408-1.075-.612-2.311-.612-3.709 0-1.375.204-2.6.612-3.676.409-1.096.968-2.01 1.677-2.74.731-.732 1.59-1.29 2.58-1.678a8.685 8.685 0 0 1 3.192-.58c1.161 0 2.236.193 3.225.58a7.114 7.114 0 0 1 2.547 1.677c.731.731 1.301 1.645 1.71 2.741.43 1.075.645 2.3.645 3.676 0 1.398-.215 2.634-.645 3.709-.409 1.075-.979 1.988-1.71 2.74a7.114 7.114 0 0 1-2.547 1.678c-.989.387-2.064.58-3.225.58zm0-2.547c.753 0 1.44-.119 2.064-.355a4.715 4.715 0 0 0 1.677-1.129c.473-.516.838-1.16 1.096-1.935.258-.773.387-1.687.387-2.74 0-1.054-.129-1.968-.387-2.742s-.623-1.408-1.096-1.902a4.215 4.215 0 0 0-1.677-1.129 5.349 5.349 0 0 0-2.064-.387c-.752 0-1.44.13-2.063.387a4.26 4.26 0 0 0-1.645 1.129c-.452.494-.806 1.128-1.064 1.902s-.387 1.688-.387 2.741c0 1.054.129 1.968.387 2.741.258.774.612 1.42 1.064 1.935.473.495 1.021.87 1.645 1.129a5.776 5.776 0 0 0 2.063.355zM88.537 45.847h6.255c2.021 0 3.548.355 4.58 1.064 1.032.688 1.548 1.774 1.548 3.258 0 .988-.258 1.784-.774 2.386-.495.58-1.204 1-2.129 1.257 2.387.387 3.58 1.71 3.58 3.967 0 .86-.172 1.601-.516 2.225a4.254 4.254 0 0 1-1.42 1.483c-.601.387-1.332.667-2.192.839a13.65 13.65 0 0 1-2.74.258h-6.192V45.847zm2.837 2.419v4.547h3.16c1.075 0 1.935-.194 2.58-.58.667-.388 1-.947 1-1.677 0-.882-.29-1.484-.87-1.806-.581-.323-1.409-.484-2.484-.484h-3.386zm0 6.804v5.095h3.322c.602 0 1.14-.032 1.612-.097.495-.086.914-.225 1.258-.419a2.09 2.09 0 0 0 .838-.774c.194-.322.29-.72.29-1.193 0-.967-.333-1.645-1-2.032-.666-.386-1.665-.58-2.998-.58h-3.322zM118.24 57.005c0 .967-.172 1.806-.516 2.515a4.584 4.584 0 0 1-1.451 1.741c-.624.452-1.365.785-2.225 1a11.55 11.55 0 0 1-2.806.323h-5.385V45.847h2.838v5.837h2.741c2.128 0 3.794.42 4.998 1.258 1.204.838 1.806 2.193 1.806 4.063zm5.256 5.579h-2.838V45.847h2.838v16.737zm-14.801-8.481v6.062h2.547c1.226 0 2.214-.226 2.967-.677.774-.473 1.161-1.247 1.161-2.322 0-1.096-.344-1.881-1.032-2.354-.688-.473-1.655-.71-2.902-.71h-2.741zM141.471 61.165a9.057 9.057 0 0 1-.871.548c-.344.194-.763.387-1.257.58-.495.172-1.054.312-1.677.42-.624.129-1.322.193-2.096.193-2.817 0-4.956-.763-6.418-2.29-1.461-1.526-2.192-3.665-2.192-6.417 0-1.354.193-2.569.58-3.643.409-1.075.967-1.978 1.677-2.71a6.975 6.975 0 0 1 2.515-1.708c.968-.409 2.021-.613 3.16-.613 1.204 0 2.279.204 3.225.613a5.68 5.68 0 0 1 2.322 1.805c.623.796 1.043 1.785 1.258 2.967.236 1.161.236 2.515 0 4.063h-11.803c.108 1.806.645 3.16 1.612 4.063.968.882 2.408 1.323 4.322 1.323 1.289 0 2.397-.183 3.321-.549.924-.365 1.698-.763 2.322-1.193v2.548zm-6.643-13.125c-1.225 0-2.279.376-3.16 1.129-.882.752-1.441 1.892-1.677 3.418h8.997c.086-1.548-.269-2.687-1.064-3.418-.796-.753-1.828-1.129-3.096-1.129zM164.457 57.714c0 .946-.193 1.752-.58 2.419a4.722 4.722 0 0 1-1.516 1.612c-.645.409-1.397.699-2.257.87-.839.194-1.72.291-2.645.291-1.225 0-2.311-.129-3.257-.387-.924-.258-1.655-.57-2.192-.935v-2.548c.666.409 1.461.731 2.386.968.924.236 1.924.355 2.999.355 1.225 0 2.246-.194 3.063-.58.839-.41 1.258-1.097 1.258-2.065 0-.946-.355-1.612-1.064-1.999-.688-.387-1.752-.58-3.193-.58h-2.225v-2.29h2.322c1.183 0 2.085-.215 2.709-.645.623-.43.935-1.053.935-1.87 0-.43-.107-.785-.322-1.064a2 2 0 0 0-.807-.71 3.42 3.42 0 0 0-1.225-.387 7.748 7.748 0 0 0-1.451-.129c-.989 0-1.913.118-2.773.355a8.795 8.795 0 0 0-2.29 1v-2.548c.559-.365 1.279-.677 2.161-.935.903-.258 1.945-.387 3.128-.387 2.042 0 3.579.387 4.611 1.16 1.053.775 1.58 1.893 1.58 3.354 0 1.097-.301 1.957-.903 2.58-.58.624-1.408 1.054-2.483 1.29 1.333.172 2.333.591 2.999 1.258.688.666 1.032 1.515 1.032 2.547zM168.619 45.847h6.256c2.021 0 3.547.355 4.579 1.064 1.032.688 1.548 1.774 1.548 3.258 0 .988-.258 1.784-.774 2.386-.494.58-1.204 1-2.128 1.257 2.386.387 3.579 1.71 3.579 3.967 0 .86-.172 1.601-.516 2.225a4.255 4.255 0 0 1-1.419 1.483c-.602.387-1.332.667-2.192.839-.839.172-1.752.258-2.741.258h-6.192V45.847zm2.838 2.419v4.547h3.16c1.075 0 1.935-.194 2.58-.58.666-.388 1-.947 1-1.677 0-.882-.291-1.484-.871-1.806-.581-.323-1.408-.484-2.483-.484h-3.386zm0 6.804v5.095h3.321c.602 0 1.14-.032 1.613-.097.494-.086.913-.225 1.257-.419.366-.193.645-.451.839-.774.193-.322.29-.72.29-1.193 0-.967-.333-1.645-1-2.032-.666-.386-1.666-.58-2.999-.58h-3.321zM195.614 42.558c-.559 0-1.011-.172-1.355-.516a1.89 1.89 0 0 1-.484-1.29c0-.516.162-.946.484-1.29.344-.365.796-.548 1.355-.548.559 0 .999.183 1.322.548.344.344.516.774.516 1.29 0 .495-.172.925-.516 1.29-.323.344-.763.516-1.322.516zm-6.063 0c-.537 0-.978-.172-1.322-.516a1.82 1.82 0 0 1-.516-1.29c0-.516.172-.946.516-1.29.344-.365.785-.548 1.322-.548.559 0 1 .183 1.322.548.344.344.516.774.516 1.29 0 .495-.172.925-.516 1.29-.322.344-.763.516-1.322.516zm9.707 18.607a9.057 9.057 0 0 1-.871.548 10.07 10.07 0 0 1-1.258.58c-.494.172-1.053.312-1.677.42-.623.129-1.322.193-2.096.193-2.816 0-4.955-.763-6.417-2.29-1.462-1.526-2.193-3.665-2.193-6.417 0-1.354.194-2.569.581-3.643.408-1.075.967-1.978 1.677-2.71a6.967 6.967 0 0 1 2.515-1.708c.967-.409 2.021-.613 3.16-.613 1.204 0 2.279.204 3.225.613a5.68 5.68 0 0 1 2.322 1.805c.623.796 1.042 1.785 1.257 2.967.237 1.161.237 2.515 0 4.063h-11.802c.107 1.806.645 3.16 1.612 4.063.968.882 2.408 1.323 4.321 1.323 1.29 0 2.397-.183 3.322-.549.924-.365 1.698-.763 2.322-1.193v2.548zm-6.643-13.125c-1.226 0-2.279.376-3.161 1.129-.881.752-1.44 1.892-1.676 3.418h8.996c.086-1.548-.268-2.687-1.064-3.418-.795-.753-1.827-1.129-3.095-1.129zM215.158 57.714c0 .946-.193 1.752-.58 2.419a4.722 4.722 0 0 1-1.516 1.612c-.645.409-1.397.699-2.257.87-.839.194-1.72.291-2.645.291-1.225 0-2.311-.129-3.256-.387-.925-.258-1.656-.57-2.193-.935v-2.548c.666.409 1.462.731 2.386.968.924.236 1.924.355 2.999.355 1.225 0 2.247-.194 3.063-.58.839-.41 1.258-1.097 1.258-2.065 0-.946-.355-1.612-1.064-1.999-.688-.387-1.752-.58-3.193-.58h-2.225v-2.29h2.322c1.183 0 2.086-.215 2.709-.645.623-.43.935-1.053.935-1.87 0-.43-.107-.785-.322-1.064a2.004 2.004 0 0 0-.806-.71 3.426 3.426 0 0 0-1.226-.387 7.748 7.748 0 0 0-1.451-.129c-.989 0-1.913.118-2.773.355a8.795 8.795 0 0 0-2.29 1v-2.548c.559-.365 1.279-.677 2.161-.935.903-.258 1.945-.387 3.128-.387 2.042 0 3.579.387 4.611 1.16 1.053.775 1.58 1.893 1.58 3.354 0 1.097-.301 1.957-.903 2.58-.58.624-1.408 1.054-2.483 1.29 1.333.172 2.333.591 2.999 1.258.688.666 1.032 1.515 1.032 2.547zM218.417 60.165c.602-.365 1.075-.935 1.419-1.709.344-.774.613-1.752.806-2.934.194-1.183.323-2.58.387-4.193.086-1.612.162-3.44.226-5.482h11.512v14.318h2.516v7.191H232.8l-.355-4.772h-12.448l-.29 4.772h-2.547v-7.19h1.257zm11.513 0v-11.9h-6.127c-.108 3.161-.312 5.698-.613 7.611-.28 1.892-.774 3.322-1.483 4.29h8.223zM250.63 57.005c0 .967-.172 1.806-.516 2.515a4.577 4.577 0 0 1-1.452 1.741c-.623.452-1.365.785-2.225 1-.86.215-1.795.323-2.805.323h-5.385V45.847h2.837v5.837h2.741c2.129 0 3.795.42 4.999 1.258 1.204.838 1.806 2.193 1.806 4.063zm5.256 5.579h-2.838V45.847h2.838v16.737zm-14.802-8.481v6.062h2.548c1.225 0 2.214-.226 2.967-.677.774-.473 1.161-1.247 1.161-2.322 0-1.096-.344-1.881-1.032-2.354-.688-.473-1.656-.71-2.903-.71h-2.741z" fill="#fff"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 311 53" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.598 27.554v16.154h4.576V1.554H14.34c-6.715 0-12.361 4.421-12.361 13.265 0 6.308 2.496 9.728 6.24 11.614L.255 43.709h5.29l7.25-16.154h3.803zm0-3.774h-2.436c-3.982 0-7.25-2.181-7.25-8.961 0-7.016 3.565-9.433 7.25-9.433h2.436V23.78zM65.504 39.935h-2.377V13.994H49.221v2.535c0 7.9-.297 17.097-3.03 23.406h-1.843v9.61h4.16v-5.837h12.836v5.837h4.16v-9.61zm20.147 1.768l-1.07-3.537c-1.189.825-3.269 2.005-5.883 2.005-3.685 0-5.587-3.538-5.587-10.259h12.48v-2.535c0-10.082-3.268-13.796-8.26-13.796-6.36 0-9.033 6.957-9.033 16.508 0 9.138 3.803 14.032 9.983 14.032 2.972 0 5.468-.944 7.37-2.418zm-48.553-27.71V26.61h-6.894V13.994H25.57v29.714h4.635V30.384h6.894v13.324h4.576V13.994h-4.576zm65.787 29.715h5.051l-8.498-15.742 7.428-13.972h-4.694L94.981 27.73V13.994h-4.635v29.714h4.635V28.91l7.904 14.798zm15.927.413c2.733 0 4.635-.885 6.239-2.24l-1.069-3.42c-1.07.943-2.793 1.827-5.052 1.827-3.744 0-5.526-4.244-5.526-11.673 0-7.488 2.377-11.202 5.705-11.202 1.901 0 3.684 1.002 4.932 2.064l.654-4.363c-1.308-.826-2.853-1.533-5.527-1.533-7.012 0-10.638 5.954-10.638 15.27 0 10.14 3.863 15.27 10.282 15.27zm-60.26-4.186h-7.964c2.496-6.309 2.793-15.447 2.793-21.697v-.53h5.17v22.227zm18.779-22.58c2.674 0 3.506 3.713 3.506 8.784h-7.666c.297-5.306 1.307-8.785 4.16-8.785zM227.885 44.297c7.844 0 11.707-8.784 11.707-22.816 0-13.03-4.22-20.576-11.47-20.576-3.328 0-5.527 1.356-6.775 2.712l.832 2.83c1.308-1.71 3.269-3.125 5.943-3.125 5.289 0 8.38 6.486 8.498 17.746h-10.756v2.418h10.756c-.237 11.083-2.911 18.394-8.795 18.394-3.09 0-4.814-1.297-6.121-2.594l-.832 2.24c.773.944 3.209 2.771 7.013 2.771zM256.41 52.905v-8.784c6.062-.295 11.292-5.366 11.292-15.27 0-9.846-5.23-14.916-11.292-15.27V3.322h-2.971v10.259c-6.062.295-11.291 5.365-11.291 15.27 0 9.846 5.11 14.916 11.291 15.27v8.784h2.971zM245 28.851c0-8.431 3.863-12.617 8.439-12.97v26c-4.457-.472-8.439-4.54-8.439-13.03zm19.849 0c0 8.43-3.863 12.558-8.439 13.03v-26c4.457.058 8.439 4.48 8.439 12.97zM285.014 43.708h2.674V13.994h-2.437l-9.746 20.87c-.594 1.297-1.189 2.594-1.605 3.95h-.178c.119-1.297.238-2.594.238-4.185V13.994h-2.615v29.714h2.377l9.746-20.93c.654-1.297 1.189-2.535 1.605-3.832h.178c-.119 1.238-.237 2.535-.237 4.068v20.694zM301.163 42.057c-2.674 0-4.338-1.18-5.527-3.596V21.835c1.308-3.184 3.566-6.014 6.24-6.014 3.447 0 5.586 4.599 5.586 12.381 0 9.374-2.496 13.855-6.299 13.855zm-.178 2.181c5.586 0 9.27-5.365 9.27-16.272 0-8.607-2.912-14.562-7.903-14.562-3.328 0-5.527 2.653-6.835 5.483l-.237-4.893h-2.437v38.911h2.793v-11.26c1.129 1.473 3.09 2.593 5.349 2.593z" fill="#F7F7FF"></path></svg>'},function(e,n,t){var c=t(512),d={UIEvent:function(){return{view:document.defaultView}},FocusEvent:function(){return d.UIEvent.apply(this,arguments)},MouseEvent:function(e){return{button:0,bubbles:"mouseenter"!==e&&"mouseleave"!==e,cancelable:"mouseenter"!==e&&"mouseleave"!==e,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,clientX:1,clientY:1,screenX:0,screenY:0,view:document.defaultView,relatedTarget:document.documentElement}},WheelEvent:function(e){return d.MouseEvent.apply(this,arguments)},KeyboardEvent:function(){return{view:document.defaultView,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0}}},l={beforeprint:"Event",afterprint:"Event",beforeunload:"Event",abort:"Event",error:"Event",change:"Event",submit:"Event",reset:"Event",cached:"Event",canplay:"Event",canplaythrough:"Event",chargingchange:"Event",chargingtimechange:"Event",checking:"Event",close:"Event",downloading:"Event",durationchange:"Event",emptied:"Event",ended:"Event",fullscreenchange:"Event",fullscreenerror:"Event",invalid:"Event",levelchange:"Event",loadeddata:"Event",loadedmetadata:"Event",noupdate:"Event",obsolete:"Event",offline:"Event",online:"Event",open:"Event",orientationchange:"Event",pause:"Event",pointerlockchange:"Event",pointerlockerror:"Event",copy:"Event",cut:"Event",paste:"Event",play:"Event",playing:"Event",ratechange:"Event",readystatechange:"Event",seeked:"Event",seeking:"Event",stalled:"Event",success:"Event",suspend:"Event",timeupdate:"Event",updateready:"Event",visibilitychange:"Event",volumechange:"Event",waiting:"Event",load:"UIEvent",unload:"UIEvent",resize:"UIEvent",scroll:"UIEvent",select:"UIEvent",drag:"MouseEvent",dragenter:"MouseEvent",dragleave:"MouseEvent",dragover:"MouseEvent",dragstart:"MouseEvent",dragend:"MouseEvent",drop:"MouseEvent",touchcancel:"UIEvent",touchend:"UIEvent",touchenter:"UIEvent",touchleave:"UIEvent",touchmove:"UIEvent",touchstart:"UIEvent",blur:"UIEvent",focus:"UIEvent",focusin:"UIEvent",focusout:"UIEvent",input:"UIEvent",show:"MouseEvent",click:"MouseEvent",dblclick:"MouseEvent",mouseenter:"MouseEvent",mouseleave:"MouseEvent",mousedown:"MouseEvent",mouseup:"MouseEvent",mouseover:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",contextmenu:"MouseEvent",wheel:"WheelEvent",message:"MessageEvent",storage:"StorageEvent",timeout:"StorageEvent",keydown:"KeyboardEvent",keypress:"KeyboardEvent",keyup:"KeyboardEvent",progress:"ProgressEvent",loadend:"ProgressEvent",loadstart:"ProgressEvent",popstate:"PopStateEvent",hashchange:"HashChangeEvent",transitionend:"TransitionEvent",compositionend:"CompositionEvent",compositionstart:"CompositionEvent",compositionupdate:"CompositionEvent",pagehide:"PageTransitionEvent",pageshow:"PageTransitionEvent"},u={Event:"initEvent",UIEvent:"initUIEvent",FocusEvent:"initUIEvent",MouseEvent:"initMouseEvent",WheelEvent:"initMouseEvent",MessageEvent:"initMessageEvent",StorageEvent:"initStorageEvent",KeyboardEvent:"initKeyboardEvent",ProgressEvent:"initEvent",PopStateEvent:"initEvent",TransitionEvent:"initEvent",HashChangeEvent:"initHashChangeEvent",CompositionEvent:"initCompositionEvent",DeviceMotionEvent:"initDeviceMotionEvent",PageTransitionEvent:"initEvent",DeviceOrientationEvent:"initDeviceOrientationEvent"},h={initEvent:[],initUIEvent:["view","detail"],initKeyboardEvent:["view","char","key","location","modifiersList","repeat","locale"],initKeyEvent:["view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initMouseEvent:["view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initHashChangeEvent:["oldURL","newURL"],initCompositionEvent:["view","data","locale"],initDeviceMotionEvent:["acceleration","accelerationIncludingGravity","rotationRate","interval"],initDeviceOrientationEvent:["alpha","beta","gamma","absolute"],initMessageEvent:["data","origin","lastEventId","source"],initStorageEvent:["key","oldValue","newValue","url","storageArea"]},f={UIEvent:window.UIEvent,FocusEvent:window.FocusEvent,MouseEvent:window.MouseEvent,WheelEvent:window.MouseEvent,KeyboardEvent:window.KeyboardEvent};n.generate=function(e,t){if(!l.hasOwnProperty(e))throw new SyntaxError("Unsupported event type");var r,n=l[e],i=function(e){if("KeyboardEvent"===n&&e)return{keyCode:e.keyCode||0,key:e.key||0,which:e.which||e.keyCode||0}}(t);t instanceof window.Event||(t=n in d?c({bubbles:!0,cancelable:!0},d[n](e,t),t):c({bubbles:!0,cancelable:!0},t));var a=f[n]||window.Event;try{for(r in o=new a(e,t),i)Object.defineProperty(o,r,{value:i[r]});return o}catch(e){}a=window.navigator.userAgent.toLowerCase();0<=Math.max(a.indexOf("msie"),a.indexOf("trident"))&&"KeyboardEvent"===n&&(n="UIEvent");a=u[n];if(!document.createEvent){for(r in o=c(document.createEventObject(),t),i)Object.defineProperty(o,r,{value:i[r]});return o}var o=c(document.createEvent(n),t);"initKeyboardEvent"===a&&(void 0===o[a]?a="initKeyEvent":"modifiersList"in t||(s=[],t.metaKey&&s.push("Meta"),t.altKey&&s.push("Alt"),t.shiftKey&&s.push("Shift"),t.ctrlKey&&s.push("Control"),t.modifiersList=s.join(" ")));var s=h[a].map(function(e){return t[e]});for(r in o[a].apply(o,[e,t.bubbles,t.cancelable].concat(s)),i)Object.defineProperty(o,r,{value:i[r]});return o},n.simulate=function(e,t,r){r=n.generate(t,r);return document.createEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}},,,,,,,,,,function(e,t,r){r(349),r(432),r(434),r(435),r(386),r(437),r(439),r(440),r(442),r(443),r(444),r(445),r(446),r(447),r(389),r(449),r(390),r(450),r(451),r(453),r(454),r(455),r(456),r(457),r(458),r(459),r(460),r(461),r(462),r(463);r=r(248);e.exports=r.Array},function(e,t,r){var o=r(246),s=r(264),r=function(a){return function(e,t){var r,n=String(s(e)),i=o(t),e=n.length;return i<0||e<=i?a?"":void 0:(t=n.charCodeAt(i))<55296||56319<t||i+1===e||(r=n.charCodeAt(i+1))<56320||57343<r?a?n.charAt(i):t:a?n.slice(i,i+2):r-56320+(t-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,r){var n=r(86),r=r(367),n=n.WeakMap;e.exports="function"==typeof n&&/native code/.test(r(n))},function(e,t,r){var n=r(269),i=r(354),a=r(374),o=r(189);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";function n(){return this}var i=r(376).IteratorPrototype,a=r(300),o=r(266),s=r(249),c=r(271);e.exports=function(e,t,r){t+=" Iterator";return e.prototype=a(i,{next:o(1,r)}),s(e,t,!1,!0),c[t]=n,e}},function(e,t,r){r=r(97);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var n=r(155),o=r(131),s=r(189),c=r(379);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=c(t),i=n.length,a=0;a<i;)o.f(e,r=n[a++],t[r]);return e}},function(e,t,r){r=r(269);e.exports=r("document","documentElement")},function(e,t,r){var n=r(109);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){var n=r(31),i=r(433);n({target:"Array",stat:!0,forced:!r(385)(function(e){Array.from(e)})},{from:i})},function(e,t,r){"use strict";var f=r(272),p=r(132),v=r(381),y=r(382),m=r(98),g=r(273),E=r(383);e.exports=function(e){var t,r,n,i,a,o,s=p(e),c="function"==typeof this?this:Array,d=arguments.length,l=1<d?arguments[1]:void 0,u=void 0!==l,e=E(s),h=0;if(u&&(l=f(l,2<d?arguments[2]:void 0,2)),null==e||c==Array&&y(e))for(r=new c(t=m(s.length));h<t;h++)o=u?l(s[h],h):s[h],g(r,h,o);else for(a=(i=e.call(s)).next,r=new c;!(n=a.call(i)).done;h++)o=u?v(i,l,[n.value,h],!0):n.value,g(r,h,o);return r.length=h,r}},function(e,t,r){r(31)({target:"Array",stat:!0},{isArray:r(195)})},function(e,t,r){"use strict";var n=r(31),i=r(97),a=r(273);n({target:"Array",stat:!0,forced:i(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);e<t;)a(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){r=r(269);e.exports=r("navigator","userAgent")||""},function(e,t,r){var n=r(31),i=r(438),r=r(190);n({target:"Array",proto:!0},{copyWithin:i}),r("copyWithin")},function(e,t,r){"use strict";var c=r(132),d=r(270),l=r(98),u=Math.min;e.exports=[].copyWithin||function(e,t){var r=c(this),n=l(r.length),i=d(e,n),a=d(t,n),t=2<arguments.length?arguments[2]:void 0,o=u((void 0===t?n:d(t,n))-a,n-i),s=1;for(a<i&&i<a+o&&(s=-1,a+=o-1,i+=o-1);0<o--;)a in r?r[i]=r[a]:delete r[i],i+=s,a+=s;return r}},function(e,t,r){"use strict";var n=r(31),i=r(191).every,a=r(172),r=r(111),a=a("every"),r=r("every");n({target:"Array",proto:!0,forced:!a||!r},{every:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){var n=r(31),i=r(441),r=r(190);n({target:"Array",proto:!0},{fill:i}),r("fill")},function(e,t,r){"use strict";var o=r(132),s=r(270),c=r(98);e.exports=function(e){for(var t=o(this),r=c(t.length),n=arguments.length,i=s(1<n?arguments[1]:void 0,r),n=2<n?arguments[2]:void 0,a=void 0===n?r:s(n,r);i<a;)t[i++]=e;return t}},function(e,t,r){"use strict";var n=r(31),i=r(191).filter,a=r(275),r=r(111),a=a("filter"),r=r("filter");n({target:"Array",proto:!0,forced:!a||!r},{filter:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(31),i=r(191).find,a=r(190),r=r(111),o=!0,r=r("find");"find"in[]&&Array(1).find(function(){o=!1}),n({target:"Array",proto:!0,forced:o||!r},{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),a("find")},function(e,t,r){"use strict";var n=r(31),i=r(191).findIndex,a=r(190),r=r(111),o=!0,r=r("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),n({target:"Array",proto:!0,forced:o||!r},{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),a("findIndex")},function(e,t,r){"use strict";var n=r(31),i=r(388),a=r(132),o=r(98),s=r(246),c=r(274);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=o(t.length),n=c(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:s(e)),n}})},function(e,t,r){"use strict";var n=r(31),i=r(388),a=r(132),o=r(98),s=r(301),c=r(274);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=a(this),n=o(r.length);return s(e),(t=c(r,0)).length=i(t,r,r,n,0,1,e,1<arguments.length?arguments[1]:void 0),t}})},function(e,t,r){"use strict";var n=r(31),r=r(448);n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,r){"use strict";var n=r(191).forEach,i=r(172),r=r(111),i=i("forEach"),r=r("forEach");e.exports=i&&r?[].forEach:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}},function(e,t,r){"use strict";var n=r(31),i=r(355).indexOf,a=r(172),r=r(111),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,a=a("indexOf"),r=r("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:s||!a||!r},{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(31),i=r(298),a=r(171),r=r(172),o=[].join,i=i!=Object,r=r("join",",");n({target:"Array",proto:!0,forced:i||!r},{join:function(e){return o.call(a(this),void 0===e?",":e)}})},function(e,t,r){var n=r(31),r=r(452);n({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(e,t,r){"use strict";var i=r(171),a=r(246),o=r(98),n=r(172),r=r(111),s=Math.min,c=[].lastIndexOf,d=!!c&&1/[1].lastIndexOf(1,-0)<0,n=n("lastIndexOf"),r=r("indexOf",{ACCESSORS:!0,1:0});e.exports=d||!n||!r?function(e){if(d)return c.apply(this,arguments)||0;var t=i(this),r=o(t.length),n=r-1;for((n=1<arguments.length?s(n,a(arguments[1])):n)<0&&(n=r+n);0<=n;n--)if(n in t&&t[n]===e)return n||0;return-1}:c},function(e,t,r){"use strict";var n=r(31),i=r(191).map,a=r(275),r=r(111),a=a("map"),r=r("map");n({target:"Array",proto:!0,forced:!a||!r},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(31),i=r(391).left,a=r(172),r=r(111),a=a("reduce"),r=r("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!r},{reduce:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(31),i=r(391).right,a=r(172),r=r(111),a=a("reduceRight"),r=r("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!r},{reduceRight:function(e){return i(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(31),i=r(195),a=[].reverse,r=[1,2];n({target:"Array",proto:!0,forced:String(r)===String(r.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},function(e,t,r){"use strict";var n=r(31),d=r(109),l=r(195),u=r(270),h=r(98),f=r(171),p=r(273),i=r(72),a=r(275),r=r(111),a=a("slice"),r=r("slice",{ACCESSORS:!0,0:0,1:2}),v=i("species"),y=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!a||!r},{slice:function(e,t){var r,n,i,a=f(this),o=h(a.length),s=u(e,o),c=u(void 0===t?o:t,o);if(l(a)&&((r="function"==typeof(r=a.constructor)&&(r===Array||l(r.prototype))||d(r)&&null===(r=r[v])?void 0:r)===Array||void 0===r))return y.call(a,s,c);for(n=new(void 0===r?Array:r)(m(c-s,0)),i=0;s<c;s++,i++)s in a&&p(n,i,a[s]);return n.length=i,n}})},function(e,t,r){"use strict";var n=r(31),i=r(191).some,a=r(172),r=r(111),a=a("some"),r=r("some");n({target:"Array",proto:!0,forced:!a||!r},{some:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(31),i=r(301),a=r(132),o=r(97),s=r(172),c=[],d=c.sort,r=o(function(){c.sort(void 0)}),o=o(function(){c.sort(null)}),s=s("sort");n({target:"Array",proto:!0,forced:r||!o||!s},{sort:function(e){return void 0===e?d.call(a(this)):d.call(a(this),i(e))}})},function(e,t,r){r(392)("Array")},function(e,t,r){"use strict";var n=r(31),u=r(270),h=r(246),f=r(98),p=r(132),v=r(274),y=r(273),i=r(275),r=r(111),i=i("splice"),r=r("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!i||!r},{splice:function(e,t){var r,n,i,a,o,s,c=p(this),d=f(c.length),l=u(e,d),e=arguments.length;if(0===e?r=n=0:n=1===e?(r=0,d-l):(r=e-2,g(m(h(t),0),d-l)),9007199254740991<d+r-n)throw TypeError("Maximum allowed length exceeded");for(i=v(c,n),a=0;a<n;a++)(o=l+a)in c&&y(i,a,c[o]);if(r<(i.length=n)){for(a=l;a<d-n;a++)s=a+r,(o=a+n)in c?c[s]=c[o]:delete c[s];for(a=d;d-n+r<a;a--)delete c[a-1]}else if(n<r)for(a=d-n;l<a;a--)s=a+r-1,(o=a+n-1)in c?c[s]=c[o]:delete c[s];for(a=0;a<r;a++)c[a+l]=arguments[a+2];return c.length=d-n+r,i}})},function(e,t,r){r(190)("flat")},function(e,t,r){r(190)("flatMap")},function(e,t,r){r(465),r(359),r(349),r(398);r=r(248);e.exports=r.Map},function(e,t,r){"use strict";var n=r(393),r=r(397);e.exports=n("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,r){r=r(97);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,r){var a=r(109),o=r(380);e.exports=function(e,t,r){var n,i;return o&&"function"==typeof(n=t.constructor)&&n!==r&&a(i=n.prototype)&&i!==r.prototype&&o(e,i),e}},function(e,t,r){var i=r(247);e.exports=function(e,t,r){for(var n in t)i(e,n,t[n],r);return e}},function(e,t,r){"use strict";var n=r(358),i=r(384);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){r(472),r(359),r(349),r(398);r=r(248);e.exports=r.Set},function(e,t,r){"use strict";var n=r(393),r=r(397);e.exports=n("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,r){r(386),r(359),r(474),r(476),r(477),r(478),r(479),r(480),r(481),r(482),r(483),r(484),r(485),r(486),r(487),r(488),r(489),r(490),r(491);r=r(248);e.exports=r.Symbol},function(e,t,r){"use strict";function n(e,t){var r=ee[e]=b(z.prototype);return G(r,{type:"Symbol",tag:e,description:t}),h||(r.description=t),r}function i(e,t,r){return e===Z&&i(te,t,r),E(e),t=S(t,!0),E(r),y(ee,t)?(r.enumerable?(y(e,Y)&&e[Y][t]&&(e[Y][t]=!1),r=b(r,{enumerable:_(0,!1)})):(y(e,Y)||Q(e,Y,_(1,{})),e[Y][t]=!0),ae(e,t,r)):Q(e,t,r)}function a(t,e){E(t);var r=T(e),e=O(r).concat(s(r));return K(e,function(e){h&&!o.call(r,e)||i(t,e,r[e])}),t}function o(e){var t=S(e,!0),e=$.call(this,t);return!(this===Z&&y(ee,t)&&!y(te,t))&&(!(e||!y(this,t)||!y(ee,t)||y(this,Y)&&this[Y][t])||e)}function s(e){var t=e===Z,e=J(t?te:T(e)),r=[];return K(e,function(e){!y(ee,e)||t&&!y(Z,e)||r.push(ee[e])}),r}var c=r(31),d=r(86),l=r(269),u=r(267),h=r(155),f=r(357),p=r(378),v=r(97),y=r(110),m=r(195),g=r(109),E=r(189),A=r(132),T=r(171),S=r(294),_=r(266),b=r(300),O=r(379),R=r(354),P=r(475),w=r(374),C=r(297),I=r(131),N=r(371),k=r(188),L=r(247),D=r(352),j=r(295),M=r(268),x=r(296),F=r(72),V=r(399),U=r(112),B=r(249),H=r(265),K=r(191).forEach,Y=j("hidden"),j=F("toPrimitive"),G=H.set,W=H.getterFor("Symbol"),Z=Object.prototype,z=d.Symbol,q=l("JSON","stringify"),X=C.f,Q=I.f,J=P.f,$=N.f,ee=D("symbols"),te=D("op-symbols"),re=D("string-to-symbol-registry"),ne=D("symbol-to-string-registry"),D=D("wks"),d=d.QObject,ie=!d||!d.prototype||!d.prototype.findChild,ae=h&&v(function(){return 7!=b(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=X(Z,t);n&&delete Z[t],Q(e,t,r),n&&e!==Z&&Q(Z,t,n)}:Q,oe=p?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},d=function(e,t){var r=T(e),e=S(t,!0);if(r!==Z||!y(ee,e)||y(te,e)){t=X(r,e);return!t||!y(ee,e)||y(r,Y)&&r[Y][e]||(t.enumerable=!0),t}},p=function(e){var e=J(T(e)),t=[];return K(e,function(e){y(ee,e)||y(M,e)||t.push(e)}),t};f||(L((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");function t(e){this===Z&&t.call(te,e),y(this,Y)&&y(this[Y],r)&&(this[Y][r]=!1),ae(this,r,_(1,e))}var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,r=x(e);return h&&ie&&ae(Z,r,{configurable:!0,set:t}),n(r,e)}).prototype,"toString",function(){return W(this).tag}),L(z,"withoutSetter",function(e){return n(x(e),e)}),N.f=o,I.f=i,C.f=d,R.f=P.f=p,w.f=s,V.f=function(e){return n(F(e),e)},h&&(Q(z.prototype,"description",{configurable:!0,get:function(){return W(this).description}}),u||L(Z,"propertyIsEnumerable",o,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:z}),K(O(D),function(e){U(e)}),c({target:"Symbol",stat:!0,forced:!f},{for:function(e){var t=String(e);if(y(re,t))return re[t];e=z(t);return re[t]=e,ne[e]=t,e},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(y(ne,e))return ne[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),c({target:"Object",stat:!0,forced:!f,sham:!h},{create:function(e,t){return void 0===t?b(e):a(b(e),t)},defineProperty:i,defineProperties:a,getOwnPropertyDescriptor:d}),c({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:p,getOwnPropertySymbols:s}),c({target:"Object",stat:!0,forced:v(function(){w.f(1)})},{getOwnPropertySymbols:function(e){return w.f(A(e))}}),q&&c({target:"JSON",stat:!0,forced:!f||v(function(){var e=z();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})},{stringify:function(e,t,r){for(var n,i=[e],a=1;a<arguments.length;)i.push(arguments[a++]);if((g(n=t)||void 0!==e)&&!oe(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),i[1]=t,q.apply(null,i)}}),z.prototype[j]||k(z.prototype,j,z.prototype.valueOf),B(z,"Symbol"),M[Y]=!0},function(e,t,r){var n=r(171),i=r(354).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},function(e,t,r){r(112)("asyncIterator")},function(e,t,r){"use strict";var n,i,a,o,s,c=r(31),d=r(155),l=r(86),u=r(110),h=r(109),f=r(131).f,r=r(372),p=l.Symbol;!d||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(n={},r(i=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof i?new p(e):void 0===e?p():p(e);return""===e&&(n[t]=!0),t},p),(r=i.prototype=p.prototype).constructor=i,a=r.toString,o="Symbol(test)"==String(p("test")),s=/^Symbol\((.*)\)[^)]+$/,f(r,"description",{configurable:!0,get:function(){var e=h(this)?this.valueOf():this,t=a.call(e);if(u(n,e))return"";t=o?t.slice(7,-1):t.replace(s,"$1");return""===t?void 0:t}}),c({global:!0,forced:!0},{Symbol:i}))},function(e,t,r){r(112)("hasInstance")},function(e,t,r){r(112)("isConcatSpreadable")},function(e,t,r){r(112)("iterator")},function(e,t,r){r(112)("match")},function(e,t,r){r(112)("matchAll")},function(e,t,r){r(112)("replace")},function(e,t,r){r(112)("search")},function(e,t,r){r(112)("species")},function(e,t,r){r(112)("split")},function(e,t,r){r(112)("toPrimitive")},function(e,t,r){r(112)("toStringTag")},function(e,t,r){r(112)("unscopables")},function(e,t,r){r(249)(Math,"Math",!0)},function(e,t,r){var n=r(86);r(249)(n.JSON,"JSON",!0)},function(e,t,r){r(31)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,r){"use strict";var n=r(31),i=r(400),a=r(264);n({target:"String",proto:!0,forced:!r(401)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){var n=r(109),i=r(299),a=r(72)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,r){"use strict";var n,i=r(31),a=r(297).f,o=r(98),s=r(400),c=r(264),d=r(401),r=r(267),l="".startsWith,u=Math.min,d=d("startsWith");i({target:"String",proto:!0,forced:!(!r&&!d&&(n=a(String.prototype,"startsWith"))&&!n.writable||d)},{startsWith:function(e){var t=String(c(this));s(e);var r=o(u(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return l?l.call(t,e,r):t.slice(r,r+e.length)===e}})},function(e,t,r){(t=e.exports=r(108)(!1)).push([e.i,"._3IkwtZe{z-index:0;position:absolute}._3dD-e8F,._3IkwtZe{width:100%;height:100%}._2n8_7eB{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}",""]),t.locals={player__video:"_3IkwtZe",playerVideo:"_3IkwtZe",player__skinWrapper:"_3dD-e8F",playerSkinWrapper:"_3dD-e8F",player__slot:"_2n8_7eB",playerSlot:"_2n8_7eB"}},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,r){(t=e.exports=r(108)(!1)).push([e.i,"#ZXrWmGG{opacity:1;pointer-events:none}",""]),t.locals={overlapAdContainer:"ZXrWmGG"}},function(e,t){function r(){throw new Error("Buffer is not included.")}r.isBuffer=function(){return!1},t.INSPECT_MAX_BYTES=50,t.SlowBuffer=r,t.Buffer=r},function(r,e,t){!function(e){var t;"object"==typeof window&&window.window===window?(t=window).ID3={}:t="object"==typeof e&&e.global===e?e:this,"slice"in Uint8Array.prototype||(Uint8Array.prototype.slice=Uint8Array.prototype.subarray),r.exports=t}.call(this,t(350))},function(e,t,r){"use strict";e.exports=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"]},function(e,t,r){"use strict";e.exports={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image"}},function(e,t,r){"use strict";e.exports=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","writer","location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"]},function(e,t,r){"use strict";var n={readUTF16String:function(e,t,r){var n=0,i=1,a=0;r=Math.min(r||e.length,e.length),254===e[0]&&255===e[1]?(t=!0,n=2):255===e[0]&&254===e[1]&&(t=!1,n=2),t&&(i=0,a=1);for(var o,s,c,d=[],l=0;n<r&&(o=e[n+i],c=e[n+a],n+=2,0!==(s=(o<<8)+c));l++)o<216||224<=o?d[l]=String.fromCharCode(s):(c=(e[n+i]<<8)+e[n+a],n+=2,d[l]=String.fromCharCode(s,c));return d.join("")},readUTF8String:function(e,t){var r=0;t=Math.min(t||e.length,e.length),239===e[0]&&187===e[1]&&191===e[2]&&(r=3);for(var n=[],i=0;r<t;i++){var a,o,s=e[r++];if(0===s)break;s<128?n[i]=String.fromCharCode(s):194<=s&&s<224?(a=e[r++],n[i]=String.fromCharCode(((31&s)<<6)+(63&a))):224<=s&&s<240?(a=e[r++],o=e[r++],n[i]=String.fromCharCode(((15&s)<<12)+((63&a)<<6)+(63&o))):240<=s&&s<245&&(s=((7&s)<<18)+((63&(a=e[r++]))<<12)+((63&(o=e[r++]))<<6)+(63&e[r++])-65536,n[i]=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return n.join("")},readNullTerminatedString:function(e,t){var r,n,i=[];for(t=t||e.length,r=0;r<t&&0!==(n=e[r++]);)i[r-1]=String.fromCharCode(n);return i.join("")},readISO8859String:function(e,t){var r,n,i=[];for(t=t||e.length,r=0;r<t;)n=e[r++],i[r-1]=String.fromCharCode(n);return i.join("")}};e.exports=n},function(e,t,r){"use strict";r.r(t),r.d(t,"ErrorTypes",function(){return n}),r.d(t,"ErrorDetails",function(){return i});const n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,r){(t=e.exports=r(108)(!1)).push([e.i,"video._20Eh5WL::-webkit-media-controls{display:none!important}video._1ll4Zna::-webkit-media-controls-current-time-display,video._1ll4Zna::-webkit-media-controls-time-remaining-display{visibility:hidden!important}video._3D52tih::-webkit-media-controls-timeline{visibility:hidden!important}video._2yNfXKt::-webkit-media-controls-toggle-closed-captions-button{display:none}",""]),t.locals={video_hiddenControls:"_20Eh5WL",videoHiddenControls:"_20Eh5WL",video_hiddenTime:"_1ll4Zna",videoHiddenTime:"_1ll4Zna",video_hiddenTimeline:"_3D52tih",videoHiddenTimeline:"_3D52tih",video_hiddenSubtitlesBtn:"_2yNfXKt",videoHiddenSubtitlesBtn:"_2yNfXKt"}},function(e,t,r){var n=r(135),r=r(508);n(r="string"==typeof(r=r.__esModule?r.default:r)?[[e.i,r,""]]:r,{injectType:"singletonStyleTag",attributes:{"data-ya-player-style":"data-ya-player-style"},insert:"head",singleton:!0}),e.exports=r.locals||{}},function(e,t,r){(e.exports=r(108)(!1)).push([e.i,".StreamPlayer{position:relative;background:#000;width:100%;height:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;overflow:hidden;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;text-align:left;outline:0}.StreamPlayer .hidden{display:none!important}.StreamPlayer>iframe.container{position:absolute;width:100%;height:100%;border:0}.StreamPlayer .adSkin{position:absolute;width:100%;height:100%;pointer-events:none}.StreamPlayer video{width:100%;height:100%}.StreamPlayer video::-webkit-media-controls-start-playback-button{z-index:2147483647!important}.StreamPlayer video.hide-native-play-button::-webkit-media-controls-start-playback-button{display:none!important}",""])},function(e,t,r){(t=e.exports=r(108)(!1)).i(r(170),void 0),t.push([e.i,"._2fUTO_m{background-color:#1c1d27;overflow:hidden;opacity:1;transition:opacity 400ms}._1MBuD79{opacity:0}._25h4Chs ._3gHoyGI{animation-play-state:paused}._1x0fGHV{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:36.6667%;max-height:80%}._1x0fGHV:after{content:'';display:block;width:0;padding-bottom:62%}._1JmHSCj{position:absolute;top:0;left:50%;transform:translateX(-23%);height:36.52%}._3QLq7xy{height:100%}._16jMVLw:not(._3fh_7Lz){position:absolute;top:0;left:50%;transform:translateX(-23%);height:36.52%}._16jMVLw:not(._3fh_7Lz) ._2-RUfdz,._16jMVLw:not(._3fh_7Lz) ._1Uwwgok,._16jMVLw:not(._3fh_7Lz) .Oq1wb9m,._16jMVLw:not(._3fh_7Lz) ._2lmxcC5,._16jMVLw:not(._3fh_7Lz) ._3kZADJi{transform-origin:82% 75%;animation-fill-mode:both;animation-duration:3s;animation-timing-function:cubic-bezier(.33,1,.68,1)}._16jMVLw:not(._3fh_7Lz) ._1Uwwgok{animation-name:Nm6f8U3}._16jMVLw:not(._3fh_7Lz) ._2-RUfdz,._16jMVLw:not(._3fh_7Lz) .Oq1wb9m{animation-name:_1y4_LFa}._16jMVLw:not(._3fh_7Lz) ._2lmxcC5{animation-name:_37LB9En}._16jMVLw:not(._3fh_7Lz) ._3kZADJi{animation-name:_3buQVkZ}._3fh_7Lz{position:absolute;top:0;left:0;width:100%;height:100%;transform-origin:82% 75%;animation-name:Nm6f8U3;animation-fill-mode:both;animation-duration:3s;animation-timing-function:cubic-bezier(.33,1,.68,1)}._2425yzr,._17LT4ap{position:absolute;animation-fill-mode:both;animation-duration:3s;animation-timing-function:cubic-bezier(.32,0,.67,0)}._2425yzr{top:5%;left:0;width:100%;height:27%;animation-name:_2yHUY7T}._17LT4ap{bottom:0;left:6%;width:88%;height:34%;animation-name:lCmVviN}@keyframes Nm6f8U3{0%{transform:scale(0)}13.3334%{transform:scale(1)}86.6667%{transform:scale(1)}to{transform:scale(0)}}@keyframes _1y4_LFa{0%,3.3334%{transform:scale(0)}16.6667%{transform:scale(1)}83.3334%{transform:scale(1)}96.6667%,to{transform:scale(0)}}@keyframes _37LB9En{0%,6.6667%{transform:scale(0)}20%{transform:scale(1)}80%{transform:scale(1)}93.3334%,to{transform:scale(0)}}@keyframes _3buQVkZ{0%,10%{transform:scale(0)}26.6667%{transform:scale(1)}76.6667%{transform:scale(1)}90%,to{transform:scale(0)}}@keyframes _2yHUY7T{0%,13.3334%{opacity:0}26.667%{opacity:1}76.6667%{opacity:1}90%,to{opacity:0}}@keyframes lCmVviN{0%,16.6667%{opacity:0}30%{opacity:1}73.3334%{opacity:1}86.6667%,to{opacity:0}}",""]),t.locals={animationTimeIntro:"3s",animationTimeOverlayFade:"400ms",animationTimeOverlayOffset:"3s - 400ms",animationTime:"3s",Intro:"_2fUTO_m "+r(170).locals.poisitionAbsoluteFullSize,intro:"_2fUTO_m "+r(170).locals.poisitionAbsoluteFullSize,Intro_hidden:"_1MBuD79",introHidden:"_1MBuD79",Intro_paused:"_25h4Chs",introPaused:"_25h4Chs",animated:"_3gHoyGI",Intro__container:"_1x0fGHV",introContainer:"_1x0fGHV",Intro__logo_container:"_1JmHSCj",introLogoContainer:"_1JmHSCj",Intro__filler:"_3QLq7xy",introFiller:"_3QLq7xy",Intro__logo:"_16jMVLw",introLogo:"_16jMVLw",Intro__logo__simple_animation:"_3fh_7Lz",introLogoSimpleAnimation:"_3fh_7Lz",Intro__logo__clipper:"_2-RUfdz",introLogoClipper:"_2-RUfdz",Intro__logo__circle:"_1Uwwgok",introLogoCircle:"_1Uwwgok",Intro__logo__layer1:"Oq1wb9m",introLogoLayer1:"Oq1wb9m",Intro__logo__layer2:"_2lmxcC5",introLogoLayer2:"_2lmxcC5",Intro__logo__layer3:"_3kZADJi",introLogoLayer3:"_3kZADJi",circleTimeline:"Nm6f8U3",squareTimeline_N1:"_1y4_LFa",squareTimelineN1:"_1y4_LFa",squareTimeline_N2:"_37LB9En",squareTimelineN2:"_37LB9En",squareTimeline_N3:"_3buQVkZ",squareTimelineN3:"_3buQVkZ",Intro__type:"_2425yzr",introType:"_2425yzr",Intro__message:"_17LT4ap",introMessage:"_17LT4ap",typeTimeline:"_2yHUY7T",messageTimeline:"lCmVviN"}},function(e,t){!function(d,s){function e(){O=d.getVarsList(),d.getSetting("sendClientUa")&&O.push("1042="+encodeURIComponent(navigator.userAgent))}function r(){R=O.concat(["143.2129="+Y])}function t(e){function t(){removeEventListener("DOMContentLoaded",t),removeEventListener("load",t),e()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",t),addEventListener("load",t)):e()}function i(){var e;d.getSetting("disableOnLoadTasks")||(removeEventListener("load",i),(e=!(e=d.getSetting("periodicStatsIntervalMs"))&&null!==e?15e3:e)&&(G=setInterval(n,e)),addEventListener("beforeunload",n),function(){if(L){f(D.getEntriesByType("navigation")),f(D.getEntriesByType("resource"));try{new L(function(e){f(e.getEntries())}).observe({entryTypes:["resource","navigation"]})}catch(e){}d._periodicTasks.push(p)}}(),function(){if(L)try{new L(function(e,t){e=e.getEntries()[0];e&&(u("first-input",e.processingStart-e.startTime),t.disconnect())}).observe({type:"first-input",buffered:!0})}catch(e){}}(),function(){if(L){var t=new L(function(e){var t=e.getEntries();null==z&&(z=0);for(var r=0;r<t.length;r++){var n=t[r];n.hadRecentInput||(z+=n.value)}});try{t.observe({type:"layout-shift",buffered:!0})}catch(t){}addEventListener("visibilitychange",function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}v()}}),addEventListener("beforeunload",v)}}(),function(){if(L&&(d.getSetting("forcePaintTimeSending")||!d.isVisibilityChanged())){var t=new L(function(e){for(var t=e.getEntries(),r=0;r<t.length;r++){var n=t[r];X=n.renderTime||n.loadTime}Q||(l("largest-loading-elem-paint",X),Q=!0)});try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}addEventListener("visibilitychange",function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(e){}y()}}),addEventListener("beforeunload",y)}}())}function a(){var t,e=j.domContentLoadedEventStart,r=j.domContentLoadedEventEnd;0!==e||0!==r?(t=O.concat(["2129="+Y,"1036="+(j.domainLookupStart-Y),"1037="+(j.domainLookupEnd-j.domainLookupStart),"1038="+(j.connectEnd-j.connectStart),j.secureConnectionStart&&"1383="+(j.connectEnd-j.secureConnectionStart),"1039="+(j.responseStart-j.connectEnd),"1040="+(j.responseEnd-j.responseStart),"1040.906="+(j.responseEnd-j.domainLookupStart),"1310.2084="+(j.domLoading-j.responseStart),"1310.2085="+(j.domInteractive-j.responseStart),"1310.1309="+(r-e),"1310.1007="+(e-j.responseStart),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]),Object.keys(P).forEach(function(e){e in j&&j[e]&&t.push(P[e]+"="+_(j[e],Y))}),d.vsStart?(t.push("1484="+(w[d.vsStart]||2771)),d.vsChanged&&t.push("1484.719=1")):t.push("1484="+w.visible),M&&(M.redirectCount&&t.push("1384.1385="+M.redirectCount),1!==M.type&&2!==M.type||t.push("770.76="+M.type)),g(t),b("690.1033",t)):setTimeout(a,50)}function l(e,t,r,n){t===s&&(t=k()),r!==s&&!0!==r||d.mark(e,t);r=T(e);r.push("207="+_(t)),c(r,n)&&(b("690.2096.207",r),F[e]=F[e]||[],F[e].push(t),(e=d._markListeners[e])&&e.length&&e.forEach(function(e){e(t)}))}function c(r,n){if(n){if(n.isCanceled&&n.isCanceled())return;var i=r.reduce((e,t,r)=>("string"==typeof t&&(e[t.split("=")[0]]=r),e),{});Object.keys(n).forEach(function(e){var t;"function"!=typeof n[e]&&(t=i[e],e=e+"="+n[e],t!==s?r[t]=e:r.push(e))})}return 1}function o(e,t){var r=U[e];r&&0!==r.length&&(r.push(k(),t),u(e))}function u(e,t,r){var n,i,a,o=U[e];void 0!==t?n=(i=d.getTime())-t:o&&(n=o[0],i=o[1],a=o[2]),n!==s&&i!==s&&((o=T(e)).push("207.2154="+_(n),"207.1428="+_(i),"2877="+_(i-n)),c(o,r)&&c(o,a)&&(b("690.2096.2877",o),delete U[e]))}function h(r,n){E(n,function(e){var t;e&&(t=T(r),d.getSetting("sendUrlInResTiming")&&t.push("13="+encodeURIComponent(n)),S(t,e[0]),b("690.2096.2044",t))})}function n(){var t=!1;d._periodicTasks.forEach(function(e){e()&&(t=!0)}),t||clearInterval(G)}function f(e){if(e&&e.length)for(var t=V,r=0;r<e.length;r++){var n,i=function(e){var t=e.transferSize;if(null!=t){H.href=e.name;var r=H.pathname;if(0!==r.indexOf("/clck")){var n=r.lastIndexOf("."),e="";return-1!=n&&r.lastIndexOf("/")<n&&r.length-n<=5&&(e=r.slice(n+1)),{size:t,domain:H.hostname,extension:e}}}}(e[r]);i&&((n=t[n=i.domain+"-"+i.extension]=t[n]||{count:0,size:0}).count++,n.size+=i.size)}}function p(){var e=d.getSetting("maxTrafficCounters")||250;if(e<=q)return!1;for(var t=Object.keys(V),r="",n=0;n<t.length;n++){var i=t[n],a=V[i];r+=encodeURIComponent(i)+"!"+a.count+"!"+a.size+";"}return r.length&&(q++,b("690.2096.361",O.concat(["d="+r,"t="+_(k())]))),V={},q<e}function v(){var e;null!=z&&(e=Math.round(1e6*z)/1e6,b("690.2096.4004",O.concat("s="+e)),z=null)}function y(){null!=X&&(l("largest-contentful-paint",X),X=null)}function m(a,o,i){var s,c;d._tti&&(s=k(),c=function(e,t,r){var n={2796.2797:A(r,o),689.2322:_(s)};i&&Object.keys(i).forEach(function(e){n[e]=i[e]}),l(e||"2795",t,!0,n),d._tti.fired=!0},function e(){var t=o||s,r=k(),n=d._tti.events||[],i=n.length;0!==i&&(i=n[i-1],t=Math.max(t,Math.floor(i.startTime+i.duration))),3e3<=r-t?c(a,t,n):2e4<=r-t?c(a,(o||s)+2e4,n):setTimeout(e,1e3)}())}function g(e){x&&e.push("2437="+(C[x.type]||2771),x.downlinkMax!==s&&"2439="+x.downlinkMax,x.effectiveType&&"2870="+x.effectiveType,x.rtt!==s&&"rtt="+x.rtt,x.downlink!==s&&"dwl="+x.downlink)}function E(e,r){if(!K)return r(null);B.href=e;var n=B.href,i=0,a=100;setTimeout(function e(){var t=D.getEntriesByName(n);if(t.length)return r(t);i++<10?(setTimeout(e,a),a+=a):r(null)},0)}function A(e,t){return t=t||0,(e=e||[]).filter(function(e){return-50<=e.startTime-t}).map(function(e){var t=e.name?e.name.split("-").map(function(e){return e[0]}).join(""):"u",r=Math.floor(e.startTime);return t+"-"+r+"-"+Math.floor(r+e.duration)}).join(".")}function T(e){return R.concat(["1701="+e,d.ajaxStart&&"1201.2154="+_(d.ajaxStart),d.ajaxComplete&&"1201.2052="+_(d.ajaxComplete)])}function S(r,n){Object.keys(P).forEach(function(e){var t;e in n&&(!(t=n[e])&&0!==t||r.push(P[e]+"="+_(t)))})}function _(e,t){return"string"==typeof e?encodeURIComponent(e):Math.round(1e3*(e-(t||0)))/1e3}function b(e,t){var r=encodeURIComponent(window.YaStaticRegion||"unknown");t.push("-cdn="+r);t=t.filter(Boolean).join(",");d.send(null,e,t)}if(!d)throw new Error("Rum: interface is not included");if(!d.enabled)return d.getSetting=function(){return""},d.getVarsList=function(){return[]},d.getResourceTimings=d.pushConnectionTypeTo=d.pushTimingTo=d.normalize=d.sendCounter=d.sendDelta=d.sendTimeMark=d.sendResTiming=d.sendTTI=d.makeSubPage=d.sendHeroElement=d.onReady=function(){};d.getVarsList=function(){var t=d._vars;return Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e]).replace(/\*/g,"%2A")})},d.setVars=function(t){Object.keys(t).forEach(function(e){d._vars[e]=t[e]}),e(),r()};var O,R,P={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},w={visible:1,hidden:2,prerender:3},C={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},I={"first-paint":2793,"first-contentful-paint":2794},N=Object.keys(I).length,k=d.getTime,L=window.PerformanceObserver,D=window.performance||{},j=D.timing||{},M=D.navigation||{},x=navigator.connection,F={},V={},U=d._deltaMarks,B=document.createElement("link"),H=document.createElement("a"),K="function"==typeof D.getEntriesByType,Y=j.navigationStart;if(e(),r(),d.ajaxStart=0,d.ajaxComplete=0,L)try{new L(function(e,t){e=e.getEntriesByType("navigation")[0];e&&(t&&t.disconnect(),S(t=[],e),g(t),b("690.2096.2892",O.concat(t)))}).observe({entryTypes:["navigation"]})}catch(d){}t(function(){Y&&setTimeout(function(){d.sendTimeMark=l,d.sendResTiming=h,d.timeEnd=o;for(var e=d._defRes;e.length;){var t=e.shift();h(t[0],t[1])}for(var r=d._defTimes;r.length;){var n=r.shift();l(n[0],n[1],!1,n[2])}Object.keys(U).forEach(function(e){u(e)}),a(),function r(){if(K&&(d.getSetting("forcePaintTimeSending")||!d.isVisibilityChanged())){for(var e=D.getEntriesByType("paint"),t=0;t<e.length;t++){var n=e[t],i=I[n.name];i&&!W[n.name]&&(W[n.name]=!0,Z++,l("1926."+i,n.startTime))}if(Z<N)try{new L(function(e,t){r(),t&&t.disconnect()}).observe({entryTypes:["paint"]})}catch(e){}}}(),d.getSetting("sendAutoElementTiming")&&J(),m(),"complete"===document.readyState?i():addEventListener("load",i)},0)}),d._getCommonVars=function(){return O};var G,W={},Z=0;d.getTimeMarks=function(){return F},d._periodicTasks=[];var z,q=0,X=null,Q=!1,J=L?function(){if(d.getSetting("forcePaintTimeSending")||!d.isVisibilityChanged())try{new L(function(e){for(var t=e.getEntries(),r=0;r<t.length;r++){var n=t[r];l("element-timing."+n.identifier,n.startTime)}}).observe({type:"element",buffered:!0})}catch(e){}}:function(){};d.sendTTI=m,d.sendHeroElement=function(e){l("2876",e)},d._subpages={},d.makeSubPage=function(e,t){var r=d._subpages[e];d._subpages[e]=void 0===r?r=0:++r;var n=!1;return{689.2322:_(void 0!==t?t:k()),2924:e,2925:r,isCanceled:function(){return n},cancel:function(){n=!0}}},d._getLongtasksStringValue=A,d.getResourceTimings=E,d.pushConnectionTypeTo=g,d.pushTimingTo=S,d.normalize=_,d.sendCounter=b,d.sendDelta=u,d.sendTrafficData=p,d.finalizeLayoutShiftScore=v,d.finalizeLargestContentfulPaint=y,d.onReady=t}(Ya.Rum)},function(e,t){Ya.Rum.enabled&&addEventListener("load",function e(){removeEventListener("load",e);var t=Ya.Rum;if(t.sendTimeMark("1724"),t.getSetting("sendAutoResTiming"))for(var r=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,i=r.length;n<i;n++){var a,o=r[n],s=o.src;s||(!(a=getComputedStyle(o).backgroundImage)||(a=a.match(/^url\(["']?(.*?)["']?\)$/))&&(s=a[1])),s&&t.sendResTiming(o.getAttribute("data-rCid"),s)}})},function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";function n(e){void 0===e&&(e=window);var t=Object(Ga.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};var[,e,t]=t;return{major:parseInt(e,10),minor:parseInt(t,10)}}function P(e){var{preferNative:e=!1}=void 0===e?{}:e;return void 0!==function(){var{webapis:e={avplay:void 0}}=window;return e.avplay}()&&(e||qa||Xa)}function g(e){return Object(uo.a)(e).map(e=>{var{screenX:t,screenY:e}=e;return{screenX:t,screenY:e}})}function w(e,t,r){function n(e){var e=e["touches"];return Object(fo.a)(e)&&e.length===l}function i(){0<h&&(window.clearTimeout(h),h=0,o=[])}function a(e){i(),u=!1}let o,{threshold:s=15,delay:c=1500,handleContextmenu:d=!1,touchesCount:l=1}=void 0===r?{}:r,u=!1,h=0;const f=Object(oo.a)(e,"touchstart",function(e){n(e)&&(o=g(e.touches),i(),h=window.setTimeout(()=>{0<h&&t()},c),u=!0)},{passive:!0}),p=Object(oo.a)(e,"touchend",a,{passive:!0}),v=Object(oo.a)(e,"touchcancel",a,{passive:!0}),y=Object(oo.a)(e,"touchmove",function(e){0<h&&(!n(e)||function(t){if(t.length!==o.length)return 1;for(let e=0;e<t.length;e++){if(Math.abs(o[e].screenX-t[e].screenX)>s)return 1;if(Math.abs(o[e].screenY-t[e].screenY)>s)return 1}}(g(e.touches)))&&i()},{passive:!0}),m=d?Object(oo.a)(e,"contextmenu",function(e){!(0<h)&&u||(i(),t(e))},{passive:!1}):ho.a;return()=>{i(),f(),p(),v(),y(),m()}}function C(n,a,i){let o,s=0;function c(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.call(i,...t)}return function(){var e=Date.now(),t=e-s;clearTimeout(o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t<a?o=window.setTimeout(c,a-t,...n):(s=e,c(...n))}}function c(r,n){Object(bo.a)(n).forEach(e=>{var t=n[e];null===t?r.removeAttribute(e):r.setAttribute(e,t)})}function i(e){var t=e.navigator;if(t){var e=t["userActivation"];if(Object(fo.a)(e)){var{isActive:t,hasBeenActive:e}=e;return{isActive:t,hasBeenActive:e}}}}function a(e,t){if((t=void 0===t?window:t)&&t[e]&&t[e].prototype){var e=t[e].prototype["play"];return e&&Object(Ko.a)(e)?e:void 0}}function d(e){if(!Yo.a)return Promise.reject();const t=Object(Go.a)(e.play);if(Object(Ko.a)(t))return t.call(e);const r=a("HTMLVideoElement")||a("HTMLMediaElement");if(r)return r.call(e);const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const i=a("HTMLMediaElement",Object(Ho.a)(n).contentWindow);if(i){const t=i.call(e);return Object(Fo.a)(n),t}return e.play()}function o(e){var e=e["error"];return new Zo(e)}function s(i,a){void 0===a&&(a={});let o=0;const r=[],s=(e,t)=>{r.push(Object(oo.a)(i,e,t,Jo)),clearTimeout(o)},e=()=>Object(Ao.a)(r),t=new Promise((e,t)=>{const r=e=>{i.paused&&t(e)},n=d(i);if(r(zo.VideoTagPaused),s("durationchange",()=>r(zo.VideoTagPausedAfterDurationChange)),s("error",()=>r(zo.VideoTagPausedAfterError)),s("pause",()=>t(zo.PauseEvent)),s("playing",()=>{e(zo.PlayingEvent)}),n)a.useProgressEvent&&s("progress",()=>{e(zo.ProgressEvent)}),n.then(()=>e(zo.PromiseResolve)).catch(e=>t(e?zo.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":zo.PromiseReject));else{const i=a["timeoutForNonPromisePlay"];"number"==typeof i&&0<i&&(o=window.setTimeout(()=>{t(zo.Timeout)},a.timeoutForNonPromisePlay))}});return t.then(e,e),t}function l(e,t){var r=e["paused"],t=t();return r||Object(So.a)(d(e)),t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){var{canPlayUnMuted:t,canPlayMuted:r,detectionMethod:e}=e;return{canPlayUnMuted:t,canPlayMuted:r,requireMute:!t&&r,requireUserGesture:!t&&!r,detectionMethod:e}}function u(e){let d,l,{videoSlot:u,autoplay:t,muted:h,allowMuted:f}=e;if(t)return{promise:new Promise(async e=>{d=e;const{promise:t,stop:r}=(n=u,i={checkSoundEnabled:!h},a=i.checkSoundEnabled,i=function(e){if("boolean"==typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Wo(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Bo.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),v({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:Bo.YaBroAllowedToPlay})):(t(),v({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Bo.YaBroAllowedToPlay})))}(e));var t=function(e){if(void 0===e&&(e=window),Object(Qo.a)(e))return v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Bo.WebOSSmartTV})}();return void 0!==t||void 0!==(t=function(e){if(void 0===e&&(e=window),Qa(e))return v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Bo.OrsaySmartTV})}())||void 0!==(t=function(e){if(void 0===e&&(e=window),Object(Xo.a)(e))return v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Bo.PlayStationSmartTV})}())?Promise.resolve(t):e.isAVPlay?Promise.resolve(p({},rs,{detectionMethod:Bo.TizenAVPlay})):void 0!==(e=function(e){if(void 0===e&&(e=window),Wa(e))return Za(e)?v({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Bo.Tizen23SmartTV}):v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Bo.TizenSmartTVModern})}())?Promise.resolve(e):Mo.a&&jo<=9||$o?Promise.resolve(p({},ts,{detectionMethod:Bo.IOS9OrLess})):Yo.a?es?Promise.resolve(p({},rs,{detectionMethod:Bo.OldIE})):void 0:Promise.resolve(p({},ts,{detectionMethod:Bo.HTML5VideoIsNotSupported}))}(n),{promise:(i=new ns(n,{checkSoundEnabled:a,promise:i})).promise,stop:i.stop});var n,i,a;l=r;var{requireMute:o,requireUserGesture:s,detectionMethod:c}=await t.catch(()=>rs);e(function(){var{requireUserGesture:e,requireMute:t,muted:r,allowMuted:n,detectionMethod:i}={requireUserGesture:s,requireMute:o,muted:h,allowMuted:f,detectionMethod:c};return e?{autoplay:!1,muted:r,autoplayImpossible:!0,detectionMethod:i}:t?r?{autoplay:!0,muted:!0,detectionMethod:i}:n?{autoplay:!0,muted:!0,requireUserGestureToUnmute:!0,detectionMethod:i}:{autoplay:!1,muted:r,autoplayImpossible:!0,requireAllowMutedToAutoplay:!0,detectionMethod:i}:{autoplay:!0,muted:r,detectionMethod:i}}())}),abort:()=>{l(),d({autoplay:!0,muted:h,detectionMethod:qo.RASAborted})}};{const e={autoplay:!1,muted:h,detectionMethod:qo.AutoplayDisabled};return{promise:Promise.resolve(e),abort:ho.a}}}function I(e){return Boolean(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){var e=e["event"],e=e.touches[0]||e.changedTouches[0];return{clientX:e?e.clientX:-1,clientY:e?e.clientY:-1}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){tc[e]=!0}function E(e){tc[e]=!1}function A(e){return!!tc[e]}function T(e){if(rc.checkExisting&&A(e))throw new TypeError("Duplicate action type: ".concat(e))}function S(){return Object.keys(tc).filter(A)}function _(){S().forEach(E)}function b(){rc.checkExisting=!0}function O(){rc.checkExisting=!1}function R(e,t,r){function n(){var e=t.apply(void 0,arguments);return r?{type:s,payload:e,error:e instanceof Error,meta:r.apply(void 0,arguments)}:{type:s,payload:e,error:e instanceof Error}}function i(){return o(c,!1).apply(void 0,arguments)}"function"==typeof e&&(r=t,t=e,e=void 0),"function"!=typeof t&&(t=Js),"function"!=typeof r&&(r=void 0);var a="string"==typeof e&&/^[0-9A-Z_]+$/.test(e);a?(T(e),m(e)):++nc;function o(e,r){return function(){var t=n.apply(void 0,arguments);return t.error||(t.error=r),Array.isArray(e)?e.map(function(e){return e(t)}):e?e(t):t}}var s=a?e:"[".concat(nc,"]").concat(e?" "+e:""),c=void 0;return i.asError=function(){return o(c,!0).apply(void 0,arguments)},i.getType=function(){return s},i.toString=function(){return s},i.raw=n,i.assignTo=function(e){return c=$s(e),i},i.assigned=function(){return!!c},i.bound=function(){return!1},i.dispatched=i.assigned,i.bindTo=function(e){var t=o($s(e));return t.asError=o($s(e)),t.raw=n,t.getType=i.getType,t.toString=i.toString,t.assignTo=function(){return t},t.bindTo=function(){return t},t.assigned=function(){return!1},t.bound=function(){return!0},t.dispatched=t.bound,t},i}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){return e&&e.getType?e.toString():e}function L(e,t){function r(e){return!!o[k(e)]}function n(e,t){return Array.isArray(e)?e.forEach(function(e){n(e,t)}):o[k(e)]=t,d}function i(e){return Array.isArray(e)?e.forEach(i):delete o[k(e)],d}function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s,t=1<arguments.length?arguments[1]:void 0;if(!t||"string"!=typeof t.type)return e;if(t.type.startsWith("@@redux/"))return e;var r=o[t.type]||c.fallback;return r?c.payload?r(e,t.payload,t.meta):r(e,t):e}var o=0<arguments.length&&void 0!==e?e:{},s=1<arguments.length?t:void 0,c={payload:!0,fallback:null},d=N(a,{has:r,on:n,off:i,options:function(t){return Object.keys(t).forEach(function(e){return c[e]=t[e]}),d}});return"function"==typeof o&&(t=o,o={},t(n,i)),r(ac)||n(ac,function(e,t){return(c.payload?t:t.payload).reduce(a,e)}),d}function D(e){return e&&e.type===oc?(e.payload.type=oc,e.payload):e}function j(e,t){e=e.height||0;return(t.height||0)-e}function M(e){return Boolean(e&&e.adType===zs.inroll)}function x(e,t){var{ad:{originalBroadcastAdCues:e}}=e,t=e[t];if(t){const r=t["start"];if(void 0===r)return;const{end:n=r+tl}=t;return{start:Object(ds.j)(r),end:Object(ds.j)(n)}}}function F(i){var{ad:{originalBroadcastAdCues:e,adInfo:t}}=i;return M(t)?t.params.cueId:Object(bo.a)(e).find(n=>function(){var{controller:{currentTime:e,programDateTime:t}}=i;if(void 0===t)return!1;var r=t/1e3+e,t=x(i,n);if(!t)return!1;var{start:e,end:t}=t;return e<=r&&r<=t}())}function V(e){var{controller:{currentTime:t,programDateTime:e}}=e;return void 0===e?e:Object(ds.a)(e,Object(ds.c)(t,1e3))}function U(e,t){return Object(ds.h)(Math.max(e+dl,t+cl))}function B(e){var{cue_id:t,pts:r,offset:n,cutoff:e}=e,n=Object(ds.a)(r,n);return{start:n,isEndReceived:void 0!==e,cueId:t,end:void 0!==e?Object(ds.a)(r,e):U(r,n),isValid:!0,invalidateReason:void 0}}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e){return e.reduce((e,t)=>Object(ds.a)(e,Object(ds.j)(t.getAdDuration())),Object(ds.j)(0))}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(){try{return window.ya.videoAd.getBundleVersion()}catch(e){return"none"}}function W(){try{return window.ya.videoAd.getModuleVersion()}catch(e){return"none"}}async function Z(e){return void 0===e&&(e=ho.a),await Object(El.c)({src:Al,checkLoad:()=>void 0!==Tl(),withCredentials:!0}),e({adSdkVersion:W(),adSdkLoaderVersion:G()}),Tl()("Multiroll")}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(r){return new Promise((e,t)=>{Object(_l.a)(z({},r,{onSuccess:e,onError:t}))})}function X(e,t,r){function n(){l===d&&(l=d.slice())}function i(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function a(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var r=!0;return n(),l.push(t),function(){if(r){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");r=!1,n();var e=l.indexOf(t);l.splice(e,1),d=null}}}function o(e){if(!function(e){if("object"==typeof e&&null!==e){for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,c=s(c,e)}finally{u=!1}for(var t=d=l,r=0;r<t.length;r++)(0,t[r])();return e}if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(X)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,c=t,d=[],l=d,u=!1;return o({type:ql.INIT}),(t={dispatch:o,subscribe:a,getState:i,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,o({type:ql.REPLACE})}})[zl.a]=function(){var e,r=a;return(e={subscribe:function(e){function t(){e.next&&e.next(i())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");return t(),{unsubscribe:r(t)}}})[zl.a]=function(){return this},e},t}function Q(e){for(var t=Object.keys(e),l={},r=0;r<t.length;r++){var n=t[r];"function"==typeof e[n]&&(l[n]=e[n])}var u,i,h=Object.keys(l);try{i=l,Object.keys(i).forEach(function(e){var t=i[e];if(void 0===t(void 0,{type:ql.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:ql.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+ql.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(e){u=e}return function(e,t){if(void 0===e&&(e={}),u)throw u;for(var r=!1,n={},i=0;i<h.length;i++){var a=h[i],o=l[a],s=e[a],c=o(s,t);if(void 0===c){var d=(d=a,"Given "+((o=(o=t)&&o.type)&&'action "'+String(o)+'"'||"an action")+', reducer "'+d+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw new Error(d)}n[a]=c,r=r||c!==s}return(r=r||h.length!==Object.keys(e).length)?n:e}}function J(t,e){var r=Object.keys(t);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(t)),r=e?r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):r}function $(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(i,!0).forEach(function(e){var t,r;t=n,e=i[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):J(i).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){t=e.indexOf(t);0<=t&&e.splice(t,1)}function ne(e,t,r){var n={meta:{name:r=void 0===r?"iterator":r},next:e,throw:t=void 0===t?jl:t,return:Ml,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(n[Symbol.iterator]=function(){return n}),n}function ie(e,t){t=t.sagaStack;console.error(e),console.error(t)}function ae(e,n){var i,t=Object.keys(e),a=t.length,o=0,s=du(e)?xl(a):{},c={};return t.forEach(function(r){function e(e,t){i||(t||Vl(e)?(n.cancel(),n(e,t)):(s[r]=e,++o===a&&(i=!0,n(s))))}e.cancel=hu,c[r]=e}),n.cancel=function(){i||(i=!0,t.forEach(function(e){return c[e].cancel()}))},c}function oe(e){return{name:e.name||"anonymous",location:se(e)}}function se(e){return e[ou]}function ce(r,n){void 0===r&&(r=10);function i(e){o[c]=e,c=(c+1)%r,s++}function t(){if(0!=s){var e=o[d];return o[d]=null,s--,d=(d+1)%r,e}}function a(){for(var e=[];s;)e.push(t());return e}var o=new Array(r),s=0,c=0,d=0;return{isEmpty:function(){return 0==s},put:function(e){var t;if(s<r)i(e);else switch(n){case 1:throw new Error("Channel's Buffer overflow!");case 3:o[c]=e,d=c=(c+1)%r;break;case 4:t=2*r,o=a(),s=o.length,c=o.length,d=0,o.length=t,r=t,i(e)}},take:t,flush:a}}function de(e,t){return Nl(e=void 0===e?"*":e)?yu("TAKE",{pattern:e}):kl(r=e)&&r[eu]&&wl(t)&&Nl(t)?yu("TAKE",{channel:e,pattern:t}):kl(e)?yu("TAKE",{channel:e}):void 0;var r}function le(e,t){return Pl(t)&&(t=e,e=void 0),yu("PUT",{channel:e,action:t})}function ue(e){e=yu("ALL",e);return e.combinator=!0,e}function he(e){e=yu("RACE",e);return e.combinator=!0,e}function fe(e,t){var r,n=null;return su(e)?r=e:(r=du(e)?(n=e[0],e[1]):(n=e.context,e.fn),n&&cu(r)&&su(n[r])&&(r=n[r])),{context:n,fn:r,args:t}}function pe(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return yu("CALL",fe(e,r))}function ve(e,t,r){return yu("CALL",fe([e,t],r=void 0===r?[]:r))}function ye(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return yu("FORK",fe(e,r))}function me(e){void 0===e&&(e=Dl);for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return yu("SELECT",{selector:e,args:r})}function ge(e){Eu.push(e),Au||(Ae(),Se())}function Ee(e){try{return Ae(),e()}finally{Se()}}function Ae(){Au++}function Te(){Au--}function Se(){var e;for(Te();!Au&&void 0!==(e=Eu.shift());)!function(e){try{Ae(),e()}finally{Te()}}(e)}function _e(e){var t="*"===e?Gl:cu(e)?Kl:du(e)?Bl:Ll(e)?Kl:su(e)?Hl:lu(e)?Yl:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}function be(t){void 0===t&&(t=ce(void 0,4));var n=!1,i=[];return{take:function(e){n&&t.isEmpty()?e(Tu):t.isEmpty()?(i.push(e),e.cancel=function(){re(i,e)}):e(t.take())},put:function(e){if(!n){if(0===i.length)return t.put(e);i.shift()(e)}},flush:function(e){n&&t.isEmpty()?e(Tu):e(t.flush())},close:function(){if(!n){n=!0;var e=i;i=[];for(var t=0,r=e.length;t<r;t++)(0,e[t])(Tu)}}}}function Oe(){var a,o,s,i,c,e=(a=!1,s=o=[],i=function(){s===o&&(s=o.slice())},c=function(){a=!0;o=s;s=[],o.forEach(function(e){e(Tu)})},(e={})[eu]=!0,e.put=function(e){if(!a)if(Wl(e))c();else for(var t=o=s,r=0,n=t.length;r<n;r++){var i=t[r];i[$l](e)&&(i.cancel(),i(e))}},e.take=function(e,t){var r,n;void 0===t&&(t=Gl),a?e(Tu):(e[$l]=t,i(),s.push(e),e.cancel=(n=!(r=function(){i(),re(s,e)}),function(){n||(n=!0,r())}))},e.close=c,e),t=e.put;return e.put=function(e){e[tu]?t(e):ge(function(){t(e)})},e}function Re(e,t){var r=e[Xl];su(r)&&(t.cancel=r),e.then(t,function(e){t(e,!0)})}function Pe(e){e.isRunning()&&e.cancel()}function we(e){var t=e.name,e=e.location;return e?t+"  "+e.fileName+"?"+e.lineNumber:t}function Ce(a,e,t,r,o,n,i){function s(t,r){var e,n,i;r?(y=2,(i={meta:o,cancelledTasks:g}).crashedEffect=bu,Ou.push(i),T.isRoot&&(e=Ou[0],i=Ou.slice(1),n=e.crashedEffect?(n=se(e.crashedEffect))?n.code+"  "+n.fileName+"?"+n.lineNumber:"":null,n=["The above error occurred in task "+we(e.meta)+(n?" \n when executing effect "+n:"")].concat(i.map(function(e){return"    created by "+we(e.meta)}),[(n=Ou,(n=(i=[]).concat.apply(i,Ou.map(function(e){return e.cancelledTasks}))).length?["Tasks cancelled due to error:"].concat(n).join("\n"):"")]).join("\n"),Ru(),a.onError(t,{sagaStack:n})),d=t,m&&m.reject(t)):(t===iu?y=1:1!==y&&(y=3),c=t,m&&m.resolve(t)),T.cont(t,r),T.joiners.forEach(function(e){e.cb(t,r)}),T.joiners=null}void 0===i&&(i=hu);var c,d,l,u,h,f,p,v,y=0,m=null,g=[],E=Object.create(t),A=(u=function(){g.push.apply(g,A.getTasks().map(function(e){return e.meta.name}))},h=s,v=!(p=[]),_(l=e),{addTask:_,cancelAll:b,abort:S,getTasks:function(){return p}}),T=((t={})[nu]=!0,t.id=r,t.meta=o,t.isRoot=n,t.context=E,t.joiners=[],t.queue=A,t.cancel=function(){0===y&&(y=1,A.cancelAll(),s(iu,!1))},t.cont=i,t.end=s,t.setContext=function(e){fu(E,e)},t.toPromise=function(){return m||(m=gu(),2===y?m.reject(d):0!==y&&m.resolve(c)),m.promise},t.isRunning=function(){return 0===y},t.isCancelled=function(){return 1===y||0===y&&1===e.status},t.isAborted=function(){return 2===y},t.result=function(){return c},t.error=function(){return d},t);function S(e){u(),b(),h(e,!0)}function _(r){p.push(r),r.cont=function(e,t){v||(re(p,r),r.cont=hu,t?S(e):(r===l&&(f=e),p.length||(v=!0,h(f))))}}function b(){v||(v=!0,p.forEach(function(e){e.cont=hu,e.cancel()}),p=[])}return T}function Ie(s,n,e,i,a,t,r){function o(e,t){try{var r;t?(r=n.throw(e),Ru()):r=vu(e)?(l.status=1,o.cancel(),su(n.return)?n.return(iu):{done:!0,value:iu}):pu(e)?su(n.return)?n.return():{done:!0}:n.next(e),r.done?(1!==l.status&&(l.status=3),l.cont(r.value)):c(r.value,i,o)}catch(e){if(1===l.status)throw e;l.status=2,l.cont(e,!0)}}function c(r,e,n,t){function i(e,t){a||(a=!0,n.cancel=hu,s.sagaMonitor&&(t?s.sagaMonitor.effectRejected(o,e):s.sagaMonitor.effectResolved(o,e)),t&&(bu=r),n(e,t))}void 0===t&&(t="");var a,o=++Su;s.sagaMonitor&&s.sagaMonitor.effectTriggered({effectId:o,parentEffectId:e,label:t,effect:r}),i.cancel=hu,n.cancel=function(){a||(a=!0,i.cancel(),i.cancel=hu,s.sagaMonitor&&s.sagaMonitor.effectCancelled(o))},d(r,o,i)}var d=s.finalizeRunEffect(function(e,t,r){Cl(e)?Re(e,r):Il(e)?Ie(s,e,u.context,t,a,!1,r):e&&e[Jl]?(0,_u[e.type])(s,e.payload,r,h):r(e)});o.cancel=hu;var l={meta:a,cancel:function(){0===l.status&&(l.status=1,o(iu))},status:0},u=Ce(s,l,e,i,a,t,r),h={task:u,digestEffect:c};return r&&(r.cancel=u.cancel),o(),u}function Ne(e){return kl(e)?"channel":!Ll(e)&&su(e)?e.name:String(e)}function ke(r,e,t){function n(e,t){if(s===Pu)return Zl(e);if(t&&!a)throw s=Pu,t;i&&i(e);t=t?r[a](t):r[s]();return s=t.nextState,o=t.effect,i=t.stateUpdater,a=t.errorState,s===Pu?Zl(e):o}var i,a,o,s=e;return ne(n,function(e){return n(null,e)},t)}function Le(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];function a(e){return o=e}var o,s={done:!1,value:de(e)};return ke({q1:function(){return{nextState:"q2",effect:s,stateUpdater:a}},q2:function(){return{nextState:"q1",effect:(e=o,{done:!1,value:ye.apply(void 0,[t].concat(n,[e]))})};var e}},"q1","takeEvery("+Ne(e)+", "+t.name+")")}function De(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];function a(e){return{done:!1,value:ye.apply(void 0,[t].concat(n,[e]))}}function o(e){return{done:!1,value:yu("CANCEL",e=void 0===(e=e)?ru:e)}}function s(e){return d=e}function c(e){return l=e}var d,l,u={done:!1,value:de(e)};return ke({q1:function(){return{nextState:"q2",effect:u,stateUpdater:c}},q2:function(){return d?{nextState:"q3",effect:o(d)}:{nextState:"q1",effect:a(l),stateUpdater:s}},q3:function(){return{nextState:"q1",effect:a(l),stateUpdater:s}}},"q1","takeLatest("+Ne(e)+", "+t.name+")")}function je(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];function a(e){return o=e}var o,s={done:!1,value:de(e)};return ke({q1:function(){return{nextState:"q2",effect:s,stateUpdater:a}},q2:function(){return{nextState:"q1",effect:(e=o,{done:!1,value:pe.apply(void 0,[t].concat(n,[e]))})};var e}},"q1","takeLeading("+Ne(e)+", "+t.name+")")}function Me(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return ye.apply(void 0,[Le,e,t].concat(n))}function xe(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return ye.apply(void 0,[De,e,t].concat(n))}function*Fe(e,t){var t=t["payload"];const r=wu[t.featureName],n=e.publicApi.getStats()["error"];if(Object(fo.a)(r)){const i=r[t.actionName];i?t.params?yield le(i(t.params)):n({error:new Gs({code:Ws.a.NO_PARAMS_IN_FEATURE_ACTION,details:{featureAction:t,context:"dispatchFeatureActionSaga"},isFatal:!1})}):n({error:new Gs({code:Ws.a.UNEXPECTED_FEATURE_ACTION_NAME,details:{featureAction:t,context:"dispatchFeatureActionSaga"},isFatal:!1})})}else n({error:new Gs({code:Ws.a.UNEXPECTED_FEATURE_NAME,details:{featureAction:t,context:"dispatchFeatureActionSaga"},isFatal:!1})})}function*Ve(e,t){var t=t["payload"];yield pe(e.onFeatureEvent,t)}function Ue(e,t){return e.volume===t.volume&&e.muted===t.muted}function*Be(e){var{ad:{adInfo:t}}=yield me();t||(yield pe(e.publicApi.updateVideoControllerNativeControlsVisibility))}function*He(e){var t=function(e){var{ad:{nextAdInfo:t},controller:{videoType:e}}=e;if(void 0!==t&&("postroll"!==t.adBreakType||e===cs.a.VOD))return Object(ds.j)(t.remainingTime)}(yield me());yield pe(e.onNextAdRemainingTimeChange,t)}function*Ke(e){var{payload:{cueId:t,start:r,end:e}}=e;const{ad:{originalBroadcastAdCues:n}}=yield me(),i=Object(af.a)(n),a=i[t]||{start:r,end:e};void 0!==r&&(a.start=r),void 0!==e&&(a.end=e),i[t]=a,yield le(fc(i))}function*Ye(t,r,n){yield mu(cf);const i=yield me(),{ad:{adInfo:a},controller:{stream:e}}=i,o=function(){var{controller:{stream:e}}=i;if(e)return void 0!==e.metaInfoUrl?e.metaInfoUrl:Object(df.a)(e.url)?(e=e=e.url,"https://strm.yandex.net/kal/"+(e=Object(df.a)(e)&&Object(Io.g)(e).pathname.slice(1).split("/")[1]||"")+"/break/last?start_ts={{video-timestamp}}"):void 0}();if(a&&M(a)&&a.params.startTimestamp===t.params.startTimestamp&&e&&o){var{startProgramDateTime:s,startVideoTime:c,startTimestamp:d}=a.params,l=Object(ds.a)(s,c),s=Object(ds.a)(l,lf),c=Object(ds.h)(Math.round((l+(Date.now()/Co.a-d))*Co.a)),l=Object(sf.a)(o,"video-timestamp",String(c));let e;try{e=yield r({method:"GET",url:l})}catch(t){return n.publicApi.getStats().error({error:new Gs({code:Ws.a.META_INFO_REQUEST_FAILED,details:{url:l},fatal:!1})}),void(yield le(pc({end:s,cueId:a.params.cueId})))}d=function(e){try{return Object(Sl.a)(e)?JSON.parse(e):void 0}catch(e){return}}(e.responseText);Object(fo.a)(d)&&({cutoff:l,cue_id:d}=d,d===a.params.cueId&&(s=Object(_o.a)(l)?Object(ds.b)(Object(ds.a)(c,l),1e3):s,yield le(pc({end:s,cueId:d})),yield Ye(t,r,n)))}}function*Ge(e,t){var r=t["payload"],{ad:{adInfo:t}}=yield me();yield le(lc(r)),t&&r&&t.adType!==r.adType?(yield pe(e.onAdStateChange,{state:of.a.NOT_PLAYING,type:t.adType,adParams:{}}),yield pe(e.onAdStateChange,{state:of.a.PLAYING,type:r.adType,adParams:{}})):t&&!r?yield pe(e.onAdStateChange,{state:of.a.NOT_PLAYING,type:t.adType,adParams:{}}):!t&&r&&(yield pe(e.onAdStateChange,{state:of.a.PLAYING,type:r.adType,adParams:{}})),void 0!==r&&M(r)&&(yield Ye(r,q,e))}function*We(t){const e=yield me(),{ad:{adInfo:r,originalBroadcastAdCueId:n},controller:{watchedTime:i}}=e,a=F(e);if(a&&M(r)){const n=x(e,a);if(n){const{startProgramDateTime:e,startVideoTime:i,startTimestamp:a}=r.params,o=n.end+fl,s=Object(ds.d)(Object(ds.b)(Object(ds.h)(Date.now()),1e3),a),c=Object(ds.a)(e,i);if(o<Object(ds.a)(s,c)){const e={utc:Object(ds.a)(c,s),videoTime:Object(_o.a)(i)?Object(ds.a)(i,s):void 0};return void t.publicApi.stopAd({stopAdReason:qs.a.CutOff,data:{loadPositionAfterAd:e}})}}}if(a!==n){yield le(uc(a));let e;void 0!==a?uf=i:e=Object(ds.d)(i,uf),yield pe(t.onOriginalBroadcastAdStateChange,{cueId:a,originalBroadcastAdDuration:e})}}function*Ze(e){var{externalPlayback:{playerListStatus:t}}=yield me();if(t!==ms.CLOSED)return e.logEvent({event:Zs.a.ExternalPlaybackCloseButtonClick,params:{}}),void(yield le(xu(ms.CLOSED)));e.logEvent({event:Zs.a.ExternalPlaybackOpenButtonClick,params:{}}),yield pe(e.publicApi.pause),yield le(Fu())}function*ze(e){var e=e["payload"];yield le(Ku(e))}function*qe(){yield le(xu(ms.CLOSED))}function*Xe(){yield le(Fu())}function*Qe(e){var e=e["payload"];e!==ss.a.PAUSE&&(yield le(xu(ms.CLOSED)),yield le(Wu(!1)))}function*Je(){var e=(yield he({timeout:mu(hf),activity:de(xu)}))["activity"];e||(e=(yield he({timeout:mu(ff-hf),activity:de(Lu)}))["timeout"],e&&(yield le(xu(ms.CLOSED))))}function*$e(e,t){var t=t["payload"];t&&(yield mu(pf),e.logEvent({event:Zs.a.ExternalPlaybackCsrfTokenExpired,params:{}}),yield le(ju(void 0)))}function*et(){var e;do{const t=(yield de(_d))["payload"];e=t}while(!e);const{externalPlayback:{playerListStatus:t}}=yield me();t!==ms.CLOSED&&(yield le(Fu()))}function*tt(e){const{externalPlayback:{playerCsrfToken:t}}=yield me();if(!t){var r=e.publicApi.getExternalRequestController();try{const{promise:t,abort:i}=yf.a.loadCsrfToken(r);e.logEvent({event:Zs.a.ExternalPlaybackPlayerCsrfFetching,params:{}}),t[Xl]=i;var n=(yield t)["token"];yield le(ju(n)),e.logEvent({event:Zs.a.ExternalPlaybackPlayerCsrfFetchSuccess,params:{}}),yield le(Mu())}catch(t){e.logEvent({event:Zs.a.ExternalPlaybackPlayerCsrfFetchError,params:{}})}}}function*rt(e,t){var r=t["payload"],{controller:{currentTime:n},externalPlayback:{externalPlayerConfig:i}}=yield me();yield le(Gu({id:r,status:vf.a.ATTEMPT})),e.logEvent({event:Zs.a.ExternalPlaybackPlayerActivate,params:{}});var a=e.publicApi.getExternalRequestController(),o=yield function*(e){yield tt(e);var{externalPlayback:{playerCsrfToken:e}}=yield me();return e}(e);try{const{promise:t,abort:s}=yf.a.requestPlay(a,{externalPlayerId:r,startPosition:n,config:i},o);t[Xl]=s,yield t,yield le(Gu({id:r,status:vf.a.PLAYING})),yield le(Wu(!0)),yield le(xu(ms.CLOSED)),e.logEvent({event:Zs.a.ExternalPlaybackPlayerActivateSucceed,params:{}})}catch(t){yield le(Gu({id:r,status:vf.a.ERROR})),yield le(ju(void 0)),e.logEvent({event:Zs.a.ExternalPlaybackPlayerActivateFailed,params:{}})}}function nt(e){return e.externalPlayback.playerListStatus}function it(e,t){return(e.status===t.status?0:e.status===vf.a.OFFLINE?1:-1)||String.prototype.localeCompare.call(e.name,t.name)}function*at(e){const t=yield me();yield le(xu(ms.LOADING));let r=!1;yield le(Du());const n=e.publicApi.getExternalRequestController();try{if(0===t.externalPlayback.playerList.length){r=!0,e.logEvent({event:Zs.a.ExternalPlaybackPlayerListFetching,params:{cachedList:r}});const t=yield function*(e){const{promise:t,abort:r}=yf.a.loadCachedPlayers(e);return t[Xl]=r,yield t}(n);if(e.logEvent({event:Zs.a.ExternalPlaybackPlayerListFetchSuccess,params:{cachedList:r}}),!t.length)return yield le(Bu([])),void(yield le(xu(ms.IDLE)));e.logEvent({event:Zs.a.ExternalPlaybackPlayerListHasAnyDevice,params:{}})}r=!1,e.logEvent({event:Zs.a.ExternalPlaybackPlayerListFetching,params:{cachedList:r}});const i=yield function*(e){const{promise:t,abort:r}=yf.a.loadPlayers(e);return t[Xl]=r,yield t}(n);yield le(Bu(i.filter(e=>e.screen_capable).map(e=>({id:e.id,name:e.name,status:e.online?vf.a.IDLE:vf.a.OFFLINE})).sort(it))),(yield me(nt))!==ms.CLOSED&&(yield le(xu(ms.IDLE))),e.logEvent({event:Zs.a.ExternalPlaybackPlayerListFetchSuccess,params:{cachedList:r}})}catch(t){const n=yield me(nt),a=t.status&&403!==t.status?401===t.status?ms.UNKNOWN_USER:ms.ERROR:ms.ACCESS_ERROR;n!==ms.CLOSED&&(yield le(xu(a)),a===ms.UNKNOWN_USER&&(yield le(Zu()))),e.logEvent({event:Zs.a.ExternalPlaybackPlayerListFetchError,params:{cachedList:r,status:t.status||0}})}}function*ot(e){var e=e["payload"];1===e.length&&([e]=e,e.status===vf.a.IDLE&&(yield le(Ku(e.id))))}function*st(e){yield le(Nu(I(e.payload)))}function ct(e,t){return e.map(e=>({adViewer:e,additionalData:{},adType:t}))}async function dt(t,e){const r=(await Z())["AdLoader"],n=t===zs.overlaySelfPromo,i=e.map(async e=>(await r.create({adBreakType:mf[t],vast:function(e,t){e=e.url;return'<?xml version="1.0" encoding="utf-8"?>\n    <VAST version="2.0">\n        <Ad id="0">\n            <InLine>\n                <AdSystem>Ether</AdSystem>\n                <AdTitle>Promo</AdTitle>\n                <Creatives>\n                    <Creative id="0">\n                        '+(t?'<NonLinearAds>\n            <NonLinear apiFramework="VPAID" width="300" height="60" id="overlay-1">\n                <StaticResource creativeType="application/javascript"><![CDATA[https://yastatic.net/awaps-ad-sdk-js/1_0/overlay_creative.js]]></StaticResource>\n                <AdParameters>\n                    <![CDATA[{ "mediaFiles": [{"type": "overlay-creative/javascript", "url": "'+e+'"}]}]]>\n                </AdParameters>\n            </NonLinear>\n        </NonLinearAds>':'<Linear skipoffset="00:00:05">\n            <Duration>00:00:03</Duration>\n            <AdParameters><![CDATA[{"mediaFiles": [{"type": "motion-creative/javascript","url": "'+e+'"}],"adParameters": {}}]]></AdParameters>\n            <MediaFiles>\n                <MediaFile height="0" width="0" type="application/x-javascript" apiFramework="VPAID"><![CDATA[https://yastatic.net/awaps-ad-sdk-js/1_0/ad_creative.js]]></MediaFile>\n            </MediaFiles>\n        </Linear>')+"\n                    </Creative>\n                </Creatives>\n        </InLine>\n        </Ad>\n    </VAST>"}(e,n)})).loadAd());return Promise.all(i)}function lt(e){var e=e.ad["adInfo"];return e&&e.adType}function*ut(e){var t=yield me(),{ad:{adSessionWatchedTime:r},controller:{currentTimeLowGranularity:n,duration:i,videoType:a,watchedTime:o,sourceParams:{promoConfig:s={}}={}},skin:{nativeControlsVisibility:c}}=t;if(!isNaN(i)){const d=lt(t),l=e.publicApi.getMultiroll(),u={watchedTime:r,sourceWatchedTime:o,currentTime:n,duration:i,videoType:a||cs.a.VOD},h=yield l.midroll.loadViewers(u),f=l.getNextAdInfo(u);if(yield le(Ac(f)),0<h.length)return d===zs.overlay&&e.publicApi.stopAd({stopAdReason:qs.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:zs.midroll}}),void(yield e.publicApi.playAdViewers(zs.midroll,ct(h,zs.midroll),{}));if(!c){const p=yield l.overlay.loadViewers(u);if(0<p.length)return void 0!==d&&d!==zs.overlay?void p.forEach(e=>{e.preventPlaying("PriorityAdIsAlreadyPlaying",{adTypeBefore:Ef(d),adTypeAfter:"overlay"})}):(e.publicApi.stopAd({stopAdReason:qs.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:zs.overlay}}),void e.publicApi.playAdViewers(zs.overlay,ct(p,zs.overlay),{}));void 0!==d||void 0!==f&&f.remainingTime<=10||void 0!==(s=Af.requestCreative({watchedTime:o,promoConfig:s}))&&(s=yield dt(zs.overlaySelfPromo,[s]),e.publicApi.playAdViewers(zs.overlay,ct(s,zs.overlaySelfPromo),{}).then(()=>Af.onCreativeFinished(e.publicApi.getWatchedTime())))}}}function ht(e){var e=e["ad"],e=e["adInfo"];return void 0!==e}function*ft(t){var e=yield me(),{controller:{playingState:r},skin:{nativeControlsVisibility:n,handleVideoTagClickWhenHidingNativeControls:i}}=e;if(i&&!n&&!ht(e)){let e;r===ss.a.PLAY?(e=Tf.PAUSE,yield pe(t.publicApi.pause)):(e=Tf.PLAY,yield pe(t.publicApi.play)),yield pe(t.onUserAction,{name:"PLAY_BUTTON_CLICK",data:{state:e}})}}function*pt(e){yield le(Zh()),yield pe(e.publicApi.seek,{utc:Object(ds.j)(0),videoTime:Object(ds.j)(0)}),yield pe(e.publicApi.play)}function vt(e){const{audioTrackValue:t,audioTracks:r}=e.controller;return r.find(e=>{var e=e["value"];return e===t})}function*yt(e,t){let r=t["payload"];yield le(Fd(Sf.INDEX));const n=yield me(),i=vt(n),{controller:{audioTrackValue:a,audioTracks:o}}=n;void 0!==r&&(yield pe(e.publicApi.setAudioTrack,r));t=o.find(e=>{var e=e["value"];return e===r});r!==a&&(yield ve(e,e.onUserAction,[{name:"AUDIO_TRACK_CHANGE",data:{newTrack:t,oldTrack:i}}])),hs.a.log("USER SELECTED AUDIO TRACK: ",t)}function*mt(e,t){var t=t["payload"];yield le(Fd(Sf.INDEX)),yield pe(e.publicApi.setPlaybackRate,t)}function gt(e){const{textTrackValue:t,textTracks:r}=e.controller;return r.find(e=>{var e=e["value"];return e===t})}function*Et(e,t){let r=t["payload"];yield le(Fd(Sf.INDEX));const n=yield me(),i=gt(n),{controller:{textTrackValue:a,textTrackEnabled:o,textTracks:s}}=n;r===a&&(void 0===r||o||(yield le(lh()))),void 0!==r&&(yield pe(e.publicApi.setTextTrack,r));t=s.find(e=>{var e=e["value"];return e===r});r!==a&&(yield ve(e,e.onUserAction,[{name:"TEXT_TRACK_CHANGE",data:{newTrack:t,oldTrack:i}}])),hs.a.log("USER SELECTED TEXT TRACK: ",t)}function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tt(e){const{videoTrackValue:t,videoTracks:r,isAbrEnabled:n}=e.controller,i=r.find(e=>{var e=e["value"];return e===t});if(i)return At({},i,{auto:n})}function*St(e,t){let r=t["payload"];if(yield le(Md(!1)),void 0!==r){const n=yield me(),{controller:{isAbrEnabled:i,videoTrackValue:a,videoTracks:o}}=n,s=Tt(n);if(i){if(bf.value===r)return}else if(a===r)return;yield pe(e.publicApi.setVideoTrack,r);t=o.find(e=>{var e=e["value"];return e===r});yield le(Od(Object(Rf.a)(Of.a.VideoTrackChange,{newTrack:t,oldTrack:s}))),yield ve(e,e.onUserAction,[{name:"VIDEO_TRACK_CHANGE",data:{newTrack:t,oldTrack:s}}]),hs.a.log("USER SELECTED VIDEO TRACK: ",t)}}function*_t(e,t){var r=t["payload"],t=Pf.a.internalToPublic(r);yield pe(e.publicApi.setVolume,t),0<r&&(yield pe(e.publicApi.setMuted,!1)),yield ve(e,e.onUserAction,[{name:"VOLUME_CHANGE",data:{volume:t}}])}function bt(e,t){if(void 0!==e)return Object(sf.a)(e,"from_block",t)}function*Ot(t){var r=yield me(),{controller:{sourceParams:{shareConfig:n},currentTimeLowGranularity:i}}=r;yield pe(t.onUserAction,{name:"BRAND_LOGO_CLICK",data:n});var n=n["link"];if(void 0!==n){let e=bt(n,wf.BRAND_LOGO);void 0!==function(){var{controller:{currentTimeLowGranularity:e,videoType:t}}=r;if(t===cs.a.EVENT||t===cs.a.VOD)return Object(_o.a)(e)?e:void 0}()&&(e=(n=e,i=i,Object(Io.a)(n,"t",""+i))),window.open(e,"_blank"),yield pe(t.publicApi.pause)}}function Rt(e){return e.sharing.html}function Pt(e){var e=e.sharing["link"];return bt(e,wf.CONTEXT_MENU)}function wt(e){var t,r,n=Pt(e),t=(t=e,r=Boolean(Pt(t)),t=(t=t.controller.videoType)===cs.a.VOD||t===cs.a.EVENT,r&&t);if(n&&t){e=Math.floor(e.controller.currentTimeLowGranularity);return Object(Io.a)(n,"t",String(e))}}function Ct(e){return e.controller.vsid}function*It(e,t){var t=t["payload"];switch(yield le(Hd(!1)),t){case Cf.COPY_LINK:yield function*(){var e=yield me(Pt);e&&(yield pe(If.a,e))}();break;case Cf.COPY_LINK_WITH_TIME:yield function*(){var e=yield me(wt);e&&(yield pe(If.a,e))}();break;case Cf.COPY_HTML:yield function*(){var e=yield me(Rt);e&&(yield pe(If.a,e))}();break;case Cf.COPY_VSID:yield function*(){var e=yield me(Ct);yield pe(If.a,e)}()}yield pe(e.onUserAction,{name:t,data:void 0})}function*Nt(e){yield pe(e.onUserAction,{name:"LOGO_CLICK",data:void 0}),yield pe(e.publicApi.pause)}function*kt(e){yield le(Md(!1)),yield pe(e.onUserAction,{name:"REPORT_CLICK",data:void 0})}function*Lt(e){yield le(Zh()),yield pe(e.publicApi.play)}function Dt(t){return function*(e){var e=e["payload"];yield le(t(e))}}function*jt(){var e=(yield me()).skin["settingsVisible"];yield le(xd(e))}function*Mt(){yield le(Md(!1))}function*xt(e,t){var t=t["payload"];yield ve(e,e.onUserAction,[{name:"FINISH_CHANGE_VOLUME",data:{volume:Pf.a.internalToPublic(t)}}]),0!==t&&(yield le(Ic(t)))}function Ft(t){var{controller:{dvrDuration:e}}=t,r=function(){var{controller:{startStage:e}}=t;return e!==kf.a.started&&e!==kf.a.starting}();return 0<e&&isFinite(e)&&!r}function*Vt(){yield le(yh(!0)),yield le(Xh())}function*Ut(e){var e=e["payload"];yield pe(Bt,{payload:e}),yield le(ah())}function*Bt(e){var{payload:{reason:t,step:r}}=e,{controller:{currentTime:n},skin:{skinDVRStartTime:i,skinDVRDuration:a,seeking:e}}=yield me(),i=0<r?Object(ds.j)(Math.min(n+r,i+a)):Object(ds.j)(Math.max(n+r,i));(0<r?n<i:i<n)&&(e||(yield le(ih())),yield le(rh({videoPosition:i,step:r,reason:t})))}function*Ht(e,t){var t=t["payload"];const r=yield me(),{controller:{volume:n,muted:i},skin:{hiddenControls:a}}=r;switch(t){case ks.ArrowLeft:Ft(r)&&!a.includes(ys.b.TIMELINE)&&(yield pe(Bt,{payload:{reason:Es.KEYBOARD,step:Object(ds.j)(-Nf),videoPosition:Object(ds.j)(0)}}),yield Vt());break;case ks.ArrowRight:Ft(r)&&!a.includes(ys.b.TIMELINE)&&(yield pe(Bt,{payload:{reason:Es.KEYBOARD,step:Nf,videoPosition:Object(ds.j)(0)}}),yield Vt());break;case ks.ArrowDown:a.includes(ys.b.VOLUME)||(!i&&0<n&&(yield le(qu(Number(Math.max(n-.2,0).toFixed(1))))),yield Vt());break;case ks.ArrowUp:a.includes(ys.b.VOLUME)||((i||n<1)&&(yield le(qu(i?.2:Number(Math.min(n+.2,1).toFixed(1))))),yield Vt())}}function*Kt(e,t){var t=t["payload"];const r=yield me(),{controller:{volume:n,muted:i},skin:{hiddenControls:a}}=r;switch(t){case ks.ArrowLeft:case ks.ArrowRight:Ft(r)&&!a.includes(ys.b.TIMELINE)&&(yield le(ah()));break;case ks.Space:a.includes(ys.b.PLAY)||(yield le(Ph()));break;case ks.ArrowDown:case ks.ArrowUp:a.includes(ys.b.VOLUME)||(yield le(Qu(i?0:n)));break;case ks.KeyF:a.includes(ys.b.FULLSCREEN)||(yield le(hh()))}}function*Yt(e){let r=e["payload"];const t=yield me(),n=t.skin["timelinePreviewImages"];if(!n[r]){const i=yield pe(()=>new Image);try{yield le(Hh({url:r,state:"loading"}));const e=new Promise((e,t)=>{i.onload=e,i.onerror=t,i.src=r}),t=(yield he({loadingPromise:e,prevent:de(Yh)}))["prevent"];if(t)return void(i.src=Lf.a);yield le(Hh({url:r,state:"loaded"}))}catch(e){yield le(Kh(r))}}}function*Gt(e){var t=(yield he({delay:mu(300),prevent:de(Yh)}))["prevent"];t||(yield function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Ul(ye.apply(void 0,[e].concat(r)))}(Yt,e))}function Wt(e,t){var t=t["payload"];e.logEvent(t)}function*Zt(e,t){var r=t["payload"];jf.event&&jf.event.reason===r.reason||(jf.clear=ho.a);var{promise:n,clear:t}=Ro(Df);jf.clear(),jf.clear=t,jf.event=r,yield n,e.logEvent({event:Zs.a.Seek,params:r})}function*zt(e,t){var t=t["payload"];t||(yield le(Fd(Sf.INDEX)))}function*qt(e){var e=e["payload"];e&&(yield mu(0),yield le(zh(!1)))}function*Xt(e,t){var{payload:{videoPosition:r}}=t,{controller:{currentTime:n,playingState:t}}=yield me();r!==n&&(yield pe(e.publicApi.seek,{videoTime:r})),t===ss.a.END&&(yield pe(e.publicApi.play)),yield pe(e.onUserAction,{name:"SEEK",data:{oldPosition:n,newPosition:r}})}function*Qt(e){yield pe(e.publicApi.seekToLive),yield pe(e.onUserAction,{name:"LIVE_CLICK",data:void 0})}function*Jt(e,t){var t=t["payload"];e.logEvent({event:Zs.a.ShareButtonClick,params:t})}function*$t(){yield le(gh(!0)),yield mu(Mf),yield le(gh(!1))}function*er(){var{skin:{mouseMotionlessTimeoutId:e},controller:{isFullscreen:t}}=yield me();0<e&&window.clearTimeout(e);var{timeoutId:e,promise:t}=Ro(t?xf:Mf);yield le(Ah(e)),yield le(Eh(!1)),yield t,yield le(vh())}function*tr(){yield le(Ah(0)),yield le(Eh(!0))}function*rr(){var{controller:{isFullscreen:e},skin:{isMobileSkin:t}}=yield me();-1!==Vf&&(window.clearTimeout(Vf),Vf=-1);let r=Mf;t?r=Ff:e&&(r=xf);var{timeoutId:t,promise:e}=Ro(r);Vf=t,yield le(Sh(!0)),yield e,yield le(Sh(!1))}function*nr(e){yield le(xh(e)),yield le(Bd(e))}function*ir(e){var{controller:{isFullscreen:t}}=yield me(),t=!t;yield pe(e.publicApi.setFullscreen,t),yield ve(e,e.onUserAction,[{name:"FULLSCREEN_CLICK",data:{isFullscreen:t}}])}function*ar(e){var{controller:{volume:t,muted:r}}=yield me(),r=!r;yield pe(e.publicApi.setMuted,r),yield ve(e,e.onUserAction,[{name:"VOLUME_CHANGE",data:{volume:Pf.a.internalToPublic(r?0:t)}}])}function*or(e){var{controller:{playingState:t}}=yield me();yield pe(t===ss.a.PLAY?e.publicApi.pause:e.publicApi.play),yield ve(e,e.onUserAction,[{name:"PLAY_BUTTON_CLICK",data:{state:Uf[t]}}])}function*sr(e){var{controller:{textTrackEnabled:t}}=yield me();t?yield pe(e.publicApi.setTextTrack,void 0):yield pe(e.publicApi.setTextTrack,"auto")}function*cr(e){var{}=e;yield le(kh(0)),yield le(Lh(0))}function*dr(e){var e=e["payload"];yield le(kh(e.deltaY)),yield le(Lh(e.deltaX))}function*lr(){yield le(kh(0)),yield le(Lh(0))}function*ur(e){var{skin:{hiddenControls:t}}=yield me();yield pe(e.publicApi.setHiddenControls,t)}function*hr(e){var{controller:{autoplay:t}}=yield me();t&&(yield ue([le(Sc(!1)),pe(e.publicApi.play)]))}function fr(e,t){let{name:r,lang:n}=t;return e.find(e=>e.name===r)||(n?e.find(e=>e.lang===n):void 0)}function*pr(e){var{controller:{textTrackValue:t,textTracks:r,userTextTrackName:n,userTextTrackLang:i}}=yield me();t?yield pe(e.publicApi.setTextTrack,t):void 0===(r=fr(r,{enabled:!0,name:n,lang:i})||function(e){if(0!==e.length){var t=function(t,e){if("string"==typeof e){var r=e.split("-")[0].toLowerCase();for(let e=0;e<t.length;e++){const n=t[e];if(n.name.toLowerCase()===r)return n}}}(e,navigator.language);return void 0!==t?t:e[0]}}(r))?hs.a.error("No text tracks to enable"):yield pe(e.publicApi.setTextTrack,r.value)}function vr(e){var e=e["ad"],e=e["adInfo"];if(void 0===e)return!1;var e=e["adType"];return e!==zs.overlay}function*yr(e,t){var r=t["payload"],{controller:{playingState:n,watchedTime:t}}=yield me();n===r||n===ss.a.END&&r===ss.a.PAUSE||(r!==ss.a.BUFFERING?(n===ss.a.BUFFERING&&(yield function*(){yield le(Dd(!1)),yield le(Od(Object(Rf.a)(Of.a.Other,void 0)))}()),n===ss.a.BUFFERING&&r===ss.a.PAUSE&&0===t||(yield le(_c(kf.a.started))),r===ss.a.PLAY&&(yield le(Dd(!1))),r===ss.a.END?({ad:{adInfo:t}}=n=yield me(),vr(n)?hs.a.log("putPlayingState("+ss.a.END+") has not been dispatched because ad("+(t&&t.adType)+") is playing"):yield function*(e){const t=e.publicApi.getMultiroll(),r=yield t.postroll.loadViewers({});0<r.length&&(e.publicApi.stopAd({stopAdReason:qs.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:zs.postroll}}),yield e.publicApi.playAdViewers(zs.postroll,ct(r,zs.postroll),{})),yield le(Dc(ss.a.END)),e.publicApi.stop()}(e)):yield le(Dc(r))):yield function*(){yield le(Dc(ss.a.BUFFERING)),yield mu(vs);var{controller:{playingState:e}}=yield me();yield le(Dd(e===ss.a.BUFFERING))}())}function*mr(e,t){var t=t["payload"];yield pe(e.onAdblockDetected,t)}function*gr(e,t){var t=t["payload"];yield ve(e,e.onAudioTracksChange,[t])}function*Er(e,t){var{}=t,t=yield me();yield pe(e.onAudioTrackChange,vt(t))}function*Ar(e,t){var t=t["payload"];yield pe(e.onBufferingRangesChange,t)}function*Tr(e,t){var t=t["payload"];yield pe(e.onErrorScreenVisibilityChange,!t)}function Sr(e){var{controller:{currentTime:t},skin:{skinDVRStartTime:r,skinDVRDuration:e}}=e,r=r+e-Hf.a;return e===1/0||r<t}function _r(e){var{ad:{adInfo:e}}=e;return void 0!==e&&Kf.includes(e.adType)}function*br(){const{ad:{adSessionWatchedTime:e,watchedTimeSinceAd:t=Object(ds.j)(0)},controller:{currentTime:r,playingState:n,watchedTime:i,playbackRate:a}}=yield me();if(void 0!==Yf){const n=function(e,t){t=0<=e&&e<=t+.5?e:t;return Object(ds.j)(Math.max(0,t))}(Object(ds.b)(Object(ds.d)(r,Yf.videoTime),a),Object(ds.b)(Object(ds.h)(Yf.getElapsedTime()),1e3));yield le(Pd(Object(ds.a)(i,n))),yield le(wd(Object(ds.a)(t,n))),yield le(Cd(Object(ds.a)(e,n)))}var o=yield me(_r);Yf=n!==ss.a.PLAY||o?void 0:{getElapsedTime:Object(Oo.a)(),videoTime:r}}function*Or(e,t){var t=t["payload"];yield br(),yield function*(e){var t=yield me(),{controller:{videoType:r,playbackRate:n}}=t;r!==cs.a.VOD&&(ht(t)||(1<n?Sr(t)&&e.publicApi.setPlaybackRate(Bf.a):function(e){var{controller:{videoType:t}}=e;if(t===cs.a.LIVE){var{controller:{currentTime:t},skin:{skinDVRStartTime:e}}=e;return e+(0===t?0:Hf.a)>t}}(t)&&e.publicApi.setPlaybackRate(Bf.a)))}(e),yield ve(e,e.onCurrentTimeChange,[t]),yield le(Mc((t=t,Object(ds.j)("number"!=typeof(t=Math.floor(2*t)/2)||isNaN(t)||!isFinite(t)?0:t))))}function*Rr(e,t){var t=t["payload"];yield pe(e.onDurationChange,t)}function*Pr(e){var t=e["payload"],{controller:{engine:r,videoType:n,fragmentDuration:i,liveOffset:e}}=yield me(),e=r===Gf.MPD?Object(ds.j)(0):e,e=n===cs.a.LIVE?Object(ds.a)(Object(ds.c)(Hf.b,i),e):e,e=void 0===n||n===cs.a.VOD?t:Object(ds.d)(t,e);yield le(Jc(e))}function*wr(e){var t=e["payload"],{controller:{videoType:r,fragmentDuration:e}}=yield me(),t=r===cs.a.LIVE?Object(ds.a)(Object(ds.c)(e,Hf.b),t):Object(ds.j)(0);yield le(Qc(t))}function*Cr(e,t){const r=t.payload["error"];var n,i;void 0!==r&&({code:n,isFatal:i,details:t}=r,i?(hs.a.error(n,t),yield le(Hd(!1)),yield pe(e.publicApi.setFullscreen,!1)):hs.a.warn(n,t),yield pe(e.onError,r.toJSON()))}function*Ir(e){var t=e["payload"],{controller:{videoTrackValue:e}}=yield me();yield le(ad({videoTrackValue:e,isAbrEnabled:t}))}function*Nr(e,t){var t=t["payload"];yield pe(e.onFullScreenChange,t)}function kr(e,t){const r=e.publicApi.getRecoverHelper();r&&r.planTask(()=>e.publicApi.recoverStream(),t)}function*Lr(e,t){var t=t["payload"];t||(yield function*(e){var{controller:{videoType:t,engine:r}}=yield me();t===cs.a.LIVE&&r===Gf.HLS&&(yield kr(e,{reason:"RecoverHLSPLayerStreamIfIsOffline",delay:0,rawData:0}))}(e))}function*Dr(e,t){var t=t["payload"];yield pe(e.onPlaybackRateChange,t)}function jr(e){var{protocol:t,host:e}=Object(Wf.e)(e);return t+"//"+e+"/ping"}function Mr(e){return"https://"+e+"/ping?r="+Object(Zf.a)(12)}function xr(e){return Mr(Object(Wf.e)(e).hostname)}function Fr(e){return e.map(e=>e&&e.name||"").filter(e=>{return zf.includes(Object(Io.c)(e))&&".strm.yandex.net"===(e=Object(Io.g)(e).hostname).substring(e.length-".strm.yandex.net".length)})}async function Vr(e){await q({method:"GET",url:e,withCredentials:!1,timeout:qf})}function Ur(e,r){return e.find(e=>{var{start:t,end:e}=e;return t<=r&&r<=e})}function Br(e,t){e=Ur(e,t);return void 0===e?void 0:Object(ds.d)(e.end,t)}function Hr(e){var{currentTime:t,bufferingRanges:e}=e.controller;return Br(e,t)}function*Kr(e){var{controller:{playingState:t},ad:{inStreamPlayingState:r}}=yield me();t===ss.a.BUFFERING&&(yield function*(e){var t=yield me();if((Hr(t)||0)<Xf&&!vr(t)){var{bufferingRanges:r,stream:t}=t.controller;if(0!==r.length&&t&&Object(df.a)(t.url)){const n=jr(t.url),o=e.publicApi.getDebugInfo()["resourceTimings"],i=function(){var e=Fr(o);if(0===e.length)return[];const[t,r]=Object(pl.a)(e,e=>Object(Io.d)(e).includes("audio")),n=r[r.length-1],i=t[t.length-1],a=[];return n&&a.push(xr(n)),i&&a.push(xr(i)),a}(),{controller:{isOnline:a}}=yield me();if(a){const s=Object(Io.a)(n,"r",Date.now().toString()),c=i.map(e=>Object(Io.a)(e,"r",Date.now().toString()));if(!(i.length<=0)){const d=Vr(s),l={reason:"ChunkServerIsNotAvailable",delay:new Promise(e=>{d.then(()=>{Promise.all(c.map(Vr)).catch(e)}).catch(ho.a)}),rawData:0};yield kr(e,l)}}}}}(e),yield function*(e){const{controller:{isOnline:t}}=yield me();if(!t){const t={reason:"recoverStreamIfIsOffline",delay:0,rawData:0};yield kr(e,t)}}(e)),yield br(),void 0===r?yield pe(e.onStateChange,t):yield pe(e.onStateChange,r)}function*Yr(e,t){var t=t["payload"];t&&(yield pe(e.onResourcesIdle),e.logEvent({event:Zs.a.ResourcesIdle,params:{}}))}function*Gr(e,t){var t=t["payload"];yield pe(e.onStartStageChange,t)}function*Wr(e,t){var t=t["payload"];yield pe(e.onChangeStream,t);const r=yield pe(e.publicApi.getStats);t&&(yield pe(r.setRootFields.bind(r),{streamUrl:t.url}))}function*Zr(e,t){var t=t["payload"];yield pe(e.onStreamsWithSupportInfoChange,t)}function*zr(e,t){var t=t["payload"];yield ve(e,e.onSubtitlesChange,[t])}function*qr(e,t){var t=t["payload"];yield ve(e,e.onTextTracksChange,[t])}function*Xr(e,t){var t=t["payload"];yield pe(e.onThumbnailTileGeneralMetaInfoChange,t)}function*Qr(e,t){var t=t["payload"];yield pe(e.onVideoReadyStateChange,t)}function*Jr(e,t){var t=t["payload"];yield pe(e.onVideoSizeChange,t)}function*$r(e,t){var r=yield me();yield pe(e.onVideoTrackChange,Tt(r))}function*en(e,t){var t=t["payload"];yield ve(e,e.onVideoTracksChange,[t])}function*tn(e,t){var t=t["payload"];yield pe(e.onVideoTypeChange,t)}function*rn(e,t){var{payload:{volume:r,muted:n,changeReason:t}}=t;yield pe(e.onVolumeChange,{volume:Pf.a.internalToPublic(r),muted:n,changeReason:t}),t!==Qf.a.RequestAutoplaySettings&&(yield le(Wd()))}function nn(){return Object($f.a)()||-1<Object(Jf.a)()}function an(e){var{controller:{isFullscreen:t},skin:{useNativeControls:r,useNativeFullscreen:e}}=e;return r||t&&e}function*on(e){var t=yield me(),{skin:{nativeControlsVisibility:r},controller:{textTrackEnabled:n,nativeTextTrackVisible:i,isPip:a}}=t,n=(void 0===i?yield pe(nn):i)||a||Boolean(r&&an(t)&&n);yield pe(e.publicApi.toggleNativeSubtitles,n)}function*sn(e){var e=e["payload"];e!==ss.a.PAUSE&&(yield le(bd(!1)))}function*cn(e,t){var{payload:{enabled:r,textTrackValue:n}}=t,{controller:{textTrackEnabled:i,textTrackValue:a}}=yield me(),o=void 0===r?i:r,t=void 0===n?a:n;yield le(fd(o)),yield le(vd(t)),(i?a:void 0)!==(r?n:void 0)&&(r=r?gt(yield me()):void 0,yield pe(e.onTextTrackChange,r))}function dn(t,e,r){void 0===r&&(r=ls.a);let n=e;return function*(){var e;0!==arguments.length&&(e=((e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e])["payload"],r(e,n)||Number.isNaN(e)&&Number.isNaN(n)||(n=e,yield*t(...arguments)))}}function*ln(e){var e=e["payload"];const{condition:t,action:r,delay:n}=e;yield mu(n),t()&&(yield le(r))}function un(t,r){for(var e=arguments.length,n=new Array(2<e?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return ye(function*(){var e=yield de(t);yield ye.call(null,r,...n.concat(e))})}function hn(e,o){const t=function(e){var{controller:{volume:t,muted:r,duration:n,isAbrEnabled:i,videoTrackValue:a}}=o;return[Me(ef,jt),Me(Pc,dn(rn,{volume:t,muted:r},Ue),e),Me(Pc,dn(ur,{volume:t,muted:r},Ue),e),Me(Dc,dn(ur),e),Me(Ad,dn(ur),e),Me(Nc,dn(Rr,n),e),Me(Lc,dn(tn),e),Me(qd,yr,e),Me(Dc,dn(Kr,nf.a.playingState),e),Me(Ec,dn(Kr,rf.a.inStreamPlayingState),e),Me(Dc,dn(sn,nf.a.playingState)),Me(Ec,dn(sn,rf.a.inStreamPlayingState)),un(Dc,er),Me(jc,dn(Or),e),Me(Md,zt,e),un(Rc,hr,e),Me(Vc,dn(Wr),e),Me(Kc,dn(Zr),e),un(Xc,$t),Me(id,dn(Ir,i)),Me(ad,dn($r,{videoTrackValue:a,isAbrEnabled:i}),e),Me(od,dn(en),e),Me(cd,dn(Er),e),Me(dd,dn(gr),e),Me(Gc,dn(Lr),e),Me(md,dn(cn),e),Me(hd,dn(qr),e),Me(gd,pr,e),Me(Ed,dn(zr),e),Me(Id,Xr,e),Me(Hd,dn(Tr),e),Me(Ad,dn(Nr),e),Me(td,Cr,e),Me(hc,dn(mr),e),Me(zc,dn(wr)),Me(qc,dn(Pr)),Me(ed,dn(Ar),e),Me(_c,dn(Gr),e),Me($d,Fe,e),Me(el,Ve,e),Me($c,Dr,e),Me(kc,dn(Jr),e),Me(ud,Qr,e),Me(qu,dn(_t),e),Me(Qu,dn(xt),e),Me(Ju,ar,e),Me(fh,It,e),Me(oh,Ht,e),Me(sh,Kt,e),Me(ch,St,e),Me(dh,yt,e),Me(lh,sr,e),Me(uh,Et,e),Me(hh,ir,e),Me($u,kt,e),Me(eh,Ot,e),Me(th,Qt,e),Me(rh,Xt,e),Me(rh,Zt,e),Me(nh,Ut),Me(Fh,dn(Dt(Uh),ep)),Me(Bh,dn(Dt(Vh),ep)),xe(Uh,Gt),xe(Vh,Gt),Me(ph,mt,e),Me(Xh,er),Me(vh,tr),Me(Ph,or,e),xe(Th,rr),Me(Ch,lr),Me(Ih,cr),Me(Nh,dr),Me(jh,nr,!0),Me(Mh,nr,!1),Me(bh,Nt,e),Me(Oh,Mt),Me(zu,ft,e),Me(Cu,ln),Me(fd,on,e),Me(Td,on,e),Me(pd,on,e),Me(Ad,dn(on),e),function(e,t){for(var r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return ye.apply(void 0,[je,e,t].concat(n))}([Cd,Dc],ut,e),Me(pc,Ke),Me(mc,We,e),Me(fc,We,e),Me(Qd,Wt,e),Me(dc,dn(Ge),e),Me(lc,dn(Be),e),Me(Ac,dn(He),e),Me(Gh,Lt,e),Me(Wh,pt,e),Me(Nd,dn(Yr),e),Me(Iu,st),Me(ku,Ze,e),Me(Hu,ze),Me(Vu,Xe),Me(Uu,qe),xe(Du,tt,e),xe(Fu,at,e),xe(Bu,ot),xe(Ku,rt,e),xe(Yu,Je),xe(ju,$e,e),xe(Dc,Qe),xe(Zu,et),xe(zh,qt),xe(qh,$t),Me(tf,Jt,e)]}(e),{}=o.controller;return function*(){yield ue(t)}}function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pn(e,t,r){var n=e[t];return n===r||"number"==typeof r&&"number"==typeof n&&Number.isNaN(n)&&Number.isNaN(r)?e:fn({},e,{[t]:r})}function vn(r){return function(e,t){return pn(e,r,t)}}function yn(t,r){return function(e){return pn(e,t,r)}}function mn(){return(mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gn(e,t){return void 0===t&&(t=[]),[...e=void 0===e?[]:e,...t]}function En(e,t){return void 0===e?t:void 0===t?e:{before:gn(e.before,t.before),after:gn(e.after,t.after)}}function An(e,r){return Object(bo.a)(r).reduce((e,t)=>pn(e,t,r[t]),e)}function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e){e=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);e=t.call(e,"string");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}(e);return"symbol"==typeof e?e:String(e)}function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function On(e){const t=function(){var{}=e.controller;return{}}(),r={},n=Object(bo.a)(t).length?Q(t):()=>r;return Q({controller:L({},e.controller).on(Tc,vn("engine")).on(Wc,vn("fragmentDuration")).on(zc,vn("dvrStartTime")).on(qc,vn("dvrDuration")).on(_c,vn("startStage")).on(bc,vn("raaTakingTooLong")).on(Zc,vn("programDateTime")).on(gc,vn("lastKnownBandwidthEstimate")).on(Pc,An).on(wc,vn("requireUserGestureToUnmute")).on(Cc,vn("autoplayImpossible")).on(Ic,vn("userVolume")).on(Wd,yn("wasVolumeChanged",!0)).on(Nc,vn("duration")).on(kc,An).on(Lc,vn("videoType")).on(Sc,vn("autoplay")).on(Oc,vn("preload")).on(Dc,vn("playingState")).on(jc,vn("currentTime")).on(Mc,vn("currentTimeLowGranularity")).on(Fc,vn("from")).on(Vc,vn("stream")).on(Uc,vn("sourceParams")).on(Bc,e=>Tn({},e,{sourceId:e.sourceId+1})).on(Hc,vn("streams")).on(Kc,vn("streamsWithSupportInfo")).on(Yc,vn("startPosition")).on(ed,vn("bufferingRanges")).on(Rc,vn("encoderAttached")).on(nd,(e,t)=>pn(pn(e,"isAbrEnabled",e.isAbrEnabled&&t),"isAbrSupported",t)).on(id,(e,t)=>pn(e,"isAbrEnabled",t&&e.isAbrSupported)).on(ud,vn("videoTagReadyState")).on(ad,(e,t)=>{var{videoTrackValue:r,isAbrEnabled:t}=t;return An(e,{videoTrackValue:r,isAbrEnabled:t&&e.isAbrSupported})}).on(sd,(e,t)=>{var{name:r,height:t}=t;return An(e,{userVideoTrackName:r,userVideoTrackHeight:t})}).on(od,vn("videoTracks")).on(cd,vn("audioTrackValue")).on(dd,vn("audioTracks")).on(ld,(e,t)=>{var{name:r,lang:t}=t;return pn(pn(e,"userAudioTrackName",r),"userAudioTrackLang",t)}).on(fd,vn("textTrackEnabled")).on(pd,vn("nativeTextTrackVisible")).on(vd,vn("textTrackValue")).on(hd,vn("textTracks")).on(yd,(e,t)=>{var{enabled:r,name:n,lang:t}=t;return An(e,{userTextTrackEnabled:r,userTextTrackName:n,userTextTrackLang:t})}).on(Ed,(e,t)=>pn(e,"subtitles",function(e,n){return void 0===n&&(n=["u","i","b"]),e.reduce((t,e)=>(e.split("\n").forEach(e=>{t.push(function(e,t){void 0===n&&(t=["u","i","b"]);const r=new RegExp("<(/)?("+t.join("|")+")>");return(e=e.replace(rp,"")).replace(tp,e=>e.match(r)?e:"")}(e,n))}),t),[])}(t))).on(xc,vn("videoInfo")).on(Ad,vn("isFullscreen")).on(Td,vn("isPip")).on(Sd,vn("isVisible")).on(_d,vn("isDocumentVisible")).on(bd,vn("pausedCauseVisibilityChange")).on(Od,vn("expectedStalled")).on(td,(e,t)=>{return!t||(r=t,!Object(bo.a)(r).length)||t.error&&t.error.isFatal?Tn({},e,{errorInfo:t}):e;var r}).on(rd,vn("lastRecoverPosition")).on(Gc,vn("isOnline")).on(Rd,vn("preview")).on(Pd,vn("watchedTime")).on(Jd,vn("featuresParams")).on($c,vn("playbackRate")).on(Id,vn("tileMetaInfo")).on(zd,vn("videoElementStyle")).on(Xd,(e,t)=>{if(void 0===e.sourceParams)return e;var r=e.sourceParams["promoConfig"];return Tn({},e,{sourceParams:Tn({},e.sourceParams,{promoConfig:(t=t,void 0===(r=r)?t:void 0===t?r:{intro:gn(r.intro,t.intro),preroll:En(r.preroll,t.preroll),midroll:En(r.midroll,t.midroll),postroll:En(r.postroll,t.postroll),inroll:En(r.inroll,t.inroll)})})})}),ad:L({},e.ad).on(Ec,vn("inStreamPlayingState")).on(cc,vn("adConfig")).on(Cd,vn("adSessionWatchedTime")).on(lc,vn("adInfo")).on(Ac,vn("nextAdInfo")).on(uc,vn("originalBroadcastAdCueId")).on(fc,vn("originalBroadcastAdCues")).on(hc,vn("adblockDetected")).on(yc,vn("hasPreroll")).on(wd,vn("watchedTimeSinceAd")).on(vc,(e,t)=>{const r=Object(af.a)(e.originalBroadcastAdCues);return delete r[t],mn({},e,{originalBroadcastAdCues:r})}),skin:L({},e.skin).on(Ld,vn("hiddenControls")).on(Dd,vn("showPreloader")).on(Zd,vn("nativeControlsVisibility")).on(Ud,vn("logoConfig")).on(Kd,vn("contextMenuPosition")).on(Hd,(i="contextMenuVisibility",a=(e,t)=>e.contextMenuVisibilityLock?e.contextMenuVisibility:t,function(e,t){return pn(e,i,a(e,t))})).on(Bd,vn("contextMenuVisibilityLock")).on(Qc,vn("skinDVRStartTime")).on(Jc,vn("skinDVRDuration")).on(Gd,(e,t)=>bn({},e,{seekTapEvent:t})).on(Dh,vn("useNativeSubtitles")).on(Md,vn("settingsVisible")).on(xd,vn("settingsVisibilityBeforeDocumentClick")).on(Fd,vn("settingsPage")).on(Vd,e=>bn({},e,{settingsVisible:!e.settingsVisible})).on(Rh,(e,t)=>pn(e,"title",An(e.title,t))).on(kd,An).on(Xu,yn("volumeChanging",!0)).on(Qu,yn("volumeChanging",!1)).on(yh,vn("skinMouseHovered")).on(mh,vn("controlMouseHovered")).on(Sh,vn("controlTouchStarted")).on(_h,vn("mobileSkinTapped")).on(Ad,yn("controlMouseHovered",!1)).on(Zh,yn("startPositionConfirmation",void 0)).on(Eh,vn("mouseMotionless")).on(ih,yn("seeking",!0)).on(ah,yn("seeking",!1)).on(Ah,vn("mouseMotionlessTimeoutId")).on(Yd,vn("brandIntroState")).on(gh,vn("skinVisibilityOnInit")).on(kh,vn("verticalTouchDistance")).on(Lh,vn("horizontalTouchDistance")).on(xh,vn("timelineTouchStarted")).on(Hh,(e,t)=>{var{url:r,state:t}=t;return pn(e,"timelinePreviewImages",pn(e.timelinePreviewImages,r,t))}).on(Kh,(e,t)=>pn(e,"timelinePreviewImages",function(e,t){return Object(op.a)(e,t)?function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,[t].map(_n)):e}(e.timelinePreviewImages,t))).on(Yh,yn("timelinePreviewImages",{})).on(Qh,vn("logoWidget")).on($h,(e,t)=>pn(e,"logoWidget",e.logoWidget?pn(e.logoWidget,"action",pn(e.logoWidget.action,"status",t)):void 0)).on(Jh,(e,t)=>pn(e,"logoWidget",e.logoWidget?pn(e.logoWidget,"forceExpanded",t):void 0)).on(zh,vn("focusRestorationExpected")),externalPlayback:L({},e.externalPlayback).on(Iu,vn("externalPlayerConfig")).on(Nu,vn("externalPlaybackPossible")).on(Wu,vn("externalPlaybackActivatedPopupVisible")).on(xu,vn("playerListStatus")).on(ju,vn("playerCsrfToken")).on(Gu,(e,t)=>{let{id:r,status:n}=t;return pn(e,"playerList",e.playerList.map(e=>e.id===r?pn(e,"status",n):e))}).on(Bu,vn("playerList")),sharing:L({},e.sharing).on(np,e=>An(e,Sn({},ap))).on(ip,(e,t)=>An(e,t)),features:n});var i,a}function Rn(t,e){const r=(l=(c=void 0===(l={onError(e){t.publicApi.getStats().errorToStats(new Gs(e,{code:Ws.a.SAGA_ERROR,isFatal:!1}))}})?{}:l).context,d=void 0===l?{}:l,l=c.channel,u=void 0===l?Oe():l,h=c.sagaMonitor,f=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(c,["context","channel","sagaMonitor"]),o.run=function(){return s.apply(void 0,arguments)},o.setContext=function(e){fu(d,e)},o),n=function(e){let t=null;return ee(e,Object(sp.batchedSubscribe)(e=>{t=t||Promise.resolve().then(()=>{t=null,e()})}))}((window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee)(function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return function(i){return function(){var e=i.apply(void 0,arguments),t=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r={getState:e.getState,dispatch:function(){return t.apply(void 0,arguments)}},n=a.map(function(e){return e(r)});return $({},e,{dispatch:t=ee.apply(void 0,n)(e.dispatch)})}}}(r))),i=X(On(e),n),a=hn(t,e);function o(e){var t=e.getState,e=e.dispatch;return s=function(e,t){for(var r=void 0===(s=e.channel)?Oe():s,n=e.dispatch,i=e.getState,a=void 0===(s=e.context)?{}:s,o=e.sagaMonitor,s=e.effectMiddlewares,e=e.onError,e=void 0===e?ie:e,c=arguments.length,d=new Array(2<c?c-2:0),l=2;l<c;l++)d[l-2]=arguments[l];var u,h=t.apply(void 0,d),f=++Su;o&&(o.rootSagaStarted=o.rootSagaStarted||hu,o.effectTriggered=o.effectTriggered||hu,o.effectResolved=o.effectResolved||hu,o.effectRejected=o.effectRejected||hu,o.effectCancelled=o.effectCancelled||hu,o.actionDispatched=o.actionDispatched||hu,o.rootSagaStarted({effectId:f,saga:t,args:d})),s=s?(u=ee.apply(void 0,s),function(n){return function(e,t,r){return u(function(e){return n(e,t,r)})(e)}}):Dl;var p={channel:r,dispatch:Fl(n),getState:i,sagaMonitor:o,onError:e,finalizeRunEffect:s};return Ee(function(){var e=Ie(p,h,a,f,oe(t),!0,void 0);return o&&o.effectResolved(f,e),e})}.bind(null,te({},f,{context:d,channel:u,dispatch:e,getState:t,sagaMonitor:h})),function(r){return function(e){h&&h.actionDispatched&&h.actionDispatched(e);var t=r(e);return u.put(e),t}}}var s,c,d,l,u,h,f;return r.run(a),i}function Pn(e){var{controller:{currentTime:i,videoType:a},skin:{skinDVRStartTime:o,skinDVRDuration:s}}=e;return function(){var{videoType:e,currentTime:t,dvrStartTime:r,dvrDuration:n}={videoType:a,currentTime:i,dvrDuration:s,dvrStartTime:o},r=Object(lp.a)({videoType:e,currentTime:t,dvrDuration:n,dvrStartTime:r});return r.low&&!r.high?up:r.high&&!r.low?hp:Bf.b}()}function wn(e){e=lt(e);return e===zs.inrollOverlay||e===zs.overlay}function Cn(e){var t=lt(e);return Boolean(t)&&!wn(e)}function In(e){return Object(fo.a)(e)&&e.isProxyElement}function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kn(e){var t=Object(fo.a)(Vp)?Vp.additional:void 0;return Nn({},Vp,{additional:Nn({},t,e)})}function Ln(){Object(wp.a)()&&!Bp.sourceStart&&(Object(Cp.a)(Ip.autoplayFalse),Bp.sourceStart=!0)}function Dn(e){var{reason:t="unknown"}=e,e=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,["reason"]);Object(wp.a)()&&!Bp.sourceStart&&(Object(Cp.a)(Ip.firstStartAdSDKFailed,void 0,void 0,Nn({reason:t},e)),Bp.sourceStart=!0)}function jn(e,t){var r;Object(wp.a)()&&!Bp.sourceStart&&((r=0===Up)&&t?Object(Rp.b)(Mp[e]):r?Object(Rp.b)(jp[e]):t?Object(Rp.b)(Fp[e]):Object(Rp.b)(xp[e]))}function Mn(e,t,r){var n,i;Object(wp.a)()&&!Bp.sourceStart&&(0===Up?(n=(r?kp:Np)[e],i=(r?Mp:jp)[e],Object(Cp.a)(n,void 0,!1,{additional:t}),Object(Rp.a)(i,{additional:t})):r?Object(Rp.a)(Fp[e],kn(t)):Object(Rp.a)(xp[e],kn(t)),Bp.sourceStart=!0)}function xn(e,t,r){Object(wp.a)()&&!Bp.yaFirstFrameDecoded&&(r&&"AD"!==e||0===Up&&(Bp.yaFirstFrameDecoded=!0,Object(Cp.a)(Lp[e],void 0,!1,{additional:t})))}function Fn(e,t,r){Object(wp.a)()&&!Bp.yaFirstFrameShown&&(r&&"AD"!==e||0===Up&&(Bp.yaFirstFrameShown=!0,Object(Cp.a)(Dp[e],void 0,!1,{additional:t})))}function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bn(e){if(Object(fo.a)(e)){var{servers:t,advanced:e}=e;return Object(fo.a)(t)&&Object(Sl.a)(t["com.apple.fps.1_0"])&&Object(fo.a)(e)&&Object(fo.a)(e["com.apple.fps.1_0"])&&Object(Sl.a)(e["com.apple.fps.1_0"].processSPCPath)}}function Hn(e){const t=Object.values;if("function"==typeof t)return t(e);{const t=[];for(const r in e)Object(op.a)(e,r)&&t.push(e[r]);return t}}function Kn(){return(Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function Yn(e){return Ja||ro.a||$a.b?{supportedDrmSystems:["com.microsoft.playready"],detectionMethod:Rv.Constant}:Ev.a&&!(gv||mv||Av||za)?{supportedDrmSystems:[],detectionMethod:Rv.YandexBrowserLinux}:function(e){if(Object(yv.a)(e)){var t=Object(Do.a)(e);if(!t||!Object(Tv.a)(e)){var[r,n,i,a]=function(e){const t=Object(Ga.a)(e);if(!Object(yv.a)(e))return Ov;e=t.split("YaBrowser/")[1].split(" ")[0].split(".").map(Number);return e.length<4?Ov:[e[0],e[1],e[2],e[3]]}(e);if(r<18)return 1;if(18===r){if(4<n)return;if(t&&i<3)return 1;if(Object(vv.a)(e)&&(i<1||!a||a<=526))return 1}}}}()?{supportedDrmSystems:[],detectionMethod:Rv.OldYandexBrowser}:window.WebKitMediaKeys?{supportedDrmSystems:function(){const t=[];return[rv,nv].forEach(e=>{window.WebKitMediaKeys.isTypeSupported(e,"video/mp4")&&t.push(e)}),t}(),detectionMethod:Rv.WebKitMediaKeys}:"function"==typeof window.navigator.requestMediaKeySystemAccess?{supportedDrmSystems:await async function(){const t=[],r=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}];return await Promise.all(bv.map(async e=>{try{await window.navigator.requestMediaKeySystemAccess(e,r),t.push(e)}catch(e){}})),t}(),detectionMethod:Rv.requestMediaKeySystemAccess}:"function"==typeof window.MSMediaKeys?{supportedDrmSystems:function(){const t=[];return bv.forEach(e=>{window.MSMediaKeys.isTypeSupported(e)&&t.push(e)}),t}(),detectionMethod:Rv.MSMediaKeys}:e.video.webkitGenerateKeyRequest?{supportedDrmSystems:function(e){let t=e["video"];const r=[];return bv.forEach(e=>{t.canPlayType("video/mp4",e)&&r.push(e)}),r}(e),detectionMethod:Rv.GenerateKeyRequest}:{supportedDrmSystems:[],detectionMethod:Rv.NotAvailable}}function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}async function Wn(e){const{stream:t,video:r,preferNative:n}=e,{drmConfig:i,url:a}=t,o=tv(a),s=ev(a),c="mp4"===Object(Io.c)(Object(Io.d)(t.url.toLowerCase()));if(In(r)){if("orsay"===r.proxyElementType)return d=e=(d={streamUrl:a}).streamUrl,/\.ism(c|l)?\/manifest[^\.]*(\.ismc)?$/i.test(Object(Io.g)(d.toLowerCase()).pathname)||ev(e)?{supported:!0,engine:Gf.NATIVE}:{supported:!1,noSupportReason:Qp.a.NO_SUPPORTED_FORMAT};if("avplay"===r.proxyElementType)return function(e){var{streamUrl:t,drmConfig:e}=e;if(ev(t)&&Object(fo.a)(e))return $p.c;if(tv(t))return $p.d;if(Object(fo.a)(e)){const{servers:r={}}=e;if(!r["com.microsoft.playready"])return $p.c}return{supported:!0,engine:Gf.NATIVE}}({streamUrl:a,drmConfig:i})}var d,l,u,h;return c?kv.canPlayType('video/mp4;codecs="avc1.4D481F"')?{supported:!0,engine:Gf.MP4}:$p.a:o||s?(l=In(r)&&"webos"===r.proxyElementType?(u=a,tv(u)||ev(u)?{supported:!0,engine:Gf.NATIVE}:{supported:!1,noSupportReason:Qp.a.NO_SUPPORTED_FORMAT}):In(r)&&"playstation"===r.proxyElementType?(u=a,tv(u)||ev(u)?{supported:!0,engine:Gf.NATIVE}:{supported:!1,noSupportReason:Qp.a.NO_SUPPORTED_FORMAT}):o?void 0===ov?$p.b:ov.isTypeSupported('video/mp4;codecs="avc1.42C028"')&&ov.isTypeSupported('video/mp4;codecs="avc1.42C01F"')?{supported:!0,engine:Gf.MPD}:$p.a:(h={stream:t,preferNative:n},void 0===ov?Xp.a?lv:$p.b:ov.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')?Xp.a?{supported:!0,engine:(l=h).preferNative||cv||sv.a||dv.a.isSmartTV()&&!qa||Bn(l.stream.drmConfig)?Gf.NATIVE:Gf.HLS}:Bn(h.stream.drmConfig)?$p.c:uv:Xp.a?lv:$p.a)).supported?await(!!function(e){try{return Boolean(e.yandexPlayerSupported)}catch(e){return}}((h={video:r,stream:t,playerVersion:"1.0-6101"}).video)&&async function(e){try{return Object(av.a)(us.b.isYandexPlayerSupported)||await new Promise((e,t)=>{us.b.onYandexPlayerSupportedAvailable=e,setTimeout(t,5e3)}),us.b.isYandexPlayerSupported(e)}catch(e){return!1}}(h))&&Object($p.f)(l)?Gn({},l,{engine:Gf.YANDEX}):!Object(fo.a)(i)||await async function(e,t){var{servers:e={}}=e;if(0===(e=Object(bo.a)(e)).length)return!1;const r=await Nv({video:t});return qp(e,e=>{return t=r,e=e,-1!==Object(fv.a)(t,e);var t})}(i,r)?l:$p.c:l:$p.d}async function Zn(n){if(0===n.streams.length)return{status:"error",error:new Gs({code:Ws.a.NO_STREAMS,details:{},isFatal:!0}),streamsWithSupportInfo:[]};var e,t=await function(){let{streams:e,video:t,preferNative:r}=n;return Promise.all(e.map(async e=>({stream:e,supportInfo:await Wn({stream:e,video:t,preferNative:r})})))}(),r=function(e){const t=Object(Lv.a)(e);if(0!==t.length){if(dv.a.isSmartTV())return function(e){const{mpd:t,m3u8:r,mss:n}={mpd:(e=e).filter(e=>{var e=e["stream"];return"mpd"===Object(Io.c)(e.url)}),m3u8:e.filter(e=>{var e=e["stream"];return"m3u8"===Object(Io.c)(e.url)}),mss:e.filter(e=>{var e=e["stream"];return!["mpd","m3u8"].includes(Object(Io.c)(e.url))})},i=[...t,...n,...r];return i.find(e=>{var e=e["stream"];return Object(fo.a)(e.drmConfig)})||i[0]}(t);var r=t.find(e=>{var e=e["stream"];return Object(fo.a)(e.drmConfig)});if(r)return r;e=t.find(e=>{var e=e["supportInfo"];return e.engine===Gf.NATIVE}),r=t.find(e=>{var e=e["supportInfo"];return e.engine===Gf.MPD});return sv.a&&e?e:r||t.find(e=>{var e=e["supportInfo"];return e.engine!==Gf.MP4})||t[0]}}(t);return r?{status:"success",supportedStream:r,streamsWithSupportInfo:t}:{status:"error",error:(r=(e=t).filter(Jp.a).map(e=>{var e=e["supportInfo"];return e.noSupportReason}),e={details:{streams:e},isFatal:!0},qp(r,e=>e===Qp.a.NO_SUPPORTED_DRM)?new Gs(Un({},e,{code:Ws.a.NO_DRM})):qp(r,e=>e===Qp.a.NO_CODECS)?new Gs(Un({},e,{code:Ws.a.NO_CODECS})):!qp(r,e=>e===Qp.a.NO_MSE)||Xp.a?new Gs(Un({},e,{code:Ws.a.NO_PLAYABLE_STREAMS})):new Gs(Un({},e,{code:Ws.a.NO_MSE}))),streamsWithSupportInfo:t}}function zn(e){return Object(Io.a)(e,"t",String(Date.now()))}function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xn(e){var{additionalParams:t=pp.a}=e;if(Object(fo.a)(e.adConfig)){var{partnerId:r,adBreaks:n}=e.adConfig;return r||n?qn({},e.adConfig,{additionalParams:t}):void 0}}function Qn(t){if(void 0===t||isNaN(t))return"unknown";for(let e=0;e<jv.length;e++)if(t<jv[e].end)return jv[e].name;return"unknown"}function Jn(e,t){if(e.includes(t))return t}function $n(e){return Object(Mv.a)()?Math.ceil(e):e}function ei(e){return"number"==typeof e&&Fv.b<=e&&e<=Fv.a}function ti(e,t,r){return r<e?r:e<t?t:e}function ri(e){return"0123456789abcdef".charAt(e/16<<0)+"0123456789abcdef".charAt(e%16)}function ni(e,t){var n,{r,g:i,b:e}=e;return n=[r,i,e],function(){var[e,t,r]=n;return(299*e+587*t+114*r)/1e3}()>(void 0===(t=void 0===t?127:t)?127:t)}function ii(e){return"string"==typeof e&&7===e.length&&"#"===e[0]&&function(t){for(let e=0;e<t.length;e++)if("0123456789abcdef".indexOf(t[e].toLowerCase())<0)return;return 1}(e.substr(1))}function ai(e){var[t,e,r]=(r=e,[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]);return{r:t,g:e,b:r}}function oi(e){var{r:n,g:i,b:a}=e;return function(){var[e,t,r]=[n,i,a];return"#"+ri(e)+ri(t)+ri(r)}()}function si(e,t){var[r,e,t]=function(e,t){var[r,n,e]=e,[n,e]=function(e,t,r){e/=255,t/=255,r/=255;var n=Math.max(e,t,r),i=Math.min(e,t,r),a=n-i;let o=0;return n===i?o=0:e===n?o=(t-r)/a:t===n?o=2+(r-e)/a:r===n&&(o=4+(e-t)/a),o=Math.min(60*o,360),o<0&&(o+=360),t=(i+n)/2,[o,100*(n===i?0:t<=.5?a/(n+i):a/(2-n-i)),100*t]}(r,n,e);return function(t,e,r){let n,i;if(t/=360,r/=100,0==(e/=100))return n=255*r,[n,n,n];const a=2*r-(i=r<.5?r*(1+e):r+e-r*e),o=[0,0,0];let s;for(let e=0;e<3;e++)s=t+1/3*-(e-1),s<0&&s++,1<s&&s--,n=6*s<1?a+6*(i-a)*s:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a,o[e]=255*n;return o}(n,e,t)}([e.r,e.g,e.b],100*t);return{r:r,g:e,b:t}}function ci(){return(ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function di(e,t){t=new Gs({code:Ws.a.INVALID_PLAYBACK_RATE_VALUE,isFatal:!1,details:{rate:t}});hs.a.error(t),e.error({error:t})}function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ui(e,t){try{e.details||(e.details={}),e.details.stage=t}catch(e){}}function hi(e,t,r){var n,e=(n=e,e=r,Object(yv.a)(n)?function(e){void 0===n&&(e=window);e=Object(Ga.a)(e).match(/YaBrowser\/([\d.]+)/),e=e&&e[1]||"";return e?parseFloat(e):-1}(n)<18.6?"pip":"x-yandex-pip":"disablePictureInPicture"in e?"disablePictureInPicture":void 0);e&&(t?r.removeAttribute(e):r.setAttribute(e,"true"))}function fi(e,t){e!==t&&(t.volume=e.volume,t.muted=e.muted)}function pi(e){let t;void 0===e&&(e=window);try{t=e.devicePixelRatio}catch(e){}return t||1}function vi(e){if(void 0!==e){var{level:t,start:r,duration:n,url:i,relurl:a,sn:o,programDateTime:s,deltaPTS:c,dropped:d,endDTS:l,endPTS:u,startDTS:h,startPTS:e}=e;return{level:t,start:r,duration:n,url:i,relurl:a,sn:o,programDateTime:s,deltaPTS:c,dropped:d,endDTS:l,endPTS:u,startDTS:h,startPTS:e}}}function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gi(e){var{details:t,networkDetails:e}=e;if(451===(e?e.status:NaN))switch(t){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:return Ws.a.REGIONAL_LIMITATION_MANIFEST;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:return Ws.a.REGIONAL_LIMITATION_LEVEL;case Hls.ErrorDetails.FRAG_LOAD_ERROR:return Ws.a.REGIONAL_LIMITATION_SEGMENT;default:return}}function Ei(e){return void 0!==gi(e)}function Ai(e){var{details:t,fatal:r}=e;return t?!py.includes(t)&&(!!Ei(e)||Boolean(r)):Boolean(r)}function Ti(e){if(void 0!==e){var t=e["details"];if(t!==Hls.ErrorDetails.BUFFER_STALLED_ERROR){var r=Ai(e)&&!Si(e),n=gi(e)||t||Ws.a.DEFAULT_ERROR,{err:{stack:i=new Error((i=e,t=n,void 0===i.err||void 0===i.err.message?"MISSED_STACK__"+t:i.err.message)).stack}={stack:void 0}}=e;return new Gs({code:n,isFatal:r,details:mi({},function(e){try{return JSON.parse(Object(dy.a)(yi({},e,{networkDetails:void 0,frag:vi(e.frag)})))}catch(e){return{message:Object(wo.a)(()=>e.message)||"Cannot serialize hlsJsError"}}}(e),{networkErrorStatus:function(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.status:void 0}(e),xhrReadyState:function(e){if(e.type===Hls.ErrorTypes.NETWORK_ERROR)return e.networkDetails?e.networkDetails.readyState:void 0}(e)}),stack:i})}}}function Si(e){return!Ei(e)&&e.details&&uy.includes(e.details)}function _i(e){var e=e["details"];return!!e&&fy.includes(e)}function bi(e){e=e.split("x");if(!(e.length<2)){e={rows:parseInt(e[0],10),columns:parseInt(e[1],10)};return isNaN(e.rows)||isNaN(e.columns)?void 0:e}}function Oi(e,t){var{rows:r,columns:n}=e;if(!r||!n)return null;var{width:e,height:t}=t;return{width:Object(ds.i)(e/n),height:Object(ds.i)(t/r)}}function Ri(e,t){return 0===e.rows||0===e.columns?Object(ds.j)(0):Object(ds.j)(t/(e.rows*e.columns))}function Pi(e,t){if(0!==Object.keys(e).length){const{uri:i,duration:a,resolution:o,tiles:s}=e;if([i,a,o,s].some(e=>!Boolean(e)))t&&t("NonValidHLSThumbnailTileSessionData");else{var r=bi(s),n=function(e){if(""!==e){var[t,e]=e.split("x"),e={width:Object(ds.i)(parseInt(t,10)),height:Object(ds.i)(parseInt(e,10))};return isNaN(e.width)||isNaN(e.height)?void 0:e}}(o),e=Object(ds.j)(parseFloat(a));if(void 0!==r&&void 0!==n&&!isNaN(e))return{tiles:r,uriTemplate:i,spriteDuration:e,resolution:n,tileSize:Oi(r,n),tileDuration:Ri(r,e)};t&&t("MapTileSessionDataParseError")}}}function wi(e,t,r){const n=t===yy.LOWRES?my:gy,{VALUE:i=""}=e[n.tiles]||{},{VALUE:a=""}=e[n.duration]||{},{VALUE:o=""}=e[n.resolution]||{},{VALUE:s=""}=e[n.uri]||{},c=[i,a,o,s];if(!c.every(e=>""===e)){if(!c.some(e=>""===e))return{tiles:i,duration:a,resolution:o,uri:s};r&&r("NonValidHLSSessionData")}}function Ci(e){e=e.match(Ey);if(e)return{width:Object(ds.i)(parseInt(e[1],10)),height:Object(ds.i)(parseInt(e[2],10)),bitrate:Object(ds.f)(parseInt(e[3],10))}}function Ii(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function Ni(e){if(void 0!==e)return{name:e.name,value:String(e.id),lang:e.lang||""}}function ki(e){var{width:t,height:r,bitrate:e}=e;return t+"x"+r+"@"+e}function Li(e,t,r){if(void 0!==e){var{height:n,width:i,url:a,bitrate:o}=e;return Array.isArray(a)?{name:function(e,t){var{attrs:r={},width:n,height:i}=e;if(!Object(_o.a)(i))return"";var a=i+"p";return Object(_o.a)(n)?(e=ki({width:n,height:i,bitrate:Object(ds.e)(r["AVERAGE-BANDWIDTH"]?parseInt(r["AVERAGE-BANDWIDTH"],10):e.bitrate)}),void 0===(e=t.get(e))?a:e):a}(e,r),value:a[0],width:i,height:n,deepHD:function(e,t){if(!(r=e["attrs"]))return!1;var{RESOLUTION:e,BANDWIDTH:r}=r;return t.has(e+"@"+r)}(e,t),bitrate:o?Object(ds.b)(Object(ds.e)(o),1e3):_f}:void 0}}function Di(e,t){let{name:r,lang:n}=t;return(r?e.find(e=>e.name===r):void 0)||(n?e.find(e=>e.lang===n):void 0)}function ji(e,t){let{name:r,height:n}=t;t=r?e.find(e=>e.name===r):void 0;return t||(void 0!==n?function(n,i){if(!(n.length<1)){let[t]=n,r=i(t);for(let e=1;e<n.length;e++){var a=n[e],o=i(a);o-r<0&&(t=a,r=o)}return t}}(e.filter(e=>{var e=e["height"];return void 0!==e}),e=>{var e=e["height"];return Math.abs(e-n)}):void 0)}function Mi(e){if(e&&e.cues)for(;0<e.cues.length;)e.removeCue(e.cues[0])}function xi(e){return void 0!==e&&Object(_o.a)(e)&&0<=e}function Fi(e){var t=e["type"];return t===cs.a.VOD||!1===e.live?cs.a.VOD:t===cs.a.EVENT?cs.a.EVENT:cs.a.LIVE}function Vi(e){var t=pi();return{width:(e.width||e.clientWidth||e.offsetWidth)*t,height:(e.height||e.clientHeight||e.offsetHeight)*t}}function Ui(e){let{skin:{hiddenControls:t}}=e;return!t.includes(ys.b.TIMELINE)}function Bi(t){const r=[];for(let e=0;e<t.length;e++)"subtitles"===t[e]["kind"]&&r.push(t[e]);return r}function Hi(e){return e?"showing":"hidden"}function Ki(e){isNaN(e)||(e={bandwidthEstimate:Object(ds.e)(Math.floor(e)),time:Object(Fy.a)()},pv.a.setItem("videolayer-bandwidth-estimate",JSON.stringify(e)))}function Yi(e,t){return e.startTime+e.duration-t.startTime+t.duration}function Gi(e,t){var e=e["paused"];return t?ss.a.BUFFERING:e?ss.a.PAUSE:ss.a.PLAY}function Wi(e,t){gv&&$v<81&&77<$v&&Object(ds.j)(e.duration)-t<Gy&&(t=Object(ds.d)(Object(ds.j)(e.duration),Gy)),e.currentTime=t}function Zi(){return(Zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zi(){return(zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qi(e){if(void 0!==e){var{id:t,label:r,language:e}=e;return{name:r||e,value:t,lang:e||""}}}function Xi(e){e=Object(uo.a)(e.audioTracks).find(e=>e.enabled);return e?qi(e):void 0}function Qi(e){if(void 0!==e){var{id:t,label:r,language:n,bitrate:i=_f,deepHD:a=!1,height:o=0,width:e=0}=e;return{name:r||n,value:t,deepHD:a,bitrate:i,height:o,width:e}}}function Ji(e){e=Object(uo.a)(e.videoTracks).find(e=>e.selected);return e?Qi(e):void 0}function $i(e){return"subtitles"===e.kind&&"StreamPlayerJs TextTrack"!==e.label}function ea(e,t){if(void 0!==e){var{id:r,label:n,language:e}=e;return{name:n||e,value:void 0!==r&&""!==r?r:"index:"+t,lang:e||""}}}function ta(e){const t=[];return Object(uo.a)(e).forEach(e=>{e=qi(e);e&&t.push(e)}),t}function ra(e){const r=[];return Object(uo.a)(e).forEach((e,t)=>{!$i(e)||(t=ea(e,t))&&r.push(t)}),r}function na(e){const t=[];return Object(uo.a)(e).forEach(e=>{e=Qi(e);e&&t.push(e)}),t.filter(e=>{var e=e["value"];return"auto"!==e})}function ia(e,t){return t.code===e.util.Error.Code.BAD_HTTP_STATUS&&t.data[1]||0}function aa(){return(aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oa(e){return{error:String(e.error)||"",isFatal:Boolean(e.isFatal)}}function sa(t){if("string"==typeof t)try{return oa(JSON.parse(t))}catch(e){return aa({},tm,{error:t})}return"object"==typeof t?oa(t):tm}function ca(e){return new Gs({isFatal:e.isFatal,code:e.error===nm.EXPIRED_SIGNATURE?Ws.a.DRM_PROXY_ERROR_SIGNATURE_EXPIRED:Ws.a.DRM_PROXY_ERROR,details:{drmProxyError:e.error}})}function da(n,i){if(i){const{code:o,severity:s,data:c}=i;let e="shaka."+function(e,t){let r;for(r in e.util.Error.Code)if(e.util.Error.Code.hasOwnProperty(r)&&t.code===e.util.Error.Code[r])return r;return"ERROR"}(n,i)+"_"+o,t=c,r=s===n.util.Error.Severity.CRITICAL;switch(d){case n.util.Error.Category.NETWORK:t.networkErrorStatus=ia(n,i);const s=function(e,t){if(t.code===e.util.Error.Code.BAD_HTTP_STATUS&&451===ia(e,t))switch(t.data[t.data.length-1]){case e.net.NetworkingEngine.RequestType.MANIFEST:return Ws.a.REGIONAL_LIMITATION_MANIFEST;case e.net.NetworkingEngine.RequestType.SEGMENT:return Ws.a.REGIONAL_LIMITATION_SEGMENT;default:return}}(n,i);void 0===s?e+=function(r,e){switch(e.code){case r.util.Error.Code.BAD_HTTP_STATUS:case r.util.Error.Code.HTTP_ERROR:case r.util.Error.Code.TIMEOUT:var t=function(e){var t=r.net.NetworkingEngine["RequestType"];switch(e){case t.APP:return"APP";case t.LICENSE:return"LICENSE";case t.MANIFEST:return"MANIFEST";case t.SEGMENT:return"SEGMENT";case t.TIMING:return"TIMING";default:return}}(e.data[e.data.length-1]);return void 0===t?"_UNKNOWN":"_"+t;default:return""}}(n,i):e=s;break;case n.util.Error.Category.DRM:const d=c[0];if(!d||!em(d))break;var a=ca(rm(d));e=a.code,t=a.details,r=r||a.isFatal;break;case n.util.Error.Category.PLAYER:if(o===n.util.Error.Code.LOAD_INTERRUPTED)return;break;case n.util.Error.Category.CAST:case n.util.Error.Category.STORAGE:}return new Gs({code:e,isFatal:r,details:t})}}function la(u,h){return function(e){const t=h===yy.HIGHRES?cm:dm,r=e.querySelector(t.version);if(r&&"2"===r.getAttribute("value")){const s=e.querySelector(t.tiles),c=e.querySelector(t.uriTemplate),d=e.querySelector(t.spriteDuration),l=e.querySelector(t.resolution);if(s&&c&&d&&l){var n=s.getAttribute("value"),i=c.getAttribute("value"),a=Object(ds.j)(parseFloat(d.getAttribute("value")||"")),o=l.getAttribute("value");if(n&&o&&i&&!isNaN(a)){e=function(){var e=o.split("x");if(!(e.length<2)){e={width:Object(ds.i)(parseInt(e[0],10)),height:Object(ds.i)(parseInt(e[1],10))};return isNaN(e.width)||isNaN(e.height)?void 0:e}}();if(e){n=bi(n);if(n)return{tiles:n,uriTemplate:i,spriteDuration:a,resolution:e,tileSize:Oi(n,e),tileDuration:Ri(n,a)}}}}}}(u)||function(e){const r=u.querySelectorAll('AdaptationSet[mimeType="image/jpeg"]');let n=r[0];if(n){if(e===yy.LOWRES){let t;if(r.forEach(e=>{e.querySelector('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:type"][value="'+yy.LOWRES+'"]')&&(t=e)}),!t)return;n=t}const c=n.querySelector("SegmentTemplate"),d=n.querySelector("Representation"),l=n.querySelector("EssentialProperty");if(c&&d&&l){var t=l.getAttribute("value"),i=c.getAttribute("media"),a=Object(ds.j)(parseFloat(c.getAttribute("duration")||"")),o=parseFloat(d.getAttribute("width")||""),s=parseFloat(d.getAttribute("height")||""),e={width:Object(ds.i)(o),height:Object(ds.i)(s)};if(t&&i&&a&&o&&s){t=bi(t);if(t)return{tiles:t,uriTemplate:i,spriteDuration:a,resolution:e,tileSize:Oi(t,e),tileDuration:Ri(t,a)}}}}}(h)}function ua(e){return(e.getAttribute("id")||"")+"@"+(e.getAttribute("width")||"")+"x"+(e.getAttribute("height")||"")+";"}function ha(e){return Object(uo.a)(e.querySelectorAll("Representation")).map(ua).sort()}function fa(e,t){return e.getAll().find(e=>e.pathname===t)}function pa(e){return/init-.*\.mp4/.test(e)}function va(e,t){if(t&&e){t=e.querySelector('AdaptationSet > Representation[id="'+t+'"]');if(t){const r=t.parentElement;if(r){const n=r.getAttribute("lang");return n?n.toLowerCase():void 0}}}}function ma(e){if(void 0!==e){var t=e.getManifest();if(t){e=e.getMediaElement();if(e){var r=e["currentTime"],{periods:n=[]}=t;for(let e=0;e<n.length-1;e++)if(n[e].startTime<r&&r<n[e+1].startTime)return n[e];return n[n.length-1]}}}}function ga(e){try{return e.getVariantTracks().find(ym)}catch(e){return}}function Ea(e){const t=ga(e);if(t){const r=ma(e);return r?r.variants.find(e=>t.id===e.id):void 0}}function Aa(e){return void 0!==e&&null!==e.getManifest()}function Ta(e,t){let r=Object(ds.j)(0);if(!Aa(e))return r;if(void 0===t){const n=e.getMediaElement();if(!n)return r;t=Object(ds.j)(n.currentTime)}const n=function(e,t){const r=Ea(e);if(!r||!r.video)return null;try{const e=r.video.findSegmentPosition(t);return Object(_o.a)(e)?r.video.getSegmentReference(e):null}catch(e){return null}}(e,t);if(n){const{startTime:e,endTime:t}=n;r=Object(ds.d)(t,e)}return r}function Sa(e){e=Ea(e);if(e&&e.video)return e.video.presentationTimeOffset}function _a(e){if(Aa(e)){if(!e.isLive())return cs.a.VOD;e=Sa(e);return void 0===e?void 0:0===e?cs.a.LIVE:cs.a.EVENT}}function ba(e){if(void 0!==e){if(_a(e)===cs.a.LIVE)return Object(ds.j)(0);var t=Sa(e);return void 0!==t&&0<t?Object(ds.d)(t,Ta(e)):void 0}}function Oa(e){if(void 0!==e){var t=ba(e);if(void 0!==t){e=e.getMediaElement();return e?Object(ds.a)(t,Object(ds.j)(e.currentTime)):void 0}}}function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wa(e){return String.fromCharCode(...Array.from(e))}function Ca(e){return e.charCodeAt(0)}function Ia(e){return Array.from(e,Ca)}function Na(e){var{id:t,method:r,params:e}=e;return JSON.stringify({jsonrpc:"2.0",id:t,method:r,params:e})}function ka(e){if(!("params"in e))return[];if(!Array.isArray(e.params))throw new Error("Expect #params to be and array if present in "+JSON.stringify(e));return e.params}function La(e){if(Object(_o.a)(e.id)){if(Math.floor(e.id)!==e.id)throw new Error("Expect #id to be an integer if it's a number in "+JSON.stringify(e));return e.id}if(Object(Sl.a)(e.id)||null===e.id)return e.id;throw new Error("Expect #id to be an integer, string or null (not recommended) in "+JSON.stringify(e))}function Da(e){if(!("id"in e))throw new Error("Expect #id to present in rpc response "+JSON.stringify(e));return La(e)}function ja(e){var t,r=function(e){var t=Object(wo.a)(()=>JSON.parse(e));if(!Object(fo.a)(t))throw new Error("Can't parse \""+e+'" as object');return t}(e);if("2.0"!==r.jsonrpc)throw new Error("Expect "+e+" to be and json-rpc v2 message");if(Object(Sl.a)(r.method))return"id"in(t=r)?{jsonrpc:t.jsonrpc,method:t.method,params:ka(t),id:La(t)}:{jsonrpc:t.jsonrpc,method:t.method,params:ka(t)};if("result"in r)return{jsonrpc:r.jsonrpc,result:r.result,id:Da(r)};if("error"in r)return{jsonrpc:(r=r).jsonrpc,error:function(e){if("object"!=typeof e.error||null===e.error)throw new Error("Expect #error to be an object in "+JSON.stringify(e));var t=e.error;if(!Object(_o.a)(t.code))throw new Error("Expect #error#code to be an number in "+JSON.stringify(e));if(!Object(Sl.a)(t.message))throw new Error("Expect #error#message to be an string in "+JSON.stringify(e));return"data"in t?{code:t.code,message:t.message,data:t.data}:{code:t.code,message:t.message}}(r),id:Da(r)};throw new Error("Expect "+e+" to be and json-rpc v2 message")}function Ma(t){const r=document.createElement("link");return r.rel="preload",r.as="script",new Promise(e=>{r.onload=e,r.href=t,r.crossOrigin="anonymous",Hm.appendChild(r)}).then(ho.a)}function xa(e){if(Wm.test(e)){const[,t]=e.match(Wm);if(Zm.test(t))return Object(ds.h)(0);const r=t.split("+").map(e=>e.trim());return r.every(e=>Ym.test(e))?Object(ds.h)(r.reduce((e,t)=>e+xa(t),0)):Object(ds.h)(0)}if(!Ym.test(e))return Object(ds.h)(0);const t=parseFloat(e),r=Gm.test(e);return Object(ds.h)(r?t:t*Co.a)}function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Va(){return(Va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ua(e){return"videoplayer-iframe-api-raa-cache-"+e.autoplay+"-"+e.allowMuted+"-"+e.muted}function Ba(){return(Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ha(){return(Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.r(t),r.d(t,"createJsPlayer",function(){return sg});var Ka={};r.r(Ka),r.d(Ka,"add",function(){return m}),r.d(Ka,"remove",function(){return E}),r.d(Ka,"has",function(){return A}),r.d(Ka,"check",function(){return T}),r.d(Ka,"all",function(){return S}),r.d(Ka,"clear",function(){return _}),r.d(Ka,"enableChecking",function(){return b}),r.d(Ka,"disableChecking",function(){return O});var Ya={};r.r(Ya),r.d(Ya,"actionTransformer",function(){return D}),r.d(Ya,"logger",function(){return sc});var Ga=r(19);const Wa=function(e){return void 0===e&&(e=window),-1<Object(Ga.a)(e).toLowerCase().indexOf("tizen")},Za=function(e){e=n(e=void 0===e?window:e);return 2===e.major&&3===e.minor},za=Wa(),qa=Za(),Xa=function(e){e=n(e=void 0===e?window:e);return 2===e.major&&4===e.minor}(),Qa=function(e){void 0===e&&(e=window);const t=Object(Ga.a)(e).toLowerCase();return-1<t.indexOf("maple2012")&&-1<t.indexOf("smarttv")},Ja=Qa();var $a=r(105),eo=r(311),to=r(309),ro=r(139),no=r(92),io=r(162);const ao=(void 0===fs&&(fs=window),-1<Object(Ga.a)(fs).indexOf("SamsungBrowser"));var oo=r(15),so=r(33),co=r(75),lo=r(163),uo=r(27),ho=r(3),fo=r(5);var po=r(243),vo=r(289),yo=r(60);function mo(e,t){if(void 0===t&&(t=yo.a),!e)return!1;let[r,n]=e.split(":");if(n=n||"none",window.CSS&&window.CSS.supports){for(let e=0;e<t.length;e++)if(window.CSS.supports(t[e]+r,n))return!0;return!1}const i=new Image;for(let e=0;e<t.length;e++)if(i.style.cssText=t[e]+r+":"+n,i.style.length)return!0;return!1}const go=(mo("flex"),mo("transform"),mo("transition"),mo("animation"));mo("filter:blur(2px)");var Eo=r(308),Ao=r(80),To=r(25),So=r(91),_o=r(7),bo=r(24),Oo=r(151);const Ro=t=>{let r=0;return{promise:new Promise(e=>{r=window.setTimeout(e,t)}),clear(){clearTimeout(r)},timeoutId:r}};var Po=r(16),wo=r(22),Co=r(61),Io=r(12),No=r(56),ko=r(156),Lo=r(167),Do=r(100);const jo=function(e){if(void 0===e&&(e=window),Object(Do.a)(e)&&e.navigator){var t=e.navigator["platform"];if(t&&/iP(hone|od|ad)/.test(t)){e=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(e)return parseInt(e[1],10)}}return-1}();var Mo=r(52),xo=r(158),Fo=r(41),t=r(216);const Vo=Object(t.a)("video/webm")?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var Uo,Bo,Ho=r(200),Ko=r(23),Yo=r(143),Go=r(303);const Wo=e=>{const t=(e=>{const t=e["muted"];return()=>{e.muted=t}})(e),r=(e=>{const t=e["volume"];return()=>{e.volume=t}})(e),n=(e=>{const t=e["paused"];return()=>{t&&e.pause(),!t&&e.paused&&Object(So.a)(d(e))}})(e);return()=>{t(),r(),n()}};(Ka=Uo=Uo||{})[Ka.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",Ka[Ka.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",Ka[Ka.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",Ka[Ka.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",Ka[Ka.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",Ka[Ka.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED";class Zo{constructor(e){this.code=0,this.message="",this.details=void 0,"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Object(fo.a)(e)&&("number"==typeof e.code&&(this.code=e.code),"string"==typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=Uo[this.code]||"")}}(Ya=Bo=Bo||{}).AutomaticallyGenerated="AutomaticallyGenerated",Ya.HardcodedParams="HardcodedParams",Ya.IOS9OrLess="IOS9OrLess",Ya.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",Ya.WindowHasBeenActive="WindowHasBeenActive",Ya.RAAStopped="RAAStopped",Ya.OldIE="OldIE",Ya.MediaError="MediaError",Ya.NotRecognized="NotRecognized",Ya.YaBroAllowedToPlay="YaBroAllowedToPlay",Ya.TizenSmartTVModern="TizenSmartTVModern",Ya.Tizen23SmartTV="Tizen23SmartTV",Ya.WebOSSmartTV="WebOSSmartTV",Ya.TizenAVPlay="TizenAVPlay",Ya.OrsaySmartTV="OrsaySmartTV",Ya.PlayStationSmartTV="PlayStationSmartTV";var zo,qo,Xo=r(202),Qo=r(204);(fs=zo=zo||{}).VideoTagPaused="VideoTagPaused",fs.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",fs.VideoTagPausedAfterError="VideoTagPausedAfterError",fs.PauseEvent="PauseEvent",fs.ProgressEvent="ProgressEvent",fs.PromiseResolve="PromiseResolve",fs.PromiseReject="PromiseReject",fs.PlayingEvent="PlayingEvent",fs.Timeout="Timeout";const Jo={once:!0,passive:!0};let $o=!1;const es=-1<Lo.a&&Lo.a<=16,ts=v({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:Bo.AutomaticallyGenerated}),rs=v({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:Bo.AutomaticallyGenerated});class ns{constructor(e,t){let{checkSoundEnabled:a,promise:r}=t;if(this.video=e,this.stop=ho.a,this.isStopped=!1,this.revertVideoState=ho.a,this.getIsActiveWindow())return this.promise=Promise.resolve(p({},rs,{detectionMethod:Bo.WindowHasBeenActive})),this;if(r)return this.promise=r,this;const n=document.createElement("div");n.style.display="none";const i=Wo(e),o=l(e,()=>function(t,e){const r={};return Object(bo.a)(e).forEach(e=>{r[e]=t.getAttribute(e)}),c(t,e),Object(To.a)(()=>{c(t,r)})}(e,{src:Vo}));let s;this.revertVideoState=Object(To.a)(()=>{o(),e.load(),i(),Object(Fo.a)(n)}),this.promise=new Promise(async(e,t)=>{let r,n,i;if(s=t,a){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)i=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);i=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(v({canPlayUnMuted:n,canPlayMuted:i,detectionMethod:r||Bo.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const n=this["video"];if(l(n,()=>{n.load()}),await(async()=>{let r;try{await new Promise((e,t)=>{r=window.setTimeout(e,0)})}finally{window.clearTimeout(r)}})(),this.isStopped)return{autoplayAbility:!1,detectionMethod:Bo.RAAStopped};n.muted=e,n.volume=e?0:1;e=await new Promise(r=>{s(n,{useProgressEvent:!0,timeoutForNonPromisePlay:500}).then(e=>{r({autoplayAbility:!0,detectionMethod:e})}).catch(e=>{var t=o(n);t&&t.code===Uo.MEDIA_ERR_DECODE?setTimeout(()=>{r({autoplayAbility:!0,detectionMethod:Bo.MediaError})},0):r({autoplayAbility:!1,detectionMethod:e})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:Bo.RAAStopped}:e}getIsActiveWindow(){var e=Object(xo.a)(this.video);if(!e)return!1;e=i(e);return Boolean(e&&e.hasBeenActive)}}(t=qo=qo||{}).AutoplayDisabled="AutoplayDisabled",t.RASAborted="RASAborted";var is,as=r(142),os=r(181),ss=r(8),cs=r(11);(Ka=is=is||{}).Unsafe="Unsafe",Ka.OnlyYandexCreatives="OnlyYandexCreatives";var ds=r(0),Ya=r(49),ls=r.n(Ya),us=r(35),hs=r(9),fs=r(293),ps=r.n(fs);const vs=Object(ds.h)(1e3);var ys=r(26);r(88);let ms;(Lo=ms=ms||{}).CLOSED="closed",Lo.IDLE="idle",Lo.LOADING="loading",Lo.UNKNOWN_USER="unknownUser",Lo.ACCESS_ERROR="accessError";const gs={externalPlaybackPossible:!(Lo.ERROR="error"),externalPlaybackActivatedPopupVisible:!1,externalPlayerConfig:void 0,playerList:[],playerListStatus:ms.CLOSED,playerCsrfToken:void 0};let Es,As;(t=Es=Es||{}).SEEK_TO_LIVE="SEEK_TO_LIVE",t.TIMELINE="TIMELINE",t.KEYBOARD="KEYBOARD",t.DOUBLE_TAP="DOUBLE_TAP",t.MOBILE_UI="MOBILE_UI",(Ka=As=As||{}).DEFAULT="DEFAULT",Ka.PROGRESS="PROGRESS",Ka.COMPLETED="COMPLETED";const Ts=t=>ys.a.every(e=>t.includes(e));let Ss;(Ya=Ss=Ss||{}).None="None",Ya.WillShow="WillShow",Ya.InProgress="InProgress",Ya.Shown="Shown";var _s=r(62),bs=r(83),Os=r(78),Rs=r(223),Ps=r(218),ws=r(123),Cs=r(236),Is=r(281),fs=r(55),Lo=r(145),t=r(231);const Ns=Lo.a||fs.a||Mo.a||t.a;let ks;(Ka=ks=ks||{}).Space="Space",Ka.ArrowUp="ArrowUp",Ka.ArrowDown="ArrowDown",Ka.ArrowRight="ArrowRight",Ka.ArrowLeft="ArrowLeft",Ka.KeyF="KeyF",Ka.Tab="Tab",Ka.Escape="Escape";const Ls={9:ks.Tab,27:ks.Escape,32:ks.Space,37:ks.ArrowLeft,38:ks.ArrowUp,39:ks.ArrowRight,40:ks.ArrowDown,70:ks.KeyF},Ds=["keyup","keydown"],js=["mousemove","click","dblclick","mouseenter","mouseleave","contextmenu"],Ms=["touchstart","touchend","longtouch"];var xs,Ya=r(37);class Fs extends Ya.a{constructor(){super(...arguments),this.onEvent=new Po.a}}class Vs extends Fs{constructor(t){super(),this.clickElement=t,this.createKeyboardEventHandler=r=>e=>{var t,t=(t=e).code?t.code in ks?t.code:void 0:Ls[t.which||t.keyCode];void 0!==t&&(t!==ks.Tab&&e.preventDefault(),this.onEvent.dispatch({type:r,event:{keyName:t,preventDefault:ho.a}}))},this.createMouseEventHandler=t=>"contextmenu"===t?e=>this.handleContextMenuMouseEvent(e):e=>this.handleMouseEvent(t,e),this.handleMouseEvent=(e,t)=>{var{clientX:r,clientY:t}=function(e,t){var{top:r,left:e}=e.getBoundingClientRect();return{clientX:t.clientX-e,clientY:t.clientY-r}}(this.clickElement,t);this.onEvent.dispatch({type:e,event:{clientX:r,clientY:t,preventDefault:ho.a}})},this.handleContextMenuMouseEvent=e=>{e.ctrlKey||e.altKey||(e.preventDefault(),this.handleMouseEvent("contextmenu",e))},this.handleLongTouch=e=>{var t=[{clientX:0,clientY:0}],t={touches:e&&"touches"in e?e.touches:t,changedTouches:e&&"changedTouches"in e?e.changedTouches:t,cancelable:!1,preventDefault:ho.a};this.handleTouchEvent("longtouch",t)},this.createTouchEventHandler=t=>e=>this.handleTouchEvent(t,e),this.handleTouchEvent=(e,t)=>{var{touches:r,changedTouches:n}=function(e,t){const{top:r,left:n}=e.getBoundingClientRect();return{touches:Array.from(t.touches).map(e=>{var{clientX:t,clientY:e}=e;return{clientX:t-n,clientY:e-r}}),changedTouches:Array.from(t.changedTouches).map(e=>{var{clientX:t,clientY:e}=e;return{clientX:t-n,clientY:e-r}})}}(this.clickElement,t);this.onEvent.dispatch({type:e,event:{touches:r,changedTouches:n,preventDefault:()=>{try{if(!t.cancelable)return;t.preventDefault()}catch(e){}}}})},js.forEach(e=>{"contextmenu"===e&&Ns||this.addDestroyHandler(Object(oo.a)(t,e,this.createMouseEventHandler(e)))}),Ms.forEach(e=>{"longtouch"!==e?this.addDestroyHandler(Object(oo.a)(t,e,this.createTouchEventHandler(e),{capture:!0,passive:!1})):this.addDestroyHandler(w(t,this.handleLongTouch,{touchesCount:2,handleContextmenu:!1}))}),Ds.forEach(e=>{this.addDestroyHandler(Object(oo.a)(t,e,this.createKeyboardEventHandler(e)))})}}let Us;(Lo=Us=Us||{}).Click="click",Lo.DoubleClick="dblclick",Lo.MouseMove="mousemove",Lo.MouseEnter="mouseenter",Lo.MouseLeave="mouseleave",Lo.ContextMenu="contextmenu";const Bs=Object(ds.h)(300),Hs=Object(ds.b)(Bs,.75);class Ks extends Ya.a{static calculateEventSlop(e,t){var r=e["event"],e=t["event"],t=r.touches[0]||r.changedTouches[0],r=e.touches[0]||e.changedTouches[0],e=Math.abs(t.clientX-r.clientX),r=Math.abs(t.clientY-r.clientY);return e*e+r*r}constructor(e){super(),this.params=e,this.onEvent=new Po.a,this.timeoutId=void 0,this.firstTouchStartEvent=void 0,this.firstTouchStopEvent=void 0,this.secondTouchStartEvent=void 0,this.isTouchInProcess=!1,this.handleClickerEvent=e=>{if(t=e,js.includes(t.type)&&this.handleMouseEvent(e),t=e,Ms.includes(t.type))switch(e.timeStamp=Object(ds.h)(Date.now()),e.type){case"touchstart":this.handleTouchStart(e);break;case"touchend":this.handleTouchEnd(e);break;case"longtouch":this.dispatchEvent(h({},e,{type:Us.ContextMenu,event:h({},e.event,f(e))}))}var t},this.handleTouchEnd=e=>{this.firstTouchStartEvent&&(this.firstTouchStopEvent||(this.firstTouchStopEvent=e))},this.handleTouchStart=e=>{var t;this.isTouchInProcess=!0,this.firstTouchStartEvent||this.timeoutId?this.secondTouchStartEvent||(this.secondTouchStartEvent=e,t=this.isConsideredDoubleTap(),this.reset(),t&&this.dispatchEvent(h({},e,{type:Us.DoubleClick,event:h({},e.event,f(e))}))):(this.firstTouchStartEvent=e,this.timeoutId=window.setTimeout(this.handleTimeout,Bs))},this.handleTimeout=()=>{var e=Boolean(this.firstTouchStartEvent&&this.firstTouchStopEvent&&!this.secondTouchStartEvent),t=this.areFirstTapsInSameBox(),r=e&&this.firstTouchStopEvent.timeStamp-this.firstTouchStartEvent.timeStamp<=Hs,t=e&&t&&r,r=this.firstTouchStopEvent;this.reset(),t&&this.dispatchEvent(h({},r,{type:Us.Click,event:h({},r.event,f(r))}))};const t=e["eventListener"];this.addDestroyHandler(()=>this.reset()),this.addDestroyHandler(t.onEvent.add(this.handleClickerEvent))}handleMouseEvent(e){this.isTouchInProcess||this.dispatchEvent(e)}dispatchEvent(e){-1!==e.event.clientX&&-1!==e.event.clientY&&this.onEvent.dispatch(e)}areFirstTapsInSameBox(){return!(!this.firstTouchStartEvent||!this.firstTouchStopEvent)&&Ks.calculateEventSlop(this.firstTouchStartEvent,this.firstTouchStopEvent)<=32}isConsideredDoubleTap(){return!!(this.firstTouchStartEvent&&this.firstTouchStopEvent&&this.secondTouchStartEvent)&&(!!this.areFirstTapsInSameBox()&&(Ks.calculateEventSlop(this.firstTouchStartEvent,this.secondTouchStartEvent)<=300&&!(this.secondTouchStartEvent.timeStamp-this.firstTouchStartEvent.timeStamp>Bs)))}reset(){window.clearTimeout(this.timeoutId),this.timeoutId=void 0,this.isTouchInProcess=!1,this.firstTouchStartEvent=void 0,this.firstTouchStopEvent=void 0,this.secondTouchStartEvent=void 0}}class Ys extends Ya.a{constructor(e){super(),this.clickElement=e;const t=new Vs(this.clickElement);this.addDestroyHandler(()=>t.destroy());const r=new Ks({eventListener:t});this.addDestroyHandler(()=>r.destroy()),this.addDestroyHandler(r.onEvent.add(e=>{e.type===Us.DoubleClick&&e.event.preventDefault()}))}}(t=xs=xs||{}).AdStarted="AdStarted",t.AdPlayingStateChange="AdPlayingStateChange",t.AdPodStarted="AdPodStarted",t.AdPodImpression="AdPodImpression",t.AdPodVideoFirstQuartile="AdPodVideoFirstQuartile",t.AdPodVideoMidpoint="AdPodVideoMidpoint",t.AdPodVideoThirdQuartile="AdPodVideoThirdQuartile",t.AdRemainingTimeChange="AdRemainingTimeChange",t.AdPodSkipped="AdPodSkipped",t.AdClickThru="AdClickThru",t.AdPodStopped="AdPodStopped",t.AdPodComplete="AdPodComplete",t.AdPodClose="AdPodClose",t.AdPodError="AdPodError",t.AdStopped="AdStopped",t.AllAdPodVideoComplete="AllAdPodVideoComplete",t.AdSkippableStateChange="AdSkippableStateChange",t.AdVolumeChange="AdVolumeChange",t.AdVolumeAvailabilityStateChange="AdVolumeAvailabilityStateChange";class Gs extends r(47).a{constructor(e,t){super(e,t)}}var Ws=r(1),Zs=r(13);let zs;(Ka=zs=zs||{}).preroll="preroll",Ka.midroll="midroll",Ka.overlay="overlay",Ka.postroll="postroll",Ka.notReplaced="notReplaced",Ka.inroll="inroll",Ka.externalInroll="externalInroll",Ka.inrollOverlay="inroll-overlay",Ka.intro="intro",Ka.jingle="jingle",Ka.overlaySelfPromo="overlaySelfPromo";var qs=r(59);const Xs={play:ss.a.PLAY,pause:ss.a.PAUSE,end:ss.a.END,idle:ss.a.PAUSE};class Qs extends Ya.a{constructor(e){super(),this.params=e,this.destroyPromise=new Promise(e=>{this.addDestroyHandler(()=>{e()})}),this.currentAdPlaybackController=void 0,this.playbackQueue=[],this.logAdStart=Object(To.a)(()=>{const e=this.getAdTypeForLogs(),t=this.playbackQueue.length,r=this.params["logEvent"];r({event:Zs.a.AdStart,params:{adPodsCount:t,adType:e}}),e===zs.inroll&&r({event:Zs.a.InrollAdStart,params:{adPodsCount:t}})}),this.logAdEnd=Object(To.a)(()=>{const e=this.getAdTypeForLogs(),t=this.playbackQueue.length,r=this.params["logEvent"];e===zs.inroll&&r({event:Zs.a.InrollAdEnd,params:{adPodsCount:t}}),r({event:Zs.a.AdEnd,params:{stopAdReason:this.destroyReason||qs.a.AdCompleted,adPodsCount:t,adType:e}})}),this.adPodIndex=0,this.startPlayingAd=Object(To.a)(async()=>{for(this.logAdStart();this.adPodIndex<this.playbackQueue.length&&!this.isDestroyed;)await this.playAdPod(this.playbackQueue[this.adPodIndex]),this.adPodIndex++;this.logAdEnd(),this.destroy(qs.a.AdCompleted)}),this.dispatchOnFirstAdPodStarted=Object(To.a)(()=>{this.params.onFirstAdPodStarted()}),this.playAdPod=async e=>{let{adType:t,adViewer:r,additionalData:n,adDisplayConfig:i,adElementsSet:a}=e;if(0!==r.getAdPodsCount()){const o=this.params["logEvent"];if(o({event:Zs.a.AdPodLoading,params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:n}}),t===zs.inroll){const e=n["cueId"];o({event:Zs.a.InrollAdPodStart,params:{adPodsCount:this.playbackQueue.length,cueId:e}}),r.setStatsRootFields({cueid:e})}const s=r.createPlaybackController(a.videoSlotElement,a.adSlotElement,y({videoSlotCanAutoPlay:!0},i));this.currentAdPlaybackController=s,s.subscribe(xs.AdPodStarted,()=>{o({event:"AdPodStart",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:n}}),this.dispatchOnFirstAdPodStarted(),this.params.onAdPodStarted({adElementsSet:a}),this.updateAdPodPlayingStateChange()}),s.subscribe(xs.AdPodStopped,()=>{this.params.onAdPodStopped()}),s.subscribe(xs.AdPodImpression,()=>{this.params.onAdPodImpression(),o({event:"AdPodImpression",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:n}})}),s.subscribe(xs.AdPodError,e=>{o({event:"AdPodError",params:y({},e,{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:n})})}),s.subscribe(xs.AdClickThru,()=>{this.params.onAdClickThru(),o({event:"AdClickThru",params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:n}})}),await new Promise(e=>{s.subscribe(xs.AdStopped,e),s.playAd(),this.params.onAdPodPlayingStateChange(ss.a.BUFFERING)}),this.currentAdPlaybackController=void 0,o({event:Zs.a.AdPodEnd,params:{adPodsCount:this.playbackQueue.length,adType:this.playbackQueue[this.adPodIndex].adPodType,additionalData:n}}),t===zs.inroll&&(o({event:Zs.a.InrollAdPodEnd,params:{adPodsCount:this.playbackQueue.length,cueId:n.cueId}}),r.setStatsRootFields({cueid:void 0}))}else hs.a.log("AdViewer is empty")},this.addDestroyHandler(()=>{this.currentAdPlaybackController&&(this.currentAdPlaybackController.stopAd(),this.currentAdPlaybackController=void 0)})}playAdViewers(e){this.isDestroyed||(this.playbackQueue.push(e),this.addDestroyHandler(()=>{e.adViewer.destroy()}),this.startPlayingAd())}resumeAd(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.resumeAd(),this.updateAdPodPlayingStateChange())}pauseAd(){this.currentAdPlaybackController&&(this.currentAdPlaybackController.pauseAd(),this.updateAdPodPlayingStateChange())}getDestroyPromise(){return this.destroyPromise}getAdTypeForLogs(){var[e]=this.playbackQueue;return e?e.adType:(this.params.stats.error({error:new Gs({code:Ws.a.AD_TYPE_IS_NOT_RECOGNIZED})}),"unrecognized")}updateAdPodPlayingStateChange(){var e;this.currentAdPlaybackController&&(e=this.currentAdPlaybackController.getAdPlayingState(),this.params.onAdPodPlayingStateChange(Xs[e]))}}function Js(e){return e}function $s(e){return Array.isArray(e)?e.map(ic):ic(e)}var ec,tc={},rc={checkExisting:!0},nc=0,ic=function(e){return e&&"function"==typeof e.dispatch?e.dispatch:e},ac=R("Batch",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?t[0]:t}),oc=ac.getType(),sc={};for(ec in console)!function(i){"function"==typeof console[i]&&(sc[i]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop();Array.isArray(n)&&n.type===oc?n.forEach(function(e){console[i].apply(console,[].concat(t,[e]))}):(t.push(n),console[i].apply(console,t))})}(ec);const cc=R("STORE_AD_CONFIG"),dc=R("STORE_UPDATE_AD_INFO"),lc=R("STORE_PUT_AD_INFO"),uc=R("STORE_PUT_IS_ORIGINAL_BROADCAST_AD_CUE_ID"),hc=R("STORE_PUT_ADBLOCK_DETECTED"),fc=R("STORE_PUT_ORIGINAL_BROADCAST_AD_CUES"),pc=R("STORE_REFRESH_CUE"),vc=R("STORE_REMOVE_CUE"),yc=R("STORE_PUT_HAS_PREROLL"),mc=R("STORE_UPDATE_ORIGINAL_AD_STATE"),gc=R("STORE_PUT_LAST_KNOWN_BANDWIDTH_ESTIMATE"),Ec=R("STORE_AD_PUT_IN_STREAM_PLAYING_STATE"),Ac=R("STORE_PUT_NEXT_AD_INFO"),Tc=R("STORE_PUT_ENGINE"),Sc=R("STORE_PUT_AUTOPLAY"),_c=R("STORE_PUT_START_STAGE"),bc=R("STORE_PUT_RAA_TAKING_TOO_LONG"),Oc=R("STORE_PUT_PRELOAD"),Rc=R("STORE_PUT_ENCODER_ATTACHED"),Pc=R("STORE_PUT_VOLUME_INFO"),wc=R("STORE_PUT_REQUIRE_USER_GESTURE_TO_UNMUTE"),Cc=R("STORE_PUT_AUTOPLAY_IMPOSSIBLE"),Ic=R("STORE_PUT_USER_VOLUME"),Nc=R("STORE_PUT_DURATION"),kc=R("STORE_PUT_VIDEO_SIZES"),Lc=R("STORE_PUT_VIDEO_TYPE"),Dc=R("STORE_PUT_PLAYING_STATE"),jc=R("STORE_PUT_CURRENT_TIME"),Mc=R("STORE_PUT_CURRENT_TIME_LOW_QUALITY"),xc=R("STORE_PUT_VIDEO_INFO"),Fc=R("STORE_PUT_FROM"),Vc=R("STORE_PUT_STREAM"),Uc=R("STORE_PUT_SOURCE_PARAMS"),Bc=R("STORE_UPDATE_SOURCE_ID"),Hc=R("STORE_PUT_STREAMS"),Kc=R("STORE_PUT_STREAMS_WITH_SUPPORT_INFO"),Yc=R("STORE_PUT_START_POSITION"),Gc=R("STORE_PUT_IS_ONLINE"),Wc=R("STORE_PUT_FRAGMENT_DURATION"),Zc=R("STORE_PUT_PROGRAM_DATE_TIME"),zc=R("STORE_PUT_DVR_START_TIME"),qc=R("STORE_PUT_DVR_DURATION"),Xc=R("STORE_PUT_INIT_TIME"),Qc=R("STORE_PUT_SKIN_DVR_START_TIME"),Jc=R("STORE_PUT_SKIN_DVR_DURATION"),$c=R("STORE_PUT_PLAYBACK_RATE"),ed=R("STORE_PUT_BUFFERING_RANGES"),td=R("STORE_PUT_ERROR_INFO"),rd=R("STORE_PUT_LAST_RECOVER_POSITION"),nd=R("STORE_PUT_IS_ABR_SUPPORTED"),id=R("STORE_PUT_IS_ABR_ENABLED"),ad=R("STORE_PUT_VIDEO_TRACK"),od=R("STORE_PUT_VIDEO_TRACKS",e=>[...e].sort(j)),sd=R("STORE_PUT_USER_VIDEO_TRACK_PARAMS"),cd=R("STORE_PUT_AUDIO_TRACK_VALUE"),dd=R("STORE_PUT_AUDIO_TRACKS"),ld=R("STORE_PUT_USER_AUDIO_TRACK_PARAMS"),ud=R("STORE_PUT_VIDEO_TAG_READY_STATE"),hd=R("STORE_PUT_TEXT_TRACKS"),fd=R("STORE_PUT_TEXT_TRACK_ENABLED"),pd=R("STORE_PUT_NATIVE_TEXT_TRACK_VISIBILITY"),vd=R("STORE_PUT_TEXT_TRACK_VALUE"),yd=R("STORE_PUT_USER_TEXT_TRACK_PARAMS"),md=R("STORE_CHANGE_TEXT_TRACK_PARAMETERS"),gd=R("ENABLE_TEXT_TRACK"),Ed=R("STORE_PUT_SUBTITLES"),Ad=R("STORE_PUT_IS_FULLSCREEN"),Td=R("STORE_PUT_IS_PIP"),Sd=R("STORE_PUT_IS_VISIBLE"),_d=R("STORE_PUT_IS_DOCUMENT_VISIBLE"),bd=R("STORE_PUT_PAUSED_CAUSE_VISIBILITY_CHANGE"),Od=R("STORE_PUT_EXPECTED_STALLED"),Rd=R("STORE_PUT_PREVIEW"),Pd=R("STORE_PUT_WATCHED_TIME"),wd=R("STORE_PUT_WATCHED_TIME_SINCE_AD"),Cd=R("STORE_PUT_AD_SESSION_WATCHED_TIME"),Id=R("STORE_PUT_TILE_META_INFO"),Nd=R("STORE_PUT_RESOURCES_IDLE"),kd=R("STORE_PUT_SKIN_SIZE"),Ld=R("STORE_PUT_HIDDEN_CONTROLS"),Dd=R("STORE_PUT_SHOW_PRELOADER"),jd=R("STORE_PUT_SHOW_ERROR_SCREEN"),Md=R("SKIN_PUT_SETTINGS_VISIBILITY"),xd=R("SKIN_PUT_SETTINGS_VISIBILITY_BEFORE_SKIN_CLICK"),Fd=R("SKIN_PUT_SETTINGS_PAGE"),Vd=R("SKIN_TOGGLE_SETTINGS_VISIBILITY"),Ud=R("SKIN_PUT_LOGO_CONFIG"),Bd=R("STORE_PUT_CONTEXT_MENU_VISIBILITY_LOCK"),Hd=R("STORE_PUT_CONTEXT_MENU_VISIBILITY"),Kd=R("STORE_PUT_CONTEXT_MENU_POSITION"),Yd=R("STORE_PUT_BrandIntroState"),Gd=R("STORE_PUT_SEEK_TAP_EVENT"),Wd=R("STORE_PUT_WAS_VOLUME_CHANGED"),Zd=R("STORE_PUT_NATIVE_CONTROLS_VISIBILITY"),zd=R("STORE_PUT_VIDEO_ELEMENT_STYLE"),qd=R("STORE_ON_VIDEO_TAG_PLAYING_STATE_CHANGE"),Xd=R("STORE_ADD_PROMO_CONFIG"),Qd=R("STORE_LOG_EVENT"),Jd=R("STORE_PUT_FEATURES_PARAMS"),$d=R("FEATURE_DISPATCH_ACTION"),el=R("FEATURE_DISPATCH_EVENT"),tl=Object(ds.j)(900);let rl;(rl=rl||{}).original="original";class nl{constructor(e,t){this.parent=e,this.element=document.createElement("div");const r=this.element["style"];r.backgroundColor=function(e){if(e!==rl.original)throw new Error("Unexpected BroadcastAdType ["+e+"]");return"rgba(0, 255, 0, 0.5)"}(t),r.width="10px",r.height="10px",r.cssFloat="left",r.marginRight="1px"}setVisibility(e){e?this.show():this.hide()}show(){this.parent.appendChild(this.element)}hide(){Object(Fo.a)(this.element)}}class il{constructor(e){this.element=document.createElement("div"),e.appendChild(this.element);const t=this.element["style"];t.position="absolute",t.bottom="1px",t.left="1px"}createIndicator(e){return new nl(this.element,e)}}var al=r(250);const ol=Object(ds.h)(6e5);let sl;(Lo=sl=sl||{}).INVALID_INROLL_FRAME="INVALID_INROLL_FRAME",Lo.INVALID_START="INVALID_START",Lo.CROSSED_BY_INVALID="CROSSED_BY_INVALID",Lo.MAX_DURATION="MAX_DURATION";const cl=Object(ds.h)(5e3),dl=Object(ds.h)(1e4),ll=Object(ds.a)(ol,Object(ds.c)(dl,3)),ul=Object(ds.h)(-ol);class hl{constructor(){this.onInvalidAdInterval=new Po.a,this.onAdIntervalUpdated=new Po.a,this.adIntervals=[]}handleInrollFrame(t){if(!function(e){if(!(e.offset<ul||e.offset>ll)){if(void 0===e.cutoff)return 1;if(!(e.cutoff<ul||e.cutoff>ll)){e=e.cutoff-e.offset;return e>=cl&&e<=ol}}}(t))return hs.a.warn("invalid inroll frame:",t),void this.handleInvalidInrollFrame(t,sl.INVALID_INROLL_FRAME);var e=this.adIntervals.find(e=>{var e=e["cueId"];return e===t.cue_id});if(!e)return this.addAdIntervalByFastFrame(t);this.updateAdIntervalByInrollFrame(e,t)}validateAdIntervalsByTimestamp(t){for(let e=0;e<this.adIntervals.length;e++){var r=this.adIntervals[e];if(r.start>t)return;if(r.isValid&&!r.isEndReceived)if(t-r.start>ol)this.invalidateAdInterval(r,sl.MAX_DURATION);else{var n=this.adIntervals[e+1];if(!n)return;n.start<=t&&this.invalidateAdInterval(r,sl.CROSSED_BY_INVALID)}}}handleInvalidInrollFrame(t,e){var r=this.adIntervals.find(e=>{var e=e["cueId"];return e===t.cue_id});if(r)return this.invalidateAdInterval(r,e),void this.updateAdIntervalByInrollFrame(r,t);r=B(t);this.invalidateAdInterval(r,e),this.pushAdInterval(r)}addAdIntervalByFastFrame(e){e=B(e);return this.pushAdInterval(e),e.isValid?e:void 0}updateAdIntervalByInrollFrame(e,t){var r=t.pts+t.offset;Math.abs(e.start-r)>al.a?this.invalidateAdInterval(e,sl.INVALID_START):e.isEndReceived||(t=(r=void 0!==t.cutoff)?Object(ds.a)(t.pts,t.cutoff):U(t.pts,e.start),e.isEndReceived=r,e.end=t,this.handleUpdatedAdInterval(e))}findCrossedAdIntervals(t){return this.adIntervals.filter(e=>t!==e&&(t.start<e.start?t.end>e.start:e.end>t.start))}pushAdInterval(e){var t=this.findCrossedAdIntervals(e);t.length&&this.invalidateAdInterval(e,sl.CROSSED_BY_INVALID),this.adIntervals.push(e),this.adIntervals.sort((e,t)=>{var e=e["start"],t=t["start"];return e-t}),this.invalidate(t,sl.CROSSED_BY_INVALID),e.isValid&&this.onAdIntervalUpdated.dispatch(e)}handleUpdatedAdInterval(e){const t=this.findCrossedAdIntervals(e);if(t.length)return t.push(e),void this.invalidate(t,sl.CROSSED_BY_INVALID);e.isValid&&this.onAdIntervalUpdated.dispatch(e)}invalidate(e,t){e.forEach(e=>{this.invalidateAdInterval(e,t)})}invalidateAdInterval(e,t){e.isValid&&(e.isValid=!1,e.invalidateReason=t,this.onInvalidAdInterval.dispatch({reason:t,cueId:e.cueId}))}}const fl=Object(ds.j)(15);var pl=r(240);class vl{constructor(e){this.adType=e,this.ads=[],this.postAdsIds=[]}add(e){if(!(-1<this.postAdsIds.indexOf(e.cueId))){const t=this.findById(e.cueId);t?t.startTime=e.startTime:this.ads.push(H({},e,{adViewers:e.adViewers.reduce((e,t)=>e.concat(t.separateAdPods()),[])}))}}getAdViewers(i,a){const[e,t]=Object(pl.a)(this.ads,e=>{var{startTime:t,endTime:r,cueId:n,adViewers:e}=e;if(n!==a)return!1;if(i<t)return!1;if(r-fl*Co.a<i)return!1;for(const a of e)if(i+1e3*a.getAdDuration()<r)return!0;return!1});if(0===e.length)return[];this.postAdsIds.push(...e.map(e=>{var e=e["cueId"];return e})),this.ads=t,e.sort((e,t)=>e.startTime-t.startTime);let r=Object(ds.j)(0);const n=[];for(const{adViewers:a,endTime:t,cueId:o}of e)for(const e of a){const a=Object(ds.a)(i,Object(ds.c)(r,1e3));if(t-fl*Co.a<a)break;t<Object(ds.a)(a,Object(ds.c)(e.getAdDuration(),1e3))||(n.push({adViewer:e,additionalData:{cueId:o},adType:this.adType}),r=Object(ds.a)(r,Object(ds.j)(e.getAdDuration())))}return n}findById(t){return this.ads.find(e=>{var e=e["cueId"];return e===t})}}class yl{constructor(r,e,t,n,i){let a;this.video=r,this.slot=e,this.stats=t,this.store=n,this.playerApi=i,this.onInrollAdPlayRequest=new Po.a,this.onOverlayAdPlayRequest=new Po.a,this.onAdIntervalUpdated=new Po.a,this.onAdIntervalRemoved=new Po.a,this.adIntervalStorage=new hl,this.isEnabled=!0,this.adIndicators=void 0,this.inrolls=new vl(zs.inroll),this.overlays=new vl(zs.inrollOverlay),this.adIndicators=new il(e);const o=this.adIndicators.createIndicator(rl.original);r.addEventListener("timeupdate",()=>{var e=this.store.getState(),t=F(e);if(a!==t){const r=void 0!==t;o.setVisibility(r),a=t}e=V(e);e&&(this.adIntervalStorage.validateAdIntervalsByTimestamp(e),this.isEnabled&&!r.paused&&(this.store.dispatch(mc()),this.handleInrolls(),this.handleOverlays()))}),this.adIntervalStorage.onAdIntervalUpdated.add(e=>{this.onAdIntervalUpdated.dispatch({cueId:e.cueId,start:e.start,end:e.end})}),this.adIntervalStorage.onInvalidAdInterval.add(e=>{var{cueId:t,reason:e}=e;hs.a.warn("invalid ad interval: [cueId="+t+"] [reason="+e+"]"),this.stats.error({error:new Gs({code:Ws.a.INVALID_METADATA,details:{cueId:t,reason:e},isFatal:!1})}),this.onAdIntervalRemoved.dispatch(t)})}handleInrollFrame(e){var t=this.adIntervalStorage.handleInrollFrame(e);if(!t)return Promise.resolve();var{cueId:r,start:n,end:i,isEndReceived:t}=t,t=t?i+fl*Co.a:n+ol,i="overlay"===e.ad_type;return this.addInroll(r,n,Object(ds.h)(t),{isOverlay:i,inrollFrame:e})}setEnabled(e){this.isEnabled=e}async addInroll(e,t,r,n){var{isOverlay:i,inrollFrame:a}=n,n=i?zs.inrollOverlay:zs.inroll;this.playerApi.logEvent({event:Zs.a.BroadcastAdReceived,params:{cueId:e,podStart:t,adType:n}});const o=this.playerApi.publicApi.getMultiroll(),s=i?await o.inrollOverlay.loadViewers(Y({},a)):await o.inroll.loadViewers(Y({},a));0!==s.length&&(a=K(s),this.playerApi.logEvent({event:Zs.a.BroadcastAdInit,params:{cueId:e,podStart:t,duration:a,adPodsCount:s.length,adType:n}}),(i?this.overlays:this.inrolls).add({adViewers:s,cueId:e,startTime:t,endTime:r}))}handleInrolls(){var e,t=this.store.getState(),r=V(t);r&&(!(e=F(t))||(e=this.inrolls.getAdViewers(r,e)).length&&({ad:{adInfo:t}}=t,t&&t.adType===zs.overlay&&this.playerApi.publicApi.stopAd({stopAdReason:qs.a.AdTypeChange,data:{loadPositionAfterAd:{},adType:zs.inroll}}),this.onInrollAdPlayRequest.dispatch(e)))}handleOverlays(){var e=this.store.getState(),{ad:{adInfo:t}}=e;Boolean(t)||(t=V(e))&&(!(e=F(e))||(e=this.overlays.getAdViewers(t,e)).length&&this.onOverlayAdPlayRequest.dispatch(e))}}const ml=[zs.midroll,zs.inroll];class gl{constructor(){this.stopReasonInternal=void 0}stop(e){this.stopReasonInternal=e}get stopReason(){return this.stopReasonInternal}}var El=r(81),t=r(65);const Al=Object(ko.getHardcodedParam)(window,t.HARDCODED_ADSDK_URL)||"https://an.yandex.ru/system/video-ads-sdk/adsdk.js",Tl=()=>{if("undefined"!=typeof ya&&ya.videoAd&&ya.videoAd.loadModule)return ya.videoAd.loadModule};var Sl=r(17),_l=r(141),bl=r(164),Ol=r(87);function Rl(){return Math.random().toString(36).substring(7).split("").join(".")}function Pl(e){return null==e}function wl(e){return null!=e}function Cl(e){return e&&su(e.then)}function Il(e){return e&&su(e.next)&&su(e.throw)}function Nl(e){return e&&(cu(e)||lu(e)||su(e)||du(e)&&e.every(Nl))}function kl(e){return e&&su(e.take)&&su(e.close)}function Ll(e){return su(e)&&e.hasOwnProperty("toString")}function Dl(e){return e}function jl(e){throw e}function Ml(e){return{value:e,done:!0}}function xl(e){return Array.apply(null,new Array(e))}function Fl(t){return function(e){return t(Object.defineProperty(e,tu,{value:!0}))}}function Vl(e){return pu(e)||vu(e)}function Ul(e){return yu("FORK",te({},e.payload,{detached:!0}))}function Bl(e){return function(t){return e.some(function(e){return _e(e)(t)})}}function Hl(t){return function(e){return t(e)}}function Kl(t){return function(e){return e.type===String(t)}}function Yl(t){return function(e){return e.type===t}}function Gl(){return uu}function Wl(e){return e&&e.type===Ql}function Zl(e){return{done:!0,value:e}}var zl=r(365),ql={INIT:"@@redux/INIT"+Rl(),REPLACE:"@@redux/REPLACE"+Rl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rl()}},Ka=function(e){return"@@redux-saga/"+e},Xl=Ka("CANCEL_PROMISE"),Ql=Ka("CHANNEL_END"),Jl=Ka("IO"),$l=Ka("MATCH"),eu=Ka("MULTICAST"),tu=Ka("SAGA_ACTION"),ru=Ka("SELF_CANCELLATION"),nu=Ka("TASK"),iu=Ka("TASK_CANCEL"),au=Ka("TERMINATE"),ou=Ka("LOCATION"),su=function(e){return"function"==typeof e},cu=function(e){return"string"==typeof e},du=Array.isArray,lu=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},uu=function(){return!0},hu=function(){},fu=function(t,r){te(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(e){t[e]=r[e]})},pu=function(e){return e===au},vu=function(e){return e===iu},yu=function(e,t){var r;return(r={})[Jl]=!0,r.combinator=!1,r.type=e,r.payload=t,r},mu=pe.bind(null,function(t,r){var n;void 0===r&&(r=!0);var e=new Promise(function(e){n=setTimeout(e,t,r)});return e[Xl]=function(){clearTimeout(n)},e}),gu=function(){var r={};return r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),r},Eu=[],Au=0,Tu={type:Ql},Su=0,_u=((Lo={}).TAKE=function(e,t,r){var n=t.channel,i=void 0===n?e.channel:n,n=t.pattern,a=t.maybe,t=function(e){e instanceof Error?r(e,!0):!Wl(e)||a?r(e):r(au)};try{i.take(t,wl(n)?_e(n):null)}catch(e){return void r(e,!0)}r.cancel=t.cancel},Lo.PUT=function(t,e,r){var n=e.channel,i=e.action,a=e.resolve;ge(function(){var e;try{e=(n?n.put:t.dispatch)(i)}catch(e){return void r(e,!0)}a&&Cl(e)?Re(e,r):r(e)})},Lo.ALL=function(e,t,r,n){var i,a=n.digestEffect,o=Su,n=Object.keys(t);0!==n.length?(i=ae(t,r),n.forEach(function(e){a(t[e],o,i[e],e)})):r(du(t)?[]:{})},Lo.RACE=function(e,t,n,r){var i=r.digestEffect,a=Su,o=Object.keys(t),s=du(t)?xl(o.length):{},c={},d=!1;o.forEach(function(r){function e(e,t){d||(t||Vl(e)?(n.cancel(),n(e,t)):(n.cancel(),d=!0,s[r]=e,n(s)))}e.cancel=hu,c[r]=e}),n.cancel=function(){d||(d=!0,o.forEach(function(e){return c[e].cancel()}))},o.forEach(function(e){d||i(t[e],a,c[e],e)})},Lo.CALL=function(e,t,r,n){var i=t.context,a=t.fn,t=t.args,n=n.task;try{var o=a.apply(i,t);if(Cl(o))return void Re(o,r);if(Il(o))return void Ie(e,o,n.context,Su,oe(a),!1,r);r(o)}catch(e){r(e,!0)}},Lo.CPS=function(e,t,r){var n=t.context,i=t.fn,t=t.args;try{var a=function(e,t){Pl(e)?r(t):r(e,!0)};i.apply(n,t.concat(a)),a.cancel&&(r.cancel=a.cancel)}catch(e){r(e,!0)}},Lo.FORK=function(t,e,r,n){var i=e.context,a=e.fn,o=e.args,s=e.detached,c=n.task,d=function(e){var t=e.context,r=e.fn,n=e.args;try{var i=r.apply(t,n);if(Il(i))return i;var a=!1;return ne(function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!Cl(i)})})}catch(e){return ne(function(){throw e})}}({context:i,fn:a,args:o}),l=d.isSagaIterator?{name:d.meta.name}:oe(a);Ee(function(){var e=Ie(t,d,c.context,Su,l,s,void 0);s?r(e):e.isRunning()?(c.queue.addTask(e),r(e)):e.isAborted()?c.queue.abort(e.error()):r(e)})},Lo.JOIN=function(e,t,r,n){function i(e,t){var r;e.isRunning()?(r={task:o,cb:t},t.cancel=function(){e.isRunning()&&re(e.joiners,r)},e.joiners.push(r)):e.isAborted()?t(e.error(),!0):t(e.result())}var a,o=n.task;du(t)?0!==t.length?(a=ae(t,r),t.forEach(function(e,t){i(e,a[t])})):r([]):i(t,r)},Lo.CANCEL=function(e,t,r,n){n=n.task;t===ru?Pe(n):du(t)?t.forEach(Pe):Pe(t),r()},Lo.SELECT=function(e,t,r){var n=t.selector,t=t.args;try{r(n.apply(void 0,[e.getState()].concat(t)))}catch(e){r(e,!0)}},Lo.ACTION_CHANNEL=function(t,e,r){function n(e){Wl(e)||t.channel.take(n,o),a.put(e)}var i=e.pattern,a=be(e.buffer),o=_e(i),s=a.close;a.close=function(){n.cancel(),s()},t.channel.take(n,o),r(a)},Lo.CANCELLED=function(e,t,r,n){r(n.task.isCancelled())},Lo.FLUSH=function(e,t,r){t.flush(r)},Lo.GET_CONTEXT=function(e,t,r,n){r(n.task.context[t])},Lo.SET_CONTEXT=function(e,t,r,n){n=n.task;fu(n.context,t),r()},Lo),bu=null,Ou=[],Ru=function(){bu=null,Ou.length=0},Pu={};const wu={},Cu=R("DELAYED_ACTION"),Iu=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYBACK_CONFIG"),Nu=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYBACK_POSSIBLE"),ku=R("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYBACK"),Lu=R("EXTERNAL_PLAYBACK_TOUCH_EXTERNAL_PLAYER_LIST"),Du=R("EXTERNAL_PLAYBACK_REQUEST_EXTERNAL_PLAYER_CSRF_TOKEN"),ju=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_CSRF"),Mu=R("EXTERNAL_PLAYBACK_START_EXTERNAL_PLAYER_CSRF_EXPIRATION"),xu=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_LIST_STATUS"),Fu=R("EXTERNAL_PLAYBACK_REQUEST_EXTERNAL_PLAYER_LIST"),Vu=R("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_LIST_REFRESH_BUTTON"),Uu=R("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_LIST_CLOSE_BUTTON"),Bu=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_LIST"),Hu=R("EXTERNAL_PLAYBACK_CLICK_EXTERNAL_PLAYER_BUTTON"),Ku=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_ACTIVATION"),Yu=R("EXTERNAL_PLAYBACK_CLOSE_EXTERNAL_PLAYER_LIST_EVENTUALLY"),Gu=R("EXTERNAL_PLAYBACK_PUT_EXTERNAL_PLAYER_STATUS"),Wu=R("EXTERNAL_PLAYBACK_ACTIVATED_POPUP_VISIBILITY"),Zu=R("EXTERNAL_PLAYBACK_REFRESH_EXTERNAL_PLAYER_LIST_ON_DOCUMENT_VISIBLE"),zu=R("NATIVE_SKIN_CLICK_VIDEO"),qu=R("SKIN_CHANGE_VOLUME"),Xu=R("SKIN_START_CHANGE_VOLUME"),Qu=R("SKIN_FINISH_CHANGE_VOLUME"),Ju=R("SKIN_TOGGLE_MUTED"),$u=(R("SKIN_CLICK_PLAY_BUTTON"),R("SKIN_CLICK_REPORT_BUTTON")),eh=R("SKIN_CLICK_BRAND_LOGO_BUTTON"),th=(R("SKIN_CLICK_DEBUG_DOWNLOAD_BUTTON"),R("SKIN_SEEK_TO_LIVE")),rh=R("SKIN_SEEK"),nh=R("SKIN_SEEK_BY_STEP"),ih=R("SKIN_SEEK_START"),ah=R("SKIN_SEEK_END"),oh=(R("SKIN_SEEK_MOVE"),R("SKIN_HANDLE_KEY_DOWN")),sh=R("SKIN_HANDLE_KEY_UP"),ch=R("SKIN_CHANGE_VIDEO_TRACK_VALUE"),dh=R("SKIN_CHANGE_AUDIO_TRACK_VALUE"),lh=R("SKIN_TOGGLE_TEXT_TRACK"),uh=R("SKIN_CHANGE_TEXT_TRACK_VALUE"),hh=R("SKIN_TOGGLE_FULLSCREEN"),fh=R("SKIN_CLICK_CONTEXT_MENU"),ph=(R("SKIN_SEEK_EVENT_DIRECTION_CHANGE"),R("SKIN_CHANGE_PLAYBACK_RATE")),vh=R("SKIN_MOUSE_MOTIONLESS"),yh=R("SKIN_MOUSE_HOVER_CHANGE"),mh=R("SKIN_CONTROLS_MOUSE_HOVER_CHANGE"),gh=R("SKIN_PUT_VISIBILITY_ON_INIT"),Eh=R("SKIN_PUT_MOUSE_MOTIONLESS"),Ah=R("SKIN_PUT_MOUSE_MOTIONLESS_TIMER_ID"),Th=R("SKIN_TOUCH_STARTED_CHANGE"),Sh=R("SKIN_CONTROLS_TOUCH_STARTED_CHANGE"),_h=R("MOBILE_SKIN_TAPPED_CHANGE"),bh=R("SKIN_CLICK_LOGO"),Oh=R("SKIN_DOCUMENT_FOCUS_OUT"),Rh=R("SKIN_PUT_TITLE_SETTINGS"),Ph=R("SKIN_TOGGLE_PLAY_PAUSE"),wh=R("SKIN_LOG_SEEK_EVENT"),Ch=R("SKIN_TOUCH_START"),Ih=R("SKIN_TOUCH_END"),Nh=R("SKIN_TOUCH_MOVE"),kh=R("SKIN_PUT_VERTICAL_TOUCH_DISTANCE"),Lh=R("SKIN_PUT_HORIZONTAL_TOUCH_DISTANCE"),Dh=R("SKIN_PUT_USE_NATIVE_SUBTITLES"),jh=R("SKIN_TIMELINE_TOUCH_START"),Mh=R("SKIN_TIMELINE_TOUCH_END"),xh=R("SKIN_PUT_TIMELINE_TOUCH_STARTED"),Fh=R("SKIN_LOAD_TIMELINE_HI_RES_PREVIEW_IMAGE"),Vh=R("SKIN_LOAD_TIMELINE_LOW_RES_PREVIEW_IMAGE_INTERNAL"),Uh=R("SKIN_LOAD_TIMELINE_HI_RES_PREVIEW_IMAGE_INTERNAL"),Bh=R("SKIN_LOAD_TIMELINE_LOW_RES_PREVIEW_IMAGE"),Hh=R("SKIN_PUT_TIMELINE_PREVIEW_IMAGE"),Kh=R("SKIN_CLEAR_TIMELINE_PREVIEW_IMAGE"),Yh=R("SKIN_CLEAR_TIMELINE_PREVIEW_IMAGES"),Gh=R("SKIN_CONFIRM_START_POSITION"),Wh=R("SKIN_CANCEL_START_POSITION"),Zh=R("SKIN_DISABLE_START_POSITION_CONFIRMATION"),zh=R("SKIN_SET_FOCUS_RESTORATION_EXPECTED"),qh=R("SHOW_SKIN"),Xh=(R("HANDLE_POINTER_EVENT"),R("HANDLE_SCREEN_CLICK"),R("HANDLE_SCREEN_DOUBLE_CLICK"),R("HANDLE_SCREEN_MOUSE_MOVE")),Qh=(R("HANDLE_SCREEN_MOUSE_ENTER"),R("HANDLE_SCREEN_MOUSE_LEAVE"),R("SET_LOGO_WIDGET_SETTINGS")),Jh=R("SET_LOGO_WIDGET_FORCE_EXPANDED"),$h=R("SET_LOGO_WIDGET_ACTION_STATUS"),ef=(R("CALL_LOGO_WIDGET_ACTION"),R("DOCUMENT_CAPTURE_CLICK")),tf=R("SKIN_SHARE_BUTTON_CLICK");var rf=r(130),nf=r(64),af=r(237),of=r(43),sf=r(217);const cf=Object(ds.h)(5e3);var df=r(114);const lf=Object(ds.j)(5*Co.c);let uf=Object(ds.j)(0);const hf=Object(ds.h)(5e3),ff=Object(ds.h)(1e4),pf=Object(ds.h)(6e4);var vf=r(93),yf=r(128);const mf={[zs.overlaySelfPromo]:"overlay",[zs.preroll]:"preroll",[zs.midroll]:"midroll",[zs.postroll]:"postroll",[zs.inroll]:"midroll"},gf={[zs.preroll]:"preroll",[zs.midroll]:"midroll",[zs.overlay]:"overlay",[zs.postroll]:"postroll",[zs.notReplaced]:"notReplaced",[zs.inroll]:"inroll",[zs.externalInroll]:"inroll",[zs.inrollOverlay]:"inroll-overlay",[zs.intro]:"preroll",[zs.jingle]:"midroll",[zs.overlaySelfPromo]:"overlay"},Ef=e=>gf[e],Af=new class{constructor(){this.nextIndex=void 0,this.lastEndTime=void 0,this.prevWatchedTime=void 0,this.waitingForCreativeFinish=void 0,this.reset()}requestCreative(e){var{watchedTime:t,promoConfig:e}=e;if(this.updateWatchedTime(t),void 0!==e.overlaySelfPromo&&!(this.waitingForCreativeFinish||this.nextIndex>=e.overlaySelfPromo.length)){e=e.overlaySelfPromo[this.nextIndex];return t-this.lastEndTime>=e.offset?(this.waitingForCreativeFinish=!0,this.nextIndex++,e):void 0}}onCreativeFinished(e){this.updateWatchedTime(e),this.lastEndTime=e,this.waitingForCreativeFinish=!1}reset(){this.nextIndex=0,this.lastEndTime=0,this.prevWatchedTime=0,this.waitingForCreativeFinish=!1}updateWatchedTime(e){e<this.prevWatchedTime&&this.reset(),this.prevWatchedTime=e}};let Tf,Sf;(t=Tf=Tf||{}).PLAY="play",t.PAUSE="pause",t.REPLAY="replay",(Ka=Sf=Sf||{}).INDEX="INDEX",Ka.PLAYBACK_RATE="PLAYBACK_RATE",Ka.VIDEO_TRACK="VIDEO_TRACK",Ka.AUDIO_TRACK="AUDIO_TRACK",Ka.TEXT_TRACK="TEXT_TRACK";Lo=r(44);const _f=Object(ds.f)(-1),bf={name:Object(Lo.a)("TRACK_AUTO","ru"),value:"auto",bitrate:_f};var Of=r(57),Rf=r(63),Pf=r(32);let wf,Cf;(t=wf=wf||{}).LOGO_WATERMARK="player_watermark",t.BRAND_LOGO="yandex_logo",t.CONTEXT_MENU="player_context_menu",t.SHARE_BUTTON="player_share_button",t.RECOMMENDATIONS="player_recommendations",(Ka=Cf=Cf||{}).DOWNLOAD_DEBUG="DOWNLOAD_DEBUG",Ka.CLOSE_CONTEXT_MENU="CLOSE_CONTEXT_MENU",Ka.COPY_LINK="COPY_LINK",Ka.COPY_LINK_WITH_TIME="COPY_LINK_WITH_TIME",Ka.COPY_VSID="COPY_VSID",Ka.COPY_HTML="COPY_HTML";var Lo=r(160),If=r.n(Lo);Object(ds.j)(10),Object(ds.j)(10);const Nf=Object(ds.j)(5);var kf=r(34),Lf=r(182);const Df=Object(ds.h)(1e3),jf={clear:ho.a,event:null},Mf=Object(ds.h)(3e3),xf=Object(ds.h)(Mf/2),Ff=Object(ds.h)(7e3);let Vf=-1;const Uf={[ss.a.PLAY]:Tf.PAUSE,[ss.a.PAUSE]:Tf.PLAY,[ss.a.BUFFERING]:Tf.PLAY,[ss.a.END]:Tf.REPLAY};var Bf=r(84),Hf=r(101);const Kf=[zs.midroll,zs.postroll,zs.preroll,zs.externalInroll];let Yf,Gf;(t=Gf=Gf||{}).NATIVE="NATIVE",t.HLS="HLS",t.MPD="MPD",t.MP4="MP4",t.YANDEX="YANDEX";var Wf=r(76),Zf=r(82);const zf=["ts","m4s","m4f"],qf=Object(ds.h)(2e3),Xf=Object(ds.j)(1);var Qf=r(116),Jf=r(69),$f=r(184);const ep=(e,t)=>{var e=e["payload"],t=t["payload"];return e===t},tp=/<\s*\w+?[^>]*>|<\s*\/\s*\w+?>/g,rp=/<script[\d\D]*?>([\d\D]*?<\/script\s*>)?/gm,np=R("SHARING_RESET"),ip=R("SHARING_PUT"),ap={link:void 0,html:void 0,title:void 0,text:void 0,showShareButtonInFullscreenOnly:!1};var op=r(42),sp=r(408),Ka=r(134),Lo=r(279),t=r(286);const cp={size:Lo.a,width:Object(ds.i)(0),height:Object(ds.i)(0),hiddenControls:[],useNativeControls:!1,useNativeFullscreen:!1,useNativeSubtitles:!1,nativeControlsVisibility:!0,contextMenuPosition:void 0,contextMenuVisibility:!1,contextMenuVisibilityLock:!1,showReportButton:!1,showBrandLogo:!1,showBrandPlayButton:!1,showUnmuteButtonForAll:!1,showStartScreen:!0,brandIntroState:Ss.None,isMobileSkin:!1,showPreloader:!1,seeking:!1,volumeChanging:!1,settingsVisible:!1,settingsVisibilityBeforeDocumentClick:!1,mouseMotionlessTimeoutId:0,skinMouseHovered:!1,controlMouseHovered:!1,mouseMotionless:!0,skinVisibilityOnInit:!0,controlTouchStarted:!1,mobileSkinTapped:!1,seekTapEvent:void 0,startPositionConfirmation:void 0,primaryColor:Ka.a,secondaryColor:Ka.b,title:t.a,skinDVRStartTime:Object(ds.j)(0),skinDVRDuration:Object(ds.j)(0),verticalTouchDistance:Object(ds.i)(0),horizontalTouchDistance:Object(ds.i)(0),timelineTouchStarted:!1,timelinePreviewImages:{},logoWidget:void 0,focusRestorationExpected:!1,handleVideoTagClickWhenHidingNativeControls:!0};var dp=r(225),lp=r(241);Bf.b.map(e=>({value:e,disabled:1<e})),Bf.b.map(e=>({value:e,disabled:e<1})),Bf.b.map(e=>({value:e,disabled:!1}));const up=Bf.b.filter(e=>e<=1),hp=Bf.b.filter(e=>1<=e);let fp;(t=fp=fp||{}).ApiPlay="ApiPlay",t.VolumeChange="VolumeChange",t.MuteChange="MuteChange";var pp=r(89),vp=r(149),yp=r(103),mp=r(306);t=r(307);const gp={startPosition:{},additionalParams:pp.a,adConfig:void 0,withCredentials:!1,loop:!1,preview:"",logoConfig:void 0,shareConfig:void 0,netParams:t.a,videoInfo:{}};var Ep=r(193),Ap=r(166);const Tp={2:Ws.a.RAA_TAKING_2SEC,10:Ws.a.RAA_TAKING_10SEC},Sp=Object(ds.j)(5),_p=Object(ds.h)(500);let bp;(t=bp=bp||{}).VideoIsNotPausedOnInit="VideoIsNotPausedOnInit",t.DetectByInterval="DetectByInterval",t.VideoPlayEvent="VideoPlayEvent",t.PlayCallback="PlayCallback";var Op=r(29),Rp=r(85);let Pp;(t=Pp=Pp||{}).firstNetworkAdSDK="first.network.adsdk",t.firstNetworkHLS="first.network.hls",t.firstNetworkMPD="first.network.mpd",t.firstNetworkMP4="first.network.mp4",t.firstNetworkNative="first.network.native",t.firstNetworkYandex="first.network.yandex",t.firstNetworkAdSDKHLS="first.network.adsdk.hls",t.firstNetworkAdSDKMPD="first.network.adsdk.mpd",t.firstNetworkAdSDKMP4="first.network.adsdk.mp4",t.firstNetworkAdSDKNative="first.network.adsdk.native",t.firstNetworkAdSDKYandex="first.network.adsdk.yandex",t.setSourceNetworkAdSDK="setsource.network.adsdk",t.setSourceNetworkHLS="setsource.network.hls",t.setSourceNetworkMPD="setsource.network.mpd",t.setSourceNetworkMP4="setsource.network.mp4",t.setSourceNetworkNative="setsource.network.native",t.setSourceNetworkYandex="setsource.network.yandex",t.setSourceNetworkAdSDKHLS="setsource.network.adsdk.hls",t.setSourceNetworkAdSDKMPD="setsource.network.adsdk.mpd",t.setSourceNetworkAdSDKMP4="setsource.network.adsdk.mp4",t.setSourceNetworkAdSDKNative="setsource.network.adsdk.native",t.setSourceNetworkAdSDKYandex="setsource.network.adsdk.yandex";var wp=r(168),Cp=r(169);let Ip;(t=Ip=Ip||{}).firstLoadSource="firstloadsource",t.yaFirstFrameDecodedMP4="ya.firstframedecoded.mp4",t.yaFirstFrameDecodedMPD="ya.firstframedecoded.mpd",t.yaFirstFrameDecodedHLS="ya.firstframedecoded.hls",t.yaFirstFrameDecodedYandex="ya.firstframedecoded.yandex",t.yaFirstFrameDecodedNative="ya.firstframedecoded.native",t.yaFirstFrameDecodedAdSDK="ya.firstframedecoded.adsdk",t.yaFirstFrameShownMP4="ya.firstframeshown.mp4",t.yaFirstFrameShownMPD="ya.firstframeshown.mpd",t.yaFirstFrameShownHLS="ya.firstframeshown.hls",t.yaFirstFrameShownYandex="ya.firstframeshown.yandex",t.yaFirstFrameShownNative="ya.firstframeshown.native",t.yaFirstFrameShownAdSDK="ya.firstframeshown.adsdk",t.autoplayFalse="autoplayfalse",t.firstStartAdSDKFailed="firststart.adsdk.failed",t.firstStartAdSDK="firststart.adsdk",t.firstStartYandex="firststart.yandex",t.firstStartHLS="firststart.hls",t.firstStartMP4="firststart.mp4",t.firstStartMPD="firststart.mpd",t.firstStartNative="firststart.native",t.firstStartAdSDKYandex="firststart.adsdk.yandex",t.firstStartAdSDKHLS="firststart.adsdk.hls",t.firstStartAdSDKMPD="firststart.adsdk.mpd",t.firstStartAdSDKMP4="firststart.adsdk.mp4",t.firstStartAdSDKNative="firststart.adsdk.native";const Np={[Gf.HLS]:Ip.firstStartHLS,[Gf.MPD]:Ip.firstStartMPD,[Gf.MP4]:Ip.firstStartMP4,[Gf.NATIVE]:Ip.firstStartNative,[Gf.YANDEX]:Ip.firstStartYandex,AD:Ip.firstStartAdSDK},kp={[Gf.HLS]:Ip.firstStartAdSDKHLS,[Gf.MPD]:Ip.firstStartAdSDKMPD,[Gf.MP4]:Ip.firstStartAdSDKMP4,[Gf.NATIVE]:Ip.firstStartAdSDKNative,[Gf.YANDEX]:Ip.firstStartAdSDKYandex,AD:Ip.firstStartAdSDK},Lp={[Gf.HLS]:Ip.yaFirstFrameDecodedHLS,[Gf.MPD]:Ip.yaFirstFrameDecodedMPD,[Gf.MP4]:Ip.yaFirstFrameDecodedMP4,[Gf.NATIVE]:Ip.yaFirstFrameDecodedNative,[Gf.YANDEX]:Ip.yaFirstFrameDecodedYandex,AD:Ip.yaFirstFrameDecodedAdSDK},Dp={[Gf.HLS]:Ip.yaFirstFrameShownHLS,[Gf.MPD]:Ip.yaFirstFrameShownMPD,[Gf.MP4]:Ip.yaFirstFrameShownMP4,[Gf.NATIVE]:Ip.yaFirstFrameShownNative,[Gf.YANDEX]:Ip.yaFirstFrameShownYandex,AD:Ip.yaFirstFrameShownAdSDK},jp={[Gf.HLS]:Pp.firstNetworkHLS,[Gf.MPD]:Pp.firstNetworkMPD,[Gf.MP4]:Pp.firstNetworkMP4,[Gf.NATIVE]:Pp.firstNetworkNative,[Gf.YANDEX]:Pp.firstNetworkYandex,AD:Pp.firstNetworkAdSDK},Mp={[Gf.HLS]:Pp.firstNetworkAdSDKHLS,[Gf.MPD]:Pp.firstNetworkAdSDKMPD,[Gf.MP4]:Pp.firstNetworkAdSDKMP4,[Gf.NATIVE]:Pp.firstNetworkAdSDKNative,[Gf.YANDEX]:Pp.firstNetworkAdSDKYandex,AD:Pp.firstNetworkAdSDK},xp={[Gf.HLS]:Pp.setSourceNetworkHLS,[Gf.MPD]:Pp.setSourceNetworkMPD,[Gf.MP4]:Pp.setSourceNetworkMP4,[Gf.NATIVE]:Pp.setSourceNetworkNative,[Gf.YANDEX]:Pp.setSourceNetworkYandex,AD:Pp.setSourceNetworkAdSDK},Fp={[Gf.HLS]:Pp.setSourceNetworkAdSDKHLS,[Gf.MPD]:Pp.setSourceNetworkAdSDKMPD,[Gf.MP4]:Pp.setSourceNetworkAdSDKMP4,[Gf.NATIVE]:Pp.setSourceNetworkAdSDKNative,[Gf.YANDEX]:Pp.setSourceNetworkAdSDKYandex,AD:Pp.setSourceNetworkAdSDK};let Vp,Up=-1;const Bp={sourceStart:!1,yaFirstFrameDecoded:!1,yaFirstFrameShown:!1};var Hp=r(144);const Kp={onCurrentTimeChange:ho.a,onDurationChange:ho.a,onVolumeChange:ho.a,onStateChange:ho.a,onSeek:ho.a,onAdStateChange:ho.a,onAdPodStart:ho.a,onFullScreenChange:ho.a,onErrorScreenVisibilityChange:ho.a,onError:ho.a,onRecover:ho.a,onUserAction:ho.a,onVideoTrackChange:ho.a,onAudioTrackChange:ho.a,onTextTrackChange:ho.a,onThumbnailTileGeneralMetaInfoChange:ho.a,onVideoTracksChange:ho.a,onAudioTracksChange:ho.a,onTextTracksChange:ho.a,onSubtitlesChange:ho.a,onVideoTypeChange:ho.a,onPlaybackRateChange:ho.a,onOriginalBroadcastAdStateChange:ho.a,onAdblockDetected:ho.a,onChangeStream:ho.a,onSetSourceRequest:ho.a,onFeatureEvent:ho.a,onSkinReady:ho.a,onContentImpression:ho.a,onResourcesIdle:ho.a,onVisualStateChange:ho.a,onSaveDataOutsideIframe:ho.a,onBufferingRangesChange:ho.a,onStartStageChange:ho.a,onVideoSizeChange:ho.a,onVideoReadyStateChange:ho.a,onVideoClickerEvent:ho.a,onLogoWidgetActionCall:ho.a,logEvent:ho.a,onNextAdRemainingTimeChange:ho.a,onAdSDKVersionDefined:ho.a,onStreamsWithSupportInfoChange:ho.a,onEngineChange:ho.a};let Yp,Gp,Wp;(t=Yp=Yp||{}).ON="ON",t.OFF="OFF",(t=Gp=Gp||{}).setSource="setSource",t.destroy="destroy",t.end="end",(t=Wp=Wp||{})[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";const Zp=Object(Zf.a)(64);class zp{constructor(e){void 0===e&&(e=Zp),this.vsid=e}sendData(e,t){const r=new FormData;r.append("debugInfo",JSON.stringify(t)),r.append("reason",e.reason),r.append("badFragmentInfo",JSON.stringify(e.badFragment.frag)),r.append("badFragment",e.badFragment.data),e.prevFragment&&(r.append("prevFragmentInfo",JSON.stringify(e.prevFragment.frag)),r.append("prevFragment",e.prevFragment.data)),q({method:"POST",url:Object(Io.b)("https://log.strm.yandex.net/chunk/",{vsid:this.vsid,uri:e.badFragment.url}),data:r}).catch(e=>{})}}const qp=(t,r)=>{for(let e=0;e<t.length;e++)if(r(t[e],e,t))return!0;return!1};var Xp=r(153),Qp=r(68),Jp=r(208),$p=r(53);const ev=e=>"m3u8"===Object(Io.c)(e.toLocaleLowerCase()),tv=e=>"mpd"===Object(Io.c)(e.toLocaleLowerCase()),rv="com.apple.fps.1_0",nv="com.apple.fps.2_0";var iv,av=r(14);const ov=(t=(iv=void 0===iv?window:iv).MediaSource||iv.WebKitMediaSource)&&Object(av.a)(t.isTypeSupported)&&!function(e){e=(e=void 0===iv?window:iv).SourceBuffer||e.WebKitSourceBuffer;return e&&!(e.prototype&&Object(av.a)(e.prototype.appendBuffer)&&Object(av.a)(e.prototype.remove))}(iv)?t:void 0;var sv=r(102);const cv=function(e){void 0===e&&(e=window);e=Object(Ga.a)(e).toLowerCase();return/yandexstation.*yandexio/.test(e)||/station.*crosswalk/.test(e)}();var dv=r(71);const lv={supported:!0,engine:Gf.NATIVE},uv={supported:!0,engine:Gf.HLS};var hv,fv=r(209),t=r(20),pv=r.n(t),vv=r(74),yv=r(117);const mv=(void 0===hv&&(hv=window),/Chrome/.test(hv.navigator.userAgent)&&/Google Inc/.test(hv.navigator.vendor)&&!Object(yv.a)(hv)),gv=(void 0===Xv&&(Xv=window),/firefox/.test(Xv.navigator.userAgent.toLowerCase()));var Ev=r(290);const Av=Object(yv.a)();var Tv=r(305);let Sv;(Xv=Sv=Sv||{}).fairplay="fairplay",Xv.playready="playready",Xv.widevine="widevine";const _v={[Sv.fairplay]:["com.apple.fairplay",rv,nv],[Sv.widevine]:["com.widevine.alpha"],[Sv.playready]:["com.microsoft.playready"]},bv=(Xv=Hn(_v),[].concat.apply([],Xv)),Ov=[-1,-1,-1,-1];let Rv,Pv;(Xv=Rv=Rv||{}).YandexBrowserLinux="YandexBrowserLinux",Xv.OldYandexBrowser="OldYandexBrowser",Xv.WebKitMediaKeys="WebKitMediaKeys",Xv.requestMediaKeySystemAccess="requestMediaKeySystemAccess",Xv.MSMediaKeys="MSMediaKeys",Xv.GenerateKeyRequest="GenerateKeyRequest",Xv.Constant="Constant",Xv.NotAvailable="NotAvailable";const wv=[],Cv=Object(ds.h)(2592e5);let Iv;const Nv=Object(To.a)(async e=>{var t=e["video"],e=function(){try{var e=pv.a.getItem("videoplayer-supported-drm-systems");if(null===e)return;var{value:t,time:r,version:n}=JSON.parse(e);return Date.now()-r>Cv?void pv.a.removeItem("videoplayer-supported-drm-systems"):"18ad78e3acef91ac0ae0ce3dac71991c"!==n?void pv.a.removeItem("videoplayer-supported-drm-systems"):0===t.supportedDrmSystems.length?void 0:t}catch(e){return}}();Object(Rp.b)("detect.drm");const r=e||await async function(e){void 0===Pv&&(Pv=Yn(e));e=await Pv;return Kn({},e,{supportedDrmSystems:[...e.supportedDrmSystems]})}({video:t});return wv.forEach(e=>e(r)),wv.length=0,Iv=r,void 0===e&&function(e){if(0!==e.supportedDrmSystems.length)try{pv.a.setItem("videoplayer-supported-drm-systems",JSON.stringify({value:e,time:Date.now(),version:"18ad78e3acef91ac0ae0ce3dac71991c"}))}catch(e){}}(r),Object(Rp.a)("detect.drm"),r.supportedDrmSystems}),kv=document.createElement("video");var Lv=r(278);const Dv={destroy:ho.a,setStatsRootFields:ho.a,updateAdConfig:ho.a,getNextAdInfo:()=>{},preroll:{loadViewers:()=>Promise.resolve([])},midroll:{loadViewers:()=>Promise.resolve([])},inroll:{loadViewers:()=>Promise.resolve([])},inrollOverlay:{loadViewers:()=>Promise.resolve([])},overlay:{loadViewers:()=>Promise.resolve([])},postroll:{loadViewers:()=>Promise.resolve([])}},jv=[{end:750,name:"750)"},{end:1250,name:"[750-1250)"},{end:2e3,name:"[1250-2000)"},{end:3500,name:"[2000-3500)"},{end:5500,name:"[3500-5500)"},{end:9e3,name:"[5500-9000)"},{end:1/0,name:"[9000"}];var Mv=r(234);const xv=window;var Fv=r(115),Vv=r(214);class Uv{constructor(e){this.length=e,this.list=[]}push(e){this.list.length>=this.length&&this.list.shift(),this.list.push(e)}getAll(){return this.list}clear(){this.list.length=0}}class Bv extends Ya.a{constructor(e){super(),this.history=new Uv(100),this.addDestroyHandler(Object(oo.a)(e,"logposted",e=>{this.history.push(e.data)})),this.addDestroyHandler(()=>{this.history=null})}getHistory(){return this.history?[...this.history.getAll()]:["MediaInternalsHistory is destroyed"]}}class Hv{constructor(){this.onOnline=new Po.a,this.onOffline=new Po.a,this.onDestroy=new Po.a,this.onDestroy.addOne(Object(oo.a)(window,"online",()=>{this.onOnline.dispatch(void 0)})),this.onDestroy.addOne(Object(oo.a)(window,"offline",()=>{this.onOffline.dispatch(void 0)}))}destroy(){this.onDestroy.dispatch(void 0)}}const Kv={primaryColor:Ka.a,secondaryColor:Ka.b},Yv={setItem(e,t){try{sessionStorage.setItem(e,t)}catch(e){}},getItem(e){try{return sessionStorage.getItem(e)}catch(e){return null}},removeItem(e){try{sessionStorage.removeItem(e)}catch(e){}}},Gv=["start","end"];class Wv{constructor(){this.playbackProgressKey="",this.lastProgress=void 0,this.enabled=!1}setEnabled(e){this.enabled=e=void 0===e?!1:e}setKey(e){this.lastProgress=void 0,this.playbackProgressKey=e}clearKey(){this.lastProgress=void 0,this.playbackProgressKey=""}setKeyByStream(e){var e=e["url"];if(e){const t=Object(Io.g)(e),r=Object(Io.f)(t.search),n=Gv.reduce((e,t)=>(t in r&&(e[t]=r[t]),e),{});this.setKey(Object(Io.b)(Object(Io.h)(ci({},t,{search:""})),n))}else this.clearKey()}getProgress(){if(this.enabled&&this.playbackProgressKey){var e,e=(e=this.playbackProgressKey,Number(Yv.getItem(e)||void 0));return isNaN(e)?void 0:Object(ds.j)(e)}}saveProgress(e){var t;this.enabled&&this.playbackProgressKey&&("number"==typeof this.lastProgress&&Math.abs(this.lastProgress-e)<1||(this.lastProgress=e,t=this.playbackProgressKey,e=e,Yv.setItem(t,String(e))))}}const Zv={reportUrl:"https://log.strm.yandex.ru/perf",updateInterval:3e4,urlRegexp:"^https?:\\/\\/([^\\/]+\\.)?("+["(an|strm)\\.yandex\\.(ru|net)","cdn\\.ngenix\\.net","strm\\.yandex\\.cdnga\\.net","strm-yandex\\.gcdn\\.co","(widevine|playready|fairplay)-proxy\\.ott\\.yandex\\.ru"].join("|")+")\\/(?!log|perf|jstracer)",enabled:!0,historySize:200};class zv{static clearResourceTimings(){"function"==typeof performance.clearResourceTimings?performance.clearResourceTimings():"function"==typeof performance.webkitClearResourceTimings&&performance.webkitClearResourceTimings()}constructor(e){void 0===e&&(e={}),this.timeoutId=void 0,this.history=[],this.config=void 0,this.urlRegexp=void 0,this.enabled=!1,zv.isSupported&&(this.config=li({},Zv,e),this.config.enabled&&(this.enabled=!0,this.urlRegexp=new RegExp(this.config.urlRegexp),this.loop()))}destroy(){clearTimeout(this.timeoutId)}async updateInfo(){if(this.config&&this.enabled){var e=this.getCurrentResourcesTimings();if(zv.clearResourceTimings(),0!==e.length){this.history.push(...e),this.history.length>this.config.historySize&&this.history.splice(0,this.history.length-this.config.historySize);var t=Object(Io.b)(this.config.reportUrl,{perfnow:String(Date.now()),navstart:String(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart)},{saveOriginalPath:!0});try{await q({method:"POST",data:JSON.stringify(e),url:t})}catch(e){}}}}getCurrentResourcesTimings(){return zv.isSupported&&this.enabled?performance.getEntriesByType("resource").filter(e=>{var e=e["name"];return this.urlRegexp.test(e)&&e!==this.config.reportUrl}):[]}getLastResourcesTimings(){return this.history}getAllResourcesTimings(){return[...this.getLastResourcesTimings(),...this.getCurrentResourcesTimings()]}loop(){!this.config||this.config.updateInterval<=0||(this.timeoutId=window.setTimeout(async()=>{await this.updateInfo(),this.loop()},this.config.updateInterval))}}zv.isSupported=window.performance&&"function"==typeof window.performance.getEntriesByType&&("function"==typeof performance.clearResourceTimings||"function"==typeof performance.webkitClearResourceTimings);var qv=r(196),Xv=r(409),Qv=r.n(Xv),Ka=r(232);const Jv=Object(Ka.a)(window),$v=function(e){e=Object(Ga.a)(e).match(/Firefox\/([0-9]+)\./);return e&&parseInt(e[1],10)||-1}(window);Xv=r(157),Ka=Object(Xv.a)(),Xv=r(230);64<=Jv&&!Ka&&!fs.a&&!za&&Xv.a;class ey{constructor(e){let{parentElement:t,ignorePointerEvents:r,visibleOnInit:n}=e;this.slotWrapper=void 0,this.slotElement=void 0,this.ignorePointerEvents=void 0,this.ignorePointerEvents=r,this.slotWrapper=t.ownerDocument.createElement("div"),Object(so.a)(this.slotWrapper,ps.a.player__slot),this.setVisible(n),r&&(this.slotWrapper.style.pointerEvents="none"),this.slotElement=t.ownerDocument.createElement("div"),Object(so.a)(this.slotElement,ps.a.player__slot),this.slotWrapper.appendChild(this.slotElement),t.appendChild(this.slotWrapper)}setVisible(e){this.slotWrapper.style.opacity=e?"1":"0",this.slotWrapper.style.pointerEvents=e&&!this.ignorePointerEvents?"auto":"none"}remove(){Object(Fo.a)(this.slotWrapper)}getElement(){return this.slotElement}}var ty=r(288);class ry extends ey{constructor(e){super(e),this.videoElement=void 0;var e=e["videoElement"];this.videoElement=e;const t=Object(ty.a)(e);this.slotElement.appendChild(e),t()}getVideoElement(){return this.videoElement}}class ny{constructor(e){this.parentElement=void 0,this.useNativeControls=void 0,this.forceUsingSeamlessAd=void 0,this.originalVideoSlot=void 0,this.skinSlot=void 0,this.adElementsSetObjects=[],this.visibleSlotsSet=void 0;var{parentElement:t,originalVideoElement:r,useNativeControls:n,forceUsingSeamlessAd:e}=e;this.useNativeControls=n,this.forceUsingSeamlessAd=e,this.parentElement=t,this.originalVideoSlot=new ry({videoElement:r,parentElement:t,ignorePointerEvents:!1,visibleOnInit:!0}),this.skinSlot=new ey({parentElement:t,ignorePointerEvents:n,visibleOnInit:!0}),this.showSkinAndOriginalVideo()}getSkinElement(){return this.skinSlot.getElement()}clearAdSlots(){this.adElementsSetObjects.forEach(e=>{let{adSlot:t,videoSlot:r}=e;t.remove(),r!==this.originalVideoSlot&&r.remove()}),this.adElementsSetObjects.length=0}showSkinAndOriginalVideo(){this.setVisibleSlotsSet({videoSlot:this.originalVideoSlot,htmlSlot:this.skinSlot}),this.clearAdSlots()}showAdElementsSet(t){var e=this.adElementsSetObjects.find(e=>e.adElementsSet===t);e&&this.setVisibleSlotsSet({videoSlot:e.videoSlot,htmlSlot:e.adSlot})}createAdElementsSet(e){var t=e["adType"],e=this["parentElement"];const r=e.ownerDocument,n=t===zs.overlay,i=n&&!this.useNativeControls?r.getElementById(Qv.a.overlapAdContainer):e;if(i){const a=new ey({parentElement:i,ignorePointerEvents:n,visibleOnInit:n}),o=this.originalVideoSlot;fi(this.originalVideoSlot.getVideoElement(),o.getVideoElement());e={videoSlotElement:o.getVideoElement(),isOriginalVideoSlot:!0,adSlotElement:a.getElement()};return this.adElementsSetObjects.push({videoSlot:o,adSlot:a,adElementsSet:e}),e}}setVisibleSlotsSet(e){let{videoSlot:t,htmlSlot:r}=e;this.visibleSlotsSet&&(r!==this.visibleSlotsSet.htmlSlot&&this.visibleSlotsSet.htmlSlot.setVisible(!1),t!==this.visibleSlotsSet.videoSlot&&this.visibleSlotsSet.videoSlot.setVisible(!1),fi(this.visibleSlotsSet.videoSlot.getVideoElement(),t.getVideoElement())),t.setVisible(!0),r.setVisible(!0),this.visibleSlotsSet={videoSlot:t,htmlSlot:r}}}var fs=r(310),iy=r.n(fs);const ay=r(516)["isSupported"],oy=ay();var sy=r(104),cy=r(161),dy=r(67);const ly=r(505)["ErrorDetails"],uy=[ly.FRAG_LOAD_ERROR,ly.FRAG_LOAD_TIMEOUT,ly.FRAG_PARSING_ERROR,ly.BUFFER_APPEND_ERROR,ly.INTERNAL_EXCEPTION,ly.LEVEL_LOAD_TIMEOUT,ly.MANIFEST_LOAD_ERROR,ly.MANIFEST_LOAD_TIMEOUT],hy=[ly.FRAG_LOAD_ERROR,ly.FRAG_LOAD_TIMEOUT,ly.FRAG_PARSING_ERROR,ly.LEVEL_LOAD_TIMEOUT],fy=[ly.MANIFEST_LOAD_ERROR,ly.MANIFEST_LOAD_TIMEOUT],py=[ly.FRAG_DECRYPT_ERROR,ly.FRAG_PARSING_ERROR,ly.BUFFER_STALLED_ERROR,ly.BUFFER_NUDGE_ON_STALL];class vy{constructor(e){this.lastLoadedFragBlobs=void 0,this.lastPlayedFrags=void 0,this.lastLoadedFrags=void 0,this.lastLoadedFragBlobs=new Uv(e),this.lastPlayedFrags=new Uv(e),this.lastLoadedFrags=new Uv(e)}putFragBlob(e){this.lastLoadedFragBlobs.push(e)}putPlayedFrag(e){this.lastPlayedFrags.push(e)}putLoadedFrag(e){this.lastLoadedFrags.push(e)}getBadFragmentReport(e,t){var r=this.getFragmentData(e);if(r)return{badFragment:r,prevFragment:this.getPrevFrag(e),reason:t}}getLastLoadedFragmentReport(e){var t=this.lastLoadedFrags.getAll(),r=t["length"];return 0<r?this.getBadFragmentReport(t[r-1],e):void 0}getFragmentData(t){const e=this.lastLoadedFragBlobs.getAll().find(e=>e.url===t.url);return e&&!e.frag&&(e.frag=vi(t)),e}getPrevFragFromList(e,t){const r=e.getAll(),n=r.find(e=>e.url===t.url),i=n?r.indexOf(n):0;if(0<i){const e=r[i-1];return this.getFragmentData(e)}}getPrevFrag(e){return this.getPrevFragFromList(this.lastLoadedFrags,e)||this.getPrevFragFromList(this.lastPlayedFrags,e)}}let yy;(Xv=yy=yy||{}).LOWRES="lowres",Xv.HIGHRES="highres";const my={tiles:"com.yandex.video.thumbnail.lowres.tiles",duration:"com.yandex.video.thumbnail.lowres.duration",resolution:"com.yandex.video.thumbnail.lowres.resolution",uri:"com.yandex.video.thumbnail.lowres.uri"},gy={tiles:"com.yandex.video.thumbnail.tiles",duration:"com.yandex.video.thumbnail.duration",resolution:"com.yandex.video.thumbnail.resolution",uri:"com.yandex.video.thumbnail.uri"},Ey=/^(\d+)x(\d+)@(\d+)$/;let Ay;(Ay=Ay||{}).WAS_WORKER_INTERNAL_ERROR="YANDEX_PLAYER_HLS_WAS_WORKER_INTERNAL_ERROR";let Ty;(fs=Ty=Ty||{}).HasAd="HasAd",fs.NoAd="NoAd",fs.NoData="NoData";const Sy=e=>{e=e.match(/\?/g);return!e||e.length<2};var _y=r(210);class by{constructor(e,t,r,n){void 0===r&&(r=0),this.win=e,this.callback=t,this.minDiff=r,this.maxDiff=n,this.time=0,this.startTime=0,this.id=0,this.maxDiffTimeoutId=0,this.started=!1,this.loop=()=>{this.clearTimeouts();var e=Date.now(),t=e-this.startTime;t>=this.minDiff&&(this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t})),this.started&&this.startDelay()},this.animationFrameFunctions=Object(_y.a)(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop),void 0!==this.maxDiff&&(this.maxDiffTimeoutId=this.win.setTimeout(this.loop,this.maxDiff))}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id),this.win.clearTimeout(this.maxDiffTimeoutId)}}var Oy=r(90);const Ry=function(){var e=Oy.a["volume"];Oy.a.volume=0===e?1:0;var t=Oy.a.volume!==e;return Oy.a.volume=e,t}();var Py,wy,Cy=r(213);(Xv=Py=Py||{})[Xv.UNKNOWN=0]="UNKNOWN",Xv[Xv.ETHERNET=1]="ETHERNET",Xv[Xv.WIFI=2]="WIFI",Xv[Xv.CELL_2G=3]="CELL_2G",Xv[Xv.CELL_3G=4]="CELL_3G",(fs=wy=wy||{}).BLUETOOTH="bluetooth",fs.CELLULAR="cellular",fs.ETHERNET="ethernet",fs.MIXED="mixed",fs.NONE="none",fs.OTHER="other",fs.UNKNOWN="unknown",fs.WIFI="wifi",fs.WIMAX="wimax";var Iy=r(211);const Ny=null===Oy.a.onwaiting,ky=(e,t)=>{let r=!1;const n=Object(oo.a)(e,"waiting",()=>{r||(r=!0,t(!0))},{passive:!0}),i=Object(oo.a)(e,"playing",()=>{r&&(r=!1,t(!1))},{passive:!0}),a=Object(oo.a)(e,"canplay",()=>{r&&(r=!1,t(!1))},{passive:!0});return()=>{n(),i(),a()}},Ly=!Ny||io.a||sv.a?(n,i)=>{let a=0,o=!1;return Object(as.a)(()=>{var e=n.currentTime,t=n.duration,r=1/os.a;if(!n.paused){const n=a+r;o?e>n&&(i(!1),o=!1):e<n&&e!==t&&(i(!0),o=!0)}a=e})}:ky;class Dy{constructor(e){this.props=e,this.currentAttempt=0,this.recovering=!1,this.plannedTaskPromise=void 0,this.resetTimeoutId=0}get allowed(){return this.currentAttempt<this.props.maxAttempts}get started(){return 0<this.currentAttempt}get attempt(){return this.currentAttempt}getState(){return this.started?Yp.ON:Yp.OFF}planTask(e,t){let r,{reason:n,delay:i,force:a,rawData:o}=t;if(this.recovering&&!a)return this.log("Can't plan task cause is in process of recover"),void this.props.onConcurrentRecover({reason:n,rawData:o});this.clearPlannedTask("new task planned"),this.clearResetTimeout("new task planned"),"number"==typeof i?(r=Ro(i).promise.then(ho.a),this.log("#"+this.currentAttempt+", PLAN task, "+i+"ms, ["+n+"]",o)):(r=i,this.log("#"+this.currentAttempt+", PLAN async task, ["+n+"]",o)),Object(So.a)(r),r.then(()=>{if(r===this.plannedTaskPromise)return this.recovering=!0,this.currentAttempt++,this.props.onRunTask({reason:n,delay:i,rawData:o,attempt:this.currentAttempt}),this.log("#"+this.currentAttempt+", RUN task, ["+n+"]",o),this.clearPlannedTask(),e()}).catch(e=>{this.log("Error while recover",e),this.props.onRecoverError({reason:n,rawData:o},e)}).then(()=>{this.recovering=!1}),this.plannedTaskPromise=r}planReset(e){let{reason:t,delay:r}=e;this.log("plan RESET, "+r+"ms, if ["+t+"]"),this.clearResetTimeout("new reset planned"),this.resetTimeoutId=window.setTimeout(()=>{this.reset(t)},r)}destroy(){this.reset("destroy")}reset(e){this.props.onReset(),this.log("RESET because of ["+e+"]"),this.clearPlannedTask(),this.clearResetTimeout(),this.currentAttempt=0}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hs.a.log("RecoverHelper:",...t)}clearPlannedTask(e){e&&this.log("CLEAR planned TASKS because of ["+e+"]"),this.plannedTaskPromise=void 0}clearResetTimeout(e){e&&this.log("CLEAR planned RESET because of ["+e+"]"),0!==this.resetTimeoutId&&(clearTimeout(this.resetTimeoutId),this.resetTimeoutId=0)}}const jy=Object(ds.j)(30),My=Object(ds.j)(5);var Xv=r(194),xy=r.n(Xv),Fy=r(165);const Vy=r(137).a?9e5:864e5;var fs=r(410),Uy=r.n(fs),By=r(73);const Hy=Object(By.a)(window);class Ky{constructor(e){this.alpha=void 0,this.estimate=void 0,this.totalWeight=void 0,this.alpha=e?Math.exp(Math.log(.5)/e):0,this.estimate=0,this.totalWeight=0}sample(e,t){var r=Math.pow(this.alpha,e);this.estimate=t*(1-r)+r*this.estimate,this.totalWeight+=e}getTotalWeight(){return this.totalWeight}getEstimate(){if(this.alpha){var e=1-Math.pow(this.alpha,this.totalWeight);return this.estimate/e}return this.estimate}}class Yy{constructor(){this.minWeight=void 0,this.minDelayMs=void 0,this.slow=void 0,this.fast=void 0,this.minWeight=.001,this.minDelayMs=50,this.slow=new Ky(9),this.fast=new Ky(3)}sample(e,t){e=(e=Math.max(e,this.minDelayMs))/1e3,t=8*t/e;this.fast.sample(e,t),this.slow.sample(e,t)}getEstimate(){return this.canEstimate()?Object(ds.e)(Math.min(this.fast.getEstimate(),this.slow.getEstimate())):Object(ds.e)(NaN)}canEstimate(){const e=this.fast;return e&&e.getTotalWeight()>=this.minWeight}}const Gy=Object(ds.j)(.5),Wy=Object(ds.j)(0);class Zy{constructor(e){this.props=e,this.engine=void 0,this.recoverHelper=void 0,this.video=void 0,this.wasPausedAfterQualityChanged=!1,this.currentTextTrack=void 0,this.onDestroy=new Po.a,this.onDetach=new Po.a,this.onCurrentTimeChange=void 0,this.onLoadedData=void 0,this.onCanPlay=void 0,this.onContentImpression=void 0,this.videoTrackValueSignal=void 0,this.audioTrackValueSignal=void 0,this.textTrackValueSignal=void 0,this.onPlayingStateChange=new Po.a,this.onPlayingStateChangeInternal=new Po.a,this.onVideoTypeChange=new Po.a,this.withCredentials=!1,this.playerStore=void 0,this.currentState=ss.a.PAUSE,this.deepHDTracks=new Set,this.videoTrackLabels=new Map,this.destroy=Object(To.a)(()=>this.destroyUnsafe()),this.animationFramesController=void 0,this.currentSubtitles=[],this.bandwidthEstimateUpdateInterval=null,this.preventPauseState=void 0,this.restoreUserTracks=()=>{this.restoreUserTextTrack(),this.restoreUserAudioTrack(),this.restoreUserVideoTrack()},this.refreshSubtitles=()=>{try{if(!this.video)return;var e=this.getCurrentTextTrack(),t=e?Object(uo.a)(e.activeCues).filter(e=>e&&e.text).map(e=>{var e=e["text"];return e}):[];ls()(this.currentSubtitles,t)||(this.currentSubtitles=t,this.playerStore.dispatch(Ed(t)))}catch(e){this.props.stats.error({error:new Gs(e,{code:Ws.a.REFRESH_SUBTITLES_ERROR,isFatal:!1})})}},this.disableSubtitlesNative=()=>{this.video&&Bi(this.video.textTracks).forEach(e=>{e&&(e.mode="disabled")})},this.emptySubtitles=()=>{0<this.currentSubtitles.length&&(this.currentSubtitles=[],this.playerStore.dispatch(Ed([])))},this.handleConcurrentRecover=e=>{this.props.logEvent({event:"ConcurrentRecoverCalled",params:e})},this.handleRecoverError=(e,t)=>{this.props.onError(new Gs({code:Ws.a.RECOVER_TASK_ERROR,isFatal:!1,details:e,stack:t.stack}))},this.recoverHelper=new Dy({maxAttempts:"number"==typeof e.maxRecoverAttempts?e.maxRecoverAttempts:10,onRunTask:this.props.onRecover,onReset:()=>this.playerStore.dispatch(rd(void 0)),onConcurrentRecover:this.handleConcurrentRecover,onRecoverError:this.handleRecoverError}),this.onDestroy.add(()=>this.recoverHelper.destroy());const{video:t,playerStore:r,sourceParams:n}=this.props;this.video=t,this.playerStore=r,this.onPlayingStateChange=this.props.onPlayingStateChange,this.onCurrentTimeChange=this.props.onCurrentTimeChange,this.videoTrackValueSignal=this.props.videoTrackValueSignal,this.audioTrackValueSignal=this.props.audioTrackValueSignal,this.textTrackValueSignal=this.props.textTrackValueSignal,this.onVideoTypeChange=this.props.onVideoTypeChange,this.onCanPlay=this.props.onCanPlay,this.onLoadedData=this.props.onLoadedData,this.onContentImpression=this.props.onContentImpression,this.onPlayingStateChange.add(e=>{if(e!==ss.a.END||ht(this.state)){if(e===ss.a.PLAY&&!vr(this.state)){const e=this.fragDuration<=2*sy.a?1e3*this.fragDuration:1e3*sy.a;this.recoverHelper.planReset({delay:e,reason:"no new errors for "+e+"ms"})}}else this.recoverHelper.reset("onPlayingStateChange ["+ss.a.END+"]")}),this.onPlayingStateChange.add(()=>{var e;this.state.controller.wasVolumeChanged&&(e=this.getMuted(),this.setMuted(!e),this.setMuted(e))}),this.onPlayingStateChangeInternal.add(e=>{this.currentState!==e&&(this.isBufferingOnPreload(e)||this.currentState===ss.a.END&&this.video.paused||(this.currentState=e,this.onPlayingStateChange.dispatch(e)))}),this.onCurrentTimeChange.add(e=>{var t=this.getDuration(),r=this.state.controller["videoType"];t<=e&&0<t&&r===cs.a.VOD&&!this.props.sourceParams.loop&&this.onPlayingStateChangeInternal.dispatch(ss.a.END)}),this.setLoop(Boolean(e.sourceParams.loop)),this.withCredentials=Boolean(e.sourceParams.withCredentials),this.withCredentials&&Object(Cy.a)("https://strm.yandex.net/cmatch"),this.setPoster(n.preview),this.updateNativeControlsVisibility();e=this.playerStore.getState().controller.preload||Mo.a;t.setAttribute("preload",e?"auto":"none"),this.subscribeYabroRum(),this.addVideoEventListener(null===t.onplaying?"playing":"play",()=>{this.wasPausedAfterQualityChanged=!1,this.onPlayingStateChangeInternal.dispatch(ss.a.PLAY)}),this.addVideoEventListener("loadedmetadata",()=>{this.props.onDurationChange.dispatch(this.getDuration())}),this.addVideoEventListener("seeking",()=>{this.playerStore.dispatch(ud(this.video.readyState))}),this.addVideoEventListener("seeked",()=>{this.playerStore.dispatch(ud(this.video.readyState))}),this.addVideoEventListener("ratechange",()=>{if(!vr(this.state)){var e=this.video.playbackRate,t=Jn(Pn(this.state),e);if(void 0===t)return 0===e?void 0:(this.setPlaybackRate(this.state.controller.playbackRate),void di(this.props.stats,e));this.playerStore.dispatch($c(t))}}),this.addVideoEventListener("pause",()=>{this.wasPausedAfterQualityChanged||this.video.ended||this.getCurrentTime()>=this.getDuration()||this.onPlayingStateChangeInternal.dispatch(ss.a.PAUSE)}),this.addVideoEventListener("volumechange",()=>{let e=this.getMuted(),t=this.getVolume();vr(this.state)&&(e=0===t||this.getMuted(),t=this.playerStore.getState().controller.volume,this.setMuted(e),this.setVolume(this.playerStore.getState().controller.volume)),this.playerStore.dispatch(Pc({volume:t,muted:e,changeReason:Qf.a.VolumeChangeEvent}))}),this.addVideoEventListener("progress",()=>{this.props.onChangeBufferingRanges.dispatch(function(t){const r=[];for(let e=0;e<t.buffered.length;e++)r.push({start:Object(ds.j)(t.buffered.start(e)),end:Object(ds.j)(t.buffered.end(e))});return function(){const e=r.map(e=>{var{start:t,end:e}=e;return{start:t,end:e}}).sort((e,t)=>e.start-t.start);if(e.length<=1)return e;const n=[e[0]];return e.slice(1).forEach((e,t)=>{const r=n[n.length-1];r.end<e.start?n.push(e):r.end<e.end&&(r.end=e.end)}),n}()}(this.props.video))}),this.addVideoEventListener("canplay",()=>{this.onCanPlay.dispatch(void 0),this.restorePlaybackRateIfNeeded()}),this.addVideoEventListener("ended",()=>{var e=this.playerStore.getState().controller["videoType"];e===cs.a.VOD||void 0===e?this.onPlayingStateChangeInternal.dispatch(ss.a.END):this.video.paused&&hs.a.warn('Pause stream after "ended" event on LIVE stream')}),this.addVideoEventListener("loadeddata",()=>{this.playerStore.dispatch(ud(this.video.readyState)),this.onLoadedData.dispatch(void 0)}),this.addVideoEventListener("error",e=>this.onVideoTagError(e)),this.state.skin.useNativeControls&&this.onDestroy.add(function(e,t,r){function n(){0!==o&&(clearTimeout(o),o=0)}let{threshold:i=15,delay:a=1e3}=void 0===r?{}:r,o=0,s=0,c=0;const d=Object(oo.a)(e,"click",function(e){0!==o&&(n(),t(e))},{passive:!0}),l=Object(oo.a)(e,"touchstart",function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,c=e.changedTouches[0].screenY,n(),o=window.setTimeout(n,a))},{passive:!0}),u=Object(oo.a)(e,"touchend",function(e){0!==o&&(n(),t(e))},{passive:!0}),h=Object(oo.a)(e,"touchmove",function(e){var t;0!==o&&Object(fo.a)(e.touches)&&1===e.touches.length?({screenX:t,screenY:e}=e.changedTouches[0],(Math.abs(s-t)>i||Math.abs(c-e)>i)&&n()):n()},{passive:!0});return()=>{d(),l(),u(),h()}}(this.video,()=>{this.playerStore.dispatch(zu())})),this.animationFramesController=new by(window,e=>{var t=e["diff"];try{this.onTick(Object(ds.h)(t))}catch(e){this.props.stats.error({error:new Gs(e,{code:Ws.a.ON_TICK_ERROR,isFatal:!1})})}},4*Iy.a,250),this.onDestroy.add(()=>this.animationFramesController.stop()),this.animationFramesController.start(),this.handleSubtitles()}async play(){if(this.preventPauseState)return this.preventPauseState=Zi({},this.preventPauseState,{shouldPlayAfterEnd:!0}),void hs.a.log("play method call during preventPauseAsync operation");const e=s(this.video);e.catch(e=>{-1!==e.toString().indexOf("no supported sources")&&this.props.onError(new Gs({code:Ws.a.UNSUPPORTED_MEDIA_TYPE}))}),await e}getFragmentsData(){return{totalDuration:this.getDuration(),fragmentDuration:sy.a,startTime:Object(ds.j)(0)}}getUtcStartTime(){return Wy}getUtcPosition(){return Wy}async attachEncoder(){this.bandwidthEstimateUpdateInterval=window.setInterval(()=>{this.playerStore.dispatch(gc(this.getBandwidthEstimate())),Ki(this.getBandwidthEstimate())},15e3)}seek(e){var t,r,n,i;this.canSeek()?(this.playerStore.dispatch(rd(void 0)),{start:t,end:i}=this.getSeekableRange(),{currentTime:r,bufferingRanges:n}=this.state.controller,i=ti(e,t,i),Wi(this.video,Object(ds.j)(i)),this.onCurrentTimeChange.dispatch(this.getCurrentTime()),Ur(n,i)||this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.Seek,{oldPosition:r,newPosition:i})))):this.playerStore.dispatch(Yc({videoTime:e}))}setPlaybackRate(e){this.video.playbackRate=e}getUtcEndTime(){return Object(ds.j)(0)}updateNativeControlsVisibility(){var e=an(this.state)&&!Ts(this.state.skin.hiddenControls)&&(this.state,!0);this.playerStore.dispatch(Zd(e)),c(this.video,{controls:e?"controls":null}),this.video.classList.toggle(xy.a.video_hiddenControls,!e),this.setNativeTimeControlVisibility(Ui(this.state)),this.setNativeTimelineControlVisibility(Ui(this.state))}async detachEncoder(){var e=this.getBandwidthEstimate();this.playerStore.dispatch(gc(e)),Ki(e),null!==this.bandwidthEstimateUpdateInterval&&clearInterval(this.bandwidthEstimateUpdateInterval),this.videoTrackValueSignal.dispatch(void 0),this.audioTrackValueSignal.dispatch(void 0),this.textTrackValueSignal.dispatch(void 0),this.onDetach.dispatch(void 0)}async preloadSource(){hs.a.log("preloadSource() is not implemented for "+this.engine)}setLoop(e){const t=this.props["video"],r=this.video["loop"];e!==r&&(t.loop=e)}isPaused(){return this.props.video.paused}pause(){this.recoverHelper.reset("pause"),this.props.video.pause()}getDuration(){return Object(ds.j)(this.video.duration)}getCurrentTime(){return Object(ds.b)(Object(ds.h)(Math.floor(Object(ds.c)(Object(ds.j)(this.props.video.currentTime),1e3))),1e3)}getVideoWidth(){return this.video.videoWidth}getVideoHeight(){return this.video.videoHeight}setVolume(e){ei(e)?Ry?this.video.volume=e:hs.a.warn("cannot change video volume"):hs.a.warn("setVolume wrong value")}getVolume(){return this.video.volume}setMuted(e){this.video.muted=e}getMuted(){return this.video.muted}setPoster(e){this.state.skin.useNativeControls&&(this.removePoster(),this.props.video.setAttribute("poster",e||_s.a))}removePoster(){this.props.video.removeAttribute("poster")}isDvrEnabled(){return!0}toggleNativeSubtitles(e){var t=this.state.skin.useNativeSubtitles;if(t!==e){const r=Hi(t),n=Hi(e);this.playerStore.dispatch(Dh(e)),Bi(this.video.textTracks).forEach((e,t)=>{e&&(e.mode=r===e.mode?n:"disabled")})}}canSeek(){var e=this.props["video"];return 0<e.readyState&&0<e.buffered.length&&0<e.duration}get state(){return this.playerStore.getState()}getRecoverHelperState(){return this.recoverHelper.getState()}getMaxCapAllowedVideoTrack(){}getRemainingBufferedTime(){return{total:Hr(this.state)||Object(ds.j)(0)}}getBandwidthEstimate(){var{controller:{lastKnownBandwidthEstimate:e}}=this.playerStore.getState();if(isFinite(e))return e;e=function(){try{var e=pv.a.getItem("videolayer-bandwidth-estimate");if(!e)return Object(ds.e)(NaN);var{bandwidthEstimate:t,time:r}=JSON.parse(e);return Object(Fy.a)()-r<Vy?t:Object(ds.e)(NaN)}catch(e){return Object(ds.e)(NaN)}}();if(!isNaN(e)&&0<e)return e;e=function(){if(void 0===window.performance)return Object(ds.e)(NaN);const e=Hy.reduce((e,t)=>Uy()(e,function(e){try{return e.performance.getEntriesByType("resource").filter(e=>{var e=e["transferSize"];return 0<e})}catch(e){return[]}}(t),Yi),[]);if(0===e.length)return Object(ds.e)(NaN);const r=new Yy;return e.forEach(e=>{var{transferSize:t,duration:e}=e;return r.sample(e,t)}),r.getEstimate()}();if(!isNaN(e)&&0<e)return e;e=Object(ds.g)(function(e){var e=(e=void 0===e?window:e)["navigator"],{connection:e={}}=e;if("number"==typeof e.downlink)return e.downlink;if("number"==typeof e.downlinkMax)return e.downlinkMax;if("string"==typeof e.type||"number"==typeof e.type)switch(e.type){case wy.BLUETOOTH:return 3;case Py.CELL_2G:return.384;case Py.CELL_3G:case wy.CELLULAR:return 2;case wy.WIMAX:return 37;case wy.NONE:return 0;case Py.ETHERNET:case wy.ETHERNET:case Py.WIFI:case wy.WIFI:case wy.MIXED:return 10;case Py.UNKNOWN:case wy.UNKNOWN:case wy.OTHER:}return-1}(window));return-1===e?Object(ds.e)(1e6):Object(ds.c)(Object(ds.c)(e,1e3),1e3)}async recoverStream(){var e=this.getPositionToRecover();this.playerStore.dispatch(Yc(e)),await this.detachEncoder(),await this.attachEncoder()}getLiveLatency(){}subscribeVideoBuffering(){const t=this["video"],e=this.getVideoBufferingSubscriber()(t,e=>{e=Gi(t,e);this.onPlayingStateChangeInternal.dispatch(e)});this.onDestroy.add(e)}getVideoBufferingSubscriber(){return Ly}getPositionToRecover(){var{programDateTime:e,currentTime:t,startPosition:r}=this.state.controller,e={utc:void 0===e?void 0:Object(ds.a)(Object(ds.b)(e,1e3),t),videoTime:t};return t?e:r}subscribeContentImpression(){this.onDetach.add(function(e,t){const r=Object(oo.a)(e,"timeupdate",()=>{0<e.currentTime&&!e.paused&&(i(),t())}),n=Object(oo.a)(e,"playing",()=>{0<e.duration&&(i(),t())}),i=()=>{r(),n()};return i}(this.video,()=>{this.onContentImpression.dispatch(void 0)}))}onTick(e){this.state.skin.seeking||(this.dispatchOnDurationChange(),this.onCurrentTimeChange.dispatch(this.getCurrentTime()),this.playerStore.dispatch(ud(this.video.readyState)),this.video.paused&&this.currentState===ss.a.PLAY&&!this.wasPausedAfterQualityChanged&&this.onPlayingStateChangeInternal.dispatch(ss.a.PAUSE))}addVideoEventListener(e,t,r){let n=(void 0===r?{}:r)["once"],i=t;const a=this["video"],o=()=>a.removeEventListener(e,i);return n&&(i=e=>{this.onDestroy.remove(o),o(),t.call(a,e)}),this.onDestroy.add(o),this.video.addEventListener(e,i),o}addEventListener(e,t,r,n){n=Object(oo.a)(e,t,r,n);this.onDestroy.addOne(n)}get fragDuration(){return this.getFragmentsData().fragmentDuration}getSeekableRange(){return{start:Object(ds.j)(0),end:this.getDuration()||Object(ds.j)(0)}}getNetParams(){return this.playerStore.getState().controller.netParams}setNativeTimeControlVisibility(e){this.state.skin.useNativeControls&&this.video.classList.toggle(xy.a.video_hiddenTime,!e)}setNativeTimelineControlVisibility(e){this.state.skin.useNativeControls&&this.video.classList.toggle(xy.a.video_hiddenTimeline,!e)}getVisibleTextTrackMode(){return Hi(this.state.skin.useNativeSubtitles)}getHiddenTextTrackMode(){return"disabled"}getCurrentTextTrack(){if(this.video){const t=this.getVisibleTextTrackMode();return Bi(this.video.textTracks).find(e=>void 0!==e&&e.mode===t)}}restoreUserTextTrack(){var{userTextTrackEnabled:e,userTextTrackName:t,userTextTrackLang:r,textTracks:n}=this.playerStore.getState().controller;void 0!==e&&(e?(r=fr(n,{enabled:e,name:t,lang:r}))&&this.setTextTrack(r):this.disableTextTrack())}restoreUserAudioTrack(){var e=function(e){var{userAudioTrackName:t,userAudioTrackLang:r,audioTracks:e}=e.controller;return Di(e,{name:t,lang:r})}(this.playerStore.getState());e&&(hs.a.log("Set audio track by user params audioTrack=["+JSON.stringify(e)+"]"),this.setAudioTrack(e))}restoreUserVideoTrack(){var e=function(e){var{videoTracks:t,userVideoTrackName:r,userVideoTrackHeight:e}=e.controller;return ji(t,{name:r,height:e})}(this.playerStore.getState());e&&(hs.a.log("Set video track by user params videoTrack=["+JSON.stringify(e)+"]"),this.setVideoTrack(e))}updateSkinDvrParameters(e){var t=Object(ds.b)(e,1e3),{skin:{skinDVRStartTime:r,skinDVRDuration:n},controller:{videoType:i,dvrDuration:a,duration:e}}=this.state;if(i===cs.a.LIVE){const o=Object(ds.j)(Math.min(Object(ds.a)(r,t),e||Object(ds.j)(0)));this.playerStore.dispatch(Qc(o))}else if(i===cs.a.EVENT){const o=Object(ds.j)(Math.min(Object(ds.a)(n,t),a));this.playerStore.dispatch(Jc(o))}}checkPositionAndReturnToLive(){const{controller:{videoType:e},skin:{useNativeControls:t}}=this.state;if(e===cs.a.LIVE&&!t&&!vr(this.state)&&this.canSeek()){var r=this.getCurrentTime(),{startTime:n,fragmentDuration:i}=this.getFragmentsData();if(r<n){const e=Object(ds.a)(n,Object(ds.c)(i,Hf.b));hs.a.log("checkPositionAndReturnToLive: return to dvr at "+e),this.seek(e)}}}async destroyUnsafe(){this.onDestroy.dispatch(void 0),await this.detachEncoder();var e=this.state.controller.errorInfo["error"];e&&e.isFatal&&this.video.src&&(this.video.src=""),this.playerStore.dispatch(ed(nf.a.bufferingRanges))}async preventPauseAsync(e,t){var r=e["paused"],t=t();this.preventPauseState||(this.preventPauseState={promises:[],shouldPlayAfterEnd:!r}),this.preventPauseState.promises.push(t);t=await t;if(this.preventPauseState){const n=this.preventPauseState.promises.length;Promise.all(this.preventPauseState.promises).catch(ho.a).then(()=>{this.preventPauseState&&n===this.preventPauseState.promises.length&&(this.preventPauseState.shouldPlayAfterEnd&&Object(So.a)(e.play()),this.preventPauseState=void 0)})}return t}getVideoOwnerDocument(){return this.video.ownerDocument||document}logLoadToRum(){jn(this.engine,this.state.ad.hasPreroll)}subscribeYabroRum(){this.onDetach.addOne(this.addVideoEventListener("firstframedecoded",()=>{xn(this.engine,{},this.state.ad.hasPreroll)},{once:!0})),this.onDetach.addOne(this.addVideoEventListener("firstframeshown",()=>{Fn(this.engine,{},this.state.ad.hasPreroll)},{once:!0}))}getStreamUrl(){return this.props.stream.url}shouldUseLowBuffer(){var{startStage:e,autoplay:t,preload:r}=this.state.controller;return e!==kf.a.started&&!t&&r}isBufferingOnPreload(e){return e===ss.a.BUFFERING&&!!this.state.controller.preload&&this.state.controller.startStage!==kf.a.started&&this.state.controller.startStage!==kf.a.starting}getMaxBufferLength(){if(this.shouldUseLowBuffer())return My;var{maxBufferLength:e=jy}=this.props;return e}handleSubtitles(){var e=this.video["textTracks"];e&&"function"==typeof e.addEventListener&&(this.onDestroy.add(Object(oo.a)(e,"addtrack",e=>{e=e.track;e&&"subtitles"===e.kind&&this.onDestroy.add(Object(oo.a)(e,"cuechange",this.refreshSubtitles))})),this.textTrackValueSignal.add(e=>{void 0===e?this.emptySubtitles():this.refreshSubtitles()}),this.onDestroy.add(Object(as.a)(this.refreshSubtitles)),this.onDetach.add(this.disableSubtitlesNative))}restorePlaybackRateIfNeeded(){var e;ht(this.state)||(e=this.state.controller.playbackRate)!==this.video.playbackRate&&this.setPlaybackRate(e)}dispatchOnDurationChange(){var e=this.getDuration();isNaN(e)||this.props.onDurationChange.dispatch(e)}}class zy extends Zy{constructor(e){super(e),this.props=e,this.engine=Gf.HLS,this.preloadSourceHLSEncoder=void 0,this.preloadSourceHandlers=[],this.preloadPosition={},this.HLSEncoder=void 0,this.lastKnownLevelDetails=void 0,this.HLSEncoderAttachTime=1/0,this.loadStarted=!1,this.recoverOnBufferingReason=null,this.initHlsEncoderPromise=void 0,this.maxHeightCapping=void 0,this.levelForcingInterval=void 0,this.hlsFragHelper=new vy(5),this.restoreUserTracksWhenPossible=()=>{const e=this["HLSEncoder"];e&&(e.levels&&0!==e.levels.length?Object(_o.a)(this.HLSEncoderAttachTime)?this.restoreUserTracks():e.once(Hls.Events.MEDIA_ATTACHED,this.restoreUserTracks):e.once(Hls.Events.MANIFEST_LOADED,this.restoreUserTracksWhenPossible))},this.onLevelUpdated=()=>{this.onVideoTypeChange.dispatch(this.getVideoType()),this.checkPositionAndReturnToLive();var e=this.getHlsEncoderLevelDetails();e&&e.fragments&&0<e.fragments.length&&([e]=e.fragments,e.programDateTime&&this.props.onProgramDateTimeChange.dispatch(Object(ds.c)(this.getUtcStartTime(),1e3)))},this.onSubtitleTracksUpdated=()=>{this.HLSEncoder&&this.props.onTextTracksChange.dispatch(function(e){const t=[];return Array.isArray(e)&&e.forEach(e=>{e=Ni(e);e&&t.push(e)}),t}(this.HLSEncoder.subtitleTracks))},this.onAudioTracksUpdated=()=>{const e=this["HLSEncoder"];var t;e&&(t=e["audioTracks"],e.config.maxBufferSize=0<t.length?12e6:Hls.DefaultConfig.maxBufferSize,this.props.onAudioTracksChange.dispatch(function(e){const t=[];return Array.isArray(e)?(e.forEach(e=>{e=Ii(e);e&&t.push(e)}),t):[]}(t)))},Object(El.b)(),this.playerStore.dispatch(nd(!0)),this.onPlayingStateChange.add(e=>{e===ss.a.PLAY?this.recoverHelper.reset("play"):e===ss.a.END?this.stopLoad():e===ss.a.BUFFERING&&this.tryRecoverOnBuffering()}),this.subscribeVideoBuffering()}getEngine(){return Gf.HLS}getFragmentsData(){var e=this.getHlsEncoderLevelDetails();if(!e)return super.getFragmentsData();var{totalduration:t,targetduration:r,fragments:e}=e,[e]=e;return e?{totalDuration:Object(ds.j)(Math.min(t,this.getDuration())),fragmentDuration:Object(ds.j)(r),startTime:Object(ds.j)(e.start)}:super.getFragmentsData()}onOnline(){this.startLoadOnce(this.video.currentTime)}onOffline(){this.stopLoad()}play(){return this.startLoadOnce(),super.play()}getUtcStartTime(){var e=this.getHlsEncoderLevelDetails();if(!e||!e.hasProgramDateTime)return Object(ds.j)(0);var[e]=e.fragments;return e&&e.programDateTime?Object(ds.d)(Object(ds.b)(Object(ds.h)(e.programDateTime),1e3),Object(ds.j)(e.start)):Object(ds.j)(0)}getUtcPosition(){var e=this.getUtcStartTime();return 0<e?Object(ds.a)(e,this.getCurrentTime()):super.getUtcPosition()}setVideoTrack(t){const e=this["HLSEncoder"];if(void 0!==e){const i=e["levels"];var r,n;void 0!==i&&(-1===(r=t.value===bf.value?-1:i.findIndex(e=>e.url.some(e=>e===t.value)))?this.startLevelForcingWithSizeCap():this.stopLevelForcingWithSizeCap(),n=this.isPaused(),e.currentLevel=r,!n&&this.isPaused()&&(this.wasPausedAfterQualityChanged=!0,this.onPlayingStateChangeInternal.dispatch(ss.a.BUFFERING)))}}setAudioTrack(t){const e=this["HLSEncoder"];var r;void 0===e||(r=e.audioTracks.find(e=>t.value===String(e.id)))&&(e.audioTrack=Number(r.id))}setTextTrack(e){const t=this["HLSEncoder"];var r;void 0===t||(r=this.getHlsTextTrack(e))&&(this.textTrackValueSignal.dispatch(e&&e.value),t.subtitleTrack=r.id)}disableTextTrack(){this.textTrackValueSignal.dispatch(void 0)}toggleNativeSubtitles(e){super.toggleNativeSubtitles(e);const t=this["HLSEncoder"];void 0!==t&&(t.subtitleDisplay=e)}async preloadSource(){this.props.logEvent({event:Zs.a.PreloadSource,params:{}});let e=!1;var t,r=()=>{e=!0};this.onDestroy.addOne(r),this.onDetach.addOne(r);try{await Object(El.b)()}catch(e){return void this.props.onError(new Gs(e,{code:Ws.a.SCRIPT_INIT_ERROR,isFatal:!1}))}if(!(e||this.HLSEncoder||this.initHlsEncoderPromise||this.preloadSourceHLSEncoder)){const n=zi({},this.getHlsJsConfig(),{liveSyncDuration:sy.a}),i=window.hls=this.preloadSourceHLSEncoder=new Hls(n),a=(e,t)=>{this.preloadSourceHandlers.push([e,t]),i.once(e,t)};t=Hls.Events.ERROR,r=(e,t)=>{var r;t&&(r=Ai(t),void 0!==(t=Ti(t))&&(this.props.onError(new Gs(t,{isFatal:!1})),r&&(this.props.onError(new Gs({code:Ws.a.PRELOAD_SOURCE_FAILED,isFatal:!1,details:{reason:t}})),this.unsubscribePreloadSourceHandlers(),i.destroy(),this.clearPreloadSourceHlsEncoder())))},this.preloadSourceHandlers.push([t,r]),i.on(t,r);const o=()=>{this.preloadPosition=this.state.controller.startPosition,i.config.startFragPrefetch=!0,this.loadStarted=!0};a(Hls.Events.MANIFEST_PARSED,(e,t)=>{var{levels:r=[],audioTracks:t=[]}=t,r=this.getStartVideoLevelIndex(r);i.startLevel=r,this.state.controller.isAbrEnabled||(i.loadLevel=r),-1<this.getStartAudioTrackIndex(t)&&(i.audioTrack=this.getStartAudioTrackIndex(t));const n=this.getStartLoadPosition();a(Hls.Events.LEVEL_UPDATED,(e,t)=>{var t=t["details"],t=this.getStartLoadPosition(t);n!==t&&void 0!==t&&i.streamController.startLoad(t),o()}),i.startLoad(n)}),i.loadSource(this.getStreamUrl())}}async attachEncoder(){if(await super.attachEncoder(),oy)return this.initHlsEncoderPromise=this.initHlsEncoder(),await this.initHlsEncoderPromise,this.initHlsEncoderPromise=void 0,this.subscribeContentImpression(),this.startLevelForcingWithSizeCap(),this.attachMedia();var e=Ws.a.HLS_JS_NOT_SUPPORTED_ERROR;return this.props.onError(new Gs({code:e})),Promise.reject(Object(cy.a)(e,this.state.ad.adblockDetected))}async destroyUnsafe(){await super.destroyUnsafe(),this.preloadSourceHLSEncoder&&this.preloadSourceHLSEncoder.destroy(),this.HLSEncoder&&this.HLSEncoder.destroy()}canSeek(){return void 0!==this.HLSEncoder&&Boolean(this.HLSEncoder.media)&&super.canSeek()}async detachEncoder(){if(Object(uo.a)(this.video.textTracks).forEach(Mi),this.stopLevelForcingWithSizeCap(),await super.detachEncoder(),this.loadStarted=!1,this.preloadSourceHLSEncoder&&(this.preloadSourceHLSEncoder.destroy(),this.clearPreloadSourceHlsEncoder()),!this.HLSEncoder){if(!this.initHlsEncoderPromise)return;await this.initHlsEncoderPromise}const{video:t,HLSEncoder:r}=this;if(void 0!==r)return this.recoverOnBufferingReason=null,new Promise(e=>{Boolean(r.media)?r.once(Hls.Events.MEDIA_DETACHED,()=>{this.HLSEncoderAttachTime=1/0,e()}):e(),this.lastKnownLevelDetails=void 0,l(t,()=>{r.destroy(),this.HLSEncoder=void 0})})}getMaxCapAllowedVideoTrack(){var e=this["HLSEncoder"];if(e&&e.levels&&e.autoLevelEnabled){const t=e.levels[e.autoLevelCapping];return t?this.state.controller.videoTracks.find(e=>{var e=e["value"];return e===t.url[0]}):void 0}}onVideoTagError(e){var t,r;this.video.error&&!vr(this.state)&&((t=o(this.video)).code!==Uo.MEDIA_ERR_DECODE&&t.code!==Uo.MEDIA_ERR_SRC_NOT_SUPPORTED||(r=t.code===Uo.MEDIA_ERR_SRC_NOT_SUPPORTED,t=new Gs({code:Uo[t.code],details:t,isFatal:r}),this.props.onError(t),r||(hs.a.log(r="VideoTagError MEDIA_ERR_DECODE"),this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.MediaError,void 0))),this.isPaused()&&this.recoverHelper.planTask(()=>this.recoverCurrentFrag(),{reason:r,delay:1e3}))))}onTick(e){super.onTick(e),this.updateSkinDvrParameters(e)}getStreamUrl(){return Object(Io.b)(super.getStreamUrl(),{session_data:"1",preview:"1"},{saveOriginalPath:!0})}getBandwidthEstimate(){if(!this.HLSEncoder)return super.getBandwidthEstimate();var e=Object(wo.a)(()=>this.HLSEncoder.abrController._bwEstimator.getEstimate());return Object(_o.a)(e)?e:super.getBandwidthEstimate()}getUtcEndTime(){var e=this.getUtcStartTime();return e?Object(ds.a)(e,this.getDuration()):Object(ds.j)(0)}stopLoad(){this.HLSEncoder&&(this.HLSEncoder.stopLoad(),this.loadStarted=!1)}tryRecoverOnBuffering(){if(this.recoverOnBufferingReason){const{type:e,url:t,details:r,frag:n}=this.recoverOnBufferingReason,{controller:{bufferingRanges:i,fragmentDuration:a}}=this.state,o=this.getCurrentTime();if(i.some(e=>{var{start:t,end:e}=e;return t+a<o&&e-a>o}))hs.a.log("skip recover",{currentTime:o,bufferingRanges:i});else{const s=this["recoverHelper"];s.planTask(()=>this.recoverCurrentFrag(),{reason:"HlsJs "+e,rawData:{details:r,type:e,url:t,isFatal:!0,frag:vi(n)},delay:100})}}}getHlsJsConfig(){var e="true"!==pv.a.getItem(Ay.WAS_WORKER_INTERNAL_ERROR);return{manifestLoadingTimeOut:this.getNetParams().manifestTimeout,levelLoadingTimeOut:this.getNetParams().levelTimeout,fragLoadingTimeOut:this.getNetParams().chunkTimeout,fragLoadingMaxRetry:5,debug:this.props.debug,enableWorker:e,autoStartLoad:!1,capLevelToPlayerSize:!1,liveSyncDuration:this.props.liveOffset,levelLoadingMaxRetry:25,levelLoadingMaxRetryTimeout:100,xhrSetup:(t,e)=>{this.withCredentials&&(t.withCredentials=!0);var r=Object(Io.c)(e),n="ts"===r;"m3u8"!==r&&!n||t.open("GET",zn(e),!0),n&&Object(oo.a)(t,"readystatechange",()=>{var e;4===t.readyState&&t.response&&0!==t.response.byteLength&&(e={data:new Blob([new Int8Array(t.response)]),url:t.responseURL},this.hlsFragHelper.putFragBlob(e))})},fetchSetup:(e,t)=>(this.withCredentials&&(t.credentials="include"),new Request(e.url,t)),maxMaxBufferLength:this.getMaxBufferLength()}}preparePreloadSourceHlsEncoderToAttach(){const e=this.preloadSourceHLSEncoder;if(e){this.HLSEncoder=e;var t=this["preloadPosition"];if(this.unsubscribePreloadSourceHandlers(),this.clearPreloadSourceHlsEncoder(),e.config.liveSyncDuration=this.props.liveOffset,!e.levels||0===e.levels.length)return e;this.onLevelsUpdated(),this.onLevelUpdated(),this.updateThumbnailTileMeta(),this.onAudioTracksUpdated(),this.onAudioTrackUpdated(e.audioTrack),this.onSubtitleTracksUpdated();var{videoTime:r,utc:n}=this.state.controller.startPosition;if(t.utc===n&&t.videoTime===r)return e;r=this.getStartLoadPosition(this.getHlsEncoderLevelDetails());return void 0!==r&&e.streamController.startLoad(r),e}}async initHlsEncoder(){if(!this.HLSEncoder){if(this.HLSEncoder=this.preparePreloadSourceHlsEncoderToAttach(),this.HLSEncoder)this.props.logEvent({event:Zs.a.UsePreloadedHlsJs,params:{}});else{try{await Object(El.b)()}catch(t){var e=new Gs(t,{code:Ws.a.SCRIPT_INIT_ERROR});throw this.props.onError(e),e}this.HLSEncoder=new Hls(this.getHlsJsConfig())}const t=this["HLSEncoder"];window.hls=t,this.subscribeHlsEncoderEvents(t),this.restoreUserTracksWhenPossible(),this.onPlayingStateChange.addOne(()=>{t.config.maxMaxBufferLength=this.getMaxBufferLength()})}}subscribeHlsEncoderEvents(n){n.subtitleDisplay=this.state.skin.useNativeSubtitles;const i=e=>{n.levels&&(!(e=n.levels[e])||(e=Li(e,this.deepHDTracks,this.videoTrackLabels))&&this.videoTrackValueSignal.dispatch(e.value))};n.on(Hls.Events.LEVEL_SWITCHING,(e,t)=>{i(t.level)}),n.on(Hls.Events.LEVEL_SWITCHED,(e,t)=>{i(t.level)}),n.on(Hls.Events.LEVEL_LOADED,(e,t)=>{var t=t["networkDetails"];this.validateLevelManifestUrl(t),this.validateLevels(t)}),n.levels&&0!==n.levels.length||n.on(Hls.Events.MANIFEST_PARSED,(e,t)=>{var{levels:r=[],audioTracks:t=[]}=t;this.onLevelsUpdated(),this.updateThumbnailTileMeta();r=this.getStartVideoLevelIndex(r);n.startLevel=r,this.state.controller.isAbrEnabled||(n.loadLevel=r),-1<this.getStartAudioTrackIndex(t)&&(n.audioTrack=this.getStartAudioTrackIndex(t)),n.once(Hls.Events.LEVEL_LOADED,(e,t)=>{var t=t["level"];i(t)})}),n.on(Hls.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated),n.on(Hls.Events.AUDIO_TRACK_SWITCHING,(e,t)=>{this.onAudioTrackUpdated(t.id)}),n.on(Hls.Events.AUDIO_TRACK_SWITCHED,(e,t)=>{this.onAudioTrackUpdated(t.id)}),n.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated),n.on(Hls.Events.SUBTITLE_TRACK_SWITCH,(e,t)=>{var r=n["subtitleTrack"];if(-1<r){const e=Ni(n.subtitleTracks.find(e=>e.id===t.id));e&&this.textTrackValueSignal.dispatch(e.value)}else this.textTrackValueSignal.dispatch(void 0)}),n.on(Hls.Events.FRAG_PARSING_METADATA,async(e,t)=>{const{samples:r,frag:n}=t;if(r){const e=r["length"];if(e){const e=(await Promise.all(r.map(e=>iy.a.parse(e.data).then(e=>{var e=e["writer"];return e})))).filter(e=>void 0!==e),{data:t,index:i,reason:a}=function(e){const[t,r]=e.reduce((e,t)=>{let[r,n]=e;try{return("object"!=typeof(i=JSON.parse(t))||!i.id||"number"!=typeof i.offset||void 0!==i.cutoff&&"number"!=typeof i.cutoff?n:r).push(t),[r,n]}catch(e){return[r,n]}var i},[[],[]]);if(0<t.length){const r=t[t.length-1];return{data:r,index:e.indexOf(r),reason:Ty.HasAd}}if(0<r.length){const t=r[r.length-1];return{data:t,index:e.indexOf(t),reason:Ty.NoAd}}return{data:"",index:-1,reason:Ty.NoData}}(e);hs.a.log("choose metadata: ",t,i,a),Math.random()<.01&&this.props.logEvent({event:Zs.a.StreamPlayerChooseMetadata,params:{fragmentMetadataArray:t,chosenIndex:i,chosenReason:a}}),this.props.onMetadata.dispatch({fragmentMetadataArray:[t],fragmentStart:Object(ds.j)(n.start),fragmentDuration:Object(ds.j)(n.duration),src:n?n.url:this.getStreamUrl()})}}}),n.on(Hls.Events.MANIFEST_LOADED,(e,t)=>{var t=t["networkDetails"];this.validateLevels(t),this.onLevelsUpdated(),this.forceLevel(),this.onAudioTracksUpdated(),this.onSubtitleTracksUpdated()}),n.on(Hls.Events.LEVEL_UPDATED,this.onLevelUpdated),n.on(Hls.Events.ERROR,(e,t)=>{t&&this.onEncoderError(t)}),n.on(Hls.Events.FRAG_LOADED,(e,t)=>{var t=t["frag"];this.hlsFragHelper.putLoadedFrag(t)}),n.on(Hls.Events.FRAG_PARSED,(e,t)=>this.handleFragParsed(e,t)),n.on(Hls.Events.FRAG_CHANGED,(e,t)=>{var t=t["frag"];this.hlsFragHelper.putPlayedFrag(t)}),this.state.skin.useNativeControls&&this.onPlayingStateChange.add(e=>{"play"!==e&&"buffering"!==e||this.startLoadOnce()})}getStartVideoLevelIndex(e){const{userVideoTrackHeight:t,userVideoTrackName:r}=this.playerStore.getState().controller,n=ji(e,{name:r,height:t});if(n){const t=e.indexOf(n);return hs.a.log("User level found, start loading by index=["+t+"]"),t}return function(e){let{video:t,maxHeightCapping:r,levels:n=[],bandwidth:i}=e;const a=n.slice().filter(Boolean).sort((e,t)=>t.bitrate-e.bitrate);if(0===a.length)return-1;const{width:o,height:s}=Vi(t),[c]=a.filter(e=>!(i&&e.bitrate>i||r&&e.height>r||!(e.width<=o||e.height<=s)));return void 0===c?n.indexOf(a.pop()):n.indexOf(c)}({levels:e,maxHeightCapping:this.maxHeightCapping,video:this.video,bandwidth:this.getBandwidthEstimate()})}getStartAudioTrackIndex(e){var{userAudioTrackName:t,userAudioTrackLang:r}=this.playerStore.getState().controller,r=Di(e,{name:t,lang:r});if(!r)return-1;r=e.indexOf(r);return hs.a.log("User audio track found, start loading by index=["+r+"]"),r}handleFragParsed(e,t){var r=t["frag"],t=r["duration"];if(0===t&&this.state.controller.videoType===cs.a.VOD){const e=this.getHlsEncoderLevelDetails(),n=e?e.fragments:[];if(n[n.length-1]===r)return}(t<=0||t>=2*this.fragDuration)&&this.props.logEvent({event:"InvalidFragDuration",params:vi(r)})}startLoadOnce(e){const t=this["HLSEncoder"];!this.loadStarted&&void 0!==t&&this.state.controller.isOnline&&(t.levels&&0<t.levels.length?(t.startLoad(e),this.loadStarted=!0):t.once(Hls.Events.MANIFEST_PARSED,()=>{this.startLoadOnce(e)}))}getHlsEncoderLevelDetails(){const e=this["HLSEncoder"];if(void 0!==e){const{currentLevel:r,levels:n}=e;if(n){var t=n[r];if(t&&t.details)return this.lastKnownLevelDetails=t.details,this.lastKnownLevelDetails;t=n.find(e=>{var e=e["details"];return Boolean(e)});if(t){const e=t["details"];this.lastKnownLevelDetails=e}return this.lastKnownLevelDetails}}}computeRecoverJumpGap(){const{controller:{bufferingRanges:e}}=this.state,t=this.getCurrentTime();return Math.max(...e.map(e=>{var e=e["end"];return e}))+1.1*this.fragDuration<t?(hs.a.log("use 0 as recoverJumpGap",{currentTime:t,bufferingRanges:e}),Object(ds.j)(0)):Object(ds.c)(this.fragDuration,1.1)}computeRecoverPositionFromStartPosition(){const e=this.state.controller["startPosition"],t={},r=this.computeRecoverJumpGap();return void 0!==e.utc&&0<e.utc&&(t.utc=Object(ds.a)(e.utc,r)),t.videoTime=Object(ds.a)(e.videoTime||Object(ds.j)(0),r),t}computeRecoverPositionFromCurrentTime(){const e={},t=this.state.controller["lastRecoverPosition"],r=this.getCurrentTime(),n=this.getUtcPosition(),i=this.computeRecoverJumpGap(),{utc:a=0,videoTime:o=0}=t||{};return(0<n||0<a)&&(e.utc=Object(ds.a)(Object(ds.j)(Math.max(n,a)),i)),e.videoTime=Object(ds.a)(Object(ds.j)(Math.max(r,o)),i),e}async recoverCurrentFrag(){var e=this.state.controller["lastRecoverPosition"],e=0<this.getDuration()||void 0!==e?this.computeRecoverPositionFromCurrentTime():this.computeRecoverPositionFromStartPosition();this.playerStore.dispatch(rd(e)),this.playerStore.dispatch(Yc(e)),await this.detachEncoder(),await this.attachEncoder()}attachMedia(){hs.a.log("attachMedia"),this.logLoadToRum();const{video:e,HLSEncoder:n}=this;if(void 0===n){const e=new Gs({code:Ws.a.NO_HLS_JS_INSTANCE,isFatal:!1});return this.props.onError(e),Promise.reject(e)}var t=new Promise(e=>{n.once(Hls.Events.MEDIA_ATTACHED,()=>{window.performance&&Object(av.a)(performance.now)&&(this.HLSEncoderAttachTime=performance.now()),n.url||n.loadSource(this.getStreamUrl()),e()})});n.once(Hls.Events.MANIFEST_PARSED,()=>{if(!this.loadStarted){const r=this.getStartLoadPosition();n.startLoad(r),this.loadStarted=!0,n.once(Hls.Events.LEVEL_UPDATED,(e,t)=>{var t=t["details"],t=this.getStartLoadPosition(t);t!==r&&void 0!==t&&n.streamController.startLoad(t)})}});var r=n.levels&&0<n.levels.length?Promise.resolve():new Promise(e=>{n.once(Hls.Events.MANIFEST_PARSED,()=>{e()})});return l(this.video,()=>{n.attachMedia(e)}),Promise.all([t,r]).then(()=>{})}onAudioTrackUpdated(t){const e=this["HLSEncoder"];var r;!e||(r=Ii(e.audioTracks.find(e=>e.id===t)))&&this.audioTrackValueSignal.dispatch(r.value)}getVideoType(){var e=this.getHlsEncoderLevelDetails();return e?Fi(e):(this.HLSEncoder&&this.HLSEncoder.levels||[]).some(e=>{var e=e["details"];return Boolean(e&&e.live)})||this.getDuration()===1/0?cs.a.LIVE:cs.a.VOD}onLevelsUpdated(){var{sessionData:r={},levels:e=[]}=this.HLSEncoder||{};this.deepHDTracks=function(){const{VALUE:e=""}=r["com.yandex.video.levels.deephd"]||{},t=e.split(",").filter(e=>void 0!==Ci(e));return new Set(t)}(),this.videoTrackLabels=function(){const{VALUE:e=""}=r["com.yandex.video.labels.quality"]||{};return e.split(",").filter(Boolean).reduce((e,t)=>{var[r,t]=t.split(":");return void 0!==Ci(r)&&t&&e.set(r,t),e},new Map)}(),this.maxHeightCapping=function(){var{VALUE:e=""}=r["com.yandex.video.capping.maxheight"]||{},e=parseInt(e,10);return 0<e?e:void 0}(),this.props.onVideoTracksChange.dispatch(function(e,t,r){const n=function(r){const n={};return e.filter(e=>Boolean(r(e))).forEach(e=>{var t=(e=>{let{height:t}=e;return t})(e);(!n[t]||r(n[t])<r(e))&&(n[t]=e)}),Hn(n)}(e=>{var e=e["bitrate"];return e}),i=[];return n.forEach(e=>{e=Li(e,t,r);e&&i.push(e)}),i}(e,this.deepHDTracks,this.videoTrackLabels))}updateThumbnailTileMeta(){var{sessionData:t={}}=this.HLSEncoder||{},e=e=>{this.props.logEvent({event:e,params:void 0})},r=wi(t,yy.LOWRES,e),n=wi(t,yy.HIGHRES,e);void 0!==n&&(r=r?Pi(r,e):void 0,e=Pi(n,e),e={version:function(){var{VALUE:e=""}=t["com.yandex.video.thumbnail.version"]||{};return parseFloat(e)||0}(),lowRes:r,highRes:e},this.playerStore.dispatch(Id(e)))}onEncoderError(t){const{details:r,type:n,url:i,frag:a}=t;if(r){if(r===Hls.ErrorDetails.FRAG_PARSING_ERROR&&a){const t=this.hlsFragHelper.getBadFragmentReport(a,Hls.ErrorDetails.FRAG_PARSING_ERROR);t&&this.props.onBadFragment(t)}if(r===Hls.ErrorDetails.BUFFER_APPENDING_ERROR){const t=this.hlsFragHelper.getLastLoadedFragmentReport(Hls.ErrorDetails.BUFFER_APPENDING_ERROR);t&&this.props.onBadFragment(t)}if(t.networkDetails&&423===t.networkDetails.status&&t.details===Hls.ErrorDetails.LEVEL_LOAD_ERROR){this.props.logEvent({event:Zs.a.HlsJsForceCappingStart,params:{}});const a=this["recoverHelper"];a.planTask(()=>this.recoverCurrentFrag(),{force:_i(t),reason:"HlsJs "+n,rawData:{details:r,type:n,url:i,isFatal:!1},delay:0})}else{var e,o=Ai(t),s=Ti(t);if(void 0!==s&&(o||n===Hls.ErrorTypes.MEDIA_ERROR))if(this.recoverHelper.allowed&&!s.isFatal){if(this.props.onError(s),Si(t))if(this.currentState!==ss.a.BUFFERING&&((e=t.details)&&hy.includes(e)))this.recoverOnBufferingReason=t;else{let e;e=t.details===Hls.ErrorDetails.INTERNAL_EXCEPTION&&"demuxerWorker"===t.event?(pv.a.setItem(Ay.WAS_WORKER_INTERNAL_ERROR,"true"),()=>this.recoverStream()):()=>this.recoverCurrentFrag(),this.recoverHelper.planTask(e,{force:_i(t),reason:"HlsJs "+n,rawData:{details:r,type:n,url:i,isFatal:o,frag:vi(a)},delay:1e3})}}else this.props.onError(new Gs(s,{isFatal:!0}))}}}getHlsTextTrack(t){if(this.HLSEncoder)return this.HLSEncoder.subtitleTracks.find(e=>t.value===String(e.id))}unsubscribePreloadSourceHandlers(){const r=this["preloadSourceHLSEncoder"];r&&(this.preloadSourceHandlers.forEach(e=>{var[t,e]=e;r.off(t,e)}),this.preloadSourceHandlers.length=0)}clearPreloadSourceHlsEncoder(){this.preloadSourceHLSEncoder=void 0,this.preloadPosition={}}validateLevelManifestUrl(e){var{responseText:t,responseURL:e}=e;e&&(Sy(e)||this.props.stats.error({error:new Gs({},{code:Ws.a.HLS_JS_INVALID_MANIFEST_URL,details:{networkDetailsResponseText:t,networkDetailsResponseUrl:e},isFatal:!1})}))}validateLevels(e){const{levels:t=[]}=this.HLSEncoder||{},r=t.filter(e=>e.url.some(e=>!Sy(e)));0<r.length&&this.props.stats.error({error:new Gs({},{code:Ws.a.HLS_JS_INVALID_MANIFEST_URL,details:{levels:r,networkDetailsResponseText:e.responseText,networkDetailsResponseUrl:e.responseURL}})})}getStartLoadPosition(e){var t=this.state.controller["startPosition"],r=this.props["liveOffset"];return function(e){let{details:t,startPosition:r,liveOffset:n}=e,i=r["videoTime"];if(void 0===t)return i;if(t.hasProgramDateTime&&xi(r.utc)){const o=Object(ds.b)(Object(ds.j)(t.fragments[0].programDateTime),1e3);i=Object(ds.d)(r.utc,o)}if(xi(i)){var a=Fi(t)===cs.a.VOD?0:n,[e]=t.fragments,e=void 0===e?0:e.start,a=t.totalduration-a;return Object(ds.j)(ti(i,e,a))}}({details:e,startPosition:t,liveOffset:r})}startLevelForcingWithSizeCap(){clearInterval(this.levelForcingInterval),this.levelForcingInterval=window.setInterval(()=>{this.forceLevel()},1e3)}stopLevelForcingWithSizeCap(){clearInterval(this.levelForcingInterval)}getMediaHeight(){let e=1e5;var t=this["video"];return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=pi()),e}getMediaWidth(){let e=1e5;var t=this["video"];return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=pi()),e}forceLevel(){if(this.HLSEncoder&&this.HLSEncoder.autoLevelEnabled&&this.HLSEncoder.levels&&this.HLSEncoder.levels.length){const i=this.maxHeightCapping?Math.min(this.maxHeightCapping,this.getMediaHeight()):this.getMediaHeight(),a=this.getMediaWidth(),o=this.HLSEncoder["levels"],e=o.reduce((e,t,r)=>{if((t.height<e.smallestLevel.height||t.width<e.smallestLevel.width)&&(e.smallestLevel=t,e.smallestLevelIndex=r),t.height>i||t.width>a)return e;var n=(o[e.index]||{}).height||0;return t.height>n?zi({},e,{index:r}):e},{index:-1,smallestLevel:o[0],smallestLevelIndex:0});this.HLSEncoder.autoLevelCapping=-1===e.index?e.smallestLevelIndex:e.index}}}class qy{static fromXHR(e){return new qy(e)}constructor(e){this.status=void 0,this.status=e.status}isError(){return 400<=this.status}isFatalError(){return this.isRegionLimitationError()}isRecoverableError(){return!this.isRegionLimitationError()}toPlayerError(){return new Gs({code:this.getErrorCode(),isFatal:this.isFatalError(),details:JSON.parse(Object(dy.a)(this))})}isRegionLimitationError(){return 451===this.status}getErrorCode(){return this.isRegionLimitationError()?Ws.a.REGIONAL_LIMITATION_MANIFEST:Ws.a.DEFAULT_ERROR}}const Xy=Object(ds.h)(3e3);class Qy extends Zy{constructor(e){super(e),this.props=e,this.isRecoverablePlaylistHTTPStatus=!0,this.checkPlaylistHTTPStatusPromise=void 0,this.applyStartPosition=()=>{var e,t;this.canSeek()&&(e=this.getCurrentTime(),t=this.getStartPosition(),Object(_o.a)(t)&&e!==t&&this.seekInternal(t))},this.saveUserAudioTrack=e=>{!e.isTrusted||(e=Xi(this.video))&&this.playerStore.dispatch(ld({name:e.name||void 0,lang:e.lang||void 0}))},this.actualizeNativeAudioTrack=()=>{var e=Xi(this.video);this.audioTrackValueSignal.dispatch(e&&e.value)},this.notifyTextTracksChanged=()=>{var e=function(e,t){var{textTracks:r=[]}=e;for(let e=0;e<r.length;e++){var n=r[e];if(n&&$i(n)&&n.mode===t)return ea(n,e)}}(this.video,this.getVisibleTextTrackMode());this.textTrackValueSignal.dispatch(e&&e.value)},this.subscribeVideoBuffering(),this.playerStore.dispatch(nd(!0)),this.playerStore.dispatch(id(!0));const{videoTracks:t,audioTracks:r,textTracks:n}=this.props.video,i=Object(To.a)(()=>{this.props.onVideoTracksChange.dispatch(na(t)),this.props.onAudioTracksChange.dispatch(ta(r)),this.props.onTextTracksChange.dispatch(ra(n));var e=Ji(this.video);e&&this.videoTrackValueSignal.dispatch(e.value),this.setFirstAudioTrack()});this.initTextTracks(),this.onDestroy.addOne(this.onCanPlay.addOne(i)),t&&(this.addEventListener(t,"addtrack",()=>{this.props.onVideoTracksChange.dispatch(na(t)),this.restoreUserVideoTrack()}),this.addEventListener(t,"removetrack",()=>{this.props.onVideoTracksChange.dispatch(na(t))}),this.addEventListener(t,"change",()=>{var e=Ji(this.video);this.videoTrackValueSignal.dispatch(e&&e.value)})),r&&(this.addEventListener(r,"addtrack",e=>{this.props.onAudioTracksChange.dispatch(ta(r)),this.actualizeNativeAudioTrack(),this.restoreUserAudioTrack()}),this.addEventListener(r,"removetrack",()=>{this.props.onAudioTracksChange.dispatch(ta(r)),this.actualizeNativeAudioTrack()}),this.addEventListener(r,"change",e=>{this.actualizeNativeAudioTrack(),this.saveUserAudioTrack(e)})),n&&this.addEventListener(n,"addtrack",()=>{this.props.onTextTracksChange.dispatch(ra(n))}),this.subscribeCueChange(),this.subscribeToLogTelemetry()}setAudioTrack(t){if(""!==t.value){const e=Object(uo.a)(this.props.video.audioTracks),r=e.find(e=>e.id===t.value);r&&e.forEach(e=>e.enabled=e.id===r.id)}}setTextTrack(e){""!==e.value&&this.renderTextTrack(e.value)}disableTextTrack(){this.renderTextTrack(void 0)}renderTextTrack(r){Bi(this.video.textTracks).forEach((e,t)=>{e&&(e.mode=ea(e,t).value===r?this.getVisibleTextTrackMode():this.getHiddenTextTrackMode())})}seekInternal(e){Wi(this.video,Object(ds.j)(ti(e,0,this.getDuration()||0)))}getFragmentsData(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return super.getFragmentsData();const e=this.video.seekable,t=Object(ds.j)(e.start(0)),r=Object(ds.j)(e.end(e.length-1));return{totalDuration:Object(ds.d)(r,t),fragmentDuration:sy.a,startTime:t}}shouldSkipVideoTagError(e){return e.code!==Uo.MEDIA_ERR_DECODE&&e.code!==Uo.MEDIA_ERR_ENCRYPTED&&e.code!==Uo.MEDIA_ERR_SRC_NOT_SUPPORTED||vr(this.state)}async onVideoTagError(){var n=o(this.video);if(!this.shouldSkipVideoTagError(n)){const r=function(){var{code:e,message:t,details:r}=n;return t||r&&r.message||Uo[e]||""}(),i=[function(){var{details:e,code:t}=n,e=Object(fo.a)(e)&&Object(_o.a)(e.code)?e.code:Uo.MEDIA_ERR_CUSTOM;return Object(_o.a)(t)?t:e}(),r].filter(e=>null!=e).map(e=>"["+e+"]").join("");this.video.poster=_s.a,this.checkPlaylistHTTPStatus();var e=!this.recoverHelper.allowed||!this.isRecoverablePlaylistHTTPStatus,t=new Gs({code:r,details:n,isFatal:e});if(!e)return this.props.onError(t),void this.recoverHelper.planTask(()=>this.recoverStream(),{delay:500,reason:"VideoTagError "+i});const a=await this.checkPlaylistHTTPStatusPromise;a&&a.isFatalError()?this.props.onError(a.toPlayerError()):this.props.onError(t)}}onTick(e){super.onTick(e),this.isDvrEnabled()&&(this.updateSkinDvrParameters(e),this.checkPositionAndReturnToLive())}async attachEncoder(){await super.attachEncoder();var e=e=>(this.props.onError(e),Promise.reject(Object(cy.a)(e.code,this.state.ad.adblockDetected)));if("mp4"!==Object(Io.c)(Object(Io.d)(this.getStreamUrl().toLowerCase()))&&!dv.a.canPlayHlsOnNative())return e(new Gs({code:Ws.a.NATIVE_HLS_NOT_SUPPORTED_ERROR}));const t=this["video"];this.subscribeContentImpression();try{await this.initDrm(this.props.stream.drmConfig)}catch(t){return e(t)}this.applyStartPositionEventually(),this.initVideoTypeQualifier(),this.logLoadToRum(),l(t,()=>t.src=this.getStreamUrl())}getStreamUrl(){var e,t=this.getStartPosition();return e=super.getStreamUrl(),void 0===(t=t)?e:void 0!==function(e){e=Object(Wf.d)(e,"t");return void 0===e?e:Object(ds.j)(Number(e))}(e)?Object(Wf.g)(e,"t",t):Object(Wf.b)(e,"t",String(t))}onOnline(){}onOffline(){}canSeek(){var e=this.props["video"];return 0<e.readyState&&0<e.duration}getStartPosition(){var{videoTime:e,utc:t}=this.state.controller.startPosition;if(Object(_o.a)(e)||Object(_o.a)(t)){var r=this.getUtcStartTime();return 0<r&&Object(_o.a)(t)&&0<t?t-r:Object(_o.a)(e)?e:void 0}}checkPlaylistHTTPStatus(){this.checkPlaylistHTTPStatusPromise||(this.checkPlaylistHTTPStatusPromise=this.loadPlaylistInfo().then(qy.fromXHR).then(e=>(this.isRecoverablePlaylistHTTPStatus=!e.isError()||e.isRecoverableError(),e)).catch(()=>{}))}initTextTracks(){let e=!1,t=!1;const r=this.video["textTracks"];if(r){const n=Object(To.a)(()=>{this.castTextTracksModeOnInit(),this.addEventListener(r,"change",this.notifyTextTracksChanged),this.notifyTextTracksChanged()}),i=()=>{e&&t&&n()};this.onDestroy.addOne(this.onCanPlay.addOne(()=>{e=!0,i()})),this.addEventListener(r,"addtrack",function(t,e,r,n){function i(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!=typeof r&&(n=r,r=!1);let a=null;function o(){const e=arguments;n=n||this,r&&null===a&&t.apply(n,e),i(),a=window.setTimeout(function(){r||t.apply(n,e),a=null},0)}return o.cancel=i,o}(()=>{t=!0,i()},0))}}setFirstAudioTrack(){this.restoreUserAudioTrack();var e=Xi(this.video);e&&this.audioTrackValueSignal.dispatch(e.value)}loadPlaylistInfo(){return q({method:"HEAD",url:this.getStreamUrl(),timeout:Xy,checkStatus:()=>!0})}subscribeCueChange(){const e=this.video["textTracks"];if(e&&"function"==typeof e.addEventListener){const t=e=>{const t=e.track;t&&"metadata"===t.kind&&(t.mode="hidden",this.addEventListener(t,"cuechange",e=>{var t,r=e.target["activeCues"],n=r["length"];!n||(t=r[n-1])&&({value:e,startTime:n,endTime:t}=t,e&&(t="number"==typeof t&&isFinite(t)?Object(ds.d)(t,n):sy.a,r=Object(uo.a)(r).map(e=>{if(e&&e.value){var e=e.value["data"];if("string"==typeof e)return e}return""}),this.props.onMetadata.dispatch({fragmentMetadataArray:r,fragmentStart:n,fragmentDuration:t,src:this.video.src})))}))};e.addEventListener("addtrack",t),this.onDestroy.add(()=>e.removeEventListener("addtrack",t))}}castTextTracksModeOnInit(){this.state.skin.useNativeSubtitles||void 0!==Bi(this.video.textTracks).find(e=>Boolean(e&&"disabled"===e.mode))||Bi(this.video.textTracks).forEach(e=>{e&&(e.mode="showing"===e.mode?this.getVisibleTextTrackMode():this.getHiddenTextTrackMode())})}subscribeToLogTelemetry(){this.addVideoEventListener("logTelemetryEvent",e=>{this.props.logEvent({event:e.eventName,params:e.params})})}}class Jy extends Qy{constructor(){super(...arguments),this.engine=Gf.MP4}async attachEncoder(){await super.attachEncoder(),hs.a.log("mp4 native mode")}applyStartPositionEventually(){const e=this.addVideoEventListener("durationchange",()=>{this.canSeek()&&(this.applyStartPosition(),e(),this.onDetach.remove(e))});this.onDetach.addOne(e)}initVideoTypeQualifier(){this.props.onVideoTypeChange.dispatch(cs.a.VOD)}initDrm(){return Promise.resolve()}setVideoTrack(){}}const $y=Object(ds.j)(5*Math.random()),em=e=>!!e.data&&418===e.data[1],tm={error:"",isFatal:!1},rm=e=>{try{return sa(e.data[2])}catch(e){return tm}};let nm;(nm=nm||{}).EXPIRED_SIGNATURE="EXPIRED_SIGNATURE";var im=r(99);class am{static convertToTextTrackCue(e){return!shaka||!VTTCue||e.startTime>=e.endTime?null:new VTTCue(e.startTime,e.endTime,e.payload)}static removeWhere(t,r){var e=t.mode;t.mode="hidden";var n=t.cues||[];for(let e=n.length-1;0<=e;e--){var i=n[e];i&&r(i)&&t.removeCue(i)}t.mode=e}constructor(e,t){this.useNativeSubtitles=t,this.textTrack=void 0,Object(uo.a)(e.textTracks).forEach(e=>{e.mode="disabled","StreamPlayerJs TextTrack"===e.label&&(this.textTrack=e)}),this.textTrack||(this.textTrack=e.addTextTrack("subtitles","StreamPlayerJs TextTrack")),this.textTrack.mode=this.hiddenMode()}remove(t,r){return!(!this.textTrack||!shaka)&&(am.removeWhere(this.textTrack,e=>e.startTime<r&&e.endTime>t),!0)}append(e){if(shaka&&this.isTextVisible()&&this.textTrack){const r=[];e.forEach(e=>{e=am.convertToTextTrackCue(e);e&&r.push(e)}),r.slice().sort((e,t)=>e.startTime!==t.startTime?e.startTime-t.startTime:e.endTime!==t.endTime?e.endTime-t.startTime:r.indexOf(t)-r.indexOf(e)).forEach(e=>{this.textTrack.addCue(e)})}}destroy(){return this.textTrack&&am.removeWhere(this.textTrack,e=>!0),this.textTrack=void 0,Promise.resolve()}isTextVisible(){return!!this.textTrack&&this.textTrack.mode!==this.hiddenMode()}setTextVisibility(e){this.textTrack&&(this.textTrack.mode=e?this.showingMode():this.hiddenMode())}hiddenMode(){return"disabled"}showingMode(){return Hi(this.useNativeSubtitles())}}var om=r(48);let sm=!1;const cm={version:'Period>SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:version"]',uriTemplate:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:uri"]',tiles:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:tiles"]',spriteDuration:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:duration"]',resolution:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:resolution"]'},dm={version:cm.version,uriTemplate:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:uri"]',tiles:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:tiles"]',spriteDuration:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:duration"]',resolution:'SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:lowres:resolution"]'};var lm=r(304);const um=Object(ds.h)(3e4);class hm extends Ya.a{constructor(){super(),this.blacklist=[],this.checkLoopTimeoutId=void 0,this.startLoop()}destroy(){this.stopLoop(),super.destroy()}addHostname(e){-1<lm.a.indexOf(e)||-1<this.blacklist.indexOf(e)||this.blacklist.push(e)}isBlacklisted(e){return-1<this.blacklist.indexOf(e)}async checkBlacklistedHosts(){const t=[];await Promise.all(this.blacklist.map(async e=>{try{await Vr(Mr(e)),t.push(e)}catch(e){}})),this.blacklist=this.blacklist.filter(e=>!(-1<t.indexOf(e)))}startLoop(){this.getIsDestroyed()||(this.checkLoopTimeoutId=window.setTimeout(async()=>{this.stopLoop(),await this.checkBlacklistedHosts(),this.startLoop()},um))}stopLoop(){clearTimeout(this.checkLoopTimeoutId)}}const fm=jy/sy.a*2*2;class pm{constructor(){this.initSegments=new Uv(10),this.segments=new Uv(fm)}set(e,t){var r=Object(Io.g)(e)["pathname"],t={pathname:r,response:t};(pa(e)?this.initSegments:this.segments).push(t)}get(e){var t=Object(Io.g)(e)["pathname"],t=pa(e)?fa(this.initSegments,t):fa(this.segments,t);return void 0===t?void 0:t.response}clear(){this.initSegments.clear(),this.segments.clear()}hasCachedData(){return 0<this.initSegments.getAll().length||0<this.segments.getAll().length}}class vm{constructor(){this.segmentCache=new pm,this.useLastLoadedManifest=!0,this.lastLoadedManifest=void 0,this.shaka=void 0,this.strmSession=void 0,this.serverTimestamp=void 0,this.getElapsedTimeFromServerDate=()=>0}setup(e,t){void 0===this.shaka&&(this.shaka=e,t=this.customNetPluginFactory(e,t),e.net.NetworkingEngine.registerScheme("http",t),e.net.NetworkingEngine.registerScheme("https",t))}useCachedManifest(){this.useLastLoadedManifest=!0}destroy(){this.segmentCache.clear(),void 0!==this.shaka&&(this.shaka.net.NetworkingEngine.unregisterScheme("http"),this.shaka.net.NetworkingEngine.unregisterScheme("https"),this.shaka=void 0)}hasCachedSegments(){return this.segmentCache.hasCachedData()}hasCachedData(){return this.useLastLoadedManifest&&void 0!==this.lastLoadedManifest||this.hasCachedSegments()}getServerTime(){if(void 0!==this.serverTimestamp)return this.serverTimestamp+this.getElapsedTimeFromServerDate()}cacheResponse(e,t,r,n){switch(r){case e.net.NetworkingEngine.RequestType.MANIFEST:this.lastLoadedManifest=n,this.useLastLoadedManifest=!1;break;case e.net.NetworkingEngine.RequestType.SEGMENT:this.segmentCache.set(t,n)}}getCachedResponse(e,t,r){switch(r){case e.net.NetworkingEngine.RequestType.MANIFEST:const{useLastLoadedManifest:r,lastLoadedManifest:i}=this;return r&&void 0!==i?(this.useLastLoadedManifest=!1,i):void 0;case e.net.NetworkingEngine.RequestType.SEGMENT:var n=this.segmentCache.get(t);return void 0===n?void 0:n;default:return}}customNetPluginFactory(s,c){return(t,e,r,n)=>{var i=this.getCachedResponse(s,t,r);if(void 0!==i)return new s.util.AbortableOperation(Promise.resolve(i),ho.a);const a=r===s.net.NetworkingEngine.RequestType.MANIFEST;a&&void 0!==this.strmSession&&(e.headers["x-strm-session"]=this.strmSession);const o=((i=s).net.HttpFetchPlugin.isSupported()?i.net.HttpFetchPlugin:i.net.HttpXHRPlugin)(t,e,r,n);return new s.util.AbortableOperation(o.promise.then(e=>(a&&(this.strmSession=e.headers["x-strm-session"]),this.parseDateHeader(e),this.cacheResponse(s,t,r,e),e)).catch(e=>{throw e&&e.code!==s.util.Error.Code.OPERATION_ABORTED&&c(r,e),e}),()=>o.abort())}}parseDateHeader(e){var{headers:t,timeMs:e=0}=e;void 0===this.serverTimestamp&&void 0!==t.date&&null!==t.date&&(t=new Date(t.date).getTime(),Object(_o.a)(t)&&(this.serverTimestamp=t+e,this.getElapsedTimeFromServerDate=Object(Oo.a)()))}}const ym=e=>e.active;var mm=r(253);const gm=Object(ds.h)(1e3),Em={timeout:5e3,maxAttempts:10,baseDelay:100,backoffFactor:2,fuzzFactor:.5},Am=Ra({},Em,{timeout:1e4,maxAttempts:3}),Tm=Object(ds.j)(.001);class Sm extends Zy{constructor(e){var n;super(e),(n=this).engine=Gf.MPD,this.shakaPlayer=void 0,this.preloadShakaPlayer=void 0,this.chunkHostnameBlacklist=new hm,this.shakaConfigAutoUpdateInterval=void 0,this.manifestXML=void 0,this.initMpdEncoderPromise=void 0,this.detachMpdEncoderCalled=!1,this.useNativeSubtitles=!1,this.networkingEngine=new vm,this.lastVariantBandwidthBeforeDetach=void 0,this.tryToInjectWidevineCert=Object(To.a)(async()=>{const{drmConfig:e={}}=this.props.stream;if(!za&&e){const r=e.advanced;if(r&&r["com.widevine.alpha"])try{const e=r["com.widevine.alpha"]["serverCertificateUrl"];var t;e&&(t=(await q({method:"get",responseType:"arraybuffer",url:e,withCredentials:this.withCredentials}))["response"],r["com.widevine.alpha"].serverCertificate=new Uint8Array(t))}catch(e){const r=new Gs(e,{isFatal:!1,code:Ws.a.MPD_WIDEVINE_CERT_LOAD_ERROR});this.props.onError(r)}}}),this.shakaHTTPRequestFilter=(e,t)=>Object(wo.a)(()=>this.shakaHTTPRequestFilterInternal(e,t),this.onShakaFilterError),this.shakaHTTPRequestFilterInternal=(e,t)=>{if("undefined"!=typeof shaka)switch(t.allowCrossSiteCredentials=this.withCredentials,e){case shaka.net.NetworkingEngine.RequestType.MANIFEST:t.uris=t.uris.map(zn);break;case shaka.net.NetworkingEngine.RequestType.LICENSE:const e=this.props["stream"],n=e["drmConfig"];if(!n)return;var r=n["requestParams"];if(r){const{StringUtils:e,Uint8ArrayUtils:a}=shaka.util,o=Ra({rawLicenseRequestBase64:a.toBase64(new Uint8Array(t.body||new ArrayBuffer(0)))},r);t.body=e.toUTF8(JSON.stringify(o)),t.headers=Ra({},t.headers,{"Content-Type":"application/json"})}n.headers&&(t.headers=Ra({},t.headers,n.headers));break;case shaka.net.NetworkingEngine.RequestType.SEGMENT:const i=t.uris.filter(e=>{var e=Object(Io.g)(e)["hostname"];return!this.chunkHostnameBlacklist.isBlacklisted(e)});if(0===i.length)break;t.uris=i.map(zn)}},this.shakaPreviewsHTTPResponseFilter=(e,t)=>Object(wo.a)(()=>this.shakaPreviewsHTTPResponseFilterInternal(e,t),this.onShakaFilterError),this.shakaPreviewsHTTPResponseFilterInternal=(e,t)=>{var r;"undefined"!=typeof shaka&&e===shaka.net.NetworkingEngine.RequestType.MANIFEST&&(!t.data||(r=function(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(e){return null}}((e=new Uint8Array(t.data))?function(e){let t="",r=0;var n=e.length;let i,a=0,o;for(;r<n;)switch(i=e[r++],i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[r++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[r++],o=e[r++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&o)<<0)}return t}(new Uint8Array(Array.from(e))):""))&&(this.manifestXML&&this.checkRepresentationChange(this.manifestXML,r),this.manifestXML=r,this.videoTrackLabels=function(e){const r=new Map,t=e.querySelectorAll('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:labels:quality"]');return Object(uo.a)(t).forEach(e=>{const t=e.getAttribute("value");t&&t.split(",").filter(Boolean).forEach(e=>{var[t,e]=e.split(":");void 0!==Ci(t)&&e&&r.set(t,e)})}),r}(r),this.deepHDTracks=function(e){const t=Object(uo.a)(e.querySelectorAll('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:labels:deephd"]')),r=new Set;return t.forEach(e=>{const t=e.getAttribute("value");t&&t.split(",").filter(e=>void 0!==Ci(e)).forEach(e=>r.add(e))}),r}(r),t=la(r,yy.LOWRES),e=la(r,yy.HIGHRES),(e={version:function(){const e=r.querySelector('AdaptationSet[mimeType="image/jpeg"] SupplementalProperty[schemeIdUri="urn:mpeg:yandex:thumbnail:version"]');return e?parseFloat(e.getAttribute("value")||""):0}(),lowRes:t,highRes:e}).highRes&&this.playerStore.dispatch(Id(e))))},this.onShakaAdaptationEvent=()=>{this.actualizeAvailableVariantTracks(),this.actualizeActiveVariantTrack()},this.onShakaEmsgEvent=e=>{if(hs.a.log("-> Shaka EmsgEvent",e),Object(fo.a)(e)&&Object(fo.a)(e.detail)&&Object(fo.a)(e.detail.messageData)){const{startTime:t,messageData:r}=e.detail;iy.a.parse(r).then(function(e){var e=(void 0===e?{}:e)["writer"];e&&n.props.onMetadata.dispatch({fragmentMetadataArray:[e],fragmentStart:t,fragmentDuration:Ta(n.shakaPlayer,t),src:n.getStreamUrl()})})}},this.reportLargeGap=e=>{hs.a.log("-> Shaka LargeGapEvent",e),this.props.logEvent({event:"MpdLargeGap",params:{currentTime:e.currentTime,gapSize:e.gapSize}})},this.actualizeTracks=()=>{Aa(this.shakaPlayer)&&(this.actualizeAvailableTracks(),this.actualizeActiveTracks())},this.onShakaErrorEvent=e=>{shaka&&e&&(e=e["detail"],this.onShakaError(e),(e=da(shaka,e))&&e.isFatal&&this.shakaPlayer&&this.shakaPlayer.destroy())},this.onShakaError=e=>{var t,r;shaka&&(hs.a.error("-> onShakaError",e),t=shaka,r=this.state,(t=e.code===t.util.Error.Code.VIDEO_ERROR&&0<r.controller.watchedTime&&this.recoverHelper.allowed)&&(e.severity=shaka.util.Error.Severity.RECOVERABLE),(r=da(shaka,e))&&(t&&this.recoverHelper.planTask(()=>this.recoverStream(),{delay:0,reason:r.code}),this.checkDeadChunkServer(e),this.props.onError(r)))},this.onShakaFilterError=e=>{if(shaka){if(hs.a.error("-> onShakaFilterError",e),t=e,Object(fo.a)(t)&&Object(_o.a)(t.severity)&&Object(_o.a)(t.category)&&Object(_o.a)(t.code)&&Object(im.a)(t.data))return this.onShakaError(e);var t;this.props.onError(new Gs({code:Ws.a.SHAKA_FILTER_ERROR,message:e.message,isFatal:!1,stack:e.stack}))}},this.onShakaNetworkError=(e,t)=>{"undefined"!=typeof shaka&&void 0!==this.shakaPlayer&&((e!==shaka.net.NetworkingEngine.RequestType.LICENSE||!em(t)||!rm(t).isFatal&&t.severity!==shaka.util.Error.Severity.CRITICAL)&&451!==ia(shaka,t)?this.onShakaError(t):t.severity=shaka.util.Error.Severity.CRITICAL)},this.parseTextTrack=e=>{var{label:t,language:r,originalTextId:e}=e,r=va(this.manifestXML,e)||r;return{name:t||r||e,value:e,lang:r}},this.parseAudioTrack=e=>{var{label:t,language:r,originalId:n,bandwidth:e}=e,r=va(this.manifestXML,n)||r;return{name:t||r||n,value:n,lang:r,bitrate:Object(ds.f)(e?e/1e3:_f)}},this.setStartPosition=()=>{var e;this.video&&(e=this.calcStartPosition(),Object(_o.a)(e)&&(this.canSeek()?Wi(this.video,Object(ds.j)(ti(e,this.getUtcStartTime(),this.getDuration()))):this.onDetach.add(this.addVideoEventListener("loadeddata",()=>this.setStartPosition(),{once:!0}))))},function(e){try{if(!navigator.requestMediaKeySystemAccess)return;const t=Object(mm.a)(e);if(t===window)return;if(!t.navigator.requestMediaKeySystemAccess)return;navigator.requestMediaKeySystemAccess=function(){return t.navigator.requestMediaKeySystemAccess(...arguments)}}catch(e){}}(this.video),Object(El.f)(),this.onDestroy.addOne(()=>this.chunkHostnameBlacklist.destroy()),this.onDestroy.addOne(()=>this.stopShakaConfigAutoUpdate()),this.onDestroy.addOne(()=>this.networkingEngine.destroy()),this.onDestroy.addOne(()=>this.cancelPreloadSource()),this.video.classList.add(xy.a.video_hiddenSubtitlesBtn),this.playerStore.dispatch(nd(!0)),function(){if(!sm&&(sm=!0,window.MediaKeySession)){const e=window.MediaKeySession["prototype"],n=e["close"];e.close=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.race([n.call(this,t),Ro(200).promise])}}}(),this.onDestroy.addOne(this.textTrackValueSignal.add(e=>{Aa(this.shakaPlayer)&&this.shakaPlayer.setTextTrackVisibility(Boolean(e))})),this.useNativeSubtitles=this.state.skin.useNativeSubtitles}getMaxCapAllowedVideoTrack(){const{maxHeight:r=1/0,maxWidth:n=1/0}=this.getAbrRestrictions(),e=this.state.controller["videoTracks"];return e.find(e=>{var{width:t,height:e}=e;return void 0!==t&&void 0!==e&&t<=n&&e<=r})||e[e.length-1]}getFragmentsData(){var{start:e=Object(ds.j)(0),end:t=Object(ds.j)(0)}=void 0===this.shakaPlayer?{}:this.shakaPlayer.seekRange();return{totalDuration:Object(ds.d)(t,e),fragmentDuration:Ta(this.shakaPlayer),startTime:e}}onOnline(){}onOffline(){}getUtcStartTime(){var e=ba(this.shakaPlayer);return void 0===e?super.getUtcStartTime():e}getUtcPosition(){var e=Oa(this.shakaPlayer);return void 0===e?super.getUtcPosition():e}setVideoTrack(e){let r=e["value"];if(void 0!==this.shakaPlayer)if("auto"!==r){const n=ga(this.shakaPlayer);void 0!==n&&(this.setAbrEnabled(!1),e=this.shakaPlayer.getVariantTracks().find(e=>{var t=e.originalVideoId===r,e=e.originalAudioId===n.originalAudioId;return t&&e}),this.setVariantTrack(e))}else this.setAbrEnabled(!0)}setAudioTrack(e){let{lang:t,value:r}=e;if(void 0!==this.shakaPlayer){const n=ga(this.shakaPlayer);if(void 0!==n){e=this.shakaPlayer.getVariantTracks().find(e=>{var t=e.originalAudioId===r,e=e.originalVideoId===n.originalVideoId;return t&&e});if(n&&e){const{height:i,videoBandwidth:a}=n,o=e["language"];this.setVariantTrack(this.shakaPlayer.getVariantTracks().find(e=>e.height===i&&e.videoBandwidth===a&&e.language===o))}else this.shakaPlayer.selectAudioLanguage(t)}}}setTextTrack(e){let t=e["value"];!this.shakaPlayer||(e=this.shakaPlayer.getTextTracks().find(e=>{var e=e["originalTextId"];return e===t}))&&(this.shakaPlayer.selectTextTrack(e),this.textTrackValueSignal.dispatch(t))}disableTextTrack(){this.shakaPlayer&&this.textTrackValueSignal.dispatch(void 0)}toggleNativeSubtitles(e){super.toggleNativeSubtitles(e),this.useNativeSubtitles=e}onVideoTagError(e){hs.a.log("-> onVideoTagError",e)}getDuration(){return Aa(this.shakaPlayer)?this.shakaPlayer.seekRange().end:Object(ds.j)(NaN)}async preloadSource(){if(this.tryToInjectWidevineCert(),await Object(El.f)(),!this.detachMpdEncoderCalled&&void 0===this.preloadShakaPlayer&&void 0===this.initMpdEncoderPromise&&void 0===this.shakaPlayer&&shaka.Player.isBrowserSupported()&&!this.networkingEngine.hasCachedData()){this.networkingEngine.setup(shaka,this.onShakaNetworkError);const e=document.createElement("video"),r=this.preloadShakaPlayer=new shaka.Player(e);om.c&&(window.preloadShakaPlayer=r);const t=r.getNetworkingEngine();t.registerRequestFilter(this.shakaHTTPRequestFilter),t.registerRequestFilter(e=>{if(e===shaka.net.NetworkingEngine.RequestType.LICENSE)return new Promise((e,t)=>{r.addEventListener("unloading",t)})});const n=this.getInitialShakaConfig();n.streaming.bufferingGoal=My,n.abr.enabled=!1,this.configureShaka(r,n),r.addEventListener("manifestparsed",()=>{this.onManifestParsed(r)}),Object(So.a)(this.loadShakaSource(r))}}getSeekableRange(){var{start:e,end:t}=Aa(this.shakaPlayer)?this.shakaPlayer.seekRange():{start:Object(ds.j)(0),end:Object(ds.j)(0)};return{start:e,end:Object(ds.j)(Math.min(t,Object(ds.d)(this.getDuration(),Tm)||0))}}canSeek(){return void 0!==this.shakaPlayer&&super.canSeek()}onTick(e){var t=_a(this.shakaPlayer);this.onVideoTypeChange.dispatch(t),super.onTick(e);var e=this["shakaPlayer"];void 0!==e&&(this.setShakaAvailabilityWindowOverride(e),e=void 0===(e=ba(this.shakaPlayer))?void 0:Object(ds.c)(e,1e3),this.props.onProgramDateTimeChange.dispatch(e),t=t===cs.a.VOD,this.setNativeTimeControlVisibility(t),this.setNativeTimelineControlVisibility(t))}getStreamUrl(){return Object(Io.b)(super.getStreamUrl(),{preview:"1"},{saveOriginalPath:!0})}getMaxBufferLength(){var e=_a(this.shakaPlayer);return e!==cs.a.LIVE&&e!==cs.a.EVENT||this.shouldUseLowBuffer()?super.getMaxBufferLength():this.props.liveOffset}async detachEncoder(){this.detachMpdEncoderCalled=!0;var e=ga(this.shakaPlayer);e&&(this.lastVariantBandwidthBeforeDetach=Object(ds.e)(e.bandwidth)),await super.detachEncoder(),this.manifestXML=void 0,this.networkingEngine.useCachedManifest();const{video:t,shakaPlayer:r}=this;t.classList.remove(xy.a.video_hiddenSubtitlesBtn),this.stopShakaConfigAutoUpdate(),void 0!==r&&await this.preventPauseAsync(t,()=>(this.shakaPlayer=void 0,r.destroy())),Object(Ko.a)(window.VTTCue)||delete window.VTTCue}async attachEncoder(){this.detachMpdEncoderCalled=!1,await super.attachEncoder(),this.initMpdEncoderPromise=this.initMpdEncoder(),await this.initMpdEncoderPromise,this.initMpdEncoderPromise=void 0}getBandwidthEstimate(){const e=this.preloadShakaPlayer||this.shakaPlayer;if(!e)return super.getBandwidthEstimate();var t=e.getStats()["estimatedBandwidth"];return t||super.getBandwidthEstimate()}getLiveLatency(){var t=this["state"];if(function(){var{controller:{videoType:e}}=t;return e!==cs.a.VOD&&Sr(t)}()){var{controller:{playingState:e}}=t;if(e===ss.a.PLAY||e===ss.a.BUFFERING){var r=this.getUtcPosition(),e=this.networkingEngine.getServerTime();return 0<r&&void 0!==e?Object(ds.j)(Math.max(e/1e3-r,0)):void 0}}}getRemainingBufferedTime(){if(!Aa(this.shakaPlayer))return super.getRemainingBufferedTime();var e=this.state.controller["currentTime"],{audio:t,video:r,total:n}=this.shakaPlayer.getBufferedInfo();return{total:Br(n,e)||Object(ds.j)(0),video:Br(r,e)||Object(ds.j)(0),audio:Br(t,e)||Object(ds.j)(0)}}getUtcEndTime(){if(_a(this.shakaPlayer)===cs.a.LIVE)return this.getSeekableRange().end;var e=this.getUtcStartTime();return e?Object(ds.a)(e,this.getDuration()):Object(ds.j)(0)}async initMpdEncoder(){this.tryToInjectWidevineCert(),Object(Op.e)("drm",function(t){const e=function(){if(void 0!==Iv)return Iv.supportedDrmSystems}();return void 0!==t&&Object(fo.a)(t.servers)&&void 0!==e&&e.filter(e=>Object(op.a)(t.servers,e)).map(e=>{for(const t in _v)if(Object(op.a)(_v,t)&&_v[t].includes(e))return t;return!1}).filter(Boolean).join("|")||"none"}(this.props.stream.drmConfig));try{await Object(El.f)(),this.networkingEngine.setup(shaka,this.onShakaNetworkError)}catch(e){const t=new Gs(e,{code:Ws.a.MPD_SHAKA_INIT_ERROR});throw this.props.onError(t),t}if(!this.detachMpdEncoderCalled){if(!shaka.Player.isBrowserSupported()){const e=new Gs({code:Ws.a.MPD_NOT_SUPPORTED_ERROR});throw this.props.onError(e),e}const e=l(this.video,()=>new shaka.Player(this.video));this.shakaPlayer=e,om.c&&(window.shakaPlayer=e),this.subscribeContentImpression(),this.attachShakaEventListeners();const t=e.getNetworkingEngine();t.registerRequestFilter(this.shakaHTTPRequestFilter),t.registerResponseFilter(this.shakaPreviewsHTTPResponseFilter);const r=this.getInitialShakaConfig(),n=this["video"],i=()=>this.useNativeSubtitles;r.textDisplayFactory=function(){return new am(n,i)},this.configureShaka(e,r),void 0!==this.preloadShakaPlayer&&this.networkingEngine.useCachedManifest(),this.logLoadToRum();try{if(await this.preventPauseAsync(this.video,()=>this.loadShakaSource(e)),this.cancelPreloadSource(),this.detachMpdEncoderCalled)return;this.initShakaConfigAutoUpdate(),this.lastVariantBandwidthBeforeDetach=void 0}catch(e){this.onShakaError(e)}}}loadShakaSource(e){var t=this.calcStartPosition();return e.load(this.getStreamUrl(),Object(_o.a)(t)?t:void 0).then(Object(_o.a)(t)?ho.a:this.setStartPosition)}getInitialShakaConfig(){var e=this.props["stream"],t=this.getBandwidthEstimate();return{abr:Ra({enabled:this.state.controller.isAbrEnabled,restrictions:this.getAbrRestrictions()},t?{defaultBandwidthEstimate:t}:{}),drm:Ra({retryParameters:Am},e.drmConfig),manifest:{availabilityWindowOverride:1/0,retryParameters:Ra({},Em,{timeout:this.getNetParams().manifestTimeout,maxAttempts:5}),dash:{ignoreMinBufferTime:!0}},streaming:{bufferingGoal:this.getMaxBufferLength(),jumpLargeGaps:!0,retryParameters:Ra({},Em,{timeout:this.getNetParams().chunkTimeout})}}}attachShakaEventListeners(){const{shakaPlayer:e,video:t}=this;void 0!==e&&(e.addEventListener("buffering",e=>{var e=e["buffering"],e=Gi(t,e);this.onPlayingStateChangeInternal.dispatch(e)}),e.addEventListener("error",this.onShakaErrorEvent),e.addEventListener("adaptation",this.onShakaAdaptationEvent),e.addEventListener("trackschanged",this.actualizeTracks),e.addEventListener("emsg",this.onShakaEmsgEvent),e.addEventListener("largegap",this.reportLargeGap),e.addEventListener("manifestparsed",()=>{this.onManifestParsed(e),this.updateShakaConfig()}),e.addEventListener("trackschanged",Object(To.a)(this.restoreUserTracks)))}onManifestParsed(e){this.setShakaAvailabilityWindowOverride(e),this.setPresentationTimelineDelay(e)}setPresentationTimelineDelay(e){const t=e.getManifest();t&&t.presentationTimeline.setDelay(this.props.liveOffset+$y)}setShakaAvailabilityWindowOverride(e){var t,r=_a(e);void 0!==r&&(t=r===cs.a.EVENT?1/0:NaN,{manifest:{availabilityWindowOverride:r}}=e.getConfiguration(),t===r||isNaN(t)&&isNaN(r)||this.configureShaka(e,{manifest:{availabilityWindowOverride:t}}))}setVariantTrack(e){void 0!==this.shakaPlayer&&void 0!==e&&(this.shakaPlayer.selectVariantTrack(e,!0),this.actualizeTracks())}setAbrEnabled(e){void 0!==this.shakaPlayer&&(this.configureShaka(this.shakaPlayer,{abr:{enabled:e}}),this.updateShakaConfig())}actualizeActiveTracks(){this.actualizeActiveVariantTrack(),this.actualizeActiveTextTrack()}actualizeActiveVariantTrack(){var e,t=ga(this.shakaPlayer);void 0!==t&&({originalAudioId:e,originalVideoId:t}=t,this.videoTrackValueSignal.dispatch(t),this.audioTrackValueSignal.dispatch(e))}actualizeActiveTextTrack(){var e,t;void 0!==this.shakaPlayer&&({controller:{textTrackEnabled:e}}=this.state,t=this.getCurrentInternalTextTrack(),this.textTrackValueSignal.dispatch(void 0!==t&&e?this.parseTextTrack(t).value:void 0))}actualizeAvailableTracks(){this.actualizeAvailableTextTracks(),this.actualizeAvailableVariantTracks()}actualizeAvailableTextTracks(){var e=this.getAvailableTextTracks();this.video.classList.toggle(xy.a.video_hiddenSubtitlesBtn,0===e.length),this.props.onTextTracksChange.dispatch(e)}getAvailableTextTracks(){return this.shakaPlayer?this.shakaPlayer.getTextTracks().map(this.parseTextTrack):[]}actualizeAvailableVariantTracks(){const n=ga(this.shakaPlayer);if(n){var e=ma(this.shakaPlayer);if(e){const t=e.variants;if(Array.isArray(t)){const i={},a={};t.forEach(e=>{const t=e.video,r=e.audio;if(!r||r.originalId===n.originalAudioId){const e=((e,t,r)=>{var{bandwidth:n,width:i,height:a,originalId:o}=e;return{name:function(e,t){var{width:r,height:n,bandwidth:i}=e;return Object(_o.a)(n)?(e=n+"p",Object(_o.a)(r)&&Object(_o.a)(i)?(i=ki({width:r,height:n,bitrate:Object(ds.e)(i)}),void 0===(i=t.get(i))?e:i):e):""}(e,r),value:o,width:i,height:a,deepHD:function(e,t){var{bandwidth:r,width:n,height:i,label:e}=e;return"deephd"===e||!!(Object(_o.a)(n)&&Object(_o.a)(i)&&Object(_o.a)(r))&&(r=ki({width:n,height:i,bitrate:r}),t.has(r))}(e,t),bitrate:n?Object(ds.b)(Object(ds.e)(n),1e3):_f}})(t,this.deepHDTracks,this.videoTrackLabels),{name:a=String(e.height)||""}=e;(void 0===i[a]||e.value===n.originalVideoId||i[a].value!==n.originalAudioId&&i[a].bitrate<e.bitrate)&&(i[a]=e)}if(r&&t.originalId===n.originalVideoId){const e=this.parseAudioTrack(r),t=e["name"];(void 0===a[t]||e.value===n.originalAudioId||a[t].value!==n.originalAudioId&&a[t].bitrate<e.bitrate)&&(a[t]=e)}}),this.props.onVideoTracksChange.dispatch(Hn(i)),this.props.onAudioTracksChange.dispatch(Hn(a))}}}}getCurrentInternalTextTrack(){return void 0===this.shakaPlayer?void 0:this.shakaPlayer.getTextTracks().find(ym)}checkDeadChunkServer(e){if(shaka&&(om.c||Object(df.a)(this.getStreamUrl()))&&this.state.controller.videoType===cs.a.VOD){var{code:t,data:e}=e;if(t===shaka.util.Error.Code.BAD_HTTP_STATUS||t===shaka.util.Error.Code.HTTP_ERROR||t===shaka.util.Error.Code.TIMEOUT){var[t]=e,e=e[e.length-1];if("string"==typeof t&&e===shaka.net.NetworkingEngine.RequestType.SEGMENT){const r=Object(Io.g)(t)["hostname"];this.chunkHostnameBlacklist.addHostname(r)}}}}initShakaConfigAutoUpdate(){this.stopShakaConfigAutoUpdate(),this.shakaConfigAutoUpdateInterval=window.setInterval(()=>{this.updateShakaConfig()},gm)}updateShakaConfig(){const e=this["shakaPlayer"];if(void 0!==e)try{var t=this.getAbrRestrictions(),r=this.getMaxBufferLength(),n=e.getConfiguration();n.abr.restrictions.maxHeight===t.maxHeight&&n.abr.restrictions.maxWidth===t.maxWidth&&n.abr.restrictions.minBandwidth===t.minBandwidth&&n.abr.restrictions.maxBandwidth===t.maxBandwidth&&n.streaming.bufferingGoal===r||this.configureShaka(e,{abr:{restrictions:t},streaming:{bufferingGoal:r}})}catch(e){}}stopShakaConfigAutoUpdate(){clearInterval(this.shakaConfigAutoUpdateInterval)}getVideoElementHeight(){var e=this["video"];return Object(ds.i)(e.height||e.clientHeight||e.offsetHeight)}getVideoElementWidth(){var e=this["video"];return Object(ds.i)(e.width||e.clientWidth||e.offsetWidth)}getAbrRestrictions(){if(!this.state.controller.isAbrEnabled)return{maxWidth:Object(ds.i)(1/0),maxHeight:Object(ds.i)(1/0)};var e=pi(),t=Object(ds.c)(this.getVideoElementWidth(),e),r=Object(ds.c)(this.getVideoElementHeight(),e),e=function(e){if(void 0!==e){const t=e.querySelector('SupplementalProperty[schemeIdUri="urn:mpeg:yandex:capping:maxheight"]');if(t){e=Object(ds.i)(parseInt(t.getAttribute("value")||"",10));return 0<e?{maxHeight:e}:void 0}}}(this.manifestXML),e=void 0===e?r:Object(ds.i)(Math.min(e.maxHeight,r));let n=Object(ds.e)(0),i=Object(ds.e)(1/0);r=ga(this.preloadShakaPlayer),r=r&&Object(ds.e)(r.bandwidth)||this.lastVariantBandwidthBeforeDetach||void 0;return this.networkingEngine.hasCachedSegments()&&void 0!==r&&(n=i=r),{maxWidth:t,maxHeight:e,minBandwidth:n,maxBandwidth:i}}getPreloadedOrStartPosition(){const e=this["preloadShakaPlayer"],t=this.state.controller["startPosition"];if(!Aa(e))return t;var r=e.getBufferedInfo();if(0===r.audio.length&&0===r.video.length)return t;r=e.getMediaElement();return{utc:Oa(e)||t.utc||void 0,videoTime:r&&Object(ds.j)(r.currentTime)||t.videoTime||void 0}}calcStartPosition(){var{utc:e,videoTime:t}=this.getPreloadedOrStartPosition(),r=ba(this.shakaPlayer);return Object(_o.a)(e)&&void 0!==r?Math.max(e-r,0):t}configureShaka(e,t){try{e.configure(t)}catch(e){this.props.onError(new Gs(e,{isFatal:!1,code:Ws.a.SHAKA_CONFIGURE_ERROR}))}}checkRepresentationChange(e,t){t=t,e=ha(e),t=ha(t),ls()(e,t)||(this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.RepresentationsChange,void 0))),this.props.logEvent({event:Zs.a.RepresentationsChange,params:{}}),this.recoverStream())}cancelPreloadSource(){const e=this["preloadShakaPlayer"];void 0!==e&&(e.destroy(),this.preloadShakaPlayer=void 0,om.c&&delete window.preloadShakaPlayer)}}class _m extends Ya.a{constructor(e,t,r,n){var a;super(),(a=this).drmConfig=t,this.errorCallback=r,this.withCredentials=n,this.certificate=void 0,this.video=void 0,this.keySessions={},this.onNeedKey=async function(e){var e=(void 0===e?{}:e)["initData"];const{certificate:t,video:r}=a;if(e&&void 0!==t&&!a.isDestroyed){const n=a.extractContentId(e);if(await a.waitForStalledEvent(),!a.keySessions[n]){r.webkitKeys||"function"!=typeof WebKitMediaKeys||r.webkitSetMediaKeys(new WebKitMediaKeys("com.apple.fps.1_0")),r.webkitKeys||a.onError(new Gs({code:Ws.a.FAIRPLAY_CREATE_MEDIA_KEYS_ERROR}));const i=a.video.webkitKeys.createSession("video/mp4",a.getWebKitMediaKeySessionInitData(e,n));i||a.onError(new Gs({code:Ws.a.FAIRPLAY_CREATE_KEY_SESSION_ERROR})),a.keySessions[n]=i,a.addDestroyHandler(()=>i.close()),a.addDestroyHandler(Object(oo.a)(i,"webkitkeymessage",e=>{var t=e["message"];a.isDestroyed||(e=t||new ArrayBuffer(0),t=Pa({"Content-Type":"application/json"},a.drmConfig.headers),q({responseType:"json",method:"POST",url:a.drmConfig.advanced["com.apple.fps.1_0"].processSPCPath,data:JSON.stringify(Pa({assetId:n,spc:btoa(wa(new Uint8Array(e)))},a.drmConfig.requestParams)),headers:t,retries:3,timeout:1e4,onRetry:a.onRequestRetry(e=>{a.onError(new Gs({isFatal:!1,code:Ws.a.FAIRPLAY_SPC_LOAD_ERROR,details:e}))}),withCredentials:a.withCredentials}).then(e=>{var{response:{ckc:e}}=e,e=Ia(atob(e));i.update(new Uint8Array(e))}).catch(e=>{a.onError(new Gs({isFatal:!0,code:Ws.a.FAIRPLAY_SPC_LOAD_ERROR,details:e}))}))})),a.addDestroyHandler(Object(oo.a)(i,"webkitkeyerror",e=>{let t;var r=i["error"];if(r){const{code:e,systemCode:n}=r;t={code:e,systemCode:n}}a.onError(new Gs({code:Ws.a.FAIRPLAY_CREATE_KEY_ERROR,isFatal:!1,details:t}))}))}}},this.onError=e=>{this.errorCallback.call(this.errorCallback,e),e.isFatal&&this.destroy()},this.onRequestRetry=r=>(e,t)=>{if(418!==t.status)return r(e),!0;t=sa(t.response);return this.onError(ca(t)),!t.isFatal},this.clearKeySessions=()=>{this.keySessions={}},this.video=e,this.addDestroyHandler(Object(oo.a)(e,"webkitneedkey",this.onNeedKey)),this.addDestroyHandler(this.clearKeySessions),this.addDestroyHandler(Object(oo.a)(e,"emptied",this.clearKeySessions))}loadCertificate(){return q({method:"GET",url:this.drmConfig.servers["com.apple.fps.1_0"],responseType:"arraybuffer",retries:3,timeout:1e4,onRetry:this.onRequestRetry(e=>{this.onError(new Gs({code:Ws.a.FAIRPLAY_CERT_LOAD_ERROR,isFatal:!1,details:e}))}),withCredentials:this.withCredentials}).then(e=>{var e=e["response"];this.certificate=new Uint8Array(e)}).catch(e=>{this.onError(new Gs({isFatal:!0,code:Ws.a.FAIRPLAY_CERT_LOAD_ERROR,details:e}))})}getWebKitMediaKeySessionInitData(e,t){var{certificate:r=new Uint8Array(0)}=this,n=new Uint16Array(Ia(t)),t=0;const i=e.byteLength+4+n.byteLength+4+r.byteLength,a=new ArrayBuffer(i),o=new DataView(a);new Uint8Array(a,0,e.byteLength).set(new Uint8Array(e)),t+=e.byteLength,o.setUint32(t,n.byteLength,!0),t+=4;const s=new Uint16Array(a,t,n.length);return s.set(n),t+=s.byteLength,o.setUint32(t,r.byteLength,!0),t+=4,new Uint8Array(a,t,r.byteLength).set(r),new Uint8Array(a,0,a.byteLength)}extractContentId(e){const t=new Uint8Array(e),r=wa(new Uint16Array(t.buffer)),[,n]=r.split("//");return n||(this.onError(new Gs({isFatal:!1,code:Ws.a.FAIRPLAY_INVALID_CONTENT_ID})),"")}waitForStalledEvent(){return new Promise(e=>{this.addDestroyHandler(Object(oo.a)(this.video,"stalled",()=>e(),{once:!0}))})}}_m.IS_SUPPORTED="undefined"!=typeof WebKitMediaKeys&&Object(av.a)(WebKitMediaKeys.isTypeSupported)&&WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4");class bm{constructor(e){this.onVideoTypeChange=new No.a(void 0),this.video=void 0,this.unsubscribers=[],this.isStrmCatchUpStream=!1,this.seekableEndFifo=new Uv(2),this.destroy=()=>{Object(Ao.a)(this.unsubscribers)},this.handleProgressEvent=()=>{if(this.video&&this.video.seekable.length){const e=this.video.seekable,t=Object(ds.j)(e.end(e.length-1)),r=this.seekableEndFifo.getAll();t!==r[r.length-1]&&(this.seekableEndFifo.push(t),this.updateVideoType())}},this.updateVideoType=()=>{this.onVideoTypeChange.dispatch(this.getVideoType())},this.isStrmCatchUpStream=function(e){if(!Object(df.a)(e))return!1;e=Object(Io.f)(Object(Io.g)(e).search);return Boolean(e.start)}(e)}setHTMLVideoElement(e){this.destroy(),this.video=e,this.unsubscribers.push(Object(oo.a)(e,"timeupdate",this.updateVideoType)),this.unsubscribers.push(Object(oo.a)(e,"durationchange",this.updateVideoType)),this.unsubscribers.push(Object(oo.a)(e,"progress",this.handleProgressEvent))}getVideoType(){if(!this.video||isFinite(this.video.duration))return cs.a.VOD;if(this.isStrmCatchUpStream)return cs.a.EVENT;var e=this.seekableEndFifo.getAll();if(!this.video.seekable.length||e.length<2)return cs.a.LIVE;var t=this.video.seekable.start(0);return e[1]>e[0]&&t?cs.a.LIVE:cs.a.EVENT}}const Om=["loadstart","progress","durationchange","loadedmetadata","loadeddata","canplay","playing"];class Rm extends Qy{constructor(e){super(e),this.props=e,this.engine=Gf.NATIVE,this.fairPlayController=void 0,this.recoverIosSleepMode(),this.activateVideoTagIosWorkaround()}getUtcStartTime(){const e=this.video;if(!this.video.src||0===e.readyState||"function"!=typeof e.getStartDate)return super.getUtcPosition();const t=e.getStartDate();if(!t||"function"!=typeof t.getTime)return super.getUtcPosition();var r=Object(ds.h)(t.getTime());return isNaN(r)?super.getUtcPosition():Object(ds.b)(r,1e3)}getUtcPosition(){var e=this.getUtcStartTime();return 0<e?Object(ds.a)(e,this.getCurrentTime()):super.getUtcPosition()}async attachEncoder(){await super.attachEncoder(),hs.a.log("hls native mode")}shouldSkipVideoTagError(e){return super.shouldSkipVideoTagError(e)||Boolean(this.fairPlayController&&this.fairPlayController.isDestroyed)}getStartPosition(){const{videoTime:e,utc:t}=this.state.controller.startPosition;if(Object(_o.a)(e)||Object(_o.a)(t)){if(this.state.controller.videoType===cs.a.LIVE){const e=this.getUtcStartTime();if(0<e&&Object(_o.a)(t)&&0<t)return t-e}return Object(_o.a)(e)?e:void 0}}applyStartPositionEventually(){Om.forEach(e=>{e=this.addVideoEventListener(e,this.applyStartPosition,{once:!0});this.onDetach.addOne(e)})}isDvrEnabled(){if(dv.a.isSmartTV())return!1;if(dv.a.isSafariDesktop())return!0;var{controller:{isFullscreen:e},skin:{useNativeFullscreen:t,nativeControlsVisibility:r}}=this.state;return!(t&&e||r)}canSeek(){var e=this.props["video"];return 0<e.readyState&&0<e.duration}setVideoTrack(){hs.a.log("Unable to set video track on native encoder")}getBandwidthEstimate(){return Object(ds.e)(NaN)}async initDrm(){var{stream:{drmConfig:e},sourceParams:{subtitles:t}}=this.props;if(!In(this.video))return this.initFairPlay(e);this.video.drmConfig=e,this.video.subtitles=t,Object(Op.e)("drm",Boolean(e)?this.video.proxyElementType:"none")}getVideoBufferingSubscriber(){return In(this.props.video)?ky:Ly}getStreamUrl(){return Object(Io.b)(super.getStreamUrl(),{},{saveOriginalPath:!0})}initVideoTypeQualifier(){const e=new bm(this.getStreamUrl());this.onDetach.addOne(e.destroy),e.onVideoTypeChange.add(e=>{e&&this.props.onVideoTypeChange.dispatch(e)}),e.setHTMLVideoElement(this.video)}onTick(e){super.onTick(e),this.updateProgramDateTime()}async initFairPlay(e){if(Bn(e)){if(Object(Op.e)("drm","fairplay"),!_m.IS_SUPPORTED)throw new Gs({code:Ws.a.FAIRPLAY_NOT_SUPPORTED});const{video:t,onError:r}=this.props,n=new _m(t,e,r,this.withCredentials);this.fairPlayController=n,this.onDestroy.addOne(()=>n.destroy()),await n.loadCertificate()}else Object(Op.e)("drm","none")}recoverIosSleepMode(){var e;Mo.a&&(e=Object(lo.a)(this.getVideoOwnerDocument(),e=>{e&&(vr(this.state)||this.canSeek()&&(this.video.currentTime-=.001))}),this.onDestroy.addOne(e))}updateProgramDateTime(){var e=this.state.controller["videoType"],t=this.getUtcStartTime(),t=e!==cs.a.LIVE&&e!==cs.a.EVENT||!t?void 0:Object(ds.c)(t,1e3);this.props.onProgramDateTimeChange.dispatch(t)}activateVideoTagIosWorkaround(){Mo.a&&this.onDestroy.addOne(Object(oo.a)(this.video,"touchstart",()=>{this.video.paused?this.video.pause():Promise.resolve(this.video.play()).catch(ho.a)},{once:!0}))}}var Pm=r(228);const wm=Object(ds.h)(6e4),Cm=Object(ds.j)(180),Im=Object(ds.h)(5e3),Nm=Object(ds.h)(1e3),km=Object(ds.h)(1e3);class Lm{constructor(){this.onVideoTypeChange=new No.a(void 0),this.video=void 0,this.previousDuration=0,this.unsubscribers=[],this.destroy=()=>{this.previousDuration=0,Object(Ao.a)(this.unsubscribers)},this.updateVideoType=()=>{this.onVideoTypeChange.dispatch(this.getVideoType())}}setHTMLVideoElement(e){this.destroy(),this.video=e,this.unsubscribers.push(Object(oo.a)(e,"timeupdate",this.updateVideoType)),this.unsubscribers.push(Object(oo.a)(e,"durationchange",this.updateVideoType))}getVideoType(){return this.video&&this.video.duration?this.video.duration===1/0?cs.a.LIVE:(0===this.previousDuration&&(this.previousDuration=this.video.duration),this.video.duration>this.previousDuration?cs.a.EVENT:cs.a.VOD):cs.a.VOD}}let Dm;(Xv=Dm=Dm||{})[Xv.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",Xv[Xv.PARSE_ERROR=-32700]="PARSE_ERROR",Xv[Xv.INVALID_REQUEST=-32600]="INVALID_REQUEST",Xv[Xv.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",Xv[Xv.INVALID_PARAMS=-32602]="INVALID_PARAMS",Xv[Xv.INTERNAL_ERROR=-32603]="INTERNAL_ERROR";const jm=r(245);class Mm extends Error{constructor(e,t){void 0===t&&(t=Dm.UNKNOWN_ERROR),super(e),this.message=void 0,this.stack=void 0,this.code=void 0,jm(this,Mm.prototype),this.code=t}toString(){return JSON.stringify(this.toJSON())}toJSON(){return{code:this.code,message:this.message,data:this.stack}}}const xm=Object(ds.h)(3e4);class Fm{constructor(e){this.playingState=void 0,this.lastRpcRequestId=1,this.waiters=Object.create(null),this.video=void 0,this.onError=void 0,this.onRun=void 0,this.handleMessage=e=>{if(e&&Object(Sl.a)(e.data))try{var t=ja(e.data);"result"in t||"error"in t?this.handleRpcResponse(t):"method"in t&&this.handleRpcRequest(t)}catch(e){this.onError(e)}},this.video=e.video,this.onError=e.onError,this.onRun=e.onRun,this.playingState=e.playingState,this.video.addEventListener("yandexplayermessage",this.handleMessage)}destroy(){this.video.removeEventListener("yandexplayermessage",this.handleMessage),this.onError=ho.a,this.onRun=ho.a;for(const e in this.waiters)this.waiters[e](new Error("Stop on destroy"))}sendRequest(e,t){var{method:r,params:n}=e;if(void 0===t&&(t=xm),this.playingState!==ss.a.PLAY&&this.playingState!==ss.a.BUFFERING)return Promise.reject(new Error("Can't send request while playingState is "+this.playingState));e=this.getUniqueRpcRequestId();return this.sendMessage(Na({id:e,method:r,params:n})),this.waitForResponse(e,t)}sendEvent(e){var{method:t,params:e}=e;return this.playingState!==ss.a.PLAY&&this.playingState!==ss.a.BUFFERING?Promise.reject(new Error("Can't send event while playingState is "+this.playingState)):(this.sendMessage(Na({method:t,params:e})),Promise.resolve())}setPlayingState(e){this.playingState=e}getUniqueRpcRequestId(){return String(this.lastRpcRequestId++)}waitForResponse(t,r){const e=setTimeout(()=>{const e=this.waiters[t];void 0!==e&&e(new Error("Timeout fired ("+r+"ms) for id="+t+"."))},r),i=()=>{clearTimeout(e),delete this.waiters[t]};return new Promise((r,n)=>{this.waiters[t]=(e,t)=>(i(),null!==e?n(e):r(t))})}sendMessage(e){this.video.yandexPlayerSend(e)}handleRpcRequest(e){let{id:a,method:t,params:r}=e;this.onRun({method:t,params:r},(n,i)=>{a&&this.sendMessage(function(){let{id:e,error:t,result:r}={id:a,error:n,result:i};return t?JSON.stringify({jsonrpc:"2.0",id:e,error:t.toJSON()}):JSON.stringify({jsonrpc:"2.0",id:e,result:void 0===r?null:r})}())})}handleRpcResponse(e){const t=this.waiters[e.id];void 0!==t?"error"in e?t(e.error):t(null,e.result):hs.a.warn(new Error("Response for missed waiter for id="+JSON.stringify(e.id)))}}class Vm{constructor(e){var{video:t,onError:r,playingState:e}=e;this.yandexRpcMessenger=void 0,this.handleRun=(e,t)=>{t(new Mm("Not implemented",Dm.METHOD_NOT_FOUND))},this.yandexRpcMessenger=new Fm({video:t,onError:r,onRun:this.handleRun,playingState:e})}setPlayingState(e){return this.yandexRpcMessenger.setPlayingState(e)}destroy(){return this.yandexRpcMessenger.destroy()}async setViewPortSize(e){var{width:t,height:e}=e;await this.yandexRpcMessenger.sendRequest({method:"setViewPortSize",params:{width:t,height:e}})}async getVsid(){var e=await this.yandexRpcMessenger.sendRequest({method:"getVsid",params:[]});if(!Object(Sl.a)(e))throw new Error("Unexpected result in getVsid: "+e);return e}async getPlayerVersion(){var e=await this.yandexRpcMessenger.sendRequest({method:"getPlayerVersion",params:[]});if(!Object(Sl.a)(e))throw new Error("Unexpected result in getPlayerVersion: "+e);return e}async getBandwidth(){var e=await this.yandexRpcMessenger.sendRequest({method:"getBandwidth",params:[]});if(!Object(_o.a)(e))throw new Error("Unexpected result in getBandwidth: "+e);return Object(ds.e)(e)}async getStartDate(){var e=await this.yandexRpcMessenger.sendRequest({method:"getStartDate",params:[]});if(!Object(_o.a)(e))throw new Error("Unexpected result in getStartDate: "+e);return Object(ds.h)(e)}}document.createElement("div"),document.createElement("div");class Um extends Qy{async attachEncoder(){this.initYandexPlayer(),await super.attachEncoder(),this.initYandexRpc(),this.initStartDateUpdater(),this.initBandwidthEstimateUpdater(),this.initAndroidVsidUpdater(),this.initViewPortSizeUpdater(),this.isRecoverablePlaylistHTTPStatus=!1,hs.a.log("yandex native mode")}checkPositionAndReturnToLive(){}async detachEncoder(){this.isRecoverablePlaylistHTTPStatus=!0,this.destroyYandexPlayer(),await super.detachEncoder()}constructor(e){super(e),this.props=e,this.engine=Gf.YANDEX,this.startDate=Object(ds.j)(Wy),this.yandexRpc=void 0,this.props.onPlayingStateChange.add(e=>{this.state.controller.encoderAttached&&e===ss.a.PAUSE&&(this.playerStore.dispatch(Yc({videoTime:this.getCurrentTime(),utc:this.getUtcPosition()})),this.updateYandexPlayerConfig())})}setVideoTrack(t){const e=this.video["videoTracks"];e[Array.from(e).findIndex(e=>e.id===t.value)].selected=!0}seekInternal(e){var{start:t,end:r}=this.getSeekableRange();Wi(this.video,Object(ds.j)(ti(e,t,r||0)))}getSeekableRange(){var e=this.state.controller["videoType"];return e!==cs.a.LIVE?{start:Object(ds.j)(0),end:this.getDuration()}:{start:this.getUtcStartTime(),end:this.getDuration()}}getDuration(){var e=this.state.controller["videoType"];return e!==cs.a.LIVE?Object(ds.j)(this.video.duration):Object(ds.a)(this.getUtcStartTime(),Cm)}getUtcStartTime(){return this.startDate}getUtcPosition(){var e=this.state.controller["videoType"];return e!==cs.a.LIVE?this.getUtcStartTime()?Object(ds.a)(this.getUtcStartTime(),this.getCurrentTime()):super.getUtcPosition():this.getCurrentTime()}getFragmentsData(){if(!this.isDvrEnabled()||!this.video||!this.video.seekable.length)return super.getFragmentsData();var{start:e,end:t}=this.getSeekableRange();return{totalDuration:Object(ds.d)(t,e),fragmentDuration:sy.a,startTime:e}}onTick(e){super.onTick(e),this.updateAutoVideoTrackIfNeed()}isDvrEnabled(){return!0}canSeek(){var e=this.props["video"];return 0<e.readyState&&0<e.duration}initVideoTypeQualifier(){const e=new Lm;this.onDetach.addOne(e.destroy),e.onVideoTypeChange.add(e=>{e&&this.props.onVideoTypeChange.dispatch(e)}),e.setHTMLVideoElement(this.video)}applyStartPositionEventually(){const r=this.addVideoEventListener("durationchange",()=>{var e,t;this.canSeek()&&(e=this.getStartPosition(),t=this.getCurrentTime(),Object(_o.a)(e)&&Object(Pm.b)(e,t,.5)?r():(this.applyStartPosition(),r(),this.onDetach.remove(r)))});this.onDetach.addOne(r)}initDrm(e){return Object(Op.e)("drm",e?"android":"none"),Promise.resolve()}async onVideoTagError(){var e=o(this.video);if(!this.state.controller.encoderAttached)return super.onVideoTagError();this.video.poster=_s.a,this.checkPlaylistHTTPStatus();const t=new Gs({code:Uo[e.code],details:e,isFatal:!0}),r=await this.checkPlaylistHTTPStatusPromise;r&&r.isFatalError()?this.props.onError(r.toPlayerError()):this.props.onError(t)}initYandexRpc(){const t=new Vm({video:this.video,onError:e=>{this.props.onError(new Gs(e,{isFatal:!1,code:Ws.a.YANDEX_RPC_ERROR}))},playingState:this.state.controller.playingState});this.onPlayingStateChange.add(e=>{t.setPlayingState(e)}),this.yandexRpc=t,this.onDetach.addOne(()=>{t.destroy(),this.yandexRpc=void 0})}initStartDateUpdater(){const e=this["yandexRpc"];if(e){const t=setInterval(()=>{e.getStartDate().then(e=>{if(0<e){this.startDate=Object(ds.j)(Math.floor(e/1e3));var t=this.state.controller["videoType"];return t!==cs.a.LIVE?this.props.onProgramDateTimeChange.dispatch(e):this.props.onProgramDateTimeChange.dispatch(Object(ds.h)(0))}this.props.onProgramDateTimeChange.dispatch(void 0)}).catch(ho.a)},Im);this.onDetach.addOne(()=>{clearInterval(t)})}}initYandexPlayer(){this.updateYandexPlayerConfig()}updateYandexPlayerConfig(){var e=this.getStartPosition(),t=this.getBandwidthEstimate(),r=this.props.stream["drmConfig"],{height:n,width:i}=Vi(this.video),i={drmConfig:r,bandwidthEstimate:Object(_o.a)(t)?Object(ds.e)(Math.floor(t)):void 0,startPosition:Object(_o.a)(e)?Object(ds.j)(e):void 0,viewPortHeight:Object(_o.a)(n)?Object(ds.i)(Math.floor(n)):void 0,viewPortWidth:Object(_o.a)(i)?Object(ds.i)(Math.floor(i)):void 0};this.video.setAttribute("yandexplayer",JSON.stringify(i))}initAndroidVsidUpdater(){function t(){e.getVsid().then(e=>{i!==e&&r({event:"YandexAndroidVsidChanged",params:{androidVsid:e}}),i=e}).catch(()=>{n=window.setTimeout(t,km)})}const e=this.yandexRpc,{props:{logEvent:r}}=this;let n=0,i="";this.onDetach.addOne(this.onPlayingStateChange.add(e=>{e===ss.a.PLAY&&t()})),t(),this.onDetach.addOne(()=>clearTimeout(n))}destroyYandexPlayer(){this.video.removeAttribute("yandexplayer")}updateAutoVideoTrackIfNeed(){var{videoTracks:n,videoWidth:o,videoHeight:s}=this.video,e=Qi(function(){let{videoTracks:e=[],videoHeight:i,videoWidth:a}={videoTracks:n,videoWidth:o,videoHeight:s};const t=Object(uo.a)(e),r=t.find(e=>{var e=e["selected"];return e});return r&&"auto"!==r.id?r:t.sort((e,t)=>{var{width:r=0,height:n=0}=e,{width:e=0,height:t=0}=t;return Math.abs(n-i)-Math.abs(t-i)||Math.abs(r-a)-Math.abs(e-a)})[0]}());this.videoTrackValueSignal.dispatch(e?e.value:void 0)}initBandwidthEstimateUpdater(){const e=this["yandexRpc"];if(e){const t=setInterval(()=>{e.getBandwidth().then(e=>{this.playerStore.dispatch(gc(e))}).catch(ho.a)},wm);this.onDetach.addOne(()=>{clearInterval(t)})}}async updateViewPortSize(e){let{width:t,height:r}=e;const n=this["yandexRpc"];return n?n.setViewPortSize({width:Math.floor(t),height:Math.floor(r)}).then(()=>({width:t,height:r})).catch(()=>({width:NaN,height:NaN})):{width:NaN,height:NaN}}initViewPortSizeUpdater(){var e=this["yandexRpc"];if(e){let r=NaN,n=NaN;this.updateViewPortSize(Vi(this.video)).then(e=>{var{width:t,height:e}=e;r=t,n=e});const t=setInterval(()=>{var{width:e,height:t}=Vi(this.video);e===r&&t===n||this.updateViewPortSize({width:e,height:t}).then(e=>{var{width:t,height:e}=e;r=t,n=e})},Nm);this.onDetach.addOne(()=>{clearInterval(t)})}}}fs=r(133);let Bm;(Xv=Bm=Bm||{}).FRAME_API="video-player-iframe-api-bundle.js",Xv.FRAME_API_MODERN="video-player-iframe-api-bundle.modern.js",Xv.STREAM_PLAYER="stream_player_js.js",Xv.STREAM_PLAYER_MODERN="stream_player_js.modern.js",Xv.FRAME_PLAYER="player.js",r(226),r(312),r(118);Xv=r(222);Object(Xv.a)([{id:6101,percent:100}]),r(284),r(291),r(54),r(219),new RegExp(["https?://","(\\w+\\.)?","(?:","(?:yandex|yastatic|yandex-team|yastat)\\.","(?:ru|net)\\/","|","localhost\\/",")",".*"].join(""),"i"),r(244),r(220);const Hm=Object(fs.a)(window);Bm.FRAME_PLAYER,r(507);var fs=r(280),Km=r.n(fs);const Ym=/^(\d+\.)?\d+m?s$/,Gm=/ms$/,Wm=/calc\(([^\)]+)\)/,Zm=/[-/*()]/;var fs=r(30),zm=r.n(fs);const qm=xa(fs.animationTimeOverlayOffset),Xm=xa(fs.animationTimeOverlayFade);xa(fs.animationTimeIntro),xa(fs.animationTime);var fs=r(411),Qm=r.n(fs),fs=r(412),Jm=r.n(fs);zm.a.animated;const $m=-1<Object(Jf.a)();class eg extends Ya.a{constructor(e){super(),this.destination=e,this.container=void 0,this.container=document.createElement("div"),this.container.className=Km()(zm.a.Intro,zm.a.Intro_paused,zm.a.animated),this.container.appendChild(this.render()),this.destination.appendChild(this.container),this.addDestroyHandler(()=>Object(Fo.a)(this.container))}async play(){Object(so.c)(this.container,zm.a.Intro_paused);const e=Ro(qm);return this.addDestroyHandler(()=>e.clear()),e.promise}hide(){Object(so.a)(this.container,zm.a.Intro_hidden);const e=Ro(Xm);return this.addDestroyHandler(()=>e.clear()),e.promise}render(){const e=document.createElement("div");if(Object(so.a)(e,zm.a.Intro__container),Object(so.a)(e,zm.a.animated),e.innerHTML="\n            "+Jm.a+"\n            "+Qm.a+"\n        ",Object(so.a)(e.children[0],zm.a.Intro__type),Object(so.a)(e.children[0],zm.a.animated),Object(so.a)(e.children[1],zm.a.Intro__message),Object(so.a)(e.children[1],zm.a.animated),$m){const t=document.createElement("div");Object(so.a)(t,zm.a.Intro__logo_container);const r=document.createElement("img");r.src=Lf.a,Object(so.a)(r,zm.a.Intro__filler),t.innerHTML=tg,t.appendChild(r),e.appendChild(t)}else e.innerHTML+="\n                "+tg+"\n            ";return e}}const tg='\n    <svg\n        class="'+zm.a.Intro__logo+" "+zm.a.animated+" "+($m?zm.a.Intro__logo__simple_animation:"")+'"\n        viewBox="0 0 93 93" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n            <clipPath id="intro_logo_clipper" class="'+zm.a.Intro__logo__clipper+" "+zm.a.animated+'">\n                <path transform="translate(15, 20)" d="M4.08531 15.4632L0.950281 38.3335C-0.0176392 45.383 5.01897 51.1477 12.1285 51.1477H47.4704C56.1902 51.1477 62.9057 43.4557 61.7237 34.813L58.4002 10.5293C57.5864 4.58476 52.0445 0.284794 46.0828 0.978613L15.2121 4.55906C9.44742 5.22718 4.87335 9.71559 4.08531 15.4632Z" fill="#000000"/>\n            </clipPath>\n        </defs>\n\n        <g class="'+zm.a.Intro__logo__circle+" "+zm.a.animated+'">\n            <path\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M46.2554 92.9052C71.6553 92.9052 92.2554 72.3136 92.2554 46.9051C92.2554 21.4967 71.6553 0.905151 46.2554 0.905151C20.8555 0.905151 0.255432 21.4967 0.255432 46.9051C0.255432 72.3136 20.847 92.9052 46.2554 92.9052Z" fill="#5C40F4"\n            />\n        </g>\n        <g class="'+zm.a.Intro__logo__layer1+" "+zm.a.animated+'">\n            <path transform="translate(15, 20)" d="M4.08531 15.4632L0.950281 38.3335C-0.0176392 45.383 5.01897 51.1477 12.1285 51.1477H47.4704C56.1902 51.1477 62.9057 43.4557 61.7237 34.813L58.4002 10.5293C57.5864 4.58476 52.0445 0.284794 46.0828 0.978613L15.2121 4.55906C9.44742 5.22718 4.87335 9.71559 4.08531 15.4632Z" fill="#7373FF"/>\n        </g>\n        <g clip-path="url(#intro_logo_clipper)">\n            <g class="'+zm.a.Intro__logo__layer2+" "+zm.a.animated+'">\n                <path transform="translate(27, 30)" d="M36.9583 0.94413L12.0997 3.16726C7.20127 3.60317 3.30701 7.4566 2.82677 12.3475L0.958226 31.1613C0.399408 36.7932 4.58181 41.4052 10.2573 41.4052H35.6312C44.2404 41.4052 50.8677 33.8204 49.7064 25.3027L47.5235 9.34845C46.8163 4.17857 42.1623 0.482067 36.9583 0.94413Z" fill="#9999FF"/>\n            </g>\n            <g class="'+zm.a.Intro__logo__layer3+" "+zm.a.animated+'">\n                <path transform="translate(41, 40)" d="M27.5453 0.922045L8.10122 2.25829C4.35803 2.51526 1.37718 5.50468 1.14591 9.25644L0.229382 23.7153C-0.0275878 27.724 3.05605 30.9961 7.06478 30.9961H23.1168C31.2713 30.9961 37.0446 24.3834 35.9396 16.2974L34.6205 6.67817C34.1494 3.19195 31.0572 0.67364 27.5453 0.922045Z" fill="#F7F7FF"/>\n            </g>\n        </g>\n    </svg>\n',rg={droppedVideoFrames:0,corruptedVideoFrames:0,totalVideoFrames:0};class ng extends Ya.a{constructor(e){super(),this.video=void 0,this.playbackQuality=rg,this.persistedPlaybackQuality=rg,this.accumulatedPlaybackQuality=rg,this.video=e,this.addDestroyHandler(()=>{this.reset(),this.video=void 0})}update(){var e;this.video&&(e=function(e){if("function"==typeof e.getVideoPlaybackQuality){const{droppedVideoFrames:t,corruptedVideoFrames:r,totalVideoFrames:n}=e.getVideoPlaybackQuality();return{droppedVideoFrames:t,corruptedVideoFrames:r,totalVideoFrames:n}}const t=e;return"number"==typeof t.webkitDroppedFrameCount&&"number"==typeof t.webkitDecodedFrameCount?Fa({},rg,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):rg}(this.video),this.playbackQuality=e,0!==this.persistedPlaybackQuality.totalVideoFrames&&(this.persistedPlaybackQuality.totalVideoFrames>e.totalVideoFrames&&(this.accumulatedPlaybackQuality={droppedVideoFrames:this.accumulatedPlaybackQuality.droppedVideoFrames+this.persistedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.accumulatedPlaybackQuality.corruptedVideoFrames+this.persistedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.accumulatedPlaybackQuality.totalVideoFrames+this.persistedPlaybackQuality.totalVideoFrames}),this.persistedPlaybackQuality=rg))}persist(){0!==this.playbackQuality.totalVideoFrames&&(this.persistedPlaybackQuality=this.playbackQuality,this.playbackQuality=rg)}reset(){this.playbackQuality=rg,this.persistedPlaybackQuality=rg,this.accumulatedPlaybackQuality=rg}getPlaybackQuality(){return 0<this.persistedPlaybackQuality.totalVideoFrames?rg:{droppedVideoFrames:this.playbackQuality.droppedVideoFrames+this.accumulatedPlaybackQuality.droppedVideoFrames,corruptedVideoFrames:this.playbackQuality.corruptedVideoFrames+this.accumulatedPlaybackQuality.corruptedVideoFrames,totalVideoFrames:this.playbackQuality.totalVideoFrames+this.accumulatedPlaybackQuality.totalVideoFrames}}}const ig=Object(ds.h)(2592e5),ag=Object(ds.h)(500);class og{constructor(e,t,r,n){var s=this;this.api=void 0,this.destroySkin=void 0,this.videoController=void 0,this.stats=void 0,this.maxBufferLength=void 0,this.multiroll=Dv,this.visibilityDetectPromise=void 0,this.defineAutoplaySettingsPromise=void 0,this.abortRequestAutoplaySettings=ho.a,this.clearRequestAutoplaySettingsTimeout=ho.a,this.onlineMonitor=new Hv,this.resourceTimingsMonitor=void 0,this.playbackProgressStorage=new Wv,this.visualState=void 0,this.debug=!1,this.container=void 0,this.video=void 0,this.div=void 0,this.slotsController=void 0,this.sizeSensor=void 0,this.playbackQualityController=void 0,this.videoTrackValueSignal=new No.a(void 0),this.onControllerVideoTracksChange=new Po.a,this.audioTrackValueSignal=new No.a(void 0),this.onControllerAudioTracksChange=new Po.a,this.textTrackValueSignal=new No.a(void 0),this.onControllerTextTracksChange=new Po.a,this.onVideoDurationChange=new No.a(nf.a.duration),this.onVideoCurrentTimeChange=new No.a(Object(ds.j)(NaN)),this.onVideoProgramDateTimeChange=new No.a(nf.a.programDateTime),this.onVisualStateChange=new No.a(void 0,ls.a),this.onVideoPlayingStateChange=new Po.a,this.onVideoTypeChange=new Po.a,this.onChangeBufferingRanges=new Po.a,this.onLoadedData=new Po.a,this.onCanPlay=new Po.a,this.onContentImpression=new Po.a,this.onMetadata=new Po.a,this.onDestroy=new Po.a,this.playerStore=void 0,this.externalRequestController=void 0,this.unsubscribeSignalsOnSetSource=[],this.broadcastAd=void 0,this.badFragmentSender=void 0,this.playCallbacks=[],this.preferNative=void 0,this.config=void 0,this.mediaInternalsHistory=void 0,this.forceUsingSeamlessAd=void 0,this.currentAdPlaybackQueue=void 0,this.stopLoadSource=ho.a,this.onApiReady=void 0,this.canRenderSkin=()=>{this.api.logEvent({event:"CanRenderSkinCalledBeforeSkinIsReady",params:{}})},this.handleSizeSensorUpdate=e=>{var{width:t,height:e}=e;this.onVisualStateChange.dispatch(Ba({},this.visualState.getState(),{width:t,height:e}))},this.defineAutoplaySettingsAndLoadSource=()=>{const e=this.config.source,t=this.playerStore.getState(),{initialAutoplay:r,allowMuted:n,muted:i,volume:a,togglePlaybackOnVisibilityChangeSetting:o}=t.controller;this.defineAutoplaySettings(this.video,{autoplay:r,muted:i||0===a,allowMuted:!(!o||!o.forceAutoplay)||n}),this.playerStore.dispatch(Xc(Date.now())),this.loadSource(e,{adSessionIdConfig:{keepAdSession:this.config.keepAdSession,adSessionWatchedTime:this.config.adSessionWatchedTime,countableNonLinearInAdSession:this.config.countableNonLinearInAdSession},shouldSaveProgress:!1}).catch(e=>{hs.a.error("load source error",e),ui(e,of.b.INIT),this.onError(e)}).then(()=>{this.onApiReady(this.api.publicApi),this.store.controller.autoplay||this.playerStore.dispatch(Nd(!0)),this.canRenderSkin()}).then(()=>{void 0!==e.params.adConfig&&(Ol.a?q({method:"GET",url:bl.b,retries:2,checkStatus:e=>200<=e&&e<400}).then(e=>{if(-1===e.responseText.trim().indexOf('<VAST version="3.0">'))throw new Error("Invalid XML in response from ["+bl.b+"]")}):Promise.resolve()).catch(function(e){var e=(void 0===e?{}:e)["message"];s.playerStore.dispatch(hc(!0)),s.onError(new Gs({code:Ws.a.STRM_ABD_INVALID_RESPONSE,isFatal:!0,details:{reason:e}}))})})},this.subscribeHandlers=()=>{this.onlineMonitor.onOnline.add(()=>{this.playerStore.dispatch(Gc(!0)),vr(this.store)||this.videoController&&this.videoController.onOnline(),this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.Offline,void 0)))}),this.onlineMonitor.onOffline.add(()=>{this.playerStore.dispatch(Gc(!1)),this.videoController&&this.videoController.onOffline()}),this.onVideoTypeChange.add(e=>{this.playerStore.dispatch(Lc(e))}),this.onVideoDurationChange.add(e=>{this.playerStore.dispatch(Nc(e)),this.updateVideoInfo()}),this.onVideoProgramDateTimeChange.add(e=>{this.playerStore.dispatch(Zc(e))});var e=C(()=>{this.saveDataToStorage()},Ps.a*Co.a);this.onVideoCurrentTimeChange.add(e),this.onVideoCurrentTimeChange.add(this.handleVideoControllerCurrentTimeChange),this.onChangeBufferingRanges.add(e=>{this.playerStore.dispatch(ed(e))}),this.videoTrackValueSignal.add(e=>{this.playerStore.dispatch(ad({videoTrackValue:e,isAbrEnabled:this.store.controller.isAbrEnabled}))}),this.onControllerVideoTracksChange.add(e=>{this.playerStore.dispatch(od(e))}),this.audioTrackValueSignal.add(e=>{this.playerStore.dispatch(cd(e))}),this.onControllerAudioTracksChange.add(e=>{this.playerStore.dispatch(dd(e))}),this.textTrackValueSignal.add(e=>{this.playerStore.dispatch(md({enabled:void 0!==e,textTrackValue:e}))}),this.onControllerTextTracksChange.add(e=>{this.playerStore.dispatch(hd(e))}),this.onVideoPlayingStateChange.add(e=>{this.playerStore.dispatch(qd(e))}),this.unsubscribeSignalsOnSetSource.push(this.onCanPlay.addOne(this.logCanPlay(of.b.INIT))),this.unsubscribeSignalsOnSetSource.push(this.onLoadedData.addOne(this.logLoadStartHavingCurrentData(of.b.INIT))),this.onDestroy.addOne(()=>{this.onContentImpression.removeAll()});var t,e=Object(lo.a)(this.getContainerDocument(),e=>{this.playerStore.dispatch(_d(e))});this.onDestroy.addOne(e),this.onDestroy.addOne((t=e=>{this.api.logEvent({event:Zs.a.DrmSystemsSupportDetected,params:e})},void 0===Iv?(wv.push(t),()=>{var e=wv.indexOf(t);-1!==e&&wv.splice(e,1)}):(t(Iv),ho.a)))},this.showContextMenu=e=>{const{contextMenuVisibility:t,hiddenControls:r,isMobileSkin:n,useNativeControls:i}=this.store.skin;if(!r.includes(ys.b.CONTEXT_MENU)){if(void 0!==e){if(e.ctrlKey||e.altKey)return;e.preventDefault()}if(this.playerStore.dispatch(Hd(!0)),!t||!n&&!i){const a={x:0,y:0},{left:o,top:s}=this.container.getBoundingClientRect();e&&("touches"in e?(a.x=e.touches[0].clientX-o,a.y=e.touches[0].clientY-s):(a.x=e.clientX-o,a.y=e.clientY-s)),this.playerStore.dispatch(Kd(a))}}},this.stopAd=()=>Promise.resolve(),this.playAdViewers=async(t,r,n)=>{try{await this.playAdViewersInternal(t,r,n)}catch(e){Dn({reason:"PLAY_AD_VIEWERS_ERROR",adSdkVersion:W(),adSdkLoaderVersion:G(),adblockDetected:this.store.ad.adblockDetected,adType:t,bandwidth:Qn(void 0)}),this.stats.error({error:new Gs(e,{code:Ws.a.PLAY_AD_VIEWERS_ERROR,details:{adType:t,adViewersWithData:r,adDisplayConfig:n}})})}},this.playAdViewersInternal=async(i,e,n)=>{const{ad:{adInfo:t,hasPreroll:r},controller:{isFullscreen:a,isPip:o,sourceParams:{promoConfig:s={}}={}}}=this.store,c=a&&Object(Eo.a)(this.getContainerDocument().defaultView,this.video)===this.video,d=c||o,l=d?e.filter(e=>{const t=e["adViewer"];return t.filterAdPodsIndependentOnHtmlControls("StreamPlayer can't play CPC ads: ["+(o?"PiP":c?"FullScreen":"unknown")+"] mode"),0<t.getAdPodsCount()}):e,u=d?l:await async function(e,t,r){if((n=e)!==zs.preroll&&n!==zs.midroll&&n!==zs.postroll&&n!==zs.inroll||void 0===r)return t;var n;let i=[],a=[],o=[];if(e===zs.preroll){const{intro:t=[]}=r;i=await dt(e,t)}if(0<t.length){const{[e]:{before:t=[],after:i=[]}={}}=r;a=await dt(e,t),o=await dt(e,i)}return[...ct(i,zs.intro),...ct(a,zs.jingle),...t,...ct(o,zs.jingle)]}(i,l,s),h=u.map(e=>{var e=e["adViewer"];return e}),f=h.reduce((e,t)=>Object(ds.a)(e,Object(ds.l)(t.getAdPodsCount())),Object(ds.l)(0)),p=K(h);if(0===f)return Dn({reason:"NO_AD_PODS_TO_PLAY_AD",adSdkVersion:W(),adSdkLoaderVersion:G(),adblockDetected:this.store.ad.adblockDetected,adType:i,bandwidth:Qn(void 0)}),void this.api.logEvent({event:"NoAdPodsToPlayAd",params:void 0});t&&this.stats.error({error:new Gs({code:Ws.a.AD_IS_ALREADY_PLAYING,isFatal:!1,details:{currentAdType:t.adType,adType:i}})}),this.prepareBeforeOrAfterAd(!1,i);const v=ml.includes(i),y=this.slotsController.createAdElementsSet({adType:i,useSeamlessAdIfPossible:v});if(!y)return this.stats.error({error:new Gs({code:Ws.a.AD_CANNOT_FIND_CONTAINER_TO_PLAY,isFatal:!1})});const m="boolean"==typeof this.forceUsingSeamlessAd?this.forceUsingSeamlessAd:!y.isOriginalVideoSlot;this.api.logEvent({event:"PlayAdViewers",params:{adType:i,adPodsCount:f,useSeamlessAd:m,forceUsingSeamlessAd:this.forceUsingSeamlessAd}});const g=i===zs.inroll?{cueId:this.store.ad.originalBroadcastAdCueId,startProgramDateTime:Object(ds.j)(this.store.controller.programDateTime/1e3),startVideoTime:Object(ds.j)(this.videoController?this.videoController.getCurrentTime():this.store.controller.currentTime),startTimestamp:Object(ds.j)(Date.now()/1e3)}:{},E=()=>{this.playerStore.dispatch(dc({adType:i,params:g})),i!==zs.overlay&&this.slotsController.showAdElementsSet(y)};let A={},T=!1;const S=Object(To.a)(async e=>{var{data:t,stopAdReason:r}=e;if(i===zs.overlay&&r===qs.a.AdTypeChange){const n=Ef(t.adType);h.forEach(e=>{e.preventPlaying("PriorityAdWillBePlaying",{adTypeBefore:Ef(i),adTypeAfter:n})})}T=!0,this.currentAdPlaybackQueue&&(this.currentAdPlaybackQueue.destroy(r),this.currentAdPlaybackQueue=void 0),i!==zs.postroll&&i!==zs.overlay&&Object(So.a)(this.videoController.play()),this.playerStore.dispatch(dc(void 0)),i===zs.overlay?this.slotsController.clearAdSlots():this.slotsController.showSkinAndOriginalVideo(),this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.AdEnd,{adType:i}))),this.prepareBeforeOrAfterAd(!0,i);e=async()=>{i!==zs.overlay&&await this.attachEncoder()};if(r===qs.a.InsertIntoCalled)return e();var t=t["loadPositionAfterAd"];if(t){if(m)return this.seek(t),void this.videoController.play();this.playerStore.dispatch(Yc(t)),await e()}});if(this.stopAd=S,m||(A=this.getSeekPositionAfterAd({adType:i,adViewersDuration:p}),this.playerStore.dispatch(Yc(A)),i!==zs.overlay&&await this.detachEncoder(),E(),!T)){const _=[Object(oo.a)(this.video,"firstframedecoded",()=>{xn("AD",{},r)},{once:!0}),Object(oo.a)(this.video,"firstframeshown",()=>{Fn("AD",{},r)},{once:!0})],b=new Qs({onFirstAdPodStarted:()=>{this.hidePoster(),m?(A=this.getSeekPositionAfterAd({adType:i,adViewersDuration:p}),this.seek(A,!0),this.videoController.pause(),E()):!this.videoController||i===zs.postroll&&i===zs.overlay||this.videoController.preloadSource()},onAdPodStarted:()=>{Mn("AD",{adblockDetected:this.store.ad.adblockDetected,adType:i,bandwidth:Qn(void 0)},this.store.ad.hasPreroll),this.playerStore.dispatch(Nd(!0)),this.api.onAdPodStart()},onAdPodStopped:()=>{Object(Ao.a)(_),wn(this.store)||this.playerStore.dispatch(Ec(void 0))},onAdPodImpression:()=>{this.api.onSaveDataOutsideIframe({[Os.a.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD]:0}),(this.config.countableNonLinearInAdSession||Cn(this.store))&&this.playerStore.dispatch(wd(Object(ds.j)(0)))},onAdPodPlayingStateChange:e=>{lt(this.store)!==zs.overlay&&this.playerStore.dispatch(Ec(e))},onAdClickThru:()=>{i===zs.overlay&&this.pause()},stats:this.stats,logEvent:this.api.logEvent});this.currentAdPlaybackQueue=b,u.forEach(e=>{var{adViewer:t,additionalData:r,adType:e}=e;b.playAdViewers({adType:i,adPodType:e,adViewer:t,additionalData:r,adDisplayConfig:n,adElementsSet:y})}),await b.getDestroyPromise(),T||await S({stopAdReason:qs.a.AdCompleted,data:{loadPositionAfterAd:A}})}},this.handleVideoControllerCurrentTimeChange=e=>{this.playerStore.dispatch(jc(e)),this.playerStore.getState().ad.adInfo||this.playbackProgressStorage.saveProgress(e),this.updateVideoInfo()},this.handleVisualStateChange=e=>{var{isPip:t,isFullScreen:r,isVisible:n}=e;this.playerStore.dispatch(Ad(r));var{isSupportedPipMode:i,isYandexPipMode:a,isVisibilitySupported:e}=this.visualState;this.onVisualStateChange.dispatch(Ba({isPip:t,isVisible:n,isFullScreen:r,isSupportedPipMode:i,isYandexPipMode:a,isVisibilitySupported:e},this.sizeSensor.getSize())),i&&!a&&(this.playerStore.dispatch(Td(t)),e&&this.playerStore.dispatch(Sd(n)))},this.setHiddenControls=e=>{-1<e.indexOf(ys.b.ALL)?this.playerStore.dispatch(Ld(ys.a)):this.playerStore.dispatch(Ld(e)),this.videoController&&!this.playerStore.getState().ad.adInfo&&this.videoController.updateNativeControlsVisibility()},this.seekToLive=()=>{var e,t;this.videoController&&this.videoController.isDvrEnabled()&&({skinDVRStartTime:e,skinDVRDuration:t}=this.store.skin,t=Object(ds.a)(e,t),this.seek({videoTime:t}),this.playerStore.dispatch(wh({reason:Es.SEEK_TO_LIVE,step:Object(ds.j)(0),videoPosition:t})))},this.setPlaybackRate=e=>{void 0!==Jn(Pn(this.store),e)?this.videoController.setPlaybackRate(e):di(this.stats,e)},this.seek=function(e,t){let{videoTime:r,utc:n}=e;if(void 0===t&&(t=!1),"number"==typeof n){const e=s.videoController.getUtcStartTime(),r=Object(ds.d)(n,e);s.seekToVideoPosition(r,t)}else"number"==typeof r&&s.seekToVideoPosition(r,t)},this.getDebugInfo=()=>{const e=this["resourceTimingsMonitor"],t=this.videoController;return{recoverHelperState:t?t.getRecoverHelperState():Yp.OFF,logHistory:hs.a.getHistory(),state:this.store,remainingBufferedTime:Hr(this.store),resourceTimings:e.getAllResourcesTimings(),mediaInternalsHistory:this.mediaInternalsHistory.getHistory()}},this.setVolume=r=>{r=$n(Pf.a.publicToInternal(r));if(!this.videoController)return this.playerStore.dispatch(Pc({muted:this.store.controller.muted,volume:r,changeReason:Qf.a.SetVolume})),void this.abortRequestAutoplaySettings(fp.VolumeChange);if(ei(r)&&this.videoController){const{muted:n,volume:i}=this.store.controller;let e=r,t=n;if(0===r){const n=this.store.controller["userVolume"];e=n||i||Ap.b,t=!0}this.playerStore.dispatch(Pc({volume:e,muted:t,changeReason:Qf.a.SetVolume})),this.videoController.setVolume(e),this.videoController.setMuted(t)}else hs.a.warn("cannot change video volume")},this.setMuted=e=>{var t={volume:this.store.controller.volume,muted:e,changeReason:Qf.a.SetMuted};if(!this.videoController)return this.playerStore.dispatch(Pc(t)),void this.abortRequestAutoplaySettings(fp.MuteChange);"boolean"==typeof e&&this.videoController?(this.playerStore.dispatch(Pc(t)),this.videoController.setMuted(e)):hs.a.warn("cannot change video muted")},this.onBadFragmentReport=e=>{this.badFragmentSender.sendData(e,this.getDebugInfo())},this.onRecover=e=>{var t=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(this.getDebugInfo(),["resourceTimings"]);this.api.onRecover(Ba({},e,t)),this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.Recover,{recoverReason:e.reason})))},this.logLoadStartHavingCurrentData=e=>()=>{ao||(this.video.readyState<Wp.HAVE_CURRENT_DATA?this.unsubscribeSignalsOnSetSource.push(this.onLoadedData.addOne(this.logLoadStartHavingCurrentData(e))):this.isCanPlayAndStartHavingCurrentDataLog()&&this.onContentImpression.dispatch(void 0))},this.logCanPlay=e=>()=>{ao||this.isCanPlayAndStartHavingCurrentDataLog()&&(this.api.logEvent({event:Zs.a.CanPlay,params:{stage:e}}),this.onContentImpression.dispatch(void 0))},this.isCanPlayAndStartHavingCurrentDataLog=()=>!this.store.ad.hasPreroll&&this.store.controller.preload,this.startStream=()=>this.store.controller.encoderAttached?Promise.resolve():this.attachEncoder().catch(hs.a.error),this.container=e,this.preferNative=!0===t.preferNative,this.config=t;var i=Object(ko.getHardcodedParam)(window,"videoplayer-seamless-ad");"true"===i?this.forceUsingSeamlessAd=!0:"false"===i?this.forceUsingSeamlessAd=!1:"boolean"==typeof t.forceUsingSeamlessAd&&(this.forceUsingSeamlessAd=t.forceUsingSeamlessAd);const a=Object($f.a)(),o=Object(qv.a)(),c=Object(Mv.a)();c&&t.source&&t.source.params&&t.source.params.features&&(t.source.params.features.Xray=!1),this.onApiReady=Object(To.a)(n);var d=t.source,{params:l=gp}=d,{additionalParams:u=pp.a}=l,{from:h=yp.a}=u;this.stats=new Rs.a(bs.a),this.stats.setRootFields({vsid:u.vsid,adsid:u.adsid,streamUrl:d.streams[0]&&d.streams[0].url,device:t.device,videoContentId:d.params.videoInfo&&d.params.videoInfo.videoContentId||void 0}),this.stats.setLabels({from:h}),S={vsid:u.vsid,contentPlayerVersion:"1.0-6101"},xv.ya||(xv.ya={}),xv.ya.videoAd||(xv.ya.videoAd={}),xv.ya.videoAd.statsRootParams=S,this.badFragmentSender=new zp(u.vsid);var f=$n(void 0===t.volume?Ap.b:Pf.a.publicToInternal(t.volume)),{muted:p=!1,skinConfig:v,togglePlaybackOnVisibilityChange:y}=t;this.api=function(e,i,a){void 0===i&&(i={});let o=e;return Vn({publicApi:Object(Hp.a)(o,(e,n)=>function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(void 0===o){console.warn("Unable to call ["+n+"] after player was destroyed");const{logEvent:e=ho.a}=i;e({event:Zs.a.CallPublicApiAfterDestroy,params:{args:t,method:n}})}else try{return o[n](...t)}catch(e){a.error({error:new Gs(e,{code:Ws.a.PUBLIC_API_CALL_ERROR,isFatal:!1,details:{args:t,methodName:n}})})}})},Kp,i,{destroyApi:()=>{o=void 0}})}({play:()=>this.play(),pause:()=>this.pause(),seek:this.seek,seekToLive:this.seekToLive,stop:()=>this.stop(),destroy:()=>this.destroy(),recoverStream:()=>this.videoController?this.videoController.recoverStream():Promise.resolve(),getRecoverHelper:()=>{if(this.videoController)return this.videoController.recoverHelper},setPlaybackRate:this.setPlaybackRate,getPlaybackRate:()=>this.store.controller.playbackRate,getState:()=>this.store.controller.playingState,getDuration:()=>this.store.controller.duration,getCurrentTime:()=>this.store.controller.currentTime,getWatchedTime:()=>this.store.controller.watchedTime,getAdSessionWatchedTime:()=>this.store.ad.adSessionWatchedTime,getCurrentStream:()=>this.store.controller.stream,getVideoPlaybackQuality:()=>this.playbackQualityController.getPlaybackQuality(),setTitleSettings:e=>{this.playerStore.dispatch(Rh(e))},setSource:function(e,t){var{adSessionIdConfig:r={},shouldSaveProgress:t=!1}=void 0===t?{}:t;s.loadSource(e,{shouldSaveProgress:t,adSessionIdConfig:r}).catch(e=>{ui(e,of.b.SET_SOURCE),s.onError(e)}),s.saveDataToStorage(),Object(Ao.a)(s.unsubscribeSignalsOnSetSource),s.unsubscribeSignalsOnSetSource=[],s.unsubscribeSignalsOnSetSource.push(s.onCanPlay.addOne(s.logCanPlay(of.b.SET_SOURCE))),s.unsubscribeSignalsOnSetSource.push(s.onLoadedData.addOne(s.logLoadStartHavingCurrentData(of.b.SET_SOURCE))),s.updateExternalPlayerConfig(e.params.externalPlayerConfig),s.updateLogoWidgetConfig(e)},getUtcPosition:()=>this.getUtcPosition(),getLiveLatency:()=>void 0===this.videoController?void 0:this.videoController.getLiveLatency(),setVolume:this.setVolume,getVolume:()=>Pf.a.internalToPublic(this.store.controller.volume),setMuted:this.setMuted,getMuted:()=>this.store.controller.muted,setFullscreen:e=>this.setFullscreen(e),setHiddenControls:this.setHiddenControls,setVideoStyle:e=>{this.playerStore.dispatch(zd(e)),Object(no.a)(this.video,e)},setPictureInPictureEnabled:e=>hi(window,e,this.video),getVideoTrack:()=>Tt(this.store),getVideoTracks:()=>this.store.controller.videoTracks,setVideoTrack:e=>this.onApiVideoTrackChange(e),getMaxCapAllowedVideoTrack:()=>{if(this.videoController)return this.videoController.getMaxCapAllowedVideoTrack()},getAudioTrack:()=>vt(this.store),getAudioTracks:()=>this.store.controller.audioTracks,setAudioTrack:e=>this.onApiAudioTrackChange(e),getTextTrack:()=>function(e){var t=e.controller["textTrackEnabled"];if(t)return gt(e)}(this.store),getTextTracks:()=>this.store.controller.textTracks,setTextTrack:e=>this.onApiTextTrackChange(e),getDebugInfo:this.getDebugInfo,getExpectedStalled:()=>this.store.controller.expectedStalled,getRemainingBufferedTime:()=>this.videoController?this.videoController.getRemainingBufferedTime():{total:Object(ds.j)(0)},getStats:()=>this.stats,toggleNativeSubtitles:e=>{this.videoController&&this.videoController.toggleNativeSubtitles(e)},setNativeTextTrackVisibility:e=>{this.playerStore.dispatch(pd(e))},dispatchFeatureAction:t=>{try{this.playerStore.dispatch($d(t))}catch(e){this.stats.error({error:new Gs(e,{code:Ws.a.FEATURE_ACTION_DISPATCH_ERROR,details:{featureAction:t},isFatal:!1})})}},getMultiroll:()=>this.multiroll,playAdViewers:(e,t,r)=>this.playAdViewers(e,t,r),stopAd:e=>this.stopAd(e),playInrollAd:()=>this.playInrollAd(),setExternalRequestController:e=>{this.externalRequestController&&this.externalRequestController.destroy(),this.externalRequestController=e},getExternalRequestController:()=>(this.externalRequestController||(this.externalRequestController=new Cs.a({sender:window,receiver:window})),this.externalRequestController),updateVideoControllerNativeControlsVisibility:()=>{this.videoController&&this.videoController.updateNativeControlsVisibility()},getTimelineInfo:()=>{var{controller:{duration:e,currentTime:t},skin:{skinDVRStartTime:r,skinDVRDuration:n}}=this.store;return{currentTime:t,duration:e,utcStartTime:this.getUtcStartTime(),dvrStartTime:r,dvrDuration:n}},setLogoWidgetExpanded:e=>{this.playerStore.dispatch(Jh(e))},setLogoWidgetActionCompleted:e=>{this.playerStore.dispatch($h(e?As.COMPLETED:As.DEFAULT))},getSourceId:()=>this.playerStore.getState().controller.sourceId,addPromoConfig:e=>{var e=e["promoConfig"];this.playerStore.dispatch(Xd(e))},getBandwidthEstimate:()=>(void 0===this.videoController?this.store.controller.lastKnownBandwidthEstimate:this.videoController.getBandwidthEstimate())||void 0},t.callbacks,this.stats),this.maxBufferLength=t.maxBufferLength,this.resourceTimingsMonitor=new zv(t.resourceTimingsMonitor),this.playbackProgressStorage.setEnabled(t.restoreTabSessionPlaybackProgress);var{primaryColor:m,secondaryColor:g}=function(e){if(void 0===e||!Object(fo.a)(e))return Kv;var t=ii(e.primaryColor)?e.primaryColor:void 0,e=ii(e.secondaryColor)?e.secondaryColor:void 0;if(void 0===t&&void 0===e)return Kv;if(void 0===e&&"string"==typeof t){const r=ai(t);return{primaryColor:t,secondaryColor:ni(r)?oi(si(r,97/255)):t}}if(void 0!==t||"string"!=typeof e)return{primaryColor:t,secondaryColor:e};{const r=ai(e);return{primaryColor:ni(r)?e:oi(si(r,157/255)),secondaryColor:e}}}(v);this.onDestroy.addOne(Object(oo.a)(this.getContainerDocument(),"click",e=>{this.playerStore.dispatch(ef())},{capture:!0})),this.onDestroy.addOne(Object(oo.a)(this.getMainContainer(),"click",e=>{0<this.store.controller.watchedTime||this.store.skin.startPositionConfirmation&&this.store.skin.startPositionConfirmation.enabled||(void 0===t.shouldPlayOnFirstClick?!a:t.shouldPlayOnFirstClick)&&this.play()},{once:!0})),Object(po.a)(()=>{this.saveDataToStorage()}),io.a&&this.onDestroy.addOne(Object(po.a)(()=>this.destroy()));var{autoplay:E=vp.a}=t,{manifestTimeout:A=Ep.c}=l.netParams||{},{levelTimeout:e=Ep.b}=l.netParams||{},{chunkTimeout:i=Ep.a}=l.netParams||{};let T;if(void 0===t.hidden)T=[];else{if(!Array.isArray(t.hidden))throw new Error('StreamPlayer: "hidden" property must be an array or undefined');T=-1<t.hidden.indexOf(ys.b.ALL)?ys.a:t.hidden}-1===T.indexOf(ys.b.REPORT)&&!1===t.report&&T.push(ys.b.REPORT),this.debug=Boolean(t.debug),this.debug&&hs.a.enableConsole(),this.div=document.createElement("div"),this.div.className="StreamPlayer",this.div.tabIndex=-1,this.onDestroy.addOne(Object(oo.a)(this.div,"selectstart",e=>{e.preventDefault(),e.stopPropagation()})),this.container.appendChild(this.div);var n=nn(),h=go&&t.showBrandIntro?Ss.WillShow:Ss.None,S=Boolean(t.allowMuted),{featuresEnabled:v=[]}=t,l={controller:Ba({},nf.a,{autoplay:E,initialAutoplay:E,allowMuted:S,preload:void 0===t.preload||Boolean(t.preload),from:u.from,vsid:u.vsid,volume:f||Ap.b,muted:0===f||p,userVolume:void 0===t.volume?NaN:f,isFullscreen:!1,togglePlaybackOnVisibilityChangeSetting:y,isDocumentVisible:Object(co.a)(this.getContainerDocument()),isOnline:!0,liveOffset:void 0===t.liveOffset?mp.a:Object(ds.j)(Math.max(t.liveOffset,Sp)),isAbrEnabled:void 0===t.autoQuality||Boolean(t.autoQuality),netParams:{manifestTimeout:A,levelTimeout:e,chunkTimeout:i},preview:l.preview||gp.preview,featuresEnabled:v,videoInfo:l.videoInfo||gp.videoInfo}),ad:Ba({},rf.a,{adSessionWatchedTime:(void 0===t.adSessionWatchedTime?rf.a:t).adSessionWatchedTime,adblockDetected:Ol.a,watchedTimeSinceAd:("number"==typeof t.watchedTimeSinceAd?t:rf.a).watchedTimeSinceAd}),skin:Ba({},cp,{hiddenControls:T,useNativeControls:a,useNativeFullscreen:o,useNativeSubtitles:n,nativeControlsVisibility:!Ts(T),primaryColor:m,secondaryColor:g,isMobileSkin:c,showReportButton:!0===t.report,showBrandLogo:!0===t.showBrandLogo,showBrandPlayButton:!0===t.showBrandPlayButton,showUnmuteButtonForAll:!0===t.showUnmuteButtonForAll,brandIntroState:h,showPreloader:!1,logoConfig:l.logoConfig,startPositionConfirmation:t.startPositionConfirmation,handleVideoTagClickWhenHidingNativeControls:!0===t.handleVideoTagClickWhenHidingNativeControls}),externalPlayback:Ba({},gs,{externalPlaybackPossible:I(l.externalPlayerConfig),externalPlayerConfig:l.externalPlayerConfig}),sharing:Ba({},ap,{link:l.shareConfig&&l.shareConfig.link,html:l.shareConfig&&l.shareConfig.html}),features:{Xray:void 0,SkippableFragments:void 0,NonStop:void 0,Recommendations:void 0,CloseButton:void 0}};hs.a.log("initialState",l);const _=Rn(this.api,l);this.playerStore=_,this.updateLogoWidgetConfig(d),this.updateRumInfo(),this.onDestroy.addOne(Object(as.a)(()=>{_.dispatch(mc())}));const b=function(e){var{preferNative:t=!1,logger:e}=e;return P({preferNative:t})?us.b.avplayProxyController.createElement(e):null}({preferNative:this.preferNative,logger:hs.a})||(d=hs.a,Ja?us.b.orsayVideoElement.createElement(d):null)||function(e){const t=us.b["webOSController"];return ro.a&&t?t.createElement(e):null}(hs.a)||(O=hs.a,$a.b?us.b.playstationVideoElement.createElement(O):null)||this.container.getElementsByTagName("video")[0]||document.createElement("video");this.video=b,b.poster||(b.poster=_s.a),this.playbackQualityController=new ng(b),this.mediaInternalsHistory=new Bv(b),this.slotsController=new ny({parentElement:this.div,originalVideoElement:b,useNativeControls:a,forceUsingSeamlessAd:this.forceUsingSeamlessAd}),Object(so.a)(b,ps.a.player__video),Object(wo.a)(()=>window.Ya.Rum.sendHeroElement());var O=a?b:this.div,O=a||c?w(O,this.showContextMenu,{touchesCount:2,handleContextmenu:!1}):Object(oo.a)(this.div,"contextmenu",this.showContextMenu);this.onDestroy.addOne(O),(O=b).setAttribute("playsinline","playsinline"),O.setAttribute("webkit-playsinline","webkit-playsinline"),this.destroySkin=(e=>{let t=e["callback"];return t(),ho.a})({waitForPromise:new Promise(e=>{this.canRenderSkin=e}),playerStore:_,stats:this.stats,skinContainer:this.slotsController.getSkinElement(),callback:this.api.onSkinReady});O=o?this.video:this.container;this.visualState=r.visualState,this.visualState.setVideoElement(b),this.onVisualStateChange.add(e=>{e&&(this.api.onVisualStateChange(e),this.stats.setRootFields({visualState:e}))});const R=C(e=>{var{height:t,width:e}=e;_.dispatch(kd({width:e,height:t,size:Object(Is.a)(e)})),this.handleSizeSensorUpdate({height:t,width:e})},ag);this.sizeSensor=new vo.a(O),this.sizeSensor.onResize.add(e=>{var{width:t,height:e}=e;return R({width:Object(ds.i)(t),height:Object(ds.i)(e)})}),R(this.sizeSensor.getSize()),this.onDestroy.addOne(()=>this.sizeSensor.destroy()),y&&this.visualState.isYandexPipMode&&hi(window,!1,this.video),this.visualState.observe(this.handleVisualStateChange),this.handleVisualStateChange(this.visualState.getState()),this.visibilityDetectPromise=Promise.resolve(this.visualState.getState()),this.onDestroy.addOne(()=>{this.onVisualStateChange.removeAll()}),h===Ss.WillShow&&this.renderBrandIntro(),this.initClickerEventListener(this.div),this.initTouchZoomPreventor(this.div),this.defineAutoplaySettingsAndLoadSource(),this.subscribeHandlers()}initClickerEventListener(e){const t=new Vs(e);this.onDestroy.addOne(()=>t.destroy()),t.onEvent.add(e=>{var{type:t,event:e}=e;const r=Ba({},e);r.preventDefault=void 0,this.api.onVideoClickerEvent({type:t,event:r})})}initTouchZoomPreventor(e){const t=new Ys(e);this.onDestroy.addOne(()=>t.destroy())}updateRumInfo(){var e=this.store["controller"];Object(Op.d)({apiVersion:2,isMobile:this.config.isMobile,autoQuality:this.config.autoQuality,useFriendlyFrame:this.config.useFriendlyFrame,vsid:e.vsid,from:e.from,hasPreview:Boolean(e.preview),saveData:function(e){var{connection:e={}}=e=(e=void 0===e?window:e)["navigator"];return Boolean(e.saveData)}()})}requestAutoplaySettings(e,t,r){return void 0===(n=window)&&(n=window),Object(By.a)(n).some(e=>{var t=(Object(wo.a)(()=>i(e))||{hasBeenActive:!1})["hasBeenActive"];return t})?{promise:Promise.resolve({autoplay:t.autoplay,muted:t.muted,detectionMethod:"ACTIVATED_WINDOW"}),abort:ho.a,skipCacheUpdate:!0}:u(Ba({},t,r,{videoSlot:e}));var n}defineAutoplaySettings(e,i){if(this.store.controller.autoplay&&!this.store.controller.isDocumentVisible)return this.playerStore.dispatch(_c(kf.a.waitForDocumentVisibility)),this.playerStore.dispatch(Sc(!1)),void(this.defineAutoplaySettingsPromise=Promise.resolve());let s;Object(Rp.b)("detect.autoplay");const a=(n=i,Object(wo.a)(()=>{var e=JSON.parse(pv.a.getItem(Ua(n))),t=e["time"],e=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,["time"]);return Date.now()-t<ig?e:null})||null),{promise:t,skipCacheUpdate:o=!1,abort:r}=this.requestAutoplaySettings(e,i,a);var n;t.then(()=>{Object(Rp.a)("detect.autoplay")});const{promise:c,clear:d}=Ro(_p);this.clearRequestAutoplaySettingsTimeout=()=>{this.playerStore.dispatch(bc(!1)),d()},c.then(()=>{this.playerStore.dispatch(bc(!0))});const l=Object(Oo.a)();this.abortRequestAutoplaySettings=e=>{void 0===s&&this.api.logEvent({event:"PlayWithoutRAAResults",params:{delay:Object(ds.h)(l()),reason:e}}),r()},this.runRequestAutoplaySettingsLogger(t,i,a),t.then(e=>{var t,r,n;o||(r=e,n=t=i,(e=a)&&n.allowMuted===e.allowMuted&&n.autoplay===e.autoplay&&n.muted===e.muted||Object(wo.a)(()=>{pv.a.setItem(Ua(t),JSON.stringify(Va({},r,{time:Date.now()})))}))}),this.defineAutoplaySettingsPromise=Promise.all([t,this.visibilityDetectPromise]).then(e=>{var[t]=e;s=t,this.clearRequestAutoplaySettingsTimeout();var r=this.store.controller["isVisible"];hs.a.log("Autoplay settings defined",s);var{autoplay:n,muted:i,requireUserGestureToUnmute:a,autoplayImpossible:o,requireAllowMutedToAutoplay:e}=s;this.playerStore.dispatch(Pc({muted:i,volume:this.store.controller.volume,changeReason:Qf.a.RequestAutoplaySettings}));t=function(e){var{controller:{togglePlaybackOnVisibilityChangeSetting:t,muted:e}}=e;return!(!t||t.onlyMuted&&!e)}(this.store)&&!1===r;t&&this.api.logEvent({event:"HiddenAutoplayPrevented",params:{autoplaySettingsRequestResult:s}});i=n&&!t;hs.a.log("autoplay status:",n),hs.a.log("isVisible",r),hs.a.log("preventHiddenAutoplay",t);t=i?kf.a.starting:kf.a.waitForUserPlay;this.playerStore.dispatch(_c(t)),i?this.playerStore.dispatch(Oc(!0)):Ln(),this.playerStore.dispatch(Sc(i)),this.playerStore.dispatch(wc(Boolean(a))),o&&(this.playerStore.dispatch(Cc(!0)),this.stats.warning({name:"AutoplayImpossible",message:"Cannot autoplay video"+(e?" with sound":"")+" in this environment."+(e?" Use autoplay={allowMuted: true} if you prefer mute video and enable autoplay.":"")}))})}createVideoController(e,t){var{stream:r,supportInfo:e}=e,r={playerStore:this.playerStore,stats:this.stats,video:this.video,stream:r,sourceParams:t,debug:this.debug,liveOffset:this.store.controller.liveOffset,maxBufferLength:this.maxBufferLength,preferNative:this.preferNative,maxRecoverAttempts:this.config.maxRecoverAttempts,resourceTimingsMonitor:this.resourceTimingsMonitor,onMetadata:this.onMetadata,onPlayingStateChange:this.onVideoPlayingStateChange,onVideoTypeChange:this.onVideoTypeChange,onCurrentTimeChange:this.onVideoCurrentTimeChange,onDurationChange:this.onVideoDurationChange,onProgramDateTimeChange:this.onVideoProgramDateTimeChange,onChangeBufferingRanges:this.onChangeBufferingRanges,videoTrackValueSignal:this.videoTrackValueSignal,onVideoTracksChange:this.onControllerVideoTracksChange,audioTrackValueSignal:this.audioTrackValueSignal,onAudioTracksChange:this.onControllerAudioTracksChange,textTrackValueSignal:this.textTrackValueSignal,onTextTracksChange:this.onControllerTextTracksChange,onLoadedData:this.onLoadedData,onCanPlay:this.onCanPlay,onError:e=>this.onError(e),onRecover:this.onRecover,onBadFragment:this.onBadFragmentReport,onContentImpression:this.onContentImpression,logEvent:this.api.logEvent};this.videoController=(t=r,new((r=e.engine)===Gf.YANDEX?Um:r===Gf.HLS?zy:r===Gf.MPD?Sm:r===Gf.MP4?Jy:Rm)(t)),this.playerStore.dispatch(Tc(e.engine)),this.stats.setRootFields({engine:e.engine}),this.api.onEngineChange(e.engine,this.playerStore.getState().controller.sourceId),Object(Op.e)("engine",e.engine)}getPreparedSourceParams(e,t){return Ba({},gp,t,{startPosition:this.getInitialStartPosition(t),withCredentials:(e=e,(t=t)&&"boolean"==typeof t.withCredentials?t.withCredentials:!!Object(df.a)(e.url)||gp.withCredentials)})}getInitialStartPosition(e){const t=e&&e.startPosition||gp.startPosition;if(t&&Object(bo.a)(t).some(e=>Object(_o.a)(t[e])))return t;e=this.playbackProgressStorage.getProgress();return void 0===e?t:{videoTime:e}}async loadSource(e,t){let{adSessionIdConfig:r,shouldSaveProgress:n}=t;hs.a.log("loadSource start",e),this.stats.setRootFields({engine:void 0,videoContentId:e.params.videoInfo&&e.params.videoInfo.videoContentId||void 0}),this.api.onEngineChange(void 0,this.playerStore.getState().controller.sourceId),this.api.logEvent({event:n?"LoadSourceWithSaveProgress":"LoadSource",params:{source:e}}),function(){Up++,Bp.sourceStart=!1;var e=0===Up;e?Object(Cp.a)(Ip.firstLoadSource):Object(wp.b)();try{Vp=window.Ya.Rum.makeSubPage(e?"Init":"SetSource"),Object(Op.c)(Vp.additional||{})}catch(e){}}(),this.stopAd({stopAdReason:qs.a.LoadSource,data:{loadPositionAfterAd:void 0}}),this.stopLoadSource(Gp.setSource),this.playbackProgressStorage.clearKey(),this.playerStore.dispatch(Kc(void 0)),this.playerStore.dispatch(Vc(void 0)),this.playerStore.dispatch(Uc(void 0)),this.playerStore.dispatch(Hc(e.streams)),this.playerStore.dispatch(Nd(!1)),this.playerStore.dispatch(xc(e.params.videoInfo||nf.a.videoInfo));const i=new gl;this.stopLoadSource=e=>i.stop(e),this.multiroll.destroy(),this.multiroll=Dv;const a=!this.videoController,o=e["streams"],s=Zn({streams:o,video:this.video,preferNative:this.preferNative}),c=Xn(e.params),d=(h=c,u=e.params.promoConfig,!(!Object(fo.a)(h)||void 0!==u&&u.intro&&0<u.intro.length||!1!==h.hasPreroll));let l=d?null:this.initMultirollModule(c,r);Object(Op.e)("hasPreroll",!d);var t=this.destroyVideoController(),u=await s;if(this.playerStore.dispatch(Kc(u.streamsWithSupportInfo)),"error"===u.status)throw u.error;var h=u["supportedStream"];(u=h).supportInfo.engine===Gf.MPD?Ma(om.f):u.supportInfo.engine===Gf.HLS&&Ma(om.d);var u=h["stream"];if(i.stopReason)this.api.logEvent({event:Zs.a.StreamStopWhileChoosingStream,params:void 0});else{this.playbackProgressStorage.setKeyByStream(u);e=this.getPreparedSourceParams(u,e.params);if(await t,i.stopReason)this.api.logEvent({event:Zs.a.StreamStopWhileDestroyVideoController,params:void 0});else{if(t=u.url,!Object(Vv.a)(t))throw new Gs({code:Ws.a.INVALID_STREAM_URL,details:{streamUrl:u.url},isFatal:!0});this.resetPlayerStore(u,e,{adSessionIdConfig:r,shouldSaveProgress:n}),await this.defineAutoplaySettingsPromise,i.stopReason?this.api.logEvent({event:Zs.a.StreamStopDuringDefineAutoplaySettings,params:void 0}):(this.createVideoController(h,e),this.store.ad.hasPreroll||!this.store.controller.preload&&!this.store.controller.autoplay||this.videoController.preloadSource(),Object(Op.e)("bandwidthEstimate",Qn(Object(ds.b)(this.videoController.getBandwidthEstimate(),1e3))),Object(Op.e)("drm","none"),a?(this.initBroadcastAd(),async function(e,t){var r=jr(e);return async function(e,t){try{return await q({url:e,withCredentials:t,method:"GET",checkStatus:e=>0!==e,retries:3}),!1}catch(e){return!0}}(r||Object(Io.a)(zn(e),"abd","1"),!Object(Sl.a)(r)&&t)}(u.url,Boolean(e.withCredentials)).then(e=>{this.playerStore.dispatch(hc(e||Ol.a))}),this.setMuted(this.store.controller.muted),this.setVolume(Pf.a.internalToPublic(this.store.controller.volume))):this.prepareNextSource(u,e),this.setPosterFitStyle(),this.unsubscribeSignalsOnSetSource.push(this.onContentImpression.addOne(()=>this.handleFirstContentImpression())),u=async()=>{l=l||this.initMultirollModule(c,r);const e=await l;if(i.stopReason)return this.api.logEvent({event:Zs.a.StreamStopWhileLoadingMultiroll,params:{streamStopReason:i.stopReason}}),void e.destroy();this.multiroll=e},d?this.unsubscribeSignalsOnSetSource.push(this.onContentImpression.addOne(u)):await u(),this.startPrerollAndContent(i),e.shareConfig&&this.playerStore.dispatch(ip(e.shareConfig)))}}}async initMultirollModule(e,t){let r=Dv;if(!e)return r;jn("AD",!0);try{const n=(await Z(e=>{Object(Op.e)("adSdkVersion",e.adSdkVersion),Object(Op.e)("adSdkLoaderVersion",e.adSdkLoaderVersion),this.stats.setRootFields(e),this.api.onAdSDKVersionDefined(e)}))["loadMultiroll"],i=this.config.useFriendlyFrame?is.OnlyYandexCreatives:is.Unsafe;r=await n(Ba({},e,{secureMode:i,getSTRMChunkHost:()=>{var e=Fr(this.resourceTimingsMonitor.getAllResourcesTimings());if(0!==e.length){var{hostname:t,protocol:e}=Object(Io.g)(e[0]);return e+"//"+t+"/"}}}),{preroll:{shouldPreload:()=>{var{preload:e,startStage:t}=this.store.controller;return e&&(t===kf.a.waitForUserPlay||t===kf.a.waitForDocumentVisibility)}},midroll:{preloadOffset:20,preloadMinTime:Object(ds.j)(5)},postroll:{preloadOffset:20,preloadMinTime:Object(ds.j)(5)},getPreloadParams:()=>{var e={videoSlot:this.video};if(!this.videoController||!this.store.ad.nextAdInfo)return e;var t=this.videoController.getBandwidthEstimate();return t?Ba({},e,{desiredBitrate:t/1e3}):e},startWatchedTime:(Boolean(t.keepAdSession)?this.store.ad:rf.a).adSessionWatchedTime,watchedTimeSinceAd:this.store.ad.watchedTimeSinceAd})}catch(t){Dn({reason:"MULTIROLL_INIT_ERROR",adSdkVersion:W(),adSdkLoaderVersion:G(),adblockDetected:this.store.ad.adblockDetected,bandwidth:Qn(void 0)}),this.stats.error({error:new Gs({isFatal:!1,code:Ws.a.MULTIROLL_INIT_ERROR,details:{error:t,adConfig:e}})})}return r}async startPrerollAndContent(e){hs.a.log("startPrerollAndContent");let r=[];const t=Object(To.a)(()=>this.startStream()),n=Object(To.a)(async()=>{r=await this.multiroll.preroll.loadViewers({});var e=function(e){var e=e.controller["sourceParams"];if(void 0===e)return{};var e=e["promoConfig"];return void 0===e?{}:e}(this.store),t=0<r.length,e=void 0!==e.intro&&0<e.intro.length,e=t||e;this.playerStore.dispatch(yc(e)),e&&this.api.logEvent({event:Zs.a.PrerollInit,params:{}})}),{startStage:i,preload:a}=this.store.controller;if(i===kf.a.waitForUserPlay||i===kf.a.waitForDocumentVisibility){if(hs.a.log("Waiting for "+(i===kf.a.waitForUserPlay?"user gesture":"document visibility")),this.api.logEvent({event:i===kf.a.waitForUserPlay?Zs.a.WaitForUserGesture:Zs.a.WaitForDocumentVisibility,params:{preload:a}}),a){if(hs.a.log("Preload preroll in player"),await n(),e.stopReason)return void this.api.logEvent({event:Zs.a.StreamStopWhilePreloadingPreroll,params:{streamStopReason:e.stopReason}});this.store.ad.hasPreroll||(hs.a.log("No preroll, preload content"),t())}if(i===kf.a.waitForUserPlay?await this.waitForPlay():(o=this.getContainerDocument(),await(!0===Object(co.a)(o)?Promise.resolve():new Promise(t=>{Object(lo.a)(o,e=>{!0===e&&t()})}))),e.stopReason)return void this.api.logEvent({event:i===kf.a.waitForUserPlay?Zs.a.StreamStopWhileWaitingForPlay:Zs.a.StreamStopWhileWaitingForDocumentVisibility,params:{streamStopReason:e.stopReason}})}var o;if(hs.a.log("Start playing"),this.playerStore.dispatch(Sc(!0)),this.play(),await n(),e.stopReason)this.api.logEvent({event:Zs.a.StreamStopWhileLoadingPreroll,params:{streamStopReason:e.stopReason}});else{if(!this.store.ad.hasPreroll)return await t(),this.playAfterWaitingForDocumentVisibility(),void this.performPlayCallbacks();this.playerStore.dispatch(Oc(!0)),hs.a.log("Start preroll"),this.playAdViewers(zs.preroll,ct(r,zs.preroll),{videoSlotCanAutoPlay:i!==kf.a.waitForDocumentVisibility||void 0})}}waitForPlay(){const i=Object(Oo.a)();return new Promise(t=>{let r=ho.a,n=0;const e=e=>{r(),clearInterval(n),this.api.logEvent({event:Zs.a.WaitForPlayCompleted,params:{reason:e,timeout:Object(ds.h)(i())}}),this.playerStore.getState().controller.startStage!==kf.a.started&&this.playerStore.dispatch(_c(kf.a.starting)),t()};this.video.paused?(this.playCallbacks.push(()=>{e(bp.PlayCallback)}),r=Object(oo.a)(this.video,"play",()=>{e(bp.VideoPlayEvent)}),n=window.setInterval(()=>{this.video.paused||e(bp.DetectByInterval)},os.a)):e(bp.VideoIsNotPausedOnInit)})}initBroadcastAd(){const{video:r,stats:e,playerStore:t}=this;if(this.broadcastAd=new yl(r,r.parentElement,e,t,this.api),this.videoController&&this.videoController.engine===Gf.NATIVE){let t=0;r.addEventListener("timeupdate",()=>{var e=r["currentTime"];this.isLive()&&e<t&&this.broadcastAd&&this.playerStore.dispatch(fc({})),t=e})}this.onMetadata.add(e=>{const{fragmentMetadataArray:t,fragmentStart:r}=e;if(hs.a.log("receive metadata: ",t),this.broadcastAd){var i=this.store.controller["programDateTime"];if(void 0!==i){const a=Object(ds.a)(i,Object(ds.c)(r,1e3));let n;Math.random()<.01&&this.api.logEvent({event:Zs.a.StreamPlayerReceivedMetadata,params:e}),t.forEach(t=>{try{var e=JSON.parse(t);if(r=e,!(Object(fo.a)(r)&&Object(Sl.a)(r.cue_id)&&Object(_o.a)(r.offset)))return;n=Ba({},e,{pts:a})}catch(e){hs.a.log("metadata is not valid ["+t+"]")}var r}),n&&this.broadcastAd.handleInrollFrame(n).catch(e=>{hs.a.error(e),this.stats.error({error:new Gs(e,{code:Ws.a.BROADCAST_AD_BLOCK_INIT_ERROR,isFatal:!1,details:{code:e.code,message:e.message,id:e.id,details:e.details,stack:e.stack,metadata:{cueId:n.cue_id,podStart:a+n.offset}}})})})}}}),this.broadcastAd.onAdIntervalRemoved.add(e=>{this.playerStore.dispatch(vc(e))}),this.broadcastAd.onAdIntervalUpdated.add(e=>{var{cueId:t,start:r,end:e}=e;this.playerStore.dispatch(pc({cueId:t,start:Object(ds.b)(r,1e3),end:Object(ds.b)(e,1e3)}))}),this.broadcastAd.onInrollAdPlayRequest.add(e=>{this.playAdViewers(zs.inroll,e,{skipDelay:0})}),this.broadcastAd.onOverlayAdPlayRequest.add(e=>{this.playAdViewers(zs.overlay,e,{skipDelay:0})})}prepareBeforeOrAfterAd(e,t){this.broadcastAd&&t!==zs.overlay&&t!==zs.inroll&&this.broadcastAd.setEnabled(e)}getSeekPositionAfterAd(e){var{adType:t,adViewersDuration:r}=e,e=this.getUtcPosition();if(t===zs.inroll){const n=Object(ds.a)(this.store.controller.currentTime,r);return{utc:e?Object(ds.a)(e,r):void 0,videoTime:n}}if(t===zs.preroll)return this.store.controller.startPosition;if(t!==zs.midroll)return t===zs.postroll?{videoTime:Object(ds.j)(0)}:{};{const n=function(e){var{rewindTime:e=dp.a}=e.ad.adConfig||{};return e}(this.store);return{utc:Object(ds.j)(Math.max(e-n,0))||void 0,videoTime:Object(ds.j)(Math.max(this.videoController.getCurrentTime()-n,0))}}}updateVideoInfo(){var{startTime:e,fragmentDuration:t,totalDuration:r}=this.videoController.getFragmentsData();this.playerStore.dispatch(Wc(t)),this.playerStore.dispatch(zc(e)),this.playerStore.dispatch(qc(r));var{videoWidth:e,videoHeight:r}=this.video;this.playerStore.dispatch(kc({videoWidth:Object(ds.i)(e),videoHeight:Object(ds.i)(r)})),Cn(this.store)?this.playbackQualityController.persist():this.playbackQualityController.update()}getUtcPosition(){return this.videoController?this.videoController.getUtcPosition():Wy}resetPlayerStore(e,t,r){var{adSessionIdConfig:n,shouldSaveProgress:i}=r;this.playerStore.dispatch(Bc()),this.playerStore.dispatch(Vc(e)),this.playerStore.dispatch(Uc(t));var{additionalParams:a=pp.a}=t,{from:o=yp.a}=a,r=this.getStartPositionForLoadSource(t,{shouldSaveProgress:i});this.playerStore.dispatch(Yc(r)),this.playerStore.dispatch(Fc(a.from)),this.playerStore.dispatch(Rd(t.preview||gp.preview)),this.playerStore.dispatch(ed(nf.a.bufferingRanges)),i||this.playerStore.dispatch(Pd(nf.a.watchedTime)),i||n.keepAdSession||this.playerStore.dispatch(Cd(rf.a.adSessionWatchedTime)),this.playerStore.dispatch(Lc(void 0)),this.playerStore.dispatch(Zc(void 0)),this.playerStore.dispatch(Ud(t.logoConfig)),this.playerStore.dispatch(od(nf.a.videoTracks)),this.playerStore.dispatch(cd(nf.a.audioTrackValue)),this.playerStore.dispatch(dd(nf.a.audioTracks)),this.playerStore.dispatch(fd(nf.a.textTrackEnabled)),this.playerStore.dispatch(vd(nf.a.textTrackValue)),this.playerStore.dispatch(hd(nf.a.textTracks)),this.playerStore.dispatch(Ed([])),this.playerStore.dispatch(Id(void 0)),this.playerStore.dispatch(Yh()),this.playerStore.dispatch(fc({})),this.stats.setRootFields({adsid:a?a.adsid:void 0,streamUrl:e.url}),this.stats.setLabels({from:o}),this.playerStore.dispatch(Ec(void 0)),this.playerStore.dispatch(cc(Xn(t))),this.playerStore.dispatch(yc(!1)),this.playerStore.dispatch(Ac(void 0)),this.playerStore.dispatch(Rh(cp.title)),this.playerStore.dispatch(Jd(t.features||{}))}prepareNextSource(e,t){this.playerStore.dispatch(td({})),this.playerStore.dispatch(jd(!1)),this.onVideoDurationChange.dispatch(Object(ds.j)(NaN)),this.playerStore.dispatch(np()),this.playerStore.dispatch(Oc(!0)),this.playbackQualityController.reset(),this.playCallbacks=[],this.playerStore.dispatch(ad({videoTrackValue:nf.a.videoTrackValue,isAbrEnabled:this.store.controller.isAbrEnabled})),this.broadcastAd&&this.playerStore.dispatch(fc({})),this.playerStore.dispatch(Cu({delay:vs,condition:()=>this.store.controller.videoTrackValue===nf.a.videoTrackValue,action:Dd(!0)})),-1===[ss.a.PLAY,ss.a.BUFFERING].indexOf(this.store.controller.playingState)&&this.videoTrackValueSignal.addOne(()=>{this.playerStore.dispatch(Dd(!1))}),this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.SetSource,{stream:e,params:t})))}performPlayCallbacks(){0<this.playCallbacks.length&&(Object(Ao.a)(this.playCallbacks),this.playCallbacks=[])}play(){if(this.performPlayCallbacks(),this.currentAdPlaybackQueue&&lt(this.store)!==zs.overlay)this.currentAdPlaybackQueue.resumeAd();else{if(!this.videoController)return this.playerStore.dispatch(Sc(!0)),void this.abortRequestAutoplaySettings(fp.ApiPlay);var e=this.videoController.getCurrentTime(),t=this.videoController.getDuration();0<t&&t<=e&&this.seek({videoTime:Object(ds.j)(0)}),Object(So.a)(this.videoController.play())}}pause(){Ln(),this.playerStore.dispatch(Nd(!0)),this.currentAdPlaybackQueue&&lt(this.store)!==zs.overlay?this.currentAdPlaybackQueue.pauseAd():this.videoController&&this.videoController.pause()}stop(){this.seek({videoTime:Object(ds.j)(0)}),this.pause()}seekToVideoPosition(e,t){Number.isNaN(e)||(this.api.onSeek({newPosition:e,oldPosition:this.store.controller.currentTime}),vr(this.store)&&!t?this.playerStore.dispatch(Yc({videoTime:e})):this.videoController.seek(e))}isLive(){return this.store.controller.videoType===cs.a.LIVE}getStartPositionForLoadSource(e,t){var r=t["shouldSaveProgress"],{controller:{currentTime:n,watchedTime:i}}=this.store,t=this.getUtcStartTime(),t=void 0===t?void 0:Object(ds.a)(t,n),e=Object(fo.a)(e.startPosition)?e.startPosition:{};return r&&0<i?{videoTime:n,utc:t}:e}getUtcStartTime(){var{controller:{programDateTime:e}}=this.store;return void 0===e?void 0:Object(ds.b)(e,1e3)}onApiVideoTrackChange(t){this.playerStore.dispatch(id(t===bf.value));var e,r=t===bf.value&&this.store.controller.isAbrSupported?bf:this.store.controller.videoTracks.find(e=>e.value===String(t));this.playerStore.dispatch(sd({name:r&&r.value!==bf.value&&r.name||void 0,height:r&&r.height?Object(ds.i)(r.height):void 0})),r&&(e=this.api.publicApi.getVideoTrack(),this.videoController.setVideoTrack(r),this.playerStore.dispatch(Od(Object(Rf.a)(Of.a.VideoTrackChange,{newTrack:r,oldTrack:e}))),hs.a.log("SELECTED VIDEO TRACK: ",r))}onApiAudioTrackChange(t){var e=this.store.controller.audioTracks.find(e=>e.value===String(t));e&&(this.playerStore.dispatch(ld({name:e.name||void 0,lang:e.lang||void 0})),this.videoController.setAudioTrack(e),hs.a.log("SELECTED AUDIO TRACK: ",e))}onApiTextTrackChange(t){const{textTracks:e,userTextTrackLang:r,userTextTrackName:n}=this.store.controller;var i,a;"auto"!==t?(i=void 0===t?void 0:e.find(e=>e.value===t),a={enabled:Boolean(i),lang:i?i.lang||void 0:r,name:i?i.name||void 0:n},this.playerStore.dispatch(yd(a)),i?(this.videoController.setTextTrack(i),hs.a.log("SELECTED TEXT TRACK: ",i)):(this.videoController.disableTextTrack(),hs.a.log("DISABLE TEXT TRACK"))):this.playerStore.dispatch(gd())}setFullscreen(e){if(e)try{this.visualState.change({isFullScreen:!0})}catch(e){hs.a.error("Request fullscreen for element:",e)}else try{this.visualState.change({isFullScreen:!1})}catch(e){hs.a.error("Exit fullscreen for element:",e)}}onError(e){this.playerStore.dispatch(td({error:e})),e.isFatal&&(this.api.logEvent({event:"MediaInternalsHistoryOnFatal",params:{history:this.mediaInternalsHistory.getHistory()}}),!vr(this.store)&&this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(qs.a.PlayerError),this.playerStore.dispatch(qd(ss.a.PAUSE)),this.resourceTimingsMonitor.updateInfo(),this.destroyVideoController())}async detachEncoder(){this.videoController&&(await this.videoController.detachEncoder(),this.playerStore.dispatch(Rc(!1)))}async attachEncoder(){this.store.controller.isOnline||await this.onlineMonitor.onOnline.promise(),await this.videoController.attachEncoder(),this.playerStore.dispatch(Rc(!0))}async destroyVideoController(){this.videoController&&(await this.videoController.destroy(),this.playerStore.dispatch(Rc(!1)))}async destroy(){this.saveDataToStorage(),this.stopAd({stopAdReason:qs.a.PlayerDestroy,data:{loadPositionAfterAd:void 0}}),this.stopLoadSource(Gp.destroy),this.multiroll.destroy(),this.currentAdPlaybackQueue&&this.currentAdPlaybackQueue.destroy(qs.a.PlayerDestroy),this.onlineMonitor.destroy(),this.visualState.destroy(),this.resourceTimingsMonitor.destroy(),In(this.video)&&"function"==typeof this.video.destroy&&this.video.destroy(),this.destroySkin(),this.mediaInternalsHistory.destroy(),this.playbackQualityController.destroy(),this.api.destroyApi(),this.onDestroy.dispatch(void 0),await this.destroyVideoController(),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(this.container),Object(Ao.a)(this.unsubscribeSignalsOnSetSource)}runRequestAutoplaySettingsLogger(n,i,t){n.then(e=>{this.api.logEvent({event:e.autoplay?"AutoplayAllowed":"AutoplayDisabled",params:{autoplaySettingsRequestResult:e,initialAutoplayParams:i,cachedAutoplayParams:t}})}),Object(bo.a)(Tp).forEach(t=>{const{promise:e,clear:r}=Ro(1e3*Number(t));n.then(r),e.then(()=>{var e=this.store.controller["isDocumentVisible"];hs.a.log("requestAutoplaySettings taking ["+t+"]s, isDocumentVisible=["+e+"]"),e&&this.stats.error({error:new Gs({code:Tp[t],details:{initialAutoplayParams:i},isFatal:!1})})})})}get store(){return this.playerStore.getState()}async playAfterWaitingForDocumentVisibility(){const e=this["videoController"],{startStage:t,initialAutoplay:r}=this.store.controller;if(t===kf.a.waitForDocumentVisibility&&r&&e){this.api.logEvent({event:Zs.a.PlayAfterWaitingForDocumentVisibility,params:{}});try{this.performPlayCallbacks(),await e.play()}catch(t){const{allowMuted:r,muted:n}=this.store.controller;if(!r||n)return;this.setMuted(!0),Object(So.a)(e.play())}}}renderBrandIntro(){this.playCallbacks.push(()=>{hs.a.log("Show intro");const e=new eg(this.container),t=e.play();this.playerStore.dispatch(Yd(Ss.InProgress)),t.then(()=>{hs.a.log("Intro animation play complete"),this.play(),e.hide().then(()=>{hs.a.log("Intro was done"),this.playerStore.dispatch(Yd(Ss.Shown)),e.destroy()})}),this.onDestroy.addOne(()=>e.destroy())})}updateExternalPlayerConfig(e){this.playerStore.dispatch(Iu(e)),this.playerStore.dispatch(xu(ms.CLOSED))}getContainerDocument(){return this.container.ownerDocument||document}getMainContainer(){return this.config.useFriendlyFrame?this.container:document}saveDataToStorage(){this.api.onSaveDataOutsideIframe({[Os.a.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD]:this.store.ad.watchedTimeSinceAd,[Os.a.SINGLE_VIDEO_SESSION_WATCHED_TIME_SINCE_AD_UTC_TIMESTAMP]:Object(ws.a)()})}setPosterFitStyle(){Object(no.a)(this.video,Ba({objectFit:"cover"},this.playerStore.getState().controller.videoElementStyle))}resetPosterFitStyle(){Object(no.a)(this.video,Ba({objectFit:"contain"},this.playerStore.getState().controller.videoElementStyle))}hidePoster(){this.video.poster=_s.a}async playInrollAd(){var e=await this.multiroll.inroll.loadViewers({});0!==e.length&&(await this.stopAd({stopAdReason:qs.a.PlayInrollAd,data:{loadPositionAfterAd:void 0}}),e=ct(e,zs.externalInroll),this.playAdViewers(zs.externalInroll,e,{skipDelay:0}))}updateLogoWidgetConfig(e){var e=e.params["logoWidgetConfig"];this.playerStore.dispatch(Qh(void 0===(e=e)?e:{caption:e.caption,avatarSrc:e.avatarSrc,forceExpanded:!1,action:{status:e.action.completed?As.COMPLETED:As.DEFAULT,caption:e.action.caption,progressCaption:e.action.progressCaption,completedCaption:e.action.completedCaption,url:e.action.url}}))}handleFirstContentImpression(){this.resetPosterFitStyle();const t=this.playerStore.getState()["controller"],e=t.videoTracks.find(e=>{var e=e["value"];return e===t.videoTrackValue});Mn(this.videoController.engine,{videoType:t.videoType,bandwidth:Qn(e&&e.bitrate)},this.store.ad.hasPreroll),this.api.logEvent({event:Zs.a.ContentImpression,params:{}}),this.api.onContentImpression({hasPreroll:this.store.ad.hasPreroll,engine:this.store.controller.engine}),this.playerStore.dispatch(Nd(!0)),this.hidePoster()}}const sg=async(t,r,n)=>{const i=function(){var{isMobile:e,preferNative:t}=r;return Ha({},r,{isMobile:void 0===e?dv.a.isMobile():e,preferNative:void 0!==t&&t})}();i.env&&dv.a.setDeviceType(i.env.deviceType),Object(eo.a)().forEach(e=>Object(to.a)(e,t));const a=P({preferNative:i.preferNative})?Object(El.a)():ro.a?Object(El.g)():Ja?Object(El.d)():$a.b?Object(El.e)():Promise.resolve();return new Promise(e=>{a.then(()=>new og(t,i,n,e))})};us.b.createJsPlayer=sg},,function(e,t,x){"use strict";function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){void 0===e&&(e=window);var t=Object(re.a)(e).match(/YaBrowser\/([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};var[,e,t]=t;return{major:parseInt(e,10),minor:parseInt(t,10)}}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){var{url:t,adConfig:r,additionalParams:e}=e,r=((e,t)=>{if(!e||!t)return e;t={"partner-id":"number"==typeof t.partnerId?String(t.partnerId):t.partnerId,"video-category-id":"number"==typeof t.category?String(t.category):t.category,"imp-id":String(t.impId),gzip:"1"};return Object(je.b)(e,t,{override:!0,saveOriginalPath:!0})})(t,r);return e?Object(je.b)(Object(je.b)(r,{from:e.from},{override:!0,saveOriginalPath:!0}),e,{override:!1,saveOriginalPath:!0}):r}function p(e){if(!(e=void 0===e?window:e).navigator)return Object(O.h)(NaN);var{connection:e={}}=e.navigator;return e.rtt||Object(O.h)(NaN)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){const t={};for(const i in e=void 0===e?{}:e){var r=e[i],n=typeof r;"string"!=n&&"number"!=n&&"boolean"!=n||(t[i]=r)}return t}function o(){var e=window.navigator||{},t=window.performance||{},{location:r,referrer:n}=Object(Ve.a)(document);return{navigator:i({},a(e),{connection:a(e.connection),plugins:void 0===(e=window.navigator.plugins)||0===e.length?[]:Object(Fe.a)(e,a)}),performance:{memory:a(t.memory)},playerLocation:location.href,iframeApiLocation:r,iframeApiReferrer:n}}function s(e){return[...e.hash.substr(1).split("&"),...e.search.substr(1).split("&")].reduce((e,t)=>{const[r,n]=t.split("=");return void 0!==n&&(e[r]=decodeURIComponent(n.replace(/\+/g," "))),e},{})}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t,r){if((r=void 0===r?window:r).history&&!(-1<He.a&&He.a<=15)){t=((e,t,r)=>{const n=c({},s(e));n.mq_url=void 0,n.lq_url=void 0,n.hq_url=void 0,n.hd_url=void 0,n.stream_url=r?Object(Ke.f)(r,["vsid","adsid","partner-id","video-category-id","imp-id","gzip"]):"",n.additional_params="object"==typeof t.additionalParams?JSON.stringify(t.additionalParams):void 0;var{adConfig:r={}}=t;return n.partner_id=Ye(r.partnerId),n.category=Ye(r.category),n.imp_id=Ye(r.impId),n.distr_id=Ye(r.distrId),n.video_content_id=Ye(r.videoContentId),n.video_content_name=Ye(r.videoContentName),n.video_publisher_id=Ye(r.videoPublisherId),n.video_publisher_name=Ye(r.videoPublisherName),n.video_genre_id=Ye(r.videoGenreId),n.video_genre_name=Ye(r.videoGenreName),n.start_position=Ye(t.startPosition),n.loop=Ye(t.loop),n.with_credentials=Ye(t.withCredentials),n.preview=Ye(t.preview),n.host=e.hostname,n})(r.location,e,t),t=Object(Ke.c)(r.location.href.split("?")[0].split("#")[0],t);try{r.history.replaceState(void 0,"",t)}catch(e){}}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}x.r(t),x(360);var h=x(133),B=x(22),f=x(303);x(423),x(464),x(471),x(473),x(389),x(492),x(493),x(495),Object(f.b)();var v=x(85),y=x(114),m=x(47),g=x(4),H=x(2),E=x(55),A=x(75),T=x(163),S=x(16),_=x(37),b=x(56),K=x(8),O=x(0),R=x(160),P=x.n(R),w=x(405),C=x.n(w),t=x(49),I=x.n(t),N=x(52),f=x(215),R=x(305);const k=Object(R.a)(),L=N.a?f.a:!k;var Y=x(26),D=x(87),j=x(64),M=x(292),G=x(103),W=x(161),Z=x(39),z=x(43);var q=x(169),X=x(15),Q=x(308),J=x(313);class ${constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new S.a,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{var e=Object(Q.a)(this.win,this.video);this.setFullscreenElement(e)},this.win=e,(this.video=t)&&N.a&&(this.onDestroy.addOne(Object(X.a)(t,"webkitbeginfullscreen",()=>{this.setFullscreenElement(t)})),this.onDestroy.addOne(Object(X.a)(t,"webkitendfullscreen",()=>{this.setFullscreenElement(null)}))),this.names=Object(J.a)(e,t),this.names&&(this.onDestroy.addOne(Object(X.a)(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error("Fullscreen is not supported");var r=this.names["request"];if(!(r in e))throw new this.win.Error("Fullscreen is not supported");e[r](t)}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error("Fullscreen is not supported");(this.video&&this.fullscreenElement===this.video?this.video:this.win.document)[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!=typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(t){this.handlers=this.handlers.filter(e=>e!==t)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(t){this.fullscreenElement=t,this.handlers.forEach(e=>e(t))}}var ee,te=x(117),re=x(19),ne=x(3);(w=ee=ee||{}).PiP="PiP",w.YaBroEarly="YaBroEarly",w.YaBroAttrCurrent="YaBroAttrCurrent",w.YaBroAttrLegacy="YaBroAttrLegacy",w.OperaPopOut="OperaPopOut",w.SafariPresentationMode="SafariPresentationMode";const ie={[ee.PiP]:{isSupported:e=>"pictureInPictureEnabled"in e.document&&!Object(te.a)(e),getCurrent:e=>e.document.pictureInPictureElement,observe:(e,t,r)=>t?(t.addEventListener("enterpictureinpicture",r),t.addEventListener("leavepictureinpicture",r),()=>{t.removeEventListener("enterpictureinpicture",r),t.removeEventListener("leavepictureinpicture",r)}):ne.a},[ee.YaBroEarly]:{isSupported:(e,t)=>"broughtOut"in t,getCurrent:(e,t)=>t&&"broughtOut"in t&&t.broughtOut?t:null,observe:(e,t,r)=>t?(t.addEventListener("oowvideobringin",r),t.addEventListener("oowvideobringout",r),()=>{t.removeEventListener("oowvideobringin",r),t.removeEventListener("oowvideobringout",r)}):ne.a},[ee.YaBroAttrCurrent]:{isSupported:e=>{var t=r(e);return Object(te.a)(e)&&18<=t.major&&6<=t.minor}},[ee.YaBroAttrLegacy]:{isSupported:e=>{var t=r(e);return Object(te.a)(e)&&t.major<18}},[ee.SafariPresentationMode]:{isSupported:(e,t)=>"webkitPresentationMode"in t,getCurrent:(e,t)=>t&&"picture-in-picture"===t.webkitPresentationMode?t:null,observe:(e,t,r)=>t?(t.addEventListener("webkitpresentationmodechanged",r),()=>t.removeEventListener("webkitpresentationmodechanged",r)):ne.a},[ee.OperaPopOut]:{isSupported:(e,t)=>"onoperadetachedviewcontrol"in t&&"onoperadetachedviewchange"in t}},ae=[ee.PiP,ee.YaBroEarly,ee.YaBroAttrCurrent,ee.YaBroAttrLegacy,ee.SafariPresentationMode,ee.OperaPopOut];class oe{constructor(t,r){void 0===t&&(t=window),this.onChange=new S.a,this.api=null,this.apiName=null,this.currentElement=null,this.unsubscribeFromApi=ne.a,this.handlePipEvent=e=>{e=e.target||void 0;this.digestCurrentElement(e),this.onChange.dispatch(this.currentElement)},this.window=t;var n=r||window.HTMLVideoElement.prototype;for(let e=0;e<ae.length;e++){const r=ae[e],i=ie[r];try{if(i.isSupported(this.window,n)){this.api=i,this.apiName=r;break}}catch(t){}}this.digestCurrentElement(r),this.api&&this.api.observe&&(this.unsubscribeFromApi=this.api.observe(this.window,r,this.handlePipEvent))}getSupportedApiName(){return this.apiName}getCurrentElement(){return this.currentElement}addHandler(e){return this.api&&this.api.observe?this.onChange.add(e):null}destroy(){this.currentElement=null,this.onChange.removeAll(),this.unsubscribeFromApi()}digestCurrentElement(e){this.api&&this.api.getCurrent&&(this.currentElement=this.api.getCurrent(this.window,e))}}var t=x(252),R=x(254),f=x(287),se=x(253),w=x(196);let ce=null;try{"undefined"!=typeof IntersectionObserver&&(ce=t.a.from(f.a.factory,R.a.factory))}catch(e){}const de=Object(w.a)();class le{constructor(e){this.isSupportedPipMode=!0,this.isYandexPipMode=!1,this.isVisibilitySupported=Boolean(ce),this.window=void 0,this.element=void 0,this.fullscreenApi=void 0,this.pipApi=void 0,this.video=void 0,this.onChange=new S.a,this.onDestroy=new S.a,this.state={isPip:!1,isFullScreen:!1,isVisible:!0},this.observe=e=>this.onChange.add(e),this.fireVisualStateHandlers=()=>{var{isPip:e,isVisible:t,isFullScreen:r}=this.state;this.onChange.dispatch({isPip:e,isVisible:t,isFullScreen:r,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode})},this.handleVisibilityChange=e=>{this.state.isVisible=e,this.fireVisualStateHandlers()},this.handlePipChange=e=>{this.state.isPip=Boolean(e),this.fireVisualStateHandlers()},this.handleFullscreenChange=e=>{var t=de?this.video:this.element;this.state.isFullScreen=t===e,this.fireVisualStateHandlers()},this.element=e,this.window=Object(se.a)(this.element)}setVideoElement(e){void 0===this.video&&(this.video=e,this.observeFullscreen(),this.observePip())}setExternalVisibility(e){this.handleVisibilityChange(e)}change(e){e.isFullScreen!==this.state.isFullScreen&&(e.isFullScreen?this.fullscreenApi.requestFullscreenForElement(de?this.video:this.element,{navigationUI:"hide"}):this.fullscreenApi.exit())}destroy(){this.onDestroy.dispatch(void 0),this.onDestroy.removeAll()}getState(){var{isPip:e,isVisible:t,isFullScreen:r}=this.state;return{isPip:e,isVisible:t,isFullScreen:r,isSupportedPipMode:this.isSupportedPipMode,isVisibilitySupported:this.isVisibilitySupported,isYandexPipMode:this.isYandexPipMode}}observePip(){this.pipApi=new oe(Object(se.a)(this.video),this.video),this.pipApi.addHandler(this.handlePipChange),this.onDestroy.add(()=>{this.pipApi.destroy()});var e=this.pipApi.getSupportedApiName();this.isSupportedPipMode=e!==ee.OperaPopOut,this.isYandexPipMode=e===ee.YaBroAttrCurrent||e===ee.YaBroAttrLegacy}observeFullscreen(){this.fullscreenApi=new $(this.window,this.video),this.fullscreenApi.addHandler(this.handleFullscreenChange),this.onDestroy.add(()=>{this.fullscreenApi.destroy()})}}var ue=x(57),he=x(59),fe=x(63);"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value(){const t={};return Object(B.a)(()=>{Object.getOwnPropertyNames(this).forEach(function(e){t[e]=this[e]},this)}),t},configurable:!0,writable:!0});var pe=x(35),ve=x(107),ye=x(282),me=x(192);const ge=Object(O.h)(1e4),Ee=Object(O.h)(1e3),Ae=Object(O.h)(5e3),Te=Object(O.h)(3e4);class Se extends _.a{constructor(e){super(),this.props=e,this.timer=new me.b(e=>{var e=e["time"];return this.writeState(),0<e&&(e===ge||e%Te==0)&&this.flushStates(),e<ge?Ee:Ae}),this.states=[],this.prevState=void 0,this.timer.start()}destroy(){super.destroy(),this.timer.destroy(),this.flushStates()}getStates(){return[...this.states]}flushStates(){var e=this.getStates();0<e.length&&this.props.onFlushStates(e),this.states.length=0}writeState(){var e=this.props.getState();void 0!==e&&(I()(this.prevState,e)||(this.prevState=e,this.states.push(n({},e,{timestamp:Object(O.h)(Date.now())}))))}}const _e=/\/(kal|stream)\/([0-9A-Za-z-_]+?)\//,be=/\/([0-9A-Za-z-_]+?)-vod\//,Oe=/\/vh-([0-9A-Za-z-_]+?)-converted\//;var Re=x(67),Pe=x(151);const we=[0,1,4,5];let Ce=Object(O.j)(0);const Ie=we.map(e=>(Ce=Object(O.a)(Object(O.j)(e),Ce),Ce)),Ne=Object(O.c)(Ie[Ie.length-1],1e3),ke=[ue.a.Init];class Le{constructor(e){this.getPlayerExpectedStalled=e,this.onSendStalled=new S.a,this.isBuffering=!1,this.timer=void 0,this.stalledId=1,this.currentStalled=void 0,this.stalledTime=Object(O.j)(0),this.stalledCount=0}setBuffering(e){if(e!==this.isBuffering)if(this.isBuffering=e,this.isBuffering)this.timer=new me.b(e=>{var t=e["count"],e=this.getExpectedStalled();if(0<t){const r=Object(O.j)(Ie[t-1]),n=this.currentStalled?this.currentStalled.id:this.stalledId++;this.currentStalled||this.stalledCount++,this.currentStalled={id:n,expectedStalled:e,duration:r,getElapsedTime:Object(Pe.a)()},this.send(!1,e,r,n)}return t>=we.length?(this.destroyTimer(),1/0):1e3*we[t]}),this.timer.start();else{if(this.currentStalled){const{expectedStalled:t,id:r}=this.currentStalled,n=void 0===(e=this.currentStalled)?Object(O.j)(0):Object(O.a)(e.duration,Object(O.b)(e.getElapsedTime(),1e3));this.send(!0,t,n,r),this.currentStalled=void 0,this.stalledTime=Object(O.a)(n,this.stalledTime)}this.destroyTimer()}}getStalledHistory(){var{stalledCount:e,stalledTime:t}=this;return{stalledCount:e,stalledTime:t}}clearStalledHistory(){this.stalledCount=0,this.stalledTime=Object(O.j)(0)}destroy(){this.destroyTimer()}isExpiredStalled(e){const{getElapsedTime:t,reason:r}=e;return!(-1<ke.indexOf(r))&&(!this.currentStalled||this.currentStalled.expectedStalled!==e)&&t()>=Ne}getExpectedStalled(){var e=this.getPlayerExpectedStalled();return this.isExpiredStalled(e)?Object(fe.a)(ue.a.Other,void 0):e}destroyTimer(){this.timer&&(this.timer.destroy(),this.timer=void 0)}send(e,t,r,n){var{reason:i,details:t}=t;this.onSendStalled.dispatch({id:n,isStalledEnd:e,reason:i,details:t,stalledDuration:r})}}var De=x(36),je=x(12),Me=x(7),xe=x(406),Fe=x(51),Ve=x(140);x(14),x(138),x(302),x(361),x(198),x(73).a,x(48);var Ue=x(251),Be=x(94),He=x(167),Ke=x(76);const Ye=e=>void 0===e?void 0:String(e);var Ge=x(127);class We extends S.a{}class Ze extends b.a{}const ze={sourceId:NaN,data:void 0};class qe extends _.a{constructor(e,t,r,n,i,a){super(),this.stats=e,this.container=t,this.vsid=r,this.iFrameParameters=n,this.streamPlayerUrl=i,this.externalRequestController=a,this.isReady=!1,this.readyPromise=void 0,this.onInitError=new We,this.onError=new We,this.onChangeStream=new We,this.onStateChange=new We,this.onSeek=new We,this.onAdStateChange=new We,this.onAdPodStart=new We,this.onDurationChange=new Ze({sourceId:NaN,data:Object(O.j)(NaN)},I.a),this.onCurrentTimeChange=new Ze({sourceId:NaN,data:NaN},I.a),this.onFullScreenChange=new We,this.onVolumeChange=new We,this.onUserAction=new We,this.onVideoTypeChange=new We,this.onFeatureEvent=new We,this.onErrorScreenVisibilityChange=new We,this.onSkinReady=new We,this.onContentImpression=new We,this.onAdSDKVersionDefined=new We,this.onResourcesIdle=new We,this.onSetSourceRequest=new We,this.onVisualStateChange=new We,this.onSaveDataOutsideIframe=new We,this.onBufferingRangesChange=new We,this.onStartStageChange=new We,this.onVideoSizeChange=new We,this.onVideoReadyStateChange=new We,this.onLogoWidgetActionCall=new We,this.onNextAdRemainingTimeChange=new We,this.onStreamsWithSupportInfoChange=new We,this.onEngineChange=new We,this.onVideoTrackChange=new We,this.onVideoTracksChange=new We,this.onAudioTrackChange=new We,this.onAudioTracksChange=new We,this.onTextTrackChange=new We,this.onTextTracksChange=new We,this.onPlaybackRateChange=new We,this.onSubtitlesChange=new We,this.onThumbnailTileGeneralMetaInfoChange=new We,this.onOriginalBroadcastAdStateChange=new We,this.onVideoClickerEvent=new We,this.visualState=void 0,this.state=void 0,this.htmlPlayerApi=void 0,this.onPlayerStateChange=new We,this.stalledController=void 0,this.playerAliveController=void 0,this.playingStateReason=ve.a.Unknown,this.additionalParams=void 0,this.isAdblockDetected=D.a,this.callFeatureAction=e=>{if(!this.isReady)throw new H.a("callFeatureAction: Player is not ready");this.htmlPlayerApi.dispatchFeatureAction(e)};const{additionalParams:o,adConfig:s}=n.source,c=s.partnerId||s.adBreaks?s:void 0;this.additionalParams=Object(Ge.a)(o,this.stats),n.source.streams=n.source.streams.map(e=>U({},e,{url:d({url:e.url,adConfig:c,additionalParams:this.additionalParams})}));var[a]=this.iFrameParameters.source.streams;this.stats.setRootFields({vsid:r,adsid:o?o.adsid:void 0,videoContentId:n.source.videoInfo.videoContentId,device:this.iFrameParameters.device});var{from:r=G.a}=o||{};this.stats.setLabels({from:r}),this.state={playingState:De.a.UNSTARTED,startPosition:n.source.startPosition,env:n.env,withCredentials:n.source.withCredentials,preview:n.source.preview,stream:a,adConfig:Object(Be.a)(c||{}),adState:ye.a},this.onPlayerStateChange.add(e=>{var{sourceId:t,data:e}=e;this.state.playingState!==e&&(this.state.playingState=e,this.onStateChange.dispatch({sourceId:t,data:{playingState:e,reason:this.playingStateReason}}),this.playingStateReason=ve.a.Unknown)}),this.visualState=new le(this.container),this.readyPromise=this.createHTMLPlayer().then(()=>{this.isReady=!0}).catch(e=>{throw this.onInitError.dispatch({sourceId:this.getSourceId(),data:new H.a(e)}),e}),this.onAdStateChange.add(e=>{var t=e["data"],{adState:r,playingState:e}=this.state;r.state===z.a.NOT_PLAYING&&t.state===z.a.PLAYING&&this.stalledController.setBuffering(!1),r.state===z.a.PLAYING&&t.state===z.a.NOT_PLAYING&&e===De.a.BUFFERING&&this.stalledController.setBuffering(!0),r.state!==t.state&&(this.playingStateReason=ve.a.Unknown),this.state.adState=t}),this.playerAliveController=this.setupPlayerAliveController(),this.addDestroyHandler(()=>{this.externalRequestController.destroy()}),this.stalledController=new Le(()=>this.htmlPlayerApi?this.htmlPlayerApi.getExpectedStalled():Object(fe.a)(ue.a.Other,void 0))}play(e){if(!this.isReady)throw new H.a("Play method: Player is not ready");this.playingStateReason=e,this.htmlPlayerApi.play()}pause(e){if(!this.isReady)throw new H.a("Pause method: Player is not ready");this.playingStateReason=e,this.htmlPlayerApi.pause()}seek(e){if("number"!=typeof e)throw new H.a("seek method receive a number");this.readyPromise.then(()=>{this.htmlPlayerApi.seek({videoTime:e})})}setPlaybackRate(e){this.isReady&&this.htmlPlayerApi.setPlaybackRate(e)}setSource(n,e){let{adSessionIdConfig:i,shouldSaveProgress:a}=e;if(!n)throw new H.a("setSource method receives an object");this.playerAliveController.flushStates(),this.stalledController.clearStalledHistory(),this.state.adConfig=void 0===n.adConfig?void 0:Object(Be.a)(n.adConfig),this.state.startPosition=n.startPosition,this.state.withCredentials=n.withCredentials,this.state.stream=n.streams[0],this.state.preview=n.preview;var e=n["additionalParams"];if(this.stats.setRootFields({adsid:e?e.adsid:void 0,videoContentId:n.videoInfo.videoContentId}),e){this.additionalParams=e;const{from:n=G.a}=e;this.stats.setLabels({from:n})}n.streams=n.streams.map(e=>U({},e,{url:d({url:e.url,adConfig:this.state.adConfig,additionalParams:this.additionalParams})})),this.readyPromise.then(()=>{V(n,n.streams[0].url);var{streams:e,shareConfig:t}=n,r=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(n,["trackings","streams","shareConfig"]);this.htmlPlayerApi.setSource({streams:e,params:U({},r,{startPosition:{videoTime:n.startPosition},shareConfig:t})},{shouldSaveProgress:a,adSessionIdConfig:i})}).catch(e=>{this.onError.dispatch({sourceId:this.getSourceId(),data:new H.a(e)})})}getDuration(){return void 0===this.htmlPlayerApi?j.a.duration:this.htmlPlayerApi.getDuration()}getCurrentTime(){return this.isReady?this.htmlPlayerApi.getCurrentTime():M.a}getUtcPosition(){if(this.isReady)return this.htmlPlayerApi.getUtcPosition();throw new H.a("getUtcPosition: Player is not ready")}getWatchedTime(){return void 0===this.htmlPlayerApi?Object(O.j)(0):this.htmlPlayerApi.getWatchedTime()}getAdSessionWatchedTime(){if(!this.isReady)throw new H.a("getAdSessionWatchedTime: Player is not ready");return this.htmlPlayerApi.getAdSessionWatchedTime()}getVideoPlaybackQuality(){if(!this.isReady)throw new H.a("getVideoPlaybackQuality: Player is not ready");return this.htmlPlayerApi.getVideoPlaybackQuality()}getVolume(){if(this.isReady)return this.htmlPlayerApi.getVolume();throw new H.a("getVolume: Player is not ready")}setHiddenControls(e){if(this.isReady)return this.htmlPlayerApi.setHiddenControls(e);throw new H.a("setHiddenControls: Player is not ready")}setVideoStyle(e){if(this.isReady)return this.htmlPlayerApi.setVideoStyle(e);throw new H.a("setVideoStyle: Player is not ready")}setPictureInPictureEnabled(e){if(!this.isReady)throw new H.a("setPictureInPictureEnabled: Player is not ready");this.htmlPlayerApi.setPictureInPictureEnabled(e)}setVolume(e){if(!this.isReady)throw new H.a("setVolume: Player is not ready");0<e&&this.htmlPlayerApi.setMuted(!1),this.htmlPlayerApi.setVolume(e)}setMuted(e){if(!this.isReady)throw new H.a("setMuted: Player is not ready");this.htmlPlayerApi.setMuted(e)}setVideoTrack(e){if(!this.isReady)throw new H.a("setVideoTrack: Player is not ready");this.htmlPlayerApi.setVideoTrack(e)}setAudioTrack(e){if(!this.isReady)throw new H.a("setAudioTrack: Player is not ready");this.htmlPlayerApi.setAudioTrack(e)}setTextTrack(e){if(!this.isReady)throw new H.a("setTextTrack: Player is not ready");this.htmlPlayerApi.setTextTrack(e)}setNativeTextTrackVisibility(e){if(!this.isReady)throw new H.a("setNativeTextTrackVisibility: Player is not ready");this.htmlPlayerApi.setNativeTextTrackVisibility(e)}setFullscreen(e){if(!this.isReady)throw new H.a("setFullscreen: Player is not ready");this.htmlPlayerApi.setFullscreen(e)}sendReportToStats(e){var{reportId:t,reported:e}=e;!function(e){let{reportId:t,reported:r,stats:n,reportData:i}=e;n.eventToStats("ReportLog",{reportId:t,reported:r,reportData:Object(Re.a)(i)})}({stats:this.stats,reportId:t,reported:e,reportData:this.getDebugInfo()})}sendReportToErrors(e){var e=e["reportId"];!function(e){let{reportId:t,reportData:r}=e;const n=r.stream?r.stream.url:null;Object(B.a)(()=>{window.Ya.Rum.logError({message:"ReportLog",additional:{sourceCode:function(e){if(null===e||0===e.length)return null;if(e.includes("cdn1tvru"))return"1tv";var t=Oe.exec(e);return null!==t&&void 0!==t[1]||null!==(t=be.exec(e))&&void 0!==t[1]?t[1]:null!==(e=_e.exec(e))&&void 0!==e[2]?e[2]:null}(n),reportId:t}})})}({reportId:e,reportData:this.getDebugInfo()})}async downloadDebugInfo(){var t=JSON.stringify(this.getDebugInfo());try{L?C()(E.a?t:new Blob([t]),"yandex-video-player-"+Date.now()+".json","text/plain"):await P()(t)}catch(e){this.stats.error({error:new m.a(e,{code:g.a.FAILED_TO_DOWNLOAD_DEBUG_INFO,isFatal:!1,details:t})})}}reportGlobalError(e,t){t=new m.a(e,{code:t,isFatal:!1});this.stats.error({error:t})}setTitleSettings(e){this.htmlPlayerApi.setTitleSettings(e)}getDebugInfo(){let e={};void 0!==this.htmlPlayerApi&&(e=this.htmlPlayerApi.getDebugInfo());var t=this.state["playingState"];return U({},e,this.state,{playingState:De.a[t],vsid:this.vsid,version:"1.0-6101",utcPosition:this.getUtcPosition(),currentTime:this.getCurrentTime(),system:o(),clientTimestamp:Date.now(),streamUrl:this.state.stream.url,internalInitialConfig:this.iFrameParameters})}stopAd(){return void 0===this.htmlPlayerApi?Promise.resolve():this.htmlPlayerApi.stopAd({stopAdReason:he.a.InsertIntoCalled,data:{loadPositionAfterAd:void 0}})}getPosition(){if(!this.isReady)throw new H.a("getTimelineInfo: Player is not ready");return{time:this.getCurrentTime(),utcTime:this.getUtcPosition(),watchedTime:this.getWatchedTime(),adSessionWatchedTime:this.getAdSessionWatchedTime(),videoPlaybackQuality:this.getVideoPlaybackQuality()}}setExternalVisualState(e){this.visualState.setExternalVisibility(e.isVisible)}getTimelineInfo(){if(!this.isReady)throw new H.a("getTimelineInfo: Player is not ready");return this.htmlPlayerApi.getTimelineInfo()}playInrollAd(){if(!this.isReady)throw new H.a("playInrollAd: Player is not ready");this.htmlPlayerApi.playInrollAd()}setLogoWidgetExpanded(e){this.readyPromise.then(()=>{this.htmlPlayerApi.setLogoWidgetExpanded(e)})}setLogoWidgetActionCompleted(e){this.readyPromise.then(()=>{this.htmlPlayerApi.setLogoWidgetActionCompleted(e)})}addPromoConfig(e){this.readyPromise.then(()=>this.htmlPlayerApi.addPromoConfig(e))}async createHTMLPlayer(){const{source:{loop:e,streams:t},featuresEnabled:r}=this.iFrameParameters,n=(this.streamPlayerUrl,this.container,x(513),await Promise.resolve(pe.b.createJsPlayer));this.stalledController.onSendStalled.add(e=>{const t=this["htmlPlayerApi"],r=e.isStalledEnd?"StalledEnd":"Stalled";let n,i;t&&(n=t.getRemainingBufferedTime(),i=t.getVideoTrack()),this.stats.eventToStats(r,U({},e.details,{stalledDuration:e.stalledDuration,remainingBufferedTime:n,videoTrack:i,stalledId:e.id,isMuted:this.htmlPlayerApi?this.htmlPlayerApi.getMuted():void 0}),{reason:e.reason,stalledDuration:e.isStalledEnd?void 0:String(e.stalledDuration)})});var{showBrandLogo:i,showBrandIntro:a,showBrandPlayButton:o,showUnmuteButtonForAll:s,featuresParams:c,allowMuted:d,togglePlaybackOnVisibilityChange:l,restoreTabSessionPlaybackProgress:u,startPositionConfirmation:h,source:{externalPlayerConfig:f,videoInfo:p,shareConfig:v,features:y,logoConfig:m,subtitles:g,logoWidgetConfig:E,promoConfig:A,preview:T},liveOffset:S,useFriendlyFrame:_,debug:b,autoplay:O,autoQuality:R,preload:P,volume:w,muted:C,maxBufferLength:I,preferNative:N,report:k,skinConfig:L,handleVideoTagClickWhenHidingNativeControls:D,shouldPlayOnFirstClick:j,maxRecoverAttempts:M}=this.iFrameParameters;this.htmlPlayerApi=await n(this.container,U({source:{streams:t,params:{startPosition:{videoTime:this.state.startPosition},additionalParams:this.additionalParams,adConfig:this.state.adConfig,promoConfig:A,withCredentials:this.state.withCredentials,loop:e,preview:T,logoConfig:m,logoWidgetConfig:E,shareConfig:v,features:function(e,t){if(!t)return e;const r=F({},e);return Object(Z.a)(t).forEach(e=>{var[t,e]=e;r[t]=F({},r[t],e)}),r}(c,y),externalPlayerConfig:f,videoInfo:p,subtitles:g}},debug:b.logInternals,hidden:Object(Y.c)(this.iFrameParameters.hidden),autoplay:O,allowMuted:d,autoQuality:R,preload:P,env:this.state.env,togglePlaybackOnVisibilityChange:l,restoreTabSessionPlaybackProgress:u,startPositionConfirmation:h,volume:w,muted:C,maxBufferLength:I,liveOffset:S,preferNative:N,report:k.enabled,showBrandLogo:i,showBrandIntro:a,showBrandPlayButton:o,showUnmuteButtonForAll:s,useFriendlyFrame:_,skinConfig:L,featuresEnabled:r,handleVideoTagClickWhenHidingNativeControls:D,shouldPlayOnFirstClick:j,maxRecoverAttempts:M},this.iFrameParameters.adSessionIdConfig,{callbacks:{onChangeStream:e=>{this.onChangeStream.dispatch({sourceId:this.getSourceId(),data:e}),e&&(V({preview:this.state.preview,adConfig:this.state.adConfig,additionalParams:this.additionalParams},e.url),this.state.stream=e)},onError:e=>{var t=Object(W.a)(e.code,this.isAdblockDetected);this.onError.dispatch({sourceId:this.getSourceId(),data:new H.a(U({},e,{messageDetails:t,message:t.title}))})},onRecover:e=>{this.stats.eventToStats("RecoverStreamError",{details:e,vsid:this.vsid})},onStateChange:e=>{if(e===K.a.BUFFERING){const e=this.state["adState"];e.state===z.a.NOT_PLAYING&&this.stalledController.setBuffering(!0)}else this.stalledController.setBuffering(!1);this.onPlayerStateChange.dispatch({sourceId:this.getSourceId(),data:Object(Ue.a)(e)})},onSeek:e=>this.onSeek.dispatch({sourceId:this.getSourceId(),data:e}),onAdStateChange:e=>{this.onAdStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onAdPodStart:()=>{this.onAdPodStart.dispatch({sourceId:this.getSourceId(),data:void 0})},onVideoTypeChange:e=>{this.onVideoTypeChange.dispatch({sourceId:this.getSourceId(),data:e})},onDurationChange:e=>this.onDurationChange.dispatch({sourceId:this.getSourceId(),data:e}),onCurrentTimeChange:e=>this.onCurrentTimeChange.dispatch({sourceId:this.getSourceId(),data:e}),onFullScreenChange:e=>this.onFullScreenChange.dispatch({sourceId:this.getSourceId(),data:e}),onVolumeChange:e=>{this.onVolumeChange.dispatch({sourceId:this.getSourceId(),data:e})},onUserAction:e=>{"DOWNLOAD_DEBUG"===(this.onUserAction.dispatch({sourceId:this.getSourceId(),data:e}),e.name)&&this.downloadDebugInfo()},onErrorScreenVisibilityChange:e=>this.onErrorScreenVisibilityChange.dispatch({sourceId:this.getSourceId(),data:e}),onVideoTrackChange:e=>this.onVideoTrackChange.dispatch({sourceId:this.getSourceId(),data:e}),onVideoTracksChange:e=>this.onVideoTracksChange.dispatch({sourceId:this.getSourceId(),data:e}),onAudioTrackChange:e=>this.onAudioTrackChange.dispatch({sourceId:this.getSourceId(),data:e}),onAudioTracksChange:e=>this.onAudioTracksChange.dispatch({sourceId:this.getSourceId(),data:e}),onTextTrackChange:e=>this.onTextTrackChange.dispatch({sourceId:this.getSourceId(),data:e}),onTextTracksChange:e=>this.onTextTracksChange.dispatch({sourceId:this.getSourceId(),data:e}),onSubtitlesChange:e=>this.onSubtitlesChange.dispatch({sourceId:this.getSourceId(),data:e}),onPlaybackRateChange:e=>this.onPlaybackRateChange.dispatch({sourceId:this.getSourceId(),data:e}),onThumbnailTileGeneralMetaInfoChange:e=>{this.onThumbnailTileGeneralMetaInfoChange.dispatch({sourceId:this.getSourceId(),data:e})},onOriginalBroadcastAdStateChange:e=>{this.onOriginalBroadcastAdStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onAdblockDetected:e=>{this.isAdblockDetected=e,Object(B.a)(()=>{window.Ya.Rum.updateErrors({blocker:e}),window.Ya.Rum.setVars({"-blocker":e}),Object(q.a)("2923",window.Ya.Rum.getTime(),!1,{[2923]:Number(e)})})},onFeatureEvent:e=>{this.onFeatureEvent.dispatch({sourceId:this.getSourceId(),data:e})},onSkinReady:()=>{this.onSkinReady.dispatch({sourceId:this.getSourceId(),data:void 0})},onContentImpression:e=>{this.onContentImpression.dispatch({sourceId:this.getSourceId(),data:e})},onResourcesIdle:()=>{this.onResourcesIdle.dispatch({sourceId:this.getSourceId(),data:void 0})},onSetSourceRequest:e=>{this.onSetSourceRequest.dispatch({sourceId:this.getSourceId(),data:e})},onVisualStateChange:e=>{this.onVisualStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onSaveDataOutsideIframe:e=>{this.onSaveDataOutsideIframe.dispatch({sourceId:this.getSourceId(),data:e})},onBufferingRangesChange:e=>{this.onBufferingRangesChange.dispatch({sourceId:this.getSourceId(),data:e})},onStartStageChange:e=>{this.onStartStageChange.dispatch({sourceId:this.getSourceId(),data:e})},onVideoSizeChange:e=>{this.onVideoSizeChange.dispatch({sourceId:this.getSourceId(),data:e})},onVideoReadyStateChange:e=>{this.onVideoReadyStateChange.dispatch({sourceId:this.getSourceId(),data:e})},onNextAdRemainingTimeChange:e=>{this.onNextAdRemainingTimeChange.dispatch({sourceId:this.getSourceId(),data:e})},onVideoClickerEvent:e=>{this.onVideoClickerEvent.dispatch({sourceId:this.getSourceId(),data:e})},logEvent:e=>{var{event:t,params:e}=e;this.stats.eventToStats(t,U({},e,{additionalParams:U({},this.additionalParams)}))},onLogoWidgetActionCall:()=>{this.onLogoWidgetActionCall.dispatch({sourceId:this.getSourceId(),data:void 0})},onAdSDKVersionDefined:e=>{this.stats.setRootFields(e),this.onAdSDKVersionDefined.dispatch({sourceId:this.getSourceId(),data:e})},onStreamsWithSupportInfoChange:e=>{this.onStreamsWithSupportInfoChange.dispatch({sourceId:this.getSourceId(),data:e})},onEngineChange:(e,t)=>{this.stats.setRootFields({engine:e}),this.onEngineChange.dispatch({sourceId:t,data:e})}}}),{visualState:this.visualState}),this.htmlPlayerApi.setExternalRequestController(this.externalRequestController),this.addDestroyHandler(this.htmlPlayerApi.destroy),Object(q.a)("3036")}setupPlayerAliveController(){var e=new Se({getState:()=>{const e=U({isVisible:Object(A.a)(document),remainingBufferedTime:Object(O.j)(0),state:K.a.BUFFERING,currentTime:this.getCurrentTime(),watchedTime:this.getWatchedTime(),duration:this.getDuration(),isMuted:this.iFrameParameters.muted},this.stalledController.getStalledHistory()),t=this["htmlPlayerApi"];if(void 0===t)return e;var r=t.getVideoTrack(),n=t.getAudioTrack(),{droppedVideoFrames:i,totalVideoFrames:a}=t.getVideoPlaybackQuality(),o=t.getDebugInfo()["state"],{videoWidth:s,videoHeight:c}=o.controller,d=t.getBandwidthEstimate(),l=t.getVideoTracks()[0],u=t.getMaxCapAllowedVideoTrack(),h=t.getLiveLatency(),f=t.getRemainingBufferedTime();return U({},e,{liveLatency:h,isMuted:o.controller.muted,ad:o.ad.adInfo&&o.ad.adInfo.adType||void 0,remainingBufferedTime:f.total,remainingVideoBufferedTime:f.video,remainingAudioBufferedTime:f.audio,state:t.getState(),auto:void 0===r?void 0:r.auto,width:s||void 0,height:c||void 0,bitrate:r&&r.bitrate?Object(O.c)(r.bitrate,1e3):void 0,maxWidth:l&&l.width?Object(O.i)(l.width):void 0,maxHeight:l&&l.height?Object(O.i)(l.height):void 0,capWidth:u&&u.width?Object(O.i)(u.width):void 0,capHeight:u&&u.height?Object(O.i)(u.height):void 0,audioBitrate:n&&n.bitrate?Object(O.c)(n.bitrate,1e3):void 0,audioTrack:n&&n.value||void 0,audioLang:n&&n.lang||void 0,droppedFrames:i||void 0,shownFrames:a-i||void 0,networkScore:function(e){if(void 0!==e){e=Object(xe.estimateConnection)(e,p(),{disable:!0});return e&&Object(Me.a)(e.score)&&Object(Me.a)(e.quality)?e:void 0}}(d),bandwidthEstimate:d,rtt:p()||void 0})},onFlushStates:e=>{this.stats.eventToStats("PlayerAlive",{states:e},void 0,{routeToJSTracer:!1})}});this.addDestroyHandler(()=>this.playerAliveController.destroy());var t=Object(T.a)(document,e=>{e||this.playerAliveController.flushStates()});return this.addDestroyHandler(t),e}getSourceId(){return this.htmlPlayerApi?this.htmlPlayerApi.getSourceId():NaN}}Object(pe.a)(window).playerJsLoaded=!0;w=x(235),b=x(221);let Xe;x(510),x(511),Object(b.a)()&&Object(w.a)({win:window,src:"https://yastatic.net/s3/home/rum/debug/blockstat.js"}),(_=Xe=Xe||{}).UNHANDLED_GLOBAL_ERROR="UNHANDLED_GLOBAL_ERROR",_.UNHANDLED_PROMISE_REJECTION="UNHANDLED_PROMISE_REJECTION";var Qe=x(236),b=x(238),Je=x(283),$e=x(312),et=(x(413),x(6));class tt{constructor(e){this.postMessenger=e,this.PROXY_KEYS=[{key:"Escape",keyCode:27}],document.addEventListener("keydown",e=>this.eventHandler(e)),document.addEventListener("keypress",e=>this.eventHandler(e)),document.addEventListener("keyup",e=>this.eventHandler(e))}eventHandler(t){var e;0!==this.PROXY_KEYS.filter(e=>e.key===t.key||e.keyCode===t.keyCode).length&&(e={event:t.type,keyCode:t.keyCode,charCode:t.charCode,key:t.key,code:t.code},this.postMessenger.sendEvent(et.a.onKeyEvent,l({},ze,{data:e})))}}var rt=x(18),w=x(186),nt=x(118),it=x(311),at=x(309),_=x(285);const ot=s(window.location),st=ot.vsid||Object(b.a)(),ct=Object(_.a)(st,ot.logUrl),dt=new w.a({id:st,sender:window.parent,receiver:window});(async()=>{const e=new Qe.a({sender:window.parent,receiver:window}),t="true"===ot.use_friendly_frame,r=await dt.sendRequest(rt.a.getConfig,void 0);r.source.streams[0]&&ct.setRootFields({streamUrl:r.source.streams[0].url}),dt.sendEvent(et.a.onInit,ze),new tt(dt);const n=t?window.parent.document.getElementById(Object(Je.a)(st)):document.getElementById("q");if(!n){const e=new H.a({code:g.a.PLAYER_CONTAINER_NOT_FOUND,isFatal:!0,details:r,message:"Player container was not found"});throw ct.errorToStats(e),e}Object(it.a)().forEach(e=>Object(at.a)(e,n));var i=function(){var{featuresEnabled:e,shouldLoadModern:t}={featuresEnabled:r.featuresEnabled,shouldLoadModern:nt.c&&nt.b},t=Object($e.a)({featuresEnabled:e,shouldLoadModern:t});return{js:"js/"+t+".js",css:"css/"+t+".css"}}();if(r.source.streams.some(e=>{var e=e["url"];return Object(y.a)(e)})){const e=Object(h.a)(window),t=document.createElement("link");t.rel="preconnect",t.href="https://strm.yandex.ru",e.appendChild(t)}const a=new qe(ct,n,st,r,i,e);a.readyPromise.then(()=>{dt.sendEvent(et.a.onReady,ze)}).catch(e=>{}),dt.onCommand.add(e=>{switch(e.commandName){case rt.a.pause:a.pause(e.params);break;case rt.a.play:a.play(e.params);break;case rt.a.seek:a.seek(e.params);break;case rt.a.setPlaybackRate:a.setPlaybackRate(e.params);break;case rt.a.setSource:var{sourceConfig:t,adSessionIdConfig:r,shouldSaveProgress:n}=e.params;t.streams[0]&&ct.setRootFields({streamUrl:t.streams[0].url}),a.setSource(t,{adSessionIdConfig:r,shouldSaveProgress:n});break;case rt.a.getPosition:e.sendAnswer(a.getPosition());break;case rt.a.setVolume:a.setVolume(e.params);break;case rt.a.setMuted:a.setMuted(e.params);break;case rt.a.setVideoTrack:a.setVideoTrack(e.params);break;case rt.a.setAudioTrack:a.setAudioTrack(e.params);break;case rt.a.setTextTrack:a.setTextTrack(e.params);break;case rt.a.setNativeTextTrackVisibility:a.setNativeTextTrackVisibility(e.params);break;case rt.a.setFullscreen:a.setFullscreen(e.params);break;case rt.a.setHiddenControls:a.setHiddenControls(e.params);break;case rt.a.setVideoStyle:a.setVideoStyle(e.params);break;case rt.a.setPictureInPictureEnabled:a.setPictureInPictureEnabled(e.params);break;case rt.a.sendReportToStats:var{reportId:n,reported:i}=e.params;a.sendReportToStats({reportId:n,reported:i}),a.sendReportToErrors({reportId:n,reported:i});break;case rt.a.callFeatureAction:a.callFeatureAction(e.params);break;case rt.a.setTitleSettings:a.setTitleSettings(e.params),e.sendAnswer(e.params);break;case rt.a.requestDebugInfo:e.sendAnswer(a.getDebugInfo());break;case rt.a.stopAd:a.stopAd().then(()=>{e.sendAnswer({})});break;case rt.a.playInrollAd:a.playInrollAd();break;case rt.a.destroy:var i=e.params["reason"];a.destroy(i),e.sendAnswer(e.params);break;case rt.a.setLogoWidgetExpanded:a.setLogoWidgetExpanded(e.params);break;case rt.a.setLogoWidgetActionCompleted:a.setLogoWidgetActionCompleted(e.params);break;case rt.a.setExternalVisualState:a.setExternalVisualState(e.params);break;case rt.a.addPromoConfig:a.addPromoConfig(e.params);break;default:throw new Error("IFrameApi Error: unexpected command in MessageEvent: "+e.commandName)}}),dt.onRequestAborted.add(e=>{ct.event({name:"PostMessengerRequestAborted",data:e})}),dt.onError.add(e=>{ct.errorToStats(new m.a(e,{code:g.a.INTERNAL_POST_MESSENGER_SEND_MESSAGE_ERROR,details:{},isFatal:!1}))}),a.onStateChange.add(e=>{dt.sendEvent(et.a.onStateChange,e)}),a.onSeek.add(e=>{a.isReady&&dt.sendEvent(et.a.onSeek,e)}),a.onDurationChange.add(e=>{a.isReady&&(dt.sendEvent(et.a.onDurationChange,e),dt.sendEvent(et.a.onTimelineInfoChange,{sourceId:e.sourceId,data:a.getTimelineInfo()}))}),a.onCurrentTimeChange.add(e=>{a.isReady&&(dt.sendEvent(et.a.onPositionChange,{sourceId:e.sourceId,data:a.getPosition()}),dt.sendEvent(et.a.onTimelineInfoChange,{sourceId:e.sourceId,data:a.getTimelineInfo()}))}),a.onFullScreenChange.add(e=>{a.isReady&&dt.sendEvent(et.a.onFullScreenChange,e)}),a.onVolumeChange.add(e=>{dt.sendEvent(et.a.onVolumeChange,e)}),a.onAdStateChange.add(e=>{dt.sendEvent(et.a.onAdStateChange,e)}),a.onAdPodStart.add(e=>{dt.sendEvent(et.a.onAdPodStart,e)}),a.onInitError.add(e=>{const t=e["data"];dt.sendEvent(et.a.onInitError,u({},e,{data:t.toJSON()}))}),a.onError.add(e=>{const t=e["data"];dt.sendEvent(et.a.onError,u({},e,{data:t.toJSON()}))}),a.onUserAction.add(e=>{dt.sendEvent(et.a.onUserAction,e)}),a.onErrorScreenVisibilityChange.add(e=>{dt.sendEvent(et.a.onErrorScreenVisibilityChange,e)}),Object(B.a)(()=>{window.Ya.Rum.updateErrors({onError:e=>{const{message:t,stack:r}=e;a.reportGlobalError({message:t,stack:r},0===t.indexOf("Unhandled rejection")?Xe.UNHANDLED_PROMISE_REJECTION:Xe.UNHANDLED_GLOBAL_ERROR)}})}),a.onVideoTrackChange.add(e=>{dt.sendEvent(et.a.onVideoTrackChange,e)}),a.onVideoTracksChange.add(e=>{dt.sendEvent(et.a.onVideoTracksChange,e)}),a.onAudioTrackChange.add(e=>{dt.sendEvent(et.a.onAudioTrackChange,e)}),a.onAudioTracksChange.add(e=>{dt.sendEvent(et.a.onAudioTracksChange,e)}),a.onTextTrackChange.add(e=>{dt.sendEvent(et.a.onTextTrackChange,e)}),a.onTextTracksChange.add(e=>{dt.sendEvent(et.a.onTextTracksChange,e)}),a.onPlaybackRateChange.add(e=>{dt.sendEvent(et.a.onPlaybackRateChange,e)}),a.onSubtitlesChange.add(e=>{dt.sendEvent(et.a.onSubtitlesChange,e)}),a.onThumbnailTileGeneralMetaInfoChange.add(e=>{dt.sendEvent(et.a.onThumbnailTileGeneralMetaInfoChange,e)}),a.onVideoTypeChange.add(e=>{dt.sendEvent(et.a.onVideoTypeChange,e)}),a.onOriginalBroadcastAdStateChange.add(e=>{dt.sendEvent(et.a.onOriginalBroadcastAdStateChange,e)}),a.onChangeStream.add(e=>{var t=e["data"];t&&ct.setRootFields({streamUrl:t.url}),dt.sendEvent(et.a.onChangeStream,e)}),a.onStreamsWithSupportInfoChange.add(e=>{dt.sendEvent(et.a.onStreamsWithSupportInfoChange,e)}),a.onEngineChange.add(e=>{dt.sendEvent(et.a.onEngineChange,e)}),a.onFeatureEvent.add(e=>{dt.sendEvent(et.a.onFeatureEvent,e)}),a.onSkinReady.add(e=>{dt.sendEvent(et.a.onSkinReady,e)}),a.onContentImpression.add(e=>{dt.sendEvent(et.a.onContentImpression,e)}),a.onResourcesIdle.add(e=>{dt.sendEvent(et.a.onResourcesIdle,e)}),a.onSetSourceRequest.add(e=>{dt.sendEvent(et.a.onSetSourceRequest,e)}),a.onVisualStateChange.add(e=>{dt.sendEvent(et.a.onVisualStateChange,e)}),a.onSaveDataOutsideIframe.add(e=>{dt.sendEvent(et.a.onSaveDataOutsideIframe,e)}),a.onBufferingRangesChange.add(e=>{dt.sendEvent(et.a.onBufferingRangesChange,e)}),a.onStartStageChange.add(e=>{dt.sendEvent(et.a.onStartStageChange,e)}),a.onVideoSizeChange.add(e=>{dt.sendEvent(et.a.onVideoSizeChange,e)}),a.onVideoReadyStateChange.add(e=>{dt.sendEvent(et.a.onVideoReadyStateChange,e)}),a.onNextAdRemainingTimeChange.add(e=>{dt.sendEvent(et.a.onNextAdRemainingTimeChange,e)}),a.onVideoClickerEvent.add(e=>{dt.sendEvent(et.a.onVideoClickerEvent,e)}),a.onLogoWidgetActionCall.add(e=>{dt.sendEvent(et.a.onLogoWidgetActionCall,e)}),a.onAdSDKVersionDefined.add(e=>{dt.sendEvent(et.a.onAdSDKVersionDefined,e)}),Object(v.b)("detect.visibility"),dt.sendRequest(rt.a.getExternalVisualState,void 0).then(e=>{a.setExternalVisualState(e),Object(v.a)("detect.visibility")})})().catch(e=>{const t=new m.a(e,{isFatal:!0});dt.sendEvent(et.a.onInitError,{sourceId:1,data:t.toJSON()})})},function(e,t,r){"use strict";function n(){const e=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n}r.r(t),r.d(t,"isSupported",function(){return n})}]);

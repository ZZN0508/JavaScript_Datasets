!function(r){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=r,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=183)}([function(e,t,r){"use strict";r.r(t),r.d(t,"deepAccess",function(){return c}),r.d(t,"deepSetValue",function(){return p}),r.d(t,"internal",function(){return v}),r.d(t,"bind",function(){return h}),r.d(t,"getUniqueIdentifierStr",function(){return S}),r.d(t,"generateUUID",function(){return A}),r.d(t,"getBidIdParameter",function(){return _}),r.d(t,"tryAppendQueryString",function(){return E}),r.d(t,"parseQueryStringParameters",function(){return T}),r.d(t,"transformAdServerTargetingObj",function(){return w}),r.d(t,"getAdUnitSizes",function(){return O}),r.d(t,"parseSizesInput",function(){return x}),r.d(t,"parseGPTSingleSizeArray",function(){return C}),r.d(t,"parseGPTSingleSizeArrayToRtbSize",function(){return j}),r.d(t,"getWindowTop",function(){return R}),r.d(t,"getWindowSelf",function(){return k}),r.d(t,"getWindowLocation",function(){return U}),r.d(t,"logMessage",function(){return D}),r.d(t,"logInfo",function(){return B}),r.d(t,"logWarn",function(){return N}),r.d(t,"logError",function(){return z}),r.d(t,"hasConsoleLogger",function(){return q}),r.d(t,"debugTurnedOn",function(){return F}),r.d(t,"createInvisibleIframe",function(){return W}),r.d(t,"getParameterByName",function(){return G}),r.d(t,"isA",function(){return V}),r.d(t,"isFn",function(){return L}),r.d(t,"isStr",function(){return H}),r.d(t,"isArray",function(){return Y}),r.d(t,"isNumber",function(){return K}),r.d(t,"isPlainObject",function(){return J}),r.d(t,"isBoolean",function(){return X}),r.d(t,"isEmpty",function(){return $}),r.d(t,"isEmptyStr",function(){return Q}),r.d(t,"_each",function(){return Z}),r.d(t,"contains",function(){return ee}),r.d(t,"_map",function(){return te}),r.d(t,"hasOwn",function(){return re}),r.d(t,"insertElement",function(){return ne}),r.d(t,"triggerPixel",function(){return ie}),r.d(t,"callBurl",function(){return oe}),r.d(t,"insertHtmlIntoIframe",function(){return ae}),r.d(t,"insertUserSyncIframe",function(){return se}),r.d(t,"createTrackPixelHtml",function(){return de}),r.d(t,"createTrackPixelIframeHtml",function(){return ce}),r.d(t,"getValueString",function(){return ue}),r.d(t,"uniques",function(){return pe}),r.d(t,"flatten",function(){return le}),r.d(t,"getBidRequest",function(){return fe}),r.d(t,"getKeys",function(){return ge}),r.d(t,"getValue",function(){return me}),r.d(t,"getKeyByValue",function(){return be}),r.d(t,"getBidderCodes",function(){return ye}),r.d(t,"isGptPubadsDefined",function(){return ve}),r.d(t,"getHighestCpm",function(){return he}),r.d(t,"getOldestHighestCpmBid",function(){return Ie}),r.d(t,"getLatestHighestCpmBid",function(){return Se}),r.d(t,"shuffle",function(){return _e}),r.d(t,"adUnitsFilter",function(){return Ee}),r.d(t,"deepClone",function(){return Te}),r.d(t,"inIframe",function(){return we}),r.d(t,"isSafariBrowser",function(){return Oe}),r.d(t,"replaceAuctionPrice",function(){return xe}),r.d(t,"timestamp",function(){return Ce}),r.d(t,"hasDeviceAccess",function(){return je}),r.d(t,"checkCookieSupport",function(){return Pe}),r.d(t,"delayExecution",function(){return Re}),r.d(t,"groupBy",function(){return ke}),r.d(t,"getDefinedParams",function(){return Ue}),r.d(t,"isValidMediaTypes",function(){return De}),r.d(t,"getBidderRequest",function(){return Be}),r.d(t,"getUserConfiguredParams",function(){return Ne}),r.d(t,"getOrigin",function(){return ze}),r.d(t,"getDNT",function(){return Me}),r.d(t,"isAdUnitCodeMatchingSlot",function(){return Fe}),r.d(t,"isSlotMatchingAdUnitCode",function(){return We}),r.d(t,"getGptSlotInfoForAdUnitCode",function(){return Ge}),r.d(t,"unsupportedBidderMessage",function(){return Ve}),r.d(t,"isInteger",function(){return Le}),r.d(t,"convertCamelToUnderscore",function(){return He}),r.d(t,"cleanObj",function(){return Ye}),r.d(t,"pick",function(){return Ke}),r.d(t,"transformBidderParamKeywords",function(){return Je}),r.d(t,"convertTypes",function(){return Xe}),r.d(t,"isArrayOfNums",function(){return $e}),r.d(t,"fill",function(){return Qe}),r.d(t,"chunk",function(){return Ze}),r.d(t,"getMinValueFromArray",function(){return et}),r.d(t,"getMaxValueFromArray",function(){return tt}),r.d(t,"compareOn",function(){return rt}),r.d(t,"parseQS",function(){return nt}),r.d(t,"formatQS",function(){return it}),r.d(t,"parseUrl",function(){return ot}),r.d(t,"buildUrl",function(){return at}),r.d(t,"deepEqual",function(){return st}),r.d(t,"mergeDeep",function(){return dt});var d=r(3),n=r(2),t=r(93),i=r.n(t),t=r(94),o=r.n(t),t=r(5),a=r.n(t),t=r(4),s=r.n(t);function c(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}var u,p=function(e,t,r){for(var n,i=0,o=(t=t.split?t.split("."):t).length,a=e;i<o;++i)n=a[t[i]],a=a[t[i]]=i===o-1?r:null!=n?n:!~t[i+1].indexOf(".")&&-1<+t[i+1]?[]:{}},l=r(7),f=Object.prototype.toString,r=Boolean(window.console),g=Boolean(r&&window.console.log),m=Boolean(r&&window.console.info),b=Boolean(r&&window.console.warn),y=Boolean(r&&window.console.error),v={checkCookieSupport:Pe,createTrackPixelIframeHtml:ce,getWindowSelf:k,getWindowTop:R,getWindowLocation:U,insertUserSyncIframe:se,insertElement:ne,isFn:L,triggerPixel:ie,logError:z,logWarn:N,logMessage:D,logInfo:B,parseQS:nt,formatQS:it,deepEqual:st},r={},h=function(e,t){return t}.bind(null,1,r)()===r?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},I=(u=0,function(){return++u});function S(){return I()+Math.random().toString(16).substr(2)}function A(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,A)}function _(e,t){return t&&t[e]?t[e]:""}function E(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e}function T(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+=t+"="+encodeURIComponent(e[t])+"&");return r.replace(/&$/,"")}function w(t){return t&&0<Object.getOwnPropertyNames(t).length?ge(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&"):""}function O(e){if(e){var t,r=[];return e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(t=e.mediaTypes.banner.sizes,Array.isArray(t[0])?r=t:r.push(t)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?r=e.sizes:r.push(e.sizes)),r}}function x(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)re(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"==typeof e){var o=e.length;if(0<o)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(C(e));else for(var a=0;a<o;a++)t.push(C(e[a]))}return t}function C(e){if(P(e))return e[0]+"x"+e[1]}function j(e){if(P(e))return{w:e[0],h:e[1]}}function P(e){return Y(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function R(){return window.top}function k(){return window.self}function U(){return window.location}function D(){F()&&g&&console.log.apply(console,M(arguments,"MESSAGE:"))}function B(){F()&&m&&console.info.apply(console,M(arguments,"INFO:"))}function N(){F()&&b&&console.warn.apply(console,M(arguments,"WARNING:"))}function z(){F()&&y&&console.error.apply(console,M(arguments,"ERROR:"))}function M(e,t){return e=[].slice.call(e),t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: #3b88c3; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cPrebid"),e}function q(){return g}function F(){return!!n.b.getConfig("debug")}function W(){var e=document.createElement("iframe");return e.id=S(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function G(e){return nt(U().search)[e]||""}function V(e,t){return f.call(e)==="[object "+t+"]"}function L(e){return V(e,"Function")}function H(e){return V(e,"String")}function Y(e){return V(e,"Array")}function K(e){return V(e,"Number")}function J(e){return V(e,"Object")}function X(e){return V(e,"Boolean")}function $(e){if(!e)return!0;if(Y(e)||H(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Q(e){return H(e)&&(!e||0===e.length)}function Z(e,t){if(!$(e)){if(L(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(0<n)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function ee(e,t){if($(e))return!1;if(L(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}function te(r,n){if($(r))return[];if(L(r.map))return r.map(n);var i=[];return Z(r,function(e,t){i.push(n(e,t,r))}),i}function re(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ne(e,t,r,n){t=t||document,r=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((r=r.length?r:t.getElementsByTagName("body")).length){var r=r[0],i=n?null:r.firstChild;return r.insertBefore(e,i)}}catch(e){}}function ie(e,t){var r=new Image;t&&v.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function oe(e){var t=e.source,e=e.burl;t===l.S2S.SRC&&e&&v.triggerPixel(e)}function ae(e){var t;e&&((t=document.createElement("iframe")).id=S(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",v.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())}function se(e,t){var r=v.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),e=document.createElement("div");e.innerHTML=r;e=e.firstChild;t&&v.isFn(t)&&(e.addEventListener("load",t),e.addEventListener("error",t)),v.insertElement(e,document,"html",!0)}function de(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+('<img src="'+encodeURI(e))+'"></div>':""}function ce(e,t,r){return void 0===t&&(t=!0),void 0===r&&(r=""),e?(t&&(e=encodeURI(e)),"<iframe "+(r=r&&'sandbox="'+r+'"')+' id="'+S()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""}function ue(e,t,r){return null==t?r:H(t)?t:K(t)?t.toString():void v.logWarn("Unsuported type for param: "+e+" required type: String")}function pe(e,t,r){return r.indexOf(e)===t}function le(e,t){return e.concat(t)}function fe(r,e){var t;if(r)return e.some(function(e){e=a()(e.bids,function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===r})});return e&&(t=e),e}),t}function ge(e){return Object.keys(e)}function me(e,t){return e[t]}function be(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r}function ye(e){return(e=void 0===e?jwpb.adUnits:e).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(le,[])}).reduce(le).filter(pe)}function ve(){if(window.googletag&&L(window.googletag.pubads)&&L(window.googletag.pubads().getSlots))return!0}var he=Ae("timeToRespond",function(e,t){return t<e}),Ie=Ae("responseTimestamp",function(e,t){return t<e}),Se=Ae("responseTimestamp",function(e,t){return e<t});function Ae(r,n){return function(e,t){return e.cpm===t.cpm?n(e[r],t[r])?t:e:e.cpm<t.cpm?t:e}}function _e(e){for(var t=e.length;0<t;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e}function Ee(e,t){return s()(e,t&&t.adUnitCode)}function Te(e){return i()(e)}function we(){try{return v.getWindowSelf()!==v.getWindowTop()}catch(e){return!0}}function Oe(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function xe(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function Ce(){return(new Date).getTime()}function je(){return!1!==n.b.getConfig("deviceAccess")}function Pe(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Re(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got "+t);var r=0;return function(){++r===t&&e.apply(this,arguments)}}function ke(e,r){return e.reduce(function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e},{})}function Ue(r,e){return e.filter(function(e){return r[e]}).reduce(function(e,t){return Object(d.default)(e,((e={})[t]=r[t],e))},{})}function De(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return s()(t,e)})&&(!e.video||!e.video.context||s()(["instream","outstream","adpod"],e.video.context))}function Be(e,t,r){return a()(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===r}).length})||{start:null,auctionId:null}}function Ne(e,t,r){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(le,[]).filter(function(e){return e.bidder===r}).map(function(e){return e.params||{}})}function ze(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function Me(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}var qe=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function Fe(t){return function(e){return qe(t,e)}}function We(t){return function(e){return qe(e,t)}}function Ge(e){var t;return(t=ve()?a()(window.googletag.pubads().getSlots(),We(e)):t)?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function Ve(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    "+e.code+" is a "+r+" ad unit\n    containing bidders that don't support "+r+": "+t+".\n    This bidder won't fetch demand.\n  "}function Le(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function He(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")}function Ye(r){return Object.keys(r).reduce(function(e,t){return void 0!==r[t]&&(e[t]=r[t]),e},{})}function Ke(o,a){return"object"!=typeof o?{}:a.reduce(function(e,t,r){if("function"==typeof t)return e;var n=t,i=t.match(/^(.+?)\sas\s(.+?)$/i);i&&(t=i[1],n=i[2]);t=o[t];return void 0!==(t="function"==typeof a[r+1]?a[r+1](t,e):t)&&(e[n]=t),e},{})}function Je(e,n){void 0===n&&(n="keywords");var i=[];return Z(e,function(e,t){if(Y(e)){var r=[];Z(e,function(e){!(e=ue(n+"."+t,e))&&""!==e||r.push(e)}),e=r}else{if(!H(e=ue(n+"."+t,e)))return;e=[e]}i.push({key:t,value:e})}),i}function Xe(n,i){return Object.keys(n).forEach(function(e){var t,r;i[e]&&(L(n[e])?i[e]=n[e](i[e]):i[e]=(t=n[e],r=i[e],"string"===t?r&&r.toString():"number"===t?Number(r):r),isNaN(i[e])&&delete i.key)}),i}function $e(e,t){return Y(e)&&(!t||e.length===t)&&e.every(Le)}function Qe(e,t){for(var r=[],n=0;n<t;n++){var i=J(e)?Te(e):e;r.push(i)}return r}function Ze(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t;r.push(e.slice(i,i+t))}return r}function et(e){return Math.min.apply(Math,e)}function tt(e){return Math.max.apply(Math,e)}function rt(r){return function(e,t){return e[r]<t[r]?1:e[r]>t[r]?-1:0}}function nt(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var r=t.split("="),t=r[0],r=r[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(r)):e[t]=r||"",e},{}):{}}function it(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")}function ot(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:t?r.search:v.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}}function at(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+v.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")}function st(e,t){return o()(e,t)}function dt(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var i,o,a=r.shift();if(J(e)&&J(a))for(var s in a)J(a[s])?(e[s]||Object(d.default)(e,((i={})[s]={},i)),dt(e[s],a[s])):Y(a[s])?e[s]?Y(e[s])&&(e[s]=e[s].concat(a[s])):Object(d.default)(e,((o={})[s]=a[s],o)):Object(d.default)(e,((o={})[s]=a[s],o));return dt.apply(void 0,[e].concat(r))}},function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"d",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return a});var n="native",i="video",o="banner",a="adpod"},function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return A});var i=r(3),n=r(46),t=r(5),a=r.n(t),t=r(4),o=r.n(t),t=r(92),s=r.n(t),d=r(0),c=r(157),u=r(0),r=r(7),p="TRUE"===u.getParameterByName(r.DEBUG_MODE).toUpperCase(),l=window.location.origin,f="random",g={};g[f]=!0,g.fixed=!0;var m,b,y,v,h,I=f,S={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},A=(v=[],h=null,_(),{getCurrentBidder:function(){return h},getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?u.deepAccess(E(),e):E()}return function(e,t){if("string"!=typeof e&&(t=e,e="*"),"function"==typeof t){var r={topic:e,callback:t};return v.push(r),function(){v.splice(v.indexOf(r),1)}}u.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:function(r){var e,n;u.isPlainObject(r)?(e=Object.keys(r),n={},e.forEach(function(e){var t=r[e];u.isPlainObject(m[e])&&u.isPlainObject(t)&&(t=Object(i.default)({},m[e],t)),n[e]=b[e]=t}),T(n)):u.logError("setConfig options must be an object")},setDefaults:function(e){u.isPlainObject(m)?(Object(i.default)(m,e),Object(i.default)(b,e)):u.logError("defaults must be an object")},resetConfig:_,runWithBidder:w,callbackWithBidder:function(o){return function(i){return function(){if("function"==typeof i){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(o,(e=u.bind).call.apply(e,[i,this].concat(r)))}u.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(n){try{!function(e){if(!u.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!u.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(n),n.bidders.forEach(function(r){y[r]||(y[r]={}),Object.keys(n.config).forEach(function(e){var t=n.config[e];u.isPlainObject(t)?y[r][e]=Object(i.default)({},y[r][e]||{},t):y[r][e]=t})})}catch(n){u.logError(n)}},getBidderConfig:function(){return y}});function _(){m={};var r={_debug:p,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:l,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:S.MEDIUM,set priceGranularity(e){o(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:S.MEDIUM:u.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=S.CUSTOM,u.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){var n=this;this._mediaTypePriceGranularity=Object.keys(r).reduce(function(e,t){return o(r[t])?"string"==typeof r?e[t]=i(r[t])?r[t]:n._priceGranularity:u.isPlainObject(r)&&(e[t]=r[t],u.logMessage("Using custom price granularity for "+t)):u.logWarn("Invalid price granularity for media type: "+t),e},{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:I,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){g[e]?this._bidderSequence=e:u.logWarn("Invalid order: "+e+". Bidder Sequence was not set.")},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e}};function i(t){return a()(Object.keys(S),function(e){return t===S[e]})}function o(e){if(!e)return u.logError("Prebid Error: no value passed to `setPriceGranularity()`"),0;if("string"==typeof e)i(e)||u.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(u.isPlainObject(e)&&!Object(n.b)(e))return u.logError("Invalid custom price value passed to `setPriceGranularity()`"),0;return 1}b&&T(Object.keys(b).reduce(function(e,t){return b[t]!==r[t]&&(e[t]=r[t]||{}),e},{})),b=r,y={}}function E(){if(h&&y&&u.isPlainObject(y[h])){var r=y[h],e=new s.a(Object.keys(b).concat(Object.keys(r)));return c(e).reduce(function(e,t){return void 0===r[t]?e[t]=b[t]:void 0!==b[t]&&u.isPlainObject(r[t])?e[t]=Object(d.mergeDeep)({},b[t],r[t]):e[t]=r[t],e},{})}return Object(i.default)({},b)}function T(r){var t=Object.keys(r);v.filter(function(e){return o()(t,e.topic)}).forEach(function(e){var t;e.callback(((t={})[e.topic]=r[e.topic],t))}),v.filter(function(e){return"*"===e.topic}).forEach(function(e){return e.callback(r)})}function w(e,t){h=e;try{return t()}finally{h=null}}},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r.r(t),r.d(t,"default",function(){return n})},function(e,t,r){r=r(109);e.exports=r},function(e,t,r){r=r(96);e.exports=r},function(e,t,r){"use strict";r.d(t,"c",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"a",function(){return f});var m=r(3);function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}var a=r(16),o=r(2),b=r(47),s=r(27),y=r(14),v=r(32),h=r(7),t=r(26),I=r.n(t),t=r(4),S=r.n(t),d=r(31),A=r(0),i=r(1),t=r(10),r=r(28),c=Object(r.a)("bidderFactory"),_=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function u(t){var r=Array.isArray(t.supportedMediaTypes)?{supportedMediaTypes:t.supportedMediaTypes}:void 0;function n(e){var t=p(e);a.default.registerBidAdapter(t,e.code,r)}n(t),Array.isArray(t.aliases)&&t.aliases.forEach(function(e){a.default.aliasRegistry[e]=t.code,n(Object(m.default)({},t,{code:e}))})}function p(f){return Object(m.default)(new n(f.code),{getSpec:function(){return Object.freeze(f)},registerSyncs:i,callBids:function(o,a,e,n,s,d){var c,u,p,t,l;function r(){e(),I.a.emit(h.EVENTS.BIDDER_DONE,o),i(u,o.gdprConsent,o.uspConsent)}Array.isArray(o.bids)&&(c={},u=[],0!==(t=o.bids.filter(g)).length?(p={},t.forEach(function(e){(p[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}),(t=f.buildRequests(t,o))&&0!==t.length?(Array.isArray(t)||(t=[t]),l=Object(A.delayExecution)(d(r),t.length),t.forEach(function(i){switch(i.method){case"GET":n(i.url+((e=i.data)?"?"+("object"==typeof e?Object(A.parseQueryStringParameters)(e):e):""),{success:d(t),error:r},void 0,Object(m.default)({method:"GET",withCredentials:!0},i.options));break;case"POST":n(i.url,{success:d(t),error:r},"string"==typeof i.data?i.data:JSON.stringify(i.data),Object(m.default)({method:"POST",contentType:"text/plain",withCredentials:!0},i.options));break;default:Object(A.logWarn)("Skipping invalid request from "+f.code+". Request type "+i.type+" must be GET or POST"),l()}var e;function t(e,t){s(f.code);try{e=JSON.parse(e)}catch(e){}var r;e={body:e,headers:{get:t.getResponseHeader.bind(t)}},u.push(e);try{r=f.interpretResponse(e,i)}catch(e){return Object(A.logError)("Bidder "+f.code+" failed to interpret the server's response. Continuing without bids",null,e),void l()}function n(e){var t,r=p[e.requestId];r?(e.originalCpm=e.cpm,e.originalCurrency=e.currency,t=Object(m.default)(Object(b.a)(h.STATUS.GOOD,r),e),r=r.adUnitCode,t=t,c[r]=!0,function(e,t,r){function n(e){return"Invalid bid from "+t.bidderCode+". Ignoring bid: "+e}return e?t?(i=Object.keys(t),_.every(function(e){return S()(i,e)&&!S()([void 0,null],t[e])})?"native"!==t.mediaType||Object(y.f)(t,r)?"video"!==t.mediaType||Object(v.c)(t,r)?"banner"!==t.mediaType||function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;r=Object(A.getBidderRequest)(r,t.bidderCode,e),e=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,r=Object(A.parseSizesInput)(e);if(1===r.length){e=r[0].split("x"),r=e[0],e=e[1];return t.width=parseInt(r,10),t.height=parseInt(e,10),1}}(e,t,r)||(Object(A.logError)(n("Banner bids require a width and height")),0):(Object(A.logError)(n("Video bid does not have required vastUrl or renderer property")),0):(Object(A.logError)(n("Native bid missing some required properties.")),0):(Object(A.logError)(n("Bidder "+t.bidderCode+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")),0)):(Object(A.logWarn)("Some adapter tried to add an undefined bid for "+e+"."),0):(Object(A.logWarn)("No adUnitCode was supplied to addBidResponse."),0);var i}(r,t,[o])&&a(r,t)):Object(A.logWarn)("Bidder "+f.code+" made bid for unknown request ID: "+e.requestId+". Ignoring.")}r&&(Object(A.isArray)(r)?r.forEach(n):n(r)),l(r)}function r(e){s(f.code),Object(A.logError)("Server call for "+f.code+" failed: "+e+". Continuing without bids."),l()}})):r()):r())}});function i(e,t,r){l(f,e,t,r)}function g(e){return!!f.isBidRequestValid(e)||(Object(A.logWarn)("Invalid bid sent to bidder "+f.code+": "+JSON.stringify(e)),!1)}}var l=Object(t.b)("async",function(t,e,r,n){var i=o.b.getConfig("userSync.aliasSyncEnabled");!t.getUserSyncs||!i&&a.default.aliasRegistry[t.code]||(i=o.b.getConfig("userSync.filterSettings"),(n=t.getUserSyncs({iframeEnabled:!(!i||!i.iframe&&!i.all),pixelEnabled:!(!i||!i.image&&!i.all)},e,r,n))&&(n=!Array.isArray(n)?[n]:n).forEach(function(e){s.a.registerSync(e.type,t.code,e.url)}))},"registerSyncs");function f(e,t){var r=a.default.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),r=n.localStorageKey||r.getBidderCode(),r=c.getDataFromLocalStorage(r);if(r){try{r=JSON.parse(r)}catch(t){Object(A.logError)("Failed to parse "+e+" mapping data stored in local storage")}return r.mapping[t]||null}}}Object(t.a)("checkAdUnitSetup").before(function(e,t){return o.b.getConfig("adpod.brandCategoryExclusion")?(t.filter(function(e){return Object(A.deepAccess)(e,"mediaTypes.video.context")===i.a}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(A.flatten,[]).filter(A.uniques).forEach(function(r){var e=a.default.getBidAdapter(r);if(e.getSpec().getMappingFileInfo){var t=e.getSpec().getMappingFileInfo(),n=t.refreshInDays||1,i=t.localStorageKey||e.getSpec().code,o=c.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||Object(A.timestamp)()>o.lastUpdated+24*n*60*60*1e3)&&Object(d.a)(t.url,{success:function(e){try{e=JSON.parse(e);var t={lastUpdated:Object(A.timestamp)(),mapping:e.mapping};c.setDataInLocalStorage(i,JSON.stringify(t))}catch(e){Object(A.logError)("Failed to parse "+r+" bidder translation mapping file")}},error:function(){Object(A.logError)("Failed to load "+r+" bidder translation file")}})}catch(e){Object(A.logError)("Failed to parse "+r+" bidder translation mapping file")}}}),void e.call(this,t)):e.call(this,t)})},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocuemnt","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')},function(e,t,r){"use strict";function g(n){function e(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)}return e.prototype=n.prototype,e}var m=r(17),b=r(99).f,y=r(101),v=r(37),h=r(18),I=r(23),S=r(22);e.exports=function(e,t){var r,n,i,o,a,s=e.target,d=e.global,c=e.stat,u=e.proto,p=d?m:c?m[s]:(m[s]||{}).prototype,l=d?v:v[s]||(v[s]={}),f=l.prototype;for(r in t)o=!y(d?r:s+(c?".":"#")+r,e.forced)&&p&&S(p,r),n=l[r],o&&(i=e.noTargetGet?(a=b(p,r))&&a.value:p[r]),a=o&&i?i:t[r],o&&typeof n==typeof a||(o=e.bind&&o?h(a,m):e.wrap&&o?g(a):u&&"function"==typeof a?h(Function.call,a):a,(e.sham||a&&a.sham||n&&n.sham)&&I(o,"sham",!0),l[r]=o,u&&(S(v,o=s+"Prototype")||I(v,o,{}),v[o][r]=a,e.real&&f&&!f[r]&&I(f,r,a)))}},function(e,t,r){var n=r(20);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o});var t=r(39),t=r.n(t),n=t()({ready:t.a.SYNC|t.a.ASYNC|t.a.QUEUE}),i=n.get;function o(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i(e).before(function(e,t){t.push(r),e(t)})}},function(e,t){e.exports=!0},function(e,t,r){function b(e,t){this.stopped=e,this.result=t}var y=r(9),v=r(73),h=r(43),I=r(18),S=r(56),A=r(74);e.exports=function(e,t,r){function n(e){return o&&A(o),new b(!0,e)}function i(e){return l?(y(e),g?m(e[0],e[1],n):m(e[0],e[1])):g?m(e,n):m(e)}var o,a,s,d,c,u,p=r&&r.that,l=!(!r||!r.AS_ENTRIES),f=!(!r||!r.IS_ITERATOR),g=!(!r||!r.INTERRUPTED),m=I(t,p,1+l+g);if(f)o=e;else{if("function"!=typeof(f=S(e)))throw TypeError("Target is not iterable");if(v(f)){for(a=0,s=h(e.length);a<s;a++)if((d=i(e[a]))&&d instanceof b)return d;return new b(!1)}o=f.call(e)}for(c=o.next;!(u=c.call(o)).done;){try{d=i(u.value)}catch(e){throw A(o),e}if("object"==typeof d&&d&&d instanceof b)return d}return new b(!1)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){"use strict";r.d(t,"e",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"g",function(){return c}),r.d(t,"f",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"d",function(){return l}),r.d(t,"c",function(){return f});var a=r(0),t=r(4),i=r.n(t),s=r(7),n=[],o=Object.keys(s.NATIVE_KEYS).map(function(e){return s.NATIVE_KEYS[e]}),d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function c(e){return e&&e.type&&((t=e.type)&&i()(Object.keys(d),t)||(Object(a.logError)(t+" nativeParam is not supported"),0))?d[e.type]:e;var t}function u(t,e){e=Object(a.getBidRequest)(t.requestId,e);if(!e)return!1;if(!Object(a.deepAccess)(t,"native.clickUrl"))return!1;if(Object(a.deepAccess)(t,"native.image")&&(!Object(a.deepAccess)(t,"native.image.height")||!Object(a.deepAccess)(t,"native.image.width")))return!1;if(Object(a.deepAccess)(t,"native.icon")&&(!Object(a.deepAccess)(t,"native.icon.height")||!Object(a.deepAccess)(t,"native.icon.width")))return!1;var r=e.nativeParams;if(!r)return!0;var e=Object.keys(r).filter(function(e){return r[e].required}),n=Object.keys(t.native).filter(function(e){return t.native[e]});return e.every(function(e){return i()(n,e)})}function p(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(a.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(a.triggerPixel),e.action}function l(n,i){var o={};return Object.keys(n.native).forEach(function(e){var t=s.NATIVE_KEYS[e],r=g(n.native[e]);Object(a.deepAccess)(i,"mediaTypes.native."+e+".sendId")&&(r=t+":"+n.adId),t&&r&&(o[t]=r)}),o}function f(e,r){var n={message:"assetResponse",adId:e.adId,assets:[]};return e.assets.forEach(function(e){var t=Object(a.getKeyByValue)(s.NATIVE_KEYS,e),e=g(r.native[t]);n.assets.push({key:t,value:e})}),n}function g(e){return"object"==typeof e&&e.url?e.url:e}},function(e,t,r){var n=r(17),i=r(69),o=r(22),a=r(53),s=r(70),r=r(108),d=i("wks"),c=n.Symbol,u=r?c:c&&c.withoutSetter||a;e.exports=function(e){return o(d,e)&&(s||"string"==typeof d[e])||(s&&o(c,e)?d[e]=c[e]:d[e]=u("Symbol."+e)),d[e]}},function(e,t,r){"use strict";r.r(t),r.d(t,"gdprDataHandler",function(){return C}),r.d(t,"uspDataHandler",function(){return j}),r.d(t,"setS2STestingModule",function(){return a});var b,p=r(3),y=r(0),l=r(33),f=r(14),c=r(6),m=r(31),v=r(2),n=r(10),i=r(4),h=r.n(i),i=r(5),I=r.n(i),g=r(29),S=r(48),A=r(0),_=r(7),E=r(26),u={},T=u.bidderRegistry={},w=u.aliasRegistry={},O={};v.b.getConfig("s2sConfig",function(e){O=e.s2sConfig});var o={},x=Object(n.b)("sync",function(e){var n=e.bidderCode,s=e.auctionId,d=e.bidderRequestId,t=e.adUnits,c=e.labels,u=e.src;return t.reduce(function(e,o){var t=Object(l.b)(Object(l.a)(o,c),o.mediaTypes,o.sizes),r=t.active,a=t.mediaTypes,t=t.filterResults;return r?t&&A.logInfo('Size mapping filtered adUnit "'+o.code+'" banner sizes from ',t.before,"to ",t.after):A.logInfo('Size mapping disabled adUnit "'+o.code+'"'),r&&e.push(o.bids.filter(function(e){return e.bidder===n}).reduce(function(e,t){var r=o.nativeParams||A.deepAccess(o,"mediaTypes.native");r&&(t=Object(p.default)({},t,{nativeParams:Object(f.g)(r)})),t=Object(p.default)({},t,Object(y.getDefinedParams)(o,["fpd","mediaType","renderer","storedAuctionResponse"]));var n=Object(l.b)(Object(l.a)(t,c),a),i=n.active,r=n.mediaTypes,n=n.filterResults;return i?n&&A.logInfo('Size mapping filtered adUnit "'+o.code+'" bidder "'+t.bidder+'" banner sizes from ',n.before,"to ",n.after):A.logInfo('Size mapping deactivated adUnit "'+o.code+'" bidder "'+t.bidder+'"'),A.isValidMediaTypes(r)?t=Object(p.default)({},t,{mediaTypes:r}):A.logError("mediaTypes is not correctly configured for adunit "+o.code),i&&e.push(Object(p.default)({},t,{adUnitCode:o.code,transactionId:o.transactionId,sizes:A.deepAccess(r,"banner.sizes")||A.deepAccess(r,"video.playerSize")||[],bidId:t.bid_id||A.getUniqueIdentifierStr(),bidderRequestId:d,auctionId:s,src:u,bidRequestsCount:g.a.getRequestsCounter(o.code),bidderRequestsCount:g.a.getBidderRequestsCounter(o.code,t.bidder),bidderWinsCount:g.a.getBidderWinsCounter(o.code,t.bidder)})),e},[])),e},[]).reduce(y.flatten,[]).filter(function(e){return""!==e})},"getBids"),C={consentData:null,setConsentData:function(e){C.consentData=e},getConsentData:function(){return C.consentData}},j={consentData:null,setConsentData:function(e){j.consentData=e},getConsentData:function(){return j.consentData}};function P(){return O&&O.enabled&&O.testing&&b}function a(e){b=e}function s(e,t,r){try{var n=T[e].getSpec();n&&n[t]&&"function"==typeof n[t]&&(A.logInfo("Invoking "+e+"."+t),v.b.runWithBidder(e,y.bind.call(n[t],n,r)))}catch(r){A.logWarn("Error calling "+t+" of "+e)}}u.makeBidRequests=Object(n.b)("sync",function(e,n,i,o,a){E.emit(_.EVENTS.BEFORE_REQUEST_BIDS,e);var s=[],t=Object(y.getBidderCodes)(e);v.b.getConfig("bidderSequence")===v.a&&(t=Object(y.shuffle)(t));var r,d,c,u,p,l=Object(S.a)(),f=t,g=[];O.enabled&&(P()&&(g=b.getSourceBidderMap(e)[b.CLIENT]),r=O.bidders,f=t.filter(function(e){return!h()(r,e)||h()(g,e)}),Boolean(P()&&O.testServerOnly)&&(p=e,Boolean(I()(p,function(e){return I()(e.bids,function(e){return(e.bidSource||O.bidderControl&&O.bidderControl[e.bidder])&&e.finalSource===b.SERVER})})))&&(f.length=0),u=O.bidders,(p=A.deepClone(e)).forEach(function(e){e.bids=e.bids.filter(function(e){return h()(u,e.bidder)&&(!P()||e.finalSource!==b.CLIENT)}).map(function(e){return e.bid_id=A.getUniqueIdentifierStr(),e})}),d=p.filter(function(e){return 0!==e.bids.length}),c=A.generateUUID(),r.forEach(function(e){var t=A.getUniqueIdentifierStr(),t={bidderCode:e,auctionId:i,bidderRequestId:t,tid:c,bids:x({bidderCode:e,auctionId:i,bidderRequestId:t,adUnits:A.deepClone(d),labels:a,src:_.S2S.SRC}),auctionStart:n,timeout:O.timeout,src:_.S2S.SRC,refererInfo:l};0!==t.bids.length&&s.push(t)}),d.forEach(function(e){var t=e.bids.filter(function(t){return I()(s,function(e){return I()(e.bids,function(e){return e.bidId===t.bid_id})})});e.bids=t}),s.forEach(function(e){e.adUnitsS2SCopy=d.filter(function(e){return 0<e.bids.length})}));var m=((e=A.deepClone(e)).forEach(function(e){e.bids=e.bids.filter(function(e){return!P()||e.finalSource!==b.SERVER})}),e.filter(function(e){return 0!==e.bids.length}));return f.forEach(function(e){var t=A.getUniqueIdentifierStr(),r={bidderCode:e,auctionId:i,bidderRequestId:t,bids:x({bidderCode:e,auctionId:i,bidderRequestId:t,adUnits:A.deepClone(m),labels:a,src:"client"}),auctionStart:n,timeout:o,refererInfo:l},t=T[e];t||A.logError("Trying to make a request for bidder that does not exist: "+e),t&&r.bids&&0!==r.bids.length&&s.push(r)}),C.getConsentData()&&s.forEach(function(e){e.gdprConsent=C.getConsentData()}),j.getConsentData()&&s.forEach(function(e){e.uspConsent=j.getConsentData()}),s},"makeBidRequests"),u.callBids=function(e,t,i,o,a,s,d){var r,n,c,u,p,l,f,g;t.length?(r=(l=t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===_.S2S.SRC)].push(t),e},[[],[]]))[0],(n=l[1]).length&&(c=Object(m.b)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),u=O.bidders,p=T[O.adapter],t=n[0].tid,l=n[0].adUnitsS2SCopy,p?(l={tid:t,ad_units:l}).ad_units.length&&(f=n.map(function(e){return e.start=Object(y.timestamp)(),o.bind(e)}),g=l.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]),A.logMessage("CALLING S2S HEADER BIDDERS ==== "+u.filter(function(e){return h()(g,e)}).join(",")),n.forEach(function(e){E.emit(_.EVENTS.BID_REQUESTED,e)}),p.callBids(l,n,function(e,t){var r=Object(y.getBidderRequest)(n,t.bidderCode,e);r&&i.call(r,e,t)},function(){return f.forEach(function(e){return e()})},c)):A.logError("missing "+O.adapter)),r.forEach(function(e){e.start=Object(y.timestamp)();var t=T[e.bidderCode];A.logMessage("CALLING BIDDER ======= "+e.bidderCode),E.emit(_.EVENTS.BID_REQUESTED,e);var r=Object(m.b)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),n=o.bind(e);try{v.b.runWithBidder(e.bidderCode,y.bind.call(t.callBids,t,e,i.bind(e),n,r,d,v.b.callbackWithBidder(e.bidderCode)))}catch(t){A.logError(e.bidderCode+" Bid Adapter emitted an uncaught error when parsing their bidRequest",{e:t,bidRequest:e}),n()}})):A.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},u.videoAdapters=[],u.registerBidAdapter=function(e,t,r){r=(void 0===r?{}:r).supportedMediaTypes,r=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(T[t]=e,h()(r,"video")&&u.videoAdapters.push(t),h()(r,"native")&&f.e.push(t)):A.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):A.logError("bidAdaptor or bidderCode not specified")},u.aliasBidAdapter=function(e,t){if(void 0===T[t]){var r=T[e];if(void 0===r){var n=v.b.getConfig("s2sConfig"),n=n&&n.bidders;n&&h()(n,t)?w[t]=e:A.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var i,o,a=(s=e,d=[],h()(u.videoAdapters,s)&&d.push("video"),h()(f.e,s)&&d.push("native"),d);r.constructor.prototype!=Object.prototype?(o=new r.constructor).setBidderCode(t):(i=r.getSpec(),o=Object(c.b)(Object(p.default)({},i,{code:t})),w[t]=e),u.registerBidAdapter(o,t,{supportedMediaTypes:a})}catch(t){A.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else A.logMessage('alias name "'+t+'" has been already specified.');var s,d},u.registerAnalyticsAdapter=function(e){var t=e.adapter,e=e.code;t&&e?"function"==typeof t.enableAnalytics?(t.code=e,o[e]=t):A.logError('Prebid Error: Analytics adaptor error for analytics "'+e+'"\n        analytics adapter must implement an enableAnalytics() function'):A.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},u.enableAnalytics=function(e){A.isArray(e)||(e=[e]),A._each(e,function(e){var t=o[e.provider];t?t.enableAnalytics(e):A.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")})},u.getBidAdapter=function(e){return T[e]},u.callTimedOutBidders=function(t,r,n){r=r.map(function(e){return e.params=A.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=n,e}),r=A.groupBy(r,"bidder"),Object.keys(r).forEach(function(e){s(e,"onTimeout",r[e])})},u.callBidWonBidder=function(e,t,r){t.params=A.getUserConfiguredParams(r,t.adUnitCode,t.bidder),g.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),s(e,"onBidWon",t)},u.callSetTargetingBidder=function(e,t){s(e,"onSetTargeting",t)},t.default=u},function(r,e,t){!function(e){function t(e){return e&&e.Math==Math&&e}r.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")()}.call(this,t(98))},function(e,t,r){var o=r(13);e.exports=function(n,i,e){if(o(n),void 0===i)return n;switch(e){case 0:return function(){return n.call(i)};case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}}},function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=r(37),o=r(17);e.exports=function(e,t){return arguments.length<2?n(i[e])||n(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(24),i=r(25),o=r(40);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){r=r(21);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,r){var n=r(24),i=r(66),o=r(9),a=r(49),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";var n,s,i=(n=r(3))&&n.__esModule?n:{default:n},d=r(0),r=r(7),o=Array.prototype.slice,c=Array.prototype.push,a=d._map(r.EVENTS,function(e){return e}),u=r.EVENT_ID_PATHS,p=[];e.exports=(s={},(e={}).on=function(e,t,r){var n;d.contains(a,e)?(n=s[e]||{que:[]},r?(n[r]=n[r]||{que:[]},n[r].que.push(t)):n.que.push(t),s[e]=n):d.logError("Wrong event name : "+e+" Valid event names :"+a)},e.emit=function(e){!function(e,t){d.logMessage("Emitting event for: "+e);var r=t[0]||{},n=r[u[e]],i=s[e]||{que:[]},o=d._map(i,function(e,t){return t}),a=[];p.push({eventType:e,args:r,id:n}),n&&d.contains(o,n)&&c.apply(a,i[n].que),c.apply(a,i.que),d._each(a,function(e){if(e)try{e.apply(null,t)}catch(e){d.logError("Error executing handler:","events.js",e)}})}(e,o.call(arguments,1))},e.off=function(e,r,n){var i=s[e];d.isEmpty(i)||d.isEmpty(i.que)&&d.isEmpty(i[n])||n&&(d.isEmpty(i[n])||d.isEmpty(i[n].que))||(n?d._each(i[n].que,function(e){var t=i[n].que;e===r&&t.splice(t.indexOf(e),1)}):d._each(i.que,function(e){var t=i.que;e===r&&t.splice(t.indexOf(e),1)}),s[e]=i)},e.get=function(){return s},e.getEvents=function(){var t=[];return d._each(p,function(e){e=(0,i.default)({},e);t.push(e)}),t},e)},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(3),i=r(0),o=r(2),t=r(4),a=r.n(t),r=r(28);o.b.setDefaults({userSync:i.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var s,d,c,u,p,l,f,r=Object(r.a)("usersync"),r=!i.isSafariBrowser()&&r.cookiesAreEnabled(),g=(s={config:o.b.getConfig("userSync"),browserSupportsCookies:r},d={},c={image:[],iframe:[]},u=new Set,l={image:!0,iframe:!(p={})},f=s.config,o.b.getConfig("userSync",function(e){var t;e.userSync&&(t=e.userSync.filterSettings,i.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))),f=Object(n.default)(f,e.userSync)}),d.registerSync=function(e,t,r){return u.has(t)?i.logMessage('already fired syncs for "'+t+'", ignoring registerSync call'):f.syncEnabled&&i.isArray(c[e])?t?0!==f.syncsPerBidder&&Number(p[t])>=f.syncsPerBidder?i.logWarn('Number of user syncs exceeded for "'+t+'"'):d.canBidderRegisterSync(e,t)?(c[e].push([t,r]),(n=p)[r=t]?n[r]+=1:n[r]=1,void(p=n)):i.logWarn('Bidder "'+t+'" not permitted to register their "'+e+'" userSync pixels.'):i.logWarn("Bidder is required for registering sync"):i.logWarn('User sync type "'+e+'" not supported');var n},d.syncUsers=function(e){if(e=void 0===e?0:e)return setTimeout(m,Number(e));m()},d.triggerUserSyncs=function(){f.enableOverride&&d.syncUsers()},d.canBidderRegisterSync=function(e,t){return!f.filterSettings||!function(e,t){var r=f.filterSettings;if(function(e,t){if(e.all&&e[t])return i.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'+t+'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.'),0;var r=e.all||e[t],e=e.all?"all":t;if(r){t=r.filter,r=r.bidders;return t&&"include"!==t&&"exclude"!==t?(i.logWarn('UserSync "filterSettings.'+e+".filter\" setting '"+t+"' is not a valid option; use either 'include' or 'exclude'."),0):"*"===r||Array.isArray(r)&&0<r.length&&r.every(function(e){return i.isStr(e)&&"*"!==e})||(i.logWarn('Detected an invalid setup in userSync "filterSettings.'+e+".bidders\"; use either '*' (to represent all bidders) or an array of bidders."),0)}}(r,e)){l[e]=!0;r=r.all||r[e],e="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!a()(e,t)},exclude:function(e,t){return a()(e,t)}}[r.filter||"include"](e,t)}}(e,t)},d);function m(){if(f.syncEnabled&&s.browserSupportsCookies){try{l.image&&b(c.image,function(e){var t=e[0],e=e[1];i.logMessage("Invoking image pixel user sync for bidder: "+t),i.triggerPixel(e)}),l.iframe&&b(c.iframe,function(e){var t=e[0],e=e[1];i.logMessage("Invoking iframe user sync for bidder: "+t),i.insertUserSyncIframe(e)})}catch(e){return i.logError("Error firing user syncs",e)}c={image:[],iframe:[]}}}function b(e,t){i.shuffle(e).forEach(function(e){t(e),u.add(e[0])})}},function(e,t,r){"use strict";r.d(t,"c",function(){return u}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return d});var n=r(10),a=r(0),t=r(4),s=r.n(t),c=["core","prebid-module"],u=[];function i(e){var e=void 0===e?{}:e,n=e.gvlid,i=e.moduleName,o=e.moduleType;function d(t){return s()(c,o)?t({valid:!0}):(p(n,i,{hasEnforcementHook:!1},function(e){r=e&&e.hasEnforcementHook?t(e):(e={hasEnforcementHook:!1,valid:a.hasDeviceAccess()},t(e))}),r);var r}return{setCookie:function(n,i,o,a,s,t){function r(e){var t,r;e&&e.valid&&(t=s&&""!==s?" ;domain="+encodeURIComponent(s):"",r=o&&""!==o?" ;expires="+o:"",e=null!=a&&"none"==a.toLowerCase()?"; Secure":"",document.cookie=n+"="+encodeURIComponent(i)+r+"; path=/"+t+(a?"; SameSite="+a:"")+e)}if(!t||"function"!=typeof t)return d(r);u.push(function(){var e=d(r);t(e)})},getCookie:function(t,r){function n(e){if(e&&e.valid){e=window.document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]*)\\s*(;|$)");return e?decodeURIComponent(e[2]):null}return null}if(!r||"function"!=typeof r)return d(n);u.push(function(){var e=d(n);r(e)})},localStorageIsEnabled:function(t){function r(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}return!1}if(!t||"function"!=typeof t)return d(r);u.push(function(){var e=d(r);t(e)})},cookiesAreEnabled:function(t){function r(e){return!(!e||!e.valid||!a.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))}if(!t||"function"!=typeof t)return d(r);u.push(function(){var e=d(r);t(e)})},setDataInLocalStorage:function(t,r,n){function i(e){e&&e.valid&&window.localStorage.setItem(t,r)}if(!n||"function"!=typeof n)return d(i);u.push(function(){var e=d(i);n(e)})},getDataFromLocalStorage:function(t,r){function n(e){return e&&e.valid?window.localStorage.getItem(t):null}if(!r||"function"!=typeof r)return d(n);u.push(function(){var e=d(n);r(e)})},removeDataFromLocalStorage:function(t,r){function n(e){e&&e.valid&&window.localStorage.removeItem(t)}if(!r||"function"!=typeof r)return d(n);u.push(function(){var e=d(n);r(e)})},hasLocalStorage:function(t){function r(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){a.logError("Local storage api disabled")}return!1}if(!t||"function"!=typeof t)return d(r);u.push(function(){var e=d(r);t(e)})},findSimilarCookies:function(o,t){function r(e){if(e&&e.valid){var t=[];if(a.hasDeviceAccess())for(var r=document.cookie.split(";");r.length;){var n=r.pop(),i=(i=n.indexOf("="))<0?n.length:i;0<=decodeURIComponent(n.slice(0,i).replace(/^\s+/,"")).indexOf(o)&&t.push(decodeURIComponent(n.slice(i+1)))}return t}}if(!t||"function"!=typeof t)return d(r);u.push(function(){var e=d(r);t(e)})}}}var p=Object(n.b)("async",function(e,t,r,n){n(r)},"validateStorageEnforcement");function o(e){return i({moduleName:e,moduleType:"core"})}function d(e,t){return i({gvlid:e,moduleName:t})}},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),i={};function o(e,t,r){r=r,e=i[e]=i[e]||{bidders:{}},e=r?e.bidders[r]=e.bidders[r]||{}:e;return e[t]=(e[t]||0)+1,e[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(n.deepAccess)(i,e+".requestsCounter")||0},getBidderRequestsCounter:function(e,t){return Object(n.deepAccess)(i,e+".bidders."+t+".requestsCounter")||0},getBidderWinsCounter:function(e,t){return Object(n.deepAccess)(i,e+".bidders."+t+".winsCounter")||0}}},function(e,t,r){var n=r(11),r=r(82);e.exports=n?r:function(e){return Set.prototype.values.call(e)}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return i});var l=r(3),f=r(2),g=r(0),n=i();function i(c,e){void 0===c&&(c=3e3);var e=void 0===e?{}:e,u=e.request,p=e.done;return function(e,t,r,n){void 0===n&&(n={});try{var i,o=n.method||(r?"POST":"GET"),a=document.createElement("a");a.href=e;var s,d="object"==typeof t&&null!==t?t:{success:function(){g.logMessage("xhr success")},error:function(e){g.logError("xhr error",null,e)}};"function"==typeof t&&(d.success=t),(i=new window.XMLHttpRequest).onreadystatechange=function(){var e;4===i.readyState&&("function"==typeof p&&p(a.origin),200<=(e=i.status)&&e<300||304===e?d.success(i.responseText,i):d.error(i.statusText,i))},f.b.getConfig("disableAjaxTimeout")||(i.ontimeout=function(){g.logError("  xhr timeout after ",i.timeout,"ms")}),"GET"===o&&r&&(s=g.parseUrl(e,n),Object(l.default)(s.search,r),e=g.buildUrl(s)),i.open(o,e,!0),f.b.getConfig("disableAjaxTimeout")||(i.timeout=c),n.withCredentials&&(i.withCredentials=!0),g._each(n.customHeaders,function(e,t){i.setRequestHeader(t,e)}),n.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",n.contentType||"text/plain"),"function"==typeof u&&u(a.origin),"POST"===o&&r?i.send(r):i.send()}catch(e){g.logError("xhr construction",e)}}}},function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return n}),r.d(t,"c",function(){return s}),r(16);var i=r(0),o=r(2),r=(r(4),r(10)),a="outstream",n="instream";function s(e,t){var r=Object(i.getBidRequest)(e.requestId,t),n=r&&Object(i.deepAccess)(r,"mediaTypes.video"),t=n&&Object(i.deepAccess)(n,"context");return d(e,r,n,t)}var d=Object(r.b)("sync",function(e,t,r,n){return!t||r&&n!==a?o.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with jwpb.setConfig({ cache: {url: "..."} });\n      '),!1):n!==a||!(!e.renderer&&!t.renderer)},"checkVideoBidSetup")},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return a});var n=r(2),d=r(0),t=r(4),c=r.n(t),u=[];function i(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function o(e,t){t=p(t=void 0===t?u:t);return!t.shouldFilter||!!t.sizesSupported[e]}function a(e,t,r,n){var i=void 0===e?{}:e,o=i.labels,e=void 0===o?[]:o,o=i.labelAll,o=void 0!==o&&o,i=i.activeLabels,a=void 0===i?[]:i,s=p(n=void 0===n?u:n);t=Object(d.isPlainObject)(t)?Object(d.deepClone)(t):r?{banner:{sizes:r}}:{};n=Object(d.deepAccess)(t,"banner.sizes");s.shouldFilter&&n&&(t.banner.sizes=n.filter(function(e){return s.sizesSupported[e]}));r=Object.keys(t),e={active:r.every(function(e){return"banner"!==e})||r.some(function(e){return"banner"===e})&&0<Object(d.deepAccess)(t,"banner.sizes.length")&&(0===e.length||!o&&(e.some(function(e){return s.labels[e]})||e.some(function(e){return c()(a,e)}))||o&&e.reduce(function(e,t){return e&&(s.labels[t]||c()(a,t))},!0)),mediaTypes:t};return n&&n.length!==t.banner.sizes.length&&(e.filterResults={before:n,after:t.banner.sizes}),e}function p(e){return e.reduce(function(r,e){if("object"==typeof e&&"string"==typeof e.mediaQuery){var t=!1;if(""===e.mediaQuery)t=!0;else try{t=Object(d.getWindowTop)().matchMedia(e.mediaQuery).matches}catch(r){Object(d.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),t=matchMedia(e.mediaQuery).matches}t&&(Array.isArray(e.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach(function(t){return(e[t]||[]).forEach(function(e){return r[t][e]=!0})}))}else Object(d.logWarn)('sizeConfig rule missing required property "mediaQuery"');return r},{labels:{},sizesSupported:{},shouldFilter:!1})}n.b.getConfig("sizeConfig",function(e){e=e.sizeConfig,u=e})},function(e,t){e.exports={}},function(e,t,r){var n=r(9),i=r(13),o=r(15)("species");e.exports=function(e,t){var r,e=n(e).constructor;return void 0===e||null==(r=n(e)[o])?t:i(r)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t,r){"use strict";var c=r(83),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),p=Object.prototype.toString,l=Array.prototype.concat,f=Object.defineProperty,g=f&&function(){var e={};try{for(var t in f(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),r=function(e,t){var r=2<arguments.length?arguments[2]:{},n=c(t);u&&(n=l.call(n,Object.getOwnPropertySymbols(t)));for(var i,o,a,s,d=0;d<n.length;d+=1)i=e,o=n[d],a=t[n[d]],s=r[n[d]],o in i&&("function"!=typeof s||"[object Function]"!==p.call(s)||!s())||(g?f(i,o,{configurable:!0,enumerable:!1,value:a,writable:!0}):i[o]=a)};r.supportsDescriptors=!!g,e.exports=r},function(e,t){y.SYNC=1,y.ASYNC=2,y.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),g=new WeakMap,n="2,1,0"===[1].reduce(function(e,t,r){return[e,t,r]},2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function m(e,t){return Array.prototype.slice.call(e,t)}var b=Object.assign||function(e){return n.call(m(arguments,1),function(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},e)};function y(d){var c,e={},p=[];function t(e,t){return"function"==typeof e?a.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?a.apply(null,arguments):"object"==typeof e?function(n,e,i){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(n),t=!1);var o={},r=["constructor"];for(;(e=e.filter(function(e){return!("function"!=typeof n[e]||-1!==r.indexOf(e)||e.match(/^_/))})).forEach(function(e){var t=e.split(":"),r=t[0],e=t[1]||"sync";o[r]||(t=n[r],o[r]=n[r]=a(e,t,i?[i,r]:void 0))}),n=Object.getPrototypeOf(n),t&&n;);return o}.apply(null,arguments):void 0}function l(o){var a=Array.isArray(o)?o:o.split(".");return n.call(a,function(t,r,e){var n=t[r],i=!1;return n||(e===a.length-1?(c||p.push(function(){i||console.warn("fun-hooks: referenced '"+o+"' but it was never created")}),t[r]=f(function(e){t[r]=e,i=!0})):t[r]={})},e)}function f(n){var o=[],a=[],s=function(){},e={before:function(e,t){return r.call(this,o,"before",e,t)},after:function(e,t){return r.call(this,a,"after",e,t)},getHooks:function(r){var e=o.concat(a);"object"==typeof r&&(e=e.filter(function(t){return Object.keys(r).every(function(e){return t[e]===r[e]})}));try{b(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(r){console.error("error adding `remove` to array, did you modify Array.prototype?")}return e},removeAll:function(){return this.getHooks().remove()}},t={install:function(e,t,r){this.type=e,(s=r)(o,a),n&&n(t)}};return g.set(e.after,t),e;function r(t,e,r,n){var i={hook:r,type:e,priority:n||10,remove:function(){var e=t.indexOf(i);-1!==e&&(t.splice(e,1),s(o,a))}};return t.push(i),t.sort(function(e,t){return t.priority-e.priority}),s(o,a),this}}function a(u,e,t){var r=e.after&&g.get(e.after);if(r){if(r.type!==u)throw"fun-hooks: recreated hookable with different type";return e}var n,i,o=t?l(t):f(),a={get:function(e,t){return o[t]||Reflect.get.apply(Reflect,arguments)}};return c||p.push(s),d.useProxy&&"function"==typeof Proxy&&Proxy.revocable?i=new Proxy(e,a):b(i=function(){return a.apply?a.apply(e,this,m(arguments)):e.apply(this,arguments)},o),g.get(i.after).install(u,i,function(e,t){var d,c=[];function r(e){c.push(e.hook)}n=e.length||t.length?(e.forEach(r),d=c.push(void 0)-1,t.forEach(r),function(t,r,e){var n,i=0,o="async"===u&&"function"==typeof e[e.length-1]&&e.pop();function a(e){"sync"===u?n=e:o&&o.apply(null,arguments)}function s(e){if(c[i]){var t=m(arguments);return s.bail=a,t.unshift(s),c[i++].apply(r,t)}"sync"===u?n=e:o&&o.apply(null,arguments)}return c[d]=function(){var e=m(arguments,1);"async"===u&&o&&(delete s.bail,e.push(s));e=t.apply(r,e);"sync"===u&&s(e)},s.apply(null,e),n}):void 0,s()}),i;function s(){!c&&("sync"!==u||d.ready&y.SYNC)&&("async"!==u||d.ready&y.ASYNC)?"sync"!==u&&d.ready&y.QUEUE?a.apply=function(){var e=arguments;p.push(function(){i.apply(e[1],e[2])})}:a.apply=function(){throw"fun-hooks: hooked function not ready"}:a.apply=n}}return(d=b({},r,d)).ready?t.ready=function(){c=!0,function(e){for(var t;t=e.shift();)t()}(p)}:c=!0,t.get=l,t}e.exports=y},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(65),i=r(42);e.exports=function(e){return n(i(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(51),i=Math.min;e.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},function(e,t){e.exports={}},function(e,t,r){var n,i,o,a,s,d,c,u,p=r(117),l=r(17),f=r(20),g=r(23),m=r(22),b=r(52),y=r(60),r=r(44),l=l.WeakMap;c=p?(n=b.state||(b.state=new l),i=n.get,o=n.has,a=n.set,s=function(e,t){return t.facade=e,a.call(n,e,t),t},d=function(e){return i.call(n,e)||{}},function(e){return o.call(n,e)}):(r[u=y("state")]=!0,s=function(e,t){return t.facade=e,g(e,u,t),t},d=function(e){return m(e,u)?e[u]:{}},function(e){return m(e,u)}),e.exports={set:s,get:d,has:c,enforce:function(e){return c(e)?d(e):s(e,{})},getterFor:function(r){return function(e){var t;if(!f(e)||(t=d(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l});var t=r(5),u=r.n(t),n=r(0),i={buckets:[{max:5,increment:.5}]},o={buckets:[{max:20,increment:.1}]},a={buckets:[{max:20,increment:.01}]},s={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function c(e,t,r){void 0===r&&(r=1);var n=parseFloat(e);return{low:""===(n=isNaN(n)?"":n)?"":p(e,i,r),med:""===n?"":p(e,o,r),high:""===n?"":p(e,a,r),auto:""===n?"":p(e,d,r),dense:""===n?"":p(e,s,r),custom:""===n?"":p(e,t,r)}}function p(r,e,n){var i="";if(!l(e))return i;var t,o,a,s=e.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),d=0,c=u()(e.buckets,function(e){if(r>s.max*n){var t=e.precision;i=(e.max*n).toFixed(t=void 0===t?2:t)}else{if(r<=e.max*n&&d*n<=r)return e.min=d,e;d=e.max}});return c&&(t=r,o=void 0!==c.precision?c.precision:2,a=c.increment*n,e=c.min*n,c=Math.pow(10,o+2),e=Math.floor((t*c-e*c)/(a*c))*a+e,i=(e=Number(e.toFixed(10))).toFixed(o)),i}function l(e){if(n.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){e.max&&e.increment||(t=!1)}),t}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var i=r(0);function n(e,t){var r=t&&t.src||"client",n=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=i.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height}}function o(e,t){return new n(e,t)}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var i,o=r(3),a=r(0),n=(i=window,function(){try{var e,t=s(),r=t.length-1,n=null!==t[r].location||0<r&&null!==t[r-1].referrer,i=function(e){for(var t,r=[],n=null,i=null,o=null,a=null,s=e.length-1;0<=s;s--){try{n=e[s].location}catch(e){}if(n)r.push(n),a=a||n;else if(0!==s){t=e[s-1];try{i=t.referrer,o=t.ancestor}catch(e){}i?(r.push(i),a=a||i):o?(r.push(o),a=a||o):r.push(null)}else r.push(null)}return{stack:r,detectedRefererUrl:a}}(t);return t[t.length-1].canonicalUrl&&(e=t[t.length-1].canonicalUrl),{referer:i.detectedRefererUrl,reachedTop:n,numIframes:r,stack:i.stack,canonicalUrl:e}}catch(e){}});function s(){var e=function(){var t,r=[];do{try{t=t?t.parent:i;try{var e=t==i.top,n={referrer:t.document.referrer||null,location:t.location.href||null,isTop:e};e&&(n=Object(o.default)(n,{canonicalUrl:function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(t.document)})),r.push(n)}catch(e){r.push({referrer:null,location:null,isTop:t==i.top}),Object(a.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location")}}catch(e){return r.push({referrer:null,location:null,isTop:!1}),r}}while(t!=i.top);return r}(),t=function(){try{return i.location.ancestorOrigins?i.location.ancestorOrigins:void 0}catch(e){}}();if(t)for(var r=0,n=t.length;r<n;r++)e[r].ancestor=t[r];return e}},function(e,t,r){var i=r(20);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(42);e.exports=function(e){return Object(n(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},function(e,t,r){var n=r(17),r=r(104),r=n["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=r},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t){e.exports=function(){}},function(e,t,r){r=r(19);e.exports=r},function(e,t,r){var n=r(57),i=r(34),o=r(15)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(58),i=r(36),o=r(15)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:a?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,r){var n={};n[r(15)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var i=r(58),o=r(25).f,a=r(23),s=r(22),d=r(116),c=r(15)("toStringTag");e.exports=function(e,t,r,n){e&&(e=r?e:e.prototype,s(e,c)||o(e,c,{configurable:!0,value:t}),n&&!i&&a(e,"toString",d))}},function(e,t,r){var n=r(69),i=r(53),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,r){"use strict";function m(){return this}var b=r(8),y=r(125),v=r(80),h=r(127),I=r(59),S=r(23),A=r(78),n=r(15),_=r(11),E=r(34),r=r(79),T=r.IteratorPrototype,w=r.BUGGY_SAFARI_ITERATORS,O=n("iterator");e.exports=function(e,t,r,n,i,o,a){y(r,t,n);function s(e){if(e===i&&g)return g;if(!w&&e in l)return l[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}}var d,c,u=t+" Iterator",p=!1,l=e.prototype,f=l[O]||l["@@iterator"]||i&&l[i],g=!w&&f||s(i),n="Array"==t&&l.entries||f;if(n&&(e=v(n.call(new e)),T!==Object.prototype&&e.next&&(_||v(e)===T||(h?h(e,T):"function"!=typeof e[O]&&S(e,O,m)),I(e,u,!0,!0),_&&(E[u]=m))),"values"==i&&f&&"values"!==f.name&&(p=!0,g=function(){return f.call(this)}),_&&!a||l[O]===g||S(l,O,g),E[t]=g,i)if(d={values:s("values"),keys:o?g:s("keys"),entries:s("entries")},a)for(c in d)!w&&!p&&c in l||A(l,c,d[c]);else b({target:t,proto:!0,forced:w||p},d);return d}},function(e,t,r){"use strict";r=r(167);e.exports=Function.prototype.bind||r},function(e,t,r){"use strict";var n=r(62),r=r(86),i=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||n.call(o,i),s=r("%Object.getOwnPropertyDescriptor%",!0),d=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(d)try{d({},"a",{value:1})}catch(e){d=null}e.exports=function(e){var t=a(n,o,arguments);return s&&d&&s(t,"length").configurable&&d(t,"length",{value:1+c(0,e.length-(arguments.length-1))}),t};r=function(){return a(n,i,arguments)};d?d(e.exports,"apply",{value:r}):e.exports.apply=r},function(e,t,r){r=r(180);e.exports=r},function(e,t,r){var n=r(21),i=r(36),o="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(24),i=r(21),o=r(67);e.exports=!n&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(17),r=r(20),i=n.document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var I=r(18),S=r(65),A=r(50),_=r(43),E=r(102),T=[].push,r=function(l){var f=1==l,g=2==l,m=3==l,b=4==l,y=6==l,v=7==l,h=5==l||y;return function(e,t,r,n){for(var i,o,a=A(e),s=S(a),d=I(t,r,3),c=_(s.length),u=0,n=n||E,p=f?n(e,c):g||v?n(e,0):void 0;u<c;u++)if((h||u in s)&&(o=d(i=s[u],u,a),l))if(f)p[u]=o;else if(o)switch(l){case 3:return!0;case 5:return i;case 6:return u;case 2:T.call(p,i)}else switch(l){case 4:return!1;case 7:T.call(p,i)}return y?-1:m||b?b:p}};e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6),filterOut:r(7)}},function(e,t,r){var n=r(11),i=r(52);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:n?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(105),i=r(106),r=r(21);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!Symbol.sham&&(n?38===i:37<i&&i<41)})},function(e,t,r){var d=r(41),c=r(43),u=r(111),r=function(s){return function(e,t,r){var n,i=d(e),o=c(i.length),a=u(r,o);if(s&&t!=t){for(;a<o;)if((n=i[a++])!=n)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t,r){function n(e){s(e,u,{value:{objectID:"O"+ ++p,weakData:{}}})}var i=r(44),o=r(20),a=r(22),s=r(25).f,d=r(53),c=r(115),u=d("meta"),p=0,l=Object.isExtensible||function(){return!0},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!l(e))return"F";if(!t)return"E";n(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!l(e))return!0;if(!t)return!1;n(e)}return e[u].weakData},onFreeze:function(e){return c&&f.REQUIRED&&l(e)&&!a(e,u)&&n(e),e}};i[u]=!0},function(e,t,r){var n=r(15),i=r(34),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,r){var n=r(9);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){function n(){}function i(e){return"<script>"+e+"<\/script>"}var o,a=r(9),s=r(120),d=r(77),c=r(44),u=r(123),p=r(67),l=r(60)("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=o?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((t=p("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var r=d.length;r--;)delete f.prototype[d[r]];return f()};c[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(n.prototype=a(e),r=new n,n.prototype=null,r[l]=e):r=f(),void 0===t?r:s(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var i=r(23);e.exports=function(e,t,r,n){n&&n.enumerable?e[t]=r:i(e,t,r)}},function(e,t,r){"use strict";var n,i=r(21),o=r(80),a=r(23),s=r(22),d=r(15),c=r(11),u=d("iterator"),r=!1;[].keys&&("next"in(d=[].keys())?(d=o(o(d)))!==Object.prototype&&(n=d):r=!0);i=null==n||i(function(){var e={};return n[u].call(e)!==e});i&&(n={}),c&&!i||s(n,u)||a(n,u,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:r}},function(e,t,r){var n=r(22),i=r(50),o=r(60),r=r(126),a=o("IE_PROTO"),s=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){"use strict";var n=r(131).charAt,i=r(45),r=r(61),o=i.set,a=i.getterFor("String Iterator");r(String,"String",function(e){o(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=a(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(r=n(t,r),e.index+=r.length,{value:r,done:!1})})},function(e,t,r){var n=r(9),i=r(56);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},function(e,t,r){"use strict";var n=Array.prototype.slice,i=r(84),o=Object.keys,a=o?function(e){return o(e)}:r(164),s=Object.keys;a.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e);return"[object Arguments]"===t||"[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Function]"===n.call(e.callee)}},function(e,t,r){"use strict";var n=r(86),i=r(63),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){t=n(e,!!t);return"function"==typeof t&&-1<o(e,".prototype.")?i(t):t}},function(e,t,r){"use strict";function f(e){try{return n('"use strict"; return ('+e+").constructor;")()}catch(e){}}var g=SyntaxError,n=Function,m=TypeError,b=Object.getOwnPropertyDescriptor;if(b)try{b({},"")}catch(e){b=null}function i(){throw new m}var o=b?function(){try{return i}catch(e){try{return b(arguments,"callee").get}catch(e){return i}}}():i,a=r(87)(),y=Object.getPrototypeOf||function(e){return e.__proto__},v={},s="undefined"==typeof Uint8Array?void 0:y(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":a?y([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?y(y([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?y((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?y((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":a?y(""[Symbol.iterator]()):void 0,"%Symbol%":a?Symbol:void 0,"%SyntaxError%":g,"%ThrowTypeError%":o,"%TypedArray%":s,"%TypeError%":m,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},I={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},s=r(62),S=r(168),A=s.call(Function.call,Array.prototype.concat),_=s.call(Function.apply,Array.prototype.splice),E=s.call(Function.call,String.prototype.replace),T=s.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g;e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new m("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new m('"allowMissing" argument must be a boolean');var r,n=function(e){var t=T(e,0,1),r=T(e,-1);if("%"===t&&"%"!==r)throw new g("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new g("invalid intrinsic syntax, expected opening `%`");var i=[];return E(e,w,function(e,t,r,n){i[i.length]=r?E(n,O,"$1"):t||e}),i}(e),i=0<n.length?n[0]:"",o=function(e,t){var r,n=e;if(S(I,n)&&(n="%"+(r=I[n])[0]+"%"),S(h,n)){var i=h[n];if(void 0===(i=i===v?function e(t){var r,n;return"%AsyncFunction%"===t?r=f("async function () {}"):"%GeneratorFunction%"===t?r=f("function* () {}"):"%AsyncGeneratorFunction%"===t?r=f("async function* () {}"):"%AsyncGenerator%"===t?(n=e("%AsyncGeneratorFunction%"))&&(r=n.prototype):"%AsyncIteratorPrototype%"!==t||(n=e("%AsyncGenerator%"))&&(r=y(n.prototype)),h[t]=r}(n):i)&&!t)throw new m("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new g("intrinsic "+e+" does not exist!")}("%"+i+"%",t),a=(o.name,o.value),s=!1,o=o.alias;o&&(i=o[0],_(n,A([0,1],o)));for(var d=1,c=!0;d<n.length;d+=1){var u=n[d],p=T(u,0,1),l=T(u,-1);if(('"'===p||"'"===p||"`"===p||'"'===l||"'"===l||"`"===l)&&p!==l)throw new g("property names with quotes must have matching quotes");if("constructor"!==u&&c||(s=!0),S(h,r="%"+(i+="."+u)+"%"))a=h[r];else if(null!=a){if(!(u in a)){if(!t)throw new m("base intrinsic for "+e+" exists, but the property is not available.");return}a=b&&d+1>=n.length?(c=!!(l=b(a,u)))&&"get"in l&&!("originalValue"in l.get)?l.get:a[u]:(c=S(a,u),a[u]),c&&!s&&(h[r]=a)}}return a}},function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(166);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},function(e,t,r){"use strict";function n(e){return e!=e}e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},function(e,t,r){"use strict";var n=r(88);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},function(e,t,r){"use strict";var n=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,r){"use strict";var n=r(90),i=r(38).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},function(e,t,r){var n=r(112);r(135),r(137),r(139),r(141),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),e.exports=n},function(e,t){e.exports=function e(t){var r,n=Array.isArray(t)?[]:{};for(r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}},function(e,t,r){var u=r(83),p=r(165),n=r(169),l=r(171),f=r(172),g=r(174),m=Date.prototype.getTime;function b(e){return null==e}function y(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||0<e.length&&"number"!=typeof e[0])}e.exports=function c(e,t,r){r=r||{};return!!(r.strict?n(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?n(e,t):e==t:function(e,t,r){var n,i;if(typeof e!=typeof t)return!1;if(b(e)||b(t))return!1;if(e.prototype!==t.prototype)return!1;if(p(e)!==p(t))return!1;var o=l(e),a=l(t);if(o!==a)return!1;if(o||a)return e.source===t.source&&f(e)===f(t);if(g(e)&&g(t))return m.call(e)===m.call(t);if(o=y(e),a=y(t),o!==a)return!1;if(o||a){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var s=u(e),d=u(t)}catch(e){return!1}if(s.length!==d.length)return!1;for(s.sort(),d.sort(),n=s.length-1;0<=n;n--)if(s[n]!=d[n])return!1;for(n=s.length-1;0<=n;n--)if(!c(e[i=s[n]],t[i],r))return!1;return!0}(e,t,r))}},function(e,t,r){r=r(175);e.exports=r},function(e,t,r){r(97);r=r(55);e.exports=r("Array","find")},function(e,t,r){"use strict";var n=r(8),i=r(68).find,r=r(54),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n({target:"Array",proto:!0,forced:o},{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),r("find")},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(24),i=r(100),o=r(40),a=r(41),s=r(49),d=r(22),c=r(66),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(d(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){e=i(this,e);return!!e&&e.enumerable}:n},function(e,t,r){var n=r(21),i=/#|\.prototype\./,r=function(e,t){e=a[o(e)];return e==d||e!=s&&("function"==typeof t?n(t):!!t)},o=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=r.data={},s=r.NATIVE="N",d=r.POLYFILL="P";e.exports=r},function(e,t,r){var n=r(20),i=r(103),o=r(15)("species");e.exports=function(e,t){var r;return new(void 0===(r=i(e)&&("function"==typeof(r=e.constructor)&&(r===Array||i(r.prototype))||n(r)&&null===(r=r[o]))?void 0:r)?Array:r)(0===t?0:t)}},function(e,t,r){var n=r(36);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(17),i=r(23);e.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},function(e,t,r){var n=r(36),r=r(17);e.exports="process"==n(r.process)},function(e,t,r){var n,i,o=r(17),r=r(107),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(n=o.split("."))[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||74<=n[1])&&(n=r.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},function(e,t,r){r=r(19);e.exports=r("navigator","userAgent")||""},function(e,t,r){r=r(70);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){r(110);r=r(55);e.exports=r("Array","includes")},function(e,t,r){"use strict";var n=r(8),i=r(71).includes,r=r(54);n({target:"Array",proto:!0},{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),r("includes")},function(e,t,r){var n=r(51),i=Math.max,o=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):o(e,t)}},function(e,t,r){r(113),r(130),r(81),r(132);r=r(37);e.exports=r.Set},function(e,t,r){"use strict";var n=r(114),r=r(119);e.exports=n("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,r){"use strict";var p=r(8),l=r(17),f=r(72),g=r(21),m=r(23),b=r(12),y=r(75),v=r(20),h=r(59),I=r(25).f,S=r(68).forEach,A=r(24),r=r(45),_=r.set,E=r.getterFor;e.exports=function(r,e,t){var o,a,n=-1!==r.indexOf("Map"),s=-1!==r.indexOf("Weak"),i=n?"set":"add",d=l[r],c=d&&d.prototype,u={};return A&&"function"==typeof d&&(s||c.forEach&&!g(function(){(new d).entries().next()}))?(o=e(function(e,t){_(y(e,o,r),{type:r,collection:new d}),null!=t&&b(t,e[i],{that:e,AS_ENTRIES:n})}),a=E(r),S(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(n){var i="add"==n||"set"==n;!(n in c)||s&&"clear"==n||m(o.prototype,n,function(e,t){var r=a(this).collection;if(!i&&s&&!v(e))return"get"==n&&void 0;t=r[n](0===e?0:e,t);return i?this:t})}),s||I(o.prototype,"size",{configurable:!0,get:function(){return a(this).collection.size}})):(o=t.getConstructor(e,r,n,i),f.REQUIRED=!0),h(o,r,!1,!0),u[r]=o,p({global:!0,forced:!0},u),s||t.setStrong(o,r,n),o}},function(e,t,r){r=r(21);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,r){"use strict";var n=r(58),i=r(57);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,r){var n=r(17),r=r(118),n=n.WeakMap;e.exports="function"==typeof n&&/native code/.test(r(n))},function(e,t,r){var r=r(52),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return n.call(e)}),e.exports=r.inspectSource},function(e,t,r){"use strict";var c=r(25).f,u=r(76),p=r(124),l=r(18),f=r(75),g=r(12),a=r(61),s=r(129),m=r(24),b=r(72).fastKey,r=r(45),y=r.set,v=r.getterFor;e.exports={getConstructor:function(e,r,n,i){function o(e,t,r){var n,i=d(e),o=a(e,t);return o?o.value=r:(i.last=o={index:n=b(t,!0),key:t,value:r,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),m?i.size++:e.size++,"F"!==n&&(i.index[n]=o)),e}function a(e,t){var r,n=d(e);if("F"!==(e=b(t)))return n.index[e];for(r=n.first;r;r=r.next)if(r.key==t)return r}var s=e(function(e,t){f(e,s,r),y(e,{type:r,index:u(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=t&&g(t,e[i],{that:e,AS_ENTRIES:n})}),d=v(r);return p(s.prototype,{clear:function(){for(var e=d(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t,r=d(this),n=a(this,e);return n&&(t=n.next,e=n.previous,delete r.index[n.index],n.removed=!0,e&&(e.next=t),t&&(t.previous=e),r.first==n&&(r.first=t),r.last==n&&(r.last=e),m?r.size--:this.size--),!!n},forEach:function(e){for(var t,r=d(this),n=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),p(s.prototype,n?{get:function(e){e=a(this,e);return e&&e.value},set:function(e,t){return o(this,0===e?0:e,t)}}:{add:function(e){return o(this,e=0===e?0:e,e)}}),m&&c(s.prototype,"size",{get:function(){return d(this).size}}),s},setStrong:function(e,t,r){var n=t+" Iterator",i=v(t),o=v(n);a(e,t,function(e,t){y(this,{type:n,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),s(t)}}},function(e,t,r){var n=r(24),a=r(25),s=r(9),d=r(121);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=d(t),i=n.length,o=0;o<i;)a.f(e,r=n[o++],t[r]);return e}},function(e,t,r){var n=r(122),i=r(77);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var a=r(22),s=r(41),d=r(71).indexOf,c=r(44);e.exports=function(e,t){var r,n=s(e),i=0,o=[];for(r in n)!a(c,r)&&a(n,r)&&o.push(r);for(;t.length>i;)a(n,r=t[i++])&&(~d(o,r)||o.push(r));return o}},function(e,t,r){r=r(19);e.exports=r("document","documentElement")},function(e,t,r){var i=r(78);e.exports=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e}},function(e,t,r){"use strict";function n(){return this}var i=r(79).IteratorPrototype,o=r(76),a=r(40),s=r(59),d=r(34);e.exports=function(e,t,r){t+=" Iterator";return e.prototype=o(i,{next:a(1,r)}),s(e,t,!1,!0),d[t]=n,e}},function(e,t,r){r=r(21);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var i=r(9),o=r(128);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(r){}return function(e,t){return i(e),o(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,r){var n=r(20);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){"use strict";var n=r(19),i=r(25),o=r(15),a=r(24),s=o("species");e.exports=function(e){var t=n(e),e=i.f;a&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){},function(e,t,r){var a=r(51),s=r(42),r=function(o){return function(e,t){var r,n=String(s(e)),i=a(t),e=n.length;return i<0||e<=i?o?"":void 0:(t=n.charCodeAt(i))<55296||56319<t||i+1===e||(r=n.charCodeAt(i+1))<56320||57343<r?o?n.charAt(i):t:o?n.slice(i,i+2):r-56320+(t-55296<<10)+65536}};e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,r){r(133);var n,i=r(134),o=r(17),a=r(57),s=r(23),d=r(34),c=r(15)("toStringTag");for(n in i){var u=o[n],u=u&&u.prototype;u&&a(u)!==c&&s(u,c,n),d[n]=d.Array}},function(e,t,r){"use strict";var n=r(41),i=r(54),o=r(34),a=r(45),r=r(61),s=a.set,d=a.getterFor("Array Iterator");e.exports=r(Array,"Array",function(e,t){s(this,{type:"Array Iterator",target:n(e),index:0,kind:t})},function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){r(8)({target:"Set",stat:!0},{from:r(136)})},function(e,t,r){"use strict";var s=r(13),d=r(18),c=r(12);e.exports=function(e){var t,r,n,i,o=arguments.length,a=1<o?arguments[1]:void 0;return s(this),(t=void 0!==a)&&s(a),null==e?new this:(r=[],t?(n=0,i=d(a,2<o?arguments[2]:void 0,2),c(e,function(e){r.push(i(e,n++))})):c(e,r.push,{that:r}),new this(r))}},function(e,t,r){r(8)({target:"Set",stat:!0},{of:r(138)})},function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(140);n({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},function(e,t,r){"use strict";var i=r(9),o=r(13);e.exports=function(){for(var e=i(this),t=o(e.add),r=0,n=arguments.length;r<n;r++)t.call(e,arguments[r]);return e}},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(142);n({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,r){"use strict";var a=r(9),s=r(13);e.exports=function(){for(var e,t=a(this),r=s(t.delete),n=!0,i=0,o=arguments.length;i<o;i++)e=r.call(t,arguments[i]),n=n&&e;return!!n}},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(18),s=r(30),d=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var r=o(this),t=s(r),n=a(e,1<arguments.length?arguments[1]:void 0,3);return!d(t,function(e,t){if(!n(e,e,r))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(19),a=r(9),s=r(13),d=r(35),c=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),r=new(d(t,o("Set")))(t),n=s(r.delete);return c(e,function(e){n.call(r,e)}),r}})},function(e,t,r){"use strict";var n=r(8),i=r(11),a=r(19),s=r(9),d=r(13),c=r(18),u=r(35),p=r(30),l=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=s(this),r=p(t),n=c(e,1<arguments.length?arguments[1]:void 0,3),i=new(u(t,a("Set"))),o=d(i.add);return l(r,function(e){n(e,e,t)&&o.call(i,e)},{IS_ITERATOR:!0}),i}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(18),s=r(30),d=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var r=o(this),t=s(r),n=a(e,1<arguments.length?arguments[1]:void 0,3);return d(t,function(e,t){if(n(e,e,r))return t(e)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(19),a=r(9),s=r(13),d=r(35),c=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),r=new(d(t,o("Set"))),n=s(t.has),i=s(r.add);return c(e,function(e){n.call(t,e)&&i.call(r,e)}),r}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(13),s=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var r=o(this),n=a(r.has);return!s(e,function(e,t){if(!0===n.call(r,e))return t()},{INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(19),a=r(9),s=r(13),d=r(82),c=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=d(this),r=a(e),n=r.has;return"function"!=typeof n&&(r=new(o("Set"))(e),n=s(r.has)),!c(t,function(e,t){if(!1===n.call(r,e))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(13),s=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var r=o(this),n=a(r.has);return!s(e,function(e,t){if(!1===n.call(r,e))return t()},{INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(30),s=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),r=a(t),t=void 0===e?",":String(e),e=[];return s(r,e.push,{that:e,IS_ITERATOR:!0}),e.join(t)}})},function(e,t,r){"use strict";var n=r(8),i=r(11),a=r(19),s=r(9),d=r(13),c=r(18),u=r(35),p=r(30),l=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=s(this),r=p(t),n=c(e,1<arguments.length?arguments[1]:void 0,3),i=new(u(t,a("Set"))),o=d(i.add);return l(r,function(e){o.call(i,n(e,e,t))},{IS_ITERATOR:!0}),i}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(13),s=r(30),d=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(t){var r=o(this),e=s(r),n=arguments.length<2,i=n?void 0:arguments[1];if(a(t),d(e,function(e){i=n?(n=!1,e):t(i,e,e,r)},{IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty set with no initial value");return i}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(9),a=r(18),s=r(30),d=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var r=o(this),t=s(r),n=a(e,1<arguments.length?arguments[1]:void 0,3);return d(t,function(e,t){if(n(e,e,r))return t()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(19),a=r(9),s=r(13),d=r(35),c=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),r=new(d(t,o("Set")))(t),n=s(r.delete),i=s(r.add);return c(e,function(e){n.call(r,e)||i.call(r,e)}),r}})},function(e,t,r){"use strict";var n=r(8),i=r(11),o=r(19),a=r(9),s=r(13),d=r(35),c=r(12);n({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),t=new(d(t,o("Set")))(t);return c(e,s(t.add),{that:t}),t}})},function(e,t,r){r=r(158);e.exports=r},function(e,t,r){r(81),r(159);r=r(37);e.exports=r.Array.from},function(e,t,r){var n=r(8),i=r(160);n({target:"Array",stat:!0,forced:!r(163)(function(e){Array.from(e)})},{from:i})},function(e,t,r){"use strict";var f=r(18),g=r(50),m=r(161),b=r(73),y=r(43),v=r(162),h=r(56);e.exports=function(e){var t,r,n,i,o,a,s=g(e),d="function"==typeof this?this:Array,c=arguments.length,u=1<c?arguments[1]:void 0,p=void 0!==u,e=h(s),l=0;if(p&&(u=f(u,2<c?arguments[2]:void 0,2)),null==e||d==Array&&b(e))for(r=new d(t=y(s.length));l<t;l++)a=p?u(s[l],l):s[l],v(r,l,a);else for(o=(i=e.call(s)).next,r=new d;!(n=o.call(i)).done;l++)a=p?m(i,u,[n.value,l],!0):n.value,v(r,l,a);return r.length=l,r}},function(e,t,r){var i=r(9),o=r(74);e.exports=function(e,t,r,n){try{return n?t(i(r)[0],r[1]):t(r)}catch(t){throw o(e),t}}},function(e,t,r){"use strict";var n=r(49),i=r(25),o=r(40);e.exports=function(e,t,r){t=n(t);t in e?i.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){var i=r(15)("iterator"),o=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},function(e,t,r){"use strict";var l,f,g,m,b,y,v,n,h,i;Object.keys||(l=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=r(84),i=Object.prototype.propertyIsEnumerable,m=!i.call({toString:null},"toString"),b=i.call(function(){},"prototype"),y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=function(e){var t=e.constructor;return t&&t.prototype===e},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!n["$"+e]&&l.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{v(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),i=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===f.call(e),n=g(e),i=t&&"[object String]"===f.call(e),o=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var a=b&&r;if(i&&0<e.length&&!l.call(e,0))for(var s=0;s<e.length;++s)o.push(String(s));if(n&&0<e.length)for(var d=0;d<e.length;++d)o.push(String(d));else for(var c in e)a&&"prototype"===c||!l.call(e,c)||o.push(String(c));if(m)for(var u=function(e){if("undefined"==typeof window||!h)return v(e);try{return v(e)}catch(e){return!1}}(e),p=0;p<y.length;++p)u&&"constructor"===y[p]||!l.call(e,y[p])||o.push(y[p]);return o}),e.exports=i},function(e,t,r){"use strict";function n(e){return!(o&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===a(e)}function i(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Array]"!==a(e)&&"[object Function]"===a(e.callee)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=r(85)("Object.prototype.toString"),r=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=r?n:i},function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){e=Object.getOwnPropertyDescriptor(e,t);if(42!==e.value||!0!==e.enumerable)return!1}return!0}},function(e,t,r){"use strict";var d=Array.prototype.slice,c=Object.prototype.toString;e.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==c.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n=d.call(arguments,1),e=Math.max(0,r.length-n.length),i=[],o=0;o<e;o++)i.push("$"+o);var a,s=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var e=r.apply(this,n.concat(d.call(arguments)));return Object(e)===e?e:this}return r.apply(t,n.concat(d.call(arguments)))});return r.prototype&&((a=function(){}).prototype=r.prototype,s.prototype=new a,a.prototype=null),s}},function(e,t,r){"use strict";r=r(62);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";var n=r(38),i=r(63),o=r(88),a=r(89),r=r(170),i=i(a(),Object);n(i,{getPolyfill:a,implementation:o,shim:r}),e.exports=i},function(e,t,r){"use strict";var n=r(89),i=r(38);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,r){"use strict";var n,i,o,a,s=r(85),d=r(87)()&&"symbol"==typeof Symbol.toStringTag;d&&(n=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={},a={toString:r=function(){throw o},valueOf:r},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=r));var c=s("Object.prototype.toString"),u=Object.getOwnPropertyDescriptor;e.exports=d?function(e){if(!e||"object"!=typeof e)return!1;var t=u(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{i(e,a)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c(e)}},function(e,t,r){"use strict";var n=r(38),i=r(63),o=r(90),a=r(91),r=r(173),i=i(o);n(i,{getPolyfill:a,implementation:o,shim:r}),e.exports=i},function(e,t,r){"use strict";var n=r(38).supportsDescriptors,i=r(91),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,d=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!d)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=d(c),r=o(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,r){"use strict";var n=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,r){r(176);r=r(55);e.exports=r("String","includes")},function(e,t,r){"use strict";var n=r(8),i=r(177),o=r(42);n({target:"String",proto:!0,forced:!r(179)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){var n=r(178);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var n=r(20),i=r(36),o=r(15)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(15)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(t){}}return!1}},function(e,t,r){r(181);r=r(37);e.exports=r.Number.isInteger},function(e,t,r){r(8)({target:"Number",stat:!0},{isInteger:r(182)})},function(e,t,r){var n=r(20),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t,r){"use strict";r.r(t),r.d(t,"pluginClass",function(){return $i});var n={};r.r(n),r.d(n,"code",function(){return lr}),r.d(n,"generate",function(){return fr}),r.d(n,"validate",function(){return gr});var i={};r.r(i),r.d(i,"code",function(){return Nr}),r.d(i,"generate",function(){return zr}),r.d(i,"validate",function(){return Mr});var o={};r.r(o),r.d(o,"code",function(){return Vr}),r.d(o,"generate",function(){return Lr}),r.d(o,"validate",function(){return Hr});var a={};r.r(a),r.d(a,"code",function(){return Jr}),r.d(a,"generate",function(){return Xr}),r.d(a,"validate",function(){return $r});var s={};r.r(s),r.d(s,"code",function(){return tn}),r.d(s,"generate",function(){return rn}),r.d(s,"validate",function(){return nn});var d={};r.r(d),r.d(d,"code",function(){return fn}),r.d(d,"generate",function(){return gn}),r.d(d,"validate",function(){return mn});var c={};r.r(c),r.d(c,"code",function(){return Tn}),r.d(c,"generate",function(){return wn}),r.d(c,"validate",function(){return On});var u={};r.r(u),r.d(u,"code",function(){return jn}),r.d(u,"generate",function(){return Pn}),r.d(u,"validate",function(){return Rn});var p={};r.r(p),r.d(p,"code",function(){return Dn}),r.d(p,"generate",function(){return Bn}),r.d(p,"validate",function(){return Nn});var l={};r.r(l),r.d(l,"code",function(){return ni}),r.d(l,"generate",function(){return ii}),r.d(l,"validate",function(){return oi});var f={};r.r(f),r.d(f,"code",function(){return vi}),r.d(f,"generate",function(){return hi}),r.d(f,"validate",function(){return Ii});var g={};r.r(g),r.d(g,"code",function(){return wi}),r.d(g,"generate",function(){return Oi}),r.d(g,"validate",function(){return xi});var m={};r.r(m),r.d(m,"code",function(){return Pi}),r.d(m,"generate",function(){return Ri}),r.d(m,"validate",function(){return ki});var b={};r.r(b),r.d(b,"code",function(){return Bi}),r.d(b,"generate",function(){return Ni}),r.d(b,"validate",function(){return zi});var y={};r.r(y),r.d(y,"code",function(){return qi}),r.d(y,"generate",function(){return Fi}),r.d(y,"validate",function(){return Wi});var w=r(3);function v(){return window.jwpb}window.jwpb=window.jwpb||{},window.jwpb.cmd=window.jwpb.cmd||[],window.jwpb.que=window.jwpb.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("jwpb");var O=r(0),h=r(26),I=r.n(h),S=r(14),A=r(7),x=r(46),_=r(31),C=r(2);function E(e){var t={type:"xml",value:e.vastXml||'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+e.vastUrl+"]]></VASTAdTagURI>\n        <Impression>"+((t=e.vastImpUrl)?"<![CDATA["+t+"]]>":"")+"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>",ttlseconds:Number(e.ttl)};return C.b.getConfig("cache.vasttrack")&&(t.bidder=e.bidder,t.bidid=e.requestId,O.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(t.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(t.key=e.customCacheKey),t}var t=r(4),T=r.n(t),j={},P=["criteo","outstream","adagio","browsi"];var h=r(5),R=r.n(h);function k(e){var t=this,r=e.url,n=e.config,i=e.id,o=e.callback,a=e.loaded,s=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=i,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):O.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){var t,e;t=s,e=jwpb.adUnits,(e=R()(e,function(e){return e.code===t}))&&e.renderer&&e.renderer.url&&e.renderer.render?O.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit "+s):function(t,e,r){if(e&&t){if(T()(P,e))return j[t]?(r&&"function"==typeof r&&(j[t].loaded?r():j[t].callbacks.push(r)),j[t].tag):(j[t]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&j[t].callbacks.push(r),O.logWarn("module "+e+" is loading external JavaScript"),r=t,n=function(){j[t].loaded=!0;try{for(var e=0;e<j[t].callbacks.length;e++)j[t].callbacks[e]()}catch(e){O.logError("Error executing callback","adloader.js:loadExternalScript",e)}},(i=document.createElement("script")).type="text/javascript",i.async=!0,(j[t].tag=i).readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,n())}:i.onload=function(){n()},i.src=r,O.insertElement(i));O.logError(e+" not whitelisted for loading external JavaScript")}else O.logError("cannot load external script without url and moduleCode");var n,i}(r,"outstream",this.callback),this._render?this._render.apply(this,arguments):O.logWarn("No render function was provided, please use .setRender on the renderer")}.bind(this)}function U(e){return e&&e.url}function D(e,t){e.render(t)}k.install=function(e){return new k({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},k.prototype.getConfig=function(){return this.config},k.prototype.setRender=function(e){this._render=e},k.prototype.setEventHandlers=function(e){this.handlers=e},k.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),O.logMessage("Prebid Renderer event for id "+t+" type "+e)},k.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){O.logError("Error processing Renderer command: ",e)}};var B=r(27),N=r(10),z=r(32),M=r(1),q=B.a.syncUsers,F=r(0),W=r(16).default,G=r(26),V=r(7);G.on(V.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t,r=e.bidderCode,n=e.cpm;if(jwpb.bidderSettings&&(r&&jwpb.bidderSettings[r]&&"function"==typeof jwpb.bidderSettings[r].bidCpmAdjustment?t=jwpb.bidderSettings[r].bidCpmAdjustment:jwpb.bidderSettings[V.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof jwpb.bidderSettings[V.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=jwpb.bidderSettings[V.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{n=t(e.cpm,Object(w.default)({},e))}catch(e){F.logError("Error during bid adjustment","bidmanager.js",e)}0<=n&&(e.cpm=n)}(e)});var L={},H={},Y=[];function K(e){var t,i,g,m,o=e.adUnits,r=e.adUnitCodes,n=e.callback,a=e.cbTimeout,s=e.labels,e=e.auctionId,b=o,d=s,c=r,u=[],p=[],l=[],f=e||F.generateUUID(),y=n,v=a,h=[],I=new Set;function S(){return{auctionId:f,timestamp:t,auctionEnd:i,auctionStatus:g,adUnits:b,adUnitCodes:c,labels:d,bidderRequests:u,noBids:l,bidsReceived:p,winningBids:h,timeout:v}}function A(r,e){var n,t;e&&clearTimeout(m),void 0===i&&(n=[],r&&(F.logMessage("Auction "+f+" timedOut"),t=I,(n=u.map(function(e){return(e.bids||[]).filter(function(e){return!t.has(e.bidder)})}).reduce(O.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&G.emit(V.EVENTS.BID_TIMEOUT,n)),g="completed",i=Date.now(),G.emit(V.EVENTS.AUCTION_END,S()),$(b,function(){try{var e;null!=y&&(e=c,t=p.filter(F.bind.call(O.adUnitsFilter,this,e)).reduce(oe,{}),y.apply(jwpb,[t,r,f]),y=null)}catch(e){F.logError("Error executing bidsBackHandler",null,e)}finally{n.length&&W.callTimedOutBidders(o,n,v);var t=C.b.getConfig("userSync")||{};t.enableOverride||q(t.syncDelay)}}))}function _(){F.logInfo("Bids Received for Auction with id: "+f,p),A(!(g="completed"),!0)}function E(e){I.add(e)}function T(o){var a=this;o.forEach(function(e){u=u.concat(e)});var p={},e={bidRequests:o,run:function(){var e=A.bind(null,!0),e=setTimeout(e,v);m=e,g="inProgress",G.emit(V.EVENTS.AUCTION_INIT,S());var t,s,d,r,n,c,i=(t=_,s=a,d=0,r=!1,n=new Set,c={},{addBidResponse:function(e,t){c[t.requestId]=!0,d++;var r,n,i,o,a=function(e){var t=e.adUnitCode,r=e.bid,n=e.bidderRequest,i=e.auctionId,e=n.start,i=Object(w.default)({},r,{auctionId:i,responseTimestamp:Object(O.timestamp)(),requestTimestamp:e,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});i.timeToRespond=i.responseTimestamp-i.requestTimestamp,G.emit(V.EVENTS.BID_ADJUSTMENT,i);e=n.bids&&R()(n.bids,function(e){return e.adUnitCode==t}),n=e&&e.renderer;n&&n.url&&(i.renderer=k.install({url:n.url}),i.renderer.setRender(n.render));e=te(r.mediaType,e,C.b.getConfig("mediaTypePriceGranularity")),e=Object(x.a)(i.cpm,"object"==typeof e?e:C.b.getConfig("customPriceBucket"),C.b.getConfig("currency.granularityMultiplier"));return i.pbLg=e.low,i.pbMg=e.med,i.pbHg=e.high,i.pbAg=e.auto,i.pbDg=e.dense,i.pbCg=e.custom,i}({adUnitCode:e,bid:t,bidderRequest:this,auctionId:s.getAuctionId()});"video"===a.mediaType?(r=s,n=a,i=this,o=u,e=!0,t=Object(O.getBidRequest)(n.requestId,[i]),i=(i=t&&Object(O.deepAccess)(t,"mediaTypes.video"))&&Object(O.deepAccess)(i,"context"),C.b.getConfig("cache.url")&&i!==z.b&&(n.videoCacheKey?n.vastUrl||(F.logError("videoCacheKey specified but not required vastUrl for video bid"),e=!1):(e=!1,ee(r,n,o,t))),e&&(Z(r,n),o())):(Z(s,a),u())},adapterDone:function(){n.add(this),r=s.getBidRequests().every(function(e){return n.has(e)}),this.bids.forEach(function(e){c[e.bidId]||(s.addNoBid(e),G.emit(V.EVENTS.NO_BID,e))}),r&&0===d&&t()}});function u(){d--,r&&0===d&&t()}W.callBids(b,o,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];J.apply({dispatch:i.addBidResponse,bidderRequest:this},t)},i.adapterDone,{request:function(e,t){f(L,t),f(p,e),H[e]||(H[e]={SRA:!0,origin:t}),1<p[e]&&(H[e].SRA=!1)},done:function(e){L[e]--,Y[0]&&l(Y[0])&&Y.shift()}},v,E)}};function l(e){var n=!0,i=C.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(function(e){var t=1,r=void 0!==e.src&&e.src===V.S2S.SRC?"s2s":e.bidderCode;return H[r]&&(!1===H[r].SRA&&(t=Math.min(e.bids.length,i)),L[H[r].origin]+t>i&&(n=!1)),!n}),n&&e.run(),n}function f(e,t){void 0===e[t]?e[t]=1:e[t]++}l(e)||(F.logWarn("queueing auction due to limited endpoint capacity"),Y.push(e))}return{addBidReceived:function(e){p=p.concat(e)},addNoBid:function(e){l=l.concat(e)},executeCallback:A,callBids:function(){g="started",t=Date.now();var e=W.makeBidRequests(b,t,f,v,d);F.logInfo("Bids Requested for Auction with id: "+f,e),e.length<1?(F.logWarn("No valid bid requests returned for auction"),_()):X.call({dispatch:T,context:this},e)},addWinningBid:function(e){h=h.concat(e),W.callBidWonBidder(e.bidder,e,o)},setBidTargeting:function(e){W.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return h},getTimeout:function(){return v},getAuctionId:function(){return f},getAuctionStatus:function(){return g},getAdUnits:function(){return b},getAdUnitCodes:function(){return c},getBidRequests:function(){return u},getBidsReceived:function(){return p},getNoBids:function(){return l}}}var J=Object(N.b)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse"),X=Object(N.b)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests"),$=Object(N.b)("async",function(e,t){t&&t()},"bidsBackCallback");function Q(e,t){t.timeToRespond>e.getTimeout()+C.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function Z(e,t){var r,n,i=e.getBidRequests(),i=R()(i,function(e){return e.bidderCode===t.bidderCode});i=i,(r=t).bidderCode&&(0<r.cpm||r.dealId)&&(n=R()(i.bids,function(e){return e.adUnitCode===r.adUnitCode}),n=function(e,t,r){if(!t)return{};var n={},i=jwpb.bidderSettings;return i&&(ie(n,ne(t.mediaType,e,r),t),e&&i[e]&&i[e][V.JSON_MAPPING.ADSERVER_TARGETING]&&(ie(n,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting)),n=t.native?Object(w.default)({},n,Object(S.d)(t,r)):n}(r.bidderCode,r,n)),r.adserverTargeting=Object(w.default)(r.adserverTargeting||{},n),G.emit(V.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),Q(e,t)}var ee=Object(N.b)("async",function(r,n,i,e){var t,o;t=function(e,t){e?(F.logWarn("Failed to save to the video cache: "+e+". Video bid must be discarded."),Q(r,n)):""===t[0].uuid?(F.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),Q(r,n)):(n.videoCacheKey=t[0].uuid,n.vastUrl||(n.vastUrl=(t=n.videoCacheKey,C.b.getConfig("cache.url")+"?uuid="+t)),Z(r,n),i())},e={puts:[n].map(E,e=e)},Object(_.a)(C.b.getConfig("cache.url"),(o=t,{success:function(e){var t;try{t=JSON.parse(e).responses}catch(e){return void o(e,[])}t?o(null,t):o(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){o(new Error("Error storing video ad in the cache: "+e+": "+JSON.stringify(t)),[])}}),JSON.stringify(e),{contentType:"text/plain",withCredentials:!0})},"callPrebidCache");function te(e,t,r){if(e&&r){if(e===M.d){t=Object(O.deepAccess)(t,"mediaTypes."+M.d+".context","instream");if(r[M.d+"-"+t])return r[M.d+"-"+t]}return r[e]}}var re=function(t){return function(e){return t===V.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===V.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===V.GRANULARITY_OPTIONS.LOW?e.pbLg:t===V.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===V.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===V.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}};function ne(e,t,r){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return Object(O.getValue)(e,t)}}}var i,o,a,s=V.TARGETING_KEYS,i=(r=te(i=e,r,C.b.getConfig("mediaTypePriceGranularity")),"string"==typeof i&&r?"string"==typeof r?r:"custom":C.b.getConfig("priceGranularity")),r=jwpb.bidderSettings;return r[V.JSON_MAPPING.BD_SETTING_STANDARD]||(r[V.JSON_MAPPING.BD_SETTING_STANDARD]={}),r[V.JSON_MAPPING.BD_SETTING_STANDARD][V.JSON_MAPPING.ADSERVER_TARGETING]||(r[V.JSON_MAPPING.BD_SETTING_STANDARD][V.JSON_MAPPING.ADSERVER_TARGETING]=[n(s.BIDDER,"bidderCode"),n(s.AD_ID,"adId"),n(s.PRICE_BUCKET,re(i)),n(s.SIZE,"size"),n(s.DEAL,"dealId"),n(s.SOURCE,"source"),n(s.FORMAT,"mediaType")]),"video"===e&&(o=r[V.JSON_MAPPING.BD_SETTING_STANDARD][V.JSON_MAPPING.ADSERVER_TARGETING],[s.UUID,s.CACHE_ID].forEach(function(t){void 0===R()(o,function(e){return e.key===t})&&o.push(n(t,"videoCacheKey"))}),!C.b.getConfig("cache.url")||t&&!1===F.deepAccess(r,t+".sendStandardTargeting")||(a=Object(O.parseUrl)(C.b.getConfig("cache.url")),void 0===R()(o,function(e){return e.key===s.CACHE_HOST})&&o.push(n(s.CACHE_HOST,function(e){return F.deepAccess(e,"adserverTargeting."+s.CACHE_HOST)?e.adserverTargeting[s.CACHE_HOST]:a.hostname})))),r[V.JSON_MAPPING.BD_SETTING_STANDARD]}function ie(r,n,i){var e=n[V.JSON_MAPPING.ADSERVER_TARGETING];return i.size=i.getSize(),F._each(e,function(e){var t=e.key,e=e.val;if(r[t]&&F.logWarn("The key: "+t+" is getting ovewritten"),F.isFn(e))try{e=e(i)}catch(e){F.logError("bidmanager","ERROR",e)}(void 0===n.suppressEmptyKeys||!0!==n.suppressEmptyKeys)&&t!==V.TARGETING_KEYS.DEAL||!F.isEmptyStr(e)&&null!=e?r[t]=e:F.logInfo("suppressing empty key '"+t+"' from adserver targeting")}),r}function oe(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}var ae,se,de=r(7),ce=(ae=[],(se={}).addWinningBid=function(t){var e=R()(ae,function(e){return e.getAuctionId()===t.auctionId});e?(t.status=de.BID_STATUS.RENDERED,e.addWinningBid(t)):Object(O.logWarn)("Auction not found when adding winning bid")},se.getAllWinningBids=function(){return ae.map(function(e){return e.getWinningBids()}).reduce(O.flatten,[])},se.getBidsRequested=function(){return ae.map(function(e){return e.getBidRequests()}).reduce(O.flatten,[])},se.getNoBids=function(){return ae.map(function(e){return e.getNoBids()}).reduce(O.flatten,[])},se.getBidsReceived=function(){return ae.map(function(e){if("completed"===e.getAuctionStatus())return e.getBidsReceived()}).reduce(O.flatten,[]).filter(function(e){return e})},se.getAdUnits=function(){return ae.map(function(e){return e.getAdUnits()}).reduce(O.flatten,[])},se.getAdUnitCodes=function(){return ae.map(function(e){return e.getAdUnitCodes()}).reduce(O.flatten,[]).filter(O.uniques)},se.createAuction=function(e){e=K({adUnits:e.adUnits,adUnitCodes:e.adUnitCodes,callback:e.callback,cbTimeout:e.cbTimeout,labels:e.labels,auctionId:e.auctionId});return ae.push(e),e},se.findBidByAdId=function(t){return R()(ae.map(function(e){return e.getBidsReceived()}).reduce(O.flatten,[]),function(e){return e.adId===t})},se.getStandardBidderAdServerTargeting=function(){return ne()[de.JSON_MAPPING.ADSERVER_TARGETING]},se.setStatusForBids=function(e,t){var r,n=se.findBidByAdId(e);n&&(n.status=t),n&&t===de.BID_STATUS.BID_TARGETING_SET&&(r=R()(ae,function(e){return e.getAuctionId()===n.auctionId}))&&r.setBidTargeting(n)},se.getLastAuctionId=function(){return ae.length&&ae[ae.length-1].getAuctionId()},se),ue=A.EVENTS.BID_WON;function pe(e){var t,r,n,i,o,a,s,d,c,u,p,l,f,g=e.message?"message":"data",m={};try{m=JSON.parse(e[g])}catch(e){return}m&&m.adId&&((t=R()(ce.getBidsReceived(),function(e){return e.adId===m.adId}))&&"Prebid Request"===m.message&&(n=e,d=(r=t).adId,c=r.ad,u=r.adUrl,p=r.width,l=r.height,f=r.renderer,g=r.cpm,U(f)?D(f,r):d&&(i=r.adId,o=r.adUnitCode,a=r.width,s=r.height,["div","iframe"].forEach(function(e){var r,t,n,n=(n=e+':not([style*="display: none"])',t=o,t=window.googletag?(r=i,R()(window.googletag.pubads().getSlots(),function(t){return R()(t.getTargetingKeys(),function(e){return T()(t.getTargeting(e),r)})}).getSlotElementId()):window.apntag?(e=window.apntag.getTag(t))&&e.targetId:t,(t=document.getElementById(t))&&t.querySelector(n));n?((n=n.style).width=a+"px",n.height=s+"px"):Object(O.logWarn)("Unable to locate matching page element for adUnitCode "+o+".  Can't resize it to ad's dimensions.  Please review setup.")}),n.source.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(O.replaceAuctionPrice)(c,g),adUrl:Object(O.replaceAuctionPrice)(u,g),adId:d,width:p,height:l}),n.origin)),ce.addWinningBid(t),I.a.emit(ue,t)),t&&"Prebid Native"===m.message&&("assetRequest"!==m.action?"click"!==Object(S.b)(m,t)&&(ce.addWinningBid(t),I.a.emit(ue,t)):(t=Object(S.c)(m,t),e.source.postMessage(JSON.stringify(t),e.origin))))}function le(e){return e.responseTimestamp+1e3*e.ttl+1e3>Object(O.timestamp)()}function fe(e){return e&&(e.status&&!T()([be.BID_STATUS.RENDERED],e.status)||!e.status)}var ge=r(33),me=r(0),be=r(7),ye=[],ve=Object.keys(be.TARGETING_KEYS).map(function(e){return be.TARGETING_KEYS[e]});function he(e,n,i){void 0===i&&(i=0);var o=[],a=C.b.getConfig("sendBidsControl.dealPrioritization"),s=Object(O.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(function(e){var t=[],r=Object(O.groupBy)(s[e],"bidderCode");Object.keys(r).forEach(function(e){return t.push(r[e].reduce(n))}),0<i?(t=a?t(Ie(!0)):t.sort(function(e,t){return t.cpm-e.cpm}),o.push.apply(o,t.slice(0,i))):o.push.apply(o,t)}),o}function Ie(r){return void 0===r&&(r=!1),function(e,t){return void 0!==e.adUnitTargeting.hb_deal&&void 0===t.adUnitTargeting.hb_deal?-1:void 0===e.adUnitTargeting.hb_deal&&void 0!==t.adUnitTargeting.hb_deal?1:r?t.cpm-e.cpm:t.adUnitTargeting.hb_pb-e.adUnitTargeting.hb_pb}}var Se,Ae,_e,Ee,Te,we=(_e=ce,Te={},(Ee={}).setLatestAuctionForAdUnit=function(e,t){Te[e]=t},Ee.resetPresetTargeting=function(e,t){var r,i;Object(O.isGptPubadsDefined)()&&(r=xe(e),i=_e.getAdUnits().filter(function(e){return T()(r,e.code)}),window.googletag.pubads().getSlots().forEach(function(r){var n=me.isFn(t)&&t(r);ye.forEach(function(t){i.forEach(function(e){(e.code===r.getAdUnitPath()||e.code===r.getSlotElementId()||me.isFn(n)&&n(e.code))&&r.setTargeting(t,null)})})}))},Ee.resetPresetTargetingAST=function(e){xe(e).forEach(function(e){var t,r,n=window.apntag.getTag(e);n&&n.keywords&&(t=Object.keys(n.keywords),r={},t.forEach(function(e){T()(ye,e.toLowerCase())||(r[e]=n.keywords[e])}),window.apntag.modifyTag(e,{keywords:r}))})},Ee.getAllTargeting=function(e,t){void 0===t&&(t=Ce());var r,n,i,a,o=xe(e);(c=(e=t,e=Ee.getWinningBids(o,e),a=je(),e.map(function(o){var e;return(e={})[o.adUnitCode]=Object.keys(o.adserverTargeting).filter(function(e){return void 0===o.sendStandardTargeting||o.sendStandardTargeting||-1===a.indexOf(e)}).reduce(function(e,t){var r=[o.adserverTargeting[t]],n=((i={})[t.substring(0,20)]=r,i);if(t!==be.TARGETING_KEYS.DEAL)return[].concat(e,[n]);var i=((i={})[(t+"_"+o.bidderCode).substring(0,20)]=r,i);return[].concat(e,[n,i])},[]),e}).concat((i=o,t.filter(function(e){return T()(i,e.adUnitCode)}).map(function(e){return Object(w.default)({},e)}).reduce(Pe,[]).map(ke).filter(function(e){return e}))).concat(C.b.getConfig("enableSendAllBids")?(r=o,e=t,n=ve.concat(S.a),u=C.b.getConfig("sendBidsControl.bidLimit"),he(e,O.getHighestCpm,u).map(function(t){var e;if(Oe(t,r))return(e={})[t.adUnitCode]=Ue(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]})),e}).filter(function(e){return e})):function(r,e){if(!0!==C.b.getConfig("targetingControls.alwaysIncludeDeals"))return[];var n=ve.concat(S.a);return he(e,O.getHighestCpm).map(function(t){var e;if(t.dealId&&Oe(t,r))return(e={})[t.adUnitCode]=Ue(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]})),e}).filter(function(e){return e})}(o,t)))).map(function(t){Object.keys(t).map(function(e){t[e].map(function(e){-1===ye.indexOf(Object.keys(e)[0])&&(ye=Object.keys(e).concat(ye))})})});var s,d,c=c.map(function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].map(function(e){var t;return(t={})[Object.keys(e)[0]]=e[Object.keys(e)[0]].join(", "),t}).reduce(function(e,t){return Object(w.default)(t,e)},{}),t}).reduce(function(e,t){var r=Object.keys(t)[0];return e[r]=Object(w.default)({},e[r],t[r]),e},{}),u=C.b.getConfig("targetingControls.auctionKeyMaxChars");return u&&(Object(O.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of "+u+" characters.  Running checks on auction keys..."),t=c,s=u,d=Object(O.deepClone)(t),c=Object.keys(d).map(function(e){return{adUnitCode:e,adUnitTargeting:d[e]}}).sort(Ie()).reduce(function(e,t,r,n){var i,o=(i=t.adUnitTargeting,Object.keys(i).reduce(function(e,t){return e+(t+"%3d")+encodeURIComponent(i[t])+"%26"},""));r+1===n.length&&(o=o.slice(0,-3));t=t.adUnitCode,o=o.length;return o<=s?(s-=o,Object(O.logInfo)("AdUnit '"+t+"' auction keys comprised of "+o+" characters.  Deducted from running threshold; new limit is "+s,d[t]),e[t]=d[t]):Object(O.logWarn)("The following keys for adUnitCode '"+t+"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was "+o+", the current allotted amount was "+s+".\n",d[t]),r+1===n.length&&0===Object.keys(e).length&&Object(O.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})),o.forEach(function(e){c[e]||(c[e]={})}),c},Ee.setTargetingForGPT=function(i,e){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(i).filter((e||Object(O.isAdUnitCodeMatchingSlot))(n)).forEach(function(r){return Object.keys(i[r]).forEach(function(t){var e=i[r][t].split(",");(e=1<e.length?[e]:e).map(function(e){return me.logMessage("Attempting to set key value for slot: "+n.getSlotElementId()+" key: "+t+" value: "+e),e}).forEach(function(e){n.setTargeting(t,e)})})})})},Ee.getWinningBids=function(e,r){void 0===r&&(r=Ce());var t=xe(e);return r.filter(function(e){return T()(t,e.adUnitCode)}).filter(function(e){return 0<e.cpm}).map(function(e){return e.adUnitCode}).filter(O.uniques).map(function(t){return r.filter(function(e){return e.adUnitCode===t?e:null}).reduce(O.getHighestCpm)})},Ee.setTargetingForAst=function(e){var n=Ee.getAllTargeting(e);try{Ee.resetPresetTargetingAST(e)}catch(e){me.logError("unable to reset targeting for AST"+e)}Object.keys(n).forEach(function(r){return Object.keys(n[r]).forEach(function(e){var t;me.logMessage("Attempting to set targeting for targetId: "+r+" key: "+e+" value: "+n[r][e]),(me.isStr(n[r][e])||me.isArray(n[r][e]))&&(t={},e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=n[r][e]:t[e]=n[r][e],window.apntag.setKeywords(r,t,{overrideKeyValue:!0}))})})},Ee.isApntagDefined=function(){if(window.apntag&&me.isFn(window.apntag.setKeywords))return!0},Ee);function Oe(e,t){return e.adserverTargeting&&t&&(me.isArray(t)&&T()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function xe(e){return"string"==typeof e?[e]:me.isArray(e)?e:_e.getAdUnitCodes()||[]}function Ce(){var e=_e.getBidsReceived();return he(e=(e=!C.b.getConfig("useBidCache")?e.filter(function(e){return Te[e.adUnitCode]===e.auctionId}):e).filter(function(e){return Object(O.deepAccess)(e,"video.context")!==M.a}).filter(function(e){return"banner"!==e.mediaType||Object(ge.c)([e.width,e.height])}).filter(fe).filter(le),O.getOldestHighestCpmBid)}function je(){return _e.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(ve).filter(O.uniques)}function Pe(n,i,e,t){return Object.keys(i.adserverTargeting).filter(Re()).forEach(function(e){var t,r;n.length&&n.filter((r=e,function(e){return e.adUnitCode===i.adUnitCode&&e.adserverTargeting[r]})).forEach((t=e,function(e){me.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(i.adserverTargeting[t]).filter(O.uniques),delete i.adserverTargeting[t]}))}),n.push(i),n}function Re(){var t=je().concat(S.a);return function(e){return-1===t.indexOf(e)}}function ke(r){var e;return(e={})[r.adUnitCode]=Object.keys(r.adserverTargeting).filter(Re()).map(function(e){var t;return(t={})[e.substring(0,20)]=[r.adserverTargeting[e]],t}),e}function Ue(r,e){return e.map(function(e){var t;return(t={})[(e+"_"+r.bidderCode).substring(0,20)]=[r.adserverTargeting[e]],t})}function De(e){Object(O.logMessage)("DEBUG: "+e)}function Be(e){Object(O.logWarn)("DEBUG: "+e)}function Ne(e){Se=function(e,t,r){Fe(this.bidders,r.bidderCode)?Be("bidder '"+r.bidderCode+"' excluded from auction by bidder overrides"):(Array.isArray(this.bids)&&this.bids.forEach(function(e){qe(e,r.bidderCode,t)||We(e,r,"bidder")}),e(t,r))}.bind(e),J.before(Se,5),Ae=function(e,t){var n=this,t=t.filter(function(e){return!Fe(n.bidders,e.bidderCode)||(Be("bidRequest '"+e.bidderCode+"' excluded from auction by bidder overrides"),!1)});Array.isArray(n.bidRequests)&&t.forEach(function(r){n.bidRequests.forEach(function(t){r.bids.forEach(function(e){qe(t,r.bidderCode,e.adUnitCode)||We(t,e,"bidRequest")})})}),e(t)}.bind(e),X.before(Ae,5)}function ze(){J.getHooks({hook:Se}).remove(),X.getHooks({hook:Ae}).remove()}function Me(e,t){void 0===t&&(t=!1),C.b.setConfig({debug:!0}),ze(),Ne(e),De("bidder overrides enabled"+(t?" from session":""))}function qe(e,t,r){return e.bidder&&e.bidder!==t||e.adUnitCode&&e.adUnitCode!==r}function Fe(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function We(r,e,n){return Object.keys(r).filter(function(e){return-1===["adUnitCode","bidder"].indexOf(e)}).reduce(function(e,t){return De("bidder overrides changed '"+e.adUnitCode+"/"+e.bidderCode+"' "+n+"."+t+" from '"+e[t]+".js' to '"+r[t]+"'"),e[t]=r[t],e},e)}C.b.getConfig("debugging",function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem("jwpb:debugging",JSON.stringify(e))}catch(e){}Me(e)}else{ze(),De("bidder overrides disabled");try{window.sessionStorage.removeItem("jwpb:debugging")}catch(e){}}}(e.debugging)});var Ge=r(29),Ve=r(47),Le=r(28),He=v(),Ye=r(7),Ke=r(0),Je=r(16).default,Xe=r(26),t=B.a.triggerUserSyncs,h=Ye.EVENTS,$e=h.ADD_AD_UNITS,Qe=h.BID_WON,Ze=h.REQUEST_BIDS,et=h.SET_TARGETING,tt=h.AD_RENDER_FAILED,h=Ye.AD_RENDER_FAILED_REASON,rt=h.PREVENT_WRITING_ON_MAIN_DOCUMENT,nt=h.NO_AD,it=h.EXCEPTION,ot=h.CANNOT_FIND_AD,at=h.MISSING_DOC_OR_ADID,st={bidWon:function(e){var t=ce.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(O.flatten).filter(O.uniques);if(Ke.contains(t,e))return!0;Ke.logError('The "'+e+'" placement is not defined.')}};function dt(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function ct(e,t){var r=[];return Ke.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every(function(e){return Object(O.isArrayOfNums)(e,2)})?r=e:Object(O.isArrayOfNums)(e,2)&&r.push(e)),r}!function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem("jwpb:debugging"))}catch(e){}t&&Me(t,!0)}(),He.bidderSettings=He.bidderSettings||{},He.libLoaded=!0,He.version="v3.27.1",Ke.logInfo("Prebid.js v3.27.1 loaded"),He.adUnits=He.adUnits||[],He.triggerUserSyncs=t;var ut=Object(N.b)("sync",function(e){var d=[];return e.forEach(function(e){var t,r,n,i,o,a,s=e.mediaTypes;s&&0!==Object.keys(s).length?(s.banner&&(i=e,o=Ke.deepClone(i),a=o.mediaTypes.banner,0<(i=ct(a.sizes)).length?(a.sizes=i,o.sizes=i):(Ke.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete o.mediaTypes.banner),t=o),s.video&&(a=t||e,n=Ke.deepClone(a),(i=n.mediaTypes.video).playerSize&&(o="number"==typeof i.playerSize[0]?2:1,0<(a=ct(i.playerSize,o)).length?(2==o&&Ke.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),i.playerSize=a,n.sizes=a):(Ke.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete n.mediaTypes.video.playerSize)),n=n),s.native&&(s=n||t||e,r=Ke.deepClone(s),(s=r.mediaTypes.native).image&&s.image.sizes&&!Array.isArray(s.image.sizes)&&(Ke.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete r.mediaTypes.native.image.sizes),s.image&&s.image.aspect_ratios&&!Array.isArray(s.image.aspect_ratios)&&(Ke.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete r.mediaTypes.native.image.aspect_ratios),s.icon&&s.icon.sizes&&!Array.isArray(s.icon.sizes)&&(Ke.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete r.mediaTypes.native.icon.sizes),r=r),r=Object(w.default)({},t,n,r),d.push(r)):Ke.logError("Detected adUnit.code '"+e.code+"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.")}),d},"checkAdUnitSetup");function pt(e){var r=ce[e]().filter(Ke.bind.call(O.adUnitsFilter,this,ce.getAdUnitCodes())),n=ce.getLastAuctionId();return r.map(function(e){return e.adUnitCode}).filter(O.uniques).map(function(t){return r.filter(function(e){return e.auctionId===n&&e.adUnitCode===t})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){var t;return(t={})[e[0].adUnitCode]={bids:e},t}).reduce(function(e,t){return Object(w.default)(e,t)},{})}function lt(e){var t=e.reason,r=e.message,n=e.bid,e=e.id,t={reason:t,message:r};n&&(t.bid=n),e&&(t.adId=e),Ke.logError(r),Xe.emit(tt,t)}function ft(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Ke.logError("Error processing command :","prebid.js",e)}})}He.getAdserverTargetingForAdUnitCodeStr=function(e){if(Ke.logInfo("Invoking jwpb.getAdserverTargetingForAdUnitCodeStr",arguments),e){e=He.getAdserverTargetingForAdUnitCode(e);return Ke.transformAdServerTargetingObj(e)}Ke.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},He.getAdserverTargetingForAdUnitCode=function(e){return He.getAdserverTargeting(e)[e]},He.getAdserverTargeting=function(e){return Ke.logInfo("Invoking jwpb.getAdserverTargeting",arguments),we.getAllTargeting(e)},He.getNoBids=function(){return Ke.logInfo("Invoking jwpb.getNoBids",arguments),pt("getNoBids")},He.getBidResponses=function(){return Ke.logInfo("Invoking jwpb.getBidResponses",arguments),pt("getBidsReceived")},He.getBidResponsesForAdUnitCode=function(t){return{bids:ce.getBidsReceived().filter(function(e){return e.adUnitCode===t})}},He.setTargetingForGPTAsync=function(e,t){var r;Ke.logInfo("Invoking jwpb.setTargetingForGPTAsync",arguments),Object(O.isGptPubadsDefined)()?(r=we.getAllTargeting(e),we.resetPresetTargeting(e,t),we.setTargetingForGPT(r,t),Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(e){"hb_adid"===e&&ce.setStatusForBids(r[t][e],Ye.BID_STATUS.BID_TARGETING_SET)})}),Xe.emit(et,r)):Ke.logError("window.googletag is not defined on the page")},He.setTargetingForAst=function(e){Ke.logInfo("Invoking jwpb.setTargetingForAn",arguments),we.isApntagDefined()?(we.setTargetingForAst(e),Xe.emit(et,we.getAllTargeting())):Ke.logError("window.apntag is not defined on the page")},He.renderAd=function(e,t){if(Ke.logInfo("Invoking jwpb.renderAd",arguments),Ke.logMessage("Calling renderAd with adId :"+t),e&&t)try{var r,n,i,o,a,s,d,c,u,p=ce.findBidByAdId(t);p?(p.ad=Ke.replaceAuctionPrice(p.ad,p.cpm),p.adUrl=Ke.replaceAuctionPrice(p.adUrl,p.cpm),ce.addWinningBid(p),Xe.emit(Qe,p),r=p.height,n=p.width,i=p.ad,o=p.mediaType,a=p.adUrl,s=p.renderer,d=document.createComment("Creative "+p.creativeId+" served by "+p.bidder+" Prebid.js Header Bidding"),Ke.insertElement(d,e,"body"),U(s)?D(s,p):e===document&&!Ke.inIframe()||"video"===o?lt({reason:rt,message:"Error trying to write ad. Ad render call ad id "+t+" was prevented from writing to the main document.",bid:p,id:t}):i?(navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox/")&&((c=navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1])&&parseInt(c,10)<67&&e.open("text/html","replace")),e.write(i),e.close(),dt(e,n,r),Ke.callBurl(p)):a?((u=Ke.createInvisibleIframe()).height=r,u.width=n,u.style.display="inline",u.style.overflow="hidden",u.src=a,Ke.insertElement(u,e,"body"),dt(e,n,r),Ke.callBurl(p)):lt({reason:nt,message:"Error trying to write ad. No ad for bid response id: "+t,bid:p,id:t})):lt({reason:ot,message:"Error trying to write ad. Cannot find ad by given id : "+t,id:t})}catch(e){p="Error trying to write ad Id :"+t+" to the page:"+e.message;lt({reason:it,message:p,id:t})}else lt({reason:at,message:"Error trying to write ad Id :"+t+" to the page. Missing document or adId",id:t})},He.removeAdUnit=function(e){Ke.logInfo("Invoking jwpb.removeAdUnit",arguments),e?(Ke.isArray(e)?e:[e]).forEach(function(e){for(var t=He.adUnits.length-1;0<=t;t--)He.adUnits[t].code===e&&He.adUnits.splice(t,1)}):He.adUnits=[]},He.requestBids=Object(N.b)("async",function(e){var t=void 0===e?{}:e,r=t.bidsBackHandler,n=t.timeout,i=t.adUnits,o=t.adUnitCodes,a=t.labels,t=t.auctionId;Xe.emit(Ze);n=n||C.b.getConfig("bidderTimeout"),i=i||He.adUnits;if(Ke.logInfo("Invoking jwpb.requestBids",arguments),i=ut(i),o&&o.length?i=i.filter(function(e){return T()(o,e.code)}):o=i&&i.map(function(e){return e.code}),i.forEach(function(n){var i=Object.keys(n.mediaTypes||{banner:"banner"}),e=n.bids.map(function(e){return e.bidder}),o=Je.bidderRegistry,t=C.b.getConfig("s2sConfig"),r=t&&t.bidders,e=r?e.filter(function(e){return!T()(r,e)}):e;n.transactionId=Ke.generateUUID(),e.forEach(function(t){var e=o[t],e=e&&e.getSpec&&e.getSpec(),r=e&&e.supportedMediaTypes||["banner"];i.some(function(e){return T()(r,e)})?Ge.a.incrementBidderRequestsCounter(n.code,t):(Ke.logWarn(Ke.unsupportedBidderMessage(n,t)),n.bids=n.bids.filter(function(e){return e.bidder!==t}))}),Ge.a.incrementRequestsCounter(n.code)}),i&&0!==i.length){var s=ce.createAuction({adUnits:i,adUnitCodes:o,callback:r,cbTimeout:n,labels:a,auctionId:t}),t=i.length;15<t&&Ke.logInfo("Current auction "+s.getAuctionId()+" contains "+t+" adUnits.",i),o.forEach(function(e){return we.setLatestAuctionForAdUnit(e,s.getAuctionId())}),s.callBids()}else if(Ke.logMessage("No adUnits configured. No bids requested."),"function"==typeof r)try{r()}catch(e){Ke.logError("Error executing bidsBackHandler",null,e)}}),He.requestBids.before(function(e,t){!function(e){for(var t;t=e.shift();)t()}(Le.c),e.call(this,t)},49),He.addAdUnits=function(e){Ke.logInfo("Invoking jwpb.addAdUnits",arguments),Ke.isArray(e)?He.adUnits.push.apply(He.adUnits,e):"object"==typeof e&&He.adUnits.push(e),Xe.emit($e)},He.onEvent=function(e,t,r){Ke.logInfo("Invoking jwpb.onEvent",arguments),Ke.isFn(t)?!r||st[e].call(null,r)?Xe.on(e,t,r):Ke.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):Ke.logError('The event handler provided is not a function and was not set on event "'+e+'".')},He.offEvent=function(e,t,r){Ke.logInfo("Invoking jwpb.offEvent",arguments),r&&!st[e].call(null,r)||Xe.off(e,t,r)},He.registerBidAdapter=function(e,t){Ke.logInfo("Invoking jwpb.registerBidAdapter",arguments);try{Je.registerBidAdapter(e(),t)}catch(e){Ke.logError("Error registering bidder adapter : "+e.message)}},He.registerAnalyticsAdapter=function(e){Ke.logInfo("Invoking jwpb.registerAnalyticsAdapter",arguments);try{Je.registerAnalyticsAdapter(e)}catch(e){Ke.logError("Error registering analytics adapter : "+e.message)}},He.createBid=function(e){return Ke.logInfo("Invoking jwpb.createBid",arguments),Object(Ve.a)(e)},He.enableAnalytics=function(e){e&&!Ke.isEmpty(e)?(Ke.logInfo("Invoking jwpb.enableAnalytics for: ",e),Je.enableAnalytics(e)):Ke.logError("jwpb.enableAnalytics should be called with option {}")},He.aliasBidder=function(e,t){Ke.logInfo("Invoking jwpb.aliasBidder",arguments),e&&t?Je.aliasBidAdapter(e,t):Ke.logError("bidderCode and alias must be passed as arguments","jwpb.aliasBidder")},He.getAllWinningBids=function(){return ce.getAllWinningBids()},He.getAllPrebidWinningBids=function(){return ce.getBidsReceived().filter(function(e){return e.status===Ye.BID_STATUS.BID_TARGETING_SET})},He.getHighestCpmBids=function(e){return we.getWinningBids(e)},He.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=ce.getBidsReceived().filter(function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode}):t.adUnitCode?e=we.getWinningBids(t.adUnitCode):t.adId?e=ce.getBidsReceived().filter(function(e){return e.adId===t.adId}):Ke.logWarn("Inproper usage of markWinningBidAsUsed. It'll need an adUnitCode and/or adId to function."),0<e.length&&(e[0].status=Ye.BID_STATUS.RENDERED)},He.getConfig=C.b.getConfig,He.setConfig=C.b.setConfig,He.setBidderConfig=C.b.setBidderConfig,He.que.push(function(){window.addEventListener("message",pe,!1)}),He.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Ke.logError("Error processing command :",e.message,e.stack)}else Ke.logError("Commands written into jwpb.cmd.push must be wrapped in a function")},He.que.push=He.cmd.push,He.processQueue=function(){N.b.ready(),ft(He.que),ft(He.cmd)};var gt,mt,bt,yt,vt,ht,It=He,St=r(16),h=r(95),At=r.n(h),_t=0,Et=!1,Tt={iab:function(r,n,o){function e(e,t){O.logInfo("Received a response from CMP",e),t?(!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus||"cmpuishown"===e.eventStatus&&e.tcString&&!0===e.purposeOneTreatment)&&r(e,o):n("CMP unable to register callback function.  Please check CMP setup.",o)}var t,i=(t={},{consentDataCallback:function(e){t.getConsentData=e,c()},vendorConsentsCallback:function(e){t.getVendorConsents=e,c()}}),d={},a=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){t="function"==typeof r.__tcfapi?(_t=2,r.__tcfapi):(_t=1,r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){_t=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){_t=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),s=a.cmpFrame,a=a.cmpFunction;function c(){t.getConsentData&&t.getVendorConsents&&(O.logInfo("Received all requested responses from CMP",t),r(t,o))}if(!s)return n("CMP not found.",o);function u(r,n){var e=o.adUnits,t=1,i=1;Array.isArray(e)&&0<e.length&&(t=(e=O.getAdUnitSizes(e[0]))[0][0],i=e[0][1]),window.$sf.ext.register(t,i,function(e,t){"cmpReturn"===e&&(t="getConsentData"===r?t.vendorConsentData:t.vendorConsents,n(t))}),window.$sf.ext.cmp(r)}function p(e,a,t){var s=2===_t?"__tcfapi":"__cmp";window[s]=function(e,t,r){var n=Math.random()+"",i=s+"Call",o=((o={})[i]={command:e,parameter:t,callId:n},o);1!==_t&&(o[i].version=_t),d[n]=r,a.postMessage(o,"*")},window.addEventListener("message",function(e){var t=s+"Return",e="string"==typeof e.data&&At()(e.data,t)?JSON.parse(e.data):e.data;e[t]&&e[t].callId&&(t=e[t],void 0!==d[t.callId]&&d[t.callId](t.returnValue,t.success))},!1),window[s](e,null,t)}O.isFn(a)?(O.logInfo("Detected CMP API is directly accessible, calling it now..."),1===_t?(a("getConsentData",null,i.consentDataCallback),a("getVendorConsents",null,i.vendorConsentsCallback)):2===_t&&a("addEventListener",_t,e)):1===_t&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(O.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),u("getConsentData",i.consentDataCallback),u("getVendorConsents",i.vendorConsentsCallback)):(O.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===_t?(p("getConsentData",s,i.consentDataCallback),p("getVendorConsents",s,i.vendorConsentsCallback)):2===_t&&p("addEventListener",s,e))},static:function(e,t,r){e(vt,r)}};function wt(e,t){t={context:this,args:[t],nextFn:e,adUnits:t.adUnits||jwpb.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return ht?(O.logInfo("User consent information already known.  Pulling internally stored information..."),jt(null,t)):T()(Object.keys(Tt),gt)?(Tt[gt].call(this,Ot,xt,t),void(t.haveExited||(0===mt?Ot(void 0,t):t.timer=setTimeout(function(e){xt("CMP workflow exceeded timeout threshold.",e)}.bind(null,t),mt)))):(O.logWarn("CMP framework ("+gt+") is not a supported framework.  Aborting consentManagement module and resuming auction."),t.nextFn.apply(t.context,t.args))}function Ot(r,e){"static"===gt&&2==(_t=r.getConsentData?1:r.getTCData?2:0)&&(r=r.getTCData);var t=1===_t?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||O.isStr(e.getConsentData.consentData)&&O.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===_t?function(){var e=r&&"boolean"==typeof r.gdprApplies?r.gdprApplies:yt,t=r&&r.tcString;return!("boolean"==typeof e&&(!0!==e||O.isStr(t)))}:null;O.isFn(t)?t(r)?xt("CMP returned unexpected value during lookup process.",e,r):(clearTimeout(e.timer),Ct(r),jt(null,e)):xt("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",e,r)}function xt(e,t,r){clearTimeout(t.timer),bt&&Ct(void 0),jt(e,t,r)}function Ct(e){(ht=1===_t?{consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:yt}:{consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:yt}).apiVersion=_t,St.gdprDataHandler.setConsentData(ht)}function jt(e,t,r){var n,i,o;!1===t.haveExited&&(t.haveExited=!0,n=t.context,i=t.args,o=t.nextFn,e?bt?(O.logWarn(e+" Resuming auction without consent data as per consentManagement config.",r),o.apply(n,i)):(O.logError(e+" Canceling auction as per consentManagement config.",r),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():O.logError("Error executing bidsBackHandler")):o.apply(n,i))}C.b.getConfig("consentManagement",function(e){(e=(e=e.consentManagement).gdpr||e.usp?e.gdpr:e)&&"object"==typeof e?(O.isStr(e.cmpApi)?gt=e.cmpApi:(gt="iab",O.logInfo("consentManagement config did not specify cmp.  Using system default setting (iab).")),O.isNumber(e.timeout)?mt=e.timeout:(mt=1e4,O.logInfo("consentManagement config did not specify timeout.  Using system default setting (10000).")),"boolean"==typeof e.allowAuctionWithoutConsent?bt=e.allowAuctionWithoutConsent:(bt=!0,O.logInfo("consentManagement config did not specify allowAuctionWithoutConsent.  Using system default setting (true).")),yt=!0===e.defaultGdprScope,O.logInfo("consentManagement module has been activated..."),"static"===gt&&(O.isPlainObject(e.consentData)?(vt=e.consentData,mt=0):O.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),Et||jwpb.requestBids.before(wt,50),Et=!0):O.logWarn("consentManagement config not defined, exiting consent manager")});var Pt,Rt,kt=v(),Ut={env:"vp",gdfp_req:1,output:"xml_vast3",unviewed_position_start:1},Dt={};function Bt(e,t,r){if(!C.b.getConfig("cache.url"))if(Object(O.deepAccess)(t,r+".description_url"))Object(O.logError)("input cannnot contain description_url");else{e=e&&e.vastUrl;if(e)return encodeURIComponent(e)}}function Nt(e,t){var r,n=e&&e.adserverTargeting||{},i={},o=t&&t.adUnit;o&&(i=(r=we.getAllTargeting(o.code))?r[o.code]:{});t=Object(O.deepAccess)(t,"params.cust_params"),t=Object(w.default)({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},i,n,t);return encodeURIComponent(Object(O.formatQS)(t))}Object(N.a)("registerAdserver").before(function(e){e.call(this,"dfp")}),Pt="dfp",Rt={buildVideoUrl:function(e){if(e.params||e.url){var t=e.adUnit,r=e.bid||we.getWinningBids(t.code)[0],n={};if(e.url&&(n=Object(O.parseUrl)(e.url,{noDecodeWholeURL:!0}),Object(O.isEmpty)(e.params)))return function(e,t,r){var n=Bt(t,e,"search");n&&(e.search.description_url=n);r=Nt(t,r);return e.search.cust_params=e.search.cust_params?e.search.cust_params+"%26"+r:r,Object(O.buildUrl)(e)}(n,r,e);var i={correlator:Date.now(),sz:Object(O.parseSizesInput)(Object(O.deepAccess)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},t=Nt(r,e),t=Object(w.default)({},Ut,n.search,i,e.params,{cust_params:t}),e=Bt(r,e,"params");return e&&(t.description_url=e),Object(O.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:t})}Object(O.logError)("A params object or a url is required to use jwpb.adServers.dfp.buildVideoUrl")},buildAdpodVideoUrl:function(e){var n,t,e=void 0===e?{}:e,i=e.code,o=e.params,a=e.callback;o&&a?(n={correlator:Date.now(),sz:(t=i,e=ce.getAdUnits().filter(function(e){return e.code===t}),e=Object(O.deepAccess)(e[0],"mediaTypes.video.playerSize"),Object(O.parseSizesInput)(e).join("|")),url:encodeURIComponent(location.href)},Dt.getTargeting({codes:[i],callback:function(e,t){var r;e?a(e,null):((r={})[Dt.TARGETING_KEY_PB_CAT_DUR]=void 0,r[Dt.TARGETING_KEY_CACHE_ID]=void 0,e=r,r={},t[i]&&(r=t[i].reduce(function(e,t){return Object.keys(t)[0]===Dt.TARGETING_KEY_PB_CAT_DUR?e[Dt.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[Dt.TARGETING_KEY_PB_CAT_DUR]?e[Dt.TARGETING_KEY_PB_CAT_DUR]+","+t[Dt.TARGETING_KEY_PB_CAT_DUR]:t[Dt.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===Dt.TARGETING_KEY_CACHE_ID&&(e[Dt.TARGETING_KEY_CACHE_ID]=t[Dt.TARGETING_KEY_CACHE_ID]),e},e)),r=encodeURIComponent(Object(O.formatQS)(r)),r=Object(w.default)({},Ut,n,o,{cust_params:r}),r=Object(O.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:r}),a(null,r))}})):Object(O.logError)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl")},getAdpodTargeting:function(e){return Dt.getTargeting(e)}},kt.adServers=kt.adServers||{},kt.adServers.dfp=kt.adServers.dfp||{},Object.keys(Rt).forEach(function(e){kt.adServers.dfp[e]?Object(O.logWarn)("Attempting to add an already registered function property "+e+" for AdServer "+Pt+"."):kt.adServers.dfp[e]=Rt[e]}),Object(N.c)("adpod",Dt);var zt=["video/mp4","video/ogg","video/webm","video/aac","application/vnd.apple.mpegurl"],Mt={adtelligent:"Adtelligent",appnexus:"AppNexus",districtm:"DistrictM",emx:"EMX",mediagrid:"MediaGrid",medianet:"MediaNet",indexexchange:"IndexExchange",onevideo:"OneVideo",openx:"OpenX",pubmatic:"PubMatic",rubicon:"Rubicon",sonobi:"Sonobi",spotx:"SpotX",synacormedia:"SynacorMedia",unruly:"Unruly"},t=["Adtelligent","AppNexus","DistrictM","EMX","IndexExchange","MediaNet","MediaGrid","OneVideo","OpenX","PubMatic","Rubicon","Sonobi","SpotX","SynacorMedia","Unruly"],qt=((h={})[["dfp"]]=t,h[["jwp"]]=t,h[["jwpdfp"]]=t,h[["jwpspotx"]]=["SpotX"],h),Ft=7,Wt=2,Gt=3,Vt=5,Lt=6,Ht=7,Yt=8,Kt=1,Jt=2,Xt=3,$t=((h={})[["noBid"]]=0,h[["bid"]]=1,h[["timeout"]]=2,h[["invalid"]]=3,h[["abort"]]=4,h[["error"]]=5,h);function Qt(e,t,r,n){void 0===n&&(n={});var i=e.createElement(t);return i.appendChild(e.createCDATASection(r)),Object.keys(n).forEach(function(e){i.setAttribute(e,n[e])}),i}function Zt(e){void 0===e&&(e=[]);var t=document.createElement("video");return e.filter(function(e){return t.canPlayType(e)}).concat("application/javascript")}function er(e,t){return e===A.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===A.GRANULARITY_OPTIONS.LOW?t.pbLg:e===A.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===A.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===A.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:t.pbAg}function tr(e){var t=e.autoplay,r=e.mute,e=e.autoplayAdsMuted;return t?r||e?Jt:Kt:Xt}function rr(e){if("start"===e||"0%"===e||!e||"pre"===e||"00:00:00"===e)return 0;if("end"===e||"100%"===e||"post"===e)return-2;if("string"==typeof e&&0<=e.indexOf("%"))return-1;e=parseInt(e);return 0<=e?e:-1}function nr(e){return"jwp"===e||"jwpdfp"===e||"jwpspotx"===e}var ir,or=Date.now||function(){return(new Date).getTime()},ar=r(6),sr=["",1,2],dr=(ir=0,function(){return"https://ghb"+sr[ir++%sr.length]+".adtelligent.com/v2/auction/"}),cr={},h={code:"adtelligent",gvlid:410,aliases:["onefiftytwomedia","selectmedia"],supportedMediaTypes:[M.d,M.b],isBidRequestValid:function(e){return!!O.deepAccess(e,"params.aid")},getUserSyncs:function(n,e){var i=[];function t(e){var t=e.cookieURLs,r=e.cookieURLSTypes||[];Array.isArray(t)&&t.forEach(function(e,t){t=r[t]||"image";!n.pixelEnabled&&"image"===t||!n.iframeEnabled&&"iframe"===t||cr[e]||(cr[e]=!0,i.push({type:t,url:e}))})}return(n.pixelEnabled||n.iframeEnabled)&&O.isArray(e)&&e.forEach(function(e){e.body&&(O.isArray(e.body)?e.body.forEach(function(e){t(e)}):t(e.body))}),i},buildRequests:function(e,t){var r=C.b.getConfig(t.bidderCode),r=O.deepAccess(r,"chunkSize",10),e=function(e,t){var r={Domain:O.deepAccess(t,"refererInfo.referer")};!0===C.b.getConfig("coppa")&&(r.Coppa=1),O.deepAccess(t,"gdprConsent.gdprApplies")&&(r.GDPR=1,r.GDPRConsent=O.deepAccess(t,"gdprConsent.consentString")),O.deepAccess(t,"uspConsent")&&(r.USP=O.deepAccess(t,"uspConsent")),O.deepAccess(e[0],"schain")&&(r.Schain=O.deepAccess(e[0],"schain")),O.deepAccess(e[0],"userId")&&(r.UserIds=O.deepAccess(e[0],"userId"));for(var n,i,o=[],a=0,s=e.length;a<s;a++){var d=(n=e[a],d=i=void 0,i=O.deepAccess(n,"mediaTypes.video")?M.d:"display",d=i===M.d?O.deepAccess(n,"mediaTypes.video.playerSize"):O.deepAccess(n,"mediaTypes.banner.sizes"),d={CallbackId:n.bidId,Aid:n.params.aid,AdType:i,Sizes:O.parseSizesInput(d).join(",")},i!==M.d||O.deepAccess(n,"mediaTypes.video.context")===M.a&&(d.Adpod=O.deepAccess(n,"mediaTypes.video")),d);o.push(d)}return{tag:r,bids:o}}(e,t),n=e.tag,e=e.bids,r=O.chunk(e,r);return O._map(r,function(e){return{data:Object(w.default)({},n,{BidRequests:e}),adapterRequest:t,method:"POST",url:dr()}})},interpretResponse:function(e,t){var r=t.adapterRequest;e=e.body;var n=[];return O.isArray(e)?(e.forEach(function(e){n=O.flatten(n,ur(e,r))}),n):ur(e,r)},transformBidParams:function(e){return O.convertTypes({aid:"number"},e)}};function ur(e,a){var t=!e||!O.isArray(e.bids),s=[];return t||e.bids.forEach(function(t){var e,r,n,i,o=R()(a.bids,function(e){return e.bidId===t.requestId});0!==t.cpm&&void 0!==o&&(e=t,r=o,n=O.deepAccess(r,"mediaTypes.video")?M.d:M.b,i=O.deepAccess(r,"mediaTypes.video.context"),o={requestId:e.requestId,creativeId:e.cmpId,height:e.height,currency:e.cur,width:e.width,cpm:e.cpm,netRevenue:!0,mediaType:n,ttl:300},o=n===M.b?Object(w.default)(o,{ad:e.ad}):(i===M.a&&Object(w.default)(o,{meta:{primaryCatId:e.primaryCatId},video:{context:M.a,durationSeconds:e.durationSeconds}}),Object(w.default)(o,{vastUrl:e.vastUrl}),"outstream"===i&&Object(w.default)(o,{adResponse:e,renderer:function(e,t){t=k.install({id:e,url:"https://player.adtelligent.com/outstream-unit/2.01/outstream.min.js",config:t.outstream||{},loaded:!1});return t.setRender(pr),t}(e.requestId,r.params)}),o),s.push(o))}),s}function pr(t){t.renderer.push(function(){var e=Object(w.default)({},t.renderer.getConfig(),{width:t.width,height:t.height,vastUrl:t.vastUrl,elId:t.adUnitCode});window.VOutstreamAPI.initOutstreams([e])})}Object(ar.c)(h);var lr=h.code;function fr(e,t){return{bidder:lr,params:{aid:parseInt(t.id)}}}function gr(e){return!!e&&void 0!==e.id}var mr="https://ib.adnxs.com/ut/v3/prebid",br=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],yr=["age","externalUid","segments","gender","dnt","language"],vr=["geo","device_id"],hr=["enabled","dongle","member_id","debug_timeout"],Ir={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},Sr={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},Ar=/\/\/cdn\.adnxs\.com\/v/,_r=Object(Le.b)(32,"appnexus"),h={code:"appnexus",gvlid:32,aliases:["appnexusAst","brealtime","emxdigital","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia","districtm","adasta","beintoo"],supportedMediaTypes:[M.b,M.d,M.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var p=e.map(Or),r=R()(e,Cr),n={};!0===C.b.getConfig("coppa")&&(n={coppa:!0}),r&&Object.keys(r.params.user).filter(function(e){return T()(yr,e)}).forEach(function(e){var t=O.convertCamelToUnderscore(e);n[t]=r.params.user[e]});var i,o=R()(e,Pr);o&&o.params&&o.params.app&&(i={},Object.keys(o.params.app).filter(function(e){return T()(vr,e)}).forEach(function(e){return i[e]=o.params.app[e]}));var a,s=R()(e,Rr);s&&s.params&&o.params.app&&o.params.app.id&&(a={appid:s.params.app.id});var d={},c={},u=_r.getCookie("apn_prebid_debug")||null;if(u)try{d=JSON.parse(u)}catch(e){O.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var l=R()(e,kr);l&&l.debug&&(d=l.debug)}d&&d.enabled&&Object.keys(d).filter(function(e){return T()(hr,e)}).forEach(function(e){c[e]=d[e]});var u=R()(e,jr),l=u?parseInt(u.params.member,10):0,u=e[0].schain,f={tags:[].concat(p),user:n,sdk:{source:"pbjs",version:"3.27.1"},schain:u};0<l&&(f.member_id=l),o&&(f.device=i),s&&(f.app=a),C.b.getConfig("adpod.brandCategoryExclusion")&&(f.brand_category_uniqueness=!0),c.enabled&&(f.debug=c,O.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),t&&t.gdprConsent&&(f.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(f.us_privacy=t.uspConsent),t&&t.refererInfo&&(g={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},f.referrer_detection=g),R()(e,Ur)&&e.filter(Ur).forEach(function(t){var e,r,n,i,o,a,s,d,c,u,d=(e=p,s=(r=t).mediaTypes.video,d=s.durationRangeSec,c=s.requireExactDuration,o=r.mediaTypes.video,n=o.adPodDurationSec,i=o.durationRangeSec,s=o.requireExactDuration,o=O.getMinValueFromArray(i),o=Math.floor(n/o),o=s?Math.max(o,i.length):o,u=O.getMaxValueFromArray(d),e=e.filter(function(e){return e.uuid===r.bidId}),e=O.fill.apply(O,e.concat([o])),c?(o=Math.ceil(o/d.length),a=O.chunk(e,o),d.forEach(function(t,e){a[e].map(function(e){Dr(e,"minduration",t),Dr(e,"maxduration",t)})})):e.map(function(e){return Dr(e,"maxduration",u)}),e),e=f.tags.filter(function(e){return e.uuid!==t.bidId});f.tags=[].concat(e,d)});var s=[],g=O.deepAccess(e[0],"userId.criteoId");g&&s.push({source:"criteo.com",id:g});var m,b,y,v,g=O.deepAccess(e[0],"userId.tdid");return g&&s.push({source:"adserver.org",id:g,rti_partner:"TDID"}),s.length&&(f.eids=s),p[0].publisher_id&&(f.publisher_id=p[0].publisher_id),g=f,y=[],v={},s=!0,(s=(m=t)&&m.gdprConsent&&m.gdprConsent.gdprApplies&&2===m.gdprConsent.apiVersion?!(!0!==O.deepAccess(m.gdprConsent,"vendorData.purpose.consents.1")):s)||(v={withCredentials:!1}),15<g.tags.length?(b=O.deepClone(g),O.chunk(g.tags,15).forEach(function(e){b.tags=e;e=JSON.stringify(b);y.push({method:"POST",url:mr,data:e,bidderRequest:m,options:v})})):(g=JSON.stringify(g),y={method:"POST",url:mr,data:g,bidderRequest:m,options:v}),y},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var i=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t=(t=e)&&t.ads&&t.ads.length&&R()(t.ads,function(e){return e.rtb});t&&0!==t.cpm&&T()(r.supportedMediaTypes,t.ad_type)&&((e=function(t,r,e){var n,i,o=O.getBidRequest(t.uuid,[e]),a={requestId:t.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:o.adUnitCode,appnexus:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};if(r.advertiser_id&&(a.meta=Object(w.default)({},a.meta,{advertiserId:r.advertiser_id})),r.rtb.video)switch(Object(w.default)(a,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastImpUrl:r.notify_url,ttl:3600}),O.deepAccess(o,"mediaTypes.video.context")){case M.a:var s=Object(ar.a)(o.bidder,r.brand_category_id);a.meta=Object(w.default)({},a.meta,{primaryCatId:s});var s=r.deal_priority;a.video={context:M.a,durationSeconds:Math.floor(r.rtb.video.duration_ms/1e3),dealTier:s},a.vastUrl=r.rtb.video.asset_url;break;case z.b:a.adResponse=t,a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video,a.vastXml=r.rtb.video.content,r.renderer_url&&(s=R()(e.bids,function(e){return e.bidId===t.uuid}),s=O.deepAccess(s,"renderer.options"),a.renderer=function(e,t){t=k.install({id:r.renderer_id,url:r.renderer_url,config:t=void 0===t?{}:t,loaded:!1,adUnitCode:e});try{t.setRender(Br)}catch(e){O.logWarn("Prebid Error calling setRender on renderer",e)}return t.setEventHandlers({impression:function(){return O.logMessage("AppNexus outstream video impression event")},loaded:function(){return O.logMessage("AppNexus outstream video loaded event")},ended:function(){O.logMessage("AppNexus outstream renderer video event"),document.querySelector("#"+e).style.display="none"}}),t}(a.adUnitCode,s));break;case z.a:a.vastUrl=r.notify_url+"&redir="+encodeURIComponent(r.rtb.video.asset_url)}else if(r.rtb[M.c]){var d=r.rtb[M.c],c=r.viewability.config.replace("src=","data-src="),u=d.javascript_trackers;null==u?u=c:O.isStr(u)?u=[u,c]:u.push(c),a[M.c]={title:d.title,body:d.desc,body2:d.desc2,cta:d.ctatext,rating:d.rating,sponsoredBy:d.sponsored,privacyLink:d.privacy_link,address:d.address,downloads:d.downloads,likes:d.likes,phone:d.phone,price:d.price,salePrice:d.saleprice,clickUrl:d.link.url,displayUrl:d.displayurl,clickTrackers:d.link.click_trackers,impressionTrackers:d.impression_trackers,javascriptTrackers:u},d.main_img&&(a.native.image={url:d.main_img.url,height:d.main_img.height,width:d.main_img.width}),d.icon&&(a.native.icon={url:d.icon.url,height:d.icon.height,width:d.icon.width})}else{Object(w.default)(a,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{r.rtb.trackers&&(n=r.rtb.trackers[0].impression_urls[0],i=O.createTrackPixelHtml(n),a.ad+=i)}catch(t){O.logError("Error appending tracking pixel",t)}}return a}(e,t,n)).mediaType=(t=t.ad_type)===M.d?M.d:t===M.c?M.c:M.b,i.push(e))}),e.debug&&e.debug.debug_info&&(o=(o="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),O.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),O.logMessage(o)),i;var o="in response for "+n.bidderCode+" adapter";return e&&e.error&&(o+=": "+e.error),O.logError(o),i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(r,e){return r=O.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:O.transformBidderParamKeywords,publisherId:"number"},r),e&&(r.use_pmt_rule="boolean"==typeof r.usePaymentRule&&r.usePaymentRule,r.usePaymentRule&&delete r.usePaymentRule,Er(r.keywords)&&r.keywords.forEach(Tr),Object.keys(r).forEach(function(e){var t=O.convertCamelToUnderscore(e);t!==e&&(r[t]=r[e],delete r[e])})),r},onBidWon:function(e){e.native&&function(e){var t,r,n=function(e){var t;if(O.isStr(e)&&wr(e))t=e;else if(O.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];wr(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(n)for(var i="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,o=(r=(t=n).indexOf('src="')+5,n=t.indexOf('"',r),t.substring(r,n)),a=o.replace("dom_id=%native_dom_id%",i),s=document.getElementsByTagName("iframe"),d=!1,c=0;c<s.length&&!d;c++){var u=s[c];try{var p=u.contentDocument||u.contentWindow.document;if(p)for(var l=p.getElementsByTagName("script"),f=0;f<l.length&&!d;f++){var g=l[f];g.getAttribute("data-src")==o&&(g.setAttribute("src",a),g.setAttribute("data-src",""),g.removeAttribute&&g.removeAttribute("data-src"),d=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function Er(e){return O.isArray(e)&&0<e.length}function Tr(e){Er(e.value)&&""===e.value[0]&&delete e.value}function wr(e){var t=e.match(Ar),r=null!=t&&1<=t.length,t=e.match("trk.js"),t=null!=t&&1<=t.length;return e.startsWith("<script")&&t&&r}function Or(r){var n,i,o={};o.sizes=xr(r.sizes),o.primary_size=o.sizes[0],o.ad_types=[],o.uuid=r.bidId,r.params.placementId?o.id=parseInt(r.params.placementId,10):o.code=r.params.invCode,o.allow_smaller_sizes=r.params.allowSmallerSizes||!1,o.use_pmt_rule=r.params.usePaymentRule||!1,o.prebid=!0,o.disable_psa=!0,r.params.reserve&&(o.reserve=r.params.reserve),r.params.position&&(o.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(o.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(o.private_sizes=xr(r.params.privateSizes)),r.params.supplyType&&(o.supply_type=r.params.supplyType),r.params.pubClick&&(o.pubclick=r.params.pubClick),r.params.extInvCode&&(o.ext_inv_code=r.params.extInvCode),r.params.publisherId&&(o.publisher_id=parseInt(r.params.publisherId,10)),r.params.externalImpId&&(o.external_imp_id=r.params.externalImpId),O.isEmpty(r.params.keywords)||(0<(e=O.transformBidderParamKeywords(r.params.keywords)).length&&e.forEach(Tr),o.keywords=e),(r.mediaType===M.c||O.deepAccess(r,"mediaTypes."+M.c))&&(o.ad_types.push(M.c),0===o.sizes.length&&(o.sizes=xr([1,1])),r.nativeParams)&&(n=r.nativeParams,i={},Object.keys(n).forEach(function(e){var t=Sr[e]&&Sr[e].serverName||Sr[e]||e,r=Sr[e]&&Sr[e].requiredParams;i[t]=Object(w.default)({},r,n[e]),t!==Sr.image.serverName&&t!==Sr.icon.serverName||!i[t].sizes||(e=i[t].sizes,(O.isArrayOfNums(e)||O.isArray(e)&&0<e.length&&e.every(function(e){return O.isArrayOfNums(e)}))&&(i[t].sizes=xr(i[t].sizes))),t===Sr.privacyLink&&(i.privacy_supported=!0)}),t=i,o[M.c]={layouts:[t]});var e=O.deepAccess(r,"mediaTypes."+M.d),t=O.deepAccess(r,"mediaTypes.video.context");o.hb_source=e&&"adpod"===t?7:1,r.mediaType!==M.d&&!e||o.ad_types.push(M.d),(r.mediaType===M.d||e&&"outstream"!==t)&&(o.require_asset_url=!0),r.params.video&&(o.video={},Object.keys(r.params.video).filter(function(e){return T()(br,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=r.params.video[e],t=O.isArray(t)?t[0]:t;o.video[e]=Ir[e][t];break;default:o.video[e]=r.params.video[e]}})),r.renderer&&(o.video=Object(w.default)({},o.video,{custom_renderer_present:!0}));t=R()(ce.getAdUnits(),function(e){return r.transactionId===e.transactionId});return t&&t.mediaTypes&&t.mediaTypes.banner&&o.ad_types.push(M.b),0===o.ad_types.length&&delete o.ad_types,o}function xr(e){var t=[],r={};if(O.isArray(e)&&2===e.length&&!O.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"==typeof e)for(var n=0;n<e.length;n++){var i=e[n];(r={}).width=parseInt(i[0],10),r.height=parseInt(i[1],10),t.push(r)}return t}function Cr(e){return!!e.params.user}function jr(e){return!!parseInt(e.params.member,10)}function Pr(e){if(e.params)return!!e.params.app}function Rr(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function kr(e){return!!e.debug}function Ur(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===M.a}function Dr(e,t,r){O.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function Br(e){var t=e.adUnitCode;(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}Object(ar.c)(h);var Nr=h.code;function zr(e,t,r,n){var i=e.player,o=e.settings,e=e.params,t={placementId:parseInt(t.id),member:""+t.member,invCode:""+t.invCode,publisherId:parseInt(t.publisherId),allowSmallerSizes:!0},o=o.floorPriceCents;void 0!==o&&(t.reserve=o/100);for(var a=n.api,s={id:r.id,minduration:3,maxduration:300,context:(n=e.placement,r=rr(e.offset),3===n?"outstream":0===r?"pre_roll":-2===r?"post_roll":"mid_roll"),playback_method:(i=tr(i.getConfig()))===Jt?"auto_play_sound_off":i===Kt?"auto_play_sound_on":"click_to_play",frameworks:a},d=a.length-1;0<=d;d--)if(a[d]===Ft){s.frameworks.push(6);break}e=e.skipoffset;return void 0===e||(s.skippable=0<=e)&&(s.skipoffset=e),t.video=s,{bidder:Nr,params:t}}function Mr(e){return!!e&&(void 0!==e.id||void 0!==e.member&&void 0!==e.invCode)}var qr="https://dmx.districtm.io/b/v1",h={code:"districtmDMX",supportedFormat:[M.b,M.d],supportedMediaTypes:[M.d,M.b],isBidRequestValid:function(e){return!(!e.params.dmxid||!e.params.memberid)},interpretResponse:function(e,a){return(e=e.body||{}).seatbid&&O.isArray(e.seatbid)?e.seatbid.reduce(function(e,t){t=t.bid.reduce(function(e,t){if(e.price<t.price){var r=(o=t.impid,a.bidderRequest.bids.filter(function(e){return e.bidId===o})[0]),n=(n=r.sizes,(i={}).width=Wr(n)[0],i.height=Wr(n)[1],i),i=n.width,n=n.height;return t.cpm=parseFloat(t.price).toFixed(2),t.bidId=t.impid,t.requestId=t.impid,t.width=t.w||i,t.height=t.h||n,t.ttl=360,t.mediaType=r.mediaTypes&&r.mediaTypes.video?"video":"banner",t.mediaType&&(t.vastXml=function(e,t){try{var r,n=/<img\s[^>]*?src\s*=\s*['\"]([^'\"]*?)['\"][^>]*?>/,i=e.match(n),o=i[0],a=i[1];return e=e.replace(n,""),o&&a&&(r="<Impression><![CDATA["+a+"]]></Impression>",e=e.replace("</Impression>","</Impression>"+r)),e}catch(n){return t?e.replace("</Impression>","</Impression>"+("<Impression><![CDATA["+t+"]]></Impression>")):e}}(t.adm,t.nurl),t.ttl=3600),t.dealid&&(t.dealId=t.dealid),t.uuid=t.bidId,t.ad=t.adm,t.netRevenue=!0,t.creativeId=t.crid,t.currency="USD",t.meta=t.meta||{},t.adomain&&0<t.adomain.length&&(t.meta.advertiserDomains=t.adomain),t}var o,n,i;return e.cpm=e.price,e},{price:0});return t.adm&&e.push(t),e},[]).filter(function(e){return!!e.bidId}):[]},buildRequests:function(e,t){var r=C.b.getConfig("bidderTimeout"),r={id:O.generateUUID(),cur:["USD"],tmax:r-300,test:this.test()||0,site:{publisher:{id:String(e[0].params.memberid)||null}}};try{var n=C.b.getConfig("dmx");r.user=n.user||{};var i=n.site||{};r.site=Object(w.default)({},r.site,i)}catch(e){}i=[];e[0]&&e[0].userId&&(Gr(i,O.deepAccess(e[0],"userId.idl_env"),"liveramp.com",1),Gr(i,O.deepAccess(e[0],"userId.id5id"),"id5-sync.com",1),Gr(i,O.deepAccess(e[0],"userId.pubcid"),"pubcid.org",1),Gr(i,O.deepAccess(e[0],"userId.tdid"),"adserver.org",1),Gr(i,O.deepAccess(e[0],"userId.criteoId"),"criteo.com",1),Gr(i,O.deepAccess(e[0],"userId.britepoolid"),"britepool.com",1),Gr(i,O.deepAccess(e[0],"userId.lipb.lipbid"),"liveintent.com",1),Gr(i,O.deepAccess(e[0],"userId.intentiqid"),"intentiq.com",1),Gr(i,O.deepAccess(e[0],"userId.lotamePanoramaId"),"lotame.com",1),Gr(i,O.deepAccess(e[0],"userId.parrableId"),"parrable.com",1),Gr(i,O.deepAccess(e[0],"userId.netId"),"netid.de",1),Gr(i,O.deepAccess(e[0],"userId.sharedid"),"sharedid.org",1),r.user=r.user||{},r.user.ext=r.user.ext||{},r.user.ext.eids=i),r.test||delete r.test,t.gdprConsent&&(r.regs={},r.regs.ext={},r.regs.ext.gdpr=!0===t.gdprConsent.gdprApplies?1:0,r.user={},r.user.ext={},r.user.ext.consent=t.gdprConsent.consentString),r.regs=r.regs||{},r.regs.coppa=!0===C.b.getConfig("coppa")?1:0,t&&t.uspConsent&&(r.regs=r.regs||{},r.regs.ext=r.regs.ext||{},r.regs.ext.us_privacy=t.uspConsent);try{o=e[0].schain,r.source={},r.source.ext={},r.source.ext.schain=o||{}}catch(e){}var o=e.map(function(e){var t,r,n,i={};return i.id=e.bidId,i.tagid=String(e.params.dmxid),i.secure=1,i.bidfloor=(n=null,"function"==typeof(t=e).getFloor&&("object"!=typeof(r=t.getFloor({currency:"USD",mediaType:t.mediaTypes.video?"video":"banner",size:t.sizes.map(function(e){return{w:e[0],h:e[1]}})}))||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(n=parseFloat(r.floor))),null!==n?n:t.params.floor),e.mediaTypes&&e.mediaTypes.video?i.video={topframe:1,skip:e.mediaTypes.video.skip||0,linearity:e.mediaTypes.video.linearity||1,minduration:e.mediaTypes.video.minduration||5,maxduration:e.mediaTypes.video.maxduration||60,playbackmethod:e.mediaTypes.video.playbackmethod||[2],api:function(e){e=e.api;return e&&Array.isArray(e)&&0<e.length?e:[2]}(e.mediaTypes.video),mimes:e.mediaTypes.video.mimes||["video/mp4"],protocols:function(e){e=e.protocols;return e&&Array.isArray(e)&&0<e.length?e:[2,3,5,6,7,8]}(e.mediaTypes.video),h:e.mediaTypes.video.playerSize[0][1],w:e.mediaTypes.video.playerSize[0][0]}:i.banner={topframe:1,w:Fr(e.sizes,"w"),h:Fr(e.sizes,"h"),format:Fr(e.sizes).map(function(e){return{w:e[0],h:e[1]}}).filter(function(e){return"number"==typeof e.w&&"number"==typeof e.h})},i});return o.length<=5?(r.imp=o,{method:"POST",url:qr,data:JSON.stringify(r),bidderRequest:t}):function(e,t,r){for(var n=[];0!==e.length;)5<=e.length?n.push(e.splice(0,5)):n.push(e.splice(0,e.length));return n.map(function(e){return t.imp=e,{method:"POST",url:"https://dmx.districtm.io/b/v1",data:JSON.stringify(t),bidderRequest:r}})}(o,r,t)},test:function(){return-1!==window.location.href.indexOf("dmTest=true")?1:0},getUserSyncs:function(e,t,r,n){var i=[],o="https://cdn.districtm.io/ids/index.html";if(r&&r.gdprApplies&&"string"==typeof r.consentString&&i.push(["gdpr",r.consentString]),n&&i.push(["ccpa",n]),0<i.length&&(o+="?"+i.map(function(e){return e.join("=")}).join("&")),e.iframeEnabled)return[{type:"iframe",url:o}]}};function Fr(e,t){var r,n,i,o=(n=[{size:[300,250],s:100},{size:[728,90],s:95},{size:[320,50],s:90},{size:[160,600],s:88},{size:[300,600],s:85},{size:[300,50],s:80},{size:[970,250],s:75},{size:[970,90],s:60}],e=(r=e).filter(function(e){return-1===n.map(function(e){return e.size[0]+"x"+e.size[1]}).indexOf(e[0]+"x"+e[1])}),r=r.reduce(function(t,e){return 0===t.length?(t.push(e),t):(t.push(e),(t=(t=n.filter(function(e){return-1!==t.map(function(e){return e[0]+"x"+e[1]}).indexOf(e.size[0]+"x"+e.size[1])})).sort(function(e,t){return t.s-e.s})).map(function(e){return e.size}))},[]),(i=[].concat(r,e)).filter(function(e,t){return i.map(function(e){return e[0]+"x"+e[1]}).indexOf(e[0]+"x"+e[1])===t}));switch(t){case"w":return o[0][0]||0;case"h":return o[0][1]||0;default:return o}}function Wr(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:e}function Gr(e,t,r,n){O.isStr(t)&&Array.isArray(e)&&e.push({source:r,uids:[{id:t,atype:n}]})}Object(ar.c)(h);var Vr=h.code;function Lr(e,t){t={dmxid:parseInt(t.id),memberid:parseInt(t.pubid)},e=e.settings.floorPriceCents;return void 0!==e&&(t.floor=e/100),{bidder:Vr,params:t}}function Hr(e){return!!(e=void 0===e?{}:e)&&void 0!==e.id&&void 0!==e.pubid}var Yr="https://js.brealtime.com/outstream/1.30.0/bundle.js",Kr={validateSizes:function(e){return O.isArray(e)&&void 0!==e[0]?e.every(function(e){return O.isArray(e)&&2===e.length}):(O.logWarn("emx_digital: Sizes should be an array"),!1)},checkVideoContext:function(e){return e&&e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context&&("instream"===e.mediaTypes.video.context||"outstream"===e.mediaTypes.video.context)},buildBanner:function(e){var t=[],t=(e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes?e.mediaTypes.banner:e).sizes;return Kr.validateSizes(t)||(O.logWarn("emx_digital: could not detect mediaType banner sizes. Assigning to bid sizes instead"),t=e.sizes),{format:t.map(function(e){return{w:e[0],h:e[1]}}),w:t[0][0],h:t[0][1]}},formatVideoResponse:function(t,e,r){return t.vastXml=e.adm,r.bidderRequest&&r.bidderRequest.bids&&0<r.bidderRequest.bids.length&&R()(r.bidderRequest.bids,function(e){return t.requestId&&e.bidId&&t.requestId===e.bidId&&e.mediaTypes&&e.mediaTypes.video&&"outstream"===e.mediaTypes.video.context})&&(t.renderer=Kr.createRenderer(t,{id:e.id,url:Yr})),t},isMobile:function(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)},isConnectedTV:function(){return/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)},getDevice:function(){return{ua:navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,devicetype:Kr.isMobile()?1:Kr.isConnectedTV()?3:2,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage}},cleanProtocols:function(e){return e.protocols&&T()(e.protocols,7)&&(O.logWarn("emx_digital: VAST 4.0 is currently not supported. This protocol has been filtered out of the request."),e.protocols=e.protocols.filter(function(e){return 7!==e})),e},outstreamRender:function(t){t.renderer.push(function(){var e=t&&t.params&&t.params[0]&&t.params[0].video?t.params[0].video:{};window.emxVideoQueue=window.emxVideoQueue||[],window.queueEmxVideo({id:t.adUnitCode,adsResponses:t.vastXml,options:e}),window.emxVideoReady&&window.videojs&&window.emxVideoReady()})},createRenderer:function(e,t){t=k.install({id:t.id,url:Yr,loaded:!1});try{t.setRender(Kr.outstreamRender)}catch(e){O.logWarn("Prebid Error calling setRender on renderer",e)}return t},buildVideo:function(e){var t=Object(w.default)(e.mediaTypes.video,e.params.video);return O.isArray(e.mediaTypes.video.playerSize[0])?(t.w=e.mediaTypes.video.playerSize[0][0],t.h=e.mediaTypes.video.playerSize[0][1]):(t.w=e.mediaTypes.video.playerSize[0],t.h=e.mediaTypes.video.playerSize[1]),Kr.cleanProtocols(t)},parseResponse:function(e){try{return decodeURIComponent(e.replace(/%(?![0-9][0-9a-fA-F]+)/g,"%25"))}catch(e){O.logError("emx_digitalBidAdapter","error",e)}},getReferrer:function(){try{return window.top.document.referrer}catch(e){return document.referrer}},getSite:function(e){return{domain:O.parseUrl(e.referer).hostname,page:e.referer,ref:Kr.getReferrer()}},getGdpr:function(e,t){return e.gdprConsent&&(t.regs={ext:{gdpr:!0===e.gdprConsent.gdprApplies?1:0}}),e.gdprConsent&&e.gdprConsent.gdprApplies&&(t.user={ext:{consent:e.gdprConsent.consentString}}),t}},h={code:"emx_digital",supportedMediaTypes:[M.b,M.d],isBidRequestValid:function(e){if(!e||!e.params)return O.logWarn("emx_digital: Missing bid or bid params."),!1;if("emx_digital"!==e.bidder)return O.logWarn('emx_digital: Must use "emx_digital" as bidder code.'),!1;if(!e.params.tagid||!O.isStr(e.params.tagid))return O.logWarn("emx_digital: Missing tagid param or tagid present and not type String."),!1;var t;if(e.mediaTypes&&e.mediaTypes.banner){if(t=e.mediaTypes.banner.sizes||e.sizes,!Kr.validateSizes(t))return O.logWarn("emx_digital: Missing sizes in bid"),!1}else if(e.mediaTypes&&e.mediaTypes.video){if(!Kr.checkVideoContext(e))return O.logWarn("emx_digital: Missing video context: instream or outstream"),!1;if(!e.mediaTypes.video.playerSize)return O.logWarn("emx_digital: Missing video playerSize"),!1}return!0},buildRequests:function(e,t){var i=[],r="https://hb.emxdgt.com?t="+(t.timeout||"")+"&ts="+Date.now()+"&src=pbjs",o=-1<location.protocol.indexOf("https")?1:0,n=Kr.getDevice(),a=Kr.getSite(t.refererInfo);O._each(e,function(e){var t=O.getBidIdParameter("tagid",e.params),r=parseFloat(O.getBidIdParameter("bidfloor",e.params))||0,n=!!e.mediaTypes.video,t={id:e.bidId,tid:e.transactionId,tagid:t,secure:o},e=n?{video:Kr.buildVideo(e)}:{banner:Kr.buildBanner(e)},r=0<r?{bidfloor:r,bidfloorcur:"USD"}:{},r=Object(w.default)(t,e,r);i.push(r)});a={id:t.auctionId,imp:i,device:n,site:a,cur:"USD",version:"1.5.1"},a=Kr.getGdpr(t,Object(w.default)({},a));return t&&t.uspConsent&&(a.us_privacy=t.uspConsent),{method:"POST",url:r,data:JSON.stringify(a),options:{withCredentials:!0},bidderRequest:t}},interpretResponse:function(e,n){var i=[],e=e.body||{};return e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&e.seatbid.forEach(function(e){e=e.bid[0];var t=!1,r=Kr.parseResponse(e.adm)||"",r={requestId:e.id,cpm:e.price,width:e.w,height:e.h,creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,ttl:e.ttl,ad:r};e.adm&&-1<e.adm.indexOf("<?xml version=")&&(t=!0,r=Kr.formatVideoResponse(r,Object(w.default)({},e),n)),r.mediaType=t?M.d:M.b,i.push(r)}),i},getUserSyncs:function(e){var t=[];return e.iframeEnabled&&t.push({type:"iframe",url:"https://biddr.brealtime.com/check.html"}),t}};Object(ar.c)(h);var Jr=h.code;function Xr(e,t,r,n){var i=e.params,o=e.player,e=e.settings,n={bidder:Jr,params:{tagid:""+t.id,video:{mimes:Zt(zt),minduration:3,maxduration:300,protocols:[Wt,Gt,Ht,Vt,Lt,Yt],startdelay:rr(i.offset),placement:i.placement,linearity:1,playbackmethod:[tr(o.getConfig())],api:n.api},content:r}};void 0!==e.floorPriceCents&&(n.params.bidfloor=e.floorPriceCents/100);r=i.jwpseg,e=i.skipoffset;return void 0!==e&&(n.params.video.skip=(i=0<=e)?1:0,i&&Object(w.default)(n.params.video,{skipmin:e+2,skipafter:e})),Array.isArray(r)&&r.length&&(n.params.video.ext={custom:{jwpseg:r}}),n}function $r(e){return void 0!==(e=void 0===e?{}:e).id}It.bidderSettings[Jr]={sendStandardTargeting:!1,adserverTargeting:[{key:"vpb_emx_bid",val:function(e){return er(It.getConfig("priceGranularity"),e)}},{key:"vpb_emx_key",val:function(e){return e.videoCacheKey}}]};var Qr=!1,Zr={code:"gridNM",supportedMediaTypes:[M.d],isBidRequestValid:function(e){var t,r=!(e.params.source&&O.isStr(e.params.source)&&e.params.secid&&O.isStr(e.params.secid)&&e.params.pubid&&O.isStr(e.params.pubid));return(r=r||!e.params.video||!e.params.video.protocols||!e.params.video.mimes)||(e=(t=e.params.video).protocols,t=t.mimes,(r=!O.isArray(t)||!t.length||t.filter(function(e){return!(e&&O.isStr(e))}).length)||(r=!O.isArray(e)||!e.length||e.filter(function(e){return!(O.isNumber(e)&&0<e&&!(e%1))}).length)),!r},buildRequests:function(e,i){var o=[];return(e||[]).forEach(function(e){var t=e.params,r=e.bidderRequestId,n=e.sizes,r={sizes:O.parseSizesInput(n).join(","),r:r,wrapperType:"Prebid_js",wrapperVersion:"3.27.1"};i&&(i.refererInfo&&i.refererInfo.referer&&(r.u=i.refererInfo.referer),i.timeout&&(r.wtimeout=i.timeout),i.gdprConsent&&(i.gdprConsent.consentString&&(r.gdpr_consent=i.gdprConsent.consentString),r.gdpr_applies="boolean"==typeof i.gdprConsent.gdprApplies?Number(i.gdprConsent.gdprApplies):1),i.uspConsent&&(r.us_privacy=i.uspConsent)),o.push({method:"POST",url:"https://grid.bidswitch.net/hbnm?"+O.parseQueryStringParameters(r).replace(/\&$/,""),bid:e,data:t})}),o},interpretResponse:function(e,t){var r,n,i=[];return(e=e&&e.body)?e.seatbid&&!e.seatbid.length&&(r="Response has empty seatbid array"):r="Response is empty",!r&&e.seatbid&&((n=e.seatbid[0])?n.bid?n.bid[0]||O.logError("Array of bid objects is empty"):O.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(n)):O.logError("Seatbid array from response has empty item"),(e=n&&n.bid&&n.bid[0])&&(e.adm?e.price?"video"!==e.content_type&&(r="Bid from response has wrong content_type parameter - "+e.content_type):r="Bid from response has no price parameter - "+JSON.stringify(e):r="Bid from response has no adm parameter - "+JSON.stringify(e),!r)&&(n=t.bid,e.w&&e.h||(t=O.parseSizesInput(n.sizes)[0].split("x"),e.w=t[0],e.h=t[1]),e={requestId:n.bidId,bidderCode:Zr.code,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid||n.bidderRequestId,currency:"USD",netRevenue:!1,ttl:360,dealId:e.dealid,vastXml:e.adm,mediaType:M.d,adResponse:{content:e.adm}},n.renderer||n.mediaTypes&&n.mediaTypes.video&&"outstream"!==n.mediaTypes.video.context||(e.renderer=function(e){e=k.install({id:e.id,url:e.url,loaded:!1});try{e.setRender(en)}catch(e){O.logWarn("Prebid Error calling setRender on renderer",e)}return e}({id:n.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"})),i.push(e))),r&&O.logError(r),i},getUserSyncs:function(e,t,r,n){if(!Qr&&e.pixelEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="&gdpr="+Number(r.gdprApplies)+"&gdpr_consent="+r.consentString:e+="&gdpr_consent="+r.consentString),n&&(e+="&us_privacy="+n),Qr=!0,{type:"image",url:"https://x.bidswitch.net/sync?ssp=themediagrid"+e}}}};function en(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}Object(ar.c)(Zr);var tn=Zr.code;function rn(e,t,r,n){var i=e.params,o=e.player,e=e.settings,o={bidder:tn,params:{source:"jwp",secid:""+t.id,pubid:""+t.pubid,video:{mimes:Zt(zt),mind:3,maxd:300,protocols:[Wt,Gt,Ht,Vt,Lt,Yt],startdelay:rr(i.offset),placement:i.placement,linearity:1,playbackmethod:[tr(o.getConfig())],api:n.api,size:o.getWidth()+"x"+o.getHeight()},content:r}};void 0!==e.floorPriceCents&&(o.params.floorcpm=e.floorPriceCents/100);r=i.jwpseg,e=i.skipoffset;return void 0!==e&&(o.params.video.skip=(i=0<=e)?1:0,i&&Object(w.default)(o.params.video,{skipmin:e+2,skipafter:e})),Array.isArray(r)&&r.length&&(o.params.pubdata={jwpseg:r}),o}function nn(e){return void 0!==(e=void 0===e?{}:e).pubid}It.bidderSettings[tn]={sendStandardTargeting:!1,adserverTargeting:[{key:"vpb_mediagrid_bid",val:function(e){return er(It.getConfig("priceGranularity"),e)}},{key:"vpb_mediagrid_key",val:function(e){return e.videoCacheKey}}]};var h=r(64),on=r.n(h),an=[M.b,M.d],sn={JPY:1};function dn(e){var t={};return t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id?t.ext.sid=e.params.size[0]+"x"+e.params.size[1]:t.ext.sid=String(e.params.id),e.params.hasOwnProperty("bidFloor")&&e.params.hasOwnProperty("bidFloorCur")&&(t.bidfloor=e.params.bidFloor,t.bidfloorcur=e.params.bidFloorCur),t}function cn(e){return Array.isArray(e)&&2===e.length&&on()(e[0])&&on()(e[1])}function un(e,t){if(cn(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return 1}function pn(e,t,r,n){var i,o,a=[],s={},d=e[0].userId;if(d&&"object"==typeof d&&d.idl_env&&(i=a,o=s,(p=d.idl_env)?(o.LiveRampIp=1,i.push({source:"liveramp.com",uids:[{id:p,ext:{rtiPartner:"idl"}}]})):O.logWarn("Tried to add a user ID from Prebid, the ID received was null")),window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var c=window.headertag.getIdentityInfo();if(c&&"object"==typeof c)for(var u in c)!c.hasOwnProperty(u)||s.hasOwnProperty(u)||!(u=c[u]).responsePending&&u.data&&"object"==typeof u.data&&Object.keys(u.data).length&&a.push(u.data)}var p={};p.id=e[0].bidderRequestId,p.imp=r,p.site={},p.ext={},p.ext.source="prebid",e[0].schain&&(p.source={ext:{schain:e[0].schain}}),0<a.length&&(p.user={},p.user.eids=a),document.referrer&&""!==document.referrer&&(p.site.ref=document.referrer),t&&(t.gdprConsent&&((l=t.gdprConsent).hasOwnProperty("gdprApplies")&&(p.regs={ext:{gdpr:l.gdprApplies?1:0}}),l.hasOwnProperty("consentString")&&(p.user=p.user||{},p.user.ext={consent:l.consentString||""})),t.uspConsent&&O.deepSetValue(p,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(p.site.page=t.refererInfo.referer));var l={},t=t&&t.bidderCode||"ix",t=C.b.getConfig(t);if(t){if("object"==typeof t.firstPartyData){var f,g=t.firstPartyData,m="?";for(f in g)g.hasOwnProperty(f)&&(m+=encodeURIComponent(f)+"="+encodeURIComponent(g[f])+"&");m=m.slice(0,-1),p.site.page+=m}"number"==typeof t.timeout&&(l.t=t.timeout)}return l.s=e[0].params.siteId,l.v=n,l.r=JSON.stringify(p),l.ac="j",l.sd=1,8.1===n&&(l.nf=1),{method:"GET",url:"https://htlb.casalemedia.com/cygnus",data:l}}function ln(e,t){for(var r=0;r<e.length;r++)if(t[0]==e[r][0]&&t[1]==e[r][1])return e.splice(r,1),1}h={code:"ix",gvlid:10,supportedMediaTypes:an,isBidRequestValid:function(e){if(!cn(e.params.size))return O.logError("ix bidder params: bid size has invalid format."),!1;if(!un(e.sizes,e.params.size))return O.logError("ix bidder params: bid size is not included in ad unit sizes."),!1;if(e.hasOwnProperty("mediaType")&&!O.contains(an,e.mediaType))return!1;if(e.hasOwnProperty("mediaTypes")&&!O.deepAccess(e,"mediaTypes.banner.sizes")&&!O.deepAccess(e,"mediaTypes.video.playerSize"))return!1;if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return O.logError("ix bidder params: siteId must be string or number value."),!1;var t=e.params.hasOwnProperty("bidFloor"),r=e.params.hasOwnProperty("bidFloorCur");return!!(!t&&!r||t&&r&&(r=e.params.bidFloor,e=e.params.bidFloorCur,Boolean("number"==typeof r&&"string"==typeof e&&e.match(/^[A-Z]{3}$/))))||(O.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var r,n,i,o,a,s,d,c,u=[],p=[],l=[],f={},g=0;g<e.length;g++)(r=e[g]).mediaType!==M.d&&!O.deepAccess(r,"mediaTypes.video")||(r.mediaType===M.d||un(r.mediaTypes.video.playerSize,r.params.size)?l.push((s=void 0,(s=dn(a=r)).video=O.deepClone(a.params.video),s.video.w=a.params.size[0],s.video.h=a.params.size[1],(a=O.deepAccess(a,"mediaTypes.video.context"))&&("instream"===a?s.video.placement=1:"outstream"===a?s.video.placement=4:O.logWarn("ix bidder params: video context '"+a+"' is not supported")),s)):O.logError("Bid size is not included in video playerSize")),r.mediaType!==M.b&&!O.deepAccess(r,"mediaTypes.banner")&&(r.mediaType||r.mediaTypes)||(o=void 0,(o=dn(i=r)).banner={},o.banner.w=i.params.size[0],o.banner.h=i.params.size[1],o.banner.topframe=O.inIframe()?0:1,p.push(n=o),a=f,s=n,o=i=void 0,o=(n=r).transactionId,a.hasOwnProperty(o)?(i=[],ln(i=a[o].hasOwnProperty("missingSizes")?a[o].missingSizes:i,n.params.size),a[o].missingSizes=i):O.deepAccess(n,"mediaTypes.banner.sizes")&&(ln(i=O.deepClone(n.mediaTypes.banner.sizes),n.params.size),a[o]={missingSizes:i,impression:s}));for(d in f)if(f.hasOwnProperty(d))for(var m=f[d].missingSizes,b=0;b<m.length;b++){var y=(y=f[d].impression,c=m[b],(y=O.deepClone(y)).ext.sid=c[0]+"x"+c[1],y.banner.w=c[0],y.banner.h=c[1],y);p.push(y)}return 0<p.length&&u.push(pn(e,t,p,7.2)),0<l.length&&u.push(pn(e,t,l,8.1)),u},interpretResponse:function(e,t){var r=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var n,i,o,a=e.body,s=a.seatbid,d=0;d<s.length;d++)if(s[d].hasOwnProperty("bid"))for(var c=s[d].bid,u=JSON.parse(t.data.r),p=0;p<c.length;p++){var l=function(t,e){if(t)return R()(e,function(e){return e.id===t})}(c[p].impid,u.imp);n=c[p],i=a.cur,o=l,l={},sn.hasOwnProperty(i)?l.cpm=n.price/sn[i]:l.cpm=n.price/100,l.requestId=n.impid,l.dealId=O.deepAccess(n,"ext.dealid"),l.netRevenue=!0,l.currency=i,l.creativeId=n.hasOwnProperty("crid")?n.crid:"-",O.deepAccess(n,"ext.vasturl")?(l.vastUrl=n.ext.vasturl,l.width=o.video.w,l.height=o.video.h,l.mediaType=M.d,l.ttl=3600):(l.ad=n.adm,l.width=n.w,l.height=n.h,l.mediaType=M.b,l.ttl=300),l.meta={},l.meta.networkId=O.deepAccess(n,"ext.dspid"),l.meta.brandId=O.deepAccess(n,"ext.advbrandid"),l.meta.brandName=O.deepAccess(n,"ext.advbrand"),r.push(l)}return r},transformBidParams:function(e,t){return O.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(ar.c)(h);var fn=h.code;function gn(e,t,r,n){var i=e.params,o=e.player,e=e.engine,o={bidder:fn,params:{id:"JWPlayer",siteId:t.id,size:[o.getWidth(),o.getHeight()],video:{mimes:Zt(zt),minduration:3,maxduration:300,protocols:[Wt,Gt,Ht,Vt,Lt,Yt],linearity:1,placement:i.placement,playbackmethod:[tr(o.getConfig())],startdelay:rr(i.offset),api:n.api},content:r}},n=i.skipoffset,r=i.jwpseg;void 0!==n&&(o.params.video.skip=(i=0<=n)?1:0,i&&Object(w.default)(o.params.video,{skipmin:n+2,skipafter:n}));t=t.optionalParams||{};return Array.isArray(r)&&r.length&&(t.jwpseg=r),e.setConfig({ix:{firstPartyData:t}}),o}function mn(e){return void 0!==(e=void 0===e?{}:e).id}h=r(48),r=Object(h.a)(),h=document.createElement("a");h.href=decodeURIComponent(r.referer);var bn={};function yn(e){e={domain:(e=e||{}).domain||bn.urlData.domain,page:e.page||bn.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||bn.urlData.isTop};return Object(w.default)(e,function(){if(bn.pageMeta)return bn.pageMeta;var e=vn('link[rel="canonical"]',"href"),t=vn('meta[property="og:url"]',"content"),r=vn('meta[name="twitter:url"]',"content");return bn.pageMeta=Object(w.default)({},e&&{canonical_url:e},t&&{og_url:t},r&&{twitter_url:r}),bn.pageMeta}())}function vn(e,t){var e=function(e,t){try{var r=O.getWindowTop().document.querySelector(e);if(null!==r&&r[t])return r[t]}catch(e){}}(e,t);return e&&(t=e,(e=O.getWindowTop().document.createElement("a")).href=t,e.href)}function hn(e,t){return e.filter(function(e){return e.type===t})}function In(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function Sn(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function An(e,t){var r=t.w*t.h,n=En.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0==r||-1===n.w||-1===n.h?0:(t=e,e=i,i={x:0,y:0},n={x:n.w,y:n.h},(t.x>n.x||e.x<i.x||t.y>n.y||e.y<i.y?0:(Math.min(e.x,n.x)-Math.max(t.x,i.x))*(Math.min(e.y,n.y)-Math.max(t.y,i.y)))/r)}function _n(e,t){t={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=O.isArray(t)&&t||[];var r={logid:"kfk",evtid:"projectevents",project:"prebid"};return r.acid=O.deepAccess(t,"0.auctionId")||"",r.cid=jwpb.medianetGlobals.cid||"",r.crid=t.map(function(e){return O.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),r.adunit_count=t.length||0,r.dn=bn.urlData.domain||"",r.requrl=bn.urlData.page||"",r.istop=bn.urlData.isTop||"",r.event=e.name||"",r.value=e.value||"",r.rd=e.related_data||"",r}(e,t)};O.triggerPixel(O.buildUrl(t))}bn.urlData={domain:h.hostname,page:r.referer,isTop:r.reachedTop},jwpb.medianetGlobals=jwpb.medianetGlobals||{};var En={code:"medianet",gvlid:142,supportedMediaTypes:[M.b,M.c,M.d],isBidRequestValid:function(e){return e.params?e.params.cid&&O.isStr(e.params.cid)&&!O.isEmptyStr(e.params.cid)?(Object(w.default)(jwpb.medianetGlobals,!jwpb.medianetGlobals.cid&&{cid:e.params.cid}),!0):(O.logError("medianet : cid should be a string"),!1):(O.logError("medianet : Missing bid parameters"),!1)},buildRequests:function(e,t){var r,n,i,o,a,s,d,c,r=(n=t,{site:yn((r=e)[0].params.site),ext:(i=r[0].params,o=n.gdprConsent,a=n.uspConsent,s=r[0].userId,d=En.getWindowSize(),c=!(!o||!o.gdprApplies),t=!!a,e=!!C.b.getConfig("coppa"),Object(w.default)({},{customer_id:i.cid},{prebid_version:jwpb.version},{gdpr_applies:c},c&&{gdpr_consent_string:o.consentString||""},{usp_applies:t},t&&{usp_consent_string:a||""},{coppa_applies:e},-1!==d.w&&-1!==d.h&&{screen:d},s&&{user_id:s},jwpb.medianetGlobals.analyticsEnabled&&{analytics:!0})),id:r[0].auctionId,imp:r.map(function(e){var t={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},r=O.deepAccess(e,"mediaTypes.banner.sizes")||[],n=O.deepAccess(e,"mediaTypes.video")||{},i=O.deepAccess(e,"params.video")||{},n=Object(w.default)({},i,n);if(O.isEmpty(n)||(t.video=n),0<r.length&&(t.banner=O.isArray(o=r)&&2===o.length&&!O.isArray(o[0])?[In(o)]:o.map(In)),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){O.logError("medianet : Incorrect JSON : bidRequest.nativeParams")}e.params.crid&&(t.tagid=e.params.crid.toString()),(r=parseFloat(e.params.bidfloor))&&(t.bidfloor=r);var o=function(e){var t=document.getElementById(e);if(t&&t.getBoundingClientRect){e=t.getBoundingClientRect(),t={};return t.top_left={y:e.top,x:e.left},t.bottom_right={y:e.bottom,x:e.right},t}return null}(e.adUnitCode);return o&&t.banner&&0!==t.banner.length?(r={top_left:{x:o.top_left.x+window.pageXOffset,y:o.top_left.y+window.pageYOffset},bottom_right:{x:o.bottom_right.x+window.pageXOffset,y:o.bottom_right.y+window.pageYOffset}},t.ext.coordinates=r,t.ext.viewability=An(o.top_left,Sn(t.banner)),.5<An(r.top_left,Sn(t.banner))?t.ext.visibility=1:t.ext.visibility=2):t.ext.visibility=0,t}),tmax:n.timeout||C.b.getConfig("bidderTimeout")});return{method:"POST",url:(n=r.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(r)}},interpretResponse:function(e,t){var r=[];if(!e||!e.body)return O.logInfo("medianet : response is empty"),r;e=e.body.bidList;return O.isArray(e)&&0!==e.length?e.filter(function(e){return!1===e.no_bid&&0<parseFloat(e.cpm)}):(O.logInfo("medianet : no bids"),r)},getUserSyncs:function(e,t){t=!O.isEmpty(t=t)&&t[0].body&&t[0].body.ext&&O.isArray(t[0].body.ext.csUrl)?t[0].body.ext.csUrl:[];return e.iframeEnabled?hn(t,"iframe"):e.pixelEnabled?hn(t,"image"):void 0},onTimeout:function(e){try{_n({name:"client_timeout",value:e.length,related_data:e[0].timeout||C.b.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{_n({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},clearMnData:function(){bn={}},getWindowSize:function(){return{w:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||-1,h:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||-1}}};Object(ar.c)(En);var Tn=En.code;function wn(e,t,r){t={cid:""+t.pubid,crid:""+t.id,site:{content:r}},r=e.settings.floorPriceCents;void 0!==r&&(t.bidfloor=r/100);e=e.params.jwpseg;return Array.isArray(e)&&e.length&&(t.ccd=e),{bidder:Tn,params:t}}function On(e){return!!e&&void 0!==e.pubid&&void 0!==e.id}var xn={code:"oneVideo",VERSION:"3.0.3",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc",SYNC_ENDPOINT2:"https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}",SYNC_ENDPOINT3:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params)return!1;if(void 0===e.params.video||void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight||void 0===e.params.video.mimes)return!1;if(e.mediaTypes.video){if("outstream"===e.mediaTypes.video.context&&1===e.params.video.display)return!1}else if(e.mediaTypes.banner&&!e.params.video.display)return!1;return void 0!==e.params.pubId},buildRequests:function(e,a){var s=a?a.gdprConsent:null;return e.map(function(e){var t,r,n,i=xn.ENDPOINT,o=e.params.pubId;return e.params.video.e2etest&&(i=xn.E2ETESTENDPOINT,o="HBExchange"),{method:"POST",url:i+o,data:(t=e,r=s,i=(n=a).refererInfo.referer,o=t.params.site&&t.params.site.page?t.params.site.page:i.href,i=t.params.site&&t.params.site.referrer?t.params.site.referrer:n.refererInfo.referer,i={id:O.generateUUID(),at:2,cur:t.cur||"USD",imp:[{id:"1",secure:"https:"===document.location.protocol,bidfloor:t.params.bidfloor,ext:{hb:1,prebidver:"3.27.1",adapterver:xn.VERSION}}],site:{page:o,ref:i},device:{ua:navigator.userAgent},tmax:200},null==t.params.video.display||1!=t.params.video.display?(i.imp[0].video={mimes:t.params.video.mimes,w:t.params.video.playerWidth,h:t.params.video.playerHeight,pos:t.params.video.position},t.params.video.maxbitrate&&(i.imp[0].video.maxbitrate=t.params.video.maxbitrate),t.params.video.maxduration&&(i.imp[0].video.maxduration=t.params.video.maxduration),t.params.video.minduration&&(i.imp[0].video.minduration=t.params.video.minduration),t.params.video.api&&(i.imp[0].video.api=t.params.video.api),t.params.video.delivery&&(i.imp[0].video.delivery=t.params.video.delivery),t.params.video.position&&(i.imp[0].video.pos=t.params.video.position),t.params.video.playbackmethod&&(i.imp[0].video.playbackmethod=t.params.video.playbackmethod),t.params.video.placement&&(i.imp[0].video.placement=t.params.video.placement),t.params.video.rewarded&&(i.imp[0].ext.rewarded=t.params.video.rewarded),i.imp[0].video.linearity=1,i.imp[0].video.protocols=t.params.video.protocols||[2,5]):1==t.params.video.display&&(i.imp[0].banner={mimes:t.params.video.mimes,w:t.params.video.playerWidth,h:t.params.video.playerHeight,pos:t.params.video.position},t.params.video.placement&&(i.imp[0].banner.placement=t.params.video.placement),t.params.video.maxduration&&(i.imp[0].banner.ext=i.imp[0].banner.ext||{},i.imp[0].banner.ext.maxduration=t.params.video.maxduration),t.params.video.minduration&&(i.imp[0].banner.ext=i.imp[0].banner.ext||{},i.imp[0].banner.ext.minduration=t.params.video.minduration)),t.params.video.inventoryid&&(i.imp[0].ext.inventoryid=t.params.video.inventoryid),t.params.video.sid?(i.source={ext:{schain:{complete:1,nodes:[{sid:t.params.video.sid,rid:i.id}]}}},1==t.params.video.hp&&(i.source.ext.schain.nodes[0].hp=t.params.video.hp)):t.schain&&(i.source={ext:{schain:t.schain}},i.source.ext.schain.nodes[0].rid=i.id),t.params.site&&t.params.site.id&&(i.site.id=t.params.site.id),(Cn(r)||n&&n.uspConsent)&&(i.regs={ext:{}},Cn(r)&&(i.regs.ext.gdpr=1),r&&r.consentString&&(i.user={ext:{consent:r.consentString}}),n&&n.uspConsent&&(i.regs.ext.us_privacy=n.uspConsent)),t.params.video.e2etest&&(i.imp[0].bidfloor=null,i.imp[0].video.w=300,i.imp[0].video.h=250,i.imp[0].video.mimes=["video/mp4","application/javascript"],i.imp[0].video.api=[2],i.site.page="https://verizonmedia.com",i.site.ref="https://verizonmedia.com",i.tmax=1e3),i),bidRequest:e}})},interpretResponse:function(e,t){var r,n,i,o=t.bidRequest;try{r=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&r&&(r.adm||r.nurl)&&r.price?(i=o.sizes,n=(i=(n=O.parseSizesInput(i)).length?n[0].split("x"):[])[0],i=i[1],i={width:parseInt(n,10)||void 0,height:parseInt(i,10)||void 0},(e={requestId:o.bidId,bidderCode:xn.code,cpm:r.price,adId:r.adid,creativeId:r.crid,width:i.width,height:i.height,currency:e.cur,ttl:100,netRevenue:!0,adUnitCode:o.adUnitCode}).mediaType=o.mediaTypes.banner?"banner":"video",r.nurl?e.vastUrl=r.nurl:r.adm&&1===o.params.video.display?e.ad=r.adm:r.adm&&(e.vastXml=r.adm),o.mediaTypes.video&&(e.renderer="outstream"===o.mediaTypes.video.context?void((o=o).renderer||(o.renderer={},o.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",o.renderer.render=function(e){setTimeout(function(){o2PlayerRender(e)},700)})):void 0),e):(O.logWarn("No valid bids from "+xn.code+" bidder"),[])},getUserSyncs:function(e,t,r){var n=r=void 0===r?{}:r,r=n.gdprApplies,n=n.consentString,n=void 0===n?"":n;if(e.pixelEnabled)return[{type:"image",url:xn.SYNC_ENDPOINT1},{type:"image",url:xn.SYNC_ENDPOINT2},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr="+(r?1:0)+"&gdpr_consent="+n+"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0"+encodeURI("&gdpr="+(r?1:0)+"&gdpr_consent="+n)},{type:"image",url:xn.SYNC_ENDPOINT3}]}};function Cn(e){return e&&e.gdprApplies}Object(ar.c)(xn);var jn=xn.code;function Pn(e,t,r,n){var i=e.params,o=e.player,e=e.settings,r={pubId:""+t.pubid,video:{playerWidth:o.getWidth(),playerHeight:o.getHeight(),mimes:Zt(zt),protocols:[Wt,Gt,Ht,Vt,Lt,Yt],api:n.api,playbackmethod:[tr(o.getConfig())],minduration:3,maxduration:300,placement:i.placement,inventoryid:t.id,content:r}},e=e.floorPriceCents;return void 0!==e&&(r.bidfloor=e/100),o.getFullscreen()&&(r.video.position=7),{bidder:jn,params:r}}function Rn(e){return!!(e=void 0===e?{}:e)&&void 0!==e.pubid}var r=[M.b,M.d],kn={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableid:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},r={code:"openx",gvlid:69,supportedMediaTypes:r,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return O.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<O.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,d){if(0===e.length)return[];var c=[],t=e.reduce(function(e,t){var r=t;return(O.deepAccess(r,"mediaTypes.video")&&!O.deepAccess(r,"mediaTypes.banner")||r.mediaType===M.d?e[0]:e[1]).push(t),e},[[],[]]),e=t[0],t=t[1];return 0<t.length&&c.push(function(e){var t=[],n=!1,r=Un(e,d),i=O._map(e,function(e){return e.params.unit});r.aus=O._map(e,function(e){return O.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),r.divIds=O._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),i.some(function(e){return e})&&(r.auid=i.join(",")),e.some(function(e){return e.params.doNotTrack})&&(r.ns=1),!0!==C.b.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(r.tfcd=1),e.forEach(function(r){var e;r.params.customParams?(e=O._map(Object.keys(r.params.customParams),function(e){return t=e,e=r.params.customParams[t],O.isArray(e)&&(e=e.join(",")),(t.toLowerCase()+"="+e.toLowerCase()).replace("+",".").replace("/","_");var t}),e=window.btoa(e.join("&")),n=!0,t.push(e)):t.push("")}),n&&(r.tps=t.join(","));var o=[],a=!1;return e.forEach(function(e){e.params.customFloor?(o.push(Math.round(100*e.params.customFloor)/100*1e3),a=!0):o.push(0)}),a&&(r.aumfs=o.join(",")),{method:"GET",url:r.ph?"https://u.openx.net/w/1.0/arj":"https://"+e[0].params.delDomain+"/w/1.0/arj",data:r,payload:{bids:e,startTime:new Date}}}(t)),0<e.length&&e.forEach(function(e){var t,r,n,i,o,a,s;c.push((a=Un([n=t=e],r=d),s=O.deepAccess(n,"params.video")||{},e=O.deepAccess(n,"mediaTypes.video.context"),r=O.deepAccess(n,"mediaTypes.video.playerSize"),O.isArray(n.sizes)&&2===n.sizes.length&&!O.isArray(n.sizes[0])?(i=parseInt(n.sizes[0],10),o=parseInt(n.sizes[1],10)):O.isArray(n.sizes)&&O.isArray(n.sizes[0])&&2===n.sizes[0].length?(i=parseInt(n.sizes[0][0],10),o=parseInt(n.sizes[0][1],10)):O.isArray(r)&&2===r.length&&(i=parseInt(r[0],10),o=parseInt(r[1],10)),Object.keys(s).forEach(function(e){"openrtb"===e?(s[e].w=i||s[e].w,s[e].v=o||s[e].v,a[e]=JSON.stringify(s[e])):e in a||"url"===e||(a[e]=s[e])}),a.auid=n.params.unit,a.vwd=i||s.vwd,a.vht=o||s.vht,"outstream"===e&&(a.vos="101"),s.mimes&&(a.vmimes=s.mimes),{method:"GET",url:(e=a).ph?"https://u.openx.net/v/1.0/avjp":"https://"+t.params.delDomain+"/v/1.0/avjp",data:e,payload:{bid:t,startTime:new Date}}))}),c},interpretResponse:function(e,t){var r,n,i,o,d=e.body;return(/avjp$/.test(t.url)?M.d:M.b)===M.d?(r=d,n=t.payload,i=n.bid,n.startTime,o=[],void 0!==r&&""!==r.vastUrl&&0<r.pub_rev&&(e=O.parseUrl(r.vastUrl).search||{},(n={}).requestId=i.bidId,n.ttl=300,n.netRevenue=!0,n.currency=r.currency,n.cpm=parseInt(r.pub_rev,10)/1e3,n.width=parseInt(r.width,10),n.height=parseInt(r.height,10),n.creativeId=r.adid,n.vastUrl=r.vastUrl,n.mediaType=M.d,r.ph=e.ph,r.colo=e.colo,r.ts=e.ts,o.push(n)),o):function(e){for(var t=e.bids,r=(e.startTime,d.ads.ad),n=[],i=0;i<r.length;i++){var o=r[i],a=parseInt(o.idx,10),s={};s.requestId=t[a].bidId,o.pub_rev&&(s.cpm=Number(o.pub_rev)/1e3,(a=o.creative[0])&&(s.width=a.width,s.height=a.height),s.creativeId=a.id,s.ad=o.html,o.deal_id&&(s.dealId=o.deal_id),s.ttl=300,s.netRevenue=!0,s.currency=o.currency,o.tbd&&(s.tbd=o.tbd),s.ts=o.ts,s.meta={},o.brand_id&&(s.meta.brandId=o.brand_id),o.adv_id&&(s.meta.dspid=o.adv_id),n.push(s))}return n}(t.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:O.deepAccess(t,"0.body.ads.pixels")||O.deepAccess(t,"0.body.pixels")||(t=n,n=[],(r=r)&&(n.push("gdpr="+(r.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"https://u.openx.net/w/1.0/pd"+(0<n.length?"?"+n.join("&"):""))}]},transformBidParams:function(e,t){return O.convertTypes({unit:"string",customFloor:"number"},e)}};function Un(e,t){var n,r,i=O.inIframe(),o={ju:C.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:i,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,r,n=window,i=document,o=i.documentElement;if(e){try{n=window.top,i=window.top.document}catch(e){return}o=i.documentElement,r=i.body,t=n.innerWidth||o.clientWidth||r.clientWidth,r=n.innerHeight||o.clientHeight||r.clientHeight}else o=i.documentElement,t=n.innerWidth||o.clientWidth,r=n.innerHeight||o.clientHeight;return t+"x"+r}(i),be:1,bc:e[0].params.bc||"hb_pb_3.0.2",dddid:O._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(o.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(i=t.gdprConsent).consentString&&(o.gdpr_consent=i.consentString),void 0!==i.gdprApplies&&(o.gdpr=i.gdprApplies?1:0),"iab"===C.b.getConfig("consentManagement.cmpApi")&&(o.x_gdpr_f=1)),t&&t.uspConsent&&(o.us_privacy=t.uspConsent),O.deepAccess(e[0],"crumbs.pubcid")&&O.deepSetValue(e[0],"userId.pubcid",O.deepAccess(e[0],"crumbs.pubcid")),n=o,t=e[0].userId,O._each(t,function(e,t){var r=kn[t];if(kn.hasOwnProperty(t))switch(t){case"digitrustid":n[r]=O.deepAccess(e,"data.id");break;case"lipb":n[r]=e.lipbid;break;default:n[r]=e}}),o=n,e[0].schain&&(o.schain=(e=e[0].schain).ver+","+e.complete+"!"+(e=e.nodes,r=["asi","sid","hp","rid","name","domain"],e.map(function(t){return r.map(function(e){return t[e]||""}).join(",")}).join("!"))),o}Object(ar.c)(r);var Dn=r.code;function Bn(e,t,r,n){n={unit:""+t.id,delDomain:""+t.delDomain,platform:""+t.platform,video:n},e=e.settings.floorPriceCents;return void 0!==e&&(n.customFloor=e/100),{bidder:Dn,params:n}}function Nn(e){return!!e&&void 0!==e.id&&(void 0!==e.delDomain||void 0!==e.platform)}var zn={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Mn="number",qn="string",Fn="boolean",Wn="array",Gn={mimes:Wn,minduration:Mn,maxduration:Mn,startdelay:Mn,playbackmethod:Wn,api:Wn,protocols:Wn,w:Mn,h:Mn,battr:Wn,linearity:Mn,placement:Mn,minbitrate:Mn,maxbitrate:Mn},Vn={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},Ln=1,Hn=2,Yn=3,Kn=[{id:Vn.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:Vn.TITLE.ID,required:!0},{id:Vn.IMAGE.ID,required:!0}],Jn={1:"PMP",5:"PREF",6:"PMPG"},Xn=0,$n=!1,Qn={},Zn={};function ei(e,t){if(O.isStr(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}else t&&O.logWarn("PubMatic: Ignoring param key: "+e+", expects string-value, found "+typeof t)}function ti(e){var t,r=e.params.video;if(void 0!==r){for(var n in t={},Gn)r.hasOwnProperty(n)&&(t[n]=function(e,t,r){var n,e="Ignoring param key: "+e+", expects "+r+", found "+typeof t;switch(r){case Fn:n=O.isBoolean;break;case Mn:n=O.isNumber;break;case qn:n=O.isStr;break;case Wn:n=O.isArray}if(n(t))return t;O.logWarn("PubMatic: "+e)}(n,r[n],Gn[n]));O.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):O.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(t.ext={video_skippable:e.params.video.skippable?1:0})}else t=void 0,O.logWarn("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function ri(e){var t,r,n,i,o,a,s,d={},c={},u=e.hasOwnProperty("sizes")?e.sizes:[],p="",l=[];if(n=d={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:ei("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:ei("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?ei("currency",e.params.currency):"USD"},(i=e).params.deals&&(O.isArray(i.params.deals)?i.params.deals.forEach(function(e){O.isStr(e)&&3<e.length?(n.pmp||(n.pmp={private_auction:0,deals:[]}),n.pmp.deals.push({id:e})):O.logWarn("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)}):O.logWarn("PubMatic: Error: bid.params.deals should be an array of strings.")),e.hasOwnProperty("mediaTypes"))for(p in e.mediaTypes)switch(p){case M.b:void 0!==(t=function(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(void 0!==r&&O.isArray(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=void 0,O.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}0<r.length&&(n=[],r.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(t.format=n)),t.pos=0,t.topframe=O.inIframe()?0:1}else O.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=void 0;return t}(e))&&(d.banner=t);break;case M.c:c.request=JSON.stringify(function(e){var t,r,n,i={assets:[]};for(t in e){if(e.hasOwnProperty(t)){var o={};if(!(i.assets&&0<i.assets.length&&i.assets.hasOwnProperty(t)))switch(t){case Vn.TITLE.KEY:e[t].len||e[t].length?o={id:Vn.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length,ext:e[t].ext}}:O.logWarn("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case Vn.IMAGE.KEY:e[t].sizes&&0<e[t].sizes.length?o={id:Vn.IMAGE.ID,required:e[t].required?1:0,img:{type:Yn,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0),wmin:e[t].wmin||e[t].minimumWidth||(e[t].minsizes?e[t].minsizes[0]:void 0),hmin:e[t].hmin||e[t].minimumHeight||(e[t].minsizes?e[t].minsizes[1]:void 0),mimes:e[t].mimes,ext:e[t].ext}}:O.logWarn("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case Vn.ICON.KEY:e[t].sizes&&0<e[t].sizes.length?o={id:Vn.ICON.ID,required:e[t].required?1:0,img:{type:Ln,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0)}}:O.logWarn("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case Vn.VIDEO.KEY:o={id:Vn.VIDEO.ID,required:e[t].required?1:0,video:{minduration:e[t].minduration,maxduration:e[t].maxduration,protocols:e[t].protocols,mimes:e[t].mimes,ext:e[t].ext}};break;case Vn.EXT.KEY:o={id:Vn.EXT.ID,required:e[t].required?1:0};break;case Vn.LOGO.KEY:o={id:Vn.LOGO.ID,required:e[t].required?1:0,img:{type:Hn,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0)}};break;case Vn.SPONSOREDBY.KEY:case Vn.BODY.KEY:case Vn.RATING.KEY:case Vn.LIKES.KEY:case Vn.DOWNLOADS.KEY:case Vn.PRICE.KEY:case Vn.SALEPRICE.KEY:case Vn.PHONE.KEY:case Vn.ADDRESS.KEY:case Vn.DESC2.KEY:case Vn.DISPLAYURL.KEY:case Vn.CTA.KEY:r=Zn[t],n=void 0,n=r.KEY,o={id:r.ID,required:e[n].required?1:0,data:{type:r.TYPE,len:e[n].len,ext:e[n].ext}}}}o&&o.id&&(i.assets[i.assets.length]=o)}var a=Kn.length,s=0;return Kn.forEach(function(e){for(var t=i.assets.length,r=0;r<t;r++)if(e.id==i.assets[r].id){s++;break}}),$n=a!=s,i}(e.nativeParams)),$n?O.logWarn("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):d.native=c;break;case M.d:void 0!==(r=ti(e))&&(d.video=r)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:O.inIframe()?0:1},O.isArray(u)&&1<u.length&&((u=u.splice(1,u.length-1)).forEach(function(e){l.push({w:e[0],h:e[1]})}),t.format=l),d.banner=t;return o=d,s=-1,"function"!=typeof(a=e).getFloor||C.b.getConfig("pubmatic.disableFloors")||[M.b,M.d,M.c].forEach(function(e){o.hasOwnProperty(e)&&("object"!=typeof(e=a.getFloor({currency:o.bidfloorcur,mediaType:e,size:"*"}))||e.currency!==o.bidfloorcur||isNaN(parseInt(e.floor))||(e=parseFloat(e.floor),s=-1==s?e:Math.min(e,s)))}),o.bidfloor&&(s=Math.max(s,o.bidfloor)),o.bidfloor=!isNaN(s)&&0<s?s:void 0,d.hasOwnProperty(M.b)||d.hasOwnProperty(M.c)||d.hasOwnProperty(M.d)?d:void 0}O._each(Vn,function(e){Qn[e.ID]=e.KEY}),O._each(Vn,function(e){Zn[e.KEY]=e});r={code:"pubmatic",gvlid:76,supportedMediaTypes:[M.b,M.d,M.c],isBidRequestValid:function(e){return!(!e||!e.params||(O.isStr(e.params.publisherId)?!(!e.params.hasOwnProperty("video")||e.params.video.hasOwnProperty("mimes")&&O.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length)&&(O.logWarn("PubMatic: Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),1):(O.logWarn("PubMatic: Error: publisherId is mandatory and cannot be numeric. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),1)))},buildRequests:function(e,t){var r;t&&t.refererInfo&&(r=t.refererInfo);var n,i,o,a,s={pageURL:(i=r)&&i.referer?i.referer:window.location.href,refURL:window.document.referrer},d=(o=s,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:o.pageURL,ref:o.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),c="",u=[],p=[];if(e.forEach(function(e){(n=O.deepClone(e)).params.adSlot=n.params.adSlot||"",function(e){e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,O.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):"");var t=(r=e.params.adSlot).split(":"),r=t[0];if(2==t.length&&(e.params.adUnitIndex=t[1]),t=r.split("@"),e.params.adUnit=t[0],1<t.length){if(2!=(t=t[1].split("x")).length)return O.logWarn("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(t[0],10),e.params.height=parseInt(t[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(M.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var n=0,i=[];n<e.mediaTypes.banner.sizes.length;n++)2===e.mediaTypes.banner.sizes[n].length&&i.push(e.mediaTypes.banner.sizes[n]);e.mediaTypes.banner.sizes=i,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(n),n.params.hasOwnProperty("video")||n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(M.c)||0!==n.params.width||0!==n.params.height?(s.pubId=s.pubId||n.params.publisherId,(s=function(e,t){var r,n,i;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),zn)zn.hasOwnProperty(r)&&(n=e[r])&&("object"==typeof(i=zn[r])&&(n=i.f(n,t)),O.isStr(n)?t[r]=n:O.logWarn("PubMatic: Ignoring param : "+r+" with value : "+zn[r]+", expects string-value, found "+typeof n));return t}(n.params,s)).transactionId=n.transactionId,""===c?c=n.params.currency||void 0:n.params.hasOwnProperty("currency")&&c!==n.params.currency&&O.logWarn("PubMatic: Currency specifier ignored. Only one currency permitted."),n.params.currency=c,n.params.hasOwnProperty("dctr")&&O.isStr(n.params.dctr)&&u.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&O.isArray(n.params.bcat)&&(p=p.concat(n.params.bcat)),(e=ri(n))&&d.imp.push(e)):O.logWarn("PubMatic: Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n))}),0!=d.imp.length)return d.site.publisher.id=s.pubId.trim(),Xn=s.pubId.trim(),d.ext.wrapper={},d.ext.wrapper.profile=parseInt(s.profId)||void 0,d.ext.wrapper.version=parseInt(s.verId)||void 0,d.ext.wrapper.wiid=s.wiid||void 0,d.ext.wrapper.wv="prebid_prebid_3.27.1",d.ext.wrapper.transactionId=s.transactionId,d.ext.wrapper.wp="pbjs",d.user.gender=s.gender?s.gender.trim():void 0,d.user.geo={},d.user.geo.lat=ei("lat",s.lat),d.user.geo.lon=ei("lon",s.lon),d.user.yob=ei("yob",s.yob),d.device.geo=d.user.geo,d.site.page=s.kadpageurl.trim()||d.site.page.trim(),d.site.domain=(i=d.site.page,(o=document.createElement("a")).href=i,o.hostname),"object"==typeof C.b.getConfig("device")&&(d.device=Object(w.default)(d.device,C.b.getConfig("device"))),O.deepSetValue(d,"source.tid",s.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(d.test=1),e[0].schain&&O.deepSetValue(d,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(O.deepSetValue(d,"user.ext.consent",t.gdprConsent.consentString),O.deepSetValue(d,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&O.deepSetValue(d,"regs.ext.us_privacy",t.uspConsent),!0===C.b.getConfig("coppa")&&O.deepSetValue(d,"regs.coppa",1),i=d,o=e,a="",0<(t=u).length&&(o[0].params.hasOwnProperty("dctr")?(a=o[0].params.dctr,O.isStr(a)&&0<a.length?(o=a.split("|"),a="",o.forEach(function(e){a+=0<e.length?e.trim()+"|":""}),o=a.length,"|"===a.substring(o,o-1)&&(a=a.substring(0,o-1)),i.site.ext={key_val:a.trim()}):O.logWarn("PubMatic: Ignoring param : dctr with value : "+a+", expects string-value, found empty or non-string value"),1<t.length&&O.logWarn("PubMatic: dctr value found in more than 1 adunits. Value from 1st adunit will be picked. Ignoring values from subsequent adunits")):O.logWarn("PubMatic: dctr value not found in 1st adunit, ignoring values from subsequent adunits")),t=d,e=O.deepAccess(e,"0.userIdAsEids"),O.isArray(e)&&0<e.length&&O.deepSetValue(t,"user.eids",e),t=d,0<(e=(e=p).filter(function(e){return"string"==typeof e||(O.logWarn("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,r){return 3<e.length?r.indexOf(e)===t:void O.logWarn("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length&&(O.logWarn("PubMatic: bcat: Selected: ",e),t.bcat=e),"object"==typeof C.b.getConfig("app")&&(d.app=C.b.getConfig("app"),d.app.publisher=d.site.publisher,d.app.ext=d.site.ext||void 0,delete d.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(d)}},interpretResponse:function(e,t){var n=[],i="USD",o=JSON.parse(t.data),a=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&O.isArray(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach(function(e){e.bid&&O.isArray(e.bid)&&e.bid.forEach(function(t){var r={requestId:t.impid,cpm:(parseFloat(t.price)||0).toFixed(2),width:t.w,height:t.h,creativeId:t.crid||t.id,dealId:t.dealid,currency:i,netRevenue:!1,ttl:300,referrer:a,ad:t.adm,pm_seat:e.seat||null,pm_dspid:t.ext&&t.ext.dspid?t.ext.dspid:null,partnerImpId:t.id||""};o.imp&&0<o.imp.length&&o.imp.forEach(function(e){if(t.impid===e.id)switch(function(e,t){var r,n=new RegExp(/VAST\s+version/);if(0<=e.indexOf('span class="PubAPIAd"'))t.mediaType=M.b;else if(n.test(e))t.mediaType=M.d;else try{(r=JSON.parse(e.replace(/\\/g,"")))&&r.native&&(t.mediaType=M.c)}catch(t){O.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+e)}}(t.adm,r),r.mediaType){case M.b:break;case M.d:r.width=(t.hasOwnProperty("w")?t:e.video).w,r.height=(t.hasOwnProperty("h")?t:e.video).h,r.vastXml=t.adm;break;case M.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return O.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&0<r.native.assets.length){t.mediaType=M.c;for(var n=0,i=r.native.assets.length;n<i;n++)switch(r.native.assets[n].id){case Vn.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case Vn.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case Vn.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case Vn.SPONSOREDBY.ID:case Vn.BODY.ID:case Vn.LIKES.ID:case Vn.DOWNLOADS.ID:case Vn.PRICE:case Vn.SALEPRICE.ID:case Vn.PHONE.ID:case Vn.ADDRESS.ID:case Vn.DESC2.ID:case Vn.CTA.ID:case Vn.RATING.ID:case Vn.DISPLAYURL.ID:t.native[Qn[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(t,r)}}),t.ext&&t.ext.deal_channel&&(r.dealChannel=Jn[t.ext.deal_channel]||null),r.meta={},t.ext&&t.ext.dspid&&(r.meta.networkId=t.ext.dspid),t.ext&&t.ext.advid&&(r.meta.buyerId=t.ext.advid),t.adomain&&0<t.adomain.length&&(r.meta.clickUrl=t.adomain[0]),e.ext&&e.ext.buyid&&(r.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),n.push(r)})}))}catch(e){O.logError(e)}return n},getUserSyncs:function(e,t,r,n){var i=""+Xn;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===C.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t){return O.convertTypes({publisherId:"string",adSlot:"string"},e)}};Object(ar.c)(r);var ni=r.code;function ii(e,t,r,n){var i=e.settings,o=e.params,e=e.player,n={bidder:ni,params:{publisherId:""+t.pubid,adSlot:""+t.id,video:{mimes:Zt(zt),minduration:3,maxduration:300,protocols:[Wt,Gt,Ht,Vt,Lt,Yt],startdelay:rr(o.offset),placement:o.placement,linearity:1,playbackmethod:[tr(e.getConfig())],api:n.api},content:r}},r=o.jwpseg,o=o.skipoffset;return void 0!==o&&(n.params.video.skippable=0<=o),t.optionalParams&&Object(w.default)(n.params,t.optionalParams),Array.isArray(r)&&r.length&&(n.params.deals=r),void 0!==i.floorPriceCents&&(n.params.kadfloor=""+i.floorPriceCents/100),i.floorPriceCurrency&&(n.params.currency=i.floorPriceCurrency),n}function oi(e){return void 0!==(e=void 0===e?{}:e).id&&void 0!==e.pubid}It.bidderSettings[ni]={sendStandardTargeting:!1,adserverTargeting:[{key:"vpb_pubmatic_bid",val:function(e){return er(It.getConfig("priceGranularity"),e)}},{key:"vpb_pubmatic_key",val:function(e){return e.videoCacheKey}}]};var ai="https://fastlane.rubiconproject.com/a/api/fastlane.json",si={FASTLANE:{id:"dt.id",keyv:"dt.keyv",pref:"dt.pref"},PREBID_SERVER:{id:"id",keyv:"keyv"}},di={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380"};O._each(di,function(e,t){return di[e]=t});var ci={code:"rubicon",gvlid:52,supportedMediaTypes:[M.b,M.d],isBidRequestValid:function(e){if("object"!=typeof e.params)return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return O.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n,i,o,a,s=gi(e,!0);return!!s&&("video"!==s||(n=e,i=!0,o=Object.prototype.toString.call([]),s=Object.prototype.toString.call(0),a={mimes:o,protocols:o,maxduration:s,linearity:s,api:o},Object.keys(a).forEach(function(e){Object.prototype.toString.call(O.deepAccess(n,"mediaTypes.video."+e))!==a[e]&&(i=!1,O.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+a[e]))}),i))},buildRequests:function(e,d){var n,t=e.filter(function(e){return"video"===gi(e)}).map(function(e){e.startTime=(new Date).getTime();var t,r,n,i={id:e.transactionId,test:C.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:C.b.getConfig("TTL")||1e3,imp:[{exp:300,id:e.adUnitCode,secure:1,ext:((i={})[e.bidder]=e.params,i),video:O.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(i=C.b).getConfig("customPriceBucket")&&i.getConfig("customPriceBucket").buckets}[i.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:C.b.getConfig("rubicon.int_type")||"pbjs"}}}}};"rubicon"!==e.bidder&&(i.ext.prebid.aliases=((o={})[e.bidder]="rubicon",o)),o="function"!=typeof e.getFloor||C.b.getConfig("rubicon.disableFloors")?parseFloat(O.deepAccess(e,"params.floor")):"object"!=typeof(n=e.getFloor({currency:"USD",mediaType:"video",size:li(e,"video")}))||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:parseFloat(n.floor),isNaN(o)||(i.imp[0].bidfloor=o),i.imp[0].ext[e.bidder].video.size_id=(n=e,o=parseInt(O.deepAccess(n,"params.video.size_id")),isNaN(o)?"outstream"===O.deepAccess(n,"mediaTypes."+M.d+".context")?203:201:o),r=e,o=d,(t=i)&&("object"==typeof C.b.getConfig("app")?t.app=C.b.getConfig("app"):t.site={page:pi(r,o)},"object"==typeof C.b.getConfig("device")&&(t.device=C.b.getConfig("device")),r.params.video.language&&["site","device"].forEach(function(e){t[e]&&(t[e].content=Object(w.default)({language:r.params.video.language},t[e].content))})),function(e,t){"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"==typeof e.imp[0].video&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));t=li(t,"video");e.imp[0].video.w=t[0],e.imp[0].video.h=t[1]}(i,e);var o=ui(e,"PREBID_SERVER");o&&O.deepSetValue(i,"user.ext.digitrust",o),d.gdprConsent&&("boolean"==typeof d.gdprConsent.gdprApplies&&(a=d.gdprConsent.gdprApplies?1:0),O.deepSetValue(i,"regs.ext.gdpr",a),O.deepSetValue(i,"user.ext.consent",d.gdprConsent.consentString)),d.uspConsent&&O.deepSetValue(i,"regs.ext.us_privacy",d.uspConsent),e.userId&&"object"==typeof e.userId&&(e.userId.tdid||e.userId.pubcid||e.userId.lipb||e.userId.idl_env)&&(O.deepSetValue(i,"user.ext.eids",[]),e.userId.tdid&&i.user.ext.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]}),e.userId.pubcid&&i.user.ext.eids.push({source:"pubcommon",uids:[{id:e.userId.pubcid}]}),e.userId.lipb&&e.userId.lipb.lipbid&&(i.user.ext.eids.push({source:"liveintent.com",uids:[{id:e.userId.lipb.lipbid}]}),i.user.ext.tpid={source:"liveintent.com",uid:e.userId.lipb.lipbid},Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&O.deepSetValue(i,"rp.target.LIseg",e.userId.lipb.segments)),e.userId.idl_env&&i.user.ext.eids.push({source:"liveramp.com",uids:[{id:e.userId.idl_env}]})),!0===C.b.getConfig("coppa")&&O.deepSetValue(i,"regs.coppa",1),e.schain&&mi(e.schain)&&O.deepSetValue(i,"source.ext.schain",e.schain);var o=Object(w.default)({},e.params.inventory,C.b.getConfig("fpd.context")),a=Object(w.default)({},e.params.visitor,C.b.getConfig("fpd.user"));O.isEmpty(o)&&O.isEmpty(a)||(s={bidders:[d.bidderCode],config:{fpd:{}}},O.isEmpty(o)||(s.config.fpd.site=o),O.isEmpty(a)||(s.config.fpd.user=a),O.deepSetValue(i,"ext.prebid.bidderconfig.0",s));var s=O.deepAccess(e,"fpd.context.pbAdSlot");return"string"==typeof s&&s&&O.deepSetValue(i.imp[0].ext,"context.data.adslot",s),e.storedAuctionResponse&&O.deepSetValue(i.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),O.deepSetValue(i.imp[0],"ext.prebid.auctiontimestamp",d.auctionStart),{method:"POST",url:"https://prebid-server.rubiconproject.com/openrtb2/auction",data:i,bidRequest:e}});return!0!==C.b.getConfig("rubicon.singleRequest")?t.concat(e.filter(function(e){return"banner"===gi(e)}).map(function(e){var n=ci.createSlotParams(e,d);return{method:"GET",url:ai,data:ci.getOrderedParams(n).reduce(function(e,t){var r=n[t];return O.isStr(r)&&""!==r||O.isNumber(r)?""+e+bi(t,r)+"&":e},"")+"slots=1&rand="+Math.random(),bidRequest:e}})):(n=e.filter(function(e){return"banner"===gi(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(n).reduce(function(t,e){var r=n[e];return r.map(function(e,t){return t%10==0?r.slice(t,t+10):null}).filter(function(e){return e}).forEach(function(e){var n=ci.combineSlotUrlParams(e.map(function(e){return ci.createSlotParams(e,d)}));t.push({method:"GET",url:ai,data:ci.getOrderedParams(n).reduce(function(e,t){var r=n[t];return O.isStr(r)&&""!==r||O.isNumber(r)?""+e+bi(t,r)+"&":e},"")+"slots="+e.length+"&rand="+Math.random(),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain","tpid_tdid","tpid_liveintent.com","tg_v.LIseg","dt.id","dt.keyv","dt.pref","rf","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter(function(e){return-1===n.indexOf(e)}))},combineSlotUrlParams:function(i){if(1===i.length)return i[0];var n=i.reduce(function(t,r,n){return Object.keys(r).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(i.length)),t[e].splice(n,1,r[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(n).forEach(function(e){var t=n[e].join(";"),r=t.match(o);n[e]=r?r[1]:t}),n},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r=e.params,n=li(e,"banner"),i=r.latLong||[],o=i[0],a=i[1],i=C.b.getConfig("rubicon.int_type"),s={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:n[0],alt_size_ids:n.slice(1).join(",")||void 0,rp_floor:.01<(r.floor=parseFloat(r.floor))?r.floor:.01,rp_secure:"1",tk_flint:(i||"pbjs_lite")+"_v3.27.1","x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"tg_fl.eid":e.code,rf:pi(e,t)};"function"!=typeof e.getFloor||C.b.getConfig("rubicon.disableFloors")||(a=e.getFloor({currency:"USD",mediaType:"banner",size:"*"}),s.rp_hard_floor="object"!=typeof a||"USD"!==a.currency||isNaN(parseInt(a.floor))?void 0:a.floor),s.p_pos="atf"===r.position||"btf"===r.position?r.position:"",e.userId&&(e.userId.tdid&&(s.tpid_tdid=e.userId.tdid),e.userId.lipb&&e.userId.lipb.lipbid&&(s["tpid_liveintent.com"]=e.userId.lipb.lipbid,Array.isArray(e.userId.lipb.segments)&&e.userId.lipb.segments.length&&(s["tg_v.LIseg"]=e.userId.lipb.segments.join(","))),e.userId.idl_env&&(s["tpid_liveramp.com"]=e.userId.idl_env)),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(s.gdpr=Number(t.gdprConsent.gdprApplies)),s.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(s.us_privacy=encodeURIComponent(t.uspConsent));var d=Object(w.default)({},r.visitor,C.b.getConfig("fpd.user"));Object.keys(d).forEach(function(e){null!=d[e]&&"keywords"!==e&&(s["tg_v."+e]="object"!=typeof d[e]||Array.isArray(d[e])?d[e].toString():JSON.stringify(d[e]))});var c=Object(w.default)({},r.inventory,C.b.getConfig("fpd.context"));Object.keys(c).forEach(function(e){null!=c[e]&&"keywords"!==e&&(s["tg_i."+e]="object"!=typeof c[e]||Array.isArray(c[e])?c[e].toString():JSON.stringify(c[e]))});r=(r.keywords||[]).concat(O.deepAccess(C.b.getConfig("fpd.user"),"keywords")||[],O.deepAccess(C.b.getConfig("fpd.context"),"keywords")||[]);s.kw=Array.isArray(r)&&r.length?r.join(","):"";r=O.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof r&&r&&(s["tg_i.dfp_ad_unit_code"]=r.replace(/^\/+/,""));r=ui(e,"FASTLANE");return Object(w.default)(s,r),!0===C.b.getConfig("coppa")&&(s.coppa=1),e.schain&&mi(e.schain)&&(s.rp_schain=ci.serializeSupplyChain(e.schain)),s},serializeSupplyChain:function(e){if(!mi(e))return"";var t=e.ver,r=e.complete,e=e.nodes;return t+","+r+"!"+ci.serializeSupplyChainNodes(e)},serializeSupplyChainNodes:function(e){var r=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return r.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(a,e){var s=e.bidRequest;if(!(a=a.body)||"object"!=typeof a)return[];if(a.seatbid){var t=O.deepAccess(a,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&O.logWarn("Rubicon: Error in video response");var i=[];return a.seatbid.forEach(function(n){(n.bid||[]).forEach(function(e){var t={requestId:s.bidId,currency:a.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:n.seat,ttl:300,netRevenue:!1!==C.b.getConfig("rubicon.netRevenue"),width:e.w||O.deepAccess(s,"mediaTypes.video.w")||O.deepAccess(s,"params.video.playerWidth"),height:e.h||O.deepAccess(s,"mediaTypes.video.h")||O.deepAccess(s,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid);var r=O.deepAccess(a,"ext.responsetimemillis.rubicon");s&&r&&(s.serverResponseTimeMs=r),O.deepAccess(e,"ext.prebid.type")===M.d?(t.mediaType=M.d,(r=O.deepAccess(e,"ext.prebid.targeting"))&&"object"==typeof r&&(t.adserverTargeting=r),e.ext.prebid.cache&&"object"==typeof e.ext.prebid.cache.vastXml&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):r&&r.hb_uuid&&r.hb_cache_host&&r.hb_cache_path&&(t.videoCacheKey=r.hb_uuid,t.vastUrl="https://"+r.hb_cache_host+r.hb_cache_path+"?uuid="+r.hb_uuid),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):O.logWarn("Rubicon: video response received non-video media type"),i.push(t)})}),i}t=a.ads;return"object"!=typeof s||Array.isArray(s)||"video"!==gi(s)||"object"!=typeof t||(t=t[s.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,r){if("ok"!==t.status)return e;var n,i,o=Array.isArray(s)?s[r]:s;return o&&"object"==typeof o?(n={requestId:o.bidId,currency:"USD",creativeId:t.creative_id||(t.network||"")+"-"+(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==C.b.getConfig("rubicon.netRevenue"),rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network}},t.creative_type&&(n.mediaType=t.creative_type),t.creative_type===M.d?(n.width=o.params.video.playerWidth,n.height=o.params.video.playerHeight,n.vastUrl=t.creative_depot_url,n.impression_id=t.impression_id,n.videoCacheKey=t.impression_id):(n.ad=(i=t.script,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+t.impression_id+"'>\n<script type='text/javascript'>"+i+"<\/script>\n</div>\n</body>\n</html>"),i=di[t.size_id].split("x").map(function(e){return Number(e)}),n.width=i[0],n.height=i[1]),n.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:o.adUnitCode}),e.push(n)):O.logError("Rubicon: bidRequest undefined at index position:"+r,s,a),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,r,n){if(!yi&&e.iframeEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="?gdpr="+Number(r.gdprApplies)+"&gdpr_consent="+r.consentString:e+="?gdpr_consent="+r.consentString),n&&(e+=(e?"&":"?")+"us_privacy="+encodeURIComponent(n)),yi=!0,{type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+e}}},transformBidParams:function(e,t){return O.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function ui(t,e){if(void 0===t&&(t={}),!e||!si[e])return null;var r=si[e],n=function(){var e=O.deepAccess(t,"userId.digitrustid.data");if(e)return e;e=window.DigiTrust&&(C.b.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return e&&e.success&&e.identity||null}();if(!n||n.privacy&&n.privacy.optout)return null;(e={})[r.id]=n.id,e[r.keyv]=n.keyv;return r.pref&&(e[r.pref]=0),e}function pi(e,t){var r=C.b.getConfig("pageUrl"),r=e.params.referrer||r||t.refererInfo.referer;return e.params.secure?r.replace(/^http:/i,"https:"):r}function li(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(O.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(n=e.sizes[0]),n}var i,n=[];return Array.isArray(r.sizes)?n=r.sizes:void 0!==O.deepAccess(e,"mediaTypes.banner.sizes")?n=fi(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?n=fi(e.sizes):O.logWarn("Rubicon: no sizes are setup or found"),i=[15,2,9],n.sort(function(e,t){var r=i.indexOf(e),n=i.indexOf(t);return-1<r||-1<n?-1===r?1:-1===n?-1:r-n:e-t})}function fi(e){return O.parseSizesInput(e).reduce(function(e,t){t=parseInt(di[t],10);return t&&e.push(t),e},[])}function gi(e,t){return void 0===t&&(t=!1),"object"==typeof O.deepAccess(r=e,"params.video")&&void 0!==O.deepAccess(r,"mediaTypes."+M.d)?-1===["outstream","instream"].indexOf(O.deepAccess(e,"mediaTypes."+M.d+".context"))?void(t&&O.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):li(e,"video").length<2?void(t&&O.logError("Rubicon: could not determine the playerSize of the video")):(t&&O.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===li(e,"banner").length?void(t&&O.logError("Rubicon: could not determine the sizes for banner request")):(t&&O.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner");var r}function mi(e){var t=!1,r=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&r.every(function(e){return t[e]})},!0))||O.logError("Rubicon: required schain params missing")),t}function bi(e,t){return"rp_schain"===e?"rp_schain="+t:e+"="+encodeURIComponent(t)}var yi=!1;Object(ar.c)(ci);var vi=ci.code;function hi(e,t){var r={accountId:""+t.pubid,siteId:""+t.siteId,zoneId:""+t.zoneId},n={},i=e.player,t=i.getAudioTracks();t.length&&(i=t[i.getCurrentAudioTrack()],n.language=i.language);e=e.settings.floorPriceCents;return void 0!==e&&(r.floor=e/100),r.video=n,{bidder:vi,params:r}}function Ii(e){return!!e&&void 0!==e.pubid&&void 0!==e.siteId&&void 0!==e.zoneId}var Si=Object(O.generateUUID)(),r={code:"sonobi",supportedMediaTypes:[M.b,M.d],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!Object(O.deepAccess)(e,"mediaTypes.banner")&&!Object(O.deepAccess)(e,"mediaTypes.video"))return!1;if(Object(O.deepAccess)(e,"mediaTypes.banner")){if(!Object(O.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if(Object(O.deepAccess)(e,"mediaTypes.video")){if("outstream"===Object(O.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===Object(O.deepAccess)(e,"mediaTypes.video.context")&&!Object(O.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,t){var r=e.map(function(e){var t,r=e.params.ad_unit||e.params.placement_id;return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(r)?((t={})[(r="/"===r.charAt(0)?r:"/"+r)+"|"+e.bidId]=""+Ai(e)+_i(e),t):/^[0-9a-fA-F]{20}$/.test(r)&&20===r.length?((t={})[e.bidId]=r+"|"+Ai(e)+_i(e),t):void Object(O.logError)("The ad unit code or Sonobi Placement id for slot "+e.bidId+" is invalid")}),n={};r.forEach(function(e){Object(w.default)(n,e)});var i={key_maker:JSON.stringify(n),ref:t.refererInfo.referer,s:Object(O.generateUUID)(),pv:Si,vp:function(e){e=function(r){return void 0===r&&(r=window),function(e,t){return void 0===e&&(e=0),void 0===t&&(t=Number.MAX_SAFE_INTEGER),r.innerWidth>=e&&r.innerWidth<t}}(e=void 0===e?window:e);return e(0,768)?"mobile":e(768,992)?"tablet":"desktop"}(),lib_name:"prebid",lib_v:"3.27.1",us:0};C.b.getConfig("userSync")&&C.b.getConfig("userSync").syncsPerBidder&&(i.us=C.b.getConfig("userSync").syncsPerBidder),B.a.canBidderRegisterSync("iframe","sonobi")?i.ius=1:i.ius=0,Object(O.deepAccess)(e[0],"params.hfa")&&(i.hfa=Object(O.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(i.ref=e[0].params.referrer),t&&t.gdprConsent&&(i.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(i.consent_string=t.gdprConsent.consentString)),e[0].schain&&(i.schain=JSON.stringify(e[0].schain)),Object(O.deepAccess)(e[0],"userId")&&0<Object.keys(e[0].userId).length&&(i.userid=JSON.stringify(e[0].userId));r=e[0].params.keywords;if(r&&(i.kw=r),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),Object(O.isEmpty)(n))return null;t="https://apex.go.sonobi.com/trinity.json";return{method:"GET",url:t=Object(O.deepAccess)(e[0],"params.bid_request_url")?Object(O.deepAccess)(e[0],"params.bid_request_url"):t,withCredentials:!0,data:i,bidderRequests:e}},interpretResponse:function(e,s){var d=e.body,c=[],u=s.data.ref;return 0===Object.keys(d.slots).length||Object.keys(d.slots).forEach(function(e){var t=d.slots[e],r=e.split("|").slice(-1)[0],n=function(e,t){for(var r=0;r<e.length;r++)if(e[r].bidId===t)return e[r]}(s.bidderRequests,r),i=null;"video"===t.sbi_ct&&(i="video","outstream"===Object(O.deepAccess)(n,"mediaTypes.video.context")&&(i="outstream"));var o,a=Ei(i,u);t.sbi_aid&&t.sbi_mouse&&t.sbi_size&&(e=void 0===(e=(o=t.sbi_size.split("x"))[0])?1:e,o=void 0===(o=o[1])?1:o,o={requestId:r,cpm:Number(t.sbi_mouse),width:Number(e),height:Number(o),ad:a(d.sbi_dc,t.sbi_aid),ttl:500,creativeId:t.sbi_crid||t.sbi_aid,aid:t.sbi_aid,netRevenue:!0,currency:"USD"},t.sbi_dozer&&(o.dealId=t.sbi_dozer),"video"===i?(o.mediaType="video",o.vastUrl=a(d.sbi_dc,t.sbi_aid),delete o.ad,delete o.width,delete o.height):"outstream"===i&&n&&(o.mediaType="video",o.vastUrl=a(d.sbi_dc,t.sbi_aid),o.renderer=function(e,t,r){r=k.install({id:t.aid,url:"https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",config:r=void 0===r?{}:r,loaded:!1,adUnitCode:e});try{r.setRender(Ti)}catch(e){Object(O.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return Object(O.logMessage)("Sonobi outstream video impression event")},loaded:function(){return Object(O.logMessage)("Sonobi outstream video loaded event")},ended:function(){Object(O.logMessage)("Sonobi outstream renderer video event")}}),r}(n.adUnitCode,o,Object(O.deepAccess)(n,"renderer.options")),n=Object(O.deepAccess)(n,"params.sizes"),(n=Array.isArray(n)&&Array.isArray(n[0])?n[0]:n)&&(o.width=n[0],o.height=n[1])),c.push(o))}),c},getUserSyncs:function(e,t,r,n){var i=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach(function(e){i.push({type:e.type,url:e.url})})}catch(e){}return i}};function Ai(e){return Object(O.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?Object(O.parseSizesInput)(e.params.sizes).join(","):Object(O.deepAccess)(e,"mediaTypes.banner.sizes")?Object(O.parseSizesInput)(Object(O.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?Object(O.parseSizesInput)(e.sizes).join(","):void 0}function _i(e){return e.params.floor?"|f="+e.params.floor:""}var Ei=function(r,n){return function(e,t){return"video"===r||"outstream"===r?"https://"+e+"apex.go.sonobi.com/vast.xml?vid="+t+"&ref="+encodeURIComponent(n):'<script type="text/javascript" src="https://'+e+"apex.go.sonobi.com/sbi.js?aid="+t+"&as=null&ref="+encodeURIComponent(n)+'"><\/script>'}};function Ti(n){n.renderer.push(function(){var e=n.getSize().split("x"),t=e[0],r=e[1],e=new window.SbiOutstreamRenderer;e.init({vastUrl:n.vastUrl,height:r,width:t}),e.setRootElement(n.adUnitCode)})}Object(ar.c)(r);var wi=r.code;function Oi(e,t){t={placement_id:""+t.id},e=e.settings.floorPriceCents;return void 0!==e&&(t.floor=e/100),{bidder:wi,params:t}}function xi(e){return!!e&&void 0!==e.id}var Ci={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},r={code:"spotx",gvlid:165,aliases:["spotx"],supportedMediaTypes:[M.d],isBidRequestValid:function(e){if(e&&"object"!=typeof e.params)return O.logError("spotx: params is not defined or is incorrect in the bidder settings."),!1;if(!O.deepAccess(e,"mediaTypes.video"))return O.logError("spotx: mediaTypes.video is not present in the bidder settings."),!1;var t=O.deepAccess(e,"mediaTypes.video.playerSize");if(!t||!O.isArray(t))return O.logError("spotx: mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!O.getBidIdParameter("channel_id",e.params))return O.logError("spotx: channel_id is not present in bidder params"),!1;if(("outstream"==O.deepAccess(e,"mediaTypes.video.context")||"outstream"==O.deepAccess(e,"params.ad_unit"))&&!O.getBidIdParameter("outstream_function",e.params)){if(!O.getBidIdParameter("outstream_options",e.params))return O.logError("spotx: please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!O.getBidIdParameter("slot",e.params.outstream_options))return O.logError("spotx: please define parameters slot outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,l){var f=l.refererInfo.referer,g=!!f.match(/^https:/);return e.map(function(e){var t=O.getBidIdParameter("channel_id",e.params),r=null,n=O.deepAccess(e,"mediaTypes.video.playerSize"),i=n[0][0],o=n[0][1],a=g||(O.getBidIdParameter("secure",e.params)?1:0),s={sdk_name:"Prebid 1+",player_vendor:"SpotXJW",versionOrtb:"2.3"};if(""!=O.getBidIdParameter("hide_skin",e.params)&&(s.hide_skin=+!!O.getBidIdParameter("hide_skin",e.params)),""!=O.getBidIdParameter("ad_volume",e.params)&&(s.ad_volume=O.getBidIdParameter("ad_volume",e.params)),""!=O.getBidIdParameter("ad_unit",e.params)&&(s.ad_unit=O.getBidIdParameter("ad_unit",e.params)),""!=O.getBidIdParameter("outstream_options",e.params)&&(s.outstream_options=O.getBidIdParameter("outstream_options",e.params)),""!=O.getBidIdParameter("outstream_function",e.params)&&(s.outstream_function=O.getBidIdParameter("outstream_function",e.params)),""!=O.getBidIdParameter("custom",e.params)&&(s.custom=O.getBidIdParameter("custom",e.params)),""!=O.getBidIdParameter("pre_market_bids",e.params)&&O.isArray(O.getBidIdParameter("pre_market_bids",e.params))){var d,c=O.getBidIdParameter("pre_market_bids",e.params);for(d in s.pre_market_bids=[],c){var u=c[d],p="";u.vast_url?p='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+u.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":u.vast_string&&(p=u.vast_string),s.pre_market_bids.push({id:u.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:u.deal_id,price:u.price,adm:p}]}],cur:u.currency,ext:{event_log:[{}]}})}}n=O.getBidIdParameter("mimes",e.params)||["application/javascript","video/mp4","video/webm"],o={id:e.bidId,secure:a,video:{w:i,h:o,ext:s,mimes:n}};""!=O.getBidIdParameter("price_floor",e.params)&&(o.bidfloor=O.getBidIdParameter("price_floor",e.params)),""!=O.getBidIdParameter("start_delay",e.params)&&(o.video.startdelay=0+Boolean(O.getBidIdParameter("start_delay",e.params))),""!=O.getBidIdParameter("min_duration",e.params)&&(o.video.minduration=O.getBidIdParameter("min_duration",e.params)),""!=O.getBidIdParameter("max_duration",e.params)&&(o.video.maxduration=O.getBidIdParameter("max_duration",e.params)),""!=O.getBidIdParameter("placement_type",e.params)&&(o.video.ext.placement=O.getBidIdParameter("placement_type",e.params)),""!=O.getBidIdParameter("position",e.params)&&(o.video.ext.pos=O.getBidIdParameter("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(r=e.crumbs.pubcid);n=navigator.language?"language":"userLanguage",n={h:screen.height,w:screen.width,dnt:O.getDNT()?1:0,language:navigator[n].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent},o={id:t,imp:o,site:{id:"",page:f,content:"content"},device:n,ext:{wrap_response:1}};O.getBidIdParameter("number_of_ads",e.params)&&(o.ext.number_of_ads=O.getBidIdParameter("number_of_ads",e.params));n={};return 1==O.getBidIdParameter("spotx_all_google_consent",e.params)&&(n.consented_providers_settings=Ci),l&&l.gdprConsent&&(n.consent=l.gdprConsent.consentString,void 0!==l.gdprConsent.gdprApplies&&O.deepSetValue(o,"regs.ext.gdpr",l.gdprConsent.gdprApplies?1:0)),l&&l.uspConsent&&O.deepSetValue(o,"regs.ext.us_privacy",l.uspConsent),e&&e.userId&&e.userId.id5id&&(n.eids=n.eids||[],n.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id}]})),r&&(n.fpc=r),e&&e.schain&&(o.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(n.eids=n.eids||[],n.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),O.isEmpty(n)||(o.user={ext:n}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+t,data:o,bidRequest:l}})},interpretResponse:function(e,a){var s=[],d=e.body;return d&&O.isArray(d.seatbid)&&O._each(d.seatbid,function(e){O._each(e.bid,function(t){var e,r={};for(e in a.bidRequest.bids)t.impid==a.bidRequest.bids[e].bidId&&(r=a.bidRequest.bids[e]);O._each(r.params.pre_market_bids,function(e){e.deal_id==t.id&&(t.price=e.price,d.cur=e.currency)});var n={requestId:r.bidId,currency:d.cur||"USD",cpm:t.price,creativeId:t.crid||"",ttl:360,netRevenue:!0,channel_id:d.id,cache_key:t.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+t.ext.cache_key,videoCacheKey:t.ext.cache_key,mediaType:M.d,width:t.w,height:t.h},i=O.deepAccess(r,"mediaTypes.video.context"),o=O.deepAccess(r,"params.ad_unit");if("outstream"==i||"outstream"==o){o=O.deepAccess(r,"mediaTypes.video.playerSize"),o=k.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:o[0][0],player_height:o[0][1],content_page_url:O.deepAccess(a,"data.site.page"),ad_mute:+!!O.deepAccess(r,"params.ad_mute"),hide_skin:+!!O.deepAccess(r,"params.hide_skin"),outstream_options:O.deepAccess(r,"params.outstream_options"),outstream_function:O.deepAccess(r,"params.outstream_function")}});try{o.setRender(ji),o.setEventHandlers({impression:function(){return O.logMessage("SpotX outstream video impression event")},loaded:function(){return O.logMessage("SpotX outstream video loaded event")},ended:function(){O.logMessage("SpotX outstream renderer video event")}})}catch(t){O.logWarn("Prebid Error calling setRender or setEve,tHandlers on renderer",t)}n.renderer=o}s.push(n)})}),s}};function ji(e){var t=function(e){var t=O.getBidIdParameter("slot",e.renderer.config.outstream_options);O.logMessage("[SPOTX][renderer] Handle SpotX outstream renderer");var r=window.document.createElement("script");r.type="text/javascript",r.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var n={};n["data-spotx_channel_id"]=""+e.channel_id,n["data-spotx_vast_url"]=""+e.vastUrl,n["data-spotx_content_page_url"]=e.renderer.config.content_page_url,n["data-spotx_ad_unit"]="incontent",O.logMessage("[SPOTX][renderer] Default beahavior"),O.getBidIdParameter("ad_mute",e.renderer.config.outstream_options)&&(n["data-spotx_ad_mute"]="0"),n["data-spotx_collapse"]="0",n["data-spotx_autoplay"]="1",n["data-spotx_blocked_autoplay_override_mode"]="1",n["data-spotx_video_slot_can_autoplay"]="1";var i,o,a,s,d=O.getBidIdParameter("playersize_auto_adapt",e.renderer.config.outstream_options);d&&O.isBoolean(d)&&!0===d&&(e.width&&O.isNumber(e.width)&&e.height&&O.isNumber(e.height)?(i=e.width/e.height,o=window.document.getElementById(t).clientWidth,a=e.renderer.config.player_width,s=e.renderer.config.player_height,t=d=0,o<a&&(s=(a=o)/i),t=i<=1?(d=Math.round(s*i),s):(d=a,Math.round(a/i)),n["data-spotx_content_width"]=""+d,n["data-spotx_content_height"]=""+t):O.logWarn("[SPOTX][renderer] PlayerSize auto adapt: bid.width and bid.height are incorrect"));var c,u=O.getBidIdParameter("custom_override",e.renderer.config.outstream_options);if(u&&O.isPlainObject(u))for(var p in O.logMessage("[SPOTX][renderer] Custom beahavior."),u)u.hasOwnProperty(p)&&("channel_id"===p||"vast_url"===p||"content_page_url"===p||"ad_unit"===p?O.logWarn("[SPOTX][renderer] Custom beahavior: following option cannot be overrided: "+p):n["data-spotx_"+p]=u[p]);for(c in n)n.hasOwnProperty(c)&&r.setAttribute(c,n[c]);return r}(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var r,n,i,o=O.getBidIdParameter("in_iframe",e.renderer.config.outstream_options);(o&&"IFRAME"==window.document.getElementById(o).nodeName?(n=!(n=(r=window.document.getElementById(o)).contentDocument)&&r.contentWindow?r.contentWindow.document:n).body:(i=O.getBidIdParameter("slot",e.renderer.config.outstream_options))&&window.document.getElementById(i)?window.document.getElementById(i):window.document.getElementsByTagName("head")[0]).appendChild(t)}catch(e){O.logError("[SPOTX][renderer] Error:"+e.message)}}Object(ar.c)(r);var Pi=r.code;function Ri(e,t,r){var n=e.player,i=e.params,o=e.settings,e=Zt(zt),r={bidder:Pi,params:{content:r,channel_id:t.id,ad_unit:"instream",mimes:e,ad_volume:n.getVolume(),hide_skin:!0,start_delay:rr(i.offset),custom:{},min_duration:3,max_duration:300}};t.optionalParams&&(Object(w.default)(r.params,t.optionalParams),t.optionalParams.no_vpaid_ads)&&(n=e.indexOf("application/javascript"),e.splice(n,1)),t.passFloorPrice&&void 0!==o.floorPriceCents&&(r.params.price_floor=o.floorPriceCents/100);i=i.jwpseg;return Array.isArray(i)&&i.length&&Object(w.default)(r.params.custom,{jwpseg:i}),r}function ki(e){return void 0!==(e=void 0===e?{}:e).id}It.bidderSettings[Pi]={sendStandardTargeting:!1,adserverTargeting:[{key:"spotx_bid",val:function(e){return er(It.getConfig("priceGranularity"),e)}},{key:"spotx_ad_key",val:function(e){return e.videoCacheKey}}]};var Ui=["minduration","maxduration","startdelay","placement","linearity","mimes","protocols","api"],Di=["1x1","1x2"],r={code:"synacormedia",supportedMediaTypes:[M.b,M.d],sizeMap:{},isVideoBid:function(e){return void 0!==e.mediaTypes&&e.mediaTypes.hasOwnProperty("video")},isBidRequestValid:function(e){var t=e&&e.params&&e.params.hasOwnProperty("placementId")&&e.params.hasOwnProperty("seatId"),e=e&&0<Object(O.getAdUnitSizes)(e).filter(function(e){return-1===Di.indexOf(e.join("x"))}).length;return!(!t||!e)},buildRequests:function(e,t){var d=this;if(e&&e.length&&t){var r=t.refererInfo,c={id:t.auctionId,site:{domain:location.hostname,page:r.referer,ref:document.referrer},device:{ua:navigator.userAgent},imp:[]},r=e[0].schain;r&&(c.source={ext:{schain:r}});var u=null;return e.forEach(function(e,t){var r,n,i,o,a,s;u&&u!==e.params.seatId?Object(O.logWarn)("Synacormedia: there is an inconsistent seatId: "+e.params.seatId+" but only sending bid requests for "+u+", you should double check your configuration"):(u=e.params.seatId,r=e.params.placementId,n=e.params.bidfloor?parseFloat(e.params.bidfloor):null,isNaN(n)&&Object(O.logWarn)("Synacormedia: there is an invalid bid floor: "+e.params.bidfloor),i=parseInt(e.params.pos,10),isNaN(i)&&(Object(O.logWarn)("Synacormedia: there is an invalid POS: "+e.params.pos),i=0),o=d.isVideoBid(e)?"video":"banner",a=Object(O.getAdUnitSizes)(e).filter(function(e){return-1===Di.indexOf(e.join("x"))}),s=[],"banner"==o?s=d.buildBannerImpressions(a,e,r,i,n,o):"video"==o&&(s=d.buildVideoImpressions(a,e,r,i,n,o)),0<s.length&&s.forEach(function(e){return c.imp.push(e)}))}),t&&t.uspConsent&&Object(O.deepSetValue)(c,"regs.ext.us_privacy",t.uspConsent),c.imp.length&&u?{method:"POST",url:"https://prebid.technoratimedia.com/openrtb/bids/"+u+"?src=prebid_prebid_3.27.1",data:c,options:{contentType:"application/json",withCredentials:!0}}:void 0}},buildBannerImpressions:function(e,t,r,n,i,o){var a=[],s=[];return e.forEach(function(e,t){e&&2===e.length&&a.push({w:e[0],h:e[1]})}),0<a.length&&(r={id:""+o.substring(0,1)+t.bidId,banner:{format:a,pos:n},tagid:r},null===i||isNaN(i)||(r.bidfloor=i),s.push(r)),s},buildVideoImpressions:function(e,i,o,a,s,d){var c=this,u=[];return e.forEach(function(e,t){var r,n;e&&2==e.length&&(r=e[0],n=e[1],e={id:""+d.substring(0,1)+i.bidId+"-"+r+"x"+n,tagid:o},null===s||isNaN(s)||(e.bidfloor=s),n={w:r,h:n,pos:a},i.mediaTypes.video&&c.setValidVideoParams(i.mediaTypes.video,i.params.video),i.params.video&&c.setValidVideoParams(i.params.video,n),e[d]=n,u.push(e))}),u},setValidVideoParams:function(t,r){Object.keys(t).filter(function(e){return T()(Ui,e)&&null!==t[e]&&(!isNaN(parseInt(t[e],10))||!(t[e].length<1))}).forEach(function(e){return r[e]=Array.isArray(t[e])?t[e]:parseInt(t[e],10)})},interpretResponse:function(e,u){function p(e,t){return t&&t.replace(/\${AUCTION_PRICE}/g,e.price)}if(e.body&&"object"==typeof e.body){var t=e.body,r=t.id,t=t.seatbid,l=[];return r&&t&&t.forEach(function(c){c.bid.forEach(function(n){var e=p(n,n.adm),t=p(n,n.nurl),r=n.impid.match(/^([vb])(.*)$/),i=r[1],r=r[2],o=n.h,a=n.w,s="v"===i,d="b"===i;(!o||!a)&&u.data&&u.data.imp&&0<u.data.imp.length&&u.data.imp.forEach(function(e){var t,r;n.impid===e.id&&(a=s?(o=e.video.h,e.video.w):d?(r=t=1,e.banner.format&&0<e.banner.format.length&&(t=e.banner.format[0].h,r=e.banner.format[0].w),o=t,r):o=1)});r={requestId:r,adId:n.id.replace(/~/g,"-"),cpm:parseFloat(n.price),width:parseInt(a,10),height:parseInt(o,10),creativeId:c.seat+"_"+n.crid,currency:"USD",netRevenue:!0,mediaType:s?M.d:M.b,ad:e,ttl:60};s&&(e=t.match(/ID=([^&]*)&?/)[1],C.b.getConfig("cache.url")||(r.videoCacheKey=encodeURIComponent(e)),r.vastUrl=t),l.push(r)})}),l}Object(O.logWarn)("Synacormedia: server returned empty/non-json response: "+JSON.stringify(e.body))},getUserSyncs:function(e,t){var r=[];return e.iframeEnabled?r.push({type:"iframe",url:"https://ad-cdn.technoratimedia.com/html/usersync.html?src=prebid_prebid_3.27.1"}):Object(O.logWarn)("Synacormedia: Please enable iframe based user sync."),r}};Object(ar.c)(r);var Bi=r.code;function Ni(e,t,r,n){var i=e.params,o=e.player,a=e.settings,e=i.jwpseg;Array.isArray(e)&&e.length&&(e=e.map(function(e){return{value:e}}),r.data=[{name:"jwpseg",segment:e}]);r={seatId:""+t.pubid,placementId:""+t.id,video:{mimes:Zt(zt),minduration:3,maxduration:300,protocols:[Wt,Gt,Ht,Vt,Lt,Yt],startdelay:rr(i.offset),placement:i.placement,linearity:1,playbackmethod:[tr(o.getConfig())],api:n.api},content:r},a=a.floorPriceCents;return void 0!==a&&(r.bidfloor=a/100),o.getFullscreen()&&(r.pos=7),{bidder:Bi,params:r}}function zi(e){return!!e&&void 0!==e.pubid&&void 0!==e.id}function Mi(e){return e.filter(function(e){var t=!!O.deepAccess(e,"ext.renderer.config"),e=!!O.deepAccess(e,"ext.renderer.config.siteId");return t||O.logError(new Error("UnrulyBidAdapter: Missing renderer config.")),e||O.logError(new Error("UnrulyBidAdapter: Missing renderer siteId.")),e}).map(function(e){var t=O.deepAccess(e,"ext.renderer");return function(e){if(!e.config)throw new Error("UnrulyBidAdapter: Missing renderer config.");if(!e.config.siteId)throw new Error("UnrulyBidAdapter: Missing renderer siteId.");parent.window.unruly=parent.window.unruly||{},parent.window.unruly.native=parent.window.unruly.native||{},parent.window.unruly.native.siteId=parent.window.unruly.native.siteId||e.config.siteId,parent.window.unruly.native.supplyMode="prebid"}(t),parent.window.unruly.native.prebid=parent.window.unruly.native.prebid||{},parent.window.unruly.native.prebid.uq=parent.window.unruly.native.prebid.uq||[],{rendererInstance:k.install(Object(w.default)({},t,{callback:function(){}})),serverBid:e}}).map(function(e){var t=e.rendererInstance,r=e.serverBid,e={requestId:r.bidId,cpm:r.cpm,width:r.width,height:r.height,vastUrl:r.vastUrl,netRevenue:!0,creativeId:r.bidId,ttl:360,currency:"USD",renderer:t,mediaType:M.d},n=Object(w.default)({},e,{renderer:t,adUnitCode:r.ext.adUnitCode});return t.setRender(function(){parent.window.unruly.native.prebid.uq.push(["render",n])}),e})}r={code:"unruly",supportedMediaTypes:[M.d],isBidRequestValid:function(e){if(!e)return!1;var t=O.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||"outstream"===t},buildRequests:function(e,t){return{url:"https://targeting.unrulymedia.com/prebid",method:"POST",data:{bidRequests:e,bidderRequest:t},options:{contentType:"text/plain"}}},interpretResponse:function(e){e=(e=void 0===e?{}:e).body;return e&&e.bids?Mi(e.bids):[]},getUserSyncs:function(e,t,r){var n="";r&&"gdprApplies"in r&&(r.gdprApplies&&"string"==typeof r.consentString?n+="?gdpr=1&gdpr_consent="+r.consentString:n+="?gdpr=0");r=[];return e.iframeEnabled&&r.push({type:"iframe",url:"https://video.unrulymedia.com/iframes/third-party-iframes.html"+n}),r}};Object(ar.c)(r);var qi=r.code;function Fi(e,t,r){r={siteId:parseInt(t.pubid),targetingUUID:""+t.id,content:r},e=e.params.jwpseg;return Array.isArray(e)&&e.length&&(r.jwpseg=e),{bidder:qi,mediaType:"video",params:r}}function Wi(e){return!!e&&void 0!==e.pubid&&void 0!==e.id}var Gi=((r={})[["Adtelligent"]]=n,r[["AppNexus"]]=i,r[["DistrictM"]]=o,r[["EMX"]]=a,r[["IndexExchange"]]=d,r[["MediaNet"]]=c,r[["MediaGrid"]]=s,r[["OneVideo"]]=u,r[["OpenX"]]=p,r[["PubMatic"]]=l,r[["Rubicon"]]=f,r[["Sonobi"]]=g,r[["SpotX"]]=m,r[["SynacorMedia"]]=b,r[["Unruly"]]=y,r),Vi=A.EVENTS.AUCTION_INIT,Li=A.EVENTS.BID_ADJUSTMENT,Hi=A.EVENTS.BID_REQUESTED,Yi=A.EVENTS.BID_RESPONSE,Ki=A.EVENTS.BID_TIMEOUT,Ji=A.EVENTS.NO_BID,Xi=((r=Qi.prototype).init=function(){var o=this,e=this.player,t=this.engine,r=this.params,a=this._getContent(),n=[e.getWidth(),e.getHeight()],s=this._getOrtbVideoParams(e,r,n),e=e.getPlugin("jwpsrv");e&&e.getTrackingPixelURLs&&(this.trackingPixelURLs=e.getTrackingPixelURLs()),this.bidStateMap={};e=this.bidderConfigs.reduce(function(e,t){var r=t.name,n=Gi[r],i=n?n.code:r,r={bidder:i};return n&&n.validate(t)?e.push(n.generate(o,t,a,s)):(r.result="invalid",r.timeForBidResponse=0),o.bidStateMap[i]=Object(w.default)({},t),o.updateBid(i,r),e},[]);t.addAdUnits({code:this.id,sizes:n,bids:e,mediaTypes:{video:s}})},r._getContent=function(){var e=this.player.getPlaylistItem(),e=e&&e.mediaid;return{id:e=e?"jw_"+e:""}},r._getOrtbVideoParams=function(e,t,r){var n={context:"instream",playerSize:r,mimes:Zt(zt),protocols:[Wt,Gt,Ht,Vt,Lt,Yt],playbackmethod:[tr(e.getConfig())],api:[2],startdelay:rr(t.offset),placement:t.placement,linearity:1,minduration:3,maxduration:300},r=t.adClient;void 0!==window.OmidSessionClient&&"vast"===r&&n.api.push(Ft),e.getFullscreen()&&(n.pos=7);e=t.skipoffset;return void 0!==e&&(n.skip=(t=0<=e)?1:0,t&&(n.skipmin=e+2,n.skipafter=e)),n},r.getEventObject=function(){var e=this.settings,t=e.floorPriceCents,r=e.floorPriceCurrency,e=e.mediationLayerAdServer,n=this.bidStateMap,r={bidsVersion:"3.6.3",mediationLayerAdServer:e,bidders:Object.keys(n).map(function(e){return Object(w.default)({},n[e])}),bidTimeout:this.engine.getConfig("bidderTimeout"),floorPriceCurrency:r};"jwp"!==e&&"jwpdfp"!==e||(r.floorPriceCents=t);t=r.bidders.reduce(function(e,t){return t.timeForVPBCache&&(e.total+=t.timeForVPBCache,e.count+=1),e},{total:0,count:0});return t.count&&(r.timeForVPBCache=t.total/t.count),r},r._auctionStartHandler=function(e){e=e.timestamp;this.auctionStart=e},r._bidAdjustmentHandler=function(e){var t,r,n,i,o,a;e.adUnitCode===this.id&&(n=e.cpm,i=e.originalCpm,t={priceInCents:100*n,grossPriceInCents:parseFloat(i)!==parseFloat(n)?100*i:void 0,timeForBidResponse:e.timeToRespond},r=e.bidder,e.videoCacheKey||(e.meta=e.meta||{},o=this.player,a=this.settings,this.hasWinner=this.hasWinner||t.priceInCents>=a.floorPriceCents&&nr(a.mediationLayerAdServer),this.hasWinner?(e.meta.vastUrl=e.vastUrl,e.vastUrl=e.videoCacheKey=!0):(n=t.cacheKey=e.customCacheKey=e.customCacheKey||o.utils.genId(12),e.meta.vpbCacheStart=or(),i=e.vastXml||'\n<VAST version="4.0">\n    <Ad id="'+n+'">\n        <Wrapper>\n            <AdSystem version="3.6.3">JWP</AdSystem>\n            <VASTAdTagURI><![CDATA['+e.vastUrl+"]]></VASTAdTagURI>\n        </Wrapper>\n    </Ad>\n</VAST>\n",o=(a=this.bidStateMap[r])?a.name:r,o=(a=this.getTrackingPings(o,n)).impressionPing,a=a.errorPing,e.vastXml=this.appendPings(i,n,o,a))),this.updateBid(r,t))},r.getTrackingPings=function(e,t){var r=this.trackingPixelURLs;if(!r)return{};var n=r.impression,r=r.error,e=this.getQueryParam("vck",t)+this.getQueryParam("vcb",e);return{impressionPing:this.getPingWithParams(n,e),errorPing:this.getPingWithParams(r,e)}},r.getPingWithParams=function(e,t){if(e)return e+t},r.getQueryParam=function(e,t){return"&"+e+"="+t},r._bidRequestedHandler=function(e){var t=e.refererInfo,r=this.engine,n=this.utils.getURLParts(),e=n.url,n=n.domain;t&&e&&(t.referer=e),r.setConfig({publisherDomain:n}),r.offEvent(Hi,this._bidRequestedHandler)},r._bidResponseHandler=function(e){var t,r,n;e.adUnitCode===this.id&&(t={dealId:e.dealId,priceCurrency:e.currency,result:"bid",requestId:e.requestId},(r=e.meta&&e.meta.vpbCacheStart)&&(n=or()-r,t.timeForBidResponse=e.timeToRespond+n,t.timeForVPBCache=n),this.updateBid(e.bidder,t,r))},r._bidTimeoutHandler=function(e){var t=this,r=or()-this.auctionStart;e.forEach(function(e){e.adUnitCode===t.id&&t.updateBid(e.bidder,{result:"timeout",timeForBidResponse:r})})},r._noBidHandler=function(e){var t;e.adUnitCode===this.id&&(t=or()-this.auctionStart,this.updateBid(e.bidder,{result:"noBid",timeForBidResponse:t}))},r.start=function(){var n=this,i=this.engine,e=new Promise(function(t){i.onEvent(Vi,n._auctionStartHandler),i.onEvent(Hi,n._bidRequestedHandler),i.onEvent(Li,n._bidAdjustmentHandler),i.onEvent(Yi,n._bidResponseHandler),i.onEvent(Ki,n._bidTimeoutHandler),i.onEvent(Ji,n._noBidHandler);var r=n.id;i.requestBids({adUnitCodes:[r],bidsBackHandler:function(e){e=e[r]||{};t(e.bids)}})});return Promise.race([e,this._auctionAborted]).then(function(e){return i.offEvent(Vi,n._auctionStartHandler),i.offEvent(Hi,n._bidRequestedHandler),i.offEvent(Li,n._bidAdjustmentHandler),i.offEvent(Yi,n._bidResponseHandler),i.offEvent(Ki,n._bidTimeoutHandler),i.offEvent(Ji,n._noBidHandler),n.auctionEndHandler(e)}).then(function(e){return{result:e}})},r.auctionEndHandler=function(e){void 0===e&&(e=[]);var r=or()-this.auctionStart,t=this.engine,n=this.id,i=this.settings,o=i.floorPriceCents,a=i.mediationLayerAdServer,s=nr(a);this.updateBids(e,{result:"bid"}),this.updateStateForAllBids(function(e){var t=e.result,e=e.cacheKey,e={result:"error",code:!t&&e?599:void 0,timeForBidResponse:r};return s&&(e.winner=!1),e});var d,i=t.getHighestCpmBids(n)[0];if(s&&i&&100*i.cpm>=o){this.updateBid(i.bidder,{winner:!0},!0);o=i.meta&&i.meta.hasOwnProperty("vastUrl");return{adm:i.vastXml,tag:(o&&i.meta?i.meta:i).vastUrl}}return!i||"dfp"!==a&&"jwpdfp"!==a?null:(this.updateBids(e,function(e){return{custParams:e.adserverTargeting}}),{tag:t.adServers.dfp.buildVideoUrl({adUnit:(e=t.adUnits,d=n,e.filter(function(e){return e.code===d})[0]),url:this.params.tag}),custParams:t.getAdserverTargetingForAdUnitCode(n)})},r.appendPings=function(e,t,r,n){if(!r||!n)return e;var i=this.player.utils.parseXML(e);if(!i)return e;for(var o=i.querySelectorAll("InLine,Wrapper"),a=0;a<o.length;a+=1)o[a].appendChild(Qt(i,"Impression",r,{id:t})),o[a].appendChild(Qt(i,"Error",n));return(e=i).outerHTML||(new XMLSerializer).serializeToString(e)},r.updateBid=function(e,t,r,n){void 0===r&&(r=!1);n="function"==typeof(t=void 0===t?{}:t)?t(n):t;n.result&&void 0===n.code&&(n.code=$t[n.result]);t=this.bidStateMap[e];t?Object(w.default)(t,r?n:Object(w.default)({},n,t)):this.bidStateMap[e]=Object(w.default)({name:e,bidder:e,external:!0},n)},r.updateStateForAllBids=function(t){var r=this,n=this.bidStateMap;Object.keys(n).forEach(function(e){r.updateBid(e,t,!1,n[e])})},r.updateBids=function(e,t,r){var n=this;e.forEach(function(e){return n.updateBid(e.bidder,t,r,e)})},r.stop=function(){this._abortAuction()},r.timeout=function(){},Qi),$i=function(r,n){var e=(n=void 0===n?{}:n).settings||{},t=e.buckets,i=e.bidTimeout,e=e.sendAllBids,t=Array.isArray(t)&&t.length?t:[{increment:.01}],t={bidderTimeout:i=void 0===i?3e3:Math.max(i,2e3),cache:{url:"https://vpb-cache.jwplayer.com/cache"},debug:!1,priceGranularity:{buckets:t.map(function(e){return Object(w.default)({increment:.01,max:1/0},e)})},consentManagement:{gdpr:{allowAuctionWithoutConsent:!0,cmpApi:"iab",timeout:1e3}},userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},syncDelay:1e3}};void 0!==e&&(t.enableSendAllBids=e),It.setConfig(t),It.processQueue();var o={};return{createNewBid:function(e,t){t=new Xi(r,It,n,e,t);return o[t.id]=t},getBid:function(e){return o[e]},getEngine:function(){return It},version:"3.6.3"}};function Qi(e,t,r,n,i){var o,a,s,d,c=this;this.id=n.id||e.utils.genId(12),this.player=e,this.engine=t,this.settings=(o=r.settings||{},a=(s=Object(w.default)({},o)).floorPriceCurrency,e=s.mediationLayerAdServer,o=s.floorPriceCents,qt[e]||(s.mediationLayerAdServer=e="jwp"),"jwpspotx"===e?o=1:"jwp"!==e&&"jwpdfp"!==e||(o=+o||0),s.floorPriceCents=o,a?a=a.toUpperCase():void 0!==o&&(a="USD"),s.floorPriceCurrency=a,s),this.bidderConfigs=(a=this.settings,s=r.bidders||[],r=a.floorPriceCents,nr(d=a.mediationLayerAdServer)&&isNaN(parseFloat(r))?[]:s.filter(function(e){e=e.name,e=Mt[e.toLowerCase()];return-1!==qt[d].indexOf(e)}).map(function(e){var t=Mt[e.name.toLowerCase()];return Object(w.default)(e,e.custom_params,{name:t})})),this.params=n,this.utils=i,this.bidStateMap=this.bidderConfigs.reduce(function(e,t){return e[t.name]=Object(w.default)({},t),e},{}),this.auctionStart=null,this.hasWinner="jwp"===this.settings.mediationLayerAdServer,this.trackingPixelUrls=null,this._auctionStartHandler=this._auctionStartHandler.bind(this),this._bidAdjustmentHandler=this._bidAdjustmentHandler.bind(this),this._bidRequestedHandler=this._bidRequestedHandler.bind(this),this._bidResponseHandler=this._bidResponseHandler.bind(this),this._bidTimeoutHandler=this._bidTimeoutHandler.bind(this),this._noBidHandler=this._noBidHandler.bind(this),this._auctionAborted=new Promise(function(e){c._abortAuction=e}).then(function(){return c.updateStateForAllBids({result:"abort"}),t.getBidResponsesForAdUnitCode(c.id).bids})}(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)("bidding","8.1",$i)}]);

(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1021:function(n,e,t){"use strict";var r=t(219),k=t.n(r),o=t(758),x=t.n(o),a=t(759),N=t.n(a),r=t(534),C=t.n(r),o=t(329),i=t.n(o),a=t(30),c=t.n(a),r=t(277),s=t.n(r),o=t(797),O=t.n(o),a=t(798),j=t.n(a),r=t(54),_=t.n(r),o=t(774),E=t.n(o),I=t(5),T=t.n(I),a=t(2),r=t.n(a),o=t(1023).a,a=I.createContext(new o),P=(a.Provider,a.Consumer,a),S=t(773),B=t(754),o=t(25),M=t.n(o),a=t(753),l=t.n(a),o=t(4),a=t.n(o),o=t(323),t=t(784);function u(){var n=l()(["\n    margin-left: ","px;\n    height: 100%;\n"]);return n}function p(){var n=l()(["\n    display: flex;\n    margin-left: auto;\n"]);return n}function f(){var n=l()(["\n    display: block;\n    text-transform: uppercase;\n    margin-bottom: ","px;\n    "," {\n        font-size: ","px;\n    }\n"]);return n}function d(){var n=l()(["\n    font-size: ","px;\n\n    "," {\n        font-size: ","px;\n    }\n    & a {\n        text-decoration: none;\n        &:hover {\n            text-decoration: underline;\n        }\n    }\n"]);return n}function g(){var n=l()(["\n    ul {\n        list-style: square;\n        margin: 0;\n        padding-left: 20px;\n    }\n\n    li:not(:last-child) {\n        margin-bottom: ","px;\n    }\n"]);return n}function b(){var n=l()(["\n    margin-left: ","px;\n    margin-right: ","px;\n\n    "," {\n        margin-left: auto;\n        margin-right: auto;\n        max-width: ",";\n    }\n    "," {\n        max-width: ",";\n    }\n    "," {\n        max-width: ",";\n    }\n"]);return n}function m(){var n=l()(["\n    background: ",";\n    color: ",";\n    width: 100%;\n    padding: ","px 0;\n    font-weight: ",";\n    line-height: ",";\n    -webkit-font-smoothing: antialiased;\n\n    a {\n        color: inherit;\n    }\n"]);return n}var z=a()(o.k).withConfig({displayName:"indexes__BreakingNewsContainer",componentId:"sc-1vgro1b-0"})(m(),o.p.colors.cnnRed,o.p.colors.gray1,o.p.space.m,o.p.fontWeights.bold,o.p.lineHeights[0]),A=a()(o.e).withConfig({displayName:"indexes__FlexContainer",componentId:"sc-1vgro1b-1"})(b(),o.p.space.m,o.p.space.m,o.p.mediaQueries.tablet,o.p.maxWidths.tablet,o.p.mediaQueries.desktop,o.p.maxWidths.desktop,o.p.mediaQueries.desktopL,o.p.maxWidths.desktopL),R=a()(o.a).withConfig({displayName:"indexes__Content",componentId:"sc-1vgro1b-2"})(g(),o.p.space.xs),L=a()(o.k.span).withConfig({displayName:"indexes__ContentSpan",componentId:"sc-1vgro1b-3"})(d(),o.p.fontSizes.headline["5xs"],o.p.mediaQueries.tablet,o.p.fontSizes.headline["4xs"]),Q=a()(o.m).withConfig({displayName:"indexes__BannerTitle",componentId:"sc-1vgro1b-4"})(f(),o.p.space.xs,o.p.mediaQueries.desktop,o.p.fontSizes.headline["5xs"]),W=a()(o.a).withConfig({displayName:"indexes__ToggleContainer",componentId:"sc-1vgro1b-5"})(p()),q=a()(t.a).withConfig({displayName:"indexes__IconButton",componentId:"sc-1vgro1b-6"})(u(),o.p.space.m);function H(e,n){var t,r=c()(e);return i.a&&(t=i()(e),n&&(t=t.filter(function(n){return C()(e,n).enumerable})),r.push.apply(r,t)),r}var J=0,t=function(n){function r(n){return m&&m===n}var o=n.analyticsAttributes,e=n.content,a=n.enableAnalytics,t=n.fallbackTitle,i=n.id,c=n.onClose,s=n.onOpen,l=n.pollInterval,u=n.title,p=n.url,f=function(e){var t=Object(I.useContext)(P);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),r=Object(I.useState)(n),n=r[0],o=r[1],a=Object(I.useRef)(n);return Object(I.useEffect)(function(){function n(){var n=t.getAll();!function(n,e,t){if(!n)return 1;for(var r=0,o=n;r<o.length;r++){var a=o[r];if(e[a]!==t[a])return 1}}(e,n,a.current)||o(n),a.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}},[t]),[n,Object(I.useMemo)(function(){return t.set.bind(t)},[t]),Object(I.useMemo)(function(){return t.remove.bind(t)},[t])]}(["closedBreakingNews","seenBreakingNews"]),n=E()(f,2),f=n[0],d=n[1],n=Object(I.useState)({}),n=E()(n,2),g=n[0],b=n[1],m=f.closedBreakingNews,w=f.seenBreakingNews,h=i||g.id,f=Object(I.useState)(r(h)),i=E()(f,2),f=i[0],y=i[1],v=!!p;Object(I.useEffect)(function(){var n,e,t;return v&&(t=j()(O.a.mark(function n(){var e,t;return O.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.get(p).then(function(n){return n.data}).catch(function(n){console.error("parsing failed",n)});case 2:(e=n.sent)&&!(t=r(e.id))&&(0===J||e.id!==w&&0<J)&&(b(e),y(t),d("seenBreakingNews",e.id)),J++;case 5:case"end":return n.stop()}},n)})),n=function(){return t.apply(this,arguments)},e=setInterval(n,l),n()),a&&Object(S.a)("breaking-news-container",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach(function(n){_()(e,n,t[n])}):N.a?x()(e,N()(t)):H(Object(t)).forEach(function(n){k()(e,n,C()(t,n))})}return e}({},o,{trackingPrefix:"breaking-news"})),function(){clearInterval(e),J=0}},[]);i=v&&g.content||!v&&""!==e,i=!f&&i;return i&&s(g),i?T.a.createElement(z,{id:"breaking-news-container","data-zjs-campaign":"bnb-link"},T.a.createElement(A,null,T.a.createElement(R,null,T.a.createElement(Q,null,g.title||u||t),T.a.createElement(L,{dangerouslySetInnerHTML:{__html:g.content||e}})),T.a.createElement(W,null,T.a.createElement(q,{onClick:function(){y(!0),c(g),d("closedBreakingNews",h),a&&(window.CNN=window.CNN||{},window.CNN.contentModel=window.CNN.contentModel||{},window.CNN.contentModel.analytics=window.CNN.contentModel.analytics||{},window.CNN.contentModel.analytics.pageTop=window.CNN.contentModel.analytics.pageTop||{},Object(S.d)({type:"breaking-news",data:{headline:u,item:"breaking news|dismiss|".concat(h)}}))},tabIndex:"-1","data-zjs":"click","data-zjs-campaign":"bnb-close"},T.a.createElement(B.a,{icon:"close",tabIndex:"0",size:24,fill:"currentColor"}))))):null},o=function(n,e){var t=n.url,n=s()(n,["url"]);return void 0===t&&void 0===n[e]?new Error("".concat(e," is required when a polling url isn't provided.")):null};t.propTypes={analyticsAttributes:r.a.shape({sectionName:r.a.string,pageType:r.a.string,capMediaType:r.a.string}),content:o,enableAnalytics:r.a.bool,fallbackTitle:r.a.string,id:o,onClose:r.a.func,onOpen:r.a.func,pollInterval:r.a.number,title:o,url:r.a.string},t.defaultProps={analyticsAttributes:{capMediaType:"no-value-set",sectionName:"",pageType:""},content:void 0,enableAnalytics:!1,fallbackTitle:"Breaking News",id:void 0,onClose:function(){},onOpen:function(){},pollInterval:12e4,title:"",url:""},e.a=t},659:function(n,e,t){"use strict";t.r(e),t.d(e,"default",function(){return g});var r=t(5),i=t.n(r),e=t(2),e=t.n(e),c=t(1021),s=t(773);function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function l(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function u(n,e){return(u=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function p(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,e=a(t);return n=r?(n=a(this).constructor,Reflect.construct(e,arguments,n)):e.apply(this,arguments),e=this,!(n=n)||"object"!==o(n)&&"function"!=typeof n?f(e):n}}function f(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function a(n){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var g=function(){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&u(n,e)}(a,r.Component);var o=p(a);function a(){var e;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return d(f(e=o.call.apply(o,[this].concat(t))),"handleOpen",function(){var n;document.body&&document.body.classList.add("breaking-news-react--showing"),CNN.Analytics&&CNN.Analytics.usingOmniture&&(n="homepage"===(n=e.props.sectionName)||"intl_homepage"===n?"homepage":null,Object(s.a)("breaking-news-wrapper",e.props,n))}),d(f(e),"handleClose",function(n){var e=n.title,n=n.id;document.body.classList.remove("breaking-news-react--showing"),Object(s.d)({type:"breaking-news",data:{headline:e,item:"breaking news|dismiss|".concat(n)}})}),e}return l(a.prototype,[{key:"render",value:function(){var n=this.props,e=n.url,n=n.ttl;return i.a.createElement("div",{id:"breaking-news-wrapper",style:{position:"relative",zIndex:5}},i.a.createElement(c.a,{url:e,pollInterval:n,onClose:this.handleClose,onOpen:this.handleOpen}))}}]),a}();d(g,"propTypes",{pageType:e.a.string,sectionName:e.a.string,trackingPrefix:e.a.string,ttl:e.a.number,url:e.a.string}),d(g,"defaultProps",{pageType:"",sectionName:"",trackingPrefix:"breaking news",ttl:12e4,url:"//data.cnn.com/jsonp/breaking_news/domestic.json"})}}]);

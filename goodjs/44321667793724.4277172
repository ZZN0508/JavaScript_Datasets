(this.$WP=this.$WP||[]).push(["BLrxBS",(e,t)=>{"use strict";var u,s,r,i,n,o,l,h=(e,t)=>({top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom),right:Math.min(e.right,t.right),left:Math.max(e.left,t.left)}),p=({top:e,bottom:t,left:s,right:r})=>0<t-e&&0<r-s,c=e=>e.parentNode&&e.getBoundingClientRect()||{top:0,bottom:0,left:0,right:0},a=(e,t)=>({top:e.top-t,left:e.left-t,right:e.right+t,bottom:e.bottom+t}),b=(s,e=0,t=0)=>{var r=u.useRef(null),i=u.useRef(null),n=u.useRef(null),o=u.useRef(null),l=e=>{var t=n.current,e=e.reduce((e,t)=>e||t.isIntersecting,!1);s&&(null===t||!t&&e||t&&!e)&&s(e),n.current=e},h=u.useRef(l);u.useEffect(()=>{h.current=l});var p=u.useCallback(e=>{h.current(e)},[]),c=!!s;return u.useEffect(()=>(c&&"undefined"!=typeof IntersectionObserver&&(o.current=new IntersectionObserver(p,{rootMargin:"number"==typeof e?e+"px":e,threshold:t})),()=>{o.current&&o.current.disconnect(),i.current=null}),[c,p,e,t]),u.useEffect(()=>{var e;null===o.current||!r.current||null!==i.current&&r.current===i.current||((e=o.current).observe(r.current),i.current&&e.unobserve(i.current),i.current=r.current)}),r},d=(t,e,s)=>{var r=u.useRef(!1),i=r.current?null:e=>{!r.current&&e&&(t&&t(),r.current=!0)};return b(i,e,s)};return[()=>{(i=class extends u.Component{constructor(e){super(e),this.checkVisibility=()=>{var e=((s,t)=>{if(!s)return!1;var e=h(a({top:0,left:0,right:window.innerWidth||0,bottom:window.innerHeight||0},t),c(s));return!!p(e)&&p((()=>{for(var e=[],t=s.parentNode;null!==t;)t instanceof Element&&e.push(t),t=t.parentNode;return e})().map(e=>a(c(e),t)).reduce((e,t)=>h(e,t),e))})(this.elmt,this.props.threshold);e!==this.state.visible&&(this.setState({visible:e}),this.props.onChange&&this.props.onChange(e))},this.elmt=void 0,this.state={visible:!1},this.elmt=null}componentDidMount(){this.checkVisibility()}render(){return u.createElement(u.Fragment,null,this.props.disableListeners?null:u.createElement(r,{callback:this.checkVisibility,throttle:0}),u.createElement(s,{callback:this.checkVisibility,disableListeners:this.props.disableListeners},t=>this.props.children(e=>{t(e),this.elmt=e,this.props.onRef&&this.props.onRef(e)},this.state.visible,this.elmt)))}}).defaultProps={threshold:0,onChange:null,disableListeners:!1},e("IsVisibleOnce",n=class extends u.Component{constructor(...e){super(...e),this.state={seen:!1}}render(){var t=this.props.makeWrapperHaveDimensions?{minWidth:"1px",minHeight:"1px"}:{};return u.createElement(i,{threshold:this.props.threshold,disableListeners:this.state.seen,onChange:e=>{e&&(this.setState({seen:!0}),this.props.onIsVisibleCallback())}},e=>u.createElement("div",{key:"isVisibleOnce",style:t,ref:e},this.props.children))}}),n.defaultProps={threshold:0,makeWrapperHaveDimensions:!1},e("HasBeenVisible",o=class extends u.Component{constructor(e){super(e),this.elmt=void 0,this.elmt=this.props.node||u.createRef(),this.state={observer:"undefined"==typeof IntersectionObserver?null:new IntersectionObserver(e=>{e.reduce((e,t)=>e||t.isIntersecting,!1)&&!this.state.visible&&(this.state.observer&&this.state.observer.disconnect(),this.setState({visible:!0,observer:null}),this.props.onVisible&&this.props.onVisible())},{rootMargin:this.props.rootMargin+"px",threshold:this.props.threshold}),visible:!1}}componentDidMount(){this.elmt.current&&this.state.observer&&this.state.observer.observe(this.elmt.current)}componentDidUpdate(){this.state.observer&&this.props.node&&this.props.node.current&&this.state.observer.observe(this.props.node.current)}componentWillUnmount(){this.state.observer&&this.state.observer.disconnect()}render(){return"function"!=typeof this.props.children?this.props.children:this.props.children(this.elmt,this.state.visible)}}),o.defaultProps={threshold:0,rootMargin:0,node:null,onVisible:null},e("VisibilityObserver",l=class extends u.PureComponent{constructor(e){super(e),this.elmt=void 0,this.observer=void 0,this.elmt=this.props.node||u.createRef(),this.state={visible:!1},this.observer="undefined"==typeof IntersectionObserver?null:new IntersectionObserver(e=>{e=e.reduce((e,t)=>e||t.isIntersecting,!1);e&&!this.state.visible?(this.setState({visible:!0}),this.props.onVisible&&this.props.onVisible()):!e&&this.state.visible&&(this.setState({visible:!1}),this.props.onInvisible&&this.props.onInvisible())},{rootMargin:this.props.rootMargin,threshold:this.props.threshold})}componentDidMount(){this.watch()}componentDidUpdate(){this.watch()}componentWillUnmount(){this.observer&&this.observer.disconnect()}watch(){this.observer&&(this.observer.disconnect(),this.observer&&(this.elmt.current?this.observer.observe(this.elmt.current):this.props.node&&this.props.node.current&&this.observer.observe(this.props.node.current)))}render(){return"function"!=typeof this.props.children?this.props.children:this.props.children(this.elmt,this.state.visible)}}),l.defaultProps={threshold:0,rootMargin:"0px",node:null,onVisible:null,onInvisible:null},e("default",i),e({HasBeenVisible:o,IsVisibleOnce:n,VisibilityObserver:l,useOnVisible:d,useVisibleEffect:b})},[e=>u=e,e=>s=e.default,e=>r=e.default]]},["cDcdfi","38xMQJ","w4JHTr"]]);

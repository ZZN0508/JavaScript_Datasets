YUI.add("pjax-content",function(r,e){function t(){}t.prototype={getContent:function(e){var t={},n=this.get("contentSelector"),o=r.Node.create(e||""),e=this.get("titleSelector");return t.node=n&&o?o.all(n).toFrag():o,e&&o&&((e=o.one(e))&&(t.title=e.get("text"))),t},loadContent:function(e,t,n){var o=e.url;this._request&&this._request.abort(),this.get("addPjaxParam")&&(o=o.replace(/([^#]*)(#.*)?$/,function(e,t,n){return(t+=(-1<t.indexOf("?")?"&":"?")+"pjax=1")+(n||"")})),this._request=r.io(o,{arguments:{route:{req:e,res:t,next:n},url:o},context:this,headers:{"X-PJAX":"true"},timeout:this.get("timeout"),on:{complete:this._onPjaxIOComplete,end:this._onPjaxIOEnd}})},_onPjaxIOComplete:function(e,t,n){var o=this.getContent(t.responseText),r=n.route,a=r.req,i=r.res;a.ioURL=n.url,i.content=o,i.ioResponse=t,r.next()},_onPjaxIOEnd:function(){this._request=null}},t.ATTRS={addPjaxParam:{value:!0},contentSelector:{value:null},titleSelector:{value:"title"},timeout:{value:3e4}},r.PjaxContent=t},"3.12.0",{requires:["io-base","node-base","router"]});

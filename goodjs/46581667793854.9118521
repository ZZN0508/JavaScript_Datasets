(()=>{var n={56:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>f});var o=n(1);function i(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e=o.default.lib("utilities/bindify").bindify,n=o.default.lib("player/lib/elem"),s=n.elemBind,a=n.elemUnbind,c=n.elemWidth,u=n.elemHeight,l=n.elemOffset,p=(0,o.default.lib("utilities/detect").cachedDetect)(),n=function(){function e(t){var o=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),r(this,"onTouchStart",function(t){o.rootWidth=c(o.rootElem),o.rootHeight=u(o.rootElem),o.rootOffset=l(o.rootElem),o.resetTouchContext(),t.touches[0]&&(o.xDown=t.touches[0].clientX,o.yDown=t.touches[0].clientY),o.updatePinch(t),2==t.touches.length&&o.touchesAreInsideRootElem()&&t.preventDefault(),o.startedAt=Date.now(),s(document,"touchmove",o.onTouchMoveDocument,{passive:!1}),s(document,"touchend",o.onTouchEndDocument),s(o.rootElem,"touchmove",o.onTouchMove,{passive:!1}),s(o.rootElem,"touchend",o.onTouchEnd);var e=o.getTouchContext(t);o.trigger("touchstart",t,e),o.maybeTriggerMoreSpecificEvent(t,e)}),r(this,"onTouchMove",function(t){t._handledByTouchMove=!0;var e=t.touches[0].clientX,n=t.touches[0].clientY;o.xDiff=o.xDown-e,o.yDiff=o.yDown-n,o.updatePinch(t),o.isPinch||(25<Math.sqrt(o.xDiff*o.xDiff+o.yDiff*o.yDiff)||300<Date.now()-o.startedAt)&&(o.isSwipe=!0);n=o.getTouchContext(t);o.trigger("touchmove",t,n),o.maybeTriggerMoreSpecificEvent(t,n)}),r(this,"onTouchMoveDocument",function(t){t._handledByTouchMove||o.onTouchMove(t)}),r(this,"onTouchEnd",function(t){t._handledByTouchEnd=!0;var e=o.getTouchContext(t);o.trigger("touchend",t,e),o.maybeTriggerMoreSpecificEvent(t,e),setTimeout(function(){o.resetTouchContext(),o.unbindTouchEndAndTouchMove()},0)}),r(this,"onTouchEndDocument",function(t){t._handledByTouchEnd||o.onTouchEnd(t)}),this.rootElem=t,this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.initialPinchDistance=null,this.touch1=this.touch2=null,this.pinchDistance=0,this.pinchScale=0,s(t,"touchstart",this.onTouchStart,!!p.passiveSupported&&{passive:!1})}return t=e,(n=[{key:"updatePinch",value:function(t){var e=this.rootOffset;return 2===t.touches.length?(this.touch1={left:t.touches[0].pageX-e.left,top:t.touches[0].pageY-e.top},this.touch2={left:t.touches[1].pageX-e.left,top:t.touches[1].pageY-e.top},this.pinchDistance=Math.sqrt(Math.pow(this.touch1.left-this.touch2.left,2),Math.pow(this.touch1.top-this.touch2.top,2)),null==this.initialPinchDistance&&(this.initialPinchDistance=this.pinchDistance),this.pinchScale=this.pinchDistance/this.initialPinchDistance,this.pinchDelta=this.pinchDistance-this.initialPinchDistance,this.isPinch=!0,this.pinchScale):0}},{key:"getTouchContext",value:function(t){var e=this.rootOffset,n=Date.now()-this.startedAt,t=Object(t.touches[0]);return{xOffset:t.pageX-e.left,yOffset:t.pageY-e.top,xDelta:this.xDiff,yDelta:this.yDiff,absXDelta:Math.abs(this.xDiff),absYDelta:Math.abs(this.yDiff),delta:Math.sqrt(this.xDiff*this.xDiff+this.yDiff*this.yDiff),startedAt:this.startedAt,isSwipe:!this.isPinch&&this.isSwipe,isTap:n<1e3&&!this.isPinch&&!this.isSwipe,isLongPress:1e3<=n&&!this.isPinch&&!this.isSwipe,isPinch:this.isPinch,timeDelta:n,pinchScale:this.pinchScale,pinchDistance:this.pinchDistance}}},{key:"touchIsInsideRootElem",value:function(t){return 0<=t.left&&t.left<this.rootWidth&&0<=t.top&&t.top<this.rootHeight}},{key:"touchesAreInsideRootElem",value:function(){return this.touchIsInsideRootElem(this.touch1)&&this.touchIsInsideRootElem(this.touch2)}},{key:"resetTouchContext",value:function(){this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.pinchDelta=0,this.pinchDistance=0,this.initialPinchDistance=null,this.touch1=this.touch2=null}},{key:"maybeTriggerMoreSpecificEvent",value:function(t,e){e.isLongPress?this.trigger("longpress",t,e):e.isTap?this.trigger("tap",t,e):e.isSwipe?this.trigger("swipe",t,e):e.isPinch&&this.trigger("pinch",t,e)}},{key:"destroy",value:function(){a(this.rootElem,"touchstart",this.onTouchStart),this.unbindTouchEndAndTouchMove(),this.rootElem=null}},{key:"unbindTouchEndAndTouchMove",value:function(){a(document,"touchmove",this.onTouchMoveDocument),a(document,"touchend",this.onTouchEndDocument),a(this.rootElem,"touchmove",this.onTouchMove),a(this.rootElem,"touchend",this.onTouchEnd)}}])&&i(t.prototype,n),o&&i(t,o),e;var t,n,o}();e(n.prototype),o.default.define("vulcanV2Player/TouchEvents.js",n);const f=n},221:(t,e,n)=>{"use strict";n.r(e),n.d(e,{captionsPromises:()=>p,fetchCaptions:()=>o,shouldShowNativeCaptions:()=>i,getCaptionsForLanguage:()=>f});var e=n(1),r=e.default.lib("player/lib/jsonp").jsonp,s=e.default.lib("utilities/url").proto,n=e.default.lib("player/lib/hosts"),a=n.eV1Protocol,c=n.mediaDataHost,u=n.cdnFastWistiaNetHost,l=e.default.lib("promiscuous"),p={},o=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=n.hashedId(),i=t.language?{language:t.language}:{};return p[o]||(p[o]=new l(function(e){var t=n._opts.useMediaDataHostLogic?"".concat(a(),"//").concat(c(n._opts)):"".concat(s(),"//").concat(u());r("".concat(t,"/embed/captions/").concat(o,".json"),i,function(t){e(t)})}))},i=function(t){return t._inNativeMode()||t._impl.behaviors.fullscreen&&t._impl.behaviors.fullscreen.inNativeFullscreen()},f=function(t,e){for(var n,o=0;o<e.length;o++)if((n=e[o]).language===t)return n;return null}},141:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});n(6);function i(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}const o=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.video=t,this.unbinds=[],this.reactMounts={}}return t=e,(n=[{key:"mount",value:function(t){this.rootElem=t}}])&&i(t.prototype,n),o&&i(t,o),e;var t,n,o}()},55:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});var e=n(1),o=n(6),s=n(56);function a(){return(a=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function c(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?p(e):t}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=(0,e.default.lib("utilities/detect").cachedDetect)();const r=function(){function i(){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return f(p(o=r.call.apply(r,[this].concat(e))),"onSwipe",function(t,e){var n=o.props.onSwipe;n&&n(t,e)}),f(p(o),"onPinch",function(t,e){var n=o.props.onPinch;n&&n(t,e)}),f(p(o),"onLongPress",function(t,e){var n=o.props.onLongPress;n&&n(t,e)}),f(p(o),"onCustomTouchMove",function(t,e){var n=o.props.onCustomTouchMove;n&&n(t,e)}),o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,o.Component);var t,e,n,r=l(i);return t=i,(e=[{key:"render",value:function(){var t=this.props.tagName||"div";return(0,o.h)(t,a({},this.props,{ref:this.props.elemRef}),this.props.children)}},{key:"componentDidMount",value:function(){this._savedBase=this.base,this.setupBindings()}},{key:"componentDidUpdate",value:function(){this.base!==this._savedBase&&(this._savedBase=this.base,this.destroyBindings(),this.setupBindings())}},{key:"componentWillUnmount",value:function(){this.destroyBindings()}},{key:"setupBindings",value:function(){var t;this.unbinds=[],h.touchScreen&&((t=this.touchEvents=new s.default(this.base)).on("swipe",this.onSwipe),t.on("pinch",this.onPinch),t.on("longpress",this.onLongPress),t.on("touchmove",this.onCustomTouchMove))}},{key:"destroyBindings",value:function(){this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null),this.unbinds&&(this.unbinds.map(function(t){return t()}),this.unbinds=null)}}])&&c(t.prototype,e),n&&c(t,n),i}()},225:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(6);function s(){return(s=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function a(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):t}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const o=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.apply(this,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(t,r.Component);var e,n,o,i=u(t);return e=t,(n=[{key:"render",value:function(){var t=this.props.tagName||"div";return(0,r.h)(t,s({},this.props,{ref:this.props.elemRef,style:this.visuallyHiddenStyles()}),this.props.children)}},{key:"visuallyHiddenStyles",value:function(){return{clip:"rect(1px, 1px, 1px, 1px)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"}}}])&&a(e.prototype,n),o&&a(e,o),t}()},5:(t,e,n)=>{"use strict";n.r(e),n.d(e,{standardSvgAttrs:()=>i});n=n(1);function r(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function o(o){for(var i,t=1;t<arguments.length;t++)i=null==arguments[t]?{}:arguments[t],t%2?r(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))});return o}var i=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return{x:"0px",y:"0px",viewBox:"0 0 ".concat(t," ").concat(e),"enable-background":"new 0 0 ".concat(t," ").concat(e),style:o({fill:"#ffffff",height:"100%",left:0,strokeWidth:0,top:0,width:"100%"},n),focusable:"false"}};n.default.define("vulcanV2Player/shared/ui_components/svg_boilerplate.js",{standardSvgAttrs:i})},223:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(6),s=n(5);function a(){return(a=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function c(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):t}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const o=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.apply(this,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(t,r.Component);var e,n,o,i=l(t);return e=t,(n=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t={fill:"none",stroke:"#ffffff","stroke-linecap":"round","stroke-miterlimit":10};return(0,r.h)("svg",(0,s.standardSvgAttrs)(40,34),(0,r.h)("g",null,(0,r.h)("path",a({},t,{"stroke-width":"1.8",d:"M18.4,18.7c-0.5,0.7-1.1,1.2-2.1,1.2c-1.3,0-2.4-1.1-2.4-2.8c0-1.6,1-2.8,2.4-2.8c1,0,1.6,0.5,2,1.2"}))),(0,r.h)("g",null,(0,r.h)("path",a({},t,{"stroke-width":"1.8",d:"M25.8,18.7c-0.5,0.7-1.1,1.2-2.1,1.2c-1.3,0-2.4-1.1-2.4-2.8c0-1.6,1-2.8,2.4-2.8c1,0,1.6,0.5,2,1.2"}))),(0,r.h)("g",null,(0,r.h)("path",a({},t,{"stroke-width":"2",d:"M31,21.9c0,1.6-1.4,3-3,3H12c-1.6,0-3-1.4-3-3V12c0-1.6,1.4-3,3-3h16c1.6,0,3,1.4,3,3V21.9z"}))))}}])&&c(e.prototype,n),o&&c(e,o),t}()},222:(t,e,n)=>{"use strict";n.r(e);var o=n(1),i=n(141),a=n(223),c=n(224),u=n(60),l=n(6),p=n(221);function f(){return(f=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function h(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=r(n);return t=o?(t=r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?y(e):t}}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=o.default.lib("promiscuous"),b=(0,o.default.lib("utilities/detect").cachedDetect)(),n=o.default.lib("player/translations"),_=n.getTranslation;(0,n.defineTranslations)("en-US",{CAPTIONS_HIDE_MENU:"Hide captions menu",CAPTIONS_OFF:"Off",CAPTIONS_SHOW_MENU:"Show captions menu"});var m="_off_",n=function(){function r(t){var e,n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=s.call(this,t),n=y(e),i=function(){e.video.whenControlMounted("transcript").then(function(t){t._isVisible?t.close():t.open()})},(o="toggleTranscript")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,e.video=t,e.options=t.plugin.captions.options,e.selectedLanguage=m,e.unbinds=[],e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(r,i.default);var t,e,n,s=v(r);return t=r,(e=[{key:"destroy",value:function(){(0,u.destroyControl)(this)}},{key:"mountButton",value:function(t){var e=this;this.buttonRoot=t,this.renderButton(),this.options.onByDefault&&this.fetchCaptions().then(function(){var t;e._destroyed||(t=e.getPreferredCaptions())&&e.setSelectedLanguage(t.language)})}},{key:"mountDialog",value:function(t){var e=this;this.dialogRoot=t;var n=g.all([o.default.asyncRequire("interFontFace.js"),this.fetchCaptions()]).then(function(){e.renderDialog()});return this.loading(new g(function(t){n.then(t)})),n}},{key:"renderButton",value:function(){this.video._inNativeMode()||!this.buttonRoot||(this.updateButtonLabel(),(0,l.render)((0,l.h)(a.default,null),this.buttonRoot),this.reactMounts.button=[this.buttonRoot])}},{key:"controlDialogOpened",value:function(){this.updateButtonLabel()}},{key:"controlDialogClosed",value:function(){this.updateButtonLabel()}},{key:"updateButtonLabel",value:function(){this.dialog&&(this.dialog.isOpen()?this.setButtonLabel(this.translate("HIDE_MENU")):this.setButtonLabel(this.translate("SHOW_MENU")))}},{key:"renderDialog",value:function(){this.captionsResp&&this.dialogRoot&&((0,l.render)((0,l.h)(c.default,f({},this.props,{items:this.menuItems(),scale:this.props.scale,isPlaybarEnabled:this.video.isControlEnabled("playbar"),isTranscriptEnabled:this.isTranscriptEnabled(),toggleTranscript:this.toggleTranscript})),this.dialogRoot),this.reactMounts.menu=[this.dialogRoot])}},{key:"onControlPropsUpdated",value:function(t){this.dialog&&this.dialog.isOpen()&&this.renderDialog(),t.playerLanguage&&this.props.playerLanguage.code!==t.playerLanguage.code&&this.updateButtonLabel()}},{key:"translate",value:function(t){return _(this.props.playerLanguage.code,"CAPTIONS_".concat(t))}},{key:"isTranscriptEnabled",value:function(){return!1!==this.options.transcript}},{key:"menuItems",value:function(){var e=this;return[{text:this.translate("OFF"),isSelected:this.selectedLanguage===m,onClick:function(){e.isTranscriptEnabled()&&e.video.whenControlMounted("transcript").then(function(t){return t.close()}),e.turnOff()}}].concat(this.captionsResp.captions.map(function(t){return{text:t.native_name,isSelected:e.selectedLanguage===t.language,onClick:function(){e.setSelectedLanguage(t.language)}}}))}},{key:"getCaptions",value:function(){return this.captionsResp&&this.captionsResp.captions?this.captionsResp.captions:[]}},{key:"getPreferredCaptions",value:function(){for(var t=this.captionsResp.preferred_languages,e=0;e<t.length;e++){var n=t[e],n=(0,p.getCaptionsForLanguage)(n,this.captionsResp.captions);if(n)return n}return null}},{key:"turnOff",value:function(){this.setSelectedLanguage(m)}},{key:"setSelectedLanguage",value:function(t){var e=this.selectedLanguage;this.selectedLanguage=t,this.renderDialog(),this.video.controls.captions.setLanguage(t),this.logSelectionInStats(),e!==t&&this.video.trigger("captionschange",{visible:t!==m,language:t})}},{key:"logSelectionInStats",value:function(){var t;this.captionsResp&&((t=(0,p.getCaptionsForLanguage)(this.selectedLanguage,this.captionsResp.captions))&&"_preview_"!==t.language?(this._lastStatsData={caption_key:t.key,language:t.language,time:this.video.time(),enabled:t.language!==m},this.video._tracker.logCaptionSelection(this._lastStatsData)):this._lastStatsData&&(this._lastStatsData.enabled=!1,this._lastStatsData.time=this.video.time(),this.video._tracker.logCaptionSelection(this._lastStatsData)))}},{key:"fetchCaptions",value:function(){var e=this;return this._destroyed?new g(function(){}):(0,p.fetchCaptions)(this.video,this.options).then(function(t){return e.captionsResp=t})}},{key:"matchMenuToSelectedTextTrack",value:function(){if(!b.edge||this.video._inNativeMode()){var t=this.video.getMediaElement(),e=this.selectedLanguage;this.selectedLanguage=m;for(var n,o=0;o<t.textTracks.length;o++)"showing"===(n=t.textTracks[o]).mode&&(this.selectedLanguage=n.language);this.renderDialog(),this.video.controls.captions.setLanguage(this.selectedLanguage,{track:!1}),e!==this.selectedLanguage&&this.logSelectionInStats()}}}])&&h(t.prototype,e),n&&h(t,n),r}();n.handle="captionsButton",n.type="control-bar-right",n.sortValue=50,n.shouldMount=function(t){return t.plugin.captions},o.default.defineControl(n)},224:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>C});var o=n(5),e=n(1),s=n(55),a=n(225),c=n(6);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){return(l=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function f(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=y(n);return t=o?(t=y(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?v(e):t}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=e.default.lib("player/translations"),g=n.getTranslation,n=n.defineTranslations,b=e.default.lib("player/lib/interFontFamily").interFontFamily,_=e.default.lib("utilities/isMouseDown").isMouseDown,m=e.default.lib("utilities/seqid").seqId;n("en-US",{CAPTIONS_READ_TRANSCRIPT:"Search Video"});var n=function(){function t(){return p(this,t),e.apply(this,arguments)}h(t,c.Component);var e=d(t);return f(t,[{key:"render",value:function(){var n=this,t=this.props,e=t.isTranscriptEnabled,t=t.isPlaybarEnabled;return(0,c.h)("div",{class:"w-captions-menu w-css-reset w-css-reset-tree"},e&&t&&(0,c.h)(w,this.props),(0,c.h)("fieldset",{style:{border:0,padding:0,margin:0}},(0,c.h)(a.default,{tagName:"legend"},"Captions Menu"),this.props.items.map(function(t,e){return(0,c.h)(S,l({},n.props,{item:t,index:e}))})))}}]),t}(),w=function(){function i(){var t;p(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return u(v(t=r.call.apply(r,[this].concat(n))),"onFocus",function(){_()||t.setState({isKeyboardFocused:!0})}),u(v(t),"onBlur",function(){t.state.isKeyboardFocused&&t.setState({isKeyboardFocused:!1})}),u(v(t),"onMouseEnter",function(){t.setState({isHovering:!0})}),u(v(t),"onMouseLeave",function(){t.setState({isHovering:!1})}),t}h(i,c.Component);var r=d(i);return f(i,[{key:"render",value:function(){return(0,c.h)(s.default,{class:"w-css-reset-button-important w-vulcan-v2-button",tagName:"button",onClick:this.props.toggleTranscript,onfocusin:this.onFocus,onfocusout:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.menuItemStyle()},(0,c.h)("svg",l({},(0,o.standardSvgAttrs)(40,34),{class:"w-checkmark",style:this.transcriptStyle()}),(0,c.h)("g",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10"},(0,c.h)("line",{x1:"17",x2:"27",y1:"12",y2:"12"}),(0,c.h)("line",{x1:"17",x2:"30",y1:"17",y2:"17"}),(0,c.h)("line",{x1:"17",x2:"25",y1:"22",y2:"22"}))),this.translate("READ_TRANSCRIPT"))}},{key:"transcriptStyle",value:function(){return{height:O(this),verticalAlign:"middle",visibility:"visible",width:k(this)}}},{key:"menuItemStyle",value:function(){return{background:this.state.isHovering?"rgba(0,0,0,.3)":"",boxShadow:this.state.isKeyboardFocused?"0 0 0 2px #fff inset":"none",cursor:"pointer",display:"block",fontFamily:b,fontSize:x(this),lineHeight:O(this),marginRight:"".concat(10*this.props.scale,"px"),textAlign:"left",width:"100%"}}},{key:"translate",value:function(t){return g(this.props.playerLanguage.code,"CAPTIONS_".concat(t))}}]),i}(),S=function(){function i(){var t;p(this,i);for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return u(v(t=r.call.apply(r,[this].concat(n))),"onBlur",function(){t.state.isKeyboardFocused&&t.setState({isKeyboardFocused:!1})}),u(v(t),"onClick",function(){t.props.item.onClick()}),u(v(t),"onFocus",function(){_()||t.setState({isKeyboardFocused:!0})}),u(v(t),"onMouseEnter",function(){t.setState({isHovering:!0})}),u(v(t),"onMouseLeave",function(){t.setState({isHovering:!1})}),t}h(i,c.Component);var r=d(i);return f(i,[{key:"render",value:function(){var t=this.props.item,e=m("w-captions-".concat(t.text,"-"));return(0,c.h)("div",{style:this.menuItemStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},(0,c.h)(a.default,{checked:!!t.isSelected,id:e,name:"Captions Menu",onFocus:this.onFocus,onClick:this.onClick,onBlur:this.onBlur,tagName:"input",type:"radio",value:t.text}),(0,c.h)("label",{class:"w-css-reset",for:e},(0,c.h)("svg",l({},(0,o.standardSvgAttrs)(40,34),{class:"w-checkmark",style:this.checkStyle()}),(0,c.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"17,17 20,20 25,14 "})),t.text))}},{key:"checkStyle",value:function(){return{height:O(this),verticalAlign:"middle",visibility:this.props.item.isSelected?"visible":"hidden",width:k(this)}}},{key:"menuItemStyle",value:function(){return{background:this.state.isHovering?"rgba(0,0,0,.3)":"",boxShadow:this.state.isKeyboardFocused?"0 0 0 2px #fff inset":"none",display:"block",fontFamily:b,fontSize:x(this),lineHeight:O(this),marginRight:"".concat(10*this.props.scale,"px"),textAlign:"left",width:"100%"}}}]),i}(),k=function(t){return"".concat(40*t.props.scale,"px")},O=function(t){return"".concat(34*t.props.scale,"px")},x=function(t){return 14*t.props.scale};const C=n},227:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var e=n(1),r=n(6);function o(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function s(e){for(var n,t=1;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?o(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function a(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?l(e):t}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=e.default.lib("player/translations").getTranslation;const h=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),p(l(e=i.call(this,t)),"onMouseEnter",function(){e.setState({isHovering:!0})}),p(l(e),"onMouseLeave",function(){e.setState({isHovering:!1})}),p(l(e),"onFocus",function(){e.setState({isKeyboardFocused:!0})}),p(l(e),"onBlur",function(){e.setState({isKeyboardFocused:!1})}),p(l(e),"onMouseDown",function(t){t.preventDefault()}),e.state={isHovering:!1,isKeyboardFocused:!1},e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,r.Component);var t,e,o,i=u(n);return t=n,(e=[{key:"render",value:function(){var t,n=this,e=this.props.isTranscriptEnabled&&this.props.isPlaybarEnabled?"button":"div";return this.state.isKeyboardFocused?t=this.renderAccessibleHelper():this.props.text&&(t=this.props.text.map(function(t,e){return n.renderLine(t,e)})),(0,r.h)("div",{class:"w-captions w-css-reset w-css-reset-tree w-vulcan-v2-button",style:this.rootContainerStyle()},(0,r.h)(e,{class:"w-vulcan-v2-button",style:this.groupStyle(),onMouseEnter:this.onMouseEnter,onBlur:this.onBlur,onClick:this.props.onClick,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},t))}},{key:"renderAccessibleHelper",value:function(){return(0,r.h)("p",{class:"w-captions-line",style:this.lineStyle()},(0,r.h)("div",{style:{display:"inline-block",transition:"all 200ms ease"}},(0,r.h)("span",{style:this.spanStyle()},this.translate("READ_TRANSCRIPT"))))}},{key:"renderLine",value:function(t,e){var n={isFirst:0===e,isLast:e===this.props.text.length-1},e=this.props.rtl?"rtl":"ltr";return(0,r.h)("p",{class:"w-captions-line",style:this.lineStyle()},(0,r.h)("div",{style:{display:"inline-block",transition:"all 200ms ease",verticalAlign:"bottom"},class:"w-css-reset"},n.isFirst&&!this.props.isInFullscreen&&(0,r.h)("div",{style:{position:"relative",padding:"3px"}},(0,r.h)("div",{style:this.discoveryStyles()},(0,r.h)("svg",{class:"arrow-icon",viewBox:"0 0 100 100",height:"".concat(10*this.props.scale,"px"),width:"".concat(10*this.props.scale,"px")},(0,r.h)("g",{stroke:"#ccc",fill:"none","stroke-linecap":"round"},(0,r.h)("polyline",{"stroke-width":"15",points:"25,15 85,15 85,75"}),(0,r.h)("line",{"stroke-width":"15",x1:"25",x2:"85",y1:"75",y2:"15"}))))),n.isFirst&&!this.props.isInFullscreen&&(0,r.h)("div",{style:{position:"relative"}},(0,r.h)("div",{style:this.topAnimateStyle()})),(0,r.h)("span",{dir:e,style:this.spanStyle(n),dangerouslySetInnerHTML:{__html:t}}),n.isLast&&!this.props.isInFullscreen&&(0,r.h)("div",{style:{position:"relative"}},(0,r.h)("div",{style:this.bottomAnimateStyle()}))))}},{key:"canOpenICAndIsHoveringPlayer",value:function(){var t=this.props,e=t.isTranscriptEnabled,n=t.isPlaybarEnabled,o=t.isHoveringOnPlayer,t=t.isInFullscreen;return e&&n&&o&&!t}},{key:"discoveryStyles",value:function(){var t=this.canOpenICAndIsHoveringPlayer();return{position:"absolute",padding:"3px",fontSize:"15px",right:"1%",top:"100%",opacity:t?"1":"0",transition:"opacity 200ms ease",transitionDelay:t?"150ms":"0ms"}}},{key:"animateHelper",value:function(){var t=this.canOpenICAndIsHoveringPlayer();return{position:"absolute",height:t?"3px":"0",width:"100%",transition:"all 200ms ease",transitionProperty:"height",transitionDelay:t?"150ms":"none",background:this.state.isHovering?"rgba(0,0,0,1)":"rgba(0,0,0,.55)"}}},{key:"topAnimateStyle",value:function(){return s(s({},this.animateHelper()),{},{bottom:0})}},{key:"bottomAnimateStyle",value:function(){return s({},this.animateHelper())}},{key:"rootContainerStyle",value:function(){var t=this.props,e=18*t.scale,t=t.controlsAreVisible?0:-t.controlBarHeight;return{bottom:"".concat(t+e,"px"),left:0,pointerEvents:"none",position:"absolute",textAlign:"center",width:"100%",transition:"all 100ms ease"}}},{key:"groupStyle",value:function(){return{pointerEvents:this.props.isTranscriptEnabled?"auto":"none",display:"inline-block",position:"relative",margin:"auto",maxWidth:"80%",outline:"none",border:this.state.isKeyboardFocused?"2px #fff solid":"none",cursor:"pointer"}}},{key:"lineStyle",value:function(){return{lineHeight:"1em",margin:0,padding:0}}},{key:"spanStyle",value:function(){var t=this.props.scale,e=this.canOpenICAndIsHoveringPlayer();return{background:this.state.isHovering?"rgba(0,0,0, 1)":"rgba(0,0,0,.55)",color:"#fff",display:"block",fontFamily:"Helvetica, Arial, Sans-Serif",fontSize:"".concat(18*t,"px"),lineHeight:"1em",overflow:"hidden",padding:e?".25em 1em":".25em .6em",textOverflow:"ellipsis",webkitFontSmoothing:"antialiased",transition:"all 100ms ease",transitionDelay:e?"150ms":"none",transitionProperty:"padding",width:"100%"}}},{key:"translate",value:function(t){return f(this.props.playerLanguage,"CAPTIONS_".concat(t))}}])&&a(t.prototype,e),o&&a(t,o),n}()},226:(t,e,n)=>{"use strict";n.r(e);var e=n(1),i=n(141),s=n(227),a=n(60),c=n(6),u=n(221);function l(){return(l=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function p(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=r(n);return t=o?(t=r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?d(e):t}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=e.default.lib("player/lib/fit-control").controlMultiplierBasedOnVideo,g=e.default.lib("player/lib/hosts").cdnFastWistiaNetHost,b=e.default.lib("utilities/url").proto,_=e.default.lib("utilities/seqid").seqId,m=e.default.lib("promiscuous"),n=e.default.lib("player/lib/elem"),w=n.elemBind,S=n.elemRemove,k=n.addInlineCss,O=(0,e.default.lib("utilities/detect").cachedDetect)(),n=function(){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),v(d(i=r.call(this,t)),"onClick",function(){i.video.whenControlMounted("transcript").then(function(t){return t.open()})}),v(d(i),"setActiveLineForTime",function(t){if(i.captions&&"_off_"!==i.captions.language)for(var e,n=i.captions.hash.lines,o=0;o<n.length;o++)if((e=n[o]).start<=t&&t<e.end)return i.setActiveLine(e.text,i.captions.right_to_left),void i.renderCaptions();i.setNoActiveLine(),i.renderCaptions()}),i.options=t.plugin.captions.options,i._wistiaCaptionsId=_("wistia_","_captions"),i._userScale=i.options.subtitlesScale||1,i.unbinds=[t.on("timechange",i.setActiveLineForTime),t.on("enterfullscreen",function(){i.hideOrShowNativeCaptions()}),t.on("cancelfullscreen",function(){i.hideOrShowNativeCaptions()}),t.on("beforereplace",function(){i.removeTextTracks()})],i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i.default);var t,n,o,r=h(e);return t=e,(n=[{key:"destroy",value:function(){S(this.clippedCueStyle),this.clippedCueStyle=null,this.removeTextTracks(),(0,a.destroyControl)(this)}},{key:"mount",value:function(t){var e=this;this.rootElem=t,this.fetchCaptions().then(function(){e._destroyed||(e.setupTextTracks(),e.setActiveLineForTime(e.video.time()),e.renderCaptions())})}},{key:"fetchCaptions",value:function(){var e=this;return this._destroyed?new m(function(){}):(0,u.fetchCaptions)(this.video,this.options).then(function(t){return e.captionsResp=t})}},{key:"setupTextTracks",value:function(){var o=this;if(this._setupTextTracksPromise)return this._setupTextTracksPromise;if((O.edge||O.trident)&&!this.video._inNativeMode())return this._setupTextTracksPromise=new m(function(){});var i=this.video;return this._setupTextTracksPromise=new m(function(e){o.fetchCaptions();function t(){o.fetchCaptions().then(function(t){o.removeTextTracks(),i.whenVideoElementInDom().then(function(n){o._destroyed||(t.captions.map(function(t){var e;"_preview_"!==t.language&&((e=document.createElement("track")).kind=t.kind||"captions",e.label=t.native_name,e.srclang=t.language,e.src="".concat(b(),"//").concat(g(),"/embed/captions/").concat(i.hashedId(),".vtt?language=").concat(t.language),e._wistiaCaptionsId=o._wistiaCaptionsId,n.appendChild(e))}),o.hideOrShowNativeCaptions(),o.unbinds.push(w(n.textTracks,"change",function(){(0,u.shouldShowNativeCaptions)(i)&&i.controls.captionsButton&&i.controls.captionsButton.matchMenuToSelectedTextTrack()})),e())})})}"beforeplay"===i.state()&&(O.safari||O.ios.version)?i.bind("play",function(){return t(),i.unbind}):t()})}},{key:"removeTextTracks",value:function(){var t=this.video,i=this._wistiaCaptionsId;t.whenVideoElementInDom().then(function(t){for(var e,n=Array.prototype.slice.call(t.childNodes),o=0;o<n.length;o++)e=n[o],/^track$/i.test(e.tagName)&&e._wistiaCaptionsId===i&&S(e)})}},{key:"renderCaptions",value:function(){this.video._inNativeMode()||(this.activeLine&&!this._captionsHidden?(0,c.render)((0,c.h)(s.default,l({},this.props,this.activeLine,{scale:this.scale(),onClick:this.onClick,isInFullscreen:this.video.inFullscreen(),isPlaybarEnabled:this.video.isControlEnabled("playbar"),isTranscriptEnabled:this.isTranscriptEnabled()})),this.rootElem):(0,c.render)((0,c.h)("nothing",null),this.rootElem),this.reactMounts.captions=[this.rootElem])}},{key:"isTranscriptEnabled",value:function(){return!1!==this.options.transcript}},{key:"onControlPropsUpdated",value:function(t){t.videoWidth===this.props.videoWidth&&t.controlsAreVisible===this.props.controlsAreVisible&&t.controlBarHeight===this.props.controlBarHeight||this.renderCaptions()}},{key:"setActiveLine",value:function(t){this.activeLine={text:t,rtl:!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1]}}},{key:"setNoActiveLine",value:function(){this.activeLine=null}},{key:"setLanguage",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(0,u.getCaptionsForLanguage)(t,this.captionsResp.captions);this.captions=t,this.setActiveLineForTime(this.video.time()),this.renderCaptions(),!1!==e.track&&this.showCorrespondingTrack(t)}},{key:"showCorrespondingTrack",value:function(o){var i=this;(O.edge||O.trident)&&!this.video._inNativeMode()||this.setupTextTracks().then(function(){for(var t,e=i.video.getMediaElement(),n=0;n<e.textTracks.length;n++)"captions"===(t=e.textTracks[n]).kind&&(o&&t.language===o.language?t.mode="showing":t.mode="disabled")})}},{key:"hideOrShowNativeCaptions",value:function(){(0,u.shouldShowNativeCaptions)(this.video)?this.allowShowingNativeCaptions():this.disallowShowingNativeCaptions()}},{key:"allowShowingNativeCaptions",value:function(){this.clippedCueStyle&&(S(this.clippedCueStyle),this.clippedCueStyle=null),this.hideCustomCaptions()}},{key:"disallowShowingNativeCaptions",value:function(){return this.clippedCueStyle||(this.clippedCueStyle=k(document.head,"\n      #".concat(this.video.chrome.id," ::cue {\n        visibility: hidden;\n      }\n      #").concat(this.video.chrome.id," ::-webkit-media-text-track-container {\n        visibility: hidden;\n      }\n      #").concat(this.video.chrome.id," ::-webkit-media-text-track-background {\n        visibility: hidden;\n      }\n      #").concat(this.video.chrome.id," ::-webkit-media-text-track-display {\n        visibility: hidden;\n      }\n    ")),void this.showCustomCaptions())}},{key:"hideCustomCaptions",value:function(){this._captionsHidden=!0,this.renderCaptions()}},{key:"showCustomCaptions",value:function(){this._captionsHidden=!1,this.renderCaptions()}},{key:"setUserScale",value:function(t){this._userScale=t,this.renderCaptions()}},{key:"getUserScale",value:function(){return this._userScale}},{key:"scale",value:function(){return this._userScale*Math.min(2,Math.max(.6,y(this.video,[640,850])))}}])&&p(t.prototype,n),o&&p(t,o),e}();n.handle="captions",n.type="above-control-bar",n.shouldMount=function(t){return t.plugin.captions},e.default.defineControl(n)},229:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var e=n(1),s=n(230),a=n(6);function r(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?l(e):t}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=e.default.lib("player/lib/interFontFamily").interFontFamily,h=e.default.lib("utilities/isMouseDown").isMouseDown;const o=function(){function e(t){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(l(c=i.call(this,t)),"setRefs",function(t){c.sectionRefs=t}),p(l(c),"resetFirstHitIndex",function(){c.setState({activeSearchHitIndex:void 0})}),p(l(c),"setCloseFocus",function(){h()||c.setState({closeFocus:!0})}),p(l(c),"setCloseBlur",function(){c.setState({closeFocus:!1})}),p(l(c),"updateSearchValue",function(t){c.setState({searchKey:t.target.value})}),p(l(c),"inputKeyDown",function(t){var e,n=c.state,o=n.hitCounter,i=n.activeSearchHitIndex,r=n.hitAndMissIndices,s=n.searchKey,i=40===t.which?0:i+1,i=r.indexOf(!0,i),r=-1===(r=r.indexOf(!0))?0:r,a=o;switch(-1===i?(e=r,a=s?1:0):(e=i,a++),t.which){case 40:c.setState({activeSearchHitIndex:e,hitCounter:s?1:0}),setTimeout(function(){requestAnimationFrame(function(){c.sectionRefs[e].focus()})},20);break;case 13:c.setState({activeSearchHitIndex:e,hitCounter:a});break;default:return}}),p(l(c),"inputOnFocus",function(){c.setState({inputHasFocus:!0})}),p(l(c),"inputOnBlur",function(){c.setState({inputHasFocus:!1})}),p(l(c),"focusInput",function(t){c.inputElem.focus(),c.setState({activeSearchHitIndex:t})}),p(l(c),"updateHitCounter",function(t){var e=c.state.hitCounter;c.state.searchKey&&c.setState({hitCounter:t?e+1:e-1})}),p(l(c),"onMouseMove",function(){!1===c.state.recentlyMoused&&c.setState({recentlyMoused:!0}),c.isMousingTimeout&&clearTimeout(c.isMousingTimeout),c.isMousingTimeout=setTimeout(function(){c.setState({recentlyMoused:!1})},7e3)}),p(l(c),"onKeyUp",function(t){27!==t.which||t.escapeHandled||(t.escapeHandled=!0,c.props.closeTranscript())}),c.state={captions:c.formatCaptions(),closeFocus:!1,hitAndMissIndices:[],hitCounter:0,inputHasFocus:!1,isContainerHover:null,recentlyMoused:!1,searchKey:"",totalHits:0,turnstile:{}},c.isMousingTimeout=null,c.searchTimeout=null,c.setTurnstileOptions(),c}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,a.Component);var t,n,o,i=u(e);return t=e,(n=[{key:"componentDidMount",value:function(){this.setState({hitAndMissIndices:this.initialHitAndMissIndices()}),this.props.metricsVideoCount("interactiveCaptions-open"),this.inputElem.focus()}},{key:"componentWillUnmount",value:function(){this.props.metricsVideoCount("interactiveCaptions-close")}},{key:"componentDidUpdate",value:function(t,e){this.state.searchKey!==e.searchKey&&this.debounceSearch(),this.props.selectedLanguage!==t.selectedLanguage&&(this.setState({captions:this.formatCaptions()}),this.setState({hitAndMissIndices:this.initialHitAndMissIndices()})),(this.props.turnstileClosed!==t.turnstileClosed||this.props.turnstileEmail!==t.turnstileEmail||void 0!==this.props.turnstilePlugin&&void 0===t.turnstilePlugin)&&this.setTurnstileOptions()}},{key:"initialHitAndMissIndices",value:function(){var t=this.state.captions.length;return Array.apply(null,Array(t)).map(function(){return!1})}},{key:"setTurnstileOptions",value:function(){var t=this.props.turnstilePlugin;t?this.setState({turnstile:{enabled:!0,time:t.options.time,hasClosed:this.props.turnstileClosed||!!this.props.turnstileEmail||!1}}):this.setState({turnstile:{enabled:!1,time:void 0,hasClosed:void 0}})}},{key:"debounceSearch",value:function(){var t=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){t.doSearch()},350)}},{key:"doSearch",value:function(){var t=this.state,e=t.searchKey,t=t.captions,n=new RegExp(e,"ig"),o=void 0,i=0;t&&e?(e=t.map(function(t,e){t=n.test(t.text);return void 0===o&&t&&(o=e),t&&i++,t}),t=o?1:0,this.setState({hitAndMissIndices:e,activeSearchHitIndex:o,hitCounter:t,totalHits:i}),this.props.metricsVideoCount("interactiveCaptions-search")):this.setState({hitAndMissIndices:this.initialHitAndMissIndices(),totalHits:i,hitCounter:0,activeSearchHitIndex:o})}},{key:"getCaptionsForLanguage",value:function(){var t=this.props,e=t.srtCaptions,n=t.selectedLanguage,t=t.preferredLanguage,o="_off_"===n?t:n;return e.filter(function(t){return t.language===o})[0]}},{key:"formatCaptions",value:function(){var t=this.getCaptionsForLanguage().hash.lines.map(function(e){return e.text.map(function(t){return{start:e.start,end:e.end,text:t}})});return[].concat.apply([],t)}},{key:"render",value:function(){var e=this,t=this.props.scale,n=this.state,o=n.captions,i=n.hitCounter,r=n.totalHits,n=this.getCaptionsForLanguage().right_to_left?"rtl":"ltr";return(0,a.h)("div",{class:"w-css-reset w-css-reset-tree",onKeyUp:this.onKeyUp,onMouseMove:this.onMouseMove,style:this.rootStyles(),tabIndex:0},(0,a.h)("div",{dir:n,style:this.searchAndCloseContainerStyles()},(0,a.h)("div",{style:{position:"absolute",width:"50%",left:0,right:0,top:"50%",transform:"translateY(-50%)",margin:"auto"}},(0,a.h)("svg",{width:"".concat(20*t),height:"".concat(20*t),viewBox:"0 0 100 100",style:this.searchIconStyles()},(0,a.h)("g",{stroke:this.state.inputHasFocus||this.state.searchKey?"#505050":"white",fill:"none","stroke-width":"10"},(0,a.h)("circle",{cx:"40",cy:"40",r:"30"}),(0,a.h)("line",{x1:"90",y1:"90",x2:"60",y2:"60"}))),(0,a.h)("style",{dangerouslySetInnerHTML:{__html:".w-interactive-captions--search-input::placeholder {\n                color: ".concat(this.state.inputHasFocus||this.state.searchKey?"#505050":"#FFF",";\n                opacity: 1;\n              }\n              ")}}),(0,a.h)("input",{"aria-label":"Search Captions",class:"w-interactive-captions--search-input",onBlur:this.inputOnBlur,onInput:this.updateSearchValue,onFocus:this.inputOnFocus,onKeyDown:this.inputKeyDown,onKeyUp:this.inputKeyUp,placeholder:"Search",style:this.searchInputStyles(),type:"search",value:this.state.searchKey,ref:function(t){return e.inputElem=t}}),this.state.searchKey&&(0,a.h)("div",{style:this.hitCountStyle()},i," / ",r)),(0,a.h)("div",{style:{position:"absolute",right:"5%",top:"50%",transform:"translateY(-50%)",display:"inline-block"}},(0,a.h)("button",{style:this.closeButtonStyles(),class:"w-vulcan-v2-button w-css-reset",onClick:this.props.closeTranscript,onFocus:this.setCloseFocus,onBlur:this.setCloseBlur,tabIndex:0,"aria-label":"Close Interactive Captions"},(0,a.h)("svg",{viewBox:"0 0 100 100",width:"".concat(15*t),height:"".concat(15*t)},(0,a.h)("g",{stroke:"white","stroke-width":"10"},(0,a.h)("line",{x1:"0",y1:"100",x2:"100",y2:"0"}),(0,a.h)("line",{x1:"100",y1:"100",x2:"0",y2:"0"})))))),(0,a.h)(s.default,{activeSearchHitIndex:this.state.activeSearchHitIndex,allRefs:this.sectionRefs,captions:o,closeTranscript:this.props.closeTranscript,controlsAreVisible:this.props.controlsAreVisible,controlBarHeight:this.calculateSearchHeight(),focusInput:this.focusInput,hitAndMissIndices:this.state.hitAndMissIndices,recentlyMoused:this.state.recentlyMoused,scale:this.props.scale,setRefs:this.setRefs,searchKey:this.state.searchKey,seekTranscript:this.props.seekTranscript,turnstile:this.state.turnstile,updateHitCounter:this.updateHitCounter,videoDuration:this.props.videoDuration,videoHeight:this.props.videoHeight,videoTime:this.props.videoTime,dir:n}))}},{key:"rootStyles",value:function(){return{backgroundColor:"rgba(0,0,0,.65)",clip:"rect(0,0,0,0)",color:"#fff",height:"calc(100% + ".concat(this.props.controlBarHeight,"px)")}}},{key:"calculateSearchHeight",value:function(){return this.props.controlBarHeight||34*this.props.scale}},{key:"searchAndCloseContainerStyles",value:function(){return{position:"relative",height:"".concat(2*this.calculateSearchHeight(),"px"),minHeight:"".concat(2*this.calculateSearchHeight(),"px")}}},{key:"searchIconStyles",value:function(){var t=this.props.scale,e=this.state;e.inputHasFocus,e.searchKey;return{position:"absolute",display:"inline-block",top:"50%",transform:"translateY(-50%)",left:"".concat(36*t,"px"),transition:"all 300ms ease"}}},{key:"closeButtonStyles",value:function(){var t=this.props.scale;return{boxShadow:this.state.closeFocus?"0 0 0 2px #fff inset":"none",borderWidth:"1px",borderRadius:"0%",cursor:"pointer",height:"".concat(30*t,"px"),width:"".concat(30*t,"px"),display:"flex",alignItems:"center",justifyContent:"center"}}},{key:"hitCountStyle",value:function(){var t=this.props.scale,e={position:"absolute",transform:"translateY(-50%)",color:"#888",top:"50%",fontSize:"".concat(10*t,"px"),fontWeight:600,fontFamily:f};return this.getCaptionsForLanguage().right_to_left?e.left="".concat(48*t+45,"px"):e.right="".concat(48*t,"px"),e}},{key:"searchInputStyles",value:function(){var t=this.props.scale,e=this.state,n=e.inputHasFocus,o=e.searchKey,i=!(!n&&!o),e=i?"white":"transparent",n="calc(100% - ".concat(40*t,"px)"),o=8*t;return{"-webkit-appearance":"none",padding:"".concat(o,"px ").concat(o,"px ").concat(o,"px ").concat(45*t,"px"),fontSize:"".concat(17*t,"px"),display:"block",fontFamily:f,transition:"all 300ms ease",color:i?"#505050":"white",backgroundColor:e,border:"1px solid white",width:n,margin:"auto",outline:"none",boxSizing:"border-box"}}}])&&r(t.prototype,n),o&&r(t,o),e}()},228:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var r=n(1),s=n(141),a=n(229),c=n(221),u=n(60),l=n(6);function p(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?d(e):t}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=r.default.lib("promiscuous"),n=r.default.lib("player/lib/elem"),g=n.elemAppend,b=n.elemFromObject,_=n.elemStyle,m=n.elemAnimate,n=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),v(d(e=i.call(this,t)),"close",function(){e._isVisible=!1,e.animateOut().then(function(){e.video.controls.captions.showCustomCaptions(),(0,l.render)((0,l.h)("nothing",null),e.rootElem),e.reactMounts=[e.rootElem]})}),v(d(e),"seekTranscript",function(t){e.video.time(t)}),v(d(e),"metricsVideoCount",function(t){r.default.Metrics.videoCount(e.video._impl,"player/".concat(t))}),e.video=t,e.options=t.plugin.captions.options,e._isVisible=!1,e._turnstileClosed=!1,e.unbinds=[],e.unbinds.push(e.video.on("captionschange",function(t){e.setSelectedLanguage(t)}),e.video.on("timechange",function(){!0===e._isVisible&&e.renderTranscript()}),e.video.on("turnstileclose",function(){e._turnstileClosed=!0,e._isVisible&&e.renderTranscript()})),e}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,s.default);var t,e,o,i=h(n);return t=n,(e=[{key:"destroy",value:function(){(0,u.destroyControl)(this)}},{key:"mount",value:function(e){var n=this;this.fetchCaptions().then(function(){var t=b({style:{position:"absolute"},class:"w-css-reset"});g(e,t),n.rootElem=t})}},{key:"open",value:function(){"beforeplay"===this.video.state()&&this.video.setControlEnabled("bigPlayButton",!1),this.video.controls.captions.hideCustomCaptions(),this._isVisible=!0,this.renderTranscript(),this.animateIn()}},{key:"onControlPropsUpdated",value:function(t){var e=this;this._isVisible&&(this.props.controlsAreVisible!==t.controlsAreVisible&&this.fetchCaptions().then(function(){e.renderTranscript()}),this.props.videoWidth!==t.videoWidth&&this.fetchCaptions().then(function(){e.renderTranscript()}),this.props.videoHeight!==t.videoHeight&&this.fetchCaptions().then(function(){e.renderTranscript()}))}},{key:"fetchCaptions",value:function(){var e=this;return(0,c.fetchCaptions)(this.video,this.options).then(function(t){return e.captionsResp=t})}},{key:"setSelectedLanguage",value:function(t){this.selectedLanguage=t.language,this.rootElem&&this._isVisible&&("_off_"===t.language?this.close():this.renderTranscript())}},{key:"renderTranscript",value:function(){var e=this;return this.video.controls.captions.hideCustomCaptions(),new y(function(t){r.default.asyncRequire(["interFontFace.js"]).then(function(){(0,l.render)((0,l.h)(a.default,{closeTranscript:e.close,controlBarHeight:e.props.controlBarHeight,controlsAreVisible:e.props.controlsAreVisible,preferredLanguage:e.captionsResp.preferred_languages[0],playerLanguage:e.video.playerLanguage(),scale:e.props.scale,seekTranscript:e.seekTranscript,selectedLanguage:e.selectedLanguage||e.captionsResp.preferred_languages[0],srtCaptions:e.captionsResp.captions,metricsVideoCount:e.metricsVideoCount,turnstileClosed:e._turnstileClosed,turnstileEmail:e.video.email(),turnstilePlugin:e.video.plugin["requireEmail-v1"],videoDuration:e.video.duration(),videoHeight:e.video.videoHeight(),videoTime:e.video.time(),videoWidth:e.video.videoWidth()}),e.rootElem),e.reactMounts=[e.rootElem],t()})})}},{key:"animateIn",value:function(){var e=this;return new y(function(t){_(e.rootElem,{opacity:0,height:"100%",width:"100%"}),setTimeout(function(){m(e.rootElem,{opacity:1},{time:200,callback:t})},0)})}},{key:"animateOut",value:function(){var e=this;return new y(function(t){_(e.rootElem,{opacity:1}),setTimeout(function(){m(e.rootElem,{opacity:0},{time:200,callback:function(){_(e.rootElem,{height:0,width:0}),t()}})},0)})}}])&&p(t.prototype,e),o&&p(t,o),n}();n.handle="transcript",n.type="above-control-bar",n.sortValue=600,n.shouldMount=function(t){var e=t.embedOptions().plugin&&t.embedOptions().plugin["captions-v1"]&&!1===t.embedOptions().plugin["captions-v1"].transcript;return!e&&(t.plugin.captions&&t.plugin.captions.options&&!e)},r.default.defineControl(n);const o=n},231:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var e=n(1),c=n(6);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=r(n);return t=o?(t=r(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?l(e):t}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=e.default.lib("player/lib/interFontFamily").interFontFamily,h=e.default.lib("utilities/isMouseDown").isMouseDown;const d=function(){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(l(i=r.call(this,t)),"clickLine",function(t){var e=i.props,n=e.seek,e=e.line;t.preventDefault(),n(e.start+.001)}),p(l(i),"onMouseEnter",function(){!0!==i.state.isHovered&&i.setState({isHovered:!0})}),p(l(i),"onMouseLeave",function(){!1!==i.state.isHovered&&i.setState({isHovered:!1})}),p(l(i),"onFocus",function(){h()||(i.props.setFocusIndex(i.props.index),i.setState({isKeyboardFocused:!0}))}),p(l(i),"unsetKeyboardFocus",function(){i.setState({isKeyboardFocused:!1})}),p(l(i),"onKeyDown",function(t){var e=s(i.props.focusNeighbors,2),n=e[0],o=e[1];switch(t.which){case 40:t.preventDefault(),t.wistiaPlayerHandled=!0,-1!==o&&(i.unsetKeyboardFocus(),i.props.focusNextOrPrevious(o),i.props.updateHitCounter(!0));break;case 38:t.preventDefault(),t.wistiaPlayerHandled=!0,i.unsetKeyboardFocus(),-1===n?i.props.focusInput(i.props.index):(i.props.focusNextOrPrevious(n),i.props.updateHitCounter(!1));break;default:return}}),p(l(i),"onKeyUp",function(t){27===t.which&&(i.props.focusInput(i.props.index),t.escapeHandled=!0)}),i.state={isHovered:!1,isKeyboardFocused:!1},i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,c.Component);var t,n,o,r=u(e);return t=e,(n=[{key:"componentDidMount",value:function(){var t;this.el&&(t=this.props.focusHelper?"focusHelper":this.props.index,this.props.setSectionRef(this.el,t))}},{key:"componentDidUpdate",value:function(){var t;this.el&&(t=this.props.focusHelper?"focusHelper":this.props.index,this.props.setSectionRef(this.el,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchKey,o=t.line,i=t.isActive,r=t.scale,s=new RegExp(n,"ig"),a=this.props.focusHelper?"div":"button",t=o.text;return""!==n&&s.test(o.text)&&(t=o.text.replace(s,function(t){return"<mark>".concat(t,"</mark>")})),(0,c.h)("div",{role:!this.props.focusHelper&&"gridcell"},(0,c.h)(a,{"aria-describedby":this.props.focusHelper?"":this.props.containerId,onBlur:this.unsetKeyboardFocus,onClick:this.clickLine,onFocus:this.onFocus,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter,ref:function(t){return e.el=t},style:this.lineStyles(i),tabIndex:-1},!1===this.props.focusHelper&&(0,c.h)("span",{dangerouslySetInnerHTML:{__html:t},style:{backgroundColor:this.state.isHovered?"black":"transparent",boxShadow:this.state.isKeyboardFocused?"0 0 0 2px #fff inset":"none",cursor:"pointer",padding:"".concat(3.4*r,"px ").concat(8*r,"px"),textAlign:"rtl"===this.props.dir?"right":"left"}})))}},{key:"lineStyles",value:function(t){var e=this.props.scale;return{display:"inline-flex",minHeight:this.props.focusHelper?"0":"".concat(30*e,"px"),fontFamily:f,fontSize:"".concat(17*e,"px"),fontWeight:t?"700":"500",lineHeight:this.props.focusHelper?"0":"".concat(26*e,"px"),outline:"none",marginLeft:"".concat(20/3.3*e,"px")}}}])&&i(t.prototype,n),o&&i(t,o),e}()},230:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>g});var o=n(1),e=n(92),r=n.n(e),s=n(231),p=n(6);function a(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?l(e):t}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=o.default.lib("player/lib/interFontFamily").interFontFamily,d=o.default.lib("player/lib/elem").elemIsInside,v=o.default.lib("utilities/isMouseDown").isMouseDown,y=o.default.lib("utilities/seqid").seqId;const g=function(){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(l(n=i.call(this,t)),"focusNextOrPrevious",function(t){n.setState({scrollToIndex:t,focusIndex:t}),setTimeout(function(){requestAnimationFrame(function(){n.props.allRefs[t].focus()})},20)}),f(l(n),"handleScroll",function(t){n.setState({scrollTop:t.target.scrollTop})}),f(l(n),"onKeyDown",function(t){var e;38!==t.which&&40!==t.which||t.wistiaPlayerHandled||(t.preventDefault(),t.wistiaPlayerHandled=!0,t=n.props.hitAndMissIndices.indexOf(!0),n.setState({scrollToIndex:e=-1===t?0:t,focusIndex:e}),setTimeout(function(){requestAnimationFrame(function(){n.props.allRefs[e].focus()})},20))}),f(l(n),"onWheel",function(){!1===n.state.recentlyScrolled&&n.setState({recentlyScrolled:!0}),n.scrollingTimeout&&clearTimeout(n.scrollingTimeout),n.scrollingTimeout=setTimeout(function(){n.setState({recentlyScrolled:!1})},7e3)}),f(l(n),"setSectionBlur",function(){n.setState({sectionFocus:!1})}),f(l(n),"setSectionFocus",function(){v()||n.setState({sectionFocus:!0})}),f(l(n),"setFocusIndex",function(t){n.setState({focusIndex:t})}),f(l(n),"setSectionRef",function(t,e){n.savedRefs[e]=t}),f(l(n),"renderRowAtIndex",function(t){return n.renderLine(n.props.captions[t],t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}),n.state={sectionFocus:!1,availableHeight:0,scrollTop:0,scrollToIndex:void 0,prevScrollToIndex:void 0,recentlyScrolled:!1},n.savedRefs={},n.scrollingTimeout=null,n.containerId=y("w-interactive-transcript-"),n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,p.Component);var t,n,o,i=u(e);return t=e,(n=[{key:"componentDidMount",value:function(){var t=this.props.captions;if(this.props.setRefs&&this.props.setRefs(this.savedRefs),this.setState({availableHeight:this.calculateAvailableHeight()}),0<this.props.videoTime)for(var e=0;e<t.length;e++)if(this.isWithinTime(t[e])){this.setState({scrollToIndex:e});break}}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.captions;if(this.props.setRefs&&this.props.setRefs(this.savedRefs),this.props.controlsAreVisible===t.controlsAreVisible&&this.props.videoHeight===t.videoHeight||this.setState({availableHeight:this.calculateAvailableHeight()}),this.props.activeSearchHitIndex!==t.activeSearchHitIndex&&this.setState({scrollToIndex:this.props.activeSearchHitIndex,prevScrollToIndex:t.activeSearchHitIndex}),this.state.scrollToIndex!==e.scrollToIndex&&this.setState({prevScrollToIndex:this.state.scrollToIndex}),this.props.videoTime!==t.videoTime&&!1===this.props.recentlyMoused&&!1===this.state.recentlyScrolled)for(var o=0;o<n.length;o++)if(this.isWithinTime(n[o])){this.props.allRefs[o-1]&&null!==this.props.allRefs[o-1].offsetParent?this.startScrollAnimation(o):this.setState({scrollToIndex:o});break}this.props.controlsAreVisible&&!t.controlsAreVisible&&this.isAtBottomOfCaptions()&&this.scrollToBottom()}},{key:"animate",value:function(){var t=this;return!this.scollInterpolation||this.scollInterpolation.atEnd()?void cancelAnimationFrame(this.scrollingAnimation):void(this.scrollingAnimation=requestAnimationFrame(function(){t.transcriptText.scrollTop=t.scollInterpolation.value(),t.scollInterpolation.atEnd()||t.animate()}))}},{key:"calculateAvailableHeight",value:function(){var t=this.props,e=t.controlsAreVisible,n=t.controlBarHeight;return t.videoHeight-(2*n+(e?n:0))}},{key:"focusMaintainer",value:function(t,e){this.state.focusIndex&&d(document.activeElement,this.transcriptTextRoot)&&(this.state.focusIndex<t||this.state.focusIndex>=e?this.props.allRefs.focusHelper&&this.props.allRefs.focusHelper.focus({preventScroll:!0}):this.state.focusIndex>t&&this.state.focusIndex<e&&this.props.allRefs[this.state.focusIndex].focus())}},{key:"calculateNumberOfRowsToRender",value:function(){var t=this.props,e=t.captions,n=t.turnstile;if(n.enabled&&!1===n.hasClosed&&"end"!==n.time){for(var o=0,i=e.length-1,r=Math.floor((o+i)/2);e[r].start>n.time&&r-1<i;)n.time>e[r].start?o=r-1:i=r+1,r=Math.floor((o+i)/2);return e[r].start<=n.time?r+1:1}return e.length}},{key:"getNeighboringIndices",value:function(t){var e=t,n=t,o=this.props.hitAndMissIndices;if(!this.props.searchKey)return[t-1,t===o.length-1?-1:t+1];for(;0<=--e&&!o[e];);for(;++n<o.length&&!o[n];);return[e,n===o.length?-1:n]}},{key:"isAtBottomOfCaptions",value:function(){var t=this.transcriptText;return t.scrollTop+5>=t.scrollHeight-t.offsetHeight}},{key:"isWithinTime",value:function(t){var e=this.props.videoTime,n=t.start,t=t.end;return n<=e&&e<t}},{key:"scrollToBottom",value:function(){var t=this.props.captions.length-1;this.startScrollAnimation(t)}},{key:"sectionContainerStyles",value:function(){return{height:"100%",overflowY:"scroll",boxShadow:this.state.sectionFocus?"0 0 0 2px #fff inset":"none",outline:"none"}}},{key:"startScrollAnimation",value:function(t){var e=20*t*1.5*this.props.scale,t=Math.max(0,e),e=this.transcriptText.scrollTop;cancelAnimationFrame(this.scrollingAnimation),this.scollInterpolation=new(r())({seedRange:300,outputStart:e,outputEnd:t}),this.animate()}},{key:"turnstileText",value:function(){var t=this.props.scale;return{display:"block",fontWeight:"500",fontSize:"".concat(16*t,"px"),lineHeight:"".concat(30*t,"px"),fontFamily:h,textAlign:"center",textStyle:"italic"}}},{key:"renderLine",value:function(t,e,n){var o=t.start,i=t.end,o=this.isWithinTime({start:o,end:i}),i=this.getNeighboringIndices(e);return(0,p.h)("div",{key:e,style:{boxShadow:o&&!n.focusHelper?"2px 0 0 0 #fff inset":"none",boxSizing:"border-box"},dir:this.props.dir,"aria-rowindex":e+1,role:!n.focusHelper&&"row"},(0,p.h)(s.default,{containerId:this.containerId,dir:this.props.dir,line:t,focusHelper:n.focusHelper||!1,focusInput:this.props.focusInput,focusNeighbors:i,focusNextOrPrevious:this.focusNextOrPrevious,index:e,isActive:o,isHovered:!1,key:e,scale:this.props.scale,searchKey:this.props.searchKey,seek:this.props.seekTranscript,setSectionRef:this.setSectionRef,setFocusIndex:this.setFocusIndex,updateHitCounter:this.props.updateHitCounter}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.scale,o=t.turnstile,i=t.videoDuration,r=this.calculateNumberOfRowsToRender(),s=30*n,a=s*r,t="end"===o.time||i-5<=o.time,n=this.state,i=n.availableHeight,n=n.scrollTop,n=Math.floor(n/s);this.state.prevScrollToIndex!==this.state.scrollToIndex&&this.transcriptText&&void 0!==this.state.scrollToIndex&&(n=this.state.scrollToIndex,this.transcriptText.scrollTop=n*s);var c=n+Math.ceil(i/s);r<c&&(c=r);for(var u=[],l=n;l<c;)u.push(this.renderRowAtIndex(l,{})),l++;this.focusMaintainer(n,c);s={height:a,paddingTop:"".concat(n*s,"px")};return"rtl"===this.props.dir?(s.marginRight="".concat(25,"%"),s.textAlign="right"):(s.marginLeft="".concat(29,"%"),s.textAlign="left",s.width="".concat(60,"%")),(0,p.h)("div",{style:{height:"".concat(i,"px")},ref:function(t){return e.transcriptTextRoot=t}},(0,p.h)("div",{key:"focusHelper",style:{height:0}},this.renderRowAtIndex(this.state.focusIndex||0,{focusHelper:!0})),(0,p.h)("div",{"aria-label":"Use the arrow keys to move between the different caption lines. Click each line to seek the video to that line",id:this.containerId,onBlur:this.setSectionBlur,onFocus:this.setSectionFocus,onKeyDown:this.onKeyDown,onScroll:this.handleScroll,onWheel:this.onWheel,ref:function(t){return e.transcriptText=t},style:this.sectionContainerStyles(),tabIndex:0},(0,p.h)("div",{style:s,role:"grid","aria-rowcount":r},(0,p.h)("div",{role:"rowgroup"},u)),o.enabled&&!1===o.hasClosed&&!t&&(0,p.h)("span",{style:this.turnstileText()},"-- You must enter your email to access the rest of the video. --")))}}])&&a(t.prototype,n),o&&a(t,o),e}()},61:(t,e,n)=>{"use strict";n.r(e),n.d(e,{defineControl:()=>i,getControlDefinitions:()=>r});var o=n(1);null==o.default._controlDefinitions&&(o.default._controlDefinitions={});var i=function(t){null!=t.handle?null!=o.default._controlDefinitions[t.handle]||(o.default._controlDefinitions[t.handle]=t,o.default.trigger&&o.default.trigger("controldefined",t)):console.error("Please specify a handle property for control",t)},r=function(){return o.default._controlDefinitions||{}};o.default.defineControl=i},60:(t,e,n)=>{"use strict";n.r(e),n.d(e,{callUnbinds:()=>y,destroyControl:()=>g,maybeDestroyControls:()=>b,maybeInitializeControls:()=>_,mountControls:()=>m,setControlProps:()=>w,removeRootElem:()=>S,runOnControlPropsUpdated:()=>k,getSortedControlsByType:()=>O,pickControlDefinitionsWithTypes:()=>x,unmountReactMounts:()=>C,unsetObjectProperties:()=>T});function o(t){var e=t[0],t=t[1];e&&t&&(0,a.render)((0,a.h)("nothing",null),e)}var i=n(1),e=n(27),d=n.n(e),r=n(19),s=n(61),a=n(6),e=i.default.lib("utilities/detect").cachedDetect,n=i.default.lib("player/lib/timeout-utils"),c=n.doTimeout,u=n.clearTimeouts,n=i.default.lib("player/lib/elem"),l=n.elemBind,p=n.elemRemove,f=n.elemUnbind,h=i.default.lib("utilities/seqid").seqId,v=e(),y=function(t){t.unbinds instanceof Array&&(t.unbinds.map(function(t){try{"function"==typeof t&&t()}catch(t){setTimeout(function(){throw t},1)}}),t.unbinds=null)},g=function(t){t._destroyed=!0,y(t),S(t),C(t),T(t)},b=function(t){var e,n=t.controls,o=t.isControlDisabled,i=t.shouldMount,r=[];for(e in n){var s=n[e];if(o(e)||!i(s.constructor)){if(s.destroy)try{s.destroy()}catch(t){setTimeout(function(){throw t},1)}s.__destroyed=!0,delete n[s.constructor.handle],r.push(s)}}return r},_=function(t){var e,r=t.controlDefinitions,s=t.controls,a=t.isControlDisabled,c=t.initControl,u=t.onMount,l=t.shouldMount,p=t.reevaluateShouldMount,f=[],h=[];for(e in r)(function(e){var t=r[e],n=null!=s[e],o=!a(e)&&l(t);if(p(t),o&&n)return h.push(s[e]);if(!n&&o)try{var i=s[e]=c(t);i.mounted=new(d())(function(t){i.__didMount=function(){i.mounted.isResolved=!0,u(e),t()}}),f.push(i)}catch(t){setTimeout(function(){throw t},1)}})(e);return[f,h]},m=function(t,o){return d().all(t.map(function(e){var t=e.constructor.handle;e.loading||(e.loading=function(t){var n,o,i;return n=e,o=t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},new(d())(function(t){var e="".concat(n.video.uuid,".loading_indicator.").concat(h());c(e,function(){n.video.controls.loadingHourglass.show(i),v.touchScreen?l(document,"touchstart",function(){try{n.video.controls.loadingHourglass.hide()}catch(t){setTimeout(function(){throw t},0)}return t(),f}):l(document,"mousedown",function(){try{n.video.controls.loadingHourglass.hide()}catch(t){setTimeout(function(){throw t},0)}return t(),f})},300),o.then(function(){u(e),n.video.controls.loadingHourglass.hide(),t()})})});var n=o[t];return function(t,e){try{var n=t.constructor.handle,o=e();return o&&o.then&&o.catch?(o.handle=n,o.then(function(){t.__didMount()})):t.__didMount(),d().resolve(o)}catch(t){return setTimeout(function(){throw t},0),d().resolve()}}(e,function(){return e.mount(n)})}))},w=function(t,e){for(var n in t){n=t[n];n.__prevProps=n.props||{},n.props=(0,r.default)({},e[n.constructor.type])}},S=function(t){t.rootElem&&p(Array.prototype.slice.call(t.rootElem.childNodes))},k=function(t){t.forEach(function(t){if("function"==typeof t.onControlPropsUpdated)try{t.onControlPropsUpdated(t.__prevProps||{})}catch(t){setTimeout(function(){throw t},0)}t.__prevProps=null})},O=function(t){var e,n,o={};for(e in t){var i=t[e],r=i.constructor.type;null==o[r]&&(o[r]=[]),o[r].push(i)}for(n in o)o[n].sort(function(t,e){return(t.constructor.sortValue||0)-(e.constructor.sortValue||0)});return o},x=function(t){var e,n=(0,s.getControlDefinitions)(),o={};for(e in n){var i=n[e];0<=t.indexOf(i.type)&&(o[e]=i)}return o},C=function(t){var e=t.reactMounts;if(e)if(e instanceof Array)o(e);else for(var n in e)e.hasOwnProperty(n)&&e[n]&&o(e[n])},T=function(t){for(var e in t)t.hasOwnProperty(e)&&(n=e,"_"!==n[0]||"_"!==n[1])&&"mounted"!==e&&(t[e]=null);var n;t.__prevProps=null,t._destroyed=!0}},19:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}const o=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[t].concat(n));for(var i=0;i<n.length;i++)r(t,n[i]);return t}},2:(t,e,n)=>{"use strict";var o;n.r(e),n.d(e,{default:()=>i});try{(o=self).self!==o&&(o.self,1)&&"undefined"!=typeof window&&(o=window)}catch(t){o="undefined"==typeof globalThis?window:globalThis}const i=o},1:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});e=n(2);null==e.default.Wistia&&(e.default.Wistia={});n=e.default.Wistia;null==n._initializers&&(n._initializers={}),null==n._destructors&&(n._destructors={}),null==n.mixin&&(n.mixin=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])});const o=e.default.Wistia},92:t=>{function s(t){var e=t.seedRange,n=t.seedFunction,o=t.seedStart,i=null==(r=t.outputStart)?0:r,r=null==(r=t.outputEnd)?1:r,t=null==(t=t.easing)?s.linear:t;if(null==e)throw new Error("Must provide seedRange argument");if(null!=n&&"function"!=typeof n)throw new Error("Given seed is not a function");if("function"!=typeof t)throw new Error("Invalid easing function given: "+this.easing);this._seedRange=e,this._seedFunction=n||function(){return(new Date).getTime()},this._outputStart=i,this._outputEnd=r,this._easing=t,this._seedStart=("function"==typeof o?o():void 0)||this.seed()}s.prototype.seed=function(){return this.seedFunction()()},s.prototype.seedStart=function(){return this._seedStart},s.prototype.seedRange=function(){return this._valOrFn(this._seedRange)},s.prototype.seedFunction=function(){return this._seedFunction},s.prototype.outputStart=function(){return this._valOrFn(this._outputStart)},s.prototype.outputEnd=function(){return this._valOrFn(this._outputEnd)},s.prototype.easing=function(){return this._valOrFn(this._easing)},s.prototype.value=function(){return this._easing.apply(this,this.easingArgs())},s.prototype.atEnd=function(){return 1===this.ratio()},s.prototype.atStart=function(){return 0===this.ratio()},s.prototype.easingArgs=function(){return[this.c(),this.t(),this.d(),this.b()]},s.prototype.seedDelta=function(){return 0<this.seedRange()?Math.min(this.seedRange(),this.seed()-this.seedStart()):this.seedRange()<0?Math.max(this.seedRange(),this.seed()-this.seedStart()):0},s.prototype.ratio=function(){var t=this.seedRange();return 0===t?1:Math.max(0,Math.min(1,this.seedDelta()/t))},s.prototype.c=function(){return this.outputEnd()-this.outputStart()},s.prototype.t=function(){return this.seedDelta()},s.prototype.d=function(){return this.seedRange()},s.prototype.b=function(){return this.outputStart()},s.prototype._valOrFn=function(t){return"function"==typeof t?t():t},s.linear=function(t,e,n,o){return t*e/(n||1)+o},s.easeInOut=function(t,e,n,o){return(e/=(n||1)/2)<1?t/2*e*e+o:-t/2*(--e*(e-2)-1)+o},t.exports=s},6:(t,e,n)=>{"use strict";n.r(e),n.d(e,{render:()=>y,hydrate:()=>g,createElement:()=>u,h:()=>u,Fragment:()=>C,createRef:()=>function(){return{current:null}},isValidElement:()=>o,Component:()=>T,cloneElement:()=>function(t,e,n){var o,i,r,s=arguments,a=O({},t.props);for(r in e)"key"==r?o=e[r]:"ref"==r?i=e[r]:a[r]=e[r];if(3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);return null!=n&&(a.children=n),_(t.type,a,o||t.key,i||t.ref,null)},createContext:()=>function(t,o){t={__c:o="__cC"+a++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,e;return this.getChildContext||(n=[],((e={})[o]=this).getChildContext=function(){return e},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(l)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return t.Provider.__=t.Consumer.contextType=t},toChildArray:()=>function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some(function(t){e(t,n)}):n.push(t)),n},options:()=>w});var w,o,i,r,s,a,S={},k=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function O(t,e){for(var n in e)t[n]=e[n];return t}function x(t){var e=t.parentNode;e&&e.removeChild(t)}function u(t,e,n){var o,i,r,s=arguments,a={};for(r in e)"key"==r?o=e[r]:"ref"==r?i=e[r]:a[r]=e[r];if(3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(s[r]);if(null!=n&&(a.children=n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===a[r]&&(a[r]=t.defaultProps[r]);return _(t,a,o,i,null)}function _(t,e,n,o,i){i={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++w.__v:i};return null!=w.vnode&&w.vnode(i),i}function C(t){return t.children}function T(t,e){this.props=t,this.context=e}function m(t,e){if(null==e)return t.__?m(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?m(t):null}function l(t){(!t.__d&&(t.__d=!0)&&i.push(t)&&!p.__r++||s!==w.debounceRendering)&&((s=w.debounceRendering)||r)(p)}function p(){for(var t;p.__r=i.length;)t=i.sort(function(t,e){return t.__v.__b-e.__v.__b}),i=[],t.some(function(t){var e,n,o,i,r;t.__d&&(i=(o=(e=t).__v).__e,(r=e.__P)&&(n=[],(t=O({},o)).__v=o.__v+1,M(r,o,t,e.__n,void 0!==r.ownerSVGElement,null==o.__h?null:[i],n,null==i?m(o):i,o.__h),v(n,o),o.__e!=i&&function t(e){var n,o;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(o=e.__k[n])&&null!=o.__e){e.__e=e.__c.base=o.__e;break}return t(e)}}(o)))})}function P(t,e,n,o,i,r,s,a,c,u){var l,p,f,h,d,v,y,g=o&&o.__k||k,b=g.length;for(n.__k=[],l=0;l<e.length;l++)if(null!=(h=n.__k[l]=null==(h=e[l])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?_(null,h,null,null,h):Array.isArray(h)?_(C,{children:h},null,null,null):0<h.__b?_(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(f=g[l])||f&&h.key==f.key&&h.type===f.type)g[l]=void 0;else for(p=0;p<b;p++){if((f=g[p])&&h.key==f.key&&h.type===f.type){g[p]=void 0;break}f=null}M(t,h,f=f||S,i,r,s,a,c,u),d=h.__e,(p=h.ref)&&f.ref!=p&&(y=y||[],f.ref&&y.push(f.ref,null,h),y.push(p,h.__c||d,h)),null==d?c&&f.__e==c&&c.parentNode!=t&&(c=m(f)):(null==v&&(v=d),"function"==typeof h.type&&null!=h.__k&&h.__k===f.__k?h.__d=c=function t(e,n,o){var i,r;for(i=0;i<e.__k.length;i++)(r=e.__k[i])&&(r.__=e,n="function"==typeof r.type?t(r,n,o):E(o,r,r,e.__k,r.__e,n));return n}(h,c,t):c=E(t,h,f,g,d,c),u||"option"!==n.type?"function"==typeof n.type&&(n.__d=c):t.value="")}for(n.__e=v,l=b;l--;)null!=g[l]&&("function"==typeof n.type&&null!=g[l].__e&&g[l].__e==n.__d&&(n.__d=m(o,l+1)),function t(e,n,o){var i,r,s;if(w.unmount&&w.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||I(i,null,n)),o||"function"==typeof e.type||(o=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){w.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&t(i[s],n,o);null!=r&&x(r)}(g[l],g[l]));if(y)for(l=0;l<y.length;l++)I(y[l],y[++l],y[++l])}function E(t,e,n,o,i,r){var s,a,c;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==n||i!=r||null==i.parentNode)t:if(null==r||r.parentNode!==t)t.appendChild(i),s=null;else{for(a=r,c=0;(a=a.nextSibling)&&c<o.length;c+=2)if(a==i)break t;t.insertBefore(i,r),s=r}return void 0===s?i.nextSibling:s}function f(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||c.test(e)?n:n+"px"}function R(t,e,n,o,i){var r;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof o&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||f(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||f(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])r=e!==(e=e.replace(/Capture$/,"")),e=(e.toLowerCase()in t?e.toLowerCase():e).slice(2),t.l||(t.l={}),t.l[e+r]=n,n?o||t.addEventListener(e,r?d:h,r):t.removeEventListener(e,r?d:h,r);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function h(t){this.l[t.type+!1](w.event?w.event(t):t)}function d(t){this.l[t.type+!0](w.event?w.event(t):t)}function M(t,e,n,o,i,r,s,a,c){var u,l,p,f,h,d,v,y,g,b,_,m=e.type;if(void 0===e.constructor){null!=n.__h&&(c=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(u=w.__b)&&u(e);try{t:if("function"==typeof m){if(y=e.props,g=(u=m.contextType)&&o[u.__c],b=u?g?g.props.value:u.__:o,n.__c?v=(l=e.__c=n.__c).__=l.__E:("prototype"in m&&m.prototype.render?e.__c=l=new m(y,b):(e.__c=l=new T(y,b),l.constructor=m,l.render=j),g&&g.sub(l),l.props=y,l.state||(l.state={}),l.context=b,l.__n=o,p=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=m.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=O({},l.__s)),O(l.__s,m.getDerivedStateFromProps(y,l.__s))),f=l.props,h=l.state,p)null==m.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==m.getDerivedStateFromProps&&y!==f&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(y,b),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(y,l.__s,b)||e.__v===n.__v){l.props=y,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),(l.__v=e).__e=n.__e,e.__k=n.__k,e.__k.forEach(function(t){t&&(t.__=e)}),l.__h.length&&s.push(l);break t}null!=l.componentWillUpdate&&l.componentWillUpdate(y,l.__s,b),null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(f,h,d)})}l.context=b,l.props=y,l.state=l.__s,(u=w.__r)&&u(e),l.__d=!1,l.__v=e,l.__P=t,u=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(o=O(O({},o),l.getChildContext())),p||null==l.getSnapshotBeforeUpdate||(d=l.getSnapshotBeforeUpdate(f,h)),_=null!=u&&u.type===C&&null==u.key?u.props.children:u,P(t,Array.isArray(_)?_:[_],e,n,o,i,r,s,a,c),l.base=e.__e,e.__h=null,l.__h.length&&s.push(l),v&&(l.__E=l.__=null),l.__e=!1}else null==r&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,o,i,r,s,a){var c,u,l,p,f=n.props,h=e.props,d=e.type,v=0;if("svg"===d&&(i=!0),null!=r)for(;v<r.length;v++)if((c=r[v])&&(c===t||(d?c.localName==d:3==c.nodeType))){t=c,r[v]=null;break}if(null==t){if(null===d)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),r=null,a=!1}if(null===d)f===h||a&&t.data===h||(t.data=h);else{if(r=r&&k.slice.call(t.childNodes),u=(f=n.props||S).dangerouslySetInnerHTML,l=h.dangerouslySetInnerHTML,!a){if(null!=r)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(l||u)&&(l&&(u&&l.__html==u.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(function(t,e,n,o,i){for(var r in n)"children"===r||"key"===r||r in e||R(t,r,null,n[r],o);for(r in e)i&&"function"!=typeof e[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===e[r]||R(t,r,e[r],n[r],o)}(t,h,f,i,a),l)e.__k=[];else if(v=e.props.children,P(t,Array.isArray(v)?v:[v],e,n,o,i&&"foreignObject"!==d,r,s,t.firstChild,a),null!=r)for(v=r.length;v--;)null!=r[v]&&x(r[v]);a||("value"in h&&void 0!==(v=h.value)&&(v!==t.value||"progress"===d&&!v)&&R(t,"value",v,f.value,!1),"checked"in h&&void 0!==(v=h.checked)&&v!==t.checked&&R(t,"checked",v,f.checked,!1))}return t}(n.__e,e,n,o,i,r,s,c);(u=w.diffed)&&u(e)}catch(t){e.__v=null,!c&&null==r||(e.__e=a,e.__h=!!c,r[r.indexOf(a)]=null),w.__e(t,e,n)}}}function v(t,e){w.__c&&w.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){w.__e(t,e.__v)}})}function I(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){w.__e(t,n)}}function j(t,e,n){return this.constructor(t,n)}function y(t,e,n){var o,i,r;w.__&&w.__(t,e),i=(o="function"==typeof n)?null:n&&n.__k||e.__k,r=[],M(e,t=(!o&&n||e).__k=u(C,null,[t]),i||S,S,void 0!==e.ownerSVGElement,!o&&n?[n]:!i&&e.firstChild?k.slice.call(e.childNodes):null,r,!o&&n?n:i?i.__e:e.firstChild,o),v(r,t)}function g(t,e){y(t,e,g)}w={__e:function(t,e){for(var n,o,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(t)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(e){t=e}throw t},__v:0},o=function(t){return null!=t&&void 0===t.constructor},T.prototype.setState=function(t,e){var n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=O({},this.state);(t="function"==typeof t?t(O({},n),this.props):t)&&O(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),l(this))},T.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),l(this))},T.prototype.render=C,i=[],r="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=p.__r=0},27:t=>{function l(t,e){return(typeof e)[0]==t}function p(c,u){return(u=function n(o,i,r,s,a,t){if(s=n.q,o!=l)return p(function(t,e){s.push({p:this,r:t,j:e,1:o,0:i})});if(r&&l(h,r)|l(d,r))try{a=r.then}catch(t){i=0,r=t}if(l(h,a)){function e(e){return function(t){a&&(a=0,n(l,e,t))}}try{a.call(r,e(1),i=e(0))}catch(t){i(t)}}else for(u=function(n,t){return l(h,n=i?n:t)?p(function(t,e){f(this,t,e,r,n)}):c},t=0;t<s.length;)a=s[t++],l(h,o=a[i])?f(a.p,a.r,a.j,r,o):(i?a.r:a.j)(r)}).q=[],c.call(c={then:function(t,e){return u(t,e)},catch:function(t){return u(0,t)}},function(t){u(l,1,t)},function(t){u(l,0,t)}),c}function f(t,e,n,o,i){function r(){try{i=(o=i(o))&&l(d,o)|l(h,o)&&o.then,l(h,i)?o==t?n(TypeError()):i.call(o,e,n):e(o)}catch(t){n(t)}}window.setImmediate?window.setImmediate(r):setTimeout(r,0)}function s(e){return p(function(t){t(e)})}var h,d;h="f",d="o",window.Promise?t.exports=window.Promise:((t.exports=p).resolve=s,p.reject=function(n){return p(function(t,e){e(n)})},p.all=function(t){return p(function(n,o,i,r){r=[],i=t.length||n(r),t.map(function(t,e){s(t).then(function(t){r[e]=t,--i||n(r)},o)})})},p.race=function(t){return p(function(e,n){t.map(function(t){s(t).then(e,n)})})})}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;e=o[t]={exports:{}};return n[t](e,e.exports,r),e.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var t={};(()=>{"use strict";r.r(t);var o=r(1),s=r(221);r(222),r(226),r(228);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){for(var n,o=0;o<e.length;o++)(n=e[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=f(n);return t=o?(t=f(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):t}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=o.default.lib("promiscuous"),d=o.default.lib("utilities/obj"),v=o.default.lib("utilities/wlog").wlog,n=function(){function i(t,e){var n;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),(n=r.call(this,t,e)).video=t,n.options=e,n.captions=null;var o=n.options.language?{language:n.options.language}:{};return n.fetched=(0,s.fetchCaptions)(t,o).then(function(t){n.captions=t.captions}),n.isEnabled=!1!==e.on,n.unbinds=[],n.unbinds.push(n.video.on("plugininitialized",function(t){"captions"!==t||(n.isEnabled?(n.enable(),n.options.onByDefault?n.turnOn():!1!==n.options.autoEnableForSilentAutoPlay&&("playing"===n.video.state()&&n.video.inSilentPlaybackMode()&&n.turnOn(),n.video.on("play",function(){return n.video.inSilentPlaybackMode()&&n.turnOn(),n.video.unbind}),n.video.on("silentplaybackmodechange",function(t){return t&&n.turnOn(),n.video.unbind}))):n.disable())})),n}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,o.default.Plugin.Base);var t,e,n,r=p(i);return t=i,(e=[{key:"customizePreview",value:function(o){var i=this;return o.anyChanged(["plugin[captions]","plugin[captions-v1]","ephemeral[captions]"])?new h(function(e){var n=o.currentValue("plugin[captions]")||o.currentValue("plugin[captions-v1]")||{on:!1};o.changed("ephemeral[captions][captionsArray]")&&i.clearCache(),i.allMountedAndFetched().then(function(){var t;o.currentValue("ephemeral[ui][captions][isOpen]")&&(i.video.requestControls("customizePreview-captions",4e3),(t=d.getDeep(i.video,"controls.captionsButton.dialog"))&&t.open(),setTimeout(function(){var t=d.getDeep(i.video,"controls.captionsButton.dialog");t&&t.close()},4e3)),i.captions.length?n.onByDefault?i.turnOn():i.turnOff():(i.insertCaptions([{start:0,end:5,text:["These captions are only an example."]},{start:5,end:10,text:["When you get real captions,","they'll be automatically enabled."]},{start:10,end:15,text:["Go ahead: upload an SRT file","or order a transcript!"]}]),i.turnOn()),e()})}):void 0}},{key:"captionsOptionsChanged",value:function(t){return t.some(function(t){return 0===t.indexOf("plugin[captions-v1]")||0===t.indexOf("ephemeral[captions]")})}},{key:"captionsArrayChanged",value:function(t){return t.some(function(t){return 0===t.indexOf("ephemeral[captions][captionsArray]")})}},{key:"enable",value:function(){this.video.setControlEnabled("captions",!0),this.video.setControlEnabled("captionsButton",!0),this.video.addPlugin("captions-v1",{legacy:!0})}},{key:"disable",value:function(){this.video.setControlEnabled("captions",!1),this.video.setControlEnabled("captionsButton",!1),this.video.removePlugin("captions-v1")}},{key:"allMountedAndFetched",value:function(){var t=[this.video.whenControlMounted("captionsButton"),this.video.whenControlMounted("captions")];return h.all(t).then(function(t){var e=a(t,2),t=e[0],e=e[1];return h.all([t.fetchCaptions(),e.fetchCaptions()])})}},{key:"turnOn",value:function(){var n=this;this.allMountedAndFetched().then(function(){var t,e=n.video.controls.captionsButton;e&&((t=e.getPreferredCaptions())?e.setSelectedLanguage(t.language):(t=e.captionsResp.captions[0])&&e.setSelectedLanguage(t.language))})}},{key:"remove",value:function(){this.unbinds.map(function(t){"function"==typeof t?t():v.warn("trying to unbind a non-function",t)}),this.disable(),delete this.video.plugin.captions,delete this.video.plugin["captions-v1"],u(f(i.prototype),"remove",this).call(this)}},{key:"turnOff",value:function(){this.video.controls.captionsButton.turnOff()}},{key:"show",value:function(){this.video.setControlEnabled("captions",!0)}},{key:"hide",value:function(){this.video.setControlEnabled("captions",!1)}},{key:"setSubtitlesScale",value:function(t){var e=this;this.video.whenControlMounted("captions").then(function(){e.video.controls.captions.setUserScale(t)})}},{key:"getSubtitlesScale",value:function(){return this.video.controls.captions?this.video.controls.captions.getUserScale():1}},{key:"insertCaptions",value:function(t){var e={english_name:"English",hash:{lines:t},language:"_preview_",native_name:"English",right_to_left:!1},t={captions:[e],preferred_languages:[]};this.video.controls.captions.captionsResp=t,this.video.controls.captionsButton.captionsResp=t,this.video.controls.transcript.captionsResp=t,this.captions=[e],s.captionsPromises[this.video.hashedId()]=h.resolve(t)}},{key:"clearCache",value:function(){var e=this;this.captions=null,delete s.captionsPromises[this.video.hashedId()],this.fetched=(0,s.fetchCaptions)(this.video,this.options).then(function(t){e.captions=t.captions})}},{key:"setLanguage",value:function(t){this.video.controls.captionsButton.setSelectedLanguage(t)}}])&&c(t.prototype,e),n&&c(t,n),i}();o.default.plugin("captions",function(t,e){return new n(t,e)}),o.default.plugin("captions-v1",function(t,e){return{turnOn:function(){t.plugin.captions.turnOn()},turnOff:function(){t.plugin.captions.turnOff()}}})})()})();

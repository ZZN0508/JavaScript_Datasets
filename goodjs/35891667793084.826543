function MGPerformance(e){var n=this,o=performance.timing;n.interval=600,null!=e&&(n.interval=e),n.callbacks=[],n.listen=function(e){0<o.loadEventEnd?n.callback(e):n.callbacks.push(e)},n.setInterval=function(e){n.interval(e)},n.callback=function(e){var n=o.domainLookupEnd-o.domainLookupStart,t=o.connectEnd-o.connectStart,a=o.responseStart-o.navigationStart,r=o.redirectEnd-o.redirectStart,i=o.domComplete-o.navigationStart;e(n,t,a,r,o.domInteractive-o.navigationStart,i,o.domContentLoadedEventEnd-o.navigationStart,o.loadEventEnd-o.navigationStart)},n.test=function(){if(0<o.loadEventEnd)for(var e in n.callbacks)n.callbacks.hasOwnProperty(e)&&n.callback(n.callbacks[e]);else n.interval-=200,n.interval<100&&(n.interval=100),setTimeout(function(){n.test()},n.interval)},setTimeout(function(){n.test()},n.interval)}function MGPerformanceTiming(e,n){var m=this;m.settings=n,m.ajax=function(e){try{var n=new XMLHttpRequest;n.open("GET",e,!0),n.send()}catch(e){}},m.send=function(e,n,t,a,r,i,o,c){var l="",l=void 0!==m.settings.label?m.settings.label:m.getUtm();m.createUrl("domainLookup",e,l),m.createUrl("connectTime",n,l),m.createUrl("ttfb",t,l),m.createUrl("redirectTime",a,l),m.createUrl("domInteractive",r,l),m.createUrl("domComplete",i,l),m.createUrl("domContentLoadedEventEnd",o,l),m.createUrl("loadEventEnd",c,l)},m.createUrl=function(e,n,t){(0<(n=m.cleanData(n))||"redirectTime"==e)&&(n="https://www.etahub.com/trackn?app_id="+m.settings.appid+"&product_name="+m.settings.productid+"&category="+e+"&action="+m.settings.action+"&label="+t+"&value="+n,m.ajax(n))},m.getUtm=function(){var e,n="";try{(e=location.search.toString().match(/utm_campaign=([^&]+)/))&&(n=e[1])}catch(e){}try{n||(e=document.cookie.toString().match(/utmccn=([^&|]+)/))&&(n=e[1])}catch(e){}return n},m.cleanData=function(e){return e=18e4<(e=parseInt(e)||0)||e<=10?0:e},e.listen(m.send)}var interval,mgBrowserPerformance=null;function mgHandleAddingCallbacks(){if("undefined"!=typeof mgPerformanceCallbacks)if(null==mgBrowserPerformance)for(var e in mgHandleAddingCallbacks)mgHandleAddingCallbacks.hasOwnProperty(e)&&e(0,0,0,0,0,0,0,0);else{for(var e in mgPerformanceCallbacks)mgPerformanceCallbacks.hasOwnProperty(e)&&mgBrowserPerformance.listen(mgPerformanceCallbacks[e]);mgPerformanceCallbacks=[]}}"undefined"!=typeof performance&&(interval=1e3,"undefined"!=typeof mgPerformanceTimingSettings&&null!==mgPerformanceTimingSettings&&"interval"in mgPerformanceTimingSettings&&(interval=parseInt(mgPerformanceTimingSettings.interval)),mgBrowserPerformance=new MGPerformance(interval)),mgHandleAddingCallbacks(),setInterval(mgHandleAddingCallbacks,250);var mgPerformanceTiming=null;void 0!==mgBrowserPerformance&&"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof mgPerformanceTimingSettings&&null!==mgPerformanceTimingSettings&&"sampling"in mgPerformanceTimingSettings&&Math.floor(100*Math.random()+1)<parseInt(mgPerformanceTimingSettings.sampling)&&(mgPerformanceTiming=new MGPerformanceTiming(mgBrowserPerformance,mgPerformanceTimingSettings));

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("crypto"),require("fs")):"function"==typeof define&&define.amd?define(["crypto","fs"],t):"object"==typeof exports?exports.CloudKit=t(require("crypto"),require("fs")):e.CloudKit=t(e.crypto,e.fs)}(this,function(n,r){return o=[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i,o,u=r(n(1)),a=r(n(226)),s=r(n(195)),f=r(n(112)),c=r(n(228)),l=r(n(85)),d=r(n(290)),h=r(n(263)),p=r(n(305)),_=r(n(306)),v=r(n(307)),y=r(n(308)),g=r(n(309)),m=r(n(268)),k=r(n(310)),n=r(n(303)),b=null,d={configure:function(e){if(l.default.isNullOrUndefined(e))throw a.default.makeConfigurationError("A configuration object is required");return b=new u.default({config:e})},getDefaultContainer:function(){if(!b)throw a.default.makeConfigurationError("Please configure CloudKit");return b.getDefaultContainer()},getAllContainers:function(){if(!b)throw a.default.makeConfigurationError("Please configure CloudKit");return b.getAllContainers()},getContainer:function(e){if(!b)throw a.default.makeConfigurationError("Please configure CloudKit");return b.getContainer(e)},PRODUCTION_ENVIRONMENT:s.default.PRODUCTION_ENVIRONMENT,DEVELOPMENT_ENVIRONMENT:s.default.DEVELOPMENT_ENVIRONMENT,DatabaseScope:h.default,QueryFilterComparator:p.default,ReferenceAction:_.default,SubscriptionType:v.default,ShareRecordType:y.default,ShareParticipantPermission:g.default,ShareParticipantAcceptanceStatus:k.default,ShareParticipantType:m.default,AppleIDButtonTheme:n.default,BUILD_VERSION:s.default.BUILD_VERSION,VERSION:s.default.VERSION,CKError:a.default,get Promise(){return f.default.Promise},CLOUDKIT_LOADED:s.default.CLOUDKIT_LOADED,fetch:function(e,t){return c.default.fetch(e,t)},WS_API_VERSION:s.default.WS_API_VERSION,logToConsole:!!l.default.getQueryParam("CloudKit.logToConsole"),parseRawNotification:d.default.parseRawNotification};"undefined"!=typeof window&&"undefined"!=typeof document&&((o=(i=window.document).createEvent("Event")).initEvent(s.default.CLOUDKIT_LOADED,!0,!0),setTimeout(function(){return i.dispatchEvent(o)})),e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(2)),s=r(n(41)),f=r(n(80)),i=r(n(81)),c=r(n(85)),l=r(n(194)),d=r(n(259)),h=r(n(226)),p=r(n(229)),_=r(n(228)),v=r(n(112)),i=((0,i.default)(y,[{key:"getDefaultContainer",value:function(){return this._containers[0]}},{key:"getContainer",value:function(t){return c.default.find(this._containers,function(e){return e.containerIdentifier===t})}},{key:"getAllContainers",value:function(){return this._containers}}]),y);function y(e){var t=e.config,n=t.containers,e=t.services,e=void 0===e?{}:e,r=t.locale;if((0,f.default)(this,y),!c.default.isArray(n))throw h.default.makeConfigurationError("config.containers must be an array");if(c.default.isNode()&&c.default.isNullOrUndefined(e.fetch))throw h.default.makeConfigurationError("Please provide an implementation of whatwg fetch via services.fetch");p.default.setDelegate(e.logger),v.default.Promise=e.Promise||s.default,_.default.setDelegate(e.fetch);var i=new l.default,o=e.authTokenStore,u=c.default.createUUID();this._containers=n.map(function(e){return(0,a.default)({},e,{locale:r,clientID:e.clientID||u})}).map(function(e){return new d.default({containerConfig:e,authTokenStore:o,apnsManager:i})})}t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(3),n=(r=i)&&r.__esModule?r:{default:r};t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,n){e.exports={default:n(4),__esModule:!0}},function(e,t,n){n(5),e.exports=n(8).Object.assign},function(e,t,n){var r=n(6);r(r.S+r.F,"Object",{assign:n(22)})},function(e,t,n){function _(e,t,n){var r,i,o,u=e&_.F,a=e&_.G,s=e&_.S,f=e&_.P,c=e&_.B,l=e&_.W,d=a?y:y[t]||(y[t]={}),h=d[b],p=a?v:s?v[t]:(v[t]||{})[b];for(r in n=a?t:n)i=!u&&p&&void 0!==p[r],i&&k(d,r)||(o=(i?p:n)[r],d[r]=a&&"function"!=typeof p[r]?n[r]:c&&i?g(o,v):l&&p[r]==o?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e[b]=r[b],e}(o):f&&"function"==typeof o?g(Function.call,o):o,f&&((d.virtual||(d.virtual={}))[r]=o,e&_.R&&h&&!h[r]&&m(h,r,o)))}var v=n(7),y=n(8),g=n(9),m=n(11),k=n(21),b="prototype";_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,_.U=64,_.R=128,e.exports=_},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)},function(e,t,n){var o=n(10);e.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(12),i=n(20);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(13),i=n(15),o=n(19),u=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(14);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(16)&&!n(17)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(14),i=n(7).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var i=n(14);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var d=n(23),h=n(38),p=n(39),_=n(40),v=n(26),i=Object.assign;e.exports=!i||n(17)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=_(e),r=arguments.length,i=1,o=h.f,u=p.f;i<r;)for(var a,s=v(arguments[i++]),f=o?d(s).concat(o(s)):d(s),c=f.length,l=0;l<c;)u.call(s,a=f[l++])&&(n[a]=s[a]);return n}:i},function(e,t,n){var r=n(24),i=n(37);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var u=n(21),a=n(25),s=n(29)(!1),f=n(33)("IE_PROTO");e.exports=function(e,t){var n,r=a(e),i=0,o=[];for(n in r)n!=f&&u(r,n)&&o.push(n);for(;t.length>i;)u(r,n=t[i++])&&(~s(o,n)||o.push(n));return o}},function(e,t,n){var r=n(26),i=n(28);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var s=n(25),f=n(30),c=n(32);e.exports=function(a){return function(e,t,n){var r,i=s(e),o=f(i.length),u=c(n,o);if(a&&t!=t){for(;u<o;)if((r=i[u++])!=r)return!0}else for(;u<o;u++)if((a||u in i)&&i[u]===t)return a||u||0;return!a&&-1}}},function(e,t,n){var r=n(31),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(31),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(34)("keys"),i=n(36);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(8),i=n(7),o="__core-js_shared__",u=i[o]||(i[o]={});(e.exports=function(e,t){return u[e]||(u[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(35)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(28);e.exports=function(e){return Object(r(e))}},function(e,t,n){e.exports={default:n(42),__esModule:!0}},function(e,t,n){n(43),n(44),n(56),n(60),n(78),n(79),e.exports=n(8).Promise},function(e,t){},function(e,t,n){"use strict";var r=n(45)(!0);n(46)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=r(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,n){var u=n(31),a=n(28);e.exports=function(o){return function(e,t){var n,r=String(a(e)),i=u(t),e=r.length;return i<0||e<=i?o?"":void 0:(t=r.charCodeAt(i))<55296||56319<t||i+1===e||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):t:o?r.slice(i,i+2):n-56320+(t-55296<<10)+65536}}},function(e,t,n){"use strict";function y(){return this}var g=n(35),m=n(6),k=n(47),b=n(11),E=n(48),N=n(49),O=n(53),I=n(55),w=n(54)("iterator"),S=!([].keys&&"next"in[].keys()),A="values";e.exports=function(e,t,n,r,i,o,u){N(n,t,r);function a(e){if(!S&&e in h)return h[e];switch(e){case"keys":case A:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,f,c=t+" Iterator",l=i==A,d=!1,h=e.prototype,p=h[w]||h["@@iterator"]||i&&h[i],_=p||a(i),v=i?l?a("entries"):_:void 0,r="Array"==t&&h.entries||p;if(r&&((e=I(r.call(new e)))!==Object.prototype&&e.next&&(O(e,c,!0),g||"function"==typeof e[w]||b(e,w,y))),l&&p&&p.name!==A&&(d=!0,_=function(){return p.call(this)}),g&&!u||!S&&!d&&h[w]||b(h,w,_),E[t]=_,E[c]=y,i)if(s={values:l?_:a(A),keys:o?_:a("keys"),entries:v},u)for(f in s)f in h||k(h,f,s[f]);else m(m.P+m.F*(S||d),t,s);return s}},function(e,t,n){e.exports=n(11)},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(50),i=n(20),o=n(53),u={};n(11)(u,n(54)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(u,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){function r(){}var i=n(13),o=n(51),u=n(37),a=n(33)("IE_PROTO"),s="prototype",f=function(){var e=n(18)("iframe"),t=u.length;for(e.style.display="none",n(52).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),f=e.F;t--;)delete f[s][u[t]];return f()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[s]=i(e),n=new r,r[s]=null,n[a]=e):n=f(),void 0===t?n:o(n,t)}},function(e,t,n){var u=n(12),a=n(13),s=n(23);e.exports=n(16)?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=r.length,o=0;o<i;)u.f(e,n=r[o++],t[n]);return e}},function(e,t,n){n=n(7).document;e.exports=n&&n.documentElement},function(e,t,n){var r=n(12).f,i=n(21),o=n(54)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(34)("wks"),i=n(36),o=n(7).Symbol,u="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=u&&o[e]||(u?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(21),i=n(40),o=n(33)("IE_PROTO"),u=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){n(57);for(var r=n(7),i=n(11),o=n(48),u=n(54)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<a.length;s++){var f=a[s],c=r[f],c=c&&c.prototype;c&&!c[u]&&i(c,u,f),o[f]=o.Array}},function(e,t,n){"use strict";var r=n(58),i=n(59),o=n(48),u=n(25);e.exports=n(46)(Array,"Array",function(e,t){this._t=u(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";function r(){}var i,o,u,a,s=n(35),d=n(7),f=n(9),c=n(61),l=n(6),h=n(14),p=n(10),_=n(62),v=n(63),y=n(67),g=n(68).set,m=n(70)(),k=n(71),b=n(72),E=n(73),N=n(74),O="Promise",I=d.TypeError,w=d.process,S=w&&w.versions,A=S&&S.v8||"",R=d[O],T="process"==c(w),L=o=k.f,c=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[n(54)("species")]=function(e){e(r,r)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(r)instanceof t&&0!==A.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),C=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},x=function(l,n){var r;l._n||(l._n=!0,r=l._c,m(function(){for(var i,f=l._v,c=1==l._s,e=0,t=function(e){var t,n,r,i,o=c?e.ok:e.fail,u=e.resolve,a=e.reject,s=e.domain;try{o?(c||(2==l._h&&(i=l,g.call(d,function(){var e;T?w.emit("rejectionHandled",i):(e=d.onrejectionhandled)&&e({promise:i,reason:i._v})})),l._h=1),!0===o?t=f:(s&&s.enter(),t=o(f),s&&(s.exit(),r=!0)),t===e.promise?a(I("Promise-chain cycle")):(n=C(t))?n.call(t,u,a):u(t)):a(f)}catch(e){s&&!r&&s.exit(),a(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&(i=l,g.call(d,function(){var e,t,n=i._v,r=M(i);if(r&&(e=b(function(){T?w.emit("unhandledRejection",n,i):(t=d.onunhandledrejection)?t({promise:i,reason:n}):(t=d.console)&&t.error&&t.error("Unhandled promise rejection",n)}),i._h=T||M(i)?2:1),i._a=void 0,r&&e.e)throw e.v}))}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),x(t,!0))},D=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw I("Promise can't be resolved itself");(n=C(e))?m(function(){var t={_w:r,_d:!1};try{n.call(e,f(D,t,1),f(U,t,1))}catch(e){U.call(t,e)}}):(r._v=e,r._s=1,x(r,!1))}catch(e){U.call({_w:r,_d:!1},e)}}};c||(R=function(e){_(this,R,O,"_h"),p(e),i.call(this);try{e(f(D,this,1),f(U,this,1))}catch(e){U.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(75)(R.prototype,{then:function(e,t){var n=L(y(this,R));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&x(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),u=function(){var e=new i;this.promise=e,this.resolve=f(D,e,1),this.reject=f(U,e,1)},k.f=L=function(e){return e===R||e===a?new u:o(e)}),l(l.G+l.W+l.F*!c,{Promise:R}),n(53)(R,O),n(76)(O),a=n(8)[O],l(l.S+l.F*!c,O,{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!c),O,{resolve:function(e){return N(s&&this===a?R:this,e)}}),l(l.S+l.F*!(c&&n(77)(function(e){R.all(e).catch(r)})),O,{all:function(e){var u=this,t=L(u),a=t.resolve,s=t.reject,n=b(function(){var r=[],i=0,o=1;v(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,u.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||a(r))},s)}),--o||a(r)});return n.e&&s(n.v),t.promise},race:function(e){var t=this,n=L(t),r=n.reject,i=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(27),i=n(54)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?e:o?r(t):"Object"==(e=r(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var l=n(9),d=n(64),h=n(65),p=n(13),_=n(30),v=n(66),y={},g={};(t=e.exports=function(e,t,n,r,i){var o,u,a,s,i=i?function(){return e}:v(e),f=l(n,r,t?2:1),c=0;if("function"!=typeof i)throw TypeError(e+" is not iterable!");if(h(i)){for(o=_(e.length);c<o;c++)if((s=t?f(p(u=e[c])[0],u[1]):f(e[c]))===y||s===g)return s}else for(a=i.call(e);!(u=a.next()).done;)if((s=d(a,f,u.value,t))===y||s===g)return s}).BREAK=y,t.RETURN=g},function(e,t,n){var i=n(13);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(e,t,n){var r=n(48),i=n(54)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(61),i=n(54)("iterator"),o=n(48);e.exports=n(8).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(13),i=n(10),o=n(54)("species");e.exports=function(e,t){var n,e=r(e).constructor;return void 0===e||null==(n=r(e)[o])?t:i(n)}},function(e,t,n){function r(){var e,t=+this;y.hasOwnProperty(t)&&(e=y[t],delete y[t],e())}function i(e){r.call(e.data)}var o,u=n(9),a=n(69),s=n(52),f=n(18),c=n(7),l=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,_=c.Dispatch,v=0,y={},g="onreadystatechange";d&&h||(d=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return y[++v]=function(){a("function"==typeof e?e:Function(e),t)},o(v),v},h=function(e){delete y[e]},"process"==n(27)(l)?o=function(e){l.nextTick(u(r,e,1))}:_&&_.now?o=function(e){_.now(u(r,e,1))}:p?(p=(n=new p).port2,n.port1.onmessage=i,o=u(p.postMessage,p,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(e){c.postMessage(e+"","*")},c.addEventListener("message",i,!1)):o=g in f("script")?function(e){s.appendChild(f("script"))[g]=function(){s.removeChild(this),r.call(e)}}:function(e){setTimeout(u(r,e,1),0)}),e.exports={set:d,clear:h}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var a=n(7),s=n(68).set,f=a.MutationObserver||a.WebKitMutationObserver,c=a.process,l=a.Promise,d="process"==n(27)(c);e.exports=function(){function e(){var e,t;for(d&&(e=c.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()}var n,r,t,i,o,u;return i=d?function(){c.nextTick(e)}:!f||a.navigator&&a.navigator.standalone?l&&l.resolve?(t=l.resolve(void 0),function(){t.then(e)}):function(){s.call(a,e)}:(o=!0,u=document.createTextNode(""),new f(e).observe(u,{characterData:!0}),function(){u.data=o=!o}),function(e){e={fn:e,next:void 0};r&&(r.next=e),n||(n=e,i()),r=e}}},function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}var i=n(10);e.exports.f=function(e){return new r(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){n=n(7).navigator;e.exports=n&&n.userAgent||""},function(e,t,n){var r=n(13),i=n(14),o=n(71);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;e=o.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,n){var i=n(11);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var r=n(7),i=n(8),o=n(12),u=n(16),a=n(54)("species");e.exports=function(e){e=("function"==typeof i[e]?i:r)[e];u&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var o=n(54)("iterator"),u=!1;try{var r=[7][o]();r.return=function(){u=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!u)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(6),i=n(8),o=n(7),u=n(67),a=n(74);r(r.P+r.R,"Promise",{finally:function(t){var n=u(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then(function(){return e})}:t,e?function(e){return a(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(6),i=n(71),o=n(72);r(r.S,"Promise",{try:function(e){var t=i.f(this),e=o(e);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(82),o=(r=i)&&r.__esModule?r:{default:r};function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}t.default=function(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(84);var r=n(8).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(6);r(r.S+r.F*!n(16),"Object",{defineProperty:n(12).f})},function(e,A,R){!function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,_.default)(e)||(0,p.default)(e)}function n(){return"undefined"==typeof window}function o(e,t,n){!function(){try{return 0<navigator.userAgent.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE")}catch(e){}}()?window.open(e,"","width="+t+", height="+n):window.open(window.location.href,"","width="+t+", height="+n).location.href=e}function u(e,t,n){try{return e.apply(void 0,(0,r.default)(t))}catch(e){throw console.error(n),e}}Object.defineProperty(A,"__esModule",{value:!0});var r=t(R(86)),a=t(R(91)),s=t(R(95)),f=t(R(99)),c=t(R(101)),l=t(R(106)),d=t(R(109)),h=t(R(112)),p=t(R(113)),_=t(R(114)),v=t(R(115)),y=t(R(117)),g=t(R(123)),m=t(R(121)),k=t(R(120)),b=t(R(124)),E=t(R(149)),N=t(R(156)),O=t(R(163)),I=t(R(166)),w=(t(R(188)),R(147)),w=(t(w),R(191)),w=(t(w),R(192)),S=t(w),e=n()?e.Buffer:null;A.default={isUndefined:p.default,isNullOrUndefined:i,isInt:function(e){return Number(e)===e&&e%1==0},isArray:y.default,isString:g.default,isStringArray:function(e){return(0,y.default)(e)&&e.every(g.default)},isNumberish:function(e){return!(0,d.default)(Number(e))},isObject:m.default,isBoolean:v.default,isFunction:k.default,has:N.default,pick:E.default,picker:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return(0,E.default)(e,[].concat(t))}},makeObjectHasValuesForKeysPredicate:function(r){return function(n){return(0,s.default)(r).every(function(e){var t=r[e],e=!i(n[e]);return t&&e||!t&&!e})}},assertArg:function(e,t){if(i(e))throw new Error(t)},assign:O.default,clone:b.default,asArray:function(e){return(0,y.default)(e)?e:[e]},find:I.default,values:function(e){return(0,a.default)(e)},tryInvokeFunction:u,tryInvokeMethod:function(e,t,n,r){if((0,k.default)(e[t]))return u(e[t].bind(e),n,"Error calling "+r+"."+t)},stringifyExposingUndefined:function(e){return(0,f.default)(e,function(e,t){return(0,p.default)(t)?"<<undefined>>":t})},instanceToString:function(e,n){var t=(t=function e(t){t=(0,l.default)(t);if(t===(0,l.default)({}))return[];var n=e(t);return(0,c.default)(t).forEach(function(e){return n.push(e)}),n}(n)).sort().filter(function(e){return!(0,k.default)(n[e])&&-1===e.indexOf("_")}),r="";return r+="["+e,t.forEach(function(e){var t=n[e];r+="\n\t",r+=(0,y.default)(t)?e+": ["+t.length+"]":e+": "+t}),r+="\n]"},isNode:n,getAsyncMessageFromPopup:function(e,t,n){function r(e){(0,m.default)(e.data)&&i.resolve(e)}var i=h.default.defer();return window.addEventListener("message",r,!1),o(e,t,n),i.promise.then(function(e){return window.removeEventListener("message",r),e})},prepareForUpload:function(e){return n()?e.toString():e},setCookie:function(e,t){var n=window.location.hostname,r=new Date;r.setTime(r.getTime()+12096e5),null===t&&r.setTime(-1),r="expires="+r.toUTCString(),n=/\./.test(n)?n:"",window.document.cookie=e+"="+t+"; "+r+"; "+n+"; path="},getCookie:function(e){for(var t=e+"=",n=window.document.cookie.split(";"),r=null,i=0;i<n.length;i++){for(var o=n[i];" "===o.charAt(0);)o=o.substring(1);0===o.indexOf(t)&&(r=o.substring(t.length,o.length))}return r},Buffer:e,getQueryParam:function(e){return function(){try{var e=location.search.substr(1),t={};return e.split("&").forEach(function(e){e=e.split("=");t[e[0]]=decodeURIComponent(e[1])}),t}catch(e){return{}}}()[e]},createUUID:function(){return S.default.v4()}}}.call(A,function(){return this}())},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(87),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){e.exports={default:n(88),__esModule:!0}},function(e,t,n){n(44),n(89),e.exports=n(8).Array.from},function(e,t,n){"use strict";var l=n(9),r=n(6),d=n(40),h=n(64),p=n(65),_=n(30),v=n(90),y=n(66);r(r.S+r.F*!n(77)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,i,o=d(e),u="function"==typeof this?this:Array,a=arguments.length,s=1<a?arguments[1]:void 0,f=void 0!==s,c=0,e=y(o);if(f&&(s=l(s,2<a?arguments[2]:void 0,2)),null==e||u==Array&&p(e))for(n=new u(t=_(o.length));c<t;c++)v(n,c,f?s(o[c],c):o[c]);else for(i=e.call(o),n=new u;!(r=i.next()).done;c++)v(n,c,f?h(i,s,[r.value,c],!0):r.value);return n.length=c,n}})},function(e,t,n){"use strict";var r=n(12),i=n(20);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){e.exports={default:n(92),__esModule:!0}},function(e,t,n){n(93),e.exports=n(8).Object.values},function(e,t,n){var r=n(6),i=n(94)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var s=n(23),f=n(25),c=n(39).f;e.exports=function(a){return function(e){for(var t,n=f(e),r=s(n),i=r.length,o=0,u=[];o<i;)c.call(n,t=r[o++])&&u.push(a?[t,n[t]]:n[t]);return u}}},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){n(97),e.exports=n(8).Object.keys},function(e,t,n){var r=n(40),i=n(23);n(98)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var i=n(6),o=n(8),u=n(17);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*u(function(){n(1)}),"Object",r)}},function(e,t,n){e.exports={default:n(100),__esModule:!0}},function(e,t,n){var n=n(8),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){e.exports={default:n(102),__esModule:!0}},function(e,t,n){n(103);var r=n(8).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(98)("getOwnPropertyNames",function(){return n(104).f})},function(e,t,n){var r=n(25),i=n(105).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return u&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return u.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(24),i=n(37).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){e.exports={default:n(107),__esModule:!0}},function(e,t,n){n(108),e.exports=n(8).Object.getPrototypeOf},function(e,t,n){var r=n(40),i=n(55);n(98)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){e.exports={default:n(110),__esModule:!0}},function(e,t,n){n(111),e.exports=n(8).Number.isNaN},function(e,t,n){n=n(6);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(41)),o=r(n(80)),n=new((0,r(n(81)).default)(u,[{key:"wait",value:function(n){return new this.Promise(function(e,t){setTimeout(e,n)})}},{key:"waitOrFail",value:function(e,r,i){var o=null,t=new this._Promise(function(e,t){var n=setTimeout(function(){return t(i)},r);o=function(){return clearTimeout(n)}});return e.then(o,o),this._Promise.race([e,t])}},{key:"defer",value:function(){var n={},e=new this.Promise(function(e,t){n.resolve=e,n.reject=t});return n.promise=e,n}},{key:"Promise",set:function(e){this._Promise=e},get:function(){return this._Promise}}]),u);function u(){(0,o.default)(this,u),void 0!==i.default&&(this.Promise=i.default)}t.default=n},function(e,t){e.exports=function(e){return void 0===e}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){var r=n(116),i=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||r(e)&&"[object Boolean]"==i.call(e)}},function(e,t){e.exports=function(e){return!!e&&"object"==typeof e}},function(e,t,n){var r=n(118),i=n(122),o=n(116),u=Object.prototype.toString,r=r(Array,"isArray");e.exports=r||function(e){return o(e)&&i(e.length)&&"[object Array]"==u.call(e)}},function(e,t,n){var r=n(119);e.exports=function(e,t){return t=null==e?void 0:e[t],r(t)?t:void 0}},function(e,t,n){var r=n(120),i=n(116),o=/^\[object .+?Constructor\]$/,n=Object.prototype,u=Function.prototype.toString,n=n.hasOwnProperty,a=RegExp("^"+u.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return null!=e&&(r(e)?a.test(u.call(e)):i(e)&&o.test(e))}},function(e,t,n){var r=n(121),i=Object.prototype.toString;e.exports=function(e){return r(e)&&"[object Function]"==i.call(e)}},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(116),i=Object.prototype.toString;e.exports=function(e){return"string"==typeof e||r(e)&&"[object String]"==i.call(e)}},function(e,t,n){var i=n(125),o=n(146),u=n(148);e.exports=function(e,t,n,r){return t&&"boolean"!=typeof t&&u(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?i(e,t,o(n,r,3)):i(e,t)}},function(e,t,n){var d=n(126),h=n(127),p=n(128),_=n(138),v=n(142),y=n(143),g=n(145),m=n(117),k=n(121),b="[object Arguments]",E="[object Function]",N="[object Object]",O={};O[b]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Number]"]=O[N]=O["[object RegExp]"]=O["[object String]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[E]=O["[object Map]"]=O["[object Set]"]=O["[object WeakMap]"]=!1;var I=Object.prototype.toString;e.exports=function n(r,i,o,e,t,u,a){var s;if(void 0!==(s=o?t?o(r,e,t):o(r):s))return s;if(!k(r))return r;var f=m(r);if(f){if(s=v(r),!i)return d(r,s)}else{var c=I.call(r),e=c==E;if(c!=N&&c!=b&&(!e||t))return O[c]?y(r,c,i):t?r:{};if(s=g(e?{}:r),!i)return p(s,r)}a=a||[];for(var l=(u=u||[]).length;l--;)if(u[l]==r)return a[l];return u.push(r),a.push(s),(f?h:_)(r,function(e,t){s[t]=n(e,i,o,t,r,u,a)}),s}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(129),i=n(130);e.exports=function(e,t){return null==t?e:r(t,i(t),e)}},function(e,t){e.exports=function(e,t,n){n=n||{};for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}},function(e,t,n){var r=n(118),i=n(131),o=n(121),u=n(134),a=r(Object,"keys");e.exports=a?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?u(e):o(e)?a(e):[]}:u},function(e,t,n){var r=n(132),i=n(122);e.exports=function(e){return null!=e&&i(r(e))}},function(e,t,n){n=n(133)("length");e.exports=n},function(e,t){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(e,t,n){var s=n(135),f=n(117),c=n(136),l=n(122),d=n(137),h=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=d(e),n=t.length,r=n&&e.length,i=!!r&&l(r)&&(f(e)||s(e)),o=-1,u=[];++o<n;){var a=t[o];(i&&c(a,r)||h.call(e,a))&&u.push(a)}return u}},function(e,t,n){var r=n(131),i=n(116),n=Object.prototype,o=n.hasOwnProperty,u=n.propertyIsEnumerable;e.exports=function(e){return i(e)&&r(e)&&o.call(e,"callee")&&!u.call(e,"callee")}},function(e,t){var n=/^\d+$/;e.exports=function(e,t){return t=null==t?9007199254740991:t,-1<(e="number"==typeof e||n.test(e)?+e:-1)&&e%1==0&&e<t}},function(e,t,n){var s=n(135),f=n(117),c=n(136),l=n(122),d=n(121),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return[];for(var t,n=(n=(e=!d(e)?Object(e):e).length)&&l(n)&&(f(e)||s(e))&&n||0,r=e.constructor,i=-1,o="function"==typeof r&&r.prototype===e,u=Array(n),a=0<n;++i<n;)u[i]=i+"";for(t in e)a&&c(t,n)||"constructor"==t&&(o||!h.call(e,t))||u.push(t);return u}},function(e,t,n){var r=n(139),i=n(130);e.exports=function(e,t){return r(e,t,i)}},function(e,t,n){n=n(140)();e.exports=n},function(e,t,n){var f=n(141);e.exports=function(s){return function(e,t,n){for(var r=f(e),i=n(e),o=i.length,u=s?o:-1;s?u--:++u<o;){var a=i[u];if(!1===t(r[a],a,r))break}return e}}},function(e,t,n){var r=n(121);e.exports=function(e){return r(e)?e:Object(e)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,n){var u=n(144),a=/\w*$/;e.exports=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return u(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":var i=e.buffer;return new r(n?u(i):i,e.byteOffset,e.length);case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":var o=new r(e.source,a.exec(e));o.lastIndex=e.lastIndex}return o}},function(t,e){!function(e){var n=e.ArrayBuffer,r=e.Uint8Array;t.exports=function(e){var t=new n(e.byteLength);return new r(t).set(new r(e)),t}}.call(e,function(){return this}())},function(e,t){e.exports=function(e){return new(e=!("function"==typeof(e=e.constructor)&&e instanceof e)?Object:e)}},function(e,t,n){var r=n(147);e.exports=function(o,u,e){if("function"!=typeof o)return r;if(void 0===u)return o;switch(e){case 1:return function(e){return o.call(u,e)};case 3:return function(e,t,n){return o.call(u,e,t,n)};case 4:return function(e,t,n,r){return o.call(u,e,t,n,r)};case 5:return function(e,t,n,r,i){return o.call(u,e,t,n,r,i)}}return function(){return o.apply(u,arguments)}}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(131),o=n(136),u=n(121);e.exports=function(e,t,n){if(!u(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){t=n[t];return e==e?e===t:t!=t}return!1}},function(e,t,n){var r=n(150),i=n(146),o=n(152),u=n(153),n=n(155)(function(e,t){return null==e?{}:"function"==typeof t[0]?u(e,i(t[0],t[1],3)):o(e,r(t))});e.exports=n},function(e,t,n){var s=n(151),f=n(135),c=n(117),l=n(131),d=n(116);e.exports=function e(t,n,r,i){i=i||[];for(var o=-1,u=t.length;++o<u;){var a=t[o];d(a)&&l(a)&&(r||c(a)||f(a))?n?e(a,n,r,i):s(i,a):r||(i[i.length]=a)}return i}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var u=n(141);e.exports=function(e,t){e=u(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}},function(e,t,n){var o=n(154);e.exports=function(e,r){var i={};return o(e,function(e,t,n){r(e,t,n)&&(i[t]=e)}),i}},function(e,t,n){var r=n(139),i=n(137);e.exports=function(e,t){return r(e,t,i)}},function(e,t){var a=Math.max;e.exports=function(o,u){if("function"!=typeof o)throw new TypeError("Expected a function");return u=a(void 0===u?o.length-1:+u||0,0),function(){for(var e=arguments,t=-1,n=a(e.length-u,0),r=Array(n);++t<n;)r[t]=e[u+t];switch(u){case 0:return o.call(this,r);case 1:return o.call(this,e[0],r);case 2:return o.call(this,e[0],e[1],r)}for(var i=Array(u+1),t=-1;++t<u;)i[t]=e[t];return i[u]=r,o.apply(this,i)}}},function(e,t,n){var r=n(157),i=n(158),o=n(135),u=n(117),a=n(136),s=n(159),f=n(122),c=n(160),l=n(161),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(null==e)return!1;var n=d.call(e,t);if(!n&&!s(t)){if(null==(e=1==(t=l(t)).length?e:r(e,i(t,0,-1))))return!1;t=c(t),n=d.call(e,t)}return n||f(e.length)&&a(t,e.length)&&(u(e)||o(e))}},function(e,t,n){var o=n(141);e.exports=function(e,t,n){if(null!=e){for(var r=0,i=((t=void 0!==n&&n in o(e)?[n]:t).length);null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:void 0}}},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;(n=void 0===n||i<n?i:+n||0)<0&&(n+=i),i=n<(t=(t=null!=t&&+t||0)<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},function(e,t,n){var r=n(117),i=n(141),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=function(e,t){var n=typeof e;return!!("string"==n&&u.test(e)||"number"==n)||!r(e)&&(!o.test(e)||null!=t&&e in i(t))}},function(e,t){e.exports=function(e){var t=e?e.length:0;return t?e[t-1]:void 0}},function(e,t,n){var r=n(162),o=n(117),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;e.exports=function(e){if(o(e))return e;var i=[];return r(e).replace(u,function(e,t,n,r){i.push(n?r.replace(a,"$1"):t||e)}),i}},function(e,t){e.exports=function(e){return null==e?"":e+""}},function(e,t,n){var r=n(164),i=n(128),n=n(165)(function(e,t,n){return n?r(e,t,n):i(e,t)});e.exports=n},function(e,t,n){var f=n(130);e.exports=function(e,t,n){for(var r=-1,i=f(t),o=i.length;++r<o;){var u=i[r],a=e[u],s=n(a,t[u],u,e,t);(s==s?s===a:a!=a)&&(void 0!==a||u in e)||(e[u]=s)}return e}},function(e,t,n){var f=n(146),c=n(148),r=n(155);e.exports=function(s){return r(function(e,t){var n=-1,r=null==e?0:t.length,i=2<r?t[r-2]:void 0,o=2<r?t[2]:void 0,u=1<r?t[r-1]:void 0;for("function"==typeof i?(i=f(i,u,5),r-=2):r-=(i="function"==typeof u?u:void 0)?1:0,o&&c(t[0],t[1],o)&&(i=r<3?void 0:i,r=1);++n<r;){var a=t[n];a&&s(e,a,i)}return e})}},function(e,t,n){var r=n(167),r=n(169)(r);e.exports=r},function(e,t,n){var r=n(138),r=n(168)(r);e.exports=r},function(e,t,n){var a=n(132),s=n(122),f=n(141);e.exports=function(o,u){return function(e,t){var n=e?a(e):0;if(!s(n))return o(e,t);for(var r=u?n:-1,i=f(e);(u?r--:++r<n)&&!1!==t(i[r],r,i););return e}}},function(e,t,n){var o=n(170),u=n(186),a=n(187),s=n(117);e.exports=function(r,i){return function(e,t,n){if(t=o(t,n,3),s(e)){n=a(e,t,i);return-1<n?e[n]:void 0}return u(e,t,r)}}},function(e,t,n){var i=n(171),o=n(183),u=n(146),a=n(147),s=n(184);e.exports=function(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:u(e,t,n):null==e?a:"object"==r?i(e):void 0===t?s(e):o(e,t)}},function(e,t,n){var i=n(172),o=n(180),u=n(141);e.exports=function(e){var t=o(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&e[n]===r&&(void 0!==r||n in u(e))}}return function(e){return i(e,t)}}},function(e,t,n){var c=n(173),l=n(141);e.exports=function(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=l(e);r--;){var u=t[r];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<i;){var a=(u=t[r])[0],s=e[a],f=u[1];if(o&&u[2]){if(void 0===s&&!(a in e))return!1}else{a=n?n(s,f,a):void 0;if(!(void 0===a?c(f,s,n,!0):a))return!1}}return!0}},function(e,t,n){var a=n(174),s=n(121),f=n(116);e.exports=function e(t,n,r,i,o,u){return t===n||(null==t||null==n||!s(t)&&!f(n)?t!=t&&n!=n:a(t,n,e,r,i,o,u))}},function(e,t,n){var h=n(175),p=n(177),_=n(178),v=n(117),y=n(179),g="[object Arguments]",m="[object Array]",k="[object Object]",n=Object.prototype,b=n.hasOwnProperty,E=n.toString;e.exports=function(e,t,n,r,i,o,u){var a=v(e),s=v(t),f=m,c=m;a||((f=E.call(e))==g?f=k:f!=k&&(a=y(e))),s||((c=E.call(t))==g?c=k:c!=k&&y(t));var l=f==k,s=c==k;if((c=f==c)&&!a&&!l)return p(e,t,f);if(!i){l=l&&b.call(e,"__wrapped__"),s=s&&b.call(t,"__wrapped__");if(l||s)return n(l?e.value():e,s?t.value():t,r,i,o,u)}if(!c)return!1;u=u||[];for(var d=(o=o||[]).length;d--;)if(o[d]==e)return u[d]==t;return o.push(e),u.push(t),i=(a?h:_)(e,t,n,r,i,o,u),o.pop(),u.pop(),i}},function(e,t,n){var h=n(176);e.exports=function(e,t,n,r,i,o,u){var a=-1,s=e.length,f=t.length;if(s!=f&&!(i&&s<f))return!1;for(;++a<s;){var c=e[a],l=t[a],d=r?r(i?l:c,i?c:l,a):void 0;if(void 0!==d){if(d)continue;return!1}if(i){if(!h(t,function(e){return c===e||n(c,e,r,i,o,u)}))return!1}else if(c!==l&&!n(c,l,r,i,o,u))return!1}return!0}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t,n){switch(n){case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object Number]":return e!=+e?t!=+t:e==+t;case"[object RegExp]":case"[object String]":return e==t+""}return!1}},function(e,t,n){var y=n(130),g=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o,u){var a=y(e),s=a.length;if(s!=y(t).length&&!i)return!1;for(var f=s;f--;){var c=a[f];if(!(i?c in t:g.call(t,c)))return!1}for(var l=i;++f<s;){var d=e[c=a[f]],h=t[c],p=r?r(i?h:d,i?d:h,c):void 0;if(!(void 0===p?n(d,h,r,i,o,u):p))return!1;l=l||"constructor"==c}if(!l){var _=e.constructor,v=t.constructor;if(_!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v))return!1}return!0}},function(e,t,n){var r=n(122),i=n(116),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var u=Object.prototype.toString;e.exports=function(e){return i(e)&&r(e.length)&&!!o[u.call(e)]}},function(e,t,n){var r=n(181),i=n(182);e.exports=function(e){for(var t=i(e),n=t.length;n--;)t[n][2]=r(t[n][1]);return t}},function(e,t,n){var r=n(121);e.exports=function(e){return e==e&&!r(e)}},function(e,t,n){var u=n(130),a=n(141);e.exports=function(e){e=a(e);for(var t=-1,n=u(e),r=n.length,i=Array(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}},function(e,t,n){var a=n(157),s=n(173),f=n(158),c=n(117),l=n(159),d=n(181),h=n(160),p=n(141),_=n(161);e.exports=function(n,r){var i=c(n),o=l(n)&&d(r),u=n+"";return n=_(n),function(e){if(null==e)return!1;var t=u;if(e=p(e),(i||!o)&&!(t in e)){if(null==(e=1==n.length?e:a(e,f(n,0,-1))))return!1;t=h(n),e=p(e)}return e[t]===r?void 0!==r||t in e:s(r,e[t],void 0,!0)}}},function(e,t,n){var r=n(133),i=n(185),o=n(159);e.exports=function(e){return(o(e)?r:i)(e)}},function(e,t,n){var r=n(157),i=n(161);e.exports=function(t){var n=t+"";return t=i(t),function(e){return r(e,t,n)}}},function(e,t){e.exports=function(e,r,t,i){var o;return t(e,function(e,t,n){if(r(e,t,n))return o=i?t:e,!1}),o}},function(e,t){e.exports=function(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(189),i=n(170),o=n(190),u=n(117),a=n(148);e.exports=function(e,t,n){return(u(e)?r:o)(e,t="function"!=typeof(t=n&&a(e,t,n)?void 0:t)||void 0!==n?i(t,n,3):t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},function(e,t,n){var o=n(167);e.exports=function(e,r){var i=!0;return o(e,function(e,t,n){return i=!!r(e,t,n)}),i}},function(e,t,n){var r=n(125),i=n(171);e.exports=function(e){return i(r(e,!0))}},function(y,g,m){var k;!function(r){"use strict";function c(e,t){t=t||0;return n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+"-"+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]+n[e[t++]]}function e(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new a(16):null,e=null);var i=(e=e||{}).random||(e.rng||u)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;o++)t[r+o]=i[o];return t||c(i)}var u,i,t,o;(r?function(){var n,e=r.crypto||r.msCrypto;if(!u&&e&&e.getRandomValues)try{var t=new Uint8Array(16);o=u=function(){return e.getRandomValues(t),t},u()}catch(e){}u||(n=new Array(16),i=u=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()"))}:function(){try{var e=m(193).randomBytes;t=u=e&&function(){return e(16)},u()}catch(e){}})();for(var a="function"==typeof Buffer?Buffer:Array,n=[],s={},f=0;f<256;f++)n[f]=(f+256).toString(16).substr(1),s[n[f]]=f;var l=u(),d=[1|l[0],l[1],l[2],l[3],l[4],l[5]],h=16383&(l[6]<<8|l[7]),p=0,_=0,v=e;v.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=null!=(e=e||{}).clockseq?e.clockseq:h,u=null!=e.msecs?e.msecs:(new Date).getTime(),a=null!=e.nsecs?e.nsecs:_+1;if((n=u-p+(a-_)/1e4)<0&&null==e.clockseq&&(o=o+1&16383),1e4<=(a=(n<0||p<u)&&null==e.nsecs?0:a))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,h=o,a=(1e4*(268435455&(u+=122192928e5))+(_=a))%4294967296,i[r++]=a>>>24&255,i[r++]=a>>>16&255,i[r++]=a>>>8&255,i[r++]=255&a,u=u/4294967296*1e4&268435455,i[r++]=u>>>8&255,i[r++]=255&u,i[r++]=u>>>24&15|16,i[r++]=u>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var s=e.node||d,f=0;f<6;f++)i[r+f]=s[f];return t||c(i)},v.v4=e,v.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=s[e])});i<16;)t[r+i++]=0;return t},v.unparse=c,v.BufferClass=a,v._rng=u,v._mathRNG=i,v._nodeRNG=t,v._whatwgRNG=o,void 0!==y&&y.exports?y.exports=v:void 0===(k=function(){return v}.call(g,m,g,y))||(y.exports=k)}("undefined"!=typeof window?window:null)},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=r(n(81)),u=r(n(195)),a=r(n(198)),s=r(n(226)),f=r(n(258)),o=((0,o.default)(c,[{key:"registerContainerForNotification",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e.apnsToken)return this._registerToken(t,e.apnsToken,e.clientID).then(function(){return t});var n=this._getConnectorForContainer(t);!0===e.refreshToken&&n.clearApnsInfo();var r=n.hasApnsToken?this._registerToken(t,n.apnsToken,e.clientID):this._createToken(t,e.clientID);return e.dontPoll?r:r.then(function(e){e=e.httpResponse.body;return n.consumeApnsInfo(e),n.addNotificationListener(t),t})}},{key:"unregisterContainerForNotification",value:function(e){return this._getConnectorForContainer(e).removeNotificationListener(e)}},{key:"isContainerRegisteredForNotifications",value:function(e){return this._getConnectorForContainer(e).hasNotificationListener(e)}},{key:"_getConnectorForContainer",value:function(e){if(e.apnsEnvironment===u.default.PRODUCTION_ENVIRONMENT)return this._prodApnsConnector;if(e.apnsEnvironment===u.default.DEVELOPMENT_ENVIRONMENT)return this._devApnsConnector;throw s.default.makeConfigurationError("No apnsEnvironment configured for container: "+e.containerIdentifier)}},{key:"_createToken",value:function(e,t){return e.sendRequest((new a.default).setApiModuleName("device").setApiEntityName("tokens").setApiActionName("create").setPayload({apnsEnvironment:e.apnsEnvironment,clientId:t}))}},{key:"_registerToken",value:function(e,t,n){return e.sendRequest((new a.default).setApiModuleName("device").setApiEntityName("tokens").setApiActionName("register").setPayload({apnsEnvironment:e.apnsEnvironment,apnsToken:t,clientId:n}))}}]),c);function c(){(0,i.default)(this,c),this._prodApnsConnector=new f.default(u.default.PRODUCTION_ENVIRONMENT),this._devApnsConnector=new f.default(u.default.DEVELOPMENT_ENVIRONMENT)}t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(196)),n=r(n(197));t.default={CLOUDKIT_LOADED:"cloudkitloaded",PRODUCTION_ENVIRONMENT:"production",DEVELOPMENT_ENVIRONMENT:"development",BUILD_VERSION:i.default,VERSION:n.default,WS_API_VERSION:1,URL_PREFIX:"https://api.apple-cloudkit.com"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="2109ProjectDev33"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="2.6.1"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(214)),f=r(n(218)),c=r(n(226)),l=r(n(227)),d=r(n(257)),h=r(n(195)),p=r(n(85)),_=r(n(229)),v=r(n(112)),y={parameters:{ckjsBuildVersion:h.default.BUILD_VERSION,ckjsVersion:h.default.VERSION},headers:{"content-type":"text/plain"}},u=(d=d.default,(0,f.default)(g,d),(0,u.default)(g,[{key:"setPayload",value:function(e){return this.setMethod("POST"),this.setBody(e),this}},{key:"getPayload",value:function(){return this._body}},{key:"setContainerIdentifier",value:function(e){return this._containerIdentifier=e,this}},{key:"setContainerEnvironment",value:function(e){return this._containerEnvironment=e,this}},{key:"setDatabaseName",value:function(e){return this._databaseName=e,this}},{key:"setApiModuleName",value:function(e){return this._apiModuleName=e,this}},{key:"setApiEntityName",value:function(e){return this._apiEntityName=e,this}},{key:"setApiActionName",value:function(e){return this._apiAction=e,this}},{key:"setResponseClass",value:function(e){return this._responseClass=e,this}},{key:"setApiToken",value:function(e){return this.setParameter("ckAPIToken",e),this}},{key:"setCKSession",value:function(e){return this.setParameter("ckWebAuthToken",encodeURIComponent(e)),this}},{key:"setISODate",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-ISO8601Date",e),this}},{key:"setSigningKeyID",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-KeyID",e),this}},{key:"setSignatureV1",value:function(e){return this.setHeader("X-Apple-CloudKit-Request-SignatureV1",e),this}},{key:"setClientID",value:function(e){return p.default.isNullOrUndefined(e)||this.setParameter("clientId",e),this}},{key:"getPath",value:function(){return"/"+[this._apiModuleName,this._wsApiVersion,this._containerIdentifier,this._containerEnvironment,this._databaseName,this._apiEntityName,this._apiAction].filter(function(e){return!p.default.isNullOrUndefined(e)}).join("/")}},{key:"send",value:function(){var r=this;return(0,s.default)(g.prototype.__proto__||(0,i.default)(g.prototype),"send",this).call(this).catch(function(e){throw _.default.warn(e,e.stack),c.default.makeNetworkError(e)}).then(function(e){var n=e.status,t=e.headers;return e.text().then(function(t){try{return JSON.parse(t)}catch(e){return 503===n?v.default.Promise.reject(c.default.makeServiceUnavailableError()):v.default.Promise.reject(c.default.makeUnexpectedServerResponse("Could not parse json: "+t))}}).then(function(e){if(n<200||300<=n)throw c.default.fromServerError(e);return new r._responseClass(r,{status:n,body:e,headers:t})})})}}]),g);function g(){(0,o.default)(this,g);var e=(0,a.default)(this,(g.__proto__||(0,i.default)(g)).call(this,p.default.assign({},y)));return e._wsApiVersion=h.default.WS_API_VERSION,e._host=h.default.URL_PREFIX,e._containerIdentifier=null,e._containerEnvironment=null,e._databaseName=null,e._containerEnvironment=null,e._apiModuleName=null,e._responseClass=l.default,e}t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(200),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(201)),o=r(n(204)),u="function"==typeof o.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default?"symbol":typeof e};t.default="function"==typeof o.default&&"symbol"===u(i.default)?function(e){return void 0===e?"undefined":u(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default?"symbol":void 0===e?"undefined":u(e)}},function(e,t,n){e.exports={default:n(202),__esModule:!0}},function(e,t,n){n(44),n(56),e.exports=n(203).f("iterator")},function(e,t,n){t.f=n(54)},function(e,t,n){e.exports={default:n(205),__esModule:!0}},function(e,t,n){n(206),n(43),n(212),n(213),e.exports=n(8).Symbol},function(e,t,n){"use strict";function r(e){var t=K[e]=S(U[j]);return t._k=e,t}function i(e,t){E(e);for(var n,r=k(t=O(t)),i=0,o=r.length;i<o;)J(e,n=r[i++],t[n]);return e}function o(e){var t=B.call(this,e=I(e,!0));return!(this===V&&s(K,e)&&!s(H,e))&&(!(t||!s(this,e)||!s(K,e)||s(this,Q)&&this[Q][e])||t)}function u(e,t){if(e=O(e),t=I(t,!0),e!==V||!s(K,t)||s(H,t)){var n=C(e,t);return!n||!s(K,t)||s(e,Q)&&e[Q][t]||(n.enumerable=!0),n}}var a=n(7),s=n(21),f=n(16),c=n(6),l=n(47),d=n(207).KEY,h=n(17),p=n(34),_=n(53),v=n(36),y=n(54),g=n(203),m=n(208),k=n(209),b=n(210),E=n(13),N=n(14),O=n(25),I=n(19),w=n(20),S=n(50),A=n(104),R=n(211),T=n(12),L=n(23),C=R.f,x=T.f,M=A.f,U=a.Symbol,D=a.JSON,P=D&&D.stringify,j="prototype",Q=y("_hidden"),F=y("toPrimitive"),B={}.propertyIsEnumerable,z=p("symbol-registry"),K=p("symbols"),H=p("op-symbols"),V=Object[j],q="function"==typeof U,W=a.QObject,Z=!W||!W[j]||!W[j].findChild,G=f&&h(function(){return 7!=S(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(V,t);r&&delete V[t],x(e,t,n),r&&e!==V&&x(V,t,r)}:x,Y=q&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},J=function(e,t,n){return e===V&&J(H,t,n),E(e),t=I(t,!0),E(n),s(K,t)?(n.enumerable?(s(e,Q)&&e[Q][t]&&(e[Q][t]=!1),n=S(n,{enumerable:w(0,!1)})):(s(e,Q)||x(e,Q,w(1,{})),e[Q][t]=!0),G(e,t,n)):x(e,t,n)},p=function(e){for(var t,n=M(O(e)),r=[],i=0;n.length>i;)s(K,t=n[i++])||t==Q||t==d||r.push(t);return r},W=function(e){for(var t,n=e===V,r=M(n?H:O(e)),i=[],o=0;r.length>o;)!s(K,t=r[o++])||n&&!s(V,t)||i.push(K[t]);return i};q||(l((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var t=v(0<arguments.length?arguments[0]:void 0),n=function(e){this===V&&n.call(H,e),s(this,Q)&&s(this[Q],t)&&(this[Q][t]=!1),G(this,t,w(1,e))};return f&&Z&&G(V,t,{configurable:!0,set:n}),r(t)})[j],"toString",function(){return this._k}),R.f=u,T.f=J,n(105).f=A.f=p,n(39).f=o,n(38).f=W,f&&!n(35)&&l(V,"propertyIsEnumerable",o,!0),g.f=function(e){return r(y(e))}),c(c.G+c.W+c.F*!q,{Symbol:U});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),$=0;X.length>$;)y(X[$++]);for(var ee=L(y.store),te=0;ee.length>te;)m(ee[te++]);c(c.S+c.F*!q,"Symbol",{for:function(e){return s(z,e+="")?z[e]:z[e]=U(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),c(c.S+c.F*!q,"Object",{create:function(e,t){return void 0===t?S(e):i(S(e),t)},defineProperty:J,defineProperties:i,getOwnPropertyDescriptor:u,getOwnPropertyNames:p,getOwnPropertySymbols:W}),D&&c(c.S+c.F*(!q||h(function(){var e=U();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(N(t)||void 0!==e)&&!Y(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,P.apply(D,r)}}),U[j][F]||n(11)(U[j],F,U[j].valueOf),_(U,"Symbol"),_(Math,"Math",!0),_(a.JSON,"JSON",!0)},function(e,t,n){function r(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})}var i=n(36)("meta"),o=n(14),u=n(21),a=n(12).f,s=0,f=Object.isExtensible||function(){return!0},c=!n(17)(function(){return f(Object.preventExtensions({}))}),l=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!u(e,i)){if(!f(e))return"F";if(!t)return"E";r(e)}return e[i].i},getWeak:function(e,t){if(!u(e,i)){if(!f(e))return!0;if(!t)return!1;r(e)}return e[i].w},onFreeze:function(e){return c&&l.NEED&&f(e)&&!u(e,i)&&r(e),e}}},function(e,t,n){var r=n(7),i=n(8),o=n(35),u=n(203),a=n(12).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=!o&&r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:u.f(e)})}},function(e,t,n){var a=n(23),s=n(38),f=n(39);e.exports=function(e){var t=a(e),n=s.f;if(n)for(var r,i=n(e),o=f.f,u=0;i.length>u;)o.call(e,r=i[u++])&&t.push(r);return t}},function(e,t,n){var r=n(27);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(39),i=n(20),o=n(25),u=n(19),a=n(21),s=n(15),f=Object.getOwnPropertyDescriptor;t.f=n(16)?f:function(e,t){if(e=o(e),t=u(t,!0),s)try{return f(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(208)("asyncIterator")},function(e,t,n){n(208)("observable")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(n(106)),u=r(n(215));t.default=function e(t,n,r){null===t&&(t=Function.prototype);var i=(0,u.default)(t,n);if(void 0===i){t=(0,o.default)(t);return null===t?void 0:e(t,n,r)}if("value"in i)return i.value;i=i.get;return void 0!==i?i.call(r):void 0}},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t,n){n(217);var r=n(8).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(25),i=n(211).f;n(98)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(219)),o=r(n(223)),u=r(n(200));t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,u.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){e.exports={default:n(220),__esModule:!0}},function(e,t,n){n(221),e.exports=n(8).Object.setPrototypeOf},function(e,t,n){var r=n(6);r(r.S,"Object",{setPrototypeOf:n(222).set})},function(e,t,i){function o(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=i(14),r=i(13);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i(9)(Function.call,i(211).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(224),__esModule:!0}},function(e,t,n){n(225);var r=n(8).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(6);r(r.S,"Object",{create:n(50)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=r(n(219)),u=r(n(223)),l=r(n(106)),d=r(n(80)),a=r(n(81)),h=r(n(199)),s=r(n(218)),p=r(n(85)),f="ACCESS_DENIED",c="ATOMIC_ERROR",_="AUTHENTICATION_FAILED",v="AUTHENTICATION_REQUIRED",y="BAD_REQUEST",g="CONFLICT",m="INTERNAL_ERROR",k="NOT_FOUND",b="QUOTA_EXCEEDED",E="THROTTLED",N="TRY_AGAIN_LATER",O="UNIQUE_FIELD_ERROR",I="VALIDATING_REFERENCE_ERROR",w="ZONE_NOT_FOUND",S="ZONE_BUSY",A=[f,c,_,v,y,g,"EXISTS",m,k,b,E,N,O,I,w,S],R="UNKNOWN_ERROR",T="NETWORK_ERROR",L="SERVICE_UNAVAILABLE",C="INVALID_ARGUMENTS",x="UNEXPECTED_SERVER_RESPONSE",M="CONFIGURATION_ERROR",U="AUTH_PERSIST_ERROR",D="SIGN_IN_FAILED",P="SHARE_UI_TIMEOUT",j=[R,T,L,C,x,M,U,D],Q={AUTH_PERSIST_ERROR:"Could not read or write ckSession",SIGN_IN_FAILED:"Error in sign in popup"},a=(i=Error,B.prototype=(0,u.default)(i.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o.default?(0,o.default)(B,i):B.__proto__=i,B,(0,s.default)(F,B),(0,a.default)(F,[{key:"toString",value:function(){return p.default.instanceToString("CKError",this)}},{key:"toJSON",value:function(){return{uuid:this._uuid,serverErrorCode:this._serverErrorCode,extensionErrorCode:this._extensionErrorCode,reason:this._reason,retryAfter:this._retryAfter,subscriptionID:this._subscriptionID,recordName:this._recordName,zoneID:this._zoneID,redirectURL:this._redirectURL,ckErrorCode:this._ckErrorCode}}},{key:"ckErrorCode",get:function(){return this._ckErrorCode}},{key:"uuid",get:function(){return this._uuid}},{key:"reason",get:function(){return this._reason}},{key:"serverErrorCode",get:function(){return this._serverErrorCode}},{key:"extensionErrorCode",get:function(){return this._extensionErrorCode}},{key:"retryAfter",get:function(){return this._retryAfter}},{key:"subscriptionID",get:function(){return this._subscriptionID}},{key:"recordName",get:function(){return this._recordName}},{key:"zoneID",get:function(){return this._zoneID}},{key:"redirectURL",get:function(){return this._redirectURL}},{key:"isError",get:function(){return!0}},{key:"isCKError",get:function(){return!0}},{key:"isServerError",get:function(){return null!==this.serverErrorCode}},{key:"isServerExtensionError",get:function(){return null!==this.extensionErrorCode}}],[{key:"isErrorObject",value:function(e){var t=e.serverErrorCode,e=e.extensionErrorCode;return!p.default.isNullOrUndefined(t)||!p.default.isNullOrUndefined(e)}},{key:"isKnownServerErrorCode",value:function(t){return A.some(function(e){return e===t})}},{key:"isKnownCKErrorCode",value:function(t){return j.some(function(e){return e===t})}},{key:"fromServerError",value:function(e){return p.default.isNullOrUndefined(e.redirectUrl)||(e.redirectURL=e.redirectUrl),p.default.isNullOrUndefined(e.subscriptionId)||(e.subscriptionID=e.subscriptionId),new F(e)}},{key:"fromErrorCode",value:function(e,t){var n=Q[e];return p.default.isNullOrUndefined(n)&&(n=e),p.default.isNullOrUndefined(t)||(n+=": "+t),new F({ckErrorCode:e,reason:n})}},{key:"makeNetworkError",value:function(){return F.fromErrorCode(T)}},{key:"makeInvalidArguments",value:function(e){return F.fromErrorCode(C,e)}},{key:"makeUnexpectedServerResponse",value:function(e){return F.fromErrorCode(x,e)}},{key:"makeConfigurationError",value:function(e){return F.fromErrorCode(M,e)}},{key:"makeServiceUnavailableError",value:function(){return F.fromErrorCode(L)}},{key:"makeAuthPersistError",value:function(){return F.fromErrorCode(U)}},{key:"makeSignInFailedError",value:function(e){return F.fromErrorCode(D,e.errorMessage)}},{key:"makeUnknownError",value:function(){return F.fromErrorCode(R)}},{key:"makeShareUITimeout",value:function(){return F.fromErrorCode(P)}},{key:"ACCESS_DENIED",get:function(){return f}},{key:"ATOMIC_ERROR",get:function(){return c}},{key:"AUTHENTICATION_FAILED",get:function(){return _}},{key:"AUTHENTICATION_REQUIRED",get:function(){return v}},{key:"BAD_REQUEST",get:function(){return y}},{key:"CONFLICT",get:function(){return g}},{key:"EXISTS",get:function(){return"EXISTS"}},{key:"INTERNAL_ERROR",get:function(){return m}},{key:"NOT_FOUND",get:function(){return k}},{key:"QUOTA_EXCEEDED",get:function(){return b}},{key:"THROTTLED",get:function(){return E}},{key:"TRY_AGAIN_LATER",get:function(){return N}},{key:"VALIDATING_REFERENCE_ERROR",get:function(){return I}},{key:"UNIQUE_FIELD_ERROR",get:function(){return O}},{key:"ZONE_NOT_FOUND",get:function(){return w}},{key:"UNKNOWN_ERROR",get:function(){return R}},{key:"NETWORK_ERROR",get:function(){return T}},{key:"SERVICE_UNAVAILABLE",get:function(){return L}},{key:"INVALID_ARGUMENTS",get:function(){return C}},{key:"UNEXPECTED_SERVER_RESPONSE",get:function(){return x}},{key:"CONFIGURATION_ERROR",get:function(){return M}},{key:"AUTH_PERSIST_ERROR",get:function(){return U}},{key:"SIGN_IN_FAILED",get:function(){return D}},{key:"SHARE_UI_TIMEOUT",get:function(){return P}},{key:"ZONE_BUSY",get:function(){return S}}]),F);function F(e){var t=e.uuid,n=e.serverErrorCode,r=e.extensionErrorCode,i=e.reason,o=e.retryAfter,u=e.subscriptionID,a=e.recordName,s=e.zoneID,f=e.redirectURL,c=e.ckErrorCode;(0,d.default)(this,F);e=(0,h.default)(this,(F.__proto__||(0,l.default)(F)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(e,e.constructor),p.default.isNullOrUndefined(c)&&(c=F.isKnownServerErrorCode(n)?n:R),e._ckErrorCode=c,e._uuid=t,e._reason=p.default.isNullOrUndefined(i)?c:i,e._serverErrorCode=n,e._extensionErrorCode=r,e._retryAfter=o,e._recordName=a,e._subscriptionID=u,e._zoneID=s,e._redirectURL=f,e.message=e._reason,e}function B(){i.apply(this,arguments)}t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(199)),u=r(n(218)),a=r(n(80)),s=r(n(81)),f=r(n(85)),c=r(n(226)),l=r(n(228)),n=((0,s.default)(d,[{key:"getCKSession",value:function(){var e=null;try{e=l.default.readHeader(this.httpResponse.headers,"x-apple-cloudkit-web-auth-token")}catch(e){}return e=f.default.isNullOrUndefined(e)?l.default.readHeader(this.httpResponse.headers,"x-apple-cloudkit-session"):e}},{key:"request",get:function(){return this._request}},{key:"httpResponse",get:function(){return this._httpResponse}},{key:"errors",get:function(){return this._errors}},{key:"hasErrors",get:function(){var e=this.errors;return e&&0<e.length}},{key:"isResponse",get:function(){return!0}}],[{key:"createGenericResponseClass",value:function(n){return(0,u.default)(r,d),(0,s.default)(r,[{key:n,get:function(){return this._results}}]),r;function r(e,t){return(0,a.default)(this,r),(0,o.default)(this,(r.__proto__||(0,i.default)(r)).call(this,e,t,n))}}}]),d);function d(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if((0,a.default)(this,d),f.default.assertArg(e,"request cannot be null"),f.default.assertArg(t,"httpResponse cannot be null"),this._request=e,this._httpResponse=t,null!==n){t=t.body[n];if(!f.default.isArray(t))throw c.default.makeUnexpectedServerResponse();n=t.reduce(function(e,t){return c.default.isErrorObject(t)?e.errors.push(c.default.fromServerError(t)):e.results.push(t),e},{results:[],errors:[]}),t=n.results,n=n.errors;this._errors=n,this._results=t}}t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(80)),u=r(n(81)),a=r(n(85)),s=r(n(229)),f=r(n(230)),c=r(n(112)),l=r(n(231)),u=new((0,u.default)(d,[{key:"setDelegate",value:function(e){if(a.default.isNullOrUndefined(e)){if(a.default.isNode())throw new Error("No fetch delegate.");this._delegate=l.default}else this._delegate=e}},{key:"fetch",value:function(e){var t=f.default.newNetworkStat(e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),n=(0,i.default)({Promise:c.default.Promise},n);return this.fetchWithoutReporting(e,n).catch(function(e){throw t.networkError(e),e}).then(function(e){return 500<=e.status&&e.status<600&&t.error5XX(e),e})}},{key:"fetchJSON",value:function(e,t){return this.fetch(e,t).then(function(e){return e.json()})}},{key:"fetchWithoutReporting",value:function(e,t){return this._delegate.apply(null,[e,t,l.default])}},{key:"readHeader",value:function(e,t){try{if(a.default.isNullOrUndefined(e))return null;if(a.default.isFunction(e.get))return e.get(t);if(!a.default.isNullOrUndefined(e[t]))return e[t]}catch(e){s.default.warn("Error reading header: "+t+" "+e+"}")}return null}}]),d);function d(){(0,o.default)(this,d),a.default.isNode()||this.setDelegate(l.default)}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});function i(){return u.default.isNullOrUndefined(s)?"undefined"!=typeof CloudKit&&CloudKit.logToConsole?console:void 0:s}var o=r(n(86)),u=r(n(85)),a="CloudKitJS",s=null,n={setDelegate:function(e){s=e},info:function(){var e=i();if(!u.default.isNullOrUndefined(e)&&u.default.isFunction(e.info)){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.info.apply(e,(0,o.default)([a].concat(n)))}},warn:function(){var e=i();if(!u.default.isNullOrUndefined(e)&&u.default.isFunction(e.warn)){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.warn.apply(e,(0,o.default)([a].concat(n)))}},error:function(){var e=i();if(!u.default.isNullOrUndefined(e)&&u.default.isFunction(e.error)){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.error.apply(e,(0,o.default)([a].concat(n)))}}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){e=v.exec(e);return{host:e[10],pathName:e[13]}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(99)),u=r(n(2)),a=r(n(106)),s=r(n(199)),f=r(n(214)),c=r(n(218)),l=r(n(80)),d=r(n(81)),h=r(n(195)),p=r(n(228)),_=r(n(226)),v=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,y=function(){try{return i(window.location.href)}catch(e){return{}}}(),g=((0,d.default)(O,[{key:"report",value:function(){this._reporting.reportStat(this)}},{key:"toJSON",value:function(){return{appName:"CKJS",ckjsBuildVersion:h.default.BUILD_VERSION,statName:this._statName,message:this._message,clientTiming:(new Date).getTime()-this._start,hostname:this._hostname,urlPath:this._urlPath}}}]),O),m=(n=g,(0,c.default)(N,n),(0,d.default)(N,[{key:"networkError",value:function(){this._statName="CKJSNetworkError",this.report()}},{key:"error5XX",value:function(e){this._statName="CKJSStatus5XX",this._statusCode=e.status,this._requestUUID=p.default.readHeader(e.headers,"X-Apple-Request-UUID"),this.report()}},{key:"toJSON",value:function(){return(0,u.default)({},(0,f.default)(N.prototype.__proto__||(0,a.default)(N.prototype),"toJSON",this).call(this),{httpMethod:this._httpMethod,requestUUID:this._requestUUID,statusCode:this._statusCode})}}]),N),k=(n=g,(0,c.default)(E,n),(0,d.default)(E,[{key:"didRun",value:function(){this._statName="CKJSSharingFlowDidRun",this.report()}},{key:"didError",value:function(e){_.default.SHARE_UI_TIMEOUT===e.ckErrorCode?this._statName="CKJSSharingFlowTimeout":this._statName="CKJSSharingFlowError",this.report()}}]),E),d=new((0,d.default)(b,[{key:"reportStat",value:function(e){this._stats.push(e.toJSON())}},{key:"_flushLater",value:function(){var e=this;setTimeout(function(){return e._flush()},15e3)}},{key:"_flush",value:function(){0<this._stats.length&&(p.default.fetchWithoutReporting(function(){try{if(i(window.location.href).host.endsWith("icloud.com"))return"https://feedbackws.icloud.com/reportStats"}catch(e){}return"https://feedbackws.apple-cloudkit.com/reportStats"}(),{method:"POST",body:(0,o.default)({stats:this._stats}),credentials:"omit",headers:{"content-type":"text/plain"}}),this._stats=[]),this._flushLater()}},{key:"newNetworkStat",value:function(e,t){return new m(this,e,t)}},{key:"newSharingFlowStat",value:function(){return new k(this)}},{key:"reportDeprecatedOptionUsed",value:function(e){new g(this,"CKJSDeprecatedOptions",e).report()}},{key:"reportDeprecatedConfigurationUsed",value:function(e){new g(this,"CKJSDeprecatedConfig",e).report()}},{key:"reportDeprecatedMethodUsed",value:function(e,t){new g(this,"CKJSDeprecatedMethod",e+"->"+t).report()}},{key:"reportUnexpectedAuthError",value:function(){new g(this,"CKJSUnexpectedAuthError").report()}}]),b);function b(){(0,l.default)(this,b),this._stats=[],this._flushLater()}function E(e){return(0,l.default)(this,E),(0,s.default)(this,(E.__proto__||(0,a.default)(E)).call(this,e))}function N(e,t,n){(0,l.default)(this,N);var r=(0,s.default)(this,(N.__proto__||(0,a.default)(N)).call(this,e)),e=i(t),t=e.host,e=e.pathName;return r._hostname=t,r._urlPath=e,r._httpMethod=n.method,r}function O(e,t,n){(0,l.default)(this,O),this._reporting=e,this._start=(new Date).getTime(),this._statName=t,this._message=n,this._hostname=y.host,this._urlPath=y.pathName}t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(106)),o=r(n(199)),u=r(n(218)),a=r(n(41)),s=r(n(232)),f=r(n(235)),c=r(n(101)),l=r(n(251)),d=r(n(80)),n=r(n(81));t.default=function(e,t){return new _(e,t).fetch()};var h=((0,n.default)(m,[{key:"append",value:function(e,t){e=e.toLowerCase(),this.has(e)?this.getAll(e).add(t):this.set(e,t)}},{key:"delete",value:function(e){e=e.toLowerCase(),this._headers.delete(e)}},{key:"get",value:function(e){e=e.toLowerCase();e=this.getAll(e);return 0===e.size?null:e.values().next().value}},{key:"getAll",value:function(e){return e=e.toLowerCase(),this.has(e)?this._headers.get(e):new f.default}},{key:"has",value:function(e){return e=e.toLowerCase(),this._headers.has(e)}},{key:"set",value:function(e,t){e=e.toLowerCase(),this._headers.set(e,(new f.default).add(t))}},{key:"forEach",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this._headers.keys());!(t=(i=o.next()).done);t=!0){var u=i.value;e(u,this._headers.get(u))}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}],[{key:"fromXHR",value:function(e){var n=new m;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var e=e.trim().split(":"),t=e.shift().trim();e.join(":").trim().split(";").forEach(function(e){n.append(t,e.trim())})}),n}}]),m),t=((0,n.default)(g,[{key:"text",value:function(){return this.bodyUsed?this._Promise.reject(new TypeError("Body already used")):(this.bodyUsed=!0,this._Promise.resolve(this._payload))}},{key:"json",value:function(){return this.text().then(JSON.parse)}},{key:"blob",value:function(){return this._Promise.resolve(new Blob([this._payload]))}}]),g),p=((0,u.default)(y,t),y),_=((0,u.default)(v,t),(0,n.default)(v,[{key:"fetch",value:function(){var u=this;return new this._Promise(function(n,r){var i=new XMLHttpRequest;"include"===u.credentials&&(i.withCredentials=!0);function o(){i.removeEventListener("load",e),i.removeEventListener("error",o),r(new TypeError("Network failure"))}var e=function e(){i.removeEventListener("load",e),i.removeEventListener("error",o);var t=i.status;t<100||599<t?r(new TypeError("Network failure")):(t={status:t,statusText:i.statusText,headers:h.fromXHR(i),url:i.responseURL,Promise:u._Promise},n(new p(i.responseText,t)))};i.addEventListener("load",e),i.addEventListener("error",o),u.options&&u.options.exposeImplementation&&u.options.exposeImplementation(i),i.open(u.method,u.url,!0),u.headers.forEach(function(t,e){e.forEach(function(e){i.setRequestHeader(t,e)})}),i.send(void 0===u._payload?null:u._payload)})}}]),v);function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,d.default)(this,v);var n=(0,o.default)(this,(v.__proto__||(0,i.default)(v)).call(this,t.body,t));return n.url=e,n.credentials=t.credentials||"omit",n.headers=new h(t.headers),n.method=t.method?t.method.toUpperCase():"GET",n.mode=t.mode||null,n.options=t,n}function y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,d.default)(this,y);e=(0,o.default)(this,(y.__proto__||(0,i.default)(y)).call(this,e,t));return e.type="default",e.url=null,e.status=t.status,e.statusText=t.statusText,e.headers=t.headers,e.url=t.url||"",e}function g(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,d.default)(this,g),this._payload=e,this.bodyUsed=!1,this._Promise=t.Promise||a.default}function m(t){var n=this;(0,d.default)(this,m),this._headers=new l.default,t instanceof m?t.forEach(function(t,e){return e.forEach(function(e){return n.append(t,e)})}):t&&(0,c.default)(t).forEach(function(e){return n.append(e,t[e])})}},function(e,t,n){e.exports={default:n(233),__esModule:!0}},function(e,t,n){n(56),n(44),e.exports=n(234)},function(e,t,n){var r=n(13),i=n(66);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){e.exports={default:n(236),__esModule:!0}},function(e,t,n){n(43),n(44),n(56),n(237),n(244),n(247),n(249),e.exports=n(8).Set},function(e,t,n){"use strict";var r=n(238),i=n(239);e.exports=n(240)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";function u(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n}var a=n(12).f,s=n(50),f=n(75),c=n(9),l=n(62),d=n(63),r=n(46),i=n(59),o=n(76),h=n(16),p=n(207).fastKey,_=n(239),v=h?"_s":"size";e.exports={getConstructor:function(e,i,n,r){var o=e(function(e,t){l(e,o,i,"_i"),e._t=i,e._i=s(null),e._f=void 0,e._l=void 0,e[v]=0,null!=t&&d(t,n,e[r],e)});return f(o.prototype,{clear:function(){for(var e=_(this,i),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var t,n=_(this,i),r=u(n,e);return r&&(t=r.n,e=r.p,delete n._i[r.i],r.r=!0,e&&(e.n=t),t&&(t.p=e),n._f==r&&(n._f=t),n._l==r&&(n._l=e),n[v]--),!!r},forEach:function(e){_(this,i);for(var t,n=c(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!u(_(this,i),e)}}),h&&a(o.prototype,"size",{get:function(){return _(this,i)[v]}}),o},def:function(e,t,n){var r,i=u(e,t);return i?i.v=n:(e._l=i={i:r=p(t,!0),k:t,v:n,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[v]++,"F"!==r&&(e._i[r]=i)),e},getEntry:u,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=_(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?i(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,i(1))},t?"entries":"values",!t,!0),o(n)}}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var l=n(7),d=n(6),h=n(207),p=n(17),_=n(11),v=n(75),y=n(63),g=n(62),m=n(14),k=n(53),b=n(12).f,E=n(241)(0),N=n(16);e.exports=function(n,e,t,r,i,o){var u=l[n],a=u,s=i?"set":"add",f=a&&a.prototype,c={};return N&&"function"==typeof a&&(o||f.forEach&&!p(function(){(new a).entries().next()}))?(a=e(function(e,t){g(e,a,n,"_c"),e._c=new u,null!=t&&y(t,i,e[s],e)}),E("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(n){var r="add"==n||"set"==n;n in f&&(!o||"clear"!=n)&&_(a.prototype,n,function(e,t){if(g(this,a,n),!r&&o&&!m(e))return"get"==n&&void 0;t=this._c[n](0===e?0:e,t);return r?this:t})}),o||b(a.prototype,"size",{get:function(){return this._c.size}})):(a=r.getConstructor(e,n,i,s),v(a.prototype,t),h.NEED=!0),k(a,n),c[n]=a,d(d.G+d.W+d.F,c),o||r.setStrong(a,n,i),a}},function(e,t,n){var m=n(9),k=n(26),b=n(40),E=n(30),r=n(242);e.exports=function(l,e){var d=1==l,h=2==l,p=3==l,_=4==l,v=6==l,y=5==l||v,g=e||r;return function(e,t,n){for(var r,i,o=b(e),u=k(o),a=m(t,n,3),s=E(u.length),f=0,c=d?g(e,s):h?g(e,0):void 0;f<s;f++)if((y||f in u)&&(i=a(r=u[f],f,o),l))if(d)c[f]=i;else if(i)switch(l){case 3:return!0;case 5:return r;case 6:return f;case 2:c.push(r)}else if(_)return!1;return v?-1:p||_?_:c}}},function(e,t,n){var r=n(243);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(14),i=n(210),o=n(54)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(null===(t=t[o])&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){var r=n(6);r(r.P+r.R,"Set",{toJSON:n(245)("Set")})},function(e,t,n){var r=n(61),i=n(246);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(63);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(248)("Set")},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(250)("Set")},function(e,t,n){"use strict";var r=n(6),u=n(10),a=n(9),s=n(63);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,i,o=arguments[1];return u(this),(t=void 0!==o)&&u(o),null==e?new this:(n=[],t?(r=0,i=a(o,arguments[2],2),s(e,!1,function(e){n.push(i(e,r++))})):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(252),__esModule:!0}},function(e,t,n){n(43),n(44),n(56),n(253),n(254),n(255),n(256),e.exports=n(8).Map},function(e,t,n){"use strict";var r=n(238),i=n(239);e.exports=n(240)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=r.getEntry(i(this,"Map"),e);return e&&e.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(6);r(r.P+r.R,"Map",{toJSON:n(245)("Map")})},function(e,t,n){n(248)("Map")},function(e,t,n){n(250)("Map")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(95)),o=r(n(99)),u=r(n(80)),a=r(n(81)),s=r(n(228)),f=r(n(85)),a=((0,a.default)(c,[{key:"setMethod",value:function(e){return this._method=e,this}},{key:"setHost",value:function(e){return this._host=e,this}},{key:"setPath",value:function(e){return this._path=e,this}},{key:"setBody",value:function(e){return this._body=e,this}},{key:"getBody",value:function(){return this._body}},{key:"getBodyStringified",value:function(){return f.default.isString(this._body)||f.default.isNullOrUndefined(this._body)?this._body:(0,o.default)(this._body)}},{key:"setHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"addHeaders",value:function(e){return this._headers=f.default.assign(this._headers,e),this}},{key:"setParameter",value:function(e,t){var n={};return n[e]=t,this.addParams(n),this}},{key:"addParams",value:function(e){return this._params=f.default.assign(this._params,e),this}},{key:"getParameterString",value:function(){var n=this._params;return f.default.isNullOrUndefined(n)?"":(0,i.default)(n).reduce(function(e,t){return e+t+"="+n[t]+"&"},"?").slice(0,-1)}},{key:"getPath",value:function(){return this._path}},{key:"getPathWithParams",value:function(){return this.getPath()+this.getParameterString()}},{key:"getFullURL",value:function(){return this._host?this._host+this.getPathWithParams():this.getPathWithParams()}},{key:"send",value:function(){var e=this.getFullURL(),t=this._method,n=this._headers,r=this.getBodyStringified();return s.default.fetch(e,{method:t,headers:n,body:r,credentials:"same-origin"})}}]),c);function c(e){var t=e.host,n=void 0===t?null:t,r=e.parameters,t=void 0===r?{}:r,r=e.headers,r=void 0===r?{}:r,e=e.body,e=void 0===e?null:e;(0,u.default)(this,c),this._host=n,this._path="",this._params=f.default.assign({},t),this._headers=f.default.assign({},r),this._body=f.default.isNullOrUndefined(e)?void 0:e,this._method=f.default.isNullOrUndefined(e)?"GET":"POST"}t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(235)),o=r(n(80)),u=r(n(81)),a=r(n(85)),s=r(n(228)),f=r(n(229)),u=((0,u.default)(c,[{key:"consumeApnsInfo",value:function(e){var t=e.apnsToken,e=e.webcourierURL;this._apnsToken=t,this._urlPath=e}},{key:"clearApnsInfo",value:function(){this._apnsToken=null,this._urlPath=null}},{key:"_canParkConnection",value:function(){return!this._isPolling&&this.hasApnsToken&&0<this._notificationListeners.size}},{key:"_parkConnection",value:function(){var t=this;this._canParkConnection()&&(this._isPolling=!0,s.default.fetchJSON(this._urlPath).then(function(e){t._isPolling=!1;try{t._handleNotification(e)}catch(e){throw f.default.warn("Error",e),e}t._failureBackoff=10,setTimeout(function(){return t._parkConnection()},10)}).catch(function(e){t._isPolling=!1,f.default.warn("Error",e),setTimeout(function(){return t._parkConnection()},t._failureBackoff),t._failureBackoff=Math.min(1e3,10*t._failureBackoff)}))}},{key:"_handleNotification",value:function(t){t&&this._notificationListeners.forEach(function(e){a.default.isFunction(e)?e(t):a.default.isFunction(e.handleNotification)&&e.handleNotification(t)})}},{key:"addNotificationListener",value:function(e){if(!a.default.isFunction(e)&&!a.default.isFunction(e.handleNotification))throw new Error('notification listener must be either a function or an object with a function called "handleNotification"');return this._notificationListeners.add(e),this._parkConnection(),e}},{key:"removeNotificationListener",value:function(e){return this._notificationListeners.delete(e),e}},{key:"hasNotificationListener",value:function(e){return this._notificationListeners.has(e)}},{key:"apnsToken",get:function(){return this._apnsToken}},{key:"hasApnsToken",get:function(){return!a.default.isNullOrUndefined(this._urlPath)&&!a.default.isNullOrUndefined(this._apnsToken)}}]),c);function c(e){(0,o.default)(this,c),this._apnsEnvironment=e,this._apnsToken=null,this._notificationListeners=new i.default,this._isPolling=!1,this._urlPath=null,this._failureBackoff=10}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(235)),o=r(n(80)),u=r(n(81)),a=r(n(260)),s=r(n(85)),f=r(n(198)),c=r(n(288)),l=r(n(289)),d=r(n(290)),h=r(n(294)),p=r(n(195)),_=r(n(263)),v=r(n(229)),y=r(n(112)),u=((0,u.default)(g,[{key:"getDatabaseWithDatabaseScope",value:function(e){return e===_.default.PUBLIC?this.publicCloudDatabase:e===_.default.PRIVATE?this.privateCloudDatabase:e===_.default.SHARED?this.sharedCloudDatabase:void 0}},{key:"setUpAuth",value:function(){return this._auth.setup()}},{key:"whenUserSignsIn",value:function(){return this._auth.whenUserSignsIn()}},{key:"whenUserSignsOut",value:function(){return this._auth.whenUserSignsOut()}},{key:"signOut",value:function(){this._auth.signOut()}},{key:"fetchCurrentUserIdentity",value:function(){var e=(new f.default).setApiEntityName("users").setApiActionName("caller");return this.publicCloudDatabase.sendRequest(e).then(function(e){return e.httpResponse.body})}},{key:"discoverUserIdentities",value:function(e){s.default.assertArg(e,"at least one UserLookupInfo required");e=s.default.asArray(e),e=(new f.default).setApiEntityName("users").setApiActionName("discover").setPayload({lookupInfos:e}).setResponseClass(c.default);return this.publicCloudDatabase.sendRequest(e)}},{key:"discoverUserIdentityWithEmailAddress",value:function(e){return this.discoverUserIdentities([{emailAddress:e}])}},{key:"discoverUserIdentityWithPhoneNumber",value:function(e){return this.discoverUserIdentities([{phoneNumber:e}])}},{key:"discoverUserIdentityWithUserRecordName",value:function(e){return this.discoverUserIdentities([{userRecordName:e}])}},{key:"discoverAllUserIdentities",value:function(){var e=(new f.default).setApiEntityName("users").setApiActionName("discover").setResponseClass(c.default);return this.publicCloudDatabase.sendRequest(e)}},{key:"addNotificationListener",value:function(e){return this._notificationListeners.add(e),this}},{key:"removeNotificationListener",value:function(e){return this._notificationListeners.delete(e),this}},{key:"handleNotification",value:function(t){v.default.info("Notification",t,"handled by",this),t=d.default.parseRawNotification(t)||t,this._notificationListeners.forEach(function(e){s.default.tryInvokeFunction(e,[t],"Error while invoking "+e+" with "+t)})}},{key:"registerForNotifications",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.clientID=e.clientId||e.clientID||this.getConfig().clientID,this._apnsManager.registerContainerForNotification(this,e)}},{key:"unregisterForNotifications",value:function(){return this._apnsManager.unregisterContainerForNotification(this)}},{key:"fetchRecordInfos",value:function(e){e=s.default.asArray(e).map(function(e){return s.default.isString(e)?{value:e}:e});e=(new f.default).setApiEntityName("records").setApiActionName("resolve").setPayload({shortGUIDs:e}).setResponseClass(l.default);return this._publicDatabase.sendRequest(e)}},{key:"acceptShares",value:function(e){e=s.default.asArray(e).map(function(e){return s.default.isString(e)?{value:e}:e});e=(new f.default).setApiEntityName("records").setApiActionName("accept").setPayload({shortGUIDs:e}).setResponseClass(l.default);return this._publicDatabase.sendRequest(e)}},{key:"getConfig",value:function(){return s.default.assign({},this._config,this._auth.getConfig())}},{key:"sendRequest",value:function(e){e.setContainerIdentifier(this.containerIdentifier),e.setContainerEnvironment(this.environment),e.setClientID(this._config.clientID);var t=this._auth.requestHandler(),n=this._auth.responseHandler();return y.default.Promise.resolve(e).then(t).then(function(e){return e.send()}).then(n)}},{key:"toString",value:function(){return s.default.instanceToString("Container",this)}},{key:"containerIdentifier",get:function(){return this._containerIdentifier}},{key:"publicCloudDatabase",get:function(){return this._publicDatabase}},{key:"privateCloudDatabase",get:function(){return this._privateDatabase}},{key:"sharedCloudDatabase",get:function(){return this._sharedDatabase}},{key:"apnsEnvironment",get:function(){return this._apnsEnvironment}},{key:"environment",get:function(){return this._environment}},{key:"isRegisteredForNotifications",get:function(){return this._apnsManager.isContainerRegisteredForNotifications(this)}}]),g);function g(e){var t=e.containerConfig,n=e.apnsManager,e=e.authTokenStore;(0,o.default)(this,g),this._config=t,this._apnsManager=n,this._containerIdentifier=t.containerIdentifier,this._environment=t.environment||p.default.DEVELOPMENT_ENVIRONMENT,this._apnsEnvironment=t.apnsEnvironment||p.default.DEVELOPMENT_ENVIRONMENT,this._publicDatabase=new a.default(this,_.default.PUBLIC,t.publicDatabasePartition),this._privateDatabase=new a.default(this,_.default.PRIVATE,t.privateDatabasePartition),this._sharedDatabase=new a.default(this,_.default.SHARED,void 0!==t.sharedDatabasePartition?t.sharedDatabasePartition:t.privateDatabasePartition),this._notificationListeners=new i.default,this._auth=h.default.createAuth({container:this,containerConfig:t,authTokenStore:e})}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function i(e){return{syncToken:e.syncToken}}var o=r(n(80)),u=r(n(81)),a=r(n(261)),s=r(n(229)),f=(r(n(230)),n(85)),c=r(f),l=r(n(262)),d=r(n(263)),h=r(n(264)),p=r(n(266)),_=r(n(269)),v=r(n(265)),y=r(n(270)),g=r(n(271)),m=r(n(272)),k=r(n(273)),b=r(n(274)),E=r(n(275)),f=(r(n(276)),n(277)),N=r(f),O=r(n(278)),I=r(n(198)),w=r(n(226)),f=r(n(267)),S=r(n(279)),A=r(n(285)),R=r(n(286)),T=r(n(287)),L=f.default.forKeys("zoneID","numbersAsStrings","desiredKeys","zoneWide","resultsLimit","continuationMarker"),C=f.default.forKeys("zoneID","desiredKeys","numbersAsStrings","assetPrivacyMaskType"),x=f.default.forKeys("zoneID","numbersAsStrings","desiredKeys","desiredRecordTypes","resultsLimit","syncToken","reverse"),M=f.default.forKeys("zoneID","desiredKeys","pluginFields","includeRecords","excludeRecords","shareName","archiveName"),U=f.default.forKeys("sourceZoneID","targetZoneID","sourceShareName","targetRootName","includeRecords","excludeRecords"),D=f.default.forKeys("jobID"),P=((0,a.default)(f={},d.default.PUBLIC,"public"),(0,a.default)(f,d.default.PRIVATE,"private"),(0,a.default)(f,d.default.SHARED,"shared"),f),u=((0,u.default)(j,[{key:"performQuery",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(s.default.info("CloudKit Database#performQuery",e,t),e.isQueryResponse)return this.performQuery(e.query,c.default.assign(L(e),t));t=c.default.assign({query:e},L(t)),t=(new I.default).setApiEntityName("records").setApiActionName("query").setResponseClass(h.default).setPayload(t);return this.sendRequest(t)}},{key:"fetchRecords",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s.default.info("CloudKit Database#fetchRecords",e,t);e=l.default.normalizeRecords(e).map(c.default.picker("recordName")),t=c.default.assign({records:e},C(t)),t=(new I.default).setApiEntityName("records").setApiActionName("lookup").setResponseClass(v.default).setPayload(t);return this.sendRequest(t)}},{key:"saveRecords",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s.default.info("CloudKit Database#saveRecords",e,t),this.newRecordsBatch(t).createOrUpdate(e).commit()}},{key:"deleteRecords",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s.default.info("CloudKit Database#deleteRecords",e,t),this.newRecordsBatch(t).forceDelete(e).commit()}},{key:"newRecordsBatch",value:function(){return new p.default(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"commitRecordsBatchBuilder",value:function(t){var n=this;return _.default.handleAssetsInBatchBeforeCommit(t).then(function(){var e=(new I.default).setApiEntityName("records").setApiActionName("modify").setResponseClass(v.default).setPayload(t.build());return n.sendRequest(e)})}},{key:"assetRereference",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;s.default.info("Database#assetRereference");t={assets:E.default.normalizeAssetRereferenceArray(e),zoneID:l.default.normalizeZone(t).zoneID};n&&(t.targetZoneID=l.default.normalizeZone(n).zoneID);t=(new I.default).setApiEntityName("assets").setApiActionName("rereference").setResponseClass(b.default).setPayload(t);return this.sendRequest(t)}},{key:"fetchAllRecordZones",value:function(){s.default.info("Database#fetchAllRecordZones");var e=(new I.default).setApiEntityName("zones").setApiActionName("list").setResponseClass(g.default);return this.sendRequest(e)}},{key:"fetchRecordZones",value:function(e){s.default.info("Database#fetchRecordZones",e);e=l.default.normalizeZones(e).map(function(e){return e.zoneID}),e=(new I.default).setApiEntityName("zones").setApiActionName("lookup").setPayload({zones:e}).setResponseClass(g.default);return this.sendRequest(e)}},{key:"saveRecordZones",value:function(e){return s.default.info("Database#saveRecordZones",e),this.newRecordZonesBatch().create(e).commit()}},{key:"deleteRecordZones",value:function(e){return s.default.info("Database#deleteRecordZones",e),this.newRecordZonesBatch().delete(e).commit()}},{key:"newRecordZonesBatch",value:function(){return new y.default(this)}},{key:"commitRecordZoneBatchBuilder",value:function(e){e=(new I.default).setApiEntityName("zones").setApiActionName("modify").setPayload(e.build()).setResponseClass(g.default);return this.sendRequest(e)}},{key:"fetchAllSubscriptions",value:function(){s.default.info("Database#fetchAllSubscriptions");var e=(new I.default).setApiEntityName("subscriptions").setApiActionName("list").setResponseClass(O.default);return this.sendRequest(e)}},{key:"fetchSubscriptions",value:function(e){s.default.info("Database#fetchSubscriptions",e),e=c.default.asArray(e).map(function(e){return c.default.isString(e)?{subscriptionID:e}:e});e=(new I.default).setApiEntityName("subscriptions").setApiActionName("lookup").setPayload({subscriptions:e}).setResponseClass(O.default);return this.sendRequest(e)}},{key:"deleteSubscriptions",value:function(e){return s.default.info("Database#deleteSubscriptions",e),this.newSubscriptionsBatch().delete(e).commit()}},{key:"saveSubscriptions",value:function(e){return s.default.info("Database#saveSubscriptions",e),this.newSubscriptionsBatch().create(e).commit()}},{key:"newSubscriptionsBatch",value:function(){return new N.default(this)}},{key:"commitSubscriptionsBatchBuilder",value:function(e){e=(new I.default).setApiEntityName("subscriptions").setApiActionName("modify").setPayload(e.build()).setResponseClass(O.default);return this.sendRequest(e)}},{key:"sendRequest",value:function(e){return c.default.isNullOrUndefined(this._partition)||e.setHost(this._partition),e.setDatabaseName(P[this.databaseScope]),e.setApiModuleName("database"),this._container.sendRequest(e)}},{key:"toString",value:function(){return"[Database (containerIdentifier: "+this.containerIdentifier+", scope: "+this.databaseScope+")]"}},{key:"shareWithUI",value:function(e){var t=this.databaseScope,n=this._container.getConfig();return S.default.run(c.default.assign({},e,{databaseScope:t,containerConfiguration:n}))}},{key:"fetchDatabaseChanges",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.isDatabaseChangesResponse?c.default.assign({},i(e),1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}):i(e),t=(new I.default).setApiEntityName("changes").setApiActionName("database").setPayload(t).setResponseClass(m.default);return this.sendRequest(t)}},{key:"fetchRecordZoneChanges",value:function(e){e=c.default.asArray(e).map(x),e=(new I.default).setApiEntityName("changes").setApiActionName("zone").setPayload({zones:e}).setResponseClass(k.default);return this.sendRequest(e)}},{key:"prepareZipDownload",value:function(e){s.default.info("CloudKit Database#prepareZipDownload",e);e=c.default.assign({},M(e)),e=(new I.default).setApiEntityName("records").setApiActionName("zip/prepare").setResponseClass(A.default).setPayload(e);return this.sendRequest(e)}},{key:"startAssetCopierJob",value:function(e){s.default.info("CloudKit Database#startAssetCopierJob",e);var t=(new I.default).setApiEntityName("records").setApiActionName("copy/start").setResponseClass(R.default).setPayload(U(e));if(e.includeRecords&&e.excludeRecords||!e.includeRecords&&!e.excludeRecords)throw w.default.makeInvalidArguments("Request to StartAssetCopierJob can not simultaneously include or exlude both fields for `includeRecords` and `excludeRecords`");return this.sendRequest(t)}},{key:"checkAssetCopierJobStatus",value:function(e){s.default.info("CloudKit Database#checkAssetCopierJobStatus",e);e=(new I.default).setApiEntityName("records").setApiActionName("copy/status").setResponseClass(T.default).setPayload(D(e));return this.sendRequest(e)}},{key:"containerIdentifier",get:function(){return this._container.containerIdentifier}},{key:"databaseScope",get:function(){return this._databaseScope}}]),j);function j(e,t,n){(0,o.default)(this,j),this._container=e,this._partition=n,this._databaseScope=t}t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(82),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(u.default.isNullOrUndefined(e))throw a.default.makeInvalidArguments("not a valid record/recordName: "+u.default.stringifyExposingUndefined(e));return u.default.isString(e)?{recordName:e}:(0 in e,e)}function o(e){if(u.default.isNullOrUndefined(e))throw a.default.makeInvalidArguments("not a valid zone/zoneID: "+u.default.stringifyExposingUndefined(e));if(u.default.isString(e))return{zoneID:{zoneName:e}};if(u.default.isString(e.zoneName))return{zoneID:e};if("zoneID"in e&&!u.default.isNullOrUndefined(e.zoneID)&&"zoneName"in e.zoneID)return e;throw a.default.makeInvalidArguments("not a valid zone/zoneID: "+u.default.stringifyExposingUndefined(e))}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(85)),a=r(n(226));t.default={normalizeRecords:function(e){return u.default.asArray(e).map(i)},normalizeZones:function(e){return u.default.asArray(e).map(o)},normalizeZone:o}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PUBLIC:"PUBLIC",PRIVATE:"PRIVATE",SHARED:"SHARED"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(265)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("QueryResponse",this)}},{key:"continuationMarker",get:function(){return this._continuationMarker}},{key:"moreComing",get:function(){return!c.default.isNullOrUndefined(this.continuationMarker)}},{key:"query",get:function(){return this.request.getPayload().query}},{key:"zoneID",get:function(){return this.request.getPayload().zoneID}},{key:"zoneWide",get:function(){return Boolean(this.request.getPayload().zoneWide)}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"desiredKeys",get:function(){return this.request.getPayload().desiredKeys}},{key:"isQueryResponse",get:function(){return!0}}]),l);function l(e,t){(0,o.default)(this,l);e=(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t));return e._continuationMarker=t.body.continuationMarker,e}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(227)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("RecordsResponse",this)}},{key:"records",get:function(){return this._results}},{key:"numbersAsStrings",get:function(){return Boolean(this.request.getPayload().numbersAsStrings)}},{key:"isRecordsResponse",get:function(){return!0}}]),l);function l(e,t){return(0,o.default)(this,l),(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t,"records"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(e=e)===_||e===v?f.default.assign({},t,{fields:void 0}):t}function o(e){return e.recordType===p.default.NAME&&(f.default.isNullOrUndefined(e.forRecord)||(e.forRecord=f.default.pick(e.forRecord,["recordName","recordChangeTag"]))),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(99)),a=r(n(80)),s=r(n(81)),f=r(n(85)),c=r(n(229)),l=r(n(262)),d=r(n(226)),h=r(n(267)),p=r(n(268)),_="delete",v="forceDelete",y=h.default.forKeys("zoneID","desiredKeys","numbersAsStrings","atomic","onAssetUploadStart"),g=h.default.forKeys("desiredKeys","numbersAsStrings"),m=f.default.makeObjectHasValuesForKeysPredicate({recordChangeTag:!1,recordType:!0}),k=f.default.makeObjectHasValuesForKeysPredicate({recordChangeTag:!0,recordName:!0}),s=((0,s.default)(b,[{key:"_pushOperations",value:function(t,e){var n=this,r=g(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return l.default.normalizeRecords(e).map(function(e){return i(t,e)}).map(o).map(function(e){return f.default.assign({operationType:t,record:e},r)}).forEach(function(e){return n._operations.push(e)}),this}},{key:"createOrUpdate",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#createOrUpdate",e,n),l.default.normalizeRecords(e).forEach(function(e){if(m(e))t.create(e,n);else{if(!k(e))throw d.default.makeInvalidArguments("Cannot create or update record:"+(0,u.default)(e));t.update(e,n)}}),this}},{key:"create",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#create",e,t),this._pushOperations("create",e,t)}},{key:"update",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#update",e,t),this._pushOperations("update",e,t)}},{key:"forceUpdate",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#forceUpdate",e,t),this._pushOperations("forceUpdate",e,t)}},{key:"replace",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#replace",e,t),this._pushOperations("replace",e,t)}},{key:"forceReplace",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#forceReplace",e,t),this._pushOperations("forceReplace",e,t)}},{key:"delete",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#delete",e,t),this._pushOperations(_,e,t)}},{key:"forceDelete",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return c.default.info("RecordsBatchBuilder#forceDelete",e,t),this._pushOperations(v,e,t)}},{key:"commit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return c.default.info("RecordsBatchBuilder#commit"),this._database.commitRecordsBatchBuilder(this,e)}},{key:"build",value:function(){return f.default.assign({operations:this._operations},this._options)}},{key:"_notifyAssetUploadStart",value:function(e,t){this._options.onAssetUploadStart&&this._options.onAssetUploadStart(e,t)}},{key:"zoneID",get:function(){return this._options.zoneID}},{key:"options",get:function(){return this._options}}]),b);function b(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,b),this._database=e,this._operations=[],this._options=y(t)}t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){return e+" "+n.errorMessage+t+" (in: "+s.default.stringifyExposingUndefined(r)+")"}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(t){var e=s.default.find(l,function(e){return e.key===t});if(!e)throw new Error("Cannot find request option definition for: "+t);return e});return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i={};return t.forEach(function(e){if(!e.shouldIgnore||!e.shouldIgnore(r)){var t=e.key;if(t in r){var n=r[t],n=s.default.isFunction(e.normalize)?e.normalize(n,r):n;if(!e.isValid(n,r))throw f.default.makeInvalidArguments(o(t,n,e,r));i[t]=n}else{n=e.isRequired;if(s.default.isFunction(n)?n(r):n)throw f.default.makeInvalidArguments(o(t,void 0,e,r))}}}),i}}.apply(void 0,(0,u.default)(r))}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(86)),a=r(n(2)),s=r(n(85)),f=r(n(226)),c=r(n(262)),n={key:"zoneID",normalize:function(e){return s.default.isNullOrUndefined(e)?{zoneName:"_defaultZone"}:c.default.normalizeZone(e).zoneID},shouldIgnore:function(e){return e.zoneWide},errorMessage:" should be a valid zoneID but was normalized to: ",mustDifferFromOtherZoneID:void 0,isValid:function(e,t){if(null===e)return!1;var n=this.mustDifferFromOtherZoneID;if(!n||!t[n])return!0;e=this.normalize(e),n=this.normalize(t[n]);return e.zoneName!==n.zoneName||e.ownerRecordName!==n.ownerRecordName}},l=[n,(0,a.default)({},n,{key:"sourceZoneID",isRequired:!0,shouldIgnore:function(){return!1},mustDifferFromOtherZoneID:"targetZoneID"}),(0,a.default)({},n,{key:"targetZoneID",isRequired:!0,shouldIgnore:function(){return!1},mustDifferFromOtherZoneID:"sourceZoneID"}),{key:"atomic",isValid:s.default.isBoolean,errorMessage:" should be a boolean but was: "},{key:"desiredKeys",isValid:function(e){return s.default.isUndefined(e)||s.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"desiredRecordTypes",isValid:function(e){return s.default.isUndefined(e)||s.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"numbersAsStrings",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},{key:"zoneWide",isValid:function(e){return s.default.isUndefined(e)||s.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},{key:"resultsLimit",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isNumberish(e)},errorMessage:" should be a number but was: "},{key:"continuationMarker",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isString(e)},errorMessage:" should be a string but was: "},{key:"syncToken",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isString(e)},errorMessage:" should be a string but was: "},{key:"reverse",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isBoolean(e)},errorMessage:" should be a boolean but was: "},{key:"onAssetUploadStart",isValid:s.default.isFunction,errorMessage:" should be a function but was: "},{key:"assetPrivacyMaskType",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isString(e)},errorMessage:" should be a string but was: "},{key:"pluginFields",isValid:function(e){return void 0!==e},errorMessage:" should be defined but was ",isRequired:!0},{key:"includeRecords",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"excludeRecords",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isStringArray(e)},errorMessage:" should be an array of strings but was: "},{key:"shareName",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isString(e)},errorMessage:" should be a string but was "},{key:"archiveName",isValid:function(e){return s.default.isNullOrUndefined(e)||s.default.isString(e)},errorMessage:" should be a string but was "},{key:"sourceShareName",isValid:function(e){return s.default.isString(e)},errorMessage:" should be a string but was ",isRequired:function(e){return!("targetRootName"in e)}},{key:"targetRootName",isValid:function(e){return s.default.isString(e)},errorMessage:" should be a string but was ",isRequired:function(e){return!("sourceShareName"in e)}},{key:"jobID",isValid:function(e){return s.default.isString(e)},errorMessage:" should be a string but was ",isRequired:!0}];t.default={forKeys:function(){return i.apply(void 0,arguments)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UNKNOWN:"UNKNOWN",PRIVATE_USER:"PRIVATE_USER",PUBLIC_USER:"PUBLIC_USER",OWNER:"OWNER"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return g.default.isNode()?e instanceof g.default.Buffer:e instanceof window.Blob}function s(e){return!g.default.isNullOrUndefined(e)&&!g.default.isNullOrUndefined(e.recordName)&&!g.default.isNullOrUndefined(e.fieldName)}function o(e){var o=[],u=[];return e._operations.forEach(function(e){var i=e.record,e=i.fields;g.default.isNullOrUndefined(e)||(0,f.default)(i.fields).forEach(function(n){var e,r=i.fields[n];a(r.value)?o.push(new b(i,n,r)):(e=r.value,g.default.isArray(e)&&e.some(a)?r.value.forEach(function(e,t){a(e)&&o.push(new b(i,n,r,t))}):s(r.value)?u.push(new E(i,n,r)):(e=r.value,g.default.isArray(e)&&e.some(s)&&r.value.forEach(function(e,t){s(e)&&u.push(new E(i,n,r,t))})))})}),{uploadInfos:o,rerefInfos:u}}function u(i,o){return function(e,t,n){return n=2<arguments.length&&void 0!==n?n:{},n={tokens:e.map(function(e){return e.toRequestToken()}),zoneID:n.zoneID},n=(new y.default).setApiEntityName("assets").setApiActionName("upload").setResponseClass(_.default.createGenericResponseClass("tokens")).setPayload(n),t.sendRequest(n)}(o,i._database,i.options).then(function(e){return v.default.Promise.all(e.tokens.map(function(e,t){var n,r,t=o[t];return t.consumeUploadToken(e),r=i,e=(n=t).getAssetValueForUpload(),t=n.getUrlForUpload(),p.default.fetch(t,{method:"POST",body:e,exposeImplementation:function(e){r._notifyAssetUploadStart(e,n.toAssetUploadStartEventPayload())}}).catch(function(){throw m.default.makeNetworkError()}).then(function(e){return e.json()}).catch(function(e){throw m.default.makeUnexpectedServerResponse(e)}).then(function(e){return e.singleFile})}))}).then(function(e){return e.forEach(function(e,t){return o[t].consumeUploadReceipt(e)})})}Object.defineProperty(t,"__esModule",{value:!0});var f=r(n(95)),i=r(n(106)),c=r(n(199)),l=r(n(218)),d=r(n(80)),h=r(n(81)),p=r(n(228)),_=r(n(227)),v=r(n(112)),y=r(n(198)),g=r(n(85)),m=r(n(226)),k=r(n(229)),b=((0,h.default)(O,[{key:"toRequestToken",value:function(){var e={fieldName:this._fieldName};return g.default.isNullOrUndefined(this._record.recordType)||(e.recordType=this._record.recordType),g.default.isNullOrUndefined(this._record.recordName)||(e.recordName=this._record.recordName),e}},{key:"toAssetUploadStartEventPayload",value:function(){return{record:this._record,fieldName:this._fieldName,indexInField:this._indexInField}}},{key:"consumeUploadToken",value:function(e){this._uploadToken=e}},{key:"consumeUploadReceipt",value:function(e){g.default.isNullOrUndefined(this._indexInField)?this._field.value=e:this._field.value[this._indexInField]=e}},{key:"getUrlForUpload",value:function(){return this._uploadToken.url}},{key:"getAssetValueForUpload",value:function(){var e=g.default.isNullOrUndefined(this._indexInField)?this._field.value:this._field.value[this._indexInField];return g.default.prepareForUpload(e)}}]),O),E=((0,l.default)(N,b),(0,h.default)(N,[{key:"toRequestToken",value:function(){var e=this._field.value;return g.default.isNullOrUndefined(this._indexInField)?e:e[this._indexInField]}}]),N);function N(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return(0,d.default)(this,N),(0,c.default)(this,(N.__proto__||(0,i.default)(N)).call(this,e,t,n,r))}function O(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;(0,d.default)(this,O),this._record=e,this._fieldName=t,this._field=n,this._indexInField=r}t.default={handleAssetsInBatchBeforeCommit:function(r){var e=v.default.Promise.resolve(),t=o(r),n=t.uploadInfos,i=t.rerefInfos;return 0<n.length&&(k.default.info("uploading assets",n),e=u(r,n)),0<i.length&&(k.default.info("rereferencing assets",i),e=e.then(function(){return n=i,t=(e=r)._database,e={assets:n.map(function(e){return e.toRequestToken()}),zoneID:e.zoneID},e=(new y.default).setApiEntityName("assets").setApiActionName("rereference").setResponseClass(_.default.createGenericResponseClass("assets")).setPayload(e),t.sendRequest(e).then(function(e){if(e.hasErrors)throw k.default.warn("rereference failed",e.errors),m.default.fromServerError(e.errors[0]);e.assets.forEach(function(e,t){n[t].consumeUploadReceipt(e)})});var e,n,t})),e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=r(n(81)),u=r(n(262)),a=r(n(85)),o=((0,o.default)(s,[{key:"_pushOperations",value:function(t,e){var n=this;return a.default.asArray(e).map(u.default.normalizeZone).map(function(e){return{zone:e,operationType:t}}).forEach(function(e){return n._operations.push(e)}),this}},{key:"create",value:function(e){return this._pushOperations("create",e),this}},{key:"delete",value:function(e){return this._pushOperations("delete",e),this}},{key:"commit",value:function(){return this._database.commitRecordZoneBatchBuilder(this)}},{key:"build",value:function(){return{operations:this._operations}}}]),s);function s(e){(0,i.default)(this,s),this._database=e,this._operations=[]}t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(227)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("RecordZonesResponse",this)}},{key:"zones",get:function(){return this._results}},{key:"isRecordZonesResponse",get:function(){return!0}}]),l);function l(e,t){return(0,o.default)(this,l),(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t,"zones"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),n=r(n(227)),u=(n=n.default,(0,s.default)(f,n),(0,u.default)(f,[{key:"zones",get:function(){return this._results}},{key:"moreComing",get:function(){return this._moreComing}},{key:"syncToken",get:function(){return this._syncToken}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"isDatabaseChangesResponse",get:function(){return!0}}]),f);function f(e,t){(0,o.default)(this,f);e=(0,a.default)(this,(f.__proto__||(0,i.default)(f)).call(this,e,t,"zones"));return e._moreComing=t.body.moreComing,e._syncToken=t.body.syncToken,e}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),n=r(n(227)),u=(n=n.default,(0,s.default)(f,n),(0,u.default)(f,[{key:"zones",get:function(){return this._results}},{key:"isRecordZoneChangesResponse",get:function(){return!0}}]),f);function f(e,t){return(0,o.default)(this,f),(0,a.default)(this,(f.__proto__||(0,i.default)(f)).call(this,e,t,"zones"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(227)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("AssetRereferenceResponse",this)}},{key:"assets",get:function(){return this._results}},{key:"isAssetReferenceResponse",get:function(){return!0}}]),l);function l(e,t){return(0,o.default)(this,l),(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t,"assets"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(o.default.isNullOrUndefined(e))throw u.default.makeInvalidArguments("not a valid Rereference object: "+o.default.stringifyExposingUndefined(e));if(!o.default.has(e,"recordName")||!o.default.has(e,"fieldName"))throw u.default.makeInvalidArguments("a valid Rereference object requires `recordName` and `fieldName` properties");return e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(85)),u=r(n(226));t.default={normalizeAssetRereference:i,normalizeAssetRereferenceArray:function(e){return o.default.asArray(e).map(i)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),n=r(n(265)),u=(n=n.default,(0,s.default)(f,n),(0,u.default)(f,[{key:"moreComing",get:function(){return this._moreComing}},{key:"syncToken",get:function(){return this._syncToken}},{key:"zoneID",get:function(){return this.request.getPayload().zoneID}},{key:"resultsLimit",get:function(){return this.request.getPayload().resultsLimit}},{key:"desiredKeys",get:function(){return this.request.getPayload().desiredKeys}},{key:"desiredRecordTypes",get:function(){return this.request.getPayload().desiredRecordTypes}},{key:"reverse",get:function(){return this.request.getPayload().reverse}},{key:"isChangedRecordsResponse",get:function(){return!0}}]),f);function f(e,t){(0,o.default)(this,f);e=(0,a.default)(this,(f.__proto__||(0,i.default)(f)).call(this,e,t));return e._moreComing=t.body.moreComing,e._syncToken=t.body.syncToken,e}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=r(n(81)),u=r(n(85)),o=((0,o.default)(a,[{key:"_pushOperation",value:function(t,e){var n=this;return(e=u.default.asArray(e)).forEach(function(e){n._operations.push({operationType:t,subscription:e})}),this}},{key:"create",value:function(e){return this._pushOperation("create",e),this}},{key:"delete",value:function(e){return e=u.default.asArray(e).map(function(e){return u.default.isString(e)?{subscriptionID:e}:e}),this._pushOperation("delete",e),this}},{key:"commit",value:function(){return this._database.commitSubscriptionsBatchBuilder(this)}},{key:"build",value:function(){return{operations:this._operations}}}]),a);function a(e){(0,i.default)(this,a),this._database=e,this._operations=[]}t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(227)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("SubscriptionsResponse",this)}},{key:"subscriptions",get:function(){return this._results}},{key:"isSubscriptionsResponse",get:function(){return!0}}]),l);function l(e,t){return(0,o.default)(this,l),(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t,"subscriptions"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(280)),o=r(n(230)),u=!1,n={run:function(e){if(u)throw new Error("already running");u=!0;var t=o.default.newSharingFlowStat();return i.default.createAndRun(e).then(function(e){return u=!1,t.didRun(),e},function(e){throw u=!1,t.didError(e),e})}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(80)),o=r(n(81)),u=r(n(112)),a=r(n(85)),s=r(n(226)),f=r(n(281)),c=r(n(283)),l=r(n(284)),d="https://cdn.apple-cloudkit.com",h=d+"/applications/ck-share-ui/current",p=((0,o.default)(_,[{key:"_destroy",value:function(){this._view.hide(),this._channel.disconnect(),this._view.unmount(),this._view=null,this._delegate.componentWasDestroyed()}},{key:"_createView",value:function(){var e=this,t=this._delegate._provideURLForComponent(this._shareSheetURL)||this._shareSheetURL;this._view=f.default.create({url:t,parentElement:this._options.parentElement}),this._view.mount(),this._view.showLoading(),setTimeout(function(){e._delegate.componentWasCreated(e._view.iFrame),e._options.startHidden||e._view.show()})}},{key:"_connect",value:function(){var n=this;return new u.default.Promise(function(e,t){n._channel=l.default.create({win:window,otherWin:n._view.iFrame.contentWindow,otherWinOrigin:d,methods:{channelDidOpen:function(){setTimeout(e)},applicationIsReady:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.width,e=e.height;return n._view.hideLoading({width:t,height:e,immediate:n._options.startHidden}),n._delegate.componentDidBecomeReady(),!0}},P:u.default.Promise})})}},{key:"_run",value:function(){var e=a.default.assign({},this._options,{delegate:"blacklisted",parentElement:"blacklisted"});return this._channel.send("run",e)}},{key:"run",value:function(){var n=this;this._createView();var e=this._connect();return u.default.waitOrFail(e,15e3,s.default.makeShareUITimeout()).then(function(){var e=new u.default.Promise(function(e,t){n._onCancel=function(){return t(new Error("canceled"))}}),t=n._run();return u.default.Promise.race([e,t])}).then(function(e){return n._destroy(),e},function(e){n._destroy();try{s.default.isErrorObject(JSON.parse(e.message))&&(e=s.default.fromServerError(JSON.parse(e.message)))}catch(e){}return u.default.Promise.reject(e)})}},{key:"show",value:function(){this._view.show()}},{key:"hide",value:function(){this._view.hide()}},{key:"cancel",value:function(){this._onCancel&&this._onCancel()}}]),_);function _(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,_),this._options=e,this._shareSheetURL=h+"/"+(e.containerConfiguration.locale||"en-us")+"/",this._view=null,this._delegate=new c.default(e.delegate||{},this)}t.default={createAndRun:function(e){return e.__shareSheetOrigin&&(d=e.__shareSheetOrigin,h=d+"/applications/ck-share-ui/current"),new p(e).run()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(80)),o=r(n(81)),u=r(n(282)),a=((0,o.default)(s,[{key:"mount",value:function(){this._parentElement.appendChild(this._element),this.iFrame.setAttribute("src",this._options.url)}},{key:"unmount",value:function(){this._parentElement.removeChild(this._element)}},{key:"showLoading",value:function(){u.default.assignStyle(".cloudkit-sharing-ui-loading",{visibility:"visible"}),u.default.assignStyle(".cloudkit-sharing-ui-iframe",{opacity:0})}},{key:"hideLoading",value:function(e){var t=e.width,n=e.height,e=e.immediate,t=t||400,n=n||300;void 0!==e&&e?(u.default.assignStyle(".cloudkit-sharing-ui-iframe",{opacity:1}),u.default.assignStyle(".cloudkit-sharing-ui-loading",{visibility:"collapse"})):u.default.animate([{".cloudkit-sharing-ui-content-box":{height:n+"px",width:t+"px"},".cloudkit-sharing-ui-spinning":{visibility:"collapse"}},{".cloudkit-sharing-ui-iframe":{opacity:1},".cloudkit-sharing-ui-modal-background":{display:"none"},".cloudkit-sharing-ui-loading":{opacity:0}},{".cloudkit-sharing-ui-loading":{visibility:"collapse"}}],250)}},{key:"show",value:function(){u.default.assignStyle(".cloudkit-sharing-ui",{opacity:1,display:"block"})}},{key:"hide",value:function(){u.default.assignStyle(".cloudkit-sharing-ui",{opacity:0,display:"none"})}},{key:"iFrame",get:function(){return u.default.querySelector(".cloudkit-sharing-ui-iframe")}}]),s);function s(e){(0,i.default)(this,s),this._options=e,this._parentElement=e.parentElement||u.default.doc().body,this._element=u.default.createElement('<div class="cloudkit-sharing-ui">\n  <iframe \n      class="cloudkit-sharing-ui-iframe" \n      src="" \n      frameborder="0" \n      seamless="seamless" \n      allowtransparency="true"></iframe>\n  <div class="cloudkit-sharing-ui-loading">\n    <div class="cloudkit-sharing-ui-modal-background">\n        <div class="cloudkit-sharing-ui-content-box">\n            <div class="cloudkit-sharing-ui-spinning"></div>\n        </div>\n    </div>\n  </div>\n  <style>\n.cloudkit-sharing-ui {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  /*opacity: 0;*/\n  z-index: 999;\n  display: block;\n}\n\n.cloudkit-sharing-ui-iframe {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    /*opacity: 0;*/\n    display: block;\n}\n\n.cloudkit-sharing-ui-loading {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 1;\n  transition: 250ms ease-in-out;\n}\n\n.cloudkit-sharing-ui-modal-background {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.25);\n    \n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n\n.cloudkit-sharing-ui-content-box {\n    width: 100px;\n    height: 100px;\n    background-color: white;\n    box-shadow: 0 2px 25px rgba(0, 0, 0, 0.4);\n    border-radius: 8px;\n    transition: 250ms ease-in-out;\n    \n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n}\n\n.cloudkit-sharing-ui-spinning {\n  width: 32px;\n  height: 32px;\n  -webkit-animation: __ck_share_ui_spin 2s linear infinite;\n  -moz-animation: __ck_share_ui_spin 2s linear infinite;\n  animation: __ck_share_ui_spin 2s linear infinite;\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKICAgICAgICAgICAgIHZpZXdCb3g9IjAgMCAzMiAzMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzIgMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgPHBhdGggZmlsbD0iIzY2NiIKICAgICAgICAgIHN0cm9rZS13aWR0aD0iMSIKICAgICAgICAgIGQ9Ik0zMS4yLDE0LjFjLTAuOS03LjUtNy4zLTEzLjMtMTUtMTMuM0M3LjgsMC44LDEuMSw3LjYsMS4xLDE1LjlzNi44LDE1LjIsMTUuMiwxNS4yYzcuNywwLDE0LjEtNS44LDE1LTEzLjMKICAgICAgICAgICAgSDMyYy0wLjksNy45LTcuNywxNC0xNS44LDE0Yy04LjgsMC0xNS45LTcuMS0xNS45LTE1LjlTNy40LDAsMTYuMiwwYzguMSwwLDE0LjgsNi4xLDE1LjgsMTRIMzEuMnoiLz4KPC9zdmc+Cg==);\n}\n\n@-moz-keyframes __ck_share_ui_spin {\n  100% {\n    -moz-transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes __ck_share_ui_spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n\n@keyframes __ck_share_ui_spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}</style>\n</div>')}t.default={create:function(e){return new a(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e=l.default.isString(e)?s(e):e;l.default.assign(e.style,t)}function s(e){return f().querySelector(e)}Object.defineProperty(t,"__esModule",{value:!0});function f(){return"undefined"==typeof window?null:window.document}var o=r(n(261)),c=r(n(95)),i=r(n(112)),l=r(n(85));t.default={createElement:function(e,t){var n=f().createElement("div");n.innerHTML=e;var r,i,o,u=n.firstChild;return t&&t.classes&&(u.classList?t.classes.forEach(function(e){return u.classList.add(e)}):(r=u.getAttribute("class")||"",r=t.classes.reduce(function(e,t){return e+" "+t},r),u.setAttribute("class",r.trim()))),t&&t.style&&a(u,t.style),t&&t.attributes&&(r=u,i=t.attributes,o=l.default.isString(r)?s(r):r,(0,c.default)(i).forEach(function(e){return o.setAttribute(e,i[e])})),t&&t.children&&t.children.forEach(function(e){u.appendChild(e)}),u},assignStyle:a,querySelector:s,animate:function(e,n){return e.reduce(function(e,t){return e.then(function(){return(0,c.default)(t).forEach(function(e){return a(e,t[e])}),i.default.wait(n)})},i.default.Promise.resolve())},makeStyleToggle:function(n,r,i){return function(e,t){return a(e,(0,o.default)({},n,t?r:i))}},win:function(){return window},doc:f}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=r(n(81)),u=r(n(85)),o=((0,o.default)(a,[{key:"componentWasCreated",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!u.default.isNullOrUndefined(this._actual)&&u.default.isFunction(this._actual.componentWasCreated)?u.default.tryInvokeMethod(this._actual,"componentWasCreated",[this._component].concat(t),"shareWithUI.delegate"):u.default.tryInvokeMethod(this._actual,"componentDidCreate",[this._component].concat(t),"shareWithUI.delegate")}},{key:"componentDidBecomeReady",value:function(){return u.default.tryInvokeMethod(this._actual,"componentDidBecomeReady",[this._component],"shareWithUI.delegate")}},{key:"componentWasDestroyed",value:function(){return u.default.tryInvokeMethod(this._actual,"componentWasDestroyed",[this._component],"shareWithUI.delegate")}},{key:"_provideURLForComponent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.default.tryInvokeMethod(this._actual,"_provideURLForComponent",[this._component].concat(t),"shareWithUI.delegate")}}]),a);function a(e,t){(0,i.default)(this,a),this._actual=e,this._component={show:function(){return t.show()},hide:function(){return t.hide()},__cancel:function(){return t.cancel()}}}t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function p(e,n,r,i){function t(e){if(e.source===n)try{var t=JSON.parse(e.data);y(t)?r.handle(t,e):o(t)&&i.handle(t,e)}catch(e){}}return e.addEventListener("message",t),{disconnect:function(){e.removeEventListener("message",t)}}}Object.defineProperty(t,"__esModule",{value:!0});var _=r(n(41)),v=r(n(99)),y=function(e){return"method"in e},o=function(e){return!y(e)&&"id"in e},g=function(e,t,n){n.jsonrpc="2.0",e.postMessage((0,v.default)(n),t)},m=function(){return"ckjs-jsonrpc-message-id-"+(""+Math.random()).substring(2)};t.default={create:function(e){var n,r,o,u,a,i,s,t=e.win,f=e.otherWin,c=e.otherWinOrigin,l=e.methods,e=void 0===(e=e.P)?_.default:e,l=(i=void 0===l?{}:l,{handle:function(t,e){var n=g.bind(e.source,e.source,e.origin),r=i[t.method];r&&s.resolve(1).then(function(){return r.apply(null,t.params)}).then(function(e){return{id:t.id,result:e}},function(e){return{id:t.id,error:e}}).then(function(e){if("id"in t)try{n(e)}catch(e){n({id:t.id,error:e.message||e})}})}}),d=(n=f,r=c,o=s=e,u=g.bind(null,n,r),a=[],{handle:function(e,t){t.source!==n||t.origin!==r||(t=a[e.id])&&(delete a[e.id],e.error?t.reject(e.error):t.resolve(e.result))},send:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={id:m(),method:e,params:n};if(!y(i))throw new Error("Not a valid json rpc call message: "+(0,v.default)(i));return new o(function(e,t){a[i.id]={resolve:e,reject:t},u(i)})}}),h=p(t,f,l,d);return{send:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d.send.apply(d,[e].concat(n))},disconnect:function(){h.disconnect()}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),n=r(n(227)),u=(n=n.default,(0,s.default)(f,n),(0,u.default)(f,[{key:"downloadURL",get:function(){return this.httpResponse.body.downloadURL}},{key:"isZipDownloadResponse",get:function(){return!0}}]),f);function f(e,t){return(0,o.default)(this,f),(0,a.default)(this,(f.__proto__||(0,i.default)(f)).call(this,e,t))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),n=r(n(227)),u=(n=n.default,(0,s.default)(f,n),(0,u.default)(f,[{key:"jobID",get:function(){return this._jobID}}]),f);function f(e,t){(0,o.default)(this,f);e=(0,a.default)(this,(f.__proto__||(0,i.default)(f)).call(this,e,t));return e._jobID=t.body.jobID,e}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),n=r(n(227)),u=(n=n.default,(0,s.default)(f,n),(0,u.default)(f,[{key:"jobID",get:function(){return this._jobID}},{key:"itemsProcessed",get:function(){return this._itemsProcessed}},{key:"itemsTotalEstimate",get:function(){return this._itemsTotalEstimate}},{key:"status",get:function(){return this._status}},{key:"reason",get:function(){return this._reason}},{key:"serverErrorCode",get:function(){return this._serverErrorCode}}]),f);function f(e,t){(0,o.default)(this,f);e=(0,a.default)(this,(f.__proto__||(0,i.default)(f)).call(this,e,t)),t=t.body;return e._jobID=t.jobID,e._itemsProcessed=t.itemsProcessed,e._itemsTotalEstimate=t.itemsTotalEstimate,e._status=t.status,e._reason=t.reason,e._serverErrorCode=t.serverErrorCode,e}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(227)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("UserIdentitiesResponse",this)}},{key:"users",get:function(){return this._results}},{key:"isUserIdentitiesResponse",get:function(){return!0}}]),l);function l(e,t){return(0,o.default)(this,l),(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t,"users"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(227)),c=r(n(85)),u=(f=f.default,(0,s.default)(l,f),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("RecordInfosResponse",this)}},{key:"results",get:function(){return this._results}},{key:"isRecordInfosResponse",get:function(){return!0}}]),l);function l(e,t){return(0,o.default)(this,l),(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e,t,"results"))}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(85)),o=r(n(229)),u=r(n(291)),a=r(n(293));t.default={parseRawNotification:function(e){try{if(!i.default.isNullOrUndefined(e.ck)){if(!i.default.isNullOrUndefined(e.ck.fet))return new a.default(e);if(!i.default.isNullOrUndefined(e.ck.qry))return new u.default(e)}}catch(e){o.default.warn(e)}return null}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=r(n(101)),c=r(n(232)),l=r(n(106)),d=r(n(80)),i=r(n(81)),h=r(n(199)),o=r(n(218)),u=r(n(292)),p=r(n(85)),i=(n=u.default,(0,o.default)(_,n),(0,i.default)(_,[{key:"toString",value:function(){return p.default.instanceToString("QueryNotification",this)}},{key:"isQueryNotification",get:function(){return!0}},{key:"notificationType",get:function(){return u.default.NOTIFICATION_TYPE_QUERY}},{key:"queryNotificationReason",get:function(){switch(this._reason){case 1:return u.default.QUERY_NOTIFICATION_REASON_RECORD_CREATED;case 2:return u.default.QUERY_NOTIFICATION_REASON_RECORD_UPDATED;case 3:return u.default.QUERY_NOTIFICATION_REASON_RECORD_DELETED}return null}},{key:"isPublicDatabase",get:function(){return 0===this._dbType}},{key:"recordName",get:function(){return this._recordName}},{key:"recordFields",get:function(){return this._fields}}]),_);function _(t){(0,d.default)(this,_);var e=(0,h.default)(this,(_.__proto__||(0,l.default)(_)).call(this,t)),n=t.ck.qry;if(e._zoneID={zoneName:n.zid,ownerRecordName:n.zoid},e._subscriptionID=n.sid,e._dbType=n.dbs,e._recordName=n.rid,e._reason=n.fo,!p.default.isNullOrUndefined(n.af)){var r={},i=!0,o=!1,t=void 0;try{for(var u,a=(0,c.default)((0,f.default)(n.af));!(i=(u=a.next()).done);i=!0){var s=u.value;r[s]={value:n.af[s]}}}catch(e){o=!0,t=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw t}}e._fields=r}return e}t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),n=r(n(81)),n=((0,n.default)(o,[{key:"isQueryNotification",get:function(){return!1}},{key:"isRecordZoneNotification",get:function(){return!1}},{key:"category",get:function(){return this._category}},{key:"notificationType",get:function(){return null}},{key:"notificationID",get:function(){return this._notificationID}},{key:"containerIdentifier",get:function(){return this._containerIdentifier}},{key:"alertBody",get:function(){return this._alertBody}},{key:"alertLocalizationKey",get:function(){return this._alertLocKey}},{key:"alertLocalizationArgs",get:function(){return this._alertLocArgs}},{key:"alertActionLocalizationKey",get:function(){return this._actionLocKey}},{key:"alertLaunchImage",get:function(){return this._launchImage}},{key:"soundName",get:function(){return this._soundName}},{key:"badge",get:function(){return this._badge}},{key:"zoneID",get:function(){return this._zoneID}},{key:"subscriptionID",get:function(){return this._subscriptionID}}],[{key:"NOTIFICATION_TYPE_QUERY",get:function(){return"NOTIFICATION_TYPE_QUERY"}},{key:"NOTIFICATION_TYPE_RECORD_ZONE",get:function(){return"NOTIFICATION_TYPE_RECORD_ZONE"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_CREATED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_CREATED"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_UPDATED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_UPDATED"}},{key:"QUERY_NOTIFICATION_REASON_RECORD_DELETED",get:function(){return"QUERY_NOTIFICATION_REASON_RECORD_DELETED"}}]),o);function o(e){(0,i.default)(this,o),this._notificationID=e.ck.nid,this._containerIdentifier=e.ck.cid;e=e.aps||{};e.alert=e.alert||{},this._category=e.category,this._alertBody=e.alert.body,this._alertLocKey=e.alert["loc-key"],this._alertLocArgs=e.alert["loc-args"],this._actionLocKey=e.alert["action-loc-key"],this._launchImage=e.alert["launch-image"],this._soundName=e.sound,this._badge=e.badge}t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(106)),o=r(n(80)),u=r(n(81)),a=r(n(199)),s=r(n(218)),f=r(n(292)),c=r(n(85)),u=(n=f.default,(0,s.default)(l,n),(0,u.default)(l,[{key:"toString",value:function(){return c.default.instanceToString("RecordZoneNotification",this)}},{key:"isRecordZoneNotification",get:function(){return!0}},{key:"notificationType",get:function(){return f.default.NOTIFICATION_TYPE_RECORD_ZONE}}]),l);function l(e){(0,o.default)(this,l);var t=(0,a.default)(this,(l.__proto__||(0,i.default)(l)).call(this,e)),e=e.ck.fet||{};return t._zoneID={zoneName:e.zid,ownerRecordName:e.zoid},t._subscriptionID=e.sid,t}t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(85)),o=r(n(295)),u=r(n(296)),a=r(n(298)),s="serverToServerKeyAuth",f="apiTokenAuth";t.default={SERVER_TO_SERVER_KEY_AUTH:s,API_TOKEN_AUTH:f,createAuth:function(e){var t=e.container,n=e.containerConfig,e=e.authTokenStore;return i.default.isNullOrUndefined(n[s])?i.default.isNullOrUndefined(n[f])?new o.default({container:t}):new a.default({container:t,config:n[f],locale:n.locale,authTokenStore:e}):new u.default({container:t,config:n[s],locale:n.locale})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(80)),o=r(n(81)),u=r(n(226)),o=((0,o.default)(a,[{key:"_fetchCurrentUserIdentity",value:function(){return this._container.fetchCurrentUserIdentity()}},{key:"setup",value:function(){return this._fetchCurrentUserIdentity()}},{key:"whenUserSignsIn",value:function(){throw u.default.makeConfigurationError("whenUserSignsIn not implemented by this auth type")}},{key:"whenUserSignsOut",value:function(){throw u.default.makeConfigurationError("whenUserSignsOut not implemented by this auth type")}},{key:"signOut",value:function(){throw u.default.makeConfigurationError("signOut not implemented by this auth type")}},{key:"requestHandler",value:function(){return function(e){return e}}},{key:"responseHandler",value:function(){return function(e){return e}}},{key:"getConfig",value:function(){return{}}}]),a);function a(e){e=e.container;(0,i.default)(this,a),this._container=e}t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(99)),o=r(n(106)),u=r(n(80)),a=r(n(81)),s=r(n(199)),f=r(n(214)),c=r(n(218)),l=r(n(295)),d=r(n(85)),h=r(n(226)),p=r(n(112)),_=r(n(297)),v=r(n(193)),y="privateKeyFile",g="privateKeyPassPhrase",a=(l=l.default,(0,c.default)(m,l),(0,a.default)(m,[{key:"setup",value:function(){if(d.default.isNullOrUndefined(this._config.keyID))throw h.default.makeConfigurationError("keyID not set in "+(0,i.default)(this._config));if(d.default.isNullOrUndefined(this._config[y]))throw h.default.makeConfigurationError(y+" not set in "+(0,i.default)(this._config));if(this._keyID=this._config.keyID,this._key=_.default.readFileSync(this._config[y],"utf8"),d.default.isNullOrUndefined(this._key))throw h.default.makeConfigurationError("Could not read key from "+y+"}");return d.default.isNullOrUndefined(this._config[g])||(this._key={key:this._key,passphrase:this._config[g]}),(0,f.default)(m.prototype.__proto__||(0,o.default)(m.prototype),"setup",this).call(this)}},{key:"requestHandler",value:function(){var u=this;return function(t){var e,n=(new Date).toISOString().replace(/(\.\d\d\d)Z/,"Z"),r=t.getBodyStringified()||"",i=t.getPathWithParams(),r=n+":"+(o=r,(e=v.default.createHash("sha256")).update(new d.default.Buffer(o,"utf-8")),e.digest("base64"))+":"+i,o=null,o=d.default.isFunction(u._externalSigner)?u._externalSigner(u._keyID,r):(e=u._key,i=r,(r=v.default.createSign("RSA-SHA256")).update(i),r.sign(e,"base64"));return p.default.Promise.resolve(o).then(function(e){return t.setISODate(n),t.setSigningKeyID(u._keyID),t.setSignatureV1(e),t})}}}]),m);function m(e){var t=e.container,e=e.config;(0,u.default)(this,m);t=(0,s.default)(this,(m.__proto__||(0,o.default)(m)).call(this,{container:t}));return t._config=e,t._keyID=null,t._key=null,t}t.default=a},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(261)),o=r(n(106)),u=r(n(80)),a=r(n(81)),s=r(n(199)),f=r(n(218)),c=r(n(85)),l=r(n(112)),d=r(n(229)),h=r(n(226)),p=r(n(295)),_=r(n(230)),v=r(n(299)),y=r(n(294)),g=r(n(304)),m={id:"apple-sign-in-button",theme:"medium"},k={id:"apple-sign-out-button",theme:"medium"},a=(p=p.default,(0,f.default)(b,p),(0,a.default)(b,[{key:"setup",value:function(){return this._authButtons.reset(),this._fetchAndHandleCurrentUserIdentity()}},{key:"whenUserSignsIn",value:function(){return this._whenUserSignsIn.promise}},{key:"whenUserSignsOut",value:function(){return this._whenUserSignsOut.promise}},{key:"signOut",value:function(){this._setSession(null),this._whenUserSignsOut.resolve(),this._whenUserSignsOut=l.default.defer()}},{key:"requestHandler",value:function(){var n=this;return function(t){return n._getSessionAsync().then(function(e){return c.default.isNullOrUndefined(e)||t.setCKSession(e),t.setApiToken(n._apiToken),t})}}},{key:"responseHandler",value:function(){var t=this;return function(e){return c.default.isNullOrUndefined(e.getCKSession())||c.default.isNullOrUndefined(t._ckSession)||t._setSession(e.getCKSession()),e}}},{key:"getConfig",value:function(){return(0,i.default)({},y.default.API_TOKEN_AUTH,{apiToken:this._apiToken,ckWebAuthToken:this._ckSession})}},{key:"_getSessionAsync",value:function(){var t=this,e=l.default.Promise.resolve(this._ckSession);return e=this._authTokenStore?l.default.Promise.resolve(this._authTokenStore.getToken(this._container.containerIdentifier)).then(function(e){return t._ckSession=e,t._ckSession}):e}},{key:"_setSession",value:function(e){this._ckSession=e,this._authTokenStore&&this._authTokenStore.putToken(this._container.containerIdentifier,e)}},{key:"_fetchAndHandleCurrentUserIdentity",value:function(){var t=this;return this._fetchCurrentUserIdentity().then(function(e){return t._handleCurrentUserIdentity(e)}).catch(function(e){if(e.ckErrorCode===h.default.AUTHENTICATION_REQUIRED)return t._handleSignInURL(e.redirectURL),null;throw e})}},{key:"_handleSignInURL",value:function(e){var n=this;this._signInURL=e,setTimeout(function(){return n._fetchAndHandleCurrentUserIdentity().catch(function(){})},84e4),this._authButtons.showSignInButton(function(){c.default.getAsyncMessageFromPopup(n._signInURL,640,525).then(function(e){var t=e.data.ckSession;if(c.default.isNullOrUndefined(t))throw c.default.isNullOrUndefined(e.data.errorMessage)?(d.default.warn("Event of type message has neither a ckSession nor an error message",e),h.default.makeUnknownError()):(d.default.warn("Message event from popup reports error: ",e.data),h.default.makeSignInFailedError(e.data));n._setSession(t)}).then(function(){return n._fetchAndHandleCurrentUserIdentity()}).catch(function(e){_.default.reportUnexpectedAuthError(),d.default.warn("Unexpected error",e),n._whenUserSignsIn.reject(e),n._whenUserSignsIn=l.default.defer(),n.setup()})})}},{key:"_handleCurrentUserIdentity",value:function(e){var t=this;return this._whenUserSignsIn.resolve(e),this._whenUserSignsIn=l.default.defer(),this._authButtons.showSignOutButton(function(){t.signOut(),t.setup()}),e}}]),b);function b(e){var t=e.container,n=e.config,r=e.locale,e=e.authTokenStore;(0,u.default)(this,b);t=(0,s.default)(this,(b.__proto__||(0,o.default)(b)).call(this,{container:t}));return n.persist&&(t._authTokenStore=g.default.create(e)),t._apiToken=n.apiToken,t._authButtons=v.default.create({locale:r,signInButton:c.default.assign({},m,n.signInButton),signOutButton:c.default.assign({},k,n.signOutButton)}),t._ckSession=null,t._signInURL=null,t._whenUserSignsIn=l.default.defer(),t._whenUserSignsOut=l.default.defer(),c.default.isNullOrUndefined(n.ckWebAuthToken)||t._setSession(n.ckWebAuthToken),t}t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(80)),o=r(n(81)),u=r(n(85)),a=r(n(300)),s=((0,o.default)(f,[{key:"showSignInButton",value:function(e){this._signOutButton.hide(),this._signInButton.show(e)}},{key:"showSignOutButton",value:function(e){this._signInButton.hide(),this._signOutButton.show(e)}},{key:"reset",value:function(){this._signInButton.hide(),this._signOutButton.hide()}}]),f);function f(e){(0,i.default)(this,f),this._config=e,this._signInButton=a.default.create(u.default.assign({},e.signInButton,{locale:e.locale},{l10nKey:"Auth.SignIn"})),this._signOutButton=a.default.create(u.default.assign({},e.signOutButton,{locale:e.locale},{l10nKey:"Auth.SignOut"}))}t.default={create:function(e){return new s(e)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(80)),o=r(n(81)),u=r(n(261)),a=r(n(282)),s=r(n(301)),f=r(n(303)),c=((0,u.default)(n={},f.default.WHITE,{outer:"white",inner:"white",text:"black"}),(0,u.default)(n,f.default.WHITE_WITH_OUTLINE,{outer:"black",inner:"white",text:"black"}),(0,u.default)(n,f.default.BLACK,{outer:"black",inner:"black",text:"white"}),n),l=a.default.makeStyleToggle("display","block","none"),d=a.default.makeStyleToggle("opacity",1,.5),h=((0,o.default)(p,[{key:"_append",value:function(){var e,t=document.querySelector("#"+this._config.id);if(t){var n=(n=this._config,e=s.default.translations(n.locale)[n.l10nKey],n=n.theme||f.default.WHITE_WITH_OUTLINE,n=c[n]||c[f.default.WHITE_WITH_OUTLINE],a.default.createElement("<div>",{classes:["apple-auth-button"],style:{height:"40px",width:"218px",cursor:"pointer","border-style":"solid","border-width":"1px","border-radius":"5px","border-color":n.outer,"background-color":n.inner},attributes:{alt:e.string},children:[a.default.createElement(unescape(e.asset),{classes:["apple-auth-button-text"],style:{overflow:"visible",fill:n.text,top:"50%",left:"50%",position:"relative"}})]}));return t.appendChild(n),!0}return!1}},{key:"show",value:function(e){var t=this;(this._button||this._append())&&(l(this._button,!0),d(this._button,!0),this._button.onclick=function(){t._button.onclick=null,d(t._button,!1),e()})}},{key:"hide",value:function(){this._button&&l(this._button,!1)}},{key:"_button",get:function(){return document.querySelector("#"+this._config.id+" > .apple-auth-button")}}]),p);function p(e){(0,i.default)(this,p),this._config=e}t.default={create:function(e){return new h(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(85),o=(r=i)&&r.__esModule?r:{default:r},u=n(302),a="en-us",s={"zh-hk":"zh-tw","nb-no":"no-no","nn-no":"no-no",nb:"no-no",nn:"no-no",he:"iw-il","he-il":"iw-il",pt:"pt-pt","vi-vn":"vi-vi","es-419":"es-mx","es-xl":"es-mx"},f=function(e){return o.default.isString(e)?(2===(e=e.toLowerCase()).length&&(e=e+"-"+e),s[e]||e):a};t.default={translations:function(e){return e=e||("undefined"==typeof navigator?a:navigator.language||navigator.browserLanguage),e=f(e),u[e]||u[a]}}},function(e,t){e.exports={"en-us":{"Auth.SignIn":{string:"Sign in with Apple ID",asset:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="177.42" height="21.52"><path d="M-79.53 2.00Q-79.53 3.72-80.73 4.80Q-82.05 5.98-84.41 5.98Q-86.59 5.98-87.91 5.14L-87.41 3.34Q-85.99 4.18-84.29 4.18Q-83.07 4.18-82.39 3.63Q-81.71 3.08-81.71 2.16Q-81.71 1.34-82.27 0.78Q-82.83 0.22-84.13-0.26Q-87.67-1.58-87.67-4.12Q-87.67-5.78-86.42-6.84Q-85.17-7.90-83.11-7.90Q-81.27-7.90-80.05-7.26L-80.59-5.50Q-81.73-6.12-83.17-6.12Q-84.31-6.12-84.95-5.56Q-85.49-5.06-85.49-4.34Q-85.49-3.54-84.87-3.02Q-84.33-2.54-82.91-1.98Q-81.17-1.28-80.35-0.34Q-79.53 0.60-79.53 2.00ZM-74.97-6.84Q-74.97-6.26-75.35-5.90Q-75.73-5.54-76.33-5.54Q-76.87-5.54-77.24-5.91Q-77.61-6.28-77.61-6.84Q-77.61-7.40-77.23-7.76Q-76.85-8.12-76.29-8.12Q-75.73-8.12-75.35-7.76Q-74.97-7.40-74.97-6.84M-75.21 5.78L-77.37 5.78L-77.37-3.94L-75.21-3.94L-75.21 5.78ZM-63.97-3.94Q-64.05-2.76-64.05-1.18L-64.05 4.38Q-64.05 7.52-65.45 8.78Q-66.73 9.94-69.05 9.94Q-71.07 9.94-72.31 9.18L-71.81 7.52Q-70.59 8.26-69.05 8.26Q-66.19 8.26-66.19 5.18L-66.19 4.24L-66.23 4.24Q-67.13 5.72-69.09 5.72Q-70.85 5.72-71.99 4.38Q-73.13 3.04-73.13 0.98Q-73.13-1.36-71.81-2.80Q-70.59-4.14-68.83-4.14Q-66.85-4.14-65.99-2.60L-65.95-2.60L-65.87-3.94L-63.97-3.94M-66.21 1.62L-66.21-0.10Q-66.21-1.08-66.82-1.78Q-67.43-2.48-68.43-2.48Q-69.53-2.48-70.24-1.56Q-70.95-0.64-70.95 0.90Q-70.95 2.30-70.29 3.16Q-69.61 4.10-68.43 4.10Q-67.71 4.10-67.14 3.67Q-66.57 3.24-66.33 2.50Q-66.21 2.14-66.21 1.62ZM-52.89 5.78L-55.05 5.78L-55.05 0.20Q-55.05-2.38-57.01-2.38Q-57.97-2.38-58.57-1.67Q-59.17-0.96-59.17-0.00L-59.17 5.78L-61.33 5.78L-61.33-1.16Q-61.33-2.44-61.41-3.94L-59.51-3.94L-59.41-2.44L-59.35-2.44Q-58.97-3.14-58.23-3.60Q-57.35-4.14-56.27-4.14Q-54.91-4.14-54.01-3.26Q-52.89-2.18-52.89-0.04L-52.89 5.78ZM-43.09-6.84Q-43.09-6.26-43.47-5.90Q-43.85-5.54-44.45-5.54Q-44.99-5.54-45.36-5.91Q-45.73-6.28-45.73-6.84Q-45.73-7.40-45.35-7.76Q-44.97-8.12-44.41-8.12Q-43.85-8.12-43.47-7.76Q-43.09-7.40-43.09-6.84M-43.33 5.78L-45.49 5.78L-45.49-3.94L-43.33-3.94L-43.33 5.78ZM-32.17 5.78L-34.33 5.78L-34.33 0.20Q-34.33-2.38-36.29-2.38Q-37.25-2.38-37.85-1.67Q-38.45-0.96-38.45-0.00L-38.45 5.78L-40.61 5.78L-40.61-1.16Q-40.61-2.44-40.69-3.94L-38.79-3.94L-38.69-2.44L-38.63-2.44Q-38.25-3.14-37.51-3.60Q-36.63-4.14-35.55-4.14Q-34.19-4.14-33.29-3.26Q-32.17-2.18-32.17-0.04L-32.17 5.78ZM-11.75-3.94L-14.79 5.78L-16.77 5.78L-18.03 1.56Q-18.51-0.02-18.81-1.58L-18.85-1.58Q-19.13 0.02-19.63 1.56L-20.97 5.78L-22.97 5.78L-25.83-3.94L-23.61-3.94L-22.51 0.68Q-22.11 2.32-21.85 3.80L-21.81 3.80Q-21.57 2.58-21.01 0.70L-19.63-3.94L-17.87-3.94L-16.55 0.60Q-16.07 2.26-15.77 3.80L-15.71 3.80Q-15.49 2.30-15.05 0.60L-13.87-3.94L-11.75-3.94ZM-7.71-6.84Q-7.71-6.26-8.09-5.90Q-8.47-5.54-9.07-5.54Q-9.61-5.54-9.98-5.91Q-10.35-6.28-10.35-6.84Q-10.35-7.40-9.97-7.76Q-9.59-8.12-9.03-8.12Q-8.47-8.12-8.09-7.76Q-7.71-7.40-7.71-6.84M-7.95 5.78L-10.11 5.78L-10.11-3.94L-7.95-3.94L-7.95 5.78ZM-0.33-2.32L-2.71-2.32L-2.71 2.40Q-2.71 4.20-1.45 4.20Q-0.87 4.20-0.49 4.10L-0.43 5.74Q-1.07 5.98-2.11 5.98Q-3.39 5.98-4.11 5.20Q-4.83 4.42-4.83 2.58L-4.83-2.32L-6.25-2.32L-6.25-3.94L-4.83-3.94L-4.83-5.72L-2.71-6.36L-2.71-3.94L-0.33-3.94L-0.33-2.32ZM9.99 5.78L7.83 5.78L7.83 0.24Q7.83-2.38 5.87-2.38Q4.37-2.38 3.81-0.86Q3.71-0.54 3.71-0.08L3.71 5.78L1.55 5.78L1.55-8.40L3.71-8.40L3.71-2.56L3.75-2.56Q4.77-4.14 6.67-4.14Q8.01-4.14 8.89-3.26Q9.99-2.16 9.99-0.00L9.99 5.78ZM27.85 5.78L25.55 5.78L24.29 1.82L19.91 1.82L18.71 5.78L16.47 5.78L20.81-7.70L23.49-7.70L27.85 5.78M23.91 0.16L22.77-3.36Q22.59-3.90 22.09-5.90L22.05-5.90Q21.85-5.04 21.41-3.36L20.29 0.16L23.91 0.16ZM38.81 0.80Q38.81 3.28 37.47 4.72Q36.27 6.00 34.49 6.00Q32.57 6.00 31.73 4.62L31.69 4.62L31.69 9.74L29.53 9.74L29.53-0.74Q29.53-2.30 29.45-3.94L31.35-3.94L31.47-2.40L31.51-2.40Q32.59-4.14 34.79-4.14Q36.51-4.14 37.66-2.78Q38.81-1.42 38.81 0.80M36.61 0.88Q36.61-0.54 35.97-1.46Q35.27-2.42 34.09-2.42Q33.29-2.42 32.64-1.89Q31.99-1.36 31.79-0.50Q31.69-0.10 31.69 0.16L31.69 1.78Q31.69 2.84 32.34 3.57Q32.99 4.30 34.03 4.30Q35.25 4.30 35.93 3.36Q36.61 2.42 36.61 0.88ZM50.09 0.80Q50.09 3.28 48.75 4.72Q47.55 6.00 45.77 6.00Q43.85 6.00 43.01 4.62L42.97 4.62L42.97 9.74L40.81 9.74L40.81-0.74Q40.81-2.30 40.73-3.94L42.63-3.94L42.75-2.40L42.79-2.40Q43.87-4.14 46.07-4.14Q47.79-4.14 48.94-2.78Q50.09-1.42 50.09 0.80M47.89 0.88Q47.89-0.54 47.25-1.46Q46.55-2.42 45.37-2.42Q44.57-2.42 43.92-1.89Q43.27-1.36 43.07-0.50Q42.97-0.10 42.97 0.16L42.97 1.78Q42.97 2.84 43.62 3.57Q44.27 4.30 45.31 4.30Q46.53 4.30 47.21 3.36Q47.89 2.42 47.89 0.88ZM54.33 5.78L52.17 5.78L52.17-8.40L54.33-8.40L54.33 5.78ZM65.05 0.46Q65.05 1.04 64.97 1.44L58.49 1.44Q58.53 2.88 59.43 3.64Q60.25 4.32 61.55 4.32Q62.99 4.32 64.17 3.86L64.51 5.36Q63.13 5.96 61.25 5.96Q58.99 5.96 57.70 4.63Q56.41 3.30 56.41 1.06Q56.41-1.14 57.61-2.60Q58.87-4.16 61.01-4.16Q63.11-4.16 64.19-2.60Q65.05-1.36 65.05 0.46M62.99-0.10Q63.01-1.06 62.57-1.76Q62.01-2.66 60.85-2.66Q59.79-2.66 59.13-1.78Q58.59-1.08 58.49-0.10L62.99-0.10ZM74.03 5.78L71.87 5.78L71.87-7.70L74.03-7.70L74.03 5.78ZM87.99-1.28Q87.99 2.36 85.81 4.20Q83.79 5.90 80.07 5.90Q78.23 5.90 76.91 5.74L76.91-7.52Q78.63-7.80 80.63-7.80Q84.17-7.80 85.97-6.26Q87.99-4.52 87.99-1.28M85.71-1.22Q85.71-3.58 84.46-4.84Q83.21-6.10 80.81-6.10Q79.79-6.10 79.07-5.96L79.07 4.12Q79.47 4.18 80.53 4.18Q83.01 4.18 84.36 2.80Q85.71 1.42 85.71-1.22Z"/></svg>'},"Auth.SignOut":{string:"Sign out",asset:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="70.61999999999999" height="21.52"><path d="M-26.13 2.00Q-26.13 3.72-27.33 4.80Q-28.65 5.98-31.01 5.98Q-33.19 5.98-34.51 5.14L-34.01 3.34Q-32.59 4.18-30.89 4.18Q-29.67 4.18-28.99 3.63Q-28.31 3.08-28.31 2.16Q-28.31 1.34-28.87 0.78Q-29.43 0.22-30.73-0.26Q-34.27-1.58-34.27-4.12Q-34.27-5.78-33.02-6.84Q-31.77-7.90-29.71-7.90Q-27.87-7.90-26.65-7.26L-27.19-5.50Q-28.33-6.12-29.77-6.12Q-30.91-6.12-31.55-5.56Q-32.09-5.06-32.09-4.34Q-32.09-3.54-31.47-3.02Q-30.93-2.54-29.51-1.98Q-27.77-1.28-26.95-0.34Q-26.13 0.60-26.13 2.00ZM-21.57-6.84Q-21.57-6.26-21.95-5.90Q-22.33-5.54-22.93-5.54Q-23.47-5.54-23.84-5.91Q-24.21-6.28-24.21-6.84Q-24.21-7.40-23.83-7.76Q-23.45-8.12-22.89-8.12Q-22.33-8.12-21.95-7.76Q-21.57-7.40-21.57-6.84M-21.81 5.78L-23.97 5.78L-23.97-3.94L-21.81-3.94L-21.81 5.78ZM-10.57-3.94Q-10.65-2.76-10.65-1.18L-10.65 4.38Q-10.65 7.52-12.05 8.78Q-13.33 9.94-15.65 9.94Q-17.67 9.94-18.91 9.18L-18.41 7.52Q-17.19 8.26-15.65 8.26Q-12.79 8.26-12.79 5.18L-12.79 4.24L-12.83 4.24Q-13.73 5.72-15.69 5.72Q-17.45 5.72-18.59 4.38Q-19.73 3.04-19.73 0.98Q-19.73-1.36-18.41-2.80Q-17.19-4.14-15.43-4.14Q-13.45-4.14-12.59-2.60L-12.55-2.60L-12.47-3.94L-10.57-3.94M-12.81 1.62L-12.81-0.10Q-12.81-1.08-13.42-1.78Q-14.03-2.48-15.03-2.48Q-16.13-2.48-16.84-1.56Q-17.55-0.64-17.55 0.90Q-17.55 2.30-16.89 3.16Q-16.21 4.10-15.03 4.10Q-14.31 4.10-13.74 3.67Q-13.17 3.24-12.93 2.50Q-12.81 2.14-12.81 1.62ZM0.51 5.78L-1.65 5.78L-1.65 0.20Q-1.65-2.38-3.61-2.38Q-4.57-2.38-5.17-1.67Q-5.77-0.96-5.77-0.00L-5.77 5.78L-7.93 5.78L-7.93-1.16Q-7.93-2.44-8.01-3.94L-6.11-3.94L-6.01-2.44L-5.95-2.44Q-5.57-3.14-4.83-3.60Q-3.95-4.14-2.87-4.14Q-1.51-4.14-0.61-3.26Q0.51-2.18 0.51-0.04L0.51 5.78ZM16.79 0.84Q16.79 3.08 15.51 4.52Q14.17 6.00 11.95 6.00Q9.81 6.00 8.54 4.58Q7.27 3.16 7.27 1.00Q7.27-1.26 8.58-2.70Q9.89-4.14 12.11-4.14Q14.25-4.14 15.55-2.72Q16.79-1.34 16.79 0.84M14.55 0.90Q14.55-0.44 13.97-1.40Q13.29-2.56 12.03-2.56Q10.73-2.56 10.05-1.40Q9.47-0.44 9.47 0.94Q9.47 2.28 10.05 3.24Q10.75 4.40 12.01 4.40Q13.25 4.40 13.95 3.22Q14.55 2.24 14.55 0.90ZM27.25 5.78L25.35 5.78L25.23 4.30L25.19 4.30Q24.17 6.00 22.11 6.00Q20.67 6.00 19.81 5.10Q18.79 4.00 18.79 1.78L18.79-3.94L20.95-3.94L20.95 1.42Q20.95 4.22 22.87 4.22Q24.31 4.22 24.87 2.82Q25.01 2.46 25.01 2.00L25.01-3.94L27.17-3.94L27.17 2.98Q27.17 4.36 27.25 5.78ZM34.79-2.32L32.41-2.32L32.41 2.40Q32.41 4.20 33.67 4.20Q34.25 4.20 34.63 4.10L34.69 5.74Q34.05 5.98 33.01 5.98Q31.73 5.98 31.01 5.20Q30.29 4.42 30.29 2.58L30.29-2.32L28.87-2.32L28.87-3.94L30.29-3.94L30.29-5.72L32.41-6.36L32.41-3.94L34.79-3.94L34.79-2.32Z"/></svg>'}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={WHITE:"white",BLACK:"black",WHITE_WITH_OUTLINE:"white-with-outline"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(80)),o=r(n(81)),u=r(n(85)),a=(r(n(229)),n(226)),s=r(a),n={putToken:function(e,t){u.default.setCookie(e,t)},getToken:function(e){return u.default.getCookie(e)}},f={},a={putToken:function(e,t){f[e]=t},getToken:function(e){return f[e]}},c=u.default.isNode()?a:n,l=((0,o.default)(d,[{key:"setDelegate",value:function(e){u.default.isNullOrUndefined(e)?this._delegate=c:this._delegate=e}},{key:"putToken",value:function(t,n){try{this._delegate.putToken(t,n)}catch(e){this._delegate[t]=n}if(n!==this.getToken(t))throw s.default.makeAuthPersistError()}},{key:"getToken",value:function(t){try{return this._delegate.getToken(t)}catch(e){return this._delegate[t]}}}]),d);function d(){(0,i.default)(this,d),this.setDelegate()}t.default={create:function(e){var t=new l;return t.setDelegate(e),t}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",LESS_THAN:"LESS_THAN",LESS_THAN_OR_EQUALS:"LESS_THAN_OR_EQUALS",GREATER_THAN:"GREATER_THAN",GREATER_THAN_OR_EQUALS:"GREATER_THAN_OR_EQUALS",NEAR:"NEAR",CONTAINS_ALL_TOKENS:"CONTAINS_ALL_TOKENS",IN:"IN",NOT_IN:"NOT_IN",CONTAINS_ANY_TOKENS:"CONTAINS_ANY_TOKENS",LIST_CONTAINS:"LIST_CONTAINS",LIST_CONTAINS_ANY:"LIST_CONTAINS_ANY",NOT_LIST_CONTAINS:"NOT_LIST_CONTAINS",NOT_LIST_CONTAINS_ANY:"NOT_LIST_CONTAINS_ANY",BEGINS_WITH:"BEGINS_WITH",NOT_BEGINS_WITH:"NOT_BEGINS_WITH",LIST_MEMBER_BEGINS_WITH:"LIST_MEMBER_BEGINS_WITH",NOT_LIST_MEMBER_BEGINS_WITH:"NOT_LIST_MEMBER_BEGINS_WITH",LIST_CONTAINS_ALL:"LIST_CONTAINS_ALL",NOT_LIST_CONTAINS_ALL:"NOT_LIST_CONTAINS_ALL"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={NONE:"NONE",DELETE_SELF:"DELETE_SELF",VALIDATE:"VALIDATE"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={QUERY:"query",RECORD_ZONE:"zone",DATABASE:"database"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={NAME:"cloudkit.share",TITLE_FIELD_NAME:"cloudkit.title",THUMBNAIL_IMAGE_DATA_FIELD_NAME:"cloudkit.thumbnailImageData",TYPE_FIELD_NAME:"cloudkit.type"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UNKNOWN:"UNKNOWN",NONE:"NONE",READ_ONLY:"READ_ONLY",READ_WRITE:"READ_WRITE"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={UNKNOWN:"UNKNOWN",PENDING:"PENDING",ACCEPTED:"ACCEPTED"}}],u={},i.m=o,i.c=u,i.p="",i(0);function i(e){if(u[e])return u[e].exports;var t=u[e]={exports:{},id:e,loaded:!1};return o[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var o,u});

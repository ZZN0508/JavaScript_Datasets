YUI.add("af-applet-savesettings",function(o){"use strict";var r="container";function e(){}e.prototype={name:"applet.savesettings",execute:function(e,t,s){"applet.savesettings"!==t.action&&"savesettings"!==t.action||this.saveSettings(e,t.params.guid,t.params),s()},saveSettings:function(s,a,i){var e,n;s.applets&&s.applets[a]&&(i=i||{},n=s.applets[a],(e=i.src?n.get(r).one(i.src):(e=n.getView("settings"))&&e.get("container").one("form"))&&n.get("model").saveSettings(o.Af.Dom.parseForm(e),{critical:i.critical},function(e){var t;e&&"invalid_settings"===e.code?o.Af.Message.show(n.get(r),{level:"error",content:e.message}):(i.showview&&((t=n.getView(i.showview))||(t=n.createView(i.showview))&&t.render(),t&&s.execControllers({action:"showview",params:{guid:a,view:i.showview}})),e&&o.Af.Message.show(n.get(r),{level:"error",token:e}))}))}},o.namespace("Af").AppletSaveSettings=e},"@VERSION@",{requires:["af-dom","af-message"]});

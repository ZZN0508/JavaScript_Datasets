!function(){function e(){i(s).target.forEach(function(e){n.instances.has(e)||new n(e)})}function n(e){var t=this;this.selector={section:s,btn:".notification-bar__toggle-btn",hidden:".notification-bar__toggle-btn .hidden",content:".notification-bar__inner",nomarl:".notification-bar__column--collapsed",expend:".notification-bar__column--expanded"},this.timer=null,this.ele={window:i(window),section:i(e),btn:null,content:null,nomarl:null,expand:null},this.handler={resize:function(){t.ele.section.css({height:""}),t.timer&&clearTimeout(t.timer),setTimeout(function(){t.setHeight()},400)}},this.setProperty(),n.instances.set(e,this),this.init()}var i=window.sg.common.$q,s=".notification-bar";n.prototype.setProperty=function(){this.ele.btn=this.ele.section.find(this.selector.btn),this.ele.hidden=this.ele.section.find(this.selector.hidden),this.ele.content=this.ele.section.find(this.selector.content),this.ele.pdBanner=this.ele.section.find(this.selector.pdBanner),this.ele.nomarl=this.ele.section.find(this.selector.nomarl),this.ele.expand=this.ele.section.find(this.selector.expend)},n.prototype.init=function(){this.bindEvents()},n.prototype.reInit=function(){this.setProperty(),this.bindEvents()},n.prototype.setHeight=function(){this.ele.section.css({height:this.ele.content.outerHeight()+"px"})},n.prototype.bindEvents=function(){var e=this;this.ele.btn.off("click").on("click",function(){e.ele.section.hasClass("is-expanded")?e.closeBanner():e.openBanner()}),this.ele.window.off("resize",this.handler.resize).on("resize",this.handler.resize),this.setHeight()},n.prototype.openBanner=function(){this.ele.section.addClass("is-expanded"),this.ele.section.attr("aria-expanded",!0),this.ele.nomarl.hide(),this.ele.expand.show(),this.ele.hidden.innerHTML("Click to Collapse"),this.setHeight()},n.prototype.closeBanner=function(){this.ele.section.removeClass("is-expanded"),this.ele.section.attr("aria-expanded",!1),this.ele.nomarl.show(),this.ele.expand.hide(),this.ele.hidden.innerHTML("Click to Expand"),this.setHeight()},n.instances=new WeakMap,window.sg.components.notificationBar={init:e,reInit:function(){i(s).target.forEach(function(e){n.instances.has(e)?n.instances.get(e).reInit():new n(e)})},closeBanner:function(t){t=void 0===t||t,i(s).target.forEach(function(e){n.instances.has(e)&&n.instances.get(e).closeBanner(t)})}},i.ready(e)}(),function(){function e(){n.find("p.usp-banner__desc").target.forEach(function(e){var t=(e=i(e)).attr("data-an-page-track"),n=e.attr("data-an-headline-text");e.find("a").target.forEach(function(e){e.setAttribute("an-tr","ft17_usp banner-"+t+"-text-link"),e.setAttribute("an-ca","content click"),e.setAttribute("an-ac","feature"),e.setAttribute("an-la","usp banner:"+n)})}),n.target.forEach(function(e){var t,n=i(e);n.hasClass("usp-banner--bg-dynamic")&&(t=n.find(".swiper-container"),e=function(){t.find(".swiper-slide-active").hasClass("dynamic--bg-light-gray")?(n.addClass("dynamic--bg-light-gray"),n.removeClass("dynamic--bg-blue")):t.find(".swiper-slide-active").hasClass("dynamic--bg-blue")&&(n.addClass("dynamic--bg-blue"),n.removeClass("dynamic--bg-light-gray"))},s.getSwiper(t.target[0]).on("transitionEnd",e),e())})}function t(){(n=i(".usp-banner")).target.length&&e()}var i=window.sg.common.$q,s=window.sg.common.swiperManager,n=null;i.ready(t),window.sg.components.uspBanner={init:t,reInit:function(){i(".usp-banner").find(".basic-swiper").target.forEach(function(e){s.getSwiper(e)?s.slideReInit(e):s.slideInit(e)}),e()}}}();

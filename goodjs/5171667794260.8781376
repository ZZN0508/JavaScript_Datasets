!function(e){function t(){}for(var n,o=["error","info","log","warn","clear"];n=o.pop();)e[n]=e[n]||t}(window.console=window.console||{}),console=window.console,function(e){function t(){return o||function(){if(!i){try{document.domain=s.domain}catch(e){throw new Error(c.domain)}var e=document.getElementById(a);e&&e.parentNode.removeChild(e);var t=document.createElement("div"),n=document.body,o='<iframe src="'+s.url+"?handle="+r+"&domain="+s.domain+'" frameborder="0"></iframe>',e="-100000em";t.style.position="absolute",t.style.left=e,t.style.top=e,t.className="hidden",t.id=a,t.innerHTML=o,n.insertBefore(t,n.childNodes[0])}}(),o}var n=[],o=0,i=null,a="___CrossDomainStorage___",r=a+".onReady",s={domain:"sina.com.cn",url:"//news.sina.com.cn/iframe/87/store.html"},c={domain:"fail to set domain!"},u={ready:function(e){t()?e(i):n.push(e)},onReady:function(e){if(!o){if(o=1,i=e,n)for(;n.length;)n.shift()(e);n=null}},config:function(e){if(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]||s[t]);return this}}};e[a]=u}(window),function(exports){var Util={byId:function(e){return document.getElementById(e)},byAttr:function(e,t,n){var o=[];n=n||"";function i(e){return e.getAttribute(t)}for(var a=0,r=e.childNodes.length;a<r;a++)1==e.childNodes[a].nodeType&&((n?i(e.childNodes[a])==n:""!=i(e.childNodes[a]))&&o.push(e.childNodes[a]),0<e.childNodes[a].childNodes.length&&(o=o.concat(arguments.callee.call(null,e.childNodes[a],t,n))));return o},bindEvent:function(e,t,n){return e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1),e},builder:function(e,t){for(var n=this.byAttr(e,t),o={},i=0,a=n.length;i<a;i++){var r=n[i].getAttribute(t);r&&(o[r]||(o[r]=[]),o[r].push(n[i]))}return{box:e,list:o}},strLeft2:function(e,t){var n=e.replace(/\*/g," ").replace(/[^\x00-\xff]/g,"**");return e=function(e){if(void 0===e)return 0;var t=e.match(/[^\x00-\x80]/g);return e.length+(t?t.length:0)}(e=e.slice(0,n.slice(0,t).replace(/\*\*/g," ").replace(/\*/g,"").length))>t?e.slice(0,e.length-1):e},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},getGuid:function(){return Math.abs((new Date).getTime())+"_"+Math.round(1e8*Math.random())},extend:function(e,t,n){e=e||{};var o,i=typeof t,a=1;for("undefined"!=i&&"boolean"!=i||(n="boolean"==i&&t,t=e,e=this),"object"!=typeof t&&"[object Function]"!==Object.prototype.toString.call(t)&&(t={});a<=2;){if(null!==(o=1===a?e:t))for(var r in o){var s=e[r],c=o[r];e!==c&&(n&&c&&"object"==typeof c&&!c.nodeType?e[r]=this.extend(s||(null!==c.length?[]:{}),c,n):void 0!==c&&(e[r]=c))}a++}return e},cookie:(ia={getCookie:function(e){e=e.replace(/([\.\[\]\$])/g,"\\$1");e=new RegExp(e+"=([^;]*)?;","i"),e=(document.cookie+";").match(e);return e&&unescape(e[1])||""},setCookie:function(e,t,n,o,i,a){var r=[];r.push(e+"="+escape(t)),n&&(n=(t=new Date).getTime()+36e5*n,t.setTime(n),r.push("expires="+t.toGMTString())),o&&r.push("path="+o),i&&r.push("domain="+i),a&&r.push(a),document.cookie=r.join(";")},deleteCookie:function(e){document.cookie=e+"=;expires=Fri, 31 Dec 1999 23:59:59 GMT;"}},ia),jsonp:function(url,params,cb,fix){var head=document.getElementsByTagName("head")[0],idStr=url+"&"+params,ojs=Util.byId(idStr);ojs&&head.removeChild(ojs);var fun="",js=document.createElement("script");fix=fix||!1,fix?"string"==typeof cb&&(fun=cb):(url=url+(-1==url.indexOf("?")?"?":"&")+"_t="+Math.random(),"function"==typeof cb&&(fun="fun_"+Util.getGuid(),eval(fun+"=function(res){cb(res)}"))),url=url+"&callback="+fun,url=url+"&"+params,js.src=url,js.id=idStr,js.type="text/javascript",js.language="javascript",head.appendChild(js)},jsLoad:function(e,t){var n=document.getElementsByTagName("head")[0],o=document.createElement("script"),i=!1;o.onload=o.onreadystatechange=function(){i||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(i=!0,o.onload=o.onreadystatechange=null,"function"==typeof t&&t())},o.src=e;try{n.appendChild(o)}catch(e){}},uaTrack:function(e,t){if("function"==typeof _S_uaTrack)try{_S_uaTrack(e,t)}catch(e){}},timeoutHandle:(Ga=[],Ha={success:function(e){e=Ga[e];e&&(e.isSuccess=!0,clearTimeout(e.timer))},timeout:function(e,t){var n=Ga[e];n&&(n.timer=setTimeout(function(){n.isSuccess||"function"==typeof t&&t.call(this)},n.time))}},function(e,t,n){if(Ga[e])throw new Error(e+"鐎规瓕灏欑划锛勬偖椤愩垹绐楅柣顫嫹");Ga[e]={},Ga[e].time=n||5e3,Ga[e].isSuccess=!1,"function"==typeof t&&t.call(this,Ha)}),queryToJson:function(e,t){for(var n=e.split("&"),o={},i=0,a=n.length;i<a;i++)n[i]&&(hash=n[i].split("="),key=hash[0],val=hash[1],hash.length<2&&(val=""),o[key]||(o[key]=val));return o},app:{filter:function(e,t){var n,o;n=encodeURIComponent(location.href),o=decodeURIComponent(n.split("?")[0].split("#")[0])}}},Ga,Ha,ia,Clz=function(e){function o(){this.init.apply(this,arguments)}var t;return e&&((t=function(){}).prototype=e.prototype,o.prototype=new t),o.prototype.init=function(){},((o.fn=o.prototype).parent=o)._super=o.__proto__,o.extend=function(e){var t,n=e.extended;for(t in e)o[t]=e[t];n&&n(o)},o.include=function(e){var t,n=e.included;for(t in e)o.fn[t]=e[t];n&&n(o)},o};Util.Clz=Clz;var Loader=new Clz;Loader.include({init:function(e){this.setStat(),this.setOpt(e),this.getData()},setOpt:function(e){this.opt=this.opt||{api:"//interest.mix.sina.com.cn/api/cate/get",type:"",dpc:"",loadComplete:function(){},time:3e3,error:function(e){}};var t=this.opt;e&&Util.extend(t,e,!0)},setStat:function(){this._data=null},getGuid:function(){var e=Util.cookie,t=e.getCookie("SGUID");return parseInt(t||"0")<=0&&(t=Util.getGuid(),e.setCookie("SGUID",t,43800,"/","sina.com.cn")),t},getData:function(){var n=this,o=n.opt,e="cb_"+Util.getGuid(),i="loadrecommenderdata"+Util.getGuid(),t=(n.getGuid(),n.opt.api),a=o.dpc?"dpc=1":"";-1!=t.indexOf("?")?t+="&":t+="?";var r=t+"rnd="+Util.getGuid();Util.timeoutHandle(i,function(t){exports[e]=function(e){t.success(i),(n._data=e).data&&0<e.data.length?(n._loadComplete(e),o.loadComplete(e)):o.error({type:"invaild-data",msg:"invail data"})},t.timeout(i,function(){o.error({type:"timeout",msg:i+" "+o.time+" timeout"})}),Util.jsonp(r,a,e,!0)},o.time)},_loadComplete:function(e){}});var PageLoader=new Clz(Loader);PageLoader.include({init:function(e){this.setOpt(e),this.getData()},setOpt:function(e){this.opt=this.opt||{api:"//interest.mix.sina.com.cn/api/cate/get",type:"",listNum:10,pageNum:10,handleData:function(){},loadComplete:function(){},pageComplete:function(){},time:3e3,error:function(e){}};var t=this.opt;e&&Util.extend(t,e,!0)},_loadComplete:function(e){var t=this.opt.handleData(e);this.page(e=void 0!==t&&t?t:e)},page:function(e){var t=[];e&&(e.data&&(t=e.data),e.top&&(t=t.concat(e.top)));t=function(e,t,n){var o,i,a=e.length,r=0,s=[];for(n=n||1/0,t=t||a,i=0;i<n&&!(a+3<(o=r+t));i++)s.push(e.slice(r,o)),r+=t;return s}(t,parseInt(this.opt.listNum,10),parseInt(this.opt.pageNum,10));this.opt.pageComplete(t)}});var Recommender={register:function(e,t){for(var n,o=0,i=Recommender,a=e.split("."),r=a.length,s=r-1;o<r;){if(n=a[o],o==s){if(void 0!==i[n])throw a+":: has registered";i[n]=t}void 0===i[n]&&(i[n]={}),i=i[n],o++}}};Recommender.register("util",Util),Recommender.register("Clz",Clz),Recommender.register("Loader",Loader),Recommender.register("PageLoader",PageLoader);var EXPORTS_NAME="SinaRecommender",UGLIFY_NAME="___"+EXPORTS_NAME+"___";if(exports[UGLIFY_NAME]=Recommender,exports[EXPORTS_NAME])throw'涓€у寲鎺ㄨ崘鍏ㄥ眬鍙橀噺鍚�"'+EXPORTS_NAME+'"宸茬粡琚崰鐢紝鍙娇鐢�'+UGLIFY_NAME;exports[EXPORTS_NAME]=Recommender}(window),SHM.register("home.guess.init",function(a){function s(e,t){if("function"==typeof _S_uaTrack)try{_S_uaTrack(e,t)}catch(e){}}var c=a.dom.byId,C=!1,u=null,e={};return e.init=function(){window.ontouchstart;function e(){var v,_,n,o,y,w,e,a,b,S=c("SI_Guess_Wrap");S&&(v=S.getAttribute("page-length")||1/0,_=S.getAttribute("list-length")||1/0,n=S.getAttribute("item-length")||1/0,document.getElementById(S.getAttribute("change-btn")),o=function(e,t){var n,o=e.replace(/\*/g," ").replace(/[^\x00-\xff]/g,"**");return e=e.slice(0,o.slice(0,t).replace(/\*\*/g," ").replace(/\*/g,"").length),o=(n=e).match(/[^\x00-\x80]/g),e=n.length+(o?o.length:0)>t?e.slice(0,e.length-1):e},y=function(e,t){if(n==1/0)return e;switch(t){case"slide":case"video":e=o(e,2*(n-1));break;default:e=o(e,2*n)}return e},w=function(){var p,e,t;S.getElementsByTagName("ul").length<2||((t=c("SI_Guess_Control"))&&(t.style.display=""),t&&(t.innerHTML='<a class="mod-guess-prev" href="javascript:;" title="涓婁竴甯�" id="SI_Guess_Prev" hidefocus="true">涓婁竴甯�</a> <span class="mod-guess-dots" id="SI_Guess_Dots"> </span> <a class="mod-guess-next" href="javascript:;" title="涓嬩竴甯�" id="SI_Guess_Next" hidefocus="true">涓嬩竴甯�</a>'),e={init:function(e){var n=0,o=e.BoxId;if(void 0!==o){var i,t=e.leftBtn,a=e.rightBtn,r=e.transitionTime,s=e.pointsBox,c=!0,c=void 0!==e.autoPlay&&e.autoPlay;i=e.itemWidth||o.css("width").replace("px","");e=o.find(".list-a").first().clone();o.find(".mod-guess-cont").append(e);var u=o.find(".mod-guess-cont .list-a").size();o.width=u*i,o.find(".mod-guess-cont").width(u*i);for(var l=0;l<u-1;l++)s.append("<span class='dotItem' title='绗�"+(l+1)+"椤�'></span>");s.find(".dotItem").first().addClass("current"),function(){{var e;c&&(e=setInterval(function(){n++,d()},r||3e3))}o.hover(function(){clearInterval(e)},function(){c&&(e=setInterval(function(){n++,d()},r||3e3))}),s.find(".dotItem").hover(function(){var e=Math.abs(o.find(".mod-guess-cont").css("left").replace("px","")),t=p(this).index();e==(u-1)*i&&0==t||(n=t,d(),p(this).addClass("current").siblings().removeClass("current"))},function(){var e=Math.abs(o.find(".mod-guess-cont").css("left").replace("px","")),t=p(this).index();e==(u-1)*i&&0==t&&o.find(".mod-guess-cont").stop().css({left:0})}),void 0!==t&&t.on("click",function(){n--,d()});void 0!==a&&a.on("click",function(){n++,d()})}()}function d(){n==u&&(o.find(".mod-guess-cont").css({left:0}),n=1),-1==n&&(o.find(".mod-guess-cont").css({left:-(u-1)*i}),n=u-2),o.find(".mod-guess-cont").stop().animate({left:-n*i},500),n==u-1?s.find(".dotItem").eq(0).addClass("current").siblings().removeClass("current"):(s.find(".dotItem").eq(n).addClass("current").siblings().removeClass("current"),s.find(".dotItem").eq(n).addClass("current").siblings().removeClass("current"))}}},t={BoxId:(p=jQuery)("#SI_Order_Guess"),leftBtn:p("#SI_Order_Guess .mod-guess-prev"),rightBtn:p("#SI_Order_Guess .mod-guess-next"),transitionTime:15e3,pointsBox:p("#SI_Order_Guess .mod-guess-dots"),autoPlay:!0},e.init(t),c("SI_Guess_Prev").onmousedown=function(){s("index_new_guess","change")},c("SI_Guess_Next").onmousedown=function(){s("index_new_guess","change")})},e=window.___SinaRecommender___,a=e.util,b="c",u=new e.PageLoader({api:"//cre.mix.sina.com.cn/api/v3/get?cateid=sina_all&cre=tianyi&mod=pchp&merge=3&statics=1&length="+_*v+"&up=0&down=0&fields=url_https,media,labels_show,title,url,info,thumbs,mthumbs,thumb,ctime,reason,vtype,category&tm=1514342107&action=0&offset=0&top_id=",listNum:_,pageNum:v,time:5e3,pageComplete:function(e){function t(e){return void 0===(e=r[e])?"":e}for(var n,o,i=e,a="",r={3:"videoNewsLeft",2:"slideNewsLeft"},s=' target="_blank" suda-uatrack="key=index_new_guess&value='+b+"_click",c=i.length<v?i.length:v,u=0;u<c;u++){var l,d=(l=i[u]).length,p="c"==b?' page-data="'+u+'" ':"";if(u!=c-1&&d<_)break;if(u<c-1){a+='<ul class="list-a slide-a list-a-201406121603">';for(var f=0;f<d;f++){n=l[f],25<(o=n.title.replace(/<\/?[^>]*>/g,"")).length&&(o=n.stitle?n.stitle.replace(/<\/?[^>]*>/g,""):o);var m=n.url_https||n.url,g=m+"?cre=sinapc&mod=g",h=m.substring(m.length-4);a+="html"==h?"<li><a "+p+' class="'+t(n.type)+'" '+s+'" href="'+g+'" title="'+o+'">'+y(o,n.type)+"</a></li>":"<li><a "+p+' class="'+t(n.type)+'" '+s+'" href="'+m+'" title="'+o+'">'+y(o,n.type)+"</a></li>"}a+="</ul>"}}S.innerHTML=a,w(),C=!0,SHMUATrack("guess",b+"_pageview"),x(S,e)},error:function(e){var t,n,o,i;Loader=u,"timeout"!=e.type&&"invaild-data"!=e.type||("timeout"==e.type&&SHMUATrack("guess",b+"_timeout"),t="//top.news.sina.com.cn/ws/GetTopDataList.php?top_type=day&top_cat=www_www_all_suda_12_suda&top_time="+(n=new Date,o=n.getFullYear(),i=n.getMonth()+1,n=n.getDate(),o+""+(i=i<10?"0"+i:i)+(n=n<10?"0"+n:n))+"&top_show_num="+Loader.opt.listNum*Loader.opt.pageNum+"&top_order=ASC&format=json&__app_key=ls",e="cb_"+a.getGuid(),window[e]=function(e){b="c_hotlist",e=e.result,Loader._data=e,Loader._loadComplete(e),Loader.opt.loadComplete(e)},a.jsonp(t,"dpc=1",e,!0))}}))}var r,n,x=(n={},function(e,t){r=t,a.evt.addEvent(e,"click",function(e){var a,e=((e=e||window.event).target||e.srcElement).getAttribute("page-data");e&&(n[a=e]||(a=parseInt(a,10),e=function(){for(var e=[],t=r[a],n=0,o=t.length;n<o;n++){var i=t[n];e.push(encodeURIComponent(i.url))}return e.join(",")}(),s("recmd_news_view",e),n[a]=1))})});e();var t,o,i=a.E("SI_Guess_Login_Btn");i&&(t=window.SINA_OUTLOGIN_LAYER,o=a.evt.custEvent.add,a.evt.custEvent.remove,sinaSSOController.get51UCCookie()&&i&&(i.style.display="none"),o(a,"loginSuccess",function(){i&&(i.style.display="none")}),o(a,"logoutSuccess",function(){i&&(i.style.display="none")}),a.evt.addEvent(i,"click",function(){SHMUATrack("guess","weibo_hotshow_signin"),t.set("plugin",{position:"top,right",parentNode:null,relatedNode:i}).set("drag",{enable:!0,dragarea:"page"}).set("styles",{marginLeft:0,marginTop:"40px"}).show(),o(a,"loginSuccess",function(){u?u.getData():e()})}))},e.isLoaded=function(){return C},e.init(),e}),SHM.register("home.guess.isLoaded",function(e){return function(){return e.home.guess.init.isLoaded()}});

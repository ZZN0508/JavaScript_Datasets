(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["header~1ed6d697"],{"30bac":function(e,t,r){"use strict";var n,o=r("1a22b"),a=r.n(o),i=r("29218"),c=r.n(i),s=r("447d8"),l=r("7ca7d"),u=r("eb3e2"),f=r("ed724"),h=r("dd0fa"),d=(r("4cf69"),function TopSearch(e){var t=e.hotItem,r=e.hover,n=e.searching;return r||n?null:a.a.createElement("label",{htmlFor:"header-search-input",className:"Search-label",__self:void 0},t)}),m=function Placeholder(e){var t=e.placeholderText,r=e.hover,n=e.searching;return r&&!n?a.a.createElement("label",{htmlFor:"header-search-input",className:"Search-label",__self:void 0},t):null},p=r("54992"),_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":_(t))&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":_(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}var v,y,g,b,S=Object(p.log)(n=function(e){function SuggestBox(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuggestBox);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),r.goSearch=function(e,t){(0,r.props.searchItem)(t,"history"),r.searchService.removeSearchSid(),window.open("/search?kw="+encodeURIComponent(e))},_possibleConstructorReturn(r,t)}return _inherits(SuggestBox,e),SuggestBox.prototype.render=function render(){var e=this,t=this.props,r=t.localOwnSource,n=void 0===r?[]:r,o=t.removeSource,i=t.removeAllOwnSource;return n.length?a.a.createElement("div",{className:"Search-history",__self:this},a.a.createElement("div",{className:"Search-history-title",__self:this},a.a.createElement("a",{onClick:i,__self:this},"\u6e05\u7a7a"),a.a.createElement("i",{__self:this}),a.a.createElement("span",{__self:this},"\u5386\u53f2\u641c\u7d22")),a.a.createElement("ul",{className:"Search-historyList",__self:this},n.map(function(t,r){return a.a.createElement("li",{key:r,"data-name":t,"data-type":"4","data-index":r+1,onClick:function onClick(r){e.goSearch(t,r)},__self:e},a.a.createElement("i",{"data-index":r,"data-name":t,onClick:o,__self:e}),a.a.createElement("span",{__self:e},t))}))):null},SuggestBox}(a.a.Component))||n,w=r("a42dc"),E=r.n(w),L=r("d98b2"),O=r.n(L),k=r("eb8d1"),x=r.n(k),C=function trim(e){return e.replace(/(^\s*)|(\s*$)/g,"")},N=function getDyBuffExtField(e){var t=e||{},r=t.rpos,n=t.ranktype,o=t.recomType,a=t.extra;return a?{_rpos:r,_rt:n,_sub_rt:o,_extra:a}:{}},j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function HotList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":j(t))&&"function"!==typeof t?e:t}function HotList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":j(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function HotList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}var D={1:"\u76f4\u64ad\u95f4",2:"\u5206\u533a"},T={1:x.a,2:E.a,3:O.a},R=(v=(0,l.default.Service)(u.DataCenter.localStorage),Object(p.log)((g=function(e){function SuggestBox(){var t,r;!function HotList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuggestBox);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=r=HotList_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),function _initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(r,"localStorage",b,r),r.clickHotItem=function(e){var t=e.link,n=e.type,o=e.kw,a=e.isAd,i=e.recomExtra,c=void 0===i?{}:i;return function(e){if((0,r.props.searchItem)(e,"rank",{ext:{_is_arrange:a,_s_result:n>=3?2:1,_sr_type:n},recomExtra:c}),c){var i=c.recom_id;r.localStorage.set("search_buff_view_dot",P({},N(c),{type:"dybuff",roomId:i}),6)}t&&0!==n?window.open(t):(r.searchService.removeSearchSid(),window.open("/search?kw="+encodeURIComponent(o)))}},HotList_possibleConstructorReturn(r,t)}return HotList_inherits(SuggestBox,e),SuggestBox.prototype.render=function render(){var e=this,t=this.props.hotList,r=void 0===t?[]:t;return r.length?a.a.createElement("div",{className:"Search-hot",__self:this},a.a.createElement("div",{className:"Search-hot-title",__self:this},a.a.createElement("i",{__self:this}),a.a.createElement("span",{__self:this},"\u4eca\u65e5\u70ed\u641c")),a.a.createElement("ul",{className:"Search-hotList",__self:this},a.a.createElement("div",{className:"Search-hotList-col1",__self:this},r.slice(0,5).map(function(t,r){return a.a.createElement("li",{key:r,__self:e},a.a.createElement("a",{"data-name":t.kw,"data-type":"3","data-index":r+1,onClick:e.clickHotItem(t),__self:e},a.a.createElement("i",{__self:e},r+1),a.a.createElement("div",{className:"Search-hotList-kw",__self:e},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.kw},__self:e}),T[t.hotTag]?a.a.createElement("div",{className:"Search-hotList-icon",__self:e},a.a.createElement("img",{style:{marginTop:"-2px"},src:T[t.hotTag],__self:e})):null)),a.a.createElement("span",{className:"Search-hotList-hot",__self:e},t.hot||null),1===t.type||2===t.type?a.a.createElement("a",{className:"Search-direct",target:"_blank",href:t.link,__self:e},D[t.type]):null)})),r&&r.length>=5?a.a.createElement("div",{className:"Search-hotList-col2",__self:this},r.slice(5,10).map(function(t,r){return a.a.createElement("li",{key:r,__self:e},a.a.createElement("a",{"data-name":t.kw,"data-type":"3","data-index":r+6,onClick:e.clickHotItem(t),__self:e},a.a.createElement("i",{__self:e},r+6),a.a.createElement("div",{className:"Search-hotList-kw",__self:e},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.kw},__self:e}),T[t.hotTag]?a.a.createElement("div",{className:"Search-hotList-icon",__self:e},a.a.createElement("img",{style:{marginTop:"-2px"},src:T[t.hotTag],__self:e})):null)),a.a.createElement("span",{className:"Search-hotList-hot",__self:e},t.hot),1===t.type||2===t.type?a.a.createElement("a",{className:"Search-direct",target:"_blank",href:t.link,__self:e},D[t.type]):null)})):null)):null},SuggestBox}(a.a.Component),b=function _applyDecoratedDescriptor(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(g.prototype,"localStorage",[v],{enumerable:!0,initializer:null}),y=g))||y),I=r("d6b6c"),B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function DefaultWorld_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":B(t))&&"function"!==typeof t?e:t}function DefaultWorld_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":B(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function DefaultWorld_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}var W=function(e){function DefaultWorld(){var t,r;!function DefaultWorld_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DefaultWorld);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=r=DefaultWorld_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),r.goSearch=function(e){return function(t){(0,r.props.searchItem)(t,"defaultWord"),r.searchService.removeSearchSid(),window.open("/search?kw="+encodeURIComponent(e))}},DefaultWorld_possibleConstructorReturn(r,t)}return DefaultWorld_inherits(DefaultWorld,e),DefaultWorld.prototype.render=function render(){var e=this,t=this.props.defaultList;return t&&0!==t.length?(Object(I.a)("110100Z02005.3.1")(),a.a.createElement("div",{className:"Search-default",__self:this},t.map(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).kw,r=void 0===t?"":t,n=arguments[1];return a.a.createElement("span",{key:n,className:"Search-default-item","data-name":r,"data-index":n+1,onClick:e.goSearch(r),__self:e},r)}))):null},DefaultWorld}(a.a.Component),A=r("e92f2"),U=r.n(A),z=r("770d6"),H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function PanelBottomAds_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":H(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function PanelBottomAds_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}var M,F=function(e){function PanelBottomAds(){return function PanelBottomAds_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PanelBottomAds),function PanelBottomAds_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":H(t))&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return PanelBottomAds_inherits(PanelBottomAds,e),PanelBottomAds.prototype.render=function render(){var e=this.state,t=e.adData,r=void 0===t?{}:t,n=e.link,o=e.src,i=e.exConfig,c=void 0===i?{}:i;return Object.keys(r).length?!+c.skipType?a.a.createElement("div",{className:"Search-ad-img",__self:this},a.a.createElement(z.ImgSignTpl,{src:o,link:n,EC:c,handleClickSign:this.handleClickSign,handleShowSign:this.handleShowSign,__self:this})):a.a.createElement("div",{className:"Search-ad-txt",__self:this},a.a.createElement("i",{className:"Search-ad-txt-sign-spec",__self:this},"\u5e7f\u544a"),a.a.createElement(z.TextSignTpl,{data:r,handleClickSign:this.handleClickSign,handleShowSign:this.handleShowSign,__self:this})):null},PanelBottomAds}(U.a),Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function SuggestBox_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":Z(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SuggestBox_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}var V=l.default.Region,K=Object(p.log)(M=function(e){function SuggestBox(){return function SuggestBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuggestBox),function SuggestBox_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":Z(t))&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return SuggestBox_inherits(SuggestBox,e),SuggestBox.prototype.render=function render(){var e=this,t=this.props,r=t.hotList,n=void 0===r?[]:r,o=t.localOwnSource,i=void 0===o?[]:o,c=t.searchItem,s=t.goSearchTarget,l=t.removeSource,u=t.removeAllOwnSource,f=t.defaultList;return a.a.createElement("div",{className:"Search-suggestBoxContent",__self:this},a.a.createElement(W,{defaultList:f,searchItem:c,__self:this}),a.a.createElement(S,{localOwnSource:i,goSearchTarget:s,removeSource:l,removeAllOwnSource:u,searchItem:c,__self:this}),a.a.createElement(R,{hotList:n,searchItem:c,__self:this}),a.a.createElement(V,{className:"Search-ad",name:"sign",belongTo:"HeaderApp",data:{id:"1021106",viewRender:function viewRender(){return a.a.createElement(F,{data:{id:1021106},__self:e})},cleanRender:function cleanRender(){return null}},__self:this}))},SuggestBox}(a.a.Component))||M,q=r("7912b"),$=r("c26de"),G=r.n($),J=function RecommendAnchor(e){var t=e.index,r=e.kw,n=e.cid,o=e.position,i=e.expand,c=e.keyWord,s=e.avatar,l=e.nickName,u=e.isLive,f=e.cateName,h=e.rid,d=e.vipId,m=e.highLightKeyword,p=e.searchItem,_=e.algorithm,v=void 0===_?{}:_,y=e.isLoop;return a.a.createElement("div",{className:"Search-recommend",__self:void 0},a.a.createElement("a",{className:"Search-recommend-link",href:"/"+h,target:"_blank","data-name":r,"data-index":o+1,onClick:function onClick(e){return p(e,"recommend",{com:{tid:n},ext:{_s_result:1,_rid:h,_is_on:u,_is_detail:1,_siw:c,_rt:v.rt||""}})},__self:void 0},a.a.createElement("span",{className:"Search-recommend-avatar"+(1===y?" is-loop":function getLiveClass(e){return 1===e?" is-live":""}(u)),__self:void 0},a.a.createElement(q.b,{isLazyable:!1,src:s,defaultSrc:G.a,alt:l,__self:void 0})),a.a.createElement("div",{className:"Search-recommend-info",__self:void 0},a.a.createElement("h3",{__self:void 0},m(t===i?l:r,c)),a.a.createElement("p",{__self:void 0},m(+c>=0||!f?d?"\u9753\u53f7\uff1a"+d:"\u623f\u95f4\u53f7\uff1a"+h:f,c)))),a.a.createElement("a",{className:"Search-direct",href:"/"+h,target:"_blank","data-name":r,"data-index":o+1,onClick:function onClick(e){return p(e,"recommend",{com:{p:o,tid:n},ext:{_s_result:2,_rid:h,_is_on:u,_is_detail:1,_siw:c}})},__self:void 0},"\u76f4\u64ad\u95f4"))},Q=function RecommendCategory(e){var t=e.index,r=e.keyWord,n=e.kw,o=e.cid,i=e.shortName,c=e.icon,s=e.algorithm,l=void 0===s?{}:s,u=e.highLightKeyword,f=e.searchItem;return a.a.createElement("div",{className:"Search-recommend",__self:void 0},a.a.createElement("a",{className:"Search-recommend-link",href:"/g_"+i,target:"_blank","data-name":n,"data-index":t+1,onClick:function onClick(e){return f(e,"recommend",{com:{tid:o},ext:{_s_result:2,_rid:"",_is_on:0,_is_detail:0,_siw:r,_rt:l.rt||""}})},__self:void 0},a.a.createElement("span",{className:"Search-recommend-avatar is-cate",__self:void 0},a.a.createElement(q.b,{isLazyable:!1,src:c,defaultSrc:G.a,alt:n,__self:void 0})),a.a.createElement("div",{className:"Search-recommend-info",__self:void 0},a.a.createElement("h3",{className:"Search-recommend-title",__self:void 0},u(n,r)))),a.a.createElement("a",{className:"Search-direct",href:"/g_"+i,target:"_blank","data-name":n,"data-index":t+1,onClick:function onClick(e){return f(e,"recommend",{com:{tid:o},ext:{_s_result:2,_rid:"",_is_on:0,_is_detail:0,_siw:r,_rt:l.rt||""}})},__self:void 0},"\u5206\u533a"))},X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function RecommendBox_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":X(t))&&"function"!==typeof t?e:t}function RecommendBox_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":X(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RecommendBox_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}var ee=function highLightKeyword(e,t){if(t){var r=e.toLowerCase(),n=t.toLowerCase(),o=r.indexOf(n);if(o>=0){var i=e.slice(0,o),c=e.slice(o+t.length),s=e.slice(o,o+t.length);return a.a.createElement(a.a.Fragment,{__self:void 0},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:i},__self:void 0}),a.a.createElement("span",{className:"Search-keyword",__self:void 0},s),a.a.createElement("span",{dangerouslySetInnerHTML:{__html:c},__self:void 0}))}}return a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e},__self:void 0})},te=function(e){function RecommendBox(){var t,r;!function RecommendBox_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RecommendBox);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=r=RecommendBox_possibleConstructorReturn(this,e.call.apply(e,[this].concat(o))),r.state={expand:0},r.mouseEnter=function(e){return function(){r.setState({expand:e})}},RecommendBox_possibleConstructorReturn(r,t)}return RecommendBox_inherits(RecommendBox,e),RecommendBox.prototype.render=function render(){var e=this,t=this.props,r=t.recommendList,n=r.roomList,o=r.cateList,i=t.searchItem,c=t.keyWord,s=this.state.expand,l=[].concat(o.map(function(e,t){return Y({},e,{position:t,isCate:1})}).slice(0,5),n.map(function(e,t){return Y({},e,{position:t,isisRoom:1})}).slice(0,10));return a.a.createElement("div",{className:"Search-suggestBoxContent",style:{width:250},__self:this},a.a.createElement("ul",{__self:this},l.map(function(t,r){return a.a.createElement("li",{key:r,className:"Search-recommend-item"+(r===s?" is-expand":""),onMouseEnter:e.mouseEnter(r),__self:e},t.isCate?a.a.createElement(Q,Y({},t,{index:r,keyWord:c,highLightKeyword:ee,searchItem:i,__self:e})):a.a.createElement(J,Y({},t,{index:r,expand:s,keyWord:c,highLightKeyword:ee,searchItem:i,__self:e})))})))},RecommendBox}(a.a.Component),re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _objectWithoutProperties(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var ne,oe,ae,ie,ce,se,le,ue,fe,he,de,me,pe=function SearchPanWrapper(e){var t=e.children,r=e.className,n=void 0===r?"":r;return a.a.createElement("div",{className:"public-DropMenu-drop "+n,__self:void 0},a.a.createElement("i",{__self:void 0}),a.a.createElement("div",{className:"public-DropMenu-drop-main",__self:void 0},t))},_e=function RecommendList(e){var t=e.hover,r=e.recommendList,n=r.roomList,o=void 0===n?[]:n,i=r.cateList,c=void 0===i?[]:i,s=_objectWithoutProperties(e,["hover","recommendList"]);return t&&(o.length||c.length)?a.a.createElement(pe,{__self:void 0},a.a.createElement(te,re({recommendList:{roomList:o,cateList:c}},s,{__self:void 0}))):null},ve=function SuggestList(e){var t=e.hover,r=(e.className,_objectWithoutProperties(e,["hover","className"]));return t?a.a.createElement(pe,{className:"suggest-drop",__self:void 0},a.a.createElement(K,re({},r,{__self:void 0}))):null},ye=function SearchPane(e){var t=e.keyWord,r=e.searching,n=e.hover,o=e.hotList,i=e.searchItem,c=e.localOwnSource,s=e.goSearchTarget,l=e.removeSource,u=e.removeAllOwnSource,f=e.recommendList,h=e.defaultList;return r?a.a.createElement(_e,{keyWord:t,hover:n,searching:r,recommendList:f,searchItem:i,__self:void 0}):a.a.createElement(ve,{hover:n,searching:r,hotList:o,searchItem:i,localOwnSource:c,goSearchTarget:s,removeSource:l,removeAllOwnSource:u,defaultList:h,__self:void 0})},ge=r("4286d"),be=r("cf581"),Se="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Search_initDefineProp(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Search_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":Se(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Search_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}(e,t))}function Search_applyDecoratedDescriptor(e,t,r,n,o){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ee=l.default.Service,Le=navigator.userAgent.indexOf("Firefox")>=0,Oe=null,ke=null,xe=(ne=Ee(h.a),oe=Ee(u.DataCenter.common),ae=Ee(u.DataCenter.event),ie=Ee(u.DataCenter.global),de=he=function(e){function Search(){!function Search_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Search);var t=function Search_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":Se(t))&&"function"!==typeof t?e:t}(this,e.call(this));me.call(t);var r=t.searchService.getKeyword(),n=(t.searchService.getLocalOwnList()||[]).slice(0,8),o=(t.searchService.getLocalHotList()||[]).slice(0,10);return t.state={hover:!1,reset:!1,searching:!!r,searchContent:r,historyList:n,hotList:o,showTips:!1,SearchData:{},value:r,defaluts:[],defalutThis:"",placeholderText:"",dotFlag:!1,dotNum:0},t}return Search_inherits(Search,e),Search.prototype.componentDidMount=function componentDidMount(){document.onmousedown=this.unfocused,this.common.get("DocumentMouseDownForHeader").subscribe(this.unfocused),0===this.state.hotList.length&&this.searchService.getHotListByEpic(),this.doCircle()},Search.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.state,r=t.dotNum,n=t.value,o=e.SearchData,a=void 0===o?{}:o,i=a.defaultWords,c=void 0===i?[]:i,s=a.recommendList,l=void 0===s?{}:s,u=l.roomList,f=void 0===u?[]:u,h=l.cateList,d=void 0===h?[]:h,m=this.props.SearchData,p=(void 0===m?{}:m).recommendList,_=void 0===p?{}:p,v=_.roomList,y=void 0===v?[]:v,g=_.cateList,b=void 0===g?[]:g;if(c.length&&this.setState({defaluts:c}),!f.length&&!d.length||y.length||b.length||this.setState({dotFlag:!0,dotNum:1}),!f.length&&!d.length&&(y.length||b.length)){var S="-";if(y.length){var w=y[0].algorithm;S=(void 0===w?{}:w).rt||"-"}else if(b.length){var E=b[0].algorithm;S=(void 0===E?{}:E).rt||"-"}this.searchService.dySubV2("130100Z03.3.1")({ext:{_com_num:r,_kv:n,_rt:S}}),this.setState({dotFlag:!1,dotNum:0})}},Search.prototype.render=function render(){var e=this.state,t=e.showTips,r=e.hover,n=e.reset,o=e.searching,i=e.searchContent,c=void 0===i?"":i,s=e.historyList,l=e.defalutThis,u=e.placeholderText,h=this.props.SearchData,p=h.recommendList,_=h.hotList,v=this.state.hotList.length>0?this.state.hotList:(_||[]).slice(0,10),y=v[0]&&v[0].kw||"",g=l||y,b=this.filterDefaultList(),S=[a.a.createElement("button",{className:"dy-btn",key:"ok",onClick:this.closeTips,__self:this},"\u786e\u5b9a")];return a.a.createElement("div",{onMouseDown:this.interMouseDown,__self:this},a.a.createElement("div",{className:r?"Search is-hover":"Search",__self:this},a.a.createElement("input",we({className:"Search-text",id:"header-search-input",type:"text",onFocus:this.focusInput,onClick:this.clickInput,onKeyUp:this.onKeyUp,value:this.state.value,onChange:this.handleValue,"data-name":c||g,"data-type":"1",autoComplete:"off"},!n&&Le?{readonly:"readonly"}:{},{__self:this})),a.a.createElement("span",{className:"Search-link",__self:this},a.a.createElement("i",{className:"Search-linkIcon","data-name":c||g,"data-type":(c||g)===g?2:1,onClick:this.goSearchTarget,__self:this},a.a.createElement(ge.a,{symbol:be.a.id,__self:this}))),a.a.createElement(d,{hotItem:g,hover:r,searching:o,__self:this}),a.a.createElement(m,{placeholderText:u,hover:r,searching:o,__self:this}),a.a.createElement(ye,{hover:r,searching:o,hotList:v,searchItem:this.searchItem,localOwnSource:s,goSearchTarget:this.goSearchTarget,removeSource:this.removeSource,removeAllOwnSource:this.removeAllOwnSource,keyWord:this.state.value,recommendList:p,defaultList:b,__self:this})),a.a.createElement(f.a,{title:"\u63d0\u793a",visible:t,footer:S,maskClosable:!1,width:262,onCancel:this.closeTips,__self:this},a.a.createElement("div",{className:"Search-tips",__self:this},a.a.createElement("span",{className:"Search-tipsIcon",__self:this}),a.a.createElement("span",{className:"Search-tipsText",__self:this},"\u641c\u7d22\u5173\u952e\u8bcd\u8fd8\u6ca1\u6709\u586b\u5199"))))},Search}(a.a.Component),he.scrollLock=0,me=function _initialiseProps(){var e=this;Search_initDefineProp(this,"searchService",se,this),Search_initDefineProp(this,"common",le,this),Search_initDefineProp(this,"event",ue,this),Search_initDefineProp(this,"global",fe,this),this.filterDefaultList=function(){for(var t=e.state,r=t.defaluts,n=t.placeholderText,o=0;o<r.length;o++)if(r[o].kw===n)return r.slice(o+1,r.length+1).concat(r.slice(0,o));return r},this.doCircle=function(){clearInterval(Oe);var t=e.global.get("$ROOM.room_id"),r=e.searchService.getLocalDefaultWordsInterval()||5,n=e.searchService.getLocalDefaultWords()||[],o=e.searchService.getLocalDefaultWordsDelay()||0;n.length||t||e.searchService.getDefaultWord(),t&&+o>0&&(clearTimeout(ke),ke=setTimeout(function(){e.searchService.getDefaultWord()},1e3*o)),n.length&&e.setState({defaluts:n}),Oe=setInterval(function(){var t=e.state.defaluts;if(t.length){var r=t[Math.floor(Math.random()*t.length)];e.setState({defalutThis:r.kw})}},1e3*r)},this.interMouseDown=function(e){e.nativeEvent.stopImmediatePropagation()},this.focusInput=function(t){t.nativeEvent.stopImmediatePropagation();var r=e.state,n=r.hover,o=r.value,a=r.placeholderText,i=n?a:t.target.getAttribute("data-name");e.setState({hover:!0,reset:!0,placeholderText:i}),C(o)&&(e.setState({searching:!0}),e.searchService.getRecommendByEpic(o)),e.common.push("DocumentMouseDownForSearch",{mousedown:1}),xe.scrollLock||(xe.scrollLock=1,e.event.trigger(window,"scroll"))},this.clickInput=function(){var t=e.state.value;e.searchService.dySubV2("130100Z01.1.1")({ext:{_com_type:1,_kv:t}}),e.suggestExpose()},this.suggestExpose=function(){var t=e.state,r=t.hover,n=t.searching,o=t.historyList,a=t.hotList;if(r&&!n&&(o.length&&e.searchService.dySubV2("130100Z02001.3.1")({ext:{_com_type:1}}),a.length)){var i={},c=a.filter(function(e){return e.recomExtra&&e.recomExtra.extra})||[];c.length&&(i=N(c[0].recomExtra||{})),e.searchService.dySubV2("130100Z02002.3.1")({ext:we({_com_type:1},i)})}},this.unfocused=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mousedown||e.common.push("DocumentMouseDownForSearch",{mousedown:1}),e.searchService.clearRecAndCate(),e.setState({hover:!1,reset:!1})},this.handleValue=function(t){var r=t.target.value,n=e.state,o=n.dotNum,a=n.dotFlag;a&&e.setState({dotNum:o+1}),C(r)?e.searchService.getRecommendByEpic(r):a&&e.searchService.clearRecAndCate(),e.setState({searching:!!C(r),searchContent:r,value:r},e.suggestExpose)},this.searchCompleteDys=function(t,r){e.searchService.dySubV2("130100Z04.1.1",1)({ext:{_search_type:r,_kv:t,_com_type:1}})},this.onKeyUp=function(t){switch(t.keyCode){case 13:var r=e.state.value;e.goSearchTarget(t,r?1:2)}},this.addMySource=function(t){var r=e.searchService.getLocalOwnList()||[],n=C(t);if(""!==n){for(var o=0,a=r.length;o<a;o++)if(n===r[o]){r.splice(o,1);break}r.unshift(t),e.setState({historyList:r.slice(0,8)}),e.searchService.setLocalOwnList(r)}},this.goSearchTarget=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.currentTarget.getAttribute("data-name"),o=e.state.value;e.setState({reset:!1}),o&&!C(o)?e.setState({showTips:!0}):(e.searchCompleteDys(n,r),e.addMySource(n),e.searchService.removeSearchSid(),window.open("/search?kw="+encodeURIComponent(n)))},this.removeSource=function(t){var r=e.searchService.getLocalOwnList()||[],n=t.currentTarget.getAttribute("data-index"),o=t.currentTarget.getAttribute("data-name");e.searchService.dySubV2("130100Z02003.1.1")({com:{p:n},ext:{_kv:o}}),r.splice(n,1),e.setState({historyList:r.slice(0,8)}),e.searchService.setLocalOwnList(r),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.removeAllOwnSource=function(t){e.searchService.dySubV2("130100Z02004.1.1")(),e.setState({historyList:[]}),e.searchService.setLocalOwnList([]),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},this.searchItem=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.com,a=void 0===o?{}:o,i=n.ext,c=void 0===i?{}:i,s=n.recomExtra,l=t.currentTarget.getAttribute("data-name"),u={_kv:l,_com_type:1},f={p:t.currentTarget.getAttribute("data-index")},h={history:"130100Z02001.1.1",rank:"130100Z02002.1.1",recommend:"130100Z03001.1.1",defaultWord:"110100Z02005.1.1"}[r],d={history:4,rank:3,recommend:5,defaultWord:2}[r],m=N(s||{});e.searchService.dySubV2(h,1)({com:we({},f,a),ext:we({},u,c,m)}),e.searchCompleteDys(l,d),e.setState({searchContent:l,value:l,searching:!0}),e.searchService.getRecommendByEpic(l),e.addMySource(l),t.nativeEvent.stopImmediatePropagation()},this.closeTips=function(){e.setState({showTips:!1})}},se=Search_applyDecoratedDescriptor((ce=de).prototype,"searchService",[ne],{enumerable:!0,initializer:null}),le=Search_applyDecoratedDescriptor(ce.prototype,"common",[oe],{enumerable:!0,initializer:null}),ue=Search_applyDecoratedDescriptor(ce.prototype,"event",[ae],{enumerable:!0,initializer:null}),fe=Search_applyDecoratedDescriptor(ce.prototype,"global",[ie],{enumerable:!0,initializer:null}),ce);xe.propTypes={SearchData:c.a.object.isRequired};t.a=Object(s.connect)(function mapStateToProps(e){return{SearchData:e.SearchData}})(xe)},"4cf69":function(e,t,r){},56463:function(e,t,r){"use strict";var n=r("1a22b"),o=r.n(n),a=r("fc794"),i=r.n(a),c=r("d6b6c"),s=r("7ffcc"),l=(r("58ade"),void 0),u="13010010100",f=function showLoginIframe(e){return function(t){var r={login:{source:"click_topnavi_login",p:1},reg:{source:"click_topnavi_sign",p:2}}[e],n=r.source,o=r.p;"function"===typeof i.a.show&&(t.preventDefault(),i.a.show(e,{source:n})),Object(c.a)(u+"H")({com:{p:o}})}},h=function unLoginHandle(){i.a.show(),Object(c.a)(u+"G")()},d=function UnLogin(){return o.a.createElement("div",{className:"UnLogin",__self:l},o.a.createElement(s.a,{placeholder:o.a.createElement("span",{className:"UnLogin-icon",onClick:h,__self:l},"\xa0"),link:"javascript:void(0);",onExpose:Object(c.a)(u+"H.3.1"),dropIcon:!1,__self:l},o.a.createElement("div",{className:"UnLogin-content",__self:l},o.a.createElement("h3",{__self:l},"\u767b\u5f55\u4e4b\u540e\u53ef\u4ee5"),o.a.createElement("div",{className:"UnLogin-move",__self:l},o.a.createElement("div",{className:"UnLogin-moveIn",__self:l},o.a.createElement("div",{className:"UnLogin-once1",__self:l}),o.a.createElement("div",{className:"UnLogin-once2",__self:l}),o.a.createElement("div",{className:"UnLogin-once3",__self:l}),o.a.createElement("div",{className:"UnLogin-move1",__self:l}),o.a.createElement("div",{className:"UnLogin-move2",__self:l}),o.a.createElement("div",{className:"UnLogin-move3",__self:l}),o.a.createElement("div",{className:"UnLogin-move4",__self:l}),o.a.createElement("div",{className:"UnLogin-move5",__self:l}),o.a.createElement("div",{className:"UnLogin-move6",__self:l}),o.a.createElement("div",{className:"UnLogin-move7",__self:l}),o.a.createElement("div",{className:"UnLogin-move8",__self:l}))),o.a.createElement("div",{className:"UnLogin-btns",__self:l},o.a.createElement("a",{className:"UnLogin-btn",href:"/member/login",onClick:f("login"),__self:l},"\u767b\u5f55"),o.a.createElement("a",{className:"UnLogin-btn",onClick:f("reg"),__self:l},"\u6ce8\u518c")))))};t.a=d},"58ade":function(e,t,r){},a42dc:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/heat_fc2f17d.png"},b51c4:function(e,t,r){"use strict";var n=r("1a22b"),o=r.n(n),a=r("3b6ec"),i=r("29218"),c=r.n(i),s=document.querySelector("body"),l=function StyleInserter(e){var t=e.getStyleContainer;return Object(a.createPortal)(o.a.createElement("style",{ref:t,__self:void 0}),s)};l.propTypes={getStyleContainer:c.a.func},l.defaultProps={getStyleContainer:function getStyleContainer(){}},t.a=l},d98b2:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/sug_269f752.png"},eb8d1:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/new_1dd39b1.png"}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/header~1ed6d697_b43843b.js.map
require=function r(i,o,s){function a(e,t){if(!o[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n=o[e]={exports:{}};i[e][0].call(n.exports,function(t){return a(i[e][1][t]||t)},n,n.exports,r,i,o,s)}return o[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({565:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault"),i=r(t("build/resources")),r=r(t("youboralib"));t("event-source-polyfill"),window.videojs=t("video.js").default||t("video.js"),t("@leochen1216/videojs-chromecast"),window.Hls=t("hls.js"),t("youbora-adapter-videojs");i={accountCode:i.default.YOUBORA_ACCOUNT||"bloombergdev","parse.hls":!0,httpSecure:!0};window.YouboraLib=r.default,window.youboraPlugin=new r.default.Plugin(i),r.default.registerAdapter("Ima",t("youbora-adapter-ima")),window.ns_=t("../vendor/comscore/streamsense.min.js"),window.initMoatTracking=t("../vendor/moat/moat_analytics.js"),window.initDaiMoatTracking=t("../vendor/moatDai/moat_dai_analytics.js"),window.xml=t("../vendor/parser/xml.min.js"),t("../vendor/chromecast/cast_sender.js");i=t("ms.byzantium-core").ByzantiumCore,r=t("bridge-web");window.__bloomberg__=window.__bloomberg__||{};t=window.__bloomberg__;t.byzantium=t.byzantium||new i(new r)},{"../vendor/chromecast/cast_sender.js":566,"../vendor/comscore/streamsense.min.js":567,"../vendor/moat/moat_analytics.js":568,"../vendor/moatDai/moat_dai_analytics.js":569,"../vendor/parser/xml.min.js":570,"@babel/runtime/helpers/interopRequireDefault":13,"@leochen1216/videojs-chromecast":28,"bridge-web":108,"build/resources":1,"event-source-polyfill":282,"hls.js":286,"ms.byzantium-core":294,"video.js":310,"youbora-adapter-ima":319,"youbora-adapter-videojs":321,youboralib:391}],570:[function(t,e,n){!function(t){!function(t,e,n,r,i){var o,s,a,u=window;"".trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}),s={isUnsafe:!1,isXML:function(t){return"object"==typeof t&&t.nodeType!==o},getRoot:function(t){return 9===t.nodeType?t.documentElement:11===t.nodeType?t.firstChild:t},convert:function(t){var e={};if("string"==typeof t){var n=null,r=null,i=!0;try{(n="DOMParser"in u?new DOMParser:new ActiveXObject("MSXML2.DOMDocument")).async=!1}catch(t){throw Error("XML Parser could not be instantiated")}if("parseFromString"in n?i="parsererror"!==(r=n.parseFromString(t,"text/xml")).documentElement.tagName:r=!!(i=n.loadXML(t))&&n,!i)throw Error("Error parsing XML string");t=r}else t=this.isXML(t)?t:o;if(!t)throw Error("Unable to parse XML");return 3===t.nodeType||4===t.nodeType?t.nodeValue:(e[(t=this.getRoot(t)).nodeName]={},this.process(t,e[t.nodeName]),e)},process:function(t,e){var n,r,i,o,s;if(t.hasChildNodes())for(o=t.childNodes.length,i=0;i<o;i++)switch(n=t.childNodes[i],n.nodeType){case 3:e.Text=e.Text?e.Text+n.nodeValue.trim():n.nodeValue.trim();break;case 4:n=n[n.text?"text":"nodeValue"],e.Text=e.Text?e.Text+n:n;break;case 1:s={},(r=n.nodeName)in e?e[r].length?(this.process(n,s),e[r].push(s)):(this.process(n,s),e[r]=[e[r],s]):(this.process(n,s),e[r]=s)}if(t.attributes.length)for(o=t.attributes.length-1;0<=o;o--)i=(n=t.attributes[o]).name.trim(),n=n.value,e[(this.isUnsafe?"":"@")+i]=n}},a={xmlToJSON:function(t,e){return s.isUnsafe=e!==o&&e,s.convert(t)}},u.xml=u.xml||a,i("undefined"!=typeof xml?xml:window.xml)}.call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],569:[function(t,e,n){!function(t){!function(t,e,n,r,i){function o(t,e,n,r,i){var o,s,a=document.createElement("script"),u=[];e={adData:{ids:e,duration:n,url:i},dispatchEvent:function(t){this.sendEvent?(u&&(u.push(t),t=u,u=!1),this.sendEvent(t)):u.push(t)}},n="_moatApi"+Math.floor(1e8*Math.random());try{s=(o=t.ownerDocument).defaultView||o.parentWindow}catch(t){o=document,s=window}return s[n]=e,a.type="text/javascript",t&&t.insertBefore(a,t.childNodes[0]||null),a.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,e}i(o)}.call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],568:[function(t,e,n){!function(t){!function(t,e,n,r,i){function o(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var i,o,s=[],a={adsManager:e,ids:t,imaSDK:!0,events:[],dispatchEvent:function(t){var e=this.sendEvent,n=this.events;e?(n&&(n.push(t),t=n),e(t)):n.push(t)}},u={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var c,l="_moatApi"+Math.floor(1e8*Math.random());for(c in google.ima.AdEvent.Type){function h(t){if(a.sendEvent){for(t=s.length-1;0<=t;t--)e.removeEventListener(s[t].type,s[t].func);a.sendEvent(a.events)}else a.events.push({type:u[t.type]||t.type,adVolume:e.getVolume()})}e.addEventListener(google.ima.AdEvent.Type[c],h),s.push({type:google.ima.AdEvent.Type[c],func:h})}}l=void 0!==l?l:"";try{o=(i=n.ownerDocument).defaultView||i.parentWindow}catch(t){i=document,o=window}return o[l]=a,r.type="text/javascript",n&&n.appendChild(r),r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+l,a}i(o)}.call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],567:[function(t,e,n){!function(t){!function(t,e,n,r,i){var ht,b,T,_,S,E,o;try{(ht=ht||{}).PlatformAPIs=ht.PlatformAPIs||{Standard:0,Trilithium:1,AppleTV:2,Chromecast:3},ht.Utils=ht.Utils||{uid:(o=1,function(){return+new Date+"_"+o++}),filter:function(t,e){var n,r={};for(n in e)e.hasOwnProperty(n)&&t(e[n])&&(r[n]=e[n]);return r},extend:function(t){var e,n=arguments.length;t=t||{};for(var r=1;r<n;r++)if(e=arguments[r])for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},getString:function(t,e){var n=String(t);return null==t?e||"na":n},getLong:function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},getInteger:function(t,e){var n=Number(t);return null==t||isNaN(n)?e||0:n},getBoolean:function(t,e){var n="true"==String(t).toLowerCase();return null==t?e||!1:n},isNotEmpty:function(t){return void 0!==t&&null!=t&&void 0!==t.length&&0<t.length},indexOf:function(n,t){var r=-1;return this.forEach(t,function(t,e){t==n&&(r=e)}),r},forEach:function(t,e,n){try{if("function"==typeof e)if(n=void 0!==n?n:null,"number"!=typeof t.length||void 0===t[0]){var r,i=void 0!==t.__proto__;for(r in t)!t.hasOwnProperty(r)||i&&void 0!==t.__proto__[r]||"function"==typeof t[r]||e.call(n,t[r],r)}else for(var o=0,s=t.length;o<s;o++)e.call(n,t[o],o)}catch(t){}},regionMatches:function(t,e,n,r,i){if(e<0||r<0||e+i>t.length||r+i>n.length)return!1;for(;0<=--i;)if(t.charAt(e++)!=n.charAt(r++))return!1;return!0},size:function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n},log:function(t,e){void 0!==e&&e&&"undefined"!=typeof console&&console&&(e=(e=new Date).getHours()+":"+e.getMinutes()+":"+e.getSeconds(),console.log(e,t))},isTrue:function(t){return void 0!==t&&("string"==typeof t?"true"===(t=t.toLowerCase())||"1"===t||"on"===t:!!t)},toString:function(t){if(void 0===t)return"undefined";if("string"==typeof t)return t;if("[object Array]"===Object.prototype.toString.call(t))return t.join(",");if(0<this.size(t)){var e,n="";for(e in t)t.hasOwnProperty(e)&&(n+=e+":"+t[e]+";");return n}return t.toString()},exists:function(t){return void 0!==t&&null!=t},firstGreaterThan0:function(){for(var t=0,e=arguments.length;t<e;t++){var n=arguments[t];if(0<n)return n}return 0},cloneObject:function(t){return null==t||"object"!=typeof t?t:(i=[],n.prototype={constructor:n,canCopy:function(){return!1},create:function(t){},populate:function(t,e,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(t,e){this.copiedObjects.push([t,e])},getCachedResult:function(t){for(var e=this.copiedObjects,n=e.length,r=0;r<n;r++)if(e[r][0]===t)return e[r][1]},deepCopy:function(t){if(null===t)return null;if("object"!=typeof t)return t;var e=this.getCachedResult(t);if(e)return e;for(var n=0;n<i.length;n++){var r=i[n];if(r.canCopy(t))return this.applyDeepCopier(r,t)}throw new Error("Unable to clone the following object "+t)},applyDeepCopier:function(t,e){var n=t.create(e);if(this.cacheResult(e,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return t.populate(this.recursiveDeepCopy,e,n),this.depth--,n}},o.DeepCopier=n,o.deepCopiers=i,o.register=function(t){t instanceof n||(t=new n(t)),i.unshift(t)},o.register({canCopy:function(){return!0},create:function(t){return t instanceof t.constructor?"object"==typeof(t=t.constructor.prototype)?(e.prototype=t,new e):t:{}},populate:function(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}}),o.register({canCopy:function(t){return t instanceof Array},create:function(t){return new t.constructor},populate:function(t,e,n){for(var r=0;r<e.length;r++)n.push(t(e[r]));return n}}),o.register({canCopy:function(t){return t instanceof Date},create:function(t){return new Date(t)}}),o.register({canCopy:function(t){return"undefined"!=typeof window&&window&&window.Node?t instanceof Node:t===document||"number"==typeof t.nodeType&&t.attributes&&t.childNodes&&t.cloneNode},create:function(t){return t===document?document:t.cloneNode(!1)},populate:function(t,e,n){if(e===document)return document;if(e.childNodes&&e.childNodes.length)for(var r=0;r<e.childNodes.length;r++){var i=t(e.childNodes[r]);n.appendChild(i)}}}),{deepCopy:o}.deepCopy(t));var i;function e(){}function n(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}function r(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function o(t,e){var n=new r;return e&&(n.maxDepth=e),n.deepCopy(t)}},safeGet:function(t,e){return e=this.exists(e)?e:"",this.exists(t)?t:e},getBrowserName:function(){if("undefined"==typeof navigator||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName"))return"";var t,e,n=navigator.userAgent,r=navigator.appName;return-1!=(e=n.indexOf("Opera"))||-1!=(e=n.indexOf("OPR/"))?r="Opera":-1!=(e=n.indexOf("Android"))?r="Android":-1!=(e=n.indexOf("Chrome"))?r="Chrome":-1!=(e=n.indexOf("Safari"))?r="Safari":-1!=(e=n.indexOf("Firefox"))?r="Firefox":-1!=(e=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(t=n.lastIndexOf(" ")+1)<(e=n.lastIndexOf("/"))&&(r=n.substring(t,e)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName),r},getBrowserFullVersion:function(){if("undefined"==typeof navigator||!navigator.hasOwnProperty("userAgent")||!navigator.hasOwnProperty("appName")||!navigator.hasOwnProperty("appVersion"))return"";var t,e=navigator.userAgent,n=navigator.appName,r=""+parseFloat(navigator.appVersion);return-1!=(t=e.indexOf("Opera"))?(r=e.substring(t+6),-1!=(t=e.indexOf("Version"))&&(r=e.substring(t+8))):-1!=(t=e.indexOf("OPR/"))?r=e.substring(t+4):-1!=(t=e.indexOf("Android"))?r=e.substring(t+11):-1!=(t=e.indexOf("Chrome"))?r=e.substring(t+7):-1!=(t=e.indexOf("Safari"))?(r=e.substring(t+7),-1!=(t=e.indexOf("Version"))&&(r=e.substring(t+8))):-1!=(t=e.indexOf("Firefox"))?r=e.substring(t+8):"Microsoft Internet Explorer"==n?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(r=parseFloat(RegExp.$1)):"Netscape"==n?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(r=parseFloat(RegExp.$1)):e.lastIndexOf(" ")+1<(t=e.lastIndexOf("/"))&&(r=e.substring(t+1)),-1!=(t=(r=-1!=(t=(r=-1!=(t=(r=r.toString()).indexOf(";"))?r.substring(0,t):r).indexOf(" "))?r.substring(0,t):r).indexOf(")"))&&(r=r.substring(0,t)),t=parseInt(""+r,10),r=isNaN(t)?""+parseFloat(navigator.appVersion):r},browserAcceptsLargeURLs:function(){return"undefined"!=typeof window&&null===window.ActiveXObject||!0}},ht.StreamSense=ht.StreamSense||function(){function t(t,e){var n;"undefined"!=typeof Image&&((n=new Image).onload=function(){e&&e(200),n=null},n.onerror=function(){e&&e(),n=null},n.src=t)}function e(t,e,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)}var n,r,i,o,s,a,u,c,l,h,d,f,p,g,Y=ht.Utils,v=function(){var n="undefined"!=typeof localStorage?localStorage:{};Y.extend(this,{get:function(t){return n[g+t]},set:function(t,e){n[g+t]=e},has:function(t){return g+t in n},remove:function(t){delete n[g+t]},clear:function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]}})},m=(p=g="cs_",function(){var n="undefined"!=typeof atv&&void 0!==atv.localStorage&&atv.localStorage||null;Y.extend(this,{get:function(t){return n&&t&&n.getItem(p+t)||null},set:function(t,e){n&&t&&(n[p+t]=e)},has:function(t){return n&&t&&null!=n.getItem(p+t)||!1},remove:function(t){n&&t&&n.removeItem(p+t)},clear:function(){}})}),y=(u="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,c="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,l="cs_dir_",h="cs_file_",d="undefined"!=typeof localStorage?localStorage:{},f={},{dir:function(t){t=l+t;if(n=f[t])return n.slice();var e=d[t];if(e){for(var n=[],r=0,i=(e=e.split("|")).length;r<i;r++)0<e[r].length&&n.push(c(e[r]));return(f[t]=n).slice()}return null},append:function(t,e,n){var r=y.read(t,e);r?r+=n:r=n,y.write(t,e,r)},write:function(t,e,n){var r,i=y.dir(t);i||(d[r=l+t]="",f[r]=[],i=[]),-1==Y.indexOf(e,i)&&(r=e,d[i=l+t]+="|"+u(r),f[i].push(r)),d[h+t+e]=n},deleteFile:function(t,e){var n=y.dir(t);return!!n&&-1!=Y.indexOf(e,n)&&(function(t,e){var n=l+t,r=f[n];r.splice(Y.indexOf(e,r),1);for(var i=[],o=0,s=r.length;o<s;o++)i.push(u(r[o]));d[n]=i.join("|"),delete d[h+t+e]}(t,e),!0)},read:function(t,e){var n=y.dir(t);return!n||-1==Y.indexOf(e,n)?null:d[h+t+e]}}),b={dir:function(){return null},append:function(t,e,n){},write:function(t,e,n){},deleteFile:function(){return!1},read:function(){return null}},Q={PLATFORM:"generic",httpGet:t,httpPost:e,Storage:v,IO:b,getCrossPublisherId:function(){return null},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return""},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return""},getRuntimeVersion:function(){return""},getResolution:function(){return""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(t,e,n){return setTimeout(t,e,n)},clearTimeout:function(t){return clearTimeout(t)},getDeviceArchitecture:function(){return Constants.UNKNOWN_VALUE},getConnectionType:function(){return Constants.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return Constants.UNKNOWN_VALUE}},T=(a=s=o=null,{PLATFORM:"trilithium",httpGet:function(t,e){"undefined"!=typeof engine&&e&&"undefined"!=typeof setTimeout&&setTimeout(e,0),engine.createHttpClient().createRequest("GET",t,null).start(),e&&setTimeout(e,0)},httpPost:e,Storage:v,IO:b,getCrossPublisherId:function(){return w(),a},getAppName:function(){return Y.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:Constants.UNKNOWN_VALUE},getAppVersion:function(){return Y.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:Constants.UNKNOWN_VALUE},getVisitorId:function(){return w(),o},getVisitorIdSuffix:function(){return s},getDeviceName:function(){return Y.safeGet(engine.stats.device.platform,"")},getPlatformVersion:function(){return Y.safeGet(engine.stats.device.version,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return""},getResolution:function(){return"undefined"!=typeof screen&&void 0!==screen.height&&void 0!==screen.width?screen.height+"x"+screen.width:""},getLanguage:function(){return""},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},isCompatible:function(){return"undefined"!=typeof engine&&void 0!==engine.stats}}),_=(i=r=n=null,{PLATFORM:"atv",httpGet:function(t,e){var n;"undefined"!=typeof atv&&"function"==typeof atv.setTimeout&&("undefined"!=typeof XMLHttpRequest&&e&&atv.setTimeout(e,0),(n=new XMLHttpRequest).open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&(e&&e(n.status),n=null)},n.send())},httpPost:function(t,e,n){var r;"undefined"!=typeof atv&&"function"==typeof atv.setTimeout&&("undefined"!=typeof XMLHttpRequest&&n&&atv.setTimeout(n,0),(r=new XMLHttpRequest).open("POST",t,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(e))},Storage:m,IO:b,getCrossPublisherId:function(){return E(),i},getAppName:function(){return Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return E(),n},getVisitorIdSuffix:function(){return r},getDeviceName:function(){return"Apple TV"},getPlatformVersion:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&Y.safeGet(atv.device.softwareVersion,"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&Y.safeGet(atv.device.softwareVersion,"")},getResolution:function(){return void 0!==atv.device&&void 0!==atv.device.screenFrame&&void 0!==atv.device.screenFrame.height&&void 0!==atv.device.screenFrame.width?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:""},getLanguage:function(){return"undefined"!=typeof atv&&void 0!==atv.device&&Y.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(t,e,n){return"undefined"!=typeof atv&&void 0!==atv.setTimeout&&atv.setTimeout(t,e,n)},clearTimeout:function(t){return"undefined"!=typeof atv&&void 0!==atv.clearTimeout&&atv.clearTimeout(t)},isCompatible:function(){return"undefined"==typeof window&&"undefined"!=typeof atv}}),S={PLATFORM:"chromecast",httpGet:t,httpPost:function(t,e,n){"undefined"!=typeof XMLHttpRequest&&n&&"undefined"!=typeof setTimeout&&setTimeout(n,0);var r=new XMLHttpRequest;r.open("POST",t,!0),r.onreadystatechange=function(){4===r.readyState&&(n&&n(r.status),r=null)},r.send(e)},Storage:v,IO:y,getCrossPublisherId:function(){return null},getAppName:function(){return"undefined"!=typeof document&&document.title||Constants.UNKNOWN_VALUE},getAppVersion:function(){return Constants.UNKNOWN_VALUE},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return"chromecast"},getPlatformVersion:function(){return"5"},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return Y.safeGet(Y.getBrowserName()+" "+Y.getBrowserFullVersion(),Constants.UNKNOWN_VALUE)},getResolution:function(){var t="undefined"!=typeof window&&Y.exists(window.screen)&&Y.exists(window.screen.availWidth)?window.screen.availWidth:0,e="undefined"!=typeof window&&Y.exists(window.screen)&&Y.exists(window.screen.availHeight)?window.screen.availHeight:0;return 0<t&&0<e?t+"x"+e:""},getLanguage:function(){return"undefined"!=typeof window&&Y.exists(window.navigator)&&Y.safeGet(window.navigator.language,"")||""},getPackageName:function(){return"undefined"!=typeof castReceiverManager&&castReceiverManager.getApplicationData&&"function"==typeof castReceiverManager.getApplicationData&&castReceiverManager.getApplicationData().namespaces&&castReceiverManager.getApplicationData().namespaces[0]||""},isConnectionAvailable:function(){return"undefined"!=typeof window&&Y.exists(window.navigator)&&Y.safeGet(window.navigator.onLine,!0)||!0},isCompatible:function(){return"undefined"!=typeof window&&"undefined"!=typeof document},getConnectionType:function(){return Constants.UNKNOWN_VALUE}};function E(){null==n&&(r="undefined"!=typeof atv&&void 0!==atv.device&&atv.device.idForVendor?(n=Y.safeGet(atv.device.idForVendor,""),"62"):(n=+new Date+~~(1e3*Math.random()),"72"),i=null)}function w(){var t;null==o&&(t=Y.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:Y.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null,a=null!=t?(s="31",o=t):(o=+new Date+~~(1e3*Math.random()),s="72",null))}Q.autoSelect=function(){T.isCompatible()?ht.Utils.extend(Q,T):_.isCompatible()&&ht.Utils.extend(Q,_)},Q.setPlatformAPI=function(t){var e=!1;switch(t){case ht.PlatformAPIs.Trilithium:ht.Utils.extend(Q,T),e=!0;break;case ht.PlatformAPIs.AppleTV:ht.Utils.extend(Q,_),e=!0;break;case ht.PlatformAPIs.Chromecast:Y.extend(Q,S),e=!0}e&&(Q.autoSelect=function(){})};var J,$="undefined"!=typeof window&&"undefined"!=typeof document?(J=window,document):(J={},{location:{href:""},title:"",URL:"",referrer:"",cookie:""});(Y=Y||{}).filterMap=function(t,e){for(var n in t)t.hasOwnProperty(n)&&-1==Y.indexOf(n,e)&&delete t[n]},Y.getKeys=function(t,e){var n,r=[];for(n in t)e&&!e.test(n)||!t.hasOwnProperty(n)||(r[r.length]=n);return r};function Z(){var r,n,i=this,e=null,o=0,s=0,a=0,u=0,c=0,l=0,h=!1;Y.extend(this,{reset:function(t){null!=t&&0<t.length?Y.filterMap(n,t):n={},i.setPlaylistId(+new Date+"_"+l),i.setBufferingTime(0),i.setPlaybackTime(0),i.setPauses(0),i.setStarts(0),i.setRebufferCount(0),h=!1},setLabels:function(t,e){null!=t&&Y.extend(n,t),i.setRegisters(n,e)},getLabels:function(){return n},setLabel:function(t,e){var n={};n[t]=e,i.setLabels(n,null)},getLabel:function(t){return n[t]},getClip:function(){return e},getPlaylistId:function(){return r},setPlaylistId:function(t){r=t},setRegisters:function(t,e){var n=t.ns_st_sp;null!=n&&(o=Number(n),delete t.ns_st_sp),null!=(n=t.ns_st_bc)&&(a=Number(n),delete t.ns_st_bc),null!=(n=t.ns_st_bp)&&(u=Number(n),delete t.ns_st_bp),null!=(n=t.ns_st_id)&&(r=n,delete t.ns_st_id),e==et.BUFFERING||null!=(n=t.ns_st_pa)&&(c=Number(n),delete t.ns_st_pa),e!=et.PAUSED&&e!=et.IDLE&&null!=e||null!=(n=t.ns_st_pp)&&(s=Number(n),delete t.ns_st_pp)},createLabels:function(t,e){e=e||{};return e.ns_st_bp=String(i.getBufferingTime()),e.ns_st_sp=String(o),e.ns_st_id=String(r),0<a&&(e.ns_st_bc=String(a)),t!=tt.PAUSE&&t!=tt.END&&t!=tt.KEEP_ALIVE&&t!=tt.HEART_BEAT&&null!=t||(e.ns_st_pa=String(i.getPlaybackTime()),e.ns_st_pp=String(s)),t!=tt.PLAY&&null!=t||i.didFirstPlayOccurred()||(e.ns_st_pb="1",i.setFirstPlayOccurred(!0)),Y.extend(e,i.getLabels()),e},incrementStarts:function(){o++},incrementPauses:function(){s++,e.incrementPauses()},setPlaylistCounter:function(t){l=t},incrementPlaylistCounter:function(){l++},addPlaybackTime:function(t){0<=e.getPlaybackTimestamp()&&(t=t-e.getPlaybackTimestamp(),e.setPlaybackTimestamp(-1),e.setPlaybackTime(e.getPlaybackTime()+t),i.setPlaybackTime(i.getPlaybackTime()+t))},addBufferingTime:function(t){0<=e.getBufferingTimestamp()&&(t=t-e.getBufferingTimestamp(),e.setBufferingTimestamp(-1),e.setBufferingTime(e.getBufferingTime()+t),i.setBufferingTime(i.getBufferingTime()+t))},getBufferingTime:function(){var t=u;return 0<=e.getBufferingTimestamp()&&(t+=+new Date-e.getBufferingTimestamp()),t},setBufferingTime:function(t){u=t},getPlaybackTime:function(){var t=c;return 0<=e.getPlaybackTimestamp()&&(t+=+new Date-e.getPlaybackTimestamp()),t},setPlaybackTime:function(t){c=t},getStarts:function(){return o},setStarts:function(t){o=t},getPauses:function(){return s},setPauses:function(t){s=t},getRebufferCount:function(){return a},incrementRebufferCount:function(){a++},setRebufferCount:function(t){a=t},didFirstPlayOccurred:function(){return h},setFirstPlayOccurred:function(t){h=t}}),e=new L,n={},i.reset()}var A,x,P,C,k,tt=(k=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"],{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(t){return k[t]}}),et=(C=[tt.END,tt.PLAY,tt.PAUSE,tt.BUFFER],{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(t){return C[t]}}),b={ADPLAY:tt.AD_PLAY,ADPAUSE:tt.AD_PAUSE,ADEND:tt.AD_END,ADCLICK:tt.AD_CLICK},nt="4.1505.18",rt="streamsense",it=[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],ot=12e5,st=500,at="name",ut=2048,ct=4096,lt=["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"],L=function(){function r(t,e){e=e[t];null!=e&&(n[t]=e)}var e,n,i=this,o=0,s=0,a=0,u=0,c=0,l=0;Y.extend(this,{reset:function(t){null!=t&&0<t.length?Y.filterMap(n,t):n={},n.hasOwnProperty("ns_st_cl")||(n.ns_st_cl="0"),n.hasOwnProperty("ns_st_pn")||(n.ns_st_pn="1"),n.hasOwnProperty("ns_st_tp")||(n.ns_st_tp="1"),i.setPauses(0),i.setStarts(0),i.setBufferingTime(0),i.setBufferingTimestamp(-1),i.setPlaybackTime(0),i.setPlaybackTimestamp(-1)},setLabels:function(t,e){null!=t&&Y.extend(n,t),i.setRegisters(n,e)},getLabels:function(){return n},setLabel:function(t,e){var n={};n[t]=e,i.setLabels(n,null)},getLabel:function(t){return n[t]},getClipId:function(){return void 0!==e&&null!=e||i.setClipId("1"),e},setClipId:function(t){e=t},setRegisters:function(t,e){var n=t.ns_st_cn;null!=n&&(i.setClipId(n),delete t.ns_st_cn),null!=(n=t.ns_st_bt)&&(a=Number(n),delete t.ns_st_bt),r("ns_st_cl",t),r("ns_st_pn",t),r("ns_st_tp",t),r("ns_st_ub",t),r("ns_st_br",t),e!=et.PLAYING&&null!=e||null!=(n=t.ns_st_sq)&&(s=Number(n),delete t.ns_st_sq),e==et.BUFFERING||null!=(n=t.ns_st_pt)&&(c=Number(n),delete t.ns_st_pt),e!=et.PAUSED&&e!=et.IDLE&&null!=e||null!=(n=t.ns_st_pc)&&(o=Number(n),delete t.ns_st_pc)},createLabels:function(t,e){e=e||{};return e.ns_st_cn=i.getClipId(),e.ns_st_bt=String(i.getBufferingTime()),t!=tt.PLAY&&null!=t||(e.ns_st_sq=String(s)),t!=tt.PAUSE&&t!=tt.END&&t!=tt.KEEP_ALIVE&&t!=tt.HEART_BEAT&&null!=t||(e.ns_st_pt=String(i.getPlaybackTime()),e.ns_st_pc=String(o)),Y.extend(e,i.getLabels()),e},incrementPauses:function(){o++},incrementStarts:function(){s++},getBufferingTime:function(){var t=a;return 0<=u&&(t+=+new Date-u),t},setBufferingTime:function(t){a=t},getPlaybackTime:function(){var t=c;return 0<=l&&(t+=+new Date-l),t},setPlaybackTime:function(t){c=t},getPlaybackTimestamp:function(){return l},setPlaybackTimestamp:function(t){l=t},getBufferingTimestamp:function(){return u},setBufferingTimestamp:function(t){u=t},getPauses:function(){return o},setPauses:function(t){o=t},getStarts:function(){return s},setStarts:function(t){s=t}}),n={},i.reset()},v=(A={},P=x=-1,Y.extend(R,{activeIndex:P,newInstance:O,new:O,destroyInstance:M,destroy:M,newPlaylist:function(t){return t=t||{},I().setPlaylist(t),I().getPlaylist()},newClip:function(t,e,n){return t=t||{},"number"==typeof e&&(t.ns_st_cn=e),I().setClip(t,n),I().getClip()},notify:function(t,e,n){return void 0!==t&&(n=n||null,e=e||{},I().notify(t,e,n))},setLabels:function(t){void 0!==t&&I().setLabels(t)},getLabels:function(){return I().getLabels()},setPlaylistLabels:function(t){void 0!==t&&I().getPlaylist().setLabels(t)},getPlaylistLabels:function(){return I().getPlaylist().getLabels()},setClipLabels:function(t){void 0!==t&&I().getClip().setLabels(t)},getClipLabels:function(){return I().getClip().getLabels()},resetInstance:function(t){return I().reset(t||{})},resetPlaylist:function(t){return I().getPlaylist().reset(t||{})},resetClip:function(t){return I().getClip().reset(t||{})},viewEvent:function(t){return t=t||{},I().viewNotify(null,t)},customEvent:function(t,e){return 2<arguments.length&&(t=e,e=arguments[2]),t=t||{},"number"==typeof e&&(t.ns_st_po=e),I().customNotify(t,e)},exportState:function(){return I().exportState()},importState:function(t){I().importState(t)}}),R);function R(t,e,n){function r(t){var e=0;if(null!=H)for(var n=0;n<H.length;n++){var r=H[n],i=r.playingtime;if(!i||t<i){e=r.interval;break}}return e}function d(){o();var t=r(G.getClip().getPlaybackTime());0<t&&(t=0<q?q:t,h=Q.setTimeout(i,t)),q=0}function f(){o();var t=r(G.getClip().getPlaybackTime());q=t-G.getClip().getPlaybackTime()%t,null!=h&&o()}function p(){K=q=0}function i(){K++,S(A(tt.HEART_BEAT,null)),q=0,d()}function o(){null!=h&&(Q.clearTimeout(h),h=null)}function g(){v(),l=Q.setTimeout(s,V)}function s(){S(A(tt.KEEP_ALIVE,null)),j++,g()}function v(){null!=l&&(Q.clearTimeout(l),l=null)}function m(){k==et.PLAYING&&(G.incrementRebufferCount(),G.incrementPauses(),S(A(tt.PAUSE,null)),j++,k=et.PAUSED)}function y(){null!=C&&(Q.clearTimeout(C),C=null)}function a(t){return t==et.PLAYING||t==et.PAUSED}function b(){x&&(Q.clearTimeout(x),x=null)}function T(t,e,n){if(b(),n)x=Q.setTimeout((l=t,h=e,function(){T(l,h)}),n);else if(null!=t&&P!=t){var r=P,i=B,o=w(e),s=0<=i?o-i:0;c=P,n=w(e),c==et.PLAYING?(G.addPlaybackTime(n),f(),v()):c==et.BUFFERING?(G.addBufferingTime(n),y()):c==et.IDLE&&(c=Y.getKeys(G.getClip().getLabels()),G.getClip().reset(c)),o=t,n=w(i=e),c=-1,F=c=(i=i).hasOwnProperty("ns_st_po")?Y.getInteger(i.ns_st_po):c,o==et.PLAYING?(d(),g(),G.getClip().setPlaybackTimestamp(n),E(o)&&(G.getClip().incrementStarts(),G.getStarts()<1&&G.setStarts(1))):o==et.PAUSED?E(o)&&G.incrementPauses():o==et.BUFFERING?(G.getClip().setBufferingTimestamp(n),U&&(y(),O.isPauseOnBufferingEnabled()&&E(et.PAUSED)&&(C=Q.setTimeout(m,W)))):o==et.IDLE&&p(),P=t,B=+new Date;for(var a=0,u=D.length;a<u;a++)D[a](r,t,e,s);_(e),G.setRegisters(e,t),G.getClip().setRegisters(e,t);o=A(et.toEventType(t),e);Y.extend(o,e),E(P)&&(S(o),k=P,j++)}var c,l,h}function _(t){var e=t.ns_st_mp;null!=e&&(L=e,delete t.ns_st_mp),null!=(e=t.ns_st_mv)&&(R=e,delete t.ns_st_mv),null!=(e=t.ns_st_ec)&&(j=Number(e),delete t.ns_st_ec)}function S(t,e){(e=void 0===e?!0:e)&&(r=t,I=A(null),Y.extend(I,r));var n,r,i=O.getPixelURL();c?(n=c.getAppContext(),e=c.getSalt(),r=c.getPixelURL(),null!=n&&null!=e&&0!=e.length&&null!=r&&0!=r.length&&(e=z.am,r=z.et,r=e.newApplicationMeasurement(c,r.HIDDEN,t,i),c.getQueue().offer(r))):i&&Q.httpGet(function(t,e){for(var n=J.encodeURIComponent||escape,r=[],i=lt,o=t.split("?"),s=o[0],a=o[1].split("&"),u=0,c=a.length;u<c;u++){var l=a[u].split("="),h=unescape(l[0]),l=unescape(l[1]);h&&(e[h]=l)}for(var d,f={},p=0,g=i.length;p<g;p++){var v,m=i[p];!e.hasOwnProperty(m)||void 0!==(v=e[m])&&null!=v&&(f[m]=!0,r.push(n(m)+"="+n(e[m])))}for(d in e)if(e.hasOwnProperty(d)){if(f[d])continue;var y=e[d];void 0!==y&&null!=y&&r.push(n(d)+"="+n(e[d]))}t=(t=s+"?"+r.join("&"))+(t.indexOf("&c8=")<0?"&c8="+n($.title):"")+(t.indexOf("&c7=")<0?"&c7="+n($.URL):"")+(t.indexOf("&c9=")<0?"&c9="+n($.referrer):"");o=Y.browserAcceptsLargeURLs()?ct:ut;return t.length>o&&0<t.indexOf("&")&&(s=t.substr(0,o-8).lastIndexOf("&"),t=(t.substring(0,s)+"&ns_cut="+n(t.substring(s+1))).substr(0,o)),t}(i,t))}function E(t){return(t!=et.PAUSED&&t!=et.IDLE||k!=et.IDLE&&null!=k)&&t!=et.BUFFERING&&k!=t}function w(t){var e=-1;return e=t.hasOwnProperty("ns_ts")?Number(t.ns_ts):e}function A(t,e){var n,r,i,o,s=1==arguments.length?(n=et.toEventType(P),t):(n=t,e),a={};return"undefined"!=typeof document&&(a.c7=(i=document).URL,a.c8=i.title,a.c9=i.referrer),null!=s&&Y.extend(a,s),a.hasOwnProperty("ns_ts")||(a.ns_ts=String(+new Date)),null==n||a.hasOwnProperty("ns_st_ev")||(a.ns_st_ev=tt.toString(n)),Y.extend(a,O.getLabels()),r=n,(o=a||{}).ns_st_ec=String(j),o.hasOwnProperty("ns_st_po")||(i=F,s=w(o),(r==tt.PLAY||r==tt.KEEP_ALIVE||r==tt.HEART_BEAT||null==r&&P==et.PLAYING)&&(i+=s-G.getClip().getPlaybackTimestamp()),o.ns_st_po=Y.getInteger(i)),r==tt.HEART_BEAT&&(o.ns_st_hc=String(K)),G.createLabels(n,a),G.getClip().createLabels(n,a),a.hasOwnProperty("ns_st_mp")||(a.ns_st_mp=L),a.hasOwnProperty("ns_st_mv")||(a.ns_st_mv=R),a.hasOwnProperty("ns_st_ub")||(a.ns_st_ub="0"),a.hasOwnProperty("ns_st_br")||(a.ns_st_br="0"),a.hasOwnProperty("ns_st_pn")||(a.ns_st_pn="1"),a.hasOwnProperty("ns_st_tp")||(a.ns_st_tp="1"),a.hasOwnProperty("ns_st_it")||(a.ns_st_it="c"),a.ns_st_sv=nt,a.ns_type="hidden",a}var u,x,P,c,C,l,h,k,L,R,I,D,O=this,M=500,N=null,B=0,F=0,j=0,G=null,U=!0,H=it,V=ot,W=st,q=0,K=0,X=!1,z={};n?Q.setPlatformAPI(n):Q.autoSelect(),Y.extend(this,{reset:function(t){G.reset(t),G.setPlaylistCounter(0),G.setPlaylistId(+new Date+"_1"),G.getClip().reset(t),null==t||t.isEmpty()?u={}:Y.filterMap(u,t),j=1,K=0,f(),p(),v(),y(),b(),P=et.IDLE,B=-1,L=rt,R=nt,I=k=null},setPauseOnBufferingInterval:function(t){W=t},getPauseOnBufferingInterval:function(){return W},setKeepAliveInterval:function(t){V=t},getKeepAliveInterval:function(){return V},setHeartbeatIntervals:function(t){H=t},notify:function(){var t,e,n,r=arguments[0],i=3==arguments.length?(n=arguments[1],arguments[2]):(n={},arguments[1]);tt.toString(r)&&(t=r==tt.PLAY?et.PLAYING:r==tt.PAUSE?et.PAUSED:r==tt.BUFFER?et.BUFFERING:r==tt.END?et.IDLE:null,e=Y.extend({},n),w(n=e)<0&&(n.ns_ts=String(+new Date)),e.hasOwnProperty("ns_st_po")||(e.ns_st_po=Y.getInteger(i).toString()),r==tt.PLAY||r==tt.PAUSE||r==tt.BUFFER||r==tt.END?O.isThrottlingEnabled()&&a(P)&&a(t)&&(P!=et.PLAYING||t!=et.PAUSED||x)?T(t,e,M):T(t,e):(r=A(r,e),Y.extend(r,e),S(r,!1),j++))},getLabels:function(){return u},getState:function(){return P},setLabels:function(t){for(var e in t)t.hasOwnProperty(e)&&O.setLabel(e,t[e])},getLabel:function(t){return u[t]},setLabel:function(t,e){null==e?delete u[t]:u[t]=e},setPixelURL:function(t){if(null==t||0==t.length)return null;var e=decodeURIComponent||unescape,n=t.indexOf("?");if(0<=n){if(n<t.length-1){for(var r=t.substring(n+1).split("&"),i=0,o=r.length;i<o;i++){var s=r[i].split("=");2==s.length?O.setLabel(s[0],e(s[1])):1==s.length&&O.setLabel(at,e(s[0]))}t=t.substring(0,n+1)}}else t+="?";return N=t},getPixelURL:function(){return N||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?N=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?N=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},isPauseOnBufferingEnabled:function(){return U},setPauseOnBufferingEnabled:function(t){U=t},isThrottlingEnabled:function(){return X},setThrottlingEnabled:function(t){X=t},setThrottlingDelay:function(t){t&&0<t&&(M=t)},getThrottlingDelay:function(){return M},setClip:function(t,e){var n=!1;return P==et.IDLE&&(G.getClip().reset(),G.getClip().setLabels(t,null),e&&G.incrementStarts(),n=!0),n},setPlaylist:function(t){var e=!1;return P==et.IDLE&&(G.incrementPlaylistCounter(),G.reset(),G.getClip().reset(),G.setLabels(t,null),e=!0),e},importState:function(t){reset();t=Y.extend({},t);G.setRegisters(t,null),G.getClip().setRegisters(t,null),_(t),j++},exportState:function(){return I},getVersion:function(){return nt},addListener:function(t){D.push(t)},removeListener:function(t){D.splice(Y.indexOf(t,D),1)},getClip:function(){return G.getClip()},getPlaylist:function(){return G},setHttpGet:function(t){"function"==typeof t&&(Q.httpGet=t)},setHttpPost:function(t){"function"==typeof t&&(Q.httpPost=t)}}),Y.extend(this,{adNotify:function(t,e,n){(e=e||{}).ns_st_ad=1,t>=tt.AD_PLAY&&t<=tt.AD_CLICK&&O.notify(t,e,n)},customNotify:function(t,e){O.notify(tt.CUSTOM,t,e)},viewNotify:function(s,t){(s=s||O.getPixelURL())&&function(t){var e=s||"",d="undefined",n=J.comScore||J.sitestat||function(t){var e,n,r,i,o="comScore=",s=$.cookie,a="",u="indexOf",c=Y.browserAcceptsLargeURLs()?ct:ut,l="&ns_",h=J.encodeURIComponent||escape;if(s[u](o)+1)for(r=0,i=(n=s.split(";")).length;r<i;r++)(e=n[r][u](o))+1&&(a="&"+unescape(n[r].substring(e+o.length)));(t+=l+"_t="+ +new Date+l+"c="+($.characterSet||$.defaultCharset||"")+a).length>c&&0<t.indexOf("&")&&(s=t.substr(0,c-8).lastIndexOf("&"),t=(t.substring(0,s)+l+"cut="+h(t.substring(s+1))).substr(0,c)),Q.httpGet(t),typeof ns_p==d&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof t!=d){var r,i=[],o=J.encodeURIComponent||escape;for(r in t)t.hasOwnProperty(r)&&i.push(o(r)+"="+o(t[r]));/[\?\&]$/.test(e)||(e+="&"),e+=i.join("&")}n(e)}(t)}}),ht.comScore&&(z=ht.comScore.exports,c=z.c()),u={},j=1,P=et.IDLE,G=new Z,U=!(C=null),K=0,p(),X=!1,k=x=l=h=null,F=0,D=[],O.reset(),t&&O.setLabels(t),e&&O.setPixelURL(e)}function I(t,e){return A[P]||O(t,e)}function D(){P=-1;for(var t=0;t<=x;t++)if(A.hasOwnProperty(String(t))){P=t;break}return ht.StreamSense.activeIndex=P}function O(t,e){return e=e||null,(t=t||null)&&"object"==typeof t&&(e=t,t=null),A[++x]=new ht.StreamSense(e,t),D(),A[x]}function M(){var t=!1,e=P;if("number"==typeof arguments[0]&&isFinite(arguments[0]))e=arguments[0];else if(arguments[0]instanceof ht.StreamSense)for(var n in A)if(A.hasOwnProperty(n)&&A[n]===arguments[0]){e=n;break}return A.hasOwnProperty(String(e))&&(t=A[e],delete A[e],t.reset(),D()),t}return v.AdEvents=b,v.PlayerEvents=tt,v.InternalStates=et,v.getPlatformAPI=function(){return Q},v}(),ht.StreamingTag=ht.StreamingTag||(b=ht.Utils,T=ht.StreamSense,_=ht.StreamSense.PlayerEvents,ht.StreamSense.AdEvents,S=ht.StreamSense.InternalStates||null,E=null!=ht.StreamSense.InternalStates,function(t){function i(t){return b.exists(t)||(t={}),b.exists(t.ns_st_ci)||(t.ns_st_ci="0"),b.exists(t.c3)||(t.c3="*null"),b.exists(t.c4)||(t.c4="*null"),b.exists(t.c6)||(t.c6="*null"),t}function e(t){return 0<c&&c<=t?l+=t-c:l=0,l}function o(t){f.getState()!=S.IDLE&&f.getState()!=S.PAUSED?f.notify(_.END,e(t)):f.getState()==S.PAUSED&&f.notify(_.END,l)}function s(t,e,n){if(b.exists(t)&&b.exists(e)&&b.exists(n)){e=e[t],t=n[t];return b.exists(e)&&b.exists(t)&&e===t}return!1}function n(t){var e=+new Date;o(e),u++,t=i(t);var n={ns_st_cn:u,ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};b.extend(n,t),f.setClip(n),l=0,f.notify(_.PLAY,l),c=e,d=!1}function r(t,e){var n,r=+new Date;t=i(t),y==g&&(y=e),d&&y==e&&(s("ns_st_ci",h,n=t)&&s("c3",h,n)&&s("c4",h,n)&&s("c6",h,n))?(f.getClip().setLabels(t),f.getState()!=S.PLAYING&&(c=r,f.notify(_.PLAY,l))):function(t,e){o(t);var n={ns_st_cn:++u,ns_st_pn:"1",ns_st_tp:"0"};b.extend(n,e),f.setClip(n),h=e,c=t,l=0,f.notify(_.PLAY,l)}(r,t),d=!0,y=e}var a,u=0,c=0,l=0,h=null,d=!1,f=null,p=!1,g=0,v=1,m=2,y=g;b.extend(this,{playAdvertisement:function(){f&&(p&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),n({ns_st_ct:"va"}))},playVideoAdvertisement:function(t){var e;f&&(e={ns_st_ct:"va"},t&&b.extend(e,t),n(e))},playAudioAdvertisement:function(t){var e;f&&(e={ns_st_ct:"aa"},t&&b.extend(e,t),n(e))},playContentPart:function(t){var e;f&&(p&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead."),e={ns_st_ct:"vc"},t&&b.extend(e,t),r(e,m))},playVideoContentPart:function(t){var e;f&&(e={ns_st_ct:"vc"},t&&b.extend(e,t),r(e,m))},playAudioContentPart:function(t){var e;f&&(e={ns_st_ct:"ac"},t&&b.extend(e,t),r(e,v))},stop:function(){var t;f&&(t=+new Date,f.notify(_.PAUSE,e(t)))}}),E&&(ht.comScore?(f=new T).setLabel("ns_st_it","r"):b.exists(t)&&(p=b.isTrue(t.debug),b.exists(t.customerC2)&&0<t.customerC2.length?(a=t.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b"),(f=new T).setPixelURL(a+".scorecardresearch.com/p?c1=2"),f.setLabel("c2",t.customerC2),f.setLabel("ns_st_it","r")):p&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")))})}catch(t){}i(void 0!==ht?ht:window.ns_)}.call(t,void 0,void 0,void 0,void 0,function(t){e.exports=t})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],566:[function(t,e,n){function r(t){return!!document.currentScript&&(-1!=document.currentScript.src.indexOf("?"+t)||-1!=document.currentScript.src.indexOf("&"+t))}function i(){return"function"==typeof window.__onGCastApiAvailable?window.__onGCastApiAvailable:null}function o(){function t(){0==--e&&n&&n(!0)}var e,n;h&&(e=2,n=i(),window.__onGCastApiAvailable=t,a("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",u,t))}function s(t){t.length?a(t.shift(),function(){s(t)}):u()}function a(t,e,n){var r=document.createElement("script");r.onerror=e,n&&(r.onload=n),r.src=t,(document.head||document.documentElement).appendChild(r)}function u(){var t=i();t&&t(!1,"No cast extension found")}var c,l,h;l=r("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",h=r("loadCastFramework")||r("loadCastApplicationFramework"),0<=window.navigator.userAgent.indexOf("Android")&&0<=window.navigator.userAgent.indexOf("Chrome/")&&window.navigator.presentation?(o(),c=window.navigator.userAgent.match(/Chrome\/([0-9]+)/),s(["//www.gstatic.com/eureka/clank/"+(c?parseInt(c[1],10):0)+l,"//www.gstatic.com/eureka/clank"+l])):!window.chrome||!window.navigator.presentation||0<=window.navigator.userAgent.indexOf("Edge")?u():(o(),s(["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"].map(function(t){return"chrome-extension://"+t+l})))},{}],321:[function(t,e,n){var r=t("youboralib"),i=t("../manifest.json"),o=r.Adapter.extend({getVersion:function(){return i.version+"-"+i.name+"-"+i.tech},getTitle:function(){var t=null;return t=this.player.mediainfo?this.player.mediainfo.name:t},getPlayhead:function(){var t=this.player.currentTime();return t=this.plugin._adsAdapter&&this.plugin._adsAdapter.flags.isStarted?this.lastPlayhead:t},getIsLive:function(){var t=null;return this.player.mediainfo&&(t=!0,"number"==typeof this.player.mediainfo.duration&&(t=this.player.mediainfo.duration<1)),t},getDuration:function(){var t=this.player.duration();return t=this.player.mediainfo&&void 0!==this.player.mediainfo.duration?this.player.mediainfo.duration:t},getResource:function(){var t=null,e=this.getUsedTech();return t=e&&e.getResource?e.getResource(this):t},getBitrate:function(){var t=null,e=this.getUsedTech();return t=e&&e.getBitrate?e.getBitrate(this):t},getRendition:function(){var t=null,e=this.getUsedTech();return t=e&&e.getRendition?e.getRendition(this):t},getPlayerName:function(){var t="videojs";return o.ContribHlsTech.isUsed(this)?t+="-hls":o.HlsJsTech.isUsed(this)?t+="-hlsjs":o.ShakaTech.isUsed(this)?t+="-shaka":o.DashShakaTech.isUsed(this)&&(t+="-dash-shaka"),o.ImaAdsAdapter.isUsed(this)?t+="-ima":o.OnceUXAdsAdapter.isUsed(this)?this.pluginName+="-oux":this.player.FreeWheelPlugin&&(t+="-fw"),this.player.mediainfo&&(t+="-bcove"),t},getPlayerVersion:function(){var t=null;return t="undefined"!=typeof videojs?videojs.VERSION:t},getPlayrate:function(){return this.player.playbackRate()},getTech:function(){return this.player.tech({IWillNotUseThisInPlugins:!0})},getUsedTech:function(){var t=null;return o.ContribHlsTech.isUsed(this)?t=o.ContribHlsTech:o.HlsJsTech.isUsed(this)?t=o.HlsJsTech:o.ShakaTech.isUsed(this)?t=o.ShakaTech:o.DashShakaTech.isUsed(this)&&(t=o.DashShakaTech),t},registerListeners:function(){this.monitorPlayhead(!0,!1),this.references={loadstart:this.loadstartListener.bind(this),adsready:this.loadAdsAdapter.bind(this),play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),abort:this.conditionalStop.bind(this),ended:this.conditionalStop.bind(this),dispose:this.conditionalStop.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),error:this.errorListener.bind(this),adserror:this.aderrorListener.bind(this),adsEnded:this.adsEndedListener.bind(this)},this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}.bind(this)),delete this.references)},aderrorListener:function(t){this.loadAdsAdapter(),this.plugin.getAdsAdapter()&&this.plugin.getAdsAdapter().adPlayerErrorListener&&this.plugin.getAdsAdapter().adPlayerErrorListener(t)},loadstartListener:function(t){r.Log.notice("Player detected "+this.getPlayerName())},playListener:function(t){this.flags.isStarted?this.lastSrc&&this.lastSrc!==this.getResource()&&(this.fireStop(),this.lastPlayhead=void 0,this._startEvent(),this.lastSrc=this.getResource()):(this.lastSrc=this.getResource(),this._startEvent())},_startEvent:function(t){this.fireStart(),this.flags.isJoined||(this.joinPolling||(this.joinPolling=new r.Timer(this._jointimePolling.bind(this),500)),this.joinPolling.start()),this.loadAdsAdapter()},_jointimePolling:function(t){this.plugin.getAdsAdapter()&&this.plugin.getAdsAdapter().flags.isStarted||("number"==typeof this.lastPlayhead&&this.lastPlayhead!==this.getPlayhead()&&(this.fireJoin(),this.joinPolling&&this.joinPolling.stop()),this.lastPlayhead=this.getPlayhead())},timeupdateListener:function(t){.1<this.getPlayhead()&&(this.fireJoin(),this.joinPolling&&this.joinPolling.stop(),!this.flags.isPaused&&this.lastSeekPlayhead&&this.lastSeekPlayhead!==this.getPlayhead()&&(this.fireSeekEnd(),this.lastSeekPlayhead=!1)),this.flags.isJoined||(void 0===this.lastPlayhead&&(this.lastPlayhead=this.getPlayhead()),this.lastPlayhead!==this.getPlayhead()&&(this.fireStart(),this.fireJoin(),this.joinPolling&&this.joinPolling.stop(),this.lastPlayhead=void 0)),this.plugin._adsAdapter&&!this.plugin._adsAdapter.flags.isStarted&&(this.lastPlayhead=this.getPlayhead())},pauseListener:function(t){this.firePause()},playingListener:function(t){this._startEvent(),this.fireResume(),this.getPlayhead()<1&&this.fireSeekEnd()},conditionalStop:function(t){this.plugin&&(this.adsEnded=!1,this.fireStop(),this.lastPlayhead=void 0)},adsEndedListener:function(t){this.adsEnded=!0,this.plugin.requestBuilder.lastSent.adPosition===r.Constants.AdPosition.Postroll&&(this.plugin.fireStop(),this.lastPlayhead=void 0)},seekingListener:function(t){this.fireSeekBegin({},!1)},seekedListener:function(t){this.lastSeekPlayhead=this.getPlayhead()},errorListener:function(t){var e;this.player.error&&this.player.error()&&(this.fireError(this.player.error().code,this.player.error().message),(2===(e=Number(this.player.error().code))||4===e||e<0)&&(this.plugin.fireStop(),this.lastPlayhead=void 0,this.crashed=!0))},loadAdsAdapter:function(){var t;null===this.plugin.getAdsAdapter()&&(t=null,t=new("undefined"!=typeof google&&o.ImaAdsAdapter.isUsed(this)?o.ImaAdsAdapter:o.OnceUXAdsAdapter.isUsed(this)?o.OnceUXAdsAdapter:this.player.ads&&"undefined"!=typeof google?o.BcoveImaAdsAdapter:this.player.ads&&this.player.FreeWheelPlugin?o.BcoveFreewheelAdsAdapter:o.GenericAdsAdapter)(this.player),this.plugin.setAdsAdapter(t))}},{GenericAdsAdapter:t("./ads/generic"),BcoveImaAdsAdapter:t("./ads/bcove-ima"),BcoveFreewheelAdsAdapter:t("./ads/bcove-freewheel"),ImaAdsAdapter:t("./ads/ima"),OnceUXAdsAdapter:t("./ads/onceux"),ContribHlsTech:t("./tech/contrib-hls"),HlsJsTech:t("./tech/hls-js"),ShakaTech:t("./tech/shaka"),DashShakaTech:t("./tech/dash-shaka")});r.adapters.Videojs=o,e.exports=r.adapters.Videojs},{"../manifest.json":320,"./ads/bcove-freewheel":322,"./ads/bcove-ima":323,"./ads/generic":324,"./ads/ima":325,"./ads/onceux":326,"./tech/contrib-hls":327,"./tech/dash-shaka":328,"./tech/hls-js":329,"./tech/shaka":330,youboralib:391}],330:[function(t,e,n){var s=t("youboralib");e.exports={isUsed:function(t){return!!t.getTech().shakaPlayer},getResource:function(t){return t.getTech().shakaPlayer.getManifestUri()},getBitrate:function(t){return t.getTech().shakaPlayer.getStats().streamBandwidth},getRendition:function(t){var e,n=t.getTech().shakaPlayer,t=n.getStats(),r=s.Util.buildRenditionString(t.width,t.height,t.streamBandwidth),i=n.getVariantTracks();for(e in i){var o=i[e];if(o.active&&"video"===o.type){r=s.Util.buildRenditionString(o.width,o.height,o.bandwidth);break}}return r}}},{youboralib:391}],329:[function(t,e,n){var r=t("youboralib");e.exports={isUsed:function(t){return!!t.getTech().hls_},getResource:function(t){var e=null;return t.getTech().hls_&&t.getTech().hls_.url?e=t.getTech().hls_.url:t.getTech().hls&&t.getTech().hls.source_&&(e=t.getTech().hls.source_.src),e},getBitrate:function(t){var e=null,n=t.getTech().hls_.currentLevel;return void 0===n||-1===n||!t.getTech().hls_.levels||(n=t.getTech().hls_.levels[n])&&n.bitrate&&(e=n.bitrate),e},getRendition:function(t){var e=null,n=t.getTech().hls_.currentLevel;return void 0===n||-1===n||!t.getTech().hls_.levels||(n=t.getTech().hls_.levels[n])&&(e=r.Util.buildRenditionString(n.width,n.height,n.bitrate)),e}}},{youboralib:391}],328:[function(t,e,n){var s=t("youboralib");e.exports={isUsed:function(t){return t.player.dash&&t.player.dash.shakaPlayer},getResource:function(t){return t.player.dash.shakaPlayer.getManifestUri()},getBitrate:function(t){return t.player.dash.shakaPlayer.getStats().streamBandwidth},getRendition:function(t){var e,n=t.player.dash.shakaPlayer,t=n.getStats(),r=s.Util.buildRenditionString(t.width,t.height,t.streamBandwidth),i=n.getVariantTracks();for(e in i){var o=i[e];o.active&&"video"===o.type&&(r=s.Util.buildRenditionString(o.width,o.height,o.bandwidth))}return r}}},{youboralib:391}],327:[function(t,e,n){var r=t("youboralib");e.exports={isUsed:function(t){return!!t.getTech().hls},getBitrate:function(t){var e=null,n=t.getTech().hls.playlists.media();return t.player.qualityLevels?(t=(t=t.player.qualityLevels())[t.selectedIndex])&&(e=t.bitrate):n&&n.attributes&&(e=n.attributes.BANDWIDTH),e},getRendition:function(t){var e=null,n=t.getTech().hls.playlists.media();return t.player.qualityLevels?(t=(t=t.player.qualityLevels())[t.selectedIndex])&&(e=r.Util.buildRenditionString(t.width,t.height,t.bitrate)):n&&n.attributes&&((n=n.attributes).RESOLUTION?e=r.Util.buildRenditionString(n.RESOLUTION.width,n.RESOLUTION.height,n.BANDWIDTH):n.BANDWIDTH?e=r.Util.buildRenditionString(n.BANDWIDTH):n.NAME&&(e=n.NAME)),e}}},{youboralib:391}],326:[function(t,e,n){var r=t("youboralib"),i=t("../../manifest.json"),t=r.Adapter.extend({getVersion:function(){return i.version+"-videojs-onceux-ads"},getResource:function(){return this.player.ads.contentSrc},getPlayhead:function(){return this.player.onceux.currentTime()},getDuration:function(){return this.player.onceux.duration()},getPosition:function(){var t=r.Constants.AdPosition.Preroll;return t=this.plugin.getAdapter().flags.isJoined?this.plugin.getAdapter().getPlayhead()<=this.plugin.getAdapter().getDuration()?r.Constants.AdPosition.Midroll:r.Constants.AdPosition.Postroll:t},registerListeners:function(){r.Util.logAllEvents(this.player,[null,"onceux-ads-complete","onceux-adroll-start","onceux-adroll-complete","onceux-linearad-start","onceux-linearad-impression","onceux-linearad-complete","onceux-linearad-skipped","onceux-linearad-pause","onceux-linearad-resume","onceux-companionad-creativeView","adserror","ads-click"]),this.monitorPlayhead(!0,!1),this.references={"onceux-linearad-start":this.startedListener.bind(this),"onceux-linearad-pause":this.pausedListener.bind(this),"onceux-linearad-resume":this.resumedListener.bind(this),"onceux-linearad-complete":this.completeListener.bind(this),"onceux-linearad-skipped":this.skippedListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}.bind(this)),delete this.references)},startedListener:function(t){this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},completeListener:function(t){this.fireStop({adPlayhead:this.getDuration()})},skippedListener:function(t){this.fireSkip()},errorListener:function(t){this.fireError()},clickListener:function(t){this.fireClick()}},{isUsed:function(t){return t.player.onceux}});e.exports=t},{"../../manifest.json":320,youboralib:391}],325:[function(t,e,n){var r=t("youboralib"),i=t("../../manifest.json"),t=r.Adapter.extend({getVersion:function(){return i.version+"-videojs-ima-ads"},getDuration:function(){return this.player.ima.getAdsManager()&&null!==this.player.ima.getAdsManager().getCurrentAd()&&(this.duration=this.player.ima.getAdsManager().getCurrentAd().getDuration()),this.duration},getResource:function(){var t=null,e=this.player.ima.getAdsManager();return t=e?e.getCurrentAd().getMediaUrl():t},getTitle:function(){var t=null,e=this.player.ima.getAdsManager();return t=e?e.getCurrentAd().getTitle():t},getPlayhead:function(){var t=null,e=this.player.ima.getAdsManager();return t=e?this.getDuration()-e.getRemainingTime():t},getPlayerVersion:function(){return"IMA"+google.ima.VERSION+"; contrib-ads "+this.player.ads.VERSION},getPosition:function(){var t=r.Constants.AdPosition.Preroll;return this.plugin._adapter.getDuration()-1<this.plugin._adapter.getPlayhead()?t=r.Constants.AdPosition.Postroll:this.plugin._adapter.flags.isJoined&&(t=r.Constants.AdPosition.Midroll),t},getGivenBreaks:function(){var t=null;return t=this.cuepoints?this.cuepoints.length:t},getBreaksTime:function(){return this.cuepoints},getGivenAds:function(){return this.totalAds},getAudioEnabled:function(){return!this.player.ima.adMuted},getIsSkippable:function(){return this.isSkippable},getIsFullscreen:function(){var t,e=!1,n=this.player.ima.adDisplayContainer;for(t in n)n[t]&&n[t].width&&n[t].height&&window.innerHeight&&window.innerWidth&&n[t].width&&n[t].height&&(e=window.innerHeight<=n[t].height+30&&window.innerWidth<=n[t].width+30);return e},getIsVisible:function(){return r.Util.calculateAdViewability(this.player.ima.adContainerDiv)},registerListeners:function(){this.monitorPlayhead(!0,!1);var t=google.ima.AdEvent.Type;this.references={},this.references[t.AD_METADATA]=this.metadataListener.bind(this),this.references[t.LOADED]=this.loadedListener.bind(this),this.references[t.CONTENT_PAUSE_REQUESTED]=this.contentPauseRequestedListener.bind(this),this.references[t.STARTED]=this.startedListener.bind(this),this.references[t.PAUSED]=this.pausedListener.bind(this),this.references[t.RESUMED]=this.resumedListener.bind(this),this.references[t.COMPLETE]=this.completeListener.bind(this),this.references[t.SKIPPED]=this.skippedListener.bind(this),this.references[t.CLICK]=this.clickListener.bind(this),this.references[google.ima.AdErrorEvent.Type.AD_ERROR]=this.errorListener.bind(this),this.references[t.ALL_ADS_COMPLETED]=this.adsEndedListener.bind(this),this.references[t.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[t.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[t.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.playerReferences={adend:this.adEndedListener.bind(this),adstart:this.startedListener.bind(this),adskip:this.skippedListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player&&this.player.ima&&(Object.keys(this.references).forEach(function(t){this.player.ima.addEventListener(t,this.references[t])}.bind(this)),Object.keys(this.playerReferences).forEach(function(t){this.player.on(t,this.playerReferences[t])}.bind(this)))},metadataListener:function(t){this.cuepoints=t.getAdCuePoints().h.slice(),this.plugin._adapter&&this.cuepoints.forEach(function(t,e){-1!==this.cuepoints[e]&&null!=this.cuepoints[e]&&void 0!==this.cuepoints[e]||(this.cuepoints[e]=this.plugin._adapter.getDuration())}.bind(this))},loadedListener:function(t){this.isSkippable=t.getAdData().skippable,this.totalAds=t.getAdData().adPodInfo.totalAds,this.fireStart()},contentPauseRequestedListener:function(t){this.fireStart()},startedListener:function(t){this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},completeListener:function(t){this.fireStop()},skippedListener:function(t){this.fireSkip()},adEndedListener:function(t){this.fireStop()},errorListener:function(t){t=t.getError();this.fireError(t.getCode(),t.getMessage())},clickListener:function(t){this.fireClick()},adsEndedListener:function(t){this.plugin.getAdapter().adsEnded=!0,this.fireStop(),this.plugin.requestBuilder.lastSent.adPosition===r.Constants.AdPosition.Postroll&&this.plugin.fireStop()},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.player.ima&&this.references&&this.playerReferences&&(Object.keys(this.references).forEach(function(t){this.player.ima.removeEventListener(t,this.references[t])}.bind(this)),Object.keys(this.playerReferences).forEach(function(t){this.player.off(t,this.playerReferences[t])}.bind(this))),delete this.references,delete this.playerReferences},adPlayerErrorListener:function(t){t=t.data.AdError;0<=[1012,1005,301,402,302].indexOf(t.getErrorCode())?this.fireManifest(r.Constants.ManifestError.NO_RESPONSE,t.getMessage()):0<=[1007,1009,303].indexOf(t.getErrorCode())?this.fireManifest(r.Constants.ManifestError.EMPTY,t.getMessage()):0<=[403,100,503,101,102].indexOf(t.getErrorCode())?this.fireManifest(r.Constants.ManifestError.WRONG,t.getMessage()):this.fireError(t.getErrorCode(),t.getMessage())}},{isUsed:function(t){return t.player.ima}});e.exports=t},{"../../manifest.json":320,youboralib:391}],324:[function(t,e,n){var r=t("youboralib"),i=t("../../manifest.json"),r=r.Adapter.extend({getVersion:function(){return i.version+"-videojs-ads"},registerListeners:function(){this.references={adstart:this.adStartListener.bind(this),adend:this.adEndListener.bind(this),adskip:this.adSkipListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},unregisterListeners:function(){this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}.bind(this)),delete this.references)},adStartListener:function(t){this.fireStart(),this.fireJoin()},adEndListener:function(t){this.fireStop()},adSkipListener:function(t){this.fireSkip()},errorListener:function(t){this.fireError()},clickListener:function(t){this.fireClick()}});e.exports=r},{"../../manifest.json":320,youboralib:391}],323:[function(t,e,n){var r=t("youboralib"),t=r.Adapter.extend({getVersion:function(){var t=null;return t="undefined"!=typeof google&&google.ima?"bcove-ima "+google.ima.VERSION:t},getPlayhead:function(){var t=this.plugin.getAdapter().player;return(t=this.player.ima3&&this.player.ima3&&this.player.ima3.adPlayer?this.player.ima3.adPlayer:t).currentTime()},getDuration:function(){var t;return this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration?this.player.ads.ad.duration:(t=this.plugin.player,(t=this.player.ima3?this.player.ima3.adPlayer:t)&&t.duration?t.duration():null)},getPosition:function(){var t=r.Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":t=r.Constants.AdPosition.Preroll;break;case"MIDROLL":t=r.Constants.AdPosition.Midroll;break;case"POSTROLL":t=r.Constants.AdPosition.Postroll}else this.plugin._adapter.flags.isJoined?this.plugin._adapter.getPlayhead()>=this.plugin._adapter.getDuration()&&(t=r.Constants.AdPosition.Postroll):t=r.Constants.AdPosition.Preroll;return t},getResource:function(){var t="unknown";return t=this.player.ima3?this.player.ima3.currentAd.getMediaUrl():t},getTitle:function(){var t=null;return t=this.player.ima3&&this.player.ima3.currentAd?this.player.ima3.currentAd.getTitle():t},getPlayerVersion:function(){var t=null;return t=this.player.ima3?this.player.ima3.VERSION:t},getGivenBreaks:function(){var t=null;return t=this.player.ima3?this.player.ima3.adsManager.getCuePoints().length:t},getBreaksTime:function(){var t=null;if(this.player.ima3){var e,n=this.player.ima3.adsManager.getCuePoints();for(e in n)(n[e]||0===n[e])&&-1!==n[e]||(n[e]=this.plugin._adapter.getDuration());t=n}return t},getGivenAds:function(){var t=null;return t=this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getAdPodInfo()?this.player.ima3.currentAd.getAdPodInfo().getTotalAds():t},getAudioEnabled:function(){return!this.player.muted()&&!!this.player.volume()},getIsSkippable:function(){var t=!1;return t=this.player.ima3?this.player.ima3.currentAd&&this.player.ima3.currentAd.isSkippable():t},getIsFullscreen:function(){var t;return this.plugin.deviceDetector.isIphone()?!this.plugin.deviceDetector.isInBackground:(t=null,!!(t=this.player.ima3?this.player.ima3.el:t)&&window.innerHeight<=t.clientHeight+30&&window.innerWidth<=t.clientWidth+30)},getIsVisible:function(){var t=null;return this.plugin.deviceDetector.isIphone()?t=!this.plugin.deviceDetector.isInBackground:this.player.ima3&&(t=r.Util.calculateAdViewability(this.player.ima3.el)),t},getBitrate:function(){var t=-1;return t=this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getVastMediaBitrate()?this.player.ima3.currentAd.getVastMediaBitrate():t},getCreativeId:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd?t=this.player.ima3.currentAd.getCreativeAdId()||this.player.ima3.currentAd.getCreativeId():this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._creativeId),t},registerListeners:function(){this.monitorPlayhead(!0,!1),this.references={"ima3-started":this.startJoinListener.bind(this),"ima3-paused":this.pausedListener.bind(this),"ima3-resumed":this.resumedListener.bind(this),"ima3-complete":this.adEndedListener.bind(this),"ima3-skipped":this.skippedListener.bind(this),"ima3-ad-error":this.errorListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-click":this.clickListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},startJoinListener:function(t){this.plugin._adapter&&this.plugin._adapter.firePause(),this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},skippedListener:function(t){this.fireSkip(),this.plugin._adapter&&this.plugin._adapter.fireResume()},adEndedListener:function(t){var e=this.plugin.requestBuilder.lastSent.adPosition===r.Constants.AdPosition.Preroll?0:this.plugin._adapter.lastPlayhead;this.fireStop({playhead:e,adPlayhead:this.getDuration()})},errorListener:function(t){this.player.ima3&&(t.getError&&t.getError()?(t=t.getError(),this.fireError(t.getCode(),t.getMessage())):this.fireError())},clickListener:function(t){var e;this.player.ima3&&(e=null,this.player.ima3.currentAd&&this.player.ima3.currentAd.g&&(e=this.player.ima3.currentAd.g.clickThroughUrl),this.fireClick(e))},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},podEndListener:function(t){this.fireBreakStop()},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}).bind(this),this.references={})},adPlayerErrorListener:function(t){t=t.data.AdError;0<=[1012,1005,301,402,302].indexOf(t.getErrorCode())?this.fireManifest(r.Constants.ManifestError.NO_RESPONSE,t.getMessage()):0<=[1007,1009,303].indexOf(t.getErrorCode())?this.fireManifest(r.Constants.ManifestError.EMPTY,t.getMessage()):0<=[403,100,503,101,102].indexOf(t.getErrorCode())?this.fireManifest(r.Constants.ManifestError.WRONG,t.getMessage()):this.fireError(t.getErrorCode(),t.getMessage())}},{isUsed:function(t){return t.player.ads&&"undefined"!=typeof google}});e.exports=t},{youboralib:391}],322:[function(t,e,n){var i=t("youboralib"),t=i.Adapter.extend({getVersion:function(){var t="unknown";return this.player.FreeWheelPlugin.getVersion?t="bcove-fw "+this.player.FreeWheelPlugin.getVersion():this.player.FreeWheelPlugin.VERSION&&(t="bcove-ssai "+this.player.FreeWheelPlugin.VERSION),t},getDuration:function(){var t,e,n=null;return this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration?n=this.player.ads.ad.duration:(t=this.plugin.player,this.player.FreeWheelPlugin&&(e=this.player.FreeWheelPlugin.tech,this.player.FreeWheelPlugin[e].adPlayer&&(t=this.player.FreeWheelPlugin[e].adPlayer)),t&&t.duration&&(n=t.duration())),n},getPosition:function(){var t=i.Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":t=i.Constants.AdPosition.Preroll;break;case"MIDROLL":t=i.Constants.AdPosition.Midroll;break;case"POSTROLL":t=i.Constants.AdPosition.Postroll}else this.plugin._adapter.flags.isJoined?this.plugin._adapter.getPlayhead()>=this.plugin._adapter.getDuration()&&(t=i.Constants.AdPosition.Postroll):t=i.Constants.AdPosition.Preroll;return t},getResource:function(){var t,e,n=null;return this.slot&&(!(t=this.slot.getAdInstances())||t[e=(this.plugin.requestBuilder.lastSent.adNumber||1)-1]&&t[e].getActiveCreativeRendition&&((t=t[e].getActiveCreativeRendition())&&t.getPrimaryCreativeRenditionAsset&&((e=t.getPrimaryCreativeRenditionAsset())&&e.getUrl&&e.getUrl()&&(n=e.getUrl())),t&&t.getWrapperUrl&&!n&&(n=t.getWrapperUrl()))),n||"unknown"},getTitle:function(){var t=null;return this.player.FreeWheelPlugin.adsManager&&this.player.FreeWheelPlugin.adsManager.getCurrentAd()&&this.player.FreeWheelPlugin.adsManager.getCurrentAd().getTitle()?t=this.player.FreeWheelPlugin.adsManager.getCurrentAd().getTitle():this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._adId),t},getPlayhead:function(){var t=this.plugin.getAdapter().player;return(t=this.player.FreeWheelPlugin.adPlayer?this.player.FreeWheelPlugin.adPlayer:t).currentTime()},getGivenBreaks:function(){var t,e=this.player.FreeWheelPlugin.tech,n=this.player.FreeWheelPlugin[e]._adContext._adResponse.getTemporalSlots(),r=0;for(t in n){var i=n[t];if(0<i.getAdCount()){var o,s=i.getAdInstances();for(o in s)if("video"===s[o]._creativeRenditions[0]._baseUnit){r++;break}}}return r},getBreaksTime:function(){var t,e=this.player.FreeWheelPlugin[this.player.FreeWheelPlugin.tech]._adContext._adResponse.getTemporalSlots(),n=[];for(t in e){var r=e[t];if(0<r.getAdCount()){var i,o=r.getAdInstances();for(i in o)if("video"===o[i]._creativeRenditions[0]._baseUnit){this.plugin.getDuration()&&r.getTimePosition()>this.plugin.getDuration()?n.push(this.plugin.getDuration()):n.push(r.getTimePosition());break}}}return n.sort()},getGivenAds:function(){var t=this.player.FreeWheelPlugin.tech;return this.player.FreeWheelPlugin[t]._currentSlot.getAdCount()},getAudioEnabled:function(){return!this.player.muted()&&!!this.player.volume()},getIsSkippable:function(){return!1},getIsFullscreen:function(){var t;return this.plugin.deviceDetector.isIphone()?!this.plugin.deviceDetector.isInBackground:(t=this.player.FreeWheelPlugin.tech,!!(t=this.player.FreeWheelPlugin[t]._video)&&window.innerHeight<=t.clientHeight+30&&window.innerWidth<=t.clientWidth+30)},getIsVisible:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{if(!this.contentPlayer){var e,n=this.player.FreeWheelPlugin.tech;for(e in this.player.FreeWheelPlugin[n]){var r=this.player.FreeWheelPlugin[n][e];if(r.videoHeight&&r.clientHeight){this.contentPlayer=r;break}}}t=i.Util.calculateAdViewability(this.contentPlayer)}return t},getCreativeId:function(){var t=null;return t=this.titles?this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._creativeId:t},registerListeners:function(){if(this.monitorPlayhead(!0,!1),this.references={"ads-ad-started":this.startJoinListener.bind(this),"ads-pause":this.pausedListener.bind(this),"ads-play":this.resumedListener.bind(this),"ads-ad-ended":this.adEndedListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},"undefined"!=typeof tv){var t,e,n,r=this.player.FreeWheelPlugin[this.player.FreeWheelPlugin.tech]._adContext;for(t in this.events=tv.freewheel.SDK,this.fwreferences={},this.fwreferences[this.events.EVENT_AD]=this.logListener.bind(this),this.fwreferences[this.events.EVENT_SLOT_STARTED]=this.slotListener.bind(this),this.fwreferences[this.events.EVENT_ERROR]=this.errorFwListener.bind(this),this.manifestNoResponse=[this.events.ERROR_SECURITY,this.events.ERROR_TIMEOUT],this.manifestNoResponse)this.fwreferences[t]=this.noResponseManifestListener.bind(this);for(e in this.manifestEmpty=[this.events.ERROR_NO_AD_AVAILABLE,this.events.ERROR_VAST_NO_AD],this.manifestEmpty)this.fwreferences[e]=this.manifestEmptyListener.bind(this);for(n in this.manifestWrong=[this.events.ERROR_VAST_VERSION_NOT_SUPPORTED,this.events.ERROR_VAST_WRAPPER_LIMIT_REACH,this.events.ERROR_VAST_XML_PARSING,this.events.ERROR_PARSE],this.manifestWrong)this.fwreferences[n]=this.manifestWrongListener.bind(this);this.player&&Object.keys(this.fwreferences).forEach(function(t){r.addEventListener(t,this.fwreferences[t])}.bind(this))}this.player&&Object.keys(this.references).forEach(function(t){this.player.on(t,this.references[t])}.bind(this))},logListener:function(t){if(t.errorCode||t.errorInfo||t.errorModule)this.errorFwListener(t);else switch(t.subType){case this.events.EVENT_AD_SKIPPED:this.skippedListener(t);break;case this.events.EVENT_SLOT_STARTED:this.slotListener(t);break;case this.events.EVENT_AD_CLICK:this.clickFwListener(t)}},skippedListener:function(t){this.fireSkip(),this.plugin._adapter&&this.plugin._adapter.fireResume()},noResponseManifestListener:function(t){this.fireManifest(i.Constants.ManifestError.NO_RESPONSE,"No response")},manifestEmptyListener:function(t){this.fireManifest(i.Constants.ManifestError.EMPTY,"Empty manifest")},manifestWrongListener:function(t){this.fireManifest(i.Constants.ManifestError.WRONG,"Wrong manifest format")},slotListener:function(t){this.slot=t.slot,t&&t.slot&&t.slot.getAdInstances&&(this.titles=t.slot.getAdInstances())},startJoinListener:function(t){this.plugin._adapter&&this.plugin._adapter.firePause(),this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},adEndedListener:function(t){var e=this.plugin.requestBuilder.lastSent.adPosition===i.Constants.AdPosition.Preroll?0:this.plugin._adapter.lastPlayhead;this.fireStop({playhead:e,adPlayhead:this.getDuration()})},errorFwListener:function(t){this.fireError(t.errorCode||t.subType,t.errorInfo),this.fireStop()},clickFwListener:function(t){t=t.adInstance.getEventCallbackUrls(this.events.EVENT_AD_CLICK,this.events.EVENT_TYPE_CLICK)[0];this.fireClick(t)},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},podEndListener:function(t){this.fireBreakStop()},unregisterListeners:function(){this.monitor&&this.monitor.stop(),this.player&&this.references&&(Object.keys(this.references).forEach(function(t){this.player.off(t,this.references[t])}).bind(this),this.references={})}},{isUsed:function(t){return this.player.ads&&this.player.FreeWheelPlugin}});e.exports=t},{youboralib:391}],320:[function(t,e,n){e.exports={name:"videojs",type:"adapter",tech:"js",author:"Jordi Aguilar",version:"6.5.10",built:"2019-11-12",repo:"https://bitbucket.org/npaw/videojs-adapter-js.git",libVersion:"^6.5.19",features:{buffer:"monitor",seek:"native",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getPlayrate","getDuration","getBitrate","getRendition","getTitle","getIsLive","getResource","getPlayerVersion"]},ads:[{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getTitle","getResource","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"],filename:"bcove-freewheel.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getBitrate","getTitle","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"],filename:"bcove-ima.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!1,resume:!1,getters:[],filename:"generic.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getTitle","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen"],filename:"ima.js"},{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getResource","getPosition"],filename:"onceux.js"}]}},{}],319:[function(t,e,n){var r=t("youboralib"),i=t("../manifest.json");r.adapters.Ima=r.Adapter.extend({getVersion:function(){return i.version+"-"+i.name+"-"+i.tech},getPlayhead:function(){return this.flags.isJoined?this.isDAI?this.playhead:this.getDuration()-this.player.getRemainingTime():0},getDuration:function(){return this.isDAI?this.duration:(this.player.getCurrentAd&&this.player.getCurrentAd()&&(this.lastDuration=this.player.getCurrentAd().getDuration()),this.lastDuration)},getRendition:function(){return this.isDAI?this.width&&this.height?this.width+"x"+this.height:null:this.player.getCurrentAd().getVastMediaWidth().toString()+"x"+this.player.getCurrentAd().getVastMediaHeight().toString()},getTitle:function(){return this.isDAI?this.title:this.player.getCurrentAd().getTitle()},getTitle2:function(){return this.isDAI?this.advertiser:this.player.getCurrentAd().getAdvertiserName()},getResource:function(){return this.isDAI?null:this.player.getCurrentAd().getMediaUrl()},getPlayerVersion:function(){return google.ima.VERSION},getPlayerName:function(){return"IMA"},getGivenBreaks:function(){return this.player.getCuePoints?this.player.getCuePoints().length:null},getBreaksTime:function(){if(this.player.getCuePoints){var n=this.player.getCuePoints();return n.forEach(function(t,e){-1!==n[e]&&null!==n[e]&&void 0!==n[e]||(n[e]=this.plugin._adapter.getDuration())}.bind(this)),n}},getGivenAds:function(){return this.totalAds},getAudioEnabled:function(){return!this.player.getVolume||0!==this.player.getVolume()},getIsSkippable:function(){return!!this.player.getCurrentAd&&this.player.getCurrentAd().g.skippable},getIsFullscreen:function(){if(!this.contentPlayer)for(var t in this.player){t=this.player[t];if(t&&t.videoHeight&&t.clientHeight){this.contentPlayer=t;break}}return!!(this.contentPlayer&&this.contentPlayer.clientWidth&&this.contentPlayer.clientHeight)&&window.innerHeight<=this.contentPlayer.clientHeight+30&&window.innerWidth<=this.contentPlayer.clientWidth+30},getIsVisible:function(){if(!this.contentPlayer)for(var t in this.player){t=this.player[t];if(t&&t.videoHeight&&t.clientHeight){this.contentPlayer=t;break}}return r.Util.calculateAdViewability(this.contentPlayer)},getPosition:function(){return this.plugin.getAdapter()&&!this.plugin.getAdapter().flags.isJoined?r.Constants.AdPosition.Preroll:!(this.isDAI&&this.plugin.getAdapter()&&this.plugin.getAdapter().getIsLive())&&this.adPosition||r.Constants.AdPosition.Midroll},getCreativeId:function(){return this.player.getCurrentAd?this.player.getCurrentAd().g.creativeId:null},registerListeners:function(){var t,e;for(e in this.references=[],google.ima.AdEvent&&(this.monitorPlayhead(!0,!1),t=google.ima.AdEvent.Type,r.Util.logAllEvents(this.player.addEventListener,[null,t.LOADED,t.CONTENT_PAUSE_REQUESTED]),this.references[t.LOADED]=this.readyListener.bind(this),this.references[t.CONTENT_PAUSE_REQUESTED]=this.playListener.bind(this),this.references[t.LOADED]=this.playListener.bind(this),this.references[t.PAUSED]=this.pauseListener.bind(this),this.references[t.STARTED]=this.playingListener.bind(this),this.references[t.RESUMED]=this.playingListener.bind(this),this.references[google.ima.AdErrorEvent.Type.AD_ERROR]=this.errorListener.bind(this),this.references[t.COMPLETE]=this.endedListener.bind(this),this.references[t.CONTENT_RESUME_REQUESTED]=this.endedListener.bind(this),this.references[t.SKIPPED]=this.skippedListener.bind(this),this.references[t.CLICK]=this.clickListener.bind(this),this.references[t.ALL_ADS_COMPLETED]=this.endedViewListener.bind(this),this.references[t.LOG]=this.logListener.bind(this),this.references[t.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[t.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[t.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.references[t.CONTENT_RESUME_REQUESTED]=this.breakEndListener.bind(this)),google.ima.dai&&(t=google.ima.dai.api.StreamEvent.Type,this.references[t.SKIPPED]=this.skippedL.bind(this),this.references[t.ERROR]=this.errorDAIListener.bind(this),this.references[t.AD_BREAK_STARTED]=this.startDAIListener.bind(this),this.references[t.AD_BREAK_ENDED]=this.stopDAIListener.bind(this),this.references[t.AD_PROGRESS]=this.progressDAIListener.bind(this),this.references[t.CLICK]=this.clickDAIListener.bind(this),this.references[t.STARTED]=this.joinDAIListener.bind(this),this.references[t.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[t.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[t.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this)),this.references)this.player.addEventListener(e,this.references[e])},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var t in this.references)this.player.removeEventListener(t,this.references[t]);this.references=[]}},skippedL:function(){this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireSkip()},errorDAIListener:function(t){this.fireError(),this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop()},startDAIListener:function(t){this.isDAI=!0,this.playhead=0,this.adPosition=this.getAdPosition(),this.duration=null,this.plugin.fireInit(),this.fireStart()},progressDAIListener:function(t){t.getStreamData&&t.getStreamData()?this.playhead=t.getStreamData().adProgressData.currentTime:t.getAdData&&t.getAdData()&&(this.playhead=t.getAdData().currentTime),this.fireJoin()},clickDAIListener:function(t){this.fireClick()},stopDAIListener:function(t){this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop({adPlayhead:this.duration}),this.plugin.getAdapter()&&this.plugin.getAdapter().fireResume(),this.fireBreakStop()},joinDAIListener:function(t){t=t.getAd();t&&(this.duration=t.getDuration(),this.title=t.getTitle(),this.width=t.getVastMediaWidth(),this.height=t.getVastMediaHeight(),this.advertiser=t.getAdvertiserName()),this.plugin.getAdapter()&&this.plugin.getAdapter().firePause(),this.fireStart(),this.fireJoin()},logListener:function(t){t.getAdData()&&t.getAdData().adError&&(t=t.getAdData().adError,this.fireError(t.getErrorCode(),t.getMessage()))},playListener:function(t){this.isDAI=!1,this.adPosition=this.getAdPosition();t=t.getAdData();this.totalAds=t&&t.adPodInfo?t.adPodInfo.totalAds:null,this.plugin.fireInit(),this.plugin.getAdapter()&&this.plugin.getAdapter().firePause(),this.fireStart({adPlayhead:"0"})},pauseListener:function(t){this.firePause()},playingListener:function(t){this.fireResume(),this.fireSeekEnd(),this.fireBufferEnd(),this.fireJoin({adPlayhead:"0"})},errorListener:function(t){this.fireError(),this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop()},firstQuartileListener:function(t){this.firstQuartileTriggered||(this.firstQuartileTriggered=!0,this.fireQuartile(1))},secondQuartileListener:function(t){this.secondQuartileTriggered||(this.secondQuartileTriggered=!0,this.fireQuartile(2))},thirdQuartileListener:function(t){this.thirdQuartileTriggered||(this.thirdQuartileTriggered=!0,this.fireQuartile(3))},endedListener:function(t){this.firstQuartileTriggered=!1,this.secondQuartileTriggered=!1,this.thirdQuartileTriggered=!1,this.fireStop({adPlayhead:this.lastDuration})},skippedListener:function(t){this.fireSkip({adPlayhead:this.getPlayhead()})},clickListener:function(t){var e=this.player.getCurrentAd().g.clickThroughUrl,n=(new Date).getTime();this.lastUrl===e&&n<(this.lastTime||0)+2e3||(this.lastUrl=e,this.lastTime=n,this.fireClick(e))},endedViewListener:function(t){this.getPosition()===r.Constants.AdPosition.Postroll&&this.plugin.fireStop()},readyListener:function(t){this.totalAds=t.getAdData().adPodInfo.totalAds},breakEndListener:function(t){this.fireBreakStop()},getAdPosition:function(){if(!this.isDAI){switch(this.player.getCurrentAd().getAdPodInfo().getTimeOffset()){case 0:return r.Constants.AdPosition.Preroll;case-1:return r.Constants.AdPosition.Postroll}return r.Constants.AdPosition.Mdiroll}if(this.plugin.getAdapter())return!this.plugin.getAdapter().flags.isJoined||this.plugin.getAdapter().getPlayhead()<1?r.Constants.AdPosition.Preroll:r.Constants.AdPosition.Midroll}}),e.exports=r.adapters.Ima},{"../manifest.json":318,youboralib:391}],391:[function(t,e,n){var r=i,i={noConflict:function(){return i=r,this}};i.VERSION=t("./version"),i.polyfills=t("./polyfills"),i.polyfills(),i.Object=t("./object"),i.Emitter=t("./emitter"),i.Log=t("./log"),i.Log.loadLevelFromUrl(),i.Util=t("./util"),i.HybridNetwork=t("./monitors/hybridnetwork"),i.Chrono=t("./chrono"),i.Timer=t("./timer"),i.Constants=t("./constants"),i.Request=t("./comm/request"),i.Communication=t("./comm/communication"),i.Transform=t("./comm/transform/transform"),i.ViewTransform=t("./comm/transform/view"),i.ResourceTransform=t("./comm/transform/resource"),i.CdnParser=t("./comm/transform/resourceparsers/cdnparser"),i.HlsParser=t("./comm/transform/resourceparsers/hlsparser"),i.OfflineParser=t("./comm/transform/offline"),i.LocationheaderParser=t("./comm/transform/resourceparsers/locationheaderparser"),i.Options=t("./plugin/options"),i.Plugin=t("./plugin/plugin"),i.Storage=t("./plugin/storage"),i.RequestBuilder=t("./plugin/requestbuilder"),i.PlayheadMonitor=t("./adapter/playheadmonitor"),i.Adapter=t("./adapter/adapter"),i.adapters={},i.Infinity=t("./infinity/infinity"),i.BackgroundDetector=t("./detectors/backgroundDetector"),i.DeviceDetector=t("./detectors/deviceDetector"),i.UUIDGenerator=t("./deviceUUID/hashgenerator"),i.registerAdapter=function(t,e){this.adapters[t]=e}.bind(i),i.unregisterAdapter=function(t){this.adapters[t]=null}.bind(i),e.exports=i},{"./adapter/adapter":332,"./adapter/playheadmonitor":335,"./chrono":336,"./comm/communication":337,"./comm/request":338,"./comm/transform/offline":340,"./comm/transform/resource":341,"./comm/transform/resourceparsers/cdnparser":342,"./comm/transform/resourceparsers/hlsparser":351,"./comm/transform/resourceparsers/locationheaderparser":352,"./comm/transform/transform":353,"./comm/transform/view":354,"./constants":356,"./detectors/backgroundDetector":357,"./detectors/deviceDetector":359,"./deviceUUID/hashgenerator":362,"./emitter":364,"./infinity/infinity":365,"./log":366,"./monitors/hybridnetwork":370,"./object":371,"./plugin/options":374,"./plugin/plugin":384,"./plugin/requestbuilder":385,"./plugin/storage":386,"./polyfills":387,"./timer":388,"./util":389,"./version":390}],387:[function(t,e,n){e.exports=function(){Function.prototype.bind=Function.prototype.bind||function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){}function n(){return o.apply(this instanceof e?this:t||window,i.concat(r.call(arguments)))}var r=Array.prototype.slice,i=r.call(arguments,1),o=this;return e.prototype=this.prototype,n.prototype=new e,n},Array.prototype.forEach=Array.prototype.forEach||function(t,e){if("function"!=typeof t)throw new TypeError(t+" is not a function!");for(var n=this.length,r=0;r<n;r++)t.call(e,this[r],r,this)}}},{}],384:[function(t,e,n){var r=t("../emitter"),i=t("../timer"),o=t("../chrono"),u=t("../constants"),s=t("../util"),c=t("../comm/request"),a=t("../comm/communication"),l=t("../comm/transform/flow"),h=t("../comm/transform/view"),d=t("../comm/transform/resource"),f=t("../comm/transform/offline"),p=t("./options"),g=t("./storage"),v=t("./offlineStorage"),m=t("./requestbuilder"),y=t("../infinity/infinity"),b=t("../monitors/hybridnetwork"),T=t("../detectors/backgroundDetector"),_=t("../detectors/deviceDetector"),S=t("../detectors/blockDetector"),E=t("../detectors/resizeScrollDetector"),w=t("../deviceUUID/hashgenerator"),r=r.extend({constructor:function(t,e){this.storage=new g,this.uuidGenerator=new w(this),this.infinity=new y(this),this.isInitiated=!1,this.isAdsManifestSent=!1,this.playedPostrolls=0,this.isBreakStarted=!1,this.initChrono=new o,this.options=new p(t),this.storage=new g(null,this.options.disableCookies),this.offlineStorage=new v,this._adapter=null,this._adsAdapter=null,this._ping=new i(this._sendPing.bind(this),5e3),this._beat=new i(this._sendBeat.bind(this),3e4),this._refreshData=new i(this._checkOldData.bind(this),36e5),this._refreshData.start(),this.sessionExpire=1e3*Number(this.storage.getLocal("sessionExpire"))||3e5,this.requestBuilder=new m(this),this.resourceTransform=new d(this),this.lastEventTime=null,e&&this.setAdapter(e),this.restartViewTransform(),this._initInfinity(),this.hybridNetwork=new b,this.deviceDetector=new _,this.backgroundDetector=new T(this),this.resizeScrollDetector=new E(this),this.options["background.enabled"]&&this.backgroundDetector.startDetection(),this.options["ad.blockDetection"]&&(this.blockDetector=new S(this))},_checkOldData:function(){this._adapter&&this._adapter.flags.isStarted||this.infinity.infinityStarted&&!this.infinity.infinityStopped||this.restartViewTransform()},restartViewTransform:function(t){this.viewTransform=new h(this),this.viewTransform.on(h.Event.DONE,this._receiveData.bind(this)),t?this.viewTransform.setData(t):this.getIsDataExpired()||this.storage.getLocal("accCode")!==this.options.accountCode&&this.storage.getSession("accCode")!==this.options.accountCode?(this.storage.removeStorages("data"),this.storage.removeStorages("session"),this.storage.removeLocal("infinityStarted"),this.storage.removeLocal("infinityStopped"),this.viewTransform.init()):this.viewTransform.setData(this.getStoredData())},_receiveData:function(t){this._ping.interval=1e3*t.target.response.pingTime,this._beat.interval=1e3*t.target.response.beatTime,this.sessionExpire=1e3*t.target.response.sessionExpire,this.storage.setStorages("data",t.target.response.msg),this.storage.setStorages("dataTime",(new Date).getTime()),this.storage.setStorages("accCode",this.options.accountCode),this.getIsSessionExpired()?(this.viewTransform.setSessionId(this.viewTransform.response.code),this.storage.setStorages("session",this.viewTransform.response.code)):this.viewTransform.setSessionId(this.getSessionId())},_reset:function(){this._stopPings(),this.resourceTransform=new d(this),this._adapter&&this._adapter.flags.reset(),this.isInitiated=!1,this.isStarted=!1,this.startDelayed=!1,this.isAdsManifestSent=!1,this.initChrono.reset(),this._totalPrerollsTime=0,this.requestBuilder.lastSent.breakNumber=0,this.requestBuilder.lastSent.adNumber=0,this._savedAdManifest=null,this._savedAdError=null,this.playedPostrolls=0,this.isBreakStarted=!1},_send:function(t,e,n,r,i,o,s){var a=(new Date).getTime();this.options.preventZombieViews&&this.lastEventTime&&a>this.lastEventTime+6e5&&this.viewTransform.nextView(),this.lastEventTime=e===u.Service.STOP?null:a,n=this.requestBuilder.buildParams(n,e),this.getIsLive()&&(n.mediaDuration=void 0,n.playhead=void 0);a={params:n,plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};this.emit(t,a),this._comm&&(null!==n||void 0!==i)&&this.options.enabled&&(this.lastServeiceSent=e,a={},void 0!==i&&"GET"!==i&&(a.method=i),a=new c(null,e,n,a),r&&a.setBody(r),this._comm.sendRequest(a,o,s))},_initComm:function(){this.resourceTransform.init(this.getResource()),this._comm=new a,this._comm.addTransform(new l),this._comm.addTransform(this.viewTransform),this.options&&this.options.offline?this._comm.addTransform(new f(this)):this._comm.addTransform(this.resourceTransform)},getComm:function(){return this._comm},setOptions:function(t){t&&(this.options.setOptions(t),"boolean"==typeof t["background.enabled"]&&(t["background.enabled"]?this.backgroundDetector.startDetection():this.backgroundDetector.stopDetection()))},disable:function(){this.setOptions({enabled:!1})},enable:function(){this.setOptions({enabled:!0})}},{Event:u.WillSendEvent});s.assign(r.prototype,t("./plugin+content")),s.assign(r.prototype,t("./plugin+getters")),s.assign(r.prototype,t("./plugin+content+getters")),s.assign(r.prototype,t("./plugin+ads")),s.assign(r.prototype,t("./plugin+ads+getters")),s.assign(r.prototype,t("./plugin+pings")),s.assign(r.prototype,t("./plugin+fire")),s.assign(r.prototype,t("./plugin+infinity")),s.assign(r.prototype,t("./plugin+infinity+getters")),e.exports=r},{"../chrono":336,"../comm/communication":337,"../comm/request":338,"../comm/transform/flow":339,"../comm/transform/offline":340,"../comm/transform/resource":341,"../comm/transform/view":354,"../constants":356,"../detectors/backgroundDetector":357,"../detectors/blockDetector":358,"../detectors/deviceDetector":359,"../detectors/resizeScrollDetector":360,"../deviceUUID/hashgenerator":362,"../emitter":364,"../infinity/infinity":365,"../monitors/hybridnetwork":370,"../timer":388,"../util":389,"./offlineStorage":373,"./options":374,"./plugin+ads":376,"./plugin+ads+getters":375,"./plugin+content":378,"./plugin+content+getters":377,"./plugin+fire":379,"./plugin+getters":380,"./plugin+infinity":382,"./plugin+infinity+getters":381,"./plugin+pings":383,"./requestbuilder":385,"./storage":386}],385:[function(t,e,n){var r=t("../object"),a=t("../log"),i=["accountCode","username","anonymousUser","rendition","deviceInfo","player","title","title2","live","mediaDuration","mediaResource","parsedResource","transactionCode","properties","cdn","playerVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","obfuscateIp","p2pEnabled","pluginVersion","pluginInfo","isp","connectionType","ip","referer","userType","streamingProtocol","householdId","adsBlocked","adsExpected","deviceUUID","smartswitchConfigCode","smartswitchGroupCode","smartswitchContractCode","libVersion","nodeHost","nodeType","appName","appReleaseVersion","package","saga","tvshow","season","titleEpisode","channel","imdbID","gracenoteID","contentType","genre","contentLanguage","subtitles","cost","price","playbackType","email","drm","videoCodec","audioCodec","codecSettings","codecProfile","containerFormat","contentId","contractedResolution"],t=["playhead","adTitle","adPosition","adDuration","adCampaign","adCreativeId","adProvider","adResource","adPlayerVersion","adProperties","adAdapterVersion","extraparam1","extraparam2","extraparam3","extraparam4","extraparam5","extraparam6","extraparam7","extraparam8","extraparam9","extraparam10","fullscreen","audio","skippable"],u=r.extend({constructor:function(t){this._plugin=t,this._adNumber=0,this.lastSent={}},fetchParams:function(t,e,n){t=t||{},e=e||[];for(var r=0;r<e.length;r++){var i,o,s=e[r];t[s]||(i=u.getters[s],this._plugin[i]?null===(o=this._plugin[i]())||n&&this.lastSent[s]===o||(t[s]=o,this.lastSent[s]=o):a.warn("Trying to call undefined getter "+s+":"+i))}return t},getGetters:function(){return u.getters},buildBody:function(t){return this.fetchParams(null,u.bodyParams[t],!1)},buildParams:function(t,e){return this.fetchParams(t=t||{},u.params[e],!1),this.fetchParams(t,u.differentParams[e],!0),t},getNewAdNumber:function(){var t=this.lastSent.adNumber;return t&&this.lastSent.adPosition===this._plugin.getAdPosition()?t+=1:t=1,this.lastSent.adNumber=t},getChangedEntities:function(){return this.fetchParams({},u.differentParams.entities,!0)}},{params:{"/data":["system","pluginVersion","requestNumber","username"],"/init":i,"/start":i,"/joinTime":["joinDuration","playhead","mediaDuration"],"/pause":["playhead"],"/resume":["pauseDuration","playhead"],"/seek":["seekDuration","playhead"],"/bufferUnderrun":["bufferDuration","playhead"],"/error":["player"].concat(i),"/stop":["bitrate","playhead","pauseDuration"],"/infinity/video/event":[],"/adInit":t,"/adStart":t,"/adJoin":["playhead","adPosition","adJoinDuration","adPlayhead"],"/adPause":["playhead","adPosition","adPlayhead"],"/adResume":["playhead","adPosition","adPlayhead","adPauseDuration"],"/adBufferUnderrun":["playhead","adPosition","adPlayhead","adBufferDuration"],"/adStop":["playhead","adPosition","adPlayhead","adBitrate","adTotalDuration","pauseDuration","adViewedDuration","adViewability"],"/adClick":["playhead","adPosition","adPlayhead"],"/adError":t,"/adManifest":["givenBreaks","expectedBreaks","expectedPattern","breaksTime"],"/adBreakStart":["breakPosition","givenAds","expectedAds"],"/adBreakStop":[],"/adQuartile":["breakPosition","adPosition","adViewedDuration","adViewability"],"/adBlocked":t,"/ping":["droppedFrames","playrate","cdnDownloadedTraffic","p2pDownloadedTraffic","uploadTraffic","latency","packetLoss","packetSent","metrics"],"/infinity/session/start":["accountCode","username","anonymousUser","navContext","route","page","referer","referral","language","deviceInfo","adsBlocked","deviceUUID","libVersion","appName","appReleaseVersion"],"/infinity/session/stop":[],"/infinity/session/nav":["navContext","route","page"],"/infinity/session/beat":["sessionMetrics"],"/infinity/session/event":["accountCode","navContext"],"/offlineEvents":{}},bodyParams:{"/offlineEvents":["viewJson"]},differentParams:{entities:["rendition","title","title2","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","cdn","nodeHost","nodeType","nodeTypeString","subtitles","contentLanguage"]},getters:{requestNumber:"getRequestNumber",playhead:"getPlayhead",playrate:"getPlayrate",fps:"getFramesPerSecond",droppedFrames:"getDroppedFrames",mediaDuration:"getDuration",bitrate:"getBitrate",throughput:"getThroughput",rendition:"getRendition",title:"getTitle",title2:"getTitle2",live:"getIsLive",mediaResource:"getResource",parsedResource:"getParsedResource",transactionCode:"getTransactionCode",properties:"getMetadata",playerVersion:"getPlayerVersion",player:"getPlayerName",cdn:"getCdn",pluginVersion:"getPluginVersion",libVersion:"getLibVersion",userType:"getUserType",streamingProtocol:"getStreamingProtocol",obfuscateIp:"getObfuscateIp",householdId:"getHouseholdId",latency:"getLatency",packetLoss:"getPacketLoss",packetSent:"getPacketSent",metrics:"getVideoMetrics",param1:"getExtraparam1",param2:"getExtraparam2",param3:"getExtraparam3",param4:"getExtraparam4",param5:"getExtraparam5",param6:"getExtraparam6",param7:"getExtraparam7",param8:"getExtraparam8",param9:"getExtraparam9",param10:"getExtraparam10",param11:"getExtraparam11",param12:"getExtraparam12",param13:"getExtraparam13",param14:"getExtraparam14",param15:"getExtraparam15",param16:"getExtraparam16",param17:"getExtraparam17",param18:"getExtraparam18",param19:"getExtraparam19",param20:"getExtraparam20",extraparam1:"getAdExtraparam1",extraparam2:"getAdExtraparam2",extraparam3:"getAdExtraparam3",extraparam4:"getAdExtraparam4",extraparam5:"getAdExtraparam5",extraparam6:"getAdExtraparam6",extraparam7:"getAdExtraparam7",extraparam8:"getAdExtraparam8",extraparam9:"getAdExtraparam9",extraparam10:"getAdExtraparam10",adPosition:"getAdPosition",adPlayhead:"getAdPlayhead",adDuration:"getAdDuration",adCampaign:"getAdCampaign",adCreativeId:"getAdCreativeId",adBitrate:"getAdBitrate",adTitle:"getAdTitle",adResource:"getAdResource",adPlayerVersion:"getAdPlayerVersion",adProperties:"getAdMetadata",adAdapterVersion:"getAdAdapterVersion",givenBreaks:"getGivenBreaks",expectedBreaks:"getExpectedBreaks",expectedPattern:"getExpectedPattern",breaksTime:"getBreaksTime",breakPosition:"getAdPosition",givenAds:"getGivenAds",expectedAds:"getExpectedAds",adsExpected:"getAdsExpected",adViewedDuration:"getAdViewedDuration",adViewability:"getAdViewability",fullscreen:"getIsFullscreen",audio:"getAudioEnabled",skippable:"getIsSkippable",adProvider:"getAdProvider",pluginInfo:"getPluginInfo",isp:"getIsp",connectionType:"getConnectionType",ip:"getIp",deviceInfo:"getDeviceInfo",system:"getAccountCode",accountCode:"getAccountCode",username:"getUsername",anonymousUser:"getAnonymousUser",joinDuration:"getJoinDuration",bufferDuration:"getBufferDuration",seekDuration:"getSeekDuration",pauseDuration:"getPauseDuration",adJoinDuration:"getAdJoinDuration",adBufferDuration:"getAdBufferDuration",adPauseDuration:"getAdPauseDuration",adTotalDuration:"getAdTotalDuration",referer:"getReferer",referral:"getReferral",language:"getLanguage",nodeHost:"getNodeHost",nodeType:"getNodeType",nodeTypeString:"getNodeTypeString",route:"getReferer",navContext:"getContext",page:"getPageName",cdnDownloadedTraffic:"getCdnTraffic",p2pDownloadedTraffic:"getP2PTraffic",p2pEnabled:"getIsP2PEnabled",uploadTraffic:"getUploadTraffic",viewJson:"getOfflineView",deviceUUID:"getDeviceUUID",sessionMetrics:"getSessionMetrics",adsBlocked:"getIsBlocked",smartswitchConfigCode:"getSmartswitchConfigCode",smartswitchGroupCode:"getSmartswitchGroupCode",smartswitchContractCode:"getSmartswitchContractCode",appName:"getAppName",appReleaseVersion:"getAppReleaseVersion",package:"getPackage",saga:"getSaga",tvshow:"getTvShow",season:"getSeason",titleEpisode:"getEpisodeTitle",channel:"getChannel",drm:"getDRM",videoCodec:"getVideoCodec",audioCodec:"getAudioCodec",codecSettings:"getCodecSettings",codecProfile:"getCodecProfile",containerFormat:"getContainerFormat",contentId:"getID",imdbID:"getImdbId",gracenoteID:"getGracenoteID",contentType:"getType",genre:"getGenre",contentLanguage:"getVideoLanguage",subtitles:"getSubtitles",contractedResolution:"getContractedResolution",cost:"getCost",price:"getPrice",playbackType:"getPlaybackType",email:"getEmail"}});e.exports=u},{"../log":366,"../object":371}],383:[function(t,e,n){var r=t("../log"),i=t("../constants"),t={_startPings:function(){this._ping.isRunning||this._ping.start()},_stopPings:function(){this._ping.stop()},_sendPing:function(t){t={diffTime:t,entities:this.requestBuilder.getChangedEntities()};this._adapter&&(t=this._adapter.flags.isPaused?this.requestBuilder.fetchParams(t,["pauseDuration"]):this.requestBuilder.fetchParams(t,["bitrate","throughput","fps"]),this._adapter.flags.isJoined&&(t=this.requestBuilder.fetchParams(t,["playhead"])),this._adapter.flags.isBuffering&&(t=this.requestBuilder.fetchParams(t,["bufferDuration"])),this._adapter.flags.isSeeking&&(t=this.requestBuilder.fetchParams(t,["seekDuration"])),this._adsAdapter&&!this.options["ad.ignore"]&&(this._adsAdapter.flags.isStarted&&(t=this.requestBuilder.fetchParams(t,["adPlayhead","adViewedDuration","adViewability"]),t=this._adsAdapter.flags.isPaused?this.requestBuilder.fetchParams(t,["adPauseDuration"]):this.requestBuilder.fetchParams(t,["adBitrate"])),this._adsAdapter.flags.isBuffering&&(t=this.requestBuilder.fetchParams(t,["adBufferDuration"])))),this._send(i.WillSendEvent.WILL_SEND_PING,i.Service.PING,t),this.startDelayed&&this._retryStart(),r.verbose(i.Service.PING)}};e.exports=t},{"../constants":356,"../log":366}],382:[function(t,e,n){var r=t("../constants"),i=t("../log"),o=t("../comm/request"),s=t("../infinity/infinity"),t={_initInfinity:function(){this.infinity.on(s.Event.NAV,this._navListener.bind(this)),this.infinity.on(s.Event.SESSION_START,this._sessionStartListener.bind(this)),this.infinity.on(s.Event.SESSION_STOP,this._sessionStopListener.bind(this)),this.infinity.on(s.Event.EVENT,this._eventListener.bind(this))},_sendInfinity:function(t,e,n){var r={params:n=this.requestBuilder.buildParams(n,e),plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};this.emit(t,r),this.infinity._comm&&null!==n&&this.options.enabled&&(this.lastServeiceSent=e,this.infinity._comm.sendRequest(new o(null,e,n)))},_navListener:function(t){t=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_NAV,r.Service.NAV,t),this._beat.isRunning||this._beat.start(),i.notice(r.Service.NAV+" "+t.route)},_sessionStartListener:function(t){t=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_SESSION_START,r.Service.SESSION_START,t),this._beat.isRunning||this._beat.start(),i.notice(r.Service.SESSION_START+" "+t.route)},_sessionStopListener:function(t){t=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_SESSION_STOP,r.Service.SESSION_STOP,t),this._beat.isRunning&&this._beat.stop(),i.notice(r.Service.SESSION_STOP+" "+t.route)},_eventListener:function(t){t=t.data.params||{};this._sendInfinity(r.WillSendEvent.WILL_SEND_EVENT,r.Service.EVENT,t),i.notice(r.Service.EVENT+" "+t.name)},_sendBeat:function(t){this._sendInfinity(r.WillSendEvent.WILL_SEND_BEAT,r.Service.BEAT,{diffTime:t}),this.infinity&&this.infinity._setLastActive(),i.verbose(r.Service.BEAT)},getSessionMetrics:function(){var t,e,n=this.options["session.metrics"];for(t in n)"object"==typeof n[t]&&n[t].value||((e={}).value=n[t],n[t]=e);return n}};e.exports=t},{"../comm/request":338,"../constants":356,"../infinity/infinity":365,"../log":366}],381:[function(t,e,n){e.exports={getContext:function(){return this.options["session.context"]?this.storage.getSession("context"):"Default"},getSessionId:function(){return this.storage.getStorages("session")},getStoredData:function(){return this.storage.getStorages("data")},getDataTime:function(){return this.storage.getStorages("dataTime")},getLastActive:function(){return this.storage.getStorages("lastactive")},setStoredData:function(t){this.storage.setStorages("data",t)},setSessionId:function(t){this.storage.setStorages("session",t)},setDataTime:function(t){this.storage.setStorages("dataTime",t)},setLastActive:function(t){this.storage.setStorages("lastactive",t)},getPageName:function(){if("undefined"!=typeof document&&document.title)return document.title},getIsSessionExpired:function(){var t=(new Date).getTime();return!this.getSessionId()||this.infinity.getFirstActive()<t-this.sessionExpire},getIsDataExpired:function(){var t=(new Date).getTime();return!this.storage.isEnabled()||!this.getStoredData()||this.infinity.getFirstActive()<t-this.sessionExpire}}},{}],380:[function(t,e,n){var r=t("../util"),i=t("../version"),t={getHost:function(){var t=this.options.host;return this.viewTransform&&this.viewTransform.response&&this.viewTransform.response.host&&(t=this.viewTransform.response.host),r.addProtocol(r.stripProtocol(t),this.options["app.https"])},getUserType:function(){return this.options["user.type"]},isParseHls:function(){return this.options["parse.hls"]},isParseCdnNode:function(){return this.options["parse.cdnNode"]},isLocHeader:function(){return this.options["parse.locationHeader"]},isDash:function(){return this.options["parse.dash"]},getParseCdnNodeList:function(){return this.options["parse.cdnNode.list"]},getParseCdnNodeNameHeader:function(){return this.options["parse.cdnNameHeader"]},getObfuscateIp:function(){return this.options["user.obfuscateIp"]},getExtraparam1:function(){return this.options["content.customDimension.1"]},getExtraparam2:function(){return this.options["content.customDimension.2"]},getExtraparam3:function(){return this.options["content.customDimension.3"]},getExtraparam4:function(){return this.options["content.customDimension.4"]},getExtraparam5:function(){return this.options["content.customDimension.5"]},getExtraparam6:function(){return this.options["content.customDimension.6"]},getExtraparam7:function(){return this.options["content.customDimension.7"]},getExtraparam8:function(){return this.options["content.customDimension.8"]},getExtraparam9:function(){return this.options["content.customDimension.9"]},getExtraparam10:function(){return this.options["content.customDimension.10"]},getExtraparam11:function(){return this.options["content.customDimension.11"]},getExtraparam12:function(){return this.options["content.customDimension.12"]},getExtraparam13:function(){return this.options["content.customDimension.13"]},getExtraparam14:function(){return this.options["content.customDimension.14"]},getExtraparam15:function(){return this.options["content.customDimension.15"]},getExtraparam16:function(){return this.options["content.customDimension.16"]},getExtraparam17:function(){return this.options["content.customDimension.17"]},getExtraparam18:function(){return this.options["content.customDimension.18"]},getExtraparam19:function(){return this.options["content.customDimension.19"]},getExtraparam20:function(){return this.options["content.customDimension.20"]},getAdExtraparam1:function(){return this.options["ad.customDimension.1"]},getAdExtraparam2:function(){return this.options["ad.customDimension.2"]},getAdExtraparam3:function(){return this.options["ad.customDimension.3"]},getAdExtraparam4:function(){return this.options["ad.customDimension.4"]},getAdExtraparam5:function(){return this.options["ad.customDimension.5"]},getAdExtraparam6:function(){return this.options["ad.customDimension.6"]},getAdExtraparam7:function(){return this.options["ad.customDimension.7"]},getAdExtraparam8:function(){return this.options["ad.customDimension.8"]},getAdExtraparam9:function(){return this.options["ad.customDimension.9"]},getAdExtraparam10:function(){return this.options["ad.customDimension.10"]},getPluginInfo:function(){return{lib:i,adapter:this.getAdapterVersion(),adAdapter:this.getAdAdapterVersion()}},getIp:function(){return this.options["network.ip"]},getIsp:function(){return this.options["network.isp"]},getConnectionType:function(){return this.options["network.connectionType"]},getDeviceInfo:function(){var t={};return this.getDeviceCode()&&(t.deviceCode=this.getDeviceCode()),this.getModel()&&(t.model=this.getModel()),this.getBrand()&&(t.brand=this.getBrand()),this.getDeviceType()&&(t.deviceType=this.getDeviceType()),this.getDeviceName()&&(t.deviceName=this.getDeviceName()),this.getOsName()&&(t.osName=this.getOsName()),this.getOsVersion()&&(t.osVersion=this.getOsVersion()),this.getBrowserName()&&(t.browserName=this.getBrowserName()),this.getBrowserVersion()&&(t.browserVersion=this.getBrowserVersion()),this.getBrowserType()&&(t.browserType=this.getBrowserType()),this.getBrowserEngine()&&(t.browserEngine=this.getBrowserEngine()),t!=={}?t:null},getDeviceCode:function(){return this.options["device.code"]},getModel:function(){return this.options["device.model"]},getBrand:function(){return this.options["device.brand"]},getDeviceType:function(){return this.options["device.type"]},getDeviceName:function(){return this.options["device.name"]},getOsName:function(){return this.options["device.osName"]},getOsVersion:function(){return this.options["device.osVersion"]},getBrowserName:function(){return this.options["device.browserName"]},getBrowserVersion:function(){return this.options["device.browserVersion"]},getBrowserType:function(){return this.options["device.browserType"]},getBrowserEngine:function(){return this.options["device.browserEngine"]},getAccountCode:function(){return this.options.accountCode},getUsername:function(){return this.options["user.name"]},getAnonymousUser:function(){return this.options["user.anonymousId"]},getEmail:function(){return this.options["user.email"]},getReferer:function(){if(this.options.referer)return this.options.referer;var t="";return t="undefined"!=typeof window&&window.location?window.location.href:t},getReferral:function(){return"undefined"!=typeof window&&window.document?window.document.referrer:null},getLanguage:function(){return"undefined"!=typeof navigator?navigator.language:null},getNodeHost:function(){return this.options["content.cdnNode"]||this.resourceTransform.getNodeHost()},getNodeType:function(){return this.options["content.cdnType"]||this.resourceTransform.getNodeType()},getNodeTypeString:function(){return this.resourceTransform.getNodeTypeString()},getRequestNumber:function(){return Math.random()},getOfflineView:function(){return this.offlineStorage.getView()},getDeviceUUID:function(){var t=null;return t=!this.options["device.isAnonymous"]?this.uuidGenerator.getKey():t},getSmartswitchConfigCode:function(){return this.options["smartswitch.configCode"]},getSmartswitchGroupCode:function(){return this.options["smartswitch.groupCode"]},getSmartswitchContractCode:function(){return this.options["smartswitch.contractCode"]},getAppName:function(){return this.options["app.name"]},getAppReleaseVersion:function(){return this.options["app.releaseVersion"]},getIsBlocked:function(){return this.blockDetector?this.blockDetector.isBlocked:null}};e.exports=t},{"../util":389,"../version":390}],379:[function(t,e,n){var i=t("../log"),o=t("../util"),s=t("../constants"),r=t("../comm/transform/transform");e.exports={fireInit:function(t){this.isInitiated||this.getAdapter()&&(!this.getAdapter()||this.getAdapter().flags.isStarted)||(this.viewTransform.nextView(),this._initComm(),this._startPings(),this.initChrono.start(),this.isInitiated=!0,this._send(s.WillSendEvent.WILL_SEND_INIT,s.Service.INIT,t=t||{}),this._adSavedError(),this._adSavedManifest(),i.notice(s.Service.INIT+" "+(t.title||t.mediaResource)))},fireError:function(t,e,n,r){this.isInitiated||this.getAdapter()&&this.getAdapter().flags.isStarted||this.viewTransform.nextView(),this._comm||this._initComm();r=o.buildErrorParams(t,e,n,r);r.code&&delete r.code,this._send(s.WillSendEvent.WILL_SEND_ERROR,s.Service.ERROR,r),this._adSavedError(),this._adSavedManifest(),i.notice(s.Service.ERROR+" "+r.errorLevel+" "+r.errorCode),"fatal"===r.errorLevel&&this.fireStop()},fireFatalError:function(t,e,n,r){this.fireError(t,e,n,r),this.fireStop()},fireStop:function(t){(this.isInitiated||this.isStarted)&&(this._adapter&&(this._adapter.flags.isStopped=!0,this._adapter.monitor&&this._adapter.monitor.stop()),this._adsAdapter&&this.isBreakStarted&&this._adsAdapter.fireBreakStop(),this._send(s.WillSendEvent.WILL_SEND_STOP,s.Service.STOP,t=t||{}),i.notice(s.Service.STOP+" at "+t.playhead+"s"),this._reset())},fireOfflineEvents:function(t){this.options&&!this.options.offline?this.isInitiated||this._adapter&&this._adapter.flags.isStarted||this._adsAdapter&&this._adsAdapter.flags.isStarted?i.error("Adapters have to be stopped"):(this._offlineParams=t,this.viewTransform.response.code&&this.viewTransform.response.host?this._generateAndSendOffline():(this.offlineReference=this._generateAndSendOffline.bind(this),this.viewTransform.on(r.Event.DONE,this.offlineReference))):i.error("To send offline events, offline option must be disabled")},_generateAndSendOffline:function(){var t=this._offlineParams;for(this._initComm();;){var e=this.requestBuilder.buildBody(s.Service.OFFLINE_EVENTS).viewJson;if(null===e[0])break;var n=this.viewTransform.nextView(),n=e[0].replace(/CODE_PLACEHOLDER/g,n.toString()).replace(/,"sessionId":"SESSION_PLACEHOLDER"/g,"").replace(/,"sessionRoot":"ROOT_PLACEHOLDER"/g,"").replace(/,"parentId":"PARENT_PLACEHOLDER"/g,"");this._send(s.WillSendEvent.WILL_SEND_OFFLINE_EVENTS,s.Service.OFFLINE_EVENTS,t,n,"POST",function(t,e){this.offlineStorage.removeView(e.offlineId)}.bind(this),{offlineId:e[1]})}this.offlineStorage.sent(),this._offlineParams=null}}},{"../comm/transform/transform":353,"../constants":356,"../log":366,"../util":389}],378:[function(t,e,n){var r=t("../log"),i=t("../constants"),o=t("../adapter/adapter"),t={setAdapter:function(t){t.plugin?r.warn("Adapters can only be added to a single plugin"):(this.removeAdapter(),(this._adapter=t).plugin=this,t.on(o.Event.START,this._startListener.bind(this)),t.on(o.Event.JOIN,this._joinListener.bind(this)),t.on(o.Event.PAUSE,this._pauseListener.bind(this)),t.on(o.Event.RESUME,this._resumeListener.bind(this)),t.on(o.Event.SEEK_BEGIN,this._seekBeginListener.bind(this)),t.on(o.Event.SEEK_END,this._seekEndListener.bind(this)),t.on(o.Event.BUFFER_BEGIN,this._bufferBeginListener.bind(this)),t.on(o.Event.BUFFER_END,this._bufferEndListener.bind(this)),t.on(o.Event.ERROR,this._errorListener.bind(this)),t.on(o.Event.STOP,this._stopListener.bind(this)),t.on(o.Event.VIDEO_EVENT,this._videoEventListener.bind(this)))},getAdapter:function(){return this._adapter},removeAdapter:function(){this._adapter&&(this._adapter.dispose(),this._adapter.plugin=null,this._adapter.off(o.Event.START,this._startListener),this._adapter.off(o.Event.JOIN,this._joinListener),this._adapter.off(o.Event.PAUSE,this._pauseListener),this._adapter.off(o.Event.RESUME,this._resumeListener),this._adapter.off(o.Event.SEEK_BEGIN,this._seekBeginListener),this._adapter.off(o.Event.SEEK_END,this._seekEndListener),this._adapter.off(o.Event.BUFFER_BEGIN,this._bufferBeginListener),this._adapter.off(o.Event.BUFFER_END,this._bufferEndListener),this._adapter.off(o.Event.ERROR,this._errorListener),this._adapter.off(o.Event.STOP,this._stopListener),this._adapter.off(o.Event.VIDEO_EVENT,this._videoEventListener),this._adapter=null)},_startListener:function(t){this.isInitiated?0!==this.initChrono.startTime&&(this._adapter.chronos.join.startTime=this.initChrono.startTime):(this.viewTransform.nextView(),this._initComm(),this._startPings());var e=t.data.params||{},t=this.getResource()&&"boolean"==typeof this.getIsLive()&&(this.getIsLive()||"number"==typeof this.getDuration()&&0<this.getDuration())&&this.getTitle();(t=!this.options.forceInit&&t&&this._isExtraMetadataReady())&&!this.isInitiated?(this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,e),this._adSavedError(),this._adSavedManifest(),r.notice(i.Service.START+" "+(e.title||e.mediaResource)),this.isStarted=!0):this.isInitiated||(this.isInitiated=!0,this._adapter.chronos.join.start(),this._send(i.WillSendEvent.WILL_SEND_INIT,i.Service.INIT,e),this._adSavedError(),this._adSavedManifest(),r.notice(i.Service.INIT+" "+(e.title||e.mediaResource)))},_retryStart:function(t){this._isExtraMetadataReady()&&(this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,{}),this.startDelayed=!1)},_joinListener:function(t){var e=t.data.params||{};this._adsAdapter&&this._adsAdapter.flags.isStarted?(this._adapter.monitor&&this._adapter.monitor.stop(),this._adapter.flags.isJoined=!1,this._adapter.chronos.join.stopTime=0):(this._adsAdapter&&(this._adapter.chronos.join.startTime=Math.min(this._adapter.chronos.join.startTime+(this._totalPrerollsTime||0),(new Date).getTime()),this._totalPrerollsTime=0),this.isInitiated&&!this.isStarted&&(this._isExtraMetadataReady()?this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,e):this.startDelayed=!0,this._adSavedError(),this._adSavedManifest(),r.notice(i.Service.START+" "+(e.title||e.mediaResource)),this.isStarted=!0),e=t.data.params||{},this._adsAdapter&&this.isBreakStarted&&this._adsAdapter.fireBreakStop(),this._send(i.WillSendEvent.WILL_SEND_JOIN,i.Service.JOIN,e),r.notice(i.Service.JOIN+" "+e.joinDuration+"ms"))},_pauseListener:function(t){this._adapter&&(this._adapter.flags.isBuffering||this._adapter.flags.isSeeking||this._adsAdapter&&this._adsAdapter.flags.isStarted)&&this._adapter.chronos.pause.reset();t=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_PAUSE,i.Service.PAUSE,t),r.notice(i.Service.PAUSE+" at "+t.playhead+"s")},_resumeListener:function(t){this._adsAdapter&&this.isBreakStarted&&!this._adsAdapter.flags.isStarted&&this._adsAdapter.fireBreakStop();t=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_RESUME,i.Service.RESUME,t),r.notice(i.Service.RESUME+" "+t.pauseDuration+"ms"),this._adapter.chronos.pause.reset()},_seekBeginListener:function(t){this._adapter&&this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset(),r.notice("Seek Begin")},_seekEndListener:function(t){t=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_SEEK,i.Service.SEEK,t),r.notice(i.Service.SEEK+" to "+t.playhead+" in "+t.seekDuration+"ms")},_bufferBeginListener:function(t){this._adapter&&this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset(),r.notice("Buffer Begin")},_bufferEndListener:function(t){t=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_BUFFER,i.Service.BUFFER,t),r.notice(i.Service.BUFFER+" to "+t.playhead+" in "+t.bufferDuration+"ms")},_errorListener:function(t){this._blockError(t.data.params)||(this.fireError(t.data.params||{}),this._adSavedError(),this._adSavedManifest())},_blockError:function(t){var e=Date.now();return this._lastErrorParams&&this._lastErrorParams.errorCode===t.errorCode&&this._lastErrorParams.msg===t.msg&&this._lastErrorTime+5e3>e?(this._lastErrorTime=e,!0):(this._lastErrorTime=e,this._lastErrorParams=t,!1)},_stopListener:function(t){this.fireStop(t.data.params||{})},_isStopReady:function(t){var e=!0;return e=this.isAdsManifestSent&&this.options["ad.expectedPattern"]&&this.options["ad.expectedPattern"].post&&this.options["ad.expectedPattern"].post[0]>this.playedPostrolls?!1:e},_videoEventListener:function(t){this._send(i.WillSendEvent.WILL_SEND_VIDEO_EVENT,i.Service.VIDEO_EVENT,t.data.params)},_isExtraMetadataReady:function(t){if(!this.options.waitForMetadata||this.options.pendingMetadata.length<1)return!0;var e=this.requestBuilder.getGetters();return this.options.pendingMetadata.map(function(t){if(e.hasOwnProperty(t))return!!this[e[t]]()}.bind(this)).indexOf(!1)<0}};e.exports=t},{"../adapter/adapter":332,"../constants":356,"../log":366}],377:[function(t,e,n){var r=t("../log"),i=t("../util"),o=t("../version"),t={getPlayhead:function(){var t=0;if(this._adapter)try{t=this._adapter.getPlayhead()}catch(t){r.warn("An error occurred while calling getPlayhead",t)}return i.parseNumber(t,0)},getPlayrate:function(){var t=0;if(this._adapter)try{t=this._adapter.getPlayrate(),this._adapter.flags&&this._adapter.flags.isPaused&&(t=0)}catch(t){r.warn("An error occured while calling getPlayrate",t)}return t},getFramesPerSecond:function(){var t=this.options["content.fps"];if(null===t&&this._adapter)try{t=this._adapter.getFramesPerSecond()}catch(t){r.warn("An error occured while calling getFramesPerSecond",t)}return t},getDroppedFrames:function(){var t=null;if(this._adapter)try{t=this._adapter.getDroppedFrames()}catch(t){r.warn("An error occured while calling getDroppedFrames",t)}return t=t||this.getWebkitDroppedFrames(),i.parseNumber(t,0)},getWebkitDroppedFrames:function(){return this._adapter&&this._adapter.tag&&this._adapter.tag.webkitDroppedFrameCount?this._adapter.tag.webkitDroppedFrameCount:null},getDuration:function(){var t=this.options["content.duration"];if(null===t&&this._adapter)try{t=this._adapter.getDuration()}catch(t){r.warn("An error occured while calling getDuration",t)}return 0===t&&(t=null),i.parseNumber(Math.round(t),null)},getBitrate:function(){var t=this.options["content.bitrate"];if(null===t&&this._adapter){try{t=this._adapter.getBitrate()}catch(t){r.warn("An error occured while calling getBitrate",t)}t&&-1!==t||(t=this.getWebkitBitrate())}return i.parseNumber(t,-1)},getWebkitBitrate:function(){if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitVideoDecodedByteCount){var t,e=this._adapter.tag.webkitVideoDecodedByteCount;return this._lastWebkitBitrate&&(t=this._adapter.tag.webkitVideoDecodedByteCount-this._lastWebkitBitrate,e=Math.round(t/this.viewTransform.response.pingTime*8)),this._lastWebkitBitrate=this._adapter.tag.webkitVideoDecodedByteCount,0!==e?e:-1}},getThroughput:function(){var t=this.options["content.throughput"];if(null===t&&this._adapter)try{t=this._adapter.getThroughput()}catch(t){r.warn("An error occured while calling getThroughput",t)}return i.parseNumber(t,-1)},getRendition:function(){var t=this.options["content.rendition"];if(null===t&&this._adapter)try{t=this._adapter.getRendition()}catch(t){r.warn("An error occured while calling getRendition",t)}return t},getTitle:function(){var t=this.options["content.title"];if(null===t&&this._adapter)try{t=this._adapter.getTitle()}catch(t){r.warn("An error occured while calling getTitle",t)}return t},getTitle2:function(){var t=this.options["content.program"];if(null===t&&this._adapter)try{t=this._adapter.getTitle2()}catch(t){r.warn("An error occured while calling getTitle2",t)}return t},getIsLive:function(){var t=this.options["content.isLive"];if(null===t&&this._adapter)try{t=this._adapter.getIsLive()}catch(t){r.warn("An error occured while calling getIsLive",t)}return t||!1},getResource:function(){var e=null;if(null===(e=this.options["content.resource"])&&this._adapter)try{e=this._adapter.getResource()}catch(t){r.warn("An error occured while calling getResource",t),e=null}return e||null},getParsedResource:function(){var t=null;return(t=!this.resourceTransform.isBlocking()&&this.resourceTransform.isDone?this.resourceTransform.getResource():t)===this.getResource()?null:t},getTransactionCode:function(){return this.options["content.transactionCode"]},getMetadata:function(){return this.options["content.metadata"]},getPlayerVersion:function(){var t="";if(this._adapter)try{t=this._adapter.getPlayerVersion()}catch(t){r.warn("An error occured while calling getPlayerVersion",t)}return t},getPlayerName:function(){var t="";if(this._adapter)try{t=this._adapter.getPlayerName()}catch(t){r.warn("An error occured while calling getPlayerName",t)}return t},getCdn:function(){var t=null;return(t=!this.resourceTransform.isBlocking()?this.resourceTransform.getCdnName():t)||this.options["content.cdn"]},getPluginVersion:function(){var t=this.getAdapterVersion();return t||o+"-adapterless"},getLibVersion:function(){return o},getAdapterVersion:function(){var t=null;if(this._adapter)try{t=this._adapter.getVersion()}catch(t){r.warn("An error occured while calling getPluginVersion",t)}return t},getCdnTraffic:function(){var t=this.hybridNetwork.getCdnTraffic();if(this._adapter)try{t=this._adapter.getCdnTraffic()||t}catch(t){r.warn("An error occured while calling getCdnTraffic",t)}return t},getP2PTraffic:function(){var t=this.hybridNetwork.getP2PTraffic();if(this._adapter)try{t=this._adapter.getP2PTraffic()||t}catch(t){r.warn("An error occured while calling getP2PTraffic",t)}return t},getUploadTraffic:function(){var t=this.hybridNetwork.getUploadTraffic();if(this._adapter)try{t=this._adapter.getUploadTraffic()||t}catch(t){r.warn("An error occured while calling getUploadTraffic",t)}return t},getIsP2PEnabled:function(){var t=this.hybridNetwork.getIsP2PEnabled();if(this._adapter)try{t=this._adapter.getIsP2PEnabled()||t}catch(t){r.warn("An error occured while calling getIsP2PEnabled",t)}return t},getStreamingProtocol:function(){var t=this.options["content.streamingProtocol"];return"string"!=typeof t?null:"HDS"!==(t=t.toUpperCase())&&"HLS"!==t&&"MSS"!==t&&"DASH"!==t&&"RTMP"!==t&&"RTP"!==t&&"RTSP"!==t?(r.warn("Streaming protocol "+t+" is not a valid value"),null):t},getHouseholdId:function(){var t=null;if(this._adapter)try{t=this._adapter.getHouseholdId()}catch(t){r.warn("An error occurred while calling getHouseholdId",t)}return t},getLatency:function(){var t=null;if(this._adapter)try{t=this._adapter.getLatency()}catch(t){r.warn("An error occurred while calling getLatency",t)}return t},getPacketLoss:function(){var t=null;if(this._adapter)try{t=this._adapter.getPacketLoss()}catch(t){r.warn("An error occurred while calling getPacketLoss",t)}return t},getPacketSent:function(){var t=null;if(this._adapter)try{t=this._adapter.getPacketSent()}catch(t){r.warn("An error occurred while calling getPacketSent",t)}return t},getVideoMetrics:function(){var t,e,n=this._adapter?this._adapter.getMetrics():null;for(t in n=n||this.options["content.metrics"])"object"==typeof n[t]&&n[t].value||((e={}).value=n[t],n[t]=e);return n},getJoinDuration:function(){return this._adapter?this._adapter.chronos.join.getDeltaTime(!1):-1},getBufferDuration:function(){return this._adapter?this._adapter.chronos.buffer.getDeltaTime(!1):-1},getSeekDuration:function(){return this._adapter?this._adapter.chronos.seek.getDeltaTime(!1):-1},getPauseDuration:function(){return this._adapter?this._adapter.chronos.pause.getDeltaTime(!1):0},getPackage:function(){return this.options["content.package"]},getSaga:function(){return this.options["content.saga"]},getTvShow:function(){return this.options["content.tvShow"]},getSeason:function(){return this.options["content.season"]},getEpisodeTitle:function(){return this.options["content.episodeTitle"]},getChannel:function(){return this.options["content.channel"]},getID:function(){return this.options["content.id"]},getImdbId:function(){return this.options["content.imdbId"]},getGracenoteID:function(){return this.options["content.gracenoteId"]},getType:function(){return this.options["content.type"]},getGenre:function(){return this.options["content.genre"]},getVideoLanguage:function(){return this.options["content.language"]},getSubtitles:function(){return this.options["content.subtitles"]},getContractedResolution:function(){return this.options["content.contractedResolution"]},getCost:function(){return this.options["content.cost"]},getPrice:function(){return this.options["content.price"]},getPlaybackType:function(){return this.options["content.playbackType"]||(this.getIsLive()?"Live":"VoD")},getDRM:function(){return this.options["content.drm"]},getVideoCodec:function(){return this.options["content.encoding.videoCodec"]},getAudioCodec:function(){return this.options["content.encoding.audioCodec"]},getCodecSettings:function(){return this.options["content.encoding.codecSettings"]},getCodecProfile:function(){return this.options["content.encoding.codecProfile"]},getContainerFormat:function(){return this.options["content.encoding.containerFormat"]}};e.exports=t},{"../log":366,"../util":389,"../version":390}],376:[function(t,e,n){var r=t("../log"),i=t("../constants"),o=t("../adapter/adapter");e.exports={getAdsAdapter:function(){return this._adsAdapter},setAdsAdapter:function(t){t.plugin?r.warn("Adapters can only be added to a single plugin"):(this.removeAdsAdapter(),(t.plugin=this)._adsAdapter=t,this._adsAdapter.on(o.Event.START,this._adStartListener.bind(this)),this._adsAdapter.on(o.Event.JOIN,this._adJoinListener.bind(this)),this._adsAdapter.on(o.Event.PAUSE,this._adPauseListener.bind(this)),this._adsAdapter.on(o.Event.RESUME,this._adResumeListener.bind(this)),this._adsAdapter.on(o.Event.BUFFER_BEGIN,this._adBufferBeginListener.bind(this)),this._adsAdapter.on(o.Event.BUFFER_END,this._adBufferEndListener.bind(this)),this._adsAdapter.on(o.Event.STOP,this._adStopListener.bind(this)),this._adsAdapter.on(o.Event.ERROR,this._adErrorListener.bind(this)),this._adsAdapter.on(o.Event.CLICK,this._adClickListener.bind(this)),this._adsAdapter.on(o.Event.MANIFEST,this._adManifestListener.bind(this)),this._adsAdapter.on(o.Event.PODSTART,this._adBreakStartListener.bind(this)),this._adsAdapter.on(o.Event.PODSTOP,this._adBreakStopListener.bind(this)),this._adsAdapter.on(o.Event.QUARTILE,this._adQuartileListener.bind(this)),this.resizeScrollDetector.startDetection())},removeAdsAdapter:function(){this._adsAdapter&&(this._adsAdapter.dispose(),this._adsAdapter.plugin=null,this._adsAdapter.off(o.Event.START,this._adStartListener),this._adsAdapter.off(o.Event.JOIN,this._adJoinListener),this._adsAdapter.off(o.Event.PAUSE,this._adPauseListener),this._adsAdapter.off(o.Event.RESUME,this._adResumeListener),this._adsAdapter.off(o.Event.BUFFER_BEGIN,this._adBufferBeginListener),this._adsAdapter.off(o.Event.BUFFER_END,this._adBufferEndListener),this._adsAdapter.off(o.Event.STOP,this._adStopListener),this._adsAdapter.off(o.Event.ERROR,this._adErrorListener),this._adsAdapter.off(o.Event.CLICK,this._adClickListener),this._adsAdapter.off(o.Event.MANIFEST,this._adManifestListener),this._adsAdapter.off(o.Event.PODSTART,this._adBreakStartListener),this._adsAdapter.off(o.Event.PODSTOP,this._adBreakStopListener),this._adsAdapter.off(o.Event.QUARTILE,this._adQuartileListener),this.resizeScrollDetector.stopDetection(),this._adsAdapter=null)},_adStartListener:function(t){this._adapter?(this._adapter.fireBufferEnd(),this._adapter.fireSeekEnd(),this.isInitiated||this._adapter.flags.isStarted||this._adapter.fireStart(),this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset()):this.fireInit(),this._adsAdapter&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart(),this._adsAdapter.chronos.viewedMax=[]);t=t.data.params||{};t.adNumber=this.requestBuilder.getNewAdNumber(),t.breakNumber=this.requestBuilder.lastSent.breakNumber,this.options["ad.ignore"]||((this.getAdResource()||this.getAdTitle())&&"number"==typeof this.getAdDuration()?(this.adStartSent=!0,this._send(i.WillSendEvent.WILL_SEND_AD_START,i.Service.AD_START,t)):(this.adInitSent=!0,this._send(i.WillSendEvent.WILL_SEND_AD_INIT,i.Service.AD_INIT,t)),r.notice(i.Service.AD_INIT+" "+t.adPosition+t.adNumber+" at "+t.playhead+"s"))},_adJoinListener:function(t){t=t.data.params||{};t.adNumber=this.requestBuilder.lastSent.adNumber,t.breakNumber=this.requestBuilder.lastSent.breakNumber,t.adPosition=this.requestBuilder.lastSent.adPosition,this.options["ad.ignore"]||!this.adInitSent||this.adStartSent||(this._send(i.WillSendEvent.WILL_SEND_AD_START,i.Service.AD_START,t),r.notice(i.Service.AD_START+" "+t.adPosition+t.adNumber+" at "+t.playhead+"s")),this._adsAdapter.startChronoView(),this.adConnected&&(this._adsAdapter.chronos.join.startTime=this.adConnectedTime,this._adsAdapter.chronos.total.startTime=this.adConnectedTime,this.adConnectedTime=0,this.adConnected=!1),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_JOIN,i.Service.AD_JOIN,t),r.notice(i.Service.AD_JOIN+" "+t.adJoinDuration+"ms"),this.adInitSent=!1,this.adStartSent=!1},_adPauseListener:function(t){t=t.data.params||{};t.adNumber=this.requestBuilder.lastSent.adNumber,t.breakNumber=this.requestBuilder.lastSent.breakNumber,this._adsAdapter.stopChronoView(),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_PAUSE,i.Service.AD_PAUSE,t),r.notice(i.Service.AD_PAUSE+" at "+t.adPlayhead+"s")},_adResumeListener:function(t){t=t.data.params||{};t.adNumber=this.requestBuilder.lastSent.adNumber,t.breakNumber=this.requestBuilder.lastSent.breakNumber,t.adPosition=this.requestBuilder.lastSent.adPosition,this._adsAdapter.startChronoView(),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_RESUME,i.Service.AD_RESUME,t),r.notice(i.Service.AD_RESUME+" "+t.adPauseDuration+"ms")},_adBufferBeginListener:function(t){r.notice("Ad Buffer Begin"),this._adsAdapter.stopChronoView(),this._adsAdapter&&this._adsAdapter.flags.isPaused&&this._adsAdapter.chronos.pause.reset()},_adBufferEndListener:function(t){t=t.data.params||{};this._adsAdapter.startChronoView(),t.adNumber=this.requestBuilder.lastSent.adNumber,t.breakNumber=this.requestBuilder.lastSent.breakNumber,t.adPosition=this.requestBuilder.lastSent.adPosition,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_BUFFER,i.Service.AD_BUFFER,t),r.notice(i.Service.AD_BUFFER+" "+t.adBufferDuration+"ms")},_adStopListener:function(t){this._adsAdapter.stopChronoView(),this._adsAdapter.flags.reset(),this._totalPrerollsTime=(this._totalPrerollsTime||0)+this._adsAdapter.chronos.total.getDeltaTime();t=t.data.params||{};t.adNumber=this.requestBuilder.lastSent.adNumber,t.breakNumber=this.requestBuilder.lastSent.breakNumber,this.requestBuilder.lastSent.adPosition===i.AdPosition.Postroll&&this.playedPostrolls++,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_STOP,i.Service.AD_STOP,t),r.notice(i.Service.AD_STOP+" "+t.adTotalDuration+"ms"),this.options["ad.expectedPattern"]&&this.options["ad.expectedPattern"].post&&this.options["ad.expectedPattern"].post[0]===this.playedPostrolls&&t.adPosition===i.AdPosition.Postroll&&this.fireStop(),this.adConnected=!0,this.adConnectedTime=(new Date).getTime()},_adErrorListener:function(t){var e=t.data.params||{};return!this._adapter||this._adapter.flags.isStarted||this.isInitiated?this._blockAdError(t.data.params)?null:(this._adsAdapter&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart()),this._adsAdapter&&this._adsAdapter.flags.isStarted?e.adNumber=this.requestBuilder.lastSent.adNumber:e.adNumber=this.requestBuilder.getNewAdNumber(),e.breakNumber=this.requestBuilder.lastSent.breakNumber,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_ERROR,i.Service.AD_ERROR,e),void r.notice(i.Service.AD_ERROR)):(this._savedAdError=t,null)},_adSavedError:function(){this._savedAdError&&(this._adErrorListener(this._savedAdError),this._savedAdError=null)},_adSavedManifest:function(){this._savedAdManifest&&(this._adManifestListener(this._savedAdManifest),this._savedAdManifest=null)},_blockAdError:function(t){var e=Date.now();return this._lastAdErrorParams&&this._lastAdErrorParams.errorCode===t.errorCode&&this._lastAdErrorParams.msg===t.msg&&this._lastAdErrorTime+5e3>e?(this._lastAdErrorTime=e,!0):(this._lastAdErrorTime=e,this._lastAdErrorParams=t,!1)},_adClickListener:function(t){t=t.data.params||{};t.adNumber=this.requestBuilder.lastSent.adNumber,t.breakNumber=this.requestBuilder.lastSent.breakNumber,t.adPosition=this.requestBuilder.lastSent.adPosition,this._adsAdapter.stopChronoView(),this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_CLICK,i.Service.AD_CLICK,t),r.notice(i.Service.AD_CLICK)},_adManifestListener:function(t){if(!this.isAdsManifestSent){if(this._adapter&&!this._adapter.flags.isStarted&&!this.isInitiated)return this._savedAdManifest=t,null;t=t.data.params||{};this.isAdsManifestSent=!0,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_MANIFEST,i.Service.AD_MANIFEST,t),r.notice(i.Service.AD_MANIFEST)}},_adBreakStartListener:function(t){t=t.data.params||{};this.requestBuilder.lastSent.breakNumber?this.requestBuilder.lastSent.breakNumber++:this.requestBuilder.lastSent.breakNumber=1,t.breakNumber=this.requestBuilder.lastSent.breakNumber,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_POD_START,i.Service.AD_POD_START,t),r.notice(i.Service.AD_POD_START),this.adConnected=!1},_adBreakStopListener:function(t){t=t.data.params||{};t.breakNumber=this.requestBuilder.lastSent.breakNumber,t.breakPosition=this.requestBuilder.lastSent.breakPosition,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_POD_STOP,i.Service.AD_POD_STOP,t),r.notice(i.Service.AD_POD_STOP),this.adConnected=!1},_adQuartileListener:function(t){t=t.data.params||{};t.quartile&&(t.adNumber=this.requestBuilder.lastSent.adNumber,t.adPosition=this.requestBuilder.lastSent.adPosition,t.breakNumber=this.requestBuilder.lastSent.breakNumber,t.breakPosition=this.requestBuilder.lastSent.breakPosition,this.options["ad.ignore"]||this._send(i.WillSendEvent.WILL_SEND_AD_QUARTILE,i.Service.AD_QUARTILE,t),r.notice(i.Service.AD_QUARTILE))}}},{"../adapter/adapter":332,"../constants":356,"../log":366}],375:[function(t,e,n){var r=t("../log"),i=t("../util"),o=t("../constants"),t={getAdPlayerVersion:function(){var t="";if(this._adsAdapter)try{t=this._adsAdapter.getPlayerVersion()}catch(t){r.warn("An error occured while calling getAdPlayerVersion",t)}return t},getAdPosition:function(){var t=o.AdPosition.Preroll;if(this._adsAdapter)try{var e=this._adsAdapter.getPosition();o.AdPosition.Preroll!==e&&o.AdPosition.Midroll!==e&&o.AdPosition.Postroll!==e||(t=e)}catch(t){r.warn("An error occured while calling getAdPosition",t)}return t=!t&&this._adapter?this._adapter.flags.isJoined?o.AdPosition.Midroll:o.AdPosition.Preroll:t},getAdPlayhead:function(){var t=null;if(this._adsAdapter)try{t=this._adsAdapter.getPlayhead()}catch(t){r.warn("An error occured while calling getAdPlayhead",t)}return i.parseNumber(t,0)},getAdDuration:function(){var t=null;if(this._adsAdapter)try{t=this._adsAdapter.getDuration()}catch(t){r.warn("An error occured while calling getAdDuration",t)}return i.parseNumber(t,0)},getAdBitrate:function(){var t=null;if(this._adsAdapter){try{t=this._adsAdapter.getBitrate()}catch(t){r.warn("An error occured while calling getAdBitrate",t)}t&&-1!==t||(t=this.getWebkitAdBitrate())}return i.parseNumber(t,-1)},getWebkitAdBitrate:function(){if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitVideoDecodedByteCount){var t,e=this._adapter.tag.webkitVideoDecodedByteCount;return this._lastWebkitAdBitrate&&(t=this._adapter.tag.webkitVideoDecodedByteCount-this._lastWebkitAdBitrate,e=Math.round(t/this.viewTransform.response.pingTime*8)),this._lastWebkitAdBitrate=this._adapter.tag.webkitVideoDecodedByteCount,0!==e?e:-1}},getAdTitle:function(){var t=null;if(this.options["ad.title"])return this.options["ad.title"];if(this._adsAdapter)try{t=this._adsAdapter.getTitle()}catch(t){r.warn("An error occured while calling getAdTitle",t)}return t},getAdResource:function(){var t=null;if(this.options["ad.resource"])return this.options["ad.resource"];if(this._adsAdapter)try{t=this._adsAdapter.getResource()}catch(t){r.warn("An error occured while calling getAdResource",t)}return t},getAdCampaign:function(){var t=null;if(this.options["ad.campaign"])return this.options["ad.campaign"];if(this._adsAdapter)try{t=this._adsAdapter.getCampaign()}catch(t){r.warn("An error occured while calling getCampaign",t)}return t},getAdCreativeId:function(){var t=null;if(this.options["ad.creativeId"])return this.options["ad.creativeId"];if(this._adsAdapter)try{t=this._adsAdapter.getCreativeId()}catch(t){r.warn("An error occured while calling getCreativeId",t)}return t},getAdProvider:function(){var t=null;if(this.options["ad.provider"])return this.options["ad.provider"];if(this._adsAdapter)try{t=this._adsAdapter.getProvider()}catch(t){r.warn("An error occured while calling getProvider",t)}return t},getAdAdapterVersion:function(){var t=null;if(this._adsAdapter)try{t=this._adsAdapter.getVersion()}catch(t){r.warn("An error occured while calling getAdsAdapterVersion",t)}return t},getAdMetadata:function(){return this.options["ad.metadata"]},getGivenBreaks:function(){var t=null;if(this.options["ad.givenBreaks"])t=this.options["ad.givenBreaks"];else if(this._adsAdapter)try{t=this._adsAdapter.getGivenBreaks()}catch(t){r.warn("An error occured while calling getGivenBreaks",t)}return t},getExpectedBreaks:function(){var t=null;if(this.options["ad.expectedBreaks"])t=this.options["ad.expectedBreaks"];else if(this.options["ad.expectedPattern"])t=0,t=this.options["ad.expectedPattern"].pre?this.options["ad.expectedPattern"].pre.length:0,t+=this.options["ad.expectedPattern"].mid?this.options["ad.expectedPattern"].mid.length:0,t+=this.options["ad.expectedPattern"].post?this.options["ad.expectedPattern"].post.length:0;else if(this._adsAdapter)try{t=this._adsAdapter.getExpectedBreaks()}catch(t){r.warn("An error occured while calling expectedBreaks",t)}return t},getExpectedPattern:function(){var t=null;if(this.options["ad.expectedPattern"])t=this.options["ad.expectedPattern"];else if(this._adsAdapter)try{t=this._adsAdapter.getExpectedPattern()}catch(t){r.warn("An error occured while calling expectedPattern",t)}return t},getBreaksTime:function(){var t=null;if(this.options["ad.breaksTime"])t=this.options["ad.breaksTime"];else if(this._adsAdapter)try{t=this._adsAdapter.getBreaksTime()}catch(t){r.warn("An error occured while calling breaksTime",t)}return t},getGivenAds:function(){var t=null;if(this.options["ad.givenAds"])t=this.options["ad.givenAds"];else if(this._adsAdapter)try{t=this._adsAdapter.getGivenAds()}catch(t){r.warn("An error occured while calling givenAds",t)}return t},getExpectedAds:function(){var t,e,n=null;try{this._adsAdapter&&(this.options["ad.expectedPattern"]&&this.getAdPosition()?(t=[],this.options["ad.expectedPattern"].pre&&(t=t.concat(this.options["ad.expectedPattern"].pre)),this.options["ad.expectedPattern"].mid&&(t=t.concat(this.options["ad.expectedPattern"].mid)),0<(t=this.options["ad.expectedPattern"].post?t.concat(this.options["ad.expectedPattern"].post):t).length&&(n=t[(e=(e=this.requestBuilder.lastSent.breakNumber)>t.length?t.length:e)-1])):n=this._adsAdapter.getExpectedAds())}catch(n){r.warn("An error occured while calling expectedAds",n)}return n},getAdsExpected:function(){var t=null;try{t=this.getExpectedPattern()||this.getGivenAds()||!1}catch(t){r.warn("An error occured while calling givenAds or expectedPattern",t)}return t},getAdJoinDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.join.getDeltaTime(!1):-1},getAdBufferDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.buffer.getDeltaTime(!1):-1},getAdPauseDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.pause.getDeltaTime(!1):0},getAdTotalDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.total.getDeltaTime(!1):-1},getAdViewedDuration:function(){var e=0;return this._adsAdapter&&0<this._adsAdapter.chronos.viewedMax.length&&this._adsAdapter.chronos.viewedMax.forEach(function(t){e+=t.getDeltaTime(!1)}),e},getAdViewability:function(){var e=0;return this._adsAdapter&&0<this._adsAdapter.chronos.viewedMax.length&&this._adsAdapter.chronos.viewedMax.forEach(function(t){t&&t.getDeltaTime(!1)>e&&(e=t.getDeltaTime(!1))}),e},getAudioEnabled:function(){var t=null;try{this._adsAdapter&&(t=this._adsAdapter.getAudioEnabled())}catch(t){r.warn("An error occured while calling isAudioEnabled",t)}return t},getIsSkippable:function(){var t=null;try{this._adsAdapter&&(t=this._adsAdapter.getIsSkippable())}catch(t){r.warn("An error occured while calling isSkippable",t)}return t},getIsFullscreen:function(){var t=null;try{this._adsAdapter&&(t=this._adsAdapter.getIsFullscreen())}catch(t){r.warn("An error occured while calling isFullcreen",t)}return t}};e.exports=t},{"../constants":356,"../log":366,"../util":389}],373:[function(t,e,n){var r=t("../object"),i=t("./storage"),r=r.extend({constructor:function(){this.storage=new i("youboraOffline",!0),this.actualView=null,this.viewList=[],this.givenIds=[],this._getOldViewList()},_newView:function(){var t=this._getValidId();this.storage.setLocal(t,""),this.viewList.push(t),this.storage.setLocal("views",this.viewList),this.actualView=t},addEvent:function(t,e){if("/start"===t&&this._newView(),"/init"===t)return null;if(!this.actualView)return null;var n,r='{"request":"'+t.slice(1)+'",';for(n in r+='"unixtime":'+Date.now()+",",e){if(void 0===e[n])break;r+='"'+n+'":',"code"===n?r+='"CODE_PLACEHOLDER",':"sessionId"===n?r+='"SESSION_PLACEHOLDER",':"parentId"===n?r+='"PARENT_PLACEHOLDER",':"sessionRoot"===n?r+='"ROOT_PLACEHOLDER",':"string"==typeof e[n]?r+='"'+e[n]+'",':"object"==typeof e[n]?r+='"'+JSON.stringify(e[n]).replace(/"/g,'\\"')+'",':r+=e[n]+","}r=r.slice(0,-1),r+="}";t=this.storage.getLocal(this.actualView);""!==t&&(t+=","),this.storage.setLocal(this.actualView,t+r)},getView:function(){if(this.viewList.length>this.givenIds.length)for(var t=0;;){var e=this.viewList[t];if(!this.givenIds.includes(e))return this.givenIds.push(e),["["+this.storage.getLocal(e)+"]",e];t++}return[null,null]},removeView:function(t){this.storage.removeLocal(t);var e=this.viewList.indexOf(t);-1!==e&&this.viewList.splice(e,1),-1!==(e=this.givenIds.indexOf(t))&&this.givenIds.splice(e,1),this.storage.setLocal("views",this.viewList.toString()),t===this.actualView&&(this.actualView=null)},_getOldViewList:function(){var t="";this.storage.getLocal("views")?t=this.storage.getLocal("views"):this.storage.setLocal("views",""),""===t?this.viewList=[]:"function"==typeof t.split&&(this.viewList=t.split(","))},_getValidId:function(){var t=Math.floor(1e8*Math.random()).toString();return 0<=this.viewList.indexOf(t)?this._getValidId():t},sent:function(){this.givenIds=[]}});e.exports=r},{"../object":371,"./storage":386}],386:[function(t,e,n){var r=t("../object"),i=t("../log"),r=r.extend({constructor:function(t,e){this.prefix=t||"youbora",this.disableCookies=e},setLocal:function(t,e){try{if("undefined"!=typeof localStorage&&localStorage)return localStorage.setItem(this.prefix+"."+t,e);if(!this.disableCookies)return this._setCookie(this.prefix+"."+t,e)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return null},isEnabled:function(){try{if(!this.disableCookies)return!0;localStorage.setItem(this.prefix+".test","true"),localStorage.removeItem(this.prefix+".test")}catch(t){return!1}},getLocal:function(t){try{if("undefined"!=typeof localStorage&&localStorage)return localStorage.getItem(this.prefix+"."+t);if(!this.disableCookies)return this._getCookie(this.prefix+"."+t)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return null},removeLocal:function(t){try{if("undefined"!=typeof localStorage&&localStorage)return localStorage.removeItem(this.prefix+"."+t);if(!this.disableCookies)return this._removeCookie(this.prefix+"."+t)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return null},setSession:function(t,e){try{if("undefined"!=typeof sessionStorage&&sessionStorage)return sessionStorage.setItem(this.prefix+"."+t,e);if(!this.disableCookies)return this._setCookie(this.prefix+".session."+t,e)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return null},getSession:function(t){try{if("undefined"!=typeof sessionStorage&&sessionStorage)return sessionStorage.getItem(this.prefix+"."+t);if(!this.disableCookies)return this._getCookie(this.prefix+".session."+t)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return null},removeSession:function(t){try{if("undefined"!=typeof sessionStorage&&sessionStorage)return sessionStorage.removeItem(this.prefix+"."+t);if(!this.disableCookies)return this._removeCookie(this.prefix+".session."+t)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return null},getStorages:function(t){return this.getSession(t)||this.getLocal(t)},setStorages:function(t,e){this.setSession(t,e),this.setLocal(t,e)},removeStorages:function(t){this.removeSession(t),this.removeLocal(t)},_setCookie:function(t,e){"undefined"!=typeof document&&(document.cookie=t+"="+e+";")},_getCookie:function(t){if("undefined"!=typeof document)for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null},_removeCookie:function(t){"undefined"!=typeof document&&(document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;")}});e.exports=r},{"../log":366,"../object":371}],360:[function(t,e,n){t=t("../object").extend({constructor:function(t){this.pluginref=t,this.listenerReference=this._changeListener.bind(this),this.isEnabled=!1},startDetection:function(){this.isEnabled||"undefined"==typeof window||(window.addEventListener("scroll",this.listenerReference),window.addEventListener("resize",this.listenerReference),this.isEnabled=!0)},stopDetection:function(){this.isEnabled&&"undefined"!=typeof window&&(window.removeEventListener("scroll",this.listenerReference),window.removeEventListener("resize",this.listenerReference),this.isEnabled=!1)},_changeListener:function(){var t=this.pluginref.getAdsAdapter();t&&t.flags.isStarted&&(t.getIsVisible()?t.startChronoView():t.stopChronoView())}});e.exports=t},{"../object":371}],358:[function(t,e,n){var r=t("../object"),i=t("../util"),r=r.extend({constructor:function(t){try{this._plugin=t,this.isBlocked=null,this.xhr=null;try{XMLHttpRequest?this.xhr=new XMLHttpRequest:this.xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return null}var e;this.xhr.addEventListener?(e=i.addProtocol("ww.zxcvwwds.com/ww/wwds/-imwwge-wwd_wwds.html",this._plugin.options["app.https"]),this.xhr.open("GET",e.replace(/ww/g,"a"),!0),this.xhr.addEventListener("load",this.notBlocked.bind(this)),this.xhr.addEventListener("error",this.blocked.bind(this)),this.xhr.send()):this.isBlocked=!1}catch(t){this.isBlocked=!0}},blocked:function(t){this.isBlocked=!0},notBlocked:function(t){this.isBlocked=!1}});e.exports=r},{"../object":371,"../util":389}],339:[function(t,e,n){var r=t("./transform"),i=t("../../constants"),t=r.extend({_services:[i.Service.INIT,i.Service.START,i.Service.OFFLINE_EVENTS],isBlocking:function(t){if(this._isBusy&&null!=t)if(-1!==this._services.indexOf(t.service))this.done();else if(t.service===i.Service.ERROR)return!1;return r.prototype.isBlocking.apply(this,arguments)}});e.exports=t},{"../../constants":356,"./transform":353}],374:[function(t,e,n){var r=t("../object"),a=t("./deprecatedOptions"),u=t("../log"),i=r.extend({constructor:function(t){this.enabled=!0,this.host="a-fds.youborafds01.com",this.accountCode="nicetest",this.preventZombieViews=!0,this.offline=!1,this.referer=null,this.disableCookies=!0,this["user.email"]=null,this["user.type"]=null,this["user.name"]=null,this["user.obfuscateIp"]=!1,this["user.anonymousId"]=null,this["parse.hls"]=!1,this["parse.cdnNameHeader"]="x-cdn-forward",this["parse.cdnNode"]=!1,this["parse.cdnNode.list"]=["Akamai","Cloudfront","Level3","Fastly","Highwinds","Telefonica"],this["parse.locationHeader"]=!1,this["parse.dash"]=!1,this["parse.fdsResponseHost"]=null,this["network.ip"]=null,this["network.isp"]=null,this["network.connectionType"]=null,this["device.code"]=null,this["device.model"]=null,this["device.brand"]=null,this["device.type"]=null,this["device.name"]=null,this["device.osName"]=null,this["device.osVersion"]=null,this["device.browserName"]=null,this["device.browserVersion"]=null,this["device.browserType"]=null,this["device.browserEngine"]=null,this["device.isAnonymous"]=!1,this["content.transactionCode"]=null,this["content.resource"]=null,this["content.isLive"]=null,this["content.isLive.noSeek"]=!1,this["content.title"]=null,this["content.program"]=null,this["content.duration"]=null,this["content.fps"]=null,this["content.bitrate"]=null,this["content.throughput"]=null,this["content.rendition"]=null,this["content.cdn"]=null,this["content.cdnNode"]=null,this["content.cdnType"]=null,this["content.metadata"]={},this["content.metrics"]={},this["content.streamingProtocol"]=null,this["content.package"]=null,this["content.saga"]=null,this["content.tvShow"]=null,this["content.season"]=null,this["content.episodeTitle"]=null,this["content.channel"]=null,this["content.id"]=null,this["content.imdbId"]=null,this["content.gracenoteId"]=null,this["content.type"]=null,this["content.genre"]=null,this["content.language"]=null,this["content.subtitles"]=null,this["content.contractedResolution"]=null,this["content.cost"]=null,this["content.price"]=null,this["content.playbackType"]=null,this["content.drm"]=null,this["content.encoding.videoCodec"]=null,this["content.encoding.audioCodec"]=null,this["content.encoding.codecSettings"]=null,this["content.encoding.codecProfile"]=null,this["content.encoding.containerFormat"]=null,this["ad.metadata"]={},this["ad.campaign"]=null,this["ad.creativeId"]=null,this["ad.provider"]=null,this["ad.resource"]=null,this["ad.title"]=null,this["ad.expectedPattern"]=null,this["ad.givenAds"]=null,this["ad.breaksTime"]=null,this["ad.expectedBreaks"]=null,this["ad.givenBreaks"]=null,this["ad.ignore"]=!1,this["ad.blockDetection"]=!1,this["app.name"]=null,this["app.releaseVersion"]=null,this["app.https"]=!1,this["background.enabled"]=!0,this["background.settings"]=null,this["background.settings.android"]="stop",this["background.settings.iOS"]="stop",this["background.settings.desktop"]=null,this["background.settings.tv"]="stop",this["background.settings.playstation"]="stop",this["smartswitch.configCode"]=null,this["smartswitch.groupCode"]=null,this["smartswitch.contractCode"]=null,this["content.customDimension.1"]=null,this["content.customDimension.2"]=null,this["content.customDimension.3"]=null,this["content.customDimension.4"]=null,this["content.customDimension.5"]=null,this["content.customDimension.6"]=null,this["content.customDimension.7"]=null,this["content.customDimension.8"]=null,this["content.customDimension.9"]=null,this["content.customDimension.10"]=null,this["content.customDimension.11"]=null,this["content.customDimension.12"]=null,this["content.customDimension.13"]=null,this["content.customDimension.14"]=null,this["content.customDimension.15"]=null,this["content.customDimension.16"]=null,this["content.customDimension.17"]=null,this["content.customDimension.18"]=null,this["content.customDimension.19"]=null,this["content.customDimension.20"]=null,this["ad.customDimension.1"]=null,this["ad.customDimension.2"]=null,this["ad.customDimension.3"]=null,this["ad.customDimension.4"]=null,this["ad.customDimension.5"]=null,this["ad.customDimension.6"]=null,this["ad.customDimension.7"]=null,this["ad.customDimension.8"]=null,this["ad.customDimension.9"]=null,this["ad.customDimension.10"]=null,this.forceInit=!1,this["session.metrics"]={},this["session.context"]=!1,this.waitForMetadata=!1,this.pendingMetadata=[],this.setOptions(t)},setOptions:function(t,e){var n,r=!1;if(void 0===e&&(e=this,r=!0,n=new a),void 0!==t)for(var i in t){var o=!1,s=null;r&&(this.hasOwnProperty(i)||(n.exists(i)?(s=n.getNewName(i),o=!0):u.warn('The option "'+i+'" does not exist, so it cannot be set'))),"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])||"parse.cdnNode.list"!==i?o?e[s]=t[i]:e[i]=t[i]:this.setOptions(t[i],e[i])}},setExtraParams:function(t){if("object"==typeof t&&t.length){for(20<=t.length&&(t=t.slice(0,20));t.length<20;)t.push(null);t.forEach(function(t,e){this["content.customDimension."+(e+1).toString()]=t}.bind(this))}},setCustomDimensions:function(){i.prototype.setExtraParams.apply(this,arguments)},setAdExtraParams:function(t){if("object"==typeof t&&t.length){for(10<=t.length&&(t=t.slice(0,10));t.length<10;)t.push(null);t.forEach(function(t,e){this["ad.customDimension."+(e+1).toString()]=t}.bind(this))}},setAdCustomDimensions:function(){i.prototype.setAdExtraParams.apply(this,arguments)}});e.exports=i},{"../log":366,"../object":371,"./deprecatedOptions":372}],372:[function(t,e,n){var r=t("../object"),i=t("../log"),o=r.extend({exists:function(t){return o.Dictionary.hasOwnProperty(t)},getNewName:function(t){var e=o.Dictionary[t];return i.warn('The option "'+t+'" is deprecated, use "'+e+'" instead'),e}},{Dictionary:{httpSecure:"app.https",username:"user.name",anonymousUser:"user.anonymousId",obfuscateIp:"user.obfuscateIp",userType:"user.type","content.title2":"content.program","background.settings.iphone":"background.settings.iOS","extraparam.1":"content.customDimension.1","extraparam.2":"content.customDimension.2","extraparam.3":"content.customDimension.3","extraparam.4":"content.customDimension.4","extraparam.5":"content.customDimension.5","extraparam.6":"content.customDimension.6","extraparam.7":"content.customDimension.7","extraparam.8":"content.customDimension.8","extraparam.9":"content.customDimension.9","extraparam.10":"content.customDimension.10","extraparam.11":"content.customDimension.11","extraparam.12":"content.customDimension.12","extraparam.13":"content.customDimension.13","extraparam.14":"content.customDimension.14","extraparam.15":"content.customDimension.15","extraparam.16":"content.customDimension.16","extraparam.17":"content.customDimension.17","extraparam.18":"content.customDimension.18","extraparam.19":"content.customDimension.19","extraparam.20":"content.customDimension.20","ad.extraparam.1":"ad.content.customDimension.1","ad.extraparam.2":"ad.content.customDimension.2","ad.extraparam.3":"ad.content.customDimension.3","ad.extraparam.4":"ad.content.customDimension.4","ad.extraparam.5":"ad.content.customDimension.5","ad.extraparam.6":"ad.content.customDimension.6","ad.extraparam.7":"ad.content.customDimension.7","ad.extraparam.8":"ad.content.customDimension.8","ad.extraparam.9":"ad.content.customDimension.9","ad.extraparam.10":"ad.content.customDimension.10"}});e.exports=o},{"../log":366,"../object":371}],370:[function(t,e,n){t=t("../object").extend({getCdnTraffic:function(){var e=0;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)e+=Streamroot.peerAgents[t].stats.cdn;return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e+=t.stats.currentContent.cdnDownload}),e}if("undefined"!=typeof peer5&&peer5.getStats)return peer5.getStats().totalHttpDownloaded;if("undefined"!=typeof teltoo&&teltoo.getStats){var n=teltoo.getStats();return n.totalReceivedBytes-n.p2pReceivedBytes}return null},getP2PTraffic:function(){var e=0;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)Streamroot.peerAgents[t].isP2PEnabled&&(e+=Streamroot.peerAgents[t].stats.p2p);return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e+=t.stats.currentContent.dnaDownload}),e}return"undefined"!=typeof peer5&&peer5.getStats?peer5.getStats().totalP2PDownloaded:"undefined"!=typeof teltoo&&teltoo.getStats?teltoo.getStats().p2pReceivedBytes:null},getUploadTraffic:function(){var e=0;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)Streamroot.peerAgents[t].isP2PEnabled&&(e+=Streamroot.peerAgents[t].stats.upload);return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e+=t.stats.currentContent.dnaUpload}),e}return"undefined"!=typeof peer5&&peer5.getStats?peer5.getStats().totalP2PUploaded:null},getIsP2PEnabled:function(){var e=!1;if("undefined"!=typeof Streamroot){if(Streamroot.p2pAvailable&&Streamroot.peerAgents){for(var t in Streamroot.peerAgents)e=e||Streamroot.peerAgents[t].isP2PEnabled;return e}if(Streamroot.instances&&0<Streamroot.instances.length)return Streamroot.instances.forEach(function(t){e=e||t.dnaDownloadEnabled||t.dnaUploadEnabled}),e}return"undefined"!=typeof peer5&&peer5.isEnabled?peer5.isEnabled():null}});e.exports=t},{"../object":371}],365:[function(t,e,n){var r=t("../emitter"),i=t("../comm/communication"),o=t("../comm/transform/wrong"),s=r.extend({constructor:function(t){this._plugin=t},andBeyond:function(){s.prototype.begin.apply(this,arguments)},begin:function(t){this._comm=new i(this._plugin),this._comm.addTransform(this._plugin.viewTransform),this._comm.addTransform(new o(this._plugin)),this._plugin&&this._plugin.storage&&"function"==typeof this._plugin.storage.getLocal&&(this._registeredProperties=this._plugin.storage.getLocal("inifnityRegisteredProperties")),!this._plugin.getIsSessionExpired()&&this._plugin.storage.getLocal("infinityStarted")?(this.fireNav(t),this._sendExtraBeat()):this.fireSessionStart(t)},_generateNewContext:function(){var e=null;try{e=btoa((new Date).getTime())}catch(t){e="Default"}this._plugin.storage.setSession("context",e)},_setLastActive:function(){this._firstActive||(this._firstActive=this.getFirstActive()),this._plugin.storage.setStorages("lastactive",(new Date).getTime())},getFirstActive:function(){return Number(this._plugin.getLastActive())||0},getComm:function(){return this._comm},fireSessionStart:function(t){this._plugin.storage.setLocal("infinityStarted","true"),this._plugin.storage.removeLocal("infinityStopped"),this.infinityStarted=!0,this.infinityStopped=!1,this._generateNewContext(),this.emit(s.Event.SESSION_START,this._getParamsJson(t,null,null,!0,!0)),this._setLastActive()},fireSessionStop:function(t){this.infinityStopped=!0,this.emit(s.Event.SESSION_STOP,t),this._plugin.storage.removeStorages("data"),this._plugin.storage.removeStorages("session"),this._plugin.storage.removeStorages("lastactive")},newSession:function(t,e){this.fireSessionStop(),this._plugin.storage.removeLocal("data"),this._plugin.setOptions(t),this._plugin.restartViewTransform(),this.fireSessionStart(e)},fireNav:function(t){this.isActive()&&(this._plugin.getContext()||this._generateNewContext(),this.emit(s.Event.NAV,this._getParamsJson(t,null,null,!0)))},_sendExtraBeat:function(){var t,e=(new Date).getTime();this._plugin&&this._plugin._beat&&(t=this._plugin._beat.chrono.startTime?e-this._plugin._beat.chrono.startTime:0,this._plugin._sendBeat(t),this._plugin._beat.chrono.startTime=e),this._setLastActive()},fireEvent:function(t,e,n){this.emit(s.Event.EVENT,this._getParamsJson(e,n,t)),this._setLastActive()},register:function(t,e){this._registeredProperties={dimensions:t,values:e},this._plugin.storage.setLocal("inifnityRegisteredProperties",JSON.stringify(this._registeredProperties))},registerOnce:function(t,e){this._registeredProperties||this.register(t,e)},unregister:function(){this._registeredProperties=null,this._plugin.storage.removeLocal("inifnityRegisteredProperties")},_getParamsJson:function(t,e,n,r,i){var o={};if(n&&(o.name=n),o.dimensions=t||{},o.values=e||{},this._registeredProperties){for(var s in this._registeredProperties.dimensions)o.dimensions[s]=this._registeredProperties.dimensions[s];for(var a in this._registeredProperties.values)o.values[a]=this._registeredProperties.values[a]}e={params:o};return r&&(e.params.dimensions.page&&(e.params.page=e.params.dimensions.page,delete e.params.dimensions.page),e.params.dimensions.route&&(e.params.route=e.params.dimensions.route,delete e.params.dimensions.route),i||delete e.params.dimensions,delete e.params.values),e},isActive:function(){var t=(new Date).getTime();return null!=this._plugin.storage.getLocal("infinityStarted")&&!this._plugin.storage.getLocal("infinityStopped")||Number(this._plugin.getLastActive())+this._plugin.sessionExpire>t}},{Event:{NAV:"nav",SESSION_START:"sessionStart",SESSION_STOP:"sessionStop",BEAT:"beat",EVENT:"event"}});e.exports=s},{"../comm/communication":337,"../comm/transform/wrong":355,"../emitter":364}],355:[function(t,e,n){t=t("./transform").extend({isBlocking:function(t){return!t.params.sessionId}});e.exports=t},{"./transform":353}],362:[function(t,e,n){var r=t("./dataextractor"),i=t("../object"),o=t("./md5"),i=i.extend({constructor:function(t){this.plugin=t,this.dataExtractor=new r,this.key=this.getPreviousKey()},generateHashKey:function(){var t;this.key||(t=this.dataExtractor.getAllData(),this.key=this._hashFunction(t),this.plugin.storage.setLocal("youboraDeviceUUID",this.key))},getKey:function(){return this.key||this.generateHashKey(),this.key},_hashFunction:function(t){var e=t;return"string"!=typeof t&&(e=JSON.stringify(t)),o(e)},_reset:function(){this.key=void 0},getPreviousKey:function(){return this.plugin.storage.getLocal("youboraDeviceUUID")}});e.exports=i},{"../object":371,"./dataextractor":361,"./md5":363}],363:[function(t,e,n){e.exports=function(t){function a(t,e){return t<<e|t>>>32-e}function u(t,e){var n=2147483648&t,r=2147483648&e,i=(1073741823&t)+(1073741823&e);return(t=1073741824&t)&(e=1073741824&e)?2147483648^i^n^r:t|e?1073741824&i?3221225472^i^n^r:1073741824^i^n^r:i^n^r}function e(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(e&n|~e&r,i),s)),o),e)}function n(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(e&r|n&~r,i),s)),o),e)}function r(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(e^n^r,i),s)),o),e)}function i(t,e,n,r,i,o,s){return u(a(t=u(t,u(u(n^(e|~r),i),s)),o),e)}function o(t){for(var e="",n="",r=0;r<=3;r++)e+=(n="0"+(t>>>8*r&255).toString(16)).substr(n.length-2,2);return e}Array();for(var s,c,l,h,d=function(t){for(var e,n=t.length,r=n+8,r=16*(1+(r-r%64)/64),i=Array(r-1),o=0,s=0;s<n;)o=s%4*8,i[e=(s-s%4)/4]=i[e]|t.charCodeAt(s)<<o,s++;return i[e=(s-s%4)/4]=i[e]|128<<(o=s%4*8),i[r-2]=n<<3,i[r-1]=n>>>29,i}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e}(t)),f=1732584193,p=4023233417,g=2562383102,v=271733878,m=0;m<d.length;m+=16)p=i(p=i(p=i(p=i(p=r(p=r(p=r(p=r(p=n(p=n(p=n(p=n(p=e(p=e(p=e(p=e(c=p,g=e(l=g,v=e(h=v,f=e(s=f,p,g,v,d[m+0],7,3614090360),p,g,d[m+1],12,3905402710),f,p,d[m+2],17,606105819),v,f,d[m+3],22,3250441966),g=e(g,v=e(v,f=e(f,p,g,v,d[m+4],7,4118548399),p,g,d[m+5],12,1200080426),f,p,d[m+6],17,2821735955),v,f,d[m+7],22,4249261313),g=e(g,v=e(v,f=e(f,p,g,v,d[m+8],7,1770035416),p,g,d[m+9],12,2336552879),f,p,d[m+10],17,4294925233),v,f,d[m+11],22,2304563134),g=e(g,v=e(v,f=e(f,p,g,v,d[m+12],7,1804603682),p,g,d[m+13],12,4254626195),f,p,d[m+14],17,2792965006),v,f,d[m+15],22,1236535329),g=n(g,v=n(v,f=n(f,p,g,v,d[m+1],5,4129170786),p,g,d[m+6],9,3225465664),f,p,d[m+11],14,643717713),v,f,d[m+0],20,3921069994),g=n(g,v=n(v,f=n(f,p,g,v,d[m+5],5,3593408605),p,g,d[m+10],9,38016083),f,p,d[m+15],14,3634488961),v,f,d[m+4],20,3889429448),g=n(g,v=n(v,f=n(f,p,g,v,d[m+9],5,568446438),p,g,d[m+14],9,3275163606),f,p,d[m+3],14,4107603335),v,f,d[m+8],20,1163531501),g=n(g,v=n(v,f=n(f,p,g,v,d[m+13],5,2850285829),p,g,d[m+2],9,4243563512),f,p,d[m+7],14,1735328473),v,f,d[m+12],20,2368359562),g=r(g,v=r(v,f=r(f,p,g,v,d[m+5],4,4294588738),p,g,d[m+8],11,2272392833),f,p,d[m+11],16,1839030562),v,f,d[m+14],23,4259657740),g=r(g,v=r(v,f=r(f,p,g,v,d[m+1],4,2763975236),p,g,d[m+4],11,1272893353),f,p,d[m+7],16,4139469664),v,f,d[m+10],23,3200236656),g=r(g,v=r(v,f=r(f,p,g,v,d[m+13],4,681279174),p,g,d[m+0],11,3936430074),f,p,d[m+3],16,3572445317),v,f,d[m+6],23,76029189),g=r(g,v=r(v,f=r(f,p,g,v,d[m+9],4,3654602809),p,g,d[m+12],11,3873151461),f,p,d[m+15],16,530742520),v,f,d[m+2],23,3299628645),g=i(g,v=i(v,f=i(f,p,g,v,d[m+0],6,4096336452),p,g,d[m+7],10,1126891415),f,p,d[m+14],15,2878612391),v,f,d[m+5],21,4237533241),g=i(g,v=i(v,f=i(f,p,g,v,d[m+12],6,1700485571),p,g,d[m+3],10,2399980690),f,p,d[m+10],15,4293915773),v,f,d[m+1],21,2240044497),g=i(g,v=i(v,f=i(f,p,g,v,d[m+8],6,1873313359),p,g,d[m+15],10,4264355552),f,p,d[m+6],15,2734768916),v,f,d[m+13],21,1309151649),g=i(g,v=i(v,f=i(f,p,g,v,d[m+4],6,4149444226),p,g,d[m+11],10,3174756917),f,p,d[m+2],15,718787259),v,f,d[m+9],21,3951481745),f=u(f,s),p=u(p,c),g=u(g,l),v=u(v,h);return(o(f)+o(p)+o(g)+o(v)).toLowerCase()}},{}],361:[function(t,e,n){t=t("../object").extend({constructor:function(t){this.plugin=t},getAllData:function(){var t=this.getNonRandomData();return t.timestamp=this.getTimestamp(),t},getNonRandomData:function(){var t={};return t.userAgent=this.getUserAgent(),t.threads=this.getVirtualCores(),t.language=this.getLanguage(),t.langList=this.getAvailableLanguages(),t.resolution=this.getResolution(),t.colorDepth=this.getColorDepth(),t.deviceMemory=this.getMemory(),t.touchscreen=this.getTouchscreen(),t.localStorage=this.getLocalStorage(),t.sessionStorage=this.getSessionStorage(),t.cookiesAvailable=this.getCookiesAvailable(),t.flashAvailable=this.getHasFlash(),t.timeZone=this.getTimeZone(),t.plugins=this.getPluginList(),t},getUserAgent:function(){try{return this._navigatorCheck()?navigator.userAgent:null}catch(t){return null}},getVirtualCores:function(){try{return this._navigatorCheck()?navigator.hardwareConcurrency:null}catch(t){return null}},getLanguage:function(){try{return this._navigatorCheck()?navigator.language:null}catch(t){return null}},getAvailableLanguages:function(){try{return this._navigatorCheck()?navigator.languages:null}catch(t){return null}},getResolution:function(){try{return this._navigatorCheck()&&navigator.screen?navigator.screen.width.toString()+navigator.screen.height.toString():null}catch(t){return null}},getColorDepth:function(){try{return this._navigatorCheck()&&navigator.screen?navigator.screen.colorDepth:null}catch(t){return null}},getMemory:function(){try{return this._navigatorCheck()?navigator.deviceMemory:null}catch(t){return null}},getTouchscreen:function(){try{return this._navigatorCheck()?navigator.maxTouchPoints:null}catch(t){return!1}},getLocalStorage:function(){try{return"undefined"!=typeof localStorage}catch(t){return!1}},getSessionStorage:function(){try{return"undefined"!=typeof sessionStorage}catch(t){return!1}},getCookiesAvailable:function(){try{return!!this._navigatorCheck()&&navigator.cookieEnabled}catch(t){return!1}},getHasFlash:function(){try{return!!this._navigatorCheck()&&(void 0!==navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]||"undefined"!=typeof window&&window.ActiveXObject&&!1!==new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){return!1}},getPluginList:function(){try{if(!this._navigatorCheck()||!navigator.plugins||0===navigator.plugins.length)return null;for(var t="",e=0;e<navigator.plugins.length;e++)t+=navigator.plugins[e].description+" "+navigator.plugins[e].filename+" "+navigator.plugins[e].name+" ";return t}catch(t){return null}},getTimeZone:function(){try{return(new Date).getTimezoneOffset().toString()}catch(t){return null}},getTimestamp:function(){return(new Date).getTime()},_navigatorCheck:function(){return"undefined"!=typeof navigator}});e.exports=t},{"../object":371}],359:[function(t,e,n){t=t("../object").extend({constructor:function(){"undefined"!=typeof navigator&&navigator.userAgent&&(this._isSmartTVDevice=navigator.userAgent.toLowerCase().match(/smarttv/)||navigator.userAgent.toLowerCase().match(/smart-tv/)||navigator.userAgent.toLowerCase().match(/appletv/)||navigator.userAgent.toLowerCase().match(/apple tv/),this._isPlaystationDevice=null!==navigator.userAgent.match(/PlayStation/),this._isIphoneDevice=null!==navigator.userAgent.match(/iPhone|iPad|iPod/i),this._isAndroidDevice=null!==navigator.userAgent.match(/Android/),this._isSmartphoneDevice=!this._isSmartTVDevice&&!this._isPlaystationDevice&&(this._isIphoneDevice||this._isAndroidDevice),this._isDesktopDevice=!this._isSmartphoneDevice&&!this._isSmartTVDevice&&!this._isPlaystationDevice)},isIphone:function(){return this._isIphoneDevice},isAndroid:function(){return this._isAndroidDevice},isSmartphone:function(){return this._isSmartphoneDevice},isDesktop:function(){return this._isDesktopDevice},isSmartTV:function(){return this._isSmartTVDevice},isPlayStation:function(){return this._isPlaystationDevice}});e.exports=t},{"../object":371}],357:[function(t,e,n){t=t("../object").extend({constructor:function(t){this.plugin=t,this.isInBackground=!1,this.listenerReference=this._visibilityListener.bind(this),this._reset()},startDetection:function(){this.isBackgroundDetectorStarted||"undefined"==typeof document||(this.isBackgroundDetectorStarted=!0,document.addEventListener("visibilitychange",this.listenerReference))},stopDetection:function(){this.isBackgroundDetectorStarted&&"undefined"!=typeof document&&(document.removeEventListener("visibilitychange",this.listenerReference),this._reset())},_reset:function(){this.isBackgroundDetectorStarted=!1},_visibilityListener:function(t){if("undefined"!=typeof document){var e,n=this._getSettings();if("hidden"===document.visibilityState){if(this.isInBackground=!0,this.plugin&&this.plugin._adsAdapter&&this.plugin._adsAdapter.stopChronoView(),"string"==typeof n){switch(n){case"stop":this._fireStop();break;case"pause":this._firePause()}null==this.plugin.storage.getLocal("infinityStarted")||this.plugin.storage.getLocal("infinityStopped")||(this.lastBeatTime=(new Date).getTime(),e=this.plugin._beat.chrono.startTime?this.lastBeatTime-this.plugin._beat.chrono.startTime:0,this.plugin._sendBeat(e),this.plugin._beat.stop())}}else"visible"===document.visibilityState&&(this.isInBackground=!1,this.plugin&&this.plugin._adsAdapter&&this.plugin._adsAdapter.startChronoView(),"string"==typeof n&&n&&null!=this.plugin.storage.getLocal("infinityStarted")&&!this.plugin.storage.getLocal("infinityStopped"))&&((n=(new Date).getTime())-this.lastBeatTime<this.plugin.sessionExpire?(this.plugin._sendBeat(n-this.lastBeatTime),this.plugin._beat.start()):(this.plugin.restartViewTransform(),this.plugin.infinity.begin()))}},_getSettings:function(){return"string"==typeof this.plugin.options["background.settings"]&&this.plugin.options["background.settings"]?this.plugin.options["background.settings"]:this.plugin.deviceDetector.isSmartTV()?this.plugin.options["background.settings.tv"]:this.plugin.deviceDetector.isDesktop()?this.plugin.options["background.settings.desktop"]:this.plugin.deviceDetector.isAndroid()?this.plugin.options["background.settings.android"]:this.plugin.deviceDetector.isIphone()?this.plugin.options["background.settings.iOS"]:this.plugin.deviceDetector.isPlayStation()?this.plugin.options["background.settings.playstation"]:void 0},_firePause:function(){this.adsAdapter=this.plugin.getAdsAdapter(),this.contentAdapter=this.plugin.getAdapter(),this.adsAdapter&&this.adsAdapter.flags.isStarted&&!this.adsAdapter.flags.isEnded?this.adsAdapter.firePause():this.contentAdapter&&this.contentAdapter.flags.isStarted&&!this.contentAdapter.flags.isEnded&&this.contentAdapter.firePause()},_fireStop:function(){this.adsAdapter=this.plugin.getAdsAdapter(),this.contentAdapter=this.plugin.getAdapter(),this.adsAdapter&&this.adsAdapter.flags.isStarted&&!this.adsAdapter.flags.isEnded&&this.adsAdapter.fireStop(),this.plugin.fireStop()},canBlockStartCalls:function(){return this.plugin.backgroundDetector.isInBackground&&!0===this.plugin.options["background.enabled"]&&this.plugin.backgroundDetector._getSettings()}});e.exports=t},{"../object":371}],354:[function(t,e,n){var r=t("../request"),i=t("./transform"),o=t("../../log"),s=t("../../util"),a=t("../../constants"),u=i.extend({constructor:function(t,e){i.prototype.constructor.apply(this,arguments),this.response={},this._viewIndex=(new Date).getTime(),this._session=e,this._httpSecure=t.options["app.https"],this._plugin=t,this.transformName="View"},init:function(){if(this._plugin.options&&this._plugin.options.offline)return this.response.host="OFFLINE",this.response.code="OFFLINE",this.response.pingTime=60,this.response.beatTime=60,this.done(),null;if(this._plugin.storage.isEnabled()&&(new Date).getTime()<this._plugin.sessionExpire+(Number(this._plugin.getDataTime())||0)&&this._plugin.getStoredData())return this.setData(this._plugin.getStoredData()),null;var t,e=a.Service.DATA;null!==(t=this._plugin.requestBuilder.buildParams(t={apiVersion:"v7",outputformat:"json"},e))&&(o.notice(e+" "+t.system),"nicetest"===t.system&&o.error("No accountCode has been set. Please set your accountCode inside plugin's options."),new r(this._plugin.getHost(),e,t).on(r.Event.SUCCESS,this._receiveData.bind(this)).on(r.Event.ERROR,this._failedData.bind(this)).send())},setData:function(t){try{var e=JSON.parse(t);this._plugin.options["parse.fdsResponseHost"]&&(t=t.replace(e.q.h,this._plugin.options["parse.fdsResponseHost"](e.q.h)),e=JSON.parse(t)),this.response.msg=t,this.response.host=s.addProtocol(e.q.h,this._httpSecure),this.response.code=e.q.c,this.response.pingTime=e.q.pt||5,this.response.beatTime=e.q.i&&e.q.i.bt||30,this.response.sessionExpire=e.q.i&&e.q.i.exp||300,this._plugin.storage.setLocal("sessionExpire",this.response.sessionExpire),this.done()}catch(t){o.error("Fastdata response is invalid.")}},_receiveData:function(t,e){t=t.getXHR().response;this.setData(t)},_failedData:function(t,e){o.error("Fastdata request has failed.")},nextView:function(){return this._viewIndex=(new Date).getTime(),this.getViewCode()},getViewCode:function(){return this.response.code+"_"+this._viewIndex},getSessionId:function(){return this._session},setSessionId:function(t){this._session=t},getParentIdVideo:function(){return this._session},getSessionRoot:function(){return this._plugin.infinity&&this._plugin.infinity.isActive()?this._session:null},setSessionRoot:function(t){this._session=t},parse:function(t){t.host=t.host||this.response.host,t.params.system=this._plugin.getAccountCode(),t.params.sessionRoot=t.params.sessionRoot||this.getSessionRoot(),-1!==u.EventList.PingTime.indexOf(t.service)&&(t.params.pingTime=t.params.pingTime||this.response.pingTime),a.Service.SESSION_STOP===t.service&&(t.params.sessionRoot=this._session||t.params.sessionRoot),-1===u.EventList.Infinity.indexOf(t.service)?(t.params.code=t.params.code||this.getViewCode(),t.params.sessionRoot||(t.params.sessionRoot=t.params.code)):(t.params.sessionId=t.params.sessionId||this.getSessionId(),t.params.sessionRoot||(t.params.sessionRoot=t.params.sessionId)),-1!==[a.Service.START,a.Service.INIT,a.Service.ERROR].indexOf(t.service)&&(this._plugin.infinity.infinityStarted||this._plugin.storage.isEnabled()&&this._plugin.storage.getLocal("infinityStarted"))&&(t.params.parentId=t.params.parentId||this.getParentIdVideo(),t.params.navContext=t.params.navContext||this._plugin.getContext())}},{EventList:{CreateView:[a.Service.START,a.Service.INIT,a.Service.ERROR],Infinity:[a.Service.NAV,a.Service.SESSION_START,a.Service.SESSION_STOP,a.Service.EVENT,a.Service.BEAT],PingTime:[a.Service.START,a.Service.PING]}});e.exports=u},{"../../constants":356,"../../log":366,"../../util":389,"../request":338,"./transform":353}],341:[function(t,e,n){var r=t("./transform"),i=t("./resourceparsers/hlsparser"),o=t("./resourceparsers/cdnparser"),s=t("./resourceparsers/dashparser"),a=t("./resourceparsers/locationheaderparser"),u=t("../../log"),c=t("../../constants"),l=r.extend({constructor:function(t){l.__super__.constructor.apply(this,arguments),this.isDone=!1,this._plugin=t,this._realResource=null,this._initResource=null,this._cdnName=null,this._cdnNodeHost=null,this._cdnNodeTypeString=null,this._cdnNodeType=null,this._responses={},this._isBusy=!1,this.transformName="Resource"},getResource:function(){var t=this._realResource;return t=this._plugin&&this._plugin.options&&this._plugin.options["content.resource"]&&!this._plugin.options["parse.locationHeader"]&&!this._plugin.options["parse.hls"]&&!this._plugin.options["parse.dash"]?this._plugin.options["content.resource"]:t},getCdnName:function(){return this._cdnName},getNodeHost:function(){return this._cdnNodeHost},getNodeTypeString:function(){return this._cdnNodeTypeString},getNodeType:function(){return this._cdnNodeType},init:function(t){this._isBusy||this.isDone||(this._isBusy=!0,this._initResource=t,this._hlsEnabled=this._plugin.isParseHls(),this._cdnEnabled=this._plugin.isParseCdnNode(),this._locHeaderEnabled=this._plugin.isLocHeader(),this._dashEnabled=this._plugin.isDash(),this._cdnList=this._plugin.getParseCdnNodeList().slice(),this._cdnNameHeader=this._plugin.getParseCdnNodeNameHeader(),o.setBalancerHeaderName(this._cdnNameHeader),this._setTimeout(),this._locHeaderEnabled&&this._parseLocHeader(),this._hlsEnabled?this._parseHLS():this._dashEnabled?this._dashParse():this._cdnEnabled?this._parseCDN():this.done())},done:function(){this.isDone=!1,r.prototype.done.apply(this,arguments)},_setTimeout:function(){try{this._parseTimeout=setTimeout(function(){this._isBusy&&(this.done(),u.warn("ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))}.bind(this),3e3)}catch(t){"undefined"!=typeof atv?this._parseTimeout=atv.setTimeout(function(){this._isBusy&&(this.done(),u.warn("ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))}.bind(this),3e3):u.error(t)}},_parseLocHeader:function(){var t=new a;t.parse(this._initResource),t.on(a.Event.DONE,function(){this._realResource=t.getResource(),this.done()}.bind(this))},_parseHLS:function(){var t=new i;t.on(i.Event.DONE,function(){this._realResource=t.getResource(),this._cdnEnabled?this._parseCDN():this.done()}.bind(this)),t.parse(this._initResource)},_dashParse:function(){var t=new s;t.on(s.Event.DONE,function(){this._realResource=t.getResource(),this._cdnEnabled?this._parseCDN():this.done()}.bind(this)),t.parse(this._initResource)},_parseCDN:function(){var t,e;0<this._cdnList.length?(t=this._cdnList.shift(),this.getNodeHost()||((e=o.create(t))?(e.on(o.Event.DONE,function(){this._responses=e.getResponses(),this._cdnName=e.getParsedCdnName(),this._cdnNodeHost=e.getParsedNodeHost(),this._cdnNodeTypeString=e.getParsedNodeTypeString(),this._cdnNodeType=e.getParsedNodeType(),this.getNodeHost()?this.done():this._parseCDN()}.bind(this)),e.parse(this.getResource(),this._responses)):this._parseCDN())):this.done()},parse:function(t){var e;t.service===c.Service.START&&((e=this._plugin.requestBuilder.lastSent).parsedResource=t.params.parsedResource=this.getResource(),this._cdnEnabled&&(e.cdn=t.params.cdn=t.params.cdn||this.getCdnName(),e.nodeHost=t.params.nodeHost=this.getNodeHost(),e.nodeType=t.params.nodeType=this.getNodeType(),e.nodeTypeString=t.params.nodeTypeString=this.getNodeTypeString()))}});e.exports=l},{"../../constants":356,"../../log":366,"./resourceparsers/cdnparser":342,"./resourceparsers/dashparser":350,"./resourceparsers/hlsparser":351,"./resourceparsers/locationheaderparser":352,"./transform":353}],356:[function(t,e,n){e.exports={Service:{DATA:"/data",INIT:"/init",START:"/start",JOIN:"/joinTime",PAUSE:"/pause",RESUME:"/resume",SEEK:"/seek",BUFFER:"/bufferUnderrun",ERROR:"/error",STOP:"/stop",PING:"/ping",VIDEO_EVENT:"/infinity/video/event",AD_INIT:"/adInit",AD_START:"/adStart",AD_JOIN:"/adJoin",AD_PAUSE:"/adPause",AD_RESUME:"/adResume",AD_BUFFER:"/adBufferUnderrun",AD_STOP:"/adStop",AD_CLICK:"/adClick",AD_ERROR:"/adError",AD_MANIFEST:"/adManifest",AD_POD_START:"/adBreakStart",AD_POD_STOP:"/adBreakStop",AD_QUARTILE:"/adQuartile",EVENT:"/infinity/session/event",SESSION_START:"/infinity/session/start",SESSION_STOP:"/infinity/session/stop",NAV:"/infinity/session/nav",BEAT:"/infinity/session/beat",OFFLINE_EVENTS:"/offlineEvents"},WillSendEvent:{WILL_SEND_INIT:"will-send-init",WILL_SEND_START:"will-send-start",WILL_SEND_JOIN:"will-send-join",WILL_SEND_PAUSE:"will-send-pause",WILL_SEND_RESUME:"will-send-resume",WILL_SEND_SEEK:"will-send-seek",WILL_SEND_BUFFER:"will-send-buffer",WILL_SEND_ERROR:"will-send-error",WILL_SEND_FATAL_ERROR:"will-send-fatal-error",WILL_SEND_STOP:"will-send-stop",WILL_SEND_PING:"will-send-ping",WILL_SEND_VIDEO_EVENT:"will-send-video-event",WILL_SEND_AD_START:"will-send-ad-start",WILL_SEND_AD_JOIN:"will-send-ad-join",WILL_SEND_AD_PAUSE:"will-send-ad-pause",WILL_SEND_AD_RESUME:"will-send-ad-resume",WILL_SEND_AD_BUFFER:"will-send-ad-buffer",WILL_SEND_AD_STOP:"will-send-ad-stop",WILL_SEND_AD_CLICK:"will-send-ad-click",WILL_SEND_AD_ERROR:"will-send-ad-error",WILL_SEND_AD_MANIFEST:"will-send-ad-manifest",WILL_SEND_AD_POD_START:"will-send-ad-break-start",WILL_SEND_AD_POD_STOP:"will-send-ad-break-stop",WILL_SEND_AD_QUARTILE:"will-send-ad-quartile",WILL_SEND_SESSION_START:"will-send-session-start",WILL_SEND_SESSION_STOP:"will-send-session-stop",WILL_SEND_NAV:"will-send-nav",WILL_SEND_BEAT:"will-send-beat",WILL_SEND_EVENT:"will-send-event",WILL_SEND_OFFLINE_EVENTS:"will-send-offline-events"},AdPosition:{Preroll:"pre",Midroll:"mid",Postroll:"post"},ManifestError:{NO_RESPONSE:"NO_RESPONSE",EMPTY:"EMPTY_RESPONSE",WRONG:"WRONG_RESPONSE"}}},{}],352:[function(t,e,n){var r=t("../../../emitter"),i=t("../../request"),o=r.extend({constructor:function(){this._realResource=null},done:function(){this.emit(o.Event.DONE)},parse:function(t){t=new i(t,null,null,{method:"HEAD",maxRetries:0,requestHeaders:{},cache:!0});t.on(i.Event.SUCCESS,function(t){this._realResource=t.getXHR().responseURL,this.done()}.bind(this)),t.on(i.Event.ERROR,function(t){this.done()}.bind(this)),t.send()},getResource:function(){return this._realResource}},{Event:{DONE:"done"}});e.exports=o},{"../../../emitter":364,"../../request":338}],351:[function(t,e,n){var s=t("../../request"),r=t("../../../emitter"),a=t("../../../log"),i=r.extend({constructor:function(){this._realResource=null},done:function(){this.emit(i.Event.DONE)},parse:function(t,e){e=e||"";try{var n=/((\S*?)(\.m3u8|\.m3u|\.ts|\.mp4)((\?|;)\S*|\n|\r|$))/i.exec(t)}catch(t){a.warn("Parse HLS Regex failed",t),this.done()}var r,i,o;null!==n?(r=n[1].trim(),i="",o=e.lastIndexOf("/"),0!==r.indexOf("http")&&-1!==o&&(r=e.slice(0,o)+"/"+r,i=e.slice(0,o)+"/"),".m3u8"===n[3]||".m3u"===n[3]?((o=new s(r,null,null,{cache:!0})).on(s.Event.SUCCESS,function(t){this.parse(t.getXHR().responseText,i+n[2])}.bind(this)),o.on(s.Event.ERROR,function(t){this.done()}.bind(this)),o.send()):(this._realResource=r,this.done())):this.done()},getResource:function(){return this._realResource}},{Event:{DONE:"done"}});e.exports=i},{"../../../emitter":364,"../../../log":366,"../../request":338}],350:[function(t,e,n){var o=t("../../request"),r=t("../../../emitter"),s=t("../../../log"),i=r.extend({constructor:function(){this._realResource=null},done:function(){this.emit(i.Event.DONE)},parse:function(n){var r,t=new o(n,null,null,{cache:!0}),i=new RegExp(/.*<Location>(.+)<\/Location>.*/);t.on(o.Event.SUCCESS,function(t){try{var e=t.getXHR().responseText;(r=i.exec(e))&&r[1]?this.parse(r[1]):this.parseFinalResource(e,n)}catch(t){s.warn("Dash parse failed")}}.bind(this)),t.on(o.Event.ERROR,function(t){this.done()}.bind(this)),t.send()},parseFinalResource:function(t,e){var n=new RegExp(/[\s\S]*<BaseURL>(.+)<\/BaseURL>[\s\S]*/),r=new RegExp(/[\s\S]*<SegmentURL[\s\S]*media="(.+)"[\s\S]*/),i=new RegExp(/[\s\S]*<SegmentTemplate[\s\S]*media="(.+)"[\s\S]*/),o=null;try{o=n.exec(t)||i.exec(t)||r.exec(t)}catch(t){s.warn("Dash manifest parse failed")}o&&o[1]&&this._isFullUrl(o[1])?0<o[1].indexOf('"')?this._realResource=o[1].substr(0,o[1].indexOf('"')):this._realResource=o[1]:this._realResource=e,this.done()},_isFullUrl:function(t){return-1!==t.indexOf("http")},getResource:function(){return this._realResource}},{Event:{DONE:"done"}});e.exports=i},{"../../../emitter":364,"../../../log":366,"../../request":338}],342:[function(t,e,n){var r=t("../../../emitter"),i=t("../../../log"),o=t("../../../util"),s=t("../../request"),a=r.extend({constructor:function(t){this._options=o.assign({cdnName:null,parsers:[],requestMethod:"HEAD",requestHeaders:{},parseType:function(){return 0}},t),this._responses={}},done:function(){this.emit(a.Event.DONE)},addParser:function(t){return this._options.parsers.push(t),this},setCdnName:function(t){return this._options.cdnName=t,this},setRequestMethod:function(t){return this._options.requestMethod=t,this},setRequestHeader:function(t,e){return this._options.requestHeaders[t]=e,this},setParseType:function(t){return this._options.parseType=t,this},getParsedCdnName:function(){return this._cdnName},getParsedNodeHost:function(){return this._cdnNodeHost},getParsedNodeTypeString:function(){return this._cdnNodeTypeString},getParsedNodeType:function(){return this._cdnNodeType},getResponses:function(){return this._responses},parse:function(t,e){this._responses=e||{};e=JSON.stringify(this._options.requestHeaders);this._responses[e]?this._parseResponse(this._responses[e]):this._requestResponse(t)},_requestResponse:function(t){var e=JSON.stringify(this._options.requestHeaders),t=new s(t,null,null,{method:this._options.requestMethod,maxRetries:0,requestHeaders:this._options.requestHeaders});t.on(s.Event.SUCCESS,function(t){this._responses[e]=t.getXHR().getAllResponseHeaders(),this._parseResponse(this._responses[e])}.bind(this)),t.on(s.Event.ERROR,function(t){this.done()}.bind(this)),t.send()},_parseResponse:function(t){this._options.parsers.forEach(function(n){t.split("\n").forEach(function(t){var e=t.indexOf(":");-1!==e&&t.slice(0,e)===n.headerName&&this._executeParser(n,t.slice(e+1))}.bind(this))}.bind(this)),this.done()},_executeParser:function(t,e){try{var n=t.regex.exec(e.trim());if(null!==n)switch(this._options.cdnName&&(this._cdnName=this._options.cdnName),t.element){case a.ElementType.HOST:this._cdnNodeHost=n[1];break;case a.ElementType.TYPE:this._cdnNodeTypeString=n[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case a.ElementType.HOST_AND_TYPE:this._cdnNodeHost=n[1],this._cdnNodeTypeString=n[2],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case a.ElementType.TYPE_AND_HOST:this._cdnNodeTypeString=n[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString),this._cdnNodeHost=n[2];break;case a.ElementType.NAME:this._cdnName=n[1].toUpperCase()}}catch(t){i.warn("CDN parsing for "+this._options.cdnName+" could not parse header value "+e)}}},{Event:{DONE:"done"},ElementType:{HOST:"host",TYPE:"type",HOST_AND_TYPE:"host+type",TYPE_AND_HOST:"type+host",NAME:"name"},_cdnConfigs:{},setBalancerHeaderName:function(t){a._cdnConfigs.Balancer.parsers[0].headerName=t},create:function(t){if(a._cdnConfigs[t])return new a(a._cdnConfigs[t]);i.warn("Tried to create an unexisting CdnParser named "+t)},add:function(t,e){a._cdnConfigs[t]=e}});a.add("Level3",t("./cdnparsers/level3")),a.add("Cloudfront",t("./cdnparsers/cloudfront")),a.add("Akamai",t("./cdnparsers/akamai")),a.add("Highwinds",t("./cdnparsers/highwinds")),a.add("Fastly",t("./cdnparsers/fastly")),a.add("Telefonica",t("./cdnparsers/telefonica")),a.add("Balancer",t("./cdnparsers/balancer")),e.exports=a},{"../../../emitter":364,"../../../log":366,"../../../util":389,"../../request":338,"./cdnparsers/akamai":343,"./cdnparsers/balancer":344,"./cdnparsers/cloudfront":345,"./cdnparsers/fastly":346,"./cdnparsers/highwinds":347,"./cdnparsers/level3":348,"./cdnparsers/telefonica":349}],349:[function(t,e,n){e.exports={cdnName:"TELEFO",parsers:[{element:"host+type",headerName:"x-tcdn",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"x-tcdn":"host"},parseType:function(t){if(t){if(-1!==t.indexOf("p")||-1!==t.indexOf("c"))return 1;if(-1!==t.indexOf("i")||-1!==t.indexOf("m"))return 2}return 0}}},{}],348:[function(t,e,n){e.exports={cdnName:"LEVEL3",parsers:[{element:"host+type",headerName:"X-WR-Diag",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"X-WR-Diag":"host"},parseType:function(t){if(t){if(0===t.indexOf("TCP_HIT")||0===t.indexOf("TCP_MEM_HIT")||0===t.indexOf("TCP_IMS_HIT"))return 1;if(0===t.indexOf("TCP_MISS"))return 2}return 0}}},{}],347:[function(t,e,n){e.exports={cdnName:"HIGHNEGR",parsers:[{element:"host+type",headerName:"X-HW",regex:/.+,[0-9]+\.(.+)\.(.+)/}],parseType:function(t){switch(t){case"c":case"x":return 1;default:return 2}}}},{}],346:[function(t,e,n){e.exports={cdnName:"FASTLY",parsers:[{element:"host",headerName:"X-Served-By",regex:/([^,\s]+)$/},{element:"type",headerName:"X-Cache",regex:/([^,\s]+)$/}],parseType:function(t){switch(t){case"HIT":return 1;case"MISS":return 2;default:return 0}}}},{}],345:[function(t,e,n){e.exports={cdnName:"CLOUDFRT",parsers:[{element:"host",headerName:"X-Amz-Cf-Id",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(\S+)\s.+/}],parseType:function(t){switch(t){case"Hit":return 1;case"Miss":return 2;default:return 0}}}},{}],344:[function(t,e,n){e.exports={parsers:[{element:"name",headerName:null,regex:/(.+)/}]}},{}],343:[function(t,e,n){e.exports={cdnName:"AKAMAI",requestMethod:"GET",parsers:[{element:"type+host",headerName:"X-Cache",regex:/(.+)\sfrom.+AkamaiGHost\/(.+)\).+/}],requestHeaders:{Pragma:"akamai-x-cache-on"},parseType:function(t){return-1!==t.indexOf("HIT")?1:-1!==t.indexOf("MISS")?2:0}}},{}],340:[function(t,e,n){var r=t("./transform"),t=r.extend({constructor:function(t,e){this._sendRequest=!1,this._isBusy=!1,this.plugin=t,this.session=e,this.transformName="Offline"},parse:function(t){t&&this.plugin.offlineStorage.addEvent(t.service,t.params)},hasToSend:function(t){return!1},getState:function(){return r.STATE_OFFLINE}});e.exports=t},{"./transform":353}],337:[function(t,e,n){var r=t("../object"),i=t("../log"),o=t("./request"),s=t("./transform/transform"),r=r.extend({constructor:function(t){this.transforms=[],this.pluginRef=t,this._requests=[]},sendRequest:function(t,e,n){t&&("function"==typeof e&&t.on(o.Event.SUCCESS,e,n),this._registerRequest(t))},buildRequest:function(t,e,n,r){n=new o(t,e,n=n||{});"function"==typeof r&&n.on(o.Event.SUCCESS,r),this._registerRequest(n)},addTransform:function(t){t.parse&&t.isBlocking?(this.transforms.push(t),t.on(s.Event.DONE,this._processRequests.bind(this))):i.warn(t+" is not a valid RequestTransform.")},removeTransform:function(t){var e=this.transforms.indexOf(t);-1!==e?this.transforms.splice(e,1):i.warn("Trying to remove unexisting Transform '"+t+"'.")},_registerRequest:function(t){this._requests.push(t),this._processRequests()},_processRequests:function(){var t=this._requests;this._requests=[];for(var e=[];t.length;){var n=t.shift(),r=this._transform(n);r===s.STATE_NO_BLOCKED?(this.pluginRef&&(n.host=this.pluginRef.getHost()),n.send()):r===s.STATE_BLOCKED&&e.push(n)}for(;e.length;)this._requests.push(e.shift())},_transform:function(e){var n=s.STATE_NO_BLOCKED;return this.transforms.forEach(function(t){t.isBlocking(e)?n=s.STATE_BLOCKED:(t.parse(e),t.getState()===s.STATE_OFFLINE&&(n=s.STATE_OFFLINE))}),n}});e.exports=r},{"../log":366,"../object":371,"./request":338,"./transform/transform":353}],353:[function(t,e,n){var r=t("../../emitter").extend({constructor:function(){this._isBusy=!0,this._sendRequest=!0,this.transformName="Transform"},parse:function(t){},isBlocking:function(t){return this._isBusy},done:function(){this._isBusy=!1,this.emit(r.Event.DONE)},hasToSend:function(t){return this._sendRequest},getState:function(){return this._sendRequest?this._isBusy?this.STATE_BLOCKED:this.STATE_NO_BLOCKED:this.STATE_OFFLINE}},{STATE_OFFLINE:2,STATE_BLOCKED:1,STATE_NO_BLOCKED:0,Event:{DONE:"done"}});e.exports=r},{"../../emitter":364}],338:[function(t,e,n){var r=t("../object"),i=t("../log"),o=t("../util"),s=r.extend({constructor:function(t,e,n,r){this.xhr=this.createXHR(),this.host=t||"",this.service=e||"",this.params=n||{},this.options=o.assign({},s.defaultOptions,r),this.retries=0,this.options.cache||this.setParam("timemark",(new Date).getTime())},createXHR:function(){var t={};try{t=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(t){i.error(t)}return t},getXHR:function(){return this.xhr},getUrl:function(){return this.host+this.service+this.getParamString()},on:function(t,e,n){return this.xhr.addEventListener?this.xhr.addEventListener(t,e.bind(this,this,n)):t===s.Event.SUCCESS&&(this.xhr.onreadystatechange=function(){4===this.xhr.readyState&&e.bind(this,this,n)}.bind(this)),this},off:function(t,e){return this.xhr.removeEventListener(t,e),this},getParamString:function(){try{var t,e="?";for(t in this.params){var n,r=this.params[t];null!==r&&"object"==typeof r?"{}"!==(n=JSON.stringify(r))&&(e+=encodeURIComponent(t)+"="+encodeURIComponent(n)+"&"):null!=r&&""!==r&&(e+=encodeURIComponent(t)+"="+encodeURIComponent(r)+"&")}return e.slice(0,-1)}catch(e){return i.error(e),""}},getParam:function(t){return this.params[t]},setParam:function(t,e){return this.params[t]=e,this},setBody:function(t){this.body=t},send:function(){try{if(this.xhr.open(this.options.method,this.getUrl(),!0),this.options.requestHeaders)for(var t in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(t)&&this.xhr.setRequestHeader(t,this.options.requestHeaders[t]);for(var e in 0<this.options.retryAfter&&0<this.options.maxRetries&&0===this.retries&&this.on(s.Event.ERROR,function(){if(this.retries>=this.options.maxRetries)i.error('Aborting failed request "'+this.service+'". Max retries reached.');else{i.warn('YBRequest "'+this.service+'" failed. Retry '+(this.retries+1)+" of "+this.options.maxRetries+" in "+this.options.retryAfter+"ms.");try{setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter)}catch(t){"undefined"!=typeof atv?atv.setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter):i.error(t)}}}.bind(this)),i.logLevel<=i.Level.VERBOSE&&i.verbose("XHR Req: "+this.getUrl()),s._globalListeners)s._globalListeners[e].forEach(function(t){this.on(e,t)}.bind(this));return this.xhr.send(this.body)}catch(t){i.error(t)}}},{Event:{SUCCESS:"load",LOAD:"load",ERROR:"error",ABORT:"abort"},defaultOptions:{method:"GET",requestHeaders:{},maxRetries:3,retryAfter:5e3,cache:!1},_globalListeners:{},onEvery:function(t,e){s._globalListeners[t]=s._globalListeners[t]||[],s._globalListeners[t].push(e)},offEvery:function(t,e){!s._globalListeners[t]||-1!==(e=s._globalListeners[t].indexOf(e))&&s._globalListeners[t].splice(e,1)}});e.exports=s},{"../log":366,"../object":371,"../util":389}],332:[function(t,e,n){var r=t("../emitter"),i=t("../log"),o=t("../util"),s=t("../version"),a=t("./playbackchronos"),u=t("./playbackflags"),c=t("./playheadmonitor"),l=t("../chrono"),h=r.extend({constructor:function(t){this.flags=new u,this.chronos=new a,this.monitor=null,this.plugin=null,this.player=null,this.setPlayer(t),this.tag=this.player,i.notice("Adapter "+this.getVersion()+" with Lib "+s+" is ready.")},setPlayer:function(t){this.player&&this.unregisterListeners(),"string"==typeof t&&"undefined"!=typeof document?this.player=document.getElementById(t):this.player=t,this.registerListeners()},registerListeners:function(){},unregisterListeners:function(){},dispose:function(){this.monitor&&this.monitor.stop(),this.fireStop(),this.unregisterListeners(),this.player=null,this.tag=null},monitorPlayhead:function(t,e,n){this.stopMonitor();var r=0;t&&(r|=c.Type.BUFFER),e&&(r|=c.Type.SEEK),this.monitor&&this.monitor._timer.isRunning?this.monitor.skipNextTick():this.monitor=new c(this,r,n)},stopMonitor:function(){this.monitor&&this.monitor.stop()},getPlayhead:function(){return null},getPlayrate:function(){return this.flags.isPaused?0:1},getFramesPerSecond:function(){return null},getDroppedFrames:function(){return null},getDuration:function(){return null},getBitrate:function(){return null},getThroughput:function(){return null},getRendition:function(){return null},getTitle:function(){return null},getTitle2:function(){return null},getIsLive:function(){return null},getResource:function(){return null},getPlayerVersion:function(){return null},getPlayerName:function(){return null},getVersion:function(){return s+"-generic-js"},getCdnTraffic:function(){return null},getP2PTraffic:function(){return null},getUploadTraffic:function(){return null},getIsP2PEnabled:function(){return null},getHouseholdId:function(){return null},getLatency:function(){return null},getPacketLoss:function(){return null},getPacketSent:function(){return null},getMetrics:function(){return null},getPosition:function(){return null},getGivenBreaks:function(){return null},getExpectedBreaks:function(){return null},getExpectedPattern:function(){return null},getBreaksTime:function(){return null},getGivenAds:function(){return null},getExpectedAds:function(){return null},getIsVisible:function(){return!0},getAudioEnabled:function(){return null},getIsSkippable:function(){return null},getIsFullscreen:function(){return null},getCampaign:function(){return null},getCreativeId:function(){return null},getProvider:function(){return null},fireInit:function(t){this.plugin&&this.plugin.fireInit()},fireStart:function(t){if(this.plugin&&this.plugin.backgroundDetector&&this.plugin.backgroundDetector.canBlockStartCalls())return null;this.flags.isStarted||(this.flags.isStarted=!0,this.chronos.total.start(),this.chronos.join.start(),this.emit(h.Event.START,{params:t}))},fireJoin:function(t){this.flags.isJoined||this.flags.isStarted||this._isAds()||!this.plugin||!this.plugin.isInitiated||this.fireStart(),this.flags.isStarted&&!this.flags.isJoined&&(this.flags.isStarted=!0,this.monitor&&this.monitor.start(),this.flags.isJoined=!0,this.chronos.join.stop(),this.emit(h.Event.JOIN,{params:t}))},firePause:function(t){this.flags.isBuffering&&this.fireBufferEnd(),this.flags.isJoined&&!this.flags.isPaused&&(this.flags.isPaused=!0,this.chronos.pause.start(),this.emit(h.Event.PAUSE,{params:t}))},fireResume:function(t){this.flags.isJoined&&this.flags.isPaused&&(this.flags.isPaused=!1,this.chronos.pause.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(h.Event.RESUME,{params:t}))},fireBufferBegin:function(t,e){if(this.flags.isJoined&&!this.flags.isBuffering){if(this.flags.isSeeking){if(!e)return;i.notice("Converting current buffer to seek"),this.chronos.buffer=this.chronos.seek.clone(),this.chronos.seek.reset(),this.flags.isSeeking=!1}else this.chronos.buffer.start();this.flags.isBuffering=!0,this.emit(h.Event.BUFFER_BEGIN,{params:t})}},fireBufferEnd:function(t){this.flags.isJoined&&this.flags.isBuffering&&(this.flags.isBuffering=!1,this.chronos.buffer.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(h.Event.BUFFER_END,{params:t}))},cancelBuffer:function(t){this.flags.isJoined&&this.flags.isBuffering&&(this.flags.isBuffering=!1,this.chronos.buffer.stop(),this.monitor&&this.monitor.skipNextTick())},fireSeekBegin:function(t,e){if(this.plugin&&this.plugin.getIsLive()&&this.plugin.options["content.isLive.noSeek"])return null;if(this.flags.isJoined&&!this.flags.isSeeking){if(this.flags.isBuffering){if(!1===e)return;i.notice("Converting current buffer to seek"),this.chronos.seek=this.chronos.buffer.clone(),this.chronos.buffer.reset(),this.flags.isBuffering=!1}else this.chronos.seek.start();this.flags.isSeeking=!0,this.emit(h.Event.SEEK_BEGIN,{params:t})}},fireSeekEnd:function(t){if(this.plugin&&this.plugin.getIsLive()&&this.plugin.options["content.isLive.noSeek"])return null;this.flags.isJoined&&this.flags.isSeeking&&(this.flags.isSeeking=!1,this.chronos.seek.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(h.Event.SEEK_END,{params:t}))},cancelSeek:function(t){this.flags.isJoined&&this.flags.isSeeking&&(this.flags.isSeeking=!1,this.chronos.seek.stop(),this.monitor&&this.monitor.skipNextTick())},fireStop:function(t){(this._isAds()||this.plugin&&this.plugin._isStopReady())&&(this._isAds()&&this.flags.isStarted||!this._isAds()&&(this.flags.isStarted||this.plugin&&this.plugin.isInitiated))&&(this.monitor&&this.monitor.stop(),this.flags.reset(),this.chronos.total.stop(),this.chronos.join.reset(),this.chronos.pause.stop(),this.chronos.buffer.stop(),this.chronos.seek.stop(),this.emit(h.Event.STOP,{params:t}),this.chronos.pause.reset(),this.chronos.buffer.reset(),this.chronos.seek.reset(),this.chronos.viewedMax.splice(0,this.chronos.viewedMax.length))},_isAds:function(){return!!this.getPosition()},fireCasted:function(t){(t=t||{}).casted=!0,this.fireStop(t)},fireError:function(t,e,n,r){r=o.buildErrorParams(t,e,n,r);r.code&&delete r.code,this.emit(h.Event.ERROR,{params:r})},fireFatalError:function(t,e,n,r){this.monitor&&this.monitor.stop(),this.fireError(t,e,n,r),this.fireStop()},fireClick:function(t){this.emit(h.Event.CLICK,{params:t="string"==typeof t?{url:t}:t})},fireQuartile:function(t){this.flags.isStarted&&"number"==typeof t&&t>this.flags.lastQuartileSent&&t<4&&(this.flags.lastQuartileSent++,this.emit(h.Event.QUARTILE,{params:{quartile:t}}))},startChronoView:function(){this.getIsVisible()&&!this.plugin.backgroundDetector.isInBackground&&(0!==this.chronos.viewedMax.length&&0===this.chronos.viewedMax[this.chronos.viewedMax.length-1].stopTime||(this.chronos.viewedMax.push(new l),this.chronos.viewedMax[this.chronos.viewedMax.length-1].start()))},stopChronoView:function(){this.chronos.viewedMax[0]&&0<this.chronos.viewedMax.length&&0===this.chronos.viewedMax[this.chronos.viewedMax.length-1].stopTime&&this.chronos.viewedMax[this.chronos.viewedMax.length-1].stop()},fireManifest:function(t,e){"string"==typeof t?this.emit(h.Event.MANIFEST,{params:{errorType:t,errorMessage:e}}):this.emit(h.Event.MANIFEST,{params:t})},fireSkip:function(t){(t=void 0===t?{}:t).skipped=!0,this.fireStop(t)},fireBreakStart:function(t){this.plugin.isBreakStarted||(this.plugin.isBreakStarted=!0,this.emit(h.Event.PODSTART,{params:t}))},fireBreakStop:function(t){this.plugin.isBreakStarted&&(this.emit(h.Event.PODSTOP,{params:t}),this.plugin.isBreakStarted=!1)},fireEvent:function(t,e,n){var r={};r.name=t||"",r.dimensions=e||{},r.values=n||{},this.emit(h.Event.VIDEO_EVENT,{params:r})}},{Event:{START:"start",JOIN:"join",PAUSE:"pause",RESUME:"resume",SEEK_BEGIN:"seek-begin",SEEK_END:"seek-end",BUFFER_BEGIN:"buffer-begin",BUFFER_END:"buffer-end",ERROR:"error",STOP:"stop",CLICK:"click",MANIFEST:"manifest",PODSTART:"break-start",PODSTOP:"break-stop",QUARTILE:"quartile",VIDEO_EVENT:"video-event"}});e.exports=h},{"../chrono":336,"../emitter":364,"../log":366,"../util":389,"../version":390,"./playbackchronos":333,"./playbackflags":334,"./playheadmonitor":335}],390:[function(t,e,n){e.exports=t("../manifest.json").version},{"../manifest.json":331}],331:[function(t,e,n){e.exports={name:"youboralib",type:"lib",tech:"js",author:"Jordi Aguilar",version:"6.5.20",built:"2019-11-20",repo:"https://bitbucket.org/npaw/lib-plugin-js.git"}},{}],389:[function(t,e,n){var o=t("./log"),t={stripProtocol:function(t){var e=t;try{e=t.replace(/^(.*?:\/\/|\/\/)/i,"")}catch(t){o.warn(t)}return e},addProtocol:function(t,e){var n="http://localhost/";try{n="http://"+t,e||"undefined"!=typeof window&&0===window.location.protocol.indexOf("https")?n="https://"+t:"undefined"!=typeof window&&0===window.location.protocol.indexOf("http")&&(n="//"+t)}catch(t){o.warn(t)}return n},parseNumber:function(t,e){return!isNaN(t)&&0<=t&&t!==1/0&&t!==-1/0&&null!=t?t:e},logAllEvents:function(t,e,n){try{if(o.logLevel<=o.Level.DEBUG){n=n||function(t){o.debug("Event: "+t.type)};var r=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart"];e&&(r=null===e[0]?(e.shift(),e):r.concat(e));for(var i=0;i<r.length;i++)"function"==typeof t?t.call(window,r[i],n):t.on?t.on(r[i],n):t.addEventListener&&t.addEventListener(r[i],n)}}catch(t){o.error(t)}},buildRenditionString:function(t,e,n){1===arguments.length&&(n=t,e=t=null);var r=t&&e?t+"x"+e:"";return"number"!=typeof n||isNaN(n)||n<1?r:(r&&(r+="@"),r+(n<1e3?Math.round(n)+"bps":n<1e6?(n=Math.round(n/1e3))+"Kbps":(n=Math.round(n/1e4)/100)+"Mbps")||null)},buildErrorParams:function(t,e,n,r){var i={};return"object"==typeof t?i=t:(i.errorCode=t||"FAILURE",i.msg=e||i.errorCode,i.errorMetadata=n,i.errorLevel=r),i},calculateAdViewability:function(t,e){var n,r,i,o,s=!0;return s="undefined"!=typeof window&&t?!((n=t.getBoundingClientRect()).top>=window.innerHeight||n.bottom<=0||n.right<=0||n.left>=window.innerWidth)&&(r=Math.trunc(n.height*n.width),i=0<n.top?n.top:0,o=n.bottom>window.innerHeight?window.innerHeight:n.bottom,t=0<n.left?n.left:0,r*(e||50)<((n.right>window.innerWidth?window.innerWidth:n.right)-t)*(o-i)*100):s},assign:t("./mixins/assign"),isArray:t("./mixins/isarray")};e.exports=t},{"./log":366,"./mixins/assign":367,"./mixins/isarray":369}],366:[function(t,e,n){var r=t("./emitter"),i=t("./mixins/isarray"),o={_emitter:new r,on:function(){o._emitter.on.apply(o._emitter,arguments)},off:function(){o._emitter.off.apply(o._emitter,arguments)},emit:function(){o._emitter.emit.apply(o._emitter,arguments)},Level:{SILENT:6,ERROR:5,WARNING:4,NOTICE:3,DEBUG:2,VERBOSE:1},Event:{LOG:"log"},logLevel:5,plainLogs:!1,report:function(t,e,n){var r;"undefined"!=typeof console&&console.log&&"undefined"!=typeof document&&(n=n||"darkcyan",r={5:"e",4:"w",3:"n",2:"d",1:"v"}[e=e||o.Level.NOTICE],r="[Youbora]"+o._getCurrentTime()+" "+r+":",this.emit("log",{level:e,msg:t,prefix:r}),o.logLevel<=e&&(o.plainLogs||document.documentMode?o._plainReport(t,r):(e=e===o.Level.ERROR&&console.error?console.error:e===o.Level.WARNING&&console.warn?console.warn:e===o.Level.DEBUG&&console.debug?console.debug:console.log,r="%c"+r,i(t)?(t.splice(0,0,r,"color: "+n),e.apply(console,t)):e.call(console,r,"color: "+n,t))))},_getCurrentTime:function(){var t=new Date;return"["+("0"+t.getDate()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+("00"+t.getMilliseconds()).slice(-3)+"]"},_plainReport:function(t,e){if(t instanceof Array)for(var n in t)o._plainReport(t[n],e);else"string"==typeof t?console.log(e+" "+t):(console.log(e+" <next line>"),console.log(t))},error:function(){o.report([].slice.call(arguments),o.Level.ERROR,"darkred")},warn:function(){o.report([].slice.call(arguments),o.Level.WARNING,"darkorange")},notice:function(){o.report([].slice.call(arguments),o.Level.NOTICE,"darkgreen")},debug:function(){o.report([].slice.call(arguments),o.Level.DEBUG,"indigo")},verbose:function(){o.report([].slice.call(arguments),o.Level.VERBOSE,"navy")},loadLevelFromUrl:function(){var t;"undefined"!=typeof window&&window.location&&window.location.search&&(null!==(t=/\?.*&*youbora-debug=(.+)/i.exec(window.location.search))&&(o.logLevel=t[1]),null!==/\?.*&*youbora-debug=plain/i.exec(window.location.search)&&(o.plainLogs=!0))}};e.exports=o},{"./emitter":364,"./mixins/isarray":369}],364:[function(t,e,n){var r=t("./object"),i=t("./mixins/isarray"),r=r.extend({on:function(t,e){if(this._listeners=this._listeners||{},"function"==typeof e)return this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e),this},off:function(t,e){var n;return this._listeners=this._listeners||{},this._listeners[t]&&-1!==(n=this._listeners[t].indexOf(e))&&this._listeners[t].splice(n,1),this},emit:function(t,e){return this._listeners=this._listeners||{},e=e||{},i(this._listeners[t])&&this._listeners[t].forEach(this._eachCallback.bind(this,t,e)),i(this._listeners["*"])&&this._listeners["*"].forEach(this._eachCallback.bind(this,t,e)),this},_eachCallback:function(t,e,n){"function"==typeof n&&n({type:t,data:e,target:this})}});e.exports=r},{"./mixins/isarray":369,"./object":371}],369:[function(t,e,n){e.exports=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],335:[function(t,e,n){var r=t("../object"),i=t("../timer"),o=t("../chrono"),s=r.extend({constructor:function(t,e,n){this._adapter=t,this._seekEnabled=e&s.Type.SEEK,this._bufferEnabled=e&s.Type.BUFFER,n=n||800,this._chrono=new o,(this._lastPlayhead=0)<n&&(this._timer=new i(this.progress.bind(this),n))},start:function(){this.stop(),this._timer.start()},stop:function(){this._lastPlayhead=0,this._timer&&this._timer.stop()},skipNextTick:function(){this._lastPlayhead=0},progress:function(){var t=this._chrono.stop();this._chrono.start();var e=t*s.kBUFFER_THRESHOLD_RATIO,n=t*s.kSEEK_THRESHOLD_RATIO;this._adapter.getPlayrate&&this._adapter.getPlayrate()&&1!==this._adapter.getPlayrate()&&(e*=this._adapter.getPlayrate(),n*=this._adapter.getPlayrate());var r=this._getPlayhead(),t=1e3*Math.abs(this._lastPlayhead-r);t<e?this._bufferEnabled&&0<this._lastPlayhead&&!this._adapter.flags.isPaused&&!this._adapter.flags.isSeeking&&this._adapter.fireBufferBegin(null,!1):n<t?this._seekEnabled&&0<this._lastPlayhead&&this._adapter.fireSeekBegin(null,!1):(this._seekEnabled&&this._adapter.fireSeekEnd(),this._bufferEnabled&&this._adapter.fireBufferEnd()),this._lastPlayhead=r},_getPlayhead:function(){return this._adapter.getPlayhead()}},{Type:{NONE:0,BUFFER:1,SEEK:2},kBUFFER_THRESHOLD_RATIO:.5,kSEEK_THRESHOLD_RATIO:2});e.exports=s},{"../chrono":336,"../object":371,"../timer":388}],388:[function(t,e,n){var r=t("./object"),i=t("./chrono"),r=r.extend({constructor:function(t,e){this.callback=t,this.interval=e||5e3,this.isRunning=!1,this._timer=null,this.chrono=new i},start:function(){this.isRunning||(this.isRunning=!0,this._setTick())},stop:function(){if(this.isRunning=!1,this._timer)try{clearTimeout(this._timer)}catch(t){"undefined"!=typeof atv&&atv.clearTimeout(this._timer)}},_setTick:function(){this.chrono.start();try{this._timer=setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval)}catch(t){"undefined"!=typeof atv&&(this._timer=atv.setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval))}}});e.exports=r},{"./chrono":336,"./object":371}],334:[function(t,e,n){t=t("../object").extend({constructor:function(){this.reset()},reset:function(){this.isStarted=!1,this.isJoined=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isEnded=!1,this.isStopped=!1,this.lastQuartileSent=0}});e.exports=t},{"../object":371}],333:[function(t,e,n){var r=t("../object"),i=t("../chrono"),r=r.extend({constructor:function(){this.reset()},reset:function(){this.join=new i,this.seek=new i,this.pause=new i,this.buffer=new i,this.total=new i,this.viewedMax=[]}});e.exports=r},{"../chrono":336,"../object":371}],336:[function(t,e,n){var r=t("./object").extend({constructor:function(){this.reset()},reset:function(){this.startTime=0,this.stopTime=0,this.pauseTime=0,this.offset=0},getDeltaTime:function(t){var e=-1,n=(new Date).getTime();return this.startTime&&(t&&!this.stopTime&&(this.stopTime=n),t=this.pausetime?n-this.pausetime:0,n=this.stopTime||n,e=this.offset-t+(n-this.startTime)),e},start:function(){this.startTime=(new Date).getTime(),this.stopTime=0,this.offset=0},stop:function(){return this.pausetime&&this.resume(),this.stopTime=(new Date).getTime(),this.startTime?this.offset+(this.stopTime-this.startTime):-1},pause:function(){this.pauseTime=(new Date).getTime()},resume:function(){this.offset-=(new Date).getTime()-this.pauseTime,this.pauseTime=0},clone:function(){var t=new r;return t.startTime=this.startTime,t.stopTime=this.stopTime,t.offset=this.offset,t}});e.exports=r},{"./object":371}],371:[function(t,e,n){function r(){}var i=t("./mixins/assign"),o=t("./mixins/create");r.prototype={constructor:function(){}},r.extend=function(t,e){var n=this,r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return n.apply(this,arguments)};return i(r,n,e),r.prototype=o(n.prototype),t&&i(r.prototype,t),(r.prototype.constructor=r).__super__=n.prototype,r},e.exports=r},{"./mixins/assign":367,"./mixins/create":368}],368:[function(t,e,n){function r(){}e.exports=function(t){if(1<arguments.length)throw Error("Second argument not supported");if(null===t)throw Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw TypeError("Argument must be an object");return r.prototype=t,new r}},{}],367:[function(t,e,n){e.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}},{}],318:[function(t,e,n){e.exports={name:"ima",type:"adapter",tech:"js",author:"Jesus Lopez",version:"6.5.4",built:"2019-11-20",repo:"https://bitbucket.org/npaw/ima-adapter-js",libVersion:"^6.5.20",features:{buffer:"monitor",seek:"monitor",error:!0,stop:!0,pause:!0,resume:!0,getters:["getPlayhead","getDuration","getRendition","getTitle","getTitle2","getIsLive","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"]},ads:[]}},{}],310:[function(t,e,n){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){return t.raw=e,t}function s(t){return H(t)?Object.keys(t):[]}var d=r(t("global/window")),f=r(t("global/document")),c=r(t("tsml")),p=r(t("safe-json-parse/tuple")),g=r(t("xhr")),a=r(t("videojs-vtt.js")),u=d.navigator&&d.navigator.userAgent||"",v=/AppleWebKit\/([\d.]+)/i.exec(u),m=v?parseFloat(v.pop()):null,y=/iPad/i.test(u),b=/iPhone/i.test(u)&&!y,T=/iPod/i.test(u),_=b||y||T,S=(tn=u.match(/OS (\d+)_/i))&&tn[1]?tn[1]:null,E=/Android/i.test(u),w=function(){var t=u.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),A=E&&/webkit/i.test(u)&&w<2.3,x=E&&w<5&&m<537,P=/Firefox/i.test(u),C=/Edge/i.test(u),k=!C&&(/Chrome/i.test(u)||/CriOS/i.test(u)),L=(dn=u.match(/(Chrome|CriOS)\/(\d+)/))&&dn[2]?parseFloat(dn[2]):null,R=/MSIE\s8\.0/.test(u),I=yn=!(yn=(gn=/MSIE\s(\d+)\.\d/.exec(u))&&parseFloat(gn[1]))&&/Trident\/7.0/i.test(u)&&/rv:11.0/.test(u)?11:yn,D=/Safari/i.test(u)&&!k&&!E&&!C,O=(D||_)&&!k,M=J()&&("ontouchstart"in d||d.navigator.maxTouchPoints||d.DocumentTouch&&d.document instanceof d.DocumentTouch),N=J()&&"backgroundSize"in d.document.createElement("video").style,B=(Object.freeze||Object)({IS_IPAD:y,IS_IPHONE:b,IS_IPOD:T,IS_IOS:_,IOS_VERSION:S,IS_ANDROID:E,ANDROID_VERSION:w,IS_OLD_ANDROID:A,IS_NATIVE_ANDROID:x,IS_FIREFOX:P,IS_EDGE:C,IS_CHROME:k,CHROME_VERSION:L,IS_IE8:R,IE_VERSION:I,IS_SAFARI:D,IS_ANY_SAFARI:O,TOUCH_ENABLED:M,BACKGROUND_SIZE_SUPPORTED:N}),F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j=Object.prototype.toString;function G(e,n){s(e).forEach(function(t){return n(e[t],t)})}function U(n){for(var t=arguments.length,e=Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[n].concat(e)):(e.forEach(function(t){t&&G(t,function(t,e){n[e]=t})}),n)}function H(t){return!!t&&"object"===(void 0===t?"undefined":F(t))}function V(t){return H(t)&&"[object Object]"===j.call(t)&&t.constructor===Object}var W=[],q=function e(n){function i(){for(var t=i.stringify||I&&I<11,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];u("log",o,n,t)}var s,a,o="info",u=void 0;return s=n,u=function(t,e,n,r){var i,o=a.levels[e],e=new RegExp("^("+o+")$");"log"!==t&&n.unshift(t.toUpperCase()+":"),n.unshift(s+":"),W&&W.push([].concat(n)),d.console&&(i=(i=d.console[t])||"debug"!==t?i:d.console.info||d.console.log)&&o&&e.test(t)&&(r&&(n=n.map(function(e){if(H(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),i.apply?i[Array.isArray(n)?"apply":"call"](d.console,n):i(n))},(a=i).createLogger=function(t){return e(n+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},i.level=function(t){if("string"==typeof t){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(i.history=function(){return W?[].concat(W):[]}).filter=function(e){return(W||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},i.history.clear=function(){W&&(W.length=0)},i.history.disable=function(){null!==W&&(W.length=0,W=null)},i.history.enable=function(){null===W&&(W=[])},i.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u("error",o,e)},i.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u("warn",o,e)},i.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return u("debug",o,e)},i}("VIDEOJS"),K=q.createLogger;function X(t,e){if(!t||!e)return"";if("function"!=typeof d.getComputedStyle)return t.currentStyle[e]||"";t=d.getComputedStyle(t);return t?t[e]:""}var z=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Y(t){return"string"==typeof t&&/\S/.test(t)}function Q(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function J(){return f===d.document&&void 0!==f.createElement}function $(t){return H(t)&&1===t.nodeType}function Z(){try{return d.parent!==d.self}catch(t){return!0}}function tt(n){return function(t,e){if(!Y(t))return f[n](null);e=$(e=Y(e)?f.querySelector(e):e)?e:f;return e[n]&&e[n](t)}}function et(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=f.createElement(t);return Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(q.warn(c(z,t,e)),i.setAttribute(t,e)):"textContent"===t?nt(i,e):i[t]=e}),Object.getOwnPropertyNames(e).forEach(function(t){i.setAttribute(t,e[t])}),r&&_t(i,r),i}function nt(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function rt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function it(t,e){return Q(e),t.classList?t.classList.contains(e):new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)}function ot(t,e){return t.classList?t.classList.add(e):it(t,e)||(t.className=(t.className+" "+e).trim()),t}function st(t,e){return t.classList?t.classList.remove(e):(Q(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function at(t,e,n){var r=it(t,e);if((n="boolean"!=typeof(n="function"==typeof n?n(t,e):n)?!r:n)!==r)return(n?ot:st)(t,e),t}function ut(n,r){Object.getOwnPropertyNames(r).forEach(function(t){var e=r[t];null==e||!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})}function ct(t){var e={};if(t&&t.attributes&&0<t.attributes.length)for(var n=t.attributes,r=n.length-1;0<=r;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof t[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),e[i]=o}return e}function lt(t,e){return t.getAttribute(e)}function ht(t,e,n){t.setAttribute(e,n)}function dt(t,e){t.removeAttribute(e)}function ft(){f.body.focus(),f.onselectstart=function(){return!1}}function pt(){f.onselectstart=function(){return!0}}function gt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(X(t,"height"))),n.width||(n.width=parseFloat(X(t,"width"))),n}}function vt(t){var e=void 0;if(!(e=t.getBoundingClientRect&&t.parentNode?t.getBoundingClientRect():e))return{left:0,top:0};var n=f.documentElement,r=f.body,i=n.clientLeft||r.clientLeft||0,t=d.pageXOffset||r.scrollLeft,i=e.left+t-i,n=n.clientTop||r.clientTop||0,r=d.pageYOffset||r.scrollTop,n=e.top+r-n;return{left:Math.round(i),top:Math.round(n)}}function mt(t,e){var n={},r=vt(t),i=t.offsetWidth,o=t.offsetHeight,s=r.top,a=r.left,t=e.pageY,r=e.pageX;return e.changedTouches&&(r=e.changedTouches[0].pageX,t=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-t+o)/o)),n.x=Math.max(0,Math.min(1,(r-a)/i)),n}function yt(t){return H(t)&&3===t.nodeType}function bt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function Tt(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return $(t="function"==typeof t?t():t)||yt(t)?t:"string"==typeof t&&/\S/.test(t)?f.createTextNode(t):void 0}).filter(function(t){return t})}function _t(e,t){return Tt(t).forEach(function(t){return e.appendChild(t)}),e}function St(t,e){return _t(bt(t),e)}function Et(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||9===I||0===t.button&&1===t.buttons}var wt=tt("querySelector"),At=tt("querySelectorAll"),xt=(Object.freeze||Object)({isReal:J,isEl:$,isInFrame:Z,createEl:et,textContent:nt,prependTo:rt,hasClass:it,addClass:ot,removeClass:st,toggleClass:at,setAttributes:ut,getAttributes:ct,getAttribute:lt,setAttribute:ht,removeAttribute:dt,blockTextSelection:ft,unblockTextSelection:pt,getBoundingClientRect:gt,findPosition:vt,getPointerPosition:mt,isTextNode:yt,emptyEl:bt,normalizeContent:Tt,appendContent:_t,insertContent:St,isSingleLeftClick:Et,$:wt,$$:At}),Pt=1;var Ct={},kt="vdata"+(new Date).getTime();function Lt(t){var e=(e=t[kt])||(t[kt]=Pt++);return Ct[e]||(Ct[e]={}),Ct[e]}function Rt(t){t=t[kt];return t&&Object.getOwnPropertyNames(Ct[t]).length}function It(t){var e=t[kt];if(e){delete Ct[e];try{delete t[kt]}catch(e){t.removeAttribute?t.removeAttribute(kt):t[kt]=null}}}function Dt(t,e){var n=Lt(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&It(t)}function Ot(e,n,t,r){t.forEach(function(t){e(n,t,r)})}function Mt(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var r,i,o,s=t||d.event;for(r in t={},s)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&s.preventDefault||(t[r]=s[r]));t.target||(t.target=t.srcElement||f),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX&&(i=f.documentElement,o=f.body,t.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Nt=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){Nt=!0}});d.addEventListener("test",null,t),d.removeEventListener("test",null,t)}catch(t){}}();var Bt=["touchstart","touchmove"];function Ft(s,t,e){if(Array.isArray(t))return Ot(Ft,s,t,e);var a=Lt(s);a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),e.guid||(e.guid=Pt++),a.handlers[t].push(e),a.dispatcher||(a.disabled=!1,a.dispatcher=function(t,e){if(!a.disabled){t=Mt(t);var n=a.handlers[t.type];if(n)for(var r=n.slice(0),i=0,o=r.length;i<o&&!t.isImmediatePropagationStopped();i++)try{r[i].call(s,t,e)}catch(t){q.error(t)}}}),1===a.handlers[t].length&&(s.addEventListener?(e=!1,Nt&&-1<Bt.indexOf(t)&&(e={passive:!0}),s.addEventListener(t,a.dispatcher,e)):s.attachEvent&&s.attachEvent("on"+t,a.dispatcher))}function jt(t,e,n){if(Rt(t)){var r=Lt(t);if(r.handlers){if(Array.isArray(e))return Ot(jt,t,e,n);function i(t,e){r.handlers[e]=[],Dt(t,e)}if(void 0!==e){var o=r.handlers[e];if(o)if(n){if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);Dt(t,e)}else i(t,e)}else for(var a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&i(t,a)}}}function Gt(t,e,n){var r=Rt(t)?Lt(t):{},i=t.parentNode||t.ownerDocument;return"string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Mt(e),r.dispatcher&&r.dispatcher.call(t,e,n),i&&!e.isPropagationStopped()&&!0===e.bubbles?Gt.call(null,i,e,n):i||e.defaultPrevented||(i=Lt(e.target),e.target[e.type]&&(i.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),i.disabled=!1)),!e.defaultPrevented}function Ut(t,e,n){if(Array.isArray(e))return Ot(Ut,t,e,n);function r(){jt(t,e,r),n.apply(this,arguments)}r.guid=n.guid=n.guid||Pt++,Ft(t,e,r)}function Ht(){if(J()&&!1!==qt.options.autoSetup){var t=f.getElementsByTagName("video"),e=f.getElementsByTagName("audio"),n=f.getElementsByTagName("video-js"),r=[];if(t&&0<t.length)for(var i=0,o=t.length;i<o;i++)r.push(t[i]);if(e&&0<e.length)for(var s=0,a=e.length;s<a;s++)r.push(e[s]);if(n&&0<n.length)for(var u=0,c=n.length;u<c;u++)r.push(n[u]);if(r&&0<r.length)for(var l=0,h=r.length;l<h;l++){var d=r[l];if(!d||!d.getAttribute){Kt(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&qt(d)}else Wt||Kt(1)}}var Vt=(Object.freeze||Object)({fixEvent:Mt,on:Ft,off:jt,trigger:Gt,one:Ut}),Wt=!1,qt=void 0;function Kt(t,e){e&&(qt=e),d.setTimeout(Ht,t)}function Xt(t){var e=f.createElement("style");return e.className=t,e}function zt(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}function Yt(t,e,n){function r(){return e.apply(t,arguments)}return e.guid||(e.guid=Pt++),r.guid=n?n+"_"+e.guid:e.guid,r}function Qt(e,n){var r=Date.now();return function(){var t=Date.now();n<=t-r&&(e.apply(void 0,arguments),r=t)}}function Jt(){}function $t(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&t.length}function Zt(t){if(!t.nodeName&&!ie(t))throw new Error("Invalid target; must be a DOM node or evented object.")}function te(t){if(!$t(t))throw new Error("Invalid event type; must be a non-empty string or array.")}function ee(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")}function ne(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,r=void 0,i=void 0,o=n?(r=t.eventBusEl_,3<=e.length&&e.shift(),i=e[0],e[1]):(r=e[0],i=e[1],e[2]);return Zt(r),te(i),ee(o),{isTargetingSelf:n,target:r,type:i,listener:Yt(t,o)}}function re(t,e,n,r){Zt(t),t.nodeName?Vt[e](t,n,r):t[e](n,r)}J()&&"complete"===f.readyState?Wt=!0:Ut(d,"load",function(){Wt=!0}),Jt.prototype.allowedEvents_={},Jt.prototype.addEventListener=Jt.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Ft(this,t,e),this.addEventListener=n},Jt.prototype.removeEventListener=Jt.prototype.off=function(t,e){jt(this,t,e)},Jt.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},Ut(this,t,e),this.addEventListener=n},Jt.prototype.dispatchEvent=Jt.prototype.trigger=function(t){var e=t.type||t;t=Mt(t="string"==typeof t?{type:e}:t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Gt(this,t)};var ie=function(e){return e instanceof Jt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},oe={on:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=ne(this,n),o=i.isTargetingSelf,s=i.target,a=i.type,u=i.listener;function c(){return t.off(s,a,u)}function l(){return t.off("dispose",c)}re(s,"on",a,u),o||(c.guid=u.guid,l.guid=u.guid,re(this,"on","dispose",c),re(s,"on","dispose",l))},one:function(){for(var r=this,t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=ne(this,e),o=i.isTargetingSelf,s=i.target,a=i.type,u=i.listener;function c(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.off(s,a,c),u.apply(null,e)}o?re(s,"one",a,u):(c.guid=u.guid,re(s,"one",a,c))},off:function(t,e,n){!t||$t(t)?jt(this.eventBusEl_,t,e):(e=e,Zt(t=t),te(e),ee(n),n=Yt(this,n),this.off("dispose",n),t.nodeName?(jt(t,e,n),jt(t,"dispose",n)):ie(t)&&(t.off(e,n),t.off("dispose",n)))},trigger:function(t,e){return Gt(this.eventBusEl_,t,e)}};function se(t,e){var n=(1<arguments.length&&void 0!==e?e:{}).eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=et("span",{className:"vjs-event-bus"});return U(t,oe),t.on("dispose",function(){t.off(),d.setTimeout(function(){t.eventBusEl_=null},0)}),t}var ae={state:{},setState:function(t){var n=this;"function"==typeof t&&(t=t());var r=void 0;return G(t,function(t,e){n.state[e]!==t&&((r=r||{})[e]={from:n.state[e],to:t}),n.state[e]=t}),r&&ie(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function ue(t,e){return U(t,ae),t.state=U({},t.state,e),"function"==typeof t.handleStateChanged&&ie(t)&&t.on("statechanged",t.handleStateChanged),t}function ce(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function le(){for(var n={},t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.forEach(function(t){t&&G(t,function(t,e){V(t)?(V(n[e])||(n[e]={}),n[e]=le(n[e],t)):n[e]=t})}),n}var he=(de.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),It(this.el_),this.el_=null),this.player_=null},de.prototype.player=function(){return this.player_},de.prototype.options=function(t){return q.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t&&(this.options_=le(this.options_,t)),this.options_},de.prototype.el=function(){return this.el_},de.prototype.createEl=function(t,e,n){return et(t,e,n)},de.prototype.localize=function(t,n,e){var r=2<arguments.length&&void 0!==e?e:t,i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[i],i=i&&i.split("-")[0],i=o&&o[i],r=r;return s&&s[t]?r=s[t]:i&&i[t]&&(r=i[t]),r=n?r.replace(/\{(\d+)\}/g,function(t,e){e=n[e-1];return void 0===e?t:e}):r},de.prototype.contentEl=function(){return this.contentEl_||this.el_},de.prototype.id=function(){return this.id_},de.prototype.name=function(){return this.name_},de.prototype.children=function(){return this.children_},de.prototype.getChildById=function(t){return this.childIndex_[t]},de.prototype.getChild=function(t){if(t)return t=ce(t),this.childNameIndex_[t]},de.prototype.addChild=function(t,e,n){var r=1<arguments.length&&void 0!==e?e:{},i=2<arguments.length&&void 0!==n?n:this.children_.length,o=void 0,s=void 0;if("string"==typeof t){var s=ce(t),a=r.componentClass||s;r.name=s;var u=de.getComponent(a);if(!u)throw new Error("Component "+a+" does not exist");if("function"!=typeof u)return null;o=new u(this.player_||this,r)}else o=t;return this.children_.splice(i,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(s=s||o.name&&ce(o.name()))&&(this.childNameIndex_[s]=o),"function"==typeof o.el&&o.el()&&(i=this.contentEl().children[i]||null,this.contentEl().insertBefore(o.el(),i)),o},de.prototype.removeChild=function(t){if((t="string"==typeof t?this.getChild(t):t)&&this.children_){for(var e,n=!1,r=this.children_.length-1;0<=r;r--)if(this.children_[r]===t){n=!0,this.children_.splice(r,1);break}n&&(this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null,(e=t.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el()))}},de.prototype.initChildren=function(){var n,t,e,r=this,i=this.options_.children;i&&(n=this.options_,t=void 0,e=de.getComponent("Tech"),(t=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!t.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(t){var e=void 0,n="string"==typeof t?i[e=t]||r.options_[e]||{}:(e=t.name,t);return{name:e,opts:n}}).filter(function(t){t=de.getComponent(t.opts.componentClass||ce(t.name));return t&&!e.isTech(t)}).forEach(function(t){var e=t.name,t=t.opts;!1!==(t=void 0!==n[e]?n[e]:t)&&((t=!0===t?{}:t).playerOptions=r.options_.playerOptions,(t=r.addChild(e,t))&&(r[e]=t))}))},de.prototype.buildCSSClass=function(){return""},de.prototype.ready=function(t,e){if(t)return this.isReady_?void(1<arguments.length&&void 0!==e&&e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},de.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&0<t.length&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},de.prototype.$=function(t,e){return wt(t,e||this.contentEl())},de.prototype.$$=function(t,e){return At(t,e||this.contentEl())},de.prototype.hasClass=function(t){return it(this.el_,t)},de.prototype.addClass=function(t){ot(this.el_,t)},de.prototype.removeClass=function(t){st(this.el_,t)},de.prototype.toggleClass=function(t,e){at(this.el_,t,e)},de.prototype.show=function(){this.removeClass("vjs-hidden")},de.prototype.hide=function(){this.addClass("vjs-hidden")},de.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},de.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},de.prototype.getAttribute=function(t){return lt(this.el_,t)},de.prototype.setAttribute=function(t,e){ht(this.el_,t,e)},de.prototype.removeAttribute=function(t){dt(this.el_,t)},de.prototype.width=function(t,e){return this.dimension("width",t,e)},de.prototype.height=function(t,e){return this.dimension("height",t,e)},de.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},de.prototype.dimension=function(t,e,n){if(void 0!==e)return-1!==(""+(e=null===e||e!=e?0:e)).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;e=this.el_.style[t],n=e.indexOf("px");return-1!==n?parseInt(e.slice(0,n),10):parseInt(this.el_["offset"+ce(t)],10)},de.prototype.currentDimension=function(t){var e,n=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");return"function"==typeof d.getComputedStyle&&(n=(e=d.getComputedStyle(this.el_)).getPropertyValue(t)||e[t]),0===(n=parseFloat(n))&&(t="offset"+ce(t),n=this.el_[t]),n},de.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},de.prototype.currentWidth=function(){return this.currentDimension("width")},de.prototype.currentHeight=function(){return this.currentDimension("height")},de.prototype.focus=function(){this.el_.focus()},de.prototype.blur=function(){this.el_.blur()},de.prototype.emitTapEvents=function(){var e=0,n=null,r=void 0;function t(){r=!1}this.on("touchstart",function(t){1===t.touches.length&&(n={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(t){var e;1<t.touches.length?r=!1:n&&(e=t.touches[0].pageX-n.pageX,t=t.touches[0].pageY-n.pageY,10<Math.sqrt(e*e+t*t)&&(r=!1))}),this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",function(t){!(n=null)===r&&(new Date).getTime()-e<200&&(t.preventDefault(),this.trigger("tap"))})},de.prototype.enableTouchActivity=function(){function t(t){e(),this.clearInterval(n)}var e,n;this.player()&&this.player().reportUserActivity&&(e=Yt(this.player(),this.player().reportUserActivity),n=void 0,this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)}),this.on("touchmove",e),this.on("touchend",t),this.on("touchcancel",t))},de.prototype.setTimeout=function(t,e){var n,r,i=this;return t=Yt(this,t),n=d.setTimeout(function(){i.off("dispose",r),t()},e),(r=function(){return i.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",r),n},de.prototype.clearTimeout=function(t){function e(){}return d.clearTimeout(t),e.guid="vjs-timeout-"+t,this.off("dispose",e),t},de.prototype.setInterval=function(t,e){var n=this;function r(){return n.clearInterval(i)}t=Yt(this,t);var i=d.setInterval(t,e);return r.guid="vjs-interval-"+i,this.on("dispose",r),i},de.prototype.clearInterval=function(t){function e(){}return d.clearInterval(t),e.guid="vjs-interval-"+t,this.off("dispose",e),t},de.prototype.requestAnimationFrame=function(t){var e,n,r=this;return this.supportsRaf_?(t=Yt(this,t),e=d.requestAnimationFrame(function(){r.off("dispose",n),t()}),(n=function(){return r.cancelAnimationFrame(e)}).guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},de.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){function e(){}return d.cancelAnimationFrame(t),e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},de.registerComponent=function(t,e){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n=de.getComponent("Tech"),r=n&&n.isTech(e),n=de===e||de.prototype.isPrototypeOf(e.prototype);if(r||!n)throw new Error('Illegal component, "'+t+'"; '+(r?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=ce(t),de.components_||(de.components_={});r=de.getComponent("Player");if("Player"===t&&r&&r.players){var i=r.players,r=Object.keys(i);if(i&&0<r.length&&r.map(function(t){return i[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return de.components_[t]=e},de.getComponent=function(t){if(t)return t=ce(t),de.components_&&de.components_[t]?de.components_[t]:void 0},de);function de(t,e,n){l(this,de),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=le({},this.options_),e=this.options_=le(this.options_,e),this.id_=e.id||e.el&&e.el.id,this.id_||(t=t&&t.id&&t.id()||"no_player",this.id_=t+"_component_"+Pt++),this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&se(this,{eventBusKey:this.el_?"el_":null}),ue(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}function fe(e,t,n,r){return function(t){if("number"!=typeof r||r<0||t<r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+r+") is non-numeric or out of bounds (0-"+t+").")}(n.length-1),n[r][t]}function pe(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:fe.bind(null,"start",0,t),end:fe.bind(null,"end",1,t)}}function ge(t,e){return Array.isArray(t)?pe(t):void 0===t||void 0===e?pe():pe([[t,e]])}function ve(t,e){var n,r=0,i=void 0;if(!e)return 0;t&&t.length||(t=ge(0,0));for(var o=0;o<t.length;o++)n=t.start(o),r+=(i=e<(i=t.end(o))?e:i)-n;return r/e}he.prototype.supportsRaf_="function"==typeof d.requestAnimationFrame&&"function"==typeof d.cancelAnimationFrame,he.registerComponent("Component",he);for(var me={},ye=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],be=ye[0],Te=void 0,_e=0;_e<ye.length;_e++)if(ye[_e][1]in f){Te=ye[_e];break}if(Te)for(var Se=0;Se<Te.length;Se++)me[be[Se]]=Te[Se];function Ee(t){if(t instanceof Ee)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:H(t)&&("number"==typeof t.code&&(this.code=t.code),U(this,t)),this.message||(this.message=Ee.defaultMessages[this.code]||"")}Ee.prototype.code=0,Ee.prototype.message="",Ee.prototype.status=null,Ee.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ee.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var we=0;we<Ee.errorTypes.length;we++)Ee[Ee.errorTypes[we]]=we,Ee.prototype[Ee.errorTypes[we]]=we;function Ae(t){return null!=t&&"function"==typeof t.then}function xe(t){Ae(t)&&t.then(null,function(t){})}function Pe(r){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,e,n){return r[e]&&(t[e]=r[e]),t},{cues:r.cues&&Array.prototype.map.call(r.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})}var Ce,ke="vjs-modal-dialog",Le=(i(Re,Ce=he),Re.prototype.createEl=function(){return Ce.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},Re.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,Ce.prototype.dispose.call(this)},Re.prototype.buildCSSClass=function(){return ke+" vjs-hidden "+Ce.prototype.buildCSSClass.call(this)},Re.prototype.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},Re.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},Re.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},Re.prototype.open=function(){var t;this.opened_||(t=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Yt(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)},Re.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},Re.prototype.close=function(){var t;this.opened_&&(t=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Yt(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose())},Re.prototype.closeable=function(t){var e,n;return"boolean"==typeof t&&(e=this.closeable_=!!t,n=this.getChild("closeButton"),e&&!n&&(t=this.contentEl_,this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=t,this.on(n,"close",this.close)),!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())),this.closeable_},Re.prototype.fill=function(){this.fillWith(this.content())},Re.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,r=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),St(e,t),this.trigger("modalfill"),r?n.insertBefore(e,r):n.appendChild(e);e=this.getChild("closeButton");e&&n.appendChild(e.el_)},Re.prototype.empty=function(){this.trigger("beforemodalempty"),bt(this.contentEl()),this.trigger("modalempty")},Re.prototype.content=function(t){return void 0!==t&&(this.content_=t),this.content_},Re.prototype.conditionalFocus_=function(){var t=f.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,!e.contains(t)&&e!==t||(this.previouslyActiveEl_=t,this.focus(),this.on(f,"keydown",this.handleKeyDown))},Re.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(f,"keydown",this.handleKeyDown)},Re.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<e.length;i++)if(n===e[i]){r=i;break}f.activeElement===this.el_&&(r=0),t.shiftKey&&0===r?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||r!==e.length-1||(e[0].focus(),t.preventDefault())}},Re.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof d.HTMLAnchorElement||t instanceof d.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof d.HTMLInputElement||t instanceof d.HTMLSelectElement||t instanceof d.HTMLTextAreaElement||t instanceof d.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof d.HTMLIFrameElement||t instanceof d.HTMLObjectElement||t instanceof d.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},Re);function Re(t,e){l(this,Re);e=h(this,Ce.call(this,t,e));return e.opened_=e.hasBeenOpened_=e.hasBeenFilled_=!1,e.closeable(!e.options_.uncloseable),e.content(e.options_.content),e.contentEl_=et("div",{className:ke+"-content"},{role:"document"}),e.descEl_=et("p",{className:ke+"-description vjs-control-text",id:e.el().getAttribute("aria-describedby")}),nt(e.descEl_,e.description()),e.el_.appendChild(e.descEl_),e.el_.appendChild(e.contentEl_),e}Le.prototype.options_={pauseOnOpen:!0,temporary:!0},he.registerComponent("ModalDialog",Le);var Ie,De,Oe=(i(Me,Ie=Jt),Me.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},Me.prototype.removeTrack=function(t){for(var e=void 0,n=0,r=this.length;n<r;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},Me.prototype.getTrackById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e},Me);function Me(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;l(this,Me);var n=h(this,Ie.call(this));if(!e&&(e=n,R))for(var r in e=f.createElement("custom"),Me.prototype)"constructor"!==r&&(e[r]=Me.prototype[r]);e.tracks_=[],Object.defineProperty(e,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<t.length;i++)e.addTrack(t[i]);return h(n,e)}for(De in Oe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Oe.prototype.allowedEvents_)Oe.prototype["on"+De]=null;function Ne(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)}var Be,Fe=(i(je,Be=Oe),je.prototype.addTrack=function(t){var e=this;t.enabled&&Ne(this,t),Be.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){e.changing_||(e.changing_=!0,Ne(e,t),e.changing_=!1,e.trigger("change"))})},je);function je(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];l(this,je);for(var n=void 0,r=e.length-1;0<=r;r--)if(e[r].enabled){Ne(e,e[r]);break}if(R){for(var i in n=f.createElement("custom"),Oe.prototype)"constructor"!==i&&(n[i]=Oe.prototype[i]);for(var o in je.prototype)"constructor"!==o&&(n[o]=je.prototype[o])}return(n=t=h(this,Be.call(this,e,n))).changing_=!1,h(t,n)}function Ge(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)}var Ue,He=(i(Ve,Ue=Oe),Ve.prototype.addTrack=function(t){var e=this;t.selected&&Ge(this,t),Ue.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){e.changing_||(e.changing_=!0,Ge(e,t),e.changing_=!1,e.trigger("change"))})},Ve);function Ve(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];l(this,Ve);for(var n=void 0,r=e.length-1;0<=r;r--)if(e[r].selected){Ge(e,e[r]);break}if(R){for(var i in n=f.createElement("custom"),Oe.prototype)"constructor"!==i&&(n[i]=Oe.prototype[i]);for(var o in Ve.prototype)"constructor"!==o&&(n[o]=Ve.prototype[o])}return(n=t=h(this,Ue.call(this,e,n))).changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),h(t,n)}var We,t=(i(qe,We=Oe),qe.prototype.addTrack=function(t){We.prototype.addTrack.call(this,t),t.addEventListener("modechange",Yt(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",Yt(this,function(){this.trigger("selectedlanguagechange")}))},qe);function qe(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];l(this,qe);var e=void 0;if(R){for(var n in e=f.createElement("custom"),Oe.prototype)"constructor"!==n&&(e[n]=Oe.prototype[n]);for(var r in qe.prototype)"constructor"!==r&&(e[r]=qe.prototype[r])}return t=h(this,We.call(this,t,e)),h(e=t,e)}Ke.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},Ke.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},Ke.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},v=Ke;function Ke(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];l(this,Ke);var e=this;if(R)for(var n in e=f.createElement("custom"),Ke.prototype)"constructor"!==n&&(e[n]=Ke.prototype[n]);e.trackElements_=[],Object.defineProperty(e,"length",{get:function(){return this.trackElements_.length}});for(var r=0,i=t.length;r<i;r++)e.addTrackElement_(t[r]);if(R)return e}var Xe=(ze.prototype.setCues_=function(t){var e=this.length||0,n=0,r=t.length;function i(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})}if(this.cues_=t,this.length_=t.length,e<r)for(n=e;n<r;n++)i.call(this,n)},ze.prototype.getCueById=function(t){for(var e=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===t){e=i;break}}return e},ze);function ze(t){l(this,ze);var e=this;if(R)for(var n in e=f.createElement("custom"),ze.prototype)"constructor"!==n&&(e[n]=ze.prototype[n]);if(ze.prototype.setCues_.call(e,t),Object.defineProperty(e,"length",{get:function(){return this.length_}}),R)return e}var Ye,Qe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Je={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},$e={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ze={disabled:"disabled",hidden:"hidden",showing:"showing"},tn=(i(en,Ye=Jt),en);function en(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,en);var e=h(this,Ye.call(this)),n=e;if(R)for(var r in n=f.createElement("custom"),en.prototype)"constructor"!==r&&(n[r]=en.prototype[r]);var i,o={id:t.id||"vjs_track_"+Pt++,kind:t.kind||"",label:t.label||"",language:t.language||""};for(i in o)!function(t){Object.defineProperty(n,t,{get:function(){return o[t]},set:function(){}})}(i);return h(e,n)}function nn(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=f.createElement("a");n.href=t;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&((i=f.createElement("div")).innerHTML='<a href="'+t+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),f.body.appendChild(i));for(var o={},s=0;s<e.length;s++)o[e[s]]=n[e[s]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=d.location.protocol),r&&f.body.removeChild(i),o}function rn(t){var e;return t.match(/^https?:\/\//)||((e=f.createElement("div")).innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href),t}function on(t){if("string"==typeof t){t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(t)return t.pop().toLowerCase()}return""}function sn(t){var e=d.location,t=nn(t);return(":"===t.protocol?e:t).protocol+t.host!==e.protocol+e.host}function an(t,e){var n=new d.WebVTT.Parser(d,d.vttjs,d.WebVTT.StringDecoder()),r=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){r.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),0<r.length&&(d.console&&d.console.groupCollapsed&&d.console.groupCollapsed("Text Track parsing errors for "+e.src),r.forEach(function(t){return q.error(t)}),d.console&&d.console.groupEnd&&d.console.groupEnd()),n.flush()}var un,m=(Object.freeze||Object)({parseUrl:nn,getAbsoluteURL:rn,getFileExtension:on,isCrossOrigin:sn}),cn=(i(ln,un=tn),ln.prototype.addCue=function(t){var e=t;if(d.vttjs&&!(t instanceof d.vttjs.VTTCue)){for(var n in e=new d.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},ln.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},ln);function ln(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(l(this,ln),!t.tech)throw new Error("A tech was not provided.");var e=le(t,{kind:$e[t.kind]||"subtitles",language:t.language||t.srclang||""}),n=Ze[e.mode]||"disabled",r=e.default;"metadata"!==e.kind&&"chapters"!==e.kind||(n="hidden");var i=t=h(this,un.call(this,e));if(i.tech_=e.tech,R)for(var o in ln.prototype)"constructor"!==o&&(i[o]=ln.prototype[o]);i.cues_=[],i.activeCues_=[];var s=new Xe(i.cues_),a=new Xe(i.activeCues_),u=!1,c=Yt(i,function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==n&&i.tech_.ready(function(){i.tech_.on("timeupdate",c)},!0),Object.defineProperty(i,"default",{get:function(){return r},set:function(){}}),Object.defineProperty(i,"mode",{get:function(){return n},set:function(t){var e=this;Ze[t]&&("disabled"!==(n=t)?this.tech_.ready(function(){e.tech_.on("timeupdate",c)},!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}}),Object.defineProperty(i,"cues",{get:function(){return this.loaded_?s:null},set:function(){}}),Object.defineProperty(i,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var t=this.tech_.currentTime(),e=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=t&&i.endTime>=t||i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t)&&e.push(i)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);return this.activeCues_=e,a.setCues_(this.activeCues_),a},set:function(){}}),e.src?(i.src=e.src,function(t,i){var e={uri:t},t=sn(t);t&&(e.cors=t),g(e,Yt(this,function(t,e,n){return t?q.error(t,e):(i.loaded_=!0,void("function"!=typeof d.WebVTT?i.tech_&&(i.tech_.on("vttjsloaded",r),i.tech_.on("vttjserror",function(){q.error("vttjs failed to load, stopping trying to process "+i.src),i.tech_.off("vttjsloaded",r)})):an(n,i)));function r(){return an(n,i)}}))}(e.src,i)):i.loaded_=!0,h(t,i)}cn.prototype.allowedEvents_={cuechange:"cuechange"};var hn,dn=(i(fn,hn=tn),fn);function fn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,fn);var e=le(t,{kind:Je[t.kind]||""}),n=t=h(this,hn.call(this,e)),r=!1;if(R)for(var i in fn.prototype)"constructor"!==i&&(n[i]=fn.prototype[i]);return Object.defineProperty(n,"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),e.enabled&&(n.enabled=e.enabled),n.loaded_=!0,h(t,n)}var pn,gn=(i(vn,pn=tn),vn);function vn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,vn);var e=le(t,{kind:Qe[t.kind]||""}),n=t=h(this,pn.call(this,e)),r=!1;if(R)for(var i in vn.prototype)"constructor"!==i&&(n[i]=vn.prototype[i]);return Object.defineProperty(n,"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),e.selected&&(n.selected=e.selected),h(t,n)}var mn,yn=(i(bn,mn=Jt),bn);function bn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,bn);var e=h(this,mn.call(this)),n=void 0,r=e;if(R)for(var i in r=f.createElement("custom"),bn.prototype)"constructor"!==i&&(r[i]=bn.prototype[i]);var o=new cn(t);return r.kind=o.kind,r.src=o.src,r.srclang=o.language,r.label=o.label,r.default=o.default,Object.defineProperty(r,"readyState",{get:function(){return n}}),Object.defineProperty(r,"track",{get:function(){return o}}),n=0,o.addEventListener("loadeddata",function(){n=2,r.trigger({type:"load",target:r})}),R?h(e,r):e}yn.prototype.allowedEvents_={load:"load"},yn.NONE=0,yn.LOADING=1,yn.LOADED=2,yn.ERROR=3;var Tn={audio:{ListClass:Fe,TrackClass:dn,capitalName:"Audio"},video:{ListClass:He,TrackClass:gn,capitalName:"Video"},text:{ListClass:t,TrackClass:cn,capitalName:"Text"}};Object.keys(Tn).forEach(function(t){Tn[t].getterName=t+"Tracks",Tn[t].privateName=t+"Tracks_"});var _n={remoteText:{ListClass:t,TrackClass:cn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:v,TrackClass:yn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Sn=le(Tn,_n);_n.names=Object.keys(_n),Tn.names=Object.keys(Tn),Sn.names=[].concat(_n.names).concat(Tn.names);var En,wn=(i(An,En=he),An.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},An.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},An.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},An.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Yt(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),1===(this.bufferedPercent_=t)&&this.stopTrackingProgress()}),500)},An.prototype.onDurationChange=function(t){this.duration_=this.duration()},An.prototype.buffered=function(){return ge(0,0)},An.prototype.bufferedPercent=function(){return ve(this.buffered(),this.duration_)},An.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},An.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},An.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},An.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},An.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},An.prototype.dispose=function(){this.clearTracks(Tn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),En.prototype.dispose.call(this)},An.prototype.clearTracks=function(t){var i=this;(t=[].concat(t)).forEach(function(t){for(var e=i[t+"Tracks"]()||[],n=e.length;n--;){var r=e[n];"text"===t&&i.removeRemoteTextTrack(r),e.removeTrack(r)}})},An.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},An.prototype.reset=function(){},An.prototype.error=function(t){return void 0!==t&&(this.error_=new Ee(t),this.trigger("error")),this.error_},An.prototype.played=function(){return this.hasStarted_?ge(0,0):ge()},An.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},An.prototype.initTrackListeners=function(){var i=this;Tn.names.forEach(function(t){function e(){i.trigger(t+"trackchange")}var n=Tn[t],r=i[n.getterName]();r.addEventListener("removetrack",e),r.addEventListener("addtrack",e),i.on("dispose",function(){r.removeEventListener("removetrack",e),r.removeEventListener("addtrack",e)})})},An.prototype.addWebVttScript_=function(){var t,e=this;d.WebVTT||(f.body.contains(this.el())?!this.options_["vtt.js"]&&V(a)&&0<Object.keys(a).length?this.trigger("vttjsloaded"):((t=f.createElement("script")).src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),d.WebVTT=!0,this.el().parentNode.appendChild(t)):this.ready(this.addWebVttScript_))},An.prototype.emulateTextTracks=function(){function e(t){return r.addTrack(t.track)}function n(t){return r.removeTrack(t.track)}var t=this,r=this.textTracks(),i=this.remoteTextTracks();function o(){return t.trigger("texttrackchange")}function s(){o();for(var t=0;t<r.length;t++){var e=r[t];e.removeEventListener("cuechange",o),"showing"===e.mode&&e.addEventListener("cuechange",o)}}i.on("addtrack",e),i.on("removetrack",n),this.addWebVttScript_(),s(),r.addEventListener("change",s),r.addEventListener("addtrack",s),r.addEventListener("removetrack",s),this.on("dispose",function(){i.off("addtrack",e),i.off("removetrack",n),r.removeEventListener("change",s),r.removeEventListener("addtrack",s),r.removeEventListener("removetrack",s);for(var t=0;t<r.length;t++)r[t].removeEventListener("cuechange",o)})},An.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,r,i){var o=4<arguments.length&&void 0!==i?i:{},s=t.textTracks();o.kind=e,n&&(o.label=n),r&&(o.language=r),o.tech=t;o=new Sn.text.TrackClass(o);return s.addTrack(o),o}(this,t,e,n)},An.prototype.createRemoteTextTrack=function(t){t=le(t,{tech:this});return new _n.remoteTextEl.TrackClass(t)},An.prototype.addRemoteTextTrack=function(t,e){var n=this,r=e,i=this.createRemoteTextTrack(0<arguments.length&&void 0!==t?t:{});return!0!==r&&!1!==r&&(q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==r&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(i.track)}),i},An.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},An.prototype.getVideoPlaybackQuality=function(){return{}},An.prototype.setPoster=function(){},An.prototype.playsinline=function(){},An.prototype.setPlaysinline=function(){},An.prototype.canPlayType=function(){return""},An.canPlayType=function(){return""},An.canPlaySource=function(t,e){return An.canPlayType(t.type)},An.isTech=function(t){return t.prototype instanceof An||t instanceof An||t===An},An.registerTech=function(t,e){if(An.techs_||(An.techs_={}),!An.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!An.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!An.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=ce(t),An.techs_[t]=e,"Tech"!==t&&An.defaultTechOrder_.push(t),e},An.getTech=function(t){if(t)return t=ce(t),An.techs_&&An.techs_[t]?An.techs_[t]:d&&d.videojs&&d.videojs[t]?(q.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),d.videojs[t]):void 0},An);function An(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};l(this,An),e.reportTouchActivity=!1;var n=h(this,En.call(this,null,e,t));return n.hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Sn.names.forEach(function(t){t=Sn[t];e&&e[t.getterName]&&(n[t.privateName]=e[t.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Sn.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}Sn.names.forEach(function(t){var e=Sn[t];wn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),wn.prototype.featuresVolumeControl=!0,wn.prototype.featuresMuteControl=!0,wn.prototype.featuresFullscreenResize=!1,wn.prototype.featuresPlaybackRate=!1,wn.prototype.featuresProgressEvents=!1,wn.prototype.featuresSourceset=!1,wn.prototype.featuresTimeupdateEvents=!1,wn.prototype.featuresNativeTextTracks=!1,wn.withSourceHandlers=function(i){i.registerSourceHandler=function(t,e){var n=(n=i.sourceHandlers)||(i.sourceHandlers=[]);void 0===e&&(e=n.length),n.splice(e,0,t)},i.canPlayType=function(t){for(var e,n=i.sourceHandlers||[],r=0;r<n.length;r++)if(e=n[r].canPlayType(t))return e;return""},i.selectSourceHandler=function(t,e){for(var n=i.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(t,e))return n[r];return null},i.canPlaySource=function(t,e){var n=i.selectSourceHandler(t,e);return n?n.canHandleSource(t,e):""},["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},i.prototype),i.prototype.setSource=function(t){var e=i.selectSourceHandler(t,this.options_);e||(i.nativeSourceHandler?e=i.nativeSourceHandler:q.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),e!==i.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=e.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},i.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},he.registerComponent("Tech",wn),wn.registerTech("Tech",wn),wn.defaultTechOrder_=[];var xn={},Pn={},Cn={};function kn(t,e,n){t.setTimeout(function(){return function n(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2],o=arguments[3],s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],a=5<arguments.length&&void 0!==arguments[5]&&arguments[5],e=t[0],u=t.slice(1);if("string"==typeof e)n(r,xn[e],i,o,s,a);else if(e){var c=function(t,e){var n=Pn[t.id()],r=null;if(null==n)return r=e(t),Pn[t.id()]=[[e,r]],r;for(var i=0;i<n.length;i++){var o=n[i],s=o[0],o=o[1];s===e&&(r=o)}return null===r&&(r=e(t),n.push([e,r])),r}(o,e);if(!c.setSource)return s.push(c),n(r,u,i,o,s,a);c.setSource(U({},r),function(t,e){return t?n(r,u,i,o,s,a):(s.push(c),void n(e,r.type===e.type?u:xn[e.type],i,o,s,a))})}else u.length?n(r,u,i,o,s,a):a?i(r,s):n(r,xn["*"],i,o,s,!0)}(e,xn[e.type],n,t)},1)}function Ln(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:null,o="call"+ce(n),o=t.reduce(On(o),i),i=o===Cn,o=i?null:e[n](o);return function(t,e,n,r){for(var i=t.length-1;0<=i;i--){var o=t[i];o[e]&&o[e](r,n)}}(t,n,o,i),o}var Rn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},In={setCurrentTime:1},Dn={play:1,pause:1};function On(n){return function(t,e){return t===Cn?Cn:e[n]?e[n](t):t}}function Mn(t){var e=on(0<arguments.length&&void 0!==t?t:"");return Nn[e.toLowerCase()]||""}var Nn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"};function Bn(t){var e=Mn(t.src);return!t.type&&e&&(t.type=e),t}var Fn,y=(i(jn,Fn=he),jn);function jn(t,e,n){l(this,jn);var r=le({createEl:!1},e),n=h(this,Fn.call(this,t,r,n));if(e.playerOptions.sources&&0!==e.playerOptions.sources.length)t.src(e.playerOptions.sources);else for(var i=0,o=e.playerOptions.techOrder;i<o.length;i++){var s=ce(o[i]),a=wn.getTech(s);if((a=!s?he.getComponent(s):a)&&a.isSupported()){t.loadTech_(s);break}}return n}he.registerComponent("MediaLoader",y);var Gn,T=(i(Un,Gn=he),Un.prototype.createEl=function(t,e,n){var r=0<arguments.length&&void 0!==t?t:"div",i=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length&&void 0!==n?n:{},i=U({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i);"button"===r&&q.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),o=U({role:"button"},o),this.tabIndex_=i.tabIndex;o=Gn.prototype.createEl.call(this,r,i,o);return this.createControlTextEl(o),o},Un.prototype.dispose=function(){this.controlTextEl_=null,Gn.prototype.dispose.call(this)},Un.prototype.createControlTextEl=function(t){return this.controlTextEl_=et("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},Un.prototype.controlText=function(t,e){var n=1<arguments.length&&void 0!==e?e:this.el();if(void 0===t)return this.controlText_||"Need Text";var r=this.localize(t);this.controlText_=t,nt(this.controlTextEl_,r),this.nonIconControl||n.setAttribute("title",r)},Un.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+Gn.prototype.buildCSSClass.call(this)},Un.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},Un.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},Un.prototype.handleClick=function(t){},Un.prototype.handleFocus=function(t){Ft(f,"keydown",Yt(this,this.handleKeyPress))},Un.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):Gn.prototype.handleKeyPress&&Gn.prototype.handleKeyPress.call(this,t)},Un.prototype.handleBlur=function(t){jt(f,"keydown",Yt(this,this.handleKeyPress))},Un);function Un(t,e){l(this,Un);e=h(this,Gn.call(this,t,e));return e.emitTapEvents(),e.enable(),e}he.registerComponent("ClickableComponent",T);var Hn,S=(i(Vn,Hn=T),Vn.prototype.dispose=function(){this.player().off("posterchange",this.update),Hn.prototype.dispose.call(this)},Vn.prototype.createEl=function(){var t=et("div",{className:"vjs-poster",tabIndex:-1});return N||(this.fallbackImg_=et("img"),t.appendChild(this.fallbackImg_)),t},Vn.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},Vn.prototype.setSrc=function(t){this.fallbackImg_?this.fallbackImg_.src=t:this.el_.style.backgroundImage=t?'url("'+t+'")':""},Vn.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?xe(this.player_.play()):this.player_.pause())},Vn);function Vn(t,e){l(this,Vn);e=h(this,Hn.call(this,t,e));return e.update(),t.on("posterchange",Yt(e,e.update)),e}he.registerComponent("PosterImage",S);var Wn="#222",qn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Kn(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Xn(t,e,n){try{t.style[e]=n}catch(t){return}}var zn,C=(i(Yn,zn=he),Yn.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,s=0;s<e.length;s++){var a=e[s];n&&n.enabled&&n.language===a.language?o=a.kind!==n.kind&&o||a:n&&!n.enabled?i=r=o=null:a.default&&("descriptions"!==a.kind||r?a.kind in t&&!i&&(i=a):r=a)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},Yn.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},Yn.prototype.createEl=function(){return zn.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},Yn.prototype.clearDisplay=function(){"function"==typeof d.WebVTT&&d.WebVTT.processCues(d,[],this.el_)},Yn.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,r=t.length;r--;){var i=t[r];"showing"===i.mode&&("descriptions"===i.kind?e=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},Yn.prototype.updateForTrack=function(t){if("function"==typeof d.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(d.WebVTT.processCues(d,e,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),i=e.length;i--;){var o,s=e[i];s&&(o=s.displayState,r.color&&(o.firstChild.style.color=r.color),r.textOpacity&&Xn(o.firstChild,"color",Kn(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(o.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Xn(o.firstChild,"backgroundColor",Kn(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Xn(o,"backgroundColor",Kn(r.windowColor,r.windowOpacity)):o.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Wn:"raised"===r.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Wn:"depressed"===r.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Wn:"uniform"===r.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Wn)),r.fontPercent&&1!==r.fontPercent&&(s=d.parseFloat(o.style.fontSize),o.style.fontSize=s*r.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"),r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=qn[r.fontFamily]))}}},Yn);function Yn(n,t,e){l(this,Yn);var e=h(this,zn.call(this,n,t,e)),r=Yt(e,e.updateDisplay);return n.on("loadstart",Yt(e,e.toggleDisplay)),n.on("texttrackchange",r),n.on("loadstart",Yt(e,e.preselectTrack)),n.ready(Yt(e,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",r),n.on("playerresize",r),d.addEventListener&&d.addEventListener("orientationchange",r),n.on("dispose",function(){return d.removeEventListener("orientationchange",r)});for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}})),e}he.registerComponent("TextTrackDisplay",C);var Qn,D=(i(Jn,Qn=he),Jn.prototype.createEl=function(){var t=this.player_.isAudio(),e=this.localize(t?"Audio Player":"Video Player"),t=et("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[e])}),e=Qn.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return e.appendChild(t),e},Jn);function Jn(){return l(this,Jn),h(this,Qn.apply(this,arguments))}he.registerComponent("LoadingSpinner",D);var $n,Zn=(i(tr,$n=T),tr.prototype.createEl=function(t,e,n){var r=1<arguments.length&&void 0!==e?e:{},i=2<arguments.length&&void 0!==n?n:{};t="button";r=U({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},r),i=U({type:"button"},i),i=he.prototype.createEl.call(this,"button",r,i);return this.createControlTextEl(i),i},tr.prototype.addChild=function(t,e){var n=1<arguments.length&&void 0!==e?e:{},r=this.constructor.name;return q.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),he.prototype.addChild.call(this,t,n)},tr.prototype.enable=function(){$n.prototype.enable.call(this),this.el_.removeAttribute("disabled")},tr.prototype.disable=function(){$n.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},tr.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&$n.prototype.handleKeyPress.call(this,t)},tr);function tr(){return l(this,tr),h(this,$n.apply(this,arguments))}he.registerComponent("Button",Zn);var er,tn=(i(nr,er=Zn),nr.prototype.buildCSSClass=function(){return"vjs-big-play-button"},nr.prototype.handleClick=function(t){var e,n=this.player_.play();function r(){return e.focus()}this.mouseused_&&t.clientX&&t.clientY?xe(n):(t=this.player_.getChild("controlBar"),(e=t&&t.getChild("playToggle"))?Ae(n)?n.then(r,function(){}):this.setTimeout(r,1):this.player_.focus())},nr.prototype.handleKeyPress=function(t){this.mouseused_=!1,er.prototype.handleKeyPress.call(this,t)},nr.prototype.handleMouseDown=function(t){this.mouseused_=!0},nr);function nr(t,e){l(this,nr);e=h(this,er.call(this,t,e));return e.mouseused_=!1,e.on("mousedown",e.handleMouseDown),e}tn.prototype.controlText_="Play Video",he.registerComponent("BigPlayButton",tn);var rr,Fe=(i(ir,rr=Zn),ir.prototype.buildCSSClass=function(){return"vjs-close-button "+rr.prototype.buildCSSClass.call(this)},ir.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},ir);function ir(t,e){l(this,ir);t=h(this,rr.call(this,t,e));return t.controlText(e&&e.controlText||t.localize("Close")),t}he.registerComponent("CloseButton",Fe);var or,He=(i(sr,or=Zn),sr.prototype.buildCSSClass=function(){return"vjs-play-control "+or.prototype.buildCSSClass.call(this)},sr.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},sr.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},sr.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},sr.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},sr.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},sr);function sr(t,e){l(this,sr);e=h(this,or.call(this,t,e));return e.on(t,"play",e.handlePlay),e.on(t,"pause",e.handlePause),e.on(t,"ended",e.handleEnded),e}function ar(t,e){t=t<0?0:t;var n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60),e=Math.floor(e/3600);return(i=0<(i=isNaN(t)||t===1/0?r=n="-":i)||0<e?i+":":"")+(r=((i||10<=o)&&r<10?"0"+r:r)+":")+(n<10?"0"+n:n)}He.prototype.controlText_="Play",he.registerComponent("PlayToggle",He);var ur=ar;function cr(t){return ur(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t)}var lr,t=(i(hr,lr=he),hr.prototype.createEl=function(t){var e=this.buildCSSClass(),n=lr.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=et("span",{className:e+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},hr.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,lr.prototype.dispose.call(this)},hr.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=f.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},hr.prototype.formatTime_=function(t){return cr(t)},hr.prototype.updateFormattedTime_=function(t){t=this.formatTime_(t);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},hr.prototype.updateContent=function(t){},hr);function hr(t,e){l(this,hr);e=h(this,lr.call(this,t,e));return e.throttledUpdateContent=Qt(Yt(e,e.updateContent),25),e.on(t,"timeupdate",e.throttledUpdateContent),e}t.prototype.labelText_="Time",t.prototype.controlText_="Time",he.registerComponent("TimeDisplay",t);var dr,v=(i(fr,dr=t),fr.prototype.buildCSSClass=function(){return"vjs-current-time"},fr.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},fr.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},fr);function fr(t,e){l(this,fr);e=h(this,dr.call(this,t,e));return e.on(t,"ended",e.handleEnded),e}v.prototype.labelText_="Current Time",v.prototype.controlText_="Current Time",he.registerComponent("CurrentTimeDisplay",v);var pr,yn=(i(gr,pr=t),gr.prototype.buildCSSClass=function(){return"vjs-duration"},gr.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},gr);function gr(t,e){l(this,gr);e=h(this,pr.call(this,t,e));return e.on(t,"durationchange",e.updateContent),e.on(t,"loadedmetadata",e.throttledUpdateContent),e}yn.prototype.labelText_="Duration",yn.prototype.controlText_="Duration",he.registerComponent("DurationDisplay",yn);var vr,y=(i(mr,vr=he),mr.prototype.createEl=function(){return vr.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},mr);function mr(){return l(this,mr),h(this,vr.apply(this,arguments))}he.registerComponent("TimeDivider",y);var yr,S=(i(br,yr=t),br.prototype.buildCSSClass=function(){return"vjs-remaining-time"},br.prototype.formatTime_=function(t){return"-"+yr.prototype.formatTime_.call(this,t)},br.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},br.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},br);function br(t,e){l(this,br);e=h(this,yr.call(this,t,e));return e.on(t,"durationchange",e.throttledUpdateContent),e.on(t,"ended",e.handleEnded),e}S.prototype.labelText_="Remaining Time",S.prototype.controlText_="Remaining Time",he.registerComponent("RemainingTimeDisplay",S);var Tr,C=(i(_r,Tr=he),_r.prototype.createEl=function(){var t=Tr.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=et("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},_r.prototype.dispose=function(){this.contentEl_=null,Tr.prototype.dispose.call(this)},_r.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},_r);function _r(t,e){l(this,_r);e=h(this,Tr.call(this,t,e));return e.updateShowing(),e.on(e.player(),"durationchange",e.updateShowing),e}he.registerComponent("LiveDisplay",C);var Sr,D=(i(Er,Sr=he),Er.prototype.enabled=function(){return this.enabled_},Er.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},Er.prototype.disable=function(){var t;this.enabled()&&(t=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)},Er.prototype.createEl=function(t,e,n){var r=1<arguments.length&&void 0!==e?e:{},i=2<arguments.length&&void 0!==n?n:{};return r.className=r.className+" vjs-slider",r=U({tabIndex:0},r),i=U({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),Sr.prototype.createEl.call(this,t,r,i)},Er.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||k||t.preventDefault(),ft(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},Er.prototype.handleMouseMove=function(t){},Er.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;pt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},Er.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){var n=(100*(t="number"!=typeof t||t!=t||t<0||t===1/0?0:t)).toFixed(2)+"%",e=e.el().style;return this.vertical()?e.height=n:e.width=n,t}}},Er.prototype.calculateDistance=function(t){t=mt(this.el_,t);return this.vertical()?t.y:t.x},Er.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Er.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},Er.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},Er.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},Er.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},Er);function Er(t,e){l(this,Er);e=h(this,Sr.call(this,t,e));return e.bar=e.getChild(e.options_.barName),e.vertical(!!e.options_.vertical),e.enable(),e}he.registerComponent("Slider",D);var wr,tn=(i(Ar,wr=he),Ar.prototype.createEl=function(){return wr.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},Ar.prototype.dispose=function(){this.partEls_=null,wr.prototype.dispose.call(this)},Ar.prototype.update=function(t){function e(t,e){e=t/e||0;return 100*(1<=e?1:e)+"%"}var n=this.player_.buffered(),r=this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_;this.el_.style.width=e(i,r);for(var s=0;s<n.length;s++){var a=n.start(s),u=n.end(s),c=o[s];c||(c=this.el_.appendChild(et()),o[s]=c),c.style.left=e(a,i),c.style.width=e(u-a,i)}for(var l=o.length;l>n.length;l--)this.el_.removeChild(o[l-1]);o.length=n.length},Ar);function Ar(t,e){l(this,Ar);e=h(this,wr.call(this,t,e));return e.partEls_=[],e.on(t,"progress",e.update),e}he.registerComponent("LoadProgressBar",tn);var xr,Fe=(i(Pr,xr=he),Pr.prototype.createEl=function(){return xr.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},Pr.prototype.update=function(t,e,n){var r=gt(this.el_),i=gt(this.player_.el()),o=t.width*e;i&&r&&(e=t.left-i.left+o,i=t.width-o+(i.right-t.right),e<(t=r.width/2)?t+=t-e:i<t&&(t=i),t<0?t=0:t>r.width&&(t=r.width),this.el_.style.right="-"+t+"px",nt(this.el_,n))},Pr);function Pr(){return l(this,Pr),h(this,xr.apply(this,arguments))}he.registerComponent("TimeTooltip",Fe);var Cr,He=(i(kr,Cr=he),kr.prototype.createEl=function(){return Cr.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},kr.prototype.update=function(n,r){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=cr(i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),i.player_.duration()),e=i.getChild("timeTooltip");e&&e.update(n,r,t)})},kr);function kr(){return l(this,kr),h(this,Cr.apply(this,arguments))}He.prototype.options_={children:[]},I&&!(8<I)||_||E||He.prototype.options_.children.push("timeTooltip"),he.registerComponent("PlayProgressBar",He);var Lr,v=(i(Rr,Lr=he),Rr.prototype.createEl=function(){return Lr.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},Rr.prototype.update=function(e,n){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var t=r.player_.duration(),t=cr(n*t,t);r.el_.style.left=e.width*n+"px",r.getChild("timeTooltip").update(e,n,t)})},Rr);function Rr(t,e){l(this,Rr);e=h(this,Lr.call(this,t,e));return e.update=Qt(Yt(e,e.update),25),e}v.prototype.options_={children:["timeTooltip"]},he.registerComponent("MouseTimeDisplay",v);var Ir,yn=(i(Dr,Ir=D),Dr.prototype.setEventHandlers_=function(){var t=this;this.update=Qt(Yt(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},Dr.prototype.createEl=function(){return Ir.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},Dr.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[cr(t,n),cr(n,n)],"{1} of {2}")),this.bar.update(gt(this.el_),e)},Dr.prototype.update=function(t){var e=Ir.prototype.update.call(this);return this.update_(this.getCurrentTime_(),e),e},Dr.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},Dr.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},Dr.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return 1<=t?1:t},Dr.prototype.handleMouseDown=function(t){Et(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),Ir.prototype.handleMouseDown.call(this,t))},Dr.prototype.handleMouseMove=function(t){Et(t)&&((t=this.calculateDistance(t)*this.player_.duration())===this.player_.duration()&&(t-=.1),this.player_.currentTime(t))},Dr.prototype.enable=function(){Ir.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},Dr.prototype.disable=function(){Ir.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},Dr.prototype.handleMouseUp=function(t){Ir.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&xe(this.player_.play())},Dr.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},Dr.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},Dr.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},Dr.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):Ir.prototype.handleKeyPress&&Ir.prototype.handleKeyPress.call(this,t)},Dr);function Dr(t,e){l(this,Dr);e=h(this,Ir.call(this,t,e));return e.setEventHandlers_(),e}yn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},I&&!(8<I)||_||E||yn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),yn.prototype.playerEvent="timeupdate",he.registerComponent("SeekBar",yn);var Or,y=(i(Mr,Or=he),Mr.prototype.createEl=function(){return Or.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},Mr.prototype.handleMouseMove=function(t){var e,n,r=this.getChild("seekBar");r&&(e=r.getChild("mouseTimeDisplay"),r=gt(n=r.el()),1<(t=mt(n,t).x)?t=1:t<0&&(t=0),e&&e.update(r,t))},Mr.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},Mr.prototype.enabled=function(){return this.enabled_},Mr.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},Mr.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},Mr.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Mr.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},Mr);function Mr(t,e){l(this,Mr);e=h(this,Or.call(this,t,e));return e.handleMouseMove=Qt(Yt(e,e.handleMouseMove),25),e.throttledHandleMouseSeek=Qt(Yt(e,e.handleMouseSeek),25),e.enable(),e}y.prototype.options_={children:["seekBar"]},he.registerComponent("ProgressControl",y);var Nr,t=(i(Br,Nr=Zn),Br.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+Nr.prototype.buildCSSClass.call(this)},Br.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},Br.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},Br);function Br(t,e){l(this,Br);e=h(this,Nr.call(this,t,e));return e.on(t,"fullscreenchange",e.handleFullscreenChange),!1===f[me.fullscreenEnabled]&&e.disable(),e}t.prototype.controlText_="Fullscreen",he.registerComponent("FullscreenToggle",t);var Fr,S=(i(jr,Fr=he),jr.prototype.createEl=function(){return Fr.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},jr);function jr(){return l(this,jr),h(this,Fr.apply(this,arguments))}he.registerComponent("VolumeLevel",S);var Gr,C=(i(Ur,Gr=D),Ur.prototype.createEl=function(){return Gr.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},Ur.prototype.handleMouseDown=function(t){Et(t)&&Gr.prototype.handleMouseDown.call(this,t)},Ur.prototype.handleMouseMove=function(t){Et(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},Ur.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},Ur.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},Ur.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},Ur.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},Ur.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},Ur.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},Ur.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},Ur);function Ur(t,e){l(this,Ur);var n=h(this,Gr.call(this,t,e));return n.on("slideractive",n.updateLastVolume_),n.on(t,"volumechange",n.updateARIAAttributes),t.ready(function(){return n.updateARIAAttributes()}),n}C.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},C.prototype.playerEvent="volumechange",he.registerComponent("VolumeBar",C);var Hr,tn=(i(Vr,Hr=he),Vr.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),Hr.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},Vr.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},Vr.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},Vr.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},Vr);function Vr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,Vr),e.vertical=e.vertical||!1,void 0!==e.volumeBar&&!V(e.volumeBar)||(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical);var n,r,i=h(this,Hr.call(this,t,e));return n=i,(r=t).tech_&&!r.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(r,"loadstart",function(){r.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")}),i.throttledHandleMouseMove=Qt(Yt(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}tn.prototype.options_={children:["volumeBar"]},he.registerComponent("VolumeControl",tn);var Wr,Fe=(i(qr,Wr=Zn),qr.prototype.buildCSSClass=function(){return"vjs-mute-control "+Wr.prototype.buildCSSClass.call(this)},qr.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();0===e?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},qr.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},qr.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)st(this.el_,"vjs-vol-"+n);ot(this.el_,"vjs-vol-"+e)},qr.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},qr);function qr(t,e){l(this,qr);var n,r,e=h(this,Wr.call(this,t,e));return n=e,(r=t).tech_&&!r.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(r,"loadstart",function(){r.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")}),e.on(t,["loadstart","volumechange"],e.update),e}Fe.prototype.controlText_="Mute",he.registerComponent("MuteToggle",Fe);var Kr,He=(i(Xr,Kr=he),Xr.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},Xr.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},Xr.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},Xr.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),Kr.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},Xr);function Xr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,Xr),void 0!==e.inline?e.inline=e.inline:e.inline=!0,void 0!==e.volumeControl&&!V(e.volumeControl)||(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline);e=h(this,Kr.call(this,t,e));return e.on(t,["loadstart"],e.volumePanelState_),e.on(e.volumeControl,["slideractive"],e.sliderActive_),e.on(e.volumeControl,["sliderinactive"],e.sliderInactive_),e}He.prototype.options_={children:["muteToggle","volumeControl"]},he.registerComponent("VolumePanel",He);var zr,Yr=(i(Qr,zr=he),Qr.prototype.addItem=function(e){this.addChild(e),e.on("click",Yt(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},Qr.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=et(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");t=zr.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Ft(t,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),t},Qr.prototype.dispose=function(){this.contentEl_=null,zr.prototype.dispose.call(this)},Qr.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},Qr.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},Qr.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},Qr.prototype.focus=function(t){var e=0<arguments.length&&void 0!==t?t:0,n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift(),0<n.length&&(e<0?e=0:e>=n.length&&(e=n.length-1),n[this.focusedChild_=e].el_.focus())},Qr);function Qr(t,e){l(this,Qr);t=h(this,zr.call(this,t,e));return e&&(t.menuButton_=e.menuButton),t.focusedChild_=-1,t.on("keydown",t.handleKeyPress),t}he.registerComponent("Menu",Yr);var Jr,v=(i($r,Jr=he),$r.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},$r.prototype.createMenu=function(){var t,e=new Yr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(t=et("li",{className:"vjs-menu-title",innerHTML:ce(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,e.children_.unshift(t),rt(t,e.contentEl())),this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},$r.prototype.createItems=function(){},$r.prototype.createEl=function(){return Jr.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},$r.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Zn.prototype.buildCSSClass()+" "+Jr.prototype.buildCSSClass.call(this)},$r.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+Jr.prototype.buildCSSClass.call(this)},$r.prototype.controlText=function(t,e){var n=1<arguments.length&&void 0!==e?e:this.menuButton_.el();return this.menuButton_.controlText(t,n)},$r.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",Yt(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},$r.prototype.focus=function(){this.menuButton_.focus()},$r.prototype.blur=function(){this.menuButton_.blur()},$r.prototype.handleFocus=function(){Ft(f,"keydown",Yt(this,this.handleKeyPress))},$r.prototype.handleBlur=function(){jt(f,"keydown",Yt(this,this.handleKeyPress))},$r.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},$r.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},$r.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),_&&Z()||this.menu.focus())},$r.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},$r.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},$r.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},$r);function $r(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,$r);var n=h(this,Jr.call(this,t,e));n.menuButton_=new Zn(t,e),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");e=Zn.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+e,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on("keydown",n.handleSubmenuKeyPress),n}he.registerComponent("MenuButton",v);var Zr,yn=(i(ti,Zr=v),ti);function ti(t,e){l(this,ti);var n=e.tracks,e=h(this,Zr.call(this,t,e));if(e.items.length<=1&&e.hide(),!n)return h(e);var r=Yt(e,e.update);return n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),e.player_.on("ready",r),e.player_.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)}),e}he.registerComponent("TrackButton",yn);var ei,y=(i(ni,ei=T),ni.prototype.createEl=function(t,e,n){return this.nonIconControl=!0,ei.prototype.createEl.call(this,"li",U({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},e),n)},ni.prototype.handleClick=function(t){this.selected(!0)},ni.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},ni);function ni(t,e){l(this,ni);t=h(this,ei.call(this,t,e));return t.selectable=e.selectable,t.isSelected_=e.selected||!1,t.multiSelectable=e.multiSelectable,t.selected(t.isSelected_),t.selectable?t.multiSelectable?t.el_.setAttribute("role","menuitemcheckbox"):t.el_.setAttribute("role","menuitemradio"):t.el_.setAttribute("role","menuitem"),t}he.registerComponent("MenuItem",y);var ri,ii=(i(oi,ri=y),oi.prototype.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,r=this.player_.textTracks(),n=n||[e];if(ri.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o===this.track&&-1<n.indexOf(o.kind)?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},oi.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},oi.prototype.handleSelectedLanguageChange=function(t){var e;"showing"===this.track.mode&&((e=this.player_.cache_.selectedLanguage)&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}))},oi.prototype.dispose=function(){this.track=null,ri.prototype.dispose.call(this)},oi);function oi(t,e){l(this,oi);var n=e.track,r=t.textTracks();e.label=n.label||n.language||"Unknown",e.selected="showing"===n.mode;var i,o=h(this,ri.call(this,t,e));function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(o,e)}function a(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,e)}return o.track=n,t.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),o.on("dispose",function(){t.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),void 0===r.onchange&&(i=void 0,o.on(["tap","click"],function(){if("object"!==F(d.Event))try{i=new d.Event("change")}catch(t){}i||(i=f.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(i)})),o.handleTracksChange(),o}he.registerComponent("TextTrackMenuItem",ii);var si,ai=(i(ui,si=ii),ui.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(-1<this.options_.kinds.indexOf(o.kind)&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},ui.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,r=0,i=e.length;r<i;r++){var o=e[r];if(-1<["captions","descriptions","subtitles"].indexOf(o.kind)&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},ui);function ui(t,e){return l(this,ui),e.track={player:t,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.label?e.track.label=e.label:e.track.label=e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,h(this,si.call(this,t,e))}he.registerComponent("OffTextTrackMenuItem",ai);var ci,t=(i(li,ci=yn),li.prototype.createItems=function(t,e){var n=0<arguments.length&&void 0!==t?t:[],r=1<arguments.length&&void 0!==e?e:ii,i=void 0;this.label_&&(i=this.label_+" off"),n.push(new ai(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var s=0;s<o.length;s++){var a,u=o[s];-1<this.kinds_.indexOf(u.kind)&&((a=new r(this.player_,{track:u,selectable:!0,multiSelectable:!1})).addClass("vjs-"+u.kind+"-menu-item"),n.push(a))}return n},li);function li(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return l(this,li),e.tracks=t.textTracks(),h(this,ci.call(this,t,e))}he.registerComponent("TextTrackButton",t);var hi,di=(i(fi,hi=y),fi.prototype.handleClick=function(t){hi.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},fi.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},fi);function fi(t,e){l(this,fi);var n=e.track,r=e.cue,i=t.currentTime();e.selectable=!0,e.multiSelectable=!1,e.label=r.text,e.selected=r.startTime<=i&&i<r.endTime;e=h(this,hi.call(this,t,e));return e.track=n,e.cue=r,n.addEventListener("cuechange",Yt(e,e.update)),e}he.registerComponent("ChaptersTrackMenuItem",di);var pi,S=(i(gi,pi=t),gi.prototype.buildCSSClass=function(){return"vjs-chapters-button "+pi.prototype.buildCSSClass.call(this)},gi.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+pi.prototype.buildWrapperCSSClass.call(this)},gi.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),pi.prototype.update.call(this)},gi.prototype.setTrack=function(t){var e;this.track_!==t&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&e.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=t,this.track_&&(this.track_.mode="hidden",(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.addEventListener("load",this.updateHandler_)))},gi.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;0<=e;e--){var n=t[e];if(n.kind===this.kind_)return n}},gi.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ce(this.kind_))},gi.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),pi.prototype.createMenu.call(this)},gi.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,r=e.length;n<r;n++){var i=e[n],i=new di(this.player_,{track:this.track_,cue:i});t.push(i)}return t},gi);function gi(t,e,n){return l(this,gi),h(this,pi.call(this,t,e,n))}S.prototype.kind_="chapters",S.prototype.controlText_="Chapters",he.registerComponent("ChaptersButton",S);var vi,D=(i(mi,vi=t),mi.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,r=0,i=e.length;r<i;r++){var o=e[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},mi.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+vi.prototype.buildCSSClass.call(this)},mi.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+vi.prototype.buildWrapperCSSClass.call(this)},mi);function mi(t,e,n){l(this,mi);var n=h(this,vi.call(this,t,e,n)),r=t.textTracks(),i=Yt(n,n.handleTracksChange);return r.addEventListener("change",i),n.on("dispose",function(){r.removeEventListener("change",i)}),n}D.prototype.kind_="descriptions",D.prototype.controlText_="Descriptions",he.registerComponent("DescriptionsButton",D);var yi,C=(i(bi,yi=t),bi.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+yi.prototype.buildCSSClass.call(this)},bi.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+yi.prototype.buildWrapperCSSClass.call(this)},bi);function bi(t,e,n){return l(this,bi),h(this,yi.call(this,t,e,n))}C.prototype.kind_="subtitles",C.prototype.controlText_="Subtitles",he.registerComponent("SubtitlesButton",C);var Ti,_i=(i(Si,Ti=ii),Si.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},Si);function Si(t,e){l(this,Si),e.track={player:t,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem";t=h(this,Ti.call(this,t,e));return t.addClass("vjs-texttrack-settings"),t.controlText(", opens "+e.kind+" settings dialog"),t}he.registerComponent("CaptionSettingsMenuItem",_i);var Ei,tn=(i(wi,Ei=t),wi.prototype.buildCSSClass=function(){return"vjs-captions-button "+Ei.prototype.buildCSSClass.call(this)},wi.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+Ei.prototype.buildWrapperCSSClass.call(this)},wi.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new _i(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),Ei.prototype.createItems.call(this,t)},wi);function wi(t,e,n){return l(this,wi),h(this,Ei.call(this,t,e,n))}tn.prototype.kind_="captions",tn.prototype.controlText_="Captions",he.registerComponent("CaptionsButton",tn);var Ai,xi=(i(Pi,Ai=ii),Pi.prototype.createEl=function(t,e,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),Ai.prototype.createEl.call(this,t,U({innerHTML:r+="</span>"},e),n)},Pi);function Pi(){return l(this,Pi),h(this,Ai.apply(this,arguments))}he.registerComponent("SubsCapsMenuItem",xi);var Ci,Fe=(i(ki,Ci=t),ki.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+Ci.prototype.buildCSSClass.call(this)},ki.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+Ci.prototype.buildWrapperCSSClass.call(this)},ki.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new _i(this.player_,{kind:this.label_})),this.hideThreshold_+=1),Ci.prototype.createItems.call(this,t,xi)},ki);function ki(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,ki);e=h(this,Ci.call(this,t,e));return e.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(e.player_.language_)&&(e.label_="captions"),e.menuButton_.controlText(ce(e.label_)),e}Fe.prototype.kinds_=["captions","subtitles"],Fe.prototype.controlText_="Subtitles",he.registerComponent("SubsCapsButton",Fe);var Li,Ri=(i(Ii,Li=y),Ii.prototype.createEl=function(t,e,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),Li.prototype.createEl.call(this,t,U({innerHTML:r+="</span>"},e),n)},Ii.prototype.handleClick=function(t){var e=this.player_.audioTracks();Li.prototype.handleClick.call(this,t);for(var n=0;n<e.length;n++){var r=e[n];r.enabled=r===this.track}},Ii.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},Ii);function Ii(t,e){l(this,Ii);var n=e.track,r=t.audioTracks();e.label=n.label||n.language||"Unknown",e.selected=n.enabled;var i=h(this,Li.call(this,t,e));function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(i,e)}return i.track=n,i.addClass("vjs-"+n.kind+"-menu-item"),r.addEventListener("change",o),i.on("dispose",function(){r.removeEventListener("change",o)}),i}he.registerComponent("AudioTrackMenuItem",Ri);var Di,He=(i(Oi,Di=yn),Oi.prototype.buildCSSClass=function(){return"vjs-audio-button "+Di.prototype.buildCSSClass.call(this)},Oi.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+Di.prototype.buildWrapperCSSClass.call(this)},Oi.prototype.createItems=function(t){var e=0<arguments.length&&void 0!==t?t:[];this.hideThreshold_=1;for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var i=n[r];e.push(new Ri(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e},Oi);function Oi(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return l(this,Oi),e.tracks=t.audioTracks(),h(this,Di.call(this,t,e))}He.prototype.controlText_="Audio Track",he.registerComponent("AudioTrackButton",He);var Mi,Ni=(i(Bi,Mi=y),Bi.prototype.handleClick=function(t){Mi.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},Bi.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},Bi);function Bi(t,e){l(this,Bi);var n=e.rate,r=parseFloat(n,10);e.label=n,e.selected=1===r,e.selectable=!0,e.multiSelectable=!1;e=h(this,Mi.call(this,t,e));return e.label=n,e.rate=r,e.on(t,"ratechange",e.update),e}Ni.prototype.contentElType="button",he.registerComponent("PlaybackRateMenuItem",Ni);var Fi,T=(i(ji,Fi=v),ji.prototype.createEl=function(){var t=Fi.prototype.createEl.call(this);return this.labelEl_=et("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},ji.prototype.dispose=function(){this.labelEl_=null,Fi.prototype.dispose.call(this)},ji.prototype.buildCSSClass=function(){return"vjs-playback-rate "+Fi.prototype.buildCSSClass.call(this)},ji.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+Fi.prototype.buildWrapperCSSClass.call(this)},ji.prototype.createMenu=function(){var t=new Yr(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;0<=n;n--)t.addChild(new Ni(this.player(),{rate:e[n]+"x"}));return t},ji.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},ji.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>e){r=n[i];break}this.player().playbackRate(r)},ji.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},ji.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},ji.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},ji.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},ji);function ji(t,e){l(this,ji);e=h(this,Fi.call(this,t,e));return e.updateVisibility(),e.updateLabel(),e.on(t,"loadstart",e.updateVisibility),e.on(t,"ratechange",e.updateLabel),e}T.prototype.controlText_="Playback Rate",he.registerComponent("PlaybackRateMenuButton",T);var Gi,S=(i(Ui,Gi=he),Ui.prototype.buildCSSClass=function(){return"vjs-spacer "+Gi.prototype.buildCSSClass.call(this)},Ui.prototype.createEl=function(){return Gi.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},Ui);function Ui(){return l(this,Ui),h(this,Gi.apply(this,arguments))}he.registerComponent("Spacer",S);var Hi,D=(i(Vi,Hi=S),Vi.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+Hi.prototype.buildCSSClass.call(this)},Vi.prototype.createEl=function(){var t=Hi.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},Vi);function Vi(){return l(this,Vi),h(this,Hi.apply(this,arguments))}he.registerComponent("CustomControlSpacer",D);var Wi,C=(i(qi,Wi=he),qi.prototype.createEl=function(){return Wi.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},qi);function qi(){return l(this,qi),h(this,Wi.apply(this,arguments))}C.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},he.registerComponent("ControlBar",C);var Ki,tn=(i(Xi,Ki=Le),Xi.prototype.buildCSSClass=function(){return"vjs-error-display "+Ki.prototype.buildCSSClass.call(this)},Xi.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},Xi);function Xi(t,e){l(this,Xi);e=h(this,Ki.call(this,t,e));return e.on(t,"error",e.open),e}tn.prototype.options_=le(Le.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),he.registerComponent("ErrorDisplay",tn);var zi="vjs-text-track-settings",t=["#000","Black"],Fe=["#00F","Blue"],yn=["#0FF","Cyan"],He=["#0F0","Green"],y=["#F0F","Magenta"],v=["#F00","Red"],T=["#FFF","White"],S=["#FF0","Yellow"],D=["1","Opaque"],C=["0.5","Semi-Transparent"],tn=["0","Transparent"],Yi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[t,T,v,He,Fe,S,y,yn]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[D,C,tn]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[T,t,v,He,Fe,S,y,yn]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[D,C]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[tn,C,D]}};function Qi(t,e){if((t=e?e(t):t)&&"none"!==t)return t}Yi.windowColor.options=Yi.backgroundColor.options;var Ji,D=(i($i,Ji=Le),$i.prototype.dispose=function(){this.endDialog=null,Ji.prototype.dispose.call(this)},$i.prototype.createElSelect_=function(t,e,n){var r=this,i=1<arguments.length&&void 0!==e?e:"",o=2<arguments.length&&void 0!==n?n:"label",s=Yi[t],a=s.id.replace("%s",this.id_),u=[i,a].join(" ").trim();return["<"+o+' id="'+a+'" class="'+("label"===o?"vjs-label":"")+'">',this.localize(s.label),"</"+o+">",'<select aria-labelledby="'+u+'">'].concat(s.options.map(function(t){var e=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+u+" "+e+'">',r.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},$i.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},$i.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},$i.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},$i.prototype.createElColors_=function(){return et("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},$i.prototype.createElFont_=function(){return et("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},$i.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return et("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},$i.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},$i.prototype.label=function(){return this.localize("Caption Settings Dialog")},$i.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},$i.prototype.buildCSSClass=function(){return Ji.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},$i.prototype.getValues=function(){var i=this;return function(n,r,t){var e=2<arguments.length&&void 0!==t?t:0;return s(n).reduce(function(t,e){return r(t,n[e],e)},e)}(Yi,function(t,e,n){var r,e=(r=i.$(e.selector),e=e.parser,Qi(r.options[r.options.selectedIndex].value,e));return void 0!==e&&(t[n]=e),t},{})},$i.prototype.setValues=function(n){var r=this;G(Yi,function(t,e){!function(t,e,n){if(e)for(var r=0;r<t.options.length;r++)if(Qi(t.options[r].value,n)===e){t.selectedIndex=r;break}}(r.$(t.selector),n[e],t.parser)})},$i.prototype.setDefaults=function(){var n=this;G(Yi,function(t){var e=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=e})},$i.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(d.localStorage.getItem(zi))}catch(t){q.warn(t)}t&&this.setValues(t)},$i.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?d.localStorage.setItem(zi,JSON.stringify(t)):d.localStorage.removeItem(zi)}catch(t){q.warn(t)}}},$i.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},$i.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(f,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,t=t&&t.captionsButton;e?e.focus():t&&t.focus()},$i);function $i(t,e){l(this,$i),e.temporary=!1;var n=h(this,Ji.call(this,t,e));return n.updateDisplay=Yt(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=et("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),G(Yi,function(t){n.on(n.$(t.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}he.registerComponent("TextTrackSettings",D);var Zi,D=(i(to,Zi=he),to.prototype.createEl=function(){return Zi.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},to.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},to.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&jt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},to);function to(t,e){l(this,to);var n=e.ResizeObserver||d.ResizeObserver,r=le({createEl:!(n=null===e.ResizeObserver?!1:n)},e),i=h(this,Zi.call(this,t,r));return i.ResizeObserver=e.ResizeObserver||d.ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(r,i,o,t){function e(){var t=this,e=arguments,n=function(){n=a=null,o||r.apply(t,e)};!a&&o&&r.apply(t,e),s.clearTimeout(a),a=s.setTimeout(n,i)}var s=3<arguments.length&&void 0!==t?t:d,a=void 0;return e.cancel=function(){s.clearTimeout(a),a=null},e}(function(){i.resizeHandler()},100,!1,i),n?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(t.el())):(i.loadListener_=function(){i.el_&&i.el_.contentWindow&&Ft(i.el_.contentWindow,"resize",i.debouncedHandler_)},i.one("load",i.loadListener_)),i}function eo(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),1;var n=t.$$("source"),r=[],e="";if(n.length){for(var i=0;i<n.length;i++){var o=n[i].src;o&&-1===r.indexOf(o)&&r.push(o)}return r.length&&(1===r.length&&(e=r[0]),t.triggerSourceset(e),1)}}he.registerComponent("ResizeManager",D);var no={};function ro(t,e){for(var n={},r=0;r<t.length&&!((n=Object.getOwnPropertyDescriptor(t[r],e))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n}function io(o){var e,t,s=o.el();function n(i){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=i.apply(s,e);return eo(o),r}}s.resetSourceWatch_||(e={},t=ro([o.el(),d.HTMLMediaElement.prototype,d.Element.prototype,no],"innerHTML"),["append","appendChild","insertAdjacentHTML"].forEach(function(t){s[t]&&(e[t]=s[t],s[t]=n(e[t]))}),Object.defineProperty(s,"innerHTML",le(t,{set:n(t.set)})),s.resetSourceWatch_=function(){s.resetSourceWatch_=null,Object.keys(e).forEach(function(t){s[t]=e[t]}),Object.defineProperty(s,"innerHTML",t)},o.one("sourceset",s.resetSourceWatch_))}R||(no=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=f.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=f.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",d.Element.prototype.appendChild.call(this,n),this.innerHTML}}));var oo={};R||(oo=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?rn(d.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return d.Element.prototype.setAttribute.call(this,"src",t),t}}));var so,ao=o(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),uo=(i(co,so=wn),co.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),co.disposeMediaElement(this.el_),this.options_=null,so.prototype.dispose.call(this)},co.prototype.setupSourcesetHandling_=function(){var n,r,e,i,o;(n=this).featuresSourceset&&((r=n.el()).resetSourceset_||(e=ro([n.el(),d.HTMLMediaElement.prototype,oo],"src"),i=r.setAttribute,o=r.load,Object.defineProperty(r,"src",le(e,{set:function(t){t=e.set.call(r,t);return n.triggerSourceset(r.src),t}})),r.setAttribute=function(t,e){e=i.call(r,t,e);return/src/i.test(t)&&n.triggerSourceset(r.src),e},r.load=function(){var t=o.call(r);return eo(n)||(n.triggerSourceset(""),io(n)),t},r.currentSrc?n.triggerSourceset(r.currentSrc):eo(n)||io(n),r.resetSourceset_=function(){r.resetSourceset_=null,r.load=o,r.setAttribute=i,Object.defineProperty(r,"src",e),r.resetSourceWatch_&&r.resetSourceWatch_()}))},co.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){r=[];for(var t=0;t<n.length;t++){var e=n[t];"metadata"===e.kind&&r.push({track:e,storedMode:e.mode})}}var n=this.textTracks(),r=void 0;function i(){for(var t=0;t<r.length;t++){var e=r[t];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}n.removeEventListener("change",i)}t(),n.addEventListener("change",t),this.on("dispose",function(){return n.removeEventListener("change",t)}),this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t),n.removeEventListener("change",i),n.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",t),n.addEventListener("change",t),n.removeEventListener("change",i)})},co.prototype.proxyNativeTracks_=function(){var s=this;Tn.names.forEach(function(t){var r,t=Tn[t],i=s.el()[t.getterName],o=s[t.getterName]();function e(){for(var t=[],e=0;e<o.length;e++){for(var n=!1,r=0;r<i.length;r++)if(i[r]===o[e]){n=!0;break}n||t.push(o[e])}for(;t.length;)o.removeTrack(t.shift())}s["featuresNative"+t.capitalName+"Tracks"]&&i&&i.addEventListener&&(r={change:function(t){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function(t){o.addTrack(t.track)},removetrack:function(t){o.removeTrack(t.track)}},Object.keys(r).forEach(function(e){var n=r[e];i.addEventListener(e,n),s.on("dispose",function(t){return i.removeEventListener(e,n)})}),s.on("loadstart",e),s.on("dispose",function(t){return s.off("loadstart",e)}))})},co.prototype.createEl=function(){var t,e=this.options_.tag;e&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(e?(t=e.cloneNode(!0),e.parentNode&&e.parentNode.insertBefore(t,e),co.disposeMediaElement(e),e=t):(e=f.createElement("video"),t=le({},this.options_.tag&&ct(this.options_.tag)),M&&!0===this.options_.nativeControlsForTouch||delete t.controls,ut(e,U(t,{id:this.options_.techId,class:"vjs-tech"}))),e.playerId=this.options_.playerId),void 0!==this.options_.preload&&ht(e,"preload",this.options_.preload);for(var n=["loop","muted","playsinline","autoplay"],r=0;r<n.length;r++){var i=n[r],o=this.options_[i];void 0!==o&&(o?ht(e,i,i):dt(e,i),e[i]=o)}return e},co.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){function e(){n=!0}var n=!1;function r(){n||this.trigger("loadstart")}return this.on("loadstart",e),this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",e),this.off("loadedmetadata",r),n||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),2<=t.readyState&&i.push("loadeddata"),3<=t.readyState&&i.push("canplay"),4<=t.readyState&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(t){this.trigger(t)},this)})}},co.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){q(t,"Video is not ready. (Video.js)")}},co.prototype.duration=function(){var e=this;return this.el_.duration===1/0&&E&&k&&0===this.el_.currentTime?(this.on("timeupdate",function t(){0<e.el_.currentTime&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN):this.el_.duration||NaN},co.prototype.width=function(){return this.el_.offsetWidth},co.prototype.height=function(){return this.el_.offsetHeight},co.prototype.proxyWebkitFullscreen_=function(){var t=this;function e(){this.trigger("fullscreenchange",{isFullscreen:!1})}function n(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))}"webkitDisplayingFullscreen"in this.el_&&(this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))},co.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=d.navigator&&d.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},co.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},co.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},co.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},co.prototype.reset=function(){co.resetMediaElement(this.el_)},co.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},co.prototype.setControls=function(t){this.el_.controls=!!t},co.prototype.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):so.prototype.addTextTrack.call(this,t,e,n)},co.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return so.prototype.createRemoteTextTrack.call(this,t);var e=f.createElement("track");return t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t.default&&(e.default=t.default),t.id&&(e.id=t.id),t.src&&(e.src=t.src),e},co.prototype.addRemoteTextTrack=function(t,e){e=so.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(e),e},co.prototype.removeRemoteTextTrack=function(t){if(so.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},co.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),d.performance&&"function"==typeof d.performance.now?t.creationTime=d.performance.now():d.performance&&d.performance.timing&&"number"==typeof d.performance.timing.navigationStart&&(t.creationTime=d.Date.now()-d.performance.timing.navigationStart),t},co);function co(t,e){l(this,co);var n=h(this,so.call(this,t,e)),e=t.source,r=!1;if(e&&(n.el_.currentSrc!==e.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(e):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var i=n.el_.childNodes,o=i.length,s=[];o--;){var a=i[o];"track"===a.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(a),n.remoteTextTracks().addTrack(a.track),n.textTracks().addTrack(a.track),r||n.el_.hasAttribute("crossorigin")||!sn(a.src)||(r=!0)):s.push(a))}for(var u=0;u<s.length;u++)n.el_.removeChild(s[u])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&r&&q.warn(c(ao)),n.restoreMetadataTracksInIOSNativePlayer_(),(M||b||x)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}J()&&(uo.TEST_VID=f.createElement("video"),(Oo=f.createElement("track")).kind="captions",Oo.srclang="en",Oo.label="English",uo.TEST_VID.appendChild(Oo)),uo.isSupported=function(){try{uo.TEST_VID.volume=.5}catch(t){return!1}return!(!uo.TEST_VID||!uo.TEST_VID.canPlayType)},uo.canPlayType=function(t){return uo.TEST_VID.canPlayType(t)},uo.canPlaySource=function(t,e){return uo.canPlayType(t.type)},uo.canControlVolume=function(){try{var t=uo.TEST_VID.volume;return uo.TEST_VID.volume=t/2+.1,t!==uo.TEST_VID.volume}catch(t){return!1}},uo.canMuteVolume=function(){try{var t=uo.TEST_VID.muted;return uo.TEST_VID.muted=!t,uo.TEST_VID.muted?ht(uo.TEST_VID,"muted","muted"):dt(uo.TEST_VID,"muted"),t!==uo.TEST_VID.muted}catch(t){return!1}},uo.canControlPlaybackRate=function(){if(E&&k&&L<58)return!1;try{var t=uo.TEST_VID.playbackRate;return uo.TEST_VID.playbackRate=t/2+.1,t!==uo.TEST_VID.playbackRate}catch(t){return!1}},uo.canOverrideAttributes=function(){if(R)return!1;try{function t(){}Object.defineProperty(f.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(f.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(f.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(f.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},uo.supportsNativeTextTracks=function(){return O||_&&k},uo.supportsNativeVideoTracks=function(){return!(!uo.TEST_VID||!uo.TEST_VID.videoTracks)},uo.supportsNativeAudioTracks=function(){return!(!uo.TEST_VID||!uo.TEST_VID.audioTracks)},uo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],uo.prototype.featuresVolumeControl=uo.canControlVolume(),uo.prototype.featuresMuteControl=uo.canMuteVolume(),uo.prototype.featuresPlaybackRate=uo.canControlPlaybackRate(),uo.prototype.featuresSourceset=uo.canOverrideAttributes(),uo.prototype.movingMediaElementInDOM=!_,uo.prototype.featuresFullscreenResize=!0,uo.prototype.featuresProgressEvents=!0,uo.prototype.featuresTimeupdateEvents=!0,uo.prototype.featuresNativeTextTracks=uo.supportsNativeTextTracks(),uo.prototype.featuresNativeVideoTracks=uo.supportsNativeVideoTracks(),uo.prototype.featuresNativeAudioTracks=uo.supportsNativeAudioTracks();var lo=uo.TEST_VID&&uo.TEST_VID.constructor.prototype.canPlayType,ho=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,fo=/^video\/mp4/i;uo.patchCanPlayType=function(){4<=w&&!P&&!k?uo.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&ho.test(t)?"maybe":lo.call(this,t)}:A&&(uo.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&fo.test(t)?"maybe":lo.call(this,t)})},uo.unpatchCanPlayType=function(){var t=uo.TEST_VID.constructor.prototype.canPlayType;return uo.TEST_VID.constructor.prototype.canPlayType=lo,t},uo.patchCanPlayType(),uo.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},uo.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){uo.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){uo.prototype["set"+ce(e)]=function(t){(this.el_[e]=t)?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){uo.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){uo.prototype["set"+ce(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(t){uo.prototype[t]=function(){return this.el_[t]()}}),wn.withSourceHandlers(uo),uo.nativeSourceHandler={},uo.nativeSourceHandler.canPlayType=function(t){try{return uo.TEST_VID.canPlayType(t)}catch(t){return""}},uo.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return uo.nativeSourceHandler.canPlayType(t.type);if(t.src){t=on(t.src);return uo.nativeSourceHandler.canPlayType("video/"+t)}return""},uo.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},uo.nativeSourceHandler.dispose=function(){},uo.registerSourceHandler(uo.nativeSourceHandler),wn.registerTech("Html5",uo);var po=o(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),go=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],vo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},mo=["tiny","xsmall","small","medium","large","xlarge","huge"],yo={};mo.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;yo[t]="vjs-layout-"+e});var bo,To={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},_o=(i(So,bo=he),So.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),So.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Pn[this.id()]=null,bo.prototype.dispose.call(this)},So.prototype.createEl=function(){var e=this.tag,n=void 0,t=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();t?n=this.el_=e.parentNode:r||(n=this.el_=bo.prototype.createEl.call(this,"div"));var i,o,s=ct(e);if(r){for(n=this.el_=e,e=this.tag=f.createElement("video");n.children.length;)e.appendChild(n.firstChild);it(n,"video-js")||ot(n,"video-js"),n.appendChild(e),t=this.playerElIngest_=n,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(t){void 0!==n[t]&&(e[t]=n[t])})}e.setAttribute("tabindex","-1"),s.tabindex="-1",I&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(t){"class"===t?(n.className+=" "+s[t],r&&(e.className+=" "+s[t])):(n.setAttribute(t,s[t]),r&&e.setAttribute(t,s[t]))}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",(e.player=n.player=this).addClass("vjs-paused"),!0!==d.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Xt("vjs-styles-dimensions"),i=wt(".vjs-styles-defaults"),(o=wt("head")).insertBefore(this.styleEl_,i?i.nextSibling:o.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=e.getElementsByTagName("a"),u=0;u<a.length;u++){var c=a.item(u);ot(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!t&&e.parentNode.insertBefore(n,e),rt(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=n},So.prototype.width=function(t){return this.dimension("width",t)},So.prototype.height=function(t){return this.dimension("height",t)},So.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(e);isNaN(r)?q.error('Improper value "'+e+'" supplied for for '+t):(this[n]=r,this.updateStyleEl_())},So.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},So.prototype.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},So.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},So.prototype.updateStyleEl_=function(){var t,e,n,r;!0!==d.VIDEOJS_NO_DYNAMIC_STYLE?(r=(r=((n=e=t=void 0)!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"))[1]/r[0],t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),zt(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")):(e="number"==typeof this.width_?this.width_:this.options_.width,n="number"==typeof this.height_?this.height_:this.options_.height,(r=this.tech_&&this.tech_.el())&&(0<=e&&(r.width=e),0<=n&&(r.height=n)))},So.prototype.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var r=ce(t),i=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==r&&this.tag&&(wn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Sn.names.forEach(function(t){t=Sn[t];o[t.getterName]=n[t.privateName]}),U(o,this.options_[r]),U(o,this.options_[i]),U(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&0<this.cache_.currentTime&&(o.startTime=this.cache_.currentTime);var s,t=wn.getTech(t);if(!t)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new t(o),this.tech_.ready(Yt(this,this.handleTechReady_),!0),t=this.textTracksJson_||[],s=this.tech_,t.forEach(function(t){var e=s.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return e.addCue(t)})}),s.textTracks(),go.forEach(function(t){n.on(n.tech_,t,n["handleTech"+ce(t)+"_"])}),Object.keys(vo).forEach(function(e){n.on(n.tech_,e,function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+vo[e]+"_"].bind(n),event:t}):n["handleTech"+vo[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||rt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},So.prototype.unloadTech_=function(){var t,e,n,r=this;Sn.names.forEach(function(t){t=Sn[t];r[t.privateName]=r[t.getterName]()}),this.textTracksJson_=(t=this.tech_,e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track}),Array.prototype.map.call(e,function(t){var e=Pe(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(Pe))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},So.prototype.tech=function(t){return void 0===t&&q.warn(c(po)),this.tech_},So.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},So.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},So.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){q("deleting tag.poster throws in some browsers",t)}},So.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},So.prototype.manualAutoplay_=function(e){var n=this;if(this.tech_&&"string"==typeof e){function t(){var e=n.muted();n.muted(!0);var t=n.play();if(t&&t.then&&t.catch)return t.catch(function(t){n.muted(e)})}var r=void 0;if("any"===e?(r=this.play())&&r.then&&r.catch&&r.catch(t):r="muted"===e?t():this.play(),r&&r.then&&r.catch)return r.then(function(){n.trigger({type:"autoplay-success",autoplay:e})}).catch(function(t){n.trigger({type:"autoplay-failure",autoplay:e})})}},So.prototype.updateSourceCaches_=function(t){var e=0<arguments.length&&void 0!==t?t:"",n=e,r="";"string"!=typeof n&&(n=e.src,r=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var r=t.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===e)return o.type}return Mn(e)}(this,n)),this.cache_.source=le({},e,{src:n,type:r});for(var r=this.cache_.sources.filter(function(t){return t.src&&t.src===n}),i=[],o=this.$$("source"),s=[],a=0;a<o.length;a++){var u=ct(o[a]);i.push(u),u.src&&u.src===n&&s.push(u.src)}s.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n},So.prototype.handleTechSourceset_=function(t){var e,n,r,i=this;this.changingSrc_||(e=function(t){return i.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src,n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(this.lastSource_&&(this.lastSource_.tech===r||this.lastSource_.player===n)||(e=function(){})),e(r),t.src||this.tech_.one(["sourceset","loadstart"],function t(e){"sourceset"!==e.type&&(e=i.techGet("currentSrc"),i.lastSource_.tech=e,i.updateSourceCaches_(e)),i.tech_.off(["sourceset","loadstart"],t)})),this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},So.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},So.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},So.prototype.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},So.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},So.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},So.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},So.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},So.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},So.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},So.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(q.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},So.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},So.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},So.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},So.prototype.handleTechClick_=function(t){Et(t)&&this.controls_&&(this.paused()?xe(this.play()):this.pause())},So.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},So.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},So.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},So.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},So.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},So.prototype.handleStageClick_=function(){this.reportUserActivity()},So.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},So.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},So.prototype.handleTechTextData_=function(t,e){var n=1<arguments.length?e:null;this.trigger("textdata",n)},So.prototype.getCache=function(){return this.cache_},So.prototype.techCall_=function(e,n){this.ready(function(){if(e in In)return t=this.middleware_,this.tech_[e](t.reduce(On(e),n));var t;if(e in Dn)return Ln(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(t){throw q(t),t}},!0)},So.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Rn)return t=this.middleware_,n=this.tech_,t.reduceRight(On(e),n[e]());if(e in Dn)return Ln(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw q("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw q("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw q(t),t}}var t,n},So.prototype.play=function(){var e=this,t=this.options_.Promise||d.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},So.prototype.play_=function(t){var e=this,n=0<arguments.length&&void 0!==t?t:xe;this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_?this.changingSrc_||!this.src()&&!this.currentSrc()?(this.playOnLoadstart_=function(){e.playOnLoadstart_=null,n(e.play())},this.one("loadstart",this.playOnLoadstart_)):n(this.techGet_("play")):this.playWaitingForReady_||(this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,n(e.play())}))},So.prototype.pause=function(){this.techCall_("pause")},So.prototype.paused=function(){return!1!==this.techGet_("paused")},So.prototype.played=function(){return this.techGet_("played")||ge(0,0)},So.prototype.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},So.prototype.currentTime=function(t){return void 0!==t?void this.techCall_("setCurrentTime",t=t<0?0:t):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},So.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=(t=parseFloat(t))<0?1/0:t)!==this.cache_.duration&&((this.cache_.duration=t)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},So.prototype.remainingTime=function(){return this.duration()-this.currentTime()},So.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},So.prototype.buffered=function(){var t=this.techGet_("buffered");return t=!t||!t.length?ge(0,0):t},So.prototype.bufferedPercent=function(){return ve(this.buffered(),this.duration())},So.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),t=t.end(t.length-1);return t=e<t?e:t},So.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(0<e&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},So.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},So.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},So.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},So.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},So.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},So.prototype.requestFullscreen=function(){var n=me;this.isFullscreen(!0),n.requestFullscreen?(Ft(f,n.fullscreenchange,Yt(this,function t(e){this.isFullscreen(f[n.fullscreenElement]),!1===this.isFullscreen()&&jt(f,n.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},So.prototype.exitFullscreen=function(){var t=me;this.isFullscreen(!1),t.requestFullscreen?f[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},So.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=f.documentElement.style.overflow,Ft(f,"keydown",Yt(this,this.fullWindowOnEscKey)),f.documentElement.style.overflow="hidden",ot(f.body,"vjs-full-window"),this.trigger("enterFullWindow")},So.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},So.prototype.exitFullWindow=function(){this.isFullWindow=!1,jt(f,"keydown",this.fullWindowOnEscKey),f.documentElement.style.overflow=this.docOrigOverflow,st(f.body,"vjs-full-window"),this.trigger("exitFullWindow")},So.prototype.canPlayType=function(t){for(var e=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=wn.getTech(i);if(o=o||he.getComponent(i)){if(o.isSupported()&&(e=o.canPlayType(t)))return e}else q.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},So.prototype.selectSource=function(t){function e(t,n,r){var i=void 0;return t.some(function(e){return n.some(function(t){if(i=r(e,t))return!0})}),i}function n(t,e){var n=t[0];if(t[1].canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}}var r,i=this,o=this.options_.techOrder.map(function(t){return[t,wn.getTech(t)]}).filter(function(t){var e=t[0],t=t[1];return t?t.isSupported():(q.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?e(t,o,(r=n,function(t,e){return r(e,t)})):e(o,t,n))||!1},So.prototype.src=function(t){var r=this;if(void 0===t)return this.cache_.src||"";var i=function e(t){var n;return t=Array.isArray(t)?(n=[],t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):H(t)&&n.push(t)}),n):"string"==typeof t&&t.trim()?[Bn({src:t})]:H(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Bn(t)]:[]}(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),kn(this,i[0],function(t,e){return r.middleware_=e,r.cache_.sources=i,r.updateSourceCaches_(t),r.src_(t)?1<i.length?r.src(i.slice(1)):(r.changingSrc_=!1,r.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void r.triggerReady()):(n=r.tech_,void e.forEach(function(t){return t.setTech&&t.setTech(n)}));var n})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},So.prototype.src_=function(t){var e,n,r=this,i=this.selectSource([t]);return!i||(e=i.tech,n=this.techName_,ce(e)===ce(n)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(function(){r.changingSrc_=!1})),!1)},So.prototype.load=function(){this.techCall_("load")},So.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},So.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},So.prototype.currentSource=function(){return this.cache_.source||{}},So.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},So.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},So.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},So.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},So.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},So.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},So.prototype.poster=function(t){if(void 0===t)return this.poster_;(t=t||"")!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},So.prototype.handleTechPosterChange_=function(){var t;this.poster_&&!this.options_.techCanOverridePoster||!this.tech_||!this.tech_.poster||(t=this.tech_.poster()||"")!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))},So.prototype.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},So.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},So.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Ee(t),this.addClass("vjs-error"),q.error("(CODE:"+this.error_.code+" "+Ee.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},So.prototype.reportUserActivity=function(t){this.userActivity_=!0},So.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},So.prototype.listenForUserActivity_=function(){var e=void 0,n=void 0,r=void 0,i=Yt(this,this.reportUserActivity);this.on("mousedown",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)}),this.on("mousemove",function(t){t.screenX===n&&t.screenY===r||(n=t.screenX,r=t.screenY,i())}),this.on("mouseup",function(t){i(),this.clearInterval(e)}),this.on("keydown",i),this.on("keyup",i);var o=void 0;this.setInterval(function(){var t;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o),(t=this.options_.inactivityTimeout)<=0||(o=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t)))},250)},So.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},So.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},So.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},So.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},So.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},So.prototype.removeRemoteTextTrack=function(t){var e=(0<arguments.length&&void 0!==t?t:{}).track;if(this.tech_)return this.tech_.removeRemoteTextTrack(void 0===e?t:e)},So.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},So.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},So.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},So.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},So.prototype.languages=function(){return le(So.prototype.options_.languages,this.languages_)},So.prototype.toJSON=function(){var t=le(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var r=e[n];(r=le(r)).player=void 0,t.tracks[n]=r}return t},So.prototype.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var r=new Le(this,e);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},So.prototype.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<mo.length;n++){var r=mo[n];if(e<=this.breakpoints_[r]){if(t===r)return;t&&this.removeClass(yo[t]),this.addClass(yo[r]),this.breakpoint_=r;break}}},So.prototype.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},So.prototype.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=U({},To,t),this.updateCurrentBreakpoint_()),U(this.breakpoints_)},So.prototype.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?((this.responsive_=t)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},So.prototype.currentBreakpoint=function(){return this.breakpoint_},So.prototype.currentBreakpointClass=function(){return yo[this.breakpoint_]||""},So.getTagSettings=function(t){var e,n={sources:[],tracks:[]},r=ct(t),i=r["data-setup"];if(it(t,"vjs-fill")&&(r.fill=!0),it(t,"vjs-fluid")&&(r.fluid=!0),null!==i&&(i=(e=p(i||"{}"))[0],e=e[1],i&&q.error(i),U(r,e)),U(n,r),t.hasChildNodes())for(var o=t.childNodes,s=0,a=o.length;s<a;s++){var u=o[s],c=u.nodeName.toLowerCase();"source"===c?n.sources.push(ct(u)):"track"===c&&n.tracks.push(ct(u))}return n},So.prototype.flexNotSupported_=function(){var t=f.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},So);function So(t,e,n){if(l(this,So),t.id=t.id||e.id||"vjs_video_"+Pt++,(e=U(So.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var r=t.closest("[lang]");r&&r.getAttribute&&(e.language=r.getAttribute("lang"))}else for(var i=t;i&&1===i.nodeType;){if(ct(i).hasOwnProperty("lang")){e.language=i.getAttribute("lang");break}i=i.parentNode}var o,r=h(this,bo.call(this,null,e,n));if(r.log=K(r.id_),r.isPosterFromTech_=!1,r.queuedCallbacks_=[],r.isReady_=!1,r.hasStarted_=!1,r.userActive_=!1,!r.options_||!r.options_.techOrder||!r.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");r.tag=t,r.tagAttributes=t&&ct(t),r.language(r.options_.language),e.languages?(o={},Object.getOwnPropertyNames(e.languages).forEach(function(t){o[t.toLowerCase()]=e.languages[t]}),r.languages_=o):r.languages_=So.prototype.options_.languages,r.cache_={},r.poster_=e.poster||"",r.controls_=!!e.controls,r.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?r.options_.autoplay=!0:r.autoplay(r.options_.autoplay),r.scrubbing_=!1,r.el_=r.createEl(),r.cache_.lastPlaybackRate=r.defaultPlaybackRate(),se(r,{eventBusKey:"el_"});var s,n=le(r.options_);e.plugins&&(s=e.plugins,Object.keys(s).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](s[t])},r)),r.options_.playerOptions=n,r.middleware_=[],r.initChildren(),r.isAudio("audio"===t.nodeName.toLowerCase()),r.controls()?r.addClass("vjs-controls-enabled"):r.addClass("vjs-controls-disabled"),r.el_.setAttribute("role","region"),r.isAudio()?r.el_.setAttribute("aria-label",r.localize("Audio Player")):r.el_.setAttribute("aria-label",r.localize("Video Player")),r.isAudio()&&r.addClass("vjs-audio"),r.flexNotSupported_()&&r.addClass("vjs-no-flex"),_||r.addClass("vjs-workinghover"),So.players[r.id_]=r;t="6.13.0".split(".")[0];return r.addClass("vjs-v"+t),r.userActive(!0),r.reportUserActivity(),r.one("play",r.listenForUserActivity_),r.on("fullscreenchange",r.handleFullscreenChange_),r.on("stageclick",r.handleStageClick_),r.breakpoints(r.options_.breakpoints),r.responsive(r.options_.responsive),r.changingSrc_=!1,r.playWaitingForReady_=!1,r.playOnLoadstart_=null,r}Sn.names.forEach(function(t){var e=Sn[t];_o.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),_o.players={};D=d.navigator;function Eo(t){return Lo.hasOwnProperty(t)}function wo(t){return Eo(t)?Lo[t]:void 0}function Ao(t,e){t[ko]=t[ko]||{},t[ko][e]=!0}function xo(t,e,n){n=(n?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)}function Po(i,o){return o.prototype.name=i,function(){xo(this,{name:i,plugin:o,instance:null},!0);for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=new(Function.prototype.bind.apply(o,[null].concat([this].concat(e))));return this[i]=function(){return r},xo(this,r.getEventHash()),r}}_o.prototype.options_={techOrder:wn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:D&&(D.languages&&D.languages[0]||D.userLanguage||D.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},R||_o.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(t){_o.prototype[t]=function(){return this.techGet_(t)}}),go.forEach(function(t){_o.prototype["handleTech"+ce(t)+"_"]=function(){return this.trigger(t)}}),he.registerComponent("Player",_o);var Co="plugin",ko="activePlugins_",Lo={},Ro=(Io.prototype.version=function(){return this.constructor.VERSION},Io.prototype.getEventHash=function(t){var e=0<arguments.length&&void 0!==t?t:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},Io.prototype.trigger=function(t,e){return Gt(this.eventBusEl_,t,this.getEventHash(1<arguments.length&&void 0!==e?e:{}))},Io.prototype.handleStateChanged=function(t){},Io.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[ko][t]=!1,this.player=this.state=null,e[t]=Po(t,Lo[t])},Io.isBasic=function(t){t="string"==typeof t?wo(t):t;return"function"==typeof t&&!Io.prototype.isPrototypeOf(t.prototype)},Io.registerPlugin=function(t,e){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":F(t))+".");if(Eo(t))q.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(_o.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===e?"undefined":F(e))+".");return Lo[t]=e,t!==Co&&(Io.isBasic(e)?_o.prototype[t]=(r=t,i=e,Object.keys(i).forEach(function(t){n[t]=i[t]}),n):_o.prototype[t]=Po(t,e)),e;function n(){xo(this,{name:r,plugin:i,instance:null},!0);var t=i.apply(this,arguments);return Ao(this,r),xo(this,{name:r,plugin:i,instance:t}),t}var r,i},Io.deregisterPlugin=function(t){if(t===Co)throw new Error("Cannot de-register base plugin.");Eo(t)&&(delete Lo[t],delete _o.prototype[t])},Io.getPlugins=function(t){var e=0<arguments.length&&void 0!==t?t:Object.keys(Lo),n=void 0;return e.forEach(function(t){var e=wo(t);e&&((n=n||{})[t]=e)}),n},Io.getPluginVersion=function(t){t=wo(t);return t&&t.VERSION||""},Io);function Io(t){if(l(this,Io),this.constructor===Io)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,se(this),delete this.trigger,ue(this,this.constructor.defaultState),Ao(t,this.name),this.dispose=Yt(this,this.dispose),t.on("dispose",this.dispose)}Ro.getPlugin=wo,Ro.BASE_PLUGIN_NAME=Co,Ro.registerPlugin(Co,Ro),_o.prototype.usingPlugin=function(t){return!!this[ko]&&!0===this[ko][t]},_o.prototype.hasPlugin=function(t){return!!Eo(t)},"undefined"==typeof HTMLVideoElement&&J()&&(f.createElement("video"),f.createElement("audio"),f.createElement("track"),f.createElement("video-js"));function Do(t){return 0===t.indexOf("#")?t.slice(1):t}var Oo;function Mo(t,e,n){if(i=Mo.getPlayer(t))return e&&q.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof t?wt("#"+Do(t)):t;if(!$(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");f.body.contains(r)||q.warn("The element supplied is not included in the DOM"),e=e||{},Mo.hooks("beforesetup").forEach(function(t){t=t(r,le(e));H(t)&&!Array.isArray(t)?e=le(e,t):q.error("please return an object in beforesetup hooks")});var i=new(he.getComponent("Player"))(r,e,n);return Mo.hooks("setup").forEach(function(t){return t(i)}),i}Mo.hooks_={},Mo.hooks=function(t,e){return Mo.hooks_[t]=Mo.hooks_[t]||[],e&&(Mo.hooks_[t]=Mo.hooks_[t].concat(e)),Mo.hooks_[t]},Mo.hook=function(t,e){Mo.hooks(t,e)},Mo.hookOnce=function(n,t){Mo.hooks(n,[].concat(t).map(function(e){return function t(){return Mo.removeHook(n,t),e.apply(void 0,arguments)}}))},Mo.removeHook=function(t,e){e=Mo.hooks(t).indexOf(e);return!(e<=-1||(Mo.hooks_[t]=Mo.hooks_[t].slice(),Mo.hooks_[t].splice(e,1),0))},!0!==d.VIDEOJS_NO_DYNAMIC_STYLE&&J()&&((Oo=wt(".vjs-styles-defaults"))||(Oo=Xt("vjs-styles-defaults"),(D=wt("head"))&&D.insertBefore(Oo,D.firstChild),zt(Oo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "))),Kt(1,Mo),Mo.VERSION="6.13.0",Mo.options=_o.prototype.options_,Mo.getPlayers=function(){return _o.players},Mo.getPlayer=function(t){var e=_o.players,n=void 0;if("string"==typeof t){var r=Do(t),i=e[r];if(i)return i;n=wt("#"+r)}else n=t;if($(n)){t=n,n=t.player,t=t.playerId;if(n||e[t])return n||e[t]}},Mo.getAllPlayers=function(){return Object.keys(_o.players).map(function(t){return _o.players[t]}).filter(Boolean)},Mo.players=_o.players,Mo.getComponent=he.getComponent,Mo.registerComponent=function(t,e){wn.isTech(e)&&q.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),he.registerComponent.call(he,t,e)},Mo.getTech=wn.getTech,Mo.registerTech=wn.registerTech,Mo.use=function(t,e){xn[t]=xn[t]||[],xn[t].push(e)},!R&&Object.defineProperty?(Object.defineProperty(Mo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Mo.middleware,"TERMINATOR",{value:Cn,writeable:!1,enumerable:!0})):Mo.middleware={TERMINATOR:Cn},Mo.browser=B,Mo.TOUCH_ENABLED=M,Mo.extend=function(t,e){var n,r=1<arguments.length&&void 0!==e?e:{},i=function(){t.apply(this,arguments)},o={};for(n in"object"===(void 0===r?"undefined":F(r))?(r.constructor!==Object.prototype.constructor&&(i=r.constructor),o=r):"function"==typeof r&&(i=r),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":F(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(i,t),o)o.hasOwnProperty(n)&&(i.prototype[n]=o[n]);return i},Mo.mergeOptions=le,Mo.bind=Yt,Mo.registerPlugin=Ro.registerPlugin,Mo.deregisterPlugin=Ro.deregisterPlugin,Mo.plugin=function(t,e){return q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ro.registerPlugin(t,e)},Mo.getPlugins=Ro.getPlugins,Mo.getPlugin=Ro.getPlugin,Mo.getPluginVersion=Ro.getPluginVersion,Mo.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Mo.options.languages=le(Mo.options.languages,((n={})[t]=e,n)),Mo.options.languages[t]},Mo.log=q,Mo.createLogger=K,Mo.createTimeRange=Mo.createTimeRanges=ge,Mo.formatTime=cr,Mo.setFormatTime=function(t){ur=t},Mo.resetFormatTime=function(){ur=ar},Mo.parseUrl=nn,Mo.isCrossOrigin=sn,Mo.EventTarget=Jt,Mo.on=Ft,Mo.one=Ut,Mo.off=jt,Mo.trigger=Gt,Mo.xhr=g,Mo.TextTrack=cn,Mo.AudioTrack=dn,Mo.VideoTrack=gn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Mo[t]=function(){return q.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),xt[t].apply(null,arguments)}}),Mo.computedStyle=X,Mo.dom=xt,Mo.url=m,e.exports=Mo},{"global/document":284,"global/window":285,"safe-json-parse/tuple":304,tsml:306,"videojs-vtt.js":311,xhr:316}],316:[function(t,e,n){"use strict";var r=t("global/window"),i=t("is-function"),v=t("parse-headers"),o=t("xtend");function s(t,e,n){var r=t;return i(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=o(e,{uri:t}),r.callback=n,r}function m(t,e,n){return a(e=s(t,e,n))}function a(r){if(void 0===r.callback)throw new Error("callback argument missing");function i(t,e,n){o||(o=!0,r.callback(t,e,n))}var o=!1;function e(t){return clearTimeout(a),(t=!(t instanceof Error)?new Error(""+(t||"Unknown XMLHttpRequest Error")):t).statusCode=0,i(t,g)}function t(){if(!s){clearTimeout(a);var t=r.useXDR&&void 0===u.status?200:1223===u.status?204:u.status,e=g,n=null;return 0!==t?(e={body:function(){var t=void 0,t=u.response||u.responseText||function(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}(u);if(p)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:t,method:l,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(e.headers=v(u.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),i(n,e,e.body)}}var n,s,a,u=r.xhr||null,c=(u=u||new(r.cors||r.useXDR?m.XDomainRequest:m.XMLHttpRequest)).url=r.uri||r.url,l=u.method=r.method||"GET",h=r.body||r.data,d=u.headers=r.headers||{},f=!!r.sync,p=!1,g={body:void 0,headers:{},statusCode:0,method:l,url:c,rawRequest:u};if("json"in r&&!1!==r.json&&(p=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==l&&"HEAD"!==l&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),h=JSON.stringify(!0===r.json?h:r.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(t,0)},u.onload=t,u.onerror=e,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=e,u.open(l,c,!f,r.username,r.password),f||(u.withCredentials=!!r.withCredentials),!f&&0<r.timeout&&(a=setTimeout(function(){var t;s||(s=!0,u.abort("timeout"),(t=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",e(t))},r.timeout)),u.setRequestHeader)for(n in d)d.hasOwnProperty(n)&&u.setRequestHeader(n,d[n]);else if(r.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(u.responseType=r.responseType),"beforeSend"in r&&"function"==typeof r.beforeSend&&r.beforeSend(u),u.send(h||null),u}(e.exports=m).XMLHttpRequest=r.XMLHttpRequest||function(){},m.XDomainRequest="withCredentials"in new m.XMLHttpRequest?m.XMLHttpRequest:r.XDomainRequest,function(t){for(var e=0;e<t.length;e++)!function(r){m["delete"===r?"del":r]=function(t,e,n){return(e=s(t,e,n)).method=r.toUpperCase(),a(e)}}(t[e])}(["get","put","post","patch","head","delete"])},{"global/window":285,"is-function":289,"parse-headers":302,xtend:317}],317:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n,r=arguments[e];for(n in r)i.call(r,n)&&(t[n]=r[n])}return t};var i=Object.prototype.hasOwnProperty},{}],311:[function(t,e,n){var r=t("global/window"),t=e.exports={WebVTT:t("./vtt.js"),VTTCue:t("./vttcue.js"),VTTRegion:t("./vttregion.js")};r.vttjs=t,r.WebVTT=t.WebVTT;var i=t.VTTCue,o=t.VTTRegion,s=r.VTTCue,a=r.VTTRegion;t.shim=function(){r.VTTCue=i,r.VTTRegion=o},t.restore=function(){r.VTTCue=s,r.VTTRegion=a},r.VTTCue||t.shim()},{"./vtt.js":312,"./vttcue.js":313,"./vttregion.js":314,"global/window":285}],314:[function(t,e,n){var u={"":!0,up:!0};function c(t){return"number"==typeof t&&0<=t&&t<=100}e.exports=function(){var e=100,n=3,r=0,i=100,o=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!c(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return n},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");n=t}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!c(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!c(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!c(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!c(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){t="string"==typeof(t=t)&&!!u[t.toLowerCase()]&&t.toLowerCase();if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})}},{}],313:[function(t,e,n){var T={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function _(t){return"string"==typeof t&&!!r[t.toLowerCase()]&&t.toLowerCase()}function S(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function i(t,e,n){var r=this,i=/MSIE\s8\.0/.test(navigator.userAgent),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var s="",a=!1,u=t,c=e,l=n,h=null,d="",f=!0,p="auto",g="start",v=50,m="middle",y=50,b="middle";if(Object.defineProperty(r,"id",S({},o,{get:function(){return s},set:function(t){s=""+t}})),Object.defineProperty(r,"pauseOnExit",S({},o,{get:function(){return a},set:function(t){a=!!t}})),Object.defineProperty(r,"startTime",S({},o,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",S({},o,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",S({},o,{get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",S({},o,{get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",S({},o,{get:function(){return d},set:function(t){t="string"==typeof(t=t)&&!!T[t.toLowerCase()]&&t.toLowerCase();if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",S({},o,{get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",S({},o,{get:function(){return p},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",S({},o,{get:function(){return g},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",S({},o,{get:function(){return v},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",S({},o,{get:function(){return m},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",S({},o,{get:function(){return y},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",S({},o,{get:function(){return b},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),r.displayState=void 0,i)return r}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},{}],312:[function(t,e,n){var r=Object.create||function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return i.prototype=t,new i};function i(){}function u(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function l(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}t=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null}function c(){this.values=r(null)}function h(t,e,n,r){var i,o,s=r?t.split(r):[t];for(i in s)"string"!=typeof s[i]||2===(o=s[i].split(n)).length&&e(o[0],o[1])}((u.prototype=r(Error.prototype)).constructor=u).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},c.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var d={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":" "},f={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={v:"title",lang:"lang"},g={rt:"ruby"};function a(i,e){function n(t){return d[t]}for(var t,r=i.document.createElement("div"),o=r,s=[];null!==(t=function(){if(!e)return null;var t=(t=e.match(/^([^<]*)(<[^>]*>?)?/))[1]||t[2];return e=e.substr(t.length),t}());)if("<"!==t[0])o.appendChild(i.document.createTextNode(function(t){for(;c=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(c[0],n);return t}(t)));else{if("/"===t[1]){s.length&&s[s.length-1]===t.substr(2).replace(">","")&&(s.pop(),o=o.parentNode);continue}var a,u=l(t.substr(1,t.length-2));if(u){a=i.document.createProcessingInstruction("timestamp",u),o.appendChild(a);continue}var c=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(a=function(t,e){var n=f[t];if(!n)return null;var r=i.document.createElement(n);return r.localName=n,(t=p[t])&&e&&(r[t]=e.trim()),r}(c[1],c[3])))continue;if(u=o,g[(t=a).localName]&&g[t.localName]!==u.localName)continue;c[2]&&(a.className=c[2].substr(1).replace("."," ")),s.push(c[1]),o.appendChild(a),o=a}return r}var v=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(){}function y(t,e,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),m.call(this),this.cue=e,this.cueDiv=a(t,e.text);o={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(o.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=t.document.createElement("div"),o={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(o.direction=function(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function o(t,e){for(var n=e.childNodes.length-1;0<=n;n--)t.push(e.childNodes[n])}for(o(e,t);n=function t(e){if(!e||!e.length)return null;var n=e.pop(),r=n.textContent||n.innerText;if(r){var i=r.match(/^.*(\n|\r)/);return i?i[e.length=0]:r}return"ruby"===n.tagName?t(e):n.childNodes?(o(e,n),t(e)):void 0}(e);)for(var r=0;r<n.length;r++)if(function(t){for(var e=0;e<v.length;e++){var n=v[e];if(t>=n[0]&&t<=n[1])return 1}}(n.charCodeAt(r)))return"rtl";return"ltr"}(this.cueDiv),o.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var s=0;switch(e.positionAlign){case"start":s=e.position;break;case"middle":s=e.position-e.size/2;break;case"end":s=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function b(t){var e,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);t.div&&(e=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop,i=(i=t.div.childNodes)&&(i=i[0])&&i.getClientRects&&i.getClientRects(),t=t.div.getBoundingClientRect(),i=i?Math.max(i[0]&&i[0].height||0,t.height/i.length):0),this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||e,this.bottom=t.bottom||r+(t.height||e),this.width=t.width||n,this.lineHeight=void 0!==i?i:t.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function o(){}m.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},m.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(y.prototype=r(m.prototype)).constructor=y,b.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},b.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},b.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},b.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},b.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},b.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},b.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},b.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n}},o.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},o.convertCueToDOMTree=function(t,e){return t&&e?a(t,e):null},o.processCues=function(r,i,t){if(!r||!i||!t)return null;for(;t.firstChild;)t.removeChild(t.firstChild);var o=r.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin="1.5%",t.appendChild(o),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return 1}(i)){var s=[],a=b.getSimpleBoxPosition(o),u={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var t,e,n=0;n<i.length;n++)e=i[n],t=new y(r,e,u),o.appendChild(t.div),function(t,a,u){var e,n=new b(t),i=t.cue,r=function(){if("number"==typeof i.line&&(i.snapToLines||0<=i.line&&i.line<=100))return i.line;if(!i.track||!i.track.textTrackList||!i.track.textTrackList.mediaElement)return-1;for(var t=i.track,e=t.textTrackList,n=0,r=0;r<e.length&&e[r]!==t;r++)"showing"===e[r].mode&&n++;return-1*++n}(),o=[];if(i.snapToLines){switch(i.vertical){case"":o=["+y","-y"],e="height";break;case"rl":o=["+x","-x"],e="width";break;case"lr":o=["-x","+x"],e="width"}var s=n.lineHeight,c=s*Math.round(r),l=a[e]+s,h=o[0];Math.abs(c)>l&&(c=c<0?-1:1,c*=Math.ceil(l/s)*s),r<0&&(c+=""===i.vertical?a.height:a.width,o=o.reverse()),n.move(h,c)}else{var d=n.lineHeight/a.height*100;switch(i.lineAlign){case"middle":r-=d/2;break;case"end":r-=d}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}o=["+y","-x","+x","-y"],n=new b(t)}n=function(t,e){for(var n,r=new b(t),i=1,o=0;o<e.length;o++){for(;t.overlapsOppositeAxis(a,e[o])||t.within(a)&&t.overlapsAny(u);)t.move(e[o]);if(t.within(a))return t;var s=t.intersectPercentage(a);s<i&&(n=new b(t),i=s),t=new b(r)}return n||r}(n,o),t.move(n.toCSSCompatValues(a))}(t,a,s),e.displayState=t.div,s.push(b.getSimpleBoxPosition(t))}()}else for(var e=0;e<i.length;e++)o.appendChild(i[e].displayState)},(o.Parser=function(t,e,n){n||(n=e,e={}),e=e||{},this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof u))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e,r=this;function n(){for(var t=r.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,r.buffer=t.substr(e),n}function i(t){t.match(/X-TIMESTAMP-MAP/)?h(t,function(t,e){var n;"X-TIMESTAMP-MAP"===t&&(e=e,n=new c,h(e,function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",l(e))}},/[^\d]:/,/,/),r.ontimestampmap&&r.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")}))},/=/):h(t,function(t,e){var i;"Region"===t&&(e=e,i=new c,h(e,function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new c;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"])}},/=/,/\s/),i.has("id")&&((e=new(r.vttjs.VTTRegion||r.window.VTTRegion)).width=i.get("width",100),e.lines=i.get("lines",3),e.regionAnchorX=i.get("regionanchorX",0),e.regionAnchorY=i.get("regionanchorY",100),e.viewportAnchorX=i.get("viewportanchorX",0),e.viewportAnchorY=i.get("viewportanchorY",100),e.scroll=i.get("scroll",""),r.onregion&&r.onregion(e),r.regionList.push({id:i.get("id"),region:e})))},/:/)}t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var o=(e=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new u(u.Errors.BadSignature);r.state="HEADER"}for(var s=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(s?s=!1:e=n(),r.state){case"HEADER":/:/.test(e)?i(e):e||(r.state="ID");continue;case"NOTE":e||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){r.state="NOTE";break}if(!e)continue;if(r.cue=new(r.vttjs.VTTCue||r.window.VTTCue)(0,0,""),r.state="CUE",-1===e.indexOf("--\x3e")){r.cue.id=e;continue}case"CUE":try{!function(e,t,o){var n,s,r=e;function i(){var t=l(e);if(null===t)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.substr(0,3))throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),a(),t.endTime=i(),a(),n=e,t=t,s=new c,h(n,function(t,e){switch(t){case"region":for(var n=o.length-1;0<=n;n--)if(o[n].id===e){s.set(t,o[n].region);break}break;case"vertical":s.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),i=r[0];s.integer(t,i),s.percent(t,i)&&s.set("snapToLines",!1),s.alt(t,i,["auto"]),2===r.length&&s.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=e.split(","),s.percent(t,r[0]),2===r.length&&s.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":s.percent(t,e);break;case"align":s.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),t.region=s.get("region",null),t.vertical=s.get("vertical",""),t.line=s.get("line","auto"),t.lineAlign=s.get("lineAlign","start"),t.snapToLines=s.get("snapToLines",!0),t.size=s.get("size",100),t.align=s.get("align","middle"),t.position=s.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,r.cue,r.regionList)}catch(t){r.reportOrThrowError(t),r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var a=-1!==e.indexOf("--\x3e");if(!e||a&&(s=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=e;continue;case"BADCUE":e||(r.state="ID");continue}}}catch(t){r.reportOrThrowError(t),"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),!e.cue&&"HEADER"!==e.state||(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new u(u.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=o},{}],306:[function(t,e,n){e.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=t[n].replace(/\n\r?\s*/g,"")+(arguments[n+1]||"");return e}},{}],304:[function(t,e,n){e.exports=function(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(t){r=t}return[r,n]}},{}],302:[function(t,e,n){var i=t("trim"),o=t("for-each");e.exports=function(t){if(!t)return{};var r={};return o(i(t).split("\n"),function(t){var e=t.indexOf(":"),n=i(t.slice(0,e)).toLowerCase(),t=i(t.slice(e+1));void 0===r[n]?r[n]=t:(e=r[n],"[object Array]"!==Object.prototype.toString.call(e)?r[n]=[r[n],t]:r[n].push(t))}),r}},{"for-each":283,trim:305}],305:[function(t,e,n){(n=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],294:[function(t,e,n){var r=window,i=function(){return r={},i.m=n=[function(t,e,n){"use strict";var p=n(5),g=n(97).f,v=n(146),m=n(8),y=n(46),b=n(20),T=n(17);t.exports=function(t,e){var n,r,i,o,s,a=t.target,u=t.global,c=t.stat,l=t.proto,h=u?p:c?p[a]:(p[a]||{}).prototype,d=u?m:m[a]||(m[a]={}),f=d.prototype;for(n in e)o=!v(u?n:a+(c?".":"#")+n,t.forced)&&h&&T(h,n),r=d[n],o&&(i=t.noTargetGet?(s=g(h,n))&&s.value:h[n]),s=o&&i?i:e[n],o&&typeof r==typeof s||(o=t.bind&&o?y(s,p):t.wrap&&o?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}(s):l&&"function"==typeof s?y(Function.call,s):s,(t.sham||s&&s.sham||r&&r.sham)&&b(o,"sham",!0),d[n]=o,l&&(T(m,o=a+"Prototype")||b(m,o,{}),m[o][n]=s,t.real&&f&&!f[n]&&b(f,n,s)))}},function(t,e,n){var r=n(5),i=n(100),o=n(17),s=n(101),a=n(102),n=n(149),u=i("wks"),c=r.Symbol,l=n?c:c&&c.withoutSetter||s;t.exports=function(t){return o(u,t)||(a&&o(c,t)?u[t]=c[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e,n){var r=n(8),i=n(17),o=n(169),s=n(25).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){t.exports=n(316)},function(n,t,e){!function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}.call(this,e(84))},function(n,t,e){!function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}.call(this,e(84))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(4),i=n(114),o=n(23),s=n(118),a=n(119),n=n(195),u=i("wks"),c=r.Symbol,l=n?c:c&&c.withoutSetter||s;t.exports=function(t){return o(u,t)||(a&&o(c,t)?u[t]=c[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e){t.exports={}},function(t,e,n){t.exports=n(231)},function(t,e,n){t.exports=n(313)},function(t,e,n){t.exports=n(325)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=n(329)},function(t,e,n){n=n(6);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(339)},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(16),i=n(25),o=n(38);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(8);t.exports=function(t){return r[t+"Prototype"]}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(16),i=n(145),o=n(19),s=n(69),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(68);t.exports=function(t){return Object(r(t))}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(8),o=n(5);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e,n){t.exports=n(335)},function(t,e,n){var r=n(30),i=n(31),o=n(87);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){n=n(12);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e,n){var r=n(30),i=n(116),o=n(13),s=n(117),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var s=n(4),a=n(29),u=n(23),c=n(85),r=n(91),n=n(56),i=n.get,l=n.enforce,h=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,r=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||u(n,"name")||a(n,"name",e),l(n).source=h.join("string"==typeof e?e:"")),t!==s?(i?!r&&t[e]&&(o=!0):delete t[e],o?t[e]=n:a(t,e,n)):o?t[e]=n:c(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},function(t,e,n){var r=n(67),i=n(68);t.exports=function(t){return r(i(t))}},function(t,e,n){t.exports=n(241)},function(t,e,n){t.exports=n(356)},function(t,e,n){t.exports=n(367)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(99),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e,n){var i=n(106),o=n(25).f,s=n(20),a=n(17),u=n(253),c=n(1)("toStringTag");t.exports=function(t,e,n,r){t&&(t=n?t:t.prototype,a(t,c)||o(t,c,{configurable:!0,value:e}),r&&!i&&s(t,"toString",u))}},function(t,e,n){t.exports=n(351)},function(t,e,n){t.exports=n(324)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(24);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){var r=n(45);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){function s(t){throw t}var a=n(16),u=n(6),c=n(17),l=Object.defineProperty,h={};t.exports=function(t,e){if(c(h,t))return h[t];var n=[][t],r=!!c(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=c(e,0)?e[0]:s,o=c(e,1)?e[1]:void 0;return h[t]=!!n&&!u(function(){if(r&&!a)return!0;var t={length:-1};r?l(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,i,o)})}},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(250),d=n(5),f=n(14),p=n(20),g=n(17),v=n(73),n=n(74),d=d.WeakMap;c=h?(r=new d,i=r.get,o=r.has,s=r.set,a=function(t,e){return s.call(r,t,e),e},u=function(t){return i.call(r,t)||{}},function(t){return o.call(r,t)}):(n[l=v("state")]=!0,a=function(t,e){return p(t,l,e),e},u=function(t){return g(t,l)?t[l]:{}},function(t){return g(t,l)}),t.exports={set:a,get:u,has:c,enforce:function(t){return c(t)?u(t):a(t,{})},getterFor:function(n){return function(t){var e;if(!f(t)||(e=u(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){var r=n(106),i=n(45),o=n(1)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:s?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,n){var i=n(20);t.exports=function(t,e,n,r){r&&r.enumerable?t[e]=n:i(t,e,n)}},function(t,e,n){var r=n(113),i=n(53);t.exports=function(t){return r(i(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(200),o=n(4);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports={}},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(201),d=n(4),f=n(22),p=n(29),g=n(23),v=n(90),n=n(88),d=d.WeakMap;c=h?(r=new d,i=r.get,o=r.has,s=r.set,a=function(t,e){return s.call(r,t,e),e},u=function(t){return i.call(r,t)||{}},function(t){return o.call(r,t)}):(n[l=v("state")]=!0,a=function(t,e){return p(t,l,e),e},u=function(t){return g(t,l)?t[l]:{}},function(t){return g(t,l)}),t.exports={set:a,get:u,has:c,enforce:function(t){return c(t)?u(t):a(t,{})},getterFor:function(n){return function(t){var e;if(!f(t)||(e=u(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){"use strict";var r=n(63),n=n(65);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},function(t,e,n){var r=n(159),i=n(105);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(24);t.exports.f=function(t){return new r(t)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(62),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var c=n(4),l=n(92).f,h=n(29),d=n(32),f=n(85),p=n(203),g=n(93);t.exports=function(t,e){var n,r,i,o,s=t.target,a=t.global,u=t.stat;if(n=a?c:u?c[s]||f(s,{}):(c[s]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(o=l(n,r))&&o.value:n[r],!g(a?r:s+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;p(i,o)}(t.sham||o&&o.sham)&&h(i,"sham",!0),d(n,r,i,t)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r,h=n(96),i=n(137),d=RegExp.prototype.exec,f=String.prototype.replace,o=d,p=(r=/b*/g,d.call(n=/a/,"a"),d.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(p||v||g)&&(o=function(t){var e,n,r,i,o=this,s=g&&o.sticky,a=h.call(o),u=o.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",a)),v&&(n=new RegExp("^"+u+"$(?!\\s)",a)),p&&(e=o.lastIndex),r=d.call(s?n:o,l),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),v&&r&&1<r.length&&f.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=o},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){t=i(this,t);return!!t&&t.enumerable}:r},function(t,e,n){var r=n(6),i=n(45),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){function r(d){var f=1==d,p=2==d,g=3==d,v=4==d,m=6==d,y=5==d||m;return function(t,e,n,r){for(var i,o,s=_(t),a=T(s),u=b(e,n,3),c=S(a.length),l=0,r=r||E,h=f?r(t,c):p?r(t,0):void 0;l<c;l++)if((y||l in a)&&(o=u(i=a[l],l,s),d))if(f)h[l]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return l;case 2:w.call(h,i)}else if(v)return!1;return m?-1:g||v?v:h}}var b=n(46),T=n(67),_=n(26),S=n(39),E=n(147),w=[].push;t.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(t,e,n){var r=n(6),i=n(1),o=n(103),s=i("species");t.exports=function(e){return 51<=o||!r(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(t,e,n){n(154);var r,i=n(255),o=n(5),s=n(50),a=n(20),u=n(41),c=n(1)("toStringTag");for(r in i){var l=o[r],l=l&&l.prototype;l&&s(l)!==c&&a(l,c,r),u[r]=u.Array}},function(t,e,n){var r=n(100),i=n(101),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e,n){function r(){}function i(t){return"<script>"+t+"<\/script>"}var o,s=n(19),a=n(252),u=n(105),c=n(74),l=n(162),h=n(98),d=n(73)("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=h("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete f.prototype[u[n]];return f()};c[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=s(t),n=new r,r.prototype=null,n[d]=t):n=f(),void 0===e?n:a(n,e)}},function(t,e,n){"use strict";var r=n(256).charAt,i=n(49),n=n(156),o=i.set,s=i.getterFor("String Iterator");n(String,"String",function(t){o(this,{type:"String Iterator",string:String(t),index:0})},function(){var t=s(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=r(e,n),t.index+=n.length,{value:n,done:!1})})},function(t,e,n){var r=n(50),i=n(41),o=n(1)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){function d(t,e){this.stopped=t,this.result=e}var f=n(19),p=n(171),g=n(39),v=n(46),m=n(77),y=n(170);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,h=v(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(i=m(t)))throw TypeError("Target is not iterable");if(p(i)){for(s=0,a=g(t.length);s<a;s++)if((u=r?h(f(l=t[s])[0],l[1]):h(t[s]))&&u instanceof d)return u;return new d(!1)}o=i.call(t)}for(c=o.next;!(l=c.call(o)).done;)if("object"==typeof(u=y(o,h,l.value,r))&&u&&u instanceof d)return u;return new d(!1)}).stop=function(t){return new d(!0,t)}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){"use strict";var r=n(63),i=n(113),o=n(52),n=n(334),s=[].join,i=i!=Object,n=n("join",",");r({target:"Array",proto:!0,forced:i||!n},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,n){t.exports=n(321)},function(t,e,n){t.exports=n(347)},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4),i=n(29);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){var r=n(4),n=n(22),i=r.document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(114),i=n(118),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var n=n(115),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,n){var r=n(30),i=n(202),o=n(87),s=n(52),a=n(117),u=n(23),c=n(116),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){function r(t,e){t=a[s(t)];return t==c||t!=u&&("function"==typeof e?i(e):!!e)}var i=n(12),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(31).f,i=n(23),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r={};r[n(7)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(13);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(16),i=n(66),o=n(38),s=n(33),a=n(69),u=n(17),c=n(145),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(5),n=n(14),i=r.document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(40),i=n(148);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){n=n(6);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(t,e,n){var r,i,o=n(5),n=n(150),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(17),i=n(26),o=n(73),n=n(251),s=o("IE_PROTO"),a=Object.prototype;t.exports=n?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(69),i=n(25),o=n(38);t.exports=function(t,e,n){e=r(e);e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){t.exports=n(236)},function(t,e,n){t.exports=n(153)},function(t,e,n){var r=n(243),i=n(246),o=n(286),s=n(297);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||s()}},function(t,e,n){t.exports=n(309)},function(t,e,n){"use strict";var r=n(52),i=n(194),o=n(55),s=n(56),n=n(123),a=s.set,u=s.getterFor("Array Iterator");t.exports=n(Array,"Array",function(t,e){a(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(12),i=n(37),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(60),i=n(115);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(4),n=n(85),n=r["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=n},function(t,e,n){var r=n(30),i=n(12),o=n(86);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(22);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){n=n(12);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(t,e,n){function r(){}function i(t){return"<script>"+t+"<\/script>"}var o,s=n(13),a=n(196),u=n(89),c=n(88),l=n(122),h=n(86),d=n(90)("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=h("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete f.prototype[u[n]];return f()};c[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=s(t),n=new r,r.prototype=null,n[d]=t):n=f(),void 0===e?n:a(n,e)}},function(t,e,n){var s=n(23),a=n(52),u=n(198).indexOf,c=n(88);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){n=n(54);t.exports=n("document","documentElement")},function(t,e,n){"use strict";function g(){return this}var v=n(63),m=n(206),y=n(126),b=n(128),T=n(94),_=n(29),S=n(32),r=n(7),E=n(60),w=n(55),n=n(125),A=n.IteratorPrototype,x=n.BUGGY_SAFARI_ITERATORS,P=r("iterator");t.exports=function(t,e,n,r,i,o,s){function a(t){if(t===i&&p)return p;if(!x&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}m(n,e,r);var u,c,l=e+" Iterator",h=!1,d=t.prototype,f=d[P]||d["@@iterator"]||i&&d[i],p=!x&&f||a(i),r="Array"==e&&d.entries||f;if(r&&(t=y(r.call(new t)),A!==Object.prototype&&t.next&&(E||y(t)===A||(b?b(t,A):"function"!=typeof t[P]&&_(t,P,g)),T(t,l,!0,!0),E&&(w[l]=g))),"values"==i&&f&&"values"!==f.name&&(h=!0,p=function(){return f.call(this)}),E&&!s||d[P]===p||_(d,P,p),w[e]=p,i)if(u={values:a("values"),keys:o?p:a("keys"),entries:a("entries")},s)for(c in u)!x&&!h&&c in d||S(d,c,u[c]);else v({target:e,proto:!0,forced:x||h},u);return u}},function(t,e,n){var r=n(121),i=n(89).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r,i=n(126),o=n(29),s=n(23),a=n(7),u=n(60),c=a("iterator"),n=!1;[].keys&&("next"in(a=[].keys())?(a=i(i(a)))!==Object.prototype&&(r=a):n=!0),null==r&&(r={}),u||s(r,c)||o(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:n}},function(t,e,n){var r=n(23),i=n(127),o=n(90),n=n(207),s=o("IE_PROTO"),a=Object.prototype;t.exports=n?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(53);t.exports=function(t){return Object(r(t))}},function(t,e,n){var i=n(13),o=n(208);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(95),i=n(37),o=n(7)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:s?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,n){"use strict";var r=n(54),i=n(31),o=n(7),s=n(30),a=o("species");t.exports=function(t){var e=r(t),t=i.f;s&&e&&!e[a]&&t(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(64);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){var r=n(13),i=n(64),o=n(7)("species");t.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[o])?e:i(n)}},function(t,e,n){function r(t){var e;_.hasOwnProperty(t)&&(e=_[t],delete _[t],e())}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){u.postMessage(t+"",g.protocol+"//"+g.host)}var a,u=n(4),c=n(12),l=n(37),h=n(131),d=n(122),f=n(86),p=n(134),g=u.location,v=u.setImmediate,m=u.clearImmediate,y=u.process,n=u.MessageChannel,b=u.Dispatch,T=0,_={};v&&m||(v=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return _[++T]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(T),T},m=function(t){delete _[t]},"process"==l(y)?a=function(t){y.nextTick(i(t))}:b&&b.now?a=function(t){b.now(i(t))}:n&&!p?(n=(p=new n).port2,p.port1.onmessage=o,a=h(n.postMessage,n,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||c(s)||"file:"===g.protocol?a="onreadystatechange"in f("script")?function(t){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,u.addEventListener("message",o,!1))),t.exports={set:v,clear:m}},function(t,e,n){n=n(135);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,n){n=n(54);t.exports=n("navigator","userAgent")||""},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(64);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";n=n(12);function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n(function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=n(function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},function(t,e,n){function r(o){return function(t,e){var n,r=String(a(t)),i=s(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=r.charCodeAt(i))<55296||56319<e||i+1===t||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):e:o?r.slice(i,i+2):n-56320+(e-55296<<10)+65536}}var s=n(62),a=n(53);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){"use strict";var r=n(140),l=n(141),m=n(13),h=n(53),y=n(132),b=n(142),T=n(61),_=n(143),d=n(65),n=n(12),f=[].push,S=Math.min,E=!n(function(){return!RegExp(4294967295,"y")});r("split",2,function(i,p,g){var v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(h(this)),r=void 0===e?4294967295:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!l(t))return p.call(n,t,r);for(var i,o,s,a=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,c=new RegExp(t.source,e+"g");(i=d.call(c,n))&&!((o=c.lastIndex)>u&&(a.push(n.slice(u,i.index)),1<i.length&&i.index<n.length&&f.apply(a,i.slice(1)),s=i[0].length,u=o,a.length>=r));)c.lastIndex===i.index&&c.lastIndex++;return u===n.length?!s&&c.test("")||a.push(""):a.push(n.slice(u)),a.length>r?a.slice(0,r):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:p.call(this,t,e)}:p;return[function(t,e){var n=h(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):v.call(String(n),t,e)},function(t,e){var n=g(v,t,this,e,v!==p);if(n.done)return n.value;var r=m(t),i=String(this),n=y(r,RegExp),o=r.unicode,t=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(E?"y":"g"),s=new n(E?r:"^(?:"+r.source+")",t),a=void 0===e?4294967295:e>>>0;if(0==a)return[];if(0===i.length)return null===_(s,i)?[i]:[];for(var u=0,c=0,l=[];c<i.length;){s.lastIndex=E?c:0;var h,d=_(s,E?i:i.slice(c));if(null===d||(h=S(T(s.lastIndex+(E?0:c)),i.length))===u)c=b(i,c,o);else{if(l.push(i.slice(u,c)),l.length===a)return l;for(var f=1;f<=d.length-1;f++)if(l.push(d[f]),l.length===a)return l;c=u=h}}return l.push(i.slice(u)),l}]},!E)},function(t,e,n){"use strict";n(57);var c=n(32),l=n(12),h=n(7),d=n(65),f=n(29),p=h("species"),g=!l(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),v="$0"==="a".replace(/./,"$0"),n=h("replace"),m=!!/./[n]&&""===/./[n]("a","$0"),y=!l(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]});t.exports=function(n,t,e,r){var o,i,s=h(n),a=!l(function(){var t={};return t[s]=function(){return 7},7!=""[n](t)}),u=a&&!l(function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[p]=function(){return e},e.flags="",e[s]=/./[s]),e.exec=function(){return t=!0,null},e[s](""),!t});a&&u&&("replace"!==n||g&&v&&!m)&&("split"!==n||y)||(o=/./[s],e=(u=e(s,""[n],function(t,e,n,r,i){return e.exec===d?a&&!i?{done:!0,value:o.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}))[0],i=u[1],c(String.prototype,n,e),c(RegExp.prototype,s,2==t?function(t,e){return i.call(t,this,e)}:function(t){return i.call(t,this)})),r&&f(RegExp.prototype[s],"sham",!0)}},function(t,e,n){var r=n(22),i=n(37),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(138).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(37),i=n(65);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){t.exports=n(228)},function(t,e,n){var r=n(16),i=n(6),o=n(98);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){function r(t,e){t=a[s(t)];return t==c||t!=u&&("function"==typeof e?i(e):!!e)}var i=n(6),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(14),i=n(47),o=n(1)("species");t.exports=function(t,e){var n;return new(void 0===(n=i(t)&&("function"==typeof(n=t.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))?void 0:n)?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(5),n=n(235),n=r["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=n},function(t,e,n){n=n(102);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){n=n(27);t.exports=n("navigator","userAgent")||""},function(t,e){t.exports="\t\n\v\f\r  \u2028\u2029\ufeff"},function(t,e,n){n(242);n=n(8);t.exports=n.Array.isArray},function(t,e,n){var r=function(s){"use strict";var t=Object.prototype,u=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function a(t,e,n,r){var i,o,s,a,e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new b(r||[]);return e._invoke=(i=t,o=n,s=r,a="suspendedStart",function(t,e){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s);if(r){if(r===l)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";r=c(i,o,s);if("normal"===r.type){if(a=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(a="completed",s.method="throw",s.arg=r.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}s.wrap=a;var l={};function h(){}function o(){}function d(){}var f={};f[r]=function(){return this};e=Object.getPrototypeOf,e=e&&e(e(T([])));e&&e!==t&&u.call(e,r)&&(f=e);var p=d.prototype=h.prototype=Object.create(f);function g(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function v(s,a){var e;this._invoke=function(n,r){function t(){return new a(function(t,e){!function e(t,n,r,i){t=c(s[t],s,n);if("throw"!==t.type){var o=t.arg,n=o.value;return n&&"object"==typeof n&&u.call(n,"__await")?a.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):a.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function y(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function T(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return t.next=t}}return{next:_}}function _(){return{value:void 0,done:!0}}return(o.prototype=p.constructor=d).constructor=o,d[i]=o.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(p),t},s.awrap=function(t){return{__await:t}},g(v.prototype),v.prototype[n]=function(){return this},s.AsyncIterator=v,s.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new v(a(t,e,n,r),i);return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},g(p),p[i]="Generator",p[r]=function(){return this},p.toString=function(){return"[object Generator]"},s.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=T,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=u.call(i,"catchLoc"),a=u.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),y(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,y(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},s}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";var r=n(33),i=n(249),o=n(41),s=n(49),n=n(156),a=s.set,u=s.getterFor("Array Iterator");t.exports=n(Array,"Array",function(t,e){a(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var n=n(148),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,n){"use strict";function g(){return this}var v=n(0),m=n(157),y=n(104),b=n(163),T=n(42),_=n(20),S=n(51),r=n(1),E=n(40),w=n(41),n=n(158),A=n.IteratorPrototype,x=n.BUGGY_SAFARI_ITERATORS,P=r("iterator");t.exports=function(t,e,n,r,i,o,s){function a(t){if(t===i&&p)return p;if(!x&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}m(n,e,r);var u,c,l=e+" Iterator",h=!1,d=t.prototype,f=d[P]||d["@@iterator"]||i&&d[i],p=!x&&f||a(i),r="Array"==e&&d.entries||f;if(r&&(t=y(r.call(new t)),A!==Object.prototype&&t.next&&(E||y(t)===A||(b?b(t,A):"function"!=typeof t[P]&&_(t,P,g)),T(t,l,!0,!0),E&&(w[l]=g))),"values"==i&&f&&"values"!==f.name&&(h=!0,p=function(){return f.call(this)}),E&&!s||d[P]===p||_(d,P,p),w[e]=p,i)if(u={values:a("values"),keys:o?p:a("keys"),entries:a("entries")},s)for(c in u)!x&&!h&&c in d||S(d,c,u[c]);else v({target:e,proto:!0,forced:x||h},u);return u}},function(t,e,n){"use strict";function r(){return this}var i=n(158).IteratorPrototype,o=n(75),s=n(38),a=n(42),u=n(41);t.exports=function(t,e,n){e+=" Iterator";return t.prototype=o(i,{next:s(1,n)}),a(t,e,!1,!0),u[e]=r,t}},function(t,e,n){"use strict";var r,i=n(104),o=n(20),s=n(17),a=n(1),u=n(40),c=a("iterator"),n=!1;[].keys&&("next"in(a=[].keys())?(a=i(i(a)))!==Object.prototype&&(r=a):n=!0),null==r&&(r={}),u||s(r,c)||o(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:n}},function(t,e,n){var s=n(17),a=n(33),u=n(160).indexOf,c=n(74);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(33),c=n(39),l=n(161);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(99),i=Math.max,o=Math.min;t.exports=function(t,e){t=r(t);return t<0?i(t+e,0):o(t,e)}},function(t,e,n){n=n(27);t.exports=n("document","documentElement")},function(t,e,n){var i=n(19),o=n(254);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(19),i=n(77);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";var r=n(0),i=n(6),c=n(47),l=n(14),h=n(26),d=n(39),f=n(107),p=n(147),o=n(71),s=n(1),n=n(103),g=s("isConcatSpreadable"),i=51<=n||!i(function(){var t=[];return t[g]=!1,t.concat()[0]!==t}),o=o("concat");r({target:"Array",proto:!0,forced:!i||!o},{concat:function(t){for(var e,n,r,i=h(this),o=p(i,0),s=0,a=-1,u=arguments.length;a<u;a++)if(function(t){if(l(t)){var e=t[g];return void 0!==e?e:c(t)}}(r=-1===a?i:arguments[a])){if(9007199254740991<s+(n=d(r.length)))throw TypeError("Maximum allowed index exceeded");for(e=0;e<n;e++,s++)e in r&&f(o,s,r[e])}else{if(9007199254740991<=s)throw TypeError("Maximum allowed index exceeded");f(o,s++,r)}return o.length=s,o}})},function(t,e){},function(t,e,n){var r=n(159),i=n(105).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){n=n(1);e.f=n},function(t,e,n){var i=n(19);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,n){var r=n(1),i=n(41),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var i=n(1)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r=n(294),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||t instanceof Array&&e===i.slice?r:e}},function(t,e,n){n(166),n(76),n(72),n(300),n(182),n(304);n=n(8);t.exports=n.Promise},function(t,e,n){n=n(5);t.exports=n.Promise},function(t,e,n){var i=n(51);t.exports=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(19),i=n(24),o=n(1)("species");t.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[o])?e:i(n)}},function(t,e,n){function r(t){var e;_.hasOwnProperty(t)&&(e=_[t],delete _[t],e())}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){u.postMessage(t+"",g.protocol+"//"+g.host)}var a,u=n(5),c=n(6),l=n(45),h=n(46),d=n(162),f=n(98),p=n(180),g=u.location,v=u.setImmediate,m=u.clearImmediate,y=u.process,n=u.MessageChannel,b=u.Dispatch,T=0,_={};v&&m||(v=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return _[++T]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(T),T},m=function(t){delete _[t]},"process"==l(y)?a=function(t){y.nextTick(i(t))}:b&&b.now?a=function(t){b.now(i(t))}:n&&!p?(n=(p=new n).port2,p.port1.onmessage=o,a=h(n.postMessage,n,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||c(s)||"file:"===g.protocol?a="onreadystatechange"in f("script")?function(t){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,u.addEventListener("message",o,!1))),t.exports={set:v,clear:m}},function(t,e,n){n=n(150);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,n){var r=n(19),i=n(14),o=n(59);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;t=o.f(t);return(0,t.resolve)(e),t.promise}},function(t,e,n){"use strict";var r=n(0),c=n(24),i=n(59),o=n(79),l=n(78);r({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=i.f(a),u=e.resolve,n=e.reject,r=o(function(){var r=c(a.resolve),i=[],o=0,s=1;l(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--s||u(i))},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--s||u(i))})}),--s||u(i)});return r.error&&n(r.value),e.promise}})},function(t,e,n){var r=n(144);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var c=n(298);function u(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return n(t),0}a.done?e(u):c.resolve(u).then(r,i)}t.exports=function(a){return function(){var t=this,s=arguments;return new c(function(e,n){var r=a.apply(t,s);function i(t){u(r,e,n,i,o,"next",t)}function o(t){u(r,e,n,i,o,"throw",t)}i(void 0)})}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var i=n(144);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(e,t,n){(e.exports?function(t){e.exports=t()}:n(345))(function(){"use strict";var a,u={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b(?!\\))",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},c=Object.prototype.hasOwnProperty;function e(t,e){return null!=t&&null!=e&&t.toLowerCase()===e.toLowerCase()}function n(t,e){var n,r,i=t.length;if(!i||!e)return!1;for(n=e.toLowerCase(),r=0;r<i;++r)if(n===t[r].toLowerCase())return!0;return!1}function l(t){for(var e in t)c.call(t,e)&&(t[e]=new RegExp(t[e],"i"))}function i(t,e){this.ua=(t||"").substr(0,500),this._cache={},this.maxPhoneWidth=e||600}return u.FALLBACK_PHONE="UnknownPhone",u.FALLBACK_TABLET="UnknownTablet",u.FALLBACK_MOBILE="UnknownMobile",a="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},function(){var t,e,n,r,i,o,s=u.mobileDetectRules;for(t in s.props)if(c.call(s.props,t)){for(e=s.props[t],i=(e=!a(e)?[e]:e).length,r=0;r<i;++r)0<=(o=(n=e[r]).indexOf("[VER]"))&&(n=n.substring(0,o)+"([\\w._\\+]+)"+n.substring(o+5)),e[r]=new RegExp(n,"i");s.props[t]=e}l(s.oss),l(s.phones),l(s.tablets),l(s.uas),l(s.utils),s.oss0={WindowsPhoneOS:s.oss.WindowsPhoneOS,WindowsMobileOS:s.oss.WindowsMobileOS}}(),u.findMatch=function(t,e){for(var n in t)if(c.call(t,n)&&t[n].test(e))return n;return null},u.findMatches=function(t,e){var n,r=[];for(n in t)c.call(t,n)&&t[n].test(e)&&r.push(n);return r},u.getVersionStr=function(t,e){var n,r,i,o,s=u.mobileDetectRules.props;if(c.call(s,t))for(i=(n=s[t]).length,r=0;r<i;++r)if(null!==(o=n[r].exec(e)))return o[1];return null},u.getVersion=function(t,e){e=u.getVersionStr(t,e);return e?u.prepareVersionNo(e):NaN},u.prepareVersionNo=function(t){var e;return 1===(e=t.split(/[a-z._ \/\-]/i)).length&&(t=e[0]),1<e.length&&(t=e[0]+".",e.shift(),t+=e.join("")),Number(t)},u.isMobileFallback=function(t){return u.detectMobileBrowsers.fullPattern.test(t)||u.detectMobileBrowsers.shortPattern.test(t.substr(0,4))},u.isTabletFallback=function(t){return u.detectMobileBrowsers.tabletPattern.test(t)},u.prepareDetectionCache=function(t,e,n){var r;if(void 0===t.mobile)return(r=u.findMatch(u.mobileDetectRules.tablets,e))?(t.mobile=t.tablet=r,void(t.phone=null)):(r=u.findMatch(u.mobileDetectRules.phones,e))?(t.mobile=t.phone=r,void(t.tablet=null)):void(u.isMobileFallback(e)?void 0===(n=i.isPhoneSized(n))?(t.mobile=u.FALLBACK_MOBILE,t.tablet=t.phone=null):n?(t.mobile=t.phone=u.FALLBACK_PHONE,t.tablet=null):(t.mobile=t.tablet=u.FALLBACK_TABLET,t.phone=null):u.isTabletFallback(e)?(t.mobile=t.tablet=u.FALLBACK_TABLET,t.phone=null):t.mobile=t.tablet=t.phone=null)},u.mobileGrade=function(t){var e=null!==t.mobile();return t.os("iOS")&&4.3<=t.version("iPad")||t.os("iOS")&&3.1<=t.version("iPhone")||t.os("iOS")&&3.1<=t.version("iPod")||2.1<t.version("Android")&&t.is("Webkit")||7<=t.version("Windows Phone OS")||t.is("BlackBerry")&&6<=t.version("BlackBerry")||t.match("Playbook.*Tablet")||1.4<=t.version("webOS")&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&12<=t.version("Firefox")||t.is("Chrome")&&t.is("AndroidOS")&&4<=t.version("Android")||t.is("Skyfire")&&4.1<=t.version("Skyfire")&&t.is("AndroidOS")&&2.3<=t.version("Android")||t.is("Opera")&&11<t.version("Opera Mobi")&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&2<=t.version("Bada")||(t.is("UC Browser")||t.is("Dolfin"))&&2.3<=t.version("Android")||t.match("Kindle Fire")||t.is("Kindle")&&3<=t.version("Kindle")||t.is("AndroidOS")&&t.is("NookTablet")||11<=t.version("Chrome")&&!e||5<=t.version("Safari")&&!e||4<=t.version("Firefox")&&!e||7<=t.version("MSIE")&&!e||10<=t.version("Opera")&&!e?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&5<=t.version("BlackBerry")&&t.version("BlackBerry")<6||5<=t.version("Opera Mini")&&t.version("Opera Mini")<=6.5&&(2.3<=t.version("Android")||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||11<=t.version("Opera Mobi")&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile"),"C")},u.detectOS=function(t){return u.findMatch(u.mobileDetectRules.oss0,t)||u.findMatch(u.mobileDetectRules.oss,t)},u.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},i.prototype={constructor:i,mobile:function(){return u.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return u.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return u.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return void 0===this._cache.userAgent&&(this._cache.userAgent=u.findMatch(u.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return void 0===this._cache.userAgents&&(this._cache.userAgents=u.findMatches(u.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return void 0===this._cache.os&&(this._cache.os=u.detectOS(this.ua)),this._cache.os},version:function(t){return u.getVersion(t,this.ua)},versionStr:function(t){return u.getVersionStr(t,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(u.findMatches(u.mobileDetectRules.utils,this.ua),t)},match:function(t){return(t=!(t instanceof RegExp)?new RegExp(t,"i"):t).test(this.ua)},isPhoneSized:function(t){return i.isPhoneSized(t||this.maxPhoneWidth)},mobileGrade:function(){return void 0===this._cache.grade&&(this._cache.grade=u.mobileGrade(this)),this._cache.grade}},i.isPhoneSized="undefined"!=typeof window&&window.screen?function(t){return t<0?void 0:u.getDeviceSmallerSide()<=t}:function(){},i._impl=u,i.version="1.4.4 2019-09-21",i})},function(t,d,f){"use strict";!function(e){f.d(d,"a",function(){return t});function o(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function s(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}function a(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}function u(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}var n=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},r=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,l=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],h=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function t(t){return t?i(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new r:"undefined"!=typeof navigator?i(navigator.userAgent):void 0!==e&&e.version?new n(e.version.slice(1)):null}function i(t){var r,e=""!==(r=t)&&l.reduce(function(t,e){var n=e[0],e=e[1];if(t)return t;e=e.exec(r);return!!e&&[n,e]},!1);if(!e)return null;var n=e[0],i=e[1];if("searchbot"===n)return new u;e=i[1]&&i[1].split(/[._]/).slice(0,3);e?e.length<3&&(e=o(e,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-e.length))):e=[];i=e.join("."),e=function(t){for(var e=0,n=h.length;e<n;e++){var r=h[e],i=r[0];if(r[1].exec(t))return i}return null}(t),t=c.exec(t);return t&&t[1]?new a(n,i,e,t[1]):new s(n,i,e)}}.call(this,f(346))},function(t,e,n){t.exports=n(352)},function(t,e,n){t.exports=n(361)},function(t,e,n){"use strict";var x=n(371),P=n(373);function _(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=i,e.resolve=function(t,e){return i(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},e.format=function(t){return(t=P.isString(t)?i(t):t)instanceof _?t.format():_.prototype.format.call(t)},e.Url=_;var C=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,k=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,e=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),L=["'"].concat(e),R=["%","/","?",";","#"].concat(L),I=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,O=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,M={javascript:!0,"javascript:":!0},N={javascript:!0,"javascript:":!0},B={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},F=n(374);function i(t,e,n){if(t&&P.isObject(t)&&t instanceof _)return t;var r=new _;return r.parse(t,e,n),r}_.prototype.parse=function(t,e,n){if(!P.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",r=t.split(i);r[0]=r[0].replace(/\\/g,"/");var o=(o=t=r.join(i)).trim();if(!n&&1===t.split("#").length){var s=k.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?F.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,s=C.exec(o);if(s&&(A=(s=s[0]).toLowerCase(),this.protocol=A,o=o.substr(s.length)),(n||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===o.substr(0,2))||s&&N[s]||(o=o.substr(2),this.slashes=!0)),!N[s]&&(a||s&&!B[s])){for(var u,c=-1,l=0;l<I.length;l++)-1!==(u=o.indexOf(I[l]))&&(-1===c||u<c)&&(c=u);for(-1!==(_=-1===c?o.lastIndexOf("@"):o.lastIndexOf("@",c))&&(S=o.slice(0,_),o=o.slice(_+1),this.auth=decodeURIComponent(S)),c=-1,l=0;l<R.length;l++)-1!==(u=o.indexOf(R[l]))&&(-1===c||u<c)&&(c=u);-1===c&&(c=o.length),this.host=o.slice(0,c),o=o.slice(c),this.parseHost(),this.hostname=this.hostname||"";var h="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!h)for(var d=this.hostname.split(/\./),f=(l=0,d.length);l<f;l++){var p=d[l];if(p&&!p.match(D)){for(var g="",v=0,m=p.length;v<m;v++)127<p.charCodeAt(v)?g+="x":g+=p[v];if(!g.match(D)){var y=d.slice(0,l),b=d.slice(l+1),T=p.match(O);T&&(y.push(T[1]),b.unshift(T[2])),b.length&&(o="/"+b.join(".")+o),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),h||(this.hostname=x.toASCII(this.hostname));var _=this.port?":"+this.port:"",S=this.hostname||"";this.host=S+_,this.href+=this.host,h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!M[A])for(l=0,f=L.length;l<f;l++){var E,w=L[l];-1!==o.indexOf(w)&&((E=encodeURIComponent(w))===w&&(E=escape(w)),o=o.split(w).join(E))}h=o.indexOf("#");-1!==h&&(this.hash=o.substr(h),o=o.slice(0,h));var A,h=o.indexOf("?");return-1!==h?(this.search=o.substr(h),this.query=o.substr(h+1),e&&(this.query=F.parse(this.query)),o=o.slice(0,h)):e&&(this.search="",this.query={}),o&&(this.pathname=o),B[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(_=this.pathname||"",A=this.search||"",this.path=_+A),this.href=this.format(),this},_.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&P.isObject(this.query)&&Object.keys(this.query).length&&(o=F.stringify(this.query));o=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||B[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+r},_.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},_.prototype.resolveObject=function(t){P.isString(t)&&((f=new _).parse(t,!1,!0),t=f);for(var e=new _,n=Object.keys(this),r=0;r<n.length;r++){var i=n[r];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];"protocol"!==a&&(e[a]=t[a])}return B[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!B[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||N[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(p=e.pathname||"",g=e.search||"",e.path=p+g),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var d=e.pathname&&"/"===e.pathname.charAt(0),f=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=f||d||e.host&&t.pathname,g=p,v=e.pathname&&e.pathname.split("/")||[],d=(h=t.pathname&&t.pathname.split("/")||[],e.protocol&&!B[e.protocol]);if(d&&(e.hostname="",e.port=null,e.host&&(""===v[0]?v[0]=e.host:v.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),p=p&&(""===h[0]||""===v[0])),f)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,v=h;else if(h.length)(v=v||[]).pop(),v=v.concat(h),e.search=t.search,e.query=t.query;else if(!P.isNullOrUndefined(t.search))return d&&(e.hostname=e.host=v.shift(),(T=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=T.shift(),e.host=e.hostname=T.shift())),e.search=t.search,e.query=t.query,P.isNull(e.pathname)&&P.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!v.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var m=v.slice(-1)[0],f=(e.host||t.host||1<v.length)&&("."===m||".."===m)||""===m,y=0,b=v.length;0<=b;b--)"."===(m=v[b])?v.splice(b,1):".."===m?(v.splice(b,1),y++):y&&(v.splice(b,1),y--);if(!p&&!g)for(;y--;)v.unshift("..");!p||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),f&&"/"!==v.join("/").substr(-1)&&v.push("");var T,f=""===v[0]||v[0]&&"/"===v[0].charAt(0);return d&&(e.hostname=e.host=!f&&v.length?v.shift():"",(T=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=T.shift(),e.host=e.hostname=T.shift())),(p=p||e.host&&v.length)&&!f&&v.unshift(""),v.length?e.pathname=v.join("/"):(e.pathname=null,e.path=null),P.isNull(e.pathname)&&P.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},_.prototype.parseHost=function(){var t=this.host,e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){t.exports=n(377)},function(t,e,n){t.exports=n(381)},function(t,e,n){var r=n(7),i=n(120),n=n(31),o=r("unscopables"),s=Array.prototype;null==s[o]&&n.f(s,o,{configurable:!0,value:i(null)}),t.exports=function(t){s[o][t]=!0}},function(t,e,n){n=n(119);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(30),s=n(31),a=n(13),u=n(197);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(121),i=n(89);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(52),c=n(61),l=n(199);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(62),i=Math.max,o=Math.min;t.exports=function(t,e){t=r(t);return t<0?i(t+e,0):o(t,e)}},function(t,e,n){n=n(4);t.exports=n},function(t,e,n){var r=n(4),n=n(91),r=r.WeakMap;t.exports="function"==typeof r&&/native code/.test(n(r))},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){t=i(this,t);return!!t&&t.enumerable}:r},function(t,e,n){var a=n(23),u=n(204),c=n(92),l=n(31);t.exports=function(t,e){for(var n=u(e),r=l.f,i=c.f,o=0;o<n.length;o++){var s=n[o];a(t,s)||r(t,s,i(e,s))}}},function(t,e,n){var r=n(54),i=n(124),o=n(205),s=n(13);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";function r(){return this}var i=n(125).IteratorPrototype,o=n(120),s=n(87),a=n(94),u=n(55);t.exports=function(t,e,n){e+=" Iterator";return t.prototype=o(i,{next:s(1,n)}),a(t,e,!1,!0),u[e]=r,t}},function(t,e,n){n=n(12);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(95),i=n(32),n=n(210);r||i(Object.prototype,"toString",n,{unsafe:!0})},function(t,e,n){"use strict";var r=n(95),i=n(129);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(h,d,f){var p;d.notified||(d.notified=!0,p=d.reactions,R(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&et(h,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(K("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,f&&!d.rejection&&tt(h,d)}))}function i(t,e,n){var r;Z?((r=X.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),p.dispatchEvent(r)):r={promise:e,reason:n},(e=p["on"+t])?e(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,(e=r?r:e).value=n,e.state=2,o(t,e,!0))}function u(t){return 1!==t.rejection&&!t.parent}var r,c,l,h,d=n(63),f=n(60),p=n(4),v=n(54),m=n(212),y=n(32),b=n(213),T=n(94),_=n(130),S=n(22),E=n(64),w=n(214),A=n(37),x=n(91),P=n(215),C=n(219),k=n(132),L=n(133).set,R=n(220),I=n(221),D=n(222),O=n(136),M=n(223),N=n(56),B=n(93),F=n(7),j=n(224),G=F("species"),U="Promise",H=N.get,V=N.set,W=N.getterFor(U),q=m,K=p.TypeError,X=p.document,z=p.process,Y=v("fetch"),Q=O.f,J=Q,$="process"==A(z),Z=!!(X&&X.createEvent&&p.dispatchEvent),B=B(U,function(){if(x(q)===String(q)){if(66===j)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!q.prototype.finally)return!0;if(51<=j&&/native code/.test(q))return!1;function t(t){t(function(){},function(){})}var e=q.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),C=B||!C(function(t){q.all(t).catch(function(){})}),tt=function(n,r){L.call(p,function(){var t,e=r.value;if(u(r)&&(t=M(function(){$?z.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=$||u(r)?2:1,t.error))throw t.value})},et=function(t,e){L.call(p,function(){$?z.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},nt=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw K("Promise can't be resolved itself");var i=g(t);i?R(function(){var e={done:!1};try{i.call(t,s(nt,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};B&&(q=function(t){w(this,q,U),E(t),r.call(this);var e=H(this);try{t(s(nt,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){V(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(q.prototype,{then:function(t,e){var n=W(this),r=Q(k(this,q));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=$?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),c=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(nt,t,e),this.reject=s(a,t,e)},O.f=Q=function(t){return t===q||t===l?new c(t):J(t)},f||"function"!=typeof m||(h=m.prototype.then,y(m.prototype,"then",function(t,e){var n=this;return new q(function(t,e){h.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Y&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(q,Y.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:B},{Promise:q}),T(q,U,!1,!0),_(U),l=v(U),d({target:U,stat:!0,forced:B},{reject:function(t){var e=Q(this);return e.reject.call(void 0,t),e.promise}}),d({target:U,stat:!0,forced:f||B},{resolve:function(t){return I(f&&this===l?q:this,t)}}),d({target:U,stat:!0,forced:C},{all:function(t){var a=this,e=Q(a),u=e.resolve,c=e.reject,n=M(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=Q(n),i=r.reject,e=M(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){n=n(4);t.exports=n.Promise},function(t,e,n){var i=n(32);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){function d(t,e){this.stopped=t,this.result=e}var f=n(13),p=n(216),g=n(61),v=n(131),m=n(217),y=n(218);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,h=v(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(i=m(t)))throw TypeError("Target is not iterable");if(p(i)){for(s=0,a=g(t.length);s<a;s++)if((u=r?h(f(l=t[s])[0],l[1]):h(t[s]))&&u instanceof d)return u;return new d(!1)}o=i.call(t)}for(c=o.next;!(l=c.call(o)).done;)if("object"==typeof(u=y(o,h,l.value,r))&&u&&u instanceof d)return u;return new d(!1)}).stop=function(t){return new d(!0,t)}},function(t,e,n){var r=n(7),i=n(55),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(129),i=n(55),o=n(7)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var i=n(13);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,n){var i=n(7)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(4),d=n(92).f,f=n(37),p=n(133).set,g=n(134),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,n=h.Promise,y="process"==f(m),d=d(h,"queueMicrotask"),d=d&&d.value;d||(r=function(){var t,e;for(y&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=y?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):n&&n.resolve?(c=n.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(h,r)}),t.exports=d||function(t){t={fn:t,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(t,e,n){var r=n(13),i=n(22),o=n(136);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;t=o.f(t);return(0,t.resolve)(e),t.promise}},function(t,e,n){var r=n(4);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,i,o=n(4),n=n(135),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){"use strict";var r=n(138).charAt,i=n(56),n=n(123),o=i.set,s=i.getterFor("String Iterator");n(String,"String",function(t){o(this,{type:"String Iterator",string:String(t),index:0})},function(){var t=s(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=r(e,n),t.index+=n.length,{value:n,done:!1})})},function(t,e,n){var r,i=n(4),o=n(227),s=n(112),a=n(29),n=n(7),u=n("iterator"),c=n("toStringTag"),l=s.values;for(r in o){var h=i[r],d=h&&h.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(t){d[u]=l}if(d[c]||a(d,c,r),o[r])for(var f in s)if(d[f]!==s[f])try{a(d,f,s[f])}catch(t){d[f]=s[f]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){n=n(229);t.exports=n},function(t,e,n){n(230);var r=n(8).Object,t=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(t.sham=!0)},function(t,e,n){var r=n(0),i=n(16);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(25).f})},function(t,e,n){n=n(232);t.exports=n},function(t,e,n){var r=n(233),i=Array.prototype;t.exports=function(t){var e=t.map;return t===i||t instanceof Array&&e===i.map?r:e}},function(t,e,n){n(234);n=n(21);t.exports=n("Array").map},function(t,e,n){"use strict";var r=n(0),i=n(70).map,o=n(71),n=n(48),o=o("map"),n=n("map");r({target:"Array",proto:!0,forced:!o||!n},{map:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(5),i=n(20);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){n=n(237);t.exports=n},function(t,e,n){n(238);n=n(8);t.exports=n.parseInt},function(t,e,n){var r=n(0),n=n(239);r({global:!0,forced:parseInt!=n},{parseInt:n})},function(t,e,n){var r=n(5),i=n(240).trim,n=n(151),o=r.parseInt,s=/^[+-]?0[Xx]/,n=8!==o(n+"08")||22!==o(n+"0x16");t.exports=n?function(t,e){t=i(String(t));return o(t,e>>>0||(s.test(t)?16:10))}:o},function(t,e,n){function r(e){return function(t){t=String(i(t));return 1&e&&(t=t.replace(o,"")),t=2&e?t.replace(s,""):t}}var i=n(68),n="["+n(151)+"]",o=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$");t.exports={start:r(1),end:r(2),trim:r(3)}},function(t,e,n){n=n(152);t.exports=n},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(47)})},function(t,e,n){var r=n(244);t.exports=function(t){if(r(t))return t}},function(t,e,n){t.exports=n(245)},function(t,e,n){n=n(152);t.exports=n},function(t,e,n){var u=n(247),c=n(257),l=n(260);t.exports=function(t,e){if(void 0!==l&&c(Object(t))){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=u(t);!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},function(t,e,n){t.exports=n(248)},function(t,e,n){n(72),n(76);n=n(164);t.exports=n},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(5),n=n(155),r=r.WeakMap;t.exports="function"==typeof r&&/native code/.test(n(r))},function(t,e,n){n=n(6);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(16),s=n(25),a=n(19),u=n(58);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){"use strict";var r=n(106),i=n(50);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(14);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){function r(o){return function(t,e){var n,r=String(a(t)),i=s(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=r.charCodeAt(i))<55296||56319<e||i+1===t||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):e:o?r.slice(i,i+2):n-56320+(e-55296<<10)+65536}}var s=n(99),a=n(68);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){t.exports=n(258)},function(t,e,n){n(72),n(76);n=n(259);t.exports=n},function(t,e,n){var r=n(50),i=n(1),o=n(41),s=i("iterator");t.exports=function(t){t=Object(t);return void 0!==t[s]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(t,e,n){t.exports=n(261)},function(t,e,n){var r=n(262);n(281),n(282),n(283),n(284),n(285),t.exports=r},function(t,e,n){n(165),n(166),n(263),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280);n=n(8);t.exports=n.Symbol},function(t,e,n){"use strict";function r(t,e){var n=Z[t]=E(X.prototype);return W(n,{type:"Symbol",tag:t,description:e}),h||(n.description=e),n}function i(e,t){y(e);var n=T(t),t=w(n).concat(ut(n));return H(t,function(t){h&&!at.call(n,t)||st(e,t,n[t])}),e}function o(t,e){var n=T(t),t=_(e,!0);if(n!==K||!g(Z,t)||g(tt,t)){e=Y(n,t);return!e||!g(Z,t)||g(n,V)&&n[V][t]||(e.enumerable=!0),e}}function s(t){var t=J(T(t)),e=[];return H(t,function(t){g(Z,t)||g(M,t)||e.push(t)}),e}var a=n(0),u=n(5),c=n(27),l=n(40),h=n(16),d=n(102),f=n(149),p=n(6),g=n(17),v=n(47),m=n(14),y=n(19),b=n(26),T=n(33),_=n(69),S=n(38),E=n(75),w=n(58),A=n(167),x=n(264),P=n(168),C=n(97),k=n(25),L=n(66),R=n(20),I=n(51),D=n(100),O=n(73),M=n(74),N=n(101),B=n(1),F=n(169),j=n(2),G=n(42),U=n(49),H=n(70).forEach,V=O("hidden"),O=B("toPrimitive"),W=U.set,q=U.getterFor("Symbol"),K=Object.prototype,X=u.Symbol,z=c("JSON","stringify"),Y=C.f,Q=k.f,J=x.f,$=L.f,Z=D("symbols"),tt=D("op-symbols"),et=D("string-to-symbol-registry"),nt=D("symbol-to-string-registry"),D=D("wks"),u=u.QObject,rt=!u||!u.prototype||!u.prototype.findChild,it=h&&p(function(){return 7!=E(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Y(K,e);r&&delete K[e],Q(t,e,n),r&&t!==K&&Q(K,e,r)}:Q,ot=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof X},st=function(t,e,n){t===K&&st(tt,e,n),y(t);e=_(e,!0);return y(n),g(Z,e)?(n.enumerable?(g(t,V)&&t[V][e]&&(t[V][e]=!1),n=E(n,{enumerable:S(0,!1)})):(g(t,V)||Q(t,V,S(1,{})),t[V][e]=!0),it(t,e,n)):Q(t,e,n)},at=function(t){var e=_(t,!0),t=$.call(this,e);return!(this===K&&g(Z,e)&&!g(tt,e))&&(!(t||!g(this,e)||!g(Z,e)||g(this,V)&&this[V][e])||t)},ut=function(t){var e=t===K,t=J(e?tt:T(t)),n=[];return H(t,function(t){!g(Z,t)||e&&!g(K,t)||n.push(Z[t])}),n};d||(I((X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=N(t),n=function(t){this===K&&n.call(tt,t),g(this,V)&&g(this[V],e)&&(this[V][e]=!1),it(this,e,S(1,t))};return h&&rt&&it(K,e,{configurable:!0,set:n}),r(e,t)}).prototype,"toString",function(){return q(this).tag}),I(X,"withoutSetter",function(t){return r(N(t),t)}),L.f=at,k.f=st,C.f=o,A.f=x.f=s,P.f=ut,F.f=function(t){return r(B(t),t)},h&&(Q(X.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),l||I(K,"propertyIsEnumerable",at,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:X}),H(w(D),function(t){j(t)}),a({target:"Symbol",stat:!0,forced:!d},{for:function(t){var e=String(t);if(g(et,e))return et[e];t=X(e);return et[e]=t,nt[t]=e,t},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(g(nt,t))return nt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!h},{create:function(t,e){return void 0===e?E(t):i(E(t),e)},defineProperty:st,defineProperties:i,getOwnPropertyDescriptor:o}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:s,getOwnPropertySymbols:ut}),a({target:"Object",stat:!0,forced:p(function(){P.f(1)})},{getOwnPropertySymbols:function(t){return P.f(b(t))}}),z&&a({target:"JSON",stat:!0,forced:!d||p(function(){var t=X();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})},{stringify:function(t,e,n){for(var r,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if((m(r=e)||void 0!==t)&&!ot(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),i[1]=e,z.apply(null,i)}}),X.prototype[O]||R(X.prototype,O,X.prototype.valueOf),G(X,"Symbol"),M[V]=!0},function(t,e,n){var r=n(33),i=n(167).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){n(2)("asyncIterator")},function(t,e){},function(t,e,n){n(2)("hasInstance")},function(t,e,n){n(2)("isConcatSpreadable")},function(t,e,n){n(2)("iterator")},function(t,e,n){n(2)("match")},function(t,e,n){n(2)("matchAll")},function(t,e,n){n(2)("replace")},function(t,e,n){n(2)("search")},function(t,e,n){n(2)("species")},function(t,e,n){n(2)("split")},function(t,e,n){n(2)("toPrimitive")},function(t,e,n){n(2)("toStringTag")},function(t,e,n){n(2)("unscopables")},function(t,e,n){n(42)(Math,"Math",!0)},function(t,e,n){var r=n(5);n(42)(r.JSON,"JSON",!0)},function(t,e,n){n(2)("asyncDispose")},function(t,e,n){n(2)("dispose")},function(t,e,n){n(2)("observable")},function(t,e,n){n(2)("patternMatch")},function(t,e,n){n(2)("replaceAll")},function(t,e,n){var r=n(287),i=n(292),o=n(296);t.exports=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=i(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?r(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}},function(t,e,n){t.exports=n(288)},function(t,e,n){n=n(289);t.exports=n},function(t,e,n){n(76),n(290);n=n(8);t.exports=n.Array.from},function(t,e,n){var r=n(0),i=n(291);r({target:"Array",stat:!0,forced:!n(172)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var f=n(46),p=n(26),g=n(170),v=n(171),m=n(39),y=n(107),b=n(77);t.exports=function(t){var e,n,r,i,o,s,a=p(t),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,h=void 0!==l,t=b(a),d=0;if(h&&(l=f(l,2<c?arguments[2]:void 0,2)),null==t||u==Array&&v(t))for(n=new u(e=m(a.length));d<e;d++)s=h?l(a[d],d):a[d],y(n,d,s);else for(o=(i=t.call(a)).next,n=new u;!(r=o.call(i)).done;d++)s=h?g(i,l,[r.value,d],!0):r.value,y(n,d,s);return n.length=d,n}},function(t,e,n){t.exports=n(293)},function(t,e,n){n=n(173);t.exports=n},function(t,e,n){n(295);n=n(21);t.exports=n("Array").slice},function(t,e,n){"use strict";var r=n(0),c=n(14),l=n(47),h=n(161),d=n(39),f=n(33),p=n(107),i=n(1),o=n(71),n=n(48),o=o("slice"),n=n("slice",{ACCESSORS:!0,0:0,1:2}),g=i("species"),v=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!o||!n},{slice:function(t,e){var n,r,i,o=f(this),s=d(o.length),a=h(t,s),u=h(void 0===e?s:e,s);if(l(o)&&((n="function"==typeof(n=o.constructor)&&(n===Array||l(n.prototype))||c(n)&&null===(n=n[g])?void 0:n)===Array||void 0===n))return v.call(o,a,u);for(r=new(void 0===n?Array:n)(m(u-a,0)),i=0;a<u;a++,i++)a in o&&p(r,i,o[a]);return r.length=i,r}})},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){t.exports=n(299)},function(t,e,n){var r=n(174);n(305),n(306),n(307),n(308),t.exports=r},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(h,d,f){var p;d.notified||(d.notified=!0,p=d.reactions,R(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&et(h,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(K("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,f&&!d.rejection&&tt(h,d)}))}function i(t,e,n){var r;Z?((r=X.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),p.dispatchEvent(r)):r={promise:e,reason:n},(e=p["on"+t])?e(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,(e=r?r:e).value=n,e.state=2,o(t,e,!0))}function u(t){return 1!==t.rejection&&!t.parent}var r,c,l,h,d=n(0),f=n(40),p=n(5),v=n(27),m=n(175),y=n(51),b=n(176),T=n(42),_=n(301),S=n(14),E=n(24),w=n(177),A=n(45),x=n(155),P=n(78),C=n(172),k=n(178),L=n(179).set,R=n(302),I=n(181),D=n(303),O=n(59),M=n(79),N=n(49),B=n(146),F=n(1),j=n(103),G=F("species"),U="Promise",H=N.get,V=N.set,W=N.getterFor(U),q=m,K=p.TypeError,X=p.document,z=p.process,Y=v("fetch"),Q=O.f,J=Q,$="process"==A(z),Z=!!(X&&X.createEvent&&p.dispatchEvent),B=B(U,function(){if(x(q)===String(q)){if(66===j)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!q.prototype.finally)return!0;if(51<=j&&/native code/.test(q))return!1;function t(t){t(function(){},function(){})}var e=q.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),C=B||!C(function(t){q.all(t).catch(function(){})}),tt=function(n,r){L.call(p,function(){var t,e=r.value;if(u(r)&&(t=M(function(){$?z.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=$||u(r)?2:1,t.error))throw t.value})},et=function(t,e){L.call(p,function(){$?z.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},nt=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw K("Promise can't be resolved itself");var i=g(t);i?R(function(){var e={done:!1};try{i.call(t,s(nt,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};B&&(q=function(t){w(this,q,U),E(t),r.call(this);var e=H(this);try{t(s(nt,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){V(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(q.prototype,{then:function(t,e){var n=W(this),r=Q(k(this,q));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=$?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),c=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(nt,t,e),this.reject=s(a,t,e)},O.f=Q=function(t){return t===q||t===l?new c(t):J(t)},f||"function"!=typeof m||(h=m.prototype.then,y(m.prototype,"then",function(t,e){var n=this;return new q(function(t,e){h.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Y&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(q,Y.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:B},{Promise:q}),T(q,U,!1,!0),_(U),l=v(U),d({target:U,stat:!0,forced:B},{reject:function(t){var e=Q(this);return e.reject.call(void 0,t),e.promise}}),d({target:U,stat:!0,forced:f||B},{resolve:function(t){return I(f&&this===l?q:this,t)}}),d({target:U,stat:!0,forced:C},{all:function(t){var a=this,e=Q(a),u=e.resolve,c=e.reject,n=M(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=Q(n),i=r.reject,e=M(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){"use strict";var r=n(27),i=n(25),o=n(1),s=n(16),a=o("species");t.exports=function(t){var e=r(t),t=i.f;s&&e&&!e[a]&&t(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(5),d=n(97).f,f=n(45),p=n(179).set,g=n(180),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,n=h.Promise,y="process"==f(m),d=d(h,"queueMicrotask"),d=d&&d.value;d||(r=function(){var t,e;for(y&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=y?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):n&&n.resolve?(c=n.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(h,r)}),t.exports=d||function(t){t={fn:t,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(0),i=n(40),o=n(175),s=n(6),a=n(27),u=n(178),c=n(181),n=n(51);r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var n=u(this,a("Promise")),t="function"==typeof e;return this.then(t?function(t){return c(n,e()).then(function(){return t})}:e,t?function(t){return c(n,e()).then(function(){throw t})}:e)}}),i||"function"!=typeof o||o.prototype.finally||n(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){"use strict";var r=n(0),i=n(16),o=n(104),s=n(163),a=n(75),u=n(25),c=n(38),l=n(78),h=n(20),n=n(49),d=n.set,f=n.getterFor("AggregateError"),p=function(t,e){var n=this;if(!(n instanceof p))return new p(t,e);s&&(n=s(new Error(e),o(n)));var r=[];return l(t,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&h(n,"message",String(e)),n};p.prototype=a(Error.prototype,{constructor:c(5,p),message:c(5,""),name:c(5,"AggregateError")}),i&&u.f(p.prototype,"errors",{get:function(){return f(this).errors},configurable:!0}),r({global:!0},{AggregateError:p})},function(t,e,n){n(182)},function(t,e,n){"use strict";var r=n(0),i=n(59),o=n(79);r({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),t=o(t);return(t.error?e.reject:e.resolve)(t.value),e.promise}})},function(t,e,n){"use strict";var r=n(0),h=n(24),d=n(27),i=n(59),o=n(79),f=n(78);r({target:"Promise",stat:!0},{any:function(t){var u=this,e=i.f(u),c=e.resolve,l=e.reject,n=o(function(){var r=h(u.resolve),i=[],o=0,s=1,a=!1;f(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(u,t).then(function(t){n||a||(a=!0,c(t))},function(t){n||a||(n=!0,i[e]=t,--s||l(new(d("AggregateError"))(i,"No one promise resolved")))})}),--s||l(new(d("AggregateError"))(i,"No one promise resolved"))});return n.error&&l(n.value),e.promise}})},function(t,e,n){n=n(310);t.exports=n},function(t,e,n){n(311);n=n(8);t.exports=n.URLSearchParams},function(t,e,n){"use strict";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}function o(t){var e,n=t.replace(D," "),r=4;try{return decodeURIComponent(n)}catch(t){for(;r;)n=n.replace((e=r--,O[e-1]||(O[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),i);return n}}function r(t){return N[t]}function s(t){return encodeURIComponent(t).replace(M,r)}function l(t,e){if(e)for(var n,r=e.split("&"),i=0;i<r.length;)(n=r[i++]).length&&(n=n.split("="),t.push({key:o(n.shift()),value:o(n.join("="))}))}function h(t){this.entries.length=0,l(this.entries,t)}function c(t,e){if(t<e)throw TypeError("Not enough arguments")}n(154);var a=n(0),u=n(27),d=n(312),f=n(51),p=n(176),g=n(42),v=n(157),m=n(49),y=n(177),b=n(17),T=n(46),_=n(50),S=n(19),E=n(14),w=n(75),A=n(38),x=n(164),P=n(77),n=n(1),C=u("fetch"),k=u("Headers"),n=n("iterator"),L=m.set,R=m.getterFor("URLSearchParams"),I=m.getterFor("URLSearchParamsIterator"),D=/\+/g,O=Array(4),M=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=v(function(t,e){L(this,{type:"URLSearchParamsIterator",iterator:x(R(t).entries),kind:e})},"Iterator",function(){var t=I(this),e=t.kind,n=t.iterator.next(),t=n.value;return n.done||(n.value="keys"===e?t.key:"values"===e?t.value:[t.key,t.value]),n}),F=function(){y(this,F,"URLSearchParams");var t,e,n,r,i,o,s,a,u=0<arguments.length?arguments[0]:void 0,c=[];if(L(this,{type:"URLSearchParams",entries:c,updateURL:function(){},updateSearchParams:h}),void 0!==u)if(E(u))if("function"==typeof(t=P(u)))for(n=(e=t.call(u)).next;!(o=n.call(e)).done;){if((o=(i=(r=x(S(o.value))).next).call(r)).done||(s=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");c.push({key:o.value+"",value:s.value+""})}else for(a in u)b(u,a)&&c.push({key:a,value:u[a]+""});else l(c,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},v=F.prototype;p(v,{append:function(t,e){c(arguments.length,2);var n=R(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){c(arguments.length,1);for(var e=R(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){c(arguments.length,1);for(var e=R(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){c(arguments.length,1);for(var e=R(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){c(arguments.length,1);for(var e=R(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){c(arguments.length,1);for(var n,r=R(this),i=r.entries,o=!1,s=t+"",a=e+"",u=0;u<i.length;u++)(n=i[u]).key===s&&(o?i.splice(u--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){for(var t,e,n=R(this),r=n.entries,i=r.slice(),o=r.length=0;o<i.length;o++){for(t=i[o],e=0;e<o;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===o&&r.push(t)}n.updateURL()},forEach:function(t){for(var e,n=R(this).entries,r=T(t,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),f(v,n,v.entries),f(v,"toString",function(){for(var t,e=R(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(s(t.key)+"="+s(t.value));return n.join("&")},{enumerable:!0}),g(F,"URLSearchParams"),a({global:!0,forced:!d},{URLSearchParams:F}),d||"function"!=typeof C||"function"!=typeof k||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r=[t];return 1<arguments.length&&(E(e=arguments[1])&&(n=e.body,"URLSearchParams"===_(n)&&((t=e.headers?new k(e.headers):new k).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=w(e,{body:A(0,String(n)),headers:A(0,t)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:F,getState:R}},function(t,e,n){var r=n(6),i=n(1),o=n(40),s=i("iterator");t.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),o&&!t.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},function(t,e,n){n=n(314);t.exports=n},function(t,e,n){n(315);n=n(8);t.exports=n.Object.keys},function(t,e,n){var r=n(0),i=n(26),o=n(58);r({target:"Object",stat:!0,forced:n(6)(function(){o(1)})},{keys:function(t){return o(i(t))}})},function(t,e,n){n(72);var r=n(317),i=n(50),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===o||t instanceof Array&&e===o.forEach||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){n=n(318);t.exports=n},function(t,e,n){n(319);n=n(21);t.exports=n("Array").forEach},function(t,e,n){"use strict";var r=n(0),n=n(320);r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},function(t,e,n){"use strict";var r=n(70).forEach,i=n(80),n=n(48),i=i("forEach"),n=n("forEach");t.exports=i&&n?[].forEach:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}},function(t,e,n){n=n(322);t.exports=n},function(t,e,n){n(323),t.exports=9007199254740991},function(t,e,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n=n(174);t.exports=n},function(t,e,n){n=n(326);t.exports=n},function(t,e,n){n(327);n=n(8);t.exports=n.Object.assign},function(t,e,n){var r=n(0),n=n(328);r({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},function(t,e,n){"use strict";var d=n(16),r=n(6),f=n(58),p=n(168),g=n(66),v=n(26),m=n(67),i=Object.assign,o=Object.defineProperty;t.exports=!i||r(function(){if(d&&1!==i({b:1},i(o({},"a",{enumerable:!0,get:function(){o(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=i({},t)[n]||"abcdefghijklmnopqrst"!=f(i({},e)).join("")})?function(t,e){for(var n=v(t),r=arguments.length,i=1,o=p.f,s=g.f;i<r;)for(var a,u=m(arguments[i++]),c=o?f(u).concat(o(u)):f(u),l=c.length,h=0;h<l;)a=c[h++],d&&!s.call(u,a)||(n[a]=u[a]);return n}:i},function(t,e,n){n=n(330);t.exports=n},function(t,e,n){var r=n(331),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||t instanceof Function&&e===i.bind?r:e}},function(t,e,n){n(332);n=n(21);t.exports=n("Function").bind},function(t,e,n){n(0)({target:"Function",proto:!0},{bind:n(333)})},function(t,e,n){"use strict";var o=n(24),s=n(14),a=[].slice,u={};t.exports=Function.bind||function(e){var n=o(this),r=a.call(arguments,1),i=function(){var t=r.concat(a.call(arguments));return this instanceof i?function(t,e,n){if(!(e in u)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";u[e]=Function("C,a","return new C("+r.join(",")+")")}return u[e](t,n)}(n,t.length,t):n.apply(e,t)};return s(n.prototype)&&(i.prototype=n.prototype),i}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){n=n(336);t.exports=n},function(t,e,n){var r=n(337),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||t instanceof Array&&e===i.filter?r:e}},function(t,e,n){n(338);n=n(21);t.exports=n("Array").filter},function(t,e,n){"use strict";var r=n(0),i=n(70).filter,o=n(71),n=n(48),o=o("filter"),n=n("filter");r({target:"Array",proto:!0,forced:!o||!n},{filter:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){n=n(340);t.exports=n},function(t,e,n){var r=n(341),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){n(165);n=n(21);t.exports=n("Array").concat},function(en,nn,t){var rn;!function(t,e){"use strict";"object"==typeof en.exports?en.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){"use strict";function g(t){return null!=t&&t===t.window}var e=[],n=Object.getPrototypeOf,a=e.slice,v=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},u=e.push,i=e.indexOf,r={},o=r.toString,m=r.hasOwnProperty,s=m.toString,c=s.call(Object),y={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},E=S.document,l={type:!0,src:!0,nonce:!0,noModule:!0};function T(t,e,n){var r,i,o=(n=n||E).createElement("script");if(o.text=t,e)for(r in l)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function p(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[o.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)};function h(t){var e=!!t&&"length"in t&&t.length,n=p(t);return!b(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}w.fn=w.prototype={jquery:"3.5.0",constructor:w,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=w.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return w.each(this,t)},map:function(n){return this.pushStack(w.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:e.sort,splice:e.splice},w.extend=w.fn.extend=function(){var t,e,n,r,i,o=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||b(o)||(o={}),s===a&&(o=this,s--);s<a;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(u&&n&&(w.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[e],i=r&&!Array.isArray(i)?[]:r||w.isPlainObject(i)?i:{},r=!1,o[e]=w.extend(u,i,n)):void 0!==n&&(o[e]=n));return o},w.extend({expando:"jQuery"+("3.5.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==o.call(t)||(t=n(t))&&("function"!=typeof(t=m.call(t,"constructor")&&t.constructor)||s.call(t)!==c))},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,n){T(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(h(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(h(Object(t))?w.merge(e,"string"==typeof t?[t]:t):u.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:i.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!=s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(h(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return v(s)},guid:1,support:y}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=e[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){r["[object "+e+"]"]=e.toLowerCase()});var d=function(n){function h(t,e){t="0x"+t.slice(1)-65536;return e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function r(){S()}var t,d,T,o,i,f,p,g,_,u,c,S,E,s,w,v,a,l,m,A="sizzle"+ +new Date,y=n.document,x=0,b=0,P=ut(),C=ut(),k=ut(),L=ut(),R=function(t,e){return t===e&&(c=!0),0},I={}.hasOwnProperty,e=[],D=e.pop,O=e.push,M=e.push,N=e.slice,B=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",G="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+j+"*("+G+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+j+"*\\]",H=":("+G+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",V=new RegExp(j+"+","g"),W=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),q=new RegExp("^"+j+"*,"+j+"*"),K=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),X=new RegExp(j+"|>"),z=new RegExp(H),Y=new RegExp("^"+G+"$"),Q={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),TAG:new RegExp("^("+G+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(e=N.call(y.childNodes),y.childNodes),e[y.childNodes.length].nodeType}catch(n){M={apply:e.length?function(t,e){O.apply(t,N.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,n,r){var i,o,s,a,u,c,l=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!r&&(S(e),e=e||E,w)){if(11!==h&&(a=et.exec(t)))if(c=a[1]){if(9===h){if(!(o=e.getElementById(c)))return n;if(o.id===c)return n.push(o),n}else if(l&&(o=l.getElementById(c))&&m(e,o)&&o.id===c)return n.push(o),n}else{if(a[2])return M.apply(n,e.getElementsByTagName(t)),n;if((c=a[3])&&d.getElementsByClassName&&e.getElementsByClassName)return M.apply(n,e.getElementsByClassName(c)),n}if(d.qsa&&!L[t+" "]&&(!v||!v.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(c=t,l=e,1===h&&(X.test(t)||K.test(t))){for((l=nt.test(t)&&gt(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(it,ot):e.setAttribute("id",s=A)),i=(u=f(t)).length;i--;)u[i]=(s?"#"+s:":scope")+" "+mt(u[i]);c=u.join(",")}try{return M.apply(n,l.querySelectorAll(c)),n}catch(e){L(t,!0)}finally{s===A&&e.removeAttribute("id")}}}return g(t.replace(W,"$1"),e,n,r)}function ut(){var r=[];return function t(e,n){return r.push(e+" ")>T.cacheLength&&delete t[r.shift()],t[e+" "]=n}}function ct(t){return t[A]=!0,t}function lt(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&st(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pt(s){return ct(function(o){return o=+o,ct(function(t,e){for(var n,r=s([],t.length,o),i=r.length;i--;)t[n=r[i]]&&(t[n]=!(e[n]=t[n]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in d=at.support={},i=at.isXML=function(t){var e=t.namespaceURI,t=(t.ownerDocument||t).documentElement;return!J.test(e||t&&t.nodeName||"HTML")},S=at.setDocument=function(t){var e,t=t?t.ownerDocument||t:y;return t!=E&&9===t.nodeType&&t.documentElement&&(s=(E=t).documentElement,w=!i(E),y!=E&&(e=E.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",r,!1):e.attachEvent&&e.attachEvent("onunload",r)),d.scope=lt(function(t){return s.appendChild(t).appendChild(E.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),d.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),d.getElementsByTagName=lt(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),d.getElementsByClassName=tt.test(E.getElementsByClassName),d.getById=lt(function(t){return s.appendChild(t).id=A,!E.getElementsByName||!E.getElementsByName(A).length}),d.getById?(T.filter.ID=function(t){var e=t.replace(rt,h);return function(t){return t.getAttribute("id")===e}},T.find.ID=function(t,e){if(void 0!==e.getElementById&&w){t=e.getElementById(t);return t?[t]:[]}}):(T.filter.ID=function(t){var e=t.replace(rt,h);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},T.find.ID=function(t,e){if(void 0!==e.getElementById&&w){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),T.find.TAG=d.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):d.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},T.find.CLASS=d.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&w)return e.getElementsByClassName(t)},a=[],v=[],(d.qsa=tt.test(E.querySelectorAll))&&(lt(function(t){var e;s.appendChild(t).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+j+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+A+"-]").length||v.push("~="),(e=E.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+A+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),s.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=tt.test(l=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&lt(function(t){d.disconnectedMatch=l.call(t,"*"),l.call(t,"[s!='']:x"),a.push("!=",H)}),v=v.length&&new RegExp(v.join("|")),a=a.length&&new RegExp(a.join("|")),e=tt.test(s.compareDocumentPosition),m=e||tt.test(s.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(n.contains?n.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},R=e?function(t,e){return t===e?(c=!0,0):(n=!t.compareDocumentPosition-!e.compareDocumentPosition)||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!d.sortDetached&&e.compareDocumentPosition(t)===n?t==E||t.ownerDocument==y&&m(y,t)?-1:e==E||e.ownerDocument==y&&m(y,e)?1:u?B(u,t)-B(u,e):0:4&n?-1:1);var n}:function(t,e){if(t===e)return c=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t==E?-1:e==E?1:i?-1:o?1:u?B(u,t)-B(u,e):0;if(i===o)return dt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?dt(s[r],a[r]):s[r]==y?-1:a[r]==y?1:0}),E},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(S(t),d.matchesSelector&&w&&!L[e+" "]&&(!a||!a.test(e))&&(!v||!v.test(e)))try{var n=l.call(t,e);if(n||d.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){L(e,!0)}return 0<at(e,E,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=E&&S(t),m(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=E&&S(t);var n=T.attrHandle[e.toLowerCase()],n=n&&I.call(T.attrHandle,e.toLowerCase())?n(t,e,!w):void 0;return void 0!==n?n:d.attributes||!w?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},at.escape=function(t){return(t+"").replace(it,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],r=0,i=0;if(c=!d.detectDuplicates,u=!d.sortStable&&t.slice(0),t.sort(R),c){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return u=null,t},o=at.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},(T=at.selectors={cacheLength:50,createPseudo:ct,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,h),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=f(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(rt,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=P[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&P(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(t){t=at.attr(t,e);return null==t?"!="===n:!n||(t+="","="===n?t===r:"!="===n?t!==r:"^="===n?r&&0===t.indexOf(r):"*="===n?r&&-1<t.indexOf(r):"$="===n?r&&t.slice(-r.length)===r:"~="===n?-1<(" "+t.replace(V," ")+" ").indexOf(r):"|="===n&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,v){var m="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===g&&0===v?function(t){return!!t.parentNode}:function(t,e,n){var r,i,o,s,a,u,c=m!=y?"nextSibling":"previousSibling",l=t.parentNode,h=b&&t.nodeName.toLowerCase(),d=!n&&!b,f=!1;if(l){if(m){for(;c;){for(s=t;s=s[c];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;u=c="only"===p&&!u&&"nextSibling"}return!0}if(u=[y?l.firstChild:l.lastChild],y&&d){for(f=(a=(r=(i=(o=(s=l)[A]||(s[A]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===x&&r[1])&&r[2],s=a&&l.childNodes[a];s=++a&&s&&s[c]||(f=a=0)||u.pop();)if(1===s.nodeType&&++f&&s===t){i[p]=[x,a,f];break}}else if(!1===(f=d?a=(r=(i=(o=(s=t)[A]||(s[A]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===x&&r[1]:f))for(;(s=++a&&s&&s[c]||(f=a=0)||u.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((i=(o=s[A]||(s[A]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[x,f]),s!==t)););return(f-=v)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,o){var e,s=T.pseudos[t]||T.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[A]?s(o):1<s.length?(e=[t,t,"",o],T.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,e){for(var n,r=s(t,o),i=r.length;i--;)t[n=B(t,r[i])]=!(e[n]=r[i])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ct(function(t){var r=[],i=[],a=p(t.replace(W,"$1"));return a[A]?ct(function(t,e,n,r){for(var i,o=a(t,null,r,[]),s=t.length;s--;)(i=o[s])&&(t[s]=!(e[s]=i))}):function(t,e,n){return r[0]=t,a(r,null,n,i),r[0]=null,!i.pop()}}),has:ct(function(e){return function(t){return 0<at(e,t).length}}),contains:ct(function(e){return e=e.replace(rt,h),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ct(function(n){return Y.test(n||"")||at.error("unsupported lang: "+n),n=n.replace(rt,h).toLowerCase(),function(t){var e;do{if(e=w?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var r=n<0?n+e:e<n?e:n;0<=--r;)t.push(r);return t}),gt:pt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=T.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})T.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function vt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(s,t,e){var a=t.dir,u=t.next,c=u||a,l=e&&"parentNode"===c,h=b++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||l)return s(t,e,n);return!1}:function(t,e,n){var r,i,o=[x,h];if(n){for(;t=t[a];)if((1===t.nodeType||l)&&s(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||l)if(r=(i=t[A]||(t[A]={}))[t.uniqueID]||(i[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[a]||t;else{if((i=r[c])&&i[0]===x&&i[1]===h)return o[2]=i[2];if((r[c]=o)[2]=s(t,e,n))return!0}return!1}}function bt(i){return 1<i.length?function(t,e,n){for(var r=i.length;r--;)if(!i[r](t,e,n))return!1;return!0}:i[0]}function Tt(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function _t(t){for(var r,e,n,i=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,u=yt(function(t){return t===r},s,!0),c=yt(function(t){return-1<B(r,t)},s,!0),l=[function(t,e,n){n=!o&&(n||e!==_)||((r=e).nodeType?u:c)(t,e,n);return r=null,n}];a<i;a++)if(e=T.relative[t[a].type])l=[yt(bt(l),e)];else{if((e=T.filter[t[a].type].apply(null,t[a].matches))[A]){for(n=++a;n<i&&!T.relative[t[n].type];n++);return function t(f,p,g,v,m,e){return v&&!v[A]&&(v=t(v)),m&&!m[A]&&(m=t(m,e)),ct(function(t,e,n,r){var i,o,s,a=[],u=[],c=e.length,l=t||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?l:Tt(l,a,f,n,r),d=g?m||(t?f:c||v)?[]:e:h;if(g&&g(h,d,n,r),v)for(i=Tt(d,u),v(i,[],n,r),o=i.length;o--;)(s=i[o])&&(d[u[o]]=!(h[u[o]]=s));if(t){if(m||f){if(m){for(i=[],o=d.length;o--;)(s=d[o])&&i.push(h[o]=s);m(null,d=[],i,r)}for(o=d.length;o--;)(s=d[o])&&-1<(i=m?B(t,s):a[o])&&(t[i]=!(e[i]=s))}}else d=Tt(d===e?d.splice(c,d.length):d),m?m(null,e,d,r):M.apply(e,d)})}(1<a&&bt(l),1<a&&mt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(W,"$1"),e,a<n&&_t(t.slice(a,n)),n<i&&_t(t=t.slice(n)),n<i&&mt(t))}l.push(e)}return bt(l)}return vt.prototype=T.filters=T.pseudos,T.setFilters=new vt,f=at.tokenize=function(t,e){var n,r,i,o,s,a,u,c=C[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],u=T.preFilter;s;){for(o in n&&!(r=q.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=K.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length)),T.filter)!(r=Q[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?at.error(t):C(t,a).slice(0)},p=at.compile=function(t,e){var n,v,m,y,b,r=[],i=[],o=k[t+" "];if(!o){for(n=(e=e||f(t)).length;n--;)((o=_t(e[n]))[A]?r:i).push(o);(o=k(t,(v=i,y=0<(m=r).length,b=0<v.length,y?ct(s):s))).selector=t}function s(t,e,n,r,i){var o,s,a,u=0,c="0",l=t&&[],h=[],d=_,f=t||b&&T.find.TAG("*",i),p=x+=null==d?1:Math.random()||.1,g=f.length;for(i&&(_=e==E||e||i);c!==g&&null!=(o=f[c]);c++){if(b&&o){for(s=0,e||o.ownerDocument==E||(S(o),n=!w);a=v[s++];)if(a(o,e||E,n)){r.push(o);break}i&&(x=p)}y&&((o=!a&&o)&&u--,t&&l.push(o))}if(u+=c,y&&c!==u){for(s=0;a=m[s++];)a(l,h,e,n);if(t){if(0<u)for(;c--;)l[c]||h[c]||(h[c]=D.call(r));h=Tt(h)}M.apply(r,h),i&&!t&&0<h.length&&1<u+m.length&&at.uniqueSort(r)}return i&&(x=p,_=d),l}return o},g=at.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,l=!r&&f(t=c.selector||t);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&w&&T.relative[o[1].type]){if(!(e=(T.find.ID(s.matches[0].replace(rt,h),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=Q.needsContext.test(t)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(rt,h),nt.test(o[0].type)&&gt(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&mt(o)))return M.apply(n,r),n;break}}return(c||p(t,l))(r,e,!w,n,!e||nt.test(t)&&gt(e.parentNode)||e),n},d.sortStable=A.split("").sort(R).join("")===A,d.detectDuplicates=!!c,S(),d.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),d.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ht(F,function(t,e,n){if(!n)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),at}(S);function f(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&w(t).is(n))break;r.push(t)}return r}function _(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}w.find=d,w.expr=d.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=d.uniqueSort,w.text=d.getText,w.isXMLDoc=d.isXML,w.contains=d.contains,w.escapeSelector=d.escape;var A=w.expr.match.needsContext;function x(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(t,n,r){return b(n)?w.grep(t,function(t,e){return!!n.call(t,e,t)!==r}):n.nodeType?w.grep(t,function(t){return t===n!==r}):"string"!=typeof n?w.grep(t,function(t){return-1<i.call(n,t)!==r}):w.filter(n,t,r)}w.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?w.find.matchesSelector(r,t)?[r]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<r;e++)if(w.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)w.find(t,i[e],n);return 1<r?w.uniqueSort(n):n},filter:function(t){return this.pushStack(C(this,t||[],!1))},not:function(t){return this.pushStack(C(this,t||[],!0))},is:function(t){return!!C(this,"string"==typeof t&&A.test(t)?w(t):t||[],!1).length}});var k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){if(!t)return this;if(n=n||L,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:k.exec(t))||!r[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(r[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:E,!0)),P.test(r[1])&&w.isPlainObject(e))for(var r in e)b(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(t=E.getElementById(r[2]))&&(this[0]=t,this.length=1),this}).prototype=w.fn;var L=w(E),R=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&w(t);if(!A.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?i.call(w(t),this[0]):i.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,n){return f(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,n){return f(t,"nextSibling",n)},prevUntil:function(t,e,n){return f(t,"previousSibling",n)},siblings:function(t){return _((t.parentNode||{}).firstChild,t)},children:function(t){return _(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(x(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(r,i){w.fn[r]=function(t,e){var n=w.map(this,i,t);return(e="Until"!==r.slice(-5)?t:e)&&"string"==typeof e&&(n=w.filter(e,n)),1<this.length&&(I[r]||w.uniqueSort(n),R.test(r)&&n.reverse()),this.pushStack(n)}});var O=/[^\x20\t\r\n\f]+/g;function M(t){return t}function N(t){throw t}function B(t,e,n,r){var i;try{t&&b(i=t.promise)?i.call(t).done(e).fail(n):t&&b(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(r){var t,n;function i(){for(a=a||r.once,s=o=!0;c.length;l=-1)for(e=c.shift();++l<u.length;)!1===u[l].apply(e[0],e[1])&&r.stopOnFalse&&(l=u.length,e=!1);r.memory||(e=!1),o=!1,a&&(u=e?[]:"")}r="string"==typeof r?(t=r,n={},w.each(t.match(O)||[],function(t,e){n[e]=!0}),n):w.extend({},r);var o,e,s,a,u=[],c=[],l=-1,h={add:function(){return u&&(e&&!o&&(l=u.length-1,c.push(e)),function n(t){w.each(t,function(t,e){b(e)?r.unique&&h.has(e)||u.push(e):e&&e.length&&"string"!==p(e)&&n(e)})}(arguments),e&&!o&&i()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;-1<(n=w.inArray(e,u,n));)u.splice(n,1),n<=l&&l--}),this},has:function(t){return t?-1<w.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return a=c=[],u=e="",this},disabled:function(){return!u},lock:function(){return a=c=[],e||o||(u=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),o||i()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},w.extend({Deferred:function(t){var o=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var i=arguments;return w.Deferred(function(r){w.each(o,function(t,e){var n=b(i[e[4]])&&i[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&b(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this,n?[t]:arguments)})}),i=null}).promise()},then:function(e,n,r){var u=0;function c(i,o,s,a){return function(){function t(){var t,e;if(!(i<u)){if((t=s.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,b(e)?a?e.call(t,c(u,o,M,a),c(u,o,N,a)):(u++,e.call(t,c(u,o,M,a),c(u,o,N,a),c(u,o,M,o.notifyWith))):(s!==M&&(n=void 0,r=[t]),(a||o.resolveWith)(n,r))}}var n=this,r=arguments,e=a?t:function(){try{t()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,e.stackTrace),u<=i+1&&(s!==N&&(n=void 0,r=[t]),o.rejectWith(n,r))}};i?e():(w.Deferred.getStackHook&&(e.stackTrace=w.Deferred.getStackHook()),S.setTimeout(e))}}return w.Deferred(function(t){o[0][3].add(c(0,t,b(r)?r:M,t.notifyWith)),o[1][3].add(c(0,t,b(e)?e:M)),o[2][3].add(c(0,t,b(n)?n:N))}).promise()},promise:function(t){return null!=t?w.extend(t,s):s}},a={};return w.each(o,function(t,e){var n=e[2],r=e[5];s[e[1]]=n.add,r&&n.add(function(){i=r},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){i[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--n||s.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=a.call(arguments),s=w.Deferred();if(n<=1&&(B(t,s.done(e(r)).resolve,s.reject,!n),"pending"===s.state()||b(o[r]&&o[r].then)))return s.then();for(;r--;)B(o[r],e(r),s.reject);return s.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){S.console&&S.console.warn&&t&&F.test(t.name)&&S.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){S.setTimeout(function(){throw t})};var j=w.Deferred();function G(){E.removeEventListener("DOMContentLoaded",G),S.removeEventListener("load",G),w.ready()}w.fn.ready=function(t){return j.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0)!==t&&0<--w.readyWait||j.resolveWith(E,[w])}}),w.ready.then=j.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?S.setTimeout(w.ready):(E.addEventListener("DOMContentLoaded",G),S.addEventListener("load",G));var U=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===p(n))for(a in i=!0,n)U(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,b(r)||(s=!0),e=c?s?(e.call(t,r),null):(c=e,function(t,e,n){return c.call(w(t),n)}):e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},H=/^-ms-/,V=/-([a-z])/g;function W(t,e){return e.toUpperCase()}function q(t){return t.replace(H,"ms-").replace(V,W)}function K(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e=Object.create(null),K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[q(e)]=n;else for(r in e)i[q(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(q):(e=q(e))in r?[e]:e.match(O)||[]).length;for(;n--;)delete r[e[n]]}void 0!==e&&!w.isEmptyObject(r)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var z=new X,Y=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function $(t,e,n){var r,i;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:Q.test(i)?JSON.parse(i):i)}catch(t){}Y.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return Y.hasData(t)||z.hasData(t)},data:function(t,e,n){return Y.access(t,e,n)},removeData:function(t,e){Y.remove(t,e)},_data:function(t,e,n){return z.access(t,e,n)},_removeData:function(t,e){z.remove(t,e)}}),w.fn.extend({data:function(n,t){var e,r,i,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Y.set(this,n)}):U(this,function(t){var e;return o&&void 0===t?void 0!==(e=Y.get(o,n))||void 0!==(e=$(o,n))?e:void 0:void this.each(function(){Y.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(i=Y.get(o),1===o.nodeType&&!z.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(r=s[e].name).indexOf("data-")&&(r=q(r.slice(5)),$(o,r,i[r]));z.set(o,"hasDataAttrs",!0)}return i},removeData:function(t){return this.each(function(){Y.remove(this,t)})}}),w.extend({queue:function(t,e,n){var r;if(t)return r=z.get(t,e=(e||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=z.access(t,e,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),r=n.length,i=n.shift(),o=w._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){w.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return z.get(t,n)||z.access(t,n,{empty:w.Callbacks("once memory").add(function(){z.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?w.queue(this[0],e):void 0===n?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&w.dequeue(this,e)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--i||o.resolveWith(s,[s])}var r,i=1,o=w.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(r=z.get(s[a],t+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(e)}});var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],nt=E.documentElement,rt=function(t){return w.contains(t.ownerDocument,t)},it={composed:!0};function ot(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===w.css(t,"display")}function st(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return w.css(t,e,"")},u=a(),c=n&&n[3]||(w.cssNumber[e]?"":"px"),l=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+u)&&tt.exec(w.css(t,e));if(l&&l[3]!==c){for(c=c||l[3],l=+(u/=2)||1;s--;)w.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;w.style(t,e,(l*=2)+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}nt.getRootNode&&(rt=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(it)===t.ownerDocument});var at={};function ut(t,e){for(var n,r,i,o,s,a,u=[],c=0,l=t.length;c<l;c++)(r=t[c]).style&&(n=r.style.display,e?("none"===n&&(u[c]=z.get(r,"display")||null,u[c]||(r.style.display="")),""===r.style.display&&ot(r)&&(u[c]=(a=o=i=void 0,o=r.ownerDocument,s=r.nodeName,(a=at[s])||(i=o.body.appendChild(o.createElement(s)),a=w.css(i,"display"),i.parentNode.removeChild(i),at[s]=a="none"===a?"block":a)))):"none"!==n&&(u[c]="none",z.set(r,"display",n)));for(c=0;c<l;c++)null!=u[c]&&(t[c].style.display=u[c]);return t}w.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?w(this).show():w(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,dt=E.createDocumentFragment().appendChild(E.createElement("div"));(d=E.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),dt.appendChild(d),y.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",y.option=!!dt.lastChild;var ft={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pt(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&x(t,e)?w.merge([t],n):n}function gt(t,e){for(var n=0,r=t.length;n<r;n++)z.set(t[n],"globalEval",!e||z.get(e[n],"globalEval"))}ft.tbody=ft.tfoot=ft.colgroup=ft.caption=ft.thead,ft.th=ft.td,y.option||(ft.optgroup=ft.option=[1,"<select multiple='multiple'>","</select>"]);var vt=/<|&#?\w+;/;function mt(t,e,n,r,i){for(var o,s,a,u,c,l=e.createDocumentFragment(),h=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===p(o))w.merge(h,o.nodeType?[o]:o);else if(vt.test(o)){for(s=s||l.appendChild(e.createElement("div")),a=(lt.exec(o)||["",""])[1].toLowerCase(),a=ft[a]||ft._default,s.innerHTML=a[1]+w.htmlPrefilter(o)+a[2],c=a[0];c--;)s=s.lastChild;w.merge(h,s.childNodes),(s=l.firstChild).textContent=""}else h.push(e.createTextNode(o));for(l.textContent="",d=0;o=h[d++];)if(r&&-1<w.inArray(o,r))i&&i.push(o);else if(u=rt(o),s=pt(l.appendChild(o),"script"),u&&gt(s),n)for(c=0;o=s[c++];)ht.test(o.type||"")&&n.push(o);return l}var yt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function _t(){return!0}function St(){return!1}function Et(t,e){return t===function(){try{return E.activeElement}catch(t){}}()==("focus"===e)}function wt(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)wt(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=St;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return w().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),t.each(function(){w.event.add(this,e,i,r,n)})}function At(t,i,o){o?(z.set(t,i,!1),w.event.add(t,i,{namespace:!1,handler:function(t){var e,n,r=z.get(this,i);if(1&t.isTrigger&&this[i]){if(r.length)(w.event.special[i]||{}).delegateType&&t.stopPropagation();else if(r=a.call(arguments),z.set(this,i,r),e=o(this,i),this[i](),r!==(n=z.get(this,i))||e?z.set(this,i,!1):n={},r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n.value}else r.length&&(z.set(this,i,{value:w.event.trigger(w.extend(r[0],w.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===z.get(t,i)&&w.event.add(t,i,_t)}w.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,c,l,h,d,f,p=z.get(e);if(K(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(nt,i),n.guid||(n.guid=w.guid++),(a=p.events)||(a=p.events=Object.create(null)),(s=p.handle)||(s=p.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(O)||[""]).length;u--;)h=f=(c=Tt.exec(t[u])||[])[1],d=(c[2]||"").split(".").sort(),h&&(l=w.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=w.event.special[h]||{},c=w.extend({type:h,origType:f,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=a[h])||((f=a[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,d,s)||e.addEventListener&&e.addEventListener(h,s)),l.add&&(l.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),w.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,d,f,p,g,v=z.hasData(t)&&z.get(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(O)||[""]).length;c--;)if(f=g=(a=Tt.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=w.event.special[f]||{},d=u[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)l=d[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,h.remove&&h.remove.call(t,l));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||w.removeEvent(t,f,v.handle),delete u[f])}else for(f in u)w.event.remove(t,f+e[c],n,r,!0);w.isEmptyObject(u)&&z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s=new Array(arguments.length),a=w.event.fix(t),u=(z.get(this,"events")||Object.create(null))[a.type]||[],t=w.event.special[a.type]||{};for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){for(o=w.event.handlers.call(this,a,u),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==i.namespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(i=((w.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?-1<w(i,this).index(c):w.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return ct.test(t.type)&&t.click&&x(t,"input")&&At(t,"click",_t),!1},trigger:function(t){t=this||t;return ct.test(t.type)&&t.click&&x(t,"input")&&At(t,"click"),!0},_default:function(t){t=t.target;return ct.test(t.type)&&t.click&&x(t,"input")&&z.get(t,"click")||x(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?_t:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_t,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_t,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_t,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(t,e){w.event.special[t]={setup:function(){return At(this,t,Et),!1},trigger:function(){return At(this,t),!0},delegateType:e}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){w.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||w.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}}),w.fn.extend({on:function(t,e,n,r){return wt(this,t,e,n,r)},one:function(t,e,n,r){return wt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,w(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each(function(){w.event.remove(this,t,n,e)});for(i in t)this.off(i,e,t[i]);return this}});var xt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ct=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function kt(t,e){return x(t,"table")&&x(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var n,r,i,o;if(1===e.nodeType){if(z.hasData(t)&&(o=z.get(t).events))for(i in z.remove(e,"handle events"),o)for(n=0,r=o[i].length;n<r;n++)w.event.add(e,i,o[i][n]);Y.hasData(t)&&(t=Y.access(t),t=w.extend({},t),Y.set(e,t))}}function Dt(n,r,i,o){r=v(r);var t,e,s,a,u,c,l=0,h=n.length,d=h-1,f=r[0],p=b(f);if(p||1<h&&"string"==typeof f&&!y.checkClone&&Pt.test(f))return n.each(function(t){var e=n.eq(t);p&&(r[0]=f.call(this,t,e.html())),Dt(e,r,i,o)});if(h&&(e=(t=mt(r,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=w.map(pt(t,"script"),Lt)).length;l<h;l++)u=t,l!==d&&(u=w.clone(u,!0,!0),a&&w.merge(s,pt(u,"script"))),i.call(n[l],u,l);if(a)for(c=s[s.length-1].ownerDocument,w.map(s,Rt),l=0;l<a;l++)u=s[l],ht.test(u.type||"")&&!z.access(u,"globalEval")&&w.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?w._evalUrl&&!u.noModule&&w._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):T(u.textContent.replace(Ct,""),u,c))}return n}function Ot(t,e,n){for(var r,i=e?w.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(pt(r)),r.parentNode&&(n&&rt(r)&&gt(pt(r,"script")),r.parentNode.removeChild(r));return t}function Mt(t,e,n){var r,i={};for(r in e)i[r]=t.style[r],t.style[r]=e[r];for(r in n=n.call(t),e)t.style[r]=i[r];return n}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,s,a,u,c,l=t.cloneNode(!0),h=rt(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=pt(l),r=0,i=(o=pt(t)).length;r<i;r++)a=o[r],"input"===(c=(u=s[r]).nodeName.toLowerCase())&&ct.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||pt(t),s=s||pt(l),r=0,i=o.length;r<i;r++)It(o[r],s[r]);else It(t,l);return 0<(s=pt(l,"script")).length&&gt(s,!h&&pt(t,"script")),l},cleanData:function(t){for(var e,n,r,i=w.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[z.expando]){if(e.events)for(r in e.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,e.handle);n[z.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Ot(this,t,!0)},remove:function(t){return Ot(this,t)},text:function(t){return U(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Dt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||kt(this,t).appendChild(t)})},prepend:function(){return Dt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=kt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(pt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!xt.test(t)&&!ft[(lt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(pt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return Dt(this,arguments,function(t){var e=this.parentNode;w.inArray(this,n)<0&&(w.cleanData(pt(this)),e&&e.replaceChild(t,this))},n)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){w.fn[t]=function(t){for(var e,n=[],r=w(t),i=r.length-1,o=0;o<=i;o++)e=o===i?this:this.clone(!0),w(r[o])[s](e),u.apply(n,e.get());return this.pushStack(n)}});var Nt,Bt,Ft,jt,Gt,Ut,Ht,Vt,Wt=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return(e=!e||!e.opener?S:e).getComputedStyle(t)},Kt=new RegExp(et.join("|"),"i");function Xt(t,e,n){var r,i,o=t.style;return(n=n||qt(t))&&(""!==(i=n.getPropertyValue(e)||n[e])||rt(t)||(i=w.style(t,e)),!y.pixelBoxStyles()&&Wt.test(i)&&Kt.test(e)&&(r=o.width,t=o.minWidth,e=o.maxWidth,o.minWidth=o.maxWidth=o.width=i,i=n.width,o.width=r,o.minWidth=t,o.maxWidth=e)),void 0!==i?i+"":i}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function Yt(){var t;Vt&&(Ht.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Vt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(Ht).appendChild(Vt),t=S.getComputedStyle(Vt),Nt="1%"!==t.top,Ut=12===Qt(t.marginLeft),Vt.style.right="60%",jt=36===Qt(t.right),Bt=36===Qt(t.width),Vt.style.position="absolute",Ft=12===Qt(Vt.offsetWidth/3),nt.removeChild(Ht),Vt=null)}function Qt(t){return Math.round(parseFloat(t))}Ht=E.createElement("div"),(Vt=E.createElement("div")).style&&(Vt.style.backgroundClip="content-box",Vt.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Vt.style.backgroundClip,w.extend(y,{boxSizingReliable:function(){return Yt(),Bt},pixelBoxStyles:function(){return Yt(),jt},pixelPosition:function(){return Yt(),Nt},reliableMarginLeft:function(){return Yt(),Ut},scrollboxSize:function(){return Yt(),Ft},reliableTrDimensions:function(){var t,e,n;return null==Gt&&(t=E.createElement("table"),n=E.createElement("tr"),e=E.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",e.style.height="9px",nt.appendChild(t).appendChild(n).appendChild(e),n=S.getComputedStyle(n),Gt=3<parseInt(n.height),nt.removeChild(t)),Gt}}));var Jt=["Webkit","Moz","ms"],$t=E.createElement("div").style,Zt={};function te(t){return w.cssProps[t]||Zt[t]||(t in $t?t:Zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Jt.length;n--;)if((t=Jt[n]+e)in $t)return t}(t)||t)}var ee=/^(none|table(?!-c[ea]).+)/,ne=/^--/,re={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"};function oe(t,e,n){var r=tt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function se(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=w.css(t,n+et[s],!0,i)),r?("content"===n&&(u-=w.css(t,"padding"+et[s],!0,i)),"margin"!==n&&(u-=w.css(t,"border"+et[s]+"Width",!0,i))):(u+=w.css(t,"padding"+et[s],!0,i),"padding"!==n?u+=w.css(t,"border"+et[s]+"Width",!0,i):a+=w.css(t,"border"+et[s]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function ae(t,e,n){var r=qt(t),i=(!y.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,r),o=i,s=Xt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(Wt.test(s)){if(!n)return s;s="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&x(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===w.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===w.css(t,"boxSizing",!1,r),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+se(t,e,n||(i?"border":"content"),o,r,s)+"px"}function ue(t,e,n,r,i){return new ue.prototype.init(t,e,n,r,i)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=Xt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=q(e),u=ne.test(e),c=t.style;if(u||(e=te(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"==(o=typeof n)&&(i=tt.exec(n))&&i[1]&&(n=st(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(w.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o=q(e);return ne.test(e)||(e=te(o)),"normal"===(i=void 0===(i=(o=w.cssHooks[e]||w.cssHooks[o])&&"get"in o?o.get(t,!0,n):i)?Xt(t,e,r):i)&&e in ie&&(i=ie[e]),""===n||n?(e=parseFloat(i),!0===n||isFinite(e)?e||0:i):i}}),w.each(["height","width"],function(t,a){w.cssHooks[a]={get:function(t,e,n){if(e)return!ee.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ae(t,a,n):Mt(t,re,function(){return ae(t,a,n)})},set:function(t,e,n){var r,i=qt(t),o=!y.scrollboxSize()&&"absolute"===i.position,s=(o||n)&&"border-box"===w.css(t,"boxSizing",!1,i),n=n?se(t,a,n,s,i):0;return s&&o&&(n-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-se(t,a,"border",!1,i)-.5)),n&&(r=tt.exec(e))&&"px"!==(r[3]||"px")&&(t.style[a]=e,e=w.css(t,a)),oe(0,e,n)}}}),w.cssHooks.marginLeft=zt(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-Mt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(i,o){w.cssHooks[i+o]={expand:function(t){for(var e=0,n={},r="string"==typeof t?t.split(" "):[t];e<4;e++)n[i+et[e]+o]=r[e]||r[e-2]||r[0];return n}},"margin"!==i&&(w.cssHooks[i+o].set=oe)}),w.fn.extend({css:function(t,e){return U(this,function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=qt(t),i=e.length;s<i;s++)o[e[s]]=w.css(t,e[s],!1,r);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,1<arguments.length)}}),((w.Tween=ue).prototype={constructor:ue,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=ue.propHooks[this.prop];return(t&&t.get?t:ue.propHooks._default).get(this)},run:function(t){var e,n=ue.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:ue.propHooks._default).set(this),this}}).init.prototype=ue.prototype,(ue.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=w.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[te(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ue.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ue.prototype.init,w.fx.step={};var ce,le,he=/^(?:toggle|show|hide)$/,de=/queueHooks$/;function fe(){le&&(!1===E.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(fe):S.setTimeout(fe,w.fx.interval),w.fx.tick())}function pe(){return S.setTimeout(function(){ce=void 0}),ce=Date.now()}function ge(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=et[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ve(t,e,n){for(var r,i=(me.tweeners[e]||[]).concat(me.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function me(i,t,e){var n,o,r=0,s=me.prefilters.length,a=w.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=ce||pe(),t=Math.max(0,c.startTime+c.duration-t),e=1-(t/c.duration||0),n=0,r=c.tweens.length;n<r;n++)c.tweens[n].run(e);return a.notifyWith(i,[c,e,t]),e<1&&r?t:(r||a.notifyWith(i,[c,1,0]),a.resolveWith(i,[c]),!1)},c=a.promise({elem:i,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},e),originalProperties:t,originalOptions:e,startTime:ce||pe(),duration:e.duration,tweens:[],createTween:function(t,e){t=w.Tween(i,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(t),t},stop:function(t){var e=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)c.tweens[e].run(1);return t?(a.notifyWith(i,[c,1,0]),a.resolveWith(i,[c,t])):a.rejectWith(i,[c,t]),this}}),l=c.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=q(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=w.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);r<s;r++)if(n=me.prefilters[r].call(c,i,l,c.opts))return b(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(l,ve,c),b(c.opts.start)&&c.opts.start.call(i,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(u,{elem:i,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(me,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return st(n.elem,t,tt.exec(e),n),n}]},tweener:function(t,e){for(var n,r=0,i=(t=b(t)?(e=t,["*"]):t.match(O)).length;r<i;r++)n=t[r],me.tweeners[n]=me.tweeners[n]||[],me.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,c,l="width"in e||"height"in e,h=this,d={},f=t.style,p=t.nodeType&&ot(t),g=z.get(t,"fxshow");for(r in n.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()})})),e)if(i=e[r],he.test(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||w.style(t,r)}if((u=!w.isEmptyObject(e))||!w.isEmptyObject(d))for(r in l&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=z.get(t,"display")),"none"===(l=w.css(t,"display"))&&(c?l=c:(ut([t],!0),c=t.style.display||c,l=w.css(t,"display"),ut([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===w.css(t,"float")&&(u||(h.done(function(){f.display=c}),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),u=!1,d)u||(g?"hidden"in g&&(p=g.hidden):g=z.access(t,"fxshow",{display:c}),o&&(g.hidden=!p),p&&ut([t],!0),h.done(function(){for(r in p||ut([t]),z.remove(t,"fxshow"),d)w.style(t,r,d[r])})),u=ve(p?g[r]:0,r,h),r in g||(g[r]=u.start,p&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?me.prefilters.unshift(t):me.prefilters.push(t)}}),w.speed=function(t,e,n){var r=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,t,n,r){function i(){var t=me(this,w.extend({},e),s);(o||z.get(this,"finish"))&&t.stop(!0)}var o=w.isEmptyObject(e),s=w.speed(t,n,r);return i.finish=i,o||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(i,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof i&&(o=t,t=i,i=void 0),t&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",n=w.timers,r=z.get(this);if(e)r[e]&&r[e].stop&&s(r[e]);else for(e in r)r[e]&&r[e].stop&&de.test(e)&&s(r[e]);for(e=n.length;e--;)n[e].elem!==this||null!=i&&n[e].queue!==i||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||w.dequeue(this,i)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=z.get(this),n=e[s+"queue"],r=e[s+"queueHooks"],i=w.timers,o=n?n.length:0;for(e.finish=!0,w.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===s&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),w.each(["toggle","show","hide"],function(t,r){var i=w.fn[r];w.fn[r]=function(t,e,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(ge(r,!0),t,e,n)}}),w.each({slideDown:ge("show"),slideUp:ge("hide"),slideToggle:ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){w.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ce=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ce=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){le||(le=!0,fe())},w.fx.stop=function(){le=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(r,t){return r=w.fx&&w.fx.speeds[r]||r,this.queue(t=t||"fx",function(t,e){var n=S.setTimeout(t,r);e.stop=function(){S.clearTimeout(n)}})},dt=E.createElement("input"),Z=E.createElement("select").appendChild(E.createElement("option")),dt.type="checkbox",y.checkOn=""!==dt.value,y.optSelected=Z.selected,(dt=E.createElement("input")).value="t",dt.type="radio",y.radioValue="t"===dt.value;var ye,be=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return U(this,w.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(i=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):!(i&&"get"in i&&null!==(r=i.get(t,e)))&&null==(r=w.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&x(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(O);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var s=be[e]||w.find.attr;be[e]=function(t,e,n){var r,i,o=e.toLowerCase();return n||(i=be[o],be[o]=r,r=null!=s(t,e,n)?o:null,be[o]=i),r}});var Te=/^(?:input|select|textarea|button)$/i,_e=/^(?:a|area)$/i;function Se(t){return(t.match(O)||[]).join(" ")}function Ee(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}w.fn.extend({prop:function(t,e){return U(this,w.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,i=w.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):Te.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(w.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,r,i,o,s,a=0;if(b(e))return this.each(function(t){w(this).addClass(e.call(this,t,Ee(this)))});if((t=we(e)).length)for(;n=this[a++];)if(s=Ee(n),r=1===n.nodeType&&" "+Se(s)+" "){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s!==(s=Se(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0;if(b(e))return this.each(function(t){w(this).removeClass(e.call(this,t,Ee(this)))});if(!arguments.length)return this.attr("class","");if((t=we(e)).length)for(;n=this[a++];)if(s=Ee(n),r=1===n.nodeType&&" "+Se(s)+" "){for(o=0;i=t[o++];)for(;-1<r.indexOf(" "+i+" ");)r=r.replace(" "+i+" "," ");s!==(s=Se(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,e){var o=typeof i,s="string"==o||Array.isArray(i);return"boolean"==typeof e&&s?e?this.addClass(i):this.removeClass(i):b(i)?this.each(function(t){w(this).toggleClass(i.call(this,t,Ee(this),e),e)}):this.each(function(){var t,e,n,r;if(s)for(e=0,n=w(this),r=we(i);t=r[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==i&&"boolean"!=o||((t=Ee(this))&&z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==i&&z.get(this,"__className__")||""))})},hasClass:function(t){for(var e,n=0,r=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+Se(Ee(e))+" ").indexOf(r))return!0;return!1}});var Ae=/\r/g;function xe(t){t.stopPropagation()}w.fn.extend({val:function(e){var n,t,r,i=this[0];return arguments.length?(r=b(e),this.each(function(t){1===this.nodeType&&(null==(t=r?e.call(this,t,w(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=w.map(t,function(t){return null==t?"":t+""})),(n=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):i?(n=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(i,"value"))?t:"string"==typeof(t=i.value)?t.replace(Ae,""):null==t?"":t:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:Se(w.text(t))}},select:{get:function(t){for(var e,n=t.options,r=t.selectedIndex,i="select-one"===t.type,o=i?null:[],s=i?r+1:n.length,a=r<0?s:i?r:0;a<s;a++)if(((e=n[a]).selected||a===r)&&!e.disabled&&(!e.parentNode.disabled||!x(e.parentNode,"optgroup"))){if(e=w(e).val(),i)return e;o.push(e)}return o},set:function(t,e){for(var n,r,i=t.options,o=w.makeArray(e),s=i.length;s--;)((r=i[s]).selected=-1<w.inArray(w.valHooks.option.get(r),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<w.inArray(w(t).val(),e)}},y.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in S;var Pe=/^(?:focusinfocus|focusoutblur)$/;w.extend(w.event,{trigger:function(t,e,n,r){var i,o,s,a,u,c,l,h=[n||E],d=m.call(t,"type")?t.type:t,f=m.call(t,"namespace")?t.namespace.split("."):[],p=l=o=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!Pe.test(d+w.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),a=d.indexOf(":")<0&&"on"+d,(t=t[w.expando]?t:new w.Event(d,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),c=w.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,e))){if(!r&&!c.noBubble&&!g(n)){for(s=c.delegateType||d,Pe.test(s+d)||(p=p.parentNode);p;p=p.parentNode)h.push(p),o=p;o===(n.ownerDocument||E)&&h.push(o.defaultView||o.parentWindow||S)}for(i=0;(p=h[i++])&&!t.isPropagationStopped();)l=p,t.type=1<i?s:c.bindType||d,(u=(z.get(p,"events")||Object.create(null))[t.type]&&z.get(p,"handle"))&&u.apply(p,e),(u=a&&p[a])&&u.apply&&K(p)&&(t.result=u.apply(p,e),!1===t.result&&t.preventDefault());return t.type=d,r||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(h.pop(),e)||!K(n)||a&&b(n[d])&&!g(n)&&((o=n[a])&&(n[a]=null),w.event.triggered=d,t.isPropagationStopped()&&l.addEventListener(d,xe),n[d](),t.isPropagationStopped()&&l.removeEventListener(d,xe),w.event.triggered=void 0,o&&(n[a]=o)),t.result}},simulate:function(t,e,n){t=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(t,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),y.focusin||w.each({focus:"focusin",blur:"focusout"},function(n,r){function i(t){w.event.simulate(r,t.target,w.event.fix(t))}w.event.special[r]={setup:function(){var t=this.ownerDocument||this.document||this,e=z.access(t,r);e||t.addEventListener(n,i,!0),z.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=z.access(t,r)-1;e?z.access(t,r,e):(t.removeEventListener(n,i,!0),z.remove(t,r))}}});var Ce=S.location,ke={guid:Date.now()},Le=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new S.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var Re=/\[\]$/,Ie=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;w.param=function(t,e){function n(t,e){e=b(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var r,i=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){n(this.name,this.value)});else for(r in t)!function n(r,t,i,o){if(Array.isArray(t))w.each(t,function(t,e){i||Re.test(r)?o(r,e):n(r+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==p(t))o(r,t);else for(var e in t)n(r+"["+e+"]",t[e],i,o)}(r,t[r],e,n);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Oe.test(this.nodeName)&&!De.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:n.replace(Ie,"\r\n")}}).get()}});var Me=/%20/g,Ne=/#.*$/,Be=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Ge=/^\/\//,Ue={},He={},Ve="*/".concat("*"),We=E.createElement("a");function qe(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,r=0,i=t.toLowerCase().match(O)||[];if(b(e))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Ke(e,r,i,o){var s={},a=e===He;function u(t){var n;return s[t]=!0,w.each(e[t]||[],function(t,e){e=e(r,i,o);return"string"!=typeof e||a||s[e]?a?!(n=e):void 0:(r.dataTypes.unshift(e),u(e),!1)}),n}return u(r.dataTypes[0])||!s["*"]&&u("*")}function Xe(t,e){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r=r||{})[n]=e[n]);return r&&w.extend(!0,t,r),t}We.href=Ce.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,w.ajaxSettings),e):Xe(w.ajaxSettings,t)},ajaxPrefilter:qe(Ue),ajaxTransport:qe(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var u,c,l,n,h,d,f,r,i,p=w.ajaxSetup({},e=e||{}),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?w(g):w.event,m=w.Deferred(),y=w.Callbacks("once memory"),b=p.statusCode||{},o={},s={},a="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(d){if(!n)for(n={};e=Fe.exec(l);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return d?l:null},setRequestHeader:function(t,e){return null==d&&(t=s[t.toLowerCase()]=s[t.toLowerCase()]||t,o[t]=e),this},overrideMimeType:function(t){return null==d&&(p.mimeType=t),this},statusCode:function(t){if(t)if(d)T.always(t[T.status]);else for(var e in t)b[e]=[b[e],t[e]];return this},abort:function(t){t=t||a;return u&&u.abort(t),_(0,t),this}};if(m.promise(T),p.url=((t||p.url||Ce.href)+"").replace(Ge,Ce.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(O)||[""],null==p.crossDomain){i=E.createElement("a");try{i.href=p.url,i.href=i.href,p.crossDomain=We.protocol+"//"+We.host!=i.protocol+"//"+i.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),Ke(Ue,p,e,T),d)return T;for(r in(f=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!je.test(p.type),c=p.url.replace(Ne,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Me,"+")):(i=p.url.slice(c.length),p.data&&(p.processData||"string"==typeof p.data)&&(c+=(Le.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(c=c.replace(Be,"$1"),i=(Le.test(c)?"&":"?")+"_="+ke.guid+++i),p.url=c+i),p.ifModified&&(w.lastModified[c]&&T.setRequestHeader("If-Modified-Since",w.lastModified[c]),w.etag[c]&&T.setRequestHeader("If-None-Match",w.etag[c])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ve+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(!1===p.beforeSend.call(g,T,p)||d))return T.abort();if(a="abort",y.add(p.complete),T.done(p.success),T.fail(p.error),u=Ke(He,p,e,T)){if(T.readyState=1,f&&v.trigger("ajaxSend",[T,p]),d)return T;p.async&&0<p.timeout&&(h=S.setTimeout(function(){T.abort("timeout")},p.timeout));try{d=!1,u.send(o,_)}catch(t){if(d)throw t;_(-1,t)}}else _(-1,"No Transport");function _(t,e,n,r){var i,o,s,a=e;d||(d=!0,h&&S.clearTimeout(h),u=void 0,l=r||"",T.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s=s||i}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(p,T,n)),!r&&-1<w.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),s=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(p,s,T,r),r?(p.ifModified&&((n=T.getResponseHeader("Last-Modified"))&&(w.lastModified[c]=n),(n=T.getResponseHeader("etag"))&&(w.etag[c]=n)),204===t||"HEAD"===p.type?a="nocontent":304===t?a="notmodified":(a=s.state,i=s.data,r=!(o=s.error))):(o=a,!t&&a||(a="error",t<0&&(t=0))),T.status=t,T.statusText=(e||a)+"",r?m.resolveWith(g,[i,a,T]):m.rejectWith(g,[T,a,o]),T.statusCode(b),b=void 0,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[T,p,r?i:o]),y.fireWith(g,[T,a]),f&&(v.trigger("ajaxComplete",[T,p]),--w.active||w.event.trigger("ajaxStop")))}return T},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,i){w[i]=function(t,e,n,r){return b(e)&&(r=r||n,n=e,e=void 0),w.ajax(w.extend({url:t,type:i,dataType:r,data:e,success:n},w.isPlainObject(t)&&t))}}),w.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){return this[0]&&(b(t)&&(t=t.call(this[0])),t=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(t){w(this).wrapInner(n.call(this,t))}):this.each(function(){var t=w(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=b(e);return this.each(function(t){w(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Ye=w.ajaxSettings.xhr();y.cors=!!Ye&&"withCredentials"in Ye,y.ajax=Ye=!!Ye,w.ajaxTransport(function(i){var o,s;if(y.cors||Ye&&!i.crossDomain)return{send:function(t,e){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e(ze[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&S.setTimeout(function(){o&&s()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){r=w("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(t){r.remove(),i=null,t&&e("error"===t.type?404:200,t.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Qe=[],Je=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||w.expando+"_"+ke.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,o,s=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Je,"$1"+r):!1!==t.jsonp&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||w.error(r+" was not called"),o[0]},t.dataTypes[0]="json",i=S[r],S[r]=function(){o=arguments},n.always(function(){void 0===i?w(S).removeProp(r):S[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,Qe.push(r)),o&&b(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((dt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===dt.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(y.createHTMLDocument?((r=(e=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,e.head.appendChild(r)):e=E),r=!n&&[],(n=P.exec(t))?[e.createElement(n[1])]:(n=mt([t],e,r),r&&r.length&&w(r).remove(),w.merge([],n.childNodes)));var r},w.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return-1<a&&(r=Se(t.slice(a)),t=t.slice(0,a)),b(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),0<s.length&&w.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?w("<div>").append(w.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(t,e,n){var r,i,o,s,a=w.css(t,"position"),u=w(t),c={};"static"===a&&(t.style.position="relative"),o=u.offset(),r=w.css(t,"top"),s=w.css(t,"left"),s=("absolute"===a||"fixed"===a)&&-1<(r+s).indexOf("auto")?(i=(a=u.position()).top,a.left):(i=parseFloat(r)||0,parseFloat(s)||0),null!=(e=b(e)?e.call(t,n,w.extend({},o)):e).top&&(c.top=e.top-o.top+i),null!=e.left&&(c.left=e.left-o.left+s),"using"in e?e.using.call(t,c):("number"==typeof c.top&&(c.top+="px"),"number"==typeof c.left&&(c.left+="px"),u.css(c))}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),i.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-w.css(r,"marginTop",!0),left:e.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||nt})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var o="pageYOffset"===i;w.fn[e]=function(t){return U(this,function(t,e,n){var r;return g(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===n?r?r[i]:t[e]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):t[e]=n)},e,t,arguments.length)}}),w.each(["top","left"],function(t,n){w.cssHooks[n]=zt(y.pixelPosition,function(t,e){if(e)return e=Xt(t,n),Wt.test(e)?w(t).position()[n]+"px":e})}),w.each({Height:"height",Width:"width"},function(s,a){w.each({padding:"inner"+s,content:a,"":"outer"+s},function(r,o){w.fn[o]=function(t,e){var n=arguments.length&&(r||"boolean"!=typeof t),i=r||(!0===t||!0===e?"margin":"border");return U(this,function(t,e,n){var r;return g(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+s],r["scroll"+s],t.body["offset"+s],r["offset"+s],r["client"+s])):void 0===n?w.css(t,e,i):w.style(t,e,n,i)},a,n?t:void 0,n)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){w.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}});var $e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,r;if("string"==typeof e&&(r=t[e],e=t,t=r),b(t))return n=a.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=x,w.isFunction=b,w.isWindow=g,w.camelCase=q,w.type=p,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace($e,"")},void 0===(rn=function(){return w}.apply(nn,[]))||(en.exports=rn);var Ze=S.jQuery,tn=S.$;return w.noConflict=function(t){return S.$===w&&(S.$=tn),t&&S.jQuery===w&&(S.jQuery=Ze),w},void 0===t&&(S.jQuery=S.$=w),w})},function(t,e,n){var r=n(30),i=n(31).f,n=Function.prototype,o=n.toString,s=/^\s*function ([^ (]*)/;!r||"name"in n||i(n,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(140),A=n(13),x=n(127),P=n(61),C=n(62),o=n(53),k=n(142),L=n(143),R=Math.max,I=Math.min,D=Math.floor,O=/\$([$&'`]|\d\d?|<[^>]*>)/g,M=/\$([$&'`]|\d\d?)/g;r("replace",2,function(i,T,_,t){var S=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=t.REPLACE_KEEPS_$0,w=S?"$":"$0";return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):T.call(String(n),t,e)},function(t,e){if(!S&&E||"string"==typeof e&&-1===e.indexOf(w)){var n=_(T,t,this,e);if(n.done)return n.value}var r=A(t),i=String(this),o="function"==typeof e;o||(e=String(e));var s,a=r.global;a&&(s=r.unicode,r.lastIndex=0);for(var u=[];;){var c=L(r,i);if(null===c)break;if(u.push(c),!a)break;""===String(c[0])&&(r.lastIndex=k(i,P(r.lastIndex),s))}for(var l,h="",d=0,f=0;f<u.length;f++){for(var c=u[f],p=String(c[0]),g=R(I(C(c.index),i.length),0),v=[],m=1;m<c.length;m++)v.push(void 0===(l=c[m])?l:String(l));var y,b=c.groups,b=o?(y=[p].concat(v,g,i),void 0!==b&&y.push(b),String(e.apply(void 0,y))):function(o,s,a,u,c,t){var l=a+o.length,h=u.length,e=M;return void 0!==c&&(c=x(c),e=O),T.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return s.slice(0,a);case"'":return s.slice(l);case"<":n=c[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(h<r){var i=D(r/10);return 0!==i&&i<=h?void 0===u[i-1]?e.charAt(1):u[i-1]+e.charAt(1):t}n=u[r-1]}return void 0===n?"":n})}(p,i,g,v,b,e);d<=g&&(h+=i.slice(d,g)+b,d=g+p.length)}return h+i.slice(d)}]})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){var n,r,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,u=[],c=!1,l=-1;function h(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&d())}function d(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(a=u,u=[];++l<e;)a&&a[l].run();l=-1,e=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new f(t,e)),1!==u.length||c||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,n){n=n(348);t.exports=n},function(t,e,n){var r=n(349),i=Array.prototype;t.exports=function(t){var e=t.sort;return t===i||t instanceof Array&&e===i.sort?r:e}},function(t,e,n){n(350);n=n(21);t.exports=n("Array").sort},function(t,e,n){"use strict";var r=n(0),i=n(24),o=n(26),s=n(6),a=n(80),u=[],c=u.sort,n=s(function(){u.sort(void 0)}),s=s(function(){u.sort(null)}),a=a("sort");r({target:"Array",proto:!0,forced:n||!s||!a},{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,e,n){n=n(173);t.exports=n},function(t,e,n){n=n(353);t.exports=n},function(t,e,n){var r=n(354),i=Array.prototype;t.exports=function(t){var e=t.reverse;return t===i||t instanceof Array&&e===i.reverse?r:e}},function(t,e,n){n(355);n=n(21);t.exports=n("Array").reverse},function(t,e,n){"use strict";var r=n(0),i=n(47),o=[].reverse,n=[1,2];r({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){n=n(357);t.exports=n},function(t,e,n){var r=n(358),i=Array.prototype;t.exports=function(t){var e=t.reduce;return t===i||t instanceof Array&&e===i.reduce?r:e}},function(t,e,n){n(359);n=n(21);t.exports=n("Array").reduce},function(t,e,n){"use strict";var r=n(0),i=n(360).left,o=n(80),n=n(48),o=o("reduce"),n=n("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!n},{reduce:function(t){return i(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){function r(c){return function(t,e,n,r){l(e);var i=h(t),o=d(i),s=f(i.length),a=c?s-1:0,u=c?-1:1;if(n<2)for(;;){if(a in o){r=o[a],a+=u;break}if(a+=u,c?a<0:s<=a)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=a:a<s;a+=u)a in o&&(r=e(r,o[a],a,i));return r}}var l=n(24),h=n(26),d=n(67),f=n(39);t.exports={left:r(!1),right:r(!0)}},function(t,e,n){n=n(362);t.exports=n},function(t,e,n){n(363);var r=n(8);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return r.JSON.stringify.apply(null,arguments)}},function(t,e,n){function i(t,e,n){var r=n.charAt(e-1),e=n.charAt(e+1);return u.test(t)&&!c.test(e)||c.test(t)&&!u.test(r)?"\\u"+t.charCodeAt(0).toString(16):t}var r=n(0),o=n(27),n=n(6),s=o("JSON","stringify"),a=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,n=n(function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")});s&&r({target:"JSON",stat:!0,forced:n},{stringify:function(t,e,n){var r=s.apply(null,arguments);return"string"==typeof r?r.replace(a,i):r}})},function(t,e,n){var r=n(30),i=n(4),o=n(93),s=n(365),a=n(31).f,u=n(124).f,c=n(141),l=n(96),h=n(137),d=n(32),f=n(12),p=n(56).set,g=n(130),v=n(7)("match"),m=i.RegExp,y=m.prototype,b=/a/g,T=/a/g,_=new m(b)!==b,S=h.UNSUPPORTED_Y;if(r&&o("RegExp",!_||S||f(function(){return T[v]=!1,m(b)!=b||m(T)==T||"/a/i"!=m(b,"i")}))){for(var E=function(t,e){var n,r=this instanceof E,i=c(t),o=void 0===e;if(!r&&i&&t.constructor===E&&o)return t;_?i&&!o&&(t=t.source):t instanceof E&&(o&&(e=l.call(t)),t=t.source),S&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));r=s(_?new m(t,e):m(t,e),r?this:y,E);return S&&n&&p(r,{sticky:n}),r},w=u(m),A=0;w.length>A;)!function(e){e in E||a(E,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})}(w[A++]);(y.constructor=E).prototype=y,d(i,"RegExp",E)}g("RegExp")},function(t,e,n){var o=n(22),s=n(128);t.exports=function(t,e,n){var r,i;return s&&"function"==typeof(r=e.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&s(t,i),t}},function(t,e,n){"use strict";var r=n(32),i=n(13),o=n(12),s=n(96),a=RegExp.prototype,u=a.toString,n=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),o="toString"!=u.name;(n||o)&&r(RegExp.prototype,"toString",function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?s.call(t):n)},{unsafe:!0})},function(t,e,n){n=n(368);t.exports=n},function(t,e,n){var r=n(369),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||t instanceof Array&&e===i.indexOf?r:e}},function(t,e,n){n(370);n=n(21);t.exports=n("Array").indexOf},function(t,e,n){"use strict";var r=n(0),i=n(160).indexOf,o=n(80),n=n(48),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,o=o("indexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:a||!o||!n},{indexOf:function(t){return a?s.apply(this,arguments)||0:i(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,f,g){!function(l,h){var d;!function(){f&&f.nodeType,l&&l.nodeType;var t="object"==typeof h&&h;t.global!==t&&t.window!==t&&t.self;var e,v=2147483647,n=/^xn--/,r=/[^\x20-\x7E]/,i=/[\x2E\u3002\uFF0E\uFF61]/g,o={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,y=String.fromCharCode;function b(t){throw new RangeError(o[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";return 1<n.length&&(r=n[0]+"@",t=n[1]),r+s((t=t.replace(i,".")).split("."),e).join(".")}function T(t){for(var e,n,r=[],i=0,o=t.length;i<o;)55296<=(e=t.charCodeAt(i++))&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function p(t){return s(t,function(t){var e="";return 65535<t&&(e+=y((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+y(t)}).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,n){var r=0;for(t=n?m(t/700):t>>1,t+=m(t/e);455<t;r+=36)t=m(t/35);return m(r+36*t/(t+38))}function u(t){var e,n,r,i,o,s,a,u,c=[],l=t.length,h=0,d=128,f=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)128<=t.charCodeAt(r)&&b("not-basic"),c.push(t.charCodeAt(r));for(i=0<n?n+1:0;i<l;){for(o=h,s=1,a=36;l<=i&&b("invalid-input"),(36<=(u=(u=t.charCodeAt(i++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36)||u>m((v-h)/s))&&b("overflow"),h+=u*s,!(u<(u=a<=f?1:f+26<=a?26:a-f));a+=36)s>m(v/(u=36-u))&&b("overflow"),s*=u;f=S(h-o,e=c.length+1,0==o),m(h/e)>v-d&&b("overflow"),d+=m(h/e),h%=e,c.splice(h++,0,d)}return p(c)}function c(t){for(var e,n,r,i,o,s,a,u,c,l,h=[],d=(t=T(t)).length,f=128,p=72,g=e=0;g<d;++g)(a=t[g])<128&&h.push(y(a));for(n=r=h.length,r&&h.push("-");n<d;){for(i=v,g=0;g<d;++g)(a=t[g])>=f&&a<i&&(i=a);for(i-f>m((v-e)/(u=n+1))&&b("overflow"),e+=(i-f)*u,f=i,g=0;g<d;++g)if((a=t[g])<f&&++e>v&&b("overflow"),a==f){for(o=e,s=36;!(o<(c=s<=p?1:p+26<=s?26:s-p));s+=36)h.push(y(_(c+(l=o-c)%(c=36-c),0))),o=m(l/c);h.push(y(_(o,0))),p=S(e,u,n==r),e=0,++n}++e,++f}return h.join("")}e={version:"1.4.1",ucs2:{decode:T,encode:p},decode:u,encode:c,toASCII:function(t){return a(t,function(t){return r.test(t)?"xn--"+c(t):t})},toUnicode:function(t){return a(t,function(t){return n.test(t)?u(t.slice(4).toLowerCase()):t})}},void 0===(d=function(){return e}.call(f,g,f,l))||(l.exports=d)}()}.call(this,g(372)(t),g(84))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(375),e.encode=e.stringify=n(376)},function(t,e,n){"use strict";t.exports=function(t,e,n,r){n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e=e||"&");e=1e3;r&&"number"==typeof r.maxKeys&&(e=r.maxKeys);var s=t.length;0<e&&e<s&&(s=e);for(var a=0;a<s;++a){var u,c=t[a].replace(o,"%20"),l=c.indexOf(n),l=0<=l?(u=c.substr(0,l),c.substr(l+1)):(u=c,""),c=decodeURIComponent(u),l=decodeURIComponent(l);Object.prototype.hasOwnProperty.call(i,c)?h(i[c])?i[c].push(l):i[c]=[i[c],l]:i[c]=l}return i};var h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}t.exports=function(n,r,i,t){return r=r||"&",i=i||"=","object"==typeof(n=null===n?void 0:n)?a(u(n),function(t){var e=encodeURIComponent(o(t))+i;return s(n[t])?a(n[t],function(t){return e+encodeURIComponent(o(t))}).join(r):e+encodeURIComponent(o(n[t]))}).join(r):t?encodeURIComponent(o(t))+i+encodeURIComponent(o(n)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var u=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},function(t,e,n){n=n(378);t.exports=n},function(t,e,n){n(379);n=n(8);t.exports=n.Object.entries},function(t,e,n){var r=n(0),i=n(380).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){function r(a){return function(t){for(var e,n=l(t),r=c(n),i=r.length,o=0,s=[];o<i;)e=r[o++],u&&!h.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}}var u=n(16),c=n(58),l=n(33),h=n(66).f;t.exports={entries:r(!0),values:r(!1)}},function(t,e,n){"use strict";n.r(e),n.d(e,"ByzantiumCore",function(){return yt}),n.d(e,"fetchUserInfo",function(){return _t}),n.d(e,"getAdParams",function(){return St}),n.d(e,"getPreferredAuthors",function(){return At}),n.d(e,"getPreferredResourceTypes",function(){return wt}),n.d(e,"getPreferredTags",function(){return Et}),n.d(e,"getUserActions",function(){return Pt}),n.d(e,"getUserSegments",function(){return xt}),n.d(e,"calendarMonthsBetween",function(){return Tt}),n(112),n(209),n(211),n(57),n(225),n(139),n(226);var r=n(183),i=n.n(r),o=n(9),h=n.n(o),s=n(108),a=n.n(s),u=n(34),d=n.n(u),e=n(109),c=n.n(e),r=n(110),l=n.n(r),o=(n(153),n(184)),s=n.n(o),u=n(111),f=n.n(u),e=n(10),p=n.n(e),r=n(3),g=n.n(r),o=n(82),v=n.n(o),u=n(44),m=n.n(u),e=n(11),y=n.n(e),r=n(15),b=n.n(r),o=n(185),T=n.n(o),u=n(186),e=n.n(u),r=(n(81),n(28)),_=n.n(r),o=n(18),S=n.n(o),u=(n(342),n(343),n(344),n(187)),E=n.n(u),w=n(188),A={Author:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Dataarticle:!0,Event:!0,Feature:!0,Fund:!0,Index:!0,Interactive:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Series:!0,Slideshow:!0,Story:!0,Topic:!0,Video:!0,Storythread:!0},x={deviceInfo:"metadata.paywall.device",countryCode:"metadata.paywall.country",referrerSource:"metadata.paywall.referrer"};var r=n(83),P=n.n(r),o=n(43),C=n.n(o),u=n(189),k=n.n(u),r=n(35),L=n.n(r),o=n(190),R=n.n(o),I=.25;function D(t,e){var n;if(Object.prototype.hasOwnProperty.call(t,"assetType")&&Object.prototype.hasOwnProperty.call(t,"assetID")&&(n=t.statsInfo&&t.statsInfo["1y"]?t.statsInfo["1y"].score:n))return{id:t.assetID,derivedScore:n*e,type:t.assetType}}var O={Person:3,Company:3,Index:1,Topic:2,Commodity:1.5,City:2,Fund:1,Organization:1,Country:2,Currency:2,Region:3,Classification:2,Location:1,Event:1},M={Bond:!0,City:!0,Classification:!0,Commodity:!0,Company:!0,Country:!0,Currency:!0,Event:!0,Fund:!0,Index:!0,Location:!0,Organization:!0,Person:!0,Region:!0,Topic:!0},N={Person:"People",Company:"Tickers",Index:"Indexes",Topic:"Topics",Resourcetype:"Resourcetypes"};function B(t){return _()(t).call(t,function(t){t=t.type;return Object.prototype.hasOwnProperty.call(M,t)})}function F(t){return _()(t).call(t,function(t){var e=t.type;return t.derivedScore>=O[e]})}function j(t){return h()(t).call(t,function(t){var e=t.derivedScore,n=t.type;return void 0===e&&(e=O[n]||0),y()({},t,{derivedScore:e})})}function G(t){return it(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:20)}function U(t){return it(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)}function H(e){var t;return g()(t=p()(e)).call(t,function(t){e[t]=e[t].join(",")}),e}function V(t){return L()(t).call(t,function(t,e){var n=e.id,e=e.type;return t[e]=t[e]||[],t[e].push(n),t},{})}function W(r){var t;return L()(t=p()(r)).call(t,function(t,e){return t[N[n=e]||n]=r[e],t;var n},{})}function q(t){var e=t.type,t=t.id;return S()(e="".concat(e,"|")).call(e,t)}function K(t){var e=L()(t).call(t,function(t,e){return Object.prototype.hasOwnProperty.call(t,e.type)?t[e.type]+=e.derivedScore:t[e.type]=e.derivedScore,t},{});return h()(t=p()(e)).call(t,function(t){return{id:t,type:"contextTagTypes",derivedScore:e[t]}})}var X=0;function z(t){return it(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:20)}var Y=.25,Q={Commodity:"Quote",Company:"Quote",Currency:"Quote",Dataarticle:"Story",Feature:"Story",Fund:"Quote",Index:"Quote",Interactive:"Story",Quicktake:"Story",Slideshow:"Story",Story:"Story",Video:"Video",Storythread:"Storythread"};function J(t){return it(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)}var $={"m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bloomberg.com":"BLOOMBERG"},Z=/https?:\/\/([^ /]+)/,tt={deepestPaywallStage:"ua_dps"};function et(t){var r,e,n,i,o,s,a,u=t.userInfo,c=t.contextInfo,u=u||{},l=(void 0===c?{}:c).contentTags,t=void 0===l?[]:l,c=nt(t,[B,j,F]),l=nt(c,[G,V]),t=nt(t,[K,U,V]);return{contextTagsTypeMap:l,preferredTagsTypeMap:nt(function(t){var e=t.contextTags,t=t.preferredTags,e=JSON.parse(R()(e)),n={};g()(e).call(e,function(t){var e=q(t);n[e]=t});var r=[];return g()(t).call(t,function(t){var e=q(t);Object.prototype.hasOwnProperty.call(n,e)?n[e].derivedScore+=t.derivedScore:r.push(t)}),S()(e).call(e,r)}({contextTags:c,preferredTags:(o=[],c=(l=void 0===(l=u.Tag)?{}:l).Confidence,l=l.Preferences,a=void 0===l?{}:l,(s=void 0===c?0:c)<I||g()(i=p()(M)).call(i,function(t){t=a[t];d()(t)&&g()(t).call(t,function(t){t=D(t,s);t&&o.push(t)})}),o)}),[G,V]),preferredAuthorsMap:nt((e=[],i=(c=void 0===(c=u.Author)?{}:c).Confidence,c=void 0===(c=c.Preferences)?[]:c,(n=void 0===i?0:i)<X||d()(c)&&g()(c).call(c,function(t){t=D(t,n);t&&e.push(t)}),e),[z,V]),preferredResourceTypesMap:nt((i=[],r={},u=(c=void 0===(c=u.Resourcetype)?{}:c).Confidence,c=void 0===(c=c.Preferences)?[]:c,!((void 0===u?0:u)<Y)&&d()(c)?(g()(c).call(c,function(t){var e,n;!Object.prototype.hasOwnProperty.call(t,"assetType")||(n=Q[t.assetType])&&(t.statsInfo&&t.statsInfo["1y"]&&(e=t.statsInfo["1y"].score),r[n]=(r[n]||0)+e)}),i=h()(c=p()(r)).call(c,function(t){return{id:t,type:"Resourcetype",derivedScore:r[t]}})):i),[J,V]),cumulativeScoredContentTagsMap:t}}function nt(t,e){return L()(e).call(e,function(t,e){return e(t)},t)}function rt(t,e){var n,r={};for(n in t)t[n]&&(r[e+n]=t[n]);return r}function it(t,e){return void 0===e||e<=0?[]:k()(e=C()(t=P()(t=C()(t).call(t)).call(t,function(t,e){return t.derivedScore<e.derivedScore?-1:t.derivedScore>e.derivedScore?1:0})).call(t,-e)).call(e)}function ot(t){return _()(t).call(t,function(t){return t}).join(".")}n(364),n(366);var u=n(36),st=n.n(u),r=n(191),at=n.n(r),u=h()(o=["com","co.jp","co.uk","es","ca","de","it","fr","com.au","com.br","com.gr","co.in","co.id","com.mx","dk","com.ar","ch","cl","at","co.kr","ie","com.co","pl","pt","com.pk"]).call(o,function(t){return"www.google.".concat(t)}),r=["","us","ca","uk","in","au","nl","nz","sg","de","es","ln","fr"],o=h()(r).call(r,function(t){return ot([t,"search.yahoo.com"])}),r=h()(r).call(r,function(t){return ot([t,"video.search.yahoo.com"])}),ut={"drudgereport.com":"DRUDGEREPORT","www.drudgereport.com":"DRUDGEREPORT","m.facebook.com":"FACEBOOK","www.facebook.com":"FACEBOOK","lm.facebook.com":"FACEBOOK","l.facebook.com":"FACEBOOK","t.co":"TWITTER","www.twitter.com":"TWITTER","www.linkedin.com":"LINKEDIN","lnkd.in":"LINKEDIN","touch.www.linkedin.com":"LINKEDIN","plus.url.google.com":"GOOGLE_PLUS","www.reddit.com":"REDDIT","www.bing.com":"BING_SEARCH","bing.com":"BING_SEARCH"};g()(u).call(u,function(t){return ut[t]="GOOGLE_SEARCH"}),g()(r).call(r,function(t){return ut[t]="YAHOO_SEARCH"}),g()(o).call(o,function(t){return ut[t]="YAHOO_SEARCH"});var ct,lt={INTERNAL_WEB:"INTERNAL",INTERNAL_MOBILE:"INTERNAL",FACEBOOK:"SOCIAL",LINKEDIN:"SOCIAL",TWITTER:"SOCIAL",GOOGLE_PLUS:"SOCIAL",REDDIT:"SOCIAL",DRUDGEREPORT:"NEWS_PORTALS",GOOGLE_SEARCH:"SEARCH",BING_SEARCH:"SEARCH",YAHOO_SEARCH:"SEARCH",OTHERS:"OTHERS"},ht=function(t){return t.split("\\?",2)[0]},o=n(192),dt=n.n(o),ft={v1:function(t,r,i){var o={};try{g()(t).call(t,function(t){var n="/"===t.charAt(0)?t:"/".concat(t);void 0!==i[n]&&void 0!==i[n][r]&&(t=i[n][r],g()(t=p()(t)).call(t,function(t){var e=i[n][r][t];Object.prototype.hasOwnProperty.call(o,t)?o[t]=Math.max(o[t],e[0]/e[1]):o[t]=e[0]/e[1]}))})}catch(t){o={}}return{values:o}}},o={BASE_URL_FOR_USER_INFO:/origin\..*\.bloomberg.com/.test(window.location.host)?"https://personalization-stg.bloomberg.com/user/info":"https://personalization.bloomberg.com/user/info",STR_FILE_URL:"https://assets.bwbx.io/s3/mediaservices/superelastic/data.json"},pt="userInfo",gt="contentMetadata",vt=o.BASE_URL_FOR_USER_INFO,mt=o.STR_FILE_URL,yt=(e()(bt,[{key:"_withUserInfo",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._bridge.getItem(pt).then(function(t){t=y()({},n,{userInfo:t});return e(t)})}},{key:"refreshUserInfo",value:function(){var s,a=this,u=!1,c=this.baseUrl,t=this._bridge.needsPersonalizationRefresh().then(function(t){return s=t,m.a.all([a._bridge.getCurrentResource(),a._bridge.getSessionInfo(),a._bridge.getPersonalizationAllowed(),a._bridge.geoIp(),a._bridge.getReferrer(),a._bridge.getQueryParams()]).then(function(t){u=t[2];var e=t[0],n=e.id,r=e.contentType,i=u?t[1]:{},o=t[3],e=function(t,e){var n="Direct",r=e.get("utm_source")||t,i=e.get("utm_medium")||"",o=["google","bing","yahoo"],s=S()(o).call(o,["duckduckgo"]),a=["offer","nurture"],e=/.*newsletter.*/;try{if("display"===i)return"Display";if("webpush"===r)return"Web_Push";if(-1!==st()(s).call(s,r))return"cpc"===i?"Paid_Search":"Organic_Search";if(-1===st()(o).call(o,r)&&"cpc"===i)return"Paid_Social";var u=st()(a).call(a,r);if(-1===u&&"email"===i||e.test(r)||e.test(i))return"Newsletter";if(-1!==u&&"email"===i){var c,l=a[u];return S()(c="Email_".concat(l.charAt(0).toUpperCase())).call(c,C()(l).call(l,1))}if(new RegExp(["fb","t.co",".*facebook.*",".*twitter.*",".*instagram.*",".*likeshop.*",".*reddit.*",".*linkedin.*",".*snapchat.*"].join("|"),"i").test(r)&&"cpc"!==i)return"Organic_Social";if(""!==r)return"Referral"}catch(t){n="Direct"}return n}(t[4],t[5]);if(s){t=function(){var t=void 0;try{var e,n=Object(w.a)(),r="React_Native";window.navigator.userAgent&&(e=new E.a(window.navigator.userAgent),r="Desktop",e.mobile()?r="Mobile":e.tablet()&&(r="Tablet")),t={platform:r,OS:n.os&&n.os.replace(/\s/g,"_"),browserName:n.name}}catch(n){t=void 0}return t}();return a.fetchUserInfo({baseUrl:c,sessionInfo:i,id:n,contentType:r,deviceInfo:t,countryCode:o,referrerSource:e})}return a._bridge.getItem(pt)}).then(function(t){return a.userInfo=u&&t||{},a.userInfo}).catch(function(t){console.error(t)})});return window.__bloomberg__&&window.__bloomberg__.byzantium&&(window.__bloomberg__.byzantium.userInfoPromise=t),t}},{key:"fetchUserInfo",value:function(t){var e=this;return _t(t).then(function(t){return e._bridge.setItem(pt,t).then(function(){return t})})}},{key:"getAdParams",value:function(t){return this._withUserInfo(St,t)}},{key:"getTags",value:function(t){var e={},n=this._bridge.getItemSync(gt,!0);return this._bridge.getItemSync&&(e=St({userInfo:this._bridge.getItemSync(pt),referrer:this._bridge.getReferrerSync(),contentTags:n&&n.contentTags||[]})),y()({},t,e)}},{key:"getAdRecommendations",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.threshold,n=void 0===n?.3:n,e=e.targetingParamLimit,e=void 0===e?v.a:e,e=function(t,e,n){var r=1<arguments.length&&void 0!==e?e:0,e=2<arguments.length&&void 0!==n?n:v.a,n="";return n=t&&t.Metadata&&t.Metadata.prediction&&t.Metadata.prediction.adPropensity?h()(e=C()(t=P()(t=_()(t=dt()(t.Metadata.prediction.adPropensity)).call(t,function(t){return t[1]>=r})).call(t,function(t,e){return e[1]-t[1]})).call(t,0,e)).call(e,function(t){return t[0]}).join(","):n}(this._bridge.getItemSync(pt)||{},n,e);return y()({},t,{recs:e})}},{key:"getTagsWithDefaults",value:function(t){return this.getTags(t)}},{key:"getTagsWithContentInfo",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};return this._bridge.getItemSync&&(n=St({userInfo:this._bridge.getItemSync(pt),referrer:this._bridge.getReferrerSync(),contentTags:e.contentTags||[]})),y()({},t,n)}},{key:"injectIFrame",value:function(t,e,n){"function"==typeof this._bridge.injectIFrame&&this._bridge.injectIFrame(t,e,n)}},{key:"getPreferredTags",value:function(t){return this._withUserInfo(Et,t)}},{key:"getPreferredResourceTypes",value:function(){return this._withUserInfo(wt)}},{key:"getPreferredAuthors",value:function(){return this._withUserInfo(At)}},{key:"getUserSegments",value:function(){return this._withUserInfo(xt)}},{key:"getUserActions",value:function(){return this._withUserInfo(Pt)}},{key:"getUserMetadata",value:function(){return this._bridge.getItem(pt).then(function(t){var e=(t||{}).Metadata,n=void 0===e?{}:e,e=(t=n.attribute,e=new Date,e=t&&t.firstVisitedDate?Tt(e,t.firstVisitedDate):1,y()({},t,{calendarMonthSinceFirstVisit:e}));return{Metadata:y()({},n,{attribute:e})}})}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"getContextMetadata",value:function(){return"function"==typeof this._bridge.getReferrer?this._bridge.getReferrer().then(function(t){return{Metadata:{attribute:{domainCategory:(t=function(t){e=null,(n=t)&&0<n.length&&(n=ht(n),-1!==st()(n).call(n,".bloomberg.com")&&(e="INTERNAL_WEB"),-1!==st()(n).call(n,"mobile://")&&(e="INTERNAL_MOBILE")),n=e;if(null!==n)return n;var e,n,t=(e=t,n=null,t=RegExp("^(http|https)://.*$"),e&&0<e.length&&(e=decodeURI(e),e=ht(e),e=t.test(e)?e:"http://".concat(e),n=at.a.parse(e)),n);if(null===t)return"OTHERS";if(n=(e=t).path,e=t.hostname,n&&0===st()(n).call(n,"//com.google.android.googlequicksearchbox")&&"android-app"===e||(e=(n=t).path,n=t.hostname,e&&0===st()(e).call(e,"/auth/chrome-content-suggestions")&&"googleapis.com"===n))return"GOOGLE_SEARCH";t=t.host,t=ut[t];return t||"OTHERS"}(t),lt[t]||lt.OTHERS)}}}}):m.a.resolve({})}},{key:"setContentMetadata",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.contentTags,n=t.brand,r=t.franchise,i=t.adCodes,o=t.contentType,t=t.id;return this._bridge.setItem(gt,{contentTags:void 0===e?[]:e,brand:void 0===n?"":n,franchise:void 0===r?"":r,adCodes:void 0===i?[]:i,contentType:void 0===o?"":o,id:void 0===t?"":t},!0)}},{key:"getContentMetadata",value:function(){return this._bridge.getItem(gt,!0)}},{key:"getSTRValues",value:function(){var r,i,e=this,o={},t=[this._bridge.getItem(gt,!0),this._bridge.geoIp()];return m.a.all(t).then(function(t){return i=t[0]&&t[0].adCodes||[],r=t[1]||"",e._fetchSTRFile(e.strFileUrl)}).then(function(n){var t;return g()(t=p()(ft)).call(t,function(t){var e=ft[t];o[t]=e(i,r,n)}),o}).catch(function(t){return console.error(t),{}})}},{key:"_fetchSTRFile",value:function(t){return fetch(t).then(function(t){return t.ok?t.json():m.a.reject(t.statusText)})}},{key:"getUrlValues",value:function(){var e={url:"",utmValues:void 0,queryParams:void 0},t=[this._bridge.getUrl(),this._bridge.getQueryParams("utm_.*"),this._bridge.getQueryParams()];return m.a.all(t).then(function(t){return e.url=t[0]||"",e.utmValues=t[1]||new f.a,e.queryParams=t[2]||new f.a,e}).catch(function(t){return console.error(t),e})}},{key:"getTargetingMetadata",value:(ct=s()(c.a.mark(function t(){var e,n,r,i,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getContentMetadata();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0={};case 6:return e=t.t0,r=[this.getContextMetadata(),this.getAdParams(e.contentTags),this.getUrlValues(),this.getUserMetadata()],t.next=10,m.a.all(r);case 10:return i=t.sent,o=l()(i,4),n=o[0],r=o[1],i=o[2],o=o[3],t.abrupt("return",{contextInfo:n,tagsInfo:r,urlUtmValues:i,contentMetadata:e,byzantium:o});case 19:throw t.prev=19,t.t1=t.catch(0),console.error(t.t1),t.t1;case 23:case"end":return t.stop()}},t,this,[[0,19]])})),function(){return ct.apply(this,arguments)})},{key:"_flushQueue",value:function(){if(d()(this.queue))for(;this.queue.length;){var t=this.queue.shift();"function"==typeof t&&t()}}}]),bt);function bt(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.baseUrl,r=void 0===n?vt:n,n=e.strFileUrl,e=void 0===n?mt:n;T()(this,bt),this.queue=window.__bloomberg__&&window.__bloomberg__.byzantium&&window.__bloomberg__.byzantium.queue||[],this.getTags=b()(n=this.getTags).call(n,this),this.getUserInfo=b()(n=this.getUserInfo).call(n,this),this.getTagsWithContentInfo=b()(n=this.getTagsWithContentInfo).call(n,this),this.getTagsWithDefaults=b()(n=this.getTagsWithDefaults).call(n,this),this.injectIFrame=b()(n=this.injectIFrame).call(n,this),this.setContentMetadata=b()(n=this.setContentMetadata).call(n,this),this.getContentMetadata=b()(n=this.getContentMetadata).call(n,this),this.getSTRValues=b()(n=this.getSTRValues).call(n,this),this.getUrlValues=b()(n=this.getUrlValues).call(n,this),this.refreshUserInfo=b()(n=this.refreshUserInfo).call(n,this),this.getTargetingMetadata=b()(n=this.getTargetingMetadata).call(n,this),this.getAdRecommendations=b()(n=this.getAdRecommendations).call(n,this),this._bridge=t,this.strFileUrl=e,this.baseUrl=r,this.userInfo=this._bridge.getPersonalizationAllowedSync&&this._bridge.getPersonalizationAllowedSync()?this._bridge.getItemSync(pt):{},this._flushQueue()}function Tt(t,e){var n=e.split("-"),e=l()(n,2),n=e[0],e=e[1];return 12*(t.getFullYear()-a()(n))+(t.getMonth()+1-a()(e))+1}function _t(t){var e,n,r,i,o=t.fetchApi;return(void 0===o?fetch:o)((i=(e=t).baseUrl,S()(o="".concat(i,"?")).call(o,(t=function(){var t=n.id,e=n.contentType;if(void 0!==t&&Object.prototype.hasOwnProperty.call(A,e))return{currentResource:S()(e="".concat(e,"|")).call(e,t)}}(n=e),i=n.sessionInfo,o=(o=n).deviceInfo?{deviceInfo:S()(e=S()(e="".concat(o.deviceInfo.platform,"|")).call(e,o.deviceInfo.OS,"|")).call(e,o.deviceInfo.browserName)}:o.deviceInfo,r=y()({},t,i,o,{countryCode:n.countryCode},{referrerSource:n.referrerSource},{limit:100}),h()(o=_()(o=p()(r)).call(o,function(t){t=r[t];return!(null==t||""===t)})).call(o,function(t){var e=r[t],t=void 0===x[t]?encodeURIComponent(t):encodeURIComponent(x[t]),e=encodeURIComponent(e);return S()(t="".concat(t,"=")).call(t,e)}).join("&"))))).then(function(t){return t.json()})}function St(t){var e,n,r,i,o=t.userInfo,s=t.contentTags;return e={userInfo:o,contextInfo:{referrer:t.referrer,contentTags:s}},r=void 0===(n=e.userInfo)?{}:n,t=(o=void 0===(o=e.contextInfo)?{}:o).referrer,s=et(e),n=s.contextTagsTypeMap,o=s.preferredTagsTypeMap,e=s.preferredResourceTypesMap,s=s.cumulativeScoredContentTagsMap,n=nt(n,[W,H]),s=nt(s,[W,H]),e=nt(y()({},o,e),[W,H]),s=y()({},rt(n,"context"),rt(e,"preferred"),s),i=t?{referrer:null===(i=Z.exec(t=t))||""===i?t:$[i[1]]||i[1]}:{},r=function(t){var t=0<arguments.length&&void 0!==t?t:{},t=(t=null===t?{}:t).Metadata,t=(t=void 0===t?{}:t).attribute,r=void 0===t?{}:t;return L()(t=p()(r)).call(t,function(t,e){var n=tt[e];return n&&(t[n]=r[e]),t},{})}(r),y()({},i,s,r)}function Et(t){return et({userInfo:t.userInfo,contextInfo:{contentTags:t.contentTags}}).preferredTagsTypeMap}function wt(t){return et({userInfo:t.userInfo}).preferredResourceTypesMap}function At(t){return et({userInfo:t.userInfo}).preferredAuthorsMap}function xt(t){return Ct({userInfo:t.userInfo,targetField:"segment",outputField:"userSegments"})}function Pt(t){return Ct({userInfo:t.userInfo,targetField:"action",outputField:"userActions"})}function Ct(t){var e=t.userInfo,n=t.targetField,t=t.outputField,e=(e||{}).Metadata,e=(e=void 0===e?{}:e)[n],e=void 0===e?[]:e;return i()({},t,h()(e).call(e,function(t){return t["".concat(n,"Id")]}))}}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=193);function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r};"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.msByzantiumCoreModule=i():r.msByzantiumCoreModule=i()},{}],289:[function(t,e,n){e.exports=function(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},{}],286:[function(t,e,n){var r=function(){return i={},r.m=n=[function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function s(){}var i={trace:s,debug:s,log:s,warn:s,info:s,error:s},o=i;function a(i){var o=self.console[i];return o?function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];n[0]&&(n[0]=(t=n[0],"["+i+"] > "+t)),o.apply(self.console,n)}:s}var u=function(t){if(!0===t||"object"===(void 0===t?"undefined":r(t))){!function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach(function(t){o[t]=e[t]?e[t].bind(e):a(t)})}(t,"debug","log","info","warn","error");try{o.log()}catch(t){o=i}}else o=i},c=i},function(t,e,n){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});a.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a.getID3Data=function(t,e){for(var n=e,r=0;a.isHeader(t,e);)r+=10,r+=a._readSize(t,e+6),a.isFooter(t,e+10)&&(r+=10),e+=r;if(0<r)return t.subarray(n,n+r)},a._readSize=function(t,e){var n=0,n=(127&t[e])<<21;return n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},a.getTimeStamp=function(t){for(var e=a.getID3Frames(t),n=0;n<e.length;n++){var r=e[n];if(a.isTimeStampFrame(r))return a._readTimeStamp(r)}},a.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},a._getFrameData=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=a._readSize(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},a.getID3Frames=function(t){for(var e=0,n=[];a.isHeader(t,e);){for(var r=a._readSize(t,e+6),i=(e+=10)+r;e+8<i;){var o=a._getFrameData(t.subarray(e)),s=a._decodeFrame(o);s&&n.push(s),e+=o.size+10}a.isFooter(t,e)&&(e+=10)}return n},a._decodeFrame=function(t){return"PRIV"===t.type?a._decodePrivFrame(t):"T"===t.type[0]?a._decodeTextFrame(t):"W"===t.type[0]?a._decodeURLFrame(t):void 0},a._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),t=1&e[3],e=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return e/=45,t&&(e+=47721858.84),Math.round(e)}},a._decodePrivFrame=function(t){if(!(t.size<2)){var e=a._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},a._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=a._utf8ArrayToStr(t.data.subarray(1));e+=n.length+1;e=a._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:e}}e=a._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:e}}},a._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=a._utf8ArrayToStr(t.data.subarray(1));e+=n.length+1;e=a._utf8ArrayToStr(t.data.subarray(e));return{key:t.type,info:n,data:e}}e=a._utf8ArrayToStr(t.data);return{key:t.type,data:e}},a._utf8ArrayToStr=function(t,e){for(var n,r,i=1<arguments.length&&void 0!==e&&e,o=t.length,s=void 0,a="",u=0;u<o;){if(0===(n=t[u++])&&i)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:s=t[u++],a+=String.fromCharCode((31&n)<<6|63&s);break;case 14:s=t[u++],r=t[u++],a+=String.fromCharCode((15&n)<<12|(63&s)<<6|(63&r)<<0)}}return a},n=a;function a(){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this)}var r=n._utf8ArrayToStr;e.a=n},function(t,e,n){"use strict";function r(t,e){!function(t){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.subtle=t,this.aesIV=e}var a=(r.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},r);function i(t,e){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.subtle=t,this.key=e}var u=(i.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},i);function o(){!function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var c=(o.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},o.prototype.initTable=function(){for(var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],s=n[3],n=this.invSubMix,a=n[0],u=n[1],c=n[2],l=n[3],h=new Uint32Array(256),d=0,f=0,p=0,p=0;p<256;p++)h[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var g=f^f<<1^f<<2^f<<3^f<<4,v=h[e[t[d]=g=g>>>8^255&g^99]=d],m=h[v],y=h[m],b=257*h[g]^16843008*g;r[d]=b<<24|b>>>8,i[d]=b<<16|b>>>16,o[d]=b<<8|b>>>24,s[d]=b,a[g]=(b=16843009*y^65537*m^257*v^16843008*d)<<24|b>>>8,u[g]=b<<16|b>>>16,c[g]=b<<8|b>>>24,l[g]=b,d?(d=v^h[h[h[y^v]]],f^=h[h[f]]):d=f=1}},o.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);for(var o=this.ksRows=4*(i+6+1),s=void 0,a=void 0,u=this.keySchedule=new Uint32Array(o),c=this.invKeySchedule=new Uint32Array(o),l=this.sBox,h=this.rcon,t=this.invSubMix,d=t[0],f=t[1],p=t[2],g=t[3],v=void 0,m=void 0,s=0;s<o;s++)s<i?v=u[s]=e[s]:(m=v,s%i==0?(m=l[(m=m<<8|m>>>24)>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m],m^=h[s/i|0]<<24):6<i&&s%i==4&&(m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[255&m]),u[s]=v=(u[s-i]^m)>>>0);for(a=0;a<o;a++)s=o-a,m=3&a?u[s]:u[s-4],c[a]=a<4||s<=4?m:d[l[m>>>24]]^f[l[m>>>16&255]]^p[l[m>>>8&255]]^g[l[255&m]],c[a]=c[a]>>>0}},o.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},o.prototype.decrypt=function(t,e,n){for(var r,i,o,s,a,u,c=this.keySize+6,l=this.invKeySchedule,h=this.invSBox,d=this.invSubMix,f=d[0],p=d[1],g=d[2],v=d[3],n=this.uint8ArrayToUint32Array_(n),m=n[0],y=n[1],b=n[2],T=n[3],_=new Int32Array(t),S=new Int32Array(_.length),E=void 0,w=void 0,A=void 0,x=void 0,P=void 0,C=void 0,k=void 0,L=void 0,R=this.networkToHostOrderSwap;e<_.length;){for(o=R(_[e]),s=R(_[e+1]),a=R(_[e+2]),u=R(_[e+3]),P=o^l[0],C=u^l[1],k=a^l[2],L=s^l[3],r=4,i=1;i<c;i++)E=f[P>>>24]^p[C>>16&255]^g[k>>8&255]^v[255&L]^l[r],w=f[C>>>24]^p[k>>16&255]^g[L>>8&255]^v[255&P]^l[r+1],A=f[k>>>24]^p[L>>16&255]^g[P>>8&255]^v[255&C]^l[r+2],x=f[L>>>24]^p[P>>16&255]^g[C>>8&255]^v[255&k]^l[r+3],P=E,C=w,k=A,L=x,r+=4;E=h[P>>>24]<<24^h[C>>16&255]<<16^h[k>>8&255]<<8^h[255&L]^l[r],w=h[C>>>24]<<24^h[k>>16&255]<<16^h[L>>8&255]<<8^h[255&P]^l[r+1],A=h[k>>>24]<<24^h[L>>16&255]<<16^h[P>>8&255]<<8^h[255&C]^l[r+2],x=h[L>>>24]<<24^h[P>>16&255]<<16^h[C>>8&255]<<8^h[255&k]^l[r+3],r+=3,S[e]=R(E^m),S[e+1]=R(x^y),S[e+2]=R(A^b),S[e+3]=R(w^T),m=o,y=s,b=a,T=u,e+=4}return S.buffer},o.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},o),s=n(2),l=n(0),n=(h.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},h.prototype.decrypt=function(e,n,r,i){var t,o,s=this;this.disableWebCrypto&&this.config.enableSoftwareAES?(this.logEnabled&&(l.b.log("JS AES decrypt"),this.logEnabled=!1),(t=this.decryptor)||(this.decryptor=t=new c),t.expandKey(n),i(t.decrypt(e,0,r))):(this.logEnabled&&(l.b.log("WebCrypto AES decrypt"),this.logEnabled=!1),o=this.subtle,this.key!==n&&(this.key=n,this.fastAesKey=new u(o,n)),this.fastAesKey.expandKey().then(function(t){new a(o,r).decrypt(e,t).catch(function(t){s.onWebCryptoError(t,e,n,r,i)}).then(function(t){i(t)})}).catch(function(t){s.onWebCryptoError(t,e,n,r,i)}))},h.prototype.onWebCryptoError=function(t,e,n,r,i){this.config.enableSoftwareAES?(l.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,r,i)):(l.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},h.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},h);function h(t,e){!function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.config=e,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}e.a=n},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(t){return"function"==typeof t}function c(t){return"object"==typeof t&&null!==t}function l(t){return void 0===t}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,o,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(l(n=this._events[t]))return!1;if(u(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(c(n))for(i=Array.prototype.slice.call(arguments,1),r=(s=n.slice()).length,o=0;o<r;o++)s[o].apply(this,i);return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!u(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,u(e.listener)?e.listener:e),this._events[t]?c(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,c(this._events[t])&&!this._events[t].warned&&(n=l(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(t,e){if(!u(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,i,o;if(!u(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||u(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(c(n)){for(o=i;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(u(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?u(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){t=this._events[t];if(u(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){var r=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,s=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=this.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}r=this.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=a.normalizePath(r.path),a.buildURLFromParts(r)):e;var i=this.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");!i.netLoc&&i.path&&"/"!==i.path[0]&&(o=s.exec(i.path),i.netLoc=o[1],i.path=o[2]),i.netLoc&&!i.path&&(i.path="/");var o,t={scheme:i.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};return r.netLoc||(t.netLoc=i.netLoc,"/"===r.path[0])||(r.path?(o=(o=i.path).substring(0,o.lastIndexOf("/")+1)+r.path,t.path=a.normalizePath(o)):(t.path=i.path,r.params||(t.params=i.params,r.query||(t.query=i.query)))),null===t.path&&(t.path=n.alwaysNormalize?a.normalizePath(r.path):r.path),a.buildURLFromParts(t)},parseURL:function(t){t=r.exec(t);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(i,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a},function(t,e,n){"use strict";var H=n(1),V=n(2),g=n(4),W=n(0);function r(t,e){return 255===t[e]&&240==(246&t[e+1])}function u(t,e){return 1&t[e+1]?7:9}function c(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function p(t,e){return e+1<t.length&&r(t,e)}function v(t,e,n,r,i){t.samplerate||(i=function(t,e,n,r){var i,o,s=navigator.userAgent.toLowerCase(),a=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],c=1+((192&e[n+2])>>>6),l=(60&e[n+2])>>>2;if(!(u.length-1<l))return i=(1&e[n+2])<<2,i|=(192&e[n+3])>>>6,W.b.log("manifest codec:"+r+",ADTS data:type:"+c+",sampleingIndex:"+l+"["+u[l]+"Hz],channelConfig:"+i),r=/firefox/i.test(s)?6<=l?(c=5,o=new Array(4),l-3):(c=2,o=new Array(2),l):-1!==s.indexOf("android")?(c=2,o=new Array(2),l):(c=5,o=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&6<=l?l-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(6<=l&&1==i||/vivaldi/i.test(s))||!r&&1==i)&&(c=2,o=new Array(2)),l)),o[0]=c<<3,o[0]|=(14&l)>>1,o[1]|=(1&l)<<7,o[1]|=i<<3,5===c&&(o[1]|=(14&r)>>1,o[2]=(1&r)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[l],channelCount:i,codec:"mp4a.40."+c,manifestCodec:a};t.trigger(Event.ERROR,{type:V.b.MEDIA_ERROR,details:V.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}(e,n,r,i),t.config=i.config,t.samplerate=i.samplerate,t.channelCount=i.channelCount,t.codec=i.codec,t.manifestCodec=i.manifestCodec,W.b.log("parsed codec:"+t.codec+",rate:"+i.samplerate+",nb channel:"+i.channelCount))}function f(t){return 9216e4/t}function m(t,i,o,s,a){var e=function(t){var e=i.length,n=u(i,o),r=c(i,o);if(0<(r-=n)&&o+n+r<=e)return{headerLength:n,frameLength:r,stamp:s+a*t}}(f(t.samplerate));if(e){var n=e.stamp,r=e.headerLength,e=e.frameLength,n={unit:i.subarray(o+r,o+r+e),pts:n,dts:n};return t.samples.push(n),t.len+=e,{sample:n,length:e+r}}}var y=n(3);function i(t,e,n){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.config=n,this.remuxer=e}var E=(i.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},i.prototype.resetTimeStamp=function(){},i.probe=function(t){if(!t)return!1;for(var e=(y.a.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(function(t,e){if(e+1<t.length&&r(t,e)){var n=u(t,e),n=e+(n=e+5<t.length?c(t,e):n);if(n===t.length||n+1<t.length&&r(t,n))return 1}}(t,e))return W.b.log("ADTS sync word found !"),!0;return!1},i.prototype.append=function(t,e,n,r){for(var i=this._audioTrack,o=y.a.getID3Data(t,0)||[],s=y.a.getTimeStamp(o),a=s?90*s:9e4*e,u=0,c=a,l=t.length,h=o.length,d=[{pts:c,dts:c,data:o}];h<l-1;)if(p(t,h)&&h+5<l){v(i,this.observer,t,h,i.manifestCodec);var f=m(i,t,h,a,u);if(!f){W.b.log("Unable to parse AAC frame");break}h+=f.length,c=f.sample.pts,u++}else y.a.isHeader(t,h)?(o=y.a.getID3Data(t,h),d.push({pts:c,dts:c,data:o}),h+=o.length):h++;this.remuxer.remux(i,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,n,r)},i.prototype.destroy=function(){},i),o=Math.pow(2,32)-1;function l(t,e){!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.remuxer=e}var w=(l.prototype.resetTimeStamp=function(t){this.initPTS=t},l.prototype.resetInitSegment=function(t,e,n,r){var i,o;t&&t.byteLength?(null==e&&(e="mp4a.40.5"),null==n&&(n="avc1.42e01e"),o={},(i=this.initData=l.parseInitSegment(t)).audio&&i.video?o.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:r?t:null}:(i.audio&&(o.audio={container:"audio/mp4",codec:e,initSegment:r?t:null}),i.video&&(o.video={container:"video/mp4",codec:n,initSegment:r?t:null})),this.observer.trigger(H.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})):(e&&(this.audioCodec=e),n&&(this.videoCodec=n))},l.probe=function(t){return 0<l.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length},l.bin2str=function(t){return String.fromCharCode.apply(null,t)},l.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);e=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return e<0?4294967296+e:e},l.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},l.findBox=function(t,e){var n,r,i,o,s,a=[];if(t.data?(o=t.start,r=t.end,t=t.data):(o=0,r=t.byteLength),!e.length)return null;for(n=o;n<r;)s=1<(i=l.readUint32(t,n))?n+i:r,l.bin2str(t.subarray(n+4,n+8))===e[0]&&(1===e.length?a.push({data:t,start:n+8,end:s}):(i=l.findBox({data:t,start:n+8,end:s},e.slice(1))).length&&(a=a.concat(i))),n=s;return a},l.parseInitSegment=function(t){var i=[];return l.findBox(t,["moov","trak"]).forEach(function(t){var e,n,r=l.findBox(t,["tkhd"])[0];r&&(n=r.data[r.start],e=l.readUint32(r,0===n?12:20),(r=l.findBox(t,["mdia","mdhd"])[0])&&(n=r.data[r.start],r=l.readUint32(r,0===n?12:20),!(n=l.findBox(t,["mdia","hdlr"])[0])||(n={soun:"audio",vide:"video"}[l.bin2str(n.data.subarray(n.start+8,n.start+12))])&&((t=l.findBox(t,["mdia","minf","stbl","stsd"])).length&&(t=t[0],t=l.bin2str(t.data.subarray(t.start+12,t.start+16)),W.b.log("MP4Demuxer:"+n+":"+t+" found")),i[e]={timescale:r,type:n},i[n]={timescale:r,id:e})))}),i},l.getStartDTS=function(n,t){var t=l.findBox(t,["moof","traf"]),t=[].concat.apply([],t.map(function(e){return l.findBox(e,["tfhd"]).map(function(t){var t=l.readUint32(t,4),t=n[t].timescale||9e4;return l.findBox(e,["tfdt"]).map(function(t){var e=t.data[t.start],n=l.readUint32(t,4);return 1===e&&(n*=Math.pow(2,32),n+=l.readUint32(t,8)),n})[0]/t})})),t=Math.min.apply(null,t);return isFinite(t)?t:0},l.offsetStartDTS=function(n,t,i){l.findBox(t,["moof","traf"]).map(function(e){return l.findBox(e,["tfhd"]).map(function(t){var t=l.readUint32(t,4),r=n[t].timescale||9e4;l.findBox(e,["tfdt"]).map(function(t){var e=t.data[t.start],n=l.readUint32(t,4);0===e?l.writeUint32(t,4,n-i*r):(n*=Math.pow(2,32),n+=l.readUint32(t,8),n-=i*r,n=Math.max(n,0),e=Math.floor(n/(1+o)),n=Math.floor(n%(1+o)),l.writeUint32(t,4,e),l.writeUint32(t,8,n))})})})},l.prototype.append=function(t,e,n,r){var i=this.initData;i||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),i=this.initData);var o,s=this.initPTS;void 0===s&&(o=l.getStartDTS(i,t),this.initPTS=s=o-e,this.observer.trigger(H.a.INIT_PTS_FOUND,{initPTS:s})),l.offsetStartDTS(i,t,s),s=l.getStartDTS(i,t),this.remuxer.remux(i.audio,i.video,null,null,s,n,r,t)},l.prototype.destroy=function(){},l),a={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,r,i){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){i=r+i*(9e4*o.samplesPerFrame/o.sampleRate),i={unit:e.subarray(n,n+o.frameLength),pts:i,dts:i};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(i),t.len+=o.frameLength,{sample:i,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!=n&&0!=i&&15!=i&&3!=o){i=1e3*a.BitratesMap[14*(3==n?3-r:3==r?3:4)+i-1],o=a.SamplingRateMap[3*(3==n?0:2==n?1:2)+o],t=t[e+3]>>6==3?1:2,e=a.SamplesCoefficients[n][r],n=a.BytesInSlot[r],r=8*e*n;return{sampleRate:o,channelCount:t,frameLength:parseInt(e*i/o+s,10)*n,samplesPerFrame:r}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),r=4,r=e+(r=n&&n.frameLength?n.frameLength:r);if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},b=a;function s(t){!function(t){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var A=(s.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),e=Math.min(4,e);if(0===e)throw new Error("no bytes available");r.set(t.subarray(n,n+e)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*e,this.bytesAvailable-=e},s.prototype.skipBits=function(t){var e;this.bitsAvailable>t||(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord()),this.word<<=t,this.bitsAvailable-=t},s.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return 32<t&&W.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,0<this.bitsAvailable?this.word<<=e:0<this.bytesAvailable&&this.loadWord(),0<(e=t-e)&&this.bitsAvailable?n<<e|this.readBits(e):n},s.prototype.skipLZ=function(){for(var t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},s.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},s.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},s.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},s.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},s.prototype.readBoolean=function(){return 1===this.readBits(1)},s.prototype.readUByte=function(){return this.readBits(8)},s.prototype.readUShort=function(){return this.readBits(16)},s.prototype.readUInt=function(){return this.readBits(32)},s.prototype.skipScalingList=function(t){for(var e=8,n=8,r=0;r<t;r++)e=0===(n=0!==n?(e+this.readEG()+256)%256:n)?e:n},s.prototype.readSPS=function(){var t,e,n,r,i=0,o=0,s=0,a=0,u=this.readUByte.bind(this),c=this.readBits.bind(this),l=this.readUEG.bind(this),h=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),p=this.skipUEG.bind(this),g=this.skipScalingList.bind(this);if(u(),t=u(),c(5),d(3),u(),p(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var v=l();if(3===v&&d(1),p(),p(),d(1),h())for(n=3!==v?8:12,r=0;r<n;r++)h()&&g(r<6?16:64)}p();var v=l();if(0===v)l();else if(1===v)for(d(1),f(),f(),e=l(),r=0;r<e;r++)f();p(),d(1),v=l(),p=l(),0===(c=c(1))&&d(1),d(1),h()&&(i=l(),o=l(),s=l(),a=l());var m=[1,1];if(h()&&h())switch(u()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[u()<<8|u(),u()<<8|u()]}return{width:Math.ceil(16*(v+1)-2*i-2*o),height:(2-c)*(p+1)*16-(c?2:4)*(s+a),pixelRatio:m}},s.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},s);function h(t,e,n,r){!function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.decryptdata=n,this.discardEPB=r,this.decrypter=new g.a(t,e)}var d=(h.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},h.prototype.decryptAacSample=function(e,n,r,i){var o=e[n].unit,t=o.subarray(16,o.length-o.length%16),t=t.buffer.slice(t.byteOffset,t.byteOffset+t.length),s=this;this.decryptBuffer(t,function(t){t=new Uint8Array(t),o.set(t,16),i||s.decryptAacSamples(e,n+1,r)})},h.prototype.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},h.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n},h.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,r=32;r<=t.length-16;r+=160,n+=16)t.set(e.subarray(n,n+16),r);return t},h.prototype.decryptAvcSample=function(e,n,r,i,o,s){var a=this.discardEPB(o.data),t=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(t.buffer,function(t){o.data=u.getAvcDecryptedUnit(a,t),s||u.decryptAvcSamples(e,n,r+1,i)})},h.prototype.decryptAvcSamples=function(t,e,n,r){for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.length<=48||1!==o.type&&5!==o.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,o,s),!s)return}}}},h),T={video:0,audio:1,id3:2,text:3};function R(t,e,n,r){!function(t){if(!(t instanceof R))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.config=n,this.typeSupported=r,this.remuxer=e,this.sampleAes=null}var x=(R.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new d(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},R.probe=function(t){t=R._syncOffset(t);return!(t<0||(t&&W.b.warn("MPEG2-TS detected but first sync word found @ offset "+t+", junk ahead ?"),0))},R._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},R.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:T[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},R.prototype.resetInitSegment=function(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=R.createTrack("video",r),this._audioTrack=R.createTrack("audio",r),this._id3Track=R.createTrack("id3",r),this._txtTrack=R.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=r},R.prototype.resetTimeStamp=function(){},R.prototype.append=function(t,e,n,r){var i,o,s,a,u,c=t.length,l=!1;this.contiguous=n;var h=this.pmtParsed,d=this._avcTrack,f=this._audioTrack,p=this._id3Track,g=d.pid,v=f.pid,m=p.pid,y=this._pmtId,b=d.pesData,T=f.pesData,_=p.pesData,S=this._parsePAT,E=this._parsePMT,w=this._parsePES,A=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),C=this._parseID3PES.bind(this),k=R._syncOffset(t);for(c-=(c+k)%188,i=k;i<c;i+=188)if(71===t[i]){if(o=!!(64&t[i+1]),s=((31&t[i+1])<<8)+t[i+2],1<(48&t[i+3])>>4){if((a=i+5+t[i+4])===i+188)continue}else a=i+4;switch(s){case g:o&&(b&&(u=w(b))&&A(u,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(a,i+188)),b.size+=i+188-a);break;case v:o&&(T&&(u=w(T))&&(f.isAAC?x:P)(u),T={data:[],size:0}),T&&(T.data.push(t.subarray(a,i+188)),T.size+=i+188-a);break;case m:o&&(_&&(u=w(_))&&C(u),_={data:[],size:0}),_&&(_.data.push(t.subarray(a,i+188)),_.size+=i+188-a);break;case 0:o&&(a+=t[a]+1),y=this._pmtId=S(t,a);break;case y:o&&(a+=t[a]+1);var L=E(t,a,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);0<(g=L.avc)&&(d.pid=g),0<(v=L.audio)&&(f.pid=v,f.isAAC=L.isAAC),0<(m=L.id3)&&(p.pid=m),l&&!h&&(W.b.log("reparse from beginning"),l=!1,i=k-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:l=!0}}else this.observer.trigger(H.a.ERROR,{type:V.b.MEDIA_ERROR,details:V.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(u=w(b))?(A(u,!0),d.pesData=null):d.pesData=b,T&&(u=w(T))?((f.isAAC?x:P)(u),f.pesData=null):(T&&T.size&&W.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=T),_&&(u=w(_))?(C(u),p.pesData=null):p.pesData=_,null==this.sampleAes?this.remuxer.remux(f,d,p,this._txtTrack,e,n,r):this.decryptAndRemux(f,d,p,this._txtTrack,e,n,r)},R.prototype.decryptAndRemux=function(t,e,n,r,i,o,s){var a;t.samples&&t.isAAC?(a=this).sampleAes.decryptAacSamples(t.samples,0,function(){a.decryptAndRemuxAvc(t,e,n,r,i,o,s)}):this.decryptAndRemuxAvc(t,e,n,r,i,o,s)},R.prototype.decryptAndRemuxAvc=function(t,e,n,r,i,o,s){var a;e.samples?(a=this).sampleAes.decryptAvcSamples(e.samples,0,0,function(){a.remuxer.remux(t,e,n,r,i,o,s)}):this.remuxer.remux(t,e,n,r,i,o,s)},R.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},R.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},R.prototype._parsePMT=function(t,e,n,r){var i,o={audio:-1,avc:-1,id3:-1,isAAC:!0},s=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<s;){switch(i=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){W.b.log("unkown stream type:"+t[e]);break}case 15:-1===o.audio&&(o.audio=i);break;case 21:-1===o.id3&&(o.id3=i);break;case 219:if(!r){W.b.log("unkown stream type:"+t[e]);break}case 27:-1===o.avc&&(o.avc=i);break;case 3:case 4:n?-1===o.audio&&(o.audio=i,o.isAAC=!1):W.b.log("MPEG audio found, not supported in this browser for now");break;case 36:W.b.warn("HEVC stream type found, not supported for now");break;default:W.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o},R.prototype._parsePES=function(t){var e,n,r,i,o,s,a=0,u=t.data;if(!t||0===t.size)return null;for(;u[0].length<19&&1<u.length;){var c=new Uint8Array(u[0].length+u[1].length);c.set(u[0]),c.set(u[1],u[0].length),u[0]=c,u.splice(1,1)}if(1!==((e=u[0])[0]<<16)+(e[1]<<8)+e[2])return null;if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;192&(r=e[7])&&(4294967295<(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2)&&(i-=8589934592),64&r?(4294967295<(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)&&(o-=8589934592),54e5<i-o&&(W.b.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o)):o=i),s=(r=e[8])+9,t.size-=s;for(var l=new Uint8Array(t.size),h=0,d=u.length;h<d;h++){var f=(e=u[h]).byteLength;if(s){if(f<s){s-=f;continue}e=e.subarray(s),f-=s,s=0}l.set(e,a),a+=f}return n&&(n-=r+3),{data:l,pts:i,dts:o,len:n}},R.prototype.pushAccesUnit=function(t,e){var n,r;t.units.length&&t.frame&&(r=(n=e.samples).length,!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,n.push(t)):e.dropped++),t.debug.length&&W.b.log(t.pts+"/"+t.dts+":"+t.debug)},R.prototype._parseAVCPES=function(f,t){function p(t,e,n,r){return{key:t,pts:e,dts:n,units:[],debug:r}}var g,v,m,y=this,b=this._avcTrack,e=this._parseAVCNALu(f.data),T=this.avcSample,_=!1,S=this.pushAccesUnit.bind(this);f.data=null,T&&e.length&&!b.audFound&&(S(T,b),T=this.avcSample=p(!1,f.pts,f.dts,"")),e.forEach(function(t){switch(t.type){case 1:v=!0,(T=T||(y.avcSample=p(!0,f.pts,f.dts,""))).frame=!0;var e=t.data;_&&4<e.length&&(2!==(c=new A(e).readSliceType())&&4!==c&&7!==c&&9!==c||(T.key=!0));break;case 5:v=!0,(T=T||(y.avcSample=p(!0,f.pts,f.dts,""))).key=!0,T.frame=!0;break;case 6:v=!0,(g=new A(y.discardEPB(t.data))).readUByte();for(var n=0,r=0,i=!1,o=0;!i&&1<g.bytesAvailable;){for(n=0;n+=o=g.readUByte(),255===o;);for(r=0;r+=o=g.readUByte(),255===o;);if(4===n&&0!==g.bytesAvailable){if(i=!0,181===g.readUByte()&&49===g.readUShort()&&1195456820===g.readUInt()&&3===g.readUByte()){var s=g.readUByte(),a=31&s,u=[s,g.readUByte()];for(m=0;m<a;m++)u.push(g.readUByte()),u.push(g.readUByte()),u.push(g.readUByte());y._insertSampleInOrder(y._txtTrack.samples,{type:3,pts:f.pts,bytes:u})}}else if(r<g.bytesAvailable)for(m=0;m<r;m++)g.readUByte()}break;case 7:if(_=v=!0,!b.sps){var c=(g=new A(t.data)).readSPS();b.width=c.width,b.height=c.height,b.pixelRatio=c.pixelRatio,b.sps=[t.data],b.duration=y._duration;var l=t.data.subarray(1,4),h="avc1.";for(m=0;m<3;m++){var d=l[m].toString(16);h+=d=d.length<2?"0"+d:d}b.codec=h}break;case 8:v=!0,b.pps||(b.pps=[t.data]);break;case 9:v=!1,b.audFound=!0,T&&S(T,b),T=y.avcSample=p(!1,f.pts,f.dts,"");break;case 12:v=!1;break;default:v=!1,T&&(T.debug+="unknown NAL "+t.type+" ")}T&&v&&T.units.push(t)}),t&&T&&(S(T,b),this.avcSample=null)},R.prototype._insertSampleInOrder=function(t,e){var n=t.length;if(0<n){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;0<=r;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},R.prototype._getLastNalUnit=function(){var t,e=this.avcSample,n=void 0;return n=(e=!e||0===e.units.length?(t=this._avcTrack.samples)[t.length-1]:e)?(e=e.units)[e.length-1]:n},R.prototype._parseAVCNALu=function(t){var e,n,r,i,o,s,a,u,c=0,l=t.byteLength,h=this._avcTrack,d=h.naluState||0,f=d,p=[],g=-1;for(-1===d&&(i=31&t[g=0],d=0,c=1);c<l;)e=t[c++],d=d?1!==d?e?1===e?(0<=g?(r={data:t.subarray(g,c-d-1),type:i},p.push(r)):(o=this._getLastNalUnit())&&(f&&c<=4-f&&o.state&&(o.data=o.data.subarray(0,o.data.byteLength-f)),0<(n=c-d-1))&&((s=new Uint8Array(o.data.byteLength+n)).set(o.data,0),s.set(t.subarray(0,n),o.data.byteLength),o.data=s),c<l?(i=31&t[g=c],0):-1):0:3:e?0:2:e?0:1;return 0<=g&&0<=d&&(r={data:t.subarray(g,l),type:i,state:d},p.push(r)),0===p.length&&(a=this._getLastNalUnit())&&((u=new Uint8Array(a.data.byteLength+t.byteLength)).set(a.data,0),u.set(t,a.data.byteLength),a.data=u),h.naluState=d,p},R.prototype.discardEPB=function(t){for(var e=t.byteLength,n=[],r=1;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;for(var i=e-n.length,o=new Uint8Array(i),s=0,r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),o[r]=t[s];return o},R.prototype._parseAACPES=function(t){var e,n,r,i,o,s,a=this._audioTrack,u=t.data,c=t.pts,l=this.aacOverFlow,h=this.aacLastPTS;for(l&&((t=new Uint8Array(l.byteLength+u.byteLength)).set(l,0),t.set(u,l.byteLength),u=t),n=0,i=u.length;n<i-1&&!p(u,n);n++);if(!n||(s=n<i-1?(o="AAC PES did not start with ADTS header,offset:"+n,!1):(o="no ADTS header found in AAC PES",!0),W.b.warn("parsing error:"+o),this.observer.trigger(H.a.ERROR,{type:V.b.MEDIA_ERROR,details:V.a.FRAG_PARSING_ERROR,fatal:s,reason:o}),!s)){for(v(a,this.observer,u,n,this.audioCodec),e=0,s=f(a.samplerate),l&&h&&(s=h+s,1<Math.abs(s-c)&&(W.b.log("AAC: align PTS for overlapping frames by "+Math.round((s-c)/90)),c=s));n<i;)if(p(u,n)&&n+5<i){var d=m(a,u,n,c,e);if(!d)break;n+=d.length,r=d.sample.pts,e++}else n++;l=n<i?u.subarray(n,i):null,this.aacOverFlow=l,this.aacLastPTS=r}},R.prototype._parseMPEGPES=function(t){for(var e=t.data,n=e.length,r=0,i=0,o=t.pts;i<n;)if(b.isHeader(e,i)){var s=b.appendFrame(this._audioTrack,e,i,o,r);if(!s)break;i+=s.length,r++}else i++},R.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},R);function _(t,e,n){!function(t){if(!(t instanceof _))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.config=n,this.remuxer=e}var P=(_.prototype.resetInitSegment=function(t,e,n,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},_.prototype.resetTimeStamp=function(){},_.probe=function(t){var e,n,r=y.a.getID3Data(t,0);if(r&&void 0!==y.a.getTimeStamp(r))for(e=r.length,n=Math.min(t.length-1,e+100);e<n;e++)if(b.probe(t,e))return W.b.log("MPEG Audio sync word found !"),!0;return!1},_.prototype.append=function(t,e,n,r){for(var i=y.a.getID3Data(t,0),o=y.a.getTimeStamp(i),s=o?90*o:9e4*e,a=i.length,u=t.length,c=0,l=0,h=this._audioTrack,d=[{pts:s,dts:s,data:i}];a<u;)if(b.isHeader(t,a)){var f=b.appendFrame(h,t,a,s,c);if(!f)break;a+=f.length,l=f.sample.pts,c++}else y.a.isHeader(t,a)?(i=y.a.getID3Data(t,a),d.push({pts:l,dts:l,data:i}),a+=i.length):a++;this.remuxer.remux(h,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,n,r)},_.prototype.destroy=function(){},_);function S(){!function(t){if(!(t instanceof S))throw new TypeError("Cannot call a class as a function")}(this)}var F=(S.getSilentFrame=function(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},S),C=Math.pow(2,32)-1;function k(){!function(t){if(!(t instanceof k))throw new TypeError("Cannot call a class as a function")}(this)}var q=(k.init=function(){for(var t in k.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})k.types.hasOwnProperty(t)&&(k.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);k.HDLR_TYPES={video:e,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);k.STTS=k.STSC=k.STCO=i,k.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),k.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),k.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),k.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);e=new Uint8Array([105,115,111,109]),n=new Uint8Array([97,118,99,49]),i=new Uint8Array([0,0,0,1]);k.FTYP=k.box(k.types.ftyp,e,i,e,n),k.DINF=k.box(k.types.dinf,k.box(k.types.dref,r))},k.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),i=0,r=8;i<o;i++)e.set(n[i],r),r+=n[i].byteLength;return e},k.hdlr=function(t){return k.box(k.types.hdlr,k.HDLR_TYPES[t])},k.mdat=function(t){return k.box(k.types.mdat,t)},k.mdhd=function(t,e){e*=t;var n=Math.floor(e/(1+C)),e=Math.floor(e%(1+C));return k.box(k.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,e>>24,e>>16&255,e>>8&255,255&e,85,196,0,0]))},k.mdia=function(t){return k.box(k.types.mdia,k.mdhd(t.timescale,t.duration),k.hdlr(t.type),k.minf(t))},k.mfhd=function(t){return k.box(k.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},k.minf=function(t){return"audio"===t.type?k.box(k.types.minf,k.box(k.types.smhd,k.SMHD),k.DINF,k.stbl(t)):k.box(k.types.minf,k.box(k.types.vmhd,k.VMHD),k.DINF,k.stbl(t))},k.moof=function(t,e,n){return k.box(k.types.moof,k.mfhd(t),k.traf(n,e))},k.moov=function(t){for(var e=t.length,n=[];e--;)n[e]=k.trak(t[e]);return k.box.apply(null,[k.types.moov,k.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(k.mvex(t)))},k.mvex=function(t){for(var e=t.length,n=[];e--;)n[e]=k.trex(t[e]);return k.box.apply(null,[k.types.mvex].concat(n))},k.mvhd=function(t,e){e*=t;var n=Math.floor(e/(1+C)),e=Math.floor(e%(1+C)),e=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,e>>24,e>>16&255,e>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return k.box(k.types.mvhd,e)},k.sdtp=function(t){for(var e,n=t.samples||[],r=new Uint8Array(4+n.length),i=0;i<n.length;i++)e=n[i].flags,r[i+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return k.box(k.types.sdtp,r)},k.stbl=function(t){return k.box(k.types.stbl,k.stsd(t),k.box(k.types.stts,k.STTS),k.box(k.types.stsc,k.STSC),k.box(k.types.stsz,k.STSZ),k.box(k.types.stco,k.STCO))},k.avc1=function(t){for(var e,n,r=[],i=[],o=0;o<t.sps.length;o++)n=(e=t.sps[o]).byteLength,r.push(n>>>8&255),r.push(255&n),r=r.concat(Array.prototype.slice.call(e));for(o=0;o<t.pps.length;o++)n=(e=t.pps[o]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(e));var s=k.box(k.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(i))),a=t.width,u=t.height,c=t.pixelRatio[0],l=t.pixelRatio[1];return k.box(k.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,k.box(k.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),k.box(k.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l])))},k.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},k.mp4a=function(t){var e=t.samplerate;return k.box(k.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]),k.box(k.types.esds,k.esds(t)))},k.mp3=function(t){var e=t.samplerate;return k.box(k.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0]))},k.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?k.box(k.types.stsd,k.STSD,k.mp4a(t)):k.box(k.types.stsd,k.STSD,k.mp3(t)):k.box(k.types.stsd,k.STSD,k.avc1(t))},k.tkhd=function(t){var e=t.id,n=t.duration*t.timescale,r=t.width,i=t.height,t=Math.floor(n/(1+C)),n=Math.floor(n%(1+C));return k.box(k.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))},k.traf=function(t,e){var n=k.sdtp(t),r=t.id,i=Math.floor(e/(1+C)),e=Math.floor(e%(1+C));return k.box(k.types.traf,k.box(k.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),k.box(k.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,e>>24,e>>16&255,e>>8&255,255&e])),k.trun(t,n.length+16+20+8+16+8+8),n)},k.trak=function(t){return t.duration=t.duration||4294967295,k.box(k.types.trak,k.tkhd(t),k.mdia(t))},k.trex=function(t){t=t.id;return k.box(k.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},k.trun=function(t,e){var n,r,i,o,s,a=t.samples||[],u=a.length,t=12+16*u,c=new Uint8Array(t);for(c.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,(e+=8+t)>>>24&255,e>>>16&255,e>>>8&255,255&e],0),n=0;n<u;n++)r=(s=a[n]).duration,i=s.size,o=s.flags,s=s.cts,c.set([r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*n);return k.box(k.types.trun,c)},k.initSegment=function(t){k.types||k.init();var e=k.moov(t);return(t=new Uint8Array(k.FTYP.byteLength+e.byteLength)).set(k.FTYP),t.set(e,k.FTYP.byteLength),t},k);function L(t,e,n,r){!function(t){if(!(t instanceof L))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.config=e,this.typeSupported=n;n=navigator.userAgent;this.isSafari=r&&-1<r.indexOf("Apple")&&n&&!n.match("CriOS"),this.ISGenerated=!1}var I=(L.prototype.destroy=function(){},L.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},L.prototype.resetInitSegment=function(){this.ISGenerated=!1},L.prototype.remux=function(t,e,n,r,i,o,s){var a,u,c,l,h,d;this.ISGenerated||this.generateIS(t,e,i),this.ISGenerated&&(h=t.samples.length,a=e.samples.length,c=u=i,h&&a&&(l=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale,u+=Math.max(0,l),c+=Math.max(0,-l)),h?(t.timescale||(W.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,i)),h=this.remuxAudio(t,u,o,s),a&&(d=void 0,h&&(d=h.endPTS-h.startPTS),e.timescale||(W.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,i)),this.remuxVideo(e,c,o,d,s))):(d=void 0,(d=a?this.remuxVideo(e,c,o,s):d)&&t.codec&&this.remuxEmptyAudio(t,u,o,d))),n.samples.length&&this.remuxID3(n,i),r.samples.length&&this.remuxText(r,i),this.observer.trigger(H.a.FRAG_PARSED)},L.prototype.generateIS=function(t,e,n){var r,i,o=this.observer,s=t.samples,a=e.samples,u=this.typeSupported,c="audio/mp4",l={},h={tracks:l},d=void 0===this._initPTS;d&&(r=i=1/0),t.config&&s.length&&(t.timescale=t.samplerate,W.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(u.mpeg?(c="audio/mpeg",t.codec=""):u.mp3&&(t.codec="mp3")),l.audio={container:c,codec:t.codec,initSegment:!t.isAAC&&u.mpeg?new Uint8Array:q.initSegment([t]),metadata:{channelCount:t.channelCount}},d&&(r=i=s[0].pts-t.inputTimeScale*n)),e.sps&&e.pps&&a.length&&(t=e.inputTimeScale,e.timescale=t,l.video={container:"video/mp4",codec:e.codec,initSegment:q.initSegment([e]),metadata:{width:e.width,height:e.height}},d&&(r=Math.min(r,a[0].pts-t*n),i=Math.min(i,a[0].dts-t*n),this.observer.trigger(H.a.INIT_PTS_FOUND,{initPTS:r}))),Object.keys(l).length?(o.trigger(H.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,d&&(this._initPTS=r,this._initDTS=i)):o.trigger(H.a.ERROR,{type:V.b.MEDIA_ERROR,details:V.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},L.prototype.remuxVideo=function(t,e,n,r,i){var o,s,a=8,u=t.timescale,c=t.samples,l=[],h=c.length,d=this._PTSNormalize,f=this._initDTS,p=this.nextAvcDts,g=this.isSafari;g&&(n|=c.length&&p&&(i&&Math.abs(e-p/u)<.1||Math.abs(c[0].pts-p-f)<u/5)),n||(p=e*u),c.forEach(function(t){t.pts=d(t.pts-f,p),t.dts=d(t.dts-f,p)}),c.sort(function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r||t.id-e.id});var v=c.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(v<0){W.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(v/90)+" ms to overcome this issue");for(var m=0;m<c.length;m++)c[m].dts+=v}var i=c[0],y=Math.max(i.dts,0),b=Math.max(i.pts,0),e=Math.round((y-p)/90);n&&e&&(1<e?W.b.log("AVC:"+e+" ms hole between fragments detected,filling it"):e<-1&&W.b.log("AVC:"+-e+" ms overlapping between fragments detected"),y=p,c[0].dts=y,b=Math.max(b-e,p),c[0].pts=b,W.b.log("Video/PTS/DTS adjusted: "+Math.round(b/90)+"/"+Math.round(y/90)+",delta:"+e+" ms")),i=c[c.length-1],n=Math.max(i.dts,0),e=Math.max(i.pts,0,n),g&&(o=Math.round((n-y)/(c.length-1)));for(var T=0,_=0,S=0;S<h;S++){for(var E=c[S],w=E.units,A=w.length,x=0,P=0;P<A;P++)x+=w[P].data.length;_+=x,T+=A,E.length=x,E.dts=g?y+S*o:Math.max(E.dts,y),E.pts=Math.max(E.pts,E.dts)}i=_+4*T+8;try{s=new Uint8Array(i)}catch(t){return void this.observer.trigger(H.a.ERROR,{type:V.b.MUX_ERROR,details:V.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:i,reason:"fail allocating video mdat "+i})}var C=new DataView(s.buffer);C.setUint32(0,i),s.set(q.types.mdat,4);for(var k=0;k<h;k++){for(var L,R,I,D=c[k],O=D.units,M=0,N=void 0,B=0,F=O.length;B<F;B++){var j=O[B],G=j.data,j=j.data.byteLength;C.setUint32(a,j),a+=4,s.set(G,a),a+=j,M+=4+j}N=g?Math.max(0,o*Math.round((D.pts-D.dts)/o)):(k<h-1?o=c[k+1].dts-D.dts:(I=this.config,L=D.dts-c[0<k?k-1:k].dts,I.stretchShortVideoTrack?(R=I.maxBufferHole,I=I.maxSeekHole,Math.floor(Math.min(R,I)*u)<(I=(r?b+r*u:this.nextAudioPts)-D.pts)?((o=I-L)<0&&(o=L),W.b.log("It is approximately "+I/90+" ms to the next segment; using duration "+o/90+" ms for the last video frame.")):o=L):o=L),Math.round(D.pts-D.dts)),l.push({size:M,duration:o,cts:N,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:D.key?2:1,isNonSync:D.key?0:1}})}this.nextAvcDts=n+o;var U,n=t.dropped;t.len=0,t.nbNalu=0,t.dropped=0,l.length&&-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&((U=l[0].flags).dependsOn=2,U.isNonSync=0),t.samples=l,U=q.moof(t.sequenceNumber++,y,t),t.samples=[];n={data1:U,data2:s,startPTS:b/u,endPTS:(e+o)/u,startDTS:y/u,endDTS:this.nextAvcDts/u,type:"video",nb:l.length,dropped:n};return this.observer.trigger(H.a.FRAG_PARSING_DATA,n),n},L.prototype.remuxAudio=function(t,e,n,r){var i,o,s,a,u,c=t.inputTimeScale,l=t.timescale,h=c/l,d=(t.isAAC?1024:1152)*h,f=this._PTSNormalize,p=this._initDTS,g=!t.isAAC&&this.typeSupported.mpeg,v=t.samples,m=[],y=this.nextAudioPts;if(n|=v.length&&y&&(r&&Math.abs(e-y/c)<.1||Math.abs(v[0].pts-y-p)<20*d),v.forEach(function(t){t.pts=t.dts=f(t.pts-p,e*c)}),0!==(v=v.filter(function(t){return 0<=t.pts})).length){if(n||(y=r?e*c:v[0].pts),t.isAAC)for(var b=this.config.maxAudioFramesDrift,T=0,_=y;T<v.length;){var S=v[T],E=S.pts-_,w=Math.abs(1e3*E/c);if(E<=-b*d)W.b.warn("Dropping 1 audio frame @ "+(_/c).toFixed(3)+"s due to "+Math.round(w)+" ms overlap."),v.splice(T,1),t.len-=S.unit.length;else if(b*d<=E&&w<1e4&&_){var A=Math.round(E/d);W.b.warn("Injecting "+A+" audio frame @ "+(_/c).toFixed(3)+"s due to "+Math.round(1e3*E/c)+" ms gap.");for(var x=0;x<A;x++){var P=Math.max(_,0);(o=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(W.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),o=S.unit.subarray()),v.splice(T,0,{unit:o,pts:P,dts:P}),t.len+=o.length,_+=d,T++}S.pts=S.dts=_,_+=d,T++}else Math.abs(E),S.pts=S.dts=_,_+=d,T++}for(var C=0,k=v.length;C<k;C++){var L=v[C],R=L.unit,L=L.pts;if(void 0!==u)i.duration=Math.round((L-u)/h);else{var I=Math.round(1e3*(L-y)/c),D=0;if(n&&t.isAAC&&I){if(0<I&&I<1e4)D=Math.round((L-y)/d),W.b.log(I+" ms hole between AAC samples detected,filling it"),0<D&&(o=(o=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||R.subarray(),t.len+=D*o.length);else if(I<-12){W.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(y/c).toFixed(3)+"s/"+(L/c).toFixed(3)+"s/"+-I+"ms"),t.len-=R.byteLength;continue}L=y}if(a=L,!(0<t.len))return;var I=g?t.len:t.len+8,O=g?0:8;try{s=new Uint8Array(I)}catch(t){return void this.observer.trigger(H.a.ERROR,{type:V.b.MUX_ERROR,details:V.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:I,reason:"fail allocating audio mdat "+I})}g||(new DataView(s.buffer).setUint32(0,I),s.set(q.types.mdat,4));for(var M=0;M<D;M++)(o=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(W.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),o=R.subarray()),s.set(o,O),O+=o.byteLength,i={size:o.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},m.push(i)}s.set(R,O);I=R.byteLength;O+=I,m.push(i={size:I,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),u=L}var N=0,B=m.length;if(2<=B&&(N=m[B-2].duration,i.duration=N),B){this.nextAudioPts=y=u+h*N,t.len=0,t.samples=m,l=g?new Uint8Array:q.moof(t.sequenceNumber++,a/h,t),t.samples=[];r=a/c,N=y/c,B={data1:l,data2:s,startPTS:r,endPTS:N,startDTS:r,endDTS:N,type:"audio",nb:B};return this.observer.trigger(H.a.FRAG_PARSING_DATA,B),B}return null}},L.prototype.remuxEmptyAudio=function(t,e,n,r){var i=t.inputTimeScale,o=i/(t.samplerate||i),s=this.nextAudioPts,a=(void 0!==s?s:r.startDTS*i)+this._initDTS,i=r.endDTS*i+this._initDTS,u=1024*o,c=Math.ceil((i-a)/u),l=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(W.b.warn("remux empty Audio"),l){for(var h=[],d=0;d<c;d++){var f=a+d*u;h.push({unit:l,pts:f,dts:f}),t.len+=l.length}t.samples=h,this.remuxAudio(t,e,n)}else W.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},L.prototype.remuxID3=function(t,e){var n,r=t.samples.length,i=t.inputTimeScale,o=this._initPTS,s=this._initDTS;if(r){for(var a=0;a<r;a++)(n=t.samples[a]).pts=(n.pts-o)/i,n.dts=(n.dts-s)/i;this.observer.trigger(H.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},L.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var n,r=t.samples.length,i=t.inputTimeScale,o=this._initPTS;if(r){for(var s=0;s<r;s++)(n=t.samples[s]).pts=(n.pts-o)/i;this.observer.trigger(H.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},L.prototype._PTSNormalize=function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;4294967296<Math.abs(t-e);)t+=n;return t},L);function D(t){!function(t){if(!(t instanceof D))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t}var O=(D.prototype.destroy=function(){},D.prototype.resetTimeStamp=function(){},D.prototype.resetInitSegment=function(){},D.prototype.remux=function(t,e,n,r,i,o,s,a){var u=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),u.trigger(H.a.FRAG_PARSING_DATA,{data1:a,startPTS:i,startDTS:i,type:c,nb:1,dropped:0}),u.trigger(H.a.FRAG_PARSED)},D),n=(M.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},M.prototype.push=function(t,n,r,i,o,s,a,u,c,l,h,d){if(0<t.byteLength&&null!=n&&null!=n.key&&"AES-128"===n.method){var e=this.decrypter;null==e&&(e=this.decrypter=new g.a(this.observer,this.config));var f,p=this;try{f=performance.now()}catch(t){f=Date.now()}e.decrypt(t,n.key.buffer,n.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}p.observer.trigger(H.a.FRAG_DECRYPTED,{stats:{tstart:f,tdecrypt:e}}),p.pushDecrypted(new Uint8Array(t),n,new Uint8Array(r),i,o,s,a,u,c,l,h,d)})}else this.pushDecrypted(new Uint8Array(t),n,new Uint8Array(r),i,o,s,a,u,c,l,h,d)},M.prototype.pushDecrypted=function(t,e,n,r,i,o,s,a,u,c,l,h){if(!(_=this.demuxer)||s&&!this.probe(t)){for(var d=this.observer,f=this.typeSupported,p=this.config,g=[{demux:x,remux:I},{demux:w,remux:O},{demux:E,remux:I},{demux:P,remux:I}],v=0,m=g.length;v<m;v++){var y=g[v],b=y.demux.probe;if(b(t)){var T=this.remuxer=new y.remux(d,p,f,this.vendor),_=new y.demux(d,T,p,f);this.probe=b;break}}if(!_)return void d.trigger(H.a.ERROR,{type:V.b.MEDIA_ERROR,details:V.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=_}var S=this.remuxer;(s||a)&&(_.resetInitSegment(n,r,i,c),S.resetInitSegment()),s&&(_.resetTimeStamp(h),S.resetTimeStamp(h)),"function"==typeof _.setDecryptData&&_.setDecryptData(e),_.append(t,o,u,l)},M);function M(t,e,n,r){!function(t){if(!(t instanceof M))throw new TypeError("Cannot call a class as a function")}(this),this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r}e.a=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"newCue",function(){return Me});var i=n(6),o=n.n(i),_=n(1),S=n(2),E=n(0),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t){!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var u=(a.prototype.destroy=function(){this.unregisterListeners()},a.prototype.isEventHandler=function(){return"object"===s(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},a.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},a.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},a.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},a.prototype.onEventGeneric=function(t,e){try{!function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}.call(this,t,e).call()}catch(e){E.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(_.a.ERROR,{type:S.b.OTHER_ERROR,details:S.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},a),c=/^(\d+)x(\d+)$/,l=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;function h(t){for(var e in function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),t="string"==typeof t?h.parseAttrList(t):t)t.hasOwnProperty(e)&&(this[e]=t[e])}var w=(h.prototype.decimalInteger=function(t){t=parseInt(this[t],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},h.prototype.hexadecimalInteger=function(t){if(this[t]){for(var e=(1&(e=(this[t]||"0x").slice(2)).length?"0":"")+e,n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},h.prototype.hexadecimalIntegerAsNumber=function(t){t=parseInt(this[t],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},h.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},h.prototype.enumeratedString=function(t){return this[t]},h.prototype.decimalResolution=function(t){t=c.exec(this[t]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},h.parseAttrList=function(t){var e,n={};for(l.lastIndex=0;null!==(e=l.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[e[1]]=r}return n},h),d={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function f(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var p=function(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t};function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,y=/#EXT-X-MEDIA:(.*)/g,A=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),x=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,P=(p(b,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=o.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),b);function b(){v(this,b),this.method=null,this.key=null,this.iv=null,this._uri=null}var T,C=(k.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},k.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&((n=new P).method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n},k.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},p(k,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=o.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){var t,e,n;return this._byteRange||(t=this._byteRange=[],this.rawByteRange&&(1===(e=this.rawByteRange.split("@",2)).length?(n=this.lastByteRangeEndOffset,t[0]=n||0):t[0]=parseInt(e[1]),t[1]=parseInt(e[0])+t[0])),this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),k);function k(){v(this,k),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function L(t){v(this,L);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,T.call(this,t,_.a.MANIFEST_LOADING,_.a.LEVEL_LOADING,_.a.AUDIO_TRACK_LOADING,_.a.SUBTITLE_TRACK_LOADING));return t.loaders={},t}var R,I=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(L,T=u),L.prototype.destroy=function(){for(var t in this.loaders){t=this.loaders[t];t&&t.destroy()}this.loaders={},u.prototype.destroy.call(this)},L.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},L.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},L.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},L.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},L.prototype.load=function(t,e){var n=this.loaders[e.type];if(void 0!==n){var r=n.context;if(r&&r.url===t)return void E.b.trace("playlist request ongoing");E.b.warn("abort previous loader for type:"+e.type),n.abort()}var i=this.hls.config,o=void 0,s=void 0,a=void 0,r=void 0;"manifest"===e.type?(o=i.manifestLoadingMaxRetry,s=i.manifestLoadingTimeOut,a=i.manifestLoadingRetryDelay,r=i.manifestLoadingMaxRetryTimeout):"level"===e.type?(o=0,s=i.levelLoadingTimeOut):(o=i.levelLoadingMaxRetry,s=i.levelLoadingTimeOut,a=i.levelLoadingRetryDelay,r=i.levelLoadingMaxRetryTimeout,E.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),n=this.loaders[e.type]=e.loader=new(void 0!==i.pLoader?i.pLoader:i.loader)(i),e.url=t,e.responseType="",a={timeout:s,maxRetry:o,retryDelay:a,maxRetryDelay:r},r={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,a,r)},L.prototype.resolve=function(t,e){return o.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},L.prototype.parseMasterPlaylist=function(t,e){var n,r=[];function i(r,i){["video","audio"].forEach(function(n){var t,e=r.filter(function(t){return e=t,!!(t=d[n])&&!0===t[e.slice(0,4)];var e});e.length&&(t=e.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}),i[n+"Codec"]=(0<t.length?t:e)[0],r=r.filter(function(t){return-1===e.indexOf(t)}))}),i.unknownCodecs=r}for(m.lastIndex=0;null!=(n=m.exec(t));){var o={},s=o.attrs=new w(n[1]);o.url=this.resolve(n[2],e);var a=s.decimalResolution("RESOLUTION");a&&(o.width=a.width,o.height=a.height),o.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),o.name=s.NAME,i([].concat((s.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=this.avc1toavcoti(o.videoCodec)),r.push(o)}return r},L.prototype.parseMasterPlaylistMedia=function(t,e,n,r){var i,o=3<arguments.length&&void 0!==r?r:[],s=[],a=0;for(y.lastIndex=0;null!==(i=y.exec(t));){var u={},c=new w(i[1]);c.TYPE===n&&(u.groupId=c["GROUP-ID"],u.name=c.NAME,u.type=n,u.default="YES"===c.DEFAULT,u.autoselect="YES"===c.AUTOSELECT,u.forced="YES"===c.FORCED,c.URI&&(u.url=this.resolve(c.URI,e)),u.lang=c.LANGUAGE,u.name||(u.name=u.lang),o.length&&(c=function(t,e){if(!t)return null;for(var n=null,r=0;r<t.length;r++){var i=t[r];i.id===e&&(n=i)}return n}(o,u.groupId),u.audioCodec=(c||o[0]).codec),u.id=a++,s.push(u))}return s},L.prototype.avc1toavcoti=function(t){var e,n=t.split(".");return 2<n.length?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},L.prototype.parseLevelPlaylist=function(t,e,n,r){var i,o,s=0,a=0,u={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},c=new P,l=0,h=null,d=new C;for(A.lastIndex=0;null!==(i=A.exec(t));){var f,p=i[1];if(p){d.duration=parseFloat(p);var g=(" "+i[2]).slice(1);d.title=g||null,d.tagList.push(g?["INF",p,g]:["INF",p])}else if(i[3])isNaN(d.duration)||(p=s++,d.type=r,d.start=a,d.levelkey=c,d.sn=p,d.level=n,d.cc=l,d.baseurl=e,d.relurl=(" "+i[3]).slice(1),u.fragments.push(d),a+=(h=d).duration,d=new C);else if(i[4])d.rawByteRange=(" "+i[4]).slice(1),h&&(f=h.byteRangeEndOffset)&&(d.lastByteRangeEndOffset=f);else if(i[5])d.rawProgramDateTime=(" "+i[5]).slice(1),d.tagList.push(["PROGRAM-DATE-TIME",d.rawProgramDateTime]),void 0===u.programDateTime&&(u.programDateTime=new Date(new Date(Date.parse(i[5]))-1e3*a));else{for(i=i[0].match(x),o=1;o<i.length&&void 0===i[o];o++);var v=(" "+i[o+1]).slice(1),m=(" "+i[o+2]).slice(1);switch(i[o]){case"#":d.tagList.push(m?[v,m]:[v]);break;case"PLAYLIST-TYPE":u.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":s=u.startSN=parseInt(v);break;case"TARGETDURATION":u.targetduration=parseFloat(v);break;case"VERSION":u.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":l++,d.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":l=parseInt(v);break;case"KEY":var y=new w(v),b=y.enumeratedString("METHOD"),T=y.URI,y=y.hexadecimalInteger("IV");b&&(c=new P,T&&0<=["AES-128","SAMPLE-AES"].indexOf(b)&&(c.method=b,c.baseuri=e,c.reluri=T,c.key=null,c.iv=y));break;case"START":var _=new w(v).decimalFloatingPoint("TIME-OFFSET");isNaN(_)||(u.startTimeOffset=_);break;case"MAP":_=new w(v);d.relurl=_.URI,d.rawByteRange=_.BYTERANGE,d.baseurl=e,d.level=n,d.type=r,d.sn="initSegment",u.initSegment=d,d=new C;break;default:E.b.warn("line parsed but not handled: "+i)}}}return(d=h)&&!d.relurl&&(u.fragments.pop(),a-=d.duration),u.totalduration=a,u.averagetargetduration=a/u.fragments.length,u.endSN=s-1,u.startCC=u.fragments[0]?u.fragments[0].cc:0,u.endCC=l,u},L.prototype.loadsuccess=function(t,e,n,r){var i,o,s=3<arguments.length&&void 0!==r?r:null,a=t.data,u=t.url,c=n.type,l=n.id,r=n.level,t=this.hls;(this.loaders[c]=void 0)!==u&&0!==u.indexOf("data:")||(u=n.url),e.tload=performance.now(),0===a.indexOf("#EXTM3U")?0<a.indexOf("#EXTINF:")?(n="audioTrack"!==c&&"subtitleTrack"!==c,i=isNaN(r)?isNaN(l)?0:l:r,(i=this.parseLevelPlaylist(a,u,i,"audioTrack"===c?"audio":"subtitleTrack"===c?"subtitle":"main")).tload=e.tload,"manifest"===c&&t.trigger(_.a.MANIFEST_LOADED,{levels:[{url:u,details:i}],audioTracks:[],url:u,stats:e,networkDetails:s}),e.tparsed=performance.now(),i.targetduration?n?t.trigger(_.a.LEVEL_LOADED,{details:i,level:r||0,id:l||0,stats:e,networkDetails:s}):"audioTrack"===c?t.trigger(_.a.AUDIO_TRACK_LOADED,{details:i,id:l,stats:e,networkDetails:s}):"subtitleTrack"===c&&t.trigger(_.a.SUBTITLE_TRACK_LOADED,{details:i,id:l,stats:e,networkDetails:s}):t.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.MANIFEST_PARSING_ERROR,fatal:!0,url:u,reason:"invalid targetduration",networkDetails:s})):(i=this.parseMasterPlaylist(a,u)).length?(l=i.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),l=this.parseMasterPlaylistMedia(a,u,"AUDIO",l),a=this.parseMasterPlaylistMedia(a,u,"SUBTITLES"),l.length&&(o=!1,l.forEach(function(t){t.url||(o=!0)}),!1===o&&i[0].audioCodec&&!i[0].attrs.AUDIO&&(E.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),l.unshift({type:"main",name:"main"}))),t.trigger(_.a.MANIFEST_LOADED,{levels:i,audioTracks:l,subtitles:a,url:u,stats:e,networkDetails:s})):t.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.MANIFEST_PARSING_ERROR,fatal:!0,url:u,reason:"no level found in manifest",networkDetails:s}):t.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.MANIFEST_PARSING_ERROR,fatal:!0,url:u,reason:"no EXTM3U delimiter",networkDetails:s})},L.prototype.loaderror=function(t,e,n){var r,i,o=2<arguments.length&&void 0!==n?n:null,n=e.loader;switch(e.type){case"manifest":r=S.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":r=S.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":r=S.a.AUDIO_TRACK_LOAD_ERROR,i=!1}n&&(n.abort(),this.loaders[e.type]=void 0),this.hls.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,response:t,context:e,networkDetails:o})},L.prototype.loadtimeout=function(t,e,n){var r,i,o=2<arguments.length&&void 0!==n?n:null,n=e.loader;switch(e.type){case"manifest":r=S.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":r=S.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":r=S.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}n&&(n.abort(),this.loaders[e.type]=void 0),this.hls.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:r,fatal:i,url:n.url,loader:n,context:e,networkDetails:o})},L);function D(t){!function(t){if(!(t instanceof D))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,R.call(this,t,_.a.FRAG_LOADING));return t.loaders={},t}var O,M=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(D,R=u),D.prototype.destroy=function(){var t,e=this.loaders;for(t in e){var n=e[t];n&&n.destroy()}this.loaders={},u.prototype.destroy.call(this)},D.prototype.onFragLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],i=this.hls.config;e.loaded=0,r&&(E.b.warn("abort previous fragment loader for type:"+n),r.abort());var r=this.loaders[n]=e.loader=new(void 0!==i.fLoader?i.fLoader:i.loader)(i),t=void 0,t={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1},n=e.byteRangeStartOffset,e=e.byteRangeEndOffset;isNaN(n)||isNaN(e)||(t.rangeStart=n,t.rangeEnd=e),e={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},i={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(t,e,i)},D.prototype.loadsuccess=function(t,e,n,r){r=3<arguments.length&&void 0!==r?r:null,t=t.data,n=n.frag;n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(_.a.FRAG_LOADED,{payload:t,frag:n,stats:e,networkDetails:r})},D.prototype.loaderror=function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:r})},D.prototype.loadtimeout=function(t,e,n){var r=2<arguments.length&&void 0!==n?n:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:r})},D.prototype.loadprogress=function(t,e,n,r){r=3<arguments.length&&void 0!==r?r:null,e=e.frag;e.loaded=t.loaded,this.hls.trigger(_.a.FRAG_LOAD_PROGRESS,{frag:e,stats:t,networkDetails:r})},D);function N(t){!function(t){if(!(t instanceof N))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,O.call(this,t,_.a.KEY_LOADING));return t.loaders={},t.decryptkey=null,t.decrypturl=null,t}var B=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(N,O=u),N.prototype.destroy=function(){for(var t in this.loaders){t=this.loaders[t];t&&t.destroy()}this.loaders={},u.prototype.destroy.call(this)},N.prototype.onKeyLoading=function(t){var e=t.frag,n=e.type,r=this.loaders[n],i=e.decryptdata,o=i.uri;o!==this.decrypturl||null===this.decryptkey?(t=this.hls.config,r&&(E.b.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new t.loader(t),this.decrypturl=o,this.decryptkey=null,n={url:o,frag:e,responseType:"arraybuffer"},o={timeout:t.fragLoadingTimeOut,maxRetry:t.fragLoadingMaxRetry,retryDelay:t.fragLoadingRetryDelay,maxRetryDelay:t.fragLoadingMaxRetryTimeout},t={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(n,o,t)):this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(_.a.KEY_LOADED,{frag:e}))},N.prototype.loadsuccess=function(t,e,n){n=n.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(_.a.KEY_LOADED,{frag:n})},N.prototype.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},N.prototype.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(_.a.ERROR,{type:S.b.NETWORK_ERROR,details:S.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},N),F=function(t,e){for(var n,r,i=0,o=t.length-1;i<=o;){var s=e(r=t[n=(i+o)/2|0]);if(0<s)i=1+n;else{if(!(s<0))return r;o=n-1}}return null},j={isBuffered:function(t,e){try{if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0}catch(t){}return!1},bufferInfo:function(t,e,n){try{if(t){for(var r=t.buffered,i=[],o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,e,n)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,n){var r,i,o,s,a,u=[];for(t.sort(function(t,e){return t.start-e.start||e.end-t.end}),a=0;a<t.length;a++){var c,l=u.length;l?(c=u[l-1].end,t[a].start-c<n?t[a].end>c&&(u[l-1].end=t[a].end):u.push(t[a])):u.push(t[a])}for(r=a=0,i=o=e;a<u.length;a++){var h=u[a].start,d=u[a].end;if(h<=e+n&&e<d)i=h,r=(o=d)-e;else if(e+n<h){s=h;break}}return{len:r,start:i,end:o,nextStart:s}}},G=n(7),U=n(5),H=n.n(U),V=n(9),W=n.n(V);function q(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}var K=q();function X(n,t){!function(t){if(!(t instanceof X))throw new TypeError("Cannot call a class as a function")}(this),this.hls=n,this.id=t;var i=this.observer=new H.a,e=n.config;i.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))};var r=function(t,e){(e=e||{}).frag=this.frag,e.id=this.id,n.trigger(t,e)}.bind(this);i.on(_.a.FRAG_DECRYPTED,r),i.on(_.a.FRAG_PARSING_INIT_SEGMENT,r),i.on(_.a.FRAG_PARSING_DATA,r),i.on(_.a.FRAG_PARSED,r),i.on(_.a.ERROR,r),i.on(_.a.FRAG_PARSING_METADATA,r),i.on(_.a.FRAG_PARSING_USERDATA,r),i.on(_.a.INIT_PTS_FOUND,r);var o={mp4:K.isTypeSupported("video/mp4"),mpeg:K.isTypeSupported("audio/mpeg"),mp3:K.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(e.enableWorker&&"undefined"!=typeof Worker){E.b.log("demuxing in webworker");r=void 0;try{r=this.w=W()(10),this.onwmsg=this.onWorkerMessage.bind(this),r.addEventListener("message",this.onwmsg),r.onerror=function(t){n.trigger(_.a.ERROR,{type:S.b.OTHER_ERROR,details:S.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},r.postMessage({cmd:"init",typeSupported:o,vendor:s,id:t,config:JSON.stringify(e)})}catch(t){E.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),r&&URL.revokeObjectURL(r.objectURL),this.demuxer=new G.a(i,o,e,s),this.w=void 0}}else this.demuxer=new G.a(i,o,e,s)}var z=(X.prototype.destroy=function(){var t=this.w;t?(t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null):(e=this.demuxer)&&(e.destroy(),this.demuxer=null);var e=this.observer;e&&(e.removeAllListeners(),this.observer=null)},X.prototype.push=function(t,e,n,r,i,o,s,a){var u=this.w,c=isNaN(i.startDTS)?i.start:i.startDTS,l=i.decryptdata,h=this.frag,d=!(h&&i.cc===h.cc),f=!(h&&i.level===h.level),h=h&&i.sn===h.sn+1,h=!f&&h;d&&E.b.log(this.id+":discontinuity detected"),f&&E.b.log(this.id+":switch detected"),this.frag=i,u?u.postMessage({cmd:"demux",data:t,decryptdata:l,initSegment:e,audioCodec:n,videoCodec:r,timeOffset:c,discontinuity:d,trackSwitch:f,contiguous:h,duration:o,accurateTimeOffset:s,defaultInitPTS:a},t instanceof ArrayBuffer?[t]:[]):(u=this.demuxer)&&u.push(t,l,e,n,r,c,d,f,h,o,s,a)},X.prototype.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case _.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},X);function Y(t,e,n){var r=t[e],i=t[n],t=i.startPTS;isNaN(t)?i.start=e<n?r.start+r.duration:Math.max(r.start-i.duration,0):e<n?(r.duration=t-r.start,r.duration<0&&E.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(i.duration=r.start-t,i.duration<0&&E.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"))}function Q(t,e,n,r,i,o){var s=n;isNaN(e.startPTS)||(a=Math.abs(e.startPTS-n),isNaN(e.deltaPTS)?e.deltaPTS=a:e.deltaPTS=Math.max(a,e.deltaPTS),s=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),r=Math.max(r,e.endPTS),i=Math.min(i,e.startDTS),o=Math.max(o,e.endDTS));var a=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=s,e.endPTS=r,e.startDTS=i,e.endDTS=o,e.duration=r-n;var u,c,n=e.sn;if(!t||n<t.startSN||n>t.endSN)return 0;for(n=n-t.startSN,(u=t.fragments)[n]=e,c=n;0<c;c--)Y(u,c,c-1);for(c=n;c<u.length-1;c++)Y(u,c,c+1);return t.PTSKnown=!0,a}function J(t,e){var n,r=Math.max(t.startSN,e.startSN)-e.startSN,i=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,s=t.fragments,a=e.fragments,u=0;if(i<r)e.PTSKnown=!1;else{for(var c=r;c<=i;c++){var l=s[o+c],h=a[c];h&&l&&(u=l.cc-h.cc,isNaN(l.startPTS)||(h.start=h.startPTS=l.startPTS,h.endPTS=l.endPTS,h.duration=l.duration,h.backtracked=l.backtracked,h.dropped=l.dropped,n=h))}if(u)for(E.b.log("discontinuity sliding from playlist, take drift into account"),c=0;c<a.length;c++)a[c].cc+=u;if(n)Q(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(0<=o&&o<s.length)for(var d=s[o].start,c=0;c<a.length;c++)a[c].start+=d;e.PTSKnown=t.PTSKnown}}var $=function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e};function Z(n,t){t.fragments.forEach(function(t){var e;t&&(e=t.start+n,t.start=t.startPTS=e,t.endPTS=e+t.duration)}),t.PTSKnown=!0}function tt(t,e,n){var r,i;r=!1,(r=!!(e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC))||r)&&(i=function(t,e){if(t=t.fragments,(e=e.fragments).length&&t.length){e=function(t,e){for(var n=null,r=0;r<t.length;r+=1){var i=t[r];if(i&&i.cc===e){n=i;break}}return n}(t,e[0].cc);if(e&&(!e||e.startPTS))return e;E.b.log("No frag in previous level to align on")}else E.b.log("No fragments to align")}(e.details,n))&&(E.b.log("Adjusting PTS using last level due to CC increase within current level"),Z(i.start,n)),!1===n.PTSKnown&&e&&e.details&&(i=e.details.programDateTime,e=(n.programDateTime-i)/1e3+e.details.fragments[0].start,isNaN(e)||(E.b.log("adjusting PTS using programDateTime delta, sliding:"+e.toFixed(3)),Z(e,n)))}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nt,rt="STOPPED",it="IDLE",ot="KEY_LOADING",st="FRAG_LOADING",at="FRAG_LOADING_WAITING_RETRY",ut="WAITING_LEVEL",ct="PARSING",lt="PARSED",ht="BUFFER_FLUSHING",dt="ERROR";function ft(t){!function(t){if(!(t instanceof ft))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,nt.call(this,t,_.a.MEDIA_ATTACHED,_.a.MEDIA_DETACHING,_.a.MANIFEST_LOADING,_.a.MANIFEST_PARSED,_.a.LEVEL_LOADED,_.a.KEY_LOADED,_.a.FRAG_LOADED,_.a.FRAG_LOAD_EMERGENCY_ABORTED,_.a.FRAG_PARSING_INIT_SEGMENT,_.a.FRAG_PARSING_DATA,_.a.FRAG_PARSED,_.a.ERROR,_.a.AUDIO_TRACK_SWITCHING,_.a.AUDIO_TRACK_SWITCHED,_.a.BUFFER_CREATED,_.a.BUFFER_APPENDED,_.a.BUFFER_FLUSHED));return e.config=t.config,e.audioCodecSwap=!1,e.ticks=0,e._state=rt,e.ontick=e.tick.bind(e),e}var pt,gt,vt,mt,yt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ft,nt=u),ft.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),u.prototype.destroy.call(this),this.state=rt},ft.prototype.startLoad=function(t){var e,n,r;this.levels?(e=this.lastCurrentTime,n=this.hls,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,this.startFragRequested||(-1===(r=n.startLevel)&&(this.bitrateTest=!(r=0)),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1),0<e&&-1===t&&(E.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=it,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()):(this.forceStartLoad=!0,this.state=rt)},ft.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=rt,this.forceStartLoad=!1},ft.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},ft.prototype.doTick=function(){switch(this.state){case dt:break;case ht:this.fragLoadError=0;break;case it:this._doTickIdle();break;case ut:var t=this.levels[this.level];t&&t.details&&(this.state=it);break;case at:var e=performance.now(),t=this.retryDate;(!t||t<=e||this.media&&this.media.seeking)&&(E.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=it)}this._checkBuffer(),this._checkFragmentChanged()},ft.prototype._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch)){var r=this.loadedmetadata?n.currentTime:this.nextLoadPosition,i=t.nextLoadLevel,o=this.levels[i];if(o){var s=o.bitrate,a=void 0,a=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength;a=Math.min(a,e.maxMaxBufferLength);s=j.bufferInfo(this.mediaBuffer||n,r,e.maxBufferHole),e=s.len;if(!(a<=e)){E.b.trace("buffer length of "+e.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;o=o.details;if(void 0===o||!0===o.live&&this.levelLastLoaded!==i)this.state=ut;else{i=this.fragPrevious;if(!o.live&&i&&!i.backtracked&&i.sn===o.endSN&&!s.nextStart&&Math.min(n.duration,i.start+i.duration)-Math.max(s.end,i.start)<=Math.max(.2,i.duration)){i={};return this.altAudio&&(i.type="video"),this.hls.trigger(_.a.BUFFER_EOS,i),void(this.state="ENDED")}this._fetchPayloadOrEos(r,s,o)}}}}},ft.prototype._fetchPayloadOrEos=function(t,e,n){var r=this.fragPrevious,i=this.level,o=n.fragments,s=o.length;if(0!==s){var a=o[0].start,u=o[s-1].start+o[s-1].duration,c=e.end,l=void 0;if(n.initSegment&&!n.initSegment.data)l=n.initSegment;else if(n.live){e=this.config.initialLiveManifestSize;if(s<e)return void E.b.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+e);if(null===(l=this._ensureFragmentAtLivePoint(n,c,a,u,r,o,s)))return}else c<a&&(l=o[0]);(l=l||this._findFragment(a,r,s,o,c,u,n))&&this._loadFragmentOrKey(l,i,n,t,c)}},ft.prototype._ensureFragmentAtLivePoint=function(t,e,n,r,i,o,s){var a=this.hls.config,u=this.media,c=void 0,l=void 0!==a.liveMaxLatencyDuration?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*t.targetduration;return e<Math.max(n-a.maxFragLookUpTolerance,r-l)&&(n=this.liveSyncPosition=this.computeLivePosition(n,t),E.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+n.toFixed(3)),e=n,u&&u.readyState&&u.duration>n&&(u.currentTime=n),this.nextLoadPosition=n),t.PTSKnown&&r<e&&u&&u.readyState?null:(this.startFragRequested&&!t.PTSKnown&&(i&&((u=i.sn+1)>=t.startSN&&u<=t.endSN&&(t=o[u-t.startSN],i.cc===t.cc&&E.b.log("live playlist, switching playlist, load frag with next SN: "+(c=t).sn)),c||(c=F(o,function(t){return i.cc-t.cc}))&&E.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)),c||(c=o[Math.min(s-1,Math.round(s/2))],E.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))),c)},ft.prototype._findFragment=function(t,e,n,r,i,o,s){function a(t){var e=Math.min(h,t.duration+(t.deltaPTS||0));return t.start+t.duration-e<=i?1:t.start-e>i&&t.start?-1:0}var u=this.hls.config,c=void 0,l=void 0,h=u.maxFragLookUpTolerance,d=e?r[e.sn-r[0].sn+1]:void 0;return(l=i<o?(o-h<i&&(h=0),d&&!a(d)?d:F(r,a)):r[n-1])&&(d=(c=l).sn-s.startSN,n=e&&c.level===e.level,l=r[d-1],r=r[1+d],e&&c.sn===e.sn&&(n&&!c.backtracked?c.sn<s.endSN?(s=e.deltaPTS)&&s>u.maxBufferHole&&e.dropped&&d?(c=l,E.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):E.b.log("SN just loaded, load next one: "+(c=r).sn):c=null:c.backtracked&&(r&&r.backtracked?(E.b.warn("Already backtracked from fragment "+r.sn+", will not backtrack to fragment "+c.sn+". Loading fragment "+r.sn),c=r):(E.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),c.dropped=0,l?(l.loadCounter&&l.loadCounter--,(c=l).backtracked=!0):d&&(c=null))))),c},ft.prototype._loadFragmentOrKey=function(t,e,n,r,i){var o=this.hls,s=o.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(E.b.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;s=s.fragLoadingLoopThreshold;if(t.loadCounter>s&&Math.abs(this.fragLoadIdx-t.loadIdx)<s)return void o.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=o.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),o.trigger(_.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new z(o,"main")),void(this.state=st)}E.b.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=ot,o.trigger(_.a.KEY_LOADING,{frag:t})},ft.prototype.getBufferedFrag=function(e){return F(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})},ft.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},ft.prototype._checkFragmentChanged=function(){var t,e,n=this.media;n&&n.readyState&&!1===n.seeking&&((t=n.currentTime)>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),j.isBuffered(n,t)?e=this.getBufferedFrag(t):j.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)&&((t=e)!==this.fragPlaying&&(this.hls.trigger(_.a.FRAG_CHANGED,{frag:t}),e=t.level,this.fragPlaying&&this.fragPlaying.level===e||this.hls.trigger(_.a.LEVEL_SWITCHED,{level:e}),this.fragPlaying=t))},ft.prototype.immediateLevelSwitch=function(){var t;E.b.log("immediateLevelSwitch"),this.immediateSwitch||(this.immediateSwitch=!0,e=void 0,(t=this.media)?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e);var e=this.fragCurrent;e&&e.loader&&e.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},ft.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,j.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},ft.prototype.nextLevelSwitch=function(){var t,e,n,r,i=this.media;i&&i.readyState&&((t=r=void 0)!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),(e=this.getBufferedFrag(i.currentTime))&&1<e.startPTS&&this.flushMainBuffer(0,e.startPTS-1),r=i.paused?0:(n=this.hls.nextLoadLevel,e=this.levels[n],(n=this.fragLastKbps)&&this.fragCurrent?this.fragCurrent.duration*e.bitrate/(1e3*n)+1:0),(t=(t=this.getBufferedFrag(i.currentTime+r))&&this.followingBufferedFrag(t))&&((r=this.fragCurrent)&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(t.maxStartPTS,Number.POSITIVE_INFINITY)))},ft.prototype.flushMainBuffer=function(t,e){this.state=ht;e={startOffset:t,endOffset:e};this.altAudio&&(e.type="video"),this.hls.trigger(_.a.BUFFER_FLUSHING,e)},ft.prototype.onMediaAttached=function(t){t=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);t=this.config;this.levels&&t.autoStartLoad&&this.hls.startLoad(t.startPosition)},ft.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(E.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},ft.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,n=this.config;isNaN(e)||E.b.log("media seeking to "+e.toFixed(3));var r,i,o=this.mediaBuffer||t,s=j.bufferInfo(o,e,this.config.maxBufferHole);this.state===st?(r=this.fragCurrent,0===s.len&&r&&(i=n.maxFragLookUpTolerance,o=r.start-i,i=r.start+r.duration+i,e<o||i<e?(r.loader&&(E.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=it):E.b.log("seeking outside of buffer but within currently loaded fragment range"))):"ENDED"===this.state&&(0===s.len&&(this.fragPrevious=0),this.state=it),t&&(this.lastCurrentTime=e),this.state!==st&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},ft.prototype.onMediaSeeked=function(){var t=this.media,t=t?t.currentTime:void 0;isNaN(t)||E.b.log("media seeked to "+t.toFixed(3)),this.tick()},ft.prototype.onMediaEnded=function(){E.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},ft.prototype.onManifestLoading=function(){E.b.log("trigger BUFFER_RESET"),this.hls.trigger(_.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},ft.prototype.onManifestParsed=function(t){var e,n=!1,r=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&E.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;t=this.config;(t.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(t.startPosition)},ft.prototype.onLevelLoaded=function(t){var e=t.details,n=t.level,r=this.levels[this.levelLastLoaded],i=this.levels[n],o=e.totalduration,s=0;E.b.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live?(t=i.details)&&0<e.fragments.length?(J(t,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,t),e.PTSKnown&&!isNaN(s)?E.b.log("live playlist sliding:"+s.toFixed(3)):(E.b.log("live playlist - outdated PTS, unknown sliding"),tt(this.fragPrevious,r,e))):(E.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,tt(this.fragPrevious,r,e)):e.PTSKnown=!1,i.details=e,this.levelLastLoaded=n,this.hls.trigger(_.a.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested&&(-1!==this.startPosition&&-1!==this.lastCurrentTime||(n=e.startTimeOffset,isNaN(n)?e.live?(this.startPosition=this.computeLivePosition(s,e),E.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(n<0&&(E.b.log("negative start time offset "+n+", count from end of last fragment"),n=s+o+n),E.b.log("start time offset found in playlist, adjust startPosition to "+n),this.startPosition=n),this.lastCurrentTime=this.startPosition),this.nextLoadPosition=this.startPosition),this.state===ut&&(this.state=it),this.tick()},ft.prototype.onKeyLoaded=function(){this.state===ot&&(this.state=it,this.tick())},ft.prototype.onFragLoaded=function(t){var e,n,r,i,o,s=this.fragCurrent,a=t.frag;this.state===st&&s&&"main"===a.type&&a.level===s.level&&a.sn===s.sn&&(r=t.stats,o=(e=this.levels[s.level]).details,E.b.log("Loaded  "+s.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+s.level),this.bitrateTest=!1,this.stats=r,!0===a.bitrateTest&&this.hls.nextLoadLevel?(this.state=it,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(_.a.FRAG_BUFFERED,{stats:r,frag:s,id:"main"}),this.tick()):"initSegment"===a.sn?(this.state=it,r.tparsed=r.tbuffered=performance.now(),o.initSegment.data=t.payload,this.hls.trigger(_.a.FRAG_BUFFERED,{stats:r,frag:s,id:"main"}),this.tick()):(this.state=ct,n=o.totalduration,i=s.level,a=s.sn,r=this.config.defaultAudioCodec||e.audioCodec,this.audioCodecSwap&&(E.b.log("swapping playlist audio codec"),r=(r=void 0===r?this.lastAudioCodec:r)&&(-1!==r.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,E.b.log("Parsing "+a+" of ["+o.startSN+" ,"+o.endSN+"],level "+i+", cc "+s.cc),a=(a=this.demuxer)||(this.demuxer=new z(this.hls,"main")),i=!((i=this.media)&&i.seeking)&&(o.PTSKnown||!o.live),o=o.initSegment?o.initSegment.data:[],a.push(t.payload,o,r,e.videoCodec,s,n,i,void 0))),this.fragLoadError=0},ft.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ct){var r,i,o=t.tracks;for(r in o.audio&&this.altAudio&&delete o.audio,(i=o.audio)&&(n=this.levels[this.level].audioCodec,e=navigator.userAgent.toLowerCase(),n&&this.audioCodecSwap&&(E.b.log("swapping playlist audio codec"),n=-1!==n.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===e.indexOf("firefox")&&(n="mp4a.40.5"),-1!==e.indexOf("android")&&"audio/mpeg"!==i.container&&E.b.log("Android: force audio codec to "+(n="mp4a.40.2")),i.levelCodec=n,i.id=t.id),(i=o.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=t.id),this.hls.trigger(_.a.BUFFER_CODECS,o),o){i=o[r],E.b.log("main track:"+r+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var s=i.initSegment;s&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(_.a.BUFFER_APPENDING,{type:r,data:s,parent:"main",content:"initSegment"}))}this.tick()}},ft.prototype.onFragParsingData=function(e){var n=this,t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&("audio"!==e.type||!this.altAudio)&&this.state===ct){var i=this.levels[this.level],r=t;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+t.duration,e.endDTS=e.startDTS+t.duration),E.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(r.dropped=e.dropped,r.dropped)if(r.backtracked)E.b.warn("Already backtracked on this fragment, appending with the gap");else{t=i.details;if(!t||r.sn!==t.startSN)return E.b.warn("missing video frame(s), backtracking fragment"),r.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=it,this.fragPrevious=r,void this.tick();E.b.warn("missing video frame(s) on first frag, appending with gap")}else r.backtracked=!1;var r=Q(i.details,r,e.startPTS,e.endPTS,e.startDTS,e.endDTS),o=this.hls;o.trigger(_.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:r,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(t){t&&t.length&&n.state===ct&&(n.appended=!0,n.pendingBuffering=!0,o.trigger(_.a.BUFFER_APPENDING,{type:e.type,data:t,parent:"main",content:"data"}))}),this.tick()}},ft.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ct&&(this.stats.tparsed=performance.now(),this.state=lt,this._checkAppendedParsed())},ft.prototype.onAudioTrackSwitching=function(t){var e,n=!!t.url,t=t.id;n||(this.mediaBuffer!==this.media&&(E.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media,(e=this.fragCurrent).loader&&(E.b.log("switching to main audio track, cancel main fragment load"),e.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=it),(e=this.hls).trigger(_.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),e.trigger(_.a.AUDIO_TRACK_SWITCHED,{id:t}),this.altAudio=!1)},ft.prototype.onAudioTrackSwitched=function(t){var e=t.id,t=!!this.hls.audioTracks[e].url;!t||(e=this.videoBuffer)&&this.mediaBuffer!==e&&(E.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=e),this.altAudio=t,this.tick()},ft.prototype.onBufferCreated=function(t){var e,n=t.tracks,r=void 0,i=void 0,o=!1;for(e in n){var s=n[e];"main"===s.id?(r=s,"video"===(i=e)&&(this.videoBuffer=n[e].buffer)):o=!0}o&&r?(E.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},ft.prototype.onBufferAppended=function(t){var e;"main"===t.parent&&((e=this.state)!==ct&&e!==lt||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed()))},ft.prototype._checkAppendedParsed=function(){var t,e,n;this.state!==lt||this.appended&&this.pendingBuffering||((t=this.fragCurrent)&&(e=this.mediaBuffer||this.media,E.b.log("main buffered : "+$(e.buffered)),(n=this._bufferedFrags.filter(function(t){return j.isBuffered(e,(t.startPTS+t.endPTS)/2)})).push(t),this._bufferedFrags=n.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t,(n=this.stats).tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(_.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=it),this.tick())},ft.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n,r=!!this.media&&j.isBuffered(this.media,this.media.currentTime)&&j.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case S.a.FRAG_LOAD_ERROR:case S.a.FRAG_LOAD_TIMEOUT:case S.a.KEY_LOAD_ERROR:case S.a.KEY_LOAD_TIMEOUT:t.fatal||(this.fragLoadError+1<=this.config.fragLoadingMaxRetry?(n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout),e.loadCounter=0,E.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=at):(E.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=dt));break;case S.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(r?(this._reduceMaxBufferLength(e.duration),this.state=it):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=dt));break;case S.a.LEVEL_LOAD_ERROR:case S.a.LEVEL_LOAD_TIMEOUT:this.state!==dt&&(t.fatal?(this.state=dt,E.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ut||(this.state=it));break;case S.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==ct&&this.state!==lt||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=it):(E.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},ft.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,E.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},ft.prototype._checkBuffer=function(){var t,e,n,r,i,o,s,a,u=this.media,c=this.config;u&&u.readyState&&(t=u.currentTime,e=(i=this.mediaBuffer||u).buffered,!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,a=u.seeking?t:this.startPosition,n=j.isBuffered(i,a),s=e.start(0),r=!n&&Math.abs(a-s)<c.maxSeekHole,t===a&&!r||(E.b.log("target start position:"+a),r&&E.b.log("target start position not buffered, seek to buffered.start(0) "+(a=s)),E.b.log("adjust currentTime from "+t+" to "+a),u.currentTime=a)):this.immediateSwitch?this.immediateLevelSwitchEnd():(o=j.bufferInfo(u,t,0),i=!(u.paused||u.ended||0===u.buffered.length),t!==this.lastCurrentTime?(this.stallReported&&(E.b.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0):i&&(e=performance.now(),n=this.hls,this.stalled?(r=e-this.stalled,s=o.len,a=this.nudgeRetry||0,s<=.5&&r>1e3*c.lowBufferWatchdogPeriod?(this.stallReported||(this.stallReported=!0,E.b.warn("playback stalling in low buffer @"+t),n.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:s})),o=(i=o.nextStart)-t,i&&o<c.maxSeekHole&&0<o&&(this.nudgeRetry=++a,o=a*c.nudgeOffset,E.b.log("adjust currentTime from "+u.currentTime+" to next buffered @ "+i+" + nudge "+o),u.currentTime=i+o,this.stalled=void 0,n.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:i+o-t}))):.5<s&&r>1e3*c.highBufferWatchdogPeriod&&(this.stallReported||(this.stallReported=!0,E.b.warn("playback stalling in high buffer @"+t),n.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:s})),this.stalled=void 0,this.nudgeRetry=++a,a<c.nudgeMaxRetry?(a=(s=u.currentTime)+a*c.nudgeOffset,E.b.log("adjust currentTime from "+s+" to "+a),u.currentTime=a,n.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_NUDGE_ON_STALL,fatal:!1})):(E.b.error("still stuck in high buffer @"+t+" after "+c.nudgeMaxRetry+", raise fatal error"),n.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_STALLED_ERROR,fatal:!0})))):(this.stalled=e,this.stallReported=!1))))},ft.prototype.onFragLoadEmergencyAborted=function(){this.state=it,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},ft.prototype.onBufferFlushed=function(){var e=this.mediaBuffer||this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return j.isBuffered(e,(t.startPTS+t.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=it,this.fragPrevious=null},ft.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},ft.prototype.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},gt=ft,(vt=[{key:"state",set:function(t){var e;this.state!==t&&(e=this.state,this._state=t,E.b.log("main stream:"+e+"->"+t),this.hls.trigger(_.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t}))},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){t=this.getBufferedFrag(t.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}])&&et(gt.prototype,vt),mt&&et(gt,mt),ft);function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t){!function(t){if(!(t instanceof Tt))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,pt.call(this,t,_.a.MANIFEST_LOADED,_.a.LEVEL_LOADED,_.a.FRAG_LOADED,_.a.ERROR));return t.canload=!1,t.currentLevelIndex=null,t.manualLevelIndex=-1,t.timer=null,t}var _t,St,Et,wt,At=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Tt,pt=u),Tt.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},Tt.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},Tt.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},Tt.prototype.stopLoad=function(){this.canload=!1},Tt.prototype.onManifestLoaded=function(t){var e,n=[],r={},i=null,o=!1,s=!1,a=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),u=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===a&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(i=r[t.bitrate])?(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,n.push(t)):i.url.push(t.url)}),n=(n=!0===o&&!0===s?n.filter(function(t){return!!t.videoCodec}):n).filter(function(t){var e=t.audioCodec,t=t.videoCodec;return(!e||f(e))&&(!t||f(t))}),t.audioTracks&&(u=t.audioTracks.filter(function(t){return!t.audioCodec||f(t.audioCodec,"audio")})),0<n.length){e=n[0].bitrate,n.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=n;for(var c=0;c<n.length;c++)if(n[c].bitrate===e){this._firstLevel=c,E.b.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(_.a.MANIFEST_PARSED,{levels:n,audioTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:o,altAudio:0<u.length})}else this.hls.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Tt.prototype.setLevelInternal=function(t){var e,n=this._levels,r=this.hls;0<=t&&t<n.length?(this.cleanTimer(),this.currentLevelIndex!==t&&(E.b.log("switching to level "+t),(e=n[this.currentLevelIndex=t]).level=t,r.trigger(_.a.LEVEL_SWITCH,e),r.trigger(_.a.LEVEL_SWITCHING,e)),(n=(e=n[t]).details)&&!0!==n.live||(n=e.urlId,r.trigger(_.a.LEVEL_LOADING,{url:e.url[n],level:t,id:n}))):r.trigger(_.a.ERROR,{type:S.b.OTHER_ERROR,details:S.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},Tt.prototype.onError=function(t){if(!0!==t.fatal){var e=!1,n=!1,r=void 0;switch(t.details){case S.a.FRAG_LOAD_ERROR:case S.a.FRAG_LOAD_TIMEOUT:case S.a.FRAG_LOOP_LOADING_ERROR:case S.a.KEY_LOAD_ERROR:case S.a.KEY_LOAD_TIMEOUT:r=t.frag.level,n=!0;break;case S.a.LEVEL_LOAD_ERROR:case S.a.LEVEL_LOAD_TIMEOUT:r=t.context.level,e=!0;break;case S.a.REMUX_ALLOC_ERROR:r=t.level,e=!0}void 0!==r&&this.recoverLevel(t,r,e,n)}else t.type===S.b.NETWORK_ERROR&&this.cleanTimer()},Tt.prototype.recoverLevel=function(t,e,n,r){var i,o,s,a=this,u=this.hls.config,c=t.details,l=this._levels[e];if(l.loadError++,l.fragmentError=r,!0===n){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return E.b.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return a.loadLevel()},o),t.levelRetry=!0,this.levelRetryCount++,E.b.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==r||(1<(i=l.url.length)&&l.loadError<i?(E.b.warn("level controller, "+c+" for level "+e+": switching to redundant stream id "+l.urlId),l.urlId=(l.urlId+1)%i,l.details=void 0):-1===this.manualLevelIndex?(s=0===e?this._levels.length-1:e-1,E.b.warn("level controller, "+c+": switch to "+s),this.hls.nextAutoLevel=this.currentLevelIndex=s):!0===r&&(E.b.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},Tt.prototype.onFragLoaded=function(t){t=t.frag;void 0===t||"main"!==t.type||void 0!==(t=this._levels[t.level])&&(t.fragmentError=!1,t.loadError=0,this.levelRetryCount=0)},Tt.prototype.onLevelLoaded=function(t){var e,n,r=this,i=t.level;i===this.currentLevelIndex&&(!1===(n=this._levels[i]).fragmentError&&(n.loadError=0,this.levelRetryCount=0),(e=t.details).live?(i=1e3*(e.averagetargetduration||e.targetduration),(n=n.details)&&e.endSN===n.endSN&&(i/=2,E.b.log("same live playlist, reload twice faster")),i-=performance.now()-t.stats.trequest,i=Math.max(1e3,Math.round(i)),E.b.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(function(){return r.loadLevel()},i)):this.cleanTimer())},Tt.prototype.loadLevel=function(){var t,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(e=this._levels[this.currentLevelIndex])&&0<e.url.length&&(t=e.urlId,this.hls.trigger(_.a.LEVEL_LOADING,{url:e.url[t],level:this.currentLevelIndex,id:t}))},St=Tt,(Et=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0!==this._startLevel)return this._startLevel;var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&bt(St.prototype,Et),wt&&bt(St,wt),Tt),xt=n(3);function Pt(t){!function(t){if(!(t instanceof Pt))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,_t.call(this,t,_.a.MEDIA_ATTACHED,_.a.MEDIA_DETACHING,_.a.FRAG_PARSING_METADATA));return t.id3Track=void 0,t.media=void 0,t}var Ct=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Pt,_t=u),Pt.prototype.destroy=function(){u.prototype.destroy.call(this)},Pt.prototype.onMediaAttached=function(t){this.media=t.media,this.media},Pt.prototype.onMediaDetaching=function(){this.media=void 0},Pt.prototype.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<n.length;i++){var o=xt.a.getID3Frames(n[i].data);if(o){var s=n[i].pts,a=i<n.length-1?n[i+1].pts:e.endPTS;s===a&&(a+=1e-4);for(var u=0;u<o.length;u++){var c,l=o[u];xt.a.isTimeStampFrame(l)||((c=new r(s,a,"")).value=l,this.id3Track.addCue(c))}}}},Pt);function kt(t){!function(t){if(!(t instanceof kt))throw new TypeError("Cannot call a class as a function")}(this),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var Lt=(kt.prototype.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},kt.prototype.getTotalWeight=function(){return this.totalWeight_},kt.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},kt);function Rt(t,e,n,r){!function(t){if(!(t instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this),this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Lt(e),this.fast_=new Lt(n)}var It,Dt=(Rt.prototype.sample=function(t,e){e=8e3*e/(t=Math.max(t,this.minDelayMs_)),t/=1e3;this.fast_.sample(t,e),this.slow_.sample(t,e)},Rt.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},Rt.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},Rt.prototype.destroy=function(){},Rt);function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mt(t){!function(t){if(!(t instanceof Mt))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,It.call(this,t,_.a.FRAG_LOADING,_.a.FRAG_LOADED,_.a.FRAG_BUFFERED,_.a.ERROR));return e.lastLoadedFragLevel=0,e._nextAutoLevel=-1,e.hls=t,e.timer=null,e._bwEstimator=null,e.onCheck=e._abandonRulesCheck.bind(e),e}var Nt,Bt,Ft,jt,Gt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Mt,It=u),Mt.prototype.destroy=function(){this.clearTimer(),u.prototype.destroy.call(this)},Mt.prototype.onFragLoading=function(t){var e,n,r,i,o=t.frag;"main"===o.type&&(this.timer||(this.timer=setInterval(this.onCheck,100)),this._bwEstimator||(e=this.hls,i=t.frag.level,n=e.levels[i].details.live,r=e.config,i=t=void 0,i=n?(t=r.abrEwmaFastLive,r.abrEwmaSlowLive):(t=r.abrEwmaFastVoD,r.abrEwmaSlowVoD),this._bwEstimator=new Dt(e,i,t,r.abrEwmaDefaultEstimate)),this.fragCurrent=o)},Mt.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent,r=n.loader,i=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return E.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=r.stats;if(e&&o&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var s=performance.now()-o.trequest,a=Math.abs(e.playbackRate);if(s>500*n.duration/a){var u=t.levels,c=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/s),l=u[n.level],h=l.realBitrate?Math.max(l.realBitrate,l.bitrate):l.bitrate,l=o.total||Math.max(o.loaded,Math.round(n.duration*h/8)),h=e.currentTime,l=(l-o.loaded)/c,d=(j.bufferInfo(e,h,t.config.maxBufferHole).end-h)/a;if(d<2*n.duration/a&&d<l){for(var f=void 0,p=void 0,p=n.level-1;i<p;p--){var g=u[p].realBitrate?Math.max(u[p].realBitrate,u[p].bitrate):u[p].bitrate;if((f=n.duration*g/(6.4*c))<d)break}f<l&&(E.b.warn("loading too slow, abort fragment loading and switch to level "+p+":fragLoadedDelay["+p+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+f.toFixed(1)+"<"+l.toFixed(1)+":"+d.toFixed(1)),t.nextLoadLevel=p,this._bwEstimator.sample(s,o.loaded),r.abort(),this.clearTimer(),t.trigger(_.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:o}))}}}},Mt.prototype.onFragLoaded=function(t){var e,n,r=t.frag;"main"!==r.type||isNaN(r.sn)||(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate&&(r=((e=this.hls.levels[r.level]).loaded?e.loaded.bytes:0)+t.stats.loaded,n=(e.loaded?e.loaded.duration:0)+t.frag.duration,e.loaded={bytes:r,duration:n},e.realBitrate=Math.round(8*r/n)),t.frag.bitrateTest&&((n=t.stats).tparsed=n.tbuffered=n.tload,this.onFragBuffered(t)))},Mt.prototype.onFragBuffered=function(t){var e=t.stats,n=t.frag;!0===e.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&e.tload!==e.tbuffered||(t=e.tparsed-e.trequest,E.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(t,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=t/1e3:this.bitrateTestDelay=0)},Mt.prototype.onError=function(t){switch(t.details){case S.a.FRAG_LOAD_ERROR:case S.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},Mt.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Mt.prototype._findBestLevel=function(t,e,n,r,i,o,s,a,u){for(var c=i;r<=c;c--){var l=u[c].details,h=l?l.totalduration/l.fragments.length:e,d=!!l&&l.live,f=c<=t?s*n:a*n,p=u[c].realBitrate?Math.max(u[c].realBitrate,u[c].bitrate):u[c].bitrate,l=p*h/f;if(E.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(f)+"/"+p+"/"+h+"/"+o+"/"+l),p<f&&(!l||d&&!this.bitrateTestDelay||l<o))return c}return-1},Nt=Mt,(Bt=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;e=this._nextABRAutoLevel;return e=-1!==t?Math.min(t,e):e},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,r=t.config,i=t.minAutoLevel,o=t.media,s=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,l=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,h=(j.bufferInfo(o,u,r.maxBufferHole).end-u)/c,d=this._findBestLevel(s,a,l,i,e,h,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(0<=d)return d;E.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");t=a?Math.min(a,r.maxStarvationDelay):r.maxStarvationDelay,o=r.abrBandWidthFactor,u=r.abrBandWidthUpFactor;return 0!=h||(c=this.bitrateTestDelay)&&(t=(a?Math.min(a,r.maxLoadingDelay):r.maxLoadingDelay)-c,E.b.trace("bitrate test took "+Math.round(1e3*c)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*t)+" ms"),o=u=1),d=this._findBestLevel(s,a,l,i,e,h+t,o,u,n),Math.max(d,0)}}])&&Ot(Nt.prototype,Bt),Ft&&Ot(Nt,Ft),Mt),Ut=q();function Ht(t){!function(t){if(!(t instanceof Ht))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,jt.call(this,t,_.a.MEDIA_ATTACHING,_.a.MEDIA_DETACHING,_.a.MANIFEST_PARSED,_.a.BUFFER_RESET,_.a.BUFFER_APPENDING,_.a.BUFFER_CODECS,_.a.BUFFER_EOS,_.a.BUFFER_FLUSHING,_.a.LEVEL_PTS_UPDATED,_.a.LEVEL_UPDATED));return t._msDuration=null,t._levelDuration=null,t._live=null,t._objectUrl=null,t.onsbue=t.onSBUpdateEnd.bind(t),t.onsbe=t.onSBUpdateError.bind(t),t.pendingTracks={},t.tracks={},t}var Vt,Wt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Ht,jt=u),Ht.prototype.destroy=function(){u.prototype.destroy.call(this)},Ht.prototype.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){e=this.sourceBuffer.audio;if(.1<Math.abs(e.timestampOffset-t.start)){n=e.updating;try{e.abort()}catch(t){n=!0,E.b.warn("can not abort audio buffer: "+t)}n?this.audioTimestampOffset=t.start:(E.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+t.start),e.timestampOffset=t.start)}}},Ht.prototype.onManifestParsed=function(t){var e=t.audio,n=t.video||t.levels.length&&t.audio,r=0;t.altAudio&&(e||n)&&E.b.log((r=(e?1:0)+(n?1:0))+" sourceBuffer(s) expected"),this.sourceBufferNb=r},Ht.prototype.onMediaAttaching=function(t){var e=this.media=t.media;e&&(t=this.mediaSource=new Ut,this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),t.addEventListener("sourceopen",this.onmso),t.addEventListener("sourceended",this.onmse),t.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(t),this._objectUrl=e.src)},Ht.prototype.onMediaDetaching=function(){E.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){E.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):E.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(_.a.MEDIA_DETACHED)},Ht.prototype.onMediaSourceOpen=function(){E.b.log("media source opened"),this.hls.trigger(_.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},Ht.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},Ht.prototype.onMediaSourceClose=function(){E.b.log("media source closed")},Ht.prototype.onMediaSourceEnded=function(){E.b.log("media source ended")},Ht.prototype.onSBUpdateEnd=function(){this.audioTimestampOffset&&(t=this.sourceBuffer.audio,E.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset),this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var n=this.parent,t=this.segments.reduce(function(t,e){return e.parent===n?t+1:t},0);this.hls.trigger(_.a.BUFFER_APPENDED,{parent:n,pending:t}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},Ht.prototype.onSBUpdateError=function(t){E.b.error("sourceBuffer error:",t),this.hls.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_APPENDING_ERROR,fatal:!1})},Ht.prototype.onBufferReset=function(){var t,e=this.sourceBuffer;for(t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},Ht.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},Ht.prototype.createSourceBuffers=function(t){var e,n=this.sourceBuffer,r=this.mediaSource;for(e in t)if(!n[e]){var i=t[e],o=i.levelCodec||i.codec,s=i.container+";codecs="+o;E.b.log("creating sourceBuffer("+s+")");try{var a=n[e]=r.addSourceBuffer(s);a.addEventListener("updateend",this.onsbue),a.addEventListener("error",this.onsbe),this.tracks[e]={codec:o,container:i.container},i.buffer=a}catch(t){E.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:s})}}this.hls.trigger(_.a.BUFFER_CREATED,{tracks:t})},Ht.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},Ht.prototype.onBufferAppendFail=function(t){E.b.error("sourceBuffer error:",t.event),this.hls.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.BUFFER_APPENDING_ERROR,fatal:!1})},Ht.prototype.onBufferEos=function(t){var e,n=this.sourceBuffer,r=t.type;for(e in n)r&&e!==r||n[e].ended||(n[e].ended=!0,E.b.log(e+" sourceBuffer now EOS"));this.checkEos()},Ht.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){n=t[n];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}E.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){E.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},Ht.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},Ht.prototype.onLevelUpdated=function(t){t=t.details;0<t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},Ht.prototype.updateMediaElementDuration=function(){var t,e=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(E.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(E.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},Ht.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(t){E.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(_.a.BUFFER_FLUSHED)}},Ht.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,n=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void E.b.error("trying to append although a media error occured, flush segment and abort");if(!this.appending&&(n&&n.length)){var r=n.shift();try{var i=e[r.type];i?i.updating?n.unshift(r):(i.ended=!1,this.parent=r.parent,i.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){E.b.error("error while trying to append buffer:"+e.message),n.unshift(r);r={type:S.b.MEDIA_ERROR,parent:r.parent};if(22===e.code)return this.segments=[],r.details=S.a.BUFFER_FULL_ERROR,r.fatal=!1,void t.trigger(_.a.ERROR,r);if(this.appendError?this.appendError++:this.appendError=1,r.details=S.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return E.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],r.fatal=!0,void t.trigger(_.a.ERROR,r);r.fatal=!1,t.trigger(_.a.ERROR,r)}}}},Ht.prototype.flushBuffer=function(t,e,n){var r,i,o,s,a,u,c=this.sourceBuffer;if(Object.keys(c).length){if(E.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var l in c)if(!n||l===n){if((r=c[l]).ended=!1,r.updating)return E.b.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(o=r.buffered.start(i),s=r.buffered.end(i),u=-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(a=t,e):(a=Math.max(o,t),Math.min(s,e)),.5<Math.min(u,s)-a)return this.flushBufferCounter++,E.b.log("flush "+l+" ["+a+","+u+"], of ["+o+","+s+"], pos:"+this.media.currentTime),r.remove(a,u),!1}catch(t){E.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else E.b.warn("abort flushing too many retries");E.b.log("buffer flushed")}return!0},Ht);function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t){return function(t){if(!(t instanceof Kt))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Vt.call(this,t,_.a.FPS_DROP_LEVEL_CAPPING,_.a.MEDIA_ATTACHING,_.a.MANIFEST_PARSED))}var Xt,zt,Yt,Qt,Jt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(Kt,Vt=u),Kt.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},Kt.prototype.onFpsDropLevelCapping=function(t){Kt.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},Kt.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},Kt.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},Kt.prototype.detectPlayerSize=function(){var t,e;!this.media||(t=this.levels?this.levels.length:0)&&((e=this.hls).autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping)},Kt.prototype.getMaxLevel=function(n){var r=this;if(!this.levels)return-1;var t=this.levels.filter(function(t,e){return Kt.isLevelAllowed(e,r.restrictedLevels)&&e<=n});return Kt.getMaxLevelByMediaSize(t,this.mediaWidth,this.mediaHeight)},Kt.isLevelAllowed=function(t,e){return-1===(1<arguments.length&&void 0!==e?e:[]).indexOf(t)},Kt.getMaxLevelByMediaSize=function(t,e,n){if(!t||!t.length)return-1;for(var r,i=t.length-1,o=0;o<t.length;o+=1){var s=t[o];if((s.width>=e||s.height>=n)&&(!(r=t[o+1])||s.width!==r.width||s.height!==r.height)){i=o;break}}return i},zt=Kt,Qt=[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}],(Yt=[{key:"mediaWidth",get:function(){var t=void 0,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=Kt.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=Kt.contentScaleFactor),t}}])&&qt(zt.prototype,Yt),Qt&&qt(zt,Qt),Kt);function $t(t){return function(t){if(!(t instanceof $t))throw new TypeError("Cannot call a class as a function")}(this),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Xt.call(this,t,_.a.MEDIA_ATTACHING))}var Zt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}($t,Xt=u),$t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},$t.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},$t.prototype.checkFPS=function(t,e,n){var r,i,o,s,a=performance.now();e&&(this.lastTime&&(o=a-this.lastTime,r=n-this.lastDroppedFrames,s=e-this.lastDecodedFrames,i=1e3*r/o,(o=this.hls).trigger(_.a.FPS_DROP,{currentDropped:r,currentDecoded:s,totalDroppedFrames:n}),0<i&&r>o.config.fpsDroppedMonitoringThreshold*s&&(s=o.currentLevel,E.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+s),0<s&&(-1===o.autoLevelCapping||o.autoLevelCapping>=s)&&(o.trigger(_.a.FPS_DROP_LEVEL_CAPPING,{level:--s,droppedLevel:o.currentLevel}),o.autoLevelCapping=s,o.streamController.nextLevelSwitch()))),this.lastTime=a,this.lastDroppedFrames=n,this.lastDecodedFrames=e)},$t.prototype.checkFPSInterval=function(){var t,e=this.video;e&&(this.isVideoPlaybackQualityAvailable?(t=e.getVideoPlaybackQuality(),this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)):this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount))},$t);function te(t){!function(t){if(!(t instanceof te))throw new TypeError("Cannot call a class as a function")}(this),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var ee,ne=(te.prototype.destroy=function(){this.abort(),this.loader=null},te.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},te.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},te.prototype.loadInternal=function(){var t=this.context,e=this.loader=new XMLHttpRequest,n=this.stats;n.tfirst=0,n.loaded=0;var r=this.xhrSetup;try{if(r)try{r(e,t.url)}catch(n){e.open("GET",t.url,!0),r(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},te.prototype.readystatechange=function(t){var e,n=t.currentTarget,r=n.readyState,i=this.stats,o=this.context,s=this.config;!i.aborted&&2<=r&&(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===r?200<=(e=n.status)&&e<300?(i.tload=Math.max(i.tfirst,performance.now()),r=t=void 0,r="arraybuffer"===o.responseType?(t=n.response).byteLength:(t=n.responseText).length,i.loaded=i.total=r,t={url:n.responseURL,data:t},this.callbacks.onSuccess(t,i,o,n)):i.retry>=s.maxRetry||400<=e&&e<499?(E.b.error(e+" while loading "+o.url),this.callbacks.onError({code:e,text:n.statusText},o,n)):(E.b.warn(e+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),i.retry++):this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout))},te.prototype.loadtimeout=function(){E.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},te.prototype.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);t=this.callbacks.onProgress;t&&t(n,this.context,null,e)},te);function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t){!function(t){if(!(t instanceof ie))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,ee.call(this,t,_.a.MANIFEST_LOADING,_.a.MANIFEST_PARSED,_.a.AUDIO_TRACK_LOADED,_.a.ERROR));return t.ticks=0,t.ontick=t.tick.bind(t),t}var oe,se,ae,i=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(ie,ee=u),ie.prototype.destroy=function(){this.cleanTimer(),u.prototype.destroy.call(this)},ie.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},ie.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},ie.prototype.doTick=function(){this.updateTrack(this.trackId)},ie.prototype.onError=function(t){t.fatal&&t.type===S.b.NETWORK_ERROR&&this.cleanTimer()},ie.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},ie.prototype.onManifestParsed=function(t){var e=this,t=t.audioTracks||[],n=!1;this.tracks=t,this.hls.trigger(_.a.AUDIO_TRACKS_UPDATED,{audioTracks:t});var r=0;t.forEach(function(t){return t.default&&!n?(e.audioTrack=r,void(n=!0)):void r++}),!1===n&&t.length&&(E.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},ie.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(E.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},ie.prototype.setAudioTrackInternal=function(t){var e,n,r,i;0<=t&&t<this.tracks.length&&(this.cleanTimer(),this.trackId=t,E.b.log("switching to audioTrack "+t),i=this.tracks[t],e=this.hls,r=i.type,n=i.url,e.trigger(_.a.AUDIO_TRACK_SWITCH,r={id:t,type:r,url:n}),e.trigger(_.a.AUDIO_TRACK_SWITCHING,r),i=i.details,!n||void 0!==i&&!0!==i.live||(E.b.log("(re)loading playlist for audioTrack "+t),e.trigger(_.a.AUDIO_TRACK_LOADING,{url:n,id:t})))},ie.prototype.updateTrack=function(t){var e,n;0<=t&&t<this.tracks.length&&(this.cleanTimer(),this.trackId=t,E.b.log("updating audioTrack "+t),e=(n=this.tracks[t]).url,n=n.details,!e||void 0!==n&&!0!==n.live||(E.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(_.a.AUDIO_TRACK_LOADING,{url:e,id:t})))},oe=ie,(se=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}])&&re(oe.prototype,se),ae&&re(oe,ae),ie);function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ce,le="STOPPED",he="IDLE",de="KEY_LOADING",fe="FRAG_LOADING",pe="FRAG_LOADING_WAITING_RETRY",ge="WAITING_TRACK",ve="PARSING",me="PARSED",ye="BUFFER_FLUSHING",be="ERROR",Te="WAITING_INIT_PTS";function _e(t){!function(t){if(!(t instanceof _e))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,ce.call(this,t,_.a.MEDIA_ATTACHED,_.a.MEDIA_DETACHING,_.a.AUDIO_TRACKS_UPDATED,_.a.AUDIO_TRACK_SWITCHING,_.a.AUDIO_TRACK_LOADED,_.a.KEY_LOADED,_.a.FRAG_LOADED,_.a.FRAG_PARSING_INIT_SEGMENT,_.a.FRAG_PARSING_DATA,_.a.FRAG_PARSED,_.a.ERROR,_.a.BUFFER_RESET,_.a.BUFFER_CREATED,_.a.BUFFER_APPENDED,_.a.BUFFER_FLUSHED,_.a.INIT_PTS_FOUND));return e.config=t.config,e.audioCodecSwap=!1,e.ticks=0,e._state=le,e.ontick=e.tick.bind(e),e.initPTS=[],e.waitingFragment=null,e.videoTrackCC=null,e}function Se(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}}var Ee,we,Ae,p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(_e,ce=u),_e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),u.prototype.destroy.call(this),this.state=le},_e.prototype.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,t=t.initPTS;"main"===e&&(this.initPTS[n]=t,this.videoTrackCC=n,E.b.log("InitPTS for cc:"+n+" found from video track:"+t),this.state===Te&&this.tick())},_e.prototype.startLoad=function(t){var e;this.tracks?(e=this.lastCurrentTime,this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),(this.fragLoadError=0)<e&&-1===t?(E.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=he):(this.lastCurrentTime=this.startPosition||t,this.state="STARTING"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()):(this.startPosition=t,this.state=le)},_e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=le},_e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(this.tick,1),this.ticks=0)},_e.prototype.doTick=function(){var t,e,n,r=this.hls,i=r.config;switch(this.state){case be:case"PAUSED":case ye:break;case"STARTING":this.state=ge,this.loadedmetadata=!1;break;case he:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;if(this.loadedmetadata)y=this.media.currentTime;else if(void 0===(y=this.nextLoadPosition))break;var s=this.mediaBuffer||this.media,a=this.videoBuffer||this.media,u=j.bufferInfo(s,y,i.maxBufferHole),c=j.bufferInfo(a,y,i.maxBufferHole),l=u.len,h=u.end,d=this.fragPrevious,f=Math.max(i.maxBufferLength,c.len),p=this.audioSwitch,a=this.trackId;if((l<f||p)&&a<o.length){if(void 0===(e=o[a].details)){this.state=ge;break}if(!p&&!e.live&&d&&d.sn===e.endSN&&!u.nextStart&&(!this.media.seeking||this.media.duration-h<d.duration/2)){this.hls.trigger(_.a.BUFFER_EOS,{type:"audio"}),this.state="ENDED";break}var c=e.fragments,l=c.length,f=c[0].start,o=c[l-1].start+c[l-1].duration,g=void 0;if(p)if(e.live&&!e.PTSKnown)E.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),h=0;else if(h=y,e.PTSKnown&&y<f){if(!(u.end>f||u.nextStart))return;E.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=f+.05}if(e.initSegment&&!e.initSegment.data)g=e.initSegment;else if(h<=f){if(g=c[0],null!==this.videoTrackCC&&g.cc!==this.videoTrackCC&&(n=this.videoTrackCC,g=F(c,function(t){return t.cc<n?1:t.cc>n?-1:0})),e.live&&g.loadIdx&&g.loadIdx===this.fragLoadIdx){var v=u.nextStart||f;return E.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(v+.05)),void(this.media.currentTime=v+.05)}}else{var m=i.maxFragLookUpTolerance,u=d?c[d.sn-c[0].sn+1]:void 0,v=function(t){var e=Math.min(m,t.duration);return t.start+t.duration-e<=h?1:t.start-e>h&&t.start?-1:0};(p=h<o?(o-m<h&&(m=0),u&&!v(u)?u:F(c,v)):c[l-1])&&(f=(g=p).start,d&&g.level===d.level&&g.sn===d.sn&&(g.sn<e.endSN?(g=c[g.sn+1-e.startSN],E.b.log("SN just loaded, load next one: "+g.sn)):g=null))}if(g)if(g.decryptdata&&null!=g.decryptdata.uri&&null==g.decryptdata.key)E.b.log("Loading key for "+g.sn+" of ["+e.startSN+" ,"+e.endSN+"],track "+a),this.state=de,r.trigger(_.a.KEY_LOADING,{frag:g});else{if(E.b.log("Loading "+g.sn+", cc: "+g.cc+" of ["+e.startSN+" ,"+e.endSN+"],track "+a+", currentTime:"+y+",bufferEnd:"+h.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,g.loadCounter){g.loadCounter++;var y=i.fragLoadingLoopThreshold;if(g.loadCounter>y&&Math.abs(this.fragLoadIdx-g.loadIdx)<y)return void r.trigger(_.a.ERROR,{type:S.b.MEDIA_ERROR,details:S.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:g})}else g.loadCounter=1;g.loadIdx=this.fragLoadIdx,this.fragCurrent=g,this.startFragRequested=!0,isNaN(g.sn)||(this.nextLoadPosition=g.start+g.duration),r.trigger(_.a.FRAG_LOADING,{frag:g}),this.state=fe}}break;case ge:(t=this.tracks[this.trackId])&&t.details&&(this.state=he);break;case pe:var b=performance.now(),g=this.retryDate,T=(s=this.media)&&s.seeking;(!g||g<=b||T)&&(E.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=he);break;case Te:b=this.videoTrackCC;if(void 0===this.initPTS[b])break;T=this.waitingFragment;T?b!==(T=T.frag.cc)?(t=this.tracks[this.trackId]).details&&t.details.live&&(E.b.warn("Waiting fragment CC ("+T+") does not match video track CC ("+b+")"),this.waitingFragment=null,this.state=he):(this.state=fe,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null):this.state=he}},_e.prototype.onMediaAttached=function(t){t=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);t=this.config;this.tracks&&t.autoStartLoad&&this.startLoad(t.startPosition)},_e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(E.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},_e.prototype.onMediaSeeking=function(){"ENDED"===this.state&&(this.state=he),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},_e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},_e.prototype.onAudioTracksUpdated=function(t){E.b.log("audio tracks updated"),this.tracks=t.audioTracks},_e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state="PAUSED",this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=he,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},_e.prototype.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,r=this.tracks[n],i=e.totalduration,t=0;E.b.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+i),e.live?(i=r.details)&&0<e.fragments.length?(J(i,e),t=e.fragments[0].start,e.PTSKnown?E.b.log("live audio playlist sliding:"+t.toFixed(3)):E.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,E.b.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,r.details=e,this.startFragRequested||(-1===this.startPosition&&(e=e.startTimeOffset,isNaN(e)?this.startPosition=0:(E.b.log("start time offset found in playlist, adjust startPosition to "+e),this.startPosition=e)),this.nextLoadPosition=this.startPosition),this.state===ge&&(this.state=he),this.tick()},_e.prototype.onKeyLoaded=function(){this.state===de&&(this.state=he,this.tick())},_e.prototype.onFragLoaded=function(t){var e,n,r,i,o,s,a,u=this.fragCurrent,c=t.frag;this.state===fe&&u&&"audio"===c.type&&c.level===u.level&&c.sn===u.sn&&(n=(e=(a=this.tracks[this.trackId]).details).totalduration,r=u.level,i=u.sn,o=u.cc,s=this.config.defaultAudioCodec||a.audioCodec||"mp4a.40.2",c=this.stats=t.stats,"initSegment"===i?(this.state=he,c.tparsed=c.tbuffered=performance.now(),e.initSegment.data=t.payload,this.hls.trigger(_.a.FRAG_BUFFERED,{stats:c,frag:u,id:"audio"}),this.tick()):(this.state=ve,this.appended=!1,this.demuxer||(this.demuxer=new z(this.hls,"audio")),a=this.initPTS[o],c=e.initSegment?e.initSegment.data:[],e.initSegment||void 0!==a?(this.pendingBuffering=!0,E.b.log("Demuxing "+i+" of ["+e.startSN+" ,"+e.endSN+"],track "+r),this.demuxer.push(t.payload,c,s,null,u,n,!1,a)):(E.b.log("unknown video PTS for continuity counter "+o+", waiting for video PTS before demuxing audio frag "+i+" of ["+e.startSN+" ,"+e.endSN+"],track "+r),this.waitingFragment=t,this.state=Te))),this.fragLoadError=0},_e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ve&&(n=void 0,(e=t.tracks).video&&delete e.video,(n=e.audio)&&(n.levelCodec=n.codec,n.id=t.id,this.hls.trigger(_.a.BUFFER_CODECS,e),E.b.log("audio track:audio,container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]"),(n=n.initSegment)&&(n={type:"audio",data:n,parent:"audio",content:"initSegment"},this.audioSwitch?this.pendingData=[n]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(_.a.BUFFER_APPENDING,n))),this.tick()))},_e.prototype.onFragParsingData=function(e){var t,n,r,i,o=this,s=this.fragCurrent,a=e.frag;s&&"audio"===e.id&&"audio"===e.type&&a.sn===s.sn&&a.level===s.level&&this.state===ve&&(t=this.trackId,r=this.tracks[t],n=this.hls,isNaN(e.endPTS)&&(e.endPTS=e.startPTS+s.duration,e.endDTS=e.startDTS+s.duration),E.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),Q(r.details,s,e.startPTS,e.endPTS),a=this.audioSwitch,r=this.media,s=!1,a&&r&&(r.readyState?(r=r.currentTime,E.b.log("switching audio track : currentTime:"+r),r>=e.startPTS&&(E.b.log("switching audio track : flushing all audio"),this.state=ye,n.trigger(_.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.audioSwitch=!(s=!0),n.trigger(_.a.AUDIO_TRACK_SWITCHED,{id:t}))):(this.audioSwitch=!1,n.trigger(_.a.AUDIO_TRACK_SWITCHED,{id:t}))),i=this.pendingData,this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&i.push({type:e.type,data:t,parent:"audio",content:"data"})}),!s&&i.length&&(i.forEach(function(t){o.state===ve&&(o.pendingBuffering=!0,o.hls.trigger(_.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick())},_e.prototype.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===ve&&(this.stats.tparsed=performance.now(),this.state=me,this._checkAppendedParsed())},_e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},_e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},_e.prototype.onBufferAppended=function(t){var e;"audio"===t.parent&&((e=this.state)!==ve&&e!==me||(this.pendingBuffering=0<t.pending,this._checkAppendedParsed()))},_e.prototype._checkAppendedParsed=function(){var t,e,n;this.state!==me||this.appended&&this.pendingBuffering||(n=this.fragCurrent,t=this.stats,e=this.hls,n&&(this.fragPrevious=n,t.tbuffered=performance.now(),e.trigger(_.a.FRAG_BUFFERED,{stats:t,frag:n,id:"audio"}),n=this.mediaBuffer||this.media,E.b.log("audio buffered : "+$(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,e.trigger(_.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=he),this.tick())},_e.prototype.onError=function(t){var e,n,r,i=t.frag;if(!i||"audio"===i.type)switch(t.details){case S.a.FRAG_LOAD_ERROR:case S.a.FRAG_LOAD_TIMEOUT:t.fatal||((e=this.fragLoadError)?e++:e=1,e<=(n=this.config).fragLoadingMaxRetry?(this.fragLoadError=e,i.loadCounter=0,r=Math.min(Math.pow(2,e-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout),E.b.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=pe):(E.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=be));break;case S.a.FRAG_LOOP_LOADING_ERROR:case S.a.AUDIO_TRACK_LOAD_ERROR:case S.a.AUDIO_TRACK_LOAD_TIMEOUT:case S.a.KEY_LOAD_ERROR:case S.a.KEY_LOAD_TIMEOUT:this.state!==be&&(this.state=t.fatal?be:he,E.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case S.a.BUFFER_FULL_ERROR:"audio"!==t.parent||this.state!==ve&&this.state!==me||(n=this.mediaBuffer,r=this.media.currentTime,n&&j.isBuffered(n,r)&&j.isBuffered(n,r+.5)?((r=this.config).maxMaxBufferLength>=r.maxBufferLength&&(r.maxMaxBufferLength/=2,E.b.warn("audio:reduce max buffer length to "+r.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*r.fragLoadingLoopThreshold),this.state=he):(E.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=ye,this.hls.trigger(_.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})))}},_e.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(E.b.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(_.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=me):(this.state=he,this.fragPrevious=null,this.tick())},Ee=_e,(we=[{key:"state",set:function(t){var e;this.state!==t&&(e=this.state,this._state=t,E.b.log("audio stream:"+e+"->"+t))},get:function(){return this._state}}])&&ue(Ee.prototype,we),Ae&&ue(Ee,Ae),_e),xe=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var T={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};function _(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}function S(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function t(t,e,n){var r=this,i=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var s="",a=!1,u=t,c=e,l=n,h=null,d="",f=!0,p="auto",g="start",v=50,m="middle",y=50,b="middle";if(Object.defineProperty(r,"id",S({},o,{get:function(){return s},set:function(t){s=""+t}})),Object.defineProperty(r,"pauseOnExit",S({},o,{get:function(){return a},set:function(t){a=!!t}})),Object.defineProperty(r,"startTime",S({},o,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",S({},o,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",S({},o,{get:function(){return l},set:function(t){l=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",S({},o,{get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",S({},o,{get:function(){return d},set:function(t){t="string"==typeof(t=t)&&!!T[t.toLowerCase()]&&t.toLowerCase();if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",S({},o,{get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",S({},o,{get:function(){return p},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",S({},o,{get:function(){return g},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",S({},o,{get:function(){return v},set:function(t){if(t<0||100<t)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",S({},o,{get:function(){return m},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",S({},o,{get:function(){return y},set:function(t){if(t<0||100<t)throw new Error("Size must be between 0 and 100.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",S({},o,{get:function(){return b},set:function(t){t=_(t);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),r.displayState=void 0,i)return r}return t.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},t}();function Pe(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Se,this.regionList=[]}function Ce(){this.values=Object.create(null)}function ke(t,e,n,r){var i,o,s=r?t.split(r):[t];for(i in s)"string"!=typeof s[i]||2===(o=s[i].split(n)).length&&e(o[0],o[1])}Ce.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(e=parseFloat(e))&&e<=100)&&(this.set(t,e),!0)}};var Le=new xe(0,0,0),Re="middle"===Le.align?"middle":"center";function Ie(n,t,s){var r=n;function e(){var t,t=(t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/))?t[3]?e(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?e(t[1],t[2],0,t[4]):e(0,t[1],t[2],t[4]):null;function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}if(null===t)throw new Error("Malformed timestamp: "+r);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function i(){n=n.replace(/^\s+/,"")}if(i(),t.startTime=e(),i(),"--\x3e"!==n.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);n=n.substr(3),i(),t.endTime=e(),i(),function(t,e){var o=new Ce;ke(t,function(t,e){switch(t){case"region":for(var n=s.length-1;0<=n;n--)if(s[n].id===e){o.set(t,s[n].region);break}break;case"vertical":o.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),i=r[0];o.integer(t,i),o.percent(t,i)&&o.set("snapToLines",!1),o.alt(t,i,["auto"]),2===r.length&&o.alt("lineAlign",r[1],["start",Re,"end"]);break;case"position":r=e.split(","),o.percent(t,r[0]),2===r.length&&o.alt("positionAlign",r[1],["start",Re,"end","line-left","line-right","auto"]);break;case"size":o.percent(t,e);break;case"align":o.alt(t,e,["start",Re,"end","left","right"])}},/:/,/\s/),e.region=o.get("region",null),e.vertical=o.get("vertical","");t=o.get("line","auto");"auto"===t&&-1===Le.line&&(t=-1),e.line=t,e.lineAlign=o.get("lineAlign","start"),e.snapToLines=o.get("snapToLines",!0),e.size=o.get("size",100),e.align=o.get("align",Re);t=o.get("position","auto");"auto"===t&&50===Le.position&&(t="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=t}(n,t)}function De(t){return t.replace(/<br(?: \/)?>/gi,"\n")}Pe.prototype={parse:function(t){var e,r=this;function n(){for(var t=0,e=De(e=r.buffer);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,r.buffer=e.substr(t),n}t&&(r.buffer+=r.decoder.decode(t,{stream:!0}));try{if("INITIAL"===r.state){if(!/\r\n|\n/.test(r.buffer))return this;var i=(e=n()).match(/^()?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");r.state="HEADER"}for(var o=!1;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(o?o=!1:e=n(),r.state){case"HEADER":/:/.test(e)?ke(e,function(t,e){"Region"===t&&console.log("parse region",e)},/:/):e||(r.state="ID");continue;case"NOTE":e||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){r.state="NOTE";break}if(!e)continue;if(r.cue=new xe(0,0,""),r.state="CUE",-1===e.indexOf("--\x3e")){r.cue.id=e;continue}case"CUE":try{Ie(e,r.cue,r.regionList)}catch(t){r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":var s=-1!==e.indexOf("--\x3e");if(!e||s&&(o=!0)){r.oncue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}r.cue.text&&(r.cue.text+="\n"),r.cue.text+=e;continue;case"BADCUE":e||(r.state="ID");continue}}}catch(t){"CUETEXT"===r.state&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state="INITIAL"===r.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var Oe=Pe;function Me(t,e,n,r){for(var i,o,s,a,u,c=window.VTTCue||window.TextTrackCue,l=0;l<r.rows.length;l++)if(s=!0,a=0,u="",!(i=r.rows[l]).isEmpty()){for(var h=0;h<i.chars.length;h++)i.chars[h].uchar.match(/\s/)&&s?a++:(u+=i.chars[h].uchar,s=!1);(i.cueStartTime=e)===n&&(n+=1e-4),o=new c(e,n,De(u.trim())),16<=a?a--:a++,navigator.userAgent.match(/Firefox\//)?o.line=l+1:o.line=7<l?l-2:l+1,o.align="left",o.position=Math.max(0,Math.min(100,a/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(o)}}function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t){var e=t;return je.hasOwnProperty(t)&&(e=je[t]),String.fromCharCode(e)}function Fe(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e}var je={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ge={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ue={17:2,18:4,21:6,22:8,23:10,19:13,20:15},He={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ve={25:2,26:4,29:6,30:8,31:10,27:13,28:15},We=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],qe={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var n=this.verboseFilter[t];this.verboseLevel>=n&&console.log(this.time+" ["+t+"] "+e)}},Ke=(Xe.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},Xe.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}},Xe.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},Xe.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},Xe.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},Xe.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},Xe);function Xe(t,e,n,r,i){Ne(this,Xe),this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var ze=(Ye.prototype.reset=function(){this.uchar=" ",this.penState.reset()},Ye.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},Ye.prototype.setPenState=function(t){this.penState.copy(t)},Ye.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},Ye.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},Ye.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},Ye);function Ye(t,e,n,r,i,o){Ne(this,Ye),this.uchar=t||" ",this.penState=new Ke(e,n,r,i,o)}var Qe=(Je.prototype.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},Je.prototype.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},Je.prototype.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},Je.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(qe.log("ERROR","Negative cursor position "+this.pos),this.pos=0):100<this.pos&&(qe.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},Je.prototype.moveCursor=function(t){var e=this.pos+t;if(1<t)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},Je.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},Je.prototype.insertChar=function(t){144<=t&&this.backSpace();var e=Be(t);100<=this.pos?qe.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},Je.prototype.clearFromPos=function(t){for(var e=t;e<100;e++)this.chars[e].reset()},Je.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},Je.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},Je.prototype.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},Je.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},Je);function Je(){Ne(this,Je),this.chars=[];for(var t=0;t<100;t++)this.chars.push(new ze);this.pos=0,this.currPenState=new Ke}var $e=(Ze.prototype.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},Ze.prototype.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},Ze.prototype.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},Ze.prototype.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},Ze.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},Ze.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},Ze.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},Ze.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},Ze.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},Ze.prototype.setCursor=function(t){qe.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},Ze.prototype.setPAC=function(t){qe.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var r=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[r].cueStartTime;if(o&&o<qe.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(i.rows[r+s])}}this.currRow=e;var a=this.rows[this.currRow];null!==t.indent&&(o=t.indent,o=Math.max(o-1,0),a.setCursor(t.indent),t.color=a.chars[o].penState.foreground);t={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(t)},Ze.prototype.setBkgData=function(t){qe.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},Ze.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},Ze.prototype.rollUp=function(){var t;null!==this.nrRollUpRows?(qe.log("TEXT",this.getDisplayText()),t=this.currRow+1-this.nrRollUpRows,(t=this.rows.splice(t,1)[0]).clear(),this.rows.splice(this.currRow,0,t),qe.log("INFO","Rolling up")):qe.log("DEBUG","roll_up but nrRollUpRows not set yet")},Ze.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],n="",r=0;r<15;r++){var i=this.rows[r].getTextString();i&&(t?e.push("Row "+(r+1)+": '"+i+"'"):e.push(i.trim()))}return n=0<e.length?t?"["+e.join(" | ")+"]":e.join("\n"):n},Ze.prototype.getTextAndFormat=function(){return this.rows},Ze);function Ze(){Ne(this,Ze),this.rows=[];for(var t=0;t<15;t++)this.rows.push(new Qe);this.currRow=14,this.nrRollUpRows=null,this.reset()}var tn=(en.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},en.prototype.getHandler=function(){return this.outputFilter},en.prototype.setHandler=function(t){this.outputFilter=t},en.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},en.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},en.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,qe.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},en.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";qe.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(qe.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},en.prototype.ccRCL=function(){qe.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},en.prototype.ccBS=function(){qe.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},en.prototype.ccAOF=function(){},en.prototype.ccAON=function(){},en.prototype.ccDER=function(){qe.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},en.prototype.ccRU=function(t){qe.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},en.prototype.ccFON=function(){qe.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},en.prototype.ccRDC=function(){qe.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},en.prototype.ccTR=function(){qe.log("INFO","TR"),this.setMode("MODE_TEXT")},en.prototype.ccRTD=function(){qe.log("INFO","RTD"),this.setMode("MODE_TEXT")},en.prototype.ccEDM=function(){qe.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},en.prototype.ccCR=function(){qe.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},en.prototype.ccENM=function(){qe.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},en.prototype.ccEOC=function(){var t;qe.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(t=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,qe.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate(!0)},en.prototype.ccTO=function(t){qe.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},en.prototype.ccMIDROW=function(t){var e={flash:!1};e.underline=t%2==1,e.italics=46<=t,e.italics?e.foreground="white":(t=Math.floor(t/2)-16,e.foreground=["white","green","blue","cyan","red","yellow","magenta"][t]),qe.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},en.prototype.outputDataUpdate=function(t){var e=0<arguments.length&&void 0!==t&&t,t=qe.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},en.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},en);function en(t,e){Ne(this,en),this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new $e,this.nonDisplayedMemory=new $e,this.lastOutputScreen=new $e,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function nn(t,e,n){Ne(this,nn),this.field=t||1,this.outputs=[e,n],this.channels=[new tn(1,e),new tn(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var rn=(nn.prototype.getHandler=function(t){return this.channels[t].getHandler()},nn.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},nn.prototype.addData=function(t,e){var n,r,i,o=!1;this.lastTime=t,qe.setTime(t);for(var s=0;s<e.length;s+=2)r=127&e[s],i=127&e[s+1],0!=r||0!=i?(qe.log("DATA","["+Fe([e[s],e[s+1]])+"] -> ("+Fe([r,i])+")"),(n=this.parseCmd(r,i)||this.parseMidrow(r,i)||this.parsePAC(r,i)||this.parseBackgroundAttributes(r,i))||(o=this.parseChars(r,i))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(o):qe.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,qe.log("WARNING","Couldn't parse cleaned data "+Fe([r,i])+" orig: "+Fe([e[s],e[s+1]])))):this.dataCounters.padding+=2},nn.prototype.parseCmd=function(t,e){var n=null;if(!((20===t||28===t)&&32<=e&&e<=47||(23===t||31===t)&&33<=e&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,qe.log("DEBUG","Repeated command ("+Fe([t,e])+") is dropped"),!0;var r=this.channels[(n=20===t||23===t?1:2)-1];return 20===t||28===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},nn.prototype.parseMidrow=function(t,e){var n;return(17===t||25===t)&&32<=e&&e<=47&&((n=17===t?1:2)!==this.currChNr?(qe.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].ccMIDROW(e),qe.log("DEBUG","MIDROW ("+Fe([t,e])+")"),!0))},nn.prototype.parsePAC=function(t,e){if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127||(16===t||24===t)&&64<=e&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);var n=t<=23?1:2,r=this.interpretPAC((64<=e&&e<=95?1==n?Ge:He:1==n?Ue:Ve)[t],e);return this.channels[n-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0},nn.prototype.interpretPAC=function(t,e){var n=e,t={color:null,italics:!1,indent:null,underline:!1,row:t};return t.underline=1==(1&(n=95<e?e-96:e-64)),n<=13?t.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(t.italics=!0,t.color="white"):t.indent=4*Math.floor((n-16)/2),t},nn.prototype.parseChars=function(t,e){var n,r,i=null,o=null;return 17<=(n=25<=t?(i=2,t-8):(i=1,t))&&n<=19?(r=e,qe.log("INFO","Special char '"+Be(r=17===n?e+80:18===n?e+112:e+144)+"' in channel "+i),o=[r]):32<=t&&t<=127&&(o=0===e?[t]:[t,e]),o&&(e=Fe(o),qe.log("DEBUG","Char codes =  "+e.join(",")),this.lastCmdA=null,this.lastCmdB=null),o},nn.prototype.parseBackgroundAttributes=function(t,e){var n,r;return((16===t||24===t)&&32<=e&&e<=47||(23===t||31===t)&&45<=e&&e<=47)&&(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=We[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),this.channels[(t<24?1:2)-1].setBkgData(n),this.lastCmdA=null,!(this.lastCmdB=null))},nn.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},nn.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},nn);function on(t,e){!function(t){if(!(t instanceof on))throw new TypeError("Cannot call a class as a function")}(this),this.timelineController=t,this.track=e,this.startTime=null,this.endTime=null,this.screen=null}function sn(t,e,n){return t.substr(n||0,e.length)===e}function an(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()}var un,cn=(on.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},on.prototype.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.track)},on),ln=function(t,o,r,i,e,n){var t=Object(xt.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),s="00:00.000",a=0,u=0,c=0,l=[],h=void 0,d=!0,f=new Oe;f.oncue=function(t){var e=r[i],n=r.ccOffset;e&&e.new&&(void 0!==u?n=r.ccOffset=e.start:function(t,e){var n=t[i],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,n.new=!1;for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,r=t[(n=r).prevCC];t.presentationOffset=e}(r,c)),c&&(n=c+r.ccOffset-r.presentationOffset),t.startTime+=n-u,t.endTime+=n-u,t.id=an(t.startTime.toString())+an(t.endTime.toString())+an(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),0<t.endTime&&l.push(t)},f.onparsingerror=function(t){h=t},f.onflush=function(){h&&n?n(h):e(l)},t.forEach(function(e){if(d){if(sn(e,"X-TIMESTAMP-MAP=")){d=!1,e.substr(16).split(",").forEach(function(t){sn(t,"LOCAL:")?s=t.substr(6):sn(t,"MPEGTS:")&&(a=parseInt(t.substr(7)))});try{a-=o=o<0?o+8589934592:o,t=s,n=parseInt(t.substr(-3)),r=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),t=9<t.length?parseInt(t.substr(0,t.indexOf(":"))):0,u=(isNaN(n)||isNaN(r)||isNaN(i)||isNaN(t)?-1:(n+=1e3*r,(n+=6e4*i)+36e5*t))/1e3,c=a/9e4,-1===u&&(h=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){h=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(d=!1)}var t,n,r,i;f.parse(e+"\n")}),f.flush()};function hn(t){if(t&&t.cues)for(;0<t.cues.length;)t.removeCue(t.cues[0])}function dn(t){!function(t){if(!(t instanceof dn))throw new TypeError("Cannot call a class as a function")}(this);var e,n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,un.call(this,t,_.a.MEDIA_ATTACHING,_.a.MEDIA_DETACHING,_.a.FRAG_PARSING_USERDATA,_.a.FRAG_DECRYPTED,_.a.MANIFEST_LOADING,_.a.MANIFEST_LOADED,_.a.FRAG_LOADED,_.a.LEVEL_SWITCHING,_.a.INIT_PTS_FOUND));return n.hls=t,n.config=t.config,n.enabled=!0,n.Cues=t.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions&&(e=new cn(n,1),t=new cn(n,2),n.cea608Parser=new rn(0,e,t)),n}var fn,U=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(dn,un=u),dn.prototype.addCues=function(t,e,n,r){for(var i,o,s=this.cueRanges,a=!1,u=s.length;u--;){var c=s[u],l=(i=c[0],o=c[1],l=e,Math.min(o,n)-Math.max(i,l));if(0<=l&&(c[0]=Math.min(c[0],e),c[1]=Math.max(c[1],n),a=!0,.5<l/(n-e)))return}a||s.push([e,n]),this.Cues.newCue(this[t],e,n,r)},dn.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},dn.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(!0===r["textTrack"+t])return r}return null},dn.prototype.sendAddTrackEvent=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)},dn.prototype.createCaptionsTrack=function(t){var e,n="textTrack"+t;this[n]||((e=this.getExistingTrack(t))?(this[n]=e,hn(this[n]),this.sendAddTrackEvent(this[n],this.media)):(t=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode))&&(t[n]=!0,this[n]=t))},dn.prototype.createTextTrack=function(t,e,n){var r=this.media;if(r)return r.addTextTrack(t,e,n)},dn.prototype.destroy=function(){u.prototype.destroy.call(this)},dn.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},dn.prototype.onMediaDetaching=function(){hn(this.textTrack1),hn(this.textTrack2)},dn.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},dn.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)hn(e[n])}},dn.prototype.onManifestLoaded=function(t){var r,i=this;this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT&&(this.tracks=t.subtitles||[],r=this.media?this.media.textTracks:[],this.tracks.forEach(function(t,e){var n=void 0;e<r.length&&(!(e=r[e])||e.label!==t.name||e.textTrack1||e.textTrack2||(n=e)),(n=n||i.createTextTrack("subtitles",t.name,t.lang)).mode=t.default?"showing":"hidden",i.textTracks.push(n)}))},dn.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},dn.prototype.onFragLoaded=function(t){var e,n,r=t.frag,i=t.payload;"main"===r.type?((n=r.sn)===this.lastSn+1||(e=this.cea608Parser)&&e.reset(),this.lastSn=n):"subtitle"===r.type&&(i.byteLength?void 0!==this.initPTS?null!=(n=r.decryptdata)&&null!=n.key&&"AES-128"===n.method||this._parseVTTs(r,i):this.unparsedVttFrags.push(t):this.hls.trigger(_.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}))},dn.prototype._parseVTTs=function(e,t){var n=this.vttCCs;n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,o=this.hls;ln(t,this.initPTS,n,e.cc,function(t){var r=i[e.trackId];t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(t){var n=new window.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,r.addCue(n)}}),o.trigger(_.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){E.b.log("Failed to parse VTT cue: "+t),o.trigger(_.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},dn.prototype.onFragDecrypted=function(t){var e=t.payload,n=t.frag;"subtitle"===n.type&&(void 0!==this.initPTS?this._parseVTTs(n,e):this.unparsedVttFrags.push(t))},dn.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}},dn.prototype.extractCea608Data=function(t){for(var e,n,r,i=31&t[0],o=2,s=[],a=0;a<i;a++)e=t[o++],n=127&t[o++],r=127&t[o++],0==n&&0==r||0!=(4&e)&&0==(3&e)&&(s.push(n),s.push(r));return s},dn);function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t){for(var e=[],n=0;n<t.length;n++)"subtitles"===t[n].kind&&e.push(t[n]);return e}function vn(t){!function(t){if(!(t instanceof vn))throw new TypeError("Cannot call a class as a function")}(this);t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,fn.call(this,t,_.a.MEDIA_ATTACHED,_.a.MEDIA_DETACHING,_.a.MANIFEST_LOADING,_.a.MANIFEST_LOADED,_.a.SUBTITLE_TRACK_LOADED));return t.tracks=[],t.trackId=-1,t.media=void 0,t.subtitleDisplay=!1,t}var mn,yn,bn,Tn,V=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(vn,fn=u),vn.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=gn(this.media.textTracks),n=0;n<e.length;n++)"showing"===e[n].mode&&(t=n);this.subtitleTrack=t}},vn.prototype.destroy=function(){u.prototype.destroy.call(this)},vn.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},vn.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},vn.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},vn.prototype.onManifestLoaded=function(t){var e=this,t=t.subtitles||[];this.tracks=t,this.trackId=-1,this.hls.trigger(_.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:t}),t.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},vn.prototype.onTick=function(){var t,e=this.trackId,n=this.tracks[e];n&&(void 0!==(t=n.details)&&!0!==t.live||(E.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(_.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:e})))},vn.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(E.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},vn.prototype.setSubtitleTrackInternal=function(t){var e,n;t<-1||t>=this.tracks.length||(this.timer&&(clearInterval(this.timer),this.timer=null),n=gn(this.media.textTracks),-1!==this.trackId&&this.subtitleDisplay&&(n[this.trackId].mode="hidden"),this.trackId=t,E.b.log("switching to subtitle track "+t),this.hls.trigger(_.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t&&(e=this.tracks[t],this.subtitleDisplay&&(n[t].mode="showing"),void 0!==(n=e.details)&&!0!==n.live||(E.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(_.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))))},mn=vn,(yn=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}])&&pn(mn.prototype,yn),bn&&pn(mn,bn),vn),_n=n(4),Sn="STOPPED",En="IDLE",wn="KEY_LOADING",An="FRAG_LOADING";function xn(t){!function(t){if(!(t instanceof xn))throw new TypeError("Cannot call a class as a function")}(this);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Tn.call(this,t,_.a.MEDIA_ATTACHED,_.a.ERROR,_.a.KEY_LOADED,_.a.FRAG_LOADED,_.a.SUBTITLE_TRACKS_UPDATED,_.a.SUBTITLE_TRACK_SWITCH,_.a.SUBTITLE_TRACK_LOADED,_.a.SUBTITLE_FRAG_PROCESSED));return e.config=t.config,e.vttFragSNsProcessed={},e.vttFragQueues=void 0,e.currentlyProcessing=null,e.state=Sn,e.currentTrackId=-1,e.ticks=0,e.decrypter=new _n.a(t.observer,t.config),e}var n=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(xn,Tn=u),xn.prototype.destroy=function(){u.prototype.destroy.call(this),this.state=Sn},xn.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},xn.prototype.nextFrag=function(){var t;null===this.currentlyProcessing&&-1<this.currentTrackId&&this.vttFragQueues[this.currentTrackId].length&&(t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift(),this.fragCurrent=t,this.hls.trigger(_.a.FRAG_LOADING,{frag:t}),this.state=An)},xn.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=En,this.nextFrag()},xn.prototype.onMediaAttached=function(){this.state=En},xn.prototype.onError=function(t){t=t.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},xn.prototype.tick=function(){var t=this;this.ticks++,1===this.ticks&&(this.doTick(),1<this.ticks&&setTimeout(function(){t.tick()},1),this.ticks=0)},xn.prototype.doTick=function(){var n=this;switch(this.state){case En:var t,e=this.tracks,r=this.currentTrackId,i=this.vttFragSNsProcessed[r],o=this.vttFragQueues[r],s=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!e)break;if(void 0===(t=r<e.length?e[r].details:t))break;t.fragments.forEach(function(t){var e;-1<i.indexOf(t.sn)||t.sn===s||(e=t,o.some(function(t){return t.sn===e.sn}))||(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key?(E.b.log("Loading key for "+t.sn),n.state=wn,n.hls.trigger(_.a.KEY_LOADING,{frag:t})):(t.trackId=r,o.push(t),n.nextFrag()))})}},xn.prototype.onSubtitleTracksUpdated=function(t){var e=this;E.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},xn.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},xn.prototype.onSubtitleTrackLoaded=function(){this.tick()},xn.prototype.onKeyLoaded=function(){this.state===wn&&(this.state=En,this.tick())},xn.prototype.onFragLoaded=function(t){var n,e=this.fragCurrent,r=t.frag.decryptdata,i=t.frag,o=this.hls;if(this.state===An&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&0<t.payload.byteLength&&null!=r&&null!=r.key&&"AES-128"===r.method){try{n=performance.now()}catch(t){n=Date.now()}this.decrypter.decrypt(t.payload,r.key.buffer,r.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}o.trigger(_.a.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:n,tdecrypt:e}})})}},xn),Pn={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ne,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Gt,bufferController:Wt,capLevelController:Jt,fpsController:Zt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Pn.subtitleStreamController=n,Pn.subtitleTrackController=V,Pn.timelineController=U,Pn.cueHandler=r,Pn.enableCEA708Captions=!0,Pn.enableWebVTT=!0,Pn.captionsTextTrack1Label="English",Pn.captionsTextTrack1LanguageCode="en",Pn.captionsTextTrack2Label="Spanish",Pn.captionsTextTrack2LanguageCode="es",Pn.audioStreamController=p,Pn.audioTrackController=i;i=function(t,e,n){return e&&Cn(t.prototype,e),n&&Cn(t,n),t};function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}kn.isSupported=function(){return t=q(),e=window.SourceBuffer||window.WebKitSourceBuffer,t=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,!!t&&!!e;var t,e},i(kn,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return _.a}},{key:"ErrorTypes",get:function(){return S.b}},{key:"ErrorDetails",get:function(){return S.a}},{key:"DefaultConfig",get:function(){return kn.defaultConfig||Pn},set:function(t){kn.defaultConfig=t}}]),kn.prototype.destroy=function(){E.b.log("destroy"),this.trigger(_.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},kn.prototype.attachMedia=function(t){E.b.log("attachMedia"),this.media=t,this.trigger(_.a.MEDIA_ATTACHING,{media:t})},kn.prototype.detachMedia=function(){E.b.log("detachMedia"),this.trigger(_.a.MEDIA_DETACHING),this.media=null},kn.prototype.loadSource=function(t){t=o.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),E.b.log("loadSource:"+t),this.url=t,this.trigger(_.a.MANIFEST_LOADING,{url:t})},kn.prototype.startLoad=function(t){var e=0<arguments.length&&void 0!==t?t:-1;E.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},kn.prototype.stopLoad=function(){E.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},kn.prototype.swapAudioCodec=function(){E.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},kn.prototype.recoverMediaError=function(){E.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},i(kn,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){E.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){E.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){E.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){E.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){E.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){E.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++)if(e<(t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate))return r;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),i=kn;function kn(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t){if(!(t instanceof kn))throw new TypeError("Cannot call a class as a function")}(this);var n,r=kn.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(n in r)n in t||(t[n]=r[n]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(E.a)(t.debug),this.config=t,this._autoLevelCapping=-1;var i=this.observer=new H.a;i.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i);var o=this.abrController=new t.abrController(this),s=new t.bufferController(this),a=new t.capLevelController(this),u=new t.fpsController(this),c=new I(this),l=new M(this),h=new B(this),d=new Ct(this),f=[this.levelController=new At(this),this.streamController=new yt(this)],p=t.audioStreamController;p&&f.push(new p(this)),this.networkControllers=f;var g=[c,l,h,o,s,a,u,d];(p=t.audioTrackController)&&(d=new p(this),this.audioTrackController=d,g.push(d)),(p=t.subtitleTrackController)&&(p=new p(this),this.subtitleTrackController=p,g.push(p)),[t.subtitleStreamController,t.timelineController].forEach(function(t){t&&g.push(new t(e))}),this.coreComponents=g}e.default=i},function(t,e,r){t.exports=function(o,t){var e=r.m,n=(t=t||{}).all?Object.keys(e):function(t){for(var e=[o],n=[],r={};e.length;){var i=e.pop();!r[i]&&t[i]&&(r[i]=!0,n.push(i),i=function(t){var e=[],n=t.toString();if(!(t=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/)))return e;for(var r,t=t[1],i=new RegExp("(\\\\n|\\W)"+(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");r=i.exec(n);)e.push(r[3]);return e}(t[i]),e=e.concat(i))}return n}(e),n="("+function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var t=i(i.s=ENTRY_MODULE);return t.default||t}.toString().replace("ENTRY_MODULE",JSON.stringify(o))+")({"+n.map(function(t){return JSON.stringify(t)+": "+e[t].toString()}).join(",")+"})(self);",n=new window.Blob([n],{type:"text/javascript"});if(t.bare)return n;t=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(n),n=new window.Worker(t);return n.objectURL=t,n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),a=n(1),u=n(0),r=n(5),c=n.n(r);e.default=function(r){var i=new c.a;function o(t,e){r.postMessage({event:t,data:e})}i.trigger=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))},r.addEventListener("message",function(t){var e=t.data;switch(e.cmd){case"init":var n=JSON.parse(e.config);r.demuxer=new s.a(i,e.typeSupported,n,e.vendor);try{Object(u.a)(!0===n.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}o("init",null);break;case"demux":r.demuxer.push(e.data,e.decryptdata,e.initSegment,e.audioCodec,e.videoCodec,e.timeOffset,e.discontinuity,e.trackSwitch,e.contiguous,e.duration,e.accurateTimeOffset,e.defaultInitPTS)}}),i.on(a.a.FRAG_DECRYPTED,o),i.on(a.a.FRAG_PARSING_INIT_SEGMENT,o),i.on(a.a.FRAG_PARSED,o),i.on(a.a.ERROR,o),i.on(a.a.FRAG_PARSING_METADATA,o),i.on(a.a.FRAG_PARSING_USERDATA,o),i.on(a.a.INIT_PTS_FOUND,o),i.on(a.a.FRAG_PARSING_DATA,function(t,e){var n=[],t={event:t,data:e};e.data1&&(t.data1=e.data1.buffer,n.push(e.data1.buffer),delete e.data1),e.data2&&(t.data2=e.data2.buffer,n.push(e.data2.buffer),delete e.data2),r.postMessage(t,n)})}}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/dist/",r(r.s=8).default;function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i};"object"==typeof n&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof n?n.Hls=r():this.Hls=r()},{}],285:[function(t,e,n){!function(t){t="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};e.exports=t}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],284:[function(r,i,t){!function(t){var e=void 0!==t?t:"undefined"!=typeof window?window:{},t=r("min-document"),n="undefined"!=typeof document?document:(n=e["__GLOBAL_DOCUMENT_CACHE@4"])||(e["__GLOBAL_DOCUMENT_CACHE@4"]=t);i.exports=n}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":109}],283:[function(t,e,n){"use strict";var i=t("is-callable"),o=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function(t,e,n){if(!i(e))throw new TypeError("iterator must be a function");var r;3<=arguments.length&&(r=n),("[object Array]"===o.call(t)?function(t,e,n){for(var r=0,i=t.length;r<i;r++)s.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))}:"string"==typeof t?function(t,e,n){for(var r=0,i=t.length;r<i;r++)null==n?e(t.charAt(r),r,t):e.call(n,t.charAt(r),r,t)}:function(t,e,n){for(var r in t)s.call(t,r)&&(null==n?e(t[r],r,t):e.call(n,t[r],r,t))})(t,e,r)}},{"is-callable":288}],288:[function(t,e,n){"use strict";function r(t){try{var e=i.call(t);return o.test(e)}catch(t){return}}var i=Function.prototype.toString,o=/^\s*class\b/,s=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(a)return function(t){try{return!r(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(r(t))return!1;t=s.call(t);return"[object Function]"===t||"[object GeneratorFunction]"===t}},{}],282:[function(t,e,n){!function(r){"use strict";function t(){}var a=r.setTimeout,u=r.clearTimeout;function i(t,e,n,r,i){this._internal=new o(t,e,n,r,i)}function o(t,e,n,r,i){this.onStartCallback=e,this.onProgressCallback=n,this.onFinishCallback=r,this.thisArg=i,this.xhr=t,this.state=0,this.charOffset=0,this.offset=0,this.url="",this.withCredentials=!1,this.timeout=0}function e(){this._data={}}function n(){this._listeners=new e}function s(t){a(function(){throw t},0)}function c(t){this.type=t,this.target=void 0}function l(t,e){c.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function h(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(t){s(t)}}i.prototype.open=function(t,e){this._internal.open(t,e)},i.prototype.cancel=function(){this._internal.cancel()},o.prototype.onStart=function(){if(1===this.state){this.state=2;var e=0,n="",r=void 0;if("contentType"in this.xhr)e=200,n="OK",r=this.xhr.contentType;else try{e=this.xhr.status,n=this.xhr.statusText,r=this.xhr.getResponseHeader("Content-Type")}catch(t){n="",r=void(e=0)}this.onStartCallback.call(this.thisArg,e,n,r=null==r?"":r)}},o.prototype.onProgress=function(){if(this.onStart(),2===this.state||3===this.state){this.state=3;var t="";try{t=this.xhr.responseText}catch(t){}for(var e=this.charOffset,n=t.length,r=this.offset;r<n;r+=1){var i=t.charCodeAt(r);i!=="\n".charCodeAt(0)&&i!=="\r".charCodeAt(0)||(this.charOffset=r+1)}this.offset=n;e=t.slice(e,this.charOffset);this.onProgressCallback.call(this.thisArg,e)}},o.prototype.onFinish=function(){this.onProgress(),3===this.state&&(this.state=4,0!==this.timeout&&(u(this.timeout),this.timeout=0),this.onFinishCallback.call(this.thisArg))},o.prototype.onReadyStateChange=function(){null!=this.xhr&&(4===this.xhr.readyState?(this.xhr.status,this.onFinish()):3===this.xhr.readyState?this.onProgress():this.xhr.readyState)},o.prototype.onTimeout2=function(){this.timeout=0;var t=/^data\:([^,]*?)(base64)?,([\S]*)$/.exec(this.url),e=t[1],t="base64"===t[2]?r.atob(t[3]):decodeURIComponent(t[3]);1===this.state&&(this.state=2,this.onStartCallback.call(this.thisArg,200,"OK",e)),2!==this.state&&3!==this.state||(this.state=3,this.onProgressCallback.call(this.thisArg,t)),3===this.state&&(this.state=4,this.onFinishCallback.call(this.thisArg))},o.prototype.onTimeout1=function(){this.timeout=0,this.open(this.url,this.withCredentials)},o.prototype.onTimeout0=function(){var t=this;this.timeout=a(function(){t.onTimeout0()},500),3===this.xhr.readyState&&this.onProgress()},o.prototype.handleEvent=function(t){"load"===t.type||"error"===t.type||"abort"===t.type?this.onFinish():"progress"===t.type?this.onProgress():"readystatechange"===t.type&&this.onReadyStateChange()},o.prototype.open=function(t,e){this.cancel(),this.url=t,this.withCredentials=e,this.state=1,this.charOffset=0,this.offset=0;var n=this;if(null==/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(t))if((!("ontimeout"in this.xhr)||"sendAsBinary"in this.xhr||"mozAnon"in this.xhr)&&null!=r.document&&null!=r.document.readyState&&"complete"!==r.document.readyState)this.timeout=a(function(){n.onTimeout1()},4);else{this.xhr.onload=function(t){n.handleEvent({type:"load"})},this.xhr.onerror=function(){n.handleEvent({type:"error"})},this.xhr.onabort=function(){n.handleEvent({type:"abort"})},this.xhr.onprogress=function(){n.handleEvent({type:"progress"})},this.xhr.onreadystatechange=function(){n.handleEvent({type:"readystatechange"})},this.xhr.open("GET",t,!0),this.xhr.withCredentials=e,this.xhr.responseType="text","setRequestHeader"in this.xhr&&this.xhr.setRequestHeader("Accept","text/event-stream");try{this.xhr.send(void 0)}catch(t){throw t}"readyState"in this.xhr&&null!=r.opera&&(this.timeout=a(function(){n.onTimeout0()},0))}else this.timeout=a(function(){n.onTimeout2()},0)},o.prototype.cancel=function(){0!==this.state&&4!==this.state&&(this.state=4,this.xhr.onload=t,this.xhr.onerror=t,this.xhr.onabort=t,this.xhr.onprogress=t,this.xhr.onreadystatechange=t,this.xhr.abort(),0!==this.timeout&&(u(this.timeout),this.timeout=0),this.onFinishCallback.call(this.thisArg)),this.state=0},e.prototype.get=function(t){return this._data[t+"~"]},e.prototype.set=function(t,e){this._data[t+"~"]=e},e.prototype.delete=function(t){delete this._data[t+"~"]},n.prototype.dispatchEvent=function(t){t.target=this;var e=t.type.toString(),n=this._listeners.get(e);if(null!=n)for(var r=n.length,i=void 0,o=0;o<r;o+=1){i=n[o];try{"function"==typeof i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){s(t)}}},n.prototype.addEventListener=function(t,e){t=t.toString();var n=this._listeners,r=n.get(t);null==r&&n.set(t,r=[]);for(var i=r.length;0<=i;--i)if(r[i]===e)return;r.push(e)},n.prototype.removeEventListener=function(t,e){t=t.toString();var n=this._listeners,r=n.get(t);if(null!=r){for(var i=r.length,o=[],s=0;s<i;s+=1)r[s]!==e&&o.push(r[s]);0===o.length?n.delete(t):n.set(t,o)}},l.prototype=c.prototype;function d(t,e){return(t=t!=t?e:t)<1e3?1e3:18e6<t?18e6:t}var f=r.XMLHttpRequest,p=r.XDomainRequest,g=null!=f&&null!=(new f).withCredentials,v=g||null!=f&&null==p?f:p,m=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i;function y(t,e){n.call(this),this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url="",this.readyState=0,this.withCredentials=!1,this._internal=new b(this,t,e)}function b(t,e,n){this.url=e.toString(),this.readyState=0,this.withCredentials=g&&null!=n&&Boolean(n.withCredentials),this.es=t,this.initialRetry=d(1e3,0),this.heartbeatTimeout=d(45e3,0),this.lastEventId="",this.retry=this.initialRetry,this.wasActivity=!1;n=new(null!=n&&null!=n.Transport?n.Transport:v);this.transport=new i(n,this.onStart,this.onProgress,this.onFinish,this),this.timeout=0,this.currentState=-1,this.dataBuffer=[],this.lastEventIdBuffer="",this.eventTypeBuffer="",this.state=4,this.fieldStart=0,this.valueStart=0,this.es.url=this.url,this.es.readyState=this.readyState,this.es.withCredentials=this.withCredentials,this.onTimeout()}function T(){this.CONNECTING=0,this.OPEN=1,this.CLOSED=2}b.prototype.onStart=function(t,e,n){var r,i;0===this.currentState&&(null==n&&(n=""),200===t&&m.test(n)?(this.currentState=1,this.wasActivity=!0,this.retry=this.initialRetry,this.readyState=1,this.es.readyState=1,r=new c("open"),this.es.dispatchEvent(r),h(this.es,this.es.onopen,r)):0!==t&&(i="",i=200!==t?"EventSource's response has a status "+t+" "+e.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+n.replace(/\s+/g," ")+". Aborting the connection.",s(new Error(i)),this.close(),r=new c("error"),this.es.dispatchEvent(r),h(this.es,this.es.onerror,r)))},b.prototype.onProgress=function(t){if(1===this.currentState){var e=t.length;0!==e&&(this.wasActivity=!0);for(var n=0;n<e;n+=1){var r,i,o=t.charCodeAt(n);if(3===this.state&&o==="\n".charCodeAt(0))this.state=4;else if(3===this.state&&(this.state=4),o==="\r".charCodeAt(0)||o==="\n".charCodeAt(0)){if(4!==this.state&&(5===this.state&&(this.valueStart=n+1),r=t.slice(this.fieldStart,this.valueStart-1),s=t.slice(this.valueStart+(this.valueStart<n&&t.charCodeAt(this.valueStart)===" ".charCodeAt(0)?1:0),n),"data"===r?this.dataBuffer.push(s):"id"===r?this.lastEventIdBuffer=s:"event"===r?this.eventTypeBuffer=s:"retry"===r?(this.initialRetry=d(Number(s),this.initialRetry),this.retry=this.initialRetry):"heartbeatTimeout"===r&&(this.heartbeatTimeout=d(Number(s),this.heartbeatTimeout),0!==this.timeout)&&(u(this.timeout),(i=this).timeout=a(function(){i.onTimeout()},this.heartbeatTimeout))),4===this.state){if(0!==this.dataBuffer.length){this.lastEventId=this.lastEventIdBuffer,""===this.eventTypeBuffer&&(this.eventTypeBuffer="message");var s=new l(this.eventTypeBuffer,{data:this.dataBuffer.join("\n"),lastEventId:this.lastEventIdBuffer});if(this.es.dispatchEvent(s),"message"===this.eventTypeBuffer&&h(this.es,this.es.onmessage,s),2===this.currentState)return}this.dataBuffer.length=0,this.eventTypeBuffer=""}this.state=o==="\r".charCodeAt(0)?3:4}else 4===this.state&&(this.fieldStart=n,this.state=5),5===this.state?o===":".charCodeAt(0)&&(this.valueStart=n+1,this.state=6):6===this.state&&(this.state=7)}}},b.prototype.onFinish=function(){var t,e;1!==this.currentState&&0!==this.currentState||(this.currentState=-1,0!==this.timeout&&(u(this.timeout),this.timeout=0),this.retry>16*this.initialRetry&&(this.retry=16*this.initialRetry),18e6<this.retry&&(this.retry=18e6),(t=this).timeout=a(function(){t.onTimeout()},this.retry),this.retry=2*this.retry+1,this.readyState=0,this.es.readyState=0,e=new c("error"),this.es.dispatchEvent(e),h(this.es,this.es.onerror,e))},b.prototype.onTimeout=function(){if(this.timeout=0,-1===this.currentState){this.wasActivity=!1,(e=this).timeout=a(function(){e.onTimeout()},this.heartbeatTimeout),this.currentState=0,this.dataBuffer.length=0,this.eventTypeBuffer="",this.lastEventIdBuffer=this.lastEventId,this.fieldStart=0,this.valueStart=0,this.state=4;var t="data:"!==(t=this.url.slice(0,5))&&"blob:"!==t?this.url+(-1===this.url.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(this.lastEventId)+"&r="+(Math.random()+1).toString().slice(2):this.url;try{this.transport.open(t,this.withCredentials)}catch(t){throw this.close(),t}}else{var e;this.wasActivity?(this.wasActivity=!1,(e=this).timeout=a(function(){e.onTimeout()},this.heartbeatTimeout)):(s(new Error("No activity within "+this.heartbeatTimeout+" milliseconds. Reconnecting.")),this.transport.cancel())}},b.prototype.close=function(){this.currentState=2,this.transport.cancel(),0!==this.timeout&&(u(this.timeout),this.timeout=0),this.readyState=2,this.es.readyState=2},T.prototype=n.prototype,(y.prototype=new T).close=function(){this._internal.close()},T.call(y),g&&(y.prototype.withCredentials=void 0),null==v||null!=r.EventSource&&(!g||null!=r.EventSource&&"withCredentials"in r.EventSource.prototype)||(r.NativeEventSource=r.EventSource,r.EventSource=y)}("undefined"!=typeof window?window:this)},{}],109:[function(t,e,n){},{}],108:[function(t,e,n){var r=window,i=function(){return r={},i.m=n=[function(t,e,n){var r=n(2),i=n(116),o=n(13),s=n(118),a=n(119),n=n(207),u=i("wks"),c=r.Symbol,l=n?c:c&&c.withoutSetter||s;t.exports=function(t){return o(u,t)||(a&&o(c,t)?u[t]=c[t]:u[t]=l("Symbol."+t)),u[t]}},function(n,t,e){!function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}.call(this,e(86))},function(n,t,e){!function(t){function e(t){return t&&t.Math==Math&&t}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||Function("return this")()}.call(this,e(86))},function(t,e,n){var r=n(1),i=n(87),o=n(16),s=n(94),a=n(95),n=n(157),u=i("wks"),c=r.Symbol,l=n?c:c&&c.withoutSetter||s;t.exports=function(t){return o(u,t)||(a&&o(c,t)?u[t]=c[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e,n){var r=n(147)("wks"),i=n(148),o=n(6).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var p=n(2),g=n(112).f,v=n(114),m=n(14),y=n(42),b=n(15),T=n(13);t.exports=function(t,e){var n,r,i,o,s,a=t.target,u=t.global,c=t.stat,l=t.proto,h=u?p:c?p[a]:(p[a]||{}).prototype,d=u?m:m[a]||(m[a]={}),f=d.prototype;for(n in e)o=!v(u?n:a+(c?".":"#")+n,t.forced)&&h&&T(h,n),r=d[n],o&&(i=t.noTargetGet?(s=g(h,n))&&s.value:h[n]),s=o&&i?i:e[n],o&&typeof r==typeof s||(o=t.bind&&o?y(s,p):t.wrap&&o?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}(s):l&&"function"==typeof s?y(Function.call,s):s,(t.sham||s&&s.sham||r&&r.sham)&&b(o,"sham",!0),d[n]=o,l&&(T(m,o=a+"Prototype")||b(m,o,{}),m[o][n]=s,t.real&&f&&!f[n]&&b(f,n,s)))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(23),i=n(34),o=n(32);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var s=n(1),a=n(29),u=n(16),c=n(52),r=n(53),n=n(54),i=n.get,l=n.enforce,h=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,r=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||u(n,"name")||a(n,"name",e),l(n).source=h.join("string"==typeof e?e:"")),t!==s?(i?!r&&t[e]&&(o=!0):delete t[e],o?t[e]=n:a(t,e,n)):o?t[e]=n:c(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(14),o=n(2);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports={}},function(t,e,n){var r=n(36);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){n=n(8);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e,n){n=n(4);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,n){var r=n(74),i=n(24),o=n(0)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:s?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e){t=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=t)},function(t,e,n){var r=n(48),i=n(145);t.exports=n(37)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(22),i=n(30),o=n(93);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(22),i=n(90),o=n(5),s=n(92),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var i=n(165),o=n(1);t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(23),i=n(113),o=n(10),s=n(64),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(15);t.exports=function(t,e,n,r){r&&r.enumerable?t[e]=n:i(t,e,n)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(144)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(203),i=n(63);t.exports=function(t){return r(i(t))}},function(t,e,n){var o=n(33);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){n(71);var r,i=n(227),o=n(2),s=n(26),a=n(15),u=n(20),c=n(0)("toStringTag");for(r in i){var l=o[r],l=l&&l.prototype;l&&s(l)!==c&&a(l,c,r),u[r]=u.Array}},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(217),d=n(2),f=n(9),p=n(15),g=n(13),v=n(72),n=n(73),d=d.WeakMap;c=h?(r=new d,i=r.get,o=r.has,s=r.set,a=function(t,e){return s.call(r,t,e),e},u=function(t){return i.call(r,t)||{}},function(t){return o.call(r,t)}):(n[l=v("state")]=!0,a=function(t,e){return p(t,l,e),e},u=function(t){return g(t,l)?t[l]:{}},function(t){return g(t,l)}),t.exports={set:a,get:u,has:c,enforce:function(t){return c(t)?u(t):a(t,{})},getterFor:function(n){return function(t){var e;if(!f(t)||(e=u(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){var i=n(74),o=n(34).f,s=n(15),a=n(13),u=n(224),c=n(0)("toStringTag");t.exports=function(t,e,n,r){t&&(t=n?t:t.prototype,a(t,c)||o(t,c,{configurable:!0,value:e}),r&&!i&&s(t,"toString",u))}},function(t,e,n){var o=n(47);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(21),i=n(266),o=n(267),s=Object.defineProperty;e.f=n(37)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r={};r[n(3)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(1),i=n(29);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){var n=n(89),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(158),d=n(1),f=n(11),p=n(29),g=n(16),v=n(159),n=n(96),d=d.WeakMap;c=h?(r=new d,i=r.get,o=r.has,s=r.set,a=function(t,e){return s.call(r,t,e),e},u=function(t){return i.call(r,t)||{}},function(t){return o.call(r,t)}):(n[l=v("state")]=!0,a=function(t,e){return p(t,l,e),e},u=function(t){return g(t,l)?t[l]:{}},function(t){return g(t,l)}),t.exports={set:a,get:u,has:c,enforce:function(t){return c(t)?u(t):a(t,{})},getterFor:function(n){return function(t){var e;if(!f(t)||(e=u(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},function(t,e,n){var r=n(22),i=n(161),o=n(93),s=n(56),a=n(92),u=n(16),c=n(90),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(162),i=n(39);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(58),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){function r(t,e){t=a[s(t)];return t==c||t!=u&&("function"==typeof e?i(e):!!e)}var i=n(8),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(99),n=n(62);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},function(t,e,n){"use strict";var r,h=n(60),i=n(108),d=RegExp.prototype.exec,f=String.prototype.replace,o=d,p=(r=/b*/g,d.call(n=/a/,"a"),d.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=void 0!==/()??/.exec("")[1];(p||v||g)&&(o=function(t){var e,n,r,i,o=this,s=g&&o.sticky,a=h.call(o),u=o.source,c=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),0<o.lastIndex&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),n=new RegExp("^(?:"+u+")",a)),v&&(n=new RegExp("^"+u+"$(?!\\s)",a)),p&&(e=o.lastIndex),r=d.call(s?n:o,l),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:p&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),v&&r&&1<r.length&&f.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=o},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(9);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(2),n=n(9),i=r.document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(24);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(68),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r,i,o=n(2),n=n(70),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){n=n(19);t.exports=n("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(41),i=n(216),o=n(20),s=n(44),n=n(124),a=s.set,u=s.getterFor("Array Iterator");t.exports=n(Array,"Array",function(t,e){a(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(116),i=n(118),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e,n){var r={};r[n(0)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(228).charAt,i=n(44),n=n(124),o=i.set,s=i.getterFor("String Iterator");n(String,"String",function(t){o(this,{type:"String Iterator",string:String(t),index:0})},function(){var t=s(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=r(e,n),t.index+=n.length,{value:n,done:!1})})},function(t,e,n){var r=n(26),i=n(20),o=n(0)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(33);t.exports.f=function(t){return new r(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,n){var r=n(36),i=n(6).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(274),i=n(79);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(147)("keys"),i=n(148);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(48).f,i=n(49),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(51),i=n(17),n=n(160);r||i(Object.prototype,"toString",n,{unsafe:!0})},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(88),i=n(89);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var r=n(1),n=n(52),n=r["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=n},function(t,e,n){var r=n(22),i=n(8),o=n(91);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),n=n(11),i=r.document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var i=n(11);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){n=n(8);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(t,e){t.exports={}},function(t,e,n){var r=n(51),i=n(18),o=n(3)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?t:s?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(h,d,f){var p;d.notified||(d.notified=!0,p=d.reactions,R(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&et(h,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(K("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,f&&!d.rejection&&tt(h,d)}))}function i(t,e,n){var r;Z?((r=X.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),p.dispatchEvent(r)):r={promise:e,reason:n},(e=p["on"+t])?e(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,(e=r?r:e).value=n,e.state=2,o(t,e,!0))}function u(t){return 1!==t.rejection&&!t.parent}var r,c,l,h,d=n(99),f=n(88),p=n(1),v=n(31),m=n(171),y=n(17),b=n(172),T=n(173),_=n(101),S=n(11),E=n(40),w=n(174),A=n(18),x=n(53),P=n(175),C=n(179),k=n(180),L=n(104).set,R=n(182),I=n(183),D=n(184),O=n(107),M=n(185),N=n(54),B=n(59),F=n(3),j=n(186),G=F("species"),U="Promise",H=N.get,V=N.set,W=N.getterFor(U),q=m,K=p.TypeError,X=p.document,z=p.process,Y=v("fetch"),Q=O.f,J=Q,$="process"==A(z),Z=!!(X&&X.createEvent&&p.dispatchEvent),B=B(U,function(){if(x(q)===String(q)){if(66===j)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!q.prototype.finally)return!0;if(51<=j&&/native code/.test(q))return!1;function t(t){t(function(){},function(){})}var e=q.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),C=B||!C(function(t){q.all(t).catch(function(){})}),tt=function(n,r){L.call(p,function(){var t,e=r.value;if(u(r)&&(t=M(function(){$?z.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=$||u(r)?2:1,t.error))throw t.value})},et=function(t,e){L.call(p,function(){$?z.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},nt=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw K("Promise can't be resolved itself");var i=g(t);i?R(function(){var e={done:!1};try{i.call(t,s(nt,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};B&&(q=function(t){w(this,q,U),E(t),r.call(this);var e=H(this);try{t(s(nt,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){V(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(q.prototype,{then:function(t,e){var n=W(this),r=Q(k(this,q));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=$?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),c=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(nt,t,e),this.reject=s(a,t,e)},O.f=Q=function(t){return t===q||t===l?new c(t):J(t)},f||"function"!=typeof m||(h=m.prototype.then,y(m.prototype,"then",function(t,e){var n=this;return new q(function(t,e){h.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Y&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(q,Y.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:B},{Promise:q}),T(q,U,!1,!0),_(U),l=v(U),d({target:U,stat:!0,forced:B},{reject:function(t){var e=Q(this);return e.reject.call(void 0,t),e.promise}}),d({target:U,stat:!0,forced:f||B},{resolve:function(t){return I(f&&this===l?q:this,t)}}),d({target:U,stat:!0,forced:C},{all:function(t){var a=this,e=Q(a),u=e.resolve,c=e.reject,n=M(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=Q(n),i=r.reject,e=M(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){var c=n(1),l=n(55).f,h=n(29),d=n(17),f=n(52),p=n(163),g=n(59);t.exports=function(t,e){var n,r,i,o,s=t.target,a=t.global,u=t.stat;if(n=a?c:u?c[s]||f(s,{}):(c[s]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(o=l(n,r))&&o.value:n[r],!g(a?r:s+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;p(i,o)}(t.sham||o&&o.sham)&&h(i,"sham",!0),d(n,r,i,t)}}},function(t,e,n){var r=n(166),i=n(169).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(31),i=n(30),o=n(3),s=n(22),a=o("species");t.exports=function(t){var e=r(t),t=i.f;s&&e&&!e[a]&&t(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports={}},function(t,e,n){var o=n(40);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e,n){function r(t){var e;_.hasOwnProperty(t)&&(e=_[t],delete _[t],e())}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){u.postMessage(t+"",g.protocol+"//"+g.host)}var a,u=n(1),c=n(8),l=n(18),h=n(103),d=n(181),f=n(91),p=n(105),g=u.location,v=u.setImmediate,m=u.clearImmediate,y=u.process,n=u.MessageChannel,b=u.Dispatch,T=0,_={};v&&m||(v=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return _[++T]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(T),T},m=function(t){delete _[t]},"process"==l(y)?a=function(t){y.nextTick(i(t))}:b&&b.now?a=function(t){b.now(i(t))}:n&&!p?(n=(p=new n).port2,p.port1.onmessage=o,a=h(n.postMessage,n,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||c(s)?a="onreadystatechange"in f("script")?function(t){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,u.addEventListener("message",o,!1))),t.exports={set:v,clear:m}},function(t,e,n){n=n(106);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,n){n=n(31);t.exports=n("navigator","userAgent")||""},function(t,e,n){"use strict";function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}var i=n(40);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";n=n(8);function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n(function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=n(function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},function(t,e,n){"use strict";var r=n(110),l=n(5),h=n(57),i=n(39),d=n(193),f=n(111);r("match",1,function(r,u,c){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=c(u,t,this);if(e.done)return e.value;var n=l(t),r=String(this);if(!n.global)return f(n,r);for(var i=n.unicode,o=[],s=n.lastIndex=0;null!==(a=f(n,r));){var a=String(a[0]);""===(o[s]=a)&&(n.lastIndex=d(r,h(n.lastIndex),i)),s++}return 0===s?null:o}]})},function(t,e,n){"use strict";n(61);var c=n(17),l=n(8),h=n(3),d=n(62),f=n(29),p=h("species"),g=!l(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),v="$0"==="a".replace(/./,"$0"),n=h("replace"),m=!!/./[n]&&""===/./[n]("a","$0"),y=!l(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]});t.exports=function(n,t,e,r){var o,i,s=h(n),a=!l(function(){var t={};return t[s]=function(){return 7},7!=""[n](t)}),u=a&&!l(function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[p]=function(){return e},e.flags="",e[s]=/./[s]),e.exec=function(){return t=!0,null},e[s](""),!t});a&&u&&("replace"!==n||g&&v&&!m)&&("split"!==n||y)||(o=/./[s],e=(u=e(s,""[n],function(t,e,n,r,i){return e.exec===d?a&&!i?{done:!0,value:o.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}))[0],i=u[1],c(String.prototype,n,e),c(RegExp.prototype,s,2==t?function(t,e){return i.call(t,this,e)}:function(t){return i.call(t,this)})),r&&f(RegExp.prototype[s],"sham",!0)}},function(t,e,n){var r=n(18),i=n(62);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(23),i=n(202),o=n(32),s=n(41),a=n(64),u=n(13),c=n(113),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(23),i=n(4),o=n(65);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){function r(t,e){t=a[s(t)];return t==c||t!=u&&("function"==typeof e?i(e):!!e)}var i=n(4),o=/#|\.prototype\./,s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(63);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(25),i=n(117);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(2),n=n(206),n=r["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=n},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){n=n(4);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(t,e,n){var r=n(14);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){n(213);n=n(14);t.exports=n.Array.isArray},function(t,e,n){t.exports=n(215)},function(t,e,n){var n=n(117),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,n){"use strict";function g(){return this}var v=n(12),m=n(125),y=n(127),b=n(225),T=n(45),_=n(15),S=n(35),r=n(0),E=n(25),w=n(20),n=n(126),A=n.IteratorPrototype,x=n.BUGGY_SAFARI_ITERATORS,P=r("iterator");t.exports=function(t,e,n,r,i,o,s){function a(t){if(t===i&&p)return p;if(!x&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}m(n,e,r);var u,c,l=e+" Iterator",h=!1,d=t.prototype,f=d[P]||d["@@iterator"]||i&&d[i],p=!x&&f||a(i),r="Array"==e&&d.entries||f;if(r&&(t=y(r.call(new t)),A!==Object.prototype&&t.next&&(E||y(t)===A||(b?b(t,A):"function"!=typeof t[P]&&_(t,P,g)),T(t,l,!0,!0),E&&(w[l]=g))),"values"==i&&f&&"values"!==f.name&&(h=!0,p=function(){return f.call(this)}),E&&!s||d[P]===p||_(d,P,p),w[e]=p,i)if(u={values:a("values"),keys:o?p:a("keys"),entries:a("entries")},s)for(c in u)!x&&!h&&c in d||S(d,c,u[c]);else v({target:e,proto:!0,forced:x||h},u);return u}},function(t,e,n){"use strict";function r(){return this}var i=n(126).IteratorPrototype,o=n(128),s=n(32),a=n(45),u=n(20);t.exports=function(t,e,n){e+=" Iterator";return t.prototype=o(i,{next:s(1,n)}),a(t,e,!1,!0),u[e]=r,t}},function(t,e,n){"use strict";var r,i=n(127),o=n(15),s=n(13),a=n(0),u=n(25),c=a("iterator"),n=!1;[].keys&&("next"in(a=[].keys())?(a=i(i(a)))!==Object.prototype&&(r=a):n=!0),null==r&&(r={}),u||s(r,c)||o(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:n}},function(t,e,n){var r=n(13),i=n(115),o=n(72),n=n(218),s=o("IE_PROTO"),a=Object.prototype;t.exports=n?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){function r(){}function i(t){return"<script>"+t+"<\/script>"}var o,s=n(10),a=n(219),u=n(129),c=n(73),l=n(130),h=n(65),d=n(72)("IE_PROTO"),f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=o?function(t){t.write(i("")),t.close();var e=t.parentWindow.Object;return t=null,e}(o):((e=h("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(i("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete f.prototype[u[n]];return f()};c[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=s(t),n=new r,r.prototype=null,n[d]=t):n=f(),void 0===e?n:a(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){n=n(19);t.exports=n("document","documentElement")},function(t,e,n){var r=n(10),i=n(76);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){var i=n(35);t.exports=function(t,e,n){for(var r in e)n&&n.unsafe&&t[r]?t[r]=e[r]:i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){t.exports=n(246)},function(t,e,n){n=n(2);t.exports=n.Promise},function(t,e,n){function d(t,e){this.stopped=t,this.result=e}var f=n(10),p=n(251),g=n(67),v=n(42),m=n(76),y=n(252);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,h=v(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(i=m(t)))throw TypeError("Target is not iterable");if(p(i)){for(s=0,a=g(t.length);s<a;s++)if((u=r?h(f(l=t[s])[0],l[1]):h(t[s]))&&u instanceof d)return u;return new d(!1)}o=i.call(t)}for(c=o.next;!(l=c.call(o)).done;)if("object"==typeof(u=y(o,h,l.value,r))&&u&&u instanceof d)return u;return new d(!1)}).stop=function(t){return new d(!0,t)}},function(t,e,n){var r=n(10),i=n(33),o=n(0)("species");t.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[o])?e:i(n)}},function(t,e,n){function r(t){var e;_.hasOwnProperty(t)&&(e=_[t],delete _[t],e())}function i(t){return function(){r(t)}}function o(t){r(t.data)}function s(t){u.postMessage(t+"",g.protocol+"//"+g.host)}var a,u=n(2),c=n(4),l=n(24),h=n(42),d=n(130),f=n(65),p=n(139),g=u.location,v=u.setImmediate,m=u.clearImmediate,y=u.process,n=u.MessageChannel,b=u.Dispatch,T=0,_={};v&&m||(v=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return _[++T]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},a(T),T},m=function(t){delete _[t]},"process"==l(y)?a=function(t){y.nextTick(i(t))}:b&&b.now?a=function(t){b.now(i(t))}:n&&!p?(n=(p=new n).port2,p.port1.onmessage=o,a=h(n.postMessage,n,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||c(s)?a="onreadystatechange"in f("script")?function(t){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),r(t)}}:function(t){setTimeout(i(t),0)}:(a=s,u.addEventListener("message",o,!1))),t.exports={set:v,clear:m}},function(t,e,n){n=n(70);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,n){var r=n(10),i=n(9),o=n(77);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;t=o.f(t);return(0,t.resolve)(e),t.promise}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";function y(){return this}var b=n(80),T=n(143),_=n(268),S=n(28),E=n(38),w=n(269),A=n(84),x=n(277),P=n(7)("iterator"),C=!([].keys&&"next"in[].keys());t.exports=function(t,e,n,r,i,o,s){function a(t){if(!C&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}}w(n,e,r);var u,c,l,h=e+" Iterator",d="values"==i,f=!1,p=t.prototype,g=p[P]||p["@@iterator"]||i&&p[i],v=g||a(i),m=i?d?a("entries"):v:void 0,r="Array"==e&&p.entries||g;if(r&&(l=x(r.call(new t)))!==Object.prototype&&l.next&&(A(l,h,!0),b||"function"==typeof l[P]||S(l,P,y)),d&&g&&"values"!==g.name&&(f=!0,v=function(){return g.call(this)}),b&&!s||!C&&!f&&p[P]||S(p,P,v),E[e]=v,E[h]=y,i)if(u={values:d?v:a("values"),keys:o?v:a("keys"),entries:m},s)for(c in u)c in p||_(p,c,u[c]);else T(T.P+T.F*(C||f),e,u);return u}},function(t,e,n){var g=n(6),v=n(27),m=n(46),y=n(28),b=n(49),T=function(t,e,n){var r,i,o,s=t&T.F,a=t&T.G,u=t&T.S,c=t&T.P,l=t&T.B,h=t&T.W,d=a?v:v[e]||(v[e]={}),f=d.prototype,p=a?g:u?g[e]:(g[e]||{}).prototype;for(r in n=a?e:n)(i=!s&&p&&void 0!==p[r])&&b(d,r)||(o=(i?p:n)[r],d[r]=a&&"function"!=typeof p[r]?n[r]:l&&i?m(o,g):h&&p[r]==o?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[r]=o,t&T.R&&f&&!f[r]&&y(f,r,o)))};T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128,t.exports=T},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(78),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(27),i=n(6),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(80)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){n=n(6).document;t.exports=n&&n.documentElement},function(t,e,n){var r=n(50),i=n(7)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?t:o?r(e):"Object"==(t=r(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,n){function r(){var t,e=+this;m.hasOwnProperty(e)&&(t=m[e],delete m[e],t())}function i(t){r.call(t.data)}var o,s=n(46),a=n(290),u=n(150),c=n(81),l=n(6),h=l.process,d=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,m={};d&&f||(d=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},o(v),v},f=function(t){delete m[t]},"process"==n(50)(h)?o=function(t){h.nextTick(s(r,t,1))}:g&&g.now?o=function(t){g.now(s(r,t,1))}:p?(p=(n=new p).port2,n.port1.onmessage=i,o=s(p.postMessage,p,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(o=function(t){l.postMessage(t+"","*")},l.addEventListener("message",i,!1)):o="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),r.call(t)}}:function(t){setTimeout(s(r,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){"use strict";var i=n(47);function r(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=i(n),this.reject=i(r)}t.exports.f=function(t){return new r(t)}},function(t,e){t.exports={USER_INFO_KEY:"userInfo",CONTENT_METADATA_KEY:"contentMetadata",MOST_RECENT_RESOURCE:"mostRecentResource"}},function(t,e,n){t.exports=n(156)},function(t,e,n){n(85),n(98),n(187),n(61),n(192),n(109),n(195);var a=n(197),d=n(209),f=n(233),p=n(122),g=n(237),o=n(242),v=n(134),r=n(258),i=n(260),s=n(302),u=n(304),c=n(305),l=n(154);t.exports=function(){this.geoIpClient=new i,this.queue=[],window.addEventListener("beforeunload",function(){window.sessionStorage.removeItem(l.CONTENT_METADATA_KEY),window.sessionStorage.removeItem(l.MOST_RECENT_RESOURCE)}),this._flushQueue=function(){if(r(this.queue))for(;this.queue.length;){var t=this.queue.shift();"function"==typeof t&&t()}},this.setItem=function(n,r){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new v(function(t,e){try{(i?window.sessionStorage:window.localStorage).setItem(n,o(r)),t()}catch(t){e(t)}})},this.getItem=function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new v(function(e){try{e(n?JSON.parse(window.sessionStorage.getItem(t)):JSON.parse(window.localStorage.getItem(t)))}catch(t){e(null)}})},this.getItemSync=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=null;try{n=e?JSON.parse(window.sessionStorage.getItem(t)):JSON.parse(window.localStorage.getItem(t))}catch(t){}return n},this.geoIp=function(){return this.geoIpClient.getGeoInfo().then(function(t){return t.country})},this.getReferrer=function(){var t="";try{t=document.referrer}catch(t){}return v.resolve(t)},this.getUrl=function(){var t="";try{t=window.location.href}catch(t){}return v.resolve(t)},this.getQueryParams=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,e=new g;try{var n=new g(window.location.search);if(t)e=n;else{var r=new RegExp(t,"i"),i=!0,o=!1,s=void 0;try{for(var a,u=p(f(n).call(n));!(i=(a=u.next()).done);i=!0){var c=d(a.value,2),l=c[0],h=c[1];l.match(r)&&e.append(l,h)}}catch(t){o=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}}catch(t){}return v.resolve(e)},this.getReferrerSync=function(){var t="";try{t=document.referrer}catch(t){}return t},this.getCurrentResource=function(){return v.resolve(u())},this.needsPersonalizationRefresh=function(){var o=this,s=!0;return new v(function(t){var e=u(),n=e.id,r=e.contentType,i=a(e="".concat(r,"|")).call(e,n);o.getItem(l.MOST_RECENT_RESOURCE,!0).then(function(t){return s=void 0===r&&void 0===n||t!==i,o.setItem(l.MOST_RECENT_RESOURCE,i,!0)}).then(function(){t(s)})})},this.getPersonalizationAllowed=function(){return v.resolve(s.padAllowed())},this.getPersonalizationAllowedSync=function(){return s.padAllowed()},this.getSessionInfo=function(){return c()},this.injectIFrame=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(t&&0<t.getElementsByTagName("iframe").length||""===n)return t=null,!1;var r=document.createElement("iframe");return r.setAttribute("src",n),r.setAttribute("style","width: 100%; height: "+e.height),t.appendChild(r),!(t=null)},this._flushQueue()}},function(t,e,n){n=n(95);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(1),n=n(53),r=r.WeakMap;t.exports="function"==typeof r&&/native code/.test(n(r))},function(t,e,n){var r=n(87),i=n(94),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){"use strict";var r=n(51),i=n(97);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){t=i(this,t);return!!t&&t.enumerable}:r},function(t,e,n){var r=n(8),i=n(18),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var a=n(16),u=n(164),c=n(55),l=n(30);t.exports=function(t,e){for(var n=u(e),r=l.f,i=c.f,o=0;o<n.length;o++){var s=n[o];a(t,s)||r(t,s,i(e,s))}}},function(t,e,n){var r=n(31),i=n(100),o=n(170),s=n(5);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){n=n(1);t.exports=n},function(t,e,n){var s=n(16),a=n(56),u=n(167).indexOf,c=n(96);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(56),c=n(57),l=n(168);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(58),i=Math.max,o=Math.min;t.exports=function(t,e){t=r(t);return t<0?i(t+e,0):o(t,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){n=n(1);t.exports=n.Promise},function(t,e,n){var i=n(17);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var r=n(30).f,i=n(16),o=n(3)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){function d(t,e){this.stopped=t,this.result=e}var f=n(5),p=n(176),g=n(57),v=n(103),m=n(177),y=n(178);(t.exports=function(t,e,n,r,i){var o,s,a,u,c,l,h=v(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(i=m(t)))throw TypeError("Target is not iterable");if(p(i)){for(s=0,a=g(t.length);s<a;s++)if((u=r?h(f(l=t[s])[0],l[1]):h(t[s]))&&u instanceof d)return u;return new d(!1)}o=i.call(t)}for(c=o.next;!(l=c.call(o)).done;)if("object"==typeof(u=y(o,h,l.value,r))&&u&&u instanceof d)return u;return new d(!1)}).stop=function(t){return new d(!0,t)}},function(t,e,n){var r=n(3),i=n(102),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var r=n(97),i=n(102),o=n(3)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var i=n(5);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,n){var i=n(3)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r=n(5),i=n(40),o=n(3)("species");t.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[o])?e:i(n)}},function(t,e,n){n=n(31);t.exports=n("document","documentElement")},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(1),d=n(55).f,f=n(18),p=n(104).set,g=n(105),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,n=h.Promise,y="process"==f(m),d=d(h,"queueMicrotask"),d=d&&d.value;d||(r=function(){var t,e;for(y&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=y?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):n&&n.resolve?(c=n.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(h,r)}),t.exports=d||function(t){t={fn:t,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(t,e,n){var r=n(5),i=n(11),o=n(107);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;t=o.f(t);return(0,t.resolve)(e),t.promise}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var r,i,o=n(1),n=n(106),o=o.process,o=o&&o.versions,o=o&&o.v8;o?i=(r=o.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(22),i=n(1),o=n(59),s=n(188),a=n(30).f,u=n(100).f,c=n(191),l=n(60),h=n(108),d=n(17),f=n(8),p=n(54).set,g=n(101),v=n(3)("match"),m=i.RegExp,y=m.prototype,b=/a/g,T=/a/g,_=new m(b)!==b,S=h.UNSUPPORTED_Y;if(r&&o("RegExp",!_||S||f(function(){return T[v]=!1,m(b)!=b||m(T)==T||"/a/i"!=m(b,"i")}))){for(var E=function(t,e){var n,r=this instanceof E,i=c(t),o=void 0===e;if(!r&&i&&t.constructor===E&&o)return t;_?i&&!o&&(t=t.source):t instanceof E&&(o&&(e=l.call(t)),t=t.source),S&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));r=s(_?new m(t,e):m(t,e),r?this:y,E);return S&&n&&p(r,{sticky:n}),r},w=u(m),A=0;w.length>A;)!function(e){e in E||a(E,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})}(w[A++]);(y.constructor=E).prototype=y,d(i,"RegExp",E)}g("RegExp")},function(t,e,n){var o=n(11),s=n(189);t.exports=function(t,e,n){var r,i;return s&&"function"==typeof(r=e.constructor)&&r!==n&&o(i=r.prototype)&&i!==n.prototype&&s(t,i),t}},function(t,e,n){var i=n(5),o=n(190);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(11),i=n(18),o=n(3)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(17),i=n(5),o=n(8),s=n(60),a=RegExp.prototype,u=a.toString,n=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),o="toString"!=u.name;(n||o)&&r(RegExp.prototype,"toString",function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?s.call(t):n)},{unsafe:!0})},function(t,e,n){"use strict";var r=n(194).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){function r(o){return function(t,e){var n,r=String(a(t)),i=s(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=r.charCodeAt(i))<55296||56319<e||i+1===t||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):e:o?r.slice(i,i+2):n-56320+(e-55296<<10)+65536}}var s=n(58),a=n(39);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){"use strict";var r=n(110),s=n(5),a=n(39),u=n(196),c=n(111);r("search",1,function(r,i,o){return[function(t){var e=a(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=o(i,t,this);if(e.done)return e.value;var n=s(t),e=String(this),t=n.lastIndex;u(t,0)||(n.lastIndex=0);e=c(n,e);return u(n.lastIndex,t)||(n.lastIndex=t),null===e?-1:e.index}]})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){t.exports=n(198)},function(t,e,n){n=n(199);t.exports=n},function(t,e,n){var r=n(200),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){n(201);n=n(120);t.exports=n("Array").concat},function(t,e,n){"use strict";var r=n(12),i=n(4),c=n(66),l=n(9),h=n(115),d=n(67),f=n(204),p=n(205),o=n(208),s=n(0),n=n(69),g=s("isConcatSpreadable"),i=51<=n||!i(function(){var t=[];return t[g]=!1,t.concat()[0]!==t}),o=o("concat");r({target:"Array",proto:!0,forced:!i||!o},{concat:function(t){for(var e,n,r,i=h(this),o=p(i,0),s=0,a=-1,u=arguments.length;a<u;a++)if(function(t){if(l(t)){var e=t[g];return void 0!==e?e:c(t)}}(r=-1===a?i:arguments[a])){if(9007199254740991<s+(n=d(r.length)))throw TypeError("Maximum allowed index exceeded");for(e=0;e<n;e++,s++)e in r&&f(o,s,r[e])}else{if(9007199254740991<=s)throw TypeError("Maximum allowed index exceeded");f(o,s++,r)}return o.length=s,o}})},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){t=i(this,t);return!!t&&t.enumerable}:r},function(t,e,n){var r=n(4),i=n(24),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){"use strict";var r=n(64),i=n(34),o=n(32);t.exports=function(t,e,n){e=r(e);e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(9),i=n(66),o=n(0)("species");t.exports=function(t,e){var n;return new(void 0===(n=i(t)&&("function"==typeof(n=t.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[o]))?void 0:n)?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2),i=n(15);t.exports=function(e,n){try{i(r,e,n)}catch(t){r[e]=n}return n}},function(t,e,n){n=n(119);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(4),i=n(0),o=n(69),s=i("species");t.exports=function(e){return 51<=o||!r(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(t,e,n){var r=n(210),i=n(214),o=n(232);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){var r=n(211);t.exports=function(t){if(r(t))return t}},function(t,e,n){t.exports=n(212)},function(t,e,n){n=n(121);t.exports=n},function(t,e,n){n(12)({target:"Array",stat:!0},{isArray:n(66)})},function(t,e,n){var u=n(122),c=n(229);t.exports=function(t,e){if(c(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=u(t);!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},function(t,e,n){n(43),n(75);n=n(131);t.exports=n},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(2),n=n(123),r=r.WeakMap;t.exports="function"==typeof r&&/native code/.test(n(r))},function(t,e,n){n=n(4);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(23),s=n(34),a=n(10),u=n(220);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(221),i=n(129);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var s=n(13),a=n(41),u=n(222).indexOf,c=n(73);t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!s(c,n)&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){function r(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}var u=n(41),c=n(67),l=n(223);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(68),i=Math.max,o=Math.min;t.exports=function(t,e){t=r(t);return t<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(74),i=n(26);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var i=n(10),o=n(226);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return i(t),o(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){function r(o){return function(t,e){var n,r=String(a(t)),i=s(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=r.charCodeAt(i))<55296||56319<e||i+1===t||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):e:o?r.slice(i,i+2):n-56320+(e-55296<<10)+65536}}var s=n(68),a=n(63);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e,n){t.exports=n(230)},function(t,e,n){n(43),n(75);n=n(231);t.exports=n},function(t,e,n){var r=n(26),i=n(0),o=n(20),s=i("iterator");t.exports=function(t){t=Object(t);return void 0!==t[s]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports=n(234)},function(t,e,n){n(43);var r=n(235),i=n(26),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===o||t instanceof Array&&e===o.entries||s.hasOwnProperty(i(t))?r:e}},function(t,e,n){n=n(236);t.exports=n},function(t,e,n){n(71);n=n(120);t.exports=n("Array").entries},function(t,e,n){t.exports=n(238)},function(t,e,n){n=n(239);t.exports=n},function(t,e,n){n(240);n=n(14);t.exports=n.URLSearchParams},function(t,e,n){"use strict";function i(e){try{return decodeURIComponent(e)}catch(t){return e}}function o(t){var e,n=t.replace(D," "),r=4;try{return decodeURIComponent(n)}catch(t){for(;r;)n=n.replace((e=r--,O[e-1]||(O[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),i);return n}}function r(t){return N[t]}function s(t){return encodeURIComponent(t).replace(M,r)}function l(t,e){if(e)for(var n,r=e.split("&"),i=0;i<r.length;)(n=r[i++]).length&&(n=n.split("="),t.push({key:o(n.shift()),value:o(n.join("="))}))}function h(t){this.entries.length=0,l(this.entries,t)}function c(t,e){if(t<e)throw TypeError("Not enough arguments")}n(71);var a=n(12),u=n(19),d=n(241),f=n(35),p=n(132),g=n(45),v=n(125),m=n(44),y=n(133),b=n(13),T=n(42),_=n(26),S=n(10),E=n(9),w=n(128),A=n(32),x=n(131),P=n(76),n=n(0),C=u("fetch"),k=u("Headers"),n=n("iterator"),L=m.set,R=m.getterFor("URLSearchParams"),I=m.getterFor("URLSearchParamsIterator"),D=/\+/g,O=Array(4),M=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=v(function(t,e){L(this,{type:"URLSearchParamsIterator",iterator:x(R(t).entries),kind:e})},"Iterator",function(){var t=I(this),e=t.kind,n=t.iterator.next(),t=n.value;return n.done||(n.value="keys"===e?t.key:"values"===e?t.value:[t.key,t.value]),n}),F=function(){y(this,F,"URLSearchParams");var t,e,n,r,i,o,s,a,u=0<arguments.length?arguments[0]:void 0,c=[];if(L(this,{type:"URLSearchParams",entries:c,updateURL:function(){},updateSearchParams:h}),void 0!==u)if(E(u))if("function"==typeof(t=P(u)))for(n=(e=t.call(u)).next;!(o=n.call(e)).done;){if((o=(i=(r=x(S(o.value))).next).call(r)).done||(s=i.call(r)).done||!i.call(r).done)throw TypeError("Expected sequence with length 2");c.push({key:o.value+"",value:s.value+""})}else for(a in u)b(u,a)&&c.push({key:a,value:u[a]+""});else l(c,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},v=F.prototype;p(v,{append:function(t,e){c(arguments.length,2);var n=R(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){c(arguments.length,1);for(var e=R(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){c(arguments.length,1);for(var e=R(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){c(arguments.length,1);for(var e=R(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){c(arguments.length,1);for(var e=R(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){c(arguments.length,1);for(var n,r=R(this),i=r.entries,o=!1,s=t+"",a=e+"",u=0;u<i.length;u++)(n=i[u]).key===s&&(o?i.splice(u--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){for(var t,e,n=R(this),r=n.entries,i=r.slice(),o=r.length=0;o<i.length;o++){for(t=i[o],e=0;e<o;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===o&&r.push(t)}n.updateURL()},forEach:function(t){for(var e,n=R(this).entries,r=T(t,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),f(v,n,v.entries),f(v,"toString",function(){for(var t,e=R(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(s(t.key)+"="+s(t.value));return n.join("&")},{enumerable:!0}),g(F,"URLSearchParams"),a({global:!0,forced:!d},{URLSearchParams:F}),d||"function"!=typeof C||"function"!=typeof k||a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r=[t];return 1<arguments.length&&(E(e=arguments[1])&&(n=e.body,"URLSearchParams"===_(n)&&((t=e.headers?new k(e.headers):new k).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=w(e,{body:A(0,String(n)),headers:A(0,t)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:F,getState:R}},function(t,e,n){var r=n(4),i=n(0),o=n(25),s=i("iterator");t.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),n=t.searchParams,r="";return t.pathname="c%20d",n.forEach(function(t,e){n.delete("b"),r+=e+t}),o&&!t.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},function(t,e,n){t.exports=n(243)},function(t,e,n){n=n(244);t.exports=n},function(t,e,n){n(245);var r=n(14);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return r.JSON.stringify.apply(null,arguments)}},function(t,e,n){function i(t,e,n){var r=n.charAt(e-1),e=n.charAt(e+1);return u.test(t)&&!c.test(e)||c.test(t)&&!u.test(r)?"\\u"+t.charCodeAt(0).toString(16):t}var r=n(12),o=n(19),n=n(4),s=o("JSON","stringify"),a=/[\uD800-\uDFFF]/g,u=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,n=n(function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")});s&&r({target:"JSON",stat:!0,forced:n},{stringify:function(t,e,n){var r=s.apply(null,arguments);return"string"==typeof r?r.replace(a,i):r}})},function(t,e,n){n=n(247);t.exports=n},function(t,e,n){n(248),n(75),n(43),n(249),n(256),n(257);n=n(14);t.exports=n.Promise},function(t,e){},function(t,e,n){"use strict";function g(t){var e;return!(!S(t)||"function"!=typeof(e=t.then))&&e}function o(h,d,f){var p;d.notified||(d.notified=!0,p=d.reactions,R(function(){for(var t=d.value,e=1==d.state,n=0;p.length>n;){var r,i,o,s=p[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,l=s.domain;try{a?(e||(2===d.rejection&&et(h,d),d.rejection=1),!0===a?r=t:(l&&l.enter(),r=a(t),l&&(l.exit(),o=!0)),r===s.promise?c(K("Promise-chain cycle")):(i=g(r))?i.call(r,u,c):u(r)):c(t)}catch(t){l&&!o&&l.exit(),c(t)}}d.reactions=[],d.notified=!1,f&&!d.rejection&&tt(h,d)}))}function i(t,e,n){var r;Z?((r=X.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),p.dispatchEvent(r)):r={promise:e,reason:n},(e=p["on"+t])?e(r):"unhandledrejection"===t&&D("Unhandled promise rejection",n)}function s(e,n,r,i){return function(t){e(n,r,t,i)}}function a(t,e,n,r){e.done||(e.done=!0,(e=r?r:e).value=n,e.state=2,o(t,e,!0))}function u(t){return 1!==t.rejection&&!t.parent}var r,c,l,h,d=n(12),f=n(25),p=n(2),v=n(19),m=n(135),y=n(35),b=n(132),T=n(45),_=n(250),S=n(9),E=n(33),w=n(133),A=n(24),x=n(123),P=n(136),C=n(253),k=n(137),L=n(138).set,R=n(254),I=n(140),D=n(255),O=n(77),M=n(141),N=n(44),B=n(114),F=n(0),j=n(69),G=F("species"),U="Promise",H=N.get,V=N.set,W=N.getterFor(U),q=m,K=p.TypeError,X=p.document,z=p.process,Y=v("fetch"),Q=O.f,J=Q,$="process"==A(z),Z=!!(X&&X.createEvent&&p.dispatchEvent),B=B(U,function(){if(x(q)===String(q)){if(66===j)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!q.prototype.finally)return!0;if(51<=j&&/native code/.test(q))return!1;function t(t){t(function(){},function(){})}var e=q.resolve(1);return(e.constructor={})[G]=t,!(e.then(function(){})instanceof t)}),C=B||!C(function(t){q.all(t).catch(function(){})}),tt=function(n,r){L.call(p,function(){var t,e=r.value;if(u(r)&&(t=M(function(){$?z.emit("unhandledRejection",e,n):i("unhandledrejection",n,e)}),r.rejection=$||u(r)?2:1,t.error))throw t.value})},et=function(t,e){L.call(p,function(){$?z.emit("rejectionHandled",t):i("rejectionhandled",t,e.value)})},nt=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw K("Promise can't be resolved itself");var i=g(t);i?R(function(){var e={done:!1};try{i.call(t,s(nt,n,e,r),s(a,n,e,r))}catch(t){a(n,e,t,r)}}):(r.value=t,r.state=1,o(n,r,!1))}catch(t){a(n,{done:!1},t,r)}}};B&&(q=function(t){w(this,q,U),E(t),r.call(this);var e=H(this);try{t(s(nt,this,e),s(a,this,e))}catch(t){a(this,e,t)}},(r=function(t){V(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=b(q.prototype,{then:function(t,e){var n=W(this),r=Q(k(this,q));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=$?z.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),c=function(){var t=new r,e=H(t);this.promise=t,this.resolve=s(nt,t,e),this.reject=s(a,t,e)},O.f=Q=function(t){return t===q||t===l?new c(t):J(t)},f||"function"!=typeof m||(h=m.prototype.then,y(m.prototype,"then",function(t,e){var n=this;return new q(function(t,e){h.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Y&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(q,Y.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:B},{Promise:q}),T(q,U,!1,!0),_(U),l=v(U),d({target:U,stat:!0,forced:B},{reject:function(t){var e=Q(this);return e.reject.call(void 0,t),e.promise}}),d({target:U,stat:!0,forced:f||B},{resolve:function(t){return I(f&&this===l?q:this,t)}}),d({target:U,stat:!0,forced:C},{all:function(t){var a=this,e=Q(a),u=e.resolve,c=e.reject,n=M(function(){var r=E(a.resolve),i=[],o=0,s=1;P(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s||u(i))},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=Q(n),i=r.reject,e=M(function(){var e=E(n.resolve);P(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}})},function(t,e,n){"use strict";var r=n(19),i=n(34),o=n(0),s=n(23),a=o("species");t.exports=function(t){var e=r(t),t=i.f;s&&e&&!e[a]&&t(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(0),i=n(20),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var i=n(10);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,n){var i=n(0)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var r,i,o,s,a,u,c,l,h=n(2),d=n(112).f,f=n(24),p=n(138).set,g=n(139),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,n=h.Promise,y="process"==f(m),d=d(h,"queueMicrotask"),d=d&&d.value;d||(r=function(){var t,e;for(y&&(t=m.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},s=y?function(){m.nextTick(r)}:v&&!g?(a=!0,u=document.createTextNode(""),new v(r).observe(u,{characterData:!0}),function(){u.data=a=!a}):n&&n.resolve?(c=n.resolve(void 0),l=c.then,function(){l.call(c,r)}):function(){p.call(h,r)}),t.exports=d||function(t){t={fn:t,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(12),c=n(33),i=n(77),o=n(141),l=n(136);r({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=i.f(a),u=e.resolve,n=e.reject,r=o(function(){var r=c(a.resolve),i=[],o=0,s=1;l(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--s||u(i))},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--s||u(i))})}),--s||u(i)});return r.error&&n(r.value),e.promise}})},function(t,e,n){"use strict";var r=n(12),i=n(25),o=n(135),s=n(4),a=n(19),u=n(137),c=n(140),n=n(35);r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var n=u(this,a("Promise")),t="function"==typeof e;return this.then(t?function(t){return c(n,e()).then(function(){return t})}:e,t?function(t){return c(n,e()).then(function(){throw t})}:e)}}),i||"function"!=typeof o||o.prototype.finally||n(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){t.exports=n(259)},function(t,e,n){n=n(121);t.exports=n},function(t,e,n){"use strict";n(261),n(298);var r=n(300),i={country:"US",region:"US"};function o(t){var e=(t=void 0!==t?t:{}).url||"https://location.bloomberg.com";this.url=e+"/query",this.timeout=t.timeout||2e3,function(){try{new window.CustomEvent("test")}catch(t){var e=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}}()}function s(){window._geoIpInfo?console.log("Geo IP client is already intialized."):(new o).getGeoInfo()}o.prototype={getGeoInfo:function(){if(window._geoIpInfo)return Promise.resolve(window._geoIpInfo);if(window._geoIPRequest)return window._geoIPRequest;var t=r.getGeoInfo(),e=this;return t?(t.expired&&setTimeout(function(){e._queryGeoIpService().then(function(t){r.setGeoInfo(t)}).catch(function(){console.log("GeoIP cache refresh failed.")})},3e3),e._dispatchGeoIpReadyEvent(t.geoInfo),Promise.resolve(t.geoInfo)):(window._geoIPRequest=e._queryGeoIpService().then(function(t){return r.setGeoInfo(t),e._dispatchGeoIpReadyEvent(t),t}).catch(function(){return e._dispatchGeoIpReadyEvent(i),i}),window._geoIPRequest)},_queryGeoIpService:function(){var t=this;return new Promise(function(e,n){fetch(t.url).then(function(t){return t.ok?t.json():void n(new Error("Error while fetching geo-IP URL"))}).then(function(t){t?e({country:t.country,region:t.trackingRegion}):n(new Error("Empty data from service."))}).catch(function(){n(new Error("Error response from service."))}),setTimeout(function(){n(new Error("Timeout"))},t.timeout)})},_dispatchGeoIpReadyEvent:function(t){var e=new window.CustomEvent("geo-ip-ready",{detail:t});window._geoIpInfo=t,window.dispatchEvent(e)}},"interactive"===document.readyState||"complete"===document.readyState?s():document.addEventListener("DOMContentLoaded",s),t.exports=o},function(t,e,n){"use strict";"undefined"!=typeof window&&(n=n(262),window.Promise=window.Promise||n)},function(t,e,n){n(263),n(264),n(279),n(283),t.exports=n(27).Promise},function(t,e){},function(t,e,n){"use strict";var r=n(265)(!0);n(142)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(e=r(t,e),this._i+=e.length,{value:e,done:!1})})},function(t,e,n){var s=n(78),a=n(79);t.exports=function(o){return function(t,e){var n,r=String(a(t)),i=s(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=r.charCodeAt(i))<55296||56319<e||i+1===t||(n=r.charCodeAt(i+1))<56320||57343<n?o?r.charAt(i):e:o?r.slice(i,i+2):n-56320+(e-55296<<10)+65536}}},function(t,e,n){t.exports=!n(37)&&!n(144)(function(){return 7!=Object.defineProperty(n(81)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(36);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=n(28)},function(t,e,n){"use strict";var r=n(270),i=n(145),o=n(84),s={};n(28)(s,n(7)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){function r(){}var i=n(21),o=n(271),s=n(149),a=n(83)("IE_PROTO"),u=function(){var t=n(81)("iframe"),e=s.length;for(t.style.display="none",n(150).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;e--;)delete u.prototype[s[e]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=i(t),n=new r,r.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var s=n(48),a=n(21),u=n(272);t.exports=n(37)?Object.defineProperties:function(t,e){a(t);for(var n,r=u(e),i=r.length,o=0;o<i;)s.f(t,n=r[o++],e[n]);return t}},function(t,e,n){var r=n(273),i=n(149);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var s=n(49),a=n(82),u=n(275)(!1),c=n(83)("IE_PROTO");t.exports=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)n!=c&&s(r,n)&&o.push(n);for(;e.length>i;)s(r,n=e[i++])&&(~u(o,n)||o.push(n));return o}},function(t,e,n){var r=n(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var u=n(82),c=n(146),l=n(276);t.exports=function(a){return function(t,e,n){var r,i=u(t),o=c(i.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}},function(t,e,n){var r=n(78),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(49),i=n(278),o=n(83)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(79);t.exports=function(t){return Object(r(t))}},function(t,e,n){n(280);for(var r=n(6),i=n(28),o=n(38),s=n(7)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],l=l&&l.prototype;l&&!l[s]&&i(l,s,c),o[c]=o.Array}},function(t,e,n){"use strict";var r=n(281),i=n(282),o=n(38),s=n(82);t.exports=n(142)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";function r(){}function h(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e}function i(l,e){var n;l._n||(l._n=!0,n=l._c,E(function(){for(var u=l._v,c=1==l._s,t=0;n.length>t;)!function(t){var e,n,r,i=c?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain;try{i?(c||(2==l._h&&N(l),l._h=1),!0===i?e=u:(a&&a.enter(),e=i(u),a&&(a.exit(),r=!0)),e===t.promise?s(C("Promise-chain cycle")):(n=h(e))?n.call(e,o,s):o(e)):s(u)}catch(t){a&&!r&&a.exit(),s(t)}}(n[t++]);l._c=[],l._n=!1,e&&!l._h&&M(l)}))}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),i(e,!0))}function s(t){return 1!==t._h&&0===(t._a||t._c).length}var a,u,c,l,d=n(80),f=n(6),p=n(46),g=n(151),v=n(143),m=n(36),y=n(47),b=n(284),T=n(285),_=n(289),S=n(152).set,E=n(291)(),w=n(153),A=n(292),x=n(293),P=n(294),C=f.TypeError,k=f.process,L=k&&k.versions,R=L&&L.v8||"",I=f.Promise,D="process"==g(k),O=u=w.f,g=!!function(){try{var t=I.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t(r,r)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(r)instanceof e&&0!==R.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),M=function(i){S.call(f,function(){var t,e,n=i._v,r=s(i);if(r&&(t=A(function(){D?k.emit("unhandledRejection",n,i):(e=f.onunhandledrejection)?e({promise:i,reason:n}):(e=f.console)&&e.error&&e.error("Unhandled promise rejection",n)}),i._h=D||s(i)?2:1),i._a=void 0,r&&t.e)throw t.v})},N=function(e){S.call(f,function(){var t;D?k.emit("rejectionHandled",e):(t=f.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw C("Promise can't be resolved itself");(n=h(t))?E(function(){var e={_w:r,_d:!1};try{n.call(t,p(B,e,1),p(o,e,1))}catch(t){o.call(e,t)}}):(r._v=t,r._s=1,i(r,!1))}catch(t){o.call({_w:r,_d:!1},t)}}};g||(I=function(t){b(this,I,"Promise","_h"),y(t),a.call(this);try{t(p(B,this,1),p(o,this,1))}catch(t){o.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(295)(I.prototype,{then:function(t,e){var n=O(_(this,I));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=D?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&i(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),c=function(){var t=new a;this.promise=t,this.resolve=p(B,t,1),this.reject=p(o,t,1)},w.f=O=function(t){return t===I||t===l?new c(t):u(t)}),v(v.G+v.W+v.F*!g,{Promise:I}),n(84)(I,"Promise"),n(296)("Promise"),l=n(27).Promise,v(v.S+v.F*!g,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),v(v.S+v.F*(d||!g),"Promise",{resolve:function(t){return P(d&&this===l?I:this,t)}}),v(v.S+v.F*!(g&&n(297)(function(t){I.all(t).catch(r)})),"Promise",{all:function(t){var s=this,e=O(s),a=e.resolve,u=e.reject,n=A(function(){var r=[],i=0,o=1;T(t,!1,function(t){var e=i++,n=!1;r.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,r[e]=t,--o||a(r))},u)}),--o||a(r)});return n.e&&u(n.v),e.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=A(function(){T(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var h=n(46),d=n(286),f=n(287),p=n(21),g=n(146),v=n(288),m={},y={};(e=t.exports=function(t,e,n,r,i){var o,s,a,u,i=i?function(){return t}:v(t),c=h(n,r,e?2:1),l=0;if("function"!=typeof i)throw TypeError(t+" is not iterable!");if(f(i)){for(o=g(t.length);l<o;l++)if((u=e?c(p(s=t[l])[0],s[1]):c(t[l]))===m||u===y)return u}else for(a=i.call(t);!(s=a.next()).done;)if((u=d(a,c,s.value,e))===m||u===y)return u}).BREAK=m,e.RETURN=y},function(t,e,n){var i=n(21);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){n=t.return;throw void 0!==n&&i(n.call(t)),e}}},function(t,e,n){var r=n(38),i=n(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(151),i=n(7)("iterator"),o=n(38);t.exports=n(27).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(21),i=n(47),o=n(7)("species");t.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[o])?e:i(n)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var a=n(6),u=n(152).set,c=a.MutationObserver||a.WebKitMutationObserver,l=a.process,h=a.Promise,d="process"==n(50)(l);t.exports=function(){function t(){var t,e;for(d&&(t=l.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?i():r=void 0,t}}r=void 0,t&&t.enter()}var n,r,e,i,o,s;return i=d?function(){l.nextTick(t)}:!c||a.navigator&&a.navigator.standalone?h&&h.resolve?(e=h.resolve(void 0),function(){e.then(t)}):function(){u.call(a,t)}:(o=!0,s=document.createTextNode(""),new c(t).observe(s,{characterData:!0}),function(){s.data=o=!o}),function(t){t={fn:t,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){n=n(6).navigator;t.exports=n&&n.userAgent||""},function(t,e,n){var r=n(21),i=n(36),o=n(153);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;t=o.f(t);return(0,t.resolve)(e),t.promise}},function(t,e,n){var i=n(28);t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},function(t,e,n){"use strict";var r=n(6),i=n(27),o=n(48),s=n(37),a=n(7)("species");t.exports=function(t){t=("function"==typeof i[t]?i:r)[t];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(7)("iterator"),s=!1;try{var r=[7][o]();r.return=function(){s=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},t(r)}catch(t){}return n}},function(t,e,n){"use strict";"undefined"!=typeof window&&n(299)},function(t,e){!function(t){"use strict";var e,n,s,r,i,o,a,u,c,l;function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return t="string"!=typeof t?String(t):t}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function v(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function m(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(s&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(r&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(i&&s&&a(t))this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(t)&&!u(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,n=g(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,n=v(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function T(t,e){var n,r=(e=e||{}).body;if(t instanceof T){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(t=(n=e.method||this.method||"GET").toUpperCase(),-1<c.indexOf(t)?t:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(t){var n=new FormData;return t.trim().split("&").forEach(function(t){var e;t&&(t=(e=t.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),n.append(decodeURIComponent(t),decodeURIComponent(e)))}),n}function S(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}t.fetch||(e="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,s="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in t,(i="ArrayBuffer"in t)&&(o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(t){return t&&DataView.prototype.isPrototypeOf(t)},u=ArrayBuffer.isView||function(t){return t&&-1<o.indexOf(Object.prototype.toString.call(t))}),p.prototype.append=function(t,e){t=h(t),e=d(e);var n=this.map[t];this.map[t]=n?n+","+e:e},p.prototype.delete=function(t){delete this.map[h(t)]},p.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},p.prototype.set=function(t,e){this.map[h(t)]=d(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),f(n)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),f(e)},p.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),f(n)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},b.call(T.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t},l=[301,302,303,307,308],S.redirect=function(t,e){if(-1===l.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},t.Headers=p,t.Request=T,t.Response=S,t.fetch=function(n,o){return new Promise(function(r,t){var e=new T(n,o),i=new XMLHttpRequest;i.onload=function(){var n,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",n=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var e=t.split(":"),t=e.shift().trim();t&&(e=e.join(":").trim(),n.append(t,e))}),n)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new S(e,t))},i.onerror=function(){t(new TypeError("Network request failed"))},i.ontimeout=function(){t(new TypeError("Network request failed"))},i.open(e.method,e.url,!0),"include"===e.credentials?i.withCredentials=!0:"omit"===e.credentials&&(i.withCredentials=!1),"responseType"in i&&s&&(i.responseType="blob"),e.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===e._bodyInit?null:e._bodyInit)})},t.fetch.polyfill=!0)}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";var r=n(301);function i(t,e){return new Date(t.getTime()+864e5*e)}t.exports={setGeoInfo:function(t){var e=new Date,n=i(e,7).getTime(),t=JSON.stringify(t)+"|"+n,n=window.location.hostname,e=i(e,365);r.set("bb_geo_info",t,e,"/",n)},getGeoInfo:function(){var t=r.get("bb_geo_info");if(t){var e=t.split("|"),t=parseInt(e[1],10);return{expired:(new Date).getTime()>t,geoInfo:JSON.parse(e[0])}}return null}}},function(t,e,n){"use strict";t.exports={get:function(t){t=document.cookie.match("(^|;) ?"+t+"=([^;$]*)");return t?t[2]:null},set:function(t,e,n,r,i){n=n?"; expires="+n.toGMTString():"";document.cookie=t+"="+e+n+(r?"; path="+r:"; path=/")+(i?"; domain="+i:"")}}},function(t,e,n){t.exports=n(303).default},function(t,e){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r;t.exports=(r={},i.m=n=[function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){t=document.cookie.match("(^|;) ?".concat(t,"=([^;$]*)"));return t?t[2]:""}function i(t,e){return-1!==t.indexOf(e)}function u(e){window.__tcfapi("removeEventListener",2,function(t){t||console.warn("[ms.consent] Failed to remove __tcfapi event listener",e)},e)}function o(){return i(r("bbgconsentstring"),"req1")}function s(){return i(r("bbgconsentstring"),"fun1")}function a(){return i(r("bbgconsentstring"),"pad1")}n.r(e),e.default={waitForUserConsent:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(i,o){if(!window.__tcfapi||!window.__uspapi)return console.error("[ms.consent] Please make sure __tcfapi and __uspapi are setup"),o(new Error("__tcfapi and __uspapi not loaded"));var s=!1,a=setTimeout(function(){console.error("[ms.consent] Timeout in `waitForUserConsent` with options",t),o(new Error("No response from __tcfapi event listener"))},t.inactiveTimeout||1e4);window.__tcfapi("addEventListener",2,function(t,e){return e?void(s||(void 0!==t.gdprApplies?(clearTimeout(a),n=t.gdprApplies,r=t.eventStatus,e=t.listenerId,n?"tcloaded"!==r&&"useractioncomplete"!==r||(i({tcData:t}),u(e),s=!0):(window.__uspapi("getUSPData",1,function(t,e){return e?void i({uspData:t}):(console.error("[ms.consent] Failed to `getUSPData` with __uspapi"),o(new Error("Unable to get US privacy data from __uspapi")))}),u(e),s=!0)):console.warn("[ms.consent] Received `gdprApplies` as undefined"))):(console.error("[ms.consent] Failed to `addEventListener` with __tcfapi"),o(new Error("Unable to assign event listener")));var n,r})})},gdprAppliesAsync:function(){return window.__tcfapi?new Promise(function(n,r){window.__tcfapi("getTCData",2,function(t,e){e?n(t.gdprApplies):r(new Error("Failed to `getTCData` from __tcfapi"))})}):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},iabConsentStringAsync:function(){return window.__tcfapi?new Promise(function(n,r){window.__tcfapi("getTCData",2,function(t,e){e?n(t.tcString):r(new Error("Failed to `getTCData` from __tcfapi"))})}):Promise.reject(new Error("Unable to find __tcfapi in global scope"))},getUSPrivacyStringAsync:function(){return window.__uspapi?new Promise(function(n,r){window.__uspapi("getUSPData",1,function(t,e){e?n(t.uspString):r(new Error("Failed to `getUSPData` from __uspapi"))})}):Promise.reject(new Error("Unable to find __uspapi in global scope"))},reqAllowed:o,reqAllowedAsync:function(){return Promise.resolve(o())},funAllowed:s,funAllowedAsync:function(){return Promise.resolve(s())},padAllowed:a,padAllowedAsync:function(){return Promise.resolve(a())}}}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0))},function(t,e,n){"use strict";var r=n(154);t.exports=function(){try{var t=JSON.parse(window.sessionStorage.getItem(r.CONTENT_METADATA_KEY)),e=t.id,n=t.contentType;if(void 0!==e&&void 0!==n)return{id:e,contentType:n}}catch(t){}return{}}},function(t,e,n){n(85),n(98);var s=n(306),r=n(134),a=n(309);function u(t){var e=0<arguments.length&&void 0!==t&&t,n=a.get(document,"session_id"),r=a.get(document,"session_key"),i=a.get(document,"agent_id"),o=a.get(document,"_breg-uid");return n&&r&&i&&o||e?{sessionId:n,sessionKey:r,agentId:i,userId:o}:null}function c(t){var e=t.sessionId,n=t.sessionKey,r=t.agentId,i=t.userId,t={};return e&&(t.session_id=e),n&&(t.session_key=n),r&&(t.agent_id=r),i&&(t.breg=i),t}t.exports=function(){var o=window._regUserInfo||u();return o?r.resolve(c(o)):new r(function(n,r){try{function i(t){var e=t.detail;window.removeEventListener("reg-user-info-ready",i),o=e;try{n(c(o))}catch(t){return r("exception in _formatUserInfo")}}window.addEventListener("reg-user-info-ready",i),s(function(){window.removeEventListener("reg-user-info-ready",i),o=u(!0),n(c(o))},2e3)}catch(t){return window.removeEventListener("reg-user-info-ready",userInfoEventListener),r("exception in getSessionInfo")}})}},function(t,e,n){t.exports=n(307)},function(t,e,n){n(308);n=n(14);t.exports=n.setTimeout},function(t,e,n){function r(i){return function(t,e){var n=2<arguments.length,r=n?s.call(arguments,2):void 0;return i(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}}var i=n(12),o=n(2),n=n(70),s=[].slice;i({global:!0,bind:!0,forced:/MSIE .\./.test(n)},{setTimeout:r(o.setTimeout),setInterval:r(o.setInterval)})},function(t,e,n){n(61),n(109),t.exports={get:function(t,e){if(t&&t.cookie){e=t.cookie.match("(^|;) ?"+e+"=([^;$]*)");if(e)return e[2]}return null}}}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=155);function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r};"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.bridgeWebModule=i():r.bridgeWebModule=i()},{}],28:[function(r,i,o){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function n(t){this.addChild("Chromecast",t)}Object.defineProperty(o,"__esModule",{value:!0});t=e("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null);e(r("./videojs-chromecast")),(t.default.registerPlugin||t.default.plugin)("chromecast",n),o.default=n,i.exports=o.default}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./videojs-chromecast":30}],30:[function(o,s,a){!function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var n=e("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),r=(e(o("./component/control-bar/chromecast-button")),e(o("./tech/chromecast")),n.default.getComponent("Component")),t=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),i);function i(t,e){!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),function(t,e,n){for(var r=!0;r;){var i=t,o=e,s=n,r=!1;null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}i=Object.getPrototypeOf(i);if(null===i)return;t=i,e=o,n=s,r=!0,a=void 0}}(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,t,e)}t.prototype.options_={},n.default.options.children.push("chromecast"),n.default.addLanguage("en",{"CASTING TO":"WIEDERGABE AUF"}),n.default.addLanguage("de",{"CASTING TO":"WIEDERGABE AUF"}),n.default.addLanguage("it",{"CASTING TO":"PLAYBACK SU"}),n.default.addLanguage("fr",{"CASTING TO":"CAST EN COURS SUR"}),r.registerComponent("Chromecast",t),a.default=t,s.exports=a.default}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./component/control-bar/chromecast-button":27,"./tech/chromecast":29}],29:[function(t,s,a){!function(t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){for(var r=!0;r;){var i=t,o=e,s=n,r=!1;null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}i=Object.getPrototypeOf(i);if(null===i)return;t=i,e=o,n=s,r=!0,a=void 0}}var n,r,i,t="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,l=t&&t.__esModule?t:{default:t},t=(l.default.getComponent("Component"),l.default.getComponent("Tech")),o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,t),n=h,(r=[{key:"createEl",value:function(){return l.default.createEl("div",{id:this.options_.techId,className:"vjs-tech vjs-tech-chromecast"})}},{key:"update",value:function(){this.el_.innerHTML='<div class="casting-image" style="background-image: url(\''+this.options_.poster+'\')"></div><div class="casting-overlay"><div class="casting-information"><div class="casting-icon"></div><div class="casting-description"><small>'+this.localize("CASTING TO")+"</small><br>"+this.receiver+"</div></div></div>"}},{key:"onSessionUpdate",value:function(t){if(this.apiMedia)return t?void 0:this.onStopAppSuccess()}},{key:"onStopAppSuccess",value:function(){this.stopTrackingCurrentTime(),this.apiMedia=null}},{key:"onMediaStatusUpdate",value:function(){if(this.apiMedia)switch(this.apiMedia.playerState){case chrome.cast.media.PlayerState.BUFFERING:this.trigger("waiting");break;case chrome.cast.media.PlayerState.IDLE:this.trigger("timeupdate"),this.trigger("ended");break;case chrome.cast.media.PlayerState.PAUSED:this.trigger("pause"),this.paused_=!0;break;case chrome.cast.media.PlayerState.PLAYING:this.trigger("playing"),this.trigger("play"),this.paused_=!1}}},{key:"src",value:function(t){}},{key:"currentSrc",value:function(){if(this.apiMedia)return this.apiMedia.media.contentId}},{key:"handleAudioTracksChange",value:function(){var t=[],e=this.textTracks(),n=this.audioTracks();if(n){for(var r=0;r<n.length;r++)n[r].enabled&&t.push(r+1+e.length);return this.apiMedia&&t.length?(this.tracksInfoRequest=new chrome.cast.media.EditTracksInfoRequest(t),this.apiMedia.editTracksInfo(this.tracksInfoRequest,this.onTrackSuccess.bind(this),this.onTrackError.bind(this))):void 0}}},{key:"handleVideoTracksChange",value:function(){}},{key:"handleTextTracksChange",value:function(){var t=[],e=this.textTracks();if(e){for(var n=0;n<e.length;n++)"showing"===e[n].mode&&t.push(n+1);return this.apiMedia&&t.length?(this.tracksInfoRequest=new chrome.cast.media.EditTracksInfoRequest(t),this.apiMedia.editTracksInfo(this.tracksInfoRequest,this.onTrackSuccess.bind(this),this.onTrackError.bind(this))):void 0}}},{key:"onTrackSuccess",value:function(){return l.default.log("track added")}},{key:"onTrackError",value:function(t){return l.default.log("Cast track Error: "+JSON.stringify(t))}},{key:"castError",value:function(t){return l.default.log("Cast Error: "+JSON.stringify(t))}},{key:"play",value:function(){if(this.apiMedia)return this.paused_&&this.apiMedia.play(null,this.mediaCommandSuccessCallback.bind(this,"Playing: "+this.apiMedia.sessionId),this.castError.bind(this)),this.paused_=!1}},{key:"pause",value:function(){if(this.apiMedia)return this.paused_?void 0:(this.apiMedia.pause(null,this.mediaCommandSuccessCallback.bind(this,"Paused: "+this.apiMedia.sessionId),this.castError.bind(this)),this.paused_=!0)}},{key:"paused",value:function(){return this.paused_}},{key:"ended",value:function(){return"FINISHED"===chrome.cast.media.IdleReason}},{key:"currentTime",value:function(){return this.apiMedia?this.apiMedia.getEstimatedTime():0}},{key:"setCurrentTime",value:function(t){if(!this.apiMedia)return 0;var e=void 0;return(e=new chrome.cast.media.SeekRequest).currentTime=t,this.apiMedia.seek(e,this.onSeekSuccess.bind(this,t),this.castError.bind(this))}},{key:"onSeekSuccess",value:function(t){l.default.log("seek success"+t)}},{key:"volume",value:function(){return this.volume_}},{key:"duration",value:function(){return this.apiMedia?this.apiMedia.media.duration||1/0:0}},{key:"controls",value:function(){return!1}},{key:"setVolume",value:function(t,e){var n=!(arguments.length<=1||void 0===e)&&e,r=void 0,e=void 0;if(this.apiMedia)return(e=new chrome.cast.Volume).level=t,e.muted=n,this.volume_=e.level,this.muted_=n,(r=new chrome.cast.media.VolumeRequest).volume=e,this.apiMedia.setVolume(r,this.mediaCommandSuccessCallback.bind(this,"Volume changed"),this.castError.bind(this)),this.trigger("volumechange")}},{key:"mediaCommandSuccessCallback",value:function(t){l.default.log(t)}},{key:"muted",value:function(){return this.muted_}},{key:"setMuted",value:function(t){return this.setVolume(this.volume_,t)}},{key:"supportsFullScreen",value:function(){return!1}},{key:"resetSrc_",value:function(t){t()}},{key:"dispose",value:function(){this.resetSrc_(Function.prototype),c(Object.getPrototypeOf(h.prototype),"dispose",this).call(this,this)}},{key:"seeking",value:function(){return!1}},{key:"seekable",value:function(){return!1}},{key:"playbackRate",value:function(){return 1}}])&&e(n.prototype,r),i&&e(n,i),h);function h(t,e){var n=this;!function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this),c(Object.getPrototypeOf(h.prototype),"constructor",this).call(this,t,e),this.apiMedia=this.options_.source.apiMedia,this.apiSession=this.options_.source.apiSession,this.receiver=this.apiSession.receiver.friendlyName;var r=this.onMediaStatusUpdate.bind(this),i=this.onSessionUpdate.bind(this);this.apiMedia.addUpdateListener(r),this.apiSession.addUpdateListener(i),this.on("dispose",function(){n.apiMedia.removeUpdateListener(r),n.apiSession.removeUpdateListener(i),n.onMediaStatusUpdate(),n.onSessionUpdate(!1)});var o,s,a,u=this.textTracks();u&&(o=n.handleTextTracksChange.bind(n),u.addEventListener("change",o),n.on("dispose",function(){u.removeEventListener("change",o)}),n.handleTextTracksChange());try{(u=this.audioTracks())&&(s=n.handleAudioTracksChange.bind(n),u.addEventListener("change",s),n.on("dispose",function(){u.removeEventListener("change",s)}))}catch(t){l.default.log("get player audioTracks fail"+t)}try{(u=this.videoTracks())&&(a=n.handleVideoTracksChange.bind(n),u.addEventListener("change",a),n.on("dispose",function(){u.removeEventListener("change",a)}))}catch(t){l.default.log("get player videoTracks fail"+t)}this.update(),this.triggerReady()}o.prototype.paused_=!1,o.prototype.options_={},o.prototype.timerStep=1e3,o.isSupported=function(){return!0},t.withSourceHandlers(o),o.nativeSourceHandler={},o.nativeSourceHandler.canPlayType=function(t){return/^application\/(?:dash\+xml|(x-|vnd\.apple\.)mpegurl)/i.test(t)?"probably":/^video\/(mpd|mp4|webm|m3u8)/i.test(t)?"maybe":""},o.nativeSourceHandler.canHandleSource=function(t){return t.type?o.nativeSourceHandler.canPlayType(t.type):t.src?o.nativeSourceHandler.canPlayType(t.src):""},o.nativeSourceHandler.handleSource=function(t,e){e.src(t.src)},o.nativeSourceHandler.dispose=function(){},o.registerSourceHandler(o.nativeSourceHandler),o.prototype.featuresVolumeControl=!0,o.prototype.featuresPlaybackRate=!1,o.prototype.movingMediaElementInDOM=!1,o.prototype.featuresFullscreenResize=!1,o.prototype.featuresTimeupdateEvents=!1,o.prototype.featuresProgressEvents=!1,o.prototype.featuresNativeTextTracks=!0,o.prototype.featuresNativeAudioTracks=!0,o.prototype.featuresNativeVideoTracks=!1,l.default.options.chromecast={},t.registerTech("Chromecast",o),a.default=o,s.exports=a.default}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,l,h){!function(t){"use strict";Object.defineProperty(h,"__esModule",{value:!0});function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,n){for(var r=!0;r;){var i=t,o=e,s=n,r=!1;null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,o);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}i=Object.getPrototypeOf(i);if(null===i)return;t=i,e=o,n=s,r=!0,a=void 0}}var n,i,o,s="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,m=s&&s.__esModule?s:{default:s},a=m.default.getComponent("Component"),t=m.default.getComponent("ControlBar"),s=m.default.getComponent("Button"),u=!1,s=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,s),n=c,(i=[{key:"initializeApi",value:function(){var t=window.navigator&&window.navigator.userAgent||"";if((m.default.browser.IS_CHROME||/CriOS/i.test(t))&&!m.default.browser.IS_EDGE&&"undefined"!=typeof chrome)return chrome.cast&&chrome.cast.isAvailable?(m.default.log("Cast APIs are available"),t=this.options_.appId||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,t=new chrome.cast.SessionRequest(t),t=new chrome.cast.ApiConfig(t,this.sessionJoinedListener.bind(this),this.receiverListener.bind(this)),chrome.cast.initialize(t,this.onInitSuccess.bind(this),this.castError.bind(this))):(m.default.log("Cast APIs not available"),this.tryingReconnect<10&&(this.setTimeout(this.initializeApi,1e3),++this.tryingReconnect),void m.default.log("Cast APIs not available. Max reconnect attempt"))}},{key:"castError",value:function(t){var e={code:t.code,message:t.description};switch(t.code){case chrome.cast.ErrorCode.API_NOT_INITIALIZED:case chrome.cast.ErrorCode.EXTENSION_MISSING:case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:case chrome.cast.ErrorCode.INVALID_PARAMETER:case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:case chrome.cast.ErrorCode.SESSION_ERROR:case chrome.cast.ErrorCode.CHANNEL_ERROR:case chrome.cast.ErrorCode.TIMEOUT:this.addClass("error");break;case chrome.cast.ErrorCode.CANCEL:break;default:this.player_.error(e)}return m.default.log("Cast Error: "+JSON.stringify(t))}},{key:"onInitSuccess",value:function(){return u?this.show():this.hide(),this.apiInitialized=!0}},{key:"sessionJoinedListener",value:function(t){return t.media.length&&(this.apiSession=t,this.onMediaDiscovered(t.media[0])),console.log("Session joined")}},{key:"receiverListener",value:function(t){return"available"===t?(u=!0,this.show()):(u=!1,this.hide())}},{key:"doLaunch",value:function(){return m.default.log("Cast video: "+this.player_.cache_.src),this.apiInitialized?chrome.cast.requestSession(this.onSessionSuccess.bind(this),this.castError.bind(this)):m.default.log("Session not initialized")}},{key:"onSessionSuccess",value:function(t){var e,n,r,i=void 0,o=void 0,s=void 0;this.apiSession=t;var a=this.player_.cache_.src,u=this.player_.currentType();if(m.default.log("Session initialized: "+t.sessionId+" source : "+a+" type : "+u),(s=new chrome.cast.media.MediaInfo(a,u)).metadata=new chrome.cast.media.GenericMediaMetadata,this.options_.playerOptions.chromecast.metadata)for(i in n=this.options_.playerOptions.chromecast.metadata)r=n[i],s.metadata[i]=r;u=this.player().poster();u&&(e=new chrome.cast.Image(u),s.metadata.images=[e]);var c,l=this.player().textTracks(),h=this.player().remoteTextTrackEls(),d=[],f=0,p=void 0,g=0,v=void 0;if(l){for(f=0;f<l.length;f++)p=l.tracks_[f],c=h&&h.trackElements_&&h.trackElements_[f],g++,(v=new chrome.cast.media.Track(g,chrome.cast.media.TrackType.TEXT)).trackContentId=c?c.src:"caption_"+p.language,v.subtype=chrome.cast.media.TextTrackType.CAPTIONS,v.name=p.label,v.language=p.language,v.customData=null,d.push(v);s.textTrackStyle=new chrome.cast.media.TextTrackStyle,s.textTrackStyle.foregroundColor="#FFFFFF",s.textTrackStyle.backgroundColor="#00000060",s.textTrackStyle.edgeType=chrome.cast.media.TextTrackEdgeType.DROP_SHADOW,s.textTrackStyle.windowType=chrome.cast.media.TextTrackWindowType.ROUNDED_CORNERS}try{if(l=this.player().audioTracks())for(f=0;f<l.length;f++)p=l.tracks_[f],g++,(v=new chrome.cast.media.Track(g,chrome.cast.media.TrackType.AUDIO)).subtype=null,v.name=p.label,v.language=p.language,v.customData=null,d.push(v)}catch(t){m.default.log("get player audioTracks fail"+t)}d.length&&(s.tracks=d),(o=new chrome.cast.media.LoadRequest(s)).autoplay=!0,o.currentTime=this.player_.currentTime(),this.apiSession.loadMedia(o,this.onMediaDiscovered.bind(this),this.castError.bind(this)),this.apiSession.addUpdateListener(this.onSessionUpdate.bind(this))}},{key:"onMediaDiscovered",value:function(t){this.player_.loadTech_("Chromecast",{type:"cast",apiMedia:t,apiSession:this.apiSession}),this.casting=!0,this.inactivityTimeout=this.player_.options_.inactivityTimeout,this.player_.options_.inactivityTimeout=0,this.player_.userActive(!0),this.addClass("connected"),this.removeClass("error")}},{key:"onSessionUpdate",value:function(t){if(this.player_.apiMedia)return t?void 0:this.onStopAppSuccess()}},{key:"stopCasting",value:function(){return this.apiSession.stop(this.onStopAppSuccess.bind(this),this.castError.bind(this))}},{key:"onStopAppSuccess",value:function(){this.casting=!1;var t=this.player_.currentTime();return this.removeClass("connected"),this.player_.src(this.player_.options_.sources),this.player_.paused()||this.player_.one("seeked",function(){return this.player_.play()}),this.player_.currentTime(t),this.player_.options_.inactivityTimeout=this.inactivityTimeout,this.apiSession=null}},{key:"buildCSSClass",value:function(){return"vjs-chromecast-button "+r(Object.getPrototypeOf(c.prototype),"buildCSSClass",this).call(this)}},{key:"handleClick",value:function(){return r(Object.getPrototypeOf(c.prototype),"handleClick",this).call(this),this.casting?this.stopCasting():this.doLaunch()}}])&&e(n.prototype,i),o&&e(n,o),c);function c(t,e){var n=this;!function(t){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),r(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,t,e),this.hide(),this.initializeApi(),e.appId=t.options_.chromecast.appId,(t.chromecast=this).on(t,"loadstart",function(){n.casting&&n.apiInitialized&&n.onSessionSuccess(n.apiSession)}),this.on(t,"dispose",function(){n.casting&&n.apiSession&&n.apiSession.stop(null,null)})}s.prototype.tryingReconnect=0,s.prototype.inactivityTimeout=2e3,s.prototype.controlText_="Chromecast",t.prototype.options_.children.splice(t.prototype.options_.children.length-1,0,"chromeCastButton"),a.registerComponent("ChromeCastButton",s),h.default=s,l.exports=h.default}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[565]);

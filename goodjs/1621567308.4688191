!function(){var e,n,t;VWO.v_t="7.0.144",e=function(){return VWO&&VWO._&&VWO._.libLoaded},n=function(){!function(){var l={TRACK_PAGE_COOKIE_NAME:"_vwo_p",FUNNEL_EXPIRY:100,INITIAL_PRICING_VERSION:0,FEATURE_BUCKET_INDEX:1,SAMPLING_VERSION_INDEX:2,TRACK_GLOBAL_COOKIE_EXPIRY_STATE_INDEX:3,FUNNEL_INFORMATION_INDEX:2,GOAL_INFORMATION_INDEX:3,ANALYZE_INFORMATION_INDEX:4,CRO_START_TIMESTAMP_INDEX:5,PAGE_ID_INFORMATION_INDEX:1,ANALYSE_SERVER_NAME_INDEX:2,TRACK_PAGE_ID_INFORMATION_INDEX:3};function n(){var e=G.getDataStore();e&&((e=e.split(":"))[l.ANALYZE_INFORMATION_INDEX]=function(e){for(var n=C.getKeys(e),t=n.length,i="";t--;)i+=n[t]+"_"+e[n[t]]+(0===t?"":",");return i}(m.analyze),G.setDataStore(e.join(":")))}VWO._.commonUtil.extend(l,VWO._.CookieEnum);var o,r,u,s,t,I,d,_,E,e,i,c,g,N,O,A,f,a,S,T,p,V,R,C=VWO._.commonUtil,m={analyze:{}},v=0,G={init:function(){var e,n;m.analyze=(n={},(e=G.getDataStore())&&(n=function(e){var n,t,i,a={};if(!e)return a;for(e=e.split(","),v=0;v<e.length;v++)t=(n=e[v].split("_"))[0],i=n[1],a[t]=i;return a}(e.split(":")[l.ANALYZE_INFORMATION_INDEX])),n)},includeAnalyzeCampaign:function(e){m.analyze[e]="1",n()},excludeAnalyzeCampaign:function(e){m.analyze[e]="0",n()},isAnalyzeCampaignIncluded:function(e){if("1"===m.analyze[e]||1===m.analyze[e])return"1"},isAnalyzeCampaignExcluded:function(e){return"0"===m.analyze[e]||0===m.analyze[e]}};VWO._.commonUtil.extend(G,VWO._.commonCookieHandler),window.___vwo=1,VWO._.track.loaded||(o=VWO._.utils,r=VWO._.CampaignEnum,u=VWO._.GoalsEnum,s=VWO._.libUtils,t=VWO._.cookies,I=VWO._.EventsEnum,d=VWO._.triggerEvent,_=VWO._.commonUtil,E=VWO._.coreLib,e=VWO._.vwoLib,VWO._.campaign,i=VWO._.listener,c=VWO._.sessionInfoService,g=VWO._.tags,N=window._vwo_acc_id,O=window._vwo_exp,A=window._vwo_exp_ids,l.FUNNEL_EXPIRY=VWO.FUNNEL_EXPIRY_CUSTOM||100,f={setUp:function(){f.preProcessData()},init:function(){return f.initiated||s.doesUuidCookiesExist()||(t.erase(l.TRACK_SESSION_COOKIE_NAME),t.erase(l.TRACK_GLOBAL_COOKIE_NAME)),f.expireGlobalCookie(),f.expireGoals(),f.createGlobalCookieReturnEligibility()?(f.isUserBucketed()?f.startSession():d(I.RECORDING_NOT_ELIGIBLE,"USER_NOT_BUCKETED"),f.expireFunnels(_.getServerStartTimestamp(!0)),G.init(),f.initiated=!0,!(f.visitorRetracked=!1)):(d(I.RECORDING_NOT_ELIGIBLE,"URL_NOT_MATCHING"),!1)},preProcessData:function(){VWO.data.url=VWO.data.url||{},VWO.data.url.i=VWO.data.url.i||".*"},isUserEligible:function(){return E.compareUrlWithIncludeExcludeRegex(E.getCurrentUrl(),VWO.data.url.i,VWO.data.url.e).didMatch},expireGlobalCookie:function(){f.shouldExpireGlobalCookie()&&(t.erase(l.TRACK_GLOBAL_COOKIE_NAME),t.erase(l.TRACK_SESSION_COOKIE_NAME))},getLatestSamplingVersion:function(){return window.VWO.data.pvn||l.INITIAL_PRICING_VERSION},getCpt:function(){return window.VWO.data.cpt||0},updateTrackPageId:function(){var e=f.getTrackPageId()+1;return f.markTrackPageId(e),e},getTrackPageId:function(){var e=c.getSNCookieValueByIndex(l.TRACK_PAGE_ID_INFORMATION_INDEX);return e?parseInt(e,10):0},markTrackPageId:function(e){c.setSNCookieValueByIndex(l.TRACK_PAGE_ID_INFORMATION_INDEX,e)},getCroStartTimestamp:function(){return G.getDataInfoByIndex(l.CRO_START_TIMESTAMP_INDEX)},setCroStartTimestamp:function(){var e=_.getCurrentTimestamp(!0)-c.getFirstSessionId();G.setDataInfoByIndex(l.CRO_START_TIMESTAMP_INDEX,e)},shouldExpireGlobalCookie:function(){var e=G.getDataStore(),n=G.getMetaInfoByIndex(l.TRACK_GLOBAL_COOKIE_EXPIRY_STATE_INDEX);if(e){var t=_.getServerStartTimestamp(!0),i=c.getFirstSessionId(),a=f.getCroStartTimestamp();if(24*l.TRACK_GLOBAL_COOKIE_EXPIRY*60*60+a+i<t)return!c.getSessionStore()||(n||G.setMetaInfoByIndex(l.TRACK_GLOBAL_COOKIE_EXPIRY_STATE_INDEX,1),!1);if(i<f.getCpt())return!0;var o=f.getLatestSamplingVersion(),r=G.getMetaInfoByIndex(l.SAMPLING_VERSION_INDEX)||l.INITIAL_PRICING_VERSION;if(!(r<o)&&Math.abs(r)<Math.abs(o)&&f.isUserBucketed())return!0}return!1},_markFunnelValue:function(e,n,t){this._markFeatureValue(l.FUNNEL_INFORMATION_INDEX,e,[n,t,c.getRelativeSessionId(),O[e].v])},_isFunnelValue:function(e,n,t){return this._isFeatureValue(l.FUNNEL_INFORMATION_INDEX,e,[n,t])},expireFunnels:function(e){var n,t,i,a,o,r,u=G.getDataStore(),_=c.getFirstSessionId();if(u){for(t=(n=(u=u.split(":"))[l.FUNNEL_INFORMATION_INDEX].split(",")).length;t--;)a=(i=n[t].split("_"))[0],o=+i[3]+24*l.FUNNEL_EXPIRY*60*60+_,r=+i[4],(o<e||O[a]&&O[a].v>r)&&n.splice(t,1);u[l.FUNNEL_INFORMATION_INDEX]=n.join(","),u=u.join(":"),G.setDataStore(u)}},expireGoals:function(){c.getSessionStore()&&!f.visitorRetracked||G.deleteDataStoreInfoByIndex(l.GOAL_INFORMATION_INDEX)},getSessionIdOfFunnel:function(e){var n=G.getDataStore().match(new RegExp("[:,]"+e+"_[^_]*_._([^_]*)_[^,:]*"));return n&&n[1]?+n[1]+c.getFirstSessionId():0},_markFeatureValue:function(e,n,t,i){var a=i?G.getMetaStore():G.getDataStore(),o=a.split(":"),r=n,u=o[e],_=o.length;if(!u)for(;_<=e;)o[_]="",_++;var s=(u=o[e]).match(new RegExp("(?:^|,)("+n+"_[^,]+)"));void 0===t&&(t=[]),t instanceof Array||(t=[t]);for(var l=0;l<t.length;l++)r+="_"+t[l];o[e]=s?o[e].replace(new RegExp("(^|,)("+n+"_[^,]+)"),"$1"+r):o[e]+(0===o[e].length?"":",")+r,a=o.join(":"),i?G.setMetaStore(a):G.setDataStore(a)},_isFeatureValue:function(e,n,t,i){var a,o,r=(i?G.getMetaStore():G.getDataStore()).split(":")[e];return void 0===t&&(t=[]),t instanceof Array||(t=[t]),!!(e===l.FUNNEL_INFORMATION_INDEX?(o=t[1],a=(a=t[0])||"[^_]*",o=null==o?".":o,new RegExp("(,|^)"+n+"_"+a+"_"+o)):(o=null==(o=t[0])?".":o,new RegExp("(,|^)"+n+"_"+o))).test(r)&&"1"},_markGoalValue:function(e,n){this._markFeatureValue(l.GOAL_INFORMATION_INDEX,e,n)},_isGoalValue:function(e,n){return this._isFeatureValue(l.GOAL_INFORMATION_INDEX,e,n)},isCroEnabled:function(){if(!t.get(l.TRACK_GLOBAL_COOKIE_NAME))return!1;var e=G.getMetaStore().split(":")||[];return!(!e[l.FEATURE_BUCKET_INDEX]&&!e[l.SAMPLING_VERSION_INDEX])||void 0},createGlobalCookieReturnEligibility:function(){if(!f.isCroEnabled()){if(!f.isUserEligible())return!1;t.get(l.TRACK_GLOBAL_COOKIE_NAME)||(s.createUUIDCookie(),c.createGlobalCookie()),f.setCroStartTimestamp()}return f.markFeatureLevelBucketing(),f.setSamplingVersion(),!0},markFeatureLevelBucketing:function(){for(var e=c.getPcTraffic(),n=window._vwo_pc_custom||window.VWO.data.pc,t=_.getKeys(n),i=t.length;i--;)f._isFeatureValue(l.FEATURE_BUCKET_INDEX,t[i],null,1)||f._markFeatureValue(l.FEATURE_BUCKET_INDEX,t[i],+(e<n[t[i]]),!0)},setSamplingVersion:function(){G.setMetaInfoByIndex(l.SAMPLING_VERSION_INDEX,f.getLatestSamplingVersion())},isUserBucketed:function(){for(var e=window.VWO.data.pc,n=_.getKeys(e),t=n.length;t--;)if(f.isFeatureBucketed(n[t]))return!0},isFeatureBucketed:function(e){return!e||f._isFeatureValue(l.FEATURE_BUCKET_INDEX,e,1,!0)},excludeFunnel:function(e){f._markFunnelValue(e,0,0)},includeFunnel:function(e){f._markFunnelValue(e,0,1)},includeAnalyzeCampaign:function(e){G.includeAnalyzeCampaign(e)},excludeAnalyzeCampaign:function(e){G.excludeAnalyzeCampaign(e)},excludeGoal:function(e){f._markGoalValue(e,0)},includeGoal:function(e){f._markGoalValue(e,1)},shouldAddGoalInFunnel:function(e,n){n=parseInt(n,10);var t,i=f.getGoalIndexInFunnel(e,n);if(i<0)return!1;for(var a,o,r,u=O[e].g[0].id===n,_=G.getDataStore().split(":")[l.FUNNEL_INFORMATION_INDEX].split(","),s=_.length;s--;)if((a=_[s].split("_"))[0]===e){if(r=!0,o=+a[1],!+a[2])return!1;t=f.getGoalIndexInFunnel(e,o)+1===i}return u&&!r&&(E.runCampaigns({keepElementLoadedRunning:!1,expIds:[e],isManual:!0},null,null,!0),f.isFunnelIncluded(e)&&(t=!0)),t},getGoalIndexInFunnel:function(e,n){for(var t=0;t<O[e].g.length;t++)if(O[e].g[t].id===n)return t;return-1},getGoalsString:function(e){for(var n="",t=0;t<e.length;t++)n=n+e[t].id+("REVENUE_TRACKING"===e[t].type?"_1":"")+(t===e.length-1?"":",");return n},getGtAndF:function(e){for(var n,t,i=A.length,a={};i--;)n=A[i],O[n].type===r.FUNNEL_CAMPAIGN&&this.shouldAddGoalInFunnel(n,e)&&(f._markFunnelValue(n,e,1),a[n]=this.getGoalsString(O[n].g)+":"+f.getSessionIdOfFunnel(n));return t=_.getKeys(a),"&gt="+ +!f.isGoalTriggered(e)+"_"+t.join(",")+"&f="+o.jsonStringify(a)},startSession:function(){var e,n,t,i,a,o,r=document.URL,u="s.gif?account_id="+N+s.getUUIDString(s.createUUIDCookie()),_=1;c.isSessionInfoSynced()?(c.updateAndSyncPageId(),o=f.updateTrackPageId(),e=g.getTags(),n=g.getEgTags(),a=c.getSessionId(),_=VWO._.pageId,i=a>c.getFirstSessionId(),u=u+"&s="+a+"&p="+_,window._vis_debug||s.sendCall(u+(e?"&tags="+e:"")+(n?"&eg="+n:"")+"&update=1&cq=1")):(_=1,g.refresh(),e=g.getTags(),n=g.getEgTags(),c.getSessionStore()?(c.updateAndSyncPageId(),_=VWO._.pageId,c.setSNCookieValueByIndex(l.SESSION_SYNCED_STATE_INDEX,1)):(t=c.getRelativeSessionTimestamp(this),c.initializeSession(t+":"+_+":::1"),VWO._.pageId=_),o=f.updateTrackPageId(),u=u+"&s="+(a=c.getSessionId())+"&p="+_,i=a>c.getFirstSessionId(),window._vis_debug||s.sendCall(u+"&ed="+encodeURIComponent(s.extraData(!0))+"&cu="+encodeURIComponent(c.getInfo().cu||r)+(e?"&tags="+e:"")+(n?"&eg="+n:"")+"&r="+ +i+"&cq=1")),c.setVisitorInformation(),f.setAnalyzeServerName(),d(I.TRACK_SESSION_CREATED,a,_,i,1===o,o),c.updateSession()},setAnalyzeServerName:function(){var e=c.getSNCookieValueByIndex(l.ANALYSE_SERVER_NAME_INDEX);e?window.VWO.data.asn=e:(window.VWO.data.as&&c.setSNCookieValueByIndex(l.ANALYSE_SERVER_NAME_INDEX,window.VWO.data.as),window.VWO.data.asn=window.VWO.data.as||"dev.visualwebsiteoptimizer.com")},isGoalIncluded:function(e){return this._isGoalValue(e,1)||this._isGoalValue(e,2)},isGoalExcluded:function(e){return this._isGoalValue(e,0)},isAnalyzeCampaignExcluded:function(e){return G.isAnalyzeCampaignExcluded(e)},isAnalyzeCampaignIncluded:function(e){return G.isAnalyzeCampaignIncluded(e)},isFunnelIncluded:function(e){return f._isFunnelValue(e,void 0,1)},isFunnelExcluded:function(e){return f._isFunnelValue(e,void 0,0)},markGoalTriggered:function(e,n){var t=O[e].goals[n];f._markGoalValue(n,2),t.type===u.SEPARATE_PAGE&&(t.pageVisited=1)},isGoalTriggered:function(e){return f._isGoalValue(e,2)},shouldTriggerGoal:function(e,n){var t=O[e].goals[n],i=!1;if(f._isGoalValue(n,0))return!1;if(f._isGoalValue(n,1)&&(i=!t.pageVisited),f._isGoalValue(n,2)&&(i=!1),!t.pageVisited&&!i)for(var a,o=A.length;o--;)a=A[o],O[a].type===r.FUNNEL_CAMPAIGN&&this.shouldAddGoalInFunnel(a,n)&&(i=!0);return t.type===u.SEPARATE_PAGE&&(t.pageVisited=!0),i},loaded:!0,initiated:!1},_.extend(VWO._.track,f),f=VWO._.track,a=function(){3===VWO.data.tcVersion&&!p||(f.setUp(),f.init()&&E.runCampaigns({keepElementLoadedRunning:!1,expIds:_.filter(A,function(e){return s.isSessionBasedCampaign(e)}),isManual:!1},null,null,!0))},S=function(){VWO._.ac&&VWO._.ac.cInstJS?VWO._.addConsentTrigger(a):a()},T=function(){(3!==VWO.data.tcVersion||p)&&V&&(f.initiated||(S(),e.init("track")))},R=function(){f.visitorRetracked=!0,f.init(),E.runCampaigns(!1,_.filter(A,function(n){try{window._vwo_exp[n].combination_chosen}catch(e){window.VWO._.customError&&window.VWO._.customError({msg:"LOGGING: experiment id "+n+"not found in "+window._vwo_exp_ids,url:"track-lib.ts",lineno:879,colno:9})}return window._vwo_exp&&window._vwo_exp[n]?s.isSessionBasedCampaign(n)&&(window._vwo_exp[n].combination_chosen=void 0,1):s.isSessionBasedCampaign(n)}),null,!0),f.visitorRetracked=!1},i.onEventReceive(I.RETRACK_VISITOR,function(){VWO._.ac&&VWO._.ac.cInstJS?VWO._.addConsentTrigger(R):R()}),i.onEventReceive(I.NEW_SESSION_CREATED,function(){f.visitorRetracked=!0}),i.onEventReceive(I.POST_URL_CHANGE,S),i.onEventReceive(I.NOT_REDIRECTING,function(){V||(V=!0,T())}),i.onEventReceive(I.UPDATE_SETTINGS_CALL,function(){p||(p=!0,T())}))}()},(t=function(){e()?n():setTimeout(t,100)})()}();
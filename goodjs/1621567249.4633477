!function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.LivePlayer=factory():root.LivePlayer=factory()}(window,function(){function LivePlayer(options){this.opts=options;var ua=navigator.userAgent.toLowerCase(),browserReg={safari_1:/Version\/(([\d\.]+))\sSafari\/[\d\.]+/i,safari_2:/Safari\/([\d\.]+)/i,firefox:/Firefox\/([\d\.]+)/i,ie_1:/MSIE\s([\d\.]+)/i,ie_2:/(trident\/\d\.\d)/i,ie_3:/(Edge)\/\d+\.\d+/i,chrome_1:/CriOS\/([\d\.]+)/i,chrome_2:/Chrome\/([\d\.]+)/i,opera:/OPR\/([\d\.]+)/i},browser={};for(var prop in browserReg){var regValue=browserReg[prop].exec(ua);regValue&&(browser[prop.replace(/_\d+/,"")]={version:regValue[1]})}function compareVersion(a,b){a=String(a).split("."),b=String(b).split(".");try{for(var c=0,d=Math.max(a.length,b.length);c<d;c++){var e=isFinite(a[c])&&Number(a[c])||0,f=isFinite(b[c])&&Number(b[c])||0;if(e<f)return-1;if(f<e)return 1}}catch(g){return-1}return 0}browser.chrome&&browser.safari&&delete browser.safari,this.isuseHtml5=function(browser){return!function(browser){return browser.chrome&&0<=compareVersion(browser.chrome.version,"40.0")||browser.firefox&&0<=compareVersion(browser.firefox.version,"48.0")||browser.opera&&0<=compareVersion(browser.opera.version,"40.0")||browser.safari&&0<=compareVersion(browser.safari.version,"9.0")}(browser)||("function"!=typeof(a=document.createElement("video")).canPlayType||"probably"!=a.canPlayType('video/mp4; codecs="avc1.42E01E"')&&"probably"!=a.canPlayType('video/mp4; codecs="avc1.58A01E"')&&"probably"!=a.canPlayType('video/mp4; codecs="avc1.4D401E"')&&"probably"!=a.canPlayType('video/mp4; codecs="avc1.64001E"'))?0:1;var a}(browser),this.isMobile=/mobile/i.test(ua);var defaultOption={ref:(/android/i.test(ua)?"3":/ios/i.test(ua)?"4":"1")+",7",cid:"99999",log:!0,playerId:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)}).replace(/-/g,"").slice(5,20),flash:{},video:{},live:!0,skipads:!0};for(var defaultKey in defaultOption)defaultOption.hasOwnProperty(defaultKey)&&!this.opts.hasOwnProperty(defaultKey)&&(this.opts[defaultKey]=defaultOption[defaultKey]);this.opts.video&&(this.opts.video.type||(this.opts.video.type="hls")),this.opts.flash&&(this.opts.flash.swf||(this.opts.flash.swf="https://static.1905.com/v1/playerv3/1905HlsPlayer.swf")),this.player=null}return LivePlayer.prototype.init=function(){1===this.isuseHtml5?this.isMobile?this.loadMobileHtml5():this.loadHtml5():this.isMobile?this.loadMobileHtml5():this.loadFlash()},LivePlayer.prototype.loadFlash=function(){var self=this;require(["https://js.static.m1905.cn/player/swfobject.js"],function(swfobject){var flashvars={configUrl:escape(self.opts.flash.configUrl),playAd:!self.opts.skipads,type:self.opts.live?"live":"vod",LoGo:!1,cdn:!0,p2p:!0,needchain:!1,ref:self.opts.ref,cid:self.opts.cid,playerId:self.opts.playerId};self.swfId="1905flashplayer";var attributes={id:self.swfId,name:"1905flashplayer"},element=document.createElement("div");element.id="playerWrap",self.opts.container&&self.opts.container[0].appendChild(element),swfobject.embedSWF(self.opts.flash.swf,"playerWrap","100%","100%","10.0.0",!0,flashvars,{allowScriptAccess:"always",allowNetworking:"all",allowFullScreen:"true",wmode:"direct"},attributes,function(){self.swfObj=swfobject}),swfobject.hasFlashPlayerVersion("10.0.0")||(document.getElementById("playerWrap").innerHTML='<div style="width:100%;height:100%;position:relative;background-color:#151515;font-size:14px;"><a href="//www.adobe.com/go/getflashplayer" target="_blank" style="position:absolute; top: 0px; left: 0px; right: 0px; bottom: 0px; margin: auto;background-color:#0f92fd;border-radius:6px;text-decoration:none;width:268px;height:36px;font:15px/36px Microsoft YaHei;color:#fff;text-align:center;">瑙傜湅姝よ棰戣鍚敤鎴栧畨瑁匜lash鎻掍欢</a></div>')})},LivePlayer.prototype.loadHtml5=function(){var self=this;require(["https://js.static.m1905.cn/player/2.0.0/mplayer.min.js","https://js.static.m1905.cn/player/hls.min.js"],function(mplayer,hls){window.Hls=hls,self.player=new mplayer.mplayer({element:self.opts.container,live:!!self.opts.live,ref:self.opts.ref,cid:self.opts.cid,video:self.opts.video,skipads:self.opts.skipads,ads:self.opts.ads?self.opts.ads:null})})},LivePlayer.prototype.loadMobileHtml5=function(){var self=this;require(["https://js.static.m1905.cn/mplayer/3.0.3/MPlayer.min.js","https://js.static.m1905.cn/player/hls.min.js"],function(MPlayer,hls){window.Hls=hls;var element=self.opts.container;self.player=new MPlayer({container:element[0],preload:"none",live:!!self.opts.live,ref:self.opts.ref,cid:self.opts.cid,log:self.opts.log,playerId:self.opts.playerId,video:self.opts.video,ads:!self.opts.skipads&&self.opts.ads?self.opts.ads:null})})},LivePlayer.prototype.destroy=function(){this.player&&this.player.destroy(),this.player=null,this.swfObj&&this.swfObj.removeSWF(this.swfId),this.swfObj=null},LivePlayer});
(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"+oT+":function(e,t,n){var r=n("eVuF");function a(e,t,n,a,o,i,s){try{var u=e[i](s),c=u.value}catch(l){return void n(l)}u.done?t(c):r.resolve(c).then(a,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new r((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))}}},"1Nqh":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,a){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,a=(r=n("ycJa"))&&r.__esModule?r:{default:r}},"1TCz":function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),a=n.n(r),o=n("2Eek"),i=n.n(o),s=n("XoMD"),u=n.n(s),c=n("Jo+v"),l=n.n(c),d=n("4mXO"),p=n.n(d),f=n("pLtp"),S=n.n(f),m=n("pbKT"),E=n.n(m),C=n("Qetd"),v=n.n(C),y=n("0iUn"),_=n("sLSF"),h=n("AT/M"),g=n("Tit0"),O=n("MI3g"),T=n("a7VT"),b=n("vYYK"),R=n("q1tI"),P=n.n(R),U=n("/MKj"),I=n("8Bbg"),M=n.n(I),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},w=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},k=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},D={storeKey:"__NEXT_REDUX_STORE__",debug:!1,serializeState:function(e){return e},deserializeState:function(e){return e}},L=n("9ixD");function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=function(e,t){return!t||"object"!==H(t)&&"function"!==typeof t?G(e):t}(this,(e=x(t)).call.apply(e,[this].concat(a))),B(G(n),"state",{bootstrapped:!1}),B(G(n),"_unsubscribe",void 0),B(G(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&F(n.prototype,r),a&&F(n,a),t}(R.PureComponent);B(W,"defaultProps",{children:null,loading:null});var J=n("1qWt"),K=n("65Qd"),Y=n("EeCP"),X=n("doui"),z=n("9ONQ").default,q=R.createContext(new z),$=(q.Provider,q.Consumer,q);var Q=n("nOHt"),Z=(n("8cHP"),n("0ZHj")),ee=n("oNmX"),te=n("D+1f"),ne=(n("Deze"),n("algg")),re=n("v0uu"),ae=Object(Q.withRouter)((function(e){var t=Object(U.useSelector)((function(e){return{auth:e.auth,user:e.auth&&e.auth.user||null}})),n=Object(U.useDispatch)(),r=Object(R.useCallback)((function(){return n(Z.a.getMe())}),[n]),a=Object(R.useCallback)((function(){return n(Z.a.logout())}),[n]),o=Object(R.useCallback)((function(e){return n(Z.a.setReasonReloadPage(e))}),[n]),i=Object(R.useState)(t.auth.user)[0],s=Object(R.useState)(!1),u=s[0],c=s[1],l=Object(R.useState)(null),d=l[0],p=l[1],f=function(e){var t=Object(R.useContext)($);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),r=Object(R.useState)(n),a=r[0],o=r[1],i=Object(R.useRef)(a);return Object(R.useEffect)((function(){function n(){var n=t.getAll();(function(e,t,n){if(!e)return!0;for(var r=0,a=e;r<a.length;r++){var o=a[r];if(t[o]!==n[o])return!0}return!1})(e||null,n,i.current)&&o(n),i.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}}),[t]),[a,Object(R.useMemo)((function(){return t.set.bind(t)}),[t]),Object(R.useMemo)((function(){return t.remove.bind(t)}),[t])]}(["user"]),S=Object(X.a)(f,1)[0],m=Object(te.b)((function(){return r()}),1e4),E=Object(X.a)(m,1)[0];Object(ee.a)("visibilitychange",(function(){return c(document.hidden)}),document),Object(R.useEffect)((function(){u||h()}),[u]),Object(R.useEffect)((function(){t.auth&&t.auth.user?C():v()}),[]),Object(R.useEffect)((function(){(y()&&!_()||!y()&&_())&&a()}),[S]);var C=function(){setInterval((function(){return E()}),re.Db)},v=function(){console.log("clear intervalId......",d),d&&clearInterval(d),p(null)},y=function(){return!(!t.auth.user||!i)},_=function(){return!(!S||!S.user)},h=function(){y()&&(console.log("run focus login......"),Object(ne.m)(t,i)||(console.log("force reload when wrong user....."),o("force reload when wrong user")))};return e.children})),oe=n("ANjH");function ie(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"===typeof a?a(n,r,e):t(a)}}}}var se=ie();se.withExtraArgument=ie;var ue=se,ce=n("5HXA"),le=n("/M1z"),de=n.n(le),pe=n("p0XB"),fe=n.n(pe),Se=n("Hvl/");var me={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){e.bc.postMessage(t,!1)},canBeUsed:function(){if(Se.a&&"undefined"===typeof window)return!1;if("function"===typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:Se.c};function Ee(){return(new Date).getTime()}var Ce=function(e){var t=new Set,n=new Map;this.has=t.has.bind(t),this.add=function(r){n.set(r,Ee()),t.add(r),function(){var r=Ee()-e,a=t[Symbol.iterator]();for(;;){var o=a.next().value;if(!o)return;if(!(n.get(o)<r))return;n.delete(o),t.delete(o)}}()},this.clear=function(){t.clear(),n.clear()}};function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return"undefined"===typeof t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),"undefined"===typeof t.node.useFastPath&&(t.node.useFastPath=!0),t}var ye=Se.c,_e="pubkey.broadcast-channel-0-",he="messages";function ge(){return"undefined"!==typeof indexedDB?indexedDB:"undefined"!==typeof window.mozIndexedDB?window.mozIndexedDB:"undefined"!==typeof window.webkitIndexedDB?window.webkitIndexedDB:"undefined"!==typeof window.msIndexedDB&&window.msIndexedDB}function Oe(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction(he).objectStore(he),a=[];return new Promise((function(e){r.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o=r.value;if(!(o.time<n))return void e(a);a.push(o),r.continue()}else e(a)}}))}(e,t).then((function(t){return Promise.all(t.map((function(t){return function(e,t){var n=e.transaction([he],"readwrite").objectStore(he).delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(e,t.id)})))}))}function Te(e){return e.closed?Promise.resolve():e.messagesCallback?function(e,t){var n=e.transaction(he).objectStore(he),r=[],a=IDBKeyRange.bound(t+1,1/0);return new Promise((function(e){n.openCursor(a).onsuccess=function(t){var n=t.target.result;n?(r.push(n.value),n.continue()):e(r)}}))}(e.db,e.lastCursorId).then((function(t){return t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return e.uuid!==t.uuid&&(!t.eMIs.has(e.id)&&!(e.data.time<t.messagesCallbackTime))}(t,e)})).sort((function(e,t){return e.time-t.time})).forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),Promise.resolve()})):Promise.resolve()}var be={create:function(e,t){return t=ve(t),function(e){var t=ge(),n=_e+e,r=t.open(n,1);return r.onupgradeneeded=function(e){e.target.result.createObjectStore(he,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){r.onerror=function(e){return t(e)},r.onsuccess=function(){e(r.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Object(Se.e)(),eMIs:new Ce(2*t.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return function e(t){if(t.closed)return;return Te(t).then((function(){return Object(Se.f)(t.options.idb.fallbackInterval)})).then((function(){return e(t)}))}(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Te(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},a=e.transaction([he],"readwrite");return new Promise((function(e,t){a.oncomplete=function(){return e()},a.onerror=function(e){return t(e)},a.objectStore(he).add(r)}))}(e.db,e.uuid,t)})).then((function(){0===Object(Se.d)(0,10)&&Oe(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!Se.a&&!!ge()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:ye},Re=Se.c,Pe="pubkey.broadcastChannel-";function Ue(){var e;if("undefined"===typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return e}function Ie(e){return Pe+e}function Me(){if(Se.a)return!1;var e=Ue();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(n){return!1}return!0}var Ne={create:function(e,t){if(t=ve(t),!Me())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Object(Se.e)(),r=new Ce(t.localstorage.removeTimeout),a={channelName:e,uuid:n,eMIs:r};return a.listener=function(e,t){var n=Ie(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){a.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<a.messagesCallbackTime||(r.add(e.token),a.messagesCallback(e.data)))})),a},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){Object(Se.f)().then((function(){var r=Ie(e.channelName),a={token:Object(Se.e)(),time:(new Date).getTime(),data:t,uuid:e.uuid},o=JSON.stringify(a);Ue().setItem(r,o);var i=document.createEvent("Event");i.initEvent("storage",!0,!0),i.key=r,i.newValue=o,window.dispatchEvent(i),n()}))}))},canBeUsed:Me,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:Re},Ae=Se.c,we=new Set;var ke={create:function(e){var t={name:e,messagesCallback:null};return we.add(t),t},close:function(e){we.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(we).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Ae},je=[me,be,Ne];if(Se.a){var De=n(20);"function"===typeof De.canBeUsed&&je.push(De)}function Le(e){var t=[].concat(e.methods,je).filter(Boolean);if(e.type){if("simulate"===e.type)return ke;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||Se.a||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(je.map((function(e){return e.type}))))}var He,Fe=function(e,t){this.name=e,He&&(t=He),this.options=ve(t),this.method=Le(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);Object(Se.b)(t)?(e._prepP=t,t.then((function(t){e._state=t}))):e._state=t}(this)};function xe(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Promise.resolve()).then((function(){return e.method.postMessage(e._state,r)}))}function Ge(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Ve(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Ge(e)){var t=function(t){e._addEL[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function Be(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Ge(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}Fe._pubkey=!0,Fe.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return xe(this,"message",e)},postInternal:function(e){return xe(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Be(this,"message",this._onML),e&&"function"===typeof e?(this._onML=t,Ve(this,"message",t)):this._onML=null},addEventListener:function(e,t){Ve(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Be(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type}};var We=0,Je="&_GET_INIT_STATE",Ke="&_SEND_INIT_STATE",Ye="&_RECEIVE_INIT_STATE",Xe={channel:"redux_state_sync",predicate:null,blacklist:[],whitelist:[],broadcastChannelOption:null,prepareState:function(e){return e}},ze=function(){return{type:Ke}},qe=function(e){return{type:Ye,payload:e}};function $e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Qe(){return"".concat($e()).concat($e(),"-").concat($e(),"-").concat($e(),"-").concat($e(),"-").concat($e()).concat($e()).concat($e())}var Ze=Qe(),et=!1;function tt(e){var t=e;return t.$uuid=Qe(),t.$wuid=Ze,t}function nt(e){var t=e.predicate,n=e.blacklist,r=e.whitelist,a=function(){return!0};return t&&"function"===typeof t?a=t:fe()(n)?a=function(e){return n.indexOf(e.type)<0}:fe()(r)&&(a=function(e){return r.indexOf(e.type)>=0}),a}function rt(e){var t=e.channel,n=e.dispatch,r=e.allowed,a=!1,o={};t.onmessage=function(e){if(e.$wuid!==Ze&&e.type!==Ye&&e.$uuid&&e.$uuid!==We)if(e.type!==Je||o[e.$wuid]){if(e.type===Ke&&!o[e.$wuid])return void(a||(a=!0,n(qe(e.payload))));r(e)&&(We=e.$uuid,n(v()(e,{$isSync:!0})))}else o[e.$wuid]=!0,n(ze())}}!function(e){var t=e.prepareState}({prepareState:function(e){return e}});var at=n("FAhR"),ot=n("f0zD"),it=n("9Jkg"),st=n.n(it),ut=n("dguP"),ct=n("u0k+");function lt(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):lt(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var pt={user:null,permissionsByCommunity:[],communityUsers:[],isLoading:!1,isRegister:!1,avatarExpiresAt:null,isResetPassword:!1,isFullCompletedProfile:!1,reloadReason:null},ft=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ct.a.USER_LOGGING_IN:return dt({},pt,{isLoading:!0,error:""});case ct.a.USER_LOGGED_IN:var r=!(!n.payload.user.facebookProviderId&&!n.payload.user.googleProviderId);return v()({},t,{user:(null===t||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.id)&&Object(ut.e)(n.payload.user,null===t||void 0===t?void 0:t.user)?t.user:dt({},n.payload.user,{isLoginSocial:r,isSendMailVerify:n.payload.isSendMailVerify}),permissionsByCommunity:Object(ut.e)(n.payload.permissionsByCommunity,null===t||void 0===t?void 0:t.permissionsByCommunity)?t.permissionsByCommunity:n.payload.permissionsByCommunity,communityUsers:Object(ut.e)(n.payload.communityUsers,null===t||void 0===t?void 0:t.communityUsers)?t.communityUsers:n.payload.communityUsers,isLoading:!1,grantList:ne.a.getAccessControl(n.payload.permissionsByCommunity),avatarExpiresAt:null,isRegister:!1,isFullCompletedProfile:!!n.payload.user.userProfiles&&ne.a.checkFullCompletedProfile(n.payload.user.userProfiles[0]),reloadReason:null});case ct.a.USER_LOGGED_OUT:return v()({},t,dt({},pt,{grantList:[]}));case ct.a.USER_REGISTERED:return v()({},t,{user:n.payload.user,permissionsByCommunity:n.payload.permissionsByCommunity,communityUsers:n.payload.communityUsers,isLoading:!1,isRegister:!0,grantList:ne.a.getAccessControl(n.payload.permissionsByCommunity)});case ct.a.USER_VERIFIED:return dt({},t,{user:dt({},t.user,{verification:!0}),isLoading:!1});case ct.a.USER_JOIN_COMMUNITY_SUCCESS:var a=t.communityUsers&&JSON.parse(st()(t.communityUsers))||[],o=n.payload;return o.length>0&&o.map((function(e){a.push(e.communityId)})),v()({},t,{communityUsers:a});case ct.a.USER_UNJOIN_COMMUNITY_SUCCESS:var i=t.communityUsers&&JSON.parse(st()(t.communityUsers))||[],s=n.payload,u=i.findIndex((function(e){return e===s.communityId}));return-1!==u&&i.splice(u,1),v()({},t,{communityUsers:i});case ct.a.USER_UPDATED_AVATAR:return dt({},t,{user:dt({},t.user,{avatarId:n.payload.avatarId,avatarUrl:n.payload.avatarUrl}),isLoading:!1});case ct.a.USER_UPDATED_USERNAME:return dt({},t,{user:dt({},t.user,{},n.payload.data),isLoading:!1});case ct.a.USER_UPDATE_COMPLETED_PROFILE:return dt({},t,{user:dt({},t.user,{isCompletedProfile:n.payload.isCompletedProfile}),isLoading:!1});case ct.a.USER_RESET_PASSWORD:return v()({},t,{isResetPassword:!0});case ct.a.CLEAR_USER_RESET_PASSWORD:return v()({},t,{isResetPassword:!1});case ct.a.SET_REASON_RELOAD_PAGE:return v()({},t,{reloadReason:n.payload.data});default:return t}},St={categories:[],excludedCategories:null},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_CATEGORIES_SUCCESS:return v()({},e,{categories:t.payload.data});case ct.a.CLEAR_CATEGORIES_SUCCESS:return v()({},e,{categories:[]});case ct.a.FETCH_EXCLUDED_CATEGORIES:return v()({},e,{excludedCategories:t.payload.data||[]});default:return e}};function Et(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):Et(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var vt={community:null,communitiesRelated:[],communitiesAllowPost:[],communityUsers:[],communitiesUsersConnection:0,pickCommunity:[],communities:[],communitiesRanking:[],pickHotCommunities:[],communitiesConnection:0,isError:!1,isCreateSuccess:!1,isUpdateSuccess:!1,activeMembers:[]},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_COMMUNITY_SUCCESS:return v()({},e,{community:Ct({},t.payload.data),isError:!1});case ct.a.FETCH_COMMUNITIES_RELATED_SUCCESS:return v()({},e,{communitiesRelated:t.payload.data,isError:!1,isUpdateSuccess:!1});case ct.a.ERROR_GET_COMMUNITY:return v()({},e,{isError:!0});case ct.a.FETCH_ALL_COMMUNITY_SUCCESS:return v()({},e,{communities:t.payload.data,isError:!1});case ct.a.FETCH_COMMUNITY_PAGER_SUCCESS:var n=t.payload.data,r=n.data,a=n.count;return v()({},e,{communities:r,communitiesConnection:a});case ct.a.FETCH_COMMUNITIES_RANKING_SUCCESS:return v()({},e,{communitiesRanking:t.payload.data?t.payload.data.searchHotCommunities:[]});case ct.a.FETCH_PICK_HOT_COMMUNITIES_SUCCESS:return v()({},e,{pickHotCommunities:t.payload.data?t.payload.data.searchPickHotCommunities:[]});case ct.a.FETCH_VIEW_MORE_COMMUNITY_SUCCESS:var o=e.communities&&JSON.parse(st()(e.communities))||[];if(t.payload.data){var i=t.payload.data.searchCommunities;i.map((function(e){return o.push(e)}))}return v()({},e,{communities:o,isError:!1});case ct.a.FETCH_COMMUNITY_BY_PICK_SUCCESS:return v()({},e,{pickCommunity:t.payload.data});case ct.a.FETCH_MEMBER_BY_COMMUNITY:return v()({},e,{community:Ct({},e.community,{communityMembers:t.payload.data})});case ct.a.FETCH_COMMUNITY_USERS_SUCCESS:return v()({},e,{communityUsers:t.payload.data&&t.payload.data.searchCommunityUsers||[],communitiesUsersConnection:t.payload.data&&t.payload.data.searchCommunityUsersConnection.count||0});case ct.a.FETCH_COMMUNITY_USERS_ROLE_SUCCESS:return v()({},e,{communityUsers:t.payload.data&&t.payload.data.searchCommunityWithRole||[],communitiesUsersConnection:t.payload.data&&t.payload.data.searchCommunityWithRolesConnection.count||0});case ct.a.FETCH_VIEW_MORE_COMMUNITY_USERS_ROLE_SUCCESS:var s=e.communityUsers&&JSON.parse(st()(e.communityUsers))||[];if(t.payload.data){var u=t.payload.data.searchCommunityWithRole;u.map((function(e){return s.push(e)}))}return v()({},e,{communityUsers:s});case ct.a.FETCH_USERS_COMMUNITY_ROLE_SUCCESS:return v()({},e,{communityUsers:t.payload.data&&t.payload.data.searchUserWithRoleCommunity||[],communitiesUsersConnection:t.payload.data&&t.payload.data.searchUserWithRoleCommunitiesConnection.count||0});case ct.a.FETCH_VIEW_MORE_USERS_COMMUNITY_ROLE_SUCCESS:var c=e.communityUsers&&JSON.parse(st()(e.communityUsers))||[];if(t.payload.data){var l=t.payload.data.searchUserWithRoleCommunity;l.map((function(e){return c.push(e)}))}return v()({},e,{communityUsers:c});case ct.a.FETCH_VIEW_MORE_COMMUNITY_USERS_SUCCESS:var d=e.communityUsers&&JSON.parse(st()(e.communityUsers))||[];if(t.payload.data){var p=t.payload.data.searchCommunityUsers;p.map((function(e){return d.push(e)}))}return v()({},e,{communityUsers:d});case ct.a.FETCH_ALL_COMMUNITY_USERS_SUCCESS:return v()({},e,{communityUsers:t.payload.data&&t.payload.data||[],isError:!1});case ct.a.UNJOINED_COMMUNITY:var f=e.communities&&JSON.parse(st()(e.communities))||[],S=e.pickCommunity&&JSON.parse(st()(e.pickCommunity))||[],m=e.community&&JSON.parse(st()(e.community))||null,E=t.payload.data,C=f.find((function(e){return e.id===E.communityId}));C&&(C.participantCount=C.participantCount>0?C.participantCount-1:0);var y=S.find((function(e){return e.id===E.communityId}));return y&&(y.participantCount=y.participantCount>0?y.participantCount-1:0),m&&m.id===E.communityId&&(m.participantCount=m.participantCount>0?m.participantCount-1:0),v()({},e,{communities:f,community:m,pickCommunity:S,isError:!1});case ct.a.JOINED_COMMUNITY:var _=e.communities&&JSON.parse(st()(e.communities))||[],h=e.community&&JSON.parse(st()(e.community))||null,g=e.pickCommunity&&JSON.parse(st()(e.pickCommunity))||[],O=t.payload.data;return O&&O.length>0&&O.map((function(e){var t=_.find((function(t){return t.id===e.communityId}));t&&(t.participantCount=t.participantCount+1);var n=g.find((function(t){return t.id===e.communityId}));n&&(n.participantCount=n.participantCount+1),h&&h.id===e.communityId&&(h.participantCount=h.participantCount+1)})),v()({},e,{communities:_,community:h,pickCommunity:g,isError:!1});case ct.a.FETCH_ALL_COMMUNITY_ALLOW_POST_SUCCESS:return v()({},e,{communitiesAllowPost:t.payload.data,isError:!1});case ct.a.FETCH_COMMUNITY_INFO_SUCCESS:return v()({},e,{community:Ct({},e.community,{owner:t.payload.data&&t.payload.data.owner||null,moderators:t.payload.data&&t.payload.data.moderators||[]}),isError:!1});case ct.a.CLEAR_COMMUNITY_SUCCESS:return v()({},e,{community:null});case ct.a.CLEAR_COMMUNITIES_SUCCESS:return v()({},e,{communities:[],communitiesConnection:0});case ct.a.CLEAR_PICK_COMMUNITIES_SUCCESS:return v()({},e,{pickCommunity:[]});case ct.a.CLEAR_COMMUNITY_USERS_SUCCESS:return v()({},e,{communityUsers:[]});case ct.a.CREATE_RELATED_COMMUNITY_SUCCESS:return v()({},e);case ct.a.FETCH_ACTIVE_MEMBER:return v()({},e,{activeMembers:t.payload.data});case ct.a.GET_SUGGESTED_COMMUNITIES:return v()({},e,Ct({},t.payload.data));case ct.a.RANDOMIZE_SUGGESTED_COMMUNITIES:return v()({},e,{randomSuggestedCommunities:Object(ut.l)(e.suggestedCommunities,re.vc)});case ct.a.UPDATE_COMMUNITY_USER_SUCCESS:default:return e}},_t=n("dfwq"),ht=n("vcB1");function gt(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):gt(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var Tt={comment:null,comments:[],authorComments:[],commentSponsoreds:[],commentsConnection:0,totalComment:0,isCreateSuccess:!1,isUpdateSuccess:!1,newComments:null,commentCommunity:null,communityApprovedComments:null,communityWaitingApprovalComments:null},bt=function(e,t){var n=e||0;return null===t||void 0===t||t.forEach((function(e,t){n+=null===e||void 0===e?void 0:e.replyCommentCount})),n},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.CLEAR_CREATE_COMMENTS_SUCCESS:return v()({},e,{isCreateSuccess:t.payload.isCreateSuccess});case ct.a.FETCH_COMMENTS_SUCCESS:var n=t.payload.data,r=n.data,a=n.count;return v()({},e,{comments:r,commentsConnection:a,totalComment:bt(a,r)});case ct.a.FETCH_VIEW_MORE_COMMENTS_SUCCESS:var o=e.comments&&JSON.parse(st()(e.comments))||[],i=t.payload.data.data;if(i&&i.length>0){var s,u,c,l=null!==(s=null===(u=t.payload)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:c.type)&&void 0!==s?s:"next";o="prev"===l?[].concat(Object(_t.a)(i),Object(_t.a)(o)):[].concat(Object(_t.a)(o),Object(_t.a)(i))}return v()({},e,{comments:o});case ct.a.FETCH_REPLY_COMMENTS_SUCCESS:var d,p=e.comments.find((function(e){return e.id===t.payload.data.parentId}));if(p)(d=p.children).push.apply(d,Object(_t.a)(t.payload.data.children));return v()({},e,{comments:e.comments});case ct.a.FETCH_COMMENT_SPONSORED_SUCCESS:var f=t.payload.data.data;return v()({},e,{commentSponsoreds:f.map((function(e){return Ot({},e,{status:"Published"})}))});case ct.a.FETCH_COMMENTS_PAGER_SUCCESS:var S=t.payload.data,m=S.data,E=S.count;return v()({},e,{comments:m,commentsConnection:E,isError:!1,totalComment:bt(E,m)});case ct.a.FETCH_AUTHOR_COMMENTS_SUCCESS:var C=e.authorComments&&JSON.parse(st()(e.authorComments))||[],y=t.payload.data.users;return v()({},e,{authorComments:[].concat(Object(_t.a)(C),Object(_t.a)(y))});case ct.a.FETCH_COMMUNITY_COMMENTS_SUCCESS:return v()({},e,{commentCommunity:t.payload.community});case ct.a.LIKE_COMMENT_SUCCESS:var _=t.payload.data,h=_.data,g=_.parentId,O=e.comments&&JSON.parse(st()(e.comments))||[];if(O&&O.length>0){var T=null;if(g){var b=O.find((function(e){return e.id===g}));b&&b.children&&b.children.length>0&&(T=b.children.find((function(e){return e.id===h.referenceId})))}else T=O.find((function(e){return e.id===h.referenceId}));T&&(T.likeCount=T.likeCount+1,T.userLike=[h])}return v()({},e,{comments:O});case ct.a.UNLIKE_COMMENT_SUCCESS:var R=t.payload.data,P=R.data,U=R.parentId,I=e.comments&&JSON.parse(st()(e.comments))||[];if(I&&I.length>0){var M=null;if(U){var N=I.find((function(e){return e.id===U}));N&&N.children&&N.children.length>0&&(M=N.children.find((function(e){return e.id===P.referenceId})))}else M=I.find((function(e){return e.id===P.referenceId}));M&&(M.likeCount=M.likeCount>0?M.likeCount-1:0,M.userLike=[])}return console.log("comments..........",I),v()({},e,{comments:I});case ct.a.CREATE_COMMENT_SUCCESS:var A=t.payload.data,w=e.comments&&JSON.parse(st()(e.comments))||[],k=e.commentsConnection;if(A)if(A.parentId){if(w&&w.length>0){var j=w.find((function(e){return e.id===A.parentId}));if(j){var D=j.children||[];D.push(A),j.children=D.sort(Object(ut.m)("createdAt")),j.replyCommentCount=j.replyCommentCount+1;var L=w.findIndex((function(e){return e.id===A.parentId}));w[L]=j}}}else w.push(A),k+=1;return v()({},e,{comments:w.sort(Object(ut.m)("createdAt")).reverse(),commentsConnection:k,totalComment:bt(k,w),isCreateSuccess:!0});case ct.a.UPDATE_COMMENT_SUCCESS:var H=e.comments&&JSON.parse(st()(e.comments))||[],F=t.payload.data;if(F.parentId){if(H&&H.length>0){var x=H.find((function(e){return e.id===F.parentId}));if(x){var G=H.findIndex((function(e){return e.id===F.parentId}));x.children=Object(ht.g)(x.children||[],F),(F.isHidden||F.isDeleted)&&(x.replyCommentCount=x.replyCommentCount-1),H[G]=x}}}else H=Object(ht.g)(H,F);return v()({},e,{comment:t.payload.data,comments:H,isUpdateSuccess:!0});case ct.a.CLEAR_COMMENTS_SUCCESS:return v()({},e,{comments:[]});case ct.a.CLEAR_AUTHOR_COMMENTS_SUCCESS:return v()({},e,{authorComments:[]});case ct.a.FETCH_COMMENT_INDEX_SUCCESS:return v()({},e,{commentIndex:t.payload.data});case ct.a.HIGHLIGHT_COMMENT_SUCCESS:return v()({},e,{highlighted:t.payload.data});case ct.a.COUNT_COMMENT_WAITING_FOR_APPROVAL:return v()({},e,{countCommentWaiting:t.payload.data});case ct.a.FETCH_COMMUNITY_APPROVED_COMMENTS:var V=t.payload.data,B=V.data,W=V.count;return v()({},e,{communityApprovedComments:B,communityApprovedCommentsCount:W});case ct.a.FETCH_COMMUNITY_APPROVED_COMMENTS_MORE:var J=t.payload.data,K=J.data,Y=J.count,X=[].concat(Object(_t.a)(e.communityApprovedComments||[]),Object(_t.a)(K));return v()({},e,{communityApprovedComments:X,communityApprovedCommentsCount:Y});case ct.a.FETCH_COMMUNITY_WAITING_APPROVAL_COMMENTS:var z=t.payload.data,q=z.data,$=z.count;return v()({},e,{communityWaitingApprovalComments:q,communityWaitingApprovalCommentsCount:$});case ct.a.FETCH_COMMUNITY_WAITING_APPROVAL_COMMENTS_MORE:var Q=t.payload.data,Z=Q.data,ee=Q.count,te=[].concat(Object(_t.a)(e.communityWaitingApprovalComments||[]),Object(_t.a)(Z));return v()({},e,{communityWaitingApprovalComments:te,communityWaitingApprovalCommentsCount:ee});case ct.a.APPROVE_COMMENTS:var ne=t.payload.data.data,re=void 0===ne?[]:ne,ae=Object(ht.h)({waitingComments:e.communityWaitingApprovalComments,commentCount:e.communityWaitingApprovalCommentsCount||0,changedCommentIds:re}),oe=ae.waitingComments,ie=ae.commentCount;return v()({},e,{communityWaitingApprovalComments:oe,communityWaitingApprovalCommentsCount:ie});case ct.a.UN_APPROVE_COMMENTS:var se=t.payload.data.data,ue=void 0===se?[]:se,ce=Object(ht.h)({waitingComments:e.communityWaitingApprovalComments,commentCount:e.communityWaitingApprovalCommentsCount||0,changedCommentIds:ue}),le=ce.waitingComments,de=ce.commentCount;return v()({},e,{communityWaitingApprovalComments:le,communityWaitingApprovalCommentsCount:de});default:return e}};function Pt(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):Pt(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var It={post:null,posts:[],trendingPosts:[],postsOfUser:[],trendingPostsConnection:0,stickyPosts:[],relatedPosts:null,postsConnection:0,isError:!1,errorMessage:"",isSubmitting:!1,isCreateSuccess:!1,isUpdateSuccess:!1,searchPostSameAuthorES:[],swiperPrevPost:null,swiperNextPost:null,postsForGuest:[]},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.SET_SUBMITTING_POST:return v()({},e,{isSubmitting:t.payload.isSubmitting});case ct.a.SET_ERROR_POST:return v()({},e,{isError:!0,errorMessage:t.errorMessage});case ct.a.FETCH_POST_SUCCESS:return v()({},e,{post:Ut({},t.payload.data),isError:!1,isCreateSuccess:!1,isUpdateSuccess:!1});case ct.a.FETCH_POSTS_SUCCESS:return v()({},e,{posts:t.payload.data,isError:!1});case ct.a.FETCH_RELATED_POSTS_SUCCESS:return v()({},e,{relatedPosts:t.payload.data||[],isError:!1});case ct.a.FETCH_POSTS_OF_USER_SUCCESS:return v()({},e,{postsOfUser:t.payload.data,isError:!1});case ct.a.FETCH_POST_CONNECTION_SUCCESS:return v()({},e,{postsConnection:t.payload.data,isError:!1});case ct.a.FETCH_TRENDING_POSTS_SUCCESS:var n,r,a,o=null!==(n=null===(r=t.payload)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.searchTrendingPost)&&void 0!==n?n:[];return v()({},e,{trendingPosts:o,trendingPostsConnection:0,isError:!1});case ct.a.FETCH_UPDATE_TRENDING_POSTS_SUCCESS:var i=t.payload.data,s=null===e||void 0===e?void 0:e.trendingPosts;return s&&i.ignoreTrending&&(s=s.filter((function(e){return e.id!==i.id}))),v()({},e,{trendingPosts:s});case ct.a.FETCH_VIEW_MORE_TRENDING_POSTS_SUCCESS:var u=e.trendingPosts&&JSON.parse(st()(e.trendingPosts))||[];if(t.payload.data){var c=t.payload.data.searchTrendingPost;c.map((function(e){return u.push(e)}))}return localStorage.setItem("trendingPosts",st()(u)),v()({},e,{trendingPosts:u,isError:!1});case ct.a.FETCH_POSTS_PAGER_SUCCESS:var l=t.payload.data,d=l.data,p=l.postsForGuest,f=l.count;return v()({},e,{posts:d,postsConnection:f,isError:!1,postsForGuest:p});case ct.a.FETCH_VIEW_MORE_POSTS_PAGER_SUCCESS:var S=t.payload.data.data,m=e.posts&&JSON.parse(st()(e.posts))||[];return t.payload.data&&S.map((function(e){return m.push(e)})),localStorage.setItem("communityPosts",st()(m)),v()({},e,{posts:m,isError:!1});case ct.a.FETCH_TRENDING_POSTS_PICKED_SUCCESS:var E;return v()({},e,{trendingPostPicked:(null===(E=t.payload.data)||void 0===E?void 0:E.searchTrendingPostPick)||[],isError:!1});case ct.a.FETCH_STICKY_POSTS_SUCCESS:return v()({},e,{stickyPosts:t.payload.data,isError:!1});case ct.a.CREATE_POST_SUCCESS:return v()({},e,{post:Ut({},t.payload.data),isError:!1,isCreateSuccess:!0});case ct.a.UPDATE_POST_SUCCESS:return v()({},e,{post:Ut({},e.post,{},t.payload.data),isError:!1,isUpdateSuccess:!0});case ct.a.CLEAR_POST_SUCCESS:return v()({},e,{post:null});case ct.a.CLEAR_POSTS_SUCCESS:return v()({},e,{posts:[]});case ct.a.CLEAR_RELATED_POSTS_SUCCESS:return v()({},e,{relatedPosts:[]});case ct.a.CLEAR_POST_CONNECTION_SUCCESS:return v()({},e,{postsConnection:0});case ct.a.CLEAR_POSTS_PAGER_SUCCESS:return v()({},e,{posts:[],postsConnection:0});case ct.a.CLEAR_STICKY_POSTS_SUCCESS:return v()({},e,{stickyPosts:[]});case ct.a.CLEAR_POSTS_TRENDING_SUCCESS:return v()({},e,{trendingPosts:[],trendingPostsConnection:0});case ct.a.FETCH_POST_RELATED_POSTS_SUCCESS:return v()({},e,{postRelatedPosts:t.payload.data});case ct.a.FETCH_TOP_VIEW_POST:return v()({},e,{topViewPosts:t.payload.data});case ct.a.FETCH_POST_CATEGORY_RELATED_POSTS_SUCCESS:return v()({},e,{elasticSearchPostSameCategory:t.payload.data});case ct.a.FETCH_POST_SAME_AUTHOR_SUCCESS:return v()({},e,{searchPostSameAuthorES:t.payload.data});case ct.a.COUNT_POST_WAITING_FOR_APPROVAL:return v()({},e,{postWaitingForApproval:t.payload.data});case ct.a.FETCH_SWIPER_PREV_POST:return v()({},e,{swiperPrevPost:t.payload.data});case ct.a.FETCH_SWIPER_NEXT_POST:return v()({},e,{swiperNextPost:t.payload.data});case ct.a.FETCH_SWIPER_POST:return v()({},e,{swiperPost:t.payload.data});case ct.a.GET_SEO_WIDGET_POSTS:return v()({},e,{seoWidgetPosts:t.payload.data});case ct.a.LIKE_POST_SUCCESS:return e.post&&(e.post.likeCount++,e.post.userLike=[t.payload.data]),e;case ct.a.UNLIKE_POST_SUCCESS:return e.post&&(e.post.likeCount--,e.post.userLike=[t.payload.data]),e;default:return e}};function Nt(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):Nt(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var wt={postsData:[]},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_POSTS_PAGER_SUCCESS:case ct.a.FETCH_VIEW_MORE_POSTS_PAGER_SUCCESS:var n=Object(ht.e)(e.postsData,t.payload.data&&t.payload.data.data||[]);return v()({},e,{postsData:Object(_t.a)(n)});case ct.a.FETCH_POSTS_SUCCESS:var r=Object(ht.e)(e.postsData,t.payload.data||[]);return v()({},e,{postsData:Object(_t.a)(r)});case ct.a.FETCH_TRENDING_POSTS_SUCCESS:case ct.a.FETCH_VIEW_MORE_TRENDING_POSTS_SUCCESS:var a=Object(ht.e)(e.postsData,t.payload.data&&t.payload.data.searchTrendingPost||[]);return v()({},e,{postsData:Object(_t.a)(a)});case ct.a.FETCH_STICKY_POSTS_SUCCESS:var o=Object(ht.e)(e.postsData,t.payload.data||[]);return v()({},e,{postsData:Object(_t.a)(o)});case ct.a.FETCH_POST_ADVERTISEMENT_SUCCESS:var i=Object(ht.e)(e.postsData,t.payload.data||[],"post");return v()({},e,{postsData:Object(_t.a)(i)});case ct.a.FETCH_POST_DATA_SUCCESS:if(t.payload.data){var s=Object(ht.c)(e.postsData,t.payload.data);return v()({},e,{postsData:Object(_t.a)(s)})}break;case ct.a.LIKE_POST_SUCCESS:var u=e.postsData,c=u.findIndex((function(e){return e.id===t.payload.data.referenceId}));return c>=0&&(u[c].likeCount=u[c].likeCount+1,u[c].userLike=[t.payload.data]),v()({},e,{postsData:u});case ct.a.UNLIKE_POST_SUCCESS:var l=e.postsData,d=l.findIndex((function(e){return e.id===t.payload.data.referenceId}));return d>=0&&(l[d].likeCount=l[d].likeCount>0?l[d].likeCount-1:0,l[d].userLike=[]),v()({},e,{postsData:l});case ct.a.POST_CREATE_COMMENT_SUCCESS:case ct.a.CREATE_COMMENT_SUCCESS:var p=e.postsData&&JSON.parse(st()(e.postsData))||[],f=t.payload.data;if(f){var S=p.findIndex((function(e){return e.id===t.payload.data.postId}));return S>=0&&f.status===re.Ec.commentStatusEnum.Published&&(p[S].commentCount=p[S].commentCount+1,p[S].lastComment=t.payload.data),v()({},e,{postsData:p})}break;case ct.a.UPDATE_COMMENT_SUCCESS:var m=e.postsData&&JSON.parse(st()(e.postsData))||[],E=m.findIndex((function(e){return e.id===t.payload.data.postId})),C=t.payload.data.replyCommentCount+1;return E>=0&&(t.payload.data.isHidden||t.payload.data.isDeleted?m[E].commentCount=m[E].commentCount-C:m[E].commentCount=m[E].commentCount+C),v()({},e,{postsData:m});case ct.a.UPDATE_RECENT_COMMENT_POST_SUCCESS:var y=t.payload.data,_=y.data,h=y.postId,g=e.postsData&&JSON.parse(st()(e.postsData))||[],O=g.findIndex((function(e){return e.id===h}));return O>=0&&(g[O].lastComment=_),v()({},e,{postsData:g});case ct.a.LIKE_COMMENT_SUCCESS:var T=t.payload.data.data,b=e.postsData&&JSON.parse(st()(e.postsData))||[];if(T){var R=b.findIndex((function(e){return e.lastComment&&e.lastComment.id===T.referenceId}));R>=0&&(b[R].lastComment=At({},b[R].lastComment,{userLike:T||null,likeCount:b[R].lastComment.likeCount+1}))}return v()({},e,{postsData:b});case ct.a.UNLIKE_COMMENT_SUCCESS:var P=t.payload.data.data,U=e.postsData&&JSON.parse(st()(e.postsData))||[],I=U.findIndex((function(e){return e.lastComment&&e.lastComment.id===P.referenceId}));return I>=0&&(U[I].lastComment=At({},U[I].lastComment,{userLike:null,likeCount:U[I].lastComment.likeCount>0?U[I].lastComment.likeCount-1:0})),v()({},e,{postsData:U});case ct.a.SET_POSTS_DATA:var M=t.payload.data||[];return v()({},e,{postsData:M});default:return e}},jt={errorMsg:"",errorCode:"",loginFailure:0,fieldError:null,fieldMessage:""},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.USER_REGISTERED:case ct.a.USER_LOGGED_IN:return jt;case ct.a.USER_AUTH_ERROR:return v()({},e,{errorMsg:t.msg,errorCode:t.errorCode,loginFailure:e.loginFailure+1});case ct.a.USER_UPDATE_PASSWORD_ERROR:return v()({},e,{errorMsg:t.msg,errorCode:t.errorCode});case ct.a.FIELD_ERROR:return v()({},e,{fieldError:t.errorCode,fieldMessage:t.msg});case ct.a.RESET_FIELD_ERROR:return v()({},e,{fieldError:null,fieldMessage:""});case ct.a.USER_UPDATE_PASSWORD_SUCCESS:return jt;default:return e}},Lt={viewMore:!1,isLoading:!1,isLoadPage:!0,loadingSticky:!1,loadingCommunities:!1,loadingCommunitiesByPick:!1,loadingPostDetail:!1,loadingCommunityPosts:!1,loadingViewMore:!1,loadingNotification:!0,loadingVoucher:!0,sendingComment:!1,loadingTopic:!0,loadingSearchUser:!1},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.SET_VIEW_MORE_POST:return v()({},e,{viewMore:t.payload.viewMore});case ct.a.START_FETCHING:return v()({},e,{isLoading:t.loading,viewMore:t.viewMore});case ct.a.START_FETCHING_COMMUNITIES:return v()({},e,{loadingCommunities:!0});case ct.a.STOP_FETCHING_COMMUNITIES:return v()({},e,{loadingCommunities:!1});case ct.a.START_FETCHING_COMMUNITIES_BY_PICK:return v()({},e,{loadingCommunitiesByPick:!0});case ct.a.STOP_FETCHING_COMMUNITIES_BY_PICK:return v()({},e,{loadingCommunitiesByPick:!1});case ct.a.STOP_LOADING_FETCHING:return v()({},e,{isLoading:!1});case ct.a.STOP_VIEW_MORE_FETCHING:return v()({},e,{viewMore:!1});case ct.a.START_FETCHING_STICK_POST:return v()({},e,{loadingSticky:!0});case ct.a.STOP_FETCHING_STICK_POST:return v()({},e,{loadingSticky:!1});case ct.a.START_LOAD_PAGE:return v()({},e,{isLoadPage:!0});case ct.a.STOP_LOAD_PAGE:return v()({},e,{isLoadPage:!1});case ct.a.STOP_FETCHING:return v()({},e,{isLoading:!1});case ct.a.START_FETCHING_POST_DETAIL:return v()({},e,{loadingPostDetail:!0});case ct.a.STOP_FETCHING_POST_DETAIL:return v()({},e,{loadingPostDetail:!1});case ct.a.START_FETCHING_COMMUNITY_POSTS:return v()({},e,{loadingCommunityPosts:!0});case ct.a.STOP_FETCHING_COMMUNITY_POSTS:return v()({},e,{loadingCommunityPosts:!1});case ct.a.START_FETCHING_VOUCHER:return v()({},e,{loadingVoucher:!0});case ct.a.STOP_FETCHING_VOUCHER:return v()({},e,{loadingVoucher:!1});case ct.a.START_FETCHING_VIEW_MORE:return v()({},e,{loadingViewMore:!0});case ct.a.STOP_FETCHING_VIEW_MORE:return v()({},e,{loadingViewMore:!1});case ct.a.START_FETCHING_NOTIFICATION:return v()({},e,{loadingNotification:!0});case ct.a.STOP_FETCHING_NOTIFICATION:return v()({},e,{loadingNotification:!1});case ct.a.START_FETCHING_CREATE_COMMENT:return v()({},e,{sendingComment:!0});case ct.a.STOP_FETCHING_CREATE_COMMENT:return v()({},e,{sendingComment:!1});case ct.a.START_FETCHING_TOPIC_COVID:return v()({},e,{loadingTopic:!0});case ct.a.STOP_FETCHING_TOPIC_COVID:return v()({},e,{loadingTopic:!1});case ct.a.START_FETCHING_SEARCH_USER:return v()({},e,{loadingSearchUser:!0});case ct.a.STOP_FETCHING_SEARCH_USER:return v()({},e,{loadingSearchUser:!1});default:return e}},Ft={interest:[],interestCommunities:[]},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.ADD_INTEREST_SUCCESS:return v()({},e,{interest:t.payload.data});case ct.a.FETCH_INTEREST_COMMUNITIES_SUCCESS:return v()({},e,{interestCommunities:t.payload.data});case ct.a.FETCH_INTEREST_VIEW_MORE_COMMUNITIES_SUCCESS:var n=t.payload.data,r=n.code,a=n.communities,o=e.interestCommunities&&JSON.parse(st()(e.interestCommunities))||[],i=o.find((function(e){return e.category.id===r}));return i&&a.map((function(e){return i.communities.push(e)})),v()({},e,{interestCommunities:o});case ct.a.USER_LOGGED_OUT:return Ft;default:return e}};function Gt(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):Gt(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var Bt={profile:null,isLoading:!1,isEditProfile:!1,isError:!1,errorMessage:""},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.SET_ERROR_PROFILE:return v()({},e,{isError:!0,errorMessage:t.errorMessage});case ct.a.USER_DATA:return v()({},e,{profile:Vt({},t.payload.data),isError:!1});case ct.a.UPDATE_WALLET_PROFILE:return v()({},e,{profile:Vt({},e.profile,{walletPoint:t.payload.walletPoint}),isError:!1});case ct.a.USER_UPDATED_AVATAR:return v()({},e,{profile:Vt({},e.profile,{user:{avatarUrl:t.payload.avatarUrl}})});case ct.a.FETCH_MY_ATTENDANCE:return v()({},e,Vt({},e,{userAttendance:t.payload.data,isError:!1}));default:return e}},Jt={userBookmarks:[],bookmarks:[],bookmarksConnection:0,createBookmarkSuccess:!1},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_BOOKMARK_PAGER_SUCCESS:var n=t.payload.data,r=n.searchBookmarks,a=n.searchBookmarksConnection;return v()({},e,{bookmarks:r||[],bookmarksConnection:a?a.count:0});case ct.a.FETCH_BOOKMARK_BY_USER_SUCCESS:var o=t.payload.data||[],i=o.bookmarks;return v()({},e,{userBookmarks:i||[]});case ct.a.CREATE_BOOKMARK_SUCCESS:var s=e.userBookmarks&&JSON.parse(st()(e.userBookmarks))||[];return s.push(t.payload.data),v()({},e,{userBookmarks:s});case ct.a.DELETE_BOOKMARK_SUCCESS:var u=e.userBookmarks&&JSON.parse(st()(e.userBookmarks))||[],c=null===u||void 0===u?void 0:u.findIndex((function(e){return e.id===t.payload.data.id}));return c>=0&&u.splice(c,1),v()({},e,{userBookmarks:u});case ct.a.CLEAR_BOOKMARK_PAGER_SUCCESS:return v()({},e,{bookmarks:[],bookmarksConnection:0});case ct.a.CLEAR_BOOKMARK_BY_USER_SUCCESS:case ct.a.USER_LOGGED_OUT:return v()({},e,{userBookmarks:[]});default:return e}},Yt={reportContents:[],reportSuccess:!1,reportReasons:[]},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.CREATE_REPORT_SUCCESS:var n=e.reportContents;return n.push(t.payload.data),v()({},e,{reportSuccess:!0,reportContents:n});case ct.a.CLEAR_REPORT_SUCCESS:return Yt;case ct.a.FETCH_REPORT_REASON_SUCCESS:return v()({},e,{reportReasons:t.payload.data});default:return e}},zt=n("kKES"),qt={userRanks:[],userRanksConnection:0,activeUserRanks:[]},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.CLEAR_USER_RANK_SUCCESS:return qt;case ct.a.FETCH_USER_RANK_COMMUNITY_SUCCESS:return v()({},e,{userRanks:t.payload.data});case ct.a.FETCH_USER_RANK_SUCCESS:var n=t.payload.data,r=n.searchUserRanks,a=n.searchUserRanksConnection;return v()({},e,{userRanks:r||[],userRanksConnection:a&&a.count||0});case ct.a.VIEW_MORE_USER_RANK_SUCCESS:var o=t.payload.data.searchUserRanks,i=e.userRanks&&JSON.parse(st()(e.userRanks))||[];return o&&o.length>0&&o.map((function(e){i.push(e)})),v()({},e,{userRanks:i});case ct.a.FETCH_USER_RANK_ALL_TIME_SUCCESS:var s=t.payload.data.searchUserRankAllTime;return v()({},e,{userRanks:zt.b.pushListUserRank([],s)});case ct.a.VIEW_MORE_USER_RANK_ALL_TIME_SUCCESS:var u=t.payload.data.searchUserRankAllTime;return v()({},e,{userRanks:zt.b.pushListUserRank(e.userRanks,u)});case ct.a.FETCH_ACTIVE_USER_RANK_SUCCESS:return v()({},e,{activeUserRanks:t.payload.data?t.payload.data.searchActiveUserRanks:[]});default:return e}},Qt=n("Vla4");function Zt(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):Zt(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var tn={privateMessage:null,privateMessages:[],privateMessagesConnection:0,isCreateSuccess:!1,isUpdateSuccess:!1,isDeleteSuccess:!1},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_PRIVATE_MESSAGE_SUCCESS:return v()({},e,{privateMessage:t.payload.data});case ct.a.CLEAR_PRIVATE_MESSAGES_SUCCESS:return v()({},e,{isCreateSuccess:!1,isUpdateSuccess:!1,isDeleteSuccess:!1});case ct.a.FETCH_PRIVATE_MESSAGES_SUCCESS:var n=t.payload.data,r=n.userMessages,a=n.userMessagesConnection;return v()({},e,{privateMessages:r||[],privateMessagesConnection:null===a||void 0===a?void 0:a.fullCount});case ct.a.FETCH_VIEW_MORE_PRIVATE_MESSAGES_SUCCESS:var o=e.privateMessages&&JSON.parse(st()(e.privateMessages))||[];if(t.payload.data){var i=t.payload.data.userMessages;i.map((function(e){return o.push(e)}))}return v()({},e,{privateMessages:o});case ct.a.CREATE_PRIVATE_MESSAGES_SUCCESS:return v()({},e,{isCreateSuccess:!0});case ct.a.DELETE_PRIVATE_MESSAGES_SUCCESS:return v()({},e,en({isDeleteSuccess:!0},Qt.a.deletePrivateMessages(e.privateMessages,t.payload.data.deleteMultiPrivateMessage)));default:return e}},rn=n("rY+b"),an=n("IGK9"),on={announcement:null,announcements:null,unread:0,message:0,profile:!1},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_ANNOUNCEMENTS_SUCCESS:return v()({},e,{announcements:t.payload.data});case ct.a.CLEAR_ANNOUNCEMENTS_SUCCESS:return v()({},e,{announcements:null});case ct.a.UPDATE_ANNOUNCEMENT_SUCCESS:return v()({},e,{announcements:rn.a.updateUserNotification(e.announcements,t.payload.data.id),unread:an.a.subtractNumber(e.unread,1,!1)});case ct.a.CLEAR_ANNOUNCEMENT_SUCCESS:return v()({},e,{announcement:null});case ct.a.FETCH_ANNOUNCEMENT_SUCCESS:return v()({},e,{announcement:t.payload.data});case ct.a.COUNT_UNREAD_NOTIFICATION_SUCCESS:return v()({},e,{unread:t.payload.data.notification,message:t.payload.data.message,profile:t.payload.data.profile});case ct.a.FETCH_READ_ALL_NOTIFICATION:return v()({},e,{unread:0,announcements:rn.a.updateReadAllNotification(e.announcements)});case ct.a.UPDATE_READ_ALL_ANNOUNCEMENTS:return v()({},e,{announcements:rn.a.markAsReadAnnouncements(e.announcements)});case ct.a.FETCH_CLOSE_ANNOUNCEMENT_PIN:var n=t.payload.data,r=[];return n&&(r.push(n),localStorage.setItem("announcements",st()(r))),v()({},e,{announcementId:r});default:return e}},un={vouchers:[],vouchersConnection:0,voucher:null,redeemVoucher:null},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.CLEAR_VOUCHER_PAGER_SUCCESS:return v()({},e,un);case ct.a.FETCH_VOUCHER_PAGER_SUCCESS:var n=t.payload.data,r=n.vouchers,a=n.vouchersConnection;return v()({},e,{vouchers:r||[],vouchersConnection:a&&a.fullCount||0});case ct.a.FETCH_VIEW_MORE_VOUCHER_SUCCESS:var o=t.payload.data,i=o.vouchers,s=o.vouchersConnection,u=e.vouchers&&JSON.parse(st()(e.vouchers))||[];return i&&i.map((function(e){return u.push(e)})),v()({},e,{vouchers:u,vouchersConnection:s&&s.fullCount||0});case ct.a.FETCH_VOUCHER_DETAIL_SUCCESS:return v()({},e,{voucher:t.payload.data});case ct.a.REDEEM_VOUCHER_SUCCESS:return v()({},e,{redeemVoucher:"success"});case ct.a.REDEEM_VOUCHER_ERROR:return v()({},e,{redeemVoucher:t.payload.data});case ct.a.REDEEM_VOUCHER_CLEAN_UP:return v()({},e,{redeemVoucher:null});default:return e}},ln={userLevels:[]},dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_USER_LEVEL_SUCCESS:return v()({},e,{userLevels:t.payload.data});case ct.a.CLEAR_USER_LEVEL_SUCCESS:return ln;default:return e}},pn={userPointHistories:[],userPointHistoriesConnection:0},fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_USER_POINT_HISTORY_SUCCESS:var n=t.payload.data,r=n.userPointHistories,a=n.userPointHistoriesConnection;return v()({},e,{userPointHistories:r||[],userPointHistoriesConnection:a&&a.fullCount||0});case ct.a.VIEW_MORE_USER_POINT_HISTORY_SUCCESS:var o=t.payload.data.userPointHistories,i=e.userPointHistories&&JSON.parse(st()(e.userPointHistories))||[];return o&&o.map((function(e){return i.push(e)})),v()({},e,{userPointHistories:i});case ct.a.CLEAR_USER_POINT_HISTORY_SUCCESS:return pn;default:return e}},Sn={advertisement:null,adsPosts:[],trendingAdvertisements:[],sponsored:[]},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_POST_ADVERTISEMENT_SUCCESS:return v()({},e,{adsPosts:t.payload.data});case ct.a.FETCH_ADVERTISEMENT_SUCCESS:return v()({},e,{advertisement:t.payload.data});case ct.a.CLEAR_ADVERTISEMENT_SUCCESS:return v()({},e,{advertisement:null});case ct.a.FETCH_ADVERTISEMENT_TRENDING_SUCCESS:return v()({},e,{trendingAdvertisements:t.payload.data});case ct.a.CLEAR_ADVERTISEMENT_TRENDING_SUCCESS:return v()({},e,{trendingAdvertisements:[]});default:return e}},En={bannedWords:[]},Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_BANNED_WORD_SUCCESS:return v()({},e,{bannedWords:t.payload.data});case ct.a.CLEAR_BANNED_WORD_SUCCESS:return v()({},e,{bannedWords:[]});default:return e}},vn={userSearchLogs:[]},yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_USER_SEARCH_LOG_SUCCESS:return v()({},e,{userSearchLogs:t.payload.data});case ct.a.CLEAR_USER_SEARCH_LOG_SUCCESS:return v()({},e,{userSearchLogs:[]});case ct.a.DELETE_USER_SEARCH_LOG_SUCCESS:var n=t.payload.data,r=e.userSearchLogs&&JSON.parse(st()(e.userSearchLogs))||[];if(n&&r&&r.length>0){var a=r.findIndex((function(e){return e.id===n.id}));a>=0&&r.splice(a,1)}return v()({},e,{userSearchLogs:r});default:return e}},_n={verifySuccess:!1,verifyErrorCode:""},hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.USER_VERIFY_SUCCESS:return v()({},e,{verifySuccess:!0,verifyErrorCode:""});case ct.a.USER_VERIFY_ERROR:return v()({},e,{verifySuccess:!1,verifyErrorCode:t.payload.errorCode});default:return e}},gn={userComments:[],userHiddenComments:[],userHiddenPosts:[],userCreatePosts:[]},On=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.CREATE_USER_COMMENT_SUCCESS:var n=t.payload.data,r=e.userComments&&JSON.parse(st()(e.userComments))||[];return n&&r.push(n),v()({},e,{userComments:r});case ct.a.UPDATE_COMMENT_SUCCESS:var a=t.payload.data,o=e.userHiddenComments&&JSON.parse(st()(e.userHiddenComments))||[];return a&&(a.isHidden||a.isDeleted)&&o.push(a),v()({},e,{userHiddenComments:o});case ct.a.USER_UPDATE_POST_SUCCESS:var i=t.payload.data,s=e.userHiddenPosts&&JSON.parse(st()(e.userHiddenPosts))||[];return i&&(i.isHidden||i.isDeleted)&&s.push(i),v()({},e,{userHiddenPosts:s});case ct.a.USER_REVERT_POST_SUCCESS:var u=t.payload.data,c=e.userHiddenPosts&&JSON.parse(st()(e.userHiddenPosts))||[];if(u&&c&&c.length>0){var l=c.findIndex((function(e){return e.id===u.id}));l>=0&&c.splice(l,1)}return v()({},e,{userHiddenPosts:c});case ct.a.CREATE_POST_SUCCESS:var d=t.payload.data,p=e.userCreatePosts&&JSON.parse(st()(e.userCreatePosts))||[];if(d){var f=d.community;f&&(f.isPrivate||p.push(d))}return v()({},e,{userCreatePosts:p});case ct.a.USER_LOGGED_OUT:return v()({},e,{userComments:[],userHiddenComments:[],userHiddenPosts:[],userCreatePosts:[]});default:return e}},Tn=n("WIrD");function bn(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):bn(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var Pn={userLikePosts:[],userLikeComments:[],userJoinCommunity:[],userUnJoinCommunity:[]},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.LIKE_POST_SUCCESS:var n=t.payload.data,r=e.userLikePosts&&JSON.parse(st()(e.userLikePosts))||[];if(r&&r.length>0){var a=r.find((function(e){return e.referenceId===n.referenceId}));if(a){if(a.isDelete){var o=r.findIndex((function(e){return e.referenceId===n.referenceId}));r.splice(o,1),r.push(Rn({},n,{isDelete:!1}))}}else r.push(Rn({},n,{isDelete:!1}))}else r.push(Rn({},n,{isDelete:!1}));return v()({},e,{userLikePosts:r});case ct.a.UNLIKE_POST_SUCCESS:var i=t.payload.data,s=e.userLikePosts&&JSON.parse(st()(e.userLikePosts))||[];if(i)if(s&&s.length>0){var u=s.findIndex((function(e){return e.referenceId===i.referenceId}));u>=0?s.splice(u,1):s.push(Rn({},i,{isDelete:!0}))}else s.push(Rn({},i,{isDelete:!0}));return v()({},e,{userLikePosts:s});case ct.a.LIKE_COMMENT_SUCCESS:var c=t.payload.data.data,l=e.userLikeComments&&JSON.parse(st()(e.userLikeComments))||[];if(c)if(l&&l.length>0){var d=l.find((function(e){return e.referenceId===c.referenceId}));if(d){if(d.isDelete){var p=l.findIndex((function(e){return e.referenceId===c.referenceId}));l.splice(p,1),l.push(Rn({},c,{isDelete:!1}))}}else l.push(Rn({},c,{isDelete:!1}))}else l.push(Rn({},c,{isDelete:!1}));return v()({},e,{userLikeComments:l});case ct.a.UNLIKE_COMMENT_SUCCESS:var f=t.payload.data.data,S=e.userLikeComments&&JSON.parse(st()(e.userLikeComments))||[];if(f)if(S&&S.length>0){var m=S.findIndex((function(e){return e.referenceId===f.referenceId}));m>=0?S.splice(m,1):S.push(Rn({},f,{isDelete:!0}))}else S.push(Rn({},f,{isDelete:!0}));return v()({},e,{userLikeComments:S});case ct.a.JOINED_COMMUNITY:var E=Object(Tn.j)(e.userJoinCommunity,e.userUnJoinCommunity,t.payload.data);return v()({},e,{userJoinCommunity:E.dataPush,userUnJoinCommunity:E.dataRemove});case ct.a.UNJOINED_COMMUNITY:var C=[];C.push(t.payload.data);var y=Object(Tn.j)(e.userUnJoinCommunity,e.userJoinCommunity,C);return v()({},e,{userJoinCommunity:y.dataRemove,userUnJoinCommunity:y.dataPush});case ct.a.USER_LOGGED_OUT:return v()({},e,{userLikePosts:[],userLikeComments:[],userJoinCommunity:[],userUnJoinCommunity:[]});default:return e}},In={openToast:!1,type:null,message:""},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.SHOW_TOAST:return v()({},e,{openToast:!0,type:t.payload.type,message:t.payload.message});case ct.a.RESET_TOAST:return v()({},e,In);default:return e}},Nn={popupAds:[],isShowPopover:!0},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_POPUP_SUCCESS:return v()({},e,{popupAds:t.payload.data});case ct.a.HIDDEN_POPOVER_UPDATE_PROFILE:return v()({},e,{isShowPopover:t.payload.data});default:return e}},wn={faqs:[]},kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_FAQ_SUCCESS:var n=t.payload.data.searchFAQ;return v()({},e,{faqs:n||[]});case ct.a.CLEAR_FAQ_SUCCESS:return v()({},e,{faqs:[]});default:return e}};function jn(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):jn(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var Ln={code:null,message:null,otherInfo:null},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_FORM_FIELD_ERROR_SUCCESS:return v()({},e,Dn({},t.payload));case ct.a.FETCH_RESET_FORM_FIELD_ERROR_SUCCESS:default:return Ln}},Fn={readAnnouncements(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.UPDATE_READ_ALL_ANNOUNCEMENTS:var n=[].concat(Object(_t.a)(e.data||[]),Object(_t.a)(t.payload.data||[]));return n=Object(ut.o)(n),v()({},e,{data:n});default:return e}}};function xn(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Gn=n("XXOK"),Vn=n.n(Gn),Bn=n("XVgq"),Wn=n.n(Bn),Jn=n("Z7t5"),Kn=n.n(Jn),Yn=n("d04V"),Xn=n.n(Yn);function zn(e,t){var n;if("undefined"===typeof Kn.a||null==e[Wn.a]){if(fe()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Xn()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=Vn()(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $n={},Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_SETTING_SUCCESS:if(!fe()(t.payload.data))return v()({},e,{[t.payload.data.key]:t.payload.data.value});var n,r={},a=zn(t.payload.data);try{for(a.s();!(n=a.n()).done;){var o=n.value;r[o.key]=o.value}}catch(i){a.e(i)}finally{a.f()}return v()({},e,r);default:return e}},Zn={isError:!1,tag:null,tags:[]},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.SET_ERROR_TAG:return v()({},e,{isError:!0,errorMessage:t.errorMessage});case ct.a.FETCH_TAG_SUCCESS:return v()({},e,{tag:t.payload.data});case ct.a.FETCH_TAGS_SUCCESS:return v()({},e,{tags:t.payload.data});default:return e}},tr={users:[]},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_USERS_SUCCESS:return v()({},e,{users:t.payload.data?t.payload.data:[]});case ct.a.CLEAR_USERS_SUCCESS:return v()({},e,{users:[]});default:return e}},rr={covid:[]},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_TOPIC_SUCCESS:return t.payload.data.map((function(e,n){t.payload.data[n].beingTreated=(null===e||void 0===e?void 0:e.total)-(null===e||void 0===e?void 0:e.death)-(null===e||void 0===e?void 0:e.recovered)})),v()({},e,{covid:t.payload.data});default:return e}},or={userSearchMention:[],keySearchUser:"",openSuggestMention:!1,valueMention:""},ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_USER_SEARCH_MENTION:return v()({},e,{userSearchMention:t.payload.data});case ct.a.SET_KEY_SEARCH_USER_MENTION:return v()({},e,{keySearchUser:t.payload.data});case ct.a.SHOW_POPUP_SUGGEST_MENTION:return v()({},e,{openSuggestMention:t.payload.data});case ct.a.USER_SELECT_MENTION:return v()({},e,{valueMention:t.payload.data});case ct.a.CLEAR_DATA_SEARCH_USER_MENTION:return v()({},e,{userSearchMention:[]});default:return e}},sr={form:{},errorMessage:"",isSubmitFormSuccess:!1,mappingRegister:[],loadingSubmitForm:!1,formSubmitErrors:[]},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_FORMS_SUCCESS:return v()({},e,{form:t.payload.data});case ct.a.SET_ERROR_FORMS:return v()({},e,{errorMessage:t.payload.data});case ct.a.START_SUBMIT_FORM_DATA:return v()({},e,{loadingSubmitForm:!0,formSubmitErrors:[]});case ct.a.END_SUBMIT_FORM_DATA:return v()({},e,{loadingSubmitForm:!1});case ct.a.SUBMIT_FORM_DATA_ERRORS:return v()({},e,{formSubmitErrors:t.payload.data,loadingSubmitForm:!1});case ct.a.SUBMIT_FORM_DATA_SUCCESS:return v()({},e,{isSubmitFormSuccess:!0,mappingRegister:t.payload.data.filter((function(e){var t;return(null===(t=e.mapping_field)||void 0===t?void 0:t.length)>0})),loadingSubmitForm:!1,formSubmitErrors:[]});default:return e}};function cr(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):cr(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}var dr={provinces:[],districts:{},wards:{},currentProvince:{},currentDistrict:{}},pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct.a.FETCH_PROVINCES_SUCCESS:return v()({},e,{provinces:t.payload.data});case ct.a.FETCH_DISTRICTS_SUCCESS:var n=t.payload.data,r=n.data,a=n.fieldId;return v()({},e,{districts:lr({},null===e||void 0===e?void 0:e.districts,{[a]:r}),provinces:null===e||void 0===e?void 0:e.provinces.map((function(t){return t.code==e.currentProvince[a]?lr({},t,{districts:r}):lr({},t)}))});case ct.a.FETCH_WARDS_SUCCESS:return v()({},e,{wards:lr({},null===e||void 0===e?void 0:e.wards,{[t.payload.data.fieldId]:t.payload.data.data}),provinces:null===e||void 0===e?void 0:e.provinces.map((function(n){return n.code==e.currentProvince[t.payload.data.fieldId]?lr({},n,{districts:null===n||void 0===n?void 0:n.districts.map((function(n){return n.code==e.currentDistrict[t.payload.data.fieldId]?lr({},n,{wards:t.payload.data.data}):lr({},n)}))}):lr({},n)}))});case ct.a.SELECT_PROVINCE:return v()({},e,{currentProvince:lr({},null===e||void 0===e?void 0:e.currentProvince,{[t.payload.data.fieldId]:t.payload.data.code})});case ct.a.SELECT_DISTRICT:return v()({},e,{currentDistrict:lr({},null===e||void 0===e?void 0:e.currentDistrict,{[t.payload.data.fieldId]:t.payload.data.code})});case ct.a.SET_DISTRICT:return v()({},e,{districts:lr({},null===e||void 0===e?void 0:e.districts,{[t.payload.data.fieldId]:t.payload.data.districtList})});case ct.a.SET_WARD:return v()({},e,{wards:lr({},null===e||void 0===e?void 0:e.wards,{[t.payload.data.fieldId]:t.payload.data.wardList})});default:return e}};function fr(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}var Sr=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):fr(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}({},Fn,{auth:ft,category:mt,comment:Rt,community:yt,post:Mt,postsData:kt,fetching:Ht,notifications:at.reducer,authError:Dt,interest:xt,profile:Wt,report:Xt,bookmark:Kt,userRank:$t,privateMessage:nn,announcement:sn,voucher:cn,userLevel:dn,userPointHistory:fn,advertisement:mn,bannedWord:Cn,userSearchLog:yn,modal:ot.c,verify:hn,userComment:On,userAction:Un,toast:Mn,popup:An,internalBoard:kn,formError:Hn,personalized:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{payload:[]};switch(t.type){case ct.a.SET_PERSONALIZED_VALUES:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):xn(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}({},e,{},t.payload);default:return e}},setting:Qn,tags:er,userSelect:nr,topic:ar,userMention:ir,forms:ur,location:pr}),mr=!1;try{var Er;mr=null===(Er=localStorage)||void 0===Er?void 0:Er.getItem("REDUX_DEVTOOLS_WTT_DEV")}catch(jr){}var Cr=[];Cr.push(ue);var vr=Object(oe.combineReducers)(Sr),yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=nt(e),n=new Fe(e.channel,e.broadcastChannelOption),r=e.prepareState||Xe.prepareState;return function(e){var a=e.getState,o=e.dispatch;return function(e){return function(i){if(et||(et=!0,rt({channel:n,dispatch:o,allowed:t})),i&&!i.$uuid){var s=tt(i);We=s.$uuid;try{if(i.type===Ke)return a()&&(s.payload=r(a()),n.postMessage(s)),e(i);(t(s)||i.type===Je)&&n.postMessage(s)}catch(u){console.error("Your browser doesn't support cross tab communication")}}return e(v()(i,{$isSync:"undefined"!==typeof i.$isSync&&i.$isSync}))}}}}({channel:"redux-sync",whitelist:[ct.a.USER_LOGGED_IN,ct.a.USER_LOGGED_OUT]}),_r=Object(ce.composeWithDevTools)({trace:!0,traceLimit:25}),hr=mr?_r(oe.applyMiddleware.apply(void 0,Cr.concat([yr]))):oe.applyMiddleware.apply(void 0,Cr.concat([yr])),gr=function(e,t,n){return Object(oe.createStore)(e,t,n)};var Or=n("aCTP"),Tr=n("9J/E"),br=n("R5x4"),Rr=n("ywjr"),Pr=n.n(Rr),Ur=n("BP5i"),Ir=P.a.createElement;function Mr(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):u.a?i()(e,u()(n)):Mr(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}function Ar(e){var t=function(){if("undefined"===typeof Reflect||!E.a)return!1;if(E.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(E()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.a)(e);if(t){var a=Object(T.a)(this).constructor;n=E()(r,arguments,a)}else n=r.apply(this,arguments);return Object(O.a)(this,n)}}var wr=n("MX0m").default,kr=function(e){Object(g.a)(n,e);var t=Ar(n);function n(){var e,r,a;Object(y.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=t.call.apply(t,[this].concat(i)),Object(b.a)(Object(h.a)(a),"state",{categories:[],categorySlug:null===(e=a.props)||void 0===e?void 0:null===(r=e.pageProps)||void 0===r?void 0:r.categorySlug}),Object(b.a)(Object(h.a)(a),"setCategorySlug",(function(e){a.setState({categorySlug:e})})),a}return Object(_.a)(n,[{key:"componentDidMount",value:function(){var e=this;v()(window,{_JSXStyle:wr}),this.props.store.dispatch(Or.a.getCategories(br.a.searchCategories())).then((function(t){e.setState({categories:t||[]})})),this.props.store.dispatch(Ur.a.getSetting(br.a.initQuerySetting())),this.props.store.dispatch(Z.a.getMe()),this.props.store.dispatch(Tr.a.getPopups(br.a.getPopup())),Y.b.configureLazyLoad(!0,{fetchMarginPercent:500,renderMarginPercent:200,mobileScaling:2}),Y.b.load()}},{key:"componentDidUpdate",value:function(e){var t,n,r,a,o;(null===(t=this.props)||void 0===t?void 0:null===(n=t.pageProps)||void 0===n?void 0:n.categorySlug)!==(null===(r=e.pageProps)||void 0===r?void 0:r.categorySlug)&&this.setCategorySlug(null===(a=this.props)||void 0===a?void 0:null===(o=a.pageProps)||void 0===o?void 0:o.categorySlug)}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.pageProps,r=e.store,a=zt.b.getColor(this.state.categories,this.state.categorySlug);return Ir(J.a,{reCaptchaKey:"".concat(re.Lc)},Ir(K.a.Provider,{value:Nr({},n,{color:a,setCategorySlug:this.setCategorySlug})},Ir(U.Provider,{store:r},Ir(W,{persistor:r.__persistor},Ir(P.a.Fragment,null,Ir(L.a,Pr.a),Ir(Y.c,{singleRequest:!1,autoLoad:!1,collapseEmptyDivs:!0},Ir(ae,null,Ir(t,n))))))))}}]),n}(M.a);t.default=function(e,t){t=A(A({},D),t);var n="undefined"===typeof window,r=function(r){var a=r.initialState,o=r.ctx,i=t.storeKey,s=function(){return e(t.deserializeState(a),A(A(A({},o),t),{isServer:n}))};return n?s():(i in window||(window[i]=s()),window[i])};return function(e){var a;return(a=function(n){function a(e,a){var o=n.call(this,e,a)||this,i=e.initialState;return t.debug&&console.log("4. WrappedApp.render created new store with initialState",i),o.store=r({initialState:i}),o}return N(a,n),a.prototype.render=function(){var t=this.props,n=t.initialProps,r=(t.initialState,j(t,["initialProps","initialState"]));return P.a.createElement(e,A({},r,n,{store:this.store}))},a}(R.Component)).displayName="withRedux("+(e.displayName||e.name||"App")+")",a.getInitialProps=function(a){return w(void 0,void 0,void 0,(function(){var o,i;return k(this,(function(s){switch(s.label){case 0:if(!a)throw new Error("No app context");if(!a.ctx)throw new Error("No page context");return o=r({ctx:a.ctx}),t.debug&&console.log("1. WrappedApp.getInitialProps wrapper got the store with state",o.getState()),a.ctx.store=o,a.ctx.isServer=n,i={},"getInitialProps"in e?[4,e.getInitialProps.call(e,a)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return t.debug&&console.log("3. WrappedApp.getInitialProps has store state",o.getState()),[2,{isServer:n,initialState:n?t.serializeState(o.getState()):o.getState(),initialProps:i}]}}))}))},a}}((function(e,t){var r=t.isServer;if(t.req,t.debug,t.storeKey,r)return gr(vr,e,oe.applyMiddleware.apply(void 0,Cr));var a=n("SVmU"),o=a.persistStore,i=(0,a.persistReducer)({key:"root",storage:n("C+HQ").default,whitelist:["auth","interest","userComment","bookmark","category","popup","bannedWord","userAction","postsData","readAnnouncements","tag"],transforms:[de()("userComment",{expireSeconds:300,expiredState:{userComments:[],userHiddenComments:[],userHiddenPosts:[],userCreatePosts:[],userJoinCommunity:[],userUnJoinCommunity:[]},autoExpire:!0}),de()("postsData",{expireSeconds:300,expiredState:{postsData:[]},autoExpire:!0}),de()("readAnnouncements",{expireSeconds:86400*re.G,autoExpire:!0,expiredState:{data:[]}}),de()("popup",{expireSeconds:3600,expiredState:{isShowPopover:!0},autoExpire:!0})]},vr),s=gr(i,e,hr);return s.__persistor=o(s),s}))(kr)},"1qWt":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var r=n("q1tI"),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i,s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(e){e.SCRIPT_NOT_AVAILABLE="Google recaptcha is not available"}(i||(i={}));var l=Object(r.createContext)({}),d=l.Consumer,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scriptId="google-recaptcha-v3",t.googleRecaptchaSrc="https://www.google.com/recaptcha/api.js",t.resolver=void 0,t.rejecter=void 0,t.grecaptcha=new Promise((function(e,n){t.resolver=e,t.rejecter=n})),t.executeRecaptcha=function(e){return u(t,void 0,void 0,(function(){var t;return c(this,(function(n){return t=this.props.reCaptchaKey,[2,this.grecaptcha.then((function(n){return n.execute(t,{action:e})}))]}))}))},t.handleOnLoad=function(){window&&window.grecaptcha?window.grecaptcha.ready((function(){t.resolver(window.grecaptcha)})):console.warn(i.SCRIPT_NOT_AVAILABLE)},t.injectGoogleReCaptchaScript=function(){if(document.getElementById(t.scriptId))t.handleOnLoad();else{var e=t.props,n=e.reCaptchaKey,r=e.language,a=document.getElementsByTagName("head")[0],o=document.createElement("script");o.id=t.scriptId,o.src=t.googleRecaptchaSrc+"?render="+n+(r?"&hl="+r:""),o.onload=t.handleOnLoad,a.appendChild(o)}},t}return o(t,e),t.prototype.componentDidMount=function(){this.props.reCaptchaKey&&this.injectGoogleReCaptchaScript()},t.prototype.componentDidUpdate=function(e){!e.reCaptchaKey&&this.props.reCaptchaKey&&this.injectGoogleReCaptchaScript()},Object.defineProperty(t.prototype,"googleReCaptchaContextValue",{get:function(){return{executeRecaptcha:this.executeRecaptcha}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.children;return Object(r.createElement)(l.Provider,{value:this.googleReCaptchaContextValue},e)},t}(r.Component),f={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},S={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m=Object.defineProperty,E=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,_=y&&y(Object);var h=function e(t,n,r){if("string"!==typeof n){if(_){var a=y(n);a&&a!==_&&e(t,a,r)}var o=E(n);C&&(o=o.concat(C(n)));for(var i=0;i<o.length;++i){var s=o[i];if(!f[s]&&!S[s]&&(!r||!r[s])){var u=v(n,s);try{m(t,s,u)}catch(c){}}}return t}return t},g=(function(e){var t=function(t){return Object(r.createElement)(d,null,(function(n){return Object(r.createElement)(e,s({},t,{googleReCaptchaProps:n}))}))};t.displayName="withGoogleReCaptcha("+(e.displayName||e.name||"Component")+")",h(t,e)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,a,o;return c(this,(function(i){switch(i.label){case 0:return e=this.injectedProps,t=e.googleReCaptchaProps,n=e.action,r=e.onVerify,(a=t.executeRecaptcha)?[4,a(n)]:[2];case 1:return o=i.sent(),r?(r(o),[2]):[2]}}))}))},Object.defineProperty(t.prototype,"injectedProps",{get:function(){return this.props},enumerable:!0,configurable:!0}),t.prototype.render=function(){return null},t}(r.Component)),function(){return Object(r.useContext)(l)})},20:function(e,t){},"5HXA":function(e,t,n){"use strict";var r=n("ANjH").compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},"8Bbg":function(e,t,n){e.exports=n("B5Ud")},B5Ud:function(e,t,n){"use strict";var r=n("pbKT"),a=n("/HRN"),o=n("WaGi"),i=n("N9n2"),s=n("ZDA2"),u=n("/+P4"),c=n("ln6h");function l(e){var t=function(){if("undefined"===typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=u(e);if(t){var o=u(this).constructor;n=r(a,arguments,o)}else n=a.apply(this,arguments);return s(this,n)}}var d=n("KI45");t.__esModule=!0,t.Container=function(e){0;return e.children},t.createUrl=y,t.default=void 0;var p=d(n("htGi")),f=d(n("+oT+")),S=d(n("q1tI")),m=n("g/15");function E(e){return C.apply(this,arguments)}function C(){return(C=(0,f.default)(c.mark((function e(t){var n,r,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Component,r=t.ctx,e.next=3,(0,m.loadGetInitialProps)(n,r);case 3:return a=e.sent,e.abrupt("return",{pageProps:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.AppInitialProps=m.AppInitialProps,n("nOHt");var v=function(e){i(n,e);var t=l(n);function n(){return a(this,n),t.apply(this,arguments)}return o(n,[{key:"componentDidCatch",value:function(e,t){throw e}},{key:"render",value:function(){var e=this.props,t=e.router,n=e.Component,r=e.pageProps,a=y(t);return S.default.createElement(n,(0,p.default)({},r,{url:a}))}}]),n}(S.default.Component);function y(e){var t=e.pathname,n=e.asPath,r=e.query;return{get query(){return r},get pathname(){return t},get asPath(){return n},back:function(){e.back()},push:function(t,n){return e.push(t,n)},pushTo:function(t,n){var r=n?t:"",a=n||t;return e.push(r,a)},replace:function(t,n){return e.replace(t,n)},replaceTo:function(t,n){var r=n?t:"",a=n||t;return e.replace(r,a)}}}t.default=v,v.origGetInitialProps=E,v.getInitialProps=E},BP5i:function(e,t,n){"use strict";var r=n("XXOK"),a=n.n(r),o=n("p0XB"),i=n.n(o),s=n("XVgq"),u=n.n(s),c=n("Z7t5"),l=n.n(c),d=n("d04V"),p=n.n(d),f=n("eVuF"),S=n.n(f),m=n("ln6h"),E=n.n(m),C=n("u0k+"),v=n("4m1b"),y=n("5RYI"),_=n("FAhR"),h=n.n(_),g=n("0ZHj"),O=n("9E9K"),T=n("v0uu");function b(e,t){var n;if("undefined"===typeof l.a||null==e[u.a]){if(i()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return p()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,d=!1;return{s:function(){n=a()(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw s}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={getSetting:e=>(function(t){var n,r,a,o,i,s;return E.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,n=v.a.settingQuery.loadSetting(e),u.next=4,E.a.awrap(Object(y.a)(n));case 4:if(200!==(r=u.sent).status||r.data.errors){u.next=32;break}if("logout"!==r.data.status){u.next=10;break}t(g.a.logout()),u.next=30;break;case 10:a=r.data.data.searchSetting,t(Object(O.e)(C.a.FETCH_SETTING_SUCCESS,a)),o=b(a),u.prev=13,o.s();case 15:if((i=o.n()).done){u.next=22;break}if((s=i.value).key!==T.Dc){u.next=20;break}return Object(O.l)(s),u.abrupt("break",22);case 20:u.next=15;break;case 22:u.next=27;break;case 24:u.prev=24,u.t0=u.catch(13),o.e(u.t0);case 27:return u.prev=27,o.f(),u.finish(27);case 30:u.next=33;break;case 32:t(Object(O.h)(r.data.errors));case 33:u.next=38;break;case 35:u.prev=35,u.t1=u.catch(0),t(h.a.error({title:"Error",message:"".concat(u.t1.toString())}));case 38:case"end":return u.stop()}}),null,null,[[0,35],[13,24,27,30]],S.a)}),getDataSetting:e=>(function(t){var n,r,a;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=v.a.settingQuery.loadSetting(e),o.next=4,E.a.awrap(Object(y.a)(n));case 4:200!==(r=o.sent).status||r.data.errors?t(Object(O.h)(r.data.errors)):(a=r.data.data.searchSetting,t(Object(O.e)(C.a.FETCH_SETTING_SUCCESS,a))),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),t(h.a.error({title:"Error",message:"".concat(o.t0.toString())}));case 11:case"end":return o.stop()}}),null,null,[[0,8]],S.a)})};t.a=P},"C+HQ":function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var a=(0,((r=n("1Nqh"))&&r.__esModule?r:{default:r}).default)("local");t.default=a},GcxT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("1TCz")}])},"Hvl/":function(e,t,n){"use strict";(function(e){function r(e){return!(!e||"function"!==typeof e.then)}function a(e){return e||(e=0),new Promise((function(t){return setTimeout(t,e)}))}function o(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function i(){return Math.random().toString(36).substring(2)}n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l}));var s=0,u=0;function c(){var e=(new Date).getTime();return e===s?1e3*e+ ++u:(s=e,u=0,1e3*e)}var l="[object process]"===Object.prototype.toString.call("undefined"!==typeof e?e:0)}).call(this,n("8oxB"))},SVmU:function(e,t,n){"use strict";n.r(t);var r="persist:",a="persist/FLUSH",o="persist/REHYDRATE",i="persist/PAUSE",s="persist/PERSIST",u="persist/PURGE",c="persist/REGISTER",l=-1;function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r){r.debug;var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===d(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(a[r]=e[r])})),a}function m(e){var t,n=e.blacklist||null,a=e.whitelist||null,o=e.transforms||[],i=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:r).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:E;var c=e.writeFailHandler||null,l={},d={},p=[],f=null,S=null;function m(){if(0===p.length)return f&&clearInterval(f),void(f=null);var e=p.shift(),n=o.reduce((function(t,n){return n.in(t,e,l)}),l[e]);if(void 0!==n)try{d[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete d[e];0===p.length&&(Object.keys(d).forEach((function(e){void 0===l[e]&&delete d[e]})),S=u.setItem(s,t(d)).catch(v))}function C(e){return(!a||-1!==a.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function v(e){c&&c(e)}return{update:function(e){Object.keys(e).forEach((function(t){C(t)&&l[t]!==e[t]&&-1===p.indexOf(t)&&p.push(t)})),Object.keys(l).forEach((function(t){void 0===e[t]&&C(t)&&-1===p.indexOf(t)&&void 0!==l[t]&&p.push(t)})),null===f&&(f=setInterval(m,i)),l=e},flush:function(){for(;0!==p.length;)m();return S||Promise.resolve()}}}function E(e){return JSON.stringify(e)}function C(e){var t,n=e.transforms||[],a="".concat(void 0!==e.keyPrefix?e.keyPrefix:r).concat(e.key),o=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:v,o.getItem(a).then((function(e){if(e)try{var r={},a=t(e);return Object.keys(a).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,a)}),t(a[e]))})),r}catch(o){throw o}}))}function v(e){return JSON.parse(e)}function y(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:r).concat(e.key);return t.removeItem(n,_)}function _(e){0}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=5e3;function R(e,t){var n=void 0!==e.version?e.version:l,r=(e.debug,void 0===e.stateReconciler?S:e.stateReconciler),c=e.getStoredState||C,d=void 0!==e.timeout?e.timeout:b,p=null,f=!1,E=!0,v=function(e){return e._persist.rehydrated&&p&&!E&&p.update(e),e};return function(l,S){var C=l||{},_=C._persist,h=T(C,["_persist"]);if(S.type===s){var O=!1,b=function(t,n){O||(S.rehydrate(e.key,t,n),O=!0)};if(d&&setTimeout((function(){!O&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),d),E=!1,p||(p=m(e)),_)return g({},t(h,S),{_persist:_});if("function"!==typeof S.rehydrate||"function"!==typeof S.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return S.register(e.key),c(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){b(e)}),(function(e){b(void 0,e)}))}),(function(e){b(void 0,e)})),g({},t(h,S),{_persist:{version:n,rehydrated:!1}})}if(S.type===u)return f=!0,S.result(y(e)),g({},t(h,S),{_persist:_});if(S.type===a)return S.result(p&&p.flush()),g({},t(h,S),{_persist:_});if(S.type===i)E=!0;else if(S.type===o){if(f)return g({},h,{_persist:g({},_,{rehydrated:!0})});if(S.key===e.key){var R=t(h,S),P=S.payload,U=g({},!1!==r&&void 0!==P?r(P,l,R,e):R,{_persist:g({},_,{rehydrated:!0})});return v(U)}}if(!_)return t(l,S);var I=t(h,S);return I===h?l:v(g({},I,{_persist:_}))}}var P=n("ANjH");function U(e){return(U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,r){r.debug;var a=M({},n);return e&&"object"===U(e)&&Object.keys(e).forEach((function(r){var o;"_persist"!==r&&(t[r]===n[r]&&(null===(o=n[r])||Array.isArray(o)||"object"!==U(o)?a[r]=e[r]:a[r]=M({},a[r],{},e[r])))})),a}function w(e,t){return e.stateReconciler=void 0===e.stateReconciler?A:e.stateReconciler,R(e,Object(P.combineReducers)(t))}function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={registry:[],bootstrapped:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return D({},e,{registry:[].concat(k(e.registry),[t.key])});case o:var n=e.registry.indexOf(t.key),r=k(e.registry);return r.splice(n,1),D({},e,{registry:r,bootstrapped:0===r.length});default:return e}};function x(e,t,n){var r=n||!1,l=Object(P.createStore)(F,H,t&&t.enhancer?t.enhancer:void 0),d=function(e){l.dispatch({type:c,key:e})},p=function(t,n,a){var i={type:o,payload:n,err:a,key:t};e.dispatch(i),l.dispatch(i),r&&f.getState().bootstrapped&&(r(),r=!1)},f=D({},l,{purge:function(){var t=[];return e.dispatch({type:u,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:a,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:i})},persist:function(){e.dispatch({type:s,register:d,rehydrate:p})}});return t&&t.manualPersist||f.persist(),f}function G(e,t){(t||{}).debug;return function(t,n){if(!t)return Promise.resolve(void 0);var r=t._persist&&void 0!==t._persist.version?t._persist.version:l;if(r===n)return Promise.resolve(t);if(r>n)return Promise.resolve(t);var a=Object.keys(e).map((function(e){return parseInt(e)})).filter((function(e){return n>=e&&e>r})).sort((function(e,t){return e-t}));try{var o=a.reduce((function(t,n){return e[n](t)}),t);return Promise.resolve(o)}catch(i){return Promise.reject(i)}}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.whitelist||null,a=n.blacklist||null;function o(e){return!(!r||-1!==r.indexOf(e))||!(!a||-1===a.indexOf(e))}return{in:function(t,n,r){return!o(n)&&e?e(t,n,r):t},out:function(e,n,r){return!o(n)&&t?t(e,n,r):e}}}n.d(t,"persistReducer",(function(){return R})),n.d(t,"persistCombineReducers",(function(){return w})),n.d(t,"persistStore",(function(){return x})),n.d(t,"createMigrate",(function(){return G})),n.d(t,"createTransform",(function(){return V})),n.d(t,"getStoredState",(function(){return C})),n.d(t,"createPersistoid",(function(){return m})),n.d(t,"purgeStoredState",(function(){return y})),n.d(t,"KEY_PREFIX",(function(){return r})),n.d(t,"FLUSH",(function(){return a})),n.d(t,"REHYDRATE",(function(){return o})),n.d(t,"PAUSE",(function(){return i})),n.d(t,"PERSIST",(function(){return s})),n.d(t,"PURGE",(function(){return u})),n.d(t,"REGISTER",(function(){return c})),n.d(t,"DEFAULT_VERSION",(function(){return l}))},Vla4:function(e,t,n){"use strict";var r=n("v0uu");t.a={deletePrivateMessages(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e;return 0!==e.length&&0!==t.length&&(n=e.filter((function(e){return t.every((function(t){var n=t.id;return e.id!==n}))}))),{privateMessages:n}},getUserData(e,t){var n=null;return e.fromUser.username===t?n=e.toUser:e.toUser.username===t&&(n=e.isSentFromBE?{username:r.b,avatarUrl:null}:e.fromUser),n},getUserSendMessage(e){var t="";return e.fromUser&&(t=e.isSentFromBE?r.b:e.fromUser.username),t}}},aCTP:function(e,t,n){"use strict";var r=n("eVuF"),a=n.n(r),o=n("ln6h"),i=n.n(o),s=n("u0k+"),u=n("4m1b"),c=n("5RYI"),l=n("FAhR"),d=n.n(l),p=n("0ZHj"),f=n("9E9K"),S=n("MXW5"),m={[n("4QmT").f.corona]:function(e){var t=e.context;return function(e){var n,r;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(Object(c.a)(u.a.categoryQuery.coronaExcludedCategories,Object(S.c)(t)));case 3:n=a.sent,(r=n.data)&&e(Object(f.e)(s.a.FETCH_EXCLUDED_CATEGORIES,r.data.coronaExcludedCategories)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e(d.a.error({title:"Error",message:"".concat(a.t0.toString())}));case 11:case"end":return a.stop()}}),null,null,[[0,8]],a.a)}}},E={getCategories:e=>(function(t){var n,r;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=u.a.categoryQuery.getCategories(e),a.next=4,i.a.awrap(Object(c.a)(n));case 4:if(200!==(r=a.sent).status||r.data.errors){a.next=14;break}if("logout"!==r.data.status){a.next=10;break}t(p.a.logout()),a.next=12;break;case 10:return t(Object(f.e)(s.a.FETCH_CATEGORIES_SUCCESS,r.data.data.categories)),a.abrupt("return",r.data.data.categories);case 12:a.next=15;break;case 14:t(Object(f.h)(r.data.errors));case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),t(d.a.error({title:"Error",message:"".concat(a.t0.toString())}));case 20:case"end":return a.stop()}}),null,null,[[0,17]],a.a)}),getExcludedCategories(e){var t=e.context,n=t.query;return m[n.slug]({context:t})}};t.a=E},"rY+b":function(e,t,n){"use strict";var r=n("hfKm"),a=n.n(r),o=n("2Eek"),i=n.n(o),s=n("XoMD"),u=n.n(s),c=n("Jo+v"),l=n.n(c),d=n("4mXO"),p=n.n(d),f=n("pLtp"),S=n.n(f),m=n("vYYK"),E=n("kKES"),C=n("v0uu"),v=n("9/EM"),y=n("/Tr7");var _=n("dguP");function h(e,t){var n=S()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(m.a)(e,t,n[t])})):u.a?i()(e,u()(n)):h(Object(n)).forEach((function(t){a()(e,t,l()(n,t))}))}return e}t.a={getUserNotification(e){var t=e.userNotification,n=void 0===t?{}:t,r=e.pageSize,a=e.pageIndex,o=void 0===a?0:a,i=[];if(n){var s=n.notifications;(void 0===s?[]:s).forEach((function(e){i.push({id:e.id,type:C.Ec.userNotification.Notification,showAt:e.createdAt,title:e.subject,author:e.fromUser,url:e.url,isRead:e.isRead,info:e.info,content:g({},{},{},e.content,{type:e.type})})}))}if(i=i.sort(Object(_.m)("showAt")).reverse(),r){var u=r*(o+1);return i.slice(0,u)}return i},getUserAnnouncements(e){var t,n=e.userNotification,r=void 0===n?{}:n,a=e.pageSize,o=e.pageIndex,i=void 0===o?0:o,s=e.readAnnouncements,u=void 0===s?[]:s,c=[];if(r){var l=r.announcements;(void 0===l?[]:l).forEach((function(e){var t=!1;(function(e,t){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var n=Object(y.a)(e),r=Object(y.a)(t);return n.getTime()>r.getTime()}(new Date,Object(v.a)(new Date(e.publishedAt),C.G))||u.includes(e.id))&&(t=!0);var n=e.sender?e.sender:e.author?e.author.username:null;c.push({id:e.id,type:C.Ec.userNotification.Announcement,showAt:e.publishedAt,title:e.title,author:e.author,url:E.b.generatorUrlAnnouncementDetail(e.id),isRead:t,info:"".concat(n,'<span class="mx__10">.</span> ').concat(E.a.formatDateTime(e.publishedAt))})}))}if(c=null===(t=c)||void 0===t?void 0:t.sort(Object(_.m)("showAt")).reverse(),a){var d=a*(i+1);return c.slice(0,d)}return c},updateUserNotification(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e){var n=e.notifications,r=(void 0===n?[]:n).findIndex((function(e){return e.id===t}));r>=0&&(e.notifications[r].isRead=!0)}return e},countUnReadNotification(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;if(e){var n=e.notifications;t=(void 0===n?[]:n).filter((function(e){return!e.isRead})).length}return t},updateReadAllNotification(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=e.notifications,n=void 0===t?[]:t;n.forEach((function(e){e.isRead=!0})),e.notifications=n}return e},markAsReadAnnouncements(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var t=e.announcements,n=void 0===t?[]:t;n.forEach((function(e){e.isRead=!0})),e.announcements=n}return e},groupNotifications(e){var t=e.notifications,n={};return(void 0===t?[]:t).forEach((function(e){var t=E.a.formatNotificationGroupTime({time:new Date(e.showAt)});n[t]||(n[t]=[]),n[t].push(e)})),n}}},ycJa:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":r(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(a){return!1}return!0}(t)?self[t]:o};var o={getItem:a,setItem:a,removeItem:a}}},[["GcxT",1,0]]]);
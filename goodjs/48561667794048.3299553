!function(){var _0x3fd9=["c","substring","random","width:","calc(10px);","div","createElement","cssText","style","length","floor","calc(","px + ","px)","100%","px",".","{ width: ","; height: ",";}","type","text/css","styleSheet","createTextNode","appendChild","head","getElementsByTagName"],cname=_0x3fd9[0]+Math[_0x3fd9[2]]().toString(36)[_0x3fd9[1]](2);function ic(){var t=_0x3fd9[3],e=_0x3fd9[4],a=document[_0x3fd9[6]](_0x3fd9[5]);return a[_0x3fd9[8]][_0x3fd9[7]]=t+e,a[_0x3fd9[8]][_0x3fd9[9]]}function grp(t){if(!Number(t))return t;var e=Math[_0x3fd9[10]](t*Math[_0x3fd9[2]]());return _0x3fd9[11]+e+_0x3fd9[12]+(t-e)+_0x3fd9[13]}function gsp(t){return 0==t?_0x3fd9[14]:ic()?grp(t):t=t.toString()+_0x3fd9[15]}function cswh(t,e){t=_0x3fd9[16]+cname+_0x3fd9[17]+gsp(t)+_0x3fd9[18]+gsp(e)+_0x3fd9[19],e=document[_0x3fd9[6]](_0x3fd9[8]);e[_0x3fd9[20]]=_0x3fd9[21],e[_0x3fd9[22]]?e[_0x3fd9[22]][_0x3fd9[7]]=t:(t=document[_0x3fd9[23]](t),e[_0x3fd9[24]](t)),document[_0x3fd9[26]](_0x3fd9[25])[0][_0x3fd9[24]](e)}window.ya=window.ya||{},window.ya.mediaCode=window.ya.mediaCode||{templates:{}};var templates=ya.mediaCode.templates;function AwHtml5(t){this.cname=cname,this._params=t,this._params.iframe_src+=t.iframe_src.split("?")[1]?"":"?",(0<this._params.iframe_src.toLowerCase().indexOf("awaps")||this._params.awaps_native)&&(this._params.iframe_src+="&html5ad=1"),this._params.iframe_src+="&"+t.getargs,cswh(t.width,t.height)}ya.mediaCode.templates["div.tpl.html"]=function(obj){var p=[];with(obj)p.push('<div id="html5_container"',' class="',cname,'" ></div>');return p.join("")},ya.mediaCode.templates["image.tpl.html"]=function(obj){var p=[];with(obj)p.push(""),gif_tizer||p.push('<a href="',click_url,'" target="_blank">'),p.push('<img src="',img_src,'class="',cname,'"',' border=0 alt="',alt,'">'),gif_tizer||p.push("</a>"),p.push("");return p.join("")},ya.mediaCode.templates["iframe.tpl.html"]=function(obj){var p=[],tag_sandbox="",sandbox="allow-same-origin allow-popups allow-scripts allow-forms",tag_sandbox=' sandbox="'+sandbox+'" ';with(obj)p.push('<iframe src="',iframe_src,'" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"','class="',cname,'" ',tag_sandbox,"></iframe>");return p.join("")},AwHtml5.prototype.isCanvasSupported=function(t){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))};var reportedURLs={};AwHtml5.prototype.reportURL=function(t){t&&!reportedURLs[t]&&(reportedURLs[t]=!0,(new Image).src=t)},AwHtml5.prototype.mp4Enable=function(){var t=document.createElement("video");return t.canPlayType&&t.canPlayType("video/mp4").replace(/no/,"")},AwHtml5.prototype.html5Enable=function(){return this._params.getargs&&0<=this._params.getargs.indexOf("video1=")&&!this.mp4Enable()?(this.reportURL(this._params.stats.noVideo),!1):this._params.html5_enable&&this._params.iframe_src&&this.isCanvasSupported()},AwHtml5.prototype.report=function(){this.reportURL(this._params.pixel_stat1),this.reportURL(this._params.pixel_stat2)},AwHtml5.prototype.showStub=function(){this.reportURL(this._params.stats.imageStat);var t='<img class="'+this.cname+'" style="background:#fff url('+this._params.img_src+') no-repeat 50% 50%;" src="https://awaps.yandex.ru/2/35823/0.gif?cache=1" border=0 alt="'+this._params.alt+'" >';this._params.gif_tizer||(t='<a href="'+this._params.click_url+'" target=_blank >'+t+"</a>"),document.getElementById("html5_container").innerHTML=t},AwHtml5.prototype.showHtml5=function(){document.getElementById("html5_container").innerHTML=templates["iframe.tpl.html"](this._params)},AwHtml5.prototype.render=function(){var t=this._params;document.write(templates["div.tpl.html"](t)),this.html5Enable()?this.showHtml5():this.showStub(),this.report()},window.ya.mediaCode.AwHtml5=AwHtml5}();

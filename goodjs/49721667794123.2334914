var b$=b$||{};b$.universal=b$.universal||{},b$.universal.widgets=b$.universal.widgets||{},b$.universal.widgets.StructuredContentWidgetdrop=function(p){"use strict";define("allYouNeedToKnow",function(a,e,t){p.fn.replaceList=function(e){var n,o;this.empty(),n=this,p.each(e,function(e,t){o=p("<option></option>").attr("value",t).text(t),n.append(o)})},p.fn.createDropdown=function(e){e=p("<select></select>").attr("class",e);e.addClass("form-control"),e.addClass("selectCSS"),this.append(e)},t.exports={allyouneed:function(l,e,s,t,n){p(".pollyfill-pointer").on("click",function(){"ie-11"==f.portal.knowYourBrowser&&a(["widgets/%5BBBHOST%5D/widget-hdfc-common-overlays/js/polyfill.min"])}),1===p(".sub-content").length&&p(".sub-content").addClass("one-tab"),p(p(l.htmlNode).find(".btn")[1]).removeClass("btn-primary mL").addClass("btn-default-custom btn-default");var o={cardId:p(l.htmlNode).find(".hidden-image .card-title").text().trim(),imageUrl:p(l.htmlNode).find(".hidden-image img").attr("src"),dataUrl:e};gadgets.pubsub.publish("objectready",o),p(document).ready(function(){p(l.htmlNode).find(".rich-txt-only-table table").wrap("<div class ='wrap-table'></div>")}),p(".all-you-need-parent .tabvaldesc .fulldesccontent p:first").addClass("newdesc"),p(".all-you-need-parent .banner-fees-wrapper .banner-fees .btn-cont a:last-child").addClass("btn-last"),p.ajax({url:e,success:function(e){var n=e,a=[],t=!1,o=["Locate at"];p(l.htmlNode).find(".banner-fees a").each(function(e){var t=n.applyOnline.link;1==n.applyOnline.isLoginRequired&&0==s&&p(this).attr("href",m+"/login?redirect="+m+t)});for(var r=e.ContentRows,d=0;d<r.length;d++)r[d].poBox&&(a=r[d].poBoxArray,t=!0);if(t){for(var i=0;i<a.length;i++)o.push(a[i].dropdownOptions);p(l.htmlNode).find(".po-dropdown").createDropdown("po-box-dropdown"),p(l.htmlNode).find(".po-box-dropdown").replaceList(o),p(l.htmlNode).find(".po-box-button a").on("click",function(){for(var e,t=p(l.htmlNode).find(".po-box-dropdown")[0].value.trim(),n="",o=0;o<a.length;o++)a[o].dropdownOptions==t&&(n=a[o].description);""!=n?(e=p(n),p(l.htmlNode).find(".po-box-data").empty(),p(l.htmlNode).find(".po-box-data").append(e)):p(l.htmlNode).find(".po-box-data").empty()})}},error:function(e){}})}}}),define("locateUs",function(e,t,n){p.fn.replaceList=function(e){var n,o;this.empty(),n=this,p.each(e,function(e,t){o=p("<option></option>").attr("value",e).text(t),n.append(o)})},p.fn.createDropdown=function(e){e=p("<select></select>").attr("class",e);e.addClass("form-control"),e.addClass("selectCSS"),this.append(e)},n.exports={locateus:function(e,a,t){p.ajax({url:e,success:function(e){var t;p(a.htmlNode).find(".drp1").createDropdown("dropdown1");var n=["Locate Us"];if(e.SingleDropdown){for(var o=0;o<e.cardArray.length;o++)n.push(e.cardArray[o].name.cardname);p(a.htmlNode).find(".btn-primary").attr("href",e.LocateUrl),p(a.htmlNode).find(".btn-primary").addClass("exclude-me")}else p(a.htmlNode).find(".drp2").createDropdown("dropdown2");p(a.htmlNode).find(".dropdown1").replaceList(n),e.SingleDropdown?(p(a.htmlNode).find(".dropdown1").on("change",function(){t=p(this).find(":selected").text()}),p(a.htmlNode).find(".btn-primary").on("click",function(){sessionStorage.setItem("LocateUsNRI",t)})):p(a.htmlNode).find(".dropdown2").replaceList(["Looking for"]),p(a.htmlNode).find(".panel-heading").on("click",function(){p(window).width()<=767&&p(this).siblings(".panel-accordion-contr").slideToggle("slow"),p(this).children(".glyphicon").toggleClass("icon-up-open-big").toggleClass("icon-down-open-big")}),p(window).on("resize",function(){768<=p(window).width()&&p(a.htmlNode).find(".panel-accordion-contr").removeAttr("style")})}})}}}),define("waysToBank",function(e,t,n){function o(){var e,t,n=p(".c-template-portal-hero-banner-section--area.first-section").height(),o=p(p(".waystobank").parents(".bp-container")[0]).find(".lp-widget-hdfc-name-slot");1==n?0!=o.length?p(".image-text.banner-right").height(50):p(".image-text.banner-right").height(52):(e=p(".waystobank").height(),t=(t=0)!=o.length&&300!=n?n-e-16:n-e-12,p(".image-text.banner-right").height(t))}p(".c-hero-banner").addClass("hero-mt"),p(window).bind("load",o),p(window).bind("resize",o),n.exports={wayto:function(e,l,s,c,t){p.fn.createButton=function(e){(e=p("<button></button>").attr("class",e).text(e)).addClass("btn btn-primary buttons"),this.append(e)},p.fn.replaceList=function(e){var n,o;this.empty(),n=this,p.each(e,function(e,t){o=p("<li></li>").attr("value",e),0==e?o.text(t):t.name?o.text(t.name):t.cardname&&o.text(t.cardname),t.new&&(o.addClass("newIcon"),o.append("<img src="+s+"/static/widgets/%5BBBHOST%5D/widgethdfcddstructuredcontent/media/new_page.svg>")),n.append(o)})},p.fn.createDropdown=function(e){var t=p("<div></div>").addClass("dropdown"),n=p("<a></a>").addClass("btn-primary dropdown-toggle btn-block").attr("data-toggle","dropdown");p(".btn-primary.dropdown-toggle.btn-block").dropdown(),this.append('<span class="glyphicon icon-down-open-big ">'),t.append(n);e=p("<ul></ul>").attr("class",e).addClass("dropdown-menu");t.append(e),this.append(t)},p.ajax({url:e,success:function(e){var r=e.cardArray;p(l.htmlNode).find(".know-button").on("click",function(){var e=p(l.htmlNode).find(".drp2 a").text().trim();localStorage.setItem("menuItemClicked",e)}),p(l.htmlNode).find(".drp1").empty(),p(l.htmlNode).find(".drp1").createDropdown("dropdown1"),p(l.htmlNode).find(".drp2").empty(),p(l.htmlNode).find(".drp2").createDropdown("dropdown2"),p(".drp2 .btn-primary.dropdown-toggle.btn-block").dropdown();for(var n=[],t=0;t<r.length;t++)n.push(r[t].name);n.unshift("Select Product Type"),p(l.htmlNode).find(".drp1 a").text(n[0]),p(l.htmlNode).find(".dropdown1").each(function(e,t){p(t).replaceList(n)});var o=["Select Product"];p(l.htmlNode).find(".dropdown2").each(function(e,t){p(t).replaceList(o)}),p(l.htmlNode).find(".drp2 a").text(o[0]);var d;p(l.htmlNode).find(".dropdown1 li ").on("click",function(){var e=p(this).text().trim();"Select Product Type"==e&&p(".btn-custom.btn-primary-custom.myButton").attr("value","");var t=p("<span></span>").text(e);p(l.htmlNode).find(".drp1 a").empty(),p(l.htmlNode).find(".drp1 a").append(t);var t=p(this).parent().find("li"),n=[];p.each(t,function(e,t){n.push(p(t).text().trim())});var o,a,e=n.indexOf(e);0==e?(o=["Select Product"],p(l.htmlNode).find(".dropdown2").each(function(e,t){p(t).replaceList(o)}),p(l.htmlNode).find(".drp2 a").text(o[0]),p(".know-button").addClass("disabled"),p(".myButton").addClass("disabled")):(e=r[e-1].cardTypes.slice(),d=e,a=[],p.each(e,function(e,t){a.push(t.cardName)}),a.unshift("Select Product"),p(l.htmlNode).find(".dropdown2").each(function(e,t){p(t).replaceList(a),p(l.htmlNode).find(".drp2 a").text(a[0]),p(l.htmlNode).find(".dropdown2 li").on("click",function(){var e=p(this).text().trim(),t=p("<span></span>").text(e);p(l.htmlNode).find(".drp2 a").empty(),p(l.htmlNode).find(".drp2 a").append(t);var n=p(this).parent().find("li"),o=[];p.each(n,function(e,t){o.push(p(t).text().trim())});var a=o.indexOf(e);0<a&&(t=d[a-1].cardUrl,n=d[a-1].loginUrl,d[a-1].secondaryButton,d[a-1].primaryButton,p(".waystobank .btn-primary-custom").text(d[a-1].primaryButton),p(".waystobank .btn-default-custom").text(d[a-1].secondaryButton),void 0===n?p(".waystobank .btn-primary-custom").css("visibility","hidden"):p(".waystobank .btn-primary-custom").css("visibility","visible"),void 0===t?p(".waystobank .btn-default-custom").css("visibility","hidden"):p(".waystobank .btn-default-custom").css("visibility","visible"),i="normal-url"==d[a-1].navigationType?window.envTypeUrl+t:s+t,t=p(".btn-custom.btn-primary-custom.myButton").attr("href"),"Select Product"==e?(p(".btn-custom.btn-primary-custom.myButton").attr("value",""),p(".waystobank .btn-default-custom").removeAttr("href"),p(".waystobank .btn-primary-custom").removeAttr("href")):-1<t.indexOf("http")&&t.indexOf("hdfcbank")<0&&t.indexOf(s)<0&&p(this).attr("value","ext-link"),p(".waystobank .btn-default-custom").attr("href",i),1==d[a-1].cardName.isLoginRequired&&0==c?p(".waystobank .btn-primary-custom").attr("href",m+"/login?redirect="+m+n):p(".waystobank .btn-primary-custom").attr("href",n))})}),p(".know-button").removeClass("disabled"),p(".myButton").removeClass("disabled"))});var i="";p(".know-button, .myButton").click(function(e){"Select Product Type"!=p(".waystobank .banner-right .drp1 a").text()&&"Select Product"==p(".waystobank .banner-right .drp2 a").text()?(e.preventDefault(),p(".drp2 .dropdown .btn-block").css("border","1px solid red"),setTimeout(function(){p(".drp2 .dropdown .btn-block").css("border","1px solid #ccc")},2e3)):"Select Product Type"==p(".waystobank .banner-right .drp1 a").text()&&(p(".drp1 .dropdown .btn-block").css("border","1px solid red"),setTimeout(function(){p(".drp1 .dropdown .btn-block").css("border","1px solid #ccc")},2e3))}),p(".dropdown").on("click",function(){"Select Product Type"==p(".waystobank .banner-right .drp1 a").text()||"Select Product"==p(".waystobank .banner-right .drp2 a").text()?(p(".know-button").addClass("disabled"),p(".myButton").addClass("disabled")):(p(".know-button").removeClass("disabled"),p(".myButton").removeClass("disabled"))})}})}}}),define("filterWidget",function(e,t,n){p.fn.createRadioButtonList=function(n,e){var o=p("<div></div>").addClass("");p.each(e,function(e,t){t=p('<div><label> <input type="radio" name='+n+" value="+e+" >"+t+"</label></div>").addClass("radio");o.append(t)}),this.append(o)},p.fn.createCheckBoxList=function(n,e){var o=p("<div></div>").addClass("");p.each(e,function(e,t){t=p('<div><label> <input type="checkbox" name='+n+" value="+e+" >"+t+"</label></div>").addClass("checkbox");o.append(t)}),this.append(o)},n.exports={filter:function(e,r){p.ajax({url:e,success:function(e){},error:function(e){var e=(e=(e=(e=(e=(e=(e=e.responseText).replace(/&#x7b;/g,"{")).replace(/&#x22;/g,'"')).replace(/&#x3a;/g,":")).replace(/&#x5b;/g,"[")).replace(/&#x5d;/g,"]")).replace(/&#x7d;/g,"}"),o=JSON.parse(e);p(".radioButtonsList").createRadioButtonList("Income",o.AnnualIncome),p(".checkBoxListOne").createCheckBoxList("Spending",o.YourSpending),p(".checkBoxListTwo").createCheckBoxList("Benefits",o.BenefitsYouPrefer),p(r.htmlNode).find(".panel-heading-custom").on("click",function(){p(this).find("img").toggleClass("arrowRotate"),p(this).next().slideToggle()}),console.log(o),p(".filterButton").on("click",function(){var n={radioArray:[],checkArrayOne:[]};p("input[type='radio']").each(function(){var e,t;p(this).is(":checked")&&(t={index:e=p(this).attr("value"),text:p(this).parent().text(),name:p(this).attr("name")},n.radioArray.push(t),console.log(o.AnnualIncome[e]),gadgets.pubsub.publish("filterCards",o.AnnualIncome[e]))}),p("input[type='checkbox']").each(function(){var e,t;p(this).is(":checked")&&(t={index:e=p(this).attr("value"),text:p(this).parent().text(),name:p(this).attr("name")},n.checkArrayOne.push(t),console.log(o.AnnualIncome[e]))}),console.log(n),gadgets.pubsub.publish("finalPublish",n)}),p(window).resize(function(){var e=p(window).width();463<e&&p(".scrollableArea").css("left","0px"),console.log(e)});var a=0;p(r.htmlNode).find(".RightArrow").on("click",function(){var e=p(r.htmlNode).find(".panel-body-custom").width(),t=p(r.htmlNode).find(".scrollableArea").css("left"),n=parseInt(t,10),t=-1*e,e=t+n;console.log(n),console.log(t),console.log(e),a<2&&(a++,p(r.htmlNode).find(".scrollableArea").animate({left:+e+"px"}))}),p(r.htmlNode).find(".LeftArrow").on("click",function(){var e=p(r.htmlNode).find(".panel-body-custom").width(),t=p(r.htmlNode).find(".scrollableArea").css("left"),t=parseInt(t,10);console.log(t),console.log(e),console.log("hi");t=e+t;console.log(t),0!=a&&(a--,p(r.htmlNode).find(".scrollableArea").animate({left:+t+"px"}))})}})}}}),define("gapJs",function(e,t,n){p(document).ready(function(){var r=window.location.href,d=f.portal.typeOfDevice();p(".waystobank .banner-right .myButton, .waystobank .banner-right .know-button").on("click",function(){var e,t,n,o,a;f.portal.isGapDisabled()||f.portal.isLogin||(e=p(".waystobank .banner-right .drp1 a").text(),t=p(".waystobank .banner-right .drp2 a").text(),n=p(this).text(),o=p(".header-menu .navbar-collapse .normal-main-header li.active a").text(),a=document.referrer,dataLayer.push({producttype:e,productselection:t,buttonselection:n,"page path":r,"Page section":o,referral:a,userID:"null",deviceType:d,userType:"null",event:"productinteraction"}))}),p(".stay-secure .image-description-wrapper img, .stay-secure .image-description-wrapper a.button-style2").on("click",function(){var e,t,n,o;f.portal.isGapDisabled()||f.portal.isLogin||(e=p(this).parents(".stay-secure").children().find(".row h2.card-title-style").text(),t=p(this).parents(".stay-secure").children().find(".image-description-wrapper a.button-style2").text(),n=p(".sub-menu-items ul.navbar-nav > li.dropdown.active > a span.menus-heading").text(),o=document.referrer,dataLayer.push({bannername:e,buttonselection:t,referral:o,userID:"null","Page path":r,deviceType:d,userType:"null",event:"Stay Secure","Page Section":n}))})})}),p(document).ready(function(){require(["features/%5BBBHOST%5D/theme/core/bootstrap3/js/dropdown"],function(){}),p(".all-you-need-parent .banner-fees-wrapper .banner-fees .btn-cont a:last-child").addClass("btn-last")});var u="cs",f=window.b$||{},m=(f.portal.portalName,f.portal.urlRedirect),h=""!=f.portal.loggedInUserId&&null!=f.portal.loggedInUserId||""!=f.portal.loggedInUserRole&&null!=f.portal.loggedInUserRole,b=f.portal.portalName;return{prefModified:function(e){e.refreshIncludes();var t=p(e.htmlNode);p(".bd-structured-content-widget",t).attr("data-type",e.getPreference("contentType")||"Content")},start:function(d){for(var e,t=[],n=0;n<d.model.preferences.array.length;n++)if("templateUrl"==d.model.preferences.array[n].name){e=d.model.preferences.array[n].value;break}var o=d.getPreference("urlContent"),a=f.portal.portalModel.serverURL;null!=o&&(c=o.indexOf("content"),o=a+"/"+o.slice(c,o.length));var r=f.portal.portalModel.serverURL,i=f.portal.portalName;null==e||(t=e.split("/"));var l,a=d.getPreference("contentRef"),s=p(d.htmlNode),c=!1;try{top.bd}catch(e){c=!0}(window.be&&!c&&be.utils.module("top.bd.PageMgmtTree.selectedLink").isMasterPage||"true"===d.model.manageable||""===d.model.manageable||void 0===d.model.manageable)&&(a||s.addClass("bd-empty-structured-content"),p(".bd-structured-content-widget",s).attr("data-type",d.getPreference("contentType")||"Content"),d.addEventListener("preferences-form",function(e){for(var t=f.portal.portalModel.filterPreferences(d.model.preferences.array),n=t.length-1;0<=n;n--)if("Template"==t[n].label)for(var o=d.getPreference("templateList").split(","),a=0,r=0;a<o.length;a++,r++)t[n].inputType.options[r]={label:o[a],value:o[a+1]},a++}),d.addEventListener("bdDrop.enter",function(e){e=e.detail.info.helper.bdDragData.fileDataArray[0];e.metaData&&e.metaData["cmis:objectTypeId"]&&"bb:structuredcontent"===e.metaData["cmis:objectTypeId"].property?(l=e,s.addClass("bd-over-structured-content")):l=void 0}),d.addEventListener("bdDrop.leave",function(e){s.removeClass("bd-over-structured-content")}),d.addEventListener("bdDrop.drop",function(e){var t=e.detail.info.helper.bdDragData.fileDataArray[0];l&&(d.model.preferences.getByName("contentRef")||(e=f.portal.portalModel.createPreference("contentRef","contentRef",void 0,""),d.model.preferences.add(e)),d.setPreference("urlContent",t.url),d.setPreference("contentRef",[u,"contentRepository"===l.repository?l.repository:"@portalRepository",l.contentUId].join(":")),d.model.save(function(){d.refreshHTML(),s.removeClass("bd-empty-structured-content")}),s.removeClass("bd-over-structured-content")),l=void 0}),window.bd&&window.bd.bindDropEvents&&window.bd.bindDropEvents(d.htmlNode),"all-you-need-to-know.html"==t[t.length-1]&&require(["allYouNeedToKnow"],function(e){e.allyouneed(d,o)}),"locateus.html"==t[t.length-1]&&require(["locateUs"],function(e){e.locateus(o,d,r+"/"+i)}),"WaysToBank.html"==t[t.length-1]&&require(["waysToBank"],function(e){e.wayto(o,d,r,h,b)}),"filter.html"==t[t.length-1]&&require(["filterWidget"],function(e){e.filter(o,d)}),"Article.html"==t[t.length-1]&&p(document).ready(function(){p(".image-text").on("click",function(){for(var e=window.location.href.split("/"),t=0;t<e.length;t++)"sme"==e[t]&&localStorage.setItem("menuItemClicked","SME");var n=p(".image-link-wrapper a.calculate-link").attr("href");f.portal.navigateTo(n)})}),require(["gapJs"]))}}}(jQuery);

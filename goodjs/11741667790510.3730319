!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Scout=t():e.Scout=t()}(window,function(){return n=[function(e,t,n){"use strict";t.a={base:{ignorePath:[/mtop\.youku.aio\.collector\.alarm/,/^\/alilog\//],ignoreHost:[/\.baidu\.com$/,/^alarm\.youku\.com$/,/retcode\./,/\.mmstat\.com$/,/azhimalayanvh\.com$/,/\.aliapp\.org$/,/\.tbcache\.com$/,/valipl\.cp31\.ott\.cibntv\.net$/,/ykugc\.cp31\.ott\.cibntv\.net$/,/valipl-vip\.cp31\.ott\.cibntv\.net$/],ignoreMsg:[/^Script\serror\.$/,/^ResizeObserver\sloop\slimit\sexceeded$/],jsonpHost:[/acs\.youku\.com$/,/heyi-acs\.cp31\.ott\.cibntv\.net$/,/heyi-acs\.cp12\.wasu\.tv$/,/acs\.m\.taobao\.com$/,/mtop\.damai\.cn$/],ownHost:[/\.youku\.com$/,/\.cibntv\.net$/,/\.wasu\.tv$/],performanceExt:["fmp"],alarmExt:["page_type","third_uuid","alarm_mark"],urlKeys:["scout_disable","dev","page_type","sample","scout_auto_disable"],loadTimeout:5e3,apiTimeout:5e3,alarmGather:500,alarmMaxNum:24},set:{console:["info"],sampleRate:1,bu:"youku",code:"7001",ignorePath:[],ignoreHost:[],autoEnable:!0,alarmEnable:!0,outEnable:!0,spa:!1,loadTimeout:5e3,apiTimeout:5e3,alarmGather:500,pathKeys:[]},ext:{performance:{},alarm:{alarm_mark:"v19"},pageTypes:[],msg:{}},state:{}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var o={performance:"performance_fe",jsError:"jsError",loadError:"loadError",loadTimeout:"loadTimeout",unhandledrejection:"unhandledrejection",apiError:"apiError",apiTimeout:"apiTimeout",socketError:"socketError",alarm:"alarm_fe"},r={dns:["domainLookupEnd","domainLookupStart"],tcp:["connectEnd","connectStart"],ssl:["connectEnd","secureConnectionStart"],ttfb:["responseStart","requestStart"],trans:["responseEnd","responseStart"],dom:["domInteractive","responseEnd"],res:["loadEventStart","domContentLoadedEventEnd"],firstbyte:["responseStart","domainLookupStart"],tti:["domInteractive","fetchStart"],ready:["domContentLoadedEventEnd","fetchStart"],load:["loadEventStart","fetchStart"]},i={keys:["ttfb","firstbyte","dom","ready","res","load","fcp","fmp"],regex:/^(1|2)\d{4}$|^0$|^([1-9]\d{0,3})$/},a={key:"performance_state",dr_item:"ready",dr_val:["1s&2s&3s&4s&5s","2s&3s&4s&5s","3s&4s&5s","4s&5s","5s"],fp_item:"fmp",fp_val:["1f&2f&3f&4f&5f","2f&3f&4f&5f","3f&4f&5f","4f&5f","5f"],bad:"bad"}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});function a(e){for(var t=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,n={};t.exec(e);)n[RegExp.$1]=RegExp.$2;return n}var s=n(0),c={},i=function(){var t=s.a.set.pathKeys;if(!t.length)return"";var n=[],o=window&&window.location||{},e=o.href||"https://error.com/url?get=false";try{var r=new URL(e).searchParams;t.forEach(function(e){var t=r.get(e);t&&n.push("".concat(e,"=").concat(t))})}catch(e){var i=a(o.search);t.forEach(function(e){var t=i[e];t&&n.push("".concat(e,"=").concat(t))})}t=n.length?"?"+n.join("&"):"";return c.page_name+=t,t},o=function(){var e=window&&window.location||{},t=e.href||"https://error.com/url?get=false",n=e.origin||"".concat(e.protocol,"//").concat(e.hostname).concat(e.port?":"+e.port:"");c.page_url=t,c.port=e.port,c.page_title=document.title,c.page_name=n+e.pathname;try{var o=new URL(t).searchParams;s.a.base.urlKeys.forEach(function(e){c[e]=o.get(e)})}catch(t){var r=a(e.search);s.a.base.urlKeys.forEach(function(e){c[e]=r[e]})}return s.a.set.pathKeys.length&&i(),c};o(),t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(0),c=function(e,n){return e.reduce(function(e,t){return e||t.test(n)},!1)};t.b=function(e,t,n){var o=s.a.set[t]||s.a.base[t];try{var r=new URL(e);i=r.hostname,a=r.pathname}catch(t){var e=(e||"-").match(/^(http|https|\/\/):\/\/([^\/:]*):?(\d*)(\/[^\?\#]*)/),i=e&&e[2]||"-",a=e&&e[4]||"-"}return c(o,n||"ignoreHost"===t||"jsonpHost"===t?i:a)}},function(e,r,t){"use strict";!function(e,t){function n(e){return"undefined"===e}r.__esModule=!0,r.isQuickApp=r.isWeChatMiniProgram=r.isByteDanceMicroApp=r.isMiniApp=r.isKraken=r.isWeex=r.isNode=r.isWeb=void 0;var o=!n(typeof window)&&"onload"in window;r.isWeb=o;o=!(void 0===e||!e.versions||!e.versions.node);r.isNode=o;e=!n(typeof WXEnvironment)&&"Web"!==WXEnvironment.platform;r.isWeex=e;o=!n(typeof __kraken__);r.isKraken=o;o=!(n(typeof my)||null===my||void 0===my.alert);r.isMiniApp=o;o=!n(typeof tt)&&null!==tt&&!n(typeof tt)&&!n(tt.showToast),o=!((r.isByteDanceMicroApp=o)||n(typeof wx)||null===wx||void 0===wx.login&&void 0===wx.miniProgram);r.isWeChatMiniProgram=o;e=!(null==t||void 0===t.callNative||e);r.isQuickApp=e}.call(this,t(14),t(15))},function(e,t,n){"use strict";t.a={isFunction:function(e){return"function"==typeof e},isPlainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return _}),n.d(t,"a",function(){return w}),n.d(t,"c",function(){return E});var u=n(1);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=n(3),l=n(2),t=n(0),i=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=t.a.base,n=t.a.set,s=t.a.ext,f="object"===("undefined"==typeof window?"undefined":o(window))&&window.addEventListener,c={},m={};c[u.a.loadError]=[],c[u.a.apiError]=[],c[u.a.jsError]=[],c[u.a.unhandledrejection]=[],m[u.a.loadError]=[],m[u.a.apiError]=[],m[u.a.jsError]=[];function y(e,n,o){b(e,n)&&(m["".concat(n,"_set")]||(m["".concat(n,"_set")]=!0,setTimeout(function(){var e=c[n],t=e.length;t&&o(1===t?e[0]:e,n),c[n]=[],m["".concat(n,"_set")]=!1},+h||d.alarmGather)))}var g=!(m[u.a.unhandledrejection]=[]),h=n.alarmGather,v=!1,b=function(e,t,n){var o="".concat(e.api||"").concat(e.message||"").concat(e.filename||""),r=o&&i.a.isString(o);if(!(r&&-1<m[t].indexOf(o)))return r&&m[t].push(o),n||c[t].push(e),!0},r=function(c){f&&c&&window.addEventListener("error",function(e){try{!function(e){var t={},n=e.target&&e.target.localName;if(!n||"link"!==n&&"script"!==n&&"img"!==n){if(n)return;if(v&&Object(p.a)(d.ignoreMsg,e.message||""))return;r=u.a.jsError,t={filename:e.filename||"",colno:e.colno,lineno:e.lineno,message:e.message,stack:e.error&&e.error.stack||""}}else{var o=e.target.href||e.target.src;if(!o||o===l.a.page_url)return;var r=u.a.loadError,i=Object(p.b)(o,"ignorePath"),a=Object(p.b)(o,"ignoreHost"),s=Object(p.b)(o,"jsonpHost");if(i||a)return;t=s?(r=u.a.apiError,{api:o.replace(/(#|\?).*/,""),url:o,cost:0,type:"jsonp",method:"GET",params:"",status:"",statusText:"load error"}):"video"===n?(r=u.a.jsError,{filename:o,tag:n,message:e.target.error}):{filename:o,tag:n,message:"load error"}}h&&!g&&b(t,r),h&&g&&y(t,r,c),!h&&b(t,r,!0)&&c(t,r),v=!0}(e)}catch(e){}},!0)},_=function(r){f&&r&&window.addEventListener("unhandledrejection",function(e){try{!function(e){var t=u.a.unhandledrejection,n=e.reason instanceof Error?e.reason.toString():e.reason,o=void 0;try{o=e.reason&&e.reason.stack}catch(e){}o={message:n,stack:o};h&&!g&&b(o,t),h&&g&&y(o,t,r),!h&&b(o,t,!0)&&r(o,t)}(e)}catch(e){}},!0)},w=function(o){f&&o&&h&&window.addEventListener("DOMContentLoaded",function(e){try{g=!0,Object.keys(c).map(function(e){var t=c[e],n=t.length;n&&o(1===n?t[0]:t,e),c[e]=[]})}catch(e){g=!0}},!0)},E=function(n,o,r){f&&window.addEventListener("load",function(e){try{!function(){g=!0;var e=u.a.performance,t=function(e){var o=("object"===("undefined"==typeof window?"undefined":a(window))&&window.performance||{}).timing;if(o){var r=e();Object.keys(u.b).map(function(e,t){var n=u.b[e];r[e]=o[n[0]]-(o[n[1]]||o[n[0]])});var t=u.c.keys.reduce(function(e,t){return e||!u.c.regex.test(r[t])},!1),n=r[u.d.dr_item]||0,i=r[u.d.fp_item]||0,e=parseInt(n/1e3),n=parseInt(i/1e3);return r[u.d.key]="dr&"+(u.d.dr_val[e]||"dr"+u.d.bad)+(i?"&fp&"+(u.d.fp_val[n]||"fp"+u.d.bad):""),!t&&r||!1}}(r);t&&n&&n(t,e),s.performance.over=!0,o&&n&&o(n)}()}catch(e){g=!0}},!0)}},function(e,t,n){"use strict";var i=1;t.a=function(e){var t,n,o,r;window.fetch?(n="https://alarm.youku.com/api/sendAlarm",o=(t=e).length<2048?"GET":"POST",!(r="GET"==o)&&6096<t.length||(t="alarmInfo="+encodeURIComponent(t),n+=r?"?".concat(t):"",t={method:o,credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:t},r&&delete t.body,fetch(n,t).catch(function(e){}))):function(e){i=1===i?function(){var e=navigator.userAgent,t=-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE");new RegExp("MSIE (\\d+\\.\\d+);").test(e);e=parseFloat(RegExp.$1);return t&&9===e}():i;var t={};window.XMLHttpRequest?(t=new(i?XDomainRequest:XMLHttpRequest)).withCredentials=!0:t=ActiveXObject("Microsoft.XMLHTTP"),"GET"==(2048<e.length?"POST":"GET")&&(t.open("GET","https://alarm.youku.com/api/sendAlarm?alarmInfo="+encodeURIComponent(e),!0),t.send(null))}(e)}},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,i={console:(r=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"info";"object"===("undefined"==typeof window?"undefined":o(window))&&(window.console=window.console||{},t=console[n]||function(){},console[n]=function(){t.apply(this,arguments);try{e&&e(arguments[0],!1)}catch(e){}})},a.toString=function(){return r.toString()},a)};function a(e){return r.apply(this,arguments)}t.a=i},function(e,t,n){"use strict";var m=n(1),y=n(3),n=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=n.a.set,h=n.a.base,v=[],r="object"===("undefined"==typeof window?"undefined":o(window))&&window.XMLHttpRequest;function i(e){e=new CustomEvent(e,{detail:this});window.dispatchEvent(e)}function a(){var e=new r;return e.addEventListener("abort",function(){i.call(this,"ajaxAbort")},!1),e.addEventListener("error",function(){i.call(this,"ajaxError")},!1),e.addEventListener("load",function(){i.call(this,"ajaxLoad")},!1),e.addEventListener("loadstart",function(){i.call(this,"ajaxLoadStart")},!1),e.addEventListener("progress",function(){i.call(this,"ajaxProgress")},!1),e.addEventListener("timeout",function(){i.call(this,"ajaxTimeout")},!1),e.addEventListener("loadend",function(){i.call(this,"ajaxLoadEnd")},!1),e.addEventListener("readystatechange",function(){i.call(this,"ajaxReadyStateChange")},!1),e}t.a=function(p){var l,d,f,n,t,e;r&&("function"!=typeof window.CustomEvent&&((e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype,window.CustomEvent=e),l=[],d=[],f=[],n=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(e,t){try{d.push({method:e,url:t,startTime:+new Date})}catch(e){}n&&n.apply(this,arguments)},t=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(e){try{f.push(e)}catch(e){}t&&t.apply(this,arguments)},window.XMLHttpRequest=a,window.addEventListener("ajaxLoadStart",function(e){e={timeStamp:+new Date,detail:e.detail};l.push(e)}),window.addEventListener("ajaxLoadEnd",function(e){for(var t=0;t<l.length;t++){var n=l[t];if(0<n.detail.status){var o=+new Date-n.timeStamp,r=n.detail.status,i=(r<200||300<=r)&&304!=r?m.a.apiError:o>(g.apiTimeout||h.apiTimeout)?m.a.apiTimeout:null;if(i){var a=n.detail.responseURL,s=(a||"").replace(/(#|\?).*/,"");if(!s||-1<v.indexOf(s))return;var c=Object(y.b)(s,"ignorePath"),u=Object(y.b)(s,"ignoreHost");if(c||u)return;n={api:s,cost:o,type:"Xhr",method:d[t]&&d[t].method||"GET",status:r,url:a,statusText:n.detail.statusText,params:f[t]};p&&p(n,i),v.push(s)}d.splice(t,1),l.splice(t,1),f.splice(t,1);break}}}))}},function(e,t,n){"use strict";var d=n(1),o=n(0),f=n(3);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=o.a.set,y=o.a.base,g=[];t.a=function(l){var t="object"===("undefined"==typeof window?"undefined":r(window))&&window.fetch;t&&(window.fetch=function(e,u){var p=+new Date;return t.apply(this,arguments).then(function(e){try{t=p,o=u,r=l,s=(n=e).url,c=(s||"").replace(/(#|\?).*/,""),"opaque"===n.type||!c||-1<g.indexOf(c)||(i=Object(f.b)(c,"ignorePath"),a=Object(f.b)(c,"ignoreHost"),i||a||(i=+new Date-t,(t=((a=+n.status)<200||300<=a)&&304!=a?d.a.apiError:i>(m.apiTimeout||y.apiTimeout)?d.a.apiTimeout:null)&&(o={api:c,cost:i,type:"fetch",method:o&&o.method||"GET",status:a,url:s,statusText:n.statusText,params:o&&o.body||""},r&&r(o,t),g.push(c))))}catch(e){}var t,n,o,r,i,a,s,c;return e})})}},function(e,t,n){"use strict";var o=n(1),r=n(0),p=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=r.a.set,d=r.a.base;t.a=function(e){var t="object"===("undefined"==typeof window?"undefined":i(window))&&window.performance||{},t=t.getEntriesByType&&t.getEntriesByType("resource")||[],a=+l.loadTimeout||d.loadTimeout,s=+l.apiTimeout||d.apiTimeout,c=[],u=[];t.forEach(function(e){var t=e.duration,n=e.nextHopProtocol,o=e.initiatorType,r=e.name,i=Object(p.b)(r,"ignorePath")||Object(p.b)(r,"ignoreHost"),e=!i&&"script"===o&&s<t&&Object(p.b)(r,"jsonpHost");e&&u.push({api:r.replace(/(#|\?).*/,""),url:r,cost:t,type:"jsonp",method:"GET",params:"",status:"",statusText:"loadTimeout"}),!i&&!e&&a<t&&c.push({duration:t,initiatorType:o,name:r,nextHopProtocol:n})}),c.length&&e&&e(c,o.a.loadTimeout),u.length&&e&&e(u,o.a.apiTimeout)}},function(e,t,n){"use strict";t.a=function(){if(!(window.performance&&window.performance.timing&&window.performance.getEntriesByType&&window.requestAnimationFrame&&window.MutationObserver))return{};var i=window.performance.timing,n=!0,u=0,a=+new Date,s=[{score:0,t:a}],p=window.innerHeight,c=new window.MutationObserver(function(){window.requestAnimationFrame(function(){var e=+new Date,t=function e(t,n,o){var r=t.children,i=r&&r.length||0,a=0,s=t.tagName;if("SCRIPT"!==s&&"STYLE"!==s&&"META"!==s&&"HEAD"!==s&&(t.getBoundingClientRect&&t.getBoundingClientRect().top<p&&(a+=n*i),i))for(var c=0;c<i;c++)a+=e(r[c],n+1,o);return u=o?a:u,a}(document,1,n);n=!1,s.push({score:t,t:e})})});return c.observe(document,{childList:!0,subtree:!0}),function(){c.disconnect();for(var e=[],t=1;t<s.length;t++)s[t].t!==s[t-1].t&&e.push({t:s[t].t,rate:s[t].score-s[t-1].score});e.sort(function(e,t){return t.rate-e.rate});var n=300<u;if(e.length){var o=i.navigationStart||i.fetchStart,r=performance.getEntriesByType("paint")&&performance.getEntriesByType("paint")[1]&&performance.getEntriesByType("paint")[1].startTime||0,n=n?a-o:e[0].t-o,n=window.__USE_SSR_TIME__||n;return r||(e.forEach(function(e){r=0<e.rate?e.t-o:0}),r=r||e[e.length-1].t-o),{fcp:parseInt(r),fmp:n<r?parseInt(r):n}}return{}}}},function(e,t,n){"use strict";t.a=function(e){var o,r,i,a=function(){if(document.currentScript)return document.currentScript;for(var e,t=document.getElementsByTagName("script"),n=0;e=t[n++];)if("interactive"===e.readyState)return e;return null}();"probe_current"===a.getAttribute("id")&&(o={},r=a.getAttribute("exparams"),i=r?function(e){for(var t=/([^=&\s\?]+)[=\s]*([^&\s]*)/g,n={};t.exec(e);)n[RegExp.$1]=RegExp.$2;return n}(r):{},["bu","code","sampleRate"].map(function(e){var t=a.getAttribute(e),n=r&&i[e];(t||n)&&(o[e]=t||n)}),o.bu&&o.code&&new e(o))}},function(e,t){var n,o,e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var s,c=[],u=!1,p=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):p=-1,c.length&&d())}function d(){if(!u){var e=a(l);u=!0;for(var t=c.length;t;){for(s=c,c=[];++p<t;)s&&s[p].run();p=-1,t=c.length}s=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){!function(d,v){function b(){var n={},e=new s(function(e,t){n.resolve=e,n.reject=t});return n.promise=e,n}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function f(e){var t,n=[];for(t in e)e[t]&&n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")}function a(e){return"[object Object]"=={}.toString.call(e)}function m(e){e=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return e?e[1]:void 0}function r(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5),document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+o.toGMTString()}function e(e,t){for(var n=e.split("."),o=t.split("."),r=0;r<3;r++){var i=Number(n[r]),a=Number(o[r]);if(a<i)return 1;if(i<a)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function i(e){this.id=""+(new Date).getTime()+ ++y,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=t.slice(0)}var s=d.Promise,c=(s||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var u={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},t=[],p={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var e=d.location.hostname;e||(n=d.parent.location.hostname)&&~n.indexOf("zebra.alibaba-inc.com")&&(e=n);var t=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),n=e.match(t)||[],e=n[2]||"taobao.com",t=n[1]||"m";"taobao.net"!==e||"x"!==t&&"waptest"!==t&&"daily"!==t?"taobao.net"===e&&"demo"===t?t="demo":"alibaba-inc.com"===e&&"zebra"===t?t="zebra":"waptest"!==t&&"wapa"!==t&&"m"!==t&&(t="m"):t="waptest";n="taobao.net"===e&&"waptest"===t?"acs":"h5api";u.mainDomain=e,u.subDomain=t,u.prefix=n})(),function(){var e=d.navigator.userAgent,t=e.match(/WindVane[\/\s]([\d\.\_]+)/);t&&(u.WindVaneVersion=t[1]);t=e.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);t&&(u.AliAppName=t[1],u.AliAppVersion=t[2]);e=e.match(/AMapClient\/([\d\.\_]+)/i);e&&(u.AliAppName="AMAP",u.AliAppVersion=e[1])}();var n=/[Android|Adr]/.test(d.navigator.userAgent),l="AP"===u.AliAppName&&0<=e(u.AliAppVersion,"10.1.2")||"KB"===u.AliAppName&&0<=e(u.AliAppVersion,"7.1.62")||n&&"AMAP"===u.AliAppName&&0<=e(u.AliAppVersion,"1.0.1"),y=0;i.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},i.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},i.prototype.__processRequestType=function(e){var t=this,n=this.params,o=this.options;if(!0===u.H5Request&&(o.H5Request=!0),!0===u.WindVaneRequest&&(o.WindVaneRequest=!0),!1===o.H5Request&&!0===o.WindVaneRequest){if(!l&&(!v.windvane||parseFloat(o.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::ç¼ºå°‘WindVaneçŽ¯å¢ƒ");if(l&&!d.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::æ”¯ä»˜å®é€šé“æœªå‡†å¤‡å¥½ï¼Œæ”¯ä»˜å®è¯·è§ https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===o.H5Request)o.WindVaneRequest=!1;else if(void 0===o.WindVaneRequest&&void 0===o.H5Request){if(v.windvane&&5.4<=parseFloat(o.WindVaneVersion)?o.WindVaneRequest=!0:o.H5Request=!0,l){if(o.WindVaneRequest=o.H5Request=void 0,d.AlipayJSBridge)if(a(n.data))o.WindVaneRequest=!0;else try{a(JSON.parse(n.data))?o.WindVaneRequest=!0:o.H5Request=!0}catch(e){o.H5Request=!0}else o.H5Request=!0;"AMAP"!==u.AliAppName||n.useNebulaJSbridgeWithAMAP||(o.WindVaneRequest=o.H5Request=void 0,o.H5Request=!0)}window.self!==window.top&&(o.H5Request=!0)}var r=d.navigator.userAgent.toLowerCase();return-1<r.indexOf("youku")&&o.mainDomain.indexOf("youku.com")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),-1<o.mainDomain.indexOf("youku.com")&&r.indexOf("youku")<0&&(o.WindVaneRequest=!1,o.H5Request=!0),e?e().then(function(){var e=o.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===o.WindVaneRequest&&l&&o.retJson.error||!e||-1<e.indexOf("PARAM_PARSE_ERROR")||-1<e.indexOf("HY_FAILED")||-1<e.indexOf("HY_NO_HANDLER")||-1<e.indexOf("HY_CLOSED")||-1<e.indexOf("HY_EXCEPTION")||-1<e.indexOf("HY_NO_PERMISSION")){if(!l||!isNaN(o.retJson.error)||-1!==o.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return l&&a(n.data)&&(n.data=JSON.stringify(n.data)),u.H5Request=!0,t.__sequence([t.__processRequestType,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]);void 0===o.retJson.api&&void 0===o.retJson.v&&(o.retJson.api=n.api,o.retJson.v=n.v,o.retJson.ret=[o.retJson.error+"::"+o.retJson.errorMessage],o.retJson.data={})}}):void 0};var g="_m_h5_c",h="_m_h5_tk";i.prototype.__getTokenFromAlipay=function(){var t=b(),n=this.options,e=(d.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===n.useAlipayJSBridge&&!e&&l&&d.AlipayJSBridge&&d.AlipayJSBridge.call?d.AlipayJSBridge.call("getMtopToken",function(e){e&&e.token&&(n.token=e.token),t.resolve()},function(){t.resolve()}):t.resolve(),t.promise},i.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&m(g)?e.token=m(g).split(";")[0]:e.token=e.token||m(h),e.token&&(e.token=e.token.split("_")[0]),s.resolve()},i.prototype.__waitWKWebViewCookie=function(e){var t=this.options;t.waitWKWebViewCookieFn&&t.H5Request&&d.webkit&&d.webkit.messageHandlers?t.waitWKWebViewCookieFn(e):e()},i.prototype.__processToken=function(e){var n=this,o=this.options;return this.params,o.token&&delete o.token,!0!==o.WindVaneRequest?c.then(function(){return n.__getTokenFromAlipay()}).then(function(){return n.__getTokenFromCookie()}).then(e).then(function(){var e=o.retJson,t=e.ret;if(-1<(t=t instanceof Array?t.join(","):t).indexOf("TOKEN_EMPTY")||(!0===o.CDR||!0===o.syncCookieMode)&&-1<t.indexOf("ILLEGAL_ACCESS")||-1<t.indexOf("TOKEN_EXOIRED")){if(o.maxRetryTimes=o.maxRetryTimes||5,o.failTimes=o.failTimes||0,o.H5Request&&++o.failTimes<o.maxRetryTimes){t=[n.__waitWKWebViewCookie,n.__processToken,n.__processRequestUrl,n.middlewares,n.__processRequest];return!0===o.syncCookieMode&&n.constructor.__cookieProcessorId!==n.id&&(n.constructor.__cookieProcessor?t=[function(e){function t(){n.constructor.__cookieProcessor=null,n.constructor.__cookieProcessorId=null,e()}n.constructor.__cookieProcessor?n.constructor.__cookieProcessor.then(t).catch(t):e()},n.__waitWKWebViewCookie,n.__processToken,n.__processRequestUrl,n.middlewares,n.__processRequest]:(n.constructor.__cookieProcessor=n.__requestProcessor,n.constructor.__cookieProcessorId=n.id)),n.__sequence(t)}0<o.maxRetryTimes&&(r(g,o.pageDomain,"*"),r(h,o.mainDomain,o.subDomain),r("_m_h5_tk_enc",o.mainDomain,o.subDomain)),e.retType=p.TOKEN_EXPIRED}}):void e()},i.prototype.__processRequestUrl=function(e){var t,h,v,n,o,b=this.params,_=this.options;_.hostSetting&&_.hostSetting[d.location.hostname]&&((t=_.hostSetting[d.location.hostname]).prefix&&(_.prefix=t.prefix),t.subDomain&&(_.subDomain=t.subDomain),t.mainDomain&&(_.mainDomain=t.mainDomain)),!0===_.H5Request&&(t="//"+(_.prefix?_.prefix+".":"")+(_.subDomain?_.subDomain+".":"")+_.mainDomain+"/h5/"+b.api.toLowerCase()+"/"+b.v.toLowerCase()+"/",h=b.appKey||("waptest"===_.subDomain?"4272":"12574478"),v=(new Date).getTime(),n={jsv:"2.6.0",appKey:h,t:v,sign:function(){function s(e,t){return e<<t|e>>>32-t}function c(e,t){var n=2147483648&e,o=2147483648&t,r=(1073741823&e)+(1073741823&t);return(e=1073741824&e)&(t=1073741824&t)?2147483648^r^n^o:e|t?1073741824&r?3221225472^r^n^o:1073741824^r^n^o:r^n^o}function e(e,t,n,o,r,i,a){return c(s(e=c(e,c(c(t&n|~t&o,r),a)),i),t)}function t(e,t,n,o,r,i,a){return c(s(e=c(e,c(c(t&o|n&~o,r),a)),i),t)}function n(e,t,n,o,r,i,a){return c(s(e=c(e,c(c(t^n^o,r),a)),i),t)}function o(e,t,n,o,r,i,a){return c(s(e=c(e,c(c(n^(t|~o),r),a)),i),t)}function r(e){for(var t="",n="",o=0;o<=3;o++)t+=(n="0"+(e>>>8*o&255).toString(16)).substr(n.length-2,2);return t}for(var i,a,u,p,l=function(e){for(var t,n=e.length,o=n+8,o=16*((o-o%64)/64+1),r=new Array(o-1),i=0,a=0;a<n;)i=a%4*8,r[t=(a-a%4)/4]=r[t]|e.charCodeAt(a)<<i,a++;return r[t=(a-a%4)/4]=r[t]|128<<(i=a%4*8),r[o-2]=n<<3,r[o-1]=n>>>29,r}(function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):(127<o&&o<2048?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t}(_.token+"&"+v+"&"+h+"&"+b.data)),d=1732584193,f=4023233417,m=2562383102,y=271733878,g=0;g<l.length;g+=16)f=o(f=o(f=o(f=o(f=n(f=n(f=n(f=n(f=t(f=t(f=t(f=t(f=e(f=e(f=e(f=e(a=f,m=e(u=m,y=e(p=y,d=e(i=d,f,m,y,l[g+0],7,3614090360),f,m,l[g+1],12,3905402710),d,f,l[g+2],17,606105819),y,d,l[g+3],22,3250441966),m=e(m,y=e(y,d=e(d,f,m,y,l[g+4],7,4118548399),f,m,l[g+5],12,1200080426),d,f,l[g+6],17,2821735955),y,d,l[g+7],22,4249261313),m=e(m,y=e(y,d=e(d,f,m,y,l[g+8],7,1770035416),f,m,l[g+9],12,2336552879),d,f,l[g+10],17,4294925233),y,d,l[g+11],22,2304563134),m=e(m,y=e(y,d=e(d,f,m,y,l[g+12],7,1804603682),f,m,l[g+13],12,4254626195),d,f,l[g+14],17,2792965006),y,d,l[g+15],22,1236535329),m=t(m,y=t(y,d=t(d,f,m,y,l[g+1],5,4129170786),f,m,l[g+6],9,3225465664),d,f,l[g+11],14,643717713),y,d,l[g+0],20,3921069994),m=t(m,y=t(y,d=t(d,f,m,y,l[g+5],5,3593408605),f,m,l[g+10],9,38016083),d,f,l[g+15],14,3634488961),y,d,l[g+4],20,3889429448),m=t(m,y=t(y,d=t(d,f,m,y,l[g+9],5,568446438),f,m,l[g+14],9,3275163606),d,f,l[g+3],14,4107603335),y,d,l[g+8],20,1163531501),m=t(m,y=t(y,d=t(d,f,m,y,l[g+13],5,2850285829),f,m,l[g+2],9,4243563512),d,f,l[g+7],14,1735328473),y,d,l[g+12],20,2368359562),m=n(m,y=n(y,d=n(d,f,m,y,l[g+5],4,4294588738),f,m,l[g+8],11,2272392833),d,f,l[g+11],16,1839030562),y,d,l[g+14],23,4259657740),m=n(m,y=n(y,d=n(d,f,m,y,l[g+1],4,2763975236),f,m,l[g+4],11,1272893353),d,f,l[g+7],16,4139469664),y,d,l[g+10],23,3200236656),m=n(m,y=n(y,d=n(d,f,m,y,l[g+13],4,681279174),f,m,l[g+0],11,3936430074),d,f,l[g+3],16,3572445317),y,d,l[g+6],23,76029189),m=n(m,y=n(y,d=n(d,f,m,y,l[g+9],4,3654602809),f,m,l[g+12],11,3873151461),d,f,l[g+15],16,530742520),y,d,l[g+2],23,3299628645),m=o(m,y=o(y,d=o(d,f,m,y,l[g+0],6,4096336452),f,m,l[g+7],10,1126891415),d,f,l[g+14],15,2878612391),y,d,l[g+5],21,4237533241),m=o(m,y=o(y,d=o(d,f,m,y,l[g+12],6,1700485571),f,m,l[g+3],10,2399980690),d,f,l[g+10],15,4293915773),y,d,l[g+1],21,2240044497),m=o(m,y=o(y,d=o(d,f,m,y,l[g+8],6,1873313359),f,m,l[g+15],10,4264355552),d,f,l[g+6],15,2734768916),y,d,l[g+13],21,1309151649),m=o(m,y=o(y,d=o(d,f,m,y,l[g+4],6,4149444226),f,m,l[g+11],10,3174756917),d,f,l[g+2],15,718787259),y,d,l[g+9],21,3951481745),d=c(d,i),f=c(f,a),m=c(m,u),y=c(y,p);return(r(d)+r(f)+r(m)+r(y)).toLowerCase()}()},o={data:b.data,ua:b.ua},Object.keys(b).forEach(function(e){void 0===n[e]&&void 0===o[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(n[e]=b[e])}),b.ext_querys&&Object.keys(b.ext_querys).forEach(function(e){n[e]=b.ext_querys[e]}),_.getJSONP?n.type="jsonp":_.getOriginalJSONP?n.type="originaljsonp":(_.getJSON||_.postJSON)&&(n.type="originaljson"),void 0!==b.valueType&&("original"===b.valueType?_.getJSONP||_.getOriginalJSONP?n.type="originaljsonp":(_.getJSON||_.postJSON)&&(n.type="originaljson"):"string"===b.valueType&&(_.getJSONP||_.getOriginalJSONP?n.type="jsonp":(_.getJSON||_.postJSON)&&(n.type="json"))),!0===_.useJsonpResultType&&"originaljson"===n.type&&delete n.type,_.dangerouslySetProtocol&&(t=_.dangerouslySetProtocol+":"+t),_.querystring=n,_.postdata=o,_.path=t),e()},i.prototype.__processUnitPrefix=function(e){e()};var _=0;i.prototype.__requestJSONP=function(e){function t(e){if(s&&clearTimeout(s),c.parentNode&&c.parentNode.removeChild(c),"TIMEOUT"===e)window[a]=function(){window[a]=void 0;try{delete window[a]}catch(e){}};else{window[a]=void 0;try{delete window[a]}catch(e){}}}var n=b(),o=this.params,r=this.options,i=o.timeout||2e4,a="mtopjsonp"+(o.jsonpIncPrefix||"")+ ++_,s=setTimeout(function(){e(r.timeoutErrMsg||"TIMEOUT::æŽ¥å£è¶…æ—¶"),t("TIMEOUT")},i);r.querystring.callback=a;var c=document.createElement("script");return c.src=r.path+"?"+f(r.querystring)+"&"+f(r.postdata),c.async=!0,c.onerror=function(){t("ABORT"),e(r.abortErrMsg||"ABORT::æŽ¥å£å¼‚å¸¸é€€å‡º")},window[a]=function(){r.results=Array.prototype.slice.call(arguments),t(),n.resolve()},i=c,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(i),n.promise},i.prototype.__requestJSON=function(n){function o(e){s&&clearTimeout(s),"TIMEOUT"===e&&a.abort()}var r=b(),e=this.params,i=this.options,a=new d.XMLHttpRequest,t=e.timeout||2e4,s=setTimeout(function(){n(i.timeoutErrMsg||"TIMEOUT::æŽ¥å£è¶…æ—¶"),o("TIMEOUT")},t);i.CDR&&m(g)&&(i.querystring.c=decodeURIComponent(m(g))),a.onreadystatechange=function(){if(4==a.readyState){var e,t=a.status;if(200<=t&&t<300||304==t){o(),e=a.responseText,t=a.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=t,i.results=[e],r.resolve()}catch(e){n("PARSE_JSON_ERROR::è§£æžJSONå¤±è´¥")}}else o("ABORT"),n(i.abortErrMsg||"ABORT::æŽ¥å£å¼‚å¸¸é€€å‡º")}};var c,u,t=i.path+"?"+f(i.querystring);i.getJSON?(c="GET",t+="&"+f(i.postdata)):i.postJSON&&(c="POST",u=f(i.postdata)),a.open(c,t,!0),a.withCredentials=!0,a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded");var p=e.ext_headers||e.headers;if(p)for(var l in p)a.setRequestHeader(l,p[l]);return a.send(u),r.promise},i.prototype.__requestWindVane=function(e){function t(e){r.results=[e],n.resolve()}var n=b(),o=this.params,r=this.options,i=o.data,a=o.api,s=o.v,c=r.postJSON?1:0,u=r.getJSON||r.postJSON||r.getOriginalJSONP?"originaljson":"";void 0!==o.valueType&&("original"===o.valueType?u="originaljson":"string"===o.valueType&&(u="")),!0===r.useJsonpResultType&&(u="");var p,l="https"===location.protocol?1:0,d=o.isSec||0,f=o.sessionOption||"AutoLoginOnly",m=o.ecode||0,y=o.ext_headers||{},g=o.ext_querys||{},h=2*(p=void 0!==o.timer?parseInt(o.timer):void 0!==o.timeout?parseInt(o.timeout):2e4);!0===o.needLogin&&void 0===o.sessionOption&&(f="AutoLoginAndManualLogin"),void 0!==o.secType&&void 0===o.isSec&&(d=o.secType);y={api:a,v:s,post:String(c),type:u,isHttps:String(l),ecode:String(m),isSec:String(d),param:JSON.parse(i),timer:p,sessionOption:f,ext_headers:y,ext_querys:g};o.ttid&&!0===r.dangerouslySetWVTtid&&(y.ttid=o.ttid),Object.assign&&o.dangerouslySetWindvaneParams&&Object.assign(y,o.dangerouslySetWindvaneParams);g="MtopWVPlugin";return"string"==typeof o.customWindVaneClassName&&(g=o.customWindVaneClassName),v.windvane.call(g,"send",y,t,t,h),n.promise},i.prototype.__requestAlipay=function(e){var t=b(),n=this.params,o=this.options,r={apiName:n.api,apiVersion:n.v,needEcodeSign:"1"===String(n.ecode),headers:n.ext_headers||{},usePost:!!o.postJSON};a(n.data)||(n.data=JSON.parse(n.data)),r.data=n.data,n.ttid&&!0===o.dangerouslySetWVTtid&&(r.ttid=n.ttid),(o.getJSON||o.postJSON||o.getOriginalJSONP)&&(r.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?r.type="originaljson":"string"===n.valueType&&delete r.type),!0===o.useJsonpResultType&&delete r.type,Object.assign&&n.dangerouslySetAlipayParams&&Object.assign(r,n.dangerouslySetAlipayParams);var i="mtop";return"string"==typeof n.customAlipayJSBridgeApi&&(i=n.customAlipayJSBridgeApi),d.AlipayJSBridge.call(i,r,function(e){o.results=[e],t.resolve()}),t.promise},i.prototype.__processRequest=function(e,t){var i=this;return c.then(function(){var e=i.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return i.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return i.__requestJSON(t);if(e.WindVaneRequest)return l?i.__requestAlipay(t):i.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::é”™è¯¯çš„è¯·æ±‚ç±»åž‹")}).then(e).then(function(){var e=i.options,t=(i.params,e.results[0]),n=t&&t.ret||[];(t.ret=n)instanceof Array&&(n=n.join(","));var o,r=t.c;e.CDR&&r&&(o=r,r={domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite},document.cookie=g.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+o.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")),-1<n.indexOf("SUCCESS")?t.retType=p.SUCCESS:t.retType=p.ERROR,e.retJson=t})},i.prototype.__sequence=function(e){var i=this,a=[],s=[];e.forEach(function e(t){var n,o,r;t instanceof Array?t.forEach(e):(o=b(),r=b(),a.push(function(){return o=b(),(n=t.call(i,function(e){return o.resolve(e),r.promise},function(e){return o.reject(e),r.promise}))&&(n=n.catch(function(e){o.reject(e)})),o.promise}),s.push(function(e){return r.resolve(e),n}))});for(var t,n=c;t=a.shift();)n=n.then(t);for(;t=s.pop();)n=n.then(t);return n};function w(e){e()}var E=function(e){e()};i.prototype.request=function(e){var n=this;if(this.options=o(e||{},u),!s){var t="å½“å‰æµè§ˆå™¨ä¸æ”¯æŒPromiseï¼Œè¯·åœ¨windowså¯¹è±¡ä¸ŠæŒ‚è½½Promiseå¯¹è±¡";throw v.mtop={ERROR:t},new Error(t)}t=s.resolve([E,w]).then(function(e){var t=e[0],e=e[1];return n.__sequence([t,n.__processRequestMethod,n.__processRequestType,n.__processToken,n.__processRequestUrl,n.middlewares,n.__processRequest,e])}).then(function(){var e=n.options.retJson;return e.retType!==p.SUCCESS?s.reject(e):n.options.successCallback?void n.options.successCallback(e):s.resolve(e)}).catch(function(e){e=e instanceof Error?{ret:[e.message],stack:[e.stack],retJson:p.ERROR}:"string"==typeof e?{ret:[e],retJson:p.ERROR}:void 0!==e?e:n.options.retJson;return v.mtop.errorListener&&v.mtop.errorListener({api:n.params.api,data:n.params.data,v:n.params.v,retJson:e}),n.options.failureCallback?void n.options.failureCallback(e):s.reject(e)});return this.__processRequestType(),n.options.H5Request&&(n.constructor.__firstProcessor||(n.constructor.__firstProcessor=t),E=function(e){n.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(e.pageDomain=e.pageDomain||function(t){try{return".com"!==t.substring(t.lastIndexOf("."))?(t.split(".")||[]).length<=3?t:t.split(".").slice(1).join("."):t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}catch(e){return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)}}(d.location.hostname),e.mainDomain!==e.pageDomain&&(e.maxRetryTimes=4,e.CDR=!0)),this.__requestProcessor=t},v.mtop=function(e){return new i(e)},v.mtop.request=function(e,t,n){t={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new i(e).request(t)},v.mtop.H5Request=function(e,t,n){t={H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(t)},v.mtop.middlewares=t,v.mtop.config=u,v.mtop.RESPONSE_TYPE=p,v.mtop.CLASS=i}(window,window.lib||(window.lib={})),function(f,a){function c(e){return e.preventDefault(),!1}function m(e,t){var n=this,o=f.dpr||1,r=document.createElement("div"),i=document.documentElement.getBoundingClientRect(),a=Math.max(i.width,window.innerWidth)/o,s=Math.max(i.height,window.innerHeight)/o;r.style.cssText=["-webkit-transform:scale("+o+") translateZ(0)","-ms-transform:scale("+o+") translateZ(0)","transform:scale("+o+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+a+"px","height:"+s+"px","z-index:2147483647","position:"+(800<a?"fixed":"absolute"),"left:0","top:0px","background:"+(800<a?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");o=document.createElement("div");o.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),o.innerText=e;s=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),a=document.createElement("img");a.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),a.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";e=document.createElement("iframe");e.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),s?(o.appendChild(a),r.appendChild(o)):(a.style.cssText=["position:absolute","width:15px","height:15px","top: 50%;","left: 50%;","margin: -153px 0 0 184px;","cursor: pointer","border:0","z-index:1","overflow:hidden"].join(";"),r.appendChild(a),e.style.cssText=["position:absolute","top:50%","left:50%","margin: -160px 0 0 -210px;","height:320px","min-width:420px","border:0","background:#FFF","overflow:hidden"].join(";")),r.appendChild(e),r.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(r),e.src=t,a.addEventListener("click",function(){n.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),r.dispatchEvent(e)},!1),this.addEventListener=function(){r.addEventListener.apply(r,arguments)},this.removeEventListener=function(){r.removeEventListener.apply(r,arguments)},this.show=function(){document.addEventListener("touchmove",c,!1),r.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",c),window.scrollTo(0,-i.top),r.parentNode&&r.parentNode.removeChild(r)}}if(!a||!a.mtop||a.mtop.ERROR)throw new Error("Mtop åˆå§‹åŒ–å¤±è´¥ï¼");var i=f.Promise,o=a.mtop.CLASS,s=a.mtop.config,u=a.mtop.RESPONSE_TYPE;a.mtop.middlewares.push(function(e){var o=this,r=this.options,i=this.params;return e().then(function(){var e=r.retJson,t=e.ret,n=navigator.userAgent.toLowerCase(),n=-1<n.indexOf("safari")&&n.indexOf("chrome")<0&&n.indexOf("qqbrowser")<0;if((-1<(t=t instanceof Array?t.join(","):t).indexOf("SESSION_EXPIRED")||-1<t.indexOf("SID_INVALID")||-1<t.indexOf("AUTH_REJECT")||-1<t.indexOf("NEED_LOGIN"))&&(e.retType=u.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===s.LoginRequest||!0===r.LoginRequest||!0===i.needLogin))){if(!a.login)throw new Error("LOGIN_NOT_FOUND::ç¼ºå°‘lib.login");if(!0!==r.safariGoLogin||!n||"taobao.com"===r.pageDomain)return a.login.goLoginAsync().then(function(e){return o.__sequence([o.__processToken,o.__processRequestUrl,o.__processUnitPrefix,o.middlewares,o.__processRequest])}).catch(function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::ç”¨æˆ·å–æ¶ˆç™»å½•"):new Error("LOGIN_FAILURE::ç”¨æˆ·ç™»å½•å¤±è´¥")});a.login.goLogin()}})}),a.mtop.loginRequest=function(e,t,n){t={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new o(e).request(t)},a.mtop.antiFloodRequest=function(e,t,n){t={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new o(e).request(t)},a.mtop.middlewares.push(function(e){var n=this.options;return this.params,!0!==n.H5Request||!0!==s.AntiFlood&&!0!==n.AntiFlood?void e():e().then(function(){var e=n.retJson,t=e.ret;-1<(t=t instanceof Array?t.join(","):t).indexOf("FAIL_SYS_USER_VALIDATE")&&e.data.url&&(n.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+n.AntiFloodReferer):location.href=e.data.url)})}),a.mtop.antiCreepRequest=function(e,t,n){t={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new o(e).request(t)},a.mtop.middlewares.push(function(e){var p=this,l=this.options,d=this.params;return!1!==l.AntiCreep&&(l.AntiCreep=!0),!0!==d.forceAntiCreep&&!0!==l.H5Request||!0!==s.AntiCreep&&!0!==l.AntiCreep?void e():e().then(function(){var e=l.retJson,t=e.ret;if((-1<(t=t instanceof Array?t.join(","):t).indexOf("RGV587_ERROR::SM")||-1<t.indexOf("ASSIST_FLAG"))&&e.data.url){var u="_m_h5_smt",n=(t=new RegExp("(?:^|;\\s*)_m_h5_smt\\=([^;]+)(?:;\\s*|$)").exec(document.cookie))?t[1]:void 0,o=!1;if(!0===l.saveAntiCreepToken&&n)for(var r in n=JSON.parse(n))d[r]&&(o=!0);if(!0!==l.saveAntiCreepToken||!n||o)return new i(function(r,i){function a(){c.removeEventListener("close",a),f.removeEventListener("message",s),i("USER_INPUT_CANCEL::ç”¨æˆ·å–æ¶ˆè¾“å…¥")}function s(e){var t,n;try{t=JSON.parse(e.data)||{}}catch(e){}if(t&&"child"===t.type){c.removeEventListener("close",a),f.removeEventListener("message",s),c.hide();try{for(var o in n="string"==typeof(n=JSON.parse(decodeURIComponent(t.content)))?JSON.parse(n):n)d[o]=n[o];!0===l.saveAntiCreepToken?(document.cookie=u+"="+JSON.stringify(n)+";",f.location.reload()):p.__sequence([p.__processToken,p.__processRequestUrl,p.__processUnitPrefix,p.middlewares,p.__processRequest]).then(r)}catch(e){i("USER_INPUT_FAILURE::ç”¨æˆ·è¾“å…¥å¤±è´¥")}}}var c=new m("",e.data.url);c.addEventListener("close",a,!1),f.addEventListener("message",s,!1),c.show()});for(r in n)d[r]=n[r];return p.__sequence([p.__processToken,p.__processRequestUrl,p.__processUnitPrefix,p.middlewares,p.__processRequest])}})})}(window,window.lib||(window.lib={}))},function(e,t,n){"use strict";n.r(t);var u=n(4),a=n(8),p=n(5),o=n(13),l=n(1),s=n(0),r={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"},i=function(e){var t=!u.isNode&&"undefined"!=typeof location&&location.href||"",n=r[e.type||"custom"]||"rx_user_define_err",n=[t.replace(/[\?#].*$/,"").replace(/\/$/,""),e.module||"",n].join("/").toLowerCase();return u.isWeex?encodeURIComponent(n):n},c=0,d={screen:"undefined"==typeof screen?"0x0":(screen&&screen.width)+"x"+(screen&&screen.height),sampling:1,version:"rx-tracker/3.0.7",native:u.isWeex?1:0,isInWindmill:0},f="/jstracker.3";function m(e){if(20<++c&&u.isWeb)return!1;var t,n=Object.assign({url:i(e)},d,e);if(n.sampling=-1<(u.isNode||"undefined"==typeof location?"":location.href).indexOf("jt_debug=1")?1:n.sampling,u.isWeb&&"undefined"!=typeof goldlog&&window.JSTracker2&&window.JSTracker2.push)window.JSTracker2.push(n);else if(Math.random()*n.sampling<1)if(u.isWeex){try{t=__weex_require__("@weex-module/userTrack")}catch(e){}var o="undefined"!=typeof __weex_options__&&__weex_options__.weex,r=u.isWeex&&"object"==typeof o&&"windmill"===o.config.container||!1,o=!1;if(r)try{"function"==typeof __weex_require__("@weex-module/keyboard").hideKeyboard&&(o=!0)}catch(e){}t.commitEvent&&(r&&o?(n.isInWindmill="weex",t.commitEvent({eventId:"19999",eventid:"19999",name:location.href,pageName:location.href,arg1:f,arg2:"",arg3:"",param:n,params:n})):t.commitEvent(location.href,"19999",f,"","",n))}else u.isWeb&&"undefined"!=typeof goldlog?(n.grey=function(){if(document&&document.querySelector){var e=document.querySelector('meta[name="def-grey"]');if(e)return e.getAttribute("content")}return""}(),"undefined"!=typeof aplus&&(n=function(e){var t="";if("object"==typeof e)for(var n in e)""!=t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]);else t=e;return t}(n)),goldlog.send&&goldlog.send("//gm.mmstat.com"+f,n)):"undefined"==typeof my||!my.getSystemInfoSync||"function"!=typeof my.getSystemInfoSync||"TB"!==my.getSystemInfoSync().app&&"alipay"!==my.getSystemInfoSync().app||(n.isInWindmill="web",n=n,my.request&&"function"==typeof my.request?my.request({url:"http://gm.mmstat.com"+f,method:"GET",data:n,dataType:"text"}).catch(function(){}):my.httpRequest&&"function"==typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com"+f,method:"get",data:n,dataType:"json"}))}var y,g,h,v={report:m,reportError:function(e,t,n){var o={};e&&e instanceof Error&&(o={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(o.reverse1=n),m(o))},reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",m(e))},setConfig:function(e){e&&e.sampling&&(d.sampling=e.sampling)}},b={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2},_=function(n){return y=y||my.getSystemInfoSync(),new Promise(function(o,r){var e=Object.assign({},n,{apiName:n.api,apiVersion:n.v,needEcodeSign:"1"===String(n.ecode),usePost:"POST"===n.type}),t=n.data;"[object Object]"!={}.toString.call(t)&&(e.data=JSON.parse(n.data)),Object.assign&&n.dangerouslySetAlipayParams&&Object.assign(e,n.dangerouslySetAlipayParams),"alipay"===y.app||"alipay"===n.miniAppType?((n.originaljsonp||n.json)&&(e.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?e.type="originaljson":"string"===n.valueType&&delete e.type),!0===n.useJsonpResultType&&delete e.type,my.call("mtop",e,function(e){if(Array.isArray(e.ret)){var t,n=!0;for(t in e.ret)/^SUCCESS::/.test(e.ret[t])||(n=!1);(n?o:r)(e)}else r(e)})):(e.success=function(e){o(e)},e.fail=function(e){r(e)},my.sendMtop(e))})};function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}if(u.isWeex){try{g=__weex_require__("@weex-module/mtop")}catch(e){}try{h=__weex_require__("@weex-module/windvane")}catch(e){}}else u.isWeb&&("undefined"!=typeof lib&&lib.mtop||n(16));function E(e){e=e.ret||"";return-1<(e=Array.isArray(e)?e.join(","):e).indexOf("SUCCESS")?b.SUCCESS:-1<e.indexOf("TOKEN_EMPTY")||-1<e.indexOf("TOKEN_EXOIRED")?b.TOKEN_EXPIRED:-1<e.indexOf("SESSION_EXPIRED")||-1<e.indexOf("SID_INVALID")||-1<e.indexOf("AUTH_REJECT")||-1<e.indexOf("NEED_LOGIN")?b.SESSION_EXPIRED:b.ERROR}function S(e,t,n){var o;e.disableTracker||(o=u.isMiniApp?e.miniAppID?"UN_MINIAPP/"+e.miniAppID:"UN_MINIAPP":location.hostname+location.pathname,v.report({url:"//tarzan/error/"+o+"/"+e.api+"/"+e.v,message:JSON.stringify(t),reverse1:n,type:"mtop"}))}function O(c,o,a){function e(){return new Promise(function(t,n){var o,r,e,i,a,s;u.isWeex?g?(e=c,i=t,a=n,g.request&&(u.isWeex&&e.dataType&&/^(original){0,1}jsonp$/.test(e.dataType)&&(e.dataType=e.dataType.replace("jsonp","json")),s=setTimeout(function(){a({ret:["TIMEOUT::æŽ¥å£è¶…æ—¶"],retType:b.ERROR})},e.timeout||2e4),g.request(e,function(e){clearTimeout(s),e.retType=E(e),e&&e.MP_TIME_OUT?a({ret:["TIMEOUT::æŽ¥å£è¶…æ—¶"],retType:-1}):i(e)},function(e){clearTimeout(s),e.retType=E(e),a(e)}))):h&&h.call?(e=c,o=t,r=n,h&&h.call&&(e.param=e.data||e.param,"POST"===e.type&&(e.post="1"),h.call({class:"MtopWVPlugin",method:"send",data:e},function(e){(e="string"==typeof e?JSON.parse(e):e).retType===b.SUCCESS||e.ret&&-1<e.ret[0].indexOf("SUCCESS")?o&&o(e):r&&r(e)}))):n("Windvane & Mtop require error"):u.isWeb?lib.mtop.request(c,function(e){e&&e.ret&&e.ret.length&&"WV_ERR::PARAM_PARSE_ERROR"===e.ret[0]?lib.mtop.H5Request(c,t,n):t(e)},n):u.isMiniApp&&_(c).then(t).catch(n)})}return c&&void 0===c.preventFallback&&(c.preventFallback=!0),new Promise(function(t,n){e().then(function(e){o&&o(e),t(e)}).catch(function(e){return a=a||o,void 0===(e=!e||!e.api&&!e.v?{api:c.api,v:c.v,data:{},ret:["FAIL::"+(JSON.stringify(e)||"")],retType:-1}:e).retType&&(e.retType=-1),S(c,e,"0012"),c&&(1==c.ecode||c.preventFallback||u.isMiniApp)?(a&&a(e),n(e)):(r=c,i=e,void new Promise(function(t,n){"string"==typeof r.data&&(r.data=JSON.parse(r.data));var e,o,e=((e=r).api&&(o=function(e,t,n){var o;if(e){for(var r in o=[],e)e.hasOwnProperty(r)&&(!t||-1<t.indexOf(r))&&void 0!==e[r]&&""!==e[r]&&o.push(r+"-"+(n?encodeURIComponent(e[r]):e[r]));o.sort()}else o=[];return o.join("_")}(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/"+e.api+"_"+(e.v||"1.0")+"/"+o),o=new XMLHttpRequest;o.open("get",e,!0),o.send(null),o.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var e=JSON.parse(this.responseText);e&&e.success&&e.result&&!e.result.backup?(S(r,i,"0210"),n(i)):t(e)}catch(e){S(r,i,"0210"),n(i)}else 4==this.readyState&&(S(r,i,"0011"),n(i))}}).then(function(e){o(e),t(e)}).catch(function(e){(a=a||o)&&a(e),n(e)}));var r,i})})}function T(e,t){u.isWeex||"undefined"!=typeof lib&&lib.mtop&&("string"==typeof e?lib.mtop.config[e]=t:lib.mtop.config=w({},lib.mtop.config,e))}function x(t){var e={api:"mtop.youku.aio.collector.alarm",v:"1.0",type:2048<t.length?"post":"get",data:{req:t},appKey:j.appKey,ecode:0,dataType:"json"};R(e).catch(function(e){u.isWeb&&Object(A.a)(t)})}var R,j,A=n(7),q=!0,k=n(3),N=n(2);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function L(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach(function(e){var t,n;t=o,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function I(r){var i={},a=[];W.alarmExt.forEach(function(e){var t,n=r[e],o="page_type"===e;o&&n&&(t=n.split("&"),V.pageTypes.concat(t).forEach(function(e){i[e||"-"]||e&&a.push(e),i[e||"-"]=!0}),V.pageTypes=a);n=o?V.pageTypes.join("&"):n;V.alarm[e]=n||void 0})}function J(t,e){if(!($>=W.alarmMaxNum)){var n,o="".concat(U.bu,"@").concat(U.code),r={client_code:o};r[M]=D;try{var i=p.a.isPlainObject(t);if(e)r.biz_type=e,r[M]+=F[e]?"":"&".concat(e),F[e]=!0,r[M]=e===l.a.performance?"".concat(D,"&").concat(t[M]):r[M],e===l.a.performance&&delete t[M],r.client_msg=e===l.a.performance?JSON.stringify(L(L(L({},t),V.performance),V.msg)):JSON.stringify(L(L({},t),V.msg));else{if(!i)return;if(!t.alarm_type)return"performance"===t.extType?V.performance.over?void 0:void W.performanceExt.forEach(function(e){V.performance[e]=t[e]}):"alarm"===t.extType?void I(t):"msg"===t.extType?(V.msg=L(L({},V.msg),t),void delete V.msg.extType):void 0;var a=t.Error instanceof Error?t.Error.toString():void 0,s=a||"object"!==C(t.client_msg)?L({msg:t.client_msg},V.msg):L(L({},t.client_msg),V.msg),s=a?{client_msg:s,_Error:a}:s;r.client_msg=JSON.stringify(s),r.biz_type=l.a.alarm,r.alarm_type=t.alarm_type,r.alarm_code=t.alarm_code||r.alarm_type;var c=t.alarmExt;c&&p.a.isPlainObject(c)&&I(c)}r.client_time=+new Date;var u=U.spa?Object(N.b)():N.a;r.page_name=u.page_name,r.page_url=u.page_url,r.page_title=u.page_title,n=JSON.stringify(L(L({},r),V.alarm))}catch(t){n=JSON.stringify({biz_type:l.a.alarm,client_code:o,alarm_type:"alarmCatch",client_time:+new Date,client_msg:t.toString(),page_name:(U.spa?Object(N.b)():N.a).page_name,page_url:(U.spa?Object(N.b)():N.a).page_url})}return setTimeout(function(){try{H(n),$++}catch(e){}},0)}}var D=u.isWeex?"weex":u.isKraken?"kraken":"web",M=l.d.key,H=function(){},W=s.a.base,U=s.a.set,V=s.a.ext,F=s.a.state,$=0,K=n(9),X=n(10),B=n(11),G=n(12),Y=n(6);function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n=[{key:"init",value:function(e){"function"!=typeof Object.assign&&(Object.assign=function(e){if(!e)return{};e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1});var t=Object.assign(s.a.set,e);s.a.set.alarmHost=(e.alarmHost||[]).concat(s.a.base.alarmHost);var n,o,r,i=Object(k.b)(N.a.page_url,"ownHost",!0),n=(n=Object(k.b)(N.a.page_url,"ownHost",!0),o="Mtop"===U.apiType||"Http"===U.apiType?U.apiType:"Mtop",n="Mtop"===(o=u.isWeex?"Mtop":n&&window.Promise?o:"Http")&&function(){try{n={prefix:"acs",mainDomain:"youku.com",appKey:"24679788"},0<(o=window&&window.location&&window.location.host).indexOf("cibn")?(n.prefix="heyi-acs",n.mainDomain="cp31.ott.cibntv.net"):0<o.indexOf("wasu")&&(n.prefix="heyi-acs",n.mainDomain="cp12.wasu.tv"),e=j=n,R=u.isWeex?(T("prefix",e.prefix),T("subDomain",""),T("mainDomain",e.mainDomain),O):(-1===(t=lib.mtop.config.mainDomain).indexOf("youku")&&-1===t.indexOf("cibntv")&&-1===t.indexOf("wasu")&&(lib.mtop.config.prefix=e.prefix,lib.mtop.config.subDomain="",lib.mtop.config.mainDomain=e.mainDomain),lib.mtop.request),q=!1}catch(n){q=!0}var e,t,n,o;return q}(),H="Mtop"===o?x:A.a,{mtopInitCatch:n,api_type:o}),o=N.a.sample;t.sampleRate=o?1:t.sampleRate,!t.alarmEnable||!i&&!t.outEnable||N.a.scout_disable||N.a.dev||N.a.port||"Mtop"===n.api_type&&n.mtopInitCatch||t.sampleRate<Math.random()||(s.a.set.ignoreHost=(e.ignoreHost||[]).concat(s.a.base.ignoreHost),s.a.set.ignorePath=(e.ignorePath||[]).concat(s.a.base.ignorePath),s.a.set.jsonpHost=(e.jsonpHost||[]).concat(s.a.base.jsonpHost),t.console.forEach(function(e){a.a.console(J,e)}),window.__scout_probe_alarm__=!0,p.a.isArray(t.pathKeys)&&t.pathKeys.length&&Object(N.c)(),r=p.a.isPlainObject(t.alarmExt)?t.alarmExt:{},s.a.base.alarmExt.forEach(function(e){var t="page_type"===e;t&&N.a.page_type&&s.a.ext.pageTypes.push(N.a.page_type),t&&r[e]&&s.a.ext.pageTypes.push(r[e]);t=t?s.a.ext.pageTypes.join("&"):r[e];s.a.ext.alarm[e]=t||s.a.ext.alarm[e]}),s.a.ext.msg=p.a.isPlainObject(t.msgExt)?t.msgExt:t.msgExt?{msgExt:t.msgExt}:{},u.isWeex||u.isKraken||!t.autoEnable||N.a.scout_auto_disable||(Object(Y.b)(J),Object(Y.d)(J),Object(Y.a)(J),Object(Y.c)(J,B.a,Object(G.a)()),Object(K.a)(J),Object(X.a)(J),window.__scout_probe_existed__=!0))}},{key:"alarm",value:function(e){J(e,!1)}}],z(Z.prototype,n),n=Z;function Z(e){!function(e){if(!(e instanceof Z))throw new TypeError("Cannot call a class as a function")}(this);try{window.__scout_probe_alarm__||this.init(e||{})}catch(e){}}try{Object(o.a)(n)}catch(e){}t.default=n}],o={},r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=17).default;function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,o});

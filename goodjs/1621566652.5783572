(function(){var pi={};pi.pixnetCookie=false;if(null!=window.location.hostname.match(/(pixnet\.net)$/i)){pi.pixnetCookie=true}pi.configs={img:"https://pixanalytics.pixnet.net/pi.gif",vars:["document.referrer","document.URL","screen.availHeight","screen.availLeft","screen.availTop","screen.availWidth","screen.colorDepth","screen.height","screen.pixelDepth","screen.width","window.closed","window.height","window.innerHeight","window.innerWidth","window.length","window.location","window.pageXOffset","window.pageYOffset","window.outerHeight","window.outerWidth","window.screenX","window.screenY","window.width","navigator.userAgent","window.devicePixelRatio"],customAllowVars:{venue:"",author_id:"",article_category_id:"",nonce:"",url:"",label:"",visitor_id:"",visitor_openid:"",member_uniqid:"",ptag:"",pending:false},customVars:{},getParams:["utm_source","utm_medium","utm_term","utm_content","utm_campaign"],requestPrefix:function(type){var url,i;url=pi.configs.img+"?t="+(type||"pv")+"&r="+Math.random()+"&pvid="+encodeURIComponent(pi.pvid);for(i=0;i<pi.configs.vars.length;i++){try{url+="&"+pi.configs.vars[i]+"="+encodeURIComponent(eval(pi.configs.vars[i]))}catch(e){continue}}for(var key in pi.configs.customVars){if(false===pi.configs.customVars.hasOwnProperty(key)){continue}url+="&"+key+"="+encodeURIComponent(pi.configs.customVars[key])}for(i=0;i<pi.configs.getParams.length;i++){url+="&"+pi.configs.getParams[i]+"="+encodeURIComponent(pi.utils.getGetParam(pi.configs.getParams[i]))}url+="&opt_out="+encodeURIComponent(pi.cookie.getCookie("opt_out"));return url}};pi.utils={getGetParam:function(param){var match=new RegExp("[?&]"+param+"=([^&]*)").exec(window.location.search);return match&&decodeURIComponent(match[1].replace(/\+/g," "))||""}};pi.cookie={getCookie:function(cname){var i,name=cname+"=",decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(";");for(i=0;i<ca.length;i++){while(ca[i].charAt(0)==" "){ca[i]=ca[i].substring(1)}if(ca[i].indexOf(name)==0){return ca[i].substring(name.length,ca[i].length)}}return""},setCookie:function(cname,cvalue,exyears){var d=new Date,expires;d.setTime(d.getTime()+exyears*365*24*60*60*1e3);expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";domain=.pixnet.net;path=/"}};pi.methods={trackPageView:function(optPagePath){var img=new Image,img_poc=new Image,src=pi.configs.requestPrefix("pv");if(0<optPagePath.length){optPagePath=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/"+optPagePath.replace(/^\/+/,"");src=src.replace(/document.URL=[^&]+/,"document.URL="+encodeURIComponent(optPagePath))}img.src=src;img_poc.src="https://pixanalytics2.pixnet.net:44444/pi.gif"+src.split("pi.gif")[1];return},trackPageClick:function(args){document.addEventListener("click",function(el){var ckUrl,element_href="",element_text="",img=new Image,img_poc=new Image;if(el.target.parentNode.tagName.toLowerCase()==="a"){element_href=el.target.parentNode.href;element_text=el.target.parentNode.text}if(el.target.tagName.toLowerCase()==="a"){element_href=el.target.href;element_text=el.target.text}if(element_href===""){return}ckUrl="https://pixanalytics.pixnet.net/ck.gif";ckUrl+="?referrer="+encodeURIComponent(document.referrer);ckUrl+="&document.URL="+encodeURIComponent(document.URL);ckUrl+="&href="+encodeURIComponent(element_href);ckUrl+="&text="+encodeURIComponent(element_text);ckUrl+="&opt_out="+encodeURIComponent(pi.cookie.getCookie("opt_out"));ckUrl+="&r="+Math.random();ckUrl+="&pvid="+encodeURIComponent(pi.pvid);for(i=0;i<pi.configs.getParams.length;i++){ckUrl+="&"+pi.configs.getParams[i]+"="+encodeURIComponent(pi.utils.getGetParam(pi.configs.getParams[i]))}img.src=ckUrl;img_poc.src="https://pixanalytics2.pixnet.net:44444/ck.gif"+src.split("ck.gif")[1]});return},trackEvent:function(values){var idx,img=new Image,img_poc=new Image,src=pi.configs.requestPrefix("et"),params=["e_category","e_action","e_label","e_value"];if(pi.configs.customVars["pending"]){src=src.replace(/document.URL=[^&]+/,"document.URL="+pi.pendingUrl)}for(idx=0;idx<params.length;idx++){if(undefined===values[idx]){continue}src+="&"+params[idx]+"="+encodeURIComponent(values[idx])}img.src=src;img_poc.src="https://pixanalytics2.pixnet.net:44444/pi.gif"+src.split("pi.gif")[1];return}};pi.run=function(t){var task="[object Array]"===Object.prototype.toString.call(t)?t:[],func=task.shift(),args=task;switch(func){case"setCustomVar":if(true===pi.configs.customAllowVars.hasOwnProperty(args[0])){pi.configs.customVars[args[0]]=args[1]}break;case"trackPageView":pi.methods[func](args.shift()||"");break;case"trackPageClick":pi.methods[func](args.shift()||"");break;case"trackEvent":pi.methods[func](args);break}};pi.reset=function(){_piq=[];_piq.push=function(){for(var i=0;i<arguments.length;i++){pi.run(arguments[i])}pi.reset()}};pi.generatePvid=function(){var d=(new Date).getTime(),pvid,r;pvid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c=="x"?r:r&3|8).toString(16)});return pvid};pi.ucfunnelMapping=function(){var img=new Image,url="https://sync.aralego.com/idSync",cookie=pi.cookie.getCookie("_pta");if(!cookie){return}if(!pi.pixnetCookie){return}url+="?ucf_nid=par-3339BD949EE8ADA08333B7ED897A47";url+="&ucf_user_id="+encodeURIComponent(cookie);img.src=url};pi.ttdMapping=function(){var img=new Image,url="https://match.adsrvr.org/track/cmf/generic?ttd_pid=g9c34sk&ttd_tpi=1",cookie=pi.cookie.getCookie("_pta");if(!cookie){return}if(!pi.pixnetCookie){return}url+="&ttd_puid="+cookie;img.src=url};pi.verizonMapping=function(){var img=new Image,url="https://cms.analytics.yahoo.com/cms?partner_id=pixnet&gdpr=false";if(!pi.pixnetCookie){return}img.src=url};pi.lotameMapping=function(){var img=new Image,url="https://sync.crwdcntrl.net/map/c=15141/tp=PIXN/",cookie=pi.cookie.getCookie("_pta");if(!cookie){return}if(!pi.pixnetCookie){return}url+="tpid="+cookie;pa_url="https://pixanalytics.pixnet.net/cm.gif";url+="?"+pa_url+"?lotame_id=${profile_id}";img.src=url};pi.init=function(){pi.pvid=pi.generatePvid();pi.ucfunnelMapping();pi.ttdMapping();pi.verizonMapping();pi.lotameMapping();pi.pendingUrl=document.URL;for(var i=0;i<_piq.length;i++){try{pi.run(_piq[i])}catch(e){}}pi.reset()};if("object"!==typeof _piq){_piq=[]}pi.init()})(window);
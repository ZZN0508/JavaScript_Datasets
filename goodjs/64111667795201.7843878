!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["lazy_images/lazy_images.js"]=t():e["lazy_images/lazy_images.js"]=t()}(this,function(){return n={115:function(e,t){e.exports=function(e,t){return t=t||{},new IntersectionObserver(e,t)}},285:function(e,t,n){e.exports=n(286)},286:function(e,t,n){function r(e){if(!s)return(e.hasAttribute("data-hi-res-background-src")?a:i)(e);s.observe(e),e.addEventListener("intersect",function(){o(e)})}function o(e){s.unobserve(e),e.removeEventListener("intersect",o),(e.hasAttribute("data-hi-res-background-src")?a:i)(e)}function i(t){var e,n,r=t.querySelector(".bb-lazy-img__image");r.dataset.hiResSrc&&(e=new Image,n=new Image,e.onload=function(){var e=u(r);n.onload=function(){r.src=e,t.classList.add("bb-lazy-img--loaded"),r.removeAttribute("data-hi-res-src")},n.src=e},e.src=r.src)}function a(e){var t;e.dataset.hiResBackgroundSrc&&((t=new Image).onload=function(){e.style.backgroundImage="url('".concat(t.src,"')"),e.classList.add("bb-lazy-img--loaded"),e.removeAttribute("data-hi-res-background-src")},t.src=e.dataset.hiResBackgroundSrc)}var c,u,s;c=n(70),u=n(287).makeDynamicImageSrc,s=n(115)(function(e){c(e,function(e){e.isIntersecting&&e.target.dispatchEvent(new CustomEvent("intersect",{detail:{}}))})},{rootMargin:"0px 0px 100px 0px"}),c(document.querySelectorAll(".bb-lazy-img"),r),window.__bloomberg__.eventBus.subscribe("zones-lazy-loaded",function(e){c(e.container.querySelectorAll(".bb-lazy-img"),r)}),window.__bloomberg__.eventBus.subscribe("module-dom-reloaded",function(e){c(e.querySelectorAll(".bb-lazy-img"),r)}),window.__bloomberg__.eventBus.subscribe("abba-variant-loaded",function(e){c(e.container.querySelectorAll(".bb-lazy-img"),r)}),window.addEventListener("beforeprint",function(){c(document.querySelectorAll(".bb-lazy-img"),o)})},287:function(e,t){function n(e,t,n){return e.replace(/(\/)(-*\d+x-*\d+)(.\w+)$/,"$1".concat(t,"x").concat(n,"$3"))}function r(e){var t="undefined"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,n=e.offsetWidth*t,e=e.offsetHeight*t,t=10*Math.ceil(n/10)||-1;return{width:t,height:n&&e?Math.ceil(t/(n/e)):-1}}e.exports={replaceImageDimensions:n,getDynamicImageDimensions:r,makeDynamicImageSrc:function(e){var t=r(e),e=e.dataset.hiResSrc;return e.match(/\.gif$/)||-1===t.width?e:n(e,t.width,t.height)}}},70:function(e,t){e.exports=function(e,t,n){for(var r=0,o=e.length;r<o;++r)t.call(n,e[r],r)}}},r={},o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=285);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});

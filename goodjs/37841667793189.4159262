!function(e){window.leapmetrics=window.leapmetrics||[],function(e){if(window.leapmetrics)if("object"==typeof window.leapmetrics)if(Array.isArray(window.leapmetrics)){if(0<window.leapmetrics.length)for(;0<window.leapmetrics.length;){var t=window.leapmetrics.shift();e.execute(t)}n()}else window.leapmetrics.hasOwnProperty("push")||n();else n();else n();function n(){window.leapmetrics={push:function(){e.execute(arguments[0]||null)},pageMetrics:function(t){e.execute(function(e){e.pageMetrics(t)})},__def:window.leapmetrics.__def||function(){return!0}}}}(e)}(function(s,r){return new(function(){var e;s.setGlobalCacheParam(e=/@deployversion/i.test(e="202105241515")?s.version:e),s.setGlobalCacheCond([{regex:/geo\.js/,param:"cb",noStore:!0}]),r(function(){s.setReady()});var t=s.config({instance:"leap.metrics",baseDomain:"//static.foxnews.com",baseUrl:"/static/leap/app",shim:{"akamai.geo":{src:"https://static.foxnews.com/static/orion/scripts/core/utils/geo.js",exports:"FNC.GEO"},"util.jquery":{src:"/static/leap/ext/shims/jq.js",exports:"leapmetrics.__def.jq"},"util.lodash":{src:"/static/leap/ext/shims/ld.js",exports:"leapmetrics.__def.ld"}},paths:{"@PageInfo":"core/properties/index"}});return t.define("documentReady",function(){return r}),t.define("jquery",["util.jquery"],function(){return window.leapmetrics.__def.jq}),t.define("lodash",["util.lodash"],function(){return window.leapmetrics.__def.ld}),s.define("leap.metrics:core/api",["require","lodash","core/helper","core/config","@PageInfo","core/utils/meta","core/utils/promise","core/utils/log","core/utils/script.loader","core/properties/cookie","core/events/page","core/events/track"],function(d,g,e,m,_){var h=d("core/utils/meta"),t=d("core/utils/promise"),n=d("core/properties/cookie"),v=d("core/events/page"),a=d("core/events/track"),y=d("core/utils/log")("segment.api"),w=d("core/utils/log")(null,!0);return m.flag&&d(["jquery","lodash"],function(e,t){y("versions: jquery=v"+e().jquery+"; lodash=v"+t.VERSION+"; Modulr: v"+s.version)}),function(e){var i=this,c=e||{};c.__custom={};var u=c.disabled||!1,p=!1,l=[],f=!1;i.track=function(r,o,e){return new t(function(t,e){var n;if(u||!r)return e();n={name:r,attrs:o,meta:i.meta(),siteId:h.getSiteId(),custom:c.__custom},e=function(){a.trigger(n).then(function(e){t(e)})},p?e():l.push(e)})},i.identify=function(e,t,n){var r;u||(r={name:e,attrs:t,siteId:h.getSiteId(),custom:c.__custom},t=function(){w("todo: identify",r)},p?t():l.push(t))},i.setProp=function(){if(f)return y("[ERROR] cannot set a custom property after an initialization!");var e,t,n=arguments;c.__custom=c.__custom||{},"string"==typeof n[0]&&void 0!==n[1]?(e=n[0],"function"==typeof(t=n[1])?y("setting custom property:",e," = (function)"):y("setting custom property:",e,"=",t),c.__custom[e]=t):"object"!=typeof n[0]||Array.isArray(n[0])||(y("setting custom properties:",n[0]),g.merge(c.__custom,n[0]))},i.meta=function(e){return h.get(e)},i.pageInfo=function(){return _()},i.initialize=function(i,a){var s=arguments;return new t(function(t,e){if(u)return t();f&&l.push(function(){t()}),f=!0,y("Initializing..");var n,r,o=(n={view:"browser",meta:null,siteId:null,keyId:null,custom:{}},"object"==typeof s[0]?(n.view=(r=s[0]).view||n.view,n.siteId=r.siteId||null,n.keyId=r.keyId||null,n.custom=r.custom||{}):n.view=i||n.view,-1<["amp","fbia"].indexOf(n.view)&&a&&(n.meta=a),n);if(o.siteId=o.siteId||h.get(!0).page.siteId||"other",h.setSiteId(o.siteId),"browser"===o.view&&(o.meta=h.get(!0)),o.keyId=o.keyId||m.SEGMENT_KEY[o.siteId]||null,!o.keyId||!o.meta)return u=!0,o.keyId?o.meta||w('[WARNING] disabled! no meta for site: "'+o.siteId+'"'):w('[WARNING] disabled! no key for site: "'+o.siteId+'"'),t(!1);o.custom=g.merge(c.__custom,o.custom),d(["core/providers/segment/load"],function(e){e(o.siteId,o.keyId),y("Initialization done!"),_.initialize(o.custom),v.trigger(o).then(function(){t(),function(){for(;0<l.length;)l.shift()()}(),p=!0})})})},i.pageMetrics=function(e){u||w("[ WARN ] Page Events has been deprecated!")},i.pageEvent=function(e,t){u||w("[ WARN ] Page Events has been deprecated!")},i.cookieProps=n}}),s.define("leap.metrics:core/config",["require"],function(e){var t,n={version:"v29",deployTimestamp:"202105241515"};return n.flag=-1<window.location.search.indexOf("_leap=1"),n.env=t=!/\@buildEnv/i.test(t="prod")&&-1<["dev","stage","prod"].indexOf(t)?t:"prod",n.hostPath="//static.foxnews.com/static/leap",n.SEGMENT_KEY={fnc:"4I2fAtE5IxTlczNT3F91OckHtI5wfR7g",fbn:"8eHBndHSjYxRMyj3exjJdOCozQOktBab",nation:"zF2CN4vDTQaohrGCQnxqTIda1NSn4PEF",radio:"qB8yWKOOtThTzX7H4FhljWq4F21AR1pl",insider:"4mXEBmj4qFaNMeqCa6nSpPxjDP5d3usc"},n.EU_List=["segment"],n}),s.define("leap.metrics:core/events/page",["require","core/config","core/helper","core/utils/meta","core/utils/log","core/utils/script.loader"],function(e,n,r,t){e("core/utils/log")("events.page");var o=e("core/utils/script.loader"),i=["segment"];return new function(){this.trigger=function(e){var t=e.view||"browser";return e.meta,"browser"===t&&-1<["fbn","fnc"].indexOf(e.siteId)&&(t=e.siteId,o(n.hostPath+"/sites/"+t+"/metrics.js?v="+n.deployTimestamp)),r.executeModules(i,e,"core/providers/$1/page")}}}),s.define("leap.metrics:core/events/track",["require","core/config","core/helper","core/utils/meta","core/utils/log"],function(e,t,n,r){e("core/utils/log")("events.page");var o=["segment"];return new function(){this.trigger=function(e){return n.executeModules(o,{props:e},"core/providers/$1/track")}}}),s.define("leap.metrics:core/helper",["require","core/utils/promise","core/utils/promise.iterator","core/utils/log"],function(p,e,n){var l=p("core/utils/log")("helper");return new function(){this.executeModules=function(s,c,u){return new e(function(e,t){var a={};n(s,function(e,t,n,r){var o=s[t],i=o;u&&(i=u.replace("$1",o)),p([i],function(e){"function"==typeof e.trigger?e.trigger(c).then(function(e){a[o]=e||null,n()}):(l("module does not have a promise:",s[t]),a[o]=null,n())})},function(){e(a)})})},this.isFn=function(e){return"function"==typeof e},this.getTrackingNameDetails=function(e){var t=e.split(":"),n=0<t.length;return{id:n?t.slice(1).join(":"):e,group:n?t[0]:null}},this.removeNulls=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]||delete e[t];return e}}}),s.define("leap.metrics:core/properties/_shared",["require","core/properties/cookie","core/utils/query.param"],function(e,t,c){return new function(){this.getAppName=function(e){return e&&{fnc:"foxnews.com",fbn:"foxbusiness.com",insider:"insider.foxnews.com",radio:"radio.foxnews.com",nation:"foxnation",business:"foxbusiness.com",news:"foxnews.com",wnyw:"fox5ny.com",wwor:"my9nj.com",kttv:"foxla.com",wfld:"fox32chicago.com",wtxf:"fox29.com",kdfw:"fox4news.com",wttg:"fox5dc.com",kriv:"fox26houston.com",ktvu:"ktvu.com",waga:"fox5atlanta.com",wtvt:"fox13news.com",ksaz:"fox10phoenix.com",wjbk:"fox2detroit.com",kmsp:"fox9.com",wofl:"fox35orlando.com",wjzy:"fox46charlotte.com",ktbc:"fox7austin.com",wogx:"wogx.com",kcpq:"q13fox.com",coro:"coronavirusnow.com"}[e]||"Other"},this.getNameMap=function(){return{"section-front":"Category Landing",category:"Subcategory Landing",article:"Article Landing",video:"Video Landing",playlist:"Video Playlist",homepage:"Homepage",other:"Other"}},this.getCookieValues=function(){return t()},this.getCampaignTracking=function(){var e=c.getVal("cmpid"),t=null,n=e&&0<e.length?e.split("::"):null;if(n){for(var r=null,o=0;o<n.length;o++){var i,a=n[o],s=a.indexOf("=");1<s&&(r=r||{},i=a.slice(0,s),s=a.slice(s+1),r[i]=s)}r&&(t={str:e,data:r})}return t}}}),s.define("leap.metrics:core/properties/browser",["require","lodash","core/helper","core/config","core/properties/_shared","core/utils/meta","core/utils/datetime","core/utils/query.param","akamai.geo"],function(e,d,g,m,_,r){var h=e("core/utils/datetime"),o=(e("core/utils/query.param"),_.getNameMap());return function(e){var t,a=window.FNC.GEO.time.getCurrent(),n=_.getCookieValues(),s=(e=e||{}).meta||r.get(!0),c=e.custom||{},u={name:o[s.page.type]||s.page.type,category:s.raw["prism.section"]||null,page:{title:s.page.title,url:s.page.url,path:s.page.path,referrer:document.referrer||""}};function p(e,t){var n,r,n=(r="",-1<(n=e||"").indexOf("T")?r=n.split("T"):!/^([0-9]{4})\-([0-9]{1,2})\-([0-9]{1,2})(.+)(AM|PM)$/.test(n)||(e=n.match(/^([0-9]{4})\-([0-9]{1,2})\-([0-9]{1,2})(.+)(AM|PM)$/))&&6===e.length&&(n=[e[2],e[3],e[1]].join("/")+e[4]+e[5],r=h(new Date(n),"%Y-%m-%d %H:%i:%s").split(" ")),r),r=n[0]||"",n=n[1]||"";return t?{date:r,time:n=n&&n.split(":").slice(0,2).join(":")}:r.split("-")}function l(e){var t=function(){var e;switch(s.page.siteId){case"insider":e="news-insider";break;case"radio":e="news-radio";break;case"nation":e="news-nation";break;case"fbn":e="business";break;case"fnc":e="news";break;default:e="other"}return e}(),t="other"===t?"other:web":"fox:"+t+":web",e=f(e);return 0<e.length&&(t+=":"+e),t}function f(e){var t="";if(e&&"string"==typeof e)t=e;else if(e&&Array.isArray(e)&&0<e.length){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(e[r]);0<n.length&&(t=n.join(":"))}return t}return u.options=(t=m.version,n={properties:{primary_business_unit:"other"!==s.page.siteId?"news":"",secondary_business_unit:(e=s.page.siteId,/^fbn/.test(e)?"business":"other"===e?"":"news"),app_name:_.getAppName(s.page.siteId),app_platform:"web",app_version:t,appsflyer_id:null},traits:{dcg_profile_id:n.userProfileId||"",appsflyer_id:"",mvpd:n.mvpdId||"",network_entitlement_list:"",lastAnonymousProfileId:"",lastKnownProfileId:n.lastKnownId||n.userProfileId||""}},g.removeNulls(n.properties),g.removeNulls(n.traits),n),u.properties=function(){var e,t,n,r,o,i={author:s.raw["dc.publisher"]||null,page_name:l(s.raw["prism.section"])||"no name",page_type:(e=s.raw["prism.section"],(e="root"===(e=-1<["category","article"].indexOf(s.page.type)?f([s.raw["prism.subsection1"],s.raw["prism.subsection2"]])||e:e)?"homepage":e)||"other"),app_name:_.getAppName(s.page.siteId),app_platform:"web",app_version:m.version,app_build:m.deployTimestamp,page_timePartingDay:h(a,"%D"),page_timePartingHour:function(e){var t=[];t.push(h(e,"%H"));e=parseInt(h(e,"%i"),10);return t.push(e<30?"00":"30"),t.join(":")}(a)};for(t in u.options.properties)i[t]=u.options.properties[t];return"other"===s.page.siteId||("category"===s.page.type?d.merge(i,{page_name:l([s.raw["prism.subsection1"],s.raw["prism.subsection2"]]),page_content_level_1:l(),page_content_level_2:l([s.raw["prism.subsection1"]]),page_content_level_3:l([s.raw["prism.subsection1"],s.raw["prism.subsection2"]]),page_content_level_4:l([s.raw["prism.subsection1"],s.raw["prism.subsection2"],s.raw["prism.subsection3"]])}):"article"===s.page.type?(n=s.raw["classification-isa"]?s.raw["classification-isa"].split(",")[0]:"",r=p(s.raw["dc.date"]),o=[s.raw["prism.section"],r[0],r[1],r[2],(s.raw["og:title"]||s.raw["dc.title"]||$("title:first").text()||"").replace(/\:/g,"\\:")],d.merge(i,{page_type:f([s.raw["prism.section"],n]),page_name:l(o),page_content_level_1:l(o.slice(0,1)),page_content_level_2:l(o.slice(0,2)),page_content_level_3:l(o.slice(0,3)),page_content_level_4:l(o)})):d.merge(i,{page_content_level_1:l(),page_content_level_2:l(s.raw["prism.section"]),page_content_level_3:l([s.raw["prism.section"],s.raw["prism.subsection1"]]),page_content_level_4:l([s.raw["prism.section"],s.raw["prism.subsection1"],s.raw["prism.subsection2"]])}),d.merge(i,{page_test_name:null,push_enabled:null,page_content_type:s.page.type,page_content_category:(i.page_type||"").split(":")[0]||null,page_content_distributor:"owned",page_content_originator:(r=null,r="article"===(s.page.type||"")&&s.raw["dc.source"]?s.raw["dc.source"]:r),page_content_language:s.raw["dc.language"]||null,page_login_state:null,page_content_type_of_story:function(e){var t=null;if("article"!==s.page.type)return t;switch(t="original",s.page.siteId){case"fnc":/fox(.+|)news/i.test(e)||(t="partners");break;case"fbn":/fox(.+|)business/i.test(e)||(t="partners")}return t}(s.raw["dc.source"]||""),page_content_version:null,page_is_dark_mode:!1}),n={created:p(s.raw["dcterms.created"],!0),modified:p(s.raw["dcterms.modified"],!0),major:p(s.raw["dcterms.modified"],!0)},d.merge(i,{page_content_original_publish_date:(o=n.created).date||null,page_content_major_publish_date:(r=n.major).date||null,page_content_modified_date:(n=n.modified).date||null,page_content_original_publish_time:o.time||null,page_content_major_publish_time:r.time||null,page_content_modified_time:n.time||null}),u.pageOnlyProperties=(o={keywords:s.raw.keywords||null,page_content_personality:null,page_content_author:(o=null,o="article"===(s.page.type||"")&&s.raw["dc.creator"]?s.raw["dc.creator"]:o),page_content_author_secondary:null,page_content_title:s.page.title,page_content_id:(r=s.raw["dc.identifier"]||null,o=null,o=r?r.replace(/^urn\:(uuid\:|uri\:base64\:)/i,""):o),page_content_tags:s.raw.classification||s.raw["classification-isa"]||null,page_content_subcategory:(i.page_type||"").split(":")[1]||null},d.merge(i,o),null),n=_.getCampaignTracking(),r=n&&n.str?n.str:null,o=n&&n.data?n.data:null,d.merge(i,{appsflyer_tracking_code:null,campaign_tracking_code:(n=null,n=/^org\=/.test(r=r)?r:n),campaign_int_tracking_code:(r=c.intcmp||"",n=null,n=/^int_org\=/.test(r)||"fnc"===s.page.siteId&&r?r:n)}),o&&d.merge(i,{campaign_organization:o.org,campaign_agency:o.ag,campaign_marketing_channel:o.mc,campaign_source:o.src,campaign_name:o.cmp,campaign_additional:o.add}),g.removeNulls(i)),i}(),u}}),s.define("leap.metrics:core/properties/cookie",["require","core/utils/cookie"],function(e,o){return function(e,t){var n=function(e){var t={};if(e)try{t=JSON.parse(e)}catch(e){}return t}(o("__leap_props"));if("set"===e&&"object"==typeof t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]||"");o("__leap_props",JSON.stringify(n),{expires:30,path:"/",domain:window.location.hostname.replace(/(.+)\.(.+)\.com$/,".$2.com")})}return n}}),s.define("leap.metrics:core/properties/index",["require","lodash","core/properties/browser","core/properties/token","core/utils/log"],function(e,n,r,o){var i=e("core/utils/log")("@PageInfo"),a=e("core/utils/log")(null,!0),s=null,e=function(e){var t=("token"===(e=e||{}).type?o:r)(e);return s&&((e=s(t,e))?"object"!=typeof e||Array.isArray(e)||(i("custom override data:",e),t=n.merge(t,e),i("custom data result:",t)):a("[ WARNING ] custom page info overrides returned nothing!")),t};return e.initialize=function(e){e&&"function"==typeof e["custom.page.info"]&&(s=e["custom.page.info"])},e}),s.define("leap.metrics:core/properties/token",["require","lodash","core/helper","core/config","core/properties/_shared","core/utils/meta","core/utils/datetime","akamai.geo"],function(e,c,u,p,l,t){var f=e("core/utils/datetime"),d=l.getNameMap();return function(e){var t,n=window.FNC.GEO.time.getCurrent(),r=e.view,o=e.meta||{},i=(e.custom,s=o.prop15||"",t=/foxbusiness/i.test(s)?"fbn":/foxnews/i.test(s)?"fnc":"other",l.getAppName(t)),a=i,s=e=(e=o.prop40||"")&&"/"+e.replace(/\:/g,"/"),e=(t=o.prop13||"article",d[t]||t),t=(t=["https://"],/(fnc|fbn)/.test(i)&&t.push("www."),t.push(a+s),t.join("")),s={name:e,page:{title:o.prop12||"no title",url:t,path:s,search:""}};return s.properties={keywords:"",page_name:o.prop1||"",page_type:o.prop1||"",app_name:a,app_platform:"web",app_version:p.version,app_build:p.deployTimestamp,page_timePartingDay:f(n,"%D"),page_timePartingHour:function(e){var t=[];t.push(f(e,"%H"));e=parseInt(f(e,"%i"),10);return t.push(e<30?"00":"30"),t.join(":")}(n),page_test_name:null,push_enabled:null,appsflyer_tracking_code:null,campaign_tracking_code:null,campaign_int_tracking_code:null,campaign_organization:null,campaign_marketing_channel:null,campaign_source:null,campaign_name:null,campaign_additional:null,campaign_agency:null,page_content_personality:null,page_content_author:o.prop14||null,page_content_author_secondary:null,page_content_version:null,page_content_title:o.prop12||null,page_content_id:o.prop11||null,page_content_type:o.prop13||null,page_content_type_of_story:null,page_content_tags:o.hier1||null,page_content_category:o.prop1||null,page_content_subcategory:null,page_content_language:null,page_login_state:null,page_content_originator:o.prop15||null,page_content_distributor:r,page_content_original_publish_date:o.prop54||null,page_content_major_publish_date:o.prop54||null,page_content_modified_date:o.prop54||null,page_content_original_publish_time:null,page_content_major_publish_time:null,page_content_modified_time:null},s.options={properties:{primary_business_unit:"news",secondary_business_unit:(o=o.prop15||"",/business/.test(o)?"business":"news"),app_name:a,app_platform:"web",app_version:p.version},traits:{dcg_profile_id:"",appsflyer_id:"",mvpd:"",network_entitlement_list:"",lastAnonymousProfileId:"",lastKnownProfileId:""}},c.merge(s.properties,s.page),u.removeNulls(s.properties),s}}),s.define("leap.metrics:core/providers/segment/load",["require","core/config","core/utils/log","core/utils/eu"],function(e,n){var r=e("core/utils/log")("segment.load"),o=e("core/utils/log")(null,!0);return e("core/utils/eu").allowProvider("segment"),function(e,t){if(!window.analytics){t=t||n.SEGMENT_KEY[e];if(r("segment key id ["+e+"]:",t),!t)return o("[error] no key id! for:",e);!function(){var n=window.analytics=window.analytics||[];if(!n.initialize)if(n.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{n.invoked=!0,n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],n.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),n.push(e),n}};for(var e=0;e<n.methods.length;e++){var t=n.methods[e];n[t]=n.factory(t)}n.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},n.SNIPPET_VERSION="4.0.0"}}(),window.analytics.load(t)}}}),s.define("leap.metrics:core/providers/segment/page",["require","jquery","core/config","core/utils/meta","@PageInfo","core/utils/log","core/utils/promise","core/utils/datetime","core/utils/query.param","akamai.geo"],function(e,t,n,r,u){var p=e("core/utils/log")("segment.page.call"),l=e("core/utils/promise");return e("core/utils/datetime"),e("core/utils/query.param"),new function(){var s=!1,c=(FNC.GEO.time.getCurrent(),["browser","amp","fbia"]);this.trigger=function(o){var a=o.meta,i=o.view;return new l(function(e,t){return-1<c.indexOf(i)?("other"===o.siteId&&p("[warning] siteId not detected.",!0),s?e():(s=!0,void("browser"===i&&function(e){var t=a.page.url,n=!1;if(Array.isArray(e.noPageEvent))for(var r=0,o=e.noPageEvent.length;r<o;r++){var i=e.noPageEvent[r];if(-1<t.indexOf(i)){n=!0;break}}else(-1<t.indexOf("/html/video/iframe/")||-1<t.indexOf("/p/video/app/embed/iframe/")||-1<t.indexOf("/segment/player-frame"))&&(n=!0);return n}(o.custom)?p("no page call for:",a.page.url):(n=-1<["amp","fbia"].indexOf(i)?u({type:"token",view:i,meta:a,custom:o.custom}):u({type:"default",pageOnly:!0,custom:o.custom}),p("values:",(r={segment:{name:n.name,properties:n.properties,options:n.options}},n.category&&(r.segment.category=n.category),r)),n.name&&n.properties&&n.options?(r=[n.name,n.properties,n.options,function(){e({type:"page",data:n})}],n.category&&r.unshift(n.category),window.analytics.page.apply(window.analytics.page,r)):(p("page call did not fire. missing required values!"),e({type:"page",error:!0,data:n})))))):(p("[error] Invalid page view type:",i),e());var n,r})}}}),void 0!==s?s.define("leap.metrics:core/providers/segment/track.map",["require","core/config","core/helper"],n):"undefined"!=typeof module&&module.exports&&(module.exports=n()),s.define("leap.metrics:core/providers/segment/track",["require","lodash","core/config","@PageInfo","core/utils/log","core/utils/promise","core/providers/segment/track.map"],function(e,c,t,u){var p=e("core/utils/log")("segment.page.track"),l=e("core/providers/segment/track.map"),n=e("core/utils/promise");return new function(){this.trigger=function(s){return new n(function(e,t){var n,r=s.props,o=(r.meta,u()),i=l.get(r.name,s);function a(){e({type:"track",data:i})}i.error?a():(n=c.cloneDeep(o.properties),o=c.cloneDeep(o.options),c.merge(n,i.options||{}),p("values:",{siteId:r.siteId,error:!!i.error,segment:{event:i.event||i.eventId,properties:n,options:o}}),window.analytics.track(i.event,n,o,function(){a()}))})}}}),s.define("leap.metrics:core/utils/cookie",["require"],function(e){return function(e,t,n){if(void 0===t){var r=null;if(document.cookie&&""!==document.cookie)for(var o=document.cookie.split(";"),i=0;i<o.length;i++){var a=(o[i]||"").replace(/^\s+|\s+$/g,"");if(a.substring(0,e.length+1)===e+"="){r=decodeURIComponent(a.substring(e.length+1));break}}return r}n=n||{},null===t&&(t="",n.expires=-1);var s="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(u=new Date).setTime(u.getTime()+24*n.expires*60*60*1e3):u=n.expires,s="; expires="+u.toUTCString());var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",n=n.secure?"; secure":"";return document.cookie=[e,"=",encodeURIComponent(t),s,c,u,n].join(""),""}}),s.define("leap.metrics:core/utils/datetime",["require"],function(e){return a=function(e){if((e=(e||"").toString()).length<1)return e;var t="",n=parseInt(e,10),n=99<n?parseInt(e.slice(e.length-2),10):n<20&&n;if(11<=n&&n<20)t="th";else switch(parseInt(e.charAt(e.length-1),10)){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return e+t},s=function(e){e=parseInt(e,10);for(var t=[["M",1e3],["CM",900],["D",500],["CD",400],["C",100],["XC",90],["L",50],["XL",40],["X",10],["IX",9],["V",5],["IV",4],["I",1]],n=[],r=0;r<t.length;r++)for(var o=t[r],i=o[0],a=o[1];a<=e;)n.push(i),e-=a;return n.join("")},c=function(e,t){e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e];return e="short"===t?e.slice(0,3):e},u=function(e,t){e=["January","February","March","April","May","June","July","August","September","October","November","December"][e]||"";return e="short"===t?e.slice(0,3):e},p=function(e){return e<10?"0"+l(e):e},l=function(e){return(e=isNaN(e)?"":e).toString()},function(e,t){var e={month:e.getUTCMonth(),day:e.getDay(),year:e.getFullYear(),date:e.getDate(),hour:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),ampm:e.getHours()<12?"am":"pm",fullStr:e.toString()},n=[["%m",e.month<9?"0"+(e.month+1):e.month+1],["%M:s",u(e.month,"short")],["%M",u(e.month)],["%d:o",a(e.date)],["%d",e.date<10?"0"+l(e.date):l(e.date)],["%D:s",c(e.day,"short")],["%D",c(e.day)],["%Y:r",s(e.year)],["%Y",e.year],["%y",l(e.year).substr(2)],["%h",p(12<e.hour?e.hour-12:e.hour)],["%H",p(e.hour)],["%i",p(e.minutes)],["%s",p(e.seconds)],["%ampm",e.ampm],["%AMPM",e.ampm.toUpperCase()],["%AmPm",e.ampm.charAt(0).toUpperCase()+e.ampm.charAt(1)]];if("string"==typeof t&&t)for(var r=0;r<n.length;r++){var o=n[r],i=o[0],o=o[1],i=new RegExp(i,"g");t=t.replace(i,o)}else t=e.fullStr;return t};var a,s,c,u,p,l}),s.define("leap.metrics:core/utils/eu",["require","core/config","core/utils/load.attempt","core/utils/query.param","core/utils/log","akamai.geo"],function(e,o,t,i){e("core/utils/log")("EU");var a=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];return new function(){var t=this,n=-1<window.location.search.indexOf("_akovr=1");function r(){var e=FNC.GEO.geo.get(),t=i.getVal("_akgeo_code")||e.countryCode||null,e=i.getVal("_akgeo_cont")||e.continent||null;return!!n||"EU"===e&&-1<a.indexOf(t)}t.enabled=function(){return!0},t.check=function(e){if("function"!=typeof e)return r();e(r())},t.allowProvider=function(e){return!t.check()||!!("string"==typeof e&&-1<o.EU_List.indexOf(e))}}}),s.define("leap.metrics:core/utils/load.attempt",["require"],function(e){return window,s=function(){},c=function(e){return"number"==typeof e},u=function(e){return"function"==typeof e},function(){var e=arguments,t=!1;c(e[0])&&c(e[1])&&u(e[2])?t={attempts:e[0],timeout:e[1],check:e[2],success:u(e[3])?e[3]:s,expires:u(e[4])?e[4]:s}:c(e[0])&&u(e[1])?t={attempts:e[0],timeout:500,check:e[1],success:u(e[2])?e[2]:s,expires:u(e[3])?e[3]:s}:u(e[0])&&(t={attempts:999,timeout:500,check:e[0],success:u(e[1])?e[1]:s,expires:u(e[2])?e[2]:s});function n(){o?(clearTimeout(r),i="aborted",t.expires(i)):t.check()?(a=!0,t.success(),clearTimeout(r)):0<t.attempts?r=setTimeout(function(){n()},t.timeout):(i="expired",t.expires(i)),t.attempts--}var r,o=!1,i=!1,a=!1;return n(),{abort:function(){o=!0},success:function(e){a?e():t.success=e},expires:function(e){i?e(i):t.expires=e}}};var s,c,u}),s.define("leap.metrics:core/utils/log",["require","core/utils/cookie"],function(e,o){var i="[LeapMetrics]";return function(e,t){e=e?" '"+e.replace(/^\s+|\s$/g,"")+"'":"";var n=[i,e].join("")+" >>",r=function(){if(t)return!0;if(-1<window.location.search.indexOf("_leap=0"))return o("_leap",null),!1;var e=-1<window.location.search.indexOf("_leap=1");return e?o("_leap","y",{path:"/",expires:null}):"y"===o("_leap")&&(e=!0),e}();return function(){if(!r)return!1;var e=Array.prototype.slice.call(arguments),e=[n].concat(e);if(r&&window.console)try{return window.console.log.apply(console,e)}catch(e){}}}}),s.define("leap.metrics:core/utils/meta",["require","jquery","core/helper","core/utils/log"],function(e,d,t){e("core/utils/log")("core.utils.meta");var n=e("core/utils/log")(null,!0);return new function(){var t=this,p={},l=null,f=!1;t.setSiteId=function(e){if(e)return l&&l!==e?n("[warn] SiteId can only be set once. [current:"+l+" | attempt:"+e+")"):void(l=e)},t.getSiteId=function(){var e;return l||(e=t.get(),t.setSiteId(e.page.siteId)),l},t.get=function(e){return f&&!e?p:(f=!0,a=window.location,s={},c={},i={},d("head > meta").each(function(){var e=d(this),t=e.attr("name")||e.attr("property")||null;t&&(e=e.attr("content")||"",/^og\:/.test(t)&&(s[t.replace(/^og\:/,"")]=e),/^twitter\:/.test(t)&&(c[t.replace(/^twitter\:/,"")]=e),i[t]=e)}),i.canonical=d('head > link[rel="canonical"]').attr("href")||"",u=i,t={},n=a.host,r=o=(o=u["prism.channel"]||"")?o:/foxnews\.com$/.test(n)?"fnc":/foxbusiness\.com$/.test(n)?"fbn":"other",(e=u["prism.section"]||"")||(/radio\.foxnews/.test(n)?e="radio":/insider\.foxnews/.test(n)?e="insider":/nation\.foxnews/.test(n)&&(e="nation")),o=e,t.title=u["og:title"]||d("head > title:first").text(),t.url=a.protocol+"//"+n+a.pathname,t.path=a.pathname,t.siteId=l||function(e){var t=r;switch(e){case"fnc/radio":t="radio";break;case"fnc/insider":t="insider";break;case"fnc/nation":t="nation"}return t||"other"}([r,o].join("/")),t.type=(e="other",(n=u.pagetype||u.pageType||null)?e=/^home/i.test(n)?"homepage":n:"video"===o?e=/^\/playlist/.test(a.pathname)?"playlist":"video":"radio"===t.siteId?"/"===a.pathname&&(e="homepage"):"insider"===t.siteId&&("/"===a.pathname?e="homepage":"article"===u["og:type"]&&(e="article")),n="radio"===t.siteId,o=t.path,n&&(/^\/([0-9]{4})\/([0-9]{1,2})\/([0-9]{1,2})/.test(o)?e="article":/^\/([a-z0-9]+)/.test(o)&&(e="category")),e),p={raw:u,page:t,opengraph:s,twitter:c});var t,n,r,o,i,a,s,c,u}}}),s.define("leap.metrics:core/utils/promise.iterator",["require"],function(e){return function(t,n,e){var r=[],o=null;if(Array.isArray(t))o="array",r=t;else{if("object"!=typeof t)return console.log("promiseIterator(error): target is not iterable"),e();o="object",function(){for(var e in t)r.push({id:e,data:t[e]})}()}if("function"!=typeof n)return console.log("promiseIterator(error): missing next()"),e();var i=0,a=r.length;function s(){"function"==typeof e&&e()}!function e(){var t;i<a?(t="object"===o?r[i].data:r[i],n(t,"object"===o?r[i].id:i,function(){i++,e()},function(){s()})):s()}()}}),s.define("leap.metrics:core/utils/promise",["require"],function(e){return function(e){var t=[],n=[],r={};this.then=this.resolve=function(e){return"function"==typeof e&&(r.resolve?e.apply(e,r.resolve):t.push(e)),this},this.reject=function(e){return"function"==typeof e&&(r.reject?e.apply(e,r.reject):n.push(e)),this},e(function(){if(r.resolve=Array.prototype.slice.call(arguments),0<t.length)for(;0<t.length;){var e=t.shift();e.apply(e,r.resolve)}},function(){if(r.reject=Array.prototype.slice.call(arguments),0<n.length)for(;0<n.length;){var e=n.shift();e.apply(e,r.reject)}})}}),s.define("leap.metrics:core/utils/query.param",["require"],function(e){return new function(){var n=this;n.getVal=function(e){var t=n.getAll();return!(!t||!t[e])&&decodeURIComponent(t[e])},n.getAll=function(){for(var e={},t=(window.location.search.substr(1)||"").split("&"),n=0;n<t.length;n++){var r=t[n].split("="),o=r[0]||!1,i=1<(i=r.slice(1)).length?i.join("="):r[1]||!1;o&&i&&(e[o]=decodeURIComponent(i).toString())}return e},n.setToString=function(e){var t,n=[];for(t in e)n.push(t+"="+e[t]);return n.join("&")}}}),s.define("leap.metrics:core/utils/script.loader",["require"],function(e){return function(e,t,n){"function"!=typeof t&&(t=function(){});var r=document.createElement("script");if(r.type="text/javascript",r.charset="utf-8",r.async=!0,n&&"object"==typeof n)for(var o in n)r.setAttribute(o,n[o]);!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",t,!1),r.addEventListener("error",function(){throw new Error("Error loading script: "+e)},!1)):r.attachEvent("onreadystatechange",t),r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}}),s.define("leap.metrics:core/utils/session.storage",["require"],function(e){return new function(){var n=this;function r(e){return"leap_sessstore__"+e}n.isAvailable=function(){var t=!0,e="__coretest_sessionStorage";if("object"==typeof window.sessionStorage)try{window.sessionStorage.setItem(e,1),window.sessionStorage.removeItem(e)}catch(e){t=!1}return t},n.set=function(e,t){n.isAvailable()&&(null!==(t="string"!=typeof t?"object"==typeof t?JSON.stringify(t):void 0!==t?t.toString():null:t)&&window.sessionStorage.setItem(r(e),t))},n.get=function(e){if(!n.isAvailable())return null;try{return window.sessionStorage.getItem(r(e))}catch(e){return null}},n.remove=function(e){if(n.isAvailable())try{window.sessionStorage.removeItem(r(e))}catch(e){}}}}),function(){var o=this,i=null;o.load=function(){var e=arguments,r="string"==typeof e[0]?[e[0]]:Array.isArray(e[0])?e[0]:[],o="function"==typeof e[0]?e[0]:e[1]&&"function"==typeof e[1]?e[1]:function(){};t.require(["require"],function(e){function t(){"function"==typeof o&&o(e)}var n;(0<r.length?n=function(){var e=r.shift();s.loadScript(e,function(){(0<r.length?n:t)()})}:t)()})},o.execute=function(e){function t(n,r){o.load(function(t){t(["core/utils/eu"],function(){t("core/utils/eu").allowProvider("segment")||(n.disabled=!0),i?r(i,t):t(["core/api"],function(e){i=i||new e(n),r(i,t)})})})}"function"==typeof e?t({},e):"object"!=typeof e||Array.isArray(e)||"function"==typeof e.callback&&t(e.attrs||{},e.callback)}};function n(e,t,n){var i={"auth.profile:sign-in-start":function(e){return{event:"Profile Sign In Started",desc:"User starts signing into a profile",options:{page_profile_type:e.page_profile_type||"general",page_start_source:e.page_start_source||"general"}}},"auth.profile:sign-in-complete":function(e){return{event:"Profile Sign In Completed",desc:"User successfully signs into a profile",options:{page_profile_type:e.page_profile_type||"general",page_start_source:e.page_start_source||"general"}}},"auth.profile:sign-in-error":function(e){return{event:"Profile Sign In Error",desc:"User experiences an error",options:{page_error_description:e.page_error_description||"no error description",page_error_type:e.page_error_type||"no error type",page_start_source:e.page_start_source||"general"}}},"auth.profile:sign-in-forgot-password":function(e){return{event:"Profile Sign In Forgot Password",desc:"User selects a CTA to retrieve password",options:{page_start_source:e.page_start_source||"general"}}},"auth.profile:sign-up-start":function(e){return{event:"Profile Sign Up Started",desc:"User starts signing up for a profile",options:{page_start_source:e.page_start_source||"general"}}},"auth.profile:sign-up-complete":function(e){return{event:"Profile Sign Up Completed",desc:"User completes signing up for a profile",options:{page_profile_type:e.page_profile_type||"general",page_start_source:e.page_start_source||"general"}}},"auth.profile:sign-up-error":function(e){return{event:"Profile Sign Up Error",desc:"User experiences an error",options:{page_error_description:e.page_error_description||"no error description",page_error_type:e.page_error_type||"no error type",page_start_source:e.page_start_source||"general"}}},"auth.profile:logout":function(e){return{event:"Profile Logged Out",desc:"User successfully logged out of a profile"}},share:function(e){var t=["page_content_shared","page_share_method"],n="User shares any content via email, facebook, twitter, etc.";return a(t,e)?{event:"Share",desc:n,options:{page_share_method:e.page_share_method,page_content_shared:e.page_content_shared}}:{error:!0,event:"Share",desc:n,required:t,optional:[]}},"commenting:posted":function(e){return{event:"Comment Posted",desc:"User posts a comment on an article, thread, etc."}},"auth.mvpd:start":function(e){return{event:"Authentication Started",desc:"User lands on the screen to begin MVPD authentication",options:{page_start_source:e.page_start_source||"general"}}},"auth.mvpd:select-provider-start":function(e){return{event:"Authentication Select Provider Started",desc:"User lands on the screen",options:{page_start_source:e.page_start_source||"general"}}},"auth.mvpd:select-provider-complete":function(e){var t="Authentication Select Provider Completed",n=["page_action_type"],r="User selects a MVPD and successfully moves on to the next step",o={page_start_source:"general"};return a(n,e)?{event:t,desc:r,options:{page_start_source:e.page_start_source||o.page_start_source,page_action_type:e.page_action_type}}:{error:!0,event:t,desc:r,required:n,optional:o}},"auth.mvpd:select-provider-error":function(e){return{event:"Authentication Select Provider Error",desc:"User experiences a MVPD error",options:{page_error_description:e.page_error_description||"no error description",page_error_type:e.page_error_type||"no error type",page_start_source:e.page_start_source||"general"}}},"auth.mvpd:complete":function(e){return{event:"Authentication Completed",desc:"User successfully authenticates with a MVPD",options:{page_start_source:e.page_start_source||"general"}}},"auth.mvpd:logout":function(e){return{event:"Authentication Logged Out",desc:"User successfully logged out of a MVPD"}},"search:start":function(e){return{event:"Search Started",desc:"User initiates a search"}},"search:complete":function(e){var t="User completes a search",n=["page_search_term","page_num_search_results"];return a(n,e)?{event:"Search Completed",desc:t,options:{page_search_term:e.page_search_term,page_num_search_results:e.page_num_search_results}}:{error:!0,event:"Search Completed",desc:t,required:n,optional:{}}},"search:select":function(e){var t="Search Result Selected",n="User selects a search result",r=["page_search_term","page_num_search_results","page_item_title"];return a(r,e)?{event:t,desc:n,options:{page_search_term:e.page_search_term,page_num_search_results:e.page_num_search_results,page_item_title:e.page_item_title}}:{error:!0,event:t,desc:n,required:r,optional:{}}},"favorites:add":function(e){var t="User saves an article, favorites a show, favorites a personality, etc",n=["page_item_title","page_category_title"],r={page_item_type:"no item type"};return a(n,e)?{event:"Added Favorites",desc:t,options:{page_item_title:e.page_item_title,page_category_title:e.page_category_title,page_item_type:e.page_item_type||r.page_item_type}}:{error:!0,event:"Added Favorites",desc:t,required:n,optional:r}},"favorites:remove":function(e){var t="User removes a previously saved article, favorited show, favorited personality, etc",n=["page_item_title","page_category_title"];return a(n,e)?{event:"Removed Favorites",desc:t,options:{page_item_title:e.page_item_title,page_category_title:e.page_category_title,page_item_type:e.page_item_type||"no item type"}}:{error:!0,event:"Removed Favorites",desc:t,required:n}},"banner:impression":function(e){var t="Banner Notification Impression",n="User receives a banner notification",r=["page_message_title","page_message_text","page_message_type","page_message_id"];return a(r,e)?{event:t,desc:n,options:{page_message_title:e.page_message_title,page_message_text:e.page_message_text,page_message_type:e.page_message_type,page_message_id:e.page_message_id}}:{error:!0,event:t,desc:n,required:r}},"banner:action":function(e){var t="Banner Notification Action",n="User takes action on a banner notification",r=["page_message_title","page_message_text","page_message_type","page_message_id","page_action_type"];return a(r,e)?{event:t,desc:n,options:{page_message_title:e.page_message_title,page_message_text:e.page_message_text,page_message_type:e.page_message_type,page_message_id:e.page_message_id,page_action_type:e.page_action_type}}:{error:!0,event:t,desc:n,required:r}},"newsletter:sign-up-start":function(e){var t="Newsletter Sign Up Started",n=["page_newsletter_list"],r="User starts signing up for a newsletter";return a(n,e)?{event:t,desc:r,options:{page_newsletter_list:e.page_newsletter_list}}:{error:!0,event:t,desc:r,required:n}},"newsletter:sign-up-complete":function(e){var t="Newsletter Sign Up Completed",n=["page_newsletter_list"],r="User successfully submits an email to sign up for newsletters";return a(n,e)?{event:t,desc:r,options:{page_newsletter_list:e.page_newsletter_list}}:{error:!0,event:t,desc:r,required:n}},"podcast:start":function(e){var t=["page_item_title"],n="User starts a podcast";return a(t,e)?{event:"Podcast Started",desc:n,options:{page_item_title:e.page_item_title}}:{error:!0,event:"Podcast Started",desc:n,required:t}},"podcast:complete":function(e){var t=["page_item_title"],n="User completes a podcast";return a(t,e)?{event:"Podcast Completed",desc:n,options:{page_item_title:e.page_item_title}}:{error:!0,event:"Podcast Completed",desc:n,required:t}}};function a(e,t){for(var n=!0,r=0;r<e.length;r++)if(!t[e[r]]){n=!1;break}return n}return{get:function(e,t){var n=t&&t.props&&t.props.attrs?t.props.attrs:{};return i[e]?i[e](n,t):null},getMapList:function(e){var t,n={};for(t in i){var r=i[t]({}),o=r.event||r.eventId||null;o&&(n[t]=e?r:o)}return n}}}}())}((window,function(){function n(){function e(){for(P=!0;0<A.length;)A.shift()()}r?r(e):e()}var e,t,I={},o={},S={},j={},p={},l={},f={},d=[],g=[],E={},P=!1,A=[],r=null,q=null,C=[],i="[Modulr]";e=function(){P||n()},window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent?window.attachEvent("onload",e):(t=window.onload,window.onload=function(){t(),e()});function O(m){(m=m||{}).context=m.instance||m.context||"_",m.wait="boolean"!=typeof m.wait||m.wait;var e,_=m.context,t=/[^A-Za-z0-9_\-\.]/g.test(e=_);if("string"==typeof e&&!t||$("invalid context:",_),I[_])return B("WARNING: attempt to instantiate the same context:",_,"\n. No configuration changes, returning instance instead.."),I[_].instance;I[_]={instance:this,stack:{}};var h=I[_].stack,a=!1,v=this;function y(e){if(m.paths)for(var t in m.paths)e=e.replace(t,m.paths[t]);return e.replace(/\/\//g,"/").replace(/^\//,"")}v.version="2.0.1",v.getConfig=function(){return m},v.getInstance=function(e){return I[e]?I[e].instance:null},v.setExecuteListener=function(e){r||"function"!=typeof e||(r=e)},v.getLoadedScripts=function(){var e,t={};for(e in S){var n=e.split("||"),r=n[0],n=n[1]||"";r&&n&&(t[r]||(t[r]=[]),t[r].push(n))}return t},v.define=function(e,t,n){0<(r="string"==typeof e?e.replace(/\s+/gi,""):"").length&&"require"!==r&&"define"!==r&&"exports"!==r||$("invalid id:",e),2!==arguments.length||H(t)||(n=t,t=[]);var r=x(e=y(e));r?I[r.context]?I[r.context].instance.define(r.id,t,n):(o[r.context]||(o[r.context]=[]),o[r.context].push({ext:r,deps:t,factory:n})):h[e]||(h[e]={executed:!1,exports:{},deps:t=t||[],factory:n})},v.require=function(r,o){return"string"==typeof r?(t=null,n="module",(i=x(e=y(r)))?"module"===i.type?t=I[i.context].stack[i.id]:"instance"===i.type&&(t=I[i.context].instance,n="instance"):t=h[e],"module"===n&&(t&&!t.executed&&$("module not yet executed:",e),t=t?void 0!==t.factory?t.factory:t.exports:null),t):H(r)?new Q(function(t){function e(){var e,t;a?n():(a=!0,m.baseDomain=F(m.baseDomain)||L(),m.baseUrl=m.baseUrl||D(),e=function(){c(m.packages,function(){n()})},m.masterFile?(t=u(m.masterFile),!(-1<g.indexOf(t))&&-1===d.indexOf(t)?(d.push(t),k(t,null,function(){g.push(t),e()})):e()):e())}var n=function(){s.get(null,r,function(e){"function"==typeof o?U(o,e):t.apply(t,e)})};!m.wait||P?e():A.push(e)}):void 0;var e,t,n,i},v.config=function(e){if(e.context||e.instance){for(var t=new O(e),n=["config","getInstance","loadPackageList","setGlobalCacheParam","setGlobalCacheCond","setExecuteListener"],r=0;r<n.length;r++){var o=n[r];t[o]&&delete t[o]}return t.loadPackage=function(e,t){"function"!=typeof t&&$("loadPackage() requires a callback!"),H(e)||"object"!=typeof e?$("cannot load package list."):c(e,t.apply(t,v.require))},t}if(a)return B('WARNING: Instance "'+e.instance+'" already exists! no configuration changes, returning instance instead..'),v.getInstance(e.instance);m=e},v.execModule=function(e,t){var n=w(e);if("function"!=typeof t)return!1;n?n.executed?t(s.getModuleFactory(n)):s.execModule(null,null,e,function(e){t(e)}):t(null)},v.loadPackageList=function(e){if(H(e)||"object"!=typeof e)$("cannot load package list.");else for(var t in e)f[t]||(f[t]=e[t])},v.setGlobalCacheParam=function(e){"string"!=typeof e&&"number"!=typeof e||(q=e)},v.setGlobalCacheCond=function(e){Array.isArray(e)&&(C=C.concat(e))},v.getGlobalCacheParam=function(){return q},v.getPackageListInfo=function(){return{master:d,instances:f}},v.setReady=function(){n()},v.loadScript=function(e,t){k(e,null,function(){"function"==typeof t&&t()})},function(){if(o[_])for(var e=I[_].instance;0<o[_].length;){var t=o[_].shift();e.define(t.ext.id,t.deps,t.factory)}}(),function(){if(m.shim){var e,t=[];for(e in m.shim)t.push({id:e,info:m.shim[e]});for(;0<t.length;)!function(e){var t=e.id,n=e.info,e=(u(n.src),n.deps||[]);v.define(t,e,function(){return i(n.exports)})}(t.shift())}}();var s=new function(){var g=this;g.get=function(u,e,p){var l,f=[];e?l=R(e):u&&h[u]&&(l=R(h[u].deps));var d=function(){var e,t,n,r,o,i,a,s,c;0===l.length?p(f):(t=w(e=y(l.shift())),(r=x(e))?"module"===r.type?(o=function(e){f.push(void 0!==e?e:null),d()},a=e.split(":"),s=a[0]||!1,c=a[1]||!1,s&&c&&I[s]?(i=I[s].instance,I[s].stack[c]?i.execModule(c,function(e){o(e)}):i.require([c],function(){i.execModule(c,function(e){o(e)})})):(B(["Not initialized >> CONTEXT:",s,"| module:",c].join(" ")),o(null))):"instance"===r.type&&(f.push((r=r.context,I[r]?I[r].instance:void $("Error getting instance:",r))),d()):"require"===e?(f.push(v.require),d()):"define"===e?(f.push(v.define),d()):"exports"===e?(f.push(h[u].exports),d()):t&&!b(e)?t.executed?(f.push(g.getModuleFactory(t)),d()):g.execModule(null,null,e,function(e){f.push(e),d()}):b(e)?(t=m.shim[e],g.loadShim(e,t,function(e){f.push(e),d()})):k(n=g.getModulePath(e),e,function(){g.execModule("load",n,e,function(e){f.push(e),d()})}))};d()},g.loadShim=function(e,t,n){var r=u(t.src),o=w(e);T(t.exports)?(o.executed=!0,o.factory=i(t.exports),n(o.factory)):E[r]?E[r].push(function(){g.execModule("shim",null,e,function(e){n(e)})}):(E[r]=[function(){g.execModule("shim",null,e,function(e){n(e)})}],k(r,e,function(){T(t.exports)?function(e){if(E[e])for(;0<E[e].length;)E[e].shift()()}(r):$("shim export not found for:",e)},null,{noCacheString:t.noCacheString||null,noStore:t.noStore||null,queryParam:t.queryParam||null}))},g.execModule=function(e,t,n,r){var o=w(n);o?o.executed?r(g.getModuleFactory(o)):(g._execQueue||(g._execQueue={}),g._execQueue[n]||(g._execQueue[n]=[]),o.executing?g._execQueue[n].push(r):(o.executing=!0,g._execQueue[n].push(r),g.get(n,o.deps,function(e){o.factory=U(o.factory,e),o.executed=!0,o.executing=!1,g.runCallbackQueue(n,g.getModuleFactory(o))}))):(B("loading external source:",t),r({id:n,src:t,type:"external-script"}))},g.runCallbackQueue=function(e,t){for(var n=g._execQueue[e]||[];0<n.length;)n.shift()(t)},g.getModuleFactory=function(e){return null!==e.factory?e.factory:e.exports},g.getModulePath=function(e){return[V([V(m.baseDomain||L()),z(m.baseUrl||D())].join("/")),e=V(z(e))].join("/")+".js"}};function w(e){return h[e]||!1}function x(e){var t,n=!1;return-1<e.indexOf(":")&&(e=(t=e.split(":"))[0]||!1,t=t[1]||!1,"getInstance"===e&&t?n={type:"instance",context:t}:e&&t&&(n={type:"module",context:e,id:t})),n}function c(e,r){if(e){function t(e){for(var t in e)f[t]||(f[t]=e[t]),o.push({uid:t,src:e[t]})}var o=[];if(H(e))for(var n=0;n<e.length;n++){var i=e[n];"string"==typeof i&&f[i]?o.push({uid:i,src:f[i]}):"object"!=typeof i||H(i)?$("cannot find package named:",i):t(i)}else t(e);function a(){var e,t,n;0===o.length?r():(t=(e=o.shift()).uid,n=u(e.src),I[t]?a():p[n]?(l[n]||(l[n]=[]),l[n].push(function(){a()})):(p[n]=t,k(n,t,function(){a(),l[n]&&function(e){for(var t=l[e];0<t.length;)t.shift()();delete l[e]}(n)},"instance")))}a()}else r()}function u(e){var t=e;return t=0!==e.indexOf("http")?0===e.indexOf("//")?F(e):m.baseDomain+("/"!==e.charAt(0)?"/":"")+e:t}function b(e){return m.shim&&m.shim[e]}function i(e){return window[e.split(".")[0]]}function k(e,t,n,r,o){o=o||{};var i,a=!1,s=document.createElement("script"),c=[_||"",e].join("||"),u=o.noCacheString||null,p=function(e){for(var t=C,n=null,r=0;r<t.length;r++){var o=t[r];if("object"==typeof o&&o.regex instanceof RegExp&&o.regex.test(e)){n=o;break}}return n}(e),l=!(!p||!0!==p.noStore)||(!0===u?null:o.noStore),f=p&&"string"==typeof p.param?p.param:o.queryParam,d=function(e){if(!a&&"load"===e.type||N.test((e.currentTarget||e.srcElement).readyState)){for(a=!0;0<j[c].length;)j[c].shift()();delete j[c],G(s,d,"load","onreadystatechange"),G(s,g,"error")}},g=function(){$("error loading script:",e)};if(t&&s.setAttribute(r?"data-modulr-loaded-inst":"data-modulr-module",t),s.setAttribute("data-modulr-context",_),S[c])return j[c].push(function(){n(t)}),0;S[c]=!0,j[c]=[function(){n(t)}],s.type="text/javascript",s.charset="utf-8",s.async=!0,!s.attachEvent||s.attachEvent.toString&&s.attachEvent.toString().indexOf("[native code")<0||M?(s.addEventListener("load",d,!1),s.addEventListener("error",g,!1)):s.attachEvent("onreadystatechange",d),s.src=(r=o=e,p&&l&&f?r=o+(-1<o.indexOf("?")?"&":"?")+(f?f+"=":"")+(new Date).getTime():(m&&m.cacheParam||q)&&!u&&(f=f||("string"==typeof m.cacheParam?m.cacheParam:q?"v":""),i=l?(new Date).getTime():q||(i=(l=new Date).getSeconds(),[l.getFullYear(),l.getMonth()+1,l.getDate(),l.getHours(),l.getMinutes()].join("")+(i<=30?30:1)),r=o+(-1<o.indexOf("?")?"&":"?")+(f?f+"=":"")+i),r),document.getElementsByTagName("head")[0].appendChild(s)}}var M="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),N=/^(complete|loaded)$/;function U(e,t){return"function"==typeof e?e.apply(e,t):e}function T(e){var t=e.split("."),n=window[t.shift()],r=!1;if(void 0!==n&&(r=!0,0<t.length))for(;0<t.length;)if(void 0===(n=n[t.shift()])){r=!1;break}return r}function D(){var e=window.location.pathname.split("/");return e.pop(),e=e.join("/")+"/",L()+e}function L(){var e=window.location;return e.protocol+"//"+(e.host||e.hostname)}function F(e){var t=e,n=window.location.protocol;return t=0!==e.indexOf("http")?n+(0!==e.indexOf("//")?"//":"")+e:t}function R(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function G(e,t,n,r){e.detachEvent&&!M?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function z(e){return"/"===e.charAt(0)?e.slice(1):e}function V(e){return"/"===e.charAt(e.length-1)?e.slice(0,e.length-1):e}function H(e){return e=e||!1,"[object Array]"===Object.prototype.toString.call(e)}function B(){var t=Array.prototype.slice.call(arguments);t.unshift(i);try{return window.console.log.apply(window.console,t)}catch(e){window.console.log(t.join(" | "))}}function $(){var e=Array.prototype.slice.call(arguments);throw e.unshift(i),new Error(e.join(" "))}function Q(e){var n=[],r=null;this.then=this.resolve=function(e){return"function"==typeof e&&n.push(e),this},this.reject=function(e){"function"==typeof e&&(r=e)},e(function(){if(n)for(var e=Array.prototype.slice.call(arguments);0<n.length;){var t=n.shift();data=t.apply(t,e)}},function(e){var t;r&&(t=Array.prototype.slice.call(arguments),r.apply(r,t))})}return new O}()),function(){function t(){if(0!==o.length)for(;0<o.length;)o.shift()()}var n=!1,r=!1,o=[];return function(e){if("function"==typeof e){if(n)return e();o.push(e),r||(r=!0,window.addEventListener?"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?(n=!0,t()):document.addEventListener("DOMContentLoaded",t):window.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),n=!0,t())}))}}}()));

!function(e,o){var h="https://klkstrm.kargo.com",a=h+"/?origin="+encodeURIComponent(location.origin)+"&url=";function i(e){for(var t=e+"=",r=o.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function c(e,t,r){r=r?"; max-age="+r:"";o.cookie=e+"="+t+r+"; path=/"}function s(){return c("krgtst","enabled",10),"enabled"===i("krgtst")}function t(e,t,r){function n(){}t=t||{};var a,o,i=new XMLHttpRequest,c=(new Date).getTime(),s=t.onSuccess||n,u=t.beforeLoad||n,l=t.onFailure||n,d=t.onTimeout||n,g=t.query||{},f=[],p=parseInt(t.timeout,10);for(a in g)!g.hasOwnProperty(a)||void 0!==(o=g[a])&&null!=o&&f.push(a+"="+o);return(t=f.join("&"))&&(e+="?"+t),i.open("GET",e=!r?h+e:e),i.withCredentials=!0,i.onload=function(){var e;u(i)||(e=(new Date).getTime()-c,isNaN(p)||e<p?200===i.status?s(i,e):l(i):d(i))},i.onerror=l.bind(),i.ontimeout=d.bind(),isNaN(p)||(i.timeout=p),i.send(),i}function u(){var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;e=Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("");return e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20)}function r(){var e;t("/event/boot"),s()?((e=o.createElement("script")).addEventListener("load",function(){!function(){var e=!1;try{e=function(){var e=parseInt(function(){try{return localStorage.getItem("ksyncat")}catch(e){return null}}(),10);if(!isNaN(e)&&(new Date).getTime()-e<432e5)return!1;if(1==navigator.doNotTrack||Kargo.Data.Cerberus.isOptOut())return!1;if(!Kargo.Data.Cerberus.getClientId()&&(Kargo.Data.Cerberus.setClientId(u()),!Kargo.Data.Cerberus.getClientId()))return!1;e=o.createElement("iframe");return e.width=0,e.height=0,e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",o.body.appendChild(e),e.src="https://crb.kargo.com/api/v1/initsync/{UUID}?partners=Tapad,ttd,mediamath,DBM,LiveRamp".replace("{UUID}",Kargo.Data.Cerberus.getClientId()),function(e){try{localStorage.setItem("ksyncat",e)}catch(e){console.warn("Could not create local storage item",e)}}((new Date).getTime()),!0}()}catch(e){return t("/event/sync-error")}e&&t("/event/sync-success")}()}),e.src="https://storage.cloud.kargo.com/ad/network/tag/Kargo-Data.js",o.head.appendChild(e)):t("/event/no-cookies-enabled")}/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e.setKargoCookieClickthrough=function(){o.querySelectorAll("a").forEach(function(t){t.addEventListener("click",function(e){return function(e,t,r){if(!Kargo.Data.Cerberus.getKtcId()&&e&&function(e,t){var r;if(s()&&(!i("kredirectattempted")&&(c("kredirectattempted",!0,43200),e&&(r=e,(n=o.createElement("a")).href=r,n.origin===location.origin)))){var n=u();return c("kredirectidpub",n,43200),location.href=(n=a+e+"&redirectId="+n,t&&(n+="&logOkay=true"),n),1}}(t,"k-clear-notice-ok"==r.id))return e.preventDefault(),e.stopPropagation(),!1}(e,t.href,t)})})},"loading"!==o.readyState?r():o.addEventListener("DOMContentLoaded",r)}(window,document);

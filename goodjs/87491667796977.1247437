(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~adEditor~categoryPage~channelSectionPage~commerceDashboard~curatedHomepage~errorPage~experim~ac135e6b"],{"0e7a":function(e,t,n){"use strict";n.r(t),n.d(t,"datadogRum",function(){return Ge}),n.d(t,"RumEventCategory",function(){return ke});var g,v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(i,a,s,u){return new(s=s||Promise)(function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}o((u=u.apply(i,a||[])).next())})}function f(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function l(t,n,e){var r=!e||void 0===e.leading||e.leading,o=!e||void 0===e.trailing||e.trailing,i=!1,a=!1;return function(){var e=this;i?a=!0:(r?t.apply(this):a=!0,i=!0,setTimeout(function(){o&&a&&t.apply(e),a=i=!1},n))}}function p(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,p)}function m(e){return 0!==e&&100*Math.random()<=e}function y(e){return+(1e6*e).toFixed(0)}function b(t){var n={};return Object.keys(t).forEach(function(e){n[e.replace(/[A-Z]/g,function(e,t){return(0!==t?"_":"")+e.toLowerCase()}).replace(/-/g,"_")]=function e(t){return Array.isArray(t)?t.map(e):"object"==typeof t?b(t):t}(t[e])}),n}function h(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];a(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,i=[!1,void 0];"object"==typeof e&&a(o=Object.getPrototypeOf(e))&&(i=[!0,o.toJSON],delete o.toJSON);try{return JSON.stringify(e,t,n)}finally{r[0]&&(e.toJSON=r[1]),i[0]&&(o.toJSON=i[1])}}function a(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function r(e,t){return 0===e.indexOf(t)}function R(e,t){return-1!==e.indexOf(t)}function E(e){return"number"==typeof e&&0<=e&&e<=100}function T(e){return e-performance.timing.navigationStart}(t=g=g||{}).XHR="xhr",t.BEACON="beacon",t.FETCH="fetch",t.CSS="css",t.JS="js",t.IMAGE="image",t.FONT="font",t.MEDIA="media",t.OTHER="other";var C={isCollectingError:!0,maxErrorsByMinute:1e4,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,requestErrorResponseLengthLimit:32768,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function w(e,t,n){var r="us"===t.datacenter?"com":"eu",o="production"===t.env?"datadoghq."+r:"datad0g."+r,r="version:"+t.version;return"https://"+e+"-http-intake.logs."+o+"/v1/input/"+t.clientToken+"?ddsource="+(n||"browser")+"&ddtags="+r}var t=n("UB+s"),S=n.n(t),s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o,u,_,i,x,L,k,U=(k=[],z.subscribe=function(e){i||(_=window.onerror,window.onerror=X(H),i=!0),L||(x=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=X(F),L=!0),k.push(e)},z.unsubscribe=function(e){for(var t=k.length-1;0<=t;--t)k[t]===e&&k.splice(t,1);0===k.length&&(i&&(window.onerror=_,i=!1),L&&(window.onunhandledrejection=x,L=!1))},z.traceKitWindowOnError=H,z),I=(A.augmentStackTraceWithInitialElement=D,A.computeStackTraceFromStackProp=M,A.ofCaller=function(e){var t=1+(void 0===e?0:+e);try{throw new Error}catch(e){return I(e,1+t)}},A);function M(e){if(e.stack){for(var t,n=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,s=e.stack.split("\n"),u=[],c=0,f=s.length;c<f;c+=1){if(n.exec(s[c])){var d=(t=n.exec(s[c]))[2]&&0===t[2].indexOf("native"),l=t[2]&&0===t[2].indexOf("eval"),p=a.exec(t[2]);l&&p&&(t[2]=p[1],t[3]=p[2],t[4]=p[3]),d={args:d?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:d?void 0:t[2]}}else if(o.exec(s[c]))d={args:[],column:(t=o.exec(s[c]))[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]};else{if(!r.exec(s[c]))continue;l=(t=r.exec(s[c]))[3]&&-1<t[3].indexOf(" > eval"),p=i.exec(t[3]),l&&p?(t[3]=p[1],t[4]=p[2],t[5]=void 0):0!==c||t[5]||void 0===e.columnNumber||(u[0].column=e.columnNumber+1),d={args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}!d.func&&d.line&&(d.func="?"),u.push(d)}if(u.length)return{stack:u,message:e.message,name:e.name}}}function D(e,t,n,r){t={url:t,line:n?+n:void 0};if(t.url&&t.line){e.incomplete=!1;n=e.stack;if(0<n.length&&n[0].url===t.url){if(n[0].line===t.line)return!1;if(!n[0].line&&n[0].func===t.func)return n[0].line=t.line,n[0].context=t.context,!1}return n.unshift(t),e.partial=!0}return!(e.incomplete=!0)}function N(e,t){for(var n,r,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],a={},s=!1,u=N.caller;u&&!s;u=u.caller)u!==I&&u!==U&&(r={args:[],column:void 0,func:"?",line:void 0,url:void 0},n=o.exec(u.toString()),u.name?r.func=u.name:n&&(r.func=n[1]),void 0===r.func&&(r.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),a[""+u]?s=!0:a[""+u]=!0,i.push(r));t&&i.splice(0,t);t={stack:i,message:e.message,name:e.name};return D(t,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),t}function A(e,t){var n,t=void 0===t?0:+t;try{if(n=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),a=[],s=0;s<i.length;s+=2){var u=void 0;r.exec(i[s])?u={args:[],column:void 0,func:(n=r.exec(i[s]))[3],line:+n[1],url:n[2]}:o.exec(i[s])&&(u={args:(n=o.exec(i[s]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),u&&(!u.func&&u.line&&(u.func="?"),u.context=[i[s+1]],a.push(u))}if(a.length)return{stack:a,message:e.message,name:e.name}}}(e))return n}catch(e){}try{if(n=M(e))return n}catch(e){}try{if(n=function(e){var t=e.message.split("\n");if(!(t.length<4)){var n,r,o=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of function script\s*$/i,s=[],u=window&&window.document&&window.document.getElementsByTagName("script"),c=[];for(r in u)O(u,r)&&!u[r].src&&c.push(u[r]);for(var f=2;f<t.length;f+=2){var d=void 0;o.exec(t[f])?d={args:[],column:void 0,func:(n=o.exec(t[f]))[3],line:+n[1],url:n[2]}:i.exec(t[f])?d={args:[],column:void 0,func:(n=i.exec(t[f]))[4],line:+n[1],url:n[3]}:a.exec(t[f])&&(n=a.exec(t[f]),d={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+n[1]}),d&&(d.func||(d.func="?"),d.context=[t[f+1]],s.push(d))}if(s.length)return{stack:s,message:t[0],name:e.name}}}(e))return n}catch(e){}try{if(n=N(e,1+t))return n}catch(e){}return{message:e.message,name:e.name,stack:[]}}function B(e,t,n){var r,o;for(o in k)if(O(k,o))try{k[o](e,t,n)}catch(e){r=e}if(r)throw r}function H(e,t,n,r,o){var i;return u?(I.augmentStackTraceWithInitialElement(u,t,n,""+e),P()):o?B(I(o),!0,o):(r={url:t,column:r,line:n},"[object String]"!=={}.toString.call(n=e)||(e=n.match(s))&&(i=e[1],n=e[2]),B({name:i,message:n,stack:[r]},!0)),!!_&&_.apply(this,arguments)}function F(e){e=e.reason||"Empty reason";B(I(e),!0,e)}function P(){var e=u,t=o;o=u=void 0,B(e,!1,t)}function z(e){if(u){if(o===e)return;P()}var t=I(e);throw u=t,o=e,setTimeout(function(){o===e&&P()},t.incomplete?2e3:0),e}var j,t=n("GX0+"),W=n.n(t),K=(q.prototype.send=function(e,t){navigator.sendBeacon&&t<this.bytesLimit&&navigator.sendBeacon(this.endpointUrl,e)||((t=new XMLHttpRequest).open("POST",this.endpointUrl,!0),t.send(e))},q),G=($.prototype.add=function(e){this.addOrUpdate(e)},$.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},$.prototype.beforeFlushOnUnload=function(e){this.beforeFlushOnUnloadHandlers.push(e)},$.prototype.flush=function(){var e,t,n;0!==this.bufferMessageCount&&(e=this.pushOnlyBuffer.concat((t=this.upsertBuffer,n=[],Object.keys(t).forEach(function(e){n.push(t[e])}),n)),this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0)},$.prototype.addOrUpdate=function(e,t){var n=this.process(e),e=n.processedMessage,n=n.messageBytesSize;n>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(n)&&this.flush(),this.push(e,n,t),this.isFull()&&this.flush())},$.prototype.process=function(e){e=h(W()({},this.contextProvider(),e));return{processedMessage:e,messageBytesSize:this.sizeInBytes(e)}},$.prototype.push=function(e,t,n){0<this.bufferMessageCount&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},$.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];t=this.sizeInBytes(t);this.bufferBytesSize-=t,--this.bufferMessageCount,0<this.bufferMessageCount&&--this.bufferBytesSize},$.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},$.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},$.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},$.prototype.sizeInBytes=function(e){return~-encodeURI(e).split(/%..|./).length},$.prototype.flushPeriodically=function(){var e=this;setTimeout(function(){e.flush(),e.flushPeriodically()},this.flushTimeout)},$.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(window.addEventListener("beforeunload",X(function(){e.beforeFlushOnUnloadHandlers.forEach(function(e){return e()})})),document.addEventListener("visibilitychange",X(function(){"hidden"===document.visibilityState&&e.flush()})),window.addEventListener("beforeunload",X(function(){return e.flush()})))},$);function $(e,t,n,r,o,i){this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=o,this.contextProvider=i,this.beforeFlushOnUnloadHandlers=[],this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}function q(e,t){this.endpointUrl=e,this.bytesLimit=t}(t=j=j||{}).info="info",t.error="error";var J={maxMessagesPerPage:0,sentMessageCount:0};function X(e){return function(){try{return e.apply(this,arguments)}catch(e){Z(e);try{Y(d({},function(e){if(e instanceof Error){var t=I(e);return{error:{kind:t.name,stack:le(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+h(e)}}(e),{status:j.error}))}catch(e){Z(e)}}}}function V(e){Y({message:e,status:j.info})}function Y(e){J.batch&&J.sentMessageCount<J.maxMessagesPerPage&&(J.sentMessageCount+=1,J.batch.add(e))}function Q(e){J.debugMode=e}function Z(e){J.debugMode&&console.warn("[INTERNAL ERROR]",e)}var ee,te,ne,re,oe,ie=(ae.prototype.subscribe=function(e){this.observers.push(e)},ae.prototype.notify=function(t){this.observers.forEach(function(e){return e(t)})},ae);function ae(){this.observers=[]}function se(){return te||(function(r){var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=X(function(e,t){return this._datadog_xhr={method:e,url:t},n.apply(this,arguments)});var o=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(e){var t=this,n=performance.now();return this.addEventListener("loadend",X(function(){r.notify({startTime:n,duration:performance.now()-n,method:t._datadog_xhr.method,response:t.response,status:t.status,traceId:ce(),type:ee.XHR,url:ue(t._datadog_xhr.url)})})),o.apply(this,arguments)}}(te=new ie),u=te,window.fetch&&(r=window.fetch,window.fetch=X(function(i,e){function t(o){return c(n,void 0,void 0,function(){var t,n,r;return f(this,function(e){switch(e.label){case 0:return t=performance.now()-s,n=ue("object"==typeof i&&i.url||i),"stack"in o||o instanceof Error?(r=I(o),u.notify({duration:t,method:a,startTime:s,url:n,response:le(r),status:0,traceId:ce(),type:ee.FETCH}),[3,3]):[3,1];case 1:return"status"in o?[4,o.clone().text()]:[3,3];case 2:r=e.sent(),u.notify({duration:t,method:a,startTime:s,url:n,response:r,responseType:o.type,status:o.status,traceId:ce(),type:ee.FETCH}),e.label=3;case 3:return[2]}})})}var n=this,a=e&&e.method||"object"==typeof i&&i.method||"GET",s=performance.now(),e=r.call(this,i,e);return e.then(X(t),X(t)),e}))),te;var u,r}function ue(e){return new URL(e,window.location.origin).href}function ce(){return"ddtrace"in window&&window.ddtrace.tracer.scope().active()?window.ddtrace.tracer.scope().active().context().toTraceId():void 0}function fe(e){var o,r,i,a,t,n,s,u=new ie;return e.isCollectingError&&(i=e,a=u,se().subscribe(function(e){var t,n;(0===e.status&&"opaque"!==e.responseType||500<=e.status)&&a.notify({context:{error:{origin:ne.NETWORK,stack:(t=e.response,n=i,(t&&t.length>n.requestErrorResponseLengthLimit?t.substring(0,n.requestErrorResponseLengthLimit)+"...":t)||"Failed to load")},http:{method:e.method,status_code:e.status,url:e.url}},message:(t=e.type,(ee.XHR===t?"XHR":"Fetch")+" error "+e.method+" "+e.url)})}),r=u,re=console.error,console.error=X(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];re.apply(console,[e].concat(t)),r.notify({context:{error:{origin:ne.CONSOLE}},message:["console error:",e].concat(t).map(de).join(" ")})}),o=u,oe=function(e,t,n){var r;o.notify((n=n,n=void 0!==(e=e).message||n instanceof Error?(r=e.message||"Empty message",le(e)):(r="Uncaught "+h(n),"No stack, consider using an instance of Error"),{message:r,context:{error:{stack:n,kind:e.name,origin:ne.SOURCE}}}))},U.subscribe(oe)),t=e,u=u,n=0,s=new ie,u.subscribe(function(e){n<t.maxErrorsByMinute?(n+=1,s.notify(e)):n===t.maxErrorsByMinute&&(n+=1,s.notify({context:{error:{origin:ne.AGENT}},message:"Reached max number of errors by minute: "+t.maxErrorsByMinute}))}),setInterval(function(){return n=0},6e4),s}function de(e){return"string"==typeof e?e:e instanceof Error?le(I(e)):h(e,void 0,2)}function le(e){var i=(e.name||"Error")+": "+e.message;return e.stack.forEach(function(e){var t="?"===e.func?"<anonymous>":e.func,n=e.args&&0<e.args.length?"("+e.args.join(", ")+")":"",r=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";i+="\n  at "+t+n+" @ "+e.url+r+o}),i}function pe(n){function r(){t=!0,window.clearTimeout(e),e=window.setTimeout(function(){t=!1},1e3)}var e,o,t=!1;return{get:function(){return t||(o=he(n),r()),o},set:function(e,t){me(n,e,t),o=e,r()}}}function me(e,t,n){var r=new Date;r.setTime(r.getTime()+n);r="expires="+r.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}function he(e){e=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return e?e.pop():void 0}function Ee(e){console.warn("'"+e+"' not yet available, please call '.init()' first.")}n("EEGd"),(n=ee=ee||{}).FETCH="fetch",n.XHR="xhr",(n=ne=ne||{}).AGENT="agent",n.CONSOLE="console",n.NETWORK="network",n.SOURCE="source",n.LOGGER="logger";var ge=[];var ve,ye={datacenter:"us",env:"production",version:"1.2.7"};(n=ve=ve||{})[n.ERROR_COLLECTED=0]="ERROR_COLLECTED",n[n.PERFORMANCE_ENTRY_COLLECTED=1]="PERFORMANCE_ENTRY_COLLECTED",n[n.USER_ACTION_COLLECTED=2]="USER_ACTION_COLLECTED",n[n.REQUEST_COLLECTED=3]="REQUEST_COLLECTED",n[n.SESSION_RENEWED=4]="SESSION_RENEWED",n[n.RESOURCE_ADDED_TO_BATCH=5]="RESOURCE_ADDED_TO_BATCH";var be=(Re.prototype.notify=function(e,t){e=this.callbacks[e];e&&e.forEach(function(e){return e(t)})},Re.prototype.subscribe=function(e,t){var n=this.callbacks[e];n?n.push(t):this.callbacks[e]=[t]},Re);function Re(){this.callbacks={}}function Te(){return void 0!==window.performance&&"getEntries"in performance}function Ce(e,t,n){function r(e){t.notify(ve.PERFORMANCE_ENTRY_COLLECTED,e)}e.isTrackedWithResource()&&n.filter(function(e){return"resource"===e.entryType}).forEach(r),n.filter(function(e){return"navigation"===e.entryType}).filter(function(e){return 0<e.loadEventEnd}).forEach(r),n.filter(function(e){return"paint"===e.entryType}).forEach(r),n.filter(function(e){return"longtask"===e.entryType}).forEach(r)}function we(e){return e.startTime+e.duration}var Se,Oe,_e,xe,Le,ke,Ue,Ie=[[g.XHR,function(e){return"xmlhttprequest"===e}],[g.FETCH,function(e){return"fetch"===e}],[g.BEACON,function(e){return"beacon"===e}],[g.CSS,function(e,t){return null!==t.match(/\.css$/i)}],[g.JS,function(e,t){return null!==t.match(/\.js$/i)}],[g.IMAGE,function(e,t){return R(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg)$/i)}],[g.FONT,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[g.MEDIA,function(e,t){return R(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function Me(e){if(e&&Ne(e))return{connect:{duration:y(e.connectEnd-e.connectStart),start:y(e.connectStart)},dns:{duration:y(e.domainLookupEnd-e.domainLookupStart),start:y(e.domainLookupStart)},download:{duration:y(e.responseEnd-e.responseStart),start:y(e.responseStart)},firstByte:{duration:y(e.responseStart-e.requestStart),start:y(e.requestStart)},redirect:0<e.redirectStart?{duration:y(e.redirectEnd-e.redirectStart),start:y(e.redirectStart)}:void 0,ssl:0<e.secureConnectionStart?{duration:y(e.connectEnd-e.secureConnectionStart),start:y(e.secureConnectionStart)}:void 0}}function De(e){return e&&Ne(e)?e.decodedBodySize:void 0}function Ne(e){return 0<e.responseStart}function Ae(e,t){return e&&!(r(e=e,(t=t).logsEndpoint)||r(e,t.rumEndpoint)||r(e,t.traceEndpoint)||t.internalMonitoringEndpoint&&r(e,t.internalMonitoringEndpoint))}function Be(e,t,n,r,o){var i,a,s,u,c=l(X(function(){return Fe(r)}),3e3,{leading:!1});He(e,n,r),function(e,t,n){var r=history.pushState;history.pushState=X(function(){r.apply(this,arguments),ze(e,t,n)});var o=history.replaceState;history.replaceState=X(function(){o.apply(this,arguments),ze(e,t,n)}),window.addEventListener("popstate",function(){ze(e,t,n)})}(e,n,r),u=c,(c=t).subscribe(ve.PERFORMANCE_ENTRY_COLLECTED,function(e){var t;"navigation"===e.entryType?(864e5<(t=e).loadEventEnd&&V("Got an abnormal load event in a PerformanceNavigationTiming entry!\nSession Id: "+Se.sessionId+"\nView Id: "+Se.id+"\nView start date: "+Oe+"\nDocument Version: "+xe+"\nEntry: "+JSON.stringify(t)+"\nPrevious measures: "+JSON.stringify(Le)),Le=v({},Le,{domComplete:y(t.domComplete),domContentLoaded:y(t.domContentLoadedEventEnd),domInteractive:y(t.domInteractive),loadEventEnd:y(t.loadEventEnd)}),u()):"paint"===e.entryType&&"first-contentful-paint"===e.name&&(Le=v({},Le,{firstContentfulPaint:y(e.startTime)}),u())}),c.subscribe(ve.ERROR_COLLECTED,function(){Le.errorCount+=1,u()}),c.subscribe(ve.USER_ACTION_COLLECTED,function(){Le.userActionCount+=1,u()}),c.subscribe(ve.PERFORMANCE_ENTRY_COLLECTED,function(e){"longtask"===e.entryType&&(Le.longTaskCount+=1,u())}),c.subscribe(ve.RESOURCE_ADDED_TO_BATCH,function(){Le.resourceCount+=1,u()}),i=e,a=n,s=r,t.subscribe(ve.SESSION_RENEWED,function(){Fe(s),He(i,a,s)}),o(function(){return Fe(r)})}function He(e,t,n){Se={id:p(),location:v({},e),sessionId:t.getId()},Oe=(new Date).getTime(),_e=performance.now(),xe=1,Le={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},Pe(n)}function Fe(e){xe+=1,Pe(e)}function Pe(e){e({date:Oe,duration:y(performance.now()-_e),evt:{category:ke.VIEW},rum:{documentVersion:xe},view:{measures:Le}},Se.id)}function ze(e,t,n){Se.location.pathname!==e.pathname&&(Fe(n),He(e,t,n))}function je(e,n,t,r){var o,i,a,s,u,c,f,d,l,p,m,h,E={},o=(i=r,a=new G(new K((o=t).rumEndpoint,o.batchBytesLimit),o.maxBatchSize,o.batchBytesLimit,o.maxMessageSize,o.flushTimeout,function(){return W()(b({applicationId:e,date:(new Date).getTime(),sessionId:Se.sessionId,view:{id:Se.id,referrer:document.referrer,url:Se.location.href}}),E)}),{addRumEvent:function(e){i.isTracked()&&a.add(b(e))},addUserEvent:function(e){i.isTracked()&&a.add(e)},beforeFlushOnUnload:function(e){return a.beforeFlushOnUnload(e)},upsertRumEvent:function(e,t){i.isTracked()&&a.upsert(b(e),t)}});return Be(window.location,n,r,o.upsertRumEvent,o.beforeFlushOnUnload),h=o.addRumEvent,n.subscribe(ve.ERROR_COLLECTED,function(e){var t=e.message,e=e.context;h(v({message:t,evt:{category:ke.ERROR}},e))}),d=t,p=r,m=o.addRumEvent,(l=n).subscribe(ve.REQUEST_COLLECTED,function(e){var t,n;p.isTrackedWithResource()&&Ae(e.url,d)&&(t=function(r){if(performance&&"getEntriesByName"in performance){var e,t=performance.getEntriesByName(r.url,"resource").filter(function(e){return t=r.startTime,n=we(r),e.startTime>=t&&we(e)<=n;var t,n});return 1===t.length?t[0]:2===t.length&&we((e=t)[0])<=e[1].startTime?t[1]:void 0}}(e),n=e.type===ee.XHR?g.XHR:g.FETCH,m({duration:y((t||e).duration),evt:{category:ke.RESOURCE},http:{method:e.method,performance:Me(t),statusCode:e.status,url:e.url},network:{bytesWritten:De(t)},resource:{kind:n},traceId:e.traceId}),l.notify(ve.RESOURCE_ADDED_TO_BATCH))}),u=t,f=o.addRumEvent,(c=n).subscribe(ve.PERFORMANCE_ENTRY_COLLECTED,function(e){switch(e.entryType){case"resource":n=f,r=c,Ae((t=e).name,u)&&(o=function(e){var t;try{t=new URL(e.name)}catch(t){V('Failed to construct URL for "'+e.name+'"')}if(void 0!==t)for(var n=t.pathname,r=0,o=Ie;r<o.length;r++){var i=o[r],a=i[0];if((0,i[1])(e.initiatorType,n))return a}return g.OTHER}(t),R([g.XHR,g.FETCH],o)||(n({duration:y(t.duration),evt:{category:ke.RESOURCE},http:{performance:Me(t),url:t.name},network:{bytesWritten:De(t)},resource:{kind:o}}),r.notify(ve.RESOURCE_ADDED_TO_BATCH)));break;case"longtask":f({duration:y(e.duration),evt:{category:ke.LONG_TASK}})}var t,n,r,o}),s=o.addUserEvent,n.subscribe(ve.USER_ACTION_COLLECTED,function(e){var t=e.name,e=e.context;s(v({},e,{evt:{name:t,category:ke.USER_ACTION}}))}),{addRumGlobalContext:X(function(e,t){E[e]=t}),addUserAction:X(function(e,t){n.notify(ve.USER_ACTION_COLLECTED,{name:e,context:t})}),getInternalContext:X(function(){return{application_id:e,session_id:Se.sessionId,view:{id:Se.id}}}),setRumGlobalContext:X(function(e){E=e})}}function We(e,t){var n,r,o,i,a,s,u,c,f=(r=function(t){return function(e){e=t===Ue.NOT_TRACKED||t===Ue.TRACKED_WITH_RESOURCES||t===Ue.TRACKED_WITHOUT_RESOURCES?t:m(e.sampleRate)?m(e.resourceSampleRate)?Ue.TRACKED_WITH_RESOURCES:Ue.TRACKED_WITHOUT_RESOURCES:Ue.NOT_TRACKED;return{isTracked:Ke(e),type:e}}(e)},a=pe("_dd"),s=pe(n="_dd_r"),u=new ie,c=a.get(),(n=l(function(){var e=r(s.get()),t=e.type,e=e.isTracked;s.set(t,9e5),e&&(a.get()?a.set(a.get(),9e5):a.set(p(),9e5),c!==a.get()&&(c=a.get(),u.notify()))},1e3))(),o=n,i={capture:!0,passive:!0},["click","touchstart","keydown","scroll"].forEach(function(e){document.addEventListener(e,o,i),ge.push(function(){return document.removeEventListener(e,o,i)})}),{getId:function(){return a.get()},getType:function(){return s.get()},renewObservable:u});return f.renewObservable.subscribe(function(){t.notify(ve.SESSION_RENEWED)}),{getId:f.getId,isTracked:function(){return Ke(f.getType())},isTrackedWithResource:function(){return f.getType()===Ue.TRACKED_WITH_RESOURCES}}}function Ke(e){return e===Ue.TRACKED_WITH_RESOURCES||e===Ue.TRACKED_WITHOUT_RESOURCES}(n=ke=ke||{}).USER_ACTION="user_action",n.ERROR="error",n.LONG_TASK="long_task",n.VIEW="view",n.RESOURCE="resource",(n=Ue=Ue||{}).NOT_TRACKED="0",n.TRACKED_WITH_RESOURCES="1",n.TRACKED_WITHOUT_RESOURCES="2";var Ge=(n=d({},{init:function(e){Ee("core.init")},addRumGlobalContext:function(e,t){Ee("addRumGlobalContext")},setRumGlobalContext:function(e){Ee("setRumGlobalContext")},addUserAction:function(e,t){Ee("addUserAction")},getInternalContext:function(){Ee("getInternalContext")}}),Object.defineProperty(n,"_setDebug",{get:function(){return Q},enumerable:!1}),n),$e=!1;Ge.init=X(function(e){var t,n,r,o,i,a,s,u,c;function f(){var e={domComplete:T(performance.timing.domComplete),domContentLoadedEventEnd:T(performance.timing.domContentLoadedEventEnd),domInteractive:T(performance.timing.domInteractive),entryType:"navigation",loadEventEnd:T(performance.timing.loadEventEnd)};i(e)}(function(){if(void 0!==document.cookie&&null!==document.cookie)try{return me("dd_rum_test","test",1e3),"test"===he("dd_rum_test")}catch(e){return console.error(e),0}}()?"prerender"!==document.visibilityState&&"file:"!==window.location.protocol||(console.error("Execution is not allowed in the current context."),0):(console.error("Cookies are not authorized, we will not send any data."),0))&&(c=e,$e?(console.error("DD_RUM is already initialized."),0):c&&(c.clientToken||c.publicApiKey)?c.applicationId?void 0===c.sampleRate||E(c.sampleRate)?void 0===c.resourceSampleRate||E(c.resourceSampleRate)||(console.error("Resource Sample Rate should be a number between 0 and 100"),0):(console.error("Sample Rate should be a number between 0 and 100"),0):(console.error("Application ID is not configured, no RUM data will be collected."),0):(console.error("Client Token is not configured, we will not send any data."),0))&&(e.publicApiKey&&(e.clientToken=e.publicApiKey),t=v({},e,{isCollectingError:!0}),n=new be,u=ye,(c=s=(s={clientToken:(c=s=t).clientToken,datacenter:c.datacenter||u.datacenter,env:u.env,version:u.version},u=d({logsEndpoint:w("browser",s),rumEndpoint:w("rum",s),traceEndpoint:w("public-trace",s)},C),c.internalMonitoringApiKey&&(u.internalMonitoringEndpoint=w("browser",s,"browser-agent-internal-monitoring")),"isCollectingError"in c&&(u.isCollectingError=!!c.isCollectingError),"sampleRate"in c&&(u.sampleRate=c.sampleRate),"resourceSampleRate"in c&&(u.resourceSampleRate=c.resourceSampleRate),"e2e-test"===s.env&&(void 0!==c.internalMonitoringEndpoint&&(u.internalMonitoringEndpoint=c.internalMonitoringEndpoint),void 0!==c.logsEndpoint&&(u.logsEndpoint=c.logsEndpoint),void 0!==c.rumEndpoint&&(u.rumEndpoint=c.rumEndpoint)),u)).internalMonitoringEndpoint&&(u=new G(new K(c.internalMonitoringEndpoint,c.batchBytesLimit),c.maxBatchSize,c.batchBytesLimit,c.maxMessageSize,c.flushTimeout,function(){return{date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}}}),S()(J,{batch:u,maxMessagesPerPage:c.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})),u=(e={configuration:s,errorObservable:fe(s)}).errorObservable,s=We(c=e.configuration,n),e=se(),r=n,o=s,Te()&&Ce(o,r,performance.getEntries()),window.PerformanceObserver&&(new PerformanceObserver(X(function(e){return Ce(o,r,e.getEntries())})).observe({entryTypes:["resource","navigation","paint","longtask"]}),Te()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()})),window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("navigation")||(i=function(e){Ce(o,r,[e])},"complete"===document.readyState?f():(a=function(){window.removeEventListener("load",a),setTimeout(X(f))},window.addEventListener("load",a))),u.subscribe(function(e){return n.notify(ve.ERROR_COLLECTED,e)}),e.subscribe(function(e){return n.notify(ve.REQUEST_COLLECTED,e)}),s=je(t.applicationId,n,c,s),S()(Ge,s),$e=!0)}),window.DD_RUM=Ge},"9lU+":function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},UzdM:function(e,t){e.exports=function(e){return e}},oF1i:function(e,t,n){var o=n("zTfm"),i=n("/Qyy"),a=n("UzdM");e.exports=function(r){return function(e,t,n){return n&&"number"!=typeof n&&i(e,t,n)&&(t=n=void 0),e=a(e),void 0===t?(t=e,e=0):t=a(t),n=void 0===n?e<t?1:-1:a(n),o(e,t,n,r)}}},"q8Y+":function(e,t,n){n=n("oF1i")();e.exports=n},zTfm:function(e,t){var s=Math.ceil,u=Math.max;e.exports=function(e,t,n,r){for(var o=-1,i=u(s((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}}}]);

var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NativeBase=function(){function t(){return this}return t.prototype.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},t.prototype.makeNativeElemCli=function(t){var e,i,n;if(t&&void 0!==t.imp&&void 0!==t.cl&&0<t.cl.length){for(var a=0,o=Object.keys(t.imp);a<o.length;a++){var r=o[a],d=document.createElement("img");d.style.height="0px",d.style.display="none",d.src=t.imp[r],document.body.insertBefore(d,document.body.firstChild)}n=t.cl}else t&&void 0!==t.ext_h&&void 0!==t.ext_cl_js&&void 0!==t.ext_imp_js&&((e=document.createElement("iframe")).style.height="0px",e.style.display="none",document.body.insertBefore(e,document.body.firstChild),(i=e.contentWindow.document).open(),i.write("<html><body><script>window.addEventListener('message',function(ev){eval(ev.data)},false)<\/script>"),i.write(t.ext_h),i.write("<script>"+t.ext_imp_js+"<\/script></body></html>"),i.close(),n="javascript:"+(i="AdstirNT"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()))+"()",window[i]=function(){e.contentWindow.postMessage(t.ext_cl_js,"*")});return n},t.prototype.replaceTemplateText=function(t,e,i){var n,a,o=(t=encodeURIComponent(t)).match(/%25%25AD_UNIT_LOOP_START_([0-9]*)%25%25([\s\S]|.*?)%25%25AD_UNIT_LOOP_END%25%25/);o&&o[1]&&o[2]?(n=o[1],a=o[2],this.loopCnt=i.length>Number(n)?Number(n):i.length):(a=t,this.loopCnt=1);for(var r="",d=0;d<this.loopCnt;d++){var l=i[d];l.clickUrl=this.makeNativeElemCli(l);var s=decodeURIComponent(a);s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace(/%%OPTOUT_ICON_RIGHT%%/g,e.replace(/LEFT_RIGHT_CSS/g,"left: auto; right: 0px; direction: ltr;text-align: right;").replace(/LEFT_RIGHT/g,"right"))).replace(/%%OPTOUT_ICON_LEFT%%/g,e.replace(/LEFT_RIGHT_CSS/g,"right: auto; left: 0px; direction: rtl;text-align: left;").replace(/LEFT_RIGHT/g,"left"))).replace(/%%ICON%%/g,void 0!==l.icon?""+l.icon:"")).replace(/%%IMAGE%%/g,void 0!==l.image?""+l.image:"")).replace(/%%TITLE%%/g,void 0!==l.title?""+l.title:"")).replace(/%%DESCRIPTION%%/g,void 0!==l.description?""+l.description:"")).replace(/%%CTA%%/g,void 0!==l.cta?""+l.cta:"")).replace(/%%CLICK_URL%%/g,void 0!==l.clickUrl?""+l.clickUrl:"")).replace(/%%RATING%%/g,void 0!==l.rating?""+l.rating:"")).replace(/%%LANDING_PAGE_URL%%/g,void 0!==l.landingPageUrl?""+l.landingPageUrl:"")).replace(/%%ADVERTISER%%/g,void 0!==l.advertiser?""+l.advertiser:"")).replace(/%%OPTOUT_URL%%/g,l.optoutUrl),r+=s=encodeURIComponent(s)}return t=o&&o[1]&&o[2]?t.replace(o[0],r):r,t=decodeURIComponent(t)},t}(),Inview=function(){function t(){return this}return t.checkElementInView=function(o,t,r){var d="data-adstir-inview-beacon-exec",l=t,t=function(){if(window.top!==window.self)if("native"===r.type){if(window.self.document.body.scrollHeight>2*o.offsetHeight||window.self.document.body.scrollWidth>10*o.offsetWidth||window.self.innerHeight<.95*o.offsetHeight||window.self.innerWidth<.8*o.offsetWidth)return!1;if(1.5*window.self.innerHeight<window.self.document.body.scrollHeight||1.5*window.self.innerWidth<window.self.document.body.scrollWidth)return;if(window.self.innerWidth>1.1*window.screen.width)return}else if("interstitial"===r.type||"interstitialpc"===r.type){if(window.self.innerHeight<.95*o.offsetHeight||window.self.innerWidth<.8*o.offsetWidth)return!1}else{var t=o.getBoundingClientRect();if(window.self.innerHeight>1.05*t.height||window.self.innerWidth>5*t.width||window.self.document.body.scrollHeight>1.05*t.height||window.self.document.body.scrollWidth>5*t.width||window.self.innerHeight<.95*t.height||window.self.innerWidth<.8*t.width)return!1;if(1.5*window.self.innerWidth<window.self.document.body.scrollWidth)return;if(window.self.innerWidth>1.1*window.screen.width)return}if(!o.hasAttribute(d)){o.setAttribute(d,"1"),r.debug&&(window.top!==window.self&&"interstitial"!==r.type&&"interstitialpc"!==r.type?(window.self.document.body.style.backgroundColor="green",window.self.document.body.style.border="1px solid blue"):(o.style.backgroundColor="green",o.style.border="1px solid blue"));for(var e=0,i=Object.keys(l);e<i.length;e++){var n=i[e],a=document.createElement("div");a.setAttribute("style","width:0px !important"),a.setAttribute("style","height:0px !important"),a.style.background="url("+l[n]+")",document.body.insertBefore(a,document.body.firstChild)}return!0}};window.top===window.self?this.isInView(o,0,t):this.isInViewIframe(t)},t.isInViewIframe=function(i){var n,a,o,t,e,r,d,l=navigator.userAgent;void 0!==window.IntersectionObserver?((a=document.createElement("div")).setAttribute("style","display:block;width:1px;height:1px;position:absolute;left:50%;top:50%;border:none;z-index:1000000;background-color:#FFF1"),document.body.appendChild(a),new window.IntersectionObserver(function(t,e){(n=.5<=t[0].intersectionRatio)?o=setTimeout(function(){n&&i()&&e.unobserve(a)},1e3):clearTimeout(o)},{threshold:.5}).observe(a)):(/iPhone OS (9|1[0-9])/.test(l)||/iPad; CPU OS (9|1[0-9]) /.test(l))&&/Safari\//.test(l)&&((t=document.createElement("iframe")).setAttribute("style","width:1px;height:1px;position:absolute;left:50%;top:50%;border:none;z-index:10000000;background-color:#FFF1;"),document.body.appendChild(t),t.contentWindow.document.open(),t.contentWindow.document.write('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><style>html, body { margin:0; padding:0; }</style></head><body><script>window.inView = false;var x = 0, _x = 0, y = 0, _y = 0;setInterval(function() {window.inView = (x > _x + 2 && y > _y + 2);_x = x;_y = y;}, 100);(function loop(){requestAnimationFrame( loop );x += 1;})();setInterval(function() {y += 1}, 10);<\/script></body></html>'),t.contentWindow.document.close(),e=0,d=setInterval(function(){void 0!==(n=t.contentWindow.inView)&&r===n?e++:e=0,r=n,4<=e&&n&&(i()?clearInterval(d):e=0)},200))},t.isInView=function(t,e,i){var n=this;e=e||0;function a(t,e,i){return e<t?t:i<e?i:e}var o=this.getVisualViewportOffset(),r=this.getVisualElementOffset(t);.5<=(a(r.top,o.bottom,r.bottom)-a(r.top,o.top,r.bottom))*(a(r.left,o.right,r.right)-a(r.left,o.left,r.right))/(r.height*r.width)&&(1===e?i():setTimeout(function(){n.isInView(t,1,i)},500))},t.getVisualViewportOffset=function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,e=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft;return{bottom:t+window.innerHeight,height:window.innerHeight,left:e,right:e+window.innerWidth,top:t,width:window.innerWidth}},t.getVisualElementOffset=function(t){for(var e=document.documentElement.offsetTop+t.offsetTop,i=document.documentElement.offsetLeft+t.offsetLeft,n=t.offsetParent;n&&"body"!==n.tagName.toLowerCase()&&"html"!==n.tagName.toLowerCase();)e+=n.offsetTop,i+=n.offsetLeft,n=n.offsetParent;return{bottom:e+t.offsetHeight,height:t.offsetHeight,left:i,right:i+t.offsetWidth,top:e,width:t.offsetWidth}},t}(),MakeNativeElem=function(n){function t(t,e,i){var d=n.call(this)||this;return d.init=function(){return d.inviewClassName="adstir_inview_"+Math.floor(1e8*Math.random()).toString()+"A"+Math.floor(1e8*Math.random()).toString(),d.global=window,d.adtag.crtv instanceof Array||(d.adtag.crtv=[d.adtag.crtv]),d},d.makeElem=function(){if(d.makeNativeElemCallback(d.adtag,d.options),"native_html"===d.adtag.adtype){var t="adstir_native_html_callback_"+Math.round(1e10*Math.random());d.adtag.html=d.adtag.html.replace(/<<<NATIVE_HTML_CALLBACK>>>/g,t),d.options.native_html&&(d.adtag.html=d.adtag.html.replace(/<<<NATIVE_HTML_TEMPLATE>>>/g,'decodeURIComponent("'+encodeURIComponent(d.options.native_html)+'")')),window[t]=function(t){t&&(t.optoutUrl=null!=t.optoutUrl&&""!==t.optoutUrl?""+t.optoutUrl:"https://ad-stir.com/sp/optout.html",this.options.native_callback({inviewDetectionIdentifier:this.inviewClassName,native_callbacks:t=[t],record_viewable:null}))},document.write(d.adtag.html)}else if(d.adtag.crtv){for(var e=[],i=0,n=Object.keys(d.adtag.crtv);i<n.length;i++){var a=n[i];d.adtag.crtv[a].optout=null!=d.adtag.crtv[a].optout&&""!==d.adtag.crtv[a].optout?""+d.adtag.crtv[a].optout:"https://ad-stir.com/sp/optout.html",e.push({advertiser:d.adtag.crtv[a].adv,cl:d.adtag.crtv[a].cl,cta:d.adtag.crtv[a].cta,description:d.adtag.crtv[a].desc,ext_cl_js:d.adtag.crtv[a].ext_cl_js,ext_h:d.adtag.crtv[a].ext_h,ext_imp_js:d.adtag.crtv[a].ext_imp_js,icon:d.adtag.crtv[a].icon,image:d.adtag.crtv[a].img,imp:d.adtag.crtv[a].imp,ivw:d.adtag.crtv[a].ivw,jsv:d.adtag.crtv[a].jsv,landingPageUrl:d.adtag.crtv[a].lp,optoutUrl:d.adtag.crtv[a].optout,rating:d.adtag.crtv[a].rate,title:d.adtag.crtv[a].title})}d.options.native_callback({inviewDetectionIdentifier:d.inviewClassName,native_callbacks:e,record_viewable:function(){!function(){for(var t=0,e=Object.keys(d.adtag.crtv);t<e.length;t++)for(var i=e[t],n=0,a=Object.keys(d.adtag.crtv[i].ivw);n<a.length;n++){var o=a[n],r=document.createElement("img");r.style.height="0px",r.style.display="none",r.src=d.adtag.crtv[i].ivw[o],document.body.insertBefore(r,document.body.firstChild)}}()}})}return d},d.adtag=t,d.options=e,d.inviewRecursiveCheckFlag=i,d}return __extends(t,n),t.prototype.makeNativeElemCallback=function(t,c){var p=this;void 0!==c.native_callback||c.async||(c.native_callback=function(t){for(var e=c.native_html,e=p.replaceTemplateText(e,'<div style="display: block; line-height: 1; position: relative; margin: 0; padding: 0;">\n<div style="display: block; line-height: 1; position: absolute; margin: 0; padding: 0; z-index: 1; LEFT_RIGHT_CSS ">\n<a style="display:none;line-height:1;margin:0;padding:0;position:static;width:16px;overflow:hidden;-webkit-transition:width 0.5s linear 0s;transition:width 0.5s linear 0s;direction:inherit;text-align:inherit;" href="%%OPTOUT_URL%%"><img style="height:16px;width:85px;position:static;" src="https://js.ad-stir.com/optout/i2LEFT_RIGHT.png"></a>\n<img onclick="(function(tg){var wat=tg.parentNode.getElementsByTagName(\'a\')[0];wat.style.display=\'block\';tg.style.display=\'none\';setTimeout(function(){wat.style.width=\'85px\';},100);setTimeout(function(){wat.style.width=\'16px\';},6000);setTimeout(function(){tg.style.display=\'inline\';wat.style.display=\'none\';},6550);})(this);" style="height:16px;width:16px;margin:0;padding:0;position:static;" src="https://js.ad-stir.com/optout/i1.png">\n</div>\n</div>\n',t.native_callbacks),i=0;i<p.loopCnt;i++){var n=t.native_callbacks[i];p.makeNativeElemInview(t.inviewDetectionIdentifier,i,n,c)}if(-1!==e.indexOf("%%INVIEW_DETECTION_IDENTIFIER%%"))e=e.replace(/%%INVIEW_DETECTION_IDENTIFIER%%/g,t.inviewDetectionIdentifier),document.write(e);else{p.inviewRecursiveCheckFlag=!0;var a=document.createElement("div");a.innerHTML=e;for(var o=a.children,r=0,d=0,l=Object.keys(o);d<l.length;d++){var s=o[l[d]];void 0!==s.nodeName&&"STYLE"!==s.nodeName&&(s.className=s.className+" "+t.inviewDetectionIdentifier,s.setAttribute("data-adstir-inview-item-index",String(r)),r++)}document.write(a.innerHTML)}})},t.prototype.makeNativeElemInview=function(l,i,t,n){var s,a,c=this,o=t;o&&o.ivw&&"object"==typeof o.ivw&&0<o.ivw.length&&!n.use_sdk_ivw&&(s=function(t){var e=t,i=t.children;if(void 0!==i)for(var n=0,a=Object.keys(i);n<a.length;n++){var o=a[n],o=s(i[o]);o.offsetHeight*o.offsetWidth>e.offsetHeight*e.offsetWidth&&(e=o)}return e},a=function(t){var e;t<20&&(t++,void 0!==(e=function(t){var e=document.getElementsByClassName(l);if(0!==e.length){for(var i,n=0,a=Object.keys(e);n<a.length;n++){var o,r=a[n],d=c.inviewRecursiveCheckFlag?s(e[r]):e[r];void 0!==d.nodeName&&(void 0!==(o=d.getAttribute("data-adstir-inview-item-index"))&&t===Number(o)&&(i=e[r]).offsetHeight*i.offsetWidth<d.offsetHeight*d.offsetWidth&&(i=d))}return i}}(i))&&e.offsetHeight*e.offsetWidth!=0?(Inview.checkElementInView(e,o.ivw,n),window.top===window.self&&c.addEvent(c.global,"scroll",function(){Inview.checkElementInView(e,o.ivw,n)})):setTimeout(function(){a(t)},500))},setTimeout(function(){a(0)},500))},t}(NativeBase),MakeNativeBannerElem=function(i){function t(t,e){var o=i.call(this)||this;return o.init=function(){window;return o.ifid="AdstirIF"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),o.adtag.crtv instanceof Array||(o.adtag.crtv=[o.adtag.crtv]),o.createNativeHtml=o.makeNativeBannerElemCallback(),o},o.makeElem=function(){for(var t,e=[],i=0,n=Object.keys(o.adtag.crtv);i<n.length;i++){var a=n[i];o.adtag.crtv[a].optout=null!=o.adtag.crtv[a].optout&&""!==o.adtag.crtv[a].optout?""+o.adtag.crtv[a].optout:"https://ad-stir.com/sp/optout.html",e.push({advertiser:o.adtag.crtv[a].adv,cl:o.adtag.crtv[a].cl,cta:o.adtag.crtv[a].cta,description:o.adtag.crtv[a].desc,ext_cl_js:o.adtag.crtv[a].ext_cl_js,ext_h:o.adtag.crtv[a].ext_h,ext_imp_js:o.adtag.crtv[a].ext_imp_js,icon:o.adtag.crtv[a].icon,image:o.adtag.crtv[a].img,imp:o.adtag.crtv[a].imp,ivw:o.adtag.crtv[a].ivw,jsv:o.adtag.crtv[a].jsv,landingPageUrl:o.adtag.crtv[a].lp,optoutUrl:o.adtag.crtv[a].optout,rating:o.adtag.crtv[a].rate,title:o.adtag.crtv[a].title})}return o.adtag.crtv?o.adtag.html=o.createNativeHtml(e):o.adtag.html&&(t="adstir_native_html_callback_"+Math.round(1e10*Math.random()),o.adtag.html=o.adtag.html.replace(/<<<NATIVE_HTML_CALLBACK>>>/g,t),o.options.native_html&&(o.options.native_html="<style>body { margin: 0; }</style>"+o.options.native_html,o.adtag.html=o.adtag.html.replace(/<<<NATIVE_HTML_TEMPLATE>>>/g,'decodeURIComponent("'+encodeURIComponent(o.options.native_html)+'")'),o.adtag.html=o.adtag.html.replace(/<<<NATIVE_HTML_TEMPLATE_UNESC>>>/g,o.options.native_html)),o.adtag.inview&&"object"==typeof o.adtag.inview&&0<o.adtag.inview.length&&o.makeInview(o.adtag.inview)),o.adtag.html=o.adtag.nntmpl_disp_w&&o.adtag.nntmpl_disp_h?'<iframe id="'+o.ifid+'" allowtransparency="true" scrolling="no" style="height:'+o.adtag.nntmpl_disp_h+";width:"+o.adtag.nntmpl_disp_w+';border:none;vertical-align:bottom;" frameborder="0"></iframe><script>(function(){var doc = document.getElementById("'+o.ifid+'").contentWindow.document;doc.open();doc.write(decodeURIComponent('+JSON.stringify(encodeURIComponent(o.adtag.html))+"));doc.close();})();<\/script>":'<iframe id="'+o.ifid+'" allowtransparency="true" scrolling="no" style="height:'+o.adtag.h+"px;width:"+o.adtag.w+'px;border:none;vertical-align:bottom;" frameborder="0"></iframe><script>(function(){var doc = document.getElementById("'+o.ifid+'").contentWindow.document;doc.open();doc.write(decodeURIComponent('+JSON.stringify(encodeURIComponent(o.adtag.html))+"));doc.close();})();<\/script>",o},o.adtag=t,o.options=e,o}return __extends(t,i),t.prototype.getIfid=function(){return this.ifid},t.prototype.makeNativeBannerElemCallback=function(){var o=this;return function(t){window;for(var e="<style>body { margin: 0; }</style>"+o.options.native_html,e=o.replaceTemplateText(e,'<div style="display: block; line-height: 1; position: relative; margin: 0; padding: 0;">\n<div style="display: block; line-height: 1; position: absolute; margin: 0; padding: 0; z-index: 1; LEFT_RIGHT_CSS ">\n<a style="display:none;line-height:1;margin:0;padding:0;position:static;width:16px;overflow:hidden;-webkit-transition:width 0.5s linear 0s;transition:width 0.5s linear 0s;direction:inherit;text-align:inherit;" href="%%OPTOUT_URL%%"><img style="height:16px;width:85px;position:static;" src="https://js.ad-stir.com/optout/i2LEFT_RIGHT.png"></a>\n<img onclick="(function(tg){var wat=tg.parentNode.getElementsByTagName(\'a\')[0];wat.style.display=\'block\';tg.style.display=\'none\';setTimeout(function(){wat.style.width=\'85px\';},100);setTimeout(function(){wat.style.width=\'16px\';},6000);setTimeout(function(){tg.style.display=\'inline\';wat.style.display=\'none\';},6550);})(this);" style="height:16px;width:16px;margin:0;padding:0;position:static;" src="https://js.ad-stir.com/optout/i1.png">\n</div>\n</div>\n',t),i=[],n=0;n<o.loopCnt;n++){var a=t[n];a.ivw&&"object"==typeof a.ivw&&0<a.ivw.length&&!o.options.use_sdk_ivw&&(i=i.concat(a.ivw))}return i&&o.makeInview(i),e}},t.prototype.makeInview=function(e){var i=this,n=window;this.addEvent(n,"DOMContentLoaded",function(){var t=document.getElementById(i.ifid);t&&i.addEvent(t,"load",function(){Inview.checkElementInView(t,e,i.options)})}),window.top===window.self&&this.addEvent(n,"DOMContentLoaded",function(){var t=document.getElementById(i.ifid);t&&i.addEvent(t,"load",function(){i.addEvent(n,"scroll",function(){Inview.checkElementInView(t,e,i.options)})})})},t}(NativeBase),AdstirNext=function(){function d(h){var w=this;this.timeout=1e4,this.inview_recursive_check_flag=!1,this.URL={adtag:"//ad.ad-stir.com/ad",float:"//js.ad-stir.com/js/adstir_float_%%NUMBER%%.js?ver=6",ileffect:"//js.ad-stir.com/js/adstir_inline_effect_%%NUMBER%%.js",magnify:"//js.ad-stir.com/js/adstir_magnify.js",nativeTemplate:"//cdnn.ad-stir.com/native/template/",nativeNetworkTemplate:"//cdnn.ad-stir.com/network/template/",secureFrameHtml:"//tpf.adstirservice.com/secureframe/v1/container.html"};var t,e,y=window,_=void 0;if(!(5<=parseFloat(h.ver)))if(4<=parseFloat(h.ver))h.center=!0;else{if(!(3<=parseFloat(h.ver)))return;h.center=!0}if(h.type===_&&(h.type="html"),h.org_type=h.type,"interstitial"===h.type){if(!(0<(r=navigator.userAgent).indexOf("iPhone")||0<r.indexOf("iPad")||0<r.indexOf("Android")))return;if(/Android 2/.test(r))return;if(h.frequency!=_&&h.frequency<Math.random())return}if("interstitialpc"===h.type){if(!(0<(r=navigator.userAgent).indexOf("iPhone")||0<r.indexOf("iPad")||0<r.indexOf("Android")))return;if(!(/iPhone OS ([5-9]|10)/.test(r)||/iPad; CPU OS ([5-9]|10)/.test(r)||/Android ([4-9])/.test(r)))return;var i=window.innerWidth,n=window.innerHeight;if((n/300<i/350?n/300:i/350)<1)return;if(h.frequency!=_&&h.frequency<Math.random())return}if(h.reload_parameter!==_&&"string"==typeof h.reload_parameter&&(e=(t=h.reload_parameter.split("|"))[0],n=t[1],i=t[2],e=e.split(","),i!==_&&(h.force_group=i),h.exclude_network=t[0],h.delete_log_network=n+","+e[e.length-1]),"native"===h.type&&(this.URL.adtag="//ad.ad-stir.com/nad"),"recommend"===h.type&&(h.type="html",this.URL.adtag="//ad.ad-stir.com/rad"),"video"===h.type){if(!(0<(r=navigator.userAgent).indexOf("iPhone")||0<r.indexOf("iPad")||0<r.indexOf("iPod")||0<r.indexOf("Android")))return;if(1==h.floating&&(window.top!=window.self||h.iframe!=_))return;if(!(h.floating||window.top==window.self&&h.iframe==_||(/iPhone OS (9|1[0-9])/.test(r)||/iPad; CPU OS (9|1[0-9])/.test(r))&&/Safari\//.test(r)||51<=parseInt(r.slice(r.indexOf("Chrome/")+7,r.indexOf("Chrome/")+10))))return;this.URL.adtag="//ad.ad-stir.com/vad",h.type="html"}if(h.debug!==_&&h.debug.url!==_)for(var a in h.debug.url)this.URL[a]=h.debug.url[a];var o,r=this.getLocation();1==h.secure||"https:"==window.location.protocol?(o="https:",h.secure=!0):o="http:",this.URL.adtag="https:"+this.URL.adtag,this.URL.float=o+this.URL.float,this.URL.magnify=o+this.URL.magnify,this.URL.ileffect=o+this.URL.ileffect,this.URL.secureFrameHtml=o+this.URL.secureFrameHtml,h.origin!==_||r===_||"http"===(r=500<(r=r.href).length?r.substring(0,500):r).substring(0,4)&&(h.origin=r);var b,k=!1;this.addEvent(y,"load",function(){k=!0}),b=h.iframe||h.async?this.makeAsync():this.makeSync(),"html"===h.type&&b.prewrite(h),b.connect(h,this.URL.adtag,this.getParam(h),function(i){if(i!==_&&(""!==i.html||i.crtv!==_||i.med&&w.arrayContains(h.supported_functions,"awakeNative"))){var e,n,t,a,o,r,d,l,s=i.rattr;if(null!=s){var c=s.window;if(null!=c)for(var p in h.flags={},c)h.flags[p]=Number(c[p]),isNaN(h.flags[p])&&(h.flags[p]=0);s=s.adstir_vars;if(null!=s){var f=s.line_vars;if(f)for(var p in h.line_vars||(h.line_vars={}),f)h.line_vars[p]=f[p];var m=s.down_vars;if(null!=m)for(var p in h.down_vars||(h.down_vars={}),m)h.down_vars[p]=m[p];var u=s.expand_vars;if(null!=u)for(var p in h.expand_vars||(h.expand_vars={}),u)h.expand_vars[p]=u[p];var g=s.commons;if(null!=g)for(var p in h.commons||(h.commons={}),g)h.commons[p]=g[p]}}h.debug&&"iframe"!==i.adtype&&i.html&&(i.html='<span class="debug">'+i.id+"</span>"+i.html),h.use_sdk_ivw&&i.inview&&"object"==typeof i.inview&&0<i.inview.length&&(n=function(t){t=t.ratio;e=.5<=t?e||setTimeout(function(){for(var t=0;t<i.inview.length;t++){var e=document.createElement("div");e.setAttribute("style","width:0px !important"),e.setAttribute("style","height:0px !important"),e.style.background="url("+i.inview[t]+")",document.body.insertBefore(e,document.body.firstChild)}window.removeEventListener("changeInViewRatio",n)},1e3):(e&&clearTimeout(e),_)},window.addEventListener("changeInViewRatio",n)),"html"===h.type&&("native_banner"===i.adtype&&((t=new MakeNativeBannerElem(i,h)).init().makeElem(),a=t.getIfid(),i.afd!==_&&"object"==typeof i.afd&&0<i.afd.length&&w.attachAfdClickEvent(i.afd,a,!0)),"iframe"==i.adtype&&(l="AdstirIF"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),o=document.createElement("iframe"),i.secure_frame&&o.sandbox instanceof DOMTokenList?(i.html+="<script>(function(){var afd = "+JSON.stringify(i.afd)+";window.document.body.addEventListener('click', () => {for (var i = 0; i < afd.length; i++) {var script = document.createElement('script');script.text = afd[i];window.document.body.appendChild(script);}}, false);})();<\/script>",r=JSON.stringify(w.URL.secureFrameHtml+"#"+encodeURIComponent(i.html)),i.html='<iframe sandbox="allow-forms allow-popups allow-scripts allow-top-navigation-by-user-activation allow-popups-to-escape-sandbox allow-same-origin" id="'+l+'" allowtransparency="true" scrolling="no" style="height:'+i.h+"px;width:"+i.w+'px;border:none;vertical-align:bottom;" frameborder="0" src='+r+"></iframe>"):(i.friendly_iframe&&(i.html="<script>inDapIF=true;<\/script>"+i.html),i.html='<iframe id="'+l+'" allowtransparency="true" scrolling="no" style="height:'+i.h+"px;width:"+i.w+'px;border:none;vertical-align:bottom;" frameborder="0"></iframe><script>(function(){var doc = document.getElementById("'+l+'").contentWindow.document;doc.open();doc.write(decodeURIComponent('+JSON.stringify(encodeURIComponent(i.html))+"));doc.close();})();<\/script>",i.afd!==_&&"object"==typeof i.afd&&0<i.afd.length&&w.attachAfdClickEvent(i.afd,l,!0))),i.med&&w.arrayContains(h.supported_functions,"awakeNative")?((d=i.med).fallback=i.html,i.ck=!1,w.sendMessage("awakeNative",[w.makeReload(i,h),d])):(i.skadn&&w.arrayContains(h.supported_functions,"loadStore")&&w.sendMessage("loadStore",i.skadn),b.write(i,h))),"interstitial"===h.type&&(navigator.userAgent.toLowerCase(),t=1<=i.magnify||h.force_magnify?2*i.w:i.w,v=w.isLandscape()?"close":"close_bright",a=16,o=0,102!=i.id&&129!=i.id||(a=44,o=w.isLandscape()?a:0,v="close_bright"),r=w.isLandscape()?0:-1*a,d=w.supportsSVG()?"https://js.ad-stir.com/network/"+v+".svg":"https://js.ad-stir.com/network/"+v+".png","iframe"==i.adtype&&(l="AdstirIF"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),i.html='<iframe id="'+l+'" allowtransparency="true" scrolling="no" style="height:'+i.h+"px;width:"+i.w+'px;border:none;vertical-align:bottom;" frameborder="0"></iframe><script>(function(){var doc = document.getElementById("'+l+'").contentWindow.document;doc.open();doc.write(decodeURIComponent('+JSON.stringify(encodeURIComponent(i.html))+"));doc.close();})();<\/script>",i.afd!==_&&"object"==typeof i.afd&&0<i.afd.length&&w.attachAfdClickEvent(i.afd,l,!0)),(v=function(t){document.write(t)})('<div id="adstir_web_inter" style="z-index:2147483647;position:fixed;background-color:rgba(40,40,40,0.9);height:100%;top:0px;width:100%;left:0px;margin:0;padding:0;">'),v('<div style="display:inline-block;width:0;height:100%;vertical-align:middle;"></div>'),v('<div style="position:relative;display:inline-block;width:100%;text-align:center;vertical-align:middle;">'),v('<div style="position:absolute;z-index:1000;width:100%;max-width:'+t+"px;height:"+a+"px;text-align:left;left:-"+o+"px;right:"+o+"px;top:"+r+'px;margin:0 auto;padding:0;line-height:0;"><img style="width:'+a+"px;height:"+a+"px;\" onclick=\"document.getElementById('adstir_web_inter').style.display='none'\" src=\""+d+'" /></div>'),b.write(i,h),v("</div>"),v("</div>"),v('<script>(function(){var a=function(b){document.getElementById("adstir_web_inter").addEventListener(b,function(e){if(e.preventDefault)e.preventDefault();e.returnValue=false;},false);};a("DOMMouseScroll");a("mousewheel");a("touchmove");})()<\/script>')),"interstitialpc"===h.type&&("iframe"==i.adtype&&(l="AdstirIF"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),i.html='<iframe id="'+l+'" allowtransparency="true" scrolling="no" style="height:'+i.h+"px;width:"+i.w+'px;border:none;vertical-align:bottom;" frameborder="0"></iframe><script>(function(){var doc = document.getElementById("'+l+'").contentWindow.document;doc.open();doc.write(decodeURIComponent('+JSON.stringify(encodeURIComponent(i.html))+"));doc.close();})();<\/script>",i.afd!==_&&"object"==typeof i.afd&&0<i.afd.length&&w.attachAfdClickEvent(i.afd,l,!0)),(v=function(t){document.write(t)})('<div id="adstir_web_inter" style="z-index:100000001;position:absolute;background-color:rgba(40,40,40,0.95);height:0;width:0;top:0px;left:0px;overflow:hidden;">'),v('<img id="adstir_web_interi" style="z-index:100000004;position:absolute;top:8%;right:0%;width:0;height:0;" onclick="document.getElementById(\'adstir_web_inter\').style.display=\'none\'" src="https://js.ad-stir.com/network/close.png" />'),v('<div style="display:inline-block;width:0;height:100%;vertical-align:middle;"></div>'),v('<div style="z-index:100000003;display:inline-block;width:100%;text-align:center;vertical-align:middle;"><div id="adstir_web_inter3" style="display:inline-block;box-sizing:border-box;line-height:100%;text-align:left;overflow:hidden;"><div id="adstir_web_inter4" style="display:inline-block;">'),b.write(i,h),v("</div></div>"),v("</div>"),v('<script>\n(function(){\nvar aE = function(target,event,callback){\n\tif(target.addEventListener){\n\t\ttarget.addEventListener(event,callback,false);\n\t}else if(target.attachEvent){\n\t\ttarget.attachEvent("on" + event,callback);\n\t}\n};\nvar stop = function(){return window.scrollY || document.documentElement.scrollTop || document.body.scrollTop};\nvar slef = function(){return window.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft;};\nvar wi = document.getElementById("adstir_web_inter");\nvar wii = document.getElementById("adstir_web_interi");\nvar wi3 = document.getElementById("adstir_web_inter3");\nvar wi4 = document.getElementById("adstir_web_inter4");\nvar magnify = function(){\n\tvar iw = window.innerWidth;\n\tvar ih = window.innerHeight;\n\tvar zv = ((iw/350)>(ih/300)?(ih/300):(iw/350));\n\twi.style.top=stop()+"px";\n\twi.style.left=slef()+"px";\n\twi.style.height=(ih*1.15)+"px";\n\twi.style.width=iw+"px";\n\twii.style.width=zv*50+"px";\n\twii.style.height=zv*50+"px";\n\twi4.style.transformOrigin = "0% 0%";\n\twi4.style.webkitTransformOrigin = "0% 0%";\n\twi4.style.mozTransformOrigin = "0% 0%";\n\twi4.style.transform = "scale(" + zv + ")";\n\twi4.style.webkitTransform = "scale(" + zv + ")";\n\twi4.style.mozTransform = "scale(" + zv + ")";\n\tvar checkTransform = (function (){\n\tvar css = getComputedStyle(wi4, "");\n\tvar list = [css.transform,css.webkitTransform,css.WebkitTransform,css.mozTransform,css.MozTransform];\n\tfor (var i = 0; i < list.length ; i++){\n\tif(list[i] && list[i].indexOf("scale") >= 0) return true;\n\tif(list[i] && list[i].indexOf("matrix") >= 0) return true;\n\t}\n\treturn false;\n\t})();\n\n\twi3.style.height = zv * 250 + "px";\n\twi3.style.width = zv * 300 + "px";\n}\nvar stp = function(e){if(document.getElementById(\'adstir_web_inter\').style.display!==\'none\'){if(e.preventDefault)e.preventDefault();e.returnValue=false;}};\ndocument.getElementById(\'adstir_web_inter\').style.display=\'block\';\nmagnify();\naE(window, "scroll", magnify);\naE(window, "resize", magnify);\naE(window, "orientationchange", magnify);\naE(wi, "DOMMouseScroll", stp);\naE(wi, "mousewheel", stp);\naE(wi, "touchmove", stp);\naE(wi, "gesturestart", stp);\n})()\n<\/script>\n')),"native"===h.type&&new MakeNativeElem(i,h,w.inview_recursive_check_flag).init().makeElem();var v=h.fill_callback;"function"==typeof v&&v(),h.floating&&b.overlay(i,h);v=function(){h.floating_pc&&b.overlayPC(i,h),h.floating||b.loadedEnd(i,h)};k?v():w.addEvent(y,"load",v)}else{v=h.nofill_callback;"function"==typeof v&&v()}})}return d.prototype.sendMessage=function(t,e){var i=window;i.adstir_mraid_connector&&i.adstir_mraid_connector.sendMessage(t,e)},d.prototype.getLocation=function(){var t=window,e=void 0;try{for(var i=t;i.parent&&i.parent!==i&&(i=i.parent).location.protocol;)e=i.location}catch(t){}return e=void 0===e?t.location:e},d.prototype.getLocale=function(){var t,n=void 0,e="en",a=window.navigator;return a.userLanguage!==n?e=a.userLanguage:a.browserLanguage!==n?e=a.browserLanguage:a.systemLanguage!==n?e=a.systemLanguage:a.language!==n&&(e="en"===(t=a.language)&&function(){var t=a.userAgent;if(t===n)return null;var e=t.indexOf("("),i=t.indexOf(")");if(-1===e||-1===i)return null;i=t.substring(e+1,i).split(";");if(i.length<4)return null;i=i[3].replace(/(^\s+)|(\s+$)/g,"");return 2===i.length||5===i.length&&"-"===i.charAt(2)?i:null}()||t),2!==e.length&&5===e.length&&"-"===e.charAt(2)?e.substring(0,2):e},d.prototype.getOrigin=function(){var e,i=!0;try{if(void 0!==window.top.location.href)e=window.top.location.href;else{for(var n=window.top,a=window;a.parent&&void 0!==a.parent.location.href;)a=a.parent;e=a.document.referrer,a.parent!=n&&(i=!1)}}catch(t){n=window.top,a=window;try{for(;a.parent;){a.parent.location.href;a=a.parent}}catch(t){e=a.document.referrer,a.parent!=n&&(i=!1)}}return{url:e,isTop:i}},d.prototype.getParam=function(t){var e,i,n=void 0,a={};a.app_id=t.app_id,a.ad_spot_no=t.ad_spot,a.locale=t.debug&&t.debug.locale&&"en"==this.getLocale()?t.debug.locale:this.getLocale(),a.ut=+new Date+Math.round(100*Math.random()),a.topframe=window.top==window.self&&t.iframe==n?"1":"0",a.platform=t.platform,t.platform!==n&&(a.platform=t.platform),t.uid!==n&&(a.uid=t.uid),t.id!==n&&(a.id=t.id),t.origin!==n&&(a.origin=t.origin),t.interval!==n&&(a.interval=t.interval),t.click_url!==n&&(a.click_url=t.click_url),t.floating&&(a.floating="1"),t.iframe!==n&&(a.iframe="1"),t.async!==n&&t.async&&(a.async="1"),t.sdk_vendor!==n&&t.sdk_version!==n&&(a.sdk_vendor=t.sdk_vendor,a.sdk_version=t.sdk_version,t.mraid_type!==n&&(a.mraid_type=t.mraid_type,a.mraid_sdk_vendor=t.sdk_vendor,a.mraid_sdk_version=t.sdk_version)),t.force_group!==n&&(a.force_group=t.force_group),t.exclude_network!==n&&(a.exclude_network=t.exclude_network),t.delete_log_network!==n&&(a.delete_log_network=t.delete_log_network),t.video_support!==n&&(a.video_support=t.video_support),"tl"===t.force_layer&&t.force_group===n&&(a.force_group=1),"ul"===t.force_layer&&t.exclude_network===n&&(a.exclude_network="27,61"),t.instl&&(a.instl="1"),t.fs&&(a.fs="1"),t.orientation!==n&&(a.orientation=t.orientation),"native"===t.type&&("function"==typeof t.native_callback?a.nacb="1":"string"==typeof t.native_html?a.naht="1":a.nocb="1"),t.native_vars!==n&&(e=function(t,e){return t||e},(i=t.native_vars).sponsoredText!==n&&(a.native_pr_text=i.sponsoredText),i.title!==n&&(a.native_title_l=e(i.title.length,1e4)),i.description!==n&&(a.native_desc_l=e(i.description.length,1e4)),i.cta!==n&&(a.native_cta_l=e(i.cta.length,1e4)),i.image!==n&&!0===i.image&&(a.native_img=1),i.icon!==n&&!0===i.icon&&(a.native_icon=1),i.rating!==n&&!0===i.rating&&(a.native_rate=1),i.landingPageUrl!==n&&!0===i.landingPageUrl&&(a.native_lp=1)),t.secure&&(a.secure="1");try{var o=this.getWindowParams();o.screenWidth!==n&&(a.sw=o.screenWidth),o.screenHeight!==n&&(a.sh=o.screenHeight),o.pixelRatio!==n&&(a.dpr=o.pixelRatio)}catch(t){}(t.dnt!==n&&t.dnt||t.lmt!==n&&t.lmt)&&(a.lmt="1"),t.att_as!==n&&(a.att_as=t.att_as);o=t.floating&&this.isLandscape()?"1":"0";return"video"===t.org_type&&window.top!=window.self&&(o="1"),a.novideo=o,"webview"!==t.platform&&(o=this.getOrigin(),a.topurl=o.isTop?1:0,a.origin=o.url),t.page!==n&&/https?:\/\/[\w/:%#\$&\?\(\)~\.=\+\-]+/.test(t.page)&&(a.page=t.page),t.sknid!==n&&(a.sknid=t.sknid,t.skversion!==n&&(a.skversion=t.skversion)),a},d.prototype.makeSync=function(){function p(e,i,t){i.center;var n,a=1<=e.magnify||i.force_magnify,o=i.center||a,r=!(!e.ileffect||"number"!=typeof e.ileffect.length),d=void 0!==e.afd&&"object"==typeof e.afd&&0<e.afd.length;if(a&&(f="",f+='<div style="text-align:center;"><div class="adstir_magnify" style="box-sizing:border-box;line-height:100%;text-align:left;"><div style="display:inline-block;">',f+=t,f+="</div></div></div>",g.addJS(g.URL.magnify),t=f),e.render&&"object"==typeof e.render&&0<e.render.length)for(var l=0;l<e.render.length;l++)t+='<div style="width:0px !important; height:0px !important; background:url('+e.render[l]+')"></div>';if("native_banner"!==e.adtype&&e.inview&&"object"==typeof e.inview&&0<e.inview.length&&(n="adstir_inview_"+Math.floor(1e8*Math.random()).toString()+"A"+Math.floor(1e8*Math.random()).toString(),t=d&&e.adtype&&"iframe"!==e.adtype?'<div id="'+n+'" class="'+h+'" '+(a?"":'style="display:inline-block;vertical-align:bottom;"')+">"+t+"</div>":'<div id="'+n+'" '+(a?"":'style="display:inline-block;vertical-align:bottom;"')+">"+t+"</div>",i.use_sdk_ivw||(g.addEvent(v,"DOMContentLoaded",function(){var t=document.getElementById(n);t&&Inview.checkElementInView(t,e.inview,i)}),window.top==window.self&&g.addEvent(v,"DOMContentLoaded",function(){g.addEvent(v,"scroll",function(){var t=document.getElementById(n);t&&Inview.checkElementInView(t,e.inview,i)})})),d&&e.adtype&&"iframe"!==e.adtype&&"native_banner"!==e.adtype&&g.attachAfdClickEvent(e.afd,h,!1)),r)for(var s=0;s<e.ileffect.length;s++){var c=e.ileffect[s],p="";e.rattr&&e.rattr.ileffect_param&&(p="AdstirILeffectParam"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),window[p]=e.rattr.ileffect_param);var f,m="AdstirILEffect"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random());f=(f="")+'<div id="'+m+'" class="adstir_inline_effect_'+c+'" data-adstir-inline-effect="'+p+'"><div>',f+=t,t=f+="</div></div>";var u=g.URL.ileffect.replace(/%%NUMBER%%/,c+""),p=document.createElement("script");p.src=u,"scroll2"!==c&&"scroll4"!==c||(window.AdstirILEffectTargets||(window.AdstirILEffectTargets=[]),window.AdstirILEffectTargets.push({k:m,v:!1,m:i.app_id}),p.defer=!0),"scrollgroup1"!==c&&"scrollgroup2"!==c&&"scrollgroup3"!==c||(window.AdstirILEffectTargetGroups||(window.AdstirILEffectTargetGroups=[]),window.AdstirILEffectTargetGroups.push({k:m,v:!1,m:i.app_id,e:c}),p.defer=!0),document.head.appendChild(p)}return!a&&o&&(f="",f+='<div style="line-height:100%;text-align:center;">',f+=t,t=f+="</div>"),t}var g=this,v=window,f="AdstirCB"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),h="adstir-ad-slot-"+Math.floor(1e8*Math.random()).toString()+"A"+Math.floor(1e8*Math.random()).toString();return{prewrite:function(t){},connect:function(i,t,e,n){var a,o;d.RTUS&&(a="adstir_crid",v.AdstirCallbackCRTID=function(t){"OK"===t.status&&(document.cookie=a+"="+encodeURIComponent(t.userid)+";max-age=900")},-1!=(o=document.cookie.indexOf(a+"="))&&(o=o+a.length+1,-1==(r=document.cookie.indexOf(";",o))&&(r=document.cookie.length),e.crtid=decodeURIComponent(document.cookie.substring(o,r))),(r=d.structScriptTag("https://rtus-js.ad-stir.com/js/rtus.js?rtuscb=AdstirCallbackCRTID"))instanceof HTMLScriptElement&&(r.async=!0,document.getElementsByTagName("head")[0].appendChild(r)));var r=g.processIMUID();null!==r&&(e.imuid=r),e.callback=f,v[e.callback]=function(e){void 0!==e&&"number"==typeof e.ntempid?(v.adstir_native_templates=function(t){i.native_html=t,n(e)},document.write('<script src="https:'+g.URL.nativeTemplate+e.ntempid+'.js"><\/script>')):void 0!==e&&"native_banner"===e.adtype?void 0!==e.nntmplid&&0<e.nntmplid.length&&(v.adstir_network_templates=function(t){i.native_html=t,n(e)},document.write('<script src="https:'+g.URL.nativeNetworkTemplate+e.nntmplid+'.js"><\/script>')):n(e)},document.write('<script src="'+g.makeUrl(t,e)+'"><\/script>')},write:function(t,e){var i,n=1<=t.float||e.force_floating,a=1<=t.magnify||e.force_magnify,o=e.center||a,r="adstir"===e.sdk_vendor&&e.sdk_version?parseInt(e.sdk_version):0,d=t.w,l=t.h,s=t.ck,c=t.html,a=void 0!==t.afd&&"object"==typeof t.afd&&0<t.afd.length;n||e.floating||(0!=e.js_check&&r<2e4&&s&&(i=(i='<span style="width:'+d+"px;height:"+l+'px;display:inline-block;vertical-align:text-bottom;text-align:left;overflow:hidden;">')+'<span id="'+f+'" style="display:inline-block;vertical-align:bottom;">',i+=c,i+="</span>",c=i+="</span>"),c=p(t,e,c),0!=e.js_check&&r<2e4&&s&&(i="<"+(o?'div style="display:block"':'span style="display:inline-block"')+' id="'+f+'DELETE">',c=i=(i+=c)+"</"+(o?"div":"span")+">")),n&&(i="",i=(i+='<div style="text-align:left;"><div style="position:absolute;top:-10000px;">')+"<div "+(a?'class="'+h+'" ':"")+'style="line-height:100%;'+(o?"text-align:center;":"")+(t.nntmpl_disp_w&&t.nntmpl_disp_h?"width:"+t.nntmpl_disp_w+";":"")+'" id="adstir_float">',i+=c,i+="</div>",c=i+="</div></div>",a&&t.adtype&&"iframe"!==t.adtype&&"native_banner"!==t.adtype&&g.attachAfdClickEvent(t.afd,h,!1)),document.write(c)},overlay:function(t,a){var e,i,o=void 0;(1<=t.float||a.force_floating)&&(e=function(){var t;v.adstir_float=document.getElementById("adstir_float"),a.flags!==o&&(t=JSON.stringify(a.flags),v.adstir_float.setAttribute("data-flags",t)),a.line_vars!==o&&(t=JSON.stringify(a.line_vars),v.adstir_float.setAttribute("data-set",t)),a.down_vars!==o&&(t=JSON.stringify(a.down_vars),v.adstir_float.setAttribute("data-set2",t)),a.expand_vars!==o&&(t=JSON.stringify(a.expand_vars),v.adstir_float.setAttribute("data-set3",t)),a.commons!==o&&(t=JSON.stringify(a.commons),v.adstir_float.setAttribute("data-set-commons",t))},i=g.URL.float.replace(/%%NUMBER%%/,t.float+""),document.getElementById("adstir_float")&&0<i.indexOf("_10")?(e(),g.writeJS(i)):"complete"===document.readyState?(e(),g.addJS(i)):g.addEvent(window,"load",function(){e(),g.addJS(i)}),1==a.floating&&t.overlay_refresh_limit!==o&&t.overlay_refresh_time!==o&&g.overlayRefresh(t,a,f,0,function(t){var e,i,n;t!=o&&(e=document.getElementById("adstir_float"),1<=t.float||a.force_floating,i=1<=t.magnify||!0===a.force_magnify,a.center,t.ck,i='<div style="position:absolute;top:-10000px;">',i=(i='<div style="position:absolute;top:-10000px;"><div style="line-height:100%; text-align:center;"id="adstir_float">')+('<iframe id="'+f+'" allowtransparency="true" scrolling="no" style="border:none;vertical-align:bottom; width:'+t.w+"px; height:"+t.h+'px;" frameborder="0"></iframe>'),e.parentNode.outerHTML=i+="</div></div>",e=document.getElementById(f).contentWindow.document,i='<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width='+t.w+',initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0"></head><style>html{background-color:transparent;margin:0;padding:0;}body{background-color:transparent;margin:0;padding:0;} .debug{position:absolute;top:0;left:0;background-color:#8888;padding:2px;color:#FFF;display:inline-block;}</style><body>'+t.html+"</body></html>",e.open(),e.write(i),e.close(),v.adstir_float=document.getElementById("adstir_float"),a.flags!==o&&(n=JSON.stringify(a.flags),v.adstir_float.setAttribute("data-flags",n)),a.line_vars!==o&&(n=JSON.stringify(a.line_vars),v.adstir_float.setAttribute("data-set",n)),a.down_vars!==o&&(n=JSON.stringify(a.down_vars),v.adstir_float.setAttribute("data-set2",n)),a.expand_vars!==o&&(n=JSON.stringify(a.expand_vars),v.adstir_float.setAttribute("data-set3",n)),a.commons!==o&&(n=JSON.stringify(a.commons),v.adstir_float.setAttribute("data-set-commons",n)),(n=document.createElement("script")).src=g.URL.float.replace(/%%NUMBER%%/,t.float<=1?"1":t.float+""),document.body.appendChild(n))}))},overlayPC:function(t,e){},loadedEnd:function(o,r){var d,n=o.id,a=o.gid,l=o.fgid;v.setTimeout(function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.height="3px",t.style.width="3px",t.style.background="black",t.style.opacity="0.05",document.body.appendChild(t),window.setTimeout(function(){document.body.removeChild(t)},1e3)},1e3);var t=a!=d&&3==a?2500:4e3;v.setTimeout(function(){var e,t,i;n!=d&&a!=d&&1!=r.floating&&(i="adstir"===r.sdk_vendor&&r.sdk_version?parseInt(r.sdk_version):0,t=document.getElementById(f),e=document.getElementById(f+"DELETE"),o.ck&&2e4<=i?document.documentElement.scrollHeight<30&&g.sendMessage("reload",[g.makeReload(o,r)]):t&&(t&&t.getBoundingClientRect?t.getBoundingClientRect().height:1e6)<30&&(v[f]=function(i){if(i!=d){var n=i.w,a=i.h;if(n!=d&&a!=d){for(;0<e.childNodes.length;)e.removeChild(e.childNodes[0]);var t=v.document.createElement("div");t.innerHTML=p(i,r,'<span id="'+f+'RE" style="width:'+n+"px;height:"+a+'px;display:inline-block;vertical-align:bottom;">'),e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),setTimeout(function(){var t=document.getElementById(f+"RE"),e=v.document.createElement("iframe");e.style.height=a+"px",e.style.width=n+"px",e.style.border="none",e.style.verticalAlign="bottom",e.scrolling="no",e.setAttribute("frameBorder","0"),e.setAttribute("allowTransparency","true"),t.appendChild(e),i.secure_frame&&e.sandbox instanceof DOMTokenList?(e.setAttribute("sandbox","allow-forms allow-popups allow-scripts allow-top-navigation-by-user-activation allow-popups-to-escape-sandbox allow-same-origin"),e.src=g.URL.secureFrameHtml+"#"+encodeURIComponent(i.html)):((e=e.contentWindow.document).open(),"iframe"!==o.adtype&&e.write('<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width='+n+',initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0"></head><style>html{background-color:transparent;margin:0;padding:0;}body{background-color:transparent;margin:0;padding:0;}</style><body>'),o.friendly_iframe&&e.write("<script>inDapIF=true;<\/script>"),e.write(i.html),"iframe"!==o.adtype&&e.write("</body></html>"),e.close())},10)}}},(i=g.getParam(r)).iframe="1",i.topframe="0",i.callback=f,i.force_group=l,i.exclude_network=n,i.delete_log_network=a+","+n,t=g.makeUrl(g.URL.adtag,i),(i=document.createElement("script")).src=t,document.body.appendChild(i)))},t)}}},d.prototype.makeAsync=function(){var i,n,a,o=this,r=window,d="AdstirCB"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),l=0;return{prewrite:function(t){l=t.iframe.width,i=t.iframe.height,n=t.center,a=t.floating;var e='<iframe id="'+d+'" allowtransparency="true" scrolling="no" style="height:'+i+"px;width:"+l+'px;border:none;vertical-align:bottom;" frameborder="0"></iframe>';(n||a)&&(t="",t=(t=(t="<div"+(a?' style="text-align:left;"':"")+">")+"<div"+(a?' style="position:absolute;top:-10000px;"':"")+">")+'<div style="line-height:100%;'+(n?"text-align:center;":"")+'"'+(a?' id="adstir_float"':"")+">",t+=e,e=t+="</div></div></div>"),r.document.write(e)},connect:function(t,e,i,n){i.callback="AdstirCB"+Math.round(1e10*Math.random())+"A"+Math.round(1e10*Math.random()),r[i.callback]=n,o.addJS(o.makeUrl(e,i))},write:function(t,e){var i=r.document.getElementById(d).contentWindow.document;i.open(),i.write('<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width='+l+',initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0"></head><style>html{background-color:transparent;margin:0;padding:0;}body{background-color:transparent;margin:0;padding:0;}</style><body>'+t.html+"</body></html>"),i.close()},overlay:function(t,e){var i=void 0;r.adstir_float=document.getElementById("adstir_float"),e.flags!==i&&(n=JSON.stringify(e.flags),r.adstir_float.setAttribute("data-flags",n)),e.line_vars!==i&&(n=JSON.stringify(e.line_vars),r.adstir_float.setAttribute("data-set",n)),e.down_vars!==i&&(n=JSON.stringify(e.down_vars),r.adstir_float.setAttribute("data-set2",n)),e.expand_vars!==i&&(n=JSON.stringify(e.expand_vars),r.adstir_float.setAttribute("data-set3",n)),e.commons!==i&&(n=JSON.stringify(e.commons),r.adstir_float.setAttribute("data-set-commons",n));var n=document.createElement("script");n.src=o.URL.float.replace(/%%NUMBER%%/,t.float<=1?"1":t.float+""),document.body.appendChild(n)},overlayPC:function(t,e){},loadedEnd:function(t,e){}}},d.prototype.makeUrl=function(t,e){var i,n=t,a=!0;for(i in e){var o=e[i];void 0!==o&&(a?(n+="?",a=!1):n+="&",n+=encodeURIComponent(i)+"="+encodeURIComponent(o))}return n},d.prototype.makeReload=function(t,e){var i=e.reload_parameter;return i="string"==typeof i?(e=i.split("|"),void 0===t.fgid?e[0]+","+t.id+"|"+t.gid:e[0]+","+t.id+"|"+t.gid+"|"+t.fgid):void 0===t.fgid?t.id+"|"+t.gid:t.id+"|"+t.gid+"|"+t.fgid},d.prototype.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},d.prototype.addJS=function(t){var e=document,i=e.createElement("script");i.async=!0,i.src=t;e=e.getElementsByTagName("script")[0];e.parentNode.insertBefore(i,e)},d.prototype.writeJS=function(t){document.write('<script src="'+t+'"><\/script>')},d.prototype.arrayContains=function(t,e){if(t&&e)for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},d.prototype.attachAfdClickEvent=function(n,e,t){var a=this;t?this.addEvent(window,"DOMContentLoaded",function(){var i=document.getElementById(e);i&&a.addEvent(i,"load",function(){a.addEvent(i.contentWindow.document.body,"click",function(){for(var t=0;t<n.length;t++){var e=document.createElement("script");e.text=n[t],i.contentWindow.document.body.appendChild(e)}})})}):this.addEvent(window,"DOMContentLoaded",function(){var t=document.querySelector("."+e);a.addEvent(t,"click",function(){for(var t=0;t<n.length;t++){var e=document.createElement("script");e.text=n[t],document.body.appendChild(e)}})})},d.loadJS=function(a){document.addEventListener("DOMContentLoaded",function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var i=t[e];if(i.src&&i.src===a)return}var n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=a,document.body.appendChild(n)},!1)},d.structScriptTag=function(t){for(var e=document.getElementsByTagName("script"),i=0;i<e.length;i++){var n=e[i];if(n.src&&n.src===t)return}var a=document.createElement("script");return a.type="text/javascript",a.charset="utf-8",a.src=t,a},d.prototype.appendJS=function(t,e){t?(t=d.structScriptTag(e))instanceof HTMLScriptElement&&document.body.appendChild(t):document.write('<script src="'+e+'"><\/script>')},d.prototype.getWindowParams=function(){return{screenWidth:window.screen.width||void 0,screenHeight:window.screen.height||void 0,pixelRatio:window.devicePixelRatio||void 0}},d.prototype.supportsSVG=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},d.prototype.isLandscape=function(){return window.innerWidth>window.innerHeight},d.prototype.overlayRefresh=function(i,n,a,o,r){var d=this,l=window;i.overlay_refresh_limit>o&&setTimeout(function(){l[a]=r;var t=d.getParam(n);t.iframe="1",t.topframe="0",t.callback=a,t.oref="1";var e=d.makeUrl(d.URL.adtag,t);n.debug&&(console.log("Refresh. Reload."),console.log(e));t=document.createElement("script");t.src=e,document.body.appendChild(t),d.overlayRefresh(i,n,a,o+1,r)},1e3*i.overlay_refresh_time)},d.prototype.isStorageAvailable=function(){try{var t=window.localStorage,e="__storage_test__";return t.setItem(e,e),t.removeItem(e),!0}catch(t){return!1}},d.prototype.processIMUID=function(){if("https:"==window.location.protocol&&this.isStorageAvailable()){var e="adstir_im_uid",t=window.localStorage.getItem(e),i=d.structScriptTag("https://dmp.im-apps.net/sdk/im-uid.js");return i instanceof HTMLScriptElement&&(i.async=!0,document.getElementsByTagName("head")[0].appendChild(i)),window.IMUIDRequest=window.IMUIDRequest||[],window.IMUIDRequest.push({customerId:1007220,callback:function(t){t.uid&&window.localStorage.setItem(e,t.uid)},callbackTimeout:1e3}),t}return null},d.RTUS=!1,d}();!function(){var t,e=window;"webview"===e.adstir_vars.platform||(0<(t=navigator.userAgent).indexOf("iPhone")||0<t.indexOf("iPad"))&&(AdstirNext.RTUS=!0),new AdstirNext(e.adstir_vars),e.adstir_vars=void 0}();

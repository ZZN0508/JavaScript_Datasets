define("modules/core/exception_tag_registry",["require","exports"],function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.clear_all_tags=n.unregister_tag=n.register_tag=n.get_registered_tags=void 0;var t,r=new Set;window.ensemble&&((t=window).REGISTERED_EXCEPTION_TAGS||(t.REGISTERED_EXCEPTION_TAGS=new Set),r=t.REGISTERED_EXCEPTION_TAGS),n.get_registered_tags=function(){var n=[];return r.forEach(function(e){return n.push(e)}),n},n.register_tag=function(e){r.add(e)},n.unregister_tag=function(e){r.delete(e)},n.clear_all_tags=function(){r.clear()}}),define("modules/core/exception",["require","exports","tslib","modules/shims/tracekit","modules/constants/page_load","modules/constants/request","modules/core/exception_tag_registry","modules/core/xhr"],function(e,d,m,g,x,_,h,v){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.setEdisonExceptionExtras=d.reportStack=d.assert=d.cleanup_stack_trace=d._reportException=d.reportException=d.unregisterOnFailedAssert=d.registerOnFailedAssert=d.SEVERITY=void 0,g=m.__importDefault(g),x=m.__importStar(x),_=m.__importStar(_);var E=0,a=[],w=void 0,k=void 0;function b(e,i){for(;0<e.length&&function(e){if(!e)return!1;for(var n=0,t=i;n<t.length;n++){var r=t[n];if(-1!==e.search(r))return!0}return!1}(e[0].func);)e=e.slice(1);return e}d.SEVERITY={CRITICAL:"critical",NONCRITICAL:"non-critical",USER_ERROR:"user-error",UNCAUGHT:"uncaught",OPERATIONAL:"operational"},d.registerOnFailedAssert=function(e){a.push(e)},d.unregisterOnFailedAssert=function(e){e=a.indexOf(e);0<=e&&a.splice(e,1)},d.reportException=function(e){var n,t,r=e.err,i=e.force,o=e.tags,s=e.severity,c=e.exc_extra;r.reported||(e=null!=((n=g.default.computeStackTrace(r))&&n.stack)?n.stack:[],r.isAssertion&&((t=r).assertOptions&&t.assertOptions.tags&&(o=(o||[]).concat(t.assertOptions.tags)),t.assertOptions&&t.assertOptions.exc_extra&&(c=m.__assign(m.__assign({},null!=c?c:{}),t.assertOptions.exc_extra)),a.forEach(function(e){return e(n)})),(t=r).excExtra&&(c=m.__assign(m.__assign({},null!=c?c:{}),t.excExtra)),t.tags&&(o=(null!=o?o:[]).concat(t.tags)),d._reportException({msg:r.message,stack:e,force:i,tags:o,severity:s,exc_extra:c}),r.reported=!0)},d._reportException=function(e){var n=e.msg,t=e.stack,r=e.force,i=e.tags,o=e.severity,s=e.exc_extra;if(!w||r){var c=["\\b_reportException\\b","\\breportException\\b","\\bassert\\b","\\breportStack\\b"],a=[],t=b(t,c);try{throw new Error}catch(e){r=g.default.computeStackTrace(e),a=b(a=null!=r&&null!=r.stack?r.stack:a,c)}c=t.length-a.length,a=t.slice(0,c=c<=0?1:c),t=t.slice(c);i=(i=i||[]).concat(h.get_registered_tags());c="",c=k&&"sessionId"in k?k.sessionId:x.SESSION_ID;i.push("session-id:"+c),s=s?m.__assign({},s):{},window.DB_FRAME_BUST&&(s.DB_FRAME_BUST=!0,o=d.SEVERITY.USER_ERROR),s.client_time=(new Date).toString(),s.client_utc_time=(new Date).toUTCString(),E+=1,s.exception_number=E,k?delete(s=m.__assign(m.__assign({},s),k)).sessionId:s=m.__assign(m.__assign({},s),{page_repo_rev:x.REPO_REV,page_load_timestamp:_.PAGE_LOAD_TIME,page_load_hostname:x.HOSTNAME,yaps_project:x.YAPS_PROJECT,yaps_deployment:x.YAPS_DEPLOYMENT,user_locale:x.USER_LOCALE});var l,u,f,p={};for(l in window.requireContexts)window.requireContexts.hasOwnProperty(l)&&(u={},(f=window.requireContexts[l].firstUndefinedModule)&&(u.first_undefined_module=f),p[l]=u);s.page_alameda_failures=p;c=window.ensemble;null!=c&&(null!=c.getExceptionInfo&&(s.dws_page_info=c.getExceptionInfo()),null!=c.getPageletInfoForExceptionReporting&&(s.pagelet_info=c.getPageletInfoForExceptionReporting()));s={e:n,loc:window.location.href,ref:document.referrer,stack:JSON.stringify(a.reverse()),context_tb:JSON.stringify(t.reverse()),tags:JSON.stringify(i),sev:o||"",exc_extra:JSON.stringify(s||{})};v.sendXhr("/jse",s),w=n}},d.cleanup_stack_trace=b,d.assert=function(e,n,t){if(void 0===t&&(t={}),!e){e=new Error("Assertion Error: "+n),n=t.tags,n=void 0===n?[]:n,t=t.exc_extra,t=void 0===t?null:t;throw e.assertOptions={tags:n.concat("module:exception","assert"),exc_extra:t},e.isAssertion=!0,e}},d.reportStack=function(e,n){n={severity:(n=void 0===n?{}:n).severity||d.SEVERITY.NONCRITICAL,tags:n.tags||[],exc_extra:n.exc_extra||{},silent:!!n.silent};e=new Error(e);d.reportException({err:e,force:!0,tags:(n.tags||[]).concat("module:exception","reportStack"),severity:n.severity,exc_extra:n.exc_extra})},d.setEdisonExceptionExtras=function(e){k=e}}),define("modules/shims/tracekit",["require","exports","tslib","tracekit"],function(e,n,t,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),(r=t.__importDefault(r)).default.linesOfContext=1,r.default.remoteFetching=!1,r.default.noConflict(),n.default=r.default}),define("modules/core/cookies",["require","exports","tslib"],function(e,f,l){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Cookies=void 0;function p(e){return o(e,"Cookie name",!1)}function u(e,n,t){var r,i;void 0===t&&(t={}),p(e),o(n,"Cookie value",!0),t.expires&&(r=t.expires,o(r,"Cookie expiration date",!1)),t.domain&&(i=t.domain,o(i,"Cookie domain",!1)),t.path&&(i=t.path,o(i,"Cookie path",!1)),document.cookie=[e+"="+n,t.expires?"expires="+t.expires:void 0,t.domain?"domain="+t.domain:void 0,t.path?"path="+t.path:void 0].join("; ")}var s=function(e,n){if(!e)throw new Error(n)},d=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/,i=["=",";"],o=function(e,n,t){void 0===t&&(t=!1),s("string"==typeof e,n+" must be a string, but was "+typeof e),s(t||0<e.length,n+" must not be empty"),s(!function(e){if(null!=e)for(var n=0,t=i;n<t.length;n++){var r=t[n];if(-1!==e.indexOf(r))return 1}}(e),n+" contains illegal characters")},m=new Date(1).toUTCString();f.Cookies={create:function(e,n,t,r,i){var o;void 0===i&&(i="/"),null!=t&&(s("number"==typeof t,"Cookie expiration must be a number"),(o=new Date).setTime(o.getTime()+24*t*60*60*1e3),o=o.toUTCString()),u(e,n,{expires:o,path:i,domain:r})},read:function(e){p(e);for(var n=[],t=0,r=document.cookie.split(";");t<r.length;t++){var i=r[t],o=i.split("=",1)[0];o.trim()===e&&n.push(i.substring(o.length+1,i.length).trim())}for(var s=!1,c=[],a=0,l=n;a<l.length;a++){var u=l[a];""===u?s=!0:c.push(u)}return 1===c.length?c[0]:1<c.length?(f.Cookies.delete(e),null):s?"":null},delete:function(e){for(var n=l.__spreadArrays([null],function(e){if(e.match(d))return[e];for(var n=e.split("."),t=[],r=0;r<n.length;r++)t.push(n.slice(r).join("."));return t}(window.location.hostname)),t=l.__spreadArrays([null],function(){for(var e=window.location.pathname.split("/"),n=[],t=0;t<e.length;t++){var r=e.slice(0,e.length-t).join("/");""!==r&&n.push(r),n.push(r+"/")}return n}()),r=0,i=n;r<i.length;r++)for(var o=i[r],s=0,c=t;s<c.length;s++){var a=c[s];u(e,"",{expires:m,domain:o,path:a})}},are_enabled:function(){return navigator.cookieEnabled||(document.cookie="this_is_a_test_cookie",-1!==document.cookie.indexOf("this_is_a_test_cookie"))}}}),define("modules/core/xhr",["require","exports","modules/clean/csrf"],function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendXhr=void 0;function c(e){}n.sendXhr=function(e,n,t){var r,i;void 0===t&&(t=c),s.assertDropboxDomain(e),r=n,i=s.readCsrfToken(),r.is_xhr=!0,r.t=i;var n=function(e){var n,t=[];for(n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(String(e[n])));return t.join("&")}(n),o=new XMLHttpRequest;return o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&t(o.status)},o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(n),o}}),define("modules/clean/csrf",["require","exports","modules/core/cookies"],function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assertDropboxDomain=n.readCsrfToken=void 0,n.readCsrfToken=function(){return t.Cookies.read("__Host-js_csrf")},n.assertDropboxDomain=function(e){var n=document.createElement("a");n.href=e;n=n.hostname||window.location.hostname;if(-1===n.indexOf(".dropbox.com",n.length-".dropbox.com".length))throw new Error("Cannot send the CSRF token to "+n)}}),define("prod_assets_web_modules/tracekit",["./common/_commonjsHelpers"],function(C){"use strict";return C.createCommonjsModule(function(e){function x(e){if("string"!=typeof e)return[];if(!w(c,e)){var n="",t="";try{t=b.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);r&&r[2]===t&&(n=function(e){if(!S.remoteFetching)return"";try{var n=function(){try{return new b.XMLHttpRequest}catch(e){return new b.ActiveXObject("Microsoft.XMLHTTP")}}();return n.open("GET",e,!1),n.send(""),n.responseText}catch(e){return""}}(e)),c[e]=n?n.split("\n"):[]}return c[e]}function _(e,n){var t,r=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",s=x(e);if(!s.length)return"?";for(var c=0;c<10;++c)if(!k(o=s[n-c]+o)){if(t=i.exec(o))return t[1];if(t=r.exec(o))return t[1]}return"?"}function h(e,n){var t=x(e);if(!t.length)return null;var r=[],i=Math.floor(S.linesOfContext/2),e=i+S.linesOfContext%2,i=Math.max(0,n-i-1),o=Math.min(t.length,n+e-1);--n;for(var s=i;s<o;++s)k(t[s])||r.push(t[s]);return 0<r.length?r:null}function f(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function v(e){return f(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function E(e,n){for(var t,r,i=0,o=n.length;i<o;++i)if((t=x(n[i])).length&&(t=t.join("\n"),r=e.exec(t)))return{url:n[i],line:t.substring(0,r.index).split("\n").length,column:r.index-t.lastIndexOf("\n",r.index)-1};return null}function p(e,n,t){var r,n=x(n),e=new RegExp("\\b"+f(e)+"\\b");return--t,n&&n.length>t&&(r=e.exec(n[t]))?r.index:null}function d(e,n,t,r){t={url:n,line:t};if(t.url&&t.line){e.incomplete=!1,t.func||(t.func=_(t.url,t.line)),t.context||(t.context=h(t.url,t.line));r=/ '([^']+)' /.exec(r);if(r&&(t.column=p(r[1],t.url,t.line)),0<e.stack.length&&e.stack[0].url===t.url){if(e.stack[0].line===t.line)return!1;if(!e.stack[0].line&&e.stack[0].func===t.func)return e.stack[0].line=t.line,e.stack[0].context=t.context,!1}return e.stack.unshift(t),e.partial=!0}return!(e.incomplete=!0)}function m(e,n){for(var t,r,i,o,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],a={},l=!1,u=m.caller;u&&!l;u=u.caller)if(u!==g&&u!==S.report){if(r={url:null,func:"?",args:[],line:null,column:null},u.name?r.func=u.name:(t=s.exec(u.toString()))&&(r.func=t[1]),void 0===r.func)try{r.func=t.input.substring(0,t.input.indexOf("{"))}catch(e){}(i=function(e){if(!k(b&&b.document)){for(var n,t,r,i=[b.location.href],o=b.document.getElementsByTagName("script"),s=""+e,c=0;c<o.length;++c){var a=o[c];a.src&&i.push(a.src)}if(t=E((n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(s))?(e=n[1]?"\\s+"+n[1]:"",t=n[2].split(",").join("\\s*,\\s*"),r=f(n[3]).replace(/;$/,";?"),new RegExp("function"+e+"\\s*\\(\\s*"+t+"\\s*\\)\\s*{\\s*"+r+"\\s*}")):new RegExp(f(s).replace(/\s+/g,"\\s+")),i))return t;if(n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(s)){s=n[1];if(r=v(n[2]),t=E(new RegExp("on"+s+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i"),i[0]))return t;if(t=E(new RegExp(r),i))return t}return null}}(u))&&(r.url=i.url,r.line=i.line,"?"===r.func&&(r.func=_(r.url,r.line)),(o=/ '([^']+)' /.exec(e.message||e.description))&&(r.column=p(o[1],i.url,i.line))),a[""+u]?l=!0:a[""+u]=!0,c.push(r)}n&&c.splice(0,n);n={mode:"callers",name:e.name,message:e.message,stack:c};return d(n,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),n}function g(e,n){var t=null;n=null==n?0:+n;try{if(t=function(e){var n=e.stacktrace;if(n){for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),s=[],c=0;c<o.length;c+=2){var a=null;if((t=r.exec(o[c]))?a={url:t[2],line:+t[1],column:null,func:t[3],args:[]}:(t=i.exec(o[c]))&&(a={url:t[6],line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[]}),a){if(!a.func&&a.line&&(a.func=_(a.url,a.line)),a.line)try{a.context=h(a.url,a.line)}catch(e){}a.context||(a.context=[o[c+1]]),s.push(a)}}return s.length?{mode:"stacktrace",name:e.name,message:e.message,stack:s}:null}}(e))return t}catch(e){}try{if(t=function(e){if(!e.stack)return null;for(var n,t=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,r=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=e.stack.split("\n"),s=[],c=/^(.*) is undefined$/.exec(e.message),a=0,l=o.length;a<l;++a){if(n=t.exec(o[a]))var u=n[2]&&-1!==n[2].indexOf("native"),u={url:u?null:n[2],func:n[1]||"?",args:u?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null};else if(n=i.exec(o[a]))u={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=r.exec(o[a])))continue;u={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!u.func&&u.line&&(u.func=_(u.url,u.line)),u.line&&(u.context=h(u.url,u.line)),s.push(u)}return s.length?(s[0]&&s[0].line&&!s[0].column&&c?s[0].column=p(c[1],s[0].url,s[0].line):s[0].column||k(e.columnNumber)||(s[0].column=e.columnNumber+1),{mode:"stack",name:e.name,message:e.message,stack:s}):null}(e))return t}catch(e){}try{if(t=function(e){var n=e.message.split("\n");if(n.length<4)return null;var t,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,s=[],c=b&&b.document&&b.document.getElementsByTagName("script"),a=[];for(t in c)w(c,t)&&!c[t].src&&a.push(c[t]);for(var l=2;l<n.length;l+=2){var u,f,p,d,m,g=null;(m=r.exec(n[l]))?g={url:m[2],func:m[3],args:[],line:+m[1],column:null}:(m=i.exec(n[l]))?(g={url:m[3],func:m[4],args:[],line:+m[1],column:null},u=+m[1],(p=a[m[2]-1])&&(!(f=x(g.url))||0<=(p=(f=f.join("\n")).indexOf(p.innerText))&&(g.line=u+f.substring(0,p).split("\n").length))):(m=o.exec(n[l]))&&(g={url:d=b.location.href.replace(/#.*$/,""),func:"",args:[],line:(d=E(new RegExp(v(n[l+1])),[d]))?d.line:m[1],column:null}),g&&(g.func||(g.func=_(g.url,g.line)),m=(d=h(g.url,g.line))?d[Math.floor(d.length/2)]:null,d&&m.replace(/^\s*/,"")===n[l+1].replace(/^\s*/,"")?g.context=d:g.context=[n[l+1]],s.push(g))}return s.length?{mode:"multiline",name:e.name,message:n[0],stack:s}:null}(e))return t}catch(e){}try{if(t=m(e,n+1))return t}catch(e){}return{mode:"failed"}}function o(e,n){var t=null;if(!n||S.collectWindowErrors){for(var r in u)if(w(u,r))try{u[r].apply(null,[e].concat(i.call(arguments,2)))}catch(e){t=e}if(t)throw t}}function n(e,n,t,r,i){return T?(S.computeStackTrace.augmentStackTraceWithInitialElement(T,n,t,e),s()):i?o(S.computeStackTrace(i),!0):((r={url:n,line:t,column:r}).func=S.computeStackTrace.guessFunctionName(r.url,r.line),r.context=S.computeStackTrace.gatherContext(r.url,r.line),o({mode:"onerror",message:e,stack:[r]},!0)),!!a&&a.apply(this,arguments)}function s(){var e=T,n=y;O=T=y=null,o.apply(null,[e,!1].concat(n))}function t(e){if(T){if(O===e)return;s()}var n=S.computeStackTrace(e);throw T=n,O=e,y=i.call(arguments,1),b.setTimeout(function(){O===e&&s()},n.incomplete?2e3:0),e}function w(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function k(e){return void 0===e}var b,S,r,i,c,a,l,u,y,O,T;(b="undefined"!=typeof window?window:C.commonjsGlobal)&&(r=b.TraceKit,i=[].slice,(S={}).noConflict=function(){return b.TraceKit=r,S},S.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw S.report(e),e}}},S.report=(u=[],T=O=y=null,t.subscribe=function(e){!0!==l&&(a=b.onerror,b.onerror=n,l=!0),u.push(e)},t.unsubscribe=function(e){for(var n=u.length-1;0<=n;--n)u[n]===e&&u.splice(n,1)},t),S.computeStackTrace=(c={},g.augmentStackTraceWithInitialElement=d,g.guessFunctionName=_,g.gatherContext=h,g.ofCaller=function(n){n=1+(null==n?0:+n);try{throw new Error}catch(e){return g(e,n+1)}},g.getSource=x,g),S.extendToAsynchronousCallbacks=function(){function e(e){var t=b[e];b[e]=function(){var e=i.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=S.wrap(n)),t.apply?t.apply(this,e):t(e[0],e[1])}}e("setTimeout"),e("setInterval")},S.remoteFetching||(S.remoteFetching=!0),S.collectWindowErrors||(S.collectWindowErrors=!0),(!S.linesOfContext||S.linesOfContext<1)&&(S.linesOfContext=11),e.exports&&b.module!==e?e.exports=S:b.TraceKit=S)})});

!function(n){var i={};function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="../",r(r.s=37)}([function(e,t){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=/[A-Z]/g,n=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i,r=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function l(e){return null===e}function u(e){return"object"===(void 0===e?"undefined":a(e))}function c(e){return"function"==typeof e}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"string"==typeof e}var p={_UA:navigator.userAgent,arrayLikeObjToArray:function(e){return Array.prototype.slice.call(e)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},debounce:function(o,s,a){var l=void 0;return function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=a&&!l;clearTimeout(l),l=setTimeout(function(){l=null,a||o.apply(e,n)},s),r&&o.apply(this,n)}},decapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)},echoFn:function(e){return function(){return e}},extend:function e(t){for(var n=void 0,i=void 0,r=void 0,o=arguments.length,s=Array(1<o?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];for(i=0;i<s.length;i++)for(r in n=s[i])n.hasOwnProperty(r)&&(u(t[r])&&!l(t[r])&&u(n[r])?t[r]=e({},t[r],n[r]):t[r]=n[r]);return t},forEach:function e(t,n,i){var r=void 0;if(t)if(c(t))for(r in t)"prototype"===r||"length"===r||"name"===r||t.hasOwnProperty&&!t.hasOwnProperty(r)||n.call(i,t[r],r,t);else if(d(t))for(var o="object"!==(void 0===t?"undefined":a(t)),r=0,s=t.length;r<s;r++)(o||r in t)&&n.call(i,t[r],r,t);else if(t.forEach&&t.forEach!==e)t.forEach(n,i,t);else for(r in t)t.hasOwnProperty(r)&&n.call(i,t[r],r,t);return t},getInternetExplorerVersion:function(e){var t=-1;return"Microsoft Internet Explorer"===e.appName&&(e=e.userAgent,null!==(e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e))&&(t=parseFloat(e[1]))),t},isAndroid:function(){return/Android/.test(p._UA)},isArray:d,isArrayLike:function(e){if(null===e||p.isWindow(e)||p.isFunction(e)||p.isUndefined(e))return!1;var t=e.length;return!(1!==e.nodeType||!t)||p.isString(e)||p.isArray(e)||0===t||"number"==typeof t&&0<t&&t-1 in e},isDefined:function(e){return void 0!==e},isEmptyString:function(e){return p.isString(e)&&0===e.length},isFunction:c,isIDevice:function(){return/iP(hone|ad)/.test(p._UA)},isIPhone:function(){return/iP(hone|od)/.test(p._UA)},isISO8601:function(e){return p.isNumber(e)&&(e=String(e)),!!p.isString(e)&&r.test(e.trim())},isMobile:function(){return/iP(hone|ad|od)|Android|Windows Phone/.test(p._UA)},isMicrosoftBrowser:function(){var e=window.navigator.userAgent;return 0<e.indexOf("Edge")||0<e.indexOf("Trident/")||0<e.indexOf("MSIE ")},isNotEmptyString:function(e){return p.isString(e)&&0!==e.length},isNull:l,isNodeList:function(e){var t=Object.prototype.toString.call(e);return"object"===(void 0===e?"undefined":a(e))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&"number"==typeof e.length&&(0===e.length||"object"===a(e[0])&&0<e[0].nodeType)},isNumber:function(e){return"number"==typeof e},isObject:u,isOldIE:function(){var e=p.getInternetExplorerVersion(navigator);return-1!==e&&e<10},isString:o,isUndefined:function(e){return void 0===e},isValidEmail:function(e){return!!p.isString(e)&&n.test(e.trim())},isWindow:function(e){return p.isObject(e)&&e.window===e},noop:function(){},once:function(t,e,n){function i(){n.apply(void 0,arguments),e.forEach(function(e){t.off(e,i)})}e.forEach(function(e){t.on(e,i)})},rotateRight:function(e,t){for(var n=[],i=e.length,r=t%i,o=void 0,o=0;o<i;o++)n.push(e[r]),i-1<=r?r=0:r++;return n},snakeCase:function(e,n){if(e&&o(e))return n=n||"_",e.replace(i,function(e,t){return(t?n:"")+e.toLowerCase()})},throttle:function(r,o){var s=void 0,a=void 0,l=void 0,u=void 0,c=void 0,d=p.debounce(function(){a=u=!1},o);return function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];s=n;return c=c||setTimeout(function(){c=null,a&&(l=r.apply(e,s)),d()},o),u?a=!0:(u=!0,l=r.apply(this,s)),d(),l}},toFixedDigits:function(e,t){var n=String(e);if(t=p.isNumber(t)?t:0,e=p.isNumber(e)?e:parseInt(e,10),!p.isNumber(e)||isNaN(e))return String(NaN);for(n=String(e);n.length<t;)n="0"+n;return n},transformArray:function(e,n){var i=[];return e.forEach(function(e,t){t=n(e,t);p.isDefined(t)&&i.push(t)}),i},treeSearch:function e(t,n,i){for(var r=n(t),o=0;o<r.length;o++){if(i(r[o]))return r[o];var s=e(r[o],n,i);if(s)return s}}};e.exports=p},function(e,t,n){var s=n(0),r={isVisible:function(e){return"hidden"!==window.getComputedStyle(e).visibility},isHidden:function(e){return"none"===window.getComputedStyle(e).display},isShown:function(e){return!r.isHidden(e)},hide:function(e){e.__prevStyleDisplay=e.style.display,e.style.display="none"},show:function(e){r.isHidden(e)&&(e.style.display=e.__prevStyleDisplay),e.__prevStyleDisplay=void 0},hasClass:function(e,t){var n,i,r=void 0;if(s.isNotEmptyString(t)){if(e.classList)return e.classList.contains(t);for(t=t||"",r=0,i=(n=s.isString(e.getAttribute("class"))?e.getAttribute("class").split(/\s+/):[]).length;r<i;r+=1)if(n[r]===t)return!0}return!1},addClass:function(e,t){var n=void 0;s.isNotEmptyString(t)&&(e.classList?e.classList.add(t):(n=s.isString(e.getAttribute("class"))?e.getAttribute("class").split(/\s+/):[],s.isString(t)&&s.isNotEmptyString(t.replace(/\s+/,""))&&(n.push(t),e.setAttribute("class",n.join(" ")))))},removeClass:function(e,t){if(s.isNotEmptyString(t))if(e.classList)e.classList.remove(t);else{var n,i=s.isString(e.getAttribute("class"))?e.getAttribute("class").split(/\s+/):[],r=[],o=void 0;if(s.isString(t)&&s.isNotEmptyString(t.replace(/\s+/,""))){for(o=0,n=i.length;o<n;o+=1)t!==i[o]&&r.push(i[o]);e.setAttribute("class",r.join(" "))}}},addEventListener:function(t,n,i){s.isArray(t)?s.forEach(t,function(e){r.addEventListener(e,n,i)}):s.isArray(n)?s.forEach(n,function(e){r.addEventListener(t,e,i)}):t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent("on"+n,i)},removeEventListener:function(t,n,i){s.isArray(t)?s.forEach(t,function(e){r.removeEventListener(e,n,i)}):s.isArray(n)?s.forEach(n,function(e){r.removeEventListener(t,e,i)}):t.removeEventListener?t.removeEventListener(n,i,!1):t.detachEvent?t.detachEvent("on"+n,i):t["on"+n]=null},dispatchEvent:function(e,t){e.dispatchEvent?e.dispatchEvent(t):e.fireEvent("on"+t.eventType,t)},isDescendant:function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},getTextContent:function(e){return e.textContent||e.text},prependChild:function(e,t){return t.parentNode&&t.parentNode.removeChild(t),e.insertBefore(t,e.firstChild)},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},isDomElement:function(e){return e instanceof Element},click:function(e,t){r.addEventListener(e,"click",t)},find:function(e,t){return s.arrayLikeObjToArray(e.querySelectorAll(t))},once:function(t,n,i){r.addEventListener(t,n,function e(){i.apply(void 0,arguments),r.removeEventListener(t,n,e)})},getPosition:function(e){if(e.getBoundingClientRect)return{left:(r=e.getBoundingClientRect()).left,top:r.top,bottom:r.bottom,right:r.right};for(var t=0,n=0,i=e.offsetWidth,r=e.offsetHeight;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{left:t,top:n,bottom:n+r,right:t+i}},elementPositionInViewport:function(e,t){t="number"==typeof t?t:0;var n=r.getPosition(e),e=n.top,n=n.bottom;return e<0-t?"ABOVE":n>(window.innerHeight||document.documentElement.clientHeight)+t?"UNDER":"INSIDE"},isElementInViewport:function(e,t){return"INSIDE"===r.elementPositionInViewport(e,t)},getUrlParts:function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,protocol:t.protocol,hash:t.hash,search:t.search}},getDimension:function(e){var t;return!s.isOldIE()&&e.getBoundingClientRect?{width:(t=e.getBoundingClientRect()).width,height:t.height}:{width:e.offsetWidth,height:e.offsetHeight}}};e.exports=r},function(e,t,n){var i=n(0),r=videojs.Button.extend();r.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-social-share-control vjs-control vjs-social-share-control-"+i.snakeCase(this.buttonName,"-"),innerHTML:'<div class="vjs-social-icon vjs-'+i.snakeCase(this.buttonName,"-")+'-icon "></div>'})},r.prototype.onClick=i.debounce(function(){var e=this.player();this.socialMethod&&e.socials&&e.socials[this.socialMethod]?e.socials[this.socialMethod].call(this):console.log("This social is not supported in this player")},500);var o={DiggButton:"postToDiggit",FacebookButton:"postToFB",MailButton:"postToMail",LinkedinButton:"postToLinkedIn",PinterestButton:"postToPinterest",RedditButton:"postToReddit",TwitterButton:"postToTWTTR"},s={};Object.keys(o).forEach(function(e){var t=o[e],n=r.extend();n.prototype.buttonName=e,n.prototype.socialMethod=t,s[e]=n}),e.exports=s},function(e,t,n){var i=n(0),r=document.createElement("a"),o=document.documentMode,s={appendGeolocation:function(t){try{return s.appendKeyToURL(t,"geo",window.PageCriteria.geo)}catch(e){return t}},appendKeyToURL:function(e,t,n){var i=/\?/.test(e)?"&":"?";i+=t+"="+encodeURIComponent(n.toString());e=e.split("#");return 2===e.length?e[0]+i+"#"+e[1]:e[0]+i},objToQueryString:function(e){var n=[];return i.forEach(e,function(e,t){n.push(t+"="+e)}),n.join("&")},queryStringToObj:function(e,r){if(r=i.isFunction(r)?r:function(){return!0},!("string"==typeof e||e instanceof String))return{};var e=(e=e.trim().replace(/^\?/,"")).split("&"),o={};return i.forEach(e,function(e){var t,n,i;""!==e&&(t=(n=e.split("="))[0],i=n[1],r(t,i)&&(o[t]=i))}),o},urlParts:function(e){var t=e,e=void 0;return o&&(r.setAttribute("href",t),t=r.href,/(.*):(\d+)/.test(r.host)&&(e=r.host.split(":"),r.host=e[0],r.port=e[1])),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:i.isNotEmptyString(r.port)?r.port:80,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}};e.exports=s},function(e,t){var m={};function n(e){var t=e||window.navigator,n=t.appVersion,i=t.userAgent,r=t.appName,o=String(parseFloat(n)),s=parseInt(o,10),a=void 0,t=void 0;-1!==(t=i.indexOf("Opera"))?(r="Opera",o=i.substring(t+6),-1!==(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!==(t=i.indexOf("MSIE"))?(r="Microsoft Internet Explorer",o=i.substring(t+5)):-1!==(t=i.indexOf("Chrome"))?(r="Chrome",o=i.substring(t+7)):-1!==(t=i.indexOf("Safari"))?(r="Safari",o=i.substring(t+7),-1!==(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!==(t=i.indexOf("Firefox"))?(r="Firefox",o=i.substring(t+8)):-1!==i.indexOf("Trident/")?(r="Microsoft Internet Explorer",o=i.substring(i.indexOf("rv:")+3)):(l=i.lastIndexOf(" ")+1)<(t=i.lastIndexOf("/"))&&(r=i.substring(l,t),o=i.substring(t+1),r.toLowerCase()===r.toUpperCase()&&(r=window.navigator.browser)),-1!==(a=(o=-1!==(a=(o=-1!==(a=o.indexOf(";"))?o.substring(0,a):o).indexOf(" "))?o.substring(0,a):o).indexOf(")"))&&(o=o.substring(0,a)),isNaN(s)&&(o=String(parseFloat(n)),s=parseInt(n,10));var l=/Mobile|mini|Fennec|Android|iP(ad|od|hone)|Windows Phone/.test(n),u="-",c=!0,t=!1,a=void 0;try{for(var d,p=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}][Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value;if(h.r.test(i)){u=h.s;break}}}catch(e){t=!0,a=e}finally{try{!c&&p.return&&p.return()}finally{if(t)throw a}}var f="-",v=void 0;switch(/Windows/.test(u)&&(f=(v=/Windows (.*)/.exec(u))?v[1]:"",u="Windows"),u){case"Mac OS X":f=(v=/Mac OS X (10[._\d]+)/.exec(i))?v[1]:"";break;case"Android":f=(v=/Android ([._\d]+)/.exec(i))?v[1]:"";break;case"iOS":f=(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(n))?f[1]+"."+f[2]+"."+(f[3]||0):""}t=parseInt(f.split(".")[0],10),a=!i.match(/Windows Phone/)&&i.match(/iPhone/);m.browser=r,m.browserVersion=o,m.browserMajorVersion=s,m.mobile=l,m.os=u,m.osVersion=f,m.osMajorVersion=t,m.isIPhone=a}n(),window.addEventListener("updateSystemInfo",function(e){n(e.detail)}),e.exports=m},function(e,t){e.exports=DM.molFeTracking},function(e,t,n){"use strict";var i,r,o=n(3),s=(i=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t)throw new TypeError("Invalid source endpoint '"+t+"'");e.next=2;break;case 2:return e.next=4,window.fetch(o.appendGeolocation(t),{method:"GET",credentials:"same-origin",redirect:"follow"});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Error fetching source endpoint '"+t+"', status "+n.status);case 7:return e.abrupt("return",n.json());case 8:case"end":return e.stop()}},e,void 0)}),r=function(){var a=i.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})},function(e){return r.apply(this,arguments)}),n=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e){return function(){var a=e.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})}}var u,c,d=Symbol("fetch"),p=Symbol("pendingRequest"),n=(n(h,[{key:"update",value:function(e){this.source=e}},{key:d,value:(c=l(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,"string"==typeof this.source)return e.next=4,s(this.source);e.next=7;break;case 4:t=e.sent,e.next=16;break;case 7:if("function"==typeof this.source)return e.next=10,this.source.apply(this,n);e.next=13;break;case 10:t=e.sent,e.next=16;break;case 13:return e.next=15,this.source;case 15:t=e.sent;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"get",value:(u=l(regeneratorRuntime.mark(function e(t){var n,i,r,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this[p]){for(n=s.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=s[r];this[p]=this[d].apply(this,i)}return e.prev=1,e.next=4,this[p];case 4:o=e.sent,this[p]=null,t(null,o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])})),function(e){return u.apply(this,arguments)})}]),h);function h(e){!function(e){if(!(e instanceof h))throw new TypeError("Cannot call a class as a function")}(this),this.source=e}t.a=n},function(e,t){e.exports=DM.molFePageMetadata},function(e,t){e.exports=DM.molFeMiniLodash},function(e,t,n){"use strict";var i=n(133),r=n(135),o=n(136),s=o.onScroll,a=o.onOrientationChange,o=n(139),n=o.calcPositionStyles,o=o.calcPaddingStyles;function l(n){return new Promise(function(e,t){n.src?n.complete?e():(n.addEventListener("load",e),n.addEventListener("error",t)):t()})}function u(){return window.PageCriteria&&window.PageCriteria.isTablet}e.exports={elementIsVisibleInViewPort:r,isMobile:function(){return window.PageCriteria&&window.PageCriteria.isMobile&&!u()},isTablet:u,onDocumentLoad:i,onOrientationChange:a,onScroll:s,waitForElementToLoad:function(t){return new Promise(function(e){"img"===t.tagName.toLowerCase()?e(l(t)):e()})},waitForImg:l,calcPositionStyles:n,calcPaddingStyles:o,nodeListToArray:function(e){return[].map.call(e,function(e){return e})}}},function(e,t){e.exports=function(e){return!e.playlistClickToPlay&&(e.forceFlyOutInProgress||e.autoplayInline||"playlistCounter"in e&&0<e.playlistCounter||"autoplayIndex"in e&&0<e.autoplayIndex||(t=e.options().plugins,Boolean(t)&&Boolean(t["editorial-content"]))||(t=e.options().plugins,Boolean(t)&&Boolean(t["video-advertising-mode"]))||Boolean(e.isPlayingAdhesive)||Boolean(e.autoplayBeforeAdhesive));var t}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(0),l={defer:function(e){setTimeout(e,0)},iterator:function(i){return function e(t){function n(){return i.length&&i[t].apply(i,arguments),n.next()}return n.next=function(){return t<i.length-1?e(t+1):null},n}(0)},waterfall:function(e,a){a=a||function(){},i.isArray(e)?(e.length?function o(s){return function(e){for(var t,n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e?(a.apply(void 0,[e].concat(i)),a=function(){}):((t=s.next())?i.push(o(t)):i.push(a),l.defer(function(){s.apply(void 0,i)}))}}(l.iterator(e)):a)():(e=new Error("First argument to waterfall must be an array of functions"),a(e))},when:function(e,r){if(!i.isFunction(r))throw new TypeError("async.when error: missing callback argument");var o=i.isFunction(e)?e:function(){return Boolean(e)};return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.pop();return o.apply(void 0,t)?r.call.apply(r,[this].concat(t,[i])):i.apply(void 0,[null].concat(t))}}};e.exports=l},function(e,t,n){var i=n(0),r=n(1),o=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t),this.buttonPressed_=!1}});o.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-social-share-control vjs-control vjs-social-share-control-"+i.snakeCase(this.buttonName,"-"),innerHTML:'<div class="vjs-social-icon vjs-'+i.snakeCase(this.buttonName,"-")+'-icon "></div>'})},o.prototype.getPopup=function(){},o.prototype.onClick=function(){this.buttonPressed_?this.closePopup():this.openPopup()},o.prototype.openPopup=function(){var e=this.player(),t=this.getPopup();r.addClass(this.el_,"active"),this.buttonPressed_=!0,e.wasPlaying_=!e.paused(),t&&(t.isOpen_=!1,e.trigger("CloseButton.pressed"),this.buttonPressed_=!0,(this.currentPopup_=t).one("FullWidthPopup.close",videojs.bind(this,o.prototype.closePopup)),e.one("play",videojs.bind(this,o.prototype.closePopup)),e.addChild(t),setTimeout(function(){e.hasStarted()&&!e.paused()&&e.pause(),t.isOpen_=!0},0));var n=document.querySelector("#"+e.tagAttributes.id+" video");n&&r.addClass(n,"hideVideoForSocialShare")},o.prototype.closePopup=function(){var e=this.player(),t=this.currentPopup_;r.removeClass(this.el_,"active");var n=document.querySelector("#"+e.tagAttributes.id+" video");n&&r.removeClass(n,"hideVideoForSocialShare"),this.buttonPressed_=!1,t&&t.isOpen_&&(t.isOpen_=!1,e.removeChild(t),e.hasStarted()&&e.wasPlaying_&&e.play())},e.exports=o},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=n(60),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);t=new r(e,t);this.addChild(t),this.player_.on("CloseButton.pressed",videojs.bind(this,function(){this.el_&&this.trigger("FullWidthPopup.close")}))}});n.prototype.createEl=function(e,t){var n=(t.className||"")+" vjs-full-width-popup vjs-control";return videojs.Component.prototype.createEl.call(this,e||"div",i({},t,{className:n}))},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});n.prototype.name=function(){return"MolModalWindowBackdrop"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-modal-window-backdrop"})},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});n.prototype.name=function(){return"MolModalWindow"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-modal-window"})},e.exports=n},function(e,t,n){function i(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var r=n(4),o=n(0),s=n(145),a=[],l=o.debounce(function(){a.forEach(function(t){var n=t.element;setTimeout(function(){var e=s(n)&&!document.hidden;e&&!t.inViewport?(t.inViewport=!0,n.dispatchEvent(i("viewport.enter"))):!e&&t.inViewport&&(t.inViewport=!1,n.dispatchEvent(i("viewport.exit")))},0)})},100);e.exports={check:function(e){a.push({element:e,inViewport:!1});e=window;r.mobile&&(e=document.querySelector(".scrollable-content")||window),"complete"===document.readyState?l():(window.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)),e.addEventListener("scroll",l,!1),window.addEventListener("resize",l,!1),document.addEventListener("visibilitychange",l,!1)},checkedElements:a}},function(e,t,n){"use strict";n.r(t),n.d(t,"isFlyoutOnAndCollapsed",function(){return i}),n.d(t,"isFlyaway",function(){return r});var i=function(e){return Boolean(e.flyoutState&&0===e.flyoutState())},r=function(e){return i(e)||Boolean(e.isPlayingAdhesive)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getHasBeenEnabledOnPage",function(){return i}),n.d(t,"runCloseHandlerIfOpen",function(){return U}),n.d(t,"initStickyPlayer",function(){return r});var B=n(7),t=n(3),L=n.n(t),D=n(0),t=n(20),N=n.n(t),t=n(21),F=n.n(t),R=null,H=!1,i=function(){return H},V=["default","letterbox","closebottom"],U=function(){R&&R()},r=function(){var d=!1;try{var e=Object(B.getPageMetadata)().renderPlatform,t=Object(B.getPageCriteria)(),n=t.isMobile,i=t.pageType;if("mobile"===e&&"article"===i&&n&&"IntersectionObserver"in window){var r=L.a.queryStringToObj(window.location.search),p=document.querySelector("video[data-opts]"),h=Array.from(document.querySelectorAll("video[data-opts]")).slice(1).map(function(e){return e.player}),f=p.player,o="true"===r.debugAdhesiveVideoplayer,s=f.options().flyawayPlayer,a=s&&s.enabled,l=s&&s.fromParagraph,v=f.el().parentNode,m=f.options_.inactivityTimeout,y=f.controlBar.getChild("molPreviousVideoButton"),g=f.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-play-control")}),A=f.controlBar.getChild("molSkipVideoButton"),b=f.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-progress-control")}),w=f.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-volume-menu-button")}),j=f.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-timer-controls")}),u=void 0,T=void 0,E=!1,_=!1,C=!1,S="letterbox";if(s&&s.adhesiveStyleVariant&&V.includes(s.adhesiveStyleVariant)&&(S=s.adhesiveStyleVariant),r.adhesiveStyleVariant&&V.includes(r.adhesiveStyleVariant)&&(S=r.adhesiveStyleVariant),!a&&!o)return;f.one("playerstate.enter.contentPlaying",function(){C=!0});var c,k,x=function(){if(!d){var e=document.createElement("div");e.classList.add("vjs-editorial-sticky-placeholder"),e.style.height=v.offsetHeight+"px",d=!0,v.parentNode.classList.add("variant-"+S),v.parentNode.classList.add("vjs-editorial-sticky"),v.parentNode.parentNode.appendChild(e),f.options_.inactivityTimeout=3e3,f.userActive(!1),v.classList.add("mol-video-advertising-mode"),T=new F.a(f,{}),f.addChild(T);var t=function(){f.userActive(!0)};p.addEventListener("touchstart",t),f.isPlayingAdhesive=!0,f.autoplayBeforeAdhesive=!1,f.play();var n=document.createElement("button");n.classList.add("editorial-sticky-close"),"closebottom"===S&&(n.innerHTML="Close");var i=document.querySelector(".scrollable-content > article > figure"),r=document.querySelector(".scrollable-content")||window,o=Object(D.debounce)(function(){var e;f.isPlayingAdhesive&&((e=i.getBoundingClientRect().y)>(document.body.classList.contains("smart-banner")?173:93)?(v.parentNode.style.willChange="transform",v.parentNode.style.transform="translateY("+e+"px)"):(v.parentNode.style.transform="",v.parentNode.style.willChange=""))},5);r.addEventListener("scroll",o),R=function(){r.removeEventListener("scroll",o),p.removeEventListener("touchstart",t),e.remove(),v.parentNode.classList.remove("vjs-editorial-sticky"),v.parentNode.style.transform="",v.parentNode.style.willChange="",v.classList.remove("mol-video-advertising-mode"),f.removeChild(T),f.options_.inactivityTimeout=m,f.isPlayingAdhesive=!1,f.pause(),n.remove(),R=null,f.controlBar.addChild(y),f.controlBar.addChild(g),f.controlBar.addChild(A),f.controlBar.addChild(b),f.controlBar.addChild(w),f.controlBar.addChild(j),f.one("play",function(){f.muted()&&f.muted(!1)})},n.addEventListener("click",U),f.one("mol.play.next.video",function(){E=!0}),f.on("ended",function(){E||_||!C||"ended"!==f.playerState.getStateName()||(_=!0,f.autoClosedSticky=!0,f.resetVideo({autoplay:!1,video:f.options()}),f.el().classList.add("has-autoclosed-sticky"),f.one("play",function(){f.autoClosedSticky=!1}),U())});var s=!0,a=!1,l=void 0;try{for(var u,c=h[Symbol.iterator]();!(s=(u=c.next()).done);s=!0)u.value.one("play",U)}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}try{window.DM&&window.DM.molFeGallery&&window.DM.molFeGallery.addBeforeOpenHandler&&window.DM.molFeGallery.addBeforeOpenHandler(U)}catch(e){}v.parentNode.appendChild(n)}},P=!1,I=null,M=function(){f.muted(!0),p.muted=!0,p.setAttribute("playsinline","playsinline"),p.setAttribute("muted",!0),u=new N.a(f),f.addChild(u),f.autoplayBeforeAdhesive=!0,f.play()},O=new IntersectionObserver(function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)o.value.isIntersecting?P||(P=!0,M(),I&&I.disconnect()):P&&(x(),t.disconnect())}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}},{threshold:[.5]});O.observe(v),l&&(k=(c=document.querySelectorAll(".scrollable-content > article > p.mol-para-with-font"))&&c[l])&&(I=new IntersectionObserver(function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)o.value.isIntersecting&&(M(),x(),t.disconnect(),O.disconnect())}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}},{threshold:[.5]})).observe(k),H=!0,v.parentNode.classList.add("vjs-possible-editorial-sticky")}}catch(d){}}},function(e,t){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n=videojs.Button.extend({init:function(e){var t=this;videojs.Button.call(this,e,i({name:"TapToUnmute"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}));function n(){e.muted()||t.onClick()}e.on("volumechange",n),this.on("dispose",function(){e.off("volumechange",n)})}});n.prototype.createEl=function(){return videojs.createEl("div",{className:"vjs-tap-to-unmute-control"})},n.prototype.onClick=function(e){var t=this.player();return t.muted(!1),t.removeChild(this),this.dispose(),e&&e.stopPropagation(),!1},e.exports=n},function(e,t,n){var i=n(15),r=n(16),o=n(150),s=n(151),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new i(e),t=new r(e);n.addChild(t),t.addChild(new o(e,{})),t.addChild(new s(e,{})),this.addChild(n)}});n.prototype.name=function(){return"MolControlsOverlayPanel"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-controls-overlay-panel"})},e.exports=n},function(t,e,n){"use strict";!function(e){n(49);e="undefined"===e?window:e;t.exports={isString:function(e){return"string"==typeof e||e instanceof String},setImmediate:e.setImmediate}}.call(this,n(11))},function(e,t,n){var i=n(13),r=n(59),i=i.extend();i.prototype.buttonName="ShareButton",i.prototype.getPopup=function(){return new r(this.player_)},i.prototype.name=function(){return"ShareButton"},e.exports=i},function(e,Fi,Ri){"use strict";Ri.r(Fi),function(e){Ri.d(Fi,"getDetails",function(){return Bi}),Ri.d(Fi,"run",function(){return Ci}),Ri.d(Fi,"runWaterfall",function(){return Oi}),Ri.d(Fi,"requestAd",function(){return Pi}),Ri.d(Fi,"requestNextAd",function(){return Ii}),Ri.d(Fi,"vastSelectors",function(){return je});var j,t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n=(j=ce={exports:{}},function(e){var l,t,n=Object.prototype,u=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",a=e.regeneratorRuntime;function c(e,t,n,i){var r,o,s,a,t=t&&t.prototype instanceof p?t:p,t=Object.create(t.prototype),i=new A(i||[]);return t._invoke=(r=e,o=n,s=i,a="suspendedStart",function(e,t){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===e)throw t;return w()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var i=function e(t,n){var i=t.iterator[n.method];if(void 0===i){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=d(i,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;i=i.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s);if(i){if(i===l)continue;return i}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===a)throw a="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a="executing";i=d(r,o,s);if("normal"===i.type){if(a=s.done?"completed":"suspendedYield",i.arg===l)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(a="completed",s.method="throw",s.arg=i.arg)}}),t}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function p(){}function h(){}function f(){}function v(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function m(s){var t;this._invoke=function(n,i){function e(){return new Promise(function(e,t){!function t(e,n,i,r){e=d(s[e],s,n);if("throw"!==e.type){var o=e.arg,n=o.value;return n&&"object"==typeof n&&u.call(n,"__await")?Promise.resolve(n.__await).then(function(e){t("next",e,i,r)},function(e){t("throw",e,i,r)}):Promise.resolve(n).then(function(e){o.value=e,i(o)},r)}r(e.arg)}(n,i,e,t)})}return t=t?t.then(e,e):e()}}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function b(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return e.next=e}}return{next:w}}function w(){return{value:void 0,done:!0}}a?j.exports=a:((a=e.regeneratorRuntime=j.exports).wrap=c,l={},(i={})[r]=function(){return this},(e=(e=Object.getPrototypeOf)&&e(e(b([]))))&&e!==n&&u.call(e,r)&&(i=e),t=f.prototype=p.prototype=Object.create(i),(h.prototype=t.constructor=f).constructor=h,f[s]=h.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(t),e},a.awrap=function(e){return{__await:e}},v(m.prototype),m.prototype[o]=function(){return this},a.AsyncIterator=m,a.async=function(e,t,n,i){var r=new m(c(e,t,n,i));return a.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},v(t),t[s]="Generator",t[r]=function(){return this},t.toString=function(){return"[object Generator]"},a.keys=function(n){var e,i=[];for(e in n)i.push(e);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=b,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(g),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function e(e,t){return o.type="throw",o.arg=n,i.next=e,t&&(i.method="next",i.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=u.call(r,"catchLoc"),a=u.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var o=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),g(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i,r=n.completion;return"throw"===r.type&&(i=r.arg,g(n)),i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:b(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}})}(function(){return this}()||Function("return this")()),ce.exports),i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&0<=Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime"),o=r&&i.regeneratorRuntime;i.regeneratorRuntime=void 0;var s=n;if(r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}function a(e){return/^\d+(\.\d+)?%$/g.test(e)?e:se(e)}function l(e,t){if(e=e&&ae(e)){e=$(e,"NonLinearAds"),e=e&&$(e,"TrackingEvents"),e=e&&ee(e,"Tracking");if(e&&0<e.length){e=e.map(function(e){return{event:ie(e).event,uri:ne(e)}});if(!t)return e;e=e.filter(function(e){return e.event===t});if(0<e.length)return e}}return null}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(n):void 0:null===(e=Object.getPrototypeOf(e))?void 0:d(e,t,n)}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e){return Array.isArray(e)?e:Array.from(e)}function h(e){return/\d+/.test(e)?fe(e):e}function f(e){return"string"==typeof e?"true"===e:Boolean(e)}function v(e,t){return e=parseInt(re(e,"sequence"),10),t=parseInt(re(t,"sequence"),10),e<t?-1:t<e?1:0}function m(e){if(e=e&&$(e,"VAST")){e=$(e,"Error");if(e)return ne(e)}return null}function y(e){var t=me(e);return Array.isArray(t)&&0<t.length?(Ae(e)?t.filter(ge).sort(v):t)[0]:null}function F(){return Boolean($((0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})||{},"Wrapper"))}function R(e){return Boolean($(e||{},"Inline"))}function g(e){return(e=(e=$(e,"Wrapper"))&&$(e,"VastAdTagUri"))&&ne(e)||null}function A(e){var t=(i=ie($(e,"Wrapper"))).allowMultipleAds,n=i.fallbackOnNoAd,e=i.followAdditionalWrappers,i={};return t&&(i.allowMultipleAds=f(t)),n&&(i.fallbackOnNoAd=f(n)),e&&(i.followAdditionalWrappers=f(e)),i}function b(e){if(e=e&&te(e)){e=$(e,"Error");if(e)return ne(e)}return null}function H(e){if(t=e&&ae(e)){var e=$(t,"UniversalAdId"),h=e&&ne(e)||null,t=$(t,"Linear"),t=$(t,"MediaFiles"),t=t&&ee(t,"MediaFile");if(t&&0<t.length)return t.map(function(e){var t=ne(e),n=ie(e),i=n.apiFramework,r=n.bitrate,o=n.codec,s=n.delivery,a=n.height,l=n.id,u=n.maintainAspectRatio,c=n.maxBitrate,d=n.minBitrate,p=n.scalable,e=n.type,n=n.width;return{apiFramework:i,bitrate:r,codec:o,delivery:s,height:a,id:l,maintainAspectRatio:u,maxBitrate:c,minBitrate:d,scalable:p,src:t,type:e,universalAdId:h,width:n}})}return null}function w(e){if(e=e&&ae(e)){e=$(e,"Linear"),e=$(e,"MediaFiles"),e=e&&ee(e,"InteractiveCreativeFile");if(e&&0<e.length)return e.map(function(e){var t=ie(e),n=t.apiFramework,t=t.type;return{apiFramework:n,src:ne(e),type:t}})}return null}function V(e){var t=w(e);return t||((e=H(e))&&0<(t=e.filter(function(e){e=e.apiFramework;return"vpaid"===(void 0===e?"":e).toLowerCase()}).map(function(e){return{apiFramework:e.apiFramework,src:e.src,type:e.type}})).length?t:null)}function T(e){return(e=(e=e&&ae(e))&&$(e,"Linear"))&&$(e,"VideoClicks")||null}function E(e){return(e=(e=T(e))&&ee(e,"ClickTracking"))&&0<e.length?e.map(function(e){return ne(e)}):null}function _(e){return(e=(e=T(e))&&ee(e,"CustomClick"))&&0<e.length?e.map(function(e){return ne(e)}):null}function U(e){var t;return{AdParameters:(e=(t=/<Linear([\s\S]*)<\/Linear/gm.exec(e))&&t[1])&&((t=/<AdParameters[\s\w="]*>([\s\S]*)<\/AdParameters>/gm.exec(e))&&t[1].replace(/[\n\s]*<!\[CDATA\[[\n\s]*/,"").replace(/[\n\s]*\]\]>[\n\s]*$/,"").replace(/\]\]\]\]><!\[CDATA\[>/,"]]>").trim()),xmlEncoded:e&&(e=/<AdParameters[\s]*xmlEncoded="(.*?)">/gim.exec(e),Boolean(e)&&"true"===e[1])}}function C(e,t){var n=t.errorCode,i=void 0===(t=t.tracker)?Ee:t;e.forEach(function(e){var t=e.ad,e=e.parsedXML,e=b(t)||m(e);Boolean(e)&&i(e,{errorCode:n})})}function S(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document}function k(){var e=document.createElement("IFRAME");return e.sandbox="allow-forms allow-popups allow-scripts allow-same-origin",e.style.margin="0",e.style.padding="0",e.style.border="none",e.style.width="0",e.style.height="0",e.style.position="absolute",e}function x(e,t){var n=t.src,t=t.type;return e.canPlayType(t||({"3gp":"video/3gpp",avi:"video/x-msvideo",flv:"video/x-flv",m3u8:"application/x-mpegURL",m4v:"video/mp4",mov:"video/quicktime",mp4:"video/mp4",mpd:"application/dash+xml",ogv:"video/ogg",ts:"video/MP2T",webm:"video/webm",wmv:"video/x-ms-wmv"}[n=(n=n.match(/\.([^./?]+)(\?[^/]+)?$/i))&&n[1]]||"video/"+n))}function P(e,t,n){var i,n=n.getBoundingClientRect();return(e=H(e))?(e=e.filter(function(e){return x(t,e)}),i=n.width,e.slice(0).sort(function(e,t){return Math.abs(i-(e.width||0))-Math.abs(i-(t.width||0))})[0]):null}function I(){var e=document.createElement("BUTTON");return e.classList.add("mol-vast-skip-control"),e.type="button",e.innerHTML="skip",e.style.position="absolute",e.style.bottom="15px",e.style.right="15px",e}function M(e,t){return 99<=Qe(e,t)}function O(e){return e.muted||0===e.volume}function B(e){var t=e.offset,e=e.uri,n="number"==typeof t||/^\d+(\.\d+)?%$/g.test(n=t)&&!isNaN(parseFloat(n)),e="string"==typeof e&&0<e.length;return n&&e}function L(){return at.Date.now()}var D,W,q=s,z={clickThrough:"clickThrough",closeLinear:"closeLinear",complete:"complete",error:"error",exitFullscreen:"exitFullscreen",firstQuartile:"firstQuartile",fullscreen:"fullscreen",iconClick:"iconClick",iconView:"iconView",impression:"impression",midpoint:"midpoint",mute:"mute",otherAdInteraction:"otherAdInteraction",pause:"pause",playerCollapse:"playerCollapse",playerExpand:"playerExpand",progress:"progress",resume:"resume",rewind:"rewind",skip:"skip",start:"start",thirdQuartile:"thirdQuartile",timeSpentViewing:"timeSpentViewing",unmute:"unmute"},G={acceptInvitation:"acceptInvitation",adCollapse:"adCollapse",close:"close",creativeView:"creativeView"},X=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")],Q=function(e){return function(e){if(null===e)throw new Error("Parse error");var e="parsererror"===e.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===e.documentElement.namespaceURI?e.documentElement:("xml"===e.documentElement.tagName||"html"===e.documentElement.tagName)&&e.documentElement.childNodes&&0<e.documentElement.childNodes.length&&"parsererror"===e.documentElement.childNodes[0].nodeName?e.documentElement.childNodes[0]:"html"===e.documentElement.tagName&&e.documentElement.childNodes&&0<e.documentElement.childNodes.length&&"body"===e.documentElement.childNodes[0].nodeName&&e.documentElement.childNodes[0].childNodes&&e.documentElement.childNodes[0].childNodes.length&&"parsererror"===e.documentElement.childNodes[0].childNodes[0].nodeName?e.documentElement.childNodes[0].childNodes[0]:void 0;if(void 0!==e)throw e=function(e){for(var t,n,i=(e=e,t=new XMLSerializer,Array.prototype.map.call(e.childNodes,function(e){return t.serializeToString(e)}).join("")),r=0;r<X.length;r++)if(n=X[r].exec(i))return n[1]}(e)||"Parse error",new Error(e)}(e),e},Y="element",K="text",Z=function e(t){var n=function(){if(1===t.nodeType)return Y;if(3===t.nodeType||4===t.nodeType)return K;if(9===t.nodeType)return"document";throw new Error("Unsupported element type")}(),i={type:n};if(n===Y){if(i.name=t.nodeName.toLowerCase(),0<t.attributes.length){var r=!0,o=!(i.attributes={}),s=void 0;try{for(var a,l=Array.from(t.attributes)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;i.attributes[u.nodeName]=u.nodeValue}}catch(e){o=!0,s=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}}}else n===K&&(i.text=t.nodeValue.replace("<![CDATA[","").replace("]]>","").trim());if(t.hasChildNodes()){var o=Array.from(t.childNodes).filter(function(e){return[1,3,4].includes(e.nodeType)}),c=[];i.elements=c;var d=!0,s=!1,n=void 0;try{for(var p,h=o[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var f=e(p.value);(f.type!==K||0<f.text.length)&&c.push(f)}}catch(e){s=!0,n=e}finally{try{!d&&h.return&&h.return()}finally{if(s)throw n}}}return i},J=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).elements;return void 0===e?[]:e},$=function(e,t){return J(e).find(function(e){e=e.name;return(void 0===e?"":e).toUpperCase()===t.toUpperCase()})},ee=function(e,t){return"string"==typeof t?(n=t,J(e).filter(function(e){e=e.name;return(void 0===e?"":e).toUpperCase()===n.toUpperCase()})):J(e);var n},te=function(e){return J(e)[0]||null},ne=function(e){e=e&&te(e);return e&&e.text||null},ie=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).attributes;return void 0===e?{}:e},re=function(e,t){return ie(e)[t]},oe=new DOMParser,se=function(e){if("string"==typeof e){var t=e.match(/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/);if(t){t=(e=t[1],60*parseInt(e,10)*60*1e3+(e=t[2],60*parseInt(e,10)*1e3)+(e=t[3],1e3*parseInt(e,10))+parseInt(t[5]||0,10));if(!isNaN(t))return t}}return null},ae=function(e){e=te(e),e=e&&$(e,"creatives");return e&&ee(e).find(function(e){return $(e,"linear")})||null},le=function(e,t){e=e&&ae(e);if(e){e=$(e,"Linear"),e=e&&$(e,"TrackingEvents"),e=e&&ee(e,"Tracking");if(e&&0<e.length){e=e.map(function(e){var t=ie(e),n=t.event,t=t.offset,e=ne(e);return{event:n,offset:t&&a(t),uri:e}});if(!t)return e;e=e.filter(function(e){return e.event===t});if(0<e.length)return e}}return null},ue=function(e){return function(){var a=e.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})}},ce=function(e,t,n){return t&&pt(e.prototype,t),n&&pt(e,n),e},de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pe=function(e,t){var n,i={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i},he=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},fe=function(e){e=(""+e).match(/\d+/g);return parseInt(e[0],10)},ve=function(e){e=e&&ae(e),e=e&&$(e,"linear"),e=e&&$(e,"Icons"),e=e&&ee(e,"Icon");return e&&0<e.length?e.map(function(e){return de({},(t=ie(e),n=t.duration,i=t.height,r=t.offset,o=t.program,s=t.pxratio,a=t.width,l=void 0===(l=t.xPosition)?"right":l,t=void 0===(t=t.yPosition)?"top":t,{duration:n&&se(n),height:i&&fe(i),offset:r&&se(r),program:o,pxratio:s&&parseInt(s,10),width:a&&fe(a),xPosition:l&&h(l),yPosition:t&&h(t)}),(a=$(s=e,"StaticResource"),l=$(s,"HTMLResource"),t=$(s,"IFrameResource"),a?{staticResource:ne(a)}:l?{htmlResource:ne(l)}:t?{iFrameResource:ne(t)}:{staticResource:ne(s)}),0===(s=ee(e,"IconViewTracking").map(function(e){return ne(e)})).length?{}:{iconViewTracking:s},(s=$(e,"IconClicks"),e=s&&$(s,"IconClickThrough"),s=s&&ee(s,"IconClickTracking").map(function(e){return ne(e)}),{iconClickThrough:e&&ne(e),iconClickTracking:s&&0<s.length?s:void 0}));var t,n,i,r,o,s,a,l}):null},me=function(e){e=e&&$(e,"VAST"),e=e&&ee(e,"Ad");return e&&0<e.length?e:[]},ye=function(e){e=parseInt(re(e,"sequence"),10);return"number"!=typeof e||isNaN(e)?null:e},ge=function(e){return Boolean(ye(e))},Ae=function(e){e=me(e);return Array.isArray(e)&&1<e.filter(ge).length},r=function(e){e=e&&te(e);if(e){e=$(e,"Impression");if(e)return ne(e)}return null},be=function(e){e=T(e),e=e&&$(e,"ClickThrough");return e?ne(e):null},we=function(e){e=e&&ae(e),e=e&&$(e,"Linear"),e=e&&re(e,"skipoffset");return e?a(e):null},je=Object.freeze({getAds:me,getVastErrorURI:m,getPodAdSequence:ye,isPodAd:ge,hasAdPod:Ae,isAdPod:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.parsedXML}).some(Ae)},getFirstAd:y,isWrapper:F,isInline:R,getVASTAdTagURI:g,getWrapperOptions:A,getAdErrorURI:b,getImpressionUri:r,getMediaFiles:H,getInteractiveCreativeFiles:w,getInteractiveFiles:V,getClickThrough:be,getClickTracking:E,getCustomClick:_,getSkipOffset:we,getCreativeData:U,getIcons:ve,getLinearTrackingEvents:le,getNonLinearTrackingEvents:l}),Te=function(t){var n={};return Object.keys(t).forEach(function(e){n[e.toUpperCase()]=t[e]}),n},Ee=function(e,t){var n=new Image;return n.src=function(e,t){var n=e,i=Te(1<arguments.length&&void 0!==t?t:{});return Boolean(i.CACHEBUSTING)||(i.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(i.TIMESTAMP)||(i.TIMESTAMP=(new Date).toISOString()),Object.keys(i).forEach(function(e){var t=encodeURIComponent(i[e]);n=n.replace(new RegExp("\\["+e+"\\]","gm"),t)}),n}(e,t),n},o=function(r){return function(e,t){var n=t.data,t=t.tracker,i=void 0===t?Ee:t;e.forEach(function(e){var e=e.ad,t=r(e);if(Boolean(t))switch(!0){case"string"==typeof t:i(t,n);break;case Array.isArray(t):t.map(function(e){e=e.uri;return i(e,n)})}})}},i=function(t){return function(e){return le(e,t)}},_e=(u(s={},"clickThrough",o(function(e){var t=[],n=E(e),e=_(e);return Array.isArray(n)&&0<n.length&&t.push.apply(t,he(n.map(function(e){return{uri:e}}))),Array.isArray(e)&&0<e.length&&t.push.apply(t,he(e.map(function(e){return{uri:e}}))),t})),u(s,"closeLinear",o(i("closeLinear"))),u(s,"complete",o(i("complete"))),u(s,"error",C),u(s,"exitFullscreen",o(i("exitFullscreen"))),u(s,"firstQuartile",o(i("firstQuartile"))),u(s,"fullscreen",o(i("fullscreen"))),u(s,"iconClick",function(e,t){var n=t.data,i=t.tracker,r=void 0===i?Ee:i,o=n.iconClickTracking;if(Array.isArray(o)){var s=!0,t=!1,i=void 0;try{for(var a,l=o[Symbol.iterator]();!(s=(a=l.next()).done);s=!0)r(a.value,de({},n))}catch(e){t=!0,i=e}finally{try{!s&&l.return&&l.return()}finally{if(t)throw i}}}}),u(s,"iconView",function(e,t){var n=t.data,i=t.tracker,r=void 0===i?Ee:i,o=n.iconViewTracking;if(Array.isArray(o)){var s=!0,t=!1,i=void 0;try{for(var a,l=o[Symbol.iterator]();!(s=(a=l.next()).done);s=!0)r(a.value,de({},n))}catch(e){t=!0,i=e}finally{try{!s&&l.return&&l.return()}finally{if(t)throw i}}}}),u(s,"impression",o(r)),u(s,"midpoint",o(i("midpoint"))),u(s,"mute",o(i("mute"))),u(s,"pause",o(i("pause"))),u(s,"playerCollapse",o(i("playerCollapse"))),u(s,"playerExpand",o(i("playerExpand"))),u(s,"progress",function(e,t){var n=t.data,i=t.tracker,t=void 0===i?Ee:i,i=n.progressUri;Boolean(i)&&t(i,de({},n))}),u(s,"resume",o(i("resume"))),u(s,"rewind",o(i("rewind"))),u(s,"skip",o(i("skip"))),u(s,"start",o(i("start"))),u(s,"thirdQuartile",o(i("thirdQuartile"))),u(s,"unmute",o(i("unmute"))),s),i=function(t){return function(e){return l(e,t)}},Ce=(u(s={},"acceptInvitation",o(i("acceptInvitation"))),u(s,"adCollapse",o(i("adCollapse"))),u(s,"close",o(i("close"))),u(s,"creativeView",o(i("creativeView"))),s),Se="srcdoc"in document.createElement("iframe"),ke=(D=-1,function(){return"videoAdContainer_"+ ++D}),xe=Symbol("hidden"),Pe=(ce(dt,[{key:"addScript",value:(W=ue(q.mark(function e(t){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDestroyed())throw new Error("VideoAdContainer has been destroyed");e.next=2;break;case 2:if(this[xe].iframe){e.next=7;break}return e.next=5,function(o,s){return new Promise(function(n,t){var i="<!DOCTYPE html>\n<html>\n  <head><meta charset='UTF-8'></head>\n  <body style='margin:0;padding:0'>\n  <script type='text/javascript'>window.parent.postMessage('"+s+"_ready', '"+function(){var e=window.location;return e.origin?e.origin:e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")}()+"');<\/script>\n  </body>\n</html>",r=void 0;try{(r=k()).src="about:blank",o.appendChild(r),S(r).write(i)}catch(e){o.removeChild(r),Se?((r=k()).src="about:srcdoc",r.srcdoc=i,o.appendChild(r)):t(e)}window.addEventListener("message",function e(t){t.data===s+"_ready"&&(window.removeEventListener("message",e),n(r))},!1)})}(this.element,this[xe].id);case 5:this[xe].iframe=e.sent,this.executionContext=this[xe].iframe.contentWindow;case 7:return n=S(this[xe].iframe).body,e.abrupt("return",function(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.async,o=void 0!==t&&t,t=e.defer,s=void 0!==t&&t,t=e.type,a=void 0===t?"text/javascript":t,l=e.placeholder;if(!r)throw new TypeError('Missing required "src" parameter');return new Promise(function(e,t){var n=document.createElement("script"),i=l;n.type=a,n.async=o,n.defer=s,n.onerror=function(){return t(new URIError("The script "+r+" is not accessible."))},n.onload=function(){return e(n)},i=i||(document.currentScript?document.currentScript.parentNode:document.head),n.src=r,i.appendChild(n)})}(t,de({placeholder:n},i)));case 9:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"destroy",value:function(){this.element.parentNode.removeChild(this.element),this[xe].destroyed=!0}},{key:"isDestroyed",value:function(){return this[xe].destroyed}}]),dt),Ie=function(e,t,n){function i(){return e.removeEventListener(t,i),n.apply(void 0,arguments)}return e.addEventListener(t,i),function(){e.removeEventListener(t,i)}},Me=z.progress,Oe=function(e,t){return function(){try{e.apply(void 0,arguments)}catch(e){t&&t.error(e)}}},Be=z.fullscreen,Le=z.exitFullscreen,De=z.playerCollapse,Ne=z.playerExpand,Fe=z.pause,Re=z.resume,He=z.rewind,Ve=z.skip,Ue=z.error,We=z.complete,qe=z.firstQuartile,ze=z.midpoint,Ge=z.start,Xe=z.thirdQuartile,Qe=function(e,t){return 100*e/t},Ye=z.mute,Ke=z.unmute,Ze=z.impression,Je=function(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n},$e=z.progress,et=z.clickThrough,tt=[function(e,t){var n=e.videoElement,i=e.element,e=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).clickThroughUrl,r=i||n.parentNode,o=document.createElement("A");return o.classList.add("mol-vast-clickthrough"),o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.left=0,o.style.top=0,e&&(o.href=e,o.target="_blank"),o.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),n.paused?n.play():(n.pause(),t(et))},r.appendChild(o),function(){return r.removeChild(o)}},function(e,t){function n(){t(Ue,i.error)}var i=e.videoElement;return i.addEventListener("error",n),function(){i.removeEventListener("error",n)}},function(e,t){function s(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)===n?(i=!0,t(Ne),t(Be)):i&&(i=!1,t(De),t(Le))}var n=e.videoElement,a=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"],i=!1,r=!0,o=!1,l=void 0;try{for(var u,c=a[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var d=u.value;document.addEventListener(d,s)}}catch(e){o=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw l}}return function(){var e=!0,t=!1,n=void 0;try{for(var i,r=a[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;document.removeEventListener(o,s)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},function(e,t){function n(){2<=i.currentTime&&(t(Ze),i.removeEventListener("timeupdate",n))}var i=e.videoElement;return i.addEventListener("timeupdate",n),function(){i.removeEventListener("timeupdate",n)}},function(e,t){function n(){o?s&&(s=!1,t(Re)):s=!(o=!0)}function i(){s||(s=!0,t(Fe))}var r=e.videoElement,o=!1,s=!0;return r.addEventListener("play",n),r.addEventListener("pause",i),function(){r.removeEventListener("play",n),r.removeEventListener("pause",i)}},function(e,o){function n(){var e=i.currentTime,t=Math.abs(e-a);s+=1e3*t,a=e,t=l.reduce(function(e,t){return(t.offset<=s?e.toCall:e.stillPending).push(t),e},{stillPending:[],toCall:[]}),e=t.stillPending,t=t.toCall,l=e,t.forEach(function(e){var t,n,i,r=e.uri;o($e,{contentplayhead:(t=s,n=Math.floor(t/36e5),i=Math.floor(t/6e4%60),e=Math.floor(t/1e3%60),t%=1e3,Je(n,2)+":"+Je(i,2)+":"+Je(e,2)+"."+Je(t,3)),progressUri:r})}),0===l.length&&i.removeEventListener("timeupdate",n)}var i=e.videoElement,e=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).progressEvents,e=void 0===e?[]:e,r=1e3*i.duration,s=0,a=1e3*i.currentTime,l=e.filter(B).map(function(e){var t=e.offset,n=e.uri;return{offset:(e=r,"number"==typeof(t=t)?t:parseFloat(t)/100*e),uri:n}});return 0<l.length&&i.addEventListener("timeupdate",n),function(){i.removeEventListener("timeupdate",n)}},function(e,t){function n(){var e=i.currentTime-r;e<0&&1<=Math.abs(e)&&t(He),r=i.currentTime}var i=e.videoElement,r=i.currentTime;return i.addEventListener("timeupdate",n),function(){i.removeEventListener("timeupdate",n)}},function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n.skipoffset,n=n.createSkipControl,r=void 0===n?I:n;if(!Boolean(i))return function(){};function o(){var e=1e3*a.currentTime;!Boolean(s)&&i<=e&&((s=r()).onclick=function(e){return void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),t(Ve),!1},l.appendChild(s),a.removeEventListener("timeupdate",o))}var s=void 0,a=e.videoElement,l=e.element;return a.addEventListener("timeupdate",o),function(){a.removeEventListener("timeupdate",o),Boolean(s)&&l.removeChild(s)}},function(e,n){function i(){var e=o.duration,t=o.currentTime;!s&&0<t?(s=!0,n(Ge)):a?l?u?c||M(t,e)&&(c=!0,n(We)):75<=Qe(t,e)&&(u=!0,n(Xe)):50<=Qe(t,e)&&(l=!0,n(ze)):25<=Qe(t,e)&&(a=!0,n(qe)),n("adProgress")}function r(){var e=o.duration,t=o.currentTime;!c&&M(t,e)&&(c=!0,n(We)),o.removeEventListener("ended",r),o.removeEventListener("timeupdate",i)}var o=e.videoElement,s=!1,a=!1,l=!1,u=!1,c=!1;return o.addEventListener("timeupdate",i),o.addEventListener("ended",r),function(){o.removeEventListener("timeupdate",i),o.removeEventListener("ended",r)}},function(e,t){function n(){t("volumeChanged"),r&&!O(i)?t(Ke):!r&&O(i)&&t(Ye),r=O(i)}var i=e.videoElement,r=O(i);return i.addEventListener("volumechange",n),function(){i.removeEventListener("volumechange",n)}}],nt=/^\s+|\s+$/g,it=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,ot=/^0o[0-7]+$/i,st=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,t="object"==typeof self&&self&&self.Object===Object&&self,at=s||t||Function("return this")(),lt=Object.prototype.toString,ut=Math.max,ct=Math.min;function dt(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(c(this,dt),this[xe]={destroyed:!1,iframe:null,readyPromise:null},!(e instanceof Element))throw new TypeError("placeholder is not an Element");this[xe].id=ke(),this.element=((t=document.createElement("DIV")).classList.add("mol-video-ad-container"),t.style.width="100%",t.style.height="100%",t),this.executionContext=null,this.isOriginalVideoElement=Boolean(n),n?this.videoElement=n:(this.videoElement=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:document).createElement("VIDEO");return e.style.width="100%",e.style.height="100%",e}(),this.element.appendChild(this.videoElement)),e.appendChild(this.element)}function pt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ht(e){var t=typeof e;return e&&("object"==t||"function"==t)}function ft(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==lt.call(t))return NaN;var t;if("string"!=typeof(e=ht(e)?ht(n="function"==typeof e.valueOf?e.valueOf():e)?n+"":n:e))return 0===e?e:+e;e=e.replace(nt,"");var n=rt.test(e);return n||ot.test(e)?st(e.slice(2),n?2:8):it.test(e)?NaN:+e}function vt(t,n){var e=void 0===(e=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).threshold)?20:e;function i(e){var t=e.style,n=e.clientHeight,e=e.clientWidth;return[t.width,t.height,e,n].join(".")}Pt(t,n);var r=i(t),e=kt(function(){var e=i(t);e!==r&&(r=e,n())},e),o=Boolean(xt)?Lt(t,e):It,s=Ft(t,e);return function(){o(),s()}}function mt(t){function e(){3<t.duration-i&&(t.pause(),t.play(),t.currentTime=i)}function n(){var e=t.currentTime;3<Math.abs(e-i)?(2<=(r+=1)&&t.pause(),t.currentTime=i):i=e}var i=0,r=0;return t.addEventListener("timeupdate",n),t.addEventListener("ended",e),function(){t.removeEventListener("timeupdate",n),t.removeEventListener("ended",e)}}function yt(e,t){var i=!0,n=new zt,r=n.promise,o=n.reject,s=n.resolve,a=Ie(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i=!1,s(t)});return{cancel:function(){i&&(i=!1,a(),o(new Error("waitFor was canceled")))},promise:r}}var gt,At,bt,wt,jt,Tt,Et,_t,Ct,St,kt=function(i,n,e){var r,o,s,a,l,u,c=0,d=!1,p=!1,t=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function h(e){var t=r,n=o;return r=o=void 0,c=e,a=i.apply(n,t)}function f(e){var t=e-u;return void 0===u||n<=t||t<0||p&&s<=e-c}function v(){var e,t=L();if(f(t))return m(t);l=setTimeout(v,(e=n-(t-u),p?ct(e,s-(t-c)):e))}function m(e){return l=void 0,t&&r?h(e):(r=o=void 0,a)}function y(){var e=L(),t=f(e);if(r=arguments,o=this,u=e,t){if(void 0===l)return c=t=u,l=setTimeout(v,n),d?h(t):a;if(p)return l=setTimeout(v,n),h(u)}return void 0===l&&(l=setTimeout(v,n)),a}return n=ft(n)||0,ht(e)&&(d=!!e.leading,s=(p="maxWait"in e)?ut(ft(e.maxWait)||0,n):s,t="trailing"in e?!!e.trailing:t),y.cancel=function(){void 0!==l&&clearTimeout(l),r=u=o=l=void(c=0)},y.flush=function(){return void 0===l?a:m(L())},y},xt=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Pt=function(e,t){if(!(e instanceof Element))throw new TypeError("Target is not an Element node");if(!(t instanceof Function))throw new TypeError("Callback is not a function")},It=function(){},Mt=["style","clientWidth","clientHeight"],Ot=Symbol("mutationHandlers"),Bt=Symbol("mutationObserver"),Lt=function(i,t){var e,n;return i[Ot]||(i[Ot]=[],i[Bt]=(e=i,(n=new xt(function(e){for(var t=0;t<e.length;t++){var n=e[t].attributeName;Mt.includes(n)&&function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i[Ot]&&i[Ot].forEach(function(e){return e.apply(void 0,t)})}()}})).observe(e,{attributes:!0,characterData:!1,childList:!0}),n)),i[Ot].push(t),function(){i[Ot]=i[Ot].filter(function(e){return e!==t}),0===i[Ot].length&&(i[Bt].disconnect(),delete i[Ot],delete i[Bt])}},Dt=Symbol("resizeHandlers"),Nt=Symbol("resizeObj"),Ft=function(i,t){var e,n;return i[Dt]||(i[Dt]=[],i[Nt]=(e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i[Dt]&&i[Dt].forEach(function(e){return e.apply(void 0,t)})},(n=document.createElement("object")).setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.onload=function(){this.contentWindow&&this.contentWindow.addEventListener("resize",e)},n.type="text/html",n.data="about:blank",n),"static"===getComputedStyle(i).position&&(i.style.position="relative"),i.appendChild(i[Nt])),i[Dt].push(t),function(){i[Dt]=i[Dt].filter(function(e){return e!==t}),0===i[Dt].length&&(i.removeChild(i[Nt]),delete i[Dt],delete i[Nt])}},Rt=[],Ht=function(e){var t=e.element,n=e.callback,i=e.lastInViewport,t=function(e,t){var n=1<arguments.length&&void 0!==t?t:0,i=e.getBoundingClientRect(),r=i.height,o=i.width,s=i.top,a=i.right,t=i.bottom,e=i.left;if(!r||!o)return!1;i=r*(1-n),r=o*(1-n),o=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;return!document.hidden&&0<=s+i&&t-i<=o&&0<=e+r&&a-r<=n}(t,e.viewportOffset);t!==i&&n(e.lastInViewport=t)},Vt=function(){var e=!0,t=!1,n=void 0;try{for(var i,r=Rt[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;Ht(o)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}},Ut=function(e,t){if(!(e instanceof Element))throw new TypeError("Target is not an Element node");if(!(t instanceof Function))throw new TypeError("Callback is not a function")},s=(ce(Gt,[{key:"on",value:function(e,t){var n=this.evts;return(n[e]||(n[e]=[])).push(t),this}},{key:"removeListener",value:function(e,t){var n=this.evts,i=n[e]||(n[e]=[]);return n[e]=i.filter(function(e){return e!==t&&e._!==t}),this}},{key:"removeAllListeners",value:function(e){return e?this.evts[e]=null:this.evts={},this}},{key:"once",value:function(e,t){function n(){i.removeListener(e,n),t.apply(void 0,arguments)}var i=this;return n._=t,this.on(e,n)}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this.evts,o=o[e]||(o[e]=[]),e=0<o.length;return o.forEach(function(e){try{e.apply(void 0,i)}catch(e){t.logger.error(e,e.stack)}}),e}}]),Gt),Wt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.staticResource,n=e.htmlResource,e=e.iFrameResource;return t||n||e},qt=function(e){return 1===e.length?e[0]:(n=window.devicePixelRatio||0,e.slice(0).sort(function(e,t){return Math.abs(n-(e.pxratio||0))-Math.abs(n-(t.pxratio||0))})[0]);var n},zt=function e(){var n=this;c(this,e),this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})};function Gt(e){c(this,Gt),this.evts={},this.logger=e||console}function Xt(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function Qt(e){return e="string"!=typeof e?String(e):e}function Yt(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return At&&(e[Symbol.iterator]=function(){return e}),e}function Kt(t){this.map={},t instanceof Kt?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function Zt(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Jt(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function $t(e){var t=new FileReader,n=Jt(t);return t.readAsArrayBuffer(e),n}function en(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function tn(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(bt&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(wt&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(gt&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(jt&&bt&&Et(e))this._bodyArrayBuffer=en(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!jt||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_t(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=en(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):gt&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},bt&&(this.blob=function(){var e=Zt(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Zt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then($t)}),this.text=function(){var e,t,n=Zt(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=Jt(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},wt&&(this.formData=function(){return this.text().then(rn)}),this.json=function(){return this.text().then(JSON.parse)},this}function nn(e,t){var n,i=(t=t||{}).body;if(e instanceof nn){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Kt(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new Kt(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<Ct.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function rn(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function on(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Kt(t.headers),this.url=t.url||"",this._initBody(e)}(t="undefined"!=typeof self?self:void 0).fetch||(gt="URLSearchParams"in t,At="Symbol"in t&&"iterator"in Symbol,bt="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),wt="FormData"in t,(jt="ArrayBuffer"in t)&&(Tt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Et=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_t=ArrayBuffer.isView||function(e){return e&&-1<Tt.indexOf(Object.prototype.toString.call(e))}),Kt.prototype.append=function(e,t){e=Xt(e),t=Qt(t);var n=this.map[e];this.map[e]=n?n+","+t:t},Kt.prototype.delete=function(e){delete this.map[Xt(e)]},Kt.prototype.get=function(e){return e=Xt(e),this.has(e)?this.map[e]:null},Kt.prototype.has=function(e){return this.map.hasOwnProperty(Xt(e))},Kt.prototype.set=function(e,t){this.map[Xt(e)]=Qt(t)},Kt.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Kt.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),Yt(n)},Kt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Yt(t)},Kt.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),Yt(n)},At&&(Kt.prototype[Symbol.iterator]=Kt.prototype.entries),Ct=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],nn.prototype.clone=function(){return new nn(this,{body:this._bodyInit})},tn.call(nn.prototype),tn.call(on.prototype),on.prototype.clone=function(){return new on(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Kt(this.headers),url:this.url})},on.error=function(){var e=new on(null,{status:0,statusText:""});return e.type="error",e},St=[301,302,303,307,308],on.redirect=function(e,t){if(-1===St.indexOf(t))throw new RangeError("Invalid status code");return new on(null,{status:t,headers:{location:e}})},t.Headers=Kt,t.Request=nn,t.Response=on,t.fetch=function(n,o){return new Promise(function(i,e){var t=new nn(n,o),r=new XMLHttpRequest;r.onload=function(){var n,e={status:r.status,statusText:r.statusText,headers:(t=r.getAllResponseHeaders()||"",n=new Kt,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),e=t.shift().trim();e&&(t=t.join(":").trim(),n.append(e,t))}),n)};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;i(new on(t,e))},r.onerror=function(){e(new TypeError("Network request failed"))},r.ontimeout=function(){e(new TypeError("Network request failed"))},r.open(t.method,t.url,!0),"include"===t.credentials?r.withCredentials=!0:"omit"===t.credentials&&(r.withCredentials=!1),"responseType"in r&&bt&&(r.responseType="blob"),t.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send(void 0===t._bodyInit?null:t._bodyInit)})},t.fetch.polyfill=!0);function sn(){}function an(m,e){var y=e.document,g=e.placeholder;return new Promise(function(e,t){try{var n=(s=y,h=(a=m).staticResource,f=a.htmlResource,v=a.iFrameResource,Boolean(h)?(c=h,p=(d={data:a,document:s}).document,d=(h=d.data).height,h=h.width,p=p.createElement("IMG"),h&&(p.width=h),d&&(p.height=d),p.src=c,p):Boolean(f)?(l=f,p=(c={data:a,document:s}).document,c=(f=c.data).height,f=f.width,u=p.createElement("DIV"),f&&(u.style.width=f+"px"),c&&(u.style.height=c+"px"),Rn(l).then(function(e){u.innerHTML=e,u.dispatchEvent(new CustomEvent("load"))}).catch(function(){u.dispatchEvent(new CustomEvent("error"))}),u):(l=v,a=(v={data:a,document:s}).document,v=(s=v.data).height,s=s.width,(a=a.createElement("IFRAME")).src=l,a.sandbox="allow-forms allow-popups allow-scripts",s&&(a.width=s),v&&(a.height=v),a.src=l,a.frameBorder=0,a.style.border="none",a)),i=yt(n,"error"),r=yt(n,"load"),o=function(){g.contains(n)&&(g.removeChild(n),n.style.zIndex=0)};i.promise.then(function(){r.cancel(),o(),t(new Error("Error loading resource"))}).catch(sn),r.promise.then(function(){i.cancel(),o(),e(n)}).catch(sn),n.style.zIndex=-9999,g.appendChild(n)}catch(e){t(e)}var s,a,l,u,c,d,p,h,f,v})}function ln(e){return e.height*e.width}function un(n,e){return!e.drawnIcons.some(function(e){return t=e,!(Vn(e=n)>Hn(t)||Hn(e)<Vn(t)||Wn(e)<Un(t)||Un(e)>Wn(t));var t})}function cn(){}function dn(e,t){return e+100>innerWidth&&t+100>innerHeight?"fullscreen":e<400?"thumbnail":"normal"}function pn(e){var t=e.type;return si.some(function(e){return e===t})}function hn(r,o,s){return new Promise(function(e,t){function n(){"number"==typeof s&&clearTimeout(i),r.unsubscribe(n,o),e()}var i=void 0;"number"==typeof s&&(i=setTimeout(function(){r.unsubscribe(n,o),t(new Error("Timeout waiting for event '"+o+"'"))},s)),r.subscribe(n,o)})}function fn(e,t,n){for(var i=arguments.length,r=Array(3<i?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return n=hn(e,n,5e3),e[t].apply(e,r),n}function vn(e){return e=e.split("."),parseInt(e[0],10)}function mn(s,e,t){var a=t.tracker,l=new("VPAID"===t.type?Ei:oi)(s,e,t);return Object.values(z).forEach(function(e){return l.on(e,function(e){var t,n,i,r=e.type,o={data:e.data,errorCode:l.errorCode,tracker:a};t=r,n=o.errorCode,e=void 0===(i=o.tracker)?Ee:i,i=void 0===(r=o.logger)?console:r,(r=_e[t])?r(s,{data:de({},o.data,{errorCode:n}),errorCode:n,tracker:e}):i.error("Event '"+t+"' cannot be tracked")})}),Object.values(G).forEach(function(e){return l.on(e,function(e){var t,n,i,r={data:e.data,tracker:a};t=e.type,i=void 0===(n=r.tracker)?Ee:n,n=void 0===(e=r.logger)?console:e,(e=Ce[t])?e(s,{data:de({},r.data),tracker:i}):n.error("Event '"+t+"' cannot be tracked")})}),l}function yn(i,e){var r=e.onAdReady;return new Promise(function(e,t){function n(e){return function(){return t(new Error("Ad unit start rejected due to event '"+e+"'"))}}i.onError(t),i.on("start",function(){return e(i)}),i.on("AdUserClose",n("AdUserClose")),i.on("closeLinear",n("closeLinear")),i.on("AdStopped",n("AdStopped")),r(i),i.start()})}function gn(e){e[ki]=!0}function An(e){try{return t=e,t=oe.parseFromString(t,"application/xml"),Q(t),Z(t)}catch(e){throw e.code=100,e}var t}function bn(e){return function(){"function"==typeof e&&e.apply(void 0,arguments)}}function wn(e,t){if(t=e&&$(e,t))return ne(t)}function jn(e){var t=function(e){e=te(e);return e&&$(e,"Pricing")}(e[0].ad);return t?{pricing:ne(t),pricingCurrency:re(t,"currency"),pricingModel:re(t,"model")}:1<e.length?jn(e.slice(1)):{}}var Tn,En,_n,Cn,Sn,kn,xn,Pn,In,Mn,On,Bn,Ln,Dn,Nn,Fn,Rn=(Tn=ue(q.mark(function e(t){var n,i,r;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(n=e.sent,i=n.headers.get("Content-Type"),400<=n.status)throw(r=new Error(n.statusText)).response=n,r;e.next=8;break;case 8:if(function(e){var t=e.toLowerCase();return["text/plain","text/html"].some(function(e){return t.includes(e)})}(i)){e.next=12;break}throw(r=new Error("fetchHtml error, invalid Content-Type "+i)).response=n,r;case 12:return e.abrupt("return",n.text());case 13:case"end":return e.stop()}},e,void 0)})),function(e){return Tn.apply(this,arguments)}),Hn=function(e){return e.left+e.width},Vn=function(e){return e.left},Un=function(e){return e.top},Wn=function(e){return e.top+e.height},qn=(En=ue(q.mark(function e(t,n){var i;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.element){e.next=9;break}return e.next=3,an(t,n);case 3:(i=e.sent).width="100%",i.height="100%",i.style.height="100%",i.style.width="100%",t.element=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).onIconClick,i=void 0===n?cn:n,n=document.createElement("A");return t.iconClickthrough&&(n.href=t.iconClickthrough,n.target="_blank"),Boolean(t.iFrameResource)&&(e.style.pointerEvents="none"),n.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),i(t)},n.appendChild(e),n}(i,t,n);case 9:return e.abrupt("return",t.element);case 10:case"end":return e.stop()}},e,void 0)})),function(e,t){return En.apply(this,arguments)}),zn=(_n=ue(q.mark(function e(a,l){var u,c,d;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.placeholder,e.next=3,qn(a,l);case 3:if(c=e.sent,d=function(e,t,n){var i=n.drawnIcons,r=n.placeholder,o=e.signature,s=t.getBoundingClientRect(),a=r.getBoundingClientRect(),n=e.width||s.width,t=e.height||s.height,l=e.xPosition||"right",u=e.yPosition||"top",r=void 0,s=void 0,c=(r=["left","right"].includes(String(l).toLowerCase())?(i=i.filter(function(e){return e.xPosition===l&&e.yPosition===u}),function(e,t,n,i){n=n.reduce(function(e,t){return e+t.width+1},0);return"left"===e?n:i-n-t}(l,n,i,a.width)):l)+"-"+(s=["top","bottom"].includes(String(u).toLowerCase())?(c=a.height,"top"===u?0:c-t):u)+"_"+n+"x"+t;return Object.assign(e,{height:t,left:r,signature:c,top:s,updated:o!==c,width:n})}(a,c,l),s=r=s=o=r=void 0,r=n=d,o=(i=l).drawnIcons,s=i.placeholder,s=ln(s.getBoundingClientRect()),r=ln(r)+o.reduce(function(e,t){return e+ln(t)},0)<=.35*s,o=n,s=i.placeholder.getBoundingClientRect(),s=0<=o.left&&o.left+o.width<=s.width&&0<=o.top&&o.top+o.height<=s.height,i=un(n,i),!(r&&s&&i)){e.next=9;break}c.parentNode&&!a.updated||u.appendChild((t=c,s=r=n=o=void 0,o=(i=d).height,n=i.width,r=i.left,s=i.top,i=i.yPosition,t.height=o,t.width=n,t.style.position="absolute",t.style.left=r+"px","bottom"===i?t.style.bottom="0":t.style.top=s+"px",t.style.height=o+"px",t.style.width=n+"px",t)),e.next=11;break;case 9:throw c.parentNode&&c.parentNode.removeChild(c),new Error("Icon can't be rendered");case 11:return e.abrupt("return",d);case 12:case"end":return e.stop()}var t,n,i,r,o,s},e,void 0)})),function(e,t){return _n.apply(this,arguments)}),Gn=function(e,t){var n=t.onIconClick,i=t.videoAdContainer,r=t.logger,o=i.element,s=i.videoElement,a=[],i=e.reduce(function(e,t){return n=1e3*s.currentTime,i=1e3*s.duration,r=t.offset||0,i=t.duration||i,(r<=n&&n-r<=i?e.iconsToShow:e.otherIcons).push(t),e;var n,i,r},{iconsToShow:[],otherIcons:[]}),e=i.iconsToShow;return i.otherIcons.forEach(function(e){e=e.element;e&&e.parentNode&&e.parentNode.removeChild(e)}),e.reduce(function(e,t){return e.then(function(){return zn(t,{document:document,drawnIcons:a,onIconClick:n,placeholder:o})}).then(function(e){return a.push(e)}).catch(function(e){return r.log(e)})},Promise.resolve(a)).then(function(){return a})},Xn=Symbol("firstRenderPending"),Qn=function(){},Yn=function(e,t){var n=1e3*t.currentTime,i=1e3*t.duration,t=e.filter(function(e){return!e.offset||e.offset<n}),e=e.filter(function(e){return e.duration&&e.duration<i});return 0<t.length||0<e.length},Kn=function(e){return e.filter(function(e){e=e.element;return Boolean(e)&&Boolean(e.parentNode)}).forEach(function(e){e=e.element;return e.parentNode.removeChild(e)})},Zn=z.start,Jn=z.iconClick,$n=z.iconView,ei=Symbol("_protected"),s=(n(Ni,s),ce(Ni,[{key:"start",value:function(){this[ei].throwIfCalled()}},{key:"resume",value:function(){this[ei].throwIfCalled()}},{key:"pause",value:function(){this[ei].throwIfCalled()}},{key:"setVolume",value:function(e){this[ei].throwIfCalled()}},{key:"getVolume",value:function(){this[ei].throwIfCalled()}},{key:"cancel",value:function(){this[ei].throwIfCalled()}},{key:"duration",value:function(){this[ei].throwIfCalled()}},{key:"paused",value:function(){this[ei].throwIfCalled()}},{key:"currentTime",value:function(){this[ei].throwIfCalled()}},{key:"onFinish",value:function(e){if("function"!=typeof e)throw new TypeError("Expected a callback function");this[ei].onFinishCallbacks.push(Oe(e,this.logger))}},{key:"onError",value:function(e){if("function"!=typeof e)throw new TypeError("Expected a callback function");this[ei].onErrorCallbacks.push(Oe(e,this.logger))}},{key:"isFinished",value:function(){return this[ei].finished}},{key:"isStarted",value:function(){return this[ei].started}},{key:"resize",value:(Fn=ue(q.mark(function e(t,n,i){return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[ei].size={height:n,viewmode:i,width:t},this.isStarted()&&!this.isFinished()&&this.icons)return e.next=4,this[ei].removeIcons();e.next=6;break;case 4:return e.next=6,this[ei].drawIcons();case 6:case"end":return e.stop()}},e,this)})),function(e,t,n){return Fn.apply(this,arguments)})}]),Ni),ti=z.complete,ni=z.error,ii=z.skip,ri=Symbol("_private"),oi=(n(Di,s),ce(Di,[{key:"start",value:(Nn=ue(q.mark(function e(){var t,n,i,r,o=this;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[ei].throwIfFinished(),this.isStarted())throw new Error("VastAdUnit already started");e.next=3;break;case 3:if(n=this.vastChain[0].ad,r=this.videoAdContainer,t=r.videoElement,r=r.element,n=P(n,t,r),!Boolean(n)){e.next=16;break}if(this.icons)return i=function(){var e=ue(q.mark(function e(){return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isFinished())return e.abrupt("return");e.next=2;break;case 2:return e.next=4,o[ei].drawIcons();case 4:o[ei].hasPendingIconRedraws()&&!o.isFinished()&&Ie(t,"timeupdate",i);case 5:case"end":return e.stop()}},e,o)}));return function(){return e.apply(this,arguments)}}(),e.next=11,i();e.next=11;break;case 11:t.src=n.src,this.assetUri=n.src,t.play(),e.next=19;break;case 16:(r=new Error("Can't find a suitable media to play")).code=403,this[ri].handleMetric(ni,r);case 19:this[ei].started=!0;case 20:case"end":return e.stop()}},e,this)})),function(){return Nn.apply(this,arguments)})},{key:"resume",value:function(){this.videoAdContainer.videoElement.play()}},{key:"pause",value:function(){this.videoAdContainer.videoElement.pause()}},{key:"paused",value:function(){return this.videoAdContainer.videoElement.paused}},{key:"setVolume",value:function(e){this.videoAdContainer.videoElement.volume=e}},{key:"getVolume",value:function(){return this.videoAdContainer.videoElement.volume}},{key:"cancel",value:function(){this[ei].throwIfFinished(),this.videoAdContainer.videoElement.pause(),this[ei].finish()}},{key:"duration",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:"currentTime",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.currentTime:0}},{key:"resize",value:(Dn=ue(q.mark(function e(t,n,i){var r,o,s;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Di.prototype.__proto__||Object.getPrototypeOf(Di.prototype),"resize",this).call(this,t,n,i);case 2:this.isStarted()&&!this.isFinished()&&(r=this.vastChain[0].ad,s=this.videoAdContainer,o=s.videoElement,s=s.element,s=P(r,o,s),Boolean(s)&&o.src!==s.src&&function(n,i){new Promise(function(e){var t={currentTime:n.currentTime,playing:!n.paused};t.playing&&n.pause(),n.src=i.src,n.load(),Ie(n,"loadeddata",function(){n.currentTime=t.currentTime,t.playing&&n.play(),e()})})}(o,s));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return Dn.apply(this,arguments)})}]),Di),si=["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"],ai=(Ln=ue(q.mark(function e(t,n){var i,r,o;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(V(t[0].ad)||[]).filter(pn)[0]){e.next=3;break}throw new TypeError("VastChain does not contain a supported vpaid creative");case 3:return r=i.src,o=i.type,e.next=6,n.addScript(r,{type:o});case 6:return o=n.executionContext,e.abrupt("return",o.getVPAIDAd());case 8:case"end":return e.stop()}},e,void 0)})),function(e,t){return Ln.apply(this,arguments)}),li=z.complete,ui=z.mute,ci=z.unmute,di=z.skip,pi=z.start,hi=z.firstQuartile,fi=z.pause,vi=z.resume,mi=z.impression,yi=z.midpoint,gi=z.thirdQuartile,Ai=z.clickThrough,bi=z.error,wi=z.closeLinear,ji=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"].filter(function(e){return"AdLoaded"!==e}),Ti=Symbol("_private"),Ei=(n(Li,s),ce(Li,[{key:"start",value:(Bn=ue(q.mark(function e(){var h,f,v,m,y,g,A,b,w=this;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[ei].throwIfFinished(),this.isStarted())throw new Error("VpaidAdUnit already started");e.next=3;break;case 3:return e.prev=3,e.next=6,this[Ti].loadCreativePromise;case 6:for(this.creativeAd=e.sent,h=hn(this.creativeAd,"AdLoaded"),v=!(f=!0),m=void 0,e.prev=11,y=ji[Symbol.iterator]();!(f=(g=y.next()).done);f=!0)g=g.value,this.creativeAd.subscribe(this[Ti].handleVpaidEvt.bind(this,g),g);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),v=!0,m=e.t0;case 19:e.prev=19,e.prev=20,!f&&y.return&&y.return();case 22:if(e.prev=22,v)throw m;e.next=25;break;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),function(e,t){var n=e.handshakeVersion(t);if(e=t,(t=vn(n))<1||!(t<=vn(e)))throw new Error("Creative Version '"+n+"' not supported")}(this.creativeAd,"2.0"),i=this.creativeAd,r=this.videoAdContainer,o=this.vastChain,a=s=void 0,l=(a=(s=r.element).getBoundingClientRect()).width,u=a.height,c=dn(l,u),d={slot:(t=s,n=l,a=u,s=void 0,s=document.createElement("DIV"),Object.assign(s.style,{border:"0px",cursor:"pointer",height:a+"px",left:"0px",margin:"0px",padding:"0px",position:"absolute",top:"0px",width:n+"px"}),t.appendChild(s),s),videoSlot:r.videoElement,videoSlotCanAutoPlay:r.isOriginalVideoElement},p=U(o[0].XML),i.initAd(l,u,c,-1,p,d),e.next=32,h;case 32:if(this.videoAdContainer.isDestroyed()){e.next=48;break}return e.prev=33,(A=this.videoAdContainer.videoElement).muted?(this[Ti].muted=!0,this.setVolume(0)):this.setVolume(A.volume),e.next=38,fn(this.creativeAd,"startAd","AdStarted");case 38:if(this.icons)return b=function(){var e=ue(q.mark(function e(){return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isFinished())return e.abrupt("return");e.next=2;break;case 2:return e.next=4,w[ei].drawIcons();case 4:w[ei].hasPendingIconRedraws()&&!w.isFinished()&&setTimeout(b,500);case 5:case"end":return e.stop()}},e,w)}));return function(){return e.apply(this,arguments)}}(),e.next=42,b();e.next=42;break;case 42:this[ei].started=!0,e.next=48;break;case 45:e.prev=45,e.t1=e.catch(33),this.cancel();case 48:return e.abrupt("return",this);case 51:throw e.prev=51,e.t2=e.catch(3),this[Ti].handleVpaidEvt("AdError",e.t2),e.t2;case 55:case"end":return e.stop()}var t,n,i,r,o,s,a,l,u,c,d,p},e,this,[[3,51],[11,15,19,27],[20,,22,26],[33,45]])})),function(){return Bn.apply(this,arguments)})},{key:"resume",value:function(){this.creativeAd.resumeAd()}},{key:"pause",value:function(){this.creativeAd.pauseAd()}},{key:"paused",value:function(){return this.isFinished()||this[Ti].paused}},{key:"setVolume",value:function(e){this.creativeAd.setAdVolume(e)}},{key:"getVolume",value:function(){return this.creativeAd.getAdVolume()}},{key:"cancel",value:(On=ue(q.mark(function e(){var t;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this[ei].throwIfFinished(),e.prev=1,t=hn(this.creativeAd,"AdStopped",3e3),this.creativeAd.stopAd(),e.next=6,t;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this[ei].finish();case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(){return On.apply(this,arguments)})},{key:"duration",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdDuration();return e<0?0:e}},{key:"currentTime",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdRemainingTime();return e<0?0:this.duration()-e}},{key:"resize",value:(Mn=ue(q.mark(function e(t,n,i){return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Li.prototype.__proto__||Object.getPrototypeOf(Li.prototype),"resize",this).call(this,t,n,i);case 2:return e.abrupt("return",fn(this.creativeAd,"resizeAd","AdSizeChange",t,n,i));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return Mn.apply(this,arguments)})}]),Li),_i=(In=ue(q.mark(function e(t,n,i){return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){if(!Array.isArray(e)||0===e.length)throw new TypeError("Invalid vastChain");if(!(t instanceof Pe))throw new TypeError("Invalid VideoAdContainer")}(t,n),e.prev=1,e.next=4,function(e,t,n){if(i=e[0].ad,!Boolean(V(i)))throw new Error("No valid creative found in the passed VAST chain");var i,t=mn(e,t,de({},n,{type:"VPAID"}));return yn(t,n)}(t,n,i);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),function(e,t){e=H(e);return!!e&&e.some(function(e){return x(t,e)})}(t[0].ad,n.videoElement))return e.abrupt("return",function(e,t,n){t=mn(e,t,de({},n,{type:"VAST"}));return yn(t,n)}(t,n,i));e.next=11;break;case 11:throw e.t0;case 12:case"end":return e.stop()}},e,void 0,[[1,7]])})),function(e,t,n){return In.apply(this,arguments)}),Ci=(Pn=ue(q.mark(function e(n,t,i){var r,o,s,a,l;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,a=i.timeout,r=function(e,t){if(!e)throw new TypeError("placeholder is required");return new Pe(e,t)}(t,i.videoElement),l=_i(n,r,i),"number"==typeof a&&(o=!1,s=void 0,a=new Promise(function(e,t){s=setTimeout(function(){var e=i.tracker;C(n,{errorCode:402,tracker:e}),o=!0,t(new Error("Timeout while starting the ad"))},i.timeout)}),l=Promise.race([l.then(function(e){return o?e.isStarted()&&e.cancel():clearTimeout(s),e}),a])),e.next=8,l;case 8:return(l=e.sent).onFinish(function(){r.destroy()}),e.abrupt("return",l);case 13:throw e.prev=13,e.t0=e.catch(1),r&&r.destroy(),e.t0;case 17:case"end":return e.stop()}},e,void 0,[[1,13]])})),function(e,t,n){return Pn.apply(this,arguments)}),Si=(xn=ue(q.mark(function e(t){var n,i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={credentials:"include"},i=Object.assign({},i,r),e.next=4,window.fetch(t,i);case 4:if(400<=(n=e.sent).status)throw(i=new Error(n.statusText)).response=n,i;e.next=9;break;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,void 0)})),function(e){return xn.apply(this,arguments)}),ki=Symbol("requested"),xi=(kn=ue(q.mark(function e(t,n){var i;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Si(t,n);case 3:return i=e.sent,e.next=6,i.text();case 6:return i=e.sent,e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.code=502,e.t0;case 14:case"end":return e.stop()}},e,void 0,[[0,10]])})),function(e,t){return kn.apply(this,arguments)}),Pi=(Cn=ue(q.mark(function e(t,n){var i,r,o,s,a,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={ad:null,errorCode:null,parsedXML:null,requestTag:t,XML:null},s=o=r=void 0,e.prev=4,r=function(e,t){e=e[0],e=Boolean(e)&&F(e.ad)?A(e.ad):{};return de({},e,t)}(l,n),function(e,t){t=t.wrapperLimit;if(e.length>(void 0===t?5:t)){t=new Error("Wrapper Limit reached");throw t.code=304,t}}(l,r),a=xi(t,r),"number"==typeof r.timeout&&(s=r.timeout,o=Date.now(),a=Promise.race([a,new Promise(function(e,t){setTimeout(function(){var e=new Error("RequestAd timeout");e.code=301,t(e)},s)})])),e.next=11,a;case 11:if(i.XML=e.sent,i.parsedXML=An(i.XML),i.ad=function(e){try{var t=y(e);if(Boolean(t))return gn(t),t;throw new Error("No Ad")}catch(e){throw e.code=303,e}}(i.parsedXML),function(e,t){var n=e.ad,i=e.parsedXML,r=t.allowMultipleAds,e=void 0===r||r,r=t.followAdditionalWrappers,t=void 0===r||r;if(!F(n)&&!R(n)){r=new Error("Invalid VAST, ad contains neither Wrapper nor Inline");throw r.code=101,r}if(Ae(i)&&!e){e=new Error("Multiple ads are not allowed");throw e.code=203,e}if(F(n)&&!t){t=new Error("To follow additional wrappers is not allowed");throw t.code=200,t}}(i,r),F(i.ad))return o&&(s-=Date.now()-o),e.abrupt("return",Pi(g(i.ad),de({},r,{timeout:s}),[i].concat(he(l))));e.next=18;break;case 18:return e.abrupt("return",[i].concat(he(l)));case 21:return e.prev=21,e.t0=e.catch(4),Number.isInteger(e.t0.code)||(e.t0.code=900),i.errorCode=e.t0.code,i.error=e.t0,e.abrupt("return",[i].concat(he(l)));case 27:case"end":return e.stop()}},e,void 0,[[4,21]])})),function(e,t){return Cn.apply(this,arguments)}),Ii=function e(t,n){!function(e){if(!Array.isArray(e))throw new TypeError("Invalid VAST chain");if(0===e.length)throw new Error("No next ad to request")}(t);var i,r,o,s,a,l,u,c=t[0],i=(r=n,s=(i=c).ad,a=i.parsedXML,l=r.fallbackOnNoAd,u=void 0===l||l,i=r.useAdBuffet,l=void 0!==i&&i,r=me(a).filter(function(e){return!Boolean(e[ki])}),i=null,Ae(a)?(i=l?r.filter(function(e){return!ge(e)})[0]:i)||(l=r,o=ye(s)+1,i=l.find(function(e){return ye(e)===o})||null):0<r.length&&u&&(i=r[0]),i);if(Boolean(i)){c=[Object.assign({},c,{ad:i})].concat(he(t.slice(1)));return gn(i),F(i)?Pi(g(i),n,c):Promise.resolve(c)}return e(t.slice(1),n)},Mi=(Sn=ue(q.mark(function e(i,r,o,s){var a,l,u,c,d,p,h,f,v;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=l=a=void 0,c=de({},o),d=c.onAdStart,p=c.onError,h=c.onRunFinish,e.prev=5,"number"==typeof c.timeout&&(l=Date.now()),e.next=9,i();case 9:if(a=e.sent,s())return h(),e.abrupt("return");e.next=13;break;case 13:return l&&(v=Date.now(),c.timeout-=v-l,l=v),function(e,t){if(!e||0===e.length)throw new Error("Invalid VastChain");var n,i=e[0];if(!t.vpaidEnabled&&Boolean(V(e[0].ad))&&((n=new Error("VPAID ads are not supported by the current player")).code=200,i.errorCode=200,i.error=n),Boolean(i.error))throw i.error;t.hooks&&"function"==typeof t.hooks.validateVastResponse&&t.hooks.validateVastResponse(e)}(a,c),e.next=17,Ci(function(e,t){t=t.hooks;return t&&"function"==typeof t.transformVastResponse?t.transformVastResponse(e):e}(a,c),r,de({},c));case 17:if(u=e.sent,s())return u.cancel(),h(),e.abrupt("return");e.next=22;break;case 22:u.onError(p),u.onFinish(h),d(u),e.next=38;break;case 27:if(e.prev=27,e.t0=e.catch(5),t=a,n=e.t0,f=t&&t[0]&&t[0].errorCode||n.code,Boolean(f)&&(v=o.tracker,C(a,{errorCode:f,tracker:v})),p(e.t0,{adUnit:u,vastChain:a}),!a||s()){e.next=37;break}if(l&&(c.timeout-=Date.now()-l),!l||0<c.timeout)return Mi(function(){return Ii(a,c)},r,de({},c),s),e.abrupt("return");e.next=37;break;case 37:h();case 38:case"end":return e.stop()}var t,n},e,void 0,[[5,27]])})),function(e,t,n,i){return Sn.apply(this,arguments)}),Oi=function(e,t,n){var i=!1,r=null,o=bn(n.onAdStart),s=de({vpaidEnabled:!0},n,{onAdReady:bn(n.onAdReady),onAdStart:function(e){o(r=e)},onError:bn(n.onError),onRunFinish:bn(n.onRunFinish)});return n.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&n.videoElement.load(),Mi(function(){return Pi(e,s)},t,s,function(){return i}),function(){i=!0,r&&!r.isFinished()&&r.cancel()}},Bi=function(e){var t=e.map(function(e){e=e.ad;return re(e,"id")}),n=e.map(function(e){return function(e){e=te(e),e=e&&$(e,"AdSystem");if(e)return ne(e)}(e.ad)}),i=e.map(function(e){e=e.ad;return ae(e)}).filter(function(e){return Boolean(e)}),r=i.map(function(e){return re(e,"id")}),o=i.map(function(e){return re(e,"adId")}),s=jn(e),a=s.pricing,l=s.pricingCurrency,u=s.pricingModel,c=(M=e[0].ad,(B=(O=$(M,"InLine"))&&$(O,"Category"))?{category:ne(B),categoryAuthority:re(B,"authority")}:{}),d=c.category,p=c.categoryAuthority,h=te(e[0].ad),f=ae(e[0].ad),v=f&&$(f,"Linear"),m=wn(h,"AdServingId"),y=(D=(L=e[0].parsedXML)&&$(L,"VAST"))?re(D,"version"):"unknown",g=wn(h,"Advertiser"),A=wn(h,"AdTitle"),b=wn(h,"Description"),w=wn(v,"Duration"),j=w&&se(w),T=void 0,E=[],_=void 0,C=[],S=void 0,k=[],x=void 0,P=[],I=void 0,i=void 0,s=void 0,M=void 0,O=[],B=void 0,c=void 0,L=void 0,D=void 0;return R(e[0].ad)?(T=(h=N(t))[0],E=h.slice(1),_=(h=N(n))[0],C=h.slice(1),S=(h=N(r))[0],k=h.slice(1),x=(h=N(o))[0],P=h.slice(1),I=be(e[0].ad),i=U(e[0].XML),f=$(f,"UniversalAdId"),s=ne(f),M=re(f,"idRegistry"),O=H(e[0].ad),B=Boolean(V(e[0].ad)),L=re(v,"skipoffset"),D=se(L),c=Boolean(L)):F(e[0].ad)&&(E=t,C=n,k=r,P=o),{adId:T,adServingId:m,adSystem:_,adTitle:A,advertiser:g,adWrapperCreativeAdIds:P,adWrapperCreativeIds:k,adWrapperIds:E,adWrapperSystems:C,category:d,categoryAuthority:p,clickThroughUrl:I,creativeAdId:x,creativeData:i,creativeId:S,description:b,duration:w,durationInMs:j,mediaFiles:O,pricing:a,pricingCurrency:l,pricingModel:u,skipOffset:L,skipOffsetInMs:D,skippable:c,universalAdId:s,universalAdIdRegistry:M,vastVersion:y,vpaid:B}};function Li(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c(this,Li);var o=p(this,(Li.__proto__||Object.getPrototypeOf(Li)).call(this,e,t,n));return o[Ti]={evtHandler:(u(n={},"AdClickThru",function(e,t,n){n&&(o.paused()?o.resume():(e="string"==typeof e&&0<e.length?e:be(o.vastChain[0].ad),o.pause(),window.open(e,"_blank"))),o.emit(Ai,{adUnit:o,type:Ai})}),u(n,"AdDurationChange",function(){o.emit("adProgress",{adUnit:o,type:"adProgress"})}),u(n,"AdError",function(e){o.error=function(e){e=e instanceof Error?e:new Error("VPAID general error");return e.code||(e.code=901),e}(e),o.errorCode=o.error.code,o[ei].onErrorCallbacks.forEach(function(e){return e(o.error,{adUnit:o,vastChain:o.vastChain})}),o[ei].finish(),o.emit(bi,{adUnit:o,type:bi})}),u(n,"AdImpression",function(){o[Ti].videoStart||o[Ti].handleVpaidEvt("AdVideoStart"),o.emit(mi,{adUnit:o,type:mi})}),u(n,"AdPaused",function(){o[Ti].paused=!0,o.emit(fi,{adUnit:o,type:fi})}),u(n,"AdPlaying",function(){o[Ti].paused=!1,o.emit(vi,{adUnit:o,type:vi})}),u(n,"AdRemainingTimeChange",function(){o.emit("adProgress",{adUnit:o,type:"adProgress"})}),u(n,"AdSkipped",function(){o.cancel(),o.emit(di,{adUnit:o,type:di})}),u(n,"AdStarted",function(){o.emit("creativeView",{adUnit:o,type:"creativeView"})}),u(n,"AdStopped",function(){o.emit("AdStopped",{adUnit:o,type:"AdStopped"}),o[ei].finish()}),u(n,"AdUserAcceptInvitation",function(){o.emit("acceptInvitation",{adUnit:o,type:"acceptInvitation"})}),u(n,"AdUserClose",function(){o.emit(wi,{adUnit:o,type:wi}),o[ei].finish()}),u(n,"AdUserMinimize",function(){o.emit("adCollapse",{adUnit:o,type:"adCollapse"})}),u(n,"AdVideoComplete",function(){o.emit(li,{adUnit:o,type:li}),o[ei].finish()}),u(n,"AdVideoFirstQuartile",function(){o.emit(hi,{adUnit:o,type:hi})}),u(n,"AdVideoMidpoint",function(){o.emit(yi,{adUnit:o,type:yi})}),u(n,"AdVideoStart",function(){o[Ti].videoStart||(o[Ti].videoStart=!0,o[Ti].paused=!1,o.emit(pi,{adUnit:o,type:pi}))}),u(n,"AdVideoThirdQuartile",function(){o.emit(gi,{adUnit:o,type:gi})}),u(n,"AdVolumeChange",function(){var e=o.getVolume();o.emit("volumeChanged",{adUnit:o,type:"volumeChanged"}),0!==e||o[Ti].muted||(o[Ti].muted=!0,o.emit(ui,{adUnit:o,type:ui})),0<e&&o[Ti].muted&&(o[Ti].muted=!1,o.emit(ci,{adUnit:o,type:ci}))}),n),handleVpaidEvt:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=o[Ti].evtHandler[e];r&&r.apply(void 0,n),o.emit(e,{adUnit:o,type:e})},muted:!1,paused:!0},o.type="VPAID",o.creativeAd=null,o[Ti].loadCreativePromise=ai(e,t),o}function Di(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c(this,Di);var i=p(this,(Di.__proto__||Object.getPrototypeOf(Di)).call(this,e,t,n));i[ri]={handleMetric:function(e,t){switch(e){case ti:i[ei].finish();break;case ni:i.error=t,i.errorCode=i.error&&i.error.code?i.error.code:405,i[ei].onErrorCallbacks.forEach(function(e){return e(i.error,{adUnit:i,vastChain:i.vastChain})}),i[ei].finish();break;case ii:i.cancel()}i.emit(e,{adUnit:i,type:e})}},i.assetUri=null,i.type="VAST";var r=i[ei].onFinishCallbacks,o=i[ri].handleMetric;i.hooks=n.hooks||{};var s,a,l,u,n=(e={hooks:i.hooks,vastChain:i.vastChain,videoAdContainer:i.videoAdContainer},s=o,t=e.vastChain,a=e.videoAdContainer,n=e.hooks,o=t[0].ad,e=we(o),o=be(o),t=t.map(function(e){return e.ad}).reduce(function(e,t){t=le(t,Me)||[];return[].concat(he(e),he(t))},[]).map(function(e){return{offset:e.offset,uri:e.uri}}),l=de({clickThroughUrl:o,progressEvents:t,skipoffset:e},n),u=tt.map(function(e){return Oe(e(a,s,l))}),function(){return u.forEach(function(e){return e()})});return r.push(n),i}function Ni(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n.viewability,r=void 0!==i&&i,i=n.responsive,i=void 0!==i&&i,n=n.logger,n=void 0===n?console:n;c(this,Ni);var o=p(this,(Ni.__proto__||Object.getPrototypeOf(Ni)).call(this,n));o[ei]={finish:function(){o[ei].finished=!0,o[ei].onFinishCallbacks.forEach(function(e){return e()}),o.emit("finish",{adUnit:o,type:"finish"})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error("VideoAdUnit method must be implemented on child class")},throwIfFinished:function(){if(o.isFinished())throw new Error("VideoAdUnit is finished")}},o.type=null,o.error=null,o.errorCode=null;var s,a,l,u=o[ei].onFinishCallbacks;return o.vastChain=e,o.videoAdContainer=t,o.icons=0<(e=(e=e).map(function(e){return e.ad}).reduce(function(e,t){return[].concat(he(e),he(ve(t)||[]))},[])).length?(a=Wt,l={},e=e.filter(function(e){e=a(e);return!l.hasOwnProperty(e)&&(l[e]=!0)}),s=e.reduce(function(e,t){var n=t.program,n=void 0===n?"UNKNOWN":n;return e[n]||(e[n]=[]),e[n].push(t),e},{}),Object.keys(s).reduce(function(e,t){return[].concat(he(e),"UNKNOWN"===t?he(s.UNKNOWN):[qt(s[t])])},[])):null,u.push(mt(o.videoAdContainer.videoElement)),o.icons&&(n=(e=function(n){var e,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.videoAdContainer,r=t.onIconView,o=void 0===r?Qn:r,r=t.onIconClick,s=void 0===r?Qn:r,a=pe(t,["videoAdContainer","onIconView","onIconClick"]),l=i.videoElement,u=i.element,t=(e=ue(q.mark(function e(){var t;return q.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(n,de({onIconClick:s,videoAdContainer:i},a));case 2:t=e.sent,u.dispatchEvent(new CustomEvent("iconsDrawn")),t.forEach(function(e){e[Xn]&&(o(e),e[Xn]=!1)});case 5:case"end":return e.stop()}},e,void 0)})),function(){return e.apply(this,arguments)});return n.forEach(function(e){e[Xn]=!0}),{drawIcons:t,hasPendingIconRedraws:function(){return Yn(n,l)},removeIcons:function(){return Kn(n)}}}(o.icons,{logger:n,onIconClick:function(e){return o.emit(Jn,{adUnit:o,data:e,type:Jn})},onIconView:function(e){return o.emit($n,{adUnit:o,data:e,type:$n})},videoAdContainer:t})).drawIcons,t=e.hasPendingIconRedraws,e=e.removeIcons,o[ei].drawIcons=n,o[ei].removeIcons=e,o[ei].hasPendingIconRedraws=t,u.push(e)),r&&o.once(Zn,function(){var e=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n.threshold,r=void 0===i?100:i,i=n.scrollableElement,o=void 0===i?window:i,n=n.viewabilityOffset,n=void 0===n?.4:n;Ut(e,t);var s=0<r?kt(Vt):Vt,a={callback:t,element:e,lastInViewport:!1,scrollableElement:o,viewabilityOffset:n};return Ht(a),Rt.push(a),o.addEventListener("scroll",s),1===Rt.length&&(window.addEventListener("resize",s),window.addEventListener("orientationchange",s),document.addEventListener("visibilitychange",s)),function(){0===(Rt=Rt.filter(function(e){return e!==a})).length&&(window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s),document.removeEventListener("visibilitychange",s)),Rt.every(function(e){return e.scrollableElement!==o})&&o.removeEventListener("scroll",s)}}(o.videoAdContainer.element,function(e){o.isFinished()||(e?o.resume():o.pause())});u.push(e)}),i&&o.once(Zn,function(){var i=o.videoAdContainer.element;o[ei].size={height:i.clientHeight,viewmode:dn(i.clientWidth,i.clientHeight),width:i.clientWidth};var e=vt(i,function(){var e,t,n;o.isFinished()||(e=o[ei].size,t=i.clientHeight,n=i.clientWidth,t===e.height&&n===e.width||o.resize(n,t,dn(n,t)))});u.push(e)}),o}}.call(this,Ri(11))},function(e,t){var n={getBundleLocation:function(){var e=window.DM;return e&&e.getPageMetadata?e.getPageMetadata().videoBundleLocation:null},getVideoPlayerVersion:function(){var e=n.getBundleLocation();return e?(e=e.replace(/\/+$/,"")).split("/").pop():"UNKNOWN"}};e.exports=n},function(e,t){function i(){try{return JSON.parse(localStorage.getItem("mol.related-videos-history"))||[]}catch(e){return console.error(e.message),[]}}function r(e){if(e)try{localStorage.setItem("mol.related-videos-history",JSON.stringify(e))}catch(e){console.error(e.message)}else localStorage.removeItem("mol.related-videos-history")}e.exports={get:i,getMap:function(){return i().reduce(function(e,t){return e[t]=!0,e},{})},set:r,push:function(t){var e=i(),n=e.some(function(e){return e===t});t&&!n&&(e.unshift(t),r(e.slice(0,100)))}}},function(e,t){e.exports=function(e){e=e._states&&e._states.state&&e._states.state.get();return["adsWaiting","adPlaying","adPaused"].includes(e)}},function(e,t,n){var i=n(3),r=n(0);e.exports={createElBefore:function(e,t){var n=document.createElement("div");return n.className=e,t.parentNode.insertBefore(n,t),n},getVerticalOffset:function(){return window.pageYOffset},onDisableForceFlyout:function(t){window.addEventListener("message",function(e){"mol-fe-videoplayer.flyout-disable"===e.data&&t()})},overwriteAdOptions:function(e){var t=i.queryStringToObj(window.location.search);return e.viewportOffset=r.isDefined(t.flyoutViewportOffset)?parseFloat(t.flyoutViewportOffset):e.viewportOffset,e.animTime=r.isDefined(t.flyoutAnimTime)?parseInt(t.flyoutAnimTime,10):e.animTime,e.animTimeWait=r.isDefined(t.flyoutAnimTimeWait)?parseInt(t.flyoutAnimTimeWait,10):e.animTimeWait,e},wrapElement:function(e,t){return t.appendChild(e),e}}},function(e,t,n){var i=n(0),c={separators:[" ",""],ellipsis:"&hellip;"};function d(e){var t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;return parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}function r(e,t){var n,i=void 0,r=void 0,o=void 0,s=void 0,a=(t=t||{}).separators||c.separators,l=t.ellipsis||c.ellipsis,t=t.maxlines,u=t?t*function(e){var t=document.createElement(e.nodeName);t.setAttribute("style","margin:0px;padding:0px;font-family:"+e.style.fontFamily+";font-size:"+e.style.fontSize),t.innerHTML="test";e=(t=e.parentNode.appendChild(t)).clientHeight;return t.parentNode.removeChild(t),e}(e)+d(e):e.parentNode.clientHeight-d(e.parentNode);if((s=e.getAttribute("clamp-full-text"))?e.innerHTML=s:(s=e.innerHTML,e.setAttribute("clamp-full-text",s)),!(e.clientHeight<=u))for(i=0;i<a.length;i++)for(n=a[i],r&&(e.innerHTML=(s+=r)+l),o=s.split(n);e.clientHeight>u&&0<o.length;)r=n+o.pop(),s=o.join(n),e.innerHTML=s+l}e.exports=function(e,t){if(e)if(i.isNodeList(e))for(var n=0;n<e.length;n++)r(e[n],t);else r(e,t)}},function(e,t,n){var i=n(122),n=videojs.Component.extend({init:function(e,t){var n=void 0;for(videojs.Component.call(this,e,t),n=0;n<t.videos.length;n++)this.addChild(new i(e,{video:t.videos[n]}))}});n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-video-list"})},e.exports=n},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t=e.cb,e=e.throwError,e=void 0!==e&&e,t=void 0===t?"undefined":i(t);if("function"===t)return!0;if(e)throw new Error('onDocumentLoad: expected function, but received "'+t+'"');return!1}},function(e,t,n){"use strict";var i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(9),s=o.elementIsVisibleInViewPort,a=o.waitForElementToLoad,l=o.calcPositionStyles,u=n(33).elementAttribute,i=(i(c,[{key:"isInViewPort",value:function(){return s(this.getActiveElement())}},{key:"setOriginalElementActive",value:function(){this.getActiveElement()!==this.originalElement&&this.showOriginalElement().hideElement()}},{key:"setMainElementActive",value:function(){this.getActiveElement()!==this.element&&this.showElement().hideOriginalElement()}},{key:"getActiveElement",value:function(){return"none"!==this.originalElement.style.display?this.originalElement:this.element}},{key:"synch",value:function(){var t=this;return this.synchPromise||(this.synchPromise=a(this.element).catch(function(){}).then(function(){if(!t.synchIsAllowed)throw new Error("Synch is not allowed");t.hasNewSize&&t.setOriginalElementActive();var e=t.getActiveElement();return 1<e.clientHeight&&1<e.clientWidth&&t.isInViewPort()?Promise.resolve(t.initDone?null:t._init()).then(function(){return t.initDone?(t.hasNewSize&&t.fixElement(),t._play()):t._pause()}).catch(function(){}):t._pause()}).then(this._resetSynchPromise.bind(this)).catch(this._resetSynchPromise.bind(this)),Promise.resolve(this.synchPromise))}},{key:"synchResize",value:function(){return this.hasNewSize=!0,this.synch()}},{key:"fixElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.element;return this.element===this.originalElement||(Object.assign(e.style,l(this.originalElement)),this.hasNewSize=!1),this}},{key:"_resetSynchPromise",value:function(){this.synchIsAllowed&&(this.synchPromise=null)}},{key:"_registerMainElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.deRegisteredElement;this.hideElement(e),e.setAttribute(u,this.element.getAttribute(u)||""),this.element.parentNode&&this.element.parentNode.replaceChild(e,this.element),this.originalElement=this.element,this.element=e,this.element.parentNode&&this.element.parentNode.insertBefore(this.originalElement,this.element)}},{key:"_deRegisterMainElement",value:function(){this.element!==this.originalElement&&(this.deRegisteredElement=this.element,this.showOriginalElement(),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=this.originalElement)}},{key:"hideElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.element;return e&&e.style&&"none"!==e.style.display&&(e.style.display="none"),this}},{key:"showElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.element;return e&&e.style&&""!==e.style.display&&(e.style.display=""),this}},{key:"hideOriginalElement",value:function(){return this.hideElement(this.originalElement)}},{key:"showOriginalElement",value:function(){return this.showElement(this.originalElement)}},{key:"_init",value:function(){}},{key:"_play",value:function(){this.setMainElementActive()}},{key:"_pause",value:function(){this.showOriginalOnPause&&this.setOriginalElementActive()}}]),c);function c(e){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.element=e,this.originalElement=e,this.initDone=!1,this.synchPromise=null,this.synchIsAllowed=!0,this.hasNewSize=!0,this.showOriginalOnPause=!1}e.exports=i},function(e,t){e.exports={elementAttribute:"data-mol-fe-video-preview",playbackFw:1}},function(e,t,n){"use strict";var i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(9).nodeListToArray,s=n(33).playbackFw,i=(i(a,[{key:"_createFrameHolder",value:function(){var e=document.createElement("div");return e.className=this.frameHolderClassName+" frame-holder-current",e.style["background-image"]='url("'+this.videoPreviewImg.filmSrc+'")',e.style["background-size"]=100*this.framesPerRow+"% "+100*this.framesRows+"%",e}},{key:"_createFrameHolders",value:function(){var t=this;this._calcFrameGridParams(),this.frameHoldersElement?o(this.frameHoldersElement.children).forEach(function(e){t.frameHoldersElement.removeChild(e)}):(this.frameHoldersElement=document.createElement("div"),this.frameHoldersElement.className="frame-holders",this.videoPreviewImg.element.appendChild(this.frameHoldersElement)),this._frameHolders=[];for(var e=0;e<this._frameHoldersCount;e++){var n=this._createFrameHolder();this.frameHoldersElement.appendChild(n),this._frameHolders.push(n)}}},{key:"_calcFrameGridParams",value:function(){var e=this.videoPreviewImg.filmElement.naturalWidth;this.framesPerRow=e/this.videoPreviewImg.frameWidth>>0,this.framesRows=this.videoPreviewImg.filmElement.naturalHeight/this.videoPreviewImg.frameHeight>>0}},{key:"getCurFrameBackgroundPosition",value:function(){return"-"+this.curFrame%this.framesPerRow*100+"% -"+100*(this.curFrame/this.framesPerRow>>0)+"%"}},{key:"nextFrame",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.curFrame+1;this.curFrame=e%this.videoPreviewImg.frameCount}},{key:"setFrameHolderNext",value:function(e){e.className=this.frameHolderClassName+" frame-holder-next",e.style["background-position"]=this.getCurFrameBackgroundPosition()}},{key:"init",value:function(){this.initDone||(this.initDone=!0,this._createFrameHolders())}},{key:"play",value:function(){!this.isPlaying&&this.initDone&&(this.isPlaying=!0,this.nextFrame(),this.continueAnimation())}},{key:"continueAnimation",value:function(){var i=this;this.animationRequestId=window.requestAnimationFrame(function(e){var t=i.videoPreviewImg.frameCount;null===i.animationStart&&(i.animationStart=e),null===i.animationStartFrame&&(i.animationStartFrame=(i.curFrame-(i.curFrame-1)%t)%t);var n=(e-i.animationStart)/i.nextFrameDelay+i.animationStartFrame>>0;t<=n&&(i.animationStart=e,i.animationStartFrame=n=0),(i.animationStart===e||0<n-i.curFrame)&&i.nextFrame(n),i.isPlaying&&i.continueAnimation()})}},{key:"stopAnimation",value:function(){window.cancelAnimationFrame(this.animationRequestId),this.animationStart=null,this.animationStartFrame=this.curFrame}},{key:"pause",value:function(){this.isPlaying=!1,this.stopAnimation()}}]),a);function a(e){!function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.videoPreviewImg=e,this.nextFrameDelay=parseInt(1e3/(this.videoPreviewImg.fps*s),10),this.frameHolderClassName="frame-holder",this.isPlaying=!1,this.curFrame=0,this.initDone=!1,this._frameHolders=[],this._frameHoldersCount=1,this.animationStart=null,this.animationStartFrame=null}e.exports=i},function(e,t){e.exports=function(e){DM.molContentPlayer||(DM.molContentPlayer=e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"createRequestAd",function(){return d}),n.d(t,"loadIma",function(){return r});var i=void 0,r=function(){return i=i||(window.google&&window.google.ima?Promise.resolve(window.google.ima):function(r,o){if(!r)throw new TypeError('Missing required "src" parameter');return new Promise(function(e,t){var n=document.createElement("script"),i=o&&o.placeholder;n.type="text/javascript",n.async=!1,n.defer=!0,n.onerror=function(){return t(new URIError("The script "+r+" is not accessible."))},n.onload=function(){return e(n)},i=i||(document.currentScript?document.currentScript.parentNode:document.head),n.src=r,i.appendChild(n)})}("//imasdk.googleapis.com/js/sdkloader/ima3.js").then(function(){return window.google.ima}))},b=function(e){if("number"==typeof e.offsetHeight)return{width:e.offsetWidth,height:e.offsetHeight};e=e.getBoundingClientRect();return{width:e.width,height:e.height}},w=function(t,e,n){if(!1===e.hasOwnProperty("partnerCode"))return!1;var i=window.location.protocol,r="https:"===i?"z":"js",o=document.createElement("script");n=n||t&&(void 0!==t.O?t.O.parentNode:document.body)||document.body;var s=[],a={adsManager:t,ids:e,imaSDK:!0,events:[]},l={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&t){var u="_moatApi"+Math.floor(1e8*Math.random()),c=void 0;for(c in google.ima.AdEvent.Type){var d=function(e){if(a.sendEvent){for(e=s.length-1;0<=e;e--)t.removeEventListener(s[e].type,s[e].func);a.sendEvent(a.events)}else a.events.push({type:l[e.type]||e.type,adVolume:t.getVolume()})};t.addEventListener(google.ima.AdEvent.Type[c],d),s.push({type:google.ima.AdEvent.Type[c],func:d})}}u=void 0!==u?u:"",window[u]=a,n&&n.appendChild(o),o.src=i+"//"+r+".moatads.com/"+e.partnerCode+"/moatvideo.js#"+u};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)})(l,[{key:"on",value:function(e,t){var n=this.evts;return(n[e]||(n[e]=[])).push(t),this}},{key:"removeListener",value:function(e,t){var n=this.evts,i=n[e]||(n[e]=[]);return n[e]=i.filter(function(e){return e!==t&&e._!==t}),this}},{key:"removeAllListeners",value:function(e){return e?this.evts[e]=null:this.evts={},this}},{key:"once",value:function(e,t){function n(){i.removeListener(e,n),t.apply(void 0,arguments)}var i=this;return n._=t,this.on(e,n)}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this.evts,o=o[e]||(o[e]=[]),e=0<o.length;return o.forEach(function(e){try{e.apply(void 0,i)}catch(e){t.logger.error(e,e.stack)}}),e}}]),n=l,t=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e){!function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.evts={},this.logger=e||console}function u(e,t,o,s){var n,i,r,a,l=void 0,u=!1,c=s.timeout,d=void 0===c?15e3:c,p=s.onAdReady,h=s.onError,f=s.onRunFinish,v=s.videoElement,m=function(){e.contentComplete(),e.removeEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,A,!1),e.removeEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,g,!1),l&&(l.destroy(),l=null),"function"==typeof f&&f()},y=function(e){"function"==typeof h&&("function"==typeof e.getVastErrorCode&&(e.message=e.getMessage(),e.code=e.getVastErrorCode()),h(e)),m()},g=function(e){return y(e.getError())},A=function(e){try{var t;l=e.getAdsManager(v,(i=d,(r=new window.google.ima.AdsRenderingSettings).loadVideoTimeout=i,r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r)),u&&(l.destroy(),l=null),l.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,g),s.moat&&(t=T({viewMode:window.google.ima.ViewMode.NORMAL,slicer1:"%esid!",slicer2:"%esid!"},s.moat),w(l,t,o));var n=new j(l,v);n.on("finish",m),"function"==typeof p&&p(n),n.start()}catch(e){y(e)}var i,r};try{e.addEventListener(window.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,A,!1),e.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,g,!1),e.requestAds((n=b(v),i=t,r=Boolean(s.autoplay),(a=new window.google.ima.AdsRequest).adTagUrl=i,a.linearAdSlotWidth=n.width,a.linearAdSlotHeight=n.height,a.nonLinearAdSlotWidth=n.width,a.nonLinearAdSlotHeight=n.height,a.setAdWillAutoPlay(r),a.setAdWillPlayMuted(r),a)),v.load()}catch(e){y(e)}return function(){u=!0,m()}}var c=Symbol("_private"),j=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}(p,n),t(p,[{key:"start",value:function(){var e=b(this.videoElement),t=e.width,e=e.height;this.adsManager.init(t,e,window.google.ima.ViewMode.NORMAL),this.adsManager.start()}},{key:"isStarted",value:function(){return this[c].started}},{key:"isFinished",value:function(){return this[c].finished}},{key:"resume",value:function(){this.adsManager.resume()}},{key:"pause",value:function(){this.adsManager.pause()}},{key:"paused",value:function(){return this[c].paused}},{key:"cancel",value:function(){this.adsManager.stop()}},{key:"getVolume",value:function(){return this.adsManager.getVolume()}},{key:"setVolume",value:function(e){this.adsManager.setVolume(e)}},{key:"resize",value:function(e,t,n){n="FULLSCREEN"===n.toUpperCase()?"FULLSCREEN":"NORMAL";this.adsManager.resize(e,t,window.google.ima.ViewMode[n])}},{key:"duration",value:function(){return this[c].duration}},{key:"currentTime",value:function(){return this[c].currentTime}}]),p),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d=function(e,i){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!e||!e.nodeName||"VIDEO"!==e.nodeName.toUpperCase())throw new Error("createRequestAd Error: missing required video element on constructor");if(!(t=t)||!t.nodeName||"DIV"!==t.nodeName.toUpperCase())throw new Error("createRequestAd Error: missing required adContainer div element on constructor")}(e,i);var n,r,o=new window.google.ima.AdDisplayContainer(i,e),s=(n=o,e=(r=t).vpaidEnabled,t=r.player,r=new window.google.ima.AdsLoader(n),(n=r.getSettings()).setLocale("en"),n.setNumRedirects(6),t&&(n.setPlayerType(t.type),n.setPlayerVersion(t.version)),e?n.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.INSECURE):n.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.DISABLED),n.setAutoPlayAdBreaks(!0),r);return function(e,t,n){return o.initialize(),u(s,e,i,n)}};function p(i,e){!function(e){if(!(e instanceof p))throw new TypeError("Cannot call a class as a function")}(this);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return r[c]={paused:!0,started:!1,finished:!1,muted:!1,duration:0,currentTime:0},r.creativeAd=null,r.type="IMA",r.error=null,r.errorCode=null,r.adsManager=i,r.videoElement=e,r[c].muted=e.muted,e.muted?(r[c].muted=!0,r.setVolume(0)):r.setVolume(e.volume),i.addEventListener(window.google.ima.AdEvent.Type.VOLUME_CHANGED,function(){var e=r.getVolume(),t=!r[c].muted&&0===e,e=r[c].muted&&0<e;r.emit("volumeChanged",{type:"volumeChanged",adUnit:r}),e?(r[c].muted=!1,r.emit("unmute",{type:"unmute",adUnit:r})):t&&(r[c].muted=!0,r.emit("mute",{type:"mute",adUnit:r}))}),i.addEventListener(window.google.ima.AdErrorEvent.Type.AD_ERROR,function(e){r.error=e.getError(),r.error&&"function"==typeof r.error.getVastErrorCode&&(r.errorCode=r.error.getVastErrorCode(),r.error.code=r.errorCode,r.error.message=r.error.getMessage()),r.emit("error",{type:"error",adUnit:r})}),i.addEventListener(window.google.ima.AdEvent.Type.IMPRESSION,function(e){r.creativeAd=e.getAd();e=r.creativeAd.getApiFramework();"string"==typeof e&&e.toUpperCase().includes("VPAID")?r.type="VPAID":r.type="VAST",r.emit("impression",{type:"impression",adUnit:r})}),i.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){r[c].paused=!1,r[c].started=!0,r.emit("start",{type:"start",adUnit:r})}),[[window.google.ima.AdEvent.Type.SKIPPED,"skip"],[window.google.ima.AdEvent.Type.USER_CLOSE,"close"],[window.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,"contentResumeRequested"]].forEach(function(e){var t=s(e,2),e=t[0],n=t[1];i.addEventListener(e,function(){r.emit(n,{type:n,adUnit:r}),r.isFinished()||(r[c].finished=!0,r[c].paused=!0,r.emit("finish",{type:"finish",adUnit:r}))})}),i.addEventListener(window.google.ima.AdEvent.Type.PAUSED,function(){r[c].paused=!0,r.emit("pause",{type:"pause",adUnit:r})}),i.addEventListener(window.google.ima.AdEvent.Type.RESUMED,function(){r[c].paused=!1,r.emit("resume",{type:"resume",adUnit:r})}),[[window.google.ima.AdEvent.Type.FIRST_QUARTILE,"firstQuartile"],[window.google.ima.AdEvent.Type.MIDPOINT,"midpoint"],[window.google.ima.AdEvent.Type.THIRD_QUARTILE,"thirdQuartile"],[window.google.ima.AdEvent.Type.COMPLETE,"complete"]].forEach(function(e){var t=s(e,2),e=t[0],n=t[1];i.addEventListener(e,function(){r.emit(n,{type:n,adUnit:r})})}),i.addEventListener(window.google.ima.AdEvent.Type.CLICK,function(){r[c].paused?r.resume():r.pause()}),i.addEventListener(window.google.ima.AdEvent.Type.AD_PROGRESS,function(e){e=e.getAdData();r[c].duration=e.duration,r[c].currentTime=e.currentTime,r.emit("adProgress",{type:"adProgress",adUnit:r})}),r}},function(e,t,n){var i,r=this,o=n(36).loadIma;n(38),n(39),n(43),n(44),n(45),n(52),n(73),n(154),DM.molFeVideoplayer||(DM.molFeVideoplayer=n(155),DM.setupMolVideoJsPlayers=DM.molFeVideoplayer,DM.onDocReady((i=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Error loading IMA SDK",e.t0);case 8:DM.molFeVideoplayer.init(document),DM.later.go("videoplayer-ready");case 10:case"end":return e.stop()}},e,r,[[0,5]])}),function(){var a=i.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})})),n(159))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(e,t,n){var i;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),vjs.players[e])return t&&vjs.log.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&vjs.players[e].ready(n),vjs.players[e];i=vjs.el(e)}else i=e;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new vjs.Player(i,t,n)},videojs=window.videojs=vjs;function _handleMultipleEvents(t,n,e,i){vjs.arr.forEach(e,function(e){t(n,e,i)})}vjs.CDN_VERSION="4.12",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="4.12.15",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(e,t){return void 0!==vjs.options.languages[e]?vjs.options.languages[e]=vjs.util.mergeOptions(vjs.options.languages[e],t):vjs.options.languages[e]=t,vjs.options.languages},vjs.players={},__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return videojs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(e){var t,n,i=(e=e||{}).init||e.init||this.prototype.init||this.prototype.init||function(){};for(n in(((t=function(){i.apply(this,arguments)}).prototype=vjs.obj.create(this.prototype)).constructor=t).extend=vjs.CoreObject.extend,t.create=vjs.CoreObject.create,e)e.hasOwnProperty(n)&&(t.prototype[n]=e[n]);return t},vjs.CoreObject.create=function(){var e=vjs.obj.create(this.prototype);return this.apply(e,arguments),e},vjs.on=function(o,e,t){if(vjs.obj.isArray(e))return _handleMultipleEvents(vjs.on,o,e,t);var s=vjs.getData(o);s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),t.guid||(t.guid=vjs.guid++),s.handlers[e].push(t),s.dispatcher||(s.disabled=!1,s.dispatcher=function(e){if(!s.disabled){e=vjs.fixEvent(e);var t=s.handlers[e.type];if(t)for(var n=t.slice(0),i=0,r=n.length;i<r&&!e.isImmediatePropagationStopped();i++)n[i].call(o,e)}}),1==s.handlers[e].length&&(o.addEventListener?o.addEventListener(e,s.dispatcher,!1):o.attachEvent&&o.attachEvent("on"+e,s.dispatcher))},vjs.off=function(t,e,n){if(vjs.hasData(t)){var i=vjs.getData(t);if(i.handlers){if(vjs.obj.isArray(e))return _handleMultipleEvents(vjs.off,t,e,n);function r(e){i.handlers[e]=[],vjs.cleanUpEvents(t,e)}if(e){var o=i.handlers[e];if(o)if(n){if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);vjs.cleanUpEvents(t,e)}else r(e)}else for(var a in i.handlers)r(a)}}},vjs.cleanUpEvents=function(e,t){var n=vjs.getData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),vjs.isEmpty(n.handlers)&&(delete n.handlers,delete n.dispatcher,delete n.disabled),vjs.isEmpty(n)&&vjs.removeData(e)},vjs.fixEvent=function(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var i,r,o,s=e||window.event;for(i in e={},s)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&("returnValue"==i&&s.preventDefault||(e[i]=s[i]));e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){s.preventDefault&&s.preventDefault(),e.returnValue=!1,e.isDefaultPrevented=t,e.defaultPrevented=!0},e.isDefaultPrevented=n,e.defaultPrevented=!1,e.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),e.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX&&(r=document.documentElement,o=document.body,e.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},vjs.trigger=function(e,t){var n=vjs.hasData(e)?vjs.getData(e):{},i=e.parentNode||e.ownerDocument;return t=vjs.fixEvent(t="string"==typeof t?{type:t,target:e}:t),n.dispatcher&&n.dispatcher.call(e,t),i&&!t.isPropagationStopped()&&!1!==t.bubbles?vjs.trigger(i,t):i||t.defaultPrevented||(i=vjs.getData(t.target),t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)),!t.defaultPrevented},vjs.one=function(e,t,n){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.one,e,t,n);function i(){vjs.off(e,t,i),n.apply(this,arguments)}i.guid=n.guid=n.guid||vjs.guid++,vjs.on(e,t,i)};var hasOwnProp=Object.prototype.hasOwnProperty,track,major,minor,match,createTrackHelper,origSetSource,origDisposeSourceHandler,canPlayType,mpegurlRE,mp4RE,loadTrack,parseCues,indexOf,root,vttjs,cueShim,regionShim,oldVTTCue,oldVTTRegion;function _logType(e,t){var n=Array.prototype.slice.call(t),t=function(){},t=window.console||{log:t,warn:t,error:t};e?n.unshift(e.toUpperCase()+":"):e="log",vjs.log.history.push(n),n.unshift("VIDEOJS:"),t[e].apply?t[e].apply(t,n):t[e](n.join(" "))}vjs.createEl=function(e,t){var n;return e=e||"div",t=t||{},n=document.createElement(e),vjs.obj.each(t,function(e,t){-1!==e.indexOf("aria-")||"role"==e?n.setAttribute(e,t):n[e]=t}),n},vjs.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(e){function t(){}return t.prototype=e,new t},vjs.obj.each=function(e,t,n){for(var i in e)hasOwnProp.call(e,i)&&t.call(n||this,i,e[i])},vjs.obj.merge=function(e,t){if(!t)return e;for(var n in t)hasOwnProp.call(t,n)&&(e[n]=t[n]);return e},vjs.obj.deepMerge=function(e,t){var n,i,r;for(n in e=vjs.obj.copy(e),t)hasOwnProp.call(t,n)&&(i=e[n],r=t[n],vjs.obj.isPlain(i)&&vjs.obj.isPlain(r)?e[n]=vjs.obj.deepMerge(i,r):e[n]=t[n]);return e},vjs.obj.copy=function(e){return vjs.obj.merge({},e)},vjs.obj.isPlain=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},vjs.obj.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},vjs.isNaN=function(e){return e!=e},vjs.bind=function(e,t,n){t.guid||(t.guid=vjs.guid++);function i(){return t.apply(e,arguments)}return i.guid=n?n+"_"+t.guid:t.guid,i},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(e){var t=(t=e[vjs.expando])||(e[vjs.expando]=vjs.guid++);return vjs.cache[t]||(vjs.cache[t]={}),vjs.cache[t]},vjs.hasData=function(e){e=e[vjs.expando];return!(!e||vjs.isEmpty(vjs.cache[e]))},vjs.removeData=function(e){var t=e[vjs.expando];if(t){delete vjs.cache[t];try{delete e[vjs.expando]}catch(t){e.removeAttribute?e.removeAttribute(vjs.expando):e[vjs.expando]=null}}},vjs.isEmpty=function(e){for(var t in e)if(null!==e[t])return!1;return!0},vjs.hasClass=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},vjs.addClass=function(e,t){vjs.hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t)},vjs.removeClass=function(e,t){var n,i;if(vjs.hasClass(e,t)){for(i=(n=e.className.split(" ")).length-1;0<=i;i--)n[i]===t&&n.splice(i,1);e.className=n.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),track=document.createElement("track"),track.kind="captions",track.srclang="en",track.label="English",vjs.TEST_VID.appendChild(track),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var e=vjs.USER_AGENT.match(/OS (\d+)_/i);if(e&&e[1])return e[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=(match=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),match?(major=match[1]&&parseFloat(match[1]),minor=match[2]&&parseFloat(match[2]),major&&minor?parseFloat(match[1]+"."+match[2]):major||null):null),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in vjs.TEST_VID.style,vjs.setElementAttributes=function(n,e){vjs.obj.each(e,function(e,t){null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})},vjs.getElementAttributes=function(e){var t,n,i,r={};if(e&&e.attributes&&0<e.attributes.length)for(var o=(t=e.attributes).length-1;0<=o;o--)n=t[o].name,i=t[o].value,"boolean"!=typeof e[n]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+n+",")||(i=null!==i),r[n]=i;return r},vjs.getComputedDimension=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(n=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),n},vjs.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},vjs.browser={},vjs.el=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),document.getElementById(e)},vjs.formatTime=function(e,t){t=t||e;var n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),t=Math.floor(t/3600);return(r=0<(r=isNaN(e)||e===1/0?i=n="-":r)||0<t?r+":":"")+(i=((r||10<=o)&&i<10?"0"+i:i)+":")+(n<10?"0"+n:n)},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(e){return(e+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(e,t){return t=t||0,Math.round(e*Math.pow(10,t))/Math.pow(10,t)},vjs.createTimeRange=function(e,t){return void 0===e&&void 0===t?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:1,start:function(){return e},end:function(){return t}}},vjs.setLocalStorage=function(e,t){try{var n=window.localStorage||!1;if(!n)return;n[e]=t}catch(e){22==e.code||1014==e.code?vjs.log("LocalStorage Full (VideoJS)",e):18==e.code?vjs.log("LocalStorage not allowed (VideoJS)",e):vjs.log("LocalStorage Error (VideoJS)",e)}},vjs.getAbsoluteURL=function(e){return e=!e.match(/^https?:\/\//)?vjs.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href:e},vjs.parseUrl=function(e){var t,n,i,r=["protocol","hostname","port","pathname","search","hash","host"];(i=""===(n=vjs.createEl("a",{href:e})).host&&"file:"!==n.protocol)&&((t=vjs.createEl("div")).innerHTML='<a href="'+e+'"></a>',n=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(t));for(var o={},s=0;s<r.length;s++)o[r[s]]=n[r[s]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),i&&document.body.removeChild(t),o},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(e){var t,n,i,r;return(t=e.getBoundingClientRect&&e.parentNode?e.getBoundingClientRect():t)?(r=document.documentElement,i=document.body,n=r.clientLeft||i.clientLeft||0,e=window.pageXOffset||i.scrollLeft,n=t.left+e-n,r=r.clientTop||i.clientTop||0,i=window.pageYOffset||i.scrollTop,r=t.top+i-r,{left:vjs.round(n),top:vjs.round(r)}):{left:0,top:0}},vjs.arr={},vjs.arr.forEach=function(e,t,n){if(vjs.obj.isArray(e)&&t instanceof Function)for(var i=0,r=e.length;i<r;++i)t.call(n||vjs,e[i],i,e);return e},vjs.xhr=function(e,t){var n,i,r,o,s,a,l;videojs.util.mergeOptions({method:"GET",timeout:45e3},e="string"==typeof e?{uri:e}:e),t=t||function(){},a=function(){window.clearTimeout(s),t(null,n,n.response||n.responseText)},l=function(e){window.clearTimeout(s),e&&"string"!=typeof e||(e=new Error(e)),t(e,n)},void 0===(r=window.XMLHttpRequest)&&(r=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}),(n=new r).uri=e.uri,i=vjs.parseUrl(e.uri),r=window.location,i.protocol+i.host===r.protocol+r.host||!window.XDomainRequest||"withCredentials"in n?(o="file:"==i.protocol||"file:"==r.protocol,n.onreadystatechange=function(){if(4===n.readyState){if(n.timedout)return l("timeout");(200===n.status||o&&0===n.status?a:l)()}},e.timeout&&(s=window.setTimeout(function(){4!==n.readyState&&(n.timedout=!0,n.abort())},e.timeout))):((n=new window.XDomainRequest).onload=a,n.onerror=l,n.onprogress=function(){},n.ontimeout=function(){});try{n.open(e.method||"GET",e.uri,!0)}catch(e){return l(e)}e.withCredentials&&(n.withCredentials=!0),e.responseType&&(n.responseType=e.responseType);try{n.send()}catch(e){return l(e)}return n},vjs.util={},vjs.util.mergeOptions=function(e,t){var n,i,r;for(n in e=vjs.obj.copy(e),t)t.hasOwnProperty(n)&&(i=e[n],r=t[n],vjs.obj.isPlain(i)&&vjs.obj.isPlain(r)?e[n]=vjs.util.mergeOptions(i,r):e[n]=t[n]);return e},vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=Function.prototype,vjs.on(this,e,t),this.addEventListener=n},vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(e,t){vjs.off(this,e,t)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=function(e,t){vjs.one(this,e,t)},vjs.EventEmitter.prototype.trigger=function(e){var t=e.type||e;e=vjs.fixEvent(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),vjs.trigger(this,e)},vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,vjs.Component=vjs.CoreObject.extend({init:function(e,t,n){this.player_=e,this.options_=vjs.obj.copy(this.options_),t=this.options(t),this.id_=t.id||t.el&&t.el.id,this.id_||(this.id_=(e.id&&e.id()||"no_player")+"_component_"+vjs.guid++),this.name_=t.name||null,this.el_=t.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(e){return void 0===e?this.options_:this.options_=vjs.util.mergeOptions(this.options_,e)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(e,t){return vjs.createEl(e,t)},vjs.Component.prototype.localize=function(e){var t=this.player_.language(),n=this.player_.languages();return n&&n[t]&&n[t][e]?n[t][e]:e},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(e){return this.childIndex_[e]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(e){return this.childNameIndex_[e]},vjs.Component.prototype.addChild=function(e,t){var n,i,e="string"==typeof e?(i=e,n=(t=t||{}).componentClass||vjs.capitalize(i),t.name=i,new window.videojs[n](this.player_||this,t)):e;return this.children_.push(e),"function"==typeof e.id&&(this.childIndex_[e.id()]=e),(i=i||e.name&&e.name())&&(this.childNameIndex_[i]=e),"function"==typeof e.el&&e.el()&&this.contentEl().appendChild(e.el()),e},vjs.Component.prototype.removeChild=function(e){if((e="string"==typeof e?this.getChild(e):e)&&this.children_){for(var t,n=!1,i=this.children_.length-1;0<=i;i--)if(this.children_[i]===e){n=!0,this.children_.splice(i,1);break}n&&(this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null,(t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el()))}},vjs.Component.prototype.initChildren=function(){var n,i,e,t,r,o;if(e=(i=(n=this).options()).children)if(o=function(e,t){!1!==(t=void 0!==i[e]?i[e]:t)&&(n[e]=n.addChild(e,t))},vjs.obj.isArray(e))for(var s=0;s<e.length;s++)r="string"==typeof(r=e[s])?(t=r,{}):(t=r.name,r),o(t,r);else vjs.obj.each(e,o)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(e,t,n){var i,r,o,s,a;return"string"==typeof e||vjs.obj.isArray(e)?vjs.on(this.el_,e,vjs.bind(this,t)):(i=e,r=t,o=vjs.bind(this,n),a=this,(s=function(){a.off(i,r,o)}).guid=o.guid,this.on("dispose",s),(n=function(){a.off("dispose",s)}).guid=o.guid,e.nodeName?(vjs.on(i,r,o),vjs.on(i,"dispose",n)):"function"==typeof e.on&&(i.on(r,o),i.on("dispose",n))),this},vjs.Component.prototype.off=function(e,t,n){var i;return!e||"string"==typeof e||vjs.obj.isArray(e)?vjs.off(this.el_,e,t):(i=e,t=t,n=vjs.bind(this,n),this.off("dispose",n),e.nodeName?(vjs.off(i,t,n),vjs.off(i,"dispose",n)):(i.off(t,n),i.off("dispose",n))),this},vjs.Component.prototype.one=function(e,t,n){var i,r,o,s,a;return"string"==typeof e||vjs.obj.isArray(e)?vjs.one(this.el_,e,vjs.bind(this,t)):(i=e,r=t,o=vjs.bind(this,n),s=this,(a=function(){s.off(i,r,a),o.apply(this,arguments)}).guid=o.guid,this.on(i,r,a)),this},vjs.Component.prototype.trigger=function(e){return vjs.trigger(this.el_,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(e){return e&&(this.isReady_?e.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(e))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var e=this.readyQueue_;if(this.readyQueue_=[],e&&0<e.length){for(var t=0,n=e.length;t<n;t++)e[t].call(this);this.trigger("ready")}},vjs.Component.prototype.hasClass=function(e){return vjs.hasClass(this.el_,e)},vjs.Component.prototype.addClass=function(e){return vjs.addClass(this.el_,e),this},vjs.Component.prototype.removeClass=function(e){return vjs.removeClass(this.el_,e),this},vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(e,t){return this.dimension("width",e,t)},vjs.Component.prototype.height=function(e,t){return this.dimension("height",e,t)},vjs.Component.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},vjs.Component.prototype.dimension=function(e,t,n){if(void 0!==t)return-1!==(""+(t=null===t||vjs.isNaN(t)?0:t)).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;t=this.el_.style[e],n=t.indexOf("px");return-1!==n?parseInt(t.slice(0,n),10):parseInt(this.el_["offset"+vjs.capitalize(e)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var t,e,n,i,r=0,o=null;this.on("touchstart",function(e){1===e.touches.length&&(o=vjs.obj.copy(e.touches[0]),r=(new Date).getTime(),t=!0)}),this.on("touchmove",function(e){1<e.touches.length?t=!1:o&&(n=e.touches[0].pageX-o.pageX,i=e.touches[0].pageY-o.pageY,10<Math.sqrt(n*n+i*i)&&(t=!1))}),e=function(){t=!1},this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(o=null)===t&&(new Date).getTime()-r<200&&(e.preventDefault(),this.trigger("tap"))})},vjs.Component.prototype.enableTouchActivity=function(){var t,n,e;this.player().reportUserActivity&&(t=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)}),e=function(e){t(),this.clearInterval(n)},this.on("touchmove",t),this.on("touchend",e),this.on("touchcancel",e))},vjs.Component.prototype.setTimeout=function(e,t){e=vjs.bind(this,e);var n=setTimeout(e,t),t=function(){this.clearTimeout(n)};return t.guid="vjs-timeout-"+n,this.on("dispose",t),n},vjs.Component.prototype.clearTimeout=function(e){clearTimeout(e);function t(){}return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},vjs.Component.prototype.setInterval=function(e,t){e=vjs.bind(this,e);var n=setInterval(e,t),t=function(){this.clearInterval(n)};return t.guid="vjs-interval-"+n,this.on("dispose",t),n},vjs.Component.prototype.clearInterval=function(e){clearInterval(e);function t(){}return t.guid="vjs-interval-"+e,this.off("dispose",t),e},vjs.Button=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(e,t){return t=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},t),e=vjs.Component.prototype.createEl.call(this,e,t),t.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),e.appendChild(this.contentEl_)),e},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(e){32!=e.which&&13!=e.which||(e.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.on(e,"controlsvisible",this.update),this.on(e,this.playerEvent,this.update)}}),vjs.Slider.prototype.createEl=function(e,t){return(t=t||{}).className=t.className+" vjs-slider",t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),vjs.Component.prototype.createEl.call(this,e,t)},vjs.Slider.prototype.onMouseDown=function(e){e.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),this.on(document,"mousemove",this.onMouseMove),this.on(document,"mouseup",this.onMouseUp),this.on(document,"touchmove",this.onMouseMove),this.on(document,"touchend",this.onMouseUp),this.onMouseMove(e)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),this.off(document,"mousemove",this.onMouseMove),this.off(document,"mouseup",this.onMouseUp),this.off(document,"touchmove",this.onMouseMove),this.off(document,"touchend",this.onMouseUp),this.update()},vjs.Slider.prototype.update=function(){var e,t,n,i,r;this.el_&&(n=this.getPercent(),e=this.handle,t=this.bar,r=n="number"!=typeof n||n!=n||n<0||n===1/0?0:n,e&&(i=this.el_.offsetWidth,r=(i=n*(1-(n=(n=e.el().offsetWidth)?n/i:0)))+n/2,e.el().style.left=vjs.round(100*i,2)+"%"),t&&(t.el().style.width=vjs.round(100*r,2)+"%"))},vjs.Slider.prototype.calculateDistance=function(e){var t,n=this.el_,i=vjs.findPosition(n),r=t=n.offsetWidth,o=this.handle;if(this.options().vertical){var s=i.top,a=(e.changedTouches?e.changedTouches[0]:e).pageY;return o&&(s+=(n=o.el().offsetHeight)/2,t-=n),Math.max(0,Math.min(1,(s-a+t)/t))}i=i.left,e=(e.changedTouches?e.changedTouches[0]:e).pageX;return o&&(i+=(o=o.el().offsetWidth)/2,r-=o),Math.max(0,Math.min(1,(e-i)/r))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=function(e){37==e.which||40==e.which?(e.preventDefault(),this.stepBack()):38!=e.which&&39!=e.which||(e.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){this.off(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(e,t){return(t=t||{}).className=t.className+" vjs-slider-handle",t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t),vjs.Component.prototype.createEl.call(this,"div",t)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(e){this.addChild(e),e.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var e=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(e,{className:"vjs-menu-content"});e=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),vjs.on(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e},vjs.MenuItem=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.selected(t.selected)}}),vjs.MenuItem.prototype.createEl=function(e,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},t))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(e){e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.update(),this.on("keydown",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&1<this.items.length&&this.show()},vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_);if(this.options().title&&e.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(e){32==e.which||13==e.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),e.preventDefault()):27==e.which&&(this.buttonPressed_&&this.unpressButton(),e.preventDefault())},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&0<this.items.length&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&vjs.obj.merge(this,e),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0,cx,o2a,p2a,q2a,rca,sca,tca,uca;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;function r2a(e){return"number"==typeof e&&0<=e&&e<=100}function s2a(){var t=100,n=3,i=0,r=100,o=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r2a(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!r2a(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r2a(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r2a(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r2a(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){e="string"==typeof(e=e)&&!!q2a[e.toLowerCase()]&&e.toLowerCase();if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");a=e}}})}function vca(e){return"string"==typeof e&&!!uca[e.toLowerCase()]&&e.toLowerCase()}function wca(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)e[n]=i[n]}return e}function xca(e,t,n){var i=this,r=/MSIE\s8\.0/.test(navigator.userAgent),o={};r?i=document.createElement("custom"):o.enumerable=!0,i.hasBeenReset=!1;var s="",a=!1,l=e,u=t,c=n,d=null,p="",h=!0,f="auto",v="start",m=50,y="middle",g=50,A="middle";if(Object.defineProperty(i,"id",wca({},o,{get:function(){return s},set:function(e){s=""+e}})),Object.defineProperty(i,"pauseOnExit",wca({},o,{get:function(){return a},set:function(e){a=!!e}})),Object.defineProperty(i,"startTime",wca({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"endTime",wca({},o,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"text",wca({},o,{get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}})),Object.defineProperty(i,"region",wca({},o,{get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"vertical",wca({},o,{get:function(){return p},set:function(e){e="string"==typeof(e=e)&&!!tca[e.toLowerCase()]&&e.toLowerCase();if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"snapToLines",wca({},o,{get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}})),Object.defineProperty(i,"line",wca({},o,{get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"lineAlign",wca({},o,{get:function(){return v},set:function(e){e=vca(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"position",wca({},o,{get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"positionAlign",wca({},o,{get:function(){return y},set:function(e){e=vca(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"size",wca({},o,{get:function(){return g},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(i,"align",wca({},o,{get:function(){return A},set:function(e){e=vca(e);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");A=e,this.hasBeenReset=!0}})),i.displayState=void 0,r)return i}(function(){var e,t,n,i;for(vjs.browser.fullscreenAPI,t=(e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]])[0],i=0;i<e.length;i++)if(e[i][1]in document){n=e[i];break}if(n)for(vjs.browser.fullscreenAPI={},i=0;i<n.length;i++)vjs.browser.fullscreenAPI[t[i]]=n[i]})(),vjs.Player=vjs.Component.extend({init:function(e,t,n){(this.tag=e).id=e.id||"vjs_video_"+vjs.guid++,this.tagAttributes=e&&vjs.getElementAttributes(e),t=vjs.obj.merge(this.getTagSettings(e),t),this.language_=t.language||vjs.options.language,this.languages_=t.languages||vjs.options.languages,this.cache_={},this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,t.reportTouchActivity=!1,this.isAudio("audio"===this.tag.nodeName.toLowerCase()),vjs.Component.call(this,this,t,n),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),vjs.players[this.id_]=this,t.plugins&&vjs.obj.each(t.plugins,function(e,t){this[e](t)},this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(e){return void 0===e?this.language_:(this.language_=e,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(e){var t,n,i,r,o,s,a,l={sources:[],tracks:[]};if(null!==(n=(t=vjs.getElementAttributes(e))["data-setup"])&&vjs.obj.merge(t,vjs.JSON.parse(n||"{}")),vjs.obj.merge(l,t),e.hasChildNodes())for(s=0,a=(i=e.childNodes).length;s<a;s++)"source"===(o=(r=i[s]).nodeName.toLowerCase())?l.sources.push(vjs.getElementAttributes(r)):"track"===o&&l.tracks.push(vjs.getElementAttributes(r));return l},vjs.Player.prototype.createEl=function(){var t,n=this.el_=vjs.Component.prototype.createEl.call(this,"div"),e=this.tag;return e.removeAttribute("width"),e.removeAttribute("height"),t=vjs.getElementAttributes(e),vjs.obj.each(t,function(e){"class"==e?n.className=t[e]:n.setAttribute(e,t[e])}),e.id+="_html5_api",e.className="vjs-tech",(e.player=n.player=this).addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),e.initNetworkState_=e.networkState,e.parentNode&&e.parentNode.insertBefore(n,e),vjs.insertFirst(e,n),this.el_=n,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),n},vjs.Player.prototype.loadTech=function(e,t){this.tech&&this.unloadTech(),"Html5"!==e&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=e,this.isReady_=!1;var n=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[e.toLowerCase()]);t&&(this.currentType_=t.type,t.src==this.cache_.src&&0<this.cache_.currentTime&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src),this.tech=new window.videojs[e](this,n),this.tech.ready(function(){this.player_.triggerReady()})},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?this.hasStarted(!1):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&((this.hasStarted_=e)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0)},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var e=this.techGet("duration");e&&(this.duration(e=e<0?1/0:e),e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError,vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(e,t){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[e](t)});else try{this.tech[e](t)}catch(e){throw vjs.log(e),e}},vjs.Player.prototype.techGet=function(t){if(this.tech&&this.tech.isReady_)try{return this.tech[t]()}catch(e){throw void 0===this.tech[t]?vjs.log("Video.js: "+t+" method not defined for "+this.techName+" playback technology.",e):"TypeError"==e.name?(vjs.log("Video.js: "+t+" unavailable on "+this.techName+" playback technology element.",e),this.tech.isReady_=!1):vjs.log(e),e}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return!1!==this.techGet("paused")},vjs.Player.prototype.currentTime=function(e){return void 0!==e?(this.techCall("setCurrentTime",e),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(e){return void 0!==e?(this.cache_.duration=parseFloat(e),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var e=this.techGet("buffered");return e=!e||!e.length?vjs.createTimeRange(0,0):e},vjs.Player.prototype.bufferedPercent=function(){var e,t,n=this.duration(),i=this.buffered(),r=0;if(!n)return 0;for(var o=0;o<i.length;o++)e=i.start(o),r+=(t=(t=i.end(o))>n?n:t)-e;return r/n},vjs.Player.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),e=e.end(e.length-1);return e=t<e?t:e},vjs.Player.prototype.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall("setVolume",t),vjs.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},vjs.Player.prototype.muted=function(e){return void 0!==e?(this.techCall("setMuted",e),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(e){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(e)},vjs.Player.prototype.requestFullscreen=function(){var t=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),t?(vjs.on(document,t.fullscreenchange,vjs.bind(this,function(e){this.isFullscreen(document[t.fullscreenElement]),!1===this.isFullscreen()&&vjs.off(document,t.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var e=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),e?document[e.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(e){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var i=vjs.capitalize(n[t]),r=window.videojs[i];if(r){if(r.isSupported())for(var o=0,s=e;o<s.length;o++){var a=s[o];if(r.canPlaySource(a))return{source:a,tech:i}}}else vjs.log.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(e){return void 0===e?this.techGet("src"):(vjs.obj.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!window.videojs[this.techName].canPlaySource(e)?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){window.videojs[this.techName].prototype.hasOwnProperty("setSource")?this.techCall("setSource",e):this.techCall("src",e.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(e){e=this.selectSource(e);e?e.tech===this.techName?this.src(e.source):this.loadTech(e.tech,e.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})},0),this.triggerReady())},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(e){return void 0!==e?(this.techCall("setPreload",e),this.options_.preload=e,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(e){return void 0!==e?(this.techCall("setAutoplay",e),this.options_.autoplay=e,this):this.techGet("autoplay",e)},vjs.Player.prototype.loop=function(e){return void 0!==e?(this.techCall("setLoop",e),this.options_.loop=e,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(e){return void 0===e?this.poster_:(this.poster_=e=e||"",this.techCall("setPoster",e),this.trigger("posterchange"),this)},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(e){return void 0!==e?(this.controls_!==(e=!!e)&&((this.controls_=e)?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(e){return void 0!==e?(this.usingNativeControls_!==(e=!!e)&&((this.usingNativeControls_=e)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(e){return void 0===e?this.error_:(null===e?(this.error_=e,this.removeClass("vjs-error")):(e instanceof vjs.MediaError?this.error_=e:this.error_=new vjs.MediaError(e),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_)),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.seekable=function(){return this.techGet("seekable")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(e){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(e){return void 0!==e?((e=!!e)!==this.userActive_&&((this.userActive_=e)?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var t,n,i,r,o=vjs.bind(this,this.reportUserActivity),e=function(e){e.screenX==i&&e.screenY==r||(i=e.screenX,r=e.screenY,o())},s=function(){o(),this.clearInterval(t),t=this.setInterval(o,250)},a=function(e){o(),this.clearInterval(t)};this.on("mousedown",s),this.on("mousemove",e),this.on("mouseup",a),this.on("keydown",o),this.on("keyup",o),this.setInterval(function(){var e;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(n),0<(e=this.options().inactivityTimeout)&&(n=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)))},250)},vjs.Player.prototype.playbackRate=function(e){return void 0!==e?(this.techCall("setPlaybackRate",e),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):this.isAudio_},vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=function(){return this.techGet("readyState")},vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech.remoteTextTracks()},vjs.Player.prototype.addTextTrack=function(e,t,n){return this.tech&&this.tech.addTextTrack(e,t,n)},vjs.Player.prototype.addRemoteTextTrack=function(e){return this.tech&&this.tech.addRemoteTextTrack(e)},vjs.Player.prototype.removeRemoteTextTrack=function(e){this.tech&&this.tech.removeRemoteTextTrack(e)},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.LiveDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE"),"aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.PlayToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.on(e,"play",this.onPlay),this.on(e,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+vjs.formatTime(e,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"timeupdate",this.updateContent),this.on(e,"loadedmetadata",this.updateContent)}}),vjs.DurationDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00","aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.DurationDisplay.prototype.updateContent=function(){var e=this.player_.duration();e&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+vjs.formatTime(e))},vjs.TimeDivider=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00","aria-live":"off"}),e.appendChild(this.contentEl_),e},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),this.controlText_.innerHTML=this.localize("Non-Fullscreen"))},vjs.ProgressControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),this.on(e,"timeupdate",this.updateARIAAttributes),e.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(e,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(e){vjs.Slider.prototype.onMouseDown.call(this,e),this.player_.scrubbing=!0,this.player_.addClass("vjs-scrubbing"),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(e){e=this.calculateDistance(e)*this.player_.duration();e==this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},vjs.SeekBar.prototype.onMouseUp=function(e){vjs.Slider.prototype.onMouseUp.call(this,e),this.player_.scrubbing=!1,this.player_.removeClass("vjs-scrubbing"),this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.on(e,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){function e(e,t){return 100*(e/t||0)+"%"}var t,n,i,r,o=this.player_.buffered(),s=this.player_.duration(),a=this.player_.bufferedEnd(),l=this.el_.children;for(this.el_.style.width=e(a,s),t=0;t<o.length;t++)n=o.start(t),i=o.end(t),(r=!(r=l[t])?this.el_.appendChild(vjs.createEl()):r).style.left=e(n,a),r.style.width=e(i-n,a);for(t=l.length;t>o.length;t--)this.el_.removeChild(l[t-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(e,t){vjs.SliderHandle.call(this,e,t),this.on(e,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(e,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),e.tech&&!1===e.tech.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(e,"loadstart",function(){!1===e.tech.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(e,t){vjs.Slider.call(this,e,t),this.on(e,"volumechange",this.updateARIAAttributes),e.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(e){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(e))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.on(e,"volumechange",this.update),e.tech&&!1===e.tech.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(e,"loadstart",function(){!1===e.tech.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var n=0;n<4;n++)vjs.removeClass(this.el_,"vjs-vol-"+n);vjs.addClass(this.el_,"vjs-vol-"+t)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),this.on(e,"volumechange",this.volumeUpdate),e.tech&&!1===e.tech.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(e,"loadstart",function(){!1===e.tech.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player_,{contentElType:"div"}),t=new vjs.VolumeBar(this.player_,this.options_.volumeBar);return t.on("focus",function(){e.lockShowing()}),t.on("blur",function(){e.unlockShowing()}),e.addChild(t),e},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(e,t){vjs.MenuButton.call(this,e,t),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",this.updateVisibility),this.on(e,"ratechange",this.updateLabel)}}),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=function(){var e=vjs.MenuButton.prototype.createEl.call(this);return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var e=new vjs.Menu(this.player()),t=this.player().options().playbackRates;if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:t[n]+"x"}));return e},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var e=this.player().playbackRate(),t=this.player().options().playbackRates,n=t[0],i=0;i<t.length;i++)if(t[i]>e){n=t[i];break}this.player().playbackRate(n)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&0<this.player().options().playbackRates.length},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(e,t){var n=this.label=t.rate,i=this.rate=parseFloat(n,10);t.label=n,t.selected=1===i,vjs.MenuItem.call(this,e,t),this.on(e,"ratechange",this.update)}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.update(),e.on("posterchange",vjs.bind(this,this.update))}}),vjs.PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update),vjs.Button.prototype.dispose.call(this)},vjs.PosterImage.prototype.createEl=function(){var e=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return vjs.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=vjs.createEl("img"),e.appendChild(this.fallbackImg_)),e},vjs.PosterImage.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},vjs.PosterImage.prototype.setSrc=function(e){this.fallbackImg_?this.fallbackImg_.src=e:this.el_.style.backgroundImage=e?'url("'+e+'")':""},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.update(),this.on(e,"error",this.update)}}),vjs.ErrorDisplay.prototype.createEl=function(){var e=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),e.appendChild(this.contentEl_),e},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},vjs.MediaTechController=vjs.Component.extend({init:function(e,t,n){(t=t||{}).reportTouchActivity=!1,vjs.Component.call(this,e,t,n),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners(),this.featuresNativeTextTracks||this.emulateTextTracks(),this.initTextTrackListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var e=this.player(),t=function(){e.controls()&&!e.usingNativeControls()&&this.addControlsListeners()};this.ready(t),this.on(e,"controlsenabled",t),this.on(e,"controlsdisabled",this.removeControlsListeners),this.ready(function(){this.networkState&&0<this.networkState()&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var t;this.on("mousedown",this.onClick),this.on("touchstart",function(e){t=this.player_.userActive()}),this.on("touchmove",function(e){t&&this.player().reportUserActivity()}),this.on("touchend",function(e){e.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(e){0===e.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var e=this.player().bufferedPercent();this.bufferedPercent_!=e&&this.player().trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()},500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var e=this.player_;this.manualTimeUpdates=!0,this.on(e,"play",this.trackCurrentTime),this.on(e,"pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var e=this.player_;this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off(e,"play",this.trackCurrentTime),this.off(e,"pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.player().trigger("timeupdate")},250)},vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.initTextTrackListeners=function(){function e(){var e=n.getChild("textTrackDisplay");e&&e.updateDisplay()}var t,n=this.player_;(t=this.textTracks())&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",vjs.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},vjs.MediaTechController.prototype.emulateTextTracks=function(){var e,t,n,i=this.player_;window.WebVTT||((n=document.createElement("script")).src=i.options()["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",i.el().appendChild(n),window.WebVTT=!0),(t=this.textTracks())&&(e=function(){var e,t,n;for((n=i.getChild("textTrackDisplay")).updateDisplay(),e=0;e<this.length;e++)(t=this[e]).removeEventListener("cuechange",vjs.bind(n,n.updateDisplay)),"showing"===t.mode&&t.addEventListener("cuechange",vjs.bind(n,n.updateDisplay))},t.addEventListener("change",e),this.on("dispose",vjs.bind(this,function(){t.removeEventListener("change",e)})))},vjs.MediaTechController.prototype.textTracks_,vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_},vjs.MediaTechController.prototype.remoteTextTracks=function(){return this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList,this.player_.remoteTextTracks_},createTrackHelper=function(e,t,n,i,r){var o=e.textTracks();return(r=r||{}).kind=t,n&&(r.label=n),i&&(r.language=i),r.player=e.player_,r=new vjs.TextTrack(r),o.addTrack_(r),r},vjs.MediaTechController.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,e,t,n)},vjs.MediaTechController.prototype.addRemoteTextTrack=function(e){e=createTrackHelper(this,e.kind,e.label,e.language,e);return this.remoteTextTracks().addTrack_(e),{track:e}},vjs.MediaTechController.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e),this.remoteTextTracks().removeTrack_(e)},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.MediaTechController.prototype.featuresNativeTextTracks=!1,vjs.MediaTechController.withSourceHandlers=function(i){i.registerSourceHandler=function(e,t){var n=(n=i.sourceHandlers)||(i.sourceHandlers=[]);void 0===t&&(t=n.length),n.splice(t,0,e)},i.selectSourceHandler=function(e){for(var t=i.sourceHandlers||[],n=0;n<t.length;n++)if(t[n].canHandleSource(e))return t[n];return null},i.canPlaySource=function(e){var t=i.selectSourceHandler(e);return t?t.canHandleSource(e):""},i.prototype.setSource=function(e){var t=i.selectSourceHandler(e);return t||(i.nativeSourceHandler?t=i.nativeSourceHandler:vjs.log.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=e,this.sourceHandler_=t.handleSource(e,this),this.on("dispose",this.disposeSourceHandler),this},i.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(e,t,n){var i,r,o,s,a;!1!==t.nativeCaptions&&!1!==t.nativeTextTracks||(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,e,t,n),this.setupTriggers();t=t.source;if(t&&(this.el_.currentSrc!==t.src||e.tag&&3===e.tag.initNetworkState_)&&this.setSource(t),this.el_.hasChildNodes()){for(r=(i=this.el_.childNodes).length,a=[];r--;)"track"===(s=i[r]).nodeName.toLowerCase()&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(s.track):a.push(s));for(o=0;o<a.length;o++)this.el_.removeChild(a[o])}vjs.TOUCH_ENABLED&&!0===e.options().nativeControlsForTouch&&this.useNativeControls(),e.ready(function(){this.src()&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var e,t,n,i=this.player_,r=i.tag;if(!r||!1===this.movingMediaElementInDOM){if(r?(n=r.cloneNode(!1),vjs.Html5.disposeMediaElement(r),r=n,i.tag=null):(r=vjs.createEl("video"),n=videojs.util.mergeOptions({},i.tagAttributes),vjs.TOUCH_ENABLED&&!0===i.options().nativeControlsForTouch||delete n.controls,vjs.setElementAttributes(r,vjs.obj.merge(n,{id:i.id()+"_html5_api",class:"vjs-tech"}))),(r.player=i).options_.tracks)for(s=0;s<i.options_.tracks.length;s++)e=i.options_.tracks[s],(t=document.createElement("track")).kind=e.kind,t.label=e.label,t.srclang=e.srclang,t.src=e.src,"default"in e&&t.setAttribute("default","default"),r.appendChild(t);vjs.insertFirst(r,i.el())}for(var o=["autoplay","preload","loop","muted"],s=o.length-1;0<=s;s--){var a=o[s],l={};void 0!==i.options_[a]&&(l[a]=i.options_[a]),vjs.setElementAttributes(r,l)}return r},vjs.Html5.prototype.setupTriggers=function(){for(var e=vjs.Html5.Events.length-1;0<=e;e--)this.on(vjs.Html5.Events[e],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(e){"error"==e.type&&this.error()?this.player().error(this.error().code):(e.bubbles=!1,this.player().trigger(e))},vjs.Html5.prototype.useNativeControls=function(){var e,t,n,i=this,r=this.player();i.setControls(r.controls()),e=function(){i.setControls(!0)},t=function(){i.setControls(!1)},r.on("controlsenabled",e),r.on("controlsdisabled",t),n=function(){r.off("controlsenabled",e),r.off("controlsdisabled",t)},i.on("dispose",n),r.on("usingcustomcontrols",n),r.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){vjs.log(e,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(e){this.el_.volume=e},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(e){this.el_.muted=e},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")}),this.player_.trigger("fullscreenchange")}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.returnOriginalIfBlobURI_=function(e,t){return t&&e&&/^blob\:/i.test(e)?t:e},vjs.Html5.prototype.src=function(e){var t=this.el_.src;if(void 0===e)return this.returnOriginalIfBlobURI_(t,this.source_);this.setSrc(e)},vjs.Html5.prototype.setSrc=function(e){this.el_.src=e},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){var e=this.el_.currentSrc;return this.currentSource_?this.returnOriginalIfBlobURI_(e,this.currentSource_.src):e},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(e){this.el_.poster=e},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(e){this.el_.preload=e},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(e){this.el_.autoplay=e},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(e){this.el_.controls=!!e},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(e){this.el_.loop=e},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.seekable=function(){return this.el_.seekable},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=function(){return this.featuresNativeTextTracks?this.el_.textTracks:vjs.MediaTechController.prototype.textTracks.call(this)},vjs.Html5.prototype.addTextTrack=function(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):vjs.MediaTechController.prototype.addTextTrack.call(this,e,t,n)},vjs.Html5.prototype.addRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,e);var t=document.createElement("track");return(e=e||{}).kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),this.el().appendChild(t),this.remoteTextTracks().addTrack_(t.track),t},vjs.Html5.prototype.removeRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,e);var t,n;for(this.remoteTextTracks().removeTrack_(e),t=this.el().querySelectorAll("track"),n=0;n<t.length;n++)if(t[n]===e||t[n].track===e){t[n].parentNode.removeChild(t[n]);break}},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(e){return!1}return!!vjs.TEST_VID.canPlayType},vjs.MediaTechController.withSourceHandlers(vjs.Html5),origSetSource=vjs.Html5.prototype.setSource,origDisposeSourceHandler=vjs.Html5.prototype.disposeSourceHandler,vjs.Html5.prototype.setSource=function(e){var t=origSetSource.call(this,e);return this.source_=e.src,t},vjs.Html5.prototype.disposeSourceHandler=function(){return this.source_=void 0,origDisposeSourceHandler.call(this)},vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=function(e){function t(e){try{return vjs.TEST_VID.canPlayType(e)}catch(e){return""}}return e.type?t(e.type):e.src?t("video/"+((e=e.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i))&&e[1])):""},vjs.Html5.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){var e=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=e/2+.1,e!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var e=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=e/2+.1,e!==vjs.TEST_VID.playbackRate},vjs.Html5.supportsNativeTextTracks=function(){var e;return e=(e=(e=!!vjs.TEST_VID.textTracks)&&0<vjs.TEST_VID.textTracks.length?"number"!=typeof vjs.TEST_VID.textTracks[0].mode:e)&&vjs.IS_FIREFOX?!1:e},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,mp4RE=/^video\/mp4/i,vjs.Html5.patchCanPlayType=function(){4<=vjs.ANDROID_VERSION&&(canPlayType=canPlayType||vjs.TEST_VID.constructor.prototype.canPlayType,vjs.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&mpegurlRE.test(e)?"maybe":canPlayType.call(this,e)}),vjs.IS_OLD_ANDROID&&(canPlayType=canPlayType||vjs.TEST_VID.constructor.prototype.canPlayType,vjs.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&mp4RE.test(e)?"maybe":canPlayType.call(this,e)})},vjs.Html5.unpatchCanPlayType=function(){var e=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=canPlayType,canPlayType=null,e},vjs.Html5.patchCanPlayType(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(e){if(e){for(e.player=null,e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(e,t,n){vjs.MediaTechController.call(this,e,t,n);var i=t.source,r=e.id()+"_flash_api",o=e.options_,n=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:o.autoplay,preload:o.preload,loop:o.loop,muted:o.muted},t.flashVars),o=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),r=vjs.obj.merge({id:r,name:r,class:"vjs-tech"},t.attributes);i&&this.ready(function(){this.setSource(i)}),vjs.insertFirst(this.el_,t.parentEl),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})}),e.on("stageclick",e.reportUserActivity),this.el_=vjs.Flash.embed(t.swf,this.el_,n,o,r)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},vjs.Flash.prototype.setSrc=function(e){var t;e=vjs.getAbsoluteURL(e),this.el_.vjs_src(e),this.player_.autoplay()&&(t=this).setTimeout(function(){t.play()},0)},vjs.Flash.prototype.setCurrentTime=function(e){this.lastSeekTarget_=e,this.el_.vjs_setProperty("currentTime",e),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(e){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.seekable=function(){return 0===this.duration()?vjs.createTimeRange():vjs.createTimeRange(0,this.duration())},vjs.Flash.prototype.buffered=function(){return this.el_.vjs_getProperty?vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered")):vjs.createTimeRange()},vjs.Flash.prototype.duration=function(){return this.el_.vjs_getProperty?this.el_.vjs_getProperty("duration"):0},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){var e,n=vjs.Flash.prototype,t="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),i="error,networkState,readyState,seeking,initialTime,startOffsetTime,paused,played,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(",");function r(e){n[e]=function(){return this.el_.vjs_getProperty(e)}}for(e=0;e<t.length;e++)r(t[e]),function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);n["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}(t[e]);for(e=0;e<i.length;e++)r(i[e])}(),vjs.Flash.isSupported=function(){return 10<=vjs.Flash.version()[0]},vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=function(e){return e.type&&e.type.replace(/;.*/,"").toLowerCase()in vjs.Flash.formats?"maybe":""},vjs.Flash.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},vjs.Flash.nativeSourceHandler.dispose=function(){},vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(e){var t;(e=(t=vjs.el(e))&&t.parentNode&&t.parentNode.player)&&(t.player=e,vjs.Flash.checkReady(e.tech))},vjs.Flash.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){vjs.Flash.checkReady(e)},50))},vjs.Flash.onEvent=function(e,t){vjs.el(e).player.trigger(t)},vjs.Flash.onError=function(e,t){var n=vjs.el(e).player,e="FLASH: "+t;"srcnotfound"==t?n.error({code:4,message:e}):n.error(e)},vjs.Flash.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},vjs.Flash.embed=function(e,t,n,i,r){i=vjs.Flash.getEmbedCode(e,n,i,r),r=vjs.createEl("div",{innerHTML:i}).childNodes[0],i=t.parentNode;t.parentNode.replaceChild(r,t),r[vjs.expando]=t[vjs.expando];var o=i.childNodes[0];return setTimeout(function(){o.style.display="block"},1e3),r},vjs.Flash.getEmbedCode=function(e,t,n,i){var r="",o="",s="";return t&&vjs.obj.each(t,function(e,t){r+=e+"="+t+"&amp;"}),n=vjs.obj.merge({movie:e,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),vjs.obj.each(n,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'}),i=vjs.obj.merge({data:e,width:"100%",height:"100%"},i),vjs.obj.each(i,function(e,t){s+=e+'="'+t+'" '}),'<object type="application/x-shockwave-flash" '+s+">"+o+"</object>"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=function(e,t){return e+"&"+t},vjs.Flash.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n,i=e.indexOf("&");return-1!==i?n=i+1:0===(i=n=e.lastIndexOf("/")+1)&&(i=n=e.length),t.connection=e.substring(0,i),t.stream=e.substring(n,e.length),t},vjs.Flash.isStreamingType=function(e){return e in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(e){return vjs.Flash.RTMP_RE.test(e)},vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=function(e){return vjs.Flash.isStreamingType(e.type)||vjs.Flash.isStreamingSrc(e.src)?"maybe":""},vjs.Flash.rtmpSourceHandler.handleSource=function(e,t){e=vjs.Flash.streamToParts(e.src);t.setRtmpConnection(e.connection),t.setRtmpStream(e.stream)},vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:function(e,t,n){if(vjs.Component.call(this,e,t,n),e.options_.sources&&0!==e.options_.sources.length)e.src(e.options_.sources);else for(var i=0,r=e.options_.techOrder;i<r.length;i++){var o=vjs.capitalize(r[i]),s=window.videojs[o];if(s&&s.isSupported()){e.loadTech(o);break}}}}),vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vjs.TextTrack=function(e){var t,n,i,r,o,s,a,l,u,c,d;if(!(e=e||{}).player)throw new Error("A player was not provided.");if(t=this,vjs.IS_IE8)for(d in t=document.createElement("custom"),vjs.TextTrack.prototype)t[d]=vjs.TextTrack.prototype[d];if(t.player_=e.player,i=vjs.TextTrackMode[e.mode]||"disabled",r=vjs.TextTrackKind[e.kind]||"subtitles",o=e.label||"",s=e.language||e.srclang||"",n=e.id||"vjs_text_track_"+vjs.guid++,"metadata"!==r&&"chapters"!==r||(i="hidden"),t.cues_=[],t.activeCues_=[],a=new vjs.TextTrackCueList(t.cues_),l=new vjs.TextTrackCueList(t.activeCues_),c=!1,u=vjs.bind(t,function(){this.activeCues,c&&(this.trigger("cuechange"),c=!1)}),"disabled"!==i&&t.player_.on("timeupdate",u),Object.defineProperty(t,"kind",{get:function(){return r},set:Function.prototype}),Object.defineProperty(t,"label",{get:function(){return o},set:Function.prototype}),Object.defineProperty(t,"language",{get:function(){return s},set:Function.prototype}),Object.defineProperty(t,"id",{get:function(){return n},set:Function.prototype}),Object.defineProperty(t,"mode",{get:function(){return i},set:function(e){vjs.TextTrackMode[e]&&("showing"===(i=e)&&this.player_.on("timeupdate",u),this.trigger("modechange"))}}),Object.defineProperty(t,"cues",{get:function(){return this.loaded_?a:null},set:Function.prototype}),Object.defineProperty(t,"activeCues",{get:function(){var e,t,n,i,r;if(!this.loaded_)return null;if(0===this.cues.length)return l;for(i=this.player_.currentTime(),e=0,t=this.cues.length,n=[];e<t;e++)((r=this.cues[e]).startTime<=i&&r.endTime>=i||r.startTime===r.endTime&&r.startTime<=i&&r.startTime+.5>=i)&&n.push(r);if(c=!1,n.length!==this.activeCues_.length)c=!0;else for(e=0;e<n.length;e++)-1===indexOf.call(this.activeCues_,n[e])&&(c=!0);return this.activeCues_=n,l.setCues_(this.activeCues_),l},set:Function.prototype}),e.src?loadTrack(e.src,t):t.loaded_=!0,vjs.IS_IE8)return t},vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrack.prototype.constructor=vjs.TextTrack,vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},vjs.TextTrack.prototype.addCue=function(e){var t=this.player_.textTracks(),n=0;if(t)for(;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},vjs.TextTrack.prototype.removeCue=function(e){for(var t=0,n=this.cues_.length,i=!1;t<n;t++)this.cues_[t]===e&&(this.cues_.splice(t,1),i=!0);i&&this.cues.setCues_(this.cues_)},loadTrack=function(e,i){vjs.xhr(e,vjs.bind(this,function(e,t,n){return e?vjs.log.error(e):(i.loaded_=!0,void parseCues(n,i))}))},parseCues=function(e,t){if("function"!=typeof window.WebVTT)return window.setTimeout(function(){parseCues(e,t)},25);var n=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){vjs.log.error(e)},n.parse(e),n.flush()},indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0==r)return-1;t=+t||0;if(r<=(t=Math.abs(t)===1/0?0:t))return-1;for(n=Math.max(0<=t?t:r-Math.abs(t),0);n<r;){if(n in i&&i[n]===e)return n;n++}return-1},vjs.TextTrackList=function(e){var t,n=this,i=0;if(vjs.IS_IE8)for(t in n=document.createElement("custom"),vjs.TextTrackList.prototype)n[t]=vjs.TextTrackList.prototype[t];for(e=e||[],n.tracks_=[],Object.defineProperty(n,"length",{get:function(){return this.tracks_.length}});i<e.length;i++)n.addTrack_(e[i]);if(vjs.IS_IE8)return n},vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},function(){for(var e in vjs.TextTrackList.prototype.allowedEvents_)vjs.TextTrackList.prototype["on"+e]=null}(),vjs.TextTrackList.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),e.addEventListener("modechange",vjs.bind(this,function(){this.trigger("change")})),this.tracks_.push(e),this.trigger({type:"addtrack",track:e})},vjs.TextTrackList.prototype.removeTrack_=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e){this.tracks_.splice(t,1);break}this.trigger({type:"removetrack",track:e})},vjs.TextTrackList.prototype.getTrackById=function(e){for(var t,n=0,i=this.length,r=null;n<i;n++)if((t=this[n]).id===e){r=t;break}return r},vjs.TextTrackCueList=function(e){var t,n=this;if(vjs.IS_IE8)for(t in n=document.createElement("custom"),vjs.TextTrackCueList.prototype)n[t]=vjs.TextTrackCueList.prototype[t];if(vjs.TextTrackCueList.prototype.setCues_.call(n,e),Object.defineProperty(n,"length",{get:function(){return this.length_}}),vjs.IS_IE8)return n},vjs.TextTrackCueList.prototype.setCues_=function(e){var t,n=this.length||0,i=0,r=e.length;if(this.cues_=e,this.length_=e.length,t=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})},n<r)for(i=n;i<r;i++)t.call(this,i)},vjs.TextTrackCueList.prototype.getCueById=function(e){for(var t,n=0,i=this.length,r=null;n<i;n++)if((t=this[n]).id===e){r=t;break}return r},function(){"use strict";vjs.TextTrackDisplay=vjs.Component.extend({init:function(i,e,t){vjs.Component.call(this,i,e,t),i.on("loadstart",vjs.bind(this,this.toggleDisplay)),i.ready(vjs.bind(this,function(){var e,t,n;if(i.tech&&i.tech.featuresNativeTextTracks)this.hide();else for(i.on("fullscreenchange",vjs.bind(this,this.updateDisplay)),t=i.options_.tracks||[],e=0;e<t.length;e++)n=t[e],this.player_.addRemoteTextTrack(n)}))}}),vjs.TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech&&this.player_.tech.featuresNativeTextTracks?this.hide():this.show()},vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackDisplay.prototype.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)};function s(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function a(e,t,n){try{e.style[t]=n}catch(e){}}var l={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var e,t=this.player_.textTracks(),n=0;if(this.clearDisplay(),t)for(;n<t.length;n++)"showing"===(e=t[n]).mode&&this.updateForTrack(e)},vjs.TextTrackDisplay.prototype.updateForTrack=function(e){if("function"==typeof window.WebVTT&&e.activeCues){for(var t,n,i=0,r=this.player_.textTrackSettings.getValues(),o=[];i<e.activeCues.length;i++)o.push(e.activeCues[i]);for(window.WebVTT.processCues(window,e.activeCues,this.el_),i=o.length;i--;)t=o[i].displayState,r.color&&(t.firstChild.style.color=r.color),r.textOpacity&&a(t.firstChild,"color",s(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(t.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&a(t.firstChild,"backgroundColor",s(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?a(t,"backgroundColor",s(r.windowColor,r.windowOpacity)):t.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?t.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===r.edgeStyle?t.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===r.edgeStyle?t.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===r.edgeStyle&&(t.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&1!==r.fontPercent&&(n=window.parseFloat(t.style.fontSize),t.style.fontSize=n*r.fontPercent+"px",t.style.height="auto",t.style.top="auto",t.style.bottom="2px"),r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?t.firstChild.style.fontVariant="small-caps":t.firstChild.style.fontFamily=l[r.fontFamily])}},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n,i,r=this.track=t.track,o=e.textTracks();o&&(n=vjs.bind(this,function(){var e,t,n,i="showing"===this.track.mode;if(this instanceof vjs.OffTextTrackMenuItem)for(i=!0,t=0,n=o.length;t<n;t++)if((e=o[t]).kind===this.track.kind&&"showing"===e.mode){i=!1;break}this.selected(i)}),o.addEventListener("change",n),e.on("dispose",function(){o.removeEventListener("change",n)})),t.label=r.label||r.language||"Unknown",t.selected=r.default||"showing"===r.mode,vjs.MenuItem.call(this,e,t),o&&void 0===o.onchange&&this.on(["tap","click"],function(){if("object"!=typeof window.Event)try{i=new window.Event("change")}catch(e){}i||(i=document.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(i)})}}),vjs.TextTrackMenuItem.prototype.onClick=function(){var e,t=this.track.kind,n=this.player_.textTracks(),i=0;if(vjs.MenuItem.prototype.onClick.call(this),n)for(;i<n.length;i++)(e=n[i]).kind===t&&(e===this.track?e.mode="showing":e.mode="disabled")},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:t.kind+" off",default:!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,e,t),this.selected(!0)}}),vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:t.kind+" settings",default:!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,e,t),this.addClass("vjs-texttrack-settings")}}),vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild("textTrackSettings").show()},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(e,t){var n,i;vjs.MenuButton.call(this,e,t),n=this.player_.textTracks(),this.items.length<=1&&this.hide(),n&&(i=vjs.bind(this,this.update),n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}))}}),vjs.TextTrackButton.prototype.createItems=function(){var e,t,n=[];if(!(this instanceof vjs.CaptionsButton)||this.player().tech&&this.player().tech.featuresNativeTextTracks||n.push(new vjs.CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),n.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_})),!(t=this.player_.textTracks()))return n;for(var i=0;i<t.length;i++)(e=t[i]).kind===this.kind_&&n.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return n},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.CaptionsButton.prototype.update=function(){var e=2;vjs.TextTrackButton.prototype.update.call(this),this.player().tech&&this.player().tech.featuresNativeTextTracks&&(e=1),this.items&&this.items.length>e?this.show():this.hide()},vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(e,t,n){vjs.TextTrackButton.call(this,e,t,n),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){var e,t,n=[];if(!(t=this.player_.textTracks()))return n;for(var i=0;i<t.length;i++)(e=t[i]).kind===this.kind_&&n.push(new vjs.TextTrackMenuItem(this.player_,{track:e}));return n},vjs.ChaptersButton.prototype.createMenu=function(){for(var e,t,n=this.player_.textTracks()||[],i=0,r=n.length,o=this.items=[];i<r;i++)if((e=n[i]).kind==this.kind_){if(e.cues){t=e;break}e.mode="hidden",window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100)}var s=this.menu;if(void 0===s&&(s=new vjs.Menu(this.player_)).contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),t){for(var a,l=t.cues,i=0,r=l.length;i<r;i++)a=l[i],a=new vjs.ChaptersTrackMenuItem(this.player_,{track:t,cue:a}),o.push(a),s.addChild(a);this.addChild(s)}return 0<this.items.length&&this.show(),s},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(e,t){var n=this.track=t.track,i=this.cue=t.cue,r=e.currentTime();t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,vjs.MenuItem.call(this,e,t),n.addEventListener("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)}}(),function(){"use strict";function c(e){var t;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function n(e,t){var n;if(t){for(n=0;n<e.options.length&&e.options[n].value!==t;n++);e.selectedIndex=n}}vjs.TextTrackSettings=vjs.Component.extend({init:function(e,t){vjs.Component.call(this,e,t),this.hide(),vjs.on(this.el().querySelector(".vjs-done-button"),"click",vjs.bind(this,function(){this.saveSettings(),this.hide()})),vjs.on(this.el().querySelector(".vjs-default-button"),"click",vjs.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),vjs.on(this.el().querySelector(".vjs-fg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".window-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-text-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-window-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-percent select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-edge-style select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-family select"),"change",vjs.bind(this,this.updateDisplay)),e.options().persistTextTrackSettings&&this.restoreSettings()}}),vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected>100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div>'})},vjs.TextTrackSettings.prototype.getValues=function(){var e,t,n,i=c((e=this.el()).querySelector(".vjs-edge-style select")),r=c(e.querySelector(".vjs-font-family select")),o=c(e.querySelector(".vjs-fg-color > select")),s=c(e.querySelector(".vjs-text-opacity > select")),a=c(e.querySelector(".vjs-bg-color > select")),l=c(e.querySelector(".vjs-bg-opacity > select")),u=c(e.querySelector(".window-color > select"));for(n in t={backgroundOpacity:l,textOpacity:s,windowOpacity:c(e.querySelector(".vjs-window-opacity > select")),edgeStyle:i,fontFamily:r,color:o,backgroundColor:a,windowColor:u,fontPercent:window.parseFloat(c(e.querySelector(".vjs-font-percent > select")))})(""===t[n]||"none"===t[n]||"fontPercent"===n&&1===t[n])&&delete t[n];return t},vjs.TextTrackSettings.prototype.setValues=function(e){var t=this.el();n(t.querySelector(".vjs-edge-style select"),e.edgeStyle),n(t.querySelector(".vjs-font-family select"),e.fontFamily),n(t.querySelector(".vjs-fg-color > select"),e.color),n(t.querySelector(".vjs-text-opacity > select"),e.textOpacity),n(t.querySelector(".vjs-bg-color > select"),e.backgroundColor),n(t.querySelector(".vjs-bg-opacity > select"),e.backgroundOpacity),n(t.querySelector(".window-color > select"),e.windowColor),n(t.querySelector(".vjs-window-opacity > select"),e.windowOpacity),(e=e.fontPercent)&&(e=e.toFixed(2)),n(t.querySelector(".vjs-font-percent > select"),e)},vjs.TextTrackSettings.prototype.restoreSettings=function(){var e;try{e=JSON.parse(window.localStorage.getItem("vjs-text-track-settings"))}catch(e){}e&&this.setValues(e)},vjs.TextTrackSettings.prototype.saveSettings=function(){var e;if(this.player_.options().persistTextTrackSettings){e=this.getValues();try{vjs.isEmpty(e)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e))}catch(e){}}},vjs.TextTrackSettings.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}}(),vjs.JSON,void 0!==window.JSON&&"function"==typeof window.JSON.parse?vjs.JSON=window.JSON:(vjs.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,vjs.JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(i=walk(r,n))?r[n]=i:delete r[n]);return reviver.call(e,t,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}),vjs.autoSetup=function(){var e,t,n,i=document.getElementsByTagName("video"),r=document.getElementsByTagName("audio"),o=[];if(i&&0<i.length)for(t=0,n=i.length;t<n;t++)o.push(i[t]);if(r&&0<r.length)for(t=0,n=r.length;t<n;t++)o.push(r[t]);if(o&&0<o.length)for(t=0,n=o.length;t<n;t++){if(!(e=o[t])||!e.getAttribute){vjs.autoSetupTimeout(1);break}void 0===e.player&&null!==e.getAttribute("data-setup")&&videojs(e)}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(e){setTimeout(vjs.autoSetup,e)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(e,t){vjs.Player.prototype[e]=t},root=this,vttjs=root.vttjs={},cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,oldVTTCue=root.VTTCue,oldVTTRegion=root.VTTRegion,vttjs.shim=function(){vttjs.VTTCue=cueShim,vttjs.VTTRegion=regionShim},vttjs.restore=function(){vttjs.VTTCue=oldVTTCue,vttjs.VTTRegion=oldVTTRegion},rca=this,sca=this.vttjs||{},tca={"":!0,lr:!0,rl:!0},uca={start:!0,middle:!0,end:!0,left:!0,right:!0},xca.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},rca.VTTCue=rca.VTTCue||xca,sca.VTTCue=xca,o2a=this,p2a=this.vttjs||{},q2a={"":!0,up:!0},o2a.VTTRegion=o2a.VTTRegion||s2a,p2a.VTTRegion=s2a,function(e){var t=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=e,new n};function n(){}function l(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function p(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}e=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function u(){this.values=t(null)}function c(e,t,n,i){var r,o,s=i?e.split(i):[e];for(r in s)"string"!=typeof s[r]||2===(o=s[r].split(n)).length&&t(o[0],o[1])}((l.prototype=t(Error.prototype)).constructor=l).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},u.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var h={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":" "},f={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},m={rt:"ruby"};function a(r,t){function n(e){return h[e]}for(var e,i,o,s=r.document.createElement("div"),a=s,l=[];null!==(e=function(){if(!t)return null;var e=(e=t.match(/^([^<]*)(<[^>]+>?)?/))[1]||e[2];return t=t.substr(e.length),e}());)if("<"!==e[0])a.appendChild(r.document.createTextNode(function(e){for(;d=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(d[0],n);return e}(e)));else{if("/"===e[1]){l.length&&l[l.length-1]===e.substr(2).replace(">","")&&(l.pop(),a=a.parentNode);continue}var u,c=p(e.substr(1,e.length-2));if(c){u=r.document.createProcessingInstruction("timestamp",c),a.appendChild(u);continue}var d=e.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d)continue;if(!(u=function(e,t){var n=f[e];if(!n)return null;var i=r.document.createElement(n);return i.localName=n,(e=v[e])&&t&&(i[e]=t.trim()),i}(d[1],d[3])))continue;if(i=a,m[(o=u).localName]&&m[o.localName]!==i.localName)continue;d[2]&&(u.className=d[2].substr(1).replace("."," ")),l.push(d[1]),a.appendChild(u),a=u}return s}var d=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function y(){}function g(e,t,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),y.call(this),this.cue=t,this.cueDiv=a(e,t.text);o={color:r,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(o.direction=function(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function o(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}for(o(t,e);n=function e(t){if(!t||!t.length)return null;var n=t.pop(),i=n.textContent||n.innerText;if(i){var r=i.match(/^.*(\n|\r)/);return r?r[t.length=0]:i}return"ruby"===n.tagName?e(t):n.childNodes?(o(t,n),e(t)):void 0}(t);)for(var i=0;i<n.length;i++)for(var r=n.charCodeAt(i),s=0;s<d.length;s++)if(d[s]===r)return"rtl";return"ltr"}(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function A(e){var t,n,i,r,o=/MSIE\s8\.0/.test(navigator.userAgent);e.div&&(t=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop,r=(r=e.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects(),e=e.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,e.height/r.length):0),this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||t,this.bottom=e.bottom||i+(e.height||t),this.width=e.width||n,this.lineHeight=void 0!==r?r:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function i(){}y.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},y.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(g.prototype=t(y.prototype)).constructor=g,A.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},A.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},A.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},A.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},A.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},A.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},A.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},A.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},i.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},i.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null},i.processCues=function(i,r,e){if(!i||!r||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var o=i.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin="1.5%",e.appendChild(o),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(r)){var s=[],a=A.getSimpleBoxPosition(o),l={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var e,t,n=0;n<r.length;n++)t=r[n],e=new g(i,t,l),o.appendChild(e.div),function(e,a,l){var t,n=new A(e),r=e.cue,i=function(){if("number"==typeof r.line&&(r.snapToLines||0<=r.line&&r.line<=100))return r.line;if(!r.track||!r.track.textTrackList||!r.track.textTrackList.mediaElement)return-1;for(var e=r.track,t=e.textTrackList,n=0,i=0;i<t.length&&t[i]!==e;i++)"showing"===t[i].mode&&n++;return-1*++n}(),o=[];if(r.snapToLines){switch(r.vertical){case"":o=["+y","-y"],t="height";break;case"rl":o=["+x","-x"],t="width";break;case"lr":o=["-x","+x"],t="width"}var s=n.lineHeight,u=s*Math.round(i),c=a[t]+s,d=o[0];Math.abs(u)>c&&(u=u<0?-1:1,u*=Math.ceil(c/s)*s),i<0&&(u+=""===r.vertical?a.height:a.width,o=o.reverse()),n.move(d,u)}else{var p=n.lineHeight/a.height*100;switch(r.lineAlign){case"middle":i-=p/2;break;case"end":i-=p}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(i,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(i,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(i,"%")})}o=["+y","-x","+x","-y"],n=new A(e)}n=function(e,t){for(var n,i=new A(e),r=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(a,t[o])||e.within(a)&&e.overlapsAny(l);)e.move(t[o]);if(e.within(a))return e;var s=e.intersectPercentage(a);s<r&&(n=new A(e),r=s),e=new A(i)}return n||i}(n,o),e.move(n.toCSSCompatValues(a))}(e,a,s),t.displayState=e.div,s.push(A.getSimpleBoxPosition(e))}()}else for(var t=0;t<r.length;t++)o.appendChild(r[t].displayState)},(i.Parser=function(e,t,n){n||(n=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof l))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,i=this;function n(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}function r(e){c(e,function(e,t){var r;"Region"===e&&(t=t,r=new u,c(t,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var i=new u;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id")&&((t=new(i.vttjs.VTTRegion||i.window.VTTRegion)).width=r.get("width",100),t.lines=r.get("lines",3),t.regionAnchorX=r.get("regionanchorX",0),t.regionAnchorY=r.get("regionanchorY",100),t.viewportAnchorX=r.get("viewportanchorX",0),t.viewportAnchorY=r.get("viewportanchorY",100),t.scroll=r.get("scroll",""),i.onregion&&i.onregion(t),i.regionList.push({id:r.get("id"),region:t})))},/:/)}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var o=(t=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new l(l.Errors.BadSignature);i.state="HEADER"}for(var s=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(s?s=!1:t=n(),i.state){case"HEADER":/:/.test(t)?r(t):t||(i.state="ID");continue;case"NOTE":t||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){i.state="NOTE";break}if(!t)continue;if(i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,""),i.state="CUE",-1===t.indexOf("--\x3e")){i.cue.id=t;continue}case"CUE":try{!function(t,e,o){var n,s,i=t;function r(){var e=p(t);if(null===e)throw new l(l.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),"--\x3e"!==t.substr(0,3))throw new l(l.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),n=t,e=e,s=new u,c(n,function(e,t){switch(e){case"region":for(var n=o.length-1;0<=n;n--)if(o[n].id===t){s.set(e,o[n].region);break}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),r=i[0];s.integer(e,r),s.percent(e,r)&&s.set("snapToLines",!1),s.alt(e,r,["auto"]),2===i.length&&s.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),s.percent(e,i[0]),2===i.length&&s.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),e.region=s.get("region",null),e.vertical=s.get("vertical",""),e.line=s.get("line","auto"),e.lineAlign=s.get("lineAlign","start"),e.snapToLines=s.get("snapToLines",!0),e.size=s.get("size",100),e.align=s.get("align","middle"),e.position=s.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var a=-1!==t.indexOf("--\x3e");if(!t||a&&(s=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=t;continue;case"BADCUE":t||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new l(l.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.WebVTT=i}(this,this.vttjs)},function(e,t,n){n(40),n(41),n(42)},function(e,t,n){var i,r=n(4),o=n(1);videojs.plugin("mobile",function(){var e=this.el();"iOS"===r.os&&o.addClass(e,"vjs-idevice"),r.isIPhone&&(o.addClass(e,"vjs-iphone"),r.osMajorVersion<=7&&o.addClass(e,"vjs-ios-old")),r.mobile&&o.addClass(e,"no-volume-slider")}),i=void 0,9!==parseInt("09",10)&&(i=window.parseInt,window.parseInt=function(e){return"string"!=typeof e||/^(\s+)?0+(\s+)?$/.test(e)?i(e):i(e.replace(/^0+/,""))})},function(e,t,n){var i=n(0);videojs.plugin("multiple-clicks-fix",function(){var e=this;e.ready(function(){!function t(e,n){e.children().forEach(function(e){t(e,n),n(e)})}(e,function(e){var t,n;"function"==typeof e.onClick&&(t=e,n=i.debounce(t.onClick,500,!0),["tap","click"].forEach(function(e){t.off(e,t.onClick),t.on(e,n)}))})})})},function(e,t){videojs.Component.prototype.emitTapEvents=function(){var t,n,i,r=void 0,o=void 0,s=void 0,s=0,o=null;this.on("touchstart",function(e){1===e.touches.length&&(o=e.touches[0],s=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){1<e.touches.length?r=!1:o&&(n=e.touches[0].pageX-o.pageX,i=e.touches[0].pageY-o.pageY,(10<(t=Math.sqrt(n*n+i*i))||0===t)&&(r=!1))});function e(){r=!1}this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(o=null)===r&&(new Date).getTime()-s<100&&(e.preventDefault(),this.trigger("tap"))})}},function(e,t){var d,n,i,r,o,s;d=window,i=0,r=d.MediaSource||d.WebKitMediaSource||{},o=d.URL||{},s=/video\/flv(;\s*codecs=["']vp6,aac["'])?$/,(n=function(){}).prototype.init=function(){this.listeners=[]},n.prototype.addEventListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].unshift(t)},n.prototype.removeEventListener=function(e,t){for(var n=this.listeners[e],i=n.length;i--;)if(n[i]===t)return n.splice(i,1)},n.prototype.trigger=function(e){for(var t=this.listeners[e.type]||[],n=t.length;n--;)t[n](e)},videojs.MediaSource=function(){var t=this;videojs.MediaSource.prototype.init.call(this),this.sourceBuffers=[],this.readyState="closed",this.listeners={sourceopen:[function(e){t.swfObj=document.getElementById(e.swfId),t.readyState="open",t.swfObj&&t.swfObj.vjs_load()}],webkitsourceopen:[function(){t.trigger({type:"sourceopen"})}]}},videojs.MediaSource.prototype=new n,videojs.MediaSource.BYTES_PER_SECOND_GOAL=4194304,videojs.MediaSource.TICKS_PER_SECOND=60,videojs.MediaSource.prototype.addSourceBuffer=function(e){var t;if(s.test(e))t=new videojs.SourceBuffer(this);else{if(!this.nativeSource)throw new Error("NotSupportedError (Video.js)");t=this.nativeSource.addSourceBuffer.apply(this.nativeSource,arguments)}return this.sourceBuffers.push(t),t},videojs.MediaSource.prototype.endOfStream=function(){this.swfObj.vjs_endOfStream(),this.readyState="ended"},videojs.mediaSources={},videojs.MediaSource.open=function(e,t){e=videojs.mediaSources[e];if(!e)throw new Error("Media Source not found (Video.js)");e.trigger({type:"sourceopen",swfId:t})},videojs.SourceBuffer=function(e){function s(){var e,t,n,i,r="";if(l.length){for(o=document.hidden?videojs.MediaSource.BYTES_PER_SECOND_GOAL:Math.ceil(videojs.MediaSource.BYTES_PER_SECOND_GOAL/videojs.MediaSource.TICKS_PER_SECOND),t=(i=new Uint8Array(Math.min(o,u))).byteLength;t;)e=l[0].subarray(0,t),i.set(e,i.byteLength-t),e.byteLength<l[0].byteLength?l[0]=l[0].subarray(t):l.shift(),t-=e.byteLength;for(0!=(u-=i.byteLength)?c(s):a.trigger({type:"updateend"}),t=0,n=i.byteLength;t<n;t++)r+=String.fromCharCode(i[t]);var o=d.btoa(r);a.source.swfObj.CallFunction('<invoke name="vjs_appendBuffer"returntype="javascript"><arguments><string>'+o+"</string></arguments></invoke>")}}var a=this,l=[],u=0,c=function(e){d.setTimeout(e,Math.ceil(1e3/videojs.MediaSource.TICKS_PER_SECOND))};videojs.SourceBuffer.prototype.init.call(this),this.source=e,this.appendBuffer=function(e){0===l.length&&c(s),this.trigger({type:"update"}),l.push(e),u+=e.byteLength},this.abort=function(){l=[],u=0,this.source.swfObj.vjs_abort()}},videojs.SourceBuffer.prototype=new n,videojs.URL={createObjectURL:function(e){var t="blob:vjs-media-source/"+i;return i++,videojs.mediaSources[t]=e,t}},videojs.plugin("mediaSource",function(){var i=this;i.on("loadstart",function(){function e(e){t.trigger(e)}var t,n=i.currentSrc();"Html5"===i.techName&&0===n.indexOf("blob:vjs-media-source/")&&((t=videojs.mediaSources[n]).nativeUrl||(t.nativeSource=new r,t.nativeSource.addEventListener("sourceopen",e,!1),t.nativeSource.addEventListener("webkitsourceopen",e,!1),t.nativeUrl=o.createObjectURL(t.nativeSource)),i.src(t.nativeUrl))})})},function(e,t,n){var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(u,h,a){"use strict";var l,t,e,n,f=function(e){return e.retries&&2<=e.retries};h.Hls=h.Flash.extend({init:function(e,t,n){var i=t.source,r=e.options();e.hls=this,delete t.source,t.swf=r.flash.swf,h.Flash.call(this,e,t,n),t.source=i,this.bytesReceived=0,this.currentTime=h.Hls.prototype.currentTime,this.setCurrentTime=h.Hls.prototype.setCurrentTime,this.segmentBuffer_=[],this.startCheckingBuffer_(),h.Hls.prototype.src.call(this,t.source&&t.source.src)}}),h.Hls.GOAL_BUFFER_LENGTH=30,h.Hls.prototype.src=function(e){var s,t,n=this,a=this.player(),i=a.options().hls||{};e&&(this.src_&&this.resetSrc_(),this.src_=e,e=new h.MediaSource,t={src:h.URL.createObjectURL(e),type:"video/flv"},this.mediaSource=e,this.segmentBuffer_=[],this.segmentParser_=new h.Hls.SegmentParser,this.setupMetadataCueTranslation_(),this.mediaSource.addEventListener("sourceopen",h.bind(this,this.handleSourceOpen)),this.playlists&&this.playlists.dispose(),this.mediaIndex=0,this.playlists=new h.Hls.PlaylistLoader(this.src_,i.withCredentials),this.playlists.on("loadedmetadata",h.bind(this,function(){var e,t,n,i,r,o=function(){this.fillBuffer(),a.trigger("loadedmetadata")};s=this.playlists.media(),void 0===this.bandwidth&&this.setBandwidth({bandwidth:5*this.playlists.bandwidth}),e=this.selectPlaylist(),n=s.attributes&&s.attributes.BANDWIDTH||0,i=e.attributes&&e.attributes.BANDWIDTH||0,(r=(s.segments&&s.segments[this.mediaIndex].duration||s.targetDuration)*i/this.bandwidth)||(r=1/0),n<i&&r<=10?(this.playlists.media(e),t=h.bind(this,function(){o.call(this),this.playlists.off("loadedplaylist",t)}),this.playlists.on("loadedplaylist",t)):o.call(this)})),this.playlists.on("error",h.bind(this,function(){a.error(this.playlists.error)})),this.playlists.on("loadedplaylist",h.bind(this,function(){var e=this.playlists.media();e&&(this.updateDuration(this.playlists.media()),this.mediaIndex=h.Hls.translateMediaIndex(this.mediaIndex,s,e),s=e,this.fetchKeys_())})),this.playlists.on("mediachange",h.bind(this,function(){l&&this.cancelKeyXhr(),a.trigger("mediachange")})),this.player().ready(function(){n.el()&&n.el().vjs_src(t.src)}))},h.Hls.getMediaIndexForLive_=function(e){if(!e.segments)return 0;for(var t=e.segments.length,n=0,i=3*(e.targetDuration||10);n<i&&0<t;)n+=e.segments[t-1].duration,t--;return t},h.Hls.prototype.handleSourceOpen=function(){var e=this.player(),t=this.mediaSource.addSourceBuffer('video/flv; codecs="vp6,aac"');this.sourceBuffer=t,e.options().autoplay&&e.play(),t.appendBuffer(this.segmentParser_.getFlvHeader())},h.Hls.prototype.setupMetadataCueTranslation_=function(){var s,a=this,l=a.segmentParser_.metadataStream;a.player().addTextTrack&&(l.on("data",function(e){var t,n,i,r,o;if(!s)for((s=a.player().addTextTrack("metadata","Timed Metadata")).inBandMetadataTrackDispatchType=h.Hls.SegmentParser.STREAM_TYPES.metadata.toString(16).toUpperCase(),t=0;t<l.descriptor.length;t++)o=("00"+l.descriptor[t].toString(16).toUpperCase()).slice(-2),s.inBandMetadataTrackDispatchType+=o;for(r=a.playlists.media(),a.playlists.expiredPreDiscontinuity_,a.playlists.expiredPostDiscontinuity_,h.Hls.Playlist.duration(r,r.mediaSequence,r.mediaSequence+a.mediaIndex),t=0;t<e.frames.length;t++)n=e.frames[t],i=a.segmentParser_.mediaTimelineOffset+.001*(e.pts-a.segmentParser_.timestampOffset),(i=new u.VTTCue(i,i,n.value||n.url||"")).frame=n,s.addCue(i)}),a.on(a.player(),"seeking",function(){var e,t,n;if(s)for(e=a.playlists.media(),t=a.playlists.expiredPreDiscontinuity_+a.playlists.expiredPostDiscontinuity_,t+=h.Hls.Playlist.duration(e,e.mediaSequence,e.mediaSequence+a.mediaIndex),n=s.cues.length;n--;)s.cues[n].startTime>=t&&s.removeCue(s.cues[n])}))},h.Hls.prototype.play=function(){var e;return this.ended()&&(this.mediaIndex=0),this.duration()===1/0&&this.playlists.media()&&!this.player().hasClass("vjs-has-started")&&(e=this.playlists.media(),this.mediaIndex=h.Hls.getMediaIndexForLive_(e),this.setCurrentTime(h.Hls.Playlist.seekable(e).end(0))),h.Flash.prototype.play.apply(this,arguments)},h.Hls.prototype.currentTime=function(){return this.lastSeekedTime_||(this.el()&&this.el().vjs_getProperty?this.el().vjs_getProperty("currentTime"):0)},h.Hls.prototype.setCurrentTime=function(e){return this.playlists&&this.playlists.media()&&this.playlists.media().segments?(this.lastSeekedTime_=e,this.mediaIndex=h.Hls.getMediaIndexByTime(this.playlists.media(),e),this.sourceBuffer.abort(),this.cancelSegmentXhr(),l&&(l.aborted=!0,this.cancelKeyXhr()),this.segmentBuffer_=[],void this.fillBuffer(1e3*e)):0},h.Hls.prototype.duration=function(){var e=this.playlists;return e?h.Hls.Playlist.duration(e.media()):0},h.Hls.prototype.seekable=function(){var e,t;return this.playlists&&(t=this.playlists.media())?(e=h.Hls.Playlist.seekable(t),t=this.playlists.expiredPostDiscontinuity_-this.playlists.expiredPreDiscontinuity_,h.createTimeRange(t,t+(e.end(0)-e.start(0)))):h.createTimeRange()},h.Hls.prototype.updateDuration=function(e){var t=this.player();t.duration()!==h.Hls.Playlist.duration(e)&&t.trigger("durationchange")},h.Hls.prototype.resetSrc_=function(){this.cancelSegmentXhr(),this.cancelKeyXhr(),this.sourceBuffer&&this.sourceBuffer.abort()},h.Hls.prototype.cancelKeyXhr=function(){l&&(l.onreadystatechange=null,l.abort(),l=null)},h.Hls.prototype.cancelSegmentXhr=function(){this.segmentXhr_&&(this.segmentXhr_.onreadystatechange=null,this.segmentXhr_.abort(),this.segmentXhr_=null)},h.Hls.prototype.dispose=function(){this.stopCheckingBuffer_(),this.playlists&&this.playlists.dispose(),this.resetSrc_(),h.Flash.prototype.dispose.call(this)},h.Hls.prototype.selectPlaylist=function(){var e,t,n,i,r,o=this.player(),s=this.playlists.master.playlists.slice(),a=[],l=s.length;for(s.sort(h.Hls.comparePlaylistBandwidth);l--;)(e=s[l]).attributes&&e.attributes.BANDWIDTH&&1.1*e.attributes.BANDWIDTH<o.hls.bandwidth&&(a.push(e),n=n||e);for(l=a.length,a.sort(h.Hls.comparePlaylistResolution),e=null;l--;)if(t=e,(e=a[l]).attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&e.attributes.RESOLUTION.height){if(e.attributes.RESOLUTION.width===o.width()&&e.attributes.RESOLUTION.height===o.height()){i=null,r=e;break}if(e.attributes.RESOLUTION.width<o.width()&&e.attributes.RESOLUTION.height<o.height()){t&&t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&t.attributes.RESOLUTION.height&&(i=t),r=e;break}}return i||r||n||s[0]},h.Hls.prototype.checkBuffer_=function(){this.checkBufferTimeout_&&(u.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null),this.fillBuffer(),this.drainBuffer(),this.checkBufferTimeout_=u.setTimeout(h.bind(this,this.checkBuffer_),500)},h.Hls.prototype.startCheckingBuffer_=function(){this.player().on("waiting",h.bind(this,this.drainBuffer)),this.checkBuffer_()},h.Hls.prototype.stopCheckingBuffer_=function(){u.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null,this.player().off("waiting",this.drainBuffer)},h.Hls.prototype.fillBuffer=function(e){var t,n=this.player(),i=n.buffered(),r=0;(n.hasClass("vjs-has-started")||"none"!==n.options().preload)&&n.currentSrc()&&this.playlists&&(this.segmentXhr_||"HAVE_NOTHING"!==this.playlists.state&&this.playlists.media()&&this.playlists.media().segments&&(this.playlists.media().endList||this.player().hasClass("vjs-has-started"))&&"SWITCHING_MEDIA"!==this.playlists.state&&(t=this.playlists.media().segments[this.mediaIndex])&&(i&&(r=n.buffered().end(0)-n.currentTime()),"number"!=typeof e&&r>=h.Hls.GOAL_BUFFER_LENGTH||(t=this.playlistUriToUrl(t.uri),this.loadSegment(t,e))))},h.Hls.prototype.playlistUriToUrl=function(e){return this.playlists.media().uri===this.src_?t(this.src_,e):t(t(this.src_,this.playlists.media().uri||""),e)},h.Hls.prototype.setBandwidth=function(e){this.segmentXhrTime=e.roundTripTime,this.bandwidth=e.bandwidth,this.bytesReceived+=e.bytesReceived||0,this.trigger("bandwidthupdate")},h.Hls.prototype.loadSegment=function(e,n){var i=this,r=this.player(),t=r.options().hls||{};this.segmentXhr_=h.Hls.xhr({url:e,responseType:"arraybuffer",withCredentials:t.withCredentials},function(e,t){return i.segmentXhr_=null,e?"timeout"===e?(i.bandwidth=1,i.playlists.media(i.selectPlaylist())):(i.error={status:this.status,message:"HLS segment request error at URL: "+t,code:500<=this.status?4:2},void i.mediaIndex++):void(this.response&&(i.setBandwidth(this),(t={mediaIndex:i.mediaIndex,playlist:i.playlists.media(),offset:n,bytes:null,encryptedBytes:null,decrypter:null}).playlist.segments[t.mediaIndex].key?t.encryptedBytes=new Uint8Array(this.response):t.bytes=new Uint8Array(this.response),i.segmentBuffer_.push(t),r.trigger("progress"),i.drainBuffer(),i.mediaIndex++,i.playlists.media(i.selectPlaylist())))})},h.Hls.prototype.drainBuffer=function(e){var n,t,i,r,o,s,a,l,u,c,d=0,p=this.segmentBuffer_;if(p.length&&this.sourceBuffer&&!this.sourceBuffer.updating){if(t=(n=p[0]).mediaIndex,i=n.playlist,r=n.offset,s=n.bytes,(a=i.segments[t]).key&&!s)return f(a.key)?p.shift():a.key.bytes?n.decrypter?void 0:(l=a.key.iv||new Uint32Array([0,0,0,t+i.mediaSequence]),l=new h.Hls.Decrypter(n.encryptedBytes,a.key.bytes,l,function(e,t){n.bytes=t}),void(n.decrypter=l)):this.fetchKeys_();for(c=this.playlists.expiredPreDiscontinuity_,c+=this.playlists.expiredPostDiscontinuity_,c+=h.Hls.Playlist.duration(i,i.mediaSequence,i.mediaSequence+t),c*=1e3,a.discontinuity?(this.segmentParser_.mediaTimelineOffset=.001*c,this.segmentParser_.timestampOffset=null):null===this.segmentParser_.mediaTimelineOffset&&(this.segmentParser_.mediaTimelineOffset=.001*c),this.segmentParser_.parseSegmentBinaryData(s),this.segmentParser_.flushTags(),o=[];this.segmentParser_.tagsAvailable();)o.push(this.segmentParser_.getNextTag());if(0<o.length&&(a.preciseDuration=.001*h.Hls.FlvTag.durationFromTags(o)),this.updateDuration(this.playlists.media()),"number"==typeof r){for(u=r-c+o[0].pts;o[d].pts<u;)d++;this.el().vjs_setProperty("currentTime",.001*(o[d].pts-o[0].pts+c)),o=o.slice(d),this.lastSeekedTime_=null}a.discontinuity&&o.length&&this.el().vjs_discontinuity(),function(){var e,t,n=0;for(d=0;d<o.length;d++)n+=o[d].bytes.byteLength;for(t=new Uint8Array(n),e=d=0;d<o.length;d++)t.set(o[d].bytes,e),e+=o[d].bytes.byteLength;this.sourceBuffer.appendBuffer(t)}.call(this),p.shift(),this.duration()!==1/0&&t+1===i.segments.length&&this.mediaSource.endOfStream()}},h.Hls.prototype.fetchKeys_=function(){var e,t,n,i,r,o;if(!l&&this.segmentBuffer_.length)for(i=(n=this).player().options().hls||{},o=function(t){return function(e){if(l=null,e||!this.response||16!==this.response.byteLength)return t.retries=t.retries||0,t.retries++,void(this.aborted||n.fetchKeys_());r=new DataView(this.response),t.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),n.checkBuffer_()}},e=0;e<n.segmentBuffer_.length;e++)if((t=n.segmentBuffer_[e].playlist.segments[n.segmentBuffer_[e].mediaIndex].key)&&!t.bytes&&!f(t)){l=h.Hls.xhr({url:this.playlistUriToUrl(t.uri),responseType:"arraybuffer",withCredentials:i.withCredentials},o(t));break}},h.Hls.supportsNativeHls=(n=a.createElement("video"),!!h.Html5.isSupported()&&(e=n.canPlayType("application/x-mpegURL"),n=n.canPlayType("application/vnd.apple.mpegURL"),/probably|maybe/.test(e)||/probably|maybe/.test(n))),h.Hls.isSupported=function(){return!h.Hls.supportsNativeHls&&h.Flash.isSupported()&&h.MediaSource&&u.Uint8Array},h.Hls.canPlaySource=function(e){return/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e.type)},h.Hls.getPlaylistDuration=function(e,t,n){return h.log.warn("videojs.Hls.getPlaylistDuration is deprecated. Use videojs.Hls.Playlist.duration instead"),h.Hls.Playlist.duration(e,t,n)},h.Hls.getPlaylistTotalDuration=function(e){return h.log.warn("videojs.Hls.getPlaylistTotalDuration is deprecated. Use videojs.Hls.Playlist.duration instead"),h.Hls.Playlist.duration(e)},h.Hls.translateMediaIndex=function(e,t,n){return 0!==e&&n&&n.segments?(t=e+(t.mediaSequence-n.mediaSequence))>n.segments.length||t<0?h.Hls.getMediaIndexForLive_(n)+1:t:0},h.Hls.getMediaIndexByTime=function(e,t){for(var n,i,r=[],o=0;o<e.segments.length;o++)(i={}).start=0===o?0:r[o-1].end,i.end=i.start+e.segments[o].duration,r.push(i);for(n=0;n<r.length;n++)if(t>=r[n].start&&t<r[n].end)return n;return-1},h.Hls.prototype.getCurrentTimeByMediaIndex_=function(e,t){var n,i=0;if(!e.segments||0===t)return 0;for(n=0;n<t;n++)i+=e.segments[n].duration;return i},h.Hls.comparePlaylistBandwidth=function(e,t){var n,i;return(n=(n=e.attributes&&e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:n)||u.Number.MAX_VALUE)-((i=t.attributes&&t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:i)||u.Number.MAX_VALUE)},h.Hls.comparePlaylistResolution=function(e,t){var n,i;return(n=(n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:n)||u.Number.MAX_VALUE)===(i=(i=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:i)||u.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},t=h.Hls.resolveUrl=function(e,t){var n,i=a.querySelector("base"),r=a.querySelector("head"),o=a.createElement("a"),s=i;return i?n=i.href:s=r.appendChild(a.createElement("base")),s.href=e,o.href=t,o=o.href,i?i.href=n:r.removeChild(s),o}}(window,window.videojs,document),function(e){"use strict";function t(){this.init=function(){var o={};this.on=function(e,t){o[e]||(o[e]=[]),o[e].push(t)},this.off=function(e,t){return!!o[e]&&(t=o[e].indexOf(t),o[e].splice(t,1),-1<t)},this.trigger=function(e){var t,n,i,r;if(t=o[e])for(r=Array.prototype.slice.call(arguments,1),i=t.length,n=0;n<i;++n)t[n].apply(this,r)},this.dispose=function(){o={}}}}t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e.Hls.Stream=t}(window.videojs),function(e){"use strict";e.videojs=e.videojs||{},e.videojs.Hls=e.videojs.Hls||{};var l=e.videojs.Hls;l.FlvTag=function(e,n){function r(e,t){(t=e.position+t)<e.bytes.byteLength||((t=new Uint8Array(2*t)).set(e.bytes.subarray(0,e.position),0),e.bytes=t,e.view=new DataView(e.bytes.buffer))}var t,i=0,o=l.FlvTag.widthBytes||new Uint8Array("width".length),s=l.FlvTag.heightBytes||new Uint8Array("height".length),a=l.FlvTag.videocodecidBytes||new Uint8Array("videocodecid".length);if(!l.FlvTag.widthBytes){for(t=0;t<"width".length;t++)o[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)s[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)a[t]="videocodecid".charCodeAt(t);l.FlvTag.widthBytes=o,l.FlvTag.heightBytes=s,l.FlvTag.videocodecidBytes=a}switch(this.keyFrame=!1,e){case l.FlvTag.VIDEO_TAG:this.length=16;break;case l.FlvTag.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case l.FlvTag.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw"Error Unknown TagType"}this.bytes=new Uint8Array(16384),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=n,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i=t||0,t=i+(n=n||e.byteLength);r(this,n),this.bytes.set(e.subarray(i,t),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){r(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){r(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(0<i)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===i+4?this.length-=4:0<i&&(t=i+4,n=this.length-t,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),i=0},this.writeMetaDataDouble=function(e,t){var n;if(r(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(o,this.position),this.position+=5;else if("height"===e)this.bytes.set(s,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(a,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(e,t){var n;for(r(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)console.assert(e.charCodeAt(n)<255),r(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;r(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var e,t;switch(this.bytes[0]){case l.FlvTag.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||n?16:32),this.bytes[12]=n?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case l.FlvTag.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=n?0:1;break;case l.FlvTag.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,r(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=l.FlvTag.frameTime(this.bytes),console.assert(this.bytes.byteLength===this.length),this}},l.FlvTag.AUDIO_TAG=8,l.FlvTag.VIDEO_TAG=9,l.FlvTag.METADATA_TAG=18,l.FlvTag.isAudioFrame=function(e){return l.FlvTag.AUDIO_TAG===e[0]},l.FlvTag.isVideoFrame=function(e){return l.FlvTag.VIDEO_TAG===e[0]},l.FlvTag.isMetaData=function(e){return l.FlvTag.METADATA_TAG===e[0]},l.FlvTag.isKeyFrame=function(e){return l.FlvTag.isVideoFrame(e)?23===e[11]:!!l.FlvTag.isAudioFrame(e)||!!l.FlvTag.isMetaData(e)},l.FlvTag.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,(t|=e[6]<<0)|e[7]<<24},l.FlvTag.durationFromTags=function(e){if(e.length<2)return 0;var t=e[0],n=e[e.length-1],e=n.pts-e[e.length-2].pts||1/24;return n.pts-t.pts+e}}(window),function(){"use strict";window.videojs.Hls.ExpGolomb=function(i){var r=i.byteLength,o=0,s=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+s},this.loadWord=function(){var e=i.byteLength-r,t=new Uint8Array(4),n=Math.min(4,r);if(0===n)throw new Error("no bytes available");t.set(i.subarray(e,e+n)),o=new DataView(t.buffer).getUint32(0),s=8*n,r-=n},this.skipBits=function(e){var t;e<s||(e-=s,e-=8*(t=e/8),r-=t,this.loadWord()),o<<=e,s-=e},this.readBits=function(e){var t=Math.min(s,e),n=o>>>32-t;return console.assert(e<32,"Cannot read more than 32 bits at a time"),0<(s-=t)?o<<=t:0<r&&this.loadWord(),0<(t=e-t)?n<<t|this.readBits(t):n},this.skipLeadingZeros=function(){for(var e=0;e<s;++e)if(0!=(o&2147483648>>>e))return o<<=e,s-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()}}(),function(e){"use strict";var p=e.videojs.Hls.ExpGolomb,h=e.videojs.Hls.FlvTag;e.videojs.Hls.H264ExtraData=e=function(){this.sps=[],this.pps=[]},e.prototype.extraDataExists=function(){return 0<this.sps.length},e.prototype.scaling_list=function(e,t){for(var n=8,i=8,r=0;r<e;++r)n=0===(i=0!==i?(n+t.readExpGolomb()+256)%256:i)?n:i},e.prototype.getSps0Rbsp=function(){for(var e=this.sps[0],t=1,n=1,i=0,r=e.byteLength-2,o=new Uint8Array(e.byteLength);t<r;)0===e[t]&&0===e[t+1]&&3===e[t+2]&&(o.set(e.subarray(n,t+1),i),i+=t+1-n,n=t+3),t++;return o.set(e.subarray(n),i),o.subarray(0,i+(e.byteLength-n))},e.prototype.metaDataTag=function(e){var t,n,i,r,o,s,a=new h(h.METADATA_TAG),l=0,u=0,c=0,d=0;if(a.dts=e,a.pts=e,o=(t=new p(this.getSps0Rbsp())).readUnsignedByte(),t.skipBits(16),t.skipUnsignedExpGolomb(),(100===o||110===o||122===o||244===o||44===o||83===o||86===o||118===o||128===o)&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(n=3!==s?8:12,i=0;i<n;++i)t.readBoolean()&&(i<6?this.scaling_list(16,t):this.scaling_list(64,t));if(t.skipUnsignedExpGolomb(),0===(e=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===e)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),r=t.readUnsignedExpGolomb(),i=0;i<r;++i)t.skipExpGolomb();return t.skipUnsignedExpGolomb(),t.skipBits(1),o=t.readUnsignedExpGolomb(),s=t.readUnsignedExpGolomb(),0===(e=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(l=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb()),u=16*(o+1)-2*l-2*u,d=(2-e)*(s+1)*16-2*c-2*d,a.writeMetaDataDouble("videocodecid",7),a.writeMetaDataDouble("width",u),a.writeMetaDataDouble("height",d),a},e.prototype.extraDataTag=function(e){var t,n=new h(h.VIDEO_TAG,!0);for(n.dts=e,n.pts=e,n.writeByte(1),n.writeByte(this.sps[0][1]),n.writeByte(this.sps[0][2]),n.writeByte(this.sps[0][3]),n.writeByte(255),n.writeByte(225),n.writeShort(this.sps[0].length),n.writeBytes(this.sps[0]),n.writeByte(this.pps.length),t=0;t<this.pps.length;++t)n.writeShort(this.pps[t].length),n.writeBytes(this.pps[t]);return n}}(window),function(e){"use strict";var a,l=e.videojs.Hls.FlvTag,t=e.videojs.Hls.H264ExtraData;e.videojs.Hls.NALUnitType=a={unspecified:0,slice_layer_without_partitioning_rbsp_non_idr:1,slice_data_partition_a_layer_rbsp:2,slice_data_partition_b_layer_rbsp:3,slice_data_partition_c_layer_rbsp:4,slice_layer_without_partitioning_rbsp_idr:5,sei_rbsp:6,seq_parameter_set_rbsp:7,pic_parameter_set_rbsp:8,access_unit_delimiter_rbsp:9,end_of_seq_rbsp:10,end_of_stream_rbsp:11},e.videojs.Hls.H264Stream=e=function(){this._next_pts=0,this._next_dts=0,this._h264Frame=null,this._oldExtraData=new t,this._newExtraData=new t,this._nalUnitType=-1,this._state=0,this.tags=[]},e.prototype.setTimeStampOffset=function(){},e.prototype.setNextTimeStamp=function(e,t,n){this._next_pts=e,this._next_dts=t,n&&this.finishFrame()},e.prototype.finishFrame=function(){this._h264Frame&&(this._newExtraData.extraDataExists()&&(this._oldExtraData=this._newExtraData,this._newExtraData=new t),this._oldExtraData.extraDataExists()&&(this._h264Frame.keyFrame||0===this.tags.length)&&(this.tags.push(this._oldExtraData.metaDataTag(this._h264Frame.pts)),this.tags.push(this._oldExtraData.extraDataTag(this._h264Frame.pts))),this._h264Frame.endNalUnit(),this.tags.push(this._h264Frame)),this._h264Frame=null,this._nalUnitType=-1,this._state=0},e.prototype.writeBytes=function(e,t,n){var i,r,o,s;if(t=t||0,!((n=n||0)<=0))switch(this._state){default:case 0:this._state=1;case 1:if(e[t]<=1&&1<=(i=this._h264Frame?this._h264Frame.nalUnitSize():0)&&0===this._h264Frame.negIndex(1)){if(1===e[t]&&2<=i&&0===this._h264Frame.negIndex(2))return 3<=i&&0===this._h264Frame.negIndex(3)?this._h264Frame.length-=3:this._h264Frame.length-=2,this._state=3,this.writeBytes(e,t+1,n-1);if(1<n&&0===e[t]&&1===e[t+1])return 2<=i&&0===this._h264Frame.negIndex(2)?this._h264Frame.length-=2:--this._h264Frame.length,this._state=3,this.writeBytes(e,t+2,n-2);if(2<n&&0===e[t]&&0===e[t+1]&&1===e[t+2])return this._state=3,this.writeBytes(e,t+3,n-3)}this._state=2;case 2:for(s=(o=(r=t)+n)-3;t<s;)if(1<e[t+2])t+=3;else if(0!==e[t+1])t+=2;else if(0!==e[t])t+=1;else{if(1===e[t+2])return r<t&&this._h264Frame.writeBytes(e,r,t-r),t+=this._state=3,this.writeBytes(e,t,o-t);if(4<=o-t&&0===e[t+2]&&1===e[t+3])return r<t&&this._h264Frame.writeBytes(e,r,t-r),this._state=3,t+=4,this.writeBytes(e,t,o-t);t+=3}return this._state=1,void(this._h264Frame&&this._h264Frame.writeBytes(e,r,n));case 3:if(this._h264Frame)switch(this._nalUnitType){case a.seq_parameter_set_rbsp:this._h264Frame.endNalUnit(this._newExtraData.sps);break;case a.pic_parameter_set_rbsp:this._h264Frame.endNalUnit(this._newExtraData.pps);break;default:this._h264Frame.endNalUnit()}return this._nalUnitType=31&e[t],this._h264Frame&&(this._nalUnitType===a.access_unit_delimiter_rbsp?this.finishFrame():this._nalUnitType===a.slice_layer_without_partitioning_rbsp_idr&&(this._h264Frame.keyFrame=!0)),this._h264Frame||(this._h264Frame=new l(l.VIDEO_TAG),this._h264Frame.pts=this._next_pts,this._h264Frame.dts=this._next_dts),this._h264Frame.startNalUnit(),this._state=2,this.writeBytes(e,t,n)}}}(window),function(e){"use strict";var g=e.videojs.Hls.FlvTag,A=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3];e.videojs.Hls.AacStream=function(){var s,a,l,u,c,d,p,h,f,v,m,y;this.tags=[],this.setTimeStampOffset=function(e){u=e-1e3},this.setNextTimeStamp=function(e,t,n){s=e,l=t,n&&(a=0)},this.writeBytes=function(e,t,n){var i,r,o;for(l-=n=l<(n=n||0)?l:n,i=(t=t||0)+n;t<i;)switch(a){default:a=0;break;case 0:if(i<=t)return;if(255!==e[t])return console.assert(!1,"Error no ATDS header found"),t+=1,void(a=0);t+=1,a=1;break;case 1:if(i<=t)return;if(240!=(240&e[t]))return console.assert(!1,"Error no ATDS header found"),t+=1,void(a=0);c=!!(1&e[t]),t+=1,a=2;break;case 2:if(i<=t)return;d=1+((192&e[t])>>>6),p=(60&e[t])>>>2,h=(1&e[t])<<2,t+=1,a=3;break;case 3:if(i<=t)return;h|=(192&e[t])>>>6,f=(3&e[t])<<11,t+=1,a=4;break;case 4:if(i<=t)return;f|=e[t]<<3,t+=1,a=5;break;case 5:if(i<=t)return;f|=(224&e[t])>>>5,f-=c?7:9,t+=1,a=6;break;case 6:if(i<=t)return;v=1024*(1+(3&e[t])),v=1e3*v/A[p],((r=d<<11|p<<7|h<<3)!==y||1e3<=s-u)&&((m=new g(g.METADATA_TAG)).pts=s,m.dts=s,m.writeMetaDataDouble("audiocodecid",10),m.writeMetaDataBoolean("stereo",2===h),m.writeMetaDataDouble("audiosamplerate",A[p]),m.writeMetaDataDouble("audiosamplesize",16),this.tags.push(m),y=r,(m=new g(g.AUDIO_TAG,!0)).pts=s,m.dts=m.pts,m.view.setUint16(m.position,r),m.position+=2,m.length=Math.max(m.length,m.position),this.tags.push(m),u=s),t+=1,a=7;break;case 7:if(!c){if(i-t<2)return;t+=2}(m=new g(g.AUDIO_TAG)).pts=s,m.dts=s,a=8;break;case 8:for(;f;){if(i<=t)return;o=i-t<f?i-t:f,m.writeBytes(e,t,o),t+=o,f-=o}this.tags.push(m),a=0,s+=v}}}}(window),function(r,c){"use strict";function o(e,t,n){for(var i="",r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}function n(e,t,n){return r.decodeURIComponent(o(e,t,n))}var i,d={TXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=n(e.data,1,t),e.value=n(e.data,t+1,e.data.length-1);break}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=n(e.data,1,t),e.url=n(e.data,t+1,e.data.length);break}},PRIV:function(e){for(var t,n,i=0;i<e.data.length;i++)if(0===e.data[i]){e.owner=(t=e.data,n=i,r.unescape(o(t,0,n)));break}e.privateData=e.data.subarray(i+1)}};(i=function(e){var t,s={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},a=0,l=[],u=0;if(i.prototype.init.call(this),this.dispatchType=c.Hls.SegmentParser.STREAM_TYPES.metadata.toString(16),s.descriptor)for(t=0;t<s.descriptor.length;t++)this.dispatchType+=("00"+s.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,i,r,o;if(0===l.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))s.debug&&c.log("Skipping unrecognized metadata packet");else if(l.push(e),u+=e.data.byteLength,1===l.length&&(a=e.data[6]<<21|e.data[7]<<14|e.data[8]<<7|e.data[9],a+=10),!(u<a)){for(t={data:new Uint8Array(a),frames:[],pts:l[0].pts,dts:l[0].dts},o=0;o<a;)t.data.set(l[0].data,o),o+=l[0].data.byteLength,u-=l[0].data.byteLength,l.shift();n=10,64&t.data[5]&&(n+=4,n+=t.data[10]<<24|t.data[11]<<16|t.data[12]<<8|t.data[13],a-=t.data[16]<<24|t.data[17]<<16|t.data[18]<<8|t.data[19]);do{if((i=t.data[n+4]<<24|t.data[n+5]<<16|t.data[n+6]<<8|t.data[n+7])<1)return c.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}while(r={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+i+10)},d[r.id]&&d[r.id](r),t.frames.push(r),n+=10,(n+=i)<a);this.trigger("data",t)}}}).prototype=new c.Hls.Stream,c.Hls.MetadataStream=i}(window,window.videojs),function(){"use strict";var b,w,j=window.videojs,s=j.Hls.FlvTag,e=j.Hls.H264Stream,t=j.Hls.AacStream,n=j.Hls.MetadataStream;j.Hls.SegmentParser=function(){var i,y=this,r=new Uint8Array(b),o=0,g=new e,A=new t;y.stream={programMapTable:{}},y.metadataStream=new n,this.mediaTimelineOffset=null,y.timestampOffset=null,y.getFlvHeader=function(e,t,n){var i,r=new Uint8Array(9),o=new DataView(r.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,o.setUint8(0,70),o.setUint8(1,76),o.setUint8(2,86),o.setUint8(3,1),o.setUint8(4,(t?4:0)|(n?1:0)),o.setUint32(5,r.byteLength),e<=0?((i=new Uint8Array(r.byteLength+4)).set(r),i.set([0,0,0,0],r.byteLength)):((n=new s(s.METADATA_TAG)).pts=n.dts=0,n.writeMetaDataDouble("duration",e),n=n.finalize().length,(i=new Uint8Array(r.byteLength+n)).set(r),i.set(o.byteLength,n)),i},y.flushTags=function(){g.finishFrame()},y.tagsAvailable=function(){return g.tags.length+A.tags.length},y.getNextTag=function(){return(!g.tags.length||A.tags.length&&A.tags[0].dts<g.tags[0].dts?A:g).tags.shift().finalize()},y.parseSegmentBinaryData=function(e){var t,n=0;if(0<o){if(e.byteLength+o<b)return j.log("data.length + streamBuffer.length < MP2T_PACKET_LENGTH ??"),void r.readBytes(e,e.length,r.length);t=e.subarray(0,b-o),r.set(t,o),i(r),r=new Uint8Array(b),o=0}for(;;){for(;n<e.byteLength&&71!==e[n];)n++;if(e.byteLength-n<b)return void(0<e.byteLength-n&&(r.set(e.subarray(n),o),o+=e.byteLength-n));i(e.subarray(n,n+b))?n+=b:(j.log("error parsing m2ts packet, attempting to re-align"),n++)}},i=function(e){var t,n,i,r,o,s,a,l,u,c,d,p=0,h=p+b,f=!!(64&e[p+1]),v=(31&e[p+1])<<8|e[p+2],m=(48&e[p+3])>>>4;if(p+=4,1<m&&(p+=e[p]+1),0==v){if(f&&(p+=1+e[p]),0!==(o=e[p])&&j.log("the table_id of the PAT should be 0x00 but was"+o.toString(16)),1&e[p+5])for(s=(15&e[p+1])<<8|e[p+2],i=(p+=8)+(s-5-4);p<i;p+=4)if(t=e[p]<<8|e[p+1],n=(31&e[p+2])<<8|e[p+3],0==t)y.stream.networkPid=n;else if(void 0===y.stream.pmtPid)y.stream.pmtPid=n;else if(y.stream.pmtPid!==n)throw new Error("TS has more that 1 program")}else if(v===y.stream.programMapTable[w.h264]||v===y.stream.programMapTable[w.adts]||v===y.stream.programMapTable[w.metadata]){if(f){if(0!==e[p+0]||0!==e[p+1]||1!==e[p+2])throw new Error("PES did not begin with start code");r=e[p+4]<<8|e[p+5],m=0!=(4&e[p+6]),o=e[p+7],s=e[p+8],p+=9,192&o&&(a=(14&e[p+0])<<28|(255&e[p+1])<<21|(254&e[p+2])<<13|(255&e[p+3])<<6|(254&e[p+4])>>>2,l=a/=45,64&o&&(l=(14&e[p+5])<<28|(255&e[p+6])<<21|(254&e[p+7])<<13|(255&e[p+8])<<6|(254&e[p+9])>>>2,l/=45)),p+=s,null===y.timestampOffset&&(y.timestampOffset=a),v===y.stream.programMapTable[w.h264]?g.setNextTimeStamp(a,l,m):v===y.stream.programMapTable[w.adts]&&A.setNextTimeStamp(a,r,m)}v===y.stream.programMapTable[w.adts]?A.writeBytes(e,p,h-p):v===y.stream.programMapTable[w.h264]?g.writeBytes(e,p,h-p):v===y.stream.programMapTable[w.metadata]&&y.metadataStream.push({pts:a,dts:l,data:e.subarray(p)})}else if(y.stream.pmtPid===v){if(f&&(p+=1+e[p]),2!==e[p]&&j.log("The table_id of a PMT should be 0x02 but was "+e[p].toString(16)),1&e[p+5])for(y.stream.programMapTable={},u=(15&e[p+1])<<8|e[p+2],u-=f=(15&e[p+10])<<8|e[p+11],u-=13,y.stream.programMapTable.pcrPid=(31&e[p+8])<<8|e[p+9],p+=12+f;0<u;){if(c=e[p+0],d=(31&e[p+1])<<8|e[p+2],c===w.h264&&y.stream.programMapTable[c]&&y.stream.programMapTable[c]!==d)throw new Error("Program has more than 1 video stream");if(c===w.adts&&y.stream.programMapTable[c]&&y.stream.programMapTable[c]!==d)throw new Error("Program has more than 1 audio Stream");y.stream.programMapTable[c]=d,d=(15&e[p+3])<<8|e[p+4],c===w.metadata&&(y.metadataStream.descriptor=new Uint8Array(e.subarray(p+5,p+5+d))),p+=5+d,u-=5+d}}else y.stream.networkPid===v||17==v||8191==v||y.stream.programMapTable.pcrPid||j.log("Unknown PID parsing TS packet: "+v);return!0},y.getTags=function(){return g.tags},y.stats={h264Tags:function(){return g.tags.length},aacTags:function(){return A.tags.length}}},j.Hls.SegmentParser.MP2T_PACKET_LENGTH=b=188,j.Hls.SegmentParser.STREAM_TYPES=w={h264:27,adts:15,metadata:21}}(),function(e,o,s,a){"use strict";function l(e){for(var t,n=e.split(d),i=n.length,r={};i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r}var t,u,c,d=new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'),e=e.Hls.Stream;(t=function(){var n="";t.prototype.init.call(this),this.push=function(e){for(var t=(n+=e).indexOf("\n");-1<t;t=n.indexOf("\n"))this.trigger("data",n.substring(0,t)),n=n.substring(t+1)}}).prototype=new e,(u=function(){u.prototype.init.call(this)}).prototype=new e,u.prototype.push=function(e){var t,n,i,r;if(0!==(e=e.replace(/^\s+|\s+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=o(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=o(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=o(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=o(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=o(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=o(t[1],10)),t[2]&&(n.offset=o(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return n={type:"tag",tagType:"stream-inf"},t[1]&&(n.attributes=l(t[1]),n.attributes.RESOLUTION&&(r={},(i=n.attributes.RESOLUTION.split("x"))[0]&&(r.width=o(i[0],10)),i[1]&&(r.height=o(i[1],10)),n.attributes.RESOLUTION=r),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=o(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=o(n.attributes["PROGRAM-ID"],10))),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=l(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2)&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=o(n.attributes.IV[0],16),n.attributes.IV[1]=o(n.attributes.IV[1],16),n.attributes.IV[2]=o(n.attributes.IV[2],16),n.attributes.IV[3]=o(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4,e.length)})}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})},(c=function(){var e,n=this,i=[],r={};c.prototype.init.call(this),this.lineStream=new t,this.parseStream=new u,this.lineStream.pipe(this.parseStream),this.manifest={allowCache:!0},this.parseStream.on("data",function(t){({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((r.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((r.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<=t.duration&&(r.duration=t.duration),this.manifest.segments=i},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),e={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(e.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):e=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){s(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){s(t.number)?this.manifest.discontinuitySequence=t.number:this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},"stream-inf":function(){this.manifest.playlists=i,t.attributes?(r.attributes||(r.attributes={}),r.attributes=a(r.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},discontinuity:function(){r.discontinuity=!0},targetduration:function(){!s(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!s(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration}}[t.tagType]||function(){}).call(n)},uri:function(){r.uri=t.uri,i.push(r),!this.manifest.targetDuration||"duration"in r||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),e&&(r.key=e),r={}},comment:function(){}})[t.type].call(n)})}).prototype=new e,c.prototype.push=function(e){this.lineStream.push(e)},c.prototype.end=function(){this.lineStream.push("\n")},window.videojs.m3u8={LineStream:t,ParseStream:u,Parser:c}}(window.videojs,window.parseInt,window.isFinite,window.videojs.util.mergeOptions),function(o){"use strict";o.Hls.xhr=function(e,t){var n,i,r={method:"GET",timeout:45e3};return"function"!=typeof t&&(t=function(){}),"object"===(void 0===e?"undefined":s(e))&&(r=o.util.mergeOptions(r,e),e=r.url),(n=new window.XMLHttpRequest).open(r.method,e),n.url=e,n.requestTime=(new Date).getTime(),r.responseType&&(n.responseType=r.responseType),r.withCredentials&&(n.withCredentials=!0),r.timeout&&(i=window.setTimeout(function(){4!==n.readyState&&(n.timedout=!0,n.abort())},r.timeout)),n.onreadystatechange=function(){if(4===this.readyState)return window.clearTimeout(i),n.timedout?t.call(this,"timeout",e):400<=this.status||0===this.status?t.call(this,!0,e):(this.response&&(this.responseTime=(new Date).getTime(),this.roundTripTime=this.responseTime-this.requestTime,this.bytesReceived=this.response.byteLength||this.response.length,this.bandwidth=Math.floor(this.bytesReceived/this.roundTripTime*8*1e3)),t.call(this,!1,e))},n.send(null),n}}(window.videojs),function(i,a){"use strict";var l=function(e,t,n){var i,r,o=0,s=t=t||0;for(n=void 0!==n?n:(e.segments||[]).length,i=e.targetDuration||10,o+=(t=Math.max(e.mediaSequence-t,0))*i,s+=t;s<n;s++)o+=(r=e.segments[s-e.mediaSequence]).preciseDuration||r.duration||i;return o},u=function(e,t,n){if(!e)return 0;if(void 0===t&&void 0===n){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i.Infinity}return l(e,t,n)},e=function(e){var t,n,i,r,o,s;if(!e.segments)return a.createTimeRange();if(e.endList)return a.createTimeRange(0,u(e));if(n=(t=l(e,0,e.mediaSequence))+l(e,e.mediaSequence,e.mediaSequence+e.segments.length),r=e.targetDuration||10,!e.endList)for(i=3*r,s=e.segments.length-1;0<=s&&0<i;s--)o=e.segments[s],i-=o=Math.min(o.preciseDuration||o.duration||r,i),n-=o;return a.createTimeRange(t,n)};a.Hls.Playlist={duration:u,seekable:e}}(window,window.videojs),function(u,c){"use strict";function t(i,r){var e,o,s,a,l=this;if(t.prototype.init.call(this),!i)throw new Error("A non-empty playlist URL is required");a=function(e,t,n){if(l.setBandwidth(s||t),s=null,e)return l.error={status:t.status,message:"HLS playlist request error at URL: "+n,responseText:t.responseText,code:500<=t.status?4:2},l.trigger("error");l.state="HAVE_METADATA",(e=new c.m3u8.Parser).push(t.responseText),e.end(),e.manifest.uri=n,t=function(e,t){for(var n,i=!1,r=c.util.mergeOptions(e,{}),o=e.playlists.length;o--;)if((n=r.playlists[o]).uri===t.uri){if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.mediaSequence===t.mediaSequence)continue;r.playlists[o]=c.util.mergeOptions(n,t),r.playlists[t.uri]=r.playlists[o],i=!0}return i?r:null}(l.master,e.manifest),n=1e3*(e.manifest.targetDuration||10),t?(l.master=t,l.updateMediaPlaylist_(e.manifest)):n/=2,l.media().endList||(u.clearTimeout(o),o=u.setTimeout(function(){l.trigger("mediaupdatetimeout")},n)),l.trigger("loadedplaylist")},l.state="HAVE_NOTHING",l.expiredPostDiscontinuity_=0,l.expiredPreDiscontinuity_=0,e=this.dispose,l.dispose=function(){s&&(s.onreadystatechange=null,s.abort(),s=null),u.clearTimeout(o),e.call(this)},l.media=function(t){var e;if(!t)return l.media_;if("HAVE_NOTHING"===l.state||"HAVE_MASTER"===l.state)throw new Error("Cannot switch media playlist from "+l.state);if("string"==typeof t){if(!l.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=l.master.playlists[t]}if(e=t.uri!==l.media_.uri,l.master.playlists[t.uri].endList)return s&&(s.onreadystatechange=null,s.abort(),s=null),l.state="HAVE_METADATA",l.media_=t,void(e&&l.trigger("mediachange"));if(e){if(l.state="SWITCHING_MEDIA",s){if(d(l.master.uri,t.uri)===s.url)return;s.onreadystatechange=null,s.abort(),s=null}s=p({url:d(l.master.uri,t.uri),withCredentials:r},function(e){a(e,this,t.uri),l.trigger("mediachange")})}},l.setBandwidth=function(e){l.bandwidth=e.bandwidth},l.on("mediaupdatetimeout",function(){"HAVE_METADATA"===l.state&&(l.state="HAVE_CURRENT_METADATA",s=p({url:d(l.master.uri,l.media().uri),withCredentials:r},function(e){a(e,this,l.media().uri)}))}),p({url:i,withCredentials:r},function(e){var t,n;if(e)return l.error={status:this.status,message:"HLS playlist request error at URL: "+i,responseText:this.responseText,code:2},l.trigger("error");if((t=new c.m3u8.Parser).push(this.responseText),t.end(),l.state="HAVE_MASTER",t.manifest.uri=i,t.manifest.playlists){for(l.master=t.manifest,n=l.master.playlists.length;n--;)l.master.playlists[l.master.playlists[n].uri]=l.master.playlists[n];return s=p({url:d(i,t.manifest.playlists[0].uri),withCredentials:r},function(e){a(e,this,t.manifest.playlists[0].uri),e||l.trigger("loadedmetadata")}),l.trigger("loadedplaylist")}return l.master={uri:u.location.href,playlists:[{uri:i}]},l.master.playlists[i]=l.master.playlists[0],a(null,this,i),l.trigger("loadedmetadata")})}var d=c.Hls.resolveUrl,p=c.Hls.xhr,r=c.Hls.Playlist;(t.prototype=new c.Hls.Stream).updateMediaPlaylist_=function(e){var t,n,i;if(this.media_){if(n=e.mediaSequence-this.media_.mediaSequence,t=this.media_.mediaSequence,this.media_.discontinuitySequence!==e.discontinuitySequence)for(i=n;i--;)if(this.media_.segments[i].discontinuity){t=i+this.media_.mediaSequence,this.expiredPreDiscontinuity_+=this.expiredPostDiscontinuity_,this.expiredPostDiscontinuity_=0;break}this.expiredPreDiscontinuity_+=r.duration(this.media_,this.media_.mediaSequence,t),this.expiredPostDiscontinuity_+=r.duration(this.media_,t,this.media_.mediaSequence+n)}this.media_=this.master.playlists[e.uri]},c.Hls.PlaylistLoader=t}(window,window.videojs),function i(r,o,s){"use strict";function a(t,e){if(!o[t]){if(!r[t])throw new Error("Cannot find module '"+t+"'");var n=o[t]={exports:{}};r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,i,r,o,s)}return o[t].exports}for(var e=0;e<s.length;e++)a(s[e]);return a}({1:[function(t,e,n){!function(e){e.window.pkcs7={unpad:t("./unpad")}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./unpad":2}],2:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}]},{},[1]),function(t,l){"use strict";var v,u,c,o,m=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};(v=function(e){this._precompute();var t,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");for(r=e.slice(0),this._key=[r,o=[]],t=l;t<4*l+28;t++)i=r[t-1],(t%l==0||8===l&&t%l==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],t%l==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],o[n]=t<=4||n<4?i:a[0][s[i>>>24]]^a[1][s[i>>16&255]]^a[2][s[i>>8&255]]^a[3][s[255&i]]}).prototype={_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){for(var e,t,n,i,r,o,s,a=this._tables[0],l=this._tables[1],u=a[4],c=l[4],d=[],p=[],h=0;h<256;h++)p[(d[h]=h<<1^283*(h>>7))^h]=h;for(e=t=0;!u[e];e^=n||1,t=p[t]||1)for(r=(r=t^t<<1^t<<2^t<<3^t<<4)>>8^255&r^99,s=16843009*d[i=d[n=d[c[u[e]=r]=e]]]^65537*i^257*n^16843008*e,o=257*d[r]^16843008*r,h=0;h<4;h++)a[h][e]=o=o<<24^o>>>8,l[h][r]=s=s<<24^s>>>8;for(h=0;h<5;h++)a[h]=a[h].slice(0),l[h]=l[h].slice(0)},decrypt:function(e,t,n,i,r,o){for(var s,a,l,u=this._key[1],c=e^u[0],d=i^u[1],p=n^u[2],h=t^u[3],f=u.length/4-2,v=4,t=this._tables[1],m=t[0],y=t[1],g=t[2],A=t[3],b=t[4],w=0;w<f;w++)s=m[c>>>24]^y[d>>16&255]^g[p>>8&255]^A[255&h]^u[v],a=m[d>>>24]^y[p>>16&255]^g[h>>8&255]^A[255&c]^u[v+1],l=m[p>>>24]^y[h>>16&255]^g[c>>8&255]^A[255&d]^u[v+2],h=m[h>>>24]^y[c>>16&255]^g[d>>8&255]^A[255&p]^u[v+3],v+=4,c=s,d=a,p=l;for(w=0;w<4;w++)r[(3&-w)+o]=b[c>>>24]<<24^b[d>>16&255]<<16^b[p>>8&255]<<8^b[255&h]^u[v++],s=c,c=d,d=p,p=h,h=s}},o=function(e,t,n){for(var i,r,o,s,a=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new v(Array.prototype.slice.call(t)),e=new Uint8Array(e.byteLength),u=new Int32Array(e.buffer),c=n[0],d=n[1],p=n[2],h=n[3],f=0;f<a.length;f+=4)i=m(a[f]),r=m(a[f+1]),o=m(a[f+2]),s=m(a[f+3]),l.decrypt(i,r,o,s,u,f),u[f]=m(u[f]^c),u[f+1]=m(u[f+1]^d),u[f+2]=m(u[f+2]^p),u[f+3]=m(u[f+3]^h),c=i,d=r,p=o,h=s;return e},((u=function(){this.jobs=[],this.delay=1,this.timeout_=null}).prototype=new t.Hls.Stream).processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(t.bind(this,this.processJob_),this.delay):this.timeout_=null},u.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(t.bind(this,this.processJob_),this.delay))},(c=function(e,t,n,i){var r=c.STEP,o=new Int32Array(e.buffer),s=new Uint8Array(e.byteLength),a=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(o.subarray(a,a+r),t,n,s,a)),a=r;a<o.length;a+=r)n=new Uint32Array([m(o[a-4]),m(o[a-3]),m(o[a-2]),m(o[a-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(a,a+r),t,n,s));this.asyncStream_.push(function(){i(null,l(s))})}).prototype=new t.Hls.Stream,c.prototype.decryptChunk_=function(t,n,i,r){return function(){var e=o(t,n,i);r.set(e,t.byteOffset)}},c.STEP=32e3,t.Hls.decrypt=o,t.Hls.Decrypter=c,t.Hls.AsyncStream=u}((window,window.videojs),window.pkcs7.unpad)},function(e,t,n){n(46),n(47)},function(e,t,n){var u=n(1),c=n(0),d=n(4);videojs.plugin("player-events",function(){function e(e){var t="player"in e?e.player:{},n=o(t),i=-1;l.molFeVideoplayer.forEachPlayer(function(){var e=o(this)?this.flyoutState():-1;this!==t&&(this.trigger("autoplay-next-video-cancel"),-1!==e&&(i=e),n&&this.trigger({type:"flyout-switchoff",animationOff:!0}),(!this.paused()||r._states&&"adPlaying"===r._states.state.get())&&this.pause())}),n&&-1!==i&&t.trigger({type:"flyout-switchon",animationOff:!0}),n&&1===i&&t.trigger("flyout-expand")}var r=this,t=r.el(),n=c.debounce(function(){r.trigger("resize")},50),o=function(e){return"flyoutState"in e};window.onresize=n,r.on("fullscreenchange",n),r.on("fullscreenchange",function(){r.isFullscreen()?document.body.classList.add("video-js-fullscreen"):document.body.classList.remove("video-js-fullscreen")}),r.ready(function(){setTimeout(function(){u.addClass(t,"vjs-visually-ready")},10)});var i,s,a,l=window.DM;l&&l.molFeVideoplayer&&l.molFeVideoplayer.on&&(l.molFeVideoplayer.on("videoPlaying",e),l.molFeVideoplayer.on("pauseAll",e)),["play"].forEach(function(e){r.on(e,function(){l.molFeVideoplayer.trigger("videoPlaying",{player:r})})}),d.isIPhone&&d.osMajorVersion<=7&&(i=!1,s=void 0,r.on("contenttimeupdate",function(){var e=r.currentTime();void 0!==s&&(1.2<Math.abs(s-e)?(r.trigger("seeking"),i=!0):i&&(r.trigger("seeked"),i=!1)),s=e}),r.on("playerstate.enter.contentReady",function(){s=void 0}),r.on("playerstate.leave.seeking",function(){s=void 0})),d.isIPhone&&(a=c.debounce(function(){r.trigger("play-after-seek")},800),r.on("seeking",function(){r.paused()||a()}),r.on("seeked",function(){r.paused()||a()})),r.on("seeked",r.onWaitEnd),r.on("playerstate.leave.errored",function(){r.removeChild("errorDisplay")}),r.on("warning",function(e){videojs.log.error(e.message)}),r.on("request-dispose",function(){u.removeEventListener(window,"resize",n),r.pause(),l.molFeVideoplayer.off("videoPlaying",e),setTimeout(function(){r.dispose()},400)})})},function(e,t,n){var o=n(48),s=n(12),a=n(1);videojs.plugin("player-state",function(){var i=this,t=i.el().querySelector(".vjs-tech");document.addEventListener||a.addClass(document.body,"vjs-ie8");function e(n,i){var r=100*n;return function(e){var t,e=parseInt(e,10);return!isNaN(e)&&e<r&&0!==this.duration()&&(t=this.currentTime()/this.duration())>=n&&t<i}}var n=new o(i,{"timer:waitingLoading":[{from:function(e){return"contentWaiting"===e&&0<i.currentTime()},to:"contentReady",timer:"startPlaying",timer_time:1400}],"timer:resumeAfterSeek":[{from:"resumeAfterSeek",to:"contentPlaying"}],"videoAd.contentPauseRequested":[{from:"started",to:"adsWaiting"},{from:"contentWaiting",to:"adsWaiting"}],"videoAd.start":[{from:"adsWaiting",to:"adPlaying"}],"videoAd.complete":[{from:"adPlaying",to:"adEnded"}],"videoAd.contentResumeRequested":[{from:function(e){return["adsWaiting","started","adEnded"].includes(e)},to:"contentWaiting",timer:"waitingLoading",timer_interval:10},{from:function(e){return["adPlaying","adPaused"].includes(e)},to:"adAborted",timer:"adAborted",timer_time:10}],"timer:adAborted":[{from:"adAborted",to:"contentWaiting",timer:"waitingLoading",timer_interval:10}],"timer:startPlaying":[{from:"contentReady",to:"contentPlaying"}],"timer:end":[{from:function(e){return!("ended"!==e||(i.options().plugins||{})["autoplay-next-video"]&&(s.defer(function(){i.trigger("mol.autoplay-start")}),1))},to:"standby"}],"timer:error":[{from:"errored",to:"ended",timer:"end",timer_time:600}],"timer:pause":[{from:"contentPaused",to:"pauseStandby"}],"timer:replay":[{from:"started",to:"contentWaiting",timer:"waitingLoading",timer_interval:10}],"timer:seeking_to_ended":[{from:"contentPlaying",to:"ended",timer:"end",timer_time:600}],"timer:stop_seeking":[{from:"seeking",to:"contentPlaying"}],ended:[{from:"contentPlaying",to:"ended",timer:"end",timer_time:600},{from:"seeking",to:"contentPlaying",timer:"seeking_to_ended",timer_time:100},{from:"resumeAfterSeek",to:"contentPlaying",timer:"seeking_to_ended",timer_time:100}],error:[{from:function(e){return"adsWaiting"!==e&&"adPlaying"!==e&&Boolean(t.error)},to:"errored",timer:"error",timer_time:3e3}],pause:[{from:function(e){var t=this.currentTime()/this.duration();return("contentReady"===e||"contentPlaying"===e||"resumeAfterSeek"===e)&&(!this.duration()||t<.98)},to:"contentPaused",timer:"pause",timer_time:200},{from:function(e){var t=this.currentTime()/this.duration();return"adPlaying"===e&&t<.98},to:"adPaused"},{from:"autoplay",to:"standby"}],play:[{from:"ready",to:"started"},{from:"ended",to:"started"},{from:"standby",to:"started"},{from:"pauseStandby",to:"contentPlaying"},{from:"adPaused",to:"adPlaying"},{from:"contentPaused",to:"contentPlaying"},{from:"seeking",to:"resumeAfterSeek",timer:"resumeAfterSeek",timer_time:1e3},{from:"autoplay",to:"standby"}],"play-after-seek":[{from:"seeking",to:"contentPlaying"}],"before-seeking, seeking":[{from:"contentReady",to:"contentPlaying"},{from:"contentPlaying",to:"seeking",timer:"stop_seeking",timer_time:3e3},{from:"contentPaused",to:"seeking",timer:"stop_seeking",timer_time:3e3},{from:"seeking",to:"seeking",timer:"stop_seeking",timer_time:3e3}],seeked:[{from:"contentReady",to:"contentPlaying"},{from:"changingSrc",to:"contentPlaying"}],"mol.sources.renditionChanging":[{from:"contentPlaying",to:"changingSrc"}],"request-dispose":[{from:"adPlaying",to:"destroyedDuringAds"},{from:/.*/,to:"destroyed"}],"request-reset":[{from:"contentPlaying",to:"aborting"},{from:"pauseStandby",to:"aborting"}],"autoplay-next-video-cancel, autoplay-inline-cancel":[{from:"autoplay",to:"standby"}],"autoplay-next-video-restart, autoplay-inline-restart":[{from:"standby",to:"autoplay"}],"flyout-close":[{from:"autoplay",to:"standby"}],"mol.autoplay-start":[{from:"ended",to:"autoplay"}],reset:[{from:/.*/,to:"started"}]},{onTransition:function(e,t,n){i.log("### STATE:",e,"->",n,"->",t,"("+Date.now()+")")}}),r=new o(i,{"playerstate.enter.contentPlaying":[{from:"ready",to:"0"}],"timeupdate,contenttimeupdate":[{from:e(.25,1),to:"25"},{from:e(.5,1),to:"50"}],"playerstate.enter.seeking":[{from:"0",to:"seeking-0"},{from:"25",to:"seeking-25"},{from:"50",to:"seeking-50"}],"playerstate.leave.seeking":[{from:"seeking-0",to:"0-resumed"},{from:"seeking-25",to:"25-resumed"},{from:"seeking-50",to:"50-resumed"}],"playerstate.enter.ended":[{from:/^0.*/,to:"25",timer:"from25toend"},{from:/^25.*/,to:"50",timer:"from50toend"},{from:/^50.*/,to:"ready"}],"timer:from25toend":[{from:"25",to:"50",timer:"from50toend"}],"timer:from50toend":[{from:"50",to:"ready"}],reset:[{from:/.*/,to:"ready"}]},{onTransition:function(e,t,n){i.log("### PROGRESS:",e,"->",n,"->",t)}});n.on(function(e){null!==i.el()&&i.trigger("playerstate."+e.type+"."+e.state)}),r.on(function(e){null!==i.el()&&i.trigger("playerstate.progress."+e.type+"."+e.state)}),n.on("destroyedDuringAds",function(){null!==i.el()&&(n.destroy(),r.destroy())}),n.on("destroyed",function(){null!==i.el()&&(n.destroy(),r.destroy())}),i._states={state:n,progress:r},i.playerState={getStateName:function(){return n.get()}}})},function(e,t,n){"use strict";var i=n(22),r=i.isString,y=i.setImmediate,g=n(51);function o(e){return r(e)||"object"==typeof e&&"name"in e}function A(e){if(!o(e))throw new Error(e+" not a valid state")}function b(e){return r(e)?e:e.name}function w(e,t,n){var i=b(t);if(e instanceof RegExp)return e.test(i);if("function"==typeof e)return e.call(this,t,n);if(r(e))return e===i;throw new Error(e+" (from) can be either a string, a regular expression or a function")}function j(e,t,n){if("function"==typeof e)return e.call(this,t,n);if(o(e))return e;throw new Error(e+" (to) can be either a string, a function or a state object")}e.exports=function(o,e,t){var s,n,i,r,a=(t=t||{}).initialState||"ready",l=t.onTransition||function(){},u=[],c=t.bindMethod||"on",d=t.unbindMethod||"off";function p(e,t,n){for(var i=[].concat(f[e+"."+b(t)]||[],f["*.*"]||[],f[e+".*"]||[],f["*."+b(t)]||[]),r=0;r<i.length;r++)i[r].call(this,{type:e,state:t,event:n})}if(A(a),(o="function"==typeof o[c]?{default:o}:o).timer)throw new Error(o+" the word 'timer' in the subjects map is reserved");o.timer=g(c,d);var h,f={};for(h in e)for(var v=h.split(/[\s,]+/),m=0;m<v.length;m++)(i=(n=v[m]).split(":")).length<2&&i.unshift("default"),r=o[i[0]],n=function(n,i,r){return i=void 0===i.length?[i]:i,function(e){for(var t=0;t<i.length;t++)if(w.call(r,i[t].from,a,e)){o.timer.reset(),s=a,A(a=j.call(r,i[t].to,a,e)),l(s,a,n,e),b(s)===b(a)?y(function(e,t,n){return function(){p.call(e,"stay",t,n)}}(r,a,e)):y(function(e,t,n,i){return function(){p.call(e,"leave",t,i),p.call(e,"enter",n,i)}}(r,s,a,e)),i[t].timer&&o.timer.trigger(i[t].timer,i[t].timer_time,i[t].timer_interval);break}}}(n,e[h],r),u.push([i[1],n]),r[c](i[1],n);return{get:function(){return a},set:function(e){a=e},on:function(e,t){t||(t=e,e="*.*");var n=e.split(".");n.length<2&&n.unshift("enter"),e=n.join("."),f[e]?f[e].push(t):f[e]=[t]},destroy:function(){for(var e,t,n=0;n<u.length;n++)e=u[n][0],t=u[n][1],r[d](e,t)}}}},function(e,t,n){!function(e,h){!function(n){"use strict";var i,t,r,e,o,s,a,l,u,c;function d(e){delete s[e]}function p(e){if(a)setTimeout(p,0,e);else{var n=s[e];if(n){a=!0;try{!function(){var e=n.callback,t=n.args;switch(t.length){case 0:e();break;case 1:e(t[0]);break;case 2:e(t[0],t[1]);break;case 3:e(t[0],t[1],t[2]);break;default:e.apply(void 0,t)}}()}finally{d(e),a=!1}}}}n.setImmediate||(o=1,a=!(s={}),l=n.document,u=(u=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&u.setTimeout?u:n,c="[object process]"==={}.toString.call(n.process)?function(e){h.nextTick(function(){p(e)})}:function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?(r="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(r)&&p(+e.data.slice(r.length))},n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),function(e){n.postMessage(r+e,"*")}):n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){t.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(p,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return s[o]={callback:e,args:t},c(o),o++},u.clearImmediate=d)}("undefined"==typeof self?void 0===e?this:e:self)}.call(this,n(11),n(50))},function(e,t){var n,i,e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var a,l=[],u=!1,c=-1;function d(){u&&a&&(u=!1,a.length?l=a.concat(l):c=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";var a=n(22).setImmediate;e.exports=function(e,t){function i(t){return function(){for(var e=0;e<s[t].length;e++)s[t][e]()}}var r,o,s={},n={};return n[e]=function(e,t){s[e]?s[e].push(t):s[e]=[t]},n[t]=function(e){delete s[e],clearTimeout(r),clearTimeout(o)},n.trigger=function(e,t,n){s[e]&&(t?r=setTimeout(i(e),t):n?o=setInterval(i(e),n):a(i(e)))},n.reset=function(){clearTimeout(r),clearInterval(o)},n}},function(e,t,n){var i=n(53),n=n(72);videojs.ControlBar=i,videojs.LoadingSpinner=n},function(e,t,n){var i=n(54),r=n(55),o=n(56),s=n(58),a=n(70),l=n(71),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new videojs.ProgressControl(e)),this.addChild(new a(e)),this.addChild(new videojs.PlayToggle(e)),this.addChild(new l(e)),this.addChild(new r(e)),this.addChild(new videojs.VolumeMenuButton(e,{volumeBar:{vertical:!0}})),this.addChild(new i(e)),this.addChild(new videojs.FullscreenToggle(e)),this.addChild(new o(e)),t.isSocialControlsHidden||this.addChild(new s(e));try{e.volume(.7),e.options().muted&&e.muted(!0)}catch(e){console.log("Failing to set volume",e.message)}e.on("ended",this.onVideoEnded),e.on("play",this.onVideoStart)}});n.prototype.options_={loadEvent:"play"},n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-control-bar"})},n.prototype.onVideoEnded=function(){this.addClass("vjs-video-finished")},n.prototype.onVideoStart=function(){this.removeClass("vjs-video-finished")},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new videojs.CurrentTimeDisplay(e)),this.addChild(new videojs.TimeDivider(e)),this.addChild(new videojs.DurationDisplay(e))}});n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-timer-controls vjs-control"})},e.exports=n},function(e,t){var n=videojs.Component.extend();n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"streaming-label vjs-control",innerHTML:"LIVE"})},e.exports=n},function(e,t,n){var s=n(0),i=n(1),a=n(57),n=videojs.MenuButton.extend({init:function(e,t){videojs.MenuButton.call(this,e,t);var n=this;function i(){n.items.length<=1?n.hide():n.show()}function r(){var t=e.src();n.items&&n.items.forEach(function(e){e.selected(function(e,t){for(var n=void 0,n=0,i=e.renditions.length;n<i;n+=1)if(e.renditions[n].src===t)return!0;return!1}(e,t))})}i(),e.on("mol.sources.updated",function(){n.removeChild(n.menu),n.menu=n.createMenu(),n.addChild(n.menu),r(),i()}),e.on("mol.sources.renditionChanged",r)}});n.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-video-quality-control vjs-control"})},n.prototype.options_={title:"Video Quality"},n.prototype.createItems=function(){var n,i,r,o,e=this.player().renditions;return s.isArray(e)?(i=this.player(),e=e.slice().sort((n="height",function(e,t){return e[n]>t[n]?-1:e[n]<t[n]?1:0})),r={},o=[],e.forEach(function(e){var t=e.height,n=r[t];n||(n=new a(i,{width:e.width,height:e.height,renditions:[]}),r[t]=n,o.push(n)),n.addRendition(e)}),o):[]},n.prototype.onClick=function(){var t=videojs.bind(this,function(e){e=Boolean(e.toElement)?e.toElement:e.relatedTarget;e===this.el()||i.isDescendant(this.el(),e)||(this.unpressButton(),i.removeEventListener(this.el(),"mouseout",t))});i.addEventListener(this.el(),"mouseout",t),this.buttonPressed_?this.unpressButton():this.pressButton()},n.prototype.createMenu=function(){var t=new videojs.Menu(this.player(),{contentElType:"div"});return this.options().title&&t.contentEl().appendChild(videojs.createEl("div",{className:"vjs-menu-title",innerHTML:s.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items&&this.items.forEach(function(e){t.addItem(e)}),t},n.prototype.pressButton=function(){videojs.MenuButton.prototype.pressButton.call(this),i.addClass(this.el(),"active")},n.prototype.unpressButton=function(){videojs.MenuButton.prototype.unpressButton.call(this),i.removeClass(this.el(),"active")},e.exports=n},function(e,t){var n=videojs.MenuItem.extend({init:function(e,t){videojs.MenuItem.call(this,e,t),this.width=t.width,this.height=t.height,this.renditions=t.renditions||[]}});n.prototype.createEl=function(e,t){var n=this.options_.height+"p";return videojs.Button.prototype.createEl.call(this,"div",videojs.obj.merge({className:"vjs-menu-item",innerHTML:n},t))},n.prototype.onClick=function(){var e=this.player();e.changeRendition&&e.changeRendition(this.renditions)},n.prototype.addRendition=function(e){this.renditions.push(e)},e.exports=n},function(e,t,n){var i=n(2).FacebookButton,r=n(2).TwitterButton,o=n(2).MailButton,s=n(23),a=n(64),l=n(67),n=videojs.Component.extend({init:function(e){videojs.Component.call(this,e),this.addChild(new l(e)),this.addChild(new a(e)),this.addChild(new s(e)),this.addChild(new o(e)),this.addChild(new r(e)),this.addChild(new i(e))}});n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-social-controls vjs-control"})},e.exports=n},function(e,t,n){var i=n(14),r=n(61),n=i.extend({init:function(e,t){i.call(this,e,t),this.addChild(new r(e))}});n.prototype.name=function(){return"SharePopup"},n.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-social-popup"})},e.exports=n},function(e,t){var n=videojs.Button.extend();n.prototype.onClick=function(){this.player_.trigger("CloseButton.pressed")},n.prototype.name=function(){return"CloseButton"},n.prototype.createEl=function(){return videojs.Button.prototype.createEl.call(this,"div",{className:"vjs-close-button vjs-control",innerHTML:""})},e.exports=n},function(e,t,n){var i=n(62),r=n(63),o=n(2).FacebookButton,s=n(2).MailButton,a=n(2).TwitterButton,l=n(2).PinterestButton,u=n(2).RedditButton,c=n(2).DiggButton,d=n(2).LinkedinButton,n=videojs.Component.extend({init:function(e){videojs.Component.call(this,e);var t=new i(e);t.addChild(new o(e)),t.addChild(new a(e)),t.addChild(new l(e)),t.addChild(new s(e)),t.addChild(new u(e)),t.addChild(new c(e)),t.addChild(new d(e)),this.addChild(t),this.addChild(new r(e))}});n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-social-popup-content vjs-popup-wrapper",innerHTML:'<div class="clearfix"></div><div class="vjs-popup-title">Share this Video</div>'})},e.exports=n},function(e,t){var n=videojs.Component.extend();n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-popup-content"})},e.exports=n},function(e,t){var n=videojs.Component.extend();n.prototype.createEl=function(){return videojs.Component.prototype.createEl.call(this,"div",{className:"clearfix"})},e.exports=n},function(e,t,n){var i=n(13),r=n(65),i=i.extend();i.prototype.buttonName="LinkButton",i.prototype.name=function(){return"LinkButton"},i.prototype.getPopup=function(){return new r(this.player_)},e.exports=i},function(e,t,n){var i=n(14),r=n(66),n=i.extend({init:function(e,t){i.call(this,e,t),this.addChild(new r(e))}});n.prototype.name=function(){return"LinkPopup"},n.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-link-popup"})},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e){videojs.Component.call(this,e)}});n.prototype.createEl=function(){var e=this.player(),e=(e=e.socials&&e.socials.videoLink&&e.socials.videoLink())||"No link available";return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-link-popup-content vjs-popup-wrapper",innerHTML:'<div class="clearfix"></div><div class="vjs-popup-title">Get link</div><div class="vjs-popup-content"><textarea class="copyToClipboardEl" readonly rows="3">'+e+'</textarea></div><div class="vjs-popup-helper-msg">Please copy the text above</div>'})},e.exports=n},function(e,t,n){var i=n(13),r=n(68),i=i.extend();i.prototype.buttonName="EmbedButton",i.prototype.getPopup=function(){return new r(this.player_)},i.prototype.name=function(){return"EmbedButton"},e.exports=i},function(e,t,n){var i=n(14),r=n(69),n=i.extend({init:function(e,t){i.call(this,e,t),this.addChild(new r(e))}});n.prototype.name=function(){return"EmbedPopup"},n.prototype.createEl=function(){return i.prototype.createEl.call(this,"div",{className:"vjs-embed-popup"})},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e){videojs.Component.call(this,e)}});n.prototype.createEl=function(){var e=this.player(),e=(e=e.socials&&e.socials.embedSnippet&&e.socials.embedSnippet())||"This video can't support the embed";return videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-embed-popup-content vjs-popup-wrapper",innerHTML:'<div class="clearfix"></div><div class="vjs-popup-title">Embed this Video</div><div class="vjs-popup-content"><textarea class="copyToClipboardEl" readonly rows="3">'+e+'</textarea></div><div class="vjs-popup-helper-msg">Please copy the text above</div>'})},e.exports=n},function(e,t){var n=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t),this.player=e,this._enabled=!1},name:function(){return"molPreviousButton"}});n.prototype.buttonText="Previous",n.prototype.buildCSSClass=function(){return"mol-previous-control mol-disabled-control "+videojs.Button.prototype.buildCSSClass.call(this)},n.prototype.onClick=function(){this._enabled&&this.player.trigger("mol.play.previous.video")},n.prototype.name=function(){return"molPreviousVideoButton"},n.prototype.enable=function(){this.el().classList.remove("mol-disabled-control"),this._enabled=!0},n.prototype.disable=function(){this.el().classList.add("mol-disabled-control"),this._enabled=!1},e.exports=n},function(e,t){var n=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t),this.player=e,this._enabled=!1}});n.prototype.buttonText="Skip",n.prototype.buildCSSClass=function(){return"mol-skip-control mol-disabled-control "+videojs.Button.prototype.buildCSSClass.call(this)},n.prototype.onClick=function(){this._enabled&&this.player.trigger("mol.play.next.video")},n.prototype.name=function(){return"molSkipVideoButton"},n.prototype.enable=function(){this.el().classList.remove("mol-disabled-control"),this._enabled=!0},n.prototype.disable=function(){this.el().classList.add("mol-disabled-control"),this._enabled=!1},e.exports=n},function(e,t,n){var i=n(1),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});n.prototype.createEl=function(){var e=videojs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"}),t=document.createElement("div");return i.addClass(t,"vjs-loading-spinner-icon"),e.appendChild(t),e},e.exports=n},function(e,t,n){n(74),n(75),n(161),n(99),n(100),n(102),n(103),n(104),n(106),n(107),n(108),n(114),n(117),n(118),n(126),n(127),n(130),n(131),n(144),n(147),n(148),n(153),n(160)},function(e,t){videojs.plugin("vjs-api-hooks",function(){function l(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=(s=t,Array.isArray(s)?s:Array.from(s)),s=o[0],a=o.slice(1);return"function"==typeof s?s.apply(void 0,[function(){return l.apply(void 0,[e,a].concat(i))}].concat(i)):u[e].apply(u,i)}var r=this,o={},u={};r.preEventHook=function(i,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if("function"!=typeof e)throw new TypeError("hook needs to be a function");o[i]||(o[i]=[],u[i]=r[i].bind(r),r[i]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.apply(void 0,[i,o[i].map(function(e){return e.hook})].concat(t))});var n={priority:t,hook:e.bind(r)};return o[i].push(n),o[i]=o[i].sort(function(e,t){return t.priority-e.priority}),function(){o[i]=o[i].filter(function(e){return e!==n})}}})},function(e,t){videojs.plugin("duration-plugin",function(){var t=this;t.ready(function(){t.preEventHook("duration",function(e){e=e();return"number"==typeof e&&0<e?e:"number"==typeof t.options_.duration?Math.floor(t.options_.duration/1e3):0}),t.trigger("timeupdate")})})},function(e,t,n){var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},x=n(24).getDetails;e.exports=function(e,t){if("IMA"===e)return k({},t.creativeAd.g,{adSDK:e});var n=t.videoAdContainer.videoElement;if(t.vastChain){var i=x(t.vastChain),r=i.adId,o=i.adServingId,s=i.adSystem,a=i.adTitle,l=i.advertiser,u=i.adWrapperCreativeIds,c=i.adWrapperIds,d=i.adWrapperSystems,p=i.clickThroughUrl,h=i.creativeAdId,f=i.creativeData,v=i.creativeId,m=i.description,y=i.durationInMs,g=i.mediaFiles,A=i.pricing,b=i.pricingCurrency,w=i.pricingModel,j=i.skipOffsetInMs,T=i.skippable,E=i.universalAdId,_=i.universalAdIdRegistry,C=i.vastVersion,S=i.vpaid,i=t.videoAdContainer.element.getBoundingClientRect(),t=i.width,y="number"==typeof y?y/1e3:-1,j="number"==typeof j?j/1e3:-1,_={adId:r,adPodInfo:{podIndex:0,timeOffset:0,totalAds:1,adPosition:1,isBumper:!1,maxDuration:y},adSDK:e,adSystem:s,adServingId:o,adWrapperCreativeIds:u,adWrapperIds:c,adWrapperSystems:d,advertiserName:l,apiFramework:S?"VPAID":null,clickThroughUrl:p,creativeAdId:h,creativeId:v,description:m,duration:y,height:i.height,linear:!0,minSuggestedDuration:T?j:y,pricing:A,pricingCurrency:b,pricingModel:w,skippable:T,skipTimeOffset:j,title:a,traffickingParameters:f&&f.AdParameters,universalAdIdRegistry:_,universalAdIdValue:E,vastVersion:C,vpaid:S,width:t},E=!S&&g.find(function(e){return e.src===n.src})||g[0];return E&&(C=E.type,t=E.src,S=E.width,g=E.height,E=E.bitrate,_=k({},_,{contentType:C,mediaUrl:t,vastMediaBitrate:E,vastMediaHeight:g,vastMediaWidth:S})),_}return{adSDK:e}}},function(e,t,n){var i=n(78);e.exports=function(){return i.isIE11()||!i.isIE()}},function(e,t){var n=t.isIE11=function(){return-1!==window.navigator.userAgent.indexOf("rv:11")};t.isIE=function(){var e=window.navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName||-1!==e.indexOf("Trident/")||n()}},function(e,t,n){function k(e){return e.el().querySelector(".vjs-tech")}var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=n(10),M=n(18).isFlyaway;e.exports=function(t,e){var n,i=k(t),r=t.el().querySelector(".video-ads-container"),o=(n=t).muted()||0===n.volume(),s=void 0===e.autoplay?I(t):e.autoplay,a=M(t),l=e.auction,u=e.cust_params,c=void 0===u?{}:u,d=e.domain,p=e.duration,h=e.embed,f=e["fbia-embed"],v=e.grapeshot,m=e.headerBiddingParams,y=e.indexHeaderParams,g=e.isMobile,A=e.linkBaseURL,b=e.offset,w=e.platform,j=e.scor,T=e.source,E=e.sync,_=e.syndicationService,C=e.title,S=e.videoAdServerUrl,n=e.videoId,u=e.videoStarts,v=v&&v.article&&v.article.articleURL||void 0,e="object"===P(e.screen)?e.screen:function(){if(g)return{width:640,height:360};var e=k(t);return{width:e.offsetWidth,height:e.offsetHeight}}();return{adEl:r,articleURL:v,adRequestFramework:t.adSDK,auction:l,autoplay:s,cust_params:x({},c,y),domain:d,duration:p,embed:Boolean(h),fbiaEmbed:f,flyaway:a,headerBiddingParams:m,linkBaseURL:A,muted:o,offset:b,platform:w,scor:j,screen:e,source:T,sync:E,syndicationService:_,title:C,videoAdServerUrl:S,videoEl:i,videoId:n,videoStarts:u}}},function(e,t,n){var C=n(81),S=n(82),k=n(84);e.exports=function(e){var t=e.auction,n=e.adRequestFramework,i=e.adEl,r=e.articleURL,o=e.autoplay,s=e.cust_params,a=e.domain,l=e.duration,u=e.embed,c=e.fbiaEmbed,d=e.flyaway,p=e.headerBiddingParams,h=e.linkBaseURL,f=e.offset,v=e.platform,m=e.muted,y=e.scor,g=e.screen,A=e.source,b=e.sync,w=e.syndicationService,j=e.title,T=e.videoEl,E=e.videoId,_=e.videoStarts,e=k({autoplay:o,fbiaEmbed:c,flyaway:d,syndicationService:w,videoAdServerUrl:e.videoAdServerUrl}),j=C({adEl:i,articleURL:r,adRequestFramework:n,autoplay:o,cust_params:s,domain:a,duration:l,embed:u,flyaway:d,headerBiddingParams:p,offset:f,platform:v,muted:m,screen:g,source:A,sync:b,title:j,videoAdServerUrl:e,videoEl:T,videoId:E,videoStarts:_}),T=j.customParams,_=j.rdp,j=j.npa;return t&&t.setCustomParams(T),S({customParams:T,linkBaseURL:h,scor:y,screen:g,videoAdServerUrl:e,videoId:E,npa:j,rdp:_})}},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=n(8).merge;e.exports=function(e){var t=window.adverts.getSyncVideoTags?window.adverts.getSyncVideoTags(e):{},n=t.cust_params,i=t.rdp,t=t.npa;return{customParams:function(e){var t=e.cust_params,n=e.domain,i=e.embed,r=e.flyaway,o=e.muted,s=e.screen,a=e.source,l=e.title,u=e.videoId,c=e.videoStarts,e="number"==typeof e.duration?e.duration/1e3:0,d={length:120<e?120:30*Math.floor(e/30),videoWidth:s.width,videoHeight:s.height,play:c,embed:i,ttid:u,domain:n,flyaway:r,s:o?"off":"on"};l&&(d.videoTitle=l.replace(/\s/g,"_").replace(/[^_\w]/g,"")),a&&(d.video=a.replace(/\s/g,"_")),window.adEnvironment&&(d.environment=window.adEnvironment);var p=t||{};return Object.keys(p).forEach(function(e){d[e]=p[e]}),d.sz=s.width+"x"+s.height,d}(r({},e,{cust_params:o({},e.cust_params,n)}),screen),rdp:i,npa:t}}},function(e,t,n){var a=n(83);e.exports=function(e){var t=e.videoAdServerUrl,n=e.linkBaseURL,i=e.scor,r=e.screen,o=e.videoId,s=e.customParams;return new a(t).correlator(Date.now()).cust_params(s).description_url(n).url(n).scor(i).sz(r.width+"x"+r.height).setRequestNonPersonalizedAds(Boolean(e.npa)).setRestrictDataProcessing(Boolean(e.rdp)).addParam("vid",o).build()}},function(e,t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=n(3);function s(e){if(!e)throw new TypeError("Missing videoAdServerUrl");e={base_url:(e=e.split("?"))[0],search:e[1]};this.base_url=e.base_url,this.params=r({},{env:"vp",gdfp_req:1,impl:"s",output:"xml_vast4",unviewed_position_start:1,hl:"en"},(e=e.search)?o.queryStringToObj(e,function(e,t){return t&&!/(\[.+])/g.test(t)}):{},{output:"xml_vast4"})}s.encodeCustomParams=function(n){if("object"===(void 0===n?"undefined":i(n)))return Object.keys(n).forEach(function(e){var t=n[e];Array.isArray(t)?n[e]=t.join(","):n[e]=t}),encodeURIComponent(o.objToQueryString(n));throw new TypeError("encodeCustomParams only accepts an object map of key value pairs.")},s.prototype.iu=function(e){if(!/^\/[a-zA-z0-9\-_.~]+(\/[a-zA-z0-9\-_.~]+)*/.test(e))throw new TypeError("'iu' param must follow format: /network_id/directory_tree.../ad_unit");return this.params.iu=encodeURIComponent(e),this},s.prototype.sz=function(e){if(!/^[0-9]+x[0-9]+/.test(e))throw new TypeError("'sz' param must follow format like: 300x400.");return this.params.sz=e,this},s.prototype.url=function(e){return this.params.url=encodeURIComponent(o.urlParts(e).href),this},s.prototype.correlator=function(e){if("number"==typeof e&&!isNaN(e))return this.params.correlator=e,this;throw new TypeError("the passed correlator is not a number")},s.prototype.description_url=function(e){return this.params.description_url=encodeURIComponent(o.urlParts(e).href),this},s.prototype.hl=function(e){return this.params.hl=e,this},s.prototype.ciu_szs=function(e){return this.params.ciu_szs=e,this},s.prototype.scp=function(e){return this.params.scp=e,this},s.prototype.cust_params=function(e){return this.params.cust_params=s.encodeCustomParams(e),this},s.prototype.setRequestNonPersonalizedAds=function(e){return e&&(this.params.npa=1),this},s.prototype.setRestrictDataProcessing=function(e){return e&&(this.params.rdp=1),this},s.prototype.scor=function(e){if("number"==typeof e&&!isNaN(e))return this.params.scor=e,this;throw new TypeError("the passed scor is not a number")},s.prototype.addParam=function(e,t){return this.params[e]=t,this},s.prototype.build=function(){var t=this.params;return["env","gdfp_req","impl","output","unviewed_position_start","hl","url","correlator","description_url"].forEach(function(e){if(!t[e])throw new TypeError("Error building url, missing required param '"+e+"'")}),this.base_url+"?"+o.objToQueryString(this.params)},e.exports=s},function(e,t){e.exports=function(e){var t=e.autoplay,n=e.fbiaEmbed,i=e.flyaway,r=e.syndicationService,e=e.videoAdServerUrl;n&&-1===e.indexOf("dm.videofb")||"fbia"===r&&-1===e.indexOf("dm.videofb")?e=e.replace(/dm\.video/g,"dm.videofb"):"gamp"===r&&-1===e.indexOf("dm.videoamp")&&(e=e.replace(/dm\.video/g,"dm.videoamp"));r="";return t&&(r+="ap"),i&&(r+="fa"),e=r.length?e.replace(/(dm\.video)([^&]+)?/,"$1$2_"+r):e}},function(e,t,n){var l=this,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};var c=n(8).merge;e.exports=function(){var t,e,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise((e=regeneratorRuntime.mark(function e(t){var n,i,r,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.headerBiddingParams,o=a.timeoutPromise,i=!(n={}),r=function(){i||(i=!0,t(n))},o&&o.then(r),o=function(e,t){!e&&t?n=c({},n,t):r()},e.prev=6,(s=window.adverts.getVideoTags(u({},a,s),o))instanceof Promise)return e.next=11,s;e.next=14;break;case 11:s=e.sent,o(null,s),r();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r();case 19:case"end":return e.stop()}},e,l,[[6,16]])}),t=function(){var a=e.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})},function(e){return t.apply(this,arguments)}))}},function(e,t,n){var i=n(3);e.exports=function(){var e=i.queryStringToObj(window.location.search),t={};return e.useIMASDK&&(t.useIMASDK="true"===e.useIMASDK),e.adsCancelTimeout&&(t.adsCancelTimeout=parseInt(e.adsCancelTimeout,10)),e.referer&&(t.domain=e.referer),e.bannerFallback&&(t.bannerFallback="true"===e.bannerFallback),t}},function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};e.exports=function(t){var e=t.schedule;return(e=!e||0===e.length?t.adPos?Object.values(t.adPos):[{}]:e).map(function(e){return n({offset:0},t,e,{cust_params:n({},t.cust_params,e&&e.cust_params)})}).sort(function(e,t){return e.offset-t.offset})}},function(e,t){e.exports=function(e,t){var n=t.currentTime,i=t.duration;return e.filter(function(e){e=e.minVideoDuration;return!e||!i||e<=i}).find(function(e){e=e.offset;return Math.floor(n)<=e})}},function(e,t,n){var u=n(90);e.exports=function(t,e){var n=t.el().querySelector(".vjs-play-progress"),i=e.filter(function(e){return 0<e.offset&&(!e.minVideoDuration||e.minVideoDuration<=t.duration())}),r=!0,o=!1,e=void 0;try{for(var s,a=i[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var l=s.value;u(t,l,n)}}catch(t){o=!0,e=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw e}}}},function(e,t,n){var s=n(91);e.exports=function(t,e,n){var i=e.offset,r=s(i,t.duration());n.parentNode.insertBefore(r,n);function o(){var e=Math.floor(t.currentTime())-i;0<=e&&e<2&&(t.off("timeupdate",o),r.parentNode.removeChild(r),t.pause(),t.trigger("videoAds.reset"),t.play())}t.on("timeupdate",o),t.on("request-reset",function(){t.off("timeupdate",o),r&&r.parentNode&&r.parentNode.removeChild(r)})}},function(e,t){e.exports=function(e,t){e=Math.ceil(100*e/t),t=document.createElement("div");return t.classList.add("video-ad-midroll-mark"),t.style.left=e+"%",t.innerHTML='<div class="top">\n                                      <p>Advertisement</p>\n                                      <i></i>\n                                  </div>',t}},function(e,t,n){var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},C=n(10),S=n(93),k=n(94),x=n(95),P=n(96),I=n(97),M=n(98);videojs.plugin("video-ads-plugin",function(t){function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,["[ads]"].concat(t))}var r=this,n=!0,o=null,s=null,a=null,l=_({},t),u=l.getAdTag,c=r.el().querySelector(".vjs-tech"),d=S(),p=k();d.append(p),r.el().append(d);function h(e){a=e,r.adUnit=a,d.style.display="block",r.el().classList.add("video-ad-ready"),b(),r.on("volumechange",b),r.on(["videoAd.resize","fullscreenchange"],w),window.addEventListener("orientationchange",w),a.on("impression",function(){r.trigger({type:"videoAd.impression",adUnit:a})}),a.on("start",function(){g=!0,r.controlBar.addChild(new I(r)),r.el().classList.remove("video-ad-waiting"),r.el().classList.remove("video-ad-ready"),r.el().classList.add("video-ad-playing"),"VPAID"===a.type&&r.el().classList.add("video-ad-vpaid"),s&&s.paused&&a.pause(),b(),r.trigger({type:"videoAd.start",adUnit:a})}),a.on("complete",function(){r.trigger({type:"videoAd.complete",adUnit:a})}),a.on("pause",function(){r.trigger({type:"pause"})}),a.on("resume",function(){r.trigger({type:"play"})}),a.on("adProgress",function(){r.trigger({type:"timeupdate"})})}function f(e){return!m&&!y&!g&&A(e,new Error("Ad run canceled by SDK for UNKNOWN reasons")),d.style.display="none",o=a=null,r.off("volumechange",b),r.off(["videoAd.resize","fullscreenchange"],w),window.removeEventListener("orientationchange",w),r.controlBar.removeChild("AdsLabel"),r.el().classList.remove("video-ad-waiting"),r.el().classList.remove("video-ad-ready"),r.el().classList.remove("video-ad-playing"),r.el().classList.remove("video-ad-vpaid"),delete r.adUnit,!g&&!m&&y&&t.bannerFallback&&window.adverts&&"function"==typeof window.adverts.getBannerFallbackPromise?window.adverts.getBannerFallbackPromise({offset:s&&s.currentTime||0,adTag:e}).then(j).catch(j):j()}var v=void 0,m=void 0,y=void 0,g=void 0,A=function(e,t){y=!0,console.error("### Video ads error",t),r.trigger({type:"videoAd.error",adUnit:a,error:t,adTag:e})},b=function(){a&&(r.muted()?a.setVolume(0):a.setVolume(r.volume()))},w=function(){var e,t,n;a&&(e=p.clientWidth,t=p.clientHeight,n=void 0,n=r.isFullscreen()?"fullscreen":e<400?"thumbnail":"normal",a.resize(e,t,n))},j=function(){r.trigger({type:"videoAd.contentResumeRequested"}),s&&(P(r,s),s=null)};function T(){v=v||window.google&&window.google.ima&&M({videoElement:c,adsContainer:p,useIMASDK:Boolean(l.useIMASDK),vpaidEnabled:Boolean(l.vpaidEnabled)})}r.ready(function(){l.earlyAdFactoryInit&&(i("initializing ad factory on load"),T()),r.preEventHook("play",function(e){T(),s&&s.paused&&(s.paused=!1),r.trigger({type:"play"}),n&&l.adsEnabled&&v&&!o?(n=!1,r.trigger({type:"videoAd.contentPauseRequested"}),function(){try{g=y=m=!1;function t(e){var t={vpaidEnabled:l.vpaidEnabled,autoplay:C(r),moat:{partnerCode:"mailonlinejsvideo243552997523"},onAdReady:h,onError:A.bind(null,e),onRunFinish:f.bind(null,e),responsive:!0,timeout:l.timeout||15e3,videoElement:c};i("requesting ad:",{adTag:e,opts:t}),n=v(e,p,t)}var n=null;o=function(){m=!0,(n||f)()},r.el().classList.add("video-ad-waiting"),i("just before snapshot:",{readyState:r.readyState(),src:r.src()}),s=x(r),i("just after snapshot:",{snapshot:s,readyState:r.readyState(),src:r.src()});var e=u();e instanceof Promise?e.then(function(e){m||t(e)}):t(e)}catch(n){console.error("### Error initializing the ad run",n),r.play()}}()):o?a&&a.isStarted()&&a.resume():(n&&(n=!1,r.trigger({type:"videoAd.contentResumeRequested"})),e())}),r.preEventHook("pause",function(e){return g||!s||s.paused||(s.paused=!0),a&&a.isStarted()?a.pause():e()}),r.preEventHook("paused",function(e){return a&&a.isStarted()?a.paused():e()}),r.preEventHook("duration",function(e,t){return a&&a.isStarted()&&void 0===t?a.duration():e(t)}),r.preEventHook("currentTime",function(e){return a&&a.isStarted()?a.currentTime():e()}),r.on("request-dispose",function(){o&&!m&&o()}),r.on("videoAds.reset",function(e){o&&o(),"object"===E(e.options)&&(l=_({},l,e.options)),n=!0})})})},function(e,t){e.exports=function(){var e=document.createElement("div");return e.classList.add("video-ads-placeholder"),e.style.width="100%",e.style.display="none",e}},function(e,t){e.exports=function(){var e=document.createElement("div");return e.classList.add("video-ads-container"),e.style.position="relative",e.style.width="100%",e.style.height="100%",e}},function(e,t){e.exports=function(e){var t=e.el().querySelector(".vjs-tech"),e={currentTime:e.currentTime(),ended:e.ended(),src:e.currentSrc(),suppressedTracks:function(e){e=e.remoteTextTracks?e.remoteTextTracks():[];Array.isArray(e)||(e=[]);var t=[];return e.forEach(function(e){t.push({mode:e.mode,track:e}),e.mode="disabled"}),t}(e),type:e.currentType()};return t&&(e.nativePoster=t.poster,e.style=t.getAttribute("style")||""),e}},function(e,t){function s(e){var t=e.readyState();return e.log("isReadyToResume:",{readyState:t}),1<t||(t=e.seekable(),e.log("isReadyToResume:",{seekable:t&&t.length}),void 0===t||0<t.length)}function a(e,t,n){0!==n?s(e)?e.play():setTimeout(function(){return a(e,t,n-1)},300):console.error("### Failed to resume the content after several attempts")}e.exports=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20;e.log("restoreSnapshot: begin, src",e.src(),t);var i,r,o=e.el().querySelector(".vjs-tech");o.src!==t.src&&(e.log("src changed:",{tech:o.src,snapshot:t.src}),t.nativePoster&&t.nativePoster!==o.poster&&(o.poster=t.nativePoster),"style"in t&&o.setAttribute("style",t.style),e.one("contentloadedmetadata",function(){t.suppressedTracks.forEach(function(e){e.track.mode=e.mode})}),o={src:t.src,type:t.type},e.log("new opts:",o),e.src(o),e.load()),e.currentTime()!==t.currentTime&&(e.log("currentTime changed:",e.currentTime(),t.currentTime),e.currentTime(t.currentTime),s(e)||e.one("loadeddata",function(){e.currentTime(t.currentTime)})),Boolean(t.paused)?e.log("paused"):s(e)&&e.currentTime()===t.currentTime?(e.log("playing"),e.play()):(e.log("trying to player.load"),e.load(),e.one("canplay",function(){return a(e,t,n)}),i=e,r=setTimeout(function(){i.trigger("canplay")},2e3),i.one("canplay",function(){clearTimeout(r)}))}},function(e,t){var n=document.createElement("div");n.className="video-ad-label vjs-control",n.innerHTML="Advertisement";var i=videojs.Component.extend({init:function(t,e){videojs.Component.call(this,t,e),setTimeout(function(){var e=t.controlBar&&(t.controlBar.getChild("timerControls")||t.controlBar.getChild("currentTimeDisplay"));e&&t.controlBar.el().insertBefore(n,e.el())},0)},name:function(){return"AdsLabel"}});i.prototype.createEl=function(){return n},e.exports=i},function(e,t,n){var r=n(36).createRequestAd,o=n(24).runWaterfall;e.exports=function(e){var t=e.videoElement,n=e.adsContainer,i=e.vpaidEnabled;return e.useIMASDK&&window.google&&window.google.ima?r(t,n,{player:{type:"videojs",version:"4.12.15"},vpaidEnabled:i}):o}},function(e,t){videojs.plugin("cmp",function(e){var t,n=this;e.enabled&&((t=window).__cmp("rendered",null,function(){var e=document.querySelector(".mol-ads-cmp--banner .mol-ads-cmp--btn-primary");e&&e.addEventListener("click",n.play.bind(n))}),t.__cmp("hasChoiceBeenMade",null,function(e){e||n.one("play",function(){t.__cmp("consentToAll")})}))})},function(e,t,n){var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(101),v=n(0),m=n(1),y=n(25),g=n(3);videojs.plugin("social-share",function(e){function t(){return d(l.options().title)}function n(){return d(l.options().descr)}function i(){return c.placement||"videoplayer"}function r(){return c.via||window.twitterVia||""}function o(e){var t=l.options().linkBaseURL,n=c.qs;if(n&&"object"===h(n[e])&&0<Object.keys(n[e]).length){var i=t.split("?"),r=i[0],i=g.queryStringToObj(i[1]);return(i=g.objToQueryString(p({},i,n[e])))?r+"?"+i:r}return t}function s(){return{referenceId:l.options().referenceId,type:"video_share",version:y.getVideoPlayerVersion(),videoId:l.options().videoId}}function a(){c.disabled=v.isString(c.disabled)?c.disabled.split(/ +/):c.disabled,v.forEach(u.className.split(/ +/),function(e){-1!==e.indexOf("vjs-disable-social-")&&m.removeClass(u,e)}),c.disabled&&v.forEach(c.disabled,function(e){m.addClass(u,"vjs-disable-social-"+e)})}var l=this,u=l.el(),c=e,d=function(e){return e?(e=e.replace(/&quot;/g,'"')).replace(/&#39;/g,"'"):""};a(),l.on("request-reset",function(){delete c.qs}),l.on("reset",function(){c=l.options().plugins["social-share"],a()});e={postToFB:function(){window.DMS.Facebook.postToFB(i(),JSON.stringify({link:o("facebook"),picture:l.options().thumbnail||l.options().poster||"",name:t(),description:n()}),s())},postToMail:function(){f(l.socials.nativeEmailContent()),window.DMS.Email.emailArticle(i(),JSON.stringify({link:o("email"),picture:l.options().thumbnail||l.options().poster||"",name:t(),description:n()}),s())},postToTWTTR:function(){var e=l.options().shortURL;window.DMS.Twitter.postToTWTTR(i(),JSON.stringify({url:e||o("twitter"),text:t(),via:r()}),s())},postToPinterest:function(){var e=o("pinterest");window.DMS.Pinterest.postToPinterest(i(),{description:n(),forcedUrl:e,via:r(),media:l.options().poster,type:"image",url:e,title:t()},s())},postToReddit:function(){window.DMS.Reddit.postToReddit(i(),{url:o("reddit"),title:t()},s())},postToFark:function(){window.DMS.Fark.postToFark(i(),{u:o("fark"),h:t()},s())},postToDiggit:function(){window.DMS.Diggit.postToDiggit(i(),{url:o("diggit"),title:t()},s())},postToLinkedIn:function(){window.DMS.LinkedIn.postToLinkedIn(i(),{url:o("linkedin"),title:t()},s())},embedSnippet:function(){var e=c.embedUrl||"";return e?'<iframe allowfullscreen frameborder="0" width="698" height="573" scrolling="no" id="molvideoplayer" title="MailOnline Embed Player" src="'+e+'"></iframe>':""},videoLink:function(){return l.options().linkBaseURL},mailLink:function(){return l.options().linkBaseURL},nativeEmailContent:function(){return{title:t(),link:o("email"),app:l.options().linkBaseURL.includes("thisismoney")?"ThisIsMoney":"MailOnline",host:(e=l.options().linkBaseURL,new URL(e).hostname)};var e}};l.socials=e})},function(e,t){e.exports=function(e){e="mailto:?subject="+e.title+"&body="+encodeURIComponent(e.link)+"%0D%0A%0D%0AGet the "+e.app+" App: %0D%0A https://"+e.host+"/mobile";location.href=e}},function(e,t,n){"use strict";n.r(t);var r=n(6),u=n(0),c=n(1),d=n(4);videojs.plugin("sources",function(t){!function(){var e=t.url;if(!u.isString(e))throw new TypeError("mol-fe-videoplayer Error: on sources plugin, missing url option")}();var a=this,n=new r.a(t.url);function i(){function i(e,t){var n,i,r;e?(a.trigger({type:"sources.error",error:e}),a.renditions=[]):(a.renditions=(n=(t&&t.renditions||[]).map(function(e){return{id:e.id,src:e.url,type:e.type||({ogv:"video/ogg",webm:"video/webm",flv:"video/x-flv",mp4:"video/mp4",m4v:"video/mp4",m3u8:"application/x-mpegURL",ts:"video/MP2T","3gp":"video/3gpp",mov:"video/quicktime",avi:"video/x-msvideo",wmv:"video/x-ms-wmv"}[t=(t=e.url.match(/\.([^./?]+)(\?[^/]+)?$/i))&&t[1]]||"video/"+t),width:e.frameWidth,height:e.frameHeight,videoContainer:e.videoContainer,bitrate:e.encodingRate,videoCodec:e.videoCodec,duration:u.isNumber(e.duration)?e.duration:0};var t}),r=c.getDimension(a.el()).width,"iOS"===d.os?(i=r,t=l((e=n).filter(o),i),i=l(e.filter(s),i),t.concat(i)):l(n.filter(s),r)),0<a.renditions.length&&a.changeRendition(a.renditions)),a.trigger({type:"mol.sources.updated",renditions:a.renditions})}n.get(function(t,n){var e=a._states&&a._states.state&&a._states.state.get();"adsWaiting"===e||"adPlaying"===e?u.once(a,["videoAd.contentResumeRequested","request-reset"],function(e){"request-reset"!==e.type&&i(t,n)}):i(t,n)})}function o(e){return"M2TS"===e.videoContainer}function s(e){return"M2TS"!==e.videoContainer}function l(e,n){return e.sort(function(e,t){return Math.abs(n-e.width)-Math.abs(n-t.width)})}t.url=null,a.ready(i),a.on("reset",function(){var e=a.options().plugins;n=new r.a(e&&e.sources&&e.sources.url||null),i()}),a.changeRendition=function(e,t){var n,i,r,o,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u.noop,n=u.extend({},{currentTime:(n=a).currentTime(),playing:!n.paused()},t||{});a.trigger("mol.sources.renditionChanging"),n.playing&&a.pause(),a.src(e),t=a,e=e,0<(e=(u.isArray(e)?e[0]:e).duration/1e3)&&(t.duration(e),t.trigger("timeupdate")),i=a,o=function(){a.trigger("mol.sources.renditionChanged"),s()},(r=n).playing&&(i.load(),i.play()),i.one("loadeddata",function(){i.currentTime(r.currentTime),o()})}})},function(e,t,n){var i=n(1);videojs.plugin("streaming",function(){this.options().isStreaming&&(i.addClass(this.el(),"streaming"),i.addClass(this.el().parentNode,"vjs-video-container-streaming"))})},function(e,t,n){var i=n(1),r=n(105);videojs.plugin("title",function(){var t=this;function e(){var e=t.options();t.titleChild&&(i.remove(t.titleChild.el_),t.removeChild(t.titleChild),t.titleChild.dispose(),delete t.titleChild),e.title&&!e.isTitleHidden&&(t.titleChild=t.addChild(new r(t,{text:e.title})))}e(),t.on("reset",e)})},function(e,t,n){var r=n(1),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=e.el_,i=this.el_;setTimeout(function(){r.prependChild(n,i)},0)}});n.prototype.createEl=function(){var e='<div class="vjs-title-text"><div>'+this.options().text+"</div></div>",t=this.player_,n="DAILYMAILTV"===(t.options().source||"").toUpperCase(),i=n?"vjs-title vjs-title-dmtv":"vjs-title",e=n?'<div class="dmtv"></div>'+e:e;return t.el_.parentNode&&r.hasClass(t.el_.parentNode,"vjs-span-one-col")&&r.addClass(t.el_.parentNode,"vjs-one-col-title"),videojs.createEl("div",{className:i,innerHTML:e})},n.prototype.name=function(){return"Title"},e.exports=n},function(e,t,n){var i=n(26);videojs.plugin("history",function(){var t=this;t.on("playerstate.progress.enter.25",function(){var e=t.options().videoId;i.push(e)})})},function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=n(4);videojs.plugin("autoplay-next-video",function(){var n=this,r=this;void 0===r.autoplayIndex&&(r.autoplayIndex=0),s.mobile&&r.el().querySelector(".vjs-tech").setAttribute("playsinline","");var e,t,i=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.nextVideo;case 2:t=e.sent,r.trigger({type:"request-reset",video:o({},t,{playlistClickToPlay:!1}),autoplay:!0});case 4:case"end":return e.stop()}},e,n)}),t=function(){var a=e.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})},function(){return t.apply(this,arguments)});r.on("playerstate.enter.started",function(){r.nextVideo=new Promise(function(n,i){r.fetchRelatedVideos(function(e,t){!e&&t&&t.length?n(t[0]):i(e||new Error("Invalid related videos list"))})})}),r.on("playerstate.enter.autoplay",i),r.on("playerstate.leave.autoplay",function(){r.autoplayIndex+=1})})},function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=n(109),O=n(12),B=n(1),L=n(0),D=n(27),N=n(110),F=n(28),R=(i(n={},-1,"off"),i(n,0,"side"),i(n,1,"expand"),n),H=[];H[1]="vjs-flyout-center",H[0]="vjs-flyout-side";var V={viewportOffset:0,viewportGraceOffset:.75,animations:!0,easing:"easeOut",easingScale:"easeOut",animTime:400,animTimeWait:400,expandOnFirstPlay:Boolean(window.PageCriteria&&window.PageCriteria.flyoutExpandOnFirstPlay),switchoffOnEnd:!0},U=!1;videojs.plugin("flyout",function(e){var s=this,t=s.el(),a=t.parentNode,n=a.className,i=t.offsetHeight,r=-1,l=-1,o={"-1":function(e){I(a,d,e,-1,function(){a.className=n,B.removeClass(d,"vjs-flyout-on")}),s.on("playerstate.enter.adPlaying",C)},0:function(e){L.forEach(H,function(e){B.removeClass(d,e)}),L.forEach(u,function(e){B.removeClass(a,e)}),B.addClass(a,u[0]),B.addClass(d,"vjs-flyout-on"),B.addClass(d,H[0]),I(d,a,e,0),s.on("playerstate.enter.adPlaying",C)}},u=[];u[0]="vjs-span-one-col",u[1]="vjs-span-three-col";var c=F.overwriteAdOptions(L.extend({},V,e));s.addChild(new N(s)),s.flyoutState=function(){return r},s.flyoutStateName=function(){return R[r]};var d=F.createElBefore(n+" vjs-flyout-placeholder",a);d.style.backgroundImage="url("+s.poster()+")",d.innerHTML='<div class="vjs-flyout-placeholder-content"><span>.</span><span>.</span><span>.</span></div> <div class="vjs-has-started vjs-visually-ready vjs-controls-enabled vjs-default-skin video-js vjs-paused vjs-user-inactive"></div>';function p(){return h("Video playing bottom right","Click here to expand to full page")}var h=function(e,t){var n=d.querySelector(".vjs-flyout-placeholder-content");n&&(e=e+"<span>.</span><span>.</span><span>.</span>",t&&(e+='<div class="extraText">'+t+"</div>"),n.innerHTML=e)};d.addEventListener("click",function(){0===r&&s.trigger("flyout-expand")});var e=F.createElBefore("vjs-flyout-wrapper-absolute",a),f=F.createElBefore("vjs-flyout-wrapper-fixed",e);F.wrapElement(a,e),F.wrapElement(e,f);var v=F.getVerticalOffset(),m=0,y=null,g=!1,A=void 0;s.expandOnFirstPlay=c.expandOnFirstPlay;function b(){O.defer(P)}var w=L.debounce(function(){y=0,b()},400);B.addEventListener(window,"scroll",function(){var e=F.getVerticalOffset();y=e-v,v=e,0<y?m=0:m+=Math.abs(y)}),B.addEventListener(window,"resize",w),B.addEventListener(window,"scroll",b);function j(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}var T=void 0,E=L.throttle(function(){void 0!==T&&1===r&&100<Math.abs(T-j())&&s.trigger("flyout-minimize")},100);B.addEventListener(window,"scroll",E),s.on("dispose",function(){d.parentNode.removeChild(d),B.removeEventListener(window,"resize",w),B.removeEventListener(window,"scroll",b),B.removeEventListener(window,"scroll",E),setTimeout(function(){f.parentNode.removeChild(f)},100)}),s.on("flyout-minimize",function(){S(0),p(),s.flyoutExpanded=!1,B.removeClass(d,H[1]),B.addClass(d,H[0]),B.removeClass(a,u[1]),B.addClass(a,u[0]),s.trigger("videoAd.resize")}),s.on("flyout-expand",function(){S(1),h("Video playing inline"),s.flyoutExpanded=!0,B.removeClass(d,H[0]),B.addClass(d,H[1]),B.removeClass(a,u[0]),B.addClass(a,u[1]),s.trigger("videoAd.resize"),T=j()}),s.on("flyout-switchon",function(e){-1===r&&(s.expandOnFirstPlay=!1,p(),B.removeClass(a,"vjs-span-two-col"),r=0,_(e.animationOff),s.flyoutOn=!0)}),s.on("flyout-switchoff",function(e){-1!==r&&(r=-1,_(e.animationOff),s.flyoutOn=!1)}),s.on("flyout-close",function(){s.pause(),s.trigger({type:"flyout-switchoff",animationOff:!0})}),s.on("playerstate.enter.standby",function(){var e=c.viewportGraceOffset*i;c.switchoffOnEnd&&B.isElementInViewport(d,e)&&s.trigger("flyout-switchoff")}),s.expandOnFirstPlay&&s.ready(function(){s.preEventHook("play",function(e){return s.expandOnFirstPlay&&(n=a.className),!s.expandOnFirstPlay||s.isFullscreen()?(s.expandOnFirstPlay=!1,void e()):(s.expandOnFirstPlay=!1,U=!0,s.one("flyout-switch-done",function(){s.trigger("flyout-expand"),e()}),void s.trigger({type:"flyout-switchon",animationOff:!0}))},1)}),F.onDisableForceFlyout(function(){var e,t;s.forceFlyOutInProgress&&s.trigger("flyout-close"),e=s.options(),(t=e.plugins.flyout.forceFlyout||{}).enabled=!1,t.active=!1,e.plugins.flyout.forceFlyout=t}),w();var _=L.throttle(function(e){var t=o[r];l!==r&&t(e)},c.animTime+c.animTimeWait);function C(){s.trigger("videoAd.resize")}function S(e){l=r=e}function k(){return!D(s)&&B.hasClass(s.el(),"vjs-video-finished")&&!(s.options().plugins||{})["autoplay-next-video"]}function x(e,t){t=B.elementPositionInViewport(e,t);return"INSIDE"!==t&&0!==y&&("ABOVE"===t?0<=y:"INSIDE"!==t&&200<=m)}function P(){if(s.isFullscreen())g||(A=s.flyoutState(),s.trigger({type:"flyout-switchoff",animationOff:!0}),g=!0);else{if(g)return-1!==A&&s.trigger({type:"flyout-switchon",animationOff:!0}),1===A&&s.trigger("flyout-expand"),void(g=!1);var e=(-1===r?c.viewportOffset:c.viewportGraceOffset)*i;if(n=e,!(DM.molContentPlayer&&-100<DM.molContentPlayer.el().getBoundingClientRect().bottom)&&(!U&&!s.hasStarted()&&x(d,n)&&!s.options().isMobile)&&((t=s.options().plugins.flyout).forceFlyout&&(t.forceFlyout.active||t.forceFlyout.enabled)))return s.muted(!0),U=!0,s.forceFlyOutInProgress=!0,s.trigger("flyout-switchon"),s.one("flyout-switch-done",function(){s.play(!0)}),void s.one("flyout-switchoff",function(){s.forceFlyOutInProgress=!1});!k()&&s.paused()&&-1===r||(-1===r?k()||!x(d,e)||DM.molContentPlayer||s.trigger("flyout-switchon"):(t=d,e=e,(s.forceFlyOutInProgress&&DM.molContentPlayer&&100<DM.molContentPlayer.el().getBoundingClientRect().bottom||k()&&"INSIDE"===B.elementPositionInViewport(t,e))&&s.trigger("flyout-switchoff")))}var t,n}function I(e,t,n,i,r){function o(){r(),l=i,s.trigger("flyout-switch-done"),s.trigger("videoAd.resize"),s.trigger("resize")}L.isFunction(r)||(r=L.noop),c.animations&&!Boolean(n)?(M.hide(a),M.transform(e,t,{duration:c.animTime,easing:M[c.easing],easingScale:M[c.easingScale],overrideClone:function(e,t){if(0===t)return e.cloneNode()},appendToBody:!0,done:function(){B.removeClass(document.body,"ramjet"),M.show(a),o()}}),B.addClass(document.body,"ramjet")):o()}}),F.onDisableForceFlyout(function(){var t=window.DM&&window.DM.molFeComponents;t.getConfig&&t.getConfig("mol-fe-videoplayer").then(function(e){t.setConfig&&t.setConfig("mol-fe-videoplayer",L.extend(e,{plugins:{flyout:{forceFlyout:{enabled:!1}}}}))})})},function(e,t,n){e.exports=function(){"use strict";var A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=["length","parentRule"],d="undefined"!=typeof CSS2Properties?Object.keys(CSS2Properties.prototype):Object.keys(document.createElement("div").style).filter(function(e){return!~t.indexOf(e)}),p="http://www.w3.org/2000/svg",h=void 0;try{(h=document.createElementNS(p,"svg")).style.position="fixed",h.style.top=h.style.left="0",h.style.width=h.style.height="100%",h.style.overflow="visible",h.style.pointerEvents="none",h.setAttribute("class","mogrify-svg")}catch(e){console.log("The current browser doesn't support SVG")}var o=!1;function s(e,t,n,i){var r,o=e.namespaceURI===p,s=e.getBoundingClientRect(),a=s.left,l=s.right,u=s.top,c=s.bottom,s=window.getComputedStyle(e),n=function e(t,n,i){var r=i?i(t,n):t.cloneNode();if(void 0!==r){var o,s,a,l=void 0;if(1===t.nodeType)for(o=window.getComputedStyle(t),d.forEach(function(e){r.style[e]=o[e]}),s=t.childNodes.length,l=0;l<s;l+=1)(a=e(t.childNodes[l],n+1,i))&&r.appendChild(a);return r}}(e,0,n),c={node:e,clone:n,isSvg:o,cx:(a+l)/2,cy:(u+c)/2,width:l-a,height:c-u,transform:null,borderRadius:null};return o?(o=e.getScreenCTM(),c.transform="matrix("+[o.a,o.b,o.c,o.d,o.e,o.f].join(",")+")",c.borderRadius=[0,0,0,0],h.appendChild(n)):(t?(n.style.position="fixed",n.style.top=u-parseInt(s.marginTop,10)+"px",n.style.left=a-parseInt(s.marginLeft,10)+"px"):null===(t=e.offsetParent)||t===document.body||i?(r=document.documentElement,n.style.position="absolute",n.style.top=u+window.pageYOffset-r.clientTop-parseInt(s.marginTop,10)+"px",n.style.left=a+window.pageXOffset-r.clientLeft-parseInt(s.marginLeft,10)+"px"):(r=window.getComputedStyle(t),t=t.getBoundingClientRect(),n.style.position="absolute",n.style.top=u-parseInt(s.marginTop,10)-(t.top-parseInt(r.marginTop,10))+"px",n.style.left=a-parseInt(s.marginLeft,10)-(t.left-parseInt(r.marginLeft,10))+"px"),c.transform="",c.borderRadius=[parseFloat(s.borderTopLeftRadius),parseFloat(s.borderTopRightRadius),parseFloat(s.borderBottomRightRadius),parseFloat(s.borderBottomLeftRadius)],(i?document.body:e.parentNode).appendChild(n)),c}function i(e){e.__ramjetOriginalTransition__=e.style.transition,e.style.transition="",e.style.opacity=0}function r(e){e.style.transition="",e.style.opacity=1,e.__ramjetOriginalTransition__&&setTimeout(function(){e.style.transition=e.__ramjetOriginalTransition__})}function b(e,t,n,i,r,o,s,a,l){return e?"translate("+t+" "+n+") scale("+(1+l*o)+" "+(1+l*s)+") translate("+-t+" "+-n+") translate("+a*i+" "+a*r+")":"translate("+a*i+"px,"+a*r+"px) scale("+(1+l*o)+","+(1+l*s)+")"}function w(e,n,t,i,r){var o=1+r*t,s=1+r*i;return e.map(function(e,t){t=n[t];return(e+r*(t-e))/o+"px "+(e+r*(t-e))/s+"px"})}function j(e){return e}function T(s,a,l){A(this,T);var u=a.cx-s.cx,c=a.cy-s.cy,d=a.width/s.width-1,p=a.height/s.height-1,h=s.width/a.width-1,f=s.height/a.height-1,v=Date.now(),m=l.duration||400,y=l.easing||j,g=l.easingScale||y;!function e(){var t=Date.now()-v;if(m<t)return s.clone.parentNode.removeChild(s.clone),a.clone.parentNode.removeChild(a.clone),void(l.done&&l.done());var n=y(t/m),i=g(t/m);s.clone.style.opacity=1-n,a.clone.style.opacity=n;var r=w(s.borderRadius,a.borderRadius,d,p,n),o=w(a.borderRadius,s.borderRadius,h,f,1-n);_(s.clone,r),_(a.clone,o);t=s.cx+u*n,r=s.cy+c*n,o=b(s.isSvg,t,r,u,c,d,p,n,i)+" "+s.transform,i=b(a.isSvg,t,r,-u,-c,h,f,1-n,1-i)+" "+a.transform;s.isSvg?s.clone.setAttribute("transform",o):s.clone.style.transform=s.clone.style.webkitTransform=s.clone.style.msTransform=o,a.isSvg?a.clone.setAttribute("transform",i):a.clone.style.transform=a.clone.style.webkitTransform=a.clone.style.msTransform=i,E(e)}()}var E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)};function _(e,t){e.style.borderTopLeftRadius=t[0],e.style.borderTopRightRadius=t[1],e.style.borderBottomRightRadius=t[2],e.style.borderBottomLeftRadius=t[3]}var e=document.createElement("div"),a=!0,g=void 0,f=void 0,v=void 0,m=void 0,y=void 0,C=void 0,S=void 0,k=void 0;(window.ActiveXObject||!("ActiveXObject"in window))&&("transform"in e.style||"webkitTransform"in e.style)&&("animation"in e.style||"webkitAnimation"in e.style)?(a=!0,g="transform"in e.style?"transform":"-webkit-transform",k="animation"in e.style?(f="@keyframes",v="animationDirection",m="animationDuration",y="animationIterationCount",C="animationName",S="animationTimingFunction","animationend"):(f="@-webkit-keyframes",v="webkitAnimationDirection",m="webkitAnimationDuration",y="webkitAnimationIterationCount",C="webkitAnimationName",S="webkitAnimationTimingFunction","webkitAnimationEnd")):a=!1;function x(e,t,o){A(this,x);var n=(s=function(l,u){var e,c=u.cx-l.cx,d=u.cy-l.cy,p=u.width/l.width-1,h=u.height/l.height-1,f=l.width/u.width-1,v=l.height/u.height-1,t=o.easing||j,n=o.easingScale||t,i=o.duration/50,m=[],y=[];function r(e,t,n){var i=l.cx+c*t,r=l.cy+d*t,o=w(l.borderRadius,u.borderRadius,p,h,t),s=w(u.borderRadius,l.borderRadius,f,v,1-t),a=b(!1,i,r,c,d,p,h,t,n)+" "+l.transform,n=b(!1,i,r,-c,-d,f,v,1-t,1-n)+" "+u.transform;m.push("\n\t\t\t"+e+"% {\n\t\t\t\topacity: "+(1-t)+";\n\t\t\t\tborder-top-left-radius: "+o[0]+";\n\t\t\t\tborder-top-right-radius: "+o[1]+";\n\t\t\t\tborder-bottom-right-radius: "+o[2]+";\n\t\t\t\tborder-bottom-left-radius: "+o[3]+";\n\t\t\t\t"+g+": "+a+";\n\t\t\t}"),y.push("\n\t\t\t"+e+"% {\n\t\t\t\topacity: "+t+";\n\t\t\t\tborder-top-left-radius: "+s[0]+";\n\t\t\t\tborder-top-right-radius: "+s[1]+";\n\t\t\t\tborder-bottom-right-radius: "+s[2]+";\n\t\t\t\tborder-bottom-left-radius: "+s[3]+";\n\t\t\t\t"+g+": "+n+";\n\t\t\t}")}for(e=0;e<i;e+=1)r(e/i*100,t(e/i),n(e/i));return r(100,1,1),m=m.join("\n"),y=y.join("\n"),{fromKeyframes:m,toKeyframes:y}}(e,t)).fromKeyframes,i=s.toKeyframes,r="_"+~~(1e6*Math.random()),s="_"+~~(1e6*Math.random()),a=function(e){var t=document.createElement("style");t.type="text/css";var n=document.getElementsByTagName("head")[0],i=t.styleSheet;return i?i.cssText=e:t.innerHTML=e,n.appendChild(t),function(){return n.removeChild(t)}}(f+" "+r+" { "+n+" } "+f+" "+s+" { "+i+" }");e.clone.style[v]="alternate",e.clone.style[m]=o.duration/1e3+"s",e.clone.style[y]=1,e.clone.style[C]=r,e.clone.style[S]="linear",t.clone.style[v]="alternate",t.clone.style[m]=o.duration/1e3+"s",t.clone.style[y]=1,t.clone.style[C]=s,t.clone.style[S]="linear";var l=void 0,u=void 0;function c(){l&&u&&(e.clone.parentNode.removeChild(e.clone),t.clone.parentNode.removeChild(t.clone),o.done&&o.done(),a())}e.clone.addEventListener(k,function(){l=!0,c()}),t.clone.addEventListener(k,function(){u=!0,c()})}return{transform:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];"duration"in(n="function"==typeof n?{done:n}:n)||(n.duration=400);var i=!!n.appendToBody,r=function(e){for(;null!==e;){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.namespaceURI===p?e.parentNode:e.offsetParent}return!1}(t),e=s(e,r,n.overrideClone,i),i=s(t,r,n.overrideClone,i);return(e.isSvg||i.isSvg&&!o)&&(document.body.appendChild(h),o=!0),new(!a||n.useTimer||e.isSvg||i.isSvg?T:x)(e,i,n)},hide:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(i)},show:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(r)},linear:j,easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}}}()},function(e,t,n){var r=n(111),o=n(112),s=n(113),i=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e);var n=new r(e,t),i=new o(e,t),t=new s(e,t);this.addChild(n),this.addChild(i),this.addChild(t)}});i.className="vjs-flyout-control",i.prototype.createEl=function(){return videojs.createEl("div",{className:i.className})},e.exports=i},function(e,t){var n=videojs.Button.extend({});n.prototype.createEl=function(){return videojs.createEl("span",{className:"vjs-flyout-minimize vjs-flyout-button",innerHTML:"Minimize"})},n.prototype.onClick=function(){this.player().trigger("flyout-minimize")},e.exports=n},function(e,t){var n=videojs.Button.extend({});n.prototype.createEl=function(){return videojs.createEl("span",{className:"vjs-flyout-expand vjs-flyout-button",innerHTML:"Expand"})},n.prototype.onClick=function(){this.player().trigger("flyout-expand")},e.exports=n},function(e,t){var n=videojs.Button.extend({});n.prototype.createEl=function(){return videojs.createEl("span",{className:"vjs-flyout-close vjs-flyout-button",innerHTML:"Close"})},n.prototype.onClick=function(){this.player().trigger("flyout-close")},e.exports=n},function(e,t,n){"use strict";n.r(t);var u=n(6),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},d=n(0),p=n(115);videojs.plugin("playlist",function(e){var i=this,t=d.extend({},e),r=new u.a(t.videos),n=void 0,o=e.cycle;function s(n){r.get(function(e,t){e&&i.trigger({type:"warning",message:"plugin.playlist: "+e.message}),n(t||[])})}function a(t){var n=i.playlistCounter;s(function(e){if(n>=e.length-1){if(!o)return;n=0}else n++;t(n)})}function l(t){s(function(e){e=e[t];e&&(i.playlistCounter=t,i.trigger({type:"playlist-play",index:t}),i.trigger({type:"request-reset",video:c({},e),autoplay:!0}))})}this.playlistCounter=0,i.previous=function(){var t=l,n=i.playlistCounter;s(function(e){if(n<=0){if(!o)return;n=e.length-1}else n--;t(n)})},i.next=function(){a(l)},i.gotoVideo=function(e){l(e)},i.on("playerstate.enter.ended",function(){n&&n.hide(),setTimeout(i.next,10)}),i.on("mol.playlist.next",i.next),i.on("playerstate.progress.enter.50",function(){n&&n.show()}),i.on("playerstate.enter.started",function(){n&&(i.removeChild(n),n.dispose(),n=void 0,i.nextVideo=void 0),s(function(t){a(function(e){e=t[e];e&&((n=i.addChild(new p(i,{video:e}))).hide(),i.nextVideo=e)})})})})},function(e,t,n){var i=n(116),n=i.extend({init:function(e,t){i.call(this,e,t),e.on("playerstate.enter.contentPlaying",this.updateClamp)}});n.prototype.show=function(){videojs.Button.prototype.show.call(this),this.trigger("show")},n.prototype.createEl=function(){var e=this.options().video,t=e.thumbnail||e.poster;return videojs.createEl("div",{className:"vjs-playlist-container",innerHTML:'<div class="vjs-playlist-close-button" role="button" aria-live="polite" tabindex="-1"></div><h3>Up next</h3><div class="vjs-playlist-wrapper"><img src="'+t+'" /></div><div class="vjs-playlist-caption"><h4>'+e.title+"</h4></div>"})},n.prototype.onClick=function(e){var t=this.player();"vjs-playlist-close-button"===e.target.className?this.hide():t.trigger("mol.playlist.next")},e.exports=n},function(e,t,n){var i=n(29),n=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t);var n=this.el();this.updateClamp=function(){i(n.getElementsByTagName("h4"))},e.on("resize",this.updateClamp),this.on("show",this.updateClamp),this.on("dispose",function(){e.off("resize",this.updateClamp)})}});e.exports=n},function(e,t,n){var c=n(1);videojs.plugin("post-content",function(l){var u=this;u.options().isMobile||function(){var e,t=document.getElementById(l.id),n=void 0,i=void 0,r=void 0,o=!1;if(t&&(n=t.parentNode),t&&l.id&&n){i=document.querySelector("#"+l.id+" form"),(r=document.createElement("p")).setAttribute("id","video-poll-feedback"),r.className="poll-question poll-question-feedback",r.innerHTML="Thanks for the feedback";for(var s=(e=n.getElementsByTagName(l.onCloseTriggerTag)).length,a=0;a<s;a++)0===a&&c.addClass(e[a],"answer-label-first"),c.addEventListener(e[a],"click",function(){o=!0,c.addClass(i,"vjs-hidden"),c.prependChild(t,r),setTimeout(function(){c.removeClass(n,"vjs-shown"),t.removeChild(r),c.removeClass(i,"vjs-hidden")},3e3)});u.on("ended",function(){o||setTimeout(function(){i.removeAttribute("style"),c.addClass(n,"vjs-shown")},500)}),u.on("destroyed",function(){c.removeClass(n,"vjs-shown")})}}()})},function(e,t,n){"use strict";n.r(t);var p=n(6),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f=n(0),v=n(27),m=n(26),y=n(119),g=n(123),A=n(125);videojs.plugin("related-videos",function(e){var s=this,a=h({playlistHistory:!0},e),t=new p.a(a.videos),l=new A(s,a),n=s.controlBar.getChild("molPreviousVideoButton"),e=s.controlBar.getChild("molSkipVideoButton"),i=void 0;function r(){i&&(i.dispose(),s.removeChild(i),i=null)}function o(){v(s)||d(function(e,t){e||(0<t.length?c(t[0]):s.currentTime(s.duration()))})}function u(){v(s)||(s.currentTime()<=3&&!l.isEmpty()?c(l.last()):s.currentTime(0))}function c(e){s.resetVideo({video:h({},e,{initialVideo:!1,playlistClickToPlay:!0}),autoplay:!0})}function d(o){t.get(function(e,t){e&&console.log("plugin.related-videos Error: "+e.message),t&&0!==t.length||(console.log("plugin.related-videos Warning: No related videos"),t=[]);var n=m.getMap(),i=[],r=[];t.forEach(function(e){(l.contains(e)||a.playlistHistory&&n[e.videoId]||e.videoId===s.options().videoId?i:r).push(e)}),r.length<15?o(e,r.concat(l.splice(0,15-r.length))):o(e,r)},{currentVideoId:s.options().videoId,previouslyPlayed:Object.keys(m.getMap())})}n&&n.enable(),e&&e.enable(),s.fetchRelatedVideos=d,s.relatedVideos=t,s.disableControlsListeners=function(){s.off("mol.play.next.video",o),s.off("mol.play.previous.video",u)},s.on("playerstate.enter.pauseStandby",function(){r(),d(function(e,t){"pauseStandby"===s.playerState.getStateName()&&(i=new y(s,{videos:t}),s.addChild(i))})}),s.on("playerstate.leave.pauseStandby",r),s.on("playerstate.enter.standby",function(){r(),d(function(e,t){"standby"===s.playerState.getStateName()&&(i=new g(s,{videos:t}),s.addChild(i))})}),s.on("playerstate.leave.standby",r),s.on("mol.play.next.video",o),s.on("mol.play.previous.video",u),s.on("reset",function(){t=new p.a(s.options().plugins["related-videos"].videos),s.relatedVideos=t}),s.on("request-reset",function(e){var t=e&&e.video||{},e=f.extend({src:s.src(),poster:s.poster()},s.options());l.contains(t)?l.filterOut(t):l.add(e)}),s.trigger("related-videos-ready")})},function(e,t,n){var r=n(15),o=n(16),s=n(120),a=n(121),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new r(e),i=new o(e);n.addChild(i),i.addChild(new s(e)),i.addChild(new a(e,{videos:t.videos})),this.addChild(n)}});n.prototype.createEl=function(){var e=this.player().options().poster,t={className:"mol-related-videos-view-paused"};return e&&(t.innerHTML='<div class="mol-related-videos-view-paused-backdrop" style="background-image: url(\''+e+"');\"></div>"),videojs.createEl("div",t)},e.exports=n},function(e,t,n){var i=n(2).FacebookButton,r=n(2).TwitterButton,o=n(2).PinterestButton,s=n(2).MailButton,a=n(23),l=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new i(e)),this.addChild(new r(e)),this.addChild(new o(e)),this.addChild(new s(e)),this.addChild(new a(e))}});l.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel-social-list"})};n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new l(e))}});n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel mol-related-videos-panel-social",innerHTML:'<span class="panel-title">Share this</span>'})},e.exports=n},function(e,t,n){var i=n(30),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new i(e,{videos:t.videos.slice(0,6)}))}});n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel mol-related-videos-panel-paused",innerHTML:'<span class="panel-title">More videos</span>'})},e.exports=n},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=n(29),o=n(0),n=videojs.Button.extend({init:function(e,t){videojs.Button.call(this,e,t);function n(){r(i.querySelector("h4"))}var i=this.el();e.on("resize",n),setTimeout(function(){n()},10)}});n.prototype.createEl=function(){var e=this.options().video,t=e.thumbnail||e.poster;return videojs.createEl("div",{className:"mol-related-videos-video",innerHTML:'<div class="video-thumbnail"><img src="'+t+'" /></div><div class="video-caption"><div class="aux-stadiometer"><h4>'+e.title+"</h4></div></div>"})},n.prototype.onClick=o.debounce(function(){var e=this.options().video;this.player().trigger({type:"request-reset",video:i({},e,{unmute:!0,playlistClickToPlay:!0}),autoplay:!0})},50),e.exports=n,t["video.js"]=videojs},function(e,t,n){var r=n(15),o=n(16),s=n(124),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=new r(e),i=new o(e);n.addChild(i),i.addChild(new s(e,{videos:t.videos})),this.addChild(n)}});n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-view-ended"})},e.exports=n},function(e,t,n){var i=n(30),n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t),this.addChild(new i(e,{videos:t.videos.slice(0,13)}))}});n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-related-videos-panel mol-related-videos-panel-ended"})},e.exports=n},function(e,t,n){var i=n(0);function r(e,t){t=i.extend({},t);this._playlistHistory=[],this._player=e,this._updatePlayerState(),this._maxHistorySize=t.maxHistorySize||0}r.prototype.add=function(e){this._playlistHistory.push(e),0!==this._maxHistorySize&&this._playlistHistory.length>this._maxHistorySize&&this._playlistHistory.shift(),this._updatePlayerState()},r.prototype.pop=function(){var e=this._playlistHistory.pop();return this._updatePlayerState(),e},r.prototype.last=function(){return this._playlistHistory[this._playlistHistory.length-1]},r.prototype.splice=function(e,t){return this._playlistHistory.splice(e,t)},r.prototype.isEmpty=function(){return Boolean(!this._playlistHistory.length)},r.prototype.contains=function(t){return this._playlistHistory.some(function(e){e=e.referenceId;return!!t.referenceId&&e===t.referenceId})},r.prototype.filterOut=function(t){this._playlistHistory=this._playlistHistory.filter(function(e){e=e.referenceId;return!!t.referenceId&&e!==t.referenceId}),this._updatePlayerState()},r.prototype._updatePlayerState=function(){this._player.el().classList.toggle("mol-empty-playlist",this.isEmpty())},e.exports=r},function(e,t,n){var r=n(12);videojs.plugin("reset",function(){var i=this;i.on("request-reset",function(e){var t=e.video,n=e.autoplay;r.defer(function(){i.trigger({type:"reset-sources",video:t,autoplay:n})})}),i.on("reset-sources",function(e){var t=e.video,n=e.autoplay;t.src?(i.playingRecommendedVideo=!0,i.autoplay(!1),i.pause(),i.src(t.src),i.poster(t.poster),i.playlistClickToPlay=Boolean(t.playlistClickToPlay),i.options((delete(e=t||{}).isMobile,e)),t.unmute&&i.muted(!1),t.plugins&&t.plugins.tracking&&!t.plugins.tracking.dmtvEpisode&&(i.options().plugins.tracking.dmtvEpisode=null),r.defer(function(){i.trigger("reset")}),i.on("reset",function(){n&&!i.autoClosedSticky&&r.defer(function(){i.play()})})):console.log("reset-resources request ignored. The passed video has no sources",t)}),i.resetVideo=function(e){i.trigger({type:"request-reset",video:e.video,autoplay:e.autoplay})}})},function(e,t,n){"use strict";n.r(t);var w=n(5),j=n(7),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},E=n(0),_=n(25),C=n(3),t=n(28),S=n(10),k=n(128),x=n(129);t.onDisableForceFlyout(function(){w.pageEvents.publish(w.pageEvents.VIDEO_CONFIG_CHANGE,{value:{autoFlyAway:!1}})});var P={"vjs-span-one-col":"one-col","vjs-span-two-col":"two-col","vjs-span-three-col":"three-col"};videojs.plugin("tracking",function(o){var s=this,t=w.pageEvents,e=!1;try{s.options().plugins.tracking.disableMolTracking&&(e=!0)}catch(s){o.disableMolTracking&&(e=!0)}var t=e?{publish:function(){}}:w.pageEvents,a=s.id()+"video",l=void 0,u=void 0,c=!1,n=!1,i=!1,r=void 0,e=C.queryStringToObj(window.location.search),e=E.isDefined(e.debugNielsenVideoDCR)&&"true"===e.debugNielsenVideoDCR;function d(){return Boolean(s.options().isStreaming)}function p(e,t){var n="ad"===e,i=n?u:d(),r=n&&u;try{l=s.options().plugins.tracking}catch(e){l=o}e=l.title||s.options().title,i={autoplay:S(s),animatedPreviewEnabled:Boolean(s.options().animatedPreviewEnabled),dmtvEpisode:l.dmtvEpisode||null,currentSrc:s.currentSrc(),currentType:s.currentType(),length:i?-1:1e3*s.duration(),version:_.getVideoPlayerVersion(),pageMetadata:Object(j.getPageMetadata)(),videoId:s.options().videoId,title:e,img:s.poster(),displayName:e,playerId:function(){var e=s.options();if(e["fbia-embed"])return"fbiaembedded";if("fbia"===e.syndicationService)return"fbiaembedded";if("gamp"===e.syndicationService)return"gampembedded";if(e.isEmbedded)return"thirdpartyembedded";if(e.isMobile)return"mobile";if(document.querySelectorAll(".ez-modal-on").length||void 0!==s.tagAttributes["data-is-lightbox-video"])return"carousel";var t=(s.el().parentNode.className||"").match(/(vjs-span-)([^ ]+)*/);if(!t)return"responsive";e="article-"+(P[t[0]]||"default"),t=s.flyoutStateName&&s.flyoutStateName();return t&&"off"!==t&&(e+="-flyout-"+t),e}()+(s.isPlayingAdhesive?" article-sticky":""),experienceId:a,sponsored:l.sponsored,playerType:s.techName.toUpperCase(),playlist:"playlistCounter"in s,continuePlayList:"playlistCounter"in s&&0<s.playlistCounter||"autoplayIndex"in s&&0<s.autoplayIndex,trackingType:(n=l,(e=s).autoplayInline?"autoplayInlineVideoPlayer":e.flyoutOn?e.forceFlyOutInProgress?e.flyoutExpanded?"flyout_expanded_automatic_v2":"flyout_collapsed_automatic_v2":e.flyoutExpanded?"flyout_expanded_user_v2":"flyout_collapsed_user_v2":n.trackingType),channelShortName:l.channelShortName,initialVideo:Boolean(s.options().initialVideo),referenceId:l.referenceId,videoChannel:l.videoChannel||l.channelShortName,offset:r?0:s.currentTime(),duration:i?0:s.duration(),fullscreen:s.isFullscreen(),paused:s.paused(),muted:s.muted(),adSDK:s.adSDK,adBlockStatus:k(),isPlayingAdhesive:s.isPlayingAdhesive};return s.options()["fbia-embed"]?i.ito="FBIA":s.options().syndicationService&&(i.ito=s.options().syndicationService.toUpperCase()),s.playingRecommendedVideo?l.recommendationModel&&(i.recommendationModel=l.recommendationModel):i.recommendationModel=s.tagAttributes["data-recommendation-model"],t&&(i.errorMessage=t.message,t.code&&(i.adErrorCode=t.code||t.errorCode)),c&&(i.program="DailyMail '"+l.channelShortName+"' Videos",i.isfullepisode="n",i.hasAds=s.adsEnabled?1:0,i.adloadtype=1,i.subbrand=x.getSubbrand(i.videoChannel)),i}function h(e){return E.extend({},e,p())}r=window._nolggGlobalParams,(r=e?{apid:"T1E713557-917A-4B7A-98A0-45AB34B64C08",apn:"dailymail au",sfcode:"dcr-cert"}:r)&&r.apid&&r.apn&&(c=!0,x.initInstance(s,r).then(function(e){e||(c=!1)})),s.ready(function(){t.publish(t.VIDEO_PLAYER_READY,{playerType:s.techName.toUpperCase(),experienceId:a})});var f,v=!1,m=!1,y=!1;function g(e){v||(v=!0,t.publish(t.VIDEO_STREAM_STARTED,p(e)))}function A(e){y||(y=!0,t.publish(t.VIDEO_STREAM_FAILED,p("",e)))}function b(e){t.publish(t.VIDEO_ADVERT_FAILED,T({},p("ad",e.error),{adTag:e.adTag})),setTimeout(function(){m||A(new Error("Stream failed possibly due to an ad error"))},5e3)}s.on("videoAd.error",b),s.on("vast.adError",b),s.on("error",function(){var e=s.el().querySelector(".vjs-tech"),e=e&&e.error;e&&A(e)}),s.on("playerstate.enter.started",function(){t.publish(t.VIDEO_DATA_READY,p()),y=m=v=!1}),s.on("playerstate.enter.adEnded",function(){c&&(n=!1,x.prerollEnded(p("ad"),s)),t.publish(t.VIDEO_ADVERT_COMPLETED,p("ad"))}),s.on("playerstate.enter.contentReady",function(){g(),c&&!i&&(i=!0,x.videoStart(p(),s,d()),x.setPlayhead(s,d())),m||(m=!0,t.publish(t.VIDEO_CONTENT_STARTED,p()))}),s.on("playerstate.enter.contentPlaying",function(){c&&!i&&(i=!0,x.videoStart(p(),s,d()),x.setPlayhead(s,d()))}),s.on("playerstate.enter.adPlaying",function(){try{u="VPAID"===s.adUnit.type}catch(e){u=!0,console.log("player.adUnit is unexpectedly null")}g("ad"),c&&!n&&(x.videoStart(p(),s,d()),n=!0,x.preroll(p("ad"),s,u),x.setPlayhead(s,d())),t.publish(t.VIDEO_ADVERT_STARTED,p("ad"))}),s.on("playerstate.leave.pauseStandby",function(){t.publish(t.VIDEO_RESUMED,p())}),s.on("playerstate.enter.pauseStandby",function(){t.publish(t.VIDEO_PAUSED,p())}),s.on("playerstate.leave.seeking",function(){t.publish(t.VIDEO_RESUMED,p())}),s.on("playerstate.enter.seeking",function(){t.publish(t.VIDEO_PAUSED,p())}),s.one("fullscreenchange",function e(){s.hasStarted()&&t.publish(t.VIDEO_EXTRA,p()),setTimeout(function(){s.one("fullscreenchange",e)},200)}),s.on("volumechange",function(){s.hasStarted()&&t.publish(t.VIDEO_EXTRA,p())}),s.on("playerstate.enter.ended",function(){var e=p();0!==e.offset&&0!==e.duration&&(t.publish(t.VIDEO_CONTENT_COMPLETED,e),c&&(i=!1,x.end(e,s)))}),s.on("playerstate.enter.adAborted",function(){t.publish(t.VIDEO_ADVERT_ABORTED,p("ad"))}),s.on("playerstate.enter.destroyedDuringAds",function(){var e=p("ad");t.publish(t.VIDEO_ADVERT_ABORTED,e),x.videoReset(e,s),i=n=!1}),s.on("playerstate.enter.aborting",function(){var e=p();t.publish(t.VIDEO_CONTENT_ABORTED,e),x.videoReset(e,s),i=n=!1}),s.on("playerstate.enter.destroyed",function(){t.publish(t.VIDEO_CONTENT_ABORTED,p())}),s.on("playerstate.progress.enter.0",function(){var e;d()||((e={begin:0,end:.25,data:{segmentNum:1,segment:"M:0-25",ratio:0}}).data.segmentLength=(e.end-e.begin)*s.duration(),t.publish(t.VIDEO_PROGRESS,h(e.data)))}),s.on("playerstate.progress.enter.25",function(){var e;d()||((e={begin:.25,end:.5,data:{segmentNum:2,segment:"M:25-50",ratio:.25}}).data.segmentLength=(e.end-e.begin)*s.duration(),t.publish(t.VIDEO_PROGRESS,h(e.data)))}),s.on("playerstate.progress.enter.50",function(){var e;d()||((e={begin:.5,end:1,data:{segmentNum:3,segment:"M:50-100",ratio:.5}}).data.segmentLength=(e.end-e.begin)*s.duration(),t.publish(t.VIDEO_PROGRESS,h(e.data)))}),s.on("brandedContentPlayer.progress",function(){t.publish(t.VIDEO_BRANDED_CONTENT_PROGRESS,p())}),c&&(f=0,s.on("timeupdate",function(){var e=Date.now();1e3<=e-f&&(x.setPlayhead(s,d()),f=e)}))})},function(e,t){var n="UNKNOWN";Array.isArray(window.adBlockQueue)&&window.adBlockQueue.push(function(e){n=e?"ON":"OFF"}),e.exports=function(){return n}},function(e,t){var i=void 0,r={},s={};function a(e){return Promise.resolve(r[e.id()])}function n(t,n){return a(n).then(function(e){return e?(e.ggPM("stop",Math.ceil(t.offset)),void(s[n.id()]=null)):null})}e.exports={end:function(t,n){return a(n).then(function(e){return e?(e.ggPM("end",Math.ceil(t.offset)),void(s[n.id()]=null)):null})},initInstance:function(e,n){e=e.id();return r[e]=(i=i||new Promise(function(e,t){var n,i;window.NOLCMB?e():(n=document.getElementsByTagName("script")[0],(i=document.createElement("script")).type="text/javascript",i.async=!0,i.onload=e,i.onerror=t,i.src="http://cdn-gl.imrworldwide.com/novms/js/2/ggcmb510.js",n.parentNode.insertBefore(i,n))})).then(function(){return window.NOLCMB}).then(function(e){var t={sfcode:n.sfcode||"dcr",apid:n.apid,apn:n.apn,nsdkv:"511"},e=e.getInstance(t.apid);return e.ggInitialize(t),e}).catch(function(){return console.error("Failed to instance Nielsen DCR Video Tracking"),null}),r[e]},preroll:function(n,i,r){return a(i).then(function(e){if(!e)return null;var t={type:"preroll",assetid:n.experienceId+(r?"-vpaid":"")};e.ggPM("loadMetadata",t),s[i.id()]="preroll"})},prerollEnded:n,videoReset:n,setPlayhead:function(n,i){return a(n).then(function(e){return e?void(s[n.id()]&&(t=i?Math.floor(Date.now()/1e3):Math.round(n.currentTime()),e.ggPM("setPlayheadPosition",t))):null;var t})},videoStart:function(e,t,n){return i=e,o=n,a(r=t).then(function(e){return e?void(s[r.id()]&&"video"===s[r.id()]||(t={type:"content",dataSrc:"cms",assetid:i.videoId,section:window._nolggGlobalParams&&window._nolggGlobalParams.section,title:i.title,length:o?86400:Math.floor(i.duration),program:i.program,isfullepisode:i.isfullepisode,hasAds:i.hasAds,adloadtype:i.adloadtype,subbrand:i.subbrand},e.ggPM("loadMetadata",t),s[r.id()]="video")):null;var t});var i,r,o},getSubbrand:function(e){return"string"!=typeof e?"":/femail/gi.test(e)?"c01":/health/gi.test(e)?"c02":/home/gi.test(e)?"c03":/news/gi.test(e)?"c04":/science/gi.test(e)?"c05":/sport/gi.test(e)?"c06":/showbiz/gi.test(e)?"c07":/travel/gi.test(e)?"c08":"b01"}}},function(e,t){videojs.plugin("video-starts",function(){var e=this;e.videoStarts=1,e.on("request-reset",function(){e.videoStarts++})})},function(e,t,n){var c=n(132),d=n(0);videojs.plugin("animated-preview",function(l){var u;window.location.search&&window.location.search.match(/disableVideoPreview=1/i)||(u=this).ready(function(){for(var e=u.posterImage.el_,t=Object.keys(l),n=u.controlBar.getChild("molPreviousVideoButton"),i=u.controlBar.getChild("molSkipVideoButton"),r=0,o=t.length;r<o;r++){var s=t[r];e.setAttribute(s,l[s])}var a=c.addElements(e);u.el().classList.add("mol-fe-animated-preview"),u.options().animatedPreviewEnabled=!0,n&&n.disable(),i&&i.disable(),u.one("playerstate.enter.contentPlaying",function(){n&&n.enable(),i&&i.enable()}),d.once(u,["play"],function(){a._deRegisterMainElement()})})})},function(e,t,n){"use strict";var i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=n(9),s=o.onOrientationChange,a=o.onScroll,l=o.onDocumentLoad,u=o.isMobile,c=o.isTablet,d=n(140),p=n(141),h=(i(f,[{key:"cleanUp",value:function(){this.removeAll(),this.pool=[]}},{key:"removeAll",value:function(){this.pool.forEach(function(e){e._deRegisterMainElement()})}},{key:"addElements",value:function(e){var i=this;if(e){var t=e.constructor===Array,e=(e=!t?[e]:e).reduce(function(e,t){var n=void 0;try{c()?t.getAttribute("data-hd-film")&&(n=new p(t,"hd")):u()?t.getAttribute("data-film")&&(n=new p(t)):t.getAttribute("data-video")||"video"===t.tagName.toLowerCase()?n=new d(t):t.getAttribute("data-hd-film")?n=new p(t,"hd"):t.getAttribute("data-film")&&(n=new p(t)),n&&(i.synchVideoPreviewAttrs(n),n.synch(),e.push(n))}catch(e){console.error(e)}return e},[]);return this.pool.push.apply(this.pool,e),t?e:e[0]}}},{key:"addParent",value:function(e){e&&-1===this.parents.indexOf(e)&&this.parents.push(e)}},{key:"synchAll",value:function(){this.pool.forEach(function(e){return e.synch()})}},{key:"synchResizeAll",value:function(){this.pool.forEach(function(e){return e.synchResize()})}},{key:"enableListeners",value:function(){this.orientationChangeListener=s(this.synchResizeAll.bind(this)),this.scrollListener=a(this.parents,this.synchAll.bind(this),50)}},{key:"disableListeners",value:function(){this.orientationChangeListener&&this.orientationChangeListener.stop(),this.scrollListener&&this.scrollListener.stop()}},{key:"synchVideoPreviewAttrs",value:function(e){e.showOriginalOnPause=this._showOriginalOnPause}},{key:"showOriginalOnPause",set:function(e){this._showOriginalOnPause=!!e,this.pool.forEach(this.synchVideoPreviewAttrs.bind(this))},get:function(){return this._showOriginalOnPause}}]),new f);function f(){!function(e){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.initOnDocumentLoad=!0,this.pool=[],this.parents=[window],this._showOriginalOnPause=!1}l(function(){u()&&(h.showOriginalOnPause=!0,h.addParent(document.querySelector(".scrollable-content"))),h.initOnDocumentLoad&&h.enableListeners()}),e.exports=h},function(e,t,n){"use strict";var s=n(31),a=n(134);e.exports=function(e){function t(){o.isRemoved||(o.remove(),e())}s({cb:e,throwError:!0});var n,i=["DOMContentLoaded",t],r=["load",t],o=a(function(){var e;(e=document).removeEventListener.apply(e,i),(e=window).removeEventListener.apply(e,r)});return(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():((n=document).addEventListener.apply(n,i),(n=window).addEventListener.apply(n,r)),o}},function(e,t,n){"use strict";var i=n(31);e.exports=function(e){return i({cb:e,throwError:!0}),{isRemoved:!1,remove:function(){this.isRemoved=!0,e()}}}},function(e,t,n){"use strict";e.exports=function(e){var t=window.innerHeight,n=window.innerWidth,i=Math.max(e.clientHeight,e.clientHeight-t)>>1,r=Math.max(e.clientWidth,e.clientWidth-n)>>1,e=e.getBoundingClientRect(),n=e.left>-r&&e.right<n+r||e.left<0&&e.right>n,t=e.top>-i&&e.bottom<t+i||e.top<0&&e.bottom>t;return n&&t}},function(e,t,n){"use strict";var r=n(137),i=n(138);function o(e){return{stop:e.bind(e)}}e.exports={onScroll:function(e,t,n){e.constructor!==Array&&(e=[e]);var i=r(e,t,n);return o(function(){e.forEach(function(e){e&&e.removeEventListener&&e.removeEventListener("scroll",i)})})},onOrientationChange:function(e){var t=i(e);return o(function(){window.removeEventListener("orientationchange",t),window.removeEventListener("resize",t)})}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;e.constructor!==Array&&(e=[e]);var i=void 0;function r(){clearTimeout(i),i=setTimeout(t,n)}return e.forEach(function(e){e&&e.addEventListener&&e.addEventListener("scroll",r)}),r}},function(e,t,n){"use strict";e.exports=function(t){if("function"==typeof t){var n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;return window.addEventListener("orientationchange",e),window.addEventListener("resize",e),e}function a(e){clearInterval(n),clearTimeout(i),e&&(i=n=null,t(e))}function e(e){a(),n=setInterval(function(){window.innerWidth===r&&window.innerHeight===o?3==++s&&a(e):(r=window.innerWidth,o=window.innerHeight,s=0)},100),i=setTimeout(function(){a(e)},1e3)}}},function(e,t,n){"use strict";e.exports={calcPositionStyles:function(e){var t=document.defaultView.getComputedStyle(e,""),e={width:e.clientWidth+"px",height:e.clientHeight+"px",left:"0px"===t.right?"":t.left,right:"0px"===t.left?"":t.right,top:"0px"===t.bottom?"":t.top,bottom:"0px"===t.top?"":t.bottom,margin:t.margin,float:t.float,position:"static"!==t.position?t.position:""};return t.display&&"inline"!==t.display?e.display=t.display:e.display="inline-block",e},calcPaddingStyles:function(e,t){var n=e.clientWidth,i=e.clientHeight,r=0,e=0;return t<n/i?r=n-i*t>>1:e=i-n/t>>1,{padding:e+"px "+r+"px"}}}},function(e,t,n){"use strict";function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(n):void 0:null===(e=Object.getPrototypeOf(e))?void 0:r(e,t,n)}var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(9).nodeListToArray,i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n(32)),i(a,[{key:"_init",value:function(){var i=this;if("video"===this.element.tagName.toLowerCase()){this.element.loop=!0;var e=this.element.getElementsByTagName("source");s(e).forEach(function(e){var t,n=e.getAttribute("data-src");n&&((t=document.createElement("source")).src=n,t.type=e.type,i.element.replaceChild(t,e))})}else{var t=this.element.getAttribute("data-video");if(!t)return;e=this.element.getAttribute("data-poster")||this.element.src;this._registerMainElement(function(e,t,n){var i=2<arguments.length&&void 0!==n?n:{},n=document.createElement("video");return t&&(n.poster=t),n.loop=!0,n.innerHTML='<source src="'+e+'" type="video/mp4"/>',Object.assign(n.style,i),n}(t,e,{width:this.element.clientWidth+"px",height:this.element.clientHeight+"px"}))}this.initDone=!0}},{key:"_play",value:function(){r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_play",this).call(this),this.element&&this.element.play&&this.element.play()}},{key:"_pause",value:function(){r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"_pause",this).call(this),this.element&&this.element.pause&&this.element.pause()}}]),a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}e.exports=i},function(e,t,n){"use strict";function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(n):void 0:null===(e=Object.getPrototypeOf(e))?void 0:r(e,t,n)}var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(32),a=n(142),l=n(143),n=n(9),u=n.waitForElementToLoad,c=n.calcPaddingStyles,i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,s),i(d,[{key:"_getDataAttribute",value:function(e,t){return this.element.getAttribute("data"+(t?"-"+t:"")+"-"+e)||t&&this.element.getAttribute("data-"+e)}},{key:"_hasDataAttribute",value:function(e,t){return this.element.hasAttribute("data"+(t?"-"+t:"")+"-"+e)||t&&this.element.hasAttribute("data-"+e)}},{key:"fixElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.element;return r(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"fixElement",this).call(this,e),Object.assign(e.style,c(this.originalElement,this.frameRatio)),this}},{key:"_createFilmElement",value:function(){return this.filmElement||(this.filmSrc?(this.filmElement=new Image,this.filmElement.src=this.filmSrc,this.filmElement):void 0)}},{key:"_init",value:function(){var t=this;return this._createFilmElement()&&u(this.filmElement).then(function(){var e=d.createFramesContainer();t.fixElement(e),t._registerMainElement(e),t.playbackManager.init(),t.initDone=!0}).catch(function(e){throw t.synchIsAllowed=!1,e})}},{key:"_play",value:function(){r(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"_play",this).call(this),this.playbackManager.play()}},{key:"_pause",value:function(){r(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"_pause",this).call(this),this.playbackManager.pause()}}],[{key:"createFramesContainer",value:function(){var e=document.createElement("div");return e.className="frames-container",e}}]),d);function d(e,t){!function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e)),e=t?t+"-":"";if(n.filmSrc=n._getDataAttribute(e+"film"),!n.filmSrc)throw new Error("Could not init VideoPreviewImg: data attribute "+e+"film must not be empty");return n.fps=parseFloat(n._getDataAttribute("fps",t))||5,n.frameCount=parseInt(n._getDataAttribute("frame-count",t),10),n.frameWidth=parseInt(n._getDataAttribute("frame-width",t),10),n.frameHeight=parseInt(n._getDataAttribute("frame-height",t),10),n.frameRatio=n.frameWidth/n.frameHeight,n._hasDataAttribute(e+"fade")?n.playbackManager=new l(n):n.playbackManager=new a(n),n}e.exports=i},function(e,t,n){"use strict";var i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(o,n(34)),i(o,[{key:"nextFrame",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){t=Object.getPrototypeOf(t);return null===t?void 0:e(t,n,i)}if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(i):void 0})(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"nextFrame",this).call(this,e),this.setFrameHolderNext(this._frameHolders[0])}}]),i=o;function o(e){!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return e._frameHoldersCount=1,e}e.exports=i},function(e,t,n){"use strict";function r(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i?"value"in i?i.value:void 0!==(i=i.get)?i.call(n):void 0:null===(e=Object.getPrototypeOf(e))?void 0:r(e,t,n)}var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,n(34)),i(s,[{key:"_createFrameHolder",value:function(){var e=r(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_createFrameHolder",this).call(this);return Object.assign(e.style,{"transition-duration":this.fadeDuration+"s","transition-timing-function":this.fadeTiming}),e}},{key:"nextFrame",value:function(e){r(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"nextFrame",this).call(this,e),this._frameHolders.push(this._frameHolders.shift()),this._frameHolders[0].className=this.frameHolderClassName,this._frameHolders[1].className=this.frameHolderClassName+" frame-holder-current",this.setFrameHolderNext(this._frameHolders[2])}}]),i=s;function s(e){!function(e){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e)),e=parseFloat(t.videoPreviewImg.element.getAttribute("data-fade"));return t.fadeDuration=e||1/t.videoPreviewImg.fps,t._frameHoldersCount=3,t.fadeTiming=t.videoPreviewImg.element.getAttribute("data-fade-timing")||"ease-in-out",t}e.exports=i},function(e,t,n){var f=n(4),v=n(17),m=n(35),y=n(146);videojs.plugin("branded-content",function(t){function e(){u&&(u.dispose(),a.removeChild(u),u=null)}function n(e){var t=new Image;return t.src=e,t}function i(){return t.trackingPixels?t.trackingPixels.reduce(function(e,t){return e["s"+t.time]=t.uri,e},{}):null}var r,o,s,a=this,l=void 0,u=void 0,c=i(),d={},p=0,h=0;t.clickThroughUri&&(r=a,o=t.clickThroughUri,(s=window.document.createElement("a")).href=o,s.target="_blank",s.rel="nofolow",s.onclick=function(e){var t=r._states.state.get();if("ended"!==t&&"standby"!==t)return r.paused()?(r.play(),void e.stopPropagation()):void r.pause()},s.classList.add("mol-branded-content__blocker"),l=s,a.el().insertBefore(l,a.controlBar.el())),m(a),a.el().classList.add("mol-branded-content"),a.on("playerstate.enter.standby",function(){var e=a.el().getElementsByTagName("video")[0];e&&e.webkitExitFullScreen&&e.webkitExitFullScreen()}),a.on("playerstate.enter.standby",function(){e(),u=new y(a,{poster:t.endStatePoster,clickThroughUri:t.clickThroughUri}),a.addChild(u)}),a.on("playerstate.leave.standby",e),a.on("playerstate.leave.standby",function(){p=0}),a.on("timeupdate",function(){var e=Math.floor(a.currentTime())||0;0<e&&e%10==0&&!d[e]&&(d[e]=!0,a.trigger("brandedContentPlayer.progress"),10===e&&t.impressionPixel&&n(t.impressionPixel)),c&&c["s"+e]&&(n(c["s"+e]),delete c["s"+e])}),a.on("ended",function(){d={},c=i(),"Microsoft Internet Explorer"===f.browser&&a.currentTime(0)}),a.muted(!0),f.mobile&&(a.el().querySelector(".vjs-tech").setAttribute("playsinline",""),a.on("timeupdate",function(){var e=a.currentTime();3<Math.abs(e-p)?(2<=(h+=1)&&a.pause(!0),a.currentTime(p)):p=e}),a.on("ended",function(){3<a.duration()-p&&(a.pause(!0),a.play(!0),a.currentTime(p))})),v.check(a.el()),a.el().addEventListener("viewport.enter",function(){u||a.play()}),a.el().addEventListener("viewport.exit",function(){a.pause()})})},function(e,t){e.exports=function(e){var t=e.getBoundingClientRect(),n=t.height,i=t.width;if(!n||!i)return!1;var r=.5*n,e=.5*i,n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth;return 0<=t.top+r&&t.bottom-r<=n&&0<=t.left&&t.right<=i||0<=t.left+e&&t.right-e<=i&&0<=t.top&&t.bottom<=n}},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});n.prototype.createEl=function(){var e=this.options(),t=videojs.createEl("div",{className:"mol-branded-content__end-view"}),n=e.clickThroughUri||"",i=e.clickThroughUri?"_blank":"";return t.innerHTML='<a class="mol-branded-content__end-view-blocker" href="'+n+'" target="'+i+'"><img class="mol-branded-content__end-view-poster" src="'+e.poster+'"></a>',t},e.exports=n},function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=n(4),a=n(17),l=n(35);videojs.plugin("editorial-content",function(){var r=this,n=function(){Math.abs(r.duration()-r.currentTime())<1?r.trigger("autoplay-next-video-restart"):r.play()},i=function(){Math.abs(r.duration()-r.currentTime())<1&&r.trigger("autoplay-next-video-cancel"),r.pause()};function e(){r.fetchRelatedVideos(function(e,t){t=t[0];r.trigger({type:"request-reset",video:o({},t),autoplay:!1}),a.check(r.el()),r.el().addEventListener("viewport.enter",n),r.el().addEventListener("viewport.exit",i)})}l(r),r.muted(!0),r.volume(0),r.el().classList.add("mol-editorial-content"),s.mobile&&r.el().querySelector(".vjs-tech").setAttribute("playsinline",""),r.on("playerstate.enter.standby",function(){var e=r.el().getElementsByTagName("video")[0];e&&e.webkitExitFullScreen&&e.webkitExitFullScreen()}),r.fetchRelatedVideos?e():r.on("related-videos-ready",e),r.on("request-reset",function(e){var i,e=e&&e.video;e&&(i=e,r.relatedVideos.get(function(e,t){var n=t.findIndex(function(e){return e.referenceId===i.referenceId});t.splice(n,1),t.push(i),r.relatedVideos.update(t)}))})})},function(e,t,n){function l(){return"wifi"===(navigator.connection||navigator.mozConnection||navigator.webkitConnection||{}).type}var u=n(17),c=n(4),d=n(3),p=n(149),h=n(19).getHasBeenEnabledOnPage,f=n(152),v=n(20);videojs.plugin("autoplay-inline",function(e){var t,n,i,r,o=this,s=(t=e.android,n=e.iOS,(e=d.queryStringToObj(window.location.search)).allowedConnection?e.allowedConnection:"android"===c.os.toLowerCase()?t:"ios"===c.os.toLowerCase()?n:"off"),a=void 0;"off"!==s&&(i=function(){h()||("autoplay"===o._states.state.get()&&o.trigger("autoplay-inline-cancel"),o.pause(),o.autoplayInline=!1,o.removeChild(a))},r=function(){("wifi"===s&&l()||"data"===s&&!l()||"all"===s)&&(h()||(o.autoplayInline=!0,0!==o.duration()&&Math.abs(o.duration()-o.currentTime())<1?o.trigger("autoplay-inline-restart"):(a=new v(o),o.addChild(a),o.muted(!0),o.play())))},p(function(e){e&&("gamp"!==o.options_.syndicationService?(u.check(o.el()),o.el().addEventListener("viewport.enter",r),o.el().addEventListener("viewport.exit",i)):f(function(e){(e?r:i)()}))}))})},function(e,t){e.exports=function(t){if("function"!=typeof t)throw new TypeError("Missing callback");var n;null===sessionStorage.getItem("autoplaySupported")?((n=document.createElement("video")).autoplay=!0,n.src="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",n.load(),n.style.display="none",n.playing=!1,n.muted=!0,n.setAttribute("webkit-playsinline","webkit-playsinline"),n.setAttribute("playsinline","playsinline"),n.play(),n.onplay=function(){this.playing=!0},n.addEventListener("play",function(){var e=Boolean(n.playing);try{sessionStorage.setItem("autoplaySupported",e)}catch(e){}t(e)})):t("true"===sessionStorage.getItem("autoplaySupported"))}},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=e.controlBar.getChild("molPreviousVideoButton"),t=e.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-play-control")}),e=e.controlBar.getChild("molSkipVideoButton");this.addChild(n),this.addChild(t),this.addChild(e)}});n.prototype.name=function(){return"MolOverlayMainControls"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-controls-overlay-main-controls"})},e.exports=n},function(e,t){var n=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t);var n=e.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-progress-control")}),t=e.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-volume-menu-button")}),e=e.controlBar.children_.find(function(e){return e.el_.classList.contains("vjs-timer-controls")});this.addChild(n),this.addChild(t),this.addChild(e)}});n.prototype.name=function(){return"MolOverlayBottomControls"},n.prototype.createEl=function(){return videojs.createEl("div",{className:"mol-controls-overlay-bottom-controls"})},e.exports=n},function(e,t){var n=!1,i=!1;e.exports=function(t){if(!window.parent)throw new Error("Player is not in an iframe");n||(window.parent.postMessage({sentinel:"amp",type:"send-intersections"},"*"),n=!0),window.addEventListener("message",function(e){e.source===window.parent&&e.origin!==window.location.origin&&e.data&&"amp"===e.data.sentinel&&"intersection"===e.data.type&&e.data.changes.forEach(function(e){e=e.intersectionRatio;!i&&.4<e?t(i=!0):i&&e<.4&&t(i=!1)})})}},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=n(21);videojs.plugin("video-advertising-mode",function(){var r=this;r.videoAdvertisingMode=!0,r.options_.inactivityTimeout=3e3,r.userActive(!1),r.on("request-reset",function(e){var i,t=e&&e.video;!t||(e=r).options_.plugins["related-videos"]&&!Array.isArray(e.options_.plugins["related-videos"].videos)||(i=t,r.relatedVideos.get(function(e,t){var n=t.findIndex(function(e){return e.referenceId===i.referenceId});t.splice(n,1),t.push(i),r.relatedVideos.update(t)})),r.trigger("playlistItem")});function t(){r.fetchRelatedVideos(function(e,t){if(e)throw e;t=t[0];r.trigger({type:"request-reset",video:i({},t),autoplay:!0}),r.videoStarts=1})}r.el().closest(".vjs-video-container").classList.add("mol-video-advertising-mode"),r.on("videoAd.start",function(){r.trigger("adStart")}),r.on("videoAd.impression",function(){r.trigger("adImpression")}),r.on("videoAd.error",function(){r.trigger({type:"adError",code:r.adUnit&&r.adUnit.errorCode})}),r.on("timeupdate",function(){r.trigger({type:"time",duration:r.duration(),position:r.currentTime()})}),r.ready(function(){var e=new o(r,{});r.addChild(e),r.fetchRelatedVideos?t():r.on("related-videos-ready",t),setTimeout(function(){r.trigger("viewable")})})})},function(e,t,n){},function(e,t,n){function i(e){(new a).run(e)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),s=n(0),a=n(156);i.init=function(e){return(new a).run(e)},i.initializeVideo=function(e,t){return(new a).initializeVideo(e,t)},i.clone=function(e,t){var n=e.player,e=a.getMediaOpts(e);if(n&&e){t&&(e=s.extend({},e,t));var i=document.createElement("video");return i.className="video-js",i.setAttribute("width",n.width()),i.setAttribute("height",n.height()),i.setAttribute("controls","true"),i.setAttribute("preload","none"),i.setAttribute("data-opts",JSON.stringify(e)),n.autoplay()&&i.setAttribute("autoplay","autoplay"),s.forEach(n.options().sources,function(e){var t=document.createElement("source");t.setAttribute("src",e.src),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("type",e.type),i.appendChild(t)}),i}},i.destroy=function(e){i.forEachPlayer(e,function(){this.trigger("request-dispose")})},i.forEachPlayer=function(e,t){var n;"function"==typeof e&&(t=e,e=void 0),n=(e=e||document)!==document&&o.hasClass(e,"video-js")?[e]:e.querySelectorAll(".video-js"),s.forEach(n,function(e){e.player&&t.apply(e.player)})};var l={};i.on=function(e,t){e in l||(l[e]=[]),l[e].push(t)},i.off=function(e,t){e in l&&(void 0===(void 0===t?"undefined":r(t))?delete l[e]:l[e]=l[e].filter(function(e){return t!==e}))},i.trigger=function(e,t){for(var n=(e in l?l[e]:[]),i=0,r=n.length;i<r;i++)n[i](t)},e.exports=i},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=this;function i(e){return function(){var a=e.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})}}var s=n(8).merge,a=n(4),l=n(157);n(158);var u,c=(u=i(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i={plugins:{}},window.adverts&&"function"==typeof window.adverts.getVideoAdsSetup)return e.prev=2,e.next=5,window.adverts.getVideoAdsSetup(t,n);e.next=12;break;case 5:(r=e.sent)&&(r["ads-setup"]&&(i.plugins["ads-setup"]=r["ads-setup"]),r.flyout&&(i.plugins.flyout=r.flyout),r.flyawayPlayer&&(i.flyawayPlayer=r.flyawayPlayer),r.debugOn&&(i.debugOn=r.debugOn)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while getting config from ads bundle",e.t0);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}},e,o,[[2,9]])})),function(e,t){return u.apply(this,arguments)}),d={title:"",descr:"",poster:"",preload:"none",linkBaseURL:window.location.href,playerId:0,videoId:0,plugins:{"vjs-api-hooks":{},"duration-plugin":{},cmp:{enabled:Boolean(document.querySelector(".video-iframe"))&&Boolean(window.__cmp)},history:{},"player-state":{},"post-content":{},"player-events":{},"multiple-clicks-fix":{},reset:{},"social-share":{},title:{},mobile:{},streaming:{},"video-starts":{}}},p=DM&&DM.pageEvents&&DM.pageEvents.getPageMetadata?DM.pageEvents.getPageMetadata():{},h=function(e){return"gamp"===e.syndicationService};function f(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o,s=v.mergeConfigs.apply(v,[t].concat(i)),a=videojs(e,s);return a.log("initializing"),o=s.source,Boolean(p.embedVideo)&&"string"==typeof o&&"DAILYMAILTV"===o.toUpperCase()&&a.el().classList.add("mol-embed-dmtv-video"),s.isTitleHidden&&a.el().closest(".vjs-video-container").classList.add("title-is-hidden"),h(a.options_)&&(a.ready(function(){"complete"===document.readyState?l():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&l()})}),window.addEventListener("orientationchange",l)),a}function v(e){if(!(this instanceof v))return new v(e);this.options=e||d}v.prototype.run=function(e){var t,r=this,o=this.options,e=v.getMediaEls(e),e=v.filterByInstantiability(e);return Promise.all(e.map((t=i(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=v.getMediaOpts(t),e.next=4,c(t,n);case 4:i=e.sent,f(t,i,o,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error while getting player config",e.t0);case 11:case"end":return e.stop()}},e,r,[[0,8]])})),function(e){return t.apply(this,arguments)})))},v.mergeConfigs=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=s.apply(void 0,[{}].concat(n));return r.plugins&&("iOS"===a.os&&a.osMajorVersion<=7&&delete r.plugins["related-videos"],Object.keys(r.plugins).forEach(function(e){t.plugins&&t.plugins[e]&&!1===t.plugins[e].enabled?delete r.plugins[e]:t.plugins[e]&&(r.plugins[e]=s({},r.plugins[e]||{},t.plugins[e]))}),(r.isMobile||h(r))&&delete r.plugins.flyout,t.flyawayPlayer&&(r.flyawayPlayer=t.flyawayPlayer),t.debugOn&&(r.debugOn=t.debugOn)),r},v.prototype.initializeVideo=function(t,n){var i=this;if(!t)throw new Error("Initialize Video Error: Video element '"+t+"'");if(n&&"object"!==(void 0===n?"undefined":r(n)))throw new Error("Initialize Video Error: Invalid options map");return c(t,n).then(function(e){try{return f(t,e,i.options,n)}catch(e){console.error("Error while initializing player",e)}})},v.getMediaEls=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;if(v.isVideoElement(e))return[e];var t,n=e.getElementsByTagName("video"),i=[],r=void 0;if(n&&0<n.length)for(r=0,t=n.length;r<t;r++)i.push(n[r]);return i},v.filterByInstantiability=function(e){return e.filter(v.canBeInstantiated)},v.isVideoElement=function(e){return Boolean(e)&&Boolean(e.tagName)&&"VIDEO"===e.tagName.toUpperCase()},v.canBeInstantiated=function(e){return v.isVideoElement(e)&&Boolean(e.getAttribute("data-opts"))&&!e.player},v.getMediaOpts=function(e){try{var t=e.getAttribute("data-opts");return JSON.parse(t)}catch(e){return{}}},e.exports=v},function(e,t){e.exports=function(){window.parent.postMessage({height:document.body.scrollHeight,sentinel:"amp",type:"embed-size"},"*")}},function(e,t){var r=function(){try{return Boolean(window.location.search.match(/videoPlayerDebug/))}catch(e){return!1}}();videojs.Player.prototype.log=function(){try{if(r||this.options().debugOn){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).log.apply(e,["[videoPlayer-"+this.id()+"]"].concat(n))}}catch(e){console.error(e)}}},function(e,t,n){"use strict";n.r(t);var t=n(3),u=n.n(t),i=n(19),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};DM.later("bundle",function(){document.addEventListener("ez-modal-after-load",function(e){e=e.ui.modal.get(0);e&&DM.molFeVideoplayer.init(e)}),document.addEventListener("ez-modal-after-open",function(e){var t=e.ui.modal.get(0),e=e.opt;e.modalType&&"video-overlay"===e.modalType&&DM.molFeVideoplayer.forEachPlayer(t,function(){this.options().inPage&&this.play()})}),document.addEventListener("ez-modal-before-close",function(e){var t=e.ui.modal.get(0),n=e.opt,e=void 0;n.modalType&&"video-overlay"===n.modalType?DM.molFeVideoplayer.forEachPlayer(t,function(){this.pause()}):t&&(DM.molFeVideoplayer.destroy(t),(e=t.querySelector(".vjs-video-container"))&&e.removeAttribute("id"))}),document.addEventListener("click",function(e){var t=e.target.closest("[data-videoplayer-open-playerid]");if(t){var n=t.getAttribute("data-videoplayer-open-opts"),i=void 0;e.preventDefault();var r,o,s=t.getAttribute("data-videoplayer-open-playerid"),a=d(s,t);if(a&&"string"==typeof n){try{i=JSON.parse(n)}catch(e){return n=u.a.appendGeolocation(n),r=l,(o=new XMLHttpRequest).onload=function(){r(JSON.parse(o.responseText))},o.open("GET",n,!0),void o.send()}l(i)}}function l(e){a.resetVideo({video:c({},e,{initialVideo:!1}),autoplay:!0})}}),document.addEventListener("click",function(e){var t=e.target.closest("[data-videoplayer-playlist-playerid]");t&&(e.preventDefault(),e=t.getAttribute("data-videoplayer-playlist-playerid"),(e=d(e,t))&&("next"===(t=t.getAttribute("data-videoplayer-playlist-number"))?e.next():"previous"===t?e.previous():e.gotoVideo(parseInt(t,10))))});var e=document.querySelector("#mobileGalleryModal");e&&e.addEventListener("open",function(){DM.molFeVideoplayer.trigger("pauseAll",{})})});var d=function(e,t){var n="#"+e+" [data-opts]",i=document.querySelectorAll(n);if(i.length){if(1<i.length)for(;(t=t.parentNode)&&!(0<(i=t.querySelectorAll(n)).length););e=i[0].querySelector("[data-opts]");return e&&e.player||t.querySelector(n).player}};DM.later(["DOM_READY","videoplayer-ready"],function(){try{var e;window.PageCriteria.isMobile||!DM.getPageMetadata().articleId||"#video"!==window.location.hash||(e=document.querySelector("video[data-opts]"))&&e.player.ready(function(){DM.molFeDomHelpers.scrollUtils.scrollToElement(e),DM.molFeDomHelpers.scrollUtils.scrollBy(0,0-window.innerHeight/3)})}catch(e){}Object(i.initStickyPlayer)()})},function(e,t,n){"use strict";n.r(t);t=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,t)}});t.prototype.name=function(){return"mol-vp-banner-end-view"},t.prototype.createEl=function(){var e=this.options().poster,t=videojs.createEl("div",{className:"mol-vp-banner__end-view"});return t.style.backgroundImage='url("'+e+'")',t};function d(e){var t=new Image;return t.src=e,t}var p=t,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},t=videojs.Component.extend({init:function(e,t){videojs.Component.call(this,e,i({},t,{onClick:function(){e.pause()}}))}});t.prototype.name=function(){return"mol-vp-banner"},t.prototype.createEl=function(){var s,a,e=this.options(),t=e.bannerImg,n=e.clickThroughUrl,i=e.clickTrackerUrls,r=e.onClick;return t=(e={bannerImg:t,clickThroughUrl:n,clickTrackerUrls:i,onClick:r}).bannerImg,n=e.clickThroughUrl,s=e.clickTrackerUrls,a=e.onClick,i=document.createElement("IMG"),e=(r={clickThroughUrl:n,className:"mol-vp-banner__blocker"}).clickThroughUrl,n=r.className,(r=window.document.createElement("a")).classList.add(n),r.href=e,r.target="_blank",r.rel="nofolow",r,i.classList.add("mol-vp-banner"),i.src=t,r.onclick=function(){var e=!0,t=!1,n=void 0;try{for(var i,r=s[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;d(o)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}"function"==typeof a&&a()},r.appendChild(i),r};var h=t;videojs.plugin("commercial-banner",function(e){function t(){c(),u=new p(a,{poster:s,clickThroughUrl:o,clickTrackerUrls:r}),a.addChild(u)}var a=this,n=e["banner-img"],i=e["click-tracker-urls"],r=void 0===i?[]:i,o=e["clickThrough-url"],s=e["end-screen-img"],i=e["impression-urls"],l=void 0===i?[]:i,u=void 0,c=function(){u&&(u.dispose(),a.removeChild(u),u=null)},e=a.el().closest(".vjs-video-container"),i=a.el().closest(".vjs-flyout-wrapper-fixed");e.classList.add("mol-vp-banner-mode"),i&&i.classList.add("mol-vp-banner-mode"),a.ready(function(){var e;n&&(e=new h(a,{bannerImg:n,clickThroughUrl:o,clickTrackerUrls:r}),a.addChild(e)),s&&(a.on("playerstate.enter.started",t),a.on("playerstate.leave.started",c)),a.on(["flyout-close","ended","flyout-switchoff"],function(e){"ended"!==e.type&&(a.expandOnFirstPlay=!0),a.resetVideo({autoplay:!1,video:a.options_})}),function e(){if(2<=(Math.floor(a.currentTime())||0)){var t=!0,n=!1,i=void 0;try{for(var r,o=l[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;d(s)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}else a.one("timeupdate",e)}()})})},function(e,t,n){"use strict";n.r(t);var i=n(7),h=n(8),f=n(18),r=n(5),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},t=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(8).merge,l=n(10),u=n(76),v=(t(c,[{key:"_finishAuction",value:function(){this.auction=null,this.player.off("videoAd.impression",this._onAdImpression),this.player.off("videoAd.contentResumeRequested",this._onAdNotShown)}},{key:"_auctionData",value:function(){var e=this.auction,t=e.start,n=e.adTag,i=e.customParams,e=(i=void 0===i?{}:i).grapeshot,i=i.dartCCKey;return a({},this.options,{autoplay:l(this.player),tag:n,targeting:{grapeshot:e,dartCCKey:i},timeSinceStartOfPlayer:Date.now()-t})}},{key:"_onAdImpression",value:function(e){e=e.adUnit;r.pageEvents.publish(r.pageEvents.VIDEO_ADVERT_IMPRESSION,o({},this._auctionData(),{adImpression:u(this.options.adSDK,e)})),this._finishAuction()}},{key:"_onAdNotShown",value:function(){r.pageEvents.publish(r.pageEvents.VIDEO_ADVERT_NOT_SHOWN,o({},this._auctionData())),this._finishAuction()}},{key:"ready",value:function(){this._started||(this._started=!0,this.player.on("videoAd.impression",this._onAdImpression),this.player.on("videoAd.contentResumeRequested",this._onAdNotShown))}},{key:"setCustomParams",value:function(e){this.auction.customParams=e}},{key:"setAdTag",value:function(e){this.auction.adTag=e}}]),c),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function c(e,t){!function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.player=e,this.options=o({},t),this.auction={start:Date.now()},this._started=!1,this._onAdImpression=this._onAdImpression.bind(this),this._onAdNotShown=this._onAdNotShown.bind(this)}var d=n(77),y=n(79),g=n(80),A=n(85),b=n(4),w=n(86),j=n(87),T=n(88),E=n(89);n(92);function _(){var e=Object(i.getPageCriteria)().nonAdservable;return!(void 0!==e&&e)&&d()}videojs.plugin("ads-setup",function(n){function e(){s.muted(!1)}var r=this,s=this,a={},l=void 0,u=void 0;s.on("fullscreenchange",e),s.on("flyout-expand",e),s.ready(function(){var e=s.videoAdvertisingMode?"chromeless":"dmplayer",c=m({vpaidEnabled:!1,platform:e},n,{domain:s.options().isEmbedded?"notdailymail":"dailymail",scor:Date.now()},w()),d=void 0;l=j(c),c.bidmax&&(d=s.videoAdvertisingMode?{platform:e,targeting:{pos:["jwplayer"]}}:{platform:e,targeting:{pos:["video"]}}),c.adsEnabled=_()&&Boolean(c.adsEnabled),s.adsEnabled=c.adsEnabled;function o(i,e){function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.log.apply(i,["[ads-auction-"+s+"]"].concat(t))}var t=e.offset,n=e.videoStarts,o=e.videoId,t=c.bidmax?new v(i,m({},d,{adSDK:i.adSDK,offset:t,play:n,videoId:o})):void 0,n=y(i,m({},e,{auction:t})),s=p++,o=[new Promise(function(e){return setTimeout(e,5e3)})],a=e.userActionTimeout,l=!1;!e.autoplay&&a?(e=new Promise(function(t){r("using user action timeout to cancel auction in",a,"ms");var n=i.preEventHook("play",function(e){r("play"),n(),l?r("auction already finished, not installing timeout"):(r("setting up after user action timeout of",a,"ms"),setTimeout(function(){r(l?"auction finished just before being forced to":"forcing auction end"),t()},a)),e()},10)}),o.push(e)):r("not using user action timeout"),r("getting video tags");var o=A(m({},n,{timeoutPromise:Promise.race(o)})),u={adTagOpts:n,auction:t,videoTags:o};return o.then(function(e){l=!0,r("auction finished:",e),u.videoTags=e}),u}var t,p=0,e=function(){var e=s.currentTime(),t=T(l,{currentTime:e,duration:s.options_.duration/1e3});a[t.offset]||(a[t.offset]=o(s,m({sync:b.mobile},s.options(),t,{videoStarts:s.videoStarts})));var e=a[t.offset],i=e.auction,r=e.adTagOpts,t=e.videoTags,e=function(e){var t=Object(h.merge)({},c.cust_params,e.cust_params),n=e.npa,e=e.rdp;i&&i.ready();e=g(m({},r,{flyaway:Object(f.isFlyaway)(s),cust_params:t,npa:n,rdp:e}));return i&&i.setAdTag(e),e};return t instanceof Promise?t.then(e):e(t)};s.adSDK=c.useIMASDK?"IMA":"MOL",s["video-ads-plugin"](m({},c,{timeout:c.adsCancelTimeout,bannerFallback:c.bannerFallback||!1,getAdTag:e})),c.earlyBidding&&!c.autoplay&&e(),s.on("request-reset",function(e){e=e.video;c=m({},c,e.plugins["ads-setup"]),l=u||j(c),u=null,c.adsEnabled=_()&&Boolean(c.adsEnabled),s.adsEnabled=c.adsEnabled,a={0:a.nextVideoPreroll},s.trigger({type:"videoAds.reset",options:c})}),s.on("videoAd.contentResumeRequested",function(){s.one("timeupdate",function(){l&&!l.addedToPlayer&&(E(s,l),l.addedToPlayer=!0),s.trigger({type:"videoAd.prefetchAdTag"})})}),s.on(["mol.play.previous.video","mol.play.next.video"],function(){a.nextVideoPreroll=void 0}),s.on("seeked",function(){s.trigger({type:"videoAd.prefetchAdTag"})}),s.on("videoAd.prefetchAdTag",(t=regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.currentTime()+1,n=T(l,{currentTime:i,duration:s.duration()}),c.adsEnabled&&n&&!a[n.offset]&&(a[n.offset]=o(s,m({sync:!1},s.options(),n,{videoStarts:s.videoStarts}))),s.nextVideo&&!a.nextVideoPreroll)return e.next=6,s.nextVideo;e.next=10;break;case 6:t=e.sent,i=m({},c,t.plugins["ads-setup"]),(n=_()&&Boolean(i.adsEnabled))&&(u=j(i),i=T(u,{currentTime:0,duration:t.duration/1e3}),a.nextVideoPreroll=o(s,m({sync:!1},s.options(),t,i,{adsEnabled:n,autoplay:!0,videoStarts:s.videoStarts+1})));case 10:case"end":return e.stop()}},e,r)}),function(){var a=t.apply(this,arguments);return new Promise(function(o,s){return function t(e,n){try{var i=a[e](n),r=i.value}catch(e){return void s(e)}if(!i.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});o(r)}("next")})}))})})}]);

!function(){var o,s,r,a,d,l,c;Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,s=!{toString:null}.propertyIsEnumerable("toString"),a=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("function"!=typeof t&&("object"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,i=[];for(e in t)o.call(t,e)&&i.push(e);if(s)for(n=0;n<a;n++)o.call(t,r[n])&&i.push(r[n]);return i})),Array.prototype.indexOf||(Array.prototype.indexOf=(d=Object,l=Math.max,c=Math.min,function(t,e){if(null==this)throw TypeError("Array.prototype.indexOf called on null or undefined");var n=d(this),i=n.length>>>0,o=c(0|e,i);if(o<0)o=l(0,i+o);else if(i<=o)return-1;if(void 0===t){for(;o!==i;++o)if(void 0===n[o]&&o in n)return o}else if(t!=t){for(;o!==i;++o)if(n[o]!=n[o])return o}else for(;o!==i;++o)if(n[o]===t)return o;return-1})),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.filter||(Array.prototype.filter=function(t,e){if("Function"!=typeof t&&"function"!=typeof t||!this)throw new TypeError;var n,i=this.length>>>0,o=new Array(i),s=this,r=0,a=-1;if(void 0===e)for(;++a!=i;)a in this&&(n=s[a],t(s[a],a,s)&&(o[r++]=n));else for(;++a!=i;)a in this&&(n=s[a],t.call(e,s[a],a,s)&&(o[r++]=n));return o.length=r,o}),Object.isEmpty||(Object.isEmpty=function(t){if(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}return!0});function t(){var c=null,h=!1,e=!1,p=this;function u(){window.evidon.notice.dropPixel(16),window.evidon.notice.showOptions(null),e&&(window.evidon.notice._updateConsentedVendors(),p.hideNewVendorIndicator())}window.onbeforeprint=function(){var t=document.getElementById(I);t&&(t.style.display="none")},window.onafterprint=function(){var t=document.getElementById(I);t&&(t.style.display="")},this.scaleForMobile=function(){var t,e;window.innerHeight<800&&window.innerWidth<800||(t=document.getElementById(I),e=Math.max(window.innerWidth/screen.width,window.innerHeight/screen.height),t&&void 0!==t.style.zoom&&(t.style.cssText+="zoom: "+(e<=2?e:2)+"!important;"))},this.setButtonText=function(t){var e,n,i;t&&((e=window.evidon.notice).dropPixel(3),n=window.evidon.notice.isMobile(),h&&(i=document.getElementById(T),t=e.isCCPA()?n?t.mobileDoNotSell:t.doNotSell:n?t.mobileButtonText:t.buttonText,i&&(i.innerHTML=t)))},this.createButton=function(t){var e,n,i,o,s,r,a,d,l;(c=t||window.evidon.notice.getButtonStyle())&&!h&&c&&(e=document,n=window.evidon.notice.isMobile(),(l=e.createElement("div")).id=I,l.className="evidon-consent-button",l.innerHTML="<style> @media print {#_evh-ric,#_evh-link { display:none !important; } } </style>",l.tabIndex=0,l.setAttribute("aria-label","Privacy options button"),l.setAttribute("role","button"),a=n?c.mobileButtonStyle:c.buttonStyle,(i=e.createElement("a")).id="_evh-link",i.style.cssText=a,(n?c.mobileShowIcon:c.showIcon)&&((o=e.createElement("img")).src=c.buttonIcon,o.className="evidon-consent-button-image",o.alt="AdChoices Icon",s="border:0;display:inline;vertical-align:middle;margin-right:10px;",(r=window.evidon.notice._getStyleValue(c.buttonStyle,"height"))&&(t=parseFloat(r),r=r.replace(t,""),s+="height:"+(t=parseInt(.6*t,10))+r+";"),o.style.cssText=s,i.appendChild(o)),(n?c.mobileShowText:c.showText)&&((d=e.createElement("span")).id=T,d.className="evidon-consent-button-text",d.style.cssText="vertical-align:middle !important;",i.appendChild(d)),i.onclick=u,i.onkeyup=function(t){13===t.keyCode&&i.onclick()},a="display: none; position: absolute;"+(void(i.tabIndex=0)===(d=window.evidon.notice._parseCss(a)).left?"left":"right")+":-10px;"+(void 0===d.top?"top":"bottom")+":-10px;width: 23px; height: 23px;",(d=document.createElement("img")).id=E,d.src="//c.evidon.com/sitenotice/images/evidon-change-alert.png",d.alt="New vendors have been added to this site",d.style.cssText=a,i.appendChild(d),l.appendChild(i),document.body.appendChild(l),(l=window.evidon.notice.getTranslations())&&p.setButtonText(l),n&&p.scaleForMobile(),h=!0)},this.showNewVendorIndicator=function(){var t=document.getElementById(E);t&&(t.style.display="",e=!0)},this.hideNewVendorIndicator=function(){var t=document.getElementById(E);t&&(t.style.display="none",e=!1)},this.iscreated=function(){return h},this.show=function(){var t=document.getElementById(I);t&&(t.style.display="block")},this.hide=function(){var t=document.getElementById(I);t&&(t.style.display="none")}}function e(){var d=null,l=!1,c=this;function h(t){t.stopPropagation&&t.stopPropagation(),window.evidon.notice.dropPixel(15),window.evidon.notice.showOptions(null)}this.setLinkText=function(t){if(l&&t){var e=window.evidon.notice;e.dropPixel(2);var n=window.evidon.notice.isMobile(),i=null,o=document,s=e.isCCPA()?n?t.mobileDoNotSell:t.doNotSell:n?t.mobileLinkText:t.linkText,i=void 0!==o.getElementsByClassName?o.getElementsByClassName(D):o.querySelectorAll("."+D);if(s)for(var r=0;r<i.length;r++)i[r].innerText=s}},this.createLink=function(t){(d=t||window.evidon.notice.getLinkStyle())&&function(){if(!l&&d){var t=document,e=window.evidon.notice.isMobile(),n=t.createElement("a");n.href="#",n.className="evidon-consent-link",n.tabIndex=0;var i,o=t.createElement("span");o.id="_evidon-link-text",o.className=D,e&&d.mobileShowIcon&&d.mobileLinkIcon?((i=t.createElement("img")).src=d.mobileLinkIcon,i.style.cssText="vertical-align:bottom;",i.className=L,i.alt="AdChoices Icon",n.appendChild(i),o.style.cssText="margin-left: 6px;"):!e&&d.showIcon&&d.linkIcon&&((i=t.createElement("img")).src=d.linkIcon,i.className=L,i.style.cssText="vertical-align:bottom;",i.alt="AdChoices Icon",n.appendChild(i),o.style.cssText="margin-left: 6px;"),n.appendChild(o),n.style.cssText=e?d.mobileLinkStyle:d.linkStyle;var s=[];0===(s=void 0!==t.getElementsByClassName?t.getElementsByClassName(x):t.querySelectorAll("."+x)).length&&console.log("Evidon -- "+x+" not found on page, cant display the consent link.");for(var r=0;r<s.length;r++){var a=n.cloneNode(!0);a.onclick=h,s[r].appendChild(a)}l=!0;t=window.evidon.notice.getTranslations();t&&c.setLinkText(t)}}()}}function n(){this.translations={},this.country=null,this.themes=null,this.languageCode=null,this.languageRoot=null,this.companyId=window.evidon.id,this.activeTranslations=null,this.activeTranslationId=0,this.settings=null,this.domain=null,this.path=null,this.activeSettings=null,this.regulationId=0,this.regulationConsentTypeId=0,this.consentTypeId=0,this.privacyAccessTypeId=0,this.consentRequired=!1,this.consentDuration=13,this.consentIsGiven=!1,this.L2Enabled=!1,this.gdprEnabled=!1,this.dataRightsType=0,this.rightsLink="",this.closeConsentEnabled=!1,this.scrollConsentEnabled=!1,this.pageclickConsentEnabled=!1,this.navigationConsentEnabled=!1,this.activeVendorId=-1,this.activeDomain=null,this.pixelsDropped=[],this.scriptsLoaded=[],this.tagManagerEventFired=!1,this.consentCallbackExecuted=!1,this.closeCallbackExecuted=!1,this.declineCallbackExecuted=!1,this.navigationStack=[],this.blockDomainCheck=!1,this.shouldSupportAmp=!1,this.customerUserId=void 0!==window.evidon.userid?window.evidon.userid:null,this.vendorList=null,this.shouldCallCMP=!0,this.optOutDetails=null,this.companydetails=[],this.cnilupdatesenabled=!1,this.displaytimeout=0,this.PREFDIAG_TABS={IAB:"iab",PURPOSES:"purposes",VENDORS:"vendors",DONOTSELL:"do-not-sell",CONSENT:"prior-consent"};var e=this;this._getAttributeValue=function(t,e){for(var n=t.attributes,i=null,o=0;o<n.length;o++)if(n[o].localName==e){i=n[o].value;break}return i},this._trackScrolling=function(){var t;!e.scrollConsentEnabled||(0===(t=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop)||30<t)&&(e.consentGiven(!0),e.dropPixel(20))},this._trackClicking=function(t){e.pageclickConsentEnabled&&t&&t.target&&window.evidon.banner&&(window.evidon.banner.isOnBanner(t.target)||window.evidon.gdprL2&&window.evidon.gdprL2.isOnBanner(t.target)||(e.consentGiven(!0),e.dropPixel(21)))},this._hookConsentEvents=function(){"complete"==document.readyState?1===e.regulationConsentTypeId&&setTimeout(function(){window.addEventListener?(window.addEventListener("scroll",e._trackScrolling,!1),window.addEventListener("click",e._trackClicking,!1)):(window.attachEvent("onscroll",e._trackScrolling),window.attachEvent("onclick",e._trackClicking))},500):window.addEventListener?window.addEventListener("load",e._hookConsentEvents,!1):window.attachEvent("onload",e._hookConsentEvents)},this._detachEventTracking=function(){e.pageclickConsentEnabled=!1,e.scrollConsentEnabled=!1;try{void 0!==window.removeEventListener?window.removeEventListener("click",e._trackClicking,!1):window.detachEvent("onclick",e._trackClicking,!1),void 0!==window.removeEventListener?window.removeEventListener("scroll",e._trackScrolling,!1):window.detachEvent("onscroll",e._trackScrolling,!1)}catch(t){}},this.isMobile()||(window.addEventListener?window.addEventListener("resize",function(){e.showNotice()}):window.attachEvent("onresize",function(){e.showNotice()})),this._isDomReady=function(){return"loading"!=document.readyState||(console.log("dom not ready, setting event"),document.addEventListener("DOMContentLoaded",function(){console.log("dom ready, triggering load");try{document.removeEventListener("DOMContentLoaded")}catch(t){}e.showNotice()},!1),!1)};var t,n=document.getElementById("evidon-notice");n&&(-1!==(t=(i=n.src).indexOf(".com"))&&(i=i.substr(0,t+4),u=(p=(h=i)+"/sitenotice/")+window.evidon.id),(i=this._getAttributeValue(n,"data-options"))&&(-1<i.indexOf("block-domain-check")&&(this.blockDomainCheck=!0),-1<i.indexOf("amp-support")&&(this.shouldSupportAmp=!0)));var i=window.navigator.languages&&0<window.navigator.languages.length?window.navigator.languages[0]:window.navigator.userLanguage||window.navigator.language;i&&this.activateTranslations(i.toLowerCase()),this.blockDomainCheck||this.setDomain(null,!0),this._isConsentGiven()&&this.activeSettings&&this.vendorList&&(this.consentRequired?1===this.regulationConsentTypeId?this._runOptInFlow():2===this.regulationConsentTypeId&&this._runOptOutFlow():this._runNoConsentFlow()),i=window.addEventListener?"addEventListener":"attachEvent",(0,window[i])("attachEvent"==i?"onmessage":"message",function(t){"acceptclicked"==t[t.message?"message":"data"]&&e._closeL3()},!1)}var h="//c.evidon.com",p=h+"/sitenotice/",u=p+window.evidon.id,i=1,v=2,g=1,w=2,y="_evidon_consent_cookie",f="_evidon_consent_ls_",b="_evidon_suppress_notification_cookie",m="https://optoutapi.evidon.com/site/",C="https://l3.evidon.com/dataRequest/",k={1:"evidon-cmp.js",2:"evidon-cmpv2.js"},_="_evidon-overlay",S="_evidon-l3",O="evidonConsentGiven",I="_evh-button",E="_evh-newvendor-indicator",T="_evidon-button-text",x="evidon-notice-link",D="evidon-consent-link-text",L="evidon-consent-link-image",P="{categorycsv}",A="{categorylist}",N="{policybuttonmarker}",R="fallback-banner.js",V="fallback-barrier.js",B="fallback-gdpr-overlay.js",j=[3247];n.prototype._parseCss=function(t){for(var e=t.split(";"),n={},i=0;i<e.length;i++){var o,s=e[i].split(":");2===s.length&&(o=s[0].trim(),s=s[1].trim(),n[o]=s)}return n},n.prototype._joinCss=function(t){var e,n=[];for(e in t)n.push(e+":"+t[e]);return n.join(";")+";"},n.prototype._getStyleValue=function(t,e){t=this._parseCss(t);return t&&t.hasOwnProperty(e)?t[e]:null},n.prototype._fixurl=function(t){return void 0===t||!t||0===t.indexOf("http")||0===t.indexOf("//")?t:"//"+t},n.prototype._isScriptLoaded=function(t){for(var e=0;e<this.scriptsLoaded.length;e++)if(this.scriptsLoaded[e]==t)return!0;return!1},n.prototype._getRootDomain=function(t){var e=t,n=e.split(".");return 2===n.length?e=n[0]:3<=n.length&&(t=n[n.length-2],e=this._isTwoPartTLD(t)?n[n.length-3]:t),e},n.prototype._isConsentRequired=function(t){return t.hasOwnProperty("regulationConsentTypeId")?0!==t.regulationConsentTypeId:t.hasOwnProperty("consentRequired")?t.consentRequired:0<t.duration},n.prototype._loadSettings=function(t){this.iabEnabled=void 0===t.iabEnabled||t.iabEnabled,window.__cmp?this.iabVersion=1:(window.__tcfapi,this.iabVersion=2),this.consentTypeId=t.consentid,this.privacyAccessTypeId=t.accessid,this.consentRequired=this._isConsentRequired(t),this.consentDuration=t.duration,this.L2Enabled=void 0!==t.l2enabled&&t.l2enabled,this.gdprEnabled=void 0!==t.gdprEnabled&&t.gdprEnabled,this.displayDsarInFrame=void 0!==t.displayDsarInFrame&&t.displayDsarInFrame,this.adChoicesEnabled=void 0===t.adChoicesEnabled||1==t.adChoicesEnabled,this.closeConsentEnabled=void 0===t.closeConsentEnabled||t.closeConsentEnabled,this.regulationId=void 0===t.regulationId?this.gdprEnabled?w:0:t.regulationId,this.regulationConsentTypeId=void 0===t.regulationConsentTypeId?1:t.regulationConsentTypeId,this.scrollConsentEnabled=!1,this.navigationConsentEnabled=!1,this.pageclickConsentEnabled=!1;var e=void 0===t.consentactions?"":t.consentactions;e&&this.consentRequired&&(this.scrollConsentEnabled=-1!==e.indexOf("s"),this.navigationConsentEnabled=-1!==e.indexOf("n"),this.pageclickConsentEnabled=-1!==e.indexOf("p"));e=void 0===t.consentDetailLevel?"cv":t.consentDetailLevel;this.consentDetailCategories=-1<e.indexOf("c"),this.consentDetailVendors=-1<e.indexOf("v"),this.privacypolicylink=this.getPrivacyPolicyLink(),this.privacyPolicyEnabled=void 0===t.privacyPolicyEnabled?"#"!==this.privacypolicylink:t.privacyPolicyEnabled,this.venodrDisplayEnabled=void 0===t.vendorDisplayEnabled||t.vendorDisplayEnabled,this.dnsEnabled=void 0===t.dnsEnabled?this.isCCPA():t.dnsEnabled,this.displayDnsInFrame=void 0!==t.displayDnsInFrame&&t.displayDnsInFrame,this.enableAcceptButton=void 0===t.enableAcceptButton?null:t.enableAcceptButton,this.enableDeclineButton=void 0===t.enableDeclineButton?null:t.enableDeclineButton,this.enableOptionsButton=void 0===t.enableOptionsButton?null:t.enableOptionsButton,this.cookiePolicyEnabled=void 0!==t.cookiePolicyEnabled&&t.cookiePolicyEnabled,this.cookiepolicylink=this.getCookiePolicyLink(),this.cnilupdatesenabled=void 0!==t.cnilupdatesenabled&&t.cnilupdatesenabled,this.displaytimeout=void 0===t.displaytimeout?0:t.displaytimeout},n.prototype._isTwoPartTLD=function(t){return-1!==["co","com","info","web","info","gov","edu","biz","net","org"].indexOf(t)||-1!==["uk","us","fr","es","de","at","au","ae","be","br","ca","ch","cn","co","cz","dk","eg","eu","fi","gb","gr","hk","hr","hu","ie","in","jp","mx","nl","no","nz","pl","ro","ru","se"].indexOf(t)},n.prototype._getTLD=function(t){var e=t.split("."),t="";return e&&1<e.length&&(t=e[e.length-1],3<=e.length&&(e=e[e.length-2],this._isTwoPartTLD(e)&&(t=e+"."+t))),t},n.prototype._createCloseIcon=function(t,e,n,i,o){var s,r,a,d,l=null,c=document,h=this._parseCss(t),p=[],u=["stroke","stroke-width"];for(s in h.hasOwnProperty("z-index")||(h["z-index"]=100),h)-1===u.indexOf(s)&&p.push(s+":"+h[s]);void 0===i&&(i="#333333"),i=h.hasOwnProperty("stroke")?h.stroke:i,void 0===o&&(o=2),o=h.hasOwnProperty("stroke-width")?h["stroke-width"]:o,p.push("border:0"),p.push("padding:0"),p.push("background:transparent"),"undefined"!=typeof SVGRect?((l=c.createElementNS(d="http://www.w3.org/2000/svg","svg")).setAttribute("viewBox","0 0 14 12"),l.setAttribute("version","1.1"),l.setAttribute("xmlns",d),l.setAttribute("class",n),l.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),l.setAttribute("style","position:absolute; top:0; left:0;"),(r=c.createElementNS(d,"g")).id="__ghostery-close-icon-svg",r.setAttribute("stroke","none"),r.setAttribute("fill","none"),r.setAttribute("fill-rule","evenodd"),r.setAttribute("stroke-linecap","square"),(a=c.createElementNS(d,"g")).setAttribute("transform","translate(-1410.000000, -643.000000)"),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),(n=c.createElementNS(d,"g")).setAttribute("transform","translate(1411.000000, 643.000000)"),(o=c.createElementNS(d,"path")).setAttribute("d","M0.5,0.5 L11.5679722,11.5679722"),o.setAttribute("stroke",i),(d=c.createElementNS(d,"path")).setAttribute("d","M0.5,0.5 L11.5679722,11.5679722"),d.setAttribute("transform","translate(6.000000, 6.000000) scale(-1, 1) translate(-6.000000, -6.000000) "),d.setAttribute("stroke",i),n.appendChild(o),n.appendChild(d),a.appendChild(n),r.appendChild(a),l.appendChild(r)):((l=c.createElement("img")).style.cssText=t,l.src="//c.evidon.com/pub/ric-close.png",l.alt="close",l.tabIndex=0);c=c.createElement("button");return c.id=e,c.setAttribute("aria-label","close dialog"),c.style.cssText=p.join(";"),c.appendChild(l),c.onmouseover=function(){this.style.border="1px solid "+i},c.onmouseout=function(){this.style.border=0},c},n.prototype.appendScript=function(t,e){var n,i=document.createElement("script"),o=document.getElementsByTagName("script")[0]||document.getElementsByTagName("head")[0];function s(){i.onload=i.onreadystatechange=null,e()}if(this._isScriptLoaded(t))e&&e();else{i.async=!0,i.src=t,i.charset="utf-8",e&&(i.onreadystatechange=function(){n||"loaded"!=this.readyState&&"complete"!=this.readyState||(n=!0,s())},i.onload=s);try{o.parentElement.insertBefore(i,o),this.scriptsLoaded.push(t)}catch(t){console.log(t)}}},n.prototype._getSettings=function(){var s=this;if(!this.domain)return null;function r(t,e){return t&&e&&t.substr(t.length-e.length)===e}function t(t){var e=[];for(n in s.settings){var n,i=(n=n.toLowerCase()).split("|")[0];r(i,"/")||(i+="/");var o=t.toLowerCase();r(o,"/")||(o+="/"),0===i.indexOf(o)&&e.push(n)}return e}var e=t(this.domain),n=s._getRootDomain(s.domain),i=s._getTLD(this.domain),o=s.domain.substr(0,s.domain.indexOf(n))+n+".*";if(1===(e=(e=(e=e.concat(t(o))).concat(t(n+"."+i))).concat(t(n+".*"))).length)return s.activeDomain=e[0].split("|")[0],this.settings[e[0]];if(1<e.length){e.sort(function(t,e){return e.length-t.length});for(var a=s.domain+this.path,d=n+"."+i+this.path,l=[],c=0;c<e.length;c++){var h=e[c];-1!==(h=-1!==h.indexOf("|")?h.substr(0,h.indexOf("|")):h).indexOf("*")&&(h=h.replace("*",i)),-1!==a.indexOf(h)&&l.push(e[c])}if(0===l.length)return null;if(1===l.length)return s.activeDomain=l[0].split("|")[0],s.settings[l[0]];var p=s.country.id,u=null,v=[],g=[],w=0,y=0;r(a,"/")||(a+="/"),r(d,"/")||(d+="/");for(c=0;c<l.length;c++){var f=l[c],b=f.split("|")[0];r(b=-1!==b.indexOf("*")?b.replace("*",i):b,"/")||(b+="/"),0===a.indexOf(b)&&b.length>=w?(v.push(f),0===w&&(w=b.length)):-1!==d.indexOf(b)&&b.length>=y&&(g.push(f),y=b.length)}if(0===v.length&&0<=g.length?1===g.length?(u=s.settings[g[0]],s.activeDomain=g[0].split("|")[0]):l=g:1===v.length?(u=s.settings[v[0]],s.activeDomain=v[0].split("|")[0]):1<v.length&&(l=v),!u)for(c=0;c<l.length;c++)if(s.settings[l[c]].countries.hasOwnProperty(p)){u=s.settings[l[c]],s.activeDomain=l[c].split("|")[0];break}if(!u){for(var m=0,c=0;c<l.length;c++){var C=s.settings[l[c]];if(C.hasOwnProperty("defaultCountry")&&0!=C.defaultCountry){m=C.defaultCountry;break}}if(0!==m)for(c=0;c<l.length;c++)(C=s.settings[l[c]]).countries.hasOwnProperty(m)&&(u=C,s.activeDomain=l[c].split("|")[0])}return u||(u=s.settings[l[0]],s.activeDomain=l[0].split("|")[0]),u}return null},n.prototype._getDefaultConsentCookieData=function(t,e,n){this.activeSettings;var i={},o={},s={};if(i[this.activeCountryId]=t||!0,!0===e){for(var r=this.getActiveVendors(),a={},d=0;d<r.length;d++)a[r[d]]=!0;o[this.activeCountryId]=a}else"object"==typeof e&&(o[this.activeCountryId]=e);return s[this.activeCountryId]=n||!0,{consent_date:(new Date).toISOString(),categories:i,vendors:o,cookies:s}},n.prototype._getConsentCookieExpDate=function(t){var e=t?new Date(t):new Date,t=0<this.consentDuration?this.consentDuration:12;return e.setMonth(e.getMonth()+t),e},n.prototype._getConsentCookieDomainPath=function(){var t="/",e=this.activeSettings;if(2===(e.hasOwnProperty("includeSubdomains")?e.includeSubdomains:0)){if(!(t=this.activeDomain))return void console.error("Attempted to set a cookie without a valid settings object");e=t.indexOf("/");-1!==e&&(t=t.substring(e)),t=window.location.pathname.substr(0,t.length)}return t},n.prototype._getConsentCookieDomain=function(){var t=this.activeSettings;return 1===(t.hasOwnProperty("includeSubdomains")?t.includeSubdomains:0)?"."+this._getRootDomain(this.domain)+"."+this._getTLD(this.domain):null},n.prototype._isConsentGiven=function(){return null!==this._getConsentCookie()},n.prototype._deleteConsentCookie=function(){var t=this._getConsentCookieDomain(),e=this._getConsentCookieDomainPath(),n=new Date(1970,1,1);this._removeLocalStorageItem(f+this.activeSettings.id),this._writeCookie(y,"",n.toUTCString(),e,t)},n.prototype.getConsentData=function(){var t=this._getConsentLocalStorage();return t=(t=t||this._getConsentCookie())||{name:null,value:null}},n.prototype._getConsentLocalStorage=function(){var t=f+this.activeSettings.id,e=this._readLocalStorage(t);if(e){try{e=JSON.parse(e)}catch(t){}return{name:t,value:e}}return e},n.prototype._getConsentCookie=function(){return this._getCookie(y)},n.prototype._setConsentCookie=function(t,e,n,i,o){var s=2===(o=0===(o=null==o?this.regulationConsentTypeId:o)?1:o)?{}:this._getDefaultConsentCookieData(e,n,i),e=this._getConsentCookieExpDate(t),n=this._getConsentCookieDomainPath(),i=this._getConsentCookieDomain();return t&&(s.consent_date=t.toISOString()),s.consent_type=o,s.hasOwnProperty("consent_date")||(s.consent_date=new Date),1!=(this.activeSettings.hasOwnProperty("includeSubdomains")?this.activeSettings.includeSubdomains:0)&&this._writeLocalStorage(f+this.activeSettings.id,JSON.stringify(s))&&(delete s.categories,delete s.vendors,delete s.cookies),this._getSuppressionCookie()&&this.dropSuppressionCookie(-1),!!this._writeCookie(y,JSON.stringify(s),e.toUTCString(),n,i)&&s},n.prototype._updateConsentData=function(t,e){var n=this.getConsentData().value,i=n&&n.consent_date?new Date(n.consent_date):new Date,o=n&&n.consent_type?n.consent_type:1,s=this._getConsentCookieExpDate(i),r=this._getConsentCookieDomainPath(),a=this._getConsentCookieDomain();(n=n||{}).hasOwnProperty(t)||(n[t]={}),n[t][this.activeCountryId]=e,n.hasOwnProperty("consent_date")||(n.consent_date=i),n.hasOwnProperty("consent_type")||(n.consent_type=o),1!=(this.activeSettings.hasOwnProperty("includeSubdomains")?this.activeSettings.includeSubdomains:0)&&this._writeLocalStorage(f+this.activeSettings.id,JSON.stringify(n))&&(delete n.categories,delete n.vendors,delete n.cookies),this._writeCookie(y,JSON.stringify(n),s.toUTCString(),r,a)},n.prototype._updateConsentedCategories=function(t){this.consentDetailCategories&&this._updateConsentData("categories",t)},n.prototype._updateConsentedCookies=function(t){this._updateConsentData("cookies",t)},n.prototype._updateConsentedVendors=function(t){var e=this.getConsentData().value;e.hasOwnProperty("vendors")||(e.vendors={});var n=e.vendors[this.activeCountryId];t||(e=this.getActiveVendors(),t=this._getNewVendors(e,n));var i={};if(Array.isArray(n))for(var o=0;o<n.length;o++)i[n[o]]=!0;else if("object"==typeof n)for(var s in n)i[s]=n[s];if(Array.isArray(t))for(o=0;o<t.length;o++)i[t[o]]=!0;else if("object"==typeof t)for(var s in t)i[s]=t[s];this._updateConsentData("vendors",i)},n.prototype._getSuppressionCookie=function(){return this._getCookie(b)},n.prototype._createListFromItem=function(t){var e=[];try{for(var n in t)!0===t[n]&&e.push(n.toLowerCase())}catch(t){}return e.join()},n.prototype._runAdobeOptIn=function(t,e){if(window.adobe&&window.adobe.optIn)if(t&&t.hasOwnProperty("all"))adobe.optIn.approveAll();else{var n,i=[],o=[];for(n in e)switch(n){case"adobe-marketing-cloud-media-optimizer-formerly-adlens":(!0===e[n]?i:o).push(adobe.OptInCategories.ADCLOUD);break;case"adobe-marketing-cloud-analytics":(!0===e[n]?i:o).push(adobe.OptInCategories.ANALYTICS);break;case"adobe-marketing-cloud-audience-manager":(!0===e[n]?i:o).push(adobe.OptInCategories.AAM);break;case"adobe-marketing-cloud-campaign":(!0===e[n]?i:o).push(adobe.OptInCategories.CAMPAIGN);break;case"adobe-experience-platform":(!0===e[n]?i:o).push(adobe.OptInCategories.ECID);break;case"livefyre":(!0===e[n]?i:o).push(adobe.OptInCategories.LIVEFYRE);break;case"adobe-marketing-cloud-target":(!0===e[n]?i:o).push(adobe.OptInCategories.TARGET);break;case"adobe-video-analytics":(!0===e[n]?i:o).push(adobe.OptInCategories.VIDEO_ANALYTICS)}0<i.length&&adobe.optIn.approve(i),0<o.length&&adobe.optIn.deny(o)}},n.prototype._triggerTagManagerEvent=function(t,e,n){if(!this.tagManagerEventFired){e=e?this._createListFromItem(e):"",t=t?this._createListFromItem(t):"";try{(window.dataLayer||[]).push({event:O,consentCategories:t,consentVendors:e})}catch(t){}if(void 0===window.evidon.enableGoogleConsentSupport||window.evidon.enableGoogleConsentSupport)try{var i=["google-adsense","doubleclick","doubleclick-bid-manager-formerly-invite-media","admeld","google-adwords","google-display-network","admob-google","adometry","google-ad-services","google-mobile-ads","googleima"],o=["google-analytics"],s="denied",r="denied";if("all"==e)r=s="granted";else if(e){for(var a=e.split(","),d=0;d<o.length;d++)-1!==a.indexOf(o[d])&&(s="granted");for(d=0;d<i.length;d++)-1!==a.indexOf(i[d])&&(r="granted")}1782!=this.companyId&&(window.dataLayer=window.dataLayer||[],function(){dataLayer.push(arguments)}("consent","update",{ad_storage:r,analytics_storage:s}))}catch(t){}try{window.utag&&window.utag.link({event_name:O,consent_categories:t,consent_vendors:e})}catch(t){}try{window.tC&&tC.event[O](this,{consent_categories:t,consent_vendors:e})}catch(t){}this.tagManagerEventFired=!0}},n.prototype._getCategoriesReturnObject=function(t){return!0===(t=(t=void 0===t?this._getConsentedCategories()||{}:t)||{})||!1===this.consentDetailCategories?{all:!0}:t},n.prototype._getVendorsReturnObject=function(t){if(!0===(t=void 0===t?this._getConsentedVendors()||{}:t))return{all:!0};var e={};if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];!1!==this.vendorList.hasOwnProperty(i)?e[this.vendorList[i]]=!0:console.error("Vendor "+i+" not found in vendorList")}else if("object"==typeof t)if(Object.isEmpty(t))e={all:!0};else if(t.hasOwnProperty("all")&&t.all)e=t;else for(var i in t)!1!==this.vendorList.hasOwnProperty(i)?e[this.vendorList[i]]=t[i]:console.error("Vendor "+i+" not found in vendorList");else console.error("vendors object not recognized",t);return e},n.prototype._getCookiesReturnObject=function(t){var e={};return!0===(t=void 0===t?this._getConsentedCookies()||{}:t)?e={all:!0}:t&&"object"==typeof t&&(Object.isEmpty(t)&&(t.all=!0),e=t),e},n.prototype._runConsentCallback=function(t,e,n){this.consentIsGiven=!0,this.consentCallbackExecuted&&!this.shouldSupportAmp||(t=this._getCategoriesReturnObject(t),Object.isEmpty(t)&&(t.all=!0),e=this._getVendorsReturnObject(e),n=this._getCookiesReturnObject(n),window.evidon&&window.evidon.priorConsentCallback&&window.evidon.priorConsentCallback(t,e,n),this.iabEnabled&&this.shouldCallCMP&&(1===this.iabVersion&&window.__cmp?(__cmp("consentGiven"),__cmp("saveConsent")):2===this.iabVersion&&window.__tcfapi&&(__tcfapi("consentGiven"),__tcfapi("saveConsent"))),this.consentCallbackExecuted=!0,this._triggerTagManagerEvent(t,e,n),this._runAdobeOptIn(t,e))},n.prototype._runCloseCallback=function(){this.consentIsGiven=!1,this.closeCallbackExecuted&&!this.shouldSupportAmp||(window.evidon&&window.evidon.closeCallback&&window.evidon.closeCallback(),this.iabEnabled&&1===this.iabVersion&&window.evidon.cmp&&window.evidon.cmp.consentClosed(),this.iabEnabled&&2===this.iabVersion&&window.evidon.cmpv2&&window.evidon.cmpv2.consentClosed(),this._showConsentAccess(),this.closeCallbackExecuted=!0)},n.prototype._runDeclineCallback=function(){if(!this.declineCallbackExecuted||this.shouldSupportAmp){this.consentIsGiven=!1,2===this.regulationConsentTypeId&&(this.consentIsGiven=!0,this.dropSuppressionCookie(365),this._showConsentAccess());try{gtag("consent","update",{ad_storage:"denied",analytics_storage:"denied"})}catch(t){}window.evidon&&window.evidon.consentDeclinedCallback&&window.evidon.consentDeclinedCallback(),this.iabEnabled&&1===this.iabVersion&&window.evidon.cmp&&window.evidon.cmp.consentDeclined(),this.iabEnabled&&2===this.iabVersion&&window.evidon.cmpv2&&window.evidon.cmpv2.consentDeclined(),this.declineCallbackExecuted=!0}},n.prototype._getLegacyNoticeType=function(){if(1==this.consentTypeId){if(this.privacyAccessTypeId==i)return 0;if(this.privacyAccessTypeId==v)return 1}else if(2==this.consentTypeId){if(this.privacyAccessTypeId==i)return 4;if(this.privacyAccessTypeId==v)return 2}else if(3==this.consentTypeId)return 3;return 0},n.prototype._closeL3=function(){var t=document.getElementById(_),e=document.getElementById(S);t&&(t.style.display="none",t.style.opacity="0",setTimeout(function(){try{t.parentElement.removeChild(t)}catch(t){console.log(t)}},200)),e&&(e.style.display="none",e.style.opacity=0,setTimeout(function(){try{e.parentElement.removeChild(e)}catch(t){console.log(t)}},200))},n.prototype._navigationConsentGiven=function(){if(!this.navigationConsentEnabled)return!1;var t=document.referrer,e=this.activeDomain;return"/"===e.substr(e.length-1)&&(e=e.substr(0,e.length-1)),!!(t&&t!=document.URL&&-1<t.indexOf(e))&&(this.dropPixel(22),!0)},n.prototype._setTranslationValues=function(t,e){for(var n in t){var i=t[n];"object"==typeof i&&(i=i.id,t[n]=e[i])}return t},n.prototype._setActiveTranslations=function(){var t,e,n,i,o,s;this.languageRoot&&this.translations&&(this.activeSettings?(t=this.activeSettings).translations.hasOwnProperty(this.languageRoot)?this.translations.hasOwnProperty(this.languageRoot)?(e=0,(n=t.translations[this.languageRoot]).hasOwnProperty(this.languageCode)?e=n[this.languageCode]:n.hasOwnProperty(this.languageRoot)?e=n[this.languageRoot]:"en"==this.languageRoot&&n.hasOwnProperty("en-us")?e=n["en-us"]:(s=function(t){for(var e in t)return e}(n))&&(e=n[s]),e&&(this.activeTranslationId=e,(n=this.translations[this.languageRoot]).hasOwnProperty("items")?(this.activeTranslations=this._setTranslationValues(n[e],n.items),n.hasOwnProperty("categories")&&(i=n.categories[0],o=this.activeTranslations.languageCode,i.hasOwnProperty(o)?this.activeTranslations.categories=i[o]:(s=Object.keys(i)[0],this.activeTranslations.categories=i[s]))):this.activeTranslations=n[e])):this.activateTranslations(this.languageCode||this.languageRoot):this.activateTranslations(t.defaultTranslation.code):this.translations.hasOwnProperty(this.languageRoot)||this.activateTranslations(this.languageCode||this.languageRoot))},n.prototype._shouldShowConsentUI=function(){var t=this._isConsentGiven(),e=this._getSuppressionCookie();return 1!==this.consentTypeId&&(!e&&(!this.consentRequired&&!t||!t))},n.prototype._showConsentUI=function(){1===this.consentTypeId||(2===this.consentTypeId?(-1<j.indexOf(this.companyId)?this.appendScript(p+R):this.appendScript(p+"evidon-banner.js"),this.activeTranslations&&window.evidon.banner&&(document.getElementById("_evidon_banner")?window.evidon.banner.setTextValues(this.activeTranslations):window.evidon.banner.createNotice())):3===this.consentTypeId&&(-1<j.indexOf(this.companyId)?this.appendScript(p+V):this.appendScript(p+"evidon-barrier.js"),this.activeTranslations&&window.evidon.barrier&&(document.getElementById("_evidon-barrier-wrapper")?window.evidon.barrier.setTextValues(this.activeTranslations):window.evidon.barrier.createBarrierNotice())))},n.prototype._showConsentAccess=function(){var t="",e=this;this.privacyAccessTypeId===i?(t=this.getLinkStyle())&&window.evidon.link&&(window.evidon.link.createLink(t),this.activeTranslations&&window.evidon.link.setLinkText(this.activeTranslations)):setTimeout(function(){void 0!==window.evidon.banner&&window.evidon.banner.isVisible()||void 0!==window.evidon.barrier&&window.evidon.barrier.isVisible()?window.evidon.button.hide():(t=e.getButtonStyle())&&window.evidon.button&&(window.evidon.button.createButton(t),e.activeTranslations&&window.evidon.button.setButtonText(e.activeTranslations),e.checkConsentedVendors(),window.evidon.button.show())},500)},n.prototype._runNoConsentFlow=function(){this.consentRequired||(this._runConsentCallback(),this._isConsentGiven()||this._showConsentUI(),this._showConsentAccess())},n.prototype._runOptInFlow=function(){this._getSuppressionCookie()||(this._isConsentGiven()?this._runConsentCallback():(2===this.consentTypeId&&this._hookConsentEvents(),this._showConsentUI())),this._showConsentAccess()},n.prototype._runOptOutFlow=function(){var t,e=this._getSuppressionCookie();this._isConsentGiven()?this.consentDetailCategories?(t=this._getConsentedCategories())&&!t.hasOwnProperty("all")&&this._runConsentCallback(t,null,null):!this.consentDetailVendors||(t=this._getConsentedVendors())&&this._runConsentCallback(null,t,null):(this._runConsentCallback(),e||this._showConsentUI()),this._showConsentAccess()},n.prototype._getActiveCountryObject=function(){if(this.country&&this.activeSettings){var t=this.country.id;return this.activeStateId&&this.activeSettings.hasOwnProperty("states")&&this.activeSettings.states.hasOwnProperty(this.activeStateId)?this.activeSettings.states[this.activeStateId]:this.activeSettings.countries.hasOwnProperty(t)?(this.activeCountryId=t,this.activeSettings.countries[t]):(this.activeCountryId=this.activeSettings.defaultCountry,this.activeSettings.countries[this.activeSettings.defaultCountry])}return null},n.prototype.dropPixel=function(t,e){var n=window.evidon.id,i=this.activeSettings.id,o=this.activeCountryId,s="//l.evidon.com/site/v3/";"/"!==s.substr(s.length-1)&&(s+="/"),s+=n+"/"+i+"/"+o+"/"+t+"/"+this.consentTypeId+"/"+this.privacyAccessTypeId,0!=this.activeTranslationId&&(s+="/"+this.activeTranslationId),-1!==this.pixelsDropped.indexOf(s)&&!e||(this.pixelsDropped.push(s),(e=[]).push("consent="+(this.consentIsGiven?"1":"0")),this.customerUserId&&e.push("u="+encodeURI(this.customerUserId)),void 0!==this.regulationId&&null!==this.regulationId&&e.push("regulationid="+this.regulationId),void 0!==this.regulationConsentTypeId&&null!==this.regulationConsentTypeId&&e.push("regulationconsenttypeid="+this.regulationConsentTypeId),s+="?"+e.join("&"),(e=new Image(0,0)).style.display="none",e.src=s)},n.prototype.consentGiven=function(t,e,n,i,o){var s=!1;null==o&&(o=1),s=this._isConsentGiven()||this.shouldSupportAmp?this._isConsentGiven():this._setConsentCookie(null,e,n,i,o),this._runConsentCallback(e,n,i),this._detachEventTracking(),this.shouldSupportAmp||(window.evidon.banner&&window.evidon.banner.destroyNotice(),window.evidon.barrier&&window.evidon.barrier.destroyNotice()),s?(void 0!==t&&!1!==t||this.dropPixel(26),this.navigationStack=[],this.showNotice()):this.shouldSupportAmp||console.error("Unable to set ConsentCookie")},n.prototype.consentChanged=function(t,e,n){void 0!==window.evidon.consentChangedCallback&&window.evidon.consentChangedCallback(t,e,n),this.tagManagerEventFired=!1,e=this._getVendorsReturnObject(e),n=this._getCookiesReturnObject(n),this._triggerTagManagerEvent(t,e,n),this._runAdobeOptIn(t,e)},n.prototype.closeGiven=function(){this._runCloseCallback(),this._detachEventTracking(),this.shouldSupportAmp||(window.evidon.banner&&window.evidon.banner.destroyNotice(),window.evidon.barrier&&window.evidon.barrier.destroyNotice())},n.prototype.declineGiven=function(){this._runDeclineCallback(),this._detachEventTracking(),this.shouldSupportAmp||(window.evidon.banner&&window.evidon.banner.destroyNotice(),window.evidon.barrier&&window.evidon.barrier.destroyNotice()),this._showConsentAccess()},n.prototype.getConsentUrl=function(){return"https://l3.evidon.com/site/"+window.evidon.id+"/"+this.activeSettings.id+"/"+this.activeCountryId+"?lang="+this.languageCode},n.prototype.getDataRequestUrl=function(t){var e=window.evidon.id,n=this.activeSettings.id,i=this.activeCountryId,o=this.regulationId;return C+e+"/"+n+"/"+i+"/"+o+"?"+(t?"embed=1":"")},n.prototype.getDoNotSellRequestUrl=function(t){var e=window.evidon.id,n=this.activeSettings.id,i=this.activeCountryId,o=this.regulationId;return C+e+"/"+n+"/"+i+"/"+o+"?doNotSell=1&"+(t?"embed=1":"")},n.prototype.getPrivacyPolicyLink=function(){if(!this.activeCountryId)return"#";var t=this.activeSettings,e=this._getActiveCountryObject();return e&&t.privacyLinks&&t.privacyLinks.hasOwnProperty(e.privacyLinkId)?this._fixurl(this.activeSettings.privacyLinks[e.privacyLinkId]):"#"},n.prototype.getCookiePolicyLink=function(){if(!this.activeCountryId)return"#";var t=this.activeSettings,e=this._getActiveCountryObject();return e&&t.cookieLinks&&t.cookieLinks.hasOwnProperty(e.cookieLinkId)?this._fixurl(this.activeSettings.cookieLinks[e.cookieLinkId]):"#"},n.prototype.showPreferencesDialog=function(t,e){var n=this;window.evidon.preferencesDialog?window.evidon.preferencesDialog.isDisplayed&&window.evidon.preferencesDialog.isDisplayed()||(void 0===t&&(this.isCCPA()&&!this._isConsentGiven()&&0!==this.dataRightsType&&this.dnsEnabled&&(t=this.PREFDIAG_TABS.DONOTSELL),this.iabEnabled&&2===this.iabVersion&&window.evidon.cmpv2&&window.evidon.cmpv2.consentUIShown()),t&&(window.evidon.preferencesDialog.TAB_ID=t),e&&(window.evidon.preferencesDialog.TAB_SECONDARY_ID=e),window.evidon.preferencesDialog.init(),this.dropPixel(7),void 0!==window.evidon.banner&&window.evidon.banner&&window.evidon.banner.hideForOptions(),void 0!==window.evidon.barrier&&window.evidon.barrier&&window.evidon.barrier.hideForOptions()):(this.appendScript(p+"evidon-preferences-dialog.js",function(){n.showPreferencesDialog(t,e)}),window.evidon.events.subscribe("l2closed",function(){n._showConsentAccess()},1))},n.prototype.showOptionPanel=function(t){var e=this;window.evidon.gdprL2?window.evidon.gdprL2.showOverlay(t):(-1<j.indexOf(this.companyId)?this.appendScript(p+B,function(){e.showOptionPanel(t)}):this.appendScript(p+"evidon-gdpr-overlay.js",function(){e.showOptionPanel(t)}),this.dropPixel(7))},n.prototype.showOptions=function(t,e,n){this.L2Enabled?this.getPreferencesDialogV2Enabled()?this.showPreferencesDialog(e,n):this.showOptionPanel(t):this.showConsentTool(t)},n.prototype.showConsentTool=function(t){var e,n=void 0!==this.activeSettings.consentDisplayType&&this.activeSettings.consentDisplayType||1;1==n||3==n&&-1===window.location.protocol.indexOf("https")?((e=document.createElement("div")).style.cssText="background-color: #000000; opacity:.7; position:fixed;top:0;left:0;bottom:0;right:0; z-index:2147483640;",e.id=_,document.body.appendChild(e),(n=document.createElement("div")).id=S,this.isMobile()?n.style.cssText="position:absolute; top:0;left:0; bottom:0; right:0;;z-index:2147483647; padding: 28px 0 0 0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-y:scroll;":n.style.cssText="position:fixed; top: 10%;left:20%; width:60%;height:80%;z-index:2147483647; padding: 28px 0 0 0;",(e=document.createElement("button")).style.cssText="position:absolute; top:4px;right:8px;color:white; background:transparent;font-size:12px;border:0; psdding:4px;cursor:pointer;padding:0;",e.innerHTML=this.activeTranslations.gdprl2Close+"&nbsp; &#x2716;",e.onclick=this._closeL3,n.appendChild(e),(e=document.createElement("iframe")).id="_evidon-consent-frame",e.scrolling="yes",e.seamless="seamless",e.frameBorder="0",e.src=this.getConsentUrl(),e.style.cssText="width:100%; height:100%;",e.onload=function(){document.getElementById(S).style.position="fixed"},n.appendChild(e),document.body.appendChild(n)):window.open(this.getConsentUrl(),"L3"),this.dropPixel(6)},n.prototype.isMobile=function(){var t=navigator.userAgent;return/ip(hone|od)|(android).+mobile|opera m(ob|in)i/i.test(t)||/Android/.test(t)||/iPhone/.test(t)||/iPad/.test(t)},n.prototype.showNotice=function(){if(!this.settings){if(void 0===window.evidon.settings||!window.evidon.settings)return;this.settings=window.evidon.settings}if(this.country||window.evidon.location&&(this.country=window.evidon.location),this.country&&(this.activeSettings=this._getSettings(),this.activeSettings)){this.activeCountryId=this.country.id,this.activeStateId=this.country.hasOwnProperty("stateId")?this.country.stateId:null;var t=this._getActiveCountryObject();if(t){if(this._isDomReady()&&(this.themes||(this.themes=window.evidon.themes||null),this.themes)){if(!this.vendorList){if(!this.activeSettings.vendorLinks)return void this.getVendorList();this.vendorList=this.activeSettings.vendorLinks}t.hasOwnProperty("consentTemplate")&&window.evidon.consentTemplates?(e=t.consentTemplate,e=window.evidon.consentTemplates[e],this._loadSettings(e)):this._loadSettings(t),this.dataRightsType=void 0===t.dataRightsType?0:t.dataRightsType;var e=void 0===t.rightslinkId?0:t.rightslinkId;0!==e&&this.activeSettings.hasOwnProperty("rightsLinks")&&this.activeSettings.rightsLinks.hasOwnProperty(e)?this.rightsLink=this._fixurl(this.activeSettings.rightsLinks[e]):this.rightsLink="",this.dnsRightsType=t.hasOwnProperty("dnsRightsType")?t.dnsRightsType:1,0==this.dnsRightsType&&0!==(n=void 0===t.dnslinkId?0:t.dnslinkId)&&this.activeSettings.hasOwnProperty("dnsLinks")&&this.activeSettings.dnsLinks.hasOwnProperty(n)?this.dnsLink=this._fixurl(this.activeSettings.dnsLinks[n]):this.dnsLink="";var n=void 0===t.pubvendorsLinkId?0:t.pubvendorsLinkId;if(this.pubvendorsLink=0===n?null:this.activeSettings.pubvendorsLinks[n],this.activeVendorId=t.vendor,this._setActiveTranslations(),!this._isConsentGiven()&&this._navigationConsentGiven()&&this.consentGiven(!0),this.consentRequired?1===this.regulationConsentTypeId?this._runOptInFlow():2===this.regulationConsentTypeId&&this._runOptOutFlow():this._runNoConsentFlow(),this.dropPixel(1),this.iabEnabled){1===this.iabVersion?this.appendScript("https://iabmap.evidon.com/iabevidonmapping.js"):2===this.iabVersion&&(this.appendScript("https://iabmap.evidon.com/tcfv2/iabevidonmapping.js"),this.appendScript("https://c.evidon.com/iab/vendor-list-script.json")),this.appendScript(p+k[this.iabVersion]);var i=this._getSuppressionCookie();switch(this.iabVersion){case 1:window.__cmp?window.__cmp("setSuppression",null!==i):console.error("unable to find __cmp stub");break;case 2:window.__tcfapi?window.__tcfapi("setSuppression",null!==i):console.error("unable to find __tcfapi stub")}}window.evidon.events._fireEvent("loaded",null)}}else console.log("No consent settings found for the country: "+this.activeCountryId)}},n.prototype.checkConsentedVendors=function(){var t=this.getActiveVendors(),e=this._getConsentedVendors();e&&e.hasOwnProperty("all")&&e.all||0<(e=this._getNewVendors(t,e)).length&&"function"==typeof this.newVendorCallback&&this.newVendorCallback(e)},n.prototype.getActiveVendors=function(){if(this.activeSettings&&this.activeSettings.hasOwnProperty("vendors")){var t=this.activeVendorId;return-1!==t&&this.activeSettings.vendors.hasOwnProperty(t)?this.activeSettings.vendors[t]:null}},n.prototype._getConsentedCategories=function(){return this._getConsentDataSpecific("categories")},n.prototype._getConsentedCookies=function(){return this._getConsentDataSpecific("cookies")},n.prototype._getConsentedVendors=function(){return this._getConsentDataSpecific("vendors")},n.prototype._getConsentDataSpecific=function(t){var e=this._getConsentDataFromLocalStorage(t);return e=!(e=e||this._getConsentDataFromCookie(t))&&2===this.regulationConsentTypeId&&!this.isOptedOut()?{all:!0}:e},n.prototype._getConsentDataFromLocalStorage=function(t){var e=this._readLocalStorage(f+this.activeSettings.id);return e&&(e=JSON.parse(e)).hasOwnProperty(t)&&e[t].hasOwnProperty(this.activeCountryId)?e[t][this.activeCountryId]:null},n.prototype._getConsentDataFromCookie=function(t){var e=this._getConsentCookie();if(!e||!e.value)return null;var n,e=e.value;return"string"==typeof e?(n=new Date(unescape(e)),e=this._setConsentCookie(n)):"object"==typeof e&&(n=this.activeSettings.hasOwnProperty("includeSubdomains")?this.activeSettings.includeSubdomains:0,e.hasOwnProperty(t)&&1!=n&&(n=e.hasOwnProperty("consent_type")?e.consent_type:1,this._setConsentCookie(new Date(e.consent_date),null,null,null,n))),e.hasOwnProperty(t)&&e[t].hasOwnProperty(this.activeCountryId)?e[t][this.activeCountryId]:null},n.prototype._getNewVendors=function(t,e){if(!t||!e)return[];var n=[];if(Array.isArray(e))n=e;else for(var i in e)n.push(parseInt(i));for(var o=[],s=0;s<t.length;s++){i=t[s];-1===n.indexOf(i)&&o.push(i)}return o},n.prototype.setLocation=function(t){this.country=t,this.langaugeRoot||this.activateTranslations(t.defaultLanguage),this.showNotice()},n.prototype.setThemes=function(t){this.themes=t,this.showNotice()},n.prototype.getVendorList=function(){this.appendScript(p+"vendorlist.js")},n.prototype.setVendorList=function(t){this.vendorList=t,this.showNotice()},n.prototype.activateTranslations=function(t){void 0!==t&&t&&(this.languageCode=t,this.languageRoot=t,-1!==(t=this.languageCode.indexOf("-"))&&(this.languageRoot=this.languageCode.substr(0,t)),this.translations.hasOwnProperty(this.languageRoot)?(this._setActiveTranslations(),this.showNotice()):(t=u+"/translations/"+this.languageRoot+".js",this.appendScript(t),this.activeTranslations=null))},n.prototype.setDomain=function(t,e){var n,i;t?-1===(n=(t=-1!==(n=(t=t.toLowerCase()).indexOf("://"))?t.substr(n+3):t).indexOf("/"))?(this.domain=t,this.path="/"):(this.domain=t.substr(0,n),-1!==(n=(t=t.substr(n)).indexOf("?"))&&(t=t.substr(0,n)),this.path=t):(this.domain=window.location.hostname.toLowerCase(),this.path=window.location.pathname.toLowerCase(),-1<(i=this.path.lastIndexOf("/"))&&-1<(n=this.path.indexOf(".",i))&&(this.path=this.path.substr(0,i))),void 0!==e&&e||(i=(i=this._getRootDomain(this.domain)).replace(".",""),e=void 0!==window.evidon.test&&window.evidon.test,e=u+"/"+i+(e?"/test":"")+"/settings.js",this.appendScript(e)),this.showNotice()},n.prototype.addTranslation=function(t,e){this.translations[t]=e,this.showNotice()},n.prototype.loadSettings=function(t){this.settings=t,this.showNotice()},n.prototype.getBannerStyle=function(){return 2!==this.consentTypeId?null:(this.themes||(this.themes=window.evidon.themes),this.themes&&this.themes.hasOwnProperty(this.activeSettings.themeId)?this.themes[this.activeSettings.themeId].banner:null)},n.prototype.getConsentTypeStyle=function(){return this.getBarrierStyle()||this.getBannerStyle()},n.prototype.getBarrierStyle=function(){return 3!==this.consentTypeId?null:(this.themes||(this.themes=window.evidon.themes),this.themes&&this.themes.hasOwnProperty(this.activeSettings.themeId)?this.themes[this.activeSettings.themeId].barrier:null)},n.prototype.getButtonStyle=function(){return this.privacyAccessTypeId!==v?null:(this.themes||(this.themes=window.evidon.themes),this.themes&&this.themes.hasOwnProperty(this.activeSettings.themeId)?this.themes[this.activeSettings.themeId].button:null)},n.prototype.getLinkStyle=function(){return this.privacyAccessTypeId!==i?null:(this.themes||(this.themes=window.evidon.themes),this.themes&&this.themes.hasOwnProperty(this.activeSettings.themeId)?this.themes[this.activeSettings.themeId].link:null)},n.prototype.getL2Style=function(){if(this.L2Enabled)return this.themes||(this.themes=window.evidon.themes),this.themes&&this.themes.hasOwnProperty(this.activeSettings.themeId)?this.themes[this.activeSettings.themeId].l2:null},n.prototype.getPreferencesDialogV2Enabled=function(){var t=this.getL2Style();return!!t&&(this.isMobile()?t.mobileEnablePreferencesDialogV2:t.enablePreferencesDialogV2)},n.prototype.isGDPR=function(){return this.gdprEnabled||this.regulationId===w},n.prototype.isCCPA=function(){return this.regulationId===g},n.prototype.isOptedOut=function(){var t=this._getConsentCookie();return!(!t||!t.value)&&(!!t.value.hasOwnProperty("consent_type")&&2===t.value.consent_type)},n.prototype.getTranslations=function(){return this.activeTranslations},n.prototype.formatTranslation=function(t){var e=new RegExp("{company}","g"),n=new RegExp("{consentToolUrl}","g"),i=new RegExp("{privacyPolicy}","g"),o=new RegExp("{cookiePolicy}","g"),s=new RegExp("{duration}","gi"),r=new RegExp("{vendorcount}","gi"),a=new RegExp(P,"gi"),d=new RegExp(A,"gi"),l=new RegExp(N,"gi"),c=this.getConsentUrl(),h=this.getPrivacyPolicyLink(),p=this.getCookiePolicyLink(),u=this.activeSettings.division||"",v=this.consentDuration,g=window.evidon.notice.isMobile();if(t){var w=this.getActiveVendors();if(null===w&&(w=[]),this.activeTranslations.hasOwnProperty("categories")){var y={};for(S in this.activeTranslations.categories){var f=this.activeTranslations.categories[S];if("object"==typeof f&&f.hasOwnProperty("vendors")){for(var b=f.vendors,m=0;m<w.length;m++)if(-1!==b.indexOf(w[m])){y[S]=f.text;break}}else y[S]=f}if(-1<t.indexOf(P)){var C=[];for(S in y){var k='<a class="evidon-category-link" href="#" onclick="window.evidon.notice.showPreferencesDialog(\''+this.PREFDIAG_TABS.CONSENT+"', '"+S+"'); return false;\">"+y[S]+"</a>";C.push(k)}var _=C.join(", ");t=t.replace(a,_)}else if(-1<t.indexOf(A)){var S,O="";for(S in y)O+="<li>"+y[S]+"</li>";t=t.replace(d,O)}}-1<(t=(t=t.replace(e,u).replace(n,c).replace(i,h).replace(o,p)).replace(s,"<b>"+v+"</b>").replace(r,"<b>"+w.length+"</b>")).indexOf(N)&&(h=p&&"#"!==p?p:h&&"#"!==h?h:null,t=(g=(g?this.activeTranslations.mobilepolicyButtonText:this.activeTranslations.policyButtonText)||null)&&h?t.replace(l,'<br /><br /><a href="'+h+'" target="_blank" class="evidon-policybutton">'+g+"</a>"):t.replace(l,""))}return t},n.prototype.dropSuppressionCookie=function(t,e){var n={date:new Date},i=null;void 0!==t&&0<t&&((o=new Date).setDate(o.getDate()+t),i=o.toUTCString());var t=this._getConsentCookieDomainPath(),o=this._getConsentCookieDomain();return this._writeCookie(b,JSON.stringify(n),i,t,o),n},n.prototype._getCookie=function(t){for(var e=this._readCookies(),n=0;n<e.length;n++){var i=e[n];if(i.name===t)return i}return null},n.prototype._readCookies=function(){for(var t=document.cookie.split(";"),e=[],n=0;n<t.length;n++){var i=t[n],o=i.slice(0,i.indexOf("=")).replace(/^\s+|\s+$/g,""),i=i.slice(i.indexOf("=")+1),o={name:o};try{o.value=JSON.parse(i)}catch(t){o.value=i}e.push(o)}return e},n.prototype._writeCookie=function(t,e,n,i,o){e=[t+"="+e];"string"==typeof n&&e.push("expires="+n),e.push("path="+i),e.push("SameSite=Lax"),"string"==typeof o&&e.push("domain="+o);e=e.join("; ");return document.cookie=e,-1<document.cookie.indexOf(t)},n.prototype._readLocalStorage=function(t){try{if(!window.localStorage)return!1}catch(t){return!1}return window.localStorage.getItem(t)},n.prototype._writeLocalStorage=function(t,e){try{if(!window.localStorage)return!1}catch(t){return!1}return window.localStorage.setItem(t,e),null!==window.localStorage.getItem(t)},n.prototype._removeLocalStorageItem=function(t){window.localStorage&&window.localStorage.removeItem(t)},n.prototype.withdrawConsent=function(){this._deleteConsentCookie(),this.consentIsGiven=!1,this.dropPixel(23),window.evidon.consentWithdrawnCallback&&window.evidon.consentWithdrawnCallback()},n.prototype.newVendorCallback=function(t){window.evidon.button&&window.evidon.button.showNewVendorIndicator(),window.evidon.cmp&&window.evidon.cmp.consentString&&window.evidon.cmp.newVendorCallback(t),window.evidon.cmpv2&&window.evidon.cmpv2.consentString&&window.evidon.cmpv2.newVendorCallback(t)},n.prototype._pullOptOutDetails=function(a){var t=window.evidon.id,e=this.activeSettings.id,n=this.activeCountryId,d=this,i=m;"/"!==i.substr(i.length-1)&&(i+="/"),i+="vendor/"+t+"/"+e+"/"+n+"?lang="+this.languageCode;var l=new XMLHttpRequest;l.onerror=function(){Toast.show(TOAST_ERROR,getTranslation(d.isMobile()?"mobilesnL2L3FetchVendorsError":"snL2L3FetchVendorsError"),7)},l.onreadystatechange=function(){if(4===l.readyState)if(200===l.status){var t=JSON.parse(l.responseText);d.optOutDetails={},d.optOutDetails.categories={},d.optOutDetails.cookies={};for(var e=t.hasOwnProperty("thirdparty")?t.thirdparty:[],n=0;n<e.length;n++){var i=e[n],o=(i.hasOwnProperty("CategoryBucketId")?i.CategoryBucketId:i.CategoryBucket).toLowerCase();d.optOutDetails.categories.hasOwnProperty(o)||(d.optOutDetails.categories[o]={id:o,name:i.CategoryBucket,description:i.CategoryDescription,required:i.CategoryRequired,vendors:[]}),d.optOutDetails.categories[o].vendors.push(i)}for(var s=t.hasOwnProperty("firstparty")?t.firstparty:[],n=0;n<s.length;n++){var r=s[n];d.optOutDetails.cookies[r.CountryCookieId]={id:r.CountryCookieId,name:r.Name,description:r.Description,required:r.Required}}a()}else 500===l.status&&a({message:"Unable to load the opt-out vendor list"},null)},l.open("GET",i,!0),l.send(null)},n.prototype.getOptOutCategories=function(e){var n=this;this.optOutDetails?e(null,n.optOutDetails.categories):this._pullOptOutDetails(function(t){t?e(t,null):e(null,n.optOutDetails.categories)})},n.prototype.getOptOutCategory=function(t){return this.optOutDetails&&this.optOutDetails.categories.hasOwnProperty(t)?this.optOutDetails.categories[t]:null},n.prototype.getOptOutCookies=function(e){var n=this;this.optOutDetails?e(null,n.optOutDetails.cookies):this._pullOptOutDetails(function(t){t?e(t,null):e(null,n.optOutDetails.cookies)})},n.prototype.findVendorDetails=function(t){for(var e=0;e<this.companydetails.length;e++)if(this.companydetails[e].permalink===t)return this.companydetails[e];return null},n.prototype.pullVendorDetails=function(t,e){var n,i=m,o=this,s=this.findVendorDetails(t);s?e(null,s):("/"!==(i=i.replace("/site","")).substr(i.length-1)&&(i+="/"),i+="company/"+t+"/"+this.activeTranslationId,(n=new XMLHttpRequest).onerror=function(){},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?(s=JSON.parse(n.responseText),o.companydetails.push(s),e(null,s)):500===n.status&&e({message:"Unable to load the vendor details"},null))},n.open("GET",i,!0),n.send(null))},n.prototype.pushNavigationScreen=function(t){this.navigationStack.push(t)},n.prototype.popNavigationScreen=function(){return this.navigationStack.length<1?null:this.navigationStack.pop()},n.prototype.getNavigationScreenStackCount=function(){return this.navigationStack.length},n.prototype.setUserIdentifier=function(t){this.customerUserId=t},n.prototype.getOptOutApiUrl=function(){return m};window.evidon.events||(window.evidon.events=new function(){this.subscriptions={},this.subscribe=function(t,e,n){this.subscriptions.hasOwnProperty(t)||(this.subscriptions[t]=[]),this.subscriptions[t].push({callback:e,limit:n=n||-1})},this._fireEvent=function(t,e){if(this.subscriptions.hasOwnProperty(t))for(var n=this.subscriptions[t],i=0;i<n.length;i++){var o=n[i];o.callback&&"function"==typeof o.callback&&(o.callback.call(null,e),-1!==o.limit&&(o.limit--,0===o.limit&&(n.splice(i,1),i--)))}}}),window.evidon.notice||(window.evidon.notice=new n),window.evidon.button||(window.evidon.button=new t),window.evidon.link||(window.evidon.link=new e),window.evidon.events._fireEvent("apiReady",null)}();

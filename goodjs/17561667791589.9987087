(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[22],{229:function(n,t,i){"use strict";i.r(t),i.d(t,"default",function(){return a});var L=i(0),f=i.n(L),_=i(52),v=i(34),y=i(157),k=i(273),I=i(392),O=i(292);function w(n,t,i,a,e,c,o){try{var s=n[c](o),r=s.value}catch(n){return i(n),0}s.done?t(r):Promise.resolve(r).then(a,e)}var a=n=>{var{data:{homepageLink:t,notificationsLink:i,accountLabel:e,signInLabel:c,accessibilityLinks:a,searchLink:o,menuLabel:s,moreLabel:r,closeButtonLabel:l,navigationLinks:u}}=n,p="https://account.bbc.com/account",d=Object(v.f)(),{host:b,language:g}=Object(k.b)(),n=!g||"cy"!==g&&"gd"!==g&&"en"!==g||g.endsWith("-GB")?g:"".concat(g,"-GB"),g="https://".concat(b).concat(d.pathname),[d,m]=Object(L.useState)({signedIn:!1,prompt:e,url:p}),h=b&&!b.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return Object(L.useEffect)(()=>{var s,n,i=Object(y.b)("ckns_id").ckns_id,t=new AbortController,a=t["signal"];return s=function*(){try{var t=yield(yield Object(_.a)(h,{signal:a})).json();if("GREEN"===t["id-availability"])if(i)try{var n=JSON.parse(window.atob(i));m({signedIn:!0,prompt:n.dn||e,url:p,hasDisplayName:!!n.dn})}catch(n){m({signedIn:!1,prompt:c,url:t.signin_url})}else m({signedIn:!1,prompt:c,url:t.signin_url})}catch(n){m({signedIn:!1,prompt:e,url:p})}},n=function(){var n=this,o=arguments;return new Promise(function(t,i){var a=s.apply(n,o);function e(n){w(a,t,i,e,c,"next",n)}function c(n){w(a,t,i,e,c,"throw",n)}e(void 0)})},function(){n.apply(this,arguments)}(),()=>{t.abort()}},[e,h,c]),f.a.createElement(I.a,{signedIn:d.signedIn,signInPrompt:d.prompt,signInUrl:d.url,hasDisplayName:d.hasDisplayName,signInPtrt:g,language:n,homepageLink:t,notificationsLink:i,accessibilityLinks:a,searchLink:o,menuLabel:s,moreLabel:r,closeButtonLabel:l,footerNavigationId:O.a,items:u})}}}]);

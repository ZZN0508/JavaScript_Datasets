(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2rSK":function(e,t,a){"use strict";t.a=e=>{var t=e.postUrl;return{blog:e.blog,permalinkUrl:t}}},"4NU8":function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),n=a("s2Hx"),a=a("fSeh"),o=Object(n.c)(o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 11.018V7.88c0-1.914-.601-4.15-1.791-5.434-1.187-1.283-2.744-1.443-4.607-1.442-2.148-.001-3.604-.147-5.075 1.442C5.84 3.725 6 7.066 6 7.88v3.138l-2 .067c-.579.159-1 .523-1 1.003v9.904C3 22.471 3.527 23 4 23h17c.476 0 1-1.04 1-1.04v-9.872c0-1.008-.525-1.07-1-1.07h-2zM9.834 4.736c.65-.794 1.83-1.085 2.768-1.085.936 0 2.062.291 2.712 1.085.647.794.686 2.112.686 3.375v2.885H9V8.11c0-1.263.189-2.578.834-3.375z"})));o.defaultProps={size:{width:24,height:24},fill:a.white},t.a=o},"7l1C":function(e,t,a){"use strict";function n(l,r){return new Promise((e,t)=>{var a=document.createElement("span");a.textContent=l,a.style.whiteSpace="pre",a.style.position="absolute",a.style.opacity="0",a.style.fontWeight="normal",a.style.color="black",a.style.backgroundColor="white";var n=r||document.body;n.appendChild(a);var o,s=document.createRange(),i=window.getSelection();if(i){s.selectNodeContents(a),i.removeAllRanges(),i.addRange(s);try{o=document.execCommand("copy")}catch(e){o=!1}n.removeChild(a),(o?e:t)()}else t()})}a.d(t,"a",function(){return n})},"8ADl":function(e,t,a){"use strict";var n=a("lSNA"),o=a.n(n),s=a("q1tI"),i=a.n(s),l=a("Wwog"),r=a("cTEG"),c=a("ZppI"),d=a("hpQ+"),p=a("apQO"),m=a("VXYR"),n=a("o56e"),u=a("cLI3"),h=a("/J8q"),g=a("p8qf");class b extends s.Component{constructor(){super(...arguments),o()(this,"state",{}),o()(this,"getPostContextValue",Object(l.a)(e=>({post:e,presentationStyle:p.a.iponweb}))),o()(this,"onClick",()=>{var e=this.props.timelineObject.adm;(0,this.props.adContext.sendClickADMBeacon)(e)})}componentDidMount(){var e=this.props,t=e.adContext,a=t.adPlacementConfiguration,n=t.hydraConfigInstanceId,t=e.appContext.logEvent,e=e.timelineObject;this.generateIOWModel(),Object(u.a)(t,a,e,n)}render(){var e=this.state.iponWebResponse;if(!(e&&null!=e&&e.sponsorName&&null!=e&&e.avatar&&null!=e&&e.title))return null;var t=this.props.timelineObject.adm.native.link.url,a=this.props.appContext._t,n={url:e.avatar.url,width:e.avatar.w,height:e.avatar.h,hasOriginalDimensions:!0},o={blog:{name:a("Sponsored by %1$s",e.sponsorName),url:"",avatar:[n],isAdult:!1},permalinkUrl:""},a=i.a.createElement(d.a,{postAttribution:o,presentationStyle:p.a.iponweb,showsFollowButton:!1,showsSponsored:!1,isFollowingPoster:!1,isFollowingReblogger:!1,isNonInteractive:!0}),n=e.sponsorName&&e.img?i.a.createElement(m.b,{imageResponse:[{url:e.img.url,width:e.img.w,height:e.img.h,hasOriginalDimensions:!0}]}):null,o=e.cta?i.a.createElement("div",{className:h.a.ctaButton},i.a.createElement("p",null,e.cta)):null;return i.a.createElement(g.b.Provider,{value:this.getPostContextValue(this.props.timelineObject)},i.a.createElement("a",{className:h.a.nativeIponWebAd,href:t,onClick:this.onClick,role:"button",target:"_blank",rel:"noopener"},a,i.a.createElement("div",{className:h.a.adText},i.a.createElement("h2",null,e.title),i.a.createElement("p",null,e.description)),n,o))}generateIOWModel(){var e=this.props.timelineObject.adm.native.assets;this.setState({iponWebResponse:e.reduce((e,t)=>{if(t.title&&(e.title=t.title.text),t.img)switch(t.img.type){case c.b.Icon:e.avatar=t.img;break;case c.b.Main:e.img=t.img}if(t.data)switch(t.data.type){case c.a.Sponsored:e.sponsorName=t.data.value;break;case c.a.Description:e.description=t.data.value;break;case c.a.AdditionalDesc:e.additionalDescription=t.data.value;break;case c.a.CTAText:e.cta=t.data.value}return e},{})})}}n=Object(n.b)(b,{appContext:!0,adContext:!0});t.a=Object(r.a)(n)},"9oo1":function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("lSNA"),i=a.n(s),l=a("q1tI"),c=a.n(l),r=a("dRu9"),d=a("pVnL"),p=a.n(d),n=a("17x9"),m=a("xVcy"),u=a("zoQI"),h=a("Jq/n"),g=a("hRDA"),s=a("y4uf"),d=a("fSeh"),b=a.n(d),v=a("w2aY"),f=a("LoOh"),E=a("KssM");class w extends l.Component{constructor(){super(...arguments),i()(this,"state",{followed:!!this.props.isFollowed})}getChildContext(){var t=this;return{onFollow:function(e){t.setState({followed:!(1<arguments.length&&void 0!==arguments[1])||arguments[1]})}}}render(){var e=this.props,t=e.rowTheme,a=e.avatar,n=e.avatarShape,o=e.blogName,s=e.blogTitle,i=e.blogUrl,l=e.onFollow,r=e.onClose,e=e.appContext._t,l=void 0!==l&&!this.state.followed&&c.a.createElement(m.a,{following:this.state.followed,blogName:o,blogUrl:i,onFollow:l,className:E.a.blogRowFollowButton}),e=c.a.createElement(u.a,{wrapperClassName:f.a.closeButton,onClick:r,label:e("Dismiss Recommendation")},c.a.createElement(g.a,{fill:b.a.paletteTransparentWhite13,width:10,height:10})),i={avatar:a,avatarShape:n,blogName:o,blogTitle:s,blogUrl:i};return c.a.createElement("div",{className:Object(h.a)({[f.a.sidebarBlogRow]:!0})},c.a.createElement(v.c,p()({},i,{isMobile:!1,floatingButton:l,theme:t||v.b.Dark,openBlogCard:v.a.Body})),e)}}i()(w,"childContextTypes",{onFollow:n.func});var y,C=Object(s.d)(w),I=a("yBJ7"),O=a("Qtnd"),k=a("lp1z"),n=a("bt0A"),N=a.n(n),P=a("ZASP"),A="".concat(N.a.postSlideOutDurationInMs,"ms ease-out");(a=y=y||{})[a.None=0]="None",a[a.DismissBlog=1]="DismissBlog",a[a.FollowBlog=2]="FollowBlog";class S extends l.Component{constructor(){super(...arguments),i()(this,"state",o()({indexesToRemove:[],animationType:y.None},this.props.getInitialContent())),i()(this,"apiHelper",Object(O.a)(this.props.appContext.apiFetch)),i()(this,"fetchInProgress",null),i()(this,"rowHeightInPixels",59),i()(this,"renderRows",n=>{var o=this.props.rowTheme;return this.state.blogs.slice(0,this.getNumberOfBlogsToShow()).map((e,t)=>{var a;return c.a.createElement("li",{key:"".concat(e.name,"-").concat(t),className:P.a.blogRowHolder},c.a.createElement("div",{className:Object(h.a)({[P.a.blogRow]:!0,[P.a.dismiss]:this.isBlogInAnimationState(t,y.DismissBlog),[P.a.follow]:this.isBlogInAnimationState(t,y.FollowBlog),[P.a.hide]:this.isBlogInAnimationState(t,y.None)}),style:this.getCalculatedSlideUpStyles(t,n)},c.a.createElement(C,{blogName:e.name,blogTitle:null!==(a=e.title)&&void 0!==a?a:"",blogUrl:e.url,avatar:null!==(a=e.avatar)&&void 0!==a?a:[],isFollowed:e.followed,onFollow:e.canBeFollowed?this.animateFollowBlog.bind(this,t):void 0,onClose:this.animateDismissBlog.bind(this,t),rowTheme:o})))})}),i()(this,"rowRemovalComplete",()=>this.setState({animationType:y.None})),i()(this,"getNumberOfBlogsToShow",()=>this.props.numberOfBlogsToShow+this.state.indexesToRemove.length),i()(this,"isBlogInAnimationState",(e,t)=>this.state.indexesToRemove.includes(e)&&this.state.animationType===t),i()(this,"shouldBlogRowSlideUp",e=>{var t=this.state.indexesToRemove;return 0<t.length&&e>Math.max(...t)}),i()(this,"getCalculatedSlideUpStyles",(e,t)=>this.shouldBlogRowSlideUp(e)&&t===r.d?{transform:"translateY(-".concat(this.rowHeightInPixels*this.state.indexesToRemove.length,"px)"),transition:"transform ".concat(A)}:{}),i()(this,"fetchBlogs",()=>{var e=this.state.nextLink,t=this.props.appContext.apiFetch;return e?(this.cancelInProgressFetchIfNecessary(),this.fetchInProgress=Object(k.a)(t(e.href)),this.fetchInProgress.then(e=>{var t=this.state.blogs,a=(0,this.props.getContentFromResponse)(e),e=a.nextLink,a=a.blogs;this.setState({nextLink:e,blogs:t.concat(a)})})):Promise.resolve()}),i()(this,"logBlogDismissal",(t,e,a)=>Promise.all(e.map(e=>this.apiHelper.logBlogDismissal(t[e].url).fetch())).then(()=>a?this.fetchBlogs():Promise.resolve())),i()(this,"removeRowAndAnimateSlideUp",()=>{var e=this.state,t=e.blogs,a=e.animationType,n=e.indexesToRemove,e=t.filter((e,t)=>!n.includes(t));this.setState({indexesToRemove:[],blogs:e});e=e.length<=5;return a===y.DismissBlog?this.logBlogDismissal(t,n,e):e?this.fetchBlogs():Promise.resolve()}),i()(this,"animateDismissBlog",e=>this.setState({indexesToRemove:[e],animationType:y.DismissBlog})),i()(this,"animateFollowBlog",e=>this.setState({indexesToRemove:[e],animationType:y.FollowBlog})),i()(this,"animateDismissAllBlogs",()=>this.setState({indexesToRemove:[...Array(this.props.numberOfBlogsToShow).keys()],animationType:y.DismissBlog})),i()(this,"cancelInProgressFetchIfNecessary",()=>{var e;return null===(e=this.fetchInProgress)||void 0===e?void 0:e.cancel()})}componentDidMount(){return this.fetchBlogs()}componentDidUpdate(t){return new Promise(e=>{t.recommendedTag!==this.props.recommendedTag?this.setState(this.props.getInitialContent(),()=>this.fetchBlogs().then(e)):t.title!==this.props.title?this.setState(this.props.getInitialContent(),e):e()})}componentWillUnmount(){this.cancelInProgressFetchIfNecessary()}render(){var e=this.props,t=e.title,a=e.numberOfBlogsToShow,n=e.dismissAllLabel,o=e.isInDashboardStyle,s=e.appContext._t,i=this.state,l=i.blogs,e=i.nextLink,i=i.animationType;return l.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:P.a.recommendedBlogs,"aria-label":t,style:{height:this.rowHeightInPixels*a}},c.a.createElement(r.f,{in:i!==y.None,timeout:N.a.postSlideOutDurationInMs,onEntered:this.rowRemovalComplete,onExited:this.removeRowAndAnimateSlideUp},this.renderRows)),n&&c.a.createElement("div",{className:P.a.dismissAll},c.a.createElement(u.a,{label:n,onClick:this.animateDismissAllBlogs},n))):e?c.a.createElement("div",{className:P.a.loadingBlogs},c.a.createElement(I.b,{small:!0})):c.a.createElement("span",{className:o?P.a.dashboardEmpty:P.a.alternateEmpty},s("No blogs available."))}}i()(S,"defaultProps",{numberOfBlogsToShow:4,title:""});var x=Object(s.d)(S);class _ extends l.Component{render(){return c.a.createElement(x,this.props)}}i()(_,"defaultProps",S.defaultProps),t.a=_},A4z9:function(e,t,a){"use strict";var r=a("q1tI"),c=a.n(r),n=a("s2Hx"),o=Object(n.c)(c.a.createElement("svg",{viewBox:"0 0 7.7 9.9"},c.a.createElement("path",{d:"M3.3 0h1.5v.9c1.5.2 2.3.8 2.7 1.4L5.9 3.6c-.5-.5-1.1-1-1.7-1-.4 0-.6.1-.6.4 0 1.2 4.1.8 4.1 3.3 0 1.5-1.1 2.5-3.1 2.7v.9H2.9v-1C1.5 8.7.5 8.1 0 7.5l1.7-1.4c.5.6 1.3 1.1 2 1.1s.9-.2.9-.4c0-1-4.2-.7-4.2-3.3 0-1.2 1-2.3 2.8-2.5V0h.1z"})));o.defaultProps={size:{width:14,height:8}};var d=o,n=Object(n.c)(c.a.createElement("svg",{viewBox:"0 0 22 22"},c.a.createElement("path",{d:"M12.63 22l-.474-3.45c.238-.058.475-.058.712-.118l.83 3.39c-.356.06-.71.12-1.067.178zm-5.158-.476a4.68 4.68 0 0 1-.95-.416l1.483-3.15c.238.118.415.177.653.296l-1.186 3.27zm10.85-2.08l-2.31-2.617c.177-.178.355-.297.532-.476l2.55 2.44c-.296.178-.533.415-.77.653zm-15.95-1.547a7.247 7.247 0 0 1-.593-.832l2.964-1.903c.12.18.296.416.415.595l-2.788 2.14zm19.332-3.686l-3.32-1.01.177-.714 3.44.655c-.12.357-.237.714-.296 1.07zM.06 12.13C0 11.773 0 11.416 0 11.06L3.5 11v.06c0 .237 0 .475.058.713l-3.5.357zm18.263-3.21c-.06-.24-.118-.477-.237-.655l3.262-1.308c.118.297.237.654.356 1.01l-3.38.952zM4.33 7.55L1.244 5.947l.534-.892 2.905 1.903a4.98 4.98 0 0 0-.356.594zm11.74-2.2c-.178-.177-.356-.296-.593-.474l2.016-2.854c.297.178.534.416.83.654L16.07 5.35zm-8.776-.89l-1.72-3.033c.297-.178.593-.357.95-.476l1.422 3.212c-.237.06-.415.18-.652.297zm4.862-.892c-.237-.06-.474-.06-.71-.06L11.622 0c.355 0 .71.06 1.067.12l-.534 3.448z"})));n.defaultProps={size:{width:25,height:25}};var p=n,m=a("y4uf"),u=a("Jq/n"),h=a("p8qf"),n=a("fSeh"),g=a.n(n),b=a("3JrU"),v=a("EXsX");t.a=function(e){var t=e.dollarSize,a=void 0===t?{width:8,height:11}:t,n=e.link,o=void 0===n?"".concat(b.a,"/docs/en/relevantads"):n,s=e.color,i=void 0===s?g.a.paletteGray65:s,t=e.showSpinner,n=void 0===t||t,s=e.showSponsoredText,t=void 0===s||s,e=Object(m.c)()._t,s=Object(h.c)().isNarrow,l=Object(r.useRef)(null);return Object(r.useLayoutEffect)(()=>{var e=()=>{var e=.75*window.scrollY%360;null!=l&&l.current&&(l.current.style.transform="rotate(".concat(e,"deg)"))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),c.a.createElement("a",{className:Object(u.a)({[v.a.sponsoredContainer]:!s,[v.a.narrowSponsoredContainer]:s}),href:o,target:"_blank"},n&&c.a.createElement("div",{className:v.a.sponsoredSpinner},c.a.createElement("div",{className:v.a.sponsoredDollar},c.a.createElement(d,{size:a,fill:i})),c.a.createElement("div",{className:v.a.sponsoredBorder,ref:l},c.a.createElement(p,{size:{width:22,height:22},fill:i}))),t&&c.a.createElement("div",{className:v.a.sponsoredText,style:{color:i}},e("Sponsored")))}},FJvi:function(e,t,a){"use strict";var o=a("q1tI"),s=a.n(o),i=a("y4uf"),l=a("bvDr"),r="word-ads-pubmine-script",c="ata-dynamic-1";t.a=()=>{var e=Object(i.c)(),t=e.tumblrIponwebUserId,a=e.cspNonce,n=()=>{var e;null===(e=window.__ATA)||void 0===e||e.cmd.push(()=>{var e,t;null===(e=window.__ATA)||void 0===e||null===(t=e.initDynamicSlot)||void 0===t||t.call(e,{id:c,location:110,formFactor:"002",label:{text:"Advertisements"},creative:{reportAd:{text:"Report this ad"},privacySettings:{text:"Privacy"}}})})};return Object(o.useEffect)(()=>{window.__ATA_PP={pt:1,ht:1,tn:"tumblr",amp:!1,ad:{label:{text:"Advertisements"},reportAd:{text:"Report this ad"}},siteid:174375630,id_hash:t},window.__ATA={cmd:(null===(e=window.__ATA)||void 0===e?void 0:e.cmd)||[],criteo:(null===(e=window.__ATA)||void 0===e?void 0:e.criteo)||{cmd:[]}};var e=document.createElement("script");return e.src="https://c0.pubmine.com/2.20.01613588427137/head.js",e.id=r,e.onload=n,e.nonce=a,document.body.appendChild(e),()=>{var e;window.__ATA=void 0,window.__ATA_PP=void 0,null===(e=document.getElementById(r))||void 0===e||e.remove()}},[]),s.a.createElement("div",{id:c,className:l.a.wordAdsContainer})}},"Hm+Q":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i,l=a("s5E+"),r=a("mTM8");(a=i=i||{}).TEADS_DASHBOARD_SUBSEQUENT="teadsDashboard",a.TEADS_DASHBOARD_TOP="teadsDashboardTop",a.TEADS_TEST_DASHBOARD="teadsTestHydraSource",a.TEADS_DEFAULT="teadsHydraSource",a.FLURRY_DEFAULT="flurryHydraSource",a.ONE_MOBILE_DEFAULT="oneMobileHydraSource";var n=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:r.a.DASHBOARD,n=3<arguments.length?arguments[3]:void 0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},s=null==t?void 0:t.placements;if(!s)return"";switch(e){case l.d.Teads:return(o.teadsTestPlacement?s[i.TEADS_TEST_DASHBOARD]:a===r.a.DASHBOARD?void 0!==n&&n<=3?s[i.TEADS_DASHBOARD_TOP]:s[i.TEADS_DASHBOARD_SUBSEQUENT]:s[i.TEADS_DEFAULT]).adPlacementId;case l.d.Flurry:return s[i.FLURRY_DEFAULT].adPlacementId;case l.d.OneMobile:return s[i.ONE_MOBILE_DEFAULT].adPlacementId;default:return""}}},"Jww+":function(e,t,a){"use strict";var n=a("pVnL"),p=a.n(n),n=a("QILm"),m=a.n(n),n=a("q1tI"),u=a.n(n),h=a("Ty5D"),g=a("Jq/n"),b=a("8Tzt");t.a=e=>{var t=e.label,a=e.className,n=e.getPath,o=e.children,s=e.onClick,i=e.disableNavigation,l=e.isAlreadyOnPostFormPath,r=e.forwardedRef,e=m()(e,["label","className","getPath","children","onClick","disableNavigation","isAlreadyOnPostFormPath","forwardedRef"]),c=Object(h.k)(),d=n();return u.a.createElement("a",p()({ref:r,"aria-label":t,href:d,className:Object(g.a)([b.a.link,a]),onClick:e=>{null==s||s(e),e.ctrlKey||e.metaKey||i||(e.preventDefault(),l(window.location.pathname)||c.push(d))}},s&&{role:"button"},e),o||t)}},L86D:function(e,t,a){"use strict";var n=a("pVnL"),o=a.n(n),n=a("q1tI"),s=a.n(n),i=a("zoQI"),l=a("lFYR"),r=a("y4uf"),n=a("fSeh"),c=a.n(n);t.a=e=>{var t=Object(r.c)()._t;return s.a.createElement(i.a,o()({},e,{label:t("Share")}),s.a.createElement(l.a,{size:{width:21,height:21},fill:c.a.paletteGray65}))}},N0nZ:function(e,t,a){"use strict";var i,n=a("3tO9"),C=a.n(n),o=a("lSNA"),s=a.n(o),l=a("q1tI"),I=a("7Cbv"),O=a("s5E+"),k={[O.d.Teads]:"teadsHydraSource",[O.d.Flurry]:"flurryHydraSource",[O.d.OneMobile]:"oneMobileHydraSource",[O.d.IponWeb]:"iponwebMrecHydraSource",[O.d.Post]:""},r=a("o56e"),N=a("mTM8"),c=a("FJvi"),n=a("cTEG"),P=a("HAmM");(o=i=i||{}).NO_FILL="no_fill",o.OTHER="other";var A=a("Hm+Q"),p=a("cLI3"),d=a("Wwog"),S=a("krfJ");class m extends l.Component{constructor(){super(...arguments),s()(this,"state",{currentIndex:0,currentClientSideAdType:void 0}),s()(this,"adTypeInitMapping",{[O.d.Teads]:e=>{try{var t=this.props,a=t.timelineObject.supplyOpportunityInstanceId,n=t.appContext,o=n.logEvent,s=n.features.teadsLivePlacementNoCollapse,i=this.state.currentAd,l=JSON.parse(e.data);if(!a||!l.tumblrMsg)return;switch(a){case l.tumblrMsg[P.b.NoAd]:return void(s||this.handleNoAdResponse(O.d.Teads));case l.tumblrMsg[P.b.AdServed]:return void this.handleSuccessfulAdResponse();case l.tumblrMsg[P.b.TeadsImpression]:o(this.generateAnalyticsEvent({eventName:P.g.ForeignImpression,ad:i}))}}catch(e){return}},[O.d.OneMobile]:e=>{try{var t=JSON.parse(e.data),a=this.props.timelineObject.supplyOpportunityInstanceId;if(!a)return;a===t.oneMobileMsg[P.b.NoAd]&&this.handleNoAdResponse(O.d.OneMobile)}catch(e){return}},[O.d.Flurry]:e=>{try{var t=JSON.parse(e.data),a=this.props.timelineObject.supplyOpportunityInstanceId;if(!a)return;switch(a){case t.flurryMsg[P.b.NoAd]:return void this.handleNoAdResponse(O.d.Flurry);case t.flurryMsg[P.b.AdServed]:return void this.handleSuccessfulAdResponse();case t.flurryMsg[P.b.AdError]:return void this.handleNoAdResponse(O.d.Flurry,t.flurryMsg.errorMsg)}}catch(e){return}}}),s()(this,"fallbackAdMapping",{[N.a.RIGHT_RAIL]:()=>this.props.appContext.features.wordAdsWebAdSource?{Component:c.a,props:{}}:null}),s()(this,"getAdToRender",Object(d.a)((e,t,a)=>{a=t||a;return(null==a?void 0:a.id)===(null==e?void 0:e.id)?C()(C()({},a),e):a})),s()(this,"onBeforeUnload",()=>{var e,t,a=this.props,n=a.appContext.logEvent,a=a.timelineObject;this.detachAdEventHandlers(this.state.currentAd),0===this.state.currentIndex&&!this.state.currentAd&&(Object(O.n)(a)||null!=a&&null!==(e=a.resources)&&void 0!==e&&e.backfill)&&(t=Object(O.n)(a)?a:null===(t=a.resources)||void 0===t?void 0:t.backfill,n(this.generateAnalyticsEvent({eventName:P.f.AdDropped,ad:t,dropReason:P.a.WaterfallNotUsed}),{sendPayloadImmediately:!0}))}),s()(this,"handleSuccessfulAdResponse",()=>{var e=this.state,t=e.currentAd,a=e.currentIndex,n=this.props,o=n.appContext.logEvent,s=n.adContext,i=s.adPlacementConfiguration,l=s.hydraConfigInstanceId,r=n.setProvideEventDetails,c=n.setImpressionsEnabled,e=n.timelineObject,s=!Object(O.n)(e)&&e.resources?(d=e.resources.clientSideAds,e.resources.backfill):(d=[],e),n=d.length,d=this.getCurrentAdRequest();d&&(d.setEndTime(),d.generateAdInstance()),Object(O.n)(e)||(o(this.generateAnalyticsEvent({eventName:P.e.AdRequest,ad:t,adRequestStatus:P.c.AdFilled})),r(()=>this.generateAnalyticsEvent({eventName:P.g.Impression,ad:t}).eventDetails),c(!0),o(this.generateAnalyticsEvent({eventName:P.f.SupplyOpportunityFilled,ad:t}))),Object(O.n)(t)&&(c=this.state.fillId||Object(I.a)(),Object(p.a)(o,i,t,l,c),this.setState({fillId:c})),a<=n&&s&&!Object(O.n)(e)&&o(this.generateAnalyticsEvent({eventName:P.f.AdDropped,ad:s,dropReason:P.a.BackfillNotNeeded}))}),s()(this,"handleNoAdResponse",(e,t)=>{var a=this.props.appContext.logEvent,n=this.state,o=n.currentClientSideAdType,s=n.currentAd,n=this.getCurrentAdRequest();null==n||n.setEndTime(),null==n||n.setErrorDetails(t?{error_type:i.OTHER,provider_error_message:t}:{error_type:i.NO_FILL}),a(this.generateAnalyticsEvent(C()({eventName:P.e.AdRequest,ad:s},t?{adRequestStatus:P.c.AdError}:{adRequestStatus:P.c.NoAd}))),o===e&&this.getNextAd()}),s()(this,"generateAnalyticsEvent",e=>{var t,a,n=this.props,o=n.isInstream,s=n.timelineObject,i=n.supplyProviderId,l=n.rootSupplyOpportunityId,r=n.refresh,c=n.adContext,d=c.adPlacementConfiguration,p=c.hydraConfigInstanceId,m=c.adProviderInstanceIdMap,u=n.appContext.features,h=s.streamGlobalPosition,n=e.eventName,g=e.ad,b=e.adRequestStatus,e=e.dropReason,v=void 0===e?P.a.BackfillNotNeeded:e,f=C()({refresh:r,root_supply_opportunity_instance_id:l},d&&{hydra_signature:d.signature,hydra_config_instance_id:p}),E=this.getCurrentAdRequest(),w=i||N.a.DASHBOARD;switch(Object.values(P.e).includes(n)||(f.supply_opportunity_instance_id=s.supplyOpportunityInstanceId,f.supply_provider_id=w,o&&(f.stream_session_id=s.streamSessionId,f.stream_global_position=h)),n){case P.f.MediationOpportunityMissed:f.supply_request_id=null==s?void 0:s.supplyRequestId;break;case P.f.AdDropped:(Object(O.i)(g)||Object(O.n)(g)||Object(O.j)(g))&&(f.ad_provider_id=g.adProviderId,f.ad_provider_placement_id=g.adProviderPlacementId,f.ad_provider_foreign_placement_id=g.adProviderForeignPlacementId,f.ad_provider_instance_id=g.adProviderInstanceId,f.ad_request_id=g.adRequestId,f.supply_opportunity_instance_id=s.supplyOpportunityInstanceId,f.mediation_candidate_id=g.mediationCandidateId,f.ad_instance_id=g.adInstanceId,f.ad_instance_age=this.getAdInstanceAge(g),f.supply_request_id=s.supplyRequestId,f.supply_provider_id=s.supplyProviderId,f.drop_reason=v,f.is_tumblr_sponsored_post=g.isTumblrSponsoredPost?1:0,f.placement_id=g.placementId);break;case P.g.ForeignImpression:case P.f.MediationCandidateConsideration:(Object(O.l)(g)||Object(O.j)(g))&&(f.ad_provider_id=Object(O.j)(g)?g.adProviderId:g.clientSideAdType,f.is_tumblr_sponsored_post=0,Object(O.l)(g)&&(t=k[f.ad_provider_id],d&&t&&(f.ad_provider_placement_id=t,f.ad_provider_foreign_placement_id=Object(A.a)(g.clientSideAdType,d,w,h,u),f.ad_provider_instance_id=m[t])),g.placementId&&(f.placement_id=g.placementId)),Object(O.n)(g)&&(f.ad_provider_id=g.adProviderId,f.is_tumblr_sponsored_post=1,f.ad_provider_placement_id=g.adProviderPlacementId,f.ad_provider_foreign_placement_id=g.adProviderForeignPlacementId,f.ad_provider_instance_id=g.adProviderInstanceId),f.mediation_candidate_id=null==g?void 0:g.mediationCandidateId,f.supply_request_id=s.supplyRequestId,f.supply_provider_id=w;break;case P.f.SupplyOpportunityFilled:(Object(O.l)(g)||Object(O.j)(g))&&(g.placementId&&(f.placement_id=g.placementId),f.ad_provider_id=Object(O.j)(g)?g.adProviderId:g.clientSideAdType,f.is_tumblr_sponsored_post=0,Object(O.l)(g)&&(y=k[f.ad_provider_id],d&&(f.ad_provider_placement_id=y,f.ad_provider_foreign_placement_id=Object(A.a)(g.clientSideAdType,d,w,h,u),f.ad_provider_instance_id=m[y])),f.ad_request_id=null==E?void 0:E.adRequestId,f.mediation_candidate_id=g.mediationCandidateId,null!=E&&E.adInstances&&E.adInstances[0]&&(f.ad_instance_id=E.adInstances[0].ad_instance_id,f.ad_instance_age=this.getAdInstanceAge(g)),f.supply_request_id=s.supplyRequestId,f.supply_provider_id=w,g.placementId&&(f.placement_id=g.placementId));var y=Object(I.a)();f.fill_id=y,this.setState({fillId:y});break;case P.g.Impression:(Object(O.l)(g)||Object(O.j)(g))&&(f.ad_provider_id=Object(O.j)(g)?g.adProviderId:g.clientSideAdType,f.is_tumblr_sponsored_post=0,Object(O.l)(g)&&(y=k[f.ad_provider_id],d&&(f.ad_provider_foreign_placement_id=Object(A.a)(g.clientSideAdType,d,w,h,u),f.ad_provider_placement_id=y,f.ad_provider_instance_id=m[y])),f.mediation_candidate_id=g.mediationCandidateId,null!=E&&E.adInstances[0]&&(f.ad_instance_id=E.adInstances[0].ad_instance_id,f.ad_instance_age=this.getAdInstanceAge(g)),f.supply_request_id=s.supplyRequestId,f.supply_provider_id=s.supplyProviderId),this.state.fillId?f.fill_id=this.state.fillId:(a=Object(I.a)(),f.fill_id=a,this.setState({fillId:a})),E?f.ad_request_id=E.adRequestId:Object(S.b)("currentAdRequest is undefined. ad_provider_id: ".concat(f.ad_provider_id));break;case P.e.AdRequest:(Object(O.l)(g)||Object(O.j)(g))&&(f.ad_provider_id=Object(O.j)(g)?g.adProviderId:g.clientSideAdType,Object(O.l)(g)&&(a=k[f.ad_provider_id],d&&(f.ad_provider_foreign_placement_id=Object(A.a)(g.clientSideAdType,d,w,h,u),f.ad_provider_placement_id=a,f.ad_provider_instance_id=m[a])),f.ad_instances=null==E?void 0:E.adInstances),f.ad_request_is_success=b===P.c.AdError?0:1,f.ad_request_id=null==E?void 0:E.adRequestId,f.ads_returned=b===P.c.AdFilled?1:0,f.ad_request_latency=E&&E.requestEndTime-E.requestStartTime,f.ads_requested=1,b===P.c.AdError&&(f.ad_request_error_detail=null==E?void 0:E.errorDetails)}return{eventName:n,eventDetails:f}})}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload),this.determineAdFetch()}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload),this.onBeforeUnload()}componentDidUpdate(e){var t=this.props.appContext.features.rightRailFallback;this.props.timelineObject.supplyOpportunityInstanceId!==e.timelineObject.supplyOpportunityInstanceId&&this.setState(e=>C()({currentIndex:0},t&&{previousAd:e.currentAd||e.previousAd}),()=>this.determineAdFetch())}render(){var e=this.props,t=e.children,a=e.supplyProviderId,n=void 0===a?N.a.DASHBOARD:a,o=e.timelineObject,s=o.streamGlobalPosition,a=o.supplyOpportunityInstanceId,e=this.state.currentAd,o=this.getAdToRender(o,e),e=this.getFallBackAd();return(o||e)&&(null==t?void 0:t({supplyOpportunityInstanceId:a,location:n,streamPosition:n===N.a.DASHBOARD?s:void 0,ad:o,fallbackAd:e||{}}))}getNextAd(){var e=this.state,t=e.currentAd,a=e.currentIndex,n=this.props,e=n.timelineObject,n=n.appContext.logEvent,o=Object(O.n)(e)?[e]:(null===(o=e.resources)||void 0===o?void 0:o.clientSideAds)||[],e=Object(O.j)(e)?e:null===(s=e.resources)||void 0===s?void 0:s.backfill,s=o.length;this.detachAdEventHandlers(t);var i=a===s?e:a<s?o[a]:void 0;n(this.generateAnalyticsEvent(i?{eventName:P.f.MediationCandidateConsideration,ad:i}:0!==o.length||e?{eventName:P.f.MediationOpportunityMissed}:{eventName:P.f.SupplyOpportunityMissed})),this.setState({currentIndex:a+1,currentClientSideAdType:i?i.clientSideAdType||O.d.Post:void 0,currentAd:i||void 0},()=>{Object(O.n)(i)&&this.handleSuccessfulAdResponse()}),Object(O.n)(i)||(this.initializeAdEventHandlers(i),this.initializeAdRequest(i))}getFallBackAd(){var e=this.props,t=e.supplyProviderId;return(0,e.isInView)()&&t&&t in this.fallbackAdMapping?this.fallbackAdMapping[t]():null}initializeAdRequest(e){var t=this.props,a=t.adRequestContext,n=a.generateNewAdRequest,a=a.clearAdRequest,t=t.timelineObject.supplyOpportunityInstanceId;e?n(t,Object(O.j)(e)?this.handleSuccessfulAdResponse:void 0):a(t)}initializeAdEventHandlers(e){!Object(O.l)(e)||(e=this.adTypeInitMapping[e.clientSideAdType])&&window.addEventListener("message",e)}determineAdFetch(){var e=this.props,t=e.isInView,e=e.setInViewCallback;t()?this.getNextAd():e(()=>this.getNextAd())}detachAdEventHandlers(e){!Object(O.l)(e)||(e=this.adTypeInitMapping[e.clientSideAdType])&&window.removeEventListener("message",e)}getCurrentAdRequest(){var e=this.props,t=e.timelineObject.supplyOpportunityInstanceId;return e.adRequestContext.currentAdRequests[t]}getAdInstanceAge(e){var t;return Object(O.l)(e)?null===(t=this.getCurrentAdRequest())||void 0===t?void 0:t.getAdInstanceAge():Object(O.i)(e)||Object(O.j)(e)?(new Date).getTime()-e.adInstanceCreatedTimestamp:void 0}}r=Object(r.b)(m,{appContext:!0,adContext:!0,adRequestContext:!0});t.a=Object(n.a)(r,!0)},QPbL:function(e,t,a){"use strict";var n;a.d(t,"a",function(){return n}),(t=n=n||{}).Action="action",t.Web="web"},VULT:function(e,t,a){"use strict";var l,n=a("pVnL"),be=a.n(n),o=a("3tO9"),ve=a.n(o),s=a("lSNA"),i=a.n(s),J=a("q1tI"),fe=a.n(J),r=a("Wwog"),Ee=a("pCNn"),we=a("g2Yl"),ye=a("w7rC"),p=a("rKD4");(h=l=l||{}).Search="search",h.Pin="pin";var Ce=a("goXf"),Ie=a("1pQQ"),v=a("Dcbp"),c=a.n(v),n=a("o0Qe"),o=a("s2Hx"),m=a("fSeh"),Y=a.n(m),s=Object(o.c)(fe.a.createElement("svg",{viewBox:"18 13 12 21"},fe.a.createElement("path",{fillRule:"evenodd",d:"M26.252 27.266l-2.078 7.592c-.052.19-.296.19-.348 0l-2.078-7.592h4.504zM29.512 14c.268 0 .488.241.488.536v1.746a.554.554 0 01-.255.47l-1.698 1.193v4.009l1.787 1.257-.034.006c.128.107.2.264.199.43v1.744c0 .296-.22.537-.488.537H18.488c-.268 0-.488-.241-.488-.537v-1.743a.555.555 0 01.255-.47l1.698-1.195v-4.008l-1.787-1.258.034-.006a.554.554 0 01-.199-.43v-1.745c0-.295.22-.536.488-.536h11.023z"})));s.defaultProps={size:{width:24,height:24},fill:m.white};function d(e){var t=(o=e.reason).text,a=o.color,n=o.links,e=o.icon,o=n.recommendationDestination,n=e&&b[e];return"production"===Ce.a.Development&&e&&!n&&console.warn('No icon found for recommendation reason icon type "'.concat(e,'"')),e=n?fe.a.createElement(n,{size:f,fill:a}):null,n=[g.a.recommendationReason],e&&n.push(g.a.withIcon),fe.a.createElement("a",{href:null==o?void 0:o.href,style:{color:a},className:n.join(" ")},e,t)}var u,h=s,g=a("Q/W6"),b={[l.Search]:n.a,[l.Pin]:h},f={width:14,height:14},Oe=a("Jq/n"),E=a("3QcM"),s=a("o56e"),w=a("qYuJ");(n=u=u||{})[n.Unknown=0]="Unknown",n[n.Collapsed=1]="Collapsed",n[n.Expanded=2]="Expanded";class y extends J.Component{constructor(){super(...arguments),i()(this,"state",{collapsedState:u.Unknown}),i()(this,"wrapper",null),i()(this,"showCollapsedUIIfNeeded",()=>{var e=this.wrapper&&this.wrapper.clientHeight>this.props.collapsedHeight;this.setState(()=>({collapsedState:e?u.Collapsed:u.Expanded}))}),i()(this,"expandTags",()=>{this.setState(()=>({collapsedState:u.Expanded}))})}componentDidMount(){this.showCollapsedUIIfNeeded()}render(){var e,t,a=this.props,n=a.tags,o=a.collapsedHeight,s=a.recommendationReason,i=a.isPaywallShown,l=a.postChromeStyles,r=this.state.collapsedState,a=this.props.appContext._t;switch(r){case u.Unknown:t=!(e=!0);break;case u.Expanded:t=e=!1;break;case u.Collapsed:t=e=!0}if("production"===Ce.a.Development&&o!==c.a.wrappedTagsDesktopHeight&&o!==c.a.wrappedTagsMobileHeight&&console.warn("Please use dimensions.wrappedTagsDesktopHeight or dimensions.wrappedTagsMobileHeight as the values for collapsedHeight in this component."),!(n&&n.length||s))return null;s=s?fe.a.createElement("span",{className:w.a.recommendationReason},fe.a.createElement(d,{reason:s})):null;return fe.a.createElement("div",{className:Object(Oe.a)({[w.a.tags]:!0,[w.a.collapsed]:e,[w.a.isPaywallShown]:i}),style:l},fe.a.createElement("div",{ref:e=>this.wrapper=e},s,null==n?void 0:n.filter(e=>!e.startsWith("_")).map(e=>fe.a.createElement(E.a,{key:e,className:w.a.tag,tagName:e})),t&&fe.a.createElement("a",{className:w.a.seeAll,onClick:this.expandTags,role:"button"},"… ",fe.a.createElement("span",{className:w.a.seeAllText},a("See all")))))}}var C=Object(s.b)(y,{appContext:!0,adContext:!0}),$=a("y4uf"),I=a("zoQI"),O=a("hwvb"),ke=Object($.d)(function(e){var t=e.expand,a=e.filteredTags,n=e.filteredContent,o=e.appContext._t,e=a&&a.length?"#tagfiltering":"#contentfiltering",e="/settings/account".concat(e),n=(a&&a.length?a.map(e=>"#".concat(e)):n).join(", "),n=fe.a.createElement("a",{className:O.a.linkOut,target:"_blank",href:e},n),a=a&&a.length?o("This post contains filtered tags."):o("This post contains filtered content."),o=o("View post");return fe.a.createElement("div",{className:O.a.filteredScreen},fe.a.createElement("p",{className:O.a.message},a),n,fe.a.createElement(I.a,{onClick:t,className:O.a.viewPostLink,label:o},o))}),Ne=a("bnOs"),Pe=a("M3r2"),Ae=a("hpQ+"),h=a("vN+2"),k=a.n(h),X=a("Ty5D"),N=a("nA7Y"),n=a("wig9"),P=a.n(n),A=a("vZKu"),h=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 12.9 20.9"},fe.a.createElement("path",{d:"M11.2 2.5c.1.1.4.4.5.6L9.4 6.6l2.4 3.3-2.4 3.5 3.5 3.8-1.2 3.8c-.6 0-1.2-.2-1.7-.5-1-.8-6.2-5.1-8.8-9.3-1.8-3-2-7.4 1.1-9.8C3.5.4 4.8 0 6.1 0 8 0 9.8.9 11.2 2.5z"})));h.defaultProps={size:{width:24,height:24},fill:m.gray40};var S=h,n=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 14.1 20.9"},fe.a.createElement("path",{d:"M8 0C6.2 0 4.3.9 2.9 2.5c-.1.1-.4.4-.5.6L0 6.6l2.4 3.3L0 13.4l3.5 3.8L2.3 21c.6 0 1.2-.2 1.7-.5 1-.8 6.2-5.1 8.8-9.3 1.8-3 2-7.4-1.1-9.8C10.6.4 9.3 0 8 0z"})));n.defaultProps={size:{width:16,height:24},fill:m.gray40};var x=n,_=a("IGpd");class j extends J.Component{constructor(){super(...arguments),i()(this,"state",{isAnimating:!1}),i()(this,"animate",()=>{this.setState(()=>({isAnimating:!0})),window.setTimeout(()=>{this.setState({isAnimating:!1})},750)})}componentDidUpdate(e){e.liked!==this.props.liked&&this.animate()}render(){var e=this.props.liked;return this.state.isAnimating?e?fe.a.createElement("div",{className:"".concat(_.a.postLikeHeartAnimation," ").concat(_.a.like)},fe.a.createElement(A.a,{filled:!0,size:{height:51,width:57}})):fe.a.createElement("div",{className:"".concat(_.a.postLikeHeartAnimation," ").concat(_.a.unlike)},fe.a.createElement("div",{className:_.a.brokenHeartLeft},fe.a.createElement(S,{size:{height:54,width:54}})),fe.a.createElement("div",{className:_.a.brokenHeartRight},fe.a.createElement(x,{size:{height:54,width:36}}))):null}}var T=a("6t4E"),R=e=>{var t=e.liked,a=e.onClick,n=Object($.c)()._t,e=t?T.a.liked:null;return fe.a.createElement(I.a,{className:P()([e,T.a.likeButton]).join(" "),label:n("Like"),onClick:a},fe.a.createElement(A.a,{filled:t,size:{width:23,height:21},emptyIconFillColor:Y.a.paletteGray65}),fe.a.createElement(j,{liked:t}))},h=a("J4zp"),Z=a.n(h),ee=a("EHdz"),n=a("QILm"),D=a.n(n),B=a("ofoP"),M=a("ffEX"),F=a("Jww+"),te=e=>{var t=e.reblogKey,a=e.reblogBlogName,n=e.reblogPostId,o=e.routeQueryProps,e=D()(e,["reblogKey","reblogBlogName","reblogPostId","routeQueryProps"]);return fe.a.createElement(F.a,be()({},e,{getPath:()=>{var e=Object(M.a)(o);return Object(B.n)({reblogKey:t,blogName:a,postId:n.toString()},e)},isAlreadyOnPostFormPath:B.x}))},ae=a("X+AN"),L=a("sFc8");class ne extends J.Component{constructor(){super(...arguments),i()(this,"state",{isAnimating:!1}),i()(this,"animate",()=>{this.setState({isAnimating:!0},()=>setTimeout(()=>this.setState({isAnimating:!1}),800))})}render(){return this.state.isAnimating&&fe.a.createElement("div",{className:L.a.postFastReblogAnimation},fe.a.createElement(ee.a,{size:{height:21,width:21},fill:this.props.fill}))}}i()(ne,"defaultProps",{fill:Y.a.paletteGreen});var oe,Se=a("p8qf"),se=a("Qtnd"),ie=a("XJKT"),le=a("3JrU"),re=a("i4dN"),ce=a("wiWb"),de=a("2jAC"),xe=a("OPDf"),_e=a("Gt/x"),U=a("X9Ig"),H=a("AfAo"),q=a("Evh0"),z=a("N+3a"),pe=e=>{var n=e.onClickSelectedBlog,t=e.blogs,a=e.onMouseLeave,o=e.onMouseEnter,s=e.avatarTitle,i=Object(J.useState)(!1),l=Z()(i,2),r=l[0],c=l[1];if(1===t.length)return null;e=4<t.length,i=e?t.slice(0,3):t,l=Object(J.useCallback)((e,t)=>{n(t,e,{bubbleIndex:3}),c(!1)},[n]);return fe.a.createElement("div",{className:Object(Oe.a)([z.a.bubbles,r&&z.a.blogSelectorOpen]),onMouseLeave:a,onMouseEnter:o},i.map((t,a)=>fe.a.createElement(I.a,{wrapperClassName:z.a.avatar,key:a,onClick:e=>n(e,t,{bubbleIndex:a}),title:null==s?void 0:s(t.name)},fe.a.createElement(_e.a,{imageResponse:t.avatar,avatarShape:U.a.Circle,dimension:50}))),e&&fe.a.createElement("div",{className:z.a.avatar},fe.a.createElement(q.b,{blogs:t.slice(3),selectedBlog:t[0],onClickSelectedBlog:l,onToggle:c},e=>fe.a.createElement(I.a,{wrapperClassName:z.a.ellipsis,onClick:e},fe.a.createElement(H.b,{fill:m.paletteNavy})))))},me=a("s5E+"),ue=a("+ntU"),he=a("dRu9");(h=oe=oe||{})[h.Reblogged=0]="Reblogged",h[h.Queued=1]="Queued";var ge={width:21,height:21},je={[he.b]:{opacity:1},[he.a]:{opacity:1},[he.d]:{opacity:0},[he.c]:{opacity:0}},W=()=>{var e=Object($.c)(),t=e.apiFetch,a=e._t,n=e.features,o=n.redpopFastReblog,s=n.redpopPostFormMobileReblog,i=e.features,l=e.logEvent,r=Object(Se.c)(),c=r.post,d=c.id,p=c.reblogKey,m=c.placementId,u=c.placementId,h=c.earnedId,g=c.earnedId,b=c.blogName,v=r.post,f=Object(re.b)().addOnCloseModalRouteHandler,E=Object(de.b)().toggleToast,w=Object(X.l)().pathname,y=Object(Pe.c)().isMobile,C=Object(ae.c)(),I=C.canFastReblog,O=C.canFastQueue,k=C.canFastReblogDeprecated,N=C.fastRebloggedPosts,P=C.setDefaultFastBlog,A=C.getBlogs,S=Object(J.useState)(!1),x=Z()(S,2),_=x[0],j=x[1],n=fe.a.useState(void 0),e=Z()(n,2),T=e[0],R=e[1],D=Object(J.useRef)(null),B=Object(J.useRef)(null),M=Object(J.useRef)(Object(se.a)(t)),F=Object(J.useRef)(!1),L=Object(J.useRef)(!1),U=Object(J.useRef)();Object(J.useEffect)(()=>()=>{var e;return null===(e=U.current)||void 0===e?void 0:e.call(U)},[]);var H=A(),q=k||I,z=q||O,c=F.current||L.current;z||(c=L.current=!1);r=T===oe.Reblogged?Y.a.paletteGreen:Y.a.palettePurple,C=fe.a.createElement(ee.a,{size:ge,fill:T===oe.Reblogged||N.includes(d)?Y.a.paletteGreen:T===oe.Queued?Y.a.palettePurple:q?Y.a.paletteBlue:O?Y.a.palettePink:Y.a.paletteGray65});if(!d||!p)return fe.a.createElement(fe.a.Fragment,null,C,fe.a.createElement(ne,{ref:B,fill:r}));var S=e=>{var t;null!==(t=D.current)&&void 0!==t&&t.contains(e.relatedTarget)||(F.current=!1,L.current=!1,j(!_))},W=(t,e,a)=>(null==e||e.preventDefault(),M.current.postAPost({selectedBlogName:a,placementId:u,logEvent:l,post:ve()(ve()({},v),{},{date:void 0,tags:void 0,content:[],state:t,parentTumblelogUuid:v.blog.uuid,parentPostId:d,id:""}),reblogType:t===Ee.l.Published?ie.b.Fast:void 0}).fetch(()=>{var e;return null===(e=B.current)||void 0===e||e.animate(),v&&R(t===Ee.l.Published?oe.Reblogged:oe.Queued)})),G=e=>{var t=e.isModalSuccess;null===(e=U.current)||void 0===e||e.call(U),t&&(l({eventName:we.b.ClientReblog,eventDetails:{placement_id:m,earned_id:h}}),void 0===T&&R(oe.Reblogged))},Q=e=>{var t=e.isModalSuccess;null===(e=U.current)||void 0===e||e.call(U),t&&void 0===T&&R(oe.Reblogged)},V=(e,t,a)=>{var n;L.current=!1,F.current=!1,j(!_),P(t),q?(n=t.name,W(Ee.l.Published,e,n)):(n=t.name,W(Ee.l.Queue,e,n)),l({eventDetails:a,eventName:k?we.b.FastReblogOld:q?we.b.FastReblog:we.b.FastQueue}),E(q?fe.a.createElement(xe.d,{params:{blogName:t.name}},"Reblogged to [blogName]"):fe.a.createElement(xe.d,{params:{blogName:t.name}},"Queued to [blogName]"))},x=e=>V(e,H[0]),K=Object(ce.a)({isMobile:y,features:i,editablePost:v,isReblog:!0}),n={onMouseEnter:e=>{F.current=!0,z&&j(!_)},onMouseLeave:k?S:e=>F.current=!1},e=a(q?"Quick Reblog":O?"Quick Queue":"Reblog"),t=ve()({role:"button"},z?{onClick:x}:{role:void 0}),A="".concat(le.a).concat(w,"?restore=1"),I={};return Object(me.n)(v)&&!g&&(N=v.advertiserId,i=v.campaignId,O=v.creativeId,w=v.adGroupId,g=v.adId,I=ve()(ve()({},I),{},{[me.e.AdvertiserId]:N,[me.e.CampaignId]:i,[me.e.CreativeId]:O,[me.e.AdGroupId]:w,[me.e.AdId]:g})),fe.a.createElement(fe.a.Fragment,null,o&&!k&&z&&c&&fe.a.createElement(pe,{onMouseEnter:e=>L.current=!0,onClickSelectedBlog:V,onMouseLeave:S,avatarTitle:e=>a(q?"Reblog to %1$s":"Queue to %1$s",e),blogs:H}),!y||s?fe.a.createElement(te,be()({label:e,reblogBlogName:b,reblogPostId:d,forwardedRef:D,reblogKey:p,routeQueryProps:I,disableNavigation:z,onClick:z?x:e=>{null!=e&&e.ctrlKey||null!=e&&e.metaKey||(U.current=f(K?G:Q))}},n),C):fe.a.createElement("a",be()({ref:D,href:"".concat(le.a,"/reblog/").concat(d,"/").concat(p,"?redirect_to=").concat(encodeURIComponent(A),"&avoid_redirect=1"),"aria-label":e},n,t),C),fe.a.createElement(ne,{ref:B,fill:r}),fe.a.createElement(he.f,{in:k&&c,unmountOnExit:!0,mountOnEnter:!0,timeout:500},e=>fe.a.createElement("div",{className:ue.a.deprecated,style:ve()(ve()({},je[e]),{},{transition:"opacity ".concat(500,"ms ease-in-out")})},fe.a.createElement(xe.d,{comment:"'E' and 'Alt' refer to keyboard keys. We're trying to switch keyboard shortcuts from using Alt + Click to fast reblog to instead E + Click",components:{eKey:fe.a.createElement("kbd",{className:ue.a.key},"E"),altKey:fe.a.createElement("kbd",{className:ue.a.key},"Alt")}},"Psst, we're moving this shortcut to [eKey/]. [altKey/] will be unavailable soon."))))},n=Object(o.b)({filledIcon:Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 17 17"},fe.a.createElement("path",{d:"M8.7 0C4.1 0 .4 3.7.4 8.3c0 1.2.3 2.3.7 3.4-.2.6-.4 1.5-.7 2.5L0 15.8c-.2.7.5 1.4 1.2 1.2l1.6-.4c1.2-.3 2-.5 2.4-.7 1.1.5 2.2.7 3.4.7 4.6 0 8.3-3.7 8.3-8.3S13.3 0 8.7 0"}))),emptyIcon:Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 17 17"},fe.a.createElement("path",{d:"M8.7 0C4.1 0 .4 3.7.4 8.3c0 1.2.2 2.3.7 3.4-.2.6-.4 1.5-.7 2.5L0 15.8c-.2.7.5 1.4 1.2 1.2l1.6-.4 2.4-.7c1.1.5 2.2.7 3.4.7 4.6 0 8.3-3.7 8.3-8.3C17 3.7 13.3 0 8.7 0zM15 8.3c0 3.5-2.8 6.3-6.4 6.3-1.2 0-2.3-.3-3.2-.9l-3.2.9.9-3.2c-.5-.9-.9-2-.9-3.2.1-3.4 3-6.2 6.5-6.2S15 4.8 15 8.3z"})))});n.defaultProps={filled:!1,size:{width:17,height:17},filledIconFillColor:m.white,emptyIconFillColor:m.gray40};function G(e){var t=e.onClick,e=Object($.c)()._t;return fe.a.createElement(I.a,{label:e("Reply"),onClick:t},fe.a.createElement(Q,{size:{width:21,height:21},emptyIconFillColor:Y.a.paletteGray65}))}var Q=n,V=a("L86D"),K=a("55Ip"),Te=a("gf0f"),Re=e=>{var t=e.editablePost,a=t.blog.name,n=t.id,o=Object(Te.b)().onRemoveTimelineObject,e=Object($.c)()._c,s=Object(re.b)().addOnCloseModalRouteHandler,i=Object(J.useRef)([]);Object(J.useEffect)(()=>()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.forEach(e=>e())},[]);var t=e("clicking the button will allow the user to reply.","Answer"),l=Object(J.useCallback)(e=>e&&(null==o?void 0:o({id:n})),[o,n]),e=Object(J.useCallback)(()=>{i.current.push(s(e=>{e=e.isModalSuccess;return l(!!e)}))},[]);return fe.a.createElement(K.Link,{to:Object(B.h)({blogName:a,postId:n.toString()})},fe.a.createElement(I.a,{label:t,onClick:e},t))},De=a("ee9G");class Be extends J.Component{constructor(){super(...arguments),i()(this,"apiHelper",Object(se.a)(this.props.appContext.apiFetch)),i()(this,"setLegacyFormCloseHandler",()=>{var e=this.props.modalRouteContext.addOnCloseModalRouteHandler;this.removeOnModalCloseListener=e(this.onLegacyFormClose)}),i()(this,"setFormCloseHandler",()=>{var e=this.props.modalRouteContext.addOnCloseModalRouteHandler;this.removeOnModalCloseListener=e(this.onFormClose)}),i()(this,"refreshPostInTimeline",()=>{var e=this.props,a=e.timelineContext,t=e.editablePost,e=t.id,t=t.blog;return this.apiHelper.getPosts({postId:e,blogIdentifier:t.name}).fetch(e=>{var t;null==a||null===(t=a.onEditTimelineObject)||void 0===t||t.call(a,e.response.posts[0])})}),i()(this,"onFormClose",e=>{var t=e.isModalSuccess;return null===(e=this.removeOnModalCloseListener)||void 0===e||e.call(this),t?this.refreshPostInTimeline():Promise.resolve()}),i()(this,"onLegacyFormClose",e=>{var t,a=e.isModalSuccess,n=e.legacyPostFormState,o=this.props,s=o.timelineContext,i=o.editablePost,e=i.state,o=i.id;return null===(i=this.removeOnModalCloseListener)||void 0===i||i.call(this),a&&n&&n===e?this.refreshPostInTimeline():(a&&n&&n!==e&&(null==s||null===(t=s.onRemoveTimelineObject)||void 0===t||t.call(s,{id:o})),Promise.resolve())})}componentWillUnmount(){var e;null===(e=this.removeOnModalCloseListener)||void 0===e||e.call(this)}render(){return fe.a.createElement(Pe.a,null,e=>{e=e.isMobile;return this.getButton(e)})}getButton(e){var t=this.props,a=t.editablePost,n=t.shouldAlwaysOpenInLegacy,o=t.appContext,s=o.features,t=s.redpopDesktopEditorBetaToggle,s=s.redpopPostFormMobileEdit,o=o._t;return!n&&(!e&&t||e&&s)?fe.a.createElement(K.Link,{onClick:this.setFormCloseHandler,to:Object(B.h)({blogName:a.blog.name,postId:null===(s=a.id)||void 0===s?void 0:s.toString()},Object(M.a)({editablePost:a})),"aria-label":o("Edit")},this.getIcon()):e?this.getLegacyAnchor():this.getLegacyIframeButton()}getIcon(){return fe.a.createElement(De.a,{size:{width:21,height:21},fill:Y.a.paletteGray65})}getLegacyIframeButton(){var e=this.props.editablePost,t=this.props.appContext._t;return fe.a.createElement(K.Link,{to:Object(B.h)({blogName:e.blog.name,postId:null===(e=e.id)||void 0===e?void 0:e.toString()})},fe.a.createElement(I.a,{onClick:this.setLegacyFormCloseHandler,label:t("Edit")},this.getIcon()))}getLegacyAnchor(){var e=this.props.appContext._t,t=encodeURIComponent("".concat(le.a,"/dashboard?restore=1"));return fe.a.createElement("a",{href:"".concat(le.a,"/edit/").concat(this.props.editablePost.id,"?redirect_to=").concat(t,"&avoid_redirect=1"),role:"button",tabIndex:-1},fe.a.createElement(I.a,{label:e("Edit")},this.getIcon()))}}i()(Be,"defaultProps",{shouldAlwaysOpenInLegacy:!0});var Me=Object(s.b)(Be,{appContext:!0,timelineContext:!0,modalRouteContext:!0}),h=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 14 17"},fe.a.createElement("path",{d:"M12 5v9c.1.7-.3 1-1 1H3c-.5 0-.9-.3-1-1V5c0-.6-.4-1-1-1-.5 0-1 .4-1 1v9.5C0 16.1 1.4 17 3 17h8c1.8 0 3-.8 3-2.5V5c0-.6-.5-1-1-1-.6 0-1 .5-1 1z"}),fe.a.createElement("path",{d:"M4 12s0 1 1 1 1-1 1-1V5c0-.5-.4-1-1-1-.5 0-1 .5-1 1v7zm4 0s0 1 1 1 1-1 1-1V5c0-.5-.4-1-1-1-.5 0-1 .5-1 1v7zm5-10c.5 0 1-.4 1-1 0-.5-.4-.9-1-1H1C.5.1 0 .5 0 1c0 .6.6 1 1.1 1H13z"})));h.defaultProps={size:{width:24,height:24}};function Fe(e){var t=e.id,a=e.onClick,e=Object($.c)()._t;return t?fe.a.createElement(I.a,{label:e("Delete"),onClick:a},fe.a.createElement(Le,{size:{width:21,height:21},fill:Y.a.paletteGray65})):null}var Le=h,Ue=a("y42H"),He=a("aCRw");class qe extends J.Component{constructor(){super(...arguments),i()(this,"state",{dialogIsShowing:!1}),i()(this,"apiHelper",Object(se.a)(this.props.appContext.apiFetch)),i()(this,"confirmQueue",()=>this.setState({dialogIsShowing:!0})),i()(this,"cancelConfirmation",()=>this.setState({dialogIsShowing:!1})),i()(this,"queuePost",()=>{var e=this.props,t=e.timelineContext,a=e.postContext.post,e=a.blog.uuid,n=a.id;return e&&this.apiHelper.queuePost(e,n).fetch(()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:n})})})}render(){var e=this.props,t=e.appContext._c,a=e.postContext.post.state,e=this.state.dialogIsShowing;if(a!==Ee.l.Draft&&a!==Ee.l.Submission)return null;t=t("Action button to queue a post, should be verb here","Queue");return fe.a.createElement(fe.a.Fragment,null,fe.a.createElement(I.a,{label:t,onClick:this.confirmQueue},t),e&&this.renderDialog())}renderDialog(){var e=this.props.appContext._t;return fe.a.createElement(He.a,{onGlassClick:this.cancelConfirmation},fe.a.createElement(Ue.b,{title:e("Queue this post for publishing?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:Ue.a.Neutral},{text:e("OK"),onClick:this.queuePost,buttonStyle:Ue.a.Confirm}]}))}}var ze=Object(s.b)(qe,{appContext:!0,postContext:!0,timelineContext:!0});class We extends J.Component{constructor(){super(...arguments),i()(this,"state",{dialogIsShowing:!1}),i()(this,"apiHelper",Object(se.a)(this.props.appContext.apiFetch)),i()(this,"confirmPublish",()=>this.setState({dialogIsShowing:!0})),i()(this,"cancelConfirmation",()=>this.setState({dialogIsShowing:!1})),i()(this,"publishPost",()=>{var e=this.props,t=e.timelineContext,a=e.postContext.post,e=a.blog.uuid,n=a.id;return e&&this.apiHelper.quickPublishPost(e,n).fetch(()=>{var e;this.cancelConfirmation(),null==t||null===(e=t.onRemoveTimelineObject)||void 0===e||e.call(t,{id:n})})})}render(){var e=this.props,t=e.appContext._c,a=e.postContext.post.state,e=this.state.dialogIsShowing;if(a===Ee.l.Published||a===Ee.l.Private)return null;t=t("Action button to publish a post, should be verb here","Post");return fe.a.createElement(J.Fragment,null,fe.a.createElement(I.a,{label:t,onClick:this.confirmPublish},t),e&&this.renderDialog())}renderDialog(){var e=this.props.appContext._t;return fe.a.createElement(He.a,{onGlassClick:this.cancelConfirmation},fe.a.createElement(Ue.b,{title:e("Publish this post now?"),buttons:[{text:e("Cancel"),onClick:this.cancelConfirmation,buttonStyle:Ue.a.Neutral},{text:e("OK"),onClick:this.publishPost,buttonStyle:Ue.a.Confirm}]}))}}function Ge(e){var t=e.onClick,e=Object($.c)()._t;return fe.a.createElement(I.a,{label:e("Move up"),onClick:t},fe.a.createElement($e.a,{size:{width:21,height:21},fill:Y.a.paletteGray65}))}function Qe(e){var t=e.onClick,e=Object($.c)()._t;return fe.a.createElement(I.a,{label:e("Move down"),onClick:t},fe.a.createElement($e.b,{size:{width:21,height:21},fill:Y.a.paletteGray65}))}function Ve(e){var t=e.onClick,e=Object($.c)()._t;return fe.a.createElement(I.a,{label:e("Move to top"),onClick:t},fe.a.createElement(Xe.b,{size:{width:21,height:21},fill:Y.a.paletteGray65}))}function Ke(e){var t=e.onClick,e=Object($.c)()._t;return fe.a.createElement(I.a,{label:e("Move to bottom"),onClick:t},fe.a.createElement(Xe.a,{size:{width:21,height:21},fill:Y.a.paletteGray65}))}var Je=Object(s.b)(We,{appContext:!0,postContext:!0,timelineContext:!0}),n=a("UfWW"),Ye=a.n(n),$e=a("afeb"),Xe=a("2QVL"),Ze=a("B+Sa");class et extends J.Component{constructor(){super(...arguments),i()(this,"allPosts",[]),i()(this,"queuedPosts",[]),i()(this,"apiHelper",Object(se.a)(this.props.appContext.apiFetch)),i()(this,"moveUp",()=>{var t=this.props.id,a=Ye()(this.queuedPosts,e=>t===e)-1,e=Ye()(this.allPosts,e=>this.queuedPosts[a]===e);return this.queueReorder(this.allPosts[e-1]||0,a)}),i()(this,"moveDown",()=>{var t=this.props.id,a=Ye()(this.queuedPosts,e=>t===e)+1,e=Ye()(this.allPosts,e=>this.queuedPosts[a]===e);return this.queueReorder(this.allPosts[e-1],a)}),i()(this,"moveToTop",()=>this.queueReorder(0,0)),i()(this,"moveToBottom",()=>this.queueReorder(this.allPosts[this.allPosts.length-1],this.queuedPosts.length-1)),i()(this,"queueReorder",(e,t)=>{var a=this.props,n=a.id,o=a.blogName,s=a.timelineContext;return this.apiHelper.queueReorder(o,n,e).fetch(()=>null==s?void 0:s.onQueueReorder(n,t))})}render(){return fe.a.createElement(Pe.a,null,e=>{e=e.isMobile;return fe.a.createElement("div",{className:Ze.a.queueControls},this.getControls(e))})}getControls(n){var o=this.props.id;return fe.a.createElement(ae.a.Consumer,null,e=>{var t=e.allPosts,a=e.queuedPosts;this.allPosts=t,this.queuedPosts=a;e=this.queuedPosts.length,t=Ye()(this.queuedPosts,e=>o===e),a=[];return n&&0<t&&a.push(fe.a.createElement("div",{className:Ze.a.controlIcon,key:"moveUp"},fe.a.createElement(Ge,{onClick:this.moveUp}))),n&&t!==e-1&&a.push(fe.a.createElement("div",{className:Ze.a.controlIcon,key:"moveDown"},fe.a.createElement(Qe,{onClick:this.moveDown}))),0<t&&a.push(fe.a.createElement("div",{className:Ze.a.controlIcon,key:"moveToTop"},fe.a.createElement(Ve,{onClick:this.moveToTop}))),n&&t!==e-1&&a.push(fe.a.createElement("div",{className:Ze.a.controlIcon,key:"moveToBottom"},fe.a.createElement(Ke,{onClick:this.moveToBottom}))),fe.a.createElement("div",{className:Ze.a.queueControlsInner},a)})}}var tt=Object(s.b)(et,{appContext:!0,timelineContext:!0}),at=a("bJjw"),h=a("Mjgw"),nt=Object(h.a)(()=>Promise.all([a.e(0),a.e(66)]).then(a.bind(null,"aRms")),"AsyncSendAPost"),ot=a("yBJ7"),st=a("svZL"),it=Object(h.a)(()=>Promise.all([a.e(0),a.e(24),a.e(22),a.e(59)]).then(a.bind(null,"HO2B")),"AsyncPostActivity"),lt=a("iNJu"),rt=a("c+T4"),ct=a("/TWq"),dt=a("NFOE"),n=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 22 22"},fe.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",rx:"10"}),fe.a.createElement("path",{fill:m.paletteWhite,d:"M15.5 10.75a4.19 4.19 0 01-.45 1.9 4.25 4.25 0 01-5.7 1.9l-2.85.95.95-2.85a4.25 4.25 0 013.8-6.15h.25a4.24 4.24 0 014 4v.25z"}),fe.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",stroke:m.paletteWhite,"stroke-width":"2",rx:"10",fill:"transparent"})));n.defaultProps={size:{width:22,height:22},fill:m.paletteBlue};var pt=n,h=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 22 22"},fe.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",rx:"10"}),fe.a.createElement("path",{stroke:m.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.5 5.5l2 2-2 2"}),fe.a.createElement("path",{stroke:m.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6.5 10.5v-1a2 2 0 012-2h7"}),fe.a.createElement("path",{stroke:m.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8.5 16.5l-2-2 2-2"}),fe.a.createElement("path",{stroke:m.paletteWhite,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15.5 11.5v1a2 2 0 01-2 2h-7"}),fe.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",stroke:m.paletteWhite,"stroke-width":"2",rx:"10",fill:"transparent"})));h.defaultProps={size:{width:22,height:22},fill:m.paletteGreen};var mt=h,n=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 22 22"},fe.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",rx:"10"}),fe.a.createElement("g",{"clip-path":"url(#clip0)"},fe.a.createElement("path",{fill:m.paletteWhite,d:"M15.42 7.305a2.75 2.75 0 00-3.89 0l-.53.53-.53-.53a2.75 2.75 0 00-3.89 3.89l.53.53 3.89 3.89 3.89-3.89.53-.53a2.75 2.75 0 000-3.89z"})),fe.a.createElement("rect",{width:"20",height:"20",x:"1",y:"1",stroke:m.paletteWhite,"stroke-width":"2",rx:"10",fill:"transparent"}),fe.a.createElement("defs",null,fe.a.createElement("clipPath",{id:"clip0"},fe.a.createElement("path",{fill:m.paletteWhite,d:"M0 0h12v12H0z",transform:"translate(5 5)"})))));n.defaultProps={size:{width:22,height:22},fill:m.paletteRed};var ut=n;class ht extends J.Component{constructor(){super(...arguments),i()(this,"state",{notesPopoverIsOpen:!1,sendAPostPopoverIsOpen:!1,focusNotePopoverTextareaOnMount:!1,showDeleteDialog:!1}),i()(this,"apiHelper",Object(se.a)(this.props.appContext.apiFetch)),i()(this,"setNoteCountRef",e=>this.noteCountEl=e),i()(this,"renderNotesAsyncLoader",()=>fe.a.createElement("div",{className:ct.a.asyncLoading},fe.a.createElement(ot.b,{centerOrientation:ot.a.HorizontalAndVertical}))),i()(this,"renderLoggedOutControls",()=>{var e=this.props,t=e.liked,a=e.postChromeStyles,n=e.appContext.features,o=e.location.pathname,e=[];return e.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"send a post"},this.sendAPostContent())),Object(rt.a)(n,o)&&e.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"like"},fe.a.createElement(R,{liked:t,onClick:this.likePost}))),fe.a.createElement("div",{className:ct.a.controls,style:a},e)}),i()(this,"renderControls",()=>{var e=this.props,t=e.canSendInMessage,a=e.canReply,n=e.canReblog,o=e.canLike,s=e.canDelete,i=e.canEdit,l=e.id,r=e.editablePost,c=e.trail,d=e.liked,p=e.postState,m=e.queuedState,u=e.isSubmissionDraft,h=e.canAnswer,g=e.isInboxAsk,b=e.postChromeStyles,v=e.shouldOpenInLegacy,f=e.blog,E=[],e=p===Ee.l.Queued&&m===Ee.i.Queued&&f,m=p===Ee.l.Draft;return t&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"send a post"},this.sendAPostContent())),a&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"reply"},fe.a.createElement(G,{onClick:this.onReplyIconClick}))),n&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"reblog"},fe.a.createElement(W,null))),o&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"like"},fe.a.createElement(R,{liked:d,onClick:this.likePost}))),i&&e&&E.push(fe.a.createElement(lt.a,{key:"queueControls"},fe.a.createElement(tt,{blogName:f.name,id:l.toString()}))),s&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"delete"},fe.a.createElement(Fe,{id:l,onClick:this.toggleShowDeleteDialog}))),i&&r&&!g&&!h&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"edit"},fe.a.createElement(Me,{editablePost:r,trail:c,shouldAlwaysOpenInLegacy:v}))),r&&h&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"answer"},fe.a.createElement(Re,{editablePost:r}))),i&&(m||u)&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"queue"},fe.a.createElement(ze,null))),i&&(m||p===Ee.l.Queued||u)&&E.push(fe.a.createElement("div",{className:ct.a.controlIcon,key:"post"},fe.a.createElement(Je,null))),i&&e&&E.push(fe.a.createElement(lt.a,{key:"reorder"},fe.a.createElement("div",{className:ct.a.controlIcon},fe.a.createElement(at.a,null)))),fe.a.createElement("div",{className:ct.a.controls,style:b},E)}),i()(this,"likePost",()=>{var e=this.props,t=e.liked,a=e.id,n=e.reblogKey,o=e.placementId,s=e.earnedId,i=e.appContext,l=i._t,r=i.logEvent,c=i.features,i=e.timelineContext.onLike,d=e.loginContext.openLoginWall,p=e.location.pathname;return this.apiHelper.likePost({id:a,liked:t,reblogKey:n,placementId:o,earnedId:s,logEvent:r,onLikeCallback:i}).fetch(k.a,e=>{401===e.status&&Object(rt.a)(c,p)&&d({text:l("You'll need to sign up or login to like that post.")})})}),i()(this,"toggleShowDeleteDialog",()=>this.setState(e=>({showDeleteDialog:!e.showDeleteDialog}))),i()(this,"renderDeleteDialog",()=>{var e=this.props.appContext._t;return fe.a.createElement(He.a,{onGlassClick:this.toggleShowDeleteDialog,glassIsClickable:!1},fe.a.createElement(Ue.b,{title:e("Are you sure you want to delete this post?"),buttons:[{text:e("Cancel"),onClick:this.toggleShowDeleteDialog,buttonStyle:Ue.a.Neutral},{text:e("OK"),onClick:this.deletePost,buttonStyle:Ue.a.Confirm}]}))}),i()(this,"deletePost",()=>{var e=this.props,t=e.id,a=e.blog.uuid,n=e.appContext.apiFetch,e=e.timelineContext.onRemoveTimelineObject,o=null==e?void 0:e({id:t});return this.toggleShowDeleteDialog(),n("/v2/blog/".concat(a,"/post/delete"),{method:"POST",body:{id:t}}).catch(()=>null==o?void 0:o())}),i()(this,"toggleNotesPopover",()=>{this.setState(e=>({focusNotePopoverTextareaOnMount:!1,notesPopoverIsOpen:!e.notesPopoverIsOpen}))}),i()(this,"toggleSendAPostPopover",()=>{this.setState(e=>({sendAPostPopoverIsOpen:!e.sendAPostPopoverIsOpen})),this.props.adContext.sendClickADMBeacon(this.props.adm),this.props.appContext.logEvent({eventName:we.b.Share,eventDetails:ve()({placement_id:this.props.placementId},Object(dt.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})}),i()(this,"onReplyIconClick",e=>{e.stopPropagation();var t=this.props,a=t.adContext.sendClickADMBeacon,n=t.appContext.logEvent,o=t.adm,e=t.placementId,t=t.earnedId;this.state.notesPopoverIsOpen||(a(o),n({eventName:we.b.ReplyIconClick,eventDetails:ve()({placement_id:e},Object(dt.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))}),n({eventName:we.b.Notes,eventDetails:ve()({placement_id:e,earned_id:t},Object(dt.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})),this.setState(e=>({focusNotePopoverTextareaOnMount:!0,notesPopoverIsOpen:!e.notesPopoverIsOpen}))}),i()(this,"onNoteCountButtonClick",()=>{var e=this.props,t=e.adContext.sendClickADMBeacon,a=e.appContext.logEvent,n=e.adm,o=e.placementId,e=e.earnedId;this.state.notesPopoverIsOpen||(t(n),a({eventName:we.b.Notes,eventDetails:ve()({placement_id:o,earned_id:e},Object(dt.a)({timelineObject:this.props.postContext.post,adPlacementConfiguration:this.props.adContext.adPlacementConfiguration,hydraConfigInstanceId:this.props.adContext.hydraConfigInstanceId}))})),this.toggleNotesPopover()}),i()(this,"noteContent",()=>{var e=this.state,t=e.notesPopoverIsOpen,a=e.focusNotePopoverTextareaOnMount,n=this.props,o=n.id,s=n.blog,i=n.reblogKey,l=n.canReply,r=n.noteCount,c=n.replyCount,d=n.reblogCount,p=n.likeCount,m=n.appContext,u=m._t,h=m._n,e=m.features.commentingUxRedesign,m=n.placementId,n=n.isSponsored;if(!t&&(r<=0||!s.uuid))return null;var g={focusNotePopoverTextareaOnMount:a,id:o,blog:s,reblogKey:i,canReply:l,placementId:n?m:void 0,close:this.toggleNotesPopover},e=e&&c+d+p!==0,b=fe.a.createElement(I.a,{onClick:this.onNoteCountButtonClick,wrapperClassName:ct.a.noteCountButton,className:ct.a.noteCountButtonInner,label:u("Activity")},fe.a.createElement("span",{className:Object(Oe.a)({[ct.a.noteCountContainer]:!0,[ct.a.showNoteTypeIcons]:e}),ref:this.setNoteCountRef},e&&fe.a.createElement("span",{className:ct.a.noteCountTypes},0<c&&fe.a.createElement("div",{title:h("%1$s reply","%1$s replies",c),className:ct.a.noteCountReply},fe.a.createElement(pt,null)),0<d&&fe.a.createElement("div",{title:h("%1$s reblog","%1$s reblogs",d),className:ct.a.noteCountReblog},fe.a.createElement(mt,null)),0<p&&fe.a.createElement("div",{title:h("%1$s like","%1$s likes",p),className:ct.a.noteCountLike},fe.a.createElement(ut,null))),fe.a.createElement("span",{className:ct.a.noteCountTotal},h("%1$s note","%1$s notes",r))));return fe.a.createElement(Pe.a,null,e=>e.isMobile?fe.a.createElement("div",null,b,t&&fe.a.createElement(He.a,{onGlassClick:this.toggleNotesPopover,topOffset:v.mobileHeaderHeight},fe.a.createElement(it,be()({},g,{asyncLoadingComponent:this.renderNotesAsyncLoader()})))):fe.a.createElement(st.c,{isOpen:t,toggle:this.onNoteCountButtonClick,position:N.b.Right,showOverflowY:!0,width:300,height:510,component:fe.a.createElement(it,be()({},g,{asyncLoadingComponent:this.renderNotesAsyncLoader()}))},b))}),i()(this,"sendAPostContent",()=>{var t=this.state.sendAPostPopoverIsOpen,e=this.props,a=e.blog,n=e.id,o=e.shortUrl,s=e.postUrl,i=e.embedUrl,l=e.placementId,r=e.earnedId;return fe.a.createElement(Pe.a,null,e=>e.isMobile?fe.a.createElement("div",null,fe.a.createElement(V.a,{onClick:this.toggleSendAPostPopover}),t&&fe.a.createElement(He.a,{onGlassClick:this.toggleSendAPostPopover,topOffset:v.mobileHeaderHeight},fe.a.createElement(nt,{blog:a,id:n,shortUrl:o,postUrl:s,embedUrl:i,isMobile:!0,close:this.toggleSendAPostPopover,placementId:l,earnedId:r}))):fe.a.createElement(st.c,{width:340,height:"auto",isOpen:t,toggle:this.toggleSendAPostPopover,showOverflowY:!0,component:fe.a.createElement(nt,{blog:a,id:n,shortUrl:o,postUrl:s,embedUrl:i,placementId:l,earnedId:r})},fe.a.createElement(V.a,{onClick:this.toggleSendAPostPopover})))})}render(){var e=this.props,t=e.id,a=e.canDelete,n=e.appContext,o=n._t,s=n.isLoggedIn,i=e.timelineContext.onRemoveTimelineObject,n=e.isPaywallShown,e=this.state.showDeleteDialog;return"production"===Ce.a.Development&&a&&!i&&console.warn("The post ".concat(t," can be deleted but has no onRemoveTimelineObject handler. This can cause the UI to get out of date with the delete state of the post.")),fe.a.createElement("footer",{role:"contentinfo","aria-label":o("Post Footer"),className:Object(Oe.a)({[ct.a.footer]:!0,[ct.a.isPaywallShown]:n})},fe.a.createElement("div",{className:ct.a.noteCount},this.noteContent()),s?this.renderControls():this.renderLoggedOutControls(),e&&this.renderDeleteDialog())}}i()(ht,"defaultProps",{canReply:!0,canLike:!1,canReblog:!1,canSendInMessage:!1,liked:!1,noteCount:0,replyCount:0,reblogCount:0,likeCount:0,canDelete:!1,canEdit:!1,trail:void 0,trailElementForSelf:void 0,postState:void 0,queuedState:void 0,shouldOpenInLegacy:!0,earnedId:void 0});var gt,h=Object(s.b)(ht,{appContext:!0,adContext:!0,timelineContext:!0,loginContext:!0,postContext:!0}),bt=Object(X.o)(h),n=a("I0DR"),vt=a.n(n),ft=a("nsOS"),Et=a("ofcG"),wt=a("YBti"),yt=e=>{var t,a,n=e.ctaOptions,o=e.placementId,s=Object($.c)().logEvent,i=Object(Se.c)().post,e=Object(Et.b)(),l=e.hydraConfigInstanceId,r=e.adPlacementConfiguration,c=!(null==n||!n.text)&&!(null==n||null===(c=n.urls)||void 0===c||!c.web)&&fe.a.createElement("span",null,fe.a.createElement(ft.a,{ctaText:n.text,clickUrl:n.urls.web,color:n.buttonTextColor||m.paletteBlack,backgroundColor:n.buttonBackgroundColor||m.paletteWhite,borderColor:n.buttonBorderColor||n.buttonBackgroundColor||m.paletteGray25,placementId:o})),d=null!=n&&n.displayUrl?vt.a.get(new URL(null==n?void 0:n.displayUrl).hostname):null!=n&&null!==(t=n.urls)&&void 0!==t&&t.web?vt.a.get(new URL(null==n||null===(d=n.urls)||void 0===d?void 0:d.web).hostname):"";return c&&null!=n&&null!==(a=n.urls)&&void 0!==a&&a.web?fe.a.createElement("div",{className:wt.a.ctaSectionContainer},fe.a.createElement("a",{onClick:()=>s({eventName:we.b.Click,eventDetails:ve()({placement_id:o},Object(dt.a)({hydraConfigInstanceId:l,adPlacementConfiguration:r,timelineObject:i}))}),href:n.urls.web,className:wt.a.displayUrl,style:{color:(null==n?void 0:n.buttonBackgroundColor)||m.paletteBlack},target:"_blank",rel:"noopener noreferrer"},d),c):null},Ct=a("PXvT"),It=a("bgfI"),Ot=a("XeTW");(h=gt=gt||{}).unavailable="unavailable",h.availablePrioritize="available_prioritize",h.available="available",h.inReview="in_review",h.none="none",h.complete="complete";class kt extends J.Component{constructor(){super(...arguments),i()(this,"state",{openGlass:!1,inReview:!1,hasError:!1}),i()(this,"makeAppeal",()=>{var e=this.props,t=e.blogName,e=e.postId;return this.props.appContext.apiFetch("/v2/blog/".concat(t,"/posts/").concat(e,"/appeal"),{method:"POST",body:{owner_appeal_nsfw:"request_review"}}).then(e=>{this.setState({inReview:!0,openGlass:!1})}).catch(e=>{this.setState({hasError:!0})})}),i()(this,"toggleGlass",()=>this.setState(e=>({openGlass:!e.openGlass})))}render(){var e=this.props,t=e.flaggedType,a=e.isReblog,n=e.isNsfw,o=e.showApprovedAppeals,s=this.state,i=s.openGlass,l=s.inReview,r=s.hasError,c=this.props.appContext._t;if(t===gt.none)return null;if(!n&&o&&t===gt.complete)return fe.a.createElement("div",{className:Object(Oe.a)([Ot.a.flagged,Ot.a.approved])},c("Your appeal was accepted! This post is no longer hidden."));if(!n)return null;var d={onGlassClick:this.toggleGlass,glassIsClickable:!1},p={text:c("Appeal"),onClick:this.makeAppeal,buttonStyle:Ue.a.Neutral},m={text:c("Dismiss"),onClick:this.toggleGlass,buttonStyle:Ue.a.Confirm},e={text:c("Learn More"),link:"".concat(le.a,"/docs/adultcontentfaq"),buttonStyle:Ue.a.Neutral},s={text:c("Learn More"),link:"".concat(le.a,"/docs/contentappeals"),buttonStyle:Ue.a.Neutral},o=fe.a.createElement(He.a,d,fe.a.createElement(Ue.b,{body:c("This post was flagged because somewhere in your reblog there might be adult content which is a violation of our Community Guidelines."),buttons:[e,m]})),n=fe.a.createElement(He.a,d,fe.a.createElement(Ue.b,{body:c("Your post is in content appeal. Once a decision has been made, we'll send you an email."),buttons:[s,m]})),s=fe.a.createElement(He.a,d,fe.a.createElement(Ue.b,{body:c("Unable to appeal the post. Please contact support for further help."),buttons:[e,m]})),p=fe.a.createElement(He.a,d,fe.a.createElement(Ue.b,{body:c("This post was flagged because we think it contains adult content which violates our Community Guidelines. It has been hidden from others, but not deleted. If you think this was done in error, tap Appeal and a real, live human will review it."),buttons:[p,e,m]})),e=fe.a.createElement(He.a,d,fe.a.createElement(Ue.b,{body:c("This post was flagged because it contains adult content which violates our Community Guidelines. It has not been deleted but is now only viewable to you. This decision cannot be appealed."),buttons:[e,m]})),m=fe.a.createElement(I.a,{label:c("What does this mean?"),onClick:this.toggleGlass},fe.a.createElement(It.a,{fill:Y.a.paletteWhite,size:{width:22,height:22}}));return t===gt.inReview||l?fe.a.createElement("div",{className:Object(Oe.a)([Ot.a.flagged,Ot.a.inReview])},c(a?"This reblog is in content appeal":"Your post is in content appeal"),m,i&&n):a?fe.a.createElement("div",{className:Ot.a.flagged},c("This post was flagged because somewhere in your reblog there might be adult content."),m,i&&o):t===gt.unavailable?fe.a.createElement("div",{className:Ot.a.flagged},c("It looks like your post might be in violation of our Community Guidelines and is now hidden."),m,i&&e):t===gt.complete?fe.a.createElement("div",{className:Ot.a.flagged},c("Based on our Community Guidelines this post contains adult content and is now only viewable to you."),m,i&&e):fe.a.createElement("div",{className:Ot.a.flagged},c("It looks like your post might be in violation of our Community Guidelines and is now hidden."),fe.a.createElement("button",{className:Ot.a.appealButton,"aria-label":c("Appeal this post"),onClick:this.toggleGlass},c("Appeal")),i&&!r&&p,i&&r&&s)}}var Nt=Object($.d)(kt),n=a("cTEG"),Pt=a("ayhs");class At extends J.Component{constructor(){super(...arguments),i()(this,"state",{clientHeight:null,isExpanded:!1}),i()(this,"setRef",e=>this.holderRef=e),i()(this,"expand",()=>this.setState({isExpanded:!0}))}componentDidMount(){this.holderRef&&this.setState({clientHeight:this.holderRef.clientHeight})}render(){var e=this.state,t=e.clientHeight,a=e.isExpanded,n=this.props,o=n.maxHeight,e=n.children,a=!a&&(null===t||o+50<t),t=a&&null!==t,o={maxHeight:a?o:void 0},n=(0,n.appContext._t)("Expand");return fe.a.createElement("div",{className:Pt.a.holder,style:o},fe.a.createElement("div",{ref:this.setRef},e),t&&fe.a.createElement(I.a,{wrapperClassName:Pt.a.expandButton,onClick:this.expand,label:n},n))}}var St=Object($.d)(At),h=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 24 24"},fe.a.createElement("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm3.8 13.4L13 11.667V7h-2v5.333l3.2 4.266 1.6-1.2z"})));h.defaultProps={size:{width:18,height:18},fill:m.paletteTransparentWhite65};var xt=h,o=Object(o.c)(fe.a.createElement("svg",{viewBox:"0 0 24 24"},fe.a.createElement("path",{d:"M10.498 18l-3.705-3.704 1.415-1.415 2.294 2.295 5.293-5.293 1.415 1.415L10.498 18zM21 6v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1V2h2v2h8V2h2v2h1a2 2 0 0 1 2 2zm-2 2H5v11h14V8z"})));o.defaultProps={size:{width:18,height:18},fill:m.paletteTransparentWhite65};var _t=o,jt=a("2rSK"),Tt=a("x0IU"),Rt=a("7gZB"),Dt=a("DwVx"),Bt=a("volw");class Mt extends J.Component{constructor(){super(...arguments),i()(this,"state",{hasExpandedFromFiltered:!1}),i()(this,"getPostContextValue",Object(r.a)((e,t)=>({presentationStyle:t,post:ve()(ve()({},e),{},{canReply:e.canReply&&t.showsReplyButton,canSendInMessage:e.canSendInMessage&&t.showsShareButton}),isNarrow:!!this.props.isNarrow}))),i()(this,"getSubmissionAttribution",()=>{var e=this.props.timelineObject,t=e.postAuthor,a=e.state,n=e.anonymousEmail,e=e.anonymousName;return t?fe.a.createElement("div",{className:Bt.a.submissionWrapper},fe.a.createElement(Ct.a,{className:Bt.a.submission,blogName:t,href:"https://".concat(t,".tumblr.com")},fe.a.createElement(xe.d,{comment:"This text denotes that a post on some blog was submitted to it by some other user",params:{postAuthor:t},components:{span:fe.a.createElement("span",{className:Bt.a.submitter})}},"Submitted by [span][postAuthor][/span]"))):a===Ee.l.Submission&&n&&e?fe.a.createElement("div",{className:Bt.a.submission},fe.a.createElement(xe.d,{params:{anonymousEmail:n,anonymousName:e},components:{span:fe.a.createElement("span",{className:Bt.a.submitter})}},"Submitted by [span][anonymousName] ([anonymousEmail])[/span]")):fe.a.createElement("div",{className:Bt.a.submission},fe.a.createElement(xe.d,{comment:"This text denotes that a post on some blog was submitted to it by some anonymous user",components:{span:fe.a.createElement("span",{className:Bt.a.submitter})}},"Submitted by [span]anonymous[/span]"))}),i()(this,"renderTags",(e,t,a)=>{var n=this.props,o=n.timelineObject,s=o.recommendationReason,i=o.tags,o=o.isPinned,n=n.appContext._t,s=o?{text:n("Pinned Post"),icon:l.Pin,color:m.glassGreen,loggingReason:"",links:{}}:(null==s?void 0:s.icon)!==l.Pin?s:void 0;return fe.a.createElement(C,{tags:i,isPaywallShown:t,postChromeStyles:a,recommendationReason:s,collapsedHeight:e?v.wrappedTagsMobileHeight:v.wrappedTagsDesktopHeight})}),i()(this,"appendIsBlurredImages",(e,t)=>e.map(e=>e.type===Ee.b.Image&&t?ve()(ve()({},e),{},{isBlurredImages:!this.props.timelineObject.followed}):e)),i()(this,"getInboxAttribution",e=>{var t=this.props.timelineObject,a=t.postUrl,n=t.askingName,o=t.askingUrl,s=t.askingAvatar,i=t.postAuthor,l=void 0===i?"":i,r=t.postAuthorAvatar,c=t.blog,i=void 0===n?"":n,n=void 0===o?"":o,o=s,s=Object(Ee.O)(t);return s&&(i=l,o=r,n="".concat(t.postAuthor,".tumblr.com")),{recipientName:e&&!c.primary?c.name:void 0,isSubmission:s,permalinkUrl:a,blog:{name:i,url:n,avatar:o,uuid:""}}}),i()(this,"getAttribution",(e,t)=>e?this.getInboxAttribution(t):Object(jt.a)(this.props.timelineObject)),i()(this,"expandFromFiltered",()=>this.setState({hasExpandedFromFiltered:!0})),i()(this,"getCtaOptionsFromActions",function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).find(e=>e.type===Ee.h.Cta)})}render(){var e=this.props,n=e.timelineObject,t=e.appContext.features,a=t.paywallConsumption,o=t.tspUiUpdate,s=e.adContext,i=s.adPlacementConfiguration,l=s.hydraConfigInstanceId,r=n.actions,c=n.blog,d=n.blogName,p=n.postUrl,m=n.id,u=n.content,h=n.layout,g=n.canLike,b=n.canReblog,v=n.canReply,f=n.date,E=n.liked,w=n.filtered,y=n.followed,C=n.isNsfw,I=n.noteCount,O=n.replyCount,k=n.reblogCount,N=n.likeCount,P=n.ownerAppealNsfw,A=n.rebloggedFromAdvertiserName,S=n.rebloggedFromCanBeFollowed,x=n.rebloggedFromFollowing,_=n.rebloggedFromId,j=n.rebloggedFromName,T=n.rebloggedFromUrl,R=n.reblogKey,D=n.trail,B=n.type,M=n.canEdit,F=n.canDelete,L=n.canSendInMessage,U=n.postAuthor,H=n.postAuthorAvatar,q=n.isSubmission,z=n.askingName,W=n.sponsoredBadgeUrl,G=n.sourceUrl,Q=n.sourceTitle,V=n.sourceUrlRaw,K=n.shortUrl,J=n.embedUrl,Y=n.dismissal,$=n.state,X=n.queuedState,Z=n.placementId,ee=n.adm,t=n.isPaywalled,e=n.paywallAccess,te=n.shouldOpenInLegacy,ae=n.earnedId,s=this.state.hasExpandedFromFiltered;if(B!==Ee.c)return"production"===Ce.a.Development&&console.warn('Post with id "'.concat(m,'" is not blocks type and cannot be rendered')),null;var ne=this.props.presentationStyle,B=this.getAttribution(ne.usesInboxAttribution,ne.showsRecipientForInboxAttribution);null!=B&&B.blog.advertiserName&&(ne=ve()(ve()({},ne),{},{showsPosterAvatar:!1}));var j=j&&T?{blogName:A||j,permalinkUrl:T,postId:_}:void 0,T=!(void 0!==S)&&c.canBeFollowed,oe=this.getCtaOptionsFromActions(r),se=fe.a.createElement(Ae.a,be()({postState:$,postAttribution:B,reblogAttribution:j,presentationStyle:ne,showsFollowButton:!ne.usesInboxAttribution&&(S||T),showsSponsored:!!W,isFollowingPoster:y,isFollowingReblogger:x,dismissal:Y,date:f,placementId:Z,earnedId:ae,isPaywalled:t},!o&&{ctaButtonOptions:oe})),C=fe.a.createElement(Nt,{flaggedType:P,postId:m,blogName:d,isReblog:void 0!==_,isNsfw:C,showApprovedAppeals:ne.showsApprovedAppealBanner}),ie=ne.showsPosterAvatar&&!ne.showsAvatarInline?fe.a.createElement("div",{className:Bt.a.stickyContainer},fe.a.createElement("div",{className:Bt.a.avatar},fe.a.createElement(_e.a,{isAnonymous:!B.blog.url,imageResponse:B.blog.avatar,dimension:ne.avatarDimension,name:B.blog.name,url:B.blog.url,isAdult:B.blog.isAdult,blog:B.blog,authorImageResponse:ne.showsAuthorImage?H:void 0,authorName:U,placementId:Z,eventName:we.b.Avatar,eventDetails:Object(dt.a)({timelineObject:n,adPlacementConfiguration:i,hydraConfigInstanceId:l})}))):null;if(w&&!s)return fe.a.createElement(Se.b.Provider,{value:this.getPostContextValue(n,ne)},fe.a.createElement("article",{className:Bt.a.post},ie,se,fe.a.createElement(ke,{expand:this.expandFromFiltered,filteredTags:w.tags,filteredContent:w.content})));var i=!!D.length&&!!u.length,l={content:u,layout:h,blog:c,post:{id:m},isContributedContent:!0},s=i?[...D,l]:D,w=fe.a.createElement(Ne.a,{trail:s,parentPlacementId:Z,parentEarnedId:ae}),i=this.appendIsBlurredImages(u,ne.blursImagesFromUnfollowedBlogs),l=!!u.length&&!D.length,s=l&&ne.showsOnlyFirstMediaBlock&&Object(Tt.a)(i),s=l&&fe.a.createElement(Ie.b,{isOriginalPost:!0,postingBlog:c,adm:ee,placementId:Z,blocks:s?[s]:i,layouts:s?void 0:h}),le=!!q&&ne.showsSubmissionAttribution&&this.getSubmissionAttribution(),re=!!z,ce=!!Q&&!!G&&fe.a.createElement("div",{className:Bt.a.contentSource},fe.a.createElement(xe.d,{comment:'Content source. The placeholder is a link to the source of the post (like "website.com").',params:{sourceTitle:Q},components:{link:fe.a.createElement("a",{href:G,target:"_blank",rel:"noopener noreferrer"})}},"Source: [link][sourceTitle][/link]")),de=M?ve()(ve()({},n),{},{sourceUrl:V}):void 0,pe=b?{content:u,layout:h,blog:c,post:{id:m,reblogKey:R}}:void 0,me=fe.a.createElement(fe.a.Fragment,null,C,this.props.children||fe.a.createElement(fe.a.Fragment,null,w,s));void 0!==ne.maximumContentHeight&&(me=fe.a.createElement(St,{maxHeight:ne.maximumContentHeight},me));var ue=a&&t&&e===ye.a.NonMember,he=ue&&c.theme?Object(Rt.a)(c):{},ge=ue&&c.theme?Object(Rt.c)(c):{};return fe.a.createElement(Pe.a,null,e=>{var t,a=e.isMobile;return fe.a.createElement(Se.b.Provider,{value:this.getPostContextValue(n,ne)},fe.a.createElement("article",{className:Object(Oe.a)({[Bt.a.post]:!0,[Bt.a.withOutline]:ne.hasOutline})},$===Ee.l.Queued?this.renderQueueSchedule(a):ie,se,me,ce,le,o&&fe.a.createElement(yt,{ctaOptions:oe,placementId:Z}),fe.a.createElement("div",{className:Bt.a.footerWrapper,style:he},!!ne.showsTags&&this.renderTags(a,ue,ge),fe.a.createElement(bt,{id:m,blog:c,reblogKey:R,canLike:g,canReblog:b,canReply:v&&ne.showsReplyButton,canSendInMessage:L&&ne.showsShareButton,canEdit:M&&ne.showsEditButton,canDelete:F&&ne.showsDeleteButton,canAnswer:re&&(a=(e=n).layout,e=e.content,!((null==(a=null==a?void 0:a.find(e=>e.type===Ee.f.Ask))||null===(t=a.blocks)||void 0===t?void 0:t.length)<(null==e?void 0:e.length))),isInboxAsk:re&&$===Ee.l.Submission,liked:E,noteCount:I,replyCount:O,reblogCount:k,likeCount:N,postState:$,queuedState:X,isSubmissionDraft:q&&$===Ee.l.Submission,isPaywallShown:ue,isSponsored:!!W,postChromeStyles:ge,editablePost:de,trail:D,trailElementForSelf:pe,shortUrl:K,embedUrl:J,postUrl:p,placementId:Z,shouldOpenInLegacy:te,adm:ee,earnedId:ae}))))})}renderQueueSchedule(e){var t=this.props.timelineObject,a=t.scheduledPublishTime,n=t.id,o=t.blogName,s=t.queuedState,i=t.blog.timezoneOffset,l=this.props.appContext,r=l._getLocaleDateString,t=l._t;if(!a)return null;l=new Date;l.setHours(23,59,59,999);var c,d,l=l.getTime()+5184e5>1e3*a?p.a.WeekdayShort:p.a.MonthDayShort;d=i?(c=r(i=Object(Dt.a)(i,a),l),r(i,p.a.TimeUTC)):(c=r(d=new Date(1e3*a),l),r(d,p.a.Time));t=s===Ee.i.Scheduled?fe.a.createElement("span",{className:Bt.a.scheduledIndicator,title:t("Scheduled Post")},fe.a.createElement(_t,null)):fe.a.createElement("span",{className:Bt.a.scheduledIndicator,title:t("Queued Post")},fe.a.createElement(xt,null));return e?fe.a.createElement("div",{className:Bt.a.scheduledQueueDate},fe.a.createElement("div",{className:Bt.a.scheduledQueueDay},t," ",c," ",d),s===Ee.i.Queued&&fe.a.createElement(tt,{id:n.toString(),blogName:o})):fe.a.createElement("div",{className:Bt.a.stickyContainer},fe.a.createElement("div",{className:Bt.a.scheduledQueueDate},fe.a.createElement("div",{className:Bt.a.scheduledQueueDay},c),fe.a.createElement("div",{className:Bt.a.scheduledQueueTime},d," ",t)))}}s=Object(s.c)(Mt,{appContext:!0,adContext:!0});t.a=Object(n.a)(s,!1)},"X+AN":function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"c",function(){return l});var n=a("vN+2"),n=a.n(n),o=a("q1tI"),s=Object(o.createContext)({canFastReblog:!1,canFastQueue:!1,canFastReblogDeprecated:!1,fastRebloggedPosts:[],setDefaultFastBlog:n.a,getBlogs:()=>[]}),i=Object(o.createContext)({allPosts:[],queuedPosts:[]});t.b=s;var l=()=>Object(o.useContext)(s)},XJKT:function(e,t,a){"use strict";var n,o;a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o}),(t=n=n||{}).SPAM="spam",t.UNBLUR="unblur",(o=o||{}).Fast="fast"},YQ2m:function(e,t,a){"use strict";var n=a("3tO9"),o=a.n(n),s=a("lSNA"),i=a.n(s),n=a("q1tI"),l=a.n(n),r=a("s5E+"),s=a("Dcbp"),c=a.n(s),d=a("mTM8"),s=a("yXPU"),p=a.n(s),s=a("OFL0"),m=a.n(s),s=a("o0o1"),u=a.n(s);class h extends a("na+J").a{constructor(e){super("Could not load the Safeframe Library with error: ".concat(e),"SafeframeLoadError")}}var g,s=a("lpdi"),b=a.n(s),v={"exp-ovr":1,"exp-push":0,bg:0,pin:0,"read-cookie":0,"write-cookie":0};(g=g||{}).GeometryUpdated="geom-update";var f=a("HS+D");function E(e){return Math.min(e,f.b.getInfo().innerWidth)}var w,y=(e,t,a)=>{var n=document.getElementById("sf_pos_rel_el_".concat(e)),e=(null==a?void 0:a.self)&&(e=>{if(!e||!e.w||!e.h)return null;var t=E(c.a.postWidth),a=t/e.w;return 1===a?null:{w:t,h:Math.ceil(e.h*a)}})(a.self),a=n&&n.querySelector("iframe");return!!(t===g.GeometryUpdated&&n&&e&&"true"===(null===(t=n.parentElement)||void 0===t?void 0:t.dataset.isResizable)&&a)&&(C(n,e),C(a,e),!0)},C=(e,t)=>{e.style.width="".concat(t.w,"px"),e.style.height="".concat(t.h,"px")},I=(w=p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.$sf){e.next=9;break}return e.next=4,a.e(69).then(a.t.bind(null,"+wBy",7));case 4:return e.next=6,a.e(70).then(a.t.bind(null,"Nf3m",7));case 6:return e.next=8,a.e(71).then(a.t.bind(null,"EURq",7));case 8:new window.$sf.host.Config({renderFile:b.a,positions:{},onPosMsg:y});case 9:return e.next=11,new Promise((e,t)=>{var a=0,n=()=>m()(window,"$sf.host.boot")?e():10<=a?t("Exceeded max attempts to check for the Safeframe API."):(a+=1,void setTimeout(n,1e3));n()});case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new h(e.t0);case 17:case"end":return e.stop()}},e,null,[[0,14]])})),function(){return w.apply(this,arguments)}),s=a("o56e");class O extends n.Component{constructor(){super(...arguments),i()(this,"createHtmlField",()=>{var e=this.props,t=e.frameUrl,a=e.conf,n=e.html,e=JSON.stringify(a);if(t)return'\n        {\n          "id" : "'.concat(a.id,'",\n          "html" : "<script src=\\"').concat(t,'\\"><\/script>",\n          "conf" : ').concat(e,"\n        }\n        ");if(n){n=JSON.stringify(n);return'\n        {\n          "id" : "'.concat(a.id,'",\n          "html" : ').concat(n,',\n          "conf" : ').concat(e,"\n        }\n        ")}return""})}componentDidUpdate(e){this.props.html===e.html&&this.props.frameUrl===e.frameUrl||(this.generateSafeframeData(),m()(window,"$sf.host.boot")&&(window.$sf.host.nuke(this.props.conf.id),window.$sf.host.boot()))}componentDidMount(){var a=this;return p()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.generateSafeframeData(),O.HAS_BEEN_INITIALIZED){e.next=9;break}return t=Node.prototype.removeChild,Node.prototype.removeChild=function(e){return e.parentNode!==this?(e.remove&&e.remove(),e):t.call(this,e)},e.next=6,I();case 6:O.HAS_BEEN_INITIALIZED=!0,e.next=10;break;case 9:m()(window,"$sf.host.boot")&&window.$sf.host.boot();case 10:case"end":return e.stop()}},e)}))()}componentWillUnmount(){this.props.conf.id&&m()(window,"$sf.host.boot")&&window.$sf.host.nuke(this.props.conf.id)}render(){return l.a.createElement("div",{id:this.props.conf.id})}generateSafeframeData(){var e,t=this.props,a=t.adRequestContext.currentAdRequests,n=t.conf.id,t=document.createElement("script");t.className="sf_data",t.type="text/x-safeframe",t.innerHTML=this.createHtmlField(),n&&(e=a[n])&&e.setStartTime(),document.body.appendChild(t)}}i()(O,"HAS_BEEN_INITIALIZED",!1);function k(a,e){var t,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o="undefined"!=typeof window&&(null===(t=(o=window).getSuid)||void 0===t?void 0:t.call(o)),e={dcn:"8a969588016f6ff76855f7d814460018",pos:e,secure:"1"};o&&(e["u(id)"]=o),n&&(e.us_privacy=n),a&&(e["p(supplyId)"]=a),"undefined"!=typeof window&&(null===(n=(o=window).admaxAd)||void 0===n||n.call(o,e)),setTimeout(()=>{var e,t=document.querySelector('div[id^="ad"]');t&&"No Ads"!==(null==(t=Array.from(t.childNodes).find(e=>8===e.nodeType))||null===(e=t.textContent)||void 0===e?void 0:e.trim())||window.top.postMessage('{"oneMobileMsg": {"noAd": "'.concat(a,'"}}'),"*")},7e3)}var N=Object(s.b)(O,{adRequestContext:!0}),P=a("Hm+Q"),A=class{constructor(e,t){var a,n;"object"==typeof e?(this.id=e.id,this.dest=e.dest||t,this.bg=e.bg||"transparent",this.tgt=e.tgt||"_top",this.css=e.css,this.w="string"==typeof e.w?String(e.w):Number(e.w)||0,this.h=Number(e.h)||0,this.z=Number(e.z)||0,this.supports=e.supports||v,this.w&&this.h?this.size="string"==typeof this.w?"":"".concat(this.w,"x").concat(this.h):(a=e.size)?(n=a.split(/x/gi),this.w=Number(n[0])||0,this.h=Number(n[1])||0,this.size=a):this.size=""):(this.id=e,this.dest=t),this.id=this.id}},S=a("VULT"),x=a("8ADl"),_=(t,e)=>{var a=e;window.native=window.native||[],null===(e=window.native)||void 0===e||e.push({passbackHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"noAd": "'.concat(t,'"}}'),"*")},successHandler:()=>{window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"adAvailable": "'.concat(t,'"}}'),"*")},errorHandler:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).error,e=void 0===e?"Unknown Flurry Error":e;window.top&&window.top.postMessage&&window.top.postMessage('{"flurryMsg": {"adError": "'.concat(t,'", "errorMsg": "').concat(e,'"}}'),"*")},code:a}),window.apiKey="XQN3HX9KDMPKQNDS5DJK",window.publisherUrl="https://www.tumblr.com/"},j=a("V+vC"),T={[r.d.Teads]:.5926,[r.d.Flurry]:.6852,[r.d.OneMobile]:250/300},R={[r.d.Teads]:c.a.postWidth,[r.d.Flurry]:c.a.postWidth,[r.d.OneMobile]:c.a.sidebarAdWidth};class D extends n.Component{constructor(){super(...arguments),i()(this,"safeFrameScriptMapping",{[r.d.Teads]:e=>'<script src="//a.teads.tv/page/'.concat(e,"/tag?supply_id=").concat(this.props.supplyOpportunityInstanceId,'"><\/script>'),[r.d.OneMobile]:e=>{var t;return'<script src="'.concat("https://web.ssp.yahoo.com/js/admax/admax_api_https.js",'"><\/script>\n    <script>\n    const supplyOpportunityInstanceId = "').concat(this.props.supplyOpportunityInstanceId,'"\n    const placementId = "').concat(e,'"\n    const ccpaPrivacyConsentString = "').concat((null===(e=this.props.adContext)||void 0===e||null===(t=e.privacy)||void 0===t?void 0:t.ccpaPrivacyString)||"",'"\n    const init = ').concat(k,"\n    init(supplyOpportunityInstanceId, placementId, ccpaPrivacyConsentString)\n    <\/script>")},[r.d.Flurry]:e=>'<script type="text/javascript">\n    (function() {\n      const supplyOpportunityInstanceId = "'.concat(this.props.supplyOpportunityInstanceId,'"\n      const placementId = "').concat(e,'"\n      const init = ').concat(_,';\n      init(supplyOpportunityInstanceId, placementId)\n    })();\n    <\/script>\n    <script async src="').concat("https://s.yimg.com/dy/ads/".concat("native.js"),'"><\/script>')})}componentWillUnmount(){var e=this.props.ad;Object(r.l)(e)&&e.clientSideAdType===r.d.Teads&&(null===(e=window.teads)||void 0===e||e.cleanup())}render(){var e=this.props,t=e.ad,a=e.presentationStyle;if(!t)return null;var n=this.generateSafeFrameConfig();return Object(r.l)(t)||Object(r.j)(t)?l.a.createElement("div",{style:{width:n.w},"data-is-resizable":Object(r.l)(t)&&!Object(r.k)(t),className:!(e=t).streamGlobalPosition&&e.supplyProviderId!==d.a.DASHBOARD?"":j.a.adTimelineObject},l.a.createElement(N,{conf:n,html:this.generateHTMLFromAd(t),key:n.id})):Object(r.n)(t)&&a?l.a.createElement(S.a,{presentationStyle:a,timelineObject:t}):Object(r.p)(t)?l.a.createElement("div",{className:j.a.listTimelineObject},l.a.createElement(x.a,{timelineObject:t})):null}generateHTMLFromAd(e){var t=this.props,a=t.appContext.features,n=t.adContext.adPlacementConfiguration,o=t.location,o=void 0===o?d.a.DASHBOARD:o,t=t.streamPosition;if(Object(r.l)(e)&&e.clientSideAdType in this.safeFrameScriptMapping){a=Object(P.a)(e.clientSideAdType,n,o,t,a);return this.safeFrameScriptMapping[e.clientSideAdType](a)}return Object(r.j)(e)?null==e?void 0:e.adm:""}generateSafeFrameConfig(){var e=this.props,t=e.supplyOpportunityInstanceId,a=e.ad,e=E(R[a.clientSideAdType]||c.a.postWidth);return new A(o()({id:((null==a?void 0:a.supplyOpportunityInstanceId)||t)+((null==a?void 0:a.id)||a.adInstanceId),dest:((null==a?void 0:a.supplyOpportunityInstanceId)||t)+((null==a?void 0:a.id)||a.adInstanceId),supports:{"exp-push":1}},Object(r.j)(a)?{w:a.width,h:a.height}:{w:e,h:Object(r.l)(a)&&T[a.clientSideAdType]?Math.ceil(T[a.clientSideAdType]*e):0}))}}t.a=Object(s.b)(D,{appContext:!0,adContext:!0})},bJjw:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),s=a("zoQI"),n=a("y4uf"),i=a("Jq/n"),l=a("onkD");t.a=Object(n.d)(function(e){var t=e.appContext._t,e=e.className;return o.a.createElement(s.a,{wrapperClassName:Object(i.a)([l.a.reorderButton,e]),label:t("Reorder")},"::")})},"c+T4":function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a("gf7x"),o=a("ofoP"),s=(e,t)=>!(null==e||!e[n.a.LoginWall])&&(Object(o.t)(t)||Object(o.y)(t))},cLI3:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var I=a("HAmM"),O=a("mTM8"),n=(e,t,a,n,o)=>{var s=a.supplyRequestId,i=a.supplyOpportunityInstanceId,l=a.adProviderId,r=a.isTumblrSponsoredPost,c=a.sponsoredBadgeUrl,d=a.adProviderForeignPlacementId,p=a.adProviderPlacementId,m=a.adProviderInstanceId,u=a.mediationCandidateId,h=a.streamSessionId,g=a.streamGlobalPosition,b=a.placementId,v=a.price,f=a.creativeId,E=a.adId,w=a.adRequestId,y=a.adInstanceId,C=a.adInstanceCreatedTimestamp,C=(new Date).getTime()-C;e({eventName:I.f.SupplyOpportunityFilled,eventDetails:{price:v,supply_opportunity_instance_id:i,supply_provider_id:O.a.DASHBOARD,supply_request_id:s,ad_provider_id:l,is_tumblr_sponsored_post:r||c?1:0,ad_provider_placement_id:p,ad_provider_foreign_placement_id:d,ad_provider_instance_id:m,mediation_candidate_id:u,stream_session_id:h,stream_global_position:g,placement_id:b,fill_id:o||a.fillId,hydra_config_instance_id:n,hydra_signature:null==t?void 0:t.signature,creative_id:f,ad_id:E,ad_instance_age:C,ad_request_id:w,ad_instance_id:y}})}},cTEG:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var t=a("3tO9"),i=a.n(t),t=a("lSNA"),n=a.n(t),l=a("q1tI"),r=a.n(l),c=a("BwKz"),d=a("s5E+"),p=a("x2UA"),m=a("o56e"),u=a("Ya+1"),h=a("g2Yl"),g=a("wzEd"),b=a("kItG");function o(o){var s=1<arguments.length&&void 0!==arguments[1]&&arguments[1];class e extends l.Component{constructor(){super(...arguments),n()(this,"areImpressionsEnabled",!s),n()(this,"provideEventDetails",u.a),n()(this,"isIntersecting",!1),n()(this,"setInViewCallback",e=>{this.inViewCallback=e}),n()(this,"isInView",()=>this.isIntersecting),n()(this,"onIntersectionChange",e=>{this.isIntersecting=e.isIntersecting,this.isIntersecting?(null===(e=this.inViewCallback)||void 0===e||e.call(this),this.inViewCallback=null,this.didBeginIntersecting()):this.didEndIntersecting()}),n()(this,"didBeginIntersecting",()=>{var e;this.areImpressionsEnabled&&(this.logImpression(),(null==(e=this.props.timelineObject)?void 0:e.displayType)!==p.a.Sponsored&&!Object(d.m)(e)||(this.viewableImpressionTimer=window.setTimeout(this.logViewableImpression,1e3)))}),n()(this,"logImpression",()=>{var e=this.props.appContext.logImpression,t=this.props.timelineObject;e({placementId:t.placementId,displayType:t.displayType,serveId:t.serveId,eventName:h.b.Impression,eventDetails:this.provideEventDetails(t)}),t.adm&&this.props.adContext.sendImpressionADMBeacon(this.props.timelineObject.adm)}),n()(this,"logViewableImpression",()=>{var e=this.props.appContext.logImpression,t=this.props.timelineObject;e({placementId:t.placementId,displayType:t.displayType,serveId:t.serveId,eventName:h.b.ViewableImpression,eventDetails:this.provideEventDetails(t)}),this.viewableImpressionTimer=null}),n()(this,"didEndIntersecting",()=>{this.viewableImpressionTimer&&(window.clearTimeout(this.viewableImpressionTimer),this.viewableImpressionTimer=null)}),n()(this,"setImpressionsEnabled",e=>{this.areImpressionsEnabled!==(this.areImpressionsEnabled=e)&&e&&this.isIntersecting&&this.didBeginIntersecting()}),n()(this,"setProvideEventDetails",e=>this.provideEventDetails=e)}render(){var e=this.props.timelineObject,t=e.placementId,a=e.serveId,n=e.displayType,e=i()(i()({},this.props),s?{setImpressionsEnabled:this.setImpressionsEnabled,setProvideEventDetails:this.setProvideEventDetails,isInView:this.isInView,setInViewCallback:this.setInViewCallback}:{}),e=r.a.createElement(o,e);return t||a||n===p.a.Sponsored?r.a.createElement("div",{className:b.a.impressionLoggingWrapper},r.a.createElement(c.a,{onChange:this.onIntersectionChange},r.a.createElement("div",{className:b.a.hiddenObserver})),e):e}componentDidUpdate(e){this.props.timelineObject.placementId!==e.timelineObject.placementId&&this.didEndIntersecting()}}return Object(g.a)(e,"".concat(o.name,"WithImpressionLogging")),Object(m.b)(e,{appContext:!0,adContext:!0})}},d1s8:function(e,t,a){"use strict";a.d(t,"a",function(){return A});var A,n=a("pVnL"),o=a.n(n),n=a("3tO9"),i=a.n(n),n=a("lSNA"),l=a.n(n),r=a("q1tI"),S=a.n(r),x=a("QPbL"),s=a("nA7Y"),c=a("g2Yl"),_=a("rKD4"),n=a("o56e"),d=a("Qtnd"),p=a("7l1C"),j=a("Jq/n"),T=a("yk2S"),R=a("vSkO"),D=a("vAT5"),m=a("y42H"),B=a("xwdP"),u=a("aCRw"),M=a("OPDf"),F=a("USam"),L=a("9Nfv");(a=A=A||{})[a.Unclicked=0]="Unclicked",a[a.Success=1]="Success",a[a.Failure=2]="Failure";class h extends r.Component{constructor(){var s;super(...arguments),s=this,l()(this,"state",{copyLinkStatus:A.Unclicked,showingPinPostConfirmationDialog:!1}),l()(this,"apiHelper",Object(d.a)(this.props.appContext.apiFetch)),l()(this,"containerRef",Object(r.createRef)()),l()(this,"hasUnfollowed",!1),l()(this,"renderItems",e=>{var t,a=this.props,n=a.blogUrl,o=a.blogName,s=a.followed,i=a.postUrl,l=a.dismissal,r=a.isPostPublishedOrPrivate,c=a.date,d=a.renderPin,p=void 0!==d&&d,m=a.postContext,u=m.post,h=u.id,g=u.isPromoted,b=u.canPin,v=u.isPinned,f=u.placementId,E=u.blogName,w=u.askingName,y=u.postAuthor,C=m.presentationStyle,I=C.showsPreviewPostLink,O=C.usesInboxAttribution,k=a.timelineContext,d=a.appContext,u=d._c,N=d.apiFetch,m=d.isLoggedIn,C=d._getRelativeDateString,a=this.state,d=a.copyLinkStatus,a=a.showingPinPostConfirmationDialog,P=[],h=h;c&&r&&P.push(S.a.createElement(R.a,{linkTo:i,title:u("Hover text for timestamp that links to a blog permalink. %1$s is the blog's domain","View post on %1$s","".concat(o,".tumblr.com")),className:Object(j.a)([L.a.meatballItem,L.a.thin,L.a.timestamp]),key:"timestamp"},S.a.createElement(M.d,{comment:"Timestamp in meatball menu for a post. [postedWrapper] and [/postedWrapper] need to stay around the translation of 'Posted - '. If you need to add text after the [date/] symbol then that text will also need to be wrapped in its own set of [postedWrapper] and [/postedWrapper]. [date/] is a simplified timestamp.",components:{postedWrapper:S.a.createElement("span",null),date:S.a.createElement("span",{className:L.a.timestampDate},C(c,_.c.Simple))}},"[postedWrapper]Posted - [/postedWrapper][date/]"))),!r&&I&&P.push(S.a.createElement(R.a,{linkTo:i,className:Object(j.a)({[L.a.meatballItem]:!0,[L.a.thin]:!0}),key:"preview-post"},S.a.createElement("span",null,u("Link text for previewing an unpublished post","Preview Post")))),p&&b&&(b=Object(j.a)([L.a.meatballItem,L.a.thin]),v?P.push(S.a.createElement(R.a,{keepDropdownOpenAfterClick:!0,className:b,onClick:this.unpinPost,key:"pin-post"},u("Link text for unpinning a post","Unpin"))):P.push(S.a.createElement(R.a,{keepDropdownOpenAfterClick:!0,className:b,onClick:this.pinPostClick,key:"pin-post"},u("Link text for pinning a post","Pin"),a&&this.renderPinPostConfirmationDialog()))),P.push(S.a.createElement(F.a,{blogIdentifier:o,postId:h,onPromote:null==k?void 0:k.onPromote,className:L.a.meatballItem,isPromoted:!!g,key:"promoteForItem"})),r&&(r="",d===A.Success?(t=u("Success message after copying a link","Link copied!"),r=L.a.success):d===A.Failure?(t=u("Error message when trying to copy a link","Failed to copy link."),r=L.a.failure):t=u("Menu item to copy the link to a post to your clipboard","Copy link"),P.push(S.a.createElement(R.a,{onClick:this.copyLink,keepDropdownOpenAfterClick:!0,className:Object(j.a)([L.a.meatballItem,r]),key:"copyLink"},t))),m&&!e&&s&&n&&P.push(S.a.createElement(R.a,{isWrappingButton:!0,keepDropdownOpenAfterClick:!0,key:"unfollow"},S.a.createElement(D.a,{following:!0,blogName:o,blogUrl:n,className:L.a.meatballItem,placementId:f,isPostHeader:!0},this.renderUnfollowText))),l&&l.options.forEach(e=>{var t,a,n=Object(j.a)({[L.a.meatballItem]:!0,[L.a.red]:e.destructive}),o=e.link,s=o.type,i=o.href;switch(s){case x.a.Action:t=Object(T.a)(e.link,N,this.removePost);break;case x.a.Web:a=i;break;default:return}P.push(S.a.createElement(R.a,{linkTo:a,onClick:t,className:n,key:"dismissal-".concat(e.text)},e.text))});y=w||y;return m&&!e&&(h=O&&y?Object(B.c)(y,i,{postId:h,recipientName:E},"message"):Object(B.c)(E,i,{postId:h}),P.push(S.a.createElement(R.a,{linkTo:h,className:Object(j.a)([L.a.meatballItem,L.a.red]),key:"report"},u("Menu item to report a post or blog","Report")))),P}),l()(this,"renderPinPostConfirmationDialog",()=>{var e=this.props.appContext._t;return S.a.createElement(u.a,{onGlassClick:this.pinPostCancel,glassIsClickable:!1},S.a.createElement(m.b,{title:e("Pin this post"),body:e("This will appear at the top of your blog and replace any previous pinned post. Are you sure?"),buttons:[{text:e("Nevermind"),buttonStyle:m.a.Neutral,onClick:this.pinPostCancel},{text:e("Yes"),buttonStyle:m.a.Confirm,onClick:this.pinPostConfirm}]}))}),l()(this,"onPopoverClose",()=>this.hasUnfollowed&&this.removePost(null,{wasBlogUnfollowed:!0})),l()(this,"removePost",function(e){var t,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=s.props,o=n.postContext,n=n.timelineContext.onRemoveTimelineObject;null!=o&&null!==(t=o.post)&&void 0!==t&&t.id&&(null==n||n(i()(i()({},a),{},{id:o.post.id})))}),l()(this,"renderUnfollowText",()=>this.props.appContext._c("Menu item to unfollow a blog","Unfollow")),l()(this,"logMeatballsEvent",e=>{this.props.appContext.logEvent({eventName:e,eventDetails:{placement_id:this.props.placementId}})}),l()(this,"copyLink",()=>Object(p.a)(this.props.postUrl,this.containerRef.current).then(()=>{this.setState({copyLinkStatus:A.Success}),this.logMeatballsEvent(c.b.CopyPostLink),this.setLinkResetTimer()}).catch(()=>{this.setState({copyLinkStatus:A.Failure}),this.setLinkResetTimer()})),l()(this,"pinPostClick",()=>{this.setState({showingPinPostConfirmationDialog:!0}),this.props.appContext.logEvent({eventName:c.b.PinPost})}),l()(this,"pinPostConfirm",()=>(this.setState({showingPinPostConfirmationDialog:!1}),this.onPin(!0))),l()(this,"pinPostCancel",()=>{this.setState({showingPinPostConfirmationDialog:!1}),this.props.appContext.logEvent({eventName:c.b.PinPostCancel})}),l()(this,"unpinPost",()=>this.onPin(!1)),l()(this,"onPin",e=>{var t=this.props,a=t.appContext.logEvent,n=t.postContext.post,o=t.timelineContext.onPin;return null==o||o(n.id,e),a({eventName:e?c.b.PinPostConfirm:c.b.UnpinPost}),(e?this.apiHelper.pinPost:this.apiHelper.unpinPost)(n.blogName,n.id).fetch().catch(()=>null==o?void 0:o(n.id,!e))})}componentDidUpdate(e){e.followed&&!this.props.followed&&(this.hasUnfollowed=!0)}render(){var e=this.props.postContext.post.id;return S.a.createElement(B.a,o()({},Object(B.b)(this.props),{forwardedRef:this.containerRef,renderItems:this.renderItems,onPopoverClose:this.onPopoverClose,onBlock:this.removePost,popoverBoundary:s.a.ScrollParent,showOverflowY:!0,postId:e}))}setLinkResetTimer(){clearTimeout(this.copyLinkMessageTimer),this.copyLinkMessageTimer=setTimeout(()=>{this.setState({copyLinkStatus:A.Unclicked})},3e3)}}t.b=Object(n.b)(h,{appContext:!0,postContext:!0,timelineContext:!0})},ee9G:function(e,t,a){"use strict";var n=a("q1tI"),n=a.n(n),a=a("s2Hx"),n=Object(a.c)(n.a.createElement("svg",{viewBox:"0 0 17.6 17.6"},n.a.createElement("path",{d:"M5.3 13.8l-2.1.7.7-2.1L10.3 6l1.4 1.4-6.4 6.4zm6.4-9.3l-1.4-1.4-1.4 1.4-6.7 6.7-.2.5-2 5.9 3.8-1.3 2.1-.7.4-.1.3-.3 7.8-7.8c.1 0-2.7-2.9-2.7-2.9zm5.6-1.4L14.5.3c-.4-.4-1-.4-1.4 0l-1.4 1.4L15.9 6l1.4-1.4c.4-.5.4-1.1 0-1.5"})));n.defaultProps={size:{width:24,height:24}},t.a=n},ffEX:function(e,t,a){"use strict";var n=a("3tO9"),d=a.n(n),n=a("4qC0"),o=a.n(n),p=a("ESMv"),m=a("mUOm"),u=a("s5E+"),h=e=>o()(e)||null===e;t.a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.composeSettings,a=e.blogName,n=e.isPageBlogPage,o=e.editablePost,s=e[u.e.AdvertiserId],i=e[u.e.CampaignId],l=e[u.e.CreativeId],r=e[u.e.AdGroupId],c=e[u.e.AdId],e=(t||{}).saveButtonState,t={};return e&&e!==m.a.New&&(t[p.c.PostSaveButtonState]=e),!o&&a&&n&&(t[p.c.BlogName]=a),t=[s,i,l,r,c].every(h)?d()(d()({},t),{},{[u.e.AdvertiserId]:s,[u.e.CampaignId]:i,[u.e.CreativeId]:l,[u.e.AdGroupId]:r,[u.e.AdId]:c}):t}},hRDA:function(e,t,a){"use strict";var n=a("q1tI"),s=a.n(n),n=a("fSeh"),a=function(e){var t=e.width,a=e.height,n=e.fill,o=e.className,e=e.onClick;return s.a.createElement("svg",{width:t,height:a,className:o,onClick:e,viewBox:"0 0 14 14",fill:n},s.a.createElement("path",{d:"M14 2.8L11.2 0 7 4.2 2.8 0 0 2.8 4.2 7 0 11.2 2.8 14 7 9.8l4.2 4.2 2.8-2.8L9.8 7 14 2.8z"}))};a.defaultProps={width:24,height:24,fill:n.black},t.a=a},"hpQ+":function(e,t,a){"use strict";var n=a("3tO9"),W=a.n(n),n=a("q1tI"),G=a.n(n),Q=a("w7rC"),V=a("pCNn"),K=a("rKD4"),J=a("OPDf"),Y=a("EHdz"),$=a("FP6t"),X=a("vHCn"),Z=a("xVcy"),ee=a("A4z9"),te=a("Gt/x"),ae=a("apQO"),ne=a("PXvT"),oe=a("nsOS"),se=a("5SQw"),ie=a("y4uf"),le=a("p8qf"),re=a("d1s8"),ce=a("Jq/n"),de=a("tSIF"),pe=a("4NU8"),me=a("/N3V"),n=a("fSeh"),ue=a.n(n),he=a("g2Yl"),ge=a("NFOE"),be=a("ofcG"),ve=a("rsLB");t.a=function(e){var t,a,n,o=e.postAttribution,s=e.reblogAttribution,i=e.showsFollowButton,l=e.showsSponsored,r=e.ctaButtonOptions,c=e.presentationStyle,d=void 0===c?{}:c,p=e.isAd,m=e.isFollowingPoster,u=e.isFollowingReblogger,h=e.dismissal,g=e.date,b=e.postState,v=e.isNonInteractive,f=e.placementId,E=e.earnedId,w=e.isPaywalled,y=Object(ie.c)(),C=y._t,I=y._c,O=y._getRelativeDateString,k=y.features,N=k.paywallConsumption,P=k.tspUiUpdate,A=Object(le.c)(),S=A.isNarrow,x=void 0!==S&&S,_=A.post,j=Object(be.b)(),T=j.hydraConfigInstanceId,R=j.adPlacementConfiguration,D=d.avatarDimension,B=d.hasOutline,M=d.reblogIconSize,F=d.showsAvatarInline,L=d.showsDogEar,U=d.showsEditButton,c=d.showsPosterAvatar,e=d.showsPostingBlogName,y=d.stacksReblogAttribution,k=d.usesInboxAttribution,S=s&&i&&G.a.createElement("div",{className:ve.a.followButton},G.a.createElement(Z.a,{blogName:s.blogName,blogUrl:s.blogName,following:!!u,isPostHeader:!0,placementId:f,earnedId:E})),A=Object(ce.a)({[ve.a.headerContent]:!0,[ve.a.hidesPosterBlogname]:!e}),j=(null==o||null===(H=o.blog)||void 0===H?void 0:H.advertiserName)||(null==o||null===(q=o.blog)||void 0===q?void 0:q.name),d=s&&o?C("%1$s reblogged a post from %2$s",o.blog.name,s.blogName):j?C("Posted by %1$s",j):void 0,u=l&&G.a.createElement(ee.a,{showSpinner:!P,showSponsoredText:!0});if(p)return G.a.createElement("header",{role:"banner",className:ve.a.header,"aria-label":d},G.a.createElement("div",{className:A},u));var H=s&&G.a.createElement("div",{className:ve.a.reblogAttribution},G.a.createElement(Y.a,{size:M,isCompact:!0}),G.a.createElement("div",{className:ve.a.rebloggedFromName},G.a.createElement(ne.a,{blogName:s.blogName,postId:s.postId,href:s.permalinkUrl,placementId:f,krakenEventName:he.b.Posts},s.blogName)),S),q=N&&null!=o&&o.blog.isPaywallOn?G.a.createElement($.a,null):null,p=null!=o&&o.permalinkUrl&&!o.blog.advertiserName?G.a.createElement(ne.a,{blogName:o.blog.name,href:o.permalinkUrl,blog:o.blog,placementId:f,krakenEventName:he.b.Posts,krakenEventDetails:Object(ge.a)({hydraConfigInstanceId:T,adPlacementConfiguration:R,timelineObject:_})},j,q):G.a.createElement("span",null,j,q),j=G.a.createElement("span",{className:ve.a.innerText});j=null!=o&&o.recipientName||null==o||!o.isSubmission?null!=o&&o.recipientName?(q=G.a.createElement(ne.a,{blogName:o.recipientName,placementId:f,krakenEventName:he.b.Posts},o.recipientName),o.isSubmission?G.a.createElement(J.d,{comment:"Displayed when a blog has submitted a post to a secondary blog",components:{senderBlogLink:p,innerElement:j,recipientBlogLink:q}},"[senderBlogLink/] [innerElement]submitted to[/innerElement] [recipientBlogLink/]:"):G.a.createElement(J.d,{comment:"Displayed when a blog has sent a message to a secondary blog",components:{senderBlogLink:p,innerElement:j,recipientBlogLink:q}},"[senderBlogLink/] [innerElement]said to[/innerElement] [recipientBlogLink/]:")):p:G.a.createElement(J.d,{comment:"Displayed when a blog has submitted a post to a primary blog",components:{senderBlogLink:p,innerElement:j}},"[senderBlogLink/] [innerElement]submitted[/innerElement]:");var E=o&&i&&!S&&e&&G.a.createElement(Z.a,{blogName:o.blog.name,blogUrl:o.blog.url,following:!!m,className:ve.a.followButton,isPostHeader:!0,placementId:f,earnedId:E}),x=G.a.createElement("div",null,G.a.createElement("div",{className:Object(ce.a)({[ve.a.leftContent]:!0,[ve.a.leftContentStacked]:y&&!!s})},b===V.l.Private?G.a.createElement("div",{className:ve.a.private},G.a.createElement("div",{className:ve.a.lock},G.a.createElement(pe.a,{size:M,fill:ue.a.paletteGray65})),C("Private")):G.a.createElement(G.a.Fragment,null,e&&G.a.createElement("div",{className:Object(ce.a)({[ve.a.postAttribution]:!0,[ve.a.inboxAttribution]:k})},j),H),E),P&&l&&G.a.createElement("div",{className:Object(ce.a)({[ve.a.sponsoredSubHeading]:!x,[ve.a.narrowSponsoredSubHeading]:x})},"Sponsored")),r=!(null==r||!r.text)&&!(null==r||!r.urls.web)&&G.a.createElement("span",{className:ve.a.ctaContainer},G.a.createElement(oe.a,{ctaText:r.text,clickUrl:r.urls.web,color:r.textColor,backgroundColor:r.backgroundColor,placementId:f})),z=N&&(null==o||null===(t=o.blog)||void 0===t?void 0:t.paywallAccess)&&(null==o||null===(z=o.blog)||void 0===z?void 0:z.paywallAccess)===Q.a.Member&&w&&G.a.createElement("span",{className:ve.a.supporterBadgeWrapper},G.a.createElement(X.a,{size:{width:20,height:20}}),G.a.createElement("span",{className:ve.a.label},G.a.createElement(J.d,{comment:"Indicates that the user has supported the creator of a post by subscribing to their blog."},"Supported"))),w=N&&(null==o||null===(a=o.blog)||void 0===a?void 0:a.paywallAccess)&&(null==o||null===(n=o.blog)||void 0===n?void 0:n.paywallAccess)!==Q.a.Member&&w&&G.a.createElement("span",{className:ve.a.lockIcon,"aria-label":I("Indicates that the post has paywalled content that the user doesn't have access to, as they are not a subscriber.","For supporters")},G.a.createElement(me.a,{fill:ue.a.paletteGray25,size:{width:20,height:20}})),U=!v&&o&&G.a.createElement(G.a.Fragment,null,G.a.createElement("span",{className:ve.a.spacer}),u,r,!u&&G.a.createElement(G.a.Fragment,null,z,w,G.a.createElement("span",{className:ve.a.postMeatballsContainer},G.a.createElement(re.b,{dismissal:h,postUrl:o.permalinkUrl,isPostPublishedOrPrivate:!!b&&[V.l.Published,V.l.Private].includes(b),blogName:o.blog.name,blogUrl:o.blog.url,followed:m,date:g,placementId:f,renderPin:U})))),_=o&&(c&&F||b===V.l.Queued)&&G.a.createElement("div",{className:ve.a.avatar},G.a.createElement(te.a,{isAnonymous:!o.blog.url,imageResponse:o.blog.avatar,dimension:b===V.l.Queued?ae.a.mobile.avatarDimension:D,name:o.blog.name,url:o.blog.url,isAdult:o.blog.isAdult,blog:o.blog,isLink:!v,showBlogCard:!v,placementId:f,eventName:he.b.Avatar,eventDetails:Object(ge.a)({adPlacementConfiguration:R,hydraConfigInstanceId:T,timelineObject:_})}));return G.a.createElement("header",{role:"banner",className:Object(ce.a)({[ve.a.header]:!0,[ve.a.isReblog]:!(!y||!s)}),"aria-label":d},_,G.a.createElement("div",{className:Object(ce.a)({[A]:!0,[ve.a.headerSponsored]:!!u||!!r,[ve.a.headerHasInlineAvatar]:!!_})},x,U),G.a.createElement(se.a,null,a=>(()=>{if(!L)return null;var e,t={className:ve.a.dogEar,tabIndex:-1};return a&&(e=a.backgroundColor,t.style=W()({borderTopColor:e,borderRightColor:e},B&&{boxShadow:"2px 0px 0px ".concat(e,", 0px -2px 0px ").concat(e)})),G.a.createElement(de.a,null,G.a.createElement("a",{href:null==o?void 0:o.permalinkUrl,role:"button",target:"_blank",className:ve.a.dogEarLink,"aria-label":C("Permalink"),title:g&&I("Hover text showing a timestamp. %1$s is a simplified timestamp","View post - %1$s",O(g,K.c.Simple))},G.a.createElement("div",t)))})()))}},lFYR:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),n=a("fSeh"),a=a("s2Hx"),o=Object(a.c)(o.a.createElement("svg",{viewBox:"0 0 17 17"},o.a.createElement("path",{d:"M2 15l3.17-5.065 4.124-.956c.475-.143.475-.816 0-.96L5.17 7.066 2 2l13 6.5L2 15zm13.894-8.29l-13-6.5A1.996 1.996 0 0 0 .52.655 2 2 0 0 0 .304 3.06L3.71 8.5.303 13.94a2 2 0 0 0 2.59 2.85l13-6.5a2.002 2.002 0 0 0 .001-3.58z"})));o.defaultProps={size:{width:17,height:17},fill:n.gray65},t.a=o},lpdi:function(e,t,a){e.exports=a.p+"monetization/html/iab-safeframe/sf-630ce12b.html"},nsOS:function(e,t,a){"use strict";var n=a("3tO9"),m=a.n(n),n=a("q1tI"),u=a.n(n),n=a("fSeh"),h=a.n(n),g=a("y4uf"),b=a("g2Yl"),v=a("x2UA"),f=a("p8qf"),E=a("NFOE"),w=a("ofcG"),y=a("xdWo");t.a=function(e){var t=e.ctaText,a=e.backgroundColor,n=void 0===a?h.a.paletteAccent:a,o=e.borderColor,s=void 0===o?h.a.paletteAccent:o,i=e.color,a=void 0===i?h.a.paletteWhite:i,o=e.clickUrl,l=e.placementId,i=Object(g.c)(),r=i.logEvent,e=i.features.tspUiUpdate,c=Object(f.c)().post,i=Object(w.b)(),d=i.hydraConfigInstanceId,p=i.adPlacementConfiguration;return u.a.createElement("div",{className:e?y.a.ctaButton:y.a.ctaButtonOld,style:{backgroundColor:n,color:a,borderColor:s}},u.a.createElement("a",{className:y.a.mainText,style:{color:a},href:o,rel:"nofollow noreferrer noopener",target:"_blank",onClick:()=>{r({eventName:b.b.CTAButton,eventDetails:m()({placement_id:l},Object(E.a)({hydraConfigInstanceId:d,adPlacementConfiguration:p,timelineObject:c}))}),r({eventName:b.b.Click,eventDetails:m()({placement_id:l},Object(E.a)({hydraConfigInstanceId:d,adPlacementConfiguration:p,timelineObject:c}))})}},t||v.b.LearnMore))}},tSIF:function(e,t,a){"use strict";var n=a("J4zp"),o=a.n(n),s=a("q1tI"),i=a.n(s);t.a=e=>{var t=e.children,a=Object(s.useState)(!1),e=o()(a,2),a=e[0],n=e[1];return Object(s.useEffect)(()=>{n(!0)}),i.a.createElement(i.a.Fragment,null,a?t:null)}},vZKu:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),n=a("s2Hx"),a=a("fSeh"),o=Object(n.b)({filledIcon:Object(n.c)(o.a.createElement("svg",{width:"20",height:"18",viewBox:"0 0 20 18"},o.a.createElement("path",{d:"M17.888 1.1C16.953.38 15.87 0 14.758 0c-1.6 0-3.162.76-4.402 2.139-.098.109-.217.249-.358.42a12.862 12.862 0 0 0-.36-.421C8.4.758 6.84 0 5.248 0 4.14 0 3.06.381 2.125 1.1-.608 3.201-.44 6.925 1.14 9.516c2.186 3.59 6.653 7.301 7.526 8.009.38.307.851.474 1.333.474a2.12 2.12 0 0 0 1.332-.473c.873-.71 5.34-4.42 7.526-8.01 1.581-2.597 1.755-6.321-.968-8.418"}))),emptyIcon:Object(n.c)(o.a.createElement("svg",{width:"20",height:"18",viewBox:"0 0 20 18"},o.a.createElement("path",{d:"M14.658 0c-1.625 0-3.21.767-4.463 2.156-.06.064-.127.138-.197.225-.074-.085-.137-.159-.196-.225C8.547.766 6.966 0 5.35 0 4.215 0 3.114.387 2.162 1.117c-2.773 2.13-2.611 5.89-1.017 8.5 2.158 3.535 6.556 7.18 7.416 7.875A2.3 2.3 0 0 0 9.998 18c.519 0 1.028-.18 1.436-.508.859-.695 5.257-4.34 7.416-7.875 1.595-2.616 1.765-6.376-1-8.5C16.895.387 15.792 0 14.657 0h.001zm0 2.124c.645 0 1.298.208 1.916.683 1.903 1.461 1.457 4.099.484 5.695-1.973 3.23-6.16 6.7-6.94 7.331a.191.191 0 0 1-.241 0c-.779-.631-4.966-4.101-6.94-7.332-.972-1.595-1.4-4.233.5-5.694.619-.475 1.27-.683 1.911-.683 1.064 0 2.095.574 2.898 1.461.495.549 1.658 2.082 1.753 2.203.095-.12 1.259-1.654 1.752-2.203.8-.887 1.842-1.461 2.908-1.461h-.001z"})))});o.defaultProps={filled:!1,size:{width:20,height:18},filledIconFillColor:a.paletteRed,emptyIconFillColor:a.transparentWhite40},t.a=o},vjwC:function(e,t,a){"use strict";var n=a("q1tI"),o=a.n(n),n=a("s2Hx"),a=a("fSeh"),o=Object(n.c)(o.a.createElement("svg",{viewBox:"0 0 20 21"},o.a.createElement("path",{d:"M11.5 8.8c0-1.5-1.2-2.8-2.6-2.8-1.4 0-2.6 1.3-2.6 2.8 0 1.5 1.2 2.2 2.6 2.2 1.5 0 2.6-.7 2.6-2.2zM5 16.2v.8h7.7v-.8c0-3-1.7-4.2-3.9-4.2C6.7 12 5 13.2 5 16.2zM16 19H2V4h10V2H2C.9 2 0 2.9 0 4v14.9C0 20.1.9 21 2 21h14.2c1.1 0 1.8-.9 1.8-2.1V8h-2v11zm2-17V0h-2v2h-2v2h2v2h2V4h2V2h-2z"})));o.defaultProps={size:{width:20,height:21},fill:a.white},t.a=o},w2aY:function(e,t,a){"use strict";a.d(t,"b",function(){return C}),a.d(t,"a",function(){return I});var C,I,n=a("3tO9"),O=a.n(n),o=a("pVnL"),k=a.n(o),n=a("q1tI"),N=a.n(n),P=a("55Ip"),A=a("ofoP"),S=a("Gt/x"),x=a("PXvT"),_=a("zoQI"),j=a("4NU8"),T=a("vjwC"),R=a("Jq/n"),o=a("y4uf"),n=a("fSeh"),D=a.n(n),B=a("/AGf");(a=C=C||{}).Light="light",a.Dark="dark",(a=I=I||{})[a.Avatar=0]="Avatar",a[a.Body=1]="Body",a[a.None=2]="None",t.c=Object(o.d)(function(e){var t=e.avatar,a=e.avatarShape,n=e.blogName,o=e.blogTitle,s=e.blogUrl,i=e.theme,l=e.isPrivateChannel,r=e.openInPeepr,c=void 0===r||r,d=e.isMobile,p=e.floatingButton,m=e.onClick,u=e.primary,h=e.badge,g=e.children,b=e.appContext._t,v=e.openBlogCard,f=void 0===v?I.None:v,E=e.className,w=e.following,y=void 0!==w&&w,r=e.followingYou,v=void 0!==r&&r,w=e.followingPage,r=void 0!==w&&w,w=e.followingInfoText,e={width:12,height:12},l=l&&N.a.createElement("div",{className:B.a.blogPrivate},N.a.createElement(j.a,{size:e,fill:i===C.Light?D.a.paletteGray65:D.a.paletteTransparentWhite65})),e=(y&&!r||v&&r)&&N.a.createElement("div",{className:B.a.blogFollowing,title:w,"aria-label":w},N.a.createElement(T.a,{size:e,fill:D.a.paletteGreen})),s={blogName:n,href:s,showBlogCard:f===I.Body},h=N.a.createElement("div",{className:B.a.avatar},N.a.createElement(S.a,{name:n,dimension:37,imageResponse:t,avatarShape:a,showBlogCard:f===I.Avatar,isLink:!1}),h),e=N.a.createElement("div",{className:B.a.blogName},N.a.createElement("span",{className:B.a.displayName},g||n)," ",l," ",e),o=N.a.createElement("div",{className:B.a.blogTitle},o),o=m||f!==I.Avatar?N.a.createElement("div",{className:B.a.leftAlignedWrapper},h,N.a.createElement("div",{className:B.a.blogDescription},e,o)):N.a.createElement("div",{className:B.a.leftAlignedWrapper},h,N.a.createElement(x.a,k()({className:B.a.blogDescription},s),e,o)),o=d&&m&&!u?N.a.createElement(_.a,{wrapperClassName:B.a.clickableBlogRowWrapper,className:B.a.clickableBlogRow,onClick:m,label:b("Expand content")},o):c?f===I.Avatar?N.a.createElement(N.a.Fragment,null,N.a.createElement(x.a,k()({className:B.a.blogLinkCover},s)),N.a.createElement("div",{className:B.a.clickableBlogRow},o)):N.a.createElement(x.a,k()({className:B.a.clickableBlogRow},s),o):N.a.createElement(P.Link,{to:Object(A.d)({blogName:n}),className:B.a.clickableBlogRow},o);return N.a.createElement("div",{className:Object(R.a)(O()({[B.a.blogRow]:!0,[B.a.light]:i===C.Light,[B.a.mobile]:d},E&&{[E]:!0}))},o,N.a.createElement("div",{className:B.a.floatingButton},p))})},x0IU:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a("pCNn"),o=e=>{return e.find(e=>Object(n.B)(e))||e.find(e=>Object(n.R)(e))}},yk2S:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("HBWv");function n(e,t,a){var n=e.href,o=e.method,s=e.bodyParams;return()=>t(n,{method:o,body:Object(i.b)(s)}).then(a)}}}]);

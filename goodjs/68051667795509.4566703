(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{135:function(e,t,r){var a,n;e.exports=(a=r(134),n=r(77),webpackJsonpHotstarWebSDK__name_([0],[function(e,t){e.exports=a},,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NETWORK_ERRORS=t.SLATE_ACTION_TYPE=t.PLAYBACK_CONSENT_API=t.PLAYBACK_COMPOSITE_API_IDS=t.PLAYBACK_COMPOSITE_ERROR_TYPE=t.ENTITLEMENT_V1_ERROR_TYPE=t.REFRESH_TOKEN_ERROR_TYPE=t.trayWithoutMeta=t.PAGINATION_SIZE=t.trayTypeIdMap=t.trayTypeToSourceMap=t.apiSource=t.avsSubscribedUserStatus=t.contentPagination=t.skipMinimumCardsRule=t.skipTrayCall=t.defaultIsAllowPlayBackResponse=t.defaultIdentifyTrayResponse=t.defaultTrayResponse=t.imageTypes=t.trayTypes=void 0;var a,a=(a=r(7))&&a.__esModule?a:{default:a},r=r(58),r=(t.trayTypes={EDITORIAL_TRAY:"EDITORIAL",NEWS_CLIPS_TRAY:"NEWS_CLIPS",POPULAR_TRAY:"POPULAR",MATCH_HIGHLIGHTS_TRAY:"SPORT_MATCH_HIGHLIGHTS",SPORTS_LIVE_TRAY:"SPORT_LIVE",SPORT_DAY_HIGHLIGHT:"SPORT_DAY_HIGHLIGHT",SPORTS_TRAY:"SPORTS_TRAY",SPORTS_REPLAY:"SPORT_REPLAY",DAILY_POPULAR_EPISODES:"DAILY_POPULAR_EPISODES",DAILY_POPULAR_CLIPS:"DAILY_POPULAR_CLIPS",DAILY_POPULAR_SPORTS:"DAILY_POPULAR_SPORTS",DAILY_POPULAR_SPORTS_CLIPS:"DAILY_POPULAR_SPORTS_CLIPS",POPULAR_LANGUAGE_GENRE_SERIES:"POPULAR_LANGUAGE_GENRE_SERIES",POPULAR_LANGUAGE_GENRE_MOVIES:"POPULAR_LANGUAGE_GENRE_MOVIES",POPULAR_LANGUAGE_GENRE_MOVIES_SERIES:"POPULAR_LANGUAGE_GENRE_MOVIES_SERIES",LANGUAGE_BASED_SERIES:"LANGUAGE_BASED_SERIES",LANGUAGE_BASED_MOVIE:"LANGUAGE_BASED_MOVIE",MOST_RECENT_EPISODE:"MOST_RECENT_EPISODE",MOST_RECENT_CLIPS:"MOST_RECENT_CLIPS",MOST_RECENT_MOVIE:"MOST_RECENT_MOVIE",MOST_RECENT_SERIES:"MOST_RECENT_SERIES",GENRE_BASED_SPORT_LIVE:"GENRE_BASED_SPORT_LIVE",LANGUAGE_GENRE_SPORT_HIGHLIGHTS:"LANGUAGE_GENRE_SPORT_HIGHLIGHTS",IPL_SLOMO_BANNER:"IPL_SLOMO_BANNER",PREMIUM_SERIES:"PREMIUM_SERIES",PREMIUM_MOVIES:"PREMIUM_MOVIES"},t.imageTypes={IMAGE_TYPE:{NEWS_CLIPS:"hs",SPORT:"hs",SPORT_MATCH_HIGHLIGHTS:"hs",SPORT_LIVE:"hs",SPORT_YMAL:"hs",ACN_SPORT_YMAL:"hs",DEFAULT:"hs",RECENT_FROM_MATCH:"hs",POPULAR_FOR_TOURNAMENT:"hs",YMAL_TRAYS:"hs",EPISODE:"hs",SEASON:"hsea",GAME:"hs"}},t.defaultTrayResponse=(0,a.default)({},r.baseTrayModel,{isPanic:!1,success:!0,message:""}),t.defaultIdentifyTrayResponse={trays:[]},t.defaultIsAllowPlayBackResponse={canWatch:"Y",message:""},t.skipTrayCall={contentTypes:["NEWS_LIVE"]},t.skipMinimumCardsRule=["SEASON","RECENT_FROM_MATCH"],t.contentPagination={becardPageSize:8,fecardPageSize:8,betrayPageSize:5,fetrayPageSize:5},t.avsSubscribedUserStatus=["SF","SC","SR"],t.apiSource={AVS:"avs",CMS:"cms",SNIPER:"sniper",PERSONA:"persona"});t.trayTypeToSourceMap={catalog:r.CMS,px:r.CMS},t.trayTypeIdMap={CONTINUE_WATCHING:833,WATCHLIST:831,LEADERBOARD:420,PERSONA_WITH_META:851,PERSONA_WITHOUT_META:859,PERSONA_MASTHEAD:850},t.PAGINATION_SIZE=20,t.trayWithoutMeta=["catalog","px"],t.REFRESH_TOKEN_ERROR_TYPE={JWT_TOKEN_TAMPERED:"UMSP_601",USER_TOKEN_INVALIDATED:"ERR_UM_071"},t.ENTITLEMENT_V1_ERROR_TYPE={GEO:"GEO",CONCURRENCY:"CONCURRENCY",MAX_LIMIT_REACHED:"ERR_CON_041",USER_TOKEN_INVALIDATED:"ERR_CON_040",SUSPICIOUS_ACTIVITY:"ERR_CON_042",JWT_TOKEN_EXPIRED:"ERR_CON_043",JWT_TOKEN_TAMPERED:"ERR_CON_044",MALICIOUS_ACCESS_TO_PAID_CONTENT:"ERR_CON_047"},t.PLAYBACK_COMPOSITE_ERROR_TYPE={BAD_PLAYBACK_REQUEST:"ERR_PB_1401",USER_NOT_LOGGED_IN:"ERR_PB_1405",JWT_TOKEN_EXPIRED:"ERR_PB_1408",JWT_TOKEN_TAMPERED:"ERR_PB_1409",INVALID_CONTENT:"ERR_PB_1410",INSUFFICIENT_USER_PACK:"ERR_PB_1411",INACCESIBLE_CONTENT:"ERR_PB_1412",PLAYBACK_FETCH_ERROR:"ERR_PB_1413",TOO_MANY_REQUESTS:"ERR_PB_1414",PLAYBACK_LIMIT_REACHED:"ERR_PB_1420",USER_CONSENT_REQUIRED:"ERR_PB_1419",PB_FORCE_LOGOUT:"ERR_PB_1422",PARENTAL_CONTROL:"ERR_PB_1423"},t.PLAYBACK_COMPOSITE_API_IDS={PLAYBACK_COMPOSITE:"playback-composite",WATCH_PERCENTAGE:"WATCH-PERCENTAGE",GEO_RIGHTS:"geoLocation",CONCURRENCY:"CONCURRENCY"},t.PLAYBACK_CONSENT_API="playback-consent",t.SLATE_ACTION_TYPE={GEO:"GEO",CONCURRENCY:"CONCURRENCY",LOG_IN:"LOGIN",PREMIUM:"PREMIUM",NETWORK_UNAVAILABLE:"NETWORK_UNAVAILABLE",BLANK:"BLANK",PLAYER_ERROR:"PLAYER_ERROR",ACC_LOGGED_OUT:"ACC_LOGGED_OUT",USER_CONSENT:"USER_CONSENT",PLAYBACK_LIMIT_REACHED:"PLAYBACK_LIMIT_REACHED"},t.NETWORK_ERRORS={NETWORK_UNAVAILABLE:"NET_UNAVBL",NETWORK_TIMEOUT:"NET_TMO"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(r(75)),i=a(r(78));t.default=function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var u,s=(0,i.default)(e);!(a=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},,,,,,,,,function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r,a={};for(r in e)t.indexOf(r)<0&&Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trayAssetsModel=t.trayPages=t.baseTrayModel=void 0;var a=r(0).utils.baseUtils,n={page:0,pageSize:0,totalPages:0,totalResults:0},o={meta:{duration:""},assetType:"VIDEO",detailApiURI:"",image:{imageType:0,path:""}};t.baseTrayModel=r=a.getNewObjectCopy(r={assets:{items:[],nextOffsetURL:"",page:0,pageSize:0,totalPages:0,totalResults:0},title:""}),t.trayPages=n=a.getNewObjectCopy(n),t.trayAssetsModel=o=a.getNewObjectCopy(o),t.baseTrayModel=r,t.trayPages=n,t.trayAssetsModel=o},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,a,n){var o=a;switch(e){case"EPISODE":case"SEASON":case"SERIES":case"SHOW_LIVE":case"NEWS_LIVE":o=t;break;case"SPORT":case"SPORT_LIVE":case"SPORT_MATCH_HIGHLIGHTS":case"SPORT_DAY_HIGHLIGHTS":case"SPORT_REPLAY":o=r;break;case"CLIPS":case"NEWS_CLIPS":case"NEWS_BREAKING":o=n;break;default:o=a}return o}function n(e){return e.replace("http://media","https://secure-media").replace("-starag.startv.in",".hotstar.com").trim()}function c(e){return e?"long_form":"short_form"}function o(e,t){return t.replace("[ID_MOD_100]",(""+e).slice(-2)).replace("[ID]",""+e)}function u(e){return-1<e.indexOf("EPISODE")?"EPISODE":-1<e.indexOf("SPORT")?"SPORT":-1<e.indexOf("NEWS")?"NEWS":-1<e.indexOf("MOVIE")?"MOVIE":-1<e.indexOf("TV")?"SERIES":"CLIPS"}function s(e){return e&&-1<e.indexOf("LIVE")}function l(e){return e===b}function d(t){t.castDisabled=!t.castEnabled;var r="";return(0,_.default)(T).forEach(function(e){t[e]&&(r=r+T[e]+";")}),r.slice(0,-1)}function f(e,t){var r="";if(""!==e&&t&&t.length&&0<t.length)for(var a=0;t.length>a;a++){var n=t[a];if(e===n.categoryId){r=n.categoryName;break}}return r}function p(e){var t={},r=e.type,a=e.contentTitle,n=e.title,o=e.showName,e=e.secondaryTitle,e=void 0===e?"":e;return t.primaryTitle=a,t.secondaryTitle="",-1<r.indexOf("CLIP")?t.secondaryTitle=e:-1<r.indexOf("EPISODE")&&(t.primaryTitle=o,t.secondaryTitle=n),t}function h(e,t,r,a,n){var o=t.contentType,u=t.showId,s=t.seasonId,t=t.categoryId,s=i(void 0===o?"":o,void 0===u?0:u,void 0===s?0:s,void 0===t?"":t,n),t={},n=e.cuepointsMidroll;return(0,m.default)({},e,{vpcategory:s,cf:c(a)||"NOT_FOUND"},t=!(n=r?"":n)?{cuepointsMidroll:""}:t)}function v(e){var t=e.item,r=void 0===t?{}:t,t=e.variantsList,e=void 0===t?[]:t,t={};return t.pcExtendedRatings=d(r),t.variantlist=e,t.legacy_details=r,t}function y(e){return!(!e.premium&&!e.live)}Object.defineProperty(t,"__esModule",{value:!0});var g=a(r(48)),m=a(r(19)),_=a(r(23));t.getCid=i,t.getChannelRegionUrl=n,t.getCfParamVpz=c,t.getCuePointUrl=o,t.getContentType=u,t.isLive=s,t.isAdult=l,t.getPcExtendedRating=d,t.getTournamentName=f,t.getLabelsForMetaData=p,t.getAdMetaData=h,t.getMetaDataOfWatchPage=v,t.isContentSubscribed=y,t.generateTagsString=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:";";if("object"!==(void 0===t?"undefined":(0,g.default)(t))||!(0,_.default)(t).length)return"";var r=(0,_.default)(t).sort(),a=[];return r.forEach(function(e){a.push(e+":"+t[e])}),a.join(e)};var b=3,T={disney:"A",fox:"H",castDisabled:"D",hboContent:"H",supportSimulcast:"T",premium:"S"};t.default={getCfParamVpz:c,getChannelRegionUrl:n,getCid:i,getCuePointUrl:o,getTournamentName:f,isAdult:l,isContentSubscribed:y,getMetaDataOfWatchPage:v,getContentType:u,getPcExtendedRating:d,isLive:s,getAdMetaData:h,getLabelsForMetaData:p}},,,,,,,,,,,,,,,,function(e,t,r){e.exports={default:r(76),__esModule:!0}},function(e,t,r){r(33),r(25),e.exports=r(77)},function(e,t,r){var a=r(43),n=r(13)("iterator"),o=r(31);e.exports=r(6).isIterable=function(e){e=Object(e);return void 0!==e[n]||"@@iterator"in e||o.hasOwnProperty(a(e))}},function(e,t,r){e.exports={default:r(79),__esModule:!0}},function(e,t,r){r(33),r(25),e.exports=r(80)},function(e,t,r){var a=r(22),n=r(55);e.exports=r(6).getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HotstarAVSCommonsService=void 0;var n,o=a(r(8)),u=a(r(9)),s=a(r(10)),i=a(r(1)),c=a(r(2)),l=r(0),s=t.HotstarAVSCommonsService=((0,c.default)(d,[{key:"getCuePoints",value:(n=(0,s.default)(o.default.mark(function e(t){var r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,l.HttpLib.get(t,{type:"xml"});case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r.isError=!0;case 10:return a="",r.isError||(a=r.text),e.abrupt("return",u.default.resolve(a));case 13:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return n.apply(this,arguments)})}]),d);function d(){(0,i.default)(this,d)}t.default=(0,l.registerOperations)("AVS",s)},function(e,t,r){e.exports={default:r(87),__esModule:!0}},function(e,t,r){r(88),e.exports=r(6).Object.freeze},function(e,t,r){var a=r(17),n=r(49).onFreeze;r(46)("freeze",function(t){return function(e){return t&&a(e)?t(n(e)):e}})},,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(r,a,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(r,a,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(r,a,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var o,u,s,i,c,l,d,f,p,h,v,y,g,m,_,b,T,I,E,R,C,O,S,P,k,w,A,x,M,D,L,N,U=a(r(15)),W=a(r(114)),q=a(r(11)),j=a(r(118)),H=a(r(19)),V=a(r(23)),G=a(r(7)),Y=a(r(233)),F=a(r(9)),K=a(r(47)),B=a(r(8)),z=a(r(10)),$=a(r(1)),J=a(r(2)),Q=r(0),X=a(r(119)),Z=a(r(120)),ee=a(r(34)),te=a(r(51)),re=a(r(238)),ae=r(239),ne=a(r(121)),oe=r(16),ue=r(123),se=r(112),ie=new X.default,ce=new ee.default,le=new te.default,de=new re.default,fe=Q.utils.baseUtils;function pe(){(0,$.default)(this,pe),this.calculateWatchPercentage=function(e,t){return Math.floor(e*t/100)},this.shouldDisplayTag=function(e){return e<.05},this.apiRegistry=Z.default}t.default=(o=(0,Q.responseAdapter)(de.getContinueWatchingTrayResponse),u=(0,Q.responseAdapter)(de.fetchCWTrayResponse),s=(0,Q.requestAdapter)(de.removeCWItemRequest),i=(0,Q.responseAdapter)(de.fetchLocalCWTrayResponse),r=(0,Q.requestAdapter)(de.updateLocalCWDataRequest),X=(0,Q.responseAdapter)(de.getContentDetailsResponse),ee=(0,Q.requestAdapter)(de.updateCWTrayItemRequest),te=(0,Q.responseAdapter)(de.getLpvHeaderResponse),re=(0,Q.responseAdapter)(de.getWatchNextResponse),t=(0,Q.responseAdapter)(de.fetchPersonaTrayResponse),de=(0,Q.responseAdapter)(de.getWatchlistResponse),(0,J.default)(pe,[{key:"rucSetModule",value:(N=(0,z.default)(B.default.mark(function e(t){var r=t.reqModule,a=void 0===r?"":r,t=t.reqData,n=void 0===t?{}:t;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.LocalStorageInterface.rucSetModule({reqModule:a,reqData:n}));case 1:case"end":return e.stop()}},e,this)})),function(e){return N.apply(this,arguments)})},{key:"rucSetItem",value:(L=(0,z.default)(B.default.mark(function e(t){var r=t.reqModule,a=void 0===r?"":r,r=t.reqKey,n=void 0===r?"":r,t=t.reqData,o=void 0===t?{}:t;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.LocalStorageInterface.rucSetItem({reqModule:a,reqKey:n,reqData:o}));case 1:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)})},{key:"rucGetItem",value:(D=(0,z.default)(B.default.mark(function e(t){var r=t.reqModule,a=void 0===r?"":r,t=t.reqKey,n=void 0===t?"":t;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.LocalStorageInterface.rucGetItem({reqModule:a,reqKey:n}));case 1:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)})},{key:"rucChkIfValid",value:(M=(0,z.default)(B.default.mark(function e(t){return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),function(e){return M.apply(this,arguments)})},{key:"rucRemoveItem",value:(x=(0,z.default)(B.default.mark(function e(t){var r=t.reqModule,a=void 0===r?"":r,t=t.reqKey,n=void 0===t?"":t;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.LocalStorageInterface.rucRemoveItem({reqModule:a,reqKey:n}));case 1:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"rucClearAll",value:(A=(0,z.default)(B.default.mark(function e(t){return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),function(e){return A.apply(this,arguments)})},{key:"rucSyncServer",value:(w=(0,z.default)(B.default.mark(function e(t){return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"fetchCwWithLocalBackup",value:(k=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config,n=this.fetchCWTray(t),a=this.fetchLocalCWTray(t),n=[n],r.skipCache||n.push(a),e.next=7,F.default.all(n);case 7:return a=e.sent,n=(0,K.default)(a,2),a=n[0],n=n[1],n=void 0===n?[]:n,e.abrupt("return",{apiCWTray:a,localCWTray:n});case 13:case"end":return e.stop()}},e,this)})),function(e){return k.apply(this,arguments)})},{key:"getContinueWatchingTray",value:(P=(0,z.default)(B.default.mark(function e(t){var r,a,n,o,u,s,i;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,r=void 0===n?{}:n,a=t.userId,n=t.offset,a&&Q.canUseDOM){e.next=4;break}return console.error("Invalid scenario to call CW from persona: canUseDOM: "+Q.canUseDOM+", userId: "+a,t),e.abrupt("return",{data:[],offset:n});case 4:return e.next=6,this.fetchCwWithLocalBackup(t);case 6:return u=e.sent,i=u.apiCWTray,s=u.localCWTray,o=i.data.token,s=this._filterOutStaleData(s,i),u=(u=this.mergeCWTrayData(s,i.data.items)).sort(this._sortDescCWData),s=u.map(this._getContentIds),i=(0,Y.default)(u.reduce(this._getShowContentIds,{})),s=this.getContentDetails({contentIds:s,config:r}),i=this.getContentDetails({contentIds:i,config:r}),e.next=19,F.default.all([s,i]);case 19:if(s=e.sent,i=(0,K.default)(s,2),s=i[0],i=i[1],u=this._addContentMeta(s,u),u=this._getUniqueItemPerShow(u),u=this._addShowPoster(i,u),r.skipCache){e.next=29;break}return e.next=29,this.updateLocalCWData({userId:a,cwTray:this._getParsedLocalTray(u)});case 29:return e.abrupt("return",{data:u,offset:n,token:o});case 30:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"_addContentMeta",value:function(o,e){return e.filter(function(e){return!!o[e.item_id]}).map(function(e){var t=e.watched,r=e.tag,a=e.timestamp,n=e.showContentId,t=100*t,e=o[e.item_id];return e.meta=(0,G.default)({},e.meta||{},{percentage:t}),(0,G.default)({},e,{percentage:t,showContentId:n,isCWItem:!0,isNextEpisode:"NEXT_EPISODE"===r,isNewEpisode:"NEW_EPISODE"===r,tag:r,timestamp:a})})}},{key:"_getUniqueItemPerShow",value:function(e){var r={};return e.filter(function(e){var t=e.showContentId;return!t||!r[t]&&(r[t]=e.contentId,!0)})}},{key:"_addShowPoster",value:function(a,e){return e.map(function(e){var t=e.showContentId;if(!t)return e;var r=a[t];return r&&(e.imgContentId=t,e.image=le.extractImageData(r),e.showDetail=r),e})}},{key:"_getParsedLocalTray",value:function(e){return e.map(function(e){return{item_id:e.contentId,watched:e.percentage/100,showContentId:e.showContentId,tag:e.tag,timestamp:e.timestamp}})}},{key:"_sortDescCWData",value:function(e,t){return t.timestamp-e.timestamp}},{key:"_getContentIds",value:function(e){return e.item_id}},{key:"_getShowContentIds",value:function(e,t){t=t.showContentId;return t&&(e[t]=t),e}},{key:"_filterOutStaleData",value:function(e,t){if(!t.data.updatedAt)return e;var r={};return(0,Y.default)(e).forEach(function(e){e.timestamp>t.data.updatedAt&&(r[e.item_id]=e)}),r}},{key:"fetchCWTrayWithLocalBackup",value:(S=(0,z.default)(B.default.mark(function e(t){var r,a;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCwWithLocalBackup(t);case 2:return a=e.sent,r=a.apiCWTray,a=a.localCWTray,a=this._normalizeLocalCwTrayData(a,t),a=this._mergeCwData(r,a,t),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"_normalizeLocalCwTrayData",value:function(){var e=arguments[1],t={data:{},status:!0},r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r={orderedContentIds:(0,V.default)(r),items:r};return t.data=(0,H.default)({},r,{reqContentIds:e.contentIds,reqShowContentId:e.showContentId}),t}},{key:"_mergeCwData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=e;try{(a=JSON.parse((0,j.default)(e))).data=a.data||{},a.data.items={},a.data.orderedContentIds=[];var n=a.data||{},o=n.items,u=void 0===o?{}:o,s=n.orderedContentIds,i=void 0===s?[]:s,c=r.contentIds,l=void 0===c?[]:c,d=r.showContentId,f=e.data||{},p=f.items,h=void 0===p?{}:p,v=f.orderedContentIds,y=void 0===v?[]:v,g=t.data||{},m=g.items,_=void 0===m?{}:m,b=g.orderedContentIds,T=void 0===b?[]:b,I=!!d,E=[].concat((0,q.default)(new W.default([].concat((0,q.default)(y),(0,q.default)(T))))),R=-1/0,C=I&&E.reduce(function(e,t){var r=h[t]||_[t]||{},a=r.timestamp||0;if(r.showContentId!==d)return e;r=R<a;return r&&(R=a),r?t:e},void 0);E.forEach(function(e){var t=!!h[e],r=_[e]||{},a=h[e]||{},a=(t&&a.timestamp>r.timestamp?a:r)||{},r=l.includes(e)||r.showContentId===d;(I&&e===C||!I&&r)&&(i.push(e),u[e]=a)})}catch(e){}return a}},{key:"fetchCWTray",value:(O=(0,z.default)(B.default.mark(function e(t){var r;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,ae.NetworkInterface.fetchCwTray(t);case 4:r=e.sent,r=JSON.parse((0,j.default)(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("fetchCWTray error",e.t0);case 11:return e.abrupt("return",{request:t,response:r});case 12:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return O.apply(this,arguments)})},{key:"fetchCWMovieProgress",value:(C=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contentId,n=t.params,a=null,e.prev=2,e.next=5,this.fetchCWTray((0,G.default)({contentIds:[r]},n));case 5:n=e.sent,n=n.data.items,(n=(void 0===n?{}:n)[r])&&(n=100*n.watched||0,(0,se.isCWInWatchingState)(n)&&(a=n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error while fetching Movie Percentage",e.t0);case 14:return e.abrupt("return",{contentId:r,progress:a});case 15:case"end":return e.stop()}},e,this,[[2,11]])})),function(e){return C.apply(this,arguments)})},{key:"fetchCWShowProgress",value:(R=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,this.fetchCWTray(t);case 4:if(r=e.sent,a=r.data.orderedContentIds,(a=void 0===a?[]:a).length){e.next=8;break}return e.abrupt("return",r);case 8:return n={contentIds:a.slice(0,1),config:{}},e.next=11,ce.getMultiGetContent(n);case 11:n=e.sent,r.data.multiget=n,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error while fetching CW show progress",e.t0);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this,[[1,15]])})),function(e){return R.apply(this,arguments)})},{key:"removeCWItem",value:(E=(0,z.default)(B.default.mark(function e(t){var r,a,n,o,u;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t){e.next=3;break}return e.abrupt("return",r);case 3:return u=t.userId,o=t.contentIds,n=t.config,a=void 0===n?{}:n,n=t.userToken,e.prev=4,n=(0,G.default)({},ie._getRequestHeaders((0,G.default)({},a,{userToken:n})),ne.default.getLpvAndSubsStatusObj(u,a)),o={headers:n,data:{items:o}},a.PERSONA_API_TIMEOUT&&(o.apiTimeOut=a.PERSONA_API_TIMEOUT),u={pathVars:{userId:u}},u=this.apiRegistry.getPath(u,"continueWatchingTray"),e.next=12,Q.HttpLib.delete(u,o);case 12:r=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error("Failed to remove an item from cw",e.t0);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this,[[4,15]])})),function(e){return E.apply(this,arguments)})},{key:"fetchLocalCWTray",value:(I=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,n=t.contentIds,a=void 0===n?[]:n,n={},e.prev=2,e.next=5,this.rucGetItem({reqModule:"persona-cw",reqKey:r});case 5:if(e.t0=e.sent){e.next=8;break}e.t0={};case 8:(n=e.t0)&&n.timestamp&&delete n.timestamp,a.length&&(n=fe.pick(n,a)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(2),console.error("Error while fetching local CW tray",e.t1);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this,[[2,13]])})),function(e){return I.apply(this,arguments)})},{key:"getWatchPercentage",value:(T=(0,z.default)(B.default.mark(function e(t){var r,a,n,o,u,s;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,u=t.personaData,o=void 0===u?{}:u,n=t.content,u=t.userId,a=n.contentId,n=n.duration,o.config)return e.next=6,this.fetchCwWithLocalBackup((0,G.default)({},o,{userToken:u}));e.next=14;break;case 6:o=e.sent,u=o.apiCWTray,o=o.localCWTray,u=this.mergeCWTrayData(o,u.data.items),u=u.filter(function(e){return e.item_id===a}),u=(0,K.default)(u,1),u=u[0],r=(void 0===u?{}:u).watched||0,e.next=19;break;case 14:return s={reqModule:"content-bookmark",reqKey:a},e.next=17,this.rucGetItem(s,"RUC");case 17:(s=e.sent)&&s.lastWatchedTime&&(r=s.lastWatchedTime/n);case 19:return r=100*r||0,e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this)})),function(e){return T.apply(this,arguments)})},{key:"mergeCWTrayData",value:function(n,o){var u=this,s=fe.getNewObjectCopy(o);return(0,V.default)(n).forEach(function(e){var t,r=n[e],a=o[e]||{timestamp:-1};r.timestamp>a.timestamp&&(r=fe.getNewObjectCopy(r),a.item_id&&(t="",u.shouldDisplayTag(r.watched)&&(t=a.tag),r=(0,G.default)({},a,{watched:r.watched,timestamp:r.timestamp,tag:t})),s[e]=r)}),(0,Y.default)(s)}},{key:"updateLocalCWData",value:(b=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.error("Invalid request to update CW data. Request : "+t),e.abrupt("return",!1);case 3:return r=t.userId,a=t.cwTray,n=!1,e.prev=5,e.next=8,this.rucSetItem({reqModule:"persona-cw",reqKey:r,reqData:a});case 8:n=!!e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:return n||console.error("Failed to update CW data. User: "+r+" Data: "+a),e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this,[[5,11]])})),function(e){return b.apply(this,arguments)})},{key:"getContentDetails",value:(_=(0,z.default)(B.default.mark(function e(t){var r,a,n=t.contentIds,o=t.config,u=t.useCategoryApi;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},n.length){e.next=3;break}return e.abrupt("return",r);case 3:return e.prev=3,a={contentIds:n,config:o,useCategoryApi:u},e.next=7,ce.getMultiGetContent(a);case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",F.default.reject(e.t0));case 14:case"end":return e.stop()}},e,this,[[3,11]])})),function(e){return _.apply(this,arguments)})},{key:"updateCWTrayItem",value:(m=(0,z.default)(B.default.mark(function e(t){var r,a,n,o,u,s,i,c;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.error("Invalid request: updateCWTrayItem params: "+t),e.abrupt("return",!1);case 3:if(r=t.contentId,a=t.percentage,n=t.userId,o=t.showContentId,i=t.contentType,u=void 0===i?"":i,c=t.removed,s=void 0!==c&&c,u=u.toLowerCase(),(0,se.isCWInNotStartedState)(a))return e.abrupt("return",{contentId:r,cwState:se.CWState.NOT_STARTED});e.next=7;break;case 7:return e.next=9,this.fetchLocalCWTray({userId:n});case 9:return i=e.sent,c=(0,G.default)({item_id:r,watched:a/100,timestamp:Date.now()},s&&{removed:s}),"episode"===u&&o&&(c.showContentId=o,i=this._removeShowData(i,o)),(0,se.isCWInWatchingState)(a)?i[r]=c:delete i[r],e.next=15,this.updateLocalCWData({userId:n,cwTray:(0,Y.default)(i)});case 15:return e.abrupt("return",{contentId:r,cwState:(0,se.getCWState)(a)});case 16:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"_removeShowData",value:function(e,t){t+="";var r={};return(0,Y.default)(e).forEach(function(e){e.showContentId+""!==t&&(r[e.item_id]=e)}),r}},{key:"cleanLocalCWData",value:(g=(0,z.default)(B.default.mark(function e(t){var r;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.error("Inavalid request: cleanLocalCWData params: "+t),e.abrupt("return",!1);case 3:return e.next=5,this.rucGetItem({reqModule:"persona-cw"});case 5:if(e.t0=e.sent){e.next=8;break}e.t0={};case 8:return r=e.t0,r=r[t]||{},e.next=12,this.rucRemoveItem({reqModule:"persona-cw"});case 12:return e.next=14,this.rucSetItem({reqModule:"persona-cw",reqKey:t,reqData:r});case 14:return e.abrupt("return",!!e.sent);case 15:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"fetchLpv",value:(y=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,n=t.config,a=void 0===n?{}:n,r){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,ae.NetworkInterface.fetchLpv(t);case 5:return(n=e.sent).status&&!a.skipCache&&ae.LocalStorageInterface.setLpv({userId:r,lpvData:n.data}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"postLpv",value:(v=(0,z.default)(B.default.mark(function e(t){var r,a,n,o,u,s,i;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,i=t.config,a=void 0===i?{}:i,s=t.data,n=void 0===s?{}:s,o={},u={},r){e.next=5;break}return e.abrupt("return",u);case 5:return e.prev=5,i=ie.getAuthToken(),s={hotstarauth:i},i={pathVars:{userId:r}},i=this.apiRegistry.getPath(i,"postLpv"),a.PERSONA_API_TIMEOUT&&(o.apiTimeOut=a.PERSONA_API_TIMEOUT),o={type:"json",data:n,headers:s,expireAt:-1},e.next=15,Q.HttpLib.post(i,o);case 15:u=e.sent,e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),console.warn("Error while fetching LPV",e.t0),u=F.default.reject(e.t0);case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}},e,this,[[5,18]])})),function(e){return v.apply(this,arguments)})},{key:"getLpvHeader",value:(h=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,a=t.config,a=void 0===a?{}:a,r){e.next=3;break}return e.abrupt("return",{});case 3:if(n={},a.skipCache){e.next=8;break}return e.next=7,ae.LocalStorageInterface.getLpv({userId:r});case 7:n=e.sent;case 8:if(n&&n.lpv_bucketed){e.next=12;break}return e.next=11,this.fetchLpv(t);case 11:n=e.sent;case 12:return e.abrupt("return",n.lpv_bucketed||{});case 13:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getWatchNext",value:(p=(0,z.default)(B.default.mark(function e(t){var r,a,n,o,u;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.prev=1,u=t.config,a=void 0===u?{}:u,e.next=5,ae.NetworkInterface.fetchWatchNext(t);case 5:if(r=e.sent,(n=r.data.items||[]).length&&n[0]){e.next=9;break}throw Error("Unable get the next video");case 9:return e.next=11,this.getContentDetails({contentIds:n,config:a});case 11:if(o=e.sent,ne.default.hasContentDetails(r,o)){e.next=15;break}throw Error("Multiget lookup failed");case 15:return r=(0,H.default)({},r,{multiContentMap:o}),e.abrupt("return",r);case 19:return e.prev=19,e.t0=e.catch(1),u=(0,G.default)({},r,{status:!1,error:e.t0}),e.abrupt("return",F.default.reject(u));case 23:case"end":return e.stop()}},e,this,[[1,19]])})),function(e){return p.apply(this,arguments)})},{key:"fetchPersonaTray",value:(f=(0,z.default)(B.default.mark(function e(t){var r,a,n;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,a=t.trayTypeId,n=t.config,n=void 0===n?{}:n,e.next=5,ae.NetworkInterface.fetchPersonaTrayData(t,t.addIdentifier);case 5:if(r=e.sent,(0,V.default)(r).length){e.next=8;break}throw Error("fetchPersonaTray: Page end reached");case 8:e.t0=a,e.next=e.t0===oe.trayTypeIdMap.PERSONA_WITH_META||e.t0===oe.trayTypeIdMap.PERSONA_MASTHEAD?11:e.t0===oe.trayTypeIdMap.PERSONA_WITHOUT_META?12:17;break;case 11:return e.abrupt("break",17);case 12:return r.data.itemids=r.data.items,e.next=15,this.getContentDetails({contentIds:r.data.itemids,config:n});case 15:return r.data.items=e.sent,e.abrupt("break",17);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),r={};case 22:return e.abrupt("return",{request:t,resp:r});case 23:case"end":return e.stop()}},e,this,[[1,19]])})),function(e){return f.apply(this,arguments)})},{key:"getWatchlist",value:(d=(0,z.default)(B.default.mark(function e(t){var r;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,ae.NetworkInterface.fetchWatchlist(t);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r={status:!1};case 10:return e.abrupt("return",{request:t,response:r});case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return d.apply(this,arguments)})},{key:"addToWatchlist",value:(l=(0,z.default)(B.default.mark(function e(t){var r;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,ae.NetworkInterface.watchlistItemOperation(t,ue.WL_OPERATIONS.ADD);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("addToWatchlist error",e.t0);case 10:return e.abrupt("return",{status:r&&r.status,content:t});case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return l.apply(this,arguments)})},{key:"removeFromWatchlist",value:(c=(0,z.default)(B.default.mark(function e(t){var r;return B.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,ae.NetworkInterface.watchlistItemOperation(t,ue.WL_OPERATIONS.DELETE);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("removeFromWatchlist error",e.t0);case 10:return e.abrupt("return",{status:r&&200===r.status,content:t});case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return c.apply(this,arguments)})}]),n((z=pe).prototype,"getContinueWatchingTray",[o],(0,U.default)(z.prototype,"getContinueWatchingTray"),z.prototype),n(z.prototype,"fetchCWTray",[u],(0,U.default)(z.prototype,"fetchCWTray"),z.prototype),n(z.prototype,"removeCWItem",[s],(0,U.default)(z.prototype,"removeCWItem"),z.prototype),n(z.prototype,"fetchLocalCWTray",[i],(0,U.default)(z.prototype,"fetchLocalCWTray"),z.prototype),n(z.prototype,"updateLocalCWData",[r],(0,U.default)(z.prototype,"updateLocalCWData"),z.prototype),n(z.prototype,"getContentDetails",[X],(0,U.default)(z.prototype,"getContentDetails"),z.prototype),n(z.prototype,"updateCWTrayItem",[ee],(0,U.default)(z.prototype,"updateCWTrayItem"),z.prototype),n(z.prototype,"getLpvHeader",[te],(0,U.default)(z.prototype,"getLpvHeader"),z.prototype),n(z.prototype,"getWatchNext",[re],(0,U.default)(z.prototype,"getWatchNext"),z.prototype),n(z.prototype,"fetchPersonaTray",[t],(0,U.default)(z.prototype,"fetchPersonaTray"),z.prototype),n(z.prototype,"getWatchlist",[de],(0,U.default)(z.prototype,"getWatchlist"),z.prototype),z)},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function a(e){var t=e.traySource,r=e.trayTypeId,a=i.trayTypeIdMap.CONTINUE_WATCHING,n=i.trayTypeIdMap.WATCHLIST,o=i.trayTypeIdMap.PERSONA_WITHOUT_META,u=i.trayTypeIdMap.PERSONA_WITH_META,s=i.trayTypeIdMap.PERSONA_MASTHEAD,t=t?t.toLowerCase():"catalog";return r===a?"cape":r===n||e.trayTypeId===o||e.trayTypeId===u||e.trayTypeId===s?"persona":t}Object.defineProperty(t,"__esModule",{value:!0}),t.getImageType=function(e){try{return i.imageTypes.IMAGE_TYPE[e.contentType]||"hs"}catch(e){return"hs"}},t.getTrayType=a,t.isNonRenderableTray=function(e){return r=void 0===(r=(t=e).traySource)?"":r,t=t.trayTypeId,t=-1<n.indexOf(t),"third_party"===r.toLowerCase()&&!t||"gravity"===a(e);var t,r};var i=r(16),n=[402,51]},function(e,t,r){"use strict";function a(e){return e>=u.LOWER&&u.UPPER>e}function n(e){return u.LOWER>e}Object.defineProperty(t,"__esModule",{value:!0}),t.CWWatchingStateLimits=t.CWState=void 0;r=(r=r(86))&&r.__esModule?r:{default:r};t.isCWInWatchingState=a,t.isCWInWatchedState=function(e){return e>=u.UPPER},t.isCWInNotStartedState=n,t.getCWState=function(e){return a(e)?o.WATCHING:n(e)?o.NOT_STARTED:o.WATCHED};var o=t.CWState=(0,r.default)({NOT_STARTED:"NOT_STARTED",WATCHED:"WATCHED",WATCHING:"WATCHING"}),u=t.CWWatchingStateLimits=(0,r.default)({UPPER:95,LOWER:5})},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var D=a(r(23)),L=a(r(19)),n=a(r(3)),o=a(r(1)),u=a(r(2)),s=a(r(4)),i=a(r(5)),N=a(r(47)),U=a(r(7)),W=a(r(56)),q=a(r(114)),c=a(r(51)),l=a(r(116)),j=a(r(228)),d=r(229),f=r(0),H=r(59),V=r(16),G=new f.HttpStatusMessages({}),Y=f.utils.baseUtils,F=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).hide;return!(void 0!==e&&e)},K=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).iso3code;return void 0===e?"":e};function p(){var e,M;(0,o.default)(this,p);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=M=(0,s.default)(this,(e=p.__proto__||(0,n.default)(p)).call.apply(e,[this].concat(r))),M.getMovieDataResponse=function(e){return M.getContentDetailsResponse(e)},M.getEpisodeDataResponse=function(e){return M.getContentDetailsResponse(e)},M.getShowDataResponse=function(e){return M.getContentDetailsResponse(e)},M.getClipDataResponse=function(e){return M.getContentDetailsResponse(e)},M.getMatchDataResponse=function(e){return M.getContentDetailsResponse(e)},M.getTraysRequest=function(e){return e},M.getTraysResponse=function(e){var t={};try{t.items=e.traysResp,t.request=e.traysReq,t.allTraysFetched=e.allTraysFetched}catch(e){t.items=[],t.request={},t.allTraysFetched=!0}return t},M.getContentDetailsResponse=function(e){try{if(!e||e.isError)return e;var t=e.contentStartPointSeconds,r=e.clipType,a=e.config,n=e.contentDetails,o=void 0===n?{}:n,u=e.videoPlazaSettings,s=e.reqParams,i=e.isLiveMatch,c=e.originalReq,l=M.isSuccessResponse(o),d=G.getMessage("getContentDetails",o.errorDescription),f=a.DEFAULT_CLIP_CATEGORYID,p=s.context,h=s.isSubscribed,v=s.isPremiumUser,y=o.results,g=void 0===y?{}:y,m=g||{},_=m&&m.item;if(!m)return{assetType:"",content:(0,L.default)({},j.default),success:l,message:d};var b={},T=M.setMetaForAsset(_).contentType||"";Y.isUndefined(p)&&(p="VOD");var I,E,R,C=parseInt(_.parentalRating,10)||0;_&&((b={isSubTagged:_.isSubTagged||!1,features:function(){function r(){return a.has((0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).iso3code)}var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.langObjs,t=void 0===t?[]:t,e=e.features,e=void 0===e?[]:e,a=new q.default(t.filter(F).map(K));return e.map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.languages,t=void 0===t?[]:t,e=(0,W.default)(e,["languages"]);return(0,U.default)({languages:t.filter(F).filter(r)},e)})}(_),adGroupId:_.adGroupId+""||"",id:_.id,archived:_.archived,contentId:""+_.contentId,broadcastDate:_.broadCastDate||0,duration:_.duration||0,genre:_.genre&&0<_.genre.length&&_.genre[0]||"",genres:_.genre,drmProtected:_.encrypted,seasonNo:_.seasonNo,contentTitle:_.title,contentProvider:_.contentProvider,externalContentId:_.externalContentId,playbackUri:_.playbackUri,isNew:"Y"===_.isNew,lang:function(){var e=void 0===(e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).langObjs)?[]:e,e=(0,N.default)(e,1)[0],e=(e=void 0===e?{}:e).name;return void 0===e?"":e}(_),showId:_.showId,showContentId:_.showContentId,gameName:_.gameName,trailerParents:_.trailerParents,showName:_.showName?Y.truncateString(_.showName,47):"",channelName:_.channelName||"",channelId:_.channelId||"",description:_.description,disney:_.disney,fox:_.fox,freemium:_.freemium,live:_.live,premium:_.premium,vip:_.vip,playbackType:_.playbackType,publishDate:_.broadCastDate?1e3*parseInt(_.broadCastDate,10):0,seasonId:_.seasonId,seriesId:_.showId,seasonName:_.seasonName||"",sportsSeasonId:_.sportsSeasonId,contentType:T,type:T,startDate:_.startDate,originalReq:c,meta:(0,H.getMetaDataOfWatchPage)(m),title:_.title,freemiumDelayed:!!(b.freemium&&v&&i)||_.freemium&&i,actors:_.actors,directors:_.directors&&0<_.directors.length?_.directors.join(", "):"",year:_.year,adult:(0,H.isAdult)(C),isSubscribedContent:(0,H.isContentSubscribed)(_),siMatchId:_.siMatchId,parentalRating:C,crisp:_.crisp,parentalRatingName:_.parentalRatingName,secondaryTitle:_.secondaryTitle||"",detail:_.detail||"",langObjs:_.langObjs||[],languageSelector:_.languageSelector||1,clipType:r,monetisable:_.monetisable,tournamentId:_.tournamentId,studioName:_.studioName,studioId:_.studioId,labels:_.labels,collections:_.collections,imageSets:_.imageSets,paywallTS:_.paywallTS}).meta=(0,U.default)({},M.setMetaForAsset(_),b.meta),_.episodeNo&&(b.episodeNo=_.episodeNo||0,b.episode="Episode "+b.episodeNo),b.image=M.extractImageData(_),b.imageAttributes=_.imageAttributes||null,E=(I=(0,H.getLabelsForMetaData)(b)).primaryTitle,R=I.secondaryTitle,b.primaryTitle=E,b.secondaryTitle=R),("SPORT"===p||-1<p.indexOf("LIVE")||"SPORT"===T||-1<T.indexOf("LIVE"))&&(b.episode=null);var O={},S="TRAILER"===p;0<(0,D.default)(u).length&&(O=(0,H.getAdMetaData)(u,_,S,h,f));var P=b.lang,k=b.genre,w=m&&m.trays,A=g.matchMultiLangOptions,x=[];return(void 0===A?[]:A).forEach(function(e){x.push({contentTitle:e.title,contentId:e.contentId,type:e.contentType,language:e.lang[0]})}),b.multiLanguageInfo=x,{pageType:e.pageType,content:b,adMetadata:O,success:l,message:d,type:T,lang:P,genre:k,config:a,trays:w,source:V.apiSource.CMS,contentStartPointSeconds:t,clipType:r}}catch(e){return console.log("printing error in getContentDetailsResponse",e),{}}},M.getTrayResponse=function(e){return e?M.shouldSetMetaDetails(e)?M.addMetaDataInItems(e):e:{}},M.getSeasonsDataResponse=function(e){var t=e.config,r=void 0===t?{}:t,t=e.results,e=void 0===t?{}:t,t=e.item||{},e=M.addMetaDataInItems(e);return e.title="Season "+t.displaySeasonNo,e.source=V.apiSource.CMS,e.config=r,e},M.getTournamentDataResponse=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).results;return M.addMetaDataInItems(void 0===e?{}:e)},M.getHomePageDataResponse=function(e){var t=e.body,r=void 0===t?{}:t,t=r.results,t=void 0===t?{}:t,e=(0,U.default)({},e);return(0,l.default)(r)||(e.body.results=M.addMetaDataInItems(t)),delete e.config,e},M.getLoadMoreContentResponse=function(e){return M.isSuccessResponse(e)&&(e.body.results.items=e.body.results.items.map(M.addMetaProperties)),e},M.getMastheadResponse=function(e){var t=e.assets,t=(void 0===t?{}:t).items;return(void 0===t?[]:t).forEach(function(e){var t=e.line1,r=void 0===t?"":t,a=e.line2,n=void 0===a?"":a,t=e.line3,a=void 0===t?"":t,t=(r||"").split("|");e.line1=t[0]||r,e.line2=t[1]||n,e.line3=t[2]||a}),e},(0,s.default)(M,e)}t.default=(c=c.default,(0,i.default)(p,c),(0,u.default)(p,[{key:"getDetailRequest",value:function(e){return e}},{key:"getWatchPageDataResponse",value:function(e){var t=Y.getNewObjectCopy(d.baseWatchPageModel);return t.contentDetail=e.contentDetails,t.trays.items=e.trays,t.originalReq=e.originalReq,t}},{key:"getDetailPageDataResponse",value:function(e){var t=Y.getNewObjectCopy(d.baseWatchPageModel);return t.contentDetail=e.contentDetails||{},t.contentDetail.pageType="DETAIL_PAGE",t.trays.items=e.trays,t.source=V.apiSource.CMS,t.originalReq=e.originalReq,t}},{key:"shouldSetMetaDetails",value:function(e){e=e.traySource,e=(void 0===e?"catalog":e).toLowerCase();return-1!==V.trayWithoutMeta.indexOf(e)}}],[{key:"extractInfoFromPlaybackSet",value:function(e){var t=e.tags_combination,r=e.licence_url,a=e.preroll_url,n=e.playback_cdn_type,o=e.playback_url,u=e.tagsCombination,s=e.licenceUrl,i=e.prerollUrl,c=e.playbackCDNType,l=e.playbackUrl,e=(0,W.default)(e,["tags_combination","licence_url","preroll_url","playback_cdn_type","playback_url","tagsCombination","licenceUrl","prerollUrl","playbackCDNType","playbackUrl"]);return(0,U.default)({},e,{tagsCombination:t||u,licenceUrl:r||s,prerollUrl:a||i,playbackCDNType:n||c,playbackUrl:o||l})}},{key:"extractVideoMetaDetails",value:function(e){if(!e)return{};var t=e.timelines,r=void 0===t?[]:t,a=e.url_meta,t=e.urlMeta,e=(0,W.default)(e,["timelines","url_meta","urlMeta"]),r=r.map(function(e){var t=e.element_type,r=e.end_time_ms,a=e.start_time_ms,n=e.elementType,o=e.endTimeMs,u=e.startTimeMs,e=(0,W.default)(e,["element_type","end_time_ms","start_time_ms","elementType","endTimeMs","startTimeMs"]);return(0,U.default)({},e,{elementType:t||n,endTimeMs:r||o,startTimeMs:a||u})});return(0,U.default)({},e,{timelines:r,urlMeta:a||t})}},{key:"extractSubtitlesDetails",value:function(e){return e?e.map(function(e){var t=e.displayLangName,r=e.display_lang_name,e=(0,W.default)(e,["displayLangName","display_lang_name"]);return(0,U.default)({},e,{displayLangName:r||t})}):[]}},{key:"extractAdditionalInfoDetails",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(0===(0,D.default)(e).length)return{};var t=e.free_duration,r=(t=void 0===t?{}:t).total_time_in_millis,a=t.elapsed_time_in_millis,n=t.identifier,o=e.freeDuration,u=(o=void 0===o?{}:o).totalTimeInMillis,s=o.elapsedTimeInMillis,t=o.identifier,o=e.requiredPacks;return{freeDuration:{totalTimeInMillis:r||u,elapsedTimeInMillis:a||s,identifier:n||t},requiredPacks:e.required_packs||o}}},{key:"getVideoUrlV2Response",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={success:(e=e||{}).success||!1,isMatch:e.isMatch||!1,watchPercentage:e.watchPercentage||0,originalReq:e.originalReq||{},drmClass:e.drmClass||"",additionalInfo:p.extractAdditionalInfoDetails(e.additionalInfo),responseHeaders:e.responseHeaders||{},videoMeta:p.extractVideoMetaDetails(e.videoMeta)},u=[];return(e.playbackSets||[]).forEach(function(e){var t={},r=p.extractInfoFromPlaybackSet(e);(r.tagsCombination||"").split(";").forEach(function(e){e=e.split(":");t[e[0]]=e[1]});var a=t.encryption&&"plain"!==t.encryption,n={src:r.playbackUrl||""},e=p.extractSubtitlesDetails(r.subtitles),o="";e.some(function(e){if(-1<(e.url||"").indexOf(".vtt"))return o=e.url,!0}),u.push((0,U.default)({tagsObj:t,isDrmProtected:a},{cdnResp:n,drmResp:{licenseUri:r.licenceUrl||"",certificateUrl:r.certificate||"",vtt_url:o},textTracks:e,preRollUrl:r.prerollUrl||"",playbackCDNType:r.playbackCDNType||""}))}),(0,L.default)(t,{playbackSets:u}),t}}]),p)},function(e,t,r){e.exports={default:r(202),__esModule:!0}},function(e,t,r){var a=r(17);e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.commonOperations=void 0;var n,o=a(r(8)),u=a(r(9)),s=a(r(10)),i=a(r(1)),c=a(r(2)),l=r(0),d=r(16),s=((0,c.default)(f,[{key:"getTray",value:(n=(0,s.default)(o.default.mark(function e(t){var r,a,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},t=this.validateTrayRequest(t),e.prev=2,a=t.trayType.toLowerCase().replace(/_/g," "),t.fetchTrays)return a="get"+this.toCamelCase(a),e.next=8,(0,l.handleOperation)(a,t,n);e.next=11;break;case 8:r=e.sent,e.next=12;break;case 11:r=d.defaultTrayResponse;case 12:return e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",u.default.resolve(d.defaultTrayResponse));case 18:case"end":return e.stop()}},e,this,[[2,15]])})),function(e){return n.apply(this,arguments)})},{key:"identifyTrays",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";try{var r=e.type.toLowerCase().replace(/_/g," "),a="get"+this.toCamelCase(r);return(0,l.handleOperation)(a,e,t)}catch(e){return u.default.resolve(d.defaultIdentifyTrayResponse)}}},{key:"toCamelCase",value:function(e){return e.toLowerCase().replace(/(?:(^.)|(\s+.))/g,function(e){return e.charAt(e.length-1).toUpperCase()})}},{key:"validateTrayRequest",value:function(e){var t,r=!0;e.hasMoreData=!0;try{e.config||(r=!1,console.warn("Please pass app config data")),e.trayType||(r=!1,console.warn("Please pass app config data")),t=e.trayType||"",d.skipTrayCall.contentTypes.indexOf(t)<0||(r=!1),e.trayType=t||e.trayType,e.fetchTrays=r}catch(e){}return e}}]),f);function f(){(0,i.default)(this,f)}t.commonOperations=new s,t.default=new s},function(e,t,r){e.exports={default:r(232),__esModule:!0}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(28)),o=a(r(3)),u=a(r(1)),s=a(r(2)),i=a(r(4)),c=a(r(5)),l=a(r(0)),r=a(r(36)),d=l.default.constants,f=l.default.config;function p(){var e;(0,u.default)(this,p);var t=(0,i.default)(this,(p.__proto__||(0,o.default)(p)).call(this));return t.authKeys=((0,n.default)(e={},d.PROD_ENV,"a0aa8bcf9dd58ec6e3b57d9b4e5a0080b1450df7436cfa22dd5cffdfea8e1252"),(0,n.default)(e,d.STAG_ENV,"a0aa8bcf9dd58ec6e3b57d9b4e5a0080b1450df7436cfa22dd5cffdfea8e1252"),(0,n.default)(e,d.QA_ENV,"a0aa8bcf9dd58ec6e3b57d9b4e5a0080b1450df7436cfa22dd5cffdfea8e1252"),(0,n.default)(e,d.PP_ENV,"a0aa8bcf9dd58ec6e3b57d9b4e5a0080b1450df7436cfa22dd5cffdfea8e1252"),(0,n.default)(e,d.LOAD_ENV,"a0aa8bcf9dd58ec6e3b57d9b4e5a0080b1450df7436cfa22dd5cffdfea8e1252"),e),t}t.default=(r=r.default,(0,c.default)(p,r),(0,s.default)(p,[{key:"isRegionalPopularityEnabled",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).REGIONAL_POPULARITY_ENABLED||["IN"],e=(e||"").toUpperCase();return 0<=t.indexOf(e)}},{key:"_getRequestHeaders",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=f.initConfig.getConfig()||{},a=r.tenant,n=r.channel,r=e.userToken,r={"x-country-code":(a||"IN").toUpperCase(),"x-platform-code":n,"x-client-code":"LR",hotstarauth:this.getAuthToken(),"X-HS-UserToken":r};return t&&this.isRegionalPopularityEnabled(a,e)&&(r["x-region-code"]=e.region),r}}]),p)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(3)),o=a(r(1)),u=a(r(4)),s=a(r(5)),i=a(r(237)),r=a(r(20));function c(){(0,o.default)(this,c);var e=(0,u.default)(this,(c.__proto__||(0,n.default)(c)).call(this));return e.apiConfigs=i.default,e}t.default=(r=r.default,(0,s.default)(c,r),new c)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(23)),o=a(r(1)),u=a(r(2)),s=a(r(241));function i(){(0,o.default)(this,i)}t.default=((0,u.default)(i,[{key:"hasContentDetails",value:function(e,t){try{var r=(e.data.items||[])[0];return!(!r||!t[r])}catch(e){return!1}}},{key:"getPathFromMacrosHash",value:function(e,t){var r=e;return(0,n.default)(t).forEach(function(e){r=r.replace(RegExp("{"+e+"}","g"),t[e])}),r=r.replace(/{.*?}/g,"null")}},{key:"getFormattedLpvHeader",value:function(e){if(!e)return"";var t=[];return((s.default.getLPVForUser(e)||{}).lpv||[]).forEach(function(e){e=e.code.toLowerCase()+"="+e.score.toFixed(3);t.push(e)}),t.join(",")}},{key:"getLpvAndSubsStatusObj",value:function(e,t){t=t.subsStatusHeader,t={"x-subscription-type":void 0===t?"Free":t},e=this.getFormattedLpvHeader(e);return e&&(t["x-lpv"]=e),t}}]),new i)},function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WL_OPERATIONS={READ:"READ",ADD:"ADD",DELETE:"DELETE"}},function(e,t,r){"use strict";function s(e){var t=Array.isArray(e)?e:[e];return function(e){return t.reduce(function(e,t){return t instanceof Function?t(e):e},e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetCacheableEntries=t.cacheable=t.doNothingAdapter=t.requestAdapter=t.responseAdapter=void 0;var i=(r=r(9))&&r.__esModule?r:{default:r};t.responseAdapter=function(o){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o;return function(e,t,r){var n=r.value;return r.value=function(){var e=arguments,a=this;return new i.default(function(t,r){n.apply(a,Array.prototype.slice.call(e)).then(function(e){e=s(o)(e);(void 0===e.success||e.success?t:r)(e)}).catch(function(e){e=s(u)(e);r(e)})})},r}},t.requestAdapter=function(n){return function(e,t,r){var a=r.value;return r.value=function(){var e=n(Array.prototype.slice.call(arguments)[0]);return a.call(this,e)},r}},t.doNothingAdapter=function(e){return e},t.cacheable=function(){return function(e,t,r){return Array.isArray(e.obj_cacheable_entries)?e.obj_cacheable_entries.push(t):e.obj_cacheable_entries=[t],r}},t.resetCacheableEntries=function(){}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CWState=t.getTrayType=t.TRAY_TYPE_TO_SOURCE_MAP=t.SLATE_ACTION_TYPE=t.ENTITLEMENT_V1_ERROR_TYPE=t.REFRESH_TOKEN_ERROR_TYPE=t.PLAYBACK_COMPOSITE_ERROR_TYPE=void 0;var n=a(r(1)),o=a(r(2)),u=r(16);Object.defineProperty(t,"PLAYBACK_COMPOSITE_ERROR_TYPE",{enumerable:!0,get:function(){return u.PLAYBACK_COMPOSITE_ERROR_TYPE}}),Object.defineProperty(t,"REFRESH_TOKEN_ERROR_TYPE",{enumerable:!0,get:function(){return u.REFRESH_TOKEN_ERROR_TYPE}}),Object.defineProperty(t,"ENTITLEMENT_V1_ERROR_TYPE",{enumerable:!0,get:function(){return u.ENTITLEMENT_V1_ERROR_TYPE}}),Object.defineProperty(t,"SLATE_ACTION_TYPE",{enumerable:!0,get:function(){return u.SLATE_ACTION_TYPE}}),Object.defineProperty(t,"TRAY_TYPE_TO_SOURCE_MAP",{enumerable:!0,get:function(){return u.trayTypeToSourceMap}});var s=r(111);Object.defineProperty(t,"getTrayType",{enumerable:!0,get:function(){return s.getTrayType}});var i=r(112);Object.defineProperty(t,"CWState",{enumerable:!0,get:function(){return i.CWState}}),r(200),r(243),r(244),r(261);var c=r(0),l=a(r(117));function d(){(0,n.default)(this,d)}t.default=((0,o.default)(d,[{key:"getContentDetails",value:function(){return(0,c.handleOperation)("getContentDetails",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getTray",value:function(){return(0,c.handleOperation)("getTray",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"identifyTrays",value:function(e,t){return l.default.identifyTrays(e,t)}},{key:"getTrays",value:function(){return(0,c.handleOperation)("getTrays",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getWatchPageData",value:function(){return(0,c.handleOperation)("getWatchPageData",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getDetailPageData",value:function(){return(0,c.handleOperation)("getDetailPageData",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getSeasonsData",value:function(e,t){return(0,c.handleOperation)("getSeasonsData",e,t)}},{key:"getWatchlist",value:function(e,t){return(0,c.handleOperation)("getWatchlist",e,t)}},{key:"addToWatchlist",value:function(e,t){return(0,c.handleOperation)("addToWatchlist",e,t)}},{key:"removeFromWatchlist",value:function(e,t){return(0,c.handleOperation)("removeFromWatchlist",e,t)}},{key:"getWatchNext",value:function(){return(0,c.handleOperation)("getWatchNext",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"checkConcurrency",value:function(){return(0,c.handleOperation)("checkConcurrency",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"removeConcurrency",value:function(){return(0,c.handleOperation)("removeConcurrency",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"concurrencyHeartbeat",value:function(){return(0,c.handleOperation)("concurrencyHeartbeat",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getAllAssets",value:function(){return(0,c.handleOperation)("getAllAssets",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"searchAsset",value:function(){return(0,c.handleOperation)("searchAsset",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getCompositePlaybackUrl",value:function(){return(0,c.handleOperation)("getCompositePlaybackUrl",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getCompositePlaybackUrlV3",value:function(){return(0,c.handleOperation)("getCompositePlaybackUrlV3",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"verifyAndReturnPlaybackUrl",value:function(){return(0,c.handleOperation)("verifyAndReturnPlaybackUrl",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getUserPlaybackConsent",value:function(){return(0,c.handleOperation)("getUserPlaybackConsent",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"rucSetItem",value:function(){return(0,c.handleOperation)("rucSetItem",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"rucSetModule",value:function(){return(0,c.handleOperation)("rucSetModule",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"rucGetItem",value:function(){return(0,c.handleOperation)("rucGetItem",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"rucRemoveItem",value:function(){return(0,c.handleOperation)("rucRemoveItem",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"updateCWTrayItem",value:function(){return(0,c.handleOperation)("updateCWTrayItem",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"cleanLocalCWData",value:function(){return(0,c.handleOperation)("cleanLocalCWData",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"loadMoreAssets",value:function(){return(0,c.handleOperation)("loadMoreAssets",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getTournamentData",value:function(){return(0,c.handleOperation)("getTournamentData",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"loadMoreSports",value:function(){return(0,c.handleOperation)("loadMoreSports",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"loadMoreTournaments",value:function(){return(0,c.handleOperation)("loadMoreTournaments",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getTrayFromId",value:function(){return(0,c.handleOperation)("getTrayFromId",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getHomePageData",value:function(){return(0,c.handleOperation)("getHomePageData",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getMasthead",value:function(){return(0,c.handleOperation)("getMasthead",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])}},{key:"getMultiContentDetails",value:function(e,t){return(0,c.handleOperation)("getMultiContentDetails",e,t)}},{key:"fetchCWTray",value:function(e,t){return(0,c.handleOperation)("fetchCWTray",e,t)}},{key:"fetchCWMovieProgress",value:function(e,t){return(0,c.handleOperation)("fetchCWMovieProgress",e,t)}},{key:"fetchCWShowProgress",value:function(e,t){return(0,c.handleOperation)("fetchCWShowProgress",e,t)}},{key:"fetchCWTrayWithLocalBackup",value:function(e,t){return(0,c.handleOperation)("fetchCWTrayWithLocalBackup",e,t)}},{key:"removeCWItem",value:function(e,t){return(0,c.handleOperation)("removeCWItem",e,t)}},{key:"getContinueWatchingTray",value:function(e,t){return(0,c.handleOperation)("getContinueWatchingTray",e,t)}},{key:"fetchLpv",value:function(e,t){return(0,c.handleOperation)("fetchLpv",e,t)}},{key:"postLpv",value:function(e,t){return(0,c.handleOperation)("postLpv",e,t)}}]),new d)},function(e,t,r){"use strict";var a,a=(a=r(201))&&a.__esModule?a:{default:a};(0,r(0).registerOperations)("CMS",a.default)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(r,a,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(r,a,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(r,a,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u,s,i,c,l,d,f,p,h,v,y,g,m,_,b,T,I,E,R,C,O,S,P,k,w,A,x,M,D,L,N,U,W,q,j,H,V,G,Y,F,K,B,z,$,J=a(r(15)),Q=a(r(11)),X=a(r(19)),Z=a(r(8)),ee=a(r(9)),te=a(r(7)),re=a(r(10)),ae=a(r(1)),ne=a(r(2)),oe=r(0),ue=a(r(113)),se=a(r(34)),ie=r(85),ce=a(r(230)),le=r(59),de=r(111),fe=r(117),pe=r(16),he=a(r(91)),ve=r(124),ye=new se.default,ge=new ie.HotstarAVSCommonsService,me=new he.default,_e=oe.utils.baseUtils,be=new ue.default;function Te(){(0,ae.default)(this,Te),this.apiRegistry=ce.default}t.default=(o=(0,oe.requestAdapter)(be.getDetailRequest),u=(0,oe.responseAdapter)(be.getMovieDataResponse),s=(0,oe.requestAdapter)(be.getDetailRequest),i=(0,oe.responseAdapter)(be.getEpisodeDataResponse),c=(0,oe.requestAdapter)(be.getDetailRequest),l=(0,oe.responseAdapter)(be.getClipDataResponse),d=(0,oe.requestAdapter)(be.getDetailRequest),f=(0,oe.responseAdapter)(be.getMatchDataResponse),p=(0,oe.responseAdapter)(be.getShowDataResponse),h=(0,oe.responseAdapter)(be.getWatchPageDataResponse,ve.doNothingAdapter),v=(0,oe.responseAdapter)(be.getDetailPageDataResponse,ve.doNothingAdapter),y=(0,oe.responseAdapter)(be.getSeasonsDataResponse),g=(0,oe.requestAdapter)(be.getContentDefaultRequest),m=(0,oe.responseAdapter)(be.getSearchContentResponse),_=(0,oe.responseAdapter)(be.getLoadMoreContentResponse),r=(0,oe.responseAdapter)(be.getTrayResponse),se=(0,oe.responseAdapter)(be.getHomePageDataResponse),ie=(0,oe.responseAdapter)(be.getMastheadResponse),he=(0,oe.responseAdapter)(be.getTournamentDataResponse),ue=(0,oe.responseAdapter)(be.getHomePageDataResponse),t=(0,oe.responseAdapter)(be.getTournamentDataResponse),ve=(0,oe.requestAdapter)(be.getTraysRequest),be=(0,oe.responseAdapter)(be.getTraysResponse),(0,ne.default)(Te,[{key:"getData",value:($=(0,re.default)(Z.default.mark(function e(t,r){var a,n,o;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,n=this.apiRegistry.getPath(t,r),o=ye._getRequestHeaders(t.config),o=(0,te.default)({headers:o},ye.getDefaultCachePolicy()),e.next=7,oe.HttpLib.get(n,o);case 7:(a=e.sent).body.statusCode=a.statusCode,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 14:return e.abrupt("return",a.body);case 15:case"end":return e.stop()}},e,this,[[1,11]])})),function(e,t){return $.apply(this,arguments)})},{key:"getVideoSettings",value:(z=(0,re.default)(Z.default.mark(function e(t,r){var a,n;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.CUE_POINT_URL,a=r.ADV_SERVER_URL,n=(0,le.getCuePointUrl)(t,n),e.next=4,ee.default.all([ge.getCuePoints(n)]);case 4:return n=e.sent,n={cuepointsMidroll:n[0],vpSpotClickThruMode:1,vphost:a,vptags:"CID_"+t},e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return z.apply(this,arguments)})},{key:"getContentDetails",value:(B=(0,re.default)(Z.default.mark(function e(t,r){var a,n,o,u,s,i,c,l,d,f,p;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,X.default)({},t),n=t.config,s=t.pathVars,u=t.addnlParams,i=void 0===u?{}:u,o=s.contentId,u=s.siMatchId,s=s.id,a.querystring=a.querystring||{},u?a.querystring.siMatchId=u:s?a.querystring.id=s:a.querystring.contentId=o,i=i,e.next=9,this.getData(a,r);case 9:if(c=e.sent,f=c.results,o=(p=void 0===f?{}:f).item&&p.item.contentId,t.pathVars.contentId=o,l={},d=p.item&&p.item.live,f=p.item&&p.item.contentStartPointSeconds,p=p.item&&p.item.clipType,t.watchPage&&!t.isLive)return e.next=20,this.getVideoSettings(o,n);e.next=21;break;case 20:l=e.sent;case 21:return e.abrupt("return",{pageType:t.pageType,config:n,contentDetails:c,reqParams:i,videoPlazaSettings:l,isLiveMatch:d,originalReq:t,contentStartPointSeconds:f,clipType:p});case 24:return e.prev=24,e.t0=e.catch(0),e.abrupt("return",ee.default.reject(e.t0));case 27:case"end":return e.stop()}},e,this,[[0,24]])})),function(e,t){return B.apply(this,arguments)})},{key:"getMovieData",value:(K=(0,re.default)(Z.default.mark(function e(t){var r;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getContentDetails(t,"getMovieDetails");case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return K.apply(this,arguments)})},{key:"getEpisodeData",value:(F=(0,re.default)(Z.default.mark(function e(t){var r;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getContentDetails(t,"getEpisodeDetails");case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return F.apply(this,arguments)})},{key:"getClipData",value:(Y=(0,re.default)(Z.default.mark(function e(t){var r;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getContentDetails(t,"getNewsClipDetails");case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return Y.apply(this,arguments)})},{key:"getMatchData",value:(G=(0,re.default)(Z.default.mark(function e(t){var r;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getContentDetails(t,"getSportClipDetails");case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 11:case"end":return e.stop()}},e,this,[[1,8]])})),function(e){return G.apply(this,arguments)})},{key:"getShowData",value:(V=(0,re.default)(Z.default.mark(function e(t){var r;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getContentDetails(t,"getShowDetails");case 4:r=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return V.apply(this,arguments)})},{key:"getWatchPageData",value:(H=(0,re.default)(Z.default.mark(function e(t){var r,a,n;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},a={},t.watchPage=!0,n=t.type,n=(0,le.getContentType)(n),e.prev=5,e.t0=n,e.next="MOVIE"===e.t0?9:"EPISODE"===e.t0?13:"NEWS"===e.t0?17:"SPORT"===e.t0?21:25;break;case 9:return e.next=11,this.getMovieData(t);case 11:return a=e.sent,e.abrupt("break",29);case 13:return e.next=15,this.getEpisodeData(t);case 15:return a=e.sent,e.abrupt("break",29);case 17:return e.next=19,this.getClipData(t);case 19:return a=e.sent,e.abrupt("break",29);case 21:return e.next=23,this.getMatchData(t);case 23:return a=e.sent,e.abrupt("break",29);case 25:return e.next=27,this.getClipData(t);case 27:return a=e.sent,e.abrupt("break",29);case 29:if(a.success){e.next=31;break}return e.abrupt("return",ee.default.reject(a));case 31:return r.trays=[],r.contentDetails=a,e.abrupt("return",r);case 36:return e.prev=36,e.t1=e.catch(5),e.abrupt("return",ee.default.reject(e.t1));case 39:case"end":return e.stop()}},e,this,[[5,36]])})),function(e){return H.apply(this,arguments)})},{key:"getDetailPageData",value:(j=(0,re.default)(Z.default.mark(function e(t){var r,a,n;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},a={},n=t.type,n=(0,le.getContentType)(n),e.prev=4,e.t0=n,e.next="MOVIE"===e.t0?8:"SERIES"===e.t0?12:16;break;case 8:return e.next=10,this.getMovieData(t);case 10:return a=e.sent,e.abrupt("break",20);case 12:return e.next=14,this.getShowData(t);case 14:return a=e.sent,e.abrupt("break",20);case 16:return e.next=18,this.getClipData(t);case 18:return a=e.sent,e.abrupt("break",20);case 20:if(a.success){e.next=22;break}return e.abrupt("return",ee.default.reject(a));case 22:return r.trays=[],r.contentDetails=a,e.abrupt("return",r);case 27:return e.prev=27,e.t1=e.catch(4),e.abrupt("return",ee.default.reject(e.t1));case 30:case"end":return e.stop()}},e,this,[[4,27]])})),function(e){return j.apply(this,arguments)})},{key:"getSeasonsData",value:(q=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,a=(0,X.default)({},t),n=t.id,o=t.config,a.querystring=a.querystring||{},a.querystring.id=n,e.next=8,this.getData(a,"getSeasonsData");case 8:(r=e.sent).config=o,e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,this,[[1,12]])})),function(e){return q.apply(this,arguments)})},{key:"getAllAssets",value:(W=(0,re.default)(Z.default.mark(function e(t){var r;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.getAllAssets(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"searchAsset",value:(U=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},o=ye._getRequestHeaders(t.config),a={headers:o},e.prev=3,t.querystring=t.querystring||{},t.querystring.title=encodeURIComponent(t.querystring.title),o=this.apiRegistry.getPath(t,"searchAsset"),e.next=9,oe.HttpLib.get(o,a);case 9:if(u=e.sent,n=_e.safelyReturnNestedValue(["body","results","items",0],u)){e.next=15;break}throw Error("unable to fetch details");case 15:return o=_e.updateUrlParameter(n.uri,"perPage",t.pathVars.perPage),t.querystring.ct&&(u={ct:t.querystring.ct},o+=_e.createQueryParam({endpoint:o,data:u})),e.next=19,oe.HttpLib.get(o,a);case 19:return(r=e.sent).entityDetails=n,e.abrupt("return",r);case 22:e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(3),e.abrupt("return",ee.default.reject(e.t0));case 27:case"end":return e.stop()}},e,this,[[3,24]])})),function(e){return U.apply(this,arguments)})},{key:"loadMoreAssets",value:(N=(0,re.default)(Z.default.mark(function e(t){var r,a,n;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a=_e.safelyReturnNestedValue(["body","results","assets","nextOffsetURL"],t.data,"")||_e.safelyReturnNestedValue(["body","results","nextOffsetURL"],t.data,""))return e.prev=3,n=ye._getRequestHeaders(t.config),n={headers:n},e.next=8,oe.HttpLib.get(a,n);e.next=15;break;case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",ee.default.reject(e.t0));case 15:case"end":return e.stop()}},e,this,[[3,12]])})),function(e){return N.apply(this,arguments)})},{key:"fetchFromNextOffsetURL",value:(L=(0,re.default)(Z.default.mark(function e(t){var r,a,n=t.config,o=t.nextOffsetURL;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},o)return e.prev=2,a=ye._getRequestHeaders(n),a={headers:a,skipcache:!0},e.next=7,oe.HttpLib.get(o,a);e.next=14;break;case 7:r=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",ee.default.reject(e.t0));case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this,[[2,10]])})),function(e){return L.apply(this,arguments)})},{key:"fetchTray",value:(D=(0,re.default)(Z.default.mark(function e(t){var r,a;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config||t.originalReq.config,a=t.nextOffsetURL||t.assets.nextOffsetURL,e.next=4,this.fetchFromNextOffsetURL({config:r,nextOffsetURL:a});case 4:return a=e.sent,e.abrupt("return",a.body.results);case 6:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)})},{key:"getTrayFromId",value:(M=(0,re.default)(Z.default.mark(function e(t){var r,a;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.getData(t,"getTrayFromId");case 4:return a=e.sent,(a=a.results||{}).config=t.config,a.contentId=t.contentId,a.userId=t.userId,e.next=11,this.getTray(a);case 11:(r=e.sent).title=a.title,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",ee.default.reject(e.t0));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this,[[1,15]])})),function(e){return M.apply(this,arguments)})},{key:"fetchCapeTray",value:(x=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u,s,i,c;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,a=t.userId,c=t.addIdentifier,n=void 0===c?"":c,o=t.config,i=t.offset,u=void 0===i?0:i,s=t.token,c=t.size,i=void 0===c?pe.PAGINATION_SIZE:c,c=t.userToken,o.skipCache=!!s,c={userId:a,trayType:n,config:o,offset:u,size:i,token:s,userToken:c},e.next=7,fe.commonOperations.getTray(c);case 7:r=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.warn("fetchCapeTray failed",e.t0),r=(0,te.default)({},pe.defaultTrayResponse);case 14:return r.title=r.title||t.title,e.abrupt("return",r);case 16:case"end":return e.stop()}},e,this,[[1,10]])})),function(e){return x.apply(this,arguments)})},{key:"fetchPxTray",value:(A=(0,re.default)(Z.default.mark(function e(t){var r,a;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.trayTypeId,a={},e.prev=2,e.t0=r,e.next=e.t0===pe.trayTypeIdMap.LEADERBOARD?6:10;break;case 6:return e.next=8,this.fetchLeaderboardTray(t);case 8:return a=e.sent,e.abrupt("break",11);case 10:a=(0,te.default)({},pe.defaultTrayResponse);case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(2),console.error("fetchPxTray failed",e.t1),a=(0,te.default)({},pe.defaultTrayResponse);case 17:return a.title=a.title||t.title,e.abrupt("return",a);case 19:case"end":return e.stop()}},e,this,[[2,13]])})),function(e){return A.apply(this,arguments)})},{key:"fetchLeaderboardTray",value:(w=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u,s,i,c,l;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,l=t.config,a=void 0===l?{}:l,n=t.assetFetchUri,i=t.assets,o=void 0===i?{}:i,u=t.userId,s=a.defaultLpv,l=o.items,i=void 0===l?[]:l,e.next=7,me.getLpvHeader(t);case 7:if(e.t0=e.sent){e.next=10;break}e.t0=s;case 10:if((c=e.t0)&&u){e.next=13;break}throw Error("failed to get LPV");case 13:if(a.lpvHeader=c,o.nextOffsetURL)return e.next=17,this.fetchTray(t);e.next=19;break;case 17:return r=e.sent,e.abrupt("return",{assets:r});case 19:if(n&&!i.length)return l=ye._getRequestHeaders(a),l={headers:l},e.next=24,oe.HttpLib.get(n,l);e.next=26;break;case 24:return r=e.sent,e.abrupt("return",{assets:r.body.results});case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(1),console.warn("fetchLeaderboardTray",e.t1);case 31:return r=(0,te.default)({},pe.defaultTrayResponse),e.abrupt("return",r);case 33:case"end":return e.stop()}},e,this,[[1,28]])})),function(e){return w.apply(this,arguments)})},{key:"fetchPersonaTray",value:(k=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u,s;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.prev=1,a=pe.trayTypeIdMap.PERSONA_WITHOUT_META,n=pe.trayTypeIdMap.PERSONA_WITH_META,o=pe.trayTypeIdMap.WATCHLIST,u=pe.trayTypeIdMap.PERSONA_MASTHEAD,s=t.trayTypeId,e.t0=s,e.next=e.t0===o?7:e.t0===a||e.t0===n||e.t0===u?11:14;break;case 7:return e.next=9,me.getWatchlist(t);case 9:return r=e.sent,e.abrupt("return",r);case 11:return e.next=13,me.fetchPersonaTray(t);case 13:r=e.sent;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),r=(0,te.default)({},pe.defaultTrayResponse);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e,this,[[1,16]])})),function(e){return k.apply(this,arguments)})},{key:"getTray",value:(P=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,de.getTrayType)(t),t.source=pe.trayTypeToSourceMap[r]||r,a={},n=t.assets||{},e.t0=r,e.next="catalog"===e.t0?7:"px"===e.t0?18:"cape"===e.t0?23:"persona"===e.t0?30:37;break;case 7:if(n.items||n.nextOffsetURL||(n.items=[]),u=n.items||[],o=n,u.length&&!t.fetchMoreData||!n.nextOffsetURL){e.next=15;break}return e.next=13,this.fetchTray(t);case 13:u=e.sent,o=void 0!==u.assets?u.assets:u;case 15:return t.allCardsFetched=t.fetchMoreData&&!n.nextOffsetURL,t.assets=t.allCardsFetched?{items:[]}:o,e.abrupt("break",37);case 18:return e.next=20,this.fetchPxTray(t);case 20:return a=e.sent,t=(0,te.default)({},t,a),e.abrupt("break",37);case 23:return t.traySource="cape",e.next=26,this.fetchCapeTray(t);case 26:return a=e.sent,(t=(0,te.default)({},t,a)).cardLogic=a.cardLogic||t.addIdentifier,e.abrupt("break",37);case 30:return t.traySource="persona",e.next=33,this.fetchPersonaTray(t);case 33:return a=e.sent,(t=(0,te.default)({},t,a)).cardLogic=t.addIdentifier,e.abrupt("break",37);case 37:return e.abrupt("return",t);case 38:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"fetchMoreTrays",value:(S=(0,re.default)(Z.default.mark(function e(t){var r,a;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a=t.trays,e.prev=2,a={config:t.config,nextOffsetURL:a.nextOffsetURL},e.next=6,this.fetchTray(a);case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return S.apply(this,arguments)})},{key:"getHomePageData",value:(O=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u,s,i,c,l,d,f,p,h,v;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},u=t.menuApi,a=void 0===u?"":u,n=t.region,i=t.config,o=void 0===i?{}:i,s=t.headers,u=void 0===s?{}:s,i=o.variantList,s=void 0===i?[]:i,e.prev=3,a){e.next=6;break}throw Error("menuApi is not passed !!");case 6:return u=(0,te.default)({},ye._getRequestHeaders({region:n,variantList:s}),u),i={headers:u},e.next=10,oe.HttpLib.get(a,i);case 10:(r=e.sent).config=o,r.body.statusCode=r.statusCode,d=r.body,p=(void 0===d?{}:d).results,l=(c=void 0===p?{}:p).trays,d=(h=void 0===l?{}:l).items,p=void 0===d?[]:d,h.items=p.filter(function(e){return!(0,de.isNonRenderableTray)(e)}),l=h.items.length,d=!!h.nextOffsetURL;case 20:if(l>=pe.contentPagination.betrayPageSize||!d){e.next=35;break}return v=c.trays,f=void 0===v?{}:v,e.next=24,this.fetchMoreTrays((0,te.default)({},c,{config:o}));case 24:p=e.sent,h=p.items,v=void 0===h?[]:h,p.items=v.filter(function(e){return!(0,de.isNonRenderableTray)(e)}),h=[].concat((0,Q.default)(f.items),(0,Q.default)(p.items)),v=(0,te.default)({},f,p),l=h.length,v.items=h,c.trays=v,d=!!p.nextOffsetURL,e.next=20;break;case 35:e.next=41;break;case 37:return e.prev=37,e.t0=e.catch(3),console.log("Error while fetching home page data. menuApi:: "+a,e.t0),e.abrupt("return",ee.default.reject(r));case 41:return e.abrupt("return",r);case 42:case"end":return e.stop()}},e,this,[[3,37]])})),function(e){return O.apply(this,arguments)})},{key:"getMasthead",value:(C=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u,s;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],u=t.mastheadConfig,a=void 0===u?{}:u,s=t.config,n=void 0===s?{}:s,o=t.userToken,u=t.userId,s=t.pageName,e.prev=2,e.next=5,this.getTray((0,te.default)({},a,{config:n,userToken:o,userId:u,pageName:s}));case 5:r=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log("ERROR::","Failed to fetch mastheads",e.t0),e.abrupt("return",ee.default.reject(r));case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this,[[2,8]])})),function(e){return C.apply(this,arguments)})},{key:"getTournamentData",value:(R=(0,re.default)(Z.default.mark(function e(t){var r,a;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,(a=(0,X.default)({},t)).pathVars={seriesId:t.seriesId},e.next=6,this.getData(a,"getTournamentData");case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ee.default.resolve(e.t0);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(e){return R.apply(this,arguments)})},{key:"loadMoreSports",value:(E=(0,re.default)(Z.default.mark(function e(t){var r,a;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config,a=t.nextOffsetURL,e.next=3,this.fetchFromNextOffsetURL({config:r,nextOffsetURL:a});case 3:return(a=e.sent).config=r,e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"loadMoreTournaments",value:(I=(0,re.default)(Z.default.mark(function e(t){var r,a,n;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,n=t.config,a=t.nextOffsetURL,n=ye._getRequestHeaders(n),n={headers:n},e.next=7,oe.HttpLib.get(a,n);case 7:n=e.sent,r=n.body,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0,"error in loadMoreTournaments"),ee.default.reject(e.t0);case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,this,[[1,11]])})),function(e){return I.apply(this,arguments)})},{key:"getTrays",value:(T=(0,re.default)(Z.default.mark(function e(t){var r,a,n,o,u,s,i,c,l,d,f,p,h,v,y=this;return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!(a=[]),e.prev=3,o=t.trays,u=t.userId,s=t.contentId,p=t.config,i=void 0===p?{}:p,c=t.pageName,l=t.userToken,d=o.size,h=o.items,v=void 0===h?[]:h,o.items=v.filter(function(e){return!(0,de.isNonRenderableTray)(e)}),f=o.items,o.page=o.page||0,p=o.page*pe.contentPagination.betrayPageSize,h=p+pe.contentPagination.betrayPageSize,v=f.length>h,n=!o.nextOffsetURL&&!v;case 14:if(h<=f.length){e.next=26;break}if(n)return e.abrupt("break",26);e.next=17;break;case 17:return e.next=19,this.fetchMoreTrays(t);case 19:(v=e.sent).items=(v.items||[]).filter(function(e){return!(0,de.isNonRenderableTray)(e)}),(v.items||[]).length&&(o.items=o.items.concat(v.items),f=o.items),o.nextOffsetURL=v.nextOffsetURL,n=!o.nextOffsetURL&&h>f.length,e.next=14;break;case 26:if((f=f.slice(p,h)).forEach(function(e){var t=_e.getNewObjectCopy(e),e={userId:u,config:i,contentId:s,size:d,pageName:c,userToken:l},e=(0,X.default)(t,e);a.push(y.getTray(e))}),a.length)return e.next=31,ee.default.all(a).then(function(e){var t=[];return e.forEach(function(e){t=t.concat(e)}),t});e.next=32;break;case 31:r=e.sent;case 32:return e.abrupt("return",{traysResp:r,traysReq:t,allTraysFetched:n});case 35:return e.prev=35,e.t0=e.catch(3),console.log("Error while fetching trays::",e.t0),e.abrupt("return",ee.default.reject(e.t0));case 39:case"end":return e.stop()}},e,this,[[3,35]])})),function(e){return T.apply(this,arguments)})},{key:"getMultiContentDetails",value:(b=(0,re.default)(Z.default.mark(function e(t){return Z.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ye.getMultiGetContent(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})}]),n((re=Te).prototype,"getMovieData",[o,u],(0,J.default)(re.prototype,"getMovieData"),re.prototype),n(re.prototype,"getEpisodeData",[s,i],(0,J.default)(re.prototype,"getEpisodeData"),re.prototype),n(re.prototype,"getClipData",[c,l],(0,J.default)(re.prototype,"getClipData"),re.prototype),n(re.prototype,"getMatchData",[d,f],(0,J.default)(re.prototype,"getMatchData"),re.prototype),n(re.prototype,"getShowData",[p],(0,J.default)(re.prototype,"getShowData"),re.prototype),n(re.prototype,"getWatchPageData",[h],(0,J.default)(re.prototype,"getWatchPageData"),re.prototype),n(re.prototype,"getDetailPageData",[v],(0,J.default)(re.prototype,"getDetailPageData"),re.prototype),n(re.prototype,"getSeasonsData",[y],(0,J.default)(re.prototype,"getSeasonsData"),re.prototype),n(re.prototype,"searchAsset",[g,m],(0,J.default)(re.prototype,"searchAsset"),re.prototype),n(re.prototype,"loadMoreAssets",[_],(0,J.default)(re.prototype,"loadMoreAssets"),re.prototype),n(re.prototype,"getTray",[r],(0,J.default)(re.prototype,"getTray"),re.prototype),n(re.prototype,"getHomePageData",[se],(0,J.default)(re.prototype,"getHomePageData"),re.prototype),n(re.prototype,"getMasthead",[ie],(0,J.default)(re.prototype,"getMasthead"),re.prototype),n(re.prototype,"getTournamentData",[he],(0,J.default)(re.prototype,"getTournamentData"),re.prototype),n(re.prototype,"loadMoreSports",[ue],(0,J.default)(re.prototype,"loadMoreSports"),re.prototype),n(re.prototype,"loadMoreTournaments",[t],(0,J.default)(re.prototype,"loadMoreTournaments"),re.prototype),n(re.prototype,"getTrays",[ve,be],(0,J.default)(re.prototype,"getTrays"),re.prototype),re)},function(e,t,r){r(60),r(25),r(33),r(203),r(209),r(212),r(214),e.exports=r(6).Set},function(e,t,r){"use strict";var a=r(204),n=r(115);e.exports=r(205)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return a.def(n(this,"Set"),e=0===e?0:e,e)}},a)},function(e,t,r){"use strict";function u(e,t){var r,a=h(t);if("F"!==a)return e._i[a];for(r=e._f;r;r=r.n)if(r.k==t)return r}var s=r(21).f,i=r(52),c=r(72),l=r(24),d=r(70),f=r(44),a=r(63),n=r(97),o=r(104),p=r(18),h=r(49).fastKey,v=r(115),y=p?"_s":"size";e.exports={getConstructor:function(e,n,r,a){var o=e(function(e,t){d(e,o,n,"_i"),e._t=n,e._i=i(null),e._f=void 0,e._l=void 0,e[y]=0,null!=t&&f(t,r,e[a],e)});return c(o.prototype,{clear:function(){for(var e=v(this,n),t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var t,r=v(this,n),a=u(r,e);return a&&(t=a.n,e=a.p,delete r._i[a.i],a.r=!0,e&&(e.n=t),t&&(t.p=e),r._f==a&&(r._f=t),r._l==a&&(r._l=e),r[y]--),!!a},forEach:function(e){v(this,n);for(var t,r=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!u(v(this,n),e)}}),p&&s(o.prototype,"size",{get:function(){return v(this,n)[y]}}),o},def:function(e,t,r){var a,n=u(e,t);return n?n.v=r:(e._l=n={i:a=h(t,!0),k:t,v:r,p:r=e._l,n:void 0,r:!1},e._f||(e._f=n),r&&(r.n=n),e[y]++,"F"!==a&&(e._i[a]=n)),e},getEntry:u,setStrong:function(e,r,t){a(e,r,function(e,t){this._t=v(e,r),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?n(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,n(1))},t?"entries":"values",!t,!0),o(r)}}},function(e,t,r){"use strict";var d=r(14),f=r(12),p=r(49),h=r(29),v=r(26),y=r(72),g=r(44),m=r(70),_=r(17),b=r(42),T=r(21).f,I=r(206)(0),E=r(18);e.exports=function(r,e,t,a,n,o){var u=d[r],s=u,i=n?"set":"add",c=s&&s.prototype,l={};return E&&"function"==typeof s&&(o||c.forEach&&!h(function(){(new s).entries().next()}))?(s=e(function(e,t){m(e,s,r,"_c"),e._c=new u,null!=t&&g(t,n,e[i],e)}),I("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(r){var a="add"==r||"set"==r;r in c&&(!o||"clear"!=r)&&v(s.prototype,r,function(e,t){if(m(this,s,r),!a&&o&&!_(e))return"get"==r&&void 0;t=this._c[r](0===e?0:e,t);return a?this:t})}),o||T(s.prototype,"size",{get:function(){return this._c.size}})):(s=a.getConstructor(e,r,n,i),y(s.prototype,t),p.NEED=!0),b(s,r),l[r]=s,f(f.G+f.W+f.F,l),o||a.setStrong(s,r,n),s}},function(e,t,r){var _=r(24),b=r(66),T=r(32),I=r(53),a=r(207);e.exports=function(d,e){var f=1==d,p=2==d,h=3==d,v=4==d,y=6==d,g=5==d||y,m=e||a;return function(e,t,r){for(var a,n,o=T(e),u=b(o),s=_(t,r,3),i=I(u.length),c=0,l=f?m(e,i):p?m(e,0):void 0;c<i;c++)if((g||c in u)&&(n=s(a=u[c],c,o),d))if(f)l[c]=n;else if(n)switch(d){case 3:return!0;case 5:return a;case 6:return c;case 2:l.push(a)}else if(v)return!1;return y?-1:h||v?v:l}}},function(e,t,r){var a=r(208);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,r){var a=r(17),n=r(107),o=r(13)("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var a=r(12);a(a.P+a.R,"Set",{toJSON:r(210)("Set")})},function(e,t,r){var a=r(43),n=r(211);e.exports=function(e){return function(){if(a(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},function(e,t,r){var a=r(44);e.exports=function(e,t){var r=[];return a(e,!1,r.push,r,t),r}},function(e,t,r){r(213)("Set")},function(e,t,r){"use strict";var a=r(12);e.exports=function(e){a(a.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){r(215)("Set")},function(e,t,r){"use strict";var a=r(12),u=r(39),s=r(24),i=r(44);e.exports=function(e){a(a.S,e,{from:function(e){var t,r,a,n,o=arguments[1];return u(this),(t=void 0!==o)&&u(o),null==e?new this:(r=[],t?(a=0,n=s(o,arguments[2],2),i(e,!1,function(e){r.push(n(e,a++))})):i(e,!1,r.push,r),new this(r))}})}},,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={adGroupId:"",actors:[],adult:!1,anchors:[],image:{},broadcastDate:"",castEnabled:!0,channelId:0,channelName:"",chapter:0,contentId:"",description:"",directors:[],disney:!1,downladable:!1,drmProtected:!1,duration:0,episodeNo:0,fox:!1,freemium:!1,genre:"",highlight:!1,lang:"en",live:!1,matchId:0,premium:!1,publishDate:"",recommended:!0,replay:!1,seasonId:0,seasonName:"",seasonNo:0,showId:0,siMatchId:0,showName:"",supportSimulcast:!0,tags:[],title:""},a=r(0).utils.baseUtils.getNewObjectCopy(a);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseWatchPageModel=void 0;r=r(0).utils.baseUtils;t.baseWatchPageModel=r=r.getNewObjectCopy(r={apiUri:"",canPlay:!0,contentDetail:{},description:"",errorCodeForPlayback:0,id:0,needLayout:!0,pageType:"",playbackURL:"",seoData:{desc:"",h1:"",metatags:[""],title:""},trays:{items:[],nextOffsetURL:"",page:0,pageSize:0,totalPages:0,totalResults:0}}),t.baseWatchPageModel=r},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(11)),o=a(r(3)),u=a(r(1)),s=a(r(4)),i=a(r(5)),c=a(r(37)),l=a(r(231));function d(){(0,u.default)(this,d);var e=(0,s.default)(this,(d.__proto__||(0,o.default)(d)).call(this));return e.apiConfigs=[].concat((0,n.default)(l.default),(0,n.default)(e.cmsConfigs||[])),e._defaultOptions={appVersion:"5.0.40"},e}t.default=(c=c.default,(0,i.default)(d,c),new d(l.default))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,a=(a=r(0))&&a.__esModule?a:{default:a},r=r(37),a=[{endPoint:a.default.constants.CMS_GET_ASSETS,apis:{getAllAssets:{route:"/{assetType}/list?{apiQueryString}"},searchAsset:{route:"/{assetType}/search?{apiQueryString}"},getEpisodeDetails:{route:"/episode/detail?{apiQueryString}"},getShowDetails:{route:"/show/detail?{apiQueryString}"},getMovieDetails:{route:"/movie/detail?{apiQueryString}"},getNewsClipDetails:{route:"/content/detail?{apiQueryString}"},getTrayFromId:{route:"/tray/find?{apiQueryString}"},getSeasonsData:{route:"/season/detail?{apiQueryString}"},getTournamentData:{route:"/page/{seriesId}?{apiQueryString}"},getSportClipDetails:{route:"/match/detail?{apiQueryString}"}}}];a.concat(r.commonApiList),t.default=a},function(e,t,r){var r=r(6),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,r){e.exports={default:r(234),__esModule:!0}},function(e,t,r){r(235),e.exports=r(6).Object.values},function(e,t,r){var a=r(12),n=r(236)(!1);a(a.S,"Object",{values:function(e){return n(e)}})},function(e,t,r){var i=r(18),c=r(35),l=r(27),d=r(45).f;e.exports=function(s){return function(e){for(var t,r=l(e),a=c(r),n=a.length,o=0,u=[];o<n;)t=a[o++],i&&!d.call(r,t)||u.push(s?[t,r[t]]:r[t]);return u}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(0);t.default=[{endPoint:(r&&r.__esModule?r:{default:r}).default.constants.PERSONA_PLATFORM,apis:{continueWatchingTray:{route:"/v1/users/{userId}/preferences/continue-watching?{apiQueryString}"},lpv:{route:"/v1/users/{userId}/preferences?{apiQueryString}"},postLpv:{route:"/users/{userId}/preferences?{apiQueryString}"},getPersonaTray:{route:"/{relativePath}"},getWatchNext:{route:"/v1/users/{userId}/trays/watch-next?{apiQueryString}"},watchlist:{route:"/v1/users/{userId}/trays/watchlist?{apiQueryString}"},watchlistItem:{route:"/v1/users/{userId}/trays/watchlist/{contentId}?{apiQueryString}"}}}]},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(48)),u=a(r(23)),f=a(r(7)),i=a(r(19)),o=a(r(1)),s=a(r(2)),c=r(0),p=r(16),l=a(r(51)),d=r(58),h=new l.default,v=c.utils.baseUtils;function y(){var s=this;(0,o.default)(this,y),this.removeCWItemRequest=function(e){if(s.isValidRequest(e)){var t=e.contentIds,t=void 0===t?[]:t;if(t.length)return e.contentIds=t.map(function(e){return e+""}),e}},this.fetchCWTrayResponse=function(e){var t=e.request,r=void 0===t?{}:t,t=e.response,e=void 0===t?{}:t,t=r.contentIds,r=r.showContentId;if(!e.status||!e.data||!e.data.items)return console.error("Failed to parse Continue watching tray from persona: ",e),{data:{items:{},reqContentIds:t,reqShowContentId:r},status:!0};var a={},n=[];return e.data.items.forEach(function(e){e.timestamp*=1e3,e.showContentId=e.show_content_id,delete e.show_id,delete e.show_content_id,a[e.item_id]=e,n.push(e.item_id)}),(0,i.default)(e.data,{items:a,updatedAt:1e3*e.data.updated_at||s._getDefaultCWExpiryTime(),orderedContentIds:n,reqContentIds:t,reqShowContentId:r}),e},this.getLpvHeaderResponse=function(e){e=e.languages;return(void 0===e?[]:e).sort(s._sortBasedOnCode).map(s._getLangCode).join("~")},this._sortBasedOnCode=function(e,t){e=e.code,t=t.code;return e===t?0:e<t?-1:1},this._getLangCode=function(e){return e.code+"="+e.level},this._getFilledItems=function(e,t){return e.filter(function(e){return!!t[e]}).map(function(e){return h.addMetaProperties(t[e])})},this.getWatchNextResponse=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};try{var r=e.multiContentMap,a=e.outputNameValues,n=void 0===a?[]:a,o=e.data,u=void 0===o?{}:o,s=u.items,i=void 0===s?[]:s,c=u.tray_source,l=i[0],d=l&&r[l]||{},t=(0,f.default)({},d,{contentTitle:d.title,language:d.lang,outputNameValues:n,source:p.apiSource.PERSONA,cardLogic:"watch_next_"+c})}catch(r){console.error("Error in processing the response of getWatchNext : ",e,r),t={status:!1,error:r}}return t},this.fetchPersonaTrayResponse=function(e){var t=e.request,r=e.resp,a=v.getNewObjectCopy(p.defaultTrayResponse);if(!(0,u.default)(r).length)return a;var n=r.data,o=void 0===n?{}:n,e=o.items,n=o.itemids,e=s._getFilledItems(void 0===n?[]:n,void 0===e?{}:e);return(0,i.default)(a.assets,{items:e,nextOffsetURL:o.next_page_url}),a.title=r.title||t.title,a},this.getWatchlistResponse=function(e){var t=e.request,r=void 0===t?{}:t,a=e.response,n=void 0===a?{}:a,o=v.getNewObjectCopy(p.defaultTrayResponse),u=r.title,t=void 0===u?"Watchlist":u,e=r.userId,a=n.data,u=void 0===a?{}:a,r=n.status,a=void 0===r||r,n=u.itemids,r=void 0===n?[]:n,n=u.items,u=u.next_page_url,n=s._getFilledItems(r,void 0===n?{}:n);return(0,i.default)(o.assets,{items:n,itemids:r,page:1,pageSize:n.length,totalPages:1,totalResults:n.length}),(0,i.default)(o,{title:t,userId:e,cardLogic:"WATCHLIST_TRAY",status:a,haveNextPage:!!u}),o}}t.default=((0,s.default)(y,[{key:"isValidRequest",value:function(e){return"object"===(void 0===e?"undefined":(0,n.default)(e))&&null!=e&&!!e.userId}},{key:"updateLocalCWDataRequest",value:function(e){if(e){var t=e.userId,e=e.cwTray;if(t&&Array.isArray(e)){var r={};return e.forEach(function(e){var t=e.item_id;r[t]={w:e.watched,t:e.timestamp};t=r[t];e.tag&&(t.tag=e.tag),e.showContentId&&(t.scId=e.showContentId),e.removed&&(t.r=1)}),{userId:t,cwTray:r}}}}},{key:"updateCWTrayItemRequest",value:function(e){if("object"===(void 0===e?"undefined":(0,n.default)(e))&&null!==e){var t=e.contentId,r=e.percentage,a=e.userId;if(t&&void 0!==r&&a)return e}}},{key:"_getDefaultCWExpiryTime",value:function(){return new Date(Date.now()-2592e6).getTime()}},{key:"fetchLocalCWTrayResponse",value:function(r){if("object"!==(void 0===r?"undefined":(0,n.default)(r))||null===r)return{};var a={};return(0,u.default)(r).forEach(function(e){var t=r[e];t.r||(a[e]={item_id:e,watched:t.w,timestamp:t.t,tag:t.tag,showContentId:t.scId})}),a}},{key:"getContentDetailsResponse",value:function(e){return e&&e.results&&e.results.map?e.results.map:{}}},{key:"getContinueWatchingTrayResponse",value:function(e){var t=e.data,r=e.token,a=e.offset,e=t;return t?{assets:{items:e=a?t.slice(a):e,nextOffsetURL:"",page:1,pageSize:t.length,totalPages:1,totalResults:e.length,token:r}}:d.baseTrayModel}}]),y)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageInterface=t.NetworkInterface=void 0;var n=a(r(240)),r=a(r(242));t.default={NetworkInterface:n.default,LocalStorageInterface:r.default},t.NetworkInterface=n.default,t.LocalStorageInterface=r.default},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,s,i,c,f=a(r(23)),p=a(r(7)),h=a(r(8)),l=a(r(10)),d=a(r(1)),v=a(r(2)),y=r(0),g=a(y),m=a(r(119)),_=a(r(120)),b=a(r(121)),T=r(123),I=r(16),E=new m.default,R=g.default.config,C=y.utils.baseUtils;function O(){(0,d.default)(this,O),this.apiRegistry=_.default}t.default=((0,v.default)(O,[{key:"fetchLpv",value:(c=(0,l.default)(h.default.mark(function e(t){var r,a,n,o;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.userId,a=t.config,r=void 0===a?{}:a,n=t.userToken,a={},o={pathVars:{userId:o}},e.prev=3,n=E.getAuthToken({userToken:n}),n={headers:{hotstarauth:n},expireAt:-1},r.PERSONA_API_TIMEOUT&&(n.apiTimeOut=r.PERSONA_API_TIMEOUT),o=this.apiRegistry.getPath(o,"lpv"),e.next=10,y.HttpLib.get(o,n);case 10:a=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.warn("Error while fetching LPV",e.t0);case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this,[[3,13]])})),function(e){return c.apply(this,arguments)})},{key:"fetchCwTray",value:(i=(0,l.default)(h.default.mark(function e(t){var r,a,n,o,u,s,i,c,l,d;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.userId,i=t.contentIds,r=void 0===i?[]:i,d=t.config,a=void 0===d?{}:d,n=t.showContentId,c=t.size,o=void 0===c?I.PAGINATION_SIZE:c,u=t.token,s=t.userToken,i={},d={pathVars:{userId:l}},c={},e.prev=5,l=(0,p.default)({},E._getRequestHeaders((0,p.default)({},a,{userToken:s})),b.default.getLpvAndSubsStatusObj(l,a)),l={headers:l,skipCache:!0},a.PERSONA_API_TIMEOUT&&(l.apiTimeOut=a.PERSONA_API_TIMEOUT),0<r.length&&(c.item_id=r.join(",")),n&&(c.show_content_id=n),o&&(c.size=o),u&&(c.token=u),0<(0,f.default)(c).length&&(d.querystring=c),d=this.apiRegistry.getPath(d,"continueWatchingTray"),e.next=17,y.HttpLib.get(d,l);case 17:i=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),console.error("Error while fetching Continue watching tray from persona",e.t0);case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}},e,this,[[5,20]])})),function(e){return i.apply(this,arguments)})},{key:"fetchWatchNext",value:(s=(0,l.default)(h.default.mark(function e(t){var r,a,n,o,u,s;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.contentId,a=t.userId,s=t.numberLimit,n=void 0===s?1:s,u=t.userToken,o={},s={},u=E._getRequestHeaders({userToken:u}),u={headers:u},s.pathVars={userId:a},s.querystring={item_id:r,limit:n},s=this.apiRegistry.getPath(s,"getWatchNext"),e.next=10,y.HttpLib.get(s,u);case 10:if((o=e.sent).status){e.next=13;break}throw Error("Unable to fetch Watch next as API returns status as False.");case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"fetchPersonaTrayData",value:(u=(0,l.default)(h.default.mark(function e(t,r){var a,n,o,u,s,i,c,l,d,f;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},c=t.assets,n=void 0===c?{}:c,o=t.userId,d=t.config,u=void 0===d?{}:d,s=t.userToken,l=n.items,i=void 0===l?[]:l,c=void 0,o){e.next=6;break}throw Error("Failed to get persona tray due to the absence of userId");case 6:if(i.length||t.fetchMoreData){e.next=11;break}f={P_ID:o,SIZE:t.size||20},c=b.default.getPathFromMacrosHash(t.addIdentifier,f),e.next=16;break;case 11:if(!t.fetchMoreData||!n.nextOffsetURL){e.next=15;break}c=n.nextOffsetURL,e.next=16;break;case 15:return e.abrupt("return",a);case 16:return d=(0,p.default)({},E._getRequestHeaders((0,p.default)({},u,{userToken:s})),b.default.getLpvAndSubsStatusObj(o,u)),l={headers:d},u.PERSONA_API_TIMEOUT&&(l.apiTimeOut=u.PERSONA_API_TIMEOUT),(f={}).pathVars={relativePath:c},d=R.initConfig.getConfig(),d=d.apiQueryString,d=void 0===d?"":d,f.querystring=C.toQueryStringObject(d),f=this.apiRegistry.getPath(f,"getPersonaTray"),e.next=26,y.HttpLib.get(f,l);case 26:if((a=e.sent).status){e.next=29;break}throw Error("Unable to fetch Watch next as API returns status as False.");case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}},e,this)})),function(e,t){return u.apply(this,arguments)})},{key:"fetchWatchlist",value:(o=(0,l.default)(h.default.mark(function e(t){var r,a,n,o,u,s,i,c,l;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,u=t.config,c=void 0===u?{}:u,a=t.userToken,l=t.disableMeta,n=void 0!==l&&l,s=t.limit,o=void 0===s?50:s,i=t.offset,u=void 0===i?0:i,l=t.size,s=void 0===l?0:l,i={},l={},c=(0,p.default)({},E._getRequestHeaders({userToken:a}),b.default.getLpvAndSubsStatusObj(r,c)),c={headers:c,skipCache:!0},l.pathVars={userId:r},l.querystring={meta:!n,limit:s||o,offset:u},l=this.apiRegistry.getPath(l,"watchlist"),e.next=10,y.HttpLib.get(l,c);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"watchlistItemOperation",value:(n=(0,l.default)(h.default.mark(function e(t,r){var a,n,o,u;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.userId,o=t.contentId,n=t.userToken,u=(0,p.default)({},E._getRequestHeaders({userToken:n}),b.default.getLpvAndSubsStatusObj(a,t)),n={headers:u},(u={}).pathVars={userId:a,contentId:o},o=this.apiRegistry.getPath(u,"watchlistItem"),u={},e.t0=r,e.next=e.t0===T.WL_OPERATIONS.ADD?10:e.t0===T.WL_OPERATIONS.DELETE?14:e.t0===T.WL_OPERATIONS.READ?18:22;break;case 10:return e.next=12,y.HttpLib.put(o,n);case 12:return u=e.sent,e.abrupt("break",22);case 14:return e.next=16,y.HttpLib.delete(o,n);case 16:return u=e.sent,e.abrupt("break",22);case 18:return e.next=20,y.HttpLib.get(o,n);case 20:return u=e.sent,e.abrupt("break",22);case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),new O)},function(e,t,r){var a=function(r){return a=[function(e,t,r){"use strict";r.d(t,"d",function(){return n}),r.d(t,"a",function(){return a}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return u});var a={SHOW:"SHOW",EPISODE:"EPISODE",SPORT:"SPORT"},n={MUL_LANG_PREF_KEY:"multiLangPrefs",LPV_KEY:"lpv-data",MASTER_P13N_KEY:"p13n"},o={PROD:"PROD_ENV",QA:"QA_ENV",PP:"PP_ENV",LOAD:"LOAD_ENV",STAG:"STAG_ENV"},u="a0aa8bcf9dd58ec6e3b57d9b4e5a0080b1450df7436cfa22dd5cffdfea8e1252"},function(e,t,r){"use strict";function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r,a,n,o,u){try{var s=e[o](u),i=s.value}catch(e){return r(e),0}s.done?t(i):Promise.resolve(i).then(a,n)}function a(s){return function(){var e=this,u=arguments;return new Promise(function(t,r){function a(e){i(o,t,r,a,n,"next",e)}function n(e){i(o,t,r,a,n,"throw",e)}var o=s.apply(e,u);a(void 0)})}}var n,o,u,s,c,l,p=r(0),h=r(4),v=r.n(h),y=p.d.LPV_KEY,g=p.d.MASTER_P13N_KEY,p=(h=m,p=[{key:"p13nSetModule",value:(l=a(regeneratorRuntime.mark(function e(t){var i,r,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reqModule,i=void 0===r?"":r,r=t.reqData,c=void 0===r?{}:r,e.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function e(t,r){var a,n,o,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"undefined"==typeof window&&r(Error("p13n calls should not be made on server side")),a={},n=window.localStorage;try{i&&(c||"object"===f(c))||t(!1),o=c,u=JSON.parse(n.getItem(g))||{},a=(s=u[i])&&0<Object.keys(s).length?(Object.assign(s,o),d({},i,s)):d({},i,o),Object.assign(a,u),n.setItem(g,JSON.stringify(a)),n.getItem(g),t(!0)}catch(e){t(!1)}t(!0);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"p13nSetItem",value:(c=a(regeneratorRuntime.mark(function e(t){var s,i,r,c,l=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reqModule,s=void 0===r?"":r,r=t.reqKey,i=void 0===r?"":r,r=t.reqData,c=void 0===r?{}:r,e.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function e(t,r){var a,n,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"==typeof window&&r(Error("p13n calls should not be made on server side")),a={},n=window.localStorage,e.prev=3,s&&i&&(c||"object"===f(c))||t(!1),(o=c).timestamp=(new Date).getTime(),e.next=9,l.p13nGetItem({reqModule:s});case 9:a=(u=e.sent)&&0<Object.keys(u).length?(u[i]=o,d({},s,u)):d({},s,d({},i,o)),(u=JSON.parse(n.getItem(g)))||(u={}),u=v()(u,{$merge:a}),n.setItem(g,JSON.stringify(u)),n.getItem(g),t(!0),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),console.error("p13nSetItem Failed : ",e.t0),t(!1);case 23:t(!0);case 24:case"end":return e.stop()}},e,null,[[3,19]])}));return function(e,t){return r.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"p13nGetItem",value:(s=a(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reqModule,n=void 0===r?"":r,r=t.reqKey,o=void 0===r?"":r,e.abrupt("return",new Promise(function(e,t){"undefined"==typeof window&&t(Error("p13n calls should not be made on server side"));var r=window.localStorage,t={};try{n||o||e(t);var a=JSON.parse(r.getItem(g));a||e(t),o||e(a[n]),t=a[n][o]}catch(e){}e(t)}));case 2:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"p13nGetItem_sync",value:function(e){var t=e.reqModule,r=void 0===t?"":t,a=e.reqKey,n=void 0===a?"":a;if("undefined"==typeof window)return{};t=window.localStorage,a={};try{if(!r&&!n)return a;var o=JSON.parse(t.getItem(g));if(!o)return a;if(!n)return o[r];if(!o[r])return a;a=o[r][n]}catch(e){console.error("p13nGetItem_sync : ",e)}return a}},{key:"p13nRemoveItem",value:(u=a(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reqModule,n=void 0===r?"":r,r=t.reqKey,o=void 0===r?"":r,e.abrupt("return",new Promise(function(e,t){"undefined"==typeof window&&t(Error("p13n calls should not be made on server side"));var r=window.localStorage;n||o||e(!1);try{var a=JSON.parse(r.getItem(g));o?delete a[n][o]:delete a[n],r.setItem(g,JSON.stringify(a))}catch(t){e(!1)}e(!0)}));case 2:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"getLpv",value:(o=a(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,a={},e.prev=2,e.next=5,this.p13nGetItem({reqModule:y,reqKey:r});case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Failed to get lpv data from localStorage :",e.t0);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this,[[2,8]])})),function(e){return o.apply(this,arguments)})},{key:"getLpv_sync",value:function(e){var t,r=e.userId;try{t=this.p13nGetItem_sync({reqModule:y,reqKey:r})}catch(e){console.error("Failed to get lpv data from localStorage :",e)}return t}},{key:"setLpv",value:(n=a(regeneratorRuntime.mark(function e(t){var r,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userId,n=t.lpvData,a=void 0===n?{}:n,n=!1,e.prev=2,e.next=5,this.p13nSetItem({reqModule:y,reqKey:r,reqData:a});case 5:n=!!e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Failed to set LPV data : ",e.t0);case 11:return n||console.error("Setting Data in LPV is failed",r,a),e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this,[[2,8]])})),function(e){return n.apply(this,arguments)})}],function(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(h.prototype,p),m);function m(){!function(e){if(!(e instanceof m))throw new TypeError("Cannot call a class as a function")}(this)}t.a=new p},function(e,t){e.exports=r},,function(g,m,e){"use strict";!function(e){function u(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}function s(e,t){if(!e){if(r)throw Error("Invariant failed");throw Error(t())}}function i(e){return t.call(e).slice(8,-1)}function c(e){return Array.isArray(e)?p(e.constructor(e.length),e):"Map"===i(e)?new Map(e):"Set"===i(e)?new Set(e):e&&"object"==typeof e?p(Object.create(Object.getPrototypeOf(e)),e):e}function a(e,t,r){s(Array.isArray(e),function(){return"update(): expected target of "+u(r)+" to be an array; got "+u(e)+"."}),n(t[r],r)}function n(e,t){s(Array.isArray(e),function(){return"update(): expected spec of "+u(t)+" to be an array; got "+u(e)+". Did you forget to wrap your parameter in an array?"})}function o(e){s(Array.isArray(e),function(){return"update(): expected spec of $splice to be an array of arrays; got "+u(e)+". Did you forget to wrap your parameters in an array?"})}function l(e,t){var r=i(e);s("Map"===r||"Set"===r,function(){return"update(): "+u(t)+" expects a target of type Set or Map; got "+u(r)})}Object.defineProperty(m,"__esModule",{value:!0});var r="object"==typeof e&&!0;m.invariant=s;var d=Object.prototype.hasOwnProperty,f=Array.prototype.splice,t=Object.prototype.toString,p=Object.assign||function(t,r){return h(r).forEach(function(e){d.call(r,e)&&(t[e]=r[e])}),t},h="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)},e=(Object.defineProperty(v.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),v.prototype.extend=function(e,t){this.commands[e]=t},v.prototype.update=function(a,e){var n=this,o="function"==typeof e?{$apply:e}:e;Array.isArray(a)&&Array.isArray(o)||s(!Array.isArray(o),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),s("object"==typeof o&&null!==o,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."});var u=a;return h(o).forEach(function(e){var t,r;d.call(n.commands,e)?(r=a===u,u=n.commands[e](o[e],u,o,a),r&&n.isEquals(u,a)&&(u=a)):(t="Map"===i(a)?n.update(a.get(e),o[e]):n.update(a[e],o[e]),r="Map"===i(u)?u.get(e):u[e],n.isEquals(t,r)&&(void 0!==t||d.call(a,e))||("Map"===i(u=u===a?c(a):u)?u.set(e,t):u[e]=t))}),u},v);function v(){this.commands=p({},y),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new v).update}}m.Context=e;var y={$push:function(e,t,r){return a(t,r,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,r){return a(t,r,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,r,a){return n=t,r=r,s(Array.isArray(n),function(){return"Expected $splice target to be an array; got "+u(n)}),o(r.$splice),e.forEach(function(e){o(e),t===a&&e.length&&(t=c(a)),f.apply(t,e)}),t;var n},$set:function(e,t,r){return s(1===Object.keys(r).length,function(){return"Cannot have more than one key in an object with $set"}),e},$toggle:function(e,t){n(e,"$toggle");var r=e.length?c(t):t;return e.forEach(function(e){r[e]=!t[e]}),r},$unset:function(e,t,r,a){return n(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&delete(t=t===a?c(a):t)[e]}),t},$add:function(e,r,t,a){return l(r,"$add"),n(e,"$add"),e.forEach("Map"===i(r)?function(e){var t=e[0],e=e[1];(r=r===a&&r.get(t)!==e?c(a):r).set(t,e)}:function(e){(r=r===a&&!r.has(e)?c(a):r).add(e)}),r},$remove:function(e,t,r,a){return l(t,"$remove"),n(e,"$remove"),e.forEach(function(e){(t=t===a&&t.has(e)?c(a):t).delete(e)}),t},$merge:function(t,r,e,a){var n,o=r;return s((n=t)&&"object"==typeof n,function(){return"update(): $merge expects a spec of type 'object'; got "+u(n)}),s(o&&"object"==typeof o,function(){return"update(): $merge expects a target of type 'object'; got "+u(o)}),h(t).forEach(function(e){t[e]!==r[e]&&((r=r===a?c(a):r)[e]=t[e])}),r},$apply:function(e,t){var r;return s("function"==typeof(r=e),function(){return"update(): expected spec of $apply to be a function; got "+u(r)+"."}),e(t)}},e=new e;m.isEquals=e.update.isEquals,m.extend=e.extend,m.default=e.update,m.default.default=g.exports=p(m.default,m)}.call(this,e(6))},function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d,f=r(2),p=r.n(f),h=r(0),v=[{endPoint:"PERSONA",apis:{syncWithRemote:{route:"/v1/users/{pId}/preferences/language-selection"},lpv:{route:"/v1/users/{pId}/preferences"}}}],y={PERSONA:(a(r={},h.b.LOAD,"https://persona-load.hotstar-labs.com"),a(r,h.b.PP,"https://persona-pp.hotstar-labs.com"),a(r,h.b.QA,"https://persona-pp.hotstar-labs.com"),a(r,h.b.STAG,"https://persona.hotstar.com"),a(r,h.b.PROD,"https://persona.hotstar.com"),r)},n=function(e,t){var r,a,n,o,u=e.environment,s=e.platformCode,i=e.countryCode,c=e.clientTimeOffSet,e=e.userToken;if(!t&&d)return d;if(!u)throw"Please pass the environment";if(!s)throw"Please pass the platformCode";if(!i)throw"Please pass the countryCode";return d&&!t||(r=(e={environment:u,platformCode:s,countryCode:i,clientTimeOffSet:void 0===c?0:c,userToken:e}).environment,a=e.platformCode,n=e.countryCode,o=new f.AuthTokenGenerator({key:h.c,timeOffSet:e.clientTimeOffSet}),d={getUrl:function(e){return f.BuildUrl.getUrl({environment:r,apiName:e.apiName,apiConfig:v,apiEndPoints:y,options:{pathVars:e.pathVars}})},getHeaders:l,getOptions:function(e){return{headers:l(e),skipCache:!0}},HttpLib:p.a}),d;function l(e){return{hotstarauth:o.getAuthToken(),"x-country-code":n,"x-platform-code":a,"X-HS-UserToken":e}}},r=(r=[{key:"getNetworkService",value:function(){return this.networkService||(this.networkService=n({environment:this.environment,platformCode:this.platformCode,countryCode:this.countryCode,clientTimeOffSet:this.clientTimeOffSet})),this.networkService}}],function(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(o.prototype,r),o);function o(e){var t=e.environment,r=e.platformCode,a=e.countryCode,e=e.clientTimeOffSet;!function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.environment=t,this.platformCode=r,this.countryCode=a,this.clientTimeOffSet=e}t.a=r},function(e,t){function r(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function n(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){p&&d&&(p=!1,d.length?f=d.concat(f):h=-1,f.length&&u())}function u(){if(!p){var e=n(o);p=!0;for(var t=f.length;t;){for(d=f,f=[];++h<t;)d&&d[h].run();h=-1,t=f.length}d=null,p=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===a||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function i(){}var c,l,e=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{l="function"==typeof clearTimeout?clearTimeout:a}catch(e){l=a}}();var d,f=[],p=!1,h=-1;e.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new s(e,t)),1!==f.length||p||n(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=i,e.addListener=i,e.once=i,e.off=i,e.removeListener=i,e.removeAllListeners=i,e.emit=i,e.prependListener=i,e.prependOnceListener=i,e.listeners=function(e){return[]},e.binding=function(e){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r,a,n,o,u){try{var s=e[o](u),i=s.value}catch(e){return r(e),0}s.done?t(i):Promise.resolve(i).then(a,n)}function u(e,t){for(var r=0;t.length>r;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(r);return e=a?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==n(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t);var d=r(5),f=r(1),r=function(){function t(e){return function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),a.call(this,e)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,d.a);var s,r,a=l(t),e=t,n=[{key:"getLPVForUser",value:function(e){return f.a.getLpv_sync({userId:e})}}],o=[{key:"descSortLPVs",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e.sort(function(e,t){return t.score-e.score}),e}},{key:"processTopLPVTraits",value:function(e){e=this.descSortLPVs(e).filter(function(e){return 0<(e.score=+e.score.toFixed(2))}).slice(0,3);var t={};return t.primary_language=e[0]?e[0].name:null,t.primary_lang_score=e[0]?e[0].score:null,t.secondary_language=e[1]?e[1].name:null,t.secondary_lang_score=e[1]?e[1].score:null,t.tertiary_language=e[2]?e[2].name:null,t.tertiary_lang_score=e[2]?e[2].score:null,t}},{key:"getTopLPVTraits",value:function(e){e=f.a.getLpv_sync({userId:e});return e?e.topLPVs:{}}},{key:"getTopThreeLangsFromLPV",value:(s=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getLpv({userId:t});case 2:return r=e.sent||{},r=this.descSortLPVs(r.lpv),e.abrupt("return",r.slice(0,3).map(function(e){return(e||{}).name}).join(","));case 6:case"end":return e.stop()}},e,this)}),r=function(){var e=this,u=arguments;return new Promise(function(t,r){function a(e){i(o,t,r,a,n,"next",e)}function n(e){i(o,t,r,a,n,"throw",e)}var o=s.apply(e,u);a(void 0)})},function(e){return r.apply(this,arguments)})},{key:"fetch",value:function(t,e){var r=this,a=this.getNetworkService(),n=a.getUrl,o=a.getOptions;a.HttpLib.get(n({apiName:"lpv",pathVars:{pId:t}}),o(e)).then(function(e){e.data.topLPVs=r.processTopLPVTraits(e.data.lpv),f.a.setLpv({userId:t,lpvData:e.data})}).catch(function(e){return console.error("Error with sync remote API ",e)})}}];return u(e.prototype,o),u(e,n),t}();t.default=r}],o={},n.m=a,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7);function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var a,o};e.exports=a(r(122))},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,o,u,s,i,c,f=a(r(8)),p=a(r(118)),h=a(r(28)),v=a(r(7)),y=a(r(23)),g=a(r(48)),m=a(r(9)),_=a(r(10)),l=a(r(1)),d=a(r(2)),r=a(r(0)).default.constants,b=r.RUC_MASTER_KEY,T=r.LPV_KEY;function I(){(0,l.default)(this,I)}t.default=((0,d.default)(I,[{key:"rucSetModule",value:(c=(0,_.default)(f.default.mark(function e(t){var i=this,r=t.reqModule,c=void 0===r?"":r,t=t.reqData,l=void 0===t?{}:t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new m.default(function(){var r=(0,_.default)(f.default.mark(function e(t,r){var a,n,o,u,s;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window||r(Error("ruc calls should not be made on server side")),a={},n=window.localStorage;try{c&&(l||"object"===(void 0===l?"undefined":(0,g.default)(l)))||t(!1),o=l,u=JSON.parse(n.getItem(b))||{},a=(s=u[c])&&0<(0,y.default)(s).length?(s=(0,v.default)({},s,o),(0,v.default)({},u,(0,h.default)({},c,s))):(0,v.default)({},u,(0,h.default)({},c,o)),n.setItem(b,(0,p.default)(a)),n.getItem(b),t(!0)}catch(e){t(!1)}t(!0);case 5:case"end":return e.stop()}},e,i)}));return function(e,t){return r.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"rucSetItem",value:(i=(0,_.default)(f.default.mark(function e(t){var i=this,r=t.reqModule,c=void 0===r?"":r,r=t.reqKey,l=void 0===r?"":r,t=t.reqData,d=void 0===t?{}:t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new m.default(function(){var r=(0,_.default)(f.default.mark(function e(t,r){var a,n,o,u,s;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window||r(Error("ruc calls should not be made on server side")),a={},n=window.localStorage,e.prev=3,c&&l&&(d||"object"===(void 0===d?"undefined":(0,g.default)(d)))||t(!1),(o=d).timestamp=(new Date).getTime(),e.next=9,i.rucGetItem({reqModule:c});case 9:u=e.sent,s=JSON.parse(n.getItem(b)),a=u&&0<(0,y.default)(u).length?(u[l]=o,(0,v.default)({},s,(0,h.default)({},c,u))):(0,v.default)({},s,(0,h.default)({},c,(0,h.default)({},l,o))),n.setItem(b,(0,p.default)(a)),n.getItem(b),t(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),t(!1);case 20:t(!0);case 21:case"end":return e.stop()}},e,i,[[3,17]])}));return function(e,t){return r.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"rucGetItem",value:(s=(0,_.default)(f.default.mark(function e(t){var r=t.reqModule,n=void 0===r?"":r,t=t.reqKey,o=void 0===t?"":t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new m.default(function(e,t){window||t(Error("ruc calls should not be made on server side"));var r=window.localStorage,t={};try{n||o||e(t);var a=JSON.parse(r.getItem(b));o||e(a[n]),t=a[n][o]}catch(e){}e(t)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"rucRemoveItem",value:(u=(0,_.default)(f.default.mark(function e(t){var r=t.reqModule,n=void 0===r?"":r,t=t.reqKey,o=void 0===t?"":t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new m.default(function(e,t){window||t(Error("ruc calls should not be made on server side"));var r=window.localStorage;n||o||e(!1);try{var a=JSON.parse(r.getItem(b));o?delete a[n][o]:delete a[n],r.setItem(b,(0,p.default)(a))}catch(t){e(!1)}e(!0)}));case 1:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"getLpv",value:(o=(0,_.default)(f.default.mark(function e(t){var r,a=t.userId;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.prev=1,e.next=4,this.rucGetItem({reqModule:T,reqKey:a});case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Failed to get lpv data from localStorage");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return o.apply(this,arguments)})},{key:"setLpv",value:(n=(0,_.default)(f.default.mark(function e(t){var r,a=t.userId,t=t.lpvData,n=void 0===t?{}:t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.prev=1,e.next=4,this.rucSetItem({reqModule:T,reqKey:a,reqData:n});case 4:r=!!e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return r||console.error("Failed to set lpv data in local storage",a,n),e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return n.apply(this,arguments)})}]),new I)},function(e,t,r){"use strict";var a,a=(a=r(91))&&a.__esModule?a:{default:a};(0,r(0).registerOperations)("RUC",a.default)},function(e,t,r){"use strict";var a,a=(a=r(245))&&a.__esModule?a:{default:a};(0,r(0).registerOperations)("UMSV2",a.default)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(r,a,e,t,n){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(r,a,e)||e},o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(r,a,o),o=null),o}function o(e){var t=0<arguments.length&&void 0!==e?e:void 0;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.code=e.code||e.errorCode||t;e=(0,D.default)(e,void 0,void 0,"RT");return C.default.reject(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,s,i,c,l,d,f,p=a(r(15)),h=a(r(47)),v=a(r(56)),y=a(r(7)),g=a(r(8)),m=a(r(10)),_=a(r(28)),b=a(r(3)),T=a(r(1)),I=a(r(2)),E=a(r(4)),R=a(r(5)),C=a(r(9)),O=r(0),S=a(O),P=a(r(246)),k=a(r(248)),w=a(r(50)),A=a(r(36)),x=r(16),M=a(r(250)),D=a(r(259)),L=a(r(113)),N=a(r(91)),U=r(124),W=r(59),q=r(89),j=a(r(260)),H=S.default.constants,V=new w.default,w=new P.default,G=S.default.HttpLib,P=S.default.adapters.responseAdapter,Y=O.utils.baseUtils,F=new N.default;function K(){var e;(0,T.default)(this,K);var t=(0,E.default)(this,(K.__proto__||(0,b.default)(K)).call(this));return t.authKeys=((0,_.default)(e={},H.PROD_ENV,"6AE6AC5CB24397A25CA15E04DF4F9885"),(0,_.default)(e,H.STAG_ENV,"6AE6AC5CB24397A25CA15E04DF4F9885"),(0,_.default)(e,H.QA_ENV,"6AE6AC5CB24397A25CA15E04DF4F9885"),(0,_.default)(e,H.PP_ENV,"6AE6AC5CB24397A25CA15E04DF4F9885"),(0,_.default)(e,H.LOAD_ENV,"6AE6AC5CB24397A25CA15E04DF4F9885"),e),t.apiRegistry=k.default,t}t.default=(t=P(w.checkConcurrencyResponse),w=P(L.default.getVideoUrlV2Response,U.doNothingAdapter),U=P(L.default.getVideoUrlV2Response,U.doNothingAdapter),A=A.default,(0,R.default)(K,A),(0,I.default)(K,[{key:"checkConcurrency",value:(f=(0,m.default)(g.default.mark(function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.v3RTInterceptor(this._checkConcurrency.bind(this),t,r).catch(o()));case 1:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"removeConcurrency",value:(d=(0,m.default)(g.default.mark(function e(t){return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.v3RTInterceptor(this._removeConcurrency.bind(this),t).catch(o()));case 1:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"_checkConcurrency",value:(l=(0,m.default)(g.default.mark(function e(t){var r,a,n,o,u,s;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a={},n={},o=Y.getNewObjectCopy(x.defaultIsAllowPlayBackResponse),u="",e.prev=5,t.isPremium&&t.userId){e.next=8;break}return e.abrupt("return",C.default.resolve(o));case 8:return n.userId=t.userId,n.deviceId=t.deviceId,a.pathVars=n,a.type="json",a.skipCache=!0,s=V.getAuthToken(),s={hotstarauth:s},a.headers=s,s=this.apiRegistry.getPath(a,"checkConcurrency"),u=s,e.next=20,G.get(s,a);case 20:return r=e.sent,e.abrupt("return",r);case 24:return e.prev=24,e.t0=e.catch(5),s=(0,D.default)(e.t0,u,a,"CC"),e.abrupt("return",C.default.resolve(s));case 28:case"end":return e.stop()}},e,this,[[5,24]])})),function(e){return l.apply(this,arguments)})},{key:"_removeConcurrency",value:(c=(0,m.default)(g.default.mark(function e(t){var r,a,n,o;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a={},n={},o=Y.getNewObjectCopy(x.defaultIsAllowPlayBackResponse),e.prev=4,t.isPremium){e.next=7;break}return e.abrupt("return",C.default.resolve(o));case 7:return n.userId=t.userId,n.deviceId=t.deviceId,a.pathVars=n,a.type="json",a.skipCache=!0,o=V.getAuthToken(),o={hotstarauth:o},a.headers=o,o=this.apiRegistry.getPath(a,"checkConcurrency"),e.next=18,G.delete(o,a);case 18:return r=e.sent,e.abrupt("return",r);case 22:return e.prev=22,e.t0=e.catch(4),e.abrupt("return",C.default.resolve(e.t0));case 25:case"end":return e.stop()}},e,this,[[4,22]])})),function(e){return c.apply(this,arguments)})},{key:"getCompositePlaybackUrl",value:function(e,t){t=t||{deviceIdPath:"device.deviceId"};return e.v3RTInterceptor(this._getCompositePlaybackUrl.bind(this),e,t).catch(o())}},{key:"getCompositePlaybackUrlV3",value:function(e,t){t=t||{deviceIdPath:"device.deviceId"};return e.v3RTInterceptor(this._getCompositePlaybackUrlV3.bind(this),e,t).catch(o())}},{key:"_getCompositePlaybackUrl",value:(i=(0,m.default)(g.default.mark(function e(t){var r,a,n,o,u,s,i,c,l,d,f,p,h;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="",i=t.reqHeaders,u=void 0===i?{}:i,s=t.reqConfig,l=void 0===s?{}:s,d=t.apiVersion,a=void 0===d?"v2":d,n=(0,y.default)({},u),e.prev=3,c={},p={},o={},f=t.content,i=t.device,s=t.userId,d=t.fingerPrint,u=f.contentId,f=S.default.config.initConfig.getConfig()||{},f=f.country,p.contentId=u,p.apiVersion=a,c["device-id"]=encodeURIComponent(i.deviceId),c["desired-config"]=(0,W.generateTagsString)(t.tags,"|"),c["os-name"]=encodeURIComponent(i.osName),c["os-version"]=i.osVersion,n.hotstarauth=V.getAuthToken(),n["X-HS-UserToken"]=s,n["X-HS-Platform"]=i.client,n["X-HS-AppVersion"]=i.clientVersion,n["X-Request-Id"]=t.requestId,n["X-Country-Code"]=f,d&&(n["X-HS-Tkey"]=d),s=this.apiRegistry.getPath({querystring:c,pathVars:p},"getCompositePlaybackUrl"),r=s,i={headers:n,skipCache:!0,fetchParams:l,retries:[0,2e3,5e3,8e3,1e4,12e3,14e3,16e3]},e.prev=27,e.next=30,G.get(s,i);case 30:o=e.sent,e.next=43;break;case 33:if(e.prev=33,e.t0=e.catch(27),403!==e.t0.httpStatus)throw e.t0;e.next=37;break;case 37:return e.next=39,(0,O.syncServerTime)();case 39:return i.headers.hotstarauth=V.getAuthToken(),e.next=42,G.get(s,i);case 42:o=e.sent;case 43:return f=(0,M.default)(o,"data",{}),d=f.playBackSets,c=void 0===d?[]:d,p=f.match,l=void 0!==p&&p,h=f.drmClass,d=void 0===h?"":h,p=f.videoMeta,h=void 0===p?{}:p,f=(0,M.default)(o,"additionalInfo"),p=o.responseHeaders,e.abrupt("return",{success:!0,isMatch:l,playbackSets:c,drmClass:d,additionalInfo:f,responseHeaders:p,videoMeta:h});case 49:return e.prev=49,e.t1=e.catch(3),h=(0,D.default)(e.t1,r,{originalHeaders:n},"PC"),e.abrupt("return",C.default.reject(h));case 53:case"end":return e.stop()}},e,this,[[3,49],[27,33]])})),function(e){return i.apply(this,arguments)})},{key:"_getCompositePlaybackUrlV3",value:(s=(0,m.default)(g.default.mark(function e(t){var r,a,n,o,u,s,i,c,l,d,f;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="",u=t.reqHeaders,s=void 0===u?{}:u,l=t.reqConfig,i=void 0===l?{}:l,a=void 0,e.prev=3,n={},c=S.default.config.initConfig.getConfig()||{},d=c.country,a=(0,j.default)(t,(0,y.default)({},s,{hotstarauth:V.getAuthToken(),"X-Country-Code":d})),o=this.apiRegistry.getPath({querystring:a.queryParams,pathVars:a.pathVars},"getCompositePlaybackUrl"),r=o,u={headers:a.headers,skipCache:!0,fetchParams:i,retries:[0,2e3,5e3,8e3,1e4,12e3,14e3,16e3],data:a.body},e.prev=11,e.next=14,G.post(o,u);case 14:n=e.sent,e.next=27;break;case 17:if(e.prev=17,e.t0=e.catch(11),403!==e.t0.httpStatus)throw e.t0;e.next=21;break;case 21:return e.next=23,(0,O.syncServerTime)();case 23:return u.headers.hotstarauth=V.getAuthToken(),e.next=26,G.post(o,u);case 26:n=e.sent;case 27:return l=(0,M.default)(n,"data",{}),c=l.playback_sets,s=void 0===c?[]:c,d=l.match,i=void 0!==d&&d,f=l.drm_class,c=void 0===f?"":f,d=l.video_meta,f=void 0===d?{}:d,l=(0,M.default)(n,"additional_info"),d=n.responseHeaders,e.abrupt("return",{success:!0,isMatch:i,playbackSets:s,drmClass:c,additionalInfo:l,responseHeaders:d,videoMeta:f});case 33:return e.prev=33,e.t1=e.catch(3),f=this.extractErrorDetails(e.t1),f=(0,D.default)(f,r,{originalHeaders:a.headers},"PC"),e.abrupt("return",C.default.reject(f));case 38:case"end":return e.stop()}},e,this,[[3,33],[11,17]])})),function(e){return s.apply(this,arguments)})},{key:"extractErrorDetails",value:function(e){var t=e.error_code,r=e.error_details,a=void 0===r?[]:r,n=e.additional_info,o=(n=void 0===n?{}:n).devices,r=n.possible_actions,n=n.required_packs,e=(0,v.default)(e,["error_code","error_details","additional_info"]),a=a.map(function(e){var t=e.header_name,r=e.param_name,e=(0,v.default)(e,["header_name","param_name"]);return(0,y.default)({},e,{headerName:t,paramName:r})});return(0,y.default)({},e,{errorDetails:a,errorCode:t,additionalInfo:{requiredPacks:n,devices:o,possibleActions:r}})}},{key:"_getUserPlaybackConsent",value:(u=(0,m.default)(g.default.mark(function e(t){var r,a,n,o,u,s,i,c;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r=void 0,e.prev=1,i=t.reqHeaders,n=void 0===i?{}:i,u=t.consentData,o=void 0===u?{}:u,s=t.content,i=t.device,u=t.userId,u=(0,y.default)({},n,(0,q.getConsentHeaders)({userId:u,device:i,request:t})),i={},s=s.contentId,i.contentId=s,i=this.apiRegistry.getPath({querystring:{},pathVars:i},"getUserPlaybackConsent"),r=i,a=u,e.next=12,G.post(i,{headers:u,data:o});case 12:return c=e.sent,e.abrupt("return",{success:!0,message:(0,M.default)(c,"message")});case 16:return e.prev=16,e.t0=e.catch(1),(c=(0,D.default)(e.t0,r,{originalHeaders:a},"UPC")).apiCode=x.PLAYBACK_CONSENT_API,e.abrupt("return",C.default.reject(c));case 21:case"end":return e.stop()}},e,this,[[1,16]])})),function(e){return u.apply(this,arguments)})},{key:"getUserPlaybackConsent",value:function(e){return e.v3RTInterceptor(this._getUserPlaybackConsent.bind(this),e).catch(o())}},{key:"verifyAndReturnPlaybackUrl",value:function(e){e.device instanceof Object&&(e.deviceId=e.device.deviceId);try{var t=e.personaData?F.getWatchPercentage(e):C.default.resolve(0),r=(0,y.default)({},{deviceIdPath:"device.deviceId",userIdPath:"userId"},{invalidErrorCode:x.PLAYBACK_COMPOSITE_ERROR_TYPE.JWT_TOKEN_EXPIRED}),a="v3"===e.apiVersion?this.getCompositePlaybackUrlV3(e,r):this.getCompositePlaybackUrl(e,r);return Y.combineCalls([a,t]).catch(function(e){var t=e.findIndex(function(e){return void 0!==e}),r=e[t];return r.errorList=e,r.apiCode=[x.PLAYBACK_COMPOSITE_API_IDS.PLAYBACK_COMPOSITE,x.PLAYBACK_COMPOSITE_API_IDS.WATCH_PERCENTAGE,x.PLAYBACK_COMPOSITE_API_IDS.GEO_RIGHTS,x.PLAYBACK_COMPOSITE_API_IDS.CONCURRENCY][t],C.default.reject(r)}).then(function(e){var t=(0,h.default)(e,2),e=t[0];return e.watchPercentage=t[1]||0,e})}catch(e){return C.default.reject(e)}}}]),n((m=K).prototype,"_checkConcurrency",[t],(0,p.default)(m.prototype,"_checkConcurrency"),m.prototype),n(m.prototype,"getCompositePlaybackUrl",[w],(0,p.default)(m.prototype,"getCompositePlaybackUrl"),m.prototype),n(m.prototype,"getCompositePlaybackUrlV3",[U],(0,p.default)(m.prototype,"getCompositePlaybackUrlV3"),m.prototype),m)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=a(r(7)),n=a(r(3)),o=a(r(1)),u=a(r(2)),s=a(r(4)),i=a(r(5)),f=r(16),c=r(0),l=a(r(247)),r=a(r(57)),p=new c.HttpStatusMessages(l.default),h=c.utils.baseUtils;function v(){var e,l;(0,o.default)(this,v);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=l=(0,s.default)(this,(e=v.__proto__||(0,n.default)(v)).call.apply(e,[this].concat(r))),l.checkConcurrencyResponse=function(e){var t=e.errorDetails,r=void 0===t?{}:t,a=r.errorCode,n=void 0===a?"":a,o=r.appCode,u=void 0===o?"":o,s=r.httpStatus,i=r.metadata,c=void 0===i?{}:i,t=r.message,a=f.SLATE_ACTION_TYPE.CONCURRENCY,o=h.getNewObjectCopy(f.defaultIsAllowPlayBackResponse),i=l.isConcurrentStreamPlaying(e),e=p.getMessage("checkConcurrency",s);return(0,d.default)({},o,{canWatch:i?"N":"Y",message:e,appCode:u,metadata:c,errorCode:n,actionCode:a,httpStatus:s,apiErrorMessage:t,errorDetails:r,respData:c})},(0,s.default)(l,e)}t.default=(r=r.default,(0,i.default)(v,r),(0,u.default)(v,[{key:"isConcurrentStreamPlaying",value:function(e){e=e.httpStatus;return 401===e||403===e||429===e}}]),v)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={checkConcurrency:{407:{webMsg:"Sorry, more than one premium video is being requested from this account. Please close other videos and try again."},429:{webMsg:"Oops, something went wrong. Please try again in sometime. For help, write to help@hotstar.com."},401:{webMsg:"Oops, something went wrong. Please login again and retry."}},checkAggreGatedContentRights:{DEFAULT:{webMsg:"You need a Premium Membership to watch this video."},404:{webMsg:"Uh-oh, this content is not available!"},412:{webMsg:"Requested content is invalid."},402:{webMsg:"Subscription pack is not purchased."}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(11)),o=a(r(3)),u=a(r(1)),s=a(r(4)),i=a(r(5)),c=a(r(249)),r=a(r(20));function l(){(0,u.default)(this,l);var e=(0,s.default)(this,(l.__proto__||(0,o.default)(l)).call(this));return e.apiConfigs=[].concat((0,n.default)(c.default),(0,n.default)(e.apiConfigs||[])),e._defaultOptions={apiVersion:"v2"},e}t.default=(r=r.default,(0,i.default)(l,r),new l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=(r=r(0))&&r.__esModule?r:{default:r};t.default=[{endPoint:r.default.constants.UMS_CONCURRENCY_PLATFORM,apis:{checkConcurrency:{route:"/{apiVersion}/{platform}/{countryCode}/entitlement/device/{deviceId}/{userId}/"}}},{endPoint:r.default.constants.UMS_COMPOSITE_PLAYBACK,apis:{getCompositePlaybackUrl:{route:"/{apiVersion}/playback/content/{contentId}"},getUserPlaybackConsent:{route:"/v1/consent/content/{contentId}"}}}]},function(e,t,r){var a=r(251);e.exports=function(e,t,r){return void 0===(t=null==e?void 0:a(e,t))?r:t}},function(e,t,r){var n=r(252),o=r(258);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[o(t[r++])];return r&&r==a?e:void 0}},function(e,t,r){var a=r(90),n=r(253),o=r(255),u=r(257);e.exports=function(e,t){return a(e)?e:n(e,t)?[e]:o(u(e))}},function(e,t,r){var a=r(90),n=r(254),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!n(e))||u.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;e.exports=r(256)(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(a,function(e,t,r,a){n.push(r?a.replace(o,"$1"):t||e)}),n})},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,r){"use strict";function a(e){return e?"_"+e:""}function o(e,t){var r=0<arguments.length&&void 0!==e?e:{},e=t,t=r.httpStatus;return r.code=r.code||r.errorCode||r.appCode||function(e,t){var r=void 0;switch(e){case s.HTTP_STATUS.NETWORK_UNAVAILABLE:r=i.NETWORK_ERRORS.NETWORK_UNAVAILABLE;break;case s.HTTP_STATUS.NETWORK_TIMEOUT:r=i.NETWORK_ERRORS.NETWORK_TIMEOUT;break;default:r=e}return"ERR"+a(t)+a(r)}(t,e),r}Object.defineProperty(t,"__esModule",{value:!0});var n,u=(n=r(19))&&n.__esModule?n:{default:n},s=r(122),i=r(16),c={success:!1,httpStatus:s.HTTP_STATUS.NETWORK_UNAVAILABLE,errorDetails:{}};t.default=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3];if(function(e){for(var t in c)if(!Object.prototype.hasOwnProperty.call(e,t))return;return 1}(e))return e;var n=void 0===(n=r.originalHeaders)?{}:n,r=void 0===(r=r.originalParams)?{}:r,a=o(e,a),a=(0,u.default)({},c,{originalReq:t,request:{url:t,headers:n,params:r},errorDetails:a,httpStatus:e.httpStatus,errorCode:a.code});return t&&(a.originalReq=t),a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,d=(a=r(7))&&a.__esModule?a:{default:a};t.default=function(e,t){var r=void 0===(i=e.clientCapabilities)?{}:i,a=void 0===(c=e.device)?{}:c,n=void 0===(l=e.tags)?{}:l,o=e.userId,u=e.content,s=e.fingerPrint,i=e.requestId,c={},l=(0,d.default)({},t),e={},t={},u=u.contentId;return c.os_name=encodeURIComponent(a.osName),c.os_version=a.osVersion,c.app_name=a.client,c.app_version=a.clientVersion,c.platform=a.platform,c.platform_version=a.platformVersion,c.client_capabilities={ads:r.ads,audio_channel:r.audio_channel,dvr:r.dvr,package:r.package,dynamic_range:r.dynamicRange,video_codec:r.video_codec,encryption:r.encryption,ladder:r.ladder,container:r.containers,resolution:r.resolution},c.device_model=a.deviceModel,c.device_manufacturer=a.deviceManufacturer,c.language=n.language,c.drm_parameters={widevine_security_level:r.widevine_security_level,hdcp_version:r.widevine_hdcp_version},l["X-HS-UserToken"]=o,l["X-HS-Request-Id"]=i,e["device-id"]=encodeURIComponent(a.deviceId),e["desired-config"]=(0,f.generateTagsString)(n,"|"),t.contentId=u,t.apiVersion="v3",s&&(l["X-HS-Tkey"]=s),{body:c,headers:l,queryParams:e,pathVars:t}};var f=r(59)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,a=(a=r(262))&&a.__esModule?a:{default:a};t.default=(0,r(0).registerOperations)("BIFROST",a.default)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,u=a(r(8)),s=a(r(9)),o=a(r(10)),i=a(r(1)),c=a(r(2)),l=a(r(263)),d=a(r(0)).default.HttpLib;function f(){(0,i.default)(this,f)}t.default=((0,c.default)(f,[{key:"concurrencyHeartbeat",value:(n=(0,o.default)(u.default.mark(function e(){var t,r,a,n,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,n=o.data,r=void 0===n?{}:n,a=o.config,a=(n=void 0===a?{}:a).basePath,a=l.default.getPath({},"heartbeat",a),n={"Hs-Client-Timestamp":Date.now(),"Schema-Name":n.schemaName||"heartbeat","Schema-Version":n.schemaVersion||"1",Authorization:"Basic "+n.token},n={data:r,headers:n},e.next=9,d.post(a,n);case 9:(t=e.sent).error=!1,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),console.warn("Error::concurrencyHeartbeat::",e.t0),e.abrupt("return",s.default.resolve({error:!0,requestData:o.data}));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}},e,this,[[1,13]])})),function(){return n.apply(this,arguments)})}]),f)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(11)),o=a(r(3)),u=a(r(1)),s=a(r(4)),i=a(r(5)),c=a(r(264)),r=a(r(20));function l(){(0,u.default)(this,l);var e=(0,s.default)(this,(l.__proto__||(0,o.default)(l)).call(this));return e.apiConfigs=[].concat((0,n.default)(c.default),(0,n.default)(e.apiConfigs||[])),e._defaultOptions={apiVersion:"v1"},e}t.default=(r=r.default,(0,i.default)(l,r),new l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r=r(0);t.default=[{endPoint:(r&&r.__esModule?r:{default:r}).default.constants.BIFROST,apis:{heartbeat:{route:"/{apiVersion}/events/heartbeat"}}}]}],[199]))}}]);

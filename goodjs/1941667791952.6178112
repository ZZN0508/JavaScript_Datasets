!function(r){function t(t){r.YL.call(this,t),this.i=new i(this.player),this.i.hide(),r.LL(this.player,this.i.element,4),t.xe()&&(this.load(),r.L(t.getRootNode(),"ytp-player-minimized",!0))}var i=function(t){r.V.call(this,{D:"div",K:"ytp-miniplayer-ui"}),this.Wf=!1,this.player=t,this.N(t,"minimized",this.dg),this.N(t,"onStateChange",this.MC)};r.v(i,r.V),r.k=i.prototype,r.k.fB=function(){this.tooltip=new r.xP(this.player,this),r.F(this,this.tooltip),r.LL(this.player,this.tooltip.element,4),this.tooltip.scale=.6,this.hc=new r.TM(this.player),r.F(this,this.hc),this.pg=new r.V({D:"div",K:"ytp-miniplayer-scrim"}),r.F(this,this.pg),this.pg.ya(this.element),this.N(this.pg.element,"click",this.ax);var t=new r.V({D:"button",Ca:["ytp-miniplayer-close-button","ytp-button"],V:{"aria-label":"关闭"},S:[r.$J()]});r.F(this,t),t.ya(this.pg.element),this.N(t.element,"click",this.Qh),t=new r.l0(this.player,this),r.F(this,t),t.ya(this.pg.element),this.Un=new r.V({D:"div",K:"ytp-miniplayer-controls"}),r.F(this,this.Un),this.Un.ya(this.pg.element),this.N(this.Un.element,"click",this.ax);var i=new r.V({D:"div",K:"ytp-miniplayer-button-container"});r.F(this,i),i.ya(this.Un.element),t=new r.V({D:"div",K:"ytp-miniplayer-play-button-container"}),r.F(this,t),t.ya(this.Un.element);var e=new r.V({D:"div",K:"ytp-miniplayer-button-container"});r.F(this,e),e.ya(this.Un.element),this.NI=new r.uO(this.player,this,!1),r.F(this,this.NI),this.NI.ya(i.element),i=new r.lO(this.player,this),r.F(this,i),i.ya(t.element),this.nextButton=new r.uO(this.player,this,!0),r.F(this,this.nextButton),this.nextButton.ya(e.element),this.rg=new r.kP(this.player,this),r.F(this,this.rg),this.rg.ya(this.pg.element),this.Dc=new r.zO(this.player,this),r.F(this,this.Dc),r.LL(this.player,this.Dc.element,4),this.Nw=new r.V({D:"div",K:"ytp-miniplayer-buttons"}),r.F(this,this.Nw),r.LL(this.player,this.Nw.element,4),t=new r.V({D:"button",Ca:["ytp-miniplayer-close-button","ytp-button"],V:{"aria-label":"关闭"},S:[r.$J()]}),r.F(this,t),t.ya(this.Nw.element),this.N(t.element,"click",this.Qh),t=new r.V({D:"button",Ca:["ytp-miniplayer-replay-button","ytp-button"],V:{"aria-label":"关闭"},S:[r.eK()]}),r.F(this,t),t.ya(this.Nw.element),this.N(t.element,"click",this.kR),this.N(this.player,"presentingplayerstatechange",this.Cc),this.N(this.player,"appresize",this.tb),this.N(this.player,"fullscreentoggled",this.tb),this.tb()},r.k.show=function(){this.rd=new r.nn(this.Qo,null,this),this.rd.start(),this.Wf||(this.fB(),this.Wf=!0),0!==this.player.getPlayerState()&&r.V.prototype.show.call(this),this.Dc.show(),this.player.unloadModule("annotations_module")},r.k.hide=function(){this.rd&&(this.rd.dispose(),this.rd=void 0),r.V.prototype.hide.call(this),this.player.xe()||(this.Wf&&this.Dc.hide(),this.player.loadModule("annotations_module"))},r.k.ra=function(){this.rd&&(this.rd.dispose(),this.rd=void 0),r.V.prototype.ra.call(this)},r.k.Qh=function(){this.player.stopVideo(),this.player.Ma("onCloseMiniplayer")},r.k.kR=function(){this.player.playVideo()},r.k.ax=function(t){t.target!==this.pg.element&&t.target!==this.Un.element||(r.S(this.player.T().experiments,"kevlar_miniplayer_play_pause_on_scrim")?r.bJ(this.player.sb())?this.player.pauseVideo():this.player.playVideo():this.player.Ma("onExpandMiniplayer"))},r.k.dg=function(){r.L(this.player.getRootNode(),"ytp-player-minimized",this.player.xe())},r.k.Wc=function(){this.Dc.Qb(),this.rg.Qb()},r.k.Qo=function(){this.Wc(),this.rd&&this.rd.start()},r.k.Cc=function(t){r.U(t.state,32)&&this.tooltip.hide()},r.k.tb=function(){r.KO(this.Dc,0,this.player.Ya().getPlayerSize().width,!1),r.BO(this.Dc)},r.k.MC=function(t){this.player.xe()&&(0===t?this.hide():this.show())},r.k.Zb=function(){return this.tooltip},r.k.re=function(){return!1},r.k.Fe=function(){return!1},r.k.Lh=function(){return!1},r.k.Cx=function(){},r.k.Wl=function(){},r.k.cq=function(){},r.k.lm=function(){return null},r.k.Di=function(){return new r.ag(0,0,0,0)},r.k.handleGlobalKeyDown=function(){return!1},r.k.handleGlobalKeyUp=function(){return!1},r.k.Yo=function(t,i,e,n,s){var h,l,o=0,a=n=0,p=r.yg(t);i?(e=r.zn(i,"ytp-prev-button")||r.zn(i,"ytp-next-button"),h=r.zn(i,"ytp-play-button"),l=r.zn(i,"ytp-miniplayer-expand-watch-page-button"),e?o=a=12:h?(a=(i=r.wg(i,this.element)).x,o=i.y-12):l&&(a=r.zn(i,"ytp-miniplayer-button-top-left"),o=r.wg(i,this.element),i=r.yg(i),o=a?(a=8,o.y+40):(a=o.x-p.width+i.width,o.y-20))):(a=e-p.width/2,n=25+(s||0)),i=this.player.Ya().getPlayerSize().width,s=o+(s||0),p=r.ce(a,0,i-p.width),s?(t.style.top=s+"px",t.style.bottom=""):(t.style.top="",t.style.bottom=n+"px"),t.style.left=p+"px"},r.k.showControls=function(){},r.k.nk=function(){},r.k.Lj=function(){return!1},r.v(t,r.YL),t.prototype.create=function(){},t.prototype.Yh=function(){return!1},t.prototype.load=function(){this.player.hideControls(),this.i.show()},t.prototype.unload=function(){this.player.showControls(),this.i.hide()},r.iM.miniplayer=t}(_yt_player);

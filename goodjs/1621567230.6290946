(window.webpackJsonp=window.webpackJsonp||[]).push([[427,448],{1135:function(t,e,n){"use strict";var r=n(137);n.d(e,"b",(function(){return r.d})),n.d(e,"c",(function(){return r.e})),n.d(e,"d",(function(){return r.f}));var i=n(114);n.d(e,"a",(function(){return i.b}))},1543:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return c}));const r="light",i=7,o={width:568,height:320},c={0:{title:"Local Radar",layer:"twcRadarHcMosaic",style:"light",key:"radar",frames:1,frameRatio:2,attributionColor:"white"},1:{title:"Rain is in View",layer:"radarFcst",style:"light",key:"rainView",frames:13,frameRatio:2,attributionColor:"white"},2:{title:"Snow is in View",layer:"radarFcst",style:"light",key:"snowView",frames:12,frameRatio:2,attributionColor:"white"},3:{title:"Wintry Mix is in View",layer:"radarFcst",style:"light",key:"mixView",frames:13,frameRatio:2,attributionColor:"white"},4:{title:"Storms in View",layer:"radarFcst",style:"light",key:"stormView",frames:13,frameRatio:2,attributionColor:"white"},5:{title:"Lightning in View",layer:"radarFcst",vector:"600",style:"light",key:"lightningView",frames:13,frameRatio:2,attributionColor:"white"}}},1615:function(t,e,n){"use strict";n.d(e,"d",(function(){return V})),n.d(e,"c",(function(){return S})),n.d(e,"b",(function(){return x})),n.d(e,"e",(function(){return T})),n.d(e,"a",(function(){return R}));var r=n(24),i=n.n(r),o=n(6),c=n.n(o),a=n(0),u=n(94),s=n(4),l=n.n(s),d=n(2),f=n(22),h=n(70),m=n(227),b=n(1543),y=n(245),g=n.n(y),w=n(34),v=n.n(w),p=n(328),O=n.n(p),I=n(1177);const j=(t,e)=>{if(t.length<2){let n="";for(let t=0;t<e;t++)n+="0";return n.length>0?(t.push(n),t.join(".")):t[0]}const n=t[0],r=t[1].split("");return((t,e)=>{if(e.length<1)return t;const n=O()(e[e.length-1],10);e[e.length-1]=n>0&&n<=4?"0":"5";return t+"."+e.join("")})(n,v()(r).call(r,0,e))},N=(t,e)=>{const n=t.toString().split("."),r=(t=>{if(t<5)return 0;if(t<8)return 1;if(t<12)return 2;if(t>=12)return 3;throw new Error("Cannot get precision from invalid level of detail")})(e);return j(n,r)},k=(t,e,n,r,i)=>{if("fts"===t&&0===n||"ts"===t&&n===e[t].length-1)return"Now";let o;"fts"===t&&(o=1e3*e[t][n]),"ts"===t&&(o=1e3*e[t][n].ts);return Object(I.c)({date:o,locale:r,timeZone:i,minutes:!0})},V=Object(a.a)(d.d,t=>{var e;const n=t({name:"getSunV3TileServerSeriesDynamicMapsUrlConfig"});return null!==(e=null==n?void 0:n.seriesInfo)&&void 0!==e?e:null}),E=Object(a.a)(f.j,f.l,h.h,h.i,(t,e,n,r)=>{let i=t;return t&&!c()(t).call(t,"en")||(i="en-US"),{latitude:n,longitude:r,units:e,language:i}}),S=Object(a.a)(E,t=>({name:"getSunV1WWIRByGeocodeUrlConfig",params:t})),C=Object(a.a)(d.d,S,(t,e)=>t(e)),x=t=>Object(a.a)(Object(m.b)(t),t=>t("radar")),T=Object(a.a)(C,t=>{const e=l()(t,"forecast")||{overall_type:"0"};return e.product=b.c[e.overall_type],e}),R=Object(a.a)(V,h.h,h.i,f.j,f.h,h.g,T,f.b,(t,e,n,r,o,c,a,s)=>{if(t){const d=l()(a,"product"),f=["en","fr","es","de","ru","zu"],h=i()(f).call(f,o)>=0?o:"en",{width:m,height:y}=b.d,w=N(e,b.b),p=N(n,b.b),O="0",I="jpg",j="//api.weather.com/v2/maps/dynamic?",V=u.env.SUN_V2_API_KEY_CLIENT,E=((t,e)=>{const{layer:n,frameRatio:r,frames:i}=e,o=i>1,c=t[n],a=c.series[0].fts||null,u=c.series||[];if(a){var s;const t=g()(s=v()(a).call(a)).call(s);let e=o?v()(t).call(t,0,2*i):v()(t).call(t,0,1);return r&&(e=((t,e)=>{const n=[];for(let r=0;r<t.length;r+=e)n.push(t[r]);return n})(e,r)),{type:"fts",fts:e,ts:u[0].ts}}if(u){const t=[];return t.push(u[0].ts),{type:"ts",ts:t}}})(t,d),S=E.type,C=E[S]?E[S].length:0,x=[];for(let t=0;t<C;t+=1){const e=E.fts||null,n=E.ts||null;let i,o,a=null,u=d.layer;"fts"===S&&(i="&fts="+e[t],o="&ts="+n),"ts"===S&&n[t].ts&&(o="&ts="+n[t].ts),"IN"===s&&(a="&region=in"),d.vector&&(u=d.layer+","+d.vector);const l=j+"geocode="+w+","+p+"&h="+y+"&w="+m+"&lod="+b.b+"&product="+u+"&map="+b.a+"&format="+I+"&language="+h+"&apiKey="+V+"&a="+O+(void 0!==o?o:"")+(void 0!==i?i:"")+(a||"");x.push({id:"ts-"+t,url:l,time:k(S,E,t,r,c)})}return x}return null})},1954:function(t,e,n){"use strict";n.r(e),n.d(e,"clientLoader",(function(){return f})),n.d(e,"fetchWWIR",(function(){return h}));var r=n(5),i=n(769),o=n(22),c=n(7),a=n(1135),u=n(246),s=n(31),l=n(236),d=n(1615);async function f(t,{props:e,containerId:r}){const l=t.select(o.j),d=t.select(a.c);if("vi-VN"===l||d)return"";await t.runSaga(i.runDaybreakMetrics,{elementId:r,moduleName:"TodayMapCard",reduxStore:t.getStore()});const f=t.select(c.e),m=t.select(u.j);if(f&&m===s.h)return;const{container:b}=await Promise.all([n.e(1),n.e(2),n.e(440),n.e(460)]).then(n.bind(null,1939));f||await t.runSaga(h);const y=b(t,e);if(f){const{hydrate:t}=await n.e(0).then(n.t.bind(null,784,7));t(y,document.getElementById(r))}else{const{render:t}=await n.e(0).then(n.t.bind(null,784,7));t(y,document.getElementById(r))}}function*h(){const t=yield Object(r.i)(d.c);yield Object(r.c)(l.a,[t])}},754:function(t,e,n){"use strict";n.d(e,"g",(function(){return r})),n.d(e,"k",(function(){return i})),n.d(e,"n",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"l",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"m",(function(){return m})),n.d(e,"f",(function(){return b})),n.d(e,"d",(function(){return y}));const r="twc/metrics/SEND_BEACON",i="twc/metrics/TRACK_STRING",o="twc/metrics/FROM_STRING",c="twc/metrics/SEND_IVW_BEACON",a="twc/metrics/SEND_VIDEO_BEACON",u="daybreak-metrics",s="true",l="twc/metrics/SEND_DAYBREAK_IN_VIEW_BEACON",d="twc/metrics/SEND_DAYBREAK_TRACK_STRING",f=1e3,h=.5,m=200,b={root:null,rootMargin:"0px",threshold:[.25,h,.75]},y={threshold:{x:h,y:h}}},758:function(t,e,n){var r=n(92),i=n(225),o=n(762),c=n(759),a=Math.max,u=Math.min;t.exports=function(t,e,n){var s,l,d,f,h,m,b=0,y=!1,g=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=s,r=l;return s=l=void 0,b=e,f=t.apply(r,n)}function p(t){return b=t,h=r(I,e),y?v(t):f}function O(t){var n=t-m;return void 0===m||n>=e||n<0||g&&t-b>=d}function I(){var t=o();if(O(t))return j(t);h=r(I,function(t){var n=e-(t-m);return g?u(n,d-(t-b)):n}(t))}function j(t){return h=void 0,w&&s?v(t):(s=l=void 0,f)}function N(){var t=o(),n=O(t);if(s=arguments,l=this,m=t,n){if(void 0===h)return p(m);if(g)return clearTimeout(h),h=r(I,e),v(m)}return void 0===h&&(h=r(I,e)),f}return e=c(e)||0,i(n)&&(y=!!n.leading,d=(g="maxWait"in n)?a(c(n.maxWait)||0,e):d,w="trailing"in n?!!n.trailing:w),N.cancel=function(){void 0!==h&&clearTimeout(h),b=0,s=m=l=h=void 0},N.flush=function(){return void 0===h?f:j(o())},N}},759:function(t,e,n){n(42);var r=n(34),i=n(328),o=n(225),c=n(175),a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=i;t.exports=function(t){if("number"==typeof t)return t;if(c(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=s.test(t);return n||l.test(t)?d(r(t).call(t,2),n?2:8):u.test(t)?NaN:+t}},760:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(748),i=n(754);const o=Object(r.a)(i.k),c=Object(r.a)(i.n),a=Object(r.a)(i.j),u=Object(r.a)(i.l),s=(Object(r.a)(i.g),Object(r.a)(i.h)),l=Object(r.a)(i.i)},761:function(t,e,n){var r=n(758),i=n(225);t.exports=function(t,e,n){var o=!0,c=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,c="trailing"in n?!!n.trailing:c),r(t,e,{leading:o,maxWait:e,trailing:c})}},762:function(t,e,n){var r=n(63);t.exports=function(){return r.Date.now()}},765:function(t,e,n){t.exports=n(766)},766:function(t,e,n){var r=n(767);t.exports=r},767:function(t,e,n){n(768);var r=n(17);t.exports=r.Number.isNaN},768:function(t,e,n){n(3)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},769:function(t,e,n){"use strict";n.r(e),n.d(e,"registerDaybreakMetricsSaga",(function(){return j})),n.d(e,"removeFromDaybreakPool",(function(){return N})),n.d(e,"addToDaybreakPool",(function(){return k})),n.d(e,"isInDaybreakPool",(function(){return V})),n.d(e,"useDaybreakMetrics",(function(){return E})),n.d(e,"shouldBeInPool",(function(){return S})),n.d(e,"getValidPercentage",(function(){return C})),n.d(e,"runDaybreakMetrics",(function(){return T})),n.d(e,"DaybreakModuleMetrics",(function(){return _}));n(37);var r=n(92),i=n.n(r),o=n(228),c=n.n(o),a=n(48),u=n.n(a),s=n(328),l=n.n(s),d=n(765),f=n.n(d),h=n(5),m=n(135),b=n.n(m),y=n(761),g=n.n(y),w=n(174),v=n(18),p=n(760),O=n(754);const I=Object(v.createLogger)("daybreak-metrics");function*j(t){try{const{percentage:e,deleteCookie:n}=t,r=yield Object(h.c)(C,e),i=yield Object(h.c)(V),o=yield Object(h.c)(S,r);if(n)return void(yield Object(h.c)(N));if(i||!o)return;yield Object(h.c)(k)}catch(t){I.error(t)}}function*N(){yield Object(h.c)([b.a,b.a.expire],O.a)}function*k(){yield Object(h.c)([b.a,b.a.set],O.a,O.b,{domain:".weather.com"})}function V(){const t=b.a.get(O.a);return t&&t===O.b}function E(){return V()}function S(t){if(f()(t))return!1;if(!t)return!1;return Math.ceil(100*Math.random())<=t}function C(t){const e="number"!=typeof t?l()(t,10):t;return f()(e)?0:e}const x=new u.a;function*T({elementId:t,moduleName:e,reduxStore:n},{moduleMetricsInstances:r=x}={}){const i=yield Object(h.c)(E),o=yield Object(h.c)([r,r.has],e);if(!i||o)return;yield Object(h.c)([r,r.add],e);const c=yield Object(h.c)(R,{elementId:t,moduleName:e,reduxStore:n});yield Object(h.c)([c,c.init])}function*R({elementId:t,moduleName:e,reduxStore:n}){const{dispatch:r}=n;return new _({elementId:t,moduleName:e,dispatch:r})}class _{constructor({elementId:t,moduleName:e,dispatch:n}){this.observerCallback=t=>{const[e]=t;e.isIntersecting&&e.intersectionRatio>=O.c?this.hasInViewBeaconFired||this.timeoutCallback||this.setInViewTimeout():requestAnimationFrame(this.clearInViewTimeout)},this.enableHandlers=()=>{this.intersectionObserver?this.intersectionObserver.observe(this.htmlElement):document.addEventListener("scroll",this.scrollEventHandler)},this.scrollEventHandler=g()(()=>{Object(w.a)(this.htmlElement,O.d)?this.hasInViewBeaconFired||this.timeoutCallback||this.setInViewTimeout():requestAnimationFrame(this.clearInViewTimeout)},O.m),this.setInViewTimeout=()=>{this.hasIntersected=!0,this.timeFirstInView=c()(),this.timeoutCallback=i()(()=>{this.sendInViewBeacon()},O.e)},this.clearInViewTimeout=()=>{this.hasIntersected&&c()()-this.timeFirstInView<O.e&&(clearTimeout(this.timeoutCallback),this.timeoutCallback=null)},this.htmlElement=document.getElementById(t),this.hasIntersected=!1,this.hasInViewBeaconFired=!1,this.timeFirstInView=0,this.timeoutCallback=null,this.intersectionObserver=null,this.sendInViewBeacon=()=>n(Object(p.a)(e)),this.sendTrackString=()=>n(Object(p.b)(e))}init(){IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.observerCallback,O.f)),this.enableHandlers(),this.htmlElement.addEventListener("click",this.sendTrackString)}}}}]);
//# sourceMappingURL=427.vendors~TodayMapCard.71944c4af89515f69221.js.map
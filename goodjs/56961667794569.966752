(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[8450],{90992:function(t,n,e){"use strict";e.r(n),e.d(n,{page:function(){return g}});function p(t){return t+"-screenIn"}var f=e(31191),i=e(61049),o=e(63788),a=e(43757),n=e(11717),r=(c.prototype._shouldSkipPlayedAnimation=function(t){var n=this.sessionState.played.has(t),e=this.sessionState.played.get(t)||{},t=e.playOnce,e=e.persistOnNav;return n&&(t||e)},c.prototype._hideComponent=function(t){t=document.querySelector("#"+t);t&&(t.style.opacity=0)},c.prototype.unhideComponent=function(t){t=document.querySelector("#"+t);t&&(t.style.opacity="",t.style.visibility="inherit")},c.prototype._addAnimatingClass=function(t){t=document.getElementById(t);t&&t.classList.add("is-animating")},c.prototype._addExitAnimatingClass=function(t){t=document.getElementById(t);t&&(t.classList.remove("is-animating"),t.classList.add("animating-screenIn-exit"))},c.prototype.updateDefinitions=function(t){this.definitions=(0,f.pi)((0,f.pi)({},this.definitions),t)},c.prototype._hideCompBeforeAnimation=function(t){var n=p(t);this._shouldSkipPlayedAnimation(n)?this.unhideComponent(t):this._hideComponent(t)},c.prototype.hideBeforeAnimation=function(t){var n=this;this.getCompsToHide(t).forEach(function(t){t=t.compId;n._hideCompBeforeAnimation(t)})},c.prototype.handleRotation=function(t,n){t.setAttribute("data-angle",String(n)),t.setAttribute("data-angle-style-location","style")},c.prototype.trigger=function(t){var e=this;(t=void 0===t?[]:t).reduce(function(t,n){n=n.compId,n=e.definitions[n]||[];return t.concat(n)},[]).forEach(function(t){var n=t.action,t=(0,f._T)(t,["action"]);return e.executeAnimation(n,t)})},c.prototype.init=function(t){this.updateDefinitions(t),this.stopAnimations(),this.hideBeforeAnimation(t)},c.prototype.addDefinition=function(t,n,e){this.handleRotation(n,e),this.updateDefinitions(t)},c.prototype.executeAnimation=function(n,t){var e=this,i=t.name,o=t.targetId,a=t.duration,r=void 0===a?0:a,s=t.delay,c=void 0===s?0:s,u=t.playOnce,a=void 0!==u&&u,s=t.persistOnNav,u=void 0!==s&&s,s=t.params,t=void 0===s?{}:s,s=p(o);this._shouldSkipPlayedAnimation(s)?this.unhideComponent(o):(this.animator.runSequence([{type:"Animation",data:{name:i,targetId:o,duration:r,delay:c,params:t}},{type:"Animation",data:{name:"BaseClear",targetId:o,duration:0,delay:0,params:{props:"clip,clipPath,webkitClipPath,willChange,opacity,transform,transformOrigin",immediateRender:!1}}}],{callbacks:{onStart:function(t){e._addAnimatingClass(o),e.sessionState.running.set(t,{targetId:o,action:n})},onComplete:function(t){e._addExitAnimatingClass(o),e.sessionState.running.delete(t)},onInterrupt:function(t){e._addExitAnimatingClass(o),e.sessionState.running.delete(t)}}}),this.sessionState.played.set(s,{playOnce:a,persistOnNav:u}))},c.prototype.stopAnimations=function(t){var e=this,t=(void 0===t?{}:t).skipPersistent,i=void 0===t||t;this.sessionState.running.forEach(function(t,n){t=t.targetId,t=p(t);i&&e.sessionState.played.get(t).persistOnNav||e.animator.kill(n,1)})},c.prototype.getAnimationProperties=function(t){return this.animator.getAnimationProperties(t)},c.prototype.getCompsToHide=function(t){var i=this;return Object.entries(t).reduce(function(t,n){var e=(0,f.CR)(n,2),n=e[0];return e[1].some(function(t){t=t.name,t=i.animator.getAnimationProperties(t);return t&&t.hideOnStart})&&t.push({compId:n}),t},[])},c.prototype.clearState=function(){this.sessionState.played.clear(),this.sessionState.running.clear()},c),s=e(18562);function c(t){this.animator=t,this.definitions={},this.sessionState={played:new Map,running:new Map}}function l(t){var a=t.manager,r={};function s(t){t=t.filter(function(t){return t.visible}).map(function(t){return{compId:t.id,action:"screenIn"}});a.trigger(t)}return{start:function(t,n,e){var i,o=window.innerHeight;n&&(o=(n=n).offsetHeight>o?.01:a.getAnimationProperties(e).viewportThreshold,(e=r[o]||(i=s,new window.IntersectionObserver(function(t,n){var e=t.map(function(t){return{visible:t.isIntersecting,ratio:t.intersectionRatio,rect:t.intersectionRect,id:t.target.id}});t.forEach(function(t){return t.isIntersecting&&n.unobserve(t.target)}),i(e)},{root:null,rootMargin:"0px",threshold:[o]}))).observe(n),r[o]||(r[o]=e))},stop:function(){Object.values(r).forEach(function(t){return t.disconnect()})}}}var u=(0,a.ff)([(0,a.t6)(i.$e,s.u2),(0,a.t6)(i.Wf,s.u2),o.m,(0,a.jt)(n.FK)],function(t,o,d,n){return function(){var c=t.compIdToActions,u=t.compIdToRotations;if(n){var p=n.getInstance().then(function(t){var n,e=null!==(n=null===(n=o.get())||void 0===n?void 0:n.screenInManager)&&void 0!==n?n:new r(t);e.init(c);var i=l({manager:e});return o.update(function(t){return(0,f.pi)((0,f.pi)({},t),{screenInManager:e,viewport:i})}),{animations:i,screenInManager:e}});return function(a,r,s){return(0,f.mG)(void 0,void 0,void 0,function(){var n,e,i,o;return(0,f.Jh)(this,function(t){switch(t.label){case 0:return s?[4,p]:[2];case 1:return i=t.sent(),n=i.animations,o=i.screenInManager,d?o.unhideComponent(a):(e=c[a],r!==a&&((i=JSON.parse(JSON.stringify(e)))[0].targetId=r,e=i),o.addDefinition(((o={})[r]=e,o),s,u[a]),n.start(r,s,e[0].name)),[2]}})})}}}}),n=e(32979),d=(0,a.ff)([(0,a.t6)(i.$e,s.u2),s.cL,n.C],function(e,i,o){return{pageWillMount:function(){var t,n=i();n&&(t=Object.keys(e.compIdToActions||{}),o.registerToCompLifeCycle(t,s.IA,n))}}}),m=(0,a.ff)([(0,a.t6)(i.$e,s.u2),(0,a.t6)(i.Wf,s.u2),n.C,o.m],function(n,e,i,o){return{pageWillUnmount:function(){var t;o||(t=Object.keys(n.compIdToActions||{}),i.unregisterToCompLifeCycle(t,s.IA),null===(t=e.get())||void 0===t||t.viewport.stop())}}}),h=e(59032),g=function(t){t(s.cL).to(u),t(h.j.PageWillMountHandler).to(d),t(h.j.PageWillUnmountHandler).to(m)}}}]);

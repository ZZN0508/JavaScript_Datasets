(self.webpackChunkO11yRUM=self.webpackChunkO11yRUM||[]).push([[790],{254:function(s,c,e){var r=[c,e(795)];void 0===(e="function"==typeof(e=function(e,t){"use strict";function r(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),n}function o(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){var r,t;r=n,e=i[t=e],t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=(i=t)&&i.__esModule?i:{default:i};var i,i=(i=[{key:"startProcessing",value:function(){var e=window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation");!this.navigationEnabled||e&&e.length||this.processLegacyNavigation(),this.handleTiming(window.performance),this.observerAvailable&&new window.PerformanceObserver(this.handleTiming).observe({entryTypes:["navigation","resource"]})}},{key:"processLegacyNavigation",value:function(){var r;window.performance&&window.performance.timing&&(r={},t.default.navigationKeys.forEach(function(e){r[e]=window.performance.timing[e]}),r.name=window.location.href,this.exporter.export({entry:r,tags:o({},this.tags)},"navigation"))}},{key:"handleTiming",value:function(e){var r,t,n,i=this;e&&e.getEntriesByType&&(r=o({},this.tags),t=e.getEntriesByType("resource"),this.resourceEnabled&&t&&t.length&&((n=t.filter(function(e){return!i.excludeFetchResources.includes(e.name)})).length&&this.exporter.export({entries:n,tags:r},"resource")),n=e.getEntriesByType("navigation"),this.navigationEnabled&&n&&n.length&&this.exporter.export({entry:n[0],tags:r},"navigation"),e.clearResourceTimings&&e.clearResourceTimings())}}],n(a.prototype,i),a);function a(e){if(function(e){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),!e||!e.exporter)throw new Error("O11y RUM: WindowPerformanceProcessor config.exporter is not defined.");if(this.tags=e.tags,this.apiURL=e.apiURL||"localhost",this.exporter=e.exporter,!window.performance)throw new Error("O11y RUM: WindowPerformanceProcessor performance is not defined.");this.navigationEnabled=e.navigationEnabled||!1,this.resourceEnabled=e.resourceEnabled||!1,this.observerAvailable=!!window.PerformanceObserver,this.excludeFetchResources=[this.apiURL];var r,t=e.excludeFetchResources;if(t&&Array.isArray(t))for(r=0;r<t.length;r+=1){if("string"!=typeof t[r])throw new Error("O11y RUM: WindowPerformanceProcessor config.excludeFetchResources invalid value '".concat(t[r],"'."));this.excludeFetchResources.push(t[r])}this.handleTiming=this.handleTiming.bind(this),this.startProcessing()}e.default=i,s.exports=c.default})?e.apply(c,r):e)||(s.exports=e)}}]);

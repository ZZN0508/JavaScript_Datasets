!function(d){var t,r,p={isMsie:function(){var t=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return!!t&&parseInt(t[2],10)},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(t){return void 0===t},bind:d.proxy,bindAll:function(t){var e,i;for(i in t)d.isFunction(e=t[i])&&(t[i]=d.proxy(e,t))},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},each:d.each,map:d.map,filter:d.grep,every:function(i,n){var s=!0;return i?(d.each(i,function(t,e){if(!(s=n.call(null,e,t,i)))return!1}),!!s):s},some:function(i,n){var s=!1;return i?(d.each(i,function(t,e){if(s=n.call(null,e,t,i))return!1}),!!s):s},mixin:d.extend,getUniqueId:(t=0,function(){return t++}),defer:function(t){setTimeout(t,0)},debounce:function(s,r,o){var u,a;return function(){var t=this,e=arguments,i=function(){u=null,o||(a=s.apply(t,e))},n=o&&!u;return clearTimeout(u),u=setTimeout(i,r),a=n?s.apply(t,e):a}},throttle:function(i,n){var s,r,o,u,a=0,c=function(){a=new Date,o=null,u=i.apply(s,r)};return function(){var t=new Date,e=n-(t-a);return s=this,r=arguments,e<=0?(clearTimeout(o),o=null,a=t,u=i.apply(s,r)):o=o||setTimeout(c,e),u}},tokenizeQuery:function(t){return d.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return d.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},e=(r=/\s+/,{on:function(t,e){var i;if(!e)return this;for(this._callbacks=this._callbacks||{},t=t.split(r);i=t.shift();)this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push(e);return this},trigger:function(t,e){var i,n;if(!this._callbacks)return this;for(t=t.split(r);i=t.shift();)if(n=this._callbacks[i])for(var s=0;s<n.length;s+=1)n[s].call(this,{type:i,data:e});return this}}),s=(p.mixin(i.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),i);function i(t){t&&t.el||d.error("EventBus initialized without el"),this.$el=d(t.el)}var n=function(){var s,t;try{(s=window.localStorage).setItem("~~~","!"),s.removeItem("~~~")}catch(t){s=null}function e(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}return t=s&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),i(s.getItem(this._prefix(t)))},set:function(t,e,i){return p.isNumber(i)?s.setItem(this._ttlKey(t),r(n()+i)):s.removeItem(this._ttlKey(t)),s.setItem(this._prefix(t),r(e))},remove:function(t){return s.removeItem(this._ttlKey(t)),s.removeItem(this._prefix(t)),this},clear:function(){for(var t,e=[],i=s.length,n=0;n<i;n++)(t=s.key(n)).match(this.keyMatcher)&&e.push(t.replace(this.keyMatcher,""));for(n=e.length;n--;)this.remove(e[n]);return this},isExpired:function(t){t=i(s.getItem(this._ttlKey(t)));return!!(p.isNumber(t)&&n()>t)}}:{get:p.noop,set:p.noop,remove:p.noop,clear:p.noop,isExpired:p.noop},p.mixin(e.prototype,t),e;function n(){return(new Date).getTime()}function r(t){return JSON.stringify(p.isUndefined(t)?null:t)}function i(t){return JSON.parse(t)}}(),o=(p.mixin(u.prototype,{get:function(t){return this.cache[t]},set:function(t,e){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]),this.cache[t]=e,this.cachedKeysByAge.push(t)}}),u);function u(t){p.bindAll(this),this.sizeLimit=(t=t||{}).sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}var a,c,h,l,g=(h=0,l={},p.mixin(f.prototype,{_get:function(i,n){var s=this;h<a?this._sendRequest(i).done(function(t){var e=s.filter?s.filter(t):t;n&&n(e),c.set(i,t)}):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){var e=this,i=l[t];return i||(h++,i=l[t]=d.ajax(t,this.ajaxSettings).always(function(){h--,l[t]=null,e.onDeckRequestArgs&&(e._get.apply(e,e.onDeckRequestArgs),e.onDeckRequestArgs=null)})),i},get:function(t,e){var i,n=this,t=encodeURIComponent(t||"");return e=e||p.noop,t=this.replace?this.replace(this.url,t):this.url.replace(this.wildcard,t),(i=c.get(t))?p.defer(function(){e(n.filter?n.filter(i):i)}):this._get(t,e),!!i}}),f);function f(t){p.bindAll(this),t=p.isString(t)?{url:t}:t,c=c||new o,a=p.isNumber(t.maxParallelRequests)?t.maxParallelRequests:a||6,this.url=t.url,this.wildcard=t.wildcard||"%QUERY",this.filter=t.filter,this.replace=t.replace,this.ajaxSettings={type:"get",cache:t.cache,timeout:t.timeout,dataType:t.dataType||"json",beforeSend:t.beforeSend},this._get=(/^throttle$/i.test(t.rateLimitFn)?p.throttle:p.debounce)(this._get,t.rateLimitWait||300)}var m=function(){var u="thumbprint",a="protocol",c="itemHash",h="adjacencyList";function t(t){p.bindAll(this),p.isString(t.template)&&!t.engine&&d.error("no template engine specified"),t.local||t.prefetch||t.remote||d.error("one of local, prefetch, or remote is required"),this.name=t.name||p.getUniqueId(),this.limit=t.limit||5,this.minLength=t.minLength||1,this.header=t.header,this.footer=t.footer,this.valueKey=t.valueKey||"value",this.template=function(t,e,i){var n;n=p.isFunction(t)?t:p.isString(t)?(n=e.compile(t),p.bind(n.render,n)):function(t){return"<p>"+t[i]+"</p>"};return n}(t.template,t.engine,this.valueKey),this.local=t.local,this.prefetch=t.prefetch,this.remote=t.remote,this.itemHash={},this.adjacencyList={},this.storage=t.name?new n(t.name):null}return p.mixin(t.prototype,{_processLocalData:function(t){this._mergeProcessedData(this._processData(t))},_loadPrefetchData:function(n){var t,e,i,s,r=this,o="0.9.3"+(n.thumbprint||"");return this.storage&&(t=this.storage.get(u),s=this.storage.get(a),e=this.storage.get(c),i=this.storage.get(h)),s=t!==o||s!==p.getProtocol(),(n=p.isString(n)?{url:n}:n).ttl=p.isNumber(n.ttl)?n.ttl:864e5,e&&i&&!s?(this._mergeProcessedData({itemHash:e,adjacencyList:i}),d.Deferred().resolve()):d.getJSON(n.url).done(function(t){var e=n.filter?n.filter(t):t,i=r._processData(e),t=i.itemHash,e=i.adjacencyList;r.storage&&(r.storage.set(c,t,n.ttl),r.storage.set(h,e,n.ttl),r.storage.set(u,o,n.ttl),r.storage.set(a,p.getProtocol(),n.ttl));r._mergeProcessedData(i)})},_transformDatum:function(t){var e=p.isString(t)?t:t[this.valueKey],e={value:e,tokens:t.tokens||p.tokenizeText(e)};return p.isString(t)?(e.datum={},e.datum[this.valueKey]=t):e.datum=t,e.tokens=p.filter(e.tokens,function(t){return!p.isBlankString(t)}),e.tokens=p.map(e.tokens,function(t){return t.toLowerCase()}),e},_processData:function(t){var n=this,s={},r={};return p.each(t,function(t,e){var e=n._transformDatum(e),i=p.getUniqueId(e.value);s[i]=e,p.each(e.tokens,function(t,e){e=e.charAt(0),e=r[e]||(r[e]=[i]);~p.indexOf(e,i)||e.push(i)})}),{itemHash:s,adjacencyList:r}},_mergeProcessedData:function(t){var n=this;p.mixin(this.itemHash,t.itemHash),p.each(t.adjacencyList,function(t,e){var i=n.adjacencyList[t];n.adjacencyList[t]=i?i.concat(e):e})},_getLocalSuggestions:function(n){var i,s=this,r=[],o=[],u=[];return p.each(n,function(t,e){e=e.charAt(0);~p.indexOf(r,e)||r.push(e)}),p.each(r,function(t,e){e=s.adjacencyList[e];if(!e)return!1;o.push(e),(!i||e.length<i.length)&&(i=e)}),o.length<r.length?[]:(p.each(i,function(t,e){var i=s.itemHash[e];p.every(o,function(t){return~p.indexOf(t,e)})&&p.every(n,function(e){return p.some(i.tokens,function(t){return 0===t.indexOf(e)})})&&u.push(i)}),u)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new g(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):d.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(t,e){var i,n,s=this,r=!1;t.length<this.minLength||(i=p.tokenizeQuery(t),!(r=(n=this._getLocalSuggestions(i).slice(0,this.limit)).length<this.limit&&this.transport?this.transport.get(t,function(t){n=n.slice(0),p.each(t,function(t,e){var i=s._transformDatum(e);return p.some(n,function(t){return i.value===t.value})||n.push(i),n.length<s.limit}),e&&e(n)}):r)&&e&&e(n))}}),t}(),y=(p.mixin(v.prototype,e,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(t){var e=this.specialKeyCodeMap[t.which||t.keyCode];e&&this.trigger(e+"Keyed",t)},_compareQueryToInputValue:function(){var t,e,i=this.getInputValue(),e=(t=this.query,e=i,t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t===e);e&&this.query.length!==i.length?this.trigger("whitespaceChanged",{value:this.query}):e||this.trigger("queryChanged",{value:this.query=i})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e||this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var t=this.$input.val().length,e=this.$input[0].selectionStart;return p.isNumber(e)?e===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)}}),v);function v(t){var e=this;p.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=d(t.hint),this.$input=d(t.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),p.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){e.specialKeyCodeMap[t.which||t.keyCode]||p.defer(e._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=(t=this.$input,d("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t))}var w,_,b,V,S,k=function(){var a='<span class="tt-suggestions"></span>',c={display:"block"},h={whiteSpace:"nowrap",cursor:"pointer"},l={whiteSpace:"normal"};function t(t){p.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=d(t.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}return p.mixin(t.prototype,e,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){t=d(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),t.addClass("tt-is-under-cursor")},_handleSelection:function(t){t=d(t.currentTarget);this.trigger("suggestionSelected",n(t))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(t){var e,i;this.isVisible()&&((i=(e=this._getSuggestions()).filter(".tt-is-under-cursor")).removeClass("tt-is-under-cursor"),-1!==(t=((t=e.index(i)+t)+1)%(e.length+1)-1)?(t<-1&&(t=e.length-1),t=e.eq(t).addClass("tt-is-under-cursor"),this._ensureVisibility(t),this.trigger("cursorMoved",n(t))):this.trigger("cursorRemoved"))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(t){var e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),i=this.$menu.scrollTop(),n=t.position().top,t=n+t.outerHeight(!0);n<0?this.$menu.scrollTop(i+n):e<t&&this.$menu.scrollTop(i+(t-e))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){"ltr"===t?this.$menu.css({left:"0",right:"auto"}):this.$menu.css({left:"auto",right:" 0"})},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var t=this._getSuggestions().filter(".tt-is-under-cursor").first();return 0<t.length?n(t):null},getFirstSuggestion:function(){var t=this._getSuggestions().first();return 0<t.length?n(t):null},renderSuggestions:function(i,t){var e,n,s,r,o="tt-dataset-"+i.name,u=this.$menu.find("."+o);0===u.length&&(e=d(a).css(c),u=d("<div></div>").addClass(o).append(i.header).append(e).append(i.footer).appendTo(this.$menu)),0<t.length?(this.isEmpty=!1,this.isOpen&&this._show(),n=document.createElement("div"),s=document.createDocumentFragment(),p.each(t,function(t,e){e.dataset=i.name,r=i.template(e.datum),n.innerHTML='<div class="tt-suggestion">%body</div>'.replace("%body",r),(r=d(n.firstChild).css(h).data("suggestion",e)).children().each(function(){d(this).css(l)}),s.appendChild(r[0])}),u.show().find(".tt-suggestions").html(s)):this.clearSuggestions(i.name),this.trigger("suggestionsRendered")},clearSuggestions:function(t){var e=t?this.$menu.find(".tt-dataset-"+t):this.$menu.find('[class^="tt-dataset-"]'),t=e.find(".tt-suggestions");e.hide(),t.empty(),0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),t;function n(t){return t.data("suggestion")}}(),A=(w={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},_={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}},p.isMsie()&&p.mixin(_.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),p.isMsie()&&p.isMsie()<=7&&(p.mixin(_.wrapper,{display:"inline",zoom:"1"}),p.mixin(_.query,{marginTop:"-1px"})),p.mixin(x.prototype,e,{_managePreventDefault:function(t){var e,i,n=t.data,s=!1;switch(t.type){case"tabKeyed":e=this.inputView.getHintValue(),i=this.inputView.getInputValue(),s=e&&e!==i;break;case"upKeyed":case"downKeyed":s=!n.shiftKey&&!n.ctrlKey&&!n.metaKey}s&&n.preventDefault()},_setLanguageDirection:function(){var t=this.inputView.getLanguageDirection();t!==this.dir&&(this.dir=t,this.$node.css("direction",t),this.dropdownView.setLanguageDirection(t))},_updateHint:function(){var t=this.dropdownView.getFirstSuggestion(),e=t?t.value:null,i=this.dropdownView.isVisible(),t=this.inputView.isOverflow();e&&i&&!t&&(t=(i=this.inputView.getInputValue()).replace(/\s{2,}/g," ").replace(/^\s+/g,""),t=p.escapeRegExChars(t),e=new RegExp("^(?:"+t+")(.*$)","i").exec(e),this.inputView.setHintValue(i+(e?e[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(t){t=t.data;this.inputView.setInputValue(t.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(t){this.dropdownView["blured"===t.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(t){var e=t.data;e.shiftKey||e.ctrlKey||e.metaKey||this.dropdownView["upKeyed"===t.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(t){var e="suggestionSelected"===t.type,i=e?t.data:this.dropdownView.getSuggestionUnderCursor();i&&(this.inputView.setInputValue(i.value),e?this.inputView.focus():t.data.preventDefault(),e&&p.isMsie()?p.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",i.datum,i.dataset))},_getSuggestions:function(){var i=this,n=this.inputView.getQuery();p.isBlankString(n)||p.each(this.datasets,function(t,e){e.getSuggestions(n,function(t){n===i.inputView.getQuery()&&i.dropdownView.renderSuggestions(e,t)})})},_autocomplete:function(t){var e,i;("rightKeyed"!==t.type&&"leftKeyed"!==t.type||(e=this.inputView.isCursorAtEnd(),i="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===t.type:"rightKeyed"===t.type,e&&!i))&&(e=this.inputView.getQuery(),""!==(i=this.inputView.getHintValue())&&e!==i&&(i=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.datum,i.dataset)))},_propagateEvent:function(t){this.eventBus.trigger(t.type)},destroy:function(){var t,i;this.inputView.destroy(),this.dropdownView.destroy(),t=this.$node,i=t.find(".tt-query"),p.each(i.data("ttAttrs"),function(t,e){p.isUndefined(e)?i.removeAttr(t):i.attr(t,e)}),i.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(t),t.remove(),this.$node=null},setQuery:function(t){this.inputView.setQuery(t),this.inputView.setInputValue(t),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),x);function x(t){var e,i;p.bindAll(this),this.$node=function(t){var e=d(w.wrapper),i=d(w.dropdown),n=d(t),t=d(w.hint);e=e.css(_.wrapper),i=i.css(_.dropdown),t.css(_.hint).css({backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")}),n.data("ttAttrs",{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(_.query);try{n.attr("dir")||n.attr("dir","auto")}catch(t){}return n.wrap(e).parent().prepend(t).append(i)}(t.input),this.datasets=t.datasets,this.dir=null,this.eventBus=t.eventBus,e=this.$node.find(".tt-dropdown-menu"),i=this.$node.find(".tt-query"),t=this.$node.find(".tt-hint"),this.dropdownView=new k({menu:e}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=new y({input:i,hint:t}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}b={},V="ttView",S={initialize:function(t){var n;return 0===(t=p.isArray(t)?t:[t]).length&&d.error("no datasets provided"),n=p.map(t,function(t){var e=b[t.name]||new m(t);return t.name&&(b[t.name]=e),e}),this.each(function(){var t,e=d(this),i=new s({el:e});t=p.map(n,function(t){return t.initialize()}),e.data(V,new A({input:e,eventBus:i=new s({el:e}),datasets:n})),d.when.apply(d,t).always(function(){p.defer(function(){i.trigger("initialized")})})})},destroy:function(){return this.each(function(){var t=d(this),e=t.data(V);e&&(e.destroy(),t.removeData(V))})},setQuery:function(e){return this.each(function(){var t=d(this).data(V);t&&t.setQuery(e)})}},jQuery.fn.typeahead=function(t){return S[t]?S[t].apply(this,[].slice.call(arguments,1)):S.initialize.apply(this,arguments)}}(window.jQuery);

!function(){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(){this.getViewabilityState=function(t,e){var n=a();if(n.area===1/0)return{error:"Failed to determine viewport"};var i=t.getBoundingClientRect(),o=i.width*i.height,r=d(window.top),e=c(t,e),o=n.area/o<.5?Math.floor(100*n.area/o):(e.bottom>r.height&&(e.height-=e.bottom-r.height),e.top<0&&(e.height+=e.top),e.left<0&&(e.width+=e.left),e.right>r.width&&(e.width-=e.right-r.width),Math.floor(e.width*e.height*100/o));return{clientWidth:r.width,clientHeight:r.height,objTop:i.top,objBottom:i.bottom,objLeft:i.left,objRight:i.right,percentViewable:o}};var a=function(){for(var t=d(window),e=t.area,n=window;n!==window.top;){var n=n.parent,i=d(n);i.area<e&&(e=i.area,t=i)}return t},d=function(t){var e={width:1/0,height:1/0,area:1/0};return!isNaN(t.document.body.clientWidth)&&0<t.document.body.clientWidth&&(e.width=t.document.body.clientWidth),!isNaN(t.document.body.clientHeight)&&0<t.document.body.clientHeight&&(e.height=t.document.body.clientHeight),t.document.documentElement&&t.document.documentElement.clientWidth&&!isNaN(t.document.documentElement.clientWidth)&&(e.width=t.document.documentElement.clientWidth),t.document.documentElement&&t.document.documentElement.clientHeight&&!isNaN(t.document.documentElement.clientHeight)&&(e.height=t.document.documentElement.clientHeight),t.innerWidth&&!isNaN(t.innerWidth)&&(e.width=Math.min(e.width,t.innerWidth)),t.innerHeight&&!isNaN(t.innerHeight)&&(e.height=Math.min(e.height,t.innerHeight)),e.area=e.height*e.width,e},c=function t(e,n){var i=n,o=n.parent,r={width:0,height:0,left:0,right:0,top:0,bottom:0};return e&&((n=l(e,n)).width=n.right-n.left,n.height=n.bottom-n.top,r=n,i!==o&&((o=t(i.frameElement,o)).bottom<r.bottom&&(o.bottom<r.top&&(r.top=o.bottom),r.bottom=o.bottom),o.right<r.right&&(o.right<r.left&&(r.left=o.right),r.right=o.right),r.width=r.right-r.left,r.height=r.bottom-r.top)),r},l=function t(e,n){var i=n,o=n.parent,n={left:0,right:0,top:0,bottom:0};return e&&(e=e.getBoundingClientRect(),i!==o&&(n=t(i.frameElement,o)),n={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top}),n}}!function(d,c,o){function t(){}d.console=d.console||{log:t,warn:t,error:t,dir:t},Array.prototype.findIndex||(Array.prototype.findIndex=function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(e=n[r],t.call(o,e,r,n))return r;return-1}),Array.prototype.filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e,n,i,o=Object(this),r=o.length>>>0,a=[];if("function"!=typeof t)throw new TypeError;for(a=[],e=2<=arguments.length?arguments[1]:void 0,n=0;n<r;n++)n in o&&(i=o[n],t.call(e,i,n,o)&&a.push(i));return a}),d.requestAnimFrame=d.requestAnimFrame||d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(t){d.setTimeout(t,1e3/60)},d.cancelAFrame=d.cancelAnimationFrame||d.webkitCancelAnimationFrame||d.mozCancelAnimationFrame||d.oCancelAnimationFrame||function(t){d.clearTimeout(t)};var e=!1;function n(){}function i(){e||"loading"===c.readyState||(e=!0,d.setTimeout(function(){r(c)},0))}function r(t){for(var e,n=[],i=[],o=t.querySelectorAll("ins.adsbyfalcon"),r=0,a=o.length;r<a;r++){var d=o[r],c=d.getAttribute("data-ad-slot"),l=_(d.getAttribute("data-ad-sizes")),u=d.getAttribute("data-merge-position"),h=d.getAttribute("data-next-position"),s=d.getAttribute("data-next-merge-position"),f=d.offsetWidth||0,m=d.offsetHeight||0;!c||v(d,"processing")||y(d)||(n.push(c),2199!=(c=l?(l=function(t){var e,n=p().width;if(1===(e=t.filter(function(t){return n>=t.width})).length)return(e=(e=t.reverse().slice(0,2)).filter(function(t){return{}.hasOwnProperty.call(t,"slot")}))[0];var i=e.findIndex(function(t){return!t.slot&&t.width===n}),o=i-1,r=i+1,a=t[i].width;return 0===i?e[1]:e.length-1===i?e[o]:(t=e[o].width,i=e[r].width,Math.abs(i-a)<Math.abs(t-a)?e[r]:e[o])}((e=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push({resolution:e,slot:t[e],width:Math.floor(e.match(/^\d+/)[0]),height:Math.floor(e.match(/\d+$/)[0])});return n}(l),l=p(),e.concat([l]).sort(g))))?l.slot:c:c)&&1101!=c&&2268!=c?(i.push({id:c,width:f,height:m,element:d,mergePosition:u,nextPosition:h,nextMergePosition:s}),w(d)):(u=[{id:c,width:f,height:m,element:d,mergePosition:u}],w(d),b(u)))}n.length&&b(i)}function p(){var t=Math.max(d.innerWidth,c.documentElement.clientWidth);return{width:t=1017<=(t=793<=t&&t<=807?800:t)&&t<=1031?1024:t,height:Math.max(d.innerHeight,c.documentElement.clientHeight)}}function g(t,e){return t.width!==e.width?e.width>t.width?1:e.width<t.width?-1:0:e.height>t.height?1:e.height<t.height?-1:0}function a(t,e){(d._piq||[]).push(["trackEvent",t,e])}function l(t,e){var n=e.ad_list[0].type,i=e.ad_list[0].hashid;"3542"===e.ad_list[0].position_id&&a("slideopen-ad-sales_3542_336-280",t+"_"+n+"_desktop_"+i+"_v0"),"3342"===e.ad_list[0].position_id&&a("inread-ad-adn_3342_336-280",t+"_"+n+"_desktop_"+i+"_v0"),"2982"===e.ad_list[0].position_id&&a("backdrop-ad-sales_2982_336-280",t+"_"+n+"_mobile_"+i+"_v0"),"3372"===e.ad_list[0].position_id&&a("inread-ad-adn_3372_336-280",t+"_"+n+"_mobile_"+i+"_v0")}function u(t,e,n,i){if("false"===t.getAttribute("data-embed"))return t.innerHTML=i,function t(e){if("SCRIPT"===e.tagName)return e.parentNode.replaceChild(function(t){var e=c.createElement("script");e.text=t.innerHTML;for(var n=t.attributes.length-1;0<=n;n--)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}(e),e),e;var n=0,i=e.childNodes;for(d.pix&&"INS"===e.tagName&&e&&e.classList&&e.classList.add("pixnet-ad");n<i.length;)t(i[n++]);return e}(t),0;d.pix&&t&&t.classList&&t.classList.add("pixnet-ad");var o=c.createElement("iframe"),r="margin:0;padding:0;overflow:hidden;background-color:transparent;";o.setAttribute("allowfullscreen","auto"),o.setAttribute("style",r+"border:none;width:"+e+"px;height:"+n+"px;"),o.setAttribute("scrolling","no"),t.innerHTML="",t.appendChild(o),o.contentDocument.open(),o.contentDocument.write(i),o.contentDocument.body&&o.contentDocument.body.setAttribute("style",r),o.contentDocument.close()}function b(n){var t="11"!==m("preview_mib_fly_mobile_image_ad")?m("demo_ad_no"):"75ecc55cd322ced48ae2d4c7717a0891",e=t?"&demo_ad_no="+t:"",i=h("falcon:blogcategory"),o=h("falcon:articlecategory"),r=d.location.origin.match(/(\.[0-9a-z_]+\.(alpha|test)\.pixnet(\.work)?$)/)||"",t="https";r&&(t="http",r=r[0]),e=t+"://"+(function(){for(var t=c.getElementsByTagName("script"),e=/\/\/([^.]*falcon)-asset\.pixfs\.net/g,n=0,i=t.length;n<i;n++){var o=e.exec(t[n].getAttribute("src"));if(o)return o[1]}}()||"falcon")+".pixnet.net"+r+"/ad/json?"+function(t){for(var e,n,i="",o=0,r=t.length;o<r;o++)i=i+(e=t[o],void 0,n="",e.mergePosition&&(n=","+e.mergePosition),"pos[]="+e.id+","+e.width+","+e.height+n)+(o!==r-1?"&":"");return i}(n)+"&version=2&sdk_version=20210415v1&t="+(new Date).getTime()+e,i&&(e+="&blog_category="+i),o&&(e+="&article_category="+o),c.referrer&&(e+="&referrer="+encodeURI(c.referrer));o=new XMLHttpRequest;d.XDomainRequest&&((o=new XDomainRequest).onprogress=function(){},o.ontimeout=function(){},o.onerror=function(){}),o.onload=function(){var t,e=_(this.responseText);(t=e.ad_slots)&&t instanceof Array&&e.ad_slots.length&&function(t,e){for(;e.length;){for(var n=e.shift(),i=t.shift();n.pos_id!==i.id;)i=t.shift();if(i&&!y(i.element))if(0!==n.ad_num)l("load",n),("2982"===i.id&&0<n.ad_list.length&&"3372"===n.ad_list[0].position_id||"3372"===i.id)&&i.element.parentNode&&i.element.parentNode.classList.contains("in-read-ad--sticky")&&i.element.parentNode.parentNode.classList.remove("disable-sticky"),"2982"===i.id&&0<n.ad_list.length&&"2982"===n.ad_list[0].position_id&&d.location.hostname==="falcondemo.pixnet.net"+pix.domain_append&&"on"===m("is_ignore_backdrop")||(u(i.element,i.width,i.height,n.html),s(i.element),void 0!==d.pix&&(("3869"===n.pos_id||"3879"===n.pos_id||"3874"===n.pos_id||"3983"===n.pos_id)&&0<n.ad_list.length&&"js"===n.ad_list[0].type?(a=n,(new Image).src=a.ad_list[0].activeview_url):function e(n,i){var o=n.querySelector("[data-falcon-ad], [data-falcon-ad-video]")||n.querySelector("img, iframe"),r=function(t){return!!t.match(/backdrop/)}(n.innerHTML),a=function(t){return!!t.match(/oneadIRDFPTag/)}(n.innerHTML),d=function(t){return!!t.match(/truvid/)}(n.innerHTML),t=function(t){return!!t.match(/popIn_recommend/)}(n.innerHTML),c="load";!t||o?o?0!==i.ad_list.length&&(n.querySelector("[data-falcon-ad-video]")&&(c="loadedmetadata"),o.addEventListener(c,function t(){var e=n.querySelector("[data-falcon-ad-container]")||o;r&&(e=n.querySelector("div[data-type]")),a&&(e=n.querySelector("#video_click_area0")),x(e=d?n.querySelector(".trvd_video_player"):e,i),o.removeEventListener(c,t,!1)})):n.addEventListener("DOMSubtreeModified",function t(){(n.querySelector("[data-falcon-ad], [data-falcon-ad-video]")||n.querySelector("img, iframe"))&&(e(n,i),n.removeEventListener("DOMSubtreeModified",t,!1))}):n.addEventListener("DOMSubtreeModified",function t(){n.removeEventListener("DOMSubtreeModified",t,!1),x(n,i)})}(i.element,n)));else{if(!i.nextPosition){var o=i.element.getAttribute("data-ad-passback");if(""!=o&&"function"==typeof d[o]){s(i.element),d[o](i.element);continue}i.element.parentNode.removeChild(i.element),-1!==["3869","3879","3874","3884"].indexOf(i.id)&&(r=d,a="activateInReadSticky",o=void 0,(o=c.createEvent("HTMLEvents")).initEvent(a,!0,!0),r.dispatchEvent(o))}"1101"!==i.id&&"2199"!==i.id&&"2268"!==i.id||(c.querySelector("#main > .header-fixed-area").style.display="none"),i.nextPosition&&(i.id=i.nextPosition,i.mergePosition=i.nextMergePosition,i.nextPosition="",i.nextMergePosition="",b([i]))}}var r,a}(n,e.ad_slots)},o.addEventListener&&o.addEventListener("error",function(){},!1),o.open("get",e,!0),o.withCredentials=!0,o.send()}function h(t){t=c.querySelector('meta[property="'+t+'"]');return t&&t.getAttribute("content")}function w(t){return f(t,"processing")}function y(t){return v(t,"done")}function s(t){return f(t,"done")}function v(t,e){return!!t&&e===t.getAttribute("data-adsbyfalcon-status")}function f(t,e){return!!t&&t.setAttribute("data-adsbyfalcon-status",e)}function _(t){try{return JSON.parse(t)}catch(t){return{}}}function m(t){if(!t)return"";for(var e=d.location,n=(e.search.substring(1)||e.hash.split("?")[1]||"").split("&"),i=0;i<n.length;i++){var o=n[i].split("=");if(o[0]===t)return decodeURIComponent(o[1].replace(/\+/g," "))}return""}function x(t,e){var n=e.ad_list[0].activeview_url,i=new o;n&&i.checkViewability(t,function(t){t.viewabilityStatus&&((new Image).src=n,l("view",e))})}c.addEventListener("readystatechange",i),d.PIXFalcon=(n.prototype.placeAds=function(t){var e,n,i;if(c!==t){if(0!==(n=(e=c.querySelectorAll(t)).length))for(i=0;i<n;i++)r(e[i])}else r(c)},n.prototype.placeAdByNode=function(t){r(t)},n),i()}(window,document,function(){var f={percentObscured:0,percentViewable:0,acceptedViewablePercentage:50,viewabilityStatus:!1,duration:0};this.DEBUG_MODE=!1,this.checkViewability=function(i,o){var r=c(),a=this,d=window.requestAnimFrame(function t(){u(i)||(r=c(),l());var e=c()-r,n=(i.querySelector("[data-falcon-ad-video]")?2e3:1e3)<=e;f.duration=e,n?(f.viewabilityStatus=!0,a.DEBUG_MODE||window.cancelAFrame(d)):d=window.requestAnimFrame(t),o(f)});function c(){return"object"===t(window.performance)?window.performance.now():(new Date).getTime()}};var l=function(){f.percentObscured=0,f.duration=0,f.viewabilityStatus=!1},u=function(t){var e=t.getBoundingClientRect();return 242500<=e.width*e.height&&(f.acceptedViewablePercentage=30),!i(t)&&!o(t)&&!n(t).error&&!(f.percentViewable&&f.percentViewable<f.acceptedViewablePercentage)&&f.percentViewable},n=function(t){var e=new a;f.percentObscured=f.percentObscured||0;t=e.getViewabilityState(t,window);return t.error||(f.percentViewable=t.percentViewable-f.percentObscured),t},i=function(t){var e=window.getComputedStyle(t,null),t=e.getPropertyValue("visibility"),e=e.getPropertyValue("display");return"hidden"===t||"none"===e},o=function(t){var e,n=t.getBoundingClientRect(),i=n.left+12,o=n.right-12,r=Math.max(0,n.top+12),a=n.bottom-12,d=Math.floor(n.left+n.width/2),c=Math.floor(n.top+n.height/2),l=[{x:i,y:r},{x:d,y:r},{x:o,y:r},{x:i,y:c},{x:d,y:c},{x:o,y:c},{x:i,y:a},{x:d,y:a},{x:o,y:a}],u=[];for(e in l)if(l.hasOwnProperty(e)&&l[e]&&0<=l[e].x&&0<=l[e].y){var h=document.elementFromPoint(l[e].x,l[e].y);if(p(t,h)){var s=h.getBoundingClientRect();if(n.top>s.bottom)continue;s=g(n,s);if(0<s&&(m(u,h)||u.push({el:h,area:s}),f.percentObscured>100-f.acceptedViewablePercentage))return!0}}return f.percentObscured=0<u.length?100*u.map(function(t){return t.area}).reduce(function(t,e){return Math.max(t,e)}):0,f.percentViewable=100-f.percentObscured,!1},m=function(t,e){return 0<t.length&&t.map(function(t){return t.el}).some(function(t){return t===e})},p=function(t,e){return null!==e&&t!==e&&!t.contains(e)&&!e.contains(t)&&!r(t,e)},r=function(t,e){var n=e.nodeName,i=window.getComputedStyle(e,null),o=t.getBoundingClientRect(),t=e.getBoundingClientRect(),t=o.top===t.top&&o.bottom===t.bottom&&o.left===t.left&&o.right===t.right&&o.height===t.height&&o.width===t.width;return 0===e.childNodes.length&&("DIV"===n||"SPAN"===n)&&"none"===i.backgroundImage&&"none"===i.borderStyle&&"rgba(0, 0, 0, 0)"===i.backgroundColor&&t},g=function(t,e){var n=t.width*t.height;return Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top))/n}})}();

(window.webpackJsonp=window.webpackJsonp||[]).push([["homepageBeta"],{"37R3":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return W}));var i,r,o,a,c,s=n("KQm4"),l=n("HaE+"),u=n("1OyB"),f=n("vuIU"),p=n("Ji7U"),h=n("md7G"),d=n("foSv"),m=n("o0o1"),g=n.n(m),v=n("q1tI"),b=n.n(v),y=n("17x9"),w=n.n(y),x=n("/MKj"),O=n("Ty5D"),j=n("uKiO"),C=n("R1Km"),E=n("EEzn"),k=n("kPBI"),P=n("0uuS"),I=n("4bRF"),S=n("sY+D"),L=n("cLpb"),R=n("bbZa"),N=n("vOnD"),A=n("s56M"),_=n("c6vQ"),M=n("saK6"),G=n("o9Ry"),T=n("iuBv"),B=n("rDcX");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(h.a)(this,n)}}var H=N.d.div.withConfig({displayName:"homepage__Container",componentId:"iz3zf-0"})(["padding-top:4px;text-align:left;"]),F=N.d.div.withConfig({displayName:"homepage__BannerContainer",componentId:"iz3zf-1"})(["height:96px;margin-bottom:20px;"]),z=parseInt(G.grid12),W=(i=Object(I.a)(["banner","pingback_id"]),r=Object(x.b)((function(e){return{autoPlay:Object(L.c)(e),trendingStories:Object(L.I)(e),user:e.user}}),{fetchTrendingStories:S.h,fetchMoreStories:S.e}),Object(O.withRouter)(o=i(o=r((c=a=function(t){Object(p.a)(r,t);var n,i=D(r);function r(){var e;Object(u.a)(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).state={page:1,isFetching:!1,carouselGifs:[],artistGifs:[]},e.onLoadMore=Object(l.a)(g.a.mark((function t(){var n,i,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,i=n.page,!n.isFetching){t.next=3;break}return t.abrupt("return");case 3:return r=e.props.fetchMoreStories,e.setState({isFetching:!0}),t.next=7,r("trending",!0);case 7:Object(R.f)("/homepage/page/".concat(i+1)),e.setState({page:i+1,isFetching:!1});case 9:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(r,[{key:"componentDidMount",value:(n=Object(l.a)(g.a.mark((function e(){var t,n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,this.props.fetchTrendingStories)(void 0,!0),e.next=4,j.Gb.trending();case 4:return t=e.sent,n=t.data,e.next=8,Object(C.a)();case 8:i=e.sent,this.setState({carouselGifs:Object(s.a)(n),artistGifs:Object(s.a)(i)});case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,n=t.trendingStories,i=t.autoPlay,r=t.banner,o=t.user,a=t.pingbackId,c=this.state,s=c.isFetching,l=c.carouselGifs,u=c.artistGifs;return b.a.createElement(H,null,r&&b.a.createElement(F,null,b.a.createElement(E.a,r)),b.a.createElement(k.a,{gifs:l,title:"Trending",icon:b.a.createElement(T.d,null),seeAllLabel:"All The GIFs",isHomepage:!0,path:"/trending-gifs",height:140,styles:{margin:"25px 0 50px"},user:o,onClick:function(){Object(R.c)({category:"Homepage",action:"Click",label:"Trending Carousel"})}}),b.a.createElement(k.a,{noLink:!1,gifs:u,title:"Artists",path:"/artists",icon:b.a.createElement(T.a,null),seeAllLabel:"All GIPHY Artists",isHomepage:!0,height:269,isChannelCarousel:!0,styles:{margin:"25px 0 50px"},user:o,minItemWidth:200,onClick:function(){Object(R.c)({category:"Homepage",action:"Click",label:"Artist Carousel"})}}),e.optimizeContentBlocksHomepage&&b.a.createElement(A.a,{user:o,pingbackId:a}),b.a.createElement(_.a,{isHomepage:!0,label:"Videos",icon:b.a.createElement(T.b,null)}),b.a.createElement(B.a,{isHomepage:!0,label:"Stories",icon:b.a.createElement(T.c,null)}),b.a.createElement(M.a,{stories:n,columns:4,width:z,onLoadMore:this.onLoadMore,autoPlay:i,showEditMenu:!0}),b.a.createElement(P.a,{isFetching:s}))}}]),r}(v.PureComponent),a.propTypes={trendingStories:w.a.array,fetchTrendingStories:w.a.func.isRequired,fetchMoreStories:w.a.func.isRequired},o=c))||o)||o)||o)}.call(this,n("yLpj"))},c6vQ:function(e,t,n){"use strict";var i,r,o,a,c=n("q1tI"),s=n.n(c),l=n("ymkJ"),u=n("rDcX"),f=n("RG79"),p=n("X4/J"),h=n("vOnD"),d=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=h.d.div.withConfig({displayName:"VideoContainer",componentId:"sc-1uvvfnq"})(i||(i=d(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n"],["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 50px;\n"]))),g=h.d.div.withConfig({displayName:"Previews",componentId:"sc-z0fb4h"})(r||(r=d(["\n    display: flex;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex-direction: column;\n"]))),v=h.d.div.withConfig({displayName:"PrimaryVideoContainer",componentId:"sc-aextle"})(o||(o=d(["\n    display: flex;\n    flex-direction: column;\n\n    img {\n        object-fit: cover;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n\n    img {\n        object-fit: cover;\n    }\n"]))),b=Object(h.d)(f.a).withConfig({displayName:"LastVideoPreview",componentId:"sc-cxsxjo"})(a||(a=d(["\n    margin-top: auto;\n"],["\n    margin-top: auto;\n"])));t.a=function(e){var t=e.icon,n=Object(p.a)((function(e){return Object(l.a)({offset:e})})),i=n[0],r=n[1],o=i[0],a=i[1],h=i[2];return Object(c.useEffect)((function(){r()}),[]),o?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{label:"Clips",seeAllLabel:"All Clips",url:"/clips",icon:t}),s.a.createElement(m,null,s.a.createElement(v,null,s.a.createElement(f.a,{gif:o,width:739,showClipTitle:!0,showAttribution:!0})),s.a.createElement(g,null,a&&s.a.createElement(f.a,{gif:a,width:287,height:161.4375,showClipTitle:!0,showAttribution:!0}),h&&s.a.createElement(b,{gif:h,width:287,height:161.4375,showClipTitle:!0,showAttribution:!0})))):null}},kPBI:function(e,t,n){"use strict";var i=n("q1tI"),r=n.n(i),o=n("Ty5D"),a=n("rePB"),c=n("1OyB"),s=n("vuIU"),l=n("Ji7U"),u=n("md7G"),f=n("foSv"),p=n("17x9"),h=n.n(p),d=n("vOnD"),m=n("xCX0"),g=function(e){var t=e.color;return r.a.createElement("svg",{width:"15px",height:"30px",viewBox:"0 0 15 30",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{stroke:"none",fill:"none"},r.a.createElement("g",{transform:"translate(-1017.000000, -82.000000)",fill:t},r.a.createElement("g",null,r.a.createElement("g",{transform:"translate(1.000000, 27.000000)"},r.a.createElement("polygon",{points:"1031 70.0000018 1030.1866 69.0556352 1018.01759 55 1016 56.888726 1027.35562 70.0000018 1016 83.111274 1018.01759 85 1030.1866 70.9443648"}))))))},v=n("bhEy");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(u.a)(this,n)}}var y=d.d.div.withConfig({displayName:"fade-next-previous__Container",componentId:"sc-1okudgt-0"})(["width:1040px;height:","px;position:relative;overflow:hidden;"],(function(e){return e.height})),w=d.d.div.withConfig({displayName:"fade-next-previous__Navigation",componentId:"sc-1okudgt-1"})(["width:",";height:","px;position:absolute;z-index:100;display:flex;align-items:center;justify-content:flex-end;padding:0px 12px;background:linear-gradient(-90deg,rgba(18,18,18,0.75) 0%,rgba(18,18,18,0) 100%);opacity:",";transition:opacity 0.5s ease-out,width 0.5s ease-out;cursor:pointer;"],(function(e){return e.show?"50px":"0px"}),(function(e){return e.height}),(function(e){return e.show?"1":"0"})),x=Object(d.d)(w).withConfig({displayName:"fade-next-previous__Previous",componentId:"sc-1okudgt-2"})(["left:0;transform:rotate(180deg);"]),O=Object(d.d)(w).withConfig({displayName:"fade-next-previous__Next",componentId:"sc-1okudgt-3"})(["right:0;"]),j=function(e){Object(l.a)(n,e);var t=b(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showNext:!1,showPrevious:!1,fullWidth:0,hoverNext:!1,hoverPrevious:!1,pageOffsets:[],currentPage:0},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){e.items!==this.props.items&&this.fitItems(!0),e.scrollLeft!==this.props.scrollLeft&&this.fitItems(!1)}},{key:"fitItems",value:function(e){var t=this.props,n=t.height,i=t.width,r=t.items,o=void 0===r?[]:r,a=t.margin,c=void 0===a?6:a,s=t.scrollLeft,l=void 0===s?0:s,u=t.isVideo,f=void 0!==u&&u,p=this.state,h=p.fullWidth,d=p.pageOffsets,m=[],g=0,v=0;if(e){var b=0;m.push(0),o.forEach((function(e){var t=f?n*(16/9)+c:e.images.original.width*n/e.images.original.height+c;if(b+t<i)b+=t;else{var r=m[m.length-1]+Math.floor(b);m.push(r),b=t}g+=t})),m.push(m[m.length-1]+Math.floor(b))}else m=d,g=h;m.forEach((function(e,t){e<=l&&(v=t)})),this.setState({pageOffsets:m,fullWidth:g,currentPage:v,showNext:Math.floor(g-l-i)>0,showPrevious:l>0})}},{key:"navigate",value:function(e){var t=this.props,n=t.scrollLeft,i=t.setScrollLeft,r=t.width,o=this.state,a=o.currentPage,c=o.pageOffsets,s=o.fullWidth,l=a+e;if(l>-1&&l<c.length){var u=c[l];i(Math.min(u,s-r),n)}}},{key:"hover",value:function(e,t){this.setState(Object(a.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.height,o=this.state,a=o.showPrevious,c=o.showNext,s=o.hoverPrevious,l=o.hoverNext;return r.a.createElement(y,{height:i},r.a.createElement(x,{onClick:function(){return e.navigate(-1)},show:a,height:i,onMouseEnter:function(){return e.hover("hoverPrevious",!0)},onMouseLeave:function(){return e.hover("hoverPrevious",!1)}},r.a.createElement(g,{color:s?v.C.giphyWhite:v.C.giphyLightGrey})),r.a.createElement(O,{onClick:function(){return e.navigate(1)},show:c,height:i,onMouseEnter:function(){return e.hover("hoverNext",!0)},onMouseLeave:function(){return e.hover("hoverNext",!1)}},r.a.createElement(g,{color:l?v.C.giphyWhite:v.C.giphyLightGrey})),n)}}]),n}(i.PureComponent);j.propTypes={items:h.a.arrayOf(m.a),width:h.a.number,height:h.a.number,isVideo:h.a.bool};var C,E,k=n("r2b9"),P=n("mnxI"),I=n("jBXu"),S=n("GsUM"),L=n("rDcX"),R=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},N=(C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),A=Object(d.d)(S.a).withConfig({displayName:"SectionHeader",componentId:"sc-lvorej"})(E||(E=R(["\n    margin-bottom: 6px;\n"],["\n    margin-bottom: 6px;\n"]))),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPosition:0},t.setScrollLeft=function(e,n){void 0!==n?Object(I.tween)({from:{x:n},to:{x:e},duration:700,easing:"easeInOutQuart",step:function(e){return t.setState({scrollPosition:e.x})}}):t.setState({scrollPosition:e})},t.saveRef=function(e){t.savedRef=e},t}return N(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state.scrollPosition;null!==this.savedRef&&t.scrollPosition!==n&&(this.savedRef.scrollLeft=n)},t.prototype.render=function(){var e=this,t=this.props,n=t.gifs,i=t.width,o=void 0===i?1040:i,a=t.height,c=void 0===a?100:a,s=t.path,l=t.title,u=t.styles,f=t.isVideo,p=t.onClick,h=t.history,d=t.minItemWidth,m=t.noLink,g=void 0===m||m,v=t.isChannelCarousel,b=void 0!==v&&v,y=t.icon,w=t.isHomepage,x=void 0!==w&&w,O=t.seeAllLabel,C=this.state.scrollPosition;return r.a.createElement("div",{style:u},x?r.a.createElement(L.a,{label:l,seeAllLabel:O,url:s,icon:y}):r.a.createElement(A,{label:l,seeAllLabel:O,url:s}),r.a.createElement(j,{width:o,height:c,items:n,setScrollLeft:this.setScrollLeft,scrollLeft:C,isVideo:f},r.a.createElement(k.a,{noLink:g,isChannelCarousel:b,gifs:n,height:c,minItemWidth:d,onClick:f||!g?void 0:function(e,t){e.preventDefault(),h.push(Object(P.f)(t.url)),null==p||p(e,t)},onScroll:function(t){return e.setScrollLeft(t.currentTarget.scrollLeft)},saveRef:this.saveRef})))},t}(i.PureComponent);t.a=Object(o.withRouter)(_)},o9Ry:function(e,t,n){var i=n("vzFC");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},s56M:function(e,t,n){"use strict";var i,r,o,a,c=n("q1tI"),s=n.n(c),l=n("uKiO"),u=n("kPBI"),f=n("oJrv"),p=n("fdid"),h=n("1h47"),d=n("t+uw"),m=n("ALA/"),g=n("bbZa"),v=n("vOnD"),b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},w=function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},x=v.d.div.withConfig({displayName:"Container",componentId:"sc-sbrjgd"})(i||(i=b(["\n    padding-bottom: 40px;\n"],["\n    padding-bottom: 40px;\n"]))),O=Object(v.d)(p.a).withConfig({displayName:"PopularSearches",componentId:"sc-tdr23r"})(r||(r=b(["\n    margin-bottom: 60px;\n"],["\n    margin-bottom: 60px;\n"]))),j=Object(v.d)(f.a).withConfig({displayName:"Artists",componentId:"sc-140b9vu"})(o||(o=b(["\n    margin-bottom: 60px;\n"],["\n    margin-bottom: 60px;\n"]))),C=Object(v.d)(h.a).withConfig({displayName:"Reactions",componentId:"sc-9ws8es"})(a||(a=b(["\n    margin-bottom: 60px;\n"],["\n    margin-bottom: 60px;\n"])));t.a=function(){var e=Object(c.useState)(),t=e[0],n=e[1],i=Object(c.useContext)(d.a).receivedGifs;return Object(m.a)((function(){return y(void 0,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return[4,l.Gb.trending({type:"stickers"})];case 1:return e=t.sent().data,i({gifs:e}),n(e),[2]}}))}))}),[]),s.a.createElement(x,null,s.a.createElement(O,{width:1040}),s.a.createElement(C,{width:1040}),s.a.createElement(j,{width:1040}),t&&s.a.createElement(u.a,{gifs:t,title:"Trending Stickers",path:"/stickers",height:140,styles:{margin:"25px 0 50px"},onClick:function(){Object(g.c)({category:"Homepage",action:"Click",label:"Trending Stickers Carousel"})}}))}}}]);
//# sourceMappingURL=homepageBeta.d88bccee.bundle.js.map
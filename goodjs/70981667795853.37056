!function(){"use strict";function i(e){e=document.cookie.match(new RegExp("(^|;) ?".concat(e,"=([^;]*)(;|$)")));return e?e[2]:void 0}function e(){var e=(a=null!==(r=null===window||void 0===window?void 0:window.utag_data)&&void 0!==r?r:{}).user_ref,t=a.user_type,n=a.user_tags,r=void 0===(o=a.user_exp)?"no-data":o,o=void 0===(o=a.profiles_propensity_score)?0:o,a=void 0===(a=a.profiles_propensity_quantile)?0:a;return{user_ref:void 0===e?"no-data":e,user_type:void 0===t?"no-data":t,user_tags:(n=void 0===n?"no-data":n,Array.isArray(n)?n.filter(function(e){return"string"==typeof e}).join():"string"==typeof n?n:"no-data"),user_exp:r,profiles_propensity_score:o,profiles_propensity_quantile:a}}function t(){return{schema:"iglu:com.wsj.archimedes/article_info/jsonschema/".concat("1-0-0"),data:(e=null!==(m=null===window||void 0===window?void 0:window.utag_data)&&void 0!==m?m:{},t=e.article_author,n=e.article_embedded_count,r=e.article_format,o=void 0===r?"no-data":r,a=e.article_id,i=void 0===a?"no-data":a,c=e.article_image_count,s=void 0===c?0:c,u=e.article_internal_link_count,l=void 0===u?0:u,f=e.article_headline,d=void 0===f?"no-data":f,p=e.article_headline_orig,m=void 0===p?"no-data":p,r=e.article_keywords,a=void 0===r?"no-data":r,c=e.article_publish,u=void 0===c?"no-data":c,f=e.article_publish_orig,p=void 0===f?"no-data":f,r=e.article_template,c=void 0===r?"no-data":r,f=e.article_type,r=void 0===f?"no-data":f,f=void 0===(f=e.article_word_count)?0:f,e=void 0===(e=e.article_video_count)?0:e,{article_author:void 0===t?"no-data":t,article_embedded_count:Number(void 0===n?0:n),article_format:o,article_id:i,article_image_count:Number(s),article_internal_link_count:Number(l),article_headline:d,article_headline_orig:m,article_keywords:a,article_publish:u,article_publish_orig:p,article_template:c,article_type:r,article_word_count:Number(f),article_video_count:Number(e)})};var e,t,n,r,o,a,i,c,s,u,l,f,d,p,m}function n(){return{schema:"iglu:com.wsj.archimedes/page_info/jsonschema/".concat("1-0-0"),data:(e=null!==(p=null===window||void 0===window?void 0:window.utag_data)&&void 0!==p?p:{},t=e.cms_name,n=e.page_access,r=e.page_content_language,o=e.page_content_region,a=e.page_content_source,i=e.page_content_type,c=e.page_content_type_detail,s=e.page_section,u=e.page_site,l=e.page_site_product,f=e.page_subsection,d=e.page_title,p=e.previous_section,e=e.page_id,{cms_name:void 0===t?"no-data":t,page_access:void 0===n?"no-data":n,page_content_language:void 0===r?"no-data":r,page_content_region:void 0===o?"no-data":o,page_content_source:void 0===a?"no-data":a,page_content_type:void 0===i?"no-data":i,page_content_type_detail:void 0===c?"no-data":c,page_section:void 0===s?"no-data":s,page_site:void 0===u?"no-data":u,page_site_product:void 0===l?"no-data":l,page_subsection:void 0===f?"no-data":f,page_title:void 0===d?"no-data":d,previous_section:void 0===p?"no-data":p,page_id:void 0===e?"no-data":e})};var e,t,n,r,o,a,i,c,s,u,l,f,d,p}function r(){return{schema:"iglu:com.wsj.archimedes/cxense_info/jsonschema/".concat("1-0-0"),data:(e=null!==(o=null===window||void 0===window?void 0:window.utag_data)&&void 0!==o?o:{},t=e.cx_shield_bucket,n=e.cx_shield_campaign,r=void 0===n?0:n,o=e.cx_shield_placement,n=void 0===o?"no-data":o,o=void 0===(o=e.cx_shield_tag)?"no-data":o,e=void 0===(e=e.cx_shield_type)?"no-data":e,{cx_shield_bucket:Number(void 0===t?0:t),cx_shield_campaign:Number(r),cx_shield_placement:n,cx_shield_tag:o,cx_shield_type:e})};var e,t,n,r,o}function c(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})):t).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e})}return r}var s;function o(){return{schema:"iglu:com.wsj.archimedes/ncg_info/jsonschema/".concat("1-0-0"),data:c({},(e=null!==(a=null===window||void 0===window?void 0:window.ncg_data)&&void 0!==a?a:{},t=e.browser_analytics_id,n=void 0===t?"no-data":t,r=e.country,o=e.match_id,a=e.user_id,t=e.user_provider,e=e.user_memtype,{browser_analytics_id:null!=n?n:"no-data",country:void 0===r?"no-data":r,match_id:void 0===o?"no-data":o,user_id:void 0===a?"no-data":a,user_provider:void 0===t?"no-data":t,user_memtype:void 0===e?"no-data":e}),{ncg_id:null!==(s=i("_ncg_id_"))&&void 0!==s?s:"no-data",ncg_g_id:null!==(s=i("_ncg_g_id_"))&&void 0!==s?s:"no-data"})};var e,t,n,r,o,a}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,l,f;function d(e){var t=e.collectorEndpoint,n=e.appId,r=e.minimumVisitLength,r=void 0===r?10:r,e=e.heartbeat,e=void 0===e?10:e;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,d),this.collectorEndpoint=t,this.minimumVisitLength=r,this.heartbeat=e,this.snowplowName="am_snowplow";r="".concat(this.snowplowName,"_").concat(n),e="_am_sp_".concat(n);this.registerToGlobalScope(),this.tracker=window[this.snowplowName],this.tracker("newTracker",r,this.collectorEndpoint,{appId:n,platform:"web",cookieName:e,forceSecureTracker:!0,respectDoNotTrack:!0,contexts:{webPage:!0,performanceTiming:!1},encodeBase64:!1})}function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ft(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(o,!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):p(o).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}new(u=d,(l=[{key:"registerToGlobalScope",value:function(){window[this.snowplowName]||(window.GlobalSnowplowNamespace=window.GlobalSnowplowNamespace||[],window.GlobalSnowplowNamespace.push(this.snowplowName),window[this.snowplowName]=function(){(window[this.snowplowName].q=window[this.snowplowName].q||[]).push(arguments)},window[this.snowplowName].q=window[this.snowplowName].q||[])}},{key:"start",value:function(){this.tracker("enableActivityTracking",this.minimumVisitLength,this.heartbeat),this.tracker("trackPageView","PageView",[t(),r(),o(),n(),{schema:"iglu:com.wsj.archimedes/user_info/jsonschema/".concat("1-0-0"),data:e()}])}}])&&a(u.prototype,l),f&&a(u,f),d)({collectorEndpoint:"am.wsj.com",heartbeat:10,minimumVisitLength:10,appId:"djcs"}).start(),function r(o,a,i){function c(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}n=a[t]={exports:{}};o[t][0].call(n.exports,function(e){return c(o[t][1][e]||e)},n,n.exports,r,o,a,i)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<i.length;e++)c(i[e]);return c}({1:[function(e,t,n){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=r},{}],2:[function(e,t,n){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(a.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((a.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|a.indexOf(e.charAt(n))>>>6-2*r);return t}};t.exports=r},{}],3:[function(e,t,n){function r(e){e=-e.getTimezoneOffset();return null!==e?e:0}function o(e,t,n){var r=new Date;return void 0!==e&&r.setFullYear(e),r.setMonth(t),r.setDate(n),r}function a(e){return r(o(e,0,2))}function i(e){return r(o(e,5,2))}var c;(c={determine:function(){var e,t,n,e=(e=a(),t=i(),(n=e-t)<0?e+",1":0<n?t+",1,s":e+",0");return new c.TimeZone(c.olson.timezones[e])},date_is_dst:function(e){var t=7<e.getMonth(),n=(t?i:a)(e.getFullYear()),e=n-r(e);return n<0||t?0!=e:e<0},dst_start_for:function(e){var t=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":t,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":t,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[e]}}).TimeZone=function(e){var o={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},a=e;return void 0!==o[a]&&function(){var e,t=o[a],n=t.length,r=0;for(t[0];r<n;r+=1)if(e=t[r],c.date_is_dst(c.dst_start_for(e)))return a=e}(),{name:function(){return a}}},c.olson={},c.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},void 0!==n?n.jstz=c:this.jstz=c},{}],4:[function(e,t,n){e=e("./_getNative")(e("./_root"),"DataView");t.exports=e},{"./_getNative":67,"./_root":104}],5:[function(e,t,n){var r=e("./_hashClear"),o=e("./_hashDelete"),a=e("./_hashGet"),i=e("./_hashHas"),e=e("./_hashSet");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=e,t.exports=c},{"./_hashClear":74,"./_hashDelete":75,"./_hashGet":76,"./_hashHas":77,"./_hashSet":78}],6:[function(e,t,n){var r=e("./_listCacheClear"),o=e("./_listCacheDelete"),a=e("./_listCacheGet"),i=e("./_listCacheHas"),e=e("./_listCacheSet");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=e,t.exports=c},{"./_listCacheClear":86,"./_listCacheDelete":87,"./_listCacheGet":88,"./_listCacheHas":89,"./_listCacheSet":90}],7:[function(e,t,n){e=e("./_getNative")(e("./_root"),"Map");t.exports=e},{"./_getNative":67,"./_root":104}],8:[function(e,t,n){var r=e("./_mapCacheClear"),o=e("./_mapCacheDelete"),a=e("./_mapCacheGet"),i=e("./_mapCacheHas"),e=e("./_mapCacheSet");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=e,t.exports=c},{"./_mapCacheClear":91,"./_mapCacheDelete":92,"./_mapCacheGet":93,"./_mapCacheHas":94,"./_mapCacheSet":95}],9:[function(e,t,n){e=e("./_getNative")(e("./_root"),"Promise");t.exports=e},{"./_getNative":67,"./_root":104}],10:[function(e,t,n){e=e("./_getNative")(e("./_root"),"Set");t.exports=e},{"./_getNative":67,"./_root":104}],11:[function(e,t,n){var r=e("./_MapCache"),o=e("./_setCacheAdd"),e=e("./_setCacheHas");function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=e,t.exports=a},{"./_MapCache":8,"./_setCacheAdd":105,"./_setCacheHas":106}],12:[function(e,t,n){var r=e("./_ListCache"),o=e("./_stackClear"),a=e("./_stackDelete"),i=e("./_stackGet"),c=e("./_stackHas"),e=e("./_stackSet");function s(e){e=this.__data__=new r(e);this.size=e.size}s.prototype.clear=o,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=c,s.prototype.set=e,t.exports=s},{"./_ListCache":6,"./_stackClear":108,"./_stackDelete":109,"./_stackGet":110,"./_stackHas":111,"./_stackSet":112}],13:[function(e,t,n){e=e("./_root").Symbol;t.exports=e},{"./_root":104}],14:[function(e,t,n){e=e("./_root").Uint8Array;t.exports=e},{"./_root":104}],15:[function(e,t,n){e=e("./_getNative")(e("./_root"),"WeakMap");t.exports=e},{"./_getNative":67,"./_root":104}],16:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},{}],17:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},{}],18:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},{}],19:[function(e,t,n){var l=e("./_baseTimes"),f=e("./isArguments"),d=e("./isArray"),p=e("./isBuffer"),m=e("./_isIndex"),h=e("./isTypedArray"),g=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n,r=d(e),o=!r&&f(e),a=!r&&!o&&p(e),i=!r&&!o&&!a&&h(e),c=r||o||a||i,s=c?l(e.length,String):[],u=s.length;for(n in e)!t&&!g.call(e,n)||c&&("length"==n||a&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||m(n,u))||s.push(n);return s}},{"./_baseTimes":49,"./_isIndex":79,"./isArguments":127,"./isArray":128,"./isBuffer":130,"./isTypedArray":139}],20:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},{}],21:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},{}],22:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},{}],23:[function(e,t,n){var r=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},{"./eq":117}],24:[function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":59}],25:[function(e,t,n){var r=e("./_baseForOwn"),r=e("./_createBaseEach")(r);t.exports=r},{"./_baseForOwn":30,"./_createBaseEach":56}],26:[function(e,t,n){var a=e("./_baseEach");t.exports=function(e,r){var o=!0;return a(e,function(e,t,n){return o=!!r(e,t,n)}),o}},{"./_baseEach":25}],27:[function(e,t,n){var a=e("./_baseEach");t.exports=function(e,r){var o=[];return a(e,function(e,t,n){r(e,t,n)&&o.push(e)}),o}},{"./_baseEach":25}],28:[function(e,t,n){t.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},{}],29:[function(e,t,n){e=e("./_createBaseFor")();t.exports=e},{"./_createBaseFor":57}],30:[function(e,t,n){var r=e("./_baseFor"),o=e("./keys");t.exports=function(e,t){return e&&r(e,t,o)}},{"./_baseFor":29,"./keys":141}],31:[function(e,t,n){var o=e("./_castPath"),a=e("./_toKey");t.exports=function(e,t){for(var n=0,r=(t=o(t,e)).length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}},{"./_castPath":54,"./_toKey":114}],32:[function(e,t,n){var r=e("./_arrayPush"),o=e("./isArray");t.exports=function(e,t,n){t=t(e);return o(e)?t:r(t,n(e))}},{"./_arrayPush":21,"./isArray":128}],33:[function(e,t,n){var r=e("./_Symbol"),o=e("./_getRawTag"),a=e("./_objectToString"),i=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(i&&i in Object(e)?o:a)(e)}},{"./_Symbol":13,"./_getRawTag":69,"./_objectToString":102}],34:[function(e,t,n){var r=Object.prototype.hasOwnProperty;t.exports=function(e,t){return null!=e&&r.call(e,t)}},{}],35:[function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],36:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isObjectLike");t.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},{"./_baseGetTag":33,"./isObjectLike":135}],37:[function(e,t,n){var i=e("./_baseIsEqualDeep"),c=e("./isObjectLike");t.exports=function e(t,n,r,o,a){return t===n||(null==t||null==n||!c(t)&&!c(n)?t!=t&&n!=n:i(t,n,r,o,e,a))}},{"./_baseIsEqualDeep":38,"./isObjectLike":135}],38:[function(e,t,n){var f=e("./_Stack"),d=e("./_equalArrays"),p=e("./_equalByTag"),m=e("./_equalObjects"),h=e("./_getTag"),g=e("./isArray"),v=e("./isBuffer"),_=e("./isTypedArray"),y="[object Arguments]",b="[object Array]",w="[object Object]",k=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,r,o,a){var i=g(e),c=g(t),s=i?b:h(e),u=c?b:h(t),l=(s=s==y?w:s)==w,c=(u=u==y?w:u)==w,u=s==u;if(u&&v(e)){if(!v(t))return!1;l=!(i=!0)}if(u&&!l)return a=a||new f,i||_(e)?d(e,t,n,r,o,a):p(e,t,s,n,r,o,a);if(!(1&n)){l=l&&k.call(e,"__wrapped__"),c=c&&k.call(t,"__wrapped__");if(l||c)return o(l?e.value():e,c?t.value():t,n,r,a=a||new f)}return u&&(a=a||new f,m(e,t,n,r,o,a))}},{"./_Stack":12,"./_equalArrays":60,"./_equalByTag":61,"./_equalObjects":62,"./_getTag":71,"./isArray":128,"./isBuffer":130,"./isTypedArray":139}],39:[function(e,t,n){var p=e("./_Stack"),m=e("./_baseIsEqual");t.exports=function(e,t,n,r){var o=n.length,a=o,i=!r;if(null==e)return!a;for(e=Object(e);o--;){var c=n[o];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var s=(c=n[o])[0],u=e[s],l=c[1];if(i&&c[2]){if(void 0===u&&!(s in e))return!1}else{var f,d=new p;if(!(void 0===(f=r?r(u,l,s,e,t,d):f)?m(l,u,3,r,d):f))return!1}}return!0}},{"./_Stack":12,"./_baseIsEqual":37}],40:[function(e,t,n){var r=e("./isFunction"),o=e("./_isMasked"),a=e("./isObject"),i=e("./_toSource"),c=/^\[object .+?Constructor\]$/,s=Function.prototype,e=Object.prototype,s=s.toString,e=e.hasOwnProperty,u=RegExp("^"+s.call(e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||o(e))&&(r(e)?u:c).test(i(e))}},{"./_isMasked":83,"./_toSource":115,"./isFunction":132,"./isObject":134}],41:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isLength"),a=e("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},{"./_baseGetTag":33,"./isLength":133,"./isObjectLike":135}],42:[function(e,t,n){var r=e("./_baseMatches"),o=e("./_baseMatchesProperty"),a=e("./identity"),i=e("./isArray"),c=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==q(e)?i(e)?o(e[0],e[1]):r(e):c(e)}},{"./_baseMatches":45,"./_baseMatchesProperty":46,"./identity":126,"./isArray":128,"./property":145}],43:[function(e,t,n){var r=e("./_isPrototype"),o=e("./_nativeKeys"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t,n=[];for(t in Object(e))a.call(e,t)&&"constructor"!=t&&n.push(t);return n}},{"./_isPrototype":84,"./_nativeKeys":100}],44:[function(e,t,n){var i=e("./_baseEach"),c=e("./isArrayLike");t.exports=function(e,r){var o=-1,a=c(e)?Array(e.length):[];return i(e,function(e,t,n){a[++o]=r(e,t,n)}),a}},{"./_baseEach":25,"./isArrayLike":129}],45:[function(e,t,n){var r=e("./_baseIsMatch"),o=e("./_getMatchData"),a=e("./_matchesStrictComparable");t.exports=function(t){var n=o(t);return 1==n.length&&n[0][2]?a(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}},{"./_baseIsMatch":39,"./_getMatchData":66,"./_matchesStrictComparable":97}],46:[function(e,t,n){var o=e("./_baseIsEqual"),a=e("./get"),i=e("./hasIn"),c=e("./_isKey"),s=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),l=e("./_toKey");t.exports=function(n,r){return c(n)&&s(r)?u(l(n),r):function(e){var t=a(e,n);return void 0===t&&t===r?i(e,n):o(r,t,3)}}},{"./_baseIsEqual":37,"./_isKey":81,"./_isStrictComparable":85,"./_matchesStrictComparable":97,"./_toKey":114,"./get":123,"./hasIn":125}],47:[function(e,t,n){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},{}],48:[function(e,t,n){var r=e("./_baseGet");t.exports=function(t){return function(e){return r(e,t)}}},{"./_baseGet":31}],49:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},{}],50:[function(e,t,n){var r=e("./_Symbol"),o=e("./_arrayMap"),a=e("./isArray"),i=e("./isSymbol"),r=r?r.prototype:void 0,c=r?r.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},{"./_Symbol":13,"./_arrayMap":20,"./isArray":128,"./isSymbol":138}],51:[function(e,t,n){t.exports=function(t){return function(e){return t(e)}}},{}],52:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],53:[function(e,t,n){var r=e("./identity");t.exports=function(e){return"function"==typeof e?e:r}},{"./identity":126}],54:[function(e,t,n){var r=e("./isArray"),o=e("./_isKey"),a=e("./_stringToPath"),i=e("./toString");t.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},{"./_isKey":81,"./_stringToPath":113,"./isArray":128,"./toString":151}],55:[function(e,t,n){e=e("./_root")["__core-js_shared__"];t.exports=e},{"./_root":104}],56:[function(e,t,n){var c=e("./isArrayLike");t.exports=function(a,i){return function(e,t){if(null==e)return e;if(!c(e))return a(e,t);for(var n=e.length,r=i?n:-1,o=Object(e);(i?r--:++r<n)&&!1!==t(o[r],r,o););return e}}},{"./isArrayLike":129}],57:[function(e,t,n){t.exports=function(s){return function(e,t,n){for(var r=-1,o=Object(e),a=n(e),i=a.length;i--;){var c=a[s?i:++r];if(!1===t(o[c],c,o))break}return e}}},{}],58:[function(e,t,n){var i=e("./_baseIteratee"),c=e("./isArrayLike"),s=e("./keys");t.exports=function(a){return function(e,t,n){var r,o=Object(e);c(e)||(r=i(t,3),e=s(e),t=function(e){return r(o[e],e,o)});n=a(e,t,n);return-1<n?o[r?e[n]:n]:void 0}}},{"./_baseIteratee":42,"./isArrayLike":129,"./keys":141}],59:[function(e,t,n){var r=e("./_getNative"),e=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=e},{"./_getNative":67}],60:[function(e,t,n){var h=e("./_SetCache"),g=e("./_arraySome"),v=e("./_cacheHas");t.exports=function(e,t,n,r,o,a){var i=1&n,c=e.length,s=t.length;if(c!=s&&!(i&&c<s))return!1;s=a.get(e);if(s&&a.get(t))return s==t;var u=-1,l=!0,f=2&n?new h:void 0;for(a.set(e,t),a.set(t,e);++u<c;){var d,p=e[u],m=t[u];if(void 0!==(d=r?i?r(m,p,u,t,e,a):r(p,m,u,e,t,a):d)){if(d)continue;l=!1;break}if(f){if(!g(t,function(e,t){if(!v(f,t)&&(p===e||o(p,e,n,r,a)))return f.push(t)})){l=!1;break}}else if(p!==m&&!o(p,m,n,r,a)){l=!1;break}}return a.delete(e),a.delete(t),l}},{"./_SetCache":11,"./_arraySome":22,"./_cacheHas":52}],61:[function(e,t,n){var r=e("./_Symbol"),u=e("./_Uint8Array"),l=e("./eq"),f=e("./_equalArrays"),d=e("./_mapToArray"),p=e("./_setToArray"),r=r?r.prototype:void 0,m=r?r.valueOf:void 0;t.exports=function(e,t,n,r,o,a,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new u(e),new u(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=d;case"[object Set]":c=c||p;if(e.size!=t.size&&!(1&r))return!1;var s=i.get(e);if(s)return s==t;r|=2,i.set(e,t);c=f(c(e),c(t),r,o,a,i);return i.delete(e),c;case"[object Symbol]":if(m)return m.call(e)==m.call(t)}return!1}},{"./_Symbol":13,"./_Uint8Array":14,"./_equalArrays":60,"./_mapToArray":96,"./_setToArray":107,"./eq":117}],62:[function(e,t,n){var _=e("./_getAllKeys"),y=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,r,o,a){var i=1&n,c=_(e),s=c.length;if(s!=_(t).length&&!i)return!1;for(var u=s;u--;){var l=c[u];if(!(i?l in t:y.call(t,l)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var d=!0;a.set(e,t),a.set(t,e);for(var p,m=i;++u<s;){var h,g=e[l=c[u]],v=t[l];if(!(void 0===(h=r?i?r(v,g,l,t,e,a):r(g,v,l,e,t,a):h)?g===v||o(g,v,n,r,a):h)){d=!1;break}m=m||"constructor"==l}return!d||m||(p=e.constructor)!=(f=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof p&&p instanceof p&&"function"==typeof f&&f instanceof f)&&(d=!1),a.delete(e),a.delete(t),d}},{"./_getAllKeys":64}],63:[function(e,t,n){!function(e){e="object"==q(e)&&e&&e.Object===Object&&e;t.exports=e}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],64:[function(e,t,n){var r=e("./_baseGetAllKeys"),o=e("./_getSymbols"),a=e("./keys");t.exports=function(e){return r(e,a,o)}},{"./_baseGetAllKeys":32,"./_getSymbols":70,"./keys":141}],65:[function(e,t,n){var r=e("./_isKeyable");t.exports=function(e,t){e=e.__data__;return r(t)?e["string"==typeof t?"string":"hash"]:e.map}},{"./_isKeyable":82}],66:[function(e,t,n){var a=e("./_isStrictComparable"),i=e("./keys");t.exports=function(e){for(var t=i(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,a(o)]}return t}},{"./_isStrictComparable":85,"./keys":141}],67:[function(e,t,n){var r=e("./_baseIsNative"),o=e("./_getValue");t.exports=function(e,t){t=o(e,t);return r(t)?t:void 0}},{"./_baseIsNative":40,"./_getValue":72}],68:[function(e,t,n){e=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=e},{"./_overArg":103}],69:[function(e,t,n){var r=e("./_Symbol"),e=Object.prototype,a=e.hasOwnProperty,i=e.toString,c=r?r.toStringTag:void 0;t.exports=function(e){var t=a.call(e,c),n=e[c];try{var r=!(e[c]=void 0)}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}},{"./_Symbol":13}],70:[function(e,t,n){var r=e("./_arrayFilter"),e=e("./stubArray"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,e=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:e;t.exports=e},{"./_arrayFilter":18,"./stubArray":146}],71:[function(e,t,n){var r=e("./_DataView"),o=e("./_Map"),a=e("./_Promise"),i=e("./_Set"),c=e("./_WeakMap"),s=e("./_baseGetTag"),u=e("./_toSource"),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",m="[object DataView]",h=u(r),g=u(o),v=u(a),_=u(i),y=u(c),e=s;(r&&e(new r(new ArrayBuffer(1)))!=m||o&&e(new o)!=l||a&&e(a.resolve())!=f||i&&e(new i)!=d||c&&e(new c)!=p)&&(e=function(e){var t=s(e),e="[object Object]"==t?e.constructor:void 0,e=e?u(e):"";if(e)switch(e){case h:return m;case g:return l;case v:return f;case _:return d;case y:return p}return t}),t.exports=e},{"./_DataView":4,"./_Map":7,"./_Promise":9,"./_Set":10,"./_WeakMap":15,"./_baseGetTag":33,"./_toSource":115}],72:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],73:[function(e,t,n){var c=e("./_castPath"),s=e("./isArguments"),u=e("./isArray"),l=e("./_isIndex"),f=e("./isLength"),d=e("./_toKey");t.exports=function(e,t,n){for(var r=-1,o=(t=c(t,e)).length,a=!1;++r<o;){var i=d(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&f(o)&&l(i,o)&&(u(e)||s(e))}},{"./_castPath":54,"./_isIndex":79,"./_toKey":114,"./isArguments":127,"./isArray":128,"./isLength":133}],74:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":99}],75:[function(e,t,n){t.exports=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e}},{}],76:[function(e,t,n){var r=e("./_nativeCreate"),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},{"./_nativeCreate":99}],77:[function(e,t,n){var r=e("./_nativeCreate"),o=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},{"./_nativeCreate":99}],78:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":99}],79:[function(e,t,n){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=q(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&-1<e&&e%1==0&&e<t}},{}],80:[function(e,t,n){var o=e("./eq"),a=e("./isArrayLike"),i=e("./_isIndex"),c=e("./isObject");t.exports=function(e,t,n){if(!c(n))return!1;var r=q(t);return!!("number"==r?a(n)&&i(t,n.length):"string"==r&&t in n)&&o(n[t],e)}},{"./_isIndex":79,"./eq":117,"./isArrayLike":129,"./isObject":134}],81:[function(e,t,n){var r=e("./isArray"),o=e("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=q(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||i.test(e)||!a.test(e)||null!=t&&e in Object(t)}},{"./isArray":128,"./isSymbol":138}],82:[function(e,t,n){t.exports=function(e){var t=q(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],83:[function(e,t,n){var e=e("./_coreJsData"),r=(e=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";t.exports=function(e){return!!r&&r in e}},{"./_coreJsData":55}],84:[function(e,t,n){var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},{}],85:[function(e,t,n){var r=e("./isObject");t.exports=function(e){return e==e&&!r(e)}},{"./isObject":134}],86:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],87:[function(e,t,n){var r=e("./_assocIndexOf"),o=Array.prototype.splice;t.exports=function(e){var t=this.__data__,e=r(t,e);return!(e<0||(e==t.length-1?t.pop():o.call(t,e,1),--this.size,0))}},{"./_assocIndexOf":23}],88:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,e=r(t,e);return e<0?void 0:t[e][1]}},{"./_assocIndexOf":23}],89:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){return-1<r(this.__data__,e)}},{"./_assocIndexOf":23}],90:[function(e,t,n){var o=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},{"./_assocIndexOf":23}],91:[function(e,t,n){var r=e("./_Hash"),o=e("./_ListCache"),a=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},{"./_Hash":5,"./_ListCache":6,"./_Map":7}],92:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){e=r(this,e).delete(e);return this.size-=e?1:0,e}},{"./_getMapData":65}],93:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":65}],94:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).has(e)}},{"./_getMapData":65}],95:[function(e,t,n){var o=e("./_getMapData");t.exports=function(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},{"./_getMapData":65}],96:[function(e,t,n){t.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}},{}],97:[function(e,t,n){t.exports=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}},{}],98:[function(e,t,n){var r=e("./memoize");t.exports=function(e){var e=r(e,function(e){return 500===t.size&&t.clear(),e}),t=e.cache;return e}},{"./memoize":144}],99:[function(e,t,n){e=e("./_getNative")(Object,"create");t.exports=e},{"./_getNative":67}],100:[function(e,t,n){e=e("./_overArg")(Object.keys,Object);t.exports=e},{"./_overArg":103}],101:[function(e,t,n){var e=e("./_freeGlobal"),n="object"==q(n)&&n&&!n.nodeType&&n,r=n&&"object"==q(t)&&t&&!t.nodeType&&t,o=r&&r.exports===n&&e.process,e=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=e},{"./_freeGlobal":63}],102:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],103:[function(e,t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},{}],104:[function(e,t,n){var r=e("./_freeGlobal"),e="object"==("undefined"==typeof self?"undefined":q(self))&&self&&self.Object===Object&&self,e=r||e||Function("return this")();t.exports=e},{"./_freeGlobal":63}],105:[function(e,t,n){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],106:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],107:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},{}],108:[function(e,t,n){var r=e("./_ListCache");t.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":6}],109:[function(e,t,n){t.exports=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e}},{}],110:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],111:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],112:[function(e,t,n){var o=e("./_ListCache"),a=e("./_Map"),i=e("./_MapCache");t.exports=function(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":6,"./_Map":7,"./_MapCache":8}],113:[function(e,t,n){var e=e("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,e=e(function(e){var o=[];return 46===e.charCodeAt(0)&&o.push(""),e.replace(r,function(e,t,n,r){o.push(n?r.replace(a,"$1"):t||e)}),o});t.exports=e},{"./_memoizeCapped":98}],114:[function(e,t,n){var r=e("./isSymbol");t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},{"./isSymbol":138}],115:[function(e,t,n){var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],116:[function(e,t,n){t.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o}},{}],117:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],118:[function(e,t,n){var o=e("./_arrayEvery"),a=e("./_baseEvery"),i=e("./_baseIteratee"),c=e("./isArray"),s=e("./_isIterateeCall");t.exports=function(e,t,n){var r=c(e)?o:a;return n&&s(e,t,n)&&(t=void 0),r(e,i(t,3))}},{"./_arrayEvery":17,"./_baseEvery":26,"./_baseIteratee":42,"./_isIterateeCall":80,"./isArray":128}],119:[function(e,t,n){var r=e("./_arrayFilter"),o=e("./_baseFilter"),a=e("./_baseIteratee"),i=e("./isArray");t.exports=function(e,t){return(i(e)?r:o)(e,a(t,3))}},{"./_arrayFilter":18,"./_baseFilter":27,"./_baseIteratee":42,"./isArray":128}],120:[function(e,t,n){e=e("./_createFind")(e("./findIndex"));t.exports=e},{"./_createFind":58,"./findIndex":121}],121:[function(e,t,n){var o=e("./_baseFindIndex"),a=e("./_baseIteratee"),i=e("./toInteger"),c=Math.max;t.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;n=null==n?0:i(n);return n<0&&(n=c(r+n,0)),o(e,a(t,3),n)}},{"./_baseFindIndex":28,"./_baseIteratee":42,"./toInteger":149}],122:[function(e,t,n){var r=e("./_arrayEach"),o=e("./_baseEach"),a=e("./_castFunction"),i=e("./isArray");t.exports=function(e,t){return(i(e)?r:o)(e,a(t))}},{"./_arrayEach":16,"./_baseEach":25,"./_castFunction":53,"./isArray":128}],123:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e,t,n){t=null==e?void 0:r(e,t);return void 0===t?n:t}},{"./_baseGet":31}],124:[function(e,t,n){var r=e("./_baseHas"),o=e("./_hasPath");t.exports=function(e,t){return null!=e&&o(e,t,r)}},{"./_baseHas":34,"./_hasPath":73}],125:[function(e,t,n){var r=e("./_baseHasIn"),o=e("./_hasPath");t.exports=function(e,t){return null!=e&&o(e,t,r)}},{"./_baseHasIn":35,"./_hasPath":73}],126:[function(e,t,n){t.exports=function(e){return e}},{}],127:[function(e,t,n){var r=e("./_baseIsArguments"),o=e("./isObjectLike"),e=Object.prototype,a=e.hasOwnProperty,i=e.propertyIsEnumerable,r=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!i.call(e,"callee")};t.exports=r},{"./_baseIsArguments":36,"./isObjectLike":135}],128:[function(e,t,n){var r=Array.isArray;t.exports=r},{}],129:[function(e,t,n){var r=e("./isFunction"),o=e("./isLength");t.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},{"./isFunction":132,"./isLength":133}],130:[function(e,t,n){var r=e("./_root"),o=e("./stubFalse"),e="object"==q(n)&&n&&!n.nodeType&&n,n=e&&"object"==q(t)&&t&&!t.nodeType&&t,r=n&&n.exports===e?r.Buffer:void 0,o=(r?r.isBuffer:void 0)||o;t.exports=o},{"./_root":104,"./stubFalse":147}],131:[function(e,t,n){var r=e("./_baseIsEqual");t.exports=function(e,t){return r(e,t)}},{"./_baseIsEqual":37}],132:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isObject");t.exports=function(e){if(!o(e))return!1;e=r(e);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},{"./_baseGetTag":33,"./isObject":134}],133:[function(e,t,n){t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},{}],134:[function(e,t,n){t.exports=function(e){var t=q(e);return null!=e&&("object"==t||"function"==t)}},{}],135:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==q(e)}},{}],136:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./_getPrototype"),a=e("./isObjectLike"),i=Function.prototype,e=Object.prototype,c=i.toString,s=e.hasOwnProperty,u=c.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;e=o(e);if(null===e)return!0;e=s.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&c.call(e)==u}},{"./_baseGetTag":33,"./_getPrototype":68,"./isObjectLike":135}],137:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isArray"),a=e("./isObjectLike");t.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==r(e)}},{"./_baseGetTag":33,"./isArray":128,"./isObjectLike":135}],138:[function(e,t,n){var r=e("./_baseGetTag"),o=e("./isObjectLike");t.exports=function(e){return"symbol"==q(e)||o(e)&&"[object Symbol]"==r(e)}},{"./_baseGetTag":33,"./isObjectLike":135}],139:[function(e,t,n){var r=e("./_baseIsTypedArray"),o=e("./_baseUnary"),e=e("./_nodeUtil"),e=e&&e.isTypedArray,r=e?o(e):r;t.exports=r},{"./_baseIsTypedArray":41,"./_baseUnary":51,"./_nodeUtil":101}],140:[function(e,t,n){t.exports=function(e){return void 0===e}},{}],141:[function(e,t,n){var r=e("./_arrayLikeKeys"),o=e("./_baseKeys"),a=e("./isArrayLike");t.exports=function(e){return(a(e)?r:o)(e)}},{"./_arrayLikeKeys":19,"./_baseKeys":43,"./isArrayLike":129}],142:[function(e,t,n){var r=e("./_arrayMap"),o=e("./_baseIteratee"),a=e("./_baseMap"),i=e("./isArray");t.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},{"./_arrayMap":20,"./_baseIteratee":42,"./_baseMap":44,"./isArray":128}],143:[function(e,t,n){var a=e("./_baseAssignValue"),i=e("./_baseForOwn"),c=e("./_baseIteratee");t.exports=function(e,r){var o={};return r=c(r,3),i(e,function(e,t,n){a(o,t,r(e,t,n))}),o}},{"./_baseAssignValue":24,"./_baseForOwn":30,"./_baseIteratee":42}],144:[function(e,t,n){var i=e("./_MapCache");function c(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function a(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);e=r.apply(this,e);return a.cache=n.set(t,e)||n,e}return a.cache=new(c.Cache||i),a}c.Cache=i,t.exports=c},{"./_MapCache":8}],145:[function(e,t,n){var r=e("./_baseProperty"),o=e("./_basePropertyDeep"),a=e("./_isKey"),i=e("./_toKey");t.exports=function(e){return a(e)?r(i(e)):o(e)}},{"./_baseProperty":47,"./_basePropertyDeep":48,"./_isKey":81,"./_toKey":114}],146:[function(e,t,n){t.exports=function(){return[]}},{}],147:[function(e,t,n){t.exports=function(){return!1}},{}],148:[function(e,t,n){var r=e("./toNumber");t.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},{"./toNumber":150}],149:[function(e,t,n){var r=e("./toFinite");t.exports=function(e){var t=r(e),e=t%1;return t==t?e?t-e:t:0}},{"./toFinite":148}],150:[function(e,t,n){var r=e("./isObject"),o=e("./isSymbol"),a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var t=c.test(e);return t||s.test(e)?u(e.slice(2),t?2:8):i.test(e)?NaN:+e}},{"./isObject":134,"./isSymbol":138}],151:[function(e,t,n){var r=e("./_baseToString");t.exports=function(e){return null==e?"":r(e)}},{"./_baseToString":50}],152:[function(e,t,n){function r(e,t){e=g.wordsToBytes(function(e){e.constructor==String&&(e=v.stringToBytes(e));var t=g.bytesToWords(e),e=8*e.length,n=[],r=1732584193,o=-271733879,a=-1732584194,i=271733878,c=-1009589776;t[e>>5]|=128<<24-e%32,t[15+(64+e>>>9<<4)]=e;for(var s=0;s<t.length;s+=16){for(var u=r,l=o,f=a,d=i,p=c,m=0;m<80;m++){m<16?n[m]=t[s+m]:(h=n[m-3]^n[m-8]^n[m-14]^n[m-16],n[m]=h<<1|h>>>31);var h=(r<<5|r>>>27)+c+(n[m]>>>0)+(m<20?1518500249+(o&a|~o&i):m<40?1859775393+(o^a^i):m<60?(o&a|o&i|a&i)-1894007588:(o^a^i)-899497514),c=i,i=a,a=o<<30|o>>>2,o=r,r=h}r+=u,o+=l,a+=f,i+=d,c+=p}return[r,o,a,i,c]}(e));return t&&t.asBytes?e:t&&t.asString?o.bytesToString(e):g.bytesToHex(e)}var g=e("crypt"),v=e("charenc").utf8,o=e("charenc").bin;r._blocksize=16,r._digestsize=20,t.exports=r},{charenc:1,crypt:2}],153:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});e=e("./lib/core");n.trackerCore=e.trackerCore},{"./lib/core":156}],154:[function(e,t,n){function r(e){var t,n,r,o,a,i,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,u=0,l=[];if(!e)return e;for(e+="";t=(a=c.indexOf(e.charAt(s++))<<18|c.indexOf(e.charAt(s++))<<12|(r=c.indexOf(e.charAt(s++)))<<6|(o=c.indexOf(e.charAt(s++))))>>16&255,n=a>>8&255,a=255&a,l[u++]=64===r?String.fromCharCode(t):64===o?String.fromCharCode(t,n):String.fromCharCode(t,n,a),s<e.length;);return i=l.join("").replace(/\0+$/,""),decodeURIComponent(i.split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}Object.defineProperty(n,"__esModule",{value:!0}),n.base64urldecode=function(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return r(e.replace(/-/g,"+").replace(/_/g,"/"))},n.base64encode=function(e){var t,n,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,c=0,s=[];if(!e)return e;for(e=unescape(encodeURIComponent(e));t=(o=e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<8|e.charCodeAt(i++))>>18&63,n=o>>12&63,r=o>>6&63,o=63&o,s[c++]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(o),i<e.length;);var u=s.join(""),l=e.length%3;return(l?u.slice(0,l-3):u)+"===".slice(l||3)},n.base64decode=r},{}],155:[function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./payload"),a=e("./base64"),s=e("lodash/isEqual"),i=e("lodash/has"),c=e("lodash/get"),u=e("lodash/isPlainObject"),l=e("lodash/every"),f=e("lodash/compact"),d=e("lodash/map");function p(e){e=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e);if(null!==e)return e.slice(1,6)}function m(e){if("*"===e[0]||"*"===e[1])return!1;if(0<e.slice(2).length){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length}function h(e){e=e.split(".");return!!(e&&1<e.length)&&m(e)}function g(e){e=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==e&&h(e[1]))return e.slice(1,6)}function v(e){var t=g(e);if(t){e=t[0];return 5===t.length&&h(e)}return!1}function _(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})}function y(e){return _(e)?e.every(v):"string"==typeof e&&v(e)}function b(e){return!!(o.isNonEmptyJson(e)&&"schema"in e&&"data"in e)&&"string"==typeof e.schema&&"object"===q(e.data)}function w(e){return!!(o.isNonEmptyJson(e)&&"e"in e)&&"string"==typeof e.e}function k(e){var t=0;if(u(e)){if(i(e,"accept")){if(!y(e.accept))return!1;t+=1}if(i(e,"reject")){if(!y(e.reject))return!1;t+=1}return 0<t&&t<=2}return!1}function A(e){return"function"==typeof e&&e.length<=1}function x(e){return"function"==typeof e&&e.length<=1}function S(e){return A(e)||b(e)}function C(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?x(e[0])&&l(e[1],S):x(e[0])&&S(e[1]))}function j(e){return!(!Array.isArray(e)||2!==e.length)&&!!k(e[0])&&(Array.isArray(e[1])?l(e[1],S):S(e[1]))}function O(e){return C(e)||j(e)}function T(e,t){if(!v(e))return!1;var n=g(e),r=p(t);if(n&&r){if(!P(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!E(n[o],r[o]))return!1;return!0}return!1}function P(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!E(n[o],r[o]))return!1;return!0}return!1}function E(e,t){return e&&t&&"*"===e||e===t}function I(e,t){var n=0,r=0,o=c(e,"accept");Array.isArray(o)?e.accept.some(function(e){return T(e,t)})&&r++:"string"==typeof o&&T(o,t)&&r++;o=c(e,"reject");return Array.isArray(o)?e.reject.some(function(e){return T(e,t)})&&n++:"string"==typeof o&&T(o,t)&&n++,0<r&&0===n}function D(e){return"string"==typeof c(e,"ue_px.data.schema")?c(e,"ue_px.data.schema"):"string"==typeof c(e,"ue_pr.data.schema")?c(e,"ue_pr.data.schema"):"string"==typeof c(e,"schema")?c(e,"schema"):""}function L(e){var t=r({},e);try{i(t,"ue_px")&&(t.ue_px=JSON.parse(a.base64urldecode(c(t,["ue_px"]))))}catch(e){}return t}function N(e){return c(e,"e","")}function M(e,t,n,r){var o=void 0;try{return b(o=e({event:t,eventType:n,eventSchema:r}))||Array.isArray(o)&&l(o,b)?o:void 0}catch(e){o=void 0}return o}function F(e){return Array.isArray(e)?e:Array.of(e)}function z(e,t,n,r){e=F(e),e=d(e,function(e){e=U(e,t,n,r);if(e&&0!==e.length)return e});return[].concat.apply([],f(e))}function U(e,t,n,r){if(b(e))return[e];if(A(e)){r=M(e,t,n,r);return b(r)?[r]:Array.isArray(r)?r:void 0}}function B(e,t,n,r){if(C(e)){var o=e[0],a=!1;try{a=o({event:t,eventType:n,eventSchema:r})}catch(e){a=!1}if(!0===a)return z(e[1],t,n,r)}else if(j(e)&&I(e[0],r))return z(e[1],t,n,r);return[]}function G(e,t,n,r){e=F(e),e=d(e,function(e){e=B(e,t,n,r);if(e&&0!==e.length)return e});return[].concat.apply([],f(e))}n.getSchemaParts=p,n.validateVendorParts=m,n.validateVendor=h,n.getRuleParts=g,n.isValidRule=v,n.isStringArray=_,n.isValidRuleSetArg=y,n.isSelfDescribingJson=b,n.isEventJson=w,n.isRuleSet=k,n.isContextGenerator=A,n.isContextFilter=x,n.isContextPrimitive=S,n.isFilterProvider=C,n.isRuleSetProvider=j,n.isConditionalContextProvider=O,n.matchSchemaAgainstRule=T,n.matchVendor=P,n.matchPart=E,n.matchSchemaAgainstRuleSet=I,n.getUsefulSchema=D,n.getDecodedEvent=L,n.getEventType=N,n.buildGenerator=M,n.normalizeToArray=F,n.generatePrimitives=z,n.evaluatePrimitive=U,n.evaluateProvider=B,n.generateConditionals=G,n.contextModule=function(){var i=[],c=[];return{getGlobalPrimitives:function(){return i},getConditionalProviders:function(){return c},addGlobalContexts:function(e){for(var t=[],n=[],r=0,o=e;r<o.length;r++){var a=o[r];O(a)?t.push(a):S(a)&&n.push(a)}i=i.concat(n),c=c.concat(t)},clearGlobalContexts:function(){c=[],i=[]},removeGlobalContexts:function(e){for(var t=0,n=e;t<n.length;t++)!function(t){O(t)?c=c.filter(function(e){return!s(e,t)}):S(t)&&(i=i.filter(function(e){return!s(e,t)}))}(n[t])},getApplicableContexts:function(e){e=e.build();return w(e)?function(e){var t=D(e),n=N(e),r=[],o=z(i,e,n,t);r.push.apply(r,o);t=G(c,e,n,t);return r.push.apply(r,t),r}(L(e)):[]}}}},{"./base64":154,"./payload":157,"lodash/compact":116,"lodash/every":118,"lodash/get":123,"lodash/has":124,"lodash/isEqual":131,"lodash/isPlainObject":136,"lodash/map":142}],156:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var c=e("uuid"),h=e("./payload"),r=e("./contexts");n.trackerCore=function(d,o){void 0===d&&(d=!0);var a={},i=r.contextModule();function n(e,t){a[e]=t}function f(e,t){var n,r={};for(n in t=t||{},e)(t[n]||null!==e[n]&&void 0!==e[n])&&(r[n]=e[n]);return r}function p(e,t,n){e.addDict(a),e.add("eid",c.v4());n=null==(r=n)?{type:"dtm",value:(new Date).getTime()}:"number"==typeof r?{type:"dtm",value:r}:"ttm"===r.type?{type:"ttm",value:r.value}:{type:"dtm",value:r.value||(new Date).getTime()};e.add(n.type,n.value.toString());var r,r=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}((r=e,n=t,t=i.getApplicableContexts(r),r=[],n&&n.length&&r.push.apply(r,n),t&&t.length&&r.push.apply(r,t),r));return void 0!==r&&e.addJson("cx","co",r),"function"==typeof o&&o(e),e}function m(e,t,n){var r=h.payloadBuilder(d),e={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:e};return r.add("e","ue"),r.addJson("ue_px","ue_pr",e),p(r,t,n)}return{setBase64Encoding:function(e){d=e},addPayloadPair:n,addPayloadDict:function(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])},resetPayloadPairs:function(e){a=h.isJson(e)?e:{}},setTrackerVersion:function(e){n("tv",e)},setTrackerNamespace:function(e){n("tna",e)},setAppId:function(e){n("aid",e)},setPlatform:function(e){n("p",e)},setUserId:function(e){n("uid",e)},setScreenResolution:function(e,t){n("res",e+"x"+t)},setViewport:function(e,t){n("vp",e+"x"+t)},setColorDepth:function(e){n("cd",e)},setTimezone:function(e){n("tz",e)},setLang:function(e){n("lang",e)},setIpAddress:function(e){n("ip",e)},setUseragent:function(e){n("ua",e)},trackUnstructEvent:m,trackSelfDescribingEvent:m,trackPageView:function(e,t,n,r,o){var a=h.payloadBuilder(d);return a.add("e","pv"),a.add("url",e),a.add("page",t),a.add("refr",n),p(a,r,o)},trackPagePing:function(e,t,n,r,o,a,i,c,s){var u=h.payloadBuilder(d);return u.add("e","pp"),u.add("url",e),u.add("page",t),u.add("refr",n),u.add("pp_mix",r.toString()),u.add("pp_max",o.toString()),u.add("pp_miy",a.toString()),u.add("pp_may",i.toString()),p(u,c,s)},trackStructEvent:function(e,t,n,r,o,a,i){var c=h.payloadBuilder(d);return c.add("e","se"),c.add("se_ca",e),c.add("se_ac",t),c.add("se_la",n),c.add("se_pr",r),c.add("se_va",null==o?void 0:o.toString()),p(c,a,i)},trackEcommerceTransaction:function(e,t,n,r,o,a,i,c,s,u,l){var f=h.payloadBuilder(d);return f.add("e","tr"),f.add("tr_id",e),f.add("tr_af",t),f.add("tr_tt",n),f.add("tr_tx",r),f.add("tr_sh",o),f.add("tr_ci",a),f.add("tr_st",i),f.add("tr_co",c),f.add("tr_cu",s),p(f,u,l)},trackEcommerceTransactionItem:function(e,t,n,r,o,a,i,c,s){var u=h.payloadBuilder(d);return u.add("e","ti"),u.add("ti_id",e),u.add("ti_sk",t),u.add("ti_nm",n),u.add("ti_ca",r),u.add("ti_pr",o),u.add("ti_qu",a),u.add("ti_cu",i),p(u,c,s)},trackScreenView:function(e,t,n,r){return m({schema:"iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0",data:f({name:e,id:t})},n,r)},trackLinkClick:function(e,t,n,r,o,a,i){return m({schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:f({targetUrl:e,elementId:t,elementClasses:n,elementTarget:r,elementContent:o})},a,i)},trackAdImpression:function(e,t,n,r,o,a,i,c,s,u){return m({schema:"iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0",data:f({impressionId:e,costModel:t,cost:n,targetUrl:r,bannerId:o,zoneId:a,advertiserId:i,campaignId:c})},s,u)},trackAdClick:function(e,t,n,r,o,a,i,c,s,u,l){return m({schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:f({targetUrl:e,clickId:t,costModel:n,cost:r,bannerId:o,zoneId:a,impressionId:i,advertiserId:c,campaignId:s})},u,l)},trackAdConversion:function(e,t,n,r,o,a,i,c,s,u,l){return m({schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:f({conversionId:e,costModel:t,cost:n,category:r,action:o,property:a,initialValue:i,advertiserId:c,campaignId:s})},u,l)},trackSocialInteraction:function(e,t,n,r,o){return m({schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:f({action:e,network:t,target:n})},r,o)},trackAddToCart:function(e,t,n,r,o,a,i,c){return m({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",data:f({sku:e,name:t,category:n,unitPrice:r,quantity:o,currency:a})},i,c)},trackRemoveFromCart:function(e,t,n,r,o,a,i,c){return m({schema:"iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0",data:f({sku:e,name:t,category:n,unitPrice:r,quantity:o,currency:a})},i,c)},trackFormFocusOrChange:function(e,t,n,r,o,a,i,c,s){var u="",i={formId:t,elementId:n,nodeName:r,elementClasses:a,value:i};return"change_form"===e?(u="iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",i.type=o):"focus_form"===e&&(u="iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0",i.elementType=o),m({schema:u,data:f(i,{value:!0})},c,s)},trackFormSubmission:function(e,t,n,r,o){return m({schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:f({formId:e,formClasses:t,elements:n})},r,o)},trackSiteSearch:function(e,t,n,r,o,a){return m({schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:f({terms:e,filters:t,totalResults:n,pageResults:r})},o,a)},trackConsentWithdrawn:function(e,t,n,r,o,a,i){o={schema:"iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0",data:f({id:t,version:n,name:r,description:o})};return m({schema:"iglu:com.snowplowanalytics.snowplow/consent_withdrawn/jsonschema/1-0-0",data:f({all:e})},o.data&&a?a.concat([o]):a,i)},trackConsentGranted:function(e,t,n,r,o,a,i){r={schema:"iglu:com.snowplowanalytics.snowplow/consent_document/jsonschema/1-0-0",data:f({id:e,version:t,name:n,description:r})};return m({schema:"iglu:com.snowplowanalytics.snowplow/consent_granted/jsonschema/1-0-0",data:f({expiry:o})},a?a.concat([r]):[r],i)},addGlobalContexts:function(e){i.addGlobalContexts(e)},clearGlobalContexts:function(){i.clearGlobalContexts()},removeGlobalContexts:function(e){i.removeGlobalContexts(e)}}}},{"./contexts":155,"./payload":157,uuid:159}],157:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base64");function i(e){if(!r(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function r(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}n.isNonEmptyJson=i,n.isJson=r,n.payloadBuilder=function(r){function o(e,t){null!=t&&""!==t&&(n[e]=t)}var n={};return{add:o,addDict:function(e){for(var t in e)e.hasOwnProperty(t)&&o(t,e[t])},addJson:function(e,t,n){i(n)&&(n=JSON.stringify(n),r?o(e,(e=n)&&a.base64encode(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")):o(t,n))},build:function(){return n}}}},{"./base64":154}],158:[function(e,a,t){!function(e){var t,n,r,o=e.crypto||e.msCrypto;o&&o.getRandomValues&&(t=new Uint8Array(16),n=function(){return o.getRandomValues(t),t}),n||(r=new Array(16),n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}),a.exports=n}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],159:[function(e,t,n){for(var i=e("./rng"),r=[],a={},o=0;o<256;o++)r[o]=(o+256).toString(16).substr(1),a[r[o]]=o;function l(e,t){t=t||0;return r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]}var e=i(),f=[1|e[0],e[1],e[2],e[3],e[4],e[5]],d=16383&(e[6]<<8|e[7]),p=0,m=0;function c(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[r+a]=o[a];return t||l(o)}e=c;e.v1=function(e,t,n){var r=t&&n||0,o=t||[],a=void 0!==(e=e||{}).clockseq?e.clockseq:d,i=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,n=i-p+(c-m)/1e4;if(n<0&&void 0===e.clockseq&&(a=a+1&16383),1e4<=(c=(n<0||p<i)&&void 0===e.nsecs?0:c))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=i,d=a;c=(1e4*(268435455&(i+=122192928e5))+(m=c))%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;i=i/4294967296*1e4&268435455;o[r++]=i>>>8&255,o[r++]=255&i,o[r++]=i>>>24&15|16,o[r++]=i>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var s=e.node||f,u=0;u<6;u++)o[r+u]=s[u];return t||l(o)},e.v4=c,e.parse=function(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[r+o++]=a[e])});o<16;)t[r+o++]=0;return t},e.unparse=l,t.exports=e},{"./rng":158}],160:[function(e,t,n){var r=e("./v1"),o=e("./v4"),e=o;e.v1=r,e.v4=o,t.exports=e},{"./v1":163,"./v4":164}],161:[function(e,t,n){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){var n=t||0,t=r;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[+n]]].join("")}},{}],162:[function(e,t,n){var r,o,a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);a?(r=new Uint8Array(16),t.exports=function(){return a(r),r}):(o=new Array(16),t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o})},{}],163:[function(e,t,n){var l,f,d=e("./lib/rng"),p=e("./lib/bytesToUuid"),m=0,h=0;t.exports=function(e,t,n){var r=t&&n||0,o=t||[],a=(e=e||{}).node||l,i=void 0!==e.clockseq?e.clockseq:f;null!=a&&null!=i||(s=d(),null==a&&(a=l=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==i&&(i=f=16383&(s[6]<<8|s[7])));var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),n=void 0!==e.nsecs?e.nsecs:h+1,s=c-m+(n-h)/1e4;if(s<0&&void 0===e.clockseq&&(i=i+1&16383),1e4<=(n=(s<0||m<c)&&void 0===e.nsecs?0:n))throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=c,f=i;n=(1e4*(268435455&(c+=122192928e5))+(h=n))%4294967296;o[r++]=n>>>24&255,o[r++]=n>>>16&255,o[r++]=n>>>8&255,o[r++]=255&n;c=c/4294967296*1e4&268435455;o[r++]=c>>>8&255,o[r++]=255&c,o[r++]=c>>>24&15|16,o[r++]=c>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var u=0;u<6;++u)o[r+u]=a[u];return t||p(o)}},{"./lib/bytesToUuid":161,"./lib/rng":162}],164:[function(e,t,n){var i=e("./lib/rng"),c=e("./lib/bytesToUuid");t.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[r+a]=o[a];return t||c(o)}},{"./lib/bytesToUuid":161,"./lib/rng":162}],165:[function(e,t,n){var a=e("lodash/isFunction"),c=e("./lib/helpers"),s=window;(void 0!==n?n:this).errorManager=function(i){function o(e,t,n,r,o,a){o=o&&o.stack?o.stack:null;i.trackSelfDescribingEvent({schema:"iglu:com.snowplowanalytics.snowplow/application_error/jsonschema/1-0-1",data:{programmingLanguage:"JAVASCRIPT",message:e||"JS Exception. Browser doesn't support ErrorEvent API",stackTrace:o,lineNumber:n,lineColumn:r,fileName:t}},a)}return{trackError:o,enableErrorTracking:function(t,n,r){c.addEventListener(s,"error",function(e){(a(t)&&t(e)||null==t)&&function(e,t,n){t=a(n)?t.concat(n(e)):t;o(e.message,e.filename,e.lineno,e.colno,e.error,t)}(e,r,n)},!0)}}}},{"./lib/helpers":171,"lodash/isFunction":132}],166:[function(e,t,n){var p=e("lodash/forEach"),m=e("lodash/filter"),h=e("lodash/find"),g=e("./lib/helpers");(void 0!==n?n:this).getFormTrackingManager=function(a,e,i){var c=["textarea","input","select"],s=e+"form",r=function(){return!0},o=function(){return!0},u=function(e){return e};function l(t){return t[h(["name","id","type","nodeName"],function(e){return t[e]&&"string"==typeof t[e]})]}function f(r,o){return function(e){var t=e.target,n=t.nodeName&&"INPUT"===t.nodeName.toUpperCase()?t.type:null,e="checkbox"!==t.type||t.checked?u(t.value):null;("change_form"===r||"checkbox"!==n&&"radio"!==n)&&a.trackFormFocusOrChange(r,function(e){for(;e&&e.nodeName&&"HTML"!==e.nodeName.toUpperCase()&&"FORM"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&e.nodeName&&"FORM"===e.nodeName.toUpperCase())return l(e)}(t),l(t),t.nodeName,n,g.getCssClasses(t),e,i(g.resolveDynamicContexts(o,t,n,e)))}}function d(o){return function(e){var t,n,r=e.target,e=(t=r,n=[],p(c,function(e){e=m(t.getElementsByTagName(e),function(e){return e.hasOwnProperty(s)});p(e,function(e){var t;"submit"!==e.type&&(t={name:l(e),value:e.value,nodeName:e.nodeName},e.type&&"INPUT"===e.nodeName.toUpperCase()&&(t.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(t.value=null),n.push(t))})}),n);p(e,function(e){e.value=u(e.value)}),a.trackFormSubmission(l(r),g.getCssClasses(r),e,i(g.resolveDynamicContexts(o,r,e)))}}return{configureFormTracking:function(e){e&&(r=g.getFilter(e.forms,!0),o=g.getFilter(e.fields,!1),u=g.getTransform(e.fields))},addFormListeners:function(n){p(document.getElementsByTagName("form"),function(t){r(t)&&!t[s]&&(p(c,function(e){p(t.getElementsByTagName(e),function(e){o(e)&&!e[s]&&"password"!==e.type.toLowerCase()&&(g.addEventListener(e,"focus",f("focus_form",n),!1),g.addEventListener(e,"change",f("change_form",n),!1),e[s]=!0)})}),g.addEventListener(t,"submit",d(n)),t[s]=!0)})}}}},{"./lib/helpers":171,"lodash/filter":119,"lodash/find":120,"lodash/forEach":122}],167:[function(e,t,n){n.productionize=function(o){var a={};return"object"===q(o)&&null!==o&&Object.getOwnPropertyNames(o).forEach(function(e,t,n){var r;"function"==typeof o[e]&&(a[e]=(r=o[e],function(){try{return r.apply(this,arguments)}catch(e){}}))}),a}},{}],168:[function(e,t,n){!function(){var f=e("lodash/map"),d=e("lodash/isUndefined"),p=e("lodash/isFunction"),m=e("./lib/helpers");(void 0!==n?n:this).InQueueManager=function(r,o,a,e,i){var u={};function l(e,t,n){n=n||{},u.hasOwnProperty(e)?m.warn("Tracker namespace "+e+" already exists."):(u[e]=new r(i,e,o,a,n),u[e].setCollectorUrl(t))}function t(){for(var e,t,n,r,o,a,i,c,s=0;s<arguments.length;s+=1){if(n=arguments[s],a=Array.prototype.shift.call(n),p(a))try{a.apply(u,n)}catch(s){m.warn("Custom callback error - ".concat(s))}finally{continue}if(c=void 0,o=(i=[(c=a.split(":"))[0],1<c.length?c[1].split(";"):[]])[1],"newTracker"!==(t=i[0]))if("setCollectorCf"!==t&&"setCollectorUrl"!==t||o&&0!==o.length)for(r=function(e){var t=[];if(e&&0!==e.length)for(var n=0;n<e.length;n++)u.hasOwnProperty(e[n])?t.push(u[e[n]]):m.warn('Warning: Tracker namespace "'+e[n]+'" not configured');else t=f(u);return 0===t.length&&m.warn("Warning: No tracker configured"),t}(o),e=0;e<r.length;e++)r[e][t].apply(r[e],n);else a=n[0],c=n[1],m.warn((o=t)+" is deprecated. Set the collector when a new tracker instance using newTracker."),l(i=d(c)?"sp":c),u[i][o](a);else l(n[0],n[1],n[2])}}for(var n=0;n<e.length;n++)t(e[n]);return{push:t}}}()},{"./lib/helpers":171,"lodash/isFunction":132,"lodash/isUndefined":140,"lodash/map":142}],169:[function(e,t,n){var r,o=e("./snowplow"),a=window;a.GlobalSnowplowNamespace&&0<a.GlobalSnowplowNamespace.length?(r=a.GlobalSnowplowNamespace.shift(),(e=a[r]).q=new o.Snowplow(e.q,r)):(a._snaq=a._snaq||[],a._snaq=new o.Snowplow(a._snaq,"_snaq"))},{"./snowplow":175}],170:[function(n,e,o){!function(){var i=n("lodash/isFunction"),c=n("lodash/isUndefined"),e=n("jstimezonedetect").jstz.determine(),t=n("./helpers"),s=void 0!==o?o:this,u=window,l=navigator,f=screen,r=document;s.hasSessionStorage=function(){try{return!!u.sessionStorage}catch(e){return!0}},s.hasLocalStorage=function(){try{return!!u.localStorage}catch(e){return!0}},s.localStorageAccessible=function(){var e="modernizr";if(!s.hasLocalStorage())return!1;try{return u.localStorage.setItem(e,e),u.localStorage.removeItem(e),!0}catch(e){return!1}},s.hasCookies=function(e){e=e||"testcookie";return c(l.cookieEnabled)?(t.cookie(e,"1"),"1"===t.cookie(e)?"1":"0"):l.cookieEnabled?"1":"0"},s.detectTimezone=function(){return void 0===e?"":e.name()},s.detectViewport=function(){var e=u,t="inner";"innerWidth"in u||(t="client",e=r.documentElement||r.body);var n=e[t+"Width"],t=e[t+"Height"];return 0<=n&&0<=t?n+"x"+t:null},s.detectDocumentSize=function(){var e=r.documentElement,t=r.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,t=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),n=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n);return isNaN(t)||isNaN(n)?"":t+"x"+n},s.detectBrowserFeatures=function(e,t){var n,r,o={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},a={};if(l.mimeTypes&&l.mimeTypes.length)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=l.mimeTypes[o[n]],a[n]=r&&r.enabledPlugin?"1":"0");return l.constructor===window.Navigator&&"unknown"!=typeof l.javaEnabled&&!c(l.javaEnabled)&&l.javaEnabled()&&(a.java="1"),i(u.GearsFactory)&&(a.gears="1"),a.res=f.width+"x"+f.height,a.cd=f.colorDepth,e&&(a.cookie=s.hasCookies(t)),a}}()},{"./helpers":171,jstimezonedetect:3,"lodash/isFunction":132,"lodash/isUndefined":140}],171:[function(e,t,c){!function(){var n=e("lodash/filter"),r=e("lodash/isString"),o=e("lodash/isUndefined"),i=e("lodash/isObject"),a=e("lodash/map"),s=void 0!==c?c:this;s.fixupTitle=function(e){var t;return r(e)||(e=e.text||"",(t=document.getElementsByTagName("title"))&&!o(t[0])&&(e=t[0].text)),e},s.getHostName=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e},s.fixupDomain=function(e){var t=e.length;return e="*."===(e="."===e.charAt(--t)?e.slice(0,t):e).slice(0,2)?e.slice(1):e},s.getReferrer=function(e){var t="",n=s.fromQuerystring("referrer",window.location.href)||s.fromQuerystring("referer",window.location.href);if(n)return n;if(e)return e;try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(e){t=""}}return t=""===t?document.referrer:t},s.addEventListener=function(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)},s.fromQuerystring=function(e,t){t=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return t?decodeURIComponent(t[1].replace(/\+/g," ")):null},s.resolveDynamicContexts=function(e){var t=Array.prototype.slice.call(arguments,1);return n(a(e,function(e){if("function"!=typeof e)return e;try{return e.apply(null,t)}catch(e){}}))},s.warn=function(e){"undefined"!=typeof console&&console.warn("Snowplow: "+e)},s.getCssClasses=function(e){return e.className.match(/\S+/g)||[]},s.getFilter=function(e,t){if(Array.isArray(e)||!i(e))return function(){return!0};if(e.hasOwnProperty("filter"))return e.filter;var n=e.hasOwnProperty("whitelist"),r=e.whitelist||e.blacklist;Array.isArray(r)||(r=[r]);for(var o={},a=0;a<r.length;a++)o[r[a]]=!0;return t?function(r){return function(e){for(var t=s.getCssClasses(r),n=0;n<t.length;n++)if(e[t[n]])return!0;return!1}(o)===n}:function(e){return e.name in o===n}},s.getTransform=function(e){return i(e)&&e.hasOwnProperty("transform")?e.transform:function(e){return e}},s.decorateQuerystring=function(e,t,n){var r=t+"="+n,o=e.split("#"),n=o[0].split("?"),e=n.shift(),a=n.join("?");if(a){for(var i=!0,c=a.split("&"),s=0;s<c.length;s++)if(c[s].substr(0,t.length+1)===t+"="){i=!1,c[s]=r,a=c.join("&");break}i&&(a=r+"&"+a)}else a=r;return o[0]=e+"?"+a,o.join("#")},s.attemptGetLocalStorage=function(e){try{var t=localStorage.getItem(e+".expires");return null===t||+t>Date.now()?localStorage.getItem(e):(localStorage.removeItem(e),void localStorage.removeItem(e+".expires"))}catch(e){}},s.attemptWriteLocalStorage=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:63072e3;try{var r=Date.now()+1e3*n;return localStorage.setItem("".concat(e,".expires"),r),localStorage.setItem(e,t),!0}catch(e){return!1}},s.attemptGetSessionStorage=function(e){try{return sessionStorage.getItem(e)}catch(e){return}},s.attemptWriteSessionStorage=function(e,t){try{return sessionStorage.setItem(e,t),!0}catch(e){return!1}},s.findRootDomain=function(){for(var e="_sp_root_domain_test_",t=e+(new Date).getTime(),n="_test_value_"+(new Date).getTime(),r=window.location.hostname.split("."),o=r.length-1;0<=o;){var a=r.slice(o,r.length).join(".");if(s.cookie(t,n,0,"/",a),s.cookie(t)===n){s.deleteCookie(t,a);for(var i=s.getCookiesWithPrefix(e),c=0;c<i.length;c++)s.deleteCookie(i[c],a);return a}--o}return window.location.hostname},s.isValueInArray=function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},s.deleteCookie=function(e,t){s.cookie(e,"",-1,"/",t)},s.getCookiesWithPrefix=function(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n},s.cookie=function(e,t,n,r,o,a,i){return 1<arguments.length?document.cookie=e+"="+encodeURIComponent(t)+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(a?"; SameSite="+a:"")+(i?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])},s.parseInt=function(e){e=parseInt(e);return isNaN(e)?void 0:e},s.parseFloat=function(e){e=parseFloat(e);return isNaN(e)?void 0:e}}()},{"lodash/filter":119,"lodash/isObject":134,"lodash/isString":137,"lodash/isUndefined":140,"lodash/map":142}],172:[function(e,t,n){!function(){var r=e("./helpers");(void 0!==n?n:this).fixupUrl=function(e,t,n){return"translate.googleusercontent.com"===e?(""===n&&(n=t),t=function(e){e=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(e);return r.fromQuerystring("u",e[1])}(t),e=r.getHostName(t)):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e&&!function(e){var t,n,r;if(r=e,new RegExp("^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$").test(r))try{return t=document.body.children[0].children[0].children[0].children[0].children[0].children[0].innerHTML,n="You have reached the cached page for",t.slice(0,n.length)===n}catch(e){return}}(e)||(t=document.links[0].href,e=r.getHostName(t)),[e,t,n]}}()},{"./helpers":171}],173:[function(e,t,n){var m=e("lodash/isUndefined"),h=e("./lib/helpers");(void 0!==n?n:this).getLinkTrackingManager=function(u,r,l){var o,a,f,i,c,s;function d(e,t){for(var n,r,o,a,i,c,s;null!==(n=e.parentNode)&&!m(n)&&"A"!==(r=e.tagName.toUpperCase())&&"AREA"!==r;)e=n;m(e.href)||(c=(i=e.hostname||h.getHostName(e.href)).toLowerCase(),s=e.href.replace(i,c),new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i").test(s)||(o=e.id,a=h.getCssClasses(e),i=e.target,c=f?e.innerHTML:null,s=unescape(s),u.trackLinkClick(s,o,a,i,c,l(h.resolveDynamicContexts(t,e)))))}function p(r){return function(e){var t=(e=e||window.event).which||e.button,n=e.target||e.srcElement;"click"===e.type?n&&d(n,r):"mousedown"===e.type?1!==t&&2!==t||!n?c=s=null:(c=t,s=n):"mouseup"===e.type&&(t===c&&n===s&&d(n,r),c=s=null)}}return{configureLinkClickTracking:function(e,t,n,r){f=n,i=r,a=t,o=h.getFilter(e,!0)},addClickListeners:function(){for(var e,t=document.links,n=0;n<t.length;n++)o(t[n])&&!t[n][r]&&(e=t[n],a?(h.addEventListener(e,"mouseup",p(i),!1),h.addEventListener(e,"mousedown",p(i),!1)):h.addEventListener(e,"click",p(i),!1),t[n][r]=!0)}}}},{"./lib/helpers":171,"lodash/isUndefined":140}],174:[function(e,t,n){!function(){var x=e("lodash/mapValues"),S=e("lodash/isString"),C=e("lodash/map"),j=e("./lib/detectors").localStorageAccessible,O=e("./lib/helpers");(void 0!==n?n:this).OutQueueManager=function(e,t,n,s,r,o,a,u,l,f){var d,p,m,h,g,v=!1,i=null===(r=r.toLowerCase?r.toLowerCase():r)||!0===r||"beacon"===r||"true"===r,_=Boolean(i&&navigator&&navigator.sendBeacon)&&i,y=("post"===r||_)&&!("get"===r),c=(y=y&&Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest))?o:"/i";if(a=j()&&s&&y&&a||1,d="snowplowOutQueue_".concat(e,"_").concat(t,"_").concat(y?"post2":"get"),h="spBeaconPreflight_".concat(e,"_").concat(t),s)try{m=JSON.parse(localStorage.getItem(d))}catch(e){}function b(){for(;m.length&&"string"!=typeof m[0]&&"object"!==q(m[0]);)m.shift();if(m.length<1)v=!1;else{if(!S(p))throw"No Snowplow collector configured, cannot track";v=!0;var e=m[0];if(y){var t=function(e){for(var t=0;t<e;t++)m.shift();s&&O.attemptWriteLocalStorage(d,JSON.stringify(m.slice(0,f))),b()},n=w(p),r=setTimeout(function(){n.abort(),v=!1},5e3),o=function(e){for(var t=0,n=0;t<e.length&&(n+=e[t].bytes,!(u<=n));)t+=1;return t}(m);n.onreadystatechange=function(){4===n.readyState&&200<=n.status&&n.status<400?(clearTimeout(r),_&&!g&&O.attemptWriteSessionStorage(h,!0),t(o)):4===n.readyState&&400<=n.status&&(clearTimeout(r),v=!1)};var a,i=C(m.slice(0,o),function(e){return e.evt});if(0<i.length){if(g=g||_&&O.attemptGetSessionStorage(h)){var c=new Blob([k(A(i))],{type:"application/json"});try{a=navigator.sendBeacon(p,c)}catch(e){a=!1}}!0===a&&t(o),_&&a||n.send(k(A(i)))}}else{i=new Image(1,1);i.onload=function(){m.shift(),s&&O.attemptWriteLocalStorage(d,JSON.stringify(m.slice(0,f))),b()},i.onerror=function(){v=!1},i.src=l?p+e.replace("?","?stm="+(new Date).getTime()+"&"):p+e}}}function w(e){var t=new XMLHttpRequest;return t.open("POST",e,!0),t.withCredentials=!0,t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t}function k(e){return JSON.stringify({schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e})}function A(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}return Array.isArray(m)||(m=[]),n.outQueues.push(m),y&&1<a&&n.bufferFlushers.push(function(){v||b()}),{enqueueRequest:function(e,t){if(p=t+c,y){t={evt:t=x(t=e,function(e){return e.toString()}),bytes:function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:55296<=r&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}(JSON.stringify(t))};if(u<=t.bytes)return O.warn("Event of size "+t.bytes+" is too long - the maximum size is "+u),void w(p).send(k(A([t.evt])));m.push(t)}else m.push(function(e){var t,n,r="?",o={co:!0,cx:!0},a=!0;for(t in e)e.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&(a?a=!1:r+="&",r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));for(n in o)e.hasOwnProperty(n)&&o.hasOwnProperty(n)&&(r+="&"+n+"="+encodeURIComponent(e[n]));return r}(e));e=!1;s&&(e=O.attemptWriteLocalStorage(d,JSON.stringify(m.slice(0,f)))),v||e&&!(m.length>=a)||b()},executeQueue:b}}}()},{"./lib/detectors":170,"./lib/helpers":171,"lodash/isString":137,"lodash/map":142,"lodash/mapValues":143}],175:[function(e,t,n){!function(){e("uuid");var s=e("lodash/forEach"),u=e("lodash/filter"),l=e("./lib/helpers"),f=e("./in_queue"),d=e("./tracker");(void 0!==n?n:this).Snowplow=function(e,n){var t,r=document,o=window,a="js-2.14.0",i={outQueues:[],bufferFlushers:[],expireDateTime:null,hasLoaded:!1,registeredOnLoadHandlers:[],pageViewId:null};function c(){var e;if(!i.hasLoaded)for(i.hasLoaded=!0,e=0;e<i.registeredOnLoadHandlers.length;e++)i.registeredOnLoadHandlers[e]();return!0}return o.Snowplow={getTrackerCf:function(e){var t=new d.Tracker(n,"",a,i,{});return t.setCollectorCf(e),t},getTrackerUrl:function(e){var t=new d.Tracker(n,"",a,i,{});return t.setCollectorUrl(e),t},getAsyncTracker:function(){return new d.Tracker(n,"",a,i,{})}},l.addEventListener(o,"beforeunload",function(){var e;if(s(i.bufferFlushers,function(e){e()}),i.expireDateTime)do{if(e=new Date,0===u(i.outQueues,function(e){return 0<e.length}).length)break}while(e.getTime()<i.expireDateTime)},!1),r.addEventListener?l.addEventListener(r,"DOMContentLoaded",function e(){r.removeEventListener("DOMContentLoaded",e,!1),c()}):r.attachEvent&&(r.attachEvent("onreadystatechange",function e(){"complete"===r.readyState&&(r.detachEvent("onreadystatechange",e),c())}),r.documentElement.doScroll&&o===o.top&&function t(){if(!i.hasLoaded){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}c()}}()),new RegExp("WebKit").test(navigator.userAgent)&&(t=setInterval(function(){(i.hasLoaded||/loaded|complete/.test(r.readyState))&&(clearInterval(t),c())},10)),l.addEventListener(o,"load",c,!1),new f.InQueueManager(d.Tracker,a,i,e,n)}}()},{"./in_queue":168,"./lib/helpers":171,"./tracker":176,"lodash/filter":119,"lodash/forEach":122,uuid:160}],176:[function(e,t,n){!function(){var Xe=e("lodash/forEach"),Ze=e("lodash/map"),et=e("./lib/helpers"),tt=e("./lib/proxies"),nt=e("./lib/detectors"),rt=e("sha1"),ot=e("./links"),at=e("./forms"),it=e("./errors"),ct=e("./out_queue"),st=e("snowplow-tracker-core").trackerCore,ut=e("./guard").productionize,lt=e("uuid");(void 0!==n?n:this).Tracker=function(e,t,n,c,r){(r=r||{}).hasOwnProperty("post")?r.eventMethod=!0===r.post?"post":"get":r.eventMethod=r.eventMethod||"post",r.hasOwnProperty("useStm")||(r.useStm=!0);var p,o,m,s,a,i,h,u,l,f,d,g,v,_,y,b,w,k,A,x=Object.freeze({consent:"consent",contract:"contract",legalObligation:"legal_obligation",vitalInterests:"vital_interests",publicTask:"public_task",legitimateInterests:"legitimate_interests"}),S=st(!0,function(e){var t,n,r;!function(e){var t=Math.round((new Date).getTime()/1e3),n=Se("id"),r=Se("ses"),o=Ce("ses"),a=Me(),i=a[0],c=a[1],s=a[2],u=a[3],l=a[4],f=a[5],d=a[6],a=!!h&&!!et.cookie(h);if((Y||a)&&"none"!=ne)return"localStorage"==ne?(et.attemptWriteLocalStorage(n,""),et.attemptWriteLocalStorage(r,"")):"cookie"!=ne&&"cookieAndLocalStorage"!=ne||(et.cookie(n,"",-1,H,V,K,W),et.cookie(r,"",-1,H,V,K,W));"0"===i?(b=d,o||"none"==ne||(u++,f=l,b=lt.v4()),ie=u):(new Date).getTime()-oe>1e3*$&&(b=lt.v4(),ie++),e.add("vp",nt.detectViewport()),e.add("ds",nt.detectDocumentSize()),e.add("vid",ie),e.add("sid",b),e.add("duid",c),e.add("uid",w),be(),e.add("refr",Ae(p||M)),e.add("url",Ae(m||N)),"none"!=ne&&(Le(c,s,ie,t,f,b),De()),oe=(new Date).getTime()}(e),t=e,n=G,r=new Date,e=!!h&&!!et.cookie(h),Y||e||(fe.enqueueRequest(t.build(),o),c.expireDateTime=r.getTime()+n)}),C=!1,j={},O={},T={},P=document,E=window,I=navigator,D=tt.fixupUrl(P.domain,E.location.href,et.getReferrer()),L=et.fixupDomain(D[0]),N=D[1],M=D[2],F=r.hasOwnProperty("platform")?r.platform:"web",z=r.hasOwnProperty("postPath")?r.postPath:"/com.snowplowanalytics.snowplow/tp2",U=r.hasOwnProperty("appId")?r.appId:"",B=P.title,G=r.hasOwnProperty("pageUnloadTimer")?r.pageUnloadTimer:500,q=!r.hasOwnProperty("resetActivityTrackingOnPageView")||r.resetActivityTrackingOnPageView,R=r.hasOwnProperty("cookieName")?r.cookieName:"_sp_",V=r.hasOwnProperty("cookieDomain")?r.cookieDomain:null,H="/",K=r.hasOwnProperty("cookieSameSite")?r.cookieSameSite:"None",W=!r.hasOwnProperty("cookieSecure")||r.cookieSecure,J=I.doNotTrack||I.msDoNotTrack||E.doNotTrack,Y=!!r.hasOwnProperty("respectDoNotTrack")&&r.respectDoNotTrack&&("yes"===J||"1"===J),Q=r.hasOwnProperty("cookieLifetime")?r.cookieLifetime:63072e3,$=r.hasOwnProperty("sessionCookieTimeout")?r.sessionCookieTimeout:1800,X=P.characterSet||P.charset,Z=!!r.hasOwnProperty("forceSecureTracker")&&!0===r.forceSecureTracker,ee=!(Z||!r.hasOwnProperty("forceUnsecureTracker"))&&!0===r.forceUnsecureTracker,te=!r.hasOwnProperty("useLocalStorage")||(et.warn("argmap.useLocalStorage is deprecated. Use argmap.stateStorageStrategy instead."),r.useLocalStorage),J=!r.hasOwnProperty("useCookies")||(et.warn("argmap.useCookies is deprecated. Use argmap.stateStorageStrategy instead."),r.useCookies),ne=r.hasOwnProperty("stateStorageStrategy")?r.stateStorageStrategy:J||te?J&&te?"cookieAndLocalStorage":J?"cookie":"localStorage":"none",te=I.userLanguage||I.language,re=nt.detectBrowserFeatures("cookie"==ne||"cookieAndLocalStorage"==ne,Se("testcookie")),J=e+"_"+t,oe=(new Date).getTime(),ae=rt,ie=1,ce={transaction:{},items:[]},se=ot.getLinkTrackingManager(S,J,ze),ue=at.getFormTrackingManager(S,J,ze),le=it.errorManager(S),fe=new ct.OutQueueManager(e,t,c,"localStorage"==ne||"cookieAndLocalStorage"==ne,r.eventMethod,z,r.bufferSize,r.maxPostBytes||4e4,r.useStm,r.maxLocalStorageQueueSize||1e3),de=!1,pe=r.contexts||{},me=[],he=[],ge=!1,ve=!1,_e={enabled:!1,installed:!1,configurations:{}},ye={};for(A in r.hasOwnProperty("discoverRootDomain")&&r.discoverRootDomain&&(V=et.findRootDomain()),pe.gaCookies&&me.push((k={},Xe(["__utma","__utmb","__utmc","__utmv","__utmz","_ga"],function(e){var t=et.cookie(e);t&&(k[e]=t)}),{schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:k})),pe.geolocation&&qe(),S.setBase64Encoding(!r.hasOwnProperty("encodeBase64")||r.encodeBase64),S.setTrackerVersion(n),S.setTrackerNamespace(t),S.setAppId(U),S.setPlatform(F),S.setTimezone(nt.detectTimezone()),S.addPayloadPair("lang",te),S.addPayloadPair("cs",X),re)Object.prototype.hasOwnProperty.call(re,A)&&("res"===A||"cd"===A||"cookie"===A?S.addPayloadPair(A,re[A]):S.addPayloadPair("f_"+A,re[A]));function be(){(D=tt.fixupUrl(P.domain,E.location.href,et.getReferrer()))[1]!==N&&(M=et.getReferrer(N)),L=et.fixupDomain(D[0]),N=D[1]}function we(){var e=(new Date).getTime();this.href&&(this.href=et.decorateQuerystring(this.href,"_sp",y+"."+e))}function ke(e){for(var t=0;t<P.links.length;t++){var n=P.links[t];!n.spDecorationEnabled&&e(n)&&(et.addEventListener(n,"click",we,!0),et.addEventListener(n,"mousedown",we,!0),n.spDecorationEnabled=!0)}}function Ae(e){var t;return a&&(t=new RegExp("#.*"),e=e.replace(t,"")),i&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function xe(e){e=new RegExp("^([a-z]+):").exec(e);return e?e[1]:null}function Se(e){return R+e+"."+_}function Ce(e){e=Se(e);return"localStorage"==ne?et.attemptGetLocalStorage(e):"cookie"==ne||"cookieAndLocalStorage"==ne?et.cookie(e):void 0}function je(){be(),_=ae((V||L)+(H||"/")).slice(0,4)}function Oe(){var e=new Date;l=e.getTime()}function Te(){!function(){var e=Pe(),t=e[0];t<f?f=t:d<t&&(d=t);e=e[1];e<g?g=e:v<e&&(v=e)}(),Oe()}function Pe(){var e=P.compatMode&&"BackCompat"!==P.compatMode?P.documentElement:P.body;return[e.scrollLeft||E.pageXOffset,e.scrollTop||E.pageYOffset]}function Ee(){var e=Pe(),t=e[0];d=f=t;e=e[1];v=g=e}function Ie(e){e=Math.round(e);if(!isNaN(e))return e}function De(){Ne(Se("ses"),"*",$)}function Le(e,t,n,r,o,a){Ne(Se("id"),e+"."+t+"."+n+"."+r+"."+o+"."+a,Q)}function Ne(e,t,n){"localStorage"==ne?et.attemptWriteLocalStorage(e,t,n):"cookie"!=ne&&"cookieAndLocalStorage"!=ne||et.cookie(e,t,n,H,V,K,W)}function Me(){if("none"==ne)return[];var e,t=new Date,n=Math.round(t.getTime()/1e3),t=Ce("id");return t?(e=t.split(".")).unshift("0"):e=["1",y,n,0,n,""],e[6]||(e[6]=lt.v4()),e}function Fe(e){return Z?"https://"+e:ee?"http://"+e:("https:"===P.location.protocol?"https":"http")+"://"+e}function ze(e){var t,n,o,a,r,i,c,s=me.concat(e||[]);if(pe.webPage&&s.push({schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:Ue()}}),pe.performanceTiming&&(n=function(){var e=["navigationStart","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","unloadEventStart","unloadEventEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd","msFirstPaint","chromeFirstPaint","requestEnd","proxyStart","proxyEnd"],t=E.performance||E.mozPerformance||E.msPerformance||E.webkitPerformance;if(t){var n,r={};for(n in t.timing)et.isValueInArray(n,e)&&null!==t.timing[n]&&(r[n]=t.timing[n]);return delete r.requestEnd,{schema:"iglu:org.w3/PerformanceTiming/jsonschema/1-0-0",data:r}}}())&&s.push(n),E.optimizely){if(pe.optimizelySummary&&(t=Ze((r=Be("state"),i=Be("experiments"),Ze(r&&i&&r.activeExperiments,function(e){var t=i[e];return{activeExperimentId:e.toString(),variation:r.variationIdsMap[e][0].toString(),conditional:t&&t.conditional,manual:t&&t.manual,name:t&&t.name}})),function(e){return{schema:"iglu:com.optimizely.snowplow/optimizely_summary/jsonschema/1-0-0",data:e}}),Xe(t,function(e){s.push(e)})),pe.optimizelyXSummary&&(t=Ze((e=Ge("state"),n=e.getActiveExperimentIds(),o=e.getVariationMap(),a=Ge("visitor"),Ze(n,function(e){var t=o[e],n=t&&t.name&&t.name.toString()||null,r=t&&t.id,t=a&&a.visitorId&&a.visitorId.toString()||null;return{experimentId:parseInt(e)||null,variationName:n,variation:parseInt(r)||null,visitorId:t}})),function(e){return{schema:"iglu:com.optimizely.optimizelyx/summary/jsonschema/1-0-0",data:e}}),Xe(t,function(e){s.push(e)})),pe.optimizelyExperiments)for(var u=function(){var e=Be("experiments");if(e){var t,n,r,o=[];for(t in e)e.hasOwnProperty(t)&&(r=e[(n={}).id=t],n.code=r.code,n.manual=r.manual,n.conditional=r.conditional,n.name=r.name,n.variationIds=r.variation_ids,o.push({schema:"iglu:com.optimizely/experiment/jsonschema/1-0-0",data:n}));return o}return[]}(),l=0;l<u.length;l++)s.push(u[l]);if(pe.optimizelyStates)for(var f=function(){var e=[],t=Be("experiments");if(t)for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=Be("state");if(r){for(var o=[],a=r.activeExperiments||[],i=0;i<e.length;i++){var c=e[i],s={};s.experimentId=c,s.isActive=et.isValueInArray(e[i],a);var u=r.variationMap||{};s.variationIndex=u[c];u=r.variationNamesMap||{};s.variationName=u[c];u=r.variationIdsMap||{};u[c]&&1===u[c].length&&(s.variationId=u[c][0]),o.push({schema:"iglu:com.optimizely/state/jsonschema/1-0-0",data:s})}return o}return[]}(),l=0;l<f.length;l++)s.push(f[l]);if(pe.optimizelyVariations){var d=function(){var e=Be("variations");if(e){var t,n,r,o=[];for(t in e)e.hasOwnProperty(t)&&(r=e[(n={}).id=t],n.name=r.name,n.code=r.code,o.push({schema:"iglu:com.optimizely/variation/jsonschema/1-0-0",data:n}));return o}return[]}();for(l=0;l<d.length;l++)s.push(d[l])}if(!pe.optimizelyVisitor||(t=function(){var e=Be("visitor");if(e){var t={};t.browser=e.browser,t.browserVersion=e.browserVersion,t.device=e.device,t.deviceType=e.deviceType,t.ip=e.ip;var n=e.platform||{};t.platformId=n.id,t.platformVersion=n.version;n=e.location||{};return t.locationCity=n.city,t.locationRegion=n.region,t.locationCountry=n.country,t.mobile=e.mobile,t.mobileId=e.mobileId,t.referrer=e.referrer,t.os=e.os,{schema:"iglu:com.optimizely/visitor/jsonschema/1-0-0",data:t}}}())&&s.push(t),pe.optimizelyAudiences){var p=function(){var e=Be("visitor","audiences");if(e){var t,n,r=[];for(t in e)e.hasOwnProperty(t)&&(n={id:t,isMember:e[t]},r.push({schema:"iglu:com.optimizely/visitor_audience/jsonschema/1-0-0",data:n}));return r}return[]}();for(l=0;l<p.length;l++)s.push(p[l])}if(pe.optimizelyDimensions){var m=function(){var e=Be("visitor","dimensions");if(e){var t,n,r=[];for(t in e)e.hasOwnProperty(t)&&(n={id:t,value:e[t]},r.push({schema:"iglu:com.optimizely/visitor_dimension/jsonschema/1-0-0",data:n}));return r}return[]}();for(l=0;l<m.length;l++)s.push(m[l])}}return!pe.parrable||(c=function(){var e=window._hawk;if(e){var t={encryptedId:null,optout:null};t.encryptedId=e.browserid;e=new RegExp("(?:^|;)\\s?"+"_parrable_hawk_optout".replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")+"=(.*?)(?:;|$)","i"),e=document.cookie.match(e);return t.optout=e&&decodeURIComponent(e[1])?e&&decodeURIComponent(e[1]):"false",{schema:"iglu:com.parrable/encrypted_payload/jsonschema/1-0-0",data:t}}}())&&s.push(c),pe.gdprBasis&&ye.gdprBasis&&((c=function(){if(ye.gdprBasis)return{schema:"iglu:com.snowplowanalytics.snowplow/gdpr/jsonschema/1-0-0",data:{basisForProcessing:ye.gdprBasis,documentId:ye.gdprDocId||null,documentVersion:ye.gdprDocVer||null,documentDescription:ye.gdprDocDesc||null}}}())&&s.push(c)),s}function Ue(){return null==c.pageViewId&&(c.pageViewId=lt.v4()),c.pageViewId}function Be(e,t){var n;return E.optimizely&&E.optimizely.data&&(n=E.optimizely.data[e],void 0!==t&&void 0!==n&&(n=n[t])),n}function Ge(e,t){var n;return E.optimizely&&"function"==typeof E.optimizely.get&&(n=E.optimizely.get(e),void 0!==t&&void 0!==n&&(n=n[t])),n}function qe(){!de&&I.geolocation&&I.geolocation.getCurrentPosition&&(de=!0,I.geolocation.getCurrentPosition(function(e){var t=e.coords,e={schema:"iglu:com.snowplowanalytics.snowplow/geolocation_context/jsonschema/1-1-0",data:{latitude:t.latitude,longitude:t.longitude,latitudeLongitudeAccuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,bearing:t.heading,speed:t.speed,timestamp:Math.round(e.timestamp)}};me.push(e)}))}function Re(e,t){return(e||[]).concat(t?t():[])}function Ve(e,t,n,r){be(),ve&&(ge&&null!=c.pageViewId||(c.pageViewId=lt.v4())),ve=!0,B=P.title,s=e;var o=et.fixupTitle(s||B);S.trackPageView(Ae(m||N),o,Ae(p||M),ze(Re(t,n)),r);var a,e=new Date,o=!1;if(_e.enabled&&!_e.installed&&(o=_e.installed=!0,(a={update:function(){var e,t,n;"undefined"!=typeof window&&"function"==typeof window.addEventListener&&(e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),window.addEventListener("testPassiveEventSupport",n=function(){},t),window.removeEventListener("testPassiveEventSupport",n,t),a.hasSupport=e)}}).update(),r="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",Object.prototype.hasOwnProperty.call(a,"hasSupport")?et.addEventListener(P,r,Oe,{passive:!0}):et.addEventListener(P,r,Oe),Ee(),et.addEventListener(P,"click",Oe),et.addEventListener(P,"mouseup",Oe),et.addEventListener(P,"mousedown",Oe),et.addEventListener(P,"mousemove",Oe),et.addEventListener(E,"scroll",Te),et.addEventListener(P,"keypress",Oe),et.addEventListener(P,"keydown",Oe),et.addEventListener(P,"keyup",Oe),et.addEventListener(E,"resize",Oe),et.addEventListener(E,"focus",Oe),et.addEventListener(E,"blur",Oe)),_e.enabled&&(q||o))for(var i in l=e.getTime(),_e.configurations)_e.configurations.hasOwnProperty(i)&&(i=_e.configurations[i],clearInterval(i.activityInterval),i.activityInterval=function(e){var t=e.configHeartBeatTimer,n=e.configMinimumVisitLength,r=e.configLastActivityTime,o=e.callback,a=e.context;return setInterval(function(){var e=new Date;l+t>e.getTime()&&r+1e3*n<e.getTime()&&(be(),o({context:a,pageViewId:Ue(),minXOffset:f,minYOffset:g,maxXOffset:d,maxYOffset:v}),Ee())},t)}(ft({},i,{configLastActivityTime:l,context:Re(t,n)})))}function He(e,t,n){return e===parseInt(e,10)&&t===parseInt(t,10)?{configMinimumVisitLength:e,configHeartBeatTimer:1e3*t,activityInterval:null,callback:n}:(et.warn("Activity tracking not enabled, please provide integer values for minimumVisitLength and heartBeatDelay."),{})}function Ke(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,a=e.maxYOffset,e=P.title;e!==B&&(B=e,s=null),S.trackPagePing(Ae(m||N),et.fixupTitle(s||B),Ae(p||M),Ie(n),Ie(o),Ie(r),Ie(a),ze(t))}function We(e,t){return""!==e?e+t.charAt(0).toUpperCase()+t.slice(1):t}function Je(t){var e,n,r,o=["","webkit","ms","moz"];if(!u)for(n=0;n<o.length;n++){if(P[We(r=o[n],"hidden")]){"prerender"===P[We(r,"visibilityState")]&&(e=!0);break}if(!1===P[We(r,"hidden")])break}e?et.addEventListener(P,r+"visibilitychange",function e(){P.removeEventListener(r+"visibilitychange",e,!1),t()}):t()}function Ye(){T=C?j:O}je(),te="none"!=ne&&!!Ce("ses"),(X=Me())[1]?y=X[1]:(y=lt.v4(),X[1]=y),b=X[6],te||(X[3]++,b=lt.v4(),X[6]=b,X[5]=X[4]),"none"!=ne&&(De(),X[4]=Math.round((new Date).getTime()/1e3),X.shift(),Le.apply(null,X)),r.crossDomainLinker&&ke(r.crossDomainLinker);var Qe="User Fingerprinting is no longer supported. This function will be removed in a future release.",$e=" is deprecated. Instead use the argmap argument on tracker initialisation: ";return j.getDomainSessionIndex=function(){return ie},j.getPageViewId=Ue,j.newSession=function(){var e=Math.round((new Date).getTime()/1e3),t=(Ce("ses"),Me()),n=t[0],r=t[1],o=t[2],a=t[3],i=t[4],c=t[5],t=t[6];"0"===n?(b=t,"none"!=ne&&(a++,c=i,b=lt.v4()),ie=a,De()):(b=lt.v4(),ie++),"none"!=ne&&(Le(r,o,ie,e,c,b),De()),oe=(new Date).getTime()},j.getCookieName=Se,j.getUserId=function(){return w},j.getDomainUserId=function(){return Me()[1]},j.getDomainUserInfo=Me,j.getUserFingerprint=function(){return et.warn(Qe),0},j.setAppId=function(e){et.warn("setAppId"+$e+"appId"),S.setAppId(e)},j.setReferrerUrl=function(e){p=e},j.setCustomUrl=function(e){var t,n;be(),t=N,m=xe(n=e)?n:"/"===n.slice(0,1)?xe(t)+"://"+et.getHostName(t)+n:(t=(e=(t=0<=(e=(t=Ae(t)).indexOf("?"))?t.slice(0,e):t).lastIndexOf("/"))!==t.length-1?t.slice(0,e+1):t)+n},j.setDocumentTitle=function(e){B=P.title,s=e},j.discardHashTag=function(e){a=e},j.discardBrace=function(e){i=e},j.setCookieNamePrefix=function(e){et.warn("setCookieNamePrefix"+$e+"cookieName"),R=e},j.setCookieDomain=function(e){et.warn("setCookieDomain"+$e+"cookieDomain"),V=et.fixupDomain(e),je()},j.setCookiePath=function(e){H=e,je()},j.setVisitorCookieTimeout=function(e){Q=e},j.setSessionCookieTimeout=function(e){et.warn("setSessionCookieTimeout"+$e+"sessionCookieTimeout"),$=e},j.setUserFingerprintSeed=function(){et.warn(Qe)},j.enableUserFingerprint=function(){et.warn(Qe)},j.respectDoNotTrack=function(e){et.warn("respectDoNotTrack"+$e+"respectDoNotTrack");var t=I.doNotTrack||I.msDoNotTrack;Y=e&&("yes"===t||"1"===t)},j.crossDomainLinker=function(e){ke(e)},j.enableLinkClickTracking=function(e,t,n,r){c.hasLoaded?(se.configureLinkClickTracking(e,t,n,r),se.addClickListeners()):c.registeredOnLoadHandlers.push(function(){se.configureLinkClickTracking(e,t,n,r),se.addClickListeners()})},j.refreshLinkClickTracking=function(){c.hasLoaded?se.addClickListeners():c.registeredOnLoadHandlers.push(function(){se.addClickListeners()})},j.enableActivityTracking=function(e,t){_e.enabled=!0,_e.configurations.pagePing=He(e,t,Ke)},j.enableActivityTrackingCallback=function(e,t,n){_e.enabled=!0,_e.configurations.callback=He(e,t,n)},j.updatePageActivity=function(){Oe()},j.enableFormTracking=function(e,t){c.hasLoaded?(ue.configureFormTracking(e),ue.addFormListeners(t)):c.registeredOnLoadHandlers.push(function(){ue.configureFormTracking(e),ue.addFormListeners(t)})},j.killFrame=function(){E.location!==E.top.location&&(E.top.location=E.location)},j.redirectFile=function(e){"file:"===E.location.protocol&&(E.location=e)},j.setOptOutCookie=function(e){h=e},j.setCountPreRendered=function(e){u=e},j.setUserId=function(e){w=e},j.identifyUser=function(e){setUserId(e)},j.setUserIdFromLocation=function(e){be(),w=et.fromQuerystring(e,N)},j.setUserIdFromReferrer=function(e){be(),w=et.fromQuerystring(e,M)},j.setUserIdFromCookie=function(e){w=et.cookie(e)},j.setCollectorCf=function(e){o=Fe(e+".cloudfront.net")},j.setCollectorUrl=function(e){o=Fe(e)},j.setPlatform=function(e){et.warn("setPlatform"+$e+"platform"),S.setPlatform(e)},j.encodeBase64=function(e){et.warn("encodeBase64"+$e+"encodeBase64"),S.setBase64Encoding(e)},j.flushBuffer=function(){fe.executeQueue()},j.enableGeolocationContext=qe,j.trackPageView=function(e,t,n,r){Je(function(){Ve(e,t,n,r)})},j.trackStructEvent=function(e,t,n,r,o,a,i){Je(function(){S.trackStructEvent(e,t,n,r,o,ze(a),i)})},j.trackSelfDescribingEvent=function(e,t,n){Je(function(){S.trackSelfDescribingEvent(e,ze(t),n)})},j.trackUnstructEvent=function(e,t,n){Je(function(){S.trackSelfDescribingEvent(e,ze(t),n)})},j.addTrans=function(e,t,n,r,o,a,i,c,s,u,l){ce.transaction={orderId:e,affiliation:t,total:n,tax:r,shipping:o,city:a,state:i,country:c,currency:s,context:u,tstamp:l}},j.addItem=function(e,t,n,r,o,a,i,c,s){ce.items.push({orderId:e,sku:t,name:n,category:r,price:o,quantity:a,currency:i,context:c,tstamp:s})},j.trackTrans=function(){Je(function(){var e,t,n,r,o,a,i,c,s,u,l;e=ce.transaction.orderId,t=ce.transaction.affiliation,n=ce.transaction.total,r=ce.transaction.tax,o=ce.transaction.shipping,a=ce.transaction.city,i=ce.transaction.state,c=ce.transaction.country,s=ce.transaction.currency,u=ce.transaction.context,l=ce.transaction.tstamp,S.trackEcommerceTransaction(e,t,n,r,o,a,i,c,s,ze(u),l);for(var f=0;f<ce.items.length;f++){var d=ce.items[f],p=d.orderId,m=d.sku,h=d.name,g=d.category,v=d.price,_=d.quantity,y=d.currency,b=d.context,d=d.tstamp;S.trackEcommerceTransactionItem(p,m,h,g,v,_,y,ze(b),d)}ce={transaction:{},items:[]}})},j.trackLinkClick=function(e,t,n,r,o,a,i){Je(function(){S.trackLinkClick(e,t,n,r,o,ze(a),i)})},j.trackAdImpression=function(e,t,n,r,o,a,i,c,s,u){Je(function(){S.trackAdImpression(e,t,n,r,o,a,i,c,ze(s),u)})},j.trackAdClick=function(e,t,n,r,o,a,i,c,s,u,l){Je(function(){S.trackAdClick(e,t,n,r,o,a,i,c,s,ze(u),l)})},j.trackAdConversion=function(e,t,n,r,o,a,i,c,s,u,l){Je(function(){S.trackAdConversion(e,t,n,r,o,a,i,c,s,ze(u),l)})},j.trackSocialInteraction=function(e,t,n,r,o){Je(function(){S.trackSocialInteraction(e,t,n,ze(r),o)})},j.trackAddToCart=function(e,t,n,r,o,a,i,c){Je(function(){S.trackAddToCart(e,t,n,r,o,a,ze(i),c)})},j.trackRemoveFromCart=function(e,t,n,r,o,a,i,c){Je(function(){S.trackRemoveFromCart(e,t,n,r,o,a,ze(i),c)})},j.trackSiteSearch=function(e,t,n,r,o,a){Je(function(){S.trackSiteSearch(e,t,n,r,ze(o),a)})},j.trackTiming=function(e,t,n,r,o,a){Je(function(){S.trackSelfDescribingEvent({schema:"iglu:com.snowplowanalytics.snowplow/timing/jsonschema/1-0-0",data:{category:e,variable:t,timing:n,label:r}},ze(o),a)})},j.trackConsentWithdrawn=function(e,t,n,r,o,a,i){Je(function(){S.trackConsentWithdrawn(e,t,n,r,o,ze(a),i)})},j.trackConsentGranted=function(e,t,n,r,o,a,i){Je(function(){S.trackConsentGranted(e,t,n,r,o,ze(a),i)})},j.trackEnhancedEcommerceAction=function(e,t,n){var r=he.concat(t||[]);he.length=0,Je(function(){S.trackSelfDescribingEvent({schema:"iglu:com.google.analytics.enhanced-ecommerce/action/jsonschema/1-0-0",data:{action:e}},ze(r),n)})},j.addEnhancedEcommerceActionContext=function(e,t,n,r,o,a,i,c,s,u){he.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/actionFieldObject/jsonschema/1-0-0",data:{id:e,affiliation:t,revenue:et.parseFloat(n),tax:et.parseFloat(r),shipping:et.parseFloat(o),coupon:a,list:i,step:et.parseInt(c),option:s,currency:u}})},j.addEnhancedEcommerceImpressionContext=function(e,t,n,r,o,a,i,c,s){he.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/impressionFieldObject/jsonschema/1-0-0",data:{id:e,name:t,list:n,brand:r,category:o,variant:a,position:et.parseInt(i),price:et.parseFloat(c),currency:s}})},j.addEnhancedEcommerceProductContext=function(e,t,n,r,o,a,i,c,s,u,l){he.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/productFieldObject/jsonschema/1-0-0",data:{id:e,name:t,list:n,brand:r,category:o,variant:a,price:et.parseFloat(i),quantity:et.parseInt(c),coupon:s,position:et.parseInt(u),currency:l}})},j.addEnhancedEcommercePromoContext=function(e,t,n,r,o){he.push({schema:"iglu:com.google.analytics.enhanced-ecommerce/promoFieldObject/jsonschema/1-0-0",data:{id:e,name:t,creative:n,position:r,currency:o}})},j.enableGdprContext=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,e=x[e];e?(pe.gdprBasis=!0,ye={gdprBasis:e,gdprDocId:t,gdprDocVer:n,gdprDocDesc:r}):et.warn("enableGdprContext failed. basisForProcessing must be set to one of: consent, legalObligation, vitalInterests publicTask, legitimateInterests")},j.addGlobalContexts=function(e){S.addGlobalContexts(e)},j.removeGlobalContexts=function(e){S.removeGlobalContexts(e)},j.clearGlobalContexts=function(){S.clearGlobalContexts()},j.enableErrorTracking=function(e,t){le.enableErrorTracking(e,t,ze())},j.trackError=function(e,t,n,r,o,a){a=ze(a);le.trackError(e,t,n,r,o,a)},j.preservePageViewId=function(){ge=!0},j.setDebug=function(e){C=Boolean(e).valueOf(),Ye()},O=ut(j),Ye(),T}}()},{"./errors":165,"./forms":166,"./guard":167,"./lib/detectors":170,"./lib/helpers":171,"./lib/proxies":172,"./links":173,"./out_queue":174,"lodash/forEach":122,"lodash/map":142,sha1:152,"snowplow-tracker-core":153,uuid:160}]},{},[169])}();

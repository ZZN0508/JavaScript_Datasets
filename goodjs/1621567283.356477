!function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(_&&_(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={67:0},a={67:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{8:1,19:1,30:1,32:1,86:1,95:1,101:1,102:1,105:1,106:1,108:1}[e]&&t.push(o[e]=new Promise((function(t,n){for(var r=({}[e]||e)+"."+{8:"7125a35554246209b4fe",19:"c32fd47026acf1d06251",30:"49fa18c3e8dc5da9ea26",32:"0874cedc6cf51e2202cb",86:"833ffe427f0ed31995ed",95:"90815571620551022e97",101:"15e209cbc7ef390c9d1a",102:"2381efb4769b7b7c0fb3",105:"eed0c3655edebb535a0e",106:"9f4c9f9dc454b0619c9f",108:"15bcb5c7d26097ba6cd1"}[e]+".css",a=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=(_=i[c]).getAttribute("data-href")||_.getAttribute("href");if("stylesheet"===_.rel&&(u===r||u===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var _;if((u=(_=l[c]).getAttribute("data-href"))===r||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],p.parentNode.removeChild(p),n(i)},p.href=a,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+""+({}[e]||e)+"."+{8:"de9d6c890bdbce77c09a",19:"e1d6597b1acc278af622",30:"e142b1748fc9f89be410",32:"495d66e27140eff8daf2",86:"6096de09dec7b61c9b87",95:"e446b8e17f5447aa186d",101:"1507a11436db61ff5bfa",102:"f62e08f790575560e50d",105:"fd858da5b7e2785898a0",106:"cd14e743e5b1c97eabe0",108:"d8fe6ba6beb601fe4eb5"}[e]+".js"}(e);var u=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var _=u;i.push([2533,0,1,2,3,4,20,23,27]),n()}({0:function(e,t,n){e.exports=n(19)(0)},1:function(e,t,n){e.exports=n(19)(26)},100:function(e,t,n){(function(e){Scribd.UI||(Scribd.UI={}),Scribd.UI.SearchStorage=function(){function t(){}return t.prototype.search_data_key="search_data",t.prototype.max_search_terms=5,t.DEFAULT_DATA={terms:[],query_preferences:{}},t.prototype.read=function(){var e,t;return e=Scribd.UI.SearchStorage.DEFAULT_DATA,Scribd.with_local_storage((t=this,function(n){var r,o;return o=n.getItem(t.search_data_key),r=JSON.parse(o),Object.assign({},e,r)}))},t.prototype.current_unique_terms=function(){var t;return t=this.read().terms,t=e.uniq(t),t=e.compact(t)},t.prototype.save_terms=function(e){return Scribd.with_local_storage((t=this,function(n){var r;return r=Object.assign({},t.read(),{terms:e}),n.setItem(t.search_data_key,JSON.stringify(r))}));var t},t.prototype.clone=function(e){return e.slice(0)},t.prototype.move_existing_term_to_most_recent=function(e,t){var n,r;return r=(t=this.clone(t)).indexOf(e),n=t.splice(r,1)[0],t.unshift(n),t},t.prototype.insert_new_term=function(e,t){return(t=this.clone(t)).length>=this.max_search_terms&&(t=t.slice(0,this.max_search_terms-1)),t.unshift(e),t},t.prototype.save_history=function(e){var t,n;return 0===(null!=(t=(n=this.current_unique_terms())[0])?t.indexOf(e):void 0)?n[0]=e:n=n.includes(e)?this.move_existing_term_to_most_recent(e,n):this.insert_new_term(e,n),this.save_terms(n)},t.prototype.save_preferences=function(e,t){return Scribd.with_local_storage((n=this,function(r){var o,a;return(a=n.read().query_preferences)[e]=t,o=Object.assign(n.read(),{query_preferences:a}),r.setItem(n.search_data_key,JSON.stringify(o))}));var n},t}()}).call(this,n(10))},102:function(e,t,n){},103:function(e,t,n){},1038:function(e,t,n){var r,o,a,i,s,c=function(e,t){return function(){return e.apply(t,arguments)}},u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},l={}.hasOwnProperty;a=n(5).dispatchCustomEvent,s=n(5).triggerHotjar,i=n(5).trackPageLoadPerformance,n(1039),r=function(){function e(e,t){var n,r,o,a;null==t&&(t={}),this.track_cvv_tooltip=c(this.track_cvv_tooltip,this),this.track_zipcode=c(this.track_zipcode,this),this.track_cvv=c(this.track_cvv,this),this.track_expiration=c(this.track_expiration,this),this.track_ccn=c(this.track_ccn,this),this.submit=c(this.submit,this),this.opts=t,this.container=$(e),this.timeouts={},t.tracking&&this.track(t.tracking),this.track("page","view"),this.setup_handlers(),a=this,n=function(e){var t;if(t=e.data(a.out_timeout))return clearTimeout(t)},r=function(e){return function(t,r){return n(t),t.addClass("show"),e.track("view_"+t.attr("class")+"_tooltip")}}(this),o=function(e,t){return n(e),e.removeClass("show")},this.container.dispatch("mouseover",{secure_server_header:function(){return r($("#paymentDetails"))},credit_card_question:function(){return r($("#paymentDetailInfo"))}}),this.container.dispatch("mouseout",{secure_server_header:function(){return o($("#paymentDetails"))},credit_card_question:function(){return o($("#paymentDetailInfo"))}}),this.container.dispatch("focusin",{tooltip:r}),this.container.dispatch("focusout",{tooltip:o}),this.track_upload_button(),this.container.dispatch("click",{archive_upload_button:function(e){return function(t,n){var r;if(e.track("start_upload"),(r=Scribd.Lightbox.open("upload_lb")).set_title(I18n.t("payments.checkout_flow.billing.upload_and_gain_access_to_select")),!e.lightbox_bound)return e.lightbox_bound=!0,r.container.dispatch("click",{upload_button:function(t){return e.track("lightbox_upload_click"),"continue"}}),r.container.on("Scribd:lightbox:closed",(function(){return e.track("lightbox_dismiss")}))}}(this)}),i("billing",Scribd.logged_in,Scribd.is_bot),t.is_pmp&&s("pmp_billing")}return e.prototype.out_timeout="out_timeout",e.prototype.tooltip=".tooltip",e.prototype.track_category="new_checkout_flow",e.prototype.track_base="payment",e.prototype.events_tracked=[],e.prototype.track_upload_button=function(){if($(".archive_upload_button"))return this.container.track_rats("archive_plans:start_upload:view")},e.prototype.setup_handlers=function(){return this.container.dispatch("click",{eula_link:(e=this,function(){return e.track("view_eula"),"continue"}),secure_server_header:function(e){return function(t){return e.container.find("#paymentDetails").focus()}}(this),credit_card_question:function(e){return function(t){return e.container.find("#paymentDetailInfo").focus()}}(this),continue_button:function(e){return function(t){return e.submit()}}(this)});var e},e.prototype.submit=function(){var e;return e="Scribd:credit_card_form:submit",this.container.trigger(e),a(document,e)},e.prototype.track=function(e,t,n){var r;if(null==t&&(t="click"),null==n&&(n=!0),!(u.call(this.events_tracked,r)>=0&&n))return r=this.track_base+":"+e+":"+t,this.container.track_rats(r,this.track_data()),this.events_tracked.push(r)},e.prototype.track_data=function(){return{product_handle:this.opts.product_handle,cart_context:this.opts.cart_context}},e.prototype.track_ccn=function(){return this.track("creditcard_number_input")},e.prototype.track_expiration=function(){return this.track("creditcard_expire_month_and_year_input")},e.prototype.track_cvv=function(){return this.track("creditcard_securitycode_input")},e.prototype.track_zipcode=function(){return this.track("creditcard_zipcode_input")},e.prototype.track_cvv_tooltip=function(){return this.track("view_parent_tooltip")},e}(),Scribd.addComponent("Billing",r),o=function(e){function t(e,n){this.opts=null!=n?n:{},this.track_submit=c(this.track_submit,this),this.track_cvv_tooltip=c(this.track_cvv_tooltip,this),this.track_cvv=c(this.track_cvv,this),this.track_expiration=c(this.track_expiration,this),this.track_ccn=c(this.track_ccn,this),this.init=c(this.init,this),t.__super__.constructor.apply(this,arguments),this.expandable_brief=this.container.find(".expandable .brief"),this.expandable_full=this.container.find(".expandable .full"),this.opts.container=this.container,this.opts.form=this.form,this.container.track_rats("update_payments:page:view",{page:"update_payments_page",value:this.opts.dunning_track_value}),i("payment_profile_update",Scribd.logged_in,Scribd.is_bot),this.init()}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.track_base="update_payments",t.prototype.init=function(){var e;return this.container.dispatch("click",{continue_button:(e=this,function(){return e.track("save_btn"),"continue"}),cvv_help:function(e){return function(){return e.track("security_code_qmark"),"continue"}}(this)}),this.container.on("focus",".continue_button",function(e){return function(){return e.track("save_btn","focus")}}(this)),this.container.on("focus",".tooltip_parent",function(e){return function(){return e.track("security_code_qmark","focus")}}(this))},t.prototype.track_data=function(){return{page:"update_payments_page",value:this.opts.dunning_track_value}},t.prototype.track_ccn=function(){return this.track("creditcard_box"),this.track("creditcard_box","focus")},t.prototype.track_expiration=function(){return this.track("month_box"),this.track("month_box","focus"),this.track("year_box"),this.track("year_box","focus")},t.prototype.track_cvv=function(){return this.track("security_code"),this.track("security_code","focus")},t.prototype.track_cvv_tooltip=function(){return this.track("security_code_qmark")},t.prototype.track_submit=function(){return this.track("save_btn")},t}(r),Scribd.addComponent("PaymentProfileUpdate",o)},1039:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r=n(11),o=n.n(r);t.default=o()({loader:function(){return n.e(95).then(n.bind(null,194))},loading:function(){return null}})},1040:function(e,t,n){},1041:function(e,t,n){},1042:function(e,t,n){},1043:function(e,t,n){},1044:function(e,t,n){},1045:function(e,t,n){},1046:function(e,t,n){},1047:function(e,t,n){},1048:function(e,t,n){n(1049),Scribd.Email=function(e,t){this.container=$(e),this.container.track({action:"view",label:"email"}),this.container.on("Scribd:Facebook:login_success",(function(e,n){return window.location.href=t}))}},1049:function(e,t,n){},105:function(e,t,n){},1050:function(e,t,n){},1051:function(e,t,n){n(1052),Scribd.PaymentsReauthenticateFacebook=function(){function e(e){var t;this.container=$(e),this.container.track({action:"view",label:"reauthenticate_facebook"}),this.container.find("#fb_login").click((t=this,function(){return FB.getAuthResponse()?FB.logout(t.login):t.login()}))}return e.prototype.login=function(){return FB.login((function(e){if(e.authResponse)return document.location="/payments/reauthenticate_facebook?reauth_login=1"}))},e}()},1052:function(e,t,n){},1053:function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty;n(1054),Scribd.StoredCard=function(e){function t(e,n){this.opts=null!=n?n:{},this.submit=r(this.submit,this),t.__super__.constructor.apply(this,arguments),this.button=this.container.find(".continue_button")}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,Scribd.Billing),t.prototype.submit=function(){return this.container.find("#payment_form").submit(),this.button.prop("disabled",!0),this.button.addClass("disabled loading")},t}()},1054:function(e,t,n){},1055:function(e,t,n){"use strict";(function(e){var t=n(11),r=n.n(t)()({loader:function(){return Promise.all([n.e(30),n.e(106)]).then(n.bind(null,1535))},loading:function(){return e.createElement("div",{className:"spinner","aria-hidden":"true"})}});Scribd.addComponent("Payments.CheckoutFlow.Upsell",r)}).call(this,n(0))},1056:function(e,t,n){var r=function(e,t){return function(){return e.apply(t,arguments)}};n(1057),Scribd.PaymentsButton=function(){function e(e,t,n){var o;this.check_and_set_form_submitted=r(this.check_and_set_form_submitted,this),this.disable_button=r(this.disable_button,this),this.container=$(e),this.form=$("#"+t),this.button=this.form.find(".continue_button"),this.spinner=this.form.find(".spinner"),this.disable_on_click=n,this.container.dispatch("click",{continue_button:(o=this,function(e,t){if(!o.button.attr("disabled"))return o.disable_button(),o.form.submit()})}),this.disable_on_click&&this.form.submit(function(e){return function(t){return e.disable_button(),e.check_and_set_form_submitted()}}(this))}return e.prototype.disable_button=function(){if(this.disable_on_click)return this.button.prop("disabled",!0),this.button.addClass("disabled"),this.spinner.addClass("active")},e.prototype.check_and_set_form_submitted=function(){return!this.form_submitted&&(this.form_submitted=!0)},e}()},1057:function(e,t,n){},1058:function(e,t){var n,r,o;Scribd.track_event,o=function(e,t){return $(document.body).track({category:"mobile_signup_"+e,action:"click",label:"success:"+t})},r=function(e){var t,n,r,a;return t=e.document_id,r=e.phone_number,a=e.tracking_type,n={document_id:t,phone_number:r},$.post("/read/text_signup",n,(function(e){return o("sms_"+a,e.valid)}))},n=function(e){var t;return t=e.tracking_type,$.post("/read/email_signup",(function(e){return o("email_"+t,e.valid)}))},null==Scribd.Shared&&(Scribd.Shared={}),Scribd.Shared.MobileDownloadForms={send_sms:r,send_email:n}},1059:function(e,t,n){},106:function(e,t,n){},1060:function(e,t,n){},1061:function(e,t,n){},1062:function(e,t,n){},1063:function(e,t,n){},1064:function(e,t,n){},1065:function(e,t,n){},1066:function(e,t,n){},1067:function(e,t,n){},107:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(54),i=n.n(a),s=n(1),c=n(26),u=n(1154),l=n(52),_=n(57),p=(n(202),n(203),n(204),n(3)),f=n.n(p),d=(n(196),n(212),n(197),n(198),n(205),n(213),n(174),n(214),n(200),n(206),n(34),n(215),n(148),n(216),n(217),n(218),n(38),n(207),n(219),n(102),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(88),n(120),n(35)),h=n(2792),m=n(9);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,a=k(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),O(E(t=a.call(this,e)),"track",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},n,{doc_id:t.props.doc_id,page:t.props.track_page});Object(m.a)("get_app_modal:".concat(e),r)})),O(E(t),"handleOpenLightbox",(function(){Scribd.Lightbox.open_react("get_app_modal",o.a.createElement(d.a,t.props)),t.track("show")})),t}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(h.a,b({handleOpenLightbox:this.handleOpenLightbox},this.props))}}])&&g(t.prototype,n),r&&g(t,r),i}(o.a.Component);Scribd.addComponent("NativeApps.Buttons",x);n(100),n(71),n(121),n(139),n(141),n(91),n(145);n.p=window.Scribd.webpack_public_path,Object(c.b)(window.Scribd.AssetPath),window.React=o.a,window.ReactDOM=i.a,window.i18next=s.default,window.I18n=s.default,window.dd=u.a,s.default.key=function(e){return e},window&&window.i18next_lng&&window.i18next_fallback&&(s.default.init({lng:window.i18next_lng,fallbackLng:window.i18next_fallback,debug:window.i18next_debug,interpolation:{prefix:"{{",suffix:"}}",escapeValue:!1,format:function(e,t,n){if("locale"===t&&(e||0===e))return e.toLocaleString(s.default.services.languageUtils.getLanguagePartFromCode(n))}},saveMissing:!0,returnEmptyString:!1,returnNull:!1,resources:window._translations}),s.default.on("missingKey",(function(e,t,n){var r="i18next missing translation for key: ".concat(n," in language: ").concat(e);Object(l.a)(new Error(r))}))),Object(_.a)(),window.classNames=f.a,null!==window.navigator.userAgent.match(/MSIE|Trident/)&&document.getElementById("flash_container")&&Scribd.Flasher.standard("info",s.default.t("shared.ie11_notice_html"),{user_dismiss:!1,should_focus:!0,raw:!0})},108:function(e,t,n){"use strict";var r=n(55);(function(e){if(Scribd.Sentry){var t=e?e.id:null,n={id:t,isLoggedIn:!!t};r.a.init({applicationId:"4887e7ad-3515-4be4-a2d6-176982a45eed",clientToken:"pubbf9e8fd53472a3cf694061e745fb6746",site:"datadoghq.com",service:"monolith",env:Scribd.Sentry.environment,sampleRate:10,trackInteractions:!0}),n.isLoggedIn&&n.id&&r.a.setUser({id:n.id})}})(Scribd.current_user)},1097:function(e,t,n){"use strict";n.r(t);var r=n(25),o=(n(107),n(108),n(653),n(152),n(486),n(1038),n(491)),a=n(3),i=n.n(a),s=n(1),c=n(11),u=n.n(c),l=n(0),_=n.n(l),p=n(4),f=n.n(p),d=n(2),h=n(7),m=n(160);n(1044);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E,S,O,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o=v(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).enclosing_class("auto__payments_checkout_flow_footer_base"),t}return t=a,(n=[{key:"render_terms_icon",value:function(){return[_.a.createElement("sup",{"aria-hidden":"true",key:"icon_sup"},_.a.createElement("span",{className:"icon icon-ic_openinnewwindow_8"})),_.a.createElement("span",{key:"icon_span",className:"visually_hidden"},s.default.t("payments.checkout_flow.footer.base.opens_in_a_new_window"))]}},{key:"render_terms",value:function(e){return _.a.createElement("p",{className:"terms"},s.default.t("payments.checkout_flow.footer.base.by_clicking_label_you_agree_to",{label:e})+" ",_.a.createElement("a",{className:"eula_link",href:"http://support.scribd.com/entries/24003933-Scribd-Paid-Access-End-User-License-Agreement",target:"_blank"},s.default.t("payments.checkout_flow.footer.base.scribd_s_terms_of_service"),this.render_terms_icon()))}},{key:"render_button",value:function(e){return this.props.show_apple_pay&&this.props.apple_pay_selected&&void 0!==window.ApplePaySession&&ApplePaySession.supportsVersion(4)?_.a.createElement(h.c,{className:"continue_button applepay_button",title:"Apple Pay"},s.default.t("payments.checkout_flow.footer.base.buy_with"),_.a.createElement("span",{className:"apple_pay_mark"}," ï£¿Pay")):this.props.show_google_pay_button?_.a.createElement(h.c,{className:"continue_button googlepay",title:"Google Pay"}):_.a.createElement(m.a,{disabled:!this.props.start_free_trial_enabled&&this.props.show_one_tap_ui,className:"continue_button"},e)}},{key:"render_cancel_anytime_msg",value:function(){return _.a.createElement("p",{className:"secure_server_button_message"},_.a.createElement("span",{className:"cancel_anytime_copy"},s.default.t("payments.checkout_flow.footer.base.cancel_anytime")))}},{key:"render_checkout_button",value:function(e){if(!this.props.show_one_tap_ui&&(this.props.show_creditcard_form||this.props.is_stored_card_form))return _.a.createElement("div",{className:"button_container"},this.render_button(e),this.render_cancel_anytime_msg())}},{key:"render_content",value:function(){return _.a.createElement("div",{className:"footer"},this.render_terms(s.default.t("payments.checkout_flow.footer.base.submit")),this.render_checkout_button(s.default.t("payments.checkout_flow.footer.base.submit")))}}])&&b(t.prototype,n),r&&b(t,r),a}(d.a);O={apple_pay_selected:!1,is_stored_card_form:!1,show_apple_pay:!1,show_ebanx:!1,show_google_pay_button:!1,show_one_tap_ui:!1,start_free_trial_enabled:!1},(S="defaultProps")in(E=x)?Object.defineProperty(E,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):E[S]=O,Scribd.addComponent("Payments.CheckoutFlow.Footer.Base",x);var j=n(416),P=n(335);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o=I(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(A(t=o.call(this,e)),"renderArchiveFooterCta",(function(e){return _.a.createElement("div",{className:"archive_footer_cta"},_.a.createElement("hr",{className:"billing_hr"}),_.a.createElement("h2",{className:"billing_plan_header"},s.default.t("payments.checkout_flow.footer.archive.your_plan")),t.render_billing_plan_img(),_.a.createElement("p",{className:"billing_plan_price",dangerouslySetInnerHTML:{__html:t.billingPlanPrice}}),_.a.createElement("p",{className:"billing_plan_subtitle"},t.render_billing_plan_subtitle()),t.renderCreditCardFormCheckout(e))})),t.enclosing_class("auto__payments_checkout_flow_footer_archive"),t}return t=a,r=[{key:"propTypes",get:function(){return Object.assign({},C(M(a),"propTypes",this),{cart_total:f.a.string,eligible_for_free_trial:f.a.bool.isRequired,labels:f.a.shape({checkout_button:f.a.string,terms:f.a.string}),logo_image:f.a.string.isRequired,show_one_tap_ui:f.a.bool.isRequired,show_plus_tax:f.a.bool.isRequired})}}],(n=[{key:"component_classes",value:function(){return i()({one_tap_ui:this.props.show_one_tap_ui})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"labels",get:function(){return this.props.labels?this.props.labels:{checkout_button:s.default.t("payments.checkout_flow.footer.archive.submit"),terms:{type:"default"}}}},{key:"billingPlanPrice",get:function(){var e=this.props,t=e.cart_total,n=e.show_plus_tax,r=this.props.labels.terms,o=r.eligible_plan_price_dollar_format,a=r.month_label;return"limited"===r.type?n?s.default.t("checkout_flow.billing.limited_time_price_plus_tax",{eligiblePlanPrice:o,specialPrice:t,time:a}):s.default.t("checkout_flow.billing.limited_time_price",{eligiblePlanPrice:o,specialPrice:t,time:a}):s.default.t("checkout_flow.billing.price_per_month",{price:t})}},{key:"render_can_cancel_membership",value:function(){return" ".concat(s.default.t("payments.checkout_flow.footer.cancel_membership_any_time_from_account_settings"))}},{key:"render_separators",value:function(){return _.a.createElement("span",null,_.a.createElement("br",null),_.a.createElement("br",null))}},{key:"render_first_paragraph_and_space",value:function(e){if(!this.props.eligible_for_free_trial&&!this.props.free_to_paid_conversion)return _.a.createElement(_.a.Fragment,null,e,this.render_can_cancel_membership(),this.render_separators())}},{key:"render_terms",value:function(e){return _.a.createElement("p",{className:"terms archive"},_.a.createElement("span",{className:"text_container"},this.render_first_paragraph_and_space(e),s.default.t("payments.checkout_flow.footer.archive.access_an_unlimited_number_of_books")+" ",_.a.createElement("a",{className:"eula_link",href:"http://support.scribd.com/entries/24003933-Scribd-Paid-Access-End-User-License-Agreement",target:"_blank"}," ".concat(s.default.t("payments.checkout_flow.footer.archive.full_terms_are_available_here")),this.render_terms_icon()),_.a.createElement("span",{className:"contact_us_link",dangerouslySetInnerHTML:{__html:" ".concat(s.default.t("payments.checkout_flow.footer.archive.questions_a_href_contact_us_html",{help_link:"http://support.scribd.com/hc/requests/new"}))}})))}},{key:"render_billing_plan_subtitle",value:function(){return this.props.is_nyt_bundle?_.a.createElement("span",null,s.default.t("payments.checkout_flow.footer.archive.unlimited_books_audiobooks_document_downloads_and_")):this.props.calm_bundle?_.a.createElement("span",null,s.default.t("payments.checkout_flow.footer.archive.unlimited_books_audiobooks_document_downloads_and"),", ",s.default.t("payments.checkout_flow.footer.archive.plus_full_access_to_calm_the")):_.a.createElement("span",null,s.default.t("payments.checkout_flow.unlimited_books_downloads_more"))}},{key:"render_billing_plan_img",value:function(){var e;return e=this.props.calm_bundle?s.default.t("payments.checkout_flow.footer.archive.scribd_plus_calm"):this.props.is_nyt_bundle?s.default.t("payments.checkout_flow.footer.archive.scribd_plus_new_york_times"):"Scribd",this.props.is_nyt_bundle?[_.a.createElement("img",{key:"img1",className:"billing_plan_img scribd_logo",src:this.props.scribd_logo_image,alt:"Scribd"}),_.a.createElement("img",{key:"img2",className:"billing_plan_img",src:this.props.logo_image,alt:e})]:_.a.createElement("img",{className:"billing_plan_img",src:this.props.logo_image,alt:e})}},{key:"renderCreditCardFormCheckout",value:function(e){var t=this.props,n=t.cart_total,r=t.eligible_for_free_trial,o=t.show_one_tap_ui,a=t.show_plus_tax;if(!o)return _.a.createElement(_.a.Fragment,null,_.a.createElement("hr",{className:"billing_hr"}),_.a.createElement(j.a,{eligibleForFreeTrial:r,price:n,withTax:a}),this.render_checkout_button(e))}},{key:"render_archive_footer",value:function(e,t){return this.props.free_to_paid_conversion?_.a.createElement("div",{className:"footer archive_footer"},_.a.createElement("div",{className:"archive_footer_cta free_to_paid"})):_.a.createElement("div",{className:"footer archive_footer"},this.renderArchiveFooterCta(t),this.render_terms(e))}},{key:"localize_date",value:function(e){return Object(P.b)(e,this.props.current_locale)}},{key:"get_terms",value:function(){var e=this.labels.terms,t=e.local_price_cart_total,n=e.duration,r=e.trial_end_timestamp,o=e.frequency,a=e.month_label,i=e.number_to_currency_cart_total_dollars,c=e.eligible_plan_price_dollar_format;switch(e.type){case"free_trial":return this.props.show_plus_tax?s.default.t("payments.checkout_flow.trial_duration.membership_begins_with_duration_free_plus_tax",{trialDuration:n,trialEndDate:this.localize_date(r),price:t,frequency:o})+" ":s.default.t("payments.checkout_flow.trial_duration.membership_begins_with_duration_free",{trialDuration:n,trialEndDate:this.localize_date(r),price:t,frequency:o})+" ";case"annual":return this.props.show_plus_tax?s.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_plus_tax",{local_price_cart_total:t})+" ":s.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per",{local_price_cart_total:t})+" ";case"one_month":return this.props.show_plus_tax?s.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_plus_tax_",{local_price_cart_total:t})+" ":s.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_",{local_price_cart_total:t})+" ";case"limited":return this.props.show_plus_tax?s.default.t("payments.checkout_flow.footer.archive.your_membership_begins_with_month_label_for_plus_tax",{month_label:a,number_to_currency_cart_total_dollars:i,trial_end_timestamp:this.localize_date(r),eligible_plan_price_dollar_format:c})+" ":s.default.t("payments.checkout_flow.footer.archive.your_membership_begins_with_month_label_for",{month_label:a,number_to_currency_cart_total_dollars:i,trial_end_timestamp:this.localize_date(r),eligible_plan_price_dollar_format:c})+" ";case"subscription":return this.props.show_plus_tax?s.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_plus_tax_",{local_price_cart_total:t})+" ":s.default.t("payments.checkout_flow.footer.archive.you_will_be_charged_local_price_cart_total_per_",{local_price_cart_total:t})+" ";default:return s.default.t("payments.checkout_flow.footer.archive.submit")+" "}}},{key:"render_content",value:function(){var e=this.labels.checkout_button,t=this.get_terms();if(!this.props.eligible_for_free_trial)return this.render_archive_footer(t,e)}}])&&R(t.prototype,n),r&&R(t,r),a}(x);Scribd.addComponent("Payments.CheckoutFlow.Footer.Archive",B);n(1045);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(a,e);var t,n,r,o=q(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).enclosing_class("auto__payments_checkout_flow_footer_giftcard"),t}return t=a,(n=[{key:"render_content",value:function(){return _.a.createElement("div",{className:"footer archive_footer"},_.a.createElement("div",{className:"archive_footer_cta"}))}}])&&L(t.prototype,n),r&&L(t,r),a}(x);Scribd.addComponent("Payments.CheckoutFlow.Footer.Giftcard",H);n(1046);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(a,e);var t,n,r,o=J(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).enclosing_class("auto__payments_checkout_flow_footer_update"),t}return t=a,r=[{key:"propTypes",get:function(){return Object.assign({},G(X(a),"propTypes",this),{supports_profile_updates:f.a.bool,is_test:f.a.bool,show_creditcard_form:f.a.bool,terms_link_href:f.a.string.isRequired,eligible_for_immediate_payment_or_under_dunning_lock:f.a.bool})}},{key:"defaultProps",get:function(){return Object.assign({},G(X(a),"defaultProps",this),{show_creditcard_form:!0})}}],(n=[{key:"get_checkout_button_text",value:function(){return this.props.labels&&this.props.labels.checkout_button?this.props.labels.checkout_button:this.props.eligible_for_immediate_payment_or_under_dunning_lock?s.default.t("payments.checkout_flow.footer.update.update_payment"):s.default.t("payments.checkout_flow.footer.update.save")}},{key:"render_terms_link",value:function(e){return _.a.createElement("a",{className:"eula_link",href:this.props.terms_link_href,target:"_blank"},e)}},{key:"render_terms",value:function(){var e;this.props.show_ebanx&&(e=_.a.createElement("span",{className:"ebanx_terms"},s.default.t("payments.checkout_flow.ebanx.terms.processed_by_ebanx")," ",_.a.createElement("a",{href:"https://business.ebanx.com/en/legal/privacy-policy",target:"_blank"},s.default.t("payments.checkout_flow.ebanx.terms.view_terms"),this.render_terms_icon())));var t=_.a.createElement("p",{className:"terms"},e,s.default.t("payments.checkout_flow.footer.update.your_membership_billing_will_not_be")+" ",this.render_terms_link(s.default.t("payments.checkout_flow.footer.update.scribd_paid_access_end_user_license")),".");return this.props.supports_profile_updates&&(t=_.a.createElement("p",{className:"terms"},e,s.default.t("payments.checkout_flow.footer.update.your_payment_details_will_be_used"))),t}},{key:"render_content",value:function(){return _.a.createElement("div",{className:"footer archive_footer"},_.a.createElement("div",{className:"archive_footer_cta"},this.render_checkout_button(this.get_checkout_button_text())),this.render_terms())}}])&&W(t.prototype,n),r&&W(t,r),a}(x);Scribd.addComponent("Payments.CheckoutFlow.Footer.Update",Z);var Q=n(30);n(1047);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var le=["nyt_welcome","nyt_upsell"],_e=function(){return _.a.createElement("div",{className:"spinner","aria-hidden":"true"})},pe=u()({loader:function(){return Promise.resolve().then(n.bind(null,925))},loading:_e}),fe=u()({loader:function(){return n.e(30).then(n.bind(null,2846))},loading:_e}),de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(c,e);var t,n,r,a=ie(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).enclosing_class("auto__payments_checkout_flow_form_wrapper"),t.state={apple_pay_selected:!1,cta_text:null,interstitial_type:null,show_google_pay_button:!1,show_welcome_interstitial:!1,welcome_interstitial_props:{},card_number:"",expiration_date:"",security_code:""},t.localized_trial_end_timestamp=Object(P.b)(t.props.trial_end_timestamp,t.props.current_locale),t}return t=c,(n=[{key:"componentDidUpdate",value:function(e,t){this.state.show_welcome_interstitial&&!t.show_welcome_interestitial&&window.scrollTo(0,0)}},{key:"handle_payment_type",value:function(e){this.setState({apple_pay_selected:"applepay"===e.target.value,show_google_pay_button:"google_pay"===e.target.value})}},{key:"handle_card_number_change",value:function(e){this.setState({card_number:e})}},{key:"handle_expiration_date_change",value:function(e){this.setState({expiration_date:e})}},{key:"handle_security_code_change",value:function(e){this.setState({security_code:e})}},{key:"set_cta_text",value:function(e){this.setState({cta_text:e})}},{key:"component_classes",value:function(){return i()({interstitial_open:this.state.show_welcome_interstitial})}},{key:"get_start_free_trial_enabled",value:function(){var e=this.state,t=e.card_number,n=e.expiration_date,r=e.security_code,o=t.length&&n.length&&r.length;return!!this.props.show_one_tap_ui&&o}},{key:"get_credit_card_form_props",value:function(){var e=this.props,t=e.calm_bundle,n=e.nyt_bundle,r=e.payment_profile_update_page,o=e.show_nyt_upsell,a=e.show_one_tap_ui,i=e.stored_card_form_props,s=ne(ne({},this.props.credit_card_form_props),{},{calm_bundle:t,handle_payment_type:this.handle_payment_type,nyt_bundle:n,payment_profile_update_page:r,set_cta_text:this.set_cta_text,set_cta_visible:this.set_cta_visible,show_one_tap_ui:a,stored_card_form_props:i});return(n||o)&&(s.handle_form_submit_redirect=this.handle_form_submit_redirect),s.show_one_tap_ui&&(s.handle_card_number_change=this.handle_card_number_change,s.handle_expiration_date_change=this.handle_expiration_date_change,s.handle_security_code_change=this.handle_security_code_change,s.start_free_trial_enabled=this.get_start_free_trial_enabled()),s}},{key:"showing_interstitial",value:function(e){return!!le.includes(e)&&this.state.show_welcome_interstitial&&this.state.interstitial_type===e}},{key:"get_form_header",value:function(){var e=this.props,t=e.cart,n=e.context,r=e.nyt_bundle,o=e.show_archive_flow_headers,a=e.show_nyt_upsell;if("update"!==n&&(r||a||o)&&!this.showing_interstitial("nyt_welcome")&&!this.showing_interstitial("nyt_upsell"))return o?t.eligible_for_free_trial?s.default.t("payments.checkout_flow.form_wrapper.activate_your_free_trial"):s.default.t("payments.checkout_flow.form_wrapper.resume_your_membership"):t.eligible_for_free_trial?s.default.t("payments.checkout_flow.form_wrapper.activate_your_free_trial"):s.default.t("payments.checkout_flow.form_wrapper.start_your_membership")}},{key:"get_form_subheader",value:function(){var e=this.props,t=e.billing_plan_price,n=e.cart_total_price,r=e.cart,o=e.formatted_zero_price,a=e.show_archive_flow_headers;if((e.show_nyt_upsell||a)&&!this.state.show_welcome_interstitial)return r.eligible_for_free_trial?_.a.createElement(_.a.Fragment,null,_.a.createElement("p",{className:"top_text","data-e2e":"subheader_top_text",dangerouslySetInnerHTML:{__html:s.default.t("payments.checkout_flow.form_wrapper.zero_due_before_date",{cart_total:o,trial_end_date:this.localized_trial_end_timestamp,billing_plan_price:t})}}),_.a.createElement("div",{className:"dont_worry_container"},_.a.createElement(Q.a,{icon:"email"}),_.a.createElement("span",{className:"dont_worry_text","data-e2e":"subheader_dont_worry_text"},s.default.t("shared.dont_worry_we_will_email")))):s.default.t("payments.checkout_flow.form_wrapper.add_payment_to_resume_membership",{cart_total:n})}},{key:"should_show_nyt_welcome",value:function(){return!(!this.props.nyt_bundle||"pmp"!==this.props.context&&!this.props.renewal_nag_update)}},{key:"should_show_nyt_upsell_interstitial",value:function(){return this.props.show_nyt_upsell}},{key:"show_welcome_interstitial",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Scribd.Lightbox.close("checkout_loading_lb"),this.setState({show_welcome_interstitial:!0,interstitial_type:e,welcome_interstitial_props:t})}},{key:"handle_form_submit_redirect",value:function(e){var t;this.redirect_url=e,this.should_show_nyt_welcome()?(t={redirect_url:e},this.show_welcome_interstitial("nyt_welcome",t)):this.should_show_nyt_upsell_interstitial()?(t={continue_path:this.redirect_url,handle_switch_plans_success:this.handle_switch_plans_success,handle_switch_plans_error:this.handle_switch_plans_error},this.show_welcome_interstitial("nyt_upsell",t)):window.location=e}},{key:"handle_switch_plans_success",value:function(){this.show_welcome_interstitial("nyt_welcome",{redirect_url:this.redirect_url})}},{key:"handle_switch_plans_error",value:function(){var e=Object.assign({},this.state.welcome_interstitial_props,{error:!0});this.show_welcome_interstitial("nyt_upsell",e)}},{key:"render_credit_card_form",value:function(){return _.a.createElement("div",{className:"body",key:"body"},_.a.createElement(o.a,ee({},this.get_credit_card_form_props(),{key:"credit_card_form"})))}},{key:"render_footer",value:function(){var e=this.props.cart,t=e.giftcard,n=e.archive,r={apple_pay_selected:this.state.apple_pay_selected,show_apple_pay:this.props.credit_card_form_props.show_apple_pay,show_google_pay_button:this.state.show_google_pay_button},o=x,a=ne(ne({},r),this.props.base_footer_props);if(this.props.payment_profile_update_page)o=Z,a=ne(ne({},r),this.props.update_footer_props);else if(t)o=H,a=ne(ne({},r),this.props.giftcard_footer_props);else{if(!n)return _.a.createElement(x,this.props.base_footer_props);o=B;var i=Object.assign({},this.props.archive_footer_props);a=ne(ne(ne({},r),i),{},{calm_bundle:this.props.calm_bundle})}return this.state.cta_text&&(a.labels=Object.assign({},a.labels,{checkout_button:this.state.cta_text})),a.start_free_trial_enabled=this.get_start_free_trial_enabled(),_.a.createElement(o,ee({},a,{key:"form_wrapper_footer"}))}},{key:"render_form_contents",value:function(){return _.a.createElement("div",{className:"form_contents"},this.render_credit_card_form(),this.render_footer())}},{key:"render_form_header",value:function(){if(!this.showing_interstitial("nyt_welcome")&&!this.showing_interstitial("nyt_upsell")){var e=this.get_form_header();if(e)return _.a.createElement("h1",{className:"form_header"},e)}}},{key:"render_form_subheading",value:function(){var e=this.get_form_subheader();if(e)return _.a.createElement("div",{className:"form_subheading","data-e2e":"payment_subheading"},e)}},{key:"render_welcome_interstitial",value:function(){var e;switch(this.state.interstitial_type){case"nyt_welcome":return e=Object.assign({},this.state.welcome_interstitial_props,this.props.nyt_welcome_props),_.a.createElement(pe,e);case"nyt_upsell":return e=Object.assign({},this.props.nyt_upsell_interstitial_props||{},this.state.welcome_interstitial_props),_.a.createElement(fe,e);default:return}}},{key:"render_content",value:function(){var e;return e=this.state.show_welcome_interstitial?this.render_welcome_interstitial():this.render_form_contents(),_.a.createElement("div",{className:"form_wrapper_wrapper"},_.a.createElement("div",{className:"wrapper",role:"main"},_.a.createElement("div",{className:"main_header"},this.render_form_header(),this.render_form_subheading()),e))}}])&&oe(t.prototype,n),r&&oe(t,r),c}(d.a);Scribd.addComponent("Payments.CheckoutFlow.FormWrapper",de);n(1048),n(492),n(925),n(1051),n(1053),n(493),n(1055),n(1056),n(1058),n(1059),n(734),n(1060),n(1061),n(1062),n(730),n(1063),n(1064),n(1065),n(735),n(1066),n(1067);Object(r.renderReact)("Views::Payments::CheckoutFlow::FormWrapper",de)},11:function(e,t,n){e.exports=n(19)(18)},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){"use strict";(function(e,t){var r=n(59),o=n(64),a=n(66),i=n(68),s=n(2),c=n(6),u=n(23),l=n(56),_=n(151),p=n(210),f=n(69);n(138);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(E,n);var s,d,g,k=b(E);function E(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E),w(v(t=k.call(this,e)),"getNotificationDotProps",(function(){return{handleRemoveDot:t.handleRemoveDot,setUserHasSeenBundles:t.setUserHasSeenBundles,showNotificationDot:t.state.showNotificationDot}})),w(v(t),"handleRemoveDot",(function(){t.state.showNotificationDot&&t.setState({showNotificationDot:!1})})),w(v(t),"showNotificationDot",(function(){if(!t.props.notificationDotInitProps)return!1;var e=t.props.notificationDotInitProps,n=e.hasSeenBundles;return e.showBundles&&!n&&"true"!==Object(_.a)(f.a)})),w(v(t),"setUserHasSeenBundles",(function(){if(t.props.notificationDotInitProps){var e=t.props.notificationDotInitProps,n=e.accountSettingsPath;if(!e.hasSeenBundles&&n){var r={notification_dot_dismissed:Date.now()};Object(p.a)(n,r,"main site global_nav")}}})),t.enclosing_class("auto__shared_navigation_global_nav"),t.state={show_sidebar:t.should_show_components(t.get_width_var()),page_width:t.get_width_var(),showNotificationDot:t.showNotificationDot()},t.cookie_jar=new CookieJar,t.onboardingMessagesShown=Object(l.a)(t.cookie_jar),t}return s=E,(d=[{key:"componentDidMount",value:function(){this.add_hybrid_class(),this.debounced_resize=e.debounce(this.handle_resize,50),window.addEventListener("resize",this.debounced_resize),this.handle_resize(),this.debounced_resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.debounced_resize)}},{key:"add_hybrid_class",value:function(){this.props.show_global_side_nav&&$(document.body).addClass("hybrid")}},{key:"language_picker_already_closed",value:function(){return!1}},{key:"width_less_than",value:function(e){return window.matchMedia("(max-width: ".concat(e,"px)")).matches}},{key:"handle_resize",value:function(){this.width_less_than(700)||this.remove_no_scroll_class();var e=this.get_width_var();this.set_width(e)}},{key:"get_width_var",value:function(){return this.width_less_than(u.a.breakpoint_450)?c.a:this.width_less_than(u.a.breakpoint_550)?c.d:this.width_less_than(u.a.breakpoint_700)?c.c:this.width_less_than(u.a.breakpoint_950)?c.e:c.b}},{key:"set_width",value:function(e){if(this.state.page_width!==e){var t=this.should_show_components(e);this.setState({page_width:e,show_sidebar:t})}}},{key:"close_sidebar",value:function(){this.setState({show_sidebar:!1})}},{key:"remove_no_scroll_class",value:function(){var e=document.body.classList;e.contains("no_scroll")&&e.remove("no_scroll")}},{key:"should_show_components",value:function(e){var t=!1;switch(e){case c.a:case c.d:case c.c:t=!1;break;case c.e:case c.b:t=!0}return t}},{key:"toggle_sidebar",value:function(e){e.preventDefault(),this.setState({show_sidebar:!this.state.show_sidebar},this.keyboard_user_focus)}},{key:"keyboard_user_focus",value:function(){this.state.show_sidebar?this.focus_on_sidebar():this.focus_back_on_header()}},{key:"focus_back_on_header",value:function(){this.get_focusable_children()[0].focus()}},{key:"focus_on_sidebar",value:function(){this.container.querySelector(".global_nav_sidebar a").focus()}},{key:"get_header_props",value:function(){return Object.assign({},this.props.header_props,{page_width:this.state.page_width,sidebar_open:this.state.show_sidebar,handle_toggle_sidebar:this.toggle_sidebar,notificationDotProps:this.getNotificationDotProps()})}},{key:"render_language_message",value:function(){var e=this.props,n=e.language_message_props;if("home"!==e.sidebar_props.selected_content_type||!this.onboardingMessagesShown)return n?t.createElement(i.a,n):void 0}},{key:"render_header",value:function(){return this.props.show_global_side_nav?t.createElement(a.a,h({key:"header_hybrid"},this.get_header_props())):t.createElement(r.a,h({key:"header"},this.get_header_props()))}},{key:"render_sidebar",value:function(){if(this.props.show_global_side_nav)return this.state.show_sidebar?t.createElement(o.a,h({key:"sidebar",page_width:this.state.page_width,handle_toggle_sidebar:this.toggle_sidebar,close_sidebar:this.close_sidebar,focus_on_header:this.keyboard_user_focus,notificationDotProps:this.getNotificationDotProps()},this.props.sidebar_props)):void 0}},{key:"render_content",value:function(){return[this.render_header(),this.render_sidebar(),this.render_language_message()]}}])&&m(s.prototype,d),g&&m(s,g),E}(s.a);Scribd.addComponent("Shared.Navigation.GlobalNav",E)}).call(this,n(10),n(0))},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){n(140),Scribd.Footer=function(){function e(e){var t,n;this.setup_events=(t=this.setup_events,n=this,function(){return t.apply(n,arguments)}),this.container=$(e),this.mouse_down=!1,this.back_to_top=this.container.find(".back_to_top_link"),this.container.one("inview",(function(){return $(document.body).track_rats("footer:show")})),this.setup_events()}return e.prototype.setup_events=function(){var e;return this.container.dispatch("click",{back_to_top_link:(e=this,function(t){return e.scroll_to_top(t),"continue"})}),this.container.on("mousedown",function(e){return function(){return e.set_mouse_true()}}(this)),this.container.on("focusin",function(e){return function(){return e.check_for_tab_user()}}(this)),this.container.on("focusout",function(e){return function(){return e.hide_back_to_top()}}(this))},e.prototype.check_for_tab_user=function(){if(!this.mouse_down)return this.show_back_to_top()},e.prototype.set_mouse_true=function(){if(!this.back_to_top.is(":visible"))return this.mouse_down=!0},e.prototype.show_back_to_top=function(){if(!this.back_to_top.is(":visible"))return this.back_to_top.show().focus()},e.prototype.hide_back_to_top=function(){return setTimeout((e=this,function(){if(!$(document.activeElement).closest(e.container).length)return e.mouse_down=!1,e.back_to_top.hide()}),100);var e},e.prototype.scroll_to_top=function(e){return 0===$("#global_header").length?(e.preventDefault,$("h1").first().attr("tabIndex",-1).focus()):$("#global_header").attr("tabIndex",-1).focus(),window.scrollTo(0,0)},e}()},14:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return i}));var r=n(101),o=n.n(r),a=(n(34),n(44));function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.getElementById("lightboxes");Scribd.data.deferredLocationData.then((function(r){var i=o()({},Scribd.data.accountCreation,t,{inEU:r.is_in_eu,inModal:!0,userCountry:r.current_user_country,reCaptchaEnabled:r.reCaptchaEnabled}),s=n.querySelector("#login_drop");s?ReactDOM.unmountComponentAtNode(s):((s=document.createElement("div")).id="login_drop",n.appendChild(s)),Scribd.Lightbox.open_react("login_drop",e.createElement(a.a,i))}))}}.call(this,n(0))},140:function(e,t,n){},141:function(e,t,n){"use strict";(function(e){var t=n(2),r=n(45);n(143);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,t);var n,o,c,u=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=u.call(this,e)).enclosing_class("auto__shared_navigation_language_footer_selector"),t.state={selected_language:e.current_language,menu_open:!1},t}return n=l,(o=[{key:"show_menu",value:function(){this.setState({menu_open:!0})}},{key:"close_menu",value:function(){this.setState({menu_open:!1})}},{key:"get_language_click",value:function(e){var t=this;return function(){t.track_rats("language_picker:footer:language:click",{locale:e.lang,current_locale:t.props.current_language.lang})}}},{key:"handle_button_click",value:function(){this.track_rats("language_picker:footer:clicked",{current_locale:this.props.current_language.lang})}},{key:"render_links",value:function(){var t=this;return this.props.languages.map((function(n){return e.createElement("li",{className:"item",key:"language_item-".concat(n.lcid)},e.createElement("a",{href:n.href,className:classNames("language_link",{selected:n.prefix===t.props.current_language.prefix}),lang:n.lcid,onClick:t.get_language_click(n)},n.name))}))}},{key:"render_menu",value:function(){return e.createElement("ul",{className:"language_list flex_col"},this.render_links())}},{key:"render_btn",value:function(){var t=this.props,n=t.current_language,r=t.extra_classes;return e.createElement("a",{className:classNames("text_btn language_btn flex_row",r),href:"#language","aria-haspopup":"true","aria-expanded":this.state.menu_open,onClick:this.handle_button_click},e.createElement("span",{className:"name icon_button_text"},n.name),this.render_english_label(),e.createElement("span",{className:"visually_hidden",lang:n.prefix},I18n.t("shared.navigation.language.picker.change_language")))}},{key:"render_english_label",value:function(){if("en"!==this.props.current_language.prefix)return e.createElement("span",{className:"visually_hidden",lang:"en"},"Change Language")}},{key:"render_content",value:function(){return e.createElement(r.default,{button:this.render_btn(),menu:this.render_menu(),autoclose:!1,is_open:this.state.menu_open,on_hide:this.close_menu,on_show:this.show_menu,skip_aria_and_data_props:!0})}}])&&a(n.prototype,o),c&&a(n,c),l}(t.a);Scribd.addComponent("Navigation.Language.Footer",l)}).call(this,n(0))},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){(function(e){n(146),Scribd.RatsLog=function(){function t(t,n){this.opts=null!=n?n:{},this.container=$(t),this.log=this.container.find(".rats_log .contents"),this.filter=this.container.find(".filter_input"),this.template=e.template(this.container.find(".rats_log_row_template").html()),this.unread_events=0,this.is_open=!0,this.visibility_btn=this.container.find(".visibility_btn"),this.captured_events=[],this.setup_events(),this.hide()}return[""],t.prototype.setup_events=function(){var t;return $(document.body).on("scribd:rats_event",(t=this,function(e,n,r){return t.rats_event($(e.target),n,r)})),this.container.dispatch("click",{open_log_btn:function(e){return function(t){return e.visibility_btn.hasClass("open_btn")?e.open():e.hide()}}(this),element:function(e){return function(t){return e.highlight_box(t.data("selector"))}}(this),clear_filter:function(e){return function(t){return e.filter.val(""),e.filter_events(!1)}}(this),unique_filter:function(e){return function(t){return e.filter_events(e.current_filter,e.unique_events())}}(this)}),this.filter.on("keydown",e.debounce(function(e){return function(t){return e.filter_events(e.filter.val())}}(this),100)),this.container.on("click",(function(e){return e.stopPropagation()})),$(window).on("keyup",function(e){return function(t){if(27===t.keyCode&&e.is_open)return e.hide()}}(this))},t.prototype.rats_event=function(e,t,n){var r,o;return this.unread_event(1),o={label:t,data:this.stringify(n),element:this.identify(e),idx:this.captured_events.length,uclassname:"rat_event_"+t+"_"+n.action+"_"+n.label},this.captured_events.push(o),!this.current_filter||this.current_filter&&this.matches(o,this.current_filter)?this.log.prepend(this.template(o)):(r=$(this.template(o)).hide(),this.log.prepend(r))},t.prototype.matches=function(t,n){var r,o,a,i,s,c,u,l,_;if(u=!1,i=!1,"-"===n.charAt(0)&&(n=n.substr(1),i=!0),n.indexOf(":")>-1)"parts",u=!((l=n.split(":")).length<2)&&(l[0]=e.str.trim(l[0]),l[1]=e.str.trim(l[1].toLowerCase()),null!=t.data&&t.data.replace(/\s/g,"").indexOf(l[0]+":"+l[1])>-1);else if("unique"===n){for(o=!1,a=s=0,c=(_=this.captured_events).length;s<c;a=++s)if((r=_[a]).category===t.category&&r.label===t.label&&r.data===t.data){o=!0;break}u=!o}else"label",u=t.label.toLowerCase().indexOf(n)>-1;return i&&(u=!u),u},t.prototype.filter_events=function(t,n){var r,o,a,i,s,c,u,l,_,p,f;if(null==n&&(n=this.captured_events),e.isEmpty(t))return this.current_filter=!1,void this.container.find(".logged_event").show();for(this.current_filter=t,"unique"===t&&(n=this.unique_events(),t=""),i=s=0,l=(a=t.indexOf(",")>-1?t.split(","):[t]).length;s<l;i=++s)o=a[i],a[i]=e.str.trim(o.toLowerCase());for(f=[],i=c=0,_=n.length;c<_;i=++c)for(r=n[i],u=0,p=a.length;u<p;u++)o=a[u],this.matches(r,o)&&f.push(i);return this.update_visible(f),f},t.prototype.update_visible=function(t){var n,r,o,a,i,s,c;for(this.container.find(".logged_event").show(),c=[],o=a=0,i=(s=this.captured_events).length;a<i;o=++a)r=s[o],n=this.container.find(".event_"+r.idx),e.indexOf(t,o)>-1?c.push(n.show()):c.push(n.hide());return c},t.prototype.unique_events=function(){var e,t,n,r,o,a,i,s,c,u,l;for(l=[],r=o=0,i=(c=this.captured_events).length;o<i;r=++o){for(t=c[r],n=!1,a=0,s=l.length;a<s;a++)if(e=l[a],(u=this.captured_events[e]).category===t.category&&u.label===t.label&&u.data===t.data){n=!0;break}n||l.push(r)}return this.current_filter="unique",console.log("Of "+this.captured_events.length+" captured events, "+l.length+" were unique"),l},t.prototype.unread_event=function(e){return this.unread_events+=e,this.visibility_btn.text(this.unread_events)},t.prototype.read_event=function(e){return this.unread_events=Math.max(0,this.unread_events-e),this.visibility_btn.text(this.unread_events)},t.prototype.identify=function(e){return"."+e[0].className.split(" ")[0]},t.prototype.stringify=function(t,n){var r,o;return null==n&&(n=": "),function(){var a;for(r in a=[],t)o=t[r],e.isObject(o)?a.push(r+n+this.stringify(o)):a.push(r+n+o);return a}.call(this).join("\n")},t.prototype.hide=function(){return this.container.find(".rats_log").hide(),this.is_open=!1,this.visibility_btn.removeClass("close_btn icon_caret").addClass("open_btn icon-ic_arrow_small_left_alt "),this.read_event(this.unread_events),this.container.find(".new").removeClass("new")},t.prototype.open=function(){return this.container.find(".rats_log").show(),this.filter.focus(),this.is_open=!0,this.visibility_btn.removeClass("open_btn icon-ic_arrow_small_left_alt").addClass("close_btn icon-ic_right_caret_alt")},t.prototype.highlight_elm=function(e){var t,n;return(n=$(e)).length?(this.highlight_box||(t=$("<div></div>").css({position:"absolute",border:"3px solid #ff0",width:n.outerWidth(),height:n.outerHeight(),left:n.offset().left,top:n.offset().top}),this.highlight_box=t),$(document.body).append(this.highlight_box)):console.error("could not find "+e)},t}()}).call(this,n(10))},146:function(e,t,n){},152:function(e,t,n){n(153),n(154),Scribd.CheckoutFlowLogin=function(){function e(e,t){var n;this.container=$(e),this.next_url=t,this.page_name="checkout_flow_login",this.forgot_pw_lb=null,this.container.track({action:"view",label:this.page_name}),this.container.dispatch("click",{default_input:function(e,t){var n;if((n=$(t.target)).removeClass("greyed"),n.attr("value")===n.attr("default"))return n.attr("value","")},forgot_password:(n=this,function(e,t){return n.forgot_pw_lb=Scribd.Lightbox.open("forgot_password_lb",Scribd.ForgotPasswordLightbox,n),!1})}),this.initialize_input_labels(),this.container.on("Scribd:Facebook:login_success",function(e){return function(t,n){return window.location.href=e.next_url}}(this))}return e.prototype.initialize_input_labels=function(){var e,t,n,r,o;for(o=[],e=0,n=(r=$(".default_input")).length;e<n;e++)t=r[e],""===(t=$(t)).attr("value")?(t.attr("value",t.attr("default")),o.push(t.addClass("greyed"))):o.push(void 0);return o},e.prototype.show=function(){if(this.forgot_pw_lb)return this.forgot_pw_lb.close()},e}()},153:function(e,t,n){},154:function(e,t,n){n(155),n(148),Scribd.FacebookLoginButton=function(){function e(e){var t;this.container=$(e),this.container.data("created",!0),this.form=this.container.find("form"),this.button=this.container.find(".flat_btn"),this.container.click((t=this,function(){return t.container.trigger("scribd:facebook_login"),t.button.addClass("loading").prop("disabled",!0),Scribd.facebook.login((function(e){return t.on_login(e)}))}))}return e.prototype.parse_cookie=function(){var e,t,n,r,o;try{e=document.cookie}catch(e){return e,{fbs_cookie:"none"}}return(t=e.match(/(fbs_[a-f0-9]*)\s*=\s*([^;]+)/))?(t[0],n=t[1],{fbs_cookie:o=(null!=(r=(o=t[2]).match(/^"(.*)"$/))?r[1]:void 0)||o,fbs_cookie_name:n}):{fbs_cookie:"none"}},e.prototype.on_login=function(e){var t,n,r,o;if(this.button.removeClass("loading").prop("disabled",!1),null!=e?e.authResponse:void 0){for(t in n=this.parse_cookie())o=n[t],this.add_hidden(t,o);for(t in r=e.authResponse)o=r[t],this.add_hidden("facebook_session["+t+"]",o);return this.container.data("remote")?this.submit_remotely():this.form.submit()}},e.prototype.submit_remotely=function(){var e,t,n;return e=this.form.serialize(),t=this.form.attr("action"),$.ajax({url:t,type:"post",dataType:"json",data:e,success:(n=this,function(e){return e.success?n.container.trigger("Scribd:Facebook:login_success",[e]):n.container.find(".fb_fail_message").show()}),complete:function(e){return function(n){if("/facebook_link"===t)return e.container.trigger("Scribd:Facebook:login_success",[n])}}(this)})},e.prototype.add_hidden=function(e,t){return this.fields||(this.fields=this.form.find(".session_fields")),$('<input type="hidden" />').attr("name",e).attr("value",t).appendTo(this.fields)},e}()},155:function(e,t,n){},17:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var r=function(t){return e.createElement("div",{className:classNames("header_container flex_row",t.extra_classes),key:"header_container"},t.children)}}).call(this,n(0))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,a=c(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state={lightbox:null},t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=$(this.container);if(e.on("Scribd:lightbox:closed",this.handle_click_close),!e.closest("#lightboxes").length&&!e.closest(".inline_lightbox").length&&"test"!==Scribd.rails_env)throw new Error("Tried to render a react lightbox not inside #lightboxes");var t=this.props.stacked?Scribd.StackedLightbox:Scribd.Lightbox,n=this.state.lightbox||new t(this.container,!1);$(this.container).hide(),this.setState({lightbox:n}),n.show()}},{key:"component_classes",value:function(){return classNames("lightbox",{no_fullscreen:this.props.no_fullscreen,lite:this.props.render_lite},this.props.className)}},{key:"enclosing_element_args",value:function(){return{"aria-describedby":this.props.aria_describedby,"aria-hidden":"true","aria-label":this.get_aria_label(),"aria-labelledby":this.get_aria_labelled_by(),onBlur:this.handle_blur,role:"dialog",tabIndex:"-1"}}},{key:"handle_blur",value:function(e){e.stopPropagation(),$(this.container).attr("tabindex",null)}},{key:"handle_click_close",value:function(e){e.preventDefault(),this.props.handle_click_close&&this.props.handle_click_close()}},{key:"get_aria_labelled_by",value:function(){return this.props.aria_labelled_by||this.uid("lightbox")}},{key:"get_aria_label",value:function(){if(this.props.aria_label)return this.props.aria_label}},{key:"render_close_button",value:function(){if(!1!==this.props.show_close)return o.a.createElement("a",{href:"#",className:"close_button"},o.a.createElement("span",{className:"icon icon-ic_close_small"},o.a.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.lightbox.close_dialog"))))}},{key:"render_title",value:function(){if(this.props.title)return o.a.createElement("h2",{className:"title",id:this.get_aria_labelled_by()},this.props.title)}},{key:"render_content",value:function(){var e=this.props.children;return this.props.render_lite||(e=o.a.createElement(o.a.Fragment,null,this.render_close_button(),o.a.createElement("div",{className:"content"},this.render_title(),this.props.children))),o.a.createElement("div",{className:"wrapper"},e)}}])&&i(t.prototype,n),r&&i(t,r),u}(n(2).a);_.defaultProps={render_lite:!1},Scribd.addComponent("Shared.Lightbox",_)},19:function(e,t){e.exports=react16},195:function(e,t,n){},2:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.floor(1e6*Math.random());return"".concat(e,"_").concat(t,"_").concat(n)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,m,y,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(u,e);var t,n,r,i=p(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).bindMethodsToThis(),t.enclosing_class("auto__base_component"),t.name=t.constructor.name,t.element_uids={},t}return t=u,(n=[{key:"track_rats",value:function(e,t){$(this.container).track_rats(e,t)}},{key:"track_rats_with_vid",value:function(e){window.$rat.root().withVid((function(t){e("".concat(t,".0"))}))}},{key:"trigger",value:function(e,t){t?$(this.container).trigger(e,t):$(this.container).trigger(e)}},{key:"uid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.uid_generator?this.props.uid_generator(e):(this.element_uids[e]||(this.element_uids[e]=a(this.name,e)),this.element_uids[e])}},{key:"image_url",value:function(e){var t=Scribd.asset_host;return"".concat(t,"/images/").concat(e.trim().replace(/\/+/g,"/"))}},{key:"get_focusable_children",value:function(){if(!this.container)return[];var e=u.FOCUSABLE_CHILDREN.map((function(e){return e+":not(.visually_hidden)"}));return Array.from(this.container.querySelectorAll(e.join(", ")))}},{key:"enclosing_class",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._enclosing_classes=this._enclosing_classes||[],e&&this._enclosing_classes.push(e),this._enclosing_classes.join(" ")}},{key:"component_classes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e}},{key:"get_component_classname",value:function(){return"".concat(this.enclosing_class()," ").concat(this.component_classes())}},{key:"getMethodNames",value:function(){var e,t=["bindMethodsToThis","componentDidMount","componentDidUpdate","componentWillMount","componentWillReceiveProps","componentWillUnmount","componentWillUpdate","constructor","render","shouldComponentUpdate"],n=[],r=c(Object.getOwnPropertyNames(this.constructor.prototype));try{for(r.s();!(e=r.n()).done;){var o=e.value;"function"==typeof this[o]&&-1===t.indexOf(o)&&n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"bindMethodsToThis",value:function(){var e=this;this.getMethodNames().forEach((function(t){e[t]=e[t].bind(e)}))}},{key:"enclosing_tag",value:function(){return"div"}},{key:"enclosing_element_args",value:function(){return{}}},{key:"render_content",value:function(){"test"!==Scribd.rails_env&&console.log("".concat(this.constructor.name," needs render_content method instead of render for auto_encapsulation"))}},{key:"render",value:function(){var e=this,t=this.enclosing_tag();return o.a.createElement(t,s({ref:function(t){e.container=t,e.props.node_ref&&e.props.node_ref(t)},className:this.get_component_classname()},this.enclosing_element_args()),this.render_content())}},{key:"hook_tooltips",value:function(){Scribd.hook_tooltips($(this.container))}},{key:"render_visually_hidden",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className?n.className="".concat(n.className," visually_hidden"):n.className="visually_hidden",o.a.createElement(t,n,e)}},{key:"render_icon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",r=null;return t.length&&(r=this.render_visually_hidden(t)),o.a.createElement(n,{className:"icon icon-ic_".concat(e),"aria-hidden":"true"},r)}}])&&l(t.prototype,n),r&&l(t,r),u}(o.a.Component);y=["button","[href]","input","select","textarea","[tabindex]:not([tabindex='-1'])"],(m="FOCUSABLE_CHILDREN")in(h=b)?Object.defineProperty(h,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[m]=y,Scribd.addComponent("Shared.BaseComponent",b);t.a=b},20:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(2),o=n(46),a=n(18),i=n(7);n(106);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,t);var n,r,s,_=l(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=_.call(this,e)).enclosing_class("auto__shared_navigation_language_modal"),t.state={selected_language:t.props.currentLanguage},t}return n=p,(r=[{key:"component_classes",value:function(){return"language_modal"}},{key:"handle_select",value:function(e){var t=this;return function(){t.track_rats("language_picker:modal:language:click",{locale:e.lang,current_locale:t.props.currentLanguage.lang}),t.setState({selected_language:e})}}},{key:"handle_save_click",value:function(){this.track_rats("language_picker:modal:save",{locale:this.state.selected_language.lang,current_locale:this.props.currentLanguage.lang}),window.location=this.state.selected_language.href}},{key:"handle_cancel_click",value:function(){this.track_rats("language_picker:modal:cancel"),Scribd.Lightbox.close()}},{key:"handle_close",value:function(){this.track_rats("language_picker:modal:close"),"function"==typeof this.props.handle_lightbox_close&&this.props.handle_lightbox_close()}},{key:"get_description",value:function(){return this.props.recommenderTest?I18n.t("shared.navigation.language.modal.we_ll_translate_site_navigation_and_tailor"):I18n.t("shared.navigation.language.modal.we_ll_translate_site_navigation_to_match")}},{key:"render_radio_buttons",value:function(){var t=this;return this.props.languages.map((function(n,r){return e.createElement("div",{lang:n.lcid,key:r},e.createElement(o.a,{key:n.lcid,class:"language_radio",name:"radios",value:r.toString(),id:"modal-radio".concat(r),label_text:n.name,selected:t.state.selected_language.lang===n.lang,onChange:t.handle_select(n)}))}))}},{key:"render_buttons",value:function(){return e.createElement("div",{className:"buttons_container flex_row"},e.createElement(i.c,{onClick:this.handle_cancel_click,className:"text_btn cancel_button"},I18n.t("shared.navigation.language.modal.cancel")),e.createElement(i.c,{onClick:this.handle_save_click,className:"save_button"},I18n.t("shared.navigation.language.modal.save")))}},{key:"render_btn",value:function(){var t=this.props,n=t.currentLanguage,r=t.extra_classes;return e.createElement("a",{className:classNames("text_btn language_btn flex_row",r),onClick:this.toggle_menu},e.createElement("span",{className:"icon icon-ic_language"}),e.createElement("span",{className:"lcid icon_button_text"},n.lcid),this.render_arrow())}},{key:"render_content",value:function(){return e.createElement(a.a,{title:I18n.t("shared.navigation.language.modal.language_options"),handle_click_close:this.handle_close},e.createElement("div",{className:"description"},this.get_description()),e.createElement("fieldset",null,e.createElement("legend",{className:"second_header"},I18n.t("shared.navigation.language.modal.select_your_preferred_language")),this.render_radio_buttons()),this.render_buttons())}}])&&c(n.prototype,r),s&&c(n,s),p}(r.a)}).call(this,n(0))},23:function(e,t,n){"use strict";t.a={breakpoint_320:320,breakpoint_450:450,breakpoint_550:550,breakpoint_700:700,breakpoint_950:950,breakpoint_1024:1024,breakpoint_1141:1141,breakpoint_1190:1190,breakpoint_1376:1376}},24:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));n(129);var r=function(){var t=function(t,n){return e.createElement("div",{className:classNames("color_section",t),style:{width:"".concat(n,"%")}})};return e.createElement("div",{className:"color_divider flex_row"},t("seafoam_regular",4),t("teal_dark",12),t("teal_light",48),t("midnight_light",12),t("wine_light",16),t("yellow_dark",8))}}).call(this,n(0))},25:function(e,t,n){e.exports=n(19)(21)},2533:function(e,t,n){n(189),e.exports=n(1097)},266:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(417);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=null;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(n){var o=n.state;o&&(e.preventPopStateScroll||Object(r.a)(window),t(o))}}function c(){window.removeEventListener("popstate",i),i=null}function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};i&&c(),i=s(n,r),window.addEventListener("popstate",i),n.preventPopStateScroll&&(window.history.scrollRestoration="manual"),(e=window.history).replaceState.apply(e,o(t))}},28:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return v}));var o=n(9),a=n(12),i=n(73),s=n(175),c=n(31),u=n(30),l=n(2),_=n(60);n(123);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(b,t);var n,l,p,m=h(b);function b(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),g(y(n=m.call(this,t)),"set_suggestions_ref",(function(e){n.suggestions_ref=e})),g(y(n),"track_suggestions_cancel",(function(){var e=n.state.suggestion_items.map(Scribd.Search.Input.Show.get_pruned_search_html);e.length&&Object(o.a)("search:drop_down_suggest:cancel",{source:n.get_source(),search_session_id:n.search_session_id,page:window.location.pathname,query_typed:n.get_input_value(),suggestions:e})})),n.enclosing_class("auto__search_input_show"),n.state={focused:!1,keep_suggestions_on_blur:n.props.keep_suggestions_on_blur,query:n.props.query,query_history:n.get_history(),suggested_query:"",suggestion_index:-1,suggestions_xhr:null,suggestion_items:[],trust_suggestion_items:!0,show_suggestions:!1},n.memoized_queries={},n.get_suggestions=e.debounce(n.get_suggestions,180),n}return n=b,p=[{key:"get_search_session_id",value:function(){var e=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return JSON.stringify(e)},t=new CookieJar({path:"/"});t.get("search_session")||t.put("search_session",e());var n=t.get("search_session")||e();return n=n.replace(/[\"\\]/g,"")}},{key:"get_pruned_search_html",value:function(e){return e.replace(/<\/?em>/g,"")}}],(l=[{key:"enclosing_element_args",value:function(){return{role:"search"}}},{key:"component_classes",value:function(){return classNames("search_input_container",this.props.extra_classes)}},{key:"componentDidMount",value:function(){$(document.body).on("header:search_page:focus_input",this.focus_search),$(document.body).on("click",this.handle_container_click),document.addEventListener("click",this.handle_hide_suggestions)}},{key:"componentWillUnmount",value:function(){$(document.body).off("header:search_page:focus_input",this.focus_search),$(document.body).off("click",this.handle_container_click),document.removeEventListener("click",this.handle_hide_suggestions)}},{key:"search_session_id",get:function(){return Scribd.Search.Input.Show.get_search_session_id()}},{key:"focus_search",value:function(){this.state.focused||this.search_input.focus()}},{key:"handle_hide_suggestions",value:function(e){this.search_form_node&&!this.search_form_node.contains(e.target)&&this.hide_suggestions()}},{key:"handle_container_click",value:function(e){if(this.should_show_suggestions()){this.setState({suggestions_open:!1});var t=this.container;$(e.target).closest(t)[0]||this.suggestions_ref.getBoundingClientRect().bottom>b.HEADER_HEIGHT&&e.preventDefault()}}},{key:"get_history",value:function(){var e=(new Scribd.UI.SearchStorage).read();return e?e.terms:[]}},{key:"invalidate_suggestions_xhr",value:function(){this.setState({suggestions_xhr:null})}},{key:"use_query_history",value:function(){this.setState({query:"",suggestion_items:Array.from(this.state.query_history),trust_suggestion_items:!1,show_suggestions:Array.from(this.state.query_history).length>0})}},{key:"get_suggestions",value:function(t){var n,r=this;this.state.suggestions_xhr&&this.state.suggestions_xhr.abort(),t?this.memoized_queries[t]?this.setState({query:t,suggestion_items:this.memoized_queries[t],trust_suggestion_items:!0,show_suggestions:this.memoized_queries[t].length>0}):((n=$.get("/query_suggestions/web",{query:t},(function(n){n.query_suggestions?(r.memoized_queries[t]=e.map(n.query_suggestions,(function(e){return e.suggestion})),r.setState({suggestion_items:r.memoized_queries[t],trust_suggestion_items:!0,show_suggestions:r.memoized_queries[t].length>0})):r.setState({suggestion_items:[],show_suggestions:!1})}))).always(this.invalidate_suggestions_xhr),this.setState({query:t,suggestions_xhr:n})):this.use_query_history()}},{key:"track_rendered_search_items",value:function(){var e=this.get_input_value(),t="search:drop_down_suggest:show",n=this.search_session_id,r=this.get_page();e?Object(o.a)(t,{layout:"query_suggestions",query:e,search_session_id:n,page:r}):Object(o.a)(t,{layout:"search_history",query:e,search_session_id:n,page:r})}},{key:"get_suggested_query",value:function(e){return Scribd.Search.Input.Show.get_pruned_search_html(this.state.suggestion_items[e])}},{key:"get_source",value:function(){return this.state.query?"query_suggester":"recent_search"}},{key:"get_page",value:function(){return window.location.pathname.split("/")[1]||"home"}},{key:"get_input_value",value:function(){return this.state.suggestion_index>-1?this.state.suggested_query:this.state.query}},{key:"set_history",value:function(e){e&&((new Scribd.UI.SearchStorage).save_history(e),this.setState({query_history:this.get_history()}))}},{key:"navigate_to_app",value:function(e){window.location.href=this.props.search_url+"?"+$.param(e)}},{key:"navigate_suggestions",value:function(e){var t=Math.min(this.state.suggestion_items.length-1,Math.max(this.state.suggestion_index+e,-1));-1===t?this.setState({suggested_query:"",suggestion_index:t}):this.setState({suggested_query:this.get_suggested_query(t),suggestion_index:t})}},{key:"get_search_params",value:function(e){var t={query:e},n=(new Scribd.UI.SearchStorage).read(),r=n?n.query_preferences:{};return Object.assign({},t,r[e])}},{key:"submit_search",value:function(e,t){var n=this;this.search_submitted=!0,this.set_history(t);var r=this.get_search_params(t);this.setState({query:t},(function(){n.close_suggestions(),n.navigate_to_app(r)}))}},{key:"close_suggestions",value:function(){var e=this;this.search_submitted||this.track_suggestions_cancel(),this.setState({focused:!1,show_suggestions:!1,suggested_query:"",suggestion_index:-1,suggestion_items:[]},(function(){return e.props.handle_search_focus(!1)}))}},{key:"should_show_suggestions",value:function(){var e=(this.state.focused||this.props.keep_suggestions_on_blur)&&this.state.suggestion_items.length>0;this.state.show_suggestions!==e&&this.setState({show_suggestions:e})}},{key:"handle_click",value:function(){Object(o.a)("search:box:click",{page:this.get_page(),search_session_id:this.search_session_id})}},{key:"handle_close_suggestions_click",value:function(e){e.preventDefault(),this.close_suggestions()}},{key:"handle_search_button_click",value:function(e){this.handle_submit(e),this.close_suggestions()}},{key:"handle_submit",value:function(e){e.preventDefault(),(this.state.suggested_query||this.state.query)&&(-1!==this.state.suggestion_index&&Object(o.a)("search:drop_down_suggest:submit",{page:this.get_page(),search_session_id:this.search_session_id,source:this.get_source(),query:this.state.suggested_query}),this.submit_search(e,this.get_input_value()))}},{key:"handle_change",value:function(e){var t=this;e.persist(),this.setState({query:e.target.value,suggestion_index:-1},(function(){t.get_suggestions(e.target.value)}))}},{key:"handle_keydown",value:function(e){var t=a.a.enter,n=a.a.up_arrow,r=a.a.down_arrow,o=a.a.esc,i=a.a.tab;switch(e.keyCode){case t:this.handle_submit(e),e.target.blur(),this.close_suggestions();break;case n:e.preventDefault(),this.navigate_suggestions(-1);break;case r:e.preventDefault(),this.navigate_suggestions(1);break;case o:e.preventDefault(),e.target.blur(),this.close_suggestions();break;case i:this.state.suggestion_items.length>0&&(this.close_suggestions(),$(e.currentTarget).focus())}}},{key:"hide_suggestions",value:function(){this.setState({focused:!1,suggestion_index:-1,suggestion_items:[],show_suggestions:!1}),this.props.handle_search_focus(!1)}},{key:"handle_focus",value:function(){var e=this;this.setState({focused:!0},(function(){e.get_suggestions(e.state.query)})),this.props.handle_search_focus(!0),this.track_rendered_search_items()}},{key:"render_close_suggestions_btn",value:function(){return r.createElement(s.a,{above:!0,width:i.a.breakpoint_550},r.createElement("button",{type:"button",onClick:this.handle_close_suggestions_click,className:classNames({visible_close_button:this.state.focused},"close_related_search_button icon-ic_close")},r.createElement("span",{className:"visually_hidden"},I18n.t("search.input.show.close_suggestions"))))}},{key:"render_visually_hidden_results_count",value:function(){if(this.state.focused){var e=null;return e=this.state.show_suggestions?I18n.t("search.input.show.props_items_length_result_s_are_available_use_up",{props_items_length:this.state.suggestion_items.length}):I18n.t("search.input.show.no_search_results"),r.createElement("span",{className:"visually_hidden","aria-atomic":"true",role:"status","aria-live":"polite",id:"aria_live_status_container"},e)}}},{key:"render_suggestions",value:function(){if(this.state.show_suggestions)return r.createElement(_.a,{handle_click:this.submit_search,items:this.state.suggestion_items,label_text:0===this.state.query.length?I18n.t("search.input.show.recent_searches"):null,list_id:"suggestions_list",page:this.get_page(),query:this.state.query,selected_index:this.state.suggestion_index,source:this.get_source(),trust:this.state.trust_suggestion_items,set_suggestions_ref:this.set_suggestions_ref})}},{key:"render_content",value:function(){var e=this,t=this.get_input_value(),n=this.props.placeholder_text||I18n.t("search.input.show.search");return r.createElement("form",{className:"search_form",autoComplete:"off",onSubmit:this.handle_submit,ref:function(t){return e.search_form_node=t}},r.createElement("label",null,r.createElement("span",{className:"visually_hidden"},I18n.t("search.input.show.search")),r.createElement("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off",className:classNames("search_input",{focused:this.state.focused}),name:"query",onBlur:function(){setTimeout(e.close_suggestions,300)},onChange:this.handle_change,onClick:this.handle_click,onFocus:this.handle_focus,onKeyDown:this.handle_keydown,placeholder:this.state.focused?null:n,type:"search",value:t,ref:function(t){e.search_input=t}})),r.createElement(c.a,{className:"search_button no_spinner",onClick:this.handle_search_button_click,type:"submit",nodeRef:function(t){return e.search_button=t}},r.createElement(u.a,{icon:"search search_icon"}),this.render_visually_hidden(I18n.t("search.input.show.search"))),this.render_visually_hidden_results_count(),this.render_suggestions(),this.render_close_suggestions_btn())}}])&&f(n.prototype,l),p&&f(n,p),b}(l.a);g(v,"defaultProps",{keep_suggestions_on_blur:!1,handle_search_focus:function(){},query:"",placeholder_text:null}),g(v,"HEADER_HEIGHT",62),Scribd.addComponent("Search.Input.Show",v)}).call(this,n(10),n(0))},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),o=n.n(r),a=n(3),i=n.n(a),s=n(2);n(124);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,a=_(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).enclosing_class("auto__shared_react_persona_icon"),t}return t=s,(n=[{key:"component_classes",value:function(){var e=this.props,t=e.author,n=e.extra_css_classes,r=e.image_url,o=e.in_top_results_authors_test,a=e.size;return i()("persona_icon",a,n,{top_results_author_image:t&&o,"icon-ic_userofficial_60":t&&!r&&o,"icon-ic_user_circle":!t&&!r})}},{key:"enclosing_element_args",value:function(){return{"aria-hidden":!0}}},{key:"renderInitials",value:function(){return this.props.image_url||!this.props.author||this.props.in_top_results_authors_test?null:o.a.createElement("span",{"aria-hidden":"true"},this.props.initials)}},{key:"renderImage",value:function(){return this.props.image_url?o.a.createElement("img",{src:this.props.image_url,srcSet:"".concat(this.props.retina_image_url," 2x"),alt:""}):null}},{key:"render_content",value:function(){return o.a.createElement(o.a.Fragment,null,this.renderImage(),this.renderInitials())}}])&&u(t.prototype,n),r&&u(t,r),s}(s.a);d.defaultProps={extra_css_classes:"",image_url:"",in_top_results_authors_test:!1,retina_image_url:"",initials:""},Scribd.addComponent("Shared.React.PersonaIcon",d)},3:function(e,t,n){e.exports=n(19)(17)},32:function(e,t,n){"use strict";t.a={add:function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e},url:"/saved/add"})},markAsFinished:function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e,state:"finished_reading"},url:"/saved/finish"})},remove:function(e){return $.ajax({type:"DELETE",dataType:"json",data:{id:e},url:"/saved/remove"})},unmarkAsFinished:function(e){return $.ajax({type:"POST",dataType:"json",data:{id:e,state:"saved"},url:"/saved/finish"})}}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0),o=n.n(r),a=n(2),i=n(32),s=n(18),c=n(211),u=n(15);n(103);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,a=d(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),b(m(t=a.call(this,e)),"handleLightboxClose",(function(){t.props.isSubscriber&&t.props.doc_id&&t.saveTitleForSubscriber(),Scribd.StackedLightbox.close()})),b(m(t),"handleSuccessMessage",(function(e){Scribd.Flasher.toast("success",e),t.handleLightboxClose()})),t.enclosing_class("auto__shared_native_apps_lightbox"),t}return t=u,(n=[{key:"componentDidMount",value:function(){this.track("show")}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t,{doc_id:this.props.doc_id,page:this.props.track_page});this.track_rats("get_app_modal:".concat(e),n)}},{key:"saveTitleForSubscriber",value:function(){var e=this;i.a.add(this.props.doc_id).always((function(){e.props.handleDownloadToAppClick()}))}},{key:"render_content",value:function(){var e=this,t=Object.assign({},this.props,{showKindle:!1});return o.a.createElement(s.a,{aria_labelled_by:"get_app_modal_header",stacked:!0,handle_click_close:function(){return e.track("close:click")},className:"get_app_modal"},o.a.createElement(c.a,_({},t,{track:this.track,handleLightboxClose:this.handleLightboxClose,handleSuccessMessage:this.handleSuccessMessage})))}}])&&p(t.prototype,n),r&&p(t,r),u}(a.a);Scribd.addComponent("NativeApps.Lightbox",g),g.defaultProps={document:{},handleDownloadToAppClick:u.a,isSubscriber:!1}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(87),o=n(160),a=n(9),i=n(15),s=n(1),c=n(0),u=n.n(c),l=n(29),_=n(37),p=n(14);n(125);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(f,e);var t,n,i,c=y(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),k(g(t=c.call(this,e)),"pollForCtaText",(function(){Scribd.trial_days_button_text&&t.setState({bookPreviewButton:Scribd.trial_days_button_text},(function(){clearInterval(t.trialDaysCheck)}))})),k(g(t),"handleBodyClick",(function(e){t.menuOpen()&&(e.target.closest(".user_menu, .user_row, .user_util, .user_util_btn")||t.closeMenu())})),k(g(t),"menuOpen",(function(){return t.props.handle_externally?t.props.user_menu_open:t.state.menuOpen})),k(g(t),"handleJoinClick",(function(e){e.preventDefault(),Object(p.default)({initialView:"join",nextUrl:t.props.subscribe_url,trackingData:{loc:"header"}})})),k(g(t),"handleLoginClick",(function(e){e.preventDefault(),Object(p.default)({initialView:"login",nextUrl:function(e){"sign_up"===e.action?window.location.assign(t.props.subscribe_url):window.location.reload()},trackingData:{loc:"header"}})})),k(g(t),"handleReadFreeButtonClick",(function(e){e.preventDefault(),Object(a.a)("improved_join_button:click",{type:t.props.logged_out?"logged_out":"logged_in"});var n={initialView:"join",nextUrl:t.props.subscribe_url,trackingData:{loc:"header"}};Scribd.after_login(n,(function(){window.location.assign(t.props.subscribe_url)}))})),k(g(t),"closeMenu",(function(){t.props.handle_click&&t.props.handle_click(!1),t.setState({menuOpen:!1},(function(){t.user_util_btn_ref.focus(),t.props.notificationDotProps.handleRemoveDot()}))})),k(g(t),"toggleMenu",(function(e){if(e.preventDefault(),t.props.handle_click){var n=t.menuOpen();t.props.handle_click(!n)}t.props.handle_externally||t.setState({menuOpen:!t.menuOpen()},(function(){t.menuOpen()||t.props.notificationDotProps.handleRemoveDot()}))})),t.state={bookPreviewButton:null,menuOpen:t.props.user_menu_open},t}return t=f,(n=[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.handleBodyClick),this.props.book_preview_page&&this.props.eligibleForFreeTrial&&(this.trialDaysCheck=setInterval(this.pollForCtaText,200))}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleBodyClick)}},{key:"renderUserButton",value:function(){return this.props.icon_button?u.a.createElement("button",{type:"button",key:"icon_button",className:"responsive_sign_in_overflow user_util_btn icon_button",onClick:this.toggleMenu},u.a.createElement("span",{className:"overflow_icon icon-ic_overflowmenu"})):this.props.logged_out?this.renderLoggedOutButtons():this.renderLoggedInButton()}},{key:"renderLoggedOutButtons",value:function(){return u.a.createElement("div",{key:"logged_out_buttons",className:"signup_buttons flex_row"},this.renderSignInButton(),this.props.showReadFreeButton?this.renderReadFreeButton():this.renderJoinButton())}},{key:"renderSignInButton",value:function(){return u.a.createElement(r.a,{className:"sign_in_button",href:this.props.subscribe_url,key:"sign_in_button",onClick:this.handleLoginClick},I18n.t("shared.user_menu.button.sign_in"))}},{key:"renderJoinButton",value:function(){return u.a.createElement(r.a,{className:"join_button","data-e2e":"header_join_button",href:this.props.subscribe_url,key:"join_button",onClick:this.handleJoinClick},I18n.t("shared.user_menu.button.join"))}},{key:"renderReadFreeButton",value:function(){var e=s.default.t("shared.join.become_a_member"),t=this.props,n=t.trialDuration,r=t.book_preview_page;return n&&!r&&(e=s.default.t("shared.trial_duration.read_free_days",{trialDuration:n})),r&&this.state.bookPreviewButton&&(e=this.state.bookPreviewButton),u.a.createElement(o.a,{className:"read_free_button","data-e2e":"header_join_button",href:this.props.subscribe_url,onClick:this.handleReadFreeButtonClick},e)}},{key:"renderArrow",value:function(){if(!this.props.no_arrow)return u.a.createElement("span",{className:"icon icon-ic_dropdown_alt down_arrow arrow user_util"})}},{key:"renderLoggedInButton",value:function(){var e=this;if(this.props.persona_icon_props)return u.a.createElement("div",{className:"logged_in_buttons flex_row"},this.props.showReadFreeButton&&this.renderReadFreeButton(),u.a.createElement("a",{className:"user_util user_util_btn",href:"#user-util-view-profile","aria-label":I18n.t("shared.user_menu.button.user_settings"),"aria-expanded":this.menuOpen(),onClick:this.toggleMenu,key:"logged_in_button",ref:function(t){return e.user_util_btn_ref=t}},u.a.createElement("div",{className:"button_content flex_row"},u.a.createElement(l.a,this.props.persona_icon_props),this.props.notificationDotProps.showNotificationDot&&u.a.createElement("div",{className:"notification_dot"}),this.renderArrow())))}},{key:"renderMenu",value:function(){if(this.menuOpen())return u.a.createElement(_.a,d({key:"menu"},this.props.user_menu_props,{from_sidebar:this.props.from_sidebar,from_hybrid:this.props.from_hybrid,handle_close:this.closeMenu,notificationDotProps:this.props.notificationDotProps}))}},{key:"render",value:function(){return u.a.createElement("div",{className:"auto__shared_user_menu_button"},this.renderUserButton(),this.renderMenu())}}])&&h(t.prototype,n),i&&h(t,i),f}(u.a.Component);w.defaultProps={notificationDotProps:{handleRemoveDot:i.a,setUserHasSeenBundles:i.a,showNotificationDot:!1},showReadFreeButton:!1,trialDuration:null},Scribd.addComponent("Shared.UserMenu.Button",w)},37:function(e,t,n){"use strict";var r=n(11),o=n.n(r);t.a=o()({loader:function(){return n.e(108).then(n.bind(null,222))},loading:function(){return null}})},372:function(e,t,n){"use strict";function r(e,t,n){var r=e.card_details,o=e.ebanx_key,a=e.ebanx_token_url,i=e.country,s=r.expiration,c="".concat(s.slice(0,2),"/20").concat(s.slice(2,4)),u=new FormData;u.append("request_body",JSON.stringify({public_integration_key:o,payment_type_code:r.card_type,country:i.toLowerCase(),creditcard:{card_cvv:r.cvv,card_due_date:c,card_name:r.name,card_number:r.ccn}}));var l=function(){Scribd.Flasher.standard("error",I18n.t("payments.checkout_flow.credit_card_form.oops_there_was_an_error_processing"),{user_dismiss:!1,should_focus:!0}),n()};return $.ajax({type:"POST",accepts:"json",crossDomain:!0,url:a,data:u,processData:!1,contentType:!1,skipPrefilter:!0,xhrFields:{withCredentials:!1},success:function(e){"SUCCESS"===e.status?t(e):l()},error:l})}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u}));n(846);var o=n(39);function a(){o.s.forEach((function(e){$.payment.cards.find((function(t){return t.type===e}))||$.payment.cards.unshift(o.d[e])}))}var i=n(732),s=n(52);function c(e){var t=o.g[e];return t||(t=o.g.DEFAULT,Object(s.a)(new Error("Unsupported EBANX Error Message: [".concat(e,"]")))),t}function u(e){return[o.k.UPDATE,o.k.DUNNING].includes(e)}},38:function(e,t,n){"use strict";function r(e,t){var n=Scribd,r=e.split(/\/|\./),o=r.pop();r.length>0&&r.reduce((function(e,t){return void 0===e[t]&&(e[t]={}),n=e[t]}),Scribd),n[o]&&null===Scribd.rails_env.match(/production/)&&console.warn("Whoops! "+e+" is already defined. Make sure you're not overwriting something!"),n[o]=t}n.r(t),n.d(t,"default",(function(){return r})),window.Scribd=window.Scribd||{},Scribd.addComponent=r},39:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return d})),n.d(t,"s",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"x",(function(){return g})),n.d(t,"y",(function(){return v})),n.d(t,"r",(function(){return k})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return x})),n.d(t,"B",(function(){return j})),n.d(t,"A",(function(){return P})),n.d(t,"z",(function(){return N})),n.d(t,"o",(function(){return R})),n.d(t,"p",(function(){return C})),n.d(t,"n",(function(){return D})),n.d(t,"w",(function(){return I})),n.d(t,"u",(function(){return T})),n.d(t,"v",(function(){return A})),n.d(t,"t",(function(){return M})),n.d(t,"q",(function(){return B})),n.d(t,"h",(function(){return F}));var r,o=n(1521),a=n(1);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={AMEX:"amex",AURA:"aura",CABAL:"cabal",CARNET:"carnet",CREDIMAS:"credimas",DINERSCLUB:"diners",DISCOVER:"discover",ELO:"elo",HIPERCARD:"hipercard",MAGNA:"magna",MASTERCARD:"mastercard",NARANJA:"naranja",VISA:"visa"},l={format:/(\d{1,4})/g,length:[16],cvcLength:[3],luhn:!0},_=(c(r={},u.AMEX,{cvcLength:[3,4],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],patterns:[/^((34)|(37))/],type:u.AMEX}),c(r,u.AURA,{format:/(\d{1,10})(\d{1,9})?/,length:[12,13,14,15,16,17,18,19],patterns:[5078],type:u.AURA}),c(r,u.CABAL,{excludes:[/^((604201)|(604209))/],patterns:[/^((627170)|(589657)|(603522)|(604((20[1-9])|(2[1-9][0-9])|(3[0-9]{2})|(400))))/],type:u.CABAL}),c(r,u.CARNET,{patterns:[/^(286900|502275|506(199|2(0[1-6]|1[2-578]|2[289]|3[67]|4[579]|5[01345789]|6[1-79]|7[02-9]|8[0-7]|9[234679])|3(0[0-9]|1[1-479]|2[0239]|3[02-79]|4[0-49]|5[0-79]|6[014-79]|7[0-4679]|8[023467]|9[1234689])|4(0[0-8]|1[0-7]|2[0-46789]|3[0-9]|4[0-69]|5[0-79]|6[0-38]))|588772|604622|606333|627535|636(318|379)|639(388|484|559))/],type:u.CARNET}),c(r,u.CREDIMAS,{patterns:[50452],type:u.CREDIMAS}),c(r,u.DINERSCLUB,{format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,excludes:[/^((3646)|(3648))/],patterns:[/^((30)|(36)|(38))/],type:u.DINERSCLUB}),c(r,u.DISCOVER,{type:u.DISCOVER,patterns:[/^((6011)|(622)|(624)|(625)|(626)|(628)|(644)|(645)|(646)|(647)|(648)|(649)|(65))/]}),c(r,u.ELO,{patterns:[/^((509091)|(636368)|(636297)|(504175)|(438935)|(40117[8-9])|(45763[1-2])|(457393)|(431274)|(50990[0-2])|(5099[7-9][0-9])|(50996[4-9])|(509[1-8][0-9][0-9])|(5090(0[0-2]|0[4-9]|1[2-9]|[24589][0-9]|3[1-9]|6[0-46-9]|7[0-24-9]))|(5067(0[0-24-8]|1[0-24-9]|2[014-9]|3[0-379]|4[0-9]|5[0-3]|6[0-5]|7[0-8]))|(6504(0[5-9]|1[0-9]|2[0-9]|3[0-9]))|(6504(8[5-9]|9[0-9])|6505(0[0-9]|1[0-9]|2[0-9]|3[0-8]))|(6505(4[1-9]|5[0-9]|6[0-9]|7[0-9]|8[0-9]|9[0-8]))|(6507(0[0-9]|1[0-8]))|(65072[0-7])|(6509(0[1-9]|1[0-9]|20))|(6516(5[2-9]|6[0-9]|7[0-9]))|(6550(0[0-9]|1[0-9]))|(6550(2[1-9]|3[0-9]|4[0-9]|5[0-8])))/],type:u.ELO}),c(r,u.HIPERCARD,{patterns:[/^((606282)|(637095)|(637568)|(637599)|(637609)|(637612))/],type:u.HIPERCARD}),c(r,u.MAGNA,{patterns:[/^(568009)/],type:u.MAGNA}),c(r,u.MASTERCARD,{excludes:[/^(514256|514586|526461|511309|514285|501059|557909|501082|589633|501060|501051|501016|589657|553839|525855|553777|553771|551792|528733|549180|528745|517562|511849|557648|546367|501070|601782|508143|501085|501074|501073|501071|501068|501066|589671|589633|588729|501089|501083|501082|501081|501080|501075|501067|501062|501061|501060|501058|501057|501056|501055|501054|501053|501051|501049|501047|501045|501043|501041|501040|501039|501038|501029|501028|501027|501026|501025|501024|501023|501021|501020|501018|501016|501015|589657|589562|501105|557039|542702|544764|550073|528824|522135|522137|562397|566694|566783|568382|569322|504363)/],patterns:[/^(5|(2(221|222|223|224|225|226|227|228|229|23|24|25|26|27|28|29|3|4|5|6|70|71|720)))/],type:u.MASTERCARD}),c(r,u.NARANJA,{patterns:[/^(589562)/],type:u.NARANJA}),c(r,u.VISA,{excludes:[/^(476520|473713|473713|473227|444493|410122|405517|402789|417856|448712|453770|434541|411199|423465|434540|434542|434538|423018|488241|489634|434537|434539|434536|427156|427157|434535|434534|434533|423077|434532|434586|423001|434531|411197|443264|400276|400615|402914|404625|405069|434543|416679|405515|405516|405755|405896|405897|406290|406291|406375|406652|406998|406999|408515|410082|410083|410121|410123|410853|411849|417309|421738|423623|428062|428063|428064|434795|437996|439818|442371|442548|444060|446343|446344|446347|450412|450799|451377|451701|451751|451756|451757|451758|451761|451763|451764|451765|451766|451767|451768|451769|451770|451772|451773|457596|457665|462815|463465|468508|473710|473711|473712|473714|473715|473716|473717|473718|473719|473720|473721|473722|473725|477051|477053|481397|481501|481502|481550|483002|483020|483188|489412|492528|499859|446344|446345|446346|400448)/],length:[13,16],patterns:[/^(4)/],type:u.VISA}),r),p=Object.entries(_).reduce((function(e,t){var n=i(t,2),r=n[0],o=n[1];return e[r]=Object.assign({},l,o),e}),{}),f={get"BP-DOC-01"(){return a.default.t("payments.checkout_flow.ebanx_errors.document_invalid")},get"BP-DR-23"(){return a.default.t("payments.checkout_flow.ebanx_errors.document_invalid")},get"BP-DR-38"(){return a.default.t("payments.checkout_flow.ebanx_errors.card_payment_type_not_allowed")},get"BP-DR-40"(){return a.default.t("payments.checkout_flow.ebanx_errors.payment_limit")},get"BP-DR-83"(){return a.default.t("payments.checkout_flow.ebanx_errors.card_foreign_not_allowed")},get"BP-DR-90"(){return a.default.t("payments.checkout_flow.ebanx_errors.contact_ebanx")},get"BP-DR-95"(){return a.default.t("payments.checkout_flow.ebanx_errors.name_invalid")},get"BP-DR-97"(){return a.default.t("payments.checkout_flow.ebanx_errors.card_instalments_prepaid")},get"BP-DR-98"(){return a.default.t("payments.checkout_flow.ebanx_errors.country_mismatch")},get"BP-DR-100"(){return a.default.t("payments.checkout_flow.ebanx_errors.card_instalments_debit")},get"BP-DR-101"(){return a.default.t("payments.checkout_flow.ebanx_errors.card_not_eligible_for_ecommerce")},get"BP-DR-102"(){return a.default.t("payments.checkout_flow.ebanx_errors.too_many_attempts")},get NOK(){return a.default.t("payments.checkout_flow.ebanx_errors.incomplete_purchase_try_again")},get DEFAULT(){return a.default.t("payments.checkout_flow.ebanx_errors.default")}},d={CHECKOUT:"checkout",DUNNING:"dunning",UPDATE:"update"},h=[u.AMEX,u.AURA,u.CABAL,u.CARNET,u.CREDIMAS,u.DINERSCLUB,u.DISCOVER,u.ELO,u.HIPERCARD,u.MAGNA,u.MASTERCARD,u.NARANJA,u.VISA],m={FORM_SUBMIT:"Scribd:credit_card_form:submit"},y={CARD_NUMBER:"new_credit_card[number]",CVV:"new_credit_card[verification_value]",EXPIRY:"new_credit_card[expiry]",MERCHANT:"merchant_options",ZIP_CODE:"card_zip_code"},b=[o.a.BRAZIL],g=[u.VISA,u.MASTERCARD,u.AMEX,u.DISCOVER],v=g.concat(h),k=550,w=4,E=[u.AMEX,u.DISCOVER,u.MASTERCARD,u.VISA],S=["supports3DS"],O=2,x=0,j="CARD",P=["AMEX","DISCOVER","JCB","MASTERCARD","VISA"],N=["PAN_ONLY"],R="PAYMENT_GATEWAY",C="adyen",D="0.00",I="paypal",T="credit_card",A="google_pay",M="apple_pay",B="checkout_loading_lb",F={get APPLE_PAY(){return a.default.t("payments.checkout_flow.credit_card_form.oops_there_was_an_error_processing_")},get STANDARD_ERROR(){return a.default.t("payments.checkout_flow.credit_card_form.oops_there_was_an_error_processing")}}},416:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),o=n(0),a=n.n(o),i=n(3),s=n.n(i);n(1042);function c(e){var t=e.eligibleForFreeTrial,n=e.price,o=e.withTax;if(!t)return null;return a.a.createElement("div",{className:s()("auto__payments_checkout_flow_visa_consent_language","visa_language")},"".concat(o?r.default.t("payments.checkout_flow.enrolling_in_automatic_payments_with_tax",{price:n}):r.default.t("payments.checkout_flow.enrolling_in_automatic_payments_no_tax",{price:n})," ").concat(r.default.t("payments.checkout_flow.you_cancel_account_settings")))}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),o=n.n(r)()({loader:function(){return Promise.all([n.e(3),n.e(8),n.e(19),n.e(32),n.e(86),n.e(102)]).then(n.bind(null,2870))},loading:function(){return null}});Scribd.addComponent("AccountCreation",o);var a=o},45:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(3),o=n.n(r),a=n(0),i=n.n(a),s=(n(142),n(2)),c=n(31);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,a=m(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).enclosing_class("auto__shared_react_button_menu"),t.state={menu_open:t.props.is_open||!1,position:""},t}return t=s,r=[{key:"close_all",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l(s.instances);try{for(n.s();!(e=n.n()).done;){var r=e.value;r!==t&&r.hide_menu()}}catch(e){n.e(e)}finally{n.f()}}}],(n=[{key:"component_classes",value:function(){return"button_menu_container"}},{key:"componentDidMount",value:function(){s.instances.push(this),$(document.body).on("click",this.handle_body_click)}},{key:"componentWillUnmount",value:function(){var e=s.instances;$(document.body).off("click",this.handle_body_click),e.splice(e.indexOf(this),1)}},{key:"componentDidUpdate",value:function(e,t){var n=this.get_position();t.position!==n&&this.setState({position:n}),this.props.is_open!==e.is_open&&this.props.is_open!==this.state.menu_open&&this.setState({menu_open:this.props.is_open}),Scribd.using_keyboard&&(this.state.menu_open&&!t.menu_open?$(this.get_buttons()[0]).focus():!this.state.menu_open&&t.menu_open&&($(this.container).find("[aria-haspopup]").focus(),"function"==typeof this.props.hide_tooltip&&this.props.hide_tooltip()))}},{key:"get_buttons",value:function(){return $(this.container).focusable_children().not(".menu_handle")}},{key:"handle_body_click",value:function(e){if(!$(e.target).closest(".button_menu_container").length)return s.close_all()}},{key:"handle_key_down",value:function(e){if(this.state.menu_open){var t=this.get_buttons(),n=t[0],r=t[t.length-1],o=t.index(document.activeElement);switch(e.keyCode){case 27:return this.hide_menu();case 40:e.preventDefault(),r===document.activeElement?n.focus():t[o+1].focus();break;case 38:e.preventDefault(),n===document.activeElement?r.focus():t[o-1].focus();break;case 9:e.shiftKey?(e.preventDefault(),n===document.activeElement?this.hide_menu():t[o-1].focus()):r===document.activeElement&&this.hide_menu()}}}},{key:"handle_close_btn",value:function(e){e.preventDefault(),this.hide_menu()}},{key:"handle_container_click",value:function(){this.props.autoclose&&this.toggle_visible()}},{key:"get_position",value:function(){if(this.state.menu_open){if(null!=this.props.force_position)return this.props.force_position;var e=this.container.querySelectorAll(".button_menu")[0],t=e.getBoundingClientRect(),n=window.innerWeight-t.right>e.offsetWidth?"right":"left",r=window.innerHeight-t.bottom>e.offsetHeight?"bottom":"top";return"".concat(n," ").concat(r)}}},{key:"toggle_visible",value:function(e){this.state.menu_open?this.hide_menu(e):this.show_menu(e)}},{key:"show_menu",value:function(e){if(s.close_all(this),!this.state.menu_open)return"function"==typeof this.props.on_show&&this.props.on_show(),this.setState({menu_open:!0},(function(){"function"==typeof e&&e()}))}},{key:"hide_menu",value:function(e){if(this.state.menu_open)return"function"==typeof this.props.on_hide&&this.props.on_hide(),this.setState({menu_open:!1,current_focus:0},(function(){"function"==typeof e&&e()}))}},{key:"get_aria_and_data_props",value:function(e){return{aria_props:f(f({},e.aria_props),{},{expanded:this.state.menu_open,haspopup:!0}),data_props:{button:!0}}}},{key:"render_button",value:function(){var e=this,t=Object.assign({},this.props.button),n=t.props.onClick;if(this.props.skip_aria_and_data_props)t.props=f({},t.props);else{var r=this.get_aria_and_data_props(t.props),a=r.aria_props,i=r.data_props;t.props=f(f({},t.props),{},{aria_props:a,data_props:i})}return t.props.className=o()(t.props.className,"menu_handle"),t.props.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.toggle_visible((function(){Scribd.using_keyboard&&e.container.querySelectorAll(".button_menu")[0].focus()})),n&&n(t,e.state.menu_open)},t}},{key:"render_arrow",value:function(){if(this.props.has_arrow)return i.a.createElement("div",{className:"button_menu_arrow","aria-hidden":"true"})}},{key:"render_menu",value:function(){if(this.state.menu_open){var e=this.props.no_fullscreen;return i.a.createElement("div",{onKeyDown:this.handle_key_down,className:o()("button_menu",this.state.position,this.props.extra_classes,{no_fullscreen:e})},this.render_arrow(),i.a.createElement(c.a,{href:"#",className:"close_btn icon_btn",onClick:this.handle_close_btn},i.a.createElement("span",{className:"icon-ic_close","aria-hidden":"true"},i.a.createElement("span",{className:"visually_hidden"},I18n.t("shared.react.button_menu.close_menu")))),this.props.menu)}}},{key:"render_content",value:function(){return i.a.createElement("div",{onClick:this.handle_container_click},this.render_button(),this.render_menu())}}])&&d(t.prototype,n),r&&d(t,r),s}(s.a);g(v,"defaultProps",{autoclose:!0,no_fullscreen:!1,has_arrow:!0,skip_aria_and_data_props:!1}),g(v,"instances",[]),Scribd.addComponent("Shared.React.ButtonMenu",v)},455:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));n(733);function r(t){var n=t.children,r=t.extra_classes;return e.createElement("div",{className:classNames("auto__shared_react_basic_card",r)},n)}r.defaultProps={extra_classes:""}}).call(this,n(0))},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2),o=n(3),a=n.n(o),i=n(0),s=n.n(i);n(105);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,h,m,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).enclosing_class("auto__shared_react_forms_radio"),t.state={focused:!1},t}return t=i,(n=[{key:"handle_focus",value:function(){this.setState({focused:!0}),"function"==typeof this.props.onFocus&&this.props.onFocus()}},{key:"handle_blur",value:function(){this.setState({focused:!1})}},{key:"component_classes",value:function(){return a()(this.props.class,"radio_component",{focused:this.state.focused},{with_description:this.props.description})}},{key:"render_content",value:function(){var e=this.props,t=e.onChange,n=e.label_text,r=e.description,o=e.value,i=e.disabled,c=e.selected,u=c?"icon-ic_radiobutton_filled":"icon-ic_radiobutton_empty",l=r?s.a.createElement("span",{className:"description",id:this.uid("description")},r):null;return s.a.createElement("label",{className:a()("radio_label ".concat(u),{checked:c},{focused:this.state.focused},{with_description:r}),htmlFor:this.props.id||this.uid(o),onFocus:this.handle_focus,onBlur:this.handle_blur,onKeyDown:this.props.onKeyDown},s.a.createElement("input",{id:this.props.id||this.uid(o),onChange:t,type:"radio",value:o,checked:c,disabled:i,name:this.props.name,className:"radio_input visually_hidden radio","aria-describedby":r?this.uid("description"):null}),n?s.a.createElement("span",{className:a()("input_text",this.props.label_text_class)},n):null,l,this.props.children)}}])&&u(t.prototype,n),r&&u(t,r),i}(r.a);m={options:[],description:"",class:"",label_text:""},(h="defaultProps")in(d=y)?Object.defineProperty(d,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[h]=m,Scribd.addComponent("Shared.React.Forms.Radio",y)},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),o=n.n(r),a=n(3),i=n.n(a),s=n(1);n(136);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,h,m,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,a=_(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).enclosing_class("auto__shared_message_promo"),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.on_mount()}},{key:"component_classes",value:function(){return"message_promo"}},{key:"handle_close",value:function(e){e.preventDefault(),this.props.on_close(e)}},{key:"render_content",value:function(){var e=i()("promo_banner_wrapper",this.props.extra_classes,{hidden:this.props.hidden});return o.a.createElement("div",{className:e},o.a.createElement("div",{className:"promo_banner_container"},o.a.createElement("div",{className:"styling_triangle"}),o.a.createElement("a",{className:"icon icon-ic_close",onClick:this.handle_close,href:"#"},o.a.createElement("span",{className:"visually_hidden"},s.default.t("shared.message_promo.dismiss_message"))),o.a.createElement("h2",{className:"promo_header"},this.props.header),o.a.createElement("span",{className:"promo_sub_header"},this.props.subheader)))}}])&&u(t.prototype,n),r&&u(t,r),c}(n(2).a);m={on_mount:function(){},on_close:function(){},extra_classes:""},(h="defaultProps")in(d=y)?Object.defineProperty(d,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[h]=m,Scribd.addComponent("Shared.MessagePromo",y)},486:function(e,t,n){var r;r=function(){function e(){}return e.encrypt_card=function(t,n){var r,o,a;if((t=$(t)).length)return o=t.data("key"),r=t.data("generationtime"),a=e.encrypt(o,r,n),t.val(a)},e.encrypt=function(e,t,n){var r,o;return r=adyen.encrypt.createEncryption(e,{}),n=$.extend({holderName:"SCRIBD USER",generationtime:t},n),Scribd.logging_enabled&&console.info("encrypting card",n),!1===(o=r.encrypt(n))&&(o=""),o},e}(),Scribd.addComponent("AdyenCard",r)},491:function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return oe}));var o=n(879),a=n(2),i=n(3),s=n.n(i),c=n(1),u=n(0),l=n.n(u),_=n(228),p=n(808),f=n(1524),d=n(1525),h=n(87),m=n(31),y=n(30),b=n(160),g=n(860),v=n(335),k=n(404),w=n(504),E=n(677),S=n(26),O=n(15),x=n(880),j=n.n(x),P=n(881),N=n.n(P),R=n(882),C=n.n(R),D=n(266),I=n(95),T=n(46),A=n(501),M=n(776),B=n(492),F=n(777),L=n(493),U=n(416),q=n(39),z=n(372),H=n(778);n(486),n(846),n(1043);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(O,t);var n,a,i,u=Q(O);function O(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),re(te(t=u.call(this,e)),"updateHistory",(function(){var e,n=t.state.creditCardFormHidden?"":"#card-form";(e=window.history).pushState.apply(e,J(t.historyArgs(n)))})),re(te(t),"historyArgs",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=window.location.pathname;return[t.state,document.title,"".concat(n).concat(e)]})),re(te(t),"handleCreditOrDebitCardClick",(function(e){e.preventDefault(),t.setState({creditCardFormHidden:!1},t.updateHistory)})),re(te(t),"handleBackToPaymentOptionsClick",(function(e){e.preventDefault(),t.setState({card_type:null,ccn:"",creditCardFormHidden:!0,cvv:"",errors:{},expiration:"",zip_code:""},t.updateHistory),t.props.handle_card_number_change(""),t.props.handle_expiration_date_change(""),t.props.handle_security_code_change("")})),re(te(t),"triggerSubmit",(function(){Object(g.a)(document,q.i.FORM_SUBMIT)})),re(te(t),"renderPromoConversionText",(function(){var e=t.props.plan_info,n=e.zero,r=e.price;return l.a.createElement("div",{className:"promo_conversion_container"},l.a.createElement("h2",{className:"price"},c.default.t("payments.checkout_flow.credit_card_form.this_props_plan_info_zero_due_today",{this_props_plan_info_zero:n})),l.a.createElement("p",{className:"subtitle"},c.default.t("read_free_promo.billing.continue_enjoying_scribd",{price:r,date:t.free_to_paid_date})),l.a.createElement("div",{className:"promo_conversion_caption"},c.default.t("read_free_promo.billing.by_setting_up_autopay",{price:r})))})),t.enclosing_class("auto__payments_checkout_flow_credit_card_form"),t.state={creditCardFormHidden:t.props.show_one_tap_ui,card_type:null,ccn:"",cvv:"",ebanx_df:null,ebanx_errors:{},errors:{},expiration:"",loading:!1,payment_type:t.get_payment_type(),post_redirect:null,threeds2:null,show_apple_pay:!1,show_cards:!0,show_google_pay:!1,show_zip_code_form:!1,valid:!e.show_creditcard_form,zip_code:"",showInfoMessage:!0},t.apple_pay_session_exists=!1,t.apple_pay_can_make_payments=null,t.apple_pay_supports_version=null,t.google_payments_client=null,t.free_to_paid_date=Object(v.b)(e.free_to_paid_first_billing_date,t.props.locale),t.backToPaymentsButtonRef=l.a.createRef(),t.debitOrCreditButtonRef=l.a.createRef(),void 0===Scribd.BillingInstance&&(Scribd.BillingInstance={}),t}return n=O,(a=[{key:"componentDidMount",value:function(){var e=this;this.props.show_ebanx&&this.setup_deferred_hook("ebanx_ready","ebanx_script",(function(){Object(z.c)(e.props.ebanx_key,e.props.country_name,e.handle_ebanx_fingerprint,/sandbox\.ebanxpay\.com/.test(e.props.ebanx_token_url))})),this.setup_deferred_hook("adyen_df_ready","adyen_df_script",this.get_adyen_device_fingerprint),this.setup_deferred_hook("adyen_ready","adyen_script",this.handle_adyen_ready),this.setup_deferred_hook("google_pay_ready","google_pay_script",this.handle_google_pay_ready),$(document).on(q.i.FORM_SUBMIT,this.handle_submit),this.props.error&&this.flashMessage(this.props.error),this.props.show_ebanx?Object(z.b)():this.get_adyen_device_fingerprint(),Object(D.a)(this.historyArgs(),{},(function(t){e.setState(t)})),Object(k.a)(["credit_card_form"]),Object(w.a)("credit_card_form"),this.setUpApplePayInfo(),this.setState({show_cards:window.outerWidth>q.r})}},{key:"componentWillUnmount",value:function(){$(document).off(q.i.FORM_SUBMIT,this.handle_submit)}},{key:"componentDidUpdate",value:function(t,n){var r=this,o=this.state,a=o.ccn,i=o.cvv,s=o.expiration;2==a.length-n.ccn.length&&a.length===this.card_ref.selectionStart&&e.defer((function(){return r.card_ref.setSelectionRange(a.length,a.length)})),2===s.length&&e.defer((function(){return r.expiry_ref.setSelectionRange(3,3)})),(n.ccn!==a||n.expiration!==s||n.cvv!==i&&this.state.ebanx_token)&&this.setState({ebanx_token:null}),this.creditCardFormFocus(n)}},{key:"component_classes",value:function(){return"one_tap_ui"}},{key:"setUpApplePayInfo",value:function(){this.apple_pay_session_exists=void 0!==window.ApplePaySession,this.apple_pay_session_exists&&(this.apple_pay_can_make_payments=ApplePaySession.canMakePayments(),this.apple_pay_supports_version=ApplePaySession.supportsVersion(q.c))}},{key:"creditCardFormFocus",value:function(e){e.creditCardFormHidden!==this.state.creditCardFormHidden&&(e.creditCardFormHidden?this.backToPaymentsButtonRef.current&&this.backToPaymentsButtonRef.current.focus():this.debitOrCreditButtonRef.current&&this.debitOrCreditButtonRef.current.focus())}},{key:"setup_deferred_hook",value:function(e,t,n){if(Scribd[e])this.state[e]=!0;else{this.state[e]=!1;var r=document.getElementById(t);r&&r.addEventListener("load",n.bind(this))}}},{key:"get_payment_type",value:function(){return this.props.show_creditcard_form?q.u:q.w}},{key:"get_legend",value:function(){if(!this.props.show_one_tap_ui)return c.default.t("payments.checkout_flow.credit_card_form.billing_options")}},{key:"get_adyen_device_fingerprint",value:function(){if(this.state.adyen_df_ready&&"function"==typeof dfDo){var t=e.noConflict();Object.assign(e,t),dfDo("df"),this.setState({adyen_df_ready:!0})}}},{key:"handle_ebanx_fingerprint",value:function(e){this.setState({ebanx_df:e})}},{key:"handle_adyen_ready",value:function(){this.setState({adyen_ready:!0})}},{key:"handle_google_pay_ready",value:function(){this.setState({google_pay_ready:!0},this.setup_google_pay)}},{key:"handle_card_number",value:function(e){var t=$.payment.formatCardNumber(e.target.value),n=$.payment.cardType(t);if(n){var r=$.payment.cards.filter((function(e){return e.type===n}))[0];r.length[r.length.length-1]===t.replace(/\s/g,"").length&&this.validate(q.j.CARD_NUMBER,t)}else t=t.slice(0,16);this.props.handle_card_number_change(t),this.setState({ccn:t,card_type:n})}},{key:"handle_card_number_blur",value:function(){var e=this.state.card_type,t=this.props.show_visa_card_zip_code_form;this.setState({show_zip_code_form:t&&"visa"===e})}},{key:"handle_payment_type",value:function(e){this.track_rats("payment:use_".concat(e.target.value,":click"),this.get_track_data()),"function"==typeof this.props.handle_payment_type&&this.props.handle_payment_type(e),this.setState({payment_type:e.target.value})}},{key:"handle_expiration",value:function(e){var t=e.target.value.replace(/\D+/g,"");/^\d{6}$/.test(t)&&(t="".concat(t.slice(0,2)).concat(t.slice(4,6))),2===t.length&&2===this.state.expiration.length&&(t=t.slice(0,1)),4===t.length&&this.validate(q.j.EXPIRY,t),this.props.handle_expiration_date_change(t),this.setState({expiration:t})}},{key:"handle_cvv",value:function(e){var t=this,n=e.target.value.replace(/\D+/g,"");if(this.state.card_type){var r=$.payment.cards.filter((function(e){return e.type===t.state.card_type}))[0],o=r.cvcLength[r.cvcLength.length-1];n.length>=o&&(n=n.slice(0,o),this.validate(q.j.CVV,n))}else n=n.slice(0,4);this.props.handle_security_code_change(n),this.setState({cvv:n})}},{key:"handle_zip_code",value:function(e){this.setState({zip_code:e.target.value})}},{key:"handle_paypal_submit",value:function(){var e={signInText:{behaviorTag:c.default.t("payments.checkout_flow.credit_card_form.sign_in_to_use_paypal")},signUpText:{behaviorTag:c.default.t("payments.checkout_flow.credit_card_form.sign_up_to_use_paypal")},nextUrl:$.Deferred().done(this.submit_adyen_paypal)};Scribd.with_login(e,this.submit_adyen_paypal)}},{key:"get_track_data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y({product_handle:this.props.product_handle,cart_context:this.props.cart_context,page:"checkout_flow_2_billing"},e)}},{key:"handle_submit",value:function(e){if(e&&e.preventDefault(),!this.state.loading){switch(this.allFieldsEmpty()||($(document).trigger("scribd:standard_flash:close_all"),this.setState({showInfoMessage:!0})),this.track_rats("payment:submit_button:click",this.get_track_data({payment_method:this.state.payment_type})),this.state.payment_type){case q.w:return this.handle_paypal_submit(e);case q.t:return this.handle_applepay(e);case q.v:return this.handle_google_pay(e)}var t=this.validate();if($(document).trigger("scribd:credit_card_form_validate"),t){var n,r=this.adyen_encrypt();this.props.show_ebanx&&(n=this.ebanx_encrypt());var o=!1;if(this.props.show_ebanx&&(o=Object(z.e)(this.props.ebanx_form_type)),this.props.show_ebanx){if(!this.state.ebanx_token)return;if(!this.state.ebanx_validated&&(!o||o&&this.state.ebanx_error))return}if(!r||!n&&this.props.show_ebanx)this.flashMessage();else{this.open_loading_lb(),this.setState({loading:!0});var a={doc_id:this.props.doc_id,encrypted_card:r,encrypted_card_ebanx:n,metadata_update:this.props.metadata_update,credit_card_form:!0,validation:t,df:this.df.value,card_zip_code:this.state.show_zip_code_form?this.state.zip_code:null,browser_info:Object(A.a)()};if(this.props.show_ebanx){var i=this.state.ebanx_df;a=Object.assign(a,{payment_provider:"ebanx",payment_type:this.state.card_type,df:i})}$.ajax({url:this.props.post_url,type:"POST",dataType:"json",data:a,success:this.handle_submit_success,error:this.handle_submit_error,complete:this.handle_complete})}}}}},{key:"submit_adyen_paypal",value:function(){this.open_loading_lb(),this.setState({loading:!0}),$.ajax({url:this.props.paypal_url,type:"POST",data:{payment_type:this.state.payment_type},success:this.handle_hpp_submit_success,error:this.handle_submit_error,complete:this.handle_complete})}},{key:"handle_form_submit_redirect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;void 0!==this.props.handle_form_submit_redirect?this.props.handle_form_submit_redirect(e,t):window.location.assign(e)}},{key:"track_payment_success",value:function(){var e=this.get_track_data({payment_method:this.state.payment_type});Array.isArray(Object(E.a)())&&Object(E.a)().push({event:"payment-success",method:e.payment_method,cart:e.product_handle}),this.track_rats("payment:success",e)}},{key:"handle_submit_success",value:function(e){if(e){if(this.track_payment_success(),"redirect"===e.action)return this.handle_form_submit_redirect(e.url,e.params);if("submit"===e.action)return void this.setState({post_redirect:{url:e.url,params:e.params}},this.submit_post_redirect);if(Object(A.b)(e.action))return void this.setState({threeds2:e})}this.flashMessage()}},{key:"handle_hpp_submit_success",value:function(e){var t=this;e&&"submit"===e.action?this.setState({post_redirect:{url:e.url,params:e.params}},(function(){t.submit_post_redirect()})):this.flashMessage()}},{key:"handle_submit_error",value:function(e){if(this.state.valid){var t=e.responseJSON;if(this.close_loading_lb(),t){if("flash_error"===t.action){var n=t.message;return this.props.show_ebanx&&(n=Object(z.d)(t.message)),this.flashMessage(n),void this.handle_ebanx_error()}if("redirect"===t.action)return void(window.location.href=t.url)}this.flashMessage()}}},{key:"handle_complete",value:function(){this.setState({loading:!1})}},{key:"flashMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.h.STANDARD_ERROR,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Scribd.Flasher.standard(t,e,{user_dismiss:!1,should_focus:!0,raw:n,full_border:!0})}},{key:"adyen_encrypt",value:function(){return Scribd.AdyenCard.encrypt(this.props.adyen_key,this.props.date,{number:this.state.ccn,cvc:this.state.cvv,expiryMonth:this.state.expiration.slice(0,2),expiryYear:"20".concat(this.state.expiration.slice(2,4))})}},{key:"ebanx_encrypt",value:function(){if(this.state.ebanx_token)return this.state.ebanx_token;var e=this.state,t=e.ccn,n=e.cvv,r=e.card_type,o=e.errors,a=e.expiration,i=this.props,s=i.country_name,c=i.current_user_name,u=i.ebanx_key,l=i.ebanx_profile,_=i.ebanx_token_url;if(!(o[q.j.CARD_NUMBER]||o[q.j.CVV]||o[q.j.EXPIRY])){var p=l&&l.full_name||c,f=l&&l.country||s;if(p&&f)return Object(z.a)({card_details:{ccn:t,cvv:n,card_type:r,expiration:a,name:p},ebanx_key:u,country:f,ebanx_token_url:_},this.handle_ebanx_token,this.handle_ebanx_error),null}}},{key:"handle_ebanx_token",value:function(e){this.setState({ebanx_validated:!0,ebanx_token:e.token},this.handle_submit)}},{key:"handle_ebanx_error",value:function(){this.setState({ebanx_token:null,ebanx_error:!0})}},{key:"allFieldsEmpty",value:function(){return!this.state.ccn&&!this.state.expiration&&!this.state.cvv}},{key:"handleAllFieldsEmpty",value:function(){if(this.props.trial_end_timestamp&&!this.props.stored_card_form_props){var e=this.props,t=e.trial_end_timestamp,n=e.current_locale;if($("html, body").animate({scrollTop:0}),this.state.showInfoMessage){$(document).trigger("scribd:standard_flash:close_all");var r=c.default.t("payments.checkout_flow.credit_card_form.claim_your_free_trial_by_setting"),a=c.default.t("payments.checkout_flow.credit_card_form.0_00_due_until_end_date_cancel_anytime",{end_date:Object(v.b)(t,n)});this.flashMessage(Object(o.renderToStaticMarkup)(l.a.createElement(F.a,{heading:r,subHeading:a})),"info",!0),this.setState({showInfoMessage:!1})}this.track_rats("payment:submit_button:error",this.get_track_data({entered_payment_info:!1}))}}},{key:"validate",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.state.errors;if(!r&&this.allFieldsEmpty())return this.handleAllFieldsEmpty();if(!r||r===q.j.CARD_NUMBER){var i=this.props.show_ebanx?q.y:q.x,s=i.includes($.payment.cardType(o||this.state.ccn)),u=$.payment.validateCardNumber(o||this.state.ccn);s&&u?delete a[q.j.CARD_NUMBER]:(t=!1,a[q.j.CARD_NUMBER]=u?{input:q.j.CARD_NUMBER,message:c.default.t("payments.checkout_flow.credit_card_form.sorry_we_don_t_support_this_type")}:{input:q.j.CARD_NUMBER,message:c.default.t("payments.checkout_flow.credit_card_form.please_enter_a_valid_credit_card")})}r&&r!==q.j.EXPIRY||((e=this.validate_date(o||this.state.expiration))?delete a[q.j.EXPIRY]:a[q.j.EXPIRY]={input:q.j.EXPIRY,message:c.default.t("payments.checkout_flow.credit_card_form.invalid_date")}),r&&r!==q.j.CVV||((e=$.payment.validateCardCVC(o||this.state.cvv,this.state.card_type))?delete a[q.j.CVV]:a[q.j.CVV]={input:q.j.CVV,message:c.default.t("payments.checkout_flow.credit_card_form.invalid_code")}),r&&r!==q.j.ZIP_CODE||(!this.state.show_zip_code_form||this.state.zip_code?delete a[q.j.ZIP_CODE]:a[q.j.ZIP_CODE]={input:q.j.ZIP_CODE,message:c.default.t("payments.checkout_flow.credit_card_form.please_enter_a_valid_zip_code")});var l=Object.keys(a).length;return e=r===q.j.CARD_NUMBER||!r&&q.j.CARD_NUMBER in a&&1===l?t&&n:0===l,this.setState({errors:a,valid:e}),r||this.focus_error(a),e}},{key:"validate_date",value:function(e){var t=new Date(this.props.date),n=e.slice(0,2),r=e.slice(2,4);if(!n||!r)return!1;if(n=parseInt(n)-1,r=parseInt(r)+2e3,n<0||n>11)return!1;var o=new Date;return o.setDate(1),o.setMonth(n),o.setYear(r),o.setMonth(o.getMonth()+1),o>t}},{key:"focus_error",value:function(e){e[q.j.CARD_NUMBER]?this.card_ref.focus():e[q.j.EXPIRY]?this.expiry_ref.focus():e[q.j.CVV]?this.cvv_ref.focus():e[q.j.ZIP_CODE]&&this.zip_code_ref.focus()}},{key:"show_apple_pay_option",value:function(){return!this.props.giftcard&&this.apple_pay_session_exists&&this.apple_pay_can_make_payments&&this.apple_pay_supports_version&&this.props.show_apple_pay}},{key:"render_zip_code_form",value:function(){var e=this;if(this.state.show_zip_code_form)return l.a.createElement("div",{className:"zip_code"},l.a.createElement(_.a,{label:c.default.t("payments.checkout_flow.credit_card_form.zip_code"),errors:Object.keys(this.state.errors).map((function(t){return e.state.errors[t]})),onChange:this.handle_zip_code,onFocus:Scribd.BillingInstance.track_zipcode,name:q.j.ZIP_CODE,type:"text",required:!0,hideRequired:!0,value:this.state.zip_code,maxLength:100,inputRef:function(t){return e.zip_code_ref=t}}))}},{key:"renderPaymentOptions",value:function(){if(this.state.creditCardFormHidden){var e=this.props,t=e.eligible_for_free_trial,n=e.plan_info.price,r=e.show_plus_tax;return l.a.createElement("div",{className:"one_tap_payment_options"},l.a.createElement(U.a,{eligibleForFreeTrial:t,price:n,withTax:r}),this.render_paypal_button(),this.render_applepay_button(),this.render_google_pay_button(),this.renderDebitOrCreditButton())}}},{key:"render_payment_radio_buttons",value:function(){var e=this.props,t=e.show_creditcard_form,n=e.show_paypal;return l.a.createElement(l.a.Fragment,null,t?this.render_card_radio():null,n?this.render_paypal_radio():null,this.render_applepay_radio(),this.render_google_pay_radio())}},{key:"render_payment_options",value:function(){return l.a.createElement("div",{className:"toggle_wrapper"},this.props.show_one_tap_ui?this.renderPaymentOptions():this.render_payment_radio_buttons())}},{key:"render_billing_info",value:function(){if(Object(z.e)(this.props.ebanx_form_type))return l.a.createElement("div",{className:"update_header"},l.a.createElement("h2",{className:"header"},c.default.t("payments.checkout_flow.credit_card_form.your_billing_info")),this.render_required_msg())}},{key:"render_toggles",value:function(){if(!this.props.stored_card_form_props)return l.a.createElement("div",{className:"radio credit_card_paypal_buttons"},this.render_billing_info(),l.a.createElement(I.a,{legend:this.get_legend()},this.render_payment_options()))}},{key:"handle_applepay",value:function(){var e=this,t=this.props,n=t.plan_info,r=n.title,o=n.summary,a=n.apple_pay_price,i=n.currency,s=t.country_name,c=t.eligible_for_free_trial,u=t.allow_apple_pay_zero_auth,l=c&&u,_={countryCode:s,currencyCode:i,lineItems:[{label:r,amount:"0.00"},{label:o,amount:a}],total:{label:"Scribd",type:"pending",amount:l?"0.00":a},supportedNetworks:q.b,merchantCapabilities:q.a},p=new ApplePaySession(q.c,_);p.onvalidatemerchant=function(t){$.ajax({url:e.props.applepay_url,type:"POST",dataType:"json",data:{url:t.validationURL},success:function(e){p.completeMerchantValidation(e)},error:function(){p.abort(),e.flashMessage(q.h.APPLE_PAY)}})},p.onpaymentauthorized=function(t){e.open_loading_lb();var n=t.payment;e.submit_applepay(n,p,l)},p.begin()}},{key:"submit_applepay",value:function(e,t,n){var o=this,a=JSON.stringify(e.token.paymentData),i=new r(a).toString("base64");$.ajax({url:this.props.post_url,type:"POST",dataType:"json",data:{doc_id:this.props.doc_id,apple_pay_token:i,apple_pay_zero_auth:n,metadata_update:this.props.metadata_update,credit_card_form:!0,validation:!0},success:function(e){t.completePayment(ApplePaySession.STATUS_SUCCESS),o.handle_submit_success(e)},error:function(){t.completePayment(ApplePaySession.STATUS_FAILURE),o.close_loading_lb(),o.flashMessage(q.h.APPLE_PAY)}})}},{key:"setup_google_pay",value:function(){var e=this;if(this.state.google_pay_ready&&this.props.show_google_pay&&!this.props.giftcard){this.google_payments_client=new google.payments.api.PaymentsClient({environment:this.props.google_pay_environment});var t={apiVersion:q.l,apiVersionMinor:q.m,allowedPaymentMethods:[{type:q.B,parameters:{allowedAuthMethods:q.z,allowedCardNetworks:q.A}}]};this.google_payments_client.isReadyToPay(t).then((function(t){t.result&&e.setState({show_google_pay:!0})}))}}},{key:"show_google_pay_radio",value:function(){return this.state.show_google_pay}},{key:"render_google_pay_radio",value:function(){if(this.show_google_pay_radio())return l.a.createElement(T.a,{onChange:this.handle_payment_type,class:"google_form google_radio",value:q.v,selected:this.state.payment_type===q.v,name:"options"},l.a.createElement("img",{role:"img",alt:"Google Pay",src:Object(S.a)(N.a)}))}},{key:"get_currency_code",value:function(){var e=this.props,t=e.plan_info,n=e.current_user_currency;return t&&t.currency?t.currency:n}},{key:"handle_google_pay",value:function(){var e=this;if(!this.state.loading){this.open_loading_lb(),this.setState({loading:!0}),$(document).trigger("scribd:standard_flash:close_all");var t={apiVersion:q.l,apiVersionMinor:q.m,merchantInfo:{merchantId:this.props.google_pay_merchant_id,merchantName:"Scribd"},allowedPaymentMethods:[{type:q.B,parameters:{allowedAuthMethods:q.z,allowedCardNetworks:q.A},tokenizationSpecification:{type:q.o,parameters:{gateway:q.p,gatewayMerchantId:this.props.adyen_merchant_account}}}],transactionInfo:{currencyCode:this.get_currency_code(),totalPriceStatus:"FINAL",totalPrice:q.n}};this.google_payments_client.loadPaymentData(t).then((function(t){return $.ajax({url:e.props.post_url,type:"POST",dataType:"json",data:{doc_id:e.props.doc_id,google_pay_token:t.paymentMethodData.tokenizationData.token,metadata_update:e.props.metadata_update,credit_card_form:!0,validation:!0}})})).then(this.handle_submit_success).catch((function(t){e.props.show_one_tap_ui&&e.setState({payment_type:q.u}),e.setState({loading:!1});var n=t.responseJSON;if(e.close_loading_lb(),"CANCELED"!==t.statusCode){if(n){if("flash_error"===n.action)return void e.flashMessage(n.message);if("redirect"===n.action)return void(window.location.href=n.url)}e.flashMessage()}else e.flashMessage(c.default.t("payments.checkout_flow.credit_card_form.google_pay_canceled"))}))}}},{key:"is_in_credit_only_country",value:function(){return q.f.includes(this.props.country_name)}},{key:"render_card_radio",value:function(){var e=c.default.t("payments.checkout_flow.credit_card_form.credit_or_debit_card");return this.is_in_credit_only_country()&&(e=c.default.t("payments.checkout_flow.credit_card_form.credit_card")),l.a.createElement(T.a,{onChange:this.handle_payment_type,class:"credit_card_radio",label_text:e,value:q.u,selected:this.state.payment_type===q.u,name:"options"})}},{key:"render_paypal_radio",value:function(){return l.a.createElement(T.a,{onChange:this.handle_payment_type,class:"paypal_form paypal_radio",value:q.w,selected:this.state.payment_type===q.w,name:"options"},l.a.createElement("img",{role:"img",alt:"Paypal",src:Object(S.a)(C.a)}))}},{key:"render_paypal_button",value:function(){var e=this;if(this.props.show_paypal)return l.a.createElement(p.b,{handleClick:function(){e.setState({payment_type:q.w},(function(){return e.handle_paypal_submit()}))}})}},{key:"render_applepay_button",value:function(){var e=this;if(this.show_apple_pay_option())return l.a.createElement(f.a,{handleClick:function(){e.setState({payment_type:q.t},(function(){return e.handle_applepay()}))}})}},{key:"render_google_pay_button",value:function(){var e=this;if(this.state.show_google_pay)return l.a.createElement(d.a,{handleClick:function(){e.setState({payment_type:q.v},(function(){return e.handle_google_pay()}))},"data-e2e":"google-pay-button"})}},{key:"renderDebitOrCreditButton",value:function(){var e=c.default.t("payments.checkout_flow.credit_card_form.credit_or_debit_card");return this.is_in_credit_only_country()&&(e=c.default.t("payments.checkout_flow.credit_card_form.credit_card")),l.a.createElement(h.a,{className:"debit_or_credit_button",href:"#",nodeRef:this.debitOrCreditButtonRef,onClick:this.handleCreditOrDebitCardClick},e)}},{key:"renderPaymentDivider",value:function(){var e=this.props.show_paypal,t=this.state.show_google_pay,n=this.show_apple_pay_option();if(e||t||n)return l.a.createElement("div",{className:"one_tap_payments_divider"},l.a.createElement("span",{className:"line"}),l.a.createElement("span",{className:"copy"},c.default.t("payments.checkout_flow.credit_card_form.or")))}},{key:"render_applepay_radio",value:function(){if(this.show_apple_pay_option())return l.a.createElement(T.a,{onChange:this.handle_payment_type,class:"applepay_radio",value:q.t,selected:this.state.payment_type===q.t,name:"options"},l.a.createElement("img",{role:"img",alt:"Apple Pay",src:Object(S.a)(j.a)}))}},{key:"get_credit_card_label",value:function(){return this.props.show_one_tap_ui?this.is_in_credit_only_country()?c.default.t("payments.checkout_flow.credit_card_form.credit_card"):c.default.t("payments.checkout_flow.credit_card_form.credit_or_debit_card_number"):c.default.t("payments.checkout_flow.credit_card_form.card_number")}},{key:"render_credit_card_fields",value:function(){var e=this,t=this.props.show_ebanx,n=this.state,r=n.expiration,o=n.card_type,a=Object.keys(this.state.errors).map((function(t){return e.state.errors[t]})),i=r.length>=2?"".concat(r.slice(0,2),"/").concat(r.slice(2,4)):r,s=t?q.y:q.x,u=Object(H.a)(o,s),p=u.cardIcon,f=u.cvvIcon;return l.a.createElement("div",{className:"credit_card_fields"},l.a.createElement(_.a,{label:this.get_credit_card_label(),errors:a,onChange:this.handle_card_number,onFocus:Scribd.BillingInstance.track_ccn,onBlur:this.handle_card_number_blur,name:q.j.CARD_NUMBER,type:"tel",required:!0,hideRequired:!0,value:this.state.ccn,wrapperClass:"card_number",inputRef:function(t){return e.card_ref=t},inputChildren:p}),l.a.createElement("div",{className:"expiry_and_cvv"},l.a.createElement(_.a,{label:c.default.t("payments.checkout_flow.credit_card_form.expiration_date"),errors:a,onChange:this.handle_expiration,onFocus:Scribd.BillingInstance.track_expiration,name:q.j.EXPIRY,type:"tel",required:!0,hideRequired:!0,placeholder:c.default.t("payments.checkout_flow.credit_card_form.mm_yy"),value:i,wrapperClass:"expiry_container",inputRef:function(t){return e.expiry_ref=t}}),l.a.createElement(_.a,{label:c.default.t("payments.checkout_flow.credit_card_form.security_code"),errors:a,onChange:this.handle_cvv,onFocus:Scribd.BillingInstance.track_cvv,name:q.j.CVV,type:"tel",required:!0,hideRequired:!0,value:this.state.cvv,wrapperClass:"cvv_container",inputRef:function(t){return e.cvv_ref=t}},l.a.createElement("span",{className:"card_tooltip_parent",onMouseEnter:Scribd.BillingInstance.track_cvv_tooltip,onFocus:Scribd.BillingInstance.track_cvv_tooltip,tabIndex:"0"},l.a.createElement("span",{className:"icon-ic_questionmark","aria-hidden":"true"}),l.a.createElement("span",{className:"visually_hidden"},c.default.t("payments.checkout_flow.credit_card_form.tip")),f))),this.render_zip_code_form())}},{key:"renderCancelAnytime",value:function(){if(!this.props.payment_profile_update_page&&!this.props.giftcard&&!this.props.stored_card_form_props)return l.a.createElement("p",{className:"secure_server_button_message"},l.a.createElement("span",{className:"cancel_anytime_copy"},c.default.t("payments.checkout_flow.footer.base.cancel_anytime")))}},{key:"shouldRenderBackButton",value:function(){var e=this.props,t=e.payment_profile_update_page,n=e.stored_card_form_props;return!t&&!this.state.creditCardFormHidden&&!n}},{key:"renderBackToPaymentsButton",value:function(){if(this.shouldRenderBackButton())return l.a.createElement("div",{className:s()("button_container")},l.a.createElement(m.a,{className:"back_to_payment_options_button",href:"#",nodeRef:this.backToPaymentsButtonRef,onClick:this.handleBackToPaymentOptionsClick},l.a.createElement(y.a,{icon:"arrow_small_left_alt"}),c.default.t("payments.checkout_flow.credit_card_form.back_to_payment_options")))}},{key:"renderCardFormCheckout",value:function(){var e=this.props,t=e.cta_label,n=e.eligible_for_free_trial,r=e.free_to_paid_conversion,o=e.plan_info.price,a=e.show_one_tap_ui,i=e.show_plus_tax,s=e.start_free_trial_enabled,u=e.stored_card_form_props;if(a||u){var _=r?c.default.t("read_free_promo.banner.subscribe_now"):t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(U.a,{eligibleForFreeTrial:n,price:o,withTax:i}),l.a.createElement("div",{className:"button_container"},l.a.createElement(b.a,{className:"submit_credit_card_form_button",disabled:!s&&a,type:"submit",onClick:this.triggerSubmit},_)))}}},{key:"render_card_form",value:function(){var e=this;if(!this.state.creditCardFormHidden&&this.state.payment_type===q.u){var t=this.props,n=t.doc_id,r=t.metadata_update,o=t.post_url,a=r?l.a.createElement("input",{type:"hidden",name:"metadata_update",value:r}):null,i=this.render_credit_card_fields();return l.a.createElement("form",{acceptCharset:"UTF-8",action:o,autoComplete:"on",className:"payment_form credit_card_form",method:"POST",onSubmit:this.handle_submit,ref:function(t){return e.credit_card_form_ref=t}},l.a.createElement("input",{name:"authenticity_token",type:"hidden",value:Scribd.CSRF.get_csrf_value()}),n?this.render_hidden_doc_id():null,i,l.a.createElement("input",{type:"submit",className:"hidden"}),a,l.a.createElement("input",{ref:function(t){return e.df=t},type:"hidden",id:"df"}),this.renderCardFormCheckout())}}},{key:"render_truncated_form",value:function(e){var t=this;return l.a.createElement("form",{className:"visually_hidden truncated_form",ref:function(e){return t.truncate_form_ref=e},action:e,onSubmit:this.handle_submit},this.render_hidden_doc_id(),l.a.createElement("input",{hidden:!0,type:"submit"}))}},{key:"render_post_redirect",value:function(){var e=this;if(this.state.post_redirect){var t=this.state.post_redirect,n=Object.keys(t.params).map((function(e){return l.a.createElement("input",{type:"hidden",name:e,value:t.params[e],key:e})}));return l.a.createElement("form",{className:"visually_hidden redirect_form",ref:function(t){return e.redirect_form_ref=t},action:t.url,method:"post"},n)}}},{key:"submit_post_redirect",value:function(){this.redirect_form_ref.submit()}},{key:"handle_cancel_threeds2_challenge",value:function(){this.setState({loading:!1,threeds2:null})}},{key:"handle_threeds2_submit_error",value:function(e){this.setState({loading:!1,threeds2:null}),this.handle_submit_error(e)}},{key:"open_loading_lb",value:function(){Scribd.Lightbox.open(q.q)}},{key:"close_loading_lb",value:function(){Scribd.Lightbox.close(q.q)}},{key:"render_hidden_doc_id",value:function(){return this.props.doc_id?l.a.createElement("input",{name:"doc_id",type:"hidden",value:this.props.doc_id}):null}},{key:"render_required_msg",value:function(){return l.a.createElement("p",{className:"payments_required_fields",tabIndex:"0"},l.a.createElement("span",{className:"icon icon-ic_abouttitle","aria-hidden":"true"}),l.a.createElement("span",null,c.default.t("payments.checkout_flow.credit_card_form.all_fields_required")))}},{key:"render_threeds2",value:function(){if(this.state.threeds2)return l.a.createElement(M.a,W({},this.state.threeds2,{handle_error:this.handle_threeds2_submit_error,handle_success:this.handle_submit_success,handle_cancel:this.handle_cancel_threeds2_challenge,handle_request:this.open_loading_lb}))}},{key:"render_payment_options_info",value:function(){if(this.props.giftcard){var e=this.props.terms_href;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,c.default.t("payments.billing.payment_options")),l.a.createElement("p",{className:"payment_options_disclaimer",dangerouslySetInnerHTML:{__html:c.default.t("payments.billing.by_completing_your_purchase_html",{terms_href:e})}}))}}},{key:"render_gift_info",value:function(){if(this.props.giftcard&&this.props.giftcard_info)return l.a.createElement(B.a,this.props.giftcard_info)}},{key:"renderPaymentContainer",value:function(){var e,t=this.props,n=t.eligible_for_free_trial,r=t.free_to_paid_conversion,o=t.paypal_url,a=t.post_url;return t.show_paypal&&this.state.payment_type===q.w?e=o:(this.state.payment_type===q.t||this.state.show_google_pay&&this.state.payment_type===q.v)&&(e=a),l.a.createElement("div",{className:s()("payment_container",{trial_eligible:n})},r&&this.renderPromoConversionText(),l.a.createElement("div",{id:"flash_container",className:"flash_container"}),this.render_post_redirect(),this.render_truncated_form(e),this.render_payment_options_info(),this.render_toggles(),this.renderBackToPaymentsButton(),this.props.stored_card_form_props?this.render_stored_card_form():this.render_card_form(),this.renderCancelAnytime(),this.render_threeds2(),this.render_gift_info())}},{key:"render_stored_card_form",value:function(){var e=this.props,t=e.eligible_for_free_trial,n=e.giftcard,r=e.stored_card_form_props,o=t||n;return l.a.createElement(l.a.Fragment,null,l.a.createElement(L.a,W({giftcard:n},r)),o&&this.renderCardFormCheckout())}},{key:"render_content",value:function(){return l.a.createElement(l.a.Fragment,null,this.renderPaymentContainer())}}])&&X(n.prototype,a),i&&X(n,i),O}(a.a);oe.defaultProps={calm_bundle:!1,cart_context:null,date:(new Date).toString(),doc_id:null,email_address:"",giftcard:!1,giftcard_info:null,handle_card_number_change:O.a,handle_expiration_date_change:O.a,handle_security_code_change:O.a,metadata_update:null,payment_profile_update_page:!1,plan_info:{},product_handle:null,set_cta_text:function(){},show_creditcard_form:!0,show_paypal:!0,start_free_trial_enabled:!1,stored_card_form_props:null,terms_href:"",trial_end_timestamp:!1},Scribd.addComponent("Payments.CheckoutFlow.CreditCardForm",oe)}).call(this,n(10),n(1281).Buffer)},492:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(26),o=n(883),a=n.n(o),i=n(1),s=n(0),c=n.n(s);n(730);function u(e){var t=e.duration,n=e.price,o=e.receiver,s=e.showPlusTax?i.default.t("payments.checkout_flow.gift.price_plus_tax",{price:n}):n;return c.a.createElement("div",{className:"auto__payments_checkout_flow_gift_info"},c.a.createElement("div",{className:"divider_line"}),c.a.createElement("h2",null,i.default.t("payments.billing.your_gift")),c.a.createElement("div",{className:"info_columns"},c.a.createElement("img",{className:"gift_image",src:Object(r.a)(a.a),alt:"",role:"presentation"}),c.a.createElement("div",{className:"column"},c.a.createElement("p",null,c.a.createElement("strong",null,i.default.t("payments.billing.n_month_scribd_membership",{numMonths:t}))),c.a.createElement("p",null,o),c.a.createElement("p",null,s))))}},493:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(1),o=n(0),a=n.n(o),i=n(31),s=n(39);n(1041);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,o,c=_(p);function p(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t=c.call(this,e),n=f(t),o=function(){t.formRef.current&&t.formRef.current.submit()},(r="handleSubmit")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.formRef=a.a.createRef(),t}return t=p,(n=[{key:"eligibleForTrial",get:function(){return this.props.trialDuration>0}},{key:"componentDidMount",value:function(){document.addEventListener(s.i.FORM_SUBMIT,this.handleSubmit)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(s.i.FORM_SUBMIT,this.handleSubmit)}},{key:"renderForm",value:function(){var e="";return e=Scribd.CSRF.get_csrf_value(),a.a.createElement("form",{action:this.props.submitAction,method:"POST",ref:this.formRef},a.a.createElement("input",{name:"authenticity_token",type:"hidden",value:e}),a.a.createElement("input",{type:"hidden",name:"doc_id",value:this.props.docId}))}},{key:"renderBillingInfo",value:function(){if(this.eligibleForTrial&&!this.props.giftcard){var e=this.props,t=e.planInfo.zero,n=e.trialDuration,o=r.default.t("shared.trial_duration.monthly_payments_after_free_days",{trialDuration:n});return a.a.createElement("div",{className:"billing_info"},a.a.createElement("h2",{className:"header"},r.default.t("payments.checkout_flow.credit_card_form.your_billing_info")),a.a.createElement("p",{className:"price"},r.default.t("payments.checkout_flow.credit_card_form.this_props_plan_info_zero_due_today",{this_props_plan_info_zero:t})),a.a.createElement("p",{className:"subtitle"},o))}}},{key:"renderExpiry",value:function(){if(this.props.cardInfo.expiry&&""!==this.props.cardInfo.expiry)return a.a.createElement("p",{className:"expiry"},"Exp: ",this.props.cardInfo.expiry)}},{key:"render",value:function(){return a.a.createElement("div",{className:"wrapper__payments_checkout_flow_stored_card_form"},this.renderForm(),this.renderBillingInfo(),a.a.createElement("h2",null,r.default.t("checkout_flow.stored_card.current_card_on_file")),a.a.createElement("div",{className:"card_info"},a.a.createElement("p",{className:"card_number"},this.props.cardInfo.number),this.renderExpiry()),a.a.createElement(i.a,{href:this.props.billingHref,text:r.default.t("checkout_flow.stored_card.use_another_payment_method")}))}}])&&u(t.prototype,n),o&&u(t,o),p}(a.a.PureComponent)},50:function(e,t,n){"use strict";var r=n(53);n.d(t,"a",(function(){return r.ADD_EVENT_LISTENER_DELAY})),n.d(t,"b",(function(){return r.GETTING_STARTED_STEP_STRING})),n.d(t,"c",(function(){return r.HOME_ONBOARDING_COOKIE})),n.d(t,"d",(function(){return r.LOGO_SELECTOR})),n.d(t,"e",(function(){return r.PRIMARY_BUTTON_CLASS})),n.d(t,"f",(function(){return r.SAVE})),n.d(t,"g",(function(){return r.STEPS})),n.d(t,"h",(function(){return r.WELCOME})),n.d(t,"i",(function(){return r.WELCOME_CONTENT_TYPES}))},501:function(e,t,n){"use strict";function r(){var e=window,t=e.navigator,n=e.screen;return{userAgent:t.userAgent,language:t.language||t.browserLanguage,colorDepth:n.colorDepth,screenHeight:n.height,screenWidth:n.width,timeZoneOffset:(new Date).getTimezoneOffset(),javaEnabled:!!t.javaEnabled&&t.javaEnabled()}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var o=n(729);function a(e){return o.a.includes(e)}},53:function(e,t,n){"use strict";n.r(t),n.d(t,"PRIMARY_BUTTON_CLASS",(function(){return l})),n.d(t,"HOME_ONBOARDING_COOKIE",(function(){return _})),n.d(t,"BUILDING_HOME_TIME",(function(){return p})),n.d(t,"FALLBACK_TIME",(function(){return f})),n.d(t,"ADD_LISTENERS_DELAY",(function(){return d})),n.d(t,"TRANSITION_EVENTS",(function(){return h})),n.d(t,"WELCOME_CONTENT_TYPES",(function(){return m})),n.d(t,"SAVE",(function(){return y})),n.d(t,"WELCOME",(function(){return b})),n.d(t,"STEPS",(function(){return g})),n.d(t,"ADD_EVENT_LISTENER_DELAY",(function(){return v})),n.d(t,"GETTING_STARTED_STEP_STRING",(function(){return k})),n.d(t,"LOGO_SELECTOR",(function(){return w})),n.d(t,"ORDER_CONTEXT",(function(){return E}));var r=n(110),o=n.n(r),a=n(111),i=n.n(a),s=n(112),c=n.n(s),u=n(26),l="primary_button",_="hide_promo_modals",p=2500,f=1.5*p,d=p/2,h=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"],m=[{get name(){return I18n.t("onboarding.welcome_everyone.at_home_or")},src:Object(u.a)(o.a),get description(){return I18n.t("onboarding.welcome_everyone.read_and_listen")}},{get name(){return I18n.t("onboarding.welcome_everyone.full_length")},src:Object(u.a)(i.a),get description(){return I18n.t("onboarding.welcome_everyone.books_and_more")}},{get name(){return I18n.t("onboarding.welcome_everyone.all_for_one")},src:Object(u.a)(c.a),get description(){return I18n.t("onboarding.welcome_everyone.everything_is_included")}}],y="save",b="welcome",g=[b,y],v=300,k="step-0",w=".logo_button",E={PMP:"pmp"}},54:function(e,t,n){e.exports=n(19)(2)},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50);function o(e){var t=e.get(r.c);return void 0!==t&&"false"!==t&&t}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(52),o=function(e){var t=document.createElement("script");return e.path&&(t.src=e.path),e.crossorigin&&(t.crossOrigin=e.crossorigin),e.integrity&&(t.integrity=e.integrity),e.content&&(t.innerHTML=e.content),e.id&&(t.id=e.id),e.defer?t.defer=1:e.async&&(t.async=1),e.onload&&(t.onload=e.onload),(e.element||document.head).appendChild(t)},a=function(){var e=window.Scribd&&window.Scribd.Sentry;if(e){var t=e.disabled,n=e.dsn,a=e.environment,i=e.page,s=e.release;if(!t){var c={async:!0,crossorigin:"anonymous",id:"sentry_rewriteframe_script_tag",path:"https://browser.sentry-cdn.com/5.20.0/rewriteframes.min.js",onload:function(){window.Sentry.init({allowUrls:[/^https?:\/\/(\w+\.)*scribd\.com/],dsn:n,environment:a,release:s,integrations:[new window.Sentry.Integrations.RewriteFrames({iteratee:function(e){return e.filename&&(/embeds\/\d+\/content/.test(e.filename)?e.module="embeds/ID/content":/read\/\d+\/(\w|-)+/.test(e.filename)?e.module="read/ID/SLUG":/audiobook\/\d+\/(\w|-)+/.test(e.filename)?e.module="audiobook/ID/SLUG":/document\/\d+\/(\w|-)+/.test(e.filename)?e.module="document/ID/SLUG":/fullscreen\/\d+/.test(e.filename)?e.module="fullscreen/ID":/\w+\/pages\/\d+/.test(e.filename)?e.module="SHA/pages/N":/webpack\/doc_page\/init.\w+.js/.test(e.filename)?e.module="webpack/doc_page/init.SHA.js":/webpack\/doc_page\/app.\w+.js/.test(e.filename)&&(e.module="webpack/doc_page/app.SHA.js")),e}})]}),Object(r.c)(i),Object(r.d)()}};return o({async:!0,crossorigin:"anonymous",id:"sentry_script_tag",integrity:"sha384-mmBh0B1uYbzmP0q9QcqWr4el7gVXBSY0hWB2U8cNhNZi/RIuVQRp7pm1NlPOa644",path:"https://browser.sentry-cdn.com/5.20.0/bundle.min.js",onload:function(){o(c)}})}}}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12),o=function(e){var t=e.event,n=e.children,o=e.exit_function,a=e.tab_cycle;if(0!==n.length){var i=n[0],s=n[n.length-1],c=r.a.esc,u=r.a.up_arrow,l=r.a.down_arrow,_=r.a.tab,p=n.indexOf(document.activeElement);switch("function"!=typeof o&&(o=function(){}),t.keyCode){case l:t.preventDefault(),s===document.activeElement?i.focus():n[p+1].focus();break;case u:t.preventDefault(),i===document.activeElement?s.focus():n[p-1].focus();break;case _:if(t.shiftKey)if(t.preventDefault(),i===document.activeElement){if(!a)return o(t);s.focus()}else n[p-1].focus();else if(s===document.activeElement){if(!a)return o(t);t.preventDefault(),i.focus()}break;case c:return o(t);default:return}}}},59:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var r=n(2),o=n(28),a=n(36),i=n(61),s=n(7),c=n(62),u=n(63),l=n(17),_=n(24),p=n(15);n(130);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v,k,w,E=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(b,t);var n,r,p,f=y(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=f.call(this,e)).enclosing_class("auto__shared_navigation_header_header"),t.state={responsive_search:!1,user_menu_expanded:!1,explore_menu_expanded:!1,page_width:"medium",search_focused:!1},t}return n=b,(r=[{key:"component_classes",value:function(){return classNames({bare:this.props.bare,payments_header:this.props.payments})}},{key:"enclosing_tag",value:function(){return"header"}},{key:"enclosing_args",value:function(){return{id:"global_header",tabIndex:"-1"}}},{key:"is_narrow",value:function(){return["extra_narrow","narrow","medium"].includes(this.props.page_width)}},{key:"is_wide",value:function(){return["wide","extra_wide"].includes(this.props.page_width)}},{key:"handle_responsive_search_click",value:function(e){e.preventDefault(),this.props.search_props.search_page&&"hybrid"!==this.props.global_nav_test?this.set_focus_on_secondary_search():this.setState({responsive_search:!0,search_focused:!0})}},{key:"set_focus_on_secondary_search",value:function(){this.container.dispatchEvent(new Event("header:search_page:focus_input"))}},{key:"handle_close_search",value:function(){this.setState({responsive_search:!1,search_focused:!1})}},{key:"handle_user_menu_click",value:function(e){var t={user_menu_expanded:e};this.state.explore_menu_expanded&&(t=Object.assign(t,{explore_menu_expanded:!1})),this.setState(t)}},{key:"handle_explore_menu_click",value:function(e){e.preventDefault();var t={explore_menu_expanded:!this.state.explore_menu_expanded};this.state.user_menu_expanded&&(t=Object.assign(t,{user_menu_expanded:!1})),this.setState(t)}},{key:"render_color_divider",value:function(){return e.createElement(_.a,{key:"color_divider"})}},{key:"render_logo",value:function(){var t=this.props,n=t.clickableLogo,r=t.logo_src,o=t.new_tab,a=t.root_url,i=n?a:null,s=n&&o?"_blank":null,c=n?"a":"span";return e.createElement("div",{className:"logo_container flex_col"},e.createElement(c,{className:"icon_button logo_button",href:i,target:s},e.createElement("img",{alt:"Scribd",className:"logo",role:"img",src:r})))}},{key:"render_explore_menu",value:function(){return e.createElement(i.a,Object.assign(this.props.explore_menu_props,{expanded:this.state.explore_menu_expanded,key:"explore_menu_right",handle_close_click:this.handle_explore_menu_click}))}},{key:"render_explore_text_button",value:function(){var t=this.state.explore_menu_expanded?"icon-ic_up_arrow":"icon-ic_down_arrow";return e.createElement("a",{"aria-expanded":this.state.explore_menu_expanded,"aria-label":I18n.t("shared.navigation.header.header.explore"),className:"explore_button icon_button",href:"#explore",id:"explore",key:"explore_button_left",onClick:this.handle_explore_menu_click},e.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_browse",role:"presentation"}),e.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.explore")),e.createElement("span",{"aria-hidden":"true",className:"arrow ".concat(t),role:"presentation"}))}},{key:"render_explore_icon_button",value:function(){return e.createElement("a",{"aria-expanded":this.state.explore_menu_expanded,"aria-label":I18n.t("shared.navigation.header.header.explore"),className:"explore_button icon_button",href:"#explore",id:"explore",key:"explore_button_right",onClick:this.handle_explore_menu_click},e.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_browse",role:"presentation"}))}},{key:"render_explore_button",value:function(){return"extra_wide"===this.props.page_width?[this.render_explore_text_button(),this.render_explore_menu()]:[this.render_explore_icon_button(),this.render_explore_menu()]}},{key:"render_right_tools_icon_button_text",value:function(t){if("extra_wide"===this.props.page_width)return e.createElement("span",{className:"icon_button_text"},t)}},{key:"render_upload_button",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.upload_a_document"),className:"icon_button upload_button",href:this.props.uploads_url,key:"upload"},e.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_upload",role:"presentation"}),this.render_upload_button_label(t))}},{key:"render_upload_button_label",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.is_narrow()&&!t.icon_only)return e.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.upload"))}},{key:"render_search",value:function(){return this.is_wide()?e.createElement(o.a,d({},this.props.search_props,{focused:this.state.focus_search})):e.createElement("a",{"aria-expanded":this.state.responsive_search,"aria-label":I18n.t("shared.navigation.header.header.search"),className:"icon_button search_button",href:"#search",id:"search",key:"search",onClick:this.handle_responsive_search_click},e.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_search",role:"presentation"}))}},{key:"render_saved_new_items_indicator",value:function(){if(this.props.saved_new_items)return e.createElement("span",{className:"new_items_indicator"})}},{key:"render_saved_button",value:function(){return e.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.go_to_your_saved_titles"),className:"icon_button saved_button",href:this.props.saved_url,key:"saved"},e.createElement("span",{"aria-hidden":"true",className:"icon icon-ic_globalnav_saved saved_icon",role:"presentation"},this.render_saved_new_items_indicator()),this.render_right_tools_icon_button_text(I18n.t("shared.navigation.header.header.saved")))}},{key:"render_user_menu",value:function(){var t=this.props,n=t.logged_in,r=t.page_width,o=!1;return(n&&this.is_narrow()||!n&&"extra_wide"!==r)&&(o=!0),e.createElement(a.a,d({},this.props.user_button_props,{icon_button:o,from_sidebar:!1,handle_click:this.handle_user_menu_click,logged_out:!this.props.logged_in,user_menu_open:this.state.user_menu_expanded,handle_externally:!0,key:"user_button",notificationDotProps:this.props.notificationDotProps}))}},{key:"render_right_tools_for_wide",value:function(){return this.props.logged_in?["extra_wide"===this.props.page_width?null:this.render_bestsellers_icon_button(),this.render_upload_button(),this.render_saved_button(),this.render_user_menu()]:["extra_wide"===this.props.page_width?null:this.render_bestsellers_icon_button(),this.render_upload_button(),this.render_user_menu()]}},{key:"render_bestsellers_icon_button",value:function(){return e.createElement("a",{href:this.props.bestsellers_url,className:"icon_button responsive_bestsellers_btn bestsellers_button","data-track":"bestsellers","aria-label":I18n.t("shared.navigation.header.header.bestsellers"),key:"best_sellers_icon_button"},e.createElement("span",{className:"icon icon-ic_globalnav_topcharts","aria-hidden":"true"}))}},{key:"render_bestsellers_text_button",value:function(){var t=this.props.bestsellers_url;return e.createElement("a",{href:t,className:"icon_button full_bestsellers_btn bestsellers_button","data-track":"bestsellers","aria-label":I18n.t("shared.navigation.header.header.bestsellers_")},e.createElement("span",{className:"icon icon-ic_globalnav_topcharts","aria-hidden":"true"}),e.createElement("div",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.bestsellers_")))}},{key:"render_responsive_header",value:function(){return e.createElement(l.a,null,e.createElement("div",{className:"left_tools",key:"left_tools"},this.render_logo()),e.createElement("div",{className:"right_tools flex_row",key:"right_tools"},this.render_explore_button(),this.render_bestsellers_icon_button(),this.render_search(),this.props.logged_in?this.render_saved_button():null,this.render_user_menu()))}},{key:"render_full_header",value:function(){return e.createElement(l.a,null,e.createElement("div",{className:"left_tools flex_row",key:"left_tools"},this.render_logo(),this.render_explore_button(),"extra_wide"===this.props.page_width?this.render_bestsellers_text_button():null,this.render_search()),e.createElement("div",{className:"right_tools flex_row",key:"right_tools"},this.render_right_tools_for_wide()))}},{key:"render_responsive_search_bar",value:function(){return e.createElement(l.a,{key:"responsive_search_bar"},e.createElement(s.c,{className:"search_back_btn text_btn flat_btn",onClick:this.handle_close_search},e.createElement("span",{className:"icon-ic_back_arrow icon"}),e.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.header.header.back"))),e.createElement(o.a,d({},this.props.search_props,{focused:this.state.focus_search,extra_classes:"search_responsive_input"})))}},{key:"render_archive_payments_bar",value:function(){if(this.props.payments){if(this.props.show_progress_as_step_counter&&this.props.progress_step_counter_props)return e.createElement(u.a,this.props.progress_step_counter_props);if(this.props.progress_bar_props)return e.createElement(c.a,this.props.progress_bar_props)}}},{key:"render_bare_header",value:function(){return e.createElement(l.a,null,this.render_logo(),this.render_archive_payments_bar())}},{key:"render_content",value:function(){return this.props.bare?this.render_bare_header():this.is_wide()?this.render_full_header():this.state.responsive_search?this.render_responsive_search_bar():this.render_responsive_header()}}])&&h(n.prototype,r),p&&h(n,p),b}(r.a);v=E,k="defaultProps",w={clickableLogo:!0,notificationDotProps:{handleRemoveDot:p.a,setUserHasSeenBundles:p.a,showNotificationDot:!1},page:1},k in v?Object.defineProperty(v,k,{value:w,enumerable:!0,configurable:!0,writable:!0}):v[k]=w,Scribd.addComponent("Shared.Navigation.Header.Header",E)}).call(this,n(0))},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s}));var r="extra_narrow",o="narrow",a="medium",i="wide",s="extra_wide"},60:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n(122);var r=n(2),o=n(9),a=n(15);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,t);var n,r,a,i=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),f(_(t=i.call(this,e)),"handle_click",(function(e,n){n.preventDefault();var r=t.get_pruned_search_html(e);t.item_selected=!0,t.track_click(r),t.props.handle_click(n,r)})),f(_(t),"handle_mouse_up",(function(e){t.suggestions&&!t.suggestions.contains(e.target)&&t.track_cancel()})),f(_(t),"track_click",(function(e){var n=t.props.items.map(t.get_pruned_search_html);Object(o.a)("search:drop_down_suggest:click",{page:window.location.pathname,search_session_id:Scribd.Search.Input.Show.get_search_session_id(),source:t.props.source,query:e,query_typed:t.props.query,suggestions:n})})),f(_(t),"track_cancel",(function(){var e=t.props.items.map(t.get_pruned_search_html);e.length&&Object(o.a)("search:drop_down_suggest:cancel",{source:t.props.source,search_session_id:Scribd.Search.Input.Show.get_search_session_id(),page:window.location.pathname,query_typed:t.props.query,suggestions:e})})),t.enclosing_class("auto__search_input_suggestions"),t.get_pruned_search_html=Scribd.Search.Input.Show.get_pruned_search_html.bind(_(t)),t}return n=l,(r=[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handle_mouse_up)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handle_mouse_up)}},{key:"raw_html",value:function(e){return{__html:e}}},{key:"render_suggestion_label",value:function(){if(this.props.label_text)return e.createElement("div",{className:"suggestion_label"},this.props.label_text)}},{key:"render_link",value:function(t){return this.props.trust?e.createElement("a",{href:"#",dangerouslySetInnerHTML:this.raw_html(t)}):e.createElement("a",{href:"#"},t)}},{key:"render_items",value:function(){var t=this;return this.props.items.map((function(n,r){var o=classNames("suggestion",{selected:t.props.selected_index===r}),a=classNames({selected_suggestion:t.props.selected_index===r});return e.createElement("li",{className:o,id:a,key:r.toString(),onClick:t.handle_click.bind(t,n)},t.render_link(n))}))}},{key:"set_ref",value:function(e){this.suggestions=e,this.props.set_suggestions_ref&&this.props.set_suggestions_ref(e)}},{key:"render_content",value:function(){return e.createElement("div",{className:"suggestions",id:this.props.list_id,ref:this.set_ref},this.render_suggestion_label(),e.createElement("ul",null,this.render_items()))}}])&&s(n.prototype,r),a&&s(n,a),l}(r.a);d.defaultProps={label_text:null,set_suggestions_ref:a.a},Scribd.addComponent("Search.Input.Suggestions",d)}).call(this,n(0))},61:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(2),o=n(30),a=n(12);n(126);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,f,d,h=function(t){var n=t.content_type,r=t.href,o=t.text,a=t.icon_className,i=t.onClick;return e.createElement("li",null,e.createElement("a",{href:r,onClick:i.bind(void 0,n)},e.createElement("span",{className:"icon ".concat(a),"aria-hidden":"true"}),e.createElement("span",{className:"text"},o)))},m=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(_,t);var n,r,i,l=u(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=l.call(this,e)).enclosing_class("auto__shared_navigation_header_explore_menu"),t}return n=_,(r=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handle_keydown),this.props.expanded&&this.hide_body_scroll()}},{key:"componentDidUpdate",value:function(e){this.props.expanded&&!e.expanded?this.hide_body_scroll():!this.props.expanded&&e.expanded&&this.replace_body_scroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handle_keydown),this.replace_body_scroll()}},{key:"hide_body_scroll",value:function(){$(document.body).addClass("header_overlay_open")}},{key:"replace_body_scroll",value:function(){$(document.body).removeClass("header_overlay_open")}},{key:"handle_keydown",value:function(e){this.props.expanded&&e.which===a.a.esc&&this.props.handle_close_click(e)}},{key:"handle_content_type_click",value:function(e){this.track_rats("top_nav:".concat(e,":click"),{loc:"browse_menu"})}},{key:"handle_interest_click",value:function(e){this.track_rats("top_nav:interest:click",{interest:e,loc:"browse_menu"})}},{key:"render_sub_interests",value:function(t){var n=this;return t.sub_interests.map((function(t,r){return e.createElement("li",{key:r,className:"child_interest"},e.createElement("a",{className:"interest_btn interest_link",href:t.href,onClick:n.handle_interest_click.bind(n,t.name)},t.name))}))}},{key:"render_interest_lists",value:function(){var t=this;return this.props.interests.map((function(n){return e.createElement("div",{className:"interest_group",key:"interest_group_".concat(n.name)},e.createElement("h3",{className:"interest"},e.createElement("a",{href:n.href,className:"interest_btn interest_link",onClick:t.handle_interest_click.bind(t,n.name)},n.name)),e.createElement("ul",{className:"sub_interests"},t.render_sub_interests(n)))}))}},{key:"render_explore_by_content_type",value:function(){return e.createElement("section",{className:"content_types","aria-labelledby":"explore_by_content_type"},e.createElement("h2",{className:"title",id:"explore_by_content_type"},I18n.t("shared.navigation.header.explore_menu.explore_formats")),e.createElement("ul",null,e.createElement(h,{content_type:"books",href:this.props.books_url,text:I18n.t("shared.navigation.header.explore_menu.books"),icon_className:"icon-ic_small_book_fill",onClick:this.handle_content_type_click}),e.createElement(h,{content_type:"audiobooks",href:this.props.audiobooks_url,text:I18n.t("shared.navigation.header.explore_menu.audiobooks"),icon_className:"icon-ic_small_audiobook_fill",onClick:this.handle_content_type_click}),e.createElement(h,{content_type:"articles",href:this.props.magazines_url,text:I18n.t("shared.navigation.header.explore_menu.news_magazines"),icon_className:"icon-ic_small_magazine_fill",onClick:this.handle_content_type_click}),e.createElement(h,{content_type:"sheet_music",href:this.props.sheet_music_url,text:I18n.t("shared.navigation.header.explore_menu.sheet_music"),icon_className:"icon-ic_small_songbook_fill",onClick:this.handle_content_type_click})))}},{key:"render_explore_by_interest",value:function(){return e.createElement("section",{className:"interests","aria-labelledby":"explore_by_interest"},e.createElement("h2",{className:"title",id:"explore_by_interest"},I18n.t("shared.navigation.header.explore_menu.explore_interests")),e.createElement("div",{className:"interests_content"},this.render_interest_lists()))}},{key:"render_close_button",value:function(){return e.createElement("a",{href:"#explore_close_button",id:"explore_close_button",className:"close_button","aria-label":I18n.t("shared.navigation.header.explore_menu.close_explore_menu"),onClick:this.props.handle_close_click},e.createElement(o.a,{icon:"close"}))}},{key:"render_content",value:function(){if(this.props.expanded)return e.createElement("div",null,e.createElement("div",{className:classNames("explore_menu")},e.createElement("div",{className:"menu_wrapper"},e.createElement("nav",{className:"menu_content","aria-label":I18n.t("shared.navigation.header.explore_menu.explore_by_interests_or_content_type")},this.render_close_button(),this.render_explore_by_interest(),this.render_explore_by_content_type()))))}}])&&s(n.prototype,r),i&&s(n,i),_}(r.a);d={expanded:!1},(f="defaultProps")in(p=m)?Object.defineProperty(p,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[f]=d}).call(this,n(0))},62:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));n(127);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,t);var n,r,s,c=i(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).enclosing_class("auto__archive_flow_header_progress_bar"),t.state={selected:e.current_step},t}return n=u,(r=[{key:"render_step",value:function(t,n){var r="";return n<this.state.selected?r="completed":n===this.state.selected&&(r="active"),e.createElement("li",{className:"step_component ".concat(r," icon-ic_checkmark"),key:"step_".concat(n)},e.createElement("div",{className:"step_label"},t.label))}},{key:"render_content",value:function(){var t=this,n=this.props.steps.map((function(e,n){return t.render_step(e,n)}));return e.createElement("div",{className:"progress_bar_container container"},e.createElement("div",{className:"progress_title"}," ",this.props.title," "),e.createElement("ul",{className:"progress_bar progressbar"},n))}}])&&o(n.prototype,r),s&&o(n,s),u}(n(2).a);Scribd.addComponent("ArchiveFlow.Header.ProgressBar",u)}).call(this,n(0))},63:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(2);n(128);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,_,p,f=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,t);var n,r,o,c=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).enclosing_class("auto__archive_flow_header_progress_step_counter"),t}return n=u,(r=[{key:"get_step_string",value:function(){return"".concat(this.props.current_step+2,"/").concat(this.props.num_steps)}},{key:"render_content",value:function(){return e.createElement("div",null,I18n.t("archive_flow.header.progress_step_counter.step_this_get_step_string",{this_get_step_string:this.get_step_string()}))}}])&&a(n.prototype,r),o&&a(n,o),u}(r.a);p={num_steps:3},(_="defaultProps")in(l=f)?Object.defineProperty(l,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[_]=p}).call(this,n(0))},64:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(9),o=n(12),a=n(15),i=n(2),s=n(29),c=n(37),u=n(7),l=n(20),_=n(65),p=n(24),f=n(58),d=n(14);n(132);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(v,t);var n,a,i,h=g(v);function v(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),E(k(n=h.call(this,t)),"getJoinText",(function(){return n.props.book_preview_page?Scribd.trial_days_button_text||i18next.t("shared.join.become_a_member"):I18n.t("shared.trial_duration.read_free_days",{trialDuration:n.props.trialDuration})})),E(k(n),"render_top_section",(function(){return e.createElement("ul",{className:"top_section"},n.render_membership_info(),n.render_home_and_saved_vertical_tabs())})),n.enclosing_class("auto__shared_navigation_sidebar"),n.state={scroll_position:0,selected_content_type:t.selected_content_type,user_menu_open:!1,show:!1,side_nav_test:!1},n}return n=v,(a=[{key:"componentDidMount",value:function(){this.is_responsive()&&document.body.classList.add("no_scroll")}},{key:"componentWillUnmount",value:function(){document.body.classList.contains("no_scroll")&&document.body.classList.remove("no_scroll")}},{key:"component_classes",value:function(){return classNames("global_nav_sidebar hybrid_sidebar",{show_user_section:this.is_narrow(),full_width_background:this.is_responsive()})}},{key:"handle_tab_click",value:function(e,t){Object(r.a)("tabs:tab:click",{page:"home",type:e.key,position:t})}},{key:"is_narrow",value:function(){return"narrow"===this.props.page_width||"extra_narrow"===this.props.page_width}},{key:"render_visually_hidden_text",value:function(t){if(t.type===this.state.selected_content_type)return e.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.sidebar.selected"))}},{key:"get_click_handler",value:function(e,t){return function(n){Object(r.a)("global_nav:sidebar:".concat(t,":click")),e&&e(n)}}},{key:"render_vertical_tab",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var o=t.type===this.state.selected_content_type,a=o?t.icon_filled:t.icon;return e.createElement("li",{className:classNames("nav_row",t.type,{selected:o}),key:"nav_row_".concat(t.name)},e.createElement("a",{href:t.url,className:"nav_link flex_row",onClick:this.get_click_handler(n,t.type)},e.createElement("span",{className:"icon ".concat(a)}),e.createElement("div",{className:"title_container flex_col"},e.createElement("div",{className:"flex_row"},e.createElement("div",{className:"nav_title"},t.name),r?e.createElement("span",{className:"icon-ic_right_caret_1px side_arrow","aria-hidden":"true"}):null,this.render_visually_hidden_text(t)))))}}},{key:"handle_language_click",value:function(t){var n=this;t.preventDefault(),Object(r.a)("language_picker:sidebar:open"),$.get(this.props.language_modal_props_url).done((function(t){Scribd.Lightbox.open_react("language_lightbox",e.createElement(l.a,m({handle_lightbox_close:n.props.focus_on_header},t))),$(n.container).trigger("language_picker:message:close")})),this.props.close_sidebar()}},{key:"toggle_user_menu",value:function(){var e=this;this.setState({user_menu_open:!this.state.user_menu_open},(function(){e.state.user_menu_open&&Object(r.a)("nav_bar:user_menu:view")}))}},{key:"close_user_menu",value:function(){this.setState({user_menu_open:!1}),this.user_button_ref.focus(),this.props.notificationDotProps.handleRemoveDot()}},{key:"is_full_sidebar",value:function(){return"full"===this.props.global_nav_test}},{key:"is_responsive",value:function(){return["extra_narrow","narrow","medium"].includes(this.props.page_width)}},{key:"handle_key_down",value:function(e){if(this.is_responsive()){var t=this.get_focusable_children();Object(f.a)({event:e,children:t,exit_function:this.props.handle_toggle_sidebar})}}},{key:"handle_join_click",value:function(e){e.preventDefault(),Object(d.default)({nextUrl:this.props.subscribe_url,trackingData:{loc:"sidebar"}})}},{key:"handle_login_click",value:function(e){e.preventDefault(),Object(d.default)({initialView:"login",trackingData:{loc:"sidebar"}})}},{key:"handle_user_button_keypress",value:function(e){e.preventDefault(),e.which===o.a.enter&&this.toggle_user_menu()}},{key:"render_logo",value:function(){if(this.is_full_sidebar()&&!this.is_responsive())return e.createElement("li",{className:"logo_container flex_row",role:"presentation"},e.createElement("a",{className:"logo",href:this.props.home.url},e.createElement("img",{src:this.image_url("landing/home2_landing/scribd_logo_horiz_small.svg"),alt:"Scribd"})))}},{key:"render_membership_info",value:function(){if(!this.props.subscriber)return e.createElement("li",{className:"membership_info_button_row"},e.createElement(_.a,{redirect_url:this.props.subscribe_now_landing_url,track_data:{user:"non_subscriber"}}))}},{key:"render_home_and_saved_vertical_tabs",value:function(){var t=this.props.logged_in?null:this.handle_login_click;return e.createElement(e.Fragment,null,this.render_vertical_tab(this.props.home),this.render_vertical_tab(this.props.saved,t))}},{key:"render_bestsellers_btn",value:function(){return this.render_vertical_tab(this.props.bestsellers)}},{key:"render_categories_section",value:function(){var t=this;return e.createElement("ul",{className:"categories",key:"sidebar_nav_categories",ref:function(e){return t.sidebar_nav_categories=e}},this.render_bestsellers_btn(),this.props.categories_array.map((function(e){if("mixed"!==e)return t.render_vertical_tab(t.props.categories[e])})))}},{key:"render_divider",value:function(){return e.createElement("div",{className:"divider"})}},{key:"render_upload_button",value:function(){if(this.is_narrow())return this.render_vertical_tab(this.props.upload)}},{key:"render_user_section",value:function(){var t=this;return this.props.logged_in?e.createElement("li",{className:"nav_row user_button",key:"bottom_menu_user_section"},e.createElement("a",{href:"#",className:"flex_row unstyled_link",onClick:this.toggle_user_menu,ref:function(e){return t.user_button_ref=e},"aria-haspopup":"true","aria-expanded":this.state.user_menu_open,onKeyPress:this.handle_user_button_keypress},e.createElement(s.a,this.props.persona_icon_props),this.props.notificationDotProps.showNotificationDot&&e.createElement("span",{className:"notification_dot"}),e.createElement("div",{className:"user_copy"},e.createElement("span",{className:"greeting"},I18n.t("shared.navigation.sidebar.hi_this_props_username",{this_props_username:this.props.username})),e.createElement("div",{className:"profile_button flex_row"},e.createElement("span",{className:"label"},I18n.t("shared.navigation.sidebar.your_profile")),e.createElement("span",{className:"icon icon-ic_right_caret_1px","aria-hidden":"true"}))))):e.createElement("li",{className:"login_section"},e.createElement(u.c,{className:"flat_btn",href:this.props.subscribe_url,onClick:this.handle_join_click},this.getJoinText()),e.createElement(u.c,{className:"flat_btn outline_btn",href:this.props.subscribe_url,onClick:this.handle_login_click},I18n.t("shared.navigation.sidebar.sign_in")))}},{key:"render_bottom_section",value:function(){return this.is_narrow()?e.createElement("ul",{className:"bottom_section flex_col"},this.render_upload_button(),this.render_language_picker(),this.render_color_divider(),this.render_user_section()):e.createElement("ul",{className:"bottom_section flex_col"},this.render_upload_button(),this.render_language_picker())}},{key:"render_color_divider",value:function(){return e.createElement("li",{role:"presentation",key:"color"},e.createElement(p.a,null))}},{key:"render_language_picker",value:function(){if(this.is_responsive())return e.createElement(e.Fragment,null,this.render_divider(),this.render_vertical_tab(this.props.language,this.handle_language_click,!0))}},{key:"render_vertical_tabs",value:function(){return e.createElement("nav",{key:"vertical_nav",onKeyDown:this.handle_key_down,className:"vertical_nav"},e.createElement("div",{className:"sidebar_container flex_col"},e.createElement("div",{className:"upper"},this.render_top_section(),this.render_divider(),this.render_categories_section()),this.render_bottom_section()))}},{key:"render_opac_background",value:function(){if(this.is_responsive())return e.createElement("div",{key:"opac_background",onClick:this.props.handle_toggle_sidebar,className:"opac_background"})}},{key:"render_title",value:function(){return e.createElement("h2",{id:"home_content_tabs",className:"visually_hidden",key:"content_tabs_title"},I18n.t("shared.sidebar_nav.sidebar.explore_by_content_type"))}},{key:"render_user_menu",value:function(){if(this.state.user_menu_open)return e.createElement(c.a,m({},this.props.user_menu_props,{from_sidebar:!0,handle_close:this.close_user_menu,key:"user_menu",notificationDotProps:this.props.notificationDotProps}))}},{key:"render_content",value:function(){return e.createElement(e.Fragment,null,this.render_opac_background(),this.render_vertical_tabs(),this.render_user_menu())}}])&&y(n.prototype,a),i&&y(n,i),v}(i.a);S.defaultProps={notificationDotProps:{handleRemoveDot:a.a,setUserHasSeenBundles:a.a,showNotificationDot:!1},trialDuration:null},Scribd.addComponent("Shared.Navigation.Sidebar",S)}).call(this,n(0))},65:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(9);n(131);function o(t){var n=t.redirect_url,o=t.text,a=t.open_new_tab,i=t.track_data,s=o||I18n.t("shared.navigation.membership_info.learn_more_about_scribd_membership"),c=a?"_blank":"";return e.createElement("a",{className:"auto__shared_navigation_membership_info membership_info_container",href:n,target:c,onClick:function(){Object(r.a)("global_nav:sidebar:learn_more:click",i)}},e.createElement("p",{className:"text"},s),e.createElement("span",{className:"icon icon-ic_right_caret_alt","aria-hidden":"true"}))}}).call(this,n(0))},653:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(2);n(728);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,t);var n,r,o,u=c(p);function p(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t=u.call(this,e),n=l(t),o=function(){t.setState({hide:!0})},(r="hide")in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.enclosing_class("auto__archive_flow_document_bar"),t.state={hide:!1},t}return n=p,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scribd:dismiss_document_bar",this.hide)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scribd:dismiss_document_bar",this.hide)}},{key:"render_thumbnail",value:function(){return e.createElement("div",{className:"thumbnail"},e.createElement("img",{src:this.props.document_image_url,alt:this.props.document_title}))}},{key:"render_lede_text",value:function(){return e.createElement("p",{className:"document_lede"},I18n.t("archive_flow.document_bar.your_document"))}},{key:"render_content",value:function(){return e.createElement("div",{className:"doc_bar_inner"},this.render_thumbnail(),e.createElement("div",{key:"doc_title",className:"document_title"},this.render_lede_text(),e.createElement("span",{className:"document_title_text"},this.props.document_title)))}},{key:"render",value:function(){return this.state.hide?null:i(_(p.prototype),"render",this).call(this)}}])&&a(n.prototype,r),o&&a(n,o),p}(r.a);Scribd.addComponent("ArchiveFlow.DocumentBar",p)}).call(this,n(0))},66:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O}));var r=n(3),o=n.n(r),a=n(24),i=n(17),s=n(73),c=n(188),u=n(9),l=n(15),_=n(30),p=n(6),f=n(28),d=n(36),h=n(2),m=n(67),y=n(70);n(135);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(b,t);var n,r,l,h=w(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=h.call(this,e)).enclosing_class("auto__shared_navigation_header_header_hybrid"),t.state={explore_menu_expanded:!1,showReadFreeButton:!1,responsive_search:!1,search_focused:!1,user_menu_expanded:!1},t}return n=b,(r=[{key:"enclosing_element_args",value:function(){return{id:"global_header",tabIndex:"-1"}}},{key:"enclosing_tag",value:function(){return"header"}},{key:"componentDidMount",value:function(){this.check_for_language_settings_change(),this.shouldShowReadFreeButton(),window.addEventListener("resize",this.shouldShowReadFreeButton)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.shouldShowReadFreeButton)}},{key:"shouldShowReadFreeButton",value:function(){var e=this.props,t=e.eligible_for_free_trial,n=e.is_subscriber;this.setState({showReadFreeButton:!(window.innerWidth<=s.a.breakpoint_1024||n||!t)})}},{key:"check_for_language_settings_change",value:function(){var e=Object(c.a)(window.location.search.slice(1));e&&e.language_settings_changed&&Scribd.Flasher.standard("success",I18n.t("shared.navigation.header.header_hybrid.preferred_language_set_to_query_language_settings_changed",{query_language_settings_changed:e.language_settings_changed}))}},{key:"is_narrow",value:function(){return[p.a,p.d,p.c].includes(this.props.page_width)}},{key:"is_wide",value:function(){return[p.e,p.b].includes(this.props.page_width)}},{key:"handle_user_menu_click",value:function(e){var t={user_menu_expanded:e};this.state.explore_menu_expanded&&(t=Object.assign(t,{explore_menu_expanded:!1})),e&&Object(u.a)("nav_bar:user_menu:view"),this.setState(t)}},{key:"handle_search_focus",value:function(e){this.setState({search_focused:e})}},{key:"render_logo",value:function(){return e.createElement("div",{className:"logo_container flex_row"},e.createElement("a",{className:"logo_button icon_button flex_col",href:this.props.root_url,target:this.props.new_tab?"_blank":null},e.createElement("img",{alt:"Scribd",className:"logo",role:"img",src:this.props.logo_src})))}},{key:"render_color_divider",value:function(){return e.createElement(a.a,{key:"color_divider"})}},{key:"render_right_tools_icon_button_text",value:function(t){return e.createElement("span",{className:"icon_button_text"},t)}},{key:"render_user_menu",value:function(){return e.createElement(d.a,g({},this.props.user_button_props,{icon_button:!1,showReadFreeButton:this.state.showReadFreeButton,from_sidebar:!1,handle_click:this.handle_user_menu_click.bind(this),logged_out:!this.props.logged_in,from_hybrid:!0,user_menu_open:this.state.user_menu_expanded,eligibleForFreeTrial:this.props.eligible_for_free_trial,notificationDotProps:this.props.notificationDotProps}))}},{key:"render_hybrid_search",value:function(t){var n=this.props.search_props.search_page?this.props.search_term:"";return e.createElement(f.a,g({},this.props.search_props,{extra_classes:o()(t,{read_free_button:this.state.showReadFreeButton}),focused:this.state.search_focused,handle_search_focus:this.handle_search_focus,query:n,sidebar_open:this.props.sidebar_open}))}},{key:"get_aria_hidden_text",value:function(){var e=this.props.sidebar_open;return{visually_hidden_text:e?I18n.t("shared.navigation.header.header_hybrid.close_navigation_menu"):I18n.t("shared.navigation.header.header_hybrid.open_navigation_menu"),aria_expanded:e}}},{key:"render_logo_menu",value:function(){var t=this.props,n=t.handle_toggle_sidebar,r=t.logo_src,a=t.page_width,i=t.root_url,s=t.sidebar_open;if(["wide","extra_wide"].includes(a))return this.render_logo();var c=this.get_aria_hidden_text(),u=c.visually_hidden_text,l=c.aria_expanded,_=this.state.search_focused;return e.createElement("div",{className:o()("logo_container","flex_row",{search_focused:_})},e.createElement("a",{className:"hamburger_menu_button flex_col",href:"#sidebar",onClick:n,"aria-expanded":l},e.createElement(y.a,{opened:s}),e.createElement("span",{className:"visually_hidden"},u)),e.createElement("a",{className:"logo_home_button flex_col",href:i},e.createElement("img",{alt:"Scribd",className:"logo",src:r})))}},{key:"render_wide_upload_button",value:function(){this.show_upload_icon()&&this.render_upload_button({icon_only:!this.props.logged_in})}},{key:"render_right_tools_for_wide",value:function(){return e.createElement("div",{className:"right_tools flex_row"},this.render_wide_upload_button(),this.render_user_menu())}},{key:"render_upload_button",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createElement("a",{"aria-label":I18n.t("shared.navigation.header.header.upload_a_document"),className:"icon_button upload_button with_right_border",href:this.props.uploads_url,key:"upload"},e.createElement(_.a,{icon:"globalnav_upload"}),this.render_upload_button_label(t))}},{key:"render_upload_button_label",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.is_narrow()&&!t.icon_only)return e.createElement("span",{className:"icon_button_text"},I18n.t("shared.navigation.header.header.upload"))}},{key:"show_upload_icon",value:function(){return[p.a,p.d].includes(this.props.page_width)}},{key:"render_hybrid_upload_button",value:function(){return this.is_wide()?this.render_upload_button():this.props.page_width===p.c?this.render_upload_button({icon_only:!0}):void 0}},{key:"render_language_picker",value:function(){var t=this.props.language_picker_props;if(["wide","extra_wide"].includes(this.props.page_width)&&t)return e.createElement(m.a,t)}},{key:"render_referral_button",value:function(){if(this.props.is_subscriber){var t=this.props.free_referral?I18n.t("shared.navigation.header.header.read_for_free"):I18n.t("shared.navigation.header.header.invite_friends");return e.createElement("a",{className:"referral_text with_right_border",href:this.props.referrals_url},t)}}},{key:"render_full_header",value:function(){return e.createElement(i.a,{key:"full_header",extra_classes:"hybrid_test_header"},this.render_logo_menu(),this.render_hybrid_search("hybrid_nav_search"),e.createElement("div",{className:o()("right_tools","flex_row",{read_free_button:this.state.showReadFreeButton})},this.render_referral_button(),this.render_hybrid_upload_button(),this.render_language_picker(),this.render_user_menu()))}},{key:"render_simple_header",value:function(){return e.createElement(i.a,{key:"simple_header",extra_classes:"hybrid_test_header hybrid_simple"},e.createElement("div",{id:"home_after_onboarding_overlay"}),this.render_logo_menu(),this.render_hybrid_search("hybrid_wide_search"))}},{key:"render_content",value:function(){return[p.a,p.d].includes(this.props.page_width)?[this.render_simple_header(),this.render_color_divider()]:[this.render_full_header(),this.render_color_divider()]}}])&&v(n.prototype,r),l&&v(n,l),b}(h.a);O.defaultProps={eligible_for_free_trial:null,notificationDotProps:{handleRemoveDot:l.a,setUserHasSeenBundles:l.a,showNotificationDot:!1}}}).call(this,n(0))},67:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(2),o=n(176),a=n(20);n(133);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(_,t);var n,r,i,l=u(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=l.call(this,e)).enclosing_class("auto__shared_navigation_language_picker"),t.state={selected_language:e.current_language,menu_open:!1},t}return n=_,(r=[{key:"component_classes",value:function(){return classNames("icon_button language_picker with_right_border",{logged_out:!this.props.current_user})}},{key:"handle_select",value:function(e){var t=this;return function(){t.track_rats("language_picker:header:language:click",{locale:e.lang,current_locale:t.props.current_language.lang}),t.setState({selected_language:e})}}},{key:"show_menu",value:function(){this.setState({menu_open:!0})}},{key:"close_menu",value:function(){this.setState({menu_open:!1})}},{key:"handle_picker_click",value:function(e){e.preventDefault(),this.track_rats("language_picker:header:clicked",{current_locale:this.props.current_language.lang}),$(this.container).trigger("language_picker:message:close")}},{key:"handle_learn_more_click",value:function(){this.track_rats("language_picker:learn_more:click",{current_locale:this.props.current_language.lang}),this.close_menu(),$.get(this.props.language_modal_props_url).done((function(t){Scribd.Lightbox.open_react("language_lightbox",e.createElement(a.a,t))}))}},{key:"render_radio_buttons",value:function(){var t=this;return this.props.languages.map((function(n){var r=t.state.selected_language.lang===n.lang,o=r?"icon-ic_radiobutton_filled":"icon-ic_radiobutton_empty";return e.createElement("li",{role:"none",key:"list-item-".concat(n.lcid)},e.createElement("a",{className:"radio_row flex_row language_radio",onClick:t.handle_select(n),href:n.href,role:"menuitem"},e.createElement("span",{className:classNames("mock_radio radio_label",o,{checked:r})}),e.createElement("div",{className:"label",lang:n.lcid},n.name),r&&e.createElement("span",{className:"visually_hidden"},I18n.t("shared.navigation.language.picker.selected"))))}))}},{key:"render_learn_more",value:function(){return e.createElement("div",{className:"learn_more_section"},e.createElement("a",{href:"#",onClick:this.handle_learn_more_click,className:"learn_more_link"},I18n.t("shared.navigation.language.picker.learn_more")))}},{key:"render_menu",value:function(){return e.createElement("div",{className:"language_picker_dropdown"},e.createElement("ul",{role:"menu",className:"radio_list"},this.render_radio_buttons(),this.render_learn_more()))}},{key:"render_arrow",value:function(){var t=this.props.from_sidebar?"icon-ic_right_caret_1px":"icon-ic_dropdown_alt";return e.createElement("span",{className:classNames("down_arrow",t),"aria-hidden":"true"})}},{key:"render_btn",value:function(){var t=this.props,n=t.current_language,r=t.extra_classes;return e.createElement("a",{className:classNames("text_btn language_btn flex_row",r),href:"#language",onClick:this.handle_picker_click,"aria-haspopup":"true","aria-expanded":this.state.menu_open},e.createElement("span",{className:"icon icon-ic_language","aria-hidden":"true"}),e.createElement("span",{className:"prefix icon_button_text"},n.prefix),this.render_arrow(),this.render_english_label(),e.createElement("span",{className:"visually_hidden",lang:n.prefix},I18n.t("shared.navigation.language.picker.change_language")))}},{key:"render_english_label",value:function(){if("en"!==this.props.current_language.prefix)return e.createElement("span",{className:"visually_hidden",lang:"en"},"Change Language")}},{key:"render_content",value:function(){return e.createElement(o.a,{autoclose:!1,button:this.render_btn(),forcePosition:"left bottom",isOpen:this.state.menu_open,menu:this.render_menu(),onHide:this.close_menu,onShow:this.show_menu,skipAriaAndDataProps:!0})}}])&&s(n.prototype,r),i&&s(n,i),_}(r.a)}).call(this,n(0))},68:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(2),o=n(20),a=n(48);n(137);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(_,t);var n,r,i,l=u(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),(t=l.call(this,e)).state={show:!1},t.enclosing_class("auto__shared_navigation_language_message"),t.cookie_jar=new CookieJar,t}return n=_,(r=[{key:"componentDidMount",value:function(){this.should_show_language_message()&&(this.setState({show:!0}),$(document.body).on("language_picker:message:close",this.handle_close))}},{key:"componentWillUnmount",value:function(){$(document.body).off("language_picker:message:close",this.handle_close)}},{key:"component_classes",value:function(){return classNames("language_message",{logged_out:!this.props.current_user})}},{key:"handle_learn_more_click",value:function(t){var n=this;t.preventDefault(),$.get(this.props.language_modal_props_url).done((function(t){Scribd.Lightbox.open_react("language_lightbox",e.createElement(o.a,t)),n.handle_close()}))}},{key:"handle_close",value:function(){var e=this;this.setState({show:!1},(function(){e.cookie_jar.put("language_picker_message:closed",!0)}))}},{key:"language_picker_not_closed",value:function(){return void 0===this.cookie_jar.get("language_picker_message:closed")}},{key:"should_show_language_message",value:function(){return this.language_picker_not_closed()}},{key:"get_subheader",value:function(){var t=this.props.current_language_name;return e.createElement("div",{className:"flex_col"},e.createElement("div",{className:"message"},I18n.t("shared.navigation.language.message.your_recommendations_have_been_switched_to",{current_language_name:t})," "),e.createElement("a",{className:"learn_more_link",onClick:this.handle_learn_more_click,href:"#learn-more"},I18n.t("shared.navigation.language.message.learn_more")))}},{key:"render_content",value:function(){if(this.state.show)return e.createElement(a.a,{header:I18n.t("shared.navigation.language.message.language_options"),subheader:this.get_subheader(),on_close:this.handle_close})}}])&&s(n.prototype,r),i&&s(n,i),_}(r.a)}).call(this,n(0))},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="SEEN_BUNDLES_COOKIE"},7:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return S}));var r=n(3),o=n.n(r),a=n(0),i=n.n(a),s=n(2),c=n(30);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){m(n,e);var t=b(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).enclosing_class("auto__shared_react_common_button"),r}return h(n,[{key:"render",value:function(){var e=this.get_tag(),t=o()(this.props.className,"flat_btn",this.get_component_classname(),{disabled:this.props.disabled||this.props.loading,loading:this.props.loading});return i.a.createElement(e,p({className:t,title:this.props.title,onClick:this.props.onClick,onKeyPress:this.props.onKeyPress,disabled:this.props.disabled,"aria-disabled":this.props.disabled||this.props.loading?"true":null,role:this.props.role,type:"button"===e?this.props.type:null,target:this.props.target,"data-tooltip":this.props["data-tooltip"]||null,href:this.props.href,id:this.props.id},this.get_data_props(),this.get_aria_props(),{ref:this.props.node_ref}),this.render_content(),this.render_spinner(),this.props.text,this.render_visually_hidden_text())}},{key:"render_visually_hidden_text",value:function(){if(this.props.visually_hidden_text)return i.a.createElement("span",{className:"visually_hidden"},this.props.visually_hidden_text)}},{key:"render_spinner",value:function(){if(!this.props.className||!this.props.className.match(/text_btn/))return i.a.createElement("div",{key:"spinner","aria-hidden":"true",className:"scribd_spinner","data-size":30})}},{key:"render_content",value:function(){var e=i.a.Children.toArray(this.props.children)||[];return this.props.is_facebook_button||/\bfacebook\b/.test(this.props.className)?e.unshift(this.render_facebook_icon()):(this.props.is_google_button||/\bgoogle\b/.test(this.props.className))&&e.unshift(this.render_google_icon()),e}},{key:"render_facebook_icon",value:function(){return i.a.createElement("span",{key:"facebook_icon","aria-hidden":"true",className:"icon icon-ic_facebook"})}},{key:"render_google_icon",value:function(){return i.a.createElement("span",{key:"google_icon","aria-hidden":"true",className:"icon icon-google"})}},{key:"get_tag",value:function(){var e="button";return void 0===this.props.href&&void 0===this.props.target||(e="a",void 0!==this.props.disabled&&console.error("You can't disable anchors")),e}},{key:"get_data_props",value:function(){var e=this,t={};return this.props.data_props&&Object.keys(this.props.data_props).forEach((function(n){var r=e.props.data_props[n];t["data-".concat(n)]=r})),t}},{key:"get_aria_props",value:function(){var e=this,t={};return this.props.aria_props&&Object.keys(this.props.aria_props).forEach((function(n){var r=e.props.aria_props[n];t["aria-".concat(n)]=r})),t}}]),n}(s.a);function E(e){var t=Object.assign({},e);return t.className=o()(e.className,"text_btn"),i.a.createElement(w,t)}k(w,"defaultProps",{type:"button",is_facebook_button:!1,is_google_button:!1,data_props:{},aria_props:{},loading:!1});var S=function(e){m(n,e);var t=b(n);function n(){return f(this,n),t.apply(this,arguments)}return h(n,[{key:"get_button_props",value:function(){return _(_({},this.props),{},{className:o()(this.props.className,"text_btn icon_btn")})}},{key:"render_content",value:function(){return i.a.createElement(w,this.get_button_props(),i.a.createElement(c.a,{icon:this.props.icon,hiddenText:this.props.hidden_label}))}}]),n}(s.a)},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n.n(r),a=n(3),i=n.n(a);n(134);function s(e){var t=e.opened;return o.a.createElement("span",{className:i()("auto__shared_navigation_global_nav_hamburger",{opened:t}),"aria-hidden":!0},o.a.createElement("span",{className:"top line"}),o.a.createElement("span",{className:"middle line"}),o.a.createElement("span",{className:"bottom line"}))}s.defaultProps={opened:!1}},71:function(e,t,n){(function(e,t){var r,o,a;o=n(104).default,r=n(96).default,(a=window.Scribd).Flasher=function(){function n(){}return n.prototype.toast_node=null,n.prototype.mount_node=function(e){return $("<div />",{role:"alert"}).appendTo(e)[0]},n.prototype.bind_lightbox_close=e.once((function(){return $(document.body).on("Scribd:lightbox:closed Scribd:stacked_lightbox:closed",(function(){if(!a.Lightbox.current_open)return $(n.lightbox_container()).find(".flash").each((function(){return ReactDOM.unmountComponentAtNode(this.parentElement)}))}))})),n.global_container=function(){return $("#flash_container")[0]},n.lightbox_container=function(){return $("#lightbox_flash_container")[0]},n.toast=function(e,n,r){var a,i,s,c,u,l,_,p;return null==r&&(r={}),a=null!=r.dismiss_speed?r.dismiss_speed:(c=60*(r.raw?$("<div />",{html:n}).text().length:n.length),c=Math.max(c,4e3),Math.min(c,11e3)),i=t.createElement(o,{content:n,type:e,raw:null!=(u=r.raw)&&u,dismiss_speed:a,animation_speed:null!=(l=r.animation_speed)?l:500,class_name:null!=(_=r.class_name)?_:""}),s=null!=(p=this.toast_node)?p:this.prototype.mount_node(this.global_container()),ReactDOM.unmountComponentAtNode(s),ReactDOM.render(i,s)},n.build_standard=function(e,n,o){var a,i,s,c,u,l;return null==o&&(o={}),t.createElement(r,{content:n,render_content:o.render_content,type:e,raw:null!=(a=o.raw)&&a,user_dismiss:null==(i=o.user_dismiss)||i,animation_speed:null!=(s=o.animation_speed)?s:250,class_name:null!=(c=o.class_name)?c:"",should_focus:null!=(u=o.should_focus)&&u,full_border:null!=(l=o.full_border)&&l,handle_close:o.handle_close})},n.standard=function(e,t,n){var r,o,i;return null==n&&(n={}),r=a.StackedLightbox.instances[0]||a.Lightbox.current_open?this.lightbox_container():this.global_container(),n.container&&(r=n.container),o=this.build_standard(e,t,n),(i=this.prototype.mount_node(r)).getBoundingClientRect().top>$(window).height()||$(r).hasClass("fixed")?ReactDOM.render(o,i):(r=a.Lightbox.current_open?$("#lightbox_area"):document.body,$(r).animate({scrollTop:0},"slow",(function(){return ReactDOM.render(o,i)}))),this.prototype.bind_lightbox_close()},n}()}).call(this,n(10),n(0))},728:function(e,t,n){},729:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=500,o="threeds2_identification",a="threeds2_challenge",i=[o,a]},730:function(e,t,n){},731:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(0);n(1040);function o(t){var n=t.heading,o=t.subHeading;return e.createElement(r.Fragment,null,e.createElement("div",{className:"info_heading"},n),e.createElement("div",null,o))}}).call(this,n(0))},732:function(e,t,n){"use strict";(function(e){function r(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e,i=a.EBANX,s=o?"test":"production";i.config.setPublishableKey(t),i.config.setCountry(n.toLowerCase()),i.config.setMode(s),i.deviceFingerprint.setup(r)}n.d(t,"a",(function(){return r}))}).call(this,n(339))},733:function(e,t,n){},734:function(e,t,n){},735:function(e,t,n){},776:function(e,t,n){"use strict";var r=n(11),o=n.n(r)()({loader:function(){return n.e(101).then(n.bind(null,1534))},loading:function(){return null}});t.a=o},777:function(e,t,n){"use strict";var r=n(731);n.d(t,"a",(function(){return r.a}))},778:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r,o=n(26),a=n(1),i=n(0),s=n.n(i),c=n(39),u=n(884),l=n.n(u),_=n(885),p=n.n(_),f=n(886),d=n.n(f),h=n(679),m=n.n(h),y=n(887),b=n.n(y),g=n(888),v=n.n(g),k=n(889),w=n.n(k),E=n(890),S=n.n(E),O=n(891),x=n.n(O),j=n(892),P=n.n(j),N=n(893),R=n.n(N),C=n(894),D=n.n(C),I=n(895),T=n.n(I),A=n(896),M=n.n(A),B=n(897),F=n.n(B),L=n(898),U=n.n(L),q=n(899),$=n.n(q);function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={FRONT:l.a,BACK:p.a,BOTH:d.a},V={amex:b.a,aura:v.a,cabal:w.a,carnet:S.a,credimas:x.a,diners:P.a,discover:R.a,elo:D.a,hipercard:T.a,magna:M.a,mastercard:F.a,naranja:U.a,visa:$.a},W={get FOUR(){return a.default.t("payments.checkout_flow.credit_card_form.security_code_is_the_4-digit_number_")},get THREE(){return a.default.t("payments.checkout_flow.credit_card_form.security_code_is_the_3-digit_number")},get THREE_OR_FOUR(){return a.default.t("payments.checkout_flow.credit_card_form.security_code_is_the_4-digit_number")}},G=(z(r={},c.e.AMEX,{cvvImage:H.FRONT,cvvText:W.FOUR}),z(r,"DEFAULT",{cardImage:m.a,cvvImage:H.BACK,cvvText:W.THREE}),z(r,"NONE",{cardImage:m.a,cvvImage:H.BOTH,cvvText:W.THREE_OR_FOUR}),r);function Y(e,t){return s.a.createElement("img",{className:"card_tooltip",role:"img",src:Object(o.a)(e||""),alt:t})}function J(e,t){var n,r;return e&&t.includes(e)?(n=G[e]?G[e]:G.DEFAULT,(n=Object.assign({},n)).cardImage=V[e]):n=G.NONE,{cardIcon:(r=n.cardImage,s.a.createElement("img",{alt:"",role:"presentation",className:"card_icon",src:Object(o.a)(r||"")})),cvvIcon:Y(n.cvvImage,n.cvvText)}}},88:function(e,t,n){},91:function(e,t,n){(function(e){var t,r;n(144),r=function(e,t){var n,r,o,a,i,s;return null==t&&(t={}),t=$.extend({tooltip_container:"tooltip_container",template:Scribd.Tooltips.Default.template,position:Scribd.Tooltips.Default.position,sticky:!1},t),(a=$("<div class='"+t.tooltip_container+"'></div>").appendTo(e)).data("hover_count",0),n=function(e){return t.sticky?setTimeout((function(){if(0===a.data("hover_count"))return e()}),200):e()},r=function(){return a.empty()},s=Scribd.kill_tooltips,Scribd.kill_tooltips=function(){return"function"==typeof s&&s(),r()},o=function(e){var n,r,o,i,s,c,u;if(!e.is(".disabled")){if(s=e.data("tooltip_elm"),i=e.attr("data-label")||e.attr("aria-label")||e.attr("data-tooltip"),!s||i!==e.data("tooltip_elm_content")){if("{"===i[0]&&(i=JSON.parse(i)),$.isPlainObject(i))for(n in i=(u=i).default,u)if(c=u[n],e.is("."+n)){i=c;break}o=(null!=(r=Scribd.Tooltips[e.data("tooltip_template")])?r.template:void 0)||t.template,s=$(o({content:i})),e.data("tooltip_elm",s),e.data("tooltip_elm_content",i)}return s.appendTo(a),t.position(e,s),s.addClass("opaque")}},i=Scribd.is_mobile?"focusin focusout":"mouseenter mouseleave focusin focusout",t.sticky&&a.on(i,(function(e){var t;return t="mouseleave"===e.type||"focusout"===e.type?-1:1,"mouseleave"!==e.type&&"focusout"!==e.type||n(r),a.data("hover_count",a.data("hover_count")+t)})),e.on(i,"[data-tooltip]",(function(e){var t,r;return r=$(e.currentTarget),t="mouseleave"===e.type||"focusout"===e.type?-1:1,"mouseleave"===e.type||"focusout"===e.type?n((function(){var e;return null!=(e=r.data("tooltip_elm"))?e.removeClass("opaque").remove():void 0})):o(r),a.data("hover_count",a.data("hover_count")+t)})),e.on("scribd:update_tooltip","[data-tooltip]",(function(e,t){var n,r,a;if(n=$(e.currentTarget),t&&n.data("tooltip",t),a=!1,(r=n.data("tooltip_elm"))&&(a=0!==r.closest("body").length,r.removeClass("opaque").remove()),n.removeData("tooltip_elm"),a)return o(n)}))},(t=n(38).default)("Tooltips",{Fancy:{template:e.template('<div class="fancy_tip">\n  <div class="tip_arrow sprite popup_arrow"></div>\n  <div class="tip_inner" role="tooltip">\n    {{& content }}\n  </div>\n</div>'),position:function(e,t){var n;return n=e.offset(),t.css({left:Math.floor(n.left-t.outerWidth()/2+e.outerWidth()/2),top:Math.floor(n.top+12+e.outerHeight())})}},Default:{template:e.template('<div class="new_tip">\n  <div class="tip_inner" role="tooltip">{{ content }}</div>\n</div>'),position:function(e,t){var n,r,o,a,i,s,c;return r=e.offset(),n=t.outerHeight(),a=t.outerWidth(),i=e.outerWidth(),s=r.left-(a-i)/2,(c=r.top-n-4)<0&&(c=r.top+e.outerHeight()+4),s=Math.max(2,s),s=Math.min($(window).width()-2-a,s),o=t.parent().offsetParent().offset(),t.css({left:s-o.left,top:c-o.top})}},Under:{position:function(e,t){var n,r,o,a;return r=e.offset(),n=t.height(),o=t.width(),a=e.width(),t.css({width:500,left:r.left+Math.floor((a-o)/2),top:n+4})}},Under2:{position:function(e,t){var n,r,o,a,i,s;return n=e.offset(),t.outerHeight(),o=t.outerWidth(),a=e.outerWidth(),i=n.left-(o-a)/2,s=n.top+20,r=t.parent().offsetParent().offset(),t.css({left:i-r.left,top:s-r.top})}},Unescaped:{template:e.template('<div class="new_tip">\n  <div class="tip_inner" role="tooltip">\n    {{& content }}\n  </div>\n</div>')}}),t("hook_tooltips",r)}).call(this,n(10))},925:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return b}));var r=n(455),o=n(96),a=n(160),i=n(87),s=n(9),c=n(404);n(1050);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(b,t);var n,u,d,m=f(b);function b(){var e;l(this,b);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=m.call.apply(m,[this].concat(n))),"track_with_metadata",(function(t){var n=e.props,r=n.product_handle,o=n.cart_context;Object(s.a)(t,{product_handle:r,cart_context:o})})),y(h(e),"handle_nyt_click",(function(){Object(s.a)("checkout:nyt_bundle_redeem:click"),e.track_with_metadata("nyt_activation:activate:click")})),y(h(e),"handle_continue_click",(function(){e.track_with_metadata("nyt_activation:ignore:click")})),e}return n=b,(u=[{key:"componentDidMount",value:function(){this.track_with_metadata("nyt_activation:modal:view"),Object(c.a)(["nyt_welcome"])}},{key:"render_flash",value:function(){var t=this.props.eligible_for_free_trial?I18n.t("payments.checkout_flow.nyt_welcome.you_have_upgraded_to_scribd_the_new_york_times_",{free_trial_days:this.props.free_trial_days,price:this.props.price}):I18n.t("payments.checkout_flow.nyt_welcome.you_have_upgraded_to_scribd_the_new_york_times_plan");return e.createElement(o.default,{type:"success",user_dismiss:!1,animation_speed:0,content:t})}},{key:"render_logos",value:function(){var t=this.props,n=t.scribd_logo_img_white,r=t.nyt_logo_img_white;return e.createElement("div",{className:"logos"},e.createElement("img",{src:n,className:"scribd_logo",alt:I18n.t("payments.checkout_flow.nyt_welcome.scribd"),role:"img"}),e.createElement("img",{src:r,className:"nyt_logo",alt:I18n.t("payments.checkout_flow.nyt_welcome.the_new_york_times"),role:"img"}))}},{key:"render_top_banner_section",value:function(){return e.createElement("div",{className:"banner_img"},this.render_logos())}},{key:"render_activation_instructions",value:function(){return e.createElement("p",null,e.createElement("span",{dangerouslySetInnerHTML:{__html:I18n.t("payments.checkout_flow.nyt_welcome.activate_your_new_york_times_subscription_",{user_email:this.props.user_email})}}))}},{key:"render_activate_your_times_subscription_title",value:function(){return e.createElement("h1",{className:"activate_your_times_subscription_title"},I18n.t("payments.checkout_flow.nyt_welcome.activate_your_times_subscription"))}},{key:"render_footer_image",value:function(){return e.createElement("div",{className:"footer_img_container"},e.createElement("img",{className:"footer_img",src:this.props.footer_img,alt:""}))}},{key:"render_cta_section",value:function(){return e.createElement("div",{className:"cta_container"},e.createElement(a.a,{className:"activate_subscription_btn",href:this.props.nyt_redeem_url,onClick:this.handle_nyt_click,target:"_blank"},I18n.t("payments.checkout_flow.nyt_welcome.activate_your_times_subscription")),e.createElement(i.a,{className:"continue_to_scribd",href:this.props.redirect_url,onClick:this.handle_continue_click},I18n.t("payments.checkout_flow.nyt_welcome.continue_to_scribd")))}},{key:"render",value:function(){return e.createElement("div",{className:"auto__payments_checkout_flow_nyt_welcome"},this.render_flash(),this.render_activate_your_times_subscription_title(),e.createElement("h2",{className:"visually_hidden"},"Welcome to Scribd!"),e.createElement(r.a,{extra_classes:"wrapper_card"},this.render_top_banner_section(),e.createElement("div",{className:"body_copy"},this.render_activation_instructions()),this.render_cta_section(),this.render_footer_image()))}}])&&_(n.prototype,u),d&&_(n,d),b}(e.Component)}.call(this,n(0))},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2),o=n(3),a=n.n(o),i=n(0),s=n.n(i);n(195);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,h,m,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=_(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).enclosing_class("auto__shared_react_forms_input_group"),t}return t=i,(n=[{key:"render_content",value:function(){var e=this.props,t=e.children,n=e.legend,r=e.horizontal;return s.a.createElement("fieldset",{className:a()("input_group",{horizontal:r})},n?s.a.createElement("legend",null,n):null,s.a.Children.map(t,(function(e,t){return s.a.cloneElement(e,{key:t})})))}}])&&u(t.prototype,n),r&&u(t,r),i}(r.a);m={options:[],legend:"",horizontal:!1},(h="defaultProps")in(d=y)?Object.defineProperty(d,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[h]=m},96:function(e,t,n){"use strict";n.r(t);var r=n(11),o=n.n(r);t.default=o()({loader:function(){return n.e(105).then(n.bind(null,192))},loading:function(){return null}})}});
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/payments.ae09162155b6a6aaa750.js.map
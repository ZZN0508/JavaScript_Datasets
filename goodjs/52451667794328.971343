this.createjs=this.createjs||{},function(){"use strict";var e=createjs.PreloadJS=createjs.PreloadJS||{};e.version="0.6.1",e.buildDate="Thu, 21 May 2015 16:17:37 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(e,t){"use strict";function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s},this.createjs=this.createjs||{},createjs.promote=function(e,t){"use strict";var s=e.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(s)||s.__proto__;if(r)for(var a in s[(t+="_")+"constructor"]=r.constructor,r)s.hasOwnProperty(a)&&"function"==typeof r[a]&&(s[t+a]=r[a]);return e},this.createjs=this.createjs||{},createjs.indexOf=function(e,t){"use strict";for(var s=0,r=e.length;s<r;s++)if(t===e[s])return s;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var s=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(s))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"BrowserDetect cannot be instantiated"}var t=e.agent=window.navigator.userAgent;e.isWindowPhone=-1<t.indexOf("IEMobile")||-1<t.indexOf("Windows Phone"),e.isFirefox=-1<t.indexOf("Firefox"),e.isOpera=null!=window.opera,e.isChrome=-1<t.indexOf("Chrome"),e.isIOS=(-1<t.indexOf("iPod")||-1<t.indexOf("iPhone")||-1<t.indexOf("iPad"))&&!e.isWindowPhone,e.isAndroid=-1<t.indexOf("Android")&&!e.isWindowPhone,e.isBlackberry=-1<t.indexOf("Blackberry"),createjs.BrowserDetect=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.type=e,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!t,this.cancelable=!!s,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var t=e.prototype;t.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.Event_constructor("error"),this.title=e,this.message=t,this.data=s}createjs.extend(e,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(e,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this._listeners=null,this._captureListeners=null}var t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent,e.willTrigger=t.willTrigger},t.addEventListener=function(e,t,s){var r=s?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},a=r[e];return a&&this.removeEventListener(e,t,s),(a=r[e])?a.push(t):r[e]=[t],t},t.on=function(e,t,s,r,a,i){return t.handleEvent&&(s=s||t,t=t.handleEvent),s=s||this,this.addEventListener(e,function(e){t.call(s,e,a),r&&e.remove()},i)},t.removeEventListener=function(e,t,s){var r=s?this._captureListeners:this._listeners;if(r){var a=r[e];if(a)for(var i=0,n=a.length;i<n;i++)if(a[i]==t){1==n?delete r[e]:a.splice(i,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e){if("string"==typeof e){var t=this._listeners;if(!t||!t[e])return!1;e=new createjs.Event(e)}else e.target&&e.clone&&(e=e.clone());try{e.target=this}catch(e){}if(e.bubbles&&this.parent){for(var s=this,r=[s];s.parent;)r.push(s=s.parent);for(var a=r.length,i=a-1;0<=i&&!e.propagationStopped;i--)r[i]._dispatchEvent(e,1+(0==i));for(i=1;i<a&&!e.propagationStopped;i++)r[i]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,s=this._captureListeners;return!!(t&&t[e]||s&&s[e])},t.willTrigger=function(e){for(var t=this;t;){if(t.hasEventListener(e))return!0;t=t.parent}return!1},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var s,r=1==t?this._captureListeners:this._listeners;if(e&&r&&((a=r[e.type])&&(s=a.length))){try{e.currentTarget=this}catch(e){}try{e.eventPhase=t}catch(e){}e.removed=!1;for(var a=a.slice(),i=0;i<s&&!e.immediatePropagationStopped;i++){var n=a[i];n.handleEvent?n.handleEvent(e):n(e),e.removed&&(this.off(e.type,n,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.Event_constructor("progress"),this.loaded=e,this.total=null==t?1:t,this.progress=0==t?0:this.loaded/this.total}createjs.extend(e,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),function(){function X(e,o){function c(e){if(c[e]!==T)return c[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=c("json-stringify")&&c("json-parse");else{var s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var r=o.stringify,a="function"==typeof r&&H;if(a){(i=function(){return 1}).toJSON=i;try{a="0"===r(0)&&"0"===r(new l)&&'""'==r(new h)&&r(N)===T&&r(T)===T&&r()===T&&"1"===r(i)&&"[1]"==r([i])&&"[null]"==r([T])&&"null"==r(null)&&"[null,null,null]"==r([T,N,null])&&r({a:[i,!0,!1,null,"\0\b\n\f\r "]})==s&&"1"===r(null,i)&&"[\n 1,\n 2\n]"==r([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==r(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new u(-1))}catch(e){a=!1}}t=a}if("json-parse"==e){a=o.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){var i,n=5==(i=a(s)).a.length&&1===i.a[0];if(n){try{n=!a('" "')}catch(e){}if(n)try{n=1!==a("01")}catch(e){}if(n)try{n=1!==a("1.")}catch(e){}}}}catch(e){n=!1}t=n}}return c[e]=!!t}e=e||D.Object(),o=o||D.Object();var l=e.Number||D.Number,h=e.String||D.String,t=e.Object||D.Object,u=e.Date||D.Date,s=e.SyntaxError||D.SyntaxError,E=e.TypeError||D.TypeError,r=e.Math||D.Math,e=e.JSON||D.JSON;"object"==typeof e&&e&&(o.stringify=e.stringify,o.parse=e.parse);var b,y,T,d,S,A,R,_,I,a,w,f,i,P,p,O,x,g,m,v,L,j,n,C,M,q,t=t.prototype,N=t.toString,H=new u(-0xc782b5b800cec);try{H=-109252==H.getUTCFullYear()&&0===H.getUTCMonth()&&1===H.getUTCDate()&&10==H.getUTCHours()&&37==H.getUTCMinutes()&&6==H.getUTCSeconds()&&708==H.getUTCMilliseconds()}catch(e){}return c("json")||(d="[object Function]",S="[object Number]",A="[object String]",R="[object Array]",_=c("bug-string-char-index"),H||(I=r.floor,a=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(e,t){return a[t]+365*(e-1970)+I((e-1969+(t=+(1<t)))/4)-I((e-1901+t)/100)+I((e-1601+t)/400)}),(b=t.hasOwnProperty)||(b=function(e){var s,t={__proto__:null};return t.__proto__={toString:1},b=t.toString!=N?function(e){var t=this.__proto__,e=e in(this.__proto__=null,this);return this.__proto__=t,e}:(s=t.constructor,function(e){var t=(this.constructor||s).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,b.call(this,e)}),y=function(e,t){var s,n,r,a=0;for(r in(s=function(){this.valueOf=0}).prototype.valueOf=0,n=new s)b.call(n,r)&&a++;return n=null,(y=a?2==a?function(e,t){var s,r={},a=N.call(e)==d;for(s in e)a&&"prototype"==s||b.call(r,s)||!(r[s]=1)||!b.call(e,s)||t(s)}:function(e,t){var s,r,a=N.call(e)==d;for(s in e)a&&"prototype"==s||!b.call(e,s)||(r="constructor"===s)||t(s);(r||b.call(e,s="constructor"))&&t(s)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(e,t){var s,r,a=N.call(e)==d,i=!a&&"function"!=typeof e.constructor&&U[typeof e.hasOwnProperty]&&e.hasOwnProperty||b;for(s in e)a&&"prototype"==s||!i.call(e,s)||t(s);for(r=n.length;s=n[--r];i.call(e,s)&&t(s));}))(e,t)},c("json-stringify")||(f={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},i="000000",P=function(e,t){return(i+(t||0)).slice(-e)},p="\\u00",O=function(e){for(var t='"',s=0,r=e.length,a=!_||10<r,i=a&&(_?e.split(""):e);s<r;s++){var n=e.charCodeAt(s);switch(n){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=f[n];break;default:if(n<32){t+=p+P(2,n.toString(16));break}t+=a?i[s]:e.charAt(s)}}return t+'"'},x=function(e,t,s,r,a,i,n){var o,c,l,h,u,d,_,f,p,g,m,v,L,j;try{o=t[e]}catch(e){}if("object"==typeof o&&o)if("[object Date]"!=(c=N.call(o))||b.call(o,"toJSON"))"function"==typeof o.toJSON&&(c!=S&&c!=A&&c!=R||b.call(o,"toJSON"))&&(o=o.toJSON(e));else if(-1/0<o&&o<1/0){if(w){for(u=I(o/864e5),l=I(u/365.2425)+1970-1;w(l+1,0)<=u;l++);for(h=I((u-w(l,0))/30.42);w(l,h+1)<=u;h++);u=1+u-w(l,h),d=I((p=(o%864e5+864e5)%864e5)/36e5)%24,_=I(p/6e4)%60,f=I(p/1e3)%60,p=p%1e3}else l=o.getUTCFullYear(),h=o.getUTCMonth(),u=o.getUTCDate(),d=o.getUTCHours(),_=o.getUTCMinutes(),f=o.getUTCSeconds(),p=o.getUTCMilliseconds();o=(l<=0||1e4<=l?(l<0?"-":"+")+P(6,l<0?-l:l):P(4,l))+"-"+P(2,h+1)+"-"+P(2,u)+"T"+P(2,d)+":"+P(2,_)+":"+P(2,f)+"."+P(3,p)+"Z"}else o=null;if(null===(o=s?s.call(t,e,o):o))return"null";if("[object Boolean]"==(c=N.call(o)))return""+o;if(c==S)return-1/0<o&&o<1/0?""+o:"null";if(c==A)return O(""+o);if("object"==typeof o){for(L=n.length;L--;)if(n[L]===o)throw E();if(n.push(o),g=[],e=i,i+=a,c==R){for(v=0,L=o.length;v<L;v++)m=x(v,o,s,r,a,i,n),g.push(m===T?"null":m);j=g.length?a?"[\n"+i+g.join(",\n"+i)+"\n"+e+"]":"["+g.join(",")+"]":"[]"}else y(r||o,function(e){var t=x(e,o,s,r,a,i,n);t!==T&&g.push(O(e)+":"+(a?" ":"")+t)}),j=g.length?a?"{\n"+i+g.join(",\n"+i)+"\n"+e+"}":"{"+g.join(",")+"}":"{}";return n.pop(),j}},o.stringify=function(e,t,s){var r,a,i;if(U[typeof t]&&t)if((i=N.call(t))==d)a=t;else if(i==R)for(var n,o={},c=0,l=t.length;c<l;n=t[c++],(i=N.call(n))!=A&&i!=S||(o[n]=1));if(s)if((i=N.call(s))==S){if(0<(s-=s%1))for(r="",10<s&&(s=10);r.length<s;r+=" ");}else i==A&&(r=s.length<=10?s:s.slice(0,10));return x("",((n={})[""]=e,n),a,o,r,"",[])}),c("json-parse")||(v=h.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:" ",110:"\n",102:"\f",114:"\r"},j=function(){throw g=m=null,s()},n=function(){for(var e,t,s,r,a,i=m,n=i.length;g<n;)switch(a=i.charCodeAt(g)){case 9:case 10:case 13:case 32:g++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=_?i.charAt(g):i[g],g++,e;case 34:for(e="@",g++;g<n;)if((a=i.charCodeAt(g))<32)j();else if(92==a)switch(a=i.charCodeAt(++g)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[a],g++;break;case 117:for(t=++g,s=g+4;g<s;g++)48<=(a=i.charCodeAt(g))&&a<=57||97<=a&&a<=102||65<=a&&a<=70||j();e+=v("0x"+i.slice(t,g));break;default:j()}else{if(34==a)break;for(a=i.charCodeAt(g),t=g;32<=a&&92!=a&&34!=a;)a=i.charCodeAt(++g);e+=i.slice(t,g)}if(34==i.charCodeAt(g))return g++,e;j();default:if(t=g,45==a&&(r=!0,a=i.charCodeAt(++g)),48<=a&&a<=57){for(48==a&&(48<=(a=i.charCodeAt(g+1))&&a<=57)&&j(),r=!1;g<n&&(48<=(a=i.charCodeAt(g))&&a<=57);g++);if(46==i.charCodeAt(g)){for(s=++g;s<n&&(48<=(a=i.charCodeAt(s))&&a<=57);s++);s==g&&j(),g=s}if(101==(a=i.charCodeAt(g))||69==a){for(43!=(a=i.charCodeAt(++g))&&45!=a||g++,s=g;s<n&&(48<=(a=i.charCodeAt(s))&&a<=57);s++);s==g&&j(),g=s}return+i.slice(t,g)}if(r&&j(),"true"==i.slice(g,g+4))return g+=4,!0;if("false"==i.slice(g,g+5))return g+=5,!1;if("null"==i.slice(g,g+4))return g+=4,null;j()}return"$"},C=function(e){var t,s;if("$"==e&&j(),"string"==typeof e){if("@"==(_?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=n());s=s||!0)s&&(","==e?"]"==(e=n())&&j():j()),","==e&&j(),t.push(C(e));return t}if("{"==e){for(t={};"}"!=(e=n());s=s||!0)s&&(","==e?"}"==(e=n())&&j():j()),","!=e&&"string"==typeof e&&"@"==(_?e.charAt(0):e[0])&&":"==n()||j(),t[e.slice(1)]=C(n());return t}j()}return e},M=function(e,t,s){s=q(e,t,s);s===T?delete e[t]:e[t]=s},q=function(e,t,s){var r,a=e[t];if("object"==typeof a&&a)if(N.call(a)==R)for(r=a.length;r--;)M(a,r,s);else y(a,function(e){M(a,e,s)});return s.call(e,t,a)},o.parse=function(e,t){var s;return g=0,m=""+e,s=C(n()),"$"!=n()&&j(),g=m=null,t&&N.call(t)==d?q(((e={})[""]=s,e),"",t):s})),o.runInContext=X,o}var e,t,s,r,a="function"==typeof define&&define.amd,U={function:!0,object:!0},i=U[typeof exports]&&exports&&!exports.nodeType&&exports,D=U[typeof window]&&window||this,n=i&&U[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;!n||n.global!==n&&n.window!==n&&n.self!==n||(D=n),i&&!a?X(D,i):(e=D.JSON,t=D.JSON3,s=!1,r=X(D,D.JSON3={noConflict:function(){return s||(s=!0,D.JSON=e,D.JSON3=t,e=t=null),r}}),D.JSON={parse:r.parse,stringify:r.stringify}),a&&define(function(){return r})}.call(this),function(){var t={appendToHead:function(e){t.getHead().appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]}};createjs.DomUtils=t}(),function(){var e={parseXML:function(e,t){var s=null;try{window.DOMParser&&(s=(new DOMParser).parseFromString(e,t))}catch(e){}if(!s)try{(s=new ActiveXObject("Microsoft.XMLDOM")).async=!1,s.loadXML(e)}catch(e){s=null}return s},parseJSON:function(e){if(null==e)return null;try{return JSON.parse(e)}catch(e){throw e}}};createjs.DataUtils=e}(),this.createjs=this.createjs||{},function(){"use strict";function s(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=r.LOAD_TIMEOUT_DEFAULT}var e=s.prototype={},r=s;r.LOAD_TIMEOUT_DEFAULT=8e3,r.create=function(e){if("string"==typeof e){var t=new s;return t.src=e,t}if(e instanceof r)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=r.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(e){for(var t in e)this[t]=e[t];return this},createjs.LoadItem=r}(),function(){var r={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var t={absolute:!1,relative:!1};if(null==e)return t;var s=e.indexOf("?");return-1<s&&(e=e.substr(0,s)),r.ABSOLUTE_PATT.test(e)?t.absolute=!0:r.RELATIVE_PATT.test(e)&&(t.relative=!0),(e=e.match(r.EXTENSION_PATT))&&(t.extension=e[1].toLowerCase()),t},formatQueryString:function(e,t){if(null==e)throw new Error("You must specify data.");var s,r=[];for(s in e)r.push(s+"="+escape(e[s]));return(r=t?r.concat(t):r).join("&")},buildPath:function(e,t){if(null==t)return e;var s,r=[],a=e.indexOf("?");return-1!=a&&(s=e.slice(a+1),r=r.concat(s.split("&"))),-1!=a?e.slice(0,a)+"?"+this._formatQueryString(t,r):e+"?"+this._formatQueryString(t,r)},isCrossDomain:function(e){var t=document.createElement("a");t.href=e.src;e=document.createElement("a");return e.href=location.href,""!=t.hostname&&(t.port!=e.port||t.protocol!=e.protocol||t.hostname!=e.hostname)},isLocal:function(e){var t=document.createElement("a");return t.href=e.src,""==t.hostname&&"file:"==t.protocol},isBinary:function(e){switch(e){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},isImageTag:function(e){return e instanceof HTMLImageElement},isAudioTag:function(e){return!!window.HTMLAudioElement&&e instanceof HTMLAudioElement},isVideoTag:function(e){return!!window.HTMLVideoElement&&e instanceof HTMLVideoElement},isText:function(e){switch(e){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(e){if(null==e)return createjs.AbstractLoader.TEXT;switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}}};createjs.RequestUtils=r}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=s,this.resultFormatter=null,this._item=e?createjs.LoadItem.create(e):null,this._preferXHR=t,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var t=createjs.extend(e,createjs.EventDispatcher),s=e;s.POST="POST",s.GET="GET",s.BINARY="binary",s.CSS="css",s.IMAGE="image",s.JAVASCRIPT="javascript",s.JSON="json",s.JSONP="jsonp",s.MANIFEST="manifest",s.SOUND="sound",s.VIDEO="video",s.SPRITESHEET="spritesheet",s.SVG="svg",s.TEXT="text",s.XML="xml",t.getItem=function(){return this._item},t.getResult=function(e){return e?this._rawResult:this._result},t.getTag=function(){return this._tag},t.setTag=function(e){this._tag=e},t.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var e=new createjs.Event("initialize");e.loader=this._request,this.dispatchEvent(e),this._request.load()},t.cancel=function(){this.canceled=!0,this.destroy()},t.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},t.getLoadedItems=function(){return this._loadedItems},t._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._createTag=function(){return null},t._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},t._sendProgress=function(e){var t;this._isCanceled()||(t=null,"number"==typeof e?(this.progress=e,t=new createjs.ProgressEvent(this.progress)):(this.progress=(t=e).loaded/e.total,t.progress=this.progress,!isNaN(this.progress)&&1/0!=this.progress||(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(t))},t._sendComplete=function(){var e;this._isCanceled()||(this.loaded=!0,(e=new createjs.Event("complete")).rawResult=this._rawResult,null!=this._result&&(e.result=this._result),this.dispatchEvent(e))},t._sendError=function(e){!this._isCanceled()&&this.hasEventListener("error")&&(null==e&&(e=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(e))},t._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},t.resultFormatter=null,t.handleEvent=function(e){switch(e.type){case"complete":this._rawResult=e.target._response;var t=this.resultFormatter&&this.resultFormatter(this),s=this;t instanceof Function?t(function(e){s._result=e,s._sendComplete()}):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(e);break;case"error":this._sendError(e);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(e.type)}},t.buildPath=function(e,t){return createjs.RequestUtils.buildPath(e,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractLoader_constructor(e,t,s),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src"}var t=createjs.extend(e,createjs.AbstractLoader);t.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},t._createTag=function(){},t._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},t._formatResult=function(e){return this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR&&(e.getTag().src=e.getResult(!0)),e.getTag()},createjs.AbstractMediaLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this._item=e}var t=createjs.extend(e,createjs.EventDispatcher);t.load=function(){},t.destroy=function(){},t.cancel=function(){},createjs.AbstractRequest=createjs.promote(e,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=s,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var t=createjs.extend(e,createjs.AbstractRequest);t.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var e=new createjs.Event("initialize");e.loader=this._tag,this.dispatchEvent(e),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},t.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleError=function(){this._clean(),this.dispatchEvent("error")},t._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},t._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},t._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},t._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},t._showTag=function(){this._tag.style.visibility=this._startTagVisibility},t._handleStalled=function(){},createjs.TagRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractRequest_constructor(e),this._tag=t,this._tagSrcAttribute=s,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var t=createjs.extend(e,createjs.TagRequest);t.load=function(){var e=createjs.proxy(this._handleStalled,this);this._stalledCallback=e;var t=createjs.proxy(this._handleProgress,this);this._handleProgress=t,this._tag.addEventListener("stalled",e),this._tag.addEventListener("progress",t),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this._tag;"loaded"!=e.readyState&&"complete"!=e.readyState||this._handleTagComplete()},t._handleStalled=function(){},t._handleProgress=function(e){!e||0<e.loaded&&0==e.total||(e=new createjs.ProgressEvent(e.loaded,e.total),this.dispatchEvent(e))},t._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(e,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractRequest_constructor(e),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(e)}var t=createjs.extend(e,createjs.AbstractRequest);e.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(e){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,e))}}else this._handleError()},t.setResponseType=function(e){"blob"===e&&(e=window.URL?"blob":"arraybuffer",this._responseType=e),this._request.responseType=e},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){!e||0<e.loaded&&0==e.total||(e=new createjs.ProgressEvent(e.loaded,e.total),this.dispatchEvent(e))},t._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},t._handleAbort=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,e))},t._handleError=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(e.message))},t._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)this._handleError(t);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder&&((t=new BlobBuilder).append(this._response),this._response=t.getBlob())}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}}},t._handleTimeout=function(e){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,e))},t._checkError=function(){var e=parseInt(this._request.status);switch(e){case 404:case 0:return new Error(e)}return null},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},t._createXHR=function(e){var t=createjs.RequestUtils.isCrossDomain(e),r={},a=null;if(window.XMLHttpRequest)a=new XMLHttpRequest,t&&void 0===a.withCredentials&&window.XDomainRequest&&(a=new XDomainRequest);else{for(var i=0,n=s.ACTIVEX_VERSIONS.length;i<n;i++){var o=s.ACTIVEX_VERSIONS[i];try{a=new ActiveXObject(o);break}catch(e){}}if(null==a)return!1}null==e.mimeType&&createjs.RequestUtils.isText(e.type)&&(e.mimeType="text/plain; charset=utf-8"),e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),this._xhrLevel="string"==typeof a.responseType?2:1;var c=e.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(e.src,e.values):e.src;if(a.open(e.method||createjs.AbstractLoader.GET,c,!0),t&&a instanceof XMLHttpRequest&&1==this._xhrLevel&&(r.Origin=location.origin),e.values&&e.method==createjs.AbstractLoader.POST&&(r["Content-Type"]="application/x-www-form-urlencoded"),t||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),e.headers)for(var l in e.headers)r[l]=e.headers[l];for(l in r)a.setRequestHeader(l,r[l]);return a instanceof XMLHttpRequest&&void 0!==e.withCredentials&&(a.withCredentials=e.withCredentials),this._request=a,!0},t._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},t.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(e,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t,s){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(e,t,s)}var t=createjs.extend(e,createjs.AbstractLoader),c=e;t.init=function(e,t,s){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(e),this._paused=!1,this._basePath=t,this._crossOrigin=s,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},c.loadTimeout=8e3,c.LOAD_TIMEOUT=0,c.BINARY=createjs.AbstractLoader.BINARY,c.CSS=createjs.AbstractLoader.CSS,c.IMAGE=createjs.AbstractLoader.IMAGE,c.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,c.JSON=createjs.AbstractLoader.JSON,c.JSONP=createjs.AbstractLoader.JSONP,c.MANIFEST=createjs.AbstractLoader.MANIFEST,c.SOUND=createjs.AbstractLoader.SOUND,c.VIDEO=createjs.AbstractLoader.VIDEO,c.SVG=createjs.AbstractLoader.SVG,c.TEXT=createjs.AbstractLoader.TEXT,c.XML=createjs.AbstractLoader.XML,c.POST=createjs.AbstractLoader.POST,c.GET=createjs.AbstractLoader.GET,t.registerLoader=function(e){if(!e||!e.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(e))throw new Error("loader already exists.");this._availableLoaders.unshift(e)},t.unregisterLoader=function(e){e=this._availableLoaders.indexOf(e);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},t.setUseXHR=function(e){return this.setPreferXHR(e)},t.setPreferXHR=function(e){return this.preferXHR=0!=e&&null!=window.XMLHttpRequest,this.preferXHR},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;if(!e||e instanceof Array){if(e)t=e;else if(0<arguments.length)return}else t=[e];var s=!1;if(t){for(;t.length;){for(var r=t.pop(),a=this.getResult(r),i=this._loadQueue.length-1;0<=i;i--)if((n=this._loadQueue[i].getItem()).id==r||n.src==r){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;0<=i;i--)if((n=this._loadQueueBackup[i].getItem()).id==r||n.src==r){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(a)this._disposeItem(this.getItem(r));else for(var i=this._currentLoads.length-1;0<=i;i--){var n=this._currentLoads[i].getItem();if(n.id==r||n.src==r){this._currentLoads.splice(i,1)[0].cancel(),s=!0;break}}}s&&this._loadNext()}else{for(var o in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},t.reset=function(){for(var e in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[e]);for(var t=[],s=0,r=this._loadQueueBackup.length;s<r;s++)t.push(this._loadQueueBackup[s].getItem());this.loadManifest(t,!1)},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){this._plugins.push(e);var t=e.getPreloadHandlers();if(t.scope=e,null!=t.types)for(var s=0,r=t.types.length;s<r;s++)this._typeCallbacks[t.types[s]]=t;if(null!=t.extensions)for(s=0,r=t.extensions.length;s<r;s++)this._extensionCallbacks[t.extensions[s]]=t}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&0<this._loadQueue.length&&this._loadNext()},t.loadFile=function(e,t,s){null!=e?(this._addItem(e,null,s),this.setPaused(!1===t)):(t=new createjs.ErrorEvent("PRELOAD_NO_FILE"),this._sendError(t))},t.loadManifest=function(e,t,s){var r=null,a=null;if(e instanceof Array){if(0==e.length){var i=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(i)}r=e}else if("string"==typeof e)r=[{src:e,type:c.MANIFEST}];else{if("object"!=typeof e){var i=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(i)}void 0!==e.src?(null==e.type?e.type=c.MANIFEST:e.type!=c.MANIFEST&&(i=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(i)),r=[e]):void 0!==e.manifest&&(r=e.manifest,a=e.path)}for(var n=0,o=r.length;n<o;n++)this._addItem(r[n],a,s);this.setPaused(!1===t)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){e=this._loadItemsById[e]||this._loadItemsBySrc[e];if(null==e)return null;e=e.id;return(t&&this._loadedRawResults[e]?this._loadedRawResults:this._loadedResults)[e]},t.getItems=function(e){var t,s=[];for(t in this._loadItemsById){var r=this._loadItemsById[t],a=this.getResult(t);!0===e&&null==a||s.push({item:r,result:a,rawResult:this.getResult(t,!0)})}return s},t.setPaused=function(e){this._paused=e,this._paused||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},t._addItem=function(e,t,s){t=this._createLoadItem(e,t,s);null==t||null!=(s=this._createLoader(t))&&("plugins"in s&&(s.plugins=this._plugins),t._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&t.type==createjs.LoadQueue.JAVASCRIPT||!0===t.maintainOrder)&&(this._scriptOrder.push(t),this._loadedScripts.push(null)))},t._createLoadItem=function(e,t,s){var r=createjs.LoadItem.create(e);if(null==r)return null;e="",s=s||this._basePath;if(r.src instanceof Object){if(!r.type)return null;t?(e=t,i=createjs.RequestUtils.parseURI(t),null==s||i.absolute||i.relative||(e=s+e)):null!=s&&(e=s)}else{var a=createjs.RequestUtils.parseURI(r.src);a.extension&&(r.ext=a.extension),null==r.type&&(r.type=createjs.RequestUtils.getTypeByExtension(r.ext));var i,n=r.src;a.absolute||a.relative||(t?(e=t,i=createjs.RequestUtils.parseURI(t),n=t+n,null==s||i.absolute||i.relative||(e=s+e)):null!=s&&(e=s)),r.src=e+r.src}r.path=e,void 0!==r.id&&null!==r.id&&""!==r.id||(r.id=n);n=this._typeCallbacks[r.type]||this._extensionCallbacks[r.ext];if(n){n=n.callback.call(n.scope,r,this);if(!1===n)return null;!0===n||null!=n&&(r._loader=n),null!=(a=createjs.RequestUtils.parseURI(r.src)).extension&&(r.ext=a.extension)}return this._loadItemsById[r.id]=r,null==(this._loadItemsBySrc[r.src]=r).crossOrigin&&(r.crossOrigin=this._crossOrigin),r},t._createLoader=function(e){if(null!=e._loader)return e._loader;for(var t=this.preferXHR,s=0;s<this._availableLoaders.length;s++){var r=this._availableLoaders[s];if(r&&r.canLoadItem(e))return new r(e,t)}return null},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var e=0;e<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);e++){var t=this._loadQueue[e];this._canStartLoad(t)&&(this._loadQueue.splice(e,1),e--,this._loadItem(t))}}},t._loadItem=function(e){e.on("fileload",this._handleFileLoad,this),e.on("progress",this._handleProgress,this),e.on("complete",this._handleFileComplete,this),e.on("error",this._handleError,this),e.on("fileerror",this._handleFileError,this),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleFileError=function(e){e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.item);this._sendError(e)},t._handleError=function(e){var t=e.target;this._numItemsLoaded++,this._finishOrderedItem(t,!0),this._updateProgress();e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(e),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){var t=e.target,s=t.getItem(),r=t.getResult();this._loadedResults[s.id]=r;e=t.getResult(!0);null!=e&&e!==r&&(this._loadedRawResults[s.id]=e),this._saveLoadedItems(t),this._removeLoadItem(t),this._finishOrderedItem(t)||this._processFinishedLoad(s,t),this._cleanLoadItem(t)},t._saveLoadedItems=function(e){var t=e.getLoadedItems();if(null!==t)for(var s=0;s<t.length;s++){var r=t[s].item;this._loadItemsBySrc[r.src]=r,this._loadItemsById[r.id]=r,this._loadedResults[r.id]=t[s].result,this._loadedRawResults[r.id]=t[s].rawResult}},t._finishOrderedItem=function(e,t){var s=e.getItem();if(this.maintainScriptOrder&&s.type==createjs.LoadQueue.JAVASCRIPT||s.maintainOrder){e instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);e=createjs.indexOf(this._scriptOrder,s);return-1!=e&&(this._loadedScripts[e]=!0===t||s,this._checkScriptLoadOrder(),!0)}return!1},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;t<e;t++){var s,r=this._loadedScripts[t];if(null===r)break;!0!==r&&(s=this._loadedResults[r.id],r.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(s),s=r._loader,this._processFinishedLoad(r,s),this._loadedScripts[t]=!0)}},t._processFinishedLoad=function(e,t){this._numItemsLoaded++,this.maintainScriptOrder||e.type!=createjs.LoadQueue.JAVASCRIPT||createjs.DomUtils.appendToHead(e.result),this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._canStartLoad=function(e){if(!this.maintainScriptOrder||e.preferXHR)return!0;e=e.getItem();if(e.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var t=this._scriptOrder.indexOf(e),s=0;s<t;){if(null==this._loadedScripts[s])return!1;s++}return this._currentlyLoadingScript=!0},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,s=0;s<t;s++)if(this._currentLoads[s]==e){this._currentLoads.splice(s,1);break}},t._cleanLoadItem=function(e){e=e.getItem();e&&delete e._loader},t._handleProgress=function(e){e=e.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(0<t){for(var s=0,r=0,a=this._currentLoads.length;r<a;r++)s+=this._currentLoads[r].progress;e+=s/t*(t/this._numItems)}this._lastProgress!=e&&(this._sendProgress(e),this._lastProgress=e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._sendFileProgress=function(e,t){var s;this._isCanceled()||this._paused||!this.hasEventListener("fileprogress")||((s=new createjs.Event("fileprogress")).progress=t,s.loaded=t,s.total=1,s.item=e,this.dispatchEvent(s))},t._sendFileComplete=function(e,t){var s;this._isCanceled()||this._paused||((s=new createjs.Event("fileload")).loader=t,s.item=e,s.result=this._loadedResults[e.id],s.rawResult=this._loadedRawResults[e.id],e.completeHandler&&e.completeHandler(s),this.hasEventListener("fileload")&&this.dispatchEvent(s))},t._sendFileStart=function(e){var t=new createjs.Event("filestart");t.item=e,this.hasEventListener("filestart")&&this.dispatchEvent(t)},t.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.TEXT)}(createjs.extend(e,createjs.AbstractLoader),e).canLoadItem=function(e){return e.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.BINARY},t._updateXHR=function(e){e.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=document.createElement(t?"style":"link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.CSS},t._formatResult=function(e){var t;return this._preferXHR?(t=e.getTag()).styleSheet?t.styleSheet.cssText=e.getResult(!0):(e=document.createTextNode(e.getResult(!0)),t.appendChild(e)):t=this._tag,createjs.DomUtils.appendToHead(t),t},createjs.CSSLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(e)?this._tag=e:createjs.RequestUtils.isImageTag(e.src)?this._tag=e.src:createjs.RequestUtils.isImageTag(e.tag)&&(this._tag=e.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.IMAGE},t.load=function(){var e;""!=this._tag.src&&this._tag.complete?this._sendComplete():(null==(e=1==(e=this._item.crossOrigin)?"Anonymous":e)||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=e),this.AbstractLoader_load())},t._updateXHR=function(e){e.loader.mimeType="text/plain; charset=x-user-defined-binary",e.loader.setResponseType&&e.loader.setResponseType("blob")},t._formatResult=function(a){var i=this;return function(e){var t,s=i._tag,r=window.URL||window.webkitURL;i._preferXHR&&(r?(t=r.createObjectURL(a.getResult(!0)),s.src=t,s.onload=function(){r.revokeObjectURL(i.src)}):s.src=a.getItem().src),s.complete?e(s):s.onload=function(){e(this)}}},createjs.ImageLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JAVASCRIPT},t._formatResult=function(e){var t=e.getTag();return this._preferXHR&&(t.text=e.getResult(!0)),t},createjs.JavaScriptLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSON&&!e._loadAsJSONP},t._formatResult=function(t){var e=null;try{e=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(e){t=new createjs.ErrorEvent("JSON_FORMAT",null,e);return this._sendError(t),e}return e},createjs.JSONLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.JSONP||e._loadAsJSONP},t.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},t.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},t._handleLoad=function(e){this._result=this._rawResult=e,this._sendComplete(),this._dispose()},t._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},t._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),s=e;s.MANIFEST_PROGRESS=.25,s.canLoadItem=function(e){return e.type==createjs.AbstractLoader.MANIFEST},t.load=function(){this.AbstractLoader_load()},t._createRequest=function(){var e=this._item.callback;this._request=new(null!=e?createjs.JSONPLoader:createjs.JSONLoader)(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(s.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=s.MANIFEST_PROGRESS,this.progress=e.loaded/e.total,!isNaN(this.progress)&&1/0!=this.progress||(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},t._loadManifest=function(e){if(e&&e.manifest){var t=this._manifestQueue=new createjs.LoadQueue;t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0);for(var s=0,r=this.plugins.length;s<r;s++)t.installPlugin(this.plugins[s]);t.loadManifest(e)}else this._sendComplete()},t._handleManifestFileLoad=function(e){e.target=null,this.dispatchEvent(e)},t._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-s.MANIFEST_PROGRESS)+s.MANIFEST_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.ManifestLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(e)||createjs.RequestUtils.isAudioTag(e.src)?this._tag=e:createjs.RequestUtils.isAudioTag(e.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(e)?e:e.src),null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(e,createjs.AbstractMediaLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SOUND},t._createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},createjs.SoundLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractMediaLoader_constructor(e,t,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(e)||createjs.RequestUtils.isVideoTag(e.src)?(this.setTag(createjs.RequestUtils.isVideoTag(e)?e:e.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=e;createjs.extend(e,createjs.AbstractMediaLoader)._createTag=function(){return document.createElement("video")},t.canLoadItem=function(e){return e.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(e,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,null,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var t=createjs.extend(e,createjs.AbstractLoader),s=e;s.SPRITESHEET_PROGRESS=.25,s.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SPRITESHEET},t.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},t._createRequest=function(){var e=this._item.callback;this._request=new(null!=e&&e instanceof Function?createjs.JSONPLoader:createjs.JSONLoader)(this._item)},t.handleEvent=function(e){switch(e.type){case"complete":return this._rawResult=e.target.getResult(!0),this._result=e.target.getResult(),this._sendProgress(s.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return e.loaded*=s.SPRITESHEET_PROGRESS,this.progress=e.loaded/e.total,!isNaN(this.progress)&&1/0!=this.progress||(this.progress=0),void this._sendProgress(e)}this.AbstractLoader_handleEvent(e)},t._loadManifest=function(e){var t;e&&e.images&&((t=this._manifestQueue=new createjs.LoadQueue).on("complete",this._handleManifestComplete,this,!0),t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("error",this._handleManifestError,this,!0),t.loadManifest(e.images))},t._handleManifestFileLoad=function(e){var t,s=e.result;null!=s&&(e=(t=this.getResult().images).indexOf(e.item.src),t[e]=s)},t._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},t._handleManifestProgress=function(e){this.progress=e.progress*(1-s.SPRITESHEET_PROGRESS)+s.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},t._handleManifestError=function(e){var t=new createjs.Event("fileerror");t.item=e.data,this.dispatchEvent(t)},createjs.SpriteSheetLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e,t){this.AbstractLoader_constructor(e,t,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.SVG},t._formatResult=function(e){var t=createjs.DataUtils.parseXML(e.getResult(!0),"text/xml"),e=e.getTag();return!this._preferXHR&&document.body.contains(e)&&document.body.removeChild(e),null!=t.documentElement?(e.appendChild(t.documentElement),e.style.visibility="visible",e):t},createjs.SVGLoader=createjs.promote(e,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function e(e){this.AbstractLoader_constructor(e,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var t=createjs.extend(e,createjs.AbstractLoader);e.canLoadItem=function(e){return e.type==createjs.AbstractLoader.XML},t._formatResult=function(e){return createjs.DataUtils.parseXML(e.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(e,"AbstractLoader")}();

!function(){var t={1989:function(t,e,n){var o=n(1789),i=n(401),r=n(7667),a=n(1327),s=n(1866);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=a,u.prototype.set=s,t.exports=u},8407:function(t,e,n){var o=n(7040),i=n(4125),r=n(2117),a=n(7518),s=n(4705);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=a,u.prototype.set=s,t.exports=u},7071:function(t,e,n){var o=n(852)(n(5639),"Map");t.exports=o},3369:function(t,e,n){var o=n(4785),i=n(1285),r=n(6e3),a=n(9916),s=n(5265);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=a,u.prototype.set=s,t.exports=u},2705:function(t,e,n){var o=n(5639).Symbol;t.exports=o},6874:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},9932:function(t){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}},2488:function(t){t.exports=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}},4865:function(t,e,n){var o=n(9465),i=n(7813),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];r.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||o(t,e,n)}},8470:function(t,e,n){var o=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},9465:function(t,e,n){var o=n(8777);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},1078:function(t,e,n){var o=n(2488),i=n(7285);t.exports=function t(e,n,r,a,s){var u=-1,c=e.length;for(r||(r=i),s||(s=[]);++u<c;){var l=e[u];n>0&&r(l)?n>1?t(l,n-1,r,a,s):o(s,l):a||(s[s.length]=l)}return s}},7786:function(t,e,n){var o=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,r=(e=o(e,t)).length;null!=t&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}},4239:function(t,e,n){var o=n(2705),i=n(9607),r=n(2333),a=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):r(t)}},8565:function(t){var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},13:function(t){t.exports=function(t,e){return null!=t&&e in Object(t)}},9454:function(t,e,n){var o=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==o(t)}},8458:function(t,e,n){var o=n(3560),i=n(5346),r=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,p=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||i(t))&&(o(t)?p:s).test(a(t))}},5970:function(t,e,n){var o=n(3012),i=n(9095);t.exports=function(t,e){return o(t,e,(function(e,n){return i(t,n)}))}},3012:function(t,e,n){var o=n(7786),i=n(611),r=n(1811);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=o(t,c);n(l,c)&&i(u,r(c,t),l)}return u}},611:function(t,e,n){var o=n(4865),i=n(1811),r=n(5776),a=n(3218),s=n(327);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=i(e,t)).length,d=l-1,p=t;null!=p&&++c<l;){var v=s(e[c]),f=n;if("__proto__"===v||"constructor"===v||"prototype"===v)return t;if(c!=d){var h=p[v];void 0===(f=u?u(h,v,p):void 0)&&(f=a(h)?h:r(e[c+1])?[]:{})}o(p,v,f),p=p[v]}return t}},6560:function(t,e,n){var o=n(5703),i=n(8777),r=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;t.exports=a},531:function(t,e,n){var o=n(2705),i=n(9932),r=n(1469),a=n(3448),s=o?o.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:function(t,e,n){var o=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(i,""):t}},1811:function(t,e,n){var o=n(1469),i=n(5403),r=n(5514),a=n(9833);t.exports=function(t,e){return o(t)?t:i(t,e)?[t]:r(a(t))}},4429:function(t,e,n){var o=n(5639)["__core-js_shared__"];t.exports=o},8777:function(t,e,n){var o=n(852),i=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},9021:function(t,e,n){var o=n(5564),i=n(5357),r=n(61);t.exports=function(t){return r(i(t,void 0,o),t+"")}},1957:function(t,e,n){var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=o},5050:function(t,e,n){var o=n(7019);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},852:function(t,e,n){var o=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return o(n)?n:void 0}},9607:function(t,e,n){var o=n(2705),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;t.exports=function(t){var e=r.call(t,s),n=t[s];try{t[s]=void 0;var o=!0}catch(t){}var i=a.call(t);return o&&(e?t[s]=n:delete t[s]),i}},7801:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},222:function(t,e,n){var o=n(1811),i=n(5694),r=n(1469),a=n(5776),s=n(1780),u=n(327);t.exports=function(t,e,n){for(var c=-1,l=(e=o(e,t)).length,d=!1;++c<l;){var p=u(e[c]);if(!(d=null!=t&&n(t,p)))break;t=t[p]}return d||++c!=l?d:!!(l=null==t?0:t.length)&&s(l)&&a(p,l)&&(r(t)||i(t))}},1789:function(t,e,n){var o=n(4536);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},401:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:function(t,e,n){var o=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:function(t,e,n){var o=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:i.call(e,t)}},1866:function(t,e,n){var o=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this}},7285:function(t,e,n){var o=n(2705),i=n(5694),r=n(1469),a=o?o.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||i(t)||!!(a&&t&&t[a])}},5776:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var o=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&e.test(t))&&t>-1&&t%1==0&&t<n}},5403:function(t,e,n){var o=n(1469),i=n(3448),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!r.test(t)||null!=e&&t in Object(e)}},7019:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:function(t,e,n){var o,i=n(4429),r=(o=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!r&&r in t}},7040:function(t){t.exports=function(){this.__data__=[],this.size=0}},4125:function(t,e,n){var o=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:function(t,e,n){var o=n(8470);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},7518:function(t,e,n){var o=n(8470);t.exports=function(t){return o(this.__data__,t)>-1}},4705:function(t,e,n){var o=n(8470);t.exports=function(t,e){var n=this.__data__,i=o(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:function(t,e,n){var o=n(1989),i=n(8407),r=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(r||i),string:new o}}},1285:function(t,e,n){var o=n(5050);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},6e3:function(t,e,n){var o=n(5050);t.exports=function(t){return o(this,t).get(t)}},9916:function(t,e,n){var o=n(5050);t.exports=function(t){return o(this,t).has(t)}},5265:function(t,e,n){var o=n(5050);t.exports=function(t,e){var n=o(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},4523:function(t,e,n){var o=n(8306);t.exports=function(t){var e=o(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:function(t,e,n){var o=n(852)(Object,"create");t.exports=o},2333:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5357:function(t,e,n){var o=n(6874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=i(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(u),o(t,this,c)}}},5639:function(t,e,n){var o=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},61:function(t,e,n){var o=n(6560),i=n(1275)(o);t.exports=i},1275:function(t){var e=Date.now;t.exports=function(t){var n=0,o=0;return function(){var i=e(),r=16-(i-o);if(o=i,r>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},5514:function(t,e,n){var o=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=o((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,o,i){e.push(o?i.replace(r,"$1"):n||t)})),e}));t.exports=a},327:function(t,e,n){var o=n(3448);t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5703:function(t){t.exports=function(t){return function(){return t}}},3279:function(t,e,n){var o=n(3218),i=n(7771),r=n(4841),a=Math.max,s=Math.min;t.exports=function(t,e,n){var u,c,l,d,p,v,f=0,h=!1,w=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,o=c;return u=c=void 0,f=e,d=t.apply(o,n)}function g(t){return f=t,p=setTimeout(k,e),h?y(t):d}function b(t){var n=t-v;return void 0===v||n>=e||n<0||w&&t-f>=l}function k(){var t=i();if(b(t))return _(t);p=setTimeout(k,function(t){var n=e-(t-v);return w?s(n,l-(t-f)):n}(t))}function _(t){return p=void 0,m&&u?y(t):(u=c=void 0,d)}function T(){var t=i(),n=b(t);if(u=arguments,c=this,v=t,n){if(void 0===p)return g(v);if(w)return clearTimeout(p),p=setTimeout(k,e),y(v)}return void 0===p&&(p=setTimeout(k,e)),d}return e=r(e)||0,o(n)&&(h=!!n.leading,l=(w="maxWait"in n)?a(r(n.maxWait)||0,e):l,m="trailing"in n?!!n.trailing:m),T.cancel=function(){void 0!==p&&clearTimeout(p),f=0,u=v=c=p=void 0},T.flush=function(){return void 0===p?d:_(i())},T}},7813:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:function(t,e,n){var o=n(1078);t.exports=function(t){return null!=t&&t.length?o(t,1):[]}},7361:function(t,e,n){var o=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:o(t,e);return void 0===i?n:i}},8721:function(t,e,n){var o=n(8565),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,o)}},9095:function(t,e,n){var o=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,o)}},6557:function(t){t.exports=function(t){return t}},5694:function(t,e,n){var o=n(9454),i=n(7005),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},1469:function(t){var e=Array.isArray;t.exports=e},3560:function(t,e,n){var o=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},3448:function(t,e,n){var o=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==o(t)}},8306:function(t,e,n){var o=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=t.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(i.Cache||o),n}i.Cache=o,t.exports=i},308:function(t){t.exports=function(){}},7771:function(t,e,n){var o=n(5639);t.exports=function(){return o.Date.now()}},8718:function(t,e,n){var o=n(5970),i=n(9021)((function(t,e){return null==t?{}:o(t,e)}));t.exports=i},4841:function(t,e,n){var o=n(7561),i=n(3218),r=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:function(t,e,n){var o=n(531);t.exports=function(t){return null==t?"":o(t)}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(308),e=n.n(t),o=n(7361),i=n.n(o);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){var e=t||{};return{vpaid:"object"===r(e.vpaid)||e.vpaid,numberOfRedirects:e.adWrapperIds?e.adWrapperIds.length:null,adId:e.adId||null,adQueryId:e.adQueryId||null,creativeId:function(t){var e=t.adWrapperCreativeIds||[],n=t.creativeId||"";return e.push(n),e.filter((function(t){return!!t})).join(",")}(e),title:e.title||null,description:e.description||null,mediaUrl:e.mediaUrl,adSystem:e.adSystem||null,adMeta:function(t){var e=Object.assign({},t);"object"===r(e.vpaid)&&(e.vpaid=!!e.vpaid);try{return JSON.stringify(e)}catch(t){return console.debug(t),""}}(e),isPreloadingAd:e.isPreloading,adWrapperSystems:(e.adWrapperSystems||[]).join(",")}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=["715998959","138210079292","716945960","138228291976"];return t&&"string"==typeof t.creativeId?e.includes(t.creativeId):null}var u=n(8718),c=n.n(u);function l(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null}function d(t){return new Date(t).getTime()}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function v(){try{return window.self!==window.top}catch(t){return!0}}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href;try{if(!I(t))return"";t=(t=t.split("/")[2]).split(":")[0]}catch(t){console.debug(t)}return t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t instanceof HTMLElement){var o=t.getBoundingClientRect();return o.top+t.offsetHeight*e>=0&&o.bottom-t.offsetHeight*e<=(window.innerHeight||document.documentElement.clientHeight)&&(!n||o.left>=0)&&(!n||o.right<=(window.innerWidth||document.documentElement.clientWidth))}return null}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.prop,o=void 0===n?"name":n,i=e.begin,r=void 0===i?0:i;if(!Array.isArray(t)||t.length<=r)return null;var a=t.slice(r).map((function(t){return t[o]})).join(";");return a.includes(";")&&(a+=";"),a}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];for(var n in t)e.push(t[n].text);return e}function y(t){return t?t.join(";"):""}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();return window.performance.timing.navigationStart>0?t-window.performance.timing.navigationStart:null}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();return window.performance.timing.domContentLoadedEventStart>0?t-window.performance.timing.domContentLoadedEventStart:null}function k(){return i()(window,"wp_pb.pageName")||i()(window,"Fusion.template")||""}function _(){return!!i()(window,"pageName","").startsWith("video-leaf-page")||k().startsWith("video")}function T(){return!0===i()(window,"wp_meta_data.isHomepage")||"homepage"===i()(window,"Fusion.metas.contentType.value")?"homepage":_()?"leaf":(t=k()).startsWith("article")||t.startsWith("template/article")?"article page":window.location.href.indexOf("/graphics/")>-1||"interactive graphics"===i()(window,"wp_content_type","")?"graphics":"wpvIframe"===window.pageType||/washingtonpost\.com\/(video|posttv)\/c\/embed/.test(window.location.href)?"iframe":"other";var t}function S(t){var e=t.powa,n=t.powaId,o=t.powaTrack,r=t.event;return o||(e&&!n&&(n=e.getID()),o=i()(window,"powas[".concat(n,"].powaTrack"),[])),o.filter((function(t){return t.event===r}))[0]||null}function P(t){var e=t.powa,n=t.powaId,o=t.powaTrack,i=t.event,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),a=S({powa:e,powaId:n,powaTrack:o,event:i});if(a){var s=a.timestamp;return r-s}return null}var x,A,I=function(t){return/^https?:\/\//.test(t)},O=(x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search,e={};return t&&(window.URLSearchParams?new URLSearchParams(t).forEach((function(t,n){e[n]=t})):t.replace(/(^\?)/,"").split("&").forEach((function(t){t=t.split("="),e[t[0]]=t[1]}))),e}().embedContext,window.wp_meta_data&&!0===window.wp_meta_data.isPWA||"pwa"===window.wp_site?"pwa":/^(fbInstant|amp|pwa)$/.test(x)?x.toLowerCase():"");function E(){var t,e={url:(t=window.location.origin,t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),"".concat(t).concat(window.location.pathname)),urlQueryString:window.location.search,urlHash:window.location.hash,HTTP_REFERER:document.referrer,isSignedIn:!!l("wapo_secure_login_id"),isIframe:window.top!==window.self,embedContext:O,site:"amp"===O&&/freshcontent=1/.test(document.referrer)?"ampfresh":"amp"===O?"amphtml":O||(window.self===window.top&&document.domain.indexOf("washingtonpost.com")>-1||window.self!==window.top&&"document.domain"==document.domain&&document.domain===window.top.document.domain?"www.washingtonpost.com":void 0),templateName:k(),powaVersion:i()(window,"PoWa.VERSION"),powaBuild:i()(window,"PoWa.BUILD"),pageType:T(),pageSection:window.wp_section||"",_pageSubSection:window.wp_subsection||""},n=l("wapo_actmgmt")||"";e.isSubscriber=-1!==n.indexOf("isub:1");try{e.page=window.s.pageName,e.channel=window.s.channel,e.type=window.s.prop3}catch(t){}var o=function(){if(window.wp_pb&&window.wp_pb.BrowserInfo){var t=window.wp_pb.BrowserInfo;return{browser:t.browser&&t.browser.toLowerCase(),os:t.OS&&t.OS.toLowerCase(),version:t.version&&t.version.split(".")[0]}}}();return o&&(e.browser=o.browser,e.os=o.os,e.version=o.version),_()&&(e.medleyHash=i()(window,"__NEXT_DATA__.props.pageProps.buildHash")),e}function C(){var t=i()(window,"PoWaSettings.splitTests.irisTest");return{visibilityState:document.visibilityState,persisted:A,imaVersion:i()(window,"google.ima.VERSION"),irisTest:"function"==typeof i()(t,"in")?t.in():null}}function j(t){if(!t)return{};var e,n=t.getElement(),o=t.getDataset(),r=t.getStatus(),a=i()(r,"stream"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"powaBoot.js";return document.querySelector('script[src*="'+t+'"]')}(),u={playerType:L(o),streamType:D(a),streamDomain:V(a),cdn:M(V(a))||null,ptvenv:B(s),powaLoadedVia:(e=s,e?e.dataset.loadedBy||e.dataset.loadedVia:null),nthVideoOnPage:o.powaIndex,_isPrerollPlugin:o.prerollOnly,_isAdDisabledOnPlayer:!1===o.ads,articleAutoplay:o.articleAutoplay,isLooping:o.continuousPlay||o.loop,offsetTop:W(n),promoType:R(t)};u.loadedBy=o.loadedBy||null,u.loadedByReason=o.loadedByReason||null,u.adTimeoutLength=o.adTimeouts.adStart,u.initOnScroll=!0===o.initOnScroll||!0===o.noVideoOnLivebarStart||!0===o.curtainNonInitialState;var c=function(){var t=window.PoWaSettings&&window.PoWaSettings.client||{};return{browser:t.browserName,os:t.isAndroid?"android":t.isKindle?"kindle":t.isMac?"mac":t.isLinux?"linux":t.isIOS?"ios":t.isWindows?"windows":t.isChromeOs?"chromeOS":"",version:t.version,isWebView:t.isWebView}}();return c&&(u.browser=c.browser,u.os=c.os,u.version=c.version,c.isWebView&&(u.isWebView=c.isWebView)),!0===o.loopingVideo&&(!1===o.ads&&(u._adNotSupported=!0),u.player="powa-loopingVideo"),u}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var e=t.split("/").pop(),n=e.split(".")[1].split("?")[0];return n}catch(t){return null}}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?t.split("/")[2]:null}function M(t){if(t){if(/akamai/.test(t))return"akamai";if(/posttv\.com|cloudfront.net/.test(t))return"cloudfront"}}function L(t){var e="posttv-embed".concat(O?"-"+O:"");return t.playerType?e=t.playerType:!0===t.discovery?e="posttv-embed-playlist":window.wp_meta_data&&!0===window.wp_meta_data.isHomepage?e="posttv-embed-hp":window.self!==window.top?e="posttv-embed-iframe":window.wp_pb&&/video-leaf-page/.test(window.wp_pb.pageName)&&(e="posttv-leaf"),e}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"powaBoot.js",n=t&&t.src?t.src.toLowerCase():null,o=n?n.split("//")[1].split("/").slice(1):[],i=o.reduce((function(t,n,o){return n.indexOf(e.toLowerCase())>-1?o:t}),0);return 0===i?"prod":"js"===o[i-1]?"local":o[i-1]}function N(t){return t&&t.closest?null!==t.closest(".powa-sticky-stick.powa-sticky"):null}function W(t){var e;try{var n=window!=window.parent?window.parent:window,o=t.getBoundingClientRect(),i=n.pageYOffset||document.documentElement.scrollTop;e=Math.floor(o.top+i)}catch(t){}return e}function R(t){var e=t.getElement();if(e.querySelector("video.powa-shot-promo-video"))return"mp4";var n=e.querySelector(".powa-shot-image.powa-click-promo-play, .powa-shot-image.powa-click-promo-play-debounced");if(n){var o=getComputedStyle(n).backgroundImage;return o&&"none"!==o?(o=o.slice(5,-2)).endsWith(".gif")?"gif":"image":null}return null}window.addEventListener("pageshow",(function(t){t.persisted&&(A="persisted")}));var F=n(8721),H=n.n(F);function U(t){var e=t.find((function(t){return"promoPlay"===t.event||"start"===t.event}));if(e){if(i()(e,"data.videoStarts")>1)return"continuous";if("promoPlay"===e.event)return"manual";if("start"===e.event)return"autoplay"}}function q(t){if(!t)return{};var e=t.getID(),n=window.powas[e].powaTrack,o={startReason:U(n)},r=n.filter((function(t){return"adRequest"===t.event}))[0],a=n.filter((function(t){return"adImpression"===t.event}))[0],u=n.filter((function(t){return"adStart"===t.event}))[0],c=n.filter((function(t){return"adComplete"===t.event}))[0],l=n.filter((function(t){return"adBarSkip"===t.event}))[0],d=u||a||r,p=n.filter((function(t){return"adStartTimeout"===t.event}))[0],v=n.filter((function(t){return"adError"===t.event}))[0];if(d){o._isAdEventAvailable=!0;var f=d.data.adStatus,h=f.adMeta;o._isBlankAd=s(h),o._isPreloadAd=f.adPreload,o._isAdTimeout=!!p,o._isAdRequest=!!r,o._isAdStarted=!!u,o._isAdCompleted=!!c,o._isAdBarSkipped=!!l,o._isAdError=!!v}else o._isAdEventAvailable=!1;var w=n.filter((function(t){return"mtSession"===t.event}))[0];w?(o.mt=!1===H()(w,"data.error"),o.mtError=H()(w,"data.error")):(o.mt=!1,o.mtError=!1);var m=n.filter((function(t){return"mtAvails"===t.event}))[0];m?(o.mtAvails=!0,o.mtCreativeId=i()(m,"data.avails[0].ads[0].creativeId"),o.mtVastAdId=i()(m,"data.avails[0].ads[0].vastAdId"),o.mtAdTitle=i()(m,"data.avails[0].ads[0].adTitle")):o.mtAvails=!1,n.filter((function(t){return"preview2-autoplay"===t.event}))[0]&&(o.isPreview2=!0),n.filter((function(t){return"onceplay-autoplay"===t.event}))[0]&&(o.isOnceplay=!0);var y=n.filter((function(t){return"adHeaderBidding"===t.event}))[0];y&&(o.adHeaderBidding=!0,o.adHeaderBiddingProvider=i()(y,"data.provider"));var g=n.filter((function(t){return"irisStart"===t.event}))[0];if(g){var b=n.filter((function(t){return"irisBidRequest"===t.event}))[0],k=n.filter((function(t){return"irisBidFetched"===t.event}))[0];k&&(o.irisRunTime=k.timestamp-g.timestamp,o.irisBidTime=k.timestamp-b.timestamp),n.filter((function(t){return"irisTimeout"===t.event}))[0]&&(o.irisTimeout=!0)}return n.filter((function(t){return"WapoUpUpcoming_notUpcoming"===t.event}))[0]&&(o.wasUpcoming=!0),o}function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t){if("object"!==$(t))return{};var e,n,o,r,a,s={videoId:t._id||null,videoName:i()(t,"headlines.basic",null),videoType:"live"===t.video_type?"livestream":"video",videoSource:i()(t,"source.name",null),videoCMS:i()(t,"source.system"),videoHost:i()(t,"credits.host_talent",null),subsection:i()(t,"additional_properties.subsection",null),secondarySections:i()(t,"taxonomy.sections",null),durationInSeconds:t.duration?t.duration/1e3:0,editors:Y(t),streamName:i()(t,"additional_properties.streamName",""),contributors:i()(t,"credits.contributors"),videoCategory:i()(t,"additional_properties.videoCategory"),provider:i()(t,"streams[0].provider"),keywords:i()(t,"taxonomy.seo_keywords",null),tags:i()(t,"taxonomy.tags",null),canonicalUrl:i()(t,"canonical_url"),displayDate:(e=i()(t,"display_date"),n=new Date(e),o=n.getDate().toString(),r=(n.getMonth()+1).toString(),a=n.getFullYear().toString(),1==r.length&&(r="0"+r),1==o.length&&(o="0"+o),a+"-"+r+"-"+o),_dateLastPublished:d(t.last_updated_date),_adAllowed:J(t)};return J(t)&&(G(t)&&(s.missingAdSetUrl=!0),Q(t)&&(s.missingAdZone=!0),K(t)&&(s.invalidAdZone=!0),s.videoAdZone=i()(t,"additional_properties.advertising.videoAdZone")),s}function Y(t){var e=i()(t,"credits.by",[]).filter((function(t){return t.name}));if(0==e.length){var n=i()(t,"credits.host_talent"),o=i()(t,"credits.contributors");if(n&&0!==n.length||o&&0!==o.length)e=null;else{var r=i()(t,"additional_properties.firstPublishedBy.name",""),a=i()(t,"additional_properties.firstPublishedBy.lastname","");e=r||a?[{name:"".concat(r," ").concat(a)}]:null}}return e}var J=function(t){var e=i()(t,"additional_properties.playVideoAds"),n=Z(t);return e&&n},Z=function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.self!==window.top?document.referrer:window.location.href;try{if(t=f(t)){var e=t.split("."),n=e.length,o="co"===e[n-2]?3:2;if(n>=o){for(var i=[];o;)i.push(e[n-o]),o--;t=i.join(".")}}}catch(t){console.debug(t)}return t}();if(/washingtonpost\.com|localhost|thelily\.com|arcpublishing\.com|wpprivate\.com/.test(e))return!0;var n=f();return!!/www-washingtonpost-com\.cdn\.ampproject\.org|wpit\.nile\.works/.test(n)||i()(t,"additional_properties.advertising.allowPrerollOnDomain")},G=function(t){return!i()(t,"additional_properties.advertising.adSetUrls.apps","")},Q=function(t){return!i()(t,"additional_properties.advertising.videoAdZone","")},K=function(t){var e=i()(t,"additional_properties.advertising.videoAdZone","");return!1===/wpni.video/.test(e)};function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();if(!t)return{};var n={},o=Object.keys(t);o.forEach((function(o){n["timeSince".concat(p(o))]=e-t[o]}));var i=b(e);return i&&(n.timeSinceDomContentLoaded=i),n}function tt(){var t;try{t=this.powa.getStatus().yt}catch(t){}return{videoAnalyticsVersion:"1.16.5",playCounter:this.playCounter,vendor:t?"YouTube":this.powa?"PoWa":void 0,adEndVisibilityState:this.adEndVisibilityState}}function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t){return t.map((function(t){return t.name})).join(", ")}function ot(t){var e=t.subsection||"",n=t._dateLastPublished,o=t.videoName,i=new Date(n).toLocaleDateString("en-US"),r=e?e.toLowerCase()+":":"";return"".concat(r,"video - ").concat(i," - ").concat(o)}var it="wp - ";function rt(t,e){return e.indexOf(t)>=0?e:"".concat(t).concat(e)}function at(t){return"object"!==et(t)?{}:{eVar2:t.pageSection?rt(it,t.pageSection):"",prop2:t._pageSubSection?rt(it,t._pageSubSection):"",eVar8:t.editors?nt(t.editors):"",eVar12:t.videoId,eVar13:ot(t),eVar17:t.videoType,eVar36:t.hostTalent?nt(t.hostTalent):"",eVar37:t.contributors?nt(t.contributors):"",eVar41:t.videoCategory,eVar42:t.videoSource,eVar44:st(t),eVar47:t.subsection,eVar48:ut(t),eVar49:t.playerType,eVar50:t.pageType,eVar58:"washingtonpost.com",rolledUpAdStatus:ct(t)}}function st(t){return"".concat(t.os," ").concat(t.browser," ").concat(t.version)}function ut(t){var e,n;return e=t._isAdEventAvailable?t._isPreloadAd?"prefetched":"notfetched":"undefined",t._isAdEventAvailable?t._isBlankAd?n="reqblank":t._isAdError?n="error":t._isAdStarted?n="reqshow":t._isAdTimeout&&(n="reqTimeout"):n=!1===t._adAllowed?"noreq":"undefined","".concat(e,":").concat(n)}function ct(t){var e;return t._isAdEventAvailable?t._isBlankAd?e="adBlank":t._isAdError?e="adError":t._isAdCompleted?e="adCompleted":t._isAdStarted?e="adStarted":t._isAdTimeout&&(e="adTimeout"):e=t._adNotSupported?"adNotSupported":!1===t._adAllowed?"adNotAllowed":t._isAdDisabledOnPlayer?"adDisabled":"undefined",e}function lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o;return n=t,o=[{key:"send",value:function(){e()()}},{key:"load",value:function(){var t;window.TWP&&window.TWP.Analytics||(t="https://www.washingtonpost.com/wp-stat/analytics/latest/main.js",new Promise((function(n,o){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e(),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e(),i=document.querySelector('script[src="'.concat(t,'"]'));if(i&&i.hasAttribute("data-powa-script"))i.hasAttribute("data-load")?n():i.hasAttribute("data-error")?o():(i.addEventListener("load",n),i.addEventListener("error",o));else{i=document.createElement("script");var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r),i.addEventListener("error",(function(){i.setAttribute("data-error",!0),o()})),i.addEventListener("load",(function(){i.setAttribute("data-load",!0),n()})),i.setAttribute("data-powa-script",!0),i.type="text/javascript",i.async=!0,i.src=t}}(t,n,o)}))).then((function(){console.log("analytics main.js loaded from videoAnalytics"),window.TWP.Analytics.init({suppressTrackPageLoad:!0})})).catch((function(t){return console.log("could not load main.js",t)}))}}],null&&lt(n.prototype,null),o&&lt(n,o),t}(),pt=n(3279);function vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ft=["_ga","evtType","evtTime","streamName","ytState","ytState2","browser","version","os","videoId","url","ptvenv","powaBuild","powaVersion","videoAnalyticsVersion","HTTP_REFERER","playerType","vendor","visibilityState","persisted","rolledUpAdStatus","initOnScroll","nthVideoOnPage","playCounter","videoType","pageType","event501","errorText","startReason","articleAutoplay","templateName","isSubscriber","offsetTop","embedContext","promoType","medleyHash","wasUpcoming","autoplayBlocked","timeSinceDomContentLoaded","timeSincePowaRender","timeSincePromoClick","adHeaderBiddingProvider","irisRunTime","irisBidTime","irisTimeout"],ht=[];function wt(t){ht.push(t)}var mt=n.n(pt)()((function(){for(var t=[],e=0;ht.length>0&&e<10;e++){var n=ht.pop(),o=n.name,i=n.data;t.push({name:o,data:i})}var r;r={postBody:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="";return t.forEach((function(t){var n=t.name,o=t.data,i={sourcetype:"httpevent",event:{name:n,data:o}};o.evtTime&&(i.time=Math.floor(o.evtTime/1e3)),e+=JSON.stringify(i)})),e}(t)},fetch("https://d1get58iwmjrxx.cloudfront.net/collector",{method:"POST",body:r.postBody}).then((function(t){})).catch((function(t){console.error(t)})),ht.length&&mt()}),6e4,{maxWait:6e4}),yt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"send",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.timeSinceDomContentLoaded||(n.timeSinceDomContentLoaded=b()),n.pageType||(n.pageType=T()),void 0===n.timeSincePowaRender&&o.powaId&&(n.timeSincePowaRender=P({powaId:o.powaId,event:"powaRender"})),void 0===n._ga&&(n._ga=l("_ga")),!0===o.harvest&&(Object.assign(n,E()),o.videoJSON&&Object.assign(n,z(o.videoJSON)));var i=Object.assign({evtName:t,evtType:"string"==typeof e?e:e[0]||"",evtTime:Date.now()},c()(n,ft));wt({name:t,data:i}),mt()}}],null&&vt(e.prototype,null),n&&vt(e,n),t}();function gt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var bt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"send",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.pageType||(n.pageType=T()),!0===o.harvest&&(Object.assign(n,E()),o.videoJSON&&Object.assign(n,z(o.videoJSON))),window.dataLayer=window.dataLayer||[];var i={event:t,action:t,category:"video",label:St(n)},r=kt(n),a=Object.assign({},i,r);window.dataLayer.push(a)}}],null&&gt(e.prototype,null),n&&gt(e,n),t}();function kt(t){var e={avName:i()(t,"videoName"),avProducer:w(i()(t,"editors",null)),avCMS:i()(t,"videoCMS"),avHost:w(i()(t,"videoHost")),avSection:i()(t,"subsection"),avSecondarySections:w(i()(t,"secondarySections",null),{begin:1}),avSource:i()(t,"videoSource"),avPlayer:i()(t,"player","powa"),avPlayerType:i()(t,"playerType"),avLength:i()(t,"durationInSeconds"),avArcID:i()(t,"videoId"),avType:i()(t,"videoCategory"),avContributors:w(i()(t,"contributors",null)),avHostID:w(i()(t,"videoHost"),{prop:"slug"}),avContributorID:w(i()(t,"contributors",null),{prop:"slug"}),avTags:y(m(i()(t,"tags"),!0)),avDesk:null,avPublishDate:i()(t,"displayDate"),avKeywords:y(i()(t,"keywords")),adAttribute:i()(t,"rolledUpAdStatus"),avHeaderBidding:i()(t,"adHeaderBidding",!1),avTestGroup:Pt(t),avPromoType:i()(t,"promoType")};return t.avLiveProgress&&(e.avLiveProgress=t.avLiveProgress),e}var _t={continuous:"rollthrough",manual:"click",autoplay:"autoplay"},Tt={homepage:"homepage",leaf:"leaf","article page":"embed",graphics:"graphics",other:"embed",iframe:"iframe"};function St(t){var e=i()(t,"startReason",null),n=i()(t,"pageType",null);return i()(t,"isPreview2",null)?"autoplay-"+i()(Tt,n)+"-preroll":e&&n?i()(_t,e)+"-"+i()(Tt,n):i()(Tt,n)}function Pt(t){var e=["irisTest:".concat(i()(t,"irisTest")?1:0)],n="";return e.forEach((function(t){return n+=t+";"})),n}var xt={event125:{name:"video-promo-click",google:!0,timeMarker:"promoClick"},event6:{name:"video-social-share",google:!0},event9:{name:"video-start",google:!0,splunk:!0,timeMarker:"videoStart"},event10:{name:"video-25-complete",google:!0},event11:{name:"video-50-complete",google:!0},event12:{name:"video-75-complete",google:!0},event13:{name:"video-complete",google:!0},event34:{name:"ad-video-skip",google:!0,timeMarker:"adSkip"},event73:{name:"video-unmute",google:!0},event128:{name:"video-mute",google:!0},event136:{name:"video-pause",google:!0},event137:{name:"video-unpause",google:!0},event140:{name:"ad-video-pause",google:!0},event141:{name:"ad-video-unpause",google:!0},event166:{name:"fullscreen-engaged",google:!0},event75:{name:"video-autoplay",splunk:!0,google:!0}},At={event7:{name:"video-ad-start",google:!0,splunk:!0,timeMarker:"adStart"},event8:{name:"video-ad-complete",google:!0,timeMarker:"adEnd"},irisError:{name:"Iris Error",splunk:!0},irisBidError:{name:"Iris Bid Error",splunk:!0},irisTimeout:{name:"Iris Timeout",splunk:!0}};function It(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ot={name:"player-video-ready",splunk:!0,timeMarker:"powaRender"},Et=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event5_2";this.powa=e.powa,this.va=e.va;var o=S({powa:this.powa,event:"powaRender"});o?this.send(o.timestamp):this.powa.once("powaRender",(function(t){n.send()}))}var e,n;return e=t,(n=[{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime();this.va.send("event5_2",{config:Ot,time:t,trackerData:{timeSinceNavigationStart:g()}})}}])&&It(e.prototype,n),t}();function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var jt={name:"YT State",splunk:!0},Dt=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event400";this.powa=e.powa,this.el=this.powa.getElement(),this.va=e.va;var o=this.powa.getDataset(),r=this.powa.getVideoData();if(this.videoData=r,"live-bar"!==o.playerType){var a=!0===i()(window,"wp_meta_data.isHomepage")||"homepage"===i()(window,"Fusion.metas.contentType.value"),s=i()(window,"wpMetaData.subType")||i()(window,"Fusion.globalContent.subtype",""),u="live-all"===s||"highlights"===s,c="live"===r.video_type;(o.event400||(a||u)&&c)&&(this.intervalEndDate=Vt(r),this.interval=6e4,this.timePlayingBuffer=500,this.powa.on("previewClicked",(function(){return n.onInteraction()})),this.powa.on("promoPlay",(function(){return n.onInteraction()})),this.powa.on("time",(function(){return n.onTime()})),this.powa.on("destroyed",(function(){return n.teardown()})),this.powa.on("WapoYouTube_playerStateChange",(function(t){return n.onYtPlayerStateChange(t)})),"LiveBar"===o.playerType&&this.powa.on("muted",(function(t){return n.onMuted(t)})))}}var e,n;return e=t,(n=[{key:"onInteraction",value:function(){this.interacted=!0}},{key:"onMuted",value:function(t){!1===t.muted&&this.onInteraction()}},{key:"onTime",value:function(){var t=this;this.lastTimeUpdate=(new Date).getTime(),!this.pingInterval&&this.interacted&&(this.send(),this.pingInterval=window.setInterval((function(){if(document.getElementById(t.powa.getID())){var e=i()(window,"PoWaSettings.LiveConfig.videoData[".concat(t.uuid,"]"))||t.videoData;if("ended"!==i()(e,"status")){var n=Vt(e),o=new Date;n&&o>n?window.clearInterval(t.pingInterval):t.send()}else window.clearInterval(t.pingInterval)}else window.clearInterval(t.pingInterval)}),this.interval))}},{key:"send",value:function(){var t=this.powa.getStatus().state;this.va.send("event400",{config:jt,trackerData:{ytState:t,ytState2:this._getYTState2(t)}})}},{key:"_getYTState2",value:function(t){var e=(new Date).getTime();return"buffering"===t&&e-this.lastTimeUpdate<this.timePlayingBuffer?"playing":t}},{key:"teardown",value:function(){window.clearInterval(this.pingInterval),delete this.pingInterval}},{key:"onYtPlayerStateChange",value:function(t){"playing"===t.playerState&&(this.onInteraction(),this.onTime())}}])&&Ct(e.prototype,n),t}();function Vt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i()(t,"additional_properties.publicationEndDate");if(e){var n=new Date(e);if(i()(t,"additional_properties.streamName","").startsWith("washpostlive"))try{n.setMinutes(n.getMinutes()-30)}catch(t){}return n}return null}function Mt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Lt={event500:{name:"Player Waiting"},event501:{name:"Player Waiting End",splunk:!0,timeMarker:!0},event9999_01:{name:"Video Timeout",splunk:!0}},Bt=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event500";this.powa=e.powa,this.va=e.va,this.debug=e.va.debug,this.interval=2e3,this.maxRuns=8,this.sentOnPlayback=!1,this.sentOnTimeout=!1,this.powa.on("start",(function(t){return n.onStart(t)})),this.powa.on("adStart",(function(t){return n.onAdStart(t)})),this.powa.on("firstFrame",(function(t){return n.onFirstFrame(t)})),this.powa.on("time",(function(t){return n.onTime(t)})),this.powa.on("end",(function(t){return n.onEnd(t)})),this.powa.on("destroyed",(function(t){return n.onEnd(t)})),this.onTimeout=e.onTimeout||function(){}}var e,n;return e=t,(n=[{key:"onStart",value:function(){var t=this;this.pingInterval&&window.clearInterval(this.pingInterval),this.pingCount=0,this.sentOnPlayback=!1,this.sentOnTimeout=!1,this.pingInterval=window.setInterval((function(){t.pingCount++,t.send("event500"),t.pingCount>=t.maxRuns&&t._onTimeout()}),this.interval)}},{key:"onAdStart",value:function(t){this._onPlayback(t)}},{key:"onFirstFrame",value:function(t){this._onPlayback(t)}},{key:"onTime",value:function(t){this._onPlayback(t)}},{key:"onEnd",value:function(t){window.clearInterval(this.pingInterval)}},{key:"_onPlayback",value:function(t){this.sentOnPlayback||(window.clearInterval(this.pingInterval),this.send("event501",{event501:"firstPicture",firstPictureReason:i()(t,"type","")}),this.sentOnPlayback=!0)}},{key:"_onTimeout",value:function(){if(!this.sentOnTimeout){window.clearInterval(this.pingInterval);var t=this.powa.getStatus()||{},e="autoplayBlocked"===i()(t,"autoplayStatus","");this.send("event501",{event501:"timeout",autoplayBlocked:e}),this.sentOnTimeout=!0,this.send("event9999_01")}}},{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lt[t];e.pingCount=this.pingCount,!0===n.timeMarker&&(n.timeMarker=e.event501),this.va.send(t,{config:n,trackerData:e})}}])&&Mt(e.prototype,n),t}();function Nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Wt={name:"Setup error",splunk:!0},Rt=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event9994";this.powa=e.powa,this.va=e.va,this.powa.on("powaError",(function(t){n.send(t)}))}var e,n;return e=t,(n=[{key:"send",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i()(t,"error.error")||i()(t,"error.message")||i()(t,"message");this.va.send("event9994",{config:Wt,trackerData:{errorText:e}})}}])&&Nt(e.prototype,n),t}();function Ft(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Ht={event9996:{name:"Video Ad Error",splunk:!0}},Ut=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event9996";this.powa=e.powa,this.va=e.va,this.powa.on("adError",(function(t){n.send("event9996",t)}))}var e,n;return e=t,(n=[{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s(e.adMeta)){var n=Ht[t];this.va.send(t,{config:n,trackerData:{errorText:e.error,prerollAdError:e.error}})}}}])&&Ft(e.prototype,n),t}();function qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var $t={event9991_04:{name:"Non-blocking error"},event9999:{name:"Video Error",splunk:!0},event9999_preload:{name:"Video Error before start"},event9999_deluge:{name:"Video Error deluge"}},zt=["details","code","mediaError","fatal","type","stream","time"],Yt=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup event400";this.powa=e.powa,this.va=e.va;var n=this.powa.getID();this.powaTrack=window.powas[n].powaTrack,this.deluge=50,this.errorCount=0,this.powa.on("start",this.onStart.bind(this)),this.powa.on("error",this.onError.bind(this))}var e,n;return e=t,(n=[{key:"onStart",value:function(t){this.started=!0}},{key:"onError",value:function(t){t.nonBlocking?this.send("event9991_04",t):this.started?(this.errorCount++,this.errorCount>this.deluge?this.send("event9999_deluge",t):this.send("event9999",t)):this.send("event9999_preload",t)}},{key:"send",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=c()(n,zt);try{e=this.powa.getElement().querySelector("video.powa-video").error.message}catch(t){}var i=$t[t];this.va.send(t,{config:i,trackerData:{errorText:JSON.stringify(o),errorMessage:e,errorType:o.type,errorDetails:o.type}})}}])&&qt(e.prototype,n),t}();function Jt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Zt={name:"powa-impression",google:!0},Gt=function(){function t(e){var n=this,o=e.powa,i=e.va;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!o||!i)throw"Invalid settings to setup event5_3";this.powa=o,this.va=i,this.isSent=!1;var r=this.powa.getDataset();!0===r.autoplay?(this.powa.once("start",(function(t){return n.send()})),this.powa.once("powaReady",(function(t){"autoplayBlocked"===n.powa.getStatus().autoplayStatus&&n.send("manual")}))):!0===r.viewportAutoplay?(this.powa.once("start",(function(t){return n.send()})),this.powa.once("ViewportAutoplay-blocked",(function(t){return n.send("manual")}))):!0===r.preview2?(this.powa.once("preview2-autoplay",(function(t){return n.send()})),this.powa.once("preview2-autoplay-blocked",(function(t){return n.send("manual")}))):this.send("manual")}var e,n;return e=t,(n=[{key:"send",value:function(t){this.isSent||(this.va.send("event5_3",{config:Zt,trackerData:t?{startReason:t}:{},time:(new Date).getTime()}),this.isSent=!0)}}])&&Jt(e.prototype,n),t}();function Qt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var Kt={name:"live-video-threshold",google:!0},Xt=3e5,te=function(t){var e=t.getStatus(),n=t.getVideoData();return!!document.getElementById(t.getID())&&!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i()(t,"additional_properties.publicationEndDate");if(e)try{var n=new Date,o=new Date(e);if(o.setHours(o.getHours()+1),n>o)return!0}catch(t){console.debug(t)}}(n)&&("playing"===e.state&&!1===e.muted||"adPlaying"===e.state&&!1===e.muted)},ee=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e.powa||!e.va)throw"Invalid settings to setup liveVideoThreshold";this.powa=e.powa,this.el=this.powa.getElement(),this.va=e.va,"live"===this.powa.getVideoData().video_type&&(this.interval=Xt,this.onTime=this.onTime.bind(this),this.powa.on("time",this.onTime))}var e,n;return e=t,(n=[{key:"onInteraction",value:function(){this.interacted=!0}},{key:"onTime",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.pingInterval&&"playing"===e.state&&!1===e.muted){var n=e.powa;this.startTime=new Date,this.powa.off("time",this.onTime),this.pingInterval=setInterval((function(){if(te(n)){var e=new Date-t.startTime,o=Math.floor(e/6e4);t.send({avLiveProgress:o})}}),this.interval)}}},{key:"send",value:function(t){var e=t.avLiveProgress;this.va.send("live-video-threshold",{config:Kt,trackerData:{avLiveProgress:e}})}},{key:"teardown",value:function(){window.clearInterval(this.pingInterval),delete this.pingInterval}}])&&Qt(e.prototype,n),t}();function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var ie={},re=[0,25,50,75,100],ae=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ne(this,t),!e||!n.data&&!n.powaId)throw"missing required stuff";this.events=Object.assign({},xt,At),this.data=n.data,this.options=Object.assign({},ie,n),this.userClickedToPlay=!1,this.debug=window.location.search.includes("vaDebug=true"),this.initTimeIntervals(),this.playCounter=0,this.firstPlay=!0,this.timeMarkers={},this.trackLiveTime=this.trackLiveTime.bind(this),n.powa?this.powa=n.powa:n.powaId&&window.powas&&window.powas[n.powaId]&&(this.powa=window.powas[n.powaId].powa),this.powa&&(this.data=this.powa.getVideoData(),this.powaVersionCheck()),v()&&this.loadTrackingScripts(),this.harvest=Object.assign(E(),z(this.data),j(this.powa),(this.powa,{})),this.powa&&this.initListeners()}var e,n;return e=t,(n=[{key:"loadTrackingScripts",value:function(){dt.load()}},{key:"registerPoWa",value:function(t){this.powa?console.warn("Calling registerPoWa() but you already have a powa"):(this.powaVersionCheck(),this.powa=window.powas[t].powa,this.data=this.powa.getVideoData(),Object.assign(this.harvest,z(this.data),j(this.powa),(this.powa,{})),this.initListeners())}},{key:"scanPowa",value:function(){this.data=this.powa.getVideoData(),Object.assign(this.harvest,z(this.data),j(this.powa))}},{key:"scanPerformance",value:function(){Object.assign(this.harvest,(this.powa,{}))}},{key:"send",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.debug&&console.debug("VA send()",t),!t)throw"no event";var n=t.split(",")[0],o=e.config||this.events[n];if(!o)return!1;var i=e.time?X(this.timeMarkers,e.time):X(this.timeMarkers),r=q(this.powa),s=C(),u=tt.call(this),c=Object.assign({},this.harvest,i,u,r,s,e.trackerData,a(e.adMeta)||{}),l=at(c);c=Object.assign({},c,l),o.timeMarker&&(e.time?this.setTimeMarker(o.timeMarker,e.time):this.setTimeMarker(o.timeMarker)),Object.keys(c).forEach((function(t,e){t.startsWith("_")&&delete c[t]})),o.splunk&&yt.send(o.name,n,c),o.google&&bt.send(o.name,t,c)}},{key:"sendAdEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s(e.adMeta)){var n=this.powa.getElement();e=Object.assign(e,{trackerData:{isInViewport:h(n),isSticky:N(n)}}),this.send(t,e)}}},{key:"initFlags",value:function(){this.userPaused=!1,this.userPausedAd=!1,delete this.adEndVisibilityState}},{key:"initTimeIntervals",value:function(){this.timeIntervals=re.slice()}},{key:"setTimeMarker",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();if(!t)throw"name required for time marker";this.debug&&console.debug("VA setTimeMarker()",t),this.timeMarkers[t]=e}},{key:"unsetTimeMarkers",value:function(){this.timeMarkers={}}},{key:"trackLiveTime",value:function(t){"live-bar"!==this.powa.getDataset().playerType&&(!this.userClickedToPlay&&this.powa.getStatus().muted&&!0!==t.fullscreen||(this.send("event9"),this.powa.off("time",this.trackLiveTime)))}},{key:"trackFullscreen",value:function(t){t.fullscreen&&this.send("event166")}},{key:"trackPause",value:function(t){var e=this.powa.getStatus().time,n=this.powa.getStatus().duration;!this.userPaused&&e&&e>0&&n&&n!=e&&(this.send("event136"),this.userPaused=!0)}},{key:"trackAdPause",value:function(t){this.userPausedAd||(this.send("event140"),this.userPausedAd=!0)}},{key:"trackUnpause",value:function(t){this.userPaused&&(this.send("event137"),this.userPaused=!1)}},{key:"trackAdUnpause",value:function(t){this.userPausedAd&&(this.send("event141"),this.userPausedAd=!1)}},{key:"trackMute",value:function(t){t.muted?this.send("event128"):this.send("event73")}},{key:"trackAutoplay",value:function(t){var e=this.powa.getDataset();"live-bar"!==e.playerType&&(!e.autoplay||this.userClickedToPlay||this.firedAutoplay||(this.firedAutoplay=!0,this.send("event75")),"preview2-autoplay"!==t.type||this.firedAutoplay||(this.firedAutoplay=!0,this.send("event75")))}},{key:"initListeners",value:function(){if(!this.listenersDone){this.listenersDone=!0;var t=this.powa.getDataset();1==t.prerollOnly?this.prerollPluginListeners():(this.powaListeners(),"inline-player-playlist"===t.playerType&&this.inlinePlayerPlaylistListeners())}}},{key:"prerollPluginListeners",value:function(){var t=this;this.powa.on("adStart",(function(e){return t.sendAdEvent("event7",{adMeta:e.adMeta})})),this.powa.on("adComplete",(function(e){return t.sendAdEvent("event8",{adMeta:e.adMeta})})),this.powa.on("adSkip",(function(e){return t.send("event34",{adMeta:e.adMeta})}))}},{key:"powaListeners",value:function(){var t=this,e=this.powa,n=this.powa.getDataset(),o=this;new Et({powa:e,va:o}),new Gt({powa:e,va:o}),this.powa.on("promoPlay",(function(e){t.userClickedToPlay=!0,t.send("event125")})),this.powa.on("fullscreen",this.trackFullscreen.bind(this)),this.powa.on("nextClick",(function(e){return t.nextClick=!0})),this.powa.on("prevClick",(function(e){return t.prevClick=!0})),this.powa.on("adStart",(function(e){return t.sendAdEvent("event7",{adMeta:e.adMeta})})),this.powa.on("adComplete",(function(e){return t.sendAdEvent("event8",{adMeta:e.adMeta})})),this.powa.on("adSkip",(function(e){return t.send("event34",{adMeta:e.adMeta})})),this.powa.on("adEnd",(function(e){return t.adEndVisibilityState=document.visibilityState})),this.powa.on("complete",this.initTimeIntervals.bind(this)),this.powa.on("muted",this.trackMute.bind(this)),this.powa.on("pause",this.trackPause.bind(this)),this.powa.on("play",this.trackUnpause.bind(this)),this.powa.on("adPause",this.trackAdPause.bind(this)),this.powa.on("adPlay",this.trackAdUnpause.bind(this)),this.powa.on("shareFacebook",(function(e){return t.send("event6")})),this.powa.on("shareTwitter",(function(e){return t.send("event6")})),this.powa.on("shareEmail",(function(e){return t.send("event6")})),this.powa.on("upNextDismissed",(function(e){return t.send("event168")})),this.powa.on("start",(function(e){t.scanPowa(),t.initFlags.bind(t),t.trackAutoplay.call(t,e),t.playCounter=!0===t.firstPlay?0:t.playCounter+1,t.firstPlay=!1,t.setTimeMarker("playerStart")})),this.powa.on("preview2-autoplay",(function(e){t.trackAutoplay.call(t,e)})),this.powa.on("loaded",(function(){t.scanPowa()})),this.powa.on("playlistLoaded",(function(e){t.scanPerformance()})),"live"===this.powa.getVideoData().video_type?this.powa.on("time",this.trackLiveTime):n.loopingVideo?this.powa.once("firstFrame",(function(e){return t.send("event9")})):n.continuousPlay||n.loop?(this.powa.once("firstFrame",(function(e){return t.send("event9")})),this.powa.once("playback25",(function(e){return t.send("event10")})),this.powa.once("playback50",(function(e){return t.send("event11")})),this.powa.once("playback75",(function(e){return t.send("event12")})),this.powa.once("playback100",(function(e){return t.send("event13")}))):(this.powa.on("firstFrame",(function(e){return t.send("event9")})),this.powa.on("playback25",(function(e){return t.send("event10")})),this.powa.on("playback50",(function(e){return t.send("event11")})),this.powa.on("playback75",(function(e){return t.send("event12")})),this.powa.on("playback100",(function(e){return t.send("event13")}))),this.powa.on("irisError",(function(){return t.send("irisError")})),this.powa.on("irisBidError",(function(){return t.send("irisBidError")})),this.powa.on("irisTimeout",(function(){return t.send("irisTimeout")})),new Dt({powa:e,va:o}),new Bt({powa:e,va:o}),new Yt({powa:e,va:o}),new Ut({powa:e,va:o}),new Rt({powa:e,va:o}),new ee({powa:e,va:o})}},{key:"inlinePlayerPlaylistListeners",value:function(){var t=this;window.wp_pb.register("video","pagePlaylistItemClicked",(function(e){t.scanPowa(),t.userClickedToPlay=!0,t.send("event125")}))}},{key:"powaVersionCheck",value:function(){var t=i()(window,"PoWa.VERSION",""),e=parseInt(t.split(".")[0]);(!e||e<3)&&console.warn("VA Minimum of PoWa3 required")}}])&&oe(e.prototype,n),t}(),se={};window.VideoAnalytics=window.VideoAnalytics||{version:"1.16.5",build:"8f082f0",init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return se[t]?e.powaId&&se[t].registerPoWa(e.powaId):se[t]=new ae(t,e),se[t]},static:{sendToNewRelic:e(),sendToOmniture:e(),sendToGoogle:bt.send,sendToSplunk:yt.send}}}()}();
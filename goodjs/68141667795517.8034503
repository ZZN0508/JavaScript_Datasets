(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1022:function(e,t,a){"use strict";var n=a(19),c=a.n(n),r=a(8),i=a.n(r),o=a(10),s=a.n(o),u=a(13),l=a.n(u),d=a(81),E=a.n(d),n=a(25),f=a.n(n),r=a(26),p=a.n(r),o=a(17),g=a.n(o),O=a(134),u=a(48),d=a(1068),v=a(876),n=a(2),y=a.n(n),r=a(0),S=a.n(r),o=a(21),b=a.n(o),n=a(80),h=a.n(n),m=a(7),I=a(792),r=a(4),T=a(1090),P=a(976),_=a(43),N=a(24);function R(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function L(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(Object(a),!0).forEach(function(e){i()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function k(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return M&&e.charAt(0)===M?e.slice(1):e}var o=r.a.configuration.PNL_CONFIG,n=void 0===o?{}:o,o=n.PNL_FLOW_V2,o=(o=void 0===o?{}:o).FB_FLOW_V2_MIGRATION_ENABLED,C=void 0!==o&&o,o=n.COUNTRY_CODE,w=void 0===o?91:o,M=n.TRUNK_NUMBER,D={getOTPCode:function(){return{remote:(a=y()(S.a.mark(function e(t,a){var n,r,i,o,s,u,c,l,d;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.OTPUserType,r=a.mode,i=t[n],o=t.fbMigrationStatus,s=m.a.getDeviceID(),e.next=5,m.a.getUserToken();case 5:if(c=e.sent,l=m.a.getUUID(),d="phone_".concat(r),u={userIdentity:c,deviceId:s,uuid:l},c=n===I.b.EMAIL?{email:i,device_meta:{device_name:N.a.getDeviceName()}}:{phone_number:k(i),country_prefix:"".concat(w),device_meta:{device_name:N.a.getDeviceName()}},l={payload:c,infoPayload:{},device_meta:{device_name:N.a.getDeviceName()}},d={registerBy:d,updateInfo:!1,isGdprCountry:_.a.isGdprCountry()},C&&o===I.a.PHONE_NOT_LINKED)return u.userIdentity=a.userIdentity,d={verifyBy:"phone_otp",source:"phone_migration"},e.abrupt("return",b.a.restCall("verifyUser",u,c,d));e.next=16;break;case 16:return e.abrupt("return",b.a.restCall("signup",u,l,d));case 17:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),local:function(){return null},success:v.a.getOTPCallback,error:v.a.getOTPCallback};var a},submitOTPCode:function(){return{remote:(a=y()(S.a.mark(function e(t,a){var n,r,i,o,s,u,c,l,d,E,f,p;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.OTPUserType,r=a.mode,i=a.fbId,o=t[n],s=t.otp,u=t.fbMigrationStatus,c=m.a.getDeviceID(),l={device_meta:{device_name:N.a.getDeviceName()}},e.next=6,m.a.getUserToken();case 6:if(e.t0=e.sent,e.t1=c,e.t2=m.a.generateUUID(),d={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},E=n===I.b.EMAIL?L({email:o,verification_code:s},l):L({phone_number:k(o),verification_code:s},l),C&&u===I.a.PHONE_LINKED&&i&&(E=L({facebook_id:i,verification_code:s},l)),f="phone_".concat(r),f={loginBy:f},C&&u===I.a.PHONE_NOT_LINKED)return d.userIdentity=a.userIdentity,f={source:"phone_migration"},p={phone_login_info:{phone_number:o,verification_code:s}},e.abrupt("return",b.a.restCall("updateUserInfo",d,p,f));e.next=19;break;case 19:return e.next=21,b.a.restCall("login",d,E,f);case 21:return p=e.sent,e.abrupt("return",Promise.resolve(p));case 23:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),local:function(){return null},success:v.a.submitOTPCallback,error:v.a.submitOTPCallback};var a},updateInfo:function(){return{remote:function(e,t){var a={deviceId:m.a.getDeviceID(),uuid:m.a.generateUUID(),userIdentity:t.userIdentity},t={age:t.age,gender:t.gender,first_name:t.fname,last_name:t.lname};return b.a.restCall("updateUserInfo",a,t,{tamperedTokenRedirect:!0})},local:function(){return null},success:v.a.updateProfileCallback,error:v.a.updateProfileCallback}},checkEmailExist:function(){return{remote:(t=y()(S.a.mark(function e(t){var a,n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=I.b.EMAIL,a=m.a.getDeviceID(),n={id:n,type:r.toUpperCase()},e.next=6,m.a.getUserToken();case 6:return e.t0=e.sent,e.t1=a,e.t2=m.a.generateUUID(),r={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},e.abrupt("return",b.a.restCall("getLoginMethods",r,n));case 11:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),local:function(){return null},success:v.a.emailExistCallback,error:v.a.emailExistCallback};var t},loginFB:function(){return{remote:(a=y()(S.a.mark(function e(t,a){var n,r,i,o,s,u;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.a.getDeviceID(),r=a.fbId,i=a.token,e.next=4,m.a.getUserToken();case 4:return e.t0=e.sent,e.t1=n,e.t2=m.a.generateUUID(),o={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},s=L(L({facebook_id:r,token:i},C?{phone_migration_enabled:!0}:{}),{},{device_meta:{device_name:N.a.getDeviceName()}}),u={loginBy:"facebook"},e.abrupt("return",b.a.restCall("login",o,s,u));case 12:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)}),local:function(){return null},success:v.a.FBLoginCallback,error:v.a.FBLoginCallback};var a},loginEmail:function(){return{remote:(t=y()(S.a.mark(function e(t){var a,n,r,i,o,s,u,c;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=m.a.getDeviceID(),e.next=4,m.a.getUserToken();case 4:return e.t0=e.sent,e.t1=r,e.t2=m.a.generateUUID(),i={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},o={email:a,password:n,device_meta:{device_name:N.a.getDeviceName()}},s=I.b.EMAIL,s={loginBy:s},e.next=13,b.a.restCall("login",i,o,s);case 13:if(u=e.sent,c=h()(u,"description.userIdentity",""),Object(P.a)(c))return e.next=18,Object(T.a)(c);e.next=21;break;case 18:e.t3=e.sent,e.next=22;break;case 21:e.t3=!1;case 22:return c=e.t3,e.abrupt("return",Promise.resolve(L(L({},u),{},{blockEmailLogin:c})));case 24:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),local:function(){return null},success:v.a.emailLoginCallback,error:v.a.emailLoginCallback};var t},signupByEmail:function(){return{remote:(t=y()(S.a.mark(function e(t){var a,n,r,i,o,s,u;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.getUserToken();case 2:return o=e.sent,s=m.a.getDeviceID(),n=m.a.getUUID(),a={userIdentity:o,deviceId:s,uuid:n},r=t.email,i=t.password,u=t.usertype,o=t.name,s=t.age,n=void 0===s?"":s,s=t.gender,s=void 0===s?"":s,r={email:r,password:i},i=o.split(" "),o=c()(i,2),i=o[0],i=void 0===i?"hotstar":i,o=o[1],s={first_name:i,age:n,gender:s},(o=void 0===o?"":o)&&(s.last_name=o),s={payload:r,infoPayload:s,device_meta:{device_name:N.a.getDeviceName()}},u={registerBy:u,updateInfo:!0,isGdprCountry:_.a.isGdprCountry()},e.next=15,b.a.restCall("signup",a,s,u);case 15:return u=e.sent,e.abrupt("return",u);case 17:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),local:function(){return null},success:v.a.signupByEmailSuccess,error:v.a.signupByEmailFailure};var t},sendResetPasswordEmail:function(){return{remote:(t=y()(S.a.mark(function e(t){var a,n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a={email:n},e.next=4,m.a.getUserToken();case 4:return e.t0=e.sent,e.t1=m.a.getDeviceID(),e.t2=m.a.generateUUID(),n={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},e.abrupt("return",b.a.restCall("forgotPassword",n,a));case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),local:function(){return null},success:v.a.sendResetPasswordEmailSuccess,error:v.a.sendResetPasswordEmailFail};var t}},A=a(14),U=a(23),n=a(1103),F=a.n(n),B=a(27),G=a(252),H=a(1);function x(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function j(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach(function(e){i()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var a=r.a.configuration.PNL_CONFIG,r=(void 0===a?{}:a).PNL_FLOW_V2,a=(r=void 0===r?{}:r).SHOW_LOGIN_HOME,V=void 0!==a&&a,a=r.EMAIL_FLOW_V2_ENABLED,K=void 0!==a&&a,r=r.FB_FLOW_V2_MIGRATION_ENABLED,W=void 0!==r&&r,r=H.f.USER_TYPES,Y=r.OLD_USER,J=r.NEW_USER;function q(n){return function(e){var t,a={};for(t in e)n(e[t],t)&&(a[t]=e[t]);return a}}var z=q(function(e){return e}),Q=q(function(e,t){return I.g.includes(t)&&e}),d=function(e){f()(i,e);var a,n,r=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=g()(a);return t=n?(e=g()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),p()(this,t)});function i(){var d;s()(this,i);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(d=r.call.apply(r,[this].concat(t))).getOTPCallback=function(e){var t=e.errorMessageV3,a=e.description,n=(a=void 0===a?{}:a).phone,r=e.httpStatus,a=e.errorCode,e=null;200===r||201===r?(e="Success",d.setState({dialogState:H.c.NONE,maskedPhone:n,viewType:I.e.OTP_ENTER})):(e="Submit Failed",a=d.buildErrorMessage(t,a),d.setState({dialogState:H.c.ERROR,errorMessage:a})),0<d.state.resendOTPTries?B.a.fireResendOTPEvent({noOfTries:d.state.resendOTPTries,otpType:"otp"===d.data.mode?"SMS":"Call"}):B.a.fireSubmittedPhoneNumberEvent({pageTitle:"Enter Phone Number",response:e})},d.submitOTPCallback=function(e){var t,a,n,r=e.httpStatus,i=e.description,o=(i=void 0===i?{}:i).userIdentity,s=e.errorCode,u=e.errorMessageV3,c=null,c=201===r||200===r?(d.userType=200===r?Y:J,e=(i=void 0===(i=(t=A.a.getSubsDataFromJwt(o)).sub)?{}:i).extAuthId,i=!t.name&&!e,e=d.data.fbId&&!e,a=i?I.e.PROFILE_ENTER:I.e.SUCCESSFUL_DISPLAY,n=201===r,d.data.userIdentity=o,d.setState(function(){return j(j({},Q(t)),{},{dialogState:H.c.NONE,isSignup:n,viewType:a})},d.finishLogin),i||e&&(W||d.updateProfileWithFB()),"Success"):(s=d.buildErrorMessage(u,s),d.setState({dialogState:H.c.ERROR,errorMessage:s}),401===r?"Invalid":"Submit Failed");B.a.fireSubmittedOTPEvent({otpType:"otp"===d.data.mode?"SMS":"Call",pageTitle:"Enter OTP",response:c})},d.finishLogin=function(){var e=d.state,t=e.email,a=e.age,n=e.gender,r=e.dateOfBirth,i=d.data,o=i.fbId,e=i.fbToken,s={description:{userIdentity:i.userIdentity},facebookObj:{deviceId:m.a.getDeviceID(),fbId:o,emailId:t,isProfileRequired:!1,token:e,dateOfBirth:r,age:a,gender:m.a.getGender(n)},isPNL:!(window&&window.location&&window.location.href&&/returnURL/g.test(window.location.href)),userType:d.userType};d.userType===J?setTimeout(function(){return U.a.signupSuccess(s)},0):setTimeout(function(){return U.a.loginSuccess(s)},0)},d.emailProfileUpdate=function(e){var t=I.e.PROFILE_ENTER;d.setState(function(){return{dialogState:H.c.NONE,isSignup:!0,viewType:t,usertype:e}},d.finishLogin)},d.updateProfileCallback=function(e){var t=e.httpStatus,a=e.description,n=(a=void 0===a?{}:a).userIdentity,r=e.errorCode,a=e.errorMessageV3,e=null;200===t||201===t?(e="Success",t=A.a.getSubsDataFromJwt(n),d.data.userIdentity=n,d.setState(j(j({},Q(t)),{},{dialogState:H.c.NONE,viewType:I.e.SUCCESSFUL_DISPLAY}))):(e="Submit Failed",r=d.buildErrorMessage(a,r),d.setState({dialogState:H.c.ERROR,errorMessage:r})),B.a.fireSubmittedAboutYouEvent({enteredValueName:d.data.fname,enteredValueAge:d.data.age,enteredValueGender:d.data.gender,pageTitle:"About You",response:e,userType:d.userType})},d.emailExistCallback=function(e){var t=e.description,a=(t=void 0===t?{}:t).exists,n=t.usertype,r=e.errorCode,t=e.errorMessageV3,e="Success";!1===a?K?d.setState({dialogState:H.c.NONE,isSignup:!0,viewType:I.e.EMAIL_LOGIN}):d.setState({dialogState:H.c.NONE,isSignup:!0,viewType:I.e.PHONE_ENTER}):n===I.b.PHONE?(d.data.OTPUserType=I.b.EMAIL,d.getOTPCodeViaMsg()):n===I.b.EMAIL||n===I.b.MERGED?d.setState({dialogState:H.c.NONE,usertype:n,viewType:I.e.EMAIL_LOGIN}):n===I.b.FB?d.setState({dialogState:H.c.NONE,usertype:n,viewType:I.e.FB_LOGIN}):(e="Submit Failed",r=d.buildErrorMessage(t,r),d.setState({dialogState:H.c.ERROR,errorMessage:r})),B.a.fireSubmittedEmailEvent({enteredEmail:d.state.email,pageTitle:"Alternate Login Methods",response:e})},d.FBLoginCallback=function(e){var t,a,n,r=e.httpStatus,i=e.description,o=(i=void 0===i?{}:i).userIdentity,s=e.errorCode,u=e.errorMessageV3,c=e.status,l=e.phone,i=null,e=I.e.PHONE_ENTER;W?(n=!1,200===r?(i="Success",d.userType=Y,d.data.userIdentity=o,c===I.a.PHONE_LINKED?(a=c,e=I.e.OTP_ENTER):c===I.a.PHONE_NOT_LINKED&&(a=c,n=!0,e=I.e.PHONE_ENTER)):406===r?(a=I.a.FACEBOOK_USER_CREATION_NOT_ALLOWED,i="Success",n=!0,e=I.e.PHONE_ENTER,d.userType=J,d.resetFbToken()):(i="Submit Failed",t=d.buildErrorMessage(u,s),V&&(e=I.e.LOGIN_HOME)),d.setState(j(j(j({isSignup:n,dialogState:(n="Success"===i)?H.c.NONE:H.c.ERROR,viewType:e,phone:""},l?{maskedPhone:l}:{}),{},{fbMigrationStatus:a},n?{errorMessage:t}:{}),t?{errorMessage:t}:{}))):200===r||201===r?(i="Success",d.userType=Y,n=A.a.getSubsDataFromJwt(o),d.data.userIdentity=o,d.setState(j(j({},Q(n)),{},{dialogState:H.c.NONE,usertype:I.b.FB,viewType:I.e.SUCCESSFUL_DISPLAY,phone:""}),d.finishLogin)):406===r?(i="Success",d.userType=J,d.data.userIdentity=o,d.setState({isSignup:!0,dialogState:H.c.NONE,viewType:I.e.PHONE_ENTER,phone:""})):(i="Submit Failed",t=d.buildErrorMessage(u,s),d.setState({dialogState:H.c.ERROR,errorMessage:t})),B.a.fireSubmittedFacebookEvent({enteredEmail:d.state.email,pageTitle:"Alternate Login Methods",response:i})},d.shouldOverrideLoginViewState=function(e){var t={};return e&&(t.viewType=I.e.LOGIN_BLOCKER),t},d.emailLoginCallback=function(e){var t=e.httpStatus,a=e.description,n=(a=void 0===a?{}:a).userIdentity,r=e.errorCode,i=e.errorMessageV3,a=e.blockEmailLogin,e=null;201===t||200===t?(e="Success",d.userType=200===t?Y:J,t=A.a.getSubsDataFromJwt(n),a=d.shouldOverrideLoginViewState(a),d.data.userIdentity=n,d.setState(j(j({},Q(t)),{},{dialogState:H.c.NONE,viewType:I.e.SUCCESSFUL_DISPLAY,phone:"",userIdentity:n},a),d.finishLogin)):(i=d.buildErrorMessage(i,r),d.setState({dialogState:H.c.ERROR,errorMessage:i}),e=F.a[r]&&F.a[r].analyticsTitle||"Submit Failed"),B.a.fireSubmittedPasswordEvent({enteredEmail:d.state.email,pageTitle:"Enter Password",response:e})},d.sendResetPasswordEmailSuccess=function(e){e.success?(d.setState({dialogState:H.c.NONE,viewType:I.e.RESET_PASSWORD_SENT}),B.a.fireResetPasswordEvent({enteredEmail:d.state.email,pageTitle:"Forgot Password",response:"Success",source:"Forgot Password"})):d.sendResetPasswordEmailFail(e)},d.sendResetPasswordEmailFail=function(e){var t=e.errorMessageV3,e=e.errorCode,t=d.buildErrorMessage(t,e);d.setState({dialogState:H.c.ERROR,errorMessage:t}),B.a.fireResetPasswordEvent({enteredEmail:d.state.email,pageTitle:"Forgot Password",response:"ERR_UM_020"===e?"Invalid Email":"Submit Failed",source:"Forgot Password"})},O.canUseDOM&&(window.strUtils=A.a,window.PNLStore=E()(d)),d.state=I.d,V&&(d.state.viewType=I.e.LOGIN_HOME),d.data=I.c,d.bindActions(v.a),d.exportAsync(D),d}return l()(i,[{key:"setPhone",value:function(e){this.setState({phone:e})}},{key:"setEmail",value:function(e){this.setState({email:e})}},{key:"setPassword",value:function(e){this.setState({password:e})}},{key:"setOTP",value:function(e){this.setState({otp:e})}},{key:"setName",value:function(e){this.setState({name:e})}},{key:"setAge",value:function(e){this.setState({age:e})}},{key:"setGender",value:function(e){this.setState({gender:e})}},{key:"setViewType",value:function(e){this.setState({viewType:e})}},{key:"goBack",value:function(){var e=this.state,t=e.viewType,a=e.isSignup,n=e.email,r=e.usertype,e=e.fbMigrationStatus,i=void 0===e?"":e,o=this.data.fbId,s=t,u=r,c=a,l=!1;switch(t){case I.e.PHONE_ENTER:c=!1,V?(s=I.e.LOGIN_HOME,l=!0,this.resetFbToken()):s=a&&o?I.e.FB_LOGIN:I.e.EMAIL_CHECK;break;case I.e.EMAIL_CHECK:V?(s=I.e.LOGIN_HOME,this.resetFbToken()):s=I.e.PHONE_ENTER;break;case I.e.OTP_ENTER:i===I.a.PHONE_LINKED?(s=V?I.e.LOGIN_HOME:I.e.PHONE_ENTER,c=!(l=!0),this.resetFbToken()):s=this.data.OTPUserType===I.b.EMAIL?I.e.EMAIL_CHECK:I.e.PHONE_ENTER,this.data.OTPUserType=I.b.PHONE;break;case I.e.EMAIL_LOGIN:u=I.b.PHONE,s=I.e.EMAIL_CHECK;break;case I.e.PROFILE_ENTER:n||o||(c=!1),s=K&&u===I.b.EMAIL?I.e.EMAIL_LOGIN:I.e.OTP_ENTER;break;case I.e.RESET_PASSWORD_ENTER:s=I.e.EMAIL_LOGIN;break;case I.e.FB_LOGIN:u=I.b.PHONE,s=I.e.EMAIL_CHECK;break;case I.e.RESET_PASSWORD_SENT:s=I.e.RESET_PASSWORD_ENTER}this.setState(j({dialogState:H.c.NONE,isSignup:c,viewType:s,usertype:u},l?{fbMigrationStatus:""}:{}))}},{key:"resendOTPCodeViaMsg",value:function(){this.setState(function(e){return{resendOTPTries:e.resendOTPTries+1}});var e,t,a=this.state.fbMigrationStatus;W?(e=(t=this.data).fbId,t=t.fbToken,a===I.a.PHONE_LINKED?this.getInstance().loginFB({fbId:e,token:t}):this.getOTPCodeViaMsg()):this.getOTPCodeViaMsg()}},{key:"getOTPCodeViaMsg",value:function(){return this.data.mode="otp",this.getOTPCode()}},{key:"resendOTPCodeViaCall",value:function(){this.getOTPCodeViaCall()}},{key:"getOTPCodeViaCall",value:function(){return this.data.mode="ivr",this.getOTPCode()}},{key:"getOTPCode",value:function(){return this.setState({dialogState:H.c.GET_OTP_LOADING}),this.getInstance().getOTPCode(this.data)}},{key:"submitOTPCode",value:function(){this.setState({dialogState:H.c.PRIMARY_LOADING}),this.getInstance().submitOTPCode(this.data)}},{key:"updateProfileWithFB",value:function(){var e=this.data,t=e.userIdentity,a=e.fbId,e=e.fbToken;return this.updateInfo({userIdentity:t,ext_fb:a&&e?{fbId:a,token:e}:void 0})}},{key:"signupByEmail",value:function(){return this.setState({dialogState:H.c.PRIMARY_LOADING}),this.getInstance().signupByEmail()}},{key:"signupByEmailSuccess",value:function(e){var t=e.description,e=(t=void 0===t?{}:t).userIdentity,t=A.a.getSubsDataFromJwt(e);this.data.userIdentity=e,this.setState(j(j({},Q(t)),{},{dialogState:H.c.NONE,viewType:I.e.SUCCESSFUL_DISPLAY}))}},{key:"signupByEmailFailure",value:function(e){var t=e.errorMessageV3,e=e.errorCode,e=this.buildErrorMessage(t,e);this.setState({dialogState:H.c.ERROR,errorMessage:e})}},{key:"updateProfile",value:function(){var e=this.state,t=e.name,a=e.age,n=e.gender,r=e.email,i=this.data,o=i.userIdentity,e=i.fbId,i=i.fbToken,t=t.split(" "),t=c()(t,2),i=e&&i?{fbId:e,token:i}:void 0,i={userIdentity:o,fname:t[0],lname:t[1],gender:n,age:a,email:A.a.getSubsDataFromJwt(o).email||"phone"===this.state.usertype?"":r,ext_fb:i};return this.updateInfo(i)}},{key:"updateInfo",value:function(e){return this.setState({dialogState:H.c.PRIMARY_LOADING}),this.getInstance().updateInfo(z(e))}},{key:"checkEmailExist",value:function(){return this.setState({dialogState:H.c.PRIMARY_LOADING}),this.getInstance().checkEmailExist()}},{key:"resetFbToken",value:function(){this.data.fbId="",this.data.fbToken=""}},{key:"loginFB",value:function(e){var t=c()(e,2)[1],a=t.profile,n=void 0===a?{}:a,r=t.tokenDetail,i=n.id,o=n.email,s=n.first_name,e=n.last_name,a=n.birthday,t=n.gender,n=n.age,r=(void 0===r?{}:r).accessToken,s="".concat(s," ").concat(e),e={dialogState:H.c.FACEBOOK_LOADING};return W||(e=j(j({},e),{},{name:s,email:o,age:n,gender:t,dateOfBirth:a})),this.setState(e),this.data.fbId=i,this.data.fbToken=r,this.getInstance().loginFB({fbId:i,token:r})}},{key:"loginEmail",value:function(e){var t={dialogState:H.c.PRIMARY_LOADING};return e&&(t.usertype=e),this.setState(t),this.getInstance().loginEmail()}},{key:"sendResetPasswordEmail",value:function(){return this.setState({dialogState:H.c.PRIMARY_LOADING}),this.getInstance().sendResetPasswordEmail()}},{key:"navigateEmailFB",value:function(e){var t=e.displayName,e=e.itemType;this.setState({dialogState:H.c.NONE,viewType:I.e.EMAIL_CHECK}),B.a.fireSelectedAlternateLoginMethodsEvent(),B.a.fireClickedItemEvent({display_name:t,item_type:e})}},{key:"navigateForgotPassword",value:function(){this.setState({dialogState:H.c.NONE,viewType:I.e.RESET_PASSWORD_ENTER})}},{key:"navigateFb",value:function(){this.setState({dialogState:H.c.NONE}),B.a.fireInitiatedFacebook()}},{key:"navigateEmail",value:function(){this.setState({dialogState:H.c.NONE,viewType:I.e.EMAIL_CHECK}),B.a.fireInitiatedEmail()}},{key:"navigatePhone",value:function(){this.setState({dialogState:H.c.NONE,viewType:I.e.PHONE_ENTER}),B.a.fireInitiatedMobileNumber()}},{key:"fireEventOnMount",value:function(){B.a.fireViewedPageEvent({name:0<arguments.length&&void 0!==arguments[0]?arguments[0]:""})}},{key:"tryAnotherPhone",value:function(){this.data.OTPUserType=I.b.PHONE,this.setState({dialogState:H.c.NONE,viewType:I.e.PHONE_ENTER})}},{key:"buildErrorMessage",value:function(e,t){t=Object(G.a)(t);return e||t.description}},{key:"setOTPUserTypeInData",value:function(e){this.data.OTPUserType=e}}]),i}(d.a);t.a=u.a.createStore(d,"PNLStore")},1090:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n,r=a(2),t=a.n(r),r=a(0),i=a.n(r),r=a(21),o=a.n(r),s=a(7),u=["ERR_UM_137","ERR_UM_134"],c=["ERR_UM_071","ERR_UM_099","UMSP_601"],l=a(82),d=(n=t()(i.a.mark(function e(t){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,s.a.getUserToken();case 4:e.t0=e.sent;case 5:return e.t1=e.t0,e.t2=s.a.getDeviceID(),e.t3=s.a.generateUUID(),n={userIdentity:e.t1,deviceId:e.t2,uuid:e.t3},a=!1,e.prev=10,e.next=13,o.a.restCall("getPhoneLinkingStatus",n);case 13:e.next=19;break;case 15:e.prev=15,e.t4=e.catch(10),n=e.t4.errorCode,u.includes(n)?a=!0:-1<c.indexOf(n)&&l.a.logOut({});case 19:return e.abrupt("return",Promise.resolve(a));case 20:case"end":return e.stop()}},e,null,[[10,15]])})),function(e){return n.apply(this,arguments)})},1103:function(e,t){e.exports={ERR_UM_036:{analyticsTitle:"Incorrect Password"},ERR_UM_059:{analyticsTitle:"Max login attempt reached"}}},1469:function(e,t,n){"use strict";var a=n(3),r=n.n(a),i=(n(9),n(33),n(59)),o=n(976),a=function(e){var t=e.userIdentity,a=e.onAnotherAccountClicked,e=e.height;return r()(i.a,{loader:function(){return Promise.all([n.e(0),n.e(39)]).then(n.bind(null,1593))},showBlocker:o.a,userIdentity:t,onAnotherAccountClicked:a,height:e})};a.defaultProps={userIdentity:"",onAnotherAccountClicked:function(){},height:""},t.a=a},2023:function(e,t,a){"use strict";a.r(t);var o,n=a(3),s=a.n(n),u=a(9),c=a.n(u),n=a(93),r=a.n(n),i=a(11),l=a(82),d=a(23),E=a(1022),n=a(10),f=a.n(n),n=a(13),p=a.n(n),n=a(25),g=a.n(n),n=a(26),O=a.n(n),n=a(17),v=a.n(n),y=(a(33),a(5)),S=a(1469),b=a(976),h=a(792);var m=Object(u.lazy)(function(){return Promise.all([a.e(0),a.e(4),a.e(93)]).then(a.bind(null,2027))}),I=function(e){g()(i,e);var a,n,r=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v()(a);return t=n?(e=v()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),O()(this,t)});function i(e){var t;return f()(this,i),(t=r.call(this,e)).onCloseModal=function(){t.props.globalAction.hideSignInModal.defer(!0)},t.isModalVisible=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).globalStore.signInModalData;return(void 0===e?{}:e).show||!1},t.showPhoneLinkBlocker=function(){var e=t.props.pnlStore;return(e=void 0===e?{}:e).viewType===h.e.LOGIN_BLOCKER&&Object(b.a)()&&!y.a.isSubsWeb()},t.showModal=!1,t.countryCode=y.a.getWebsiteCountry(),t}return p()(i,[{key:"shouldComponentUpdate",value:function(e){var t=e.pnlStore.viewType,a=this.props.pnlStore.viewType;return this.showModal!==this.isModalVisible(e)||a!==t}},{key:"render",value:function(){var e=this.props,t=e.globalStore,a=e.pnlStore.userIdentity,e=t.signInModalData,e=void 0===e?{}:e,t=t.loginState,t=void 0!==t&&t;return this.showModal=this.isModalVisible(this.props),s()(c.a.Fragment,{},void 0,s()("div",{className:"signin-modal-wrapper",style:{display:this.showPhoneLinkBlocker()?"none":"block"}},void 0,this.showModal&&s()(u.Suspense,{fallback:o=o||s()("div",{})},void 0,s()(m,{onCloseModal:this.onCloseModal,modalState:this.showModal,loginState:t,countryCode:this.countryCode,signInModalData:e}))),this.showPhoneLinkBlocker()&&s()(S.a,{userIdentity:a}))}}]),i}(c.a.Component);t.default=function(e){return i.canUseDOM?s()("div",{className:"sign-in-container"},void 0,s()(r.a,{stores:{globalStore:l.a,pnlStore:E.a},actions:{globalAction:d.a}},void 0,c.a.createElement(I,e))):null}},792:function(e,t,a){"use strict";a.d(t,"e",function(){return i}),a.d(t,"b",function(){return o}),a.d(t,"g",function(){return c}),a.d(t,"d",function(){return u}),a.d(t,"c",function(){return l}),a.d(t,"f",function(){return d}),a.d(t,"a",function(){return s});var n=a(1),r=a(5),i={PHONE_ENTER:"PHONE_ENTER",EMAIL_CHECK:"EMAIL_CHECK",OTP_ENTER:"OTP_ENTER",EMAIL_LOGIN:"EMAIL_LOGIN",FB_LOGIN:"FB_LOGIN",PROFILE_ENTER:"PROFILE_ENTER",SUCCESSFUL_DISPLAY:"SUCCESSFUL_DISPLAY",RESET_PASSWORD_ENTER:"RESET_PASSWORD_ENTER",RESET_PASSWORD_SENT:"RESET_PASSWORD_SENT",LOGIN_BLOCKER:"LOGIN_BLOCKER",LOGIN_HOME:"LOGIN_HOME"},o={PHONE:"phone",EMAIL:"email",FB:"facebook",MERGED:"merged"},s={PHONE_LINKED:"PHONE_LINKED",PHONE_NOT_LINKED:"PHONE_NOT_LINKED",FACEBOOK_USER_CREATION_NOT_ALLOWED:"FACEBOOK_USER_CREATION_NOT_ALLOWED"},u={viewType:i.PHONE_ENTER,usertype:o.PHONE,dialogState:n.f.PNL_DIALOG_STATE.NONE,isSignup:!1,errorMessage:"",email:"",password:"",phone:"",maskedPhone:"",otp:"",name:"",age:"",gender:"",dateOfBirth:"",resendOTPTries:0,fbMigrationStatus:"",showPlatformIcons:function(){var e=r.a.parseQueryString().returnURL,e=void 0===e?"":e;if(e){e=-1<e.indexOf(n.f.SUBSCRIBE_ROUTES.ACTIVATE);return r.a.isIndia()&&e}return!1}()},c=["phone","name","email","gender","age","dateOfBirth"],l={OTPUserType:o.PHONE,userIdentity:"",fbId:"",fbToken:"",mode:"otp"},d="updatePassword"},876:function(e,t,a){"use strict";var n=a(10),i=a.n(n),n=a(25),o=a.n(n),n=a(26),s=a.n(n),n=a(17),u=a.n(n),n=a(48);a=function(e){o()(r,e);var a,n,t=(a=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=u()(a);return t=n?(e=u()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),s()(this,t)});function r(){var e;return i()(this,r),(e=t.apply(this,arguments)).generateActions("setPhone","setEmail","setPassword","setOTP","setName","setAge","setGender","getOTPCodeViaMsg","getOTPCodeViaCall","submitOTPCode","updateProfile","checkEmailExist","loginFB","loginEmail","sendResetPasswordEmail","goBack","navigateEmailFB","navigateForgotPassword","tryAnotherPhone","finishLogin","resendOTPCodeViaMsg","resendOTPCodeViaCall","setViewType","getOTPCallback","submitOTPCallback","updateProfileCallback","emailExistCallback","FBLoginCallback","emailLoginCallback","sendResetPasswordEmailSuccess","sendResetPasswordEmailFail","setOTPUserTypeInData","navigateFb","navigateEmail","navigatePhone","emailProfileUpdate","signupByEmail","signupByEmailSuccess","signupByEmailFailure","fireEventOnMount"),e}return r}(a(1066).a);t.a=n.a.createActions(a)},976:function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a(8),r=a.n(n),i=a(11),o=a(5);function s(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach(function(e){r()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var t=a(4).a.configuration.PNL_CONFIG,n=(t=void 0===t?{}:t).LOGIN_BLOCKER,a=(n=void 0===n?{}:n).EXLUDE_ROUTES,t=n.INCLUDED_COUNTRY,t=void 0===t?{}:t,n=n.EMAIL_BLOCKER_ENABLED,c=void 0===n||n,l=u({PAYMENTS:{route:"/subscribe/payment"},GET_STARTED:{route:"/subscribe/get-started"},PROMO:{route:"/subscribe/promo"}},void 0===a?{}:a),d=u({IN:{code:"IN"}},t),E=function(){var t,a,e=i.canUseDOM?window.location.href:"";return c&&(a=decodeURIComponent(e),!Object.values(l).some(function(e){return-1<a.indexOf(e.route)}))&&(t=o.a.getWebsiteCountry(),Object.values(d).some(function(e){return e.code.toLowerCase()===t.toLowerCase()}))}}}]);

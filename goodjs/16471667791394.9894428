declare(function(){return{name:"CookieSync",namespace:"Cpro.BusinessLogic",sync:function(){var t,e,o,i=using("Cpro.Utility.Cookie"),n=using("Cpro.Utility.Log"),a=i.getCookie("BAIDUID"),l=i.getCookie("CPROID"),r=i.getCookie("ISUS"),d=i.getCookie("ISBID"),s=!1,g=!1,h=(new Date).getTime();!l&&a&&(t="http://cpro.baidustatic.com/sync.htm?cproid="+encodeURIComponent(a),n.sendByIframe(t)),(a&&!d||a&&d&&a!==d)&&(g=!0),((s=l&&!r||l&&r&&l!==r?!0:s)||g)&&((g=new Date).setTime(g.getTime()+864e5),i.setCookie("ISBID",a||"1",{path:"/",expires:g}),i.setCookie("ISUS",l||"1",{path:"/",expires:g}),l&&a&&((o=(e=l).indexOf(":"))&&0<o&&(e=l.substring(0,o)),n.sendByIframe("http://s.cpro.baidu.com/s.htm?cproid="+e+"&t="+h)),l&&(n.sendByIframe("http://weibo.com/aj/static/sync.html?t="+h),n.sendByIframe("http://pos.baidu.com/sync_pos.htm?cproid="+encodeURIComponent(l)+"&t="+h),(o=(e=l).indexOf(":"))&&0<o&&(e=l.substring(0,o)),n.sendByIframe("http://bd.tst.35go.net/bd/t.html?bid="+e+"&t="+h)))}}}),declare(function(){return{name:"AlignEngine",namespace:"Cpro.Template",paint:function(t){var e=t.slotData,o=t.layoutObj,i=(o.layoutIndex,t.data),n=e.idPrefix||"";if("center"===t.containerVerticalAlign){e=document.getElementById(n+"container");if(e){e.offsetWidth,e.offsetHeight;for(var a=0,l=i.length;a<l;a++)(r=document.getElementById(n+"item"+a))&&(r.style.height="")}}for(var r,d,a=0,l=i.length;a<l;a++)(r=document.getElementById(n+"item"+a))&&(r.offsetWidth,d=r.offsetHeight,t.itemTextAlign,"middle"===t.itemVerticalAlign&&(r.style.height="",itemNewHeight=r.offsetHeight,0<(d=d-itemNewHeight)&&(r.style.paddingTop=d/2),o.item))}}}),declare(function(){return{name:"AntiCheat",namespace:"Cpro.Template",antiCheatArray:[],mouseInClientX:-1,mouseInClientY:-1,mouseInTime:-1,mouseInTimeSpan:-1,mousePressTime:-1,mouseClickClientX:-1,mouseClickClientY:-1,mouseClickCheckNum:-1,mouseOverTimes:-1,bind:function(t,e,o){window.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o)},formatEventObj:function(t){return(t=t||window.event).target=t.target||t.srcElement,t},mouseInHandler:function(t){-1===this.mouseInClientX&&(this.mouseInClientX=t.clientX),-1===this.mouseInClientY&&(this.mouseInClientY=t.clientY)},mouseInTimeHandler:function(t){-1===this.mouseInTime&&(this.mouseInTime=(new Date).getTime()),this.mouseInTimeSpan=(new Date).getTime()-this.mouseInTime},mousePressTimeHandler:function(t){"mousedown"===t.type?this.mousePressTime=(new Date).getTime():this.mousePressTime=(new Date).getTime()-this.mousePressTime},mouseClickHandler:function(t){var e=(t=this.formatEventObj(t)).target;"a"!==e.tagName.toLowerCase()&&(e=e.parentNode),this.mouseClickClientX=t.clientX,this.mouseClickClientY=t.clientY,this.mouseInTimeHandler(),this.mouseClickCheckNum=0;var o=!1,i=e.href,t=/(?:\?|&)q=(.*?)(?=\&|$)/i;0<e.href.indexOf("google.com")&&(o=!0,a=i.match(t)[1],e.href=decodeURIComponent(a));for(var n=/\.php\?(url=)?([0-9a-zA-Z_-]*)\./.exec(e.href)[2],a=/.*(\d+)/.exec(e.id)[1],l=this.antiCheatArray[a],r=0;r<this.mouseOverTimes*l%99+9;r++){var d=this.mousePressTime*r%n.length;this.mouseClickCheckNum+=n.charCodeAt(d)}a=e.innerHTML;-1==e.href.indexOf("&ck")&&(e.href+="&ck="+this.mouseClickCheckNum+"."+this.mouseOverTimes+"."+this.mousePressTime+"."+this.mouseClickClientX+"."+this.mouseClickClientY+"."+this.mouseInClientX+"."+this.mouseInClientY+"."+this.mouseInTimeSpan),null!=a.match(/(www\.)|(.*@.*)/i)&&document.all&&(null==a.match(/\<.*\>/i)?e.innerHTML=a:e.innerTEXT=a),o&&(e.href=i.replace(t,"&q="+encodeURIComponent(e.href)))},mouseOverHandler:function(t){-1===this.mouseOverTimes&&(this.mouseOverTimes=0),this.mouseOverTimes++},check:function(t,e){this.antiCheatArray=e||window.antiCheatArray;var t=document.getElementById(t),o=t.getElementsByTagName("a");this.bind(t,"mouseover",this.mouseInHandler.proxy(this)),this.bind(t,"mouseover",this.mouseInTimeHandler.proxy(this));for(var i=0;i<o.length;i++){var n=o[i].className;n&&("gylogo"===(n=n.toLowerCase())||"bdlogo"===n||"bd-logo"===n.substring(0,7))||(this.bind(o[i],"mousedown",this.mousePressTimeHandler.proxy(this)),this.bind(o[i],"mouseup",this.mousePressTimeHandler.proxy(this)),this.bind(o[i],"click",this.mouseClickHandler.proxy(this)),this.bind(o[i],"mouseover",this.mouseOverHandler.proxy(this)))}}}}),declare(function(){return{name:"DataEngine",namespace:"Cpro.Template",flashIETemplate:'<object classid="clsid:D27CDB6E-AE6D-11CF-96B8-444553540000" id="{flashid}"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"border="0" width="{width}" height="{height}"><param name="quality" value="high"><param name="wmode" value="opaque"><param name="menu" value="false"><param name="movie" value="{url}"><param name="FlashVars" value="{flashvars}"><param name="scale" value="{scale}"><param name="AllowFullScreen" value="{allowfullscreen}"><param name="AllowScriptAccess" value="{allowscriptaccess}"><param name="AllowNetworking" value="{allownetworking}"></object>',flashNormalTemplate:'<embed pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"wmode="opaque" quality="High"name="{flashid}" src="{url}"width="{width}" height="{height}"scale="{scale}"allowfullscreen="{allowfullscreen}" allowscriptaccess="{allowscriptaccess}"allownetworking="{allownetworking}"flashvars="{flashvars}"></embed>',templateFunc:function(t,n){return t.replace(/{(.*?)}/g,function(t,e,o,i){return n[e]||""})},createFlashHtml:function(t){t.id=t.id||"",t.flashvars=t.flashvars||"",t.scale=t.scale||"exactfit",t.allowFullScreen=t.allowFullScreen||"false",t.allowScriptAccess=t.allowScriptAccess||"never",t.allowNetworking=t.allowNetworking||"internal";var e=window.ActiveXObject?this.flashIETemplate:this.flashNormalTemplate;return this.templateFunc(e,{url:t.url,width:t.width,height:t.height,id:t.id,scale:t.scale,allowfullscreen:t.allowFullScreen,allowscriptaccess:t.allowScriptAccess,allownetworking:t.allowNetworking,flashvars:t.flashvars})},subStringByBytes:function(t,e,o){return t?(t=String(t),e<0||t.replace(/[^\x00-\xff]/g,"ci").length<=e?t:t=(t=(t=t.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e)).replace(/[^\x00-\xff]$/,"")).replace(/([^\x00-\xff]) /g,"$1")):""},getByteLength:function(t){return t?(t=(t=String(t)).replace(/([^\x00-\xff])/g,"$1 ")).length:""},truncateEngine:function(t){var e=t.dom,o=t.showRowCount,i=t.showLineHeight,n=t.showWidth,a=t.showFontSize,l=t.showContent,r=!1;t.showEllipsis&&(r=!0),e.style.whiteSpace="nowrap";var d,s=e.offsetWidth,g=[],h=[],u=[],c=o*n,p=0;if(i<=0||o<=0)return 0;for(var m=0;m<3&&(s=e.offsetWidth,g[m]=s,h[m]=this.getByteLength(e.innerText||e.textContent),!(0<(T=c-s)&&l.length==e.innerHTML.length))&&!(Math.abs(T)<5);m++,p++){if(0===m)d=Math.ceil(a/2);else if(0===(d=Math.abs(g[m]-g[m-1])/u[m-1]))break;u[m]=Math.ceil(Math.abs(T)/d),e.innerHTML=(0<T?0:1)?this.subStringByBytes(l,h[m]-u[m]):this.subStringByBytes(l,h[m]+u[m])}s=e.offsetWidth;for(var y=10,f=0;f<y&&c<s;){var w,s=e.offsetWidth,C=e.innerText||e.textContent,T=c-s;e.innerHTML=(w=0<T?0:1)?l.substr(0,C.length-1):l.substr(0,C.length+1),p++,f++,s=e.offsetWidth;C=e.innerText||e.textContent;if(T=c-s,w){if(0<=T)break}else if(T<=0){e.innerHTML=l.substr(0,C.length-1),p++;break}}f=0,e.style.whiteSpace="normal",e.style.wordBreak="break-all",e.style.wordWrap="break-word";var S=e.offsetHeight,P=o*i,C=e.innerText||e.textContent;if(1!=o){for(y=10,f=0;f<y&&4+P<S;)e.innerHTML=l.substr(0,C.length-1),S=e.offsetHeight,C=e.innerText||e.textContent,p++,f++;f=0}r&&C.length<l.length&&(C=e.innerText||e.textContent,r=this.getByteLength(C),e.innerHTML=this.subStringByBytes(l,r-2)+'<span style="font-family:arial;">...</span>');for(var v=i,R=e.offsetHeight;v+4<R;)v+=i;return e.parentNode.style.height=v+"px",p},paint:function(t){var e=t.userConfig,o=t.fullConfig,i=t.layoutObj.layoutIndex,n=t.data,a=void 0===t.isTruncate||t.isTruncate,l={image:"image",res:"image",brand:"image",curl:"link",icon:"link"},r=o.idPrefix||"";if("inlay"===o.displayType&&"linkunit"===o.stuffType&&o.urlReplace&&"default"!==o.urlReplace)for(var d=0,s=n.length;d<s;d++)n[d].curl=n[d].curl.replace("http://cpro.baidu.com/cpro/ui/uijs.php?",decodeURIComponent(o.urlReplace));for(d=0,s=n.length;d<s;d++){var g,h,u=n[d],c=d,p=u.type;for(g in u){var m,y,f,w,C,T,S,P,v,R=u.curl,L=document.getElementById(r+g+c);L&&(L.href=R,"image"!==(T=!p||"flash"!==p&&"widget"!==p||"res"!==g?l[g]||"text":p)?"link"!==T&&("flash"!==T?"widget"!==T?(m=i[g]&&i[g].rowCount||1,y=i[g].style["line-height"],f=i[g].style.width,w=i[g].style["font-size"],C=(u[g]||"").replace(/\s+/g," "),T=i[g].showEllipsis,L.title=C,L.innerHTML=a?this.subStringByBytes(C,m*f*2/w,!0):C,"text"!==p&&"tuwen"!==p&&"smartidea2"!==p||(a&&this.truncateEngine(S={dom:L,showRowCount:m,showLineHeight:y,showWidth:f,showFontSize:w,showContent:C,showEllipsis:T,key:g}),o.keywordIsFlush&&4!==o.keywordIsFlush&&(P=!1,(P=1===o.keywordIsFlush||2===o.keywordIsFlush&&"title"===g||3===o.keywordIsFlush&&"desc"===g?!0:P)&&using("Cpro.Template.KeywordPainter").flush(L,u.bid,o.keywordFlushColor))),S&&"surl"===S.key&&!i.surl.style.display&&(S.dom.parentNode.style.display="block")):((P=document.getElementById(L.id+"Flash")).innerHTML=this.createFlashHtml({url:u[g],width:P.style.width,height:P.style.height,allowScriptAccess:"sameDomain",allowNetworking:"all",flashvars:"clickTAG="+R}),L.parentNode.removeChild(L)):(v=document.getElementById(L.id+"Flash")).innerHTML=this.createFlashHtml({url:u[g],width:v.style.width,height:v.style.height})):(v=document.getElementById(L.id),L.childNodes[0].width=v.style.width,L.childNodes[0].height=v.style.height,L.childNodes[0].src=u[g]))}!o.itemRightImage||(h=document.getElementById(r+"rightimage"+c))&&(h.href=u.curl,h.backgroundImage=o.itemRightImageSrc)}if(e.titleFrontIconSrc)for(d=0,s=n.length;d<s;d++)document.getElementById(r+"icon"+d).getElementsByTagName("img")[0].src=e.titleFrontIconSrc}}}),declare(function(){return{name:"DefaultValueManager",namespace:"Cpro.Template",getDefaultValue:function(t){var e=this.fastClone(this.globalDefaultValue),o=[];t.displayType=t.displayType||"inlay",t.stuffType=t.stuffType||"text",o.push(t.stuffType),o.push(t.displayType),o.push(t.displayType+"_"+t.stuffType),o.push(t.displayType+"_"+t.stuffType+"_"+t.adRowCount+"_"+t.adColumnCount),o.push(t.displayType+"_"+t.stuffType+"_"+t.templateWidth+"_"+t.templateHeight),o.push(t.displayType+"_"+t.stuffType+"_"+t.templateWidth+"_"+t.templateHeight+"_"+t.adRowCount+"_"+t.adColumnCount);for(var i,n,a=null,l=0,r=o.length;l<r;l++)if(n=this[i=o[l]],i&&n)for(a in n)a&&null!==n[a]&&void 0!==n[a]&&(e[a]=n[a]);return e},fastClone:function(t){function e(){}return e.prototype=t,new e},flash:{containerPaddingLeft:0,containerPaddingRight:0,containerPaddingTop:0,containerPaddingBottom:0,adRowCount:1,adColumnCount:1},widget:{containerPaddingLeft:0,containerPaddingRight:0,containerPaddingTop:0,containerPaddingBottom:0,containerBorderTop:1,containerBorderRight:1,containerBorderBottom:1,containerBorderLeft:1,adRowCount:1,adColumnCount:1},image:{containerPaddingLeft:0,containerPaddingRight:0,containerPaddingTop:0,containerPaddingBottom:0,adRowCount:1,adColumnCount:1},inlay_text:{containerPaddingRight:8,containerBorderTop:1,containerBorderRight:1,containerBorderBottom:1,containerBorderLeft:1,containerBorderColor:"ffffff",titlePaddingBottom:4,urlPaddingTop:2},inlay_text_1_1:{titleFontSize:20,descFontSize:14,titleTextAlign:"center",descTextAlign:"center",urlTextAlign:"center",urlIsShow:1},inlay_tuwen:{containerPaddingRight:8},inlay_tuwen_1_1:{titleFontSize:16},inlay_tuwen_1_4:{descFontSize:12},inlay_linkunit1:{titleFontSize:12,titleLineHeight:15,containerPaddingLeft:0,containerPaddingRight:0,containerPaddingTop:0,containerPaddingBottom:0,itemColumnSpace:6,itemRowSpace:4},inlay_linkunit1_120_90:{containerPaddingLeft:2,containerPaddingRight:2,containerPaddingTop:1,containerPaddingBottom:1,adRowCount:5,adColumnCount:1},inlay_linkunit1_160_90:{containerPaddingLeft:2,containerPaddingRight:2,containerPaddingTop:1,containerPaddingBottom:1,adRowCount:5,adColumnCount:1},inlay_linkunit1_180_90:{containerPaddingLeft:2,containerPaddingRight:2,containerPaddingTop:1,containerPaddingBottom:1,adRowCount:5,adColumnCount:1},inlay_linkunit1_200_90:{containerPaddingLeft:2,containerPaddingRight:2,containerPaddingTop:1,containerPaddingBottom:1,adRowCount:5,adColumnCount:1},inlay_linkunit1_468_15:{containerPaddingRight:15,adRowCount:1,adColumnCount:5},inlay_linkunit1_728_15:{containerPaddingRight:15,adRowCount:1,adColumnCount:6},inlay_text_960_90_1_4:{descFontSize:14,descLineHeight:16,titlePaddingBottom:3,urlPaddingTop:2},inlay_text_468_60:{descFontSize:12,descLineHeight:14,titlePaddingBottom:3,urlPaddingTop:2,containerPaddingRight:8,adRowCount:1,adColumnCount:2},inlay_tuwen_468_60:{descFontSize:12,descLineHeight:14,titlePaddingBottom:3,urlPaddingTop:2,adRowCount:1,adColumnCount:2},float:{adRowCount:1,adColumnCount:1},float_linkunit1_120_270:{idPrefix:"lu_",containerShowLogo:0,titleTextAlign:"left",titleFontColor:"666666",titleFontSize:12,titleLineHeight:14,titleShowUnderline:0,containerPaddingLeft:8,containerPaddingRight:8,containerPaddingTop:4,containerPaddingBottom:4,containerBorderTop:1,containerBorderRight:1,containerBorderBottom:1,containerBorderLeft:1,containerBorderColor:"cccccc",itemColumnSpace:6,itemRowSpace:4,adRowCount:2,adColumnCount:1},globalDefaultValue:{userChargingId:"",templateWidth:728,templateHeight:90,adDataType:"text_tuwen",adRowCount:1,adColumnCount:4,KeywordIsFlush:4,KeywordFlushColor:"e10900",isShowUnrelated:1,isShowPublicAd:1,isGongyi:0,backupColor:"ffffff",backupUrl:"",displayType:"inlay",stuffType:"image",layout:"-1",scale:"",containerBorderColor:"ffffff",containerBorderWidth:1,containerBorderTop:0,containerBorderRight:0,containerBorderBottom:0,containerBorderLeft:0,containerBorderStyle:"solid",containerBackgroundColor:"ffffff",containerPaddingLeft:4,containerPaddingRight:4,containerPaddingTop:4,containerPaddingBottom:4,containerMarginLeft:0,containerMarginRight:0,containerMarginTop:0,containerMarginBottom:0,containerOpacity:0,containerShowLogo:1,containerWidth:0,containerHeight:0,containerHideHeaderFooter:0,containerFloat:"none",containerLogoStyle:"-1",itemPaddingLeft:0,itemPaddingRight:0,itemPaddingTop:0,itemPaddingBottom:0,itemVerticalAlign:"-1",itemColumnSpace:20,itemColumnBackgroundColor:"-1",itemColumnBorderWidth:0,itemColumnBorderStyle:"solid",itemColumnBorderColor:"-1",itemColumnPaddingTop:0,itemColumnPaddingLeft:0,itemColumnPaddingRight:0,itemColumnPaddingBottom:0,itemColumnMarginTop:0,itemColumnMarginLeft:0,itemColumnMarginRight:0,itemColumnMarginBottom:0,itemRowSpace:10,itemRowBorderWidth:0,itemRowBorderStyle:"solid",itemRowBorderColor:"-1",itemRowPaddingTop:0,itemRowPaddingLeft:0,itemRowPaddingRight:0,itemRowPaddingBottom:0,itemRightImage:0,itemRightImageSrc:"",itemRightImageWidth:0,itemRightImageHeight:0,itemRightImagePaddingTop:0,itemRightImagePaddingLeft:0,itemRightImagePaddingRight:0,itemRightImagePaddingBottom:0,brandLogoPaddingLeft:0,brandLogoPaddingRight:0,brandLogoPaddingTop:0,brandLogoPaddingBottom:0,logoIsShow:1,logoPaddingLeft:0,logoPaddingRight:4,logoPaddingTop:0,logoPaddingBottom:0,titleFontColor:"0F0CBF",titleFontFamily:"arial,simsun,sans-serif",titleFontSize:14,titleLength:-1,titleIsShowEllipsis:0,titleIsShow:1,titleRowCount:1,titlePaddingLeft:0,titlePaddingRight:0,titlePaddingTop:0,titlePaddingBottom:5,titleShowUnderline:1,titleLineHeight:-1,titleWidth:-1,titleFontWeight:"normal",titleBackgroundColor:"-1",titleHoverFontColor:"EE0000",titleHoverShowUnderline:-1,titleHoverBackgroundColor:"-1",titleVisitedFontColor:"-1",titleVisitedShowUnderline:-1,titleVisitedBackgroundColor:"-1",titleActiveFontColor:"-1",titleActiveShowUnderline:-1,titleActiveBackgroundColor:"-1",titleTextAlign:"-1",titleFrontIconSrc:"",titleFrontIconWidth:0,titleFrontIconHeight:0,titleFrontIconPaddingRight:0,titleFrontIconPaddingLeft:0,descFontColor:"444444",descFontFamily:"arial,simsun,sans-serif",descFontSize:14,descLength:-1,descIsShowEllipsis:1,descIsShow:1,descRowCount:-1,descPaddingLeft:0,descPaddingRight:0,descPaddingTop:0,descPaddingBottom:0,descShowUnderline:0,descLineHeight:-1,descWidth:-1,descFontWeight:"normal",descBackgroundColor:"-1",descHoverFontColor:"EE0000",descHoverShowUnderline:1,descHoverBackgroundColor:"-1",descVisitedFontColor:"-1",descVisitedShowUnderline:-1,descVisitedBackgroundColor:"-1",descActiveFontColor:"-1",descActiveShowUnderline:-1,descActiveBackgroundColor:"-1",descTextAlign:"-1",urlFontColor:"008000",urlFontFamily:"arial,simsun,sans-serif",urlFontSize:11,urlLength:-1,urlIsShowEllipsis:0,urlIsShow:-1,urlPaddingLeft:0,urlPaddingRight:0,urlPaddingTop:3,urlPaddingBottom:0,urlShowUnderline:0,urlRowCount:0,urlLineHeight:-1,urlWidth:-1,urlFontWeight:"normal",urlBackgroundColor:"-1",urlReplace:" ",urlHoverFontColor:"EE0000",urlHoverShowUnderline:1,urlHoverBackgroundColor:"-1",urlVisitedFontColor:"-1",urlVisitedShowUnderline:-1,urlVisitedBackgroundColor:"-1",urlActiveFontColor:"-1",urlActiveShowUnderline:-1,urlActiveBackgroundColor:"-1",urlTextAlign:"-1"}}}),declare(function(){return{name:"FloatDataEngine",namespace:"Cpro.Template",paint:function(t){var e=t.slotData,o=t.layoutObj.layoutIndex,i=t.data,n=void 0===t.isTruncate||t.isTruncate,a={image:"image",res:"image",curl:"link"},l=(using("Cpro.Template.DataEngine"),e.idPrefix||"");if("inlay"===e.displayType&&"linkunit"===e.stuffType&&e.urlReplace&&"default"!==e.urlReplace)for(var r=0,d=i.length;r<d;r++)i[r].curl=i[r].curl.replace("http://cpro.baidu.com/cpro/ui/uijs.php?",decodeURIComponent(e.urlReplace));for(r=0,d=i.length;r<d;r++){var s,g=i[r],h=r,u=g.type;for(s in g){var c,p,m,y,f,w,C=g.curl,T=document.getElementById(l+s+h);T&&(T.href=C,"image"!==(y=u&&"flash"===u&&"res"===s?"flash":a[s]||"text")?"link"!==y&&("flash"!==y?(c=o[s]&&o[s].rowCount||1,p=o[s].style["line-height"],m=o[s].style.width,C=o[s].style["font-size"],y=(g[s]||"").replace(/\s+/g," "),w=o[s].showEllipsis,T.title=y,T.innerHTML=this.subStringByBytes(y,c*m*2/C,!0),"text"!==u&&"tuwen"!==u||n&&this.truncateEngine(f={dom:T,showRowCount:c,showLineHeight:p,showWidth:m,showFontSize:C,showContent:y,showEllipsis:w,key:s}),f&&"surl"===f.key&&(f.dom.parentNode.style.display="block")):(w=document.getElementById(T.id+"Flash")).innerHTML=this.createFlashHtml({url:g[s],width:w.style.width,height:w.style.height})):T.childNodes[0].src=g[s])}}}}}),declare(function(){return{name:"KeywordPainter",namespace:"Cpro.Template",flush:function(t,e,o){if(e&&!((e="string"==typeof e?(e=e.replace(/(^\s*)|(\s*$)/g,"")).split(" "):e).length<=0)){o=o.replace("#","");for(var i=0,n=e.length;i<n;i++){var a=t.innerHTML,l=(l=e[i]).replace(/[\*\.\?\+\$\^\[\]\(\)\{\}\|\\\/]/g,"\\$&"),l=new RegExp(l,"gi");t.innerHTML=a.replace(l,function(t){return'<span style="color:#'+o+'">'+t+"</span>"})}}}}}),declare(function(){return{name:"LayoutEngineManager",namespace:"Cpro.Template",getLayoutEngine:function(t){var e;this.Template=using("Cpro.Template");var o=t.userConfig,t=t.fullConfig;if("string"==typeof t)return this.Template.LayoutEngine[t];if(o.layout&&"string"==typeof o.layout&&"-1"!==o.layout.toString()){o={singleline:"SingleLine"}[o.layout.toLowerCase()];return this.Template.LayoutEngine[o]}switch(t.stuffType.toLowerCase()){case"text":e=this.Template.LayoutEngine.Text;break;case"image":e=this.Template.LayoutEngine.Image;break;case"tuwen":e=this.Template.LayoutEngine.Tuwen;break;case"widget":e=this.Template.LayoutEngine.Widget;break;case"flash":e=this.Template.LayoutEngine.Flash;break;case"linkunit1":e=this.Template.LayoutEngine.LinkUnit1;break;case"linkunit":e=this.Template.LayoutEngine.LinkUnit;break;case"iconlinkunit":e=this.Template.LayoutEngine.IconLinkUnit;break;case"smartidea1":case"smartidea2":e=this.Template.LayoutEngine.SmartIdea;break;default:e=this.Template.LayoutEngine.Text}return e}}}),declare(function(){return{name:"LinkUnitAdjust",namespace:"Cpro.Template",hasClass:function(t,e){e=new RegExp("(\\s|^)"+e+"(\\s|$)");return t.className.match(e)},layout:function(t){t.userConfig;var e=t.fullConfig,o=t.layoutObj,t=o.props.id||"container",t=document.getElementById(t),i=e.idPrefix||"",n=0,a=1,l=[],r=[],d=t.childNodes;e.itemColumnSpace=2,e.itemRowSpace=2;for(var s=0,g=d.length;s<g;s++)this.hasClass(d[s],"itemColumnSpace")&&(d[s].style.width=e.itemColumnSpace+"px"),this.hasClass(d[s],"itemRowSpace")&&(d[s].style.height=e.itemRowSpace+"px");e.titlePaddingBottom=e.titlePaddingTop;for(var s=0,h=e.adColumnCount;s<h;s++){var u=s,c=null;if(c=document.getElementById(i+o.content[0].content[0].dataKey+u)){if(1==e.adRowCount){c.className=c.className.replace("textOverflow","");u=c.offsetWidth;if(c.style.width=c.parentNode.style.width=u+"px",n+=u,c.className=c.className+" textOverflow",l.push(c.parentNode.parentNode),r.push(u),a==e.adColumnCount){var p=e.templateWidth-e.containerPaddingRight-e.containerPaddingLeft-2*e.containerBorderWidth-n-(e.adColumnCount-1)*e.itemColumnSpace-(e.titlePaddingLeft+e.titlePaddingRight)*e.adColumnCount;paddingWidth=Math.floor(p/(2*e.adColumnCount));for(var m=0;m<l.length;m++)l[m].style.paddingLeft=paddingWidth+"px",l[m].style.paddingRight=paddingWidth+"px",l[m].style.width=r[m]+e.titlePaddingLeft+e.titlePaddingRight+"px";l[a-1].style.paddingRight=p-paddingWidth*(2*a-1)+"px"}}a++;p=Math.floor((e.templateHeight-e.containerPaddingTop-e.containerPaddingBottom-2*e.containerBorderWidth-(e.adRowCount-1)*e.itemRowSpace)/e.adRowCount)-e.itemPaddingTop-e.itemPaddingBottom-e.titlePaddingTop-e.titlePaddingBottom;c.style.height=c.parentNode.style.height=c.style.lineHeight=c.parentNode.style.lineHeight=p+"px",c.parentNode.parentNode.style.height=p+e.titlePaddingTop+e.titlePaddingBottom+"px",c.style.textAlign=c.parentNode.style.textAlign=c.parentNode.style.textAlign=c.parentNode.parentNode.style.textAlign="center"}}}}}),declare(function(){return{name:"TemplateEngine",namespace:"Cpro.Template",init:function(){},paint:function(t){var e=t.ads;t.userConfig,t.templateConfig,t.displayType,Base.fastClone(config),this.Template.TemplateVariableManager.getVariables(this.mainConfig);currentLayoutEngine=this.Template.LayoutEngineManager.getLayoutEngine(this.mainFullNameConfig),this.MediaLayoutObj=currentLayoutEngine.layout(this.mainFullNameConfig),this.Template.PaintEngine.paint({layoutObj:this.MediaLayoutObj,userFullNameConfig:this.mainFullNameConfig}),e[0]&&e[0].type&&"image"===e[0].type?run(this.ShowContentLoaded.proxy(this),"image"):this.ShowContentLoaded(),this.Template.DataEngine.paint({layoutObj:this.MediaLayoutObj,data:e,slotData:this.mainFullNameConfig}),window.isGongyi||using("Cpro.Template.AntiCheat").check("container")}}}),declare(function(){return{name:"PaintEngine",namespace:"Cpro.Template",idPrefix:"",pxStyle:{width:1,height:1,"line-height":1,"padding-left":1,"padding-right":1,"padding-top":1,"padding-bottom":1,"border-width":1,"font-size":1,"margin-left":1,"margin-right":1,"margin-top":1,"margin-bottom":1,"border-left-width":1,"border-right-width":1,"border-top-width":1,"border-bottom-width":1},excludeStyle:{"outer-height":1,"outer-width":1},linkStyle:{"font-size":1,height:1,"line-height":1,"text-decoration":1,"text-align":1,"font-family":1,color:1,"word-wrap":1,"word-break":1,"text-overflow":1},globalGetStyleObj:{},cssString:"",idRecorder:{},getStyle:function(t,e){var o="";if(this.globalGetStyleObj[t])return"";this.globalGetStyleObj[t]=1;var i=e.style;if(i)for(var n in i)this.excludeStyle[n]||(o+=n+":"+i[n]+(this.pxStyle[n]?"px;":";"));return o="."+t+" {"+o+"} \n"},getLinkStyle:function(t,e){var o="";if(this.globalGetStyleObj[t])return"";this.globalGetStyleObj[t]=1;var i,n=e.style;if(n)for(var a in n)!this.excludeStyle[a]&&this.linkStyle[a]&&(o+=a+":"+n[a]+(this.pxStyle[a]?"px;":";"));return"flash"===e.dataType&&(o+="display:block; position:absolute; top:0px; left:0px; z-index:9; cursor:hand; opacity:0; filter:alpha(opacity=0); background-color:#FFFFFF; width:"+n.width+"px;"),o="."+t+" {"+o+"} \n",e.styleHover&&((i={}).style=e.styleHover,o+=this.getLinkStyle(t+":hover",i)),o},addCssByStyle:function(t){var e=document,o=e.createElement("style");o.setAttribute("type","text/css"),o.styleSheet?o.styleSheet.cssText=t:(i=e.createTextNode(t),o.appendChild(i));var i=e.getElementsByTagName("head");(i.length?i[0]:e.documentElement).appendChild(o)},drawDom:function(t){var e=t.cssName||t.dataKey;this.cssString+=this.getStyle(e,t);var o,i=document.createElement(t.domName);for(o in i.className=e,t.props)i[o]=t.props[o];if("layout"!=t.dataType){this.idRecorder[t.dataKey+this.idPrefix]=this.idRecorder[t.dataKey+this.idPrefix]||0;var n=this.idPrefix+t.dataKey+this.idRecorder[t.dataKey+this.idPrefix],a=document.createElement("a");a.id=n,a.target="_blank",this.cssString+=this.getLinkStyle(e+" a",t),this.idRecorder[t.dataKey+this.idPrefix]++;var l=void 0!==t.enableClick?t.enableClick:1;switch(t.dataType){case"text":break;case"image":var r=document.createElement("img");r.style.width=t.style.width+"px",r.style.height=t.style.height+"px",a.style.display="block",a.appendChild(r);break;case"flash":var d=document.createElement("div");d.style.width=t.style.width+"px",d.style.height=t.style.height+"px",d.id=n+"Flash",i.appendChild(d);break;case"icon":l&&((d=document.createElement("div")).style.width=t.style.width+"px",d.style.height=t.style.height+"px",a.appendChild(d))}l&&i.appendChild(a)}if(t.content&&t.content.length)for(var s=0,g=t.content.length;s<g;s++)for(var h=0,u=t.content[s].count||1;h<u;h++)i.appendChild(this.drawDom(t.content[s]));return i},drawLogo:function(t){var e=(t=t||{}).logoId||"logo",o=(o=document.getElementById(e))||document.createElement("a"),e=!1,e=void 0===t.isGongyi&&void 0!==window.isGongyi?window.isGongyi:!!t.isGongyi;o.innerHTML="&nbsp;",o.className=t.className||"bd-logo",o.target="_blank",e?(o.href="http://gongyi.baidu.com/",o.title="百度公益"):(o.href="http://wangmeng.baidu.com/","image"==t.stuffType||"flash"==t.stuffType||"widget"==t.stuffType?o.title="推广用户 : "+t.title:o.title="百度网盟推广");return setTimeout(function(){o.style.zoom="1"},100),o},paint:function(t){var e=[],o=t.userConfig,i=t.fullConfig,n=t.layoutObj,a=t.data,l=t.styleCssString||"";this.idPrefix=i.idPrefix||"",e=this.drawDom(n),this.cssString+=l,this.addCssByStyle(this.cssString),window.ad&&(window.ad.parentNode.removeChild(window.ad),window.ad=null),t.dom?t.dom.appendChild(e):(window.loader=document.getElementById(this.idPrefix+"loader"),window.ad=e,window.loader.parentNode.insertBefore(e,window.loader)),i.containerShowLogo&&(t="bd-logo",o.containerLogoStyle?t=o.containerLogoStyle:"-1"===i.containerLogoStyle.toString()&&("linkunit1"!==i.stuffType&&"iconlinkunit"!==i.stuffType||(t="bd-logo2")),i={className:t,isGongyi:i.isGongyi,title:a[0].surl,stuffType:i.stuffType},e.appendChild(this.drawLogo(i))),window.loader=window.ad=e=null}}}),declare(function(){return{name:"StyleTemplate",namespace:"Cpro.Template",cache:{},LEFT_DELIMITER:"<%",RIGHT_DELIMITER:"%>",templateCss:function(t,e){var o=using("Cpro.Utility.CssBuilder"),e=this.template(t,e);o.addCss(e)},templateHtml:function(t,e){using("Cpro.Utility.CssBuilder");var e=this.template(t,e),o=document.getElementById(t),i=document.createElement("div");i.innerHTML=e;for(var n=[],a=0,l=i.childNodes.length;a<l;a++)i.childNodes[a]&&1===i.childNodes[a].nodeType&&n.push(i.childNodes[a]);for(a=0,l=n.length;a<l;a++)o.parentNode.insertBefore(n[a],o)},template:function(t,e){window.document||(o=this.compile(t));var o,i=document.getElementById(t);o=i?(this.cache[t]&&(o=this.cache[t]),i=/^(textarea|input)$/i.test(i.nodeName)?i.value:i.innerHTML,this.compile(i)):this.compile(t);e=this.isObject(e)?o(e):o;return o=null,e},compile:function(t){t="var _template_fun_array=[];\nvar fn=(function(data){\nvar _template_varName='';\nfor(name in data){\n_template_varName+=('var '+name+'=data[\"'+name+'\"];');\n};\neval(_template_varName);\n_template_fun_array.push('"+this.analysisStr(t)+"');\n_template_varName=null;\n})(_template_object);\nfn = null;\nreturn _template_fun_array.join('');\n";return new Function("_template_object",t)},isObject:function(t){return"function"==typeof t||!(!t||"object"!=typeof t)},analysisStr:function(t){var e=using("Cpro.Utility.Encoder"),o=this.LEFT_DELIMITER,i=this.RIGHT_DELIMITER,o=e.encodeReg(o),i=e.encodeReg(i);return t=(t=(t=(t=(t=(t=(t=(t=(t=String(t)).replace(new RegExp("("+o+"[^"+i+"]*)//.*\n","g"),"$1")).replace(new RegExp("\x3c!--.*?--\x3e","g"),"")).replace(new RegExp(o+"\\*.*?\\*"+i,"g"),"")).replace(new RegExp("[\\r\\t\\n]","g"),"")).replace(new RegExp(o+"(?:(?!"+i+")[\\s\\S])*"+i+"|((?:(?!"+o+")[\\s\\S])+)","g"),function(t,e){var o="";if(e)for(o=e.replace(/\\/g,"&#92;").replace(/'/g,"&#39;");/<[^<]*?&#39;[^<]*?>/g.test(o);)o=o.replace(/(<[^<]*?)&#39;([^<]*?>)/g,"$1\r$2");else o=t;return o})).replace(new RegExp("("+o+"[\\s]*?var[\\s]*?.*?[\\s]*?[^;])[\\s]*?"+i,"g"),"$1;"+i)).replace(new RegExp("("+o+":?[hvu]?[\\s]*?=[\\s]*?[^;|"+i+"]*?);[\\s]*?"+i,"g"),"$1"+i)).split(o).join("\t"),t=(t=(t=(t=(t=(t=(t=(t=this.ESCAPE?t.replace(new RegExp("\\t=(.*?)"+i,"g"),"',typeof($1) === 'undefined'?'':baidu.template._encodeHTML($1),'"):t.replace(new RegExp("\\t=(.*?)"+i,"g"),"',typeof($1) === 'undefined'?'':$1,'")).replace(new RegExp("\\t:h=(.*?)"+i,"g"),"',typeof($1) === 'undefined'?'':baidu.template._encodeHTML($1),'")).replace(new RegExp("\\t(?::=|-)(.*?)"+i,"g"),"',typeof($1)==='undefined'?'':$1,'")).replace(new RegExp("\\t:u=(.*?)"+i,"g"),"',typeof($1)==='undefined'?'':encodeURIComponent($1),'")).replace(new RegExp("\\t:v=(.*?)"+i,"g"),"',typeof($1)==='undefined'?'':baidu.template._encodeEventHTML($1),'")).split("\t").join("');")).split(i).join("_template_fun_array.push('")).split("\r").join("\\'")}}}),declare(function(){return{name:"TemplateVariableManager",namespace:"Cpro.Template",getFullName:function(t){return this.nameMapping[t]},getFullNameConfig:function(t){var e,o,i={},n={};for(key in t)key&&void 0!==t[key]&&(e=this.getFullName(key.toLowerCase()),"string"==typeof(o=t[key])&&(o=decodeURIComponent(o).replace("#","")),e?i[e]=o:i[key]=o,n[key.toLowerCase()]=o);return!(t=n).column&&t.wn&&(i.adColumnCount=parseInt(t.wn)),!t.row&&t.hn&&(i.adRowCount=parseInt(t.hn)),t.conw&&0<t.conw&&(i.templateWidth=t.conw),t.conh&&0<t.conh&&(i.templateHeight=t.conh),void 0!==i.containerBorderWidth&&(i.containerBorderTop=parseInt(i.containerBorderWidth),i.containerBorderRight=parseInt(i.containerBorderWidth),i.containerBorderBottom=parseInt(i.containerBorderWidth),i.containerBorderLeft=parseInt(i.containerBorderWidth)),i},getVariables:function(t){var e,o=using("Cpro.Template.DefaultValueManager").getDefaultValue(t);for(key in t)key&&void 0!==t[key]&&""!==(e="string"==typeof(e=t[key])?decodeURIComponent(e).replace("#",""):e)&&(o[key]=t[key]);return o},nameMapping:{n:"userChargingId",rsi0:"templateWidth",rsi1:"templateHeight",at:"adDataType",row:"adRowCount",column:"adColumnCount",rsi5:"keywordIsFlush",rss6:"keywordFlushColor",rad:"isShowUnrelated",cad:"isShowPublicAd",isgongyi:"isGongyi",rss7:"backupColor",aurl:"backupUrl",displaytype:"displayType",stufftype:"stuffType",layout:"layout",scale:"scale",rss0:"containerBorderColor",conbw:"containerBorderWidth",conbt:"containerBorderTop",conbr:"containerBorderRight",conbb:"containerBorderBottom",conbl:"containerBorderLeft",conbs:"containerBorderStyle",rss1:"containerBackgroundColor",conpl:"containerPaddingLeft",conpr:"containerPaddingRight",conpt:"containerPaddingTop",conpb:"containerPaddingBottom",conml:"containerMarginLeft",conmr:"containerMarginRight",conmt:"containerMarginTop",conmb:"containerMarginBottom",conop:"containerOpacity",consl:"containerShowLogo",conw:"containerWidth",conh:"containerHeight",conhhf:"containerHideHeaderFooter",conf:"containerFloat",conls:"containerLogoStyle",itepl:"itemPaddingLeft",itepr:"itemPaddingRight",itept:"itemPaddingTop",itepb:"itemPaddingBottom",iteva:"itemVerticalAlign",itecs:"itemColumnSpace",itecb:"itemColumnBackgroundColor",itecbw:"itemColumnBorderWidth",itecbs:"itemColumnBorderStyle",itecbc:"itemColumnBorderColor",itecpt:"itemColumnPaddingTop",itecpl:"itemColumnPaddingLeft",itecpr:"itemColumnPaddingRight",itecpb:"itemColumnPaddingBottom",itecmt:"itemColumnMarginTop",itecml:"itemColumnMarginLeft",itecmr:"itemColumnMarginRight",itecmb:"itemColumnMarginBottom",iters:"itemRowSpace",iterbw:"itemRowBorderWidth",iterbs:"itemRowBorderStyle",iterbc:"itemRowBorderColor",iterpt:"itemRowPaddingTop",iterpl:"itemRowPaddingLeft",iterpr:"itemRowPaddingRight",iterpb:"itemRowPaddingBottom",iteri:"itemRightImage",iteris:"itemRightImageSrc",iteriw:"itemRightImageWidth",iterih:"itemRightImageHeight",iteript:"itemRightImagePaddingTop",iteripl:"itemRightImagePaddingLeft",iteripr:"itemRightImagePaddingRight",iteripb:"itemRightImagePaddingBottom",logis:"logoIsShow",logpl:"logoPaddingLeft",logpr:"logoPaddingRight",logpt:"logoPaddingTop",logpb:"logoPaddingBottom",blogpl:"brandLogoPaddingLeft",blogpr:"brandLogoPaddingRight",blogpt:"brandLogoPaddingTop",blogpb:"brandLogoPaddingBottom",rss2:"titleFontColor",titff:"titleFontFamily",titfs:"titleFontSize",titl:"titleLength",titse:"titleIsShowEllipsis",titis:"titleIsShow",titrc:"titleRowCount",titpl:"titlePaddingLeft",titpr:"titlePaddingRight",titpt:"titlePaddingTop",titpb:"titlePaddingBottom",titsu:"titleShowUnderline",titlh:"titleLineHeight",titw:"titleWidth",titfw:"titleFontWeight",titbc:"titleBackgroundColor",tithfc:"titleHoverFontColor",tithsu:"titleHoverShowUnderline",tithbc:"titleHoverBackgroundColor",titvfc:"titleVisitedFontColor",titvsu:"titleVisitedShowUnderline",titvbc:"titleVisitedBackgroundColor",titafc:"titleActiveFontColor",titasu:"titleActiveShowUnderline",titabc:"titleActiveBackgroundColor",titta:"titleTextAlign",titfis:"titleFrontIconSrc",titfiw:"titleFrontIconWidth",titfih:"titleFrontIconHeight",titfil:"titleFrontIconPaddingLeft",titfip:"titleFrontIconPaddingRight",iconbh:"iconBackgroundColorHig",iconbl:"iconBackgroundColorLow",rss3:"descFontColor",desff:"descFontFamily",desfs:"descFontSize",desl:"descLength",desse:"descIsShowEllipsis",desis:"descIsShow",desrc:"descRowCount",despl:"descPaddingLeft",despr:"descPaddingRight",despt:"descPaddingTop",despb:"descPaddingBottom",dessu:"descShowUnderline",deslh:"descLineHeight",desw:"descWidth",desfw:"descFontWeight",desbc:"descBackgroundColor",deshfc:"descHoverFontColor",deshsu:"descHoverShowUnderline",deshbc:"descHoverBackgroundColor",desvfc:"descVisitedFontColor",desvsu:"descVisitedShowUnderline",desvbc:"descVisitedBackgroundColor",desafc:"descActiveFontColor",desasu:"descActiveShowUnderline",desabc:"descActiveBackgroundColor",desta:"descTextAlign",rss4:"urlFontColor",urlff:"urlFontFamily",urlfs:"urlFontSize",urll:"urlLength",urlse:"urlIsShowEllipsis",urlis:"urlIsShow",urlpl:"urlPaddingLeft",urlpr:"urlPaddingRight",urlpt:"urlPaddingTop",urlpb:"urlPaddingBottom",urlsu:"urlShowUnderline",urlrc:"urlRowCount",urllh:"urlLineHeight",urlw:"urlWidth",urlfw:"urlFontWeight",urlbc:"urlBackgroundColor",urlre:"urlReplace",urlhfc:"urlHoverFontColor",urlhsu:"urlHoverShowUnderline",urlhbc:"urlHoverBackgroundColor",urlvfc:"urlVisitedFontColor",urlvsu:"urlVisitedShowUnderline",urlvbc:"urlVisitedBackgroundColor",urlafc:"urlActiveFontColor",urlasu:"urlActiveShowUnderline",urlabc:"urlActiveBackgroundColor",urlta:"urlTextAlign"}}}),declare(function(){return{name:"VerticalAlignHelper",namespace:"Cpro.Template",text:function(t){t.userConfig;var e=t.fullConfig,o=t.layoutObj,i=(t.data,using("Cpro.Utility.CssBuilder")),n=e.itemVerticalAlign.toString().toLowerCase();if("-1"!==n&&"top"!==n)for(var o=o.props.id||"container",a=document.getElementById(o),l=e.idPrefix||"",r=0,d=a.childNodes.length;r<d;r++){var s=a.childNodes[r];if(s.className===l+"item"){parseInt(i.getStyle(s,"width").replace("px",""));for(var g,h=parseInt(i.getStyle(s,"height").replace("px","")),u=0,c=0,p=s.childNodes.length;c<p;c++)u+=s.childNodes[c].offsetHeight;0<h&&0<u&&u<h&&("middle"===n?(g=Math.floor((h-u)/2),s.style.paddingTop=g+"px",s.style.height=h-g+"px"):"bottom"===n&&(g=Math.floor(h-u),s.style.paddingTop=g+"px",s.style.height=h-g+"px"))}}},getStyle:function(t,e){var o;t=this.g(t);var i,n=this.getDocument(t),a="",a=-1<e.indexOf("-")?e.replace(/[-_][^-_]{1}/g,function(t){return t.charAt(1).toUpperCase()}):e.replace(/[A-Z]{1}/g,function(t){return"-"+t.charAt(0).toLowerCase()});return n&&n.defaultView&&n.defaultView.getComputedStyle?"boolean"==typeof(o=(i=n.defaultView.getComputedStyle(t,null))?i.getPropertyValue(e):o)||o||(o=i.getPropertyValue(a)):t.currentStyle&&("boolean"==typeof(o=(i=t.currentStyle)?i[e]:o)||o||(o=i[a])),o}}}),declare(function(){return{name:"Base",namespace:"Cpro.Template.LayoutEngine",GetCssName:function(t,e){return t=e.idPrefix?e.idPrefix+t:t},layoutContainer:function(t,e,o){var i={style:{},content:[],dataType:"layout",domName:"div",cssName:this.GetCssName("container",o)},n=i.style;return n["outer-width"]=t,n["outer-height"]=e,n["padding-left"]=parseInt(o.containerPaddingLeft),n["padding-right"]=parseInt(o.containerPaddingRight),n["padding-top"]=parseInt(o.containerPaddingTop),n["padding-bottom"]=parseInt(o.containerPaddingBottom),n["margin-top"]=parseInt(o.containerMarginTop),n["border-style"]=o.containerBorderStyle,n["border-top-width"]=o.containerBorderTop,n["border-right-width"]=o.containerBorderRight,n["border-bottom-width"]=o.containerBorderBottom,n["border-left-width"]=o.containerBorderLeft,n["border-color"]="#"+o.containerBorderColor.replace("#",""),n.width=t-n["padding-left"]-n["padding-right"]-n["border-right-width"]-n["border-left-width"],n.height=e-n["padding-top"]-n["padding-bottom"]-n["border-top-width"]-n["border-bottom-width"],n["background-color"]="#"+o.containerBackgroundColor.replace("#",""),1==parseInt(o.containerOpacity)&&(n["background-color"]="transparent"),n.position="relative",n.overflow="hidden",i.props={id:o.idPrefix?o.idPrefix+"container":"container"},n.float=o.containerFloat,i},layoutItem:function(t,e,o){var i={style:{},content:[],dataType:"layout",domName:"div",cssName:this.GetCssName("item",o)},n=i.style;return n["outer-width"]=t,n["outer-height"]=e,n["padding-left"]=parseInt(o.itemPaddingLeft),n["padding-right"]=parseInt(o.itemPaddingRight),n["padding-top"]=parseInt(o.itemPaddingTop),n["padding-bottom"]=parseInt(o.itemPaddingBottom),n.width=Math.floor(n["outer-width"]-n["padding-left"]-n["padding-right"]),n.height=Math.floor(n["outer-height"]-n["padding-top"]-n["padding-bottom"]),n.float="left",n.overflow="hidden",n["text-align"]=o.itemTextAlign||"left","undefined"==typeof isGongyi||!isGongyi||"text"!==o.stuffType&&"tuwen"!==o.stuffType||(n.width=250<n.width?250:n.width,n.height=90<n.height?90:n.height,n["padding-left"]=n["padding-left"]+(t-n.width)/2,n["padding-top"]=n["padding-top"]+(e-n.height)/2),i},layoutIcon:function(t,e,o){var i={style:{},content:[],dataType:"icon",domName:"div",dataKey:"icon",enableClick:o.iconLinkUnitConfig.enableClick},n=i.style;return n["padding-left"]=parseInt(o.titleFrontIconPaddingLeft)||0,n["padding-right"]=parseInt(o.titleFrontIconPaddingRight)||0,n["padding-top"]=parseInt(o.titleFrontIconPaddingTop)||0,n["padding-bottom"]=parseInt(o.titleFrontIconPaddingBottom)||0,n.width=t,n.height=e,n.float="left",i},layoutRightImage:function(t,e,o,i,n){var a={style:{},content:[],dataType:"text",domName:"div",cssName:this.GetCssName("itemRightImage",n),dataKey:"rightimage"},l=a.style;return l.width=t,l.height=e,l.position="absolute",l.overflow="hidden",n.templateWidth<=180?(l.right=(n.itemRightImagePaddingRight||(o-t)/2)+"px",l.bottom=n.itemRightImagePaddingBottom+"px"):(l.right=n.itemRightImagePaddingRight+"px",l.top=(n.itemRightImagePaddingTop||(i-e)/2)+"px"),a},layoutTitle:function(t,e,o,i){var n={style:{},content:[],dataType:"text",domName:"div",cssName:this.GetCssName("title",o),dataKey:"title"},a=n.style;return a["outer-width"]=t,a["outer-height"]=e,a["padding-left"]=parseInt(o.titlePaddingLeft),a["padding-right"]=parseInt(o.titlePaddingRight),a["padding-top"]=parseInt(o.titlePaddingTop),a["padding-bottom"]=parseInt(o.titlePaddingBottom),a["line-height"]=this.calculateTitleLineHeight(o),a.width=a["outer-width"]-a["padding-left"]-a["padding-right"],a.height=a["outer-height"]-a["padding-top"]-a["padding-bottom"],a.overflow="hidden",a["font-size"]=o.titleFontSize,a["font-family"]=o.titleFontFamily,a["text-align"]=o.titleTextAlign,a.color="#"+o.titleFontColor.replace("#",""),a["text-decoration"]=o.titleShowUnderline?"underline":"none",a["font-weight"]=o.titleFontWeight,n.rowCount=0<o.titleRowCount?o.titleRowCount:this.calculateTitleRowCount(e,o),n.showEllipsis=o.titleIsShowEllipsis,i&&(a.float=i),"-1"===o.titleHoverFontColor.toString()&&"-1"===o.titleHoverShowUnderline.toString()&&"-1"===o.titleHoverBackgroundColor.toString()||(i=n.styleHover={},"-1"!==o.titleHoverFontColor.toString()&&(i.color="#"+o.titleHoverFontColor.toString().replace("#","")),"-1"!==o.titleHoverShowUnderline.toString()&&(i["text-decoration"]=o.titleHoverShowUnderline?"underline":"none"),"-1"!==o.titleHoverBackgroundColor.toString()&&(i["background-color"]="#"+o.titleHoverBackgroundColor.toString().replace("#",""))),n},layoutUrl:function(t,e,o,i){var n={style:{},content:[],dataType:"text",domName:"div",cssName:this.GetCssName("url",o),dataKey:"surl"},a=n.style;return a["outer-width"]=t,a["outer-height"]=e,a["padding-left"]=parseInt(o.urlPaddingLeft),a["padding-right"]=parseInt(o.urlPaddingRight),a["padding-top"]=parseInt(o.urlPaddingTop),a["padding-bottom"]=parseInt(o.urlPaddingBottom),a["line-height"]=this.calculateUrlLineHeight(o),a.width=a["outer-width"]-a["padding-left"]-a["padding-right"],a.height=a["outer-height"]-a["padding-top"]-a["padding-bottom"],a.overflow="hidden",a["font-size"]=o.urlFontSize,a["font-family"]=o.urlFontFamily,a["text-align"]=o.urlTextAlign,a.color="#"+o.urlFontColor.replace("#",""),a.float="left",a["text-decoration"]=o.urlShowUnderline?"underline":"none",a["font-weight"]=o.urlFontWeight,n.rowCount=0<o.urlRowCount?o.urlRowCount:1,n.showEllipsis=o.urlIsShowEllipsis,i&&(a.float=i),"-1"===o.urlHoverFontColor.toString()&&"-1"===o.urlHoverShowUnderline.toString()&&"-1"===o.urlHoverBackgroundColor.toString()||(i=n.styleHover={},"-1"!==o.urlHoverFontColor.toString()&&(i.color="#"+o.urlHoverFontColor.toString().replace("#","")),"-1"!==o.urlHoverShowUnderline.toString()&&(i["text-decoration"]=o.urlHoverShowUnderline?"underline":"none"),"-1"!==o.urlHoverBackgroundColor.toString()&&(i["background-color"]="#"+o.urlHoverBackgroundColor.toString().replace("#",""))),n},layoutDesc:function(t,e,o,i){var n={style:{},content:[],dataType:"text",domName:"div",cssName:this.GetCssName("desc",o),dataKey:"desc"},a=n.style;return a["outer-width"]=t,a["outer-height"]=e,a["padding-left"]=parseInt(o.descPaddingLeft),a["padding-right"]=parseInt(o.descPaddingRight),a["padding-top"]=parseInt(o.descPaddingTop),a["padding-bottom"]=parseInt(o.descPaddingBottom),a["line-height"]=this.calculateDescLineHeight(o),a.width=a["outer-width"]-a["padding-left"]-a["padding-right"],a.height=a["outer-height"]-a["padding-top"]-a["padding-bottom"],a.overflow="hidden",a["font-size"]=o.descFontSize,a["font-family"]=o.descFontFamily,a["text-align"]=o.descTextAlign,a.color="#"+o.descFontColor.replace("#",""),a.float="left",a["text-decoration"]=o.descShowUnderline?"underline":"none",a["font-weight"]=o.descFontWeight,n.rowCount=0<o.descRowCount?o.descRowCount:this.calculateDescRowCount(e,o),n.showEllipsis=o.descIsShowEllipsis,i&&(a.float=i),"-1"===o.descHoverFontColor.toString()&&"-1"===o.descHoverShowUnderline.toString()&&"-1"===o.descHoverBackgroundColor.toString()||(i=n.styleHover={},"-1"!==o.descHoverFontColor.toString()&&(i.color="#"+o.descHoverFontColor.toString().replace("#","")),"-1"!==o.descHoverShowUnderline.toString()&&(i["text-decoration"]=o.descHoverShowUnderline?"underline":"none"),"-1"!==o.descHoverBackgroundColor.toString()&&(i["background-color"]="#"+o.descHoverBackgroundColor.toString().replace("#",""))),n},layoutLogo:function(t,e,o){var i={style:{},content:[],dataType:"image",domName:"div",cssName:this.GetCssName("logo",o),dataKey:"res"},n=i.style;return n["outer-width"]=t,n["outer-height"]=e,n["padding-left"]=parseInt(o.logoPaddingLeft),n["padding-right"]=parseInt(o.logoPaddingRight),n["padding-top"]=parseInt(o.logoPaddingTop),n["padding-bottom"]=parseInt(o.logoPaddingBottom),n.width=n["outer-width"]-n["padding-left"]-n["padding-right"],n.height=n["outer-height"]-n["padding-top"]-n["padding-bottom"],n.float="left",n.overflow="hidden",i},layoutBrandLogo:function(t,e,o,i){var n={style:{},content:[],dataType:"image",domName:"div",cssName:this.GetCssName("brandLogo",o),dataKey:"brand"},a=n.style;return a["outer-width"]=t,a["outer-height"]=e,a["padding-left"]=parseInt(o.brandLogoPaddingLeft),a["padding-right"]=parseInt(o.brandLogoPaddingRight),a["padding-top"]=parseInt(o.brandLogoPaddingTop),a["padding-bottom"]=parseInt(o.brandLogoPaddingBottom),a.width=a["outer-width"]-a["padding-left"]-a["padding-right"],a.height=a["outer-height"]-a["padding-top"]-a["padding-bottom"],a.overflow="hidden",i&&(a.float=i),n},layoutImage:function(t,e,o){var i={style:{},content:[],dataType:"image",domName:"div",cssName:this.GetCssName("image",o),dataKey:"res"},n=i.style;return n["outer-width"]=t,n["outer-height"]=e,n["padding-left"]=parseInt(o.imagePaddingLeft)||0,n["padding-right"]=parseInt(o.imagePaddingRight)||0,n["padding-top"]=parseInt(o.imagePaddingTop)||0,n["padding-bottom"]=parseInt(o.imagePaddingBottom)||0,n.width=n["outer-width"]-n["padding-left"]-n["padding-right"],n.height=n["outer-height"]-n["padding-top"]-n["padding-bottom"],n.float="left",n.overflow="hidden",i},layoutFlash:function(t,e,o){var i={style:{},content:[],dataType:"flash",domName:"div",cssName:this.GetCssName("flash",o),dataKey:"res"},n=i.style;return n["outer-width"]=t,n["outer-height"]=e,n["padding-left"]=parseInt(o.flashPaddingLeft)||0,n["padding-right"]=parseInt(o.flashPaddingRight)||0,n["padding-top"]=parseInt(o.flashPaddingTop)||0,n["padding-bottom"]=parseInt(o.flashPaddingBottom)||0,n.width=n["outer-width"]-n["padding-left"]-n["padding-right"],n.height=n["outer-height"]-n["padding-top"]-n["padding-bottom"],n.float="left",n.overflow="hidden",i},layoutColumnSpace:function(t,e,o){var i={style:{},content:[],dataType:"layout",domName:"div",cssName:this.GetCssName("itemColumnSpace",o)},n=i.style;return n.width=t,n.height=e-o.itemColumnMarginTop-o.itemColumnMarginBottom,n.float="left",n.overflow="hidden",n["margin-top"]=o.itemColumnMarginTop,n["margin-bottom"]=o.itemColumnMarginBottom,o.itemColumnBackgroundColor&&(n["background-color"]="#"+o.itemColumnBackgroundColor),o.itemColumnBorderWidth&&((n={style:{},content:[],dataType:"layout",domName:"div",cssName:this.GetCssName("itemColumnSpaceLine",o)}).style.width=1,n.style.height=e,n.style["border-style"]=o.itemColumnBorderStyle,"-1"===o.itemColumnBorderColor.toString()?n.style["border-color"]="#"+o.containerBorderColor:n.style["border-color"]="#"+o.itemColumnBorderColor,n.style["border-width"]=0,n.style["border-left-width"]=o.itemColumnBorderWidth,n.style["margin-left"]=Math.floor(t/2)-1,n.style.overflow="hidden",i.content.push(n)),i},layoutRowSpace:function(t,e,o){var i={style:{},content:[],dataType:"layout",domName:"div",cssName:this.GetCssName("itemRowSpace",o)},n=i.style;return n.width=t,n.height=e,n.clear="both",n.overflow="hidden",o.itemRowBorderWidth&&((n={style:{},content:[],dataType:"layout",domName:"div",cssName:this.GetCssName("itemRowSpaceLine",o)}).style.width=t,n.style.height=1,n.style["border-style"]=o.itemRowBorderStyle,"-1"===o.itemRowBorderColor.toString()?n.style["border-color"]="#"+o.containerBorderColor:n.style["border-color"]="#"+o.itemRowBorderColor,n.style["border-width"]=0,n.style["border-top-width"]=o.itemRowBorderWidth,n.style["margin-top"]=Math.floor(e/2)-1,n.style.overflow="hidden",i.content.push(n)),i},layoutSpace:function(t,e,o){for(var i,n=this.layoutColumnSpace(o.itemColumnSpace,e.style.height,o),a=this.layoutRowSpace(t.style.width,o.itemRowSpace,o),l=0;l<o.adRowCount;l++){for(i=0;i<o.adColumnCount;i++)t.content.push(e),i!=o.adColumnCount-1&&t.content.push(n);l!=o.adRowCount-1&&t.content.push(a)}return t},calculateLogo:function(t,e,o){var i={height:0,width:0};return i.height=64<e?64:e,i.width=i.height+o.logoPaddingLeft+o.logoPaddingRight,i},calculateImage:function(t,e,o){var i={height:0,width:0};return i.height=e,i.width=t,i},calculateFlash:function(t,e,o){var i={height:0,width:0};return i.height=e,i.width=t,i},calculateTitle:function(t,e,o){var i={height:0,width:0};i.width=-1!==o.titleWidth?o.titleWidth:t-o.titleFrontIconWidth;var n=this.calculateTitleLineHeight(o),a=1;(60<e&&t<=120||110<e&&t<=180)&&(a=2);a=0<o.titleRowCount?o.titleRowCount:a;return i.height=n*a+o.titlePaddingTop+o.titlePaddingBottom,i},calculateUrl:function(t,e,o){var i={height:0,width:0};i.width=t;var n=this.calculateUrlLineHeight(o),t=0<o.urlRowCount?o.urlRowCount:1;return i.height=n*t+o.urlPaddingTop+o.urlPaddingBottom,i},calculateTitleRowCount:function(t,e){var o=this.calculateTitleLineHeight(e),o=Math.floor((t-e.titlePaddingTop-e.titlePaddingBottom)/o);return o=2<=o?2:o},calculateDescRowCount:function(t,e){var o=this.calculateDescLineHeight(e),o=Math.floor((t-e.descPaddingTop-e.descPaddingBottom)/o);return o=4<o?4:o},calculateTitleLineHeight:function(t){return 0<t.titleLineHeight?t.titleLineHeight:t.titleFontSize+2},calculateDescLineHeight:function(t){return 0<t.descLineHeight?t.descLineHeight:t.descFontSize+2},calculateUrlLineHeight:function(t){return 0<t.urlLineHeight?t.urlLineHeight:t.urlFontSize+2}}}),declare(function(){return{name:"Flash",namespace:"Cpro.Template.LayoutEngine",layout:function(t){t.userConfig;var e=t.fullConfig,o={},i=using("Cpro.Template.LayoutEngine.Base"),n=e.templateWidth,a=e.templateHeight,l=i.layoutContainer(n,a,e);1==e.adRowCount&&1==e.adColumnCount&&(l.style["text-align"]="center");var r=Math.floor((l.style.width-e.itemColumnSpace*(e.adColumnCount-1))/e.adColumnCount),d=Math.floor((l.style.height-e.itemRowSpace*(e.adRowCount-1))/e.adRowCount),t=i.layoutItem(r,d,e),n=i.calculateFlash(t.style.width,t.style.height,e),a=n.width,n=n.height,n=i.layoutFlash(a,n,e);o[n.dataKey]=n,t.content.push(n);i.layoutColumnSpace(e.itemColumnSpace,d,e),i.layoutRowSpace(r,e.itemRowSpace,e);return(l=i.layoutSpace(l,t,e)).layoutIndex=o,l}}}),declare(function(){return IconLinkUnitLayoutEngine={name:"IconLinkUnit",namespace:"Cpro.Template.LayoutEngine",layout:function(t){t.userConfig;var e=t.fullConfig,o={},i=using("Cpro.Template.LayoutEngine.Base");e.containerPaddingLeft=0,e.containerPaddingRight=0,e.containerPaddingTop=0,e.containerPaddingBottom=0;var n=e.templateWidth,a=e.templateHeight,l=i.layoutContainer(n,a,e);1==e.adRowCount&&(l.style["text-align"]="center"),e.titlePaddingLeft=0,e.titlePaddingRight=0,e.titlePaddingTop=0,e.titlePaddingBottom=0;t=7*e.titleFontSize,n=e.titleFontSize+4;e.titleLineHeight=e.titleFontSize+4,e.titleFontFamily=decodeURIComponent(e.titleFontFamily),e.titleFontFamily!==decodeURIComponent("%E5%AE%8B%E4%BD%93")&&(e.titleFontFamily+=","+decodeURIComponent("%E5%AE%8B%E4%BD%93")),1==e.adRowCount&&(e.titleTextAlign="center");a=i.layoutTitle(t,n,e,"left");o[a.dataKey]=a,e.itemPaddingLeft=6,e.itemPaddingRight=6,e.itemPaddingTop=1,e.itemPaddingBottom=1;var r,t=7*e.titleFontSize+e.itemPaddingLeft+e.itemPaddingRight,n=e.titleFontSize+4+e.itemPaddingTop+e.itemPaddingBottom;e.iconLinkUnitConfig&&(d=12==e.titleFontSize?15:16,r=12==e.titleFontSize?12:15,e.titleFrontIconPaddingRight=5,o[(r=i.layoutIcon(d,r,e)).dataKey]=r,t=t+d+e.titleFrontIconPaddingRight);var d=i.layoutItem(t,n,e);return e.iconLinkUnitConfig&&d.content.push(r),d.content.push(a),1<e.adColumnCount?e.itemColumnSpace=Math.floor((e.templateWidth-2*e.containerBorderWidth-t*e.adColumnCount)/(e.adColumnCount-1)):e.itemColumnSpace=e.templateWidth-2*e.containerBorderWidth-t*e.adColumnCount,1<e.adRowCount?e.itemRowSpace=Math.floor((e.templateHeight-2*e.containerBorderWidth-n*e.adRowCount)/(e.adRowCount-1)):e.itemRowSpace=e.templateHeight-2*e.containerBorderWidth-n*e.adRowCount,(l=i.layoutSpace(l,d,e)).layoutIndex=o,l}}}),declare(function(){return{name:"Image",namespace:"Cpro.Template.LayoutEngine",layout:function(t){t.userConfig;var e=t.fullConfig,o={},i=using("Cpro.Template.LayoutEngine.Base"),n=e.templateWidth,a=e.templateHeight,l=i.layoutContainer(n,a,e);1==e.adRowCount&&1==e.adColumnCount&&(l.style["text-align"]="center");var r=Math.floor((l.style.width-e.itemColumnSpace*(e.adColumnCount-1))/e.adColumnCount),d=Math.floor((l.style.height-e.itemRowSpace*(e.adRowCount-1))/e.adRowCount),t=i.layoutItem(r,d,e),n=i.calculateImage(t.style.width,t.style.height,e),a=n.height,n=n.width,a=i.layoutImage(n,a,e);o[a.dataKey]=a,t.content.push(a);i.layoutColumnSpace(e.itemColumnSpace,d,e),i.layoutRowSpace(r,e.itemRowSpace,e);return(l=i.layoutSpace(l,t,e)).layoutIndex=o,l}}}),declare(function(){return LinkUnit1LayoutEngine={name:"LinkUnit1",namespace:"Cpro.Template.LayoutEngine",layout:function(t){t.userConfig;var e=t.fullConfig,o={},i=using("Cpro.Template.LayoutEngine.Base"),n=e.templateWidth,a=e.templateHeight,l=i.layoutContainer(n,a,e);1==e.adRowCount&&1==e.adColumnCount&&(l.style["text-align"]="center");var r=Math.floor((l.style.width-e.itemColumnSpace*(e.adColumnCount-1))/e.adColumnCount),t=Math.floor((l.style.height-e.itemRowSpace*(e.adRowCount-1))/e.adRowCount),n=i.layoutItem(r,t,e);e.titleFrontIconSrc&&(d=i.layoutIcon(e.titleFrontIconWidth,e.titleFrontIconHeight,e),n.content.push(d));var a=i.calculateTitle(n.style.width,n.style.height,e),d=a.width,a=a.height;o[(a=e.titleFrontIconSrc?i.layoutTitle(d,a,e,"left"):i.layoutTitle(d,a,e)).dataKey]=a,n.content.push(a);i.layoutColumnSpace(e.itemColumnSpace,t,e),i.layoutRowSpace(r,e.itemRowSpace,e);return(l=i.layoutSpace(l,n,e)).layoutIndex=o,l}}}),declare(function(){return SingleLineLayoutEngine={name:"SingleLine",namespace:"Cpro.Template.LayoutEngine",layout:function(t){var e=t.userConfig,o=t.fullConfig,i=(t.isRecursion,{}),n=using("Cpro.Template.LayoutEngine.Base");e.itemRowSpace||(o.itemRowSpace=7),e.titlePaddingBottom||(o.titlePaddingBottom=0),e.titlePaddingRight||(o.titlePaddingRight=5),e.descPaddingRight||(o.descPaddingRight=5);var a=o.templateWidth,l=o.templateHeight,r=n.layoutContainer(a,l,o),d=Math.floor((r.style.width-o.itemColumnSpace*(o.adColumnCount-1))/o.adColumnCount),s=Math.floor((r.style.height-o.itemRowSpace*(o.adRowCount-1))/o.adRowCount),g=n.layoutItem(d,s,o);e.titleWidth||(o.urlIsShow||o.descIsShow?(c=300<(c=Math.floor(2*g.style.width/5))?300:c,o.titleWidth=c):o.titleWidth=g.style.width);var h=n.calculateTitle(g.style.width,g.style.height,o).width,t=g.style.height,a=n.layoutTitle(h,t,o);a.domName="span",a.style.display="inline-block",a.style["text-overflow"]=o.titleIsShowEllipsis?"ellipsis":"clip",a.style["white-space"]="nowrap",a.style["line-height"]=a.style.height,i[a.dataKey]=a;var u,l=0,c=t;o.urlIsShow&&(e.urlWidth||(u=Math.floor(+g.style.width/5),l=o.urlWidth=u<100?100:u),(u=n.layoutUrl(l,c,o)).domName="span",u.style.display="inline-block",u.style["text-overflow"]=o.urlIsShowEllipsis?"ellipsis":"clip",u.style["white-space"]="nowrap",u.style.float="none",u.style["line-height"]=u.style.height,i[u.dataKey]=u);c=h;e.descWidth||(c=o.descWidth=l=(l=d-h-l)<0?0:l);t=n.layoutDesc(c,t,o);t.domName="span",t.style.display="inline-block",t.style["text-overflow"]=o.descIsShowEllipsis?"ellipsis":"clip",t.style["white-space"]="nowrap",t.style.float="none",t.style["line-height"]=t.style.height,t.rowCount=1,i[t.dataKey]=t,o.titleIsShow&&g.content.push(a),o.descIsShow&&g.content.push(t),(0<o.urlIsShow||-1===o.urlIsShow)&&g.content.push(u);n.layoutColumnSpace(o.itemColumnSpace,s,o),n.layoutRowSpace(d,o.itemRowSpace,o);return(r=n.layoutSpace(r,g,o)).layoutIndex=i,r}}}),declare(function(){return{name:"SmartIdea",namespace:"Cpro.Template.LayoutEngine",symbolStyle:{style:{"padding-right":2,cursor:"pointer"}},suffixStyle:{style:{"font-size":10,color:"#FFFFFF","line-height":9,display:"inline-block",width:9,height:9,position:"relative",left:"10px","text-align":"center",cursor:"pointer"}},noPriceStyle:{style:{"font-size":14,color:"#FFFFFF","line-height":24,width:80,display:"inline-block",position:"relative","background-color":"#436CE9","text-align":"center",cursor:"pointer"}},layout:function(t){t.userConfig;var e=t.fullConfig,o=(t.isRecursion,"left"),i="left",n="blockLayout",a=!0,l=e.urlIsShow,r={},d=using("Cpro.Template.LayoutEngine.Base"),s=using("Cpro.Template.PaintEngine"),g=using("Cpro.Utility.CssBuilder"),h=e.templateWidth,u=e.templateHeight,t=d.layoutContainer(h,u,e),h=Math.floor((t.style.width-e.itemColumnSpace*(e.adColumnCount-1))/e.adColumnCount),u=Math.floor((t.style.height-e.itemRowSpace*(e.adRowCount-1))/e.adRowCount),h=d.layoutItem(h,u,e);"smartidea1"===e.stuffType&&(a=!1),n=.5<h.style.height/h.style.width&&h.style.height/h.style.width<2?"blockLayout":2<=h.style.height/h.style.width?"verticalLayout":"HorizontalLayout","smartidea2"===e.stuffType&&"blockLayout"===n?i=o="right":"HorizontalLayout"===n&&(i="right");var c,p,u=2;"blockLayout"===n?(c=5*Math.floor(h.style.height/32.5),p=Math.floor(c*u)):"HorizontalLayout"===n?(p=Math.floor(h.style.width/4),e.brandLogoPaddingTop=0<e.brandLogoPaddingTop?e.brandLogoPaddingTop:4,e.brandLogoPaddingBottom=0<e.brandLogoPaddingBottom?e.brandLogoPaddingBottom:4,80<h.style.height&&720<h.style.width&&(u=1.5)):(500<h.style.height&&(u=1.5),c=Math.round(h.style.height/6),e.brandLogoPaddingLeft=0<e.brandLogoPaddingLeft?e.brandLogoPaddingLeft:19,e.brandLogoPaddingRight=0<e.brandLogoPaddingRight?e.brandLogoPaddingRight:19),c=e.brandLogoHeight||c||h.style.height,p=e.brandLogoWidth||p||h.style.width,"HorizontalLayout"===n?(w=c-e.brandLogoPaddingTop-e.brandLogoPaddingBottom,f=Math.floor(w*u),e.brandLogoPaddingLeft=e.brandLogoPaddingRight=f<p?(p-f)/2:0):"verticalLayout"===n&&(f=p-e.brandLogoPaddingLeft-e.brandLogoPaddingRight,w=Math.floor(f/u),e.brandLogoPaddingTop=e.brandLogoPaddingBottom=w<c?(c-w)/2:0);var m,y,f=d.layoutBrandLogo(p,c,e,o);r[f.dataKey]=f,"blockLayout"===n?(e.logoPaddingTop=0<e.logoPaddingTop?e.logoPaddingTop:10,e.logoPaddingBottom=0<e.logoPaddingBottom?e.logoPaddingBottom:10,m=.5*h.style.height+e.logoPaddingTop+e.logoPaddingBottom,"smartidea2"===e.stuffType&&(m=.6*h.style.height,h.style.height<=250&&h.style.height>=h.style.width&&(m-=c,l=!1))):"HorizontalLayout"===n?(e.logoPaddingTop=0<e.logoPaddingTop?e.logoPaddingTop:4,e.logoPaddingBottom=0<e.logoPaddingBottom?e.logoPaddingBottom:4,y=10*Math.round(h.style.width/65)):(m=h.style.height/3,e.logoPaddingLeft=0<e.logoPaddingLeft?e.logoPaddingLeft:19,e.logoPaddingRight=e.logoPaddingLeft),m=e.logoHeight||m||h.style.height,y=e.logoWidth||y||h.style.width,"verticalLayout"===n?(S=y-e.logoPaddingLeft-e.logoPaddingRight,T=e.logoImgHeight||3*S/4,e.logoPaddingTop=0<m-T-e.logoPaddingBottom?Math.floor(m-T-e.logoPaddingBottom):0):(T=m-e.logoPaddingTop-e.logoPaddingBottom,S=e.logoImgWidth||4*T/3,e.logoPaddingLeft=e.logoPaddingRight=S<y?Math.floor((y-S)/2):0);u=d.layoutLogo(Math.floor(y),Math.floor(m),e);r[u.dataKey]=u,"blockLayout"===n?"smartidea2"===e.stuffType&&(C=h.style.width-p,h.style.height<=250&&h.style.height>=h.style.width&&(C=h.style.width)):"HorizontalLayout"===n&&(R=3,800<h.style.width&&(R=3.5),C=2*Math.round(h.style.width/(2*R*10))*10),e.descRowCount=0<e.descRowCount?e.descRowCount:1;var w=d.calculateDescLineHeight(e)*e.descRowCount+e.descPaddingTop+e.descPaddingBottom,C=0<e.descWidth?e.descWidth:C||h.style.width,o=12*e.titleFontSize;"smartidea2"===e.stuffType&&(o=(o=9*e.titleFontSize)>11*e.descFontSize?o:11*e.descFontSize);var T=Math.floor((C-o)/2);e.descPaddingLeft=e.titlePaddingLeft=e.descPaddingRight=e.titlePaddingRight=0<T?T:0;var S=d.layoutDesc(C,w,e,"left");r[S.dataKey]=S,"blockLayout"===n?"smartidea1"===e.stuffType||(v=h.style.height-m,P=e.logoPaddingTop,h.style.height<=250&&h.style.height>=h.style.width&&(v-=c)):"HorizontalLayout"===n?P=0:(v=h.style.height-c-m,e.titlePaddingTop=0<e.titlePaddingTop?e.titlePaddingTop:5),v=v||h.style.height,R=C||h.style.width,a&&(v-=w);var P,o=d.calculateTitle(R,v,e);"undifine"==typeof P||0<(T=v-o.height+P)&&(P=e.titlePaddingTop,e.titlePaddingTop=Math.floor(T/2),o.height+=e.titlePaddingTop-P);var v=o.height,R=o.width,o=d.layoutTitle(o.width,o.height,e,"left");r[o.dataKey]=o,"blockLayout"===n?"smartidea1"===e.stuffType?(L=0<(L=h.style.height-m-c-v)?L:0,e.urlPaddingBottom<=0&&(298<=h.style.height?e.urlPaddingBottom=19:248<=h.style.height?e.urlPaddingBottom=14:e.urlPaddingBottom=9)):(L=h.style.height-m-c,b=p,L=30+e.urlPaddingBottom+e.urlPaddingTop):"HorizontalLayout"===n?(b=h.style.width-p-y-C,"smartidea2"===e.stuffType&&(e.urlPaddingLeft=10)):(L=h.style.height-m-c-v,a&&(L-=w),L=0<L?L:0,e.urlPaddingBottom<=0&&(500<=h.style.height?e.urlPaddingBottom=119:300<=h.style.height?e.urlPaddingBottom=64:e.urlPaddingBottom=34));var L=L||h.style.height,b=b||h.style.width,w=d.calculateUrlLineHeight(e);0<e.urlPaddingBottom?(e.urlPaddingTop=0<=L-e.urlPaddingBottom-w?L-e.urlPaddingBottom-w:0,e.urlPaddingBottom=0<=L-e.urlPaddingTop-w?L-e.urlPaddingTop-w:0):"HorizontalLayout"===n&&(e.urlPaddingTop=e.urlPaddingBottom=Math.floor((L-w)/2));i=d.layoutUrl(b,L,e,i);r[i.dataKey]=i,S.style["word-wrap"]=o.style["word-wrap"]="break-word",S.style["word-break"]=o.style["word-break"]="break-all",this.symbolStyle.style["font-size"]=e.symbolSize||12,"verticalLayout"===n&&(this.suffixStyle.style.left="3px"),this.suffixStyle.style["background-color"]="#"+e.urlFontColor,this.suffixStyle.style.top="-"+Math.floor(e.urlFontSize/4)+"px",b<80&&(this.noPriceStyle.style.width=60,this.noPriceStyle.style["font-size"]=12);b=s.getStyle("symbol",this.symbolStyle);return b+=s.getStyle("suffix",this.suffixStyle),b+=s.getStyle("noPrice",this.noPriceStyle),g.addCss(b),"blockLayout"===n&&"smartidea1"===e.stuffType||"verticalLayout"===n?(h.content.push(f),h.content.push(u),h.content.push(o),a&&h.content.push(S),l&&h.content.push(i),r.item=h):"blockLayout"===n&&"smartidea2"===e.stuffType?(h.content.push(f),h.content.push(o),a&&h.content.push(S),l&&h.content.push(i),h.content.push(u),r.item=h):"HorizontalLayout"===n&&(h.content.push(f),h.content.push(u),"smartidea2"===e.stuffType&&h.content.push(i),h.content.push(o),a&&h.content.push(S),"smartidea1"===e.stuffType&&h.content.push(i),r.item=h),(t=d.layoutSpace(t,h,e)).layoutIndex=r,t}}}),declare(function(){return TextLayoutEngine={name:"Text",namespace:"Cpro.Template.LayoutEngine",layout:function(t){var e=t.userConfig,o=t.fullConfig,i=t.isRecursion,n=!0,a={},l=using("Cpro.Template.LayoutEngine.Base"),r=o.templateWidth,d=o.templateHeight,s=l.layoutContainer(r,d,o),g=Math.floor((s.style.width-o.itemColumnSpace*(o.adColumnCount-1))/o.adColumnCount),h=Math.floor((s.style.height-o.itemRowSpace*(o.adRowCount-1))/o.adRowCount),u=l.layoutItem(g,h,o),c=l.calculateTitle(u.style.width,u.style.height,o),p=o.itemRightImage?c.width-3:c.width,m=c.height,y=l.layoutTitle(p,m,o);a[y.dataKey]=y;r=l.calculateUrl(u.style.width,u.style.height,o),d=o.itemRightImage?r.width-3:r.width,c=r.height,p=l.layoutUrl(d,c,o);a[p.dataKey]=p;r=o.itemRightImage?u.style.width-3:u.style.width,d=u.style.height-m-c,c=l.calculateDescRowCount(d,o);if(void 0===e.urlIsShow&&(c<1||c<2&&r<450)&&(n=!1,d=u.style.height-m),!i&&void 0===e.urlIsShow&&!n&&void 0===e.itemRowSpace)return o.itemRowSpace=4,void 0===e.titlePaddingBottom&&(o.titlePaddingBottom=1),o.titlePadding,t.isRecursion=!0,this.layout(t);d=l.layoutDesc(r,d,o);a[d.dataKey]=d,o.titleIsShow&&u.content.push(y),o.descIsShow&&u.content.push(d),(0<o.urlIsShow||-1===o.urlIsShow&&n)&&u.content.push(p),o.itemRightImage&&(p=l.layoutRightImage(o.itemRightImageWidth,o.itemRightImageHeight,u.style.width,u.style.height,o),u.content.push(p));l.layoutColumnSpace(o.itemColumnSpace,h,o),l.layoutRowSpace(g,o.itemRowSpace,o);return(s=l.layoutSpace(s,u,o)).layoutIndex=a,s}}}),declare(function(){return{name:"Tuwen",namespace:"Cpro.Template.LayoutEngine",layout:function(t){t.userConfig;var e=t.fullConfig,o=(t.isRecursion,!0),i={},n=using("Cpro.Template.LayoutEngine.Base"),a=e.templateWidth,l=e.templateHeight,r=n.layoutContainer(a,l,e),t=Math.floor((r.style.width-e.itemColumnSpace*(e.adColumnCount-1))/e.adColumnCount),a=Math.floor((r.style.height-e.itemRowSpace*(e.adRowCount-1))/e.adRowCount);1==e.adRowCount&&1==e.adColumnCount&&(t=500<t?500:t);var d,s,g,h,u,c,p,m,y,f,w,C,T,S,P,l=n.layoutItem(t,a,e);l.style.height<=60||""!=e.scale?(p="20.3"==e.scale?(c=(u=n.calculateLogo(l.style.width,l.style.height,e)).height,u.width+e.logoPaddingRight+e.logoPaddingLeft):(c=p=l.style.height,c=p=l.style.height,p+e.logoPaddingRight+e.logoPaddingLeft),i[(m=n.layoutLogo(p,c,e)).dataKey]=m,h=(d=n.calculateTitle(l.style.width-p,l.style.height,e)).width,s=d.height,i[(g=n.layoutTitle(h,s,e,"left")).dataKey]=g,f=(y=n.calculateUrl(h,c-s,e)).width,w=y.height,i[(C=n.layoutUrl(f,w,e,"left")).dataKey]=C,T=h,o=!0,((P=n.calculateDescRowCount(S=c-s-w,e))<1||1===P&&T<=400)&&(S=c-s,o=!1),i[(P=n.layoutDesc(T,S,e,"left")).dataKey]=P,l.content.push(m),l.content.push(g),l.content.push(P),o&&"-1"!=e.urlIsShow&&l.content.push(C),l.style["inner-height"]=c,i.item=l):(h=(d=n.calculateTitle(l.style.width,l.style.height,e)).width,s=d.height,i[(g=n.layoutTitle(h,s,e)).dataKey]=g,h=l.style.height-g.style["outer-height"],f=(y=n.calculateUrl(l.style.width,l.style.height,e)).width,64<=h-(w=y.height)?(i[(C=n.layoutUrl(f,w,e)).dataKey]=C,c=(u=n.calculateLogo(l.style.width,l.style.height-s-w,e)).height,p=u.width,i[(m=n.layoutLogo(p,c,e)).dataKey]=m,T=l.style.width-p,i[(P=n.layoutDesc(T,S=c,e,"left")).dataKey]=P,l.style["inner-height"]=s+c+w):(c=(u=n.calculateLogo(l.style.width,l.style.height-s,e)).height,p=u.width,i[(m=n.layoutLogo(p,c,e)).dataKey]=m,f=(y=n.calculateUrl(l.style.width-p,l.style.height,e)).width,w=y.height,i[(C=n.layoutUrl(f,w,e,"left")).dataKey]=C,T=l.style.width-p,o=!0,n.calculateDescRowCount(S=c-w,e)<2&&(S=c,o=!1),i[(P=n.layoutDesc(T,S,e,"left")).dataKey]=P,l.style["inner-height"]=s+c),(i.item=l).content.push(g),l.content.push(m),l.content.push(P),o&&l.content.push(C));n.layoutColumnSpace(e.itemColumnSpace,a,e),n.layoutRowSpace(t,e.itemRowSpace,e);return(r=n.layoutSpace(r,l,e)).layoutIndex=i,1==e.adRowCount&&1==e.adColumnCount&&(l.style["margin-left"]=parseInt((r.style.width-t)/2)),e.itemVerticalAlign&&-1!==e.itemVerticalAlign||50<(e=l.style["outer-height"]-l.style["inner-height"])&&(l.style.height=l.style["inner-height"],l.style["padding-top"]=l.style["padding-bottom"]=parseInt(e/2)),r}}}),declare(function(){return{name:"Widget",namespace:"Cpro.Template.LayoutEngine",layout:function(t){t.userConfig;var e=t.fullConfig,o={},i=using("Cpro.Template.LayoutEngine.Base"),n=e.templateWidth,a=e.templateHeight,l=i.layoutContainer(n,a,e);1==e.adRowCount&&1==e.adColumnCount&&(l.style["text-align"]="center");var r=Math.floor((l.style.width-e.itemColumnSpace*(e.adColumnCount-1))/e.adColumnCount),d=Math.floor((l.style.height-e.itemRowSpace*(e.adRowCount-1))/e.adRowCount),t=i.layoutItem(r,d,e),n=i.calculateFlash(t.style.width,t.style.height,e),a=n.width,n=n.height,n=i.layoutFlash(a,n,e);o[n.dataKey]=n,t.content.push(n);i.layoutColumnSpace(e.itemColumnSpace,d,e),i.layoutRowSpace(r,e.itemRowSpace,e);return(l=i.layoutSpace(l,t,e)).layoutIndex=o,l}}}),declare(function(){return{name:"Cookie",namespace:"Cpro.Utility",getCookie:function(t,e){var o,e=(e=e||window).document,e=new RegExp("(^| )"+t+"=([^;]*)(;|$)").exec(e.cookie);return o=e?e[2]:o},setCookie:function(t,e,o){var i=(o=o||{}).expires;"number"==typeof o.expires&&(i=new Date).setTime(i.getTime()+o.expires),document.cookie=t+"="+e+(o.path?"; path="+o.path:"")+(i?"; expires="+i.toGMTString():"")+(o.domain?"; domain="+o.domain:"")+(o.secure?"; secure":"")}}}),declare(function(){return{name:"CssBuilder",namespace:"Cpro.Utility",g:function(t,e){return e=e||window,"string"==typeof t||t instanceof String?e.document.getElementById(t):(t&&t.nodeName&&(1==t.nodeType||t.nodeType),t)},getDocument:function(t){return t?9==(t=this.g(t)).nodeType?t:t.ownerDocument||t.document:document},addCss:function(t){var e=document,o=e.createElement("style");o.setAttribute("type","text/css"),o.styleSheet?o.styleSheet.cssText=t:(i=e.createTextNode(t),o.appendChild(i));var i=e.getElementsByTagName("head");(i.length?i[0]:e.documentElement).appendChild(o)},getStyle:function(t,e){var o;t=this.g(t);var i,n=this.getDocument(t),a="",a=-1<e.indexOf("-")?e.replace(/[-_][^-_]{1}/g,function(t){return t.charAt(1).toUpperCase()}):e.replace(/[A-Z]{1}/g,function(t){return"-"+t.charAt(0).toLowerCase()});return n&&n.defaultView&&n.defaultView.getComputedStyle?"boolean"==typeof(o=(i=n.defaultView.getComputedStyle(t,null))?i.getPropertyValue(e):o)||o||(o=i.getPropertyValue(a)):t.currentStyle&&("boolean"==typeof(o=(i=t.currentStyle)?i[e]:o)||o||(o=i[a])),o}}}),declare(function(){return{name:"Encoder",namespace:"Cpro.Utility",encodeHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},encodeReg:function(t){return String(t).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")},encodeEventHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\n/g,"\n").replace(/\\r/g,"\r")}}}),declare(function(){return{name:"Log",namespace:"Cpro.Utility",sendByIframe:function(t){var e=document.createElement("iframe");e.id="ifr"+parseInt(1e5*Math.random()),e.style.display="none",e.setAttribute("src",t),document.body.insertBefore(e,document.body.firstChild)},sendByImage:function(t,e){var o=new Image,i="cpro_log_"+Math.floor(2147483648*Math.random()).toString(36);((e=e||window)[i]=o).onload=o.onerror=o.onabort=function(){o.onload=o.onerror=o.onabort=null,e[i]=null,o=null},o.src=t}}});

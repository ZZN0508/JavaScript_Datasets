!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CAAS_AOLCOM",[],t):"object"==typeof exports?exports.CAAS_AOLCOM=t():e.CAAS_AOLCOM=t()}(window,function(){return n={16:function(e,t,n){"use strict";var r={rapidInit:"rapid:init"};e.exports={events:r,rapidReady:function(e){window.rapidInstance?e(window.rapidInstance):document.addEventListener(r.rapidInit,function(){e(window.rapidInstance)},{passive:!0,once:!0})}}},497:function(e,t,n){e.exports=n(498)},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n=n(499),n=n&&n.__esModule?n:{default:n};t.default=new n.default({selector:".m-news"})},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e},i=n(500),o=i&&i.__esModule?i:{default:i},a=n(16);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l="/nex/modules/news/v1/?m_mode=json&isXHR=true";function u(e){e=e.selector;if(function(e){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.elems=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(document.querySelectorAll(e))),this.elems.length){this.utils=window.NEXUtils||{},this.defer=!1;for(var t=0;t<this.elems.length;t++){var n=this.elems[t].dataset,r=n.defer,i=n.initialWoeid,o=n.initialZip,a=n.readmoreUrl,n=n.channel;if(void 0!==r&&(i||o)){this.defer=!0,this.woeid=i,this.zip=o,this.readMoreUrl=a,this.channel=n;break}}this.init()}}t.default=(r(u,[{key:"init",value:function(){var e,t=this;this.addEventListeners(),this.defer&&(e={detail:{woeid:this.woeid,zip:this.zip}},"internet explorer"===this.utils.getBrowser(window.navigator.userAgent)?this.utils.docIsReady(function(){t.fetchNews(e)}):this.fetchNews(e))}},{key:"addEventListeners",value:function(){var t=this;document.addEventListener("sync:news",function(e){t.fetchNews(e)})}},{key:"updateNews",value:function(e){var t=this,n=e.articles,e=this.readMoreUrl,r=(0,o.default)(void 0===n?[]:n,e);this.elems.forEach(function(e){e.innerHTML="",e.appendChild(r);e=e.dataset.containerId;t.refreshRapid(void 0===e?"":e)})}},{key:"refreshRapid",value:function(t){(0,a.rapidReady)(function(e){e.isModuleTracked(t)&&e.refreshModule(t)})}},{key:"fetchNews",value:function(e){var t=this,n=e.detail,e=this.channel?l+"&channel="+this.channel:l,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(void 0===n?{}:n)};fetch(e,n).then(function(e){return e.json()}).then(function(e){e=e.data,e=(void 0===e?{}:e).response;t.updateNews(void 0===e?{}:e)}).catch(function(e){return console.error(e)})}}]),u)},5:function(e,t,n){"use strict";function l(e,t){for(var n=!1,r=0;r<e.length;r+=1)if(e[r]===t){n=!0;break}return n}function u(e){return e instanceof Node?e:"string"==typeof e||"number"==typeof e?document.createTextNode(e):null}function o(e){for(var t=arguments.length,n=Array(2<t?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var i,o=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})||{},a=Object.keys(o).map(function(e){return("className"===e?"class":e)+'="'+o[e]+'"'}).join(" ");return l(s,e)?"<"+e+" "+a+" />":"<"+e+" "+a+">"+(i="",n.forEach(function(e){Array.isArray(e)?e.forEach(function(e){d(e)&&(i+=e)}):d(e)&&(i+=e)}),i)+"</"+e+">"}var s=["img","link","meta"],c=["svg","path","circle","rect","polygon","defs","linearGradient","stop","ellipse","text"],d=function(e){return null!==e};e.exports=function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return("undefined"!=typeof window?function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("function"==typeof e)return e();if("string"!=typeof e)return null;var o=document.createDocumentFragment(),a=l(c,e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);r.forEach(function(e){Array.isArray(e)?e.forEach(function(e){return d(e)&&o.appendChild(u(e))}):d(e)&&o.appendChild(u(e))}),a.appendChild(o);var s=t||{};return Object.keys(s).forEach(function(e){a.setAttribute("className"===e?"class":e,s[e])}),a}:o).apply(void 0,[e,t].concat(r))}},500:function(e,t,n){"use strict";var r=n(5);e.exports=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=0<e.length?e.map(function(e){var t=e.id,n=e.link,e=e.title;return r("li",{className:"m-news__list--item"},r("a",{className:"m-news__list--link",href:n,target:"_blank","data-ylk":"elm:hdln;g:"+t},e))}):r("li",{className:"m-news__list--nonews"},"No local news available"),t="/"+t;return r("div",{className:"m-news__inner"},r("ul",{className:"m-news__list"},n),1<e.length?r("a",{className:"m-news__list--readmore",href:t,"data-ylk":"itc:0;slk:Read More;elm:readmore"},"Read more >"):null)}}},r={},i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="http://172.17.0.2:8080/public/assets/",i(i.s=497);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r});

define("lofty/util/misc/2.0/misc",["jquery"],function(d){return{goTo:function(t,e){var i="_self";if(e=e||i,!this.isIE())return window.open(t,e);var a=document.createElement("a"),o=document.body;a.setAttribute("href",t),a.setAttribute("target",e),a.style.display="none",o.appendChild(a),a.click(),e!==i&&setTimeout(function(){try{o.removeChild(a)}catch(t){}},200)},addParmToUrl:function(t,e){var i,a=t.split("#"),o=a.shift();if(a.length&&(i="#"+a.join("#")),-1!==o.indexOf("?")){for(var t=o.split("?"),a=t[0],n=t[1].split("&"),r={},s=0,c=n.length;s<c;s++){var l=n[s].split("=");r[d.trim(l[0])]=d.trim(l[1])}for(h in e){var p=d.trim(e[h]);r[d.trim(h)]=p}var m=[];for(h in r)m.push(h+"="+r[h]);o=a+"?"+m.join("&")}else{var h,m=[];for(h in e)m.push(h+"="+e[h]);o=o+"?"+m.join("&")}return i&&(o+=i),o},isIE:function(){var t,e=-1;return"Microsoft Internet Explorer"==navigator.appName?(t=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))),-1!==e},isIE6:function(){return"Microsoft Internet Explorer"==navigator.appName&&/msie 6/i.test(navigator.userAgent)},support:{JSON:"JSON"in window,localStorage:"localStorage"in window,WebSocket:"WebSocket"in window},addBgiframe:function(e){var t;this.isIE6()?(t=['<iframe class="bgiframe"frameborder="0"tabindex="-1"src="',(e=d.extend({top:"auto",left:"auto",width:"auto",height:"auto",zIndex:-1,opacity:0,src:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e)).src,'"style="display:block;position:absolute;z-index:',e.zIndex,";",e.opacity?"":"filter:Alpha(Opacity='0');","top:","auto"==e.top?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":e.top+"px",";left:","auto"==e.left?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":e.left+"px",";width:","auto"==e.width?"expression(this.parentNode.offsetWidth+'px')":e.width+"px",";height:","auto"==e.height?"expression(this.parentNode.offsetHeight+'px')":e.height+"px",';"/>'].join(""),d(e.target).each(function(){0===d(this).children("iframe.bgiframe").length&&this.insertBefore(d(t)[0],this.firstChild)})):e.force&&(e=d.extend({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,backgroundColor:"#FFF",opacity:0},e),d(e.target).each(function(){var t=d(this);0===t.children("div.bgiframe").length&&t.prepend(d("<div>",{class:"bgiframe",css:e}))}))},removeBgiframe:function(t){d(t).each(function(){d(this).children(".bgiframe").remove()})},isAliDomain:function(t,e){var i=["tmall.com","tmall.hk","taobao.com","taobaocdn.com","tbcdn.cn","1688.com","alibaba.com","aliyun.com","alipay.com","alisoft.com","alimama.com","hitao.com","aliexpress.com","laiwang.com","etao.com","kissyui.com","95095.com","taohua.com","tmall.net","tmall.com.hk","taobao.net","taobao.org","alibaba-inc.com","1688.net","alibaba.net","aliyun.net","alipay.net","alisoft.net","alimama.net","hitao.net","aliexpress.net","laiwang.net","etao.net","alicdn.com","aliimg.com"];void 0!==e&&(i=i.concat(e));i=new RegExp("^http(s)?:\\/\\/[a-z0-9-\\.]*("+i.join("|")+")","i");return!!(t+="").match(i)},isAliTestDomain:function(t){return t=t||document.location.href,this.isAliDomain(t)?/-test\./.test(t):void 0}}});

(this.$WP=this.$WP||[]).push(["U-DhDC",(e,i)=>{"use strict";var f,R,x,U,H,t,T,s,b,y,A,n={tripId:0},o={Home:"HomeFeed",Profile:"ProfileFeed",Attractions:"AttractionList",Attraction_Review:"AttractionDetail",Attraction_Products:"AttractionList",AttractionProductReview:"AttractionProductReview",Hotels:"HotelList",SmartDeals:"HotelList",HotelHighlight:"HotelList",HotelsList:"HotelList",HotelsNear:"HotelList",Vacation_Packages:"HotelList",Hotel_Review:"HotelDetail",Restaurants:"RestaurantList",Restaurant_Review:"RestaurantDetail",ShowUserReviews:"ShowUserReview",ShowUserReviewsHotels:"ShowUserReview",ShowUserReviewsRestaurants:"ShowUserReview",ShowUserReviewsAttractions:"ShowUserReview",Recent:"Recent",Forums:"Forums",ShowTopic:"Forums",ShowForum:"Forums",Trips:"Trips",Map:"Map",MySaves:"MySaves",LastMinute:"HotelList",LocalMaps:"Map",LocalMapsRedesign:"Map",VacationRentalReview:"VacationRentalDetail"},r=e=>e&&o[e]?o[e].toUpperCase():void 0,I=e=>e&&(r(e)||r(e.replace(/^Mobile/,""))),a=({source:o,pageAsContext:e,saveObject:i,trackingContext:t,withSaveSession:r,withOrganizeSession:a})=>{var[{page:s}]=f.useContext(U),{sessionUuid:n,sessionOrder:c,incrementOrder:l}=f.useContext(T),{sessionUuid:d,sessionOrder:u,incrementOrder:v}=f.useContext(b),p=f.useContext(H).impressionId||"",m=t||e&&s||void 0,{id:S,type:k}=i||{},C=f.useContext(x)["isBoosted"],w=f.useContext(y)["tripId"],O=f.useMemo(()=>({detailId:S?""+S:void 0,saveType:k,isBoosted:C,tripId:w}),[S,k,C,w]),g=f.useMemo(()=>r?{sessionType:"SAVE",sessionUuid:n,sessionOrder:c}:a?{sessionType:"ORGANIZE",sessionUuid:d,sessionOrder:u}:null,[u,d,c,n,a,r]),[,h]=R(A);return[f.useCallback((e,i)=>{r?l():a&&v();var t=O;i&&(t={detailId:""+i.id,saveType:i.type});var s,i=window.location.pathname,n="Unknown"===m?(null==(n=i.match(/^\/([a-zA-Z0-9_]+)/))?void 0:n[1])||"Home":m,e={elementClick:e.elementClick&&Object.assign({puid:p},t,{context:n},g,{},e.elementClick),filterClick:e.filterClick&&Object.assign({puid:p},e.filterClick),modalSuccess:e.modalSuccess&&Object.assign({puid:p},O,{context:n},g,{},e.modalSuccess),overflowClick:e.overflowClick&&Object.assign({puid:p},e.overflowClick,{},g),overflowSuccess:e.overflowSuccess&&Object.assign({puid:p},g,{},O,{},e.overflowSuccess),linkReferenceClick:e.linkReferenceClick&&Object.assign({puid:p},e.linkReferenceClick)};return h({interaction:{[o]:(s=e,["elementClick","modalSuccess"].forEach(e=>{s[e]&&s[e].context&&(s[e].context=I(s[e].context)||null),s[e]&&s[e].saveType&&(s[e].saveType=s[e].saveType.toUpperCase()),s[e]&&s[e].action&&(s[e].action=s[e].action.toUpperCase())}),["elementClick","filterClick","modalSuccess","overflowClick","overflowSuccess"].forEach(e=>{s[e]&&s[e].element&&(s[e].element=s[e].element.toUpperCase())}),["modalSuccess"].forEach(e=>{s[e]&&s[e].fields&&(s[e].fields=s[e].fields.map(e=>e.toUpperCase()))}),s)}})},[r,a,p,O,m,g,h,o,l,v]),p]},c=({children:e,source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r})=>{var[o,r]=a({source:i,pageAsContext:t,saveObject:s,trackingContext:n,withSaveSession:o,withOrganizeSession:r});return e(o,r)},l=()=>{var[e,i]=f.useState({sessionUuid:t(),sessionOrder:0});return f.useMemo(()=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder,incrementOrder:()=>i(e=>({sessionUuid:e.sessionUuid,sessionOrder:e.sessionOrder+1})),resetSession:()=>i({sessionUuid:t(),sessionOrder:0})}),[e])},d=({children:e})=>{var i=l();return f.createElement(T.Provider,{value:i},e)},u=({children:e})=>{var i=l();return f.createElement(b.Provider,{value:i},e)};return[()=>{s={sessionUuid:t(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},T=f.createContext(s),s={sessionUuid:t(),sessionOrder:0,incrementOrder:()=>{},resetSession:()=>{}},b=f.createContext(s),y=f.createContext(n),(A=JSON.parse('{"kind":"Document","definitions":[{"kind":"OperationDefinition","operation":"mutation","name":{"kind":"Name","value":"LogInteraction"},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"InteractionV4Input"}}},"directives":[]}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","alias":{"kind":"Name","value":"logInteraction"},"name":{"kind":"Name","value":"logInteractionV4"},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"interaction"},"value":{"kind":"Variable","name":{"kind":"Name","value":"interaction"}}}],"directives":[]}]}}],"loc":{"start":0,"end":133}}')).__key=19431441965389,A.loc.source={body:"11ac3c32214d"},c.defaultProps={pageAsContext:!1,saveObject:void 0,trackingContext:void 0},e({LogInteractionMutation:A,OrganizeSessionProvider:u,OrganizeSessionTrackingContext:b,SaveSessionProvider:d,SaveSessionTrackingContext:T,SponsorshipTrackingContext:y,TripInteraction:c,getInteractionsContext:I,useTripInteraction:a})},[e=>f=e,e=>R=e.useMutation,e=>x=e.default,e=>U=e.Route,e=>H=e.TripTrackingImpression,e=>t=e.uuid]]},["cDcdfi","5X2em-","6KWcSB","2R4xv2","c_rvp5","O-HcBE"]]);

(function(){var o=function(t){return window.document.createElement(t)},i=window.encodeURIComponent,n=Math.random,t=function(t){var e,n,a,i,s;if((i={data:(t=t||{}).data||{},error:t.error||r,success:t.success||r,beforeSend:t.beforeSend||r,complete:t.complete||r,url:t.url||""}).computedUrl=c(i),0===i.url.length)throw new Error("MissingUrl");return(n=!1)!==i.beforeSend({},i)?(e=i.data[t.callbackName||"callback"]="jsonp_"+u(15),window[e]=function(t){i.success(t,i),i.complete(t,i);try{return delete window[e]}catch(t){return void(window[e]=void 0)}},(s=o("script")).src=c(i),s.async=!0,s.onerror=function(t){return i.error({url:s.src,event:t}),i.complete({url:s.src,event:t},i)},s.onload=s.onreadystatechange=function(){return n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(n=!0,s.onload=s.onreadystatechange=null,s&&s.parentNode&&s.parentNode.removeChild(s),s=null)},(a=a||window.document.getElementsByTagName("head")[0]||window.document.documentElement).insertBefore(s,a.firstChild)):void 0},r=function(){},c=function(t){var e=t.url;return(e+=t.url.indexOf("?")<0?"?":"&")+a(t.data)},u=function(t){for(var e="";e.length<t;)e+=n().toString(36)[2];return e},a=function(t){var e,n,a=[];for(e in t)n=t[e],a.push(i(e)+"="+i(n));return a.join("&")};"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return t}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=t:this.JSONP=t}).call(this),function(t,o){"use strict";function e(t){if("object"!=typeof t.document)throw new Error("Cookies.js requires a `window` with a `document` object");function s(t,e,n){return 1===arguments.length?s.get(t):s.set(t,e,n)}return s._document=t.document,s._cacheKeyPrefix="cookey.",s._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),s.defaults={path:"/",secure:!1},s.get=function(t){s._cachedDocumentCookie!==s._document.cookie&&s._renewCache();t=s._cache[s._cacheKeyPrefix+t];return t===o?o:decodeURIComponent(t)},s.set=function(t,e,n){return(n=s._getExtendedOptions(n)).expires=s._getExpiresDate(e===o?-1:n.expires),s._document.cookie=s._generateCookieString(t,e,n),s},s.expire=function(t,e){return s.set(t,o,e)},s._getExtendedOptions=function(t){return{path:t&&t.path||s.defaults.path,domain:t&&t.domain||s.defaults.domain,expires:t&&t.expires||s.defaults.expires,secure:(t&&t.secure!==o?t:s.defaults).secure}},s._isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},s._getExpiresDate=function(t,e){if(e=e||new Date,"number"==typeof t?t=t===1/0?s._maxExpireDate:new Date(e.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!s._isValidDate(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},s._generateCookieString=function(t,e,n){e=(t=(t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(e=(e+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return e+=(n=n||{}).path?";path="+n.path:"",e+=n.domain?";domain="+n.domain:"",e+=n.expires?";expires="+n.expires.toUTCString():"",e+=n.secure?";secure":""},s._getCacheFromString=function(t){for(var e={},n=t?t.split("; "):[],a=0;a<n.length;a++){var i=s._getKeyValuePairFromCookieString(n[a]);e[s._cacheKeyPrefix+i.key]===o&&(e[s._cacheKeyPrefix+i.key]=i.value)}return e},s._getKeyValuePairFromCookieString=function(t){var e,n=(n=t.indexOf("="))<0?t.length:n,a=t.substr(0,n);try{e=decodeURIComponent(a)}catch(t){console&&console.error}return{key:e,value:t.substr(n+1)}},s._renewCache=function(){s._cache=s._getCacheFromString(s._document.cookie),s._cachedDocumentCookie=s._document.cookie},s.enabled=(s._areEnabled=function(){var t="cookies.js",e="1"===s.set(t,1).get(t);return s.expire(t),e})(),s}var n=t&&"object"==typeof t.document?e(t):e;"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof exports?(exports="object"==typeof module&&"object"==typeof module.exports?module.exports=n:exports).Cookies=n:t.Cookies=n}("undefined"==typeof window?this:window),function(ja){var pa,ka=this||eval("this"),la=ka.document,ma=ka.navigator,na=ka.jQuery,oa=ka.JSON,pa=function(t,a){function n(t,e){return(null===t||typeof t in r)&&t===e}function s(t,e){var n;return function(){n=n||setTimeout(function(){n=ja,t()},e)}}function o(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function e(t,c,u,l){D.d[t]={init:function(a,i,t,e,s){var o,r;return D.w(function(){var t=D.a.c(i()),e=!u!=!t,n=!r;(n||c||e!==o)&&(n&&D.Z.oa()&&(r=D.a.la(D.e.childNodes(a),!0)),e?(n||D.e.T(a,D.a.la(r)),D.Ja(l?l(s,t):s,a)):D.e.ma(a),o=e)},null,{q:a}),{controlsDescendantBindings:!0}}},D.h.ka[t]=!1,D.e.R[t]=!0}var i,D=void 0!==t?t:{};D.b=function(t,e){for(var n=t.split("."),a=D,i=0;i<n.length-1;i++)a=a[n[i]];a[n[n.length-1]]=e},D.D=function(t,e,n){t[e]=n},D.version="3.3.0",D.b("version",D.version),D.a=function(){function d(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function t(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function e(t,e){return t.__proto__=e,t}function i(t,e,n,a){var i=t[e].match(c)||[];D.a.o(n.match(c),function(t){D.a.ga(i,t,a)}),t[e]=i.join(" ")}var n={__proto__:[]}instanceof Array,a={},s={};a[ma&&/Firefox\/2/i.test(ma.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],a.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),d(a,function(t,e){if(e.length)for(var n=0,a=e.length;n<a;n++)s[e[n]]=t});var o={propertychange:!0},r=la&&function(){for(var t=3,e=la.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:ja}(),c=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(t,e){for(var n=0,a=t.length;n<a;n++)e(t[n],n)},m:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,a=t.length;n<a;n++)if(t[n]===e)return n;return-1},vb:function(t,e,n){for(var a=0,i=t.length;a<i;a++)if(e.call(n,t[a],a))return t[a];return null},ya:function(t,e){e=D.a.m(t,e);0<e?t.splice(e,1):0===e&&t.shift()},wb:function(t){for(var e=[],n=0,a=(t=t||[]).length;n<a;n++)D.a.m(e,t[n])<0&&e.push(t[n]);return e},Ka:function(t,e){for(var n=[],a=0,i=(t=t||[]).length;a<i;a++)n.push(e(t[a],a));return n},xa:function(t,e){for(var n=[],a=0,i=(t=t||[]).length;a<i;a++)e(t[a],a)&&n.push(t[a]);return n},ia:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,a=e.length;n<a;n++)t.push(e[n]);return t},ga:function(t,e,n){var a=D.a.m(D.a.cb(t),e);a<0?n&&t.push(e):n||t.splice(a,1)},za:n,extend:t,Fa:e,Ga:n?e:t,A:d,pa:function(t,e){if(!t)return t;var n,a={};for(n in t)t.hasOwnProperty(n)&&(a[n]=e(t[n],n,t));return a},Ra:function(t){for(;t.firstChild;)D.removeNode(t.firstChild)},Jb:function(t){for(var e=((t=D.a.O(t))[0]&&t[0].ownerDocument||la).createElement("div"),n=0,a=t.length;n<a;n++)e.appendChild(D.S(t[n]));return e},la:function(t,e){for(var n=0,a=t.length,i=[];n<a;n++){var s=t[n].cloneNode(!0);i.push(e?D.S(s):s)}return i},T:function(t,e){if(D.a.Ra(t),e)for(var n=0,a=e.length;n<a;n++)t.appendChild(e[n])},Qb:function(t,e){var n=t.nodeType?[t]:t;if(0<n.length){for(var a=n[0],i=a.parentNode,s=0,o=e.length;s<o;s++)i.insertBefore(e[s],a);for(s=0,o=n.length;s<o;s++)D.removeNode(n[s])}},na:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);if(1<t.length){var n=t[0],a=t[t.length-1];for(t.length=0;n!==a;)if(t.push(n),!(n=n.nextSibling))return;t.push(a)}}return t},Sb:function(t,e){r<7?t.setAttribute("selected",e):t.selected=e},ib:function(t){return null===t||t===ja?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(t,e){return!(e.length>(t=t||"").length)&&t.substring(0,e.length)===e},jc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},Qa:function(t){return D.a.jc(t,t.ownerDocument.documentElement)},tb:function(t){return!!D.a.vb(t,D.a.Qa)},v:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(e,t,n){var a=r&&o[t];if(!a&&na)na(e).bind(t,n);else if(a||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");function i(t){n.call(e,t)}var s="on"+t;e.attachEvent(s,i),D.a.C.fa(e,function(){e.detachEvent(s,i)})}else e.addEventListener(t,n,!1)},qa:function(t,e){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n=!("input"!==D.a.v(t)||!t.type||"click"!=e.toLowerCase())&&("checkbox"==(n=t.type)||"radio"==n);if(na&&!n)na(t).trigger(e);else if("function"==typeof la.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=la.createEvent(s[e]||"HTMLEvents")).initEvent(e,!0,!0,ka,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(n)}else if(n&&t.click)t.click();else{if(void 0===t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+e)}},c:function(t){return D.F(t)?t():t},cb:function(t){return D.F(t)?t.B():t},Ia:function(e,t,n){var a;t&&("object"==typeof e.classList?(a=e.classList[n?"add":"remove"],D.a.o(t.match(c),function(t){a.call(e.classList,t)})):"string"==typeof e.className.baseVal?i(e.className,"baseVal",t,n):i(e,"className",t,n))},Ha:function(t,e){var n=D.a.c(e);null!==n&&n!==ja||(n="");e=D.e.firstChild(t);!e||3!=e.nodeType||D.e.nextSibling(e)?D.e.T(t,[t.ownerDocument.createTextNode(n)]):e.data=n,D.a.mc(t)},Rb:function(t,e){if(t.name=e,r<=7)try{t.mergeAttributes(la.createElement("<input name='"+t.name+"'/>"),!1)}catch(t){}},mc:function(t){9<=r&&((t=1==t.nodeType?t:t.parentNode).style&&(t.style.zoom=t.style.zoom))},kc:function(t){var e;r&&(e=t.style.width,t.style.width=0,t.style.width=e)},Bc:function(t,e){t=D.a.c(t),e=D.a.c(e);for(var n=[],a=t;a<=e;a++)n.push(a);return n},O:function(t){for(var e=[],n=0,a=t.length;n<a;n++)e.push(t[n]);return e},Hc:6===r,Ic:7===r,M:r,Db:function(t,e){for(var n=D.a.O(t.getElementsByTagName("input")).concat(D.a.O(t.getElementsByTagName("textarea"))),a="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},i=[],s=n.length-1;0<=s;s--)a(n[s])&&i.push(n[s]);return i},yc:function(t){return"string"==typeof t&&(t=D.a.ib(t))?oa&&oa.parse?oa.parse(t):new Function("return "+t)():null},jb:function(t,e,n){if(!oa||!oa.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return oa.stringify(D.a.c(t),e,n)},zc:function(t,e,n){var a=(n=n||{}).params||{},i=n.includeFields||this.Bb,s=t;if("object"==typeof t&&"form"===D.a.v(t))for(var s=t.action,o=i.length-1;0<=o;o--)for(var r=D.a.Db(t,i[o]),c=r.length-1;0<=c;c--)a[r[c].name]=r[c].value;e=D.a.c(e);var u,l=la.createElement("form");for(u in l.style.display="none",l.action=s,l.method="post",e)t=la.createElement("input"),t.type="hidden",t.name=u,t.value=D.a.jb(D.a.c(e[u])),l.appendChild(t);d(a,function(t,e){var n=la.createElement("input");n.type="hidden",n.name=t,n.value=e,l.appendChild(n)}),la.body.appendChild(l),n.submitter?n.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}}(),D.b("utils",D.a),D.b("utils.arrayForEach",D.a.o),D.b("utils.arrayFirst",D.a.vb),D.b("utils.arrayFilter",D.a.xa),D.b("utils.arrayGetDistinctValues",D.a.wb),D.b("utils.arrayIndexOf",D.a.m),D.b("utils.arrayMap",D.a.Ka),D.b("utils.arrayPushAll",D.a.ia),D.b("utils.arrayRemoveItem",D.a.ya),D.b("utils.extend",D.a.extend),D.b("utils.fieldsIncludedWithJsonPost",D.a.Bb),D.b("utils.getFormFields",D.a.Db),D.b("utils.peekObservable",D.a.cb),D.b("utils.postJson",D.a.zc),D.b("utils.parseJson",D.a.yc),D.b("utils.registerEventHandler",D.a.n),D.b("utils.stringifyJson",D.a.jb),D.b("utils.range",D.a.Bc),D.b("utils.toggleDomNodeCssClass",D.a.Ia),D.b("utils.triggerEvent",D.a.qa),D.b("utils.unwrapObservable",D.a.c),D.b("utils.objectForEach",D.a.A),D.b("utils.addOrRemoveItem",D.a.ga),D.b("utils.setTextContent",D.a.Ha),D.b("unwrap",D.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var a=Array.prototype.slice.call(arguments,1);return function(){var t=a.slice(0);return t.push.apply(t,arguments),n.apply(e,t)}}),D.a.f=new function(){function a(t,e){var n=t[s];if(!n||"null"===n||!o[n]){if(!e)return ja;n=t[s]="ko"+i++,o[n]={}}return o[n]}var i=0,s="__ko__"+(new Date).getTime(),o={};return{get:function(t,e){t=a(t,!1);return t===ja?ja:t[e]},set:function(t,e,n){n===ja&&a(t,!1)===ja||(a(t,!0)[e]=n)},clear:function(t){var e=t[s];return!!e&&(delete o[e],!(t[s]=null))},I:function(){return i+++s}}},D.b("utils.domData",D.a.f),D.b("utils.domData.clear",D.a.f.clear),D.a.C=new function(){function a(t,e){var n=D.a.f.get(t,s);return n===ja&&e&&D.a.f.set(t,s,n=[]),n}function i(t){if(e=a(t,!1))for(var e=e.slice(0),n=0;n<e.length;n++)e[n](t);if(D.a.f.clear(t),D.a.C.cleanExternalData(t),r[t.nodeType])for(e=t.firstChild;t=e;)e=t.nextSibling,8===t.nodeType&&i(t)}var s=D.a.f.I(),o={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{fa:function(t,e){if("function"!=typeof e)throw Error("Callback must be a function");a(t,!0).push(e)},Pb:function(t,e){var n=a(t,!1);n&&(D.a.ya(n,e),0==n.length&&D.a.f.set(t,s,ja))},S:function(t){if(o[t.nodeType]&&(i(t),r[t.nodeType])){var e=[];D.a.ia(e,t.getElementsByTagName("*"));for(var n=0,a=e.length;n<a;n++)i(e[n])}return t},removeNode:function(t){D.S(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){na&&"function"==typeof na.cleanData&&na.cleanData([t])}}},D.S=D.a.C.S,D.removeNode=D.a.C.removeNode,D.b("cleanNode",D.S),D.b("removeNode",D.removeNode),D.b("utils.domNodeDisposal",D.a.C),D.b("utils.domNodeDisposal.addDisposeCallback",D.a.C.fa),D.b("utils.domNodeDisposal.removeDisposeCallback",D.a.C.Pb),D.a.ca=function(t,e){if(na){if(na.parseHTML)a=na.parseHTML(t,e)||[];else if((a=na.clean([t],e))&&a[0]){for(var n=a[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{var a=(n=!(n=e)?la:n).parentWindow||n.defaultView||ka,i=D.a.ib(t).toLowerCase(),t=(n=n.createElement("div"),"ignored<div>"+(i=(i.match(/^<(thead|tbody|tfoot)/)?[1,"<table>","</table>"]:!i.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"])||(!i.indexOf("<td")||!i.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+t+i[2]+"</div>");for("function"==typeof a.innerShiv?n.appendChild(a.innerShiv(t)):n.innerHTML=t;i[0]--;)n=n.lastChild;a=D.a.O(n.lastChild.childNodes)}return a},D.a.gb=function(t,e){if(D.a.Ra(t),null!==(e=D.a.c(e))&&e!==ja)if("string"!=typeof e&&(e=e.toString()),na)na(t).html(e);else for(var n=D.a.ca(e,t.ownerDocument),a=0;a<n.length;a++)t.appendChild(n[a])},D.b("utils.parseHtmlFragment",D.a.ca),D.b("utils.setHtml",D.a.gb),D.H=(i={},{$a:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[e]=t,"\x3c!--[ko_memo:"+e+"]--\x3e"},Wb:function(t,e){var n=i[t];if(n===ja)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,e||[]),!0}finally{delete i[t]}},Xb:function(t,e){var n=[];!function t(e,n){if(e)if(8==e.nodeType){var a=D.H.Lb(e.nodeValue);null!=a&&n.push({ic:e,wc:a})}else if(1==e.nodeType)for(var a=0,i=e.childNodes,s=i.length;a<s;a++)t(i[a],n)}(t,n);for(var a=0,i=n.length;a<i;a++){var s=n[a].ic,o=[s];e&&D.a.ia(o,e),D.H.Wb(n[a].wc,o),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Lb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}),D.b("memoization",D.H),D.b("memoization.memoize",D.H.$a),D.b("memoization.unmemoize",D.H.Wb),D.b("memoization.parseMemoText",D.H.Lb),D.b("memoization.unmemoizeDomNodeAndDescendants",D.H.Xb),D.Sa={throttle:function(e,n){e.throttleEvaluation=n;var a=null;return D.j({read:e,write:function(t){clearTimeout(a),a=setTimeout(function(){e(t)},n)}})},rateLimit:function(t,e){var n,a,i;"number"==typeof e?n=e:(n=e.timeout,a=e.method),i="notifyWhenChangesStop"==a?o:s,t.Za(function(t){return i(t,n)})},notify:function(t,e){t.equalityComparer="always"==e?null:n}};var r={undefined:1,boolean:1,number:1,string:1};D.b("extenders",D.Sa),D.Ub=function(t,e,n){this.da=t,this.La=e,this.hc=n,this.Gb=!1,D.D(this,"dispose",this.p)},D.Ub.prototype.p=function(){this.Gb=!0,this.hc()},D.Q=function(){D.a.Ga(this,D.Q.fn),this.G={},this.rb=1};var c,u,l,d={U:function(t,e,n){var a=this;n=n||"change";var i=new D.Ub(a,e?t.bind(e):t,function(){D.a.ya(a.G[n],i),a.ua&&a.ua(n)});return a.ja&&a.ja(n),a.G[n]||(a.G[n]=[]),a.G[n].push(i),i},notifySubscribers:function(t,e){if("change"===(e=e||"change")&&this.Yb(),this.Ba(e))try{D.k.xb();for(var n,a=this.G[e].slice(0),i=0;n=a[i];++i)n.Gb||n.La(t)}finally{D.k.end()}},Aa:function(){return this.rb},pc:function(t){return this.Aa()!==t},Yb:function(){++this.rb},Za:function(t){var e,n,a,i=this,s=D.F(i);i.ta||(i.ta=i.notifySubscribers,i.notifySubscribers=function(t,e){e&&"change"!==e?"beforeChange"===e?i.pb(t):i.ta(t,e):i.qb(t)});var o=t(function(){s&&a===i&&(a=i()),e=!1,i.Wa(n,a)&&i.ta(n=a)});i.qb=function(t){e=!0,a=t,o()},i.pb=function(t){e||(n=t,i.ta(t,"beforeChange"))}},Ba:function(t){return this.G[t]&&this.G[t].length},nc:function(t){if(t)return this.G[t]&&this.G[t].length||0;var n=0;return D.a.A(this.G,function(t,e){n+=e.length}),n},Wa:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var n=this;return t&&D.a.A(t,function(t,e){t=D.Sa[t];"function"==typeof t&&(n=t(n,e)||n)}),n}};function f(t){u.push(c),c=t}function p(){c=u.pop()}D.D(d,"subscribe",d.U),D.D(d,"extend",d.extend),D.D(d,"getSubscriptionsCount",d.nc),D.a.za&&D.a.Fa(d,Function.prototype),D.Q.fn=d,D.Hb=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},D.b("subscribable",D.Q),D.b("isSubscribable",D.Hb),D.Z=D.k=(u=[],l=0,{xb:f,end:p,Ob:function(t){if(c){if(!D.Hb(t))throw Error("Only subscribable things can act as dependencies");c.La(t,t.ac||(t.ac=++l))}},u:function(t,e,n){try{return f(),t.apply(e,n||[])}finally{p()}},oa:function(){if(c)return c.w.oa()},Ca:function(){if(c)return c.Ca}}),D.b("computedContext",D.Z),D.b("computedContext.getDependenciesCount",D.Z.oa),D.b("computedContext.isInitial",D.Z.Ca),D.b("computedContext.isSleeping",D.Z.Jc),D.b("ignoreDependencies",D.Gc=D.k.u),D.r=function(t){function e(){return 0<arguments.length?(e.Wa(n,arguments[0])&&(e.X(),n=arguments[0],e.W()),this):(D.k.Ob(e),n)}var n=t;return D.Q.call(e),D.a.Ga(e,D.r.fn),e.B=function(){return n},e.W=function(){e.notifySubscribers(n)},e.X=function(){e.notifySubscribers(n,"beforeChange")},D.D(e,"peek",e.B),D.D(e,"valueHasMutated",e.W),D.D(e,"valueWillMutate",e.X),e},D.r.fn={equalityComparer:n};var h,m,g,b,v,y,w,x,_,k,E,C,S,T,I=D.r.Ac="__ko_proto__";function A(a,i,s){if(s=s||new N,"object"!=typeof(a=i(a))||null===a||a===ja||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var o=a instanceof Array?[]:{};return s.save(a,o),function(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(n in t)e(n)}(a,function(t){var e=i(a[t]);switch(typeof e){case"boolean":case"number":case"string":case"function":o[t]=e;break;case"object":case"undefined":var n=s.get(e);o[t]=n!==ja?n:A(e,i,s)}}),o}function N(){this.keys=[],this.mb=[]}function L(t){var e,n=[],a=(t=123===(t=D.a.ib(t)).charCodeAt(0)?t.slice(1,-1):t).match(g),i=[],s=0;if(a){a.push(",");for(var o,r=0;o=a[r];++r){var c=o.charCodeAt(0);if(44===c){if(s<=0){n.push(e&&i.length?{key:e,value:i.join("")}:{unknown:e||i.join("")}),e=s=0,i=[];continue}}else if(58===c){if(!s&&!e&&1===i.length){e=i.pop();continue}}else 47===c&&r&&1<o.length?(c=a[r-1].match(b))&&!v[c[0]]&&((a=(t=t.substr(t.indexOf(o)+1)).match(g)).push(","),r=-1,o="/"):40===c||123===c||91===c?++s:41===c||125===c||93===c?--s:e||i.length||34!==c&&39!==c||(o=o.slice(1,-1));i.push(o)}}return n}function j(t){return 8==t.nodeType&&x.test(w?t.text:t.nodeValue)}function B(t){return 8==t.nodeType&&_.test(w?t.text:t.nodeValue)}function O(t,e){for(var n=t,a=1,i=[];n=n.nextSibling;){if(B(n)&&0===--a)return i;i.push(n),j(n)&&a++}if(!e)throw Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function R(t,e){e=O(t,e);return e?(0<e.length?e[e.length-1]:t).nextSibling:null}function $(e,n,a,i){var t=(i=i||D.g.loaders.slice(0)).shift();if(t){var s=t[e];if(s){var o=!1;if(s.apply(t,n.concat(function(t){o?a(null):null!==t?a(t):$(e,n,a,i)}))!==E&&(o=!0,!t.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else $(e,n,a,i)}else a(null)}D.r.fn[I]=D.r,D.a.za&&D.a.Fa(D.r.fn,D.Q.fn),D.Ta=function(t,e){return null!==t&&t!==ja&&t[I]!==ja&&(t[I]===e||D.Ta(t[I],e))},D.F=function(t){return D.Ta(t,D.r)},D.Da=function(t){return!!("function"==typeof t&&t[I]===D.r||"function"==typeof t&&t[I]===D.j&&t.qc)},D.b("observable",D.r),D.b("isObservable",D.F),D.b("isWriteableObservable",D.Da),D.b("isWritableObservable",D.Da),D.ba=function(t){if("object"!=typeof(t=t||[])||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=D.r(t),D.a.Ga(t,D.ba.fn),t.extend({trackArrayChanges:!0})},D.ba.fn={remove:function(e){for(var t=this.B(),n=[],a="function"!=typeof e||D.F(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var s=t[i];a(s)&&(0===n.length&&this.X(),n.push(s),t.splice(i,1),i--)}return n.length&&this.W(),n},removeAll:function(e){if(e!==ja)return e?this.remove(function(t){return 0<=D.a.m(e,t)}):[];var t=this.B(),n=t.slice(0);return this.X(),t.splice(0,t.length),this.W(),n},destroy:function(e){var t=this.B(),n="function"!=typeof e||D.F(e)?function(t){return t===e}:e;this.X();for(var a=t.length-1;0<=a;a--)n(t[a])&&(t[a]._destroy=!0);this.W()},destroyAll:function(e){return e===ja?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=D.a.m(e,t)}):[]},indexOf:function(t){var e=this();return D.a.m(e,t)},replace:function(t,e){t=this.indexOf(t);0<=t&&(this.X(),this.B()[t]=e,this.W())}},D.a.o("pop push reverse shift sort splice unshift".split(" "),function(e){D.ba.fn[e]=function(){var t=this.B();return this.X(),this.yb(t,e,arguments),t=t[e].apply(t,arguments),this.W(),t}}),D.a.o(["slice"],function(e){D.ba.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),D.a.za&&D.a.Fa(D.ba.fn,D.r.fn),D.b("observableArray",D.ba),D.Sa.trackArrayChanges=function(i){var e,d,f,p,s,n;i.yb||(d=!1,f=null,p=0,s=i.ja,n=i.ua,i.ja=function(t){var n,a;s&&s.call(i,t),"arrayChange"===t&&(d||(d=!0,n=i.notifySubscribers,i.notifySubscribers=function(t,e){return e&&"change"!==e||++p,n.apply(this,arguments)},a=[].concat(i.B()||[]),f=null,e=i.U(function(t){var e;t=[].concat(t||[]),i.Ba("arrayChange")&&(e=f=!f||1<p?D.a.Ma(a,t,{sparse:!0}):f),a=t,f=null,p=0,e&&e.length&&i.notifySubscribers(e,"arrayChange")})))},i.ua=function(t){n&&n.call(i,t),"arrayChange"!==t||i.Ba("arrayChange")||(e.p(),d=!1)},i.yb=function(t,e,n){function a(t,e,n){return i[i.length]={status:t,value:e,index:n}}if(d&&!p){var i=[],s=t.length,o=n.length,r=0;switch(e){case"push":r=s;case"unshift":for(e=0;e<o;e++)a("added",n[e],r+e);break;case"pop":r=s-1;case"shift":s&&a("deleted",t[r],r);break;case"splice":e=Math.min(Math.max(0,n[0]<0?s+n[0]:n[0]),s);for(var s=1===o?s:Math.min(e+(n[1]||0),s),o=e+o-2,r=Math.max(s,o),c=[],u=[],l=2;e<r;++e,++l)e<s&&u.push(a("deleted",t[e],e)),e<o&&c.push(a("added",n[l],e));D.a.Cb(u,c);break;default:return}f=i}})},D.w=D.j=function(t,s,e){function o(t,e,n){if(v&&e===c)throw Error("A 'pure' computed must not be called recursively");(C[t]=n).sa=S++,n.ea=e.Aa()}function a(){var t,e;for(t in C)if(C.hasOwnProperty(t)&&(e=C[t],e.da.pc(e.ea)))return 1}function n(){!y&&C&&D.a.A(C,function(t,e){e.p&&e.p()}),C=null,y=p=!(g=!(S=0))}function r(){var t=c.throttleEvaluation;t&&0<=t?(clearTimeout(T),T=setTimeout(function(){i(!0)},t)):c.nb?c.nb():i(!0)}function i(t){if(!h&&!g){if(k&&k()){if(!m)return E(),0}else m=!1;h=!0;try{var n=C,a=S,e=v?ja:!S;D.k.xb({La:function(t,e){g||(a&&n[e]?(o(e,t,n[e]),delete n[e],--a):C[e]||o(e,t,y?{da:t}:t.U(r)))},w:c,Ca:e}),C={},S=0;try{var i=s?b.call(s):b()}finally{D.k.end(),a&&!y&&D.a.A(n,function(t,e){e.p&&e.p()}),p=!1}c.Wa(f,i)&&(y||d(f,"beforeChange"),f=i,y?c.Yb():t&&d(f)),e&&d(f,"awake")}finally{h=!1}S||E()}}function c(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return w.apply(s,arguments),this}return D.k.Ob(c),(p||y&&a())&&i(),f}function u(){return(p&&!S||y&&a())&&i(),f}function l(){return p||0<S}function d(t,e){c.notifySubscribers(t,e)}var f,p=!0,h=!1,m=!1,g=!1,b=t,v=!1,y=!1;if("function"!=typeof(b=b&&"object"==typeof b?(e=b).read:(e=e||{},b||e.read)))throw Error("Pass a function that returns the value of the ko.computed");var w=e.write,x=e.disposeWhenNodeIsRemoved||e.q||null,_=e.disposeWhen||e.Pa,k=_,E=n,C={},S=0,T=null;s=s||e.owner,D.Q.call(c),D.a.Ga(c,D.j.fn),c.B=u,c.oa=function(){return S},c.qc="function"==typeof w,c.p=function(){E()},c.$=l;var I=c.Za;return c.Za=function(t){I.call(c,t),c.nb=function(){c.pb(f),p=!0,c.qb(c)}},e.pure?(y=v=!0,c.ja=function(t){var n;!g&&y&&"change"==t&&(y=!1,p||a()?(C=null,p=!(S=0),i()):(n=[],D.a.A(C,function(t,e){n[e.sa]=t}),D.a.o(n,function(t,e){var n=C[t],a=n.da.U(r);a.sa=e,a.ea=n.ea,C[t]=a})),g||d(f,"awake"))},c.ua=function(t){g||"change"!=t||c.Ba("change")||(D.a.A(C,function(t,e){e.p&&(C[t]={da:e.da,sa:e.sa,ea:e.ea},e.p())}),y=!0,d(ja,"asleep"))},c.bc=c.Aa,c.Aa=function(){return y&&(p||a())&&i(),c.bc()}):e.deferEvaluation&&(c.ja=function(t){"change"!=t&&"beforeChange"!=t||u()}),D.D(c,"peek",c.B),D.D(c,"dispose",c.p),D.D(c,"isActive",c.$),D.D(c,"getDependenciesCount",c.oa),x&&(m=!0,x.nodeType&&(k=function(){return!D.a.Qa(x)||_&&_()})),y||e.deferEvaluation||i(),x&&l()&&x.nodeType&&(E=function(){D.a.C.Pb(x,E),n()},D.a.C.fa(x,E)),c},D.sc=function(t){return D.Ta(t,D.j)},d=D.r.Ac,D.j[d]=D.r,D.j.fn={equalityComparer:n},D.j.fn[d]=D.j,D.a.za&&D.a.Fa(D.j.fn,D.Q.fn),D.b("dependentObservable",D.j),D.b("computed",D.j),D.b("isComputed",D.sc),D.Nb=function(t,e){return"function"==typeof t?D.w(t,e,{pure:!0}):((t=D.a.extend({},t)).pure=!0,D.w(t,e))},D.b("pureComputed",D.Nb),D.Vb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return A(t,function(t){for(var e=0;D.F(t)&&e<10;e++)t=t();return t})},D.toJSON=function(t,e,n){return t=D.Vb(t),D.a.jb(t,e,n)},N.prototype={save:function(t,e){var n=D.a.m(this.keys,t);0<=n?this.mb[n]=e:(this.keys.push(t),this.mb.push(e))},get:function(t){return 0<=(t=D.a.m(this.keys,t))?this.mb[t]:ja}},D.b("toJS",D.Vb),D.b("toJSON",D.toJSON),D.i={s:function(t){switch(D.a.v(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?D.a.f.get(t,D.d.options.ab):!(D.a.M<=7)||t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text;case"select":return 0<=t.selectedIndex?D.i.s(t.options[t.selectedIndex]):ja;default:return t.value}},Y:function(t,e,n){switch(D.a.v(t)){case"option":"string"==typeof e?(D.a.f.set(t,D.d.options.ab,ja),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=e):(D.a.f.set(t,D.d.options.ab,e),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof e?e:"");break;case"select":""!==e&&null!==e||(e=ja);for(var a,i=-1,s=0,o=t.options.length;s<o;++s)if((a=D.i.s(t.options[s]))==e||""==a&&e===ja){i=s;break}(n||0<=i||e===ja&&1<t.size)&&(t.selectedIndex=i);break;default:t.value=e=null===e||e===ja?"":e}}},D.b("selectExtensions",D.i),D.b("selectExtensions.readValue",D.i.s),D.b("selectExtensions.writeValue",D.i.Y),D.h=(h=["true","false","null","undefined"],m=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,g=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),b=/[\])"'A-Za-z0-9_$]+$/,v={in:1,return:1,typeof:1},{ka:[],V:y={},bb:L,Ea:function(t,e){function i(t,e){var n;if(!c){var a=D.getBindingHandler(t);if(a&&a.preprocess&&!(e=a.preprocess(e,t,i)))return;(a=y[t])&&(n=e,a=n=!(0<=D.a.m(h,n))&&(null!==(a=n.match(m))&&(a[1]?"Object("+a[1]+")"+a[2]:n))),a&&o.push("'"+t+"':function(_z){"+n+"=_z}")}s.push("'"+t+"':"+(e=r?"function(){return "+e+" }":e))}var s=[],o=[],r=(e=e||{}).valueAccessors,c=e.bindingParams,t="string"==typeof t?L(t):t;return D.a.o(t,function(t){i(t.key||t.unknown,t.value)}),o.length&&i("_ko_property_writers","{"+o.join(",")+" }"),s.join(",")},vc:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},ra:function(t,e,n,a,i){t&&D.F(t)?!D.Da(t)||i&&t.B()===a||t(a):(t=e.get("_ko_property_writers"))&&t[n]&&t[n](a)}}),D.b("expressionRewriting",D.h),D.b("expressionRewriting.bindingRewriteValidators",D.h.ka),D.b("expressionRewriting.parseObjectLiteral",D.h.bb),D.b("expressionRewriting.preProcessBindings",D.h.Ea),D.b("expressionRewriting._twoWayBindings",D.h.V),D.b("jsonExpressionRewriting",D.h),D.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",D.h.Ea),w=la&&"\x3c!--test--\x3e"===la.createComment("test").text,x=w?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,_=w?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,k={ul:!0,ol:!0},D.e={R:{},childNodes:function(t){return j(t)?O(t):t.childNodes},ma:function(t){if(j(t))for(var e=0,n=(t=D.e.childNodes(t)).length;e<n;e++)D.removeNode(t[e]);else D.a.Ra(t)},T:function(t,e){if(j(t)){D.e.ma(t);for(var n=t.nextSibling,a=0,i=e.length;a<i;a++)n.parentNode.insertBefore(e[a],n)}else D.a.T(t,e)},Mb:function(t,e){j(t)?t.parentNode.insertBefore(e,t.nextSibling):t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},Fb:function(t,e,n){n?j(t)?t.parentNode.insertBefore(e,n.nextSibling):n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):D.e.Mb(t,e)},firstChild:function(t){return j(t)?!t.nextSibling||B(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return(t=j(t)?R(t):t).nextSibling&&B(t.nextSibling)?null:t.nextSibling},oc:j,Fc:function(t){return(t=(w?t.text:t.nodeValue).match(x))?t[1]:null},Kb:function(t){if(k[D.a.v(t)]){var e=t.firstChild;if(e)do{if(1===e.nodeType){var n,a=e.firstChild,i=null;if(a)do{}while(i?i.push(a):j(a)?(n=R(a,!0))?a=n:i=[a]:B(a)&&(i=[a]),a=a.nextSibling);if(a=i)for(i=e.nextSibling,n=0;n<a.length;n++)i?t.insertBefore(a[n],i):t.appendChild(a[n])}}while(e=e.nextSibling)}}},D.b("virtualElements",D.e),D.b("virtualElements.allowedBindings",D.e.R),D.b("virtualElements.emptyNode",D.e.ma),D.b("virtualElements.insertAfter",D.e.Fb),D.b("virtualElements.prepend",D.e.Mb),D.b("virtualElements.setDomNodeChildren",D.e.T),D.L=function(){this.ec={}},D.a.extend(D.L.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||D.g.getComponentNameForNode(t);case 8:return D.e.oc(t);default:return!1}},getBindings:function(t,e){var n=(n=this.getBindingsString(t,e))?this.parseBindingsString(n,e,t):null;return D.g.sb(n,t,e,!1)},getBindingAccessors:function(t,e){var n=(n=this.getBindingsString(t,e))?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null;return D.g.sb(n,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return D.e.Fc(t);default:return null}},parseBindingsString:function(e,t,n,a){try{var i,s,o,r=this.ec,c=e+(a&&a.valueAccessors||"");return(o=r[c])||(i="with($context){with($data||{}){return{"+D.h.Ea(e,a)+"}}}",s=new Function("$context","$element",i),o=r[c]=s),o(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),D.L.instance=new D.L,D.b("bindingProvider",D.L),function(){function i(t){return function(){return t}}function g(t){return t()}function s(n){return D.a.pa(D.k.u(n),function(t,e){return function(){return n()[e]}})}function b(t,e){return s(this.getBindings.bind(this,t,e))}function o(t,e,n){var a,i=D.e.firstChild(e),s=D.L.instance,o=s.preprocessNode;if(o){for(;a=i;)i=D.e.nextSibling(a),o.call(s,a);i=D.e.firstChild(e)}for(;a=i;)i=D.e.nextSibling(a),r(t,a,n)}function r(t,e,n){var a=!0,i=1===e.nodeType;i&&D.e.Kb(e),(a=i&&n||D.L.instance.nodeHasBindings(e)?c(e,null,t,n).shouldBindDescendants:a)&&!l[D.a.v(e)]&&o(t,e,!i)}function c(i,t,s,e){var o,r,n,a,c,u,l,d,f,p,h,m=D.a.f.get(i,v);if(!t){if(m)throw Error("You cannot apply bindings multiple times to the same element.");D.a.f.set(i,v,!0)}return!m&&e&&D.Tb(i,s),t&&"function"!=typeof t?o=t:(n=D.L.instance,a=n.getBindingAccessors||b,c=D.j(function(){return(o=t?t(s,i):a.call(n,i,s))&&s.K&&s.K(),o},null,{q:i}),o&&c.$()||(c=null)),o&&(u=c?function(t){return function(){return g(c()[t])}}:function(t){return o[t]},(l=function(){return D.a.pa(c?c():o,g)}).get=function(t){return o[t]&&u(t)()},l.has=function(t){return t in o},d=o,f=[],p={},h=[],D.a.A(d,function e(t){var n;p[t]||((n=D.getBindingHandler(t))&&(n.after&&(h.push(t),D.a.o(n.after,function(t){if(d[t]){if(-1!==D.a.m(h,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+h.join(", "));e(t)}}),h.length--),f.push({key:t,Eb:n})),p[t]=!0)}),D.a.o(e=f,function(t){var e=t.Eb.init,n=t.Eb.update,a=t.key;if(8===i.nodeType&&!D.e.R[a])throw Error("The binding '"+a+"' cannot be used with virtual elements");try{"function"==typeof e&&D.k.u(function(){var t=e(i,u(a),l,s.$data,s);if(t&&t.controlsDescendantBindings){if(r!==ja)throw Error("Multiple bindings ("+r+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");r=a}}),"function"==typeof n&&D.j(function(){n(i,u(a),l,s.$data,s)},null,{q:i})}catch(t){throw t.message='Unable to process binding "'+a+": "+o[a]+'"\nMessage: '+t.message,t}})),{shouldBindDescendants:r===ja}}function u(t){return t&&t instanceof D.N?t:new D.N(t)}D.d={};var l={script:!0,textarea:!0};D.getBindingHandler=function(t){return D.d[t]},D.N=function(n,a,i,s){var e,o=this,r="function"==typeof n&&!D.F(n),c=D.j(function(){var t=r?n():n,e=D.a.c(t);return a?(a.K&&a.K(),D.a.extend(o,a),c&&(o.K=c)):(o.$parents=[],o.$root=e,o.ko=D),o.$rawData=t,o.$data=e,i&&(o[i]=e),s&&s(o,a,e),o.$data},null,{Pa:function(){return e&&!D.a.tb(e)},q:!0});c.$()&&((o.K=c).equalityComparer=null,e=[],c.Zb=function(t){e.push(t),D.a.C.fa(t,function(t){D.a.ya(e,t),e.length||(c.p(),o.K=c=ja)})})},D.N.prototype.createChildContext=function(t,e,n){return new D.N(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)})},D.N.prototype.extend=function(n){return new D.N(this.K||this.$data,this,null,function(t,e){t.$rawData=e.$rawData,D.a.extend(t,"function"==typeof n?n():n)})};var v=D.a.f.I(),n=D.a.f.I();D.Tb=function(t,e){if(2!=arguments.length)return D.a.f.get(t,n);D.a.f.set(t,n,e),e.K&&e.K.Zb(t)},D.va=function(t,e,n){return 1===t.nodeType&&D.e.Kb(t),c(t,e,u(n),!0)},D.cc=function(t,e,n){return n=u(n),D.va(t,(a=n,t=t,"function"==typeof(e=e)?s(e.bind(null,a,t)):D.a.pa(e,i)),n);var a},D.Ja=function(t,e){1!==e.nodeType&&8!==e.nodeType||o(u(t),e,!0)},D.ub=function(t,e){if(!na&&ka.jQuery&&(na=ka.jQuery),e&&1!==e.nodeType&&8!==e.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");e=e||ka.document.body,r(u(t),e,!0)},D.Oa=function(t){switch(t.nodeType){case 1:case 8:var e=D.Tb(t);if(e)return e;if(t.parentNode)return D.Oa(t.parentNode)}return ja},D.gc=function(t){return(t=D.Oa(t))?t.$data:ja},D.b("bindingHandlers",D.d),D.b("applyBindings",D.ub),D.b("applyBindingsToDescendants",D.Ja),D.b("applyBindingAccessorsToNode",D.va),D.b("applyBindingsToNode",D.cc),D.b("contextFor",D.Oa),D.b("dataFor",D.gc)}(),C={},S={},D.g={get:function(t,e){var n,a,i,s,o,r=S.hasOwnProperty(t)?S[t]:E;r?r.tc?D.k.u(function(){e(r.definition)}):setTimeout(function(){e(r.definition)},0):(n=t,t=e,(o=C.hasOwnProperty(n)?C[n]:E)?o.U(t):((o=C[n]=new D.Q).U(t),s=function(t,e){e=!(!e||!e.synchronous);S[n]={definition:t,tc:e},delete C[n],a||e?o.notifySubscribers(t):setTimeout(function(){o.notifySubscribers(t)},0)},$("getConfig",[i=n],function(e){e?$("loadComponent",[i,e],function(t){s(t,e)}):s(null,null)}),a=!0))},zb:function(t){delete S[t]},ob:$},D.g.loaders=[],D.b("components",D.g),D.b("components.get",D.g.get),D.b("components.clearCachedDefinition",D.g.zb),function(){function i(t){switch(D.a.v(t)){case"script":return D.a.ca(t.text);case"textarea":return D.a.ca(t.value);case"template":if(s(t.content))return D.a.la(t.content.childNodes)}return D.a.la(t.childNodes)}function s(t){return ka.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function d(t,e,n){"string"==typeof e.require?a||ka.require?(a||ka.require)([e.require],n):t("Uses require, but no AMD loader is present"):n(e)}function o(e){return function(t){throw Error("Component '"+e+"': "+t)}}var n={};D.g.register=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(D.g.Xa(t))throw Error("Component "+t+" is already registered");n[t]=e},D.g.Xa=function(t){return t in n},D.g.Ec=function(t){delete n[t],D.g.zb(t)},D.g.Ab={getConfig:function(t,e){e(n.hasOwnProperty(t)?n[t]:null)},loadComponent:function(c,t,u){var l=o(c);d(l,t,function(t){function e(){0==--r&&s(o)}var n,a,i,s,o,r;n=c,a=l,s=u,o={},r=2,t=(i=t).template,i=i.viewModel,t?d(a,t,function(t){D.g.ob("loadTemplate",[n,t],function(t){o.template=t,e()})}):e(),i?d(a,i,function(t){D.g.ob("loadViewModel",[n,t],function(t){o[f]=t,e()})}):e()})},loadTemplate:function(t,e,n){var a;t=o(t),"string"==typeof e?n(D.a.ca(e)):e instanceof Array?n(e):s(e)?n(D.a.O(e.childNodes)):e.element?(e=e.element,(ka.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType)?n(i(e)):"string"==typeof e?(a=la.getElementById(e))?n(i(a)):t("Cannot find element with ID "+e):t("Unknown element type: "+e)):t("Unknown template value: "+e)},loadViewModel:function(t,e,n){!function t(e,n,a){var i;"function"==typeof n?a(function(t){return new n(t)}):"function"==typeof n[f]?a(n[f]):"instance"in n?(i=n.instance,a(function(){return i})):"viewModel"in n?t(e,n.viewModel,a):e("Unknown viewModel value: "+n)}(o(t),e,n)}};var f="createViewModel";D.b("components.register",D.g.register),D.b("components.isRegistered",D.g.Xa),D.b("components.unregister",D.g.Ec),D.b("components.defaultLoader",D.g.Ab),D.g.loaders.push(D.g.Ab),D.g.$b=n}(),function(){D.g.getComponentNameForNode=function(t){return t=D.a.v(t),D.g.Xa(t)&&t},D.g.sb=function(t,e,n,a){if(1===e.nodeType){var i=D.g.getComponentNameForNode(e);if(i){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:i,params:function(n,t){if(e=n.getAttribute("params")){e=o.parseBindingsString(e,t,n,{valueAccessors:!0,bindingParams:!0});var e=D.a.pa(e,function(t){return D.w(t,null,{q:n})}),t=D.a.pa(e,function(e){var t=e.B();return e.$()?D.w({read:function(){return D.a.c(e())},write:D.Da(t)&&function(t){e()(t)},q:n}):t});return t.hasOwnProperty("$raw")||(t.$raw=e),t}return{$raw:{}}}(e,n)};t.component=a?function(){return s}:s}}return t};var a,e,o=new D.L;D.a.M<9&&(D.g.register=(e=D.g.register,function(t){return la.createElement(t),e.apply(this,arguments)}),la.createDocumentFragment=(a=la.createDocumentFragment,function(){var t,e=a(),n=D.g.$b;for(t in n)n.hasOwnProperty(t)&&e.createElement(t);return e}))}(),T=0,D.d.component={init:function(l,e,t,n,d){function f(){var t=p&&p.dispose;"function"==typeof t&&t.call(p),h=null}var p,h,m=D.a.O(D.e.childNodes(l));return D.a.C.fa(l,f),D.w(function(){var r,c,t=D.a.c(e());if("string"==typeof t?r=t:(r=D.a.c(t.name),c=D.a.c(t.params)),!r)throw Error("No component name specified");var u=h=++T;D.g.get(r,function(t){if(h===u){if(f(),!t)throw Error("Unknown component '"+r+"'");!function(t,e,n){if(!(e=e.template))throw Error("Component '"+t+"' has no template");t=D.a.la(e),D.e.T(n,t)}(r,t,l);var e=(a=l,i=m,s=c,(o=(n=t).createViewModel)?o.call(n,s,{element:a,templateNodes:i}):s);t=d.createChildContext(e,void 0,function(t){t.$component=e,t.$componentTemplateNodes=m}),p=e,D.Ja(t,l)}var n,a,i,s,o})},null,{q:l}),{controlsDescendantBindings:!0}}},D.e.R.component=!0;var M={class:"className",for:"htmlFor"};D.d.attr={update:function(a,t){t=D.a.c(t())||{};D.a.A(t,function(t,e){var n=!1===(e=D.a.c(e))||null===e||e===ja;n&&a.removeAttribute(t),D.a.M<=8&&t in M?(t=M[t],n?a.removeAttribute(t):a[t]=e):n||a.setAttribute(t,e.toString()),"name"===t&&D.a.Rb(a,n?"":e.toString())})}},D.d.checked={after:["value","attr"],init:function(a,i,s){function t(){var t,e=a.checked,n=c?u():e;D.Z.Ca()||l&&!e||(t=D.k.u(i),o?r!==n?(e&&(D.a.ga(t,n,!0),D.a.ga(t,r,!1)),r=n):D.a.ga(t,n,e):D.h.ra(t,s,"checked",n,!0))}var o,r,c,u=D.Nb(function(){return s.has("checkedValue")?D.a.c(s.get("checkedValue")):s.has("value")?D.a.c(s.get("value")):a.value}),e="checkbox"==a.type,l="radio"==a.type;(e||l)&&(o=e&&D.a.c(i())instanceof Array,r=o?u():ja,c=l||o,l&&!a.name&&D.d.uniqueName.init(a,function(){return!0}),D.w(t,null,{q:a}),D.a.n(a,"click",t),D.w(function(){var t=D.a.c(i());a.checked=o?0<=D.a.m(t,u()):e?t:u()===t},null,{q:a}))}},D.h.V.checked=!0,D.d.checkedValue={update:function(t,e){t.value=D.a.c(e())}},D.d.css={update:function(n,t){t=D.a.c(t());null!==t&&"object"==typeof t?D.a.A(t,function(t,e){e=D.a.c(e),D.a.Ia(n,t,e)}):(t=String(t||""),D.a.Ia(n,n.__ko__cssValue,!1),n.__ko__cssValue=t,D.a.Ia(n,t,!0))}},D.d.enable={update:function(t,e){e=D.a.c(e());e&&t.disabled?t.removeAttribute("disabled"):e||t.disabled||(t.disabled=!0)}},D.d.disable={update:function(t,e){D.d.enable.update(t,function(){return!D.a.c(e())})}},D.d.event={init:function(t,s,o,r,c){var e=s()||{};D.a.A(e,function(i){"string"==typeof i&&D.a.n(t,i,function(t){var e,n=s()[i];if(n){try{var a=D.a.O(arguments);r=c.$data,a.unshift(r),e=n.apply(r,a)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===o.get(i+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},D.d.foreach={Ib:function(n){return function(){var t=n(),e=D.a.cb(t);return e&&"number"!=typeof e.length?(D.a.c(t),{foreach:e.data,as:e.as,includeDestroyed:e.includeDestroyed,afterAdd:e.afterAdd,beforeRemove:e.beforeRemove,afterRender:e.afterRender,beforeMove:e.beforeMove,afterMove:e.afterMove,templateEngine:D.P.Va}):{foreach:t,templateEngine:D.P.Va}}},init:function(t,e){return D.d.template.init(t,D.d.foreach.Ib(e))},update:function(t,e,n,a,i){return D.d.template.update(t,D.d.foreach.Ib(e),n,a,i)}},D.h.ka.foreach=!1,D.e.R.foreach=!0,D.d.hasfocus={init:function(a,i,s){function t(t){a.__ko_hasfocusUpdating=!0;var e,n=a.ownerDocument;if("activeElement"in n){try{e=n.activeElement}catch(t){e=n.body}t=e===a}n=i(),D.h.ra(n,s,"hasfocus",t,!0),a.__ko_hasfocusLastValue=t,a.__ko_hasfocusUpdating=!1}var e=t.bind(null,!0),n=t.bind(null,!1);D.a.n(a,"focus",e),D.a.n(a,"focusin",e),D.a.n(a,"blur",n),D.a.n(a,"focusout",n)},update:function(t,e){e=!!D.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===e||(e?t.focus():t.blur(),D.k.u(D.a.qa,null,[t,e?"focusin":"focusout"]))}},D.h.V.hasfocus=!0,D.d.hasFocus=D.d.hasfocus,D.h.V.hasFocus=!0,D.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){D.a.gb(t,e())}},e("if"),e("ifnot",!1,!0),e("with",!0,!1,function(t,e){return t.createChildContext(e)});var F,P,q,U,K,Q,V,H,J,z,W={};function G(t,e,n,a){t=D.h.bb(t);for(var i=D.h.ka,s=0;s<t.length;s++){var o=t[s].key;if(i.hasOwnProperty(o)){var r=i[o];if("function"==typeof r){if(o=r(t[s].value))throw Error(o)}else if(!r)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+D.h.Ea(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(n)+e}function Y(t,e,n,a,i){for(var s,o,r,c,u=Math.min,l=Math.max,d=[],f=t.length,p=e.length,h=p-f||1,m=f+p+1,g=0;g<=f;g++)for(r=o,d.push(o=[]),c=u(p,g+h),s=l(0,g-1);s<=c;s++)o[s]=s?g?t[g-1]===e[s-1]?r[s-1]:u(r[s]||m,o[s-1]||m)+1:s+1:g+1;for(u=[],l=[],h=[],g=f,s=p;g||s;)p=d[g][s]-1,s&&p===d[g][s-1]?l.push(u[u.length]={status:n,value:e[--s],index:s}):g&&p===d[g-1][s]?h.push(u[u.length]={status:a,value:t[--g],index:g}):(--s,--g,i.sparse||u.push({status:"retained",value:e[s]}));return D.a.Cb(l,h,10*f),u.reverse()}D.d.options={init:function(t){if("select"!==D.a.v(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(a,t,i){function e(){return D.a.xa(a.options,function(t){return t.selected})}function s(t,e,n){var a=typeof e;return"function"==a?e(t):"string"==a?t[e]:n}function n(t,e){var n;p&&u?D.i.Y(a,D.a.c(i.get("value")),!0):f.length&&(n=0<=D.a.m(f,D.i.s(e[0])),D.a.Sb(e[0],n),p&&!n&&D.k.u(D.a.qa,null,[a,"change"]))}var o=a.multiple,r=0!=a.length&&o?a.scrollTop:null,c=D.a.c(t()),u=i.get("valueAllowUnset")&&i.has("value"),l=i.get("optionsIncludeDestroyed");t={};var d,f=[];u||(o?f=D.a.Ka(e(),D.i.s):0<=a.selectedIndex&&f.push(D.i.s(a.options[a.selectedIndex]))),c&&(void 0===c.length&&(c=[c]),d=D.a.xa(c,function(t){return l||t===ja||null===t||!D.a.c(t._destroy)}),!i.has("optionsCaption")||null!==(c=D.a.c(i.get("optionsCaption")))&&c!==ja&&d.unshift(W));var p=!1;t.beforeRemove=function(t){a.removeChild(t)},c=n,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(c=function(t,e){n(0,e),D.k.u(i.get("optionsAfterRender"),null,[e[0],t!==W?t:ja])}),D.a.fb(a,d,function(t,e,n){return n.length&&(f=!u&&n[0].selected?[D.i.s(n[0])]:[],p=!0),e=a.ownerDocument.createElement("option"),t===W?(D.a.Ha(e,i.get("optionsCaption")),D.i.Y(e,ja)):(n=s(t,i.get("optionsValue"),t),D.i.Y(e,D.a.c(n)),t=s(t,i.get("optionsText"),n),D.a.Ha(e,t)),[e]},t,c),D.k.u(function(){u?D.i.Y(a,D.a.c(i.get("value")),!0):(o?f.length&&e().length<f.length:f.length&&0<=a.selectedIndex?D.i.s(a.options[a.selectedIndex])!==f[0]:f.length||0<=a.selectedIndex)&&D.a.qa(a,"change")}),D.a.kc(a),r&&20<Math.abs(r-a.scrollTop)&&(a.scrollTop=r)}},D.d.options.ab=D.a.f.I(),D.d.selectedOptions={after:["options","foreach"],init:function(n,a,i){D.a.n(n,"change",function(){var t=a(),e=[];D.a.o(n.getElementsByTagName("option"),function(t){t.selected&&e.push(D.i.s(t))}),D.h.ra(t,i,"selectedOptions",e)})},update:function(t,e){if("select"!=D.a.v(t))throw Error("values binding applies only to SELECT elements");var n=D.a.c(e());n&&"number"==typeof n.length&&D.a.o(t.getElementsByTagName("option"),function(t){var e=0<=D.a.m(n,D.i.s(t));D.a.Sb(t,e)})}},D.h.V.selectedOptions=!0,D.d.style={update:function(n,t){t=D.a.c(t()||{});D.a.A(t,function(t,e){e=D.a.c(e),n.style[t]=e=null===e||e===ja||!1===e?"":e})}},D.d.submit={init:function(a,i,t,e,s){if("function"!=typeof i())throw Error("The value for a submit binding must be a function");D.a.n(a,"submit",function(t){var e,n=i();try{e=n.call(s.$data,a)}finally{!0!==e&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},D.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){D.a.Ha(t,e())}},D.e.R.text=!0,ka&&ka.navigator&&(t=function(t){if(t)return parseFloat(t[1])},U=ka.opera&&ka.opera.version&&parseInt(ka.opera.version()),d=ka.navigator.userAgent,K=t(d.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),Q=t(d.match(/Firefox\/([^ ]*)/))),D.a.M<10&&(V=D.a.f.I(),H=D.a.f.I(),J=function(t){var e=this.activeElement;(e=e&&D.a.f.get(e,H))&&e(t)},z=function(t,e){var n=t.ownerDocument;D.a.f.get(n,V)||(D.a.f.set(n,V,!0),D.a.n(n,"selectionchange",J)),D.a.f.set(t,H,e)}),D.d.textInput={init:function(n,a,e){function t(t,e){D.a.n(n,t,e)}function i(){o||(r=n.value,o=setTimeout(s,4))}function s(){clearTimeout(o),r=o=ja;var t=n.value;c!==t&&(c=t,D.h.ra(a(),e,"textInput",t))}var o,r,c=n.value;D.a.M<10?(t("propertychange",function(t){"value"===t.propertyName&&s()}),8==D.a.M&&(t("keyup",s),t("keydown",s)),8<=D.a.M&&(z(n,s),t("dragend",i))):(t("input",s),K<5&&"textarea"===D.a.v(n)?(t("keydown",i),t("paste",i),t("cut",i)):U<11?t("keydown",i):Q<4&&(t("DOMAutoComplete",s),t("dragdrop",s),t("drop",s))),t("change",s),D.w(function t(){var e=D.a.c(a());null!==e&&e!==ja||(e=""),r!==ja&&e===r?setTimeout(t,4):n.value!==e&&(c=e,n.value=e)},null,{q:n})}},D.h.V.textInput=!0,D.d.textinput={preprocess:function(t,e,n){n("textInput",t)}},D.d.uniqueName={init:function(t,e){e()&&(e="ko_unique_"+ ++D.d.uniqueName.fc,D.a.Rb(t,e))}},D.d.uniqueName.fc=0,D.d.value={after:["options","foreach"],init:function(a,i,s){var t,e,n,o,r,c;"input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type?(t=["change"],e=s.get("valueUpdate"),n=!1,o=null,e&&(D.a.ia(t,e="string"==typeof e?[e]:e),t=D.a.wb(t)),r=function(){o=null,n=!1;var t=i(),e=D.i.s(a);D.h.ra(t,s,"value",e)},!D.a.M||"input"!=a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=D.a.m(t,"propertychange")||(D.a.n(a,"propertychange",function(){n=!0}),D.a.n(a,"focus",function(){n=!1}),D.a.n(a,"blur",function(){n&&r()})),D.a.o(t,function(t){var e=r;D.a.Dc(t,"after")&&(e=function(){o=D.i.s(a),setTimeout(r,0)},t=t.substring(5)),D.a.n(a,t,e)}),c=function(){var t,e=D.a.c(i()),n=D.i.s(a);null!==o&&e===o?setTimeout(c,0):e!==n&&("select"===D.a.v(a)?(t=s.get("valueAllowUnset"),(n=function(){D.i.Y(a,e,t)})(),t||e===D.i.s(a)?setTimeout(n,0):D.k.u(D.a.qa,null,[a,"change"])):D.i.Y(a,e))},D.w(c,null,{q:a})):D.va(a,{checkedValue:i})},update:function(){}},D.h.V.value=!0,D.d.visible={update:function(t,e){var n=D.a.c(e()),e="none"!=t.style.display;n&&!e?t.style.display="":!n&&e&&(t.style.display="none")}},D.d.click={init:function(t,e,n,a,i){return D.d.event.init.call(this,t,function(){var t={};return t.click=e(),t},n,a,i)}},D.J=function(){},D.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},D.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},D.J.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=(e=e||la).getElementById(t);if(!e)throw Error("Cannot find template with ID "+t);return new D.t.l(e)}if(1==t.nodeType||8==t.nodeType)return new D.t.ha(t);throw Error("Unknown template type: "+t)},D.J.prototype.renderTemplate=function(t,e,n,a){return t=this.makeTemplateSource(t,a),this.renderTemplateSource(t,e,n,a)},D.J.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting||this.makeTemplateSource(t,e).data("isRewritten")},D.J.prototype.rewriteTemplate=function(t,e,n){e=e((t=this.makeTemplateSource(t,n)).text()),t.text(e),t.data("isRewritten",!0)},D.b("templateEngine",D.J),D.kb=(F=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,P=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{lc:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return D.kb.xc(t,e)},n)},xc:function(t,s){return t.replace(F,function(t,e,n,a,i){return G(i,e,n,s)}).replace(P,function(t,e){return G(e,"\x3c!-- ko --\x3e","#comment",s)})},dc:function(n,a){return D.H.$a(function(t,e){t=t.nextSibling;t&&t.nodeName.toLowerCase()===a&&D.va(t,n,e)})}}),D.b("__tr_ambtns",D.kb.dc),function(){D.t={},D.t.l=function(t){this.l=t},D.t.l.prototype.text=function(){var t="script"===(t=D.a.v(this.l))?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var e=arguments[0];"innerHTML"===t?D.a.gb(this.l,e):this.l[t]=e};var e=D.a.f.I()+"_";D.t.l.prototype.data=function(t){if(1===arguments.length)return D.a.f.get(this.l,e+t);D.a.f.set(this.l,e+t,arguments[1])};var n=D.a.f.I();D.t.ha=function(t){this.l=t},D.t.ha.prototype=new D.t.l,D.t.ha.prototype.text=function(){if(0==arguments.length){var t=D.a.f.get(this.l,n)||{};return t.lb===ja&&t.Na&&(t.lb=t.Na.innerHTML),t.lb}D.a.f.set(this.l,n,{lb:arguments[0]})},D.t.l.prototype.nodes=function(){if(0==arguments.length)return(D.a.f.get(this.l,n)||{}).Na;D.a.f.set(this.l,n,{Na:arguments[0]})},D.b("templateSources",D.t),D.b("templateSources.domElement",D.t.l),D.b("templateSources.anonymousTemplate",D.t.ha)}(),function(){function a(t,e,n){var a;for(e=D.e.nextSibling(e);t&&(a=t)!==e;)n(a,t=D.e.nextSibling(a))}function u(t,e){if(t.length){var i=t[0],s=t[t.length-1],n=i.parentNode,o=D.L.instance,r=o.preprocessNode;if(r){if(a(i,s,function(t,e){var n=t.previousSibling,a=r.call(o,t);a&&(t===i&&(i=a[0]||e),t===s&&(s=a[a.length-1]||n))}),t.length=0,!i)return;i===s?t.push(i):(t.push(i,s),D.a.na(t,n))}a(i,s,function(t){1!==t.nodeType&&8!==t.nodeType||D.ub(e,t)}),a(i,s,function(t){1!==t.nodeType&&8!==t.nodeType||D.H.Xb(t,[e])}),D.a.na(t,n)}}function c(t){return t.nodeType?t:0<t.length?t[0]:null}function l(t,e,n,a,i){var s=(t&&c(t)||n||{}).ownerDocument,o=(i=i||{}).templateEngine||f;if(D.kb.lc(n,o,s),"number"!=typeof(n=o.renderTemplate(n,a,i,s)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(s=!1,e){case"replaceChildren":D.e.T(t,n),s=!0;break;case"replaceNode":D.a.Qb(t,n),s=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return s&&(u(n,a),i.afterRender&&D.k.u(i.afterRender,null,[n,a.$data])),n}function d(t,e,n){return D.F(t)?t():"function"==typeof t?t(e,n):t}var f;D.hb=function(t){if(t!=ja&&!(t instanceof D.J))throw Error("templateEngine must inherit from ko.templateEngine");f=t},D.eb=function(n,a,i,s,o){if(((i=i||{}).templateEngine||f)==ja)throw Error("Set a template engine before calling renderTemplate");if(o=o||"replaceChildren",s){var r=c(s);return D.j(function(){var t=a&&a instanceof D.N?a:new D.N(D.a.c(a)),e=d(n,t.$data,t),t=l(s,o,e,t,i);"replaceNode"==o&&(r=c(s=t))},null,{Pa:function(){return!r||!D.a.Qa(r)},q:r&&"replaceNode"==o?r.parentNode:r})}return D.H.$a(function(t){D.eb(n,a,i,t,"replaceNode")})},D.Cc=function(n,e,a,i,s){function o(t,e){u(e,c),a.afterRender&&a.afterRender(e,t),c=null}function r(t,e){return c=s.createChildContext(t,a.as,function(t){t.$index=e}),l(null,"ignoreTargetNode",d(n,t,c),c,a)}var c;return D.j(function(){var t=D.a.c(e)||[];void 0===t.length&&(t=[t]),t=D.a.xa(t,function(t){return a.includeDestroyed||t===ja||null===t||!D.a.c(t._destroy)}),D.k.u(D.a.fb,null,[i,t,r,a,o])},null,{q:i})};var r=D.a.f.I();D.d.template={init:function(t,e){e=D.a.c(e());if("string"==typeof e||e.name)D.e.ma(t);else{if("nodes"in e){if(e=e.nodes||[],D.F(e))throw Error('The "nodes" option must be a plain, non-observable array.')}else e=D.e.childNodes(t);e=D.a.Jb(e),new D.t.ha(t).nodes(e)}return{controlsDescendantBindings:!0}},update:function(t,e,n,a,i){var s,o=e();n=!0,a=null,"string"==typeof(e=D.a.c(o))?e={}:(o=e.name,(n="if"in e?D.a.c(e.if):n)&&"ifnot"in e&&(n=!D.a.c(e.ifnot)),s=D.a.c(e.data)),"foreach"in e?a=D.Cc(o||t,n&&e.foreach||[],e,t,i):n?(i="data"in e?i.createChildContext(s,e.as):i,a=D.eb(o||t,i,e,t)):D.e.ma(t),i=a,(s=D.a.f.get(t,r))&&"function"==typeof s.p&&s.p(),D.a.f.set(t,r,i&&i.$()?i:ja)}},D.h.ka.template=function(t){return 1==(t=D.h.bb(t)).length&&t[0].unknown||D.h.vc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},D.e.R.template=!0}(),D.b("setTemplateEngine",D.hb),D.b("renderTemplate",D.eb),D.a.Cb=function(t,e,n){var a,i,s,o,r;if(t.length&&e.length)for(a=i=0;(!n||a<n)&&(o=t[i]);++i){for(s=0;r=e[s];++s)if(o.value===r.value){o.moved=r.index,r.moved=o.index,e.splice(s,1),a=s=0;break}a+=s}},D.a.Ma=function(t,e,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},(t=t||[]).length<=(e=e||[]).length?Y(t,e,"added","deleted",n):Y(e,t,"deleted","added",n)},D.b("utils.compareArrays",D.a.Ma),q=D.a.f.I(),D.a.fb=function(n,t,e,a,i){function s(t,e){g=c[e],p!==e&&(w[t]=g),g.Ua(p++),D.a.na(g.aa,n),d.push(g),m.push(g)}function o(e,n){if(e)for(var a=0,t=n.length;a<t;a++)n[a]&&D.a.o(n[a].aa,function(t){e(t,a,n[a].wa)})}t=t||[],a=a||{};var r=D.a.f.get(n,q)===ja,c=D.a.f.get(n,q)||[],u=D.a.Ka(c,function(t){return t.wa}),l=D.a.Ma(u,t,a.dontLimitMoves),d=[],f=0,p=0,h=[],m=[];t=[];for(var g,b,v,y,w=[],x=(u=[],0);b=l[x];x++)switch(v=b.moved,b.status){case"deleted":v===ja&&((g=c[f]).j&&g.j.p(),h.push.apply(h,D.a.na(g.aa,n)),a.beforeRemove&&(t[x]=g,m.push(g))),f++;break;case"retained":s(x,f++);break;case"added":v!==ja?s(x,v):(g={wa:b.value,Ua:D.r(p++)},d.push(g),m.push(g),r||(u[x]=g))}for(o(a.beforeMove,w),D.a.o(h,a.beforeRemove?D.S:D.removeNode),x=0,r=D.e.firstChild(n);g=m[x];x++){for(g.aa||D.a.extend(g,function(e,n,a,i,s){var o=[],t=D.j(function(){var t=n(a,s,D.a.na(o,e))||[];0<o.length&&(D.a.Qb(o,t),i&&D.k.u(i,null,[a,t,s])),o.length=0,D.a.ia(o,t)},null,{q:e,Pa:function(){return!D.a.tb(o)}});return{aa:o,j:t.$()?t:ja}}(n,e,g.wa,i,g.Ua)),f=0;l=g.aa[f];r=l.nextSibling,y=l,f++)l!==r&&D.e.Fb(n,l,y);!g.rc&&i&&(i(g.wa,g.aa,g.Ua),g.rc=!0)}o(a.beforeRemove,t),o(a.afterMove,w),o(a.afterAdd,u),D.a.f.set(n,q,d)},D.b("utils.setDomNodeChildrenFromArrayMapping",D.a.fb),D.P=function(){this.allowTemplateRewriting=!1},D.P.prototype=new D.J,D.P.prototype.renderTemplateSource=function(t,e,n,a){return(e=D.a.M<9||!t.nodes?null:t.nodes())?D.a.O(e.cloneNode(!0).childNodes):(t=t.text(),D.a.ca(t,a))},D.P.Va=new D.P,D.hb(D.P.Va),D.b("nativeTemplateEngine",D.P),function(){D.Ya=function(){var s=this.uc=function(){if(!na||!na.tmpl)return 0;try{if(0<=na.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(t,e,n,a){if(a=a||la,n=n||{},s<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var i=t.data("precompiled");return i||(i=t.text()||"",i=na.template(null,"{{ko_with $item.koBindingContext}}"+i+"{{/ko_with}}"),t.data("precompiled",i)),t=[e.$data],e=na.extend({koBindingContext:e},n.templateOptions),(e=na.tmpl(i,t,e)).appendTo(a.createElement("div")),na.fragments={},e},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){la.write("<script type='text/html' id='"+t+"'>"+e+"<\/script>")},0<s&&(na.tmpl.tag.ko_code={open:"__.push($1 || '');"},na.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},D.Ya.prototype=new D.J;var t=new D.Ya;0<t.uc&&D.hb(t),D.b("jqueryTmplTemplateEngine",D.Ya)}()};"function"==typeof define&&define.amd?define(["exports","require"],pa):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?pa(module.exports||exports):pa(ka.ko={})}(),function(t){"use strict";function e(){return window.Sizzle||(window.jQuery&&window.jQuery.find?window.jQuery.find:function(t,e){return"object"==typeof e&&e.querySelectorAll?e.querySelectorAll(t):"string"==typeof e?document.querySelectorAll(e+" "+t):document.querySelectorAll(t)})}t.Selector={$:function(t){return document.getElementById(t)},$$:e(),_createSelectorAlias:e}}(this),function(r){"use strict";function i(){var t=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}r.DOMEvent={on:document.addEventListener?function(t,e,n,a){if(!t)throw new Error('failed to add event. Element: "'+t+'", Event: "'+e+'", handler: '+n.toString());i()&&a&&a.constructor==Object?a.hasOwnProperty("capture")||(a.capture=!1):a=!1,t.addEventListener(e,n,a)}:function(t,e,n){if(!t)throw new Error('failed to add event. Element: "'+t+'", Event: "'+e+'", handler: '+n.toString());t.attachEvent("on"+e,n)},off:document.removeEventListener?function(t,e,n,a){i()&&a&&a.constructor==Object?a.hasOwnProperty("capture")||(a.capture=!1):a=!1,t.removeEventListener(e,n,a)}:function(t,e,n){t.detachEvent("on"+e,n)},preventDefault:function(t){t=t||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t=t||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(t){t=t||window.event;return t.target||t.srcElement}},r.DOMEvent.delegate=function(a,i,t,s){if("undefined"==typeof Selector)throw new Error("dependency not found. you should include selector-alias module to use delegate function.");if(!a)throw new Error('failed to delegate event. Element: "'+a+'", Selector: "'+i+'", Event: "'+t+'", handler: '+s.toString());var o=Selector.$$;r.DOMEvent.on(a,t,function(t){for(var e=r.DOMEvent.getTarget(t),n=o(i,a),n=Array.prototype.slice.apply(n);e&&e!==a;){if(1===e.nodeType&&-1<n.indexOf(e)){s(t,e);break}e=e.parentNode}})}}(window),function(t){"use strict";var n;"function"!=typeof Object.create&&(Object.create=(n=function(){},function(t,e){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");n.prototype=t||{},void 0!==e&&Object.defineProperties(n.prototype,e);e=new n;return(n.prototype=null)===t&&(e.__proto__=null),e}));var s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;function o(){}o.extend=function(t){var e,i=this.prototype,n=Object.create(i);for(e in t)n[e]="function"==typeof t[e]&&"function"==typeof i[e]&&s.test(t[e])?function(n,a){return function(){var t=this._super;this._super=i[n];var e=a.apply(this,arguments);return this._super=t,e}}(e,t[e]):t[e];function a(){"function"==typeof this.init&&this.init.apply(this,arguments)}return((a.prototype=n).constructor=a).extend=o.extend,a},t.Class=o}(this),function(t){"use strict";t.Observer=Class.extend({on:function(t,e){for(var n=[].concat(t),a=0,i=n.length;a<i;a++)this.addListener.apply(this,[n[a],e]);return this},addListener:function(t,e){return this.getListeners(t).push(e),this},once:function(t,e){var n,a;e&&(n=this,a=function(){n.off(t,a),e.apply(this,arguments)},e.__onetime_listener=a,this.on(t,a))},emit:function(t){for(var e=[].concat(t),n=[].slice.call(arguments,1),a=0,i=e.length;a<i;a++)this._emit(e[a],n);return this},_emit:function(t,e){var n=this.getListeners(t).slice(0);if(void 0!==n)for(var a=0,i=n.length;a<i;a++)try{n[a].apply(this,e)}catch(t){throw t}},getListeners:function(t){return this.listeners=this.listeners||{},this.listeners[t]=this.listeners[t]||[],this.listeners[t]},off:function(t,e){var n=[].concat(t);e&&"function"==typeof e.__onetime_listener&&(e=e.__onetime_listener);for(var a=0,i=n.length;a<i;a++)this.removeListener.apply(this,[n[a],e]);return e&&"function"==typeof e.__onetime_listener&&delete e.__onetime_listener,this},removeListener:function(t,e){var n=this.getListeners(t);if(void 0!==n)for(var a=0,i=n.length;a<i;a++)if(n[a]===e||n[a].__original__===e){n.splice(a,1);break}return this},destroy:function(){this.listeners=null}})}(this);var templates={"answer-company-stock":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: price,\n        \tcss: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \ttext: changeValue,\n        \tcss: changePrice"></span>\n        \x3c!-- ko if: changeRatio --\x3e\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + changeRatio)"></span>\n        \x3c!-- /ko --\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',"answer-exchange":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: base_rate,\n        \tcss: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> (KRW)</span>\n    \x3c!--ko if: exchangeRatio --\x3e\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: exchangeRatio.status,\n        \ttext: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: exchangeRatio.priceColor,\n        \ttext: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    \x3c!--/ko--\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \'  \')"></span>',"answer-korea-weather":'<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out"></span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' \') "></span>\n</span>',"answer-lotto":'<span class="txt_exact">\n    <span class="tit screen_out"></span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus"></span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + ' (' + year + '.' + month + '.' + day + ')')\"></span>","answer-stock":'<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' \'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \tcss: priceColor,\n        \ttext: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: status,\n        \ttext: price_change"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',"answer-world-weather":'<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out"></span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', \')"></span>',"recent-footer":'<div class="fr">\n    \x3c!-- ko if: recentList.enableRecent --\x3e\n    <a href="#" class="deleteRecent" data-bind="\n    \tclick: function () {\n    \t\trecentList.removeRecentData();\n    \t\trecentList.hide();\n    \t}">  </a>\n    <span class="bar" style="display: inline;"> | </span>\n    \x3c!-- /ko --\x3e\n    <a href="#" class="toggleRecent" data-bind="\n    \tclick: recentList.toggle.bind(recentList),\n    \ttext: recentList.toggleBtn"></a>\n</div>',"recent-layer":'\x3c!-- ko if: options.isReverse --\x3e\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: options.isReverse --\x3e\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n\x3c!-- /ko --\x3e',"recent-list":'\x3c!-- ko if: $root.recentList.lists()[0] --\x3e\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    \tclick: function() {\n    \t\t$root.keywordInput.setSelectedQuery($data.item);\n    \t\t$root.forceFormSubmit();\n    \t},\n    \tevent: {\n    \t\tmouseover: function () {\n    \t\t\t$root.recentList.mouseOverItem($data);\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n',"suggest-answer":'\x3c!-- ko if: $data.item --\x3e\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    \tcomponent: {\n    \t\tname: $data.whichTemplateToUse,\n\t\t\tparams: $data.item\n\t\t},\n\t\tclick: function() {\n\t\t\t$root.keywordInput.setSelectedQuery($data.item().querySource);\n\t\t\t$root.forceFormSubmit();\n\t\t},\n\t\tevent: {\n\t\t\tmouseover: function () {\n\t\t\t\t$root.suggestList.mouseOverItem($data.item());\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { e_on: $data.item().isActivated }"></a>\n</div>\n\x3c!-- /ko --\x3e\n',"suggest-container":'<div class="baseBox bg" data-bind="\n\tvisible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n\ttemplate: { name: \'suggest-layer\' }"></div>\n\x3c!-- ko if: options.enableRecentList --\x3e\n<div class="baseBox recent" data-bind="\n\tvisible: (recentList.length() > 0 && recentList.visible),\n\ttemplate: { name: \'recent-layer\' }"></div>\n\x3c!-- /ko --\x3e\n',"suggest-footer":'<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank"> ?</a>\n</div>',"suggest-layer":'\x3c!-- ko if: options.isReverse --\x3e\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: options.isReverse --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n',"suggest-list":'<div class="list">\n    <h3 class="screen_out">  </h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        \tclick: function() {\n        \t\t$root.keywordInput.setSelectedQuery($data.q);\n        \t\t$root.forceFormSubmit();\n        \t},\n        \tevent: {\n        \t\tmouseover: function () {\n        \t\t\t$root.suggestList.mouseOverItem($data);\n    \t\t\t}\n\t\t\t},\n\t\t\tmouseoverBubble: false,\n\t\t\tcss: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n'};window.suggest_templates=templates,function(){"use strict";function f(t){var e=t.split("."),n=e[0],e=e[1],a=[],i=1;if(n.length<4)return t;for(var s=n.length-1;0<=s;s--)a.push(n.charAt(s)),0<s&&i%3==0&&a.push(","),i++;return a.reverse(),e&&0<e.length&&a.push("."+e),a.join("")}function c(t,e,n){var a,i,s=function t(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(n=new Date).setTime(e.getTime()),n;if(e instanceof Array){for(var n=[],a=0,i=e.length;a<i;a++)n[a]=t(e[a]);return n}if(e instanceof Object){for(var s in n={},e)e.hasOwnProperty(s)&&(n[s]=t(e[s]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")}(t)||{};for(a in e)i=e[a],i&&(i="object"==typeof i&&1===i.nodeType,i?s[a]=e[a]:e.hasOwnProperty(a)&&(s[a]&&!n||(s[a]="object"==typeof e[a]?c(s[a],e[a],!0):e[a])));return s}function t(t,e){ko.components.register(t,c(e,{template:(t=t,document.getElementById(t+"-template")?{element:t+"-template"}:suggest_templates[t]),synchronous:!0},!1))}t("answer-company-stock",{viewModel:function(t){var e=parseInt(t.changeCode,10),n=t.changeValue,a=t.changeRatio,i="",s="",o=null,r=null;e<3?(o="up",i="+",s="txt_red2",r=1<e?"":""):3<e?(o="down",i="-",s="txt_blue2",r=e<5?"":""):(o="equal",r="",n=a,a=null),this.name=t.name,this.code=t.code,this.price=t.price,this.date=t.date,this.status=o,this.statusText=r,this.changeValue=n&&n.replace(/[+-]/,""),this.changeRatio=a&&i+a.replace(/[+-]/,""),this.priceColor=s,this.changePrice=s+" ico_arrow_"+o,this.querySource=t.querySource}}),t("answer-exchange",{viewModel:function(t){var e=t.prev,n="",a=null,i=t.exchangeAmount||t.base_rate;t.exchangeAmount||(0<e?(a="up",n="txt_red2"):e<0?(a="down",n="txt_blue2"):(a="equal",e=null)),this.country=t.country,this.code=t.code,this.base_rate=f(i),this.date_time=t.date_time,this.priceColor=n,this.exchangeRatio=null,this.querySource=t.querySource,null!==a&&(this.exchangeRatio={status:n+" ico_arrow_"+a,priceColor:n,prev:0<e?e:-e,ratio:t.ratio})}}),t("answer-korea-weather",{viewModel:function(t){this.icon40="ico_w"+(parseInt(t.icon,10)<10?"0":"")+t.icon,this.areaname=t.areaname,this.wtext5s=t.description,this.temp=t.temperature,this.announce=t.announce,this.querySource=t.querySource}}),t("answer-lotto",{viewModel:function(t){this.num1=parseInt(t.num1,10),this.num2=parseInt(t.num2,10),this.num3=parseInt(t.num3,10),this.num4=parseInt(t.num4,10),this.num5=parseInt(t.num5,10),this.num6=parseInt(t.num6,10),this.bonus=parseInt(t.bonus,10),this.getNumClassByLotto=function(t){return t<=10?"num1":t<=20?"num10":t<=30?"num20":t<=40?"num30":"num40"},this.numClass1=this.getNumClassByLotto(t.num1),this.numClass2=this.getNumClassByLotto(t.num2),this.numClass3=this.getNumClassByLotto(t.num3),this.numClass4=this.getNumClassByLotto(t.num4),this.numClass5=this.getNumClassByLotto(t.num5),this.numClass6=this.getNumClassByLotto(t.num6),this.numClassBonus=this.getNumClassByLotto(t.bonus),this.seq=t.seq,this.year=t.year,this.month=t.month,this.day=t.day,this.querySource=t.querySource}});var p=["IXIC","DJI"];t("answer-stock",{viewModel:function(t){var e="",n="",a="",i=null,s=t.price_change,o=t.code,r=p,c=!1,u=t.date;this.priceColor="",this.name="",this.querySource=t.querySource;for(var l=0,d=r.length;l!==d;l++)if(r[l]===o){n='<span class="txt_time_k">,</span> ',c=!0;break}c||("close"===t.status?(a=' <span class="txt_time_k"> </span>',u=u.split(" ")[0]):a=' <span class="txt_time_k"></span>'),0<s?(this.priceColor="txt_red2",i="up",e="+"):s<0?(this.priceColor="txt_blue2",i="down"):(i="equal",s=null),"KOSDAQ"===o?this.name="(KOSDAQ)":"KOSPI"===o?this.name="(KOSPI)":"IXIC"===o?this.name=" (IXIC)":"DJI"===o?this.name=" (DJI)":"FUTURE"===o?this.name=" (FUTURE)":"KOSPI200"===o&&(this.name="200(KOSPI200)"),this.price=f(t.price),this.price_change=s.replace(/[+-]/,""),this.date=n+u+a,this.price_change_rate=e+t.price_change_rate,this.status=this.priceColor+" ico_arrow_"+i}}),t("answer-world-weather",{viewModel:function(t){this.icon40="ico_w"+t.icon40,this.country=t.country,this.city=t.city,this.wtext=t.wtext,this.mintemp=t.mintemp,this.maxtemp=t.maxtemp,this.ddate=t.ddate,this.querySource=t.querySource}});var e={autoFocus:"NORMAL",suggestLimit:20,recentLimit:10,searchURL:"http://search.daum.net/search",isReverse:!1,APIServer:{host:"//suggest.search.daum.net/sushi/pc/get",queries:{htype:"position"}},enableRecentList:!1,enableFooter:!1},s={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224};window.suggest_templates={"answer-company-stock":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: price,\n        \tcss: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \ttext: changeValue,\n        \tcss: changePrice"></span>\n        \x3c!-- ko if: changeRatio --\x3e\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + changeRatio)"></span>\n        \x3c!-- /ko --\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',"answer-exchange":'<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \ttext: base_rate,\n        \tcss: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> (KRW)</span>\n    \x3c!--ko if: exchangeRatio --\x3e\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: exchangeRatio.status,\n        \ttext: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: exchangeRatio.priceColor,\n        \ttext: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    \x3c!--/ko--\x3e\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \'  \')"></span>',"answer-korea-weather":'<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out"></span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' \') "></span>\n</span>',"answer-lotto":'<span class="txt_exact">\n    <span class="tit screen_out"></span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus"></span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + ' (' + year + '.' + month + '.' + day + ')')\"></span>","answer-stock":'<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' \'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        \tcss: priceColor,\n        \ttext: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        \tcss: status,\n        \ttext: price_change"></span>\n        <span class="txt_num2" data-bind="\n        \tcss: priceColor,\n        \ttext: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',"answer-world-weather":'<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out"></span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', \')"></span>',"recent-footer":'<div class="fr">\n    \x3c!-- ko if: recentList.enableRecent --\x3e\n    <a href="#" class="deleteRecent" data-bind="\n    \tclick: function () {\n    \t\trecentList.removeRecentData();\n    \t\trecentList.hide();\n    \t}">  </a>\n    <span class="bar" style="display: inline;"> | </span>\n    \x3c!-- /ko --\x3e\n    <a href="#" class="toggleRecent" data-bind="\n    \tclick: recentList.toggle.bind(recentList),\n    \ttext: recentList.toggleBtn"></a>\n</div>',"recent-layer":'\x3c!-- ko if: options.isReverse --\x3e\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: options.isReverse --\x3e\n<div class="list" data-bind="\n\ttemplate: { name: \'recent-list\' },\n\tvisible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n\ttemplate: { name: \'recent-footer\' }"></div>\n\x3c!-- /ko --\x3e',"recent-list":'\x3c!-- ko if: $root.recentList.lists()[0] --\x3e\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    \tclick: function() {\n    \t\t$root.keywordInput.setSelectedQuery($data.item);\n    \t\t$root.forceFormSubmit();\n    \t},\n    \tevent: {\n    \t\tmouseover: function () {\n    \t\t\t$root.recentList.mouseOverItem($data);\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n',"suggest-answer":'\x3c!-- ko if: $data.item --\x3e\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    \tcomponent: {\n    \t\tname: $data.whichTemplateToUse,\n\t\t\tparams: $data.item\n\t\t},\n\t\tclick: function() {\n\t\t\t$root.keywordInput.setSelectedQuery($data.item().querySource);\n\t\t\t$root.forceFormSubmit();\n\t\t},\n\t\tevent: {\n\t\t\tmouseover: function () {\n\t\t\t\t$root.suggestList.mouseOverItem($data.item());\n\t\t\t}\n\t\t},\n\t\tmouseoverBubble: false,\n\t\tcss: { e_on: $data.item().isActivated }"></a>\n</div>\n\x3c!-- /ko --\x3e\n',"suggest-container":'<div class="baseBox bg" data-bind="\n\tvisible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n\ttemplate: { name: \'suggest-layer\' }"></div>\n\x3c!-- ko if: options.enableRecentList --\x3e\n<div class="baseBox recent" data-bind="\n\tvisible: (recentList.length() > 0 && recentList.visible),\n\ttemplate: { name: \'recent-layer\' }"></div>\n\x3c!-- /ko --\x3e\n',"suggest-footer":'<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank"> ?</a>\n</div>',"suggest-layer":'\x3c!-- ko if: options.isReverse --\x3e\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: options.isReverse --\x3e\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        \ttemplate: { name: $data.templateName },\n        \tdata: $data"></div>\n    </div>\n\n    \x3c!-- ko if: options.enableFooter --\x3e\n    <div class="footer bg_sub" data-bind="\n    \ttemplate: { name: \'suggest-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n',"suggest-list":'<div class="list">\n    <h3 class="screen_out">  </h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        \tclick: function() {\n        \t\t$root.keywordInput.setSelectedQuery($data.q);\n        \t\t$root.forceFormSubmit();\n        \t},\n        \tevent: {\n        \t\tmouseover: function () {\n        \t\t\t$root.suggestList.mouseOverItem($data);\n    \t\t\t}\n\t\t\t},\n\t\t\tmouseoverBubble: false,\n\t\t\tcss: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n'};var i=Class.extend({init:function(t,e){var n=this,t=document.getElementById(t.inputEl).value||"";this.postbox=e,this.enableUpdateQuery=!0,this.searchQuery=ko.observable(t),this.defaultQuery=t,this.isSelected=ko.observable(!1),this.searchQuery.subscribe(function(t){n.enableUpdateQuery&&(n.defaultQuery=t,n.postbox.notifySubscribers(t,"suggestQuery"))}),this.postbox.subscribe(function(t){n.enableUpdateQuery=!1,t?n.searchQuery(t):n.searchQuery(n.defaultQuery),n.enableUpdateQuery=!0},n,"selectedIndex")},setSelectedQuery:function(t){this.enableUpdateQuery=!1,this.searchQuery(t)}}),o=function(t,e,n,a){for(var i,s,o,r=(a+=" ").split(""),c=0;c<n.length;c++)i=n[c][0],s=n[c][1]-1,r[i]="<strong>"+u(r[i]),o=r[s],i+1===s&&(o=u(o)),r[s]=o+"</strong>";function u(t){var e;return e=t?(e=t.replace(/</gi,"&lt;")).replace(/>/gi,"&gt;"):e}return r.join("")},u=Class.extend({templateName:"suggest-list",init:function(t,e){var n;this.options=e,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),t.tltm&&(void 0===(n=this.options.searchLayer.getElementsByTagName("fieldset")[0])||document.getElementById("tltm")||((e=document.createElement("input")).setAttribute("type","hidden"),e.setAttribute("name","tltm"),e.setAttribute("value",t.tltm),e.setAttribute("id","tltm"),n.appendChild(e))),this._parse(t)},get:function(t){return this.items()[t]},_parse:function(t){var e=[],n=t.q,a=Math.min(t.subkeys.length,this.options.suggestLimit);n.replace(/^\s+|\s+$/g,"").length;t.subkeys;for(var i=0;i<a;i+=1){var s=t.subkeys[i],o=t.highlighted[i];e.push(r(s,n,o,a,i))}this.options.isReverse&&e.reverse(),this.items(e)}});function r(t,e,n,a,i){return{isActivated:ko.observable(!1),type:"SUGGEST",item:t,highlight:function(){return o(this.item,e,n,t)},q:t,total:a,index:i}}var l=Class.extend({templateName:"suggest-answer",init:function(t,e){this.options=e,this.item=ko.observable(null),this.whichTemplateToUse=ko.observable(),this.length=ko.computed(function(){return null===this.item()?0:1},this),this._parse(t)},get:function(){return this.item()},_parse:function(t){if(!t.success||!t.answer)return this.item(null),!1;var e=t.answer,t=parseInt(e.collectionId,10);if(4!==t){switch(t){case 8:this.whichTemplateToUse("answer-korea-weather");break;case 3:this.whichTemplateToUse("answer-world-weather");break;case 1:this.whichTemplateToUse("answer-lotto");break;case 2:case 7:this.whichTemplateToUse("answer-exchange");break;case 5:this.whichTemplateToUse("answer-stock");break;case 6:this.whichTemplateToUse("answer-company-stock")}e.type="ANSWER",e.isActivated=ko.observable(!1),this.item(e)}}}),n=Class.extend({init:function(t){this.isShiftOn=!1,this.suggestList=t},getBaseIndex:function(){return-1},onKeyDown:function(t,e){var n=e.keyCode,a=this.suggestList,i=a.activeIndex();switch(n){case s.UP:DOMEvent.preventDefault(e),a.visible()&&a.moveUp(i);break;case s.DOWN:DOMEvent.preventDefault(e),a.visible()?a.moveDown():a.show();break;case s.TAB:DOMEvent.preventDefault(e),a.visible()&&(this.isShiftOn?a.moveUp():a.moveDown());break;case s.ESC:a.cancel();break;case s.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(t,e){e.keyCode===s.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),a=Class.extend({init:function(t,e){this.postbox=e,this.options=t,this.lists=ko.observableArray([]),this.listsByType={},this.keyboardDelegate=new n(this),this.activeIndex=ko.observable(this.getBaseIndex()),this.selectIndex=ko.observable(this.getBaseIndex()),this.visible=ko.observable(!1),this.cachedAnswerData=null,this.accessible=ko.observable(),this.length=ko.computed(function(){for(var t=0,e=this.lists(),n=0;n<e.length;n++)t+=e[n].length();return 0===t&&this.visible(!1),this.updateAccessiblity(t),t},this),this.setSubscribe()},addList:function(t,e){this.lists.push(e),this.listsByType[t]=e},setSubscribe:function(){var e=this;this.selectIndex.subscribe(function(t){e.postbox.notifySubscribers(e.getKeyword(t),"selectedIndex")}),this.activeIndex.subscribe(function(t){e.postbox.notifySubscribers(e.getItem(t),"activate")}),this.postbox.subscribe(function(t){e.update(t)},this,"suggestQuery")},getKeyword:function(t){t=this.get(t);return t?t.q||t.querySource:""},getItem:function(t){var e=this.get(t);return e?{data:this.getKeyword(t),index:this.options.isReverse?this.length()-(t+1):t,type:e.type,total:e.total}:null},getItems:function(){for(var t=[],e=0;e<this.lists().length;e++)for(var n=this.lists()[e],a=0;a<n.length();a+=1)t.push(n.get(a));return t},hide:function(){this.visible(!1)},show:function(){this.visible(!0)},cancel:function(){this.hide(),this.inactivePrev(),this.resetIndex()},getBaseIndex:function(){return this.keyboardDelegate?this.keyboardDelegate.getBaseIndex():-1},onKeyUp:function(t,e){return this.keyboardDelegate.onKeyUp(t,e)},onKeyDown:function(t,e){return this.keyboardDelegate.onKeyDown(t,e)},onBlur:function(){return this.keyboardDelegate.onBlur()},moveUp:function(){var t=this.activeIndex()-1;t<0?(this.cancel(),this.options.isReverse&&this.moveFocus()):this.select(t)},moveDown:function(){var t=this.activeIndex()+1;t>=this.length()?(this.cancel(),this.options.isReverse||this.moveFocus()):this.select(t)},moveFocus:function(){this.options.searchButtonEl&&document.getElementById(this.options.searchButtonEl).focus()},select:function(t){this.inactivePrev(),this.activeIndex(t),this.selectIndex(t);t=this.get(t);t&&t.isActivated(!0)},mouseOverItem:function(t){this.inactivePrev(),this.activateItem(t)},activateItem:function(t){var e=this.indexOf(t);t.isActivated(!0),this.activeIndex(e)},inactivePrev:function(){var t=this.activeIndex(),t=this.get(t);t&&t.isActivated(!1)},get:function(t){if(-1<t)for(var e=0;e<this.lists().length;e++){var n=this.lists()[e];if(n.length()>t)return n.get(t);t-=n.length()}},indexOf:function(t){for(var e=0,n=0;n<this.lists().length;n+=1)for(var a=this.lists()[n],i=0;i<a.length();i+=1){if(t===a.get(i))return e;e+=1}return-1},update:function(t,n){if(!t.replace(/ /g,""))return this.cancel(),void this.lists([]);var a=this;(this.options.queryDelegate||d)(t,this.options,function(t,e){n&&n(),e&&(a.cachedAnswerData=e),a.lists(t),a.resetIndex()},this.cachedAnswerData),this.show()},resetIndex:function(){this.activeIndex(this.getBaseIndex()),this.selectIndex(this.getBaseIndex())},updateAccessiblity:function(t){this.accessible(""),0<t&&this.accessible(t+"   . /   ")}});function d(e,n,a,i){var s,o=[],t=n.APIServer.host,r=n.APIServer.apiType;100<e.length||(t={url:t,method:"GET",data:c({q:e},n.APIServer.queries),success:function(t){o.push(new u(t,n)),n.AnswerAPIServer?JSONP({url:n.AnswerAPIServer,data:{q:e,top:0,sq:t.subkeys[0]},success:function(t){var e=null;t.success&&(i&&function(t,e,n){if("04"!==t.collectionId){for(var a in t)if(t.hasOwnProperty(a)&&t[a]!==e[a]&&a!==n)return;return 1}}(t.answer,i.answerData,"querySource")?((e=i.instance).item(c(e.item(),t.answer,!0)),e.item().isActivated(!1)):(i={},e=new l(t,n),i.answerData=t.answer,i.instance=e),n.isReverse?o.push(e):o.unshift(e)),a(o,i)}}):a(o)}},r&&r===suggest.Suggest.APITYPE.DAPISUGGEST?(s="KakaoAK "+n.APIServer.appkey,window.jQuery.extend(t,{dataType:"json",beforeSend:function(t){t.setRequestHeader("Authorization",s)}})):window.jQuery.extend(t,{dataType:"jsonp"}),window.jQuery.ajax(t))}var h={on:"",off:" "},m="remove_all",g=a.extend({init:function(t,e){this._super(t,e),this.toggleBtn=ko.observable(),this.enableRecent=ko.observable(!1),this.getRecentData()},setSubscribe:function(){this._super(),this.options.enableRecentList&&this.postbox.subscribe(function(t){var e=document.getElementById(this.options.inputEl).value;""===t&&e===t?this.show():this.hide()},this,"suggestQuery")},removeRecentData:function(){this.request(m)},toggle:function(){this.enableRecent()?(this.enableRecent(!1),this.toggleBtn(h.off),Cookies.set("suggest_recent","off",{expires:31536e3})):(this.enableRecent(!0),this.toggleBtn(h.on),Cookies.set("suggest_recent","on",{expires:31536e3}))},getRecentData:function(){var e,t;this.options.enableRecentList&&(e=this,t=Cookies.get("suggest_recent")||"on",this.enableRecent("on"===t),this.toggleBtn(h[t]),this.request("get",function(t){e.lists([new b(t,e.options)])}))},update:function(){},request:function(e,n){var a=this;JSONP({url:a.options.recentAPIServer.host+e+".js",data:a.options.recentAPIServer.queries||{},success:function(t){if("get"===e)t.myKeywordHistories&&0<t.myKeywordHistories.length&&n&&n(t.myKeywordHistories);else if(e===m){if(!t.processResult||"true"!==t.processResult.isSuccess)throw alert("     ."),"fail remove recent data";a.lists([])}},callbackName:"function"})}}),b=Class.extend({init:function(t,e){this.options=e,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),this._parseData(t)},get:function(t){return this.items()[t]},_parseData:function(t){for(var e=[],n=[],a=t.length>this.options.recentLimit?this.options.recentLimit:t.length,i=0;i!==a;i++){var s=t[i].kword;e.indexOf(s)<0&&(e.push(s),(s=r(s.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"))).type="RECENT",n.push(s))}this.items(n)}}),v=Class.extend({init:function(t){this.isShiftOn=!1,this.suggestList=t},getBaseIndex:function(){return this.suggestList.length()},onKeyDown:function(t,e){var n=e.keyCode,a=this.suggestList;switch(a.activeIndex(),n){case s.UP:DOMEvent.preventDefault(e),a.visible()?a.moveUp():a.show();break;case s.DOWN:DOMEvent.preventDefault(e),a.visible()&&a.moveDown();break;case s.TAB:DOMEvent.preventDefault(e),a.visible()&&(this.isShiftOn?a.moveDown():a.moveUp());break;case s.ESC:a.cancel();break;case s.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(t,e){e.keyCode===s.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),y=Class.extend({init:function(t,e){var n,a;null!=t&&(n=new ko.subscribable,(a=this).parent=e,this.el=t,this.options=c(e.options,{searchLayer:t}),this.keywordInput=new i(this.options,n),this.suggestList=this.createSuggestList(this.options,n),this.recentList=this.createRecentList(this.options,n),this.activeItem=null,this.timeId=null,this.bindEvent(),n.subscribe(function(t){a.setActiveItem(t)},this,"activate"))},createSuggestList:function(t,e){e=new a(t,e);return t.isReverse&&(e.keyboardDelegate=new v(e)),e},createRecentList:function(t,e){e=new g(t,e);return t.isReverse&&(e.keyboardDelegate=new v(e)),e},bindEvent:function(){var e=this;DOMEvent.on(document,"click",this._cancelOnClickDocument.bind(this)),DOMEvent.on(document,"keydown",this._setFocusOnKeydownDocument.bind(this)),DOMEvent.on(window,"load",function(){"LOAD"===e.options.autoFocus&&e.setFocus()}),DOMEvent.on(document,"keyup",function(t){e._isModifierKey(t.keyCode)&&(e.pressedModifierKey=!1)}),DOMEvent.on(document.getElementById(this.options.inputEl),"mousedown",function(){e.toggleLayer()})},_cancelOnClickDocument:function(t){t=DOMEvent.getTarget(t);!function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return 1;n=n.parentNode}}(this.el,t)&&this.cancel()},_setFocusOnKeydownDocument:function(t){if(this._shouldNotFocusWhenKeydown(t))return!0;this._isModifierKey(t.keyCode)&&this.pressedModifierKey||t.altKey||t.ctrlKey||t.metaKey||(this.keywordInput.searchQuery(""),this.setFocus())},_shouldNotFocusWhenKeydown:function(t){var e=DOMEvent.getTarget(t).nodeName,t=t.keyCode;return"WRITE"!==this.options.autoFocus||this._isInputTypeNodeName(e)||this._isModifierKey(t)},_isInputTypeNodeName:function(t){return"INPUT"===t||"SELECT"===t||"TEXTAREA"===t},_isModifierKey:function(t){for(var e in s)if(s.hasOwnProperty(e)&&s[e]===t)return this.pressedModifierKey=!0,!0;return!1},setFocus:function(){this.keywordInput.isSelected(!0)},forceFormSubmit:function(){this.parent.emit("click-item"),this.hide()},setActiveItem:function(t){this.activeItem=t,this.parent.emit("activate-item",t)},getActiveItem:function(){return this.activeItem},hide:function(){this.suggestList.hide(),this.recentList.hide()},cancel:function(){this.suggestList.cancel(),this.recentList.cancel()},onKeyDown:function(t,e){return e.keyCode===s.TAB&&(this.parent.emit("pressed-tab-key",e),!this.recentList.visible()&&!this.suggestList.visible())||(e.keyCode===s.ENTER&&(null!==this.getActiveItem()&&this.parent.emit("click-item"),this.keywordInput.defaultQuery=this.keywordInput.searchQuery(),this.hide()),this.getActiveList().onKeyDown(t,e))},onKeyUp:function(t,e){return this.getActiveList().onKeyUp(t,e)},onBlur:function(t,e){var n=this.getActiveList();return clearInterval(this.timeId),n.onBlur(t,e)},onFocus:function(t,e){var n=this,a=document.getElementById(n.options.inputEl);this.timeId=window.setInterval(function(){n.keywordInput.searchQuery(a.value)},100)},getActiveList:function(){return this.recentList.visible()||!this.keywordInput.searchQuery()?this.recentList:this.suggestList},showLayer:function(t){t?(this.suggestList.update(t),this.suggestList.show()):this.options.enableRecentList&&this.recentList.show()},setAPIServer:function(t){var e=this;this.suggestList.options.APIServer=t,this.suggestList.update(this.keywordInput.searchQuery(),function(){e.setFocus(),e.suggestList.show()})},toggleLayer:function(){this.recentList.visible()||this.suggestList.visible()||this.showLayer(this.keywordInput.searchQuery())}}),w=Observer.extend({init:function(t,e){this._checkChromeAutoCompleteAttr(),this.options=this._overrideDefaultOptions(e),this._prepareKnockout(),this.viewModel=new y(t,this),ko.applyBindings(this.viewModel,t)},_checkChromeAutoCompleteAttr:function(){var t;-1===navigator.userAgent.toLowerCase().indexOf("chrome")||"off"!==(t=document.getElementsByClassName("tf_keyword")[0]).getAttribute("autocomplete")&&t.setAttribute("autocomplete","off")},_overrideDefaultOptions:function(t){return c(e,t,!0)},_prepareKnockout:function(){var t,e,a,n=document.getElementById(this.options.inputEl),i=document.getElementById(this.options.suggestBoxEl);n&&i&&(n.setAttribute("data-bind","value: keywordInput.searchQuery, hasFocus: keywordInput.isSelected, event: { keydown: onKeyDown, keyup: onKeyUp, focus: onFocus, blur: onBlur }"),t=n.parentNode,e=document.createElement("span"),t.insertBefore(e,n.nextSibling),e.setAttribute("aria-live","polite"),e.setAttribute("data-bind","text: suggestList.accessible, attr: { 'aria-live': 'polite'}, css: 'screen_out'"),i.setAttribute("data-bind",'template: { name: "suggest-container" }')),ko.templateSources.stringTemplate=function(t,e){this.templateName=t,this.templates=e},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(t,e){if(this.templates._data=this.templates._data||{},this.templates._data[this.templateName]=this.templates._data[this.templateName]||{},1===arguments.length)return this.templates._data[this.templateName][t];this.templates._data[this.templateName][t]=e},text:function(t){if(0===arguments.length&&this.templates[this.templateName])return this.templates[this.templateName];this.templates[this.templateName]=t}}),ko.setTemplateEngine((i=new ko.nativeTemplateEngine,a=suggest_templates,i.makeTemplateSource=function(t,e){var n=document.getElementById(t+"-template");return n?new ko.templateSources.domElement(n):new ko.templateSources.stringTemplate(t,a)},i))},getSuggestions:function(){return this.viewModel.suggestList.getItems()},isVisibleLayer:function(){return this.viewModel.recentList.visible()||this.viewModel.suggestList.visible()},setAPIServer:function(t){this.viewModel.setAPIServer(t)},getActiveItem:function(){return this.viewModel.getActiveItem()},getUserEnteredQuery:function(){return this.viewModel.keywordInput.defaultQuery},setQuery:function(t){this.viewModel.keywordInput.searchQuery(t)},EVENT_CLICK_ITEM:"click-item",EVENT_PRESS_TAB_KEY:"pressed-tab-key",EVENT_ACTIVATE_ITEM:"activate-item"});w.APITYPE={DAPISUGGEST:"DAPISUGGEST"},window.suggest={Suggest:w}}.call(this),function(t){"use strict";void 0!==t.suggest&&(t.suggest.version="1.2.17")}(window);

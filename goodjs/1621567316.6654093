define("lofty/util/datalazyload/2.0/datalazyload",["lofty/lang/class","lofty/lang/base","lofty/util/exposure/1.0/exposure","jquery","lofty/util/webp/1.0/webp"],function(t,e,o,r,i){"use strict";function n(t,e){i.convertSrc(e,function(e){t.attr("src",e)})}var s=t(e,{options:{container:{value:"body",getter:function(t){return"string"==typeof t&&(t=r(t)),t}},overflowContainer:null,imgSrcName:"lazy-src",lazyAreaCls:"lazy-area",webp:!0,threshold:200},init:function(t){e.prototype.init.call(this,t||{});var i={container:this.get("container"),target:"img["+this.get("imgSrcName")+"],."+this.get("lazyAreaCls"),overflowContainer:this.get("overflowContainer"),threshold:this.get("threshold")};this._exposObj=new o(i);var s=this;this._exposObj.on("exposure",function(t){var e=r(t);if(e.is(r("img"))){var o=e.attr(s.get("imgSrcName"));o&&(e.one("load",function(){r(this).css("zoom",1)}),s.get("webp")?n(e,o):e.attr("src",o),e.removeAttr(s.get("imgSrcName")))}else{var i=r(e.html());if(i.filter("script").length&&(i=r(i.html())),!i.length)return;e.replaceWith(i),s._exposObj.collectResouce(i)}}),this._exposObj.execute()},execute:function(){this._exposObj.execute()},collectResouce:function(t){this._exposObj.collectResouce(t)},destroy:function(){this._exposObj.destroy()}});return s});;
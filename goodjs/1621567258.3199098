window.lib=window.lib||{};lib.kit=lib.kit||{};lib=lib||{};lib.kit=lib.kit||{};lib.kit.util=lib.kit.util||{};lib.kit.util.jsLoad={};window.Q=window.Q||{};Q.__callbacks__=Q.__callbacks__||{};(function(){function parseParam(t,e){var r;try{if(typeof e!="undefined"){for(r in t){if(e[r]){t[r]=e[r]}}}}finally{r=null;return t}}function createScripts(t,e){processUrl(t,e);var r=t.urls;var a=document.createElement("script");a.src=r.url;a.charset=r.charset;a.onload=a.onerror=a.onreadystatechange=function(){if(a&&a.readyState&&a.readyState!="loaded"&&a.readyState!="complete"){return}e.script_loaded_num++;a.onload=a.onreadystatechange=a.onerror=null;a.src="";a.parentNode.removeChild(a);a=null};document.getElementsByTagName("head")[0].appendChild(a)}function processUrl(t,e){var r=t.urls;var a,o,i,n;if(typeof t.CACHE!="undefined"){var s=t.CACHE;o=r.url;for(a in s){if(a=="varname"){i=s[a];continue}o+=s[a]+"/"}r.url=o.toString();if(t.spliter==="0"){r.url=r.url.slice(0,-1)}}if(typeof t.GET!="undefined"){var c=new lib.kit.Url(r.url),l=t.GET;for(var a in l){if(a=="cb"){i=l[a]}c.setParam(a,encodeURIComponent(l[a]))}r.url=c.toString()}if(i){e.script_var_arr.push(i)}r.charset=t.charset||"utf-8"}function ancestor(aUrls,oOpts){var _opts={urls:[],charset:"utf-8",timeout:-1,CACHE:oOpts.CACHE,GET:oOpts.GET,spliter:"1",onSuccess:function(){},onError:function(){}};var _cfg={script_loaded_num:0,is_timeout:false,is_loadcomplete:false,script_var_arr:[]};_opts.urls=typeof aUrls=="string"?{url:aUrls}:aUrls;parseParam(_opts,oOpts);createScripts(_opts,_cfg);(function(){if(_opts.noreturn==true&&_opts.onComplete==null){return}var i,data=[];if(_cfg.script_loaded_num==1){_cfg.is_loadcomplete=true;if(_opts.onSuccess!=null){for(i=0;i<_cfg.script_var_arr.length;i++){var key=_cfg.script_var_arr[i].trim(),o;if(key.indexOf(".")!=-1){o=eval(key)}else{o=window[key]}data.push(o)}if(_cfg.script_var_arr.length<2){if(typeof data[0]!="undefined"&&(!data[0].code||data[0].code=="A00000"))_opts.onSuccess(typeof data[0].data=="undefined"?data[0]:data[0].data);else{_opts.onError(data[0])}}else{if(!data.code||data.code=="A00000")_opts.onSuccess(typeof data.data=="undefined"?data:data.data);else{_opts.onError(data)}}}return}if(_cfg.is_timeout==true){return}setTimeout(arguments.callee,50)})();if(_opts.timeout>0){setTimeout(function(){if(!_cfg.is_loadcomplete){if(_opts.onError){_opts.onError()}_cfg.is_timeout=true}},_opts.timeout)}}lib.kit.util.jsLoad.request=function(t,e){new ancestor(t,e)};var paramFormat=function(t){var e=[];if(typeof t=="object"){for(var r in t){e[e.length]=encodeURIComponent(r)+"="+encodeURIComponent(t[r])}}return e.join("&").replace(/%20/g,"+")};lib.kit.util.jsLoad.jsonp=function(t,e){var r;var a;var o;var i;var n="window.Q.__callbacks__.";var s="cb"+Math.floor(Math.random()*2147483648).toString(36);var c=function(){};e.timeout=e.timeout||1e4;e.params=e.params||{};e.params["callback"]=n+s;var l=function(t){if(t.clearAttributes){t.clearAttributes()}if(t&&t.parentNode){t.parentNode.removeChild(t)}t=null};var u=Q.__callbacks__;var d=e.oncomplete||c,f=e.onsuccess||c,p=e.onfailure||c,_=e.onTimeout||p||c;u[s]=function(t){if(r){clearTimeout(r)}d(t);if(t&&t.code=="A00000"){f(t)}else{p(t)}l(a);delete u[s]};o=t+(/\?/.test(t)?"&":"?")+paramFormat(e.params);a=document.createElement("script");a.type="text/javascript";if(!!e.charset){a.charset=e.charset}a.src=o;a.onerror=function(){p({code:"E00000"});l(a)};document.getElementsByTagName("head")[0].appendChild(a);r=setTimeout(function(){_({code:"E00000"});i=true;l(a)},e.timeout)}})();var Url=function(r){r=r||"";this.url=r;this.query={};this.hrParam={};this.info={};this.parse()};(function(r){r.prototype={parse:function(r){if(r){this.url=r}this.parseAnchor();this.parseParam();this.parseInfo()},parseAnchor:function(){var r=this.url.match(/\#(.*)/);r=r?r[1]:null;this._anchor=r;if(r!=null){this.anchor=this.getNameValuePair(r);this.url=this.url.replace(/\#.*/,"")}},parseParam:function(){var r=this.url.match(/\?([^\?]*)/);r=r?r[1]:null;if(r!=null){this.query=this.getNameValuePair(r);this.hrParam=this.getNameValuePair(r,"-");this.url=this.url.replace(/\?([^\?]*)/,"")}},parseInfo:function(){var r=/(\w+):\/\/([^\/:]+):?(\d*)((?:\/|$).*)/;var i=this.url.match(r);if(i){var t=i[1];var a=i[2];var n=i[3];var e=i[4];this.info={protocol:t,host:a,port:n,path:e}}},getNameValuePair:function(r,i){var a={};var t=i||"&";var n=new RegExp("([^"+t+"=]*)(?:=([^"+t+"]*))?","gim");r.replace(n,function(r,i,t){if(i==""){return a}a[i]=t||""});return a},getParam:function(r){return this.query[r]||""},getHrParam:function(r){return this.hrParam[r]||""},getHostname:function(){return this.info.host},clearParam:function(){this.query={}},setParam:function(r,i){if(r==null||r==""||typeof r!="string"){throw new Error("no param name set")}this.query=this.query||{};this.query[r]=i},setParams:function(r){this.query=r},serialize:function(r){var i=[];for(var t in r){if(r[t]==null||r[t]==""){i.push(t+"=")}else{i.push(t+"="+r[t])}}return i.join("&")},toString:function(){var r=this.serialize(this.query);return this.url+(r.length>0?"?"+r:"")+(this.anchor?"#"+this.serialize(this.anchor):"")},getHashStr:function(r){return this.anchor?"#"+this.serialize(this.anchor):r?"#":""}}})(Url);window.lib=window.lib||{};lib.kit=lib.kit||{};lib.kit.Url=Url;if(window.$reg){$reg("lib.kit.Url",function(){lib.kit.Url=Url})}var md5V2=function(){var v=function(r,n){return r<<n|r>>>32-n};var k=function(r,n){var t,a,e,o,u;e=r&2147483648;o=n&2147483648;t=r&1073741824;a=n&1073741824;u=(r&1073741823)+(n&1073741823);if(t&a){return u^2147483648^e^o}if(t|a){if(u&1073741824){return u^3221225472^e^o}else{return u^1073741824^e^o}}else{return u^e^o}};var i=function(r,n,t){return r&n|~r&t};var f=function(r,n,t){return r&t|n&~t};var c=function(r,n,t){return r^n^t};var C=function(r,n,t){return n^(r|~t)};var q=function(r,n,t,a,e,o,u){r=k(r,k(k(i(n,t,a),e),u));return k(v(r,o),n)};var z=function(r,n,t,a,e,o,u){r=k(r,k(k(f(n,t,a),e),u));return k(v(r,o),n)};var B=function(r,n,t,a,e,o,u){r=k(r,k(k(c(n,t,a),e),u));return k(v(r,o),n)};var D=function(r,n,t,a,e,o,u){r=k(r,k(k(C(n,t,a),e),u));return k(v(r,o),n)};var E=function(r){var n;var t=r.length;var a=t+8;var e=(a-a%64)/64;var o=(e+1)*16;var u=Array(o-1);var v=0;var i=0;while(i<t){n=(i-i%4)/4;v=i%4*8;u[n]=u[n]|r.charCodeAt(i)<<v;i++}n=(i-i%4)/4;v=i%4*8;u[n]=u[n]|128<<v;u[o-2]=t<<3;u[o-1]=t>>>29;return u};var F=function(r){var n="",t="",a,e;for(e=0;e<=3;e++){a=r>>>e*8&255;t="0"+a.toString(16);n=n+t.substr(t.length-2,2)}return n};var G=function(r){r=r.replace(/\x0d\x0a/g,"\n");var n="";for(var t=0;t<r.length;t++){var a=r.charCodeAt(t);if(a<128){n+=String.fromCharCode(a)}else if(a>127&&a<2048){n+=String.fromCharCode(a>>6|192);n+=String.fromCharCode(a&63|128)}else{n+=String.fromCharCode(a>>12|224);n+=String.fromCharCode(a>>6&63|128);n+=String.fromCharCode(a&63|128)}}return n};return function(r){r+="";var n=Array();var t,a,e,o,u,v,i,f,c;var C=7,d=12,h=17,l=22;var g=5,m=9,s=14,S=20;var w=4,b=11,A=16,V=23;var x=6,y=10,p=15,L=21;r=G(r);n=E(r);v=1732584193;i=4023233417;f=2562383102;c=271733878;for(t=0;t<n.length;t+=16){a=v;e=i;o=f;u=c;v=q(v,i,f,c,n[t+0],C,3614090360);c=q(c,v,i,f,n[t+1],d,3905402710);f=q(f,c,v,i,n[t+2],h,606105819);i=q(i,f,c,v,n[t+3],l,3250441966);v=q(v,i,f,c,n[t+4],C,4118548399);c=q(c,v,i,f,n[t+5],d,1200080426);f=q(f,c,v,i,n[t+6],h,2821735955);i=q(i,f,c,v,n[t+7],l,4249261313);v=q(v,i,f,c,n[t+8],C,1770035416);c=q(c,v,i,f,n[t+9],d,2336552879);f=q(f,c,v,i,n[t+10],h,4294925233);i=q(i,f,c,v,n[t+11],l,2304563134);v=q(v,i,f,c,n[t+12],C,1804603682);c=q(c,v,i,f,n[t+13],d,4254626195);f=q(f,c,v,i,n[t+14],h,2792965006);i=q(i,f,c,v,n[t+15],l,1236535329);v=z(v,i,f,c,n[t+1],g,4129170786);c=z(c,v,i,f,n[t+6],m,3225465664);f=z(f,c,v,i,n[t+11],s,643717713);i=z(i,f,c,v,n[t+0],S,3921069994);v=z(v,i,f,c,n[t+5],g,3593408605);c=z(c,v,i,f,n[t+10],m,38016083);f=z(f,c,v,i,n[t+15],s,3634488961);i=z(i,f,c,v,n[t+4],S,3889429448);v=z(v,i,f,c,n[t+9],g,568446438);c=z(c,v,i,f,n[t+14],m,3275163606);f=z(f,c,v,i,n[t+3],s,4107603335);i=z(i,f,c,v,n[t+8],S,1163531501);v=z(v,i,f,c,n[t+13],g,2850285829);c=z(c,v,i,f,n[t+2],m,4243563512);f=z(f,c,v,i,n[t+7],s,1735328473);i=z(i,f,c,v,n[t+12],S,2368359562);v=B(v,i,f,c,n[t+5],w,4294588738);c=B(c,v,i,f,n[t+8],b,2272392833);f=B(f,c,v,i,n[t+11],A,1839030562);i=B(i,f,c,v,n[t+14],V,4259657740);v=B(v,i,f,c,n[t+1],w,2763975236);c=B(c,v,i,f,n[t+4],b,1272893353);f=B(f,c,v,i,n[t+7],A,4139469664);i=B(i,f,c,v,n[t+10],V,3200236656);v=B(v,i,f,c,n[t+13],w,681279174);c=B(c,v,i,f,n[t+0],b,3936430074);f=B(f,c,v,i,n[t+3],A,3572445317);i=B(i,f,c,v,n[t+6],V,76029189);v=B(v,i,f,c,n[t+9],w,3654602809);c=B(c,v,i,f,n[t+12],b,3873151461);f=B(f,c,v,i,n[t+15],A,530742520);i=B(i,f,c,v,n[t+2],V,3299628645);v=D(v,i,f,c,n[t+0],x,4096336452);c=D(c,v,i,f,n[t+7],y,1126891415);f=D(f,c,v,i,n[t+14],p,2878612391);i=D(i,f,c,v,n[t+5],L,4237533241);v=D(v,i,f,c,n[t+12],x,1700485571);c=D(c,v,i,f,n[t+3],y,2399980690);f=D(f,c,v,i,n[t+10],p,4293915773);i=D(i,f,c,v,n[t+1],L,2240044497);v=D(v,i,f,c,n[t+8],x,1873313359);c=D(c,v,i,f,n[t+15],y,4264355552);f=D(f,c,v,i,n[t+6],p,2734768916);i=D(i,f,c,v,n[t+13],L,1309151649);v=D(v,i,f,c,n[t+4],x,4149444226);c=D(c,v,i,f,n[t+11],y,3174756917);f=D(f,c,v,i,n[t+2],p,718787259);i=D(i,f,c,v,n[t+9],L,3951481745);v=k(v,a);i=k(i,e);f=k(f,o);c=k(c,u)}var j=F(v)+F(i)+F(f)+F(c);return j.toLowerCase()}}();window.lib=window.lib||{};lib.md5V2=md5V2;Object.extend=function(t,e){for(var i in e){t[i]=e[i]}return t};window.lib=window.lib||{};if(!lib.SITE_DOMAIN){var getDomain=function(){var t=2;var e=window.location.hostname.split(".");e=e.slice(e.length-t);return e.join(".")};lib.SITE_DOMAIN=getDomain()}lib.PROJECT_VERSION="20210518193440";lib.developer="lixueqiang";function __getLocalDfp(){var t=window.localStorage&&window.localStorage instanceof Storage;var e="";if(t){e=localStorage.getItem("__dfp")}if(e&&qa_isDpfUseful(e)){return e.split("@")[0]}return""}function qa_isDpfUseful(t){if(t&&t.length>0){var e=t.split("@");var i=e[2];var r=e[1];i=isNaN(i)?0:Number(i);r=isNaN(r)?0:Number(r);var n=(new Date).getTime();if(n<r&&n>i){return true}}return false}function __optionsDfp(){if(window.dfp.setOptions){window.dfp.setOptions({excludeWebGL:true,excludeCanvas:true})}}lib.action=lib.action||{};lib.action.getDFP=function(){if(window.dfp){__optionsDfp();return dfp.tryGetFingerPrint()}return __getLocalDfp()};lib.action.Qa=function(){function __initpb__(t){var e=document.getElementsByTagName("HEAD").item(0);var i=document.createElement("script");i.type="text/javascript";i.src="//security.iqiyi.com/static/cook/v1/cooksdk.js";var r=navigator.userAgent.toLowerCase();var n=/ipad/i.test(r)||/iphone os/i.test(r)||/lepad_hls/i.test(r);if(n){i.src="//security.iqiyi.com/static/cook/v1/cooksdkpcwpad.js"}e.appendChild(i);var a=[];window.qaLoadingDfp=function(t){a.push(t)};var o=function(){while(a.length>0){try{var t=a.shift();t()}catch(t){}}};var s=function(){clearTimeout(timer);timer=setTimeout(function(){if(!loaded){clearTimeout(timer);loaded=true;t();o()}},2500)};s();var r=navigator.userAgent.toLowerCase();var f=/msie/.test(r);if(f){i.onreadystatechange=function(){if(/loaded|complete/.test(i.readyState)){if(!loaded){loaded=true;clearTimeout(timer);t();o()}}}}else{i.onload=function(){if(!loaded){loaded=true;clearTimeout(timer);t();o()}}}}this.init=function(t){var e=this;var i=lib.SITE_DOMAIN.match(/pps/);try{var r=navigator.userAgent.toLowerCase();this.par={};this.pars=[];this.custom={};this.filter=[];this.time=0;this.w=window;this.l=window.location;this.d=window.document;this.searchJson=this.queryToJson(this.l.href);this.urlMap={rdm:"rdm",qtcurl:"qtcurl",rfr:"rfr",lrfr:"lrfr",jsuid:"jsuid",qtsid:"qtsid",ppuid:"ppuid",platform:"platform",weid:"weid",pru:"pru",flshuid:"flshuid",fcode:"fcode",ffcode:"ffcode",coop:"coop",odfrm:"odfrm",fvcode:"fvcode",nu:"nu",mod:"mod",pcau:"pcau"};this.cookieMap={flshuid:"QC005",jsuid:"QC006",pru:"P00PRU",lrfr:"QC007",qtsid:"QC008",QY_FC:"QC009",QY_FFC:"QC014",gaflag:"QC011",odfrm:"QC132",QY_FV:"QC142",pcau:"PCAU"};t=t||{};this.times=t.times||5;this.timeouts=t.timeouts||1e3;this.url=t.url||"//msg.qy.net/jspb.gif";this.newUrl=t.newUrl||"//msg.qy.net/act";var n=window.intlPageInfo||{};if(n.i18n==="global"){this.url=t.url||"//msg-intl.qy.net/jspb.gif";this.newUrl=t.newUrl||"//msg-intl.qy.net/act"}if(this.url.indexOf("?")==-1){this.url+="?"}else if(this.url.slice(-1)!="&"){this.url+="&"}if(this.newUrl.indexOf("?")==-1){this.newUrl+="?"}else if(this.newUrl.slice(-1)!="&"){this.newUrl+="&"}this.flag=t.flag||"QC010";this.callback=t.callback||function(){};if(typeof t.urlMap=="object"){Object.extend(this.urlMap,t.urlMap)}if(typeof t.cookieMap=="object"){Object.extend(this.cookieMap,t.cookieMap)}if(typeof t.custom=="object"){Object.extend(this.custom,t.custom)}if(t.filter instanceof Array){this.filter=t.filter}var a=this.urlMap;this.par[a.rdm]=this.rand();this.par[a.qtcurl]=this.u(this.l.href);this.par[a.rfr]=this.u(this.d.referrer);this.par[a.lrfr]=this.getLrfr();this.par[a.jsuid]=this.getJsuid();this.par[a.qtsid]=this.getQtsid();this.par[a.ppuid]=this.getUserInfoUid();this.par[a.nu]=this.getNu();this.par[a.platform]=/ipad/i.test(r)?"21":/(iphone os)|(android)/i.test(r)?"31":"11";if(i){this.par[a.platform]="20"+this.par[a.platform]}if(this.w.pingbackParams){if(Object.assign){this.par=Object.assign({},this.w.pingbackParams,this.par)}else{var o=Object.extend({},this.w.pingbackParams);this.par=Object.extend(o,this.par)}}if(this.w.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.videoTemplate){this.par["tmplt"]=Q.PageInfo.playPageInfo.videoTemplate||""}this.par[a.fcode]=this.getFc();this.par[a.ffcode]=this.getFfc();this.par[a.coop]=this.getCoop();this.par[a.weid]=this.getWeid();this.par[a.pru]=this.getPRU();this.par[a.fvcode]=this.getFv();this.par[a.mod]=this.getMod();Object.extend(this.par,this.custom);var s=this.searchJson;var f=this.cookieMap[this.urlMap.odfrm];var c=s[this.urlMap.odfrm]||this.cookieGet(f)||"";if(c){c=c;this.par[a.odfrm]=c;this.cookieSet(f,c,0,"/",lib.SITE_DOMAIN);var u=this.d.getElementsByTagName("body")[0];var h=this.queryToJson(u.getAttribute("data-pb")||"")||{};h[a.odfrm]=c;var l=this.jsonToQuery(h);u.setAttribute("data-pb",l)}var p=document.getElementById("block-B");if(p&&p.getAttribute("data-pb")){var d=p.getAttribute("data-pb");var g=d.match(/(^|&)?tmplt=([^&]+)/i);if(g&&g[2]){e.par["tmplt"]=g[2]}}var v=/ipad/i.test(r)||/iphone os/i.test(r)||/lepad_hls/i.test(r);if(v){e.par[a.flshuid]=e.getJsuid()}else{e.par[a.flshuid]=e.getFlashId()}e.par[a.pcau]=e.getPcau();var m="ChEnYH0415dadrrEDFf2016";var w=v?e.par[a.flshuid]:e.getJsuid();e.par["as"]=lib.md5V2(e.par[a.platform]+w+e.par[a.weid]+m);this.getFingerPrint(function(t){if(t){e.par["dfp"]=t}e.setQC005();e.post()})}catch(t){}this.sendNewQa()};this.sendNewQa=function(){var i=this;this.getHu(function(e){i.getFingerPrint(function(t){i.initNewPar(e,t);i.setQC005();i.post(true)})})};this.getPtid=function(){/ipad/i.test(t)?"21":/(iphone)|(android)/i.test(t)?"31":"11";var t=navigator.userAgent.toLowerCase();var e=navigator.platform.toLowerCase();var i="002";var r="101";var n="00";var a="00";var o="000000";var s="01";if(/(iphone)|(android)/i.test(t)){s="02"}else if(/pad/i.test(t)){s="03"}var f="01";if(/android/i.test(e)){f="02"}if(/mac/i.test(e)){f="08"}if(/ios/i.test(e)){f="03"}return s+f+i+r+n+a+o};this.extend=function(t,e){var i=t||{};var r;for(var n=1,a=arguments.length;n<a;n++){r=arguments[n];if(r){for(var o in r){if(r.hasOwnProperty(o)){i[o]=r[o]}}}}return i};this.initNewPar=function(t,e){var i,r="1_10_101";var n=window.intlPageInfo||{};if(n.i18n==="global"){r="1_10_222";var a=navigator.userAgent.toLowerCase();if(/(android)|(like mac os x)/i.test(a)){r="2_20_223"}}this.par={u:this.getFlashId(),pu:this.getUserInfoUid(),rn:this.rand(),p1:r,de:this.getQtsid(),stime:(new Date).getTime(),ce:this.getWeid(),bstp:0,t:22,v:1,rpage:"",hu:t,dfp:e,mod:this.getMod(),purl:this.u(this.l.href),nu:this.getNu(),vfm:this.searchJson.vfm||"",rfr:this.u(this.d.referrer),pcau:this.getPcau(),ptp:"",pagev:"homepage_adv_v1",coop:this.getCoop(),lrfr:this.getLrfr(),ptid:this.getPtid()};if(n.i18n==="global"){delete this.par["ptid"];var o=new lib.kit.Url(document.location.href);var s=n.pbInfos||{};this.par["rpage"]=s.rpage||"";this.par["lang"]=o.getParam("lang")||s.lang||"";this.par["resolution"]=window.screen.width+"*"+window.screen.height;if(s.pbShowParams){if(Object.assign){this.par=Object.assign({},s.pbShowParams,this.par)}else{this.par=this.extend({},s.pbShowParams,this.par)}}}i=this.w.Q&&this.w.Q.PageInfo&&this.w.Q.PageInfo.playPageInfo;if(i){if(i.videoTemplate){this.par.tmplt=i.videoTemplate||""}if(i.cid!==undefined){this.par.c1=i.cid}if(i.albumId){this.par.aid=i.albumId}}if(this.w.pingbackParams){if(Object.assign){this.par=Object.assign({},this.par,this.w.pingbackParams)}else{var f=Object.extend({},this.par);this.par=Object.extend(f,this.w.pingbackParams)}}};this.getFingerPrint=function(e){var t=this;var i=__getLocalDfp();if(i){e(i)}else if(window.dfp){__optionsDfp();window.dfp.getFingerPrint(function(t){e(t)},function(t){e("")})}else{__initpb__(function(){__optionsDfp();window.dfp.getFingerPrint(function(t){e(t)},function(t){e("")})})}};this.getHu=function(t){var e=window.__global__info&&window.__global__info.userInfo;if(e&&e.data&&e.code=="A00000"){var i=-1;if(e.data.vipTypes){i=e.data.vipTypes}t(i)}else{this.getUser(t)}};this.getUser=function(i){var t=this.cookieGet("P00001")||"";if(!t){i(-1);return}try{let t={};t=JSON.parse(this.cookieGet("QC179"))||{};if(t.vipTypes!=undefined){i(t.vipTypes);return}}catch(t){}var e="//pcw-api.iqiyi.com/passport/user/userinfodetail?version=1";var r={onsuccess:function(t){var e=-1;window.__global__info=window.__global__info||{};window.__global__info.userInfo=t;if(t.data&&t.data.vipTypes){e=t.data.vipTypes}i(e)},onfailure:function(){i(-1)}};lib.kit.util.jsLoad.jsonp(e,r)};this.getUserInfoUid=function(){try{var userInfo=this.cookieGet("P00002");if(userInfo){userInfo=userInfo==window.JSON?window.JSON.parse(userInfo):eval("("+userInfo+")")}if(userInfo&&userInfo.uid){return userInfo.uid}else{return""}}catch(e){return""}};this.u=function(t){try{var e=encodeURIComponent;return e instanceof Function?e(t):escape(t)}catch(t){return""}};this.hash=function(t){try{var e=1,i=0;if(t){e=0;for(var r=t.length-1;r>=0;r--){i=t.charCodeAt(r);e=(e<<6&268435455)+i+(i<<14);i=e&266338304;e=i!==0?e^i>>21:e}}return e}catch(t){return""}};this.rand=function(t){try{var e=[];if(!isNaN(t)){for(var i=0;i<t;i++){e.push(Math.round(Math.random()*2147483647).toString(36))}}else{e.push(Math.round(Math.random()*2147483647))}return e.join("")}catch(t){return""}};this.cookieGet=function(t){var e=function(t){if(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=e.exec(document.cookie);if(i){return i[2]||""}}return""};try{t=e(t);if("string"==typeof t){if(t.length>1&&t=="deleted"){return""}else{return decodeURIComponent(t)||""}}else{return""}}catch(t){return""}};this.cookieSet=function(t,e,i,r,n,a){try{var o=[];o.push(t+"="+encodeURIComponent(e));if(i){var s=new Date;var f=s.getTime()+i*36e5;s.setTime(f);o.push("expires="+s.toGMTString())}if(r){o.push("path="+r)}if(n){o.push("domain="+n)}if(a){o.push(a)}document.cookie=o.join(";")}catch(t){return""}};this.getJsuid=function(){try{var t;var e=this.cookieMap.jsuid;t=this.cookieGet(e);if(!t||!isNaN(t)){t=this.rand(4)}this.cookieSet(e,t,365*24,"/",lib.SITE_DOMAIN);return t}catch(t){return""}};this.getQtsid=function(){try{var t,e=/^\d{10}\.\d{10}\.\d{10}\.\d+$/;var i=this.cookieMap.qtsid;var r=function(){return parseInt(new Date/1e3,10).toString()};t=this.cookieGet(i);if(this.cookieGet(this.flag)){return t}if(!e.test(t)){var n=r();t=[n,n,n,"1"]}else{t=t.split(".");t[1]=t[2];t[2]=r();t[3]=parseInt(t[3],10)+1}this.cookieSet(i,t.join("."),365*24,"/",lib.SITE_DOMAIN);return t}catch(t){return""}};this.getLrfr=function(){try{var t,e=this;var i=this.cookieMap.lrfr;var r=this.d.referrer.match(/http[s]?:\/\/([^\/]*)/);r=r?r[1]:"";t=this.cookieGet(i);t=t=="undefined"?"":t;var n=this.l.hostname;var a=r&&r.match(/i?qiyi\.com|pps\.tv/);var o=t;if(!t){if(!this.d.referrer||a){o="DIRECT"}else{o=this.u(this.d.referrer)}}else if(!this.d.referrer){o="DIRECT"}else if(r!==n&&r.indexOf(lib.SITE_DOMAIN)===-1){if(!a){o=this.u(this.d.referrer)}}this.cookieSet(i,o,0,"/",lib.SITE_DOMAIN);return o}catch(t){return""}};this.getFlashId=function(){var t=this.cookieMap.flshuid;var e=this.cookieGet(t)||"";return e};this.getPcau=function(){var t=this.cookieMap.pcau;var e=this.cookieGet(t)||"0";return e};this.setQC005=function(){var t=this.cookieGet("QC005");if(!t){this.cookieSet("QC005",this.generateQC005(),90*365*24)}};this.generateQC005=function(){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var e="";for(var i=0;i<32;i++){var r=Math.floor(Math.random()*16);e+=t[r]}return e};this.getFc=function(){try{var t=this.l.search.match(/[\?&]fc=([^&]*)(&|$)/i);var e=this.cookieMap.QY_FC;var i=this.cookieGet(e);if(i=="b22dab601821a896"){return i}if(t){t=t[1];this.cookieSet(e,t,0,"/",lib.SITE_DOMAIN)}else{t=this.cookieGet(e);if(!t||t=="undefined"){t=""}}return t}catch(t){return""}};this.getFv=function(){try{var t=this.l.search.match(/[\?&]fv=([^&]*)(&|$)/i);var e=this.cookieMap.QY_FV;if(t){var i=encodeURIComponent(t[1]);if(i.length>146){i=i.substring(0,146)}i=decodeURIComponent(i);t=i;this.cookieSet(e,t,24*3,"/",lib.SITE_DOMAIN)}else{t=this.cookieGet(e);if(!t||t=="undefined"){t=""}}return t}catch(t){return""}};this.getFfc=function(){try{var t=this.l.search.match(/[\?&]ffc=([^&]*)(&|$)/i);var e=this.cookieMap.QY_FFC;if(t){t=t[1];this.cookieSet(e,t,0,"/",lib.SITE_DOMAIN)}else{t=this.cookieGet(e);if(!t||t=="undefined"){t=""}}return t}catch(t){return""}};this.getCoop=function(){var t="";var e;if(this.l.host.split(".")[0]=="mini"){e=lib.$url(this.l.href,"app");e=e&&e["app"]||"";if(e){t="coop_"+e.replace("bdbrowser","bdexplorer")}}else{if(this.w.INFO&&this.w.INFO.flashVars&&this.w.INFO.flashVars.coop){t=this.w.INFO.flashVars.coop}}return t};this.getWeid=function(){return window.webEventID||lib.md5V2(+new Date+Math.round(Math.random()*2147483647)+"")||""};this.getNu=function(){return this.cookieGet("QC173")||0};this.getPRU=function(){return this.cookieGet("P00PRU")||""};this.getMod=function(){var t=window.Q&&Q.PageInfo||{};if(window.uniqy){t=window.uniqy&&window.uniqy.PageInfo||{}}var e=t.i18n==="tw_t"?false:true;var i;if(e){i="cn_s"}else{i="tw_t"}var r=window.intlPageInfo||{};if(r.i18n==="global"){var n=r.pbInfos||{};var a=new lib.kit.Url(document.location.href);i=a.getParam("mod")||n.mod||""}return i};this.post=function(t){var e=this;try{e.pars=[];var i,r=e.filter.length,n;if(r===0){for(i in e.par){e.pars.push([i,e.par[i]].join("="))}}else{for(i=0;i<r;i++){n=e.filter[i];e.pars.push([n,e.par[n]].join("="))}}e.pars=e.pars.join("&");window.jsQa=new Image(1,1);window.jsQa.src=(t?e.newUrl:e.url)+e.pars;e.cookieSet(e.flag,e.hash(e.pars),0,"/",lib.SITE_DOMAIN);e.cookieSet(e.urlMap.nu,0,0,"/",lib.SITE_DOMAIN);e.callback()}catch(t){return""}};this.iframeRequest=function(t){var e=document.createElement("iframe");e.scrolling="no";e.style.display="none";e.frameborder=0;e.src=t;document.body.appendChild(e)};this.syncCookie=function(t,i,r){var n=this;var a;if(t.indexOf("iqiyi.com")!==-1){a="//passport.pps.tv/pages/user/proxy.action"}else if(t.indexOf("pps.tv")!==-1){a="//passport.iqiyi.com/pages/user/proxy.action"}if(a){setTimeout(function(){var e=a+"#"+i+"="+r;try{window.JSHandler.logToConsole("xxx")}catch(t){if(!window.external.GetLoginJsonInfo){n.iframeRequest(e)}}},0)}};this.queryToJson=function(t){var e=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"};if(!t){return{}}t=t||this.l.href;var i=t.substr(t.lastIndexOf("?")+1),r=i.split("&"),n=r.length,a={},o=0,s,f,c,u;for(;o<n;o++){if(!r[o]){continue}u=r[o].split("=");s=u.shift();f=u.join("=");c=a[s];if("undefined"==typeof c){a[s]=f}else if(e(c)){c.push(f)}else{a[s]=[c,f]}}return a};this.jsonToQuery=function(t,e){var i=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"};var r=function(t,e){var i,r,n;if("function"==typeof e){for(r in t){if(t.hasOwnProperty(r)){n=t[r];i=e.call(t,n,r);if(i===false){break}}}}return t};var n=function(t){return String(t).replace(/[#%&+=\/\\\ \u3000\f\r\n\t]/g,function(t){return"%"+(256+t.charCodeAt()).toString(16).substring(1).toUpperCase()})};var a=[],o,s=e||function(t){return n(t)};r(t,function(t,e){if(i(t)){o=t.length;while(o--){a.push(e+"="+s(t[o],e))}}else{a.push(e+"="+s(t,e))}});return a.join("&")}};(function(){var t=new lib.action.Qa;var e=false;var i=null;var r=null;var n="//msg.qy.net/jpb.gif";var a="//msg.qy.net/act";var o=window.intlPageInfo||{};if(o.i18n==="global"){n="//msg-intl.qy.net/jpb.gif";a="//msg-intl.qy.net/act"}try{t.init({url:n,newUrl:a})}catch(t){console.error("qs åˆå§‹åŒ–å¤±è´¥~",t)}})();(function(){var t=new lib.action.Qa;var e=t.cookieGet("QC001")=="1";var i=t.cookieGet("QC005");var r;window._dxt=window._dxt||[];var n=location.hostname;window._dxt.push(["_setUserId",i]);var a=window.intlPageInfo||{};var o=window.uniqy||{};var s=o.PageInfo||{};if(s.i18n!="tw_t"&&a.i18n!="global"){var f=document.createElement("script");f.src="//datax.baidu.com/x.js?si=&dm="+n+"";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(f,c)}if(e||!i||window.location.protocol=="https:"||lib.SITE_DOMAIN.match(/pps/)){return}t.cookieSet("QC001","1",24,"/",lib.SITE_DOMAIN);var u="324";var h={qiyi_cookie:i};var l={sid:i,p:"iqiyi"};var p="//nsclick.baidu.com/v.gif",d=[],g="BD_QIYI_LOG_"+(new Date).getTime(),v=window[g]=new Image;d.push("pid="+u);for(r in h){d.push(r+"="+encodeURIComponent(h[r]))}v.src=p+"?"+d.join("&")+"&t="+(new Date).getTime();var m="//cpro.baidu.com/cpro/ui/html/sync.htm",w=[],b="BD_QIYI_LOG_"+(new Date).getTime(),I=window[b]=new Image;for(r in l){w.push(r+"="+encodeURIComponent(l[r]))}I.src=m+"?"+w.join("&")+"&t="+(new Date).getTime();if(!parseInt(Math.random()*10,10)){var y="http://m.wrating.com/m.gif?a=&c=860010-2370010124&mcookie="+i,_="WRATING_LOG_"+(new Date).getTime(),k=window[_]=new Image;k.src=y+"&t="+(new Date).getTime()}})();!function(i){function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n={};return r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e){!function(){var t=function(t){var e=function(t){if(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=e.exec(document.cookie);if(i)return i[2]||""}return""};try{return t=e(t),"string"==typeof t?t.length>1&&"deleted"==t?"":decodeURIComponent(t)||"":""}catch(t){return""}},e=function(t){try{var e=[];if(isNaN(t))e.push(Math.round(2147483647*Math.random()));else for(var i=0;t>i;i++)e.push(Math.round(2147483647*Math.random()).toString(36));return e.join("")}catch(t){return""}},i=function(t,e){for(var i,r=t||{},n=1,a=arguments.length;a>n;n++)if(i=arguments[n])for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);return r},r=function(){var t=function(){for(var t="",e=0;12>e;e++)t+=Math.floor(10*Math.random());return Number(t)},e=t(),i=(new Date).getTime(),r=e.toString(36),n=(e+i).toString(36),a=""+n+r;return a},n=function(t){for(var e,i,r,n,a=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},o=t.split("&"),s=o.length,f={},c=0;s>c;c++)o[c]&&(n=o[c].split("="),e=n.shift(),i=n.join("="),r=f[e],"undefined"==typeof r?f[e]=i:a(r)?r.push(i):f[e]=[r,i]);return f},a=function(){var t=document.getElementById("pingbackSDK");if(t){var e=t.getAttribute("data-param");return e?n(e):{}}return{}},o="//msg.qy.net/v5/bi/opendata?",s=Math.floor((new Date).getTime()/1e3),f=r(),c=a(),u=null;window.Q&&window.Q.PageInfo&&window.Q.PageInfo.playPageInfo&&(u=window.Q.PageInfo.playPageInfo.tvId);var h={p1:"1_10_101",type:5,flashuid:t("QC005"),v:null,pkg:null,sid:f,sttime:s,os_v:navigator.platform,lang:navigator.language||navigator.systemLanguage,resolution:screen.width+"*"+screen.height,cell_id:null,gps_lon:null,gps_lat:null,ip:null,tvid:u,aid:null,cid:null,pid:null,duration:null,act_name:document.title,rn:e(),rfr:window.document.referrer,url:window.location.href,br:navigator.userAgent.toLowerCase(),ce:window.webEventID||null,c2:null};h=i(h,c);for(var l in h)h.hasOwnProperty(l)&&(o+=encodeURIComponent(l)+"="+encodeURIComponent(h[l])+"&");"&"===o[o.length-1]&&(o=o.slice(0,-1));var p=new Image;p.src=o}()}]);(function(){var t=function(){var t=2;var e=window.location.hostname.split(".");e=e.slice(e.length-t);return e.join(".")}();var e=t.match(/pps/);var S=navigator.userAgent.toLowerCase();var a="1",n="10",i="101";if(/(android)|(like mac os x)/i.test(S)){a="2";n="20"}else if(e){a="201"}if(/(android)/i.test(S)){i="201"}else if(/(like mac os x)/i.test(S)){if(/(iphone)/i.test(S)){i="201"}else{i="202"}}var j="//msg.qy.net/b?t=20&p="+n+"&p1="+i+("&pf="+a);if(window.uniqy){j="//msg.qy.net/b?t=20&p="+n+"&p1="+i+("&pf="+a)}var o=window.intlPageInfo||{};if(o.i18n==="global"){i="1_10_222";var S=navigator.userAgent.toLowerCase();if(/(android)|(like mac os x)/i.test(S)){i="2_20_223"}j="//msg-intl.qy.net/act?t=20&p1="+i}var H=function(t,e){t=t||{};if(e.indexOf("?")==-1){e+="?"}else{e+="&"}var a=+new Date;t._=a;for(var n in t){if(t.hasOwnProperty(n)){e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&"}}if(e[e.length-1]==="&"){e=e.slice(0,-1)}var i=new Image;i.src=e};if(!document.querySelectorAll){var r=function(t){if(!t){return}var e=[];var a=document;var n=a.getElementsByTagName("*")||a.all;for(var i=0,o=n.length;i<o;i++){if(n[i].id==t){e.push(n[i])}}return e}}var l=function(t){t=t||window.event;var e=t.target||t.srcElement;var a=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;var n=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft;var i=document.documentElement&&document.documentElement.scrollWidth||document.body.scrollWidth;var o=document.documentElement&&document.documentElement.scrollHeight||document.body.scrollHeight;var r=document.documentElement&&document.documentElement.clientHeight||document.body.clientHeight;var l=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth;var d=Math.max(o,r);var c=Math.max(i,l);var s=W(document.getElementsByTagName("body")[0].getAttribute("data-pb"),"&");var m={},f={};var u=e,g;var p,v;var w,b;do{g=u.tagName.toUpperCase();if(g==="BODY"||g==="HTML"){break}if(!p){p=u.getAttribute("rseat")||u.getAttribute("data-rseat");if(p){v=u;f=W(v.getAttribute("data-pb"),"&")}}if(!w){w=R(u);if(w){b=u;m=W(b.getAttribute("data-pb"),"&");break}}u=u.parentNode}while(!(w&&p));if(!p){return}w=w||"body";var h=v&&v.tagName&&v.tagName.toUpperCase();var y=b&&b.tagName&&b.tagName.toUpperCase();var P,k,A,_;if(p){_=p.match(/_AB_(.+)_TEST/);if(_){var E=p.split(/_AB_.+_TEST/);p=E[0]+(E[1]||"");_=_[1].split("--");_=/(android)|(like mac os x)/i.test(S)?_[1]:_[0]}f.rseat=p}if(h==="A"){P=v.title||"";k="a";A=v.getAttribute("href")||""}else if(h==="IMG"){P=v.alt||"";k="i";A=""}else{P=v&&v.title||"";k="e";A=""}if(h!=="A"&&y==="A"){if(b.getAttribute("href")){if(b.getAttribute("href").indexOf("javascript")==-1){A=location.protocol+b.getAttribute("href").replace(/^((http|https):)/,"")||""}else{A=b.getAttribute("href")}}}var I,C,q,T,x;T=W(document.cookie,";");I=T["P00003"]||"";C=T["QC005"]||"";q=T["QC006"]||"";try{x=JSON.parse(T["QYABEX"]||"{}")}catch(t){x={}}var M=window.Q&&Q.PageInfo||{};if(window.uniqy){M=window.uniqy&&uniqy.PageInfo||{}}var N=M.i18n==="tw_t"?false:true;var U;if(N){U="cn_s"}else{U="tw_t"}var O={block:w,rt:k,r:P,rlink:A,de:T["QC008"]||"",pu:decodeURIComponent(I),u:decodeURIComponent(C),jsuid:decodeURIComponent(q),stime:(new Date).getTime(),ce:window.webEventID||"",re:c+"*"+d,clkx:t.clientX+n,clky:t.clientY+a,rn:Math.round(Math.random()*2147483647),wsc_osl:navigator&&navigator.language||"",mod:U,dfp:lib&&lib.action&&lib.action.getDFP&&lib.action.getDFP(),tm:window.__qlt&&window.__qlt.statisticsStart?new Date-window.__qlt.statisticsStart:""};if(_&&x[_]&&x[_].abtest){O.abtest=x[_].abtest}var D=window.intlPageInfo||{};if(D.i18n==="global"){var L=D.pbInfos||{};var B=new lib.kit.Url(document.location.href);O["lang"]=B.getParam("lang")||L.lang||"";O["mod"]=B.getParam("mod")||L.mod||"";O["rpage"]=L.rpage||"";if(L.pbClickParams){window.pingbackParams=L.pbClickParams}}if(window.pingbackParams){if(Object.assign){O=Object.assign({},window.pingbackParams,O)}else{O=Y({},window.pingbackParams,O)}}if(window.Q&&Q.PageInfo&&Q.PageInfo.playPageInfo&&Q.PageInfo.playPageInfo.videoTemplate){O.tmplt=Q.PageInfo.playPageInfo.videoTemplate||""}H(Y(O,s,m,f),j)};document.addEventListener("click",l);var d=/^block-/;function R(t){var e=t.getAttribute("data-id")||t.getAttribute("id");if(d.test(e)){return e.substr(6)}return undefined}function W(t,e){var a={};e=e||"&";if(t){var n=t.split(e),i;for(var o=0,r=n.length;o<r;o++){i=n[o];if(i){i=i.split(/\s*=\s*/g);if(i[0]){a[i[0].replace(/^\s*|\s*$/g,"")]=i[1]||""}}}}return a}function Y(t,e){var a=t||{};var n;for(var i=1,o=arguments.length;i<o;i++){n=arguments[i];if(n){for(var r in n){if(n.hasOwnProperty(r)){a[r]=n[r]}}}}return a}lib.action.Qa.prototype.reloadClickMap=function(){};if(window.lib&&window.lib.action&&window.lib.action.Qa){if(window.postMessage){window.postMessage("qaLoad",location.href)}}})();
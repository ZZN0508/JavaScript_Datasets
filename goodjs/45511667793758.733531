(this.$WP=this.$WP||[]).push(["454gno",(e,t)=>{"use strict";var m,i,b,f,w,y,O,d,_,n,g,h,x,C,N,S,M,u,p,c,o,s,E=(e,t=!0)=>{var[a,n]=O(110),[o,s]=O(0),{adhesionClosed:l,notifyAdhesion:r}=d(p),i=f(()=>{n(290)},[n]),c=f(()=>{t&&s(50)},[s,t]);return w(()=>{!l&&t||s(0)},[l,t]),u({size:"5x1",position:"sky",callback:i}),u({size:"320x50",position:"adhesion",callback:c}),w(()=>(r(e&&0<o),()=>{r(!1)}),[o,e,r]),b(()=>({top:a,bottom:o}),[a,o])},v=({bottom:e})=>{var t=m.useContext(n).locale["isRtl"],a=m.useContext(g)["userAgentCategory"];return m.useMemo(()=>"MOBILE"===a,[a])?m.createElement("div",{className:c("_1IL26obE","_2XaoaeRT"),style:{bottom:(e||0)+"px"}},m.createElement("div",{className:"_3RWyYpeA"},m.createElement("h3",{className:"_3YFphSPu"},m.createElement("span",{className:"_3YM9Vp5w"},m.createElement(o,{name:"membership"})),m.createElement(s,{id:"onetap_message_unlock"})," "))):m.createElement("div",{className:c("_2XaoaeRT",{_3iWqdbqG:t})},m.createElement("div",{className:"_3RWyYpeA"},m.createElement("h3",{className:"_3YFphSPu"},m.createElement("span",{className:"_3YM9Vp5w"},m.createElement(o,{name:"membership"})),m.createElement(s,{id:"onetap_message_unlock"})," "),m.createElement("p",{className:"_1uZ9lbQj"},m.createElement(s,{id:"onetap_message_subhead_to_get_the_most"})," ")))},k=({shown:a,adjustForAdhesion:e,isContextualMessagingEnabled:n,onShow:t})=>{var s=E(a,e)["bottom"],[o,l]=O(!1),[e,r]=O(0);return w(()=>{if(!a)return()=>{};var e=document.getElementById("credential_picker_iframe");if(e){if(e.style.bottom=s+"px",e.style.zIndex="10105",!n)return()=>{};var o,t=new MutationObserver(e=>{var t,a,n=null==e||null==(n=e[0])?void 0:n.target;n instanceof HTMLElement&&(clearTimeout(o),t=parseInt((null==n||null==(t=n.style)?void 0:t.height)||0,10),a=isNaN(t)?0:t-9,o=setTimeout(()=>{r(a),l(0<a)},400))});return t.observe(e,{attributes:!0}),()=>{t.disconnect(),clearTimeout(o)}}return()=>{}},[s,a,n]),w(()=>{a&&t&&t()},[a,t]),a&&o?i.createElement(v,{bottom:e+s}):null},G=({shown:t,containerId:e,isContextualMessagingEnabled:a,onShow:n})=>{var o=E(t)["top"],[s,l]=O(!1),r=y(null);return w(()=>{var e;t&&r&&r.current&&((e=r.current.children[0])&&(e.style.zIndex="10107",e.children&&0!==e.children.length&&(e.children[0].onload=()=>{l(a)})))},[t,a]),w(()=>{t&&n&&n()},[t,n]),i.createElement("div",{className:c("_15SXV7IU",{_1nZT1p_i:!t}),style:{top:o}},s&&i.createElement(v,null),i.createElement("div",{id:e,className:"c-3V8oCL",ref:r}))},P=["CheapFlightsSearchResults","CheapFlightsSearchDeals","MobileCheapFlightsSearchResults"],a=({trackWouldOpenExplicitPreferences:t,openExplicitPreferences:a,explicitPreferencesEnabled:n,servletName:e,enhancedGoogleOneTapGate:o,onDismiss:s,onShow:l,triggerNext:r})=>{var i,c,d=_(),u=([{servletName:i,enhancedGoogleOneTapGate:c}]=[{servletName:e,enhancedGoogleOneTapGate:o}],b(()=>{var e=h("post_signup_attr_promo_onetap")&&("Home"===i||h("onetap_onboarding"))||h("post_signup_attr_promo_explicit_preferences");return c?{pid:40670,flow:"GOOGLE_ONETAP",deferShowOverlay:!0}:e?{pid:40666,flow:"GOOGLE_ONETAP_EMAIL_PROMO",deferShowOverlay:!0}:{pid:40185,flow:"GOOGLE_ONETAP",deferShowOverlay:!0}},[i,c])),s=(({onNotDisplayed:a,onUserSkipped:t,onCredentialReady:n,containerId:o,flow:s,pid:l})=>{var e,r=y(null),[i,c]=O(!1),d=x(),u=(e=f(()=>M.remove("g_state"),[]),w(()=>e,[e]),e),p=f((e,t)=>{d({module:"google_onetap",action:e,context:`${t}|${s}`,value:l})},[s,l,d]),m=f(e=>{e&&(p("credentials_success",e.select_by),n(e.credential),c(!1))},[n,p]),_=f((e,t)=>{p("display_event",t||"success"),N(e),c(e),e||a()},[a,p]),g=f(e=>{p("skipped_event",e),c(!1),"user_cancel"===e&&t()},[t,p]),h=f(e=>{p("dismiss_event",e),c(!1)},[p]),E=f(e=>{switch(u(),e.getMomentType()){case"display":_(e.isDisplayed(),e.getNotDisplayedReason());break;case"skipped":g(e.getSkippedReason());break;case"dismiss":h(e.getDismissedReason())}},[u,h,g,_]),v=f(e=>{null===r.current&&(r.current=e,p("requested","na"),e.initialize({client_id:"1070328450902.apps.googleusercontent.com",callback:m,cancel_on_tap_outside:!1,prompt_parent_id:o,auto_select:!S()}),e.prompt(E))},[m,E,o,p]);return w(()=>{p("script_requested","na"),C("https://accounts.google.com/gsi/client","MEMX").then(()=>{var e,t,a,n=()=>v(window.google.accounts.id);null!=(e=window.google)&&null!=(t=e.accounts)&&null!=(a=t.id)&&a.initialize?n():window.onGoogleLibraryLoad=n})},[v,p]),w(()=>()=>{r.current&&r.current.cancel()},[]),b(()=>({shown:i}),[i])})({onNotDisplayed:r,onUserSkipped:s,onCredentialReady:m.useCallback(e=>{d(Object.assign({extraQueryParams:{google_id_token:e},onSuccess:e=>{e&&!0===e.hasCreatedMember&&(t&&t(),n&&a&&a())},onClose:()=>{h("reg_emailoptin")&&window.location.reload()}},u))},[d,u,t,n,a]),containerId:"tripGoogleOnetapContainer",pid:u.pid,flow:u.flow})["shown"],p=m.useContext(g)["userAgentCategory"];return m.useMemo(()=>"MOBILE"===p,[p])?m.createElement(k,{shown:s,onShow:l,adjustForAdhesion:!o,isContextualMessagingEnabled:h("google_onetap_contextual_message_mobile_lithium")&&!P.includes(e)}):m.createElement(G,{shown:s,onShow:l,containerId:"tripGoogleOnetapContainer",isContextualMessagingEnabled:h("google_onetap_contextual_message_desktop_lithium")&&!P.includes(e)})};return[()=>{e("default",a)},[e=>(i=(m=e).default,b=e.useMemo,f=e.useCallback,w=e.useEffect,y=e.useRef,O=e.useState,d=e.useContext),e=>_=e.default,e=>(n=e.Environment,g=e.Device),e=>h=e.featureIsEnabled,e=>x=e.useGARecorder,e=>C=e.importScript,e=>(N=e.setOneTapEligibility,S=e.userSignedOut),e=>M=e.default,e=>u=e.default,e=>p=e.PromptsContext,e=>c=e.default,e=>o=e.default,e=>s=e.default]]},["cDcdfi","mv7yXI","2R4xv2","-i3PJS","fsml46","pLbCP4","MWFqPp","vmXh3M","w2XwHO","HDgDKt","jSLlaY","pyY-iJ","0DsHEV"]]);

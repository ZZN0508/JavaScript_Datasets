window.__adroll||function(){function f(){this.version="1.0",this.exp=8760,this.eexp=720,this.pv=1e11*Math.random(),this.__adc="__ar_v4",this._nad=0,this._lce=null,this._loaded=this._broken=!1,this._url=2e3,this._kwl=300,this._r={},this.cm_urls=[],this._logs=[],this.consent_networks={facebook:"f",linkedin:"linkedin"},this._init_floc_trial();for(var t=Array(4),e=0;e<t.length;e++)t[e]=(Math.round(1e11*Math.random()).toString(16)+Array(9).join("0")).substr(0,8);this._set_global("adroll_sid",t.join("")),this._has_global("adroll_adv_id")&&(this.load_experiment_js(),this.init_pixchk(),this._load_precheck_js(),this.trigger_gtm_consent_event(),this.load_pixel_assistant(),["adroll_adv_id","adroll_pix_id"].forEach(function(t){window.hasOwnProperty(t)&&("string"==typeof window[t]||window[t]instanceof String)&&(window[t]=window[t].replace(/[^A-Z0-9_]/g,""))}))}function ub(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o}function vb(t,e,o,r,n,i){return e=ub(ub(e,t),ub(r,i)),ub(e<<n|e>>>32-n,o)}function wb(t,e,o,r,n,i,l){return vb(e&o|~e&r,t,e,n,i,l)}function xb(t,e,o,r,n,i,l){return vb(e&r|o&~r,t,e,n,i,l)}function yb(t,e,o,r,n,i,l){return vb(o^(e|~r),t,e,n,i,l)}function zb(t,e){var o=wb(o=t[0],i=t[1],n=t[2],r=t[3],e[0],7,-680876936),r=wb(r,o,i,n,e[1],12,-389564586),n=wb(n,r,o,i,e[2],17,606105819),i=wb(i,n,r,o,e[3],22,-1044525330),o=wb(o,i,n,r,e[4],7,-176418897),r=wb(r,o,i,n,e[5],12,1200080426),n=wb(n,r,o,i,e[6],17,-1473231341),i=wb(i,n,r,o,e[7],22,-45705983),o=wb(o,i,n,r,e[8],7,1770035416),r=wb(r,o,i,n,e[9],12,-1958414417),n=wb(n,r,o,i,e[10],17,-42063),i=wb(i,n,r,o,e[11],22,-1990404162),o=wb(o,i,n,r,e[12],7,1804603682),r=wb(r,o,i,n,e[13],12,-40341101),n=wb(n,r,o,i,e[14],17,-1502002290),o=xb(o,i=wb(i,n,r,o,e[15],22,1236535329),n,r,e[1],5,-165796510),r=xb(r,o,i,n,e[6],9,-1069501632),n=xb(n,r,o,i,e[11],14,643717713),i=xb(i,n,r,o,e[0],20,-373897302),o=xb(o,i,n,r,e[5],5,-701558691),r=xb(r,o,i,n,e[10],9,38016083),n=xb(n,r,o,i,e[15],14,-660478335),i=xb(i,n,r,o,e[4],20,-405537848),o=xb(o,i,n,r,e[9],5,568446438),r=xb(r,o,i,n,e[14],9,-1019803690),n=xb(n,r,o,i,e[3],14,-187363961),i=xb(i,n,r,o,e[8],20,1163531501),o=xb(o,i,n,r,e[13],5,-1444681467),r=xb(r,o,i,n,e[2],9,-51403784),n=xb(n,r,o,i,e[7],14,1735328473),o=vb((i=xb(i,n,r,o,e[12],20,-1926607734))^n^r,o,i,e[5],4,-378558),r=vb(o^i^n,r,o,e[8],11,-2022574463),n=vb(r^o^i,n,r,e[11],16,1839030562),i=vb(n^r^o,i,n,e[14],23,-35309556),o=vb(i^n^r,o,i,e[1],4,-1530992060),r=vb(o^i^n,r,o,e[4],11,1272893353),n=vb(r^o^i,n,r,e[7],16,-155497632),i=vb(n^r^o,i,n,e[10],23,-1094730640),o=vb(i^n^r,o,i,e[13],4,681279174),r=vb(o^i^n,r,o,e[0],11,-358537222),n=vb(r^o^i,n,r,e[3],16,-722521979),i=vb(n^r^o,i,n,e[6],23,76029189),o=vb(i^n^r,o,i,e[9],4,-640364487),r=vb(o^i^n,r,o,e[12],11,-421815835),n=vb(r^o^i,n,r,e[15],16,530742520),o=yb(o,i=vb(n^r^o,i,n,e[2],23,-995338651),n,r,e[0],6,-198630844),r=yb(r,o,i,n,e[7],10,1126891415),n=yb(n,r,o,i,e[14],15,-1416354905),i=yb(i,n,r,o,e[5],21,-57434055),o=yb(o,i,n,r,e[12],6,1700485571),r=yb(r,o,i,n,e[3],10,-1894986606),n=yb(n,r,o,i,e[10],15,-1051523),i=yb(i,n,r,o,e[1],21,-2054922799),o=yb(o,i,n,r,e[8],6,1873313359),r=yb(r,o,i,n,e[15],10,-30611744),n=yb(n,r,o,i,e[6],15,-1560198380),i=yb(i,n,r,o,e[13],21,1309151649),o=yb(o,i,n,r,e[4],6,-145523070),r=yb(r,o,i,n,e[11],10,-1120210379),n=yb(n,r,o,i,e[2],15,718787259),i=yb(i,n,r,o,e[9],21,-343485551);t[0]=ub(o,t[0]),t[1]=ub(i,t[1]),t[2]=ub(n,t[2]),t[3]=ub(r,t[3])}var Ab;f.prototype.load_consent_banner=function(){window.document.getElementById("__adroll_consent_banner_el")||this.add_script_element("s.adroll.com/j/consent_tcfv2.js",{id:"__adroll_consent_banner_el"})},f.prototype.get_consent_params=function(){return this.get("__adroll_consent_params")},f.prototype.set_consent_params=function(t){this.set("__adroll_consent_params",t)},f.prototype.clear_consent_params=function(){this.del("__adroll_consent_params")},f.prototype.handle_null_consent=function(t){t||(t=this.get_consent_params())&&this.call_consent_write(t)},f.prototype.save_first_party_consent=function(t){var e=(t||{}).euconsent;((t=(t||{}).arconsent)||e)&&window.localStorage.setItem("__adroll_consent_data",this.jsonStringify({arconsent:t,euconsent:e}))},f.prototype.get_first_party_consent=function(){if(this._has_global("__adroll_consent_data"))return this._global("__adroll_consent_data");try{if(!window.localStorage)return null;var t=window.localStorage.getItem("__adroll_consent_data");if(t)return this._set_global("__adroll_consent_data",this.jsonParse(t)),this._global("__adroll_consent_data")}catch(t){}return null},f.prototype.trigger_gtm_consent_event=function(t){function e(t,e,o){e=isNaN(Number(e))?"c:"+e:"tcf:"+e,t[o=!0!==o&&!1!==o?"unknown":o][e]=1}function o(t){return","+u.object_keys(t).join(",")+","}if(!window.dataLayer||"function"==typeof window.dataLayer.push)if(window.dataLayer=window.dataLayer||[],t){var r,n=this._global("__adroll_consent"),i=this._global("__adroll_consent_data")||{},l=i.eucookie||{},a=l.max_vendor_id||i.max_vendor_id||0,_=i.networks||[],s=l.purposes_allowed||0,d={true:{},false:{},unknown:{}},c={true:{},false:{},unknown:{}},p={true:{},false:{}},u=this;if("boolean"==typeof n){for(r=0;r<_.length;r++)e(d,_[r],n);for(r=1;r<a;r++)e(d,r,n),e(c,r,n);for(r=1;r<25;r++)p[n][r]=1}else{for(r in n)n.hasOwnProperty(r)&&e(d,r,n[r]);for(r=1;r<=a;r++)e(c,r,(l.vendor_consent||{})[r]);for(r=0;r<24;r++)p[!!(s&1<<r)][r+1]=1}window.dataLayer.push({event:t,nextrollVendorsConsent:o(d.true),nextrollVendorsConsentUnknown:o(d.unknown),nextrollVendorsConsentDenied:o(d.false),nextrollVendorsRawConsent:o(c.true),nextrollVendorsRawConsentUnknown:o(c.unknown),nextrollVendorsRawConsentDenied:o(c.false),nextrollPurposesConsent:o(p.true),nextrollPurposesConsentUnknown:null,nextrollPurposesConsentDenied:o(p.false),nextrollgdpr:this._global("__adroll_consent_is_gdpr"),nextrolliab:i.euconsent})}else window.dataLayer.push({event:"nextroll-ready"})},f.prototype.set_consent=function(t,e,o,r,n,i){if(0===arguments.length){if(!this._has_global("__adroll_consent"))return;t=this._global("__adroll_consent")}var l,a="nextroll-consent";this._has_global("__adroll_consent")&&(a="nextroll-consent-modified"),this._set_global("__adroll_consent",t),this._set_global("__adroll_consent_is_gdpr",o),this._set_global("__adroll_consent_data",i||{}),r&&this._set_global("__adroll_consent_user_country",r),n&&this._set_global("__adroll_consent_adv_country",n),o&&("adroll"===(i||{}).banner||e)&&this.load_consent_banner(),this._install_cmp?this._install_cmp():(l=this,window.setTimeout(function(){l._install_cmp&&l._install_cmp()},1e3)),null===t?this.handle_null_consent(e):(this.save_first_party_consent(i),e||this.clear_consent_params(),this._trigger_consent_event&&this._trigger_consent_event(),!1!==t&&!1!==(t||{}).a&&(this._log_floc_cohort(),this.set_first_party_cookie(),this.trigger_gtm_consent_event(a),this.call_next_tpc()))},f.prototype._load_precheck_js=function(){return this.add_script_element("https://s.adroll.com/j/pre/"+window.adroll_adv_id+"/"+window.adroll_pix_id+"/index.js")},f.prototype.cookieEnabled=function(t){return!(this._global("adroll_ext_network")||this._global("adroll_optout")||this._broken)&&(2<=this._nad||t?this._lce:(this.set("_te_","1"),"1"===this.get("_te_")?(this.del("_te_"),0<this._nad&&!this.get(this.__adc)?this._lce=!1:this._lce=!0):this._lce=!1))},f.prototype.get=function(t){var e,o=window.document.cookie;return null===o?(this._broken=!0,null):o=o.indexOf(t+"=")<0?null:(t=o.indexOf(t+"=")+t.length+1,-1===(e=o.indexOf(";",t))&&(e=o.length),""===(o=o.substring(t,e))?null:window.unescape(o))},f.prototype.set=function(t,e,o){var r;o=o&&"number"==typeof o?((r=new Date).setTime(r.getTime()+36e5*o),"; expires="+(o=r.toGMTString())):"",r="; domain="+window.location.hostname,e=window.escape(e),window.document.cookie=t+"="+e+o+"; path=/"+r+"; samesite=lax"},f.prototype.del=function(t){this.set(t,"",-8760)},f.prototype.check_cookie=function(t,e){if(this._global("adroll_ext_network")||this._global("adroll_optout"))return"";for(var o,r=t.split("|"),n=r.length-1;0<=n;n--)!r[n]||e===(o=r[n].split(":"))[0]&&(o[2]=""+(parseInt(o[2])+1),r[n]=o.join(":"));return r.join("|")},f.prototype.handle=function(t){var e=this.get(this.__adc)||"";-1!==e.indexOf(t)?this.set(this.__adc,this.check_cookie(e,t),this.exp):(t=[e,[t,this.get_date(this.eexp),"1"].join(":")].join("|"),this.set(this.__adc,t,this.exp))},f.prototype.expire_old=function(){if(!this._global("adroll_ext_network")&&!this._global("adroll_optout")){for(var t=this.get_date(!1),e=this.get(this.__adc),o=[],r=(e=e?e.split("|"):[""]).length-1;0<=r;r--)e[r]&&e[r].split(":")[1]>t&&o.push(e[r]);this.set(this.__adc,o.join("|"),this.exp)}},f.prototype.get_date=function(t){var e=new Date;t&&e.setTime(e.getTime()+36e5*t),t=""+e.getUTCFullYear();var o=e.getUTCMonth();return[t,o=10<=o?o:"0"+o,10<=(e=e.getUTCDate())?e:"0"+e].join("")},f.prototype.consent_allowed=function(t){var e=this._global("__adroll_consent");return"object"==typeof e?e[t]:e},f.prototype.generate_link=function(){return""},f.prototype.view=function(t){var e=new window.Image;e.src=this._srv("/view/"+t),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("border","0"),e.setAttribute("alt",""),this._head().appendChild(e)},f.prototype.set_cookie=function(){},f.prototype.reset=function(){this._set_global("adroll_c_id",null),this._set_global("adroll_url_macro",""),this._set_global("adroll_c_macro",""),this._set_global("adroll_cpm_macro",""),this._set_global("adroll_ext_network",null),this._set_global("adroll_subnetwork",null),this._set_global("adroll_ad_payload",null),this._set_global("adroll_win_notif",null)},f.prototype.set_pixel_cookie=function(t,e,o){this._global("adroll_optout")||(this.handle(t),this.handle(e),this.handle(o),this.pixel_loaded())},f.prototype.add_pixel_load_callback=function(t){this._loaded?t():this._ensure_global("adroll_callbacks",[]).push(t)},f.prototype.pixel_loaded=function(){this._loaded=!0;for(var t=this._ensure_global("adroll_callbacks",[]),e=0;e<t.length;e++)t[e].called||(t[e](),t[e].called=!0)},f.prototype.addLoadEvent=function(t){if(this._has_global("__adroll_loaded")&&this._global("__adroll_loaded")||this._has_global("_adroll_ie")&&this._global("_adroll_ie")||/msie/i.test(window.navigator.userAgent))return t();if(/WebKit/i.test(window.navigator.userAgent)){var e=window.setInterval(function(){/loaded|complete/.test(window.document.readyState)&&window.clearInterval(e),t()},10);return null}var o=window.onload;window.onload=function(){t(),o&&o()}},f.prototype._head=function(){return(window.document.getElementsByTagName("head")||[null])[0]||(window.document.getElementsByTagName("body")||[null])[0]||window.document.getElementsByTagName("script")[0].parentNode},f.prototype.listenToEvent=function(t,e,o){t.addEventListener?t.addEventListener(e,this.wrapException(o),!1):t.attachEvent("on"+e,this.wrapException(o))},f.prototype.runCookieMatch=function(){var t=this.cm_urls.length;if(!(t<=0))for(var e=0;e<=t;e++)this.popAndSend()},f.prototype.popAndSend=function(){var t,e;this.cm_urls.length<=0||(t=this.cm_urls.shift(),(e=new Image).src=t,e.setAttribute("alt",""))},f.prototype.add_param_to_url=function(t,e){var o=t.indexOf("?"),r="",n="";return-1!==o?(r=t.slice(0,o+1),n="&"+t.slice(o+1)):-1===(o=t.indexOf("#",-1===o?0:o))?r=t+"?":(r=t.slice(0,o)+"?",n=t.slice(o)),r+e+n},f.prototype.is_under_experiment=function(t){return window.adroll_exp_list&&0<=window.adroll_exp_list.indexOf(t)},f.prototype.load_experiment_js=function(){var t=window.document.getElementById("adroll_scr_exp");return t||this.add_script_element("https://s.adroll.com/j/exp/"+window.adroll_adv_id+"/index.js",{id:"adroll_scr_exp",onError:"window.adroll_exp_list = [];"})},f.prototype.is_experiment_js_loaded=function(){return!!window.adroll_exp_list},f.prototype.is_test_advertisable=function(){return"ADV_EID"===this._global("adroll_adv_id")},f.prototype.if_under_experiment_js=function(t,e,o,r){var n=this;this.load_experiment_js(),this.on_experiment_loaded(function(){n.is_under_experiment(t)?"function"==typeof e&&e.call(n):"function"==typeof o&&o.call(n)},r)},f.prototype.on_experiment_loaded=function(e,t){var o=!1,r=this;window.setTimeout(function(){o=!0},t||500),function t(){(o=!(!r.is_experiment_js_loaded()&&!r.is_test_advertisable())||o)?e.call(r):window.setTimeout(t,10)}()},f.prototype.external_data_to_qs=function(t){var e,o=[],r=this.get_external_data();if(!r)return null;for(e in r)r.hasOwnProperty(e)&&this._is_defined(r[e])&&null!==r[e]&&o.push(this.normalize_var(window.escape(""+e)+"="+window.escape(""+r[e]),!1));return o=o.join("&"),"adroll_external_data="+(o=t?window.escape(o):o)},f.prototype.replace_external_data=function(t){var e,o=this.get_external_data(),r=this.get_conversion_value(),n=null;if(o)for(e in o)o.hasOwnProperty(e)&&(n=new RegExp("\\["+e+"\\]","gi"),t=t.replace(n,o[e]),n=new RegExp("\\["+e+"_ESC\\]","gi"),t=t.replace(n,window.escape(o[e])));if(r)for(e in r)r.hasOwnProperty(e)&&(n=new RegExp("\\["+e+"\\]","gi"),t=t.replace(n,r[e]),n=new RegExp("\\["+e+"_ESC\\]","gi"),t=t.replace(n,window.escape(r[e])));return t},f.prototype.get_external_data=function(){if(this._has_global("adroll_custom_data")){var t,e=this._global("adroll_custom_data"),o={};for(t in e)e.hasOwnProperty(t)&&"undefined"!==e[t]&&(o[t.toLowerCase()]=e[t]);return o}return null},f.prototype.get_conversion_value=function(){var t=this._ensure_global("adroll_currency",null),e=this._ensure_global("adroll_conversion_value",null),o=this._ensure_global("adroll_conversion_value_in_dollars",null);return e?{conv_value:""+e,currency:t}:o?{conv_value:""+parseInt(100*o),currency:"USC"}:null},f.prototype._has_global=function(t){return this._is_defined(this._global(t))},f.prototype._global=function(t){return window[t]},f.prototype._set_global=function(t,e){window[t]=e},f.prototype._unset_global=function(t){delete window[t]},f.prototype._ensure_global=function(t,e){return this._has_global(t)||this._set_global(t,e),this._global(t)},f.prototype.jsonStringify=function(t){return this.jsonStringifyFunc||this.initJsonStringify(),this.jsonStringifyFunc(t)},f.prototype.jsonParse=function(a){var b=this._global("JSON");return"function"==typeof b.parse?b.parse(a):eval("("+a+")")},f.prototype.initJsonStringify=function(){var n,i,e,l,t=this._global("JSON");function a(t){return e[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)}this.jsonStringifyFunc=t&&t.stringify&&"function"==typeof t.stringify?t.stringify:(n=Object.prototype.toString,i=Array.isArray||function(t){return"[object Array]"===n.call(t)},e={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},l=/[\\"\u0000-\u001F\u2028\u2029]/g,function t(e){if(null===e)return"null";if("number"==typeof e)return isFinite(e)?e.toString():"null";if("boolean"==typeof e)return e.toString();if("object"==typeof e){if("function"==typeof e.toJSON)return t(e.toJSON());if(i(e)){for(var o="[",r=0;r<e.length;r++)o+=(r?", ":"")+t(e[r]);return o+"]"}if("[object Object]"===n.call(e)){for(r in o=[],e)e.hasOwnProperty(r)&&o.push(t(r)+": "+t(e[r]));return"{"+o.join(", ")+"}"}}return'"'+e.toString().replace(l,a)+'"'})},f.prototype.macro_values=function(){var t=this._ensure_global("adroll_cpm_macro",null),e=this._ensure_global("adroll_url_macro",null),o=this._ensure_global("adroll_c_macro",null),r=this._ensure_global("adroll_subnetwork",null),n=this._ensure_global("adroll_ad_payload",null),i=this._ensure_global("adroll_win_notif",null),l=this._ensure_global("adroll_rtb_dict",null),a={r:/^\$\{.*\}$/i,g:/^%%.*%%$/i,b:/^\[.*\]$/i,x:/^\$\{.*\}$/i,t:/INSERTCLICKTRACKER/}[this._global("adroll_ext_network")],a=this._is_defined(a)?a:/CANNOT_MATCH_THIS/,_={};if(t&&!a.test(t)&&(_.adroll_cpm_macro=t),e&&!a.test(e)&&(_.adroll_url_macro=e),o&&!a.test(o)&&(_.adroll_c_macro=o),r&&!a.test(r)&&(_.adroll_subnetwork=r),n&&!a.test(n)&&(_.adroll_ad_payload=n),i&&!/^[|$]/.test(i)&&(_.adroll_win_notif=i),l&&("string"!=typeof l||!/^[|$]/.test(l))){if("string"==typeof l)try{0===l.indexOf("b64:")&&(l=atob(l.substr(4))),l=this.jsonParse(l)}catch(t){this.log("failed to parse: "+t),l={}}"object"==typeof l&&(_.adroll_rtb_dict=l)}return _},f.prototype.format_macros=function(t,e,o,r){return t=this.macro_url_params(this.macro_values(),t,e,o,r),this.maybe_apply_click_macro(t)},f.prototype.apply_exchange_macro=function(t,e){var o=this._global("adroll_cpm_macro"),r=window.unescape(o),o=new RegExp(o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g");return t=t.replace(o,r),e+window.escape(t)},f.prototype.maybe_apply_imp_macro=function(t){var e=this._global("adroll_imp_prefix_macro");return e?this.apply_exchange_macro(t,e):t},f.prototype.maybe_apply_click_macro=function(t){var e=this._global("adroll_click_prefix_macro");if(e){var o=this.parseUri(t);if(this.endswith(o.path,".re")||this.endswith(o.path,".dy")||this.endswith(o.path,".tp"))return this.apply_exchange_macro(t,e)}return t},f.prototype.macro_url_params=function(t,e,o,r,n){n=!!this._is_defined(n)&&n;var i=r?window.escape:function(t){return t},l=t.adroll_cpm_macro,a=t.adroll_url_macro,_=o?t.adroll_c_macro:null,s=[],d=this.is_lenient_click(e);return!d&&n&&s.push(["desturl",""]),_&&0===_.indexOf("http")?(n=i,"g"===this._global("adroll_ext_network")&&(n=r?function(t){return t}:window.unescape),s.push(["clickurl",n(_)])):d&&n&&s.push(["clickurl",""]),this._global("adroll_ext_network")&&s.push(["adroll_network",this._global("adroll_ext_network")]),l&&s.push(["cpm",l]),t.adroll_subnetwork&&s.push(["adroll_subnetwork",t.adroll_subnetwork]),t.adroll_ad_payload&&s.push(["adroll_ad_payload",t.adroll_ad_payload]),a&&(t=this.parseUri(window.unescape(a)),s.push(["site_url",i("http://"+t.host)]),o&&(s.push(["adroll_width",i(this._global("adroll_width"))]),s.push(["adroll_height",i(this._global("adroll_height"))]))),this.log("Macros found "+this.serialize(s)),e?this.buildurl(e,s):this.serialize(s)},f.prototype.serialize=function(t){if(t.length){for(var e=[],o=t.length-1;0<=o;o--)e.push(t[o].join("="));return e.join("&")}return""},f.prototype.includes=function(t,e){return-1!==t.indexOf(e)},f.prototype.startswith=function(t,e){return 0===t.indexOf(e)},f.prototype.endswith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},f.prototype.buildurl=function(t,e){var o=this.serialize(e),e=t.indexOf("?");return o?e===t.length-1?t+o:-1!==e?"&"===t[t.length-1]?t+o:t+"&"+o:t+"?"+o:t},f.prototype.md5=(Ab="0123456789abcdef".split(""),function(t){var e,o=t,r=(o=/[\x80-\xFF]/.test(o)?unescape(encodeURI(o)):o).length;for(t=[1732584193,-271733879,-1732584194,271733878],e=64;e<=o.length;e+=64){for(var n=o.substring(e-64,e),i=[],l=void 0,l=0;l<64;l+=4)i[l>>2]=n.charCodeAt(l)+(n.charCodeAt(l+1)<<8)+(n.charCodeAt(l+2)<<16)+(n.charCodeAt(l+3)<<24);zb(t,i)}for(o=o.substring(e-64),n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o.length;e++)n[e>>2]|=o.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),55<e)for(zb(t,n),e=0;e<16;e++)n[e]=0;for(n[14]=8*r,zb(t,n),o=0;o<t.length;o++){for(n=(r=t)[e=o],i="",l=0;l<4;l++)i+=Ab[n>>8*l+4&15]+Ab[n>>8*l&15];r[e]=i}return t.join("")}),f.prototype._init_floc_trial=function(){var t=window.document.createElement("meta");t.httpEquiv="origin-trial",t.content="A41wt2Lsq30A9Ox/WehogvJckPI4aY9RoSxhb8FMtVnqaUle1AtI6Yf7Wk+7+Wm0AfDDOkMX+Wn6wnDpBWYgWwYAAAB8eyJvcmlnaW4iOiJodHRwczovL2Fkcm9sbC5jb206NDQzIiwiZmVhdHVyZSI6IkludGVyZXN0Q29ob3J0QVBJIiwiZXhwaXJ5IjoxNjI2MjIwNzk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==",this._head().appendChild(t)},f.prototype._log_floc_cohort=function(){var e,o=this._global("adroll_seg_eid")||"";"function"==typeof window.document.interestCohort&&(e=this,window.document.interestCohort().then(function(t){t&&e._log_pex_event("floc",t.id,t.version,{seg:o},null)}).catch(function(t){e.log("floc-error:"+t)}))},f.prototype._log_pex_event=function(t,e,o,r,n){t=encodeURIComponent(t),e=encodeURIComponent(e),o=encodeURIComponent(o);var i=this._ensure_global("adroll_adv_id","");n="","object"==typeof r&&(n="&"+this.object_to_querystring(r)),r=this._srv("/pex/"+i+"?ev="+t+"&es="+e+"&esv="+o+n),"function"==typeof navigator.sendBeacon?navigator.sendBeacon(r):this.imgRequest(r)},f.prototype._gurl=function(){var t=window.location;return this.normalize_url(t.pathname+t.search)},f.prototype.get_dummy_product_for_facebook=function(t){return{product_id:"adroll_dummy_product",product_group:t,product_action:null,product_category:null}},f.prototype.facebook_dummy_product_enabled=function(){return!0},f.prototype.extract_pid=function(t,e,o){function r(t){return t?!!(t=new RegExp(t,"gi")).exec(_):null}t=t||{};var n=null,i=null,l=null,a=null,_=this._gurl(),s=this.get_external_data();if(s&&(i=s.product_id,n=s.product_group,l=s.product_action,a=s.adroll_product_category_id),i||!t.regexp_group||"string"===t.regexp_group&&t.regexp_group instanceof String||"html"!==t.regexp_group.scheme){if(!i){if(r(t.blacklist_regexp))return"";i=this.get_product_id_from_url(_,t.regexp,t.regexp_group)}}else{if(r(t.blacklist_regexp)||!0!==r(t.regexp))return"";i=this.get_product_id_from_dom(t.regexp_group)}if(n||!t.product_group_group||"string"===t.product_group_group&&t.product_group_group instanceof String||"html"!==t.product_group_group.scheme?n||t.product_group_regexp&&(n=this.get_product_id_from_url(_,t.product_group_regexp,t.product_group_group)):n=this.get_product_id_from_dom(t.product_group_group),i)t={product_id:i,product_group:n,product_action:l,product_category:a};else{if(!this.facebook_dummy_product_enabled()||"facebook"!==e)return null;t=this.get_dummy_product_for_facebook(n)}return o&&o(t),t},f.prototype.get_pid=function(t){this.extract_pid(t,"adroll",function(t){if(t){var e,o=t.product_id,r=t.product_group,n=t.product_action,i=t.product_category;if(t=[],o instanceof Array)for(e=0;e<o.length;e++)t.push(["adroll_product_id",this.normalize_var((o[e]+"").toLowerCase(),!0)]);else t.push(["adroll_product_id",this.normalize_var((o+"").toLowerCase(),!0)]);if(i instanceof Array)for(e=0;e<i.length;e++)t.push(["adroll_product_category_id",this.normalize_var((i[e]+"").toLowerCase(),!0)]);else i&&t.push(["adroll_product_category_id",this.normalize_var((i+"").toLowerCase(),!0)]);r&&t.push(["adroll_product_group",this.normalize_var((r+"").toLowerCase(),!0)]),n&&t.push(["adroll_product_action",this.normalize_var((n+"").toLowerCase(),!0)]),(o=this.external_data_to_qs(!0))&&t.push([o]),o=this._srv(this.buildurl("/p/"+this._global("adroll_adv_id")+"/",t)),(r=window.document.createElement("img")).src=o,r.height=r.width=1,r.border=0,r.setAttribute("alt",""),this._head().appendChild(r)}}.bind(this))},f.prototype.get_product_id_from_dom=function(t){var e,o=null;if(t.path&&(window.jQuery?(e=window.jQuery(t.path)).length&&(e=e.eq(0),o="text"===t.attribute?e.text():e.attr(t.attribute)):window.Prototype&&window.$$?(e=window.$$(t.path)).length&&(e=e[0],o="text"===t.attribute?e.innerText&&!window.opera?e.innerText:e.innerHTML.stripScripts().unescapeHTML().replace(/[\n\r\s]+/g," "):e.readAttribute(t.attribute)):window.YUI?(e=window.YUI().use("node")).one&&(o=null,(e=e.one(t.path))&&(o="text"===t.attribute?e.get("text"):e.getAttribute(t.attribute))):window.$$&&((e=window.$$(t.path)).length&&(e=e[0],o="text"===t.attribute?e.get("text"):e.getProperty(t.attribute)))),o&&(o=o.replace(/^\s\s*/,"").replace(/\s\s*$/,""),t.regular_expression&&t.regular_expression_replace))if(null!==(o=(e=new RegExp(t.regular_expression,"gi")).exec(o))){for(t=t.regular_expression_replace,e=0;e<o.length;e++)t=t.replace(new RegExp("\\\\"+e,"gi"),o[e]||"");o=t}else o="";return o},f.prototype.get_product_id_from_url=function(t,e,o){var r=null;try{r=parseInt(o)}catch(t){}return null!==r&&!isNaN(r)&&e&&(null!==(t=new RegExp(e,"gi").exec(t))&&r in t)?t[r]:null},f.prototype.render_pixel_code=function(t,e){var o=this;o._has_global("adroll_tpc")?o.render_pixel_code_exec(t,e):o.load_adroll_tpc(function(){o.render_pixel_code_exec(t,e)})},f.prototype.render_pixel_code_exec=function(n,i){this.expire_old();var l=this._srv("/pixel"),a=window.document.createElement("script");a.setAttribute("async","true"),a.type="text/javascript";var _,s,d=this.get_keywords();this.addLoadEvent((_=this,function(){var t,e=[];try{window.document.referrer.length<=200&&e.push("adroll_s_ref="+window.escape(window.document.referrer))}catch(t){}try{e.push("keyw="+window.escape(d))}catch(t){}try{_._has_global("adroll_segments")&&e.push("name="+window.escape(_._global("adroll_segments").toLowerCase()))}catch(t){}try{_._has_global("adroll_p")&&e.push("adroll_p="+window.escape(_._global("adroll_p")))}catch(t){}try{_._has_global("adroll_u")&&e.push("adroll_u="+window.escape(_._global("adroll_u")))}catch(t){}try{_._has_global("adroll_m")&&_._has_global("adroll_m_type")&&(e.push("adroll_m="+window.escape(_._global("adroll_m"))),e.push("adroll_m_type="+window.escape(_._global("adroll_m_type"))))}catch(t){}try{var o=_.get_conversion_value();o.conv_value&&e.push("conv_value="+o.conv_value),o.currency&&e.push("adroll_currency="+o.currency)}catch(t){}try{_._has_user_identifier()&&(t=(t=_._global("adroll_user_identifier")).replace(/^\s\s*/,"").replace(/\s\s*$/,""),e.push("user_identifier="+window.encodeURIComponent(t)))}catch(t){}try{_._has_global("adroll_shop_id")&&(o={},_._has_global("adroll_custom_data")?o=_._global("adroll_custom_data"):_._set_global("adroll_custom_data",o),void 0===o.adroll_shop_id&&(o.adroll_shop_id=_._global("adroll_shop_id")));var r=_.external_data_to_qs(!0);r&&e.push(r)}catch(t){}e=_.get_base_url(l,n,i,null,"",e),a.src=e,_._head().appendChild(a)})),this.addLoadEvent((s=this,function(){var t=s._global("adroll");if(t&&"object"==typeof t){t.identify=function(){return s.identify.apply(s,arguments)},t.track=function(){return s.track.apply(s,arguments)};for(var e,o,r=0;r<t.length;r++)e=t[r][0],o=t[r][1],"identify"===e?s.identify.apply(s,o):"track"===e&&s.track.apply(s,o)}}))},f.prototype.render_ad_code=function(t,e,o,r){var n,i,l;r=this._is_defined(r)?r:null,this._is_defined(this._r[e])&&!r||(n=["width="+this._global("adroll_width"),"height="+this._global("adroll_height"),"x=0","y=0"],t=r?(this.log("Rendering adgroup "+r),i=this.macro_values(),l=this.macro_url_params(i,!1,!1,!1,!1),n.push(l),this.render_win_notification(i),this.render_extra_script(i),this.get_url(t,e,r,null,n)):(this.log("Rendering ad space "+e),this.get_url(t,e,null,"ad",n)),this.expire_old(),t=this.maybe_apply_imp_macro(t),o&&(t=this._srv("/impression?"+n.join("&"))),window.document.write('<script src="'+t+'"><\/script>'),this._nad+=1,this._r[e]=1)},f.prototype.render_win_notification=function(t){var e;t.adroll_cpm_macro&&t.adroll_win_notif&&(e=(this._secure()?"https://":"http://")+t.adroll_win_notif+t.adroll_cpm_macro,t.adroll_ad_payload&&(t.adroll_rtb_dict&&t.adroll_rtb_dict.waap||/waap=1&/.test(t.adroll_win_notif)&&!this._is_defined(t.adroll_rtb_dict))&&(e+="&ad_payload="+t.adroll_ad_payload),e=this.maybe_apply_imp_macro(e),this.imgRequest(e))},f.prototype.render_extra_script=function(t){t.adroll_rtb_dict&&t.adroll_rtb_dict.extra_script_src&&this.add_script_element(t.adroll_rtb_dict.extra_script_src,{})},f.prototype.add_script_element=function(t,e){var o,r=window.document.createElement("script"),n=this._secure()?"https://":"http://";for(o in t.match(/^(\w+:)*\/\//)&&(n=""),e)e.hasOwnProperty(o)&&"src"!==o&&r.setAttribute(o,e[o]);return r.type="text/javascript",r.src=n+t,this._head().appendChild(r),r},f.prototype.get_base_url=function(t,e,o,r,n,i){t=(a=t.split("?"))[0]+"/"+e+"/"+o+(r?"/"+r:"")+(n?"/"+n:"");var l="?";a[1]&&(t+="?"+a[1],l="&");var a=l+"no-cookies=1&pv=",_="";if(this.cookieEnabled(!1)?(_=window.escape(this.get_eids()),t+=l+"pv="+this.pv+"&cookie="+_):t+=a+this.pv,i&&(t+="&"+i.join("&")),(t=this.add_tpc_to_url(t)).length>this._url){try{this.del(this.__adc)}catch(t){}return t.length-_.length>this._url?t:(this.log("Url was too big, shrinking it"),this.get_url(e,o,r,n,i))}return this.log("Generated url: "+t),t},f.prototype.get_url=function(t,e,o,r,n){var i=o?this._srv("/c"):this._srv("/r");return this.get_base_url(i,t,e,o,r,n)},f.prototype.get_eids=function(){if(this._global("adroll_ext_network")||this._global("adroll_optout"))return"";try{for(var t,e=(o=this.get(this.__adc))?o.split("|"):"",o=[],r=e.length-1;0<=r;r--)e[r]&&(t=e[r].split(":"),o.push([t[0],t[2]].join(":")));return o.join("|")}catch(t){return this.del(this.__adc),""}},f.prototype._container_is_secure=function(t){return this._is_defined(t)?t:this._secure()},f.prototype.ad_servers_url=function(t,e){return(this._container_is_secure(e)?"https://":"http://")+"d.adroll.com"+t},f.prototype.ad_request_url=function(t,e,o,r,n){var i=this._global("adroll_a_id"),l=this._global("adroll_s_id"),a=this._global("adroll_insertion_id");return t=this.ad_servers_url("/r/"+l+"/"+i+"/"+a+"."+t,n),this.format_macros(t,e,o,r)},f.prototype.click_url=function(t,e){t=this.ad_servers_url(t?"/click/lenient/":"/click/",!1);return this.format_macros(t,!0,!0,e)},f.prototype.engage_url=function(){var t=this.ad_servers_url("/event/",!1);return this.format_macros(t,!1,!0,!1)},f.prototype.cdn_url=function(t,e){return(this._container_is_secure(e)?"https://s.adroll.com":"http://a.adroll.com")+t},f.prototype.ad_file_url=function(t,e){var o=this._global("adroll_ad_filename");return t=t?o.split(".")[0]+t:o,o="/a/"+o.substring(0,3)+"/"+o.substring(3,6)+"/"+t,this.cdn_url(o,e)},f.prototype.roll_crawl_url=function(){return"https://d.adroll.com/p"},f.prototype.is_lenient_click=function(t){return(t=t?this.parseUri(t):null)&&(this.endswith(t.path,".tp")||this.includes(t.path,"lenient"))},f.prototype.record_user=function(t){var e,o="adroll_conversion_value adroll_conversion_value_in_dollars adroll_segments adroll_email adroll_user_identifier adroll_currency".split(" ");t=t||{};for(var r={adroll_user_identifier:!0},n=0;n<o.length;n++){try{this._unset_global(o[n])}catch(t){}if(o[n]in t){o[n]in r?this._set_global(o[n],window.escape(t[o[n]])):"adroll_email"!==o[n]&&this._set_global(o[n],t[o[n]]);try{delete t[o[n]]}catch(t){}}}try{this._unset_global("adroll_custom_data")}catch(t){}for(e in t)if(t.hasOwnProperty(e)){this._set_global("adroll_custom_data",t);break}this.render_pixel_code(this._global("adroll_adv_id"),this._global("adroll_pix_id"))},f.prototype.record_adroll_email=function(t){var e,o,r;this._has_email()&&(o=(r=(r=this._global("_adroll_email")).replace(/^\s+|\s+$/g,"")).toLowerCase(),r=this.is_email_valid(r),this.is_already_hashed(o)?e=o:r&&(e=this.md5(o)),e="/id/"+this._global("adroll_adv_id")+"/?hashed_email="+e,r&&(o=o.split("@")[1],e+="&email_domain="+window.encodeURIComponent(o)),t&&(e+="&idsource="+t),this.imgRequest(this._srv(e)))},f.prototype._send_plain_text_identifiers=function(t,e,o){(t||e)&&o&&(o="/id/"+this._global("adroll_adv_id")+"/?idsource="+o,t&&(t=t.replace(/^\s+|\s+$/g,"").toLowerCase(),o+="&email="+window.encodeURIComponent(t)+"&hashed_email="+this.md5(t),t=t.split("@")[1],o+="&email_domain="+window.encodeURIComponent(t)),e&&(o+="&user_identifier="+window.encodeURIComponent(e)),this.imgRequest(this._srv(o)))},f.prototype._has_email=function(){return this._has_global("_adroll_email")},f.prototype._has_user_identifier=function(){return this._has_global("adroll_user_identifier")&&"example_user_id"!==this._global("adroll_user_identifier")},f.prototype.is_already_hashed=function(t){return/^[a-f0-9]{32}$/.test(t)},f.prototype.is_email_valid=function(t){return/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t)},f.prototype.identify=function(t,e){(t.email||t.userId)&&this._send_plain_text_identifiers(t.email,t.userId,e||"adroll-identify"),t.email&&this._set_global("_adroll_email",t.email);var o=this.copyObj(t,["email","userId"]);o&&(o="/uat/"+this._global("adroll_adv_id")+"/"+this._global("adroll_pix_id")+"/?user_attributes="+window.encodeURIComponent(this.jsonStringify(o)),e&&(o+="&idsource="+e),this.imgRequest(this._srv(o))),this._queueAndCallback("identify",[t,e])},f.prototype.track=function(t,e){var o,r;this._track_pxl_assistant(t,e),t&&(o="/uev/"+this._global("adroll_adv_id")+"/"+this._global("adroll_pix_id")+"/?event_name="+window.encodeURIComponent(t),(r=this.copyObj(e))&&(o+="&event_attributes="+window.encodeURIComponent(this.jsonStringify(r))),this.imgRequest(this._srv(o)),this._queueAndCallback("track",[t,e]))},f.prototype._registerCallback=function(t,e,o){if(this.callbacks=this.callbacks||{},this.callbackNames=this.callbackNames||[],this.callbacks[t]=this.callbacks[t]||[],!("function"!=typeof e||-1<this.callbackNames.indexOf(o))&&(this.callbackNames.push(o),this.callbacks[t].push(e),this.callbackQueues&&this.callbackQueues[t]&&this.callbackQueues[t].length))for(o=0;o<this.callbackQueues[t].length;o++)e.apply(null,this.callbackQueues[t][o])},f.prototype._queueAndCallback=function(t,e){if(this.callbackQueues=this.callbackQueues||{},this.callbackQueues[t]=this.callbackQueues[t]||[],this.callbackQueues[t].push(e),this.callbacks&&this.callbacks[t]&&this.callbacks[t].length)for(var o=0;o<this.callbacks[t].length;o++)this.callbacks[t][o].apply(null,e)},f.prototype.registerIdentifyCallback=function(t,e){this._registerCallback("identify",t,e)},f.prototype.registerTrackCallback=function(t,e){this._registerCallback("track",t,e)},f.prototype._track_pxl_assistant=function(t,e){if(this._has_global("__adroll_pxl_assistant_track")||this._set_global("__adroll_pxl_assistant_track",[]),this._global("__adroll_pxl_assistant_track").push({eventName:t,eventAttrs:e}),this.__nrpa_event_handler)try{this.__nrpa_event_handler({track:this._global("__adroll_pxl_assistant_track")})}catch(t){}},f.prototype._is_defined=function(t){return void 0!==t},f.prototype.normalize_var=function(t,e){return t?(t=t.toString().substr(0,this._kwl).replace(/,/gi,"."),e?window.escape(t):t):""},f.prototype.get_keywords=function(){try{var t=window.document.referrer||"";if(!t)return"";var e=this.parseUri(t);return-1!==e.host.indexOf("www.google.")||-1!==e.host.indexOf("bing.com")?e.queryKey.q.substring(0,this._kwl):""}catch(t){return""}},f.prototype.parseUri=function(t){t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);for(var r={queryKey:{}},e=14,o="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");e--;)r[o[e]]=t[e]||"";return r[o[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,o){e&&(r.queryKey[e]=o)}),r},f.prototype._secure=function(){return!0},f.prototype._protocol=function(){return window.document.location.protocol},f.prototype._native=function(){try{return"http"!==this._protocol().slice(0,4)}catch(t){return!0}},f.prototype.has_param_in_url=function(t,e){t=t.split("?");return 1<t.length&&-1!==("&"+t[1]).indexOf("&"+e+"=")},f.prototype._srv=function(t){var e;return t=this._is_defined(t)?t:"",t=this.add_tpc_to_url("https://d.adroll.com"+t),this._has_global("__adroll_xid_ch")&&(t=this.add_param_to_url(t,"xid_ch="+(0!==this._global("__adroll_xid_ch")?"t":"f"))),this.has_param_in_url(t,"arrfrr")||(e=this._get_arrfrr(),t=this.add_param_to_url(t,"arrfrr="+encodeURIComponent(e))),this.add_consent_to_url(this.add_fpc_to_url(t))},f.prototype._get_arrfrr=function(t){var e,o=(t=(t=t||window.location.href).split("#")[0]).split("?"),r=this;return 1<o.length&&(e=o[1].replace(/([^&=]+)=([^&]+)/g,function(t,e,o){return e.match(/cc_number|credit_card|card_number|cv[cv]_code/)||r.is_luhn(unescape(o))?e+"=NR_REDACT":e+"="+o}),o[1]!==e&&(t=o[0]+"?"+e)),t},f.prototype.is_luhn=function(t){if("string"!=typeof t)return!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(var e,o=0,r=!1,n=t.length-1;0<=n;n--)e=parseInt(t.charAt(n),10),r&&(9<(e*=2)&&(e-=9)),o+=e,r=!r;return 0==o%10},f.prototype._cdn=function(t){return"https://s.adroll.com"+(t=this._is_defined(t)?t:"")},f.prototype.log=function(t){this._logs.push(t)},f.prototype.read_log=function(t){return this._logs.join(t?"\n":"<br>\n")},f.prototype.normalize_url=function(t){return t.toLowerCase()},f.prototype.imgRequest=function(t){var e=new window.Image;return e.src=this.add_tpc_to_url(t),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("border","0"),e.setAttribute("alt",""),this._head().appendChild(e)},f.prototype.b64toint=function(t){var e,o="";t=t.replace("-","+").replace("_","/");for(var r=0;r<t.length;r++)o=o+function t(e,o){if(o<1)return"";if(o%2)return t(e,o-1)+e;o=t(e,o/2);return o+o}("0",6-(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t[r]).toString(2)).length)+e;return parseInt(o,2)},f.prototype.copyObj=function(t,e){if(!t)return null;var o,r={},n=0;for(o in t)!t.hasOwnProperty(o)||e&&-1!==e.indexOf(o)||(n++,r[o]=t[o]);return n?r:null},f.prototype.object_keys=function(t){if(window.Object&&window.Object.keys)return Object.keys(t);if("object"==typeof t)return[];var e,o=[];for(e in t)t.hasOwnProperty(e)&&o.push(e);return o},f.prototype.wrapException=function(e){return function(t){try{return e(t)}catch(t){}}},f.prototype.add_tpc_to_url=function(t){var e=this._global("adroll_tpc");if(!t||!e)return t;var o=t.substr(t.indexOf("://")+3).split("/")[0];return t.match(/[?&]adroll_tpc=/)&&"d.adroll.com"!==o?t:(0<(this._global("__adroll_xid_ch")||0)&&(e=e+"&xid_src="+(1===this._global("__adroll_xid_ch")?"cache":"srv")),this.add_param_to_url(t,"adroll_tpc="+encodeURIComponent(e)))},f.prototype.add_fpc_to_url=function(t){var e=this.get_first_party_cookie();if(!t||!e)return t;var o=this.parseUri(t);return o.queryKey.adroll_fpc||"d.adroll.com"!==o.host&&"d.adroll.com"!=o.host+":"+o.port?t:this.add_param_to_url(t,"adroll_fpc="+encodeURIComponent(e))},f.prototype.add_consent_to_url=function(t){var e=this.get_first_party_consent();if(!t||!e||!e.arconsent)return t;var o=t.match(/^\w+:\/\/([^/]+)/);return o&&"d.adroll.com"!==o[1]&&"d.adroll.mgr.consensu.org"!==o[1]?t:(o=-1===t.indexOf("?")?"?":"&",t+o+"arconsent="+encodeURIComponent(e.arconsent))},f.prototype.getSafariVersion=function(){var t=/^Mozilla\/5\.0 \([^)]+\) AppleWebKit\/[^ ]+ \(KHTML, like Gecko\) Version\/([^ ]+)( Mobile\/[^ ]+)? Safari\/[^ ]+$/i.exec(navigator.userAgent);return t?t[1]:null},f.prototype.set_tpc=function(t,e){var o=this.tpc_callback();t&&e&&this._set_global("adroll_tpc",encodeURIComponent(t)+"="+encodeURIComponent(e)),o&&o.call(this)},f.prototype.tpc_callback=function(t){var e=window.adroll_tpc_callback;return(window.adroll_tpc_callback=t)||window.adroll_xavier_called||(window.adroll_xavier_called=1,!this.call_xavier(e))?e:null},f.prototype.call_next_tpc=function(t){(t=this.tpc_callback(t))&&t.call(this)},f.prototype.extract_query_param=function(t,e){for(var o=e.split("&"),r=0;r<o.length;r++){var n=o[r].split("=");if(decodeURIComponent(n[0])===t)return decodeURIComponent(n[1])}return null},f.prototype.get_adroll_sid=function(){var t=this.get_consent_params();return(t=t&&this.extract_query_param("_s",t))?t:this._global("adroll_sid")},f.prototype.call_consent_write=function(t){this.add_script_element(this._srv("/consent/write?"+t))},f.prototype.call_consent_check=function(){var t=["_s="+this.get_adroll_sid(),"_b=2"];"#_ar_gdpr="===window.location.hash.substr(0,10)&&t.push("dbg="+unescape(window.location.hash.substr(10))),t=this.add_consent_to_url("https://d.adroll.mgr.consensu.org/consent/iabcheck/"+this._global("adroll_adv_id")+"?"+t.join("&")),this.add_script_element(t)},f.prototype.load_adroll_tpc=function(t){if(this.tpc_callback(t),this._consent_checked)return this.set_consent();this._consent_checked=!0,this.call_consent_check()},f.prototype.get_tpc_decode_timeout=function(){return 1500},f.prototype.set_first_party_cookie=function(){var t=(t=this.get_first_party_cookie())||this.md5((new Date).getTime()+Math.round(1e11*Math.random())+window.navigator.userAgent.toLowerCase()+window.document.referrer)+"-"+(new Date).getTime();this.set("__adroll_fpc",t,8766)},f.prototype.get_first_party_cookie=function(){try{var t=this.get("__adroll_fpc");if(t){var e=t.replace("-s2-","-").replace(/-$/,"");if("-"===e.charAt(32)&&e.substr(33).match(/\D/)&&Date.parse){var o=new Date(e.substr(33));if(o&&!isNaN(o.getTime()))return e.substr(0,33)+o.getTime()}return e}}catch(t){}return null},f.prototype.call_xavier=function(o){var r=this,n=!1,t=navigator.userAgent.toLowerCase();return"US"!==this._global("__adroll_consent_user_country")||window.location.hostname.match(/(rakuten\.co\.jp|summo\.jp|goo-net\.com|dmm\.com|beforward\.jp)$/)||!(t.match(/intel mac.*? safari/)&&-1===t.indexOf("chrome")&&0<navigator.maxTouchPoints)&&(!navigator.userAgent.match(/\b(iPad|iPhone|iPod)\b/)||parseInt(t.substr(t.indexOf(") version/")+10),10)<9)?(r._set_global("__adroll_xid_ch",0),!1):(window.setTimeout(function(){n=!0},this.get_tpc_decode_timeout()),!this.is_under_experiment("xid_blacklist")&&(this.is_under_experiment("xid_test"),this.add_script_element("https://s.dca0.com/sdk.v5.4.min.js?1621458471"),function t(){var e;(n=!!window.RetrieveAdID||n)?window.RetrieveAdID?(r.tpc_callback(o),e=window.setTimeout(function(){r.set_tpc(null)},r.get_tpc_decode_timeout()),window.RetrieveAdID(function(t){t&&(r._set_global("__adroll_xid_ch",1),window.clearTimeout(e),r.set_tpc("xavier",t))},function(t){r._set_global("__adroll_xid_ch",2),window.clearTimeout(e),r.set_tpc("xavier",t)})):(r._set_global("__adroll_xid_ch",0),o&&o.call(r)):window.setTimeout(function(){t()},10)}(),!0))},f.prototype.init_pixchk=function(){this.if_under_experiment_js("pixchk",function(){window.addEventListener("message",this.pixchk_handler,!1)},function(){},1e3)},f.prototype.pixchk_handler=function(t){if(t.origin.match(/^https?:\/\/[^\/:]*\.adroll\.com\b/))try{var e=JSON.parse(t.data);"pixchk"===e.cmd&&t.source.postMessage(JSON.stringify({cmd:"pixrpl",adv_id:window.adroll_adv_id,pix_id:window.adroll_pix_id,token:e.token}),"*")}catch(t){}},f.prototype.load_pixel_assistant=function(){var t,e;window.document.getElementById("adroll_nrpa_sdk")||(t=(window.location.hash||"").match("nrpa=([A-Z0-7]+)8([A-F0-9]+Z)"),e=Math.floor((new Date).getTime()/1e3)-3600,!window.sessionStorage.getItem("adroll_nrpa_sdk")&&(!t||t[1]!==window.adroll_adv_id||parseInt(t[2],16)<e)||this.add_script_element("https://s.adroll.com/j/nrpa.js",{id:"adroll_nrpa_sdk"}))},f.prototype.set_suspended=function(){this._set_global("__adroll_data_suspended",!0)},f.prototype.is_suspended=function(){return this._has_global("__adroll_data_suspended")},f.prototype.object_to_querystring=function(t){var e=null;if("object"==typeof t&&("function"==typeof window.URLSearchParams&&("[object URLSearchParams]"===(e=new window.URLSearchParams(t).toString())&&(e=null)),null===e)){var o,e="";for(o in t)t.hasOwnProperty(o)&&(e=e+"&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]));e=e.substr(1)}return e},window.__adroll=window.__adroll||new f}(),function(t){t.adroll_optout=!1,"2.0"===t.adroll_version?t.console&&t.console.debug&&t.console.debug("Both the NextRoll v1 and v2 pixel detected?"):(t.adroll_ext_network=null,t.adroll_callbacks=void 0===t.adroll_callbacks?[]:t.adroll_callbacks,t.__adroll.render_pixel_code(t.adroll_adv_id,t.adroll_pix_id))}(window);

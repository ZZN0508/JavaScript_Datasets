(window.webpackJsonp=window.webpackJsonp||[]).push([["0f7b"],{"+ZRA":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return a});var o=n("Go3r"),c=n("g8Fj"),b=n("w8nz"),g=n("rQBq"),I=n("E0mJ"),l=n("944x"),d=n("GlcG"),u=n("QD4+"),p=n("n/YO"),h=n("eSmw"),v=n("4cd8");function r({searchContext:e,responseFilters:t,currentTab:n,maxItemIndex:r,info:s={}}){var a=Object(d.a)(t),n=Object(l.a)(n||u.g.ALL),s=Object(p.a)(s,e=>null==e),i=(null==t||null===(i=t.refinement_paths)||void 0===i?void 0:i[0])||void 0;c.a.logJitneyEvent({schema:o.a,event_data:Object.assign({},Object(h.a)(a,"refinement_paths"),{section_id:e.section_id,section_type_uid:e.section_type_uid,subtab:n,search_context:Object.assign({},e,a,{subtab:n}),page:"explore",info:s,max_item_index:r,refinement_path:i})})}function S({itemIndex:e,exploreElement:t,responseFilters:n,searchContext:r,stagedFilters:s,exploreAdditionalInfo:a,exploreFilterName:i,exploreOperationTarget:o}){(s&&0<Object.getOwnPropertyNames(s).length?g.b:g.m)({searchContext:r,operation:2,exploreAdditionalInfo:a,exploreElement:t,exploreFilterName:i,exploreOperationTarget:o,searchFilterLast:{common_filters:Object(g.kb)(n)},searchFilter:{common_filters:Object(g.kb)(s)},itemIndex:e})}function s(e){var t=e["exploreOperationTarget"],e=babelHelpers.objectWithoutPropertiesLoose(e,["exploreOperationTarget"]);S(Object.assign({},e,{exploreElement:7,exploreOperationTarget:t}))}function a({itemIndex:e,responseFilters:t,stagedFilters:n,searchContext:r,section:s,exploreAdditionalInfo:a,productId:i,logger:o,tripTemplateItemType:c,exploreElement:l,exploreOperationTarget:d}){var u,p,h,m,{result_type:_,isMock:f}=s;if(Object(v.a)(s))switch(_){case b.u.RECENTLY_VIEWED_LISTINGS:case b.u.LISTINGS:return void S({itemIndex:e,searchContext:r,exploreElement:3,exploreOperationTarget:"listing",exploreAdditionalInfo:a,responseFilters:t,stagedFilters:n});case b.u.REFINEMENTS:if(s.section_type_uid===b.v.CHINA_CITY_SUGGESTION)return void S({itemIndex:e,searchContext:r,exploreElement:4,exploreOperationTarget:null==s||null===(u=s.refinements)||void 0===u||null===(p=u[e||0])||void 0===p?void 0:p.title,exploreAdditionalInfo:a,responseFilters:t,stagedFilters:n});break;case b.u.CHINA_HOT_DESTINATIONS:case b.u.CHINA_HOST_PROMOTION:if(l&&d)return void S({itemIndex:e,searchContext:r,exploreElement:l,exploreOperationTarget:d,exploreAdditionalInfo:a,responseFilters:t,stagedFilters:n});break;case b.u.CHINA_POPULAR_SUMMER_DESTINATIONS:return void S({itemIndex:e,searchContext:r,exploreElement:4,exploreOperationTarget:null==s||null===(h=s.static_destinations)||void 0===h||null===(m=h[e||0])||void 0===m?void 0:m.query,exploreAdditionalInfo:a,responseFilters:t,stagedFilters:n})}c=Object(I.a)({resultType:_,tripTemplateItemType:c});i&&c&&!f&&Object(g.db)(i,c,r),f||"function"!=typeof o||o({itemIndex:e,responseFilters:t,stagedFilters:n,searchContext:r})}},"0B1W":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=class{constructor({maxNumberOfItems:e}){this.cacheMap={},this.maxNumberOfItems=void 0,this.maxNumberOfItems=e&&0<e?e:50,this.cacheMap=new Map}has(e){return this.cacheMap.has(e)}size(){return this.cacheMap.size}clear(){return this.cacheMap.clear()}wrapValue(e,{key:t,onSuccess:n,onFailure:r}={}){return Promise.resolve(e).then(e=>n?n(e):e).catch(e=>(this.delete(t),r?r(e):Promise.reject(e)))}set(e,t,n={}){n=this.wrapValue(t,Object.assign({key:e},n));if(this.cacheMap.size>=this.maxNumberOfItems){const e=this.cacheMap.keys().next().value;this.delete(e)}this.cacheMap.set(e,n)}get(e){var t;return this.cacheMap.has(e)&&(t=this.cacheMap.get(e),this.cacheMap.delete(e),this.cacheMap.set(e,t)),this.cacheMap.get(e)}delete(e){this.cacheMap.delete(e)}};const s={};function a(e,t={}){if(e in s)return s[e];t=new r(t);return s[e]=t}},"3fIs":function(e,t,n){"use strict";var r=n("q1tI"),s=n.n(r),r=n("Vc5N"),a=n("h0Qv");t.a=Object(r.d)(({dls19:e})=>({container:{display:"none"},smallAndAbove:{[e.responsive.queries.smallAndAbove]:{display:"block"}},mediumAndAbove:{[e.responsive.queries.mediumAndAbove]:{display:"block"}},mediumPlusAndAbove:{[e.responsive.queries.mediumPlusAndAbove]:{display:"block"}},largeAndAbove:{[e.responsive.queries.largeAndAbove]:{display:"block"}},xlargeAndAbove:{[e.responsive.queries.xlargeAndAbove]:{display:"block"}}}))(function({breakpoint:e,children:t,css:n,styles:r}){return"compact"===Object(a.a)()&&"smallAndAbove"!==e?null:s.a.createElement("div",n(r.container,r[e]),t)})},"4/rA":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("q1tI");function s(e=!1){const[t,n]=Object(r.useState)(e);return{setFalse:Object(r.useCallback)(()=>n(!1),[]),setTrue:Object(r.useCallback)(()=>n(!0),[]),toggle:Object(r.useCallback)(()=>n(e=>!e),[]),value:t}}},"4cd8":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("w8nz");function s(e){const t=(e||{})["section_type_uid"];return(null==t?void 0:t.includes("CHINA"))||t===r.v.HOME_GROUPING_RECENTLY_VIEWED||t===r.v.HOME_GROUPING_RECENTLY_VIEWED_CHECKOUTS}},"5M3b":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var t=n("I9Za"),r=n.n(t),s=n("Ri7V");function a(){return"zh"===r.a.language()&&s.a.getBootstrap("china_prefetch_homes_pagination")}},"8jnk":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var t=n("OLV9"),r=n.n(t);function s(){const e={screen_size:r.a.is("sm")?"small":r.a.is("md")?"medium":"large"};return e.screen_width=window.innerWidth,e.screen_height=window.innerHeight,e}},"9jjl":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return u});var t=n("cVPA"),_=n.n(t),r=n("30Mm"),s=n("a0RG");const a=["#9b3143","#62564b","#734f21","#572533","#14275e","#a02f18","#585a3a","#714e33","#39576a","#531210","#341e13","#4c5629","#231341","#441a05","#a52903","#4e4126","#03150d","#584c3e"],i={FILLED:"filled",OUTLINED:"outlined"},o={LUXURY:"luxury",PLUS:"plus"};function c(e,t){switch(t){case s.c.LUXURY:return r.a.brand.luxury;case s.c.PLUS:return r.a.core.plusberry;default:return a[e%a.length||0]}}function l({listing:e,verified:t,showBedroomBathroomInfo:n=!1,showCity:r=!1,showRoomAndPropertyType:s=!1}){const{bathrooms:a,bedrooms:i,beds:o,localized_city:c,room_and_property_type:l,space_type:d}=e,u=[],{badge_secondary_text:p,enabled:h}=t||{},m=Boolean(t&&h);if(m&&p&&(u.push(p),u.push("%{dot_start}%{dot_end}")),s&&!m)return u.push(l),u.join("");t=0===o||0<o,s=n&&!m&&(0===i||0<i),n=n&&!m&&0<a;return t||s||n||m?(d&&!m&&(u.push(d),u.push("%{dot_start}%{dot_end}")),r?u.push(c):(s&&(0===i?u.push(_.a.t("china_p2_card.info.singleroom")):u.push(_.a.t("china_p2_card.info.rooms",{smart_count:i}))),n&&u.push(_.a.t("china_p2_card.info.bathrooms",{smart_count:a})),t&&(s||n?u.push(_.a.t("china_p2_card.info.beds",{smart_count:o})):u.push(_.a.t("list_your_space.bedrooms_step.beds",{smart_count:o}))))):u.push(d),u.join("")}function d(e){const t=e["messages"],n=[];return t.forEach(e=>{-1!==e.indexOf("0åºŠ")?n.push(e.replace("0åºŠ","")):n.push(e)}),Object.assign({},e,{messages:n})}function u(e){var{beds:t,kicker_content:n,wide_kicker_content:r}=e||{};return t?e:Object.assign({},e,{kicker_content:n&&d(n),wide_kicker_content:r&&d(r)})}},DI3f:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var i=n("q1tI"),o=n.n(i),r=n("+D8X"),c=n.n(r),r=n("xWc1"),l=n.n(r),s=n("fHbK");function a({children:e,direction:t,inline:n}){const{stylesInterface:r,stylesTheme:s}=Object(i.useContext)(c.a),a=Object(i.useMemo)(()=>({stylesInterface:r,stylesTheme:s,direction:t}),[t,r,s]);return o.a.createElement(l.a,{direction:t,inline:n},o.a.createElement(c.a.Provider,{value:a},e))}n.d(t,"a",function(){return s.DIRECTIONS})},NXy6:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("6aHl");function s(){const e=Object(r.b)();return e&&e.location&&e.location.pathname.includes("luxury")}},Qit3:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("q1tI"),c=n.n(r),l=n("fHbK"),s=n.n(l),d=n("Ty+R"),r=n("Vc5N"),a=n("4gyw");let u;(n=u=u||{})[n.DEFAULT=0]="DEFAULT";n={alignItemsMiddle:!(n[n.WIDE=1]="WIDE"),children:null,compensateBoxShadow:!1,padding:u.DEFAULT,disableFlex:!1};function i({css:t,children:e,direction:n,compensateBoxShadow:r,alignItemsMiddle:s,padding:a,styles:i,disableFlex:o}){n=n===l.DIRECTIONS.RTL?1e4:0;return c.a.createElement("div",t(i.wrapper),c.a.createElement(d.a,{hideHorizontalScrollbar:!0,scrollLeft:n},c.a.createElement("div",t(!o&&i.forceEqualHeight),c.a.Children.map(e,e=>e?c.a.createElement("div",t(i.item,!o&&i.forceEqualHeightChild,a===u.WIDE&&i.item__widePadding,r&&i.item__extraMargin,s&&i.alignItemsMiddle),e):null))))}i.defaultProps=n,t.b=s()(Object(r.d)(({responsive:e,unit:t})=>{var n=t*a.h;return{wrapper:{marginRight:-n,marginLeft:-n,overflowY:"hidden",overflowX:"hidden",[e.largeAndAbove]:{marginLeft:0,marginRight:0}},item:{display:"inline-block",paddingRight:.5*t,paddingLeft:.5*t,":first-child":{paddingLeft:n,[e.largeAndAbove]:{paddingLeft:0}},":last-child":{paddingRight:n,[e.largeAndAbove]:{paddingRight:0}}},item__widePadding:{paddingRight:.75*t,paddingLeft:.75*t},item__extraMargin:{paddingTop:.5*t,paddingBottom:t},forceEqualHeight:{display:"flex"},forceEqualHeightChild:{flex:1},alignItemsMiddle:{verticalAlign:"middle"}}})(i))},RPwf:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("eENn");function s(e){return!(!e||Object(r.a)(e)||e.isP1Sections||!e.explore_tabs)}},VpQe:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n("q1tI"),s=n.n(t),a=n("hOkf"),i=n("3fIs"),o=n("r3st");const c=["smallAndAbove","mediumAndAbove","mediumPlusAndAbove","largeAndAbove","xlargeAndAbove"];function r(t){const n=[];let r;return c.forEach(e=>{void 0!==t[e]&&(r?n.push(s.a.createElement(a.a,{showAt:r,hideAt:e,key:r},t[r])):n.push(s.a.createElement(o.a,{breakpoint:e,key:"xsmallAndAbove"},t.xsmallAndAbove)),r=e)}),r&&n.push(s.a.createElement(i.a,{breakpoint:r,key:r},t[r])),s.a.createElement(s.a.Fragment,null,n)}},YyhW:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return _}),n.d(t,"c",function(){return f});var p={defaultProps:{schema:"com.airbnb.jitney.event.logging.Explore:ExploreSearchEvent:1.0.0",event_name:"explore_search",page:"explore"},propTypes:{},fullyQualifiedName:"Explore.v1.ExploreSearchEvent"},h=n("g8Fj"),r=n("6J+J");function m(n){return n&&Object.keys(n).reduce((e,t)=>Object.assign({},e,{[t]:String(n[t])}),{})}function s({operation:e,didTriggerSearch:t=!1,exploreTarget:n,searchContext:r,target:s,searchFilters:a,searchFiltersAdded:i,searchFiltersRemoved:o,sectionId:c,sectionTypeUid:l,productId:d,productType:u}){h.a.logJitneyEvent({schema:p,event_data:{page:"explore",search_context:r,operation:e,explore_target:n,did_trigger_search:t,product_id:d,product_type:u,target:s,search_filter:{common_filters:m(a)},search_filter_added:{common_filters:m(i)},search_filter_removed:{common_filters:m(o)},section_id:c,section_type_uid:l}})}function a(e,t){s({operation:2,exploreTarget:4,target:t,searchContext:e})}function i(e,t){s({operation:2,exploreTarget:3,target:t,searchContext:e})}const o=Object.freeze({[r.a]:i,[r.f]:a,guest_bar:a});function c(){}function l({searchContext:t,filterId:e,updateObj:n}){const r=o[e]||c;Object.keys(n||{}).map(e=>r(t,e))}function d(e){s({operation:2,exploreTarget:9,target:"show_map",searchContext:e})}function u(e,t,n){s({operation:2,exploreTarget:9,target:"redo_search",searchContext:e,didTriggerSearch:!0,searchFilters:t,searchFiltersAdded:Object(r.B)(t,n),searchFiltersRemoved:Object(r.F)(t,n)})}function _(e){s({operation:2,exploreTarget:9,target:"close",searchContext:e})}function f(e){s({operation:10,exploreTarget:18,searchContext:e})}},ZFTB:function(e,t,n){"use strict";var r=n("Vc5N"),s=n("/OlG"),a=n("dQ8x"),i=n("/sth"),o=n("kI+3"),n=n("Zv6G"),n=Object(s.a)(a.b,i.a,o.a,n.a);t.a=Object(r.d)(n)(a.a)},bW8z:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});const r="/v2/explore_tabs",s="P2/Explore",a=["last_search_session_id","federated_search_session_id","s_tag","from_prefetch"],i={maxNumberOfItems:17},o=5e3},hFVO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var t=n("I9Za"),r=n.n(t),s=n("PuV7"),a=n("Ri7V");function i(){return!!a.a.getBootstrap("china_p2_default_open_map_force_in")||"zh"===r.a.language()&&!!a.a.getBootstrap("china_p2_default_open_map")&&s.a.deliverExperiment("china_p2_default_open_map",{treatment:()=>!0,control:()=>!1,treatment_unknown:()=>!1})}},hOkf:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var t=n("q1tI"),r=n.n(t),s=n("3fIs"),a=n("r3st");function i({showAt:e,hideAt:t,children:n}){return r.a.createElement(s.a,{breakpoint:e},r.a.createElement(a.a,{breakpoint:t},n))}},ijcl:function(e,t,n){"use strict";class r extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class a{static fn(s){return(...r)=>new a((e,t,n)=>{r.push(n),s(...r).then(e,t)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,n)=>{this._reject=n;const r=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(r,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e(e=>{this._isCanceled&&r.shouldReject||(this._isPending=!1,t(e))},e=>{this._isPending=!1,n(e)},r)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,0<this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new r(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(a.prototype,Promise.prototype),e.exports=a,e.exports.CancelError=r},jnJK:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var t=n("q1tI"),r=n.n(t),s=n("BsrZ");const a=Object(s.c)(()=>{return(e=new Promise(function(t){Promise.all([window._phrasesManifest._getPhrases(["fc23"],"cVPA","58dW",n),n.e("fc23")]).then(function(e){t(babelHelpers.interopRequireWildcard(n("p0hY")))}.bind(null,n)).catch(n.oe)})).chunkName="FooterToggle",e;var e});function i(e){return r.a.createElement(s.b,Object.assign({loader:a,renderPlaceholder:s.d},e))}},"k0/h":function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r="api_v2_explore_tabs"},nbJO:function(e,t,n){"use strict";var r=n("fHbK"),n=n.n(r);t.a=n()(function({children:e,direction:t}){return e(t===r.DIRECTIONS.RTL)})},r3st:function(e,t,n){"use strict";var r=n("q1tI"),s=n.n(r),r=n("Vc5N"),a=n("h0Qv");t.a=Object(r.d)(({dls19:e})=>({smallAndAbove:{[e.responsive.queries.smallAndAbove]:{display:"none"}},mediumAndAbove:{[e.responsive.queries.mediumAndAbove]:{display:"none"}},mediumPlusAndAbove:{[e.responsive.queries.mediumPlusAndAbove]:{display:"none"}},largeAndAbove:{[e.responsive.queries.largeAndAbove]:{display:"none"}},xlargeAndAbove:{[e.responsive.queries.xlargeAndAbove]:{display:"none"}}}))(function({breakpoint:e,children:t,css:n,styles:r}){return"wide"===Object(a.a)()&&["smallAndAbove","mediumAndAbove"].includes(e)?null:s.a.createElement("div",n(r[e]),t)})},sbcA:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),k=n.n(o),r=n("fArA"),s=n("ZesN"),a=n("t9z+"),R=n("w8nz"),c=n("P0j4"),l=n("ZzhY"),d=n("Lci3"),u=n("9D2L"),p=n("li9v"),h=n("1gdf"),m=n("YCTf"),_=n("hwQJ"),f=n("1oMv"),b=n("hQHc"),i=n("WsJm"),g=n("3AED"),I=n("Vc5N"),v=n("2Ih9"),S=n("px4C"),E=n("qBR9"),O=n("HnpV"),x=n("6J+J"),A=n("rQBq"),C=n("bss5");function y(l){const s=Object(o.useRef)(0),{css:e,breakpoints:t,destinations:n,onCarouselScroll:r,openInNewWindow:d,responseFilters:u}=l,a=n.map(({canonical_url:e,image:t,kicker_text:n,search_params:r,title:s},a)=>{var i,o,c=Object(x.w)(r,u),c=e||Object(O.d)({responseFilters:u,stagedFilters:c,searchType:C.c.SECTION_NAVIGATION});return k.a.createElement(v.a,{href:c,title:s,kickerText:n,imageUrl:t.picture,key:s,onPress:(i=a,o=r,()=>{const{responseFilters:e,onPress:t}=l,n=Object(x.w)(o,e);t({logger:A.j,stagedFilters:n,itemIndex:i})}),openInNewWindow:d,previewEncodedPNG:(t||{}).preview_encoded_png,searchParams:r})});if(!t[g.b])return k.a.createElement(E.a,{numColumns:2},a);let i=4;return t[g.a]&&(i=5),k.a.createElement("div",e({marginTop:8,marginBottom:12}),k.a.createElement(S.a,{enableFloatingButton:!0,onCarouselScroll:r,numColumns:i,impressionLoggingCallback:e=>{const t=l["setItemStats"],n=(e||[]).map(e=>e.index),r=Math.max(...n,s.current);s.current!==r&&t&&t({maxItemIndex:r}),s.current=r}},a))}y.defaultProps={onCarouselScroll(){},onPress(){},openInNewWindow:!1,responseFilters:{},setItemStats(){}};var T=Object(r.compose)(Object(I.d)(),i.a)(y),j=n("wUZ3");function P(i){var e=i["section"];switch(e.result_type){case R.u.ENTRY_CARDS:return Object(c.a)(i);case R.u.EXPERIENCES:return Object(a.a)(i);case R.u.INSERTS:return Object(l.a)(i);case R.u.RECENTLY_VIEWED_LISTINGS:return Object(d.a)(i);case R.u.REFINEMENTS:return e.section_type_uid===R.v.CHINA_CITY_SUGGESTION?function(){const{onCarouselScroll:e,section:t,openItemInNewWindow:n,onPress:r,setItemStats:s}=i,a=t.refinements.map(e=>({search_params:e.search_params,title:e.title,image:e.image,display_name:e.title,kicker_text:e.subtitle}));return k.a.createElement(T,{destinations:a,onCarouselScroll:e,openInNewWindow:n,onPress:r,setItemStats:s})}():Object(u.a)(i);case R.u.STORIES:return Object(p.a)(i);case R.u.CHINA_HOT_DESTINATIONS:return Object(h.a)(i);case R.u.CHINA_HOST_PROMOTION:return Object(m.a)(i);case R.u.CHINA_POPULAR_SUMMER_DESTINATIONS:return Object(_.a)(i);case R.u.CHINA_TRUST_AND_SAFETY_EDUCATION:return Object(f.a)(i);case R.u.EDUCATON_BANNER:return Object(b.a)(i);case R.u.LISTINGS:return Object(j.a)(i);default:return null}}var w=n("X3aX"),F=n.n(w),N=n("I9Za"),M=n.n(N),L=n("3qZH"),W=n("YA1u"),D=n("mak+"),H=n("JG/b"),B=n("KUSo"),U=n("7jyO"),G=n("EdYE"),q=n("DzJC"),V=n.n(q),Y=n("DE9g"),i=n("nBiR"),z=n("YyhW"),w=Object.assign({},i.f);class J extends k.a.Component{constructor(e){super(e),this.loggedFirstScroll=void 0,this.loggedFirstScroll=!1,this.handleScroll=V()(this.handleScroll.bind(this),300)}handleScroll(){!this.loggedFirstScroll&&10<window.scrollY&&(this.loggedFirstScroll=!0,Object(z.c)(this.props.searchContext))}render(){return k.a.createElement(Y.a,{target:"window",type:"scroll",onEvent:this.handleScroll,passive:!0})}}J.defaultProps=w;var X=Object(i.a)(J),Z=n("+6xy"),$=n("PGlZ"),N=n("i6ap"),Q=n("4PRr"),K=n("ANar"),ee=n("K/Jt"),q=n("7CWy"),te=n("S//p"),ne=n("qM3i"),re=n("q1Ma");class se extends o.Component{render(){const{brand:e,currentTab:t,fixedWidthContentPanel:n,fullWidth:r,hasNextPage:s,onBlur:a,onCarouselScroll:i,onInsertCTAClick:o,onPress:c,onShowAllPress:l,openItemInNewWindow:d,passElementWhenReadyForFocus:u,postAirbnbInteractive:p,responseFilters:h,sTag:m,section:_,sectionContentProvider:f,setItemStats:b,showMap:g,showSaveCheckBoxes:I,showSideFilterPanel:v,showWishlistButton:S,sideFilterXLMapVisible:E,source:O,trackingParams:x,urlSlug:A,uiActions:C}=this.props,y=f({brand:e,currentTab:t,fixedWidthContentPanel:n,fullWidth:r,hasNextPage:s,onBlur:a,onCarouselScroll:i,onInsertCTAClick:o,onPress:c,onShowAllPress:l,openItemInNewWindow:d,passElementWhenReadyForFocus:u,postAirbnbInteractive:p,responseFilters:h,sTag:m,section:_,setItemStats:b,showMap:g,showSaveCheckBoxes:I,showSideFilterPanel:v,showWishlistButton:S,sideFilterXLMapVisible:E,source:O,trackingParams:x,urlSlug:A,uiActions:C});return y||(Object(K.a)("explore_web_unknown_section_type",1,`current_tab:${t},section_type:${_.result_type}`),k.a.createElement("div",null))}}var ae=se,ie=n("sEH+"),oe=n("D7ix"),ce=n("Ywic"),le=n("E0mJ"),de=n("cZrc"),w=n("50Or"),ue=n("sfZj"),pe=n("OfY+"),he=n("+ZRA"),me=n("4cd8");function _e(e){Object(K.a)("explore_section_not_focused",1,["section_uid:"+e.section_type_uid,"result_type:"+e.result_type,"bankai_id:"+e.bankai_section_id])}function fe(){}const be={allowSectionSubtitleOnly:!1,brand:N.b,currentTab:null,customFooter:null,customHeader:null,fixedWidthContentPanel:!1,fullWidth:!1,hasNextPage:!1,hideFooters:!1,onCarouselScroll(){},onPress(){},onShowAllPress(){},openItemInNewWindow:!1,postAirbnbInteractive:!0,responseFilters:{},sectionOffset:void 0,showMap:!1,showSaveCheckBoxes:!1,showWishlistButton:!1,sideFilterXLMapVisible:!1,source:"p2",sTag:"",trackingParams:{searchContext:i.b},urlSlug:null,uiActions:{isGuidebookTranslated:!1,setGuidebookTranslation(){}}},ge=new Set([R.u.LIST_HEADERS,R.u.EXPERIENCE_IMMERSIVE_CATEGORY_HEADER]);class Ie extends k.a.Component{constructor(...e){super(...e),this.state={numCardsShown:null,maxItemIndex:-1},this.triggeredFocus=!1,this.onHeaderSeeAllClick=()=>{var{currentTab:e,responseFilters:t,section:n}=this.props,r=this.getSearchContextWithSectionAttributes();this.handleImportantSeeAllPressed(),Object(ue.a)(e,t,n,r)},this.setItemStats=({numCardsShown:e,maxItemIndex:t}={})=>{if(this.state.numCardsShown!==e&&this.setState({numCardsShown:e}),null!=t&&Number.isInteger(t)&&t>this.state.maxItemIndex){for(let e=this.state.maxItemIndex+1;e<=t;e++)this.logImportantSectionImpression(e);this.setState({maxItemIndex:t})}},this.handleInsertCTAPress=(e={})=>{var t,{itemIndex:n,stagedFilters:r}=e,{responseFilters:s,section:e}=this.props;Object(A.n)({searchContext:this.getSearchContextWithSectionAttributes(),variant:null==e||null===(t=e.display_configuration)||void 0===t?void 0:t.variant,responseFilters:s,stagedFilters:r,itemIndex:n})},this.handleImportantCarouselScroll=e=>{const{currentTab:t,responseFilters:n,section:r,sectionOffset:s,onCarouselScroll:a}=this.props,{title:i,section_name:o}=r,c=this.getSearchContextWithSectionAttributes();Object(A.bb)(c),Object(oe.a)({carouselTitle:i,currentTab:t,responseFilters:n,scrollDirection:e,searchContext:c,sectionName:o,sectionOffset:s,size:Object(de.a)(r)&&Object(de.a)(r).length||0}),a(e)},this.handleImportantSeeAllPressed=({tabbedSeeAllInfo:e}={})=>{const{onShowAllPress:t,responseFilters:n,section:{see_all_info:r}}=this.props,s=e||r||{},a=this.getSearchContextWithSectionAttributes(),i=s.search_params||{},o=Object(x.w)(i,n);Object(he.c)({searchContext:a,responseFilters:n,stagedFilters:o,exploreOperationTarget:null==s?void 0:s.title}),t()},this.handleImportantItemBlur=(e={})=>{var{productId:t,tripTemplateItemType:n}=e,r=babelHelpers.objectWithoutPropertiesLoose(e,["productId","tripTemplateItemType"]),{section:{isMock:s,result_type:a}}=this.props,e=this.getSearchContextWithSectionAttributes(),n=Object(le.a)({resultType:a,tripTemplateItemType:n});t&&n&&!s&&Object(A.cb)(t,n,e,r)},this.handleImportantItemPress=(e={})=>{const{onPress:t,responseFilters:n,section:r}=this.props,{itemIndex:s,logger:a,stagedFilters:i={},tripTemplateItemType:o,productId:c,exploreElement:l,exploreOperationTarget:d}=e,u=this.getSearchContextWithSectionAttributes();Object(he.b)({itemIndex:s,responseFilters:n,stagedFilters:i,searchContext:u,exploreElement:l,exploreOperationTarget:String(d),section:r,productId:c,tripTemplateItemType:o,logger:a}),t(e)},this.logImportantSectionImpression=e=>{var{currentTab:t,responseFilters:n,section:r}=this.props,{backend_search_id:s,display_type:a,isMock:i}=r,o=this.getSearchContextWithSectionAttributes();i||(Number.isInteger(e)||a!==R.d.CAROUSEL&&a!==R.d.TABBED_GRID||!Object(me.a)(r))&&(r={backend_search_id:s,hasCTA:Object(U.a)(r,"inserts[0].cta_text")?"1":"0"},Object(he.a)({searchContext:o,responseFilters:n,currentTab:t,info:r,maxItemIndex:e}))},this.handleFirstElementFocus=e=>{e&&this.props.shouldSetFocus&&!this.triggeredFocus&&setTimeout(()=>{e&&document.body.contains(e)&&(Object(Q.a)(e),this.triggeredFocus=!0)},1)}}componentDidUpdate({section:e,shouldSetFocus:t}){var n=this.props["section"];e&&n&&e.section_id!==n.section_id&&(t&&!this.triggeredFocus&&_e(e),this.triggeredFocus=!1)}componentWillUnmount(){this.props.shouldSetFocus&&!this.triggeredFocus&&_e(this.props.section)}getSearchContextWithSectionAttributes(){var{section:{section_id:e,section_type_uid:t,bankai_section_id:n},trackingParams:{searchContext:r}}=this.props;return Object.assign({},r,{section_id:e,section_type_uid:t,bankai_section_id:n})}shouldShowSeeAll(){var e=this.props["section"],t=this.state["numCardsShown"];if(!Object(ne.a)(e))return!1;if(e.result_type===R.u.LANDING_PAGE_MARQUEE)return!1;var n=null==e||null===(n=e.see_all_info)||void 0===n?void 0:n.total_count,r=!!Object(ne.b)(e)&&!(null==e||null===(r=e.see_all_info)||void 0===r||!r.cta_url);return null==t||null==n||t<n||r}hasClickableTitle(){var e,t=this.props["section"];return!(null==t||null===(e=t.see_all_info)||void 0===e||!e.section_title_clickable)}render(){var{allowSectionSubtitleOnly:e,brand:t,currentTab:n,customFooter:r,customHeader:s,fixedWidthContentPanel:a,fullWidth:i,hasNextPage:o,hideFooters:c,openItemInNewWindow:l,postAirbnbInteractive:d,responseFilters:u,section:p,sectionContentProvider:h,showMap:m,showSaveCheckBoxes:_,showSideFilterPanel:f,showWishlistButton:b,sideFilterXLMapVisible:g,source:I,sTag:v,trackingParams:S,urlSlug:E,uiActions:O}=this.props;if(!Object(de.c)(p)||p.result_type===R.u.EXPERIMENT_DUMMY)return null;var x=p.result_type===R.u.THEMED_LIST||p.result_type===R.u.GUIDEBOOK_HEADER,A=p.result_type===R.u.REFINEMENTS,C=p.result_type===R.u.LANDING_PAGE_MARQUEE,y=p.result_type===R.u.SPOTLIGHT_EXPERIENCES,T=p.display_type===R.d.IMMERSIVE_CAROUSEL||p.result_type===R.u.IMMERSIVE_EXPERIENCES_GROUPINGS,j=(!!p.title||e)&&!T&&!x&&!C,P=p.section_type_uid===R.v.LUXURY_PROMOTION_HOMES,w=p.result_type===R.u.CHINA_BILLBOARD,F=this.shouldShowSeeAll(),N=F&&this.hasClickableTitle(),e=T||P||x||C||y||w?null:s||(p.title||p.subtitle?k.a.createElement("div",{ref:N?this.handleFirstElementFocus:fe},k.a.createElement(re.a,{title:p.title,subtitle:p.subtitle,titleBadgeURL:p.title_badge,halfWidthLargeAndAbove:!f&&!m&&!e,hasSeeAll:N,allowSectionSubtitleOnly:!0,onShowAllPressed:this.onHeaderSeeAllClick})):ge.has(p.result_type)?null:k.a.createElement(B.a,{top:3},k.a.createElement("div",null)));return k.a.createElement(te.a,{verticalSpacing:j,reducedSpacing:A,beyondFullWidth:p.result_type===R.u.INSERTS},e,k.a.createElement($.a,{onChange:e=>e&&this.logImportantSectionImpression(),triggerOnce:!0},k.a.createElement(ae,{brand:t,currentTab:n,fixedWidthContentPanel:a,passElementWhenReadyForFocus:N?fe:this.handleFirstElementFocus,fullWidth:i,hasNextPage:o,urlSlug:E,onInsertCTAClick:this.handleInsertCTAPress,onBlur:this.handleImportantItemBlur,onCarouselScroll:this.handleImportantCarouselScroll,onPress:this.handleImportantItemPress,onShowAllPress:this.handleImportantSeeAllPressed,openItemInNewWindow:l,postAirbnbInteractive:d,responseFilters:u,sTag:v,section:p,sectionContentProvider:h,setItemStats:this.setItemStats,showMap:m,showSaveCheckBoxes:_,showSideFilterPanel:f,showWishlistButton:b,sideFilterXLMapVisible:g,source:I,trackingParams:S,uiActions:O})),!c&&(r||!(P||y)&&F&&k.a.createElement(ie.a,{brand:t,currentTab:n,searchContext:this.getSearchContextWithSectionAttributes(),section:p,onShowAllPressed:this.handleImportantSeeAllPressed})))}}Ie.defaultProps=be;var ve=Object(q.a)(Ie,Object(s.a)(function(e){return{showSideFilterPanel:Object(pe.H)(e)||!1}}),Object(w.a)({shouldReset:({section:e},{section:t})=>!Object(ee.a)(e,t),logError({error:e,info:t,props:{section:n,trackingParams:r}}){Object(ce.b)(n,{boundaryLocation:ce.a.SECTION_CONTAINER,error:e,info:t,searchContext:r.searchContext,tags:["explore_deprecated"]})},getAdditionalFields:e=>e.section?{tags:{react_error_boundary_name:"frontend:explore:ExploreSectionDeprecated"},extra:{exploreSectionTypeUid:e.section.section_type_uid}}:{}})),Se=n("ATpx"),Ee=n("joRx"),Oe=n("hpu4"),xe=n("8jnk"),Ae=Object(I.d)(({color:e,unit:t})=>({header:{color:e.dark.rausch,paddingTop:t,paddingBottom:t,fontSize:2*t,fontFamily:"Menlo, Monaco, monospace"}}))(({error_backtrace:e,error_message:t,styles:n})=>k.a.createElement("div",null,k.a.createElement("div",Object(I.c)(n.header),t),k.a.createElement("pre",null,e.join("\n")))),Ce=n("jnJK"),w=n("QD4+"),ye=n("GlcG"),n={apiResponse:null,tab:w.g.ALL,fullWidth:!1,fetchP1Success(){},updateCalendarMetadata(){},hideFooterToggleBeforeScroll:null,hideFooterToggle:!1,isPage0:!1},w={fetchP1Success:G.e,updateCalendarMetadata:G.h};function Te(e){let t,n,r=[],s=!1,a=0;var i;return e.explore_tabs&&e.explore_tabs[0]&&(i=e.explore_tabs[0],r=i.sections,i.pagination_metadata&&(s=i.pagination_metadata.has_next_page,a=i.pagination_metadata.section_offset),i.empty_state_metadata&&(t=i.empty_state_metadata.description,n=i.empty_state_metadata.cta)),{sections:r,hasNextPage:s,sectionOffset:a,errorDescription:t,errorCTA:n,partialExploreTabMetadata:e.metadata||{}}}class je extends k.a.Component{constructor(e,t){super(e,t),this.prefetchedSectionCount=void 0,this.sectionOffset=void 0,this.sectionOffset=0,this.prefetchedSectionCount=0,this.fetchSections=this.fetchSections.bind(this),this.state={searchId:"",federatedSearchId:"",fetchError:null,sections:[],hasNextPage:!0,isLoading:!0,devErrorDebugInfo:null,currentRefinementPaths:[]}}UNSAFE_componentWillMount(){var e=this.props["apiResponse"];e&&(e=Te(e),this.prefetchedSectionCount=e.sections.length,this.setState(this.updateSectionsAndGetNewState(e)))}componentDidMount(){var e=this.props["apiResponse"],t=this.state["hasNextPage"];e&&Object(A.mb)({triggeredSearchId:Object(U.a)(e,"metadata.federated_search_id")}),t&&this.fetchSections().then(e=>{Object(A.mb)({triggeredSearchId:Object(U.a)(e,"response.metadata.federated_search_id"),error:e.error})})}fetchData(){const{tab:e,isPage0:t}=this.props,n=this.state["federatedSearchSessionId"],r=Object.assign({tab_id:e,section_offset:this.sectionOffset,federated_search_session_id:n},Object(xe.a)());return"zh"===M.a.locale()&&(r.section_limit=4),t&&(r.source="p0_landing",r.is_from_p0=!0),Z.a.getP1(r,{need_cache:r.section_offset===this.prefetchedSectionCount})}fetchSections(){var{isLoading:e,fetchError:t}=this.state;return 0<this.sectionOffset&&!e&&this.setState({isLoading:!0}),t&&this.setState({fetchError:null}),this.fetchData().then(e=>(this.setState(this.updateSectionsAndGetNewState(Te(e)),O.m),Promise.resolve({response:e})),e=>(this.setState({devErrorDebugInfo:null,fetchError:e,isLoading:!1}),Promise.resolve({error:e})))}updateSectionsAndGetNewState(e){var{sections:t,hasNextPage:n,sectionOffset:r,errorDescription:s,errorCTA:a,partialExploreTabMetadata:e}=e;this.sectionOffset?e.calendar_metadata&&this.props.updateCalendarMetadata(e.calendar_metadata):this.props.fetchP1Success({response:{metadata:e,isP1Sections:!0}}),r&&(this.sectionOffset=r);let i=this.state.sections.concat(t);return"zh"===M.a.language()&&"CN"===M.a.country()&&"undefined"!==window.location&&"/"===window.location.pathname&&(i=i.filter((t,e)=>e===i.findIndex(e=>t.bankai_section_id===e.bankai_section_id&&t.result_type===e.result_type&&t.title===e.title&&t.section_type_uid===e.section_type_uid))),{federatedSearchId:e.federated_search_id,federatedSearchSessionId:e.federated_search_session_id,sections:i,searchId:e.search_id,hasNextPage:n,isLoading:n,errorDescription:s,errorCTA:a,currentRefinementPaths:null==e?void 0:e.current_refinement_paths}}render(){const{federatedSearchId:n,federatedSearchSessionId:r,fetchError:e,sections:s,searchId:a,hasNextPage:i,isLoading:t,devErrorDebugInfo:o,errorDescription:c,errorCTA:l,currentRefinementPaths:d}=this.state,{sectionContentProvider:u,fullWidth:p,tab:h,hideFooterToggleBeforeScroll:m,hideFooterToggle:_}=this.props;return k.a.createElement("div",null,k.a.createElement(X,null),!_&&k.a.createElement(Ce.a,{hideFooterToggleBeforeScroll:m}),k.a.createElement(Oe.a,{savingFrom:Ee.a.P1_FOR_YOU}),!s.length&&c&&k.a.createElement(B.a,{vertical:2},k.a.createElement(D.c,{level:2,noHeading:!0},c),k.a.createElement(L.a,{small:!0},l)),k.a.createElement("div",{itemProp:"itemList",itemScope:!0,itemType:"http://schema.org/ItemList"},s.map((e,t)=>k.a.createElement("div",{key:`${e.result_type}_${t}`},k.a.createElement(ve,{fullWidth:p,section:e,sectionContentProvider:u,currentTab:h,source:"p1",trackingParams:{pdpReferrer:1,searchContext:Object.assign({search_id:a||"",mobile_search_session_id:"",federated_search_id:n||"",federated_search_session_id:r||"",section_id:e.section_id,section_type_uid:e.section_type_uid},Object(ye.a)({refinement_paths:d}))},responseFilters:{refinement_paths:d}}),i&&s.length>this.prefetchedSectionCount&&(s.length<2||t===s.length-2)&&k.a.createElement(Se.a,{onEnter:this.fetchSections,uniqueId:`page${this.sectionOffset}-${n}`})))),e&&k.a.createElement(B.a,{top:2},k.a.createElement(W.a,{danger:!0,withIcon:!0,title:Object(U.a)(e,"responseJSON.error_message")||k.a.createElement(F.a,{k:"generic_error"})})),t&&k.a.createElement("div",{style:{position:"relative",height:100}},k.a.createElement(H.a,{large:!0})),k.a.createElement(B.a,{top:15},k.a.createElement("div",null)),o&&k.a.createElement(Ae,o))}}je.defaultProps=n;var Pe=Object(s.a)(null,w)(je);t.default=Object(s.a)(void 0,e=>Object(r.bindActionCreators)({clearFiltersAndResponse:G.a},e))(function(e){let t=e["clearFiltersAndResponse"],n=babelHelpers.objectWithoutPropertiesLoose(e,["clearFiltersAndResponse"]);return t(),k.a.createElement(Pe,Object.assign({},n,{sectionContentProvider:P}))})},uuk6:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n("I9Za"),d=n.n(t),t=n("cVPA"),u=n.n(t),s=n("g8Fj"),p=n("PuV7"),h=n("ANar");function r(e,t,n,r={}){Object(h.a)("mario.deliver_param.js.attempt",1,"mario_group:"+t);try{return function(e,t,n,r={}){(!e||Object.keys(e).includes("schema_verion")&&Object.keys(e).includes("parameters")&&Object.keys(e).includes("strategies"))&&Object(h.a)("mario.deliver_param.js.missing_bootstrap",1,"mario_group:"+t);var s=e.strategies[n],a=d.a.language();let i,o,c;if("erf"===(i=Object.keys(s).includes(a)?s[a]:s.default).delivery_type){const l=i.setup,t=Object.keys(i).reduce((e,t)=>{const n={};return"setup"!==t&&"delivery_type"!==t&&(n[t]=()=>t),Object.assign({},e,n)},{});o=i[p.a.deliverExperiment(l,t)],c=!1}else o=i.static,c=!0;e=e.parameters[n];if("translation"===e.type){const l=e.values[o];if("multi_language"===l.type){let e;return e=c?`${t}.${n}`:`${t}.${n}.${o}`,u.a.t(e,r)}if("single_language"===l.type){let n=l.literal;return Object.entries(r).forEach(([e,t])=>{n=n.replace(`%{${e}}`,t)}),n}}else{if("string"===e.type)return e.values[o];if("scalar"===e.type)return e.values[o];Object(h.a)("mario.deliver_param.js.unknown_param_type",1,"mario_group:"+t)}return""}(e,t,n,r)}catch(e){return s.a.logEvent({event_name:"mario.deliver_param.js.error",event_data:{group:t,param:n,error:e},datadog_key:"mario.deliver_param.js.error",datadog_count:1,datadog_tags:["mario_group:"+t]}),""}}},"x/kb":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var t=n("cVPA"),r=n.n(t);function s(e,t){var n=`legacy_mario.${e}.${t}`;if(r.a.has(n))return n;t=`${e}.${t}`;return r.a.has(t)?t:null}},xoSD:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i});var r=n("LNDz");function s({id:e}){return{type:r.a,payload:{id:e}}}const a=e=>s({id:e}),i=()=>s({id:null})}}]);

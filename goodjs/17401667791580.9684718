!function(){function t(){this.eventHandlers={}}t.prototype.getOS=function(){var t=navigator.platform,e="";return e=t?-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"Mac":-1!==["iPhone","iPad","iPod"].indexOf(t)?"IOS":-1!==["Win32","Win64","Win16","Windows","WinCE"].indexOf(t)?"Windows":/Linux/.test(t)||/Android/.test(t)?"Linux":e||"OtherOS":e},t.prototype.isDesktop=function(){return-1===navigator.userAgent.indexOf("Mobi")},t.prototype.outputToConsole=function(t,e){(embedded_svc.settings&&embedded_svc.settings.devMode||embedded_svc.menu&&embedded_svc.menu.settings.devMode)&&console&&console[t]&&console[t]("[Embedded-Service] "+(Array.isArray(e)?e.join(", "):e))},t.prototype.log=function(){this.outputToConsole("log",[].slice.apply(arguments))},t.prototype.error=function(t){t?this.outputToConsole("error",t):this.outputToConsole("error","unspecified error.")},t.prototype.warning=function(t){t?this.outputToConsole("warn","Warning: "+t):this.outputToConsole("warn","anonymous warning.")},t.prototype.deprecated=function(t,e){this.warning(t+" is deprecated in version "+Number(e).toFixed(1)+" and will be removed in version "+(Number(e)+1).toFixed(1))},t.prototype.isOrganizationId=function(t){return"00D"===this.getKeyPrefix(t)},t.prototype.getKeyPrefix=function(t){if(this.isValidEntityId(t))return t.substr(0,3)},t.prototype.isValidEntityId=function(t){return"string"==typeof t&&(18===t.length||15===t.length)},t.prototype.addEventHandler=function(t,e){t=t.toLowerCase(),this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(e)},t.prototype.fireEvent=function(t,e,o){t=this.eventHandlers[t.toLowerCase()];var n=[],r=o;return!o||o instanceof Array||(r=[o]),t&&t.forEach(function(t){n.push(t.apply(void 0,r))}),!e||e(n)},t.prototype.isCommunityOrSite=function(){return window.$A&&"function"==typeof window.$A.get&&window.$A.get("$Site")},t.prototype.loadScriptFromUrl=function(t,e,o){var n=document.createElement("script");n.type="text/javascript",e&&(n.onload=e),o&&(n.onerror=o),n.src=t,document.body.appendChild(n)},t.prototype.generateResourceUrl=function(t,e){return t+"/resource/"+e},t.prototype.isMatchingCustomizationFound=function(t,e){var o=!1;return t.customizations&&Array.isArray(t.customizations)&&e&&"string"==typeof e&&((o=t.customizations.some(function(t){return!(!t||!t.hasOwnProperty("name"))&&t.name===e}))||embedded_svc.utils.log("No customizations with code settings name "+e+" found.")),o},t.prototype.processCustomizations=function(e,t,o){(t=0<(t=t.customizations.filter(function(t){return t.name===e})).length?t[0]:null)&&t.hasOwnProperty("resources")&&Array.isArray(t.resources)&&0<t.resources.length&&t.resources.forEach(function(t){t&&t.hasOwnProperty("type")&&t.type&&o.hasOwnProperty(t.type)&&"function"==typeof o[t.type]&&(0,o[t.type])(t)})},t.prototype.getSiteEndpointUrl=function(t){return t.siteUrl||null},window.embedded_svc.utils=new t}();

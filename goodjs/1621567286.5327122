(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([["accountSecurity"],{"073c9a":function(e,t,r){},135077:function(e,t,r){"use strict";var i=r("239d7f");t.default={accountSecurity:i.default}},"1a22b7":function(e,t,r){e.exports=r("999443")("8af19")},"1b5282":function(e,t,r){"use strict";var i,c,n,o,u,a,s,l=r("3cc75c"),f=r("1a22b7"),p=r.n(f),y=r("447d8e"),d=r("7ca7dc"),m=r("eb3e22"),h=r("db47a7"),b=r("3b6ec9"),_=r.n(b),S=r("f4cb41"),v=r("53fbb7"),A=r("ffe624"),N=r("9bbf9a"),g=r("7246cd"),E=(r("073c9a"),"/shark/live/src/pages/roomPage/accountSecurityModule/components/AccountSecurity/AccountSecurity.js");function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,c){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),c&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(c):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var O=d.default.Service,w=l.default.Option,T=(i=O(S.default),c=O(m.DataCenter.common),n=O(m.DataCenter.event),o=function(e){function AccountSecurity(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccountSecurity);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return _initDefineProp(t,"accountSecurityServices",u,t),_initDefineProp(t,"common",a,t),_initDefineProp(t,"event",s,t),t.onValueChange=function(e){var r=t.props.time;t.setState({value:e}),r||(t.accountSecurityServices.clearSmsTimer({clear:!1}),t.setState({type:e}))},t.state={value:"phone",type:"phone",left:"40%",top:"30%"},t.x=0,t.y=0,t.dragDrop=!1,t.modal=p.a.createRef(),t.handleClose=t.handleClose.bind(t),t}return _inherits(AccountSecurity,e),AccountSecurity.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("securityData").subscribe(function(t){e.accountSecurityServices.getVerifyInfo(t)})},AccountSecurity.prototype.componentDidUpdate=function componentDidUpdate(e){var t=this.props,r=t.verifyInfo,i=t.isShow;!e.isShow&&i&&(1!==r.validate_type&&2!==r.validate_type||this.accountSecurityServices.geeInit(r.validate_str||{})),e.isShow&&!i&&(this.setState({value:"phone",type:"phone"}),this.accountSecurityServices.showTime({time:!1}))},AccountSecurity.prototype.mouseUp=function mouseUp(){this.dragDrop=!1,document.onmousemove=null,document.onmuseup=null},AccountSecurity.prototype.mouseDown=function mouseDown(e){this.dragDrop=!0,this.x=e.pageX,this.y=e.pageY,document.onmousemove=this.mouseMove.bind(this),document.onmouseup=this.mouseUp.bind(this)},AccountSecurity.prototype.mouseMove=function mouseMove(e){if(this.dragDrop){var t=this.modal.current,r=e.pageX-this.x,i=e.pageY-this.y;this.x=e.pageX,this.y=e.pageY;var c=t.offsetLeft+r,n=t.offsetTop+i;t.offsetLeft+t.offsetWidth+r>=document.documentElement.clientWidth||c<=0||t.offsetTop+t.offsetHeight+i>=document.documentElement.clientHeight||n<=0||this.updateModalPositon(c+"px",n+"px")}},AccountSecurity.prototype.updateModalPositon=function updateModalPositon(e,t){this.setState({left:e,top:t})},AccountSecurity.prototype.getStyles=function getStyles(){var e={position:"fixed"};return e.left=this.state.left?this.state.left:"40%",e.top=this.state.top?this.state.top:"30%",e},AccountSecurity.prototype.handleClose=function handleClose(){this.accountSecurityServices.showQA({showQA:!1}),this.accountSecurityServices.hideAccountSecurity(),this.setState({left:"40%",top:"30%"})},AccountSecurity.prototype.getContentType=function getContentType(){var e=this.props.verifyInfo,t=this.state.value,r=void 0;switch(e.validate_type||1){case 1:r="\u6781\u9a8c\u9a8c\u8bc1";break;case 2:r=e.email?p.a.createElement("div",{className:"AccountSecurity-select",__source:{fileName:E,lineNumber:162},__self:this},p.a.createElement(l.default,{className:"AccountSecurity-option",value:t,onChange:this.onValueChange,__source:{fileName:E,lineNumber:163},__self:this},p.a.createElement(w,{value:"phone",className:"AccountSecurity-item",__source:{fileName:E,lineNumber:164},__self:this},"\u624b\u673a\u9a8c\u8bc1\uff08",e.phone||"","\uff09"),p.a.createElement(w,{value:"mail",className:"AccountSecurity-item",__source:{fileName:E,lineNumber:165},__self:this},"\u90ae\u7bb1\u9a8c\u8bc1\uff08",e.email||"","\uff09"))):"\u624b\u673a\u9a8c\u8bc1\uff08"+e.phone+"\uff09";break;case 3:r="\u624b\u673a\u9a8c\u8bc1\uff08"+e.phone+"\uff09"}return r},AccountSecurity.prototype.renderContent=function renderContent(){var e=this.props,t=e.verifyInfo,r=e.resource,i=this.state,c=i.type,n=i.value,o={resouce:r},u=void 0;switch(t.validate_type||1){case 1:u=p.a.createElement(v.default,{__source:{fileName:E,lineNumber:194},__self:this}),Object(h.dysub)("show_id_verify_geetest",o);break;case 2:u=p.a.createElement(A.default,{type:c,value:n,__source:{fileName:E,lineNumber:198},__self:this}),Object(h.dysub)("show_id_verify_sms",o);break;case 3:u=p.a.createElement(N.default,{__source:{fileName:E,lineNumber:202},__self:this}),Object(h.dysub)("show_id_verify_sc",o);break;default:u=p.a.createElement("div",{__source:{fileName:E,lineNumber:206},__self:this})}return u},AccountSecurity.prototype.render=function render(){var e=this.props,t=e.showQA,r=e.isShow,i=this.getStyles();return r?_.a.createPortal(p.a.createElement("div",{className:"AccountSecurity",ref:this.modal,style:i,__source:{fileName:E,lineNumber:222},__self:this},p.a.createElement("div",{className:"AccountSecurity-title",onMouseDown:this.mouseDown.bind(this),__source:{fileName:E,lineNumber:223},__self:this}),p.a.createElement("div",{className:"AccountSecurity-close",onClick:this.handleClose,__source:{fileName:E,lineNumber:224},__self:this}),p.a.createElement("div",{className:"AccountSecurity-content",style:t?{display:"none"}:{display:"block"},__source:{fileName:E,lineNumber:225},__self:this},p.a.createElement("div",{className:"AccountSecurity-main",__source:{fileName:E,lineNumber:226},__self:this},p.a.createElement("div",{className:"AccountSecurity-row",__source:{fileName:E,lineNumber:227},__self:this},p.a.createElement("span",{className:"AccountSecurity-type",__source:{fileName:E,lineNumber:228},__self:this},"\u9a8c\u8bc1\u65b9\u5f0f\uff1a"),p.a.createElement("span",{className:"AccountSecurity-666",__source:{fileName:E,lineNumber:229},__self:this},this.getContentType())),this.renderContent())),p.a.createElement("div",{className:"AccountSecurity-qa",style:t?{display:"block"}:{display:"none"},__source:{fileName:E,lineNumber:234},__self:this},p.a.createElement(g.default,{__source:{fileName:E,lineNumber:235},__self:this}))),document.body):p.a.createElement("div",{__source:{fileName:E,lineNumber:218},__self:this})},AccountSecurity}(p.a.Component),u=_applyDecoratedDescriptor(o.prototype,"accountSecurityServices",[i],{enumerable:!0,initializer:null}),a=_applyDecoratedDescriptor(o.prototype,"common",[c],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"event",[n],{enumerable:!0,initializer:null}),o);t.default=Object(y.connect)(function mapStateToProps(e){return{isShow:e.accountSecurity.isShow,verifyInfo:e.accountSecurity.verifyInfo,showQA:e.accountSecurity.showQA,resource:e.accountSecurity.resource,time:e.accountSecurity.time}})(T)},"239d7f":function(e,t,r){"use strict";var i=r("d5aeec"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n={isShow:!1,resource:1,verifyInfo:null,time:!1,clear:!1,showQA:!1};t.default=function accountSecurity(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c({},n),t=arguments[1],r=t.type,o=t.payload;switch(r){case i.SHOW_ACCOUNT_SECURITY:case i.HIDE_ACCOUNT_SECURITY:return c({},e,{isShow:o.isShow});case i.GET_VERIFY_INFO:return c({},e,{resource:o.resource});case i.SET_VERIFY_INFO:return c({},e,{verifyInfo:o});case i.CLEAR_SMS_TIMER:return c({},e,{clear:o.clear});case i.SHOW_TIME:return c({},e,{time:o.time});case i.SHOW_QA:return c({},e,{showQA:o.showQA});case i.REFRESH_SECURITY_QUIZ:var u=Object.assign({},e.verifyInfo);return u.securityQuiz=o,c({},e,{verifyInfo:u});default:return e}}},"29115e":function(e,t,r){"use strict";var i,c,n,o=r("1a22b7"),u=r.n(o),a=r("447d8e"),s=r("7ca7dc"),l=r("db47a7"),f=r("722b8a"),p=r("f4cb41"),y=r("53fbb7"),d=(r("2c6b8e"),"/shark/live/src/pages/roomPage/accountSecurityModule/components/SmsTest/SmsTest.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}var m=(i=(0,s.default.Service)(p.default),c=function(e){function SmsTest(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SmsTest);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"accountSecurityServices",n,r),r.state={timer:60,code:""},r.send=r.send.bind(r),r.showQA=r.showQA.bind(r),r.submit=r.submit.bind(r),r.handleChange=r.handleChange.bind(r),r}return _inherits(SmsTest,e),SmsTest.prototype.componentDidUpdate=function componentDidUpdate(e){var t=this,r=this.props.time;r&&e.time!==r&&(this.interval=setInterval(function(){return t.tick()},1e3))},SmsTest.prototype.tick=function tick(){var e=this.state.timer;if(e>=1)this.setState({timer:e-1});else{clearInterval(this.interval),this.accountSecurityServices.clearSmsTimer({clear:!0}),this.accountSecurityServices.showTime({time:!1}),this.setState({timer:60})}},SmsTest.prototype.send=function send(){"phone"===this.props.value?this.accountSecurityServices.sendPhoneCaptcha():this.accountSecurityServices.sendEmail()},SmsTest.prototype.showQA=function showQA(){var e={resouce:this.props.resource};this.accountSecurityServices.showQA({showQA:!0}),Object(l.dysub)("click_id_verify_other",e)},SmsTest.prototype.renderSecurityQuiz=function renderSecurityQuiz(){var e=this.props.verifyInfo,t=u.a.createElement("div",{__source:{fileName:d,lineNumber:87},__self:this});return e.securityQuiz&&(t=u.a.createElement("p",{className:"SmsTest-wrap",__source:{fileName:d,lineNumber:91},__self:this},u.a.createElement("a",{className:"SmsTest-other",onClick:this.showQA,__source:{fileName:d,lineNumber:92},__self:this},"\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f"))),t},SmsTest.prototype.getText=function getText(){var e=this.props,t=e.type,r=e.time,i=e.clear,c=this.state.timer,n="phone"===t?"\u77ed\u4fe1\u9a8c\u8bc1":"\u53d1\u9001\u9a8c\u8bc1\u7801";return i&&(n="\u91cd\u65b0\u83b7\u53d6"),r&&(n+="("+c+")"),n},SmsTest.prototype.handleChange=function handleChange(e){this.setState({code:e.target.value})},SmsTest.prototype.submit=function submit(){var e=this.props,t=e.resource,r=e.value,i=this.state.code;if(""!==i){var c={code:i,verify:"phone"===r?1:2,resource:t},n={resouce:t,verify_type:r};this.accountSecurityServices.verifyValidate(c),this.accountSecurityServices.showTime({time:!1}),Object(l.dysub)("click_id_verify_subsms",n)}else f.default.error("\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801")},SmsTest.prototype.render=function render(){var e=this.props,t=e.verifyInfo,r=e.time,i=this.state.code,c="SmsTest-sms "+(r?"SmsTest-disable":"");return t?u.a.createElement("div",{className:"SmsTest",__source:{fileName:d,lineNumber:155},__self:this},u.a.createElement("div",{className:"SmsTest-row",__source:{fileName:d,lineNumber:156},__self:this},u.a.createElement(y.default,{__source:{fileName:d,lineNumber:157},__self:this})),u.a.createElement("div",{className:"SmsTest-row",__source:{fileName:d,lineNumber:159},__self:this},u.a.createElement("div",{className:"SmsTest-box",__source:{fileName:d,lineNumber:160},__self:this},u.a.createElement("input",{type:"text",className:"SmsTest-input",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",value:i,onChange:this.handleChange,__source:{fileName:d,lineNumber:161},__self:this}),u.a.createElement("button",{className:c,disabled:r,onClick:this.send,__source:{fileName:d,lineNumber:164},__self:this},this.getText())),this.renderSecurityQuiz(),u.a.createElement("button",{className:"SmsTest-button",onClick:this.submit,__source:{fileName:d,lineNumber:167},__self:this},"\u63d0\u4ea4\u9a8c\u8bc1"))):u.a.createElement("div",{__source:{fileName:d,lineNumber:151},__self:this})},SmsTest}(u.a.Component),n=function _applyDecoratedDescriptor(e,t,r,i,c){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),c&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(c):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(c.prototype,"accountSecurityServices",[i],{enumerable:!0,initializer:null}),c);t.default=Object(a.connect)(function mapStateToProps(e){return{verifyInfo:e.accountSecurity.verifyInfo,time:e.accountSecurity.time,clear:e.accountSecurity.clear,resource:e.accountSecurity.resource}})(m)},"2c6b8e":function(e,t,r){},"2d6146":function(e,t){e.exports=sdkd479d126aaa128c11834},"2f135c":function(e,t,r){e.exports=r("d1db8c")("38686")},"3b6ec9":function(e,t,r){e.exports=r("999443")("63f14")},"3cc75c":function(e,t,r){e.exports=r("5f575e")("3de50")},"3d4ea3":function(e,t,r){"use strict";var i=r("1b5282");t.default=i.default},"447d8e":function(e,t,r){e.exports=r("999443")("0a81c")},528016:function(e,t,r){e.exports=r("5f575e")("39485")},"53fbb7":function(e,t,r){"use strict";var i=r("ca69d3");t.default=i.default},"5f575e":function(e,t){e.exports=_room_common_},"6d91e2":function(e,t,r){"use strict";var i,c,n,o,u,a,s,l=r("eb3e22"),f=r("7ca7dc"),p=r("db47a7"),y=r("722b8a"),d=r("f68984"),m=r("960890"),h=r("b00678"),b=r("2f135c"),_=r("eb4d33"),S=r("d5aeec"),v=r("f4cb41"),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _applyDecoratedDescriptor(e,t,r,i,c){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),c&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(c):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}var N=f.default.Service,g=f.default.Store,E={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},O={verify_type:1},w=(i=N(l.DataCenter.global),c=N(v.default),n=g(),o=function(){function AccountSecurityEpics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccountSecurityEpics),_initDefineProp(this,"global",u,this),_initDefineProp(this,"accountSecurityServices",a,this),_initDefineProp(this,"store",s,this)}return AccountSecurityEpics.prototype.getVerifyInfo=function getVerifyInfo(e){var t=this;return e.ofType(S.GET_VERIFY_INFO).pipe(Object(h.switchMap)(_.default),Object(h.switchMap)(function(e){var r,i=e.name,c=e.value;return l.httpClient.post(String,"/member/accountVerify/verifyInfo",((r={rid:t.global.get("$ROOM.room_id")})[i]=c,r),E)}),Object(d.map)(function(e){if(0===e.error){var t=document.getElementsByClassName(".AccountSecurity").length;if(e.data=JSON.parse(e.data),4!==e.data.validate_type&&0===t)return S.default.setVerifyInfo(e.data)}return e.msg&&""!==e.msg&&y.default.error(e.msg),S.default.doNothing()}),Object(b.catchError)(function(e){return y.default.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(m.of)({type:"error",playlod:e})}))},AccountSecurityEpics.prototype.showAccountSecurity=function showAccountSecurity(e){return e.ofType(S.SET_VERIFY_INFO).pipe(Object(d.map)(function(){return S.default.showAccountSecurity({isShow:!0})}),Object(b.catchError)(function(e){return Object(m.of)({type:"error",playlod:e})}))},AccountSecurityEpics.prototype.verifyValidate=function verifyValidate(e){var t=this,r=this.global.get("$ROOM.room_id");return e.ofType(S.VERIFY_VALIDATE).pipe(Object(h.switchMap)(function(e){var t=e.payload;return Object(_.default)(t)}),Object(h.switchMap)(function(e){var t,i=e.name,c=e.value,n=e.payload;return n.verify&&(O.verify_type=n.verify),l.httpClient.post(l.Empty,"/member/accountVerify/verifyValidate",A({},n,((t={rid:r})[i]=c,t)),E)}),Object(d.map)(function(e){var r=e.error,i=e.msg,c=t.store.getState().accountSecurity,n=c.verifyInfo,o={resouce:c.resource},u=void 0,a=void 0;return 1===n.validate_type?(u="show_id_verify_geetest_succ",a="show_id_verify_geetest_fail"):2===n.validate_type?(o.verify_type=O.verify_type,u="show_id_verify_sms_suss",a="show_id_verify_sms_fail"):(u="show_id_verify_sc_succ",a="show_id_verify_sc_fail"),0===r?(y.default.success("\u5e10\u53f7\u5b89\u5168\u9a8c\u8bc1\u6210\u529f"),Object(p.dysub)(u,o),t.accountSecurityServices.hideAccountSecurity(),S.default.doNothing()):(2===n.validate_type&&(o.em=i),Object(p.dysub)(a,o),i&&""!==i&&y.default.error(i),t.accountSecurityServices.restoreAccountSecurity(),S.default.doNothing())}),Object(b.catchError)(function(e){return t.accountSecurityServices.restoreAccountSecurity(),Object(m.of)({type:"error",playlod:e})}))},AccountSecurityEpics.prototype.sendPhoneCaptcha=function sendPhoneCaptcha(e){var t=this;return e.ofType(S.SEND_PHONE_CAPTCHA).pipe(Object(h.switchMap)(function(e){var t=e.payload;return Object(_.default)(t)}),Object(h.switchMap)(function(e){var t,r=e.name,i=e.value,c=e.payload;return l.httpClient.post(l.Empty,"/member/accountVerify/sendPhoneCaptcha",A({},c,((t={})[r]=i,t)),E)}),Object(d.map)(function(e){var r=e.error,i=e.msg;if(0===r){t.accountSecurityServices.showTime({time:!0})}else t.accountSecurityServices.restoreAccountSecurity(),y.default.error(i);return S.default.doNothing()}),Object(b.catchError)(function(e){return t.accountSecurityServices.restoreAccountSecurity(),y.default.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(m.of)({type:"error",playlod:e})}))},AccountSecurityEpics.prototype.sendEmail=function sendEmail(e){var t=this;return e.ofType(S.SEND_EMAIL).pipe(Object(h.switchMap)(function(e){var t=e.payload;return Object(_.default)(t)}),Object(h.switchMap)(function(e){var t,r=e.name,i=e.value,c=e.payload;return l.httpClient.post(l.Empty,"/member/accountVerify/sendEmail",A({},c,((t={})[r]=i,t)),E)}),Object(d.map)(function(e){var r=e.error,i=e.msg;if(0===r){t.accountSecurityServices.showTime({time:!0})}else t.accountSecurityServices.restoreAccountSecurity(),y.default.error(i);return S.default.doNothing()}),Object(b.catchError)(function(e){return t.accountSecurityServices.restoreAccountSecurity(),y.default.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(m.of)({type:"error",playlod:e})}))},AccountSecurityEpics.prototype.getSecurityQuiz=function getSecurityQuiz(e){var t=this;return e.ofType(S.GET_SECURITY_QUIZ).pipe(Object(h.switchMap)(_.default),Object(h.switchMap)(function(e){var t,r=e.name,i=e.value;return l.httpClient.post(String,"/member/accountVerify/securityQuiz",((t={})[r]=i,t),E)}),Object(d.map)(function(e){if(0===e.error){var r=JSON.parse(e.data);t.accountSecurityServices.refreshSecurityQuiz(r)}else y.default.error(e.msg);return S.default.doNothing()}),Object(b.catchError)(function(e){return y.default.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(m.of)({type:"error",playlod:e})}))},AccountSecurityEpics.prototype.submitSecurityQA=function submitSecurityQA(e){var t=this,r=this.global.get("$ROOM.room_id");return e.ofType(S.SUBMIT_SECURITY_QA).pipe(Object(h.switchMap)(function(e){var t=e.payload;return Object(_.default)(t)}),Object(h.switchMap)(function(e){var t,i=e.name,c=e.value,n=e.payload;return l.httpClient.post(l.Empty,"/member/accountVerify/verifyValidate",A({},n,((t={rid:r})[i]=c,t)),E)}),Object(d.map)(function(e){var r=e.error,i=e.msg,c={type:2};return 0===r?(y.default.success("\u5e10\u53f7\u5b89\u5168\u9a8c\u8bc1\u6210\u529f"),Object(p.dysub)("show_sequestion_succ",c),t.accountSecurityServices.hideAccountSecurity()):50002===r?(c.em=i,Object(p.dysub)("show_sequestion_fail",c),t.accountSecurityServices.refreshSecurityQuiz(i)):(c.em=i,Object(p.dysub)("show_sequestion_fail",c),y.default.error(i),t.accountSecurityServices.getSecurityQuiz()),S.default.doNothing()}))},AccountSecurityEpics}(),u=_applyDecoratedDescriptor(o.prototype,"global",[i],{enumerable:!0,initializer:null}),a=_applyDecoratedDescriptor(o.prototype,"accountSecurityServices",[c],{enumerable:!0,initializer:null}),s=_applyDecoratedDescriptor(o.prototype,"store",[n],{enumerable:!0,initializer:null}),o);t.default=w},"722b8a":function(e,t,r){e.exports=r("5f575e")("d4f18")},"7246cd":function(e,t,r){"use strict";var i=r("ba6707");t.default=i.default},"7ca7dc":function(e,t,r){e.exports=r("2d6146")("f0df9")},960890:function(e,t,r){e.exports=r("d1db8c")("c9c82")},"97a1f0":function(e,t,r){e.exports=r("2d6146")("11f13")},999443:function(e,t){e.exports=vendor3d72ea64bdb3506ffdba},"9bbf9a":function(e,t,r){"use strict";var i=r("eb5e9b");t.default=i.default},"9f1fe0":function(e,t,r){"use strict";var i=r("7ca7dc"),c=r("e419c8"),n=r("135077"),o=r("3d4ea3"),u=i.default.StoreFactory;t.default=i.default.createApp({name:"AccountSecurityApp",providers:[{name:"component",useFactory:function useFactory(){return o.default}},{name:"store",useFactory:function useFactory(){return u.getInstance(window.__INITIAL_STATE__,n.default,c.default)}}]})},a6b932:function(e,t,r){},b00678:function(e,t,r){e.exports=r("2d6146")("86f8b")},ba6707:function(e,t,r){"use strict";var i,c,n,o=r("1a22b7"),u=r.n(o),a=r("447d8e"),s=r("7ca7dc"),l=r("db47a7"),f=r("722b8a"),p=r("f4cb41"),y=(r("a6b932"),"/shark/live/src/pages/roomPage/accountSecurityModule/components/AccountSecurityQA/AccountSecurityQA.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}var d=(i=(0,s.default.Service)(p.default),c=function(e){function AccountSecurityQA(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccountSecurityQA);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"accountSecurityServices",n,r),r.state={code:[]},r.goBack=r.goBack.bind(r),r.submit=r.submit.bind(r),r}return _inherits(AccountSecurityQA,e),AccountSecurityQA.prototype.clickAnswer=function clickAnswer(e,t,r){var i=this.state.code;i[r]={id:e,answer:t},this.setState({code:i})},AccountSecurityQA.prototype.getClassName=function getClassName(e,t){var r=this.state.code,i="AccountSecurityQA-answer";if(0===r.length)return i;var c=r.filter(function(t){return t.id===e});return 0===c.length?i:(c[0].answer===t&&(i="AccountSecurityQA-answer AccountSecurityQA-active"),i)},AccountSecurityQA.prototype.goBack=function goBack(){this.accountSecurityServices.showQA({showQA:!1}),Object(l.dysub)("click_sequestion_back",{type:2})},AccountSecurityQA.prototype.submit=function submit(){var e=this.state.code;this.props.verifyInfo.securityQuiz.quizContent.length===e.length?(this.accountSecurityServices.submitSecurityQA(JSON.stringify(e)),Object(l.dysub)("click_sequestion_back",{type:2}),this.setState({code:[]})):f.default.error("\u8bf7\u5b8c\u6210\u6240\u6709\u95ee\u9898\u4e4b\u540e\u518d\u63d0\u4ea4")},AccountSecurityQA.prototype.renderEmpty=function renderEmpty(){var e=this.props.verifyInfo;return u.a.createElement("div",{className:"AccountSecurityQA-nodata",__source:{fileName:y,lineNumber:96},__self:this},u.a.createElement("p",{__source:{fileName:y,lineNumber:97},__self:this},e.securityQuiz),u.a.createElement("a",{className:"AccountSecurityQA-submit",onClick:this.goBack,__source:{fileName:y,lineNumber:98},__self:this},"\u8fd4\u56de"))},AccountSecurityQA.prototype.renderList=function renderList(){var e=this,t=this.props.verifyInfo;return t.securityQuiz.quizContent.length?u.a.createElement("div",{className:"AccountSecurityQA-content",__source:{fileName:y,lineNumber:109},__self:this},u.a.createElement("p",{className:"AccountSecurityQA-info",__source:{fileName:y,lineNumber:110},__self:this},"\u8bf7\u5b8c\u6210\u4ee5\u4e0b\u5b89\u4fdd\u95ee\u9898\u4ee5\u9a8c\u8bc1\u8eab\u4efd\uff0c\u6240\u6709\u9009\u9879\u4e3a\u5355\u9009\uff1a"),u.a.createElement("div",{className:"AccountSecurityQA-wrap",__source:{fileName:y,lineNumber:111},__self:this},t.securityQuiz.quizContent.map(function(t,r){return u.a.createElement("div",{key:t.id,__source:{fileName:y,lineNumber:114},__self:e},u.a.createElement("p",{className:"AccountSecurityQA-question",__source:{fileName:y,lineNumber:115},__self:e},r+1,".",t.title),u.a.createElement("p",{__source:{fileName:y,lineNumber:116},__self:e},t.answers.map(function(i,c){return u.a.createElement("span",{className:e.getClassName(t.id,c),key:i,onClick:function onClick(){return e.clickAnswer(t.id,c,r)},__source:{fileName:y,lineNumber:119},__self:e},i)})))})),u.a.createElement("div",{className:"AccountSecurityQA-footer",__source:{fileName:y,lineNumber:130},__self:this},u.a.createElement("a",{className:"AccountSecurityQA-submit",onClick:this.submit,__source:{fileName:y,lineNumber:131},__self:this},"\u63d0\u4ea4\u9a8c\u8bc1"),u.a.createElement("a",{className:"AccountSecurityQA-cancel",onClick:this.goBack,__source:{fileName:y,lineNumber:132},__self:this},"\u8fd4\u56de"))):u.a.createElement("div",{className:"AccountSecurityQA-nodata",__source:{fileName:y,lineNumber:138},__self:this},u.a.createElement("p",{__source:{fileName:y,lineNumber:139},__self:this},"\u4eb2\u7231\u7684\u7528\u6237\uff0c\u60a8\u7684\u884c\u4e3a\u8fc7\u5c11\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u3002"),u.a.createElement("a",{className:"AccountSecurityQA-submit",__source:{fileName:y,lineNumber:140},__self:this},"\u8fd4\u56de"))},AccountSecurityQA.prototype.renderQA=function renderQA(){var e=this.props.verifyInfo;return e.securityQuiz?"string"===typeof e.securityQuiz?this.renderEmpty():this.renderList():u.a.createElement("div",{__source:{fileName:y,lineNumber:152},__self:this})},AccountSecurityQA.prototype.render=function render(){return u.a.createElement("div",{className:"AccountSecurityQA",__source:{fileName:y,lineNumber:164},__self:this},this.renderQA())},AccountSecurityQA}(u.a.Component),n=function _applyDecoratedDescriptor(e,t,r,i,c){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),c&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(c):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(c.prototype,"accountSecurityServices",[i],{enumerable:!0,initializer:null}),c);t.default=Object(a.connect)(function mapStateToProps(e){return{verifyInfo:e.accountSecurity.verifyInfo}})(d)},ca69d3:function(e,t,r){"use strict";var i=r("1a22b7"),c=r.n(i),n=(r("ce518a"),"/shark/live/src/pages/roomPage/accountSecurityModule/components/GeeTest/GeeTest.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}var o=function(e){function GeeTest(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GeeTest),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(GeeTest,e),GeeTest.prototype.render=function render(){return c.a.createElement("div",{className:"GeeTest",__source:{fileName:n,lineNumber:13},__self:this},c.a.createElement("div",{className:"GeeTest-area",__source:{fileName:n,lineNumber:14},__self:this}),c.a.createElement("div",{className:"GeeTest-captcha",id:"GeeTest-captcha",__source:{fileName:n,lineNumber:15},__self:this},c.a.createElement("div",{className:"captcha-geetest",__source:{fileName:n,lineNumber:16},__self:this})))},GeeTest}(c.a.Component);t.default=o},ce518a:function(e,t,r){},d1db8c:function(e,t){e.exports=playerSDK2da5b1f3a3deccaa435b},d1f87a:function(e,t,r){e.exports=r("5f575e")("09473")},d4c872:function(e,t,r){},d5aeec:function(e,t,r){"use strict";function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}r.d(t,"SHOW_ACCOUNT_SECURITY",function(){return i}),r.d(t,"HIDE_ACCOUNT_SECURITY",function(){return c}),r.d(t,"GET_VERIFY_INFO",function(){return n}),r.d(t,"SET_VERIFY_INFO",function(){return o}),r.d(t,"VERIFY_VALIDATE",function(){return u}),r.d(t,"CLEAR_SMS_TIMER",function(){return a}),r.d(t,"SEND_PHONE_CAPTCHA",function(){return s}),r.d(t,"SEND_EMAIL",function(){return l}),r.d(t,"SHOW_TIME",function(){return f}),r.d(t,"SHOW_QA",function(){return p}),r.d(t,"GET_SECURITY_QUIZ",function(){return y}),r.d(t,"REFRESH_SECURITY_QUIZ",function(){return d}),r.d(t,"SUBMIT_SECURITY_QA",function(){return m});var i="SHOW_ACCOUNT_SECURITY",c="HIDE_ACCOUNT_SECURITY",n="GET_VERIFY_INFO",o="SET_VERIFY_INFO",u="VERIFY_VALIDATE",a="CLEAR_SMS_TIMER",s="SEND_PHONE_CAPTCHA",l="SEND_EMAIL",f="SHOW_TIME",p="SHOW_QA",y="GET_SECURITY_QUIZ",d="REFRESH_SECURITY_QUIZ",m="SUBMIT_SECURITY_QA",h=function(e){function AccountSecurityAction(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccountSecurityAction),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(AccountSecurityAction,e),AccountSecurityAction.showAccountSecurity=function showAccountSecurity(e){return{type:i,payload:e}},AccountSecurityAction.hideAccountSecurity=function hideAccountSecurity(e){return{type:c,payload:e}},AccountSecurityAction.getVerifyInfo=function getVerifyInfo(e){return{type:n,payload:e}},AccountSecurityAction.setVerifyInfo=function setVerifyInfo(e){return{type:o,payload:e}},AccountSecurityAction.verifyValidate=function verifyValidate(e){return{type:u,payload:e}},AccountSecurityAction.clearSmsTimer=function clearSmsTimer(e){return{type:a,payload:e}},AccountSecurityAction.sendPhoneCaptcha=function sendPhoneCaptcha(e){return{type:s,payload:e}},AccountSecurityAction.sendEmail=function sendEmail(e){return{type:l,payload:e}},AccountSecurityAction.showTime=function showTime(e){return{type:f,payload:e}},AccountSecurityAction.showQA=function showQA(e){return{type:p,payload:e}},AccountSecurityAction.getSecurityQuiz=function getSecurityQuiz(e){return{type:y,payload:e}},AccountSecurityAction.refreshSecurityQuiz=function refreshSecurityQuiz(e){return{type:d,payload:e}},AccountSecurityAction.submitSecurityQA=function submitSecurityQA(e){return{type:m,payload:e}},AccountSecurityAction.doNothing=function doNothing(e){return{type:"DO_NOTHING",payload:e}},AccountSecurityAction}(r("97a1f0").Action);t.default=h},db47a7:function(e,t,r){e.exports=r("2d6146")("fce11")},e419c8:function(e,t,r){"use strict";var i=r("7ca7dc"),c=r("6d91e2"),n=i.default.combineEpicsClass;t.default=n(c.default)},eb3e22:function(e,t,r){e.exports=r("d1db8c")("e55c4")},eb4d33:function(e,t,r){e.exports=r("5f575e")("623b6")},eb5e9b:function(e,t,r){"use strict";var i,c,n,o=r("1a22b7"),u=r.n(o),a=r("447d8e"),s=r("7ca7dc"),l=r("db47a7"),f=r("f4cb41"),p=(r("d4c872"),"/shark/live/src/pages/roomPage/accountSecurityModule/components/CodeTest/CodeTest.js");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}var y=(i=(0,s.default.Service)(f.default),c=function(e){function CodeTest(t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CodeTest);var r=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"accountSecurityServices",n,r),r.submit=r.submit.bind(r),r}return _inherits(CodeTest,e),CodeTest.prototype.submit=function submit(){var e=this.props.resource,t={resource:e},r={resouce:e};this.accountSecurityServices.verifyValidate(t),Object(l.dysub)("click_id_verify_sc_ns",r)},CodeTest.prototype.render=function render(){var e=this.props.verifyInfo;return u.a.createElement("div",{className:"CodeTest",__source:{fileName:p,lineNumber:39},__self:this},u.a.createElement("div",{className:"CodeTest-row",__source:{fileName:p,lineNumber:40},__self:this},"\u8bf7\u7f16\u8f91\u77ed\u4fe1\uff1a ",u.a.createElement("span",{className:"CodeTest-text",__source:{fileName:p,lineNumber:41},__self:this},e.code),"\u53d1\u9001\u5230\uff1a ",u.a.createElement("span",{className:"CodeTest-phone",__source:{fileName:p,lineNumber:42},__self:this},e.douyu_phone)),u.a.createElement("div",{className:"CodeTest-row",__source:{fileName:p,lineNumber:44},__self:this},u.a.createElement("span",{className:"CodeTest-tip",__source:{fileName:p,lineNumber:45},__self:this},"\u77ed\u4fe1\u8d39\u7528\u4e00\u822c\u4e3a0.1\u5143/\u6761\uff0c\u5168\u90e8\u7531\u8fd0\u8425\u5546\u6536\u53d6")),u.a.createElement("button",{className:"CodeTest-button",onClick:this.submit,__source:{fileName:p,lineNumber:47},__self:this},"\u6211\u5df2\u53d1\u9001\u77ed\u4fe1\uff0c\u4e0b\u4e00\u6b65"))},CodeTest}(u.a.Component),n=function _applyDecoratedDescriptor(e,t,r,i,c){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),c&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(c):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(c.prototype,"accountSecurityServices",[i],{enumerable:!0,initializer:null}),c);t.default=Object(a.connect)(function mapStateToProps(e){return{verifyInfo:e.accountSecurity.verifyInfo,resource:e.accountSecurity.resource}})(y)},f1f509:function(e,t,r){"use strict";r.r(t);r("528016");var i=r("7ca7dc"),c=new(r("9f1fe0").default);i.default.render(c,document.getElementById("js-account-security"))},f4cb41:function(e,t,r){"use strict";var i,c,n,o=r("97a1f0"),u=r("7ca7dc"),a=r("d1f87a"),s=r("db47a7"),l=r("722b8a"),f=r("d5aeec"),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var c=r[i],n=Object.getOwnPropertyDescriptor(t,c);n&&n.configurable&&void 0===e[c]&&Object.defineProperty(e,c,n)}return e}(e,t))}var y=(i=(0,u.default.Store)(),c=function(e){function AccountSecurityServices(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccountSecurityServices);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"store",n,t),t.geeFn=null,t}return _inherits(AccountSecurityServices,e),AccountSecurityServices.prototype.getVerifyInfo=function getVerifyInfo(e){this.store.dispatch(f.default.getVerifyInfo(e))},AccountSecurityServices.prototype.geeInit=function geeInit(e){var t=this,r=e.success&&e||null;this.geeFn=Object(a.default)({geeInitParams:{isNeedCheck:!1,data:r},geeOptions:{id:"GeeTest-captcha",area:".captcha-geetest"},success:function success(){t.success()},error:function error(){t.error()}})},AccountSecurityServices.prototype.hideAccountSecurity=function hideAccountSecurity(){this.geeFn&&(this.geeFn.destroy(),this.geeFn=null),this.store.dispatch(f.default.showAccountSecurity({isShow:!1}))},AccountSecurityServices.prototype.restoreAccountSecurity=function restoreAccountSecurity(){this.geeFn&&this.geeFn.refresh()},AccountSecurityServices.prototype.success=function success(){var e=this.store.getState().accountSecurity,t=e.resource,r=e.verifyInfo,i=this.getResult(),c=p({resource:t},i);1===r.validate_type&&this.verifyValidate(c)},AccountSecurityServices.prototype.verifyValidate=function verifyValidate(e){var t=this.store.getState().accountSecurity.verifyInfo.validate_type,r=this.getResult();3===t||r&&0!==Object.keys(r).length?this.store.dispatch(f.default.verifyValidate(e)):l.default.error("\u8bf7\u70b9\u51fb\u6309\u94ae\u8fdb\u884c\u9a8c\u8bc1")},AccountSecurityServices.prototype.getResult=function getResult(){var e={};return this.geeFn&&(e=this.geeFn.getGeeResult()),e},AccountSecurityServices.prototype.error=function error(){l.default.error("\u9a8c\u8bc1\u7801\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")},AccountSecurityServices.prototype.showTime=function showTime(e){this.store.dispatch(f.default.showTime(e))},AccountSecurityServices.prototype.sendPhoneCaptcha=function sendPhoneCaptcha(){var e=this.getResult(),t=this.store.getState().accountSecurity.resource;if(e&&0!==Object.keys(e).length){var r=p({},e),i={resouce:t,verify_type:1};this.store.dispatch(f.default.sendPhoneCaptcha(r)),Object(s.dysub)("click_id_verify_getsms",i)}else l.default.error("\u8bf7\u70b9\u51fb\u6309\u94ae\u8fdb\u884c\u9a8c\u8bc1")},AccountSecurityServices.prototype.sendEmail=function sendEmail(){var e=this.getResult(),t=this.store.getState().accountSecurity.resource;if(e&&0!==Object.keys(e).length){var r=p({},e),i={resouce:t,verify_type:2};this.store.dispatch(f.default.sendEmail(r)),Object(s.dysub)("click_id_verify_getsms",i)}else l.default.error("\u8bf7\u70b9\u51fb\u6309\u94ae\u8fdb\u884c\u9a8c\u8bc1")},AccountSecurityServices.prototype.clearSmsTimer=function clearSmsTimer(e){this.store.dispatch(f.default.clearSmsTimer(e))},AccountSecurityServices.prototype.showQA=function showQA(e){this.store.dispatch(f.default.showQA(e))},AccountSecurityServices.prototype.getSecurityQuiz=function getSecurityQuiz(e){this.store.dispatch(f.default.getSecurityQuiz(e))},AccountSecurityServices.prototype.refreshSecurityQuiz=function refreshSecurityQuiz(e){this.store.dispatch(f.default.refreshSecurityQuiz(e))},AccountSecurityServices.prototype.submitSecurityQA=function submitSecurityQA(e){var t=this.store.getState().accountSecurity,r={resource:t.resource,quizId:t.verifyInfo.securityQuiz.quizId,code:e,verify:3};this.store.dispatch(f.default.submitSecurityQA(r))},AccountSecurityServices}(o.Service),n=function _applyDecoratedDescriptor(e,t,r,i,c){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),c&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(c):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}(c.prototype,"store",[i],{enumerable:!0,initializer:null}),c);t.default=y},f68984:function(e,t,r){e.exports=r("d1db8c")("53a00")},ffe624:function(e,t,r){"use strict";var i=r("29115e");t.default=i.default}},[["f1f509","common-pre"]]]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/accountSecurity_5c8fa98.js.map
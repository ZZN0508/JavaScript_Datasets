YUI.add("af-utils",function(i){"use strict";var r,n=i.Cookie,a=i.Lang,o=i.Array,u=i.Object,f=a.isObject,c=a.isArray,l=a.isString,s=a.trim,e=/^([\w!.%+\-])+@([\w\-])+(?:\.[\w\-]+)+$/,t=/((ftp|https?):\/\/)?(www\.)?[a-z0-9\-\.]+\.[a-z0-9\/]+$/,d={},p=i.Intl,w=i.config.win,g=" START",m=null;i.namespace("Af").Utils={i18n:function(n){return p.get(n,null,i.config.lang)||{}},urlParseQuery:function(){var n=window.location.search;return n&&1<n.length?i.QueryString.parse(n.substring(1)):{}},urlParseBoolean:function(n){return""!==(n=n?n.toString().toLowerCase():"")&&"null"!==n&&"undefined"!==n&&"0"!==n&&"false"!==n&&"no"!==n},objectGetValue:function(n,e,r){l(e)&&(e=""===(e=s(e))?[]:e.split("."));e=u.getValue(n,e);return void 0===e?r:e},objectSetValue:function(n,e,r){if(l(e)&&(e=""===(e=s(e))?[]:e.split(".")),c(e)&&0!==e.length){for(var t=e.length,i=n,o=0;o<t;o++)o===t-1?i[e[o]]=r:(a.isUndefined(i[e[o]])&&(i[e[o]]={}),i=i[e[o]]);return n}},objectEqual:function(r,t){var n,e;if(r===t)return!0;if(typeof r!=typeof t)return!1;if(f(r))return u.size(r)===u.size(t)&&!u.some(r,function(n,e){return!i.Af.Utils.objectEqual(r[e],t[e])});if(c(r)){if(r.length!==t.length)return!1;for(n=0,e=r.length;n<e;n++)if(!i.Af.Utils.objectEqual(r[n],t[n]))return!1;return!0}return!1},objectMerge:function(){for(var n=Array.prototype.slice.call(arguments),e={},r=0;r<n.length;r++)f(n[r])&&!c(n[r])&&i.mix(e,i.clone(n[r]),!0,void 0,0,!0);return e},stringParseKV:function(n,e,t){var i={};return n&&(t=t||":",o.each(n.split(e=e||";"),function(n){var e,r;0<n.length&&(r=n.indexOf(t),e=s(n.substring(0,r)),r=s(n.substring(r+1)),e&&(i[e]=r))})),i},noop:function(){},use:function(){var n=Array.prototype.slice.call(arguments,0),e=n[n.length-1];a.isFunction(e)?n.pop():e=m,a.isArray(n[0])&&(n=n[0]),d.mods=(d.mods||[]).concat(n),e&&(d.cbs=d.cbs||[],d.cbs.push(e)),(r=r||i.Af.Utils.throttle(function(){var n=o.dedupe(d.mods),t=d.cbs||[];d={},i.use(n,function(n){for(var e=0,r=t.length;e<r;e++)t[e].call(m,n)})},40,{leading:!1}))()},userSignedIn:function(){return!(!n.getSub("Y","n")||!n.getSub("Y","l"))},urlValidate:function(n){return t.test(n)},emailValidate:function(n){return e.test(n)},screenTouchable:function(){var n=document.documentElement.className;return Modernizr&&Modernizr.touch||!(n&&0<=n.indexOf("no-touch"))},getObjectInArray:function(n,e,r){if(!n)return m;for(var t,i=n,o=i.length,a=0;a<o;a+=1)if((t=i[a]).hasOwnProperty(e)&&t[e]===r)return{index:a,data:t};return m},perfStart:function(n,e){w.Af=w.Af||{},w.Af.perf=w.Af.perf||{},w.Af.perf[i.id]=w.Af.perf[i.id]||{},w.Af.perf[i.id][n]={start:a.now()},window&&window.performance&&window.performance.mark&&e&&window.performance.mark(n+g)},perfStop:function(n,e){var r=w.Af&&w.Af.perf&&w.Af.perf[i.id]&&w.Af.perf[i.id][n];r&&r.start&&(r.took=a.now()-r.start),window&&window.performance&&window.performance.mark&&window.performance.measure&&e&&(e=n+" STOP",window.performance.mark(e),window.performance.measure(n+" DUR",n+g,e))},throttle:function(r,t,i){var o,a,u,f=m,c=0;function l(){c=!1===i.leading?0:new Date,f=m,u=r.apply(o,a)}return i=i||{},function(){var n,e=new Date;return c||!1!==i.leading||(c=e),o=this,a=arguments,(n=t-(e-c))<=0?(window.clearTimeout(f),f=m,c=e,u=r.apply(o,a)):f||!1===i.trailing||(f=window.setTimeout(l,n)),u}}}},"@VERSION@",{requires:["cookie","intl","oop","querystring-parse-simple"]});

(self.AMP=self.AMP||[]).push({n:"amp-form",ev:"0.1",l:!0,v:"2106030132000",m:0,f:function(t,e){"use strict";function l(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}var n,r,i="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if(!function(t){for(var e=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return}!function(){throw Error("Cannot find global object")}()}(this),"function"==typeof Symbol&&Symbol("x"),"function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{t:{var o={};try{o.__proto__={a:!0},r=o.a;break t}catch(t){}r=!1}n=r?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var a,s=n;function u(t,e){if(t.prototype=i(e.prototype),t.prototype.constructor=t,s)s(t,e);else for(var n in e){var r;"prototype"!=n&&(Object.defineProperties?(r=Object.getOwnPropertyDescriptor(e,n))&&Object.defineProperty(t,n,r):t[n]=e[n])}t.Ua=e.prototype}function c(){return a=a||Promise.resolve(void 0)}function h(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}function p(e){return new Promise(function(t){t(e())})}function f(){this.ba=new h,this.ja=0}function d(t){return t?Array.prototype.slice.call(t):[]}f.prototype.add=function(t){var e=this,n=++this.ja;return t.then(function(t){e.ja===n&&e.ba.resolve(t)},function(t){e.ja===n&&e.ba.reject(t)}),this.ba.promise},f.prototype.then=function(t,e){return this.ba.promise.then(t,e)};var m=Array.isArray,v=Object.prototype,b=v.hasOwnProperty,y=v.toString;function g(){return Object.create(null)}function E(t){return t||{}}var A=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function x(t,e){e=e=void 0===e?"":e;try{return decodeURIComponent(t)}catch(t){return e}}function w(t){var e=g();if(!t)return e;for(;r=A.exec(t);){var n=x(r[1],r[1]),r=r[2]?x(r[2].replace(/\+/g," "),r[2]):"";e[n]=r}return e}var v=self.AMP_CONFIG||{},_=("string"==typeof v.cdnProxyRegex?new RegExp(v.cdnProxyRegex):v.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function P(t){if(!self.document||!self.document.head||self.location&&_.test(self.location.origin))return null;t=self.document.head.querySelector('meta[name="'+t+'"]');return t&&t.getAttribute("content")||null}var S={thirdParty:v.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:v.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof v.thirdPartyFrameRegex?new RegExp(v.thirdPartyFrameRegex):v.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:v.cdnUrl||P("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:_,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:v.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:v.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:v.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:v.geoApiUrl||P("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var V=self.__AMP_LOG;function T(){if(!V.user)throw Error("failed to call initLogConstructor");return V.user}function O(){if(V.dev)return V.dev;throw Error("failed to call initLogConstructor")}function R(t,e,n,r){T().assert(t,e,n,r,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function I(t,e){return M(t=t.__AMP_TOP||(t.__AMP_TOP=t),e)}function C(t,e){return M(L(F(t)),e)}function j(t,e){return U(t=L(t=F(t)),e)?M(t,e):null}function F(t){return t.nodeType?I((t.ownerDocument||t).defaultView,"ampdoc").getAmpDoc(t):t}function L(t){return(t=F(t)).isSingleDoc()?t.win:t}function M(t,e){return U(t,e),(t=D(t)[e]).obj||(t.obj=new t.ctor(t.context),t.context=null,t.resolve&&t.resolve(t.obj)),t.obj}function N(t,e){var n,r,i=k(t,e);return i||((t=D(t))[e]=(n=new h,r=n.promise,i=n.reject,n=n.resolve,r.catch(function(){}),{obj:null,promise:r,resolve:n,reject:i,context:null,ctor:null}),t[e].promise)}function k(t,e){var n=D(t)[e];return n?n.promise||(M(t,e),n.promise=Promise.resolve(n.obj)):null}function D(t){return t.__AMP_SERVICES||(t.__AMP_SERVICES={})}function U(t,e){return(t=t.__AMP_SERVICES&&t.__AMP_SERVICES[e])&&t.ctor}var q,H=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function B(t,e,n,r,i){return i||(e?"ï¿½":r?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function X(t){return"> [i-amphtml-rendered]".replace(/^|,/g,"$&"+t+" ")}function G(t){var e;return/^[\w-]+$/.test("fieldset"),e="fieldset".toUpperCase(),function(t,e){for(var n=[],r=t.parentElement;r;r=r.parentElement)e(r)&&n.push(r);return n}(t,function(t){return t.tagName==e})}function $(t,e){for(var n=t.length,r=0;r<n;r++)e(t[r],r)}function z(e,n,r){var t,t=(t=n,k(L(e),t));if(t)return t;var i=F(e);return i.whenExtensionsKnown().then(function(){var t=i.getExtensionVersion(r);return t?I(i.win,"extensions").waitForExtension(r,t):null}).then(function(t){return t?N(L(e),n):null})}function J(t){return C(t,"mutator")}var K,W,Z="Webkit webkit Moz moz ms O o".split(" "),Y={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function Q(t,e,n){var r=t.style;if(!e.startsWith("--")){var i=(K=K||g())[e];if(!i){if(void 0===r[i=e]){var o=e.charAt(0).toUpperCase()+e.slice(1);t:{for(var a=0;a<Z.length;a++){var s=Z[a]+o;if(void 0!==r[s]){o=s;break t}}o=""}void 0!==r[o]&&(i=o)}K[e]=i}e=i}e&&(e.startsWith("--")?t.style.setProperty(e,n):t.style[e]=n)}function tt(t,e){(e=void 0===e?t.hasAttribute("hidden"):e)?t.removeAttribute("hidden"):t.setAttribute("hidden","")}function et(t,e,n){function r(e){try{return o(e)}catch(t){var n;throw null==(e=(n=self).__AMP_REPORT_ERROR)||e.call(n,t),t}}var i=t,o=n,a=function(){if(void 0!==W)return W;W=!1;try{var t={get capture(){W=!0}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return W}();return i.addEventListener(e,r,!!a&&void 0),function(){null==i||i.removeEventListener(e,r,!!a&&void 0),r=i=o=null}}function nt(t,e,n,r){var i={detail:n};return Object.assign(i,r),"function"==typeof t.CustomEvent?new t.CustomEvent(e,i):((t=t.document.createEvent("CustomEvent")).initCustomEvent(e,!!i.bubbles,!!i.cancelable,n),t)}function rt(t,e,n){return et(t,e,n)}function it(r){var i,t=new Promise(function(t){var e,n;e=t,n=et(r,"mouseup",function(t){try{e(t)}finally{e=null,n()}}),i=n});return t.then(i,i),t}function ot(t){var e=t.getRootNode();this.U=e.ownerDocument||e,this.j=this.U.defaultView,this.ra=C(t,"viewport"),this.W=[],this.W.push(rt(e,"input",function(t){"TEXTAREA"==(t=t.target).tagName&&t.hasAttribute("autoexpand")&&at(t)})),this.W.push(rt(e,"mousedown",function(t){var r,i;1!=t.which||"TEXTAREA"==(t=t.target).tagName&&(i=J(r=t),Promise.all([i.measureElement(function(){return r.scrollHeight}),it(r)]).then(function(t){var e=t[0],n=0;return i.measureMutateElement(r,function(){n=r.scrollHeight},function(){e!=n&&r.removeAttribute("autoexpand")})}))}));var n=e.querySelectorAll("textarea");this.W.push(rt(e,"amp:dom-update",function(){n=e.querySelectorAll("textarea")}));var r,i,o,a,t=(r=this.j,i=function(t){t.relayoutAll&&$(n,function(t){"TEXTAREA"==t.tagName&&t.hasAttribute("autoexpand")&&at(t)})},o=0,a=null,function(t){for(var e=[],n=0;n<arguments.length;++n)e[+n]=arguments[n];o?a=e:s(e)});function s(t){a=null,o=r.setTimeout(u,100),i.apply(null,t)}function u(){o=0,a&&s(a)}this.W.push(this.ra.onResize(t)),t=n,Promise.all(d(t).map(function(e){return J(t=e).measureElement(function(){return t.scrollHeight>t.clientHeight}).then(function(t){t&&(T().warn("AMP-FORM",'"textarea[autoexpand]" with initially scrolling content will not autoexpand.\nSee https://github.com/ampproject/amphtml/issues/20839'),e.removeAttribute("autoexpand"))});var t}))}function at(r){var t=J(r),i=r.ownerDocument.defaultView,o=0,a=0,s=0,e=function(n){var t=n.ownerDocument,r=t.defaultView,e=t.body,i=J(n),o=n.cloneNode(!1);o.classList.add("i-amphtml-textarea-clone");var a=0,s=0,u=!1;return i.measureMutateElement(e,function(){var t=r.getComputedStyle(n)||Y,e=parseInt(t.getPropertyValue("max-height"),10);a=parseInt(t.getPropertyValue("width"),10),u=isNaN(e)||n.scrollHeight<e},function(){u&&(n.scrollTop=0),Q(o,"width",a+"px"),t.body.appendChild(o)}).then(function(){return i.measureMutateElement(e,function(){s=o.scrollHeight},function(){o.parentElement&&o.parentElement.removeChild(o)})}).then(function(){return s})}(r);t.measureMutateElement(r,function(){var t=i.getComputedStyle(r)||Y;a=r.scrollHeight;var e=parseInt(t.getPropertyValue("max-height"),10);s=isNaN(e)?1/0:e,o="content-box"==t.getPropertyValue("box-sizing")?-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10):parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10)},function(){return e.then(function(t){r.classList.toggle("i-amphtml-textarea-max",s<t+o);var e="iAmphtmlHasExpanded"in r.dataset,n=/google/i.test(i.navigator.vendor)?3:0;(e||a<=t+n)&&(r.dataset.iAmphtmlHasExpanded="",Q(r,"height",t+o+"px"))})})}function st(t){for(var e=t.elements,n={},r=/^(?:input|select|textarea)$/i,i=/^(?:submit|button|image|file|reset)$/i,o=/^(?:checkbox|radio)$/i,a={},s=0;s<e.length;a={I:a.I},s++){var u=e[s],l=(d=u).checked,c=d.multiple;a.I=d.name;var h=d.options,p=d.tagName,f=d.type,d=d.value;!a.I||lt(u)||!r.test(p)||i.test(f)||o.test(f)&&!l||(void 0===n[a.I]&&(n[a.I]=[]),c?$(h,function(e){return function(t){t.selected&&n[e.I].push(t.value)}}(a)):n[a.I].push(d))}var m=ut(t);return m&&m.name&&(t=m.name,void 0===n[t]&&(n[t]=[]),n[m.name].push(m.value)),Object.keys(n).forEach(function(t){0==n[t].length&&delete n[t]}),n}function ut(t){var e=t.elements,n=e.length,r=t.ownerDocument.activeElement,i=null;for(t=0;t<n;t++){var o=e[t],a=o.type;if(("BUTTON"==o.tagName||"submit"==a)&&(i=i||o,r==o))return r}return i}function lt(t){if(t.disabled)return 1;t=G(t);for(var e=0;e<t.length;e++)if(t[e].disabled)return 1}function ct(t){switch(t.type){case"select-multiple":case"select-one":t=t.options;for(var e=0;e<t.length;e++)if(t[e].selected!==t[e].defaultSelected)return!1;break;case"checkbox":case"radio":return t.checked===t.defaultChecked;default:return t.value===t.defaultValue}return!0}function ht(t){this.h=t}function pt(){ht.apply(this,arguments)}function ft(t,e){this.h=t,this.da=e,this.Z=null,this.ya=[]}function dt(t,e){t=I(t,"platform");return new(t.isIos()&&11==t.getMajorVersion()?bt:FormData.prototype.entries&&FormData.prototype.delete?vt:mt)(e)}function mt(t){this.G=t?st(t):g()}function vt(t){this.H=new FormData(t),(t=t&&ut(t))&&t.name&&this.append(t.name,t.value)}function bt(t){vt.call(this,t);var e=this;t&&$(t.elements,function(t){"file"==t.type&&0==t.files.length&&(e.H.delete(t.name),e.H.append(t.name,new Blob([]),""))})}ot.prototype.dispose=function(){this.W.forEach(function(t){return t()})},ht.prototype.onCommit=function(){var t;(t=(t=this).h.elements)&&$(t,function(t){t.setCustomValidity("")});t:{for(var e=this.h.elements,n=0;n<e.length;n++){var r=e[n];if(!r.disabled&&!ct(r)){e=!0;break t}}e=!1}return e?this.Ba():Promise.resolve({updatedElements:[],errors:[]})},ht.prototype.Ba=function(){return Promise.resolve({updatedElements:[],errors:[]})},u(pt,ht),u(ft,ht),ft.prototype.Ba=function(){var e=this,t=this.da().then(function(){return[]},function(t){return(t=(t=t).response)?t.json().then(function(t){return t.verifyErrors||[]},function(){return[]}):Promise.resolve([])});return function(t,e){{var n;t.Z||(t.Z=new f,n=function(){return t.Z=null},t.Z.then(n,n))}return t.Z.add(e)}(this,t).then(function(t){return function(e,t){var n=[],r=e.ya;e.ya=t;for(var i=0;i<t.length;i++){var o=t[i],a=T().assertString(o.name,"Verification errors must have a name property");o=T().assertString(o.message,"Verification errors must have a message property"),(a=T().assertElement(e.h.querySelector('[name="'+a+'"]'),"Verification error name property must match a field name")).checkValidity()&&(a.setCustomValidity(o),n.push(a))}r=r.filter(function(e){return t.every(function(t){return e.name!==t.name})}).map(function(t){return e.h.querySelector('[name="'+t.name+'"]')});return{updatedElements:n.concat(r),errors:t}}(e,t)})},mt.prototype.append=function(t,e){t=String(t);this.G[t]=this.G[t]||[],this.G[t].push(String(e))},mt.prototype.delete=function(t){delete this.G[t]},mt.prototype.entries=function(){var t=this,n=[];Object.keys(this.G).forEach(function(e){t.G[e].forEach(function(t){return n.push([e,t])})});var e=0;return{next:function(){return e<n.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}},mt.prototype.getFormData=function(){var t=this,n=new FormData;return Object.keys(this.G).forEach(function(e){t.G[e].forEach(function(t){return n.append(e,t)})}),n},vt.prototype.append=function(t,e){this.H.append(t,e)},vt.prototype.delete=function(t){this.H.delete(t)},vt.prototype.entries=function(){return this.H.entries()},vt.prototype.getFormData=function(){return this.H},u(bt,vt),bt.prototype.append=function(t,e,n){e&&"object"==typeof e&&""==e.name&&0==e.size?this.H.append(t,new Blob([]),n||""):this.H.append(t,e)};var yt={INPUT:!0,SELECT:!0,TEXTAREA:!0};function gt(t,e){for(this.h=t,this.j=e,this.T=0,this.M=g(),this.qa=null,this.Da=this.fa=!1,this.oa(),t=0;t<this.h.elements.length;++t)At(this,this.h.elements[t]);Et(this)}function Et(t){var e,n=0<t.T&&!t.fa;n!==t.Da&&(t.h.classList.toggle("amp-form-dirty",n),e=nt(t.j,"amp:form-dirtiness-change",{isDirty:n},{bubbles:!0}),t.h.dispatchEvent(e)),t.Da=n}function At(t,e){var n=e.hidden;if(yt[e.tagName]&&e.name&&!n&&!lt(e)){t:switch(e.tagName){case"INPUT":n="checkbox"==e.type||"radio"==e.type?!e.checked:!e.value;break t;case"TEXTAREA":n=!e.value;break t;case"SELECT":n=!1;break t;default:throw Error("isFieldEmpty: "+e.tagName+" is not a supported field element.")}(n=!(n=n||ct(e))?!!t.qa&&(n=e.value,t.qa.get(e.name)===n):n)?(e=e.name,t.M[e]&&(t.M[e]=!1,--t.T)):(e=e.name,t.M[e]||(t.M[e]=!0,++t.T))}}function xt(){this.C=null}function wt(){this.wa=new xt}function _t(){this.Ga=100,this.ia=this.pa=0,this.aa=g()}(v=gt.prototype).onSubmitting=function(){this.fa=!0,Et(this)},v.onSubmitError=function(){this.fa=!1,Et(this)},v.onSubmitSuccess=function(){this.fa=!1,this.qa=dt(this.j,this.h).getFormData(),this.M=g(),this.T=0,Et(this)},v.oa=function(){this.h.addEventListener("input",this.xa.bind(this)),this.h.addEventListener("reset",this.Ja.bind(this)),this.h.addEventListener("amp:form-value-change",this.xa.bind(this))},v.xa=function(t){At(this,t.target),Et(this)},v.Ja=function(){this.M=g(),this.T=0,Et(this)},(v=xt.prototype).add=function(t){var e=this;return this.C||(this.C=[]),this.C.push(t),function(){e.remove(t)}},v.remove=function(t){var e;!this.C||-1!=(t=(e=this.C).indexOf(t))&&e.splice(t,1)},v.removeAll=function(){this.C&&(this.C.length=0)},v.fire=function(t){if(this.C)for(var e=l(this.C),n=e.next();!n.done;n=e.next())(n=n.value)(t)},v.getHandlerCount=function(){var t;return null!=(t=null==(t=this.C)?void 0:t.length)?t:0},wt.prototype.beforeSubmit=function(t){return this.wa.add(t)},wt.prototype.fire=function(t){this.wa.fire(t)},_t.prototype.has=function(t){return!!this.aa[t]},_t.prototype.get=function(t){t=this.aa[t];if(t)return t.access=++this.ia,t.payload},_t.prototype.put=function(t,e){if(this.has(t)||this.pa++,this.aa[t]={payload:e,access:this.ia},!(this.pa<=this.Ga)){t=this.aa;var n,r=this.ia+1;for(n in t){var i,o=t[n].access;o<r&&(r=o,i=n)}void 0!==i&&(delete t[i],this.pa--)}};var Pt,St,Vt={c:!0,v:!0,a:!0,ad:!0},Tt=/[?&]amp_js[^&]*/,Ot=/[?&]amp_gsa[^&]*/,Rt=/[?&]amp_r[^&]*/,It=/[?&]amp_kit[^&]*/,Ct=/[?&]usqp[^&]*/;function jt(t){Pt||(Pt=self.document.createElement("a"),St=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new _t));var e,n=St,r=Pt;return t=n&&n.has(t)?n.get(t):(r.href=t,r.protocol||(r.href=r.href),"/"!==(e={href:r.href,protocol:r.protocol,host:r.host,hostname:r.hostname,port:"0"==r.port?"":r.port,pathname:r.pathname,search:r.search,hash:r.hash,origin:null}).pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),e.origin=r.origin&&"null"!=r.origin?r.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,n&&n.put(t,e),e)}function Ft(t,e,n){if(!e)return t;var r=t.split("#",2),t=r[0].split("?",2);return t[0]+(t[1]?n?"?"+e+"&"+t[1]:"?"+t[1]+"&"+e:"?"+e)+(r[1]?"#"+r[1]:"")}function Lt(t){var e,n=[];for(e in t){var r=t[e];if(null!=r)if(m(r))for(var i=0;i<r.length;i++){var o=r[i];n.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}else n.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}return n.join("&")}function Mt(t){return"string"==typeof t&&(t=jt(t)),S.cdnProxyRegex.test(t.origin)}var Nt=["GET","POST"];function kt(t,e){this.N=t,this.F=e,this.La="amp-form"}function Dt(t,e){this.na=e,this.ra=C(t,"viewport"),this.Ca=I(t.win,"vsync"),this.la=null,this.ka="",this.ga=!1,this.L=t.win.document.createElement("div"),tt(this.L,!1),this.L.classList.add("i-amphtml-validation-bubble"),this.L.__BUBBLE_OBJ=this,t.getBody().appendChild(this.L)}function Ut(t){t.bubbleElement.removeAttribute("aria-alert"),t.bubbleElement.removeAttribute("role");for(var e=t.bubbleElement;e.firstChild;)e.removeChild(e.firstChild);tt(t.bubbleElement,!1)}function qt(t){t.targetRect=t.viewport.getLayoutRect(t.targetElement)}function Ht(t){for(var e=t.bubbleElement;e.firstChild;)e.removeChild(e.firstChild);var n,r=t.bubbleElement.ownerDocument.createElement("div");for(n in r.id="bubble-message-"+t.id,r.textContent=t.message,t.bubbleElement.setAttribute("aria-labeledby",r.id),t.bubbleElement.setAttribute("role","alert"),t.bubbleElement.setAttribute("aria-live","assertive"),t.bubbleElement.appendChild(r),tt(t.bubbleElement,!0),e=t.bubbleElement,t={top:t.targetRect.top-10+"px",left:t.targetRect.left+t.targetRect.width/2+"px"})Q(e,n,t[n])}kt.prototype.isEnabled=function(){var t=this.N.getAmpDoc();return!(!t.isSingleDoc()||!t.getRootNode().documentElement.hasAttribute("allow-viewer-render-template"))&&this.N.hasCapability("viewerRenderTemplate")},kt.prototype.assertTrustedViewer=function(e){return this.N.isTrustedViewer().then(function(t){R(t,"Refused to attempt SSR in untrusted viewer: ",e)})},kt.prototype.ssr=function(t,u,e,n){var l,c=this,h=e=void 0===e?null:e,p=n=void 0===n?{}:n;return h||(l=this.F.maybeFindTemplate(t)),this.assertTrustedViewer(t).then(function(){var t=c.N,e=t.sendMessageAwaitResponse,n=l,r=i=void 0===(i=p)?{}:i,i=E({type:c.La});(n=h&&h.successTemplate?h.successTemplate:n)&&(i.successTemplate={type:"amp-mustache",payload:n.innerHTML}),(n=h&&h.errorTemplate?h.errorTemplate:null)&&(i.errorTemplate={type:"amp-mustache",payload:n.innerHTML}),r&&Object.assign(i,r);var r=u.xhrUrl,o=u.fetchOpt,n=Object.assign({},o);if((a=o.body)&&"function"==typeof a.getFormData){o=o.body,n.headers["Content-Type"]="multipart/form-data;charset=utf-8";for(var a=[],s=(o=o.entries()).next();!s.done;s=o.next())a.push(s.value);n.body=a}return e.call(t,"viewerRenderTemplate",i={originalRequest:{input:r,init:n},ampComponent:i})})},kt.prototype.applySsrOrCsrTemplate=function(t,e){var n=this,r=this.isEnabled()?(R("string"==typeof e.html,"Server side html response must be defined"),this.assertTrustedViewer(t).then(function(){return n.F.findAndSetHtmlForTemplate(t,e.html)})):m(e)?this.F.findAndRenderTemplateArray(t,e):this.F.findAndRenderTemplate(t,e);return r},Dt.prototype.isActiveOn=function(t){return this.ga&&t==this.la},Dt.prototype.hide=function(){this.ga&&(this.ga=!1,this.la=null,this.ka="",this.Ca.run({measure:void 0,mutate:Ut},{bubbleElement:this.L}))},Dt.prototype.show=function(t,e){this.isActiveOn(t)&&e==this.ka||(this.ga=!0,this.la=t,this.ka=e,this.Ca.run({measure:qt,mutate:Ht},{message:e,targetElement:t,bubbleElement:this.L,viewport:this.ra,id:this.na}))};var Bt,Xt,Gt=0;function $t(t){this.form=t,this.ampdoc=F(t),this.mutator=J(t),this.root=this.ampdoc.getRootNode(),this.ea=null}function zt(e,t){$(t.elements,function(t){"TEXTAREA"==t.tagName&&e.checkInputValidity(t)})}function Jt(){$t.apply(this,arguments)}function Kt(t){$t.call(this,t);t="i-amphtml-validation-bubble-"+Gt++;this.X=new Dt(this.ampdoc,t)}function Wt(t){$t.call(this,t),this.Oa=this.form.id||String(Date.now()+Math.floor(100*Math.random())),this.Fa=0}function Zt(){Wt.apply(this,arguments)}function Yt(){Wt.apply(this,arguments)}function Qt(){Wt.apply(this,arguments)}function te(){Yt.apply(this,arguments)}function ee(t){var i,o,n,a,e=t.ownerDocument.defaultView;function r(t){this.h=t}e.FormProxy||(e.FormProxy=(o=r.prototype,n=(i=e).Object,a=n.prototype,[i.HTMLFormElement,i.EventTarget].reduce(function(t,e){for(e=e&&e.prototype;e&&e!==a&&!(0<=t.indexOf(e));)t.push(e),e=n.getPrototypeOf(e);return t},[]).forEach(function(t){var e,n,r={};for(e in t)r.D=i.Object.getOwnPropertyDescriptor(t,e),!r.D||e.toUpperCase()==e||e.startsWith("on")||a.hasOwnProperty.call(o,e)||("function"==typeof r.D.value?(r.ha=r.D.value,o[e]=function(t){return function(){return t.ha.apply(this.h,arguments)}}(r)):(n={},r.D.get&&(n.get=function(t){return function(){return t.D.get.call(this.h)}}(r)),r.D.set&&(n.set=function(e){return function(t){return e.D.set.call(this.h,t)}}(r)),i.Object.defineProperty(o,e,n))),r={ha:r.ha,D:r.D}}),r));e=new e.FormProxy(t);"action"in e||function(n,r){var t,e=n.ownerDocument.defaultView.HTMLFormElement.prototype.cloneNode.call(n,!1),i={};for(t in e){if(i.o=t,!(i.o in r||i.o.toUpperCase()==i.o||i.o.startsWith("on"))){i.A=se[i.o];var o=n[i.o];if(i.A)if(i.A.access==re){if(i.P=void 0,o&&o.nodeType){var a=e=o,s=a.nextSibling;(a=a.parentNode).removeChild(e);try{i.P=n[i.o]}finally{a.insertBefore(e,s)}}else i.P=o;Object.defineProperty(r,i.o,{get:function(t){return function(){return t.P}}(i)})}else i.A.access==ne&&(i.R=i.A.attr||i.o,Object.defineProperty(r,i.o,{get:function(e){return function(){var t=r.getAttribute(e.R);return null==t&&void 0!==e.A.def?e.A.def:e.A.type==oe?"true"===t:e.A.type==ae?null!=t:e.A.type==ie?(t=t||"",j(n,"url").parse(t).href):t}}(i),set:function(e){return function(t){null!=(t=e.A.type==ae?t?"":null:t)?r.setAttribute(e.R,t):r.removeAttribute(e.R)}}(i)}));else Object.defineProperty(r,i.o,{get:function(t){return function(){return n[t.o]}}(i),set:function(e){return function(t){n[e.o]=t}}(i)})}i={P:i.P,R:i.R,A:i.A,o:i.o}}}(t,e),t.$p=e}(v=$t.prototype).report=function(){},v.onBlur=function(){},v.onInput=function(){},v.inputs=function(){return this.form.querySelectorAll("input,select,textarea")},v.checkInputValidity=function(t){var e;return"TEXTAREA"===t.tagName&&t.hasAttribute("pattern")&&(t.checkValidity()||"Please match the requested format."===t.validationMessage)&&(e=t.getAttribute("pattern"),e=new RegExp("^"+e+"$","m").test(t.value),t.setCustomValidity(e?"":"Please match the requested format.")),t.checkValidity()},v.checkFormValidity=function(t){return zt(this,t),t.checkValidity()},v.reportFormValidity=function(t){return zt(this,t),t.reportValidity()},v.fireValidityEventIfNecessary=function(){var t=this.ea;this.ea=this.checkFormValidity(this.form),t!==this.ea&&(t=nt(this.form.ownerDocument.defaultView,this.ea?"valid":"invalid",null,{bubbles:!0}),this.form.dispatchEvent(t))},u(Jt,$t),Jt.prototype.report=function(){this.reportFormValidity(this.form),this.fireValidityEventIfNecessary()},u(Kt,$t),Kt.prototype.report=function(){for(var t=this.inputs(),e=0;e<t.length;e++)if(!this.checkInputValidity(t[e])){t[e].focus(),this.X.show(t[e],t[e].validationMessage);break}this.fireValidityEventIfNecessary()},Kt.prototype.onBlur=function(t){"submit"!=t.target.type&&this.X.hide()},Kt.prototype.onInput=function(t){t=t.target,this.X.isActiveOn(t)&&(this.checkInputValidity(t)?(t.removeAttribute("aria-invalid"),this.X.hide()):(t.setAttribute("aria-invalid","true"),this.X.show(t,t.validationMessage)))},u(Wt,$t),(v=Wt.prototype).reportInput=function(t){var e=function(e){var t=["badInput"];for(n in e.validity)t.includes(n)||t.push(n);var n=t.filter(function(t){return!0===e.validity[t]});return n.length?n[0]:null}(t);e&&this.showValidationFor(t,e)},v.hideAllValidations=function(){for(var t=this.inputs(),e=0;e<t.length;e++)this.hideValidationFor(t[e])},v.getValidationFor=function(t,e){if(!t.id)return null;var n=t.validationMessage,e="__AMP_VALIDATION_"+(n="TEXTAREA"===t.tagName&&"customError"===e&&"Please match the requested format."===n?"patternMismatch":e);return e in t||(t[e]=this.root.querySelector("[visible-when-invalid="+n+"][validation-for="+t.id+"]")),t[e]},v.showValidationFor=function(t,e){var n=this.getValidationFor(t,e);n&&(n.textContent.trim()||(n.textContent=t.validationMessage),(e=(t.__AMP_VISIBLE_VALIDATION=n).getAttribute("id"))||(e="i-amphtml-aria-desc-"+this.Oa+"-"+this.Fa++,n.setAttribute("id",e)),t.setAttribute("aria-invalid","true"),t.setAttribute("aria-describedby",e),this.mutator.mutateElement(n,function(){return n.classList.add("visible")}))},v.hideValidationFor=function(t){var e=this.getVisibleValidationFor(t);e&&(delete t.__AMP_VISIBLE_VALIDATION,t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),this.mutator.mutateElement(e,function(){return e.classList.remove("visible")}))},v.getVisibleValidationFor=function(t){return t.__AMP_VISIBLE_VALIDATION},v.shouldValidateOnInteraction=function(){throw Error("Not Implemented")},v.onInteraction=function(t){var e=!!(t=t.target).checkValidity&&this.shouldValidateOnInteraction(t);this.hideValidationFor(t),e&&!this.checkInputValidity(t)&&this.reportInput(t)},v.onBlur=function(t){this.onInteraction(t)},v.onInput=function(t){this.onInteraction(t)},u(Zt,Wt),Zt.prototype.report=function(){this.hideAllValidations();for(var t=this.inputs(),e=0;e<t.length;e++)if(!this.checkInputValidity(t[e])){this.reportInput(t[e]),t[e].focus();break}this.fireValidityEventIfNecessary()},Zt.prototype.shouldValidateOnInteraction=function(t){return!!this.getVisibleValidationFor(t)},u(Yt,Wt),Yt.prototype.report=function(){this.hideAllValidations();for(var t=null,e=this.inputs(),n=0;n<e.length;n++)this.checkInputValidity(e[n])||(t=t||e[n],this.reportInput(e[n]));t&&t.focus(),this.fireValidityEventIfNecessary()},Yt.prototype.shouldValidateOnInteraction=function(t){return!!this.getVisibleValidationFor(t)},u(Qt,Wt),Qt.prototype.shouldValidateOnInteraction=function(){return!0},Qt.prototype.onInteraction=function(t){Wt.prototype.onInteraction.call(this,t),this.fireValidityEventIfNecessary()},u(te,Yt),te.prototype.shouldValidateOnInteraction=function(){return!0};var ne=1,re=2,ie=1,oe=2,ae=3,se={acceptCharset:{access:ne,attr:"accept-charset"},accessKey:{access:ne,attr:"accesskey"},action:{access:ne,type:ie},attributes:{access:re},autocomplete:{access:ne,def:"on"},children:{access:re},dataset:{access:re},dir:{access:ne},draggable:{access:ne,type:oe,def:!(te.prototype.onInteraction=function(t){Yt.prototype.onInteraction.call(this,t),this.fireValidityEventIfNecessary()})},elements:{access:re},encoding:{access:re},enctype:{access:ne},hidden:{access:ne,type:ae,def:!1},id:{access:ne,def:""},lang:{access:ne},localName:{access:re},method:{access:ne,def:"get"},name:{access:ne},noValidate:{access:ne,attr:"novalidate",type:ae,def:!1},prefix:{access:re},spellcheck:{access:ne},style:{access:re},target:{access:ne,def:""},title:{access:ne},translate:{access:ne}};function ue(t,e){var n,r,i=t.getHeadNode(),o=function(t,e){var n=t.__AMP_CSS_SM;n=n||(t.__AMP_CSS_SM=g());var r=le(t,n,"amp-extension=amp-form");if(r)return r.textContent!==e&&(r.textContent=e),r;r=(t.ownerDocument||t).createElement("style");return r.textContent=e,r.setAttribute("amp-extension","amp-form"),(e=void 0===(e=le(t,n,"amp-runtime"))?null:e)?t.insertBefore(r,e.nextSibling):t.insertBefore(r,t.firstChild),n["amp-extension=amp-form"]=r}(i,(i=(i=i).__AMP_CSS_TR)?i('form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/'):'form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/');e&&(ce(n=t.getRootNode(),o)?e(o):r=setInterval(function(){ce(n,o)&&(clearInterval(r),e(o))},4))}function le(t,e,n){return e[n]||((t=t.querySelector("style["+n+"]"))?e[n]=t:null)}function ce(t,e){var n=t.styleSheets;for(t=0;t<n.length;t++)if(n[t].ownerNode==e)return 1}var he=["amp-selector"];function pe(t,e){var n=this;try{ee(t)}catch(t){O().error("amp-form","form proxy failed to install",t)}(t.__AMP_FORM=this).na=e,this.U=t.ownerDocument,this.j=this.U.defaultView,this.Na=M(this.j,"timer"),this.h=t,this.B=F(this.h),this.ma=null,this.Aa=j(this.B,"url-replace"),this.F=C(this.B,"templates"),this.sa=I(this.j,"xhr"),this.S=j(this.B,"action"),this.va=J(this.B),this.N=C(this.B,"viewer"),this.V=new kt(this.N,this.F),this.J=(this.h.getAttribute("method")||"GET").toUpperCase(),this.Ma=this.h.getAttribute("target"),this.O=fe(this,"action-xhr"),this.Sa=fe(this,"verify-xhr"),this.Ha=function(t){t=t.h.getAttribute("enctype");return"application/x-www-form-urlencoded"===t||"multipart/form-data"===t?t:(null!==t&&T().warn("amp-form","Unexpected enctype: "+t+". Defaulting to 'multipart/form-data'."),"multipart/form-data")}(this),this.za=!this.h.hasAttribute("novalidate"),this.h.setAttribute("novalidate",""),this.za||this.h.setAttribute("amp-novalidate",""),this.h.classList.add("i-amphtml-form"),this.K="initial",e=this.h.elements;for(var r,i,o,a=0;a<e.length;a++){var s=e[a].name;R("__amp_source_origin"!=s&&"__amp_form_verify"!=s,"Illegal input name, %s found: %s",s,e[a])}this.ca=new gt(this.h,this.j),this.Y=function(t){switch(t.getAttribute("custom-validation-reporting")){case"as-you-go":return new Qt(t);case"show-all-on-submit":return new Yt(t);case"interact-and-submit":return new te(t);case"show-first-on-submit":return new Zt(t)}return new((Bt=t.ownerDocument&&void 0===Bt?!!document.createElement("form").reportValidity:Bt)?Jt:Kt)(t)}(this.h),this.Pa=(r=this.h,i=function(){return"submitting"===(r=n).K?c():(Te(r,"verifying"),Se(r,"verify",null,3),ye(r,be(r)).then(function(){return e=d((t=r).h.querySelectorAll("["+"no-verify".replace(H,B)+"]")).map(function(t){return t.name||t.id}),n={},t.da(t.Sa,t.J,(n.__amp_form_verify=!0,n),e);var t,e,n}));var r},r.hasAttribute("verify-xhr")?new ft(r,i):new pt(r)),this.S.addToAllowlist("FORM",["clear","submit"],["email"]),this.S.installActionHandler(this.h,this.Ea.bind(this)),this.oa(),z(this.B,"inputmask","amp-inputmask").then(function(t){t&&t.install()}),function(n){{var i,o,a,r,s;!Mt(n.j.location)&&n.h.hasAttribute("data-initialize-from-url")&&(i=["SELECT","TEXTAREA"],o="color date datetime-local email hidden month number range search tel text time url week".split(" "),a=["checkbox","radio"],r=function(t,e){var n,r;!t.hasAttribute("data-amp-replace")&&t.hasAttribute("data-allow-initialization")&&(e=s[e]||"",n=t.getAttribute("type")||"text","INPUT"===(r=t.tagName)?o.includes(n.toLocaleLowerCase())?t.value!==e&&(t.value=e):a.includes(n)&&(e=t.value===e,t.checked!==e&&(t.checked=e)):i.includes(r)&&t.value!==e&&(t.value=e))},s=w(n.j.location.search),Object.keys(s).forEach(function(e){var t=n.h.elements[e];t&&(t.nodeType===Node.ELEMENT_NODE?r(t,e):t.length&&$(t,function(t){return r(t,e),0}))}))}}(this),this.ta=this.Ka=this.Ra=null,N(L(t),"form-submit-service").then(function(t){n.ta=t}),this.Ia=this.U&&(t=this.U,o=t.documentElement,["âš¡4email","amp4email"].some(function(t){return o.hasAttribute(t)}))}function fe(t,e){var n,r=t.h.getAttribute(e);return r&&((n=j(t.B,"url")).assertHttpsUrl(r,t.h,e),R(!n.isProxyOrigin(r),"form %s should not be on AMP CDN: %s",e,t.h)),r}function de(t,e){xe(t,"Form analytics not supported");var n,r,i,o,a,s,u={},l=st(t.h);for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(u["formFields["+n+"]"]=l[n].join(","));u.formId=t.h.id;try{r=t.h,i=e,a=void 0===a||a,s=o=void 0===(o=u)?{}:o,z(r,"amp-analytics-instrumentation","amp-analytics").then(function(t){t&&t.triggerEventForTarget(r,i,s,a)})}catch(t){O().error("amp-form","Sending analytics failed:",t)}}function me(n,e,t){try{var r={form:n.h,actionXhrMutator:n.setXhrAction.bind(n)};n.ta.fire(r)}catch(t){O().error("amp-form","Form submit service failed: %s",t)}var i=be(n),o=n.h.getElementsByClassName("i-amphtml-async-input");if(n.ca.onSubmitting(),!n.O&&"GET"==n.J){if(xe(n,"Non-XHR GETs not supported."),we(n),0===o.length){for(r=0;r<i.length;r++)n.Aa.expandInputValueSync(i[r]);return Ae(n,!t),n.ca.onSubmitSuccess(),c()}t&&t.preventDefault()}Te(n,"submitting");var a=[],s=[];return s.push(ye(n,i)),$(o,function(t){var i,o,e=(i=n,(o=t).getImpl().then(function(t){return t.getValue()}).then(function(t){var e=o.getAttribute("name");if(!(e=i.h.querySelector("input[name="+String(e).replace(H,B)+"]"))){var n,e=E({name:o.getAttribute("name"),hidden:"true"}),r=i.j.document.createElement("input");for(n in e)r.setAttribute(n,e[n]);e=r}e.setAttribute("value",t),i.h.appendChild(e)}));(t.classList.contains("i-async-require-action")?a:s).push(e)}),Promise.all(a).then(function(){return Ve(n,s,1e4).then(function(){var t=n.O?function(i,o){{var t;t=i.V.isEnabled()?function(u,o){var t=st(u.h);return Oe(u,t).then(function(){return u.S.trigger(u.h,"submit",null,o)}).then(function(){var t=u.requestForFormFetch(u.O,u.J);void 0===(o=(a=t.fetchOpt||{}).method)?o="GET":(o=o.toUpperCase(),Nt.includes(o)),a.method=o,a.headers=a.headers||{},t.fetchOpt=a;var e,n,r,i,o=t.xhrUrl,a=t.fetchOpt||{},s=u.j;return(s=s.origin||jt(s.location.href).origin)==(o=jt(o).origin)&&(a.headers=a.headers||{},a.headers["AMP-Same-Origin"]="true"),t.fetchOpt=a,o=u.j,a=t.xhrUrl,!1!==t.fetchOpt.ampCors&&(R(!("__amp_source_origin"in(s=w((s=jt(a)).search))),"Source origin is not allowed in %s",a),"string"==typeof(o=o.location.href)&&(o=jt(o)),o=jt(o=Mt(o)?(s=o.pathname.split("/"),R(Vt[s[1]],"Unknown path prefix in url %s",o.href),R(0<(n="s"==(e=s[2])?"https://"+decodeURIComponent(s[3]):"http://"+decodeURIComponent(e)).indexOf("."),"Expected a . in origin %s",n),s.splice(1,"s"==e?3:2),(s=n+s.join("/"))+(e=(e=o.search)&&"?"!=e&&(e=e.replace(Tt,"").replace(Ot,"").replace(Rt,"").replace(It,"").replace(Ct,"").replace(/^[?&]/,""))?"?"+e:"")+(o.hash||"")):o.href).origin,a=Ft(a,o=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent(o),void 0)),t.xhrUrl=a,o=(a=u.V).ssr,s=u.h,(e=u.h.querySelector("[submit-success]"))&&(r=u.F.maybeFindTemplate(e)),(e=u.h.querySelector("[submit-error]"))&&(i=u.F.maybeFindTemplate(e)),o.call(a,s,t,{successTemplate:r,errorTemplate:i})}).then(function(t){return e=u,r=o,i=(n=t).init,t=function(t,e){try{return JSON.parse(t)}catch(t){return null==e||e(t),null}}(n.body,function(t){return T().error("amp-form","Failed to parse response JSON: %s",t)}),i&&300<=(i=i.status)?Ee(e,i,n,r,t):ge(e,n,r,t);var e,n,r,i},function(t){var e={};return t&&t.message&&(e.error=t.message),Ee(u,t,e,o)})}(i,o):(function(t,e){de(t,"amp-form-submit");var n=st(t.h);Oe(t,n).then(function(){t.S.trigger(t.h,"submit",null,e)})}(i,o),i.da(i.O,i.J).then(function(t){return n=t,r=o,(e=i).sa.xssiJson(n,e.getXssiPrefix()).then(function(t){return ge(e,t,r)},function(t){return T().error("amp-form","Failed to parse response JSON: %s",t)}).then(function(){de(e,"amp-form-submit-success"),Pe(e,n)});var e,n,r},function(t){return e=i,r=o,((n=t)&&n.response?e.sa.xssiJson(n.response,e.getXssiPrefix()).catch(function(){return null}):Promise.resolve(null)).then(function(t){Ee(e,n,t,r),de(e,"amp-form-submit-error"),Pe(e,n.response)});var e,n,r}))}return t}(n,e):("POST"==n.J?R(!1,"Only XHR based (via action-xhr attribute) submissions are supported for POST requests. %s",n.h):"GET"==n.J&&Ae(n,!0),c());return t},function(t){return ve(n,t,e)})},function(t){return ve(n,t,e)})}function ve(t,e,n){var r={};return e&&e.message&&(r.error=e.message),Ee(t,e,r,n)}function be(t){return t.h.querySelectorAll('[type="hidden"][data-amp-replace]')}function ye(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.Aa.expandInputValueAsync(e[r]));return Ve(t,n,100)}function ge(t,e,n,r){return Te(t,"submit-success"),p(function(){Oe(t,e||{}).then(function(){Se(t,"submit-success",void 0===r?e:r,n-1),t.ca.onSubmitSuccess()})})}function Ee(t,e,n,r,i){return Te(t,"submit-error"),T().error("amp-form","Form submission failed: %s",e),p(function(){Oe(t,n).then(function(){Se(t,"submit-error",void 0===i?n:i,r-1),t.ca.onSubmitError()})})}function Ae(t,e){de(t,"amp-form-submit"),e&&t.h.submit(),Te(t,"initial")}function xe(t,e){R(!1===t.V.isEnabled(),"[amp-form]: viewerRenderTemplate | %s",e)}function we(t){R(0==t.h.querySelectorAll("input[type=password],input[type=file]").length,"input[type=password] or input[type=file] may only appear in form[method=post]")}function _e(t){if(Xt=void 0===Xt?!!t.j.document.createElement("input").checkValidity:Xt){e=($((e=t.h).querySelectorAll("input,select,textarea,fieldset"),function(t){return Re(t)}),Re(e));if(t.za)return t.Y.report(),e}var e;return 1}function Pe(t,e){if(xe(t,"Redirects not supported."),e&&e.headers){e=e.headers.get("AMP-Redirect-To");if(e){R(!t.Ia,"Redirects not supported in AMP4Email.",t.h),R("_blank"!=t.Ma,"Redirecting to target=_blank using AMP-Redirect-To is currently not supported, use target=_top instead. %s",t.h);try{var n=j(t.B,"url");n.assertAbsoluteHttpOrHttpsUrl(e),n.assertHttpsUrl(e,"AMP-Redirect-To","Url")}catch(t){R(!1,"The `AMP-Redirect-To` header value must be an absolute URL starting with https://. Found %s",e)}C(t.B,"navigation").navigateTo(t.j,e,"AMP-Redirect-To")}}}function Se(t,e,n,r){n=nt(t.j,"amp-form."+e,{response:n}),t.S.trigger(t.h,e,n,r)}function Ve(t,e,n){return Promise.race([Promise.all(e),t.Na.promise(n)])}function Te(t,e){var n=t.K;t.h.classList.remove("amp-form-"+n),t.h.classList.add("amp-form-"+e);n=t.h.querySelector("["+n+"]");if(n){if(/^[\w-]+$/.test("i-amphtml-rendered"),void 0!==q)var r=q;else{try{var i=n.ownerDocument,o=i.createElement("div"),a=i.createElement("div");o.appendChild(a),r=o.querySelector(":scope div")===a}catch(t){r=!1}r=q=r}(n=r?n.querySelector(X(":scope")):(n.classList.add("i-amphtml-scoped"),r=X(".i-amphtml-scoped"),r=n.querySelectorAll(r),n.classList.remove("i-amphtml-scoped"),void 0===r[0]?null:r[0]))&&n.parentElement&&n.parentElement.removeChild(n)}t.K=e}function Oe(n,t){m(t)&&(t={},T().warn("amp-form","Unexpected data type: "+t+". Expected non JSON array."));var r,i=n.h.querySelector("["+n.K+"]"),e=c();return i&&(r="rendered-message-"+n.na,i.setAttribute("role","alert"),i.setAttribute("aria-labeledby",r),i.setAttribute("aria-live","assertive"),n.F.hasTemplate(i)?e=n.V.applySsrOrCsrTemplate(i,t).then(function(t){var e;return m(t)?1===t.length?e=t[0]:(e=document.createElement("div"),t.forEach(function(t){return e.appendChild(t)})):e=t,e.id=r,e.setAttribute("i-amphtml-rendered",""),n.va.mutateElement(i,function(){i.appendChild(e);var t=nt(n.j,"amp:dom-update",null,{bubbles:!0});i.dispatchEvent(t)})}):n.va.mutateElement(i,function(){})),e}function Re(t,e){var n=e=void 0!==e&&e;if(!t.checkValidity)return!0;var r=!1,i=t.classList.contains("user-valid")?"valid":t.classList.contains("user-invalid")?"invalid":"none",e=t.checkValidity();if("valid"!=i&&e?(t.classList.add("user-valid"),t.classList.remove("user-invalid"),r="invalid"==i):"invalid"==i||e||(t.classList.add("user-invalid"),t.classList.remove("user-valid"),r=!0),t.validity)for(var o in t.validity)t.classList.toggle(o,t.validity[o]);if(n&&r){for(i=G(t),o=0;o<i.length;o++)Re(i[o]);t.form&&Re(t.form)}return e}function Ie(t){Re(t,!0)}function Ce(t){var e,n;this.Qa=(e=t,n=new h,ue(e,n.resolve),n.promise.then(function(){return(a=t).whenReady().then(function(){var e,n,r,t,i=a.getRootNode();function o(){var t=n.querySelector("textarea[autoexpand]");t&&!r?r=new ot(e):!t&&r&&(r.dispose(),r=null)}je(i.querySelectorAll("form")),n=(e=a).getRootNode(),r=null,et(n,"amp:dom-update",o),o(),(t=i).addEventListener("amp:dom-update",function(){je(t.querySelectorAll("form"))}),i.addEventListener("keydown",function(t){var e;t.defaultPrevented||"Enter"!=t.key||!t.ctrlKey&&!t.metaKey||"TEXTAREA"!==t.target.tagName||(e=(e=t.target.form)&&e.__AMP_FORM||null)&&(e.ua(t),t.preventDefault())})});var a}))}function je(t){t&&$(t,function(t,e){t.__AMP_FORM||new pe(t,"amp-form-"+e)})}(v=pe.prototype).getXssiPrefix=function(){return this.h.getAttribute("xssi-prefix")},v.requestForFormFetch=function(t,e,n,r){var i={Accept:"application/json"};if("GET"==e||"HEAD"==e){we(this);var o=st(this.h);r&&r.forEach(function(t){return delete o[t]}),n&&function(t,e){var n=[],r=[];for(r.push({t:t,s:e,d:0});0<r.length;){var i=(e=r.shift()).d;t=e.s;var o=e.t;if(n.includes(t))throw Error("Source object has a circular reference.");if(n.push(t),o!==t)if(10<i)Object.assign(o,t);else for(var a=(e=l(Object.keys(t))).next();!a.done;a=e.next()){var s=t[a=a.value];if(b.call(o,a)){var u=o[a];if("[object Object]"===y.call(s)&&"[object Object]"===y.call(u)){r.push({t:u,s:s,d:i+1});continue}}o[a]=s}}}(o,n);var a=Ft(t,Lt(o))}else{var s,u,a=t;for(u in"application/x-www-form-urlencoded"===this.Ha?(s=Lt(st(this.h)),i={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}):s=dt(this.j,this.h),r&&r.forEach(function(t){return s.delete(t)}),n)s.append(u,n[u])}return{xhrUrl:a,fetchOpt:{body:s,method:e,credentials:"include",headers:i}}},v.setXhrAction=function(t){this.O=t},v.Ea=function(t){var e,n=this;return t.satisfiesTrust(2)?"submit"==t.method?function(t){if(t.ma)return t.ma;var e=d(t.h.querySelectorAll(he.join(","))).map(function(t){return t.build()});return t.ma=Ve(t,e,2e3)}(this).then(function(){return"submitting"!=n.K&&_e(n)?me(n,t.trust,null):Promise.resolve(null)}):("clear"===t.method&&((e=this).h.reset(),Te(e,"initial"),e.h.classList.remove("user-valid"),e.h.classList.remove("user-invalid"),$(e.h.querySelectorAll(".user-valid, .user-invalid"),function(t){t.classList.remove("user-valid"),t.classList.remove("user-invalid")}),$(e.h.querySelectorAll(".visible[validation-for]"),function(t){t.classList.remove("visible")}),function(t){var e,n=document.createElement("input"),r={};for(e in n.validity)r.$=e,$(t.querySelectorAll("."+String(r.$).replace(H,B)),function(e){return function(t){t.classList.remove(e.$)}}(r)),r={$:r.$}}(e.h)),null):null},v.oa=function(){var r=this;this.B.whenNextVisible().then(function(){var t=r.h.querySelector("[autofocus]");if(t)try{t.focus()}catch(t){}}),this.h.addEventListener("submit",this.ua.bind(this),!0),this.h.addEventListener("blur",function(t){Ie(t.target),r.Y.onBlur(t)},!0),this.h.addEventListener("amp:form-value-change",function(t){Ie(t.target),r.Y.onInput(t)},!0),this.V.isEnabled()||this.h.addEventListener("change",function(n){r.Pa.onCommit().then(function(t){var e=t.errors;t.updatedElements.forEach(Ie),r.Y.onBlur(n),"verifying"===r.K&&(e.length?(Te(r,"verify-error"),Oe(r,{verifyErrors:e}).then(function(){Se(r,"verify-error",e,2)})):Te(r,"initial"))})}),this.h.addEventListener("input",function(t){Ie(t.target),r.Y.onInput(t)})},v.ua=function(t){return"submitting"!=this.K&&_e(this)?(!this.O&&"POST"!=this.J||t.preventDefault(),me(this,3,t)):(t.stopImmediatePropagation(),t.preventDefault(),Promise.resolve(null))},v.da=function(t,e,n,r){return xe(this,"XHRs should be proxied."),t=this.requestForFormFetch(t,e,n,r),this.sa.fetch(t.xhrUrl,t.fetchOpt)},v.Ta=function(){return this.Ka},v.Va=function(){return this.Ra},Ce.prototype.whenInitialized=function(){return this.Qa},(v=self.AMP).registerServiceForDoc("form-submit-service",wt),v.registerServiceForDoc("amp-form",Ce)}});

(window.monolithJsonpFunction=window.monolithJsonpFunction||[]).push([["2326ab48","774afb24","cc9dd1c9"],{10397:function(e,t,n){"use strict";n.r(t),n.d(t,"fps",function(){return l}),n.d(t,"load",function(){return p}),n.d(t,"metrics",function(){return m});function o(o,a){var n,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,c=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return n=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){switch(window.location.hostname){case"www.avito.ru":case"m.avito.ru":return!0;default:return!1}}(),e.next=3,a;case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}e.t0=i;case 6:if(!e.t0){e.next=10;break}e.t1=fetch("https://stats.avito.ru/api/".concat(s,"/stats/frontend/")+o,{method:"POST",body:JSON.stringify(c?(t=r,{data:n,meta:{connection:Object(u.a)(),page:t||f.a.initialPageId,platform:(t=f.a.initialPlatform,"".concat(t).concat(f.a.isDevEnv?"-dev":""))}}):{data:n})}).then(function(e){return e.json()}).catch(function(){}),e.next=11;break;case 10:e.t1=null;case 11:return e.abrupt("return",e.t1);case 12:case"end":return e.stop()}var t},e)})),function(e,t){return n.apply(this,arguments)}}var r,i,a,s,u=n(10953),c=n(5985),f=n(5986),d=(s=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(c.g)())return e.abrupt("return",!1);e.next=2;break;case 2:return t=f.a.initialPlatform,i=f.a.initialPageId,n=0,e.prev=4,r=o("balance",!0,1,!1),e.next=8,r({platform:t,pageId:i});case 8:i=e.sent,n=i&&i.result&&i.result.percent?i.result.percent:0,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return e.abrupt("return",Object(c.h)(n));case 15:case"end":return e.stop()}},e,null,[[4,12]])})),function(){return s.apply(this,arguments)}),n=new Promise(function(e){e(d())}),l=o("fps",n),p=o("load",n),m=(r=o("generic",n),i=new Map,a=function(){i.forEach(r),i.clear()},function e(){return setTimeout(function(){a(),e()},5e3)}(),window.addEventListener("visibilitychange",a,!0),window.addEventListener("beforeunload",function(){removeEventListener("visibilitychange",a,!0),a()}),function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:f.a.initialPageId,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=[].concat(babelHelpers.toConsumableArray(i.get(t)||[]),babelHelpers.toConsumableArray(e));i.set(t,e),!0===n&&a()})},10398:function(y,g,e){!function(f){var h;!function(){var r=("undefined"==typeof window||window!==this)&&void 0!==f&&null!=f?f:this,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function n(){n=function(){},r.Symbol||(r.Symbol=e)}var i=0;function e(e){return"jscomp_symbol_"+(e||"")+i++}function o(){n();var e=(e=r.Symbol.iterator)||(r.Symbol.iterator=r.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&t(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return a(this)}}),o=function(){}}function a(e){var t,n=0;return t=function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}},o(),(t={next:t})[r.Symbol.iterator]=function(){return this},t}function d(e){o();var t=e[Symbol.iterator];return t?t.call(e):a(e)}function l(e){if(!(e instanceof Array)){e=d(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var p=0,m="img script iframe link audio video source".split(" ");function v(e,t){if(2<e.length)return performance.now();for(var n=[],r=(t=d(t)).next();!r.done;r=t.next())r=r.value,n.push({timestamp:r.start,type:"requestStart"}),n.push({timestamp:r.end,type:"requestEnd"});for(r=(t=d(e)).next();!r.done;r=t.next())n.push({timestamp:r.value,type:"requestStart"});for(n.sort(function(e,t){return e.timestamp-t.timestamp}),e=e.length,t=n.length-1;0<=t;t--)switch(r=n[t],r.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return r.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function s(e){this.w=!!(e=e||{}).useMutationObserver,this.u=e.minValue||null;var n,r,o,a,s,i,c,u,f,t=e.ttiPropName||"__tti";e=window[t]&&window[t].e,t=window[t]&&window[t].o,this.a=e?e.map(function(e){return{start:e.startTime,end:e.startTime+e.duration}}):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,i=this.m.bind(this),c=this.l.bind(this),u=XMLHttpRequest.prototype.send,f=p++,XMLHttpRequest.prototype.send=function(e){for(var t=[],n=0;n<arguments.length;++n)t[+n]=arguments[n];var r=this;return i(f),this.addEventListener("readystatechange",function(){4===r.readyState&&c(f)}),u.apply(this,t)},o=this.m.bind(this),a=this.l.bind(this),s=window.fetch,window.fetch=function(e){for(var i=[],t=0;t<arguments.length;++t)i[+t]=arguments[t];return new Promise(function(t,n){var r=p++;o(r),s.apply(null,[].concat(l(i))).then(function(e){a(r),t(e)},function(e){a(r),n(e)})})},(r=this).c=new PerformanceObserver(function(e){for(var t,n=(e=d(e.getEntries())).next();!n.done;n=e.next())"resource"===(n=n.value).entryType&&(r.b.push({start:n.fetchStart,end:n.responseEnd}),b(r,v(r.g,r.b)+5e3)),"longtask"===n.entryType&&(t=n.startTime+n.duration,r.a.push({start:n.startTime,end:t}),b(r,t+5e3))}),r.c.observe({entryTypes:["longtask","resource"]}),this.w&&(this.h=(n=this.B.bind(this),(t=new MutationObserver(function(e){for(var t=(e=d(e)).next();!t.done;t=e.next())("childList"==(t=t.value).type&&function e(t,n){for(var r=(t=d(t)).next();!r.done;r=t.next())if(r=r.value,n.includes(r.nodeName.toLowerCase())||e(r.children,n))return 1}(t.addedNodes,m)||"attributes"==t.type&&m.includes(t.target.tagName.toLowerCase()))&&n(t)})).observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t))}function c(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=v(e.g,e.b);b(e,Math.max(n+5e3,t))}function b(o,e){!o.i||o.v>e||(clearTimeout(o.j),o.j=setTimeout(function(){var e=performance.timing.navigationStart,t=v(o.g,o.b),e=(window.a&&window.a.A?1e3*window.a.A().C-e:0)||performance.timing.domContentLoadedEventEnd-e,n=o.u||(performance.timing.domContentLoadedEventEnd?(n=performance.timing).domContentLoadedEventEnd-n.navigationStart:null),r=performance.now();null===n&&b(o,Math.max(t+5e3,r+1e3));var i=o.a;(t=r-t<5e3||r-(t=i.length?i[i.length-1].end:e)<5e3?null:Math.max(t,n))&&(o.s(t),clearTimeout(o.j),o.i=!1,o.c&&o.c.disconnect(),o.h&&o.h.disconnect()),b(o,performance.now()+1e3)},e-performance.now()),o.v=e)}s.prototype.getFirstConsistentlyInteractive=function(){var t=this;return new Promise(function(e){t.s=e,"complete"==document.readyState?c(t):window.addEventListener("load",function(){c(t)})})},s.prototype.m=function(e){this.f.set(e,performance.now())},s.prototype.l=function(e){this.f.delete(e)},s.prototype.B=function(){b(this,performance.now()+5e3)},r.Object.defineProperties(s.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(l(this.f.values()))}}});var u={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new s(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};y.exports?y.exports=u:void 0===(h=function(){return u}.apply(g,[]))||(y.exports=h)}()}.call(this,e(3977))},10399:function(e,t){e.exports={calcTBT:function(r){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length?arguments[2]:void 0;return r<=i?0:e.reduce(function(e,t){if(t.startTime<i&&t.startTime+t.duration>=i){var n=t.duration-(i-t.startTime);return 50<=n&&(e+=n-50),e}return t.startTime<r&&t.startTime+t.duration>r&&50<=r-t.startTime?e+(r-t.startTime-50):t.startTime<i||t.startTime>r||t.duration<=50?e:e+(t.duration-50)},0)}}},10400:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="userCentric"},10886:function(e,t,n){"use strict";var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),s=new Uint8Array(16);for(var c=[],r=0;r<256;++r)c.push((r+256).toString(16).substr(1));t.a=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||function(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var i=n||0,o=0;o<16;++o)t[i+o]=r[o];return t}return function(e,t){t=t||0;return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}(r)}},10887:function(e,t,n){"use strict";n.r(t);function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=(n=performance.getEntriesByType("paint").filter(function(e){return"first-contentful-paint"===e.name})).length&&n[0]?n[0].startTime:0;return Object(i.calcTBT)(e,t,n)}var r=n(10398),a=n.n(r),i=n(10399),c=n(10962),u=n(10397),f=n(10400),d=n(5985),l=n(5986);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){if(Object(d.d)(m))try{var s=new PerformanceObserver(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e){if(e){if("string"==typeof e)return p(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(e.getEntries());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.processingStart-r.startTime;Object(l.b)(r.startTime),Object(c.sendFidEvent)(i);var o=performance.getEntriesByType("navigation"),a=(babelHelpers.slicedToArray(o,1)[0]||{}).responseStart;Object(u.metrics)([{name:"firstInputDelay",value:i,prefix:f.a},{name:"firstInputDelayStart.timing",value:r.startTime,prefix:f.a},{name:"firstInputDelayStart.frontend",value:r.startTime-a,prefix:f.a}]),s.disconnect()}}catch(e){n.e(e)}finally{n.f()}});s.observe({type:m,buffered:!0})}catch(s){Object(l.b)(NaN)}else Object(l.b)(NaN)}var m="first-input";n.d(t,"runMetrics",function(){return y});var v,b,h=(b=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(c.sendInteractiveEvent)(t,n),Object(u.metrics)([{name:"timeToInteractive.".concat(r?"beforeFid":"afterFid"),value:t,prefix:f.a},{name:"totalBlockingTime.".concat(r?"beforeFid":"afterFid"),value:n,prefix:f.a},{name:"timeToInteractive.all",value:t,prefix:f.a},{name:"totalBlockingTime.all",value:n,prefix:f.a}]);case 2:case"end":return e.stop()}},e)})),function(e,t,n){return b.apply(this,arguments)}),y=(v=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(),e.next=3,a.a.getFirstConsistentlyInteractive();case 3:null!==(n=e.sent)&&(r=o(n,t),i=null===l.a.fidStartTime||l.a.fidStartTime>n,h(n,r,i),i=new Event("interactivetime"),window.dispatchEvent(i));case 5:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)})},10952:function(e,t,n){"use strict";var l=n(10886);function p(){return(p=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return"number"==typeof e&&isFinite(e)}function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){babelHelpers.defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b="last-ref-id",h="pending";t.a=function e(t){var n,c=this,r=t.common,i=void 0===r?{}:r,o=t.srcId,a=t.buildUid,s=void 0===a?"undefined":a,u=t.softwareVersion,f=t.build,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"/clickstream/events/1/json",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){return null};if(babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"increment",function(){return Object(l.a)()}),babelHelpers.defineProperty(this,"getIds",function(){var e=window.localStorage.getItem(b),t=c.increment();return window.localStorage.setItem(b,t),{refId:t,parentRefId:e,tabId:c.tabId}}),babelHelpers.defineProperty(this,"createEvent",function(e,t,n){var r,i=c.getIds(),o=i.refId,a=i.parentRefId,i=i.tabId,s={event_id:e,version:t,params:n};for(r in s)s.hasOwnProperty(r)&&null===s[r]&&(s[r]=void 0);return s.env={},s.env.cdtm=Number(Date.now().toFixed(1)),s.env.ref_id=o||"",s.env.parent_ref_id=a||"",s.env.tab_id=i||"",s}),babelHelpers.defineProperty(this,"createSendBody",function(e){var t={version:1,meta:v({},c.meta),common:v({},c.common)};return t.events=e.map(function(e){return e.event}),t}),babelHelpers.defineProperty(this,"sendEvents",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.sendBatchEvents();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c.errorHandler(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}))),babelHelpers.defineProperty(this,"cycleSend",babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){return p.apply(this,arguments)}(1e3);case 2:c.events.filter(function(e){return e.status!==h}).length&&c.sendEvents(),c.cycleSend();case 5:case"end":return e.stop()}},e)}))),babelHelpers.defineProperty(this,"sendBatchEvents",function(){var e=c.events.filter(function(e){return e.status!==h}),t=c.createSendBody(e);c.events=e.map(function(e){return v({},e,{},{status:h})});e=e.map(function(e){return e.id});return c.sendData(t,e)}),babelHelpers.defineProperty(this,"sendData",function(e,t){return fetch(c.link,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)}).then(function(e){return 400<=e.status&&502!==e.status?(c.clearBatch(t),Promise.reject(e)):(c.clearBatch(t),{response:e})})}),babelHelpers.defineProperty(this,"sendEvent",function(e,t,n){if(c.ssr)return"";if(!m(e))throw new Error("event id should be number type");if(!m(t))throw new Error("event version should be number type");n=c.createEvent(e,t,n);return c.events.push({id:Object(l.a)(),event:n}),1e3<c.events.length&&c.sendEvents(),n.env.ref_id}),babelHelpers.defineProperty(this,"clearBatch",function(e){e.forEach(function(t){var e=c.events.findIndex(function(e){return e.id===t});c.event.splice(e,0)})}),babelHelpers.defineProperty(this,"setUID",function(e){c.common=v({},c.common,{uid:e})}),!o)throw new Error("srcId is required");"undefined"!=typeof window?(a=window.location.origin,t=window.performance&&window.performance.navigation&&1===window.performance.navigation.type,this.events=[],this.link=d,window.addEventListener("onbeforeunload",function(){c.sendBatchEvents(c.events)}),this.cycleSend(),t||(n=a,window.document.referrer&&window.document.referrer.startsWith(n))||window.localStorage.removeItem(b),(a=window.sessionStorage.tabId)||(a=Object(l.a)(),window.sessionStorage.tabId=a),this.meta={src_id:o,build_uid:s,sdk:"js/1",software_version:u,build:f},this.tabId=a,this.common=v({src_id:o},i),this.errorHandler=r):this.ssr=!0}},10962:function(e,t,n){"use strict";n.r(t);var r=n(10952),o=n(5986),i=o.a.initialPlatform,a=(window.avito||{}).userId,a=parseInt(void 0===a?"":a,10),s=new r.a({buildUid:"performance-frontend-load",softwareVersion:"desktop"===i?"Desktop":"MAV",srcId:"desktop"===i?96:95,common:{uid:isNaN(a)?void 0:a,ua:window.navigator.userAgent}}),c=function(e,t,n){return s.sendEvent(e,t,n)},u=n(10953),f=n(5985);function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}n.d(t,"sendLoadEvent",function(){return m}),n.d(t,"sendInteractiveEvent",function(){return v}),n.d(t,"sendFidEvent",function(){return b}),n.d(t,"sendLcpEvent",function(){return h}),n.d(t,"sendClsEvent",function(){return y});function l(e,t,n){var r=o.a.initialPageId,i=o.a.isDevEnv;Object(f.g)()||i||(i=Object(u.a)().type,c(e,t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){babelHelpers.defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({from_page:r,network_type:p[i]},n)))}var p={unknown:"UNKNOWN",gprs:"GPRS",regular2G:"2G",good2G:"2G_plus",regular3G:"3G",good3G:"3G_plus",regular4G:"4G",wifi:"Wi-Fi"},m=function(e){l(3939,3,{performance_meta_route_name:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unknown",performance_timing_redirect_start:e.redirectStart,performance_timing_redirect_end:e.redirectEnd,performance_timing_fetch_start:e.fetchStart,performance_timing_domain_lookup_start:e.domainLookupStart,performance_timing_domain_lookup_end:e.domainLookupEnd,performance_timing_connect_start:e.connectStart,performance_timing_secure_connection_start:e.secureConnectionStart,performance_timing_connect_end:e.connectEnd,performance_timing_request_start:e.requestStart,performance_timing_response_start:e.responseStart,performance_timing_response_end:e.responseEnd,performance_timing_first_paint:e.firstPaint,performance_timing_first_contentful_paint:e.firstContentfulPaint,performance_timing_dom_interactive:e.domInteractive,performance_timing_dom_content_loaded_event_start:e.domContentLoadedEventStart,performance_timing_dom_content_loaded_event_end:e.domContentLoadedEventEnd,performance_timing_dom_complete:e.domComplete,performance_timing_load_event_start:e.loadEventStart,performance_timing_load_event_end:e.loadEventEnd})},v=function(e,t){l(4154,2,{performance_user_centric_interactive:e,performance_user_centric_total_blocking_time:t})},b=function(e){l(4156,1,{performance_user_centric_first_input_delay:e})},h=function(e){l(4409,1,{performance_user_centric_largest_contentful_paint:e})},y=function(e){l(4571,0,{performance_user_centric_cumulative_layout_shift:e})}},3977:function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}}]);

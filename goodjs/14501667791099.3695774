!function(){var e,t,i,n,o;n=this,o=function(){"use strict";function n(e){var t=this instanceof n;if(e){if(t)throw new Error("You can't pass a target when instantiating with the `new` keyword");for(var i in n.prototype)e[i]=n.prototype[i]}else if(!t)return new n}function o(e){if(!(e&&e instanceof Function))throw new Error(e+" is not a Function")}return n.prototype.__init=function(e){var t=this.__listeners||(this.__listeners=[]);return t[e]||(t[e]=[])},n.prototype.on=function(e,t){o(t),this.__init(e).push(t)},n.prototype.off=function(e,t){e=this.__init(e);e.splice(e.indexOf(t),1)},n.prototype.once=function(e,t){o(t);function i(){n.off(e,i),t.apply(this,arguments)}var n=this;this.on(e,i)},n.prototype.emit=function(e){var t,i=this.__init(e).slice(0);for(t in i)i[t].apply(this,[].slice.call(arguments,1))},n},"object"==typeof exports?module.exports=o():"function"==typeof define&&define.amd?define("vendor/bower/happens/index",o):n.Happens=o(),define("lib/core",["jquery","vendor/bower/happens/index"],function(e,t){"use strict";return{$:e,config:{},pubsub:t()}}),i=this,define("vendor/bower/underscore/underscore",[],function(){return function(){return function(){function e(a){return function(e,t,i,n){t=b(t,n,4);var o=!x(e)&&g.keys(e),s=(o||e).length,r=0<a?0:s-1;return arguments.length<3&&(i=e[o?o[r]:r],r+=a),function(e,t,i,n,o,s){for(;0<=o&&o<s;o+=a){var r=n?n[o]:o;i=t(i,e[r],r,e)}return i}(e,t,i,o,r,s)}}function t(s){return function(e,t,i){t=w(t,i);for(var n=C(e),o=0<s?0:n-1;0<=o&&o<n;o+=s)if(t(e[o],o,e))return o;return-1}}function i(s,r,a){return function(e,t,i){var n=0,o=C(e);if("number"==typeof i)0<s?n=0<=i?i:Math.max(i+o,n):o=0<=i?Math.min(i+1,o):i+o+1;else if(a&&i&&o)return e[i=a(e,t)]===t?i:-1;if(t!=t)return 0<=(i=r(d.call(e,n,o),g.isNaN))?i+n:-1;for(i=0<s?n:o-1;0<=i&&i<o;i+=s)if(e[i]===t)return i;return-1}}function n(e,t){var i=D.length,n=e.constructor,o=g.isFunction(n)&&n.prototype||a,s="constructor";for(g.has(e,s)&&!g.contains(t,s)&&t.push(s);i--;)(s=D[i])in e&&e[s]!==o[s]&&!g.contains(t,s)&&t.push(s)}var o=this,s=o._,r=Array.prototype,a=Object.prototype,l=Function.prototype,c=r.push,d=r.slice,u=a.toString,h=a.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,v=Object.create,y=function(){},g=function(e){return e instanceof g?e:this instanceof g?void(this._wrapped=e):new g(e)};"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=g:exports)._=g:o._=g,g.VERSION="1.8.3";var b=function(o,s,e){if(void 0===s)return o;switch(null==e?3:e){case 1:return function(e){return o.call(s,e)};case 2:return function(e,t){return o.call(s,e,t)};case 3:return function(e,t,i){return o.call(s,e,t,i)};case 4:return function(e,t,i,n){return o.call(s,e,t,i,n)}}return function(){return o.apply(s,arguments)}},w=function(e,t,i){return null==e?g.identity:g.isFunction(e)?b(e,t,i):g.isObject(e)?g.matcher(e):g.property(e)};g.iteratee=function(e,t){return w(e,t,1/0)};var _=function(l,c){return function(e){var t=arguments.length;if(t<2||null==e)return e;for(var i=1;i<t;i++)for(var n=arguments[i],o=l(n),s=o.length,r=0;r<s;r++){var a=o[r];c&&void 0!==e[a]||(e[a]=n[a])}return e}},k=function(e){if(!g.isObject(e))return{};if(v)return v(e);y.prototype=e;e=new y;return y.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,C=S("length"),x=function(e){e=C(e);return"number"==typeof e&&0<=e&&e<=T};g.each=g.forEach=function(e,t,i){if(t=b(t,i),x(e))for(o=0,s=e.length;o<s;o++)t(e[o],o,e);else for(var n=g.keys(e),o=0,s=n.length;o<s;o++)t(e[n[o]],n[o],e);return e},g.map=g.collect=function(e,t,i){t=w(t,i);for(var n=!x(e)&&g.keys(e),o=(n||e).length,s=Array(o),r=0;r<o;r++){var a=n?n[r]:r;s[r]=t(e[a],a,e)}return s},g.reduce=g.foldl=g.inject=e(1),g.reduceRight=g.foldr=e(-1),g.find=g.detect=function(e,t,i){i=x(e)?g.findIndex(e,t,i):g.findKey(e,t,i);if(void 0!==i&&-1!==i)return e[i]},g.filter=g.select=function(e,n,t){var o=[];return n=w(n,t),g.each(e,function(e,t,i){n(e,t,i)&&o.push(e)}),o},g.reject=function(e,t,i){return g.filter(e,g.negate(w(t)),i)},g.every=g.all=function(e,t,i){t=w(t,i);for(var n=!x(e)&&g.keys(e),o=(n||e).length,s=0;s<o;s++){var r=n?n[s]:s;if(!t(e[r],r,e))return!1}return!0},g.some=g.any=function(e,t,i){t=w(t,i);for(var n=!x(e)&&g.keys(e),o=(n||e).length,s=0;s<o;s++){var r=n?n[s]:s;if(t(e[r],r,e))return!0}return!1},g.contains=g.includes=g.include=function(e,t,i,n){return x(e)||(e=g.values(e)),0<=g.indexOf(e,t,i="number"!=typeof i||n?0:i)},g.invoke=function(e,i){var n=d.call(arguments,2),o=g.isFunction(i);return g.map(e,function(e){var t=o?i:e[i];return null==t?t:t.apply(e,n)})},g.pluck=function(e,t){return g.map(e,g.property(t))},g.where=function(e,t){return g.filter(e,g.matcher(t))},g.findWhere=function(e,t){return g.find(e,g.matcher(t))},g.max=function(e,n,t){var i,o,s=-1/0,r=-1/0;if(null==n&&null!=e)for(var a=0,l=(e=x(e)?e:g.values(e)).length;a<l;a++)i=e[a],s<i&&(s=i);else n=w(n,t),g.each(e,function(e,t,i){o=n(e,t,i),(r<o||o===-1/0&&s===-1/0)&&(s=e,r=o)});return s},g.min=function(e,n,t){var i,o,s=1/0,r=1/0;if(null==n&&null!=e)for(var a=0,l=(e=x(e)?e:g.values(e)).length;a<l;a++)(i=e[a])<s&&(s=i);else n=w(n,t),g.each(e,function(e,t,i){((o=n(e,t,i))<r||o===1/0&&s===1/0)&&(s=e,r=o)});return s},g.shuffle=function(e){for(var t,i=x(e)?e:g.values(e),n=i.length,o=Array(n),s=0;s<n;s++)(t=g.random(0,s))!==s&&(o[s]=o[t]),o[t]=i[s];return o},g.sample=function(e,t,i){return null==t||i?(e=!x(e)?g.values(e):e)[g.random(e.length-1)]:g.shuffle(e).slice(0,Math.max(0,t))},g.sortBy=function(e,n,t){return n=w(n,t),g.pluck(g.map(e,function(e,t,i){return{value:e,index:t,criteria:n(e,t,i)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};l=function(s){return function(i,n,e){var o={};return n=w(n,e),g.each(i,function(e,t){t=n(e,t,i);s(o,e,t)}),o}};g.groupBy=l(function(e,t,i){g.has(e,i)?e[i].push(t):e[i]=[t]}),g.indexBy=l(function(e,t,i){e[i]=t}),g.countBy=l(function(e,t,i){g.has(e,i)?e[i]++:e[i]=1}),g.toArray=function(e){return e?g.isArray(e)?d.call(e):x(e)?g.map(e,g.identity):g.values(e):[]},g.size=function(e){return null==e?0:(x(e)?e:g.keys(e)).length},g.partition=function(e,n,t){n=w(n,t);var o=[],s=[];return g.each(e,function(e,t,i){(n(e,t,i)?o:s).push(e)}),[o,s]},g.first=g.head=g.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:g.initial(e,e.length-t)},g.initial=function(e,t,i){return d.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},g.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:g.rest(e,Math.max(0,e.length-t))},g.rest=g.tail=g.drop=function(e,t,i){return d.call(e,null==t||i?1:t)},g.compact=function(e){return g.filter(e,g.identity)};var M=function(e,t,i,n){for(var o=[],s=0,r=n||0,a=C(e);r<a;r++){var l=e[r];if(x(l)&&(g.isArray(l)||g.isArguments(l))){var c=0,d=(l=!t?M(l,t,i):l).length;for(o.length+=d;c<d;)o[s++]=l[c++]}else i||(o[s++]=l)}return o};g.flatten=function(e,t){return M(e,t,!1)},g.without=function(e){return g.difference(e,d.call(arguments,1))},g.uniq=g.unique=function(e,t,i,n){g.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=w(i,n));for(var o=[],s=[],r=0,a=C(e);r<a;r++){var l=e[r],c=i?i(l,r,e):l;t?(r&&s===c||o.push(l),s=c):i?g.contains(s,c)||(s.push(c),o.push(l)):g.contains(o,l)||o.push(l)}return o},g.union=function(){return g.uniq(M(arguments,!0,!0))},g.intersection=function(e){for(var t=[],i=arguments.length,n=0,o=C(e);n<o;n++){var s=e[n];if(!g.contains(t,s)){for(var r=1;r<i&&g.contains(arguments[r],s);r++);r===i&&t.push(s)}}return t},g.difference=function(e){var t=M(arguments,!0,!0,1);return g.filter(e,function(e){return!g.contains(t,e)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(e){for(var t=e&&g.max(e,C).length||0,i=Array(t),n=0;n<t;n++)i[n]=g.pluck(e,n);return i},g.object=function(e,t){for(var i={},n=0,o=C(e);n<o;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},g.findIndex=t(1),g.findLastIndex=t(-1),g.sortedIndex=function(e,t,i,n){for(var o=(i=w(i,n,1))(t),s=0,r=C(e);s<r;){var a=Math.floor((s+r)/2);i(e[a])<o?s=a+1:r=a}return s},g.indexOf=i(1,g.findIndex,g.sortedIndex),g.lastIndexOf=i(-1,g.findLastIndex),g.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;s<n;s++,e+=i)o[s]=e;return o};function P(e,t,i,n,o){if(n instanceof t){n=k(e.prototype),t=e.apply(n,o);return g.isObject(t)?t:n}return e.apply(i,o)}g.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,d.call(arguments,1));if(!g.isFunction(e))throw new TypeError("Bind must be called on a function");function i(){return P(e,i,t,this,n.concat(d.call(arguments)))}var n=d.call(arguments,2);return i},g.partial=function(o){function s(){for(var e=0,t=r.length,i=Array(t),n=0;n<t;n++)i[n]=r[n]===g?arguments[e++]:r[n];for(;e<arguments.length;)i.push(arguments[e++]);return P(o,s,this,this,i)}var r=d.call(arguments,1);return s},g.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[i=arguments[t]]=g.bind(e[i],e);return e},g.memoize=function(n,o){function s(e){var t=s.cache,i=""+(o?o.apply(this,arguments):e);return g.has(t,i)||(t[i]=n.apply(this,arguments)),t[i]}return s.cache={},s},g.delay=function(e,t){var i=d.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},g.defer=g.partial(g.delay,g,1),g.throttle=function(i,n,o){var s,r,a,l=null,c=0;o=o||{};function d(){c=!1===o.leading?0:g.now(),l=null,a=i.apply(s,r),l||(s=r=null)}return function(){var e=g.now();c||!1!==o.leading||(c=e);var t=n-(e-c);return s=this,r=arguments,t<=0||n<t?(l&&(clearTimeout(l),l=null),c=e,a=i.apply(s,r),l||(s=r=null)):l||!1===o.trailing||(l=setTimeout(d,t)),a}},g.debounce=function(t,i,n){function o(){var e=g.now()-l;e<i&&0<=e?s=setTimeout(o,i-e):(s=null,n||(c=t.apply(a,r),s||(a=r=null)))}var s,r,a,l,c;return function(){a=this,r=arguments,l=g.now();var e=n&&!s;return s=s||setTimeout(o,i),e&&(c=t.apply(a,r),a=r=null),c}},g.wrap=function(e,t){return g.partial(t,e)},g.negate=function(e){return function(){return!e.apply(this,arguments)}},g.compose=function(){var i=arguments,n=i.length-1;return function(){for(var e=n,t=i[n].apply(this,arguments);e--;)t=i[e].call(this,t);return t}},g.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},g.before=function(e,t){var i;return function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},g.once=g.partial(g.before,2);var $=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(e){if(!g.isObject(e))return[];if(f)return f(e);var t,i=[];for(t in e)g.has(e,t)&&i.push(t);return $&&n(e,i),i},g.allKeys=function(e){if(!g.isObject(e))return[];var t,i=[];for(t in e)i.push(t);return $&&n(e,i),i},g.values=function(e){for(var t=g.keys(e),i=t.length,n=Array(i),o=0;o<i;o++)n[o]=e[t[o]];return n},g.mapObject=function(e,t,i){t=w(t,i);for(var n,o=g.keys(e),s=o.length,r={},a=0;a<s;a++)r[n=o[a]]=t(e[n],n,e);return r},g.pairs=function(e){for(var t=g.keys(e),i=t.length,n=Array(i),o=0;o<i;o++)n[o]=[t[o],e[t[o]]];return n},g.invert=function(e){for(var t={},i=g.keys(e),n=0,o=i.length;n<o;n++)t[e[i[n]]]=i[n];return t},g.functions=g.methods=function(e){var t,i=[];for(t in e)g.isFunction(e[t])&&i.push(t);return i.sort()},g.extend=_(g.allKeys),g.extendOwn=g.assign=_(g.keys),g.findKey=function(e,t,i){t=w(t,i);for(var n,o=g.keys(e),s=0,r=o.length;s<r;s++)if(t(e[n=o[s]],n,e))return n},g.pick=function(e,t,i){var n,o,s={},r=e;if(null==r)return s;g.isFunction(t)?(o=g.allKeys(r),n=b(t,i)):(o=M(arguments,!1,!1,1),n=function(e,t,i){return t in i},r=Object(r));for(var a=0,l=o.length;a<l;a++){var c=o[a],d=r[c];n(d,c,r)&&(s[c]=d)}return s},g.omit=function(e,t,i){var n;return t=g.isFunction(t)?g.negate(t):(n=g.map(M(arguments,!1,!1,1),String),function(e,t){return!g.contains(n,t)}),g.pick(e,t,i)},g.defaults=_(g.allKeys,!0),g.create=function(e,t){e=k(e);return t&&g.extendOwn(e,t),e},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.tap=function(e,t){return t(e),e},g.isMatch=function(e,t){var i=g.keys(t),n=i.length;if(null==e)return!n;for(var o=Object(e),s=0;s<n;s++){var r=i[s];if(t[r]!==o[r]||!(r in o))return!1}return!0};var O=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof g&&(e=e._wrapped),t instanceof g&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var r=e.constructor,o=t.constructor;if(r!==o&&!(g.isFunction(r)&&r instanceof r&&g.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var a=(i=i||[]).length;a--;)if(i[a]===e)return n[a]===t;if(i.push(e),n.push(t),s){if((a=e.length)!==t.length)return!1;for(;a--;)if(!O(e[a],t[a],i,n))return!1}else{var l,c=g.keys(e),a=c.length;if(g.keys(t).length!==a)return!1;for(;a--;)if(l=c[a],!g.has(t,l)||!O(e[l],t[l],i,n))return!1}return i.pop(),n.pop(),!0};g.isEqual=function(e,t){return O(e,t)},g.isEmpty=function(e){return null==e||(x(e)&&(g.isArray(e)||g.isString(e)||g.isArguments(e))?0===e.length:0===g.keys(e).length)},g.isElement=function(e){return!!e&&1===e.nodeType},g.isArray=p||function(e){return"[object Array]"===u.call(e)},g.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){g["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),g.isArguments(arguments)||(g.isArguments=function(e){return g.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(e){return"function"==typeof e||!1}),g.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&e!==+e},g.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,t){return null!=e&&h.call(e,t)},g.noConflict=function(){return o._=s,this},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.noop=function(){},g.property=S,g.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},g.matcher=g.matches=function(t){return t=g.extendOwn({},t),function(e){return g.isMatch(e,t)}},g.times=function(e,t,i){var n=Array(Math.max(0,e));t=b(t,i,1);for(var o=0;o<e;o++)n[o]=t(o);return n},g.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},g.now=Date.now||function(){return(new Date).getTime()};_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},p=g.invert(_),S=function(t){function i(e){return t[e]}var e="(?:"+g.keys(t).join("|")+")",n=RegExp(e),o=RegExp(e,"g");return function(e){return n.test(e=null==e?"":""+e)?e.replace(o,i):e}};g.escape=S(_),g.unescape=S(p),g.result=function(e,t,i){t=null==e?void 0:e[t];return g.isFunction(t=void 0===t?i:t)?t.call(e):t};var E=0;g.uniqueId=function(e){var t=++E+"";return e?e+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function A(e){return"\\"+Y[e]}var I=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g;g.template=function(s,e,t){e=g.defaults({},e=!e&&t?t:e,g.templateSettings);var t=RegExp([(e.escape||I).source,(e.interpolate||I).source,(e.evaluate||I).source].join("|")+"|$","g"),r=0,a="__p+='";s.replace(t,function(e,t,i,n,o){return a+=s.slice(r,o).replace(L,A),r=o+e.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(a+="';\n"+n+"\n__p+='"),e}),a+="';\n",a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+(a=!e.variable?"with(obj||{}){\n"+a+"}\n":a)+"return __p;\n";try{var i=new Function(e.variable||"obj","_",a)}catch(e){throw e.source=a,e}t=function(e){return i.call(this,e,g)},e=e.variable||"obj";return t.source="function("+e+"){\n"+a+"}",t},g.chain=function(e){e=g(e);return e._chain=!0,e};function j(e,t){return e._chain?g(t).chain():t}g.mixin=function(i){g.each(g.functions(i),function(e){var t=g[e]=i[e];g.prototype[e]=function(){var e=[this._wrapped];return c.apply(e,arguments),j(this,t.apply(g,e))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=r[t];g.prototype[t]=function(){var e=this._wrapped;return i.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],j(this,e)}}),g.each(["concat","join","slice"],function(e){var t=r[e];g.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}.call(this),i._=_}.apply(i,arguments)}),define("ads",["lib/core","vendor/bower/underscore/underscore"],function(n,i){"use strict";function o(e,t,i){n.$("body").removeClass("mpu--tall mpu--standard").addClass(i?320<i?"mpu--tall":"mpu--standard":"")}return{init:function(e,t){t&&(t.reset&&n.$(e).on("resize",i.debounce(t.reset,300)),t.pubsub&&t.pubsub.on("ad:open:mpu ad:resize:mpu ad:close:mpu",o))}}}),t=this,define("vendor/bower/cookie-monster/cookie-monster",[],function(){return function(){var e={set:function(e,t,i,n,o){var s=new Date,r="",a=typeof t,l="",c="";if(n=n||"/",i&&(s.setTime(s.getTime()+24*i*60*60*1e3),r="; expires="+s.toUTCString()),"object"==a&&"undefined"!=a){if(!("JSON"in window))throw"Bummer, your browser doesn't support JSON parsing.";l=encodeURIComponent(JSON.stringify({v:t}))}else l=encodeURIComponent(t);o&&(c="; secure"),document.cookie=e+"="+l+r+"; path="+n+c},get:function(e){for(var t,i=e+"=",n=document.cookie.split(";"),o="",s=0;s<n.length;s++){for(var r=n[s];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(i)){if("{"==(o=decodeURIComponent(r.substring(i.length,r.length))).substring(0,1))try{if("v"in(t=JSON.parse(o)))return t.v}catch(e){return o}return"undefined"==o?void 0:o}}return null},remove:function(e){this.set(e,"",-1)},increment:function(e,t){var i=this.get(e)||0;this.set(e,parseInt(i,10)+1,t)},decrement:function(e,t){var i=this.get(e)||0;this.set(e,parseInt(i,10)-1,t)}};return t.monster=e}.apply(t,arguments)}),define("lib/util",["vendor/bower/cookie-monster/cookie-monster","vendor/bower/underscore/underscore"],function(e,o){"use strict";return{logger:function(){for(var e=["assert","count","dir","error","group","groupCollapsed","groupEnd","info","log","time","timeEnd","trace","warn"],t={},i=0;i<e.length;i++){var n=e[i];t[n]=function(t){return function(){if("undefined"!=typeof console&&t in console)try{console[t].apply(console,Array.prototype.slice.call(arguments))}catch(e){console[t](Array.prototype.slice.call(arguments))}}}(n)}return t}(),date:(t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],{getDayName:function(e){return void 0===e.getDay||void 0===t[e.getDay()]?"":t[e.getDay()]},getMonthName:function(e){return void 0===e.getMonth||void 0===i[e.getMonth()]?"":i[e.getMonth()]},getFormattedDate:function(e){return this.getDayName(e)+", "+e.getDate()+" "+this.getMonthName(e)}}),extend:function(e,t){var i=this,n=e&&o.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)};o.extend(n,i,t);t=function(){this.constructor=n};return t.prototype=i.prototype,n.prototype=new t,e&&o.extend(n.prototype,e),n.__super__=i.prototype,n},cookie:e,isSandbox:function(e){return 0===e.host.indexOf("pal.sandbox.dev")},isModernBrowser:function(){var e=!1;try{e="localStorage"in window&&"setItem"in localStorage}catch(e){}return e}};var t,i}),define("lib/module/manager",["lib/util","jquery","require","vendor/bower/underscore/underscore"],function(s,r,e,a){"use strict";return{load:function(){var t=r.Deferred(),e=r("html"),n=[],i=[],o=[];return s.isModernBrowser()?(e.addClass("wwhp-js"),r("[data-wwhp-module]").each(function(e,t){var i=a.map((r(t).data("wwhp-module")||"").split(","),r.trim);a.each(i,function(e){n.push({name:e,element:r(t)})})}),a.each(n,function(e){this.loadModule(e).done(function(e){i.push(e)}).fail(function(e){o.push(e),s.logger.error("Module failed to load",e)}).always(function(){i.length+o.length===n.length&&t.resolve(i,o)})},this)):(e.addClass("wwhp-no-js"),t.reject(i,o)),t.promise()},loadModule:function(i){var n=r.Deferred();return e(["modules/"+i.name],function(e){try{var t=new e(i.element,{});i.element.data(i.name,i),i.instance=t,n.resolve(i)}catch(e){i.error=e,n.reject(i)}},function(e){i.error=e,n.reject(i)}),n.promise()}}}),function(){"use strict";function r(o,e){var t;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=o,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!r.notNeeded(o)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,s=i.length;n<s;n++)this[i[n]]=function(e,t){return function(){return e.apply(t,arguments)}}(this[i[n]],this);a&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(e,t,i){var n=Node.prototype.removeEventListener;"click"===e?n.call(o,e,t.hijacked||t,i):n.call(o,e,t,i)},o.addEventListener=function(e,t,i){var n=Node.prototype.addEventListener;"click"===e?n.call(o,e,t.hijacked||(t.hijacked=function(e){e.propagationStopped||t(e)}),i):n.call(o,e,t,i)}),"function"==typeof o.onclick&&(t=o.onclick,o.addEventListener("click",function(e){t(e)},!1),o.onclick=null)}}var e=0<=navigator.userAgent.indexOf("Windows Phone"),a=0<navigator.userAgent.indexOf("Android")&&!e,l=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,c=l&&/OS 4_\d(_\d)?/.test(navigator.userAgent),d=l&&/OS [6-7]_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10");r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(l&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],(t=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.forwardedTouchEvent=!0,e.dispatchEvent(t)},r.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;l&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,i=e.fastClickScrollParent;if(!i||!i.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){i=t,e.fastClickScrollParent=t;break}}while(t=t.parentElement)}i&&(i.fastClickLastScrollTop=i.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,i,n;if(1<e.targetTouches.length)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],l){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!c){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],e=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>e||Math.abs(t.pageY-this.touchStartY)>e},r.prototype.onTouchMove=function(e){return this.trackingClick&&(this.targetElement===this.getTargetElementFromEventTarget(e.target)&&!this.touchHasMoved(e)||(this.trackingClick=!1,this.targetElement=null)),!0},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,i,n,o,s=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,d&&(o=e.changedTouches[0],(s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(i=s.tagName.toLowerCase())){if(o=this.findControl(s)){if(this.focus(s),a)return!1;s=o}}else if(this.needsFocus(s))return 100<e.timeStamp-t||l&&window.top!==window&&"input"===i?this.targetElement=null:(this.focus(s),this.sendClick(s,e),l&&"select"===i||(this.targetElement=null,e.preventDefault())),!1;return!(!l||c||!(n=s.fastClickScrollParent)||n.fastClickLastScrollTop===n.scrollTop)||(this.needsClick(s)||(e.preventDefault(),this.sendClick(s,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},r.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((e=this.onMouse(e))||(this.targetElement=null),e)},r.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},r.attach=function(e,t){return new r(e,t)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("vendor/bower/fastclick/fastclick",[],function(){return r}):"undefined"!=typeof module&&module.exports?(module.exports=r.attach,module.exports.FastClick=r):window.FastClick=r}(),define("app",["ads","lib/module/manager","lib/core","lib/util","vendor/bower/fastclick/fastclick"],function(t,n,o,e,s){"use strict";return{init:function(i,e){o.config=e,t.init(i,i.bbcdotcom),"[object OperaMini]"===Object.prototype.toString.call(i.operamini)&&o.$("html").addClass("opera-mini"),i.wwhp={},i.wwhp.core=o,n.load().always(function(e,t){i.wwhp.modules=e,i.wwhp.failed=t}),s.attach(i.document.body,{})}}}),define("lib/module/base",["lib/core","lib/util"],function(e,t){"use strict";function i(e,t){this.$el=e,this.elCache={},this.selectors=this.selectors||{},this.init.apply(this,arguments)}return i.prototype.$=e.$,i.prototype.init=function(e,t){},i.prototype.$get=function(e){if(!this.selectors[e])throw new Error("Invalid selector name "+e);return this.elCache[e]||(this.elCache[e]=this.$el.find(this.selectors[e])),this.elCache[e]},i.prototype.clearElCache=function(){this.elCache={}},i.extend=t.extend,i}),define("modules/header",["lib/module/base","lib/util"],function(e,t){"use strict";return e.extend({selectors:{header:".module__title"},init:function(){var e=this.getDate();this.$get("header").html("<span>Welcome to BBC.com</span>"+t.date.getDayName(e)+", "+e.getDate()+" "+t.date.getMonthName(e)),this.$get("header").css({opacity:1})},getDate:function(){return new Date}})}),function(o,s){"use strict";function r(e,t){for(var i=0,n=e.length,o=[];i<n;i++)o[i]=t(e[i],i);return o}function a(e){return e}function l(){}function n(){return!0}function i(i,n){var o;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){o=null,i.apply(e,t)},n)}}function c(e,t){var i=this,n=s;t=t||{},void 0!==e&&("string"==typeof e?(t.selector=e,e=void 0):void 0===e.length&&(t=e,e=void 0)),this.viewportHeight=n.documentElement.clientHeight,this.selector=e?null:t.selector||".delayed-image-load",this.className=t.className||"image-replace",this.gif=n.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.lazyloadOffset=t.lazyloadOffset||0,this.scrollDelay=t.scrollDelay||250,this.onResize=!t.hasOwnProperty("onResize")||t.onResize,this.lazyload=!!t.hasOwnProperty("lazyload")&&t.lazyload,this.loadHidden=!t.hasOwnProperty("loadHidden")||t.loadHidden,this.scrolled=!1,this.availablePixelRatios=t.availablePixelRatios||[1,2],this.availableWidths=t.availableWidths||u,this.onImagesReplaced=t.onImagesReplaced||l,this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=t.widthInterpolator||a,this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=c.createWidthsMap(this.availableWidths,this.widthInterpolator,this.devicePixelRatio):(this.widthsMap=this.availableWidths,this.availableWidths=h(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(e,t){return e-t})),this.divs=[],this.add(e||this.selector),this.ready(t.onReady),setTimeout(function(){i.init()},0)}var d=s.addEventListener?function(e,t,i){return e.addEventListener(t,i,!1)}:function(e,t,i){return e.attachEvent("on"+t,i)},u=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],h="function"==typeof Object.keys?Object.keys:function(e){var t,i=[];for(t in e)i.push(t);return i};c.prototype.add=function(e){e="string"==typeof(e=e||this.selector)?s.querySelectorAll(e):e;e&&e.length&&(e=r(e,a),this.changeDivsToEmptyImages(e),this.divs=this.divs.concat(e))},c.prototype.scrollCheck=function(){var t=this,i=0,n=[];this.scrolled&&(r(this.divs,function(e){t.isPlaceholder(e)&&(++i,t.isThisElementOnScreen(e)&&n.push(e))}),0===i&&o.clearInterval(t.interval),this.changeDivsToEmptyImages(n),this.scrolled=!1)},c.prototype.init=function(){var t=this;this.initialized=!0;var e=n;this.lazyload?(this.registerScrollEvent(),this.scrolled=!0,t.scrollCheck(),e=function(e){return!1===t.isPlaceholder(e)}):this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(e),this.onReady()},c.prototype.ready=function(e){this.onReady=e||l},c.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=e.getAttribute("data-class"),i=e.getAttribute("data-width"),n=this.gif.cloneNode(!1);return i&&(n.width=i,n.setAttribute("data-width",i)),n.className=(t?t+" ":"")+this.className,n.setAttribute("data-src",e.getAttribute("data-src")),n.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),e.parentNode.replaceChild(n,e),n},c.prototype.changeDivsToEmptyImages=function(i){var n=this;r(i,function(e,t){i[t]=n.createGif(e)}),this.initialized&&this.checkImagesNeedReplacing(i)},c.prototype.isPlaceholder=function(e){return e.src===this.gif.src},c.prototype.isThisElementOnScreen=function(e){var t=0,i=c.getPageOffset()+this.lazyloadOffset;if(e.offsetParent)for(;t+=e.offsetTop,e=e.offsetParent;);return t<this.viewportHeight+i},c.prototype.checkImagesNeedReplacing=function(e,t){var i=this;t=t||n,this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),r(e,function(e){i.isImageEligibleForReplacing(e)&&t(e)&&i.replaceImagesBasedOnScreenDimensions(e)}),this.isResizing=!1,this.onImagesReplaced(e))},c.prototype.isImageEligibleForReplacing=function(e){return this.loadHidden||c.isElementVisible(e)},c.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t=c.getNaturalWidth(e),i="function"==typeof this.availableWidths?this.availableWidths(e):this.determineAppropriateResolution(e);e.width=i,!this.isPlaceholder(e)&&i<=t||(e.src=this.changeImageSrcToUseNewImageDimensions(e.getAttribute("data-src"),i),e.removeAttribute("width"),e.removeAttribute("height"))},c.prototype.determineAppropriateResolution=function(e){return c.getClosestValue(e.getAttribute("data-width")||e.parentNode.clientWidth,this.availableWidths)},c.prototype.refreshPixelRatio=function(){this.devicePixelRatio=c.getClosestValue(c.getPixelRatio(),this.availablePixelRatios)},c.prototype.changeImageSrcToUseNewImageDimensions=function(e,t){return e.replace(/{width}/g,c.transforms.width(t,this.widthsMap)).replace(/{pixel_ratio}/g,c.transforms.pixelRatio(this.devicePixelRatio))},c.getPixelRatio=function(e){return(e||o).devicePixelRatio||1},c.createWidthsMap=function(e,t,i){for(var n={},o=e.length;o--;)n[e[o]]=t(e[o],i);return n},c.transforms={pixelRatio:function(e){return 1===e?"":"-"+e+"x"},width:function(e,t){return t[e]||e}},c.getClosestValue=function(e,t){var i=t.length,n=t[i-1];for(e=parseFloat(e);i--;)e<=t[i]&&(n=t[i]);return n},c.prototype.registerResizeEvent=function(e){var t=this;d(o,"resize",i(function(){t.checkImagesNeedReplacing(t.divs,e)},100))},c.prototype.registerScrollEvent=function(){var e=this;this.scrolled=!1,this.interval=o.setInterval(function(){e.scrollCheck()},e.scrollDelay),d(o,"scroll",function(){e.scrolled=!0}),d(o,"resize",function(){e.viewportHeight=s.documentElement.clientHeight,e.scrolled=!0})},c.getPageOffsetGenerator=function(e){return e?function(){return o.pageYOffset}:function(){return s.documentElement.scrollTop}},c.isElementVisible=function(e){return 0<e.offsetWidth||0<e.offsetHeight},c.getNaturalWidth="naturalWidth"in new Image?function(e){return e.naturalWidth}:function(e){var t=s.createElement("img");return t.src=e.src,t.width},c.getPageOffset=c.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(o,"pageYOffset")),c.applyEach=r,c.addEvent=d,c.debounce=i,"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=c:"function"==typeof define&&define.amd?define("vendor/bower/imager.js/Imager",[],function(){return c}):"object"==typeof o&&(o.Imager=c)}(window,document),define("modules/images",["lib/core","lib/module/base","vendor/bower/imager.js/Imager","vendor/bower/underscore/underscore"],function(e,t,i,n){"use strict";return t.extend({init:function(){e.pubsub.on("images:refresh",n.bind(this.refreshImages,this)),this.imager=new i({loadHidden:!1,lazyload:!0,availableWidths:[144,304,400,624,800,999]}),this.reelPromoImager=new i(".delayed-image-load-reel",{loadHidden:!1,lazyload:!0,availableWidths:{160:"160x90",208:"208x117",272:"272x153",320:"320x180",432:"432x243",528:"528x297",656:"656x369",800:"800x450",992:"992x558",1200:"1200x675"}}),this.planetPromoImager=new i(".delayed-image-load-planet",{loadHidden:!1,lazyload:!0,availableWidths:{189:"189_106",304:"304_171",624:"624_351",976:"976_549",1280:"1280_720"}})},refreshImages:function(){this.imager.scrolled=!0,this.reelPromoImager.scrolled=!0,this.planetPromoImager.scrolled=!0}})}),define("modules/media",["lib/module/base","lib/core"],function(e,t){"use strict";return e.extend({selectors:{links:".block-link"},init:function(){this.$get("links").hover(function(){t.$(this).addClass("block-link--hover")},function(){t.$(this).removeClass("block-link--hover")})}})}),e=this,define("vendor/bower/js-breakpoints/breakpoints",[],function(){return function(){return window.Breakpoints=function(n,r){"use strict";function e(e,t,i){e.attachEvent?(e["e"+t+i]=i,e[t+i]=function(){e["e"+t+i](n.event)},e.attachEvent("on"+t,e[t+i])):e.addEventListener(t,i,!1)}function t(){for(var e=0;e<h.length;e++)f(h[e])}function a(e,t,i){return n.getComputedStyle?n.getComputedStyle(e,t).getPropertyValue(i):e.currentStyle&&0===t.length?e.currentStyle[i]:""}var o,s,l,c,d,i,u={},h=[],p=null,f=function(e){var t=u.isMatched(e);return t&&!e.isMatched?(e.matched.call(e.context),e.isMatched=!0):!t&&e.isMatched&&(e.exit.call(e.context),e.isMatched=!1),e};return u.isMatched=function(e){var t,i,n,o=e.el||r.body,s=!1;return p?(t=a(o,":after","content"),s=t.replace(/\"/g,"")===e.name):(i=o,n=e.name,o=function(e){t=a(e,"","position"),s="absolute"===t},(e=r.createElement("div")).className="js-breakpoints-"+n,i.appendChild(e),o(e),e.parentNode.removeChild(e)),s},u.on=function(e){return null===p&&(p=!1,n.getComputedStyle&&(t=n.getComputedStyle(r.documentElement,":after").getPropertyValue("content"),p="js-breakpoints-getComputedStyleTest"===t.replace(/\"/g,""))),h.push(e),e.isMatched=!1,e.matched=e.matched||function(){},e.exit=e.exit||function(){},e.context=e.context||e,f(e);var t},u.off=function(e){e=h.indexOf(e);-1<e&&h.splice(e,1)},o=t,s=200,e(n,"resize",i=function(){var e=this,t=arguments,i=l&&!c;return clearTimeout(c),c=setTimeout(function(){c=null,l||(d=o.apply(e,t))},s),d=i?o.apply(e,t):d}),e(n,"orientationchange",i),u}(window,document),e.Breakpoints=Breakpoints}.apply(e,arguments)}),function(e){"use strict";"function"==typeof define&&define.amd?define("vendor/bower/slick.js/slick",["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){"use strict";var s,r=window.Slick||{};s=0,(r=function(e,t){var i,n,o=this;if(o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:l(e),appendDots:l(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},l.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.hidden="hidden",o.paused=!1,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=l(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,e=l(e).data("slick")||{},o.options=l.extend({},o.defaults,e,t),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,(i=o.options.responsive||null)&&-1<i.length){for(n in o.respondTo=o.options.respondTo||"window",i)i.hasOwnProperty(n)&&(o.breakpoints.push(i[n].breakpoint),o.breakpointSettings[i[n].breakpoint]=i[n].settings);o.breakpoints.sort(function(e,t){return!0===o.options.mobileFirst?e-t:t-e})}void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=l.proxy(o.autoPlay,o),o.autoPlayClear=l.proxy(o.autoPlayClear,o),o.changeSlide=l.proxy(o.changeSlide,o),o.clickHandler=l.proxy(o.clickHandler,o),o.selectHandler=l.proxy(o.selectHandler,o),o.setPosition=l.proxy(o.setPosition,o),o.swipeHandler=l.proxy(o.swipeHandler,o),o.dragHandler=l.proxy(o.dragHandler,o),o.keyHandler=l.proxy(o.keyHandler,o),o.autoPlayIterator=l.proxy(o.autoPlayIterator,o),o.instanceUid=s++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init(!0),o.checkResponsive(!0)}).prototype.addSlide=r.prototype.slickAdd=function(e,t,i){var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?l(e).appendTo(n.$slideTrack):i?l(e).insertBefore(n.$slides.eq(t)):l(e).insertAfter(n.$slides.eq(t)):!0===i?l(e).prependTo(n.$slideTrack):l(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){l(t).attr("data-slick-index",e)}),n.$slidesCache=n.$slides,n.reinit()},r.prototype.animateHeight=function(){var e,t=this;1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical&&(e=t.$slides.eq(t.currentSlide).outerHeight(!0),t.$list.animate({height:e},t.options.speed))},r.prototype.animateSlide=function(e,t){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),l({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i)},complete:function(){t&&t.call()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){n.disableTransition(),t.call()},n.options.speed))},r.prototype.asNavFor=function(t){var e=this.options.asNavFor;null!==(e=e&&null!==e?l(e).not(this.$slider):e)&&"object"==typeof e&&e.each(function(){var e=l(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},r.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,(!1===t.options.fade?t.$slideTrack:t.$slides.eq(e)).css(i)},r.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},r.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},r.prototype.autoPlayIterator=function(){var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},r.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=l(e.options.prevArrow),e.$nextArrow=l(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled"))},r.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";i.$dots=l(t+="</ul>").appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},r.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){l(t).attr("data-slick-index",e).data("originalStyling",l(t).attr("style")||"")}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?l('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),l("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),!0===e.options.accessibility&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},r.prototype.buildRows=function(){var e,t,i,n=this,o=document.createDocumentFragment(),s=n.$slider.children();if(1<n.options.rows){for(i=n.options.slidesPerRow*n.options.rows,t=Math.ceil(s.length/i),e=0;e<t;e++){for(var r=document.createElement("div"),a=0;a<n.options.rows;a++){for(var l=document.createElement("div"),c=0;c<n.options.slidesPerRow;c++){var d=e*i+(a*n.options.slidesPerRow+c);s.get(d)&&l.appendChild(s.get(d))}r.appendChild(l)}o.appendChild(r)}n.$slider.html(o),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},r.prototype.checkResponsive=function(e){var t,i,n,o=this,s=!1,r=o.$slider.width(),a=window.innerWidth||l(window).width();if("window"===o.respondTo?n=a:"slider"===o.respondTo?n=r:"min"===o.respondTo&&(n=Math.min(a,r)),o.originalSettings.responsive&&-1<o.originalSettings.responsive.length&&null!==o.originalSettings.responsive){for(t in i=null,o.breakpoints)o.breakpoints.hasOwnProperty(t)&&(!1===o.originalSettings.mobileFirst?n<o.breakpoints[t]&&(i=o.breakpoints[t]):n>o.breakpoints[t]&&(i=o.breakpoints[t]));null!==i?null!==o.activeBreakpoint&&i===o.activeBreakpoint||(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=l.extend({},o.originalSettings,o.breakpointSettings[i]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=i):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),s=i),e||!1===s||o.$slider.trigger("breakpoint",[o,s])}},r.prototype.changeSlide=function(e,t){var i,n=this,o=l(e.target);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),i=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,e.data.message){case"previous":s=0==i?n.options.slidesToScroll:n.options.slidesToShow-i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-s,!1,t);break;case"next":s=0==i?n.options.slidesToScroll:i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+s,!1,t);break;case"index":var s=0===e.data.index?0:e.data.index||o.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(s),!1,t),o.children().trigger("focus");break;default:return}},r.prototype.checkNavigable=function(e){var t=this.getNavigableIndexes(),i=0;if(e>t[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},r.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(l("li",e.$dots).off("click.slick",e.changeSlide),!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&l("li",e.$dots).off("mouseenter.slick",l.proxy(e.setPaused,e,!0)).off("mouseleave.slick",l.proxy(e.setPaused,e,!1))),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),l(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",l.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",l.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&l(e.$slideTrack).children().off("click.slick",e.selectHandler),l(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),l(window).off("resize.slick.slick-"+e.instanceUid,e.resize),l("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),l(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),l(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},r.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.html(e))},r.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},r.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),l(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){l(this).attr("style",l(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},r.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",(!1===this.options.fade?this.$slideTrack:this.$slides.eq(e)).css(t)},r.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},r.prototype.filterSlides=r.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},r.prototype.getCurrent=r.prototype.slickCurrentSlide=function(){return this.currentSlide},r.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},r.prototype.getLeft=function(e){var t,i=this,n=0;return i.slideOffset=0,t=i.$slides.first().outerHeight(),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,n=t*i.options.slidesToShow*-1),i.slideCount%i.options.slidesToScroll!=0&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(n=e>i.slideCount?(i.slideOffset=(i.options.slidesToShow-(e-i.slideCount))*i.slideWidth*-1,(i.options.slidesToShow-(e-i.slideCount))*t*-1):(i.slideOffset=i.slideCount%i.options.slidesToScroll*i.slideWidth*-1,i.slideCount%i.options.slidesToScroll*t*-1))):e+i.options.slidesToShow>i.slideCount&&(i.slideOffset=(e+i.options.slidesToShow-i.slideCount)*i.slideWidth,n=(e+i.options.slidesToShow-i.slideCount)*t),i.slideCount<=i.options.slidesToShow&&(n=i.slideOffset=0),!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset=0,i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),t=!1===i.options.vertical?e*i.slideWidth*-1+i.slideOffset:e*t*-1+n,!0===i.options.variableWidth&&(t=(n=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===i.options.centerMode&&(t=(n=!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(i.$list.width()-n.outerWidth())/2)),t},r.prototype.getOption=r.prototype.slickGetOption=function(e){return this.options[e]},r.prototype.getNavigableIndexes=function(){for(var e=this,t=0,i=0,n=[],o=!1===e.options.infinite?e.slideCount:(t=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,2*e.slideCount);t<o;)n.push(t),t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},r.prototype.getSlick=function(){return this},r.prototype.getSlideCount=function(){var i,n=this,o=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0;return!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-o+l(t).outerWidth()/2>-1*n.swipeLeft)return i=t,!1}),Math.abs(l(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},r.prototype.goTo=r.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},r.prototype.init=function(e){var t=this;l(t.$slider).hasClass("slick-initialized")||(l(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),e&&t.$slider.trigger("init",[t])},r.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},r.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&l("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&l("li",e.$dots).on("mouseenter.slick",l.proxy(e.setPaused,e,!0)).on("mouseleave.slick",l.proxy(e.setPaused,e,!1))},r.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),l(document).on(e.visibilityChange,l.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",l.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",l.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&l(e.$slideTrack).children().on("click.slick",e.selectHandler),l(window).on("orientationchange.slick.slick-"+e.instanceUid,l.proxy(e.orientationChange,e)),l(window).on("resize.slick.slick-"+e.instanceUid,l.proxy(e.resize,e)),l("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),l(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),l(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},r.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},r.prototype.keyHandler=function(e){37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:"next"}})},r.prototype.lazyLoad=function(){function e(e){l("img[data-lazy]",e).each(function(){var e=l(this),t=l(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){e.animate({opacity:1},200)},i.src=t,e.css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading")})}var t,i,n=this;!0===n.options.centerMode?i=!0===n.options.infinite?(t=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(t=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),n.options.slidesToShow/2+1+2+n.currentSlide):(i=(t=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide)+n.options.slidesToShow,!0===n.options.fade&&(0<t&&t--,i<=n.slideCount&&i++)),e(n.$slider.find(".slick-slide").slice(t,i)),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},r.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},r.prototype.next=r.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},r.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},r.prototype.pause=r.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},r.prototype.play=r.prototype.slickPlay=function(){this.paused=!1,this.autoPlay()},r.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay()},r.prototype.prev=r.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},r.prototype.preventDefault=function(e){e.preventDefault()},r.prototype.progressiveLazyLoad=function(){var e,t=this;0<l("img[data-lazy]",t.$slider).length&&(e=l("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad(),!0===t.options.adaptiveHeight&&t.setPosition()}).error(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()})},r.prototype.refresh=function(e){var t=this,i=t.currentSlide;t.destroy(!0),l.extend(t,t.initials),t.init(),e||t.changeSlide({data:{message:"index",index:i}},!1)},r.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),!0===e.options.focusOnSelect&&l(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e])},r.prototype.resize=function(){var e=this;l(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=l(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},r.prototype.removeSlide=r.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),(!0===i?n.$slideTrack.children():n.$slideTrack.children(this.options.slide).eq(e)).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},r.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled||(!(o={})===n.cssTransitions?o[n.animType]="translate("+t+", "+i+")":o[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(o)},r.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},r.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=n.slideWidth*e*-1,!0===n.options.rtl?l(t).css({position:"relative",right:i,top:0,zIndex:800,opacity:0}):l(t).css({position:"relative",left:i,top:0,zIndex:800,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1})},r.prototype.setHeight=function(){var e,t=this;1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical&&(e=t.$slides.eq(t.currentSlide).outerHeight(!0),t.$list.css("height",e))},r.prototype.setOption=r.prototype.slickSetOption=function(e,t,i){this.options[e]=t,!0===i&&(this.unload(),this.reinit())},r.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},r.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0!==e.options.useCSS||(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},r.prototype.setSlideClasses=function(e){var t,i,n,o=this;o.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),t=o.$slider.find(".slick-slide"),!0===o.options.centerMode?(n=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(n<=e&&e<=o.slideCount-1-n?o.$slides.slice(e-n,e+n+1).addClass("slick-active").attr("aria-hidden","false"):(i=o.options.slidesToShow+e,t.slice(i-n+1,i+n+2).addClass("slick-active").attr("aria-hidden","false")),0===e?t.eq(t.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&t.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=o.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(n=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+e:e,(o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?t.slice(i-(o.options.slidesToShow-n),i+n):t.slice(i,i+o.options.slidesToShow)).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},r.prototype.setupInfinite=function(){var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;--e)l(n.$slides[t=e-1]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,l(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){l(this).attr("id","")})}},r.prototype.setPaused=function(e){var t=this;!0===t.options.autoplay&&!0===t.options.pauseOnHover&&((t.paused=e)?t.autoPlayClear():t.autoPlay())},r.prototype.selectHandler=function(e){var t=this,e=l(e.target).is(".slick-slide")?l(e.target):l(e.target).parents(".slick-slide"),e=(e=parseInt(e.attr("data-slick-index")))||0;if(t.slideCount<=t.options.slidesToShow)return t.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),t.$slides.eq(e).addClass("slick-active").attr("aria-hidden","false"),!0===t.options.centerMode&&(t.$slider.find(".slick-slide").removeClass("slick-center"),t.$slides.eq(e).addClass("slick-center")),void t.asNavFor(e);t.slideHandler(e)},r.prototype.slideHandler=function(e,t,i){var n,o,s,r=this;if(t=t||!1,(!0!==r.animating||!0!==r.options.waitForAnimate)&&!(!0===r.options.fade&&r.currentSlide===e||r.slideCount<=r.options.slidesToShow))if(!1===t&&r.asNavFor(e),n=e,s=r.getLeft(n),t=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?t:r.swipeLeft,!1===r.options.infinite&&!1===r.options.centerMode&&(e<0||e>r.getDotCount()*r.options.slidesToScroll))!1===r.options.fade&&(n=r.currentSlide,!0!==i?r.animateSlide(t,function(){r.postSlide(n)}):r.postSlide(n));else if(!1===r.options.infinite&&!0===r.options.centerMode&&(e<0||e>r.slideCount-r.options.slidesToScroll))!1===r.options.fade&&(n=r.currentSlide,!0!==i?r.animateSlide(t,function(){r.postSlide(n)}):r.postSlide(n));else{if(!0===r.options.autoplay&&clearInterval(r.autoPlayTimer),o=n<0?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+n:n>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:n-r.slideCount:n,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,o]),r.currentSlide,r.currentSlide=o,r.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),!0===r.options.fade)return!0!==i?r.fadeSlide(o,function(){r.postSlide(o)}):r.postSlide(o),void r.animateHeight();!0!==i?r.animateSlide(s,function(){r.postSlide(o)}):r.postSlide(o)}},r.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},r.prototype.swipeDirection=function(){var e=this,t=e.touchObject.startX-e.touchObject.curX,i=e.touchObject.startY-e.touchObject.curY,t=Math.atan2(i,t),t=Math.round(180*t/Math.PI);return(t=t<0?360-Math.abs(t):t)<=45&&0<=t||t<=360&&315<=t?!1===e.options.rtl?"left":"right":135<=t&&t<=225?!1===e.options.rtl?"right":"left":!0===e.options.verticalSwiping?35<=t&&t<=135?"left":"right":"vertical"},r.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},r.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},r.prototype.swipeMove=function(e){var t,i,n=this,o=void 0!==e.originalEvent?e.originalEvent.touches:null;return!(!n.dragging||o&&1!==o.length)&&(t=n.getLeft(n.currentSlide),n.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,n.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,n.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(n.touchObject.curX-n.touchObject.startX,2))),!0===n.options.verticalSwiping&&(n.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(n.touchObject.curY-n.touchObject.startY,2)))),"vertical"!==(i=n.swipeDirection())?(void 0!==e.originalEvent&&4<n.touchObject.swipeLength&&e.preventDefault(),o=(!1===n.options.rtl?1:-1)*(n.touchObject.curX>n.touchObject.startX?1:-1),!0===n.options.verticalSwiping&&(o=n.touchObject.curY>n.touchObject.startY?1:-1),e=n.touchObject.swipeLength,(n.touchObject.edgeHit=!1)===n.options.infinite&&(0===n.currentSlide&&"right"===i||n.currentSlide>=n.getDotCount()&&"left"===i)&&(e=n.touchObject.swipeLength*n.options.edgeFriction,n.touchObject.edgeHit=!0),!1===n.options.vertical?n.swipeLeft=t+e*o:n.swipeLeft=t+e*(n.$list.height()/n.listWidth)*o,!0===n.options.verticalSwiping&&(n.swipeLeft=t+e*o),!0!==n.options.fade&&!1!==n.options.touchMove&&(!0===n.animating?(n.swipeLeft=null,!1):void n.setCSS(n.swipeLeft))):void 0)},r.prototype.swipeStart=function(e){var t,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},r.prototype.unfilterSlides=r.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},r.prototype.unload=function(){var e=this;l(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},r.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},r.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2);!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},r.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},r.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):!0===e.options.autoplay&&(e.paused=!1,e.autoPlay())},l.fn.slick=function(){for(var e,t=this,i=arguments[0],n=Array.prototype.slice.call(arguments,1),o=t.length,s=0;s<o;s++)if("object"==typeof i||void 0===i?t[s].slick=new r(t[s],i):e=t[s].slick[i].apply(t[s].slick,n),void 0!==e)return e;return t}}),define("modules/video/playlist",["require","lib/core","lib/module/base","lib/util","bump-3","vendor/bower/js-breakpoints/breakpoints","vendor/bower/underscore/underscore","vendor/bower/slick.js/slick"],function(e,o,t,i,n,s,r){"use strict";var a="video__item--selected",l="video__tab--selected",c="video--noslick",d="video--slick",u={draggable:!0,infinite:!1,variableWidth:!0,prevArrow:'<button class="video__nav video__prev" aria-label="scroll left"><span class="icon icon--prev" aria-hidden="true"></span></button>',nextArrow:'<button class="video__nav video__next" aria-label="scroll right"><span class="icon icon--next" aria-hidden="true"></span></button>'};return t.extend({videos:null,selectors:{tabLinks:".video__tab__link",playlist:".video__items",playlistItems:".video__item"},init:function(e,t){this.videoManager=t,this._registerEvents(),s.on({name:"group-3",matched:r.bind(this._loadPlaylist,this),exit:r.bind(this._unloadPlaylist,this)})},_registerEvents:function(){o.pubsub.on("video:categorySelected",r.bind(this._onCategorySelect,this)),o.pubsub.on("video:videoSelected",r.bind(this._onVideoSelect,this))},_loadPlaylist:function(){this.$get("playlistItems").off("click.wwhp.video").on("click.wwhp.video",r.bind(this._onVideoClick,this)),this.$get("tabLinks").off("click.wwhp.video").on("click.wwhp.video",r.bind(this._onTabClick,this)),this.$get("playlist").slick(u),this.$el.removeClass(c).addClass(d)},_unloadPlaylist:function(){this.$get("playlistItems").off("click.wwhp.video"),this.$get("tabLinks").off("click.wwhp.video"),this.$get("playlist").slick("slickUnfilter").slick("unslick"),this.$el.removeClass(d).addClass(c)},_onVideoClick:function(e){o.$(e.target).is("a.tag")||(e.preventDefault(),e=o.$(e.currentTarget).data("category-index"),this.videoManager.selectVideo(e),this.videoManager.requestVideoPlay(e))},_onTabClick:function(e){e.preventDefault();e=o.$(e.currentTarget).data("category");this.videoManager.selectCategory(e)},_onCategorySelect:function(e){var t,i,n;this.videoManager.videos[e]&&(t=this.$get("tabLinks").filter('[data-category="'+e+'"]'),i=this.videoManager.state.playingVideo||0,n=this.videoManager.state.playingCategory===e,t.parent().addClass(l).siblings().removeClass(l),this.$get("playlistItems").removeClass(a),this.$get("playlist").slick("slickFilter",".video__item--"+e).slick("slickGoTo",n?i:0),o.pubsub.emit("images:refresh"),n&&this.videoManager.selectVideo(i))},_onVideoSelect:function(e){var t;this.videoManager.state.selectedCategory&&this.videoManager.state.playingCategory&&this.videoManager.state.playingCategory===this.videoManager.state.selectedCategory&&(t=this.videoManager.videos[this.videoManager.state.selectedCategory][e])&&(this.$get("playlist").slick("slickGoTo",e),t.slide.addClass(a).siblings().removeClass(a))}})}),define("lib/timeInterval",[],function(){function t(e){if(!o[e]){var t=e.match(/PT((\d+)H)?((\d+)M)?((\d+)S)?/);if(null===t)throw"Could not parse time interval: "+e;var i=void 0!==t[2]?parseInt(t[2],10):0,n=void 0!==t[4]?parseInt(t[4],10):0,t=void 0!==t[6]?parseInt(t[6],10):0;o[e]={h:i,m:n,s:t}}return o[e]}var o={};return{toTimestamp:function(e){return(e=t(e)).m+":"+e.s.toString().replace(/^(\d)$/,"0$1")},toSeconds:function(e){return 3600*(e=t(e)).h+60*e.m+e.s}}}),define("modules/video/playlistBuilder",["lib/timeInterval"],function(n){var o={kind:"advert",media:{kind:"video",type:"video/mp4"}};return{build:function(e){var t,i=[];return(t=e).allowadvertising&&30<n.toSeconds(t.duration)&&i.push(o),i.push({vpid:e.pid,kind:"programme"}),{holdingImageURL:e.img||"",items:i,title:e.title,summary:e.summary}}}}),define("vendor/pre-built/bbc-video-experience/bbcdotcom/adverts",[],function(){"use strict";function r(){return void 0!==window.bbcdotcom&&!0===window.bbcdotcom.config.isAdsEnabled()}var a,l;return{init:function(e){a=void 0!==e.assetType?e.assetType:""},initBump:function(e){l=e},isAdsModuleEnabled:r,updateAdTag:function(e){if(l&&r()){var t;try{t=window.bbcdotcom.av.emp.adverts.getPrerollAdTagWithAdRule()}catch(e){return}if(e&&e.shortHeadline&&e.uri&&e.assetId){for(var i=encodeURIComponent(e.shortHeadline.toLowerCase().split(" ").join("")),n=e.assetId,e=encodeURIComponent(encodeURIComponent(window.location.origin+e.uri)),o=14,s="";o--;)s+=Math.floor(10*Math.random());t=(t=t.replace(/(correlator=)(\d+)/g,"correlator="+s)).replace(/(url=)[^&]*/g,"url="+e),t=(t=(t=""!==a?t.replace(/(asset_type%3D(media_asset|index))/g,"asset_type%3D"+a):t).replace(/(headline%3D)\w+/g,"headline%3D"+i)).replace(/(story_id%3D)\w+/g,"story_id%3D"+n),l.dispatchEvent("bbc.smp.plugins.ads.event.updateAdTag",{adTag:t})}}},initCompanionAds:function(){var e,t,i;r()&&(e=document.getElementById("bbccom_mpu"),t='<div class="bbccom_companion_inner"><a href="'+bbcdotcom.locale.get("advertInfoPageUrl")+'" class="bbccom_text">'+bbcdotcom.locale.get("advertisementText")+'</a><div class="bbccom_advert_inner" id="bbccom_mpu_inner"></div></div>',e.innerHTML=t,i=bbcdotcom.adverts.adUnit.get(),googletag.cmd.push(function(){googletag.defineSlot(i,[300,60],"bbccom_mpu_inner").addService(googletag.companionAds()).addService(googletag.pubads()),googletag.enableServices()}))}}}),define("vendor/pre-built/bbc-video-experience/analytics/adapter",[],function(){"use strict";var a={},l={};return{registerProvider:function(e){l[e.getName()]=e},registerSource:function(e){var t=e.getProviderName();if(l[t]){var i,n=e.getEvents(),o=e.getBuilders();for(i in n){void 0===a[i]&&(a[i]=[]);var s={providerName:t,eventName:n[i],builder:o[i]};void 0!==s.builder&&a[i].push(s)}}},track:function(){for(var e=arguments[0],t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=a[e];if(void 0!==n)for(var o in n){var s=n[o],r=s.eventName,o=s.builder,s=l[s.providerName];try{s.track(r,o.apply(o,t))}catch(e){}}}}}),define("vendor/pre-built/bbc-video-experience/analytics/provider/bbcdotcom",[],function(){"use strict";function e(){try{return void 0!==window.bbcdotcom&&!0===window.bbcdotcom.config.isAnalyticsEnabled()}catch(e){return!1}}try{e()&&window.bbcdotcom.setConfig({isContinuousPlayPage:!0})}catch(e){}return{getName:function(){return"bbcdotcom"},isEnabled:e,track:function(e,t){try{window.bbcdotcom.av.emp.analytics.trackEvent(e,t)}catch(e){}}}}),define("vendor/pre-built/bbc-video-experience/analytics/provider/comscore",[],function(){"use strict";var i;return{getName:function(){return"comscore"},track:function(e,t){i.emit(e,[t])},setNewsPubsub:function(e){i=e}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/playIntent",[],function(){"use strict";var i=null,n=null;return{create:function(e,t){n=i,i={index:e,event:null},t&&(i.event=t)},getIndex:function(){return i.index},getEvent:function(){return i.event},getPreviousIndex:function(){return null===n?null:n.index},isActive:function(){return null!==i},isFirst:function(){return null===n}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/analytics/bbcdotcom",["vendor/pre-built/bbc-video-experience/continuousPlay/playIntent"],function(i){"use strict";var e={playlistLoaded:"continuousPlay.mediaStarted",dismissContPlay:"continuousPlay.dismissed",openMoreVideos:"continuousPlay.openedMoreVideos",goneFullScreen:"videoExperience:player:enteredFullScreen"},t={playlistLoaded:function(e){var t={index:i.getIndex(),title:e.title},e=i.getEvent();return e?(t.origin=void 0!==e.origin?"cp-"+e.origin:null,t.cpTimeout=void 0!==e.secondsIntoCountdown?e.secondsIntoCountdown:null,t.fullscreen=void 0!==e.fullscreen?e.fullscreen:null):t.origin=i.isFirst()?"page-load":"manual",t},dismissContPlay:function(e){return{cpTimeout:e.secondsIntoCountdown}},openMoreVideos:function(){return{}},goneFullScreen:function(){return{}}};return{getProviderName:function(){return"bbcdotcom"},getEvents:function(){return e},getBuilders:function(){return t}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/analytics/comscore",["vendor/pre-built/bbc-video-experience/continuousPlay/playIntent"],function(n){"use strict";var e={playlistLoaded:"betamax:video:playlist_loaded"},t={playlistLoaded:function(e,t){var i={item_position:n.getIndex(),vpid:e.firstProgrammeItem?e.firstProgrammeItem.identifier:null,section:t.section},t=n.getEvent();if(t){switch(t.origin){case"cta":i.play_type="next";break;case"auto":i.play_type="continuous";break;case"carousel":i.play_type="carousel";break;default:i.play_type=null}i.action_location=t.fullscreen?"player-fullscreen":"page"}else i.play_type=n.isFirst()?"auto":"list",i.action_location="page";return i}};return{getProviderName:function(){return"comscore"},getEvents:function(){return e},getBuilders:function(){return t}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/config",[],function(){"use strict";var t;return{init:function(e){t=e||{}},getPluginLocations:function(){return{html:"name:continuousPlay.js",swf:"name:continuousPlay.swf"}},getConfig:function(e){return{name:"smp.plugin.continuousplay.playlistSetChanged",data:{items:e,countdownDurationSecs:t.countdownDuration||10,adPluginExists:t.adsEnabled||!1,autoPlayFirstItem:void 0!==t.autoPlayFirstItem&&t.autoPlayFirstItem,copy:t.copy}}}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/dataSource",["vendor/pre-built/bbc-video-experience/continuousPlay/playIntent"],function(i){"use strict";function n(e){return r&&r[e]?r[e]:void 0}function o(e){c?e():d.push(e)}var r,a,l,c,d;return{init:function(e){l=e,c=!1,d=[]},refresh:function(s){l.findItems(function(e,t){if(e)return s(e);for(var i in r=[],a=[],t){var n=l.parseItem(i,t),o=parseInt(i,10);n.index=o,r[o]=n,a[o]=l.parseAdvertMeta(i,t)}c||(c=!0,function(){for(var e in d){var t=d[e];t()}d=[]}()),s(null,r)})},getCurrentItem:function(t){o(function(){var e=i.getIndex();n(e)&&t(r[e])})},getCurrentAdvertMeta:function(t){o(function(){var e=i.getIndex();t(a[e])})},getItemAtIndex:n,getData:function(e){o(function(){e(r)})}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/history",["vendor/pre-built/bbc-video-experience/continuousPlay/dataSource"],function(e){"use strict";function i(e){(e=e.state)&&e.videoIndex&&(r(e.videoIndex),c(e.title))}var o,n,s,r,a,l,c=function(e){document.title=e};return{init:function(e){var t=e||{},e=t.window||window;o=e.history,n=t.isEnabled||!1,s=t.maintainHistory||!1,r=t.playHandler||function(){},l=!0,a=o&&void 0!==o.pushState,n&&a&&(e.onpopstate=i)},update:function(){n&&a&&e.getCurrentItem(function(e){var t,i,n;e&&(t=e.title+" - BBC News",i=e.uri+location.search,(n=o.state)&&n.uri===i||(e={videoIndex:e.index,uri:i,title:t},s&&!l?o.pushState(e,"",i):o.replaceState(e,"",i),c(t),l=!1))})}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/main",["vendor/pre-built/bbc-video-experience/continuousPlay/config","vendor/pre-built/bbc-video-experience/continuousPlay/dataSource","vendor/pre-built/bbc-video-experience/continuousPlay/playIntent","vendor/pre-built/bbc-video-experience/bbcdotcom/adverts","vendor/pre-built/bbc-video-experience/continuousPlay/history","vendor/pre-built/bbc-video-experience/continuousPlay/analytics/bbcdotcom","vendor/pre-built/bbc-video-experience/continuousPlay/analytics/comscore","vendor/pre-built/bbc-video-experience/analytics/adapter"],function(n,o,s,r,a,i,l,c){"use strict";function d(e){v?(s.create(e),o.getCurrentItem(function(e){v.loadPlaylist(e.playlist,{counterName:e.counterName||null})})):x=e}function t(e){void 0!==e.eventData?P=null!=e.eventData.match("continuousPlay"):void 0!==e.url&&(P=null!=e.url.match("continuousPlay")),P&&(a.update(),y(s.getIndex()))}function u(e){C()}function h(t){o.getCurrentAdvertMeta(function(e){r.updateAdTag(e)});for(var e=0;e<t.playlist.items.length;e++){var i=t.playlist.items[e];if("bbc_news24"===i.vpid||"bbc_news24"===i.identifier)return void C()}if(o.getCurrentItem(function(e){c.track("playlistLoaded",t.playlist,e)}),!M)return o.refresh(function(e,t){return e?_(e):(v.updateUiConfig({controls:{availableOnMediaEnded:!0}}),void v.loadPlugin(n.getPluginLocations(),n.getConfig(t)))}),void(M=!0);P&&(a.update(),g(s.getIndex()))}function p(e){switch(e.origin){case"replay":b();break;case"auto":case"cta":case"carousel":s.create(e.index,e)}}function f(e){var t=e.id;switch(t){case"dismissContPlay":c.track(t,e),k();break;case"openMoreVideos":c.track(t);break;case"turnCPon":S(s.getIndex());break;case"turnCPoff":T()}}function m(e){$||e.isFullscreen&&($=!0,c.track("goneFullScreen"))}var v,y,g,b,w,_,k,S,T,C,x=null,M=!1,P=!1,$=!1;return{init:function(e,t){t=t||{};o.init(e),c.registerSource(i),c.registerSource(l),n.init({staticPrefix:t.staticPrefix,adsEnabled:r.isAdsModuleEnabled(),countdownDuration:t.countdownDuration,pluginPath:t.pluginPath,autoPlayFirstItem:t.autoPlayFirstItem,copy:t.copy});e=t.updateBrowserUrl||{};a.init({isEnabled:e.enabled||!1,maintainHistory:e.maintainHistory||!1,playHandler:d}),r.init({assetType:t.advertAssetType}),!0===t.showCompanionAds&&r.initCompanionAds(),e=t.handlers||{},g=e.videoPlayed||function(){},b=e.videoReplayed||function(){},w=e.dataChanged||function(){},_=e.dataFailed||function(){},k=e.dismissed||function(){},y=e.enabled||function(){},S=e.turnOn||function(){},T=e.turnOff||function(){},C=e.failedToload||function(){},s.create(t.startIndex||0)},initBump:function(e){v=e,r.initBump(v),v.bind("pluginLoaded",t),v.bind("pluginLoadFailed",u),v.bind("playlistLoaded",h),v.bind("continuousPlay.play",p),v.bind("continuousPlay.stats",f),v.bind("uiinfo",m),null!==x&&(d(x),x=null)},refreshData:function(){o.refresh(function(e,t){e?_(e):(v.setData(n.getConfig(t)),t=s.isFirst()?s.getIndex():s.getPreviousIndex(),w(v.ended()?null:t))})},playItem:d,getPlayingInfo:function(){var e,t,i;return s.isActive()&&(e=s.getIndex(),(s.isFirst()||o.getItemAtIndex(e+1))&&(t=e+1),o.getItemAtIndex(e-1)&&(i=e-1)),{index:e,nextIndex:t,prevIndex:i}}}}),define("vendor/pre-built/bbc-video-experience/continuousPlay/module",["vendor/pre-built/bbc-video-experience/continuousPlay/main","vendor/pre-built/bbc-video-experience/analytics/adapter","vendor/pre-built/bbc-video-experience/analytics/provider/bbcdotcom"],function(e,t,i){"use strict";return i.isEnabled()&&t.registerProvider(i),e}),define("modules/video/player",["require","lib/core","lib/module/base","lib/util","modules/video/playlistBuilder","bump-3","vendor/bower/js-breakpoints/breakpoints","vendor/bower/underscore/underscore","vendor/pre-built/bbc-video-experience/continuousPlay/module"],function(e,o,t,i,s,n,r,a,l){"use strict";var c={product:"news",autoplay:!1,superResponsive:!0,counterName:o.config.counterName,producer:o.config.producer};return t.extend({selectors:{playerContainer:".video__player",player:"#player",overlay:".video__player .media",title:".video__player .media__link",summary:".video__player .media__summary",img:".video__player .media__image img",source:".video__player .media__tag"},player:null,state:null,init:function(e,t){this.videoManager=t,this.$=n,this._registerEvents()},_registerEvents:function(){o.pubsub.on("video:playRequested",a.bind(this._onPlayRequested,this)),o.pubsub.on("video:videoSelected",a.bind(this._onVideoSelected,this)),!0===o.config.continuousPlayEnabled&&o.pubsub.on("video:continuousPlay:dismissed",a.bind(this._onContinuousPlayDismissed,this)),r.on({name:"group-3",matched:a.bind(this._initPlayer,this),exit:a.bind(this._removePlayer,this)})},_initPlayer:function(){this._isPlayerInitialised()||(this.player=this.$get("player").player(c),this.player.bind("initialised",a.bind(function(){o.pubsub.emit("video:player:initialised",this.player)},this)),!0===o.config.continuousPlayEnabled&&this.player.bind("continuousPlay.stats",function(e){"turnCPoff"===e.id&&o.pubsub.emit("video:continuousPlay:autoPlaySettingChange",!1),"turnCPon"===e.id&&o.pubsub.emit("video:continuousPlay:autoPlaySettingChange",!0)}),e(["bbcdotcom/av/emp/adverts","bbcdotcom/av/emp/analytics"],a.bind(function(e,t){e.addSmpPlugin(this.$get("player").attr("id"),this.player),t.addEventListeners(this.player),this._onPlayerCreated(this.player)},this),a.bind(function(e){i.logger.warn("bbcdotcom adverts and analytics failed to load with error:",e),this._onPlayerCreated(this.player)},this))),this.$get("overlay").off("click.wwhp.video").on("click.wwhp.video",a.bind(this._onOverlayClick,this))},_removePlayer:function(){this._isPlayerInitialised()&&this.player.pause(),this.$get("overlay").off("click.wwhp.video")},_isPlayerInitialised:function(){return!!this.player},_playVideo:function(e){try{if(this._hideOverlay(),!0===o.config.continuousPlayEnabled)l.refreshData(),l.playItem(e);else{var t;if(!(t=this.videoManager.getVideoByIndex(e)))return;var i=s.build({allowadvertising:t.data.allowadvertising,pid:t.data.pid,title:t.data.title,img:t.data.img,summary:t.data.summary,duration:t.data.duration}),n={statsObject:{clipPID:t.data.clippid||t.data.pid,producer:o.config.producer}};this.player.loadPlaylist(i,n)}}catch(e){console.log(e)}},_showOverlay:function(){this.$get("overlay").css("z-index",500),this.$get("overlay").removeClass("media--overlay__hidden")},_hideOverlay:function(){this.$get("overlay").addClass("media--overlay__hidden"),setTimeout(a.bind(function(){this.$get("overlay").css("z-index",0)},this),800)},_replaceOverlayContent:function(e){this.$get("title").html(e.title).attr({href:e.url}),this.$get("summary").html(e.summary),this.$get("source").html(e.sourcename).attr({href:e.sourceurl}),this.$get("img").attr({src:e.img,alt:e.imgalttext,"data-src":e.img})},_onPlayRequested:function(e){this._playVideo(e)},_onVideoSelected:function(e){(e=this.videoManager.getVideoByIndex(e))&&this._replaceOverlayContent(e.data)},_onContinuousPlayDismissed:function(){this._showOverlay()},_onOverlayClick:function(e){o.$(e.target).is("a.tag")||(e.preventDefault(),this.videoManager.requestVideoPlay(this.videoManager.state.playingVideo))},_onVideoEnd:function(){!0===o.config.continuousPlayEnabled&&l.getPlayingInfo().nextIndex&&!1!==this.videoManager.state.autoPlay||this._showOverlay()},_onPlayerCreated:function(e){e.bind("playlistEnded",a.bind(this._onVideoEnd,this)),!0!==o.config.continuousPlayEnabled&&e.autoplay(!0),e.load()}})}),n=this,o=function(){"use strict";function p(){return Oe.apply(null,arguments)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var i in t)f(t,i)&&(e[i]=t[i]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,i,n){return J(e,t,i,n,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),e._pf}function a(e){var t;return null==e._isValid&&(t=m(e),e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),e._isValid}function l(e){var t=s(NaN);return null!=e?r(m(t),e):m(t).userInvalidated=!0,t}function c(e,t){var i,n,o;if(void 0!==t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),void 0!==t._i&&(e._i=t._i),void 0!==t._f&&(e._f=t._f),void 0!==t._l&&(e._l=t._l),void 0!==t._strict&&(e._strict=t._strict),void 0!==t._tzm&&(e._tzm=t._tzm),void 0!==t._isUTC&&(e._isUTC=t._isUTC),void 0!==t._offset&&(e._offset=t._offset),void 0!==t._pf&&(e._pf=m(t)),void 0!==t._locale&&(e._locale=t._locale),0<Ae.length)for(i in Ae)n=Ae[i],o=t[n],void 0!==o&&(e[n]=o);return e}function d(e){c(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===Ie&&(Ie=!0,p.updateOffset(this),Ie=!1)}function u(e){return e instanceof d||null!=e&&null!=e._isAMomentObject}function h(e){return e<0?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,e=0;return e=0!=t&&isFinite(t)?h(t):e}function y(e,t,i){for(var n=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0,r=0;r<n;r++)(i&&e[r]!==t[r]||!i&&v(e[r])!==v(t[r]))&&s++;return s+o}function i(){}function g(e){return e&&e.toLowerCase().replace("_","-")}function b(e){var t;if(!Ye[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ee._abbr,require("./locale/"+e),w(t)}catch(e){}return Ye[e]}function w(e,t){return e&&((t=void 0===t?k(e):_(e,t))&&(Ee=t)),Ee._abbr}function _(e,t){return null!==t?(t.abbr=e,Ye[e]=Ye[e]||new i,Ye[e].set(t),w(e),Ye[e]):(delete Ye[e],null)}function k(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return Ee;if(!o(e)){if(t=b(e))return t;e=[e]}return function(e){for(var t,i,n,o,s=0;s<e.length;){for(t=(o=g(e[s]).split("-")).length,i=(i=g(e[s+1]))?i.split("-"):null;0<t;){if(n=b(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&y(o,i,!0)>=t-1)break;t--}s++}return null}(e)}function e(e,t){var i=e.toLowerCase();Le[i]=Le[i+"s"]=Le[t]=e}function S(e){return"string"==typeof e?Le[e]||Le[e.toLowerCase()]:void 0}function T(e){var t,i,n={};for(i in e)f(e,i)&&(t=S(i),t&&(n[t]=e[i]));return n}function t(t,i){return function(e){return null!=e?(x(this,t,e),p.updateOffset(this,i),this):C(this,t)}}function C(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function x(e,t,i){return e._d["set"+(e._isUTC?"UTC":"")+t](i)}function M(e,t){if("object"==typeof e)for(var i in e)this.set(i,e[i]);else if("function"==typeof this[e=S(e)])return this[e](t);return this}function P(e,t,i){var n=""+Math.abs(e);return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,t-n.length)).toString().substr(1)+n}function $(e,t,i,n){var o="string"==typeof n?function(){return this[n]()}:n;e&&(We[e]=o),t&&(We[t[0]]=function(){return P(o.apply(this,arguments),t[1],t[2])}),i&&(We[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function D(e,t){return e.isValid()?(t=O(t,e.localeData()),Fe[t]=Fe[t]||function(i){for(var e,n=i.match(je),o=0,s=n.length;o<s;o++)We[n[o]]?n[o]=We[n[o]]:n[o]=(e=n[o]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){var t="";for(o=0;o<s;o++)t+=n[o]instanceof Function?n[o].call(e,i):n[o];return t}}(t),Fe[t](e)):e.localeData().invalidDate()}function O(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(He.lastIndex=0;0<=n&&He.test(e);)e=e.replace(He,i),He.lastIndex=0,--n;return e}function E(e,t,i){et[e]="function"==typeof(e=t)&&"[object Function]"===Object.prototype.toString.call(e)?t:function(e){return e&&i?i:t}}function A(e,i){var t,n=i;for("string"==typeof e&&(e=[e]),"number"==typeof i&&(n=function(e,t){t[i]=v(e)}),t=0;t<e.length;t++)tt[e[t]]=n}function I(e,o){A(e,function(e,t,i,n){i._w=i._w||{},o(e,i._w,i,n)})}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function L(e,t){var i;return"string"==typeof t&&"number"!=typeof(t=e.localeData().monthsParse(t))||(i=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i)),e}function j(e){return null!=e?(L(this,e),p.updateOffset(this,!0),this):C(this,"Month")}function H(e){var t=e._a;return t&&-2===m(e).overflow&&(t=t[nt]<0||11<t[nt]?nt:t[ot]<1||t[ot]>Y(t[it],t[nt])?ot:t[st]<0||24<t[st]||24===t[st]&&(0!==t[rt]||0!==t[at]||0!==t[lt])?st:t[rt]<0||59<t[rt]?rt:t[at]<0||59<t[at]?at:t[lt]<0||999<t[lt]?lt:-1,m(e)._overflowDayOfYear&&(t<it||ot<t)&&(t=ot),m(e).overflow=t),e}function F(e){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function W(e,t){var i=!0;return r(function(){return i&&(F(e+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function N(e){var t,i,n=e._i,o=ht.exec(n);if(o){for(m(e).iso=!0,t=0,i=pt.length;t<i;t++)if(pt[t][1].exec(n)){e._f=pt[t][0];break}for(t=0,i=ft.length;t<i;t++)if(ft[t][1].exec(n)){e._f+=(o[6]||" ")+ft[t][0];break}n.match(Ke)&&(e._f+="Z"),X(e)}else e._isValid=!1}function z(e,t,i,n,o,s,r){r=new Date(e,t,i,n,o,s,r);return e<1970&&r.setFullYear(e),r}function U(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function R(e){return G(e)?366:365}function G(e){return e%4==0&&e%100!=0||e%400==0}function q(e,t,i){t=i-t,i-=e.day();return t<i&&(i-=7),i<t-7&&(i+=7),i=K(e).add(i,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function B(e,t,i){return null!=e?e:null!=t?t:i}function V(e){var t,i,n,o,s,r,a,l,c,d=[];if(!e._d){for(l=e,c=new Date,i=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[ot]&&null==e._a[nt]&&(null!=(c=(l=e)._w).GG||null!=c.W||null!=c.E?(a=1,r=4,n=B(c.GG,l._a[it],q(K(),1,4).year),o=B(c.W,1),s=B(c.E,1)):(a=l._locale._week.dow,r=l._locale._week.doy,n=B(c.gg,l._a[it],q(K(),a,r).year),o=B(c.w,1),null!=c.d?(s=c.d)<a&&++o:s=null!=c.e?c.e+a:a),a=function(e,t,i,n,o){var s=6+o-n;return(n=U(e,0,1+s).getUTCDay())<o&&(n+=7),{year:0<(i=1+s+7*(t-1)-n+(i=null!=i?+i:o))?e:e-1,dayOfYear:0<i?i:R(e-1)+i}}(n,o,s,r,a),l._a[it]=a.year,l._dayOfYear=a.dayOfYear),e._dayOfYear&&(a=B(e._a[it],i[it]),e._dayOfYear>R(a)&&(m(e)._overflowDayOfYear=!0),a=U(a,0,e._dayOfYear),e._a[nt]=a.getUTCMonth(),e._a[ot]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=d[t]=i[t];for(;t<7;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[st]&&0===e._a[rt]&&0===e._a[at]&&0===e._a[lt]&&(e._nextDay=!0,e._a[st]=0),e._d=(e._useUTC?U:z).apply(null,d),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[st]=24)}}function X(e){if(e._f!==p.ISO_8601){e._a=[],m(e).empty=!0;for(var t,i,n,o,s,r,a,l=""+e._i,c=l.length,d=0,u=O(e._f,e._locale).match(je)||[],h=0;h<u.length;h++)i=u[h],(t=(l.match((s=e,f(et,o=i)?et[o](s._strict,s._locale):new RegExp(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))))||[])[0])&&(0<(n=l.substr(0,l.indexOf(t))).length&&m(e).unusedInput.push(n),l=l.slice(l.indexOf(t)+t.length),d+=t.length),We[i]?(t?m(e).empty=!1:m(e).unusedTokens.push(i),s=i,o=e,null!=(n=t)&&f(tt,s)&&tt[s](n,o._a,o,s)):e._strict&&!t&&m(e).unusedTokens.push(i);m(e).charsLeftOver=c-d,0<l.length&&m(e).unusedInput.push(l),!0===m(e).bigHour&&e._a[st]<=12&&0<e._a[st]&&(m(e).bigHour=void 0),e._a[st]=(r=e._locale,a=e._a[st],null==(c=e._meridiem)?a:null!=r.meridiemHour?r.meridiemHour(a,c):null!=r.isPM?((c=r.isPM(c))&&a<12&&(a+=12),a=c||12!==a?a:0):a),V(e),H(e)}else N(e)}function Z(e){var t=e._i,i=e._f;return e._locale=e._locale||k(e._l),null===t||void 0===i&&""===t?l({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),u(t)?new d(H(t)):(o(i)?function(e){var t,i,n,o,s;if(0===e._f.length)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(o=0;o<e._f.length;o++)s=0,t=c({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],X(t),a(t)&&(s+=m(t).charsLeftOver,s+=10*m(t).unusedTokens.length,m(t).score=s,(null==n||s<n)&&(n=s,i=t));r(e,i||t)}(e):i?X(e):n(t)?e._d=t:void 0===(t=(i=e)._i)?i._d=new Date:n(t)?i._d=new Date(+t):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(N(e),!1===e._isValid&&(delete e._isValid,p.createFromInputFallback(e))):e._d=new Date(+t[1])}(i):o(t)?(i._a=function(e,t){for(var i=[],n=0;n<e.length;++n)i.push(t(e[n],n));return i}(t.slice(0),function(e){return parseInt(e,10)}),V(i)):"object"==typeof t?function(e){var t;e._d||(t=T(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],V(e))}(i):"number"==typeof t?i._d=new Date(t):p.createFromInputFallback(i),e))}function J(e,t,i,n,o){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=i,s._i=e,s._f=t,s._strict=n,(s=new d(H(Z(s=s))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function K(e,t,i,n){return J(e,t,i,n,!1)}function Q(e,t){var i,n;if(!(t=1===t.length&&o(t[0])?t[0]:t).length)return K();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}function ee(e){var t=T(e),i=t.year||0,n=t.quarter||0,o=t.month||0,s=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,e=t.second||0,t=t.millisecond||0;this._milliseconds=+t+1e3*e+6e4*l+36e5*a,this._days=+r+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=k(),this._bubble()}function te(e){return e instanceof ee}function ie(e,i){$(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+P(~~(e/60),2)+i+P(~~e%60,2)})}function ne(e){var t=(e||"").match(Ke)||[],e=((t[t.length-1]||[])+"").match(bt)||["-",0,0],t=60*e[1]+v(e[2]);return"+"===e[0]?t:-t}function oe(e,t){var i;return t._isUTC?(i=t.clone(),t=(u(e)||n(e)?+e:+K(e))-+i,i._d.setTime(+i._d+t),p.updateOffset(i,!1),i):K(e).local()}function se(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function re(){return this._isUTC&&0===this._offset}function ae(e,t){var i,n,o=e,s=null;return te(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=wt.exec(e))?(i="-"===s[1]?-1:1,o={y:0,d:v(s[ot])*i,h:v(s[st])*i,m:v(s[rt])*i,s:v(s[at])*i,ms:v(s[lt])*i}):(s=_t.exec(e))?(i="-"===s[1]?-1:1,o={y:le(s[2],i),M:le(s[3],i),d:le(s[4],i),h:le(s[5],i),m:le(s[6],i),s:le(s[7],i),w:le(s[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=K(o.from),i=oe(i=K(o.to),s),s.isBefore(i)?n=ce(s,i):((n=ce(i,s)).milliseconds=-n.milliseconds,n.months=-n.months),n=n,(o={}).ms=n.milliseconds,o.M=n.months),o=new ee(o),te(e)&&f(e,"_locale")&&(o._locale=e._locale),o}function le(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function ce(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function de(o,s){return function(e,t){var i,n;return null===t||isNaN(+t)||(n="moment()."+(i=s)+"(period, number) is deprecated. Please use moment()."+s+"(number, period).",ut[i]||(F(n),ut[i]=!0),i=e,e=t,t=i),ue(this,ae(e="string"==typeof e?+e:e,t),o),this}}function ue(e,t,i,n){var o=t._milliseconds,s=t._days,t=t._months;n=null==n||n,o&&e._d.setTime(+e._d+o*i),s&&x(e,"Date",C(e,"Date")+s*i),t&&L(e,C(e,"Month")+t*i),n&&p.updateOffset(e,s||t)}function he(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():D(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pe(e){return void 0===e?this._locale._abbr:(null!=(e=k(e))&&(this._locale=e),this)}function fe(){return this._locale}function me(e,t){$(0,[e,e.length],0,t)}function ve(e,t,i){return q(K([e,11,31+t-i]),t,i).week}function ye(e,t){$(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ge(e,t){return t._meridiemParse}function be(e,t){t[lt]=v(1e3*("0."+e))}function we(e){return e}function _e(e,t,i,n){var o=k(),t=s().set(n,t);return o[i](t,e)}function ke(e,t,i,n,o){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return _e(e,t,i,o);for(var s=[],r=0;r<n;r++)s[r]=_e(e,r,i,o);return s}function Se(e,t,i,n){i=ae(t,i);return e._milliseconds+=n*i._milliseconds,e._days+=n*i._days,e._months+=n*i._months,e._bubble()}function Te(e){return e<0?Math.floor(e):Math.ceil(e)}function Ce(e){return 4800*e/146097}function xe(e){return 146097*e/4800}function Me(e){return function(){return this.as(e)}}function Pe(e){return function(){return this._data[e]}}function $e(e,t,i){var n=ae(e).abs(),o=$t(n.as("s")),s=$t(n.as("m")),r=$t(n.as("h")),a=$t(n.as("d")),l=$t(n.as("M")),n=$t(n.as("y")),n=(o<Dt.s?["s",o]:1===s&&["m"])||s<Dt.m&&["mm",s]||1===r&&["h"]||r<Dt.h&&["hh",r]||1===a&&["d"]||a<Dt.d&&["dd",a]||1===l&&["M"]||l<Dt.M&&["MM",l]||1===n&&["y"]||["yy",n];return n[2]=t,n[3]=0<+e,n[4]=i,function(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}.apply(null,n)}function De(){var e=Ot(this._milliseconds)/1e3,t=Ot(this._days),i=Ot(this._months),n=h(e/60),o=h(n/60);e%=60,n%=60;var s=h(i/12),r=i%=12,i=t,t=o,o=n,n=e,e=this.asSeconds();return e?(e<0?"-":"")+"P"+(s?s+"Y":"")+(r?r+"M":"")+(i?i+"D":"")+(t||o||n?"T":"")+(t?t+"H":"")+(o?o+"M":"")+(n?n+"S":""):"P0D"}var Oe,Ee,Ae=p.momentProperties=[],Ie=!1,Ye={},Le={},je=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,He=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fe={},We={},Ne=/\d/,ze=/\d\d/,Ue=/\d{3}/,Re=/\d{4}/,Ge=/[+-]?\d{6}/,qe=/\d\d?/,Be=/\d{1,3}/,Ve=/\d{1,4}/,Xe=/[+-]?\d{1,6}/,Ze=/\d+/,Je=/[+-]?\d+/,Ke=/Z|[+-]\d\d:?\d\d/gi,Qe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,et={},tt={},it=0,nt=1,ot=2,st=3,rt=4,at=5,lt=6;$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),$("MMMM",0,0,function(e){return this.localeData().months(this,e)}),e("month","M"),E("M",qe),E("MM",qe,ze),E("MMM",Qe),E("MMMM",Qe),A(["M","MM"],function(e,t){t[nt]=v(e)-1}),A(["MMM","MMMM"],function(e,t,i,n){n=i._locale.monthsParse(e,n,i._strict);null!=n?t[nt]=n:m(i).invalidMonth=e});var ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),dt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ut={};p.suppressDeprecationWarnings=!1;var ht=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ft=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mt=/^\/?Date\((\-?\d+)/i;p.createFromInputFallback=W("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),e("year","y"),E("Y",Je),E("YY",qe,ze),E("YYYY",Ve,Re),E("YYYYY",Xe,Ge),E("YYYYYY",Xe,Ge),A(["YYYYY","YYYYYY"],it),A("YYYY",function(e,t){t[it]=2===e.length?p.parseTwoDigitYear(e):v(e)}),A("YY",function(e,t){t[it]=p.parseTwoDigitYear(e)});var vt=t("FullYear",!(p.parseTwoDigitYear=function(e){return v(e)+(68<v(e)?1900:2e3)}));$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),E("w",qe),E("ww",qe,ze),E("W",qe),E("WW",qe,ze),I(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=v(e)});$("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),E("DDD",Be),E("DDDD",Ue),A(["DDD","DDDD"],function(e,t,i){i._dayOfYear=v(e)}),p.ISO_8601=function(){};var yt=W("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=K.apply(null,arguments);return e<this?this:e}),gt=W("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=K.apply(null,arguments);return this<e?this:e});ie("Z",":"),ie("ZZ",""),E("Z",Ke),E("ZZ",Ke),A(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=ne(e)});var bt=/([\+\-]|\d\d)/gi;p.updateOffset=function(){};var wt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,_t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;ae.fn=ee.prototype;var kt=de(1,"add"),St=de(-1,"subtract");p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Tt=W("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),me("gggg","weekYear"),me("ggggg","weekYear"),me("GGGG","isoWeekYear"),me("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),E("G",Je),E("g",Je),E("GG",qe,ze),E("gg",qe,ze),E("GGGG",Ve,Re),E("gggg",Ve,Re),E("GGGGG",Xe,Ge),E("ggggg",Xe,Ge),I(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=v(e)}),I(["gg","GG"],function(e,t,i,n){t[n]=p.parseTwoDigitYear(e)}),$("Q",0,0,"quarter"),e("quarter","Q"),E("Q",Ne),A("Q",function(e,t){t[nt]=3*(v(e)-1)}),$("D",["DD",2],"Do","date"),e("date","D"),E("D",qe),E("DD",qe,ze),E("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),A(["D","DD"],ot),A("Do",function(e,t){t[ot]=v(e.match(qe)[0])});var Ct=t("Date",!0);$("d",0,"do","day"),$("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),$("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),$("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),E("d",qe),E("e",qe),E("E",qe),E("dd",Qe),E("ddd",Qe),E("dddd",Qe),I(["dd","ddd","dddd"],function(e,t,i){var n=i._locale.weekdaysParse(e);null!=n?t.d=n:m(i).invalidWeekday=e}),I(["d","e","E"],function(e,t,i,n){t[n]=v(e)});var xt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Re="Su_Mo_Tu_We_Th_Fr_Sa".split("_");$("H",["HH",2],0,"hour"),$("h",["hh",2],0,function(){return this.hours()%12||12}),ye("a",!0),ye("A",!1),e("hour","h"),E("a",ge),E("A",ge),E("H",qe),E("h",qe),E("HH",qe,ze),E("hh",qe,ze),A(["H","HH"],st),A(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),A(["h","hh"],function(e,t,i){t[st]=v(e),m(i).bigHour=!0});Xe=t("Hours",!0);$("m",["mm",2],0,"minute"),e("minute","m"),E("m",qe),E("mm",qe,ze),A(["m","mm"],rt);Ge=t("Minutes",!1);$("s",["ss",2],0,"second"),e("second","s"),E("s",qe),E("ss",qe,ze),A(["s","ss"],at);var Mt,Qe=t("Seconds",!1);for($("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),E("S",Be,Ne),E("SS",Be,ze),E("SSS",Be,Ue),Mt="SSSS";Mt.length<=9;Mt+="S")E(Mt,Ze);for(Mt="S";Mt.length<=9;Mt+="S")A(Mt,be);ze=t("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");Be=d.prototype;Be.add=kt,Be.calendar=function(e,t){var i=e||K(),e=oe(i,this).startOf("day"),e=(e=this.diff(e,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(t&&t[e]||this.localeData().calendar(e,this,K(i)))},Be.clone=function(){return new d(this)},Be.diff=function(e,t,i){var n,o,s,r,a=oe(e,this),l=6e4*(a.utcOffset()-this.utcOffset());return"year"===(t=S(t))||"month"===t||"quarter"===t?(n=this,e=12*((o=a).year()-n.year())+(o.month()-n.month()),r=n.clone().add(e,"months"),r=o-r<0?(s=n.clone().add(e-1,"months"),(o-r)/(r-s)):(s=n.clone().add(1+e,"months"),(o-r)/(s-r)),r=-(e+r),"quarter"===t?r/=3:"year"===t&&(r/=12)):(a=this-a,r="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-l)/864e5:"week"===t?(a-l)/6048e5:a),i?r:h(r)},Be.endOf=function(e){return void 0===(e=S(e))||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},Be.format=function(e){return e=D(this,e||p.defaultFormat),this.localeData().postformat(e)},Be.from=function(e,t){return this.isValid()?ae({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Be.fromNow=function(e){return this.from(K(),e)},Be.to=function(e,t){return this.isValid()?ae({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Be.toNow=function(e){return this.to(K(),e)},Be.get=M,Be.invalidAt=function(){return m(this).overflow},Be.isAfter=function(e,t){return"millisecond"===(t=S(void 0!==t?t:"millisecond"))?+(e=u(e)?e:K(e))<+this:(u(e)?+e:+K(e))<+this.clone().startOf(t)},Be.isBefore=function(e,t){return"millisecond"===(t=S(void 0!==t?t:"millisecond"))?+this<+(e=u(e)?e:K(e)):(e=u(e)?+e:+K(e),+this.clone().endOf(t)<e)},Be.isBetween=function(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)},Be.isSame=function(e,t){return"millisecond"===(t=S(t||"millisecond"))?+this==+(e=u(e)?e:K(e)):(e=+K(e),+this.clone().startOf(t)<=e&&e<=+this.clone().endOf(t))},Be.isValid=function(){return a(this)},Be.lang=Tt,Be.locale=pe,Be.localeData=fe,Be.max=gt,Be.min=yt,Be.parsingFlags=function(){return r({},m(this))},Be.set=M,Be.startOf=function(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Be.subtract=St,Be.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Be.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Be.toDate=function(){return this._offset?new Date(+this):this._d},Be.toISOString=he,Be.toJSON=he,Be.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Be.unix=function(){return Math.floor(+this/1e3)},Be.valueOf=function(){return+this._d-6e4*(this._offset||0)},Be.year=vt,Be.isLeapYear=function(){return G(this.year())},Be.weekYear=function(e){var t=q(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},Be.isoWeekYear=function(e){var t=q(this,1,4).year;return null==e?t:this.add(e-t,"y")},Be.quarter=Be.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Be.month=j,Be.daysInMonth=function(){return Y(this.year(),this.month())},Be.week=Be.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Be.isoWeek=Be.isoWeeks=function(e){var t=q(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Be.weeksInYear=function(){var e=this.localeData()._week;return ve(this.year(),e.dow,e.doy)},Be.isoWeeksInYear=function(){return ve(this.year(),1,4)},Be.date=Ct,Be.day=Be.days=function(e){var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},Be.weekday=function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Be.isoWeekday=function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},Be.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Be.hour=Be.hours=Xe,Be.minute=Be.minutes=Ge,Be.second=Be.seconds=Qe,Be.millisecond=Be.milliseconds=ze,Be.utcOffset=function(e,t){var i,n=this._offset||0;return null!=e?("string"==typeof e&&(e=ne(e)),Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=se(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?ue(this,ae(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:se(this)},Be.utc=function(e){return this.utcOffset(0,e)},Be.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(se(this),"m")),this},Be.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(ne(this._i)),this},Be.hasAlignedHourOffset=function(e){return e=e?K(e).utcOffset():0,(this.utcOffset()-e)%60==0},Be.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Be.isDSTShifted=function(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var e,t={};return c(t,this),(t=Z(t))._a?(e=(t._isUTC?s:K)(t._a),this._isDSTShifted=this.isValid()&&0<y(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted},Be.isLocal=function(){return!this._isUTC},Be.isUtcOffset=function(){return this._isUTC},Be.isUtc=re,Be.isUTC=re,Be.zoneAbbr=function(){return this._isUTC?"UTC":""},Be.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Be.dates=W("dates accessor is deprecated. Use date instead.",Ct),Be.months=W("months accessor is deprecated. Use month instead",j),Be.years=W("years accessor is deprecated. Use year instead",vt),Be.zone=W("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()});Ue=Be,kt=i.prototype;kt._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kt.calendar=function(e,t,i){return"function"==typeof(e=this._calendar[e])?e.call(t,i):e},kt._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},kt.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},kt._invalidDate="Invalid date",kt.invalidDate=function(){return this._invalidDate},kt._ordinal="%d",kt.ordinal=function(e){return this._ordinal.replace("%d",e)},kt._ordinalParse=/\d{1,2}/,kt.preparse=we,kt.postformat=we,kt._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},kt.relativeTime=function(e,t,i,n){var o=this._relativeTime[i];return"function"==typeof o?o(e,t,i,n):o.replace(/%d/i,e)},kt.pastFuture=function(e,t){return"function"==typeof(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},kt.set=function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},kt.months=function(e){return this._months[e.month()]},kt._months=ct,kt.monthsShort=function(e){return this._monthsShort[e.month()]},kt._monthsShort=dt,kt.monthsParse=function(e,t,i){var n,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=s([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},kt.week=function(e){return q(e,this._week.dow,this._week.doy).week},kt._week={dow:0,doy:6},kt.firstDayOfYear=function(){return this._week.doy},kt.firstDayOfWeek=function(){return this._week.dow},kt.weekdays=function(e){return this._weekdays[e.day()]},kt._weekdays=xt,kt.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},kt._weekdaysMin=Re,kt.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},kt._weekdaysShort=Ve,kt.weekdaysParse=function(e){var t,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;t<7;t++)if(this._weekdaysParse[t]||(i=K([2e3,1]).day(t),i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},kt.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kt._meridiemParse=/[ap]\.?m?\.?/i,kt.meridiem=function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),p.lang=W("moment.lang is deprecated. Use moment.locale instead.",w),p.langData=W("moment.langData is deprecated. Use moment.localeData instead.",k);var Pt=Math.abs,gt=Me("ms"),yt=Me("s"),St=Me("m"),Xe=Me("h"),Ge=Me("d"),Qe=Me("w"),ze=Me("M"),Ct=Me("y"),vt=Pe("milliseconds"),Be=Pe("seconds"),ct=Pe("minutes"),dt=Pe("hours"),xt=Pe("days"),Re=Pe("months"),Ve=Pe("years"),$t=Math.round,Dt={s:45,m:45,h:22,d:26,M:11},Ot=Math.abs,kt=ee.prototype;return kt.abs=function(){var e=this._data;return this._milliseconds=Pt(this._milliseconds),this._days=Pt(this._days),this._months=Pt(this._months),e.milliseconds=Pt(e.milliseconds),e.seconds=Pt(e.seconds),e.minutes=Pt(e.minutes),e.hours=Pt(e.hours),e.months=Pt(e.months),e.years=Pt(e.years),this},kt.add=function(e,t){return Se(this,e,t,1)},kt.subtract=function(e,t){return Se(this,e,t,-1)},kt.as=function(e){var t,i,n=this._milliseconds;if("month"===(e=S(e))||"year"===e)return t=this._days+n/864e5,i=this._months+Ce(t),"month"===e?i:i/12;switch(t=this._days+Math.round(xe(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},kt.asMilliseconds=gt,kt.asSeconds=yt,kt.asMinutes=St,kt.asHours=Xe,kt.asDays=Ge,kt.asWeeks=Qe,kt.asMonths=ze,kt.asYears=Ct,kt.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},kt._bubble=function(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data;return 0<=e&&0<=t&&0<=i||e<=0&&t<=0&&i<=0||(e+=864e5*Te(xe(i)+t),i=t=0),n.milliseconds=e%1e3,e=h(e/1e3),n.seconds=e%60,e=h(e/60),n.minutes=e%60,e=h(e/60),n.hours=e%24,t+=h(e/24),i+=e=h(Ce(t)),t-=Te(xe(e)),e=h(i/12),i%=12,n.days=t,n.months=i,n.years=e,this},kt.get=function(e){return this[(e=S(e))+"s"]()},kt.milliseconds=vt,kt.seconds=Be,kt.minutes=ct,kt.hours=dt,kt.days=xt,kt.weeks=function(){return h(this.days()/7)},kt.months=Re,kt.years=Ve,kt.humanize=function(e){var t=this.localeData(),i=$e(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)},kt.toISOString=De,kt.toString=De,kt.toJSON=De,kt.locale=pe,kt.localeData=fe,kt.toIsoString=W("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",De),kt.lang=Tt,$("X",0,0,"unix"),$("x",0,0,"valueOf"),E("x",Je),E("X",/[+-]?\d+(\.\d{1,3})?/),A("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),A("x",function(e,t,i){i._d=new Date(v(e))}),p.version="2.10.6",Oe=K,p.fn=Ue,p.min=function(){return Q("isBefore",[].slice.call(arguments,0))},p.max=function(){return Q("isAfter",[].slice.call(arguments,0))},p.utc=s,p.unix=function(e){return K(1e3*e)},p.months=function(e,t){return ke(e,t,"months",12,"month")},p.isDate=n,p.locale=w,p.invalid=l,p.duration=ae,p.isMoment=u,p.weekdays=function(e,t){return ke(e,t,"weekdays",7,"day")},p.parseZone=function(){return K.apply(null,arguments).parseZone()},p.localeData=k,p.isDuration=te,p.monthsShort=function(e,t){return ke(e,t,"monthsShort",12,"month")},p.weekdaysMin=function(e,t){return ke(e,t,"weekdaysMin",7,"day")},p.defineLocale=_,p.weekdaysShort=function(e,t){return ke(e,t,"weekdaysShort",7,"day")},p.normalizeUnits=S,p.relativeTimeThreshold=function(e,t){return void 0!==Dt[e]&&(void 0===t?Dt[e]:(Dt[e]=t,!0))},p},"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define("vendor/bower/moment/moment",o):n.moment=o(),define("modules/video/dataProvider",["lib/timeInterval","modules/video/playlistBuilder","vendor/bower/moment/moment"],function(i,n,o){"use strict";var t;return{init:function(e){t=e},findItems:function(e){e(null,t.videos[t.state.playingCategory])},parseItem:function(e,t){t=t[e],e={title:t.data.title,date:o(t.data.updated).format("Do MMMM YYYY"),uri:t.data.url,imgUrl:t.data.img,duration:t.data.duration?i.toTimestamp(t.data.duration):"0:00"};return e.playlist=n.build(t.data),e},parseAdvertMeta:function(e,t){t=t[e];return{section:t.data.sourceurl,adCampaignKeyword:null,assetId:null,assetType:0===e?"AV":"media_cplay",editorAdFlag:t.data.allowadvertising,shortHeadline:t.data.summary,uri:t.data.url}}}}),define("modules/video",["lib/core","lib/module/base","modules/video/playlist","modules/video/player","modules/video/dataProvider","vendor/pre-built/bbc-video-experience/continuousPlay/module","vendor/bower/underscore/underscore","vendor/bower/js-breakpoints/breakpoints"],function(s,e,t,i,n,o,r,a){"use strict";return e.extend({selectors:{tabLinks:".video__tab__link",playlistItems:".video__item"},init:function(){this.state={},this._registerEvents(),this.playlist=new t(this.$el,this),this.player=new i(this.$el,this),this.videos=this._gatherVideos();var e=this.$get("tabLinks").eq(0).data("category");this.selectCategory(e),this.selectVideo(0)},_registerEvents:function(){s.pubsub.on("video:player:initialised",r.bind(this._onPlayerInitialised,this)),!0===s.config.continuousPlayEnabled&&(s.pubsub.on("video:continuousPlay:enabled",r.bind(this._onContinuousPlayEnabled,this)),s.pubsub.on("video:continuousPlay:videoPlayed",r.bind(this._onContinuousPlayVideoPlayed,this)),s.pubsub.on("video:continuousPlay:autoPlaySettingChange",r.bind(this._onAutoPlaySettingChange,this)))},getVideoByIndex:function(e,t){t=t||this.state.playingCategory;return r.has(this.videos,t)&&r.has(this.videos[t],e)?this.videos[t][e]:null},selectCategory:function(e){this.state.selectedCategory=e,s.pubsub.emit("video:categorySelected",e)},selectVideo:function(e){this.state.playingVideo=e,this.state.playingCategory=this.state.selectedCategory,s.pubsub.emit("video:videoSelected",e)},requestVideoPlay:function(e){s.pubsub.emit("video:playRequested",e)},_gatherVideos:function(){var o={};return this.$get("playlistItems").each(function(e,t){var i=s.$(t),n=i.data("category"),t=i.data("video");o[n]=o[n]||[],o[n].push({index:o[n].length,data:t,slide:i})}),o},_initContinuousPlay:function(e){this.state.continuousPlayInitialised||(n.init(this),o.init(n,{staticPrefix:s.config.staticPrefix,adsEnabled:!0,countdownDuration:5,startIndex:0,updateBrowserUrl:{enabled:!1,updateHistory:!1},advertAssetType:"media_cplay",autoPlayFirstItem:!0,handlers:{enabled:r.bind(function(e){s.pubsub.emit("video:continuousPlay:enabled",e)},this),videoPlayed:r.bind(function(e){s.pubsub.emit("video:continuousPlay:videoPlayed",e)},this),dismissed:function(){s.pubsub.emit("video:continuousPlay:dismissed")}}}),o.initBump(e),this.state.continuousPlayInitialised=!0)},_onPlayerInitialised:function(e){!0===s.config.continuousPlayEnabled&&this._initContinuousPlay(e),this.state.ready=!0},_onContinuousPlayEnabled:function(e){this.state.playingVideo=e,s.pubsub.emit("video:videoSelected",e)},_onContinuousPlayVideoPlayed:function(e){this.state.playingVideo=e,s.pubsub.emit("video:videoSelected",e)},_onAutoPlaySettingChange:function(e){this.state.autoPlay=e}})}),define("modules/weather",["lib/module/base","lib/util","underscore"],function(e,t,o){"use strict";return e.extend({init:function(){this.clearElCache(),this._initDom(),this._bindEvents(),!this.initialised&&t.cookie.get("ckps_hploc")&&this.setLocation(t.cookie.get("ckps_hploc")),this.initialised=!0,this.expanded=!1},selectors:{weather:".weather",edit:".weather--edit",form:".weather--form",input:".weather--form--input",error:".weather--error",results:".weather--results"},data:{module:"weather","wwhp-template":"responsive"},initialised:!1,expanded:!1,search:function(e){if(e.length<3)return!1;this._call({action:"search",location_term:e},this._onSearchSuccess)},setLocation:function(e){this._call({action:"set",location_id:e},this._onSetSuccess)},_call:function(e,t){return this._clearError(),this._setIsLoading(!0),this.$get("input").attr("disabled","disabled"),this.$.ajax(this.$get("form").attr("action"),{dataType:"json",data:o.extend({},this.data,e),success:o.bind(t,this),error:o.bind(this._onError,this),complete:o.bind(this._onLoad,this)})},_initDom:function(){this.$get("edit").show(),this._clearError()},_bindEvents:function(){this.$get("edit").off("click.weather").on("click.weather",o.bind(function(e){e.preventDefault(),this.$(e.target).text("edit"===this.$(e.target).text().toLowerCase()?"Close":"Edit"),this.$get("form").toggle(),this.$get("results").empty(),this.$get("input").val(""),this._clearError(),this.expanded=!this.expanded,this._setIsLoading(!1),this.$get("input").removeAttr("disabled")},this)),this.$get("results").on("click.weather","li a",o.bind(function(e){e.preventDefault(),this.setLocation(this.$(e.target).data("id"))},this)),this.$get("form").off("submit.weather").on("submit.weather",o.bind(function(e){e.preventDefault(),this.search(this.$get("input").val())},this))},_onSearchSuccess:function(e,t,i){var n;this._validateSearch(e)?(n=this.$(document.createDocumentFragment()),o.each(e,function(e,t){e=this.$("<a>").attr({href:"#"}).data({id:e.id}).text(e.name);n.append(this.$("<li>").addClass("weather--result").append(e))},this),this.$get("results").html(n)):this._onError(i,t,new Error("Location not found."))},_onSetSuccess:function(e,t,i){this._validateForecast(e)?(this.$get("weather").replaceWith(this.$(e.html).find(this.selectors.weather)),this.init()):this._onError(i,t,new Error("Error setting location. Please try again in a moment."))},_onLoad:function(){this._setIsLoading(!1),this.$get("input").removeAttr("disabled")},_onError:function(e,t,i){this._showError(i.message),this.$get("results").empty()},_validateSearch:function(e){return e&&0<e.length},_validateForecast:function(e){return e.html&&0<this.$(e.html).find(this.selectors.weather).length},_setIsLoading:function(e){this.$get("weather")[e?"addClass":"removeClass"]("weather--loading")},_showError:function(e){this.$get("error").text(e).show()},_clearError:function(){this.$get("error").empty().hide()}})}),define("definejs",["app","modules/header","modules/images","modules/media","modules/video","modules/video/dataProvider","modules/video/player","modules/video/playlist","modules/video/playlistBuilder","modules/weather"],function(){return""})}();

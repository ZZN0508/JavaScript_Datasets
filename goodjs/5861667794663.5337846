var YAHOO;(YAHOO=void 0===YAHOO?{}:YAHOO).i13n=YAHOO.i13n||{},YAHOO.i13n=function(){var m={},v={MAX_VALUE_LENGTH:300,LINK_TAG_LIST:["a","button","input"],logWarn:function(e){void 0===console.warn&&(console.warn=console.log),console.warn(e)},logErr:function(e){void 0===console.error&&(console.error=console.log),console.error(e)},isDebug:function(){return void 0!==v&&void 0!==v.debug&&v.debug},logDebug:function(e){this.isDebug()&&console.log("Rapid : ["+(new Date).getTime()+"]"+e)},logTrace:function(e,t){this.isDebug()&&(console.log("Rapid : [TRACELOG]["+(new Date).getTime()+"]"+e),console.log(t))},isPlainObject:function(e){return!(!e||"[object Object]"!==toString.call(e)||(e=Object.getPrototypeOf(e))&&"function"!=typeof(this.hasOwn.call(e,"constructor")&&e.constructor))},isFunction:function(e){return"[object Function]"===v.type(e)},isDate:function(e){return"[object Date]"===v.type(e)},isArr:function(e){return"[object Array]"===v.type(e)},isStr:function(e){return"string"===v.type(e)},isNum:function(e){return"number"===v.type(e)&&isFinite(e)},isNumeric:function(e){return+e===e&&0<(e+"").replace(/^\s+|\s+$/g,"").length},isObj:function(e){return e&&"object"==typeof e},isIE:navigator.userAgent.match(/MSIE\s[^;]*/)||navigator.userAgent.match(/Trident\/[^;]*/)?1:0,isEdge:-1<navigator.userAgent.indexOf(" Edge/"),type:function(e){return null===e?e+"":"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e)||"object":typeof e},extend:function(){var e,t,n,i,o,r=arguments[0]||{},a=1,l=arguments.length,s=!1;for("boolean"==typeof r&&(s=r,r=arguments[a]||{},a++),"object"==typeof r||v.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!==(e=arguments[a]))for(t in e)e.hasOwnProperty(t)&&(o=r[t],r!==(n=e[t])&&(s&&n&&(v.isPlainObject(n)||(i=Array.isArray(n)))?(o=i?(i=!1,o&&Array.isArray(o)?o:[]):o&&v.isPlainObject(o)?o:{},r[t]=v.extend(s,o,n)):void 0!==n&&(r[t]=n)))},trim:function(e){return(e=null===e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")).replace(/[\u007f-\u00a0]|\s{2,}/g," ").replace(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g,"")},getValueWithBounds:function(e,t,n){return e<t?t:n<e?n:e},getScrollbarWidthHeight:function(){var e=v.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return v.rmBodyEl(e),t},make:function(e,t){var n=document.createElement(e);if(t&&v.isObj(t))for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n},rmBodyEl:function(e){document.body.removeChild(e)},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||"class"!==t||(t="className"),n=e&&e.getAttribute?e.getAttribute(t,2):n},clref:function(e){if(0!==e.indexOf("http://")&&0!==e.indexOf("https://"))return"";e=this.strip(e);return e.clean||e.url},toJSON:function(e){return JSON.stringify(e)},hasCC:function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<32||"="===n)return!0}return!1},isValidPair:function(e,t){return!!this.in_value_whitelist(e)||!(8<e.length||t.length>this.MAX_VALUE_LENGTH)||(v.logWarn("Invalid key/value pair ("+e+"="+t+") Size must be < 8/300 respectively."),!1)},ser:function(e,t){if(!e)return"";void 0===t&&(t=!0);var n,i=[],o="";for(n in e)if(v.hasOwn(e,n)){var r=n,a=e[n];if(null===r||null===a)continue;if(r+="",(a+="")&&!this.in_value_whitelist(r)&&a.length>this.MAX_VALUE_LENGTH&&(a=a.substring(0,this.MAX_VALUE_LENGTH)),!this.isValidPair(r,a))continue;if(!this.hasCC(r)&&!this.hasCC(a)){(o="")!==(a=this.trim(a))&&" "!==a||!t||(a="_");try{o=(o=encodeURIComponent(r+""+a)).replace(/'/g,"%27")}catch(e){o="_ERR_ENCODE_",v.logErr(e)}i.push(o)}}return i.join("%04")},in_value_whitelist:function(e){return!(v.isIE&&v.ieV<=8)&&-1!==["A_res","A_cmi","A_cma","A_utm"].indexOf(e)},rmProto:function(e){return e?"http://"===e.substr(0,7)?e.substr(7,e.length):"https://"===e.substr(0,8)?e.substr(8,e.length):e:""},rand:function(){for(var e=0,t="";e++<16;){var n=Math.floor(62*Math.random());t+=n<10?n:String.fromCharCode(n<36?n+55:n+61)}return t+v.tms().toString(36)},tms:function(){return+new Date},aug:function(e,t,n){if(t)for(var i in t)if(this.hasOwn(t,i)){if(n&&!n.call(null,i,t[i]))continue;e[i]=t[i]}},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",keys:[]},i=0;-1!==e.indexOf("_yl",i);){var o=e.indexOf("_yl",i);if(i<o&&(n.clean+=e.slice(i,o-1)),i=o+3,t[e.charAt(o-1)]&&"="===e.charAt(o+4)){n.ult=1;var r="_yl"+e.charAt(o+3),a="";for(o+=5;o<e.length&&!t[e.charAt(o)];o++)a+=e.charAt(o);n.keys.push(r),n[r]=a,t[e.charAt(o)]&&"P"===t[e.charAt(o)]&&(n.clean+=e.charAt(o)),i=o+1}else n.clean+=e.slice(o-1,i)}return n.ult&&(n.clean+=e.substr(i)),n},getXHR:function(){return new XMLHttpRequest},hasCORS:function(){return!(v.isIE&&v.ieV<10)&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)},COMPRESS_TYPE:{none:0,gzip:1,lzw:2,deflate:3},hasWorkers:function(){return!!window.Worker},getProtocol:function(){return void 0!==v&&v.yhlhttp?"http://":"https://"},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},off:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},async:function(e,t){return null==t&&(t=0),setTimeout(e,t)},hasClass:function(e,i){function t(e,t){var n=!1;return e&&i&&(e=v.getAttribute(e,"class")||"",n=i.exec?t.test(e):t&&-1<(" "+e+" ").indexOf(" "+t+" ")),n}if(this.isArr(i)){for(var n=0;n<i.length;n++)if(t(e,i[n]))return!0;return!1}return!!this.isStr(i)&&t(e,i)},extDomain:function(e){e=e.match(/^https?:\/\/([^/?#]+)(?:[/?#]|$)/i);return e&&e[1]},screenPos:function(e){return screen?screen.width+(e||",")+screen.height:""},pos:function(e){var t,n,i=null,o=e.pageX,r=e.pageY;return this.isIE&&(t=document.documentElement,n=document.body,i=t&&(t.scrollTop||t.scrollLeft)?[t.scrollTop,t.scrollLeft]:n?[n.scrollTop,n.scrollLeft]:[0,0]),o||0===o||(o=e.clientX||0,this.isIE&&(o+=i[1])),r||0===r||(r=e.clientY||0,this.isIE&&(r+=i[0])),o+","+r},getElementsByTagNames:function(e,t){e=e||document;for(var n=[],i=0;i<this.LINK_TAG_LIST.length;i++)for(var o=e.getElementsByTagName(this.LINK_TAG_LIST[i]),r=0;r<o.length;r++){var a=o[r];t&&!t.call(0,a)||n.push(a)}return this.sort(n)},getElementsByTagNamesDOMParsing:function(e,t,n,i){var o=n||[],r=(t=t||document).childNodes;if("true"!==this.getAttribute(t,e.conf.skip_attr))for(var a=0;a<r.length;a++){var l=r[a];!function(e){for(var t=0;t<this.LINK_TAG_LIST.length;t++)if(e.tagName&&e.tagName.toLowerCase()===this.LINK_TAG_LIST[t].toLowerCase())return 1}(l)||(i&&!i.call(0,l)||o.push(l)),"true"!==this.getAttribute(l,e.conf.skip_attr)?o=this.getElementsByTagNamesDOMParsing(e,l,o,i):"true"===v.getAttribute(l,e.conf.skip_attr)&&o.push(l)}return this.sort(o)},sort:function(e){var t=e[0];return t?(t.sourceIndex?e.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):t.compareDocumentPosition&&e.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),e):[]},getLinkContent:function(e){for(var t,n=0,i="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(i+=(this.getAttribute(t,"alt")||"")+" "),i+=this.getLinkContent(t));return i},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?!/KHTML/.test(navigator.userAgent)&&e.innerText||e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",""===(n=(n=""===(n=this.trim(n))?this.trim(this.getLinkContent(e)):n)&&n.length>v.MAX_VALUE_LENGTH?n.substring(0,v.MAX_VALUE_LENGTH):n)?"_":n},getCompStyle:function(n,e){return void 0!==window.getComputedStyle?window.getComputedStyle(n,e):(this.el=n,this.getPropertyValue=function(e){var t=/(æ¥¼-([a-z]){1})/g;return t.test(e="float"===e?"styleFloat":e)&&(e=e.replace(t,function(){return arguments[2].toUpperCase()})),n.currentStyle[e]||0},this)},isAboveFoldArea:function(e,t){var n=this.getCompStyle(e);if("hidden"===n.getPropertyValue("visibility")||"none"===n.getPropertyValue("display"))return!1;var i,o=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,e=void 0===o.height||void 0===o.width?(i=Math.abs(o.bottom-o.top),Math.abs(o.right-o.left)):(i=o.height,o.width);if(document.documentElement.scrollWidth>document.documentElement.clientWidth&&(r-=t.height),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(n-=t.width),o.right<=0||o.bottom<=0||o.left>=n||o.top>=r)return!1;t={};return t.top=o.top<0?0:o.top,t.left=o.left<0?0:o.left,t.bottom=o.bottom>r?r:o.bottom,t.right=o.right>n?n:o.right,t.width=t.right-t.left,t.height=t.bottom-t.top,e*i/2<=t.width*t.height},ltattr:function(e,t){return v.hasClass(e,"rapid_track_href")?"href":v.hasClass(e,"rapid_track_text")?"text":v.hasClass(e,"rapid_track_title")?"title":v.hasClass(e,"rapid_track_id")?"id":t},isAvailableSendBeacon:function(){return void 0!==window.navigator.sendBeacon&&"undefined"!=typeof Blob}};return v.ieV=v.isIE?document.documentMode||(document.compatMode&&"CSS1Compat"===document.compatMode?7:5):null,v.isFlowinpv=function(){var e,t=document.getElementsByTagName("script"),n=/https?:\/\/[is]\.yimg\.jp\/images\/ds\/ult\/apj\/rapid-[\d.]+\.js/;for(e in t)if("string"==typeof t[e].src&&null!==t[e].src.match(n))return!0;return!1}(),v.extend(m,{Uploader:function(h){var _;function a(u,d,f,p,e){function g(e,t,n){e="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?encodeURIComponent(e):e)}function m(e,t){v.logDebug("[Yahoo.i13n.Uploader.send.exec] this method is XHR transfer.");var n=v.getXHR();n.open("POST",e,!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d&&v.isFunction(d)&&(n.timeout=h.conf.click_timeout),n.onload=n.ontimeout=n.onerror=n.onabort=function(){d&&v.isFunction(d)&&d.call(0,f,p)},n.send(t)}function t(e,t,n){0===t&&(e=e.replace(/'/g,"\\'")),v.isDebug()&&v.logDebug("[Yahoo.i13n.Uploader.send.exec] A_sid : "+h.conf.keys.get("A_sid"));var i,o,r,a,l,s=function(e){e=[v.getProtocol(),h.conf.yql_host,h.conf.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",h.conf.spaceid,!0===h.conf.deb?"&yhlEnv=staging":"",!0===h.conf.deb||h.conf.ldbg?"&debug=true&diagnostics=true":"",v.isIE&&v.ieV?"&yhlUA=ie"+v.ieV:"","&format=json","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",h.conf.version,"&yhlRnd=",v.rand(),"&yhlCompressed=",e||0].join("");return v.logDebug("[Yahoo.i13n.Uploader.getURI] result : "+e),e}(t),c=g(e,!0,!0);n?_=s+"&"+c:h.conf.click_sendbeacon&&v.isAvailableSendBeacon()&&void 0!==p?!function(e,t){v.logDebug("[Yahoo.i13n.Uploader.send.exec] this method is sendBeacon transfer.");t=new Blob([t],{type:"application/x-www-form-urlencoded;charset=UTF-8",host:h.conf.yql_host});return navigator.sendBeacon(e,t)}(s,c)?m(s,c):d.call(0,f):v.hasCORS()?m(s,c):(v.logDebug("[Yahoo.i13n.Uploader.send.exec] this method is to create Iframe and form submit."),i="rapid_if_"+v.rand(),o="rapid_if_"+v.rand(),a="application/x-www-form-urlencoded;charset=UTF-8",c=n=e=t=null,(r=document.createElement("iframe")).name=i,l=function(){v.off(r,"load",l),v.async(function(){document.body.removeChild(r)})},r.setAttribute("style","display:none"),document.body.appendChild(r),(t=r.contentDocument||r.contentWindow.document).open(),t.close(),(e=t.createElement("form")).setAttribute("style","display:none"),e.id=o,e.method="POST",e.action=s,e.target=i,e.setAttribute("enctype",a),e.setAttribute("encoding",a),(n=t.createElement("input")).name="q",n.value=g(u,0,0),n.type="text",e.appendChild(n),(c=t.createElement("input")).type="submit",e.appendChild(c),t.body.appendChild(e),t.charset="UTF-8",v.on(r,"load",l),d&&v.isFunction(d)&&v.on(e,"submit",function(){d.call(0,f)}),c.click())}function n(){r||(r=!0,t(u,0),v.logDebug("[Yahoo.i13n.Uploader.send] sent in failSend"))}var i=v.COMPRESS_TYPE[h.conf.compr_type];if(h.conf.compr_on&&v.hasWorkers()&&1<i&&2048<u.length&&!e){v.logDebug("[Yahoo.i13n.Uploader.send] Looking for worker:"+h.conf.webworker_file+", compr timeout:"+h.conf.compr_timeout);try{var o=new Worker(h.conf.webworker_file),r=!1,a=null;o.onerror=function(e){clearTimeout(a),n(),v.logWarn(e.message),o.terminate()},o.onmessage=function(e){clearTimeout(a),"Decompress fail"!==e.data&&"Compress fail"!==e.data&&0!==e.data.indexOf("error:")||(v.logDebug("[Yahoo.i13n.Uploader.send]"+e.data),n()),r||(r=!0,t(e.data,i)),o.terminate()},o.postMessage({type:i,json:u}),a=v.async(function(){n(),o.terminate()},h.conf.compr_timeout)}catch(e){v.logDebug("[Yahoo.i13n.Uploader.send]compression worker exception "+e),t(u,0)}}else t(u,0,e)}function l(e){var t={_pl:1,A_v:h.conf.version,A_jpv:h.conf.rapidjp_version},n=v.trim(v.clref((null!==h.conf.referrer?h.conf:document).referrer));n&&!1!==e&&(t._R=n),h.conf.ex&&(t._ex=1),t._bt||(t._bt="rapid"),v.isFlowinpv&&(t.flowinpv="1");n=(n=window.location.protocol||"").replace(/:$/,"");return t.A_pr=n,t.A_tzoff=(new Date).getTimezoneOffset(),t.A_tzoff=t.A_tzoff?-1*t.A_tzoff/60:0,v.logDebug("[Yahoo.i13n.Uploader.createBP] result : "+t),t}return{sendRapidPage:function(e,t){var n;v.logDebug("[Yahoo.i13n.Uploader.sendRapidPage]"),e=e,t=t,v.isIE&&v.ieV<=8?v.logDebug("[Yahoo.i13n.Uploader.send.exec] did not send. for unsupported browsers"):(v.logDebug("[Yahoo.i13n.Uploader.isendRapidPage]"),n=e,e=t,v.logTrace("[Yahoo.i13n.Uploader.createPageJson] Modules ",n),v.logTrace("[Yahoo.i13n.Uploader.createPageJson] Parameter ",e),t=v.toJSON({bp:l(),r:[{t:"lv",s:h.conf.spaceid,pp:(t=m.PageParams.makeFromPP(h.conf.keys),e&&t.absorb(e),t.getAll()),_ts:Math.floor((new Date).valueOf()/1e3),lv:function(){var e,t,s=[],c=null;for(e in n)v.hasOwn(n,e)&&(c=n[e])&&(0<(t=function(){function e(e,t){var n="_p"===e;return!!n||"sec"===e&&t!==i.m&&t!==r||"sec"!==e&&!n}var i={m:v.trim(c.moduleName),l:[]};c.moduleNode&&(i.ylk=c.moduleNode.getAll());var t,n,o,r=s.ylk&&s.ylk.sec?s.ylk.sec:"",a=c.links;if(a)for(var l=0;l<a.length;l++)a[l]&&(!h.conf.viewability||a[l].viewable?((o=a[l].data).length>v.MAX_VALUE_LENGTH&&(a[l].data=o.substring(0,v.MAX_VALUE_LENGTH)),t=a[l].data,n=e,o={},v.isObj(t)&&v.aug(o,t,n),i.l.push(o)):v.logDebug("Skipping not viewable link: "+a[l].data.slk));return i}()).l.length?s.push(t):v.logDebug('[Yahoo.i13n.Uploader.createPageRowMsg] Not capturing 0 links mod: "'+c.moduleName+'"'));return s}()}],yrid:h.conf.yrid,optout:h.conf.oo,nol:h.conf.nol}),v.logTrace("[Yahoo.i13n.Uploader.isendRapidPage] Json ",t),a(t))},sendRapidClick:function(e,t,n){var i,o,r;v.logDebug("[Yahoo.i13n.Uploader.sendRapidClick]"),i=e,o=t,e=n,v.isIE&&v.ieV<=8?v.logDebug("[Yahoo.i13n.Uploader.send.exec] did not send. for unsupported browsers"):(v.logDebug("[Yahoo.i13n.Uploader.isendRapidClick]"),r=i,v.logTrace("[Yahoo.i13n.Uploader.createClickJson] sender ",r),t=v.toJSON({bp:l(),r:[{t:"cl",s:h.conf.spaceid,pp:m.PageParams.makeFromPP(h.conf.keys).getAll(),_ts:Math.floor((new Date).valueOf()/1e3),ci:function(){var e,t,n={};for(e in r.targetObject&&r.targetObject.moduleNode&&(n=r.targetObject.moduleNode.getAll()),r.data)v.hasOwn(r.data,e)&&(null!==(t=r.data[e])&&t.length>v.MAX_VALUE_LENGTH&&(r.data[e]=t.substring(0,v.MAX_VALUE_LENGTH)),"function"==typeof r.data[e]&&(r.data[e]=r.data[e].toString()),n[e]=r.data[e]);return n}()}],yrid:h.conf.yrid,optout:h.conf.oo,nol:h.conf.nol}),v.logTrace("[Yahoo.i13n.Uploader.isendRapidClick] Json ",t),i.stop||(n=i.event)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),a(t,o,i,i.event?{autoClick:!0}:void 0,e))},sendRapidEvent:function(e,t,n,i){v.logDebug("[Yahoo.i13n.Uploader.sendRapidEvent]"),e=e,t=t,n=n,v.isIE&&v.ieV<=8?v.logDebug("[Yahoo.i13n.Uploader.send.exec] did not send. for unsupported browsers"):(v.logDebug("[Yahoo.i13n.Uploader.isendRapidEvent]"),n=function(e,t,n,i){var o,r,a=m.PageParams.makeFromPP(h.conf.keys).getAll();for(o in n=n||{},e?(e=YAHOO.i13n.EventTypes.getEventByName(e),n._E=e.getEventName(),t=n._E):n._E=t||"_",i&&(n.outcm=i),n)v.hasOwn(n,o)&&8<o.length?delete n[o]:(r=n[o]).length>v.MAX_VALUE_LENGTH&&(n[o]=r.substring(0,v.MAX_VALUE_LENGTH));return v.extend(a,n),v.toJSON({bp:l(),r:[{t:"ev",s:h.conf.spaceid,pp:a,_ts:Math.floor((new Date).valueOf()/1e3)}],yrid:h.conf.yrid,optout:h.conf.oo,nol:h.conf.nol})}(0,e,t,n),v.logTrace("[Yahoo.i13n.Uploader.isendRapidEvent] Json ",n),a(n))},getBeaconUrl:function(){return _}}},Module:function(u,e,t,n,s){function l(e,t){return t>e.links.length?null:e.links[t-1]}function c(e,t,n,i,o,r,a,l){var s="",c=null,l=!a||v.isAboveFoldArea(i,l),t={viewable:l,data:{sec:t,_p:n}};return a&&v.aug(t.data,{A_lv:1}),r?(t.data.slk=o||"section",c=u.fn.getNode(i)):(i.setAttribute(u.conf.anc_pos_attr,n),a&&i.setAttribute(u.conf.anc_v9y_attr,l?"1":"0"),(s=v.getLT(i,e))&&""!==s?c=u.fn.getNode(i):s="_ELINK_",s="_",t.data.slk=o||s),null!==c&&v.aug(t.data,c.getAll()),t}function i(e){var t=[];f.linkpos=f.linkpos||1;for(var n,i,o=null,r=null!==f.moduleNode?f.moduleNode.map.sec:null,a=null!==f.moduleNode?f.moduleNode.map.slk:null,l=0;l<e.length;l++)"div"===e[l].tagName.toLowerCase()?(n=e[l],i=u.fn.getNode(n),o=c(v.ltattr(d,u.conf.lt_attr),r||f.moduleName,1,n,i.map.slk||a,!0,f.useViewability,s),f.links[0]=o,t.push(o)):(i=e[l],o=c(v.ltattr(d,u.conf.lt_attr),r||f.moduleName,f.linkpos,i,a,0,f.useViewability,s),f.links[f.linkpos-1]=o,t.push(o),f.linkpos++);return"true"===v.getAttribute(d,u.conf.skip_attr)&&(o=c(v.ltattr(d,u.conf.lt_attr),r||f.moduleName,1,n,a,!0,f.useViewability,s),f.links[0]=o,t.push(o)),t}function o(e){function t(e,t,n){var i=t.target?t.target.toLowerCase():"_self";return"_self"!==i&&"_top"!==i&&"_parent"!==i&&window.name!==i||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===v.getAttribute(t,"data-nofollow")||v.getAttribute(t,"href")&&"javascript:"===v.getAttribute(t,"href").substr(0,11).toLowerCase()||v.hasClass(t,u.conf.nofollow_class)||v.hasClass(n,u.conf.nofollow_class)}var n,i,o=function(e){var t=e.target||e.srcElement;for(t&&3===t.nodeType&&(t=t.parentNode);t&&"a"!==t.nodeName.toLowerCase()&&"button"!==t.nodeName.toLowerCase()&&("input"!==t.nodeName.toLowerCase()||"submit"!==v.getAttribute(t,"type"))&&!v.hasClass(t,u.conf.nonanchor_track_class);)t=t.parentNode;return t}(e=e||event);if(o&&!v.hasClass(o,u.conf.no_click_listen)){if(0<u.conf.ignore_click_interval){if("1"===o.getAttribute(u.conf.ignore_click_attr))return;o.setAttribute(u.conf.ignore_click_attr,"1"),setTimeout(function(){o.setAttribute(u.conf.ignore_click_attr,"0")},u.conf.ignore_click_interval)}var r=o.nodeName.toLowerCase(),a=v.getAttribute(o,u.conf.anc_pos_attr);null!==l(f,a)&&(e={data:(i=null,v.hasClass(o,u.conf.nonanchor_track_class)?(i={pos:0,sec:f.moduleName,slk:"_"},(n=u.fn.getNode(o,1))&&v.aug(i,n.getAll())):i=l(f,a).data,i.tar||((n=v.getAttribute(o,"href"))&&(i.tar=v.extDomain(n)),n&&i.tar||(i.tar=v.extDomain(u.conf.loc))),i.tar_uri||(o.pathname?i.tar_uri=o.pathname.substring(0,v.MAX_VALUE_LENGTH):i.tar_uri=""),i.A_xy=v.pos(e),i.A_sr=v.screenPos(),"contextmenu"===e.type&&(i.A_cl=3),i),event:e,moduleElement:f.moduleElement,targetElement:o,targetObject:f,stop:t(e,o,f.moduleElement)||"input"===r||"button"===r,synch:!v.hasClass(o,u.conf.nonanchor_track_class)&&"input"!==r&&"button"!==r&&!t(e,o,f.moduleElement)&&"contextmenu"!==e.type,hasTargetTop:o&&o.target&&"_top"===o.target.toLowerCase(),hasTargetParent:o&&o.target&&"_parent"===o.target.toLowerCase()},u.variable.uploader.sendRapidClick(e,function(e){var t,n;v.logTrace("[Yahoo.i13n.Uploader.redirect] sender ",e),e.synch?e.targetElement&&(u.conf.click_postmsg.origin?(t=u.conf.click_postmsg.window||top,(n=u.conf.click_postmsg.payload||{}).href=e.targetElement.href,t.postMessage(v.toJSON(n),u.conf.click_postmsg.origin)):v.isIE&&11<=v.ieV||v.isEdge?("complete"!==document.readyState&&history.pushState("",document.title),e.hasTargetTop?top.document.location=e.targetElement.href:e.hasTargetParent?parent.document.location=e.targetElement.href:document.location=e.targetElement.href):(t=e.targetElement.cloneNode(!0)).dispatchEvent?((n=document.createEvent("MouseEvents")).initEvent("click",!0,!1),t.dispatchEvent(n)):t.click()):v.logDebug("[Yahoo.i13n.Uploader.redirect] synch "+e.synch)}))}}v.logDebug("[Yahoo.i13n.Module]");var d=document.getElementById(t);if(!d)return v.logWarn("Specified module not in DOM: "+t),null;var f={useViewability:n,moduleNode:u.fn.getNode(d),links:[],moduleName:e,trackType:v.getAttribute(d,u.conf.track_type),moduleElement:d,clickEvent:o,setLink:i,link:c,linkpos:1};return v.logTrace("[Yahoo.i13n.Module] targetObject ",f),i(u.conf.parse_dom?v.getElementsByTagNamesDOMParsing(u,d):v.getElementsByTagNames(d)),v.on(d,"click",o),u.conf.track_right_click&&v.on(d,"contextmenu",o),v.logTrace("[Yahoo.i13n.Module] targetObject ",f),f},Node:function(){this.map={},this.count=0},PageParams:function(e){this.map={},this.count=0,e&&this.absorb(e)},MsgHeader:function(){},ViewabilityManager:function(o){function r(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}function a(){return void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft}function e(){var e=r(),t=a(),n=-1===c?e-l:e-c,i=-1===u?t-s:t-u;(Math.abs(n)>o.conf.viewability_px||Math.abs(i)>o.conf.viewability_px||d)&&(o.variable.moduleList.sendViewability(),c=e,u=t,d=!1)}function t(){null!==n&&clearTimeout(n),(new Date).getTime()-i<o.conf.viewability_time&&(l=r(),s=a()),n=v.async(e,o.conf.viewability_time)}v.logDebug("[Yahoo.i13n.ViewabilityManager]");var n=null,i=(new Date).getTime(),l=r(),s=a(),c=-1,u=-1,d=!1;return o.variable.moduleList.refreshViewability=function(){d=!0,t()},v.on(window,"scroll",t),{reInit:function(){l=r(),s=a(),u=c=-1,i=(new Date).getTime()},destroy:function(){v.off(window,"scroll",t)}}}}),m.MsgHeader.prototype={ser:function(){return v.ser(this.map)},set:function(e,t){t=v.trim(t);v.isStr(t)&&(t=t.replace(/\\/g,"\\\\")),!v.in_value_whitelist(e)&&t.length>v.MAX_VALUE_LENGTH&&(t=t.substring(0,v.MAX_VALUE_LENGTH)),v.isValidPair(e,t)&&(this.map[v.trim(e)]=t,this.count++)},get:function(e){return this.map[e]},getAll:function(){return JSON.parse(JSON.stringify(this.map))},absorb:function(e){if(e&&v.isObj(e))for(var t in e)v.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&v.isObj(e))for(var n in e)t&&!t.call(null,n)||v.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},m.PageParams.makeFromPP=function(){for(var e=new m.PageParams,t=arguments.length,n=0;n<t;n++)null!=arguments[n]&&e.absorb(arguments[n].getAll());return e},m.PageParams.prototype=new m.MsgHeader,m.PageParams.prototype.constructor=m.MsgHeader,m.Node.prototype=new m.MsgHeader,m.Node.prototype.constructor=m.MsgHeader,m.Module.List=function(c){var u={};return{add:function(e,t){u[v.trim(e)]=t},addRange:function(e,t){v.logDebug("[Yahoo.i13n.Module.List]");var n,i,o,r=v.isArr(e),a=t?v.getScrollbarWidthHeight():{},l=[];for(n in r||v.isStr(e)&&(e=new Array(e),r=!0),e)v.hasOwn(e,n)&&(i=r?e[n]:n,o=v.trim(e[n]),this.exists(i)?v.logErr('add() called with prev processed id:"'+i+'"'):(o=m.Module(c,o,i,t,a))&&(this.add(i,o),l.push(o)));return l},get:function(){return u},sendViewability:function(){var l,e=function(){var e,t={};for(e in u){var n=u[e];n.useViewability&&(t[e]=n)}return t}(),t=v.getScrollbarWidthHeight();for(l in e)!function(a,n){var e,t=function(e,t){for(var n=[],i=(e=e||document).getElementsByTagName("a"),o=0;o<i.length;o++){var r=i[o];t&&!t.call(0,r)||n.push(r)}return v.sort(n)}(a.moduleElement,function(e){var t;return v.getAttribute(e,c.conf.anc_pos_attr)||(a.linkpos++,e.setAttribute(c.conf.anc_pos_attr,a.linkpos),t=a.link(v.ltattr(e,c.conf.lt_attr),a.moduleNode.map.sec||l,a.linkpos,e,a.moduleNode.map.slk,0,!1,n),a.links[a.linkpos-1]=t),!("1"===v.getAttribute(e,c.conf.anc_v9y_attr)||!v.isAboveFoldArea(e,n)||(e.setAttribute(c.conf.anc_v9y_attr,"1"),0))});0!==t.length&&c.conf.USE_RAPID&&(e=function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i],r=v.getAttribute(o,c.conf.anc_pos_attr),o=a.link(v.ltattr(o,c.conf.lt_attr),a.moduleNode.map.sec||l,r,o,a.moduleNode.map.slk,0,!0,t);n.push(o)}return n}(t,n),v.aug(t={},a),t.links=e,c.variable.uploader.sendRapidPage([t]))}(e[l],t)},refresh:function(e,t,n){function i(e){return!v.getAttribute(e,c.conf.anc_pos_attr)}var o=u[v.trim(e)];if(o){n.isRefreshed=!0;var r=document.getElementById(e),r=c.conf.parse_dom?v.getElementsByTagNamesDOMParsing(c,r,null,i):v.getElementsByTagNames(r,i),a=0;if(0<r.length){var l=o.setLink(r),a=r.length;if(o.useViewability)for(var s=a=0;s<l.length;s++)l[s].viewable&&a++;0<a&&(c.conf.USE_RAPID||n.event)&&(v.aug(r={},o),t&&(r.links=l,c.variable.uploader.sendRapidPage([r],n.pp)))}}else v.logErr("refreshModule called on unknown section: "+e)},remove:function(e){var t=u[v.trim(e)];t&&(v.off(t.moduleElement,"click",t.clickEvent),delete u[v.trim(e)])},destroy:function(){for(var e in u)this.remove(e)},exists:function(e){return void 0!==u[v.trim(e)]}}},v.extend(m,{initialize:function(i,g,n){function o(e,t){var n=arguments.length;if(n<2)v.logErr("[Yahoo.i13n.Rapid.setValue] This parameter length is wrong.");else for(var i=g.conf,o=t,r=2;r<n;r++)void 0!==arguments[r]&&(i[o]=arguments[r])}function r(e){var t=g.conf;t[e]=v.trim(t[e])}function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t;i=i||{},g.conf={},function(){function e(e){e=function(e){for(var t=a.loc,n=t.indexOf("?")+1,i=(i=t.substring(n)).split("&"),o=0;o<i.length;o++){var r=i[o].split("=");if(2===r.length&&v.trim(r[0])===e){r=v.trim(r[1]);return r.replace(/[!@#$%^&*();:'",./<>?_=æ¥¼+æ¥¼-]/gi,"")}}return null}(e);return null!==e&&("true"===e||"1"===e)}var t,n,a=g.conf;for(n in m.define)null!==n&&""!==n&&o(g,n,m.define[n]);for(n in a)null!==n&&""!==n&&o(g,n,i[n]);o(g,"loc",i.location,document.location.href),a.keys=((t=new m.PageParams).set("A_sid",YAHOO.i13n.A_SID||v.rand()),t.set("_w",v.rmProto(a.loc).substring(0,v.MAX_VALUE_LENGTH)),i.keys&&t.absorb(i.keys),t),o(g,"spaceid",a.override.spaceid,YAHOO.i13n.SPACEID),r(g),r(g),a.oo=i.oo?"1":"0",a.nol=i.nol?"1":"0",a.yql_enabled=!1!==i.yql_enabled,a.fing=1===i.use_fing,a.USE_RAPID=!1!==i.use_rapid,o(g,"linktrack_attribut",i.lt_attr),a.compr_on=!1!==i.compr_on,o(g,"webworker_file",YAHOO.i13n.WEBWORKER_FILE),o(g,"no_click_listen",i.rapid_noclick_resp),a.deb=!0===i.debug,a.ldbg=0<i.ldbg||e("yhldebug"),a.yhlhttp=e("yhlhttp")||!0===i.use_http,o(g,"addmod_timeout",i.addmodules_timeout),a.ult_token_capture="boolean"==typeof i.ult_token_capture&&i.ult_token_capture,a.dwell_on=!0===i.dwell_on,a.async_all_clicks=!0===i.async_all_clicks,a.apv=!1!==i.apv,a.apv_always_send=!0===i.apv_always_send,a.ex=!0===i.ex,a.persist_asid=!0===i.persist_asid,a.track_right_click=!0===i.track_right_click,a.parse_dom=!0===i.parse_dom,a.pageview_on_init=!1!==i.pageview_on_init,a.compr_timeout*=1,v.debug=a.ldbg,v.yhlhttp=a.yhlhttp,v.isNum(a.compr_timeout)?a.compr_timeout=v.getValueWithBounds(a.compr_timeout,300,700):a.compr_timeout=700,a.ldbg&&1e4!==a.click_timeout&&v.logWarn("[Yahoo.i13n.Rapid.initialize] Click timeout set to "+a.click_timeout+"ms (default 10000ms)"),i.apv_callback&&v.isFunction(i.apv_callback)&&o(g,"apv_callback",i.apv_callback)}(),v.extend(g,{variable:{moduleList:new m.Module.List(g),uploader:new m.Uploader(g),viewabilityManager:null},fn:{inlineInit:function(){},inlineBeaconEvent:function(e,t,n,i){g.variable.uploader.sendRapidEvent(e,t,n,i)},inlineBeaconClick:function(e,t,n,i,o,r,a){if(!i&&o&&(i={}),o&&(i.outcm=o),g.variable.uploader.sendRapidClick(function(e,t,n,i,o){o={outcome:o,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1,hasTargetParent:!1};return o.data={sec:e,slk:t,_p:n},v.aug(o.data,i),o}(e,t,n,i,o),r,a),!0===a)return g.variable.uploader.getBeaconUrl()},inlineAddModules:function(e,t,n){var i={A_am:1};(n=n||{}).pp&&v.aug(i,n.pp),n.useViewability=n.useViewability||!1;n=g.variable.moduleList.addRange(e,n.useViewability);g.conf.USE_RAPID&&n&&0<n.length&&g.variable.uploader.sendRapidPage(n,i)},inlineAddModulesWithViewability:function(e,t,n){(n=n||{}).useViewability=g.conf.viewability,this.inlineAddModules(e,t,n)},inlineRefreshModule:function(e,t,n,i){g.variable.moduleList.refresh(e,!1!==n,i=i||{})},inlineRefreshViewability:function(){g.variable.moduleList.refreshViewability()},inlineRemoveModule:function(e){g.variable.moduleList.remove(e)},inlineIsModuleTracked:function(e){return g.variable.moduleList.exists(e)},inlineGetModulesInfo:function(){return g.variable.moduleList.get()},inlineDestroy:function(){g.variable.moduleList.destroy(),g.variable.viewabilityManager&&g.variable.viewabilityManager.destroy()},inlineReInit:function(e){m.initialize(e,g,!0)},inlineSetRapidAttribute:function(e){e.keys&&g.conf.keys.absorb(e.keys),e.spaceid&&(g.conf.spaceid=e.spaceid),e.referrer&&(g.conf.referrer=e.referrer.substring(0,v.MAX_VALUE_LENGTH)),e.A_sid&&(g.conf.keys.set("A_sid",e.A_sid),g.conf.persist_asid=!0),e.location&&(g.conf.loc=e.location,g.conf.keys.set("_w",v.rmProto(e.location).substring(0,v.MAX_VALUE_LENGTH)))},inlineClearRapidAttribute:function(e){for(var t in e){var n,i;"keys"===e[t]?(n=g.conf.keys.get("_w"),i=g.conf.keys.get("A_sid"),g.conf.keys=new m.PageParams,g.conf.keys.set("_w",n),g.conf.keys.set("A_sid",i)):"referrer"===e[t]?g.conf.referrer="":"A_sid"===e[t]?(g.conf.keys.set("A_sid",""),g.conf.persist_asid=!0):"location"===e[t]&&(g.conf.loc="",g.conf.keys.set("_w",""))}},inlineGetCurrentSID:function(){return g.conf.keys.get("A_sid")},inlineBeaconLinkViews:function(e,t,n,i){var o={};if((n=n||{}).pp&&v.aug(o,n.pp),0!==e.length||n.event){for(var r=[],a=0;a<e.length;a++){var l=e[a],s=new m.Node;s.absorb_filter(l,function(e){return"sec"!==e&&"_links"!==e});for(var c=[],u=1,d=0;d<l._links.length;d++){var f=l._links[d],p={viewable:!0,data:{sec:l.sec,_p:u++,A_lv:2}};v.aug(p.data,f),c.push(p)}s={moduleName:l.sec,moduleNode:s,links:c,identifier:l.sec};r.push(s)}g.conf.USE_RAPID&&r&&g.variable.uploader.sendRapidPage(r,o),i&&i.call()}},getNode:function(e,t){if(!e)return null;null===t&&(t=!1);var n=new m.Node,i=v.getAttribute(e,"data-action-outcome");i&&n.set("outcm",i);e=v.getAttribute(e,"data-ylk");if(null===e||0===e.length)return n;for(var o=e.split(g.conf.ylk_pair_delim),r=0;r<o.length;r++){var a,l=o[r].split(g.conf.ylk_kv_delim);2===l.length&&(a=l[0],l=l[1],null!==a&&""!==a&&null!==l&&(l.length>v.MAX_VALUE_LENGTH&&(l=l.substring(0,v.MAX_VALUE_LENGTH)),a.length<=8&&l.length<=v.MAX_VALUE_LENGTH&&("_p"!==a||t)&&n.set(a,l)))}return n},getEventMapping:function(e){return g.conf.eventMapping[e]}}}),function(){g.variable.moduleList.destroy();var e=g.variable.moduleList.addRange(g.conf.tracked_mods,!1),t=g.variable.moduleList.addRange(g.conf.tracked_mods_viewability,g.conf.viewability);g.conf.USE_RAPID&&g.conf.pageview_on_init&&!n&&g.variable.uploader.sendRapidPage(e.concat(t)),function(n){function e(e){(document.addEventListener||e&&"load"===e.type||"complete"===document.readyState)&&(o=!0,i(),n.call(this))}function i(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1)):(document.detachEvent("onreadystatechange",e),window.detachEvent("onload",e))}v.logDebug("[Yahoo.i13n.Rapid.executeOnLoad]");var o=!1;if("complete"===document.readyState)v.async(e);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else{document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e);var r=!1;try{r=null===window.frameElement&&document.documentElement}catch(e){v.logErr("[Yahoo.i13n.Rapid.executeOnLoad] e : "+e)}r&&r.doScroll&&function t(){if(!o){try{r.doScroll("left")}catch(e){return void v.async(t,50)}i(),n.call(this)}}()}}(function(){g.variable.viewabilityManager=new m.ViewabilityManager(g)}),v.isFunction(g.conf.init_callback)&&g.conf.init_callback()}(),t="richview",e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}},g.conf.eventMapping={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,"contentmodification","R"),dwell:new e("lv","dwell","D")},v.logTrace("[Yahoo.i13n] conf",g.conf)},conf:{},define:{override:{},version:"4.4.0",rapidjp_version:"2.0.0",keys:null,referrer:null,spaceid:"0",yrid:"",oo:"0",nol:"0",yql_enabled:!1,fing:!1,USE_RAPID:!1,linktrack_attribut:"text",tracked_mods:[],tracked_mods_viewability:[],viewability:!1,viewability_time:300,viewability_px:50,lt_attr:"text",client_only:null,text_link_len:-1,yql_host:"logql.yahoo.co.jp",yql_path:"/v1/public/yql",click_timeout:1e4,compr_timeout:300,compr_on:!1,compr_type:"deflate",webworker_file:"rapidworker-1.2.js",nofollow_class:"rapidnofollow",no_click_listen:"rapid-noclick-resp",nonanchor_track_class:"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:!1,ldbg:!1,addmod_timeout:300,ult_token_capture:!1,track_type:"data-tracktype",dwell_on:!1,async_all_clicks:!1,click_postmsg:{},apv:!1,apv_time:500,apv_px:500,apv_always_send:!1,apv_callback:null,ex:!1,persist_asid:!1,track_right_click:!1,skip_attr:"data-rapid-skip",parse_dom:!1,pageview_on_init:!1,perf_navigationtime:0,perf_commontime:null,perf_usertime:null,perf_resourcetime:0,sample:{},loc:null,init_callback:null,ylk_kv_delim:":",ylk_pair_delim:";",eventMapping:{},yhlhttp:!1,click_sendbeacon:!1,ignore_click_interval:0,ignore_click_attr:"data-rapid_ignore_click"}}),{EventTypes:{getEventByName:function(e){"use strict";return m.fn.getEventMapping(e)}},Rapid:function(e){"use strict";var a={};return m.initialize(e,a,!1),{init:function(){a.inlineInit()},beaconEvent:function(e,t,n,i){a.fn.inlineBeaconEvent(e,t,n,i)},beaconClick:function(e,t,n,i,o,r){a.fn.inlineBeaconClick(e,t,n,i,o,r)},getBeaconClick:function(e,t,n,i,o){return a.fn.inlineBeaconClick(e,t,n,i,o,null,!0)},addModules:function(e,t,n){a.fn.inlineAddModules(e,t,n)},addModulesWithViewability:function(e,t,n){a.fn.inlineAddModulesWithViewability(e,t,n)},refreshModule:function(e,t,n,i){a.fn.inlineRefreshModule(e,t,n,i)},refreshViewability:function(){a.fn.inlineRefreshViewability()},removeModule:function(e){a.fn.inlineRemoveModule(e)},isModuleTracked:function(e){return a.fn.inlineIsModuleTracked(e)},getModulesInfo:function(){return a.fn.inlineGetModulesInfo()},destroy:function(){a.fn.inlineDestroy()},reInit:function(e){a.fn.inlineReInit(e)},setRapidAttribute:function(e){a.fn.inlineSetRapidAttribute(e)},clearRapidAttribute:function(e){a.fn.inlineClearRapidAttribute(e)},getCurrentSID:function(){return a.fn.inlineGetCurrentSID()},beaconLinkViews:function(e,t,n,i){a.fn.inlineBeaconLinkViews(e,t,n,i)}}},JP:{simpleRapid:function(t){t=t||{};var e,n,r,d,i=window,o=document,a=0<o.location.toString().indexOf("yhldebug=1");function l(e){return"string"==typeof e?e.replace(/\^/g,""):e}function s(e,t){e=l(e),t=l(t),""!==e&&""!==t&&(r[e]=t)}function c(e,t){var n,i;for(i in e=l(e),t)n=l(t[i]),""!==(i=l(i))&&""!==n&&(r[e][i]=n)}function f(){return p("Object",d)&&"function"==typeof d.init}function p(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&n===e}function u(e){var t,n=[];if(document.getElementsByClassName)n=document.getElementsByClassName(e);else if(p("String",e))for(var i=document.getElementsByTagName("*"),o=0;o<i.length;o++)p("String",t=i[o].className||i[o].getAttribute("class"))&&-1!==(" "+t+" ").indexOf(" "+e+" ")&&n.push(i[o]);return n}function g(e,t){for(var n in e)if(e[n]===t)return n;return-1}function m(e,t){var n,i,o={};if(p("Object",t))o=t;else if(p("Array",t))for(i in t)o[t[i]]=t[i];else o[t]=t;for(n in o)r[e][n]=o[n]}function h(e,t){e=l(e),t=l(t),""!==e&&""!==t&&-1!==g(r[e],t)&&r[e].splice(g(r[e],t),1)}function _(){return{tracked_mods:{},keys:{cl:i.screen.colorDepth,dspsize:i.screen.width+"x"+i.screen.height,enc:(o.characterSet||o.charset).toLowerCase(),os:(e=navigator.userAgent).match(/windows\sphone/i)?"windowsphone":e.match(/windows/i)?"windows":e.match(/iphone|ipad/i)?"ios":e.match(/mac|ppc/i)?"mac":e.match(/android/i)?"android":"other",_sr:(i.innerWidth||o.documentElement.clientWidth)+"x"+(i.innerHeight||o.documentElement.clientHeight),_libn:"simplerapid",_libv:"1.1.0"},viewability:!1,viewability_time:1e3,tracked_mods_viewability:{},apv:!1,click_timeout:1e4,compr_on:p("String",YAHOO.i13n.WEBWORKER_FILE)||p("String",t.webworker_file)};var e}for(e in"undefined"!=typeof console&&void 0!==console.log||(console={log:function(){}}),void 0===console.error&&(console.error=console.log),void 0===console.warn&&(console.warn=console.log),void 0!==(r=_()).keys._do||isNaN(i.orientation)||(r.keys._do=Math.abs(i.orientation)/90%2),void 0!==r.keys.dpr||isNaN(i.devicePixelRatio)||(r.keys.dpr=i.devicePixelRatio),c("keys",{metakwd:function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("keywords"===e[t].getAttribute("name")&&"string"==typeof e[t].getAttribute("content"))return e[t].getAttribute("content");return""}()}),t)if("keys"===e)for(n in t.keys)r.keys[n]=t.keys[n];else r[e]=t[e];return{setClickTimeout:function(e){return s("click_timeout",e),this},setModule:function(e){return m("tracked_mods",e),this},setSpaceid:function(e){return s("spaceid",e),this},startViewable:function(){return s("viewability",!0),this},stopViewable:function(){return s("viewability",!1),this},setViewableModule:function(e){return m("tracked_mods_viewability",e),this},setViewableTime:function(e){return s("viewability_time",e),this},setWebWorkerFilePath:function(e){return s("webworker_file",e),s("compr_on",!0),this},setRapidConf:function(e){for(var t in e)s(t,e[t]);return this},setActtype:function(e){return c("keys",{acttype:e}),this},setApptype:function(e){return c("keys",{apptype:e}),this},setAuthid:function(e){return c("keys",{auth_out:e}),this},setCategorypath:function(e){return c("keys",{cat_path:e}),this},setContentsid:function(e){return c("keys",{ctsid:e}),this},setConttype:function(e){return c("keys",{conttype:e}),this},setDevice:function(e){return c("keys",{device:e}),this},setMetakeyword:function(e){return c("keys",{metakwd:e}),this},setNonepv:function(e){return c("keys",{nonepv:e}),this},setOpttype:function(e){return c("keys",{opttype:e}),this},setPartner:function(e){return c("keys",{prtnr:e}),this},setPagetype:function(e){return c("keys",{pagetype:e}),this},setQuery:function(e){return c("keys",{query:e}),this},setService:function(e){return c("keys",{service:e}),this},setServiceid:function(e){return c("keys",{srvid:e}),this},setStatus:function(e){return c("keys",{status:e}),this},setPg:function(e){return c("keys",{pg:e}),this},setIns:function(e){return c("keys",{ins:e}),this},setUiid:function(e){return c("keys",{uiid:e}),this},setVtestid:function(e){return c("keys",{vtestid:e}),this},setVtgrpid:function(e){return c("keys",{vtgrpid:e}),this},setVpkjp:function(e){return c("keys",{v_pkjp:e}),this},trackedClass:function(e){for(var t=[],n=u(e=e||"tracked_mods"),i=0;i<n.length;i++)n[i].getAttribute("id")?t.push(n[i].getAttribute("id")):console.warn("simplerapid: Not found id to the specified element");return m("tracked_mods",t),this},trackedViewableClass:function(e){for(var t=[],n=u(e=e||"tracked_mods_viewability"),i=0;i<n.length;i++)n[i].getAttribute("id")?t.push(n[i].getAttribute("id")):console.warn("simplerapid: Not found id to the specified element");return m("tracked_mods_viewability",t),this},startGeolocation:function(e){return navigator.geolocation&&(e=e||{enableHighAccuracy:!0,timeout:1e4,maximumAge:0},navigator.geolocation.getCurrentPosition(function(e){f()?(e={pp:{lat:e.coords.latitude,long:e.coords.longitude,accuracy:e.coords.accuracy},event:{type:YAHOO.i13n.EventTypes.getEventByName("linkview")}},d.beaconLinkViews([],!1,e),a&&console.log("simplerapid: send geolocation")):console.warn("simplerapid: rapid instance not found")},function(e){if(a)switch(e.code){case 1:console.warn("simplerapid: startGeolocation is permission denied");break;case 2:console.warn("simplerapid: startGeolocation is position unavailable");break;case 3:console.warn("simplerapid: startGeolocation is timeout")}},e)),this},setPageParam:function(e){return c("keys",e),this},addPageParam:function(e,t){var n={};return p("String",e)&&p("String",t)&&(n[e]=t,c("keys",n)),this},addRapidConf:function(e,t){return s(e,t),this},deleteRapidConf:function(e){return""!==(e=l(e=e))&&delete r[e],this},deleteModule:function(e){return h("tracked_mods",e),this},deleteViewableModule:function(e){return h("tracked_mods_viewability",e),this},deletePageParam:function(e){return t=e,e=l(e="keys"),t=l(t),""!==e&&""!==t&&delete r[e][t],this;var t},setRapidinstance:function(e){return p("Object",e)&&"function"==typeof e.init&&(d=e),this},setCallback:function(e){return"function"==typeof e&&s("init_callback",e),this},simpleBeaconClick:function(e,t,n){var i,o,r,a,l,s,c=[];if(f())if(p("Object",e)&&p("String",e.sec)){for(r in i=d.getModulesInfo())for(a in i[r].links)i[r].links[a].data.sec===e.sec&&c.push(i[r].links[a].data);if(0===c.length)s=!1;else for(var u=0;u<c.length;u++){for(l in s=!0,e){if(void 0===c[u][l]){s=!1;break}if(String(c[u][l])!==String(e[l])){s=!1;break}}if(s){for(l in o={},c[u])"slk"!==l&&"_p"!==l&&(o[l]=c[u][l]);d.beaconClick(e.sec,c[u].slk,c[u]._p,o,t,n);break}}!1===s&&console.warn("simplerapid: undefined link param in link view")}else console.warn("simplerapid: the simpleBeaconClick must specify the sec");else console.warn("simplerapid: undefined rapid instance")},refreshViewability:function(){f()&&"function"==typeof d.refreshViewability&&d.refreshViewability()},destroy:function(){YAHOO.i13n.JP.reSession(),r=_(),f()&&"function"==typeof d.destroy&&d.destroy()},initRapid:function(){if(a&&console.log(r),void 0!==YAHOO.i13n.Rapid&&YAHOO.i13n.Rapid)return YAHOO.i13n.JP.rapid_conf=r,d=new YAHOO.i13n.Rapid(r)}}},reSession:function(){YAHOO.i13n.A_SID=function(){for(var e,t=0,n="",i=+new Date;t++<16;)n+=(e=Math.floor(62*Math.random()))<10?e:String.fromCharCode(e<36?e+55:e+61);return n+i.toString(36)}.apply()}}}}(),void 0!==YAHOO.i13n.A_SID&&YAHOO.i13n.A_SID||YAHOO.i13n.JP.reSession();

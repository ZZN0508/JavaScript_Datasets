(window.webpackJsonp=window.webpackJsonp||[]).push([[452],{1178:function(e,s,o){"use strict";o.d(s,"a",(function(){return t})),o.d(s,"b",(function(){return n})),o.d(s,"c",(function(){return r})),o.d(s,"d",(function(){return i})),o.d(s,"e",(function(){return a})),o.d(s,"f",(function(){return h})),o.d(s,"g",(function(){return u})),o.d(s,"h",(function(){return l})),o.d(s,"i",(function(){return g}));const t="ca",n="exempt",r="gdpr",i="latam-co",a="latam-do",h="latam-pe",u="lgpd",l="usa",g="usa-ccpa"},1288:function(e,s,o){"use strict";function t(){var e;return!!(null===(e=navigator)||void 0===e?void 0:e.cookieEnabled)}o.d(s,"a",(function(){return t}))},1315:function(e,s,o){"use strict";o.d(s,"a",(function(){return n}));var t=o(1178);const n=[t.c,t.d,t.e,t.f,t.g]},1382:function(e,s,o){"use strict";o.d(s,"e",(function(){return t})),o.d(s,"a",(function(){return n})),o.d(s,"b",(function(){return r})),o.d(s,"c",(function(){return i})),o.d(s,"f",(function(){return a})),o.d(s,"d",(function(){return h}));const t="required-technologies",n="functional-technologies",r="geographically-relevant-ads",i="interest-based-ads",a="sale-of-data",h=[n,r,i,a]},2007:function(e,s,o){"use strict";o.r(s),o.d(s,"DprSdk",(function(){return L}));o(37);var t=o(81),n=o.n(t),r=o(95),i=o.n(r),a=o(20),h=o.n(a),u=o(8),l=o.n(u),g=o(173),m=o.n(g),p=o(6),c=o.n(p),O=o(100),R=o.n(O),b=o(10),f=o.n(b),d=o(116),C=o(191),v=o(1288),_=o(1178);var k=o(1382),U=o(1315);const I=[{name:"agof",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"amazon",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"burdaAdEngine",blockRegimes:[],enableRegimes:[_.h,_.i,_.b,_.c,_.d,_.e,_.f,_.g],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.e]},{name:"burdaHeaderBidders",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"colombia",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"comscore",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"criteoSlot",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"custParamsPii",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.b,k.c]},{name:"experiment",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"findMe",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.b]},{name:"fullMetrics",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"geoIP",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.b]},{name:"googleAnalytics",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"googleSetCookieOption",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"gpt",blockRegimes:[],enableRegimes:[_.a,_.b,_.c,_.d,_.e,_.f,_.g,_.h,_.i],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.e]},{name:"gptPiiGDPR",blockRegimes:[_.d,_.e,_.f,_.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.b,k.c]},{name:"gptPiiSaleUSA",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.f]},{name:"gptPrisma",blockRegimes:[],enableRegimes:[_.a,_.b,_.c,_.d,_.e,_.f,_.g,_.h,_.i],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.e]},{name:"headerBidders",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"indexExchange",blockRegimes:[_.a,_.b,_.c,_.d,_.e,_.f,_.g,_.h,_.i],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"ligatus",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"marketingPixel",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"medallia",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"moat",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"nielsen",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"ocw",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.e]},{name:"omniture",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"outbrain",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"rogersAdUtil",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"rubicon",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"socialLinksFooter",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"socialSharing",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"taboola",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.c,k.f]},{name:"twitterFeed",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"ups",blockRegimes:[...U.a],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"upsPws",blockRegimes:[],enableRegimes:[_.h,_.i,_.b,_.c,_.d,_.e,_.f,_.g],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.e]},{name:"useHeaderBidderAllowList",blockRegimes:[_.h,_.i,_.b,_.c,_.d,_.e,_.f,_.g],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.a]},{name:"wfxTriggers",blockRegimes:[],enableRegimes:[],honorUserChoicesOverRegimeDefaults:!0,honorOtherRegimesOptOut:!0,honorOtherRegimesOptIn:!0,purposes:[k.b,k.c,k.f]}];var D=o(109);const w=[{name:_.a,purposes:[]},{name:_.b,purposes:[]},{name:_.c,purposes:[{name:k.e,value:!0},{name:k.a,value:!1},{name:k.b,value:!1},{name:k.c,value:!1}]},{name:_.d,purposes:[{name:k.e,value:!0},{name:k.a,value:!1},{name:k.b,value:!1},{name:k.c,value:!1}]},{name:_.e,purposes:[{name:k.e,value:!0},{name:k.a,value:!1},{name:k.b,value:!1},{name:k.c,value:!1}]},{name:_.f,purposes:[{name:k.e,value:!0},{name:k.a,value:!1},{name:k.b,value:!1},{name:k.c,value:!1}]},{name:_.g,purposes:[{name:k.e,value:!0},{name:k.a,value:!1},{name:k.b,value:!1},{name:k.c,value:!1}]},{name:_.h,purposes:[{name:k.f,value:!0}]},{name:_.i,purposes:[{name:k.f,value:!0}]}];var y=o(18),P=o(135),S=o.n(P),F=o(11),M=o.n(F),A=o(38),E=o.n(A);const j=e=>E.a.all(M()(e).call(e,async e=>{try{return await e}catch(e){return e}})),G=Object(y.createLogger)("DprSdk");const L=new class{constructor(){var e;return(null===(e=window)||void 0===e?void 0:e.DprSdk)?window.DprSdk:(window.DprSdk=this,this._hookSetFeatureFlags=null,this._hookSetUserConsents=null,this._hookGetUserId=null,this._userConsentsKey="userConsents",this._userConsents=null,this._featureFlags={},this._userId=null,this._initialized=!1,this._regimeDefaultPurposesMap={},this._applicationInfo=null,this._userRegime=null,this._isLocalStorageAvailable=null,this._areCookiesDisable=null,this._areCookiesEnabled=null,this._userRegime=null,this)}async init({setFeatureFlags:e=(()=>{}),setUserConsents:s=(()=>{}),getUserId:o=(()=>""),logUserConsent:t=(()=>{}),getApplicationInfo:n=(()=>{}),getUserRegime:r=(()=>{})}={}){this._initialized||(this._hookSetFeatureFlags=e,this._hookSetUserConsents=s,this._hookGetUserId=o,this._hookLogUserConsent=t,this._hookGetApplicationInfo=n,this._hookGetUserRegime=r,this._isLocalStorageAvailable=Object(C.a)(),this._areCookiesEnabled=Object(v.a)(),this._hookGetUserRegime=r,this._userRegime=await this._getUserRegimeWithFallback(),this._initRegimeDefaultPurposesMap(),[this._userId,this._applicationInfo]=await j([this._hookGetUserId(),this._hookGetApplicationInfo(),this._initUserConsents()]),this._setIabSignal(),await j([this._initFeatureFlags(),this._initManager()]),this._initialized=!0)}async setUserConsents(e,s=null){try{const o=typeof e;if("null"===e)throw new Error("Can not set userConsents, newUserConsents is null");if("object"!==o&&"string"===o){if("boolean"!=typeof s)throw new Error("Trying to set individual purpose: "+e+" and type is not boolean. Type: "+typeof s);e={[e]:s}}const t=f()(e);if(!R()(t).call(t,e=>c()(k.d).call(k.d,e)))throw new Error("Trying to set an invalid purposesId: ['"+t.join("', ")+"']");this._userConsents=m()({},this._userConsents,e),j([await Object(d.h)(this._userConsentsKey,this._userConsents),await this._hookSetUserConsents(this._userConsents)]),f()(this._userConsents).length>0&&await this._hookLogUserConsent({userConsents:this._userConsents,userId:this._userId,appInfo:this._applicationInfo,geoIPCountryCode:this._geoIPCountryCode,regime:this._userRegime})}catch(e){G.error(e)}}getUserConsent(e){var s;return null===(s=this._userConsents)||void 0===s?void 0:s[e]}getUserConsents(){return this._userConsents}getFeatureFlag(e){return this._featureFlags[e]}getFeatureFlags(){return this._featureFlags}getGdprConsentOptInsString(){var e;const s=[k.e];if(l()(e=[k.a,k.b,k.c]).call(e,e=>{const o=this._regimeDefaultPurposesMap[e],t="boolean"==typeof o,n=this.getUserConsent(e),r="boolean"==typeof n;(r&&n||t&&o||!t&&!r)&&s.push(e)}),1===s.length&&s[0]===k.e)return k.e;return s.join(",")}getCcpaSaleOptInString(){var e;const s="boolean"==typeof(null===(e=this._userConsents)||void 0===e?void 0:e[k.f]);return"usa"===this._userRegime||"usa-ccpa"===this._userRegime||s?this.getFeatureFlag("gptPiiSaleUSA")?"CCPAoptin":"CCPAoptout":null}_setIabSignal(){const e=S.a.get("usprivacy");let s="1---";if("usa"===this._userRegime||"usa-ccpa"===this._userRegime){s="1"+"Y"+(!1===this.getUserConsent(k.f)?"Y":"N")+"N"}if(s!==e&&this._areCookiesEnabled){var o;const e=c()(o=window.location.host).call(o,"wunderground")?".wunderground.com":".weather.com";S.a.set("usprivacy",s,{path:"/",domain:e,expires:31536e3})}}get _geoIPCountryCode(){return Object(D.b)("TWC-GeoIP-Country")||""}async _initUserConsents(){try{const e=await Object(d.c)(this._userConsentsKey),s=await Object(d.c)("dpr/consents")||{},{consents:o=null}=s;if("object"==typeof e&&null!==e)this._userConsents=e,await this._hookSetUserConsents(this._userConsents);else{let e={};o&&(e=h()(o).call(o,(e,s)=>(s.setByUser&&(e[s.purposeId]=s.consent),e),{})),await this.setUserConsents(e)}s&&(localStorage.removeItem("dpr/consents"),localStorage.removeItem("wu.dpr/consents"))}catch(e){G.error(e)}}get _fallbackUserRegime(){return Object(D.b)("TWC-Privacy")}async _getUserRegimeWithFallback(){var e,s;return(null===(e=window.location)||void 0===e||null===(s=e.host)||void 0===s?void 0:c()(s).call(s,"wunderground"))?this._fallbackUserRegime:this._hookGetUserRegime?this._hookGetUserRegime():void 0}async _initFeatureFlags(){this._featureFlags=h()(I).call(I,(e,s)=>(e[s.name]=function({regime:e="",featureConfig:s,userPurposesChoicesMap:o={},regimeDefaultPurposesMap:t={},debugMode:n=!1,isLocalStorageAvailable:r=!1,areCookiesEnabled:i=!1,geoIPCountryCode:a}){try{if(n&&console.debug("featureConfig: "+(s&&s.name)+": ",s),!r||!i)return!1;if(!s)return!0;const{name:h,blockRegimes:u=[],enableRegimes:g=[],purposes:m=[],honorUserChoicesOverRegimeDefaults:p,honorOtherRegimesOptOut:O=!0,honorOtherRegimesOptIn:b=!0}=s||{};if("gptPiiGDPR"===h&&e===_.c&&"RS"===a)return!1;if(u.length&&c()(u).call(u,e))return!1;if(g.length&&c()(g).call(g,e))return!0;if(!m&&m.length<1)return!0;"object"==typeof o&&null!==o||(o={});let f=null,d=null;l()(m).call(m,e=>{const s="boolean"==typeof o[e];"boolean"==typeof t[e]&&s?d=!0:s&&(f=!0)});const C=f||d;return R()(m).call(m,e=>{const s=o[e],n="boolean"==typeof s,r=t[e],i="boolean"==typeof r;return n&&(i||O&&!1===s||b&&!0===s)?s:!(!n&&i&&(!C||C&&!p||p&&!d&&f&&!O&&!b))||r})}catch(e){throw e}}({regime:this._userRegime,featureConfig:s,userPurposesChoicesMap:this._userConsents,regimeDefaultPurposesMap:this._regimeDefaultPurposesMap,isLocalStorageAvailable:this._isLocalStorageAvailable,areCookiesEnabled:this._areCookiesEnabled,debugMode:this._debugModeEnabled||!1,geoIPCountryCode:this._geoIPCountryCode}),e),{}),this._featureFlags&&!this._debugModeEnabled&&await this._hookSetFeatureFlags(this._featureFlags)}_initRegimeDefaultPurposesMap(){const{purposes:e=[]}=w&&i()(w).call(w,e=>e.name===this._userRegime)||{};this._regimeDefaultPurposesMap=h()(e).call(e,(e,s)=>(e[s.name]=s.value,e),{})}async _initManager(){if(c()(U.a).call(U.a,this._userRegime)){var e;const{initializeTrustArcManager:s,showConsentManager:t}=await o.e(384).then(o.bind(null,2023));this.showConsentManager=t,s(this._geoIPCountryCode,this._userRegime,n()(e=this.setUserConsents).call(e,this))}}set _debugMode(e){"1b544edd6b"===atob(e)&&(this._debugModeEnabled=!0,console.debug("\n\n\n\n --- DprSdk feature configs debug mode enabled: --- \n\n\n\n"),this._initFeatureFlags(),console.debug("\n regime: ",this._userRegime,"\n regime default purposes values mapping:",this._regimeDefaultPurposesMap,"\n userConsents: ",this._userConsents,"\n featureFlags: ",this._featureFlags,"\n\n\n\n --- DprSdk debug mode ended ---\n\n\n\n"),delete this._debugModeEnabled)}}}}]);
//# sourceMappingURL=452.452.a7cfdbc543c4f7147abe.js.map
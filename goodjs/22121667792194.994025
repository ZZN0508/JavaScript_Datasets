!function(n){function o(t){if(a[t])return a[t].exports;var e=a[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var a={};o.m=n,o.c=a,o.p="",o(0)}([function(t,e,n){"use strict";var o;(o=window.goldlog||(window.goldlog={}))._aplus_plugin_cctv||(o._aplus_plugin_cctv={status:"complete"},n(1).run())},function(t,e,n){"use strict";function r(t,e){var n=function(){var t={};try{var e=goldlog.getMetaInfo("aplus-rhost-g-map");"string"==typeof e?t=JSON.parse(e):"object"==typeof e&&(t=e)}catch(e){t={}}return t}();return n&&n[e]?"//"+n[e]+e:t}var i=n(2),s=n(3);e.run=function(){var t,e,n="";try{!(a=s.getCookie("userSeqId"))||(t=document.getElementById("tb-beacon-aplus")||document.getElementById("beacon-aplus"))&&(e="uidaplus="+a,o=(o=t.getAttribute("exparams"))?o.replace(/&aplus&/,"&"+e+"&aplus&"):e+"&aplus&sidx=aplusSidex",t.setAttribute("exparams",o)),n=a}catch(n){}var o=window.goldlog_queue||(window.goldlog_queue=[]);o.push({action:"goldlog.setMetaInfo",arguments:["aplus-xplug","NONE"]});var a="data.cctv.com";o.push({action:"goldlog.setMetaInfo",arguments:["aplus-rhost-v","//p."+a+"/v.png"]}),o.push({action:"goldlog.setMetaInfo",arguments:["aplus-rhost-g","//p."+a]}),o.push({action:"goldlog.setMetaInfo",arguments:["aplus-mmstat-timeout",1e4]}),o.push({action:"goldlog.appendMetaInfo",arguments:["aplus-cpvdata",{flashInfo:i.flashVersion,colorDepth:s.colorDepth,timeZone:s.timeZone,userSeqId:n,_url_:encodeURIComponent(location.href)}]}),o.push({action:"goldlog.appendMetaInfo",arguments:["aplus-exdata",{flashInfo:i.flashVersion,colorDepth:s.colorDepth,timeZone:s.timeZone,userSeqId:n}]}),o.push({action:"goldlog.beforeSendPV",arguments:[function(){goldlog.appendMetaInfo("aplus-cpvdata",{unixts:(new Date).getTime()})}]}),o.push({action:"goldlog.beforeRecord",arguments:[function(){goldlog.appendMetaInfo("aplus-exdata",{unixts:(new Date).getTime()})}]}),o.push({action:"goldlog.aplus_pubsub.subscribe",arguments:["mw_change_hjlj",function(t){t&&t.where_to_hjlj&&t.where_to_hjlj.url&&t.userdata&&t.userdata.logkey&&(t.where_to_hjlj.url=r(t.where_to_hjlj.url,t.userdata.logkey))}]})}},function(t,e){function n(t){t=t.match(/[\d]+/g);return t.length=3,t.join(".")}var o,a=!1,r="";if(navigator.plugins&&navigator.plugins.length){var i=navigator.plugins["Shockwave Flash"];i&&(a=!0,i.description&&(r=n(i.description))),navigator.plugins["Shockwave Flash 2.0"]&&(a=!0,r="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){i=navigator.mimeTypes["application/x-shockwave-flash"];(a=i&&i.enabledPlugin)&&(r=n(i.enabledPlugin.description))}else try{o=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),a=!0,r=n(o.GetVariable("$version"))}catch(t){try{o=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),a=!0,r="6.0.21"}catch(t){try{o=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a=!0,r=n(o.GetVariable("$version"))}catch(t){}}}t.exports={hasFlash:a,flashVersion:r||"0.0.0"}},function(t,e){var n=-(new Date).getTimezoneOffset()/60,o=screen.colorDepth;t.exports={timeZone:n,colorDepth:o,getCookie:function(t){t=document.cookie.match(new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"));return t?t[1]:""}}}]),function(n){function o(t){if(a[t])return a[t].exports;var e=a[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}var a={};o.m=n,o.c=a,o.p="",o(0)}([function(t,e,n){t.exports=n(1)},function(t,e,a){"use strict";!function(){var n=window;"ontouchend"in document.createElement("div")&&(n.goldlog_queue||(n.goldlog_queue=[])).push({action:"goldlog.setMetaInfo",arguments:["aplus-touch","tap"]});function o(){a(2);var t,e=a(5);a(7).doPubMsg(["goldlogReady","running"]),document.getElementsByTagName("body").length?n[t="g_tb_aplus_loaded"]||(n[t]=1,a(102).initGoldlog(e)):setTimeout(function(){o()},50)}try{o()}catch(n){}}()},function(t,e,n){"use strict";var o;o=window.goldlog||(window.goldlog={}),n=n(3),o.aplus_pubsub||(o.aplus_pubsub=n.create())},function(t,e,n){"use strict";function s(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}function i(t){for(var e=t.length,n=new Array(e-1),o=1;o<e;o++)n[o-1]=t[o];return n}n=n(4),n=n.extend({create:function(t){var e,n=new this;for(e in t)n[e]=t[e];return n.handlers=[],n.pubs={},n},setHandlers:function(t){this.handlers=t},subscribe:function(t,e){s(e);var n=this,o=(n.pubs||{})[t]||[];if(o)for(var a=0;a<o.length;a++){var r=o[a]();e.apply(n,r)}var i=n.handlers||[];return t in i||(i[t]=[]),i[t].push(e),n.setHandlers(i),n},subscribeOnce:function(e,n){s(n);var o,a=this;return this.subscribe.call(this,e,o=function(){a.unsubscribe.call(a,e,o);var t=Array.prototype.slice.call(arguments);n.apply(a,t)}),this},unsubscribe:function(t,e){s(e);var n=this.handlers[t];if(!n)return this;if("object"==typeof n&&0<n.length){for(var o=0;o<n.length;o++)e.toString()===n[o].toString()&&n.splice(o,1);this.handlers[t]=n}else delete this.handlers[t];return this},publish:function(t){var e=i(arguments),n=this.handlers||[],o=n[t]?n[t].length:0;if(0<o)for(var a=0;a<o;a++){var r=n[t][a];r&&"function"==typeof r&&r.apply(this,e)}return this},cachePubs:function(t){var e=this.pubs||{},n=i(arguments);e[t]||(e[t]=[]),e[t].push(function(){return n})}});t.exports=n},function(t,e){"use strict";function n(){}n.prototype.extend=function(){},n.prototype.create=function(){},n.extend=function(t){return this.prototype.extend.call(this,t)},n.prototype.create=function(t){var e,n=new this;for(e in t)n[e]=t[e];return n},n.prototype.extend=function(t){function e(){}try{for(var n in"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),e.prototype=Object.create(this.prototype),t)e.prototype[n]=t[n];(e.prototype.constructor=e).extend=e.prototype.extend,e.create=e.prototype.create}catch(t){console.log(t)}finally{return e}},t.exports=n},function(t,e,a){"use strict";var r=a(6),i=a(7),s=a(8),u=a(11);e.init=function(){u.initLoad.init_watchGoldlogQueue("metaQueue"),a(90)(function(){var n=goldlog._$||{};navigator.userAgent.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i)&&(n.is_ali_app=!0),u.utilPvid.makePVId();var t=a(55);n.spm=t,n.is_WindVane=r.is_WindVane;var o=n.meta_info;t.init(goldlog,o,function(){u.initLoad.init_watchGoldlogQueue(),a(11).spmException.is_exception||a(92);var t=["aplusReady","complete"];i.doPubMsg(t),i.doCachePubs(t)}),goldlog.beforeSendPV(function(t,e){if(n.page_url=location.href,n.page_referrer=s.getRefer(),e.is_auto&&"1"===o["aplus-manual-pv"])return!1}),goldlog.afterSendPV(function(){window.g_SPM&&(g_SPM._current_spm="")}),u.is_auto_pv+""=="true"&&goldlog.sendPV({is_auto:!0}),u.initLoad.run(),u.beforeUnload.run()})}},function(t,e){"use strict";var n=navigator.userAgent,o=/WindVane/i.test(n);e.is_WindVane=o;function i(){var t=goldlog.getMetaInfo("aplus_chnl");return!(!t||!t.isAvailable||"function"!=typeof t.toUT2&&"function"!=typeof t.toUT)&&t}e.isAplusChnl=i,e.getAplusToUT=function(t){var a,r,e={},n=i();return"object"==typeof n?(e.bridgeName=n.bridgeName||"customBridge",e.bridgeVersion=n.bridgeVersion||n.version||"",e.isAvailable=n.isAvailable,e.toUT2=n.toUT2||n.toUT):(a=window.WindVane||{},o&&a&&a.isAvailable&&"function"==typeof a.call&&(r=t||"toUT",e={bridgeName:"WindVane",bridgeVersion:a.version||"",isAvailable:!0,toUT2:function(t,e,n,o){return a.call("WVTBUserTrack",r,t,e,n,o)}})),e}},function(t,e){"use strict";function o(){var t=(window.goldlog||{}).aplus_pubsub||{};return typeof t.publish==a?t:""}var a="function";e.doPubMsg=function(t){var e=o();e&&typeof e.publish==a&&e.publish.apply(e,t)},e.doCachePubs=function(t){var e=o();e&&typeof e.cachePubs==a&&e.cachePubs.apply(e,t)},e.doSubMsg=function(t,e){var n=o();n&&typeof n.subscribe==a&&n.subscribe(t,e)},e.doSubOnceMsg=function(t,e){var n=o();n&&typeof n.subscribeOnce==a&&n.subscribeOnce(t,e)}},function(t,e,n){"use strict";var o=n(9).nameStorage,a=n(10);e.getRefer=function(){var t=(a.KEY||{}).NAME_STORAGE||{};return document.referrer||o.getItem(t.REFERRER)||""}},function(t,e){"use strict";var n=function(){function n(){var t,e,n=[],o=!0;for(e in p)p.hasOwnProperty(e)&&(o=!1,t=p[e]||"",n.push(r(e)+"="+r(t)));a.name=o?s:u+r(s)+"?"+n.join("&")}var a=window;if(a.nameStorage)return a.nameStorage;var s,e,t,o,u="nameStorage:",c=/^([^=]+)(?:=(.*))?$/,r=encodeURIComponent,l=decodeURIComponent,p={},i={};return function(t){if(t&&0===t.indexOf(u)){var e=t.split(/[:?]/);e.shift(),s=l(e.shift())||"";for(var n,o,a=e.join("").split("&"),r=0,i=a.length;r<i;r++)(o=a[r].match(c))&&o[1]&&(n=l(o[1]),o=l(o[2])||"",p[n]=o)}else s=t||""}(a.name),i.setItem=function(t,e){t&&void 0!==e&&(p[t]=String(e),n())},i.getItem=function(t){return p.hasOwnProperty(t)?p[t]:null},i.removeItem=function(t){p.hasOwnProperty(t)&&(p[t]=null,delete p[t],n())},i.clear=function(){p={},n()},i.valueOf=function(){return p},i.toString=function(){var t=a.name;return 0===t.indexOf(u)?t:u+t},t="beforeunload",o=function(){n()},(e=a)&&(e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){o.call(e,t)})),i}();e.nameStorage=n},function(t,e){"use strict";e.recordTypes={hjlj:"COMMON_HJLJ",uhjlj:"DATACLICK_HJLJ",pv:"PV",prepv:"PREPV"},e.KEY={NAME_STORAGE:{REFERRER:"wm_referrer",REFERRER_PV_ID:"refer_pv_id",LOST_PV_PAGE_DURATION:"lost_pv_page_duration",LOST_PV_PAGE_SPMAB:"lost_pv_page_spmab",LOST_PV_PAGE:"lost_pv_page",LOST_PV_PAGE_MSG:"lost_pv_page_msg"}}},function(t,e,n){"use strict";var o=n(10),a=n(12),r=n(13);e.APLUS_ENV="production",e.lver=a.lver,e.toUtVersion=a.toUtVersion,e.script_name=a.script_name,e.recordTypes=o.recordTypes,e.KEY=o.KEY,e.context=r.context,e.context_prepv=r.context_prepv,e.aplus_init=n(21).plugins_init,e.plugins_pv=n(42).plugins_pv,e.plugins_prepv=n(63).plugins_prepv,e.context_hjlj=n(64),e.plugins_hjlj=n(66).plugins_hjlj,e.beforeUnload=n(72),e.initLoad=n(76),e.spmException=n(80),e.goldlog_path=n(81),e.is_auto_pv="true",e.utilPvid=n(85),e.disablePvid="true",e.mustSpmE=!0,e.LS_CNA_KEY="APLUS_CNA"},function(t,e){"use strict";e.lver="8.10.5",e.toUtVersion="v20210112",e.script_name="aplus_u"},function(t,e,n){"use strict";e.context=n(14),e.context_prepv=n(20)},function(t,e,n){"use strict";function o(){return{compose:{maxTimeout:5500},etag:{egUrl:"log.mmstat.com/ge.js",cna:r.getCookie("cna")}}}var a=n(15),r=n(17),i=n(19);t.exports=function(){return a.assign(new i.initConfig,new o)}},function(t,e,n){"use strict";var a=window;e.assign=function(t,e){return"function"!=typeof Object.assign?function(t){if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!==o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}(t,e):Object.assign({},t,e)},e.makeCacheNum=function(){return Math.floor(268435456*Math.random()).toString(16)},e.each=n(16),e.isStartWith=function(t,e){return 0===t.indexOf(e)},e.isEndWith=function(t,e){var n=t.length,o=e.length;return o<=n&&t.indexOf(e)==n-o},e.any=function(t,e){for(var n=t.length,o=0;o<n;o++)if(e(t[o]))return!0;return!1},e.isFunction=function(t){return"function"==typeof t},e.isArray=function(t){return Array.isArray?Array.isArray(t):/Array/.test(Object.prototype.toString.call(t))},e.isString=function(t){return"string"==typeof t},e.isNumber=function(t){return"number"==typeof t},e.isUnDefined=function(t){return void 0===t},e.isContain=function(t,e){return-1<t.indexOf(e)};function r(t){var e,n=t.constructor===Array?[]:{};if("object"==typeof t){if(a.JSON&&a.JSON.parse)e=JSON.stringify(t),n=JSON.parse(e);else for(var o in t)n[o]="object"==typeof t[o]?r(t[o]):t[o];return n}}e.cloneObj=r,e.cloneDeep=r},function(t,e){"use strict";t.exports=function(t,e){for(var n=t.length,o=0;o<n;o++)e(t[o],o)}},function(t,e,n){"use strict";function a(t){t=i.cookie.match(new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"));return t?t[1]:""}function r(t,e,n){n=n||{};var o=new Date;return"session"===n.expires||(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)?"number"==typeof n.expires?o.setTime(o.getTime()+24*n.expires*60*60*1e3):o=n.expires:o.setTime(o.getTime()+63072e7),e+="; expires="+o.toUTCString()),e+="; path="+(n.path||"/"),e+="; domain="+n.domain,i.cookie=t+"="+e,a(t)}var i=document,o=n(15),s=n(18),u=location.hostname;e.getCookie=a,e.setCookie=function(t,e,n){try{if((n=n||{}).domain)r(t,e,n);else for(var o=s.getDomains(),a=0;a<o.length;)n.domain=o[a],r(t,e,n)?a=o.length:a++}catch(t){}};var c=["tracknick","thw","cna"];e.getData=function(){var e={};return o.each(c,function(t){e[t]=a(t)}),e.cnaui=/\btanx\.com$/.test(u)?a("cnaui"):"",e},e.getHng=function(){return encodeURIComponent(a("hng")||"")}},function(t,e){"use strict";e.getDomains=function(){var t=[];try{for(var e=location.hostname.split("."),n=2;n<=e.length;)t.push(e.slice(e.length-n).join(".")),n++}catch(t){}return t}},function(t,e,n){"use strict";function o(t,e,n){var o=(window.goldlog||{}).getMetaInfo("aplus-ifr-pv")+""=="1";return e?function(t){for(var e=["youku.com","soku.com","tudou.com","laifeng.com"],n=0;n<e.length;n++){var o=e[n];if(r.isContain(t,o))return!0}return!1}(t)?"yt":"m":n&&!o?r.isContain(t,"wrating.com")?"k":a(t)||"y":a(t)||"v"}function a(t){for(var e=[["scmp.com","sc"],["luxehomes.com.hk","sc"],["ays.com.hk","sc"],["cpjobs.com","sc"],["educationpost.com.hk","sc"],["cosmopolitan.com.hk","sc"],["elle.com.hk","sc"],["harpersbazaar.com.hk","sc"],["1688.com","6"],["youku.com","yt"],["soku.com","yt"],["tudou.com","yt"],["laifeng.com","yt"]],n=0;n<e.length;n++){var o=e[n];if(r.isContain(t,o[0]))return o[1]}return""}var r=n(15);e.getBeaconSrc=o,e.initConfig=function(){return{compose:{},etag:{egUrl:"log.mmstat.com/eg.js",cna:"",tag:"",stag:"",lstag:"-1",lscnastatus:""},can_to_sendpv:{flag:"NO"},userdata:{},what_to_sendpv:{pvdata:{},exparams:{}},what_to_pvhash:{hash:[]},what_to_sendpv_ut:{pvdataToUt:{}},what_to_sendpv_ut2:{isSuccess:!1,pvdataToUt:{}},when_to_sendpv:{aplusWaiting:""},where_to_sendpv:{url:"//log.mmstat.com/o.gif",urlRule:o},where_to_sendlog_ut:{aplusToUT:{},toUTName:"toUT"},hjlj:{what_to_hjlj:{logdata:{}},what_to_hjlj_ut:{logdataToUT:{}}},network:{connType:"UNKNOWN"},is_single:!1}}},function(t,e){"use strict";t.exports=function(){return{}}},function(t,e,n){"use strict";e.plugins_init=[{name:"where_to_sendpv",enable:!0,path:n(22)},{name:"etag",enable:!0,path:n(38)},{name:"etag_sync",enable:!0,path:n(41)}]},function(t,e,n){"use strict";var a=n(23),o=n(31)();t.exports=function(){return a.assign(o,{run:function(){var t=this.getAplusMetaByKey("aplus-rhost-v"),e=this.options.context.where_to_sendpv||{},n=e.url||"",o=this.getGifPath(e.urlRule,n),n=a.getPvUrl({metaName:"aplus-rhost-v",metaValue:t,gifPath:o,url:n});e.url=n,this.options.context.where_to_sendpv=e}})}},function(t,e,n){"use strict";function o(t){for(var e,n,o=[],a=t.length,r=0;r<a;r++)e=t[r][0],n=t[r][1],o.push(i.isStartWith(e,p)?n:e+"="+encodeURIComponent(n));return o.join("&")}function a(t,e){var n,o,a,r=[];for(n in t)t.hasOwnProperty(n)&&(o=""+t[n],a=n+"="+encodeURIComponent(o),e?r.push(a):r.push(i.isStartWith(n,p)?o:a));return r.join("&")}var i=n(15),u=n(24),r=n(27),s=parent!==self;e.is_in_iframe=s,e.makeCacheNum=i.makeCacheNum,e.isStartWith=i.isStartWith,e.isEndWith=i.isEndWith,e.any=i.any,e.each=i.each,e.assign=i.assign,e.isFunction=i.isFunction,e.isArray=i.isArray,e.isString=i.isString,e.isNumber=i.isNumber,e.isUnDefined=i.isUnDefined,e.isContain=i.isContain,e.sleep=n(28).sleep,e.makeChkSum=function(t){var e=(t=(t||"").split("#")[0].split("?")[0]).length;return e?function(t){for(var e=t.length,n=0,o=0;o<e;o++)n=31*n+t.charCodeAt(o);return n}(e+"#"+t.charCodeAt(e-1)):-1},e.tryToDecodeURIComponent=u.tryToDecodeURIComponent,e.nodeListToArray=u.nodeListToArray,e.parseSemicolonContent=u.parseSemicolonContent,e.param2obj=function(t){for(var e=t.split("&"),n=0,o=e.length,a={};n<o;n++){var r=e[n],i=r.indexOf("="),s=r.substring(0,i),i=r.substring(i+1);a[s]=u.tryToDecodeURIComponent(i)}return a};function c(t){return/^(\/\/){0,1}(\w+\.){1,}\w+((\/\w+){1,})?$/.test(t)}var l=n(29);e.hostValidity=c;e.filterIntUrl=function(t){return t=!/^\/\/gj\.mmstat/.test(t)&&goldlog.isInternational()?t.replace(/^\/\/\w+\.mmstat/,"//gj.mmstat"):t},e.getPvUrl=function(t){var e,n,o,a,r,i=(t=t||{}).metaValue&&(i=t.metaValue,n=t.metaName,o=/^(\/\/){0,1}(\w+\.){1,}\w+\/\w+\.(gif|png)$/.test(i),a=c(i),r="",o?r="isGifPath":a&&(r="isHostPath"),r||l.logger({msg:n+": "+i+' is invalid, suggestion: "xxx.mmstat.com"'}),r),r="";return"isGifPath"===i?r=(e=/^\/\//.test(t.metaValue)?"":"//")+t.metaValue:"isHostPath"===i&&(e=/^\/\//.test(t.metaValue)?"":"//",i=/\/$/.test(t.metaValue)?"":"/",r=e+t.metaValue+i+t.gifPath),r||(e=0===t.gifPath.indexOf("/")?t.gifPath:"/"+t.gifPath,t.url&&t.url.replace(/\/\w+\.gif/,e))},e.indexof=n(30).indexof,e.callable=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t};var p="::-plain-::";e.mkPlainKey=function(){return p+Math.random()},e.s_plain_obj=p,e.mkPlainKeyForExparams=function(t){return(t||p)+"exparams"},e.rndInt32=function(){return Math.round(2147483647*Math.random())},e.arr2param=o,e.arr2obj=function(t){for(var e,n,o={},a=t.length,r=0;r<a;r++)e=t[r][0],n=t[r][1],o[e]=n;return o},e.obj2param=a,e.makeUrl=function(t,e){var n=-1==t.indexOf("?")?"?":"&";return(e=e?(i.isArray(e)?o:a)(e):"")?t+n+e:t},e.ifAdd=function(t,e){for(var n,o,a=e.length,r=0;r<a;r++)n=(o=e[r])[0],(o=o[1])&&t.push([n,o])},e.isStartWithProtocol=r.isStartWithProtocol,e.param2arr=function(t){for(var e,n=t.split("&"),o=0,a=n.length,r=[];o<a;o++)e=n[o].split("="),r.push([e.shift(),e.join("=")]);return r},e.catchException=function(t,e,n){var o=window,a=o.goldlog_queue||(o.goldlog_queue=[]),o=t;"object"==typeof e&&e.message&&(o=o+"_"+e.message),n&&n.msg&&(o+="_"+n.msg),a.push({action:"goldlog._aplus_cplugin_m.do_tracker_jserror",arguments:[{message:o,error:JSON.stringify(e),filename:t}]})}},function(t,e,n){"use strict";var u=n(25),o=n(26);t.exports={tryToDecodeURIComponent:function(t,e){e=e||"";if(t)try{e=decodeURIComponent(t)}catch(t){}return e},parseSemicolonContent:function(t,e,n){e=e||{};for(var o=t.split(";"),a=o.length,r=0;r<a;r++){var i=o[r].split("="),s=u.trim(i.slice(1).join("="));e[u.trim(i[0])||""]=n?s:this.tryToDecodeURIComponent(s)}return e},nodeListToArray:function(e){try{return[].slice.call(e)}catch(t){for(var n=[],o=e.length,a=0;a<o;a++)n.push(e[a]);return n}},getLsCna:function(t,e){if(o.set&&o.test()){var n="",t=o.get(t);return t&&(t=t.split("_")||[],n=e?1<t.length&&e===t[0]?t[1]:"":1<t.length?t[1]:""),decodeURIComponent(n)}return""},setLsCna:function(t,e,n){n&&o.set&&o.test()&&o.set(t,e+"_"+encodeURIComponent(n))},getUrl:function(t){var e=t||"//log.mmstat.com/eg.js";try{var n=goldlog.getMetaInfo("aplus-rhost-v"),o=/[[a-z|0-9\.]+[a-z|0-9]/,a=n.match(o);a&&a[0]&&(e=e.replace(o,a[0]))}catch(t){}return e}}},function(t,e){"use strict";e.trim=function(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):""}},function(t,e){"use strict";t.exports={set:function(t,e){try{return localStorage.setItem(t,e),!0}catch(t){return!1}},get:function(t){try{return localStorage.getItem(t)}catch(t){return""}},test:function(){var t="grey_test_key";try{return localStorage.setItem(t,1),localStorage.removeItem(t),!0}catch(t){return!1}},remove:function(t){localStorage.removeItem(t)}}},function(t,e,n){"use strict";var a=n(15);e.getProtocal=function(){var t=location.protocol;return t="http:"!==t&&"https:"!==t?"https:":t},e.isStartWithProtocol=function(t){for(var e=["javascript:","tel:","sms:","mailto:","tmall://","#"],n=0,o=e.length;n<o;n++)if(a.isStartWith(t,e[n]))return!0;return!1}},function(t,e){"use strict";e.sleep=function(t,e){return setTimeout(function(){e()},t)}},function(t,e){"use strict";e.isDebugAplus=function(){var t=!1;return t="boolean"==typeof goldlog.aplusDebug?goldlog.aplusDebug:t};e.logger=function(t){var e=(t=t||{}).level||"warn";window.console&&window.console[e]&&window.console[e](t.msg)}},function(t,e){"use strict";e.indexof=function(e,n){var o=-1;try{o=e.indexOf(n)}catch(t){for(var a=0;a<e.length;a++)e[a]===n&&(o=a)}finally{return o}}},function(t,e,n){"use strict";var a=n(23),r=n(32),o=n(33);t.exports=function(){return{init:function(t){this.options=t},getMetaInfo:function(){return(r.getGoldlogVal("_$")||{}).meta_info||o.getInfo()},getAplusMetaByKey:function(t){return(this.getMetaInfo()||{})[t]},getGifPath:function(t,e){var n,o=r.getGoldlogVal("_$")||{};return"function"==typeof t?n=t(location.hostname,o.is_terminal,a.is_in_iframe)+".gif":n||!e||(e=e.match(/\/\w+\.gif/))&&0<e.length&&(n=e[0]),n=n||(o.is_terminal?"m.gif":"v.gif")},run:function(){var t,e,n,o;!this.options.context.is_single&&(t=this.getAplusMetaByKey("aplus-rhost-v"),o=(e=this.options.context.where_to_sendpv||{}).url||"",n=this.getGifPath(e.urlRule,o),o=a.getPvUrl({metaName:"aplus-rhost-v",metaValue:t,gifPath:n,url:a.filterIntUrl(o)}),e.url=o,this.options.context.where_to_sendpv=e)}}}},function(t,e){"use strict";function n(t){var e;try{window.goldlog||(window.goldlog={}),e=window.goldlog[t]}catch(t){e=""}finally{return e}}e.getGoldlogVal=n;e.setGoldlogVal=function(t,e){var n=!1;try{window.goldlog||(window.goldlog={}),t&&(window.goldlog[t]=e,n=!0)}catch(t){n=!1}finally{return n}},e.getClientInfo=function(){return n("_aplus_client")||{}}},function(t,e,n){"use strict";function o(){var e,t=p.getMetaTags();(function(t){var e,n,o=t.length,a={};for(d._microscope_data=a,e=0;e<o;e++)n=t[e],"microscope-data"===l.tryToGetAttribute(n,"name")&&(n=l.tryToGetAttribute(n,"content"),u.parseSemicolonContent(n,a),d.is_head_has_meta_microscope_data=!0);d._microscope_data_params=u.obj2param(a),d.ms_data_page_id=a.pageId,d.ms_data_shop_id=a.shopId,d.ms_data_instance_id=a.siteInstanceId,d.ms_data_siteCategoryId=a.siteCategory,d.ms_prototype_id=a.prototypeId,d.site_instance_id_or_shop_id=d.ms_data_instance_id||d.ms_data_shop_id,d._atp_beacon_data={},d._atp_beacon_data_params=""})(t),c.each(t,function(t){t=l.tryToGetAttribute(t,"name");/^aplus/.test(t)&&(d[t]=p.getMetaCnt(t))}),c.each(f,function(t){d[t]=p.getMetaCnt(t)}),d.spm_protocol=(a=t,document.querySelector&&(e=document.querySelector("meta[name=data-spm]")),c.each(a,function(t){"data-spm"===l.tryToGetAttribute(t,"name")&&(e=t)}),o=(a=e)?l.tryToGetAttribute(a,"data-spm-protocol"):o);for(var n,o,a,r=["aplus-rate-ahot"],i=r.length,s=0;s<i;s++)d[n=r[s]]=parseFloat(d[n]);return o=(a=((t=d).isonepage||"-1").split("|"))[0],a=a[1]||"",t.isonepage_data={isonepage:o,urlpagename:a},h=d||{},d}var u=n(23),c=n(15),l=n(34),p=n(35),g=n(36),d={},f=["ahot-aplus","isonepage","spm-id","data-spm","microscope-data"],h={};e.setMetaInfo=function(t,e){return(h=h||{})[t]=e,!0};e.getMetaInfo=function(t){return(h=h||{})[t]||""},e.getInfo=o,e.qGet=function(){return h||o()},e.appendMetaInfo=function(o,a){var r=function(t,e){goldlog.setMetaInfo(t,e,{from:"appendMetaInfo"})};if(o&&a){var t,i=function(t){return"EXPARAMS"===t?g.getExparamsInfos("",t):t?t.split("&"):[]},e=function(t){(t.constructor===Array?function(t){try{var e="string"==typeof a?JSON.parse(a):a;r(o,t.concat(e))}catch(t){}}:function(t){try{var e="string"==typeof a?JSON.parse(a):a;r(o,c.assign(t,e))}catch(t){}})(t)},n=goldlog.getMetaInfo(o);if("aplus-exinfo"===o&&(function(t){try{var e=i(t),n=i(a);r(o,e.concat(n).join("&"))}catch(t){}}(n),t=!0),n)if("object"==typeof n)e(n),t=!0;else try{var s=JSON.parse(n);"object"==typeof s&&(e(s),t=!0)}catch(o){}t||r(o,a)}}},function(t,e){"use strict";e.tryToGetAttribute=function(t,e){return t&&t.getAttribute&&t.getAttribute(e)||""};function o(t,e,n){if(t&&t.setAttribute)try{t.setAttribute(e,n)}catch(t){}}e.tryToSetAttribute=o,e.tryToRemoveAttribute=function(e,n){if(e&&e.removeAttribute)try{e.removeAttribute(n)}catch(t){o(e,n,"")}}},function(t,e,n){"use strict";function s(t){return a=a||document.getElementsByTagName("head")[0],r&&!t?r:a?r=a.getElementsByTagName("meta"):[]}function o(t,e){for(var n,o,a=s(),r=a.length,i=0;i<r;i++)n=a[i],u.tryToGetAttribute(n,"name")===t&&(o=u.tryToGetAttribute(n,e||"content"));return o||""}var a,r,u=n(34);e.getMetaTags=s,e.getMetaCnt=o,e.getOnePageInfo=function(t){var e={isonepage:"-1",urlpagename:""};return(t=t.qGet())&&t.hasOwnProperty("isonepage_data")?(e.isonepage=t.isonepage_data.isonepage,e.urlpagename=t.isonepage_data.urlpagename):(t=(o("isonepage")||"-1").split("|"),e.isonepage=t[0],e.urlpagename=t[1]||""),e}},function(t,e,n){"use strict";var u=n(23),c=n(37),l=n(30);e.getExparamsInfos=function(t,e){for(var n=[],o=t||["uidaplus","pc_i","pu_i"],t=(t=c.getExParams(u)||"").replace(/&aplus&/,"&"),a=u.param2arr(t)||[],r=0;r<a.length;r++){var i=a[r],s=i[0]||"",i=i[1]||"";s&&i&&("EXPARAMS"===e||-1<l.indexof(o,s))&&n.push(s+"="+i)}return n}},function(t,e,n){"use strict";function r(){return o=o||(p.getElementById("beacon-aplus")||p.getElementById("tb-beacon-aplus"))}function i(t){var e=r(),e=a.tryToGetAttribute(e,"cspx");t&&e&&(t.nonce=e)}var s,o,u=n(27),c=n(15),l=n(29),a=n(34),p=document;e.addScript=function(t,e,n){var o=p.createElement("script");o.type="text/javascript",o.async=!0;var a=r();a&&a.hasAttribute("crossorigin")&&(o.crossOrigin="anonymous"),0===(t="https:"==location.protocol&&e||t).indexOf("//")&&(t=u.getProtocal()+t),o.src=t,n&&(o.id=n),i(o),n=p.getElementsByTagName("script")[0],s=s||p.getElementsByTagName("head")[0],n?n.parentNode.insertBefore(o,n):s&&s.appendChild(o)},e.loadScript=function(t,e){function n(t){a.onreadystatechange=a.onload=a.onerror=null,a=null,e(t)}var o,a=p.createElement("script");s=s||p.getElementsByTagName("head")[0],a.async=!0,"onload"in a?a.onload=n:(o=function(){/loaded|complete/.test(a.readyState)&&n()},(a.onreadystatechange=o)()),a.onerror=function(t){n(t)},a.src=t,i(a),s.appendChild(a)},e.isTouch=function(){return"ontouchend"in document.createElement("div")};function g(){return((goldlog&&goldlog._$?goldlog._$:{}).meta_info||{})["aplus-exparams"]||""}e.getExParamsFromMeta=g,e.getExParams=function(t){var e=r(),e=a.tryToGetAttribute(e,"exparams"),t=d(e,g(),t)||"";return t&&t.replace(/&amp;/g,"&").replace(/\buserid=/,"uidaplus=")};var d=function(t,e,n){var o="aplus&sidx=aplusSidex",a=t||o;try{if(e){var r=n.param2obj(e);c.each(["aplus","cna","spm-cnt","spm-url","spm-pre","logtype","pre","uidaplus","asid","sidx","trid","gokey"],function(t){r.hasOwnProperty(t)&&(l.logger({msg:"Can not inject keywords: "+t}),delete r[t])}),delete r[""];var i,s;return t?(delete(s=0<(i=t.match(/aplus&/).index)?n.param2obj(t.substring(0,i)):{})[""],n.obj2param(c.assign(s,r))+"&"+t.substring(i,t.length)):n.obj2param(r)+"&"+o}return a}catch(t){return a}};e.mergeExparams=d},function(t,e,n){"use strict";var o=n(17),i=n(37),s=n(24),a=n(39),u=n(40),c=n(32),l=n(11);t.exports=function(){return{init:function(t){this.options=t;t=this.options.context.etag||{};this.cna=t.cna||o.getCookie("cna"),this.setTag(0),this.setStag(-1),this.setLsTag("-1"),this.setEtag(this.cna||""),this.requesting=!1,this.today=a.getFormatDate()},setLsTag:function(t){this.lstag=t,this.options.context.etag.lstag=t},setTag:function(t){this.tag=t,this.options.context.etag.tag=t},setStag:function(t){this.stag=t,this.options.context.etag.stag=t},setEtag:function(t){this.etag=t,this.options.context.etag.cna=t,o.getCookie("cna")!==t&&o.setCookie("cna",t)},setLscnaStatus:function(t){this.options.context.etag.lscnastatus=t},run:function(t,o){var a=this;if(!a.cna){var r=null,e=u.getUrl(this.options.context.etag||{});a.requesting=!0;return i.loadScript(e,function(t){var e,n;t&&"error"===t.type?a.setStag(-3):((e=c.getGoldlogVal("Etag"))&&a.setEtag(e),void 0!==(n=c.getGoldlogVal("stag"))&&a.setStag(n)),a.requesting&&(2!==n&&4!==n||((n=s.getLsCna(l.LS_CNA_KEY))?(a.setLsTag(1),a.setEtag(n)):(a.setLsTag(0),s.setLsCna(l.LS_CNA_KEY,a.today,e))),setTimeout(function(){o()},20),clearTimeout(r))}),r=setTimeout(function(){a.requesting=!1,a.setStag(-2),o()},1500),2e3}a.setTag(1)}}}},function(t,e){"use strict";function n(t,e,n){var o=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-o.length)).toString().substr(1)+o}e.getFormatDate=function(t){var e=new Date;try{return[e.getFullYear(),n(e.getMonth()+1,2,0),n(e.getDate(),2,0)].join(t||"")}catch(t){return""}}},function(t,e,n){"use strict";var o=n(24);e.getUrl=function(t){var e=o.getUrl(t&&t.egUrl?t.egUrl:"gj.mmstat.com/eg.js"),t=e.match(/[\w+\.]+[a-z|A-Z|0-9]+\/(eg|ge).js/);return e=0!==e.indexOf("http")&&t&&0<t.length?"//"+t[0]:e}},function(t,e,n){"use strict";var o=n(24),a=n(37),r=n(40),i=n(11),s=n(39),u=n(26);t.exports=function(){return{init:function(t){this.options=t,this.today=s.getFormatDate()},run:function(){var e=this;u.test()&&(o.getLsCna(i.LS_CNA_KEY,e.today)||setTimeout(function(){var t=r.getUrl(e.options.context.etag||{});a.loadScript(t,function(t){t&&"error"!==t.type&&o.setLsCna(i.LS_CNA_KEY,e.today,goldlog.Etag)})},1e3))}}}},function(t,e,n){"use strict";e.plugins_pv=[{name:"etag",enable:!0,path:n(43)},{name:"when_to_sendpv",enable:!0,path:n(44)},{name:"where_to_sendlog_ut",enable:!0,path:n(45)},{name:"is_single",enable:!0,path:n(46)},{name:"what_to_pvhash",enable:!0,path:n(50)},{name:"what_to_sendpv",enable:!0,path:n(51)},{name:"what_to_sendpv_userdata",enable:!0,path:n(54),deps:["what_to_sendpv"]},{name:"what_to_sendpv_etag",enable:!0,path:n(57),deps:["etag","what_to_sendpv"]},{name:"what_to_sendpv_ut2",enable:n(58),path:n(59),deps:["where_to_sendlog_ut","is_single"]},{name:"can_to_sendpv",enable:!0,path:n(60)},{name:"where_to_sendpv",enable:!0,path:n(31)},{name:"do_sendpv",enable:!0,path:n(61),deps:["what_to_sendpv","where_to_sendpv"]},{name:"after_pv",enable:!0,path:n(62)}]},function(t,e,n){"use strict";var o=n(7);t.exports=function(){return{init:function(t){this.options=t},run:function(){var e=this;o.doSubOnceMsg("aplusInitContext",function(t){t.etag&&(e.options.context.etag=t.etag)})}}}},function(t,e,n){"use strict";var o=n(32),r=n(28),a=n(33);t.exports=function(){return{init:function(t){this.options=t},getMetaInfo:function(){return(o.getGoldlogVal("_$")||{}).meta_info||a.getInfo()},getAplusWaiting:function(){return(this.getMetaInfo()||{})["aplus-waiting"]},run:function(t,e){var n,o=this.options.config||{};if((n=this.getAplusWaiting())&&o.is_auto)switch(n=this.getAplusWaiting()+"",this.options.context.when_to_sendpv={aplusWaiting:n},n){case"MAN":return"done";case"1":return this.options.context.when_to_sendpv.isWait=!0,r.sleep(6e3,function(){e()}),6e3;default:var a=+n;if(a+""!="NaN")return this.options.context.when_to_sendpv.isWait=!0,r.sleep(a,function(){e()}),a}}}}},function(t,e,n){"use strict";var o=n(6);t.exports=function(){return{init:function(t){this.options=t},getAplusToUT:function(){return{toUT2:o.getAplusToUT("toUT2"),toUT:o.getAplusToUT("toUT")}},run:function(){var t;"Umeng4Aplus"===goldlog.aplusBridgeName?this.options.context.where_to_sendlog_ut.toUTName="toUT2":(t=this.getAplusToUT(),this.options.context.where_to_sendlog_ut.aplusToUT=t)}}}},function(t,e,n){"use strict";var o=n(32),s=n(47),a=n(48),u=n(11);t.exports=function(){return{init:function(t){this.options=t,this._$=o.getGoldlogVal("_$")||{},this.isBoth="1"===this._$.meta_info["aplus-both-request"],this.is_WindVane=this._$.is_WindVane},isSingle_pv:function(t){return t?!this.isBoth:!(!this.is_WindVane||!a.isSingleUaVersion()||this.isBoth)},isSingle_hjlj:function(t,e){return e?!this.isBoth:!(!this.is_WindVane||!a.isSingleSendLog(t)||this.isBoth)},isSingle_uhjlj:function(t,e){return!(t&&/^\/aplus\.99\.(\d)+$/.test(t.logkey)||!e&&!(this.is_WindVane&&t&&t.logkey&&a.isSingleUaVersion())||this.isBoth)},run:function(){var t=this.options.context||{},e=this.options.config||{},n=t.where_to_sendlog_ut.aplusToUT||{},o=n.toUT||{},n=n.toUT2||{},a=s.isNative4Aplus(),n=!!(o.isAvailable||n.isAvailable||a),r=t.userdata||{},i=!!t.is_single;switch(e.recordType){case u.recordTypes.uhjlj:i=this.isSingle_uhjlj(r,a);break;case u.recordTypes.hjlj:i=this.isSingle_hjlj(r,a);break;default:u.recordTypes.pv;i=this.isSingle_pv(a)}this.options.context.is_single=n&&i}}}},function(t,e){"use strict";var n="UT4Aplus",o="Umeng4Aplus";e.isNative4Aplus=function(){var t=goldlog.getMetaInfo("aplus-toUT"),e=goldlog.aplusBridgeName;return e===n&&t===n||e===o},e.haveNativeFlagInUA=function(){var t,e=goldlog.aplusBridgeName;return e||"boolean"==typeof e||(t=new RegExp([n,o].join("|"),"i"),e=!!(t=navigator.userAgent.match(t))&&t[0],goldlog.aplusBridgeName=e),!!e}},function(t,e,n){"use strict";function o(t){var e=t.logkey.toLowerCase();switch(0===e.indexOf("/")&&(e=e.substr(1)),t.gmkey.toUpperCase()){case"EXP":return"2201";case"CLK":return"2101";case"SLD":return"19999";default:return"19999"}}function a(){return s||i.haveNativeFlagInUA()||r.webviewIsAbove({version_ios_tb:[5,11,7],version_ios_tm:[5,24,1],version_android_tb:[5,11,7],version_android_tm:[5,24,1]})}var r=n(49),i=n(47),s=/\sA2U\/x/.test(window.navigator.userAgent);e.isSingleUaVersion=a,e.isSingleSendLog=function(t){return!(t&&/^\/fsp\.1\.1$/.test(t.logkey)||!(t&&t.logkey&&a()))},e.getFunctypeValue=function(t){return e.isSingleSendLog(t)?o(t):"2101"},e.getFunctypeValue2=o},function(t,e){"use strict";function c(t){var e=[0,0,0];try{if(t){var n=t[1].split(".");if(2<n.length)for(var o=0;o<n.length;)e[o]=parseInt(n[o]),o++}}catch(t){e=[0,0,0]}finally{return e}}e.parseVersion=c;function l(t,e){var n=!1;try{var o=t[0]>e[0],a=t[1]>e[1],r=t[2]>e[2],i=t[0]===e[0],s=t[1]===e[1],u=t[2]===e[2],n=!!(o||i&&a||i&&s&&r||i&&s&&u)}catch(t){n=!1}finally{return n}}e.isAboveVersion=l,e.webviewIsAbove=function(t,e){var n=!1;try{var o=(e=e||navigator.userAgent).match(/AliApp\(TB\/(\d+[._]\d+[._]\d+)/i),a=c(o),r=e.match(/AliApp\(TM\/(\d+[._]\d+[._]\d+)/i),i=c(r),s=/iPhone|iPad|iPod|ios/i.test(e),u=/android/i.test(e);s?o&&a?n=l(a,t.version_ios_tb):r&&i&&(n=l(i,t.version_ios_tm)):u&&(o&&a?n=l(a,t.version_android_tb):r&&i&&(n=l(i,t.version_android_tm)))}catch(t){n=!1}return n}},function(t,e,n){"use strict";var o=n(32);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=this.options.context.what_to_pvhash||{},e=[];"1"===(((o.getGoldlogVal("_$")||{}).meta_info||{})["aplus-pvhash"]||"")&&(e=["_aqx_uri",encodeURIComponent(location.href)]),t.hash=e,this.options.context.what_to_pvhash=t}}}},function(t,e,n){"use strict";var a=n(23),o=n(15),r=n(37),i=n(32),s=n(34),u=n(17),c=n(52),l=n(53);t.exports=function(){return o.assign(l,{init:function(t){this.options=t,this.cookie_data||(this.cookie_data=u.getData()),this.client_info||(this.client_info=i.getClientInfo()||{});t=location.hash;t&&0===t.indexOf("#")&&(t=t.substr(1)),this.loc_hash=t},getExParams:function(){var t=document,e=[],t=t.getElementById("beacon-aplus")||t.getElementById("tb-beacon-aplus"),t=s.tryToGetAttribute(t,"exparams"),t=r.mergeExparams(t,r.getExParamsFromMeta(),a)||"";(t=(t=t.replace(/&amp;/g,"&")).replace(/\buserid=/,"uidaplus="))&&e.push([a.mkPlainKeyForExparams(),t]);t=o.makeCacheNum();return c.updateKey(e,"cache",t),e},getExtra:function(){var t=[],e=(i.getGoldlogVal("_$")||{}).meta_info||{},n=this.cookie_data||{},o=this.getClientInfo(!0)||[];return a.ifAdd(t,o),a.ifAdd(t,[["thw",n.thw],["urlokey",this.loc_hash],["wm_instanceid",e.ms_data_instance_id]]),t}})}},function(t,e){"use strict";function o(t,e,n,o){for(var a,r=t.length,i=-1,s="function"==typeof n,u=0;u<r;u++){if((a=t[u])[0]===e)return void(a[1]=s?n(a[1]):n);o&&a[0]===o&&(i=u)}o&&(s&&(n=n()),-1<i?t.splice(i,0,[e,n]):t.push([e,n]))}t.exports={updateSPMCnt:function(t,e,n){o(t,"spm-cnt",function(t){t=t.split(".");return t[0]=goldlog.spm_ab[0],t[1]=goldlog.spm_ab[1],t[1]=e?t[1].split("/")[0]+"/"+e:t[1].split("/")[0],n&&(t[4]=n),t.join(".")})},updateSPMUrl:function(t,e){var n=window.g_SPM&&g_SPM._current_spm;n&&o(t,"spm-url",function(){return[n.a,n.b,n.c,n.d].join(".")+(e?"."+e:"")},"spm-cnt")},updateKey:o,removeKey:function(t,e){for(var n=-1,o=0,a=t.length;o<a;o++)if(t[o][0]===e){n=o;break}0<=n&&t.splice(n,1)}}},function(t,e,n){"use strict";var u=n(23),c=n(15),l=n(32),p=n(6),r=n(17),g=n(11);t.exports={init:function(t){this.options=t,this.cookie_data||(this.cookie_data=r.getData())},getBasicParams:function(){var t=document,e=l.getGoldlogVal("_$")||{},n=e.spm||{},o=e.meta_info||{},a=o["aplus-ifr-pv"]+""=="1",a=[["logtype",u.is_in_iframe&&!a?0:1],["title",(this.options.config||{}).title||t.title],["pre",e.page_referrer||""],["scr",screen.width+"x"+screen.height]],t=this.cookie_data||{},e=((this.options.context||{}).etag||{}).cna||t.cna||r.getCookie("cna");e&&a.push([u.mkPlainKey(),"cna="+e]),t.tracknick&&a.push([u.mkPlainKey(),"nick="+t.tracknick]);e=n.spm_url||"";return u.ifAdd(a,[["wm_pageid",o.ms_data_page_id],["wm_prototypeid",o.ms_prototype_id],["wm_sid",o.ms_data_shop_id],["spm-url",e],["spm-pre",n.spm_pre],["spm-cnt",n.spm_cnt],["cnaui",t.cnaui]]),a},getExParams:function(){return[]},getExtra:function(){return[]},getClientInfo:function(t){var e=[],n=l.getGoldlogVal("_$")||{},o=(this.client_info||{}).ua_info||{};if(t||!p.is_WindVane&&!p.isAplusChnl()){for(var a,r=[],i=["p","o","b","s","w","wx","ism"],s=0;a=i[s++];)o[a]&&r.push([a,o[a]]);u.ifAdd(e,r)}return u.ifAdd(e,[["cache",c.makeCacheNum()],["lver",goldlog.lver||g.lver],["jsver",n.script_name||g.script_name],["pver",goldlog.aplus_cplugin_ver]]),(this.options.config||{}).is_auto||u.ifAdd(e,[["mansndlog",1]]),e},processLodashDollar:function(){var t=l.getGoldlogVal("_$")||{};t.page_url!==location.href&&(t.page_referrer=t.page_url,t.page_url=location.href),l.setGoldlogVal("_$",t)},getLsParams:function(){var t=l.getGoldlogVal("_$")||{},e=[];return t.lsparams&&t.lsparams.spm_id&&(e.push(["lsparams",t.lsparams.spm_id]),e.push(["lsparams_pre",t.lsparams.current_url])),e},run:function(){var t=this.getBasicParams()||[],e=this.getExParams()||[],n=this.getExtra()||[];this.processLodashDollar();var o=this.getLsParams()||[],o=[].concat(t,e,n,o);this.options.context.what_to_sendpv.pvdata=o,this.options.context.what_to_sendpv.exparams=e}}},function(t,e,n){"use strict";var r=n(23),i=n(32),o=n(52),s=n(17),u=n(55);t.exports=function(){return{init:function(t){this.options=t},getPageId:function(){var t=this.options.config||{},e=(this.options.context||{}).userdata||{};return t.page_id||t.pageid||t.pageId||e.page_id},getPageInfo:function(){var t;try{top.location!==self.location&&void 0!==window.innerWidth&&(t={width:window.innerWidth,height:window.innerHeight})}catch(t){}return t},getUserdata:function(){var t=(i.getGoldlogVal("_$")||{}).spm||{},e=(this.options.context||{}).userdata||{},n=this.options.config||{},o=[];n&&!n.is_auto&&(n.gokey&&o.push([r.mkPlainKey(),n.gokey]),(n=t.data.b)&&(n=(a=this.getPageId())?n.split("/")[0]+"/"+a:n.split("/")[0],u.setB(n),(a=t.spm_cnt.split("."))&&2<a.length&&(a[1]=n,t.spm_cnt=a.join("."))));var a=function(t){if("object"==typeof t)for(var e in t)"object"!=typeof t[e]&&"function"!=typeof t[e]&&o.push([e,t[e]])};a(goldlog.getMetaInfo("aplus-cpvdata")),a(e);e=s.getCookie("workno")||s.getCookie("emplId");e&&o.push(["workno",e]),s.getHng()&&o.push(["_hng",s.getHng()]);e=this.getPageInfo();return e&&(o.push(["_pw",e.width]),o.push(["_ph",e.height])),o},processLodashDollar:function(){var t=this.options.config||{},e=i.getGoldlogVal("_$")||{};t&&t.referrer&&(e.page_referrer=t.referrer),i.setGoldlogVal("_$",e)},updatePre:function(t){var e=i.getGoldlogVal("_$")||{};return e.page_referrer&&o.updateKey(t,"pre",e.page_referrer),t},run:function(){var t=this.options.context.what_to_sendpv.pvdata,e=this.getUserdata();this.processLodashDollar();var n=t,t=this.options.context.what_to_pvhash.hash;t&&0<t.length&&n.push(t),n=n.concat(e);n=this.updatePre(n),t=this.getPageId();t&&o.updateSPMCnt(n,t),this.options.context.what_to_sendpv.pvdata=n,this.options.context.userdata=e}}}},function(t,e,n){"use strict";function o(){var t=s.data.a,e=s.data.b;t&&e&&(goldlog.spm_ab=[t,e])}var r=window,i=document,s={};s.data={};var u={},c=n(34),a=n(56),l=location.href,p=n(8).getRefer(),g=n(11);u.setA=function(t){s.data.a=t,o()},u.setB=function(t){s.data.b=t,o()},u.setAB=function(t,e){s.data.a=t,s.data.b=e,o()};function d(){var t=g.utilPvid.makePVId();return g.mustSpmE?t||goldlog.pvid||"":t||""}function f(t,e){var n=t.goldlog||window.goldlog||{},o=n.meta_info||{};s.meta_protocol=o.spm_protocol;var o=(a=n.spm_ab||[])[0]||"0",a=a[1]||"0";"0"===o&&"0"===a&&(function(){if(!s.data.a||!s.data.b){var t=r._SPM_a,e=r._SPM_b;if(t&&e)return t=t.replace(/^{(\w+\/)}$/g,"$1"),e=e.replace(/^{(\w+\/)}$/g,"$1"),s.is_wh_in_page=!0,u.setAB(t,e);var n=goldlog._$.meta_info,n=(t=n["data-spm"]||n["spm-id"]||"0").split(".");1<n.length&&(t=n[0],e=n[1]),u.setA(t),e&&u.setB(e);t=i.getElementsByTagName("body");(t=t&&t.length?t[0]:null)&&((e=c.tryToGetAttribute(t,"data-spm"))?u.setB(e):1===n.length&&u.setAB("0","0"))}}(),s.data.a,a=s.data.b||"0"),a=[s.data.a,s.data.b].join("."),s.spm_cnt=(a||"0.0")+".0.0",(t=0<t.send_pv_count?d():n.pvid)&&(s.spm_cnt+="."+t),n._$.spm=s,"function"==typeof e&&e(t)}var h=a.getSPMFromUrl;u.spaInit=function(t,e,n,o){var a="function"==typeof o?o:function(){},r=s.spm_url,i=window.g_SPM||{},o=(t._$||{}).send_pv_count;f({goldlog:t,meta_info:e,send_pv_count:o},function(t){s.spm_cnt=s.data.a+"."+s.data.b+".0.0"+(t?"."+t:""),"1"!==e["aplus-spm-fixed"]&&(s.spm_pre=h(p),s.origin_spm_pre=s.spm_pre,s.spm_url=h(location.href),s.origin_spm_url=s.spm_url,(t=i._current_spm||{})&&t.a&&"0"!==t.a&&t.b&&"0"!==t.b&&(s.spm_url=[t.a,t.b,t.c,t.d,t.e].join("."),s.spm_pre=r),i._current_spm={}),a()})},u.init=function(t,e,n){s.spm_url=h(l),s.spm_pre=h(p),f({goldlog:t,meta_info:e},function(){"function"==typeof n&&n()})},u.resetSpmCntPvid=function(){var t,e=goldlog.spm_ab;e&&2===e.length&&(t=e.join(".")+".0.0",e=d(),s.spm_cnt=t=e?t+"."+e:t,s.spm_url=t,goldlog._$.spm=s)},t.exports=u},function(t,e){"use strict";function n(t,e){if(!t||!e)return"";var n,o="";try{var a,r,i,s,u,c=new RegExp(t+"=([^&|#|?|/]+)");o="spm"===t||"scm"===t?(a=new RegExp("\\?.*"+t+"=([\\w\\.\\-\\*/]+)"),r=e.match(c),i=e.match(a),s=r&&2===r.length?r[1]:"",o=(u=i&&2===i.length?i[1]:"")<s?s:u,decodeURIComponent(o)):(n=e.match(c))&&2===n.length?n[1]:""}catch(t){}finally{return o}}e.getParamFromUrl=n,e.getSPMFromUrl=function(t){return n("spm",t)}},function(t,e,n){"use strict";var o=n(52);t.exports=function(){return{init:function(t){this.options=t},updateBasicParams:function(){var t=this.options.context.what_to_sendpv.pvdata||[],e=this.options.context.etag||{};return e.cna&&(o.updateKey(t,"cna",e.cna),this.options.context.what_to_sendpv.pvdata=t),t},addTagParams:function(){var t=this.options.context.what_to_sendpv.pvdata||[],e=this.options.context.etag||{},n=[];!e.tag&&0!==e.tag||n.push(["tag",e.tag]),!e.stag&&0!==e.stag||n.push(["stag",e.stag]),!e.lstag&&0!==e.lstag||n.push(["lstag",e.lstag]),0<n.length&&(this.options.context.what_to_sendpv.pvdata=t.concat(n))},run:function(){this.updateBasicParams(),this.addTagParams()}}}},function(t,e,n){"use strict";function a(t){t=t||window.navigator.userAgent;var e=goldlog.getMetaInfo("aplus-toUT")+"",n=r.isAplusChnl(),t=(t=o.webviewIsAbove({version_ios_tb:[6,6,0],version_ios_tm:[5,28,0],version_android_tb:[6,6,2],version_android_tm:[5,32,0]},t))||(i.haveNativeFlagInUA()||"2"==e);return t=n&&"AliBCBridge"!==n.bridgeName?!!n.toUT2:t}var o=n(49),r=n(6),i=n(47);e.isToUT2=a,e.isEnable=function(t,e){var n=a(e),o=!0;switch(t){case"what_to_hjlj_ut2":case"do_sendhjlj_ut2":case"what_to_sendpv_ut2":case"do_sendpv_ut2":o=!!n;break;case"what_to_hjlj_ut":case"do_sendhjlj_ut":case"what_to_sendpv_ut":case"do_sendpv_ut":o=!n}return o}},function(t,e,n){"use strict";function u(t){for(var e,n,o=[],a={},r=t.length-1;0<=r;r--)(e=(n=t[r])[0])&&-1==e.indexOf(l.s_plain_obj)&&a.hasOwnProperty(e)||(n=n[1],"aplus"!=e&&!n||(o.unshift([e,n]),a[e]=1));return o}function c(t){for(var e,n,o=[],a={logtype:!0,cache:!0,scr:!0,"spm-cnt":!0},r=t.length-1;0<=r;r--)if(e=(n=t[r])[0],n=n[1],!(p.isStartWith(e,l.s_plain_obj)&&!p.isStartWith(e,l.mkPlainKeyForExparams())||a[e]))if(p.isStartWith(e,l.mkPlainKeyForExparams())){var i=l.param2arr(n);if("object"==typeof i&&0<i.length)for(var s=i.length-1;0<=s;s--){var u=i[s];u&&u[1]&&o.unshift([u[0],u[1]])}}else o.unshift([e,n]);return o}var l=n(23),p=n(15),g=n(32),d=n(35),f=n(56),o=n(47),h=n(33),m=n(11),_=n(17);t.exports=function(){return{init:function(t){this.options=t},keyIsAvailable:function(t){return-1===l.indexof(["functype","funcId","spm-cnt","spm-url","spm-pre","_ish5","_is_g2u","_h5url","cna","isonepage","lver","jsver"],t)},valIsAvailable:function(t){return"object"!=typeof t&&"function"!=typeof t},upUtData:function(t,e){if(t=t||{},e&&"object"==typeof e)for(var n in e){var o=e[n];n&&this.valIsAvailable(o)&&this.keyIsAvailable(n)&&(t[n]=o)}return t},getToUtData:function(t){var e=(g.getGoldlogVal("_$")||{}).spm||{},n=this.options.context||{},o=n.what_to_sendpv||{},a=c(u(o.exparams||[])),a=l.arr2obj(a),r=l.arr2obj(o.pvdata),i=c(u(n.userdata||[])),i=l.arr2obj(i),s=location.href,o={},n=f.getParamFromUrl("scm",s)||"";n&&(o.scm=n);n=f.getParamFromUrl("pg1stepk",s)||"";n&&(o.pg1stepk=n),(f.getParamFromUrl("point",s)||"")&&(o.issb=1),r&&r.mansndlog&&(o.mansndlog=r.mansndlog),o=this.upUtData(o,a);o=this.upUtData(o,i),a={isonepage:"-1",urlpagename:""},(i=h.qGet())&&i.hasOwnProperty("isonepage_data")?(a.isonepage=i.isonepage_data.isonepage,a.urlpagename=i.isonepage_data.urlpagename):(i=(d.getMetaCnt("isonepage")||"-1").split("|"),a.isonepage=i[0],a.urlpagename=i[1]||"");o.functype="page",o.funcId="2001",o.url=location.origin+location.pathname,o._ish5="1",o._h5url=s,o._toUT=2,o._bridgeName=t.bridgeName||"",o._bridgeVersion=t.bridgeVersion||"",o["spm-cnt"]=e.spm_cnt||"",o["spm-url"]=e.spm_url||"",o["spm-pre"]=e.spm_pre||"",o.cna=_.getCookie("cna"),o.lver=goldlog.lver||m.lver,o.jsver=m.script_name,o.pver=goldlog.aplus_cplugin_ver,o.isonepage=a.isonepage;a=goldlog.getMetaInfo("aplus-utparam");return a&&(o["utparam-cnt"]=JSON.stringify(a)),o},run:function(){var t=this.options.context||{},e=t.what_to_sendpv_ut2||{},t=((t.where_to_sendlog_ut||{}).aplusToUT||{}).toUT2||{};(t&&t.isAvailable&&"function"==typeof t.toUT2||o.haveNativeFlagInUA())&&(e.pvdataToUt=this.getToUtData(t),this.options.context.what_to_sendpv_ut2=e)}}}},function(t,e,n){"use strict";var o=n(32);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=o.getGoldlogVal("_$")||{},e=this.options.context.can_to_sendpv||{},n=t.send_pv_count||0;return(this.options.config||{}).is_auto&&0<n?"done":(e.flag="YES",this.options.context.can_to_sendpv=e,t.send_pv_count=++n,void o.setGoldlogVal("_$",t))}}}},function(t,e,n){"use strict";var o=n(32),a=n(23);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t,e=this.options.context||{};!e.is_single&&(t=e.what_to_sendpv||{},e=e.where_to_sendpv||{},t=t.pvdata||[],"WS-ONLY"!==goldlog.getMetaInfo("aplus-channel")&&(t=goldlog.send(e.url,a.arr2obj(t)),o.setGoldlogVal("req",t)))}}}},function(t,e,n){"use strict";var o=n(7),a=n(32);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t=goldlog._$||{},e=this.options.context||{};a.setGoldlogVal("pv_context",e);var n=(goldlog.spm_ab||[]).join("."),t=t.send_pv_count,t={cna:e.etag.cna,count:t,spmab_pre:goldlog.spmab_pre};o.doPubMsg(["sendPV","complete",n,t]),o.doCachePubs(["sendPV","complete",n,t])}}}},function(t,e){"use strict";e.plugins_prepv=[]},function(t,e,n){"use strict";function o(){var t="//gm.mmstat.com/";return{where_to_hjlj:{url:t=(r.getGoldlogVal("_$")||{}).is_terminal?"//wgo.mmstat.com/":t,ac_atpanel:"//ac.mmstat.com/",tblogUrl:"//log.mmstat.com/"}}}var a=n(15),r=n(32),i=n(65);t.exports=function(){return a.assign(new i,new o)}},function(t,e,n){"use strict";var o=n(17);t.exports=function(){return{compose:{},basic_params:{cna:o.getCookie("cna")},where_to_hjlj:{url:"//gm.mmstat.com/",ac_atpanel:"//ac.mmstat.com/",tblogUrl:"//log.mmstat.com/"},userdata:{},what_to_hjlj:{logdata:{}},what_to_pvhash:{hash:[]},what_to_hjlj_exinfo:{EXPARAMS_FLAG:"EXPARAMS",exinfo:[],exparams_key_names:["uidaplus","pc_i","pu_i"]},what_to_hjlj_ut:{logdataToUT:{}},what_to_hjlj_ut2:{isSuccess:!1,logdataToUT:{}},where_to_sendlog_ut:{aplusToUT:{},toUTName:"toUT"},network:{connType:"UNKNOWN"},is_single:!1}}},function(t,e,n){"use strict";e.plugins_hjlj=[{name:"where_to_sendlog_ut",enable:!0,path:n(45)},{name:"is_single",enable:!0,path:n(46)},{name:"what_to_hjlj_exinfo",enable:!0,path:n(67)},{name:"what_to_pvhash",enable:!0,path:n(50)},{name:"what_to_hjlj",enable:!0,path:n(68),deps:["what_to_hjlj_exinfo","what_to_pvhash"]},{name:"what_to_hjlj_ut2",enable:n(58),path:n(69),deps:["is_single","what_to_hjlj_exinfo"]},{name:"where_to_hjlj",enable:!0,path:n(70),deps:["what_to_hjlj"]},{name:"do_sendhjlj",enable:!0,path:n(71),deps:["what_to_hjlj","where_to_hjlj"]}]},function(t,e,n){"use strict";var u=n(23),c=n(37),r=n(32),i=n(32),l=n(30),o=n(17);t.exports=function(){return{init:function(t){this.options=t},getCookieUserInfo:function(){var t=[],e=o.getCookie("workno")||o.getCookie("emplId");return e&&t.push("workno="+e),o.getHng()&&t.push("_hng="+o.getHng()),t},filterExinfo:function(t){var e="";try{t&&("string"==typeof t?e=t.replace(/&amp;/g,"&").replace(/\buserid=/,"uidaplus=").replace(/&aplus&/,"&"):"object"==typeof t&&(e=u.obj2param(t,!0)))}catch(t){e=t.message||""}return e},getExparamsFlag:function(){return((this.options.context||{}).what_to_hjlj_exinfo||{}).EXPARAMS_FLAG||"EXPARAMS"},getCustomExParams:function(t){var e="";return(e=t!==this.getExparamsFlag()?this.filterExinfo(t)||"":e)?e.split("&"):[]},getBeaconExparams:function(t,e){for(var n=[],o=(o=c.getExParams(u)||"").replace(/&aplus&/,"&"),a=u.param2arr(o)||[],r=0;r<a.length;r++){var i=a[r],s=i[0]||"",i=i[1]||"";s&&i&&(e===this.getExparamsFlag()||-1<l.indexof(t,s))&&n.push(s+"="+i)}return n},getExinfo:function(t){var e=((this.options.context||{}).what_to_hjlj_exinfo||{}).exparams_key_names||[];return this.getBeaconExparams(e,t)},getExData:function(t){var e=[];if("object"==typeof t)for(var n in t){var o=t[n];n&&o&&"object"!=typeof o&&"function"!=typeof o&&e.push(n+"="+o)}return e},doConcatArr:function(t,e){return t=e&&0<e.length?t.concat(e):t},run:function(){try{var t=this.options.context.what_to_hjlj_exinfo||{},e=(r.getGoldlogVal("_$")||{}).meta_info||{},n=e["aplus-exinfo"]||"",o=e["aplus-exdata"]||"",a=[],a=this.doConcatArr(a,t.exinfo||[]);a=this.doConcatArr(a,this.getExinfo(n)),a=this.doConcatArr(a,this.getCookieUserInfo()),a=this.doConcatArr(a,this.getCustomExParams(n)),a=this.doConcatArr(a,this.getExData(o)),t.exinfo=a.join("&"),this.options.context.what_to_hjlj_exinfo=t}catch(t){i.logger({msg:t?t.message:""})}}}}},function(t,e,n){"use strict";var u=n(37),c=n(23),l=n(15),p=n(11);t.exports=function(){return{init:function(t){this.options=t},getParams:function(){var t=this.options.context||{},e=t.userdata||{},n=t.basic_params||{},o=(t.what_to_hjlj_exinfo||{}).exinfo||"";e.gokey&&o&&0!==o.indexOf("&")&&(o="&"+o);var a=n.cna,r=e.gmkey,n=e.gokey||"";n+=o;o=(t.what_to_pvhash||{}).hash||[];o.length&&(n+="&"+o.join("=")),n+="&jsver="+p.script_name,n+="&lver="+p.lver,n+="&pver="+goldlog.aplus_cplugin_ver;a={gmkey:r||"",gokey:n+="&cache="+l.makeCacheNum(),cna:a};e["spm-cnt"]&&(a["spm-cnt"]=e["spm-cnt"]),e["spm-pre"]&&(a["spm-pre"]=e["spm-pre"]);try{var i=u.getExParams(c),s=c.param2obj(i).uidaplus;s&&(a._gr_uid_=s)}catch(t){}return a},run:function(){this.options.context.what_to_hjlj.logdata=this.getParams()}}}},function(t,e,n){"use strict";var s=n(48),u=n(32),c=n(11);t.exports=function(){return{init:function(t){this.options=t},getToUtData:function(t,e){var n=(u.getGoldlogVal("_$")||{}).spm||{},o=this.options.context.userdata||{},a=this.options.context.basic_params||{},r=((this.options.context||{}).what_to_hjlj_exinfo||{}).exinfo||"";o.gokey&&r&&0!==r.indexOf("&")&&(r="&"+r);var i=o.gokey+r,r={functype:"ctrl"};r.funcId=s.getFunctypeValue2({logkey:o.logkey,gmkey:o.gmkey,spm_ab:u.getGoldlogVal("spm_ab")}),r.url=location.origin+location.pathname,r.logkey=o.logkey,r.gokey=encodeURIComponent(i),r.gmkey=o.gmkey,r._ish5="1",r._h5url=location.href,t&&(r._is_g2u_=1),r._toUT=2,r._bridgeName=e.bridgeName||"",r._bridgeVersion=e.bridgeVersion||"",r["spm-cnt"]=n.spm_cnt||"",r["spm-url"]=n.spm_url||"",r["spm-pre"]=n.spm_pre||"",r.cna=a.cna,r.lver=c.lver,r.jsver=c.script_name,o.hasOwnProperty("autosend")&&(r.autosend=o.autosend);o=goldlog.getMetaInfo("aplus-utparam");return o&&(r["utparam-cnt"]=JSON.stringify(o)),r},run:function(){var t=this.options.context||{},e=t.what_to_hjlj_ut2||{},n=!!t.is_single,t=((t.where_to_sendlog_ut||{}).aplusToUT||{}).toUT2||{};e.logdataToUT=this.getToUtData(n,t),this.options.context.what_to_hjlj_ut2=e}}}},function(t,e,n){"use strict";var o=n(23),s=n(15),u=n(32),a=n(29),r=n(33);t.exports=function(){return{init:function(t){this.options=t},getMetaInfo:function(){return(u.getGoldlogVal("_$")||{}).meta_info||r.getInfo()},getAplusMetaByKey:function(t){return(this.getMetaInfo()||{})[t]},cramUrl:function(t){var e=(u.getGoldlogVal("_$")||{}).spm||{},n=this.options.context.where_to_hjlj||{},o=n.ac_atpanel,a=n.tblogUrl,r=this.options.context.what_to_hjlj||{},i=!0,n=(this.options.context.userdata||{}).logkey;if(!n)return{url:t,logkey_available:!1};if("ac"==n)t=o+"1.gif";else if(s.isStartWith(n,"ac-"))t=o+n.substr(3);else if(s.isStartWith(n,"/")){t+=n.substr(1);o=r.logdata||{};o["spm-cnt"]=e.spm_cnt,o.logtype=2;try{r.logdata=o,this.options.context.what_to_hjlj=r}catch(t){}}else s.isEndWith(n,".gif")?t=a+n:i=!1;return{url:t,logkey_available:i}},can_to_sendhjlj:function(t){var e=(this.options.context||{}).logger||function(){},n=this.options.context.userdata||{};return!!t.logkey_available||(e({msg:"logkey: "+n.logkey+" is not legal!"}),!1)},run:function(){if(!!!this.options.context.is_single){var t=o.filterIntUrl(this.options.context.where_to_hjlj.url),e=this.getAplusMetaByKey("aplus-rhost-g"),n=e&&o.hostValidity(e);n&&(t=(/^\/\//.test(e)?"":"//")+e+(/\/$/.test(e)?"":"/")),e&&!n&&a.logger({msg:"aplus-rhost-g: "+e+' is invalid, suggestion: "xxx.mmstat.com"'});t=this.cramUrl(t);return this.can_to_sendhjlj(t)?void(this.options.context.where_to_hjlj.url=t.url):"done"}}}}},function(t,e,n){"use strict";var a=n(32);t.exports=function(){return{init:function(t){this.options=t},run:function(){var t,e,n=this.options.context||{},o=this.options.config||{};!n.is_single&&(t=n.logger||{},e=n.what_to_hjlj||{},n=n.where_to_hjlj||{},e=e.logdata||{},n.url||""||"function"!=typeof t||t({msg:"warning: where_to_hjlj.url is null, goldlog.record failed!"}),"WS-ONLY"!==goldlog.getMetaInfo("aplus-channel")&&(o=goldlog.send(n.url,e,o.method||"GET"),a.setGoldlogVal("req",o)))}}}},function(t,e,n){"use strict";var o=n(73),r=n(9).nameStorage,i=n(11),s=n(8),u="https:"==location.protocol,c=parent!==self;e.run=function(){o.on(window,"beforeunload",function(){var t,e,n,o,a;a=(i.KEY||{}).NAME_STORAGE||{},!c&&u&&(o=location.href,e=u&&(0<=o.indexOf("login.taobao.com")||0<=o.indexOf("login.tmall.com")),n=s.getRefer(),o=e&&n?(t=n,r.getItem(a.REFERRER_PV_ID)):(t=o,goldlog.pvid),r.setItem(a.REFERRER,t),r.setItem(a.REFERRER_PV_ID,o))})}},function(t,e,n){"use strict";function u(t){function e(){0===o&&t(),o++}var n,o=0;if("complete"===r.readyState&&e(),r.addEventListener)n=function(){r.removeEventListener("DOMContentLoaded",n,!1),e()},r.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",e,!1);else if(r.attachEvent){n=function(){"complete"===r.readyState&&(r.detachEvent("onreadystatechange",n),e())},r.attachEvent("onreadystatechange",n),window.attachEvent("onload",e);var a=!1;try{a=null===window.frameElement}catch(t){}r.documentElement.doScroll&&a&&function e(n){try{r.documentElement.doScroll("left")}catch(t){return setTimeout(function(){e(n)},1),0}n()}(e)}}function c(t){"complete"===r.readyState?t():l(d,"load",t)}function l(){var t,e,n,o,a,r,i,s=arguments;2===s.length?("DOMReady"===s[0]&&u(s[1]),"onload"===s[0]&&c(s[1])):3===s.length&&(t=s[0],n=s[2],"tap"===(e=s[1])||"tapSpm"===e?(o=t,a=n,r=e,s=(i=(goldlog._$||{}).meta_info||{}).aplus_ctap||{},i=i["aplus-touch"],s&&"function"==typeof s.on?s.on(o,a):!(s="ontouchend"in document.createElement("div"))||"tap"!==i&&"tapSpm"!==r?l(o,s?"touchstart":"mousedown",a):g.on(o,a)):t[h]((f?"on":"")+e,function(t){var e=(t=t||d.event).target||t.srcElement;"function"==typeof n&&n(t,e)},!!p(e)&&{passive:!0}))}var p=n(74),g=n(75),d=window,r=document,f=!!r.attachEvent,h=f?"attachEvent":"addEventListener";e.DOMReady=u,e.onload=c,e.on=l},function(t,e){var n;t.exports=function(t){if("boolean"==typeof n)return n;if(!/touch|mouse|scroll|wheel/i.test(t))return!1;n=!1;try{var e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,e)}catch(t){}return n}},function(t,e){"use strict";function o(t){0===Object.keys(l).length&&(c.addEventListener(d,i,!1),c.addEventListener(g,s,!1),c.addEventListener(h,s,!1));for(var e=0;e<t.changedTouches.length;e++){var n,o=t.changedTouches[e],a={};for(n in o)a[n]=o[n];var r={startTouch:a,startTime:Date.now(),status:f,element:t.srcElement||t.target};l[o.identifier]=r}}function i(t){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=l[n.identifier];if(!o)return;var a=n.clientX-o.startTouch.clientX,n=n.clientY-o.startTouch.clientY,n=Math.sqrt(Math.pow(a,2)+Math.pow(n,2));(o.status===f||"pressing"===o.status)&&10<n&&(o.status="panning")}}function s(t){for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],o=n.identifier,a=l[o];a&&(a.status===f&&t.type===g&&(a.timestamp=Date.now(),function(t,e,n){var o=u.createEvent("HTMLEvents");if(o.initEvent(e,!0,!0),"object"==typeof n)for(var a in n)o[a]=n[a];t.dispatchEvent(o)}(a.element,m,{touch:n,touchEvent:t})),delete l[o])}0===Object.keys(l).length&&(c.removeEventListener(d,i,!1),c.removeEventListener(g,s,!1),c.removeEventListener(h,s,!1))}var n,a,r=!1,u=window.document,c=u.documentElement,l={},p="touchstart",g="touchend",d="touchmove",f="tapping",h="touchcancel",m="aplus_tap"+(a=1e5,(n=1)+Math.floor(Math.random()*(a-n+1)));t.exports={on:function(t,e){var n;r||(c.addEventListener(p,o,!1),r=!0),t&&t.addEventListener&&e&&((n=t).__fixTouchEvent||(n.addEventListener(p,function(){},!1),n.__fixTouchEvent=!0),t.addEventListener(m,e._aplus_tap_callback=function(t){e(t,t.target)},!1))},un:function(t,e){t&&t.removeEventListener&&e&&e._aplus_tap_callback&&t.removeEventListener(m,e._aplus_tap_callback,!1)}}},function(t,e,n){"use strict";n=n(77);e.run=function(){},e.init_watchGoldlogQueue=n.init_watchGoldlogQueue},function(t,e,n){"use strict";function a(t,e){for(var n,o,a={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]};n=t.shift();)try{var r=n.action,i=n.arguments[0];(/subscribe/.test(r)?"setMetaInfo"===i?a.subscribeMetaQueue:"mw_change_pv"===i||"mw_change_hjlj"===i?a.subscribeMwChangeQueue:a.subscribeQueue:/MetaInfo/.test(r)?a.metaQueue:a.othersQueue).push(n)}catch(t){a.othersQueue.push(n),l.do_tracker_jserror({message:t&&t.message,error:encodeURIComponent(t.stack),filename:"getFormatQueue"})}return e&&a[e]&&(o=a[e],a[e]=[]),{queue:a.subscribeMwChangeQueue.concat(a.metaQueue).concat(a.subscribeQueue).concat(a.subscribeMetaQueue,a.othersQueue),formatQueue:o}}function r(t,e){var n=t?t.action:"",o=t?t.arguments:"";try{if(n&&o&&u.isArray(o)){var a=n.split("."),r=s,i=s;if(3===a.length)i=(r=s[a[0]][a[1]]||{})[a[2]]||"";else for(;a.length;)if(i=r=r[a.shift()],!r)return"function"==typeof e?e(t):g(n,t),0;"function"==typeof i&&i.apply(r,o)}else g(n,t)}catch(e){g(n,t,e.message)}}function o(o){try{!function(){if(o&&u.isArray(o)&&o.length){for(var t=a(o).queue,e={},n=[];e=t.shift();)r(e,function(t){n.push(t)});0<n.length&&setTimeout(function(){for(;e=n.shift();)r(e)},100)}}()}catch(o){l.do_tracker_jserror({message:o&&o.message,error:encodeURIComponent(o.stack),filename:"processGoldlogQueue"})}}var s=window,u=n(15),i=n(4),c=n(78),l=n(79),p="goldlog_queue",g=function(t,e,n){try{/_aplus_cplugin_track_deb/.test(t)||/_aplus_cplugin_m/.test(t)||l.do_tracker_jserror({message:n||'illegal task: goldlog_queue.push("'+JSON.stringify(e)+'")',error:JSON.stringify(e),filename:"processTask"})}catch(t){}};e.processGoldlogQueue=o;var d=i.extend({push:function(t){this.length++,r(t)}});e.init_watchGoldlogQueue=function(t){try{var e,n=s[p]||[];t?(e=a(n,t),s[p]=e.queue,o(e.formatQueue)):(s[p]=d.create({startLength:n.length,length:0}),c.init_loadAplusPlugin(),o(n))}catch(t){l.do_tracker_jserror({message:t&&t.message,error:encodeURIComponent(t.stack),filename:"init_watchGoldlogQueue"})}}},function(t,e,n){"use strict";function o(t,e){var n={aplus_ae_path:(o=goldlog.getCdnPath()+"/alilog/s/"+i.lver+"/plugin/")+"aplus_ae.js",aplus_ac_path:o+"aplus_ac.js"},o=goldlog&&goldlog.getMetaInfo?goldlog.getMetaInfo(t):"",e=e||o||r.getMetaCnt(t);(o={})[u]=n.aplus_ae_path,o[c]=n.aplus_ac_path,e&&o[t]&&!s[t]&&(a.addScript(o[t]),s[t]=!0)}var a=n(37),r=n(35),i=n(12),s={},u="aplus-auto-exp",c="aplus-auto-clk";e.init_loadAplusPlugin=function(){try{goldlog._aplus_auto_exp||o(u),goldlog._aplus_ac||o(c),goldlog.aplus_pubsub.subscribe("setMetaInfo",function(t,e){t!==u||goldlog._aplus_auto_exp||o(t,e),t!==c||goldlog._aplus_ac||o(t,e)})}catch(t){}}},function(t,e){"use strict";function o(t,e){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog._aplus_cplugin_track_deb.monitor",arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName="+e+",params="+JSON.stringify(t)],type:"updateMsg",description:e||"aplus_core"}]})}function a(t,e,n){(window.goldlog_queue||(window.goldlog_queue=[])).push({action:["goldlog","_aplus_cplugin_m",e].join("."),arguments:[t,n]})}e.do_tracker_jserror=function(t,e){var n="do_tracker_jserror";a(t,n,e),o(t,n)},e.do_tracker_obsolete_inter=function(t,e){var n="do_tracker_obsolete_inter";a(t,n,e),o(t,n)},e.wrap=function(t){if("function"==typeof t)try{t()}catch(t){o({msg:t.message||t},"exception")}}},function(t,e){"use strict";e.is_exception=!1},function(t,e,o){"use strict";function i(){(function(){for(var t,e,n=s.getElementsByTagName("meta"),o=0,a=n.length;o<a;o++)if("data-spm"===(e=(t=n[o]).getAttribute("name"))||"spm-id"===e)return t}()||function(){var t=s.createElement("meta");t.setAttribute("name","data-spm");var e=s.getElementsByTagName("head")[0];return e&&e.insertBefore(t,e.firstChild),t}()).setAttribute("content",goldlog.spm_ab[0]||"");var t=s.getElementsByTagName("body")[0];t&&t.setAttribute("data-spm",goldlog.spm_ab[1]||"")}var a=window,s=document,n=o(4),r=o(23),u=o(73),c=o(29),l=o(7),p=o(15),g=o(32),d=o(27),f=o(6),h=o(55),m=o(33),_=m.getInfo(),v=o(11),b=o(79),y=o(82),w=o(17),x=o(85),T=o(87),j=c.isDebugAplus(),P=[],A=[],S=[],E=[];e.run=n.extend({getCdnPath:function(){var t=s.getElementById("beacon-aplus")||s.getElementById("tb-beacon-aplus"),e="//g.alicdn.com",n=["//assets.alicdn.com/g","//g-assets.daily.taobao.net"];if(t)for(var o=0;o<n.length;o++)if(new RegExp(n[o]).test(t.src)){e=n[o];break}return e},isInternational:function(){return this.cdnPath||(this.cdnPath=this.getCdnPath()),"//assets.alicdn.com/g"===this.cdnPath||"//laz-g-cdn.alicdn.com"===this.cdnPath||"int"===this.getMetaInfo("aplus-env")},getCookie:function(t){return w.getCookie(t)},getParam:function(t){var e=a.WindVane||{},n=f.isAplusChnl(),o="";n&&"object"==typeof n&&(o=n.bridgeName||"customBridge");n=e.getParam?"WindVane":o,o=e&&"function"==typeof e.getParam?e.getParam(t):"",e=goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0",t="sid="+t+"@valueIsEmpty="+!o;return n&&(t+="_bridgeName="+n),b.do_tracker_obsolete_inter({ratio:j?1:.01,page:location.hostname+location.pathname,spm_ab:e,interface_name:"goldlog.getParam",interface_params:t}),o},beforeSendPV:function(t){P.push(t)},afterSendPV:function(t){A.push(t)},send:function(t,e,n){return 0===t.indexOf("//")&&(t=d.getProtocal()+t),"POST"===n&&navigator&&navigator.sendBeacon?T.postData(t,e):T.sendImg(r.makeUrl(t,e),function(){var t=5e3;try{var e,n=goldlog.getMetaInfo("aplus-mmstat-timeout");!n||1e3<=(e=parseInt(n))&&e<=1e4&&(t=e)}catch(t){}return t}())},launch:function(t,e){try{e=p.assign(e,t);var n=goldlog._$._sendPV(e,t),o=goldlog.spm_ab?goldlog.spm_ab.join("."):"0.0";b.do_tracker_obsolete_inter({page:location.hostname+location.pathname,spm_ab:o,interface_name:"goldlog.launch",interface_params:"userdata = "+JSON.stringify(t)+", config = "+JSON.stringify(e)})}catch(t){}finally{return c.logger({msg:"warning: This interface is deprecated, please use goldlog.sendPV instead! API: http://log.alibaba-inc.com/log/info.htm?type=2277&id=31"}),n}},_$:{_sendPV:function(e,t){if(e=e||{},p.any(P,function(t){return!1===t(goldlog,e)}))return!1;var n=new(o(88).SendPV);return void 0===e.recordType&&(e.recordType=v.recordTypes.pv),n.run(e,t,{fn_after_pv:A}),!0},_sendPseudo:function(t,e){t=t||{};var n=new(o(89).SendPrePV);return void 0===t.recordType&&(t.recordType=v.recordTypes.prepv),n.run(t,e,{},function(){l.doPubMsg(["sendPrePV","complete"])}),!0}},sendPV:function(t,e){return e=e||{},goldlog._$._sendPV(t,e)},beforeRecord:function(t){S.push(t)},afterRecord:function(t){E.push(t)},record:function(t,e,n,o,a){if(!p.any(S,function(t){return!1===t(goldlog)}))return y.run({recordType:v.recordTypes.hjlj,method:o="POST"!==o&&"WS"!==o&&"WS-ONLY"!==o?"GET":o},{logkey:t,gmkey:e,gokey:n},{fn_after_record:E},function(){"function"==typeof a&&a()}),!0},recordUdata:function(t,e,n,o,a){var r=(g.getGoldlogVal("_$")||{}).spm||{};y.run({ignore_chksum:!0,method:o="POST"!==o&&"WS"!==o&&"WS-ONLY"!==o?"GET":o,recordType:v.recordTypes.uhjlj},{logkey:t,gmkey:e,gokey:n,"spm-cnt":r.spm_cnt,"spm-pre":r.spm_pre},{},function(){p.isFunction(a)&&a()})},setPageSPM:function(t,e,n){var o=goldlog.getMetaInfo("aplus-spm-fixed"),a="function"==typeof n?n:function(){};goldlog.spm_ab=goldlog.spm_ab||[];n=p.cloneObj(goldlog.spm_ab);t&&(goldlog.spm_ab[0]=""+t,goldlog._$.spm.data.a=""+t),e&&(goldlog.spm_ab[1]=""+e,goldlog._$.spm.data.b=""+e),h.spaInit(goldlog,_,n),"1"!==o&&(r=n.join("."),goldlog.spmab_pre=r);var r=goldlog.spm_ab.join(".");l.doPubMsg(["setPageSPM",{spmab_pre:goldlog.spmab_pre,spmab:r}]),l.doCachePubs(["setPageSPM",{spmab_pre:goldlog.spmab_pre,spmab:r}]),i(),function(){for(var t,e=s.getElementsByTagName("*"),n=0,o=e.length;n<o;n++)(t=e[n]).getAttribute("data-spm-max-idx")&&t.setAttribute("data-spm-max-idx",""),t.getAttribute("data-spm-anchor-id")&&t.setAttribute("data-spm-anchor-id","")}(),a()},setMetaInfo:function(t,e,n){if(m.setMetaInfo(t,e)){var o=g.getGoldlogVal("_$")||{};o.meta_info=m.qGet();var a=g.setGoldlogVal("_$",o),o=x.isDisablePvid()+"";return"aplus-disable-pvid"===t&&o!=e+""&&h.resetSpmCntPvid(),l.doPubMsg(["setMetaInfo",t,e,n]),l.doCachePubs(["setMetaInfo",t,e,n]),a}},appendMetaInfo:m.appendMetaInfo,getMetaInfo:function(t){return m.getMetaInfo(t)},on:u.on,cloneDeep:p.cloneDeep,getPvId:x.getPvId})},function(t,e,n){"use strict";var s=n(15),u=n(32),c=n(7),l=n(29),p=n(83),g=n(84),d=n(11);e.run=function(t,e,n,o){var a=new g;a.init({middleware:[],config:t,plugins:d.plugins_hjlj});var r=a.run(),a=new d.context_hjlj;a.userdata=e,a.logger=l.logger;var i={context:a,pubsub:u.getGoldlogVal("aplus_pubsub"),pubsubType:"hjlj"},a=new p;a.create(i),a.wrap(r,function(){i.context.status="complete",i.context.method=t.method,c.doPubMsg(["mw_change_hjlj",i.context]),n&&n.fn_after_record&&s.each(n.fn_after_record,function(t){t(window.goldlog)}),"function"==typeof o&&o()})()}},function(t,e,n){"use strict";function o(){}var d=n(30),f=n(28),h=n(29),m=n(79),_=n(17);o.prototype.create=function(t){for(var e in t)void 0===this[e]&&(this[e]=t[e]);return this},o.prototype.pubsubInfo=function(t,e){try{t&&t.pubsub&&t.pubsub.publish("mw_change_"+t.pubsubType,t.context,e)}catch(t){}},o.prototype.calledList=[],o.prototype.setCalledList=function(t){-1===d.indexof(this.calledList,t)&&this.calledList.push(t)},o.prototype.resetCalledList=function(){this.calledList=[]},o.prototype.wrap=function(c,l){var p=this,g=((this.context||{}).compose||{}).maxTimeout||1e4;return function(o){function a(){if(p.pubsubInfo(p,c[s]),s===i)return o="done",p.resetCalledList(),"function"==typeof l&&l.call(p,o),void clearTimeout(r);if(-1===d.indexof(p.calledList,s)){if(p.setCalledList(s),!c[s]||"function"!=typeof c[s][0])return;try{o=c[s][0].call(p,o,function(){s++,u=1,clearTimeout(r),a()})}catch(t){m.do_tracker_jserror({message:t?t.message:"compose middleware error",error:encodeURIComponent(t.stack),filename:c[s][1]})}}var e,n,t="number"==typeof o;"pause"===o||t?(u=0,e=t?o:g,n=c[s]?c[s][1]:"",r=f.sleep(e,function(){var t;0===u&&(h.logger({msg:t="jump the middleware about "+n+", because waiting timeout maxTimeout = "+e+"ms!"}),(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog._aplus_cplugin_m.do_tracker_browser_support",arguments:[{msg:t,spmab:goldlog.spm_ab,page:location.href,etag:p.context?JSON.stringify(p.context.etag):"",cna:document.cookie?_.getCookie("cna"):""}]}),o=null,s++,a())})):("done"===o?s=i:s++,a())}var r,i=c.length,s=0,u=0;return p.calledList&&0<p.calledList.length&&p.resetCalledList(),a()}},t.exports=o},function(t,e,n){"use strict";var a=n(30);t.exports=function(){return{init:function(t){(this.opts=t)&&"object"==typeof t.middleware&&0<t.middleware.length?this.middleware=t.middleware:this.middleware=[],this.plugins_name=[]},pubsubInfo:function(t,e){try{var n=t.pubsub;n&&n.publish("plugins_change_"+t.pubsubType,e)}catch(t){}},checkPluginLoader:function(t,e){var n=!0;if("object"==typeof e.enable&&"function"==typeof e.enable.isEnable?n=e.enable.isEnable(e.name):"boolean"==typeof e.enable&&(n=!!e.enable),!n)return!1;if(n&&e.deps&&0<e.deps.length)for(var o=0;o<e.deps.length;o++)if(-1===a.indexof(this.plugins_name,e.deps[o]))return!1;return!0},run:function(t){t=t||0;var o=this,e=this.middleware,a=this.opts||{},n=a.plugins;if(n&&"object"==typeof n&&0<n.length){var r=n[t];if(this.checkPluginLoader(n,r)&&(this.plugins_name.push(r.name),e.push([function(t,e){o.pubsubInfo(this,r);var n=new r.path;return n.init({context:this.context,config:a.config}),n.run(t,e)},r.name])),n[++t])return this.run(t)}else window.console&&console.log("aplus plugins "+JSON.stringify(n)+" must be object of array!");return e}}}},function(t,e,n){"use strict";function o(){var t="true"===u.disablePvid;try{var e=goldlog.getMetaInfo("aplus-disable-pvid")+"";"true"==e?t=!0:"false"==e&&(t=!1)}catch(t){}return t}function a(t,e,n){return t?i.hash(encodeURIComponent(t)).substr(0,e):n}function r(){var t=function(t){function e(t){return 1==t?"0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):2==t?"0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ".substr(Math.floor(60*Math.random()),1):"0"}for(var n,o="",a=!1;o.length<t;)n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(62*Math.random()),1),!a&&o.length<=2&&("g"==n.toLowerCase()||"l"==n.toLowerCase())&&(0===o.length&&"g"==n.toLowerCase()?Math.random()<.5&&(n=e(1),a=!0):1==o.length&&"l"==n.toLowerCase()&&"g"==o.charAt(0).toLowerCase()&&(n=e(2),a=!0)),o+=n;return o}(8),e=t.substr(0,4),t=t.substr(0,6);return[a(location.href,4,e),a(document.title,4,e),t].join("")}var i=n(86),s=n(7),u=n(11);e.isDisablePvid=o,e.makePVId=function(){var t=goldlog.pvid;return goldlog.pvid=r(),s.doPubMsg(["pvidChange",{pre_pvid:t,pvid:goldlog.pvid}]),s.doCachePubs(["pvidChange",{pre_pvid:t,pvid:goldlog.pvid}]),o()?"":goldlog.pvid},e.getPvId=function(){return o()?"":goldlog.pvid}},function(t,e){"use strict";e.hash=function(t,e){for(var n=e||1315423911,o=t.length-1;0<=o;o--)n^=(n<<5)+t.charCodeAt(o)+(n>>2);return(2147483647&n).toString(16)}},function(t,e){"use strict";var r=window;e.sendImg=function(t,e){var n=new Image,o="_img_"+Math.random();r[o]=n;function a(){if(r[o])try{delete r[o]}catch(t){r[o]=void 0}}return n.onload=function(){a()},n.onerror=function(){a()},setTimeout(function(){window[o]&&(window[o].src="",a())},e||1e4),n.src=t,n=null,t},e.postData=function(t,e){for(var n in e)"cna"!==n&&(e[n]=encodeURIComponent(e[n]));return navigator.sendBeacon(t,JSON.stringify(e)),t}},function(t,e,n){"use strict";var i=n(15),s=n(32),u=n(7),c=n(29),l=n(83),p=n(84),g=n(11),n=function(){};n.prototype.run=function(e,t,n){var o=new p;o.init({middleware:[],config:e,plugins:g.plugins_pv});var a=o.run(),o=new g.context;o.userdata=t,o.logger=c.logger;var r={context:o,pubsub:s.getGoldlogVal("aplus_pubsub"),pubsubType:"pv"},o=new l;o.create(r),o.wrap(a,function(){var t=r.context.can_to_sendpv||{};r.context.status="YES"===t.flag?"complete":"skip",r.context.method=e.method||"GET",u.doPubMsg(["mw_change_pv",r.context]),n&&n.fn_after_record&&i.each(n.fn_after_pv,function(t){t(window.goldlog,e)})})()},e.SendPV=n},function(t,e,n){"use strict";var s=n(15),u=n(32),c=n(7),l=n(29),p=n(83),g=n(84),d=n(11),n=function(){};n.prototype.run=function(e,t,n,o){var a=new g;a.init({middleware:[],config:e,plugins:d.plugins_prepv});var a=a.run(),r=new d.context_prepv;r.userdata=t,r.logger=l.logger;var i={context:r,pubsub:u.getGoldlogVal("aplus_pubsub"),pubsubType:"prepv"},t=new p;t.create(i),t.wrap(a,function(){i.context.status="complete",c.doPubMsg(["mw_change_prepv",i.context]),n&&n.fn_after_record&&s.each(n.fn_after_pv,function(t){t(window.goldlog,e)}),u.setGoldlogVal("prepv_context",r),"function"==typeof o&&o()})()},e.SendPrePV=n},function(t,e,n){"use strict";var o=n(7);t.exports=function(e){(new(n(91).AplusInit)).run({},function(t){o.doPubMsg(["aplusInitContext",t]),o.doCachePubs(["aplusInitContext",t]),"function"==typeof e&&e()})}},function(t,e,n){"use strict";var a=n(32),r=n(29),i=n(83),s=n(84),u=n(11),n=function(){};n.prototype.run=function(t,e){var n=new s;n.init({middleware:[],config:t,plugins:u.aplus_init});t=n.run(),n=new u.context;n.logger=r.logger;var o={context:n,pubsub:a.getGoldlogVal("aplus_pubsub"),pubsubType:"aplusinit"},n=new i;n.create(o),n.wrap(t,function(){"function"==typeof e&&e(o.context)})()},e.AplusInit=n},function(t,e,u){"use strict";!function(){function e(){n=!0;var t=window.g_SPM||{};o.isFunction(t.getParam)||o.isFunction(t.spm)||a.run()}var n,o=u(15),t=u(32),a=u(93),r=window.goldlog||(window.goldlog={});r.aplus_pubsub&&"function"==typeof r.aplus_pubsub.publish&&r.aplus_pubsub.subscribe("goldlogReady",function(t){"complete"!==t||n||e()});function i(){n||("complete"===(t.getGoldlogVal("_$")||{}).status?e():s<50&&(++s,setTimeout(function(){i()},200)))}var s=0;i()}()},function(t,e,n){"use strict";var o=n(37),a=n(32),r=n(94),i=n(98),s=n(99),u=n(100),c=n(101);e.run=function(){var t=a.getGoldlogVal("_$")||{},e=t.meta_info["aplus-touch"],t={isTouchEnabled:o.isTouch()||"1"===e||"tap"===e,isTerminal:t.is_terminal||/WindVane/i.test(navigator.userAgent)};window.g_SPM={spm_d_for_ad:{},resetModule:r.spm_resetModule,anchorBeacon:r.spm_spmAnchorChk,getParam:r.spm_getSPMParam,spm:r.spm_forwap},i.run(t),s.run(t),u.run(t),c.run(t)}},function(t,e,n){"use strict";function a(t,e){var n,o=r.tryToGetAttribute(t,u);o&&s.spm_isSPMAnchorIdMatch(o)?s.spm_anchorEnsureSPMId_inHref(t,o,e):(n=(o=s.spm_spmGetParentSPMId(t.parentNode)).spm_c)?(s.spm_initSPMModule(o.el,n,e),s.spm_initSPMModule(o.el,n,e,!0)):s.spm_dealNoneSPMLink(t,e)}function o(t){var e=t.tagName,n="A"!==e&&"AREA"!==e?s.spm_getParamForAD(t):(a(t,!0),r.tryToGetAttribute(t,u));n=n||"0.0.0.0";var o=goldlog.getPvId();4===n.split(".").length&&o&&(n+="."+o),"A"!==e&&"AREA"!==e&&r.tryToSetAttribute(t,u,n);t={a:(n=n.split("."))[0],b:n[1],c:n[2],d:n[3]};return n[4]&&(t.e=n[4]),t}var r=n(34),i=n(24),s=n(95),u="data-spm-anchor-id";e.spm_resetModule=function(t){if(t&&1===t.nodeType){r.tryToRemoveAttribute(t,"data-spm-max-idx"),r.tryToRemoveAttribute(t,"data-auto-spmd-max-idx");for(var e=i.nodeListToArray(t.getElementsByTagName("a")),t=i.nodeListToArray(t.getElementsByTagName("area")),n=e.concat(t),o=0;o<n.length;o++)r.tryToRemoveAttribute(n[o],u)}},e.spm_spmAnchorChk=a,e.spm_getSPMParam=o,e.spm_forwap=function(t,e){var n=o(t),t=[n.a,n.b,n.c,n.d];return e&&n.e&&t.push(n.e),t.join(".")}},function(t,e,n){"use strict";function b(){var t=(o.getGoldlogVal("_$")||{}).spm.data;return[t.a,t.b].join(".")}function y(t){var e=b(),t=t.split(".");return t[0]+"."+t[1]==e}function p(t,e){if(!goldlog.isUT4Aplus||"UT4Aplus"!==goldlog.getMetaInfo("aplus-toUT")){if(t&&/&?\bspm=[^&#]*/.test(t)&&(t=t.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!e)return t;var n,o,a,r,i,s="&";-1!==t.indexOf("#")&&(t=(i=t.split("#")).shift(),o=i.join("#")),r=(a=t.split("?")).length-1,i=1<(i=(i=a[0].split("//"))[i.length-1].split("/")).length?i.pop():"",0<r&&(n=a.pop(),t=a.join("?")),n&&1<r&&-1==n.indexOf("&")&&-1!==n.indexOf("%")&&(s="%26");if(t=t+"?spm="+e+(n?s+n:"")+(o?"#"+o:""),s=P.isContain(i,".")?i.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(s))return 0;!n&&r<=1&&(o||{htm:1,html:1,php:1,aspx:1,shtml:1,xhtml:1}.hasOwnProperty(s)||(t+="&file="+i))}return t}}function g(t,e){var n,o;goldlog.isUT4Aplus&&"UT4Aplus"===goldlog.getMetaInfo("aplus-toUT")||((o=t.innerHTML)&&-1==o.indexOf("<")&&((n=document.createElement("b")).style.display="none",t.appendChild(n)),t.href=e,n&&t.removeChild(n))}function w(t,e,n){if(!/^0\.0\.?/.test(e)){var o=S.tryToGetHref(t),a=b(),r=h.is_ignore_spm(t);if(r){var i=d.param2obj(o);if(i.spm&&i.spm.split)for(var s=i.spm.split("."),u=e.split("."),c=0;c<3&&u[c]===s[c];c++)2===c&&s[3]&&(e=i.spm)}t.setAttribute("data-spm-anchor-id",e);var l=goldlog.getPvId();l&&(e+="."+l);(l||a&&"0.0"!=a)&&(r||n||(o=p(o,e))&&g(t,o))}}function x(t){t=A.tryToGetAttribute(t,E);return f.parseSemicolonContent(t)||{}}function T(t){var e,n=(o.getGoldlogVal("_$")||{}).spm.data;return"0"==n.a&&"0"==n.b?e="0":(e=A.tryToGetAttribute(t,m))&&e.match(/^d\w+$/)||(e=""),e}function j(t,e){for(var n=[],o=f.nodeListToArray(t.getElementsByTagName("a")),a=f.nodeListToArray(t.getElementsByTagName("area")),r=o.concat(a),i=0;i<r.length;i++){for(var s,u=!1,c=r[i],l=r[i];(c=c.parentNode)&&c!=t;)if(A.tryToGetAttribute(c,m)){u=!0;break}u||(s=A.tryToGetAttribute(l,"data-auto-spmd"),(!e&&"t"!==s||e&&"t"===s)&&n.push(l))}return n}function r(t){for(var e,n=t;t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&t.getAttribute;){var o=t.getAttribute(m);if(o){e=o,n=t;break}if(!(t=t.parentNode))break}return{spm_c:e=e&&!/^[\w\-\.\/]+$/.test(e)?"0":e,el:n}}function i(t,e){if(!(parent!==self)&&e)return[t,e].join(".");if(t&&e)return t+".i"+e;var n=window.g_SPM||(window.g_SPM={}),e=n.spm_d_for_ad||{};return"number"==typeof e[t]?e[t]++:e[t]=0,t+".i"+(n.spm_d_for_ad=e)[t]}var d=n(23),P=n(15),f=n(24),A=n(34),o=n(32),S=n(96),h=n(97),m="data-spm",E="data-spm-click",I="data-spm-anchor-id";e.getGlobalSPMId=b,e.spm_isSPMAnchorIdMatch=y,e.spm_updateHrefWithSPMId=p,e.spm_writeHref=g,e.spm_anchorEnsureSPMId_inHref=w,e.getElDataSpm=x,e.spm_getAnchor4thId_spm_d=T,e.spm_getModuleLinks=j,e.spm_spmGetParentSPMId=r,e.get_spm_for_ad=i,e.spm_getParamForAD=function(t){if(!(a=A.tryToGetAttribute(t,I))){var e=b(),n=t.parentNode;if(!n)return"";var o=(x(t)||{}).locaid||"",o=t.getAttribute(m)||o,n=r(n).spm_c||0,a=i(e+"."+(n=n&&-1!==n.indexOf(".")?(n=n.split("."))[n.length-1]:n),o)}return a},e.spm_initSPMModule=function(t,e,n,o){var a;if(e=e||t.getAttribute("data-spm")||""){var r=j(t,o);if(0!==r.length){var i=e.split("."),s=P.isStartWith(e,"110")&&3==i.length;s&&(a=i[2],i[2]="w"+(a||"0"),e=i.join("."));var u=b();if(u&&u.match(/^[\w\-\*]+(\.[\w\-\*\/]+)?$/))if(P.isContain(e,".")){if(!P.isStartWith(e,u)){for(var c=u.split("."),i=e.split("."),l=0;l<c.length;l++)i[l]=c[l];e=i.join(".")}}else P.isContain(u,".")||(u+=".0"),e=u+"."+e;if(e.match&&e.match(/^[\w\-\*]+\.[\w\-\*\/]+\.[\w\-\*\/]+$/)){for(var u=o?"data-auto-spmd-max-idx":"data-spm-max-idx",p=parseInt(A.tryToGetAttribute(t,u))||0,g=0;g<r.length;g++){var d,f,h,m=r[g],_=S.tryToGetHref(m),v=A.tryToGetAttribute(m,E);(o||_||v)&&(s&&m.setAttribute("data-spm-wangpu-module-id",a),(d=m.getAttribute(I))&&y(d)?w(m,d,n):(v=(_=function(t){for(var e,n="data-spm-ab-max-idx",o={},a="";t&&"HTML"!=t.tagName&&"BODY"!=t.tagName;){if(!a&&(a=A.tryToGetAttribute(t,"data-spm-ab"))){e=parseInt(A.tryToGetAttribute(t,n))||0,o.a_spm_ab=a,o.ab_idx=++e,t.setAttribute(n,e);break}if(A.tryToGetAttribute(t,"data-spm"))break;t=t.parentNode}return o}(m.parentNode)).a_spm_ab?(f=_.a_spm_ab,_.ab_idx):(f=void 0,++p),(_=(x(m)||{}).locaid||"")?h=_:(h=T(m)||v,o&&(h="at"+((P.isNumber(h)?1e3:"")+h))),w(m,d=f?e+"-"+f+"."+h:e+"."+h,n)))}t.setAttribute(u,p)}}}},e.spm_dealNoneSPMLink=function(t,e){var n,o,a,r=goldlog.getMetaInfo("aplus-getspmcd"),i=b(),s=S.tryToGetHref(t),o=(n=s)&&(o=n.match(/&?\bspm=([^&#]*)/))?o[1]:"";i&&2==i.split(".").length?w(t,((a="function"==typeof r?r(t,null,i):a)&&"0"!==a.spm_c?[i,a.spm_c,a.spm_d]:[i,0,T(t)||0]).join("."),e):s&&o&&g(t,s=s.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"").replace(/\?#/,"#"))}},function(t,e,n){"use strict";var o=n(25);e.tryToGetHref=function(t){var e;try{e=o.trim(t.getAttribute("href",2))}catch(t){}return e||""}},function(t,e,n){"use strict";var r=n(34),i=n(15),s=n(96),u=n(32),c=n(27),l="data-spm-protocol";e.is_ignore_spm=function(t){var e=(u.getGoldlogVal("_$")||{}).meta_info||{},n=s.tryToGetHref(t),o=function(t){for(var e;(t=t.parentNode)&&"BODY"!==t.tagName;)if(e=r.tryToGetAttribute(t,l))return e;return""}(t),t="i"===(r.tryToGetAttribute(t,l)||o||e.spm_protocol);if(!n||function(t){for(var e=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return 1}(n))return!0;var a,e=(o=n,e=location.href,o&&e.split("#")[0]===o.split("#")[0]||c.isStartWithProtocol(n.toLowerCase())),a=!!(o=n)&&!!o.match(/^[^\?]*\balipay\.(?:com|net)\b/i)||!!(a=n)&&!!a.match(/^[^\?]*\balipay\.(?:com|net)\/.*\?.*\bsign=.*/i),a=e||a;return!(t||!i.isStartWith(n,"#")&&!a)||t}},function(t,e,n){"use strict";function o(t,e){var n,o,a,r=e;for(window.g_SPM&&(g_SPM._current_spm=h.spm_getSPMParam(e));e&&"HTML"!==e.tagName;){if(n=l.tryToGetAttribute(e,"data-spm-click")){!function(t,e,n){var o=g.parseSemicolonContent(e,{},!0),a=o.gostr||"",r=o.locaid||"",i=t.getAttribute("data-spm")||r,e=o.gokey||"",i=[(r=h.spm_getSPMParam(t)).a,r.b,r.c,i].join(".");0!==(a=a+"."+i).indexOf("/")&&(a="/"+a);var s,u=[],c=["gostr","locaid","gmkey","gokey","spm-cnt","cna"];for(s in o)o.hasOwnProperty(s)&&-1===d.indexof(c,s)&&u.push(s+"="+o[s]);u.push("_g_et="+n),u.push("autosend=1"),e&&0<u.length&&(e+="&"),e+=0<u.length?u.join("&"):"",goldlog&&p.isFunction(goldlog.recordUdata)?goldlog.recordUdata(a,"CLK",e,"GET",function(){}):f.logger({msg:"goldlog.recordUdata is not function!"}),l.tryToSetAttribute(t,"data-spm-anchor-id",i)}(e,n,"mousedown"===t.type?t.type:"tap");break}e=e.parentNode}n||(o=i.getGlobalSPMId(),"function"==typeof(a=goldlog.getMetaInfo("aplus-getspmcd"))&&a(r,t,o))}var a=n(73),l=n(34),p=n(15),g=n(24),d=n(30),f=n(29),h=n(94),i=n(95);e.run=function(t){t&&t.isTouchEnabled?a.on(document,"tap",o):a.on(document,"mousedown",o)}},function(t,e,n){"use strict";function o(){var e=0,n=500;!function t(){10<++e&&(n=3e3),function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++){var n,o,a=t[e],r=i.tryToGetAttribute(a,"data-spm-src");!a.src&&r&&((n=u.spm_getSPMParam(a))?(o=[n.a,n.b,n.c,n.d],n.e&&o.push(n.e),n=o.join("."),a.src=s.spm_updateHrefWithSPMId(r,n)):a.src=r)}}(),setTimeout(t,n)}()}var i=n(34),s=n(95),u=n(94);e.run=function(t){t&&!t.isTerminal&&o()}},function(t,e,n){"use strict";function o(t,e){for(var n,o=window;e&&(n=e.tagName);){if("A"===n||"AREA"===n){s.spm_spmAnchorChk(e,!1);var a=(o.g_SPM||(o.g_SPM={}))._current_spm=s.spm_getSPMParam(e),r=[];try{var r=[a.a,a.b,a.c,a.d],i=a.e||goldlog.pvid||"";i&&r.push(i)}catch(t){}break}if("BODY"==n||"HTML"==n)break;e=e.parentNode}}var a=n(73),s=n(94);e.run=function(t){var e=document;t&&t.isTouchEnabled?a.on(e,"tapSpm",o):(a.on(e,"mousedown",o),a.on(e,"keydown",o))}},function(t,e,n){"use strict";function a(){var t,e,n,o,a={};for(t in c)!c.hasOwnProperty(t)||(e=function t(e,n){if(n=n||l,l.evaluate)return n.evaluate(e,l,null,9,null).singleNodeValue;for(var o,a=e.split("/");!o&&0<a.length;)o=a.shift();return(e=o.match(/^.+?\[@id='(.+?)']$/i))?n=n.getElementById(e[1]):(e=o.match(/^(.+?)\[(\d+)]$/i))&&(n=n.getElementsByTagName(e[1])[parseInt(e[2])-1]),n?0===a.length?n:t(a.join("/"),n):null}(t))&&(a[t]=1,n=c[t],n="A"===e.tagName?n.spmd:n.spmc,i.tryToSetAttribute(e,"data-spm",n||""));for(o in a)a.hasOwnProperty(o)&&delete c[o]}function o(){if(!u&&p.spmData){u=!0;var t=p.spmData.data;if(t&&r.isArray(t)){for(var e=0;e<t.length;e++){var n=t[e],o=(o=n.xpath).replace(/^id\('(.+?)'\)(.*)/g,"//*[@id='$1']$2");c[o]={spmc:n.spmc,spmd:n.spmd}}a()}}}var r=n(15),i=n(34),s=n(73),u=!1,c={},l=document,p=window;e.wh_updateXPathElements=a,e.init_wh=o,e.run=function(){s.DOMReady(function(){o()})}},function(t,e,n){"use strict";var i=n(9),s=n(7),u=n(47),c=n(11),l=n(33).getInfo(),p="complete";e.initGoldlog=function(t){var e,n=window.goldlog||(window.goldlog={}),o=c.goldlog_path.run.create();for(e in n._ready_time=(new Date).getTime(),o)n[e]=o[e];var a=/TB\-PD/i.test(navigator.userAgent),r=n._$=n._$||{};return r.meta_info=l,r.is_terminal="aplus_wap"===c.script_name||a||"1"==l["aplus-terminal"],r.send_pv_count=0,r.status=p,r.script_name=c.script_name,r.spm={data:{}},n.lver=c.lver,n.nameStorage=i.nameStorage,u.haveNativeFlagInUA(),s.doPubMsg(["goldlogReady",p]),s.doCachePubs(["goldlogReady",p]),t.init(),n}}]);

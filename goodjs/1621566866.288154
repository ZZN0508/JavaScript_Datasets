let t="https://www.nytimes.com";function o(t){return"godzown:"+t}function n(){"undefined"!=typeof location&&(/local/.test(location.hostname)||/preview/.test(location.hostname))&&(t="https://www.stg.nytimes.com")}async function e(n){try{const o=await fetch(`${t}/svc/int/godzown/u/${n}`,{headers:{Accept:"application/json"},credentials:"include"}),{contents:e}=await o.json();return e}catch(e){try{return JSON.parse(localStorage[o(n)])}catch(a){return console.error("localStorage read failed",a),null}}}async function a(n,e={}){const a=JSON.stringify(e);try{localStorage[o(n)]=a}catch(c){console.error("localStorage set failed",c)}await fetch(t+"/svc/int/godzown/u/"+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:a})}export{n as a,e as g,a as s};
!function(){"use strict";function e(){function e(){}var t,s,n,o,r,i,a,c,d,u,l,m,p,f,g,b,h,v,E,w,S,M,N;window.picturefill&&(t=window.picturefill,v=window.document,E=window.Element,w=window.MutationObserver,S={disconnect:e,take:e,observe:e,start:e,stop:e,connected:!1},M=/^loade|^c|^i/.test(v.readyState||""),(N=t._).mutationSupport=!1,N.observer=S,Object.keys&&window.HTMLSourceElement&&v.addEventListener&&(i={src:1,srcset:1,sizes:1,media:1},a={attributes:!0,childList:!0,subtree:!0,attributeFilter:Object.keys(i)},t=E&&E.prototype,c={},E=function(e,t){c[e]=N[e],N[e]=t},t&&!t.matches&&(t.matches=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector),t&&t.matches&&(s=function(e,t){return e.matches(t)},N.mutationSupport=!(!Object.create||!Object.defineProperties)),N.mutationSupport&&(S.observe=function(){o&&(S.connected=!0,n&&n.observe(v.documentElement,a))},S.disconnect=function(){S.connected=!1,n&&n.disconnect()},S.take=function(){n?N.onMutations(n.takeRecords()):r&&r.take()},S.start=function(){o=!0,S.observe()},S.stop=function(){o=!1,S.disconnect()},E("setupRun",function(){return S.disconnect(),c.setupRun.apply(this,arguments)}),E("teardownRun",function(){var e=c.setupRun.apply(this,arguments);return S.observe(),e}),E("setSrc",function(){var e,t=S.connected;return S.disconnect(),e=c.setSrc.apply(this,arguments),t&&S.observe(),e}),N.onMutations=function(e){for(var t=[],n=0,o=e.length;n<o;n++)M&&"childList"===e[n].type?N.onSubtreeChange(e[n],t):"attributes"===e[n].type&&N.onAttrChange(e[n],t);t.length&&N.fillImgs({elements:t,reevaluate:!0})},N.onSubtreeChange=function(e,t){N.findAddedMutations(e.addedNodes,t),N.findRemovedMutations(e.removedNodes,e.target,t)},N.findAddedMutations=function(e,t){for(var n,o,r=0,i=e.length;r<i;r++)1===(n=e[r]).nodeType&&("PICTURE"===(o=n.nodeName.toUpperCase())?N.addToElements(n.getElementsByTagName("img")[0],t):"IMG"===o&&s(n,N.selShort)?N.addToElements(n,t):"SOURCE"===o?N.addImgForSource(n,n.parentNode,t):N.addToElements(N.qsa(n,N.selShort),t))},N.findRemovedMutations=function(e,t,n){for(var o,r=0,i=e.length;r<i;r++)1===(o=e[r]).nodeType&&"SOURCE"===o.nodeName.toUpperCase()&&N.addImgForSource(o,t,n)},N.addImgForSource=function(e,t,n){t&&"PICTURE"!==(t.nodeName||"").toUpperCase()&&((t=t.parentNode)&&"PICTURE"===(t.nodeName||"").toUpperCase()||(t=null)),t&&N.addToElements(t.getElementsByTagName("img")[0],n)},N.addToElements=function(e,t){var n,o;if(e)if("length"in e&&!e.nodeType)for(n=0,o=e.length;n<o;n++)N.addToElements(e[n],t);else e.parentNode&&-1===t.indexOf(e)&&t.push(e)},N.onAttrChange=function(e,t){var n,o=e.target[N.ns];o||"srcset"!==e.attributeName||"IMG"!==(n=e.target.nodeName.toUpperCase())?o&&("IMG"===(n=n||e.target.nodeName.toUpperCase())?(e.attributeName in o&&(o[e.attributeName]=void 0),N.addToElements(e.target,t)):"SOURCE"===n&&N.addImgForSource(e.target,e.target.parentNode,t)):N.addToElements(e.target,t)},N.supPicture||(w&&!N.testMutationEvents?n=new w(N.onMutations):(g=!1,b=[],h=window.setImmediate||window.setTimeout,r=function(e){g||(g=!0,r.take||(r.take=function(){b.length&&(N.onMutations(b),b=[]),g=!1}),h(r.take)),b.push(e)},v.documentElement.addEventListener("DOMNodeInserted",function(e){S.connected&&M&&r({type:"childList",addedNodes:[e.target],removedNodes:[]})},!0),v.documentElement.addEventListener("DOMNodeRemoved",function(e){S.connected&&M&&"SOURCE"===(e.target||{}).nodeName&&r({type:"childList",addedNodes:[],removedNodes:[e.target],target:e.target.parentNode})},!0),v.documentElement.addEventListener("DOMAttrModified",function(e){S.connected&&i[e.attrName]&&r({type:"attributes",target:e.target,attributeName:e.attrName})},!0)),window.HTMLImageElement&&Object.defineProperties&&(E=v.createElement("img"),w=[],m=E.getAttribute,p=E.setAttribute,f={src:1},N.supSrcset&&!N.supSizes&&(f.srcset=1),Object.defineProperties(HTMLImageElement.prototype,{getAttribute:{value:function(e){var t;return f[e]&&(t=this[N.ns])&&void 0!==t[e]?t[e]:m.apply(this,arguments)},writeable:!0,enumerable:!0,configurable:!0}}),N.supSrcset||w.push("srcset"),N.supSizes||w.push("sizes"),w.forEach(function(t){Object.defineProperty(HTMLImageElement.prototype,t,{set:function(e){p.call(this,t,e)},get:function(){return m.call(this,t)||""},enumerable:!0,configurable:!0})}),"currentSrc"in E||(l=u=function(e,t){null==t&&(t=e.src||""),Object.defineProperty(e,"pfCurrentSrc",{value:t,writable:!0})},N.supSrcset&&window.devicePixelRatio&&(d=function(e,t){return(e.d||e.w||e.res)-(t.d||t.w||t.res)},u=function(e){var t,n,o,r,i=e[N.ns];if(i&&i.supported&&i.srcset&&i.sets&&(n=N.parseSet(i.sets[0]))&&n.sort){for(n.sort(d),r=n[(o=n.length)-1],t=0;t<o;t++)if(n[t].d>=window.devicePixelRatio){r=n[t];break}r=r&&N.makeUrl(r.url)}l(e,r)}),v.addEventListener("load",function(e){"IMG"===e.target.nodeName.toUpperCase()&&u(e.target)},!0),Object.defineProperty(HTMLImageElement.prototype,"currentSrc",{set:function(){window.console&&console.warn&&console.warn("currentSrc can't be set on img element")},get:function(){return this.complete&&u(this),(this.src||this.srcset)&&this.pfCurrentSrc||""},enumerable:!0,configurable:!0})),!window.HTMLSourceElement||"srcset"in v.createElement("source")||["srcset","sizes"].forEach(function(t){Object.defineProperty(window.HTMLSourceElement.prototype,t,{set:function(e){this.setAttribute(t,e)},get:function(){return this.getAttribute(t)||""},enumerable:!0,configurable:!0})})),S.start()),M||v.addEventListener("DOMContentLoaded",function(){M=!0})))),(window.picturefill||9999<y)&&clearInterval(T),y++}var y=0,T=setInterval(e,8);e()}();

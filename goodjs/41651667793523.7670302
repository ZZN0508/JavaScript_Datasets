YUI.add("node-screen",function(i,e){i.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(t){i.Node.ATTRS[t]={getter:function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i.Node.getDOMNode(this)),i.DOM[t].apply(this,e)}}}),i.Node.ATTRS.scrollLeft={getter:function(){var e=i.Node.getDOMNode(this);return"scrollLeft"in e?e.scrollLeft:i.DOM.docScrollX(e)},setter:function(e){var t=i.Node.getDOMNode(this);t&&("scrollLeft"in t?t.scrollLeft=e:!t.document&&9!==t.nodeType||i.DOM._getWin(t).scrollTo(e,i.DOM.docScrollY(t)))}},i.Node.ATTRS.scrollTop={getter:function(){var e=i.Node.getDOMNode(this);return"scrollTop"in e?e.scrollTop:i.DOM.docScrollY(e)},setter:function(e){var t=i.Node.getDOMNode(this);t&&("scrollTop"in t?t.scrollTop=e:!t.document&&9!==t.nodeType||i.DOM._getWin(t).scrollTo(i.DOM.docScrollX(t),e))}},i.Node.importMethod(i.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]),i.Node.ATTRS.region={getter:function(){var e=this.getDOMNode();return e&&!e.tagName&&9===e.nodeType&&(e=e.documentElement),i.DOM.isWindow(e)?i.DOM.viewportRegion(e):i.DOM.region(e)}},i.Node.ATTRS.viewportRegion={getter:function(){return i.DOM.viewportRegion(i.Node.getDOMNode(this))}},i.Node.importMethod(i.DOM,"inViewportRegion"),i.Node.prototype.intersect=function(e,t){var n=i.Node.getDOMNode(this);return i.instanceOf(e,i.Node)&&(e=i.Node.getDOMNode(e)),i.DOM.intersect(n,e,t)},i.Node.prototype.inRegion=function(e,t,n){var o=i.Node.getDOMNode(this);return i.instanceOf(e,i.Node)&&(e=i.Node.getDOMNode(e)),i.DOM.inRegion(o,e,t,n)}},"3.16.0",{requires:["dom-screen","node-base"]}),YUI.add("node-style",function(e,t){var n;(n=e).mix(n.Node.prototype,{setStyle:function(e,t){return n.DOM.setStyle(this._node,e,t),this},setStyles:function(e){return n.DOM.setStyles(this._node,e),this},getStyle:function(e){return n.DOM.getStyle(this._node,e)},getComputedStyle:function(e){return n.DOM.getComputedStyle(this._node,e)}}),n.NodeList.importMethod(n.Node.prototype,["getStyle","getComputedStyle","setStyle","setStyles"]);var o=e.Node;e.mix(o.prototype,{show:function(e){return e=arguments[arguments.length-1],this.toggleView(!0,e),this},_show:function(){this.removeAttribute("hidden"),this.setStyle("display","")},_isHidden:function(){return this.hasAttribute("hidden")||"none"===e.DOM.getComputedStyle(this._node,"display")},toggleView:function(e,t){return this._toggleView.apply(this,arguments),this},_toggleView:function(e,t){return t=arguments[arguments.length-1],(e="boolean"!=typeof e?this._isHidden()?1:0:e)?this._show():this._hide(),"function"==typeof t&&t.call(this),this},hide:function(e){return e=arguments[arguments.length-1],this.toggleView(!1,e),this},_hide:function(){this.setAttribute("hidden","hidden"),this.setStyle("display","none")}}),e.NodeList.importMethod(e.Node.prototype,["show","hide","toggleView"])},"3.16.0",{requires:["dom-style","node-base"]}),YUI.add("event-mousewheel",function(n,e){function t(e){var t=n.Array(e,0,!0),e=n.UA.gecko?(t[0]="DOMMouseScroll",n.config.win):n.config.doc;return t.length<3?t[2]=e:t.splice(2,0,e),t}n.Env.evt.plugins.mousewheel={on:function(){return n.Event._attach(t(arguments))},detach:function(){return n.Event.detach.apply(n.Event,t(arguments))}}},"3.16.0",{requires:["node-base"]}),YUI.add("event-mouseenter",function(l,e){function i(){}var a=l.Env.evt.dom_wrappers,d=l.DOM.contains,h=l.Array,t={proxyType:"mouseover",relProperty:"fromElement",_notify:function(e,t,n){var o=this._node,t=e.relatedTarget||e[t];o===t||d(o,t)||n.fire(new l.DOMEventFacade(e,o,a["event:"+l.stamp(o)+e.type]))},on:function(e,t,n){e=l.Node.getDOMNode(e),n=[this.proxyType,this._notify,e,null,this.relProperty,n];t.handle=l.Event._attach(n,{facade:!1})},detach:function(e,t){t.handle.detach()},delegate:function(e,t,n,o){e=l.Node.getDOMNode(e),n=[this.proxyType,i,e,null,n];t.handle=l.Event._attach(n,{facade:!1}),t.handle.sub.filter=o,t.handle.sub.relProperty=this.relProperty,t.handle.sub._notify=this._filterNotify},_filterNotify:function(e,t,n){t=t.slice(),this.args&&t.push.apply(t,this.args);var o,i,a,r,c,s=l.delegate._applyFilter(this.filter,t,n),u=t[0].relatedTarget||t[0][this.relProperty];if(s)for(i=0,a=(s=h(s)).length&&(!o||!o.stopped);i<a&&(c=s[0],d(c,u)||(o||((o=new l.DOMEventFacade(t[0],c,n)).container=l.one(n.el)),o.currentTarget=l.one(c),!1!==(r=t[1].fire(o))));++i);return r},detachDelegate:function(e,t){t.handle.detach()}};l.Event.define("mouseenter",t,!0),l.Event.define("mouseleave",l.merge(t,{proxyType:"mouseout",relProperty:"toElement"}),!0)},"3.16.0",{requires:["event-synthetic"]}),YUI.add("event-key",function(c,e){var s=c.Lang.trim,t={KEY_MAP:{enter:13,space:32,esc:27,backspace:8,tab:9,pageup:33,pagedown:34},_typeRE:/^(up|down|press):/,_keysRE:/^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,processArgs:function(e){var t,n,o,e=e.splice(3,1)[0],i=c.Array.hash(e.match(/\+(?:alt|ctrl|meta|shift)\b/g)||[]),a={type:this._typeRE.test(e)?RegExp.$1:null,mods:i,keys:null},r=e.replace(this._keysRE,"");if(r)for(r=r.split(","),a.keys={},o=r.length-1;0<=o;--o)(t=s(r[o]))&&(+t==t?a.keys[t]=i:(n=t.toLowerCase(),this.KEY_MAP[n]?(a.keys[this.KEY_MAP[n]]=i,a.type||(a.type="down")):(n=(t=t.charAt(0)).toUpperCase(),i["+shift"]&&(t=n),a.keys[t.charCodeAt(0)]=t===n?c.merge(i,{"+shift":!0}):i)));return a.type||(a.type="press"),a},on:function(e,t,n,o){var i=t._extra,a="key"+i.type,r=i.keys;t._detach=e[o?"delegate":"on"](a,function(e){var t=r?r[e.which]:i.mods;t&&(!t["+alt"]||t["+alt"]&&e.altKey)&&(!t["+ctrl"]||t["+ctrl"]&&e.ctrlKey)&&(!t["+meta"]||t["+meta"]&&e.metaKey)&&(!t["+shift"]||t["+shift"]&&e.shiftKey)&&n.fire(e)},o)},detach:function(e,t,n){t._detach.detach()}};t.delegate=t.on,t.detachDelegate=t.detach,c.Event.define("key",t,!0)},"3.16.0",{requires:["event-synthetic"]}),YUI.add("event-focus",function(m,e){function t(o,i,s){var v="_"+o+"Notifiers";m.Event.define(o,{_useActivate:l,_attach:function(e,t,n){return m.DOM.isWindow(e)?u._attach([o,function(e){t.fire(e)},e]):u._attach([i,this._proxy,e,this,t,n],{capture:!0})},_proxy:function(e,t,n){var o=e.target,i=e.currentTarget,a=o.getData(v),r=m.stamp(i._node),c=l||o!==i;t.currentTarget=n?o:i,t.container=n?i:null,a?c=!0:(o.setData(v,a={}),c&&(u._attach([s,this._notify,o._node]).sub.once=!0)),a[r]||(a[r]=[]),a[r].push(t),c||this._notify(e)},_notify:function(e,t){var n,o,i,a,r,c,s,u,l,d=e.currentTarget,h=d.getData(v),f=d.ancestors(),g=d.get("ownerDocument"),p=[],_=h?m.Object.keys(h).length:0;for(d.clearData(v),f.push(d),g&&f.unshift(g),f._nodes.reverse(),_&&(g=_,f.some(function(e){var t,n,e=m.stamp(e),o=h[e];if(o)for(_--,t=0,n=o.length;t<n;++t)o[t].handle.sub.filter&&p.push(o[t]);return!_}),_=g);_&&(n=f.shift());){if(a=m.stamp(n),o=h[a]){for(c=0,s=o.length;c<s&&(u=(i=o[c]).handle.sub,r=!0,e.currentTarget=n,u.filter&&(r=u.filter.apply(n,[n,e].concat(u.args||[])),p.splice(T(p,i),1)),r&&(e.container=i.container,l=i.fire(e)),!1!==l&&2!==e.stopped);++c);delete o[a],_--}if(2!==e.stopped)for(c=0,s=p.length;c<s&&((u=(i=p[c]).handle.sub).filter.apply(n,[n,e].concat(u.args||[]))&&(e.container=i.container,e.currentTarget=n,l=i.fire(e)),!(!1===l||2===e.stopped||e.stopped&&p[c+1]&&p[c+1].container!==i.container));++c);if(e.stopped)break}},on:function(e,t,n){t.handle=this._attach(e._node,n)},detach:function(e,t){t.handle.detach()},delegate:function(t,e,n,o){a(o)&&(e.filter=function(e){return m.Selector.test(e._node,o,t===e?null:t._node)}),e.handle=this._attach(t._node,n,!0)},detachDelegate:function(e,t){t.handle.detach()}},!0)}var n,o,u=m.Event,a=m.Lang.isString,T=m.Array.indexOf,l=(n=!1,(o=m.config.doc)&&((o=o.createElement("p")).setAttribute("onbeforeactivate",";"),n=void 0!==o.onbeforeactivate),n);l?(t("focus","beforeactivate","focusin"),t("blur","beforedeactivate","focusout")):(t("focus","focus","focus"),t("blur","blur","blur"))},"3.16.0",{requires:["event-synthetic"]}),YUI.add("event-resize",function(i,e){i.Event.define("windowresize",{on:i.UA.gecko&&i.UA.gecko<1.91?function(e,t,n){t._handle=i.Event.attach("resize",function(e){n.fire(e)})}:function(e,t,n){var o=i.config.windowResizeDelay||100;t._handle=i.Event.attach("resize",function(e){t._timer&&t._timer.cancel(),t._timer=i.later(o,i,function(){n.fire(e)})})},detach:function(e,t){t._timer&&t._timer.cancel(),t._handle.detach()}})},"3.16.0",{requires:["node-base","event-synthetic"]}),YUI.add("event-hover",function(e,t){function n(){}var o=e.Lang.isFunction,i={processArgs:function(e){var t=o(e[2])?2:3;return o(e[t])?e.splice(t,1)[0]:n},on:function(e,n,t,o){var i=n.args?n.args.slice():[];i.unshift(null),n._detach=e[o?"delegate":"on"]({mouseenter:function(e){e.phase="over",t.fire(e)},mouseleave:function(e){var t=n.context||this;(i[0]=e).type="hover",e.phase="out",n._extra.apply(t,i)}},o)},detach:function(e,t,n){t._detach.detach()}};i.delegate=i.on,i.detachDelegate=i.detach,e.Event.define("hover",i)},"3.16.0",{requires:["event-mouseenter"]}),YUI.add("event-outside",function(a,e){a.Event.defineOutside=function(i,e){e=e||i+"outside";var t={on:function(t,e,n){e.handle=a.one("doc").on(i,function(e){this.isOutside(t,e.target)&&(e.currentTarget=t,n.fire(e))},this)},detach:function(e,t,n){t.handle.detach()},delegate:function(t,e,n,o){e.handle=a.one("doc").delegate(i,function(e){this.isOutside(t,e.target)&&n.fire(e)},o,this)},isOutside:function(t,e){return e!==t&&!e.ancestor(function(e){return e===t})}};t.detachDelegate=t.detach,a.Event.define(e,t)},a.Array.each(["blur","change","click","dblclick","focus","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","select","submit"],function(e){a.Event.defineOutside(e)})},"3.16.0",{requires:["event-synthetic"]}),YUI.add("event-touch",function(s,e){var u="scale",l="rotation",d="identifier",t=s.config.win,n={};s.DOMEventFacade.prototype._touch=function(e,t,n){var o,i,a,r,c;if(e.touches)for(this.touches=[],c={},o=0,i=e.touches.length;o<i;++o)r=e.touches[o],c[s.stamp(r)]=this.touches[o]=new s.DOMEventFacade(r,t,n);if(e.targetTouches)for(this.targetTouches=[],o=0,i=e.targetTouches.length;o<i;++o)r=e.targetTouches[o],a=c&&c[s.stamp(r,!0)],this.targetTouches[o]=a||new s.DOMEventFacade(r,t,n);if(e.changedTouches)for(this.changedTouches=[],o=0,i=e.changedTouches.length;o<i;++o)r=e.changedTouches[o],a=c&&c[s.stamp(r,!0)],this.changedTouches[o]=a||new s.DOMEventFacade(r,t,n);u in e&&(this[u]=e[u]),l in e&&(this[l]=e[l]),d in e&&(this[d]=e[d])},s.Node.DOM_EVENTS&&s.mix(s.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1}),t&&"ontouchstart"in t&&!(s.UA.chrome&&s.UA.chrome<6)?(n.start=["touchstart","mousedown"],n.end=["touchend","mouseup"],n.move=["touchmove","mousemove"],n.cancel=["touchcancel","mousecancel"]):t&&t.PointerEvent?(n.start="pointerdown",n.end="pointerup",n.move="pointermove",n.cancel="pointercancel"):t&&"msPointerEnabled"in t.navigator?(n.start="MSPointerDown",n.end="MSPointerUp",n.move="MSPointerMove",n.cancel="MSPointerCancel"):(n.start="mousedown",n.end="mouseup",n.move="mousemove",n.cancel="mousecancel"),s.Event._GESTURE_MAP=n},"3.16.0",{requires:["node-base"]}),YUI.add("event-move",function(d,e){function n(e,t,n){return n=n?4:3,n=t.length>n?d.merge(t.splice(n,1)[0]):{},N in n||(n[N]=e.PREVENT_DEFAULT),n}function h(e,t){return t._extra.root||9===e.get("nodeType")?e:e.get("ownerDocument")}function i(e){var t=e.getDOMNode();return!(!e.compareTo(d.config.doc)||!t.documentElement)&&t.documentElement}function f(e,t,n){e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.clientX=t.clientX,e.clientY=t.clientY,e[A]=e[A]||t[A],e[b]=e[b]||t[b],e.button=n&&n.button||1}function o(e){var t=i(e)||e.getDOMNode(),n=e.getData(w);O&&(n||(n=0,e.setData(S,t.style.msTouchAction)),t.style.msTouchAction=d.Event._DEFAULT_TOUCH_ACTION,e.setData(w,++n))}function a(e){var t=i(e)||e.getDOMNode(),n=e.getData(w),o=e.getData(S);O&&(e.setData(w,--n),0==n&&t.style.msTouchAction!==o&&(t.style.msTouchAction=o))}function g(e,t){!t||t.call&&!t(e)||e.preventDefault()}var t=d.Event._GESTURE_MAP,p={start:t.start,end:t.end,move:t.move},r="start",_="move",t="end",c="gesture"+_,s=c+t,u=c+r,l="_msh",v="_meh",m="_dmsh",T="_dmh",y="_dmeh",D="_ms",E="minTime",M="minDistance",N="preventDefault",b="currentTarget",A="target",O=d.config.win&&"msPointerEnabled"in d.config.win.navigator,w="msTouchActionCount",S="msInitTouchAction",t=d.Event.define;d.Event._DEFAULT_TOUCH_ACTION="none",t(u,{on:function(e,t,n){o(e),t[l]=e.on(p[r],this._onStart,this,e,t,n)},delegate:function(t,n,o,e){var i=this;n[m]=t.delegate(p[r],function(e){i._onStart(e,t,n,o,!0)},e)},detachDelegate:function(e,t,n,o){var i=t[m];i&&(i.detach(),t[m]=null),a(e)},detach:function(e,t,n){var o=t[l];o&&(o.detach(),t[l]=null),a(e)},processArgs:function(e,t){t=n(this,e,t);return E in t||(t[E]=this.MIN_TIME),M in t||(t[M]=this.MIN_DISTANCE),t},_onStart:function(t,n,e,o,i){i&&(n=t[b]);var a,r=e._extra,c=!0,s=r[E],u=r[M],l=r.button,i=r[N],e=h(n,e);t.touches?1===t.touches.length?f(t,t.touches[0],r):c=!1:c=void 0===l||l===t.button,c&&(g(t,i),0===s||0===u?this._start(t,n,o,r):(a=[t.pageX,t.pageY],0<s&&(r._ht=d.later(s,this,this._start,[t,n,o,r]),r._hme=e.on(p.end,d.bind(function(){this._cancel(r)},this))),0<u&&(r._hm=e.on(p[_],d.bind(function(e){(Math.abs(e.pageX-a[0])>u||Math.abs(e.pageY-a[1])>u)&&this._start(t,n,o,r)},this)))))},_cancel:function(e){e._ht&&(e._ht.cancel(),e._ht=null),e._hme&&(e._hme.detach(),e._hme=null),e._hm&&(e._hm.detach(),e._hm=null)},_start:function(e,t,n,o){o&&this._cancel(o),e.type=u,t.setData(D,e),n.fire(e)},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1}),t(c,{on:function(e,t,n){o(e);n=h(e,t).on(p[_],this._onMove,this,e,t,n);t._mh=n},delegate:function(t,n,o,e){var i=this;n[T]=t.delegate(p[_],function(e){i._onMove(e,t,n,o,!0)},e)},detach:function(e,t,n){var o=t._mh;o&&(o.detach(),t._mh=null),a(e)},detachDelegate:function(e,t,n,o){var i=t[T];i&&(i.detach(),t[T]=null),a(e)},processArgs:function(e,t){return n(this,e,t)},_onMove:function(e,t,n,o,i){i&&(t=e[b]);t=n._extra.standAlone||t.getData(D),n=n._extra.preventDefault;t&&(e.touches&&(1===e.touches.length?f(e,e.touches[0]):t=!1),t&&(g(e,n),e.type=c,o.fire(e)))},PREVENT_DEFAULT:!1}),t(s,{on:function(e,t,n){o(e);n=h(e,t).on(p.end,this._onEnd,this,e,t,n);t[v]=n},delegate:function(t,n,o,e){var i=this;n[y]=t.delegate(p.end,function(e){i._onEnd(e,t,n,o,!0)},e)},detachDelegate:function(e,t,n,o){var i=t[y];i&&(i.detach(),t[y]=null),a(e)},detach:function(e,t,n){var o=t[v];o&&(o.detach(),t[v]=null),a(e)},processArgs:function(e,t){return n(this,e,t)},_onEnd:function(e,t,n,o,i){i&&(t=e[b]);i=n._extra.standAlone||t.getData("_m")||t.getData(D),n=n._extra.preventDefault;i&&(e.changedTouches&&(1===e.changedTouches.length?f(e,e.changedTouches[0]):i=!1),i&&(g(e,n),e.type=s,o.fire(e),t.clearData(D),t.clearData("_m")))},PREVENT_DEFAULT:!1})},"3.16.0",{requires:["node-base","event-touch","event-synthetic"]}),YUI.add("event-flick",function(c,e){var t=c.Event._GESTURE_MAP,s={start:t.start,end:t.end,move:t.move},l="minVelocity",d="minDistance",h="preventDefault",a="_fsh",u="_feh",f="_fmh";c.Event.define("flick",{on:function(e,t,n){n=e.on(s.start,this._onStart,this,e,t,n);t[a]=n},detach:function(e,t,n){var o=t[a],i=t[u];o&&(o.detach(),t[a]=null),i&&(i.detach(),t[u]=null)},processArgs:function(e){e=3<e.length?c.merge(e.splice(3,1)[0]):{};return l in e||(e[l]=this.MIN_VELOCITY),d in e||(e[d]=this.MIN_DISTANCE),h in e||(e[h]=this.PREVENT_DEFAULT),e},_onStart:function(e,t,n,o){var i=!0,a=n._extra.preventDefault,r=e;e.touches&&(i=1===e.touches.length,e=e.touches[0]),i&&(!a||a.call&&!a(e)||r.preventDefault(),e.flick={time:(new Date).getTime()},n._fs=e,r=n[u],e=9===t.get("nodeType")?t:t.get("ownerDocument"),r||(r=e.on(s.end,c.bind(this._onEnd,this),null,t,n,o),n[u]=r),n[f]=e.once(s.move,c.bind(this._onMove,this),null,t,n,o))},_onMove:function(e,t,n,o){n=n._fs;n&&n.flick&&(n.flick.time=(new Date).getTime())},_onEnd:function(e,t,n,o){(new Date).getTime();var i,a,r=n._fs,c=!!r,s=e,u=n[f];u&&(u.detach(),delete n[f]),c&&(e.changedTouches&&(1===e.changedTouches.length&&0===e.touches.length?s=e.changedTouches[0]:c=!1),c&&(!(a=(i=n._extra)[h])||a.call&&!a(e)||e.preventDefault(),u=r.flick.time,c=(new Date).getTime()-u,s=(a=[s.pageX-r.pageX,s.pageY-r.pageY])["x"===(u=i.axis||(Math.abs(a[0])>=Math.abs(a[1])?"x":"y"))?0:1],a=0!=c?s/c:0,isFinite(a)&&Math.abs(s)>=i[d]&&Math.abs(a)>=i[l]&&(e.type="flick",e.flick={time:c,distance:s,velocity:a,axis:u,start:r},o.fire(e)),n._fs=null))},MIN_VELOCITY:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1})},"3.16.0",{requires:["node-base","event-touch","event-synthetic"]}),YUI.add("event-valuechange",function(l,e){var d="_valuechange",u="value",h="nodeName",f={POLL_INTERVAL:50,TIMEOUT:1e4,_poll:function(e,t){var n,o,i,a,r=e._node,c=t.e,s=e._data&&e._data[d],u=0;r&&s?(o=s.prevVal,t=s.nodeName,s.isEditable?i=r.innerHTML:"input"===t||"textarea"===t?i=r.value:"select"===t&&(i=(r=r.options[r.selectedIndex]).value||r.text),i!==o&&(s.prevVal=i,n={_event:c,currentTarget:c&&c.currentTarget||e,newVal:i,prevVal:o,target:c&&c.target||e},l.Object.some(s.notifiers,function(e){var t=e.handle.evt;if(1===u&&t.el!==a||e.fire(n),e=t&&t._facade?t._facade.stopped:0,u<e&&(1===(u=e)&&(a=t.el)),2===u)return!0}),f._refreshTimeout(e))):f._stopPolling(e)},_refreshTimeout:function(e,t){var n;e._node&&(n=e.getData(d),f._stopTimeout(e),n.timeout=setTimeout(function(){f._stopPolling(e,t)},f.TIMEOUT))},_startPolling:function(e,t,n){var o,i;if(e.test("input,textarea,select")||(i=f._isEditable(e))){if((o=e.getData(d))||(o={nodeName:e.get(h).toLowerCase(),isEditable:i,prevVal:i?e.getDOMNode().innerHTML:e.get(u)},e.setData(d,o)),o.notifiers||(o.notifiers={}),o.interval){if(!n.force)return void(o.notifiers[l.stamp(t)]=t);f._stopPolling(e,t)}o.notifiers[l.stamp(t)]=t,o.interval=setInterval(function(){f._poll(e,n)},f.POLL_INTERVAL),f._refreshTimeout(e,t)}},_stopPolling:function(e,t){var n;e._node&&(n=e.getData(d)||{},clearInterval(n.interval),delete n.interval,f._stopTimeout(e),t?n.notifiers&&delete n.notifiers[l.stamp(t)]:n.notifiers={})},_stopTimeout:function(e){e=e.getData(d)||{};clearTimeout(e.timeout),delete e.timeout},_isEditable:function(e){e=e._node;return"true"===e.contentEditable||""===e.contentEditable},_onBlur:function(e,t){f._stopPolling(e.currentTarget,t)},_onFocus:function(e,t){var n=e.currentTarget,o=n.getData(d);o||(o={isEditable:f._isEditable(n),nodeName:n.get(h).toLowerCase()},n.setData(d,o)),o.prevVal=o.isEditable?n.getDOMNode().innerHTML:n.get(u),f._startPolling(n,t,{e:e})},_onKeyDown:function(e,t){f._startPolling(e.currentTarget,t,{e:e})},_onKeyUp:function(e,t){229!==e.charCode&&197!==e.charCode||f._startPolling(e.currentTarget,t,{e:e,force:!0})},_onMouseDown:function(e,t){f._startPolling(e.currentTarget,t,{e:e})},_onSubscribe:function(e,t,n,o){var i,a,r,c={blur:f._onBlur,focus:f._onFocus,keydown:f._onKeyDown,keyup:f._onKeyUp,mousedown:f._onMouseDown},s=n._valuechange={};o?(s.delegated=!0,s.getNodes=function(){return a=e.all("input,textarea,select").filter(o),r=e.all('[contenteditable="true"],[contenteditable=""]').filter(o),a.concat(r)},s.getNodes().each(function(e){e.getData(d)||e.setData(d,{nodeName:e.get(h).toLowerCase(),isEditable:f._isEditable(e),prevVal:i?e.getDOMNode().innerHTML:e.get(u)})}),n._handles=l.delegate(c,e,o,null,n)):(i=f._isEditable(e),(e.test("input,textarea,select")||i)&&(e.getData(d)||e.setData(d,{nodeName:e.get(h).toLowerCase(),isEditable:i,prevVal:i?e.getDOMNode().innerHTML:e.get(u)}),n._handles=e.on(c,null,null,n)))},_onUnsubscribe:function(e,t,n){var o=n._valuechange;n._handles&&n._handles.detach(),o.delegated?o.getNodes().each(function(e){f._stopPolling(e,n)}):f._stopPolling(e,n)}},t={detach:f._onUnsubscribe,on:f._onSubscribe,delegate:f._onSubscribe,detachDelegate:f._onUnsubscribe,publishConfig:{emitFacade:!0}};l.Event.define("valuechange",t),l.Event.define("valueChange",t),l.ValueChange=f},"3.16.0",{requires:["event-focus","event-synthetic"]}),YUI.add("event-tap",function(i,e){function l(n,e){e=e||i.Object.values(d),i.Array.each(e,function(e){var t=n[e];t&&(t.detach(),n[e]=null)})}i.config.doc;var c=i.Event._GESTURE_MAP,a=c.start,s=/pointer/i,d={START:"Y_TAP_ON_START_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};i.Event.define("tap",{publishConfig:{preventedFn:function(e){var t=e.target.once("click",function(e){e.preventDefault()});setTimeout(function(){t.detach()},100)}},processArgs:function(e,t){if(!t){t=e[3];return e.splice(3,1),t}},on:function(e,t,n){t[d.START]=e.on(a,this._start,this,e,t,n)},detach:function(e,t,n){l(t)},delegate:function(t,n,o,e){n[d.START]=i.delegate(a,function(e){this._start(e,t,n,o,!0)},t,e,this)},detachDelegate:function(e,t,n){l(t)},_start:function(e,t,n,o,i){var a={canceled:!1,eventType:e.type},r=n.preventMouse||!1;e.button&&3===e.button||e.touches&&1!==e.touches.length||(a.node=i?e.currentTarget:t,e.touches?a.startXY=[e.touches[0].pageX,e.touches[0].pageY]:a.startXY=[e.pageX,e.pageY],e.touches?(n[d.END]=t.once("touchend",this._end,this,t,n,o,i,a),n[d.CANCEL]=t.once("touchcancel",this.detach,this,t,n,o,i,a),n.preventMouse=!0):-1===a.eventType.indexOf("mouse")||r?-1!==a.eventType.indexOf("mouse")&&r?n.preventMouse=!1:s.test(a.eventType)&&(n[d.END]=t.once(c.end,this._end,this,t,n,o,i,a),n[d.CANCEL]=t.once(c.cancel,this.detach,this,t,n,o,i,a)):(n[d.END]=t.once("mouseup",this._end,this,t,n,o,i,a),n[d.CANCEL]=t.once("mousecancel",this.detach,this,t,n,o,i,a)))},_end:function(e,t,n,o,i,a){var r,c,s=a.startXY,u=15;n._extra&&0<=n._extra.sensitivity&&(u=n._extra.sensitivity),c=e.changedTouches?(r=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],[e.changedTouches[0].clientX,e.changedTouches[0].clientY]):(r=[e.pageX,e.pageY],[e.clientX,e.clientY]),Math.abs(r[0]-s[0])<=u&&Math.abs(r[1]-s[1])<=u&&(e.type="tap",e.pageX=r[0],e.pageY=r[1],e.clientX=c[0],e.clientY=c[1],e.currentTarget=a.node,o.fire(e)),l(n,[d.END,d.CANCEL])}})},"3.16.0",{requires:["node-base","event-base","event-touch","event-synthetic"]}),YUI.add("better-throttle",function(s){"use strict";s.betterThrottle=function(e,t,n,o){function i(){r&&(r.cancel(),r=void 0)}function a(){i(),e.apply(n,arguments)}var r,c=0;return n=n||null,function(){var e=(new Date).getTime();if(o)i();else if(t<e-c)return c=e,void a.apply(n,arguments);r=r||s.later(t,n,a,arguments)}}},"@VERSION@",{requires:["yui-later"]});

define("dropbox/proto/hql_events/ux_analytics/ux_analytics_events",["require","exports","tslib","protobufjs/minimal","dropbox/proto/hql_events/extensions"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hql_events=void 0;var i=(o=n.__importStar(o)).Reader,r=o.Writer,a=(o.util,o.roots.default||(o.roots.default={}));t.default=a,t.hql_events=a.hql_events=((t=a.hql_events||{}).UXACommonFields=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.urlPii="",t.prototype.orgReferrerPii="",t.prototype.httpReferrerPii="",t.prototype.previousUrlPii="",t.prototype.requestId="",t.prototype.visitId="",t.prototype.requestSeq=0,t.prototype.uxaV=0,t.prototype.instanceEventCount=0,t.prototype.instanceInitTs=0,t.prototype.spaSource="",t.prototype.hashFragmentPii="",t.prototype.variants="",t.prototype.adobeTargetVariants="",t.prototype.warpVariants="",t.prototype.cmsPageUuid="",t.prototype.paramAd="",t.prototype.paramCamp="",t.prototype.paramFbclid="",t.prototype.paramGclid="",t.prototype.paramKw="",t.prototype.paramMsclkid="",t.prototype.paramNet="",t.prototype.paramOqa="",t.prototype.paramTk="",t.prototype.paramTrigger="",t.prototype.paramUtmCampaign="",t.prototype.paramUtmContent="",t.prototype.paramUtmMedium="",t.prototype.paramUtmSource="",t.prototype.paramUtmTerm="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.urlPii&&Object.hasOwnProperty.call(e,"urlPii")&&t.uint32(10).string(e.urlPii),null!=e.orgReferrerPii&&Object.hasOwnProperty.call(e,"orgReferrerPii")&&t.uint32(18).string(e.orgReferrerPii),null!=e.httpReferrerPii&&Object.hasOwnProperty.call(e,"httpReferrerPii")&&t.uint32(26).string(e.httpReferrerPii),null!=e.previousUrlPii&&Object.hasOwnProperty.call(e,"previousUrlPii")&&t.uint32(34).string(e.previousUrlPii),null!=e.requestId&&Object.hasOwnProperty.call(e,"requestId")&&t.uint32(42).string(e.requestId),null!=e.visitId&&Object.hasOwnProperty.call(e,"visitId")&&t.uint32(50).string(e.visitId),null!=e.requestSeq&&Object.hasOwnProperty.call(e,"requestSeq")&&t.uint32(56).int64(e.requestSeq),null!=e.uxaV&&Object.hasOwnProperty.call(e,"uxaV")&&t.uint32(69).float(e.uxaV),null!=e.spaSource&&Object.hasOwnProperty.call(e,"spaSource")&&t.uint32(74).string(e.spaSource),null!=e.hashFragmentPii&&Object.hasOwnProperty.call(e,"hashFragmentPii")&&t.uint32(82).string(e.hashFragmentPii),null!=e.variants&&Object.hasOwnProperty.call(e,"variants")&&t.uint32(90).string(e.variants),null!=e.adobeTargetVariants&&Object.hasOwnProperty.call(e,"adobeTargetVariants")&&t.uint32(98).string(e.adobeTargetVariants),null!=e.warpVariants&&Object.hasOwnProperty.call(e,"warpVariants")&&t.uint32(106).string(e.warpVariants),null!=e.cmsPageUuid&&Object.hasOwnProperty.call(e,"cmsPageUuid")&&t.uint32(114).string(e.cmsPageUuid),null!=e.paramAd&&Object.hasOwnProperty.call(e,"paramAd")&&t.uint32(122).string(e.paramAd),null!=e.paramCamp&&Object.hasOwnProperty.call(e,"paramCamp")&&t.uint32(130).string(e.paramCamp),null!=e.paramFbclid&&Object.hasOwnProperty.call(e,"paramFbclid")&&t.uint32(138).string(e.paramFbclid),null!=e.paramGclid&&Object.hasOwnProperty.call(e,"paramGclid")&&t.uint32(146).string(e.paramGclid),null!=e.paramKw&&Object.hasOwnProperty.call(e,"paramKw")&&t.uint32(154).string(e.paramKw),null!=e.paramMsclkid&&Object.hasOwnProperty.call(e,"paramMsclkid")&&t.uint32(162).string(e.paramMsclkid),null!=e.paramNet&&Object.hasOwnProperty.call(e,"paramNet")&&t.uint32(170).string(e.paramNet),null!=e.paramOqa&&Object.hasOwnProperty.call(e,"paramOqa")&&t.uint32(178).string(e.paramOqa),null!=e.paramTk&&Object.hasOwnProperty.call(e,"paramTk")&&t.uint32(186).string(e.paramTk),null!=e.paramTrigger&&Object.hasOwnProperty.call(e,"paramTrigger")&&t.uint32(194).string(e.paramTrigger),null!=e.paramUtmCampaign&&Object.hasOwnProperty.call(e,"paramUtmCampaign")&&t.uint32(202).string(e.paramUtmCampaign),null!=e.paramUtmContent&&Object.hasOwnProperty.call(e,"paramUtmContent")&&t.uint32(210).string(e.paramUtmContent),null!=e.paramUtmMedium&&Object.hasOwnProperty.call(e,"paramUtmMedium")&&t.uint32(218).string(e.paramUtmMedium),null!=e.paramUtmSource&&Object.hasOwnProperty.call(e,"paramUtmSource")&&t.uint32(226).string(e.paramUtmSource),null!=e.paramUtmTerm&&Object.hasOwnProperty.call(e,"paramUtmTerm")&&t.uint32(234).string(e.paramUtmTerm),null!=e.instanceEventCount&&Object.hasOwnProperty.call(e,"instanceEventCount")&&t.uint32(240).int64(e.instanceEventCount),null!=e.instanceInitTs&&Object.hasOwnProperty.call(e,"instanceInitTs")&&t.uint32(248).int64(e.instanceInitTs),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXACommonFields;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.urlPii=e.string();break;case 2:o.orgReferrerPii=e.string();break;case 3:o.httpReferrerPii=e.string();break;case 4:o.previousUrlPii=e.string();break;case 5:o.requestId=e.string();break;case 6:o.visitId=e.string();break;case 7:o.requestSeq=e.int64();break;case 8:o.uxaV=e.float();break;case 30:o.instanceEventCount=e.int64();break;case 31:o.instanceInitTs=e.int64();break;case 9:o.spaSource=e.string();break;case 10:o.hashFragmentPii=e.string();break;case 11:o.variants=e.string();break;case 12:o.adobeTargetVariants=e.string();break;case 13:o.warpVariants=e.string();break;case 14:o.cmsPageUuid=e.string();break;case 15:o.paramAd=e.string();break;case 16:o.paramCamp=e.string();break;case 17:o.paramFbclid=e.string();break;case 18:o.paramGclid=e.string();break;case 19:o.paramKw=e.string();break;case 20:o.paramMsclkid=e.string();break;case 21:o.paramNet=e.string();break;case 22:o.paramOqa=e.string();break;case 23:o.paramTk=e.string();break;case 24:o.paramTrigger=e.string();break;case 25:o.paramUtmCampaign=e.string();break;case 26:o.paramUtmContent=e.string();break;case 27:o.paramUtmMedium=e.string();break;case 28:o.paramUtmSource=e.string();break;case 29:o.paramUtmTerm=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXACommonFields"},t}(t.UXACommonFields||{}),t.TimeAndLocationFields=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.timeOnPage=0,t.prototype.verticalOffset=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.timeOnPage&&Object.hasOwnProperty.call(e,"timeOnPage")&&t.uint32(8).int64(e.timeOnPage),null!=e.verticalOffset&&Object.hasOwnProperty.call(e,"verticalOffset")&&t.uint32(16).int64(e.verticalOffset),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.TimeAndLocationFields;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.timeOnPage=e.int64();break;case 2:o.verticalOffset=e.int64();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.TimeAndLocationFields"},t}(t.TimeAndLocationFields||{}),t.ElementPositionFields=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.left=0,t.prototype.top=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.left&&Object.hasOwnProperty.call(e,"left")&&t.uint32(8).int64(e.left),null!=e.top&&Object.hasOwnProperty.call(e,"top")&&t.uint32(16).int64(e.top),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.ElementPositionFields;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.left=e.int64();break;case 2:o.top=e.int64();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.ElementPositionFields"},t}(t.ElementPositionFields||{}),t.UXAnalyticsShownPage=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsShownPage;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsShownPage"},t}(t.UXAnalyticsShownPage||{}),t.UXAnalyticsSelectLink=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.prototype.elementPositionFields=null,t.prototype.linkId="",t.prototype.linkRank=0,t.prototype.tagName="",t.prototype.originHrefPii="",t.prototype.destinationUrlPii="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),null!=e.elementPositionFields&&Object.hasOwnProperty.call(e,"elementPositionFields")&&a.hql_events.ElementPositionFields.encode(e.elementPositionFields,t.uint32(34).fork()).ldelim(),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(42).string(e.linkId),null!=e.linkRank&&Object.hasOwnProperty.call(e,"linkRank")&&t.uint32(48).int64(e.linkRank),null!=e.tagName&&Object.hasOwnProperty.call(e,"tagName")&&t.uint32(58).string(e.tagName),null!=e.originHrefPii&&Object.hasOwnProperty.call(e,"originHrefPii")&&t.uint32(66).string(e.originHrefPii),null!=e.destinationUrlPii&&Object.hasOwnProperty.call(e,"destinationUrlPii")&&t.uint32(74).string(e.destinationUrlPii),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsSelectLink;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;case 4:o.elementPositionFields=a.hql_events.ElementPositionFields.decode(e,e.uint32());break;case 5:o.linkId=e.string();break;case 6:o.linkRank=e.int64();break;case 7:o.tagName=e.string();break;case 8:o.originHrefPii=e.string();break;case 9:o.destinationUrlPii=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsSelectLink"},t}(t.UXAnalyticsSelectLink||{}),t.UXAnalyticsSelectLinkNoSessionStorage=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsSelectLinkNoSessionStorage;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsSelectLinkNoSessionStorage"},t}(t.UXAnalyticsSelectLinkNoSessionStorage||{}),t.UXAnalyticsSelectElement=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.prototype.elementPositionFields=null,t.prototype.elementId="",t.prototype.elementRank=0,t.prototype.tagName="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),null!=e.elementPositionFields&&Object.hasOwnProperty.call(e,"elementPositionFields")&&a.hql_events.ElementPositionFields.encode(e.elementPositionFields,t.uint32(34).fork()).ldelim(),null!=e.elementId&&Object.hasOwnProperty.call(e,"elementId")&&t.uint32(42).string(e.elementId),null!=e.elementRank&&Object.hasOwnProperty.call(e,"elementRank")&&t.uint32(48).int64(e.elementRank),null!=e.tagName&&Object.hasOwnProperty.call(e,"tagName")&&t.uint32(58).string(e.tagName),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsSelectElement;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;case 4:o.elementPositionFields=a.hql_events.ElementPositionFields.decode(e,e.uint32());break;case 5:o.elementId=e.string();break;case 6:o.elementRank=e.int64();break;case 7:o.tagName=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsSelectElement"},t}(t.UXAnalyticsSelectElement||{}),t.UXAnalyticsDismissPage=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsDismissPage;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsDismissPage"},t}(t.UXAnalyticsDismissPage||{}),t.UXAnalyticsHeartbeatPage=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsHeartbeatPage;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsHeartbeatPage"},t}(t.UXAnalyticsHeartbeatPage||{}),t.UXAnalyticsShownModal=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.prototype.modal="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),null!=e.modal&&Object.hasOwnProperty.call(e,"modal")&&t.uint32(34).string(e.modal),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsShownModal;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;case 4:o.modal=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsShownModal"},t}(t.UXAnalyticsShownModal||{}),t.UXAnalyticsDismissModal=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.prototype.modal="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),null!=e.modal&&Object.hasOwnProperty.call(e,"modal")&&t.uint32(34).string(e.modal),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsDismissModal;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;case 4:o.modal=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsDismissModal"},t}(t.UXAnalyticsDismissModal||{}),t.UXAnalyticsScrollPage=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.hqlMetadata=null,t.prototype.uxaCommonFields=null,t.prototype.timeAndLocationFields=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.hqlMetadata&&Object.hasOwnProperty.call(e,"hqlMetadata")&&a.hql_events.HQLMetadata.encode(e.hqlMetadata,t.uint32(10).fork()).ldelim(),null!=e.uxaCommonFields&&Object.hasOwnProperty.call(e,"uxaCommonFields")&&a.hql_events.UXACommonFields.encode(e.uxaCommonFields,t.uint32(18).fork()).ldelim(),null!=e.timeAndLocationFields&&Object.hasOwnProperty.call(e,"timeAndLocationFields")&&a.hql_events.TimeAndLocationFields.encode(e.timeAndLocationFields,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new a.hql_events.UXAnalyticsScrollPage;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.hqlMetadata=a.hql_events.HQLMetadata.decode(e,e.uint32());break;case 2:o.uxaCommonFields=a.hql_events.UXACommonFields.decode(e,e.uint32());break;case 3:o.timeAndLocationFields=a.hql_events.TimeAndLocationFields.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.UXAnalyticsScrollPage"},t}(t.UXAnalyticsScrollPage||{}),t)}),define("dropbox/proto/hql_events/extensions",["require","exports","tslib","protobufjs/minimal","google/protobuf/descriptor","dropbox/proto/hql_events/taxonomy"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hql_events=void 0;var i=(o=n.__importStar(o)).Reader,r=o.Writer,a=o.util,l=o.roots.default||(o.roots.default={});t.default=l,t.hql_events=l.hql_events=((t=l.hql_events||{}).HQLEventIdentity=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e;return t.prototype.actionEventId=null,t.prototype.eventName="",t.prototype.eventClass=null,t.prototype.legacyEvent=null,Object.defineProperty(t.prototype,"identity",{get:a.oneOfGetter(e=["actionEventId","eventName"]),set:a.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.actionEventId&&Object.hasOwnProperty.call(e,"actionEventId")&&l.hql_events.HQLEventIdentity.ActionEventIdentity.encode(e.actionEventId,t.uint32(10).fork()).ldelim(),null!=e.eventName&&Object.hasOwnProperty.call(e,"eventName")&&t.uint32(18).string(e.eventName),null!=e.eventClass&&Object.hasOwnProperty.call(e,"eventClass")&&l.hql_events.HQLEventIdentity.EventClass.encode(e.eventClass,t.uint32(26).fork()).ldelim(),null!=e.legacyEvent&&Object.hasOwnProperty.call(e,"legacyEvent")&&l.hql_events.HQLEventIdentity.LegacyEvent.encode(e.legacyEvent,t.uint32(34).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.hql_events.HQLEventIdentity;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.actionEventId=l.hql_events.HQLEventIdentity.ActionEventIdentity.decode(e,e.uint32());break;case 2:o.eventName=e.string();break;case 3:o.eventClass=l.hql_events.HQLEventIdentity.EventClass.decode(e,e.uint32());break;case 4:o.legacyEvent=l.hql_events.HQLEventIdentity.LegacyEvent.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.HQLEventIdentity"},t.ActionEventIdentity=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.object="",t.prototype.action=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.object&&Object.hasOwnProperty.call(e,"object")&&t.uint32(10).string(e.object),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).int32(e.action),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.hql_events.HQLEventIdentity.ActionEventIdentity;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.object=e.string();break;case 2:o.action=e.int32();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.HQLEventIdentity.ActionEventIdentity"},t}(t.ActionEventIdentity||{}),t.EventClass=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.className=0,t.prototype.subclassName=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.className&&Object.hasOwnProperty.call(e,"className")&&t.uint32(8).int32(e.className),null!=e.subclassName&&Object.hasOwnProperty.call(e,"subclassName")&&t.uint32(16).int32(e.subclassName),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.hql_events.HQLEventIdentity.EventClass;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.className=e.int32();break;case 2:o.subclassName=e.int32();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.HQLEventIdentity.EventClass"},t}(t.EventClass||{}),t.LegacyEvent=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.table="",t.prototype.name="",t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.table&&Object.hasOwnProperty.call(e,"table")&&t.uint32(10).string(e.table),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.hql_events.HQLEventIdentity.LegacyEvent;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.table=e.string();break;case 2:o.name=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.HQLEventIdentity.LegacyEvent"},t}(t.LegacyEvent||{}),t}(t.HQLEventIdentity||{}),t.HQLMetadata=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.appSurface=0,t.prototype.actionSurface=0,t.prototype.identityOverride=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.appSurface&&Object.hasOwnProperty.call(e,"appSurface")&&t.uint32(8).int32(e.appSurface),null!=e.actionSurface&&Object.hasOwnProperty.call(e,"actionSurface")&&t.uint32(16).int32(e.actionSurface),null!=e.identityOverride&&Object.hasOwnProperty.call(e,"identityOverride")&&l.hql_events.HQLEventIdentity.encode(e.identityOverride,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.hql_events.HQLMetadata;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.appSurface=e.int32();break;case 2:o.actionSurface=e.int32();break;case 3:o.identityOverride=l.hql_events.HQLEventIdentity.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.HQLMetadata"},t}(t.HQLMetadata||{}),t)}),define("dropbox/proto/hql_events/taxonomy",["require","exports","tslib","protobufjs/minimal"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hql_events=void 0;var r=(o=n.__importStar(o)).Reader,i=o.Writer,a=(o.util,o.roots.default||(o.roots.default={}));t.default=a,t.hql_events=a.hql_events=((t=a.hql_events||{}).TaxonomyAction=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||i.create()},t.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new a.hql_events.TaxonomyAction;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.TaxonomyAction"},t.Action=(e={},(n=Object.create(e))[e[0]="UNSPECIFIED"]=0,n[e[1]="START"]=1,n[e[2]="FOREGROUND"]=2,n[e[3]="SHOWN"]=3,n[e[4]="HOVER"]=4,n[e[5]="SCROLL"]=5,n[e[6]="SEARCH"]=6,n[e[7]="SELECT"]=7,n[e[8]="PIN"]=8,n[e[9]="UNPIN"]=9,n[e[10]="MOVE"]=10,n[e[11]="RENAME"]=11,n[e[12]="COPY"]=12,n[e[13]="DELETE"]=13,n[e[14]="OPEN"]=14,n[e[15]="CREATE"]=15,n[e[16]="VERSION_HISTORY"]=16,n[e[17]="DOWNLOAD"]=17,n[e[18]="TRANSFER"]=18,n[e[19]="COMMENT"]=19,n[e[20]="STAR"]=20,n[e[21]="UNSTAR"]=21,n[e[22]="UPLOAD"]=22,n[e[23]="REQUEST"]=23,n[e[24]="REWIND_HISTORY"]=24,n[e[25]="SHARE"]=25,n[e[26]="EDIT"]=26,n[e[27]="PREVIEW"]=27,n[e[28]="INITIATE"]=28,n[e[29]="FAIL"]=29,n[e[30]="SUCCEED"]=30,n[e[31]="ATTEMPT"]=31,n[e[32]="PREVIEW_RENDER_SUCCEEDED"]=32,n[e[33]="DISMISS"]=33,n[e[34]="HEARTBEAT"]=34,n[e[35]="CONTINUE"]=35,n),t}(t.TaxonomyAction||{}),t.TaxonomyClass=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||i.create()},t.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new a.hql_events.TaxonomyClass;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.TaxonomyClass"},t.ClassName=(e={},(n=Object.create(e))[e[0]="UNSPECIFIED"]=0,n[e[1]="SEE_AND_CLICK"]=1,n[e[2]="FILE_ACTIONS"]=2,n[e[3]="FEATURE"]=3,n),t}(t.TaxonomyClass||{}),t.TaxonomySubclass=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||i.create()},t.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new a.hql_events.TaxonomySubclass;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.TaxonomySubclass"},t.SubclassName=(e={},(n=Object.create(e))[e[0]="UNSPECIFIED"]=0,n[e[1]="SHARE"]=1,n),t}(t.TaxonomySubclass||{}),t.TaxonomyAppSurface=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||i.create()},t.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new a.hql_events.TaxonomyAppSurface;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.TaxonomyAppSurface"},t.AppSurface=(e={},(n=Object.create(e))[e[0]="UNSPECIFIED"]=0,n[e[1]="DESKTOP_COLLAB_BROWSE"]=1,n[e[2]="DESKTOP_TRAY"]=2,n[e[3]="WEB"]=3,n[e[4]="NATIVE"]=4,n[e[5]="HARMONY"]=5,n),t}(t.TaxonomyAppSurface||{}),t.TaxonomyActionSurface=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||i.create()},t.decode=function(e,t){e instanceof r||(e=r.create(e));for(var n=void 0===t?e.len:e.pos+t,t=new a.hql_events.TaxonomyActionSurface;e.pos<n;){var o=e.uint32();e.skipType(7&o)}return t},t.getTypeUrl=function(){return"type.googleapis.com/hql_events.TaxonomyActionSurface"},t.ActionSurface=(e={},(n=Object.create(e))[e[0]="UNSPECIFIED"]=0,n[e[1]="SIGN_IN_PAGE"]=1,n[e[2]="SIGN_IN_DBX_PAGE"]=2,n[e[3]="SIGN_IN_GOOGLE_MODAL"]=3,n[e[4]="INTERSTITIAL_GOOGLE_ACCOUNTS_PAGE"]=4,n[e[5]="SIGNUP_PAGE"]=5,n[e[6]="START_MENU"]=6,n[e[7]="START_DOCK"]=7,n[e[8]="TRAY_ICON"]=8,n[e[9]="NOTIFICATIONS_TAB"]=9,n[e[10]="RECENT_TAB"]=10,n[e[11]="FOR_YOU_TAB"]=11,n[e[12]="RECENT_YOU_SUB_TAB"]=12,n[e[13]="RECENT_TEAM_SUB_TAB"]=13,n[e[14]="CALENDAR_EVENT_MENU"]=14,n[e[15]="SHARING_MODAL"]=15,n[e[16]="TOP_BAR"]=16,n[e[17]="FOR_YOU_TABS"]=17,n[e[18]="SEARCH_RESULTS"]=18,n[e[19]="TOP_BAR_CREATE_MENU"]=19,n[e[20]="TRAY_MENU"]=20,n[e[21]="CENTER_PANE"]=21,n[e[22]="PLUS_CANCEL_SURVEY_MODAL"]=22,n[e[23]="PROFILE_MENU"]=23,n[e[24]="BROWSER_WINDOW"]=24,n[e[25]="RIGHT_PANE"]=25,n[e[26]="CENTER_PANE_PLAN_TAB"]=26,n[e[27]="CENTER_PANE_GENERAL_TAB"]=27,n[e[28]="CENTER_PANE_BILLING_TAB"]=28,n[e[29]="CENTER_PANE_PERSON"]=29,n[e[30]="CENTER_PANE_STARRED"]=30,n[e[31]="CENTER_PANE_CREATE_CONTEXT_MENU"]=31,n[e[32]="CENTER_PANE_VIEW_CONTEXT_MENU"]=32,n[e[33]="LEFT_PANE"]=33,n[e[34]="RIGHT_PANE_SHARE_CONTEXT_MENU"]=34,n[e[35]="APP_ICON"]=35,n[e[36]="RIGHT_PANE_PERSON"]=36,n[e[37]="RIGHT_PANE_CONTEXT_MENU"]=37,n[e[38]="RIGHT_PANE_OPEN_CONTEXT_MENU"]=38,n[e[39]="APPLICATION_MENU"]=39,n[e[40]="CAROUSEL_ONBOARDING_WINDOW"]=40,n[e[41]="CONNECT_APP_WINDOW"]=41,n[e[42]="ONBOARDING_TOOLTIP"]=42,n[e[43]="RIGHT_PANE_PIN_CONTEXT_MENU"]=43,n[e[44]="SPACE_EXAMPLE_MODAL"]=44,n[e[45]="TEAM_CANCEL_SURVEY_MODAL"]=45,n[e[46]="MOVE_MODAL"]=46,n[e[47]="ACCOUNT_CONTEXT_MENU"]=47,n[e[48]="BOTTOM_BAR"]=48,n[e[49]="SYNC_QUEUE"]=49,n[e[50]="PLAN_CHANGE_MODAL"]=50,n[e[51]="MAGIC_PAIRING_WINDOW"]=51,n[e[52]="CONTEXT_MENU"]=52,n[e[53]="SNACKBAR"]=53,n[e[54]="FILE_SYSTEM_WARNING"]=54,n[e[55]="SCREENSHOT"]=55,n[e[56]="SCREEN_RECORDING"]=56,n[e[57]="REEL_HOME_PAGE"]=57,n[e[58]="REEL_VIDEO_PAGE"]=58,n[e[59]="COMMERCE_HOME_PAGE"]=59,n[e[60]="COMMERCE_CREATE_LISTING_PAGE"]=60,n[e[61]="COMMERCE_SELLER_LISTING_PAGE"]=61,n[e[62]="COMMERCE_BUYER_PAGE"]=62,n[e[63]="COMMERCE_STRIPE_ONBOARDING_PAGE"]=63,n),t}(t.TaxonomyActionSurface||{}),t)}),define("modules/clean/hql/index",["require","exports","modules/clean/hql/logger"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logEvent=void 0,t.logEvent=function(e,t){t=(void 0===t?{}:t).flushWithBeacon;n.getLoggerSingleton().add(e,{flushWithBeacon:Boolean(t)})}}),define("modules/clean/hql/api",["require","exports","tslib","api_v2/noauth_client","api_v2/transport/beacon"],function(e,o,r,i,a){"use strict";var l,s;Object.defineProperty(o,"__esModule",{value:!0}),o.addEvents=o.ADD_EVENTS_ENDPOINT=o.EVENT_LOGGING_NAMESPACE=void 0,o.EVENT_LOGGING_NAMESPACE="event_logging",o.ADD_EVENTS_ENDPOINT="add_events",o.addEvents=function(t,e){var e=e.sendBeacon,n=void 0!==e&&e;return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return l=l||new i.NoAuthApiV2Client,s=s||new i.NoAuthApiV2Client(new a.BeaconTransport),n?[2,s.ns(o.EVENT_LOGGING_NAMESPACE).rpc(o.ADD_EVENTS_ENDPOINT,t,{})]:[2,l.ns(o.EVENT_LOGGING_NAMESPACE).rpc(o.ADD_EVENTS_ENDPOINT,t,{})]})})}}),define("modules/clean/hql/logger",["require","exports","tslib","proto_utils/unpack","modules/clean/hql/api","modules/clean/viewer","modules/core/exception","modules/constants/auth"],function(e,c,t,u,p,d,g,f){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getLoggerSingleton=c.Logger=c.MIN_FLUSH_INTERVAL=c.TIME_BEFORE_FIRST_FLUSH=void 0,p=t.__importStar(p),f=t.__importStar(f),c.TIME_BEFORE_FIRST_FLUSH=5e3,c.MIN_FLUSH_INTERVAL=3e4;var n,o=(r.prototype.start=function(){var e=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.flush({sendBeacon:!0})}),window.addEventListener("pagehide",function(){e.flush({sendBeacon:!0})}),this.scheduleFlush(c.TIME_BEFORE_FIRST_FLUSH)},r.prototype.add=function(e,t){t=t.flushWithBeacon;this.events.push({payload:e,ts:Date.now(),sendAttempts:0,sessionId:this.getSessionId()}),t&&this.flush({sendBeacon:!0})},r.prototype.scheduleFlush=function(e){var t=this;this.timeoutId=setTimeout(function(){return t.flush()},e)},r.prototype.flush=function(e){var e=(void 0===e?{}:e).sendBeacon,s=void 0!==e&&e;return t.__awaiter(this,void 0,void 0,function(){var r,i,a,l;return t.__generator(this,function(e){switch(e.label){case 0:if(this.timeoutId&&clearTimeout(this.timeoutId),r=Date.now()+c.MIN_FLUSH_INTERVAL,!(0<this.events.length))return[3,4];i=this.events,this.events=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,p.addEvents((t=i,n=null!==(o=null===(o=null===(o=window.ensemble)||void 0===o?void 0:o.viewer.getActiveUser())||void 0===o?void 0:o.userId)&&void 0!==o?o:f.user_id,o=d.Viewer.get_viewer(),{entries:[{core_fields:{application:{".tag":"dropbox"},user_id:n,team_id:null==o?void 0:o.team_id,paired_user_id:null===(o=null==o?void 0:o.get_users().find(function(e){return e.id!==n}))||void 0===o?void 0:o.id},platform_fields:{".tag":"web_fields",ua_browser_lang:null===(o=window.navigator)||void 0===o?void 0:o.language,is_br_cookies_enabled:null===(o=window.navigator)||void 0===o?void 0:o.cookieEnabled,ua_br_color_depth:null===(o=window.screen)||void 0===o?void 0:o.colorDepth,ua_br_viewport_width:window.innerWidth,ua_br_viewport_height:window.innerHeight,device_screen_height:null===(o=window.screen)||void 0===o?void 0:o.height,device_screen_width:null===(o=window.screen)||void 0===o?void 0:o.width},events:t.map(function(e){var t=e.payload,n=e.ts,e=e.sessionId;return{event_message_name:t.constructor.getTypeUrl().split(".").pop(),event_message_data:u.packProto(t),event_time_ms:n,session_id:e}})}]}),{sendBeacon:s})];case 2:return e.sent(),[3,4];case 3:return l=e.sent(),g.reportException({err:l,tags:["hql_web"],severity:g.SEVERITY.NONCRITICAL}),a=i.filter(function(e){return++e.sendAttempts<4}),(l=this.events).unshift.apply(l,a),[3,4];case 4:return this.scheduleFlush(Math.max(r-Date.now(),0)),[2]}var t,n,o})})},r.prototype.getSessionId=function(){var e=window.localStorage,t=e.getItem("hql_session_last_used"),n=e.getItem("hql_session_value");return n&&t&&!(parseInt(t,10)<Date.now()-18e5)||(n=Date.now().toString(),e.setItem("hql_session_value",n)),e.setItem("hql_session_last_used",Date.now().toString()),n},r);function r(){this.events=[]}c.Logger=o,c.getLoggerSingleton=function(){return n||(n=new o).start(),n}}),define("google/protobuf/descriptor",["require","exports","tslib","protobufjs/minimal"],function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.google=void 0;var a=(o=n.__importStar(o)).Reader,r=o.Writer,i=o.util,l=o.roots.default||(o.roots.default={});t.default=l,t.google=l.google=((o=l.google||{}).protobuf=((t=o.protobuf||{}).FileDescriptorSet=function(t){function t(e){if(this.file=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.file=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.file&&e.file.length)for(var n=0;n<e.file.length;++n)l.google.protobuf.FileDescriptorProto.encode(e.file[n],t.uint32(10).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileDescriptorSet;e.pos<n;){var r=e.uint32();r>>>3==1?(o.file&&o.file.length||(o.file=[]),o.file.push(l.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&r)}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.FileDescriptorSet"},t}(t.FileDescriptorSet||{}),t.FileDescriptorProto=function(t){function t(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.package="",t.prototype.dependency=i.emptyArray,t.prototype.publicDependency=i.emptyArray,t.prototype.weakDependency=i.emptyArray,t.prototype.messageType=i.emptyArray,t.prototype.enumType=i.emptyArray,t.prototype.service=i.emptyArray,t.prototype.extension=i.emptyArray,t.prototype.options=null,t.prototype.sourceCodeInfo=null,t.prototype.syntax="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var n=0;n<e.dependency.length;++n)t.uint32(26).string(e.dependency[n]);if(null!=e.messageType&&e.messageType.length)for(n=0;n<e.messageType.length;++n)l.google.protobuf.DescriptorProto.encode(e.messageType[n],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(n=0;n<e.service.length;++n)l.google.protobuf.ServiceDescriptorProto.encode(e.service[n],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&l.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(n=0;n<e.publicDependency.length;++n)t.uint32(80).int32(e.publicDependency[n]);if(null!=e.weakDependency&&e.weakDependency.length)for(n=0;n<e.weakDependency.length;++n)t.uint32(88).int32(e.weakDependency[n]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.package=e.string();break;case 3:o.dependency&&o.dependency.length||(o.dependency=[]),o.dependency.push(e.string());break;case 10:if(o.publicDependency&&o.publicDependency.length||(o.publicDependency=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.publicDependency.push(e.int32());else o.publicDependency.push(e.int32());break;case 11:if(o.weakDependency&&o.weakDependency.length||(o.weakDependency=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.weakDependency.push(e.int32());else o.weakDependency.push(e.int32());break;case 4:o.messageType&&o.messageType.length||(o.messageType=[]),o.messageType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:o.service&&o.service.length||(o.service=[]),o.service.push(l.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:o.options=l.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:o.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:o.syntax=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.FileDescriptorProto"},t}(t.FileDescriptorProto||{}),t.DescriptorProto=function(t){function t(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.field=i.emptyArray,t.prototype.extension=i.emptyArray,t.prototype.nestedType=i.emptyArray,t.prototype.enumType=i.emptyArray,t.prototype.extensionRange=i.emptyArray,t.prototype.oneofDecl=i.emptyArray,t.prototype.options=null,t.prototype.reservedRange=i.emptyArray,t.prototype.reservedName=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var n=0;n<e.field.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.field[n],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(n=0;n<e.nestedType.length;++n)l.google.protobuf.DescriptorProto.encode(e.nestedType[n],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(n=0;n<e.enumType.length;++n)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[n],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(n=0;n<e.extensionRange.length;++n)l.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[n],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(n=0;n<e.extension.length;++n)l.google.protobuf.FieldDescriptorProto.encode(e.extension[n],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(n=0;n<e.oneofDecl.length;++n)l.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[n],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)l.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[n],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(82).string(e.reservedName[n]);return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.field&&o.field.length||(o.field=[]),o.field.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:o.extension&&o.extension.length||(o.extension=[]),o.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:o.nestedType&&o.nestedType.length||(o.nestedType=[]),o.nestedType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:o.enumType&&o.enumType.length||(o.enumType=[]),o.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:o.extensionRange&&o.extensionRange.length||(o.extensionRange=[]),o.extensionRange.push(l.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:o.oneofDecl&&o.oneofDecl.length||(o.oneofDecl=[]),o.oneofDecl.push(l.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:o.options=l.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(l.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.DescriptorProto"},t.ExtensionRange=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.start=0,t.prototype.end=0,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto.ExtensionRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;case 3:o.options=l.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.DescriptorProto.ExtensionRange"},t}(t.ExtensionRange||{}),t.ReservedRange=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.start=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.DescriptorProto.ReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.DescriptorProto.ReservedRange"},t}(t.ReservedRange||{}),t}(t.DescriptorProto||{}),t.ExtensionRangeOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ExtensionRangeOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.ExtensionRangeOptions"},t}(t.ExtensionRangeOptions||{}),t.FieldDescriptorProto=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.name="",t.prototype.number=0,t.prototype.label=1,t.prototype.type=1,t.prototype.typeName="",t.prototype.extendee="",t.prototype.defaultValue="",t.prototype.oneofIndex=0,t.prototype.jsonName="",t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FieldDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 3:o.number=e.int32();break;case 4:o.label=e.int32();break;case 5:o.type=e.int32();break;case 6:o.typeName=e.string();break;case 2:o.extendee=e.string();break;case 7:o.defaultValue=e.string();break;case 9:o.oneofIndex=e.int32();break;case 10:o.jsonName=e.string();break;case 8:o.options=l.google.protobuf.FieldOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.FieldDescriptorProto"},t.Type=(e={},(n=Object.create(e))[e[1]="TYPE_DOUBLE"]=1,n[e[2]="TYPE_FLOAT"]=2,n[e[3]="TYPE_INT64"]=3,n[e[4]="TYPE_UINT64"]=4,n[e[5]="TYPE_INT32"]=5,n[e[6]="TYPE_FIXED64"]=6,n[e[7]="TYPE_FIXED32"]=7,n[e[8]="TYPE_BOOL"]=8,n[e[9]="TYPE_STRING"]=9,n[e[10]="TYPE_GROUP"]=10,n[e[11]="TYPE_MESSAGE"]=11,n[e[12]="TYPE_BYTES"]=12,n[e[13]="TYPE_UINT32"]=13,n[e[14]="TYPE_ENUM"]=14,n[e[15]="TYPE_SFIXED32"]=15,n[e[16]="TYPE_SFIXED64"]=16,n[e[17]="TYPE_SINT32"]=17,n[e[18]="TYPE_SINT64"]=18,n),t.Label=(e={},(n=Object.create(e))[e[1]="LABEL_OPTIONAL"]=1,n[e[2]="LABEL_REQUIRED"]=2,n[e[3]="LABEL_REPEATED"]=3,n),t}(t.FieldDescriptorProto||{}),t.OneofDescriptorProto=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.OneofDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.options=l.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.OneofDescriptorProto"},t}(t.OneofDescriptorProto||{}),t.EnumDescriptorProto=function(t){function t(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.value=i.emptyArray,t.prototype.options=null,t.prototype.reservedRange=i.emptyArray,t.prototype.reservedName=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var n=0;n<e.value.length;++n)l.google.protobuf.EnumValueDescriptorProto.encode(e.value[n],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(n=0;n<e.reservedRange.length;++n)l.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[n],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(n=0;n<e.reservedName.length;++n)t.uint32(42).string(e.reservedName[n]);return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.value&&o.value.length||(o.value=[]),o.value.push(l.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=l.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:o.reservedRange&&o.reservedRange.length||(o.reservedRange=[]),o.reservedRange.push(l.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:o.reservedName&&o.reservedName.length||(o.reservedName=[]),o.reservedName.push(e.string());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.EnumDescriptorProto"},t.EnumReservedRange=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.start=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.start=e.int32();break;case 2:o.end=e.int32();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.EnumDescriptorProto.EnumReservedRange"},t}(t.EnumReservedRange||{}),t}(t.EnumDescriptorProto||{}),t.EnumValueDescriptorProto=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.number=0,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumValueDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.number=e.int32();break;case 3:o.options=l.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.EnumValueDescriptorProto"},t}(t.EnumValueDescriptorProto||{}),t.ServiceDescriptorProto=function(t){function t(e){if(this.method=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.method=i.emptyArray,t.prototype.options=null,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var n=0;n<e.method.length;++n)l.google.protobuf.MethodDescriptorProto.encode(e.method[n],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ServiceDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.method&&o.method.length||(o.method=[]),o.method.push(l.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:o.options=l.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.ServiceDescriptorProto"},t}(t.ServiceDescriptorProto||{}),t.MethodDescriptorProto=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name="",t.prototype.inputType="",t.prototype.outputType="",t.prototype.options=null,t.prototype.clientStreaming=!1,t.prototype.serverStreaming=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return t=t||r.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MethodDescriptorProto;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.name=e.string();break;case 2:o.inputType=e.string();break;case 3:o.outputType=e.string();break;case 4:o.options=l.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:o.clientStreaming=e.bool();break;case 6:o.serverStreaming=e.bool();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.MethodDescriptorProto"},t}(t.MethodDescriptorProto||{}),t.FileOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.javaPackage="",t.prototype.javaOuterClassname="",t.prototype.javaMultipleFiles=!1,t.prototype.javaGenerateEqualsAndHash=!1,t.prototype.javaStringCheckUtf8=!1,t.prototype.optimizeFor=1,t.prototype.goPackage="",t.prototype.ccGenericServices=!1,t.prototype.javaGenericServices=!1,t.prototype.pyGenericServices=!1,t.prototype.phpGenericServices=!1,t.prototype.deprecated=!1,t.prototype.ccEnableArenas=!1,t.prototype.objcClassPrefix="",t.prototype.csharpNamespace="",t.prototype.swiftPrefix="",t.prototype.phpClassPrefix="",t.prototype.phpNamespace="",t.prototype.phpMetadataNamespace="",t.prototype.rubyPackage="",t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,"swiftPrefix")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,"phpClassPrefix")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,"phpNamespace")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,"phpGenericServices")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,"phpMetadataNamespace")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,"rubyPackage")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FileOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.javaPackage=e.string();break;case 8:o.javaOuterClassname=e.string();break;case 10:o.javaMultipleFiles=e.bool();break;case 20:o.javaGenerateEqualsAndHash=e.bool();break;case 27:o.javaStringCheckUtf8=e.bool();break;case 9:o.optimizeFor=e.int32();break;case 11:o.goPackage=e.string();break;case 16:o.ccGenericServices=e.bool();break;case 17:o.javaGenericServices=e.bool();break;case 18:o.pyGenericServices=e.bool();break;case 42:o.phpGenericServices=e.bool();break;case 23:o.deprecated=e.bool();break;case 31:o.ccEnableArenas=e.bool();break;case 36:o.objcClassPrefix=e.string();break;case 37:o.csharpNamespace=e.string();break;case 39:o.swiftPrefix=e.string();break;case 40:o.phpClassPrefix=e.string();break;case 41:o.phpNamespace=e.string();break;case 44:o.phpMetadataNamespace=e.string();break;case 45:o.rubyPackage=e.string();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.FileOptions"},t.OptimizeMode=(e={},(n=Object.create(e))[e[1]="SPEED"]=1,n[e[2]="CODE_SIZE"]=2,n[e[3]="LITE_RUNTIME"]=3,n),t}(t.FileOptions||{}),t.MessageOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.messageSetWireFormat=!1,t.prototype.noStandardDescriptorAccessor=!1,t.prototype.deprecated=!1,t.prototype.mapEntry=!1,t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MessageOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.messageSetWireFormat=e.bool();break;case 2:o.noStandardDescriptorAccessor=e.bool();break;case 3:o.deprecated=e.bool();break;case 7:o.mapEntry=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.MessageOptions"},t}(t.MessageOptions||{}),t.FieldOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.ctype=0,t.prototype.packed=!1,t.prototype.jstype=0,t.prototype.lazy=!1,t.prototype.deprecated=!1,t.prototype.weak=!1,t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.FieldOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.ctype=e.int32();break;case 2:o.packed=e.bool();break;case 6:o.jstype=e.int32();break;case 5:o.lazy=e.bool();break;case 3:o.deprecated=e.bool();break;case 10:o.weak=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.FieldOptions"},t.CType=(e={},(n=Object.create(e))[e[0]="STRING"]=0,n[e[1]="CORD"]=1,n[e[2]="STRING_PIECE"]=2,n),t.JSType=(e={},(n=Object.create(e))[e[0]="JS_NORMAL"]=0,n[e[1]="JS_STRING"]=1,n[e[2]="JS_NUMBER"]=2,n),t}(t.FieldOptions||{}),t.OneofOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.OneofOptions;e.pos<n;){var r=e.uint32();r>>>3==999?(o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&r)}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.OneofOptions"},t}(t.OneofOptions||{}),t.EnumOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.allowAlias=!1,t.prototype.deprecated=!1,t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.allowAlias=e.bool();break;case 3:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.EnumOptions"},t}(t.EnumOptions||{}),t.EnumValueOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.EnumValueOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.EnumValueOptions"},t}(t.EnumValueOptions||{}),t.ServiceOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.deprecated=!1,t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.ServiceOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.ServiceOptions"},t}(t.ServiceOptions||{}),t.MethodOptions=function(t){function t(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var e,n;return t.prototype.deprecated=!1,t.prototype.idempotencyLevel=0,t.prototype.uninterpretedOption=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,"idempotencyLevel")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var n=0;n<e.uninterpretedOption.length;++n)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[n],t.uint32(7994).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.MethodOptions;e.pos<n;){var r=e.uint32();switch(r>>>3){case 33:o.deprecated=e.bool();break;case 34:o.idempotencyLevel=e.int32();break;case 999:o.uninterpretedOption&&o.uninterpretedOption.length||(o.uninterpretedOption=[]),o.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.MethodOptions"},t.IdempotencyLevel=(e={},(n=Object.create(e))[e[0]="IDEMPOTENCY_UNKNOWN"]=0,n[e[1]="NO_SIDE_EFFECTS"]=1,n[e[2]="IDEMPOTENT"]=2,n),t}(t.MethodOptions||{}),t.UninterpretedOption=function(t){function t(e){if(this.name=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.name=i.emptyArray,t.prototype.identifierValue="",t.prototype.positiveIntValue=0,t.prototype.negativeIntValue=0,t.prototype.doubleValue=0,t.prototype.stringValue=i.newBuffer([]),t.prototype.aggregateValue="",t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.name&&e.name.length)for(var n=0;n<e.name.length;++n)l.google.protobuf.UninterpretedOption.NamePart.encode(e.name[n],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.UninterpretedOption;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:o.name&&o.name.length||(o.name=[]),o.name.push(l.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:o.identifierValue=e.string();break;case 4:o.positiveIntValue=e.uint64();break;case 5:o.negativeIntValue=e.int64();break;case 6:o.doubleValue=e.double();break;case 7:o.stringValue=e.bytes();break;case 8:o.aggregateValue=e.string();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.UninterpretedOption"},t.NamePart=function(t){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.namePart="",t.prototype.isExtension=!1,t.create=function(e){return new t(e)},t.encode=function(e,t){return(t=t||r.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.UninterpretedOption.NamePart;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:o.namePart=e.string();break;case 2:o.isExtension=e.bool();break;default:e.skipType(7&r)}}if(!o.hasOwnProperty("namePart"))throw i.ProtocolError("missing required 'namePart'",{instance:o});if(!o.hasOwnProperty("isExtension"))throw i.ProtocolError("missing required 'isExtension'",{instance:o});return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.UninterpretedOption.NamePart"},t}(t.NamePart||{}),t}(t.UninterpretedOption||{}),t.SourceCodeInfo=function(t){function t(e){if(this.location=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.location=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.location&&e.location.length)for(var n=0;n<e.location.length;++n)l.google.protobuf.SourceCodeInfo.Location.encode(e.location[n],t.uint32(10).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.SourceCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.location&&o.location.length||(o.location=[]),o.location.push(l.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&r)}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.SourceCodeInfo"},t.Location=function(t){function t(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.path=i.emptyArray,t.prototype.span=i.emptyArray,t.prototype.leadingComments="",t.prototype.trailingComments="",t.prototype.leadingDetachedComments=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}if(null!=e.span&&e.span.length){for(t.uint32(18).fork(),n=0;n<e.span.length;++n)t.int32(e.span[n]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(n=0;n<e.leadingDetachedComments.length;++n)t.uint32(50).string(e.leadingDetachedComments[n]);return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.SourceCodeInfo.Location;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:if(o.span&&o.span.length||(o.span=[]),2==(7&r))for(i=e.uint32()+e.pos;e.pos<i;)o.span.push(e.int32());else o.span.push(e.int32());break;case 3:o.leadingComments=e.string();break;case 4:o.trailingComments=e.string();break;case 6:o.leadingDetachedComments&&o.leadingDetachedComments.length||(o.leadingDetachedComments=[]),o.leadingDetachedComments.push(e.string());break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.SourceCodeInfo.Location"},t}(t.Location||{}),t}(t.SourceCodeInfo||{}),t.GeneratedCodeInfo=function(t){function t(e){if(this.annotation=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.annotation=i.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.annotation&&e.annotation.length)for(var n=0;n<e.annotation.length;++n)l.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[n],t.uint32(10).fork()).ldelim();return t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.GeneratedCodeInfo;e.pos<n;){var r=e.uint32();r>>>3==1?(o.annotation&&o.annotation.length||(o.annotation=[]),o.annotation.push(l.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&r)}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.GeneratedCodeInfo"},t.Annotation=function(t){function t(e){if(this.path=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.path=i.emptyArray,t.prototype.sourceFile="",t.prototype.begin=0,t.prototype.end=0,t.create=function(e){return new t(e)},t.encode=function(e,t){if(t=t||r.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var n=0;n<e.path.length;++n)t.int32(e.path[n]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},t.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,o=new l.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:if(o.path&&o.path.length||(o.path=[]),2==(7&r))for(var i=e.uint32()+e.pos;e.pos<i;)o.path.push(e.int32());else o.path.push(e.int32());break;case 2:o.sourceFile=e.string();break;case 3:o.begin=e.int32();break;case 4:o.end=e.int32();break;default:e.skipType(7&r)}}return o},t.getTypeUrl=function(){return"type.googleapis.com/google.protobuf.GeneratedCodeInfo.Annotation"},t}(t.Annotation||{}),t}(t.GeneratedCodeInfo||{}),t),o)}),define("modules/clean/analytics",["require","exports","tslib","dropbox/proto/hql_events/extensions","dropbox/proto/hql_events/taxonomy","dropbox/proto/hql_events/ux_analytics/ux_analytics_events","modules/clean/deprecated_ajax/ajax","modules/clean/amp_web_logger","modules/clean/hql/index","modules/clean/uuid/insecure_uuid","modules/clean/ux_analytics/types","modules/clean/viewer","modules/core/exception"],function(e,s,c,u,t,p,d,g,f,n,m,i,h){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.OutOfSpaceLogger=s.LowSpaceLogger=s.NqOqEventNames=s.NQOQLogger=s.WebOnboardingLogger=s.LegacySharingVortexLogger=s.ContactSearchLogger=s.WebMiscActivityLogger=s.UserActivityLogger=s.IntentLogger=s.TeamsWebActionsLogger=s.SharingExperimentsLogger=s.ShareTibEventLogger=s.SearchClientActivityLogger=s.MobileFilePreviewLogger=s.PreviewActivityLogger=s.RestorationStepsLogger=s.ProEventsLogger=s.ProEventNames=s.GrowthEventsLogger=s.UXAnalyticsLogger=s.formatUxaExtraKeysForHql=s.get_uids_for_logging=s.PROJECT_MAGNET_ORIGIN=s.SuggestInvitingSharedUsersModalEvents=void 0,d=c.__importStar(d);var y=t.hql_events.TaxonomyAppSurface.AppSurface,v=t.hql_events.TaxonomyActionSurface.ActionSurface;(t=s.SuggestInvitingSharedUsersModalEvents||(s.SuggestInvitingSharedUsersModalEvents={})).SUGGESTION_ACCEPTED="suggest_invite_modal_accepted",t.SUGGESTION_DISMISSED="suggest_invite_modal_dismissed",t.SUGGESTION_MODAL_OPENED="suggest_invite_modal_opened",s.PROJECT_MAGNET_ORIGIN="magnet",s.get_uids_for_logging=function(e){var t=i.Viewer.get_viewer();return e?[e]:t.get_users().map(function(e){return e.id})};function l(e){return e.replace(/_([a-z])/g,function(e){return e[1].toUpperCase()})}var _={modal_open:["modal"],modal_close:["modal"],link_click:["link_id"],link_no_session_storage:["link_id"],element_click:["element_id"],page_view:["page"]};s.formatUxaExtraKeysForHql=function(e){for(var t=["url","org_referrer","http_referrer","previous_url","hash_fragment","origin_href","destination_url"],n={},o=0,r=Object.keys(e);o<r.length;o++){var i=r[o],a=l(i);t.includes(i)&&(a+="_pii"),n[l(a)]=e[i]}return n},s.UXAnalyticsLogger={log:function(n,o,r,e){for(var t=0,i=[["AMP",function(){var t;e&&e.includes(n)&&(t={},o&&n in _&&_[n].forEach(function(e){e in o&&o[e]&&(t[e]=String(o[e]))}),g.AMPWebLogger.logEventCount("uxa_events",n,t))}],["UXA-Backend",function(){var e={url:"/log/ux_analytics",data:{event_type:n,extra_params:JSON.stringify(o)}};r?d.SilentBackgroundBeaconRequest(e):d.SilentBackgroundRequest(e)}],["HQL",function(){if(o){var e=s.formatUxaExtraKeysForHql(o),t={flushWithBeacon:r};switch(n){case m.LOG_EVENTS.pageView:f.logEvent(p.hql_events.UXAnalyticsShownPage.create({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW})}),t);break;case m.LOG_EVENTS.linkClick:f.logEvent(p.hql_events.UXAnalyticsSelectLink.create(c.__assign({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e),elementPositionFields:p.hql_events.ElementPositionFields.create(e)},e)),t);break;case m.LOG_EVENTS.linkNoSessionStorage:f.logEvent(p.hql_events.UXAnalyticsSelectLinkNoSessionStorage.create({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e)}),t);break;case m.LOG_EVENTS.elementClick:f.logEvent(p.hql_events.UXAnalyticsSelectElement.create(c.__assign({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e),elementPositionFields:p.hql_events.ElementPositionFields.create(e)},e)),t);break;case m.LOG_EVENTS.finalHeartbeat:f.logEvent(p.hql_events.UXAnalyticsDismissPage.create({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e)}),t);break;case m.LOG_EVENTS.heartbeat:f.logEvent(p.hql_events.UXAnalyticsHeartbeatPage.create({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e)}),t);break;case m.LOG_EVENTS.modalOpen:f.logEvent(p.hql_events.UXAnalyticsShownModal.create(c.__assign({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e)},e)),t);break;case m.LOG_EVENTS.modalClose:f.logEvent(p.hql_events.UXAnalyticsDismissModal.create(c.__assign({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e)},e)),t);break;case m.LOG_EVENTS.scroll:f.logEvent(p.hql_events.UXAnalyticsScrollPage.create(c.__assign({uxaCommonFields:p.hql_events.UXACommonFields.create(e),hqlMetadata:u.hql_events.HQLMetadata.create({appSurface:y.WEB,actionSurface:v.BROWSER_WINDOW}),timeAndLocationFields:p.hql_events.TimeAndLocationFields.create(e)},e)),t)}}}]];t<i.length;t++){var a=i[t],l=a[0],a=a[1];try{a()}catch(e){h.reportException(c.__assign({err:e,severity:h.SEVERITY.NONCRITICAL,tags:["ux_analytics",l]},{exc_extra:{extra_params:o,event_type:n}}))}}}},s.GrowthEventsLogger={log:function(e,t,n,o){d.SilentBackgroundRequest({url:"/log/pro_events",data:{event:e,extra:JSON.stringify(t),is_client:!!o},success:n||void 0,error:n||void 0})}},(t=s.ProEventNames||(s.ProEventNames={})).BUY_TRY_PAGE_CHECKOUT="buy_try_page_checkout",t.BUY_TRY_PAGE_CHECKOUT_CRASH="buy_try_page_checkout_crash",s.ProEventsLogger={log:function(e,t,n,o,r){d.SilentBackgroundRequest({url:"/log/pro_events",data:{event:e,extra:JSON.stringify(t),is_client:!!o,project:r},success:n||void 0,error:n||void 0})}},s.RestorationStepsLogger={generate_restore_id:function(e){return{type:"restore",value:"restore#"+e+"#"+n.InsecureUUID.v4()}},restore_id_from_string:function(e){return{type:"restore",value:e}},log_step:function(e){var t=e.postHandler||void 0;d.SilentBackgroundRequest({url:"/log/restoration_step/step",data:{restore_id:e.restoreId.value,step:e.step,extra:JSON.stringify(e.extra)},subject_user:e.userId,success:t,error:t})},log_entry:function(e){var t=e.postHandler||void 0,n=e.restoreId||s.RestorationStepsLogger.generate_restore_id(e.userId);return d.SilentBackgroundRequest({url:"/log/restoration_step/entry",data:{restore_id:n.value,step:e.step,entry_point:e.entry_point,extra:JSON.stringify(e.extra)},subject_user:e.userId,success:t,error:t}),n},log_success:function(e){var t=e.postHandler||void 0;d.SilentBackgroundRequest({url:"/log/restoration_step/success",data:{restore_id:e.restoreId.value,step:e.step,success:e.success||"success",extra:JSON.stringify(e.extra)},subject_user:e.userId,success:t,error:t})},log_failure:function(e){var t=e.postHandler||void 0;d.SilentBackgroundRequest({url:"/log/restoration_step/failure",data:{restore_id:e.restoreId.value,step:e.step,failure:e.failure,extra:JSON.stringify(e.extra)},subject_user:e.userId,success:t,error:t})}},s.PreviewActivityLogger={start_times:{},start:function(e,t){s.PreviewActivityLogger.start_times[e]=t||Date.now()},stop:function(e,t){null!=s.PreviewActivityLogger.start_times[e]&&(t.total_time=Date.now()-s.PreviewActivityLogger.start_times[e],s.PreviewActivityLogger.log(e,t),delete s.PreviewActivityLogger.start_times[e])},log:function(e,t){d.SilentBackgroundRequest({url:"/preview_activity_log",data:{event_name:e,input_method:t.input_method,file_ext:t.file_ext,extra:t.extra}})}},s.MobileFilePreviewLogger={log:function(e,t,n,o,r,i){d.SilentBackgroundRequest({url:"/log/mobile_file_preview",data:{client_time:+new Date,event_name:e,file_viewer_session_id:t,file_preview_session_id:n,file_ns_id:o,file_sjid:r,extra:JSON.stringify(i)}})}},s.SearchClientActivityLogger={create_search_log_dict:function(e,t,n,o,r,i,a){return null!=t&&(e.request_id=t),null!=n&&(e.latency=(new Date).getTime()-n),null!=o&&(e.query_string=o),null!=r&&(e.result_count=r),null!=i&&"200"!==i&&(e.failure_type=i),null!=a&&(e.search_session_id=a),e},log:function(e,t,n){d.SilentBackgroundRequest({url:"/searchclientlogger",subject_user:t,data:c.__assign(c.__assign({event_name:e,typeahead_session_id:n.search_session_id},n),{extra:JSON.stringify(n.extra)})})}},s.ShareTibEventLogger={log:function(e,t,n,o){d.SilentBackgroundRequest({url:"/share_tib_log",data:{event:t,origin:n,extra:JSON.stringify(o)},subject_user:e})},log_unauth:function(e,t,n){d.SilentBackgroundRequest({url:"/share_tib_log_unauth",data:{event:e,origin:t,extra:JSON.stringify(n)}})}},s.SharingExperimentsLogger={log:function(e,t,n){void 0===n&&(n={}),d.SilentBackgroundRequest({url:"/log/sharing_experiments",data:{action_type:t,action_extras:JSON.stringify(n)},subject_user:e})}},s.TeamsWebActionsLogger={LOG_CATEGORY:{PROMO_TEAMS:"promo_teams",TEAM_INFO:"team_info",UPGRADE:"upgrade_to_dfb",USAGE_INFO:"usage_info",LIMITED_TEAM_INFO_DETAILED:"limited_team_info_detailed",TEAM_AND_USER_INFO:"team_and_user_info"},log:function(e,t,n,o,r,i){o=s.get_uids_for_logging(o);return d.SilentBackgroundRequest({url:"/teamswalogger",data:{event_name:e,extra:t?JSON.stringify(t):void 0,for_uids:JSON.stringify(o),log_category:i,restricted:r?"1":void 0},success:n||void 0,error:n||void 0})},log_for_category:function(e,t,n){s.TeamsWebActionsLogger.log(e,n,void 0,void 0,!1,t)}},s.IntentLogger={log:function(e,t,n,o){var r=function(e,t){void 0===t&&(t=!0);var n=i.Viewer.get_viewer();return e?[n.get_user_by_id(e).account_id]:n.get_account_ids?n.get_account_ids(t):[]}(o),o=t||{},t=o.extra,o=c.__rest(o,["extra"]),o=c.__assign({event_name:e,extra:JSON.stringify(t)||"{}",for_acc_ids:JSON.stringify(r)},o);d.SilentBackgroundRequest({url:"/intentlogger",data:o,success:n||void 0,error:n||void 0})}},s.UserActivityLogger={start_times:{},start:function(e,t,n){s.UserActivityLogger.start_times[t]=n||Date.now()},stop:function(e,t,n,o){null!=s.UserActivityLogger.start_times[t]&&(n.total_time=Date.now()-s.UserActivityLogger.start_times[t],s.UserActivityLogger.log(e,t,n,o),delete s.UserActivityLogger.start_times[t])},log:function(e,t,n,o){n=n||{};o=s.get_uids_for_logging(o);d.SilentBackgroundRequest({url:"/ualogger",data:{platform:e,event_name:t,extra:JSON.stringify(n),for_uids:JSON.stringify(o)}})}},s.WebMiscActivityLogger={log:function(e,t,n,o){n=s.get_uids_for_logging(n);d.SilentBackgroundRequest({url:"/misclogger",data:{event_name:e,extra:JSON.stringify(t),for_uids:JSON.stringify(n)},success:o||void 0,error:o||void 0})}};o.prototype._clear_buffers=function(){this.selection_buffer=[],this.timing_buffer=[],this.total_searches=0,this.slow_searches=0,this.downloaded_contacts=null,this.downloading_time=null},o.prototype.add_record=function(e){e.deleted=!1,this.selection_buffer.push(e)},o.prototype.flag_record_as_removed=function(e){for(var t=0,n=this.selection_buffer;t<n.length;t++){var o=n[t];if(o.contact_id===e&&!o.deleted)return void(o.deleted=!0)}},o.prototype.add_timing_record=function(e){this.timing_buffer.push(e)},o.prototype.count_search=function(e){this.total_searches+=1,e&&(this.slow_searches+=1)},o.prototype.add_downloading_stats=function(e){e&&(this.downloading_time=e.downloading_time,this.downloaded_contacts=e.num_contacts)},o.prototype.log_records=function(e,t,n){void 0===n&&(n=0);var o={events:JSON.stringify(this.selection_buffer),canceled:t};(this.total_searches||this.timing_buffer.length)&&(t={context:this.context,search_mode:this.search_mode,total_searches:this.total_searches,slow_searches:this.slow_searches,downloading_time:this.downloading_time,downloaded_contacts:this.downloaded_contacts},o.total_contacts=n,o.timing_events=JSON.stringify(this.timing_buffer),o.session_summary=JSON.stringify(t)),d.SilentBackgroundRequest({url:"/contact_search_log",subject_user:e,data:o}),this._clear_buffers()},t=o;function o(e,t){this.context=e=void 0===e?null:e,this.search_mode=t,this._clear_buffers()}s.ContactSearchLogger=t,s.LegacySharingVortexLogger={log:function(e){d.SilentBackgroundRequest({url:"/legacy_sharing_vortex_log",data:{event_name:e}})}},s.WebOnboardingLogger={log:function(e,t,n,o,r){d.SilentBackgroundRequest({url:"/log/onboarding",data:{module_name:t,event_name:n,status:o,extra:JSON.stringify(r)},subject_user:e})}},s.NQOQLogger={logViewModal:function(e,t){t={modal_type:t.modal_type};s.ProEventsLogger.log(e+"_view",t)},logCloseModal:function(e,t){t={modal_type:t.modal_type,cta_type:"close"};s.ProEventsLogger.log(e+"_click_close",t)},logPreviewLink:function(e,t){t={modal_type:t.modal_type,cta_type:"secondary",cta_text:"preview link"};s.ProEventsLogger.log(e+"_click_secondary_preview",t)},logCancelModal:function(e,t){t={modal_type:t.modal_type,cta_type:"secondary",cta_text:"cancel"};s.ProEventsLogger.log(e+"_click_secondary_cancel",t)},logAcceptModal:function(e,t){t={modal_type:t.modal_type,cta_type:"primary",cta_text:t.cta_text};s.ProEventsLogger.log(e+"_click_primary",t)}},(t=s.NqOqEventNames||(s.NqOqEventNames={})).PRO="pro",t.PLUS="plus",t.BUY_TOP="buy_top",t.BUY_BOTTOM="buy_bottom",t.BUSINESS="business",t.PRO_TRY="pro_try",t.BUY_PLUS="buy_plus",t.BUY_MOBILE="buy_mobile",s.LowSpaceLogger={logView:function(e){s.ProEventsLogger.log("low_space"+(e?"_sharing":"")+"_view")},logCtaClick:function(e,t,n,o){s.ProEventsLogger.log("low_space"+(t?"_sharing":"")+"_cta_click_"+e,n=void 0===n?{}:n,o)}},s.OutOfSpaceLogger={logView:function(){s.ProEventsLogger.log("out_of_space_view")},logCtaClick:function(e,t,n){s.ProEventsLogger.log("out_of_space_cta_click_"+e,t=void 0===t?{}:t,n)}}}),define("modules/clean/ux_analytics/types",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG_EVENTS=void 0,t.LOG_EVENTS={heartbeat:"heartbeat",linkClick:"link_click",elementClick:"element_click",linkNoSessionStorage:"link_no_session_storage",modalClose:"modal_close",modalOpen:"modal_open",pageView:"page_view",scroll:"scroll_event",finalHeartbeat:"final_heartbeat",spaPageView:"spa_page_view",delayedPageViewWithLateMetaTag:"delayed_page_view_with_late_meta_tag"}}),define("modules/clean/ux_analytics/ux_analytics",["require","exports","modules/clean/ux_analytics/lazy_ux_analytics","modules/clean/ux_analytics/ux_variants","modules/clean/ux_analytics/types","modules/clean/ux_analytics/window_history_listeners","modules/clean/ux_analytics/utils"],function(e,r,t,a,l,s,n){"use strict";function c(){return(new Date).getTime()}function u(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}function p(e){return(e=void 0===e?window:e).location.href}function d(e){return e&&e.hasAttribute("data-uxa-log")}function g(e){return e&&"A"===e.nodeName}function f(e){return e&&e.getAttribute("data-trackingid")}function m(e){return e&&"BODY"===e.nodeName}function o(){return Math.random().toString().slice(2)}Object.defineProperty(r,"__esModule",{value:!0}),r.UXAnalytics=r.UXStorage=r.UXA_DELAYED_PAGE_VIEW_WITH_LATE_META_TAG_EVENT=r.UXA_VIEW_UPDATE_EVENT=r.UXA_HISTORY_CHANGE_EVENT=void 0,r.UXA_HISTORY_CHANGE_EVENT="historyChange",r.UXA_VIEW_UPDATE_EVENT="viewUpdate",r.UXA_DELAYED_PAGE_VIEW_WITH_LATE_META_TAG_EVENT="delayed_page_view_with_late_meta_tag";var h,i,y,v=function(){var e=null,t="uxa.onedoesnotsimplyusesessionstorage";try{(e=window.sessionStorage)&&(e.setItem(t,t),e.removeItem(t))}catch(t){e=null}return e}(),_=(N=window).hasOwnProperty("JSON")?N.JSON:null;function O(e){return"uxa."+e}function b(e){return i&&i.removeItem(O(e)),null}N=h=r.UXStorage||(r.UXStorage={}),i=v,y=_,N.isEnabled=function(){return!!i},N.get=function(e){if(!i||!y)return null;try{var t=i.getItem(O(e));return null===t?null:y.parse(t)}catch(e){return null}},N.set=function(e,t){if(!i||!y)return null;try{return null===t?b(e):(i.setItem(O(e),y.stringify(t)),null)}catch(e){return null}},N.remove=b,N.clear=function(e){return i&&i.clear(),null};var E=new Set(Object.keys(l.LOG_EVENTS).map(function(e){return l.LOG_EVENTS[e]})),k="clicked_link",P="tracking_params",w="visit_id",T="previous_url",A="last_active_time",S=/\/account|\/share|\/buy|\/pro\/try/,N=(L.initialize=function(e,t,o,n){return void 0===o&&(o=null),void 0===n&&(n=!0),null===L.singleton?L.singleton=new L(e,t,n):o&&[["requestId",t.requestId,L.singleton.requestId],["orgReferrer",t.orgReferrer,L.singleton.orgReferrer],["httpReferrer",t.httpReferrer,L.singleton.httpReferrer],["configs.delayed_link_click_logging",t.delayed_link_click_logging,L.singleton.delayedLinkClickLogging],["configs.event_names",t.event_names,L.singleton.event_names],["configs.modal_class",t.modal_class,L.singleton.modalClass]].forEach(function(e){var t=e[0],n=e[1],e=e[2];void 0!==n&&n!==e&&o(new Error("UX Analytics initialize overload attempt; "+t+" '"+n+"' !== '"+e+"'"))}),L.singleton},L.prototype.setupListeners=function(){this.getListeners().forEach(function(e){var t=e[0],n=e[1],e=e[2];t.addEventListener(n,e)}),t.uxaIsListening()},L.prototype.cleanupListeners=function(){this.getListeners().forEach(function(e){var t=e[0],n=e[1],e=e[2];t.removeEventListener(n,e)})},L.prototype.cleanSessionStorage=function(){var e=(new Date).getTime(),t=h.get(w),n=h.get(A);null===t?h.set(w,o()):null!==n&&18e5<=e-n&&(h.remove(T),h.set(w,o())),h.set(A,e)},L.prototype.logPageView=function(){this.logEvent(this.createEvent(l.LOG_EVENTS.pageView))},L.prototype.logSpaPageView=function(e){this.logEvent(this.createEvent(l.LOG_EVENTS.spaPageView,{spa_source:e}))},L.prototype.logModal=function(e,t){this.logOnPage(e,{modal:t},!0)},L.prototype.logViewUpdate=function(e){e=e.detail,e={view:e.viewId,view_step:e.viewStep};this.logOnPage("view_update",e,!0)},L.prototype.logDelayedClickEvent=function(){if(!h.isEnabled())return null;var e=h.get(k);if(e)try{e.destination_url=p();var t={eventName:l.LOG_EVENTS.linkClick,extra:e};this.logEvent(t),h.remove(k)}catch(e){}return null},L.prototype.logOnPage=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var o=this.getTimeOnPage();t.vertical_offset=t.vertical_offset||u(),t.time_on_page=t.time_on_page||o,(o<600||n)&&this.logEvent(this.createEvent(e,t))},L.prototype.logEvent=function(e){try{if(t=e.eventName,!E.has(t))throw new Error("UXAnalytics.log: trying to log an invalid event ("+e.eventName+")");a.addMatchedVariantsToEvent(e),e.extra.instance_event_count=++this.instance_event_count,e.extra.instance_init_ts=this.instance_init_ts,e.eventName===l.LOG_EVENTS.finalHeartbeat?this.logger.log(e.eventName,e.extra,!0,this.event_names):this.logger.log(e.eventName,e.extra,!1,this.event_names)}catch(e){throw e}var t},L.prototype.createEvent=function(e,t){if(void 0===t&&(t={}),this.orgReferrer&&(t.org_referrer=this.orgReferrer),this.visitId&&(t.visit_id=this.visitId),t.request_seq=this.requestSeq,this.httpReferrer&&(t.http_referrer=this.httpReferrer),this.previousUrl&&(t.previous_url=this.previousUrl),t.request_id=t.request_id||this.requestId,t.url=t.url||p(),location.hash&&(t.hash_fragment=location.hash),t.uxa_v=2.2,this.trackingParams)for(var n=0,o=Object.keys(this.trackingParams);n<o.length;n++){var r=o[n],i=r.replace(/^_/,""),r=this.trackingParams[r];t["param_"+i]=r}return this.warpInfo&&(t.warp_variants=this.warpInfo.token),{eventName:e,extra:t}},L.prototype.storeDelayedLinkClick=function(e){if(!h.isEnabled())return this.logOnPage(l.LOG_EVENTS.linkNoSessionStorage),!1;try{h.set(k,e.extra)}catch(e){return!1}return!0},L.prototype.saveTrackingParams=function(){var e=this.getTrackingParams();Object.keys(e).length?(h.set(P,e),this.trackingParams=e):this.trackingParams=null},L.prototype.getTrackingParams=function(){for(var e=h.get(P)||{},t=function(){var e={},t=(t=void 0===t?window:t).location.search;if(t.length)for(var n=0,o=t.substring(1).replace(/&amp;/g,"&").split("&");n<o.length;n++){var r=o[n].split("="),i=r[0],r=r[1];i&&r&&(i=i.trim(),r=r.trim(),i.length&&r.length&&(e[i]=decodeURIComponent(r.replace(/\+/g," "))))}return e}(),n=0,o=["gclid","oqa","trigger","msclkid","_tk","_camp","_ad","_net","_kw","utm_campaign","utm_content","utm_medium","utm_source","utm_term","fbclid"];n<o.length;n++){var r=o[n];t.hasOwnProperty(r)&&(e[r]=t[r])}return e},L.prototype.saveWARPInfo=function(){var e=this.getWARPInfo();this.warpInfo=e||null},L.prototype.getWARPInfo=function(){var e=n.getWARPInfoFromDOM();return e?{token:e}:null},L.prototype.getTimeOnPage=function(){return Math.round((c()-this.initTime)/1e3)},L.prototype.getElementRank=function(e){var t=e.nodeName.toLowerCase(),n=e.getAttribute("data-uxa-log"),o=document.querySelectorAll(t+'[data-uxa-log="'+n+'"]');if(1===o.length)return 1;for(var r=0;r<o.length;r++)if(o[r]===e)return r+1;return-1},L.prototype.getLinkRank=function(e){var t=e.getAttribute("href"),n=document.querySelectorAll('a[href="'+t+'"]');if(1===n.length)return 1;for(var o=0;o<n.length;o++)if(n[o]===e)return o+1;return-1},L.singleton=null,L);function L(e,t,n){var i=this;void 0===n&&(n=!0),this.currentModalId=null,this.lastScrollOffset=0,this.scrollTimer=null,this.startHeartbeat=function(){for(var e=0,t=[2,5,10,15,30];e<t.length;e++){var n=t[e];setTimeout(i.logOnPage.bind(i,l.LOG_EVENTS.heartbeat),1e3*n)}for(var o=0,r=[1,2,4,9];o<r.length;o++)n=r[o],setTimeout(i.logOnPage.bind(i,l.LOG_EVENTS.heartbeat),60*n*1e3)},this.delayedInit=function(){i.saveTrackingParams(),i.saveWARPInfo(),i.setupListeners(),i.logPageView(),i.logDelayedClickEvent()},this.getListeners=function(){return[[window,"scroll",i.handleScroll],[window,"pageshow",i.handlePageShow],[window,"unload",i.handlePageClose],[document.body,"mousedown",i.handleMousedown],[document.body,"keydown",i.handleKeyboardEnter],[document,"modalOpened",i.trackModalShow],[document,"modalClosed",i.trackModalHide],[window,r.UXA_HISTORY_CHANGE_EVENT,i.onDBHistoryChange],[document,r.UXA_VIEW_UPDATE_EVENT,function(e){return i.logViewUpdate(e)}],[window,s.SPA_HISTORY_STATE_CHANGE,i.handleHistoryStateChange],[window,r.UXA_DELAYED_PAGE_VIEW_WITH_LATE_META_TAG_EVENT,i.handleDelayedPageViewEventWithLateMetaTags]]},this.trackScrolling=function(){i.scrollTimer&&clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout(i.onScroll,500)},this.handleScroll=function(o,r){void 0===r&&(r={});var i=null,a=0;return function(){var e=c();a||!1!==r.leading||(a=e);var t=2e3-(e.valueOf()-a.valueOf()),n=arguments;t<=0||2e3<t?(i&&(clearTimeout(i),i=null),a=e,o.apply(null,n),n=null):i||!1===r.trailing||(i=setTimeout(function(){a=!1===r.leading?0:c(),i=null,o.apply(null,n),n=null},t))}}(this.trackScrolling,{leading:!0}),this.onScroll=function(){var e=u();i.lastScrollOffset!==e&&(i.lastScrollOffset=e,i.logOnPage(l.LOG_EVENTS.scroll,{vertical_offset:e}))},this.handlePageShow=function(e){e.persisted&&(i.cleanSessionStorage(),e=h.get(T),h.set(T,p()),i.previousUrl=e,i.visitId=h.get(w),setTimeout(i.delayedInit,200))},this.handlePageClose=function(e){var t={};t.vertical_offset=t.vertical_offset||u(),t.time_on_page=t.time_on_page||i.getTimeOnPage(),i.logEvent(i.createEvent(l.LOG_EVENTS.finalHeartbeat,t))},this.handleElementClick=function(o){var e,t=function(){for(var e=o.target,t=0;t<6&&!d(e)&&!m(e);t++){var n=e.parentNode;if(!(n instanceof HTMLElement))break;e=n}return e}();d(t)&&(e=t.getBoundingClientRect(),t=i.createEvent(l.LOG_EVENTS.elementClick,{left:Math.round(e.left),element_id:t.getAttribute("data-uxa-log"),element_rank:i.getElementRank(t),time_on_page:i.getTimeOnPage(),top:Math.round(e.top),vertical_offset:u(),tag_name:t.tagName.toLowerCase()}),i.logEvent(t))},this.handleLinkClick=function(o){var e,t=function(){for(var e=o.target,t=0;t<6&&!g(e)&&!f(e)&&!m(e);t++){var n=e.parentNode;if(!(n instanceof HTMLElement))break;e=n}return e}();(g(t)||f(t))&&(e=t.getBoundingClientRect(),e=i.createEvent(l.LOG_EVENTS.linkClick,{left:Math.round(e.left),link_id:t.getAttribute("data-trackingid"),link_rank:i.getLinkRank(t),origin_href:t.getAttribute("href"),time_on_page:i.getTimeOnPage(),top:Math.round(e.top),vertical_offset:u(),tag_name:t.tagName.toLowerCase()}),i.delayedLinkClickLogging&&g(t)?i.storeDelayedLinkClick(e):i.logEvent(e))},this.onDBHistoryChange=function(e){var t=e.detail.url;S.test(t)&&(h.set(T,p()),i.previousUrl=e.detail.previousUrl,++i.requestSeq,i.logPageView())},this.handleHistoryStateChange=function(e){var t=h.get(T);h.set(T,p()),i.previousUrl=t,++i.requestSeq,i.logSpaPageView(e.detail.eventSource)},this.handleDelayedPageViewEventWithLateMetaTags=function(e){a.addConfigsFromDOM(!0),i.logEvent(i.createEvent(l.LOG_EVENTS.delayedPageViewWithLateMetaTag))},this.handleMousedown=function(e){i.handleLinkClick(e),i.handleElementClick(e)},this.handleKeyboardEnter=function(e){13===e.keyCode&&(i.handleLinkClick(e),i.handleElementClick(e))},this._modalIdSanitizer=function(e){if("upsell-home-modal"===e.id){var t=Array.from(e.classList).find(function(e){return-1<e.indexOf("db-modal-custom-")});if(t)return t.replace("db-modal-custom-","")}return e.id},this.trackModalShow=function(){var e=document.querySelectorAll(i.modalClass),e=Array.from(e).find(function(e){return"none"!==window.getComputedStyle(e).display||e.classList.contains("clean-react-modal")||e.classList.contains("uxa-modal-tracking-span")});e&&(i.currentModalId=i._modalIdSanitizer(e)||"n/a -- file bug to cgi-team",i.logModal(l.LOG_EVENTS.modalOpen,i.currentModalId))},this.trackModalHide=function(){i.currentModalId&&(i.logModal(l.LOG_EVENTS.modalClose,i.currentModalId),i.currentModalId=null)},s.installHistoryListeners(),this.cleanSessionStorage();var o=h.get(T)||t.previousUrl;h.set(T,p()),this.instance_event_count=0,this.instance_init_ts=Date.now(),this.requestId=t.requestId,this.orgReferrer=t.orgReferrer,this.httpReferrer=t.httpReferrer,this.previousUrl=o,this.visitId=h.get(w),this.requestSeq=0,this.event_names=t.event_names,this.logger=e,void 0!==t.delayed_link_click_logging?this.delayedLinkClickLogging=t.delayed_link_click_logging:this.delayedLinkClickLogging=!0,void 0!==t.modal_class?this.modalClass=t.modal_class:this.modalClass=".uxa-modal",this.initTime=c(),this.startHeartbeat(),n?setTimeout(this.delayedInit,200):this.delayedInit()}r.UXAnalytics=N}),define("modules/clean/amp_web_logger",["require","exports","modules/clean/metrics/index"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AMPWebLogger=t.AMPLoggerSingleton=void 0;var o=(r.prototype.logEventCount=function(e,t,n,o){void 0===o&&(o=1);var r,i={};for(r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);this.metricsReporter.createStats({ns:e,name:t},i).record(o)},r);function r(e){this.metricsReporter=e}t.AMPLoggerSingleton=o,t.AMPWebLogger=new o(n.getMetricsReporter())});

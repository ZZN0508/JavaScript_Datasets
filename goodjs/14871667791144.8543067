!function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var f={domUniqueId:0,eventPrefix:"",eventsFallbackAlias:{mouseenter:"mouseover",mouseleave:"mouseout"},cssStyle:{},cssStyleArray:[],rawCssStyle:"",cssPropsAlias:{fontFamily:"font-family",fontWeight:"font-weight",fontStyle:"font-style",fontSize:"font-size",lineHeight:"line-height"}};function y(t){t=t.replace(/[^\d,.]/g,"").split(",");return{r:t[0],g:t[1],b:t[2],a:t[3]}}function b(t,e){return"#".concat(0!=e?(256+parseInt(256*Number(t.a))).toString(16).substr(1):"").concat((256+parseInt(t.r)).toString(16).substr(1)).concat((256+parseInt(t.g)).toString(16).substr(1)).concat((256+parseInt(t.b)).toString(16).substr(1))}function r(t){return t.length<2?"0".concat(t):t}function o(t,e){if(!t)return null;void 0===e&&(e=26);t=function(t){if(!t)return null;t=t.toLowerCase();var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n={r:"",g:"",b:""};return n.r=parseInt((16*e.indexOf(t[1])+e.indexOf(t[2])).toString()),n.g=parseInt((16*e.indexOf(t[3])+e.indexOf(t[4])).toString()),n.b=parseInt((16*e.indexOf(t[5])+e.indexOf(t[6])).toString()),n}(t);return t.r=Math.min(255,parseInt(t.r)+e),t.g=Math.min(255,parseInt(t.g)+e),t.b=Math.min(255,parseInt(t.b)+e),"#".concat(r(t.r.toString(16))).concat(r(t.g.toString(16))).concat(r(t.b.toString(16)))}function a(t,e){return t.className.match(new RegExp("(\\s|^)".concat(e,"(\\s|$)")))}function s(t,e){a(t,e)||(t.className+=" ".concat(e))}function l(t){if(!t)return null;var e={"text-shadow":""};return!0!==t.useShadow&&"true"!==t.useShadow||(e.textShadow="".concat(t.hShadow,"px ").concat(t.vShadow,"px ").concat(t.blur,"px ").concat(t.color),e["text-shadow"]="".concat(t.hShadow,"px ").concat(t.vShadow,"px ").concat(t.blur,"px ").concat(t.color),e["-moz-text-shadow"]="".concat(t.hShadow,"px ").concat(t.vShadow,"px ").concat(t.blur,"px ").concat(t.color),e["-o-text-shadow"]="".concat(t.hShadow,"px ").concat(t.vShadow,"px ").concat(t.blur,"px ").concat(t.color),e["-ms-text-shadow"]="".concat(t.hShadow,"px ").concat(t.vShadow,"px ").concat(t.blur,"px ").concat(t.color)),e}function c(t){if(!t)return null;var e={"-webkit-box-shadow":"","box-shadow":""};return!0!==t.useShadow&&"true"!==t.useShadow||(e.boxShadow="".concat(t.hShadow,"px ").concat(t.vShadow,"px ").concat(t.blur,"px ").concat(t.spread,"px ").concat(t.color),e["-webkit-box-shadow"]=e.boxShadow),e}function u(t){var e={};if(!t)return e;var n=t,i=n.type,r=n.scolor;switch("lgrad"!==i&&"rgrad"!==i||(t.gradColors&&t.gradColors.length?t.gradColors.length<2&&0<t.gradColors.length&&(r=t.gradColors[0].c,i="solid"):(i="solid",r="#fff")),"true"===String(t.useBorder)&&(e.border="1px solid ".concat(t.borderColor)),e["background-image"]="",i){case"none":break;case"image":e=function(t,e){var n,i,r,o=g(e);for(r in t["background-image"]="url(".concat(o,")"),t["--retina-src"]=o,e)switch(r){case"scaleMode":case"verticalAlign":case"horizontalAlign":switch(e.verticalAlign){case"top":n="0";break;case"middle":n="50%";break;case"bottom":n="100%"}switch(e.horizontalAlign){case"left":i="0";break;case"center":i="50%";break;case"right":i="100%"}t["background-position"]="".concat(i," ").concat(n);break;case"contentOffsetX":"tile"===e.scaleMode&&(t["background-position-x"]="".concat(e[r],"%"));break;case"contentOffsetY":"tile"===e.scaleMode&&(t["background-position-y"]="".concat(e[r],"%"))}return t}(e,((c=t)&&c.type&&"image"===c.type&&c.tile&&(c.scaleMode="tile",c.contentScale=100,c.contentOffsetX=50,c.contentOffsetY=50,delete c.tile),t=c));break;case"solid":r&&r.includes("rgba")&&(-1<(u=function(){if(null!=f.IEVersion)return f.IEVersion;var t,e=-1;return"Microsoft Internet Explorer"===navigator.appName&&(t=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))),f.IEVersion=e}())&&u<9&&(r=b(y(r),!1))),e["background-color"]=r;break;case"rgrad":case"lgrad":for(var o=t.gradColors,a=[],s=0;s<o.length;s++)a.push("".concat(o[s].c," ").concat(o[s].p,"%"));var l,c,u,d=a.join(),p="linear",h="".concat(t.rotation||"0","deg");"rgrad"===t.type?(p="radial","custom"===(l=t.rgradPos||"center")&&(c="",t.gradPosX&&t.gradPosX.includes("%")||(c="px"),u="",t.gradPosY&&t.gradPosY.includes("%")||(u="px"),l="".concat((t.gradPosX||"0")+c," ").concat(t.gradPosY||"0").concat(u)),h="".concat(l,", circle cover")):t.backgroundRotation&&(h="".concat(t.backgroundRotation,"deg")),o&&0<o.length&&((t=e["background-image"]=[]).push("-webkit-".concat(p,"-gradient(").concat(h,",  ").concat(d,")")),t.push("-moz-".concat(p,"-gradient(").concat(h,",  ").concat(d,")")),t.push("-o-".concat(p,"-gradient(").concat(h,",  ").concat(d,")")),t.push("-ms-".concat(p,"-gradient(").concat(h,",  ").concat(d,")"))),e.filter="progid:DXImageTransform.Microsoft.gradient( startColorstr='".concat(o[0].c,"', endColorstr='").concat(o[o.length-1].c,"',GradientType=0 )")}return e}function g(t){if(window.bannerConfig.hqImages&&t.hqUrl)return t.hqUrl;if(t.localUrl){var e=void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/";return"".concat(e).concat(t.localUrl)}return t.url&&t.url.includes("//")?t.url:t.url?window.bannerConfig.photosUrl+t.url:null}function d(t,e){for(var n in e)t.style[n]=e[n]}function p(t){return JSON.parse(JSON.stringify(t))}function h(t){return t&&0!==String(t).length?t.includes("://")?t:"http://".concat(t):""}function m(t,e){t=window.innerWidth/t,e=window.innerHeight/e;return{proportion:Math.min(t,e)}}function w(t,e,n){return t.substring(e,e+n)}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0==n)return-1;var i=0;if(0<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),n<=i)return-1;for(var r=0<=i?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in e&&e[r]===t)return r;return-1}),function(){var t,e,n="transformOrigin,textShadow,textStroke,boxShadow,borderRadius,borderImage,opacity".split(","),o="Webkit,Moz,O,ms,Khtml".split(","),a=window.document.createElement("detect"),i=[];for(t in n)i[e=n[t]]=function(t){if("string"!=typeof t)return!1;for(var e=t.substr(0,1).toUpperCase()+t.substr(1),n="".concat(t," ").concat(o.join("".concat(e," "))).concat(e).split(" "),i=0,r=n.length;i<r;i++)if(""===a.style[n[i]])return!0;return!1}(e)}();var v=(i(S.prototype,[{key:"assets",value:function(t,e,n,i){if(this.bannerConfig=n,this.callback=i,this.currentSlide=e.displayData||e,this.getSlideLoaded(this.currentSlide))this.resolveIfAssetsLoaded();else{var r=[this.currentSlide];null!==t&&(!t.properties.backgroundColor||"image"!==t.properties.backgroundColor.type||(e=g(t.properties.backgroundColor))&&this.preloadMedia(e,t.properties),t=t.elements.filter(function(t){return"layer"===t.type}),r=r.concat(t));for(var o=0;o<r.length;o++)this.preloadElementAssets(r[o]);this.loadGFonts(),this.resolveIfAssetsLoaded()}}}]),S);function S(){!function(t){if(!(t instanceof S))throw new TypeError("Cannot call a class as a function")}(this),window.assetsCache={},this.fontTypes={CUSTOM:"custom",BANNERSNACK:"bannersnack",GOOGLE:"google"},this.loadedSlides={},this.imagesToLoad=[],this.fontsToLoad=[],this.gFontsToLoad=[],this.videosToLoad=[],this.audiosToLoad=[],this.getFontUrl=function(t){if(t.localUrl){var e=void 0!==window.bannerConfig.fontLocalPath?window.bannerConfig.fontLocalPath:"fonts/";return window.bannerConfig.embedUrl&&(e=window.bannerConfig.embedUrl+e),"".concat(e).concat(t.localUrl)}switch(t.fontFamily=this.unquoted(t.fontFamily),t.fontType){case this.fontTypes.BANNERSNACK:return"//".concat(t.fontUrl);case this.fontTypes.CUSTOM:return t.fontUrl?"//".concat(t.fontFaceUrl?t.fontUrl:"".concat(t.fontUrl,".ttf")):"";case this.fontTypes.GOOGLE:var n="".concat(t.fontFamily.split(" ").join("+"),":").concat(parseInt(t.fontWeight));return"italic"===t.fontStyle&&(n+="i"),n;default:return""}},this.loadGFonts=function(){var t,e,n,i=this,r=this,o=this.gFontsToLoad.concat();o.length&&(t=function(){for(var t=0;t<o.length;t++){var e=i.gFontsToLoad.indexOf(o[t]);-1<e&&i.gFontsToLoad.splice(e,1)}r.resolveIfAssetsLoaded()},e="https://fonts.googleapis.com/css?family=".concat(o.join("|")),this.bannerConfig.preview&&(e+="&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin,latin-ext,vietnamese"),(n=window.document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),n.addEventListener("load",t),n.addEventListener("error",t),window.document.head.appendChild(n))},this.addFontToDOM=function(t){var e,n,i,r=this;t.fontType||(t.fontType=this.fontTypes.GOOGLE);var o,a=this.getFontUrl(t);if(a&&!window.assetsCache[a]){switch(t.fontType!==this.fontTypes.GOOGLE&&this.fontsToLoad.push(a),e=function(){r.fontsToLoad.pop(),r.resolveIfAssetsLoaded()},t.fontType){case this.fontTypes.GOOGLE:this.gFontsToLoad.push(a);break;case this.fontTypes.BANNERSNACK:case this.fontTypes.CUSTOM:this.relPreloadSupported()&&(i=a.substr(a.lastIndexOf(".")+1),(n=window.document.createElement("link")).setAttribute("rel","preload"),n.setAttribute("type","font/".concat(i)),n.setAttribute("as","font"),n.setAttribute("href",a),"file:"!==window.location.protocol&&n.setAttribute("crossorigin","anonymous"),n.addEventListener("load",e),n.addEventListener("error",e),window.document.head.appendChild(n)),t.fontFamily&&(o="".concat("@font-face {\nfont-family: '").concat(t.fontPrefix||"").concat(t.fontFamily.replace(/'/g,"\\'"),"';\n")+"font-style: ".concat(t.fontStyle,";\n")+"font-weight: ".concat(t.fontWeight,";\n")+"src: url(".concat(a,");\n")+"}\n",(n=window.document.createElement("style")).appendChild(window.document.createTextNode(o)),this.relPreloadSupported()||(n.addEventListener("load",e),n.addEventListener("error",e)),window.document.head.appendChild(n))}window.assetsCache[a]=!0}},this.unquoted=function(t){return"string"==typeof t?t.replace(/(^")|("$)/g,""):t},this.relPreloadSupported=function(){return function(t){if(!t||!t.supports)return!1;try{return t.supports("preload")}catch(t){return!1}}(window.document.createElement("link").relList)},this.getSlideId=function(t){return(t.displayData||t).properties.id},this.getSlideLoaded=function(t){t=this.getSlideId(t);return!!this.loadedSlides[t]&&this.loadedSlides[t]},this.setSlideLoaded=function(t){t=this.getSlideId(t);this.loadedSlides[t]=!0},this.resolveIfAssetsLoaded=function(t){var e=0===this.imagesToLoad.length&&0===this.videosToLoad.length&&0===this.audiosToLoad.length;(e&&0===this.fontsToLoad.length&&0===this.gFontsToLoad.length||e&&!0===t)&&(window.loadAssetsTimer&&clearTimeout(window.loadAssetsTimer),this.currentSlide?this.setSlideLoaded(this.currentSlide):this.setAllSlidesLoaded(),"function"==typeof this.callback&&this.callback())},this.preloadMedia=function(t,e,n,i){var r=this,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"image";if(!t)throw new Error("No media url");var a=this,s=t;n&&(s+=n);var l,c,u,d,p=window.bannerConfig.pdf;window.assetsCache[s]&&!p||(l=new Image,"video"===o?(l=window.document.createElement("video"),this.videosToLoad.push(l)):"audio"===o?(l=new Audio,this.audiosToLoad.push(l)):this.imagesToLoad.push(l),c=function(){("video"===o?a.videosToLoad:"audio"===o?a.audiosToLoad:a.imagesToLoad).pop(),a.resolveIfAssetsLoaded()},u=function(){p&&!["audio","video"].includes(o)?a.preloadResizedImageForPdf(t,l,e,window.bannerConfig.hqImages,c):c()},d=["audio","video"].includes(o)?"loadedmetadata":"load",l.addEventListener(d,u),l.addEventListener("error",function(){c(),l.removeEventListener(d,u),r.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}),this.bannerConfig.preview&&i&&!e.resourceKey?this.setColorGroups(t,l,i):l.src=t,window.assetsCache[s]=l)},this.preloadElementAssets=function(t){var e,n;if("layer"===t.type)switch(t.layerType){case"shape":t.properties.backgroundColor&&"image"===t.properties.backgroundColor.type&&(e=g(t.properties.backgroundColor))&&this.preloadMedia(e,t.properties);break;case"image":this.bannerConfig.hqImages&&t.properties.hqUrl?e=t.properties.hqUrl:t.properties.localUrl?(n=void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/",e="".concat(n).concat(t.properties.localUrl),window.bannerConfig.embedUrl&&(e=this.bannerConfig.embedUrl+e)):e=t.properties.url&&t.properties.url.includes("//")?t.properties.url:this.bannerConfig.photosUrl+t.properties.url,e&&this.preloadMedia(e,t.properties);break;case"svg":(e=t.properties.localUrl?(n=void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/","".concat(n).concat(t.properties.localUrl)):t.properties.url?"".concat(window.bannerConfig.photosUrl).concat(t.properties.url):null)&&this.preloadMedia(e,t.properties,t.properties.id,t.properties.colorGroups);break;case"text":var i,r=t.properties.config;r?(i=this,r.forEach(function(t){var e=t.children,n=t.style;n&&n.fontFamily&&(n.fontFamily||(n.fontFamily="Open Sans"),i.addFontToDOM(n)),e&&e.forEach(function(t){t=t.style;t&&(t.fontFamily?t.fontType&&t.fontType!==i.fontTypes.GOOGLE&&!t.fontUrl&&!t.localUrl||i.addFontToDOM(t):t.fontWeight&&(t.fontFamily=n.fontFamily,t.fontType=n.fontType,t.fontPrefix=n.fontPrefix||null,i.addFontToDOM(t)))})})):this.addFontToDOM(t.properties);break;case"button":t.properties.localUrl||this.addFontToDOM(t.properties.labelStyle);break;case"video":case"audio":t.properties.localUrl?(r=void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/",e="".concat(r).concat(t.properties.localUrl),window.bannerConfig.embedUrl&&(e=window.bannerConfig.embedUrl+e)):e=t.properties.url&&t.properties.url.includes("//")?t.properties.url:this.bannerConfig.photosUrl+t.properties.url,e&&this.preloadMedia(e,t.properties,t.properties.id,null,t.layerType)}else if("slide"===t.type)for(var o=0;o<t.elements.length;o++)this.preloadElementAssets(t.elements[o])}}function C(t){t.id||(t.id="e_".concat(f.domUniqueId++))}function k(t){return!!E[t]}function O(t,e){if(!E[t]){for(var n,i="@keyframes ".concat(t," {"),r="@-webkit-keyframes ".concat(t," {"),o=0;n=e[o];o++)i+=n=T(n.percent,n.props),r+=n;var a=(i+="}")+(r+="}"),s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=a:s.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(s),E[t]=!0}}var x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInStrong:"cubic-bezier(.97,.09,.79,.21)",easeOutStrong:"cubic-bezier(.21,.79,.09,.97)",easeInOutStrong:"cubic-bezier(.78,.03,.24,.99)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},E={},T=function(t,e){for(var n,i,r="".concat(t,"% {"),o=Object.keys(e),a=0;i=o[a];a++)r+=(i=e[n=i],"".concat(n,":").concat(i,";-webkit-").concat(n,":").concat(i,";"));return r+"}"};function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var A=(_(P.prototype,[{key:"pause",value:function(){this.isPlaying&&(window.clearTimeout(this.id),this.remaining-=Date.now()-this.start,this.isPlaying=!1)}},{key:"resume",value:function(){this.isPlaying||this.remaining<0||(this.start=Date.now(),window.clearTimeout(this.id),this.id=window.setTimeout(this.callback,this.remaining),this.isPlaying=!0)}},{key:"destroy",value:function(){window.clearTimeout(this.id),this.callback=null,this.remaining=null,this.start=null,this.isPlaying=!1}}]),P);function P(t,e){!function(t){if(!(t instanceof P))throw new TypeError("Cannot call a class as a function")}(this),this.delay=e,this.remaining=e,this.callback=t,this.id=0,this.isPlaying=!1,this.resume()}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=(Nt=D,Bt=[{key:"pause",value:function(){for(var t in D.timers)D.timers.hasOwnProperty(t)&&D.timers[t].pause();D.setAnimationState("paused")}},{key:"resume",value:function(){for(var t in D.timers)D.timers.hasOwnProperty(t)&&D.timers[t].resume();D.setAnimationState("running")}},{key:"init",value:function(){var t;window.enablePauseAnimOnVisibilityChange&&(t=null,document.addEventListener("visibilitychange",function(){t=document.hidden?(clearTimeout(t),setTimeout(function(){D.pause()},50)):(clearTimeout(t),setTimeout(function(){D.resume()},50))},!1))}},{key:"setAnimationState",value:function(t){for(var e in D.animations){var n,i,r,o;D.animations.hasOwnProperty(e)&&(n=(r=D.animations[e]).element,o=r.delay,i=r.animation,e=r.startTime,n.style.animationPlayState=t,"paused"===(n.style.webkitAnimationPlayState=t)?(r=function(t){var e,n=parseFloat(t,10),t=t.match(/m?s/);switch(t=t&&t[0]){case"s":e=1e3*n;break;case"ms":e=n;break;default:e=0}return e}(o),o=new Date-e,0<r&&o<r&&(e="".concat(r-o,"ms"),n.style.animationDelay=e,n.style.webkitAnimationDelay=e),0<=i.indexOf("buildIn")&&0<r&&o<r&&(n.style.display="none")):n.style.display="")}}}],null&&I(Nt.prototype,null),I(Nt,Bt),D);function D(){!function(t){if(!(t instanceof D))throw new TypeError("Cannot call a class as a function")}(this)}L(B,"timers",{}),L(B,"animations",{}),L(B,"timerIndex",0);function j(t,e){var n=B.timerIndex++;return B.timers[n]=new A(t,e),n}function U(t){var e=B.timers[t];e&&(delete B.timers[t],e.destroy())}function M(t,e){n=e,(i=t).offsetWidth,i.style.animation=n,i.style.webkitAnimation=n,i.style.animationPlayState=window.BS_PLAYING_STATE||"running",i.style.webkitAnimationPlayState=window.BS_PLAYING_STATE||"running",C(t);var n=t.style.animationDelay,i=new Date;e?B.animations[t.id]={element:t,delay:n,animation:e,startTime:i}:delete B.animations[t.id]}function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var z=(Ht=N,Tt=[{key:"clearAll",value:function(t){t&&t.firstChild&&M(t.firstChild,"")}},{key:"clearWordsTimeout",value:function(t,e){for(var n=0;n<e.length;n++)M(e[n],"")}},{key:"getAnimationDuration",value:function(t,e){return Number("buildMid"===e?t.motionTime:t.duration)||1e-4}},{key:"getAnimationIterationCount",value:function(t,e){return"buildMid"===e?Math.ceil(t.duration/t.motionTime):1}},{key:"animate",value:function(t,e,n,i){var r=t,o=e;if("none"!==o.type){t=i||0;o.zoom=o.zoom||1;var e=o.variation,a=void 0===e?null:e,s="both",l=o.type,c=!0;switch(o.type){case"instant":case"video":case"audio":case"fadeAudio":c=!1;break;case"alpha-words":case"blur-words":l="words";break;case"blink":case"jello":case"bounce":case"vibrate":case"flicker":s="none";break;case"pulsate":switch(s="none",a){case"heartbeat":l="pulsateHeartbeat";break;case"backward":case"forward":l="pulsate";break;case"ping":l="pulsatePing"}break;case"shake":switch(s="none",a){case"leftRight":case"top":case"left":case"right":l="shakeRotate";break;case"horizontal":case"vertical":l="shakeTranslate"}}i=window["BS_".concat(l)];!c||i||null===l?("rotate"!==o.type&&"flip"!==o.type||(e="".concat(Math.round(.7*r.offsetWidth+.7*r.offsetHeight),"px"),r.style.perspective=e,r.style.webkitPerspective=e),r&&i&&(l=i(o,n,r,t),i=this.getAnimationDuration(o,n),n=this.getAnimationIterationCount(o,n),n="".concat(l," ").concat(i,"s ").concat(function(t){if("Linear"===t.tween||"linear"===t.ease)return"linear";var e="ease";switch(t.ease){default:e+="Out";break;case"easeIn":e+="In";break;case"easeInOut":e+="InOut"}return e+=t.tween,x[e]||"linear"}(o)," ").concat((i=o.delay+t,parseFloat(i.toFixed(3))),"s ").concat(n," ").concat(s),M(r.firstChild&&1===r.firstChild.nodeType&&!r.classList.contains("word")?r.firstChild:r,n)),t=Number(o.duration)+Number(o.delay)+t,j(function(){o.onAnimationEnd&&o.onAnimationEnd()},Math.max(1e3*t,0))):console.error("Error ".concat(l," for build type ").concat(o.type," not found"))}else o.onAnimationEnd&&o.onAnimationEnd()}}],null&&F(Ht.prototype,null),F(Ht,Tt),N);function N(){!function(t){if(!(t instanceof N))throw new TypeError("Cannot call a class as a function")}(this)}function R(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function H(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"clickTag",e=window.location.search.substring(1).split("".concat(t,"="));if(!e[1])return"";e=e[1].replace(/&.+$/,"");try{e=decodeURIComponent(e)}catch(t){return""}return null==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)?"":e}function G(t){var e="2x",n=t.lastIndexOf(".");return t.lastIndexOf("/")>n?t+e:(-1===n&&(n=t.length),[t.slice(0,n),e,t.slice(n)].join(""))}R(W.prototype,[{key:"apply",value:function(t){t.on=W.prototype.on,t.off=W.prototype.off,t.trigger=W.prototype.trigger}},{key:"on",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n,i,r=this._listeners;for(t=t.split(" "),i=0;n=t[i];i++)r[n]=r[n]||[],r[n].includes(e)||r[n].push(e)}},{key:"off",value:function(t,e){void 0!==this._listeners&&(void 0===(t=this._listeners[t])||-1!==(e=t.indexOf(e))&&t.splice(e,1))}},{key:"trigger",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i={};i.target=this,i.type=t,i.data=e;for(var r=n.length,o=0;o<r;o++)n[o].call(this,i)}}}}]),n=W;function W(){!function(t){if(!(t instanceof W))throw new TypeError("Cannot call a class as a function")}(this)}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),J(t,e)}(V,n),e=[{key:"parseProps",value:function(t){for(var e,n=["buildIn","buildOut","transition"],i=0;e=n[i];i++)if(t[e])switch(t[e].tween){case"Bounce":case"Elastic":"scale"!==t[e].type&&"slide"!==t[e].type||(t[e].type+=t[e].tween,"Elastic"===t[e].tween&&(t[e].ease="easeOut")),t[e].tween=""}return t}}],Nt=[{key:"init",value:function(t){return this.displayData=t,this.displayData.properties=V.parseProps(this.displayData.properties),this.trigger("init"),this}},{key:"render",value:function(){}},{key:"reset",value:function(){var t,e,n;for(z.clearAll(this.container),t=0;e=this.buildTimeouts[t];t++)U(e);for(this.buildTimeouts=[],this.transform("none"),this.webkitTransform("translate3d(0,0,0)"),this.setStyle(this.container,"x,y,width,height","px"),this.container.style.opacity="1",this.container.style.display="",this.container.style.filter="",this.container.style["-webkit-filter"]="",this.container.style.animation="",this.container.style["-webkit-animation"]="",t=0;e=this.buildTimeouts[t];t++)U(e);this.buildTimeouts=[],this.displayContainer&&(n=void 0!==this.properties.opacity?this.properties.opacity:100,this.displayContainer.style.opacity=n/100)}},{key:"createMainContainers",value:function(t,e,n,i){var r,o,a;this.properties&&this.properties.actions&&this.slide&&this.slide.banner.config.pdf&&(r=this.properties.actions.find(function(t){return"click"===t.event&&"gotoURL"===t.type&&t.url})),this.container=this.createElement("div",t),this.properties&&(this.properties.text||this.properties.buttonLabel)&&(o="none"!==this.properties.buildIn.type,a=this.properties.buildMid&&"none"!==this.properties.buildMid.type,t="none"!==this.properties.buildOut.type,(o||a||t)&&(this.container.style.perspective="1px")),this.effHelper=this.createElement("div","eff-helper"),r&&(this.actionContainer=this.createElement("a","action-container"),this.actionContainer.href=r.url,this.actionContainer.target=r.target||"_blank",this.actionContainer.style.cursor=r.useHandCursor?"":"auto"),this.displayContainer=this.createElement(n||"div",e,void 0,void 0,i),this.container.appendChild(this.effHelper),r?(this.effHelper.appendChild(this.actionContainer),this.actionContainer.appendChild(this.displayContainer)):this.effHelper.appendChild(this.displayContainer)}},{key:"applyActions",value:function(r,t){var o=this;if(!r||!t)return!1;if("none"===r.type)return!1;var e="pointer";void 0!==r.useHandCursor&&!1===r.useHandCursor&&(e=""),t.style.cursor=e,t.addEventListener(r.event,function(t){if(t.clickFlag)return t.clickFlag=!1;if(r.disabled)return!1;if(t.clickFlag=this,"gotoSlide"===r.type){var e=o.slide.getBuildOutTime();e&&(r.disabled=!0,j(function(){r.disabled=!1},e)),null===r.slideOrUrl&&(r.slideOrUrl="next");var n=o.slide.banner.currentSlide;switch(r.slideOrUrl){case"first":o.slide.banner.preload.assets(null,o.slide.getFirstSlide(),o.slide.banner.config),n.buildOut(o.slide.getFirstSlide());break;case"last":o.slide.banner.preload.assets(null,o.slide.getLastSlide(),o.slide.banner.config),n.buildOut(o.slide.getLastSlide());break;case"next":o.slide.banner.preload.assets(null,o.slide.getNextSlide(),o.slide.banner.config),n.buildOut(o.slide.getNextSlide());break;case"prev":o.slide.banner.preload.assets(null,o.slide.getPrevSlide(),o.slide.banner.config),n.buildOut(o.slide.getPrevSlide());break;default:o.slide.banner.preload.assets(null,n.getSlideByHashOrId(r.slideOrUrl),o.slide.banner.config),n.buildOut(n.getSlideByHashOrId(r.slideOrUrl))}}else{e=r.slideOrUrl||window.bannerURL;if(0===String(e).indexOf("bsClickTAG")||0===String(e).indexOf("clickTag")){if(window.bsClickFunc){var i=window[e];return 0<=i.indexOf("bsClickTAG")&&(i=null),window.bsClickFunc(i,r.target,e),!1}(e="function"==typeof window[e]?window[e]():window[e])||0!==String(e).indexOf("bsClickTAG")||(e=H())}else if(o.hash||!window.bannerConfig.pdf){if(!e&&!1===window.goToURLWithoutBSURL)return!1;i=H()||window.clickTag;i&&(e=void 0===window.clickTag&&i!==e&&-1===i.indexOf(e)&&i.indexOf(-1===encodeURIComponent(e))?i+encodeURIComponent(e):i)}e=h(e),window.bsOpenURL(e,r.target)}})}},{key:"createElement",value:function(t,e,n,i,r){t=r||window.document.createElement(t);return t.setAttribute("class",e),!1!==n&&(i||this.container)&&(i||this.container).appendChild(t),C(t),t}},{key:"setStyle",value:function(t,e,n){n=n||"";var i,r,o,a,s={x:"left",y:"top",labelOffsetX:"margin-left",labelOffsetY:"margin-top",lineHeight:"line-height"};for(i in e=e.split(","))e.hasOwnProperty(i)&&(r=s[e[i]]||e[i],o=this.properties[e[i]],"width"===r||"height"===r?(a=this.properties.scale||1,t.style[r]=o*a+n):t.style[r]="left"===r||"right"===r?Math.round(o)+n:o+n);return this}},{key:"getContainer",value:function(){return this.container}},{key:"show",value:function(){return this.container.style.display="",this}},{key:"hide",value:function(){return this.container.style.display="none",this}},{key:"hasClass",value:function(t,e){return!!t&&new RegExp("(\\s|^)".concat(e,"(\\s|$)")).test(t.className)}},{key:"removeClass",value:function(t,e){return this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)".concat(e,"(\\s|$)"))," ").replace(/^\s+|\s+$/g,"")),this}},{key:"addClass",value:function(t,e){return t&&(this.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)),this}},{key:"toggleClass",value:function(t,e){return t&&(this.hasClass(t,e)?this.removeClass(t,e):this.addClass(t,e)),this}},{key:"applyBackground",value:function(t,e,n){var i,r=u(e);for(i in r)switch(i){default:t.style[i]=r[i];break;case"background-image":if("lgrad"===e.type||"rgrad"===e.type)for(var o=0;o<r[i].length;o++)t.style.backgroundImage=r[i][o];else t.style[i]=r[i];break;case"background":for(o=0;o<r[i].length;o++)t.style.background=r[i][o];break;case"--retina-src":n&&this.properties.retinaReady&&(t.classList.add("retina"),t.style.setProperty(i,'url("'.concat(G(r[i]),'")')))}e&&e.type&&"image"===e.type&&("userCrop"!==e.scaleMode&&function(t,e){if(!t||!e)return s(t,"background");var n,i,r,o=["background","background-crop","background-stretch","background-mask","background-aspect","background-tile"],e="".concat(o[0],"-").concat(e.toLowerCase());for(n in o)i=t,r=o[n],a(i,r)&&(r=new RegExp("(\\s|^)".concat(r,"(\\s|$)")),i.className=i.className.replace(r," "));s(t,o[0]),s(t,e)}(t,e.scaleMode),function(t,e){var n,i,r,o=!1,a=g(e);for(n in e)switch(n){case"scaleMode":case"verticalAlign":case"horizontalAlign":case"contentScale":o=!0}o&&(t.style.backgroundSize="",(i=e.originalWidth)?"tile"===e.scaleMode&&(t.style.backgroundSize=i?"".concat(e.contentScale*i/100,"px"):"".concat(e.contentScale,"%"),t.style.visibility="visible"):((r=new Image).onload=function(){i!==r.width&&(i=r.width),t.style.backgroundSize="","tile"===e.scaleMode&&(t.style.backgroundSize=i?"".concat(e.contentScale*i/100,"px"):"".concat(e.contentScale,"%"),t.style.visibility="visible")},r.src=a))}(t,e))}},{key:"applyBoxShadow",value:function(t,e){d(t,c(e))}},{key:"applyFilters",value:function(t,e,n,i){d(t,(t=n,n=i,i={"-webkit-filter":"",filter:""},!(e=e)||!0!==e.useAdjustColor&&"true"!==e.useAdjustColor||(i.filter+="brightness(".concat((parseInt(e.brightness)+100)/100,") "),i.filter+="contrast(".concat((parseInt(e.contrast)+100)/100,") "),i.filter+="saturate(".concat((parseInt(e.saturate)+100)/100,") "),i.filter+="hue-rotate(".concat(e.hue,"deg)")),!t||!0!==t.useBlur&&"true"!==t.useBlur||(i.filter+="blur(".concat(t.pixels,"px)")),!n||!0!==n.useShadow&&"true"!==n.useShadow||(i.filter+="drop-shadow(".concat(n.hShadow,"px ").concat(n.vShadow,"px ").concat(n.blur,"px ").concat(n.color,")")),i["-webkit-filter"]=i.filter,i))}},{key:"getFlipString",value:function(t){if(!t)return"";var e="both"===t||"vertical"===t?"-1":"1";return"scale(".concat("both"===t||"horizontal"===t?"-1":"1",", ").concat(e,")")}},{key:"getBRadius",value:function(){var t=this.properties,e=t.border||{},n=0;return"rectangle"===t.type&&(void 0!==e.radius?n=e.radius:void 0!==t.bradius&&(n=t.bradius)),n}},{key:"getBorderString",value:function(t){t=t||this.properties.border||{};return void 0===t.weight||void 0===t.color?"":"".concat(t.weight,"px solid ").concat(t.color)}},{key:"getAnimationEl",value:function(){return this.container}},{key:"setBuildMidAnimation",value:function(){var t=this;function e(){t.isHover=!0,z.animate(c,d,"buildMid")}function n(){t.isHover=!1}function i(){t.isHover||t.reset()}var r,o,a,s=1!==t.slide.banner.properties.loopCount,l=this.displayData.properties,c=this.getAnimationEl(),u=l.buildIn,d=l.buildMid,p=l.buildOut,h="none"===p.type,f=d.delay,y=d.duration;function b(){p&&!h&&(d.onAnimationEnd=function(){t.setBuildOutAnimation()})}t.properties.showOnAllSlides||(r=t.slide.displayData.properties.duration,o=t.slide.displayData.properties.stopSlide,u=(a="none"!==u.type?u.delay+u.duration:0)+(l=d&&"none"!==d.type?d.delay+d.duration:0)+p.delay+p.duration,("instant"===p.type&&r<u||p&&!o&&r<a)&&(p=null),s&&d&&"none"!==d.type&&r<a+l&&(d.duration=parseFloat((r-a-d.delay).toFixed(1)))),"hover"!==d.startEnd?(z.animate(c,d,"buildMid"),t.buildTimeouts.push(j(function(){(s&&y===d.duration||!s)&&(d.delay=0,d.duration=0,b(),z.animate(c,d,"buildMid")),d.delay=f,d.duration=y},1e3*(d.delay+d.duration)))):(t.isHover=!1,p&&!h&&(d.onAnimationEnd=null),j(function(){d.delay=0,c.addEventListener("mouseenter",e),c.addEventListener("animationiteration",i),c.addEventListener("mouseleave",n),j(function(){c.removeEventListener("mouseenter",e),c.removeEventListener("animationiteration",i),c.removeEventListener("mouseleave",n),(s&&y===d.duration||!s&&p&&!h)&&(d.delay=0,d.duration=0,b(),z.animate(c,d,"buildMid")),d.delay=f,d.duration=y},1e3*d.duration)},1e3*d.delay))}},{key:"setBuildOutAnimation",value:function(){var t=this.getAnimationEl(),e=this.displayData.properties.buildOut,n=this;n.buildTimeouts.push(j(function(){n.trigger("buildOutStart")},1e3*e.delay)),z.animate(t,e,"buildOut"),n.buildTimeouts.push(j(function(){n.trigger("buildOutEnd"),t.style.display="none"},1e3*(e.duration+e.delay)))}},{key:"playAnimation",value:function(t){var e,n,i,r=this,o=this.getAnimationEl(),a=this.displayData.properties,s=a.buildIn,l=a.buildMid,c=a.buildOut;t=t||0,this.properties.showOnAllSlides||(e=this.slide.displayData.properties.duration,n=this.slide.displayData.properties.stopSlide,a=(i="none"!==s.type?s.delay+s.duration:0)+(l&&"none"!==l.type?l.delay+l.duration:0)+c.delay+c.duration,("instant"===c.type&&e<a||c&&!n&&e<i)&&(c=null)),s&&"none"!==s.type?(this.buildTimeouts.push(j(function(){r.trigger("buildInStart")},1e3*s.delay)),"instant"===s.type&&0<s.delay&&(o.style.display="none",this.buildTimeouts.push(j(function(){o.style.display=""},1e3*(s.delay+t)))),s.onAnimationEnd=function(){l&&"none"!==l.type?r.setBuildMidAnimation():c&&"none"!==c.type&&r.setBuildOutAnimation()},z.animate(o,s,"buildIn",t),this.buildTimeouts.push(j(function(){r.trigger("buildInEnd")},1e3*(s.duration+s.delay+t)))):l&&"none"!==l.type?r.setBuildMidAnimation():c&&"none"!==c.type&&r.setBuildOutAnimation()}},{key:"transform",value:function(t,e){(e=e||this.container).style["-webkit-transform"]=t,e.style["-o-transform"]=t,e.style["-ms-transform"]=t,e.style["-moz-transform"]=t,e.style.transform=t}},{key:"webkitTransform",value:function(t,e){(e=e||this.container).style["-webkit-transform"]=t}},{key:"createActionProperties",value:function(t){var e=t||this.properties&&this.properties.actions&&this.properties.actions[0];if(!e)return!1;t="";return"gotoURL"===e.type&&(t=e.url),{event:e.event,slideOrUrl:"gotoSlide"===e.type?e.slide:t,type:e.type,target:e.target,useHandCursor:e.useHandCursor}}},{key:"applyExtraPropertiesForGradients",value:function(t){var e,n;this.properties.backgroundColor&&"string"!=typeof this.properties.backgroundColor&&(e=this.properties.backgroundColor.type,n=this.properties.border?this.properties.border.weight:0,"lgrad"!==e&&"rgrad"!==e||(e="-".concat(n,"px"),n="calc(100% + ".concat(2*n,"px)"),d(t,{backgroundPosition:"".concat(e," ").concat(e),backgroundSize:"".concat(n," ").concat(n)})))}},{key:"getCropBackgroundPosition",value:function(t){var e=t.cropData.x,n=t.cropData.y,i=t.width,r=t.height,o=t.border?t.border.weight:0,a=e-o,s=n-o;return{x:a="horizontal"===t.flip||"both"===t.flip?i-(e+t.cropData.width)-o:a,y:s="vertical"===t.flip||"both"===t.flip?r-(n+t.cropData.height)-o:s}}}],X((Bt=V).prototype,Nt),X(Bt,e),V);function V(){var t,e;return function(t){if(!(t instanceof V))throw new TypeError("Cannot call a class as a function")}(this),t=this,(e=!(e=q(V).call(this))||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).container=null,e.displayContainer=null,e.properties=null,e.displayData=null,e.buildTimeouts=[],e}function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e,n){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(it,Q),Ht=[{key:"init",value:function(t,e){var n;return this.isOverflowSlide?(this.container=e,this.displayContainer=e,this.resetElements()):(this.createMainContainers("slide","slide-inner"),e.appendChild(this.container),n=t.properties,this.ah=t.ah,!this.ah&&n&&(this.ah=n.id),n.duration=parseFloat(n.duration),n.duration<.1&&(n.duration=.1),n.transition=n.transition||{type:"none",delay:0,duration:.1},e=n.transition,this.parseTransition(e),this.applyBackground(this.displayContainer,n.backgroundColor),this.reset()),this.banner.statsPresent&&this.banner.stats.trackEvent(this.container,this),Z(tt(it.prototype),"init",this).call(this,t)}},{key:"parseTransition",value:function(t){switch(t.duration=parseFloat(t.duration)||0,t.delay=parseFloat(t.delay)||0,t.type){case"slide":case"slideBounce":case"slideElastic":if(!parseInt(t.slideOffset))switch(t.direction){case"r2l":case"l2r":t.slideOffset=this.banner.getWidth();break;case"t2b":case"b2t":t.slideOffset=this.banner.getHeight()}break;case"flip":"cross"===t.crosstype&&(t.deg=180)}}},{key:"isFirstSlide",value:function(){return 0===this.banner.slides.indexOf(this)}},{key:"isLastSlide",value:function(){return this.banner.slides.indexOf(this)===this.banner.slides.length-1}},{key:"reset",value:function(){z.clearAll(this.container);var t=this.displayContainer.style;t.zIndex=0,t.width="100%",t.height="100%",t.top="0",t.left="0",t.filter="",t["-webkit-filter"]="",t.animation="",t["-webkit-animation"]="",this.transform("none"),this.resetElements()}},{key:"resetElements",value:function(){for(var t=0;t<this.elements.length;t++)this.elements[t].reset()}},{key:"play",value:function(t,e){this.banner.lastSlide=this.banner.currentSlide,this.banner.currentSlide=this,e||this.banner.trigger("changeSlide"),this.rendered?this.reset():(this.banner.preload.assets(null,this.getNextSlide(),this.banner.config),this.render()),this.container.style.opacity=1,this.playSlideAnimation(t)}},{key:"render",value:function(){for(var t,e=this.displayData.elements,n=0;n<e.length;n++)(t=this.renderElement(e[n]))&&this.elements.push(t);if(this.on("buildInStart buildInEnd buildOutStart buildOutEnd",function(t){for(var e=0;e<this.elements.length;e++){var n="slide".concat(t.type.charAt(0).toUpperCase()).concat(t.type.substr(1));this.elements[e].trigger(n,this)}}),this.isOverflowSlide){if(!this.banner.noAnimation)for(n=0;n<this.elements.length;n++)this.elements[n].playAnimation(0);this.trigger("buildInStart"),this.trigger("buildInEnd")}else this.createElement("div","slide-hover",!0,this.container);this.rendered=!0}},{key:"getDurationToStartSlide",value:function(){var i=this;return this.banner.slides.reduce(function(t,e,n){return n<i.banner.startSlide?(n="none"!==e.displayData.properties.transition.type?e.displayData.properties.transition.duration:0,t+e.displayData.properties.duration+n):t},0)}},{key:"renderElement",value:function(t){var e=t.properties;e.buildIn=e.buildIn||{type:"none",delay:0,duration:0},e.buildOut=e.buildOut||{type:"none",delay:0,duration:0};var n=e.buildIn,e=e.buildOut;function i(t){t.duration=parseFloat(t.duration)||0,t.delay=parseFloat(t.delay)||0}i(n),i(e),this.isOverflowSlide&&(r=this.getDurationToStartSlide(),o=n.delay-r,n.duration+o<0?(n.type="none",e.delay-=r-n.duration-n.delay):n.delay=o);var e="".concat(t.layerType.charAt(0).toUpperCase()+t.layerType.substr(1),"Display"),r=window["BS_".concat(e)];if(!r)return console.error("Error ".concat(e," not found")),null;var n=window.bannerConfig,o=n.printScreen,n=n.video;return(r=["ImageDisplay","ShapeDisplay","EmbedDisplay"].includes(e)?new r(this.banner.properties.retina):"audio"===t.layerType&&(o||n)?null:new r)&&(r.slide=this,t=r.init(t).getContainer(),this.displayContainer.appendChild(t),r.render(),this.isOverflowSlide&&(r.container.style.zIndex=10,r.container.style.webkitTransform="translate3d(0, 0, 0)")),r}},{key:"getNextSlide",value:function(t){t=t||this.banner.currentSlide;var e=this.banner.slides,t=e.indexOf(t);return t+1>=e.length?this.banner.slides[0]:this.banner.slides[t+1]}},{key:"getPrevSlide",value:function(t){t=t||this.banner.currentSlide;t=this.banner.slides.indexOf(t);return t-1<0?this.banner.slides[this.banner.slides.length-1]:this.banner.slides[t-1]}},{key:"getFirstSlide",value:function(){return this.banner.slides[0]}},{key:"getLastSlide",value:function(){return this.banner.slides[this.banner.slides.length-1]}},{key:"playSlideAnimation",value:function(t){U(this._buildOutTimeout);for(var e,n=this.getAnimationEl(),i=this,r=this.displayData.properties,o=this.banner.lastSlide?this.banner.lastSlide.container:null,a=this.banner.slides.length,s=0,l=0;l<this.banner.slides.length;l++)(e=this.banner.slides[l].container).style.zIndex=0,e.style.display="none";this.container.style.display="",this.container.style.zIndex="1",this.trigger("buildInStart"),t&&"none"!==t.type&&!this.banner.noAnimation&&1<a?(this.addClass(this.container,"buildin"),s=parseFloat(t.duration)||0,o&&(o.style.display=""),"hide"!==t.crosstype?z.animate(n,t,"buildIn"):o&&(o.style.zIndex="2"),j(function(){i.removeClass(i.container,"buildin"),i.trigger("buildInEnd")},1e3*t.duration)):this.trigger("buildInEnd");o=!this.banner.properties.loopCount||this.banner.properties.loopCount===this.LOOP_COUNT_FOREVER,t=this.banner.loopsPlayed>=this.banner.properties.loopCount;if(!this.isLastSlide()||t||o||this.banner.loopsPlayed++,r.stopSlide||this.banner.showOnlyOneSlide||!o&&t&&this.isLastSlide()||(this._buildOutTimeout=j(function(){i.buildOut()},1e3*(s+r.duration))),!this.banner.noAnimation)for(l=0;l<this.elements.length;l++)this.elements[l].playAnimation(s)}},{key:"buildOut",value:function(t){this._buildOutTimeout&&U(this._buildOutTimeout);var e=this.banner.slides.length,n=this.displayData.properties.transition,i=this;i.trigger("buildOutStart");var r=null;n&&"none"!==n.type&&1<e?(i.addClass(i.container,"buildout"),"show"!==n.crosstype&&(e=p(n),z.animate(this.getAnimationEl(),e,"buildOut")),r=j(function(){i.banner.currentSlide!==i&&(i.container.style.display="none"),i.removeClass(i.container,"buildout"),i.trigger("buildOutEnd")},1e3*n.duration)):i.trigger("buildOutEnd"),(t=t||this.getNextSlide())===this&&r&&(U(r),i.removeClass(i.container,"buildout"),i.trigger("buildOutEnd")),t.play(p(n))}},{key:"getBuildOutTime",value:function(){var t=this.displayData.properties.transition;return t&&"none"!==t.type?1e3*t.duration:0}},{key:"getSlideByHashOrId",value:function(t){if(!t)return!1;for(var e=this.banner.slides,n=0;n<e.length;n++){var i=e[n].displayData.properties;if(t===e[n].ah||i&&t===i.id)return e[n]}return!1}}],K(it.prototype,Ht),it);function it(){var t,e;return function(t){if(!(t instanceof it))throw new TypeError("Cannot call a class as a function")}(this),t=this,(e=!(e=tt(it).call(this))||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).banner=null,e.rendered=!1,e._buildOutTimeout=null,e.container=null,e.elements=[],e.LOOP_COUNT_FOREVER=0,e}function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(ct,Q),Tt=[{key:"init",value:function(t,e,n,i){var r=this;this.container=e,this.displayContainer=this.createElement("div","bs-helper"),this.displayContainer.setAttribute("style","z-index: -1;"),this.container.appendChild(this.displayContainer),this.properties=t.properties,this.resources=t.resources,this.config=n,this.startSlide=parseInt(n.startSlide)||0,this.noAnimation=Boolean(n.noAnimation)||!1,this.showOnlyOneSlide=Boolean(n.showOnlyOneSlide)||!1,this.preload=i,this.setStyle(this.container,"width,height","px"),this.setStyle(this.displayContainer,"width,height","px");var o,i=this.properties.backgroundColor||{};(this.properties.width<2||this.properties.height<2)&&(i.useBorder=!1),i.useBorder&&(this.displayContainer.style.left="-1px",this.displayContainer.style.top="-1px",this.displayContainer.style.position="relative"),this.applyBackground(this.container,i,this.properties.retina),this.applyActions(this.createActionProperties(),this.container),Q.prototype.init.call(this,t),this.initSlides(t.elements),this.container.addEventListener("click",function(){r.statsPresent&&r.stats.launch()}),!1!==n.resize&&(o=m(this.properties.width,this.properties.height),this.properties.transform="scale(".concat(o.proportion,")"),this.properties.transformOrigin="0 0 0",this.setStyle(this.container,"transform,transformOrigin"),window.addEventListener("resize",function(){o=m(r.properties.width,r.properties.height),r.container.style.transform="scale(".concat(o.proportion,")")}))}},{key:"initSlides",value:function(t){var e;this.slides=[];for(var n,i,r=[],o={properties:{},elements:[]},a=0;e=t[a];a++)"slide"===e.type?r.push(e):(e.properties&&(e.properties.showOnAllSlides=!0),o.elements.push(e));for(this.overflowSlide=new nt,this.overflowSlide.isOverflowSlide=!0,(this.overflowSlide.banner=this).overflowSlide.init(o,this.displayContainer),a=0;i=r[a];a++)(n=new nt).banner=this,n.init(i,this.displayContainer),this.slides.push(n)}},{key:"getWidth",value:function(){return this.properties.width}},{key:"getHeight",value:function(){return this.properties.height}},{key:"play",value:function(){this.overflowSlide.render(),this.loopsPlayed=1,this.slides[this.startSlide]&&this.slides[this.startSlide].play(null,!0)}},{key:"createActionProperties",value:function(){var t={event:"click",slideOrUrl:"",type:"gotoURL",target:"_blank",useHandCursor:!0};if(!this.config.isCustomEmbed){var e=H();if(e=!e&&this.properties.useAsClickTag?window.clickTag||window.clickTAG||this.config&&this.config.clickTag:e)return t.slideOrUrl=h(e),t}e=this.properties;return e&&(t.target=e.urlTarget,t.useHandCursor=e.useHandCursor),!!e&&!!e.bannerUrl&&(t.slideOrUrl=e.bannerUrl,t)}}],ot(ct.prototype,Tt),ct);function ct(){var t,e;return function(t){if(!(t instanceof ct))throw new TypeError("Cannot call a class as a function")}(this),t=this,(e=!(e=at(ct).call(this))||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e).startSlide=0,e.overflowSlide=null,e.currentSlide=null,e.lastSlide=null,e}function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),ft(t,e)}(bt,n),Nt=[{key:"init",value:function(t,e,n){var i=this,r=Math.round(e.banner.properties.width),o=Math.round(e.banner.properties.height);e.banner.properties.width=r,e.banner.properties.height=o,this.json=e,this.config=n,this.bannerContainer=t,this.config.video||this.config.pdf?this.initBanner():(this.preload=new v,o=parseInt(n.startSlide)||0,t=e.banner.elements.filter(function(t){return"slide"===t.type}),this.preload.assets(e.banner,t[o],n,this.initBanner),window.loadAssetsTimer=setTimeout(function(){i.preload.resolveIfAssetsLoaded(!0)},3e3))}},{key:"showWatermark",value:function(){window.BS_ShowWatermark&&window.BS_ShowWatermark()}}],dt(bt.prototype,Nt),bt);function bt(){var t,e;!function(t){if(!(t instanceof bt))throw new TypeError("Cannot call a class as a function")}(this),t=this,e=!(e=pt(bt).call(this))||"object"!==ut(e)&&"function"!=typeof e?ht(t):e,B.init();var i=ht(e);return e.banner=new lt,e.initBanner=function(){i.inited||(i.banner.init(i.json.banner,i.bannerContainer,i.config,i.preload),(i.config.video||i.config.pdf)&&!i.config.autoPlay&&void 0!==i.config.autoPlay||i.banner.play(),["mouseover","mouseout"].forEach(function(n){i.bannerContainer.addEventListener(n,function(){document.querySelectorAll("video, audio").forEach(function(t){!function(e){var t="mouseover"===n&&function(){for(var t=e.parentNode;!t.classList.contains("element");)t=t.parentNode;return"none"!==t.style.display}();if(e.dataset.soundOnHover===(!0).toString())try{e.volume=t?parseFloat(e.dataset.volume):0}catch(t){console.error(t)}}(t)})})}),i.inited=!0)},e}function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)})(St,Q),Bt=[{key:"init",value:function(t){this.triggerReadyOnRender=!1,this.properties=t.properties;var e=this.properties;this.createMainContainers("element","bs-image image-".concat(e.scaleMode)),this.transformContainer=this.createElement("div","transform-container"),this.displayContainer.parentNode.appendChild(this.transformContainer),this.transformContainer.appendChild(this.displayContainer);var n,i,r,o,a,s,l=window.bannerConfig;switch(l.hqImages&&this.properties.hqUrl?o=this.properties.hqUrl:this.properties.localUrl?(r=void 0!==l.imgLocalPath?l.imgLocalPath:"media/",o="".concat(r).concat(this.properties.localUrl),l.embedUrl&&(o=l.embedUrl+o)):o=e.url&&e.url.includes("//")?e.url:l.photosUrl+e.url,!0===this.retina&&this.properties.retinaReady&&(this.displayContainer.classList.add("retina"),this.displayContainer.style.setProperty("--retina-src",'url("'.concat(G(o),'")'))),o&&(this.displayContainer.style.backgroundImage="url(".concat(o,")")),this.applyFilters(this.displayContainer,e.adjustColor,e.blur,e.dropShadow),e.verticalAlign){case"top":n="0";break;case"middle":n="50%";break;case"bottom":n="100%"}switch(e.horizontalAlign){case"left":i="0";break;case"center":i="50%";break;case"right":i="100%"}this.displayContainer.style.backgroundPosition="".concat(i," ").concat(n),"tile"===e.scaleMode?(a=e.contentScale,s=e.originalWidth||e.oWidth,this.displayContainer.style.backgroundSize="".concat(a/100*s,"px"),this.displayContainer.style.backgroundPositionX="".concat(e.contentOffsetX,"%"),this.displayContainer.style.backgroundPositionY="".concat(e.contentOffsetY,"%")):"userCrop"===e.scaleMode&&e.cropData&&(a=e.cropData.width,s=e.cropData.height,c=this.getCropBackgroundPosition(e),this.displayContainer.style.backgroundSize="".concat(a,"px ").concat(s,"px"),this.displayContainer.style.backgroundPositionX="".concat(c.x,"px"),this.displayContainer.style.backgroundPositionY="".concat(c.y,"px"),this.displayContainer.style.backgroundRepeat="no-repeat"),this.transformContainer.style.height="100%",this.transformContainer.style.width="100%";var c=this.getFlipString(e.flip);return this.transform("translateZ(0) rotate(".concat(e.rotation,"deg) ").concat(c),this.transformContainer),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.applyActions(this.createActionProperties(),this.displayContainer),Q.prototype.init.call(this,t)}}],mt(St.prototype,Bt),e=St;function St(t){var e,n;return function(t){if(!(t instanceof St))throw new TypeError("Cannot call a class as a function")}(this),e=this,(n=!(n=wt(St).call(this))||"object"!==gt(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):n).retina=t,n}function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ot(t,e,n){return(Ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xt(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(_t,Q),Ht=[{key:"init",value:function(t){var e=t.properties;return this.properties=e,this.createMainContainers("element","text"),this.innerDisplayContainer=this.createElement("div","innerDisplayContainer",!0,this.displayContainer,null),this.innerDisplayContainer.dir=e.textDirection||"ltr",this.initCommonProperties(),e.config?this.initRichText():this.initSimpleText(),this.reset(),Ot(xt(_t.prototype),"init",this).call(this,t)}},{key:"initCommonProperties",value:function(){var t=this.properties;this.transform("rotate(".concat(this.properties.rotation,"deg)"),this.displayContainer),this.setStyle(this.displayContainer,"opacity"),this.setStyle(this.displayContainer,"fontSize","px");var e=this.displayContainer.style;e.textAlign=t.alignment,e.lineHeight=t.lineHeight,e.letterSpacing="".concat(t.letterSpacing,"px"),e.width="100%",e.height="100%",d(this.displayContainer,l(this.properties.textShadow)),this.applyFilters(this.displayContainer,!1,this.properties.blur),this.properties.scale&&((e=this.innerDisplayContainer.style).width="".concat(t.width,"px"),e.height="".concat(t.height,"px"),this.transform("scale(".concat(this.properties.scale,")"),this.innerDisplayContainer),e["transform-origin"]="0 0")}},{key:"initSimpleText",value:function(){this.text=this.createElement("span","text-content"),this.innerDisplayContainer.appendChild(this.text);var t=this.properties;this.setStyle(this.innerDisplayContainer,"fontWeight,fontStyle,color");var e=this.innerDisplayContainer.style;e.fontFamily='"'.concat(t.fontPrefix||"").concat(t.fontFamily,'"'),t.textTransform&&(e.textTransform=t.textTransform),t.textDecoration&&(e.textDecoration=t.textDecoration);try{this.text.textContent=this.properties.text}catch(t){}this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.text,this),this.applyActions(this.createActionProperties(),this.text)}},{key:"initRichText",value:function(){this.applyConfigElements()}},{key:"applyConfigElements",value:function(){var o=this.properties.text,t=this.properties.config,a=o.replace(/\n/g,""),s=this;t.forEach(function(t){var e=t.offset,n=t.length,i=t.nodeType,r=t.style,t=t.children;0===e&&n===o.length?s.innerDisplayContainer.appendChild(s.getNode(i,a,r,a,t)):s.innerDisplayContainer.appendChild(s.getNode(i,w(a,e,n),r,a,t))})}},{key:"attachEventsAndActions",value:function(t){this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(t,this),this.applyActions(this.createActionProperties(),t)}},{key:"getNode",value:function(t,e,n,r,i){n=n||null,r=r||null,i=i||null;var o=document.createElement(t),n=function(t){if(!t)return"";var e,n="";for(e in t)if({}.hasOwnProperty.call(t,e)&&t[e])switch(e){case"fontFamily":var i=0===t[e].indexOf('"')?t[e]:'"'.concat(t.fontPrefix||"").concat(t[e],'"');n+="font-family:".concat(i,";");break;case"fontWeight":case"fontStyle":case"color":case"textTransform":case"textDecoration":i=e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())});n+="".concat(i,":").concat(t[e],";")}return n}(n);if(n&&(o.style.cssText=n),"div"===t?o.className="row":"span"===t&&this.attachEventsAndActions(o),!i||!i.length)return e||"div"!==t?"div"===t?((t=document.createElement("span")).textContent=e,o.appendChild(t),this.attachEventsAndActions(t)):o.textContent=e:o.appendChild(document.createElement("BR")),o;var a=this;return i.forEach(function(t){var e=t.offset,n=t.length,i=t.nodeType,t=t.style,n=r?w(r,e,n):"";o.appendChild(a.getNode(i,n,t))}),o}},{key:"reset",value:function(){var t;Ot(xt(_t.prototype),"reset",this).call(this,this),t=this.properties.config?this.container.getElementsByClassName("word"):this.container.getElementsByClassName("text-content")[0].getElementsByTagName("span"),z.clearWordsTimeout(this.container,t);for(var e=0;e<t.length;e++){var n=t[e].style;n.opacity=1,n.animation="",n["-webkit-animation"]=""}}}],kt(_t.prototype,Ht),_t);function _t(){return function(t){if(!(t instanceof _t))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(e=xt(_t).apply(this,arguments))||"object"!==Ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(Dt,Q),Nt=[{key:"getHoverBackgroundColor",value:function(){if(!this.properties.backgroundColor)return null;var t=JSON.parse(JSON.stringify(this.properties.backgroundColor));switch(t.type){case"solid":t.scolor=o(t.scolor,10);break;case"rgrad":case"lgrad":for(var e=t.gradColors,n=0;n<e.length;n++)e[n].c=o(e[n].c,10)}return t}},{key:"getBackgroundHoverCss",value:function(t){var e,n=u(t),i="";for(e in n)if("background-image"!==e)n[e]&&(i+="".concat(e,": ").concat(n[e]," !important;"));else for(var r=0;r<n[e].length;r++)i+="background-image:".concat(n[e][r]," !important;");return i}},{key:"getBorderColorHoverCss",value:function(t){if(!t)return"";var e=y(t),e=(t=o(b(e,!1),10),e=e.a,t="#"===t[0]?t.substr(1):t,t=parseInt(t,16),"rgba(".concat((t=[t>>16,t>>8&255,255&t])[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")"));return"border-color: ".concat(e," !important;")}},{key:"init",value:function(t){var e=t.properties;"string"==typeof e.backgroundColor&&(e.backgroundColor={type:"solid",scolor:e.backgroundColor});var n=e.border||{};e["border-radius"]=e.border&&e.border.radius?e.border.radius:e.borderRadius,this.properties=e,this.createMainContainers("element","bs-btn btn".concat(e.id)),e.localUrl&&e.localUrl.includes(".svg")?(this.textContainer=this.createElement("div","bs-btn-label image-crop",!0,this.displayContainer),i=void 0!==bannerConfig.imgLocalPath?bannerConfig.imgLocalPath:"media/",this.textContainer.style.backgroundImage="url(".concat(i).concat(e.localUrl,")"),this.applyFilters(this.textContainer,null,null,e.labelShadow)):(this.textContainer=this.createElement("label","bs-btn-label",!0,this.displayContainer),this.textContainer.textContent=e.buttonLabel,this.textContainer.dir=e.labelStyle.textDirection||"ltr",e["line-height"]=e.height-(n.weight?2*n.weight:0),this.setStyle(this.textContainer,"line-height,labelOffsetX,labelOffsetY","px"),"string"==typeof e.labelStyle.fontSize&&("string"!=typeof e.labelStyle.fontSize||e.labelStyle.fontSize.includes("px"))||(e.labelStyle.fontSize="".concat(e.labelStyle.fontSize,"px")),"string"==typeof e.labelStyle.letterSpacing&&("string"!=typeof e.labelStyle.letterSpacing||e.labelStyle.letterSpacing.includes("px"))||(e.labelStyle.letterSpacing="".concat(e.labelStyle.letterSpacing,"px")),"string"!=typeof e.labelStyle.fontFamily||e.labelStyle.fontFamily.includes('"')||(r='"'.concat(e.labelStyle.fontPrefix||"").concat(e.labelStyle.fontFamily,'"'),e.labelStyle.fontFamily=r),d(this.textContainer,e.labelStyle),d(this.textContainer,l(e.labelShadow))),n.weight&&this.applyExtraPropertiesForGradients(this.displayContainer),d(this.displayContainer,c(e.dropShadow)),this.displayContainer.style.border=this.getBorderString(),this.applyBackground(this.displayContainer,e.backgroundColor);var i=".bs-btn.btn".concat(e.id),r="bs-btn".concat(e.id),e=this.getBackgroundHoverCss(this.getHoverBackgroundColor()),n=this.getBorderColorHoverCss(n.color);!function(t,e){var n,i=window.document.getElementsByTagName("head")[0],r=window.document.getElementById("eautils-css");if(null==r&&((r=window.document.createElement("style")).type="text/css",r.id="eautils-css",i.appendChild(r)),void 0!==f.cssStyle[e]){f.rawCssStyle="",f.cssStyle[e].css=t;for(var o=0;o<f.cssStyleArray.length;o++)n=f.cssStyleArray[o],f.rawCssStyle+=n.css}else f.rawCssStyle+=t,(n={}).css=t,f.cssStyle[e]=n,f.cssStyleArray.push(n);r.styleSheet?r.styleSheet.cssText=f.rawCssStyle:r.innerHTML=f.rawCssStyle}("".concat(i,":hover{").concat(e).concat(n,"}"),r),this.reset();r=this.createActionProperties();return r&&"click"===r.event&&!r.useHandCursor&&this.addClass(this.displayContainer,"no-hand-cursor"),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.container,this),this.applyActions(r,this.container),Q.prototype.init.call(this,t)}},{key:"reset",value:function(){Q.prototype.reset.call(this),this.setStyle(this.displayContainer,"width,height,border-radius","px")}}],Pt(Dt.prototype,Nt),Dt);function Dt(){return function(t){if(!(t instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(e=It(Dt).apply(this,arguments))||"object"!==At(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mt(t,e,n){return(Mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nt=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(Rt,Q),Ht=[{key:"init",value:function(t){var e,n;this.properties=t.properties,this.createMainContainers("element","svg"),this.properties.resourceKey&&this.slide.banner.displayData.resources?(e=(i=this.slide.banner.displayData.resources[this.properties.resourceKey])&&function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.innerHTML=t;for(var i=n.querySelectorAll("[data-color-group]"),r=0;r<i.length;r++)i[r]&&i[r].dataset&&i[r].setAttribute("fill",e[parseInt(i[r].dataset.colorGroup)]);return n.innerHTML}(i.content,this.properties.colorGroups),(i=this.createElement("img","svg-img",!1,null)).setAttribute("src","data:image/svg+xml;charset=UTF-8,".concat(encodeURIComponent(e)))):(this.properties.localUrl?(n=void 0!==bannerConfig.imgLocalPath?bannerConfig.imgLocalPath:"media/",n="".concat(n).concat(this.properties.localUrl)):this.properties.url&&(n="".concat(bannerConfig.photosUrl).concat(this.properties.url)),n=n+this.properties.id,i=this.createElement("img","svg-img",!1,null,window.assetsCache[n])),this.displayContainer.appendChild(i);var i=this.getFlipString(this.properties.flip);return this.transform("translateZ(0) rotate(".concat(this.properties.rotation,"deg) ").concat(i),this.displayContainer),this.applyFilters(this.displayContainer,this.properties.adjustColor,this.properties.blur,this.properties.dropShadow),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.applyActions(this.createActionProperties(),this.displayContainer),Mt(Ft(Rt.prototype),"init",this).call(this,t)}}],Ut(Rt.prototype,Ht),Rt);function Rt(){return function(t){if(!(t instanceof Rt))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(e=Ft(Rt).apply(this,arguments))||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e;var t,e}String.prototype.includes||(String.prototype.includes=function(t,e){return!((e="number"!=typeof e?0:e)+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;for(var r,o,e=0|e,a=Math.max(0<=e?e:i-Math.abs(e),0);a<i;){if((r=n[a])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.getClickTagValue=H;var Ht=function(){var n=new yt;return window.document.addEventListener("DOMContentLoaded",function(){window.bannerJson&&(n.init(window.document.getElementById("bs"),window.bannerJson,window.bannerConfig),window.addEventListener&&window.addEventListener("message",function(t){var e=window.bannerJson.hash;t.data==="BS_BANNER_IS_VISIBLE_".concat(e)&&(n.banner.stats.trackViewed(),t.source.postMessage("BS_BANNER_IS_VISIBLE_RECEIVED_".concat(e),t.origin))},!1))}),n};window.BS_eaUtils=f,window.BS_eaUtils,window.BS_eff=z,window.BS_eff,window.BS_EventDispatcher=n,window.BS_EventDispatcher,window.BS_BaseDisplay=Q,window.BS_BaseDisplay,window.BS_BannerDisplay=lt,window.BS_BannerDisplay,window.BS_SlideDisplay=nt,window.BS_SlideDisplay,window.BS_EmbedCanvas=yt,window.BS_EmbedCanvas,window.BS_ImageDisplay=e,window.BS_ImageDisplay,window.BS_TextDisplay=Tt,window.BS_TextDisplay,window.BS_ButtonDisplay=Bt,window.BS_ButtonDisplay,window.BS_SvgDisplay=Nt,window.BS_SvgDisplay,window.BS_rotate=function(t,e,n){var i="buildIn"===e,r=parseInt(t.alphaOffset),o=Math.round(.3*n.offsetWidth+.3*n.offsetHeight),n=45;("forward"===t.direction&&i||"backward"===t.direction&&!i)&&(n*=-1,o*=-1);t="".concat(t.type,"_").concat(e,"_").concat(t.direction,"_").concat(r,"_").concat(o,"_").concat(n);if(k(t))return t;r={transform:"translateZ(".concat(o,"px) rotate(").concat(n,"deg)"),opacity:r/100};return O(t,[{percent:i?0:100,props:r},{percent:i?100:0,props:{transform:"translateZ(0) rotate(0)",opacity:"1"}}]),t},window.BS_rotate,window.BS_alpha=function(t,e){var n="buildIn"===e,e="alpha_".concat(e);return k(e)||O(e,[{percent:n?0:100,props:{opacity:"0",transform:"translateX(0) translateY(0)"}},{percent:n?100:0,props:{opacity:"1"}}]),e},window.BS_alpha,window.BS_slide=function(t,e){var n="buildIn"===e,i=function(t,e){var n=0,i=0,r=parseInt(t.slideOffset);switch(t.direction){case"custom":n=parseInt(t.slidePosX),i=parseInt(t.slidePosY);break;case"l2r":n=e?-r:r;break;case"r2l":n=e?r:-r;break;case"t2b":i=e?-r:r;break;case"b2t":i=e?r:-r}return{translateX:n,translateY:i,alpha:parseInt(t.alphaOffset)}}(t,n),r=i.translateX,o=i.translateY,i=i.alpha,e="".concat(t.type,"_").concat(e,"_").concat(r,"_").concat(o,"_").concat(i);if(k(e))return e;i={transform:"translateX(".concat(r,"px) translateY(").concat(o,"px)"),opacity:i/100};return O(e,[{percent:n?0:100,props:i},{percent:n?100:0,props:{transform:"translateX(0) translateY(0)",opacity:"1"}}]),e},window.BS_slide,window.BS_pulsateHeartbeat=function(t,e){for(var n,i=t.type,r=t.ease,o=t.tween,a=t.motionTime,t=t.variation,t="".concat(i,"_").concat(e,"_").concat(r,"_").concat(o,"_").concat(10*a,"_").concat(t),s=[[0,1,"ease-out"],[10,.91,"ease-in"],[17,.98,"ease-out"],[33,.87,"ease-in"],[45,1,"ease-out"]],l=[],c=0;n=s[c];c++)l.push({percent:n[0],props:{transform:"scale(".concat(n[1],")"),"animation-timing-function":n[2]}});return O(t,l),t},window.BS_pulsateHeartbeat,window.BS_scale=function(t,e){var n="buildIn"===e,i=function(t,e){var n=1,i=1,r="top left";switch(t.direction){case"l2r":n=0,r=e?"left center":"right center";break;case"r2l":n=0,r=e?"right center":"left center";break;case"t2b":i=0,r=e?"center top":"center bottom";break;case"b2t":i=0,r=e?"center bottom":"center top";break;case"center":i=n=0,r="center center"}return{startScaleX:n,startScaleY:i,transformOrigin:r}}(t,n),r=i.startScaleX,t=i.startScaleY,i=i.transformOrigin,e="scale_".concat(e,"_").concat(i.replace(" ","_"),"_").concat(r,"_").concat(t);if(k(e))return e;t={transform:"scaleX(".concat(r,") scaleY(").concat(t,")"),"transform-origin":i};return O(e,[{percent:n?0:100,props:t},{percent:n?100:0,props:{transform:"scaleX(1) scaleY(1)","transform-origin":i}}]),e},window.BS_scale,window.BS_init=Ht,window.BS_init,window.BS_ShowWatermark=function(){if(!window.bannerConfig.watermarkUrl)return!1;var t=document.createElement("div");t.setAttribute("style","".concat('position: absolute;right: 5px;bottom: 5px;z-index: 99999999999999;background: url("').concat(window.bannerConfig.watermarkUrl,'"); ')+"width: 178px; height: 32px;background-repeat: no-repeat;");var e=document.createElement("div");return e.appendChild(t),document.getElementById("bs").appendChild(e),e.setAttribute("style","background-color: ".concat("rgba(100, 100, 100, .8)",";")+"bottom: ".concat("0",";")+"color: ".concat("#fff",";")+"cursor: ".concat("pointer",";")+"fill: ".concat("#fff",";")+"font-family: ".concat("Arial, sans-serif",";")+"font-size: ".concat("11px",";")+"font-style: ".concat("normal",";")+"font-weight: ".concat("400",";")+"position: ".concat("absolute",";")+"right: ".concat("-68px",";")+"z-index: ".concat("999",";")),t=e,window.bannerJson&&t.addEventListener("click",function(t){var e="//www.bannersnack.com/?utm_source=freebanner&utm_medium=watermark1&utm_content=".concat(window.bannerJson.banner.properties.width,"x").concat(window.bannerJson.banner.properties.height,"&utm_campaign=BannerSnackEmbed&utm_hash=").concat(window.bannerJson.hash);window.open(e,"_blank"),t.stopPropagation()}),e},window.BS_ShowWatermark,Ht()}]);

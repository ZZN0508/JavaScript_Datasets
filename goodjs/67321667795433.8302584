(window.QJP=window.QJP||[]).push([["prismic_testimonials"],{"190i":function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return v});var s,a=i("q1tI"),r=i.n(a),n=i("WHvC"),l=i("nrsj"),t=i("TSYQ"),o=i.n(t),d=i("ueNg"),h=i("t1Ez"),u=i("8WOz"),c=i("Pxp3"),m=i("FFEN"),p=i("a08m"),t=i("QLaP"),g=i.n(t),w=i("T3U7");(i=s=s||{}).WHITE="white",i.ORANGE="light orange";class S extends a.PureComponent{constructor(e){super(e),this.handleClickUser=e=>{Object(w.a)("homepage_testimonial_clicked",{selectedUserId:this.props.testimonials[e].userId,selectedUserDisplayName:this.props.testimonials[e].displayName}),this.setState({selectedIndex:e})},g()(0<=e.defaultSelectedIndex&&e.defaultSelectedIndex<e.testimonials.length,"Testimonials are hard-coded and one will always be selected by default"),this.state={selectedIndex:e.defaultSelectedIndex}}getSelectedQuote(){return this.props.testimonials[this.state.selectedIndex].quote}renderTestimonialUser(e,t){var i=o()("Testimonials-user",{isSelected:e===this.state.selectedIndex});return r.a.createElement("div",{className:i,key:e},r.a.createElement(c.a,null,r.a.createElement(p.a,{onClick:this.handleClickUser.bind(null,e)},r.a.createElement("div",{"aria-label":Object(l.a)("homepage.en_gb.testimonials.image_label",{name:t.displayName}),className:"Testimonials-displayImage",role:"img",style:{backgroundImage:"url("+t.displayImageUrl+")"}}))),r.a.createElement(c.a,{className:"Testimonials-username"},r.a.createElement(p.a,{to:t.profileUrl},t.displayName),r.a.createElement("span",{className:"Testimonials-userStatus"},t.userType)))}renderQuotedPanes(){return this.rotate(this.props.defaultSelectedIndex,this.props.testimonials).map((e,t)=>r.a.createElement("div",{className:o()("Testimonials-quoted",{"Testimonials-orange":e.backgroundColor===s.ORANGE,"Testimonials-white":e.backgroundColor===s.WHITE}),key:"Testimonials-quoted-"+t},r.a.createElement(u.a,{isFullBleed:!0,maxWidth:"l"},r.a.createElement("div",{className:"Testimonials"},r.a.createElement(c.a,null,r.a.createElement(m.a,{deprecatedStyle:!0,size:3},e.quote),r.a.createElement("p",{className:"Testimonial-userDetail"},"- ",e.displayName,","," ",Object(l.a)("homepage_new.testimonials.age",{userAge:e.userAge})))))))}renderQuoteVersion(){return r.a.createElement(d.a,{arrowVariant:"white",autoScroll:!0,isContinuousScroll:!0,renderArrows:!1,shouldShowCounter:!1},this.renderQuotedPanes())}render(){var{testimonials:e,showQuotes:t}=this.props;return t?this.renderQuoteVersion():r.a.createElement("div",{className:"Testimonials"},r.a.createElement(c.a,null,r.a.createElement("span",{className:"Testimonials-header"},r.a.createElement(h.a,{id:"homepage.en_gb.testimonials.header"}))),r.a.createElement(c.a,{className:"Testimonials-container"},r.a.createElement(c.a,{className:"Testimonials-quote"},r.a.createElement("span",null,this.getSelectedQuote())),r.a.createElement(c.a,{className:"Testimonials-users"},e.map((e,t)=>this.renderTestimonialUser(t,e)))))}rotate(e,t){for(var i=[],s=0;s<e;s++){var a=t.shift();a&&i.push(a)}return t.concat(i)}}function v(e,t){Object(n.a)(r.a.createElement(S,{defaultSelectedIndex:e.defaultSelectedTestimonialIndex,showQuotes:e.showQuotes,testimonials:e.testimonials}),t)}},ueNg:function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i("4mDm"),i("3bBZ"),i("zKZe");var t=i("TSYQ"),o=i.n(t),n=i("FFEN"),l=i("xqF0"),t=i("sEfC"),s=i.n(t),t=i("WjpJ"),a=i.n(t),t=i("q1tI"),d=i.n(t),t=i("xYJe"),h=i.n(t),u={white:{right:"arrow-right",left:"arrow"},borderless:{right:"caret-right",left:"caret-left"}};class r extends d.a.Component{constructor(){super(...arguments),this.state={height:0,index:0,isSliding:!1,nextSlideDirection:"rtl",previousIndex:void 0,validChildren:[]},this.handleArrowClick=e=>{this.swipe(e)},this.handleDotClick=e=>{this.slideTo(e)},this.renderDot=e=>{var t=o()("SlidingCarousel-dot",{"is-active":this.state.index===e,["SlidingCarousel-dot--"+this.props.dotsVariant]:this.props.dotsVariant});return d.a.createElement("li",{className:t,key:e,onClick:()=>this.handleDotClick(e)})},this.renderDots=e=>d.a.createElement("ul",{className:"SlidingCarousel-dotsContainer"},a()(0,e).map(this.renderDot)),this.renderHeading=(e,t)=>{var{index:i,previousIndex:s}=this.state,a=i===t&&s!==t,r=i!==t&&s===t,r=o()("SlidingCarouselHeader-title",{initial:void 0===s,"is-current":i===t,"is-entering":a,"is-leaving":r});return d.a.createElement("div",{className:r,key:t,ref:e=>{this.paneRefs[t]=e}},d.a.createElement(n.a,{deprecatedStyle:!1,size:5},e))},this.renderArrows=()=>{var e=void 0===this.props.arrowVariant?"wedge-left":u[this.props.arrowVariant].left,t=void 0===this.props.arrowVariant?"wedge-right":u[this.props.arrowVariant].right,i=this.state.index+1,s=this.state.validChildren.length,a=o()("SlidingCarousel-arrowLeft",{"SlidingCarousel-arrowDisabled":!this.shouldShowPreviousArrow()}),r=o()("SlidingCarousel-arrowRight",{"SlidingCarousel-arrowDisabled":!this.shouldShowNextArrow()}),n=o()("SlidingCarousel-arrowsContainer",{"SlidingCarousel-arrowsContainer--white":"white"===this.props.arrowVariant});return d.a.createElement("div",{className:n},d.a.createElement("div",{className:a},d.a.createElement(l.a,{disabled:!this.shouldShowPreviousArrow(),icon:e,onClick:()=>this.handleArrowClick("ltr"),size:"borderless"===this.props.arrowVariant?"small":"default",variant:this.props.arrowVariant})),this.props.shouldShowCounter?d.a.createElement("div",{className:"SlidingCarousel-counter"},i,"/",s):null,d.a.createElement("div",{className:r},d.a.createElement(l.a,{disabled:!this.shouldShowNextArrow(),icon:t,onClick:()=>this.handleArrowClick("rtl"),size:"borderless"===this.props.arrowVariant?"small":"default",variant:this.props.arrowVariant})))},this.renderPane=(e,t)=>{var{nextSlideDirection:i,index:s,previousIndex:a,height:r}=this.state,n=s===t&&a!==t,a=s!==t&&a===t,r=o()("SlidingCarousel-pane",{"is-current":s===t,"is-leaving-to-right":a&&"ltr"===i,"is-leaving-to-left":a&&"rtl"===i,"is-entering-from-right":n&&"rtl"===i,"is-entering-from-left":n&&"ltr"===i,"is-full-height":!this.props.shouldFlexBySingularPaneHeight&&0<r});return d.a.createElement("div",{className:r,key:t,ref:e=>{this.paneRefs[t]=e}},e)},this.setHeight=()=>{var e=this.props["shouldFlexBySingularPaneHeight"];e?this.setSinglePaneHeight():this.setUniversalPaneHeight()},this.setUniversalPaneHeight=()=>{var e=Math.max(0,...this.paneRefs.map(e=>e?e.getBoundingClientRect().height:0));this.setState({height:e})},this.setSinglePaneHeight=()=>{var e=this.paneRefs[this.state.index],e=e?e.getBoundingClientRect().height:0;this.setState({height:e})},this.paneRefs=[],this.debouncedSetHeight=s()(this.setHeight,300),this.slideTo=(i,s)=>{var e;i===this.state.index||this.state.isSliding||(e=this.props["shouldFlexBySingularPaneHeight"],this.setState(e=>{var t=e.index;return Object.assign({},e,{heading:this.props.paneTitles?this.props.paneTitles[i]:"",index:i,isSliding:!0,nextSlideDirection:s||(t<i?"rtl":"ltr"),previousIndex:t})},()=>{e&&window.setTimeout(this.setSinglePaneHeight,500),this.props.onGestureAction&&this.props.onGestureAction(i)}))},this.slideForward=()=>{var{index:e,validChildren:t}=this.state,t=(e+1)%t.length;this.slideTo(t,"rtl")},this.slideBackward=()=>{var{index:e,validChildren:t}=this.state,t=t.length;this.slideTo(0!==e?e-1:t-1,"ltr")},this.swipe=e=>{"ltr"===e&&this.slideBackward(),"rtl"===e&&this.slideForward(),this.stopCountdown(),this.startCountdown()},this.enableSlide=()=>{this.state.isSliding&&this.setState({isSliding:!1})},this.startCountdown=()=>{!this._timeout&&this.props.autoScroll&&(this._timeout=window.setInterval(this.slideForward,5e3))},this.stopCountdown=()=>{this._timeout&&(clearInterval(this._timeout),this._timeout=0)}}componentDidMount(){this.startCountdown(),this.setHeight(),window.addEventListener("resize",this.debouncedSetHeight)}componentWillUnmount(){this.stopCountdown(),window.removeEventListener("resize",this.debouncedSetHeight)}static getDerivedStateFromProps(e){var e=e["children"];return{validChildren:d.a.Children.toArray(e).filter(Boolean)}}render(){var{previousIndex:e,validChildren:t,height:i}=this.state,{renderDots:s,renderArrows:a,arrowLocation:r,paneTitles:n}=this.props,l=t.length,i=i?{height:i+"px"}:{},e=o()("SlidingCarousel-panes",{"SlidingCarousel-panes--initial":void 0===e});return d.a.createElement(h.a,{className:"SlidingCarousel",onAnimationEnd:this.enableSlide,onBlur:this.startCountdown,onFocus:this.stopCountdown,onMouseEnter:this.props.onMouseEnter||this.stopCountdown,onMouseLeave:this.props.onMouseLeave||this.startCountdown,onSwipedLeft:()=>this.swipe("rtl"),onSwipedRight:()=>this.swipe("ltr")},a&&"top"===r?d.a.createElement("div",{className:"SlidingCarousel-headingContainer"},n?n.map(this.renderHeading):null,1<l?this.renderArrows():null):null,d.a.createElement("div",{className:e,style:i},t.map(this.renderPane)),s&&1<l?this.renderDots(l):null,a&&1<l&&"bottom"===r?this.renderArrows():null)}shouldShowPreviousArrow(){return 0<this.state.index||!0===this.props.isContinuousScroll}shouldShowNextArrow(){return this.state.index<this.state.validChildren.length-1||!0===this.props.isContinuousScroll}}r.defaultProps={arrowLocation:"bottom",autoScroll:!1,isContinuousScroll:!0,renderArrows:!1,renderDots:!1,shouldShowCounter:!1}}}]);

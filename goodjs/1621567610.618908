(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"01sJ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommentNotificationsCount"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notificationCount"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:85}};n.loc.source={body:"query CommentNotificationsCount {\n  currentUser {\n    id\n    notificationCount\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var o={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),o[e.name.value]=t}})),e.exports=n,e.exports.CommentNotificationsCount=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,c=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var u=a;a=new Set,u.forEach((function(e){c.has(e)||(c.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return c.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CommentNotificationsCount"),n.documentId="cddf552f97cad3562d9f7e3b44b679a3c23ab59782a58d59cdc4b50c9731b30b"},"5Qfx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var r=n("ODXe"),o=n("rePB"),i=n("q1tI"),c=n.n(i),a=n("20a2"),u=n.n(a),f=n("VnKV"),s=n("eMNQ"),d=n("X8jo"),l=n("Y+p1"),v=n.n(l),b=function(e){var t=Object(i.useRef)([]),n=Object(i.useState)(!1),r=n[0],o=n[1];return Object(i.useEffect)((function(){var n=function(n){var r=n.key;t.current.length===e.length&&t.current.shift(),t.current.push(r),v()(t.current,e)?o(!0):o(!1)};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]),r},O=c.a.createElement;function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=c.a.createContext(),j=(h.Consumer,function(e,t){switch(t.type){case"addControl":case"resetControls":case"toggleControl":case"queryEnabled":return y(y({},e),{},{controls:m(e.controls,t)});case"toggleMaster":return y(y({},e),{},{master:t.target.checked});case"toggleEnabled":return y(y({},e),{},{enabled:!e.enabled});case"enable":return y(y({},e),{},{enabled:!0});case"disable":return y(y({},e),{},{enabled:!1});case"restoreFromLocalStorage":return y(y({},t.localStore),{},{controls:m(e.controls,t)});default:return e}}),m=function e(t,n){switch(n.type){case"addControl":var i=n.control,c=i.label,a=i.display,u=void 0!==a&&a,f=i.showInProduction,d=void 0!==f&&f,l=Object(s.Zb)(c),v=t[l],b=void 0===v?{key:l,label:c,display:u,showInProduction:d}:v;return y(y({},t),{},Object(o.a)({},l,y(y({},b),{},{inView:!0})));case"toggleControl":var O=n.target,p=O.name,h=O.checked,j=t[p];return y(y({},t),{},Object(o.a)({},p,y(y({},j),{},{display:h})));case"resetControls":case"queryEnabled":return Object.entries(t).reduce((function(e,t){var o=Object(r.a)(t,2),i=o[0],c=o[1];return e[i]=w(c,n),e}),{});case"restoreFromLocalStorage":var m=e(n.localStore.controls,{type:"resetControls"});return Object.entries(t).reduce((function(e,t){var n=Object(r.a)(t,2),o=n[0],i=n[1],c=e[o]||i,a=i.inView,u=i.label,f=i.showInProduction;return e[o]=y(y({},c),{},{inView:a,label:u,showInProduction:f}),e}),m);default:return t}},w=function(e,t){switch(t.type){case"resetControls":return y(y({},e),{},{inView:!1});case"queryEnabled":return t.key===e.key?y(y({},e),{},{display:!0}):e;default:return e}},g=function(e){var t=e.router,n=(t=void 0===t?{}:t).query,o=e.children,c=Object(i.useReducer)(j,{controls:{},enabled:!1,master:!0}),a=c[0],s=c[1],l=Object(d.a)("__sneak_peek__",a),v=Object(r.a)(l,2),p=v[0],m=v[1],w=b(f.KONAMI_CODE);return Object(i.useEffect)((function(){var e=function(){return s({type:"resetControls"})};return u.a.events.on("routeChangeStart",e),function(){u.a.events.off("routeChangeStart",e)}}),[]),Object(i.useEffect)((function(){s({type:"restoreFromLocalStorage",localStore:p}),"_sneak_peek"in n&&s({type:"enable"})}),[n]),Object(i.useEffect)((function(){w&&s({type:"enable"})}),[w]),Object(i.useEffect)((function(){m(a)}),[a,m]),Object(i.useEffect)((function(){Object.keys(n).forEach((function(e){s({type:"queryEnabled",key:e})}))}),[n]),O(h.Provider,{value:y(y({},a),{},{dispatch:s})},o)}},"E/qt":function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return C}));var r=n("q1tI"),o=n.n(r),i=n("01sJ"),c=n.n(i),a=n("VnKV"),u=n("rePB"),f="active",s="idle",d=f,l=["click","mousemove","keydown","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","focus"],v=["blur","visibilitychange"],b=["mousemove"],O=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.activityEvents,i=void 0===o?l:o,c=r.inactivityEvents,a=void 0===c?v:c,O=r.ignoredEventsWhenIdle,p=void 0===O?b:O,y=r.timeToIdle,h=void 0===y?3e4:y,j=r.initialState,m=void 0===j?d:j,w=r.autoInit,g=void 0===w||w;if("undefined"!==typeof document.hidden)t="hidden",n="visibilitychange";else for(var E=["webkit","moz","ms"],C=0;C<E.length;C++){var _=E[C];if("undefined"!==typeof document["".concat(_,"Hidden")]){t="".concat(_,"Hidden"),n="".concat(_,"visibilitychange");break}}var P,S,k=(e={},Object(u.a)(e,f,[]),Object(u.a)(e,s,[]),e),I=function e(t){clearTimeout(S),t===f&&(S=setTimeout((function(){return e(s)}),h)),P!==t&&k[P=t].forEach((function(e){return e()}))},N=function(e){(P===f||p.indexOf(e.type)<0)&&I(f)},T=function(){I(s)},D=function(){I(document[t]?s:f)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;I(e===f?f:s),i.forEach((function(e){return window.addEventListener(e,N)})),a.filter((function(e){return"visibilitychange"!==e})).forEach((function(e){return window.addEventListener(e,T)})),a.indexOf("visibilitychange")>=0&&n&&document.addEventListener(n,D)},q=function(e,t){k[e].push(t);return function(){var n=k[e].indexOf(t);n>=0&&k[e].splice(n,1)}},B=function(){k.active=[],k.idle=[],clearTimeout(S),i.forEach((function(e){return window.removeEventListener(e,N)})),a.forEach((function(e){return window.removeEventListener(e,T)})),n&&document.removeEventListener(n,D)};return g&&x(m),{on:q,stop:B,init:x}};var p=n("p5Ga"),y=n("MCvy"),h=n("re3D"),j=o.a.createElement,m=n("NOtv")("kraken:components:contexts:NotificationsContext"),w=o.a.createContext({notificationCount:0}),g=(w.Consumer,{timeToIdle:12e4}),E=a.OPEN_WEB_ACTIVE?function(e){var t=e.children,n=Object(h.e)().loggedIn,o=Object(r.useState)(0),i=o[0],c=o[1];return Object(r.useEffect)((function(){var e=function(e){m("Openweb Notification: ",e),console.info("Openweb Notification: ",e),c(e)};window._onNewNotification=e,n&&Object(y.b)("user-notifications",e)}),[n]),j(w.Provider,{value:{notificationCount:i}},t)}:function(e){var t=e.children,n=Object(h.e)().loggedIn,o=function(e){var t=Object(r.useState)(!1),n=t[0],o=t[1];return Object(r.useEffect)((function(){var t=O(e);return t.on("idle",(function(){return o(!0)})),t.on("active",(function(){return o(!1)})),function(){return t.stop()}}),[e]),n}(g),i=Object(p.a)({dataPath:"currentUser",query:c.a,pollInterval:3e4,skip:!n}),a=i.data,u=i.startPolling,f=i.stopPolling,s=(null!==a&&void 0!==a?a:{}).notificationCount,d=void 0===s?0:s;return Object(r.useEffect)((function(){n&&(o?f():u(3e4))}),[n,o,u,f]),j(w.Provider,{value:{notificationCount:d}},t)},C=function(){return Object(r.useContext)(w)}},KZ9R:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return v}));var r=n("KQm4"),o=n("q1tI"),i=n.n(o),c=n("20a2"),a=n.n(c),u=(n("GsXY"),i.a.createElement),f=i.a.createContext({buttons:[],addPurgeButton:function(){}}),s=f.Consumer,d=function(e,t){switch(t.type){case"add":var n=t.button,o=n.label,i=n.refetch;if(e.find((function(e){return e.label===o})))return e;return[].concat(Object(r.a)(e),[{label:o,onClick:function(){return i({purge:!0})}}]);case"clear":return[]}},l=function(e){var t=e.children,n=Object(o.useReducer)(d,[]),r=n[0],i=n[1],c=Object(o.useCallback)((function(e){return i({type:"add",button:e})}),[]);return Object(o.useEffect)((function(){var e=function(){return i({type:"clear"})};return a.a.events.on("routeChangeComplete",e),function(){a.a.events.off("routeChangeComplete",e)}}),[]),u(f.Provider,{value:{buttons:r,addPurgeButton:c}},t)},v=function(){return Object(o.useContext)(f)}},MCvy:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e,t){"function"===typeof window.__OW_SUBSCRIBE_TO_NOTIFICATIONS__?window.__OW_SUBSCRIBE_TO_NOTIFICATIONS__(e,t):document.addEventListener("ow-notifications-sdk-ready",(function(){window.__OW_SUBSCRIBE_TO_NOTIFICATIONS__(e,t)}))},o=function(e,t){var n={postId:t||window.location.pathname,instanceId:e};"function"===typeof window.__OW_OPEN_NOTIFICATIONS__?window.__OW_OPEN_NOTIFICATIONS__(n):document.addEventListener("ow-notifications-sdk-ready",(function(){window.__OW_OPEN_NOTIFICATIONS__(n)}))}},Sf1j:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b}));var r=n("rePB"),o=n("q1tI"),i=n.n(o),c=n("zlSC"),a=i.a.createElement;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=i.a.createContext({}),d=i.a.createContext({}),l=function(e){var t=e.children,n=Object(o.useState)(),r=n[0],i=n[1],u=Object(o.useState)("notice"),l=u[0],v=u[1],b=Object(c.a)(!0),O=b.display,p=b.show,y=b.hide,h=Object(o.useRef)(),j=function(){h.current&&clearTimeout(h.current),y(),setTimeout((function(){return i(void 0),void p()}),1e3)},m=function(e,t){var n=t.level,r=void 0===n?"notice":n,o=t.delay,c=void 0===o?5e3:o,a=t.sticky,u=void 0!==a&&a;i(e),v(r),h.current&&clearTimeout(h.current),u||(h.current=setTimeout((function(){return j()}),c))};return a(s.Provider,{value:{notify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(e,f(f({},t),{},{level:"notice"}))},alert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(e,f(f({},t),{},{level:"alert",sticky:!0}))},flash:m}},a(d.Provider,{value:{message:r,level:l,display:O,dismiss:j}},t))},v=function(){return Object(o.useContext)(s)||{}},b=function(){return Object(o.useContext)(d)||{}}},p5Ga:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("rePB"),o=n("Ff2n"),i=n("q1tI"),c=n("VX74"),a=n("mwIZ"),u=n.n(a),f=n("GsXY"),s=n("KZ9R");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e,t){for(var n=0,r=["startIndex","nextCursor","cursor"];n<r.length;n++){var o=r[n];if(e[o]&&e[o]===t[o])return!0}return!1};function v(e){var t=e.purge,n=e.dataPath,a=e.query,v=Object(o.a)(e,["purge","dataPath","query"]),b=Object(c.useQuery)(a,v),O=b.data,p=b.refetch,y=b.fetchMore,h=Object(o.a)(b,["data","refetch","fetchMore"]),j=Object(s.c)().addPurgeButton,m=n?Object(f.o)(O,n):Object(f.n)(O),w=n?u()(O,n):O,g=Object(i.useRef)(1),E=Object(i.useRef)();Object(i.useEffect)((function(){E.current=h.variables,g.current=1}),[h.variables]);var C=Object(i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!l(e,E.current))return E.current=e,g.current+=1,y({variables:e}).then((function(){return t(g.current)}))}),[y]);return Object(i.useEffect)((function(){if(m&&t){var e="function"===typeof t?t(w):t;e&&j({label:e,refetch:p})}}),[m,w,j,t,p]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hasData:m,data:m?w:void 0,refetch:p,fetchMore:y,loadMore:C},h)}},zlSC:function(e,t,n){"use strict";var r=n("ODXe"),o=n("e2db");t.a=function(e){var t=Object(o.a)(e),n=Object(r.a)(t,4);return{display:n[0],toggle:n[1],show:n[2],hide:n[3]}}}}]);
//# sourceMappingURL=bd1fe9762c5278860b4400747b6c1b70ac47f773.a0a55a8a0e939be31d68.js.map
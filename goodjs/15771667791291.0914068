function s(){}function n(t,s){for(const n in s)t[n]=s[n];return t}function e(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,s){return t!=t?s==s:t!==s||t&&"object"==typeof t||"function"==typeof t}function h(t,...n){if(null==t)return s;const e=t.subscribe(...n);return e.unsubscribe?()=>e.unsubscribe():e}function u(t,s,n){t.$$.on_destroy.push(h(s,n))}function l(t,s,n,e){if(t){e=c(t,s,n,e);return t[0](e)}}function c(t,s,e,i){return t[1]&&i?n(e.ctx.slice(),t[1](i(s))):e.ctx}function f(t,s,n,e,i,o,r){o=function(s,n,e,t){if(s[2]&&t){var i=s[2](t(e));if(void 0===n.dirty)return i;if("object"!=typeof i)return n.dirty|i;{const s=[],e=Math.max(n.dirty.length,i.length);for(let t=0;t<e;t+=1)s[t]=n.dirty[t]|i[t];return s}}return n.dirty}(s,e,i,o);if(o){const i=c(s,n,e,r);t.p(i,o)}}function p(t){const s={};for(const n in t)"$"!==n[0]&&(s[n]=t[n]);return s}function d(t,s){const n={};s=new Set(s);for(const e in t)s.has(e)||"$"===e[0]||(n[e]=t[e]);return n}function g(t,s){t.appendChild(s)}function m(t,s,n){t.insertBefore(s,n||null)}function v(t){t.parentNode.removeChild(t)}function _(s,n){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(n)}function b(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function C(){return x("")}function $(t,s,n,e){return t.addEventListener(s,n,e),()=>t.removeEventListener(s,n,e)}function M(t,s,n){null==n?t.removeAttribute(s):t.getAttribute(s)!==n&&t.setAttribute(s,n)}function E(t){return Array.from(t.childNodes)}function j(n,t,e,i){for(let s=0;s<n.length;s+=1){const i=n[s];if(i.nodeName===t){let t=0;const o=[];for(;t<i.attributes.length;){const n=i.attributes[t++];e[n.name]||o.push(n.name)}for(let t=0;t<o.length;t++)i.removeAttribute(o[t]);return n.splice(s,1)[0]}}return(i?y:b)(t)}function A(s,n){for(let t=0;t<s.length;t+=1){const e=s[t];if(3===e.nodeType)return e.data=""+n,s.splice(t,1)[0]}return x(n)}function k(t){return A(t," ")}function F(t,s){t.wholeText!==(s=""+s)&&(t.data=s)}function I(t,s){t.value=null==s?"":s}function q(t,s,n,e){t.style.setProperty(s,n,e?"important":"")}let S,T;function O(t,s){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=b("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const e=function(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){S=!0}}return S}();let i;return e?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=$(window,"message",t=>{t.source===n.contentWindow&&s()})):(n.src="about:blank",n.onload=()=>{i=$(n.contentWindow,"resize",s)}),g(t,n),()=>{(e||i&&n.contentWindow)&&i(),v(n)}}function N(t,s,n){t.classList[n?"add":"remove"](s)}function R(t,s=document.body){return Array.from(s.querySelectorAll(t))}class P{constructor(t=null){this.a=t,this.e=this.n=null}m(t,s,n=null){this.e||(this.e=b(s.nodeName),this.t=s,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(s){for(let t=0;t<this.n.length;t+=1)m(this.t,this.n[t],s)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(v)}}function L(t){T=t}function U(){if(!T)throw new Error("Function called outside component initialization");return T}function V(t){U().$$.on_mount.push(t)}function z(t){U().$$.after_update.push(t)}function B(t){U().$$.on_destroy.push(t)}function D(){const i=U();return(t,s)=>{const n=i.$$.callbacks[t];if(n){const e=function(t,s){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,s),n}(t,s);n.slice().forEach(t=>{t.call(i,e)})}}}function J(t,s){U().$$.context.set(t,s)}function G(t){return U().$$.context.get(t)}function Z(t,s){const n=t.$$.callbacks[s.type];n&&n.slice().forEach(t=>t(s))}const H=[],Q=[],W=[],K=[],Y=Promise.resolve();let X=!1;function tt(){X||(X=!0,Y.then(rt))}function st(){return tt(),Y}function nt(t){W.push(t)}function et(t){K.push(t)}let it=!1;const ot=new Set;function rt(){if(!it){it=!0;do{for(let t=0;t<H.length;t+=1){var s=H[t];L(s),at(s.$$)}for(L(null),H.length=0;Q.length;)Q.pop()();for(let t=0;t<W.length;t+=1){const n=W[t];ot.has(n)||(ot.add(n),n())}}while(W.length=0,H.length);for(;K.length;)K.pop()();X=!1,it=!1,ot.clear()}}function at(t){var s;null!==t.fragment&&(t.update(),o(t.before_update),s=t.dirty,t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,s),t.after_update.forEach(nt))}const ht=new Set;let ut;function lt(){ut={r:0,c:[],p:ut}}function ct(){ut.r||o(ut.c),ut=ut.p}function ft(t,s){t&&t.i&&(ht.delete(t),t.i(s))}function pt(t,s,n,e){t&&t.o&&(ht.has(t)||(ht.add(t),ut.c.push(()=>{ht.delete(t),e&&(n&&t.d(1),e())}),t.o(s)))}const dt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function gt(t,s){pt(t,1,1,()=>{s.delete(t.key)})}function mt(s,n,e,i,o,r,a,h,t,u,l,c){let f=s.length,p=r.length,d=f;const g={};for(;d--;)g[s[d].key]=d;const m=[],_=new Map,v=new Map;for(d=p;d--;){const s=c(o,r,d),h=e(s);let t=a.get(h);t?i&&t.p(s,n):(t=u(h,s),t.c()),_.set(h,m[d]=t),h in g&&v.set(h,Math.abs(d-g[h]))}const b=new Set,y=new Set;function x(t){ft(t,1),t.m(h,l),a.set(t.key,t),l=t.first,p--}for(;f&&p;){const n=m[p-1],e=s[f-1],i=n.key,o=e.key;n===e?(l=n.first,f--,p--):_.has(o)?!a.has(i)||b.has(i)?x(n):y.has(o)?f--:v.get(i)>v.get(o)?(y.add(i),x(n)):(b.add(o),f--):(t(e,a),f--)}for(;f--;){const n=s[f];_.has(n.key)||t(n,a)}for(;p;)x(m[p-1]);return m}function vt(t,s){const n={},e={},i={$$scope:1};let o=t.length;for(;o--;){var r=t[o],a=s[o];if(a){for(const t in r)t in a||(e[t]=1);for(const t in a)i[t]||(n[t]=a[t],i[t]=1);t[o]=a}else for(const t in r)i[t]=1}for(const h in e)h in n||(n[h]=void 0);return n}function _t(t){return"object"==typeof t&&null!==t?t:{}}function bt(t,s,n){s=t.$$.props[s];void 0!==s&&(t.$$.bound[s]=n)(t.$$.ctx[s])}function yt(t){t&&t.c()}function xt(t,s){t&&t.l(s)}function wt(s,t,n,i){const{fragment:a,on_mount:h,on_destroy:u,after_update:l}=s.$$;a&&a.m(t,n),i||nt(()=>{var t=h.map(e).filter(r);u?u.push(...t):o(t),s.$$.on_mount=[]}),l.forEach(nt)}function Ct(t,s){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(s),n.on_destroy=n.fragment=null,n.ctx=[])}function $t(e,t,n,r,a,h,u=[-1]){var l=T;L(e);const c=e.$$={fragment:null,ctx:null,props:h,update:s,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:t.context||[]),callbacks:i(),dirty:u,skip_bound:!1};let f=!1;if(c.ctx=n?n(e,t.props||{},(t,s,...n)=>{n=n.length?n[0]:s;return c.ctx&&a(c.ctx[t],c.ctx[t]=n)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](n),f&&(n=t,-1===(t=e).$$.dirty[0]&&(H.push(t),tt(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31)),s}):[],c.update(),f=!0,o(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=E(t.target);c.fragment&&c.fragment.l(e),e.forEach(v)}else c.fragment&&c.fragment.c();t.intro&&ft(e.$$.fragment),wt(e,t.target,t.anchor,t.customElement),rt()}L(l)}class Mt{$destroy(){Ct(this,1),this.$destroy=s}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{var t=n.indexOf(s);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Et=[];function jt(i,o=s){let r;const h=[];function u(s){if(a(i,s)&&(i=s,r)){const s=!Et.length;for(let t=0;t<h.length;t+=1){const s=h[t];s[1](),Et.push(s,i)}if(s){for(let t=0;t<Et.length;t+=2)Et[t][0](Et[t+1]);Et.length=0}}}return{set:u,update:function(t){u(t(i))},subscribe:function(t,n=s){const e=[t,n];return h.push(e),1===h.length&&(r=o(u)||s),t(i),()=>{var t=h.indexOf(e);-1!==t&&h.splice(t,1),0===h.length&&(r(),r=null)}}}}function At(t,c,n){const f=!Array.isArray(t),p=f?[t]:t,d=c.length<2;return{subscribe:jt(n,n=>{let e=!1;const i=[];let a=0,u=s;const l=()=>{var t;a||(u(),t=c(f?i[0]:i,n),d?n(t):u=r(t)?t:s)},t=p.map((t,s)=>h(t,t=>{i[s]=t,a&=~(1<<s),e&&l()},()=>{a|=1<<s}));return e=!0,l(),function(){o(t),u()}}).subscribe}}function kt(t,s,n){return t<s?s:n<t?n:t}function Ft(t,s){var n=t[0],e=s[0],i=(s[1]-e)/(t[1]-n);return Object.assign(function(t){return e+(t-n)*i},{inverse:function(){return Ft(s,t)}})}function It(t){t=String(t).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}const qt=Math.PI,St=2*qt,Tt=St-1e-6;function Ot(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nt(){return new Ot}function Rt(t){return function(){return t}}function Pt(t){this._context=t}function Lt(t){return new Pt(t)}function Ut(t){return t[0]}function Vt(t){return t[1]}function zt(a,h){var u=Rt(!0),l=null,c=Lt,f=null;function s(t){var s,n,e,i,o=(t="object"==typeof(i=t)&&"length"in i?i:Array.from(i)).length,r=!1;for(null==l&&(f=c(e=Nt())),s=0;s<=o;++s)!(s<o&&u(n=t[s],s,t))===r&&((r=!r)?f.lineStart():f.lineEnd()),r&&f.point(+a(n,s,t),+h(n,s,t));if(e)return f=null,e+""||null}return a="function"==typeof a?a:void 0===a?Ut:Rt(a),h="function"==typeof h?h:void 0===h?Vt:Rt(h),s.x=function(t){return arguments.length?(a="function"==typeof t?t:Rt(+t),s):a},s.y=function(t){return arguments.length?(h="function"==typeof t?t:Rt(+t),s):h},s.defined=function(t){return arguments.length?(u="function"==typeof t?t:Rt(!!t),s):u},s.curve=function(t){return arguments.length?(c=t,null!=l&&(f=c(l)),s):c},s.context=function(t){return arguments.length?(null==t?l=f=null:f=c(l=t),s):l},s}function Bt(t,s){this._context=t,this._t=s}function Dt(t){return new Bt(t,.5)}Ot.prototype=Nt.prototype={constructor:Ot,moveTo:function(t,s){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+s)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,s){this._+="L"+(this._x1=+t)+","+(this._y1=+s)},quadraticCurveTo:function(t,s,n,e){this._+="Q"+ +t+","+ +s+","+(this._x1=+n)+","+(this._y1=+e)},bezierCurveTo:function(t,s,n,e,i,o){this._+="C"+ +t+","+ +s+","+ +n+","+ +e+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,s,n,e,i){var o,r,a=this._x1,h=this._y1,u=(n=+n)-(t=+t),l=(e=+e)-(s=+s),c=a-t,f=h-s,p=c*c+f*f;if((i=+i)<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=s):1e-6<p&&(1e-6<Math.abs(f*u-l*c)&&i?(r=u*u+l*l,a=(o=n-a)*o+(n=e-h)*n,e=Math.sqrt(r),h=Math.sqrt(p),h=(a=i*Math.tan((qt-Math.acos((r+p-a)/(2*e*h)))/2))/h,e=a/e,1e-6<Math.abs(h-1)&&(this._+="L"+(t+h*c)+","+(s+h*f)),this._+="A"+i+","+i+",0,0,"+ +(c*n<f*o)+","+(this._x1=t+e*u)+","+(this._y1=s+e*l)):this._+="L"+(this._x1=t)+","+(this._y1=s))},arc:function(t,s,n,e,i,o){t=+t,s=+s,o=!!o;var r=(n=+n)*Math.cos(e),a=n*Math.sin(e),h=t+r,u=s+a,l=1^o,e=o?e-i:i-e;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+u:(1e-6<Math.abs(this._x1-h)||1e-6<Math.abs(this._y1-u))&&(this._+="L"+h+","+u),n&&((e=e<0?e%St+St:e)>Tt?this._+="A"+n+","+n+",0,1,"+l+","+(t-r)+","+(s-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=h)+","+(this._y1=u):1e-6<e&&(this._+="A"+n+","+n+",0,"+ +(e>=qt)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=s+n*Math.sin(i))))},rect:function(t,s,n,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+s)+"h"+ +n+"v"+ +e+"h"+-n+"Z"},toString:function(){return this._}},Pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:this._context.lineTo(t,s)}}},Bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:var n;this._t<=0?(this._context.lineTo(this._x,s),this._context.lineTo(t,s)):(n=this._x*(1-this._t)+t*this._t,this._context.lineTo(n,this._y),this._context.lineTo(n,s))}this._x=t,this._y=s}};var Zt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ht={},Qt={exports:{}},Jt=Qt,Gt=Qt.exports;(function(t){var s=Gt&&!Gt.nodeType&&Gt,n=Jt&&!Jt.nodeType&&Jt,e="object"==typeof Zt&&Zt;e.global!==e&&e.window!==e&&e.self!==e||(t=e);var i,o,m=2147483647,_=36,r=/^xn--/,a=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,b=String.fromCharCode;function y(t){throw RangeError(u[t])}function l(t,s){for(var n=t.length,e=[];n--;)e[n]=s(t[n]);return e}function c(t,s){var n=t.split("@"),e="";return 1<n.length&&(e=n[0]+"@",t=n[1]),e+l((t=t.replace(h,".")).split("."),s).join(".")}function x(t){for(var s,n,e=[],i=0,o=t.length;i<o;)55296<=(s=t.charCodeAt(i++))&&s<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?e.push(((1023&s)<<10)+(1023&n)+65536):(e.push(s),i--):e.push(s);return e}function d(t){return l(t,function(t){var s="";return 65535<t&&(s+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+b(t)}).join("")}function w(t,s){return t+22+75*(t<26)-((0!=s)<<5)}function C(t,s,n){var e=0;for(t=n?v(t/700):t>>1,t+=v(t/s);455<t;e+=_)t=v(t/35);return v(e+36*t/(t+38))}function f(t){var s,n,e,i,o,r,a,h,u=[],l=t.length,c=0,f=128,p=72;for((n=t.lastIndexOf("-"))<0&&(n=0),e=0;e<n;++e)128<=t.charCodeAt(e)&&y("not-basic"),u.push(t.charCodeAt(e));for(i=0<n?n+1:0;i<l;){for(o=c,r=1,a=_;l<=i&&y("invalid-input"),((h=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:_)>=_||h>v((m-c)/r))&&y("overflow"),c+=h*r,!(h<(h=a<=p?1:p+26<=a?26:a-p));a+=_)r>v(m/(h=_-h))&&y("overflow"),r*=h;p=C(c-o,s=u.length+1,0==o),v(c/s)>m-f&&y("overflow"),f+=v(c/s),c%=s,u.splice(c++,0,f)}return d(u)}function p(t){for(var s,n,e,i,o,r,a,h,u,l=[],c=(t=x(t)).length,f=128,p=0,d=72,g=0;g<c;++g)(r=t[g])<128&&l.push(b(r));for(s=n=l.length,n&&l.push("-");s<c;){for(e=m,g=0;g<c;++g)(r=t[g])>=f&&r<e&&(e=r);for(e-f>v((m-p)/(a=s+1))&&y("overflow"),p+=(e-f)*a,f=e,g=0;g<c;++g)if((r=t[g])<f&&++p>m&&y("overflow"),r==f){for(i=p,o=_;!(i<(h=o<=d?1:d+26<=o?26:o-d));o+=_)l.push(b(w(h+(u=i-h)%(h=_-h),0))),i=v(u/h);l.push(b(w(i,0))),d=C(p,a,s==n),p=0,++s}++p,++f}return l.join("")}if(i={version:"1.3.2",ucs2:{decode:x,encode:d},decode:f,encode:p,toASCII:function(t){return c(t,function(t){return a.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return c(t,function(t){return r.test(t)?f(t.slice(4).toLowerCase()):t})}},s&&n)if(Jt.exports==s)n.exports=i;else for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);else t.punycode=i})(Zt);var Wt={};function Kt(t,s){return Object.prototype.hasOwnProperty.call(t,s)}var Yt=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};Wt.decode=Wt.parse=function(t,s,n,e){n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(s=s||"&");s=1e3;e&&"number"==typeof e.maxKeys&&(s=e.maxKeys);var r=t.length;0<s&&s<r&&(r=s);for(var a=0;a<r;++a){var h,u=t[a].replace(o,"%20"),l=u.indexOf(n),l=0<=l?(h=u.substr(0,l),u.substr(l+1)):(h=u,""),u=decodeURIComponent(h),l=decodeURIComponent(l);Kt(i,u)?Array.isArray(i[u])?i[u].push(l):i[u]=[i[u],l]:i[u]=l}return i},Wt.encode=Wt.stringify=function(n,e,i,t){return e=e||"&",i=i||"=","object"==typeof(n=null===n?void 0:n)?Object.keys(n).map(function(t){var s=encodeURIComponent(Yt(t))+i;return Array.isArray(n[t])?n[t].map(function(t){return s+encodeURIComponent(Yt(t))}).join(e):s+encodeURIComponent(Yt(n[t]))}).join(e):t?encodeURIComponent(Yt(t))+i+encodeURIComponent(Yt(n)):""};var Xt=Qt.exports;function ts(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Ht.parse=ps,Ht.resolve=function(t,s){return ps(t,!1,!0).resolve(s)},Ht.resolveObject=function(t,s){return t?ps(t,!1,!0).resolveObject(s):s},Ht.format=function(t){return(t=ds(t)?ps(t):t)instanceof ts?t.format():ts.prototype.format.call(t)},Ht.Url=ts;var ss=/^([a-z0-9.+-]+:)/i,ns=/:[0-9]*$/,es=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),is=["'"].concat(es),os=["%","/","?",";","#"].concat(is),rs=["/","?","#"],as=/^[a-z0-9A-Z_-]{0,63}$/,hs=/^([a-z0-9A-Z_-]{0,63})(.*)$/,us={javascript:!0,"javascript:":!0},ls={javascript:!0,"javascript:":!0},cs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},fs=Wt;function ps(t,s,n){if(t&&gs(t)&&t instanceof ts)return t;var e=new ts;return e.parse(t,s,n),e}function ds(t){return"string"==typeof t}function gs(t){return"object"==typeof t&&null!==t}function ms(t){return null===t}ts.prototype.parse=function(t,s,n){if(!ds(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var e,i,o=(o=t).trim(),t=ss.exec(o);if(t&&(e=(t=t[0]).toLowerCase(),this.protocol=e,o=o.substr(t.length)),(n||t||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(i="//"===o.substr(0,2))||t&&ls[t]||(o=o.substr(2),this.slashes=!0)),!ls[t]&&(i||t&&!cs[t])){for(var r,a=-1,h=0;h<rs.length;h++)-1!==(r=o.indexOf(rs[h]))&&(-1===a||r<a)&&(a=r);for(-1!==(w=-1===a?o.lastIndexOf("@"):o.lastIndexOf("@",a))&&(C=o.slice(0,w),o=o.slice(w+1),this.auth=decodeURIComponent(C)),a=-1,h=0;h<os.length;h++)-1!==(r=o.indexOf(os[h]))&&(-1===a||r<a)&&(a=r);-1===a&&(a=o.length),this.host=o.slice(0,a),o=o.slice(a),this.parseHost(),this.hostname=this.hostname||"";var u="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!u)for(var l=this.hostname.split(/\./),c=(h=0,l.length);h<c;h++){var f=l[h];if(f&&!f.match(as)){for(var p="",d=0,g=f.length;d<g;d++)127<f.charCodeAt(d)?p+="x":p+=f[d];if(!p.match(as)){var m=l.slice(0,h),_=l.slice(h+1),v=f.match(hs);v&&(m.push(v[1]),_.unshift(v[2])),_.length&&(o="/"+_.join(".")+o),this.hostname=m.join(".");break}}}if(255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),!u){for(var b=this.hostname.split("."),y=[],h=0;h<b.length;++h){var x=b[h];y.push(x.match(/[^A-Za-z0-9_-]/)?"xn--"+Xt.encode(x):x)}this.hostname=y.join(".")}var w=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+w,this.href+=this.host,u&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!us[e])for(h=0,c=is.length;h<c;h++){var $=is[h],M=encodeURIComponent($);M===$&&(M=escape($)),o=o.split($).join(M)}u=o.indexOf("#");-1!==u&&(this.hash=o.substr(u),o=o.slice(0,u));u=o.indexOf("?");return-1!==u?(this.search=o.substr(u),this.query=o.substr(u+1),s&&(this.query=fs.parse(this.query)),o=o.slice(0,u)):s&&(this.search="",this.query={}),o&&(this.pathname=o),cs[e]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(w=this.pathname||"",x=this.search||"",this.path=w+x),this.href=this.format(),this},ts.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var s=this.protocol||"",n=this.pathname||"",e=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&gs(this.query)&&Object.keys(this.query).length&&(o=fs.stringify(this.query));o=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||cs[s])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i=i||"",e&&"#"!==e.charAt(0)&&(e="#"+e),o&&"?"!==o.charAt(0)&&(o="?"+o),s+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+e},ts.prototype.resolve=function(t){return this.resolveObject(ps(t,!1,!0)).format()},ts.prototype.resolveObject=function(s){ds(s)&&((i=new ts).parse(s,!1,!0),s=i);var n=new ts;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=s.hash,""===s.href)return n.href=n.format(),n;if(s.slashes&&!s.protocol)return Object.keys(s).forEach(function(t){"protocol"!==t&&(n[t]=s[t])}),cs[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(s.protocol&&s.protocol!==n.protocol){if(!cs[s.protocol])return Object.keys(s).forEach(function(t){n[t]=s[t]}),n.href=n.format(),n;if(n.protocol=s.protocol,s.host||ls[s.protocol])n.pathname=s.pathname;else{for(var t=(s.pathname||"").split("/");t.length&&!(s.host=t.shift()););s.host||(s.host=""),s.hostname||(s.hostname=""),""!==t[0]&&t.unshift(""),t.length<2&&t.unshift(""),n.pathname=t.join("/")}return n.search=s.search,n.query=s.query,n.host=s.host||"",n.auth=s.auth,n.hostname=s.hostname||s.host,n.port=s.port,(n.pathname||n.search)&&(o=n.pathname||"",r=n.search||"",n.path=o+r),n.slashes=n.slashes||s.slashes,n.href=n.format(),n}var e=n.pathname&&"/"===n.pathname.charAt(0),i=s.host||s.pathname&&"/"===s.pathname.charAt(0),o=i||e||n.host&&s.pathname,r=o,a=n.pathname&&n.pathname.split("/")||[],e=(t=s.pathname&&s.pathname.split("/")||[],n.protocol&&!cs[n.protocol]);if(e&&(n.hostname="",n.port=null,n.host&&(""===a[0]?a[0]=n.host:a.unshift(n.host)),n.host="",s.protocol&&(s.hostname=null,s.port=null,s.host&&(""===t[0]?t[0]=s.host:t.unshift(s.host)),s.host=null),o=o&&(""===t[0]||""===a[0])),i)n.host=(s.host||""===s.host?s:n).host,n.hostname=(s.hostname||""===s.hostname?s:n).hostname,n.search=s.search,n.query=s.query,a=t;else if(t.length)(a=a||[]).pop(),a=a.concat(t),n.search=s.search,n.query=s.query;else if(null!=s.search)return e&&(n.hostname=n.host=a.shift(),(c=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=c.shift(),n.host=n.hostname=c.shift())),n.search=s.search,n.query=s.query,ms(n.pathname)&&ms(n.search)||(n.path=(n.pathname||"")+(n.search||"")),n.href=n.format(),n;if(!a.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var h=a.slice(-1)[0],i=(n.host||s.host)&&("."===h||".."===h)||""===h,u=0,l=a.length;0<=l;l--)"."==(h=a[l])?a.splice(l,1):".."===h?(a.splice(l,1),u++):u&&(a.splice(l,1),u--);if(!o&&!r)for(;u--;)a.unshift("..");!o||""===a[0]||a[0]&&"/"===a[0].charAt(0)||a.unshift(""),i&&"/"!==a.join("/").substr(-1)&&a.push("");var c,i=""===a[0]||a[0]&&"/"===a[0].charAt(0);return e&&(n.hostname=n.host=!i&&a.length?a.shift():"",(c=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=c.shift(),n.host=n.hostname=c.shift())),(o=o||n.host&&a.length)&&!i&&a.unshift(""),a.length?n.pathname=a.join("/"):(n.pathname=null,n.path=null),ms(n.pathname)&&ms(n.search)||(n.path=(n.pathname||"")+(n.search||"")),n.auth=s.auth||n.auth,n.slashes=n.slashes||s.slashes,n.href=n.format(),n},ts.prototype.parseHost=function(){var t=this.host,s=ns.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};var vs,_s={exports:{}},bs=_s.exports=(vs=function(t){return"number"==typeof t&&parseFloat(t)==parseInt(t,10)&&!isNaN(t)},Array.prototype.indexOf||(Array.prototype.indexOf=function(t,s){if(null==this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(s=+s||0,(s=Math.abs(s)===1/0?0:s)<0&&(s+=n)<0&&(s=0);s<n;s++)if(this[s]===t)return s;return-1}),function(s){this.objectID="",this.legendSeparator=this.separator=" - ",this.method="",this.precision=0,this.precisionflag="auto",this.roundlength=2,this.silent=this.debug=this.is_uniqueValues=!1,this.bounds=[],this.ranges=[],this.inner_ranges=null,this.colors=[],this.counter=[],this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null,this.log=function(t,s){1!=this.debug&&null==s||console.log(this.objectID+"(object id) :: "+t)},this.setBounds=function(t){this.log("Setting bounds ("+t.length+") : "+t.join()),this.bounds=t},this.setSerie=function(t){this.log("Setting serie ("+t.length+") : "+t.join()),this.serie=t,this.resetStatistics(),this.setPrecision()},this.setColors=function(t){this.log("Setting color ramp ("+t.length+") : "+t.join()),this.colors=t},this.doCount=function(){if(!this._nodata()){var t=this.sorted();if(this.counter=[],1==this.is_uniqueValues)for(var s=0;s<this.bounds.length;s++)this.counter[s]=0;else for(s=0;s<this.bounds.length-1;s++)this.counter[s]=0;for(s=0;s<t.length;s++){var n=this.getClass(t[s]);this.counter[n]++}}},this.setPrecision=function(t){if(void 0!==t&&(this.precisionflag="manual",this.precision=t),"auto"==this.precisionflag)for(t=0;t<this.serie.length;t++){var s=isNaN(this.serie[t]+"")||-1==(this.serie[t]+"").toString().indexOf(".")?0:(this.serie[t]+"").split(".")[1].length;s>this.precision&&(this.precision=s)}20<this.precision&&(this.log("this.precision value ("+this.precision+') is greater than max value. Automatic set-up to 20 to prevent "Uncaught RangeError: toFixed()" when calling decimalFormat() method.'),this.precision=20),this.log("Calling setPrecision(). Mode : "+this.precisionflag+" - Decimals : "+this.precision),this.serie=this.decimalFormat(this.serie)},this.decimalFormat=function(t){for(var s=[],n=0;n<t.length;n++){var e=t[n],e=!isNaN(parseFloat(e))&&isFinite(e);s[n]=e?parseFloat(parseFloat(t[n]).toFixed(this.precision)):t[n]}return s},this.setRanges=function(){this.ranges=[];for(var t=0;t<this.bounds.length-1;t++)this.ranges[t]=this.bounds[t]+this.separator+this.bounds[t+1]},this.min=function(){if(!this._nodata()){this.stat_min=this.serie[0];for(var t=0;t<this.pop();t++)this.serie[t]<this.stat_min&&(this.stat_min=this.serie[t]);return this.stat_min}},this.max=function(){if(!this._nodata()){this.stat_max=this.serie[0];for(var t=0;t<this.pop();t++)this.serie[t]>this.stat_max&&(this.stat_max=this.serie[t]);return this.stat_max}},this.sum=function(){if(!this._nodata()){if(null==this.stat_sum)for(var t=this.stat_sum=0;t<this.pop();t++)this.stat_sum+=parseFloat(this.serie[t]);return this.stat_sum}},this.pop=function(){if(!this._nodata())return null==this.stat_pop&&(this.stat_pop=this.serie.length),this.stat_pop},this.mean=function(){if(!this._nodata())return null==this.stat_mean&&(this.stat_mean=parseFloat(this.sum()/this.pop())),this.stat_mean},this.median=function(){var t;if(!this._nodata())return null==this.stat_median&&(this.stat_median=0,t=this.sorted(),this.stat_median=t.length%2?parseFloat(t[Math.ceil(t.length/2)-1]):(parseFloat(t[t.length/2-1])+parseFloat(t[t.length/2]))/2),this.stat_median},this.variance=function(){if(!this._nodata()){if(null==this.stat_variance){for(var t=0,s=this.mean(),n=0;n<this.pop();n++)t+=Math.pow(this.serie[n]-s,2);this.stat_variance=t/this.pop(),this.stat_variance=Math.round(this.stat_variance*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength)}return this.stat_variance}},this.stddev=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_stddev&&(this.stat_stddev=Math.sqrt(this.variance()),1==t&&(this.stat_stddev=Math.round(this.stat_stddev*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_stddev},this.cov=function(t){if(t=void 0===t,!this._nodata())return null==this.stat_cov&&(this.stat_cov=this.stddev()/this.mean(),1==t&&(this.stat_cov=Math.round(this.stat_cov*Math.pow(10,this.roundlength))/Math.pow(10,this.roundlength))),this.stat_cov},this.resetStatistics=function(){this.stat_cov=this.stat_stddev=this.stat_variance=this.stat_pop=this.stat_min=this.stat_max=this.stat_sum=this.stat_median=this.stat_mean=this.stat_sorted=null},this._nodata=function(){if(0!=this.serie.length)return 0;if(!this.silent)throw new TypeError("Error. You should first enter a serie!");return this.log("[silent mode] Error. You should first enter a serie!",!0),1},this._nbClassInt=function(t){if(t=parseInt(t,10),!isNaN(t))return t;if(!this.silent)throw new TypeError("'"+t+"' is not a valid integer. Enable to set class number.");this.log("[silent mode] '"+t+"' is not a valid integer. Enable to set class number.",!0)},this._hasNegativeValue=function(){for(var t=0;t<this.serie.length;t++)if(this.serie[t]<0)return!0;return!1},this._hasZeroValue=function(){for(var t=0;t<this.serie.length;t++)if(0===parseFloat(this.serie[t]))return!0;return!1},this.sorted=function(){return null==this.stat_sorted&&(this.stat_sorted=0==this.is_uniqueValues?this.serie.sort(function(t,s){return t-s}):this.serie.sort(function(t,s){t=t.toString().toLowerCase(),s=s.toString().toLowerCase();return t<s?-1:s<t?1:0})),this.stat_sorted},this.info=function(){if(!this._nodata()){var t="Population : "+this.pop()+" - [Min : "+this.min()+" | Max : "+this.max()+"]\n";return(t+="Mean : "+this.mean()+" - Median : "+this.median()+"\n")+"Variance : "+this.variance()+" - Standard deviation : "+this.stddev()+" - Coefficient of variation : "+this.cov()+"\n"}},this.setClassManually=function(s){if(!this._nodata()){if(s[0]===this.min()&&s[s.length-1]===this.max())return this.setBounds(s),this.setRanges(),this.method="manual classification ("+(s.length-1)+" classes)",this.bounds;if(!this.silent)throw new TypeError("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max());this.log("[silent mode] "+t("Given bounds may not be correct! please check your input.\nMin value : "+this.min()+" / Max value : "+this.max()),!0)}},this.getClassEqInterval=function(t,s,n){if(t=this._nbClassInt(t),!this._nodata()){var e=void 0===s?this.min():s;s=[];for(var i=e,e=((n=void 0===n?this.max():n)-e)/t,o=0;o<=t;o++)s[o]=i,i+=e;return s[t]=n,this.setBounds(s),this.setRanges(),this.method="eq. intervals ("+t+" classes)",this.bounds}},this.getQuantiles=function(t){t=this._nbClassInt(t);for(var s=this.sorted(),n=[],e=this.pop()/t,i=1;i<t;i++)n.push(s[Math.round(i*e+.49)-1]);return n},this.getClassQuantile=function(t){if(t=this._nbClassInt(t),!this._nodata()){var s=this.sorted(),n=this.getQuantiles(t);return n.unshift(s[0]),n[s.length-1]!==s[s.length-1]&&n.push(s[s.length-1]),this.setBounds(n),this.setRanges(),this.method="quantile ("+t+" classes)",this.bounds}},this.getClassStdDeviation=function(t,s){if(t=this._nbClassInt(t),!this._nodata()){var n=this.max(),e=this.min(),i=this.stddev(),o=this.mean(),r=[];if(t%2==1){var a=Math.floor(t/2),h=a+1;for(r[a]=o-i/2,r[h]=o+i/2,o=a-1;0<o;o--)a=r[o+1]-i,r[o]=a;o=h+1}else{for(r[h=t/2]=o,o=h-1;0<o;o--)a=r[o+1]-i,r[o]=a;o=h+1}for(;o<t;o++)a=r[o-1]+i,r[o]=a;return r[0]=void 0===s?r[1]-i:e,r[t]=void 0===s?r[t-1]+i:n,this.setBounds(r),this.setRanges(),this.method="std deviation ("+t+" classes)",this.bounds}},this.getClassGeometricProgression=function(t){if(t=this._nbClassInt(t),!this._nodata()){if(!this._hasNegativeValue()&&!this._hasZeroValue()){for(var s=[],n=this.min(),e=this.max(),n=Math.log(n)/Math.LN10,e=(Math.log(e)/Math.LN10-n)/t,i=0;i<t;i++)s[i]=0==i?n:s[i-1]+e;return(s=s.map(function(t){return Math.pow(10,t)})).push(this.max()),this.setBounds(s),this.setRanges(),this.method="geometric progression ("+t+" classes)",this.bounds}if(!this.silent)throw new TypeError("geometric progression can't be applied with a serie containing negative or zero values.");this.log("[silent mode] geometric progression can't be applied with a serie containing negative or zero values.",!0)}},this.getClassArithmeticProgression=function(t){if(t=this._nbClassInt(t),!this._nodata()){for(var s=0,n=1;n<=t;n++)s+=n;for(var e=[],i=this.min(),s=(this.max()-i)/s,n=0;n<=t;n++)e[n]=0==n?i:e[n-1]+n*s;return this.setBounds(e),this.setRanges(),this.method="arithmetic progression ("+t+" classes)",this.bounds}},this.getClassJenks2=function(t){if(t=this._nbClassInt(t),!this._nodata()){for(var s=this.sorted(),n=[],e=0,i=s.length+1;e<i;e++){for(var o=[],r=0,a=t+1;r<a;r++)o.push(0);n.push(o)}for(e=[],i=0,o=s.length+1;i<o;i++){for(var r=[],a=0,h=t+1;a<h;a++)r.push(0);e.push(r)}for(o=t+(i=1);i<o;i++){n[0][i]=1,e[0][i]=0;var u=1;for(r=s.length+1;u<r;u++)e[u][i]=1/0;u=0}for(i=2,o=s.length+1;i<o;i++){for(var h=a=r=0,l=1,c=i+1;l<c;l++){var f=i-l+1,u=(a+=(u=parseFloat(s[f-1]))*u)-(r+=u)*r/(h+=1),p=f-1;if(0!=p)for(var d=2,g=t+1;d<g;d++)e[i][d]>=u+e[p][d-1]&&(n[i][d]=f,e[i][d]=u+e[p][d-1])}n[i][1]=1,e[i][1]=u}for(u=s.length,e=[],i=0;i<=t;i++)e.push(0);for(e[t]=parseFloat(s[s.length-1]),e[0]=parseFloat(s[0]),i=t;2<=i;)o=parseInt(n[u][i]-2),e[i-1]=s[o],u=parseInt(n[u][i]-1),--i;return e[0]==e[1]&&(e[0]=0),this.setBounds(e),this.setRanges(),this.method="Jenks2 ("+t+" classes)",this.bounds}},this.getClassJenks=function(t){if(t=this._nbClassInt(t),!this._nodata()){var s=this.sorted();jenksMatrices=function(t,s){for(var n=[],e=[],i=0,o=0;o<t.length+1;o++){for(var r=[],a=[],h=0;h<s+1;h++)r.push(0),a.push(0);n.push(r),e.push(a)}for(o=1;o<s+1;o++)for(e[n[1][o]=1][o]=0,h=2;h<t.length+1;h++)e[h][o]=1/0;for(o=2;o<t.length+1;o++){for(var u,l=a=r=0,c=1;c<o+1;c++){var f=o-c+1,i=(a+=(h=t[f-1])*h)-(r+=h)*r/++l;if(0!=(u=f-1))for(h=2;h<s+1;h++)e[o][h]>=i+e[u][h-1]&&(n[o][h]=f,e[o][h]=i+e[u][h-1])}n[o][1]=1,e[o][1]=i}return{lower_class_limits:n,variance_combinations:e}};var n=jenksMatrices(s,t).lower_class_limits,e=s.length-1,i=[],o=t;for(i[t]=s[s.length-1],i[0]=s[0];1<o;)i[o-1]=s[n[e][o]-2],e=n[e][o]-1,o--;return this.setBounds(i),this.setRanges(),this.method="Jenks ("+t+" classes)",this.bounds}},this.getClassUniqueValues=function(){if(!this._nodata()){this.is_uniqueValues=!0;for(var t=this.sorted(),s=[],n=0;n<this.pop();n++)-1===s.indexOf(t[n])&&s.push(t[n]);return this.bounds=s,this.method="unique values",s}},this.getClass=function(t){for(var s=0;s<this.bounds.length;s++)if(1==this.is_uniqueValues){if(t==this.bounds[s])return s}else if(parseFloat(t)<=this.bounds[s+1])return s;return"Unable to get value's class."},this.getRanges=function(){return this.ranges},this.getRangeNum=function(t){for(var s=0;s<this.ranges.length;s++){var n=this.ranges[s].split(/ - /);if(t<=parseFloat(n[1]))return s}},this.getInnerRanges=function(){if(null!=this.inner_ranges)return this.inner_ranges;for(var t,s=[],n=this.sorted(),e=1,i=0;i<n.length;i++)if(0==i&&(t=n[i]),parseFloat(n[i])>parseFloat(this.bounds[e])&&(s[e-1]=""+t+this.separator+n[i-1],t=n[i],e++),e==this.bounds.length-1)return s[e-1]=""+t+this.separator+n[n.length-1],this.inner_ranges=s},this.getSortedlist=function(){return this.sorted().join(", ")},this.getHtmlLegend=function(t,s,n,e,i,o){var r="",a=[];if(this.doCount(),ccolors=null!=t?t:this.colors,lg=null!=s?s:"Legend",getcounter=null!=n,fn=null!=e?e:function(t){return t},"discontinuous"!=(i=null==i?"default":i)||(this.getInnerRanges(),-1===this.counter.indexOf(0))){if("DESC"!==o&&(o="ASC"),!(ccolors.length<this.ranges.length)){if(0==this.is_uniqueValues)for(t=0;t<this.ranges.length;t++)!0===getcounter&&(r=' <span class="geostats-legend-counter">('+this.counter[t]+")</span>"),n=this.ranges[t].split(this.separator),s=parseFloat(n[0]).toFixed(this.precision),n=parseFloat(n[1]).toFixed(this.precision),"distinct"==i&&0!=t&&(vs(s)?(s=parseInt(s)+1,"manual"==this.precisionflag&&0!=this.precision&&(s=parseFloat(s).toFixed(this.precision))):(s=parseFloat(s)+1/Math.pow(10,this.precision),s=parseFloat(s).toFixed(this.precision))),"discontinuous"==i&&(n=this.inner_ranges[t].split(this.separator),s=parseFloat(n[0]).toFixed(this.precision),n=parseFloat(n[1]).toFixed(this.precision)),s=fn(s)+this.legendSeparator+fn(n),s='<div><div class="geostats-legend-block" style="background-color:'+ccolors[t]+'"></div> '+s+r+"</div>",a.push(s);else for(t=0;t<this.bounds.length;t++)!0===getcounter&&(r=' <span class="geostats-legend-counter">('+this.counter[t]+")</span>"),s=fn(this.bounds[t]),s='<div><div class="geostats-legend-block" style="background-color:'+ccolors[t]+'"></div> '+s+r+"</div>",a.push(s);for("DESC"===o&&a.reverse(),i='<div class="geostats-legend"><div class="geostats-legend-title">'+lg+"</div>",t=0;t<a.length;t++)i+=a[t];return i+"</div>"}if(!this.silent)throw new TypeError("The number of colors should fit the number of ranges. Exit!");this.log("[silent mode] The number of colors should fit the number of ranges. Exit!",!0)}else{if(!this.silent)throw new TypeError("Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!");this.log("[silent mode] Geostats cannot apply 'discontinuous' mode to the getHtmlLegend() method because some classes are not populated.\nPlease switch to 'default' or 'distinct' modes. Exit!",!0)}},this.objectID=(new Date).getUTCMilliseconds(),this.log("Creating new geostats object"),void 0!==s&&0<s.length?(this.serie=s,this.setPrecision(),this.log("Setting serie ("+s.length+") : "+s.join())):this.serie=[],this.getJenks=this.getClassJenks,this.getJenks2=this.getClassJenks2,this.getGeometricProgression=this.getClassGeometricProgression,this.getEqInterval=this.getClassEqInterval,this.getQuantile=this.getClassQuantile,this.getStdDeviation=this.getClassStdDeviation,this.getUniqueValues=this.getClassUniqueValues,this.getArithmeticProgression=this.getClassArithmeticProgression});function ys(t,s){return t<s?-1:s<t?1:s<=t?0:NaN}function xs(n){let i=n,o=n;function r(t,s,n,e){for(null==n&&(n=0),null==e&&(e=t.length);n<e;){var i=n+e>>>1;o(t[i],s)<0?n=1+i:e=i}return n}return 1===n.length&&(i=(t,s)=>n(t)-s,o=(e=n,(t,s)=>ys(e(t),s))),{left:r,center:function(t,s,n,e){e=r(t,s,n=null==n?0:n,(e=null==e?t.length:e)-1);return n<e&&i(t[e-1],s)>-i(t[e],s)?e-1:e},right:function(t,s,n,e){for(null==n&&(n=0),null==e&&(e=t.length);n<e;){var i=n+e>>>1;0<o(t[i],s)?e=i:n=1+i}return n}};var e}const ws=xs(ys).right;function Cs(t,s){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(s).domain(t)}return this}function $s(){var s,n=[.5],e=[0,1],i=1;function o(t){return null!=t&&t<=t?e[ws(n,t,0,i)]:s}return o.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,e.length-1),o):n.slice()},o.range=function(t){return arguments.length?(e=Array.from(t),i=Math.min(n.length,e.length-1),o):e.slice()},o.invertExtent=function(t){t=e.indexOf(t);return[n[t-1],n[t]]},o.unknown=function(t){return arguments.length?(s=t,o):s},o.copy=function(){return $s().domain(n).range(e).unknown(s)},Cs.apply(o,arguments)}xs(function(t){return null===t?NaN:+t}).center;export{At as $,n as A,lt as B,jt as C,q as D,g as E,s as F,Ft as G,Q as H,u as I,l as J,f as K,G as L,N as M,_ as N,B as O,$ as P,I as Q,o as R,Mt as S,D as T,dt as U,P as V,Z as W,bt as X,et as Y,nt as Z,O as _,E as a,y as a0,zt as a1,Lt as a2,Dt as a3,It as a4,Wt as a5,Ht as a6,mt as a7,gt as a8,d as a9,p as aa,bs as ab,R as ac,$s as ad,st as ae,kt as af,M as b,j as c,v as d,b as e,m as f,A as g,F as h,$t as i,yt as j,w as k,C as l,xt as m,k as n,wt as o,vt as p,_t as q,pt as r,a as s,x as t,ct as u,ft as v,Ct as w,J as x,z as y,V as z};

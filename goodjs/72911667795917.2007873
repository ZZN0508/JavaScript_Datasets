!function(t,e){var u,f,a=(u=(e=e).createElement("div").classList?function(t,e){return t&&t.classList&&t.classList.contains(e)}:function(t,e){return!(!t||"string"!=typeof t.className)&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},f="ontouchend"in e,i.prototype.on=function(t,e,n){var a,i="string"==typeof e?(a=e.replace(/^\./,""),n):(a=null,e);if("function"==typeof i&&t&&t.length)for(var s=t.split(/\s+/),o=0,r=s.length;o<r;o++){var l=s[o];this._events[l]||(this._events[l]=[]),this._events[l].push({className:a,fn:i})}return this},function(t){return new i(t)});function m(t,e){if(this._events=this._events||{},this._events[t])for(var n=this._events[t],a=e.target;;){if(0==n.length)return;if(a==this.dom||!a){for(var i=0,s=n.length;i<s;i++){var o=n[i].className,r=n[i].fn;null==o&&c(t,r,a,e)}return}for(var l=n,n=[],i=0,s=l.length;i<s;i++){o=l[i].className,r=l[i].fn;if(u(a,o)){if(0==c(t,r,a,e))return}else n.push(l[i])}a=a.parentNode}}function c(t,e,n,a){var i=a.plugTouches||a.touches,i=i.length?i[0]:{},i={type:t,target:a.target,pageX:i.pageX,pageY:i.pageY,clientX:i.clientX||0,clientY:i.clientY||0};t.match(/^swipe/)&&a.plugStartPosition&&(i.startX=a.plugStartPosition.pageX,i.startY=a.plugStartPosition.pageY,i.moveX=i.pageX-i.startX,i.moveY=i.pageY-i.startY);i=e.call(n,i);return 0==i&&(a.preventDefault(),a.stopPropagation()),i}function n(t){var s,o,r,l,e,n,u=this,a=0,c=!1,p=null;function h(t){c=!1,clearTimeout(n),clearTimeout(e)}function v(){h(),m.call(u,"singleTap",p)}function i(t){s=(p=t).touches[0].pageX,o=t.touches[0].pageY,c=!(l=r=0),new Date,m.call(u,"swipeStart",t),clearTimeout(n),n=setTimeout(function(){h(),m.call(u,"longTap",t)},500)}function d(t){t.plugStartPosition=p.plugStartPosition,t.plugTouches=p.touches,m.call(u,"swipeEnd",t),c&&(t=new Date,u._events.doubleTap&&0!=u._events.doubleTap.length?200<t-a?e=setTimeout(v,190):(clearTimeout(e),h(),m.call(u,"doubleTap",p)):v(),a=t)}function g(t){var e,n,a,i;(p=t).plugStartPosition={pageX:s,pageY:o},m.call(u,"swipe",t),c&&(r=t.touches[0].pageX,l=t.touches[0].pageY,2<Math.abs(s-r)||2<Math.abs(o-l)?(e=s,n=r,a=o,i=l,i=Math.abs(e-n)>=Math.abs(a-i)?0<e-n?"Left":"Right":0<a-i?"Up":"Down",m.call(u,"swipe"+i,t)):v(),h())}f?(t.addEventListener("touchstart",i),t.addEventListener("touchend",d),t.addEventListener("touchmove",g),t.addEventListener("touchcancel",h)):(t.addEventListener("MSPointerDown",i),t.addEventListener("pointerdown",i),t.addEventListener("MSPointerUp",d),t.addEventListener("pointerup",d),t.addEventListener("MSPointerMove",g),t.addEventListener("pointermove",g),t.addEventListener("MSPointerCancel",h),t.addEventListener("pointercancel",h))}function i(t,e){this.dom=t,this._events={},n.call(this,this.dom)}t.util=t.util||{},t.util.toucher=t.util.toucher||a,t.define&&define(function(t,e,n){return a})}(this,document);

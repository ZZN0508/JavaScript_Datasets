YUI.add("querystring-stringify",function(e,t){var f=e.namespace("QueryString"),p=[],h=e.Lang;f.escape=encodeURIComponent,f.stringify=function(e,t,r){var i,o,n,s,a,c,u=t&&t.sep?t.sep:"&",l=t&&t.eq?t.eq:"=",d=!(!t||!t.arrayKey)&&t.arrayKey;if(h.isNull(e)||h.isUndefined(e)||h.isFunction(e))return r?f.escape(r)+l:"";if(!h.isBoolean(e)&&"[object Boolean]"!==Object.prototype.toString.call(e)||(e=+e),h.isNumber(e)||h.isString(e))return f.escape(r)+l+f.escape(e);if(h.isArray(e)){for(c=[],r=d?r+"[]":r,s=e.length,n=0;n<s;n++)c.push(f.stringify(e[n],t,r));return c.join(u)}for(n=p.length-1;0<=n;--n)if(p[n]===e)throw new Error("QueryString.stringify. Cyclical reference");for(n in p.push(e),c=[],i=r?r+"[":"",o=r?"]":"",e)e.hasOwnProperty(n)&&(a=i+n+o,c.push(f.stringify(e[n],t,a)));return p.pop(),!(c=c.join(u))&&r?r+"=":c}},"3.16.0",{requires:["yui-base"]}),YUI.add("better-cache",function(e){function i(e,t){return e.score<t.score?-1:e.score>t.score?1:0}function o(){var e,t,r;for(n.sort(i),a={},n.length>c&&(r=n.shift()).callback&&r.callback(),e=n.length,t=0;t<e;t++)a[n[t].key]=t}var n=[],s=0,a={},c=e.config.flickr.better_cache_size||100;e.betterCache={reset:function(){n=[],s=0,a={}},_cache:n,getSize:function(){return n.length},unset:function(e){e=a[e];void 0!==e&&(n.splice(e,1),o())},set:function(e,t,r){var i;!1!==t?((i=!!a[e]&&n[a[e]])?(n[a[e]].value=t,n[a[e]].score=s++,"function"==typeof r&&(i.callback=r)):(i={key:e,value:t,score:s++},"function"==typeof r&&(i.callback=r),n.push(i)),o()):this.unset(e)},get:function(e){return"number"==typeof a[e]?(n[a[e]].score=++s,n[a[e]].value):null}}},"@VERSION@"),YUI.add("datatype-xml-parse",function(i,e){i.mix(i.namespace("XML"),{parse:function(e){var t,r=null;return"string"==typeof e&&(void 0!==(t=i.config.win).ActiveXObject?((r=new ActiveXObject("Microsoft.XMLDOM")).async=!1,r.loadXML(e)):void 0!==t.DOMParser?r=(new DOMParser).parseFromString(e,"text/xml"):void 0!==t.Windows&&(r=new Windows.Data.Xml.Dom.XmlDocument).loadXml(e)),null===r||null===r.documentElement||r.documentElement.nodeName,r}}),i.namespace("Parsers").xml=i.XML.parse,i.namespace("DataType"),i.DataType.XML=i.XML},"3.16.0"),YUI.add("io-xdr",function(o,e){function s(e,t,r){return"flash"===t&&(e.c.responseText=decodeURI(e.c.responseText)),"xml"===r&&(e.c.responseXML=o.DataType.XML.parse(e.c.responseText)),e}var r=o.publish("io:xdrReady",{fireOnce:!0}),a={},c={},i=o.config.doc,n=o.config.win,u=n&&n.XDomainRequest;o.mix(o.IO.prototype,{_transport:{},_ieEvt:function(e,t){var r=this,i=e.id,o="timeout";e.c.onprogress=function(){c[i]=3},e.c.onload=function(){c[i]=4,r.xdrResponse("success",e,t)},e.c.onerror=function(){c[i]=4,r.xdrResponse("failure",e,t)},e.c.ontimeout=function(){c[i]=4,r.xdrResponse(o,e,t)},e.c[o]=t[o]||0},xdr:function(e,t,r){var i=this;return"flash"===r.xdr.use?(a[t.id]=r,n.setTimeout(function(){try{t.c.send(e,{id:t.id,uid:t.uid,method:r.method,data:r.data,headers:r.headers})}catch(e){i.xdrResponse("transport error",t,r),delete a[t.id]}},o.io.xdr.delay)):u?(i._ieEvt(t,r),t.c.open(r.method||"GET",e),setTimeout(function(){t.c.send(r.data)},0)):t.c.send(e,t,r),{id:t.id,abort:function(){return!!t.c&&t.c.abort(t.id,r)},isInProgress:function(){return!!t.c&&(e=t.id,u?4!==c[e.id]:e.c.isInProgress(e.id));var e},io:i}},xdrResponse:function(e,t,r){r=a[t.id]||r;var i=u?c:a,o=r.xdr.use,n=r.xdr.dataType;switch(e){case"start":this.start(t,r);break;case"success":this.success(s(t,o,n),r),delete i[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":this.failure(s(t,o,n),r),delete i[t.id]}},_xdrReady:function(e,t){o.fire(r,e,t)},transport:function(e){var t,r;"flash"===e.id&&(t=o.UA.ie?e.src+"?d="+(new Date).valueOf().toString():e.src,r=o.id,e=e.uid,r='<object id="io_swf" type="application/x-shockwave-flash" data="'+t+'" width="0" height="0"><param name="movie" value="'+t+'"><param name="FlashVars" value="yid='+r+"&uid="+e+'"><param name="allowScriptAccess" value="always"></object>',e=i.createElement("div"),i.body.appendChild(e),e.innerHTML=r,o.IO.transports.flash=function(){return i.getElementById("io_swf")})}}),o.io.xdrReady=function(e,t){var r=o.io._map[t];o.io.xdr.delay=0,r._xdrReady.apply(r,[e,t])},o.io.xdrResponse=function(e,t,r){var i=o.io._map[t.uid];i.xdrResponse.apply(i,[e,t,r])},o.io.transport=function(e){var t=o.io._map["io:0"]||new o.IO;e.uid=t._uid,t.transport.apply(t,[e])},o.io.xdr={delay:100}},"3.16.0",{requires:["io-base","datatype-xml-parse"]}),YUI.add("page-title-helper",function(r){r.pageTitleHelper=function(e){var t="Flickr";return t=r.Lang.isString(e)&&(e=e.trim())?e+" | "+t:t}},"@VERSION@",{requires:[]}),YUI.add("flickr-route",function(o,e){var n=require("hermes-core/flog")(e),r=require("hermes-core/type-validator");o.Routes=o.Routes||{},o.FlickrRoute=function(e){this.appContext=e},o.FlickrRoute.prototype={run:function(){},setRouteDataOnHistory:function(e,t){return o.HistoryHelper.setData(this.name,e,t)},getRouteDataFromHistory:function(e){return o.HistoryHelper.getData(this.name,e)},getRouteMetaValue:function(e,t){return this.appContext.routeConfig.meta?t?this.appContext.routeConfig.meta[e]||t:this.appContext.routeConfig.meta[e]||null:null},displayServerErrorOrClientRedirect:function(e,t,r){return YUI.Env.isServer?this.displayRouteErrors(e,new o.RouteError(404,t)):o.Promise.resolve({redirect:r||e.url})},detectRouteErrors:function(){return o.Array(arguments).filter(function(e,t){return e instanceof o.RouteError}).sort(function(e,t){return e.type-t.type})},displayRouteErrors:function(e,t){t=o.Lang.isArray(t)?t[0]:t;return o.Promise.resolve(this["display"+t.type+"Error"](e,t))},display500Error:function(e,t){var r,i={view:"error-500-page-view",params:{},headers:{statusCode:500},layout:"maximized"};return(o.config.flickr.error.show_debugging_info||e.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)&&(i.params.source="flickrRoute#display500Error",i.params.message=t.message,i.params.stack=t.stack,i.params.apiMethod=t.apiMethod),YUI.Env.isServer||(i.params.message=t.message,i.params.apiMethod=t.apiMethod),e.id&&(i.params.requestID=e.id),t&&"SiteAuth"===t.type&&(t.redirect?(r=YUI.Env.isServer?e.protocol+"://"+e.hostname+e.originalUrl:e.url,r=o.url("/siteauth/?redirect_url="+encodeURIComponent(r)),YUI.Env.isServer&&n.info("Redirecting to siteauth",{production:YUI.Env.production}),i={redirect:r}):YUI.Env.isServer&&(i.params.siteAuthFailure=!0)),void 0===i.redirect?n.info("render",{status:500,req:e,err:t,isBot:this.appContext.getUA().isBot}):n.info("redirect",{status:302,req:e,location:i.redirect,isBot:this.appContext.getUA().isBot}),i},display303Error:function(e,t){return{redirect:t.options.redirect,headers:{statusCode:303}}},display403Error:function(e,t){return this.displayStandardErrorPage(e,t,403)},display404Error:function(e,t){return t=t||new Error("404"),n.info("render",{status:404,url:e.url,err:t,isBot:this.appContext.getUA().isBot}),this.displayStandardErrorPage(e,t,404)},display410Error:function(e,t){return this.displayStandardErrorPage(e,t,410)},displayStandardErrorPage:function(e,t,r){var i={view:"fluid-error-page-view",params:{statusCode:r,url:e.url,message:(t=t||{}).message,catchAll:t.catchAll||!1},headers:{statusCode:r}};return t.data&&(i.params=o.merge(i.params,t.data)),(o.config.flickr.error.show_debugging_info||e.isInsecureGod||this.appContext&&this.appContext.auth&&this.appContext.auth.isInsecureGod)&&(i.params.source="flickrRoute#display"+r+"Error",i.params.message=t.message),e.id&&(i.params.requestID=e.id),i},getPageNumber:function(e,t){t=parseInt(e.params[t||"page_number"],10);return t=isNaN(t)||t<=1?1:t},getNSIDOrPathAlias:function(e){var t;return r.nsid(e)?t=e:r.pathAlias(e)?t={pathAlias:e}:n.warn("Couldn't identify "+e+" as an nsid or path alias."),t}},o.RouteError=function(e,t,r){this.type=e,this.message=t||"",this.data=r||{}}},"@VERSION@",{requires:["flickr-promise","moment","url","history-helper"]}),YUI.add("site-key",function(o,e){"use strict";var n=require("hermes-core/flog")(e),s=require("hermes-core/fletrics");o.SiteKey=function(e,t){this.configurator=e||null,this.flickrAPI=t||new o.FlickrAPI,this._tasks=[]},o.SiteKey.prototype.getKey=function(){return o.config.flickr.api.site_key},o.SiteKey.prototype.isExpired=function(){return Date.now()/1e3>o.config.flickr.api.site_key_expiresAt},o.SiteKey.prototype.invalidate=function(e){if(!((e=e||0)<(this._lastStored||0)))return this.setExpired()},o.SiteKey.prototype.setExpired=function(){return o.config.flickr.api.site_key_expiresAt=0},o.SiteKey.prototype.store=function(e,t){var r;this._lastStored=Date.now(),t=t||Math.floor(this._lastStored/1e3),o.config.flickr.api.site_key=e,o.config.flickr.api.site_key_fetched=t,o.config.flickr.api.site_key_expiresAt=o.config.flickr.api.site_key_fetched+o.config.flickr.api.site_key_fetch_interval,this.configurator&&((r={}).site_key=e,r.site_key_fetched=t,this.configurator.update({api:r})),this.drainQueue()},o.SiteKey.prototype.setTrustedKey=function(e){this._trustedKey=e},o.SiteKey.prototype.getTrustedKey=function(){return this._trustedKey||null},o.SiteKey.prototype.pushToQueue=function(e){this._tasks.push(e)},o.SiteKey.prototype.drainQueue=function(){for(;this._tasks.length;)this._tasks.shift().resolve()},o.SiteKey.prototype.hasQueuedTasks=function(){return!!this._tasks.length},o.SiteKey.prototype.scheduleFutureFetch=function(){this._timerFutureFetch=setTimeout(this.fetch.bind(this),1e3*o.config.flickr.api.site_key_fetch_interval)},o.SiteKey.prototype.scheduleRetry=function(e){var t=this,r=4<this._fetchRuns?1:Math.pow(2,(this._fetchRuns||1)-1)/10,r=o.config.flickr.api.site_key_retry_interval*r;clearTimeout(this._timerRetry),this._timerRetry=setTimeout(function(){t._timerRetry=null,t.fetch(e)},1e3*r)},o.SiteKey.prototype.fetch=function(t){clearTimeout(this._timerFutureFetch);var r,i=this,e=i.hasQueuedTasks();return!t&&(t=new o.Promise(function(e,t){this.resolve=e,this.reject=t}),this.pushToQueue(t),e)||((r=s.createStopwatch("test.site.key.api.latency")).start(),this._fetchRuns||(this._fetchRuns=0),this._fetchRuns++,this.flickrAPI.fetchSiteKey().then(function(e){e=e.site_key;r.stop(),n.info("Received new site key",{key:e}),i._fetchRuns=0,i.store(e),s.sync(),i.scheduleFutureFetch()},function(e){s.increment("sitekey.fetch.failures"),n.error("Failed to fetch site key",{err:e}),i.scheduleRetry(t)})),t},o.augment(o.SiteKey,o.EventTarget)},"@VERSION@",{requires:["event-custom","flickr-api","flickr-promise"]}),YUI.add("hermes-lang-client-app",function(e,t){e.Intl.add("hermes/client-app","en-US",{SAVING_LAST_ACTIONS:["Hey! Weâ€™re still saving your last actions, you might lose them if you leave this page."],UPLOAD_IN_PROGRESS:["Wait! Your photos are still on the way to our servers. They might not get there if you leave this page before they arrive."]})},"@VERSION@",{requires:["intl"]}),YUI.add("client-transport",function(x){"use strict";function b(e){if(e.data.photo_id&&A.photos[e.data.photo_id]){for(var t in A.photos[e.data.photo_id])T.unset(t);delete A.photos[e.data.photo_id]}if(e.data.user_id&&A.users[e.data.user_id]){for(t in A.users[e.data.user_id])T.unset(t);delete A.users[e.data.user_id]}}function n(r,i,e){var t,o=this;return(t=function(){return o.keys.siteKey.isExpired()?o.keys.siteKey.fetch().then(t):o.keys.csrf.isExpired()?o.keys.csrf.fetch().then(t):e?(s.call(o,r,i,e,n),e):new x.Promise(function(e,t){this.resolve=e,this.reject=t,s.call(o,r,i,this,n)})})()}function s(l,d,f,p){var e,h,g,y,m,v,k,_,S=this,w=x.config.flickr.request?x.config.flickr.request.id:window.reqId;if((d=d||{}).data=d.data||{},d.data.csrf=this.keys.csrf.getKey(),d.data.api_key=this.keys.siteKey.getKey(),!d.data.api_key){var t=new Error("Invalid API key.");return I("Invalid API key.",{}),t.fatal=!0,t.panda=!0,void f.reject(t)}if(d.method=d.method||"GET",d.data.format="json",d.data.hermes=1,d.data.hermesClient=1,d.data.reqId=w,h=(e=l)+JSON.stringify(d.data),d.data.method&&d.data.method.match(a)&&(d.method="POST",b(d)),t=T.get(h))return x.Promise.resolve(t).then(f.resolve);d.data.nojsoncallback=1,this._authRetry=this._authRetry||0,this._authRetry++,g=(new Date).getTime(),y=d.data.method,m=d.data,v={method:d.method,data:d.data,xdr:{use:"native",credentials:!0,dataType:"application/json"},on:{complete:function(e,t){var r,i,o={},n=!0===U.exclude[d.data.method],s=!1!==U.include[d.data.method],a=(new Date).getTime(),c=0;E&&(r=e,t=t.rawRequest);try{c=t.status}catch(e){}if(o.reqId=w,404===c)return f.resolve({status:404}),o.apiMethod=y,void x.fire("client-transport:apiError",o);if(503===c)return f.reject({status:503}),o.apiMethod=y,void x.fire("client-transport:apiError",o);if(0===c&&t&&4!==t.readyState)return setTimeout(function(){x.ClientTransport.unloading||((i={status:0,resp:t,message:"XHR aborted:"+t.readyState}).total=a-g,i.apiMethod=y,E&&r&&(i.message+=": "+r.message),i.total>v.timeout&&(i.timeout=!0,i.clientTimeout=!0,i.message="XHR Timeout"),f.reject(i),o.apiMethod=y,x.fire("client-transport:apiError",o))},10),void R(_,"abort",k);if(0===c){(i={status:0,resp:t,message:"XHR error"}).total=a-g,i.apiMethod=y,E&&r&&(i.message+=": "+r.message),i.total>v.timeout&&(i.timeout=!0,i.clientTimeout=!0,i.message="XHR Timeout");try{var u=new Image;u.addEventListener("error",function(){I("XHR maybe dns issue",{})},!1),u.src=x.config.flickr.api.hostname_client+"/services/spaceout.gif"}catch(e){}return f.reject(i),o.apiMethod=y,x.fire("client-transport:apiError",o),void R(_,"error",k)}try{o=JSON.parse(t.responseText)||{}}catch(e){return f.reject({status:0,message:"invalid JSON in response",resp:t}),o.apiMethod=y,void x.fire("client-transport:apiError",o)}if("ok"!==o.stat)return o.code=Number(o.code),p&&0<=[98,99,100].indexOf(o.code)&&S._authRetry<C?(98===o.code&&S.keys.csrf.invalidate(g),S.keys.siteKey.invalidate(g),void p.call(S,l,d,f)):(o.apiMethod=y,x.fire("client-transport:apiError",o),"flickr.site.getCsrf"===y?f.reject(o):f.resolve(o));x.soon(function(){x.fire("client-transport:apiTime",{start:g,end:a,method:m.method})}),S._authRetry=0,f.resolve(o),"GET"===d.method&&s&&!n&&(function(e,t){for(var r;r=O.exec(t);)A.photos[r[1]]||(A.photos[r[1]]={}),A.photos[r[1]][e]=e;for(;r=N.exec(t);)A.users[r[1]]||(A.users[r[1]]={}),A.users[r[1]][e]=e}(h,t.responseText),T.set(h,o),setTimeout(function(){b(d)},12e4))},start:function(){},end:function(){},failure:function(){}}};try{_=e+"?"+x.QueryString.stringify(v.data)}catch(e){}var r,i=(new Date).getTime(),o={useXDR:!0,method:d.method,withCredentials:"true"};E&&("POST"===d.method?(o.url=e,o.body=x.QueryString.stringify(v.data),o.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}):o.url=_),"complete"!==window.document.readyState?(r=window.document.onreadystatechange,window.document.onreadystatechange=function(){"complete"===window.document.readyState&&(r&&"function"==typeof r&&r(),E?c(o,v.on.complete):x.io(e,v),k=(new Date).getTime()-i)}):(E?c(o,v.on.complete):x.io(e,v),k=(new Date).getTime()-i)}function R(e,t,r){var i,o={},n=x.config.win;try{e&&n.performance&&n.performance.getEntriesByName&&(i=n.performance.getEntriesByName(e))&&0<i.length&&i[0]&&(i=i[i.length-1],o={dns:parseInt(i.domainLookupEnd-i.domainLookupStart),tcp:parseInt(i.connectEnd-i.connectStart),ttfb:parseInt(i.responseStart-i.startTime),transfer:parseInt(i.responseEnd-i.responseStart),total:parseInt(i.responseEnd-i.startTime),connectTime:r}),r&&(o.connectTime=r),0<Object.keys(o).length&&!YUI.Env.isServer&&x.config.win.beaconError&&x.config.win.beaconError("[FlickrAPI] XHR "+t+":",x.config.win.location.href,o)}catch(e){}}function I(e,t){var r=x.config.win;try{!YUI.Env.isServer&&x.config.win.beaconError&&t&&r.beaconError("[FlickrAPI] "+e+":",r.location.href,t)}catch(e){}}var t,E,T=x.betterCache,e=x.config.flickr.transport.default_timeout,C=10,O=/"id":"([0-9]+)"/g,N=/"nsid":"([0-9]+@N[0-9]+)"/g,A={photos:{},users:{}},a=new RegExp(x.config.flickr.api.write_api_method_regex),U={include:{"flickr.sharing.getServiceTypes":!0},exclude:{"flickr.sharing.getServices":!0,"flickr.sharing.canShare":!0,"flickr.sharing.getAuthorizeUrl":!0,"flickr.products.orders.getOrder":!0,"flickr.cameraroll.getMap":!0,"flickr.cameraroll.getMapVersion":!0,"flickr.cameraroll.getPhotosByOffset":!0,"flickr.cameraroll.tags.getPhotoIds":!0,"flickr.photos.getPhotos":!0,"flickr.photos.upload.checkTickets":!0,"flickr.photos.recentlyDeleted":!0,"flickr.photos.recentlyUploaded":!0,"flickr.photos.recentlyUpdated":!0,"flickr.photosets.getList":!0,"flickr.people.getPhotos":!0,"flickr.activity.getNotificationsCount":!0,"flickr.feed.getFeed":!0,"flickr.activity.recentByType":!0,"flickr.feed.preferences.getUserPreferences":!0,"flickr.groups.invite.photo.invite":!0,"flickr.feed.preferences.muteObject":!0,"flickr.feed.preferences.unmuteObject":!0,"flickr.feed.preferences.muteEventType":!0,"flickr.subscriptions.validateCoupon":!0,"flickr.galleries.getList":!0,"flickr.galleries.getPhotos":!0,"flickr.galleries.getContext":!0,"flickr.galleries.getInfo":!0,"flickr.people.getGroupsWithStatus":!0,"flickr.groups.pools.getPhotos":!0,"flickr.groups.pools.getGroups":!0,"flickr.groups.admin.getPendingPhotos":!0,"flickr.prefs.setPrefs":!0,"flickr.prefs.getPrefs":!0,"flickr.prefs.setActivityFilter":!0,"flickr.account.getAuthorizedServices":!0}},c=require("xhr");YUI.F=YUI.F||{},YUI.F.jsonCallbacks={},x.ClientTransport=t=function(e){this.keys=t._keys,E=e["enable-xhr-lib-for-client-xhrs"]},t._keys={csrf:null,siteKey:null},t.authorize=function(e){t._keys.siteKey=new x.SiteKey(null,e.flickrAPI),t._keys.siteKey.scheduleFutureFetch(),t._keys.csrf=new x.CsrfUpdater(e.flickrAPI),t._keys.csrf.scheduleFutureFetch()},x.ClientTransport.prototype={makeRequest:function(e,t){return n.call(this,e,t)},makeSiteKeyRequest:function(){return new x.Promise(function(o,n){E?c({uri:"/hermes_error_beacon.gne"},function(e,t,r){var i;t=t.rawRequest;try{i=JSON.parse(t.responseText)||{}}catch(e){return n({status:0,message:"invalid JSON in response",resp:t})}if(!i.site_key)return n({status:0,message:"invalid JSON content, no site_key found",resp:t});o(i)}):x.io("/hermes_error_beacon.gne",{method:"GET",timeout:e,on:{complete:function(e,t){var r;try{r=JSON.parse(t.responseText)||{}}catch(e){return n({status:0,message:"invalid JSON in response",resp:t})}if(!r.site_key)return n({status:0,message:"invalid JSON content, no site_key found",resp:t});o(r)}}})})},makeCsrfRequest:function(e){x.ClientApp&&x.ClientApp.disableClientNav()}}},"@VERSION@",{requires:["querystring-stringify","better-cache","io-xdr","flickr-router","site-key","csrf-updater","flickr-promise","client-app"],affinity:"client"}),YUI.add("loader-bar",function(e){YUI.Env.isServer?e.loaderBar={start:function(){},progress:function(){},finish:function(){}}:e.use("node","dom",function(t){function e(){u=!0,c=20<(c=100*Math.random())?c:20,n=t.one("html").getAttribute("class").match(/is-(\w+)-day/),s=n&&1<n.length,a=s?n[1]+"-day-background":"",l?(t.one(".global-nav-shim")&&l.setStyle("top",t.one(".global-nav-shim").get("offsetHeight")+"px"),r(l),l.setStyle("display","block")):(l=t.Node.create('<div class="loader-bar">'),t.one("body").append(l),t.one(".global-nav-shim")&&l.setStyle("top",t.one(".global-nav-shim").get("offsetHeight")+"px"),r(l)),l.setStyle("width",c+"px"),i=setInterval(function(){var e;(c=l.get("offsetWidth"))>=t.config.win.innerWidth-5&&(l.setStyle("display","none"),e=l,s&&e.removeClass(a),clearInterval(i),u=!1)},100)}function r(e){s&&e.addClass(a)}var i,o,n,s,a,c=0,u=!1,l=null;t.loaderBar={start:function(){u||(clearTimeout(o),o=setTimeout(e,60))},progress:function(){u&&(c+=Math.round(t.config.win.innerWidth*Math.random()*.5),l.setStyle("width",c+"px"))},finish:function(){var e;clearTimeout(o),u&&(l.setStyle("width",t.config.win.innerWidth+"px"),t.one(".global-nav-shim")?l.setStyle("top",t.one(".global-nav-shim").get("offsetHeight")+"px"):e=setInterval(function(){t.one(".global-nav-shim")&&(clearInterval(e),l.setStyle("top",t.one(".global-nav-shim").get("offsetHeight")+"px"))},50))}}})},"@VERSION@",{requires:[]}),YUI.add("node-pluginhost",function(r,e){r.Node.plug=function(){var e=r.Array(arguments);return e.unshift(r.Node),r.Plugin.Host.plug.apply(r.Base,e),r.Node},r.Node.unplug=function(){var e=r.Array(arguments);return e.unshift(r.Node),r.Plugin.Host.unplug.apply(r.Base,e),r.Node},r.mix(r.Node,r.Plugin.Host,!1,null,1),r.Object.each(r.Node._instances,function(e){r.Plugin.Host.apply(e)}),r.NodeList.prototype.plug=function(){var t=arguments;return r.NodeList.each(this,function(e){r.Node.prototype.plug.apply(r.one(e),t)}),this},r.NodeList.prototype.unplug=function(){var t=arguments;return r.NodeList.each(this,function(e){r.Node.prototype.unplug.apply(r.one(e),t)}),this}},"3.16.0",{requires:["node-base","pluginhost"]}),YUI.add("dom-screen",function(e,t){function n(e,t){var r=Math.max(e.top,t.top),i=Math.min(e[a],t[a]),o=Math.min(e[c],t[c]),e=Math.max(e[u],t[u]);return(t={}).top=r,t[a]=i,t[c]=o,t[u]=e,t}var s,a,c,u,l,d,f,p,h,g,y,m,o,v,k;p="documentElement",h="compatMode",g="position",y="BackCompat",m="getBoundingClientRect",o="getComputedStyle",v=(d=e).DOM,k=/^t(?:able|d|h)$/i,d.UA.ie&&(f="BackCompat"!==d.config.doc[h]?p:"body"),d.mix(v,{winHeight:function(e){return v._getWinSize(e).height},winWidth:function(e){return v._getWinSize(e).width},docHeight:function(e){var t=v._getDocSize(e).height;return Math.max(t,v._getWinSize(e).height)},docWidth:function(e){var t=v._getDocSize(e).width;return Math.max(t,v._getWinSize(e).width)},docScrollX:function(e,t){e=(t=t||e?v._getDoc(e):d.config.doc).defaultView,e=e?e.pageXOffset:0;return Math.max(t[p].scrollLeft,t.body.scrollLeft,e)},docScrollY:function(e,t){e=(t=t||e?v._getDoc(e):d.config.doc).defaultView,e=e?e.pageYOffset:0;return Math.max(t[p].scrollTop,t.body.scrollTop,e)},getXY:d.config.doc[p][m]?function(e){var t,r,i,o,n,s,a,c=null;return e&&e.tagName&&(((a=(r=(n=e.ownerDocument)[h])!==y?n[p]:n.body).contains?a.contains(e):d.DOM.contains(a,e))?(s=(s=n.defaultView)&&"pageXOffset"in s?(t=s.pageXOffset,s.pageYOffset):(t=f?n[f].scrollLeft:v.docScrollX(e,n),f?n[f].scrollTop:v.docScrollY(e,n)),d.UA.ie&&(!n.documentMode||n.documentMode<8||r===y)&&(i=a.clientLeft,o=a.clientTop),c=[(a=e[m]()).left,a.top],(i||o)&&(c[0]-=i,c[1]-=o),(s||t)&&(!d.UA.ios||4.2<=d.UA.ios)&&(c[0]+=t,c[1]+=s)):c=v._getOffset(e)),c}:function(e){var t,r,i,o,n,s=null;if(e)if(v.inDoc(e)){for(s=[e.offsetLeft,e.offsetTop],t=e.ownerDocument,r=e,i=!!(d.UA.gecko||519<d.UA.webkit);r=r.offsetParent;)s[0]+=r.offsetLeft,s[1]+=r.offsetTop,i&&(s=v._calcBorders(r,s));if("fixed"!=v.getStyle(e,g)){for(r=e;r=r.parentNode;)o=r.scrollTop,n=r.scrollLeft,d.UA.gecko&&"visible"!==v.getStyle(r,"overflow")&&(s=v._calcBorders(r,s)),(o||n)&&(s[0]-=n,s[1]-=o);s[0]+=v.docScrollX(e,t),s[1]+=v.docScrollY(e,t)}else s[0]+=v.docScrollX(e,t),s[1]+=v.docScrollY(e,t)}else s=v._getOffset(e);return s},getScrollbarWidth:d.cached(function(){var e=d.config.doc,t=e.createElement("div"),r=e.getElementsByTagName("body")[0],i=.1;return r&&(t.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",t.appendChild(e.createElement("p")).style.height="1px",r.insertBefore(t,r.firstChild),i=t.offsetWidth-t.clientWidth,r.removeChild(t)),i},null,.1),getX:function(e){return v.getXY(e)[0]},getY:function(e){return v.getXY(e)[1]},setXY:function(e,t,r){var i,o,n=v.setStyle;e&&t&&(o=v.getStyle(e,g),i=v._getOffset(e),"static"==o&&n(e,g,"relative"),o=v.getXY(e),null!==t[0]&&n(e,"left",t[0]-o[0]+i[0]+"px"),null!==t[1]&&n(e,"top",t[1]-o[1]+i[1]+"px"),r||((r=v.getXY(e))[0]===t[0]&&r[1]===t[1]||v.setXY(e,t,!0)))},setX:function(e,t){return v.setXY(e,[t,null])},setY:function(e,t){return v.setXY(e,[null,t])},swapXY:function(e,t){var r=v.getXY(e);v.setXY(e,v.getXY(t)),v.setXY(t,r)},_calcBorders:function(e,t){var r=parseInt(v[o](e,"borderTopWidth"),10)||0,i=parseInt(v[o](e,"borderLeftWidth"),10)||0;return d.UA.gecko&&k.test(e.tagName)&&(i=r=0),t[0]+=i,t[1]+=r,t},_getWinSize:function(e,t){var r=(t=t||e?v._getDoc(e):d.config.doc).defaultView||t.parentWindow,i=t[h],o=r.innerHeight,e=r.innerWidth,r=t[p];return i&&!d.UA.opera&&(o=(r="CSS1Compat"!=i?t.body:r).clientHeight,e=r.clientWidth),{height:o,width:e}},_getDocSize:function(e){var t=e?v._getDoc(e):d.config.doc,e=t[p];return{height:(e="CSS1Compat"!=t[h]?t.body:e).scrollHeight,width:e.scrollWidth}}}),a="right",c="bottom",u="left",l=(s=e).DOM,s.mix(l,{region:function(e){var t=l.getXY(e),r=!1;return r=e&&t?l._getRegion(t[1],t[0]+e.offsetWidth,t[1]+e.offsetHeight,t[0]):r},intersect:function(e,t,r){var i=r||l.region(e),o={};if(t.tagName)o=l.region(t);else{if(!s.Lang.isObject(t))return!1;o=t}return{top:(i=n(o,i)).top,right:i[a],bottom:i[c],left:i[u],area:(i[c]-i.top)*(i[a]-i[u]),yoff:i[c]-i.top,xoff:i[a]-i[u],inRegion:l.inRegion(e,t,!1,r)}},inRegion:function(e,t,r,i){var o={},e=i||l.region(e);if(t.tagName)o=l.region(t);else{if(!s.Lang.isObject(t))return!1;o=t}return r?e[u]>=o[u]&&e[a]<=o[a]&&e.top>=o.top&&e[c]<=o[c]:(e=n(o,e))[c]>=e.top&&e[a]>=e[u]},inViewportRegion:function(e,t,r){return l.inRegion(e,l.viewportRegion(e),t,r)},_getRegion:function(e,t,r,i){var o={};return o.top=o[1]=e,o[u]=o[0]=i,o[c]=r,o[a]=t,o.width=o[a]-o[u],o.height=o[c]-o.top,o},viewportRegion:function(e){var t,r,i=!1;return(e=e||s.config.doc.documentElement)&&(t=l.docScrollX(e),r=l.docScrollY(e),i=l._getRegion(r,l.winWidth(e)+t,r+l.winHeight(e),t)),i}})},"3.16.0",{requires:["dom-base","dom-style"]});

YUI.add("dom-screen",function(t,e){function r(t,e){var o=Math.max(t.top,e.top),n=Math.min(t[l],e[l]),i=Math.min(t[f],e[f]),t=Math.max(t[g],e[g]);return(e={}).top=o,e[l]=n,e[f]=i,e[g]=t,e}var c,l,f,g,a,d,s,u,h,p,m,S,i,v,w;u="documentElement",h="compatMode",p="position",m="BackCompat",S="getBoundingClientRect",i="getComputedStyle",v=(d=t).DOM,w=/^t(?:able|d|h)$/i,d.UA.ie&&(s="BackCompat"!==d.config.doc[h]?u:"body"),d.mix(v,{winHeight:function(t){return v._getWinSize(t).height},winWidth:function(t){return v._getWinSize(t).width},docHeight:function(t){var e=v._getDocSize(t).height;return Math.max(e,v._getWinSize(t).height)},docWidth:function(t){var e=v._getDocSize(t).width;return Math.max(e,v._getWinSize(t).width)},docScrollX:function(t,e){t=(e=e||t?v._getDoc(t):d.config.doc).defaultView,t=t?t.pageXOffset:0;return Math.max(e[u].scrollLeft,e.body.scrollLeft,t)},docScrollY:function(t,e){t=(e=e||t?v._getDoc(t):d.config.doc).defaultView,t=t?t.pageYOffset:0;return Math.max(e[u].scrollTop,e.body.scrollTop,t)},getXY:d.config.doc[u][S]?function(t){var e,o,n,i,r,c,l,f=null;return t&&t.tagName&&(((l=(o=(r=t.ownerDocument)[h])!==m?r[u]:r.body).contains?l.contains(t):d.DOM.contains(l,t))?(c=(c=r.defaultView)&&"pageXOffset"in c?(e=c.pageXOffset,c.pageYOffset):(e=s?r[s].scrollLeft:v.docScrollX(t,r),s?r[s].scrollTop:v.docScrollY(t,r)),d.UA.ie&&(!r.documentMode||r.documentMode<8||o===m)&&(n=l.clientLeft,i=l.clientTop),f=[(l=t[S]()).left,l.top],(n||i)&&(f[0]-=n,f[1]-=i),(c||e)&&(!d.UA.ios||4.2<=d.UA.ios)&&(f[0]+=e,f[1]+=c)):f=v._getOffset(t)),f}:function(t){var e,o,n,i,r,c=null;if(t)if(v.inDoc(t)){for(c=[t.offsetLeft,t.offsetTop],e=t.ownerDocument,o=t,n=!!(d.UA.gecko||519<d.UA.webkit);o=o.offsetParent;)c[0]+=o.offsetLeft,c[1]+=o.offsetTop,n&&(c=v._calcBorders(o,c));if("fixed"!=v.getStyle(t,p)){for(o=t;o=o.parentNode;)i=o.scrollTop,r=o.scrollLeft,d.UA.gecko&&"visible"!==v.getStyle(o,"overflow")&&(c=v._calcBorders(o,c)),(i||r)&&(c[0]-=r,c[1]-=i);c[0]+=v.docScrollX(t,e),c[1]+=v.docScrollY(t,e)}else c[0]+=v.docScrollX(t,e),c[1]+=v.docScrollY(t,e)}else c=v._getOffset(t);return c},getScrollbarWidth:d.cached(function(){var t=d.config.doc,e=t.createElement("div"),o=t.getElementsByTagName("body")[0],n=.1;return o&&(e.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",e.appendChild(t.createElement("p")).style.height="1px",o.insertBefore(e,o.firstChild),n=e.offsetWidth-e.clientWidth,o.removeChild(e)),n},null,.1),getX:function(t){return v.getXY(t)[0]},getY:function(t){return v.getXY(t)[1]},setXY:function(t,e,o){var n,i,r=v.setStyle;t&&e&&(i=v.getStyle(t,p),n=v._getOffset(t),"static"==i&&r(t,p,"relative"),i=v.getXY(t),null!==e[0]&&r(t,"left",e[0]-i[0]+n[0]+"px"),null!==e[1]&&r(t,"top",e[1]-i[1]+n[1]+"px"),o||((o=v.getXY(t))[0]===e[0]&&o[1]===e[1]||v.setXY(t,e,!0)))},setX:function(t,e){return v.setXY(t,[e,null])},setY:function(t,e){return v.setXY(t,[null,e])},swapXY:function(t,e){var o=v.getXY(t);v.setXY(t,v.getXY(e)),v.setXY(e,o)},_calcBorders:function(t,e){var o=parseInt(v[i](t,"borderTopWidth"),10)||0,n=parseInt(v[i](t,"borderLeftWidth"),10)||0;return d.UA.gecko&&w.test(t.tagName)&&(n=o=0),e[0]+=n,e[1]+=o,e},_getWinSize:function(t,e){var o=(e=e||t?v._getDoc(t):d.config.doc).defaultView||e.parentWindow,n=e[h],i=o.innerHeight,t=o.innerWidth,o=e[u];return n&&!d.UA.opera&&(i=(o="CSS1Compat"!=n?e.body:o).clientHeight,t=o.clientWidth),{height:i,width:t}},_getDocSize:function(t){var e=t?v._getDoc(t):d.config.doc,t=e[u];return{height:(t="CSS1Compat"!=e[h]?e.body:t).scrollHeight,width:t.scrollWidth}}}),l="right",f="bottom",g="left",a=(c=t).DOM,c.mix(a,{region:function(t){var e=a.getXY(t),o=!1;return o=t&&e?a._getRegion(e[1],e[0]+t.offsetWidth,e[1]+t.offsetHeight,e[0]):o},intersect:function(t,e,o){var n=o||a.region(t),i={};if(e.tagName)i=a.region(e);else{if(!c.Lang.isObject(e))return!1;i=e}return{top:(n=r(i,n)).top,right:n[l],bottom:n[f],left:n[g],area:(n[f]-n.top)*(n[l]-n[g]),yoff:n[f]-n.top,xoff:n[l]-n[g],inRegion:a.inRegion(t,e,!1,o)}},inRegion:function(t,e,o,n){var i={},t=n||a.region(t);if(e.tagName)i=a.region(e);else{if(!c.Lang.isObject(e))return!1;i=e}return o?t[g]>=i[g]&&t[l]<=i[l]&&t.top>=i.top&&t[f]<=i[f]:(t=r(i,t))[f]>=t.top&&t[l]>=t[g]},inViewportRegion:function(t,e,o){return a.inRegion(t,a.viewportRegion(t),e,o)},_getRegion:function(t,e,o,n){var i={};return i.top=i[1]=t,i[g]=i[0]=n,i[f]=o,i[l]=e,i.width=i[l]-i[g],i.height=i[f]-i.top,i},viewportRegion:function(t){var e,o,n=!1;return(t=t||c.config.doc.documentElement)&&(e=a.docScrollX(t),o=a.docScrollY(t),n=a._getRegion(o,a.winWidth(t)+e,o+a.winHeight(t),e)),n}})},"3.12.0",{requires:["dom-base","dom-style"]});

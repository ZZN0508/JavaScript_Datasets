(this.$WP=this.$WP||[]).push(["1x56sm",(e,p)=>{"use strict";var r,i,s,u,t,o=(e,p)=>{switch(p){case 0:return o(e,100);case 100:return e.popupMaxTier>100||e.popupSkipTiers&&e.popupSkipTiers.get(100)?o(e,200):100;case 200:return e.popupSkipTiers&&e.popupSkipTiers.get(200)?o(e,300):200;case 300:return e.popupSkipTiers&&e.popupSkipTiers.get(300)?o(e,400):300;case 400:return 400;default:return 0}},n=(e,p,r,i)=>{var s=e.popupNodes,u=e.popupTier,t=e.popupTierEvents,n=e.popupSkipTiers,T=e.popupTierDismissals,a=p.tier;i&&(n=e.popupSkipTiers.set(a,!0)),e.popupNodes.some(e=>e.key===p.key)||(s=[...e.popupNodes,p],u=o(Object.assign({},e,{popupSkipTiers:n}),0),t=[]);var c=T.get(a),l=r.filter(e=>!(null==c?void 0:c.includes(e)));return l.length>0&&(c&&c.length>0&&l.length>0?T.set(a,[...c,...l]):T.set(a,r)),Object.assign({},e,{popupNodes:s,popupTierDismissals:T,popupTierEvents:t,popupTier:u,popupSkipTiers:n})},T=(e,p)=>{var r=e.popupTierEvents;if(p.forEach(e=>{r.includes(e)||(r=[...r,e])}),r.toString()!==e.popupTierEvents.toString()){var i,s,u={popupTierEvents:e.popupTierEvents,popupTier:e.popupTier};((null==(i=e.popupSkipTiers)?void 0:i.get(e.popupTier||0))||e.popupTierDismissals&&e.popupNodes.length>0&&void 0!==e.popupTier&&(r&&(null==(s=r)?void 0:s.length)>0||0===e.popupTier))&&(u=(e=>{var p,r=p=>Object.assign({},e,{popupTier:p,popupTierEvents:[]});if(Array.from(e.popupTierEvents||[]).sort().toString()===Array.from((null==(p=e.popupTierDismissals)?void 0:p.get(e.popupTier||0))||[]).sort().toString())switch(e.popupTier){case 0:return r(o(e,100));case 100:return r(o(e,200));case 200:return r(o(e,300));case 300:return r(o(e,400));case 400:return r(o(e,500));default:return e}return e})(Object.assign({},e,{popupTierEvents:r})));var t=e.popupMaxTier;return e.popupMaxTier<u.popupTier&&(t=u.popupTier),Object.assign({},e,{popupTierEvents:u.popupTierEvents,popupMaxTier:t,popupTier:u.popupTier})}return e},a=(e=(()=>({popupNodes:[],popupTierDismissals:new Map,popupTierEvents:[],popupTier:0,popupMaxTier:0,popupSkipTiers:new Map}))(),p)=>{switch(p.type){case"REGISTER_POPUP":return void 0!==p.element?n(e,p.element,p.dismissEvents,p.skip):(console.error("Missing element for action in the popup reducer."),e);case"DISMISS_POPUP":return T(e,p.dismissEvents);default:return e}},c=({children:e})=>e,l=({children:e})=>{var[p,o]=i(a,{popupNodes:[],popupTierDismissals:new Map,popupTierEvents:[],popupTier:0,popupMaxTier:0,popupSkipTiers:new Map}),n=s((e,p,r)=>{o({type:"REGISTER_POPUP",element:e,dismissEvents:p,skip:r})},[o]),T=s(e=>{o({type:"DISMISS_POPUP",dismissEvents:e})},[o]),c=r.useMemo(()=>({registerPopupTier:n,dismissEvents:T}),[n,T]);return r.createElement(u.Provider,{value:c},r.createElement(t,null,e),p.popupNodes.filter(e=>e.tier===p.popupTier).map(({node:e,key:p})=>r.createElement(t,{key:p},e)))},d=e=>{var{registerPopupTier:p,dismissEvents:i}=r.useContext(u),{factory:s,key:t,eventTypes:o,tier:n,skip:T}=e,a=r.useRef(null),c=r.useCallback(()=>{i(o)},[i,o]),l=r.useMemo(()=>({dismiss:c}),[c]);return r.useEffect(()=>{a.current=s(l),p({node:a.current,key:t,tier:n},o,T)},[o,s,t,p,l,n,T]),{dismiss:c}};return[()=>{u=r.createContext({registerPopupTier:()=>{},dismissEvents:()=>{}}),t=r.memo(c),e({DISMISS_POPUP:"DISMISS_POPUP",PopupHierarchyLithiumProvider:l,REGISTER_POPUP:"REGISTER_POPUP",dismiss:T,popupReducer:a,register:n,usePopupHierarchyRender:d})},[e=>(r=e,i=e.useReducer,s=e.useCallback)]]},["cDcdfi"]]);
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[15],{1116:function(e,n,t){"use strict";var i=t(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=e.pathname,t=e.search,i=e.hash,a=e.visited,r=e.provider,o=e.fromWidget,d=void 0!==o&&o;if((0,l.default)())return"/action";var u,e=new URLSearchParams(t),o=e.get("ld");switch(u=o||("yolo"===r||d?"".concat(n).concat(t).concat(i):(a=(i=(0,c.default)(a)).pathname,i=void 0===(i=i.search)?"":i,"".concat(void 0===a?"/":a).concat(i))),(0,s.default)(u)&&!f.NOT_ELIGIBLE_LD.some(function(e){return u===e})||(u="/"),e.get("redirect")){case"email_activation":u="/user/activation/phone?ref=email_activation";break;case"create_password":u="/user/activation/complete-password";break;case"seamless_sosmed":u="/feed";break;case"profile":u="/user/profile"}return u};var s=i(t(205)),c=i(t(1639)),l=i(t(1210)),f=t(1211)},1210:function(e,n,t){"use strict";var i=t(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return Boolean((0,a.default)(r.ACTION_KEY))};var a=i(t(56)),r=t(1637)},1211:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NOT_ELIGIBLE_LD=void 0,n.NOT_ELIGIBLE_LD=["/appauth","/appauth/code","/login","/register","/user/activation/inactive-phone","/user/change-password"]},1637:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ACTION_KEY=void 0,n.ACTION_KEY="action"},1639:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.length<2?{pathname:"",search:"",state:{},hash:""}:e[e.length-2]}},1640:function(e,n,t){"use strict";var i=t(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return s.apply(this,arguments)};var a=i(t(10)),r=i(t(177)),o=i(t(2119)),d=i(t(31)),u=t(1641);function s(){return(s=(0,r.default)(a.default.mark(function e(i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.default){e.next=2;break}throw new Error("FGP_1");case 2:return e.abrupt("return",new Promise(function(t,n){window.requestIdleCallback?window.requestIdleCallback(function(){try{o.default.get(i,function(e){var n=e.map(function(e){return e.value}),n=o.default.x64hash128(n.join(""),u.SEED_HASH);t({raw_data:e,fingerprint:n})})}catch(e){n(e)}},{timeout:u.INIT_TIMEOUT}):window.setTimeout(function(){try{o.default.get(i,function(e){var n=e.map(function(e){return e.value}),n=o.default.x64hash128(n.join(""),u.SEED_HASH);t({raw_data:e,fingerprint:n})})}catch(e){n(e)}},u.INIT_TIMEOUT)}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},1641:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SEED_HASH=n.INIT_TIMEOUT=void 0,n.INIT_TIMEOUT=500,n.SEED_HASH=69},1642:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.filter(function(e){return!i.includes(e.key)})};var i=["webgl","canvas"]},1643:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"insertDeviceFingerprintMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InsertDeviceBrowserFingerprintRequest"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insertDeviceBrowserFingerprint"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:149}};t.loc.source={body:"mutation insertDeviceFingerprintMutation($input:InsertDeviceBrowserFingerprintRequest!){insertDeviceBrowserFingerprint(input:$input){status message}}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function d(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=t,e.exports.insertDeviceFingerprintMutation=function(n,e){var t={kind:n.kind,definitions:[d(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=d(n,e);e&&t.definitions.push(e)}),t}(t,"insertDeviceFingerprintMutation")},1644:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:58}};t.loc.source={body:"query User{user{id email phone profilePicture first_name}}",name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function d(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=t,e.exports.User=function(n){var t={kind:n.kind,definitions:[d(n,"User")]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o.User||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=d(n,e);e&&t.definitions.push(e)}),t}(t)},1645:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDefaultChosenAddress"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"keroAddrGetDefaultChosenAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"source"},value:{kind:"StringValue",value:"login",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"lat_long"},value:{kind:"StringValue",value:"",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addr_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"receiver_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"addr_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"district"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"district_name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:160}};t.loc.source={body:'query GetDefaultChosenAddress{keroAddrGetDefaultChosenAddress(input:{source:"login",lat_long:""}){data{addr_id receiver_name addr_name district district_name}}}',name:"GraphQL request",locationOffset:{line:1,column:1}};var o={};function d(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach(function(e){var n;e.name&&(function n(e,t){var i;"FragmentSpread"===e.kind?t.add(e.name.value):"VariableDefinition"!==e.kind||"NamedType"===(i=e.type).kind&&t.add(i.name.value),e.selectionSet&&e.selectionSet.selections.forEach(function(e){n(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){n(e,t)}),e.definitions&&e.definitions.forEach(function(e){n(e,t)})}(e,n=new Set),o[e.name.value]=n)}),e.exports=t,e.exports.GetDefaultChosenAddress=function(n,e){var t={kind:n.kind,definitions:[d(n,e)]};n.hasOwnProperty("loc")&&(t.loc=n.loc);var e=o[e]||new Set,i=new Set,a=new Set;for(e.forEach(function(e){a.add(e)});0<a.size;){var r=a,a=new Set;r.forEach(function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach(function(e){a.add(e)}))})}return i.forEach(function(e){e=d(n,e);e&&t.definitions.push(e)}),t}(t,"GetDefaultChosenAddress")},591:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default=function(e){return{"X-TKPD-AKAMAI":e}}},738:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i+=1)n+=t.charAt(Math.floor(Math.random()*t.length));return n}},885:function(e,n,t){"use strict";var i=t(13);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return r.apply(this,arguments)};var b=i(t(10)),a=i(t(177)),y=i(t(63)),N=i(t(90)),O=i(t(118)),I=i(t(1116)),F=i(t(1640)),T=i(t(1642)),A=i(t(1643)),M=i(t(206)),x=i(t(1644)),P=i(t(1645)),L=i(t(207)),C=t(149);function r(){return(r=(0,a.default)(b.default.mark(function e(n){var t,i,a,r,o,d,u,s,c,l,f,v,m,p,k,h,_,g,S,w,E,D;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.apolloClient,a=n.fromWidget,r=n.provider,o=n.pathname,d=n.search,u=n.hash,s=n.visited,c=n.onGetUserError,l=n.onSuccess,f=n.onGetUserIdHash,e.prev=1,e.next=4,i.query({query:x.default});case 4:v=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),c({error:e.t0,provider:r}),e.abrupt("return");case 11:return g=(null===(_=v)||void 0===_||null===(t=_.data)||void 0===t?void 0:t.user)||{},m=g.id,p=g.email,k=g.phone,h=g.profilePicture,_=g.first_name,g="atreus"===window.__service||!1,g=g?"lite":"desktop",e.prev=15,e.next=18,i.query({query:P.default});case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(15),console.error(e.t1);case 23:return e.next=25,(0,F.default)();case 25:if(S=e.sent,w=S.raw_data,E=void 0===w?[]:w,w=S.fingerprint,S=void 0===w?"":w,E.length&&S)return e.next=33,i.mutate({mutation:A.default,variables:{input:{label:S,user_id:Number(m),source:"desktop",event:"login",time:Math.floor(Date.now()/1e3),raw_data:btoa(JSON.stringify((0,T.default)(E)))}}}).catch(function(e){console.error(e)});e.next=33;break;case 33:if(e.prev=33,"function"==typeof f)return e.next=37,(0,M.default)({isLoginOrRegisterFlow:!0,onGetUserIdHash:function(){return f(m)}});e.next=51;break;case 37:if(D=e.sent,w=D.dvToken,S=void 0===w?"":w,E=D.retryCount,w=void 0===E?0:E,E=D.errMsg,D=void 0===E?"":E,S)return(E=new Date).setDate(E.getDate()+1),(new y.default).set(C.COOKIE_DV_PREFIX,S,{expires:S===C.DEFAULT_DV_TOKEN?E:new Date(Date.now()+C.COOKIE_EXPIRY_TIME)}),e.next=51,i.mutate({mutation:L.default,variables:{input:{key:S,retry_count:w,error_message:D,device_type:g}}}).catch(function(e){console.error(e)});e.next=51;break;case 51:e.next=56;break;case 53:e.prev=53,e.t2=e.catch(33),console.error(e.t2);case 56:return e.prev=56,l({provider:r,userId:m}),D={pic:h,nm:_,pvd:r,ml:p,ph:k},(0,N.default)("lstlgn",D),(0,O.default)(),D=(0,I.default)({pathname:o,search:d,hash:u,visited:s,provider:r,fromWidget:a}),window.location.replace(D),e.finish(56);case 64:case"end":return e.stop()}},e,null,[[1,7],[15,20],[33,53,56,64]])}))).apply(this,arguments)}}}]);

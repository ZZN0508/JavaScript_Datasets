b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl").extend(null,{localName:"test",getDisplayModel:function(){return{}}},{template:function(e){return"<b>hello</b>"}}),function(){var s=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl"),a=s.extend(null,{localName:"input",isValid:function(){},setModel:function(){},getDisplayModel:function(){var e=this.getAttribute("type")||"text",t=this.cnBase,s=this.cnBase+"-"+e,i=e;switch(e){case"hidden":case"password":case"checkbox":case"radio":case"file":case"submit":case"image":case"reset":case"button":break;default:i="text"}return{name:this.getAttribute("name")||"",type:e,inputType:i,value:this.getAttribute("value")||"",label:this.getAttribute("label")||"",cnBase:t,cnType:s,parentNodeName:this.parentNode?this.parentNode.nodeName:"",style:this.getAttribute("style")||"",checked:this.getAttribute("checked")||"",required:this.getBoolAttribute("required")||"",disabled:this.getBoolAttribute("disabled")||"",readonly:this.getBoolAttribute("readonly")||"",valid:this.isValid(),rangeOffset:a.getRangeOffset(this,this.getAttribute("value")),spinner:!1,maxlength:!1}},setMyValue:function(e){var t=this.getDisplay("input");t.value;t.value=e;e=this.ownerDocument.createEvent("UIEvent");e.initUIEvent("change",!0,!1,window,null),this.dispatchEvent(e,!1)}},{template:function(e){var t=[];return t.push('<span class="'+("radio"==e.parentNodeName?e.cnBase+"-"+e.parentNodeName:e.cnBase)+" "+e.cnType),e.checked&&t.push(" "+e.cnBase+"--checked"),e.required&&t.push(" "+e.cnBase+"_required"),e.disabled&&t.push(" "+e.cnBase+"_disabled"),e.readonly&&t.push(" "+e.cnBase+"_readonly"),e.valid&&t.push(" "+e.cnBase+"_valid"),t.push('"'),e.style&&t.push(' style="'+e.style+'"'),t.push(">"),e.label&&t.push('<label class="'+e.cnBase+"--label "+e.cnType+'--label">'),t.push('<div class="'+e.cnBase+"--field "+e.cnType+'--field"><div class="'+e.cnBase+"--button "+e.cnType+'--button" style="'+("range"==e.type?"left:"+e.rangeOffset:"right:0")+'">'),t.push('</div><input class="'+e.cnBase+"--input "+e.cnType+"--input"),"text"!=e.inputType&&"password"!=e.inputType||t.push(" bc-roundcorner-3"),t.push('" type="'+e.inputType+'"'),t.push(' onchange="var elm=b$.getVC(this).setMyValue(this.value);"'),"checkbox"!=e.inputType&&"radio"!=e.inputType||t.push(' style="display:none"'),e.checked&&t.push(' checked="checked"'),e.disabled&&t.push(' disabled="true"'),e.readonly&&t.push(' readonly="true"'),e.maxlength&&t.push(' maxlength="'+e.maxlength+'"'),t.push(' name="'+e.name+'" value="'+e.value+'" />'),t.push('<div class="'+e.cnBase+'--popup" style="position:absolute;display:none"></div>'),t.push("</div>"),e.label&&t.push(e.label+"</label>"),t.push("</span>"),t.join("")},handlers:{DOMAttrModified:function(e){var t,s=e.attrName,i=e.newValue;this.htmlNode&&(t=this.getAttribute("type")||"text",e=this.cnBase,"type"==s||"checked"==s&&(null!=i&&""!=i?(this.getDisplay("input").setAttribute("checked","checked"),this.getDisplay("input").checked=!0,b$(this.htmlNode).addClass(e+"--checked")):(this.getDisplay("input").removeAttribute("checked"),this.getDisplay("input").checked=!1,b$(this.htmlNode).removeClass(e+"--checked"))))},DOMActivate:function(e){if(e.target==this)switch(this.getAttribute("type")){case"file":case"color":case"date":case"datetime":case"datetime-local":case"month":case"week":break;case"checkbox":this.getAttribute("checked")?this.removeAttribute("checked"):this.setAttribute("checked","checked");break;case"radio":for(var t,s=this.getAttribute("name"),i=this.parentNode,a=0;a<i.childNodes.length;a++)(t=i.childNodes[a])&&"radio"==t.getAttribute("type")&&t.getAttribute("name")==s&&t.getAttribute("checked")&&t!==this&&t.removeAttribute("checked");this.setAttribute("checked","checked")}},click:function(e){if(e.target==this)if(this.getDisplayEventTarget(e.htmlTarget)==this.getDisplay("button"))switch(this.getAttribute("type")){case"file":case"date":case"color":case"datetime":case"datetime-local":case"month":case"week":this.domActivate()}else switch(this.getAttribute("type")){case"radio":case"checkbox":this.domActivate()}},mousedown:function(e){if(e.target==this)switch(this.getAttribute("type")){case"range":if(this.getDisplayEventTarget(e.htmlTarget)!=this.getDisplay("button"))break;e.preventDefault();case"reset":case"submit":case"button":this.$captured=!0,b$.ua.setMouseTrap(this);var t=this.cnBase;b$(this.htmlNode).addClass(t+"_active")}},mouseup:function(e){if(e.target==this)switch(this.getAttribute("type")){case"reset":case"submit":case"button":case"range":var t;console.log("YESHJ"),this.$captured&&(this.$captured=!1,b$.ua.releaseMouseTrap(this),t=this.cnBase,b$(this.htmlNode).removeClass(t+"_active"),"range"==this.getAttribute("type")&&this.setAttribute("value",this.valueAsNumber))}},DOMNodeInsertedIntoDocument:function(e){e.target},mousemove:function(e){var t,s,i;e.target==this&&"range"===this.getAttribute("type")&&this.$captured&&(i=b$.ua.getBoundingClientRect(this.getDisplay("field")),t=(Math.max(i.left,Math.min(e.clientX,i.right))-i.left)/(i.right-i.left),s=parseFloat(this.getAttribute("step"))||1,e=parseFloat(this.getAttribute("min")),i=parseFloat(this.getAttribute("max")),isNaN(e)&&(e=0),(i=isNaN(i)?100:i)<e&&(i=e),this.valueAsNumber=Math.round(s*(e+(i-e)*t))/s,this.getDisplay("button").style.left=a.getRangeOffset(this,this.valueAsNumber))}},getRangeOffset:function(e,t){var s=parseFloat(e.getAttribute("max")),e=parseFloat(e.getAttribute("min"));return isNaN(e)&&(e=0),(s=isNaN(s)?100:s)<e&&(s=e),100*(Math.max(e,Math.min(s,t))-e)/(s-e)+"%"}});s.extend(function(e,t){s.apply(this,arguments)},{localName:"radio",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}}},{template:function(e){return'<span class="'+e.cnBase+" "+e.cnBase+'--radio-group"></span>'}})}(),function(){var s=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl"),a=s.extend(function(e,t){s.apply(this,arguments),this.selectedIndex=0,this.options=new b$.bdom.NodeList},{localName:"select",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}},DOMReady:function(){this.setSelectedIndex(this.selectedIndex)},setSelectedIndex:function(e){var t,s,i;this.htmlNode?(null!=this.selectedIndex&&this.options[this.selectedIndex]&&b$(this.options[this.selectedIndex].htmlNode).removeClass("bc-option-selected"),this.options[e]&&(this.selectedIndex=e,t=this.options[e].getTextContent(),this.getDisplay("label").innerHTML=t,i=(s=this.options[e]).getAttribute("value"),s.hasAttribute("value")||(i=t),this.getDisplay("select").value=i,b$(s.htmlNode).addClass("bc-option-selected")),o.ensureRowIsVisible(this.options[e])):this.selectedIndex=e},addOption:function(e,t){return this.appendChild(e)},removeOption:function(e){return this.removeChild(this.options[e])},toggle:function(){a.toggle(this)}},{template:function(e){var t=[];return t.push('<div class="'+e.cnBase+'">'),t.push('<input class="'+e.cnBase+'--select" name="'+e.name+'" />'),t.push('<ul class="'+e.cnBase+"--list "+e.cnBasePrefix+"gradient-grey "+e.cnBasePrefix+'roundcorner-5">'),t.push('<li class="'+e.cnBase+'--label">'+e.value+"</li>"),t.push('<li class="'+e.cnBasePrefix+'dd-arrow"><span class="'+e.cnBase+"--button "+e.cnBasePrefix+"icn "+e.cnBasePrefix+'triangle"></span></li>'),t.push("</ul>"),t.push('<div class="'+e.cnBase+'--dropdown bc-roundcorner-8 bc-shadow --area" style="display:none"></div>'),t.push("</div>"),t.join("")},handlers:{mousedown:function(e){return e.htmlTarget.className&&-1==e.htmlTarget.className.indexOf("--dropdown")&&a.toggle(this),e.target instanceof o&&this.options[this.selectedIndex]!=e.target&&this.setSelectedIndex(this.options.indexOf(e.target)),!1},keydown:function(e){switch(e.keyIdentifier){case"U+000D":a.toggle(this);break;case"U+0028":var t=this.selectedIndex<this.options.length-1?this.selectedIndex+1:0;this.setSelectedIndex(t),e.preventDefault();break;case"U+0026":t=0<this.selectedIndex?this.selectedIndex-1:this.options.length-1;this.setSelectedIndex(t),e.preventDefault()}}},toggle:function(e,t){var s,i,a=e.getDisplay("dropdown"),n=e.getDisplay("list"),l=e.parentNode&&e.parentNode.htmlBody?e.parentNode.htmlBody.parentNode:null,c=b$._private.htmlAPI;n&&(s=a.style,i=0<=(c=c.getBoxObject(n).top-c.getBoxObject(l).top)-l.offsetHeight/2+n.offsetHeight/2,l=l.offsetHeight-c-n.offsetHeight,s.maxHeight=(i?c:l)-n.offsetHeight+"px"),1<arguments.length&&1==t||!(1<arguments.length||"none"!=s.display)?(e.bOpen=!0,b$(e.htmlNode).addClass(e.cnBase+"-open").addClass(i?e.cnBase+"-up":""),s.display="",b$.ua.setMouseTrap(e),o.ensureRowIsVisible(e.options[e.selectedIndex])):(e.bOpen=!1,b$(e.htmlNode).removeClass(e.cnBase+"-open").removeClass(e.cnBase+"-up"),s.display="none",b$.ua.releaseMouseTrap(e))}}),o=s.extend(null,{localName:"option",getDisplayModel:function(){return{cnBase:this.cnBase,value:this.getAttribute("value")||""}}},{template:function(e){return'<div class="'+e.cnBase+" "+e.cnBase+'-ellipsis"><span class="'+e.cnBase+'-label --area"></span></div>'},ensureRowIsVisible:function(e){for(var t=e;t=t&&t.parentNode;)if(t instanceof a){var s=t.getDisplay("dropdown"),i=e.getDisplay();i.offsetTop,s.offsetTop,i.offsetHeight,s.offsetHeight;s.scrollTop=i.offsetTop-3;break}},handlers:{DOMNodeInserted:function(e){for(var t,s=this,i=0;(s=s.parentNode)&&!(s instanceof a);)i++;s&&(s.options.add(this),this.parentNode!=s&&(this.getDisplay("gap").style.width=i+"em"),"true"!=(t=this.getAttribute("selected"))&&"selected"!=t||s.setSelectedIndex(s.options.indexOf(this)))},DOMNodeRemoved:function(e){for(var t=this;(t=t.parentNode)&&!(t instanceof a););t&&t.options.remove(this)},DOMAttrModified:function(e){var t,s;e.target==this&&(t=e.attrName,s=e.newValue,this.htmlNode&&("selected"==t?(e=this.prefix+"option",null!=s&&"false"!=s?b$(this.htmlNode).addClass(e+"_selected"):b$(this.htmlNode).removeClass(e+"_selected")):"label"==t&&(this.getDisplay("gateway").innerHTML=s||"")))},mouseenter:function(e){e.target==this&&b$(this.htmlNode).addClass("_hover")},mouseleave:function(e){e.target==this&&b$(this.htmlNode).removeClass("_hover")}}});s.extend(function(e,t){s.apply(this,arguments),this.cls=(this.prefix?this.prefix+"-":"")+this.localName},{localName:"optgroup",getDisplayModel:function(){return{sClassName:this.prefix+"select"}}},{template:function(e){return'<div class="'+this.cls+(this.disabled?" "+this.cls+"_disabled":"")+'">      <div class="'+this.cls+'--gap" style="height:1em;float:left"></div>      <div class="'+this.cls+'--value">'+(this.label||"")+'</div>      <div class="'+this.cls+'--area">      </div>     </div>'},handlers:{mouseover:function(e){e.target==this&&this.$setPseudoClass("hover",!0,"value")},mouseout:function(e){e.target==this&&this.$setPseudoClass("hover",!1,"value")},DOMNodeInsertedIntoDocument:function(e){for(var t=this,s=0;(t=t.parentNode)&&!(t instanceof a);)s++;t&&this.parentNode!=t&&(this.getDisplay("gap").style.width=s+"em")}}})}(),function(){var s=b$.bdom.getNamespace("http://backbase.com/2012/view").getClass("FormControl");s.extend(function(e,t){s.apply(this,arguments),this.selectedIndex=0},{localName:"switch",getDisplayModel:function(){return{cnBase:this.cnBase,cnBasePrefix:this.cnBasePrefix,name:this.getAttribute("name"),value:this.getAttribute("value")}},toggle:function(){var e=b$(this.htmlNode),t=b$(this.getDisplay("."+this.cnBasePrefix+"label"));input=this.getDisplay("input"),e.toggleClass(this.cnBase+"--checked"),t.toggleClass(this.cnBasePrefix+"toggle-checked"),input.setAttribute("value","true"==input.getAttribute("value")?"false":"true"),input.getAttribute("checked")?input.removeAttribute("checked"):input.setAttribute("checked","true"),this.setAttribute("value","true"==this.getAttribute("value")?"false":"true")}},{template:function(e){var t=[],s="true"==e.value;return t.push('<span class="'+e.cnBase+" "+(s?e.cnBase+"--checked":"")+'">'),t.push('<div class="'+e.cnBase+" "+e.cnBasePrefix+'toggle-switch">'),t.push('<input type="checkbox" class="'+e.cnBase+"--input "+e.cnBasePrefix+'toggle-switch"'),t.push(' name="'+(e.name||"")+'" value="'+e.value+'"'+(s?' checked="checked"':"")+">"),t.push('<div class="'+e.cnBasePrefix+"label"+(s?" "+e.cnBasePrefix+"toggle-checked":"")+'" data-on="YES" data-off="NO">'),t.push("</div></div></span>"),t.join("")},handlers:{click:function(e){e.target==this&&this.toggle()},keydown:function(e){e.target==this&&("U+000D"!=e.keyIdentifier&&"U+0027"!=e.keyIdentifier&&"U+0025"!=e.keyIdentifier&&"U+0020"!=e.keyIdentifier||(this.toggle(),e.preventDefault()))}}})}();

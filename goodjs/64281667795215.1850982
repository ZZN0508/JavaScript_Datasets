webpackJsonp([20],{452:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i){return{open:function(){var r,t,c,e=i.data.showOnTargetPage,n=(t=i.data.breakingNews,c=e,t.filter(function(t){return null!==t[1].liveStream}).reduce(function(t,e){var n=e[0],i=e[1].liveStream,o=i.streamId,r=i.title,s=i.image,a=i.updatedAt,e=i.theme,i=o&&h[o];return i&&u(i,c)&&t.push({region:n,streamId:o,title:r,image:s,updatedAt:a,url:i,theme:e}),t},[])),t=(t=i.data.breakingNews,r=e,t.filter(function(t){return null!==t[1].news}).reduce(function(t,e){var n=e[0],i=e[1].news,o=i.headline,e=i.url,i=i.title;return u(e,r)&&t.push({region:n,title:i,headline:o,url:e}),t},[]));0<n.length&&(d(n,i,!0),window.matchMedia(a.a["tablet-desktop"]).matches&&Object(s.a)()),d(t,i),setTimeout(function(){var t=document.querySelectorAll(".navi-breaking-news__item");t.length?t.forEach(function(t){t.setAttribute("data-state","open"),t.querySelector(".navi-breaking-news__close").addEventListener("click",function(){t.setAttribute("data-state",""),l.a.setBreakingNewsState()})}):l.a.setBreakingNewsState()},25)}}};var o=n(453),r=n(454),s=n(455),a=n(98),l=n(92),h={US_LINEUP:"https://www.bloomberg.com/live",EU_LINEUP:"https://www.bloomberg.com/live/europe",ASIA_LINEUP:"https://www.bloomberg.com/live/asia",AUS_LINEUP:"https://www.bloomberg.com/live/australia",EVENT_LINEUP:"https://www.bloomberg.com/live/stream",EMEA_EVENT_LINEUP:"https://www.bloomberg.com/live/emea",ASIA_EVENT_LINEUP:"https://www.bloomberg.com/live/asia_stream",POLITICS_LINEUP:"https://www.bloomberg.com/live/politics",QT_MINI:"https://www.bloomberg.com/qt/live"};function i(t){var e=t.protocol,n=t.hostname,i=t.port,t=t.pathname,e=e||window.location.protocol,i=i;return e+"//"+(n||window.location.hostname)+":"+(i=!i?(i=!n?window.location.port:i)||("https:"===e?"443":"80"):i)+(t||"/")}function u(t,e){if(!t||e)return 1;e=document.createElement("a");return e.href=t,i(e)!==i(window.location)}function d(t,e,n){var i=((n=void 0===n?!1:n)?r:o).a;t.forEach(function(t){e.container.insertAdjacentHTML("beforeend",i(t))})}},453:function(t,e,n){"use strict";e.a=function(t){var e=t.title,n=t.headline,t=t.url;return t?'\n            <div class="navi-breaking-news__item">\n                <div class="navi-breaking-news__table">\n                    <div class="navi-breaking-news__title">\n                        <a class="navi-breaking-news__link" href="'+t+'" tabindex="-1">'+e+'</a>\n                    </div>\n                    <div class="navi-breaking-news__content">\n                        <a class="navi-breaking-news__link" href="'+t+'">\n                            <span class="navi-breaking-news__headline">'+n+'</span>\n                            <span class="navi-breaking-news__cta">Read More</span>\n                        </a>\n                    </div>\n                    <button class="navi-breaking-news__close" title="Close" aria-label="Close"></button>\n                </div>\n            </div>\n        ':'\n        <div class="navi-breaking-news__item">\n            <div class="navi-breaking-news__table">\n                <div class="navi-breaking-news__title">'+e+'</div>\n                <div class="navi-breaking-news__content">\n                    <span class="navi-breaking-news__headline">'+n+'</span>\n                </div>\n                <button class="navi-breaking-news__close" title="Close" aria-label="Close"></button>\n            </div>\n        </div>\n    '}},454:function(t,e,n){"use strict";e.a=function(t){var e=t.region,n=t.title,i=t.image,o=t.streamId,r=t.url,t=t.theme;return'\n        <div class="navi-breaking-news__item navi-breaking-news__live-stream" data-theme='+t+'>\n            <div class="navi-breaking-news__live-stream__table">\n                <div class="navi-breaking-news__live-stream__top-row">\n                    <div class="navi-breaking-news__live-stream__live-now">\n                        <a href="'+r+'" class="navi-breaking-news__live-stream__live-now-link" tabindex="-1">LIVE NOW</a>\n                    </div>\n                    '+(i?'\n                        <a href="'+r+'" class="navi-breaking-news__live-stream__logo-link" tabindex="-1">\n                            <img class="navi-breaking-news__live-stream__logo" src="'+i.url+'" alt="'+n+'" />\n                        </a>':"")+'\n                </div>\n                <div class="navi-breaking-news__live-stream__title">\n                    <a href="'+r+'" class="navi-breaking-news__live-stream__title-link">\n                        '+("QT"===t?'<span class="navi-breaking-news__live-stream__quicktake-prefix">Quicktake: </span>':"")+"\n                        "+n+' \n                        <span class="navi-breaking-news__live-stream__cta">Watch</span>\n                    </a>\n                </div>\n                <a href="'+r+'" class="navi-breaking-news__live-stream__player-link" tabindex="-1">\n                    <div class="navi-breaking-news__live-stream__player" data-stream-id="'+o+'" data-region="'+e+'"></div>\n                </a>\n                <button class="navi-breaking-news__close navi-breaking-news__live-stream__close" title="Close" aria-label="Close"></button>\n            </div>\n        </div>\n    '}},455:function(t,e,n){"use strict";var i=n(456),l=n.n(i),h=n(457),u={rootMargin:"0px 0px 100px 0px",threshold:[.25,.75]};e.a=function(){var t=document.querySelectorAll(".navi-breaking-news__live-stream"),e=document.querySelectorAll(".navi-breaking-news__live-stream__player");t.length&&e.length&&t.forEach(function(t){var o=t.querySelector(".navi-breaking-news__live-stream__player"),r=t.querySelector(".navi-breaking-news__close"),t=o.dataset.streamId,s=o.dataset.region,a=Object(h.a)(function(t){t=t[0].intersectionRatio;o.dispatchEvent(new CustomEvent("intersect",{detail:{intersectionRatio:t}}))},u),c={id:t,live:!0,controls:!1,autoplay:!1,video_autoplay_on_page:!0,use_google_tag_manager:!0,start_muted:!0,useCustomBufferingAnimation:"QT_MINI"===t};l.a.run(function(){var e,n,i,t=s+"PlayerCreated";window.__bloomberg__[t]||(window.__bloomberg__[t]=!0,e=window.BPlayer.create(o,c),n=0,i=!1,e.on("videoWatchedTimeUpdate",function(t){180<=(n+=t.data.timeWatchedSinceLastUpdate)&&(e.pause(),i=!0)}),r.addEventListener("click",function(){try{e.dispose()}catch(t){console.log("Could not dispose of BPlayer: ",t)}}),e.ready(function(){a?(a.observe(o),o.addEventListener("intersect",function(t){!i&&t.detail&&.5<t.detail.intersectionRatio?e.play():e.pause()})):e.pause()}))})})}},456:function(t,e){var i=((window.__bloomberg__||{}).environment||{}).videoPlayerUrl||"https://cdn.gotraffic.net/projector/latest/bplayer.js",n={callbacks:[],loading:null,loaded:!1,loadFailed:!1,loadBplayer:function(){var e,n;this.loading||(e=this,(n=document.createElement("script")).setAttribute("src",i),n.setAttribute("type","text/javascript"),n.setAttribute("data-exclude",!0),n.addEventListener("load",function t(){e.loaded=!0,e.callbacks.forEach(function(t){t()}),clearTimeout(e.loading),e.loading=null,n.removeEventListener("load",t,!1),n=null}),e.loading=setTimeout(function(){e.loadFailed=!0},7e3),setTimeout(function(){document.head.appendChild(n)}))},run:function(t){this.loadFailed||(this.loaded||window.BPlayer?t():(this.callbacks.push(t),this.loadBplayer()))}};t.exports=n},457:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},"undefined"==typeof IntersectionObserver&&n(458),new IntersectionObserver(t,e)}},458:function(t,e){!function(u,d){"use strict";var e;function c(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var n,i,o,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){n(),o=null},i)}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(e.rootMargin),this.thresholds=this._initThresholds(e.threshold),this.root=e.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function n(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function _(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e=!e.width||!e.height?{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:e:{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(t,e){for(var n=e;n;){if(n==t)return!0;n=v(n)}return!1}function v(t){t=t.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}"IntersectionObserver"in u&&"IntersectionObserverEntry"in u&&"intersectionRatio"in u.IntersectionObserverEntry.prototype?"isIntersecting"in u.IntersectionObserverEntry.prototype||Object.defineProperty(u.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(e=[],t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){t=t||[0];return(t=!Array.isArray(t)?[t]:t).sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},t.prototype._parseRootMargin=function(t){t=(t||"0px").split(/\s+/).map(function(t){t=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(u,"resize",this._checkForIntersections,!0),n(d,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in u&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(d,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(u,"resize",this._checkForIntersections,!0),i(d,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),a=s?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(t){var e=t.element,n=_(e),i=this._rootContainsTarget(e),o=t.entry,r=s&&i&&this._computeTargetAndRootIntersection(e,a),r=t.entry=new c({time:u.performance&&performance.now&&performance.now(),target:e,boundingClientRect:n,rootBounds:a,intersectionRect:r});o?s&&i?this._hasCrossedThreshold(o,r)&&this._queuedEntries.push(r):o&&o.isIntersecting&&this._queuedEntries.push(r):this._queuedEntries.push(r)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){if("none"!=u.getComputedStyle(t).display){for(var n=_(t),i=v(t),o=!1;!o;){var r=null,s=1==i.nodeType?u.getComputedStyle(i):{};if("none"==s.display)return;if(i==this.root||i==d?(o=!0,r=e):i!=d.body&&i!=d.documentElement&&"visible"!=s.overflow&&(r=_(i)),r&&(a=r,c=n,r=s=h=l=void 0,l=Math.max(a.top,c.top),h=Math.min(a.bottom,c.bottom),s=Math.max(a.left,c.left),r=Math.min(a.right,c.right),c=h-l,!(n=0<=(a=r-s)&&0<=c&&{top:l,bottom:h,left:s,right:r,width:a,height:c})))break;i=v(i)}return n}var a,c,l,h},t.prototype._getRootRect=function(){var t,e;return e=this.root?_(this.root):(t=d.documentElement,e=d.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(n){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?n.width:n.height)/100}),t={top:n.top-t[0],right:n.right+t[1],bottom:n.bottom+t[2],left:n.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==n||r==i||r<n!=r<i)return!0}},t.prototype._rootIsInDom=function(){return!this.root||o(d,this.root)},t.prototype._rootContainsTarget=function(t){return o(this.root||d,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},u.IntersectionObserver=t,u.IntersectionObserverEntry=c)}(window,document)}});

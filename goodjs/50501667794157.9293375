var cookieUtils={};!function(_){var l="input#gaMedium",c="input#gaSource",m="input#Opti_ID",u="input#Opti_Variation_ID",p="input#trial_extras\\[Opti_ID\\]",f="input#trial_extras\\[SegmentAnonID\\]",o=!1;cookieUtils.gauge=function(){var e,t=(new Date).getTime(),i=document.referrer;if(_.cookie("flight")){if(e=JSON.parse(String(_.cookie("flight"))),o)return e;t>e.last_touch_timestamp+18e5&&(e.visits++,e.last_touch_timestamp=t),-1===i.indexOf("www.zendesk")&&-1===location.href.indexOf("/register")&&(e.last_landing_page=location.href,e.last_referrer=document.referrer,e.last_touch_timestamp=t),e.time_on_site=Math.round((t-e.last_touch_timestamp)/1e3),e.total_time_on_site+=e.time_on_site,e.page_views=++e.page_views}else e={first_touch_timestamp:t,last_touch_timestamp:t,first_referrer:i=-1===i.indexOf("www.zendesk")?i:"",last_referrer:"none",first_landing_page:location.href,last_landing_page:"none",time_on_site:0,total_time_on_site:0,page_views:1,visits:1,trials:0,domain:"none"};return cookieUtils.setFlightCookie(e),o=!0,e},cookieUtils.setFlightCookie=function(e){var t=location.hostname.substr(location.hostname.indexOf(".")+1);_.cookie("flight",JSON.stringify(e),{expires:730,path:"/",domain:t})},cookieUtils.searchForCookie=function(e){var t="";if(!document.cookie.length)return t;var i=document.cookie.indexOf(e+"=");return-1!=i&&(i=i+e.length+1,-1==(e=document.cookie.indexOf(";",i))&&(e=document.cookie.length),t=unescape(document.cookie.substring(i,e))),t},cookieUtils.parseCookies=function(){var e="",t="",o="",o=cookieUtils.searchForCookie("__utmz"),n=cookieUtils.searchForCookie("optimizelyEndUserId"),a=encodeURI(cookieUtils.searchForCookie("ajs_anonymous_id"));if(o){o=o.split(".");if(4<=o.length){var r=o[4].split("|");for(i=0;i<r.length;i++){var s=r[i];-1<s.indexOf("utmcsr=")&&(e=s.substring(s.indexOf("=")+1)),-1<s.indexOf("utmcmd=")&&(t=s.substring(s.indexOf("=")+1))}_(l).val(t),_(c).val(e)}}""!==n&&(_(m).val(n),_(p).val(n)),optimizely.get&&function(){var e,t=optimizely.get("state"),i=t.getVariationMap();for(e in i){var o=e,n=i[e].id,a=i[e].name,r="",s="trial_extras[Opti_ID_"+o+"_"+n+"]",l="Opti_Name_"+(r=t.getExperimentStates()[e]?t.getExperimentStates()[e].experimentName+"_":r)+a;_(u).parent().append('<input type="hidden" name="'+s+'" id="'+s+'" value="'+l+'">')}}(),""!==a&&_(f).val(a)}}(jQuery);

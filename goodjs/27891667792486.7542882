"use strict";var __db,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();!function(e){var t;(t=e.Config||(e.Config={})).ads=window.Demandbase.Config.ads||{},t.analytics=window.Demandbase.Config.analytics||{},t.conditions=window.Demandbase.Config.conditions||{},t.content=window.Demandbase.Config.content||{},t.forms=window.Demandbase.Config.forms||{},t.segments=window.Demandbase.Config.segments||{},t.emptyWatchDefault=window.Demandbase.Config.emptyWatchDefault||null,t.hooks=window.Demandbase.Config.hooks||{},t.isInIFrame=window.Demandbase.Config.isInIFrame||null,t.key=window.Demandbase.Config.key||null,t.logging=window.Demandbase.Config.logging||null,t.nonCompanyDefault=window.Demandbase.Config.nonCompanyDefault||null,t.nonWatchDefault=window.Demandbase.Config.nonWatchDefault||null,t.testDomain=window.Demandbase.Config.testDomain||void 0,t.testIp=window.Demandbase.Config.testIp||void 0,t.tokens=window.Demandbase.Config.tokens||{},t.useTestDomain=window.Demandbase.Config.useTestDomain||!1,t.useTestIp=window.Demandbase.Config.useTestIp||!1,t.Advertising=window.Demandbase.Config.Advertising||{},t.AssetReporter=window.Demandbase.Config.AssetReporter||{},t.Content=window.Demandbase.Config.Content||{},t.ErrorReporter=window.Demandbase.Config.ErrorReporter||{},t.Forms=window.Demandbase.Config.Forms||{},t.Google_Analytics=window.Demandbase.Config.Google_Analytics||{},t.Google_TagManager=window.Demandbase.Config.Google_TagManager||{},t.IpApiModule=e.Config.IpApiModule||{},t.SiteOptimization=window.Demandbase.Config.SiteOptimization||{},t.EmailDomainReporter=window.Demandbase.Config.EmailDomainReporter||{},t.isVoltronEnabled=window.Demandbase.Config.isVoltronEnabled||!0,t.SiteCustomization=window.Demandbase.Config.SiteCustomization||{experiences:{}},e.Connectors||(e.Connectors={})}(Demandbase=Demandbase||{}),(Demandbase=Demandbase||{}).version="9.0.3",function(i){var e,t,n,o;e=(e=i.Utilities||(i.Utilities={})).ErrorStackParser||(e.ErrorStackParser={}),t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,o=/^(eval@)?(\[native code\])?$/,e.parse=function(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(n)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0},e.extractLocation=function(e){return-1===i.Shims.indexOf(e,":")?[e]:[(e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,"")))[1],e[2]||void 0,e[3]||void 0]},e._parseInt=function(e,t){if(void 0===t&&(t=10),e)return parseInt(e,t)},e.parseV8OrIE=function(e){return e.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(e){var t=(e=-1<i.Shims.indexOf(e,"(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),e=this.extractLocation(t.pop());return{function:t.join(" ")||void 0,file:-1<i.Shims.indexOf(["eval","<anonymous>"],e[0])?void 0:e[0],line:this._parseInt(e[1]),column:this._parseInt(e[2])}},this)},e.parseFFOrSafari=function(e){return e.stack.split("\n").filter(function(e){return!e.match(o)},this).map(function(e){if(-1<i.Shims.indexOf(e," > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===i.Shims.indexOf(e,"@")&&-1===i.Shims.indexOf(e,":"))return{function:e};var t=e.split("@"),e=this.extractLocation(t.pop());return{function:t.join("@")||void 0,file:e[0],line:this._parseInt(e[1]),column:this._parseInt(e[2])}},this)},e.parseOpera=function(e){return!e.stacktrace||-1<i.Shims.indexOf(e.message,"\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},e.parseOpera9=function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,i=e.message.split("\n"),n=[],o=2,a=i.length;o<a;o+=2){var r=t.exec(i[o]);r&&n.push({file:r[2],line:this._parseInt(r[1])})}return n},e.parseOpera10=function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=e.stacktrace.split("\n"),n=[],o=0,a=i.length;o<a;o+=2){var r=t.exec(i[o]);r&&n.push({function:r[3]||void 0,file:r[2],line:this._parseInt(r[1])})}return n},e.parseOpera11=function(e){return e.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(e){var t,i=e.split("@"),n=this.extractLocation(i.pop()),e=i.shift()||"",i=e.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return void 0===(t=e.match(/\(([^\)]*)\)/)?e.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"):t)||"[arguments not available]"===t||t.split(","),{function:i,file:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2])}},this)}}(Demandbase=Demandbase||{}),function(e){function n(e,t,i){var n=e.length>>>0,o=Math.min(0|i,n);if(o<0)o=Math.max(0,n+o);else if(n<=o)return-1;if(void 0===t){for(;o!==n;++o)if(void 0===e[o]&&o in e)return o}else if(t!=t){for(;o!==n;++o)if(e[o]!=e[o])return o}else for(;o!==n;++o)if(e[o]===t)return o;return-1}function i(e){for(var t=Object(e[0]),i=1;i<e.length;i++){var n=e[i];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}function t(e){var t,i,n=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=a.length,s=[];for(t in e)n.call(e,t)&&s.push(t);if(o)for(i=0;i<r;i++)n.call(e,a[i])&&s.push(a[i]);return s}(e=e.Shims||(e.Shims={})).console=window.console||{log:function(){},debug:function(){}},e.JSON=window.JSON||{stringify:function(){},parse:function(){}},e.indexOf=function(e,t,i){if(null==e)throw new TypeError("Array.indexOf called on null or undefined");return e.indexOf?e.indexOf(t,i):n(e,t,i)},e.assign=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(Object.assign&&"function"==typeof Object.assign)return Object.assign.apply(null,e);if(null===e[0]||void 0===e[0])throw new TypeError("Cannot convert undefined or null to object");return i(e)},e.includes=function(e,t){if(e instanceof RegExp)throw new TypeError("First argument must not be a RegExp");return-1!==this.indexOf(e,t=void 0===t?0:t)},e.keys=function(e){if(Object.keys)return Object.keys(e);if("function"!=typeof e&&("object"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");return t(e)},e._indexOfPolyfill=n,e._assignPolyfill=i,e._keysPolyfill=t}(Demandbase=Demandbase||{}),function(i){function n(e){var t={referrer:document.referrer,page:document.URL,page_title:document.title};if(i.Config.isInIFrame)try{t.page=window.top.document.URL,t.referrer=window.top.document.referrer,t.page_title=window.top.document.title}catch(e){t.page=document.referrer,t.referrer=null,t.page_title="3rd Party iFrame"}return o(t=i.Shims.assign(t,e))}function o(e){var t,i="?";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(i+=t+"="+encodeURIComponent(e[t])+"&");return i=i.substring(0,i.length-1)}var a,e;a=i.Utilities||(i.Utilities={}),(e=a.Api||(a.Api={})).buildApiParamString=n,e.buildApiUrl=function(e,t){return e=e||a.Constants.URL_IP_API,e+=n(t)},e.buildQueryString=o}(Demandbase=Demandbase||{}),function(e){e.Demandbase.utils=e.Demandbase.utils||{},Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{buildApiParamString:Demandbase.Utilities.Api.buildApiParamString,buildApiUrl:Demandbase.Utilities.Api.buildApiUrl,buildQueryString:Demandbase.Utilities.Api.buildQueryString})}(window),function(n){var e,o;e=n.Utilities||(n.Utilities={}),(o=e.Callbacks||(e.Callbacks={})).callbackStack=[],o.callback=function(i){for(var e=0;e<o.callbackStack.length;e++)!function(e){var t=o.callbackStack[e];n.ErrorReporter.wrap(function(){t.call(n,i)})()}(e)},o.domScriptCallback=function(e){n.IpApi.CompanyProfile=n.Utilities.flatten(e),this.callback(e)},o.registerCallback=function(e){-1===n.Shims.indexOf(o.callbackStack,e)&&(o.callbackStack.push(e),n.IpApi&&n.IpApi.CompanyProfile&&n.ErrorReporter.wrap(function(){e.call(n,n.IpApi.CompanyProfile)})())}}(Demandbase=Demandbase||{}),function(e){e.Demandbase.utils=e.Demandbase.utils||{},Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{callback:Demandbase.Utilities.Callbacks.callback.bind(Demandbase.Utilities.Callbacks),registerCallback:Demandbase.Utilities.Callbacks.registerCallback.bind(Demandbase.Utilities.Callbacks)})}(window),function(e){var t,i;t=e.Utilities||(e.Utilities={}),(i=t.Constants||(t.Constants={})).QS_USE_TEST_DOMAIN="db_useTestDomain",i.QS_QUERY_DOMAIN="db_domain",i.QS_ENABLE_LOG="db_logging",i.QS_PREVIEW_TOKEN="db_preview_token",i.DFLT_NON_COMPANY="(Non-Company Visitor)",i.DFLT_AW_EMPTY="(AccountWatch Empty)",i.DFLT_NON_AW="(Non-AccountWatch Visitor)",i.DFLT_EVENT_TYPE="click",i.URL_IP_API="api.company-target.com/api/v2/ip.json",i.URL_DOMAIN_API="api.demandbase.com/api/v1/domain.json",i.URL_BW_AD_PIXEL=e.Config.tokens.URL_BW_AD_PIXEL||"match.prod.bidr.io/cookie-sync/demandbase",i.URL_LR_AD_PIXEL=e.Config.tokens.URL_LR_AD_PIXEL||"id.rlcdn.com/464526.gif",i.MODIFICATION_ERROR="SCModificationError",i.PARDOT_VISITOR_COOKIE_REGEX=/^visitor_id[\d]+$/,i.NON_HUMAN_DEVICES=[/adsbot-google/i,/googlebot/i],i.URL_CURRENT=(t=document.URL,e.Config.isInIFrame&&(t=document.referrer),t=encodeURIComponent(t)),i.PROTOCOL="https://"}(Demandbase=Demandbase||{}),function(e){e.Demandbase.utils=e.Demandbase.utils||{},Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{tokens:Demandbase.Utilities.Constants})}(window),function(r){var e=(t.prototype.run=function(){var e,t=!1;for(i in this.url)this.url.hasOwnProperty(i)&&(e=this.url[i],r.Utilities.isCurrentPage(e)&&(t=!0));if(t){var i,n,o,a=!1;for(i in this.segments)this.segments.hasOwnProperty(i)&&(n=this.segments[i],void 0!==(o=window.Demandbase.Segments[n])&&o&&(a=!0));if(!a)return r.Utilities.Logging.log("DBContent modify "+this.name+" not fired.  Segment "+n),!1;try{r.Utilities.Logging.log("DBContent: running modify function for: "+this.name),this.modify.call(document)}catch(t){throw t.name=r.Utilities.Constants.MODIFICATION_ERROR,t}return!0}return r.Utilities.Logging.log("DBContent modify "+this.name+" not fired. no URL match with: "+this.url),!1},t);function t(e){this.name=(e=void 0===e?{}:e).name||"",this.modify=e.modify||null,this.segments=e.segments||[],this.url=e.url||[],this.modify||(this.modify=function(){r.Utilities.Logging.log("DBContent: modify function not defined")}),"string"==typeof this.segments&&(this.segments=[this.segments]),"string"==typeof this.url&&(this.url=[this.url])}r.DBContent=e}(Demandbase=Demandbase||{}),function(n){function t(e){if(!e)return!1;var t=["name","segments","pages","modify"];if("function"!=typeof e.modify)return n.Utilities.Logging.log("DBContentBuilder: invalid type in config."),!1;for(var i=0;i<t.length;i++)if(void 0===e[t[i]])return n.Utilities.Logging.log("DBContentBuilder: invalid config missing: "+t[i]),!1;return!0}var e;(e=n.DBContentBuilder||(n.DBContentBuilder={})).isValid=t,e.build=function(e){return t(e)?("string"==typeof e.pages?e.url=[e.pages]:e.url=e.pages,"string"==typeof e.segments&&(e.segments=[e.segments]),new n.DBContent(e)):null}}(Demandbase=Demandbase||{}),function(r){function s(e,t,i){return e?(e.jquery&&(e=e[0]),r.Utilities.addEventListener(e,t,i),r.Utilities.Logging.log("Event Listener bind to: "+e+" on event "+t),!0):(r.Utilities.Logging.log("Event not registered - invalid element/s."),null)}function l(e){for(var t=!1,i=["elements","listener"],n=e.elements||null,o=e.listener||null,a=0;a<i.length;a++)if(void 0===e[i[a]]||!e[i[a]])return r.Utilities.Logging.log("Invalid Event object. Missing: "+i[a]),!1;return"function"!=typeof o?(r.Utilities.Logging.log('Invalid Event: "listener" must be a function. Got ('+o+")"),!1):(n instanceof Node||n instanceof NodeList||n instanceof HTMLElement||n instanceof HTMLCollection||n instanceof Window||n instanceof Document||"function"==typeof n||void 0!==window.Demandbase.jQuery&&n instanceof window.Demandbase.jQuery?t=!0:r.Utilities.Logging.log("Invalid Event:  element: "+n+' has type: "'+n.constructor+'" which is not proper instance type.'),t)}var e;(e=(e=r.Utilities||(r.Utilities={})).Events||(e.Events={})).add=function(e){var t=!0;if(!l(e))return r.Utilities.Logging.log("Event not added."),!1;var i,n=e.type||r.Utilities.Constants.DFLT_EVENT_TYPE,o=e.elements,a=o.constructor;if(a!==HTMLCollection&&a!==NodeList)return s(e.elements,n,e.listener);for(i in o)o.hasOwnProperty(i)&&(s(o[i],n,e.listener)||(t=!1,r.Utilities.Logging.log("Event not added to"+o[i])));return t},e._attachListener=s,e.isValid=l}(Demandbase=Demandbase||{}),function(e){e.Demandbase.utils=e.Demandbase.utils||{},Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{events:Demandbase.Utilities.Events})}(window),function(t){function i(e){!t.Config.logging&&"true"!==t.Utilities.getQueryParam(t.Utilities.Constants.QS_ENABLE_LOG)||t.Shims.console.log("DB: "+e)}var e;(e=(e=t.Utilities||(t.Utilities={})).Logging||(e.Logging={})).logging=!1,e.debug=!1,e.alert=function(e){i(e)},e.log=i}(Demandbase=Demandbase||{}),function(e){e.Demandbase.utils=e.Demandbase.utils||{},Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,{logging:Demandbase.Utilities.Logging.logging,debug:Demandbase.Utilities.Logging.debug,alert:Demandbase.Utilities.Logging.alert.bind(Demandbase.Utilities.Logging),log:Demandbase.Utilities.Logging.log.bind(Demandbase.Utilities.Logging)})}(window),function(l){var e;(e=l.Utilities||(l.Utilities={})).getCookiesByRegex=function(i,e){var n={};return e.cookie.split(";").forEach(function(e){var t=e.split("="),e=t[0].trim();i.test(e)&&1<t.length&&(n[e]=t[1].trim())}),n},e.getElementByIdOrName=function(e){return document.getElementById(e)||document.getElementsByName(e)[0]||null},e.addEventListener=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent&&e.attachEvent(t,i)},e.dig=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var n=e,o=0,a=t;o<a.length;o++){var r=a[o];if(void 0===n)return;n="function"==typeof r?r(n):n[r]}return n},e.flatten=function(e){for(var t in e){var i=e[t];if("object"==typeof i&&null!==i&&e.hasOwnProperty(t)){for(var n in i)e[t+"_"+n]=i[n];delete e[t]}}return e},e.getAttributeValue=function(e,t){if(!1===e[t])return"false";for(var i=l.Config.nonCompanyDefault||l.Utilities.Constants.DFLT_NON_COMPANY,n=l.Config.emptyWatchDefault||l.Utilities.Constants.DFLT_AW_EMPTY,o=e[t]||e[{city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"}[t]||""]||i,i=(e.company_name||i)!==i,a=l.Shims.keys(e),r=!1,s=0;s<a.length;s++)if(0===l.Shims.indexOf(a[s],"watch_list_")){r=!0;break}return-1!==l.Shims.indexOf(t,"watch_list_")&&i&&(r||(n=l.Config.nonWatchDefault||l.Utilities.Constants.DFLT_NON_AW),o=e[t]||n),o},e.getQueryParam=function(e,t){var i={};if(!(t=(t=t||window||{location:{search:"",hash:""}}).location.search.substring(1)||t.location.hash&&t.location.hash.split("?")[1]))return"";for(var n=t.split("&"),o=0;o<n.length;o++){var a=n[o].split("="),r=a[0],a=a[1];i[r]=a}return i[e]||""},e.insertScript=function(e,t,i){var n,o;void 0===i&&(i="https://"),e&&(l._loadedScripts=l._loadedScripts||{},l._loadedScripts[e]||(l._loadedScripts[e]=!0,n=document.createElement("script"),o=document.getElementsByTagName("script")[0],n.async=!0,n.id=t||"",n.src=""+i+e.replace(/(^\/\/)|(^http:\/\/)|(^https:\/\/)/,""),o.parentNode.insertBefore(n,o)))},e.isOldBrowserOrUserAgentUnavailable=function(){try{return 0<l.Shims.indexOf(window.navigator.userAgent,"MSIE ")}catch(e){return!0}},e.b64EncodeUnicode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt("0x"+t,16))}))},e.generateDeprecationMessage=function(e,t){return e+" has been deprecated since version "+t}}(Demandbase=Demandbase||{}),function(e){e.Demandbase.utils=e.Demandbase.utils||{},Demandbase.Shims.assign(e.Demandbase.utils,e.Demandbase.utils,Demandbase.Utilities),Demandbase.Shims.assign(e.Demandbase.utils,Demandbase.utils,{loadScript:Demandbase.Utilities.insertScript,flattenData:Demandbase.Utilities.flatten,getAttrValue:Demandbase.Utilities.getAttributeValue})}(window),function(d){function c(e){var t=document.location.href;return d.Config.isInIFrame&&(t=document.referrer),t=e?e:t}var e;(e=d.Utilities||(d.Utilities={})).detectIFrame=function(){return window.top!==window.self},e.getDocumentReadyState=function(){return document.readyState},e.isCookieEnabled=function(){try{return window.navigator.cookieEnabled&&(document.cookie="COOKIE_TEST=TEST",-1!==d.Shims.indexOf(document.cookie,"COOKIE_TEST=TEST"))?(document.cookie="COOKIE_TEST=PASSED_TEST",!0):!1}catch(e){return!1}},e.isCurrentPage=function(e,t){function i(e){return 0===d.Shims.indexOf(e,"//")?e.substring("//".length,e.length):e.replace(/^.*?:\/\//g,"")}function n(e){return e.replace(/^(www\.)/g,"")}function o(e){return-1!==d.Shims.indexOf(e,"#",e.length-"#".length)&&(e=e.substring(0,e.length-1)),e=-1!==d.Shims.indexOf(e,"/",e.length-"/".length)?e.substring(0,e.length-1):e}var a,r=document.location.hash,s=document.location.search,l=c(t);return t&&(-1===(a=d.Shims.indexOf(t,"#"))&&(a=t.length),r=t.substring(d.Shims.indexOf(t,"#"),t.length),s=t.substring(d.Shims.indexOf(t,"?"),a),l=t),e=o(e=n(e=i(e))),l=o(l=n(l=i(l))),-1===d.Shims.indexOf(e,"#")&&-1!==d.Shims.indexOf(l,"#")&&(l=l.substring(0,l.length-r.length)),e=(l=o(l=-1===d.Shims.indexOf(e,"?")&&-1!==d.Shims.indexOf(l,"?")?l.substring(0,l.length-s.length):l))===e,d.Utilities.Logging.log("utilities.isCurrentPage(): Page check resulted in: "+e),e},e.isCurrentPageRegex=function(e,t){return!!e&&(!(e.length<=0)&&("$"!==(e="^"!==e[0]?"^"+e:e)[e.length-1]&&(e+="$"),t=c(t),new RegExp(e).test(t)))},e.isStorageEnabled=function(e){try{var t=window[e.toString()];return t.setItem("STORAGE_CHECK","STORAGE_CHECK"),t.getItem("STORAGE_CHECK"),t.removeItem("STORAGE_CHECK"),!0}catch(e){return!1}},e.jqid=function(e){return e?"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):null},e.includesAny=function(e,t){for(var i,n,o=0;o<t.length;o++)if(i=e,!(!(n=t[o])||n.length>i.length||-1===d.Shims.indexOf(i,n)))return!0;return!1},e.isValidEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\\/]/g,"\\$&")},e.nodeListToArray=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}}(Demandbase=Demandbase||{}),function(o){var e=(t.prototype.build=function(){this._parseConfig()},t.prototype._parseConfig=function(){var n=this;o.Shims.keys(this.config).forEach(function(e){var t,i=n._testConfigForKey(e);i&&3===i.length&&(t=i[1],i=n.moduleNameToConstructorMap[t],n.nameSpace[e]?o.ErrorReporter.send(new Error("Failed to dynamically create configuration for "+e+" due to previously existing configuration with the same name.")):i?(n.nameSpace[e]=new i(n.config[e]),n.nameSpace[e].isEnabled()&&n.nameSpace[e].initialize()):o.ErrorReporter.send(new Error("No constructor available in moduleNameToConstructor map for module: "+t)))})},t.prototype._testConfigForKey=function(e){return t.REGEX_CUSTOM_MODULE_NAME.exec(e)},t.REGEX_CUSTOM_MODULE_NAME=/(.*)__(.*)/,t);function t(e,t,i){this.config=e,this.moduleNameToConstructorMap=t,this.nameSpace=i}o.ModuleFactory=e}(Demandbase=Demandbase||{}),function(n){var e=(t.prototype.isEnabled=function(){return this.configuration.enabled},t.prototype.mergeConfigs=function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];(e=n.Shims).assign.apply(e,[this.configuration].concat(t))},t);function t(){this.configuration={}}n.BaseModule=e}(Demandbase=Demandbase||{}),function(i){var n,e=(n=i.BaseModule,__extends(t,n),t.prototype.initialize=function(){this.insertPixels(),!0===this.configuration.reportingOnly&&this.configuration.key&&this.configuration.key!==i.Config.key&&i.IpApiReportingOnly.get(this.configuration.key,!1)},t.prototype.isConversionPage=function(){throw new Error(i.Utilities.generateDeprecationMessage("AdvertisingModule.isConversionPage","8.0.0"))},t.prototype.insertPixels=function(){this.configuration.enableBW&&(i.Utilities.Logging.log("BW pixel enabled"),this.insertBWPixel(this.ADVERTISING_PIXEL_ID)),this.configuration.enableLR&&(i.Utilities.Logging.log("LR pixel enabled"),this.insertLRPixel(this.ADVERTISING_PIXEL_ID))},t.prototype.createAndAppendPixel=function(e,t){var i=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0],n=document.createElement("img");n.setAttribute("style","display:none"),n.setAttribute("alt",""),n.setAttribute("aria-hidden","true"),n.setAttribute("width","0"),n.setAttribute("height","0"),n.id=e,n.src=t,i.appendChild(n)},t.prototype.insertBWPixel=function(e){var t=i.Utilities.Constants.PROTOCOL+i.Utilities.Constants.URL_BW_AD_PIXEL;this.createAndAppendPixel("db_bw_pixel_"+e,t)},t.prototype.insertLRPixel=function(e){var t=i.Utilities.Constants.PROTOCOL+i.Utilities.Constants.URL_LR_AD_PIXEL;this.createAndAppendPixel("db_lr_pixel_"+e,t)},t.prototype.insertPixel=function(e){throw new Error(i.Utilities.generateDeprecationMessage("AdvertisingModule.insertPixel","8.0.0"))},t.prototype.loadCampaign=function(){throw new Error(i.Utilities.generateDeprecationMessage("AdvertisingModule.loadCampaign","8.0.0"))},t.prototype.registerEvents=function(){throw new Error(i.Utilities.generateDeprecationMessage("AdvertisingModule.registerEvents","8.0.0"))},t.prototype.trackConversionListener=function(){throw new Error(i.Utilities.generateDeprecationMessage("AdvertisingModule.trackConversionListener","8.0.0"))},t.prototype.virtualPageViewListener=function(){throw new Error(i.Utilities.generateDeprecationMessage("AdvertisingModule.virtualPageViewListener","8.0.0"))},t);function t(e){var t=n.call(this)||this;return t.ADVERTISING_PIXEL_ID="ad",t.CONVERSION_PIXEL_ID="cn",t.RETARGETING_PIXEL_ID="rt",t.DEFAULT_CONFIGURATION={enabled:!0,key:null,reportingOnly:!1,enableBW:!0,enableLR:!0},t.configuration={},t.trackConversion=t.trackConversionListener,t.load=t.initialize,t.loadPixels=t.insertPixels,t._loadPixel=t.insertPixel,t._setCampaign=t.loadCampaign,t._setEvents=t.registerEvents,n.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||i.Config.Advertising),n.prototype.mergeConfigs.call(t,e||i.Config.ads),t}i.AdvertisingModule=e}(Demandbase=Demandbase||{}),function(n){var i,e=(i=n.BaseModule,__extends(t,i),t.prototype.initialize=function(){"complete"===n.Utilities.getDocumentReadyState()?this.read():n.Utilities.addEventListener(window,"load",n.ErrorReporter.wrap(this.read.bind(this)))},t.prototype.read=function(){for(var e=this.configuration.assetList.length,t=0;t<e;t++){var i=this.configuration.assetList[t];document.querySelector("script[src='"+n.Utilities.Constants.PROTOCOL+i+"']")?(this.values[i]=!0,this.send(i)):this.values[i]=!1}},t.prototype.send=function(e){e=new Error(this.ERROR_MESSAGE_PREFIX+e);n.ErrorReporter.send(e)},t);function t(e){var t=i.call(this)||this;return t.DEFAULT_CONFIGURATION={enabled:!0,assetList:["api.demandbase.com/autocomplete/widget.js","api.demandbase.com/autocomplete/widget.min.js","autocomplete.demandbase.com/autocomplete/widget.js","autocomplete.demandbase.com/autocomplete/widget.min.js","scripts.demandbase.com/formWidget.js","scripts.demandbase.com/formWidgetDebug.js","scripts.demandbase.com/demandbase-sdk.js","scripts.demandbase.com/demandbase-sdk-debug.js","scripts.demandbase.com/forms.js","scripts.demandbase.com/forms.min.js"]},t.ERROR_MESSAGE_PREFIX="Legacy Asset Detected: ",t.configuration={},t.values={},i.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||n.Config.AssetReporter),t}n.AssetReporterModule=e}(Demandbase=Demandbase||{}),function(i){var n,e=(n=i.BaseModule,__extends(t,n),t.prototype.initialize=function(){i.Utilities.Callbacks.registerCallback(this.callback.bind(this)),this.setup()},t.prototype.callback=function(){this.setup(),this.modify()},t.prototype.setup=function(){if(void 0!==i.Config.content)for(var e in i.Config.content){e=i.Config.content[e],e=window.Demandbase.DBContentBuilder.build(e);e&&(this.mods[e.name]=e)}},t.prototype.modify=function(){var t=this;return i.ErrorReporter.wrap(function(){for(var e in t.mods)t.mods.hasOwnProperty(e)&&t.mods[e].run()})()},t);function t(e){var t=n.call(this)||this;return t.DEFAULT_CONFIGURATION={enabled:!0},t.configuration={},t.mods={},n.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||i.Config.Content),i.Shims.assign(t.configuration,e||i.Config.content),t}i.ContentModule=e}(Demandbase=Demandbase||{}),function(o){var i,e=(i=o.BaseModule,__extends(t,i),t.prototype.initialize=function(){this.configuration.fireOnLoad&&this.sendDataIfAlreadyPresent(),this.attachListenersIfDocumentReady()},t.prototype.sendDataIfAlreadyPresent=function(){var t=this,e=this.suspectedEmailInputs();e.length<1||e.forEach(function(e){e=e.value;o.Utilities.isValidEmail(e)&&(e=e.split("@")[1].toLowerCase(),t.send(e))})},t.prototype.attachListenersIfDocumentReady=function(){var n=this;"loading"!==o.Utilities.getDocumentReadyState()?this.suspectedEmailInputs().forEach(function(i){i.addEventListener("input",function(){var e,t=i.value;o.Utilities.isValidEmail(t)&&(e=t.split("@")[1].toLowerCase(),window.clearTimeout(n.activeSetTimeout),n.activeSetTimeout=window.setTimeout(function(){n.send(e)},400))})}):document.addEventListener("DOMContentLoaded",this.attachListenersIfDocumentReady.bind(this))},t.prototype.suspectedEmailInputs=function(){var n=this;return o.Utilities.nodeListToArray(document.querySelectorAll(this.configuration.formInputSelectors.join(","))).map(function(e){return e}).filter(function(e){var t=e.name.toLowerCase(),i=e.id.toLowerCase(),e=n.configuration.inputSearchTerms;return!!o.Utilities.includesAny(t,e)||!!o.Utilities.includesAny(i,e)})},t.prototype.send=function(e){var t;window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP"));var i=o.Config.key||o.Utilities.dig(o.Config,"analytics","key")||o.Utilities.dig(o.Config,"ads","key")||o.Utilities.dig(o.Config,"forms","key")||"",i=o.Utilities.b64EncodeUnicode("vendor=mariposa&p1="+e+"&token="+i),i=this.baseUrl+"/l/"+i;try{t.open("GET",i),t.withCredentials=!0,t.setRequestHeader("Content-type","application/json"),t.send()}catch(e){throw e}},t.prototype.responseHandler=function(e){},t);function t(e){var t=i.call(this)||this;return t.DEFAULT_CONFIGURATION={enabled:!0,fireOnLoad:!1,formInputSelectors:['input[type="text"]','input[type="email"]'],inputSearchTerms:["email","user","login"]},t.configuration={},t.baseUrl="https://segments.company-target.com",t.activeSetTimeout=0,i.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||o.Config.EmailDomainReporter),t}o.EmailDomainReporterModule=e}(Demandbase=Demandbase||{}),function(s){var i,e=(i=s.BaseModule,__extends(t,i),t.prototype.initialize=function(){},t.prototype.send=function(e){if(!(-1<s.Shims.indexOf(this.configuration.ignorableErrors,e.name)||-1<s.Shims.indexOf(this.configuration.ignorableErrors,e.message))){var t;window.XMLHttpRequest?t=new XMLHttpRequest:window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP"));var i="https://sentry.io/api/"+this.SENTRY_PROJECT_ID+"/store/?sentry_version=7&sentry_key="+this.SENTRY_PUBLIC_KEY;try{t.open("POST",i,!0),t.setRequestHeader("Content-type","text/plain;charset=UTF-8"),t.send(this.formatMessage(e,!0))}catch(e){}}},t.prototype.wrap=function(i){var n=this;if("function"!=typeof i)throw new Error("Invalid Function: "+i);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{if(void 0!==i&&"function"==typeof i.apply)return i.apply(n,e)}catch(e){n.send(e),s.Utilities.Logging.alert("Error: "+e+"\n"+e.stack)}}},t.prototype.formatMessage=function(e,t){void 0===t&&(t=!1);var i=this.parseError(e),n=this.parseContext(),o=this.parseEnviroment(),a=this.parseSession(),r=this.parseParams(),e=this.additionalErrorDetails;if(t){t=this.formatErrorForSentry(i);return s.Shims.JSON.stringify({logger:n.notifier.name,platform:"javascript",release:n.version,environment:n.environment,request:{url:n.url},contexts:{browser:{userAgent:n.userAgent}},tags:{clientId:o.config.clientId},extra:{readyState:n.readyState,config:o.config,companyProfile:a,additionalErrorDetails:e},exception:{values:[t]}})}return s.Shims.JSON.stringify({errors:[i],context:n,environment:o,session:a,params:r})},t.prototype.formatErrorForSentry=function(e){for(var t=[],i=0,n=e.backtrace;i<n.length;i++){var o=n[i];t.push({function:o.function,filename:o.file,lineno:o.line,colno:o.column})}return{type:e.type,value:e.message,stacktrace:{frames:t}}},t.prototype.parseError=function(e){return{type:e.name,message:e.message,backtrace:s.Utilities.ErrorStackParser.parse(e)}},t.prototype.parseContext=function(){return{notifier:{name:"ErrorReporterModule",version:this.VERSION},environment:this.configuration.environment,version:s.version,url:window.location.href,userAgent:navigator.userAgent,rootDirectory:window.location.origin,readyState:document.readyState}},t.prototype.parseEnviroment=function(){return{config:s.Utilities.dig(s,"Config")}},t.prototype.parseSession=function(){return{companyProfile:s.Utilities.dig(s,"IP","CompanyProfile")}},t.prototype.parseParams=function(){return{}},t);function t(e){var t=i.call(this)||this;return t.VERSION="0.0.0",t.PROJECT_ID="141580",t.PROJECT_KEY="9a0a3519e930259f5886a7af53b0ccaa",t.SENTRY_PROJECT_ID="1190150",t.SENTRY_PUBLIC_KEY="3c9d467f8a9d4295b0f8320ae852091d",t.DEFAULT_CONFIGURATION={environment:"production",ignorableErrors:[]},t.configuration={},t.additionalErrorDetails={},i.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||s.Config.ErrorReporter),t}s.ErrorReporterModule=e}(Demandbase=Demandbase||{}),function(i){var n,e=(n=i.BaseModule,__extends(t,n),t.prototype.initialize=function(){i.Utilities.Callbacks.registerCallback(this.whenReady.bind(this))},t.prototype.whenReady=function(){this.isMktoForms2Installed()?window.MktoForms2.whenReady(i.ErrorReporter.wrap(this.load.bind(this))):this.load()},t.prototype.load=function(){("function"==typeof i.Config.isFormPage?(i.Config.isFormPage(),this.setConfiguration(),i.Config.isFormPage()):this.isFormPage())&&!this.inserted&&this.insertForms()},t.prototype.isFormPage=function(){var e=this.configuration.emailFields;this.configuration.emailID&&e.push(this.configuration.emailID);for(var t=0;t<e.length;t++)if(i.Utilities.getElementByIdOrName(e[t]))return!0;return!1},t.prototype.isMktoForms2Installed=function(){return void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady},t.prototype.insertForms=function(){this.inserted=!0,i.Connectors.initWebForm=this.initializeWebForm,i.Utilities.insertScript(i.FormsLoader.FORMS_REMOTE_MODULE_URL,"db_form_module")},t.prototype.initializeWebForm=function(e){e=e||i.Config.forms||i.Config.Forms||{},window.Demandbase.Connectors.WebForm.connect(e)},t.prototype.setConfiguration=function(e){n.prototype.mergeConfigs.call(this,this.DEFAULT_CONFIGURATION,e||i.Config.Forms),void 0===this.configuration.enabled&&void 0!==i.Config.Forms&&(this.configuration.enabled=!0),n.prototype.mergeConfigs.call(this,this.DEFAULT_CONFIGURATION,e||i.Config.forms),void 0===this.configuration.enabled&&void 0!==i.Config.forms&&(this.configuration.enabled=!0)},t);function t(e){var t=n.call(this)||this;return t.FORMS_REMOTE_MODULE_URL="tag.demandbase.com/shared/forms_2343aad66e.min.js",t.DEFAULT_CONFIGURATION={enabled:void 0,emailID:null,emailFields:[]},t.configuration={},t.inserted=!1,t.setConfiguration(e),t}i.FormsLoaderModule=e}(Demandbase=Demandbase||{}),function(i){var n,e=(n=i.BaseModule,__extends(t,n),t.prototype.initialize=function(){i.Utilities.Callbacks.registerCallback(this.callback.bind(this))},t.prototype.callback=function(e){this.configuration.companyProfile=e,this.insertSiteOptimization()},t.prototype.insertSiteOptimization=function(){this.inserted=!0,i.Utilities.insertScript(i.SiteOptimizationLoader.SO_REMOTE_MODULE_URL,"db_site_optimization_module")},t);function t(e){var t=n.call(this)||this;return t.SO_REMOTE_MODULE_URL="https://tag.demandbase.com/shared/siteOptimization_2343aad66e.min.js",t.REMOTE_STYLESHEET_URL="https://tag.demandbase.com/shared/siteOptimization_2343aad66e.css",t.DEFAULT_CONFIGURATION={additionalClass:null,backgroundColorClass:null,closedTitle:"Recommended Content",companyProfile:null,cssFileURL:t.REMOTE_STYLESHEET_URL,delay:0,enabled:void 0,fadeIn:0,fontColor:null,fontName:null,googleAnalyticsTrackerName:null,isGoogleAnalyticsEnabled:!1,isRippleAnimation:!0,isSwitchersDots:!0,isSwitchersArrows:!1,itemBackgroundColor:null,mainClass:"defaultBlock",openByDefault:!1,openTitle:null,recommendationApiURL:"https://site-optimization-api.company-target.com/recommend/",recommendationCompanyName:null,recommendationCompanyId:null,recommendationKey:null,recommendationsProtocol:"forceHTTPS",recommendationUrl:window.location.href,showCloseButton:!0,showCompanyName:!0,showFeedbackLink:!1,showIndicatorArrows:!0,showLogo:!0,showLogoWhenClosed:!0,showLogoWhenOpen:!1,showOnlyOnScroll:!1,showTitleWhenClosed:!0,showTitleWhenOpen:!0,switcherArrowsColor:"#444",state:{openedRecommendationBlock:null},widgetBackgroundColor:null,widgetContainerId:null},t.configuration={},t.inserted=!1,n.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||i.Config.SiteOptimization),t.configuration.recommendationKey=i.Config.key,t}i.SiteOptimizationLoaderModule=e}(Demandbase=Demandbase||{}),function(r){var i,e=(i=r.BaseModule,__extends(t,i),t.prototype.initialize=function(){this._detectG(),this._setTrackerName(),this.configuration.fieldMap&&"{}"!==r.Shims.JSON.stringify(this.configuration.fieldMap)&&r.Utilities.Callbacks.registerCallback(this.callback.bind(this)),this._setEvents()},t.prototype.sendEvent=function(e,t,i){"ga"===this.gType?this._trackEvent(e,t,i):window.ga(function(){r.Connectors.Google_Analytics._sendEvent(e,t,i)}),r.Utilities.Logging.log("Sent Custom Event:"+e+"/"+t+"/"+i)},t.prototype._setTrackerName=function(){var a=this;if(!this.configuration.trackerName){var e=void 0!==window.ga;if(void 0!==window._gat&&"function"==typeof window._gat._getTrackers){var t=_gat._getTrackers();if(void 0!==t.length&&0<t.length){if(this.configuration.trackerId)for(var i=0;i<t.length;i++)if(0<t[i]._getName().length){var n=t[i]._getName();if(t[i]._getAccount()===this.configuration.trackerId&&!this.configuration.trackerName)return void(this.configuration.trackerName=n)}var o=t[0]||null;o&&"function"==typeof o._getName&&(o=o._getName()||null,this.configuration.trackerName||(this.configuration.trackerName=o))}}e&&window.ga(function(){var e,t=window.ga.getAll()||[];if(a.configuration.trackerId)for(var i=0;i<t.length;i++){var n,o=(n=t[i]).get("name");if(n.get("trackingId")===a.configuration.trackerId)return void(a.configuration.trackerName=o)}void 0!==t.length&&0<t.length&&(n=t[0]||null)&&"function"==typeof n.get&&(e=n.get("name")||null,a.configuration.trackerName=e)})}},t.prototype.callback=function(e){try{if(!e)throw new Error("Error - no data passed to callback");var t,i,n,o,a=r.Connectors.Google_Analytics;for(t in a._detectG(),a._setTrackerName(),a.configuration.fieldMap)a.configuration.fieldMap.hasOwnProperty(t)&&(i=+t,n=a.configuration.fieldMap[t],o=r.Utilities.getAttributeValue(e,n),a._var(i,n,o.toString()));a.sendEvent("Demandbase","API Resolution","IP API")}catch(e){r.Utilities.Logging.log("GA Error: "+e+"\n"+e.stack),r.Connectors.Google_Analytics.sendEvent("Demandbase","API Resolution","Callback Error")}},t.prototype._detectG=function(){window._gaq?(this.gType="ga",_gaq.push(["_addDevId","NE7T9"])):this.gType=null,this._setGaObject();try{window.ga(function(){r.Connectors.Google_Analytics.gType="ua"})}catch(e){r.Connectors.Google_Analytics.gType="ua"}r.Utilities.Logging.log("Detected Google version: "+this.gType)},t.prototype._sendEvent=function(e,t,i){var n=this.configuration.trackerName?this.configuration.trackerName+".send":"send";window.ga(n,"event",{eventCategory:e,eventAction:t,eventLabel:i,nonInteraction:!0})},t.prototype._setCustomDimension=function(e,t){var i=this.configuration.trackerName?this.configuration.trackerName+".set":"set";window.ga(i,"dimension"+e,t)},t.prototype._setCustomVariable=function(e,t,i){var n=this.configuration.trackerName?this.configuration.trackerName+"._setCustomVar":"_setCustomVar",o=this.configuration.googleAnalyticsClassicScope||2;window._gaq.push([n,e>>0,t,i,o])},t.prototype._setEvents=function(){var e,t,i,n=this.configuration.events||[];if(n)for(var o in n)n.hasOwnProperty(o)&&((o=n[o]).data&&(e=o.data.category||"",t=o.data.action||"",i=o.data.label||"",void 0===o.listener&&e&&t&&i?o.listener=function(){r.Connectors.Google_Analytics.sendEvent(e,t,i),r.Utilities.Logging.log("Event listener ran")}:e&&t&&i||r.Utilities.Logging.log("Need to define a custom listener function or set data with category/action/label")),r.Utilities.Events.add(o))},t.prototype._setGaObject=function(){void 0===window.ga&&(window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date)},t.prototype._trackEvent=function(e,t,i){var n=this.configuration.trackerName?this.configuration.trackerName+"._trackEvent":"_trackEvent";window._gaq.push([n,e,t,i,0,1])},t.prototype._var=function(e,t,i){"ga"===this.gType?this._setCustomVariable(e,t,i):window.ga(function(){r.Connectors.Google_Analytics._setCustomDimension(e,i)}),r.Utilities.Logging.log(e+" "+t+" : "+i)},t);function t(e){var t=i.call(this)||this;return t.DEFAULT_CONFIGURATION={enabled:!0,events:null,fieldMap:null,googleAnalyticsClassicScope:2,trackerName:null,trackerId:null},t.configuration={},t.gType="",t._cEvent=t.sendEvent,i.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||r.Config.Google_Analytics),i.prototype.mergeConfigs.call(t,e||r.Config.analytics),t}r.BaseGoogle_AnalyticsModule=e}(Demandbase=Demandbase||{}),function(e){var t,i=(t=e.BaseGoogle_AnalyticsModule,__extends(n,t),n.prototype.getTrackerInfo=function(){var t=[],i=[];return void 0!==window._gaq&&void 0!==window._gat&&"function"==typeof window._gat._getTrackers&&window._gat._getTrackers().forEach(function(e){0<e._getName().length&&t.push({type:"classic",trackerId:e._getAccount(),name:e._getName()})}),void 0!==window.ga&&void 0!==window.ga.getAll&&window.ga.getAll().forEach(function(e){i.push({type:"universal",trackerId:e.get("trackingId"),name:e.get("name")})}),i.concat(t)},n);function n(){return null!==t&&t.apply(this,arguments)||this}e.Google_AnalyticsModule=i}(Demandbase=Demandbase||{}),function(i){var n,e=(n=i.BaseModule,__extends(t,n),t.prototype.initialize=function(){i.Utilities.Callbacks.registerCallback(this.callback.bind(this))},t.prototype.callback=function(e){i.Connectors.Google_TagManager.pushToDataLayer(e)},t.prototype.pushToDataLayer=function(e,t){if(!window.google_tag_manager||!window.dataLayer||"function"!=typeof dataLayer.push)return!1;t=t?"_"+t:"";return dataLayer.push(e),dataLayer.push({event:"Demandbase_Loaded"+t}),i.Utilities.Logging.log("Pushed to GTM dataLayer"),!0},t);function t(e){var t=n.call(this)||this;return t.DEFAULT_CONFIGURATION={enabled:!0},t.configuration={},n.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,e||i.Config.Google_TagManager),t}i.Google_TagManagerModule=e}(Demandbase=Demandbase||{}),function(a){var i,e=(i=a.BaseModule,__extends(t,i),t.prototype.initialize=function(){try{a.Shims.assign(this.configuration,this.configuration,{apiKey:a.Config.key||a.Utilities.dig(a.Config,"analytics","key")||a.Utilities.dig(a.Config,"ads","key")||a.Utilities.dig(a.Config,"forms","key"),testModeEnabled:a.Utilities.getQueryParam(this.TEST_MODE_ENABLED)||a.Config.useTestIp,testModeValue:a.Utilities.getQueryParam(this.TEST_MODE_VALUE)||a.Config.testIp}),this.initialized=!0}catch(e){this.initialized=!1,a.ErrorReporter.send(e)}},t.prototype.buildIPAPIParameters=function(e){var t={query:this.fetchIpAddress(),mas_integrations:void 0,src:"tag"};return a.Config.isVoltronEnabled?a.Shims.assign(t,{auth:e||this.configuration.apiKey}):a.Shims.assign(t,{key:e||this.configuration.apiKey})},t.prototype.get=function(e,t){var i,n=this;if(void 0===e&&(e=void 0),void 0===t&&(t=!0),this.initialized||this.initialize(),window.XMLHttpRequest?i=new XMLHttpRequest:window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLHTTP")),!i||a.Utilities.isOldBrowserOrUserAgentUnavailable())return this.getByDomScript(e,t),a.Utilities.Logging.log("IP API query via DOM tag");var o=this.buildIPAPIParameters(e),e=a.Utilities.getQueryParam(a.Utilities.Constants.QS_PREVIEW_TOKEN);if(e&&(o.preview_token=e),!o.key&&!o.auth)return a.Utilities.Logging.log("IP API query cancelled - check auth key.");this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot?o.mas_integrations=a.Utilities.b64EncodeUnicode(a.Shims.JSON.stringify({pardot:this.fetchOrPollForPardotCookie()||{}})):a.Utilities.Logging.log("No Pardot integration in config, skipping cookie sync"),t&&(i.onreadystatechange=a.ErrorReporter.wrap(function(){n.responseHandler(i)}));try{i.open("GET","https://"+a.Utilities.Api.buildApiUrl(this.configuration.baseUrl,o)),void 0!==i.withCredentials&&(i.withCredentials=!0),i.send()}catch(e){if(0!==i.status)throw e;if(!this.isIgnorableDevice())throw new Error("IP API Request Blocked")}},t.prototype.isIgnorableDevice=function(){for(var e=0;e<a.Utilities.Constants.NON_HUMAN_DEVICES.length;e++)if(a.Utilities.Constants.NON_HUMAN_DEVICES[e].test(window.navigator.userAgent))return!0;return!1},t.prototype.getByDomScript=function(e,t){void 0===t&&(t=!0);t=a.Shims.assign({},this.buildIPAPIParameters(e=void 0===e?void 0:e),{callback:t?"Demandbase.Utilities.Callbacks.domScriptCallback":""});if(!t&&!t.auth)return a.Utilities.Logging.log("IP API query cancelled - check auth key.");a.Utilities.insertScript(a.Utilities.Api.buildApiUrl(this.configuration.baseUrl,t),"db_ip_api")},t.prototype.getOnce=function(){this.isCalled?a.Utilities.Logging.log("IP API call halted. Already called."):(this.isCalled=!0,this.get())},t.prototype.fetchIpAddress=function(){if(this.configuration.testModeEnabled)return this.configuration.testModeValue},t.prototype.responseHandler=function(e){if(4===e.readyState&&200===e.status){var t=e.responseText;try{var i=a.Shims.JSON.parse(t);this.parseResponseForExperiences(i),this.CompanyProfile=a.Utilities.flatten(i),a.Utilities.Callbacks.callback(this.CompanyProfile)}catch(i){throw a.ErrorReporter.additionalErrorDetails={status:e.status,readyState:e.readyState,url:e.responseURL,body:t},"string"==typeof t&&t?i:new Error("responseText should be text and not empty")}}},t.prototype.parseResponseForExperiences=function(e){return e&&e.hasOwnProperty("experiences")&&(a.Utilities.Logging.log("IpAPI.parseResponseForExperiences(): Experiences present in IP API response."),this.experiences=e.experiences),this.experiences},t.prototype.fetchOrPollForPardotCookie=function(){if(this.configuration.masIntegrations&&this.configuration.masIntegrations.pardot){var e=a.Utilities.getCookiesByRegex(a.Utilities.Constants.PARDOT_VISITOR_COOKIE_REGEX,document);if("object"==typeof e&&0<a.Shims.keys(e).length)return a.Utilities.Logging.log("Found Pardot cookie, including in API request"),e;!1!==(this.configuration.enablePardotPolling&&0===this.pollForPardotStart)&&(a.Utilities.Logging.log("Pardot cookie not found, initiating polling"),this.pollForPardotCookie())}else a.Utilities.Logging.log("No Pardot integration in config, skipping cookie sync")},t.prototype.pollForPardotCookie=function(){var e=this;0===this.pollForPardotStart&&(this.pollForPardotStart=Date.now(),a.Utilities.Logging.log("Pardot cookie polling started at "+this.pollForPardotStart)),Date.now()-this.pollForPardotStart>this.pardotMaxPollWindow?a.Utilities.Logging.log("Pardot cookie not found within "+this.pardotMaxPollWindow+" ms"):this.fetchOrPollForPardotCookie()?(a.Utilities.Logging.log("Pardot cookie found, making second API call"),this.get(void 0,!1)):window.setTimeout(function(){e.pollForPardotCookie()},100)},t);function t(e){var t=i.call(this)||this;t.TEST_MODE_ENABLED="db_useTestIp",t.TEST_MODE_VALUE="db_ip",t.API_ENDPOINT="api.company-target.com/api/v2/ip.json",t.DEFAULT_CONFIGURATION={apiKey:null,baseUrl:t.API_ENDPOINT,testModeEnabled:!1,testModeValue:null,masIntegrations:{pardot:!1},enablePardotPolling:!0},t.configuration={},t.initialized=!1,t.pollForPardotStart=0,t.pardotMaxPollWindow=5e3,t.key=t.configuration.apiKey,t.useTestValue=t.configuration.testModeEnabled,t.testValue=t.configuration.testModeValue,t.load=t.get,t._loadOnce=t.getOnce,t.CompanyProfile=void 0,t.isCalled=!1,t.experiences={};try{i.prototype.mergeConfigs.call(t,t.DEFAULT_CONFIGURATION,{apiKey:a.Config.key||a.Utilities.dig(a.Config,"analytics","key")||a.Utilities.dig(a.Config,"ads","key")||a.Utilities.dig(a.Config,"forms","key"),testModeEnabled:a.Utilities.getQueryParam(t.TEST_MODE_ENABLED)||a.Config.useTestIp,testModeValue:a.Utilities.getQueryParam(t.TEST_MODE_VALUE)||a.Config.testIp},e||a.Config.IpApiModule),t.initialized=!0}catch(e){t.initialized=!1}return t}a.IpApiModule=e}(Demandbase=Demandbase||{}),function(a){var i,e=(i=a.BaseModule,__extends(t,i),t.prototype.isEnabled=function(){return!0===this.configuration.isEnabled||!0===this.configuration.enabled},t.prototype.initialize=function(){this.isEnabled()?(a.Utilities.Logging.log("SiteCustomization.initialize(): Initializing..."),this.setup(),this.fireExperienceByQueryParameter(),a.Utilities.Callbacks.registerCallback(this.callback.bind(this))):a.Utilities.Logging.log("Site Customization is currently disabled, will not fire.")},t.prototype.callback=function(){a.Utilities.Logging.log("SiteCustomization.callback(): Invoked! Setting up SC and firing."),this.setup(),this.fireSiteCustomization()},t.prototype.setup=function(e){if(e||!this.initialized){if(void 0!==this.configuration.experiences){var t,i=this.configuration.experiences||{},n=a.Shims.keys(i)||[];for(t in a.Utilities.Logging.log("SiteCustomization.setup(): Wrapping "+n.length+" expeirences for setup"),n){var o=i[n[t]],o=new r(o);o&&(this.wrappedExperiences[o.id]=o)}this.initialized=!0}}else a.Utilities.Logging.log("SiteCustomization.setup(): already initilaized! not running setup again.")},t.prototype.fireSiteCustomization=function(){var i=this,n=!1;return a.ErrorReporter.wrap(function(){var e,t=a.IpApi.experiences;for(e in a.Utilities.Logging.log("fireSiteCustomization(): Running for IP API experiences: "+JSON.stringify(t,null,4)),t)t[e]&&t[e].hasOwnProperty("id")?(i.applyExperience(t[e].id),n=!0):a.Utilities.Logging.log("fireSiteCustomization(): Error firing SC experience. IP API response does not contain valid experiences.")})(),n},t.prototype.fireExperienceById=function(e){return this.setup(),a.Utilities.Logging.log("fireExperienceById(): Firing by experience id: "+e),this.applyExperience(e,!0)},t.prototype.fireExperienceByQueryParameter=function(){var e=a.Utilities.getQueryParam(this.SC_QUERY_PARAMETER_FORCE_FIRE);return""!==e&&(a.Utilities.Logging.log("fireExperienceByQueryParameter(): Firing experience id: "+e+" now"),this.setup(),this.applyExperience(e,!0))},t.prototype.applyExperience=function(e,t){if(void 0===t&&(t=!1),this.wrappedExperiences.hasOwnProperty(e)){var i=this.wrappedExperiences[e];return i?t?i.forceRun():i.run():(a.Utilities.Logging.log("applyExperience(): Experience ID: "+e+" modobj not truthy: "+JSON.stringify(i)),!1)}return a.Utilities.Logging.log("applyExperience(): Experience ID: "+e+" not found in "+JSON.stringify(this.wrappedExperiences,null,4)),!1},t);function t(e){var t=i.call(this)||this;return t.DEFAULT_CONFIGURATION={isEnabled:!1,experiences:{}},t.SC_QUERY_PARAMETER_FORCE_FIRE="db_sc_experience_by_id",t.configuration=a.Shims.assign({},t.DEFAULT_CONFIGURATION),t.wrappedExperiences={},t.initialized=!1,i.prototype.mergeConfigs.call(t,t.configuration,t.DEFAULT_CONFIGURATION,a.Config.SiteCustomization,e),t}a.SiteCustomizationModule=e;var r=(n.prototype.forceRun=function(){try{return a.Utilities.Logging.log("Experience.forceRun: running modify function for: "+this.name),this.modify.call(document),!0}catch(e){throw e.name=a.Utilities.Constants.MODIFICATION_ERROR,e}},n.prototype.run=function(){return this.isEnabled?this.doesPageMatch()?(a.Utilities.Logging.log("Experience.run(): Experience named: "+this.name+" url matched and will run."),this.forceRun()):(a.Utilities.Logging.log("Experience.run(): SiteCustomization modify "+this.name+" not fired. no URL match with: "+JSON.stringify(this.pages)),!1):(a.Utilities.Logging.log("Experience.run(): Experience named: "+this.name+" is currently disabled, will not fire."),!1)},n.prototype.doesPageMatch=function(){var e,t=!1;for(e in this.pages)a.Utilities.isCurrentPage(this.pages[e])&&(t=!0);return t},n);function n(e){this.exp=e,this.isEnabled=!1,this.id="",this.name="",this.pages=e.pages||[],this.pages instanceof Array||(this.pages=[this.pages]),this.isEnabled=e.isEnabled||!1,this.name=e.name||"",this.id=e.id||"",this.modify=e.modify||function(){}}a.Experience=r}(Demandbase=Demandbase||{}),function(i){var e=(t._callback=function(e){e.domain||e.person?(e=e.domain||e.person,i.Utilities.flatten(e),this.CompanyProfile=e):i.Utilities.Logging.log("Demandbase.Domain: No company profile available for domain: "+this.getDomain())},t.load=function(){var e,t;"function"==typeof i.Config.getDomain&&void 0!==this.key?(e="",t={},e=this.useTestValue?this.testValue:this.getDomain(),t={key:this.key,callback:"Demandbase.Domain._callback",query:e,src:"tag"},i.Utilities.Logging.log("Calling Domain API..."),i.Utilities.insertScript(i.Utilities.Api.buildApiUrl(i.Utilities.Constants.URL_DOMAIN_API,t),"db_domain_api")):i.Utilities.Logging.log("Domain API query cancelled - check auth key or Config.getDomain")},t.getDomain=function(){return this.useTestValue?this.testValue:"function"==typeof i.Config.getDomain?i.Config.getDomain.call(i.Config):(i.Utilities.Logging.log("Warning: Config.getDomain fcn not defined."),"getDomain function is not defined")},t.key=i.Utilities.dig(i,"Config","key")||i.Utilities.dig(i,"Config","analytics","key")||i.Utilities.dig(i,"Config","ads","key")||i.Utilities.dig(i,"Config","forms","key")||"ERR_NO_AUTH_KEY",t.CompanyProfile=null,t.useTestValue="true"===i.Utilities.getQueryParam(i.Utilities.Constants.QS_USE_TEST_DOMAIN)||i.Config.useTestDomain||!1,t.testValue=i.Utilities.getQueryParam(i.Utilities.Constants.QS_QUERY_DOMAIN)||i.Config.testDomain||"No Test Domain Set",t);function t(){}i.Domain=e}(Demandbase=Demandbase||{}),void 0===window.__db&&(__db={segments:null,conditions:null}),window.Demandbase.DBCondition=function(e,t,i,n,o){this.name=e,this.attributeValue=t,this.operator=i,this.value=n,this.attributeName=o,this._checkValue=function(e){switch(i){case"equals":return this.attributeValue==e;case"not equals":return this.attributeValue!==e;case"contains":return-1!==Demandbase.Shims.indexOf(this.attributeValue,e);default:return!1}},this.evaluate=function(){if(i=this.operator.toLowerCase(),i=window.Demandbase.DBCondition.prototype.supportedOperators[i],"object"!=typeof this.value)return this._checkValue(this.value);for(var e in this.value)if(!0===this._checkValue(this.value[e]))return!0;return!1}},window.Demandbase.DBCondition.prototype.name="DBCondition",window.Demandbase.DBCondition.prototype.supportedOperators={"=":"equals","==":"equals",equal:"equals",equals:"equals","!=":"not equals","!==":"not equals","not equal":"not equals","not equals":"not equals",contains:"contains",contain:"contains"},window.Demandbase.DBConditionBuilder={isValid:function(e){for(var t=["name","attributeValue","operator","value","attributeName"],i=0;i<t.length;i++)if(void 0===e[t[i]])return!1;return!0},build:function(e,t){if(e&&!e.name)return null;if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return e;if(e.attributeName||(e.attributeName=e.attribute||"NO_ATTR_SET"),e.attributeValue=t[e.attribute]||"",!this.isValid(e))return null;var i=e.name,n=e.attributeValue,o=e.operator,t=e.value,e=e.attributeName;return new window.Demandbase.DBCondition(i,n,o,t,e)}};var Demandbase,DBSegment=function(e,t){this.name=e,this.rules=[],this.operator="",this.addCondition=function(e){if(!(e&&e.evaluate||void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)){if(!(e=window.Demandbase.DBConditionBuilder.build(e,window.Demandbase.Segments.CompanyProfile)))throw new Error("Invalid Condition: "+e.name);Demandbase.Utilities.Logging.log("DBSegmentBuilder converted condition successfully...")}switch(this.rules.push(e),this.operator||DBSegment.prototype.supportedOperators.any){case"and":return this.value=this.value&&e.evaluate();case"or":return this.value=this.value||e.evaluate();default:return e.evaluate()}},this.value=this.addCondition(t)};DBSegment.prototype.name="DBSegment",DBSegment.prototype.supportedOperators={"&&":"and","&":"and",and:"and","||":"or","|":"or",or:"or",any:"or",all:"and"},window.Demandbase.DBSegmentBuilder={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},isValid:function(e){for(var t=["name","operator","rules"],i=0;i<t.length;i++)if(void 0===e[t[i]])return!1;return!!this.isArray(e.rules)},build:function(e){if(!this.isValid(e))return null;var t,i,n=e.name,o=e.rules[0],a=e.operator;if(o){if((t=new DBSegment(n,o)).operator=DBSegment.prototype.supportedOperators[a]||DBSegment.prototype.supportedOperators.any,1<e.rules.length)for(var r=1;r<e.rules.length;r+=1)void 0!==(o=e.rules[r]).constructor.prototype.name&&"DBCondition"===o.constructor.prototype.name||(i=window.Demandbase.DBConditionBuilder.build(o,void 0))&&(o=i),t.addCondition(o);return t}}},window.Demandbase.Segments=window.Demandbase.Segments||{name:"Demandbase Segments",CompanyProfile:null,AccountWatchVisitor:!1,IsCompany:!1,version:"1.2.2",_debug:!1,_allConditions:[],_allSegments:[],_isInitialized:!1,_setup:function(){for(var e in this._isInitialized&&this._reset(),this.CompanyProfile||!window.Demandbase.IP&&!window.Demandbase.Domain||(this.CompanyProfile=window.Demandbase.IP.CompanyProfile||window.Demandbase.Domain.CompanyProfile||{}),"Detailed"===this.CompanyProfile.information_level&&(this.IsCompany=!0),this.CompanyProfile)this.CompanyProfile.hasOwnProperty(e)&&0===Demandbase.Shims.indexOf(e,"watch_list_")&&(this.AccountWatchVisitor=!0);for(var t in this._allConditions)this._allConditions.hasOwnProperty(t)&&this._allConditions[t]&&(void 0===this._allConditions[t].constructor.prototype.name||"DBCondition"!==this._allConditions[t].constructor.prototype.name)&&this.add("condition",this._allConditions[t]);for(var i in this._allSegments)this._allSegments.hasOwnProperty(i)&&this._allSegments[i].name&&(void 0===this._allSegments[i].constructor.prototype.name||"DBSegment"!==this._allSegments[i].constructor.prototype.name)&&this.add("segment",this._allSegments[i])},_reset:function(){this._allConditions=Demandbase.Config.conditions||__db.conditions||[],this._allSegments=Demandbase.Config.segments||__db.segments||[]},load:function(){Demandbase.Utilities.Callbacks.registerCallback(this.init.bind(this))},init:function(e){window.Demandbase.Segments._debug=Demandbase.Utilities.Logging.debug||!1,window.Demandbase.Segments._allConditions=Demandbase.Config.conditions||__db.conditions||[],window.Demandbase.Segments._allSegments=Demandbase.Config.segments||__db.segments||[];var t=window.Demandbase.Segments;t.CompanyProfile=e,t._setup(),t._isInitialized=!0},getActiveSegments:function(){var e,t=[];for(e in this._allSegments)this._allSegments.hasOwnProperty(e)&&this._allSegments[e].value&&t.push(this._allSegments[e]);return t},getInactiveSegments:function(){var e,t=[];for(e in this._allSegments)this._allSegments.hasOwnProperty(e)&&(this._allSegments[e].value||t.push(this._allSegments[e]));return t},add:function(e,t){if(!e||!t||t=={})return Demandbase.Utilities.Logging.log("Demandbase.Segments.add operation failed due to invalid/empty parameters."),null;if("condition"===e){for(var i,n=this._allConditions.length,o=0;o<this._allConditions.length;o++)if(this._allConditions[o].name===t.name){n=o;break}(i=window.Demandbase.DBConditionBuilder.build(t,this.CompanyProfile))?this._allConditions[n]=i:Demandbase.Utilities.Logging.log("Invalid Condition (not created) from: "+Demandbase.Shims.JSON.stringify(t)),void 0!==t.standalone&&!1===t.standalone||(a=t.name,this.add("segment",{name:a,rules:[a],operator:DBSegment.prototype.supportedOperators.any}))}else if("segment"===e){if("segment"!==this.isValid(t))return null;for(var a=void t.name,r=void 0,s=this._allSegments.length,l=t.rules||[],d=0;d<this._allSegments.length;d++)if(this._allSegments[d].name===t.name){s=d;break}for(var c=0;c<l.length;c++){var u=l[c];DBSegment.prototype.supportedOperators[u]||((r=!DBSegment.prototype.supportedOperators[u]?this.get("condition",u):r)?l[c]=r:Demandbase.Utilities.Logging.log("Segment: "+t+" uses a Condition ("+l[c]+") that is not defined."))}if(t.rules=l,a=window.Demandbase.DBSegmentBuilder.build(t))if(this._allSegments[s]=a,this.hasOwnProperty(a.name))this[a.name]=a;else try{Object.defineProperty(this,a.name,{value:a.value,writable:!0})}catch(e){window.Demandbase.Segments[a.name]=a.value}else Demandbase.Utilities.Logging.log("Invalid Segment (not created) from: "+Demandbase.Shims.JSON.stringify(t))}else Demandbase.Utilities.Logging.log('Invalid "type" parameter ('+e+') passed to "add" function.  Must be "segment" or "condition".')},get:function(e,t){var i,n=[];if(1===arguments.length&&(t=e),"condition"===e){if(void 0!==t.constructor.prototype.name&&"DBCondition"===t.constructor.prototype.name)return t;n=this._allConditions}else{if(void 0!==t.constructor.prototype.name&&"DBSegment"===t.constructor.prototype.name)return t;n=this._allSegments}for(i in n)if(this._allConditions[i].name===t)return this._allConditions[i];return DBSegment.prototype.supportedOperators[t]||Demandbase.Utilities.Logging.log('No item with type: "'+e+'" found with name: '+t),null},isValid:function(e){var t,i=["name","rules"],n=["name","attribute","operator","value"];if(!e)return!1;if(void 0!==e.constructor.prototype.name&&"DBSegment"===e.constructor.prototype.name)return"segment";if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return"condition";try{if(e.hasOwnProperty("name")&&e.hasOwnProperty("rules")){if("object"==typeof e.rules)return"segment"}else for(var o in i)if(!e.hasOwnProperty(i[o]))return Demandbase.Utilities.Logging.log('Invalid DBSegment definition.  Missing property:"'+i[o]+'"'),!1;if(t)return t;for(var o in n){if(!e.hasOwnProperty(n[o]))return Demandbase.Utilities.Logging.log('Invalid DBCondition definition.  Missing property:"'+n[o]+'"'),!1;t="condition"}return t}catch(e){return Demandbase.ErrorReporter.send(e),!1}}},function(t){t.initialize=function(e){t._isInitialized&&!e||(t._isInitialized=!0,null==t.Config.isInIFrame&&(t.Config.isInIFrame=t.Utilities.detectIFrame()),t.AssetReporter=new t.AssetReporterModule,t.AssetReporter.isEnabled()&&t.AssetReporter.initialize(),t.Advertising=new t.AdvertisingModule,t.Ads=t.Advertising,t.Advertising.isEnabled()&&(t.IpApiReportingOnly=new t.IpApiModule,t.Advertising.initialize()),t.IpApi=new t.IpApiModule,t.IP=t.IpApi,t.IpApi.getOnce(),window.Demandbase.Segments.load(),t.Config.callback&&t.Utilities.Callbacks.registerCallback(t.Config.callback),t.FormsLoader=new t.FormsLoaderModule,t.FormsLoader.isEnabled()&&(t.FormsLoader.initialize(),window.Demandbase.utils.loadFormModule=t.FormsLoader.load.bind(t.FormsLoader),window.Demandbase.utils.isFormPage=t.FormsLoader.isFormPage.bind(t.FormsLoader)),t.SiteOptimizationLoader=new t.SiteOptimizationLoaderModule,t.SiteOptimizationLoader.isEnabled()&&t.SiteOptimizationLoader.initialize(),t.Connectors.Google_Analytics=new t.Google_AnalyticsModule,t.Connectors.Google_Analytics.isEnabled()&&t.Connectors.Google_Analytics.initialize(),t.Connectors.Google_TagManager=new t.Google_TagManagerModule,t.Connectors.Google_TagManager.isEnabled()&&t.Connectors.Google_TagManager.initialize(),t.Content=new t.ContentModule,t.Content.isEnabled()&&t.Content.initialize(),t.SiteCustomization=new t.SiteCustomizationModule,t.SiteCustomization.isEnabled()&&t.SiteCustomization.initialize(),"function"==typeof t.Config.getDomain&&t.Config.getDomain()&&t.Domain.load(),t.EmailDomainReporter=new t.EmailDomainReporterModule,t.EmailDomainReporter.isEnabled()&&t.EmailDomainReporter.initialize(),e={Advertising:t.AdvertisingModule,AssetReporter:t.AssetReporterModule,Content:t.ContentModule,ErrorReporter:t.ErrorReporterModule,Google_Analytics:t.Google_AnalyticsModule,SiteCustomization:t.SiteCustomization},new t.ModuleFactory(t.Config,e,t).build(),"function"==typeof t.Config.onLoad&&t.Config.onLoad.call(t))}}(Demandbase=Demandbase||{}),window.Demandbase.Config={clientId:"BwkB5d1U",key:"fXMDyyP1807syTq6dF4xtrybmgmcNIgl05ukL4io",nonCompanyDefault:null,nonWatchDefault:null,getDomain:null,ads:{pixels:{ad:"1454097219",rt:"1454097268",cn:null}},Google_Analytics:{fieldMap:{1:"audience",2:"company_name",3:"industry",4:"revenue_range",5:"employee_range",6:"custom_fields_industry",7:"custom_fields_enterprise_play",8:"custom_fields_gtm_play_scale_high",10:"demandbase_sid",11:"custom_fields_gtm_play",12:"custom_fields_access_account_status",13:"marketing_alias",14:"city",15:"state",16:"country_name",17:"custom_fields_account_status",18:"custom_fields_jira_service_management",19:"custom_fields_trello"}},Default_Google_Analytics:{fieldMap:{4:"audience",5:"company_name",6:"industry",7:"revenue_range",8:"employee_range",9:"web_site",10:"marketing_alias",11:"city",12:"state",13:"country_name",14:"custom_fields_trello",15:"custom_fields_enterprise_play",16:"custom_fields_access_account_status",17:"custom_fields_jira_service_management",18:"custom_fields_gtm_play_scale_high",19:"custom_fields_gtm_play"}},isFormPage:null,forms:{key:null,companyID:null,emailID:null,fieldMap:null,toggleFieldList:null,priorityMap:null,fieldPrefix:null,fieldSuffix:null,formNameList:null,autocompletePlaceholder:null}},Demandbase.Config.isVoltronEnabled=!0,-1!==document.URL.indexOf("trello.com")&&(Demandbase.Config.Google_Analytics=Demandbase.Config.Default_Google_Analytics,Demandbase.Config.Google_Analytics.trackerId="UA-53826304-2"),Demandbase.Config.SiteCustomization={isEnabled:!0,experiences:{1:{name:"Imported experience: Jira Service Management Company Name - Cloud Premium",id:1,pages:["https://www.atlassian.com/software/jira/service-management/premium"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector(".hide-sm > .row > .column > .component--heading-textblock > .heading").innerHTML="Jira Service Management Cloud Premium for "+Demandbase.IP.CompanyProfile.marketing_alias,document.querySelector(".h1").innerHTML="Jira Service Management Cloud Premium for "+Demandbase.IP.CompanyProfile.marketing_alias},500)}},2:{name:"Imported experience: Jira Service Management - What is ITSM?",id:2,pages:["https://www.atlassian.com/itsm"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector(".component--heading-textblock > .h1").innerHTML=Demandbase.IP.CompanyProfile.marketing_alias+", ready for ITSM at high velocity?"},500)}},3:{name:"Imported experience: Trello - Request a Demo",id:3,pages:["https://www.atlassian.com/software/trello/enterprise-demo"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector(".md-cozy-top > .row > .column > .component > .heading").innerHTML=Demandbase.IP.CompanyProfile.marketing_alias+", request a Trello Enterprise Demo!"},500)}},4:{name:"Imported experience: Trello - Blog Post/Landing Page",id:4,pages:["https://blog.trello.com/why-process-improvement-matters-for-your-team"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector("#hs_cos_wrapper_name").innerHTML="Why Process Improvement Matters for the "+Demandbase.IP.CompanyProfile.industry+" Industry (And How To Implement It)"},500)}},6:{name:"Trello Blog - Picking Tools that Grow with You",id:6,pages:["https://blog.trello.com/picking-tools-that-grow-with-you"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector("#hs_cos_wrapper_name").innerHTML="Leveling Up: Your Guide To Picking Tools That Grow With "+Demandbase.IP.CompanyProfile.marketing_alias,document.querySelector(":nth-child(11) > strong").innerHTML="What To Consider When Selecting Tools To Support "+Demandbase.IP.CompanyProfile.marketing_alias+"'s Growth"},500)}},7:{name:"Trello - Tech Stack Tool Audit",id:7,pages:["https://trello.com/trello-tech-stack-tool-audit"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector("h1").innerHTML="It's Time, "+Demandbase.IP.CompanyProfile.marketing_alias+"! Out With the Old & In With the New"},500)}},9:{name:"Government - DC Product Tour",id:9,pages:["https://www.atlassian.com/enterprise/data-center"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector("#data-center > main > div.container-fluid.xs-cozy.md-comfortable.n900.theme-one > div > div.column.column-md-8.column-md-offset-2.xs-cozy-bottom.text-center.light-text.s0.between > div.component.component--textblock.text-oversized > p").innerHTML="Self-managed products, built for agencies like "+Demandbase.IP.CompanyProfile.marketing_alias},500)}},10:{name:"Government - Enterprise Product Tour",id:10,pages:["https://www.atlassian.com/enterprise"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector(".column-md-8 > .component--heading > .heading").innerHTML="Accelerate enterprise innovation for "+Demandbase.IP.CompanyProfile.marketing_alias,document.querySelector(".component--textblock > p").innerHTML="Connect, accelerate, and scale your entire agency"},500)}},11:{name:"Government - JSW Product Tour",id:11,pages:["https://www.atlassian.com/software/jira"],isEnabled:!0,modify:function(){setTimeout(function(){document.querySelector(".container--announcement-banner-container > .row > .column > .component > .component__heading-textblock > p").innerHTML='Jira Software Data Center, ideal for Government agencies. <a href="https://www.atlassian.com/enterprise/data-center/jira">Learn more</a>'},500)}}}},Demandbase.ErrorReporter=new Demandbase.ErrorReporterModule,Demandbase.ErrorReporter.initialize(),Demandbase.ErrorReporter.wrap(Demandbase.initialize.bind(Demandbase))();

function AppMeasurement_Module_ActivityMap(l){function e(){var e=t.pageYOffset+(t.innerHeight||0);e&&+s<e&&(s=e)}function n(){var t;u.scrollReachSelector&&((t=l.d.querySelector&&l.d.querySelector(u.scrollReachSelector))?(s=t.scrollTop||0,t.addEventListener("scroll",function(){var e;(e=t&&t.scrollTop+t.clientHeight||0)>s&&(s=e)})):0<f--&&setTimeout(n,1e3))}function i(e,t){var n,r,i;if(e&&t&&(n=u.c[t]||(u.c[t]=t.split(","))))for(i=0;i<n.length&&(r=n[i++]);)if(-1<e.indexOf(r))return null;return e}function a(e,t,n,r,i){var a,c,o;if(!(a=e.dataset&&(c=e.dataset[t])||e.getAttribute&&((c=e.getAttribute("data-"+n))||(c=e.getAttribute(n)))?c:a)&&l.useForcedLinkTracking&&i){if(e=e.onclick?""+e.onclick:"",varValue="",r&&e&&0<=(t=e.indexOf(r))){for(t+=r.length;t<e.length;)if(n=e.charAt(t++),0<="'\"".indexOf(n)){o=n;break}for(c=!1;t<e.length&&o&&(n=e.charAt(t),c||n!==o);)c="\\"===n||(varValue+=n,!1),t++}(o=varValue)&&(l.w[r]=o)}return a||i&&l.w[r]}function c(e,t,n){return(n=u[t](e,n))&&i(o(n),u[t+"Exclusions"])}function o(e){if(null==e)return e;try{return e.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r   ᠎ - \u2028\u2029 　\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r   ᠎ - \u2028\u2029 　\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r   ᠎ - \u2028\u2029 　\ufeff]{1,}","mg")," ").substring(0,254)}catch(e){}}var u=this;u.s=l;var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),u._il=t.s_c_il,u._in=t.s_c_in,u._il[u._in]=u,t.s_c_in++,u._c="s_m";var r,s=0,f=60;u.c={};var g={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};u._g=function(){var e,t,n,r=l.contextData,i=l.linkObject;(e=l.pageName||l.pageURL)&&(t=c(i,"link",l.linkName))&&(n=c(i,"region"))&&(r["a.activitymap.page"]=e.substring(0,255),r["a.activitymap.link"]=128<t.length?t.substring(0,128):t,r["a.activitymap.region"]=127<n.length?n.substring(0,127):n,0<s&&(r["a.activitymap.xy"]=10*Math.floor(s/10)),r["a.activitymap.pageIDType"]=l.pageName?1:0)},u._d=function(){u.trackScrollReach&&!r&&(u.scrollReachSelector?n():(e(),t.addEventListener&&t.addEventListener("scroll",e,!1)),r=!0)},u.link=function(e,t){var n,r;return t?n=i(o(t),u.linkExclusions):(n=e)&&!(n=a(e,"sObjectId","s-object-id","s_objectID",1))&&((r=i(o(e.innerText||e.textContent),u.linkExclusions))||(function e(t,n,r){var i;if(t&&!(1===(i=t.nodeType)&&(i=t.nodeName)&&(i=i.toUpperCase())&&g[i])&&(1===t.nodeType&&(i=t.nodeValue)&&(n[n.length]=i),r.a||r.t||r.s||!t.getAttribute||((i=t.getAttribute("alt"))?r.a=i:(i=t.getAttribute("title"))?r.t=i:"IMG"==(""+t.nodeName).toUpperCase()&&(i=t.getAttribute("src")||t.src)&&(r.s=i)),(i=t.childNodes)&&i.length))for(t=0;t<i.length;t++)e(i[t],n,r)}(e,t=[],n={a:void 0,t:void 0,s:void 0}),(r=i(o(t.join(""))))||(r=i(o(n.a||n.t||n.s||void 0)))||!(t=(t=e.tagName)&&t.toUpperCase?t.toUpperCase():"")||("INPUT"==t||"SUBMIT"==t&&e.value?r=i(o(e.value)):"IMAGE"==t&&e.src&&(r=i(o(e.src))))),n=r),n},u.region=function(e){for(var t,n=u.regionIDAttribute||"id";e=e&&e.parentNode;){if(t=a(e,n,n,n))return t;if("BODY"==e.nodeName)return"BODY"}}}

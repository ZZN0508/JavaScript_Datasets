let t="https://www.nytimes.com";function o(t){return"godzown:"+t}function n(){"undefined"!=typeof location&&(/local/.test(location.hostname)||/preview/.test(location.hostname))&&(t="https://www.stg.nytimes.com")}async function e(e){try{const o=await fetch(`${t}/svc/int/godzown/u/${e}`,{headers:{Accept:"application/json"},credentials:"include"}),n=(await o.json())["contents"];return n}catch(t){try{return JSON.parse(localStorage[o(e)])}catch(t){return console.error("localStorage read failed",t),null}}}async function a(e,n={}){n=JSON.stringify(n);try{localStorage[o(e)]=n}catch(t){console.error("localStorage set failed",t)}await fetch(t+"/svc/int/godzown/u/"+e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:n})}export{n as a,e as g,a as s};

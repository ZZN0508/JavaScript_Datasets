!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n,i=t();for(n in i)("object"==typeof exports?exports:e)[n]=i[n]}}(this,function(){return i=[function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});function o(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=Node.prototype.addEventListener,s=Node.prototype.removeEventListener,c=!1;Node.prototype.addEventListener=function(e,t,n,i){var o=e.toLowerCase();"appear"!==o&&"disappear"!==o||(d?(0,p.observerElement):(0,l.pushElement))(this),d||(f&&!c&&(f.check(),c=!0),"scroll"!==o||i||(f=new u.default({container:this}),a.push(f))),r.call(this,e,t,n)},Node.prototype.removeEventListener=function(e,t,n,i){var o=this,r=e.toLowerCase();d||"scroll"!==r||i||a.forEach(function(e,t){e.__handle&&e.container===o&&(o.removeEventListener("scroll",e.__handle,!1,!0),e.__handle=null,e.appearWatchElements=[],e.container=null,a.splice(t,1))}),s.call(this,e,t,n)}}var l=n(2),u=i(l),p=n(3),r=i(p),f=null,d=(0,p.isExistIntersection)();t.default=function(){if(!d){var e=[];return u.default.createEvent(),o(e),f=new u.default({container:window}),e.push(f),{config:l.config}}(0,r.default)(),o()}()},function(e,t){"use strict";function p(e,t){var n=void 0,i=void 0,o=void 0,r=void 0;if(e)return t=t||{x:0,y:0},o=e!=window?(n=(e=e.getBoundingClientRect()).left,r=e.top,i=e.right,e.bottom):(i=(n=0)+e.innerWidth,(r=0)+e.innerHeight),{left:n,top:r,right:i+t.x,bottom:o+t.y}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.config=function(e){e.offsetTop&&"number"==typeof e.offsetTop&&(a=e.offsetTop)},t.getOffset=p,t.pushElement=function(e){var t;-1!==l.indexOf(e)||e.appended||(t=Boolean(e.getAttribute("isonce"))||Boolean(e.getAttribute("data-once")),e.isOnce=t,e.appended=!0,l.push(e),e._eleOffset=p(e))};var a=0,s=void 0,c=void 0,l=[],n=(n(r,null,[{key:"createEvent",value:function(){s=document.createEvent("HTMLEvents"),c=document.createEvent("HTMLEvents"),s.initEvent("appear",!1,!0),c.initEvent("disappear",!1,!0)}}]),n(r,[{key:"initConfig",value:function(e){this.extend(this.options,e=e||{}),this.appearWatchElements=this.appearWatchElements||this.getElements(),this.bindEvent()}},{key:"extend",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},{key:"inViewport",value:function(e,t,n){var i=e.getBoundingClientRect(),o=i.top,r=i.right,e=i.bottom,i=i.left,i=t.right>i&&t.left<r,o=t.bottom>o-a&&t.top<e;return i&&o}},{key:"getElements",value:function(e){var t=this.options.container;return this.container=t,[].slice.call(l||[],null)}},{key:"check",value:function(e){var t=this;o(function(){t.calculate()})}},{key:"calculate",value:function(){var n=this,e=this.container,i=this.getElements(),o=p(window,{x:this.options.x,y:this.options.y}),r=this.options.once;e&&i&&0<i.length&&[].forEach.call(i,function(e,t){if(e){if(e.isOnce&&e._hasAppear)return l.splice(t,1),void i.splice(t,1);n.checkEveryDom(e,o,r,s,c,"normal",t)}})}},{key:"checkEveryDom",value:function(e,t,n,i,o,r,a){var s=p(e),c=this.getDirection(e._eleOffset,s),l=this.inViewport(e,t,r),u=e._appear,t=e._hasAppear,r=e._hasDisAppear;e._eleOffset=s,i.direction=c,o.direction=c,l&&!u?(!n||t)&&n||(e.dispatchEvent(i),e._hasAppear=!0,e._appear=!0):l||!u||(!n||r)&&n||(e.dispatchEvent(o),e._hasDisAppear=!0,e._appear=!1)}},{key:"reset",value:function(e){return this.initConfig(e),this.appearWatchElements.forEach(function(e){delete e._hasAppear,delete e._hasDisAppear,delete e._appear}),this}},{key:"bindEvent",value:function(){var n,i,o,r,a,s,c,e=this,t=arguments,l=(n=function(){e.check(t)},i=this.options.wait,a=void 0,s=null,c=0,function(){var e=Date.now(),t=i-(e-c);return o=this,r=arguments,t<=0?(clearTimeout(s),s=null,c=e,a=n.apply(o,r)):s=s||setTimeout(u,t),a});function u(){c=Date.now(),s=null,a=n.apply(o,r)}this.__handle&&(this.container.removeEventListener("scroll",this.__handle,!1,!0),this.__handle=null),this.__handle=l,this.container.addEventListener("scroll",l,!1,!0)}},{key:"getDirection",value:function(e,t){var n="none",i=e.left-t.left,t=e.top-t.top;return 0==t&&(n=0!=i?0<i?"left":"right":"none"),n=0==i?0!=t?0<t?"up":"down":"none":n}}]),r),o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,1/60*1e3)};function r(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,r),this.current=[],this.elements=e,this.options={container:window,wait:100,x:0,y:0,cls:"appear",once:!1,onReset:function(){},onAppear:function(){},onDisappear:function(){}},this.container=null,this.appearWatchElements=null,this.initConfig.apply(this,arguments)}t.default=n},function(e,t){"use strict";function n(e){e.forEach(function(e){var t=e.target;0<(e.isIntersecting,e.boundingClientRect,e.intersectionRatio)?(t.dataset.appeared=!0,t.dispatchEvent(o)):t.dataset.appeared&&(t.dataset.appeared=!1,t.dispatchEvent(r))})}Object.defineProperty(t,"__esModule",{value:!0}),t.observerElement=function(e){a.observe(e)},t.isExistIntersection=function(){return"function"==typeof IntersectionObserver},t.default=function(){o=document.createEvent("HTMLEvents"),r=document.createEvent("HTMLEvents"),o.initEvent("appear",!1,!0),r.initEvent("disappear",!1,!0),a=new IntersectionObserver(n,i)};var i={root:null,rootMargin:"0px",threshold:0},o=void 0,r=void 0,a=void 0}],o={},n.m=i,n.c=o,n.p="",n(0);function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i,o});

define("modules/common/gigyaLoggedInChecker",["jquery","modules/iconHelper","modules/helpers/gigyaHelper","addons/services/accountButtonService"],function(i,n,l,c){var a,g=(a={selector:'[data-value="gigya_sign_in"]'},{init:function(e){var t=this;if(t.options=i.extend(a,e||{}),t.$target=i(t.options.selector),t.$parent=t.$target.parent(),t.$target.length&&l.skdEnabled())return t.$target.attr("href",t.$target.attr("href").concat(c.appendRedirectUrl())),i.when(l.loadSDK()).done(function(){r(t)}),t},track:function(e,t){e.length&&t.length&&window._satellite.cookie.set(e,t,{path:"/",domain:window.location.hostname})},removeTrackingCookies:function(){for(var e=["favoriteTeam","gigyaUID","hashedEmail","hashedProfileID"],t=0;t<e.length;t++){var a=e[t];try{window._satellite.cookie.remove(a)}catch(e){window._satellite.logger.error(e)}}}});function r(o){i.when(l.checkUserStatus()).done(function(e){var t,a,r;0===e.errorCode?(r=(t=o).$target.data("custom-properties"),a=r&&r.title?r.title:"",e=r&&r.link?r.link:"/account/",r=n.get("user","medium"),(e=i("<a>",{title:a,href:e.concat(c.appendRedirectUrl())})).attr("aria-label","Open your profile page"),e.html(r),t.$target.replaceWith(e),c.renderLogoutButton(o),l.hasUserData()&&function(e){if(window._satellite&&!i.isEmptyObject(e)){try{e.data&&e.data.league&&e.data.league.favoriteTeams&&e.data.league.favoriteTeams[0]&&g.track("favoriteTeam",e.data.league.favoriteTeams[0])}catch(e){window._satellite.logger.error(e)}try{g.track("gigyaUID",e.gigyaUID)}catch(e){window._satellite.logger.error(e)}try{g.track("hashedEmail",e.hashedEmail)}catch(e){window._satellite.logger.error(e)}try{g.track("hashedProfileID",e.hashedProfileID)}catch(e){window._satellite.logger.error(e)}}}(l.getUserData())):g.removeTrackingCookies()}).fail(function(){window.console.log("User is not logged in")})}return g.init({}),g});

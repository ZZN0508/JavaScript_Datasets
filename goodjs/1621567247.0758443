(window.shark_home_jsonp=window.shark_home_jsonp||[]).push([["common~002699c4"],{"0229c":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-avatar_8d1ca2f.jpg"},"0e285":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-cover_a960c5b.png"},"0ee47":function(e,t,s){e.exports=s("99944")("698d7")},"245eb":function(e,t,s){"use strict";var r=s("1a22b"),a=s.n(r),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};var o=function DyLink(e){var t=e.rid,s=e.curRid,r=function _objectWithoutProperties(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s}(e,["rid","curRid"]);return t&&+t!==+s?a.a.createElement("a",i({},r,{target:"_blank",href:"/"+t,__self:void 0})):a.a.createElement("span",i({},r,{__self:void 0}))};t.a=o},"27be0":function(e,t,s){},"29b13":function(e,t,s){"use strict";var r=s("59cf4"),a=s.n(r),i=s("21a65"),o=s.n(i),n=new a.a({id:"icon-hot_8a57f0b",use:"icon-hot_8a57f0b-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="icon-hot_8a57f0b"><path d="M5.4 1s.3 3.1-2.6 4.6C-.1 7 .4 12 4.7 13c-1.4-2.1-.9-3.8 1.5-5.1.3 1.2 1 1.8 2 1.8 1.6 0 .6 3.2-.3 3.2s6.4 0 4.8-6.1c-.4-1-1.4-1.7-3.1-2.1C8.9 2.9 7.5 1.6 5.4 1z" /></symbol>'});o.a.add(n);t.a=n},"2f135":function(e,t,s){e.exports=s("d1db8")("38686")},31013:function(e,t,s){},"3a597":function(e,t,s){},"43e28":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-cover_a960c5b.png"},"46b1f":function(e,t,s){},"4e5d1":function(e,t,s){},53587:function(e,t,s){"use strict";var r=s("1a22b"),a=s.n(r),i=s("2f40d"),o=s("2b78b");s("27be0");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var n=function(e){function DyImg(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DyImg);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isError:!1,isVisible:!1},t.handleError=t.handleError.bind(t),t.onContentVisible=t.onContentVisible.bind(t),t.renderPlaceholder=t.renderPlaceholder.bind(t),t.handleUrl=t.handleUrl.bind(t),t}return _inherits(DyImg,e),DyImg.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.src!==this.props.src&&this.setState({isError:!1})},DyImg.prototype.handleError=function handleError(){var e=this;this.setState({isError:!0},function(){var t=e.props.showStatus;t&&!e.isShowError&&(e.isShowError=!0,t({isError:!0}))})},DyImg.prototype.renderPlaceholder=function renderPlaceholder(){var e,t=this.props,s=t.defaultSrc,r=t.alt,i=t.title,o=t.type,n=void 0===o?"normal":o,l=t.direction;return s?a.a.createElement("img",((e={src:s,alt:r,title:i,className:"DyImg-content "+(n?"is-"+n:"")+" "+(l?"is-"+l:"")}).src=s,e.__self=this,e)):null},DyImg.prototype.onContentVisible=function onContentVisible(){var e=this;this.setState({isVisible:!0},function(){var t=e.props.showStatus;t&&!e.isShowVisible&&(e.isShowVisible=!0,t({isVisible:!0}))})},DyImg.prototype.handleUrl=function handleUrl(e){var t="true"===localStorage.getItem("SUPPORT_WEBP");return e&&t?String(e).match(/\/dy1$/)?String(e).replace(/\/dy1$/,"/webpdy1"):""+e+o.imgSuffix:e},DyImg.prototype.render=function render(){var e=this.props,t=e.src,s=e.defaultSrc,r=e.errorSrc,o=e.className,n=e.isLazyable,l=void 0===n||n,c=e.alt,h=e.title,u=e.type,v=void 0===u?"normal":u,m=e.direction,f=e.offset,p=this.state.isError,d=p?r:this.handleUrl(t);return l?a.a.createElement(i.default,{className:"DyImg "+(o||""),onContentVisible:this.onContentVisible,offset:f,renderPlaceholder:this.renderPlaceholder,throttle:1,__self:this},a.a.createElement("img",{src:d||s,alt:c,title:h,className:"DyImg-content "+(v?"is-"+v:"")+" "+(m?"is-"+m:""),onError:p?null:this.handleError,__self:this})):a.a.createElement("div",{className:"DyImg "+(o||""),__self:this},a.a.createElement("img",{src:d||s,alt:c,title:h,className:"DyImg-content "+(v?"is-"+v:"")+" "+(m?"is-"+m:""),onError:p?null:this.handleError,__self:this}))},DyImg}(a.a.Component);t.a=n},54271:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-cover_a960c5b.png"},"6253d":function(e,t,s){"use strict";var r,a,i,o=s("1a22b"),n=s.n(o),l=s("eb3e2"),c=s("7ca7d"),h=s("db47a"),u=s("53587"),v=s("43e28"),m=s.n(v),f=s("858a1"),p=s.n(f),d=s("59cf4"),y=s.n(d),_=s("21a65"),b=s.n(_),C=new y.a({id:"icon-time_3ba0c1f",use:"icon-time_3ba0c1f-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="icon-time_3ba0c1f"><path d="M6 0C2.7 0 0 2.7 0 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm2 7H6c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1s1 .4 1 1v2h1c.6 0 1 .4 1 1s-.4 1-1 1z" fill="#fff" /></symbol>'}),D=(b.a.add(C),C),E=s("a75c2"),g=new y.a({id:"icon-number_6d51c13",use:"icon-number_6d51c13-usage",viewBox:"0 0 14 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 11" id="icon-number_6d51c13"><style>#icon-number_6d51c13 .st0{opacity:.5;fill:#0f0f0f;enable-background:new}</style><path class="st0" d="M7 0C3.1 0 0 3.5 0 5.5S3.1 11 7 11s7-3.5 7-5.5S10.9 0 7 0zm3.1 5.5c0 1.7-1.4 3.1-3.2 3.1-1.7 0-3.1-1.4-3.1-3.2 0-1.7 1.4-3.1 3.2-3.1 1.7.1 3.1 1.5 3.1 3.2z" /><path class="st0" d="M7 3.9c-.9 0-1.6.7-1.6 1.6 0 .9.7 1.6 1.6 1.6s1.6-.7 1.6-1.6S7.9 3.9 7 3.9z" /></symbol>'}),S=(b.a.add(g),g),w=(s("3a597"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e});function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _objectWithoutProperties(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s}var N=function Link(e){var t=e.url,s=e.linkRef,r=void 0===s?null:s,a=_objectWithoutProperties(e,["url","linkRef"]);return t?n.a.createElement("a",w({href:t,target:"_blank",ref:r},a,{__self:void 0})):n.a.createElement("span",w({ref:r},a,{__self:void 0}))};r=(0,c.default.Service)(l.DataCenter.event),a=function(e){function DyListDemandCover(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DyListDemandCover);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,s,r){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(r):void 0})}(t,"event",i,t),t.state={isHover:!1},t.handleMouseOver=t.handleMouseOver.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.handleCare=t.handleCare.bind(t),t.setImgStatus=t.setImgStatus.bind(t),t.handleZone=t.handleZone.bind(t),t.handleClick=t.handleClick.bind(t),t.handleDelayJump=t.handleDelayJump.bind(t),t.handleDys=t.handleDys.bind(t),t.hls=null,t.linkRef=n.a.createRef(),t.ishover=!1,t}return _inherits(DyListDemandCover,e),DyListDemandCover.prototype.handleClick=function handleClick(){this.props.click&&this.props.click()},DyListDemandCover.prototype.handleDys=function handleDys(){var e=this.props.subdata;e&&e.ext&&Object(h.dysub2)(w({},e,{event_id:1,ext:w({},e.ext,{_is_prev:this.ishover?1:0})}))},DyListDemandCover.prototype.handleMouseOver=function handleMouseOver(){this.props.mouseOver&&this.props.mouseOver(),this.ishover=!1,this.setState({isHover:!0})},DyListDemandCover.prototype.handleMouseLeave=function handleMouseLeave(){this.props.mouseLeave&&this.props.mouseLeave(),this.setState({isHover:!1,mark:!1}),this.ishover=!1},DyListDemandCover.prototype.handleCare=function handleCare(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault(),this.props.setCare&&this.props.setCare(!this.props.care)},DyListDemandCover.prototype.handleZone=function handleZone(e){this.props.zoneClickBack&&this.props.zoneClickBack(e)},DyListDemandCover.prototype.handleDelayJump=function handleDelayJump(e){var t=this,s=this.props.delay;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault(),this.timer||(this.timer=setTimeout(function(){t.linkRef.current.click(),t.timer=null},s||0))},DyListDemandCover.prototype.componentWillMount=function componentWillMount(){this.event.load().subscribe()},DyListDemandCover.prototype.setImgStatus=function setImgStatus(e){var t=this.props.showImgStatus,s=e.isError,r=e.isVisible;t&&this.event.load().subscribe(function(){t(e)}),s&&this.setState({isImgError:!0}),r&&this.setState({isImgVisible:!0})},DyListDemandCover.prototype.render=function render(){var e=this.props,t=e.rid,s=e.className,r=e.offset,a=e.directUrl,i=e.src,o=e.defaultSrc,l=e.errorSrc,c=(e.isMark,e.videoId,e.videoSrc,e.avatarSrc),h=e.defaultAvatarSrc,v=e.errorAvatarSrc,f=e.intro,d=e.zone,y=e.user,_=e.viewNum,b=e.time,C=e.isShowLabel,g=e.label,L=e.care,k=e.superscript,P=(e.mouseOver,e.mouseLeave,e.setCare,e.showImgStatus,e.zoneClickBack,e.click,_objectWithoutProperties(e,["rid","className","offset","directUrl","src","defaultSrc","errorSrc","isMark","videoId","videoSrc","avatarSrc","defaultAvatarSrc","errorAvatarSrc","intro","zone","user","viewNum","time","isShowLabel","label","care","superscript","mouseOver","mouseLeave","setCare","showImgStatus","zoneClickBack","click"])),O=this.state,H=(O.isImgError,O.isImgVisible,O.isHover),I=O.mark,j=a||(t?"/"+t:"");return n.a.createElement("div",w({className:"DyListCover "+(s||"")+" "+(j?"is-href":""),onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleDys,onClick:this.handleClick},P,{__self:this}),n.a.createElement(N,{url:j,className:"DyListCover-wrap",onClick:this.handleDelayJump,__self:this},n.a.createElement("div",{className:"DyListCover-imgWrap",__self:this},n.a.createElement(u.a,{className:"DyListCover-pic",src:i,defaultSrc:o||m.a,errorSrc:l,offset:r,showStatus:this.setImgStatus.bind(this),__self:this}),n.a.createElement("span",{className:"DyListCover-demandCorner",__self:this}),n.a.createElement("span",{className:"DyListCover-demandTime",__self:this},n.a.createElement("svg",{className:"DyListCover-timeIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+D.id,__self:this})),b),n.a.createElement("div",{className:"DyListCover-superscript",__self:this},k)),n.a.createElement("div",{className:"DyListCover-content",__self:this},n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("span",{className:"DyListCover-zone",__self:this},d),n.a.createElement("h3",{className:"DyListCover-intro",title:f||"",dangerouslySetInnerHTML:{__html:f},__self:this})),n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("span",{className:"DyListCover-watchNumer",__self:this},n.a.createElement("svg",{className:"DyListCover-numberIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+S.id,__self:this})),_),n.a.createElement("h2",{className:"DyListCover-user",__self:this},n.a.createElement("svg",{className:"DyListCover-userIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+E.a.id,__self:this})),y)),C?g:null)),H?n.a.createElement(N,{url:j,className:"DyListCover-wrap is-hover",onClick:this.handleDelayJump,__self:this},n.a.createElement("div",{className:"DyListCover-imgWrap",__self:this},n.a.createElement(u.a,{className:"DyListCover-pic "+(I?"is-mark":""),isLazyable:!1,src:i,defaultSrc:o||m.a,errorSrc:l,__self:this}),n.a.createElement("span",{className:"DyListCover-demandCorner",__self:this}),n.a.createElement("span",{className:"DyListCover-demandTime",__self:this},n.a.createElement("svg",{className:"DyListCover-timeIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+D.id,__self:this})),b),n.a.createElement("div",{className:"DyListCover-superscript",__self:this},k)),n.a.createElement("div",{className:"DyListCover-content",__self:this},n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("span",{className:"DyListCover-zone",onClick:this.handleZone,__self:this},d),n.a.createElement("h3",{className:"DyListCover-intro",title:f||"",dangerouslySetInnerHTML:{__html:f},__self:this})),n.a.createElement("div",{className:"DyListCover-desc",__self:this},n.a.createElement("div",{className:"DyListCover-btn "+(L?"is-care":""),onClick:this.handleCare,__self:this},L?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"),n.a.createElement(u.a,{className:"DyListCover-avatar",isLazyable:!1,src:c,defaultSrc:h||p.a,errorSrc:v,__self:this}),n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("h2",{className:"DyListCover-user",__self:this},y),n.a.createElement("span",{className:"DyListCover-watchNumer",__self:this},n.a.createElement("svg",{className:"DyListCover-numberIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+S.id,__self:this})),_))),g)):null,n.a.createElement(N,{url:j,linkRef:this.linkRef,__self:this}))},DyListDemandCover}(n.a.Component),i=function _applyDecoratedDescriptor(e,t,s,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=s.slice().reverse().reduce(function(s,r){return r(e,t,s)||s},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(a.prototype,"event",[r],{enumerable:!0,initializer:null})},"7772c":function(e,t,s){"use strict";var r=s("1a22b"),a=s.n(r),i=s("245eb"),o=s("53587"),n=s("a3725"),l=s.n(n),c=s("29b13"),h=s("a75c2"),u=(s("46b1f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e});function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}var v=function(e){function DyCover(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DyCover);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isImgError:!1,isImgVisible:!1},t.setImgStatus=t.setImgStatus.bind(t),t}return _inherits(DyCover,e),DyCover.prototype.setImgStatus=function setImgStatus(e){var t=this.props.showImgStatus,s=e.isError,r=e.isVisible;t&&t(e),s&&this.setState({isImgError:!0}),r&&this.setState({isImgVisible:!0})},DyCover.prototype.render=function render(){var e=this.props,t=e.rid,s=e.className,r=e.offset,n=e.src,v=e.defaultSrc,m=e.errorSrc,f=e.intro,p=e.zone,d=e.user,y=e.hot,_=e.alt,b=e.imgTitle,C=(e.showImgStatus,function _objectWithoutProperties(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s}(e,["rid","className","offset","src","defaultSrc","errorSrc","intro","zone","user","hot","alt","imgTitle","showImgStatus"]));return a.a.createElement(i.a,u({className:"DyCover "+(s||""),rid:t},C,{__self:this}),a.a.createElement("div",{className:"DyCover-imgWrap",__self:this},a.a.createElement(o.a,{className:"DyCover-pic",alt:_,title:b,src:n,defaultSrc:v||l.a,errorSrc:m,offset:r,showStatus:this.setImgStatus.bind(this),__self:this}),a.a.createElement("div",{className:"DyCover-play",__self:this})),a.a.createElement("div",{className:"DyCover-content",__self:this},a.a.createElement("div",{className:"DyCover-info",__self:this},a.a.createElement("span",{className:"DyCover-zone",__self:this},p),a.a.createElement("h3",{className:"DyCover-intro",title:f||"",dangerouslySetInnerHTML:{__html:f},__self:this})),y||d?a.a.createElement("div",{className:"DyCover-info is-second",__self:this},a.a.createElement("span",{className:"DyCover-hot",__self:this},a.a.createElement("svg",{className:"DyCover-hotIcon",__self:this},a.a.createElement("use",{xlinkHref:"#"+c.a.id,__self:this})),y),a.a.createElement("h2",{className:"DyCover-user",__self:this},a.a.createElement("svg",{className:"DyCover-userIcon",__self:this},a.a.createElement("use",{xlinkHref:"#"+h.a.id,__self:this})),d)):null))},DyCover}(a.a.Component);t.a=v},"858a1":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-avatar_8d1ca2f.jpg"},"8dce0":function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-cover_a960c5b.png"},96089:function(e,t,s){e.exports=s("d1db8")("c9c82")},"9ef2f":function(e,t,s){"use strict";var r,a,i,o=s("1a22b"),n=s.n(o),l=s("eb3e2"),c=s("7ca7d"),h=s("53587"),u=s("54271"),v=s.n(u),m=s("29b13"),f=s("a75c2"),p=(s("e020c"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e});function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _objectWithoutProperties(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s}var d=function Link(e){var t=e.url,s=_objectWithoutProperties(e,["url"]);return t?n.a.createElement("a",p({href:t,target:"_blank"},s,{__self:void 0})):n.a.createElement("span",p({},s,{__self:void 0}))};r=(0,c.default.Service)(l.DataCenter.event),a=function(e){function DyPlayCover(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DyPlayCover);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,s,r){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(r):void 0})}(t,"event",i,t),t.state={isHover:!1},t.handleMouseOver=t.handleMouseOver.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.setImgStatus=t.setImgStatus.bind(t),t.handleZone=t.handleZone.bind(t),t.handleClick=t.handleClick.bind(t),t}return _inherits(DyPlayCover,e),DyPlayCover.prototype.handleClick=function handleClick(){this.props.click&&this.props.click()},DyPlayCover.prototype.handleMouseOver=function handleMouseOver(){this.props.mouseOver&&this.props.mouseOver(),this.setState({isHover:!0})},DyPlayCover.prototype.handleMouseLeave=function handleMouseLeave(){this.props.mouseLeave&&this.props.mouseLeave(),this.setState({isHover:!1})},DyPlayCover.prototype.handleZone=function handleZone(e){this.props.zoneClickBack&&this.props.zoneClickBack(e)},DyPlayCover.prototype.componentWillMount=function componentWillMount(){this.event.load().subscribe()},DyPlayCover.prototype.setImgStatus=function setImgStatus(e){var t=this.props.showImgStatus;t&&this.event.load().subscribe(function(){t(e)})},DyPlayCover.prototype.render=function render(){var e=this,t=this.props,s=t.rid,r=t.className,a=t.offset,i=t.directUrl,l=t.src,c=t.defaultSrc,u=t.errorSrc,y=t.intro,_=t.zone,b=t.user,C=t.hot,D=t.times,E=t.isShowLabel,g=t.label,S=t.superscript,w=t.hoverSuperscript,N=(t.mouseOver,t.mouseLeave,t.showImgStatus,t.zoneClickBack,t.click,t.roomNum),L=t.hideAvater,k=t.avaterList,P=void 0===k?[]:k,O=_objectWithoutProperties(t,["rid","className","offset","directUrl","src","defaultSrc","errorSrc","intro","zone","user","hot","times","isShowLabel","label","superscript","hoverSuperscript","mouseOver","mouseLeave","showImgStatus","zoneClickBack","click","roomNum","hideAvater","avaterList"]),H=i||(s?"/"+s:"");return n.a.createElement("div",p({className:"DyPlayCover "+(r||"")+" "+(H?"is-href":""),onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},O,{__self:this}),n.a.createElement(d,{url:H,className:"DyPlayCover-wrap",__self:this},n.a.createElement("div",{className:"DyPlayCover-imgWrap",__self:this},n.a.createElement(h.a,{className:"DyPlayCover-pic",src:l,defaultSrc:c||v.a,errorSrc:u,offset:a,showStatus:this.setImgStatus.bind(this),__self:this}),n.a.createElement("div",{className:"DyPlayCover-superscript",__self:this},S),L?null:n.a.createElement("div",{className:"DyPlayCover-avaterInfoWrap",__self:this},n.a.createElement("h2",{className:"DyPlayCover-user",__self:this},n.a.createElement("svg",{className:"DyPlayCover-userIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+f.a.id,__self:this})),b),n.a.createElement("div",{className:"DyPlayCover-anchorAvaterWrap",__self:this},P.slice(0,2).map(function(t){return n.a.createElement(h.a,{className:"DyPlayCover-anchorAvater",src:t,defaultSrc:c||v.a,errorSrc:u,__self:e})}),n.a.createElement("div",{className:"DyPlayCover-anchorAvater DyPlayCover-number",__self:this},n.a.createElement("span",{__self:this},N))))),n.a.createElement("div",{className:"DyPlayCover-content",__self:this},n.a.createElement("div",{className:"DyPlayCover-info DyPlayCover-title",__self:this},n.a.createElement("span",{className:"DyPlayCover-zone",__self:this},_),n.a.createElement("h3",{className:"DyPlayCover-intro",title:y||"",dangerouslySetInnerHTML:{__html:y},__self:this})),n.a.createElement("div",{className:"DyPlayCover-info",__self:this},n.a.createElement("span",{className:"DyPlayCover-hot",__self:this},C||0===C?n.a.createElement(o.Fragment,{__self:this},n.a.createElement("svg",{className:"DyPlayCover-hotIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+m.a.id,__self:this})),C):n.a.createElement(o.Fragment,{__self:this},D)),n.a.createElement("div",{className:"DyPlayCover-labelWrap",__self:this},E?g:null)))),this.state.isHover?n.a.createElement(d,{url:H,className:"DyPlayCover-wrap is-hover",__self:this},n.a.createElement("div",{className:"DyPlayCover-imgWrap",__self:this},n.a.createElement(h.a,{className:"DyPlayCover-pic",src:l,defaultSrc:c||v.a,errorSrc:u,offset:a,showStatus:this.setImgStatus.bind(this),__self:this}),n.a.createElement("div",{className:"DyPlayCover-superscript",__self:this},S),n.a.createElement("div",{className:"DyPlayCover-superscript",__self:this},w),L?null:n.a.createElement("div",{className:"DyPlayCover-avaterInfoWrap",__self:this},n.a.createElement("h2",{className:"DyPlayCover-user",__self:this},n.a.createElement("svg",{className:"DyPlayCover-userIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+f.a.id,__self:this})),b),n.a.createElement("div",{className:"DyPlayCover-anchorAvaterWrap",__self:this},P.slice(0,2).map(function(t){return n.a.createElement(h.a,{className:"DyPlayCover-anchorAvater",src:t,defaultSrc:c||v.a,errorSrc:u,__self:e})}),n.a.createElement("div",{className:"DyPlayCover-anchorAvater DyPlayCover-number",__self:this},n.a.createElement("span",{__self:this},N))))),n.a.createElement("div",{className:"DyPlayCover-content",__self:this},n.a.createElement("div",{className:"DyPlayCover-info DyPlayCover-title",__self:this},n.a.createElement("span",{className:"DyPlayCover-zone",__self:this},_),n.a.createElement("h3",{className:"DyPlayCover-intro",title:y||"",dangerouslySetInnerHTML:{__html:y},__self:this})),n.a.createElement("div",{className:"DyPlayCover-info",__self:this},n.a.createElement("span",{className:"DyPlayCover-hot",__self:this},C||0===C?n.a.createElement(o.Fragment,{__self:this},n.a.createElement("svg",{className:"DyPlayCover-hotIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+m.a.id,__self:this})),C):n.a.createElement(o.Fragment,{__self:this},D)),n.a.createElement("div",{className:"DyPlayCover-labelWrap",__self:this},E?g:null)))):null)},DyPlayCover}(n.a.Component),i=function _applyDecoratedDescriptor(e,t,s,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=s.slice().reverse().reduce(function(s,r){return r(e,t,s)||s},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(a.prototype,"event",[r],{enumerable:!0,initializer:null})},a3725:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-cover_a960c5b.png"},a4ba3:function(e,t,s){"use strict";var r,a,i,o=s("1a22b"),n=s.n(o),l=s("eb3e2"),c=s("7ca7d"),h=s("db47a"),u=s("ee908"),v=s("53587"),m=s("8dce0"),f=s.n(m),p=s("0229c"),d=s.n(p),y=s("29b13"),_=s("a75c2"),b=s("59cf4"),C=s.n(b),D=s("21a65"),E=s.n(D),g=new C.a({id:"icon-up_734efb6",use:"icon-up_734efb6-usage",viewBox:"0 0 17 15",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 15" id="icon-up_734efb6"><g fill="#888" fill-rule="nonzero"><path d="M2 4v4.857c0 1.022.264 1.802.792 2.352.508.527 1.24.791 2.204.791.955 0 1.686-.275 2.204-.802.518-.539.782-1.319.782-2.34V4H6.875v4.88c0 .702-.152 1.219-.447 1.56-.305.34-.782.516-1.432.516-.66 0-1.137-.176-1.442-.516-.305-.341-.447-.858-.447-1.56V4H2zm7.404 0v7.846h1.107V8.791h1.879c1.737 0 2.61-.802 2.61-2.406C15 4.79 14.137 4 12.41 4H9.404zm1.107 1.022h1.808c.538 0 .934.11 1.188.33.254.197.386.55.386 1.033 0 .483-.132.835-.376 1.055-.254.22-.65.33-1.198.33H10.51V5.021z" /><path d="M13.964 0C15.641 0 17 1.4 17 3.125v8.75C17 13.601 15.64 15 13.964 15H3.036C1.359 15 0 13.6 0 11.875v-8.75C0 1.399 1.36 0 3.036 0h10.928zm.161 1H2.875C1.839 1 1 1.873 1 2.95v9.1C1 13.127 1.84 14 2.875 14h11.25C15.161 14 16 13.127 16 12.05v-9.1C16 1.873 15.16 1 14.125 1z" /></g></symbol>'}),S=(E.a.add(g),g),w=(s("4e5d1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e});function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _objectWithoutProperties(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s}var N=function Link(e){var t=e.url,s=_objectWithoutProperties(e,["url"]);return t?n.a.createElement("a",w({href:t,target:"_blank"},s,{__self:void 0})):n.a.createElement("span",w({},s,{__self:void 0}))};r=(0,c.default.Service)(l.DataCenter.event),a=function(e){function DyListCover(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DyListCover);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,s,r){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(r):void 0})}(t,"event",i,t),t.handleDelayJump=function(e){var s=t.props,r=s.delay,a=s.directUrl,i=s.rid,o=a||(i?"/"+i:"");e.preventDefault(),t.timer||(t.timer=setTimeout(function(){window.open(o),t.timer=null},r||0))},t.toggleChoose=function(e){var s=t.props,r=s.rid,a=s.isSelect;(0,s.toggleChooseRid)(+r,!a),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault()},t.state={isHover:!1},t.handleMouseOver=t.handleMouseOver.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.handleCare=t.handleCare.bind(t),t.setImgStatus=t.setImgStatus.bind(t),t.handleZone=t.handleZone.bind(t),t.handleClick=t.handleClick.bind(t),t.handleDys=t.handleDys.bind(t),t.hls=null,t.ishover=!1,t}return _inherits(DyListCover,e),DyListCover.prototype.componentDidUpdate=function componentDidUpdate(e){var t=this,s=this.props.videoSrc,r=this.state.isHover;e.videoSrc!==s&&s&&r&&(window.Hls?this.videoPlay(s):window.loader.loadFile("https://sta-op.douyucdn.cn/front-publish/sdk-file-master/hls_14b7ec8.js",function(){t.videoPlay(s)}))},DyListCover.prototype.videoPlay=function videoPlay(e){var t=this,s=this.video;return this.ishover=!0,s.oncanplay=null,window.Hls.isSupported()?this.hls?null:(this.hls=new window.Hls,this.hls.loadSource(e),this.hls.attachMedia(s),s.oncanplay=function(){return t.onReadyDot(e)},this.hls.on(window.Hls.Events.MANIFEST_PARSED,function(){t.beginHoverTime=(new Date).getTime(),t.props.isMark&&t.setState({mark:!0}),s.play()}),this.hls.on(window.Hls.Events.ERROR,function(){t.clearHls()}),s.onended=function(){t.clearHls()},s.onerror=function(){t.clearHls()},this.hls):null},DyListCover.prototype.onReadyDot=function onReadyDot(e){var t={type:1,surl:e,quality:0,st:this.props.rtmp_cdn,vt:""};this.baseStreamDot?this.baseStreamDot.onReady(t):(this.baseStreamDot=new u.a({did:this.props.did,uid:this.props.uid||"0",ct:"web",pt:"5",ver:"dyListCover20111001",rid:this.props.rid,tid:"",refer:window.location.href,r_type:0,env:1}),this.baseStreamDot.onReady(t))},DyListCover.prototype.clearHls=function clearHls(){if(this.baseStreamDot&&(this.baseStreamDot.onComplete(),this.baseStreamDot.dispose(),this.baseStreamDot=null),this.hls)try{this.hls.destroy(),this.hls=null}catch(e){this.hls&&(this.hls=null)}},DyListCover.prototype.handleClick=function handleClick(){this.props.click&&this.props.click()},DyListCover.prototype.handleDys=function handleDys(){var e=this.props,t=e.subdata;2!==e.subtype?t&&t.ext&&Object(h.dysub2)(w({},t,{event_id:1,ext:w({},t.ext,{_is_prev:this.ishover?1:0})})):Object(h.dysub)("click_athena_dyrecom_room",t)},DyListCover.prototype.handleMouseOver=function handleMouseOver(){this.beginHoverTime=0,this.props.mouseOver&&this.props.mouseOver(),this.ishover=!1,this.setState({isHover:!0})},DyListCover.prototype.handleMouseLeave=function handleMouseLeave(){var e=this,t=this.props,s=t.subdata,r=t.subtype;this.endHoverTime=(new Date).getTime(),2!==r?s&&s.ext&&this.endHoverTime-this.beginHoverTime>0&&0!==this.beginHoverTime&&Object(h.dysub2)(w({},s,{event_id:8,ext:w({},s.ext,{_dur_prev:this.endHoverTime-this.beginHoverTime})})):this.endHoverTime-this.beginHoverTime>0&&0!==this.beginHoverTime&&Object(h.dysub)("show_athena_dyrecom_pre",w({},s,{dur:this.endHoverTime-this.beginHoverTime})),this.props.mouseLeave&&this.props.mouseLeave(),this.setState({isHover:!1,mark:!1},function(){e.clearHls()}),this.ishover=!1},DyListCover.prototype.handleCare=function handleCare(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault(),this.props.setCare&&this.props.setCare(!this.props.care)},DyListCover.prototype.handleZone=function handleZone(e){this.props.zoneClickBack&&this.props.zoneClickBack(e)},DyListCover.prototype.componentWillMount=function componentWillMount(){this.event.load().subscribe()},DyListCover.prototype.setImgStatus=function setImgStatus(e){var t=this.props.showImgStatus,s=e.isError,r=e.isVisible;t&&this.event.load().subscribe(function(){t(e)}),s&&this.setState({isImgError:!0}),r&&this.setState({isImgVisible:!0})},DyListCover.prototype.render=function render(){var e=this,t=this.props,s=t.rid,r=t.className,a=t.offset,i=t.directUrl,o=t.src,l=t.defaultSrc,c=t.errorSrc,h=(t.isMark,t.videoId),u=(t.videoSrc,t.avatarSrc),m=t.defaultAvatarSrc,p=t.errorAvatarSrc,b=t.isShowUp,C=t.intro,D=t.zone,E=t.user,g=t.hot,L=t.isShowLabel,k=t.label,P=t.care,O=t.superscript,H=(t.mouseOver,t.mouseLeave,t.setCare,t.showImgStatus,t.zoneClickBack,t.click,t.isShowSuperSwitch),I=t.isSelect,j=_objectWithoutProperties(t,["rid","className","offset","directUrl","src","defaultSrc","errorSrc","isMark","videoId","videoSrc","avatarSrc","defaultAvatarSrc","errorAvatarSrc","isShowUp","intro","zone","user","hot","isShowLabel","label","care","superscript","mouseOver","mouseLeave","setCare","showImgStatus","zoneClickBack","click","isShowSuperSwitch","isSelect"]),z=this.state,M=(z.isImgError,z.isImgVisible,z.isHover),x=z.mark,T=i||(s?"/"+s:"");return n.a.createElement("div",w({className:"DyListCover "+(r||"")+" "+(T?"is-href":""),onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleDys,onClick:this.handleClick},j,{__self:this}),n.a.createElement(N,{url:T,className:"DyListCover-wrap",onClick:this.handleDelayJump,__self:this},n.a.createElement("div",{className:"DyListCover-imgWrap",__self:this},n.a.createElement(v.a,{className:"DyListCover-pic",src:o,defaultSrc:l||f.a,errorSrc:c,offset:a,showStatus:this.setImgStatus.bind(this),__self:this}),n.a.createElement("div",{className:"DyListCover-superscript",__self:this},O)),n.a.createElement("div",{className:"DyListCover-content",__self:this},n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("span",{className:"DyListCover-zone",__self:this},D),n.a.createElement("h3",{className:"DyListCover-intro",title:C||"",dangerouslySetInnerHTML:{__html:C},__self:this})),n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("span",{className:"DyListCover-hot",__self:this},n.a.createElement("svg",{className:"DyListCover-hotIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+y.a.id,__self:this})),g),n.a.createElement("h2",{className:"DyListCover-user",__self:this},n.a.createElement("svg",{className:"DyListCover-userIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+_.a.id,__self:this})),n.a.createElement("div",{className:"DyListCover-userName",__self:this},b?n.a.createElement("svg",{className:"DyListCover-upIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+S.id,__self:this})):null,E))),L?k:null),H?n.a.createElement("div",{className:"DyListCover-superSwitch "+(I?"is-open":""),onClick:this.toggleChoose,__self:this},n.a.createElement("i",{__self:this})):null),M?n.a.createElement(N,{url:T,className:"DyListCover-wrap is-hover",onClick:this.handleDelayJump,__self:this},n.a.createElement("div",{className:"DyListCover-imgWrap",__self:this},n.a.createElement(v.a,{className:"DyListCover-pic "+(x?"is-mark":""),isLazyable:!1,src:o,defaultSrc:l||f.a,errorSrc:c,__self:this}),n.a.createElement("video",{id:h,ref:function ref(t){return e.video=t},className:"DyListCover-video",muted:!0,autoPlay:!0,__self:this}),n.a.createElement("div",{className:"DyListCover-superscript",__self:this},O)),n.a.createElement("div",{className:"DyListCover-content",__self:this},n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("span",{className:"DyListCover-zone",onClick:this.handleZone,__self:this},D),n.a.createElement("h3",{className:"DyListCover-intro",title:C||"",dangerouslySetInnerHTML:{__html:C},__self:this})),n.a.createElement("div",{className:"DyListCover-desc",__self:this},n.a.createElement("div",{className:"DyListCover-btn "+(P?"is-care":""),onClick:this.handleCare,onMouseDown:function onMouseDown(e){return e.stopPropagation()},__self:this},P?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"),n.a.createElement(v.a,{className:"DyListCover-avatar",isLazyable:!1,src:u,defaultSrc:m||d.a,errorSrc:p,__self:this}),n.a.createElement("div",{className:"DyListCover-info",__self:this},n.a.createElement("h2",{className:"DyListCover-user",__self:this},n.a.createElement("div",{className:"DyListCover-userName",__self:this},b?n.a.createElement("svg",{className:"DyListCover-upIcon-hover",__self:this},n.a.createElement("use",{xlinkHref:"#"+S.id,__self:this})):null,E)),n.a.createElement("span",{className:"DyListCover-hot",__self:this},n.a.createElement("svg",{className:"DyListCover-hotIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+y.a.id,__self:this})),g))),k),H?n.a.createElement("div",{className:"DyListCover-superSwitch "+(I?"is-open":""),onClick:this.toggleChoose,__self:this},n.a.createElement("i",{__self:this})):null):null)},DyListCover}(n.a.Component),i=function _applyDecoratedDescriptor(e,t,s,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=s.slice().reverse().reduce(function(s,r){return r(e,t,s)||s},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(a.prototype,"event",[r],{enumerable:!0,initializer:null})},a75c2:function(e,t,s){"use strict";var r=s("59cf4"),a=s.n(r),i=s("21a65"),o=s.n(i),n=new a.a({id:"icon-user_c95acf8",use:"icon-user_c95acf8-usage",viewBox:"0 0 14 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" id="icon-user_c95acf8"><path d="M12 13H2c-.6 0-1-.4-1-1v-1c0-1.6 1.2-2.8 2.7-3 1 .6 2.1 1 3.3 1 1.2 0 2.3-.4 3.3-1 1.5.1 2.7 1.4 2.7 3v1c0 .6-.4 1-1 1zM7 7C5.3 7 4 5.7 4 4s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z" /></symbol>'});o.a.add(n);t.a=n},ac24d:function(e,t,s){e.exports=s("d1db8")("1e152")},b9602:function(e,t,s){"use strict";s("1a22b")},c01c6:function(e,t,s){"use strict";var r,a,i,o=s("1a22b"),n=s.n(o),l=s("eb3e2"),c=s("7ca7d"),h=s("db47a"),u=s("53587"),v=s("0e285"),m=s.n(v),f=s("de14a"),p=s.n(f),d=s("29b13"),y=(s("a75c2"),s("ee908")),_=(s("31013"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e});function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var s=Object.getOwnPropertyNames(t),r=0;r<s.length;r++){var a=s[r],i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}(e,t))}function _objectWithoutProperties(e,t){var s={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s}var b=function Link(e){var t=e.url,s=_objectWithoutProperties(e,["url"]);return t?n.a.createElement("a",_({href:t,target:"_blank"},s,{__self:void 0})):n.a.createElement("span",_({},s,{__self:void 0}))};r=(0,c.default.Service)(l.DataCenter.event),a=function(e){function DyHistoryCover(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DyHistoryCover);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function _initDefineProp(e,t,s,r){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(r):void 0})}(t,"event",i,t),t.state={isHover:!1},t.handleMouseOver=t.handleMouseOver.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.handleCare=t.handleCare.bind(t),t.setImgStatus=t.setImgStatus.bind(t),t.handleZone=t.handleZone.bind(t),t.handleClick=t.handleClick.bind(t),t.handleDelayJump=t.handleDelayJump.bind(t),t.handleDys=t.handleDys.bind(t),t.hls=null,t.linkRef=n.a.createRef(),t.ishover=!1,t}return _inherits(DyHistoryCover,e),DyHistoryCover.prototype.componentDidUpdate=function componentDidUpdate(e){var t=this,s=this.props.videoSrc,r=this.state.isHover;e.videoSrc!==s&&s&&r&&(window.Hls?this.videoPlay(s):window.loader.loadFile("https://sta-op.douyucdn.cn/front-publish/sdk-file-master/hls_14b7ec8.js",function(){t.videoPlay(s)}))},DyHistoryCover.prototype.videoPlay=function videoPlay(e){var t=this,s=this.video;return this.ishover=!0,s.oncanplay=null,window.Hls.isSupported()?this.hls?null:(this.hls=new window.Hls,this.hls.loadSource(e),this.hls.attachMedia(s),s.oncanplay=function(){return t.onReadyDot(e)},this.hls.on(window.Hls.Events.MANIFEST_PARSED,function(){t.beginHoverTime=(new Date).getTime(),t.props.isMark&&t.setState({mark:!0}),s.play()}),this.hls.on(window.Hls.Events.ERROR,function(){t.clearHls()}),this.hls):null},DyHistoryCover.prototype.onReadyDot=function onReadyDot(e){var t={type:1,surl:e,quality:0,st:this.props.rtmp_cdn,vt:""};this.baseStreamDot?this.baseStreamDot.onReady(t):(this.baseStreamDot=new y.a({did:this.props.did,uid:this.props.uid||"0",ct:"web",pt:"5",ver:"dyListCover20111001",rid:this.props.rid,tid:"",refer:window.location.href,r_type:0,env:1}),this.baseStreamDot.onReady(t))},DyHistoryCover.prototype.clearHls=function clearHls(){if(this.baseStreamDot&&(this.baseStreamDot.onComplete(),this.baseStreamDot.dispose(),this.baseStreamDot=null),this.hls)try{this.hls.destroy(),this.hls=null}catch(e){this.hls&&(this.hls=null)}},DyHistoryCover.prototype.handleClick=function handleClick(){this.props.click&&this.props.click()},DyHistoryCover.prototype.handleDys=function handleDys(){var e=this.props,t=e.subdata;2!==e.subtype?t&&t.ext&&Object(h.dysub2)(_({},t,{event_id:1,ext:_({},t.ext,{_is_prev:this.ishover?1:0})})):Object(h.dysub)("click_athena_dyrecom_room",t)},DyHistoryCover.prototype.handleMouseOver=function handleMouseOver(){this.beginHoverTime=0,this.props.mouseOver&&this.props.mouseOver(),this.ishover=!1,this.setState({isHover:!0})},DyHistoryCover.prototype.handleMouseLeave=function handleMouseLeave(){var e=this,t=this.props,s=t.subdata,r=t.subtype;this.endHoverTime=(new Date).getTime(),2!==r?s&&s.ext&&this.endHoverTime-this.beginHoverTime>0&&0!==this.beginHoverTime&&Object(h.dysub2)(_({},s,{event_id:8,ext:_({},s.ext,{_dur_prev:this.endHoverTime-this.beginHoverTime})})):this.endHoverTime-this.beginHoverTime>0&&0!==this.beginHoverTime&&Object(h.dysub)("show_athena_dyrecom_pre",_({},s,{dur:this.endHoverTime-this.beginHoverTime})),this.props.mouseLeave&&this.props.mouseLeave(),this.setState({isHover:!1,mark:!1},function(){e.clearHls()}),this.ishover=!1},DyHistoryCover.prototype.handleCare=function handleCare(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault(),this.props.setCare&&this.props.setCare(!this.props.care)},DyHistoryCover.prototype.handleZone=function handleZone(e){this.props.zoneClickBack&&this.props.zoneClickBack(e)},DyHistoryCover.prototype.handleDelayJump=function handleDelayJump(e){var t=this,s=this.props.delay;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),e.preventDefault(),this.timer||(this.timer=setTimeout(function(){t.linkRef.current.click(),t.timer=null},s||0))},DyHistoryCover.prototype.componentWillMount=function componentWillMount(){this.event.load().subscribe()},DyHistoryCover.prototype.setImgStatus=function setImgStatus(e){var t=this.props.showImgStatus,s=e.isError,r=e.isVisible;t&&this.event.load().subscribe(function(){t(e)}),s&&this.setState({isImgError:!0}),r&&this.setState({isImgVisible:!0})},DyHistoryCover.prototype.render=function render(){var e=this,t=this.props,s=t.rid,r=t.className,a=t.offset,i=t.directUrl,o=t.src,l=t.defaultSrc,c=t.errorSrc,h=(t.isMark,t.videoId),v=(t.videoSrc,t.avatarSrc),f=t.defaultAvatarSrc,y=t.errorAvatarSrc,C=t.intro,D=t.zone,E=t.user,g=t.time,S=t.isLive,w=t.videoLoop,N=t.isShowLabel,L=t.label,k=t.care,P=t.superscript,O=(t.mouseOver,t.mouseLeave,t.setCare,t.showImgStatus,t.zoneClickBack,t.click,t.form),H=t.hot,I=_objectWithoutProperties(t,["rid","className","offset","directUrl","src","defaultSrc","errorSrc","isMark","videoId","videoSrc","avatarSrc","defaultAvatarSrc","errorAvatarSrc","intro","zone","user","time","isLive","videoLoop","isShowLabel","label","care","superscript","mouseOver","mouseLeave","setCare","showImgStatus","zoneClickBack","click","form","hot"]),j=this.state,z=(j.isImgError,j.isImgVisible,j.isHover),M=j.mark,x=i||(s?"/"+s:"");return n.a.createElement("div",_({className:"DyHistoryCover "+(r||"")+" "+(x?"is-href":""),onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleDys,onClick:this.handleClick},I,{__self:this}),n.a.createElement(b,{url:x,className:"DyHistoryCover-wrap",onClick:this.handleDelayJump,__self:this},n.a.createElement("div",{className:"DyHistoryCover-imgWrap",__self:this},n.a.createElement(u.a,{className:"DyHistoryCover-pic",src:o,defaultSrc:l||m.a,errorSrc:c,offset:a,showStatus:this.setImgStatus.bind(this),__self:this}),n.a.createElement("div",{className:"DyHistoryCover-superscript",__self:this},P)),n.a.createElement("div",{className:"DyHistoryCover-content",__self:this},n.a.createElement("div",{className:"DyHistoryCover-avatar",__self:this},n.a.createElement(u.a,{isLazyable:!1,src:v,defaultSrc:f||p.a,errorSrc:y,__self:this}),S&&1!==+w?n.a.createElement("i",{className:"DyHistoryCover-isLive",__self:this}):null,1===+w?n.a.createElement("i",{className:"DyHistoryCover-isWheel",__self:this}):null),n.a.createElement("div",{className:"DyHistoryCover-info",__self:this},n.a.createElement("span",{className:"DyHistoryCover-zone",__self:this},D),n.a.createElement("h3",{className:"DyHistoryCover-intro",title:C||"",dangerouslySetInnerHTML:{__html:C},__self:this})),"list"===O?n.a.createElement("div",{className:"DyHistoryCover-info",__self:this},n.a.createElement("span",{className:"DyHistoryCover-time",__self:this},g),n.a.createElement("h2",{className:"DyHistoryCover-user",__self:this},E)):n.a.createElement("div",{className:"DyHistoryCover-info",__self:this},n.a.createElement("span",{className:"DyHistoryCover-hot",__self:this},n.a.createElement("svg",{className:"DyHistoryCover-hotIcon",__self:this},n.a.createElement("use",{xlinkHref:"#"+d.a.id,__self:this})),H),n.a.createElement("h2",{className:"DyHistoryCover-user",__self:this},E)),N?L:null)),z?n.a.createElement(b,{url:x,className:"DyHistoryCover-wrap is-hover",onClick:this.handleDelayJump,__self:this},n.a.createElement("div",{className:"DyHistoryCover-imgWrap",__self:this},n.a.createElement(u.a,{className:"DyHistoryCover-pic "+(M?"is-mark":""),isLazyable:!1,src:o,defaultSrc:l||m.a,errorSrc:c,__self:this}),n.a.createElement("video",{id:h,ref:function ref(t){return e.video=t},className:"DyHistoryCover-video",muted:!0,autoPlay:!0,__self:this}),n.a.createElement("div",{className:"DyHistoryCover-superscript",__self:this},P)),n.a.createElement("div",{className:"DyHistoryCover-content",__self:this},n.a.createElement("div",{className:"DyHistoryCover-desc",__self:this},n.a.createElement("div",{className:"DyHistoryCover-btn "+(k?"is-care":""),onClick:this.handleCare,__self:this},k?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"),n.a.createElement("div",{className:"DyHistoryCover-avatar",__self:this},n.a.createElement(u.a,{isLazyable:!1,src:v,defaultSrc:f||p.a,errorSrc:y,__self:this}),S&&1!==+w?n.a.createElement("i",{className:"DyHistoryCover-isLive",__self:this}):null,1===+w?n.a.createElement("i",{className:"DyHistoryCover-isWheel",__self:this}):null),n.a.createElement("div",{className:"DyHistoryCover-info",__self:this},n.a.createElement("h3",{className:"DyHistoryCover-intro",title:C||"",dangerouslySetInnerHTML:{__html:C},__self:this}),",",n.a.createElement("h2",{className:"DyHistoryCover-user",__self:this},E))),L)):null,x?n.a.createElement("a",{href:x,ref:this.linkRef,target:"_blank",__self:this}):n.a.createElement("span",{ref:this.linkRef,__self:this}))},DyHistoryCover}(n.a.Component),i=function _applyDecoratedDescriptor(e,t,s,r,a){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=s.slice().reverse().reduce(function(s,r){return r(e,t,s)||s},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(a.prototype,"event",[r],{enumerable:!0,initializer:null})},db74e:function(e,t,s){"use strict";var r=s("59cf4"),a=s.n(r),i=s("21a65"),o=s.n(i),n=new a.a({id:"icon-play-count_0d35ece",use:"icon-play-count_0d35ece-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="icon-play-count_0d35ece"><path d="M10 1.5H2A1.5 1.5 0 00.5 3v6A1.5 1.5 0 002 10.5h8A1.5 1.5 0 0011.5 9V3A1.5 1.5 0 0010 1.5zM5 3.402a1 1 0 01.53.152l2.557 1.598a1 1 0 010 1.696L5.53 8.446A1 1 0 014 7.598V4.402a1 1 0 011-1z" stroke="#FFF" fill="#FFF" fill-rule="evenodd" /></symbol>'});o.a.add(n);t.a=n},de14a:function(e,t){e.exports="https://shark2.douyucdn.cn/front-publish/live-master/assets/images/default-avatar_8d1ca2f.jpg"},e020c:function(e,t,s){},eeb07:function(e,t,s){e.exports=s("d1db8")("5371a")}}]);
//# sourceMappingURL=http://sourcemap.douyucdn.cn:4567/room/online/sourcemaps/common~002699c4_b3ebfe8.js.map
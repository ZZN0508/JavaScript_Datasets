!function(){"use strict";function s(e,t){var o=e.style[t];if(e.currentStyle?o=e.currentStyle[t]:window.getComputedStyle&&(o=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),"auto"==o&&"cursor"==t)for(var r=["a"],i=0;i<r.length;i++)if(e.tagName.toLowerCase()==r[i])return"pointer";return o}function a(e){var t;c.prototype._singleton&&(e=e||window.event,this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),c.prototype._singleton.setCurrent(t))}function n(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var o=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var r=" "+e.className+" ",i=e.className,s=0,a=o.length;s<a;s++)r.indexOf(" "+o[s]+" ")<0&&(i+=" "+o[s]);e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=t}return e}function l(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||void 0===t){var o=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var r=(" "+e.className+" ").replace(/[\n\t]/g," "),i=0,s=o.length;i<s;i++)r=r.replace(" "+o[i]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e}function r(e){return c.prototype._singleton.options.useNoCache?(0<=e.indexOf("?")?"&nocache=":"?nocache=")+(new Date).getTime():""}function i(e){var t,o=[];return e.trustedDomains&&("string"==typeof e.trustedDomains&&e.trustedDomains?t=[e.trustedDomains]:"length"in e.trustedDomains&&(t=e.trustedDomains),o.push("trustedDomain="+encodeURIComponent(t.join(",")))),"string"==typeof e.amdModuleId&&e.amdModuleId&&o.push("amdModuleId="+encodeURIComponent(e.amdModuleId)),o.join("&")}function p(e,t){if(t.indexOf)return t.indexOf(e);for(var o=0,r=t.length;o<r;o++)if(t[o]===e)return o;return-1}function d(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]}var h,c=function(e,t){if(e&&(c.prototype._singleton||this).glue(e),c.prototype._singleton)return c.prototype._singleton;for(var o in(c.prototype._singleton=this).options={},f)this.options[o]=f[o];for(var r in t)this.options[r]=t[r];this.handlers={},c.detectFlashSupport()&&m()},u=[];c.prototype.setCurrent=function(e){h=e,this.reposition(),e.getAttribute("title")&&this.setTitle(e.getAttribute("title")),this.setHandCursor("pointer"==s(e,"cursor"))},c.prototype.setText=function(e){e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},c.prototype.setTitle=function(e){e&&""!==e&&this.htmlBridge.setAttribute("title",e)},c.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},c.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)};var f={moviePath:"/static/js/ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!(c.version="1.2.0-beta.1"),amdModuleId:null};c.setDefaults=function(e){for(var t in e)f[t]=e[t]},c.destroy=function(){c.prototype._singleton.unglue(u);var e=c.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete c.prototype._singleton},c.detectFlashSupport=function(){var e=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(e){}return e=!e&&navigator.mimeTypes["application/x-shockwave-flash"]?!0:e};var m=function(){var e,t=c.prototype._singleton,o=document.getElementById("global-zeroclipboard-html-bridge");o||(e='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+t.options.moviePath+r(t.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+t.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+i(t.options)+'"/>         <embed src="'+t.options.moviePath+r(t.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+i(t.options)+'"           scale="exactfit">         </embed>       </object>',(o=document.createElement("div")).id="global-zeroclipboard-html-bridge",o.setAttribute("class","global-zeroclipboard-container"),o.setAttribute("data-clipboard-ready",!1),o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.style.width="15px",o.style.height="15px",o.style.zIndex="9999",o.innerHTML=e,document.body.appendChild(o)),t.htmlBridge=o,t.flashBridge=document["global-zeroclipboard-flash-bridge"]||o.children[0].lastElementChild};c.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),l(h,this.options.activeClass),h=null,this.options.text=null},c.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||!0===e},c.prototype.reposition=function(){if(!h)return!1;var e=function(e){var t={left:0,top:0,width:e.width||e.offsetWidth||0,height:e.height||e.offsetHeight||0,zIndex:9999},o=s(e,"zIndex");for(o&&"auto"!=o&&(t.zIndex=parseInt(o,10));e;){var r=parseInt(s(e,"borderLeftWidth"),10),i=parseInt(s(e,"borderTopWidth"),10);t.left+=isNaN(e.offsetLeft)?0:e.offsetLeft,t.left+=isNaN(r)?0:r,t.top+=isNaN(e.offsetTop)?0:e.offsetTop,t.top+=isNaN(i)?0:i,e=e.offsetParent}return t}(h);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},c.dispatch=function(e,t){c.prototype._singleton.receiveEvent(e,t)},c.prototype.on=function(e,t){for(var o=e.toString().split(/\s/g),r=0;r<o.length;r++)e=o[r].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!c.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},c.prototype.addEventListener=c.prototype.on,c.prototype.off=function(e,t){for(var o=e.toString().split(/\s/g),r=0;r<o.length;r++)for(var i in e=o[r].toLowerCase().replace(/^on/,""),this.handlers)i===e&&this.handlers[i]===t&&delete this.handlers[i]},c.prototype.removeEventListener=c.prototype.off,c.prototype.receiveEvent=function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");var o=h;switch(e){case"load":if(t&&parseFloat(t.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:t.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":n(o,this.options.hoverClass);break;case"mouseout":l(o,this.options.hoverClass),this.resetBridge();break;case"mousedown":n(o,this.options.activeClass);break;case"mouseup":l(o,this.options.activeClass);break;case"datarequested":var r,i=o.getAttribute("data-clipboard-target"),i=i?document.getElementById(i):null;i?(r=i.value||i.textContent||i.innerText)&&this.setText(r):(r=o.getAttribute("data-clipboard-text"))&&this.setText(r);break;case"complete":this.options.text=null}this.handlers[e]&&("function"==typeof(e=this.handlers[e])?e.call(o,this,t):"string"==typeof e&&window[e].call(o,this,t))},c.prototype.glue=function(e){e=d(e);for(var t,o,r,i=0;i<e.length;i++)-1==p(e[i],u)&&(u.push(e[i]),t=e[i],o="mouseover",r=a,t.addEventListener?t.addEventListener(o,r,!1):t.attachEvent&&t.attachEvent("on"+o,r))},c.prototype.unglue=function(e){e=d(e);for(var t,o,r=0;r<e.length;r++){t=e[r],o="mouseover",i=a,t.removeEventListener?t.removeEventListener(o,i,!1):t.detachEvent&&t.detachEvent("on"+o,i);var i=p(e[r],u);-1!=i&&u.splice(i,1)}},"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):window.ZeroClipboard=c}();

function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.PARSELY=window.PARSELY||{},window.PARSELY.version="2.0.0-rc.1",window.PARSELY.majorVersion=2,window.PARSELY.hotfixName="",window.PARSELY.flavor="engagedtime-slots",window.PARSELY.__template_track_ips=!0,window.PARSELY.__template_heartbeat_should_honor_autotrack=void 0,window.PARSELY.__template_limit_et_sample_len=!1,window.PARSELY.__template_apikey="theverge.com",window.PARSELY.__template_is_first_party=!1,window.PARSELY.__template_pixelhost="",window.PARSELY.__template_customizations=null,window.PARSELY=window.PARSELY||{},function(){function e(){return function(e){this!==window&&void 0!==this&&(100<=this.msgs.length&&(this.msgs=this.msgs.slice(0,100)),this.msgs.push(e))}}PARSELY.console={msgs:[],log:e(),dir:e()}}(),function(){var n=PARSELY.console;try{t=document.getElementById("parsely-cfg").getAttribute("data-parsely-site")}catch(e){t=null}var t=PARSELY.site||t||PARSELY.__template_apikey||"missing.parsely.com",i=document.location.protocol+"//"+(PARSELY.pixelhost||PARSELY.__template_pixelhost||"p1.parsely.com");PARSELY.pInit=function(e){if(void 0===e.error){if(n.log("Static configuration loaded"),"object"===_typeof(PARSELY.config))for(var t in PARSELY.config)PARSELY.config.hasOwnProperty(t)&&(e[t]=PARSELY.config[t]);PARSELY.config=e,PARSELY.urls={static:null,config:null,pixel:i},PARSELY._sync=!0,PARSELY.is_first_party=PARSELY.__template_is_first_party||!1}else n.log("Unable to load static configuration")},n.log("Loading configuration statically");t={apikey:t,uuid:null,network_uuid:null,apikey_uuid:null,settings:{debug:!1,widget:!1,tracker:!0,test:window._parselyIsTest||!1},bundle:null,customizations:PARSELY.__template_customizations||null,track_ip_addresses:PARSELY.__template_track_ips||!0,heartbeat_should_honor_autotrack:PARSELY.__template_heartbeat_should_honor_autotrack||!1,limit_et_sample_len:PARSELY.__template_limit_et_sample_len||!1,is_remote_config:!1};PARSELY.pInit(t)}(),"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";function e(e){return e<10?"0"+e:e}function t(){return this.valueOf()}function l(e){return m.lastIndex=0,m.test(e)?'"'+e.replace(m,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}window.PARSELY||(window.PARSELY={});var n=window.PARSELY;n.JSON||(n.JSON=window.JSON||{});var d,f,i,p,o,r,a,s,u,c,g,h,v,m=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=t,Number.prototype.toJSON=t,String.prototype.toJSON=t),"function"!=typeof JSON.stringify&&(i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(f=d="","number"==typeof n)for(i=0;i<n;i+=1)f+=" ";else"string"==typeof n&&(f=n);if((p=t)&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,n){var i,o,r,a,s,u=d,c=n[t];switch(c&&"object"===_typeof(c)&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),_typeof(c="function"==typeof p?p.call(n,t,c):c)){case"string":return l(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(d+=f,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(a=c.length,i=0;i<a;i+=1)s[i]=e(i,c)||"null";return r=0===s.length?"[]":d?"[\n"+d+s.join(",\n"+d)+"\n"+u+"]":"["+s.join(",")+"]",d=u,r}if(p&&"object"===_typeof(p))for(a=p.length,i=0;i<a;i+=1)"string"==typeof p[i]&&(r=e(o=p[i],c))&&s.push(l(o)+(d?": ":":")+r);else for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(r=e(o,c))&&s.push(l(o)+(d?": ":":")+r);return r=0===s.length?"{}":d?"{\n"+d+s.join(",\n"+d)+"\n"+u+"}":"{"+s.join(",")+"}",d=u,r}}("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=(c={"\\":"\\",'"':'"',"/":"/",t:"\t",n:"\n",r:"\r",f:"\f",b:"\b"},g={go:function(){o="ok"},firstokey:function(){s=u,o="colon"},okey:function(){s=u,o="colon"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},h={go:function(){o="ok"},ovalue:function(){o="ocomma"},firstavalue:function(){o="acomma"},avalue:function(){o="acomma"}},v={"{":{go:function(){r.push({state:"ok"}),a={},o="firstokey"},ovalue:function(){r.push({container:a,state:"ocomma",key:s}),a={},o="firstokey"},firstavalue:function(){r.push({container:a,state:"acomma"}),a={},o="firstokey"},avalue:function(){r.push({container:a,state:"acomma"}),a={},o="firstokey"}},"}":{firstokey:function(){var e=r.pop();u=a,a=e.container,s=e.key,o=e.state},ocomma:function(){var e=r.pop();a[s]=u,u=a,a=e.container,s=e.key,o=e.state}},"[":{go:function(){r.push({state:"ok"}),a=[],o="firstavalue"},ovalue:function(){r.push({container:a,state:"ocomma",key:s}),a=[],o="firstavalue"},firstavalue:function(){r.push({container:a,state:"acomma"}),a=[],o="firstavalue"},avalue:function(){r.push({container:a,state:"acomma"}),a=[],o="firstavalue"}},"]":{firstavalue:function(){var e=r.pop();u=a,a=e.container,s=e.key,o=e.state},acomma:function(){var e=r.pop();a.push(u),u=a,a=e.container,s=e.key,o=e.state}},":":{colon:function(){if(Object.hasOwnProperty.call(a,s))throw new SyntaxError("Duplicate key '"+s+'"');o="ovalue"}},",":{ocomma:function(){a[s]=u,o="okey"},acomma:function(){a.push(u),o="avalue"}},true:{go:function(){u=!0,o="ok"},ovalue:function(){u=!0,o="ocomma"},firstavalue:function(){u=!0,o="acomma"},avalue:function(){u=!0,o="acomma"}},false:{go:function(){u=!1,o="ok"},ovalue:function(){u=!1,o="ocomma"},firstavalue:function(){u=!1,o="acomma"},avalue:function(){u=!1,o="acomma"}},null:{go:function(){u=null,o="ok"},ovalue:function(){u=null,o="ocomma"},firstavalue:function(){u=null,o="acomma"},avalue:function(){u=null,o="acomma"}}},function(e,a){var t,n,i=/^[\u0020\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;o="go",r=[];try{for(;t=i.exec(e);)t[1]?v[t[1]][o]():t[2]?(u=+t[2],h[o]()):(n=t[3],u=n.replace(/\\(?:u(.{4})|([^u]))/g,function(e,t,n){return t?String.fromCharCode(parseInt(t,16)):c[n]}),g[o]()),e=e.slice(t[0].length)}catch(e){o=e}if("ok"!==o||/[^\u0020\t\n\r]/.test(e))throw o instanceof SyntaxError?o:new SyntaxError("JSON");return"function"==typeof a?function e(t,n){var i,o,r=t[n];if(r&&"object"===_typeof(r))for(i in u)Object.prototype.hasOwnProperty.call(r,i)&&(void 0!==(o=e(r,i))?r[i]=o:delete r[i]);return a.call(t,n,r)}({"":u},""):u}))}(),function(){this.PARSELY||(this.PARSELY={});var e=this.PARSELY,r=!1,a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;e.Class=function(){},e.Class.extend=function(e){function t(){!r&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;r=!0;var n,i=new this;for(n in r=!1,e)i[n]="function"==typeof e[n]&&"function"==typeof o[n]&&a.test(e[n])?function(n,i){return function(){var e=this._super;this._super=o[n];var t=i.apply(this,arguments);return this._super=e,t}}(n,e[n]):e[n];return t.prototype=i,(t.constructor=t).extend=arguments.callee,t}}(),function(e,t){"undefined"==typeof PARSELY&&(PARSELY={}),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?(module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)},PARSELY.$=PARSELY.jQuery=t(e,!0)):PARSELY.$=PARSELY.jQuery=t(e,!1)}("undefined"!=typeof window?window:this,function(g,e){function a(e){var t=e.length,n=h.type(e);return"function"!==n&&!h.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function i(e,t,n,i){if(h.acceptData(e)){var o,r=h.expando,a=e.nodeType,s=a?h.cache:e,u=a?e[r]:e[r]&&r;if(u&&s[u]&&(i||s[u].data)||void 0!==n||"string"!=typeof t)return s[u=u||(a?e[r]=c.pop()||h.guid++:r)]||(s[u]=a?{}:{toJSON:h.noop}),"object"!==_typeof(t)&&"function"!=typeof t||(i?s[u]=h.extend(s[u],t):s[u].data=h.extend(s[u].data,t)),u=s[u],i||(u.data||(u.data={}),u=u.data),void 0!==n&&(u[h.camelCase(t)]=n),"string"==typeof t?null==(o=u[t])&&(o=u[h.camelCase(t)]):o=u,o}}function n(){return!0}function s(){return!1}function t(){try{return E.activeElement}catch(e){}}function h(e,t){return new h.fn.init(e,t)}function o(e,t){return t.toUpperCase()}var c=[],l=c.slice,r=(c.concat,c.push),u=(c.indexOf,{}),d=u.toString,v=u.hasOwnProperty,f={},p="1.11.1 -deprecated,-css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl",m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,_=/-([\da-z])/gi;h.fn=h.prototype={jquery:p,constructor:h,selector:"",length:0,toArray:function(){return l.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:l.call(this)},pushStack:function(e){e=h.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e,t){return h.each(this,e,t)},map:function(n){return this.pushStack(h.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:r,sort:c.sort,splice:c.splice},h.extend=h.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[a]||{},a++),"object"===_typeof(r)||h.isFunction(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(i=arguments[a]))for(n in i)o=r[n],r!==(t=i[n])&&(u&&t&&(h.isPlainObject(t)||(e=h.isArray(t)))?(o=e?(e=!1,o&&h.isArray(o)?o:[]):o&&h.isPlainObject(o)?o:{},r[n]=h.extend(u,o,t)):void 0!==t&&(r[n]=t));return r},h.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&0<=e-parseFloat(e)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(f.ownLast)for(var t in e)return v.call(e,t);for(t in e);return void 0===t||v.call(e,t)},type:function(e){return null==e?e+"":"object"===_typeof(e)||"function"==typeof e?u[d.call(e)]||"object":_typeof(e)},camelCase:function(e){return e.replace(y,"ms-").replace(_,o)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,r=a(e);if(n){if(r)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(r)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(m,"")},makeArray:function(e,t){t=t||[];return null!=e&&(a(Object(e))?h.merge(t,"string"==typeof e?[e]:e):r.call(t,e)),t},guid:1,now:function(){return+new Date},support:f}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var S=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=g.document,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if((n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:b.exec(e))&&(n[1]||!t)){if(n[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),S.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=E.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=E,this.selector=e,this}}else{if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(h.isFunction(e))return void 0!==x.ready?x.ready(e):e(h)}return void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this)}).prototype=h.fn;var w,x=h(E),k=/\S+/g,P="undefined";for(w in h(f))break;f.ownLast="0"!==w,h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?h.cache[e[h.expando]]:e[h.expando])&&!function(e){for(var t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}(e)},data:function(e,t,n){return i(e,t,n)},_data:function(e,t,n){return i(e,t,n,!0)}}),function(){var e,t,n=E.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(f[e+"Bubbles"]=t in g)||(n.setAttribute(t,"t"),f[e+"Bubbles"]=!1===n.attributes[t].expando)}();var A=/^key/,R=/^(?:mouse|pointer|contextmenu)|click/,L=/^(?:focusinfocus|focusoutblur)$/,C=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(e,t,n,i,o){var r,a,s,u,c,l,d,f,p,g=h._data(e);if(g)for(n.handler&&(n=(s=n).handler,o=s.selector),n.guid||(n.guid=h.guid++),(r=g.events)||(r=g.events={}),(c=g.handle)||((c=g.handle=function(e){return _typeof(h)===P||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(c.elem,arguments)}).elem=e),a=(t=(t||"").match(k)||[""]).length;a--;)d=p=(l=C.exec(t[a])||[])[1],f=(l[2]||"").split(".").sort(),d&&(u=h.event.special[d]||{},d=(o?u.delegateType:u.bindType)||d,u=h.event.special[d]||{},l=h.extend({type:d,origType:p,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&h.expr.match.needsContext.test(o),namespace:f.join(".")},s),(p=r[d])||((p=r[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,f,c)||(e.addEventListener?e.addEventListener(d,c,!1):e.attachEvent&&e.attachEvent("on"+d,c))),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),h.event.global[d]=!0)},trigger:function(e,t,n,i){var o,r,a,s,u,c,l=[n||E],d=v.call(e,"type")?e.type:e,f=v.call(e,"namespace")?e.namespace.split("."):[],p=u=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!L.test(d+h.event.triggered)&&(0<=d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),r=d.indexOf(":")<0&&"on"+d,(e=e[h.expando]?e:new h.Event(d,"object"===_typeof(e)&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:h.makeArray(t,[e]),s=h.event.special[d]||{},i||!s.trigger||!1!==s.trigger.apply(n,t))){if(!i&&!s.noBubble&&!h.isWindow(n)){for(a=s.delegateType||d,L.test(a+d)||(p=p.parentNode);p;p=p.parentNode)l.push(p),u=p;u===(n.ownerDocument||E)&&l.push(u.defaultView||u.parentWindow||g)}for(c=0;(p=l[c++])&&!e.isPropagationStopped();)e.type=1<c?a:s.bindType||d,(o=(h._data(p,"events")||{})[e.type]&&h._data(p,"handle"))&&o.apply(p,t),(o=r&&p[r])&&o.apply&&h.acceptData(p)&&(e.result=o.apply(p,t),!1===e.result&&e.preventDefault());if(e.type=d,!i&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(l.pop(),t))&&h.acceptData(n)&&r&&n[d]&&!h.isWindow(n)){(u=n[r])&&(n[r]=null),h.event.triggered=d;try{n[d]()}catch(e){}h.event.triggered=void 0,u&&(n[r]=u)}return e.result}},dispatch:function(e){e=h.event.fix(e);var t,n,i,o,r,a=l.call(arguments),s=(h._data(this,"events")||{})[e.type]||[],u=h.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(r=h.event.handlers.call(this,e,s),t=0;(i=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(n=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(n.namespace)||(e.handleObj=n,e.data=n.data,void 0!==(n=((h.event.special[n.origType]||{}).handle||n.handler).apply(i.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,r,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(o=[],r=0;r<s;r++)void 0===o[n=(i=t[r]).selector+" "]&&(o[n]=i.needsContext?0<=h(n,this).index(u):h.find(n,this,null,[u]).length),o[n]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[h.expando])return e;var t,n,i,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=R.test(o)?this.mouseHooks:A.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new h.Event(r),t=i.length;t--;)e[n=i[t]]=r[n];return e.target||(e.target=r.srcElement||E),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==t()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===t()&&this.blur)return this.blur(),!1},delegateType:"focusout"}}},(h.Event=function(e,t){if(!(this instanceof h.Event))return new h.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?n:s):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),this[h.expando]=!0}).prototype={isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s,stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=n,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=n,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.fn.extend({on:function(e,t,n,i,o){var r,a;if("object"===_typeof(e)){for(r in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(r,t,n,e[r],o);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=s;else if(!i)return this;return 1===o&&(a=i,(i=function(e){return h().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=h.guid++)),this.each(function(){h.event.add(this,e,i,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return h.event.trigger(e,t,n,!0)}}),f.getSetAttribute,f.input,h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){h.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var T=/%20/g,O=/\[\]$/;h.param=function(e,t){function n(e,t){t=h.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,o=[];if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(h.isArray(e))h.each(e,function(e,t){o||O.test(i)?r(i,t):n(i+"["+("object"===_typeof(t)?e:"")+"]",t,o,r)});else if(o||"object"!==h.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&").replace(T,"+")};var Y=g.jQuery,N=g.$;return h.noConflict=function(e){return g.$===h&&(g.$=N),e&&g.jQuery===h&&(g.jQuery=Y),h},_typeof(e)===P&&(g.jQuery=g.$=h),h}),void 0===window.PARSELY&&(window.PARSELY={}),window.PARSELY._lifecycle=function(){"use strict";var e=void 0;try{new EventTarget,e=!1}catch(t){e=!1}var t="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t},n=function(){function e(){o(this,e),this._registry={}}return i(e,[{key:"addEventListener",value:function(e,t){this._getRegistry(e).push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._getRegistry(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}},{key:"dispatchEvent",value:function(t){return t.target=this,Object.freeze(t),this._getRegistry(t.type).forEach(function(e){return e(t)}),!0}},{key:"_getRegistry",value:function(e){return this._registry[e]=this._registry[e]||[]}}]),e}(),s=e?EventTarget:n,u=e?Event:function e(t){o(this,e),this.type=t},c=function(e){function i(e,t){o(this,i);var n=a(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.newState=t.newState,n.oldState=t.oldState,n.originalEvent=t.originalEvent,n}return r(i,u),i}(),l="active",d="passive",f="hidden",p="frozen",g="terminated",h="object"===("undefined"==typeof safari?"undefined":t(safari))&&safari.pushNotification,v=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],m=function(e){return e.preventDefault(),e.returnValue="Are you sure?"},y=[[l,d,f,g],[l,d,f,p],[f,d,l],[p,f],[p,l],[p,d]].map(function(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}),_=function(){return document.visibilityState===f?f:document.hasFocus()?l:d};return new(function(e){function n(){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),e=_();return t._state=e,t._unsavedChanges=[],t._handleEvents=t._handleEvents.bind(t),v.forEach(function(e){return addEventListener(e,t._handleEvents,!0)}),h&&addEventListener("beforeunload",function(e){t._safariBeforeUnloadTimeout=setTimeout(function(){e.defaultPrevented||e.returnValue.length>0||t._dispatchChangesIfNeeded(e,f)},0)}),t}return r(n,s),i(n,[{key:"addUnsavedChanges",value:function(e){!this._unsavedChanges.indexOf(e)>-1&&(0===this._unsavedChanges.length&&addEventListener("beforeunload",m),this._unsavedChanges.push(e))}},{key:"removeUnsavedChanges",value:function(e){var t=this._unsavedChanges.indexOf(e);t>-1&&(this._unsavedChanges.splice(t,1),0===this._unsavedChanges.length&&removeEventListener("beforeunload",m))}},{key:"_dispatchChangesIfNeeded",value:function(e,t){if(t!==this._state)for(var n=function(e,t){for(var n,i=0;n=y[i];++i){var o=n[e],r=n[t];if(o>=0&&r>=0&&r>o)return Object.keys(n).slice(o,r+1)}return[]}(this._state,t),i=0;i<n.length-1;++i){var o=n[i],r=n[i+1];this._state=r,this.dispatchEvent(new c("statechange",{oldState:o,newState:r,originalEvent:e}))}}},{key:"_handleEvents",value:function(e){switch(h&&clearTimeout(this._safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this._dispatchChangesIfNeeded(e,_());break;case"focus":this._dispatchChangesIfNeeded(e,l);break;case"blur":this._state===l&&this._dispatchChangesIfNeeded(e,_());break;case"pagehide":case"unload":this._dispatchChangesIfNeeded(e,e.persisted?p:g);break;case"visibilitychange":this._state!==p&&this._state!==g&&this._dispatchChangesIfNeeded(e,_());break;case"freeze":this._dispatchChangesIfNeeded(e,p)}}},{key:"state",get:function(){return this._state}},{key:"pageWasDiscarded",get:function(){return document.wasDiscarded||!1}}]),n}())}(),function(){this.PARSELY=this.PARSELY||{};var o,e=this.PARSELY;e.util={},(o=e.util).getWindow=function(){if(e.getWindow&&"function"==typeof e.getWindow)return e.getWindow();try{return window.top.document.cookie,window.top}catch(e){try{return window.parent.document.cookie,window.parent}catch(e){return window}}},o.windowSetFunction=function(e,t){var n=o.getWindow(),i=n[e];n[e]=function(){t(),"function"==typeof i&&i()}},o.windowAddEventListener=function(e,t){var n=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){n=!0}}))}catch(e){}var i=n?{passive:!0,capture:!1}:!1;return void 0!==window.addEventListener?window.addEventListener(e,t,i):void 0!==document.attachEvent&&document.attachEvent("on"+e,t)},o.objAddEventListener=function(e,t,n,i){return i=void 0!==i&&i,void 0!==e.addEventListener?e.addEventListener(t,n,i):void 0!==e.attachEvent&&e.attachEvent("on"+t,n)},o.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},o.getEventUrl=function(){return e.config.eventUrl||(e.lastRequest?e.lastRequest.url:o.getWindow().location.href)},o.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")},o.isFirefox=function(){return"undefined"!=typeof InstallTrigger},o.makeUUID=function(){return"pid=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)})},o.now=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?Math.round(performance.timing.navigationStart+performance.now()):(new Date).getTime()}}(),function(r){"use strict";function a(e,t,n){return 1===arguments.length?a.get(e):a.set(e,t,n)}var e;r.Cookies=(e=r.util.getWindow(),a._document=e.document,a._cacheKeyPrefix="cookey.",a._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),a.defaults={path:"/",secure:!1},a.get=function(e){return a._renewCache(),a._cache[a._cacheKeyPrefix+e]},a.getJSON=function(e){e=a.get(e);return void 0===e?e:r.JSON.parse(e)},a.set=function(e,t,n){(n=a._getExtendedOptions(n)).expires=a._getExpiresDate(void 0===t?-1:n.expires);try{a._document.cookie=a._generateCookieString(e,t,n)}catch(e){r.console.log(e)}return a},a.setJSON=function(e,t,n){return a.set(e,r.JSON.stringify(t),n),a},a.extendExpiry=function(e,t){var n=a.get(e);if(void 0===n)return!1;a.set(e,n,t)},a.expire=function(e,t){if(e.constructor!==Array)return a.set(e,void 0,t);for(var n=0;n<e.length;n++)a.set(e[n],void 0,t)},a._getExtendedOptions=function(e){return{path:e&&e.path||a.defaults.path,domain:e&&e.domain||a.defaults.domain,expires:e&&e.expires||a.defaults.expires,secure:(e&&void 0!==e.secure?e:a.defaults).secure}},a._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},a._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?a._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!a._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},a._generateCookieString=function(e,t,n){e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);var i=(n=n||{}).domain||r.cookieDomain||a._autoCookieDomain,t=e+"="+t;return t+=n.path?";path="+n.path:"",t+=i?";domain="+i:"",(t+=n.expires?";expires="+n.expires.toUTCString():"")+(n.secure?";secure":"")},a._getCacheFromString=function(e){for(var t={},n=e?e.split("; "):[],i=0;i<n.length;i++){var o,r=a._getKeyValuePairFromCookieString(n[i]);null==r||void 0===t[o=a._cacheKeyPrefix+r.key]&&(t[o]=r.value)}return t},a._getKeyValuePairFromCookieString=function(e){var t=(t=e.indexOf("="))<0?e.length:t,n=e.substr(0,t),t=e.substr(t+1);try{n=decodeURIComponent(n),t=decodeURIComponent(t)}catch(e){return null}return{key:n,value:t}},a._renewCache=function(){try{a._cachedDocumentCookie!==a._document.cookie&&(a._cache=a._getCacheFromString(a._document.cookie),a._cachedDocumentCookie=a._document.cookie)}catch(e){r.console.log(e)}},a._isValidDomain=function(e){var t="cookies.js_dtest",n="1"===a.set(t,1,{domain:e}).get(t);return a.expire(t,{domain:e}),n},a._autoCookieDomain=(a._getAutoCookieDomain=function(){var e=r.util.getWindow().location.hostname;if(!isNaN(parseInt(e.replace(".",""),10)))return a._isValidDomain(e)?e:null;var t=e.split(".");if(1===t.length)return e;for(var n,i=2;i<=t.length;i++){var o=t.slice(-i).join(".");if(a._isValidDomain(o)){n=o;break}}return n||e})(),a)}(this.PARSELY),function(a){"use strict";var e=function(){};e.prototype=function(){function r(e,t,n){return 1===arguments.length?r.get(e):r.set(e,t,n)}r._keyPrefix="pStore-",r._delimiter="|^";try{r._store=a.util.getWindow().localStorage}catch(e){r._store=void 0}return r._baseDomain=null,r._quotaErrors=["NS_ERROR_DOM_QUOTA_REACHED","QUOTA_EXCEEDED_ERR","QuotaExceededError","W3CException_DOM_QUOTA_EXCEEDED_ERR"],r.get=function(t){r._migrateCookie(t);var e=r._store[r._keyPrefix+t];if(void 0!==e){try{e=r._deserialize(e)}catch(e){return console.log("Error deserializing stored data for key "+t),void r.expire(t)}if(void 0!==e.expires){var n=parseInt(e.expires,10);if(!isNaN(n)&&a.util.now()>n)return void r.expire(t)}return e.value}},r.getJSON=function(e){e=r.get(e);return void 0===e?e:a.JSON.parse(e)},r.set=function(t,e,n){var i=r._keyPrefix+t;if(void 0===e)return delete r._store[i],r;n=a.Cookies._getExtendedOptions(n);var o,n=a.Cookies._getExpiresDate(n.expires);void 0!==n&&(n=n.getTime());try{o=r._serialize({value:e,expires:n})}catch(e){return console.log("Error serializing stored data for key "+t),r}try{r._store[i]=o}catch(e){console.log("Error storing data for key "+i+" in localStorage"),-1!==r._quotaErrors.indexOf(e.name)&&console.log("quota exceeded")}return r},r.setJSON=function(e,t,n){return r.set(e,a.JSON.stringify(t),n),r},r.extendExpiry=function(e,t){var n=r.get(e);if(void 0===n)return!1;r.set(e,n,t)},r.expire=function(e,t){return r.set(e,void 0,t)},r._serialize=function(e){return e.value+r._delimiter+e.expires},r._deserialize=function(e){var t=e.split(r._delimiter),e={value:t[0]};return 1<t.length&&(e.expires=t[1]),e},r._migrateCookie=function(e){var t,n,i=a.Cookies.get(e);a.Cookies.expire(e),void 0!==i&&(n={},void 0!==(t=a.ParselyStorage.defaults[e])&&(n.expires=t),r.set(e,i,n))},{constructor:r,get:r.get,getJSON:r.getJSON,set:r.set,setJSON:r.setJSON,extendExpiry:r.extendExpiry,expire:r.expire}}();function t(){}var n,i;t.prototype=(i=new e,n=function(){var e=i._keyPrefix;try{return a.util.getWindow().localStorage.setItem(e,e),a.util.getWindow().localStorage.removeItem(e),1}catch(e){return}}()&&(n=!1,void 0!==(e=a.Cookies.get("_parsely_visitor"))&&"{"!==e.charAt(0)&&(n=!0),a.util.isSafari()||!0===a.use_localstorage&&!n)?i:a.Cookies,{supportsCookies:"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test")),get:n.get,getJSON:n.getJSON,set:n.set,setJSON:n.setJSON,extendExpiry:n.extendExpiry,expire:n.expire,defaults:{visitor:{key:"_parsely_visitor",expires:34164e3,secure:!1},session:{key:"_parsely_session",expires:1800,secure:!1}}}),a.ParselyStorage=new t}(this.PARSELY),function(){var o=this.PARSELY,e=o.Class,r=o.ParselyStorage,a=o.console,s=o.JSON,i=["id"],e=e.extend({init:function(){this.visitorCookieName=o.visitorCookieName||r.defaults.visitor.key,this.visitorCookieTimeoutSecs=o.visitorCookieTimeoutSecs||r.defaults.visitor.expires,this.visitorCookieSecure=o.visitorCookieSecure||r.defaults.visitor.secure,this.legacyVisitorCookieName=o.legacyVisitorCookieName||"parsely_uuid"},getVisitorInfo:function(e){e=e||!1;var t=r.get(this.visitorCookieName);if(void 0===t){var n=r.get(this.legacyVisitorCookieName),i=o.config.apikey_uuid||o.config.uuid;!1!==o.optout_disabled_cookies&&void 0===n&&!1===r.supportsCookies&&(n="OPTOUT",a.log("Setting visitor ID to OPTOUT")),void 0===n&&null!==i?a.log("No existing visitor ID found, using UUID from config: "+(n=i)):a.log("Using existing value for visitor ID: "+n),t=this.initVisitor(n),r.expire("parsely_uuid")}else{n=!1;try{t=s.parse(t),n=!0}catch(e){a.log('Unable to JSON parse visitorInfo "'+t+'", assuming ampid.'),t=this.initVisitor(t)}n&&e&&this.extendVisitorExpiry()}return o.config.parsely_site_uuid=t.id,t},initVisitor:function(e){return this.setVisitorInfo({id:e,session_count:0,last_session_ts:0})},setVisitorInfo:function(e){for(var t=0;t<i.length;t++){var n=i[t];if(void 0===e[n]||null===e[n])return!1}return r.setJSON(this.visitorCookieName,e,{expires:this.visitorCookieTimeoutSecs,secure:this.visitorCookieSecure}),e},extendVisitorExpiry:function(){r.extendExpiry(this.visitorCookieName,{expires:this.visitorCookieTimeoutSecs,secure:this.visitorCookieSecure})}});o.visitorManager=new e}(),function(){var a=this.PARSELY,s=a.util,e=a.Class,u=a.ParselyStorage,c=a.console,l=a.visitorManager,e=e.extend({init:function(){this.windowAlias=s.getWindow(),this.documentAlias=this.windowAlias.document,this.sessionCookieName=a.sessionCookieName||u.defaults.session.key,this.sessionCookieTimeoutSecs=u.defaults.session.expires,this.sessionCookieSecure=a.sessionCookieSecure||u.defaults.session.secure,c.log("Initializing session."),this.getSession(!1)},getSession:function(e){e=e||!1;var t,n,i,o=l.getVisitorInfo(),r=u.getJSON(this.sessionCookieName);return void 0===r?(n=!1===o?(t=1,0):(o.session_count++,t=o.session_count,o.last_session_ts),i=new Date,r={sid:t,surl:s.getEventUrl(),sref:a.lastRequest?a.lastRequest.urlref:this.documentAlias.referrer,sts:i.getTime(),slts:n},c.log("Session expired/never existed, creating new session with "+this.sessionCookieTimeoutSecs+"s timeout: "+a.JSON.stringify(r)),u.setJSON(this.sessionCookieName,r,{expires:this.sessionCookieTimeoutSecs,secure:this.sessionCookieSecure}),o.last_session_ts=r.sts,l.setVisitorInfo(o)):e&&this.extendSessionExpiry(),r},extendSessionExpiry:function(){u.extendExpiry(this.sessionCookieName,{expires:this.sessionCookieTimeoutSecs,secure:this.sessionCookieSecure})}});a.sessionManager=new e}(),function(){var e=this.PARSELY,t=e.util,o=e.JSON,a=e.$,s=t.getWindow().document;PARSELY.getLdJsonMetas=function(){for(var e=s.getElementsByTagName("script"),t=0;t<e.length;t++){var n,i=e[t];if("application/ld+json"===i.getAttribute("type")){try{n=o.parse(i.innerHTML)}catch(e){return null}return{type:"NewsArticle"===n["@type"]?"post":"sectionpage",title:n.headline,link:n.url,image_url:n.thumbnailUrl,pub_date:n.dateCreated,section:n.articleSection,authors:n.creator,tags:n.keywords}}}return null},PARSELY.getRepeatedMetaMetas=function(){for(var e={},t=s.getElementsByTagName("meta"),n={"parsely-title":"title","parsely-link":"link","parsely-image-url":"image_url","parsely-type":"type","parsely-post-id":"post_id","parsely-pub-date":"pub_date","parsely-section":"section","parsely-author":"authors","parsely-tags":"tags"},i=0;i<t.length;i++){var o=t[i],r=n[o.getAttribute("name")];void 0!==r&&(o=o.getAttribute("content"),"authors"===r?void 0===e[r]?e[r]=[o]:e[r].push(o):e[r]="tags"===r?o.split(","):o)}return a.isEmptyObject(e)?null:e},PARSELY.getParselyPageMetas=function(){for(var e=s.getElementsByTagName("meta"),t=0;t<e.length;t++){var n=e[t];if("parsely-page"===n.getAttribute("name")){n=n.getAttribute("value")||n.getAttribute("content");try{return o.parse(n)}catch(e){return null}}}return null},PARSELY.getMetas=function(){return this.getRepeatedMetaMetas()||this.getParselyPageMetas()||this.getLdJsonMetas()}}(),function(){function i(e,t){var i=(t=t||{}).maxHeight||5;return function e(t,n){return t===document||i<=n||!t?null:"A"===t.nodeName?t:e(t.parentNode,n+1)}(e,0)}var s,u=this.PARSELY,e=u.util,o=u.ParselyStorage,c="data-parsely-slot";u.slots=u.slots||{},document.querySelector?(u.slots.discoverSlots=function(){u.slots.hasParselySlots=!!document.querySelector("["+c+"]"),u.slots.discoveryTime=e.now()},u.slots.discoverSlots(),u.slots.reset=function(){u.slots.discoverSlots()},s=1,e.objAddEventListener(document.body,"click",function(e){var t,n=i(e.target||e.srcElement);if(null===n)return!0;!function(e){if(!e||0===e.indexOf("#")||0===e.indexOf("javascript"))return 1;var t=window.location.href;return e===t||0===e.indexOf(t+"#")}(n.getAttribute("href"))&&(t=function(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return[t,n]}(n),e=function e(t){var n=u.slots.hasParselySlots?c:"id";if(null!==t.getAttribute(n))return"//*[@"+n+'="'+t.getAttribute(n)+'"]';if(t===document.body)return"//"+t.tagName.toLowerCase();for(var i=0,o=t.parentNode.childNodes,r=0;r<o.length;r++){var a=o[r];if(a===t)return e(t.parentNode)+"/"+t.tagName.toLowerCase()+"["+(i+1)+"]";a.nodeType===s&&a.tagName===t.tagName&&i++}}(n),n={url:u.util.getEventUrl(),x:t[0],y:t[1],xpath:e,href:(n=n).getAttribute("parsely-target")||n.href},o.setJSON("_parsely_slot_click",n))})):u.console("Slot tracking not supported on this browser")}(),function(s){"use strict";var o,e,u,t=s.$;s.Sampler=(o=s.util.getWindow(),(u={_hasStartedSampling:!1,_accumulators:{},_baseHeartbeatInterval:15e4,_jitterRange:5e3})._jitterFloor=0-u._jitterRange/2,t.isNumeric(s.secondsBetweenHeartbeats)&&(e=u._baseHeartbeatInterval/1e3,t=s.secondsBetweenHeartbeats<e&&!0===o._parselyIsTest,(s.secondsBetweenHeartbeats>e||t)&&(u._baseHeartbeatInterval=1e3*s.secondsBetweenHeartbeats)),u.trackKey=function(e,t,n){var i;void 0!==t&&"function"!=typeof t||void 0===n||(u._accumulators.hasOwnProperty(e)||(i=u._baseHeartbeatInterval,u._accumulators[e]={ms:0,totalMs:0,firstSampleTime:s.util.now(),lastSampleTime:s.util.now(),lastActiveSampleTime:void 0,sampleFn:t,heartbeatFn:n,heartbeatInterval:i,heartbeatTimer:void 0,baseHeartbeatInterval:i}),!1===u._hasStartedSampling&&(o.setInterval(u._sample,100),u._hasStartedSampling=!0),u._setHeartbeatTimeout(e))},u._setHeartbeatTimeout=function(e){var t=u._accumulators[e];void 0!==t.heartbeatTimer&&u._unsetHeartbeatTimeout(e);var n=Math.random()*u._jitterRange+u._jitterFloor,n=t.heartbeatInterval+n;t.heartbeatTimer=o.setTimeout(function(){u.sendHeartbeat(e)},n)},u._unsetHeartbeatTimeout=function(e){e=u._accumulators[e];o.clearTimeout(e.heartbeatTimer),e.heartbeatTimer=void 0},u._backoff=function(e,t){t=.3*((t=void 0===t?s.util.now()-e.firstSampleTime:t)/1e3+35),t=Math.min(36e5,t);e.heartbeatInterval=1e3*t},u.dropKey=function(e){delete u._accumulators[e]},u._sample=function(e,t){var n,i,o,r,a;for(a in e=void 0===e?s.util.now():e,u._accumulators)n=u._accumulators[a],o=e-(void 0===t?n.lastSampleTime:t),i=void 0===n.sampleFn||n.sampleFn(e),s.config.limit_et_sample_len&&(r=0<o&&o<200,i=i&&r),n.ms+=i?o:0,n.totalMs+=i?o:0,n.lastSampleTime=e,i&&(e-n.lastActiveSampleTime>n.baseHeartbeatInterval&&(n.heartbeatInterval=n.baseHeartbeatInterval,u._setHeartbeatTimeout(a)),n.lastActiveSampleTime=e)},u.sendHeartbeat=function(e,t,n,i){var o=u._accumulators[e];void 0!==o&&(t=void 0===t?o.ms/1e3:t,0<(t=Math.round(t))&&t<=3600&&o.heartbeatFn(t,void 0,o.totalMs,i),o.ms=0,i||u._backoff(o,n),u._setHeartbeatTimeout(e))},u._sendHeartbeats=function(e,t){for(var n in u._accumulators)u.sendHeartbeat(n,e,t,!0)},u._setUnloadListeners=function(){s._lifecycle.addEventListener("statechange",function(e){"hidden"===e.newState.toLowerCase()&&u._sendHeartbeats()})},u._setUnloadListeners(),u)}(this.PARSELY),function(){var t,o,e,n,r=this.PARSELY,i=r.config.settings,a=r.Sampler,s=r.$,u=r.util;"boolean"==typeof r.enableHeartbeats&&!r.enableHeartbeats||(t=["active","passive"],o=5,s.isNumeric(r.activeTimeout)&&1<=r.activeTimeout&&r.activeTimeout<=60&&(o=r.activeTimeout),e=u.now(),r.engagedTime=r.engagedTime||{},r._lastEventTime=e,r.isEngaged=!0,r.isInteracting=!0,r.focused=!0,r.videoPlaying=!1,r.ENGAGED_TIME_SAMPLER_KEY="engagedTime",!0===i.test&&(r._handleEngagementActivityCalls=0),!0!==r.fbInstantArticles&&r._lifecycle.addEventListener("statechange",function(e){e=e.newState.toLowerCase();-1!==t.indexOf(e)?r.focused=!0:r.focused=!1}),n=function(){r._lastEventTime=u.now(),!0===i.test&&r._handleEngagementActivityCalls++},!0!==r.fbInstantArticles?s.each(["focus","mousedown","mouseup","mousemove","scroll","keyup","keydown"],function(e,t){u.windowAddEventListener(t,n)}):setInterval(n,1e3*o),r.engagedTime.getParams=function(){return{minActiveTimeout:1,maxActiveTimeout:60,activeTimeout:o}},r.engagedTime.sample=function(e,t,n,i){return e=void 0===e?u.now():e,t=void 0===t?r._lastEventTime:t,n=void 0===n?r.videoPlaying:n,i=void 0===i?r.focused:i,r.isInteracting=e-t<1e3*o,r.isEngaged=r.isInteracting&&i||n,r.isEngaged},r.engagedTime.sendHeartbeat=function(e,t,n,i){e=void 0===e?0:e,i=void 0!==i&&i,void 0!==(t=void 0===t?r.enableHeartbeats:t)&&!0!==t||!0===r.config.heartbeat_should_honor_autotrack&&!r.autotrack||(PARSELY.beacon.pixel.beacon({date:(new Date).toString(),action:"heartbeat",inc:e,tt:n,url:u.getEventUrl(),urlref:r.lastRequest?r.lastRequest.urlref:u.getWindow().document.referrer},void 0,i),s.isFunction(r.onHeartbeat)&&r.onHeartbeat(e))},r.engagedTime.startTracking=function(){var e=!0===r.fbInstantArticles?void 0:r.engagedTime.sample;a.trackKey(r.ENGAGED_TIME_SAMPLER_KEY,e,r.engagedTime.sendHeartbeat)},r.engagedTime.stopTracking=function(){a.dropKey(r.ENGAGED_TIME_SAMPLER_KEY)},r.engagedTime.initNewPage=function(){r.engagedTime.stopTracking(),r.engagedTime.startTracking()},r.engagedTime.startTracking())}(),function(){var c=this.PARSELY,l=c.$,e=c.Class,d=c.JSON,n=c.console,f=c.config,p=c.urls,g=c.visitorManager,h=c.sessionManager,o=c.ParselyStorage,i=c.util.getWindow(),r=i.document,a=i.screen;PARSELY.Pixel=e.extend({init:function(){var e=c.util.getEventUrl(),t=a.width+"x"+a.height+"|"+a.availWidth+"x"+a.availHeight+"|"+a.colorDepth;this.correlationIds={pageview:"pvid",videostart:"vsid"},this.callbackName="parselyStartCallback",this.data={idsite:f.apikey,url:e,urlref:r.referrer,screen:t,data:{}},f.hasOwnProperty("is_remote_config")&&!0!==f.is_remote_config||(this.data.data.parsely_uuid=f.network_uuid||f.uuid,this.data.data.parsely_site_uuid=f.parsely_site_uuid),this.remoteEndpoint=p.pixel+this.selectEndpoint(),this.thirdPartyBlockedCookieSettings={name:"_parsely_tpa_blocked",timeoutSecs:43200,flagAttribute:"tpab"}},selectEndpoint:function(){return!1===f.track_ip_addresses?"/px/":"/plogger/"},isThirdPartyAnalyticsBlocked:function(){if(c.is_first_party){var n,e,i=this.thirdPartyBlockedCookieSettings,t=o.getJSON(i.name);return void 0!==t&&(this.third_party_analytics_is_blocked=t[i.flagAttribute]),void 0===this.third_party_analytics_is_blocked&&void 0===this.third_party_analytics_checked&&(this.third_party_analytics_checked=!0,n=this,e=function(e){n.third_party_analytics_is_blocked=e;var t={};t[i.flagAttribute]=e,o.setJSON(i.name,t,{expires:i.timeoutSecs})},(t=new Image).onerror=function(){e(!0)},t.onload=function(){e(!1)},t.src="https://p1.parsely.com/plogger/"),this.third_party_analytics_is_blocked}},addDefaults:function(e){l.extend(!0,this.data,e)},shouldGenerateVisitorID:function(e){return!(!f.hasOwnProperty("is_remote_config")||!0===f.is_remote_config||e)},saveVisitorID:function(e){var t=h.getSession(),t={id:e,session_count:t.sid,last_session_ts:t.sts};o.setJSON(g.visitorCookieName,t,{expires:g.visitorCookieTimeoutSecs,secure:g.visitorCookieSecure}),h.getSession()},generateVisitorID:function(){f.uuid=c.util.makeUUID(),this.saveVisitorID(f.uuid)},sendEvent:function(e,t){n.log("beaconing to endpoint: "+this.remoteEndpoint),e.u=t,(new Image).src=this.buildEventRequestUrl(e),l.isFunction(c.onBeacon)&&c.onBeacon(e)},requestFetch:function(e,t){return n.log("fetching endpoint: "+this.remoteEndpoint),void 0!==i.fetch&&(e.u=t,fetch(this.buildEventRequestUrl(e),{method:"GET",mode:"no-cors",keepalive:!0}).catch(function(e){n.log(e)}),l.isFunction(c.onBeacon)&&c.onBeacon(e),!0)},buildEventRequestUrl:function(e){e=l.param(e);return this.remoteEndpoint+"?"+e},generatePageloadId:function(){return void 0===c.pageload_id&&(c.pageload_id=Math.floor(99999999*Math.random())),c.pageload_id},getCorrelationIdKey:function(e){return"_"+e+"_correlation_id"},generateEventCorrelationId:function(e,t){e=this.getCorrelationIdKey(e);return!0===t&&(c[e]=Math.floor(99999999*Math.random())),c[e]},beacon:function(e,t,n){var i,o,r=h.getSession(!0),a=c.util.now(),s=this.generatePageloadId()||0,u=l.extend(!0,{rand:a,plid:s},this.data,r,e),e=c.visitorManager.getVisitorInfo();for(o in!0===this.isThirdPartyAnalyticsBlocked()&&(u.tpab=1,u.data.flashlight=1),g.extendVisitorExpiry(),this.correlationIds)void 0!==(i=this.generateEventCorrelationId(o,o===u.action))&&(u[this.correlationIds[o]]=i);u.data=d.stringify(u.data),!0!==t&&(PARSELY.lastRequest=u),f.uuid=e.id,this.shouldGenerateVisitorID(e.id)&&this.generateVisitorID(),!0===n&&(c.util.isFirefox()||c.util.isSafari())&&(n=!1),this.remoteEndpoint=p.pixel+this.selectEndpoint();e=!1;!1===(e=!0===n?this.requestFetch(u,f.uuid):e)&&this.sendEvent(u,f.uuid)}})}(),function(){var o=this.PARSELY,r=o.$,a=o.console,e=o.Class,s=o.JSON,u=o.ParselyStorage,c=o.util.getWindow().document;PARSELY.Beacon=e.extend({init:function(){this.pixel=new PARSELY.Pixel},trackPageView:function(e,t){void 0!==e&&void 0!==e.action&&"pageview"!==e.action||o.initNewPage(!1);var n={title:c.title,date:(new Date).toString(),action:"pageview",url:o.util.getEventUrl(),urlref:c.referrer};o.hasOwnProperty("metadata")&&(n.hasOwnProperty("metadata")?n.metadata=s.stringify(r.extend(n.metadata,o.metadata.get())):n.metadata=s.stringify(o.metadata.get()));var i=u.getJSON("_parsely_slot_click");i&&(u.expire("_parsely_slot_click"),a.log("Valid slot click found"),n.sl_xp=i.xpath,n.sl_x=i.x,n.sl_y=i.y,n.sl_h=i.href,i.url!==n.urlref&&a.log("urlref overridden by slot data as "+i.url),n.urlref=i.url),e&&r.extend(n,e),this.pixel.beacon(n,t)},trackConversion:function(e){window.console.warn("[WARN] `PARSELY.beacon.trackConversion()` is being deprecated."),window.console.warn("[WARN] Please consult https://www.parse.ly/help/integration/conversions/ to update to the new Conversions js-API.");var t=["active","lead","customer"],n={label:void 0};e&&e.category?-1===t.indexOf(e.category)?a.log("'"+e.category+"' is not a valid conversion category; must be one of: "+t.join(", ")):(r.extend(n,e),this.trackPageView({action:"conversion",data:{_conversion_type:e.category,_conversion_label:e.label}})):a.log("No category specified; category required for conversion events")},start:function(){this.startTime=o.util.now(),this.autotrack=void 0===PARSELY.autotrack||PARSELY.autotrack,this.autotrack?(a.log("autotrack enabled; doing automatic pageview beacon"),this.trackPageView()):a.log("autotrack disabled; beacon loaded but no data sent")}})}(),function(){var e,t,n,i,o=PARSELY.config.settings,r=PARSELY.console,a=PARSELY.$;if(PARSELY.updateDefaults=function(e){return PARSELY.beacon.pixel.addDefaults(e)},PARSELY.setConfigOptions=function(e){e.hasOwnProperty("track_ip_addresses")&&(PARSELY.config.track_ip_addresses=e.track_ip_addresses)},PARSELY.initNewPage=function(e){"undefined"!=typeof PARSELY&&(void 0!==PARSELY.Sampler&&"function"==typeof PARSELY.Sampler._sendHeartbeats&&PARSELY.Sampler._sendHeartbeats(),void 0!==PARSELY.engagedTime&&"function"==typeof PARSELY.engagedTime.initNewPage&&PARSELY.engagedTime.initNewPage(),void 0!==PARSELY.video&&"function"==typeof PARSELY.video.clear&&PARSELY.video.clear(),void 0!==PARSELY.slots&&"function"==typeof PARSELY.slots.reset&&PARSELY.slots.reset(),void 0!==PARSELY.lastRequest&&delete PARSELY.lastRequest,!1!==e&&void 0!==PARSELY.beacon&&"function"==typeof PARSELY.beacon.start&&PARSELY.beacon.start(),PARSELY.autotrack&&PARSELY.video&&!1!==PARSELY.video.autotrack&&"function"==typeof PARSELY.video.detectVideos&&PARSELY.video.detectVideos())},PARSELY.onStart=function(e){"function"==typeof e&&e()},PARSELY.isFlashlight=function(){return PARSELY.beacon.pixel.isThirdPartyAnalyticsBlocked()},o.tracker&&(r.log("tracker enabled, create Beacon"),e=new PARSELY.Beacon,PARSELY.beacon=e),void 0!==PARSELY._stubs)for(t in PARSELY._stubs)if(PARSELY._stubs.hasOwnProperty(t)&&"function"==typeof PARSELY[t])for(n=0;n<PARSELY._stubs[t].length;n++)PARSELY[t].apply(null,PARSELY._stubs[t][n]);void 0!==e&&(e.start(),a.isFunction(PARSELY.onReady)&&PARSELY.onReady());try{"undefined"!=typeof Storage&&localStorage.getItem("parsely-overlay")&&((i=document.createElement("script")).setAttribute("src","https://dash.parsely.com/static/build/overlay.js?v="+PARSELY.util.now()),document.body.appendChild(i))}catch(e){PARSELY.console.log(e)}}(),function(){var e=PARSELY.onload,t=PARSELY.console;if("function"==typeof e)try{e()}catch(e){t.dir({info:"hook threw exception",error:e})}t.log("Final load stage completed successfully"),PARSELY.loaded=!0}();
